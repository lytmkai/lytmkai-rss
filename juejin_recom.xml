<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æ€ä¹ˆè®¾è®¡ä¸€ä¸ªåŠ å¯†è´§å¸ è°æœ‰æƒåˆ©å‘è¡Œæ•°å­—è´§å¸ æ€ä¹ˆé˜²æ­¢double spending attack æ€ä¹ˆéªŒè¯äº¤æ˜“åˆæ³•æ€§ é“¸å¸äº¤æ˜“..]]></title>    <link>https://juejin.cn/post/7580184249908314154</link>    <guid>https://juejin.cn/post/7580184249908314154</guid>    <pubDate>2025-12-05T10:55:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908314154" data-draft-id="7579934463591120932" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ€ä¹ˆè®¾è®¡ä¸€ä¸ªåŠ å¯†è´§å¸ è°æœ‰æƒåˆ©å‘è¡Œæ•°å­—è´§å¸ æ€ä¹ˆé˜²æ­¢double spending attack æ€ä¹ˆéªŒè¯äº¤æ˜“åˆæ³•æ€§ é“¸å¸äº¤æ˜“.."/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T10:55:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ¶‚æ¶‚"/> <meta itemprop="url" content="https://juejin.cn/user/3740972207312249"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ€ä¹ˆè®¾è®¡ä¸€ä¸ªåŠ å¯†è´§å¸ è°æœ‰æƒåˆ©å‘è¡Œæ•°å­—è´§å¸ æ€ä¹ˆé˜²æ­¢double spending attack æ€ä¹ˆéªŒè¯äº¤æ˜“åˆæ³•æ€§ é“¸å¸äº¤æ˜“..
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3740972207312249/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ¶‚æ¶‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:55:42.000Z" title="Fri Dec 05 2025 10:55:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢ç»™ä½ <strong>ç»“åˆæ¦‚å¿µ + åŸç†è§£é‡Š + ç¤ºä¾‹ç±»æ¯” + åœ¨è®¾è®¡åŠ å¯†è´§å¸æ—¶çš„ä½œç”¨</strong>çš„<strong>æ·±åº¦è®²è§£ç‰ˆ</strong>ï¼Œå¸®åŠ©ä½ çœŸæ­£ç†è§£æ¯ä¸ªæ¦‚å¿µå¦‚ä½•å…±åŒæ„æˆâ€œä¸€ä¸ªåŠ å¯†è´§å¸ç³»ç»Ÿâ€ã€‚</p>
<p>å†…å®¹ç»“æ„å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ¯ä¸ªæ¦‚å¿µéƒ½æœ‰ï¼š<strong>å®šä¹‰ â†’ ä¸ºä»€ä¹ˆéœ€è¦ â†’ ä¾‹å­ â†’ åœ¨åŠ å¯†è´§å¸ä¸­çš„ä½œç”¨</strong></li>
<li>å†…å®¹é€»è¾‘è‡ªç„¶è¡”æ¥ï¼ˆä»â€œå¦‚ä½•è®¾è®¡è´§å¸ â†’ å®‰å…¨ â†’ å…±è¯† â†’ åˆ†å¸ƒå¼ç³»ç»Ÿâ€ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-0"><strong>ğŸ“˜ ä¸€ã€æ€ä¹ˆè®¾è®¡ä¸€ä¸ªåŠ å¯†è´§å¸ï¼ˆæ ¸å¿ƒæ¡†æ¶ï¼‰</strong></h2>
<p>è®¾è®¡ä¸€å¥—åŠ å¯†è´§å¸ï¼Œä½ å¿…é¡»è§£å†³ 3 ä¸ªæ ¹é—®é¢˜ï¼š</p>
<ol>
<li><strong>è°æœ‰æƒå‘è¡Œï¼Ÿ</strong>ï¼ˆå‘è¡Œæƒï¼‰</li>
<li><strong>æ€ä¹ˆéªŒè¯äº¤æ˜“ï¼Ÿ</strong>ï¼ˆåˆæ³•æ€§ï¼‰</li>
<li><strong>æ€ä¹ˆè¾¾æˆå…±è¯†ï¼Ÿ</strong>ï¼ˆå…¨ç½‘åŒæ­¥ã€é˜²æ”»å‡»ï¼‰</li>
</ol>
<p>å› æ­¤ï¼Œè®¾è®¡å¸å¿…é¡»åŒ…å«ï¼š</p>
<ul>
<li>è´§å¸å‘è¡Œè§„åˆ™ï¼ˆcoinbase / genesis / monetary policyï¼‰</li>
<li>å»ä¸­å¿ƒåŒ–è´¦æœ¬ï¼ˆåŒºå—é“¾ï¼‰</li>
<li>é˜²åŒèŠ±æœºåˆ¶</li>
<li>åˆ†å¸ƒå¼å…±è¯†æœºåˆ¶ï¼ˆPoW / PoSï¼‰</li>
<li>äº¤æ˜“éªŒè¯é€»è¾‘ï¼ˆç­¾åã€UTXOã€ä½™é¢æ£€æŸ¥ï¼‰</li>
<li>èŠ‚ç‚¹çš„é€šä¿¡ä¸æŠ—æ”»å‡»æœºåˆ¶</li>
</ul>
<p>ä¸‹é¢é€ä¸€æ‹†è§£æ¦‚å¿µã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ğŸ“— äºŒã€è°æœ‰æƒå‘è¡Œæ•°å­—è´§å¸</strong></h2>
<h4 data-id="heading-2"><strong>1ï¸âƒ£ ä¼ ç»Ÿè´§å¸ï¼ˆä¸­å¿ƒåŒ–ï¼‰</strong></h4>
<p>å¤®è¡Œå‘è¡Œã€‚</p>
<h4 data-id="heading-3"><strong>2ï¸âƒ£ åŠ å¯†è´§å¸ï¼ˆå»ä¸­å¿ƒåŒ–ï¼‰</strong></h4>
<p>å‘è¡Œæƒç”± <strong>æ•°å­¦è§„åˆ™</strong> å†³å®šï¼š</p>
<ul>
<li><strong>æ¯”ç‰¹å¸å‘è¡Œè€…ï¼šçŸ¿å·¥ï¼ˆé€šè¿‡æŒ–çŸ¿ï¼‰</strong></li>
<li>å—å¥–åŠ±ç”±åè®®å†™æ­»ï¼ˆ2110ä¸‡ä¸Šé™ï¼‰</li>
<li>æ–°å¸æ¥è‡ª <strong>coinbase transactionï¼ˆé“¸å¸äº¤æ˜“ï¼‰</strong></li>
</ul>
<p>â¡ï¸ <strong>ç»“è®ºï¼šå‘è¡Œæƒä¸æ˜¯äººå†³å®šï¼Œæ˜¯åè®®å†³å®šã€‚</strong></p>
<hr/>
<h2 data-id="heading-4"><strong>ğŸ“˜ ä¸‰ã€æ€ä¹ˆé˜²æ­¢ Double Spending Attackï¼ˆåŒèŠ±æ”»å‡»ï¼‰</strong></h2>
<p>åŒèŠ±ï¼šåŒä¸€ç¬”é’±è¢«èŠ±ä¸¤æ¬¡ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>Alice æœ‰ 1 BTC
å¥¹åŒæ—¶å‘ Bob å’Œ Carol å„å‘ 1 BTC
å¸Œæœ›ç½‘ç»œä¸åŒæ­¥å¯¼è‡´éƒ½ç¡®è®¤æˆåŠŸã€‚</p>
<h4 data-id="heading-5"><strong>BTC çš„é˜²å¾¡ï¼š</strong></h4>
<h5 data-id="heading-6"><strong>â‘  UTXO æ¨¡å‹</strong></h5>
<p>æ¯ä¸ªè¾“å‡ºåªèƒ½èŠ±ä¸€æ¬¡ï¼ŒèŠ‚ç‚¹ä¼šæ£€æŸ¥ï¼š</p>
<blockquote>
<p>è¯¥UTXOæ˜¯å¦å·²è¢«èŠ±è¿‡ï¼Ÿ</p>
</blockquote>
<h5 data-id="heading-7"><strong>â‘¡ å·¥ä½œé‡è¯æ˜ + æœ€é•¿é“¾è§„åˆ™</strong></h5>
<p>æ”»å‡»è€…å¿…é¡»ï¼š</p>
<ul>
<li>é‡å†™å†å²</li>
<li>è¶…è¿‡å…¨ç½‘ç®—åŠ›</li>
<li>é‡æ–°æŒ–å‡ºæ›´é•¿é“¾</li>
</ul>
<p>éš¾åº¦æé«˜ â†’ æˆæœ¬å·¨å¤§ â†’ æ— æ³•åŒèŠ±</p>
<hr/>
<h2 data-id="heading-8"><strong>ğŸ“™ å››ã€æ€ä¹ˆéªŒè¯äº¤æ˜“åˆæ³•æ€§</strong></h2>
<p>éªŒè¯æµç¨‹ï¼ˆæ¯”ç‰¹å¸ï¼‰ï¼š</p>
<h4 data-id="heading-9"><strong>â‘  ç­¾åéªŒè¯ï¼ˆèº«ä»½åˆæ³•ï¼‰</strong></h4>
<p>æ£€æŸ¥ï¼š</p>
<pre><code class="hljs">äº¤æ˜“è¾“å…¥å¼•ç”¨çš„å…¬é’¥ + ç­¾å æ˜¯å¦åŒ¹é…ï¼Ÿ
</code></pre>
<p>è°çš„å¸ â†’ è°çš„ç§é’¥ â†’ æ‰èƒ½èŠ±ã€‚</p>
<h4 data-id="heading-10"><strong>â‘¡ UTXO æ˜¯å¦å­˜åœ¨ï¼ˆä½™é¢åˆæ³•ï¼‰</strong></h4>
<p>è¾“å…¥å¼•ç”¨çš„UTXOå¿…é¡»å­˜åœ¨ä¸”æœªèŠ±è´¹ã€‚</p>
<h4 data-id="heading-11"><strong>â‘¢ è¾“å…¥é‡‘é¢ â‰¥ è¾“å‡ºé‡‘é¢ï¼ˆæ— å‡­ç©ºé€ å¸ï¼‰</strong></h4>
<h4 data-id="heading-12"><strong>â‘£ Script è„šæœ¬ï¼ˆé”å®š/è§£é”é€»è¾‘ï¼‰</strong></h4>
<hr/>
<h2 data-id="heading-13"><strong>ğŸ“˜ äº”ã€é“¸å¸äº¤æ˜“ï¼ˆCoinbase Transactionï¼‰</strong></h2>
<p>è¿™æ˜¯ <strong>æ¯ä¸ªåŒºå—çš„ç¬¬ä¸€ç¬”äº¤æ˜“</strong>ï¼Œç”±çŸ¿å·¥åˆ›å»ºã€‚</p>
<p>åŒ…å«ï¼š</p>
<ul>
<li>åŒºå—å¥–åŠ±ï¼ˆæ–°å¸å‘è¡Œï¼‰</li>
<li>äº¤æ˜“æ‰‹ç»­è´¹ï¼ˆæ¥è‡ªåŒºå—å†…å…¶ä»–äº¤æ˜“ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">coinbase:</span>
  <span class="hljs-attr">input:</span> <span class="hljs-literal">no</span> <span class="hljs-string">previous</span> <span class="hljs-string">output</span>
  <span class="hljs-attr">output:</span> <span class="hljs-string">miner's</span> <span class="hljs-string">address</span> <span class="hljs-string">+</span> <span class="hljs-string">block</span> <span class="hljs-string">reward</span>
</code></pre>
<p>â†’ æ–°å¸äº§ç”Ÿæœºåˆ¶
â†’ æŒ–çŸ¿æ”¶å…¥æ¥æº</p>
<hr/>
<h2 data-id="heading-14"><strong>ğŸ“— å…­ã€Distributed Consensusï¼ˆåˆ†å¸ƒå¼å…±è¯†ï¼‰</strong></h2>
<p><strong>å®šä¹‰ï¼š</strong>
åœ¨æ²¡æœ‰ä¸­å¿ƒæœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œä½¿æ•´ä¸ªç½‘ç»œå¯¹â€œä¸–ç•ŒçŠ¶æ€â€è¾¾æˆä¸€è‡´ã€‚</p>
<p>åŒºå—é“¾ä¸­çš„ä¸€è‡´å†…å®¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>è°çš„ä½™é¢æ˜¯å¤šå°‘ï¼Ÿ</li>
<li>å“ªäº›äº¤æ˜“æœ‰æ•ˆï¼Ÿ</li>
<li>å“ªä¸ªåŒºå—æ˜¯æœ€æ–°çš„ï¼Ÿ</li>
</ul>
<p>BTC ä½¿ç”¨ï¼š</p>
<h4 data-id="heading-15"><strong>PoW + longest chain rule</strong></h4>
<ul>
<li>æœ€éš¾æŒ–çš„é“¾ = æœ€å¯ä¿¡</li>
<li>é¿å…åŒèŠ±</li>
<li>æŠ—æ¶æ„èŠ‚ç‚¹</li>
</ul>
<hr/>
<h2 data-id="heading-16"><strong>ğŸ“˜ ä¸ƒã€Distributed Hash Tableï¼ˆDHTï¼‰</strong></h2>
<p>ä¸æ˜¯æ¯”ç‰¹å¸æ ¸å¿ƒï¼Œä½†å¸¸ç”¨äº P2P ç½‘ç»œå’ŒåŒºå—é“¾é¡¹ç›®ã€‚</p>
<p><strong>å®šä¹‰ï¼š</strong>
ä¸€ç§åˆ†å¸ƒå¼å­˜å‚¨ç»“æ„ï¼Œç”¨å“ˆå¸Œå®šä½æ•°æ®ä½ç½®ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>BitTorrent æŸ¥æ‰¾æ–‡ä»¶å—
Filecoin å­˜å‚¨æ–‡ä»¶ç´¢å¼•</p>
<p>ä½œç”¨ï¼š</p>
<ul>
<li>æ•°æ®åˆ†æ•£å­˜</li>
<li>æ— ä¸­å¿ƒ</li>
<li>é«˜æ‰©å±•æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-17"><strong>ğŸ“• å…«ã€CAP å®šç†ï¼ˆConsistency / Availability / Partition toleranceï¼‰</strong></h2>
<p><strong>åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸‰å¤§å±æ€§ï¼š</strong></p>
<ol>
<li>
<p><strong>Consistencyï¼ˆå¼ºä¸€è‡´æ€§ï¼‰</strong>
æ‰€æœ‰èŠ‚ç‚¹çœ‹åˆ°åŒä¸€ä»½æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>Availabilityï¼ˆå¯ç”¨æ€§ï¼‰</strong>
èŠ‚ç‚¹æŒç»­å¯ä»¥å“åº”è¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>Partition Toleranceï¼ˆåˆ†åŒºå®¹å¿æ€§ï¼‰</strong>
ç½‘ç»œåˆ†è£‚æ—¶ä»å¯è¿è¡Œã€‚</p>
</li>
</ol>
<p>âš ï¸ å®šç†ï¼š<strong>ä¸‰è€…ä¸å¯åŒæ—¶æ»¡è¶³ï¼Œåªèƒ½æ»¡è¶³å…¶ä¸­ä¸¤ä¸ªã€‚</strong></p>
<p>åŒºå—é“¾é€‰æ‹©ï¼š</p>
<blockquote>
<p><strong>AP</strong> â†’ æœ€ç»ˆä¸€è‡´æ€§ï¼ˆeventual consistencyï¼‰</p>
</blockquote>
<p>å› ä¸ºï¼š</p>
<ul>
<li>åŒºå—ä¼ æ’­æœ‰å»¶è¿Ÿ</li>
<li>å…¨ç½‘åªèƒ½åšåˆ°æœ€ç»ˆåŒæ­¥</li>
</ul>
<hr/>
<h2 data-id="heading-18"><strong>ğŸ“˜ ä¹ã€Paxosï¼ˆä¼ ç»Ÿå…±è¯†ç®—æ³•ï¼‰</strong></h2>
<p>Paxos æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è§£å†³ä¸€è‡´æ€§çš„ç»å…¸ç®—æ³•ã€‚</p>
<ul>
<li>ä¸“ä¸ºå°‘é‡èŠ‚ç‚¹è®¾è®¡ï¼ˆä¸€èˆ¬ 3â€“7 å°ï¼‰</li>
<li>ç”¨äºé“¶è¡Œã€æ•°æ®åº“ï¼ˆGoogleã€Zookeeperï¼‰</li>
</ul>
<p>âš ï¸ å¹¶ä¸é€‚ç”¨äºåŠ å¯†è´§å¸ï¼š</p>
<ul>
<li>è¦æ±‚èº«ä»½æ˜ç¡®ï¼ˆåŒºå—é“¾æ˜¯åŒ¿åçš„ï¼‰</li>
<li>è¦æ±‚èŠ‚ç‚¹æ•°é‡ä¸å¤šï¼ˆåŒºå—é“¾èŠ‚ç‚¹å¤šä¸”ä¸å¯ä¿¡ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-19"><strong>ğŸ“™ åã€Membershipï¼ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æˆå‘˜ç®¡ç†ï¼‰</strong></h2>
<p>æŒ‡ï¼š</p>
<ul>
<li>å“ªäº›èŠ‚ç‚¹æ˜¯åˆæ³•æˆå‘˜ï¼Ÿ</li>
<li>å¦‚ä½•åŠ å…¥ï¼Ÿ</li>
<li>å¦‚ä½•è¸¢å‡ºä½œæ¶èŠ‚ç‚¹ï¼Ÿ</li>
</ul>
<p>ä¼ ç»Ÿç³»ç»Ÿï¼šPaxosã€Raft éƒ½éœ€è¦ membership control</p>
<p>æ¯”ç‰¹å¸ï¼š</p>
<blockquote>
<p><strong>è°éƒ½èƒ½åŠ å…¥ï¼Œä¸éœ€è¦è®¸å¯ï¼ˆpermissionlessï¼‰ã€‚</strong></p>
</blockquote>
<p>Membership æ˜¯å…¬å¼€å¼€æ”¾çš„ã€‚</p>
<hr/>
<h2 data-id="heading-20"><strong>ğŸ“˜ åä¸€ã€BTC çš„å…±è¯†æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2>
<p><strong>Proof of Workï¼ˆå·¥ä½œé‡è¯æ˜ï¼‰ + æœ€é•¿é“¾ï¼ˆNakamoto Consensusï¼‰</strong></p>
<p>æ ¸å¿ƒï¼š</p>
<ol>
<li><strong>æŒ–çŸ¿ = æŠ•å…¥ç®—åŠ›è¯æ˜è¯šå®</strong></li>
<li>æœ€é•¿é“¾è§†ä¸ºâ€œçœŸå®å†å²â€</li>
<li>æ”»å‡»è€…è¦ç¯¡æ”¹å†å²å¿…é¡»è¶…è¿‡å…¨ç½‘ç®—åŠ›ï¼ˆå‡ ä¹ä¸å¯èƒ½ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-21"><strong>ğŸ“™ åäºŒã€Sybil Attackï¼ˆå¥³å·«æ”»å‡»ï¼‰</strong></h2>
<p><strong>å®šä¹‰ï¼š</strong>
æ”»å‡»è€…åˆ›å»ºå¤§é‡è™šå‡èº«ä»½æ¥æ§åˆ¶ç³»ç»Ÿã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>åˆ¶é€  1 ä¸‡ä¸ªèŠ‚ç‚¹è¯•å›¾å½±å“å…±è¯†</li>
<li>åœ¨æŠ•ç¥¨ç³»ç»Ÿä¸­ä¼ªé€ å¤§é‡èº«ä»½</li>
</ul>
<p>åŒºå—é“¾å¦‚ä½•é˜²å¾¡ï¼Ÿ</p>
<h4 data-id="heading-22"><strong>æ¯”ç‰¹å¸ï¼šç”¨ PoW æŠ— Sybil</strong></h4>
<p>èº«ä»½æ— æ„ä¹‰ â†’ <strong>ç®—åŠ›æ‰æ˜¯èº«ä»½</strong></p>
<p>ä½ å¼€ 1000 ä¸ªèŠ‚ç‚¹
= ä½ åªæ˜¯æŠŠè‡ªå·±çš„ç®—åŠ›æ‹†æˆ 1000 ä»½
= æ€»ç®—åŠ›ä¸å˜
= æ²¡æ³•å½±å“å…±è¯†</p>
<p>â†’ è¿™æ˜¯ Nakamoto å…±è¯†çš„ä¸€ä¸ªæ ¸å¿ƒä¼˜åŠ¿ã€‚</p>
<hr/>
<h2 data-id="heading-23"><strong>ğŸ“Œ æ€»ç»“ï¼ˆæç®€ï¼‰</strong></h2>








































<table><thead><tr><th>æ¦‚å¿µ</th><th>é—®é¢˜</th><th>è§£å†³æ–¹å¼</th></tr></thead><tbody><tr><td>å‘è¡Œæƒ</td><td>è°èƒ½å°é’±ï¼Ÿ</td><td>Coinbaseï¼ˆçŸ¿å·¥ï¼‰</td></tr><tr><td>åŒèŠ±</td><td>æ€ä¹ˆé˜²æ­¢ä¸€å¸ä¸¤èŠ±ï¼Ÿ</td><td>PoW + æœ€é•¿é“¾ + UTXO</td></tr><tr><td>äº¤æ˜“éªŒè¯</td><td>å¦‚ä½•åˆ¤æ–­äº¤æ˜“æœ‰æ•ˆï¼Ÿ</td><td>ç­¾å + UTXO + Script</td></tr><tr><td>å…±è¯†</td><td>å…¨ç½‘æ€ä¹ˆçœ‹æ³•ä¸€è‡´ï¼Ÿ</td><td>PoWï¼ˆNakamoto Consensusï¼‰</td></tr><tr><td>Sybil æ”»å‡»</td><td>è™šå‡èº«ä»½æ”»å‡»</td><td>ç®—åŠ›è¯æ˜ï¼ˆPoWï¼‰</td></tr><tr><td>CAP</td><td>åˆ†å¸ƒå¼ç³»ç»Ÿé™åˆ¶</td><td>åŒºå—é“¾é€‰æ‹© AP</td></tr></tbody></table>
<hr/>
<p>å¦‚æœä½ éœ€è¦ï¼Œæˆ‘è¿˜å¯ä»¥ï¼š</p>
<p>âœ” ç»˜åˆ¶ <strong>Mermaid æ€ç»´å¯¼å›¾</strong>
âœ” ç»˜åˆ¶ <strong>æµç¨‹å›¾ / åŒºå—é“¾ç»“æ„å›¾ / DHT å›¾</strong>
âœ” ç»Ÿä¸€ç”Ÿæˆ <strong>å¯è§†åŒ– PDF / PNG</strong>
âœ” ç”¨ <strong>æ¯”ç‰¹å¸ä¸ºä¾‹å†™æˆæ•™æ¡ˆ / æ€»ç»“</strong></p>
<p>éœ€è¦ç”Ÿæˆå“ªç§æ ¼å¼ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´12æœˆæœ€æ–°çš„ Google AI One Pro 1å¹´ä¼šå‘˜æ•™è‚²è®¤è¯é€šå…³æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579985751938809890</link>    <guid>https://juejin.cn/post/7579985751938809890</guid>    <pubDate>2025-12-05T11:21:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579985751938809890" data-draft-id="7579949847396368384" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´12æœˆæœ€æ–°çš„ Google AI One Pro 1å¹´ä¼šå‘˜æ•™è‚²è®¤è¯é€šå…³æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-05T11:21:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‘†çƒ‚å·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1552933235470589"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´12æœˆæœ€æ–°çš„ Google AI One Pro 1å¹´ä¼šå‘˜æ•™è‚²è®¤è¯é€šå…³æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1552933235470589/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‘†çƒ‚å·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T11:21:52.000Z" title="Fri Dec 05 2025 11:21:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Gemini 3.0 Pro å‘å¸ƒä¹‹åï¼ŒGoogle AI One Pro çš„æ•™è‚²ä¼˜æƒ 1å¹´æ´»åŠ¨æ—¶é—´åˆå»¶é•¿å•¦ï½</p>
<p>ä¸‹é¢æˆ‘æ•´ç†äº†2025å¹´12æœˆæœ€æ–°çš„æ•™ç¨‹ï¼Œåªè¦ä½ æœ‰ <strong>â€œGeminiæ•™è‚²ä¼˜æƒ éªŒè¯èµ„æ ¼â€</strong> åŸºæœ¬100%é€šè¿‡è®¤è¯ï¼ï¼ï¼</p>
<p><strong>æ•™ç¨‹æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯åŸºæœ¬æ“ä½œä¸‹æ¥åªè¦ 5ï½10 åˆ†é’Ÿå°±å®Œæˆã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46fb8c3304c641d0b44155771160a14f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=9gWkcOZJqEhia%2BP7857tNJkAkXg%3D" alt="" loading="lazy"/></p>
<p>è€Œæœ€æ–°çš„ Gemini æ•™è‚²ä¼˜æƒ è®¤è¯èµ°çš„æ˜¯ <strong>Sheerid è®¤è¯</strong>ï¼Œä¸å†æ˜¯ä»¥å‰çš„æ¥ä¸ªéªŒè¯ç å°±è¡Œçš„ã€‚</p>
<p><strong>é‚£ä¹ˆå¦‚ä½•é€šè¿‡ Google Gemini å­¦ç”Ÿä¼˜æƒ çš„è®¤è¯ï¼š</strong></p>
<ol>
<li>æ€ä¹ˆç¡®è®¤è‡ªå·±çš„è°·æ­Œé‚®ç®±è´¦å·æ˜¯å¦æœ‰éªŒè¯èµ„æ ¼ï¼Ÿ</li>
<li>å¦‚ä½•é€šè¿‡Sheeridè®¤è¯ï¼Ÿ</li>
<li>å¦‚ä½•ç»‘å®šå¡å®Œæˆé¢†å–1å¹´çš„Gemini Pro ä¼šå‘˜ï¼Ÿ</li>
</ol>
<p><strong>å®Œæ•´çš„æ­¥éª¤ï¼š</strong> ç¡®è®¤èµ„æ ¼ -&gt; Sheerid å­¦ç”Ÿè®¤è¯ -&gt; ç»‘å¡å®Œæˆè®¢é˜…ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å¦‚ä½•ç¡®è®¤è‡ªå·±çš„è´¦å·æ˜¯å¦æœ‰éªŒè¯èµ„æ ¼ï¼Ÿ</h2>
<p>ä½ è¦è·å¾— 1å¹´çš„ Gemini Pro æ•™è‚²ä¼˜æƒ ä¼šå‘˜ï¼Œé¦–å…ˆéœ€è¦ç¡®è®¤è‡ªå·±æ˜¯å¦æœ‰éªŒè¯èµ„æ ¼ã€‚</p>
<p>ä¹Ÿå°±æ˜¯ä½ å¾—æœ‰é—¨ç¥¨ï¼Œä½ æ²¡æœ‰é—¨ç¥¨ï¼Œè°·æ­Œå°±æ— æ³•è¿›è¡Œæ£€éªŒé—¨ç¥¨ä¿¡æ¯ã€‚</p>
<blockquote>
<p><strong>éªŒè¯åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgoo.gle%2Ffreepro" target="_blank" title="https://goo.gle/freepro" ref="nofollow noopener noreferrer">goo.gle/freepro</a></p>
</blockquote>
<p>æ‰“å¼€ä¸Šé¢çš„éªŒè¯åœ°å€ä¹‹åï¼Œå¦‚æœä½ çš„é¡µé¢æ˜¾ç¤ºä¸‹æ–¹è¿™ç§æç¤ºçš„è¯ï¼Œå¤§æ¦‚ç‡æ˜¯IPé—®é¢˜ï¼Œä½ å¯ä»¥åˆ‡æ¢åˆ°ç¾åŒºIPæˆ–è€…æ–°åŠ å¡ä¹‹ç±»çš„è¯•è¯•ã€‚</p>
<p>å¦‚æœè¿˜æ˜¯æŠ¥æ— æ³•è®¢é˜…ï¼Œå¤§æ¦‚ç‡ä½ çš„è´¦å·å…³è”åˆ°å›½å†…ä¿¡æ¯ï¼Œæ— æ³•è¿›è¡ŒéªŒè¯äº†ï¼Œè¿™ç§æƒ…å†µåŸºæœ¬æ— è§£ï¼Œä½ å¯ä»¥ç›´æ¥å»æ³¨å†Œæ–°å·å°è¯•ï¼</p>
<h4 data-id="heading-1">ç¬¬ä¸€ç§ï¼šæ— èµ„æ ¼ï¼Œä½†å¯èƒ½æ˜¯IPé—®é¢˜çš„æƒ…å†µï¼š</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a5539ad19074477926368b49064eaa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=ONjcTdFgHvQXDZTxcNjaHhLWzqc%3D" alt="ä¸ç¬¦åˆèµ„æ ¼æç¤º" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1b0732397b14306b454e9336c1ff826~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=EaqQo78RPWcZgImEgib8AWtFBto%3D" alt="ä¸ç¬¦åˆèµ„æ ¼æç¤º" loading="lazy"/></p>
<p><strong>ä¸ºäº†æ›´å¥½ç¡®è®¤æ˜¯å¦æ˜¯IPé—®é¢˜</strong>ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯å¯ä»¥æŸ¥çœ‹ä½ æ˜¯<strong>å¦èƒ½è®¢é˜… Youtube çš„ä¼šå‘˜</strong>ï¼Œå¦‚æœæ— æ³•è®¢é˜…ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡æ˜¯ä½ çš„IPé—®é¢˜ã€‚</p>
<blockquote>
<p><strong>Youtube è®¢é˜…åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fyoutube.com%2Fred" target="_blank" title="https://youtube.com/red" ref="nofollow noopener noreferrer">youtube.com/red</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfad5c550d32496f917f2bc5ad208219~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=iHrzB%2FtmI1WEFDKCulMyR2XL7fA%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æ˜¯ä½¿ç”¨äº†æ•™è‚²é‚®ç®±ï¼Œä¹Ÿå°±æ˜¯å­¦æ ¡åˆ†é…çš„æ•™è‚²é‚®ç®±è¿›è¡Œç™»å½•çš„è°·æ­Œï¼Œä¹Ÿæ˜¯æ— æ³•è¿›è¡ŒéªŒè¯çš„ã€‚</p>
<p>æˆ‘ä½¿ç”¨äº†å‡ ç§åç¼€çš„æ•™è‚²é‚®ç®±è¿›è¡Œæµ‹è¯•ï¼š<code>.edu</code>ã€<code>.edu.uk</code>ã€<code>edu.ac</code> ç›´æ¥ç™»å½•è°·æ­Œé‚®ç®±ï¼Œè‚¯å®šæ— èµ„æ ¼çš„ã€‚</p>
<blockquote>
<p>å¦å¤–ï¼Œä½ éƒ½æœ‰äº†æ•™è‚²é‚®ç®±ï¼Œå¯ä»¥æ‹¿ä¸€ä¸ªå…¶ä»–çš„è°·æ­Œé‚®ç®±æœ‰éªŒè¯èµ„æ ¼çš„ï¼Œè¿›è¡Œå…³è”ä½ çš„æ•™è‚²é‚®ç®±è¿›è¡ŒSSOç™»å½•æˆæƒï¼Œå°±å¯ä»¥è¿›è¡Œè®¤è¯æˆåŠŸå‘€ï¼</p>
</blockquote>
<h4 data-id="heading-2">ç¬¬äºŒç§ï¼šç›´æ¥æ— èµ„æ ¼</h4>
<p>å½“ä½ æ‰“å¼€æ´»åŠ¨é¡µé¢å‡ºç°å…³é”®è¯ï¼š<strong>â€œThis offer is not availableâ€</strong> æˆ–è€… <strong>â€œæ— æ³•äº«å—æ­¤ä¼˜æƒ â€</strong> åŸºæœ¬æ˜¯è´¦å·æ²¡æœ‰éªŒè¯èµ„æ ¼ï¼Œè¿™ç§æƒ…å†µæ— éœ€æŠ˜è…¾ã€‚</p>
<p><strong>å‡ºç°è¿™ä¸ªçš„å¯èƒ½æ€§æœ‰è¿™å‡ ç‚¹ï¼š</strong></p>
<ol>
<li>æ³¨å†Œè°·æ­Œé‚®ç®±æ—¶ï¼Œè¿›è¡Œç»‘å®šäº†å›½å†…+86æ‰‹æœºå·ç </li>
<li>æ³¨å†Œè°·æ­Œé‚®ç®±æ—¶ï¼Œä½¿ç”¨äº†å›½å†…èŠ‚ç‚¹æˆ–è€…å…¶ä»–æ²¡æœ‰ä¼˜æƒ çš„èŠ‚ç‚¹</li>
<li>ä½ çš„è´¦å·å·²ç»å¼€é€šè¿‡ Gemini Proï¼Œæˆ–è€…ä¹‹å‰å¼„äº†å…¶ä»–ä¼˜æƒ </li>
</ol>
<p>å‡ºç°è¿™ç§æƒ…å†µçš„è¯ï¼Œå°±ç®—ä½ æŠ•æœºå–å·§è®©å®ƒæ¢å¤äº†å¯ä»¥éªŒè¯çš„èµ„æ ¼ï¼Œä¹Ÿå¯èƒ½ä¼šåœ¨é€šè¿‡ä¹‹åï¼Œç›´æ¥æ— æ³•ç»‘å¡è®¢é˜…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c0c2f20648248e1a331c6d33f5a245d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=3StQ5%2Bmb8h7fNGhoJBddI1XWU0I%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30c52e7cceaa4a88816cbe1bc19cd332~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=Bopf4llFHTPSIb1g5UVGlUwHPIY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">ç¬¬ä¸‰ç§ï¼šå¹½çµèµ„æ ¼</h4>
<p>è¿™ç§å¹½çµèµ„æ ¼çš„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è°·æ­Œçš„é—®é¢˜ï¼Œä¸€å¼€å§‹æœ‰éªŒè¯èµ„æ ¼ï¼Œç»“æœåˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œå”°äº†ä¸€ä¸‹ï¼Œæ— éªŒè¯èµ„æ ¼ã€‚</p>
<p>æˆ–è€…æ˜¯ä½ è®¤è¯æˆåŠŸäº†ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥çš„ç»‘å¡è®¢é˜…æ—¶ï¼Œå‡ºç°äº†æ— æ³•è®¢é˜…çš„æƒ…å†µã€‚</p>
<p>ä½†æ˜¯è¿™ç§æƒ…å†µçš„<strong>æ¦‚ç‡éå¸¸ä½</strong>ï¼Œå¦‚æœå‡ºç°äº†ï¼Œæ¢æ–°å·å°±è¡Œï¼Œè¿‡å‡ å¤©åå†å›æ¥çœ‹çœ‹ï¼Œå¯èƒ½å°±æ¢å¤äº†ã€‚</p>
<h4 data-id="heading-4">ç¬¬å››ç§ï¼šå¾ªç¯èµ„æ ¼</h4>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå¾ªç¯è·å–æœ€æ–°çš„Sheeridé“¾æ¥æ—¶ï¼Œä½ å‡ºç°äº†è¿™ä¸ªé¡µé¢ï¼Œå¹¶ä¸”ä½ æ‰“å¼€äº† <code>goo.gle/freepro</code> ä¹‹åï¼Œç‚¹å‡»è·å–ä¼˜æƒ åˆæ‰åˆ°è¿™ä¸ªé¡µé¢ã€‚</p>
<p>çŒœæµ‹æ˜¯è°·æ­Œçš„BUGï¼Œå‡ºç°äº†æ­»å¾ªç¯äº†ã€‚<strong>ä½ å¯ä»¥é€šè¿‡æ— ç—•æµè§ˆå™¨é‡æ–°ç™»å½•è´¦å·æµ‹è¯•çœ‹çœ‹ã€‚</strong></p>
<p>å¦‚æœæ²¡æœ‰æ¢å¤ï¼Œè¿‡å‡ å¤©å†çœ‹çœ‹ï¼Œæˆ–è€…å¼„ä¸ªæ–°å·è¿›è¡ŒéªŒè¯ï¼Œå› ä¸ºå®ƒä¸ä¸€å®šä¼šæ¢å¤ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/403c0a4855a6404b94856cbfab18265b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=BKXpJXHFQZ%2BGofPusTUd2PePB9I%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53cd27933bcd482292b1f13f7a638ab0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=nan7ySMQhGWHKGCNVR1u96dZPDY%3D" alt="" loading="lazy"/></p>
<p>å‡ºç°è¿™ç§å¾ªç¯èµ„æ ¼çš„æ ¹æœ¬åŸå› æ˜¯ï¼š<strong>è°·æ­Œä¸å†ç»™ä½ è´¦å·åˆ†é…è®¤è¯çš„IDï¼Œä¹Ÿå°±æ˜¯verificationIdã€‚</strong></p>
<p>ä¸å†ä¸‹å‘IDï¼Œæœ‰ä¸€ç§çŒœæµ‹ï¼Œå¯èƒ½æ˜¯ä½ çš„æ¡æ¬¾å½±å“ã€‚å°±æ˜¯ä½ æ³¨å†Œçš„è´¦å·æ—¶ï¼Œå½’å±åœ°çš„æ´»åŠ¨å¯èƒ½ç»“æŸäº†ã€‚</p>
<blockquote>
<p>æŸ¥è¯¢è°·æ­Œè´¦å·æ³¨å†Œåœ°åŒºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpolicies.google.com%2Fterms" target="_blank" title="https://policies.google.com/terms" ref="nofollow noopener noreferrer">policies.google.com/terms</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f16ac2edd8641d9beb8e06cb09e8b27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=8SW%2FXrrBI5bQEmTb1ZztunarNoo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5"><strong>æœ€åä¸€ç§ï¼šæœ‰èµ„æ ¼ï¼</strong></h4>
<p>å½“ä½ æ‰“å¼€æ•™è‚²ä¼˜æƒ è®¤è¯çš„é¡µé¢æ—¶ï¼Œå‡ºç°ä¸‹å›¾è¿™ç§è¡¨æ ¼çŠ¶æ€ï¼Œå°±æ˜¯æœ‰éªŒè¯èµ„æ ¼ï¼</p>
<p>å¦‚æœè‡ªå·±æœ‰æ•™è‚²é‚®ç®±ï¼Œå¯ä»¥è‡ªå·±å¡«å†™åè¿›è¡ŒSSOç™»å½•æˆæƒè®¤è¯ã€‚</p>
<p>æ²¡æœ‰çš„è¯ï¼Œå¯ä»¥çœ‹ä¸‹é¢æ•™ç¨‹ï¼Œå¯ä»¥é€šè¿‡ <strong>Sheeridä¸€é”®è®¤è¯ç³»ç»Ÿ</strong> è¿›è¡Œè·å– 1å¹´çš„ Gemini Pro ä¼šå‘˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/026886cdf6364be5afc86eb22cd0222e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=VduUgrYKZYZQa8ddXvRFDLEURvM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">äºŒã€å¦‚ä½•é€šè¿‡Sheeridè®¤è¯ï¼Ÿ</h2>
<p>çœ‹åˆ°è¿™é‡Œçš„ä¼™ä¼´ï¼Œå¤§éƒ¨åˆ†æ˜¯æœ‰éªŒè¯èµ„æ ¼çš„ï¼Œé‚£ä¹ˆå¯ä»¥è·å– Sheerid é“¾æ¥è¿›è¡Œè®¤è¯ã€‚</p>
<p><strong>æ²¡æœ‰æ•™è‚²é‚®ç®±çš„è¯ï¼Œä¹Ÿä¸ç”¨æ€¥ï¼Œæœ‰ä¸“é—¨çš„ä¸€é”®è®¤è¯ç³»ç»Ÿï¼Œè¯·è€å¿ƒçœ‹å®Œæ•™ç¨‹ï¼</strong></p>
<h4 data-id="heading-7">1ã€è·å– Sheerid é“¾æ¥ï¼š</h4>
<p>æ‰“å¼€æ´»åŠ¨åœ°å€ï¼š<code>https://gemini.google/students/</code> ç‚¹å‡» <code>Get offer</code> å°±å¯ä»¥è¿›å…¥åˆ°è·å–éªŒè¯é“¾æ¥åˆ°é¡µé¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a68cccdbc87f4944a94b81ad78e64724~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=km0og1IqWBgTVVLeaQfwISQyc%2Bg%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡» <code>verify eligibility</code> æˆ–è€… <code>éªŒè¯èµ„æ ¼</code> ä¹‹åå°±å¯ä»¥è·å–åˆ°ä¸€æ¡ Sheerid é“¾æ¥ï¼Œå®ƒä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ï¼Œä¹Ÿå°±æ˜¯è¡¨æ ¼é¡µé¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8aebaf8a8d1246e9b3b40319845f4a76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=RHjXzM9jqP%2BGzmta8yrpyJBv9Hc%3D" alt="" loading="lazy"/></p>
<p>æ‰“å¼€çš„é¡µé¢ï¼Œ<strong>æµè§ˆå™¨çš„å¯¼èˆªé‡Œé¢çš„åœ°å€å°±æ˜¯ Sheerid é“¾æ¥ï¼ï¼ï¼</strong>ï¼Œè¿™ä¸ªé“¾æ¥å¸¦ç€è°·æ­Œåˆ†é…å¥½çš„ <code>verificationId</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56e07f27d3fc4fd7a108ebed6bfab9b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=Q39oT9pwV%2Fd8TMAscoyaZ45BSkE%3D" alt="" loading="lazy"/></p>
<p>å¤åˆ¶è¿™æ¡é“¾æ¥ï¼Œæ‰“å¼€ä¸“é—¨çš„ <strong>Sheerid ä¸€é”®è®¤è¯ç³»ç»Ÿ</strong> ç²˜è´´è¿›å»å³å¯ã€‚</p>
<blockquote>
<p><strong>Sheerid ä¸€é”®è®¤è¯ç³»ç»Ÿ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsheerid-one.pages.dev" target="_blank" title="https://sheerid-one.pages.dev" ref="nofollow noopener noreferrer">sheerid-one.pages.dev</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d12cc11576b54943b4daf10cd37d5d74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=11hPLajN5uUt6J3eaSCscn5LA7I%3D" alt="" loading="lazy"/></p>
<p>æŠŠä½ çš„ <strong>Sheerid é“¾æ¥</strong> ç²˜è´´è¿›æ¥ï¼Œä¼šè‡ªåŠ¨è¯†åˆ«å½“å‰çš„éªŒè¯IDï¼Œç‚¹å‡»æäº¤ä¹‹åï¼Œç­‰å¾…1ï½2åˆ†é’Ÿå°±å®Œæˆè®¤è¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ca2570a51fb48e88f17c132661febaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=Ay8EqetuIXQMa%2Bqi1U035F6oUIo%3D" alt="" loading="lazy"/></p>
<p>åŸºæœ¬éƒ½èƒ½é€šè¿‡è®¤è¯ï¼Œåªè¦è®¤è¯æˆåŠŸäº†ï¼Œå›åˆ°sheeridé“¾æ¥é¡µé¢ï¼Œåˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œå°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„ç»“æœï¼ŒåŸºæœ¬åŒæ­¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a758c883d8f24d52b4b0e1e744a4a123~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=zQUnBZWrW0H%2B%2B%2BpMchGJIJefUR4%3D" alt="" loading="lazy"/></p>
<p>è®¤è¯æˆåŠŸä¹‹åï¼Œä½ å›åˆ°ä½ ä¹‹å‰çš„é¡µé¢ï¼Œåˆ·æ–°ä¹‹åå°±å¯ä»¥çœ‹åˆ° <code>You've been verified</code> çš„çŠ¶æ€ã€‚</p>
<p>ä¸‹ä¸€æ­¥å°±æ˜¯ç‚¹å‡» <code>Get Google AI Pro</code> è¿›è¡Œç»‘å¡å°±å¯ä»¥å®Œæˆè®¢é˜…</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c359b743358547618fcce614cf7ca9ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=oGm5FjcxNjCFJO0mTxcXHBI587c%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">2ã€éªŒè¯å¤±è´¥çš„å‡ ç§æƒ…å†µ</h4>
<p>æœ‰éªŒè¯èµ„æ ¼ï¼Œä¹Ÿå¯èƒ½ä¼šç¢°åˆ°éªŒè¯å¤±è´¥ï¼Œä½†æ˜¯éªŒè¯å¤±è´¥å¯ä»¥é‡å¤éªŒè¯ã€‚</p>
<p>å¦‚ä½•é¿å…éªŒè¯å¤±è´¥çš„æƒ…å†µå‘¢ï¼ŸåŸºæœ¬çš„åŸå› éƒ½æ˜¯IPè´¨é‡é—®é¢˜ã€‚</p>
<p>æ‰“å¼€ä¸‹é¢çš„åœ°å€ï¼Œå¯ä»¥æŸ¥è¯¢ä¸€äº›å…±äº«äººæ•°å’ŒIPå±æ€§ï¼Œä¸ä¸€å®šå‡†ç¡®ï¼Œä½†æ˜¯å¾ˆæœ‰å‚è€ƒæ€§ï¼š</p>
<blockquote>
<p><strong>IPè´¨é‡æ£€æŸ¥ï¼š</strong> ping0.cc</p>
</blockquote>
<p>å¦‚æœä½ çš„IPè´¨é‡æ˜¯æ¯”è¾ƒå·®çš„ï¼Œæœ‰æ¬ºè¯ˆæ€§çš„ï¼Œä½ è·å–é“¾æ¥çš„é‚£ä¸€åˆ»ï¼Œè°·æ­Œå°±å·²ç»ç»™ä½ æ ‡è®°ä¸Šäº†ï¼Œä½ ç”¨ç³»ç»Ÿæ€ä¹ˆè®¤è¯éƒ½æ— æ³•é€šè¿‡çš„ã€‚</p>
<p><strong>é‚£ä¹ˆä½ å¯ä»¥åˆ‡æ¢åˆ°ï¼šå…±äº«äººæ•° 1ï½10 äººçš„ï¼ŒåŸç”ŸIP å°±è¡Œã€‚</strong></p>
<p><strong>åˆ‡æ¢ä¹‹åï¼Œå°±å¯ä»¥é‡æ–°è·å–çš„ä½ sheeridé“¾æ¥ï¼ï¼ï¼ï¼</strong></p>
<blockquote>
<p>**è·å–æœ€æ–°é“¾æ¥çš„åœ°å€ï¼š**<a href="https://link.juejin.cn?target=https%3A%2F%2Fgoo.gle%2Ffreepro" target="_blank" title="https://goo.gle/freepro" ref="nofollow noopener noreferrer">goo.gle/freepro</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4539312a1f574700bf95462389918d12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=WxXKZHvp8mvtA5Ww5PVHJPdo7wU%3D" alt="" loading="lazy"/></p>
<p><code>ping0.cc</code>ä¸ä¸€å®šå‡†ç¡®ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡<code>ipdata.co</code>æ¥æŸ¥çœ‹IPæ˜¯å¦å­˜åœ¨æ¬ºè¯ˆæŒ‡æ ‡ï¼š</p>
<blockquote>
<p><strong>IPæ¬ºè¯ˆæŒ‡æ ‡æ£€æŸ¥ï¼š</strong> ipdata.co</p>
</blockquote>
<p>ä½ åªéœ€è¦å…³æ³¨è¿™ä¸ª <code>THREATS</code> æŒ‡æ ‡å°±è¡Œï¼Œ<strong>åªè¦æ˜¯ 0 å°±æ­£å¸¸</strong>ï¼Œå­˜åœ¨ 1 æˆ–è€… 2 ç”šè‡³æ›´å¤šï¼Œéƒ½æ˜¯ä¸è¡Œçš„ã€‚ ï¼ˆæœ‰æ¦‚ç‡å¯ä»¥ï¼‰</p>
<p>ä½ åœ¨<code>ping0.cc</code>æ£€æŸ¥ä¹‹åï¼Œå‘ç°IPè´¨é‡éå¸¸å¥½ï¼Œä½†æ˜¯åœ¨<code>ipdata.co</code>å­˜åœ¨æ¬ºè¯ˆæŒ‡æ ‡ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½æ— æ³•é€šè¿‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7ab8d2de0eb48018a05f8d549f0392b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=i8qGR82CdvpwP22qGbQVdrWlDCM%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸¤ä¸ªæ£€æŸ¥ç«™ç‚¹éƒ½å¯ä»¥åœ¨å¹³æ—¶ä½¿ç”¨æ—¶ï¼Œè¿›è¡Œå‚è€ƒæ£€æŸ¥è‡ªå·±çš„IPè´¨é‡ã€‚</p>
<blockquote>
<p>å½“ä½ è§‰å¾—è‡ªå·±çš„IPæ²¡æœ‰é—®é¢˜æ—¶ï¼Œé‡æ–°åœ¨ä¸€äº›sheeridè®¤è¯ç³»ç»Ÿæäº¤éªŒè¯æ—¶ï¼Œè¿˜å‡ºç°å¤±è´¥çš„è¯ï¼Œè¿™ä¸ªæ—¶å€™ä¸è¦æ€€ç–‘è‡ªå·±ï¼
å¾ˆå¯èƒ½æ˜¯è®¤è¯ç³»ç»Ÿçš„é—®é¢˜ï¼Œè”ç³»å¯¹åº”ç®¡ç†å‘˜å¸®ä½ è®¤è¯å°±è¡Œï¼ŒåŸºæœ¬éƒ½èƒ½é€šè¿‡ï½</p>
</blockquote>
<p><strong>å½“ç„¶ï¼Œå¦‚æœè´¦å·é£æ§çš„è¯é™¤å¤–ï¼ŒåŸºæœ¬è¦ç­‰å¾…24å°æ—¶ä¹‹åï¼Œé‡æ–°éªŒè¯å³å¯ã€‚</strong></p>
<h2 data-id="heading-9">ä¸‰ã€ å¦‚ä½•ç»‘å®šå¡å®Œæˆé¢†å–1å¹´çš„ Gemini Pro ä¼šå‘˜ï¼Ÿ</h2>
<p>â€¼ï¸ ç»ˆäºé€šè¿‡äº†è®¤è¯ï¼Œè®¤è¯æˆåŠŸä¹‹åï¼Œå¯ä»¥è¿›è¡Œæœ€åä¸€æ­¥çš„ç»‘å¡é¢†å–ï¼</p>
<p>è¿™é‡Œä¸è¦å»é”™åœ°æ–¹ï¼Œæœ‰ä¸ªåˆ«ä¼™ä¼´ï¼Œå»é”™åœ°æ–¹ï¼Œé€ æˆé¢†å–äº†å…è´¹1ä¸ªæœˆçš„ä¼šå‘˜ï¼Œä¸€å®šè¦çœ‹æ¸…æ¥šï¼Œå†è¿›è¡Œç»‘å¡ï¼<strong>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯12ä¸ªæœˆä¼šå‘˜</strong>ã€‚</p>
<blockquote>
<p><strong>ç»‘å¡åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fone.google.com%2Fai-student" target="_blank" title="https://one.google.com/ai-student" ref="nofollow noopener noreferrer">one.google.com/ai-student</a></p>
</blockquote>
<p>ä½ å¯ä»¥å›åˆ°åŸæ¥çš„ç•Œé¢è¿›å…¥ï¼Œå°±å¯ä»¥çœ‹åˆ°æŒ‰é’®æè¿°å˜ä¸º <code>Get student offer</code> æˆ–è€… <code>é¢†å–å­¦ç”Ÿä¼˜æƒ </code>ï¼Œç‚¹å‡»å°±ä¼šè¿›è¡Œè½¬åœˆåœˆï¼Œç¨ç­‰ä¸€ä¼šå°±ä¼šå‡ºç°ç»‘å¡é¡µé¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c1c32f66f93454f9b9e77a1194be89b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=EPmTrpZBe2i4q3PGA3lbM50Xhz8%3D" alt="" loading="lazy"/></p>
<p><strong>ç»‘å¡æ—¶ï¼Œåˆ«ç€æ€¥ï¼</strong> ä¸å»ºè®®ç›´æ¥ä½¿ç”¨å›½å†…visaå¡ï¼Œæœ‰å¯èƒ½ä¼šå…³è”åˆ°å›½å†…ä¿¡æ¯ç›´æ¥ä¸¢å¤±èµ„æ ¼ï¼ï¼ˆ80%çš„æ¦‚ç‡å¤±å»èµ„æ ¼ï¼ï¼‰</p>
<p>å¦‚æœä½ éè¦ç”¨å›½å†…visaå¡å°è¯•çš„è¯ï¼Œè¯·æŠŠè´¦å•åœ°å€æ”¹ä¸º <code>ç¾åŒº</code>ï¼Œç„¶å<strong>é‚®ç¼–ä¸€å®šè¦å¡«ç¾åŒºçš„å…ç¨åŒºï¼</strong> å°±ä¸ä¼šæ‰£æ¬¾ï¼ å¯ä»¥0å…ƒç»‘å¡å®Œæˆé¢†å–12ä¸ªæœˆï¼</p>
<p>å¦‚æœè¦é¿å…ä¸¢å¤±èµ„æ ¼çš„è¯ï¼Œå»ºè®®ç”¨ç¾åŒºçš„visaå¡ã€‚</p>
<p>ç»‘å¡é¡µé¢ï¼Œç‚¹å‡» <code>Add Card</code> æˆ–è€… <code>æ·»åŠ å¡</code> ä¹‹åè¿›è¡Œå¡«å†™å¯¹åº”çš„å¡ä¿¡æ¯ï¼Œç‚¹å‡»ä¿å­˜å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/941092cecd0c4d67b734a8bea37c1aa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=5mHqdNT74wyGAAUhB6ytkzNdOBc%3D" alt="" loading="lazy"/></p>
<p>å¼¹çª—ä¼šè‡ªåŠ¨å…³é—­ï¼Œç„¶åç­‰å¾…ä¸€ä¼šï¼Œä¼šå†æ¬¡å¼¹å‡ºç¡®è®¤è®¢é˜…çš„çª—å£ï¼Œè¿™é‡Œç¡®ä¿æ˜¯12ä¸ªæœˆï¼Œå¹¶ä¸”å…ç¨çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡» <code>è®¢é˜…</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46ba883300c543b6bd4694bbc48b41bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=4Dm7ASlm%2B5Ro%2FPmWHBUyqj%2FfB1k%3D" alt="" loading="lazy"/></p>
<p>ç­‰å¾…å‡ ç§’é’Ÿï¼Œå°±ä¼šå®Œæˆè®¢é˜…ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°ä¸‹æ–¹çš„ <code>å·²è®¢é˜…</code>ã€‚ æ­å–œä½ ï¼Œåˆ°è¿™é‡Œå°±å·²ç»å®Œæˆå•¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b3682261fc54825a77f0aff1d564518~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=TGK8j6j%2F%2FhqGJT9eI9GrD%2F5pKEg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c131f0bc18e049b7a2bf231cd7eae962~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=5FWIYLV8zLBVlkOqKHDOIC%2BSK1M%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æ˜¯ç»‘å®šäº†è‡ªå·±çš„å¡ç‰‡ï¼Œä¸ºäº†é¿å…æ˜å¹´çš„è‡ªåŠ¨ç»­è´¹æ‰£æ¬¾ï¼Œå¯ä»¥åœ¨è®¢é˜…ç®¡ç†é‡Œé¢ï¼Œè¿›è¡Œå–æ¶ˆè‡ªåŠ¨ç»­è´¹ã€‚</p>
<p>**è·¯å¾„ï¼š**è¿›å…¥ Gemini é¦–é¡µ -&gt; è®¾ç½®  -&gt;  ç®¡ç†è®¢é˜…  -&gt;  æ›´æ”¹ä»˜æ¬¾æ–¹å¼  -&gt;  ç®¡ç†  -&gt;  è®¢é˜…ã€‚</p>
<p><strong>ç‚¹å‡»ã€å–æ¶ˆè®¢é˜…ã€‘ï¼Œè¿™é‡Œçš„å–æ¶ˆè®¢é˜…ï¼Œæ˜¯å–æ¶ˆè‡ªåŠ¨ç»­è´¹çš„æ„æ€ï¼</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1c4e268615945729ade8bc770138d4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765538512&amp;x-signature=3p7cmi54pVYreWwMxuby%2FahBh1E%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿã€Hadoopã€è®¡ç®—æœºæ¯•ä¸šè®¾è®¡ã€åŒ…æ‹¬æ•°æ®çˆ¬å–ã€æ•°æ®åˆ†æã€æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ã€å®æˆ˜æ•™å­¦]]></title>    <link>https://juejin.cn/post/7580196545287749686</link>    <guid>https://juejin.cn/post/7580196545287749686</guid>    <pubDate>2025-12-05T11:38:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580196545287749686" data-draft-id="7580184249908461610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿã€Hadoopã€è®¡ç®—æœºæ¯•ä¸šè®¾è®¡ã€åŒ…æ‹¬æ•°æ®çˆ¬å–ã€æ•°æ®åˆ†æã€æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ã€å®æˆ˜æ•™å­¦"/> <meta itemprop="keywords" content="åç«¯,Python,MySQL"/> <meta itemprop="datePublished" content="2025-12-05T11:38:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è®¡ç®—æœºæ¯•è®¾åŒ å¿ƒå·¥ä½œå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2452372492400835"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿã€Hadoopã€è®¡ç®—æœºæ¯•ä¸šè®¾è®¡ã€åŒ…æ‹¬æ•°æ®çˆ¬å–ã€æ•°æ®åˆ†æã€æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ã€å®æˆ˜æ•™å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2452372492400835/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è®¡ç®—æœºæ¯•è®¾åŒ å¿ƒå·¥ä½œå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T11:38:06.000Z" title="Fri Dec 05 2025 11:38:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸŠä½œè€…ï¼šè®¡ç®—æœºæ¯•è®¾åŒ å¿ƒå·¥ä½œå®¤</p>
<p>ğŸŠç®€ä»‹ï¼šæ¯•ä¸šåå°±ä¸€ç›´ä¸“ä¸šä»äº‹è®¡ç®—æœºè½¯ä»¶ç¨‹åºå¼€å‘ï¼Œè‡³ä»Šä¹Ÿæœ‰8å¹´å·¥ä½œç»éªŒã€‚æ“…é•¿Javaã€Pythonã€å¾®ä¿¡å°ç¨‹åºã€å®‰å“ã€å¤§æ•°æ®ã€PHPã€.NET|C#ã€Golangç­‰ã€‚</p>
<p>æ“…é•¿ï¼šæŒ‰ç…§éœ€æ±‚å®šåˆ¶åŒ–å¼€å‘é¡¹ç›®ã€ æºç ã€å¯¹ä»£ç è¿›è¡Œå®Œæ•´è®²è§£ã€æ–‡æ¡£æ’°å†™ã€pptåˆ¶ä½œã€‚</p>
<p>ğŸŠå¿ƒæ„¿ï¼šç‚¹èµ ğŸ‘ æ”¶è— â­è¯„è®º ğŸ“</p>
<p>ğŸ‘‡ğŸ» ç²¾å½©ä¸“æ æ¨èè®¢é˜… ğŸ‘‡ğŸ» ä¸ç„¶ä¸‹æ¬¡æ‰¾ä¸åˆ°å“Ÿ~</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754938.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754938.html" ref="nofollow noopener noreferrer">Javaå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754940.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754940.html" ref="nofollow noopener noreferrer">Pythonå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754945.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754945.html" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åº|å®‰å“å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754947.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754947.html" ref="nofollow noopener noreferrer">å¤§æ•°æ®å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754949.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754949.html" ref="nofollow noopener noreferrer">PHP|C#.NET|Golangå®æˆ˜é¡¹ç›®</a></p>
<p>ğŸ… â†“â†“æ–‡æœ«è·å–æºç è”ç³»â†“â†“ğŸ…</p>
</blockquote>
<h2 data-id="heading-0">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-åŠŸèƒ½ä»‹ç»</h2>
<p>æœ¬é¡¹ç›®â€œã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿâ€æ˜¯ä¸€ä¸ªæ—¨åœ¨è¿ç”¨å‰æ²¿å¤§æ•°æ®æŠ€æœ¯å¯¹æµ·é‡çš®è‚¤ç—…åŒ»ç–—æ•°æ®è¿›è¡Œæ·±åº¦æŒ–æ˜ä¸ç›´è§‚å±•ç¤ºçš„ç»¼åˆåˆ†æå¹³å°ã€‚ç³»ç»Ÿä»¥åç«¯Pythonè¯­è¨€ä¸ºæ ¸å¿ƒï¼Œé‡‡ç”¨è½»é‡é«˜æ•ˆçš„Djangoæ¡†æ¶æ­å»ºWebæœåŠ¡ï¼Œå¹¶æ·±åº¦èåˆäº†Hadoopä¸Sparkåˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶æ¥åº”å¯¹æµ·é‡æ•°æ®çš„å¤„ç†æŒ‘æˆ˜ã€‚åŸå§‹æ•°æ®å­˜å‚¨äºMySQLæ•°æ®åº“ä¸­ï¼Œç³»ç»Ÿé€šè¿‡Spark SQLå’Œå¼ºå¤§çš„DataFrame APIå¯¹åŒ…å«æ‚£è€…å¹´é¾„ã€æ€§åˆ«ã€è‚¤è‰²ã€ç–¾ç—…ç±»å‹ã€ä¸¥é‡ç¨‹åº¦ã€ç—…ç¨‹ã€æ²»ç–—å†å²ç­‰åå¤šä¸ªç»´åº¦çš„askin_disease_dataset.csvæ•°æ®é›†è¿›è¡Œé«˜æ•ˆæ¸…æ´—ã€è½¬æ¢ä¸èšåˆåˆ†æã€‚åœ¨æ•°æ®å¤„ç†å±‚é¢ï¼Œç³»ç»Ÿç‰¹åˆ«é’ˆå¯¹è¿ç»­æ•°å€¼ï¼ˆå¦‚å¹´é¾„ã€ç—…ç¨‹ï¼‰è¿›è¡Œæ™ºèƒ½åˆ†ç®±ï¼Œå¹¶å¯¹æœ‰åºåˆ†ç±»å˜é‡ï¼ˆå¦‚ä¸¥é‡ç¨‹åº¦ï¼‰è¿›è¡Œé€»è¾‘æ’åºï¼Œç¡®ä¿äº†åˆ†æç»“æœçš„ç§‘å­¦æ€§ã€‚æœ€ç»ˆï¼Œç³»ç»Ÿå°†16ä¸ªæ ¸å¿ƒåˆ†æç»´åº¦çš„ç»“æœæ•°æ®ï¼Œé€šè¿‡APIæ¥å£ç²¾å‡†æ¨é€è‡³å‰ç«¯ã€‚å‰ç«¯ç•Œé¢åˆ™åŸºäºVueæ¡†æ¶ï¼Œç»“åˆElementUIç»„ä»¶åº“ä¸åŠŸèƒ½å¼ºå¤§çš„Echartså¯è§†åŒ–å›¾è¡¨åº“ï¼Œå°†å¤æ‚çš„æ•°æ®å…³ç³»ä»¥åŠ¨æ€ã€äº¤äº’å¼çš„å›¾è¡¨å½¢å¼å‘ˆç°ï¼Œä¸ºç ”ç©¶è€…æä¾›äº†ä¸€ç«™å¼çš„æ•°æ®æ´å¯Ÿä¸å†³ç­–æ”¯æŒå·¥å…·ã€‚</p>
<h2 data-id="heading-1">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-é€‰é¢˜èƒŒæ™¯æ„ä¹‰</h2>
<p>é€‰é¢˜èƒŒæ™¯
å¦‚ä»Šï¼Œçš®è‚¤ç—…å·²ç»æˆä¸ºå›°æ‰°ç›¸å½“ä¸€éƒ¨åˆ†äººç¾¤çš„å¸¸è§å¥åº·é—®é¢˜ï¼Œå…¶ç§ç±»ç¹å¤šã€æˆå› å¤æ‚ï¼Œä¼ ç»Ÿçš„è¯Šæ–­ä¸ç ”ç©¶æ–¹å¼åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºåŒ»ç”Ÿçš„ä¸ªäººç»éªŒï¼Œè¿™å…¶ä¸­éš¾å…ä¼šå¸¦æœ‰ä¸€äº›ä¸»è§‚æ€§ã€‚éšç€ä¿¡æ¯åŒ–æŠ€æœ¯çš„å‘å±•ï¼Œå¤§é‡çš„ä¸´åºŠè¯Šç–—æ•°æ®è¢«è®°å½•ä¸‹æ¥ï¼Œè¿™äº›æ•°æ®å…¶å®å°±åƒä¸€ä¸ªå°šæœªè¢«å……åˆ†æŒ–æ˜çš„å®åº“ï¼Œé‡Œé¢éšè—ç€å…³äºçš®è‚¤ç—…å‘ç”Ÿã€å‘å±•åŠæ²»ç–—ååº”çš„æ·±å±‚è§„å¾‹ã€‚å¤§å®¶ä¹ŸçŸ¥é“ï¼Œå•çº¯ä¾é äººåŠ›å»æ¢³ç†æˆåƒä¸Šä¸‡æ¡ç—…å†è®°å½•ï¼Œæ—¢è€—æ—¶åˆè´¹åŠ›ï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚å¤§æ•°æ®æŠ€æœ¯çš„å‡ºç°ï¼Œæ­£å¥½ä¸ºè§£å†³è¿™ä¸ªéš¾é¢˜æä¾›äº†å…¨æ–°çš„æ€è·¯ã€‚æœ¬é¡¹ç›®å°±æ˜¯æƒ³åœ¨è¿™æ–¹é¢åšä¸ªå°å°çš„å°è¯•ï¼Œåˆ©ç”¨Hadoopå’ŒSparkè¿™æ ·æˆç†Ÿçš„åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼Œå»é«˜æ•ˆå¤„ç†å’Œåˆ†æçš®è‚¤ç—…ç—‡çŠ¶æ•°æ®ï¼Œå¸Œæœ›èƒ½å¤Ÿä»çœ‹ä¼¼æ‚ä¹±çš„æ•°æ®ä¸­ï¼Œå‘ç°ä¸€äº›ä»¥å¾€éš¾ä»¥å¯Ÿè§‰çš„å…³è”æ€§ï¼Œä¸ºæ›´ç§‘å­¦çš„è®¤çŸ¥å’Œç ”ç©¶çš®è‚¤ç—…æä¾›ä¸€ç§æ•°æ®é©±åŠ¨çš„æ–°è§†è§’ã€‚
é€‰é¢˜æ„ä¹‰
è¿™ä¸ªç³»ç»Ÿçš„å®é™…æ„ä¹‰ï¼Œå¯ä»¥ä»å‡ ä¸ªå±‚é¢æ¥çœ‹ã€‚å¯¹äºä¸´åºŠåŒ»ç”Ÿæ¥è¯´ï¼Œç³»ç»Ÿé€šè¿‡å¤šç»´åº¦çš„å¯è§†åŒ–å›¾è¡¨ï¼Œæ¯”å¦‚ä¸åŒå¹´é¾„æ®µé«˜å‘çš„çš®è‚¤ç—…ç±»å‹ã€ä¸åŒç–¾ç—…åœ¨å„èº«ä½“éƒ¨ä½çš„åˆ†å¸ƒè§„å¾‹ç­‰ï¼Œèƒ½å¤Ÿå¸®åŠ©ä»–ä»¬å¿«é€Ÿå»ºç«‹èµ·å®è§‚çš„è®¤çŸ¥ï¼Œè¾…åŠ©ä»–ä»¬è¿›è¡Œæ›´ç²¾å‡†çš„è¯Šæ–­ã€‚å¯¹äºåŒ»å­¦ç ”ç©¶è€…ï¼Œç³»ç»Ÿå¯¹æ²»ç–—æ•ˆæœä¸ç—…ç¨‹ã€ä¸¥é‡ç¨‹åº¦ä¹‹é—´å…³ç³»çš„æ·±å…¥åˆ†æï¼Œå¯èƒ½ä¼šä¸ºè¯„ä¼°ç°æœ‰ç–—æ³•æˆ–æ¢ç´¢æ–°æ²»ç–—æ–¹æ¡ˆæä¾›æœ‰ä»·å€¼çš„çº¿ç´¢ã€‚è™½ç„¶å®ƒåªæ˜¯ä¸ªæ¯•ä¸šè®¾è®¡ï¼Œä½†è‡³å°‘æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æŠ€æœ¯éªŒè¯ï¼Œå±•ç¤ºäº†å¦‚ä½•å°†å¤§æ•°æ®æŠ€æœ¯çœŸæ­£åº”ç”¨äºä¸€ä¸ªå…·ä½“çš„åŒ»ç–—åœºæ™¯ä¸­ã€‚å¯¹äºå…¬å…±å«ç”Ÿé¢†åŸŸï¼Œäº†è§£ç‰¹å®šäººç¾¤ï¼ˆå¦‚ä¸åŒè‚¤è‰²ï¼‰çš„ç–¾ç—…åˆ†å¸ƒæƒ…å†µï¼Œæœ‰åŠ©äºåˆ¶å®šæ›´å…·é’ˆå¯¹æ€§çš„å¥åº·ç§‘æ™®å’Œé¢„é˜²ç­–ç•¥ã€‚æ€»çš„æ¥è¯´ï¼Œæœ¬é¡¹ç›®ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯ä¸Šçš„ç»¼åˆå®è·µï¼Œæ›´é‡è¦çš„æ˜¯å®ƒæ­å»ºäº†ä¸€ä¸ªè¿æ¥æ•°æ®ä¸åŒ»å­¦æ´å¯Ÿçš„æ¡¥æ¢ï¼Œå…¶åˆ†æç»“æœå…·å¤‡ä¸€å®šçš„å‚è€ƒä»·å€¼ã€‚</p>
<h2 data-id="heading-2">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-æŠ€æœ¯é€‰å‹</h2>
<p>å¤§æ•°æ®æ¡†æ¶ï¼šHadoop+Sparkï¼ˆæœ¬æ¬¡æ²¡ç”¨Hiveï¼Œæ”¯æŒå®šåˆ¶ï¼‰
å¼€å‘è¯­è¨€ï¼šPython+Javaï¼ˆä¸¤ä¸ªç‰ˆæœ¬éƒ½æ”¯æŒï¼‰
åç«¯æ¡†æ¶ï¼šDjango+Spring Boot(Spring+SpringMVC+Mybatis)ï¼ˆä¸¤ä¸ªç‰ˆæœ¬éƒ½æ”¯æŒï¼‰
å‰ç«¯ï¼šVue+ElementUI+Echarts+HTML+CSS+JavaScript+jQuery
è¯¦ç»†æŠ€æœ¯ç‚¹ï¼šHadoopã€HDFSã€Sparkã€Spark SQLã€Pandasã€NumPy
æ•°æ®åº“ï¼šMySQL</p>
<h2 data-id="heading-3">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-å›¾ç‰‡å±•ç¤º</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1nK2LBtEkE%2F%3Fspm_id_from%3D333.1387.homepage.video_card.click" target="_blank" title="https://www.bilibili.com/video/BV1nK2LBtEkE/?spm_id_from=333.1387.homepage.video_card.click" ref="nofollow noopener noreferrer">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-å›¾ç‰‡å±•ç¤º</a></p>
<h2 data-id="heading-4">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-å›¾ç‰‡å±•ç¤º</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b36ba76cc852412e80be2563809c503c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765539486&amp;x-signature=54XaDpqH9tH9fsyAgpDmpLR5ZSs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c75dc1f3a0e4d05874dd781668d94c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765539486&amp;x-signature=PSBsGAXs1QrLnQ19R03hRK7W%2FmQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3698e20bb3e9452ebec77a73a8d2fe82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765539486&amp;x-signature=2voZ4rN0%2FE1ZRY7pJJtvSKXYjmM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d27512768a244572a881d1df63be7712~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765539486&amp;x-signature=BlcavfSvs0vu9AGqfktMhrGjhSQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5b6cdff112d486faea08f6ac4c341ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765539486&amp;x-signature=XU2pbYVF%2FFdS7eve%2FDxBXJPqzF0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59f5b1bdf61b491c850692e5922bf210~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765539486&amp;x-signature=D7dqvtPaiEO8eU0SvJ3gd0mkObc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71ff21418f194cb78d1678843d4a5d64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765539486&amp;x-signature=ykBgXnoljv9T7MASSEDy2ddWUVk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-5">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-ä»£ç å±•ç¤º</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pyspark.sql <span class="hljs-keyword">import</span> SparkSession, functions <span class="hljs-keyword">as</span> F, Window
spark = SparkSession.builder.appName(<span class="hljs-string">"SkinDiseaseAnalysis"</span>).getOrCreate()
df = spark.read.csv(<span class="hljs-string">"askin_disease_dataset.csv"</span>, header=<span class="hljs-literal">True</span>, inferSchema=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_age_distribution</span>(<span class="hljs-params">df</span>):
    age_grouped_df = df.withColumn(<span class="hljs-string">"age_group"</span>, F.when((F.col(<span class="hljs-string">"Age"</span>) &gt;= <span class="hljs-number">18</span>) &amp; (F.col(<span class="hljs-string">"Age"</span>) &lt;= <span class="hljs-number">40</span>), <span class="hljs-string">"é’å¹´(18-40å²)"</span>)
                                  .when((F.col(<span class="hljs-string">"Age"</span>) &gt;= <span class="hljs-number">41</span>) &amp; (F.col(<span class="hljs-string">"Age"</span>) &lt;= <span class="hljs-number">65</span>), <span class="hljs-string">"ä¸­å¹´(41-65å²)"</span>)
                                  .when((F.col(<span class="hljs-string">"Age"</span>) &gt;= <span class="hljs-number">66</span>) &amp; (F.col(<span class="hljs-string">"Age"</span>) &lt;= <span class="hljs-number">90</span>), <span class="hljs-string">"è€å¹´(66-90å²)"</span>)
                                  .otherwise(<span class="hljs-string">"æœªçŸ¥"</span>))
    result_df = age_grouped_df.<span class="hljs-built_in">filter</span>(F.col(<span class="hljs-string">"age_group"</span>) != <span class="hljs-string">"æœªçŸ¥"</span>).groupBy(<span class="hljs-string">"age_group"</span>).agg(F.count(<span class="hljs-string">"Patient_ID"</span>).alias(<span class="hljs-string">"æ‚£ç—…äººæ•°"</span>))
    result_df = result_df.orderBy(F.col(<span class="hljs-string">"age_group"</span>).asc())
    result_df.show()
    <span class="hljs-keyword">return</span> result_df

<span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_severity_by_disease</span>(<span class="hljs-params">df</span>):
    disease_severity_count = df.groupBy(<span class="hljs-string">"Disease_Type"</span>, <span class="hljs-string">"Severity"</span>).agg(F.count(<span class="hljs-string">"Patient_ID"</span>).alias(<span class="hljs-string">"count"</span>))
    window_spec = Window.partitionBy(<span class="hljs-string">"Disease_Type"</span>)
    disease_total = disease_severity_count.withColumn(<span class="hljs-string">"total_count"</span>, F.<span class="hljs-built_in">sum</span>(<span class="hljs-string">"count"</span>).over(window_spec))
    result_df = disease_total.withColumn(<span class="hljs-string">"percentage"</span>, F.format_number(F.col(<span class="hljs-string">"count"</span>) / F.col(<span class="hljs-string">"total_count"</span>) * <span class="hljs-number">100</span>, <span class="hljs-number">2</span>))
    result_df = result_df.select(<span class="hljs-string">"Disease_Type"</span>, <span class="hljs-string">"Severity"</span>, <span class="hljs-string">"count"</span>, <span class="hljs-string">"percentage"</span>)
    result_df = result_df.orderBy(F.col(<span class="hljs-string">"Disease_Type"</span>).asc(), F.col(<span class="hljs-string">"Severity"</span>).asc())
    result_df.show()
    <span class="hljs-keyword">return</span> result_df

<span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_duration_vs_effectiveness</span>(<span class="hljs-params">df</span>):
    treated_df = df.<span class="hljs-built_in">filter</span>(F.col(<span class="hljs-string">"Previous_Treatment"</span>) == <span class="hljs-string">"Yes"</span>)
    duration_grouped_df = treated_df.withColumn(<span class="hljs-string">"duration_group"</span>, F.when((F.col(<span class="hljs-string">"Duration"</span>) &gt;= <span class="hljs-number">1</span>) &amp; (F.col(<span class="hljs-string">"Duration"</span>) &lt;= <span class="hljs-number">6</span>), <span class="hljs-string">"çŸ­æœŸ(1-6æœˆ)"</span>)
                                                .when((F.col(<span class="hljs-string">"Duration"</span>) &gt;= <span class="hljs-number">7</span>) &amp; (F.col(<span class="hljs-string">"Duration"</span>) &lt;= <span class="hljs-number">24</span>), <span class="hljs-string">"ä¸­æœŸ(7-24æœˆ)"</span>)
                                                .when((F.col(<span class="hljs-string">"Duration"</span>) &gt; <span class="hljs-number">24</span>), <span class="hljs-string">"é•¿æœŸ(&gt;24æœˆ)"</span>)
                                                .otherwise(<span class="hljs-string">"æœªçŸ¥"</span>))
    valid_df = duration_grouped_df.<span class="hljs-built_in">filter</span>(F.col(<span class="hljs-string">"duration_group"</span>) != <span class="hljs-string">"æœªçŸ¥"</span>)
    pivot_df = valid_df.groupBy(<span class="hljs-string">"duration_group"</span>).pivot(<span class="hljs-string">"Treatment_Effectiveness"</span>, [<span class="hljs-string">"Low"</span>, <span class="hljs-string">"Moderate"</span>, <span class="hljs-string">"High"</span>]).count().na.fill(<span class="hljs-number">0</span>)
    result_df = pivot_df.withColumn(<span class="hljs-string">"æ€»è®¡"</span>, F.col(<span class="hljs-string">"Low"</span>) + F.col(<span class="hljs-string">"Moderate"</span>) + F.col(<span class="hljs-string">"High"</span>))
    result_df = result_df.orderBy(F.col(<span class="hljs-string">"duration_group"</span>).asc())
    result_df.show()
    <span class="hljs-keyword">return</span> result_df
</code></pre>
<h2 data-id="heading-6">åŸºäºå¤§æ•°æ®çš„å…¨é¢çš®è‚¤ç—…ç—‡çŠ¶æ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-ç»“è¯­</h2>
<blockquote>
<p>ğŸ‘‡ğŸ» ç²¾å½©ä¸“æ æ¨èè®¢é˜… ğŸ‘‡ğŸ» ä¸ç„¶ä¸‹æ¬¡æ‰¾ä¸åˆ°å“Ÿ~</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754938.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754938.html" ref="nofollow noopener noreferrer">Javaå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754940.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754940.html" ref="nofollow noopener noreferrer">Pythonå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754945.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754945.html" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åº|å®‰å“å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754947.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754947.html" ref="nofollow noopener noreferrer">å¤§æ•°æ®å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754949.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754949.html" ref="nofollow noopener noreferrer">PHP|C#.NET|Golangå®æˆ˜é¡¹ç›®</a></p>
<p>ğŸ… ä¸»é¡µè·å–æºç è”ç³»ğŸ…</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#å¼‚å¸¸æ¦‚å¿µä¸try-catchå…¥é—¨]]></title>    <link>https://juejin.cn/post/7580188321323237382</link>    <guid>https://juejin.cn/post/7580188321323237382</guid>    <pubDate>2025-12-05T11:40:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580188321323237382" data-draft-id="7577431644069412915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#å¼‚å¸¸æ¦‚å¿µä¸try-catchå…¥é—¨"/> <meta itemprop="keywords" content="å‰ç«¯,C#"/> <meta itemprop="datePublished" content="2025-12-05T11:40:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒ›é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/950397795841032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#å¼‚å¸¸æ¦‚å¿µä¸try-catchå…¥é—¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/950397795841032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒ›é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T11:40:55.000Z" title="Fri Dec 05 2025 11:40:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯å¼‚å¸¸ï¼Œæˆ‘ä»¬ä¸ºä½•éœ€è¦å®ƒï¼Ÿ</h2>
<h3 data-id="heading-1">1. ç¼–ç¨‹ä¸–ç•Œé‡Œçš„â€œæ„å¤–â€</h3>
<p>åœ¨C#ä¸­ï¼Œå¼‚å¸¸æ˜¯åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´å‘ç”Ÿçš„ã€ä¸­æ–­äº†æ­£å¸¸æŒ‡ä»¤æµçš„â€œåå¸¸â€æˆ–â€œé”™è¯¯â€äº‹ä»¶ã€‚å®ƒä¸æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„â€œBUGâ€ï¼ˆé€»è¾‘é”™è¯¯ï¼‰ï¼Œæ¯”å¦‚ä½ æœ¬æƒ³åšåŠ æ³•å´å†™äº†å‡æ³•ï¼›ä¹Ÿä¸æ˜¯â€œè¯­æ³•é”™è¯¯â€ï¼Œé‚£ç§åœ¨ç¼–è¯‘æ—¶å°±ä¼šè¢«ç¼–è¯‘å™¨æŒ‡å‡ºçš„æ‹¼å†™é”™è¯¯ã€‚å¼‚å¸¸æ˜¯<strong>è¿è¡Œæ—¶</strong>çš„é”™è¯¯ï¼Œæ˜¯ç¨‹åºåœ¨â€œæ´»ç€â€çš„æ—¶å€™é‡åˆ°çš„çªå‘çŠ¶å†µã€‚</p>
<p>å¸¸è§çš„å¼‚å¸¸åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>å°è¯•æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚</li>
<li>ç½‘ç»œè¿æ¥çªç„¶ä¸­æ–­ã€‚</li>
<li>è¯·æ±‚çš„å†…å­˜è¿‡å¤§ï¼Œç³»ç»Ÿæ— æ³•åˆ†é…ã€‚</li>
<li>æ•°ç»„ç´¢å¼•è¶…å‡ºäº†èŒƒå›´ã€‚</li>
<li>å°è¯•å¯¹ä¸€ä¸ª <code>null</code> çš„å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</li>
</ul>
<h3 data-id="heading-2">2. å¼‚å¸¸çš„ä»£ä»·</h3>
<ul>
<li><strong>ç¨‹åºçªç„¶ç»ˆæ­¢</strong>ï¼šè¿™æ˜¯æœ€ç›´æ¥çš„åæœã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œè¿™æ„å‘³ç€ä»–ä»¬æ­£åœ¨è¿›è¡Œçš„å·¥ä½œï¼ˆæ¯”å¦‚ç¼–è¾‘æ–‡æ¡£ã€å¡«å†™è¡¨å•ï¼‰å¯èƒ½ä¼šç¬é—´ä¸¢å¤±ï¼Œä½“éªŒæå·®ã€‚</li>
<li><strong>æ•°æ®æŸå</strong>ï¼šä¾‹å¦‚ä¸€ä¸ªè½¬è´¦æ“ä½œï¼Œåœ¨æ‰£é™¤Aè´¦æˆ·é‡‘é¢åã€å¢åŠ Bè´¦æˆ·é‡‘é¢å‰ï¼Œç¨‹åºå› ä¸ºä¸€ä¸ªå¼‚å¸¸è€Œå´©æºƒã€‚è¿™å°†å¯¼è‡´è´¦ç›®ä¸å¹³ï¼Œæ•°æ®çŠ¶æ€ä¸ä¸€è‡´ã€‚</li>
<li><strong>æš´éœ²æ•æ„Ÿä¿¡æ¯</strong>ï¼šåœ¨Webåº”ç”¨ä¸­ï¼Œä¸€ä¸ªæœªå¤„ç†çš„å¼‚å¸¸å¯èƒ½ä¼šå°†åŒ…å«æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ã€æœåŠ¡å™¨å†…éƒ¨è·¯å¾„ç­‰æ•æ„Ÿä¿¡æ¯çš„å®Œæ•´é”™è¯¯å †æ ˆä¿¡æ¯ï¼ˆStack Traceï¼‰æš´éœ²ç»™æœ€ç»ˆç”¨æˆ·ï¼Œæ„æˆä¸¥é‡çš„å®‰å…¨éšæ‚£ã€‚</li>
<li><strong>èµ„æºæ³„éœ²</strong>ï¼šå¦‚æœç¨‹åºåœ¨æ‰“å¼€æ–‡ä»¶æˆ–æ•°æ®åº“è¿æ¥åï¼Œåœ¨å…³é—­å®ƒä»¬ä¹‹å‰å´©æºƒï¼Œè¿™äº›å®è´µçš„ç³»ç»Ÿèµ„æºå°†æ— æ³•è¢«é‡Šæ”¾ï¼Œä¹…è€Œä¹…ä¹‹ä¼šè€—å°½ç³»ç»Ÿèµ„æºï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå˜æ…¢ç”šè‡³ç˜«ç—ªã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">äºŒã€try-catchå—çš„åŸºç¡€è¯­æ³•ä¸å·¥ä½œåŸç†</h2>
<p><code>try-catch</code> è¯­å¥æ˜¯C#ä¸­ç”¨äºå¤„ç†å¼‚å¸¸çš„åŸºæœ¬å·¥å…·ã€‚å®ƒçš„é€»è¾‘éå¸¸ç¬¦åˆäººç±»çš„ç›´è§‰ï¼šâ€œå°è¯•åšæŸä»¶äº‹ï¼Œå¦‚æœå‡ºäº†é—®é¢˜ï¼Œå°±è¿™æ ·è¡¥æ•‘â€ã€‚</p>
<h3 data-id="heading-4">1. <code>try</code> å—ï¼šåˆ’å®šâ€œé£é™©åŒºâ€</h3>
<p><code>try</code> å…³é”®å­—åé¢è·Ÿç€ä¸€ä¸ªä»£ç å— <code>{}</code>ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰<strong>å¯èƒ½æŠ›å‡ºå¼‚å¸¸</strong>çš„ä»£ç éƒ½æ”¾åœ¨è¿™ä¸ªä»£ç å—é‡Œã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// è¿™é‡Œæ˜¯â€œé£é™©åŒºâ€</span>
    Console.WriteLine(<span class="hljs-string">"è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š"</span>);
    <span class="hljs-built_in">int</span> number = <span class="hljs-built_in">int</span>.Parse(Console.ReadLine());
    <span class="hljs-built_in">int</span> result = <span class="hljs-number">100</span> / number;
    Console.WriteLine(<span class="hljs-string">$"100é™¤ä»¥<span class="hljs-subst">{number}</span>çš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{result}</span>"</span>);
} 
<span class="hljs-keyword">catch</span>(Exception e)
{
    Console.WriteLine(e.ToString()); 
}

</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>int.Parse()</code> å¯èƒ½ä¼šå› ä¸ºç”¨æˆ·è¾“å…¥éæ•°å­—å­—ç¬¦è€ŒæŠ›å‡º <code>FormatException</code>ï¼Œè€Œ <code>100 / number</code> å¯èƒ½ä¼šå› ä¸ºç”¨æˆ·è¾“å…¥0è€ŒæŠ›å‡º <code>DivideByZeroException</code>ã€‚</p>
<h3 data-id="heading-5">2. <code>catch</code> å—ï¼šéƒ¨ç½²â€œåº”æ€¥é¢„æ¡ˆâ€</h3>
<p><code>catch</code> å…³é”®å­—ç´§è·Ÿåœ¨ <code>try</code> å—ä¹‹åï¼Œå®ƒä¹ŸåŒ…å«ä¸€ä¸ªä»£ç å—ã€‚å½“ <code>try</code> å—ä¸­çš„ä»»ä½•ä¸€æ¡è¯­å¥æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œç¨‹åºçš„æ­£å¸¸æ‰§è¡Œæµä¼šç«‹å³ä¸­æ–­ï¼Œç„¶åCLRï¼ˆå…¬å…±è¯­è¨€è¿è¡Œæ—¶ï¼‰ä¼šå¯»æ‰¾ä¸€ä¸ªèƒ½å¤Ÿâ€œæ¥ä½â€è¿™ä¸ªå¼‚å¸¸çš„ <code>catch</code> å—ã€‚</p>
<p><strong>æœ€åŸºæœ¬çš„ <code>catch</code> å—ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// ... é£é™©ä»£ç  ...</span>
}
<span class="hljs-keyword">catch</span>
{
    <span class="hljs-comment">// å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œæ‰§è¡Œè¿™é‡Œçš„ä»£ç </span>
    Console.WriteLine(<span class="hljs-string">"å‘ç”Ÿäº†ä¸€ä¸ªæœªçŸ¥é”™è¯¯ï¼"</span>);
}
</code></pre>
<p>è¿™ç§ä¸å¸¦ä»»ä½•å‚æ•°çš„ <code>catch</code> å—å¯ä»¥æ•è·<strong>ä»»ä½•ç±»å‹</strong>çš„å¼‚å¸¸ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªå·¨å¤§çš„ç¼ºç‚¹ï¼šä½ ä¸çŸ¥é“å…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ã€‚è¿™å°±åƒä¸€ä¸ªæ¶ˆé˜²å‘˜èµ¶åˆ°ç°åœºåªçŸ¥é“â€œç€ç«äº†â€ï¼Œå´ä¸çŸ¥é“æ˜¯ç”µçº¿èµ·ç«è¿˜æ˜¯å¨æˆ¿èµ·ç«ï¼Œæ— æ³•é‡‡å–é’ˆå¯¹æ€§çš„ç­ç«æªæ–½ã€‚</p>
<h3 data-id="heading-6">3. æ•è·å…·ä½“çš„å¼‚å¸¸ä¿¡æ¯ï¼š<code>catch (ExceptionType ex)</code></h3>
<p>C#å…è®¸æˆ‘ä»¬åœ¨ <code>catch</code> åé¢æŒ‡å®šè¦æ•è·çš„å¼‚å¸¸ç±»å‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå˜é‡æ¥æ¥æ”¶è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ã€‚</p>
<p><code>System.Exception</code> æ˜¯æ‰€æœ‰å¼‚å¸¸ç±»å‹çš„åŸºç±»ã€‚å› æ­¤ï¼Œ<code>catch (Exception ex)</code> å¯ä»¥æ•è·å‡ ä¹æ‰€æœ‰ç±»å‹çš„å¼‚å¸¸ï¼Œå¹¶ä¸”é€šè¿‡å˜é‡ <code>ex</code>ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å…³äºå¼‚å¸¸çš„å®è´µä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span>
{
    Console.WriteLine(<span class="hljs-string">"è¯·è¾“å…¥ä¸€ä¸ªæ•°ç»„ç´¢å¼•ï¼ˆ0-2ï¼‰ï¼š"</span>);
    <span class="hljs-built_in">int</span>[] numbers = { <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span> };
    <span class="hljs-built_in">int</span> index = <span class="hljs-built_in">int</span>.Parse(Console.ReadLine());
    Console.WriteLine(<span class="hljs-string">$"ç´¢å¼• <span class="hljs-subst">{index}</span> ä¸Šçš„å€¼ä¸º: <span class="hljs-subst">{numbers[index]}</span>"</span>);
}
<span class="hljs-keyword">catch</span> (Exception ex)
{
    Console.WriteLine(<span class="hljs-string">"\n--- ç¨‹åºå‡ºç°é—®é¢˜ï¼---"</span>);
    Console.WriteLine(<span class="hljs-string">$"é”™è¯¯ç±»å‹: <span class="hljs-subst">{ex.GetType().Name}</span>"</span>); <span class="hljs-comment">// è·å–å¼‚å¸¸çš„å…·ä½“ç±»å‹å</span>
    Console.WriteLine(<span class="hljs-string">$"é”™è¯¯ä¿¡æ¯: <span class="hljs-subst">{ex.Message}</span>"</span>);        <span class="hljs-comment">// è·å–å¼‚å¸¸çš„æè¿°ä¿¡æ¯</span>
    Console.WriteLine(<span class="hljs-string">"--- è¯¦ç»†å †æ ˆè·Ÿè¸ª ---"</span>);
    Console.WriteLine(ex.StackTrace);                  <span class="hljs-comment">// è·å–å¼‚å¸¸å‘ç”Ÿæ—¶çš„è°ƒç”¨å †æ ˆ</span>
    Console.WriteLine(<span class="hljs-string">"----------------------"</span>);
}

Console.WriteLine(<span class="hljs-string">"\nç¨‹åºå·²é€šè¿‡å¼‚å¸¸å¤„ç†ï¼Œç»§ç»­æ‰§è¡Œ..."</span>);
</code></pre>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ç©è½¬å¤š<code>catch</code>å—ä¸å¼‚å¸¸å±‚æ¬¡ç»“æ„</h2>
<h3 data-id="heading-8">1. å¤š<code>catch</code>å—è¿›è¡Œç»†åˆ†å¼‚å¸¸</h3>
<p>ä¸€ä¸ª <code>try</code> å—åé¢å¯ä»¥è·Ÿå¤šä¸ª <code>catch</code> å—ï¼Œæ¯ä¸ª <code>catch</code> å—è´Ÿè´£å¤„ç†ä¸€ç§ç‰¹å®šç±»å‹çš„å¼‚å¸¸ã€‚CLRåœ¨åŒ¹é… <code>catch</code> å—æ—¶ï¼Œä¼š<strong>ä»ä¸Šåˆ°ä¸‹</strong>ä¾æ¬¡æ£€æŸ¥ï¼Œå¹¶æ‰§è¡Œ<strong>ç¬¬ä¸€ä¸ª</strong>èƒ½å¤ŸåŒ¹é…å¼‚å¸¸ç±»å‹çš„ <code>catch</code> å—ã€‚</p>
<p>â€œåŒ¹é…â€çš„è§„åˆ™æ˜¯ï¼šå¦‚æœæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹<strong>æ˜¯</strong> <code>catch</code> å—ä¸­å£°æ˜çš„ç±»å‹ï¼Œæˆ–è€…<strong>æ˜¯å…¶å­ç±»</strong>ï¼Œåˆ™åŒ¹é…æˆåŠŸã€‚</p>
<p>è¿™å°±å¼•å‡ºäº†å¤š<code>catch</code>å—æœ€é‡è¦çš„è§„åˆ™ï¼š<strong><code>catch</code> å—çš„é¡ºåºå¿…é¡»æ˜¯ä»æœ€å…·ä½“ï¼ˆå­ç±»ï¼‰åˆ°æœ€é€šç”¨ï¼ˆçˆ¶ç±»ï¼‰ã€‚</strong></p>
<p><strong>ç¤ºä¾‹ï¼šä¸€ä¸ªå¥å£®çš„æ–‡ä»¶è¯»å–æ“ä½œ</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessFile</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> filePath</span>)</span>
{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-built_in">string</span> content = System.IO.File.ReadAllText(filePath);
        Console.WriteLine(<span class="hljs-string">"æ–‡ä»¶å†…å®¹å¤„ç†æˆåŠŸï¼"</span>);
    }
    <span class="hljs-keyword">catch</span> (System.IO.FileNotFoundException ex) <span class="hljs-comment">// æœ€å…·ä½“çš„å¼‚å¸¸</span>
    {
        Console.WriteLine(<span class="hljs-string">$"é”™è¯¯ï¼šæ–‡ä»¶ '<span class="hljs-subst">{filePath}</span>' ä¸å­˜åœ¨ã€‚è¯·æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚"</span>);
    }
    <span class="hljs-keyword">catch</span> (System.UnauthorizedAccessException ex) <span class="hljs-comment">// å¦ä¸€ä¸ªå…·ä½“çš„å¼‚å¸¸</span>
    {
        Console.WriteLine(<span class="hljs-string">$"é”™è¯¯ï¼šç¨‹åºæ²¡æœ‰æƒé™è®¿é—®æ–‡ä»¶ '<span class="hljs-subst">{filePath}</span>'ã€‚"</span>);
    }
    <span class="hljs-keyword">catch</span> (System.IO.IOException ex) <span class="hljs-comment">// æ•è·å…¶ä»–æ‰€æœ‰IOç›¸å…³çš„å¼‚å¸¸</span>
    {
        Console.WriteLine(<span class="hljs-string">$"è¯»å–æ–‡ä»¶æ—¶å‘ç”Ÿ I/O é”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
    }
    <span class="hljs-keyword">catch</span> (Exception ex) <span class="hljs-comment">// æœ€åçš„â€œä¸‡èƒ½æ•æ‰‹â€ï¼Œæ•è·æ‰€æœ‰å…¶ä»–æ„æƒ³ä¸åˆ°çš„å¼‚å¸¸</span>
    {
        Console.WriteLine(<span class="hljs-string">$"å‘ç”ŸæœªçŸ¥é”™è¯¯ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒã€‚"</span>);
        <span class="hljs-comment">// åœ¨çœŸå®åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥è®°å½•å®Œæ•´çš„ex.ToString()åˆ°æ—¥å¿—æ–‡ä»¶</span>
        <span class="hljs-comment">// Log.Error(ex.ToString()); </span>
    }
}
</code></pre>
<p><strong>åˆ†æï¼š</strong></p>
<ul>
<li>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œç¬¬ä¸€ä¸ª <code>catch (FileNotFoundException)</code> ä¼šè¢«æ‰§è¡Œã€‚</li>
<li>å¦‚æœæ–‡ä»¶å­˜åœ¨ä½†ç¨‹åºæ²¡æœ‰è¯»å–æƒé™ï¼Œç¬¬äºŒä¸ª <code>catch (UnauthorizedAccessException)</code> ä¼šè¢«æ‰§è¡Œã€‚</li>
<li>å¦‚æœå‘ç”Ÿå…¶ä»–I/Oé”™è¯¯ï¼ˆå¦‚ç£ç›˜å·²æ»¡ï¼‰ï¼Œç”±äºè¿™äº›é”™è¯¯ç±»å‹ï¼ˆå¦‚<code>DiskFullException</code>ï¼‰é€šå¸¸ç»§æ‰¿è‡ª <code>IOException</code>ï¼Œç¬¬ä¸‰ä¸ª <code>catch</code> å—ä¼šè¢«æ‰§è¡Œã€‚</li>
<li>å¦‚æœå‘ç”Ÿäº†å®Œå…¨æ— å…³çš„é”™è¯¯ï¼ˆæ¯”å¦‚åœ¨åç»­å¤„ç†ä¸­å‡ºç° <code>OutOfMemoryException</code>ï¼‰ï¼Œæœ€åçš„ <code>catch (Exception)</code> ä¼šä½œä¸ºå…œåº•é˜²çº¿è¢«è§¦å‘ã€‚</li>
</ul>
<p>å¦‚æœä½ æŠŠ <code>catch (Exception ex)</code> æ”¾åœ¨æœ€å‰é¢ï¼Œé‚£ä¹ˆå®ƒä¼šæ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œåé¢çš„å…·ä½“ <code>catch</code> å—å°†æ°¸è¿œæ²¡æœ‰æœºä¼šæ‰§è¡Œï¼Œç¼–è¯‘å™¨ç”šè‡³ä¼šå› æ­¤æŠ¥é”™ã€‚</p>
<h3 data-id="heading-9">2. è­¦æƒ•ç©º<code>catch</code>å—å’Œâ€œåå™¬â€å¼‚å¸¸</h3>
<p>æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è­¦å‘Šï¼šæåº¦å±é™©çš„ä»£ç ï¼</span>
<span class="hljs-keyword">try</span>
{
    SomeRiskyOperation();
}
<span class="hljs-keyword">catch</span> (Exception)
{
    <span class="hljs-comment">// ä»€ä¹ˆä¹Ÿä¸åš</span>
}
</code></pre>
<p>è¿™è¢«ç§°ä¸ºâ€œåå™¬å¼‚å¸¸â€æˆ–â€œå¼‚å¸¸é»‘æ´â€ã€‚ä»£ç çš„ä½œè€…å¯èƒ½è®¤ä¸ºâ€œæˆ‘çŸ¥é“è¿™é‡Œå¯èƒ½å‡ºé”™ï¼Œä½†æˆ‘ä¸å…³å¿ƒâ€ã€‚è¿™æ˜¯ä¸€ä¸ªæå…¶å±é™©çš„åä¹ æƒ¯ï¼</p>
<p><strong>ä¸ºä»€ä¹ˆå±é™©ï¼Ÿ</strong></p>
<ol>
<li><strong>éšè—é—®é¢˜</strong>ï¼šä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼ˆæ¯”å¦‚æ•°æ®åº“è¿æ¥å¤±è´¥ï¼‰å‘ç”Ÿäº†ï¼Œä½†ç¨‹åºå‡è£…ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚è¿™å¾ˆå¯èƒ½å¯¼è‡´åç»­ä»£ç åœ¨é”™è¯¯çš„æ•°æ®åŸºç¡€ä¸Šè¿è¡Œï¼Œå¼•å‘æ›´éšè”½ã€æ›´éš¾ä»¥è°ƒè¯•çš„é”™è¯¯ï¼Œç”šè‡³å¯¼è‡´æ•°æ®æ°¸ä¹…æ€§æŸåã€‚</li>
<li><strong>è°ƒè¯•å™©æ¢¦</strong>ï¼šå½“ç¨‹åºå‡ºç°å¥‡æ€ªçš„è¡Œä¸ºæ—¶ï¼Œä½ å°†æ²¡æœ‰ä»»ä½•çº¿ç´¢ã€‚æ²¡æœ‰æ—¥å¿—ï¼Œæ²¡æœ‰å´©æºƒæŠ¥å‘Šï¼Œé”™è¯¯å°±åƒäººé—´è’¸å‘äº†ä¸€æ ·ã€‚</li>
</ol>
<p><strong>æ­£ç¡®çš„åšæ³•æ˜¯</strong>ï¼šå³ä½¿ä½ è®¤ä¸ºå¯ä»¥ä»æŸä¸ªå¼‚å¸¸ä¸­æ¢å¤ï¼Œä¹Ÿè‡³å°‘åº”è¯¥<strong>è®°å½•å®ƒ</strong>ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// ...</span>
}
<span class="hljs-keyword">catch</span> (SomeExpectedAndRecoverableException ex)
{
    <span class="hljs-comment">// è®°å½•ä¸‹æ¥ï¼Œä»¥å¤‡åç»­åˆ†æ</span>
    Log.Warning(<span class="hljs-string">$"ä¸€ä¸ªå¯æ¢å¤çš„é”™è¯¯å‘ç”Ÿäº†: <span class="hljs-subst">{ex.Message}</span>"</span>); 
    <span class="hljs-comment">// ç„¶åæ‰§è¡Œæ¢å¤é€»è¾‘</span>
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h3 data-id="heading-10">3. <code>TryParse</code> vs. <code>try-catch</code>**</h3>
<p>è€ƒè™‘ä¸€ä¸ªåœºæ™¯ï¼šéªŒè¯ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ•´æ•°ã€‚æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<p><strong>æ–¹æ³•A: LBYL (Look Before You Leap) - å…ˆçœ‹åè·³</strong>
ä½¿ç”¨ <code>int.TryParse</code> è¿›è¡Œé¢„æ£€æŸ¥ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = Console.ReadLine();
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">int</span>.TryParse(input, <span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> number))
{
    <span class="hljs-comment">// æˆåŠŸï¼Œä½¿ç”¨ number</span>
    Console.WriteLine(<span class="hljs-string">$"ä½ è¾“å…¥çš„æ•°å­—æ˜¯: <span class="hljs-subst">{number}</span>"</span>);
}
<span class="hljs-keyword">else</span>
{
    <span class="hljs-comment">// å¤±è´¥ï¼Œå¤„ç†æ— æ•ˆè¾“å…¥</span>
    Console.WriteLine(<span class="hljs-string">"æ— æ•ˆçš„è¾“å…¥ï¼Œè¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ã€‚"</span>);
}
</code></pre>
<p><strong>æ–¹æ³•B: EAFP (It's Easier to Ask for Forgiveness than Permission) - å…ˆåšåé—®</strong>
ç›´æ¥å°è¯•è½¬æ¢ï¼Œç”¨ <code>try-catch</code> å¤„ç†å¤±è´¥æƒ…å†µã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = Console.ReadLine();
<span class="hljs-keyword">try</span>
{
    <span class="hljs-built_in">int</span> number = <span class="hljs-built_in">int</span>.Parse(input);
    <span class="hljs-comment">// æˆåŠŸï¼Œä½¿ç”¨ number</span>
    Console.WriteLine(<span class="hljs-string">$"ä½ è¾“å…¥çš„æ•°å­—æ˜¯: <span class="hljs-subst">{number}</span>"</span>);
}
<span class="hljs-keyword">catch</span> (FormatException)
{
    <span class="hljs-comment">// å¤±è´¥ï¼Œå¤„ç†æ— æ•ˆè¾“å…¥</span>
    Console.WriteLine(<span class="hljs-string">"æ— æ•ˆçš„è¾“å…¥ï¼Œè¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ã€‚"</span>);
}
</code></pre>
<p><strong>å¦‚ä½•é€‰æ‹©ï¼Ÿ</strong></p>
<ol>
<li><strong>æ€§èƒ½</strong>ï¼š<strong>æŠ›å‡ºå’Œæ•è·å¼‚å¸¸æ˜¯ä¸€ä¸ªéå¸¸æ˜‚è´µçš„æ“ä½œ</strong>ã€‚CLRéœ€è¦ä¿å­˜å½“å‰æ‰§è¡ŒçŠ¶æ€ï¼Œå±•å¼€è°ƒç”¨å †æ ˆï¼Œæœç´¢ <code>catch</code> å—ç­‰ï¼Œè¿™æ¯”ä¸€ä¸ªç®€å•çš„ <code>if-else</code> åˆ¤æ–­è¦æ…¢å¾—å¤šã€‚å› æ­¤ï¼Œåœ¨æ€§èƒ½æ•æ„Ÿçš„ä»£ç æˆ–é”™è¯¯æ˜¯â€œå¯é¢„æœŸçš„å¸¸è§„äº‹ä»¶â€ï¼ˆæ¯”å¦‚ç”¨æˆ·è¾“å…¥é”™è¯¯ï¼‰æ—¶ï¼Œ<strong><code>TryParse</code> æ¨¡å¼æ˜¯é¦–é€‰</strong>ã€‚</li>
<li><strong>ä»£ç æ¸…æ™°åº¦</strong>ï¼š<code>TryParse</code> æ˜ç¡®åœ°è¡¨è¾¾äº†â€œæˆ‘æ­£åœ¨å°è¯•è½¬æ¢ï¼Œå¹¶æ£€æŸ¥å…¶ç»“æœâ€çš„æ„å›¾ï¼Œé€»è¾‘æ¸…æ™°ã€‚è€Œä½¿ç”¨ <code>try-catch</code> æ¥æ§åˆ¶æ­£å¸¸çš„ç¨‹åºæµç¨‹ï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯ä¸€ç§åæ¨¡å¼ï¼ˆanti-patternï¼‰ï¼Œå› ä¸ºå®ƒæ··æ·†äº†â€œçœŸæ­£çš„å¼‚å¸¸æƒ…å†µâ€å’Œâ€œæ­£å¸¸çš„é€»è¾‘åˆ†æ”¯â€ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
<ul>
<li><strong>ä½¿ç”¨ <code>TryParse</code></strong>ï¼šå½“å¤±è´¥æ˜¯å¸¸è§ä¸”å¯é¢„æœŸçš„åˆ†æ”¯æ—¶ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥éªŒè¯ã€æ£€æŸ¥å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨é”®ï¼‰ã€‚</li>
<li><strong>ä½¿ç”¨ <code>try-catch</code></strong>ï¼šå½“å¤±è´¥æ˜¯çœŸæ­£â€œå¼‚å¸¸â€çš„ã€ä¸å¸Œæœ›å‘ç”Ÿçš„æƒ…å†µæ—¶ï¼ˆå¦‚æ–‡ä»¶æŸåã€ç½‘ç»œæ–­å¼€ã€ç£ç›˜å·²æ»¡ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ç»“è®ºï¼šä¸è¦ç”¨å¼‚å¸¸æ¥æ§åˆ¶ç¨‹åºæµç¨‹ã€‚å¼‚å¸¸å¤„ç†æ˜¯ä¸ºæ„å¤–å‡†å¤‡çš„ï¼Œä¸æ˜¯ä¸ºæ—¥å¸¸å‡†å¤‡çš„ã€‚</strong></p>
<hr/>
<h2 data-id="heading-11">ç»“è¯­</h2>
<p><strong>ç‚¹ä¸ªèµï¼Œå…³æ³¨æˆ‘è·å–æ›´å¤šå®ç”¨ C# æŠ€æœ¯å¹²è´§ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè®°å¾—æ”¶è—æœ¬æ–‡</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµè§ˆå™¨æŒ‡çº¹è¯†åˆ«ï¼šä»åŸç†åˆ°é˜²æŠ¤çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579985751938613282</link>    <guid>https://juejin.cn/post/7579985751938613282</guid>    <pubDate>2025-12-05T10:24:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579985751938613282" data-draft-id="7579985751938580514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµè§ˆå™¨æŒ‡çº¹è¯†åˆ«ï¼šä»åŸç†åˆ°é˜²æŠ¤çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,æµè§ˆå™¨"/> <meta itemprop="datePublished" content="2025-12-05T10:24:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Keely40285"/> <meta itemprop="url" content="https://juejin.cn/user/2594503171249997"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµè§ˆå™¨æŒ‡çº¹è¯†åˆ«ï¼šä»åŸç†åˆ°é˜²æŠ¤çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2594503171249997/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Keely40285
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:24:04.000Z" title="Fri Dec 05 2025 10:24:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æµè§ˆå™¨æŒ‡çº¹è¯†åˆ«ï¼šä»åŸç†åˆ°é˜²æŠ¤çš„å®Œæ•´æŒ‡å—</h2>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯æµè§ˆå™¨æŒ‡çº¹ï¼Ÿ</h3>
<p>æµè§ˆå™¨æŒ‡çº¹ï¼ˆBrowser Fingerprintingï¼‰æ˜¯ä¸€ç§é€šè¿‡æ”¶é›†ç”¨æˆ·æµè§ˆå™¨å’Œè®¾å¤‡çš„ç‰¹å¾ä¿¡æ¯ï¼Œç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦çš„æŠ€æœ¯ã€‚å³ä½¿ç”¨æˆ·æ¸…é™¤ Cookie å’Œç¼“å­˜ï¼Œè¿™ä¸ª"æ•°å­—èº«ä»½è¯"ä¹Ÿèƒ½è¯†åˆ«å‡ºåŒä¸€ç”¨æˆ·ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒæ¦‚å¿µ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç¤ºä¾‹ï¼šæµè§ˆå™¨æŒ‡çº¹çš„åŸºæœ¬æ„æˆ</span>
<span class="hljs-keyword">const</span> browserFingerprint = {
  <span class="hljs-attr">userAgent</span>: navigator.<span class="hljs-property">userAgent</span>,
  <span class="hljs-attr">language</span>: navigator.<span class="hljs-property">language</span>,
  <span class="hljs-attr">platform</span>: navigator.<span class="hljs-property">platform</span>,
  <span class="hljs-attr">hardwareConcurrency</span>: navigator.<span class="hljs-property">hardwareConcurrency</span>,
  <span class="hljs-attr">deviceMemory</span>: navigator.<span class="hljs-property">deviceMemory</span>,
  <span class="hljs-attr">screenResolution</span>: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">window</span>.screen.width}</span>x<span class="hljs-subst">${<span class="hljs-variable language_">window</span>.screen.height}</span>`</span>,
  <span class="hljs-attr">timezone</span>: <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">DateTimeFormat</span>().<span class="hljs-title function_">resolvedOptions</span>().<span class="hljs-property">timeZone</span>,
  <span class="hljs-attr">canvas</span>: <span class="hljs-title function_">getCanvasFingerprint</span>(),
  <span class="hljs-attr">webgl</span>: <span class="hljs-title function_">getWebGLFingerprint</span>()
};
</code></pre>
<h3 data-id="heading-3">æµè§ˆå™¨æŒ‡çº¹çš„ç»„æˆéƒ¨åˆ†</h3>
<h4 data-id="heading-4">1. <strong>åŸºç¡€å±æ€§</strong> ï¼ˆæ˜“å˜æ€§ï¼šä½ï¼‰</h4>
<ul>
<li>User-Agent å­—ç¬¦ä¸²</li>
<li>æµè§ˆå™¨ç‰ˆæœ¬å’Œç±»å‹</li>
<li>æ“ä½œç³»ç»Ÿä¿¡æ¯</li>
<li>ç³»ç»Ÿè¯­è¨€å’Œåœ°åŒºè®¾ç½®</li>
</ul>
<h4 data-id="heading-5">2. <strong>ç¡¬ä»¶ä¿¡æ¯</strong> ï¼ˆæ˜“å˜æ€§ï¼šæä½ï¼‰</h4>
<ul>
<li>CPU æ ¸å¿ƒæ•°ï¼ˆ<code>navigator.hardwareConcurrency</code>ï¼‰</li>
<li>è®¾å¤‡å†…å­˜å¤§å°ï¼ˆ<code>navigator.deviceMemory</code>ï¼‰</li>
<li>å±å¹•åˆ†è¾¨ç‡å’Œ DPI</li>
<li>GPU ä¿¡æ¯</li>
</ul>
<h4 data-id="heading-6">3. <strong>é«˜ç†µå±æ€§</strong> ï¼ˆæ˜“å˜æ€§ï¼šä¸­ç­‰ï¼‰</h4>
<ul>
<li>Canvas æŒ‡çº¹</li>
<li>WebGL æŒ‡çº¹</li>
<li>å­—ä½“åˆ—è¡¨</li>
<li>æ’ä»¶åˆ—è¡¨</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Canvas æŒ‡çº¹ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getCanvasFingerprint</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);
  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
  ctx.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'top'</span>;
  ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'14px Arial'</span>;
  ctx.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'alphabetic'</span>;
  ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#f60'</span>;
  ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">125</span>, <span class="hljs-number">1</span>, <span class="hljs-number">62</span>, <span class="hljs-number">20</span>);
  ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#069'</span>;
  ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'æµè§ˆå™¨æŒ‡çº¹æµ‹è¯•'</span>, <span class="hljs-number">2</span>, <span class="hljs-number">15</span>);
  ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgba(102, 204, 0, 0.7)'</span>;
  ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'æµè§ˆå™¨æŒ‡çº¹æµ‹è¯•'</span>, <span class="hljs-number">4</span>, <span class="hljs-number">17</span>);
  <span class="hljs-keyword">return</span> canvas.<span class="hljs-title function_">toDataURL</span>();
}
</code></pre>
<h4 data-id="heading-7">4. <strong>è¡Œä¸ºç‰¹å¾</strong> ï¼ˆæ˜“å˜æ€§ï¼šé«˜ï¼‰</h4>
<ul>
<li>é¼ æ ‡ç§»åŠ¨æ¨¡å¼</li>
<li>é”®ç›˜æ•²å‡»ä¹ æƒ¯</li>
<li>è§¦æ‘¸å±å‹åŠ›ä¿¡æ¯</li>
<li>è®¾å¤‡æ–¹å‘ä¼ æ„Ÿå™¨</li>
</ul>
<h3 data-id="heading-8">æŒ‡çº¹è¯†åˆ«çš„åŸç†</h3>
<h4 data-id="heading-9">ä¿¡æ¯ç†µç†è®º</h4>
<p>æµè§ˆå™¨æŒ‡çº¹ä¾èµ–äº<strong>ä¿¡æ¯ç†µ</strong>çš„æ¦‚å¿µã€‚æ¯ä¸ªç‰¹å¾éƒ½æœ‰ä¸€å®šçš„"åŒºåˆ†åº¦"ï¼š</p>






























<table><thead><tr><th>ç‰¹å¾</th><th>åŒºåˆ†åº¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>User-Agent</td><td>ä¸­</td><td>å¸¸è§çš„å‡ åç§ç»„åˆ</td></tr><tr><td>å±å¹•åˆ†è¾¨ç‡</td><td>ä¸­</td><td>å‡ ç™¾ç§å¸¸è§åˆ†è¾¨ç‡</td></tr><tr><td>Canvas æŒ‡çº¹</td><td>é«˜</td><td>å­—ä½“æ¸²æŸ“å·®å¼‚å¯¼è‡´ä¸åŒçš„ä½å›¾</td></tr><tr><td>WebGL + Canvas</td><td>æé«˜</td><td>ç»¼åˆå¤šä¸ªå› ç´ ï¼Œç»„åˆæ•°æå¤§</td></tr></tbody></table>
<h4 data-id="heading-10">ç»¼åˆæŒ‡çº¹ç”Ÿæˆ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ FingerprintJS åº“çš„æ¦‚å¿µ</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateBrowserFingerprint</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> components = {
    <span class="hljs-comment">// åŸºç¡€ä¿¡æ¯</span>
    <span class="hljs-attr">userAgent</span>: navigator.<span class="hljs-property">userAgent</span>,
    <span class="hljs-attr">language</span>: navigator.<span class="hljs-property">language</span>,
    
    <span class="hljs-comment">// ç¡¬ä»¶ä¿¡æ¯</span>
    <span class="hljs-attr">hardwareConcurrency</span>: navigator.<span class="hljs-property">hardwareConcurrency</span>,
    <span class="hljs-attr">deviceMemory</span>: navigator.<span class="hljs-property">deviceMemory</span>,
    <span class="hljs-attr">maxTouchPoints</span>: navigator.<span class="hljs-property">maxTouchPoints</span>,
    
    <span class="hljs-comment">// Canvas æŒ‡çº¹</span>
    <span class="hljs-attr">canvas</span>: <span class="hljs-title function_">getCanvasFingerprint</span>(),
    
    <span class="hljs-comment">// WebGL æŒ‡çº¹</span>
    <span class="hljs-attr">webgl</span>: <span class="hljs-title function_">getWebGLInfo</span>(),
    
    <span class="hljs-comment">// æ—¶åŒº</span>
    <span class="hljs-attr">timezone</span>: <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">DateTimeFormat</span>().<span class="hljs-title function_">resolvedOptions</span>().<span class="hljs-property">timeZone</span>,
    
    <span class="hljs-comment">// å­—ä½“æ£€æµ‹</span>
    <span class="hljs-attr">fonts</span>: <span class="hljs-title function_">detectInstalledFonts</span>(),
    
    <span class="hljs-comment">// æ’ä»¶ä¿¡æ¯</span>
    <span class="hljs-attr">plugins</span>: <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(navigator.<span class="hljs-property">plugins</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.<span class="hljs-property">name</span>)
  };
  
  <span class="hljs-comment">// è½¬æ¢ä¸ºå“ˆå¸Œå€¼</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">hashObject</span>(components);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">hashObject</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-keyword">const</span> str = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj);
  <span class="hljs-comment">// ä½¿ç”¨ SubtleCrypto æˆ–å…¶ä»–å“ˆå¸Œç®—æ³•</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">simpleHash</span>(str);
}
</code></pre>
<h3 data-id="heading-11">æŒ‡çº¹è¯†åˆ«çš„åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-12">âœ… åˆæ³•åº”ç”¨</h4>
<ol>
<li>
<p><strong>åæ¬ºè¯ˆå’Œé£é™©ç®¡ç†</strong></p>
<ul>
<li>æ£€æµ‹è´¦æˆ·æ¥ç®¡ï¼ˆAccount Takeoverï¼‰</li>
<li>è¯†åˆ«é«˜é£é™©äº¤æ˜“</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨è®¤è¯</strong></p>
<ul>
<li>å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰çš„è¡¥å……æ‰‹æ®µ</li>
<li>è®¾å¤‡ç»‘å®š</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</strong></p>
<ul>
<li>è®°ä½ç”¨æˆ·åå¥½è®¾ç½®</li>
<li>åŠ è½½ä¼˜åŒ–çš„èµ„æºç‰ˆæœ¬</li>
</ul>
</li>
<li>
<p><strong>åˆ†æå’Œç»Ÿè®¡</strong></p>
<ul>
<li>äº†è§£ç”¨æˆ·è®¾å¤‡åˆ†å¸ƒ</li>
<li>å…¼å®¹æ€§æµ‹è¯•</li>
</ul>
</li>
</ol>
<h4 data-id="heading-13">âš ï¸ æœ‰äº‰è®®çš„åº”ç”¨</h4>
<ol>
<li>
<p><strong>ç”¨æˆ·è¿½è¸ª</strong></p>
<ul>
<li>è·¨åŸŸè¿½è¸ªç”¨æˆ·è¡Œä¸º</li>
<li>å¹¿å‘ŠæŠ•æ”¾å’Œé‡å®šå‘</li>
</ul>
</li>
<li>
<p><strong>éšç§ä¾µçŠ¯</strong></p>
<ul>
<li>åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¯†åˆ«èº«ä»½</li>
<li>æ•°æ®ä¹°å–</li>
</ul>
</li>
</ol>
<h3 data-id="heading-14">é˜²æŠ¤æªæ–½</h3>
<h4 data-id="heading-15">1. <strong>æµè§ˆå™¨å±‚é¢</strong></h4>
<h5 data-id="heading-16">Chromium ç³»åˆ—</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¯ç”¨éšç§æµè§ˆæ¨¡å¼</span>
<span class="hljs-comment">// ä½¿ç”¨ Incognito æ¨¡å¼å‡å°‘æŒ‡çº¹ç‰¹å¾çš„ç¨³å®šæ€§</span>
</code></pre>
<h5 data-id="heading-17">Firefox</h5>
<ul>
<li>å¯ç”¨"é˜²æ­¢è¿½è¸ª"åŠŸèƒ½</li>
<li>é…ç½® <code>privacy.resistFingerprinting = true</code></li>
<li>ç»“åˆ uBlock Origin ç­‰å¹¿å‘Šæ‹¦æˆªå™¨</li>
</ul>
<h5 data-id="heading-18">Safari</h5>
<ul>
<li>å¯ç”¨"æ™ºèƒ½é˜²è¿½è¸ª"ï¼ˆIntelligent Tracking Preventionï¼‰</li>
<li>é™åˆ¶è·¨åŸŸè„šæœ¬è®¿é—®æ•æ„Ÿä¿¡æ¯</li>
</ul>
<h4 data-id="heading-19">2. <strong>ä¸ªäººé˜²æŠ¤æŠ€å·§</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. ä½¿ç”¨ä»£ç†æˆ– VPN æ”¹å˜ IP</span>
<span class="hljs-comment">// 2. å®šæœŸæ¸…é™¤æµè§ˆå™¨æ•°æ®</span>
<span class="hljs-comment">// 3. ä½¿ç”¨æµè§ˆå™¨æ‰©å±•æ··æ·†æŒ‡çº¹</span>

<span class="hljs-comment">// ç¤ºä¾‹ï¼šCanvas æŒ‡çº¹æ··æ·†</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'beforecreatecanvas'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// æ³¨å…¥è™šå‡çš„ Canvas æ•°æ®</span>
  e.<span class="hljs-property">detail</span>.<span class="hljs-property">context</span>.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'rgba(random, random, random)'</span>;
});

<span class="hljs-comment">// 4. ç¦ç”¨ JavaScriptï¼ˆæ¿€è¿›åšæ³•ï¼Œå½±å“ç½‘ç«™åŠŸèƒ½ï¼‰</span>
<span class="hljs-comment">// 5. ä½¿ç”¨ Tor æµè§ˆå™¨ï¼ˆå®Œæ•´çš„æŒ‡çº¹éšè—ï¼‰</span>
</code></pre>
<h4 data-id="heading-20">3. <strong>å¼€å‘è€…è´£ä»»</strong></h4>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… DO: æ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·</span>
<span class="hljs-comment">// åœ¨éšç§æ”¿ç­–ä¸­å£°æ˜ä½¿ç”¨æµè§ˆå™¨æŒ‡çº¹çš„ç›®çš„</span>

<span class="hljs-comment">// âŒ DON'T: æš—ä¸­æ”¶é›†æŒ‡çº¹ç”¨äºè¿½è¸ª</span>
<span class="hljs-comment">// é¿å…åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¯†åˆ«èº«ä»½</span>

<span class="hljs-comment">// âœ… DO: ä½¿ç”¨åˆè§„å·¥å…·</span>
<span class="hljs-comment">// å¦‚æœéœ€è¦è®¾å¤‡è¯†åˆ«ï¼Œä¼˜å…ˆä½¿ç”¨ First-Party Data</span>
<span class="hljs-comment">// è€Œä¸æ˜¯è·¨åŸŸæŒ‡çº¹è¿½è¸ª</span>
</code></pre>
<h3 data-id="heading-21">ä¸šç•Œç°çŠ¶å’Œè¶‹åŠ¿</h3>
<h4 data-id="heading-22">éšç§ä¿æŠ¤çš„è¿›å±•</h4>
<ol>
<li>
<p><strong>æ ‡å‡†åŒ–åŠªåŠ›</strong></p>
<ul>
<li>W3C çš„éšç§ç¤¾ç¾¤å°ç»„ï¼ˆPrivacy Community Groupï¼‰</li>
<li>IETF çš„æŒ‡çº¹è¯†åˆ«é˜²æŠ¤å·¥ä½œ</li>
</ul>
</li>
<li>
<p><strong>æµè§ˆå™¨æ›´æ–°</strong></p>
<ul>
<li>Chrome è®¡åˆ’é™åˆ¶é«˜ç†µå±æ€§è®¿é—®</li>
<li>Safari å·²å¼ºåˆ¶å¯ç”¨é˜²è¿½è¸ª</li>
<li>Firefox æ¨è¿› RFPï¼ˆResist Fingerprintingï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ›¿ä»£æ–¹æ¡ˆ</strong></p>
<ul>
<li>Topics APIï¼ˆGoogle éšç§æ²™ç®±ï¼‰</li>
<li>Federated Learning of Cohortsï¼ˆå·²åºŸå¼ƒï¼‰</li>
<li>å›åˆ° First-Party Cookies</li>
</ul>
</li>
</ol>
<h4 data-id="heading-23">æŒ‡çº¹è¯†åˆ«çš„æœªæ¥</h4>
<pre><code class="hljs language-markdown" lang="markdown">æŒ‡çº¹è¯†åˆ«èƒ½åŠ› â”€â”€â†’ é€æ­¥è¢«é™åˆ¶ï¼ˆè·¨åŸŸï¼‰
<span class="hljs-code">                  â†“
      ç¬¬ä¸€æ–¹æ•°æ® + é¦–æ–¹ Cookie â”€â”€â†’ ä¸»æµæ–¹æ¡ˆ
                  â†“
        éšç§ä¿æŠ¤ä¸å•†ä¸šå¹³è¡¡
</span></code></pre>
<h3 data-id="heading-24">å®è·µå·¥å…·å’Œèµ„æº</h3>
<h4 data-id="heading-25">æ£€æµ‹æŒ‡çº¹çš„å¼€æºåº“</h4>





















<table><thead><tr><th>åº“</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>FingerprintJS</td><td>åŠŸèƒ½å…¨é¢ï¼Œå•†ä¸šæ”¯æŒ</td></tr><tr><td>BrowserLeaks</td><td>æ£€æµ‹å·¥å…·ï¼Œå¯è§†åŒ–ç»“æœ</td></tr><tr><td>Panopticlick</td><td>EFF å¼€å‘ï¼Œæ•™è‚²ç”¨é€”</td></tr></tbody></table>
<h4 data-id="heading-26">åœ¨çº¿æµ‹è¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¿é—®ä»¥ä¸‹ç½‘ç«™æŸ¥çœ‹ä½ çš„æŒ‡çº¹ä¿¡æ¯</span>
https://browserleaks.com/
https://panopticlick.eff.org/
https://whatruns.com/
</code></pre>
<h3 data-id="heading-27">æ€»ç»“</h3>
<p>æµè§ˆå™¨æŒ‡çº¹æ˜¯ä¸€æŠŠ"åŒåˆƒå‰‘"ï¼š</p>

























<table><thead><tr><th>ç»´åº¦</th><th>è¯„ä»·</th></tr></thead><tbody><tr><td><strong>å®‰å…¨æ€§</strong></td><td>âœ… æœ‰åŠ©äºåæ¬ºè¯ˆ</td></tr><tr><td><strong>éšç§æ€§</strong></td><td>âŒ å®¹æ˜“è¢«æ»¥ç”¨è¿½è¸ª</td></tr><tr><td><strong>å¯é æ€§</strong></td><td>âš ï¸ æ˜“å˜æ€§é«˜ï¼Œä¸ç¨³å®š</td></tr><tr><td><strong>ç”¨æˆ·ä½“éªŒ</strong></td><td>âš ï¸ å¯èƒ½å½±å“åˆæ³•ç”¨æˆ·</td></tr></tbody></table>
<p><strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li>ä½œä¸ºç”¨æˆ·ï¼šæé«˜éšç§æ„è¯†ï¼Œä½¿ç”¨éšç§å·¥å…·</li>
<li>ä½œä¸ºå¼€å‘è€…ï¼šé€æ˜å£°æ˜ï¼Œè´Ÿè´£ä»»ä½¿ç”¨</li>
<li>ä½œä¸ºå¹³å°ï¼šæ”¯æŒéšç§æ ‡å‡†ï¼Œæä¾›ç”¨æˆ·æ§åˆ¶</li>
</ul>
<hr/>
<h3 data-id="heading-28">å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2Fcommunity%2Fprivacycg%2F" target="_blank" title="https://www.w3.org/community/privacycg/" ref="nofollow noopener noreferrer">W3C Privacy Community Group</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.eff.org%2F" target="_blank" title="https://www.eff.org/" ref="nofollow noopener noreferrer">EFF çš„æµè§ˆå™¨éšç§ç ”ç©¶</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffingerprint.com%2Fjs%2F" target="_blank" title="https://fingerprint.com/js/" ref="nofollow noopener noreferrer">FingerprintJS å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fowasp.org%2F" target="_blank" title="https://owasp.org/" ref="nofollow noopener noreferrer">OWASP æŒ‡çº¹è¯†åˆ«é˜²æŠ¤æŒ‡å—</a></li>
</ul>
<p><strong>æƒ³æ·±å…¥å­¦ä¹ ï¼Ÿ</strong> ç•™è¨€è®¨è®ºä½ çš„è§‚ç‚¹å’Œå®è·µç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†]]></title>    <link>https://juejin.cn/post/7579995569689919522</link>    <guid>https://juejin.cn/post/7579995569689919522</guid>    <pubDate>2025-12-05T10:24:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579995569689919522" data-draft-id="7579995569689903138" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-05T10:24:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CCç ç "/> <meta itemprop="url" content="https://juejin.cn/user/3800389147179720"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3800389147179720/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CCç ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:24:28.000Z" title="Fri Dec 05 2025 10:24:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯CCï¼Œåœ¨è¿™é‡Œæ¬¢è¿å¤§å®¶çš„åˆ°æ¥ï½</p>
<h2 data-id="heading-0">ç®€ä»‹</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘åœºæ™¯ä¸­å¤§å¤šæ•°æ˜¯ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ã€ç©ºæ ¼æˆ–è€…æ¢è¡Œç¬¦æ¥è¿›è¡Œæ–‡æœ¬åˆ†å‰²ã€‚ç°åœ¨å¯ä»¥è¯•è¯•æ–°çš„åˆ†å‰²å·¥å…·-<strong>Intl.Segmenter</strong>ã€‚</p>
<p><strong>Intl.Segmenter</strong> æ”¯æŒæ ¹æ®è¯­è¨€è¿›è¡Œçš„æ–‡æœ¬åˆ†å‰²ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆç‰‡æ®µï¼Œåˆ†å‰²ç±»å‹åŒ…æ‹¬å­—ã€è¯å’Œå¥ã€‚</p>
<h2 data-id="heading-1">è¯•è¯•åˆ†å‰²æ•ˆæœ</h2>
<p>ä»¥ç®€ä½“ä¸­æ–‡ä¸ºä¾‹ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆè®¾ç½®æŒ‰ç…§è¯ï¼ˆwordï¼‰åˆ†å‰²ï¼š</p>
<h3 data-id="heading-2">æŒ‰è¯åˆ†å‰²-å¤šè¯­è¨€åˆ†è¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> segmenter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">Segmenter</span>(<span class="hljs-string">"zh-Hans-CN"</span>, { <span class="hljs-attr">granularity</span>: <span class="hljs-string">"word"</span> });
<span class="hljs-keyword">const</span> string = <span class="hljs-string">"å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†"</span>;

<span class="hljs-keyword">const</span> iterator = segmenter.<span class="hljs-title function_">segment</span>(string)[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> iterator) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item.<span class="hljs-property">segment</span>);
}
<span class="hljs-comment">// å‰ç«¯</span>
<span class="hljs-comment">// æ–‡æœ¬</span>
<span class="hljs-comment">// åˆ†å‰²</span>
<span class="hljs-comment">// å·¥å…·</span>
<span class="hljs-comment">// ï¼Œ</span>
<span class="hljs-comment">// â€œ</span>
<span class="hljs-comment">// ä»–</span>
<span class="hljs-comment">// â€</span>
<span class="hljs-comment">// æ¥</span>
<span class="hljs-comment">// äº†</span>
</code></pre>
<p>æ•ˆæœè¿˜ä¸é”™ï¼Œæœ‰ç‚¹ç±»ä¼¼è¯ä¹‰åˆ†å‰²äº†ã€‚å†çœ‹çœ‹å…¶ä»–åˆ†å‰²æ–¹å¼ã€‚</p>
<h3 data-id="heading-3">æŒ‰å­—åˆ†å‰²ï¼ˆé»˜è®¤ï¼‰-å¤„ç†å¤æ‚å­—ç¬¦</h3>
<p>åœ¨ç®€ä½“ä¸­æ–‡åœºæ™¯ä¸‹æ•ˆæœä¸<code>'å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†'.split("")</code>ç›¸åŒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> segmenter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">Segmenter</span>(<span class="hljs-string">"zh-Hans-CN"</span>, { <span class="hljs-attr">granularity</span>: <span class="hljs-string">"grapheme"</span> });
<span class="hljs-keyword">const</span> string = <span class="hljs-string">"å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†"</span>;

<span class="hljs-keyword">const</span> iterator = segmenter.<span class="hljs-title function_">segment</span>(string)[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> iterator) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item.<span class="hljs-property">segment</span>);
}
<span class="hljs-comment">// å‰</span>
<span class="hljs-comment">// ç«¯</span>
<span class="hljs-comment">// æ–‡</span>
<span class="hljs-comment">// æœ¬</span>
<span class="hljs-comment">// åˆ†</span>
<span class="hljs-comment">// å‰²</span>
<span class="hljs-comment">// å·¥</span>
<span class="hljs-comment">// å…·</span>
<span class="hljs-comment">// ï¼Œ</span>
<span class="hljs-comment">// â€œ</span>
<span class="hljs-comment">// ä»–</span>
<span class="hljs-comment">// â€</span>
<span class="hljs-comment">// æ¥</span>
<span class="hljs-comment">// äº†</span>
</code></pre>
<h3 data-id="heading-4">æŒ‰å¥åˆ†å‰²-å¤šè¯­è¨€å¥å­åˆ†æ</h3>
<p>åŠ äº†åˆ†å·ã€æ„Ÿå¹å·ã€é—®å·ã€å¥å·è¿™äº›æ ‡ç‚¹ç¬¦å·ï¼Œè¿˜æ˜¯å¯ä»¥å®Œæ•´åˆ†å‰²å‡ºæ¥çš„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> segmenter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">Segmenter</span>(<span class="hljs-string">"zh-Hans-CN"</span>, { <span class="hljs-attr">granularity</span>: <span class="hljs-string">"sentence"</span> });
<span class="hljs-keyword">const</span> string = <span class="hljs-string">"å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Œå‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼›å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ã€‚å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Œå‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼›å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Œå‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼›å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Ÿ"</span>;

<span class="hljs-keyword">const</span> iterator = segmenter.<span class="hljs-title function_">segment</span>(string)[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> iterator) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item.<span class="hljs-property">segment</span>);
}
<span class="hljs-comment">// å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Œå‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼›å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ã€‚</span>
<span class="hljs-comment">// å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Œå‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼›å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼</span>
<span class="hljs-comment">// å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Œå‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼›å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†ï¼Ÿ</span>
</code></pre>
<h3 data-id="heading-5">å®Œæ•´æ•°æ®æ ¼å¼</h3>
<p>å®é™…ä¸Šåˆ†å‰²å‡ºæ¥çš„æ¯ä¸ªå•ä½éƒ½æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œé™¤äº† segment ä»£è¡¨æ–‡æœ¬å†…å®¹å¤–ï¼Œè¿˜æœ‰ index ä»£è¡¨ç´¢å¼•ã€input è¡¨ç¤ºåŸæ–‡æœ¬å®Œæ•´å†…å®¹ã€isWordLike è¡¨ç¤ºæ˜¯å¦åƒæ–‡æœ¬å•è¯ï¼ˆå¦‚æœæ˜¯æ ‡ç‚¹ç¬¦å·ç±»å‹çš„å°±ä¼šæ˜¯ <code>false</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">{
    <span class="hljs-string">"segment"</span>: <span class="hljs-string">"å‰ç«¯"</span>,
    <span class="hljs-string">"index"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">"input"</span>: <span class="hljs-string">"å‰ç«¯æ–‡æœ¬åˆ†å‰²å·¥å…·ï¼Œâ€œä»–â€æ¥äº†"</span>,
    <span class="hljs-string">"isWordLike"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h2 data-id="heading-6">åˆ†å‰²çš„å‚æ•°</h2>
<h3 data-id="heading-7">locales</h3>
<p>å½“ç„¶é™¤äº†ç®€ä½“ä¸­æ–‡ï¼Œ<strong>Intl.Segmenter</strong> ä¹Ÿæ”¯æŒå…¶ä»–è¯­è¨€ã€‚</p>
<p><strong>Intl.Segmenter</strong> çš„ç¬¬ä¸€ä¸ªå‚æ•° <code>locales</code> æ”¯æŒå¡«å†™å¸¦æœ‰ BCP 47 è¯­è¨€åŒºåŸŸæ ‡è®°çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…ä¸€ä¸ªè¿™æ ·çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<p>åœ¨ BCP 47 ä¸­è¡¨ç¤ºè¯­è¨€ã€è„šæœ¬ã€å›½å®¶ï¼ˆåŒºåŸŸï¼‰å’Œå˜ä½“ï¼ˆå°‘ç”¨ï¼‰çš„è¯­è¨€å­æ ‡è®°å«ä¹‰å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.iana.org%2Fassignments%2Flanguage-subtag-registry%2Flanguage-subtag-registry" target="_blank" title="https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry" ref="nofollow noopener noreferrer"><strong>IANA è¯­è¨€å­æ ‡è®°æ³¨å†Œ</strong></a> ä¸­æ‰¾åˆ°ã€‚</p>
<h3 data-id="heading-8">localeMatcher</h3>
<p><strong>Intl.Segmenter</strong> çš„ç¬¬äºŒä¸ªå‚æ•°ä¸­é™¤äº†å¯ä»¥é€‰æ‹©å¦‚ä½•åˆ†å‰²å¤–ï¼Œè¿˜å¯ä»¥æ ¹æ® ****<code>locales</code> ****åœ¨ ****<code>lookup</code> ****å’Œ ****<code>best fit</code> ****ä¹‹é—´é€‰æ‹©ä¸€ä¸ªåŒ¹é…ç®—æ³•æ¥é…ç½® <strong>localeMatcher</strong> å‚æ•°ã€‚</p>
<h4 data-id="heading-9">best fit</h4>
<p>é»˜è®¤å€¼ï¼Œè¿è¡Œæ—¶å¯èƒ½ä¼šé€‰æ‹©ä¸€ä¸ªå¯èƒ½æ¯”æŸ¥æ‰¾ç®—æ³•çš„ç»“æœæ›´åŠ åˆé€‚çš„è¯­è¨€åŒºåŸŸã€‚</p>
<h4 data-id="heading-10">lookup</h4>
<p>ä½¿ç”¨ BCP47 æŸ¥æ‰¾ç®—æ³•ä» <code>locales</code> å‚æ•°ä¸­é€‰æ‹©è¯­è¨€åŒºåŸŸã€‚åƒå¦‚æœè¿è¡Œæ—¶æ”¯æŒ <code>"de"</code> ä½†ä¸æ”¯æŒ <code>"de-CH"</code>ï¼Œç”¨æˆ·ä¼ å…¥çš„ <code>"de-CH"</code> å¯èƒ½å°±ä¼šä»¥ <code>"de"</code> ä¸ºç»“æœè¿›è¡Œä½¿ç”¨ã€‚</p>
<h2 data-id="heading-11">åˆ†å‰²å¯¹è±¡çš„æ–¹æ³•</h2>
<h3 data-id="heading-12">åˆ†å‰²å­—ç¬¦ä¸²</h3>
<p>ä¸Šæ–‡ä¸­å¯¹åˆ†å‰²æ–‡æœ¬å¯¹è±¡è¿›è¡Œåˆ†å‰²çš„ <code>segment</code> æ–¹æ³•ã€‚</p>
<h3 data-id="heading-13">åˆ¤æ–­è¿”å›æ”¯æŒçš„ locale</h3>
<p>åœ¨ç»™å®šçš„ <strong>locales</strong> æ•°ç»„ä¸­åˆ¤æ–­å‡º <code>Segmenter</code>æ”¯æŒçš„ <code>locales</code>ã€‚ä½†æ˜¯å¯èƒ½æ¯ä¸ªæµè§ˆå™¨æ”¯æŒçš„ä¸å¤§ä¸€æ ·ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> locales = [<span class="hljs-string">"ban"</span>, <span class="hljs-string">"id-u-co-pinyin"</span>, <span class="hljs-string">"de-ID"</span>];
<span class="hljs-keyword">const</span> options = { <span class="hljs-attr">localeMatcher</span>: <span class="hljs-string">"lookup"</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Intl</span>.<span class="hljs-property">Segmenter</span>.<span class="hljs-title function_">supportedLocalesOf</span>(locales, options));
<span class="hljs-comment">// ["id-u-co-pinyin", "de-ID"]</span>
</code></pre>
<h3 data-id="heading-14">è·å–åˆ†å‰²å¯¹è±¡çš„é…ç½®å‚æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> spanishSegmenter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">Segmenter</span>(<span class="hljs-string">"es"</span>, { <span class="hljs-attr">granularity</span>: <span class="hljs-string">"sentence"</span> });
<span class="hljs-keyword">const</span> options = spanishSegmenter.<span class="hljs-title function_">resolvedOptions</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(options.<span class="hljs-property">locale</span>); <span class="hljs-comment">// "es"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(options.<span class="hljs-property">granularity</span>); <span class="hljs-comment">// "sentence"</span>
</code></pre>
<p>åœ¨å‚æ•°ä¸æ”¯æŒçš„æƒ…å†µä¸‹ä¼šå–å½“å‰è¿è¡Œç¯å¢ƒä¸­é»˜è®¤è¯­è¨€ç¯å¢ƒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> banSegmenter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">Segmenter</span>(<span class="hljs-string">"ban"</span>);
<span class="hljs-keyword">const</span> options = banSegmenter.<span class="hljs-title function_">resolvedOptions</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(options.<span class="hljs-property">locale</span>); <span class="hljs-comment">// "zh-CN"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(options.<span class="hljs-property">granularity</span>); <span class="hljs-comment">// "grapheme"</span>
</code></pre>
<h2 data-id="heading-15">æ€»ç»“</h2>
<p><strong>Intl.Segmenter</strong> å¾ˆé€‚åˆåœ¨æ–‡æœ¬å¤„ç†åœºæ™¯ä¸‹ä½¿ç”¨ï¼Œç»™äº†ä¸€å®šçš„åˆ†å‰²æ ‡å‡†ã€‚å®ƒåœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­è®¡ç®—å…‰æ ‡ç´¢å¼•ã€æœç´¢å»ºè®®çš„ç”Ÿæˆã€æ–‡æœ¬è®¡ç®—é•¿åº¦å’Œæ–‡æœ¬è¿‡æ»¤ï¼Œç”šè‡³åœ¨è‡ªç„¶è¯­è¨€å¤„ç†åœºæ™¯ä¸­éƒ½å¯ä»¥ä½¿ç”¨åˆ°ã€‚</p>
<p>ç›®å‰åœ¨ <strong>fabric.js</strong> ä¸­ä¹Ÿåœ¨è€ƒè™‘ä½¿ç”¨ <strong>Intl.Segmenter</strong> æ¥ä¼˜åŒ–æ–‡æœ¬åˆ†å‰²ï¼Œå¯ä»¥ç ”ç©¶å­¦ä¹ ã€‚</p>
<p>å¤§å®¶å¯èƒ½ä¹Ÿæ³¨æ„åˆ°äº†ï¼Œ<code>Segmenter</code> åªæ˜¯ <code>Intl</code> ä¸‹çš„ä¸€ä¸ªå¯¹è±¡ï¼Œè¿˜æœ‰é’ˆå¯¹åƒæ•°å­—ã€å¤æ•°ã€æ—¥æœŸã€åœ°åŒºç­‰å›½é™…è½¬åŒ–ï¼Œè¿™äº›åç»­å»ç ”ç©¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸‡ç‰©å¯è¿è¡Œï¼šopenEuler çš„è·¨ç”Ÿæ€å…¼å®¹åŠ›å®éªŒ]]></title>    <link>https://juejin.cn/post/7579920818871631914</link>    <guid>https://juejin.cn/post/7579920818871631914</guid>    <pubDate>2025-12-05T08:35:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579920818871631914" data-draft-id="7579920818871599146" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸‡ç‰©å¯è¿è¡Œï¼šopenEuler çš„è·¨ç”Ÿæ€å…¼å®¹åŠ›å®éªŒ"/> <meta itemprop="keywords" content="æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-12-05T08:35:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é½Archie"/> <meta itemprop="url" content="https://juejin.cn/user/2555709341829950"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸‡ç‰©å¯è¿è¡Œï¼šopenEuler çš„è·¨ç”Ÿæ€å…¼å®¹åŠ›å®éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2555709341829950/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é½Archie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T08:35:13.000Z" title="Fri Dec 05 2025 08:35:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šè¶…è¶Šå…¼å®¹ï¼Œä¸€ä¸ªä¸ºä¸“ä¸šäººå£«æ‰“é€ çš„è½¯ä»¶ç”Ÿæ€</h2>
<p>ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„ä»·å€¼ï¼Œç›´æ¥ä½“ç°åœ¨å…¶è½¯ä»¶ç”Ÿæ€çš„æ·±åº¦å’Œå¹¿åº¦ã€‚openEuler å›´ç»•å…¶æ ¸å¿ƒçš„ DNF åŒ…ç®¡ç†å™¨ï¼Œæ„å»ºäº†ä¸€ä¸ªå¤šå±‚æ¬¡ã€å¹¿è¦†ç›–ã€é«˜åº¦å¯æ§çš„è½¯ä»¶ä¾›åº”ç½‘ç»œï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…å’Œç³»ç»Ÿç®¡ç†å‘˜æä¾›ä¸€ä¸ªé«˜æ•ˆã€å¯é ã€çµæ´»çš„è½¯ä»¶ç®¡ç†å¹³å°ã€‚æœ¬æ–‡å°†é€šè¿‡çº¯ç²¹çš„å‘½ä»¤è¡Œå®æˆ˜ï¼Œæ·±å…¥å‰–æ openEuler çš„åŒ…ç®¡ç†ä½“ç³»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8f69ff7bfa24d2284fbc9afee278713~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=%2BpIIpmbBATx8ny7zAJpAUe46kPw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€DNF è¿›é˜¶ï¼šä¸æ­¢äº install çš„å®ç”¨æŠ€å·§</h2>
<p>æŒæ¡ DNF çš„é«˜çº§ç”¨æ³•æ˜¯æå‡æ•ˆç‡çš„ç¬¬ä¸€æ­¥ã€‚</p>
<ol>
<li><strong>åå‘ä¾èµ–æŸ¥è¯¢ (dnf provides)</strong> : æƒ³çŸ¥é“å“ªä¸ªè½¯ä»¶åŒ…æä¾›äº† <code>/usr/bin/htop</code> è¿™ä¸ªæ–‡ä»¶ï¼Ÿ</li>
</ol>

<pre><code class="hljs language-bash" lang="bash">dnf provides /usr/bin/htop
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23667eecbc4947e3a35d9198081dd9de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=Pb8HaaLjb1H9vo%2BgyazM5S3VY3o%3D" alt="" loading="lazy"/></p>
<ol start="2">
<li><strong>å†å²ä¸å›æ»š (dnf history)</strong> : ç³»ç»Ÿè¿›è¡Œäº†å“ªäº›å˜æ›´ï¼Ÿ<code>history</code> å‘½ä»¤ä¸€ç›®äº†ç„¶ï¼Œç”šè‡³å¯ä»¥æ’¤é”€æ“ä½œã€‚</li>
</ol>

<pre><code class="hljs language-bash" lang="bash"> <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å®‰è£…/å¸è½½å†å²</span>
dnf <span class="hljs-built_in">history</span> <span class="hljs-comment"># æŸ¥çœ‹æŸæ¬¡äº‹åŠ¡çš„è¯¦ç»†ä¿¡æ¯</span>
dnf <span class="hljs-built_in">history</span> info 25 <span class="hljs-comment"># æ’¤é”€ç¬¬ 25 æ¬¡äº‹åŠ¡ (ä¾‹å¦‚ï¼Œä¸€æ¬¡é”™è¯¯çš„å®‰è£…) </span>
dnf <span class="hljs-built_in">history</span> undo 25
</code></pre>
<p>3.  <strong>æ¸…ç†æ— ç”¨ä¾èµ– (dnf autoremove)</strong> : å¸è½½è½¯ä»¶åï¼Œå…¶ä¸å†éœ€è¦çš„ä¾èµ–åŒ…ä¼šæ®‹ç•™ã€‚<code>autoremove</code> å¯ä»¥å®‰å…¨åœ°æ¸…ç†å®ƒä»¬ã€‚</p>

<pre><code class="hljs language-csharp" lang="csharp"> <span class="hljs-meta"># å¸è½½ä¸€ä¸ªè½¯ä»¶åï¼Œæ‰§è¡Œæ¸…ç†</span>
dnf <span class="hljs-keyword">remove</span> some-package
dnf autoremove
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€ä»“åº“ç½‘ç»œï¼šç†è§£ openEuler çš„è½¯ä»¶æ¥æº</h2>
<p>openEuler çš„å®˜æ–¹ä»“åº“è®¾è®¡æ¸…æ™°ï¼Œå„å¸å…¶èŒã€‚</p>
<blockquote>
<p><strong>OS</strong>: åŸºç¡€ç³»ç»Ÿæ ¸å¿ƒåŒ…ã€‚ <strong>everything</strong>: ç¤¾åŒºç»´æŠ¤çš„ç»å¤§å¤šæ•°å¼€æºè½¯ä»¶ã€‚ <strong>update</strong>: å®‰å…¨æ›´æ–°å’Œ bug ä¿®å¤ã€‚ <strong>EPOL (Extra Packages for openEuler)</strong> : å®˜æ–¹ä»“åº“çš„é‡è¦è¡¥å……ï¼Œæä¾›å¤§é‡é«˜è´¨é‡ç¬¬ä¸‰æ–¹å¼€æºè½¯ä»¶ã€‚</p>
</blockquote>
<p><strong>å®æˆ˜ï¼šå¯ç”¨ EPOL å¹¶å®‰è£…</strong> <strong><code>nethogs</code></strong> é»˜è®¤ EPOL ä»“åº“å¯èƒ½æ˜¯ç¦ç”¨çš„ï¼Œéœ€è¦æ‰‹åŠ¨å¯ç”¨ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"> <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰ä»“åº“ï¼ŒåŒ…æ‹¬ç¦ç”¨çš„</span>
dnf repolist --all

 <span class="hljs-comment"># ä¸´æ—¶å¯ç”¨ EPOL ä»“åº“æ¥å®‰è£… nethogs (ä¸€ä¸ªç½‘ç»œæµé‡ç›‘æ§å·¥å…·) </span>
dnf <span class="hljs-attr">--enablerepo</span>=epol install nethogs
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3043705a9464b839fb7d7306255eb3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=BzVODdYnIkNofA5e%2BQKDlZBGCoY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€é«˜çº§ä»“åº“ç®¡ç†ï¼šç²¾ç»†åŒ–æ§åˆ¶è½¯ä»¶æº</h2>
<p>å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œç²¾ç»†åŒ–æ§åˆ¶ä»“åº“è‡³å…³é‡è¦ã€‚</p>
<ol start="4">
<li><strong>æ°¸ä¹…å¯ç”¨/ç¦ç”¨ä»“åº“</strong>: ä½¿ç”¨ <code>dnf config-manager</code>ã€‚</li>
</ol>

<pre><code class="hljs language-arduino" lang="arduino"> # æ°¸ä¹…å¯ç”¨ EPOL ä»“åº“
dnf config-manager --set-enabled epol

 # æ°¸ä¹…ç¦ç”¨æŸä¸ªä»“åº“
dnf config-manager --set-disabled epol
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68ff22857a274a999f9a898067be4644~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=EssY2DZDE25Nl0WSLTE3305kxLI%3D" alt="" loading="lazy"/></p>
<ol start="5">
<li><strong>è®¾ç½®ä»“åº“ä¼˜å…ˆçº§</strong>: å½“å¤šä¸ªä»“åº“æä¾›åŒä¸€ä¸ªè½¯ä»¶åŒ…æ—¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® <code>priority</code> (å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜) æ¥æ§åˆ¶å®‰è£…æ¥æºã€‚</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ç¼–è¾‘ /etc/yum.repos.d/isv-critical.repo æ–‡ä»¶</span>
<span class="hljs-section">[isv-critical]</span>
<span class="hljs-attr">name</span>=ISV Critical Tools
<span class="hljs-attr">baseurl</span>=http://repo.isv.com/openeuler/
<span class="hljs-attr">enabled</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">gpgcheck</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">priority</span>=<span class="hljs-number">10</span> <span class="hljs-comment"># è®¾ç½®é«˜ä¼˜å…ˆçº§</span>
</code></pre>
<p>è¿™ç¡®ä¿äº†å³ä½¿å®˜æ–¹ä»“åº“æœ‰åŒååŒ…ï¼Œç³»ç»Ÿä¹Ÿä¼šä¼˜å…ˆä» ISV ä»“åº“å®‰è£…ã€‚</p>
<h2 data-id="heading-4">äº”ã€AppStreamï¼šç»ˆç»“å¤šç‰ˆæœ¬å…±å­˜çš„æ··ä¹±</h2>
<p>AppStream å…è®¸åœ¨ä¸€ä¸ªä»“åº“ä¸­ï¼Œæä¾›ä¸€ä¸ªè½¯ä»¶åŒ…çš„å¤šä¸ªå¹¶è¡Œå¯å®‰è£…çš„ç‰ˆæœ¬æµ (Stream)ï¼Œå½»åº•è§£å†³äº†å¤šç‰ˆæœ¬ç®¡ç†çš„éš¾é¢˜ã€‚</p>
<ol start="6">
<li><strong>æŸ¥çœ‹å¯ç”¨æ¨¡å—</strong>: ä»¥ PostgreSQL ä¸ºä¾‹ï¼š</li>
</ol>

<pre><code class="hljs language-arduino" lang="arduino">dnf <span class="hljs-keyword">module</span> list postgresql
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e0c8e574b8f46b3973bcfc833e606df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=6Hbq2ZPm%2Futq4JcAZPEObMY26dc%3D" alt="" loading="lazy"/></p>
<ol start="7">
<li><strong>åˆ‡æ¢å¹¶å®‰è£…æŒ‡å®šç‰ˆæœ¬</strong>: é¡¹ç›®éœ€è¦ PostgreSQL 13ï¼Ÿ</li>
</ol>

<pre><code class="hljs language-ruby" lang="ruby"> <span class="hljs-comment"># 1. é‡ç½®å½“å‰æ¨¡å—çŠ¶æ€ (å¦‚æœä¹‹å‰å¯ç”¨è¿‡å…¶ä»–ç‰ˆæœ¬) </span>
dnf <span class="hljs-keyword">module</span> reset postgresql

 <span class="hljs-comment"># 2. å¯ç”¨ postgresql:13 è¿™ä¸ªæµ</span>
dnf <span class="hljs-keyword">module</span> enable <span class="hljs-symbol">postgresql:</span><span class="hljs-number">13</span>

 <span class="hljs-comment"># 3. æ­£å¸¸å®‰è£…ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©ç‰ˆæœ¬ 13</span>
dnf install postgresql-server
</code></pre>
<h2 data-id="heading-5">å…­ã€å®‰å…¨ä¼˜å…ˆï¼šåŸºäº CVE çš„ç²¾å‡†æ›´æ–°</h2>
<p>å¯¹äºç”Ÿäº§ç³»ç»Ÿï¼Œå…¨é‡æ›´æ–°å¯èƒ½å¸¦æ¥é£é™©ã€‚DNF æ”¯æŒä»…é’ˆå¯¹å®‰å…¨æ¼æ´è¿›è¡Œæ›´æ–°ã€‚</p>
<ol start="8">
<li><strong>æŸ¥çœ‹å®‰å…¨æ›´æ–°ä¿¡æ¯</strong>:</li>
</ol>

<pre><code class="hljs language-bash" lang="bash"> <span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å®‰å…¨é€šå‘Š</span>
dnf updateinfo list security

 <span class="hljs-comment"># æŸ¥çœ‹æŸä¸ªå…·ä½“å®‰å…¨é€šå‘Šçš„è¯¦ç»†ä¿¡æ¯ (ä¾‹å¦‚ï¼Œä¿®å¤äº†å“ªä¸ª CVE) </span>
dnf updateinfo info OE-SA-2023-1234
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9caad120a4a4a18be1b4aa510cdb562~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=q%2B8pd13U9Wpsu8TxY1wPt9IIRA4%3D" alt="" loading="lazy"/></p>
<ol start="9">
<li><strong>æ‰§è¡Œå®‰å…¨æ›´æ–°</strong>:</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"> <span class="hljs-comment"># ä»…å®‰è£…æ ‡è®°ä¸º â€œImportantâ€ çº§åˆ«çš„å®‰å…¨æ›´æ–°</span>
dnf update <span class="hljs-attr">--sec-severity</span>=Important

 <span class="hljs-comment"># ä»…å®‰è£…ç”¨äºä¿®å¤ç‰¹å®š CVE (ä¾‹å¦‚ CVE-2023-12345) çš„æ›´æ–°</span>
dnf update --cve CVE-2023-12345
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9f3bbe10c544f079270a1d7a9d3173a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=ptyCrDD8to%2FyEjSya0w2OwqIOYA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">ä¸ƒã€å¼€å‘è€…è§†è§’ï¼šè½»æ¾è·å–æºç åŒ…</h2>
<p>éœ€è¦å¯¹æŸä¸ªè½¯ä»¶åŒ…è¿›è¡ŒäºŒæ¬¡å¼€å‘æˆ–Debugï¼Ÿè·å–å…¶æºç åŒ…éå¸¸ç®€å•ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"> <span class="hljs-comment"># 1. ç¡®ä¿æºç ä»“åº“å·²å¯ç”¨</span>
dnf config-manager --set-enabled <span class="hljs-built_in">source</span> <span class="hljs-comment"># 2. ä¸‹è½½ nginx çš„æºç åŒ… (.src.rpm) </span>
dnf download --<span class="hljs-built_in">source</span> nginx
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecc692a2640f486a8301baf43c18dec0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=7rgYZ8ca4zQHbYa93r8zg8dphTc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">å…«ã€ç”Ÿæ€æ‰©å±•ï¼šå®¹å™¨é•œåƒä¸ ISV è½¯ä»¶</h2>
<p>openEuler çš„è½¯ä»¶ç”Ÿæ€è¿œä¸æ­¢äº RPM åŒ…ã€‚</p>
<ol start="10">
<li><strong>å®˜æ–¹å®¹å™¨é•œåƒ</strong>: é€šè¿‡ Docker Hub æˆ–å…¶ä»–é•œåƒæºï¼Œå¯ä»¥ç§’çº§è·å–ä¸€ä¸ªçº¯å‡€çš„ openEuler è¿è¡Œç¯å¢ƒã€‚</li>
</ol>

<pre><code class="hljs language-bash" lang="bash">podman pull openeuler/openeuler:22.03-lts
podman run -it --<span class="hljs-built_in">rm</span> openeuler/openeuler:22.03-lts bash
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55a67dd6a4904b8698f3b38caf3521d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=ZftEziWJbtdQjHbLJiLqu95n6K8%3D" alt="" loading="lazy"/></p>
<ol start="11">
<li><strong>ISV è½¯ä»¶é›†æˆ</strong>: å•†ä¸šè½¯ä»¶é€šå¸¸é€šè¿‡ç‹¬ç«‹çš„ <code>.repo</code> æ–‡ä»¶æä¾›ã€‚</li>
</ol>

<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"> # </span><span class="bash">ç¤ºä¾‹ï¼šä» ISV å‚å•†å¤„ä¸‹è½½å¹¶å®‰è£… repo æ–‡ä»¶curl -o /etc/yum.repos.d/isv-database.repo http://repo.isv.com/openeuler.repo</span>
<span class="hljs-meta prompt_">
 # </span><span class="bash">æ›´æ–°ç¼“å­˜åå³å¯å®‰è£… ISV è½¯ä»¶</span>
dnf makecache
dnf install isv-database-client
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e0e2e4d186646d992083ce348f846de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528513&amp;x-signature=%2FNbrpOQwPRG01MT3ZYHbpVkNt0g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">ä¹ã€ç»“è®ºï¼šä¸€ä¸ªä¸ºä¸“ä¸šäººå£«æ‰“é€ çš„å¼ºå¤§è½¯ä»¶å¹³å°</h2>
<p>openEuler çš„åŒ…ç”Ÿæ€ç³»ç»Ÿï¼Œé€šè¿‡ DNF çš„å¼ºå¤§åŠŸèƒ½ã€å±‚æ¬¡åŒ–çš„å®˜æ–¹ä»“åº“ã€çµæ´»çš„ AppStream æœºåˆ¶ã€å®‰å…¨é©±åŠ¨çš„æ›´æ–°ç­–ç•¥ä»¥åŠå¯¹å®¹å™¨å’Œå•†ä¸šè½¯ä»¶çš„è‰¯å¥½æ”¯æŒï¼Œä¸ºå¼€å‘è€…å’Œç³»ç»Ÿç®¡ç†å‘˜æä¾›äº†ä¸€ä¸ªé«˜åº¦ä¸“ä¸šã€åŠŸèƒ½å®Œå¤‡çš„è½¯ä»¶ç®¡ç†å¹³å°ã€‚å®ƒä¸ä»…è§£å†³äº†è½¯ä»¶â€œæœ‰æ²¡æœ‰â€çš„é—®é¢˜ï¼Œæ›´åœ¨â€œå¦‚ä½•é«˜æ•ˆã€å®‰å…¨ã€çµæ´»åœ°ç®¡ç†è½¯ä»¶â€è¿™ä¸€æ ¸å¿ƒå‘½é¢˜ä¸Šï¼Œç»™å‡ºäº†ä»¤äººä¿¡æœçš„ç­”æ¡ˆã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»èŠ¯åˆ°äº‘ï¼šopenEuler æ‰“é€ çš„å…¨åœºæ™¯è½¯ä»¶ç”Ÿæ€é“¾]]></title>    <link>https://juejin.cn/post/7579926120097366079</link>    <guid>https://juejin.cn/post/7579926120097366079</guid>    <pubDate>2025-12-05T08:47:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579926120097366079" data-draft-id="7579926120097333311" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»èŠ¯åˆ°äº‘ï¼šopenEuler æ‰“é€ çš„å…¨åœºæ™¯è½¯ä»¶ç”Ÿæ€é“¾"/> <meta itemprop="keywords" content="äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2025-12-05T08:47:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é½Archie"/> <meta itemprop="url" content="https://juejin.cn/user/2555709341829950"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»èŠ¯åˆ°äº‘ï¼šopenEuler æ‰“é€ çš„å…¨åœºæ™¯è½¯ä»¶ç”Ÿæ€é“¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2555709341829950/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é½Archie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T08:47:40.000Z" title="Fri Dec 05 2025 08:47:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šè¶…è¶Šæ“ä½œç³»ç»Ÿï¼Œæˆä¸ºæ•°å­—ä¸–ç•Œçš„â€œé€šç”¨åº•ç›˜â€</h2>
<p>åœ¨ç°ä»£äº§ä¸šæ•°å­—åŒ–ä¸­ï¼Œæ•°æ®æµå’Œè®¡ç®—ä»»åŠ¡ä¸å†å±€é™äºäº‘ç«¯æ•°æ®ä¸­å¿ƒã€‚å®ƒä»¬äº§ç”Ÿäº<strong>ç»ˆç«¯ (IoT)</strong> ï¼Œæ±‡èšäº<strong>è¾¹ç¼˜ (Edge)</strong> ï¼Œæœ€ç»ˆåœ¨<strong>äº‘ç«¯ (Cloud)</strong> è¿›è¡Œæ·±åº¦åˆ†æå’Œè®­ç»ƒã€‚è¿™ç§å…¨åœºæ™¯çš„ä¸šåŠ¡æ¨¡å¼ï¼Œå¯¹åº•å±‚è½¯ä»¶åŸºç¡€è®¾æ–½æå‡ºäº†ç»ˆææŒ‘æˆ˜ï¼šå¦‚ä½•ç”¨ä¸€å¥—ç»Ÿä¸€ã€è¿è´¯çš„è½¯ä»¶æ ˆï¼Œæ‰“é€šä»èŠ¯ç‰‡åˆ°äº‘ç«¯çš„ä»»ç£äºŒè„‰ï¼Ÿ</p>
<p>å„è‡ªä¸ºæ”¿çš„æ“ä½œç³»ç»Ÿå¸¦æ¥äº†å·¨å¤§çš„æŠ€æœ¯å£å’å’Œç”Ÿæ€ç¢ç‰‡åŒ–ã€‚openEuler çš„æ ¸å¿ƒæˆ˜ç•¥ï¼Œæ­£æ˜¯è¦æˆä¸ºè¿™ä¸ªå…¨åœºæ™¯æ—¶ä»£çš„ <strong>â€œæ•°å­—ä¸–ç•Œé€šç”¨åº•ç›˜â€</strong> ã€‚æˆ‘ä»¬è¿™æ¬¡å°†é€šè¿‡ä¸‰ä¸ªç¯ç¯ç›¸æ‰£çš„å®æˆ˜åœºæ™¯ï¼Œä»äº‘ç«¯é«˜æ€§èƒ½æ•°æ®åº“ï¼Œåˆ°è¾¹ç¼˜ AI æ¨ç†ï¼Œå†åˆ°ç»ˆç«¯ IoT å¼€å‘ï¼Œå±•ç¤º openEuler å¦‚ä½•æ„å»ºä¸€ä¸ª<strong>ä»èŠ¯ç‰‡é€‚é…åˆ°åº”ç”¨ä½¿èƒ½çš„å®Œæ•´è½¯ä»¶ç”Ÿæ€é“¾</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1e595593d4e4c81ba77717645e4fa26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=%2FZ5WZshtw5DMpQTKIE9wgpKRsRE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€ç”Ÿæ€é“¾åŸºçŸ³ï¼šä¸€å¥—æ¶æ„ï¼Œæ”¯æŒå¤šæ ·æ€§ç®—åŠ›</h2>
<p>openEuler å…¨åœºæ™¯æˆ˜ç•¥çš„åŸºçŸ³ï¼Œåœ¨äºå…¶å¯¹ä¸»æµè®¡ç®—æ¶æ„çš„<strong>åŸç”Ÿã€ç»Ÿä¸€æ”¯æŒ</strong>ã€‚æ— è®ºæ˜¯äº‘ç«¯çš„ x86 æœåŠ¡å™¨ï¼Œè¿˜æ˜¯è¾¹ç¼˜/ç»ˆç«¯çš„ ARM èŠ¯ç‰‡ï¼ŒopenEuler éƒ½æä¾›äº†ä¸€è‡´çš„å†…æ ¸ã€ç³»ç»Ÿè°ƒç”¨æ¥å£å’Œç”¨æˆ·æ€ç¯å¢ƒã€‚</p>
<h3 data-id="heading-2">2.1 äº‘ç«¯ç®—åŠ›è¯†åˆ« (x86_64)</h3>
<pre><code class="hljs language-perl" lang="perl"> <span class="hljs-comment"># åœ¨å…¸å‹çš„ x86 äº‘æœåŠ¡å™¨ä¸Šæ‰§è¡Œ</span>
lscpu | <span class="hljs-keyword">grep</span> -iE <span class="hljs-string">"arch|model name|cpu(s)|numa"</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/791e0416720f431caae7e35599dfb5a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=RvXjr6YWeckskz2qMghsSzrBskg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2.2 è¾¹ç¼˜/ç»ˆç«¯ç®—åŠ›è¯†åˆ« (AArch64)</h3>
<pre><code class="hljs language-perl" lang="perl"> <span class="hljs-comment"># åœ¨å…¸å‹çš„ ARM è¾¹ç¼˜è®¾å¤‡æˆ–å¼€å‘æ¿ä¸Šæ‰§è¡Œ</span>
lscpu | <span class="hljs-keyword">grep</span> -iE <span class="hljs-string">"arch|model name|cpu(s)"</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bca568c484c452faa95835cec5c454f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=bB4yjQIi82t3GYxO6CqN%2Br%2B%2BZHM%3D" alt="" loading="lazy"/></p>
<p><strong>ç»“è®º</strong>: è¿™ç§è·¨æ¶æ„çš„ä¸€è‡´æ€§ï¼Œæ„å‘³ç€ä¸º openEuler x86 å¼€å‘çš„åº”ç”¨ï¼Œå¯ä»¥æä½æˆæœ¬åœ°<strong>å¹³æ»‘è¿ç§»</strong>åˆ° ARM å¹³å°ï¼Œè¿™æ˜¯æ‰“é€šå…¨åœºæ™¯ç”Ÿæ€é“¾çš„æŠ€æœ¯å‰æã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€äº§ä¸šé“¾ç¯èŠ‚ä¸€ï¼šäº‘ç«¯æ ¸å¿ƒ - é«˜æ€§èƒ½æ•°æ®åº“æ‰¿è½½</h2>
<p>åœ¨ç”Ÿæ€é“¾çš„é¡¶ç«¯â€”â€”äº‘ç«¯ï¼ŒopenEuler æ‰®æ¼”ç€æ‰¿è½½æµ·é‡æ•°æ®å’Œé«˜å¹¶å‘äº‹åŠ¡çš„å…³é”®è§’è‰²ã€‚</p>
<h3 data-id="heading-5">3.1 éƒ¨ç½² openGauss æ•°æ®åº“</h3>
<p>openGauss ä½œä¸ºä¸ openEuler æ·±åº¦ååŒçš„å¼€æºæ•°æ®åº“ï¼Œæ˜¯éªŒè¯äº‘ç«¯ç”Ÿæ€æˆç†Ÿåº¦çš„æœ€ä½³é€‰æ‹©ã€‚</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"> # </span><span class="bash">1. å®‰è£… openGauss <span class="hljs-comment"># 2. åˆå§‹åŒ–å¹¶å¯åŠ¨æ•°æ®åº“# (æ­¤å¤„çœç•¥åˆå§‹åŒ–å’Œå¯åŠ¨æ­¥éª¤ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£)# 3. è¿æ¥å¹¶éªŒè¯</span></span>
gsql -d postgres -p 26000 -r
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5168257be5f4d6f97e3827b35d0f8c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=tiU1inyEA8nqKbpIxlco0EsaXjI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">3.2 æ€§èƒ½ä¸ä¼˜åŒ–</h3>
<p>openEuler å†…æ ¸é’ˆå¯¹æ•°æ®åº“åœºæ™¯è¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ï¼Œä¾‹å¦‚ï¼š</p>
<blockquote>
<p><strong>xTune/A-Tune</strong>: æ™ºèƒ½è°ƒä¼˜å¼•æ“ï¼Œå¯è‡ªåŠ¨ä¸º openGauss è´Ÿè½½é…ç½®æœ€ä¼˜çš„å†…æ ¸å‚æ•°ã€‚ <strong>Wult (Wakeup Union Latency)</strong> : ä¼˜åŒ–ä»»åŠ¡å”¤é†’å»¶è¿Ÿï¼Œæå‡é«˜å¹¶å‘äº‹åŠ¡å¤„ç†æ€§èƒ½ã€‚</p>
</blockquote>
<p><strong>ç»“è®º</strong>: åœ¨äº‘ç«¯ï¼ŒopenEuler æä¾›äº†ç¨³å®šã€é«˜æ€§èƒ½çš„è¿è¡Œç¯å¢ƒå’Œä¸°å¯Œçš„ç³»ç»Ÿå·¥å…·ï¼Œèƒ½å¤Ÿå……åˆ†å‘æŒ¥ openGauss ç­‰æ ¸å¿ƒæ•°æ®åº“çš„å…¨éƒ¨æ½œåŠ›ã€‚</p>
<h2 data-id="heading-7">å››ã€äº§ä¸šé“¾ç¯èŠ‚äºŒï¼šæ™ºèƒ½è¾¹ç¼˜ - è½»é‡åŒ– AI æ¨ç†</h2>
<p>åœ¨ç”Ÿæ€é“¾çš„ä¸­æ®µâ€”â€”è¾¹ç¼˜ä¾§ï¼ŒopenEuler éœ€è¦ä»¥å®¹å™¨åŒ–çš„æ–¹å¼ï¼Œé«˜æ•ˆã€è½»é‡åœ°éƒ¨ç½² AI æ¨ç†åº”ç”¨ã€‚</p>
<h3 data-id="heading-8">4.1 å‡†å¤‡ AI æ¨ç†ç¯å¢ƒ</h3>
<pre><code class="hljs language-bash" lang="bash"> <span class="hljs-comment"># åœ¨ ARM æ¶æ„çš„è¾¹ç¼˜èŠ‚ç‚¹ä¸Š# 1. æ‹‰å– openEuler å®˜æ–¹ aarch64 å®¹å™¨é•œåƒ</span>
podman pull openeuler/openeuler:22.03-lts-aarch64

 <span class="hljs-comment"># 2. å¯åŠ¨å®¹å™¨å¹¶è¿›å…¥</span>
podman run -it --<span class="hljs-built_in">rm</span> openeuler/openeuler:22.03-lts-aarch64 bash
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b6f0f4187c24f7b9ed896f99b42bd51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=%2BD%2Fy1edG5GpX9Ri%2FioGGSFDsuZ4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">4.2 éƒ¨ç½²å¹¶è¿è¡Œ ONNX æ¨ç†ä»»åŠ¡</h3>
<p>ONNX Runtime æ˜¯ä¸šç•Œä¸»æµçš„è½»é‡çº§æ¨ç†å¼•æ“ï¼Œæ‹¥æœ‰è‰¯å¥½çš„è·¨å¹³å°æ”¯æŒã€‚</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"> # </span><span class="bash">åœ¨å®¹å™¨å†…æ‰§è¡Œ<span class="hljs-comment"># 1. å®‰è£… Python å’Œ ONNX Runtime</span></span>
dnf install -y python3 python3-pip python3-pillow
pip3 install onnxruntime numpy
<span class="hljs-meta prompt_">
 # </span><span class="bash">2. å‡†å¤‡æ¨¡å‹å’Œæµ‹è¯•è„šæœ¬ (æ­¤å¤„çœç•¥ä¸‹è½½ MobileNet ONNX æ¨¡å‹å’Œç¼–å†™æ¨ç†è„šæœ¬çš„æ­¥éª¤)<span class="hljs-comment"># python3 infer.py mobilenetv2-7.onnx cat.jpg# 3. æ‰§è¡Œæ¨ç†</span></span>
python3 infer.py
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7d045df610e4f5c93b7910707d455d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=PKVOKd4UMu4gpybuayFXNX4FJuU%3D" alt="" loading="lazy"/></p>
<p><strong>ç»“è®º</strong>: åœ¨è¾¹ç¼˜ä¾§ï¼ŒopenEuler æä¾›äº†ä¸äº‘ç«¯ä¸€è‡´çš„å®¹å™¨åŒ–ä½“éªŒå’Œè½¯ä»¶åŒ…ç”Ÿæ€ï¼Œèƒ½å¤Ÿå°†äº‘ç«¯è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œæ— ç¼åœ°éƒ¨ç½²åˆ° ARM ç­‰è¾¹ç¼˜ç¡¬ä»¶ä¸Šæ‰§è¡Œã€‚</p>
<h2 data-id="heading-10">äº”ã€äº§ä¸šé“¾ç¯èŠ‚ä¸‰ï¼šæ„ŸçŸ¥ç»ˆç«¯ - IoT ä¸åµŒå…¥å¼å¼€å‘</h2>
<p>åœ¨ç”Ÿæ€é“¾çš„èµ·ç‚¹â€”â€”ç»ˆç«¯è®¾å¤‡ï¼ŒopenEuler é€šè¿‡å…¶åµŒå…¥å¼ç‰ˆæœ¬ <strong>openEuler Embedded</strong>ï¼Œå®ç°äº†å¯¹â€œèŠ¯ç‰‡â€çº§åˆ«çš„æ”¯æŒã€‚</p>
<h3 data-id="heading-11">5.1 è·å– openEuler Embedded å¼€å‘ç¯å¢ƒ</h3>
<p>openEuler Embedded é‡‡ç”¨ Yocto/OpenEmbedded æ„å»ºç³»ç»Ÿï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªé«˜åº¦å¯å®šåˆ¶çš„åµŒå…¥å¼ Linux æ„å»ºæ¡†æ¶ã€‚</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"> # </span><span class="bash">åœ¨å¼€å‘ä¸»æœºä¸Š<span class="hljs-comment"># 1. å…‹éš† openEuler Embedded æºç git clone https://gitee.com/openeuler/openeuler-embedded.git</span></span>
<span class="hljs-meta prompt_">
 # </span><span class="bash">2. æŸ¥çœ‹å…¶ç»“æ„<span class="hljs-built_in">ls</span> -F openeuler-embedded/</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62a666066fef448a863d669ef2252da9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=DM3hj3PSA4Hgnz4IBQyPZZUfdEo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">5.2 å®šåˆ¶ä¸æ„å»º</h3>
<p>å¼€å‘è€…å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸ºç‰¹å®šçš„èŠ¯ç‰‡ï¼ˆå¦‚ HiSiliconã€ç‘èŠ¯å¾®ç­‰ï¼‰æ„å»ºå‡º<strong>ä½“ç§¯ä»…ä¸ºæ•° MB</strong> çš„ã€é«˜åº¦è£å‰ªçš„ openEuler ç³»ç»Ÿé•œåƒã€‚</p>
<pre><code class="hljs language-bash" lang="bash"> <span class="hljs-comment"># ç¤ºä¾‹æ„å»ºæµç¨‹ (ä»…ä¸ºç¤ºæ„) cd openeuler-embedded</span>
<span class="hljs-built_in">source</span> yocto/openeuler-init-build-env
bitbake openeuler-image-minimal
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3fd2435be04496d9cd2caee3b832967~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=2%2Bt8sDqpxVbybeGjdwfn8lRMvr8%3D" alt="" loading="lazy"/></p>
<p><strong>ç»“è®º</strong>: åœ¨ç»ˆç«¯ä¾§ï¼ŒopenEuler Embedded æä¾›äº†ä»æºç æ„å»ºã€é«˜åº¦å®šåˆ¶åˆ°ç”Ÿæˆæå°é•œåƒçš„å…¨å¥—å·¥å…·é“¾ï¼Œå®Œæˆäº†ä»â€œèŠ¯â€å¼€å§‹çš„è½¯ä»¶ç”Ÿæ€è¦†ç›–ã€‚</p>
<h2 data-id="heading-13">å…­ã€äº§ä¸šé“¾ç²˜åˆå‰‚ï¼šç»Ÿä¸€çš„æ„å»ºä¸åˆ†å‘ä½“ç³»</h2>
<p>å¦‚ä½•ä¿è¯äº‘ã€è¾¹ã€ç«¯ä¸‰ä¸ªåœºæ™¯ä¸‹ openEuler çš„æ ¸å¿ƒç»„ä»¶å’Œè½¯ä»¶åŒ…åŒæºã€åŒæ„ã€åŒæ­¥æ¼”è¿›ï¼Ÿç­”æ¡ˆæ˜¯ <strong>OBS (Open Build Service)</strong> ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fc7e14866314b319bbb6b761275aed1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6b2QQXJjaGll:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765529259&amp;x-signature=k%2B2mIgeaMpSlN1M3N7R6hjp9xsc%3D" alt="" loading="lazy"/></p>
<p>OBS æ˜¯ openEuler ç¤¾åŒºçš„ç»Ÿä¸€æ„å»ºå¹³å°ï¼Œå®ƒç¡®ä¿äº†åŒä¸€ä¸ªè½¯ä»¶åŒ…çš„æºç ï¼Œèƒ½å¤Ÿè¢«è‡ªåŠ¨åœ°ã€ä¸€è‡´åœ°ç¼–è¯‘æˆé€‚é…ä¸åŒæ¶æ„å’Œåœºæ™¯çš„äºŒè¿›åˆ¶åŒ…ï¼Œæ˜¯ç»´ç³»æ•´ä¸ªç”Ÿæ€é“¾åŒæ„æ€§çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚</p>
<h2 data-id="heading-14">ä¸ƒã€å…¨åœºæ™¯ç”Ÿæ€é“¾èƒ½åŠ›æ±‡æ€»</h2>

































<table><thead><tr><th>äº§ä¸šé“¾ç¯èŠ‚</th><th>æ ¸å¿ƒåœºæ™¯</th><th>ç›®æ ‡æ¶æ„</th><th>openEuler å…³é”®èƒ½åŠ›</th><th>æ ¸å¿ƒè½¯ä»¶ç”Ÿæ€</th></tr></thead><tbody><tr><td>äº‘ç«¯</td><td>é«˜æ€§èƒ½è®¡ç®—ã€æ•°æ®ä¸­å¿ƒ</td><td>x86_64, AArch64</td><td>å†…æ ¸ä¼˜åŒ–ã€è™šæ‹ŸåŒ–ã€å®¹å™¨å¼•æ“ (iSula)</td><td>openGauss, K8s, Spark</td></tr><tr><td>è¾¹ç¼˜</td><td>AI æ¨ç†ã€MEC</td><td>AArch64, x86_64</td><td>è½»é‡åŒ–å®¹å™¨ã€å®æ—¶å†…æ ¸ã€å®‰å…¨åŠ å›º</td><td>MindSpore Lite, ONNX RT, KubeEdge</td></tr><tr><td>ç»ˆç«¯</td><td>IoTã€åµŒå…¥å¼è®¾å¤‡</td><td>AArch64, RISC-V</td><td>å¯è£å‰ªã€ä½åŠŸè€—ã€Yocto/OE æ„å»ºä½“ç³»</td><td>C/C++ SDK, Python, ROS</td></tr></tbody></table>
<h2 data-id="heading-15">å…«ã€ç»“è®ºï¼šopenEulerï¼Œä¸æ­¢äº OSï¼Œæ›´æ˜¯å…¨åœºæ™¯æ•°å­—åŒ–çš„äº§ä¸šé“¾åŸºçŸ³</h2>
<p>é€šè¿‡å¯¹äº‘ã€è¾¹ã€ç«¯ä¸‰ä¸ªå…¸å‹åœºæ™¯çš„å®æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ° openEuler çš„è½¯ä»¶ç”Ÿæ€é“¾æˆ˜ç•¥ï¼š</p>
<blockquote>
<ol>
<li><strong>ç»Ÿä¸€æ¶æ„ï¼Œå‘ä¸‹å…¼å®¹</strong>: ä»¥ä¸€å¥—ç»Ÿä¸€çš„ Linux å†…æ ¸å’Œç”¨æˆ·æ€ï¼Œå…¼å®¹ä» x86 åˆ° ARM å†åˆ° RISC-V çš„å¤šæ ·æ€§èŠ¯ç‰‡ã€‚</li>
<li><strong>åœºæ™¯ä¼˜åŒ–ï¼Œå‘ä¸Šä½¿èƒ½</strong>: ä¸ºäº‘ã€è¾¹ã€ç«¯ä¸åŒåœºæ™¯æä¾›é’ˆå¯¹æ€§çš„ç‰¹æ€§ä¼˜åŒ–å’Œæ ¸å¿ƒè½¯ä»¶æ ˆã€‚</li>
<li><strong>ç»Ÿä¸€æ„å»ºï¼Œæ¨ªå‘æ‰“é€š</strong>: é€šè¿‡ OBS ç­‰åŸºç¡€è®¾æ–½ï¼Œç¡®ä¿äº†æ•´ä¸ªç”Ÿæ€é“¾çš„åŒæºã€åŒæ„å’ŒååŒæ¼”è¿›ã€‚</li>
</ol>
</blockquote>
<p>openEuler å·²ç»è¶…è¶Šäº†ä¸€ä¸ªä¼ ç»Ÿæ“ä½œç³»ç»Ÿçš„èŒƒç•´ï¼Œå®ƒæ­£åœ¨æˆä¸ºä¸€ä¸ªè¿æ¥èŠ¯ç‰‡ã€è®¾å¤‡ã€è¾¹ç¼˜èŠ‚ç‚¹å’Œäº‘ç«¯æ•°æ®ä¸­å¿ƒçš„ <strong>â€œè½¯ä»¶äº§ä¸šé“¾ç”Ÿæ€åœˆâ€</strong> ã€‚è¿™ç§â€œä»èŠ¯åˆ°äº‘â€çš„æ•´ä½“èƒ½åŠ›ï¼Œæ­£æ˜¯ openEuler åœ¨ä¸‡ç‰©äº’è”æ—¶ä»£ï¼Œèµ‹èƒ½åƒè¡Œç™¾ä¸šè¿›è¡Œå…¨åœºæ™¯æ•°å­—åŒ–è½¬å‹çš„æ ¸å¿ƒä»·å€¼æ‰€åœ¨ã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQLæ•°æ®åº“æ“ä½œä¸€è‡´æ€§ä¿è¯ï¼ˆæ™ºèƒ½å¯¹è¯+AIä»£ç è¡¥å…¨æ¡ˆä¾‹ï¼‰ã€ç•™è¨€æœ‰å¥–ã€‘]]></title>    <link>https://juejin.cn/post/7580180556982960178</link>    <guid>https://juejin.cn/post/7580180556982960178</guid>    <pubDate>2025-12-05T09:33:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556982960178" data-draft-id="7579982168452825139" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQLæ•°æ®åº“æ“ä½œä¸€è‡´æ€§ä¿è¯ï¼ˆæ™ºèƒ½å¯¹è¯+AIä»£ç è¡¥å…¨æ¡ˆä¾‹ï¼‰ã€ç•™è¨€æœ‰å¥–ã€‘"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-05T09:33:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿç«é£ç iFlyCode"/> <meta itemprop="url" content="https://juejin.cn/user/4378703548127657"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQLæ•°æ®åº“æ“ä½œä¸€è‡´æ€§ä¿è¯ï¼ˆæ™ºèƒ½å¯¹è¯+AIä»£ç è¡¥å…¨æ¡ˆä¾‹ï¼‰ã€ç•™è¨€æœ‰å¥–ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4378703548127657/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿç«é£ç iFlyCode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:33:56.000Z" title="Fri Dec 05 2025 09:33:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>01 èƒŒæ™¯ä»‹ç»</strong></p>
<h2 data-id="heading-0">ç½‘ç»œè‡ªåŠ¨åŒ–å¹³å°ä¸‹çš„ç›‘æ§ä¸­å¿ƒæ¨¡å—ï¼Œä¾èµ–MySQLæ•°æ®åº“è¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œéšç€ä¸šåŠ¡è§„æ¨¡æ‰©å±•åŠæ•°æ®é‡æ¿€å¢ï¼ŒåŸæœ‰çš„å‡ ä¸ªå­æ¨¡å—ï¼Œå¦‚æœåŠ¡ç›‘æ§ã€ç›‘æ§è§„åˆ™å’Œæ‰«æè®°å½•çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œæš´éœ²å‡ºä»¥ä¸‹å…³é”®é—®é¢˜ï¼š</h2>
<ul>
<li>
<p><strong>æ¦‚ç‡æ€§å¼‚å¸¸</strong>ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹å¶ç°æ•°æ®ä¸ä¸€è‡´</p>
</li>
<li>
<p><strong>äº‹åŠ¡è¾¹ç•Œæ¨¡ç³Š</strong>ï¼šè·¨æ“ä½œäº‹åŠ¡ç®¡ç†å¤æ‚æ˜“é”™</p>
</li>
<li>
<p><strong>å®¹é”™æœºåˆ¶ç¼ºå¤±</strong>ï¼šé”™è¯¯åœºæ™¯ç¼ºä¹è‡ªåŠ¨æ¢å¤èƒ½åŠ›</p>
</li>
<li>
<p><strong>é…ç½®æ–‡ä»¶åŒæ­¥é£é™©</strong>ï¼šåŠ¨æ€æ›´æ–°æ—¶å­˜åœ¨ç«æ€æ¡ä»¶</p>
</li>
</ul>
<p>ä½¿ç”¨è¯­è¨€ï¼šGoè¯­è¨€ï¼Œä¸»è¦ç”¨åœ¨ä»£ç è¡¥å…¨åŠŸèƒ½ã€é…åˆä½¿ç”¨çš„æ¨¡å‹ä¸º7B</p>
<p>æœ¬æ–‡æ¡£èšç„¦ç½‘ç»œè‡ªåŠ¨åŒ–å¹³å°ä¸‹çš„ç›‘æ§ä¸­å¿ƒï¼Œé€šè¿‡AIè¾…åŠ©ç”Ÿæˆçš„å…¸å‹ä»£ç æ¡ˆä¾‹ï¼Œé’ˆå¯¹å…¶æ ¸å¿ƒå­æ¨¡å—â€”â€”æœåŠ¡ç›‘æ§æ¨¡å—ã€ç›‘æ§è§„åˆ™æ¨¡å—å’Œæ‰«æè®°å½•æ¨¡å—ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„å¢åˆ æ”¹æŸ¥æ“ä½œè¿›è¡Œäº†ä¸“é¡¹ä¼˜åŒ–ï¼Œç³»ç»ŸåŒ–å±•ç¤ºå¦‚ä½•åˆ©ç”¨ç°ä»£æ¡†æ¶ç‰¹æ€§ï¼ˆGORM/Viperï¼‰ç»“åˆäº‹åŠ¡ç®¡ç†ã€åŸå­æ“ä½œç­‰æœºåˆ¶ï¼Œæ„å»ºé«˜å¯é çš„æ•°æ®åº“æ“ä½œä½“ç³»ã€‚</p>
<p><strong>02 æ ¸å¿ƒè§£å†³æ–¹æ¡ˆä¸AIç”Ÿæˆæ¡ˆä¾‹</strong></p>
<p><strong>æ¡ˆä¾‹1ï¼šç›‘æ§è§„åˆ™åˆ é™¤</strong></p>
<p><strong>â€”â€” äº‹åŠ¡åŒ–ç‰©ç†åˆ é™¤ï¼ˆè§£å†³è„å†™é—®é¢˜ï¼‰</strong></p>
<p>æ“ä½œæ­¥éª¤ï¼š<strong>åˆ©ç”¨æ™ºèƒ½å¯¹è¯åŠŸèƒ½ï¼Œè¾“å…¥æç¤ºè¯åï¼Œè®©å¤§æ¨¡å‹<strong><strong>è¾“å‡ºé«˜è´¨é‡</strong></strong>ä»£ç </strong></p>
<ol>
<li><strong>è¾“å…¥æç¤ºè¯è‡³AIå·¥å…·</strong>ï¼š</li>
</ol>
<blockquote>
<ol>
<li>â€œä½¿ç”¨GORMç¼–å†™ä¸€ä¸ªäº‹åŠ¡å‡½æ•°ï¼Œåˆ é™¤ID=5çš„MonitorRulesItemè®°å½•ï¼Œè¦æ±‚åŒ…å«é”™è¯¯å¤„ç†ã€ç‰©ç†åˆ é™¤ï¼Œå¹¶é€‚é…ç°æœ‰é¡¹ç›®ç»“æ„â€</li>
</ol>
</blockquote>
<ol>
<li><strong>AIç”ŸæˆåŸºç¡€<strong><strong>ä»£ç </strong></strong>åï¼Œæ”¹å†™é€‚é…å®é™…é¡¹ç›®ã€‚</strong></li>
</ol>
<p><strong>AIç”Ÿæˆ****ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">func DeleteItemByID(db *gorm.DB, id uint) <span class="hljs-built_in">error</span> {    // å¼€å¯äº‹åŠ¡    tx := db.Begin()    defer func() {        <span class="hljs-keyword">if</span> r := recover(); r != <span class="hljs-literal">nil</span> {            tx.Rollback() // å¼‚å¸¸æ—¶å›æ»š            panic(r)      // é‡æ–°æŠ›å‡ºpanicä¾›ä¸Šå±‚æ•è·        }    }()    // æ‰§è¡Œç‰©ç†åˆ é™¤ï¼ˆç»•è¿‡è½¯åˆ é™¤ï¼‰    <span class="hljs-keyword">if</span> err := tx.Unscoped().Delete(&amp;models.MonitorRulesItem{}, id).Error; err != <span class="hljs-literal">nil</span> {        tx.Rollback()              // åˆ é™¤å¤±è´¥æ—¶å›æ»š        <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"delete failed: %w"</span>, err)    }    // æäº¤äº‹åŠ¡    <span class="hljs-keyword">if</span> err := tx.Commit().Error; err != <span class="hljs-literal">nil</span> {        <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"commit failed: %w"</span>, err)    }    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>}
</code></pre>
<p>åŸºç¡€ä»£ç å®ç°äº†ç”¨äº‹åŠ¡åŒ…è£¹åˆ é™¤æ“ä½œï¼Œä¸”é€šè¿‡<code>Unscoped()</code>ç›´æ¥æ°¸ä¹…åˆ é™¤æ•°æ®åº“è®°å½•ï¼Œäº‹åŠ¡å¤„ç†é€»è¾‘ä¸GORMå®˜æ–¹æ–‡æ¡£ä¸€è‡´ï¼Œå› æ­¤å¯ç›´æ¥å¤ç”¨ï¼Œé€šè¿‡æ™ºèƒ½å¯¹è¯æ–¹å¼å®ç°ä»£ç è¡¥å…¨çš„å†…å®¹ï¼Œé‡‡çº³ç‡è¾¾80%ä»¥ä¸Šã€‚</p>
<p>ä»¥ä¸‹ä¸ºæ˜¯é€‚é…å®é™…ä»£ç çš„ç»“æœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d69eed3a6e88463db5bffe0403c3205f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif54Gr6aOe56CBaUZseUNvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532036&amp;x-signature=YWPAzzdlPUo55rnA5moRL4XmqnQ%3D" alt="" loading="lazy"/></p>
<p><strong>æ¡ˆä¾‹2ï¼šæœåŠ¡ç›‘æ§åŒæ­¥</strong></p>
<p><strong>â€”â€” äº‹åŠ¡åŒ–æ‰¹é‡æ“ä½œ</strong></p>
<h4 data-id="heading-1">æ“ä½œæ­¥éª¤ï¼šåˆ©ç”¨æ™ºèƒ½å¯¹è¯åŠŸèƒ½ï¼Œè¾“å…¥æç¤ºè¯åï¼Œè®©å¤§æ¨¡å‹è¾“å‡ºé«˜è´¨é‡ä»£ç </h4>
<ol>
<li><strong>è¾“å…¥æç¤ºè¯è‡³AIå·¥å…·</strong>ï¼š</li>
</ol>
<blockquote>
<ol>
<li>â€œåˆ›å»ºäº‹åŠ¡å‡½æ•°ï¼Œç”¨äºåŒæ­¥æœåŠ¡å®ä¾‹åˆ°æ•°æ®åº“ï¼Œè¦æ±‚åŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†ã€è‡ªåŠ¨å›æ»šæœºåˆ¶ï¼Œå¹¶æ”¯æŒæ‰¹é‡æ›´æ–°/æ’å…¥æ“ä½œã€‚â€</li>
</ol>
</blockquote>
<ol>
<li><strong>AIç”ŸæˆåŸºç¡€<strong><strong>ä»£ç </strong></strong>åï¼Œæ”¹å†™é€‚é…å®é™…é¡¹ç›®ã€‚</strong></li>
</ol>
<p><strong>AIç”Ÿæˆ****ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">package</span> mainimport (    <span class="hljs-string">"fmt"</span>    <span class="hljs-string">"gorm.io/gorm"</span> // ç¡®ä¿å·²å®‰è£… gorm.<span class="hljs-built_in">io</span>/gorm v2+)<span class="hljs-built_in">type</span> ServersItem struct {    // æ ¹æ®å®é™…è¡¨ç»“æ„å®šä¹‰å­—æ®µï¼ˆç¤ºä¾‹ï¼‰    ID   uint `gorm:<span class="hljs-string">"primaryKey"</span>`    Name <span class="hljs-built_in">string</span>    IP   <span class="hljs-built_in">string</span>}func transactionalUpsert(db *gorm.DB, updates []ServersItem, creates []ServersItem) <span class="hljs-built_in">error</span> {    // å¼€å¯äº‹åŠ¡    tx := db.Begin()    defer func() {        <span class="hljs-keyword">if</span> r := recover(); r != <span class="hljs-literal">nil</span> {            tx.Rollback()            panic(r) // é‡æ–°æŠ›å‡ºå¼‚å¸¸ä¾›ä¸Šå±‚æ•è·        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> tx.Error != <span class="hljs-literal">nil</span> { // æ£€æµ‹äº‹åŠ¡è‡ªèº«é”™è¯¯            tx.Rollback()        }    }()    // æ‰§è¡Œæ‰¹é‡æ›´æ–°ï¼ˆä»…å½“æœ‰æ›´æ–°é¡¹æ—¶ï¼‰    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(updates) &gt; <span class="hljs-number">0</span> {        <span class="hljs-keyword">if</span> err := tx.Save(&amp;updates).Error; err != <span class="hljs-literal">nil</span> {            <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"update failed: %w"</span>, err)        }    }    // æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼ˆä»…å½“æœ‰æ–°å»ºé¡¹æ—¶ï¼‰    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(creates) &gt; <span class="hljs-number">0</span> {        <span class="hljs-keyword">if</span> err := tx.Create(&amp;creates).Error; err != <span class="hljs-literal">nil</span> {            <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"insert failed: %w"</span>, err)        }    }    // æäº¤äº‹åŠ¡    <span class="hljs-keyword">if</span> err := tx.Commit().Error; err != <span class="hljs-literal">nil</span> {        <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"transaction commit failed: %w"</span>, err)    }    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>}
</code></pre>
<p>åŸºç¡€ä»£ç å®ç°äº†ç”¨äº‹åŠ¡åŒ…è£¹æ“ä½œï¼Œä¿è¯æ‰¹é‡æ“ä½œè¦ä¹ˆæˆåŠŸè¦ä¹ˆå›é€€ï¼Œé€»è¾‘æ¸…æ™°ï¼Œå› æ­¤ç›´æ¥é‡‡ç”¨ä¸Šè¿°ä»£ç å¯¹å®é™…ä»£ç è¿›è¡Œè°ƒæ•´ï¼šé€šè¿‡æ™ºèƒ½å¯¹è¯æ–¹å¼å®ç°ä»£ç è¡¥å…¨çš„å†…å®¹ï¼Œé‡‡çº³ç‡è¾¾70%ä»¥ä¸Šã€‚</p>
<p><strong>æ¡ˆä¾‹3ï¼šYAMLæ–‡ä»¶è§£æä¸æ•°æ®åº“å†™å…¥</strong></p>
<p><strong>â€”â€” äº‹åŠ¡åŒ–æ•°æ®å†™å…¥</strong></p>
<h4 data-id="heading-2">æ“ä½œæ­¥éª¤ï¼šé€‰ä¸­éƒ¨åˆ†ä»£ç åï¼Œåˆ©ç”¨æ™ºèƒ½å¯¹è¯åŠŸèƒ½ï¼Œè¾“å…¥æç¤ºè¯åï¼Œè®©å¤§æ¨¡å‹è¾“å‡ºé«˜è´¨é‡ä»£ç </h4>
<ol>
<li>
<p>é€‰ä¸­ä»£ç </p>
<p>// è§£æYAMLæ–‡ä»¶å¹¶å­˜å…¥æ•°æ®åº“content, err := os.ReadFile(yamlPath)if err != nil { ... }var data MyStructif err := yaml.Unmarshal(content, &amp;data); err != nil { ... }db.Create(&amp;Table1{        FileName: filepath.Base(yamlPath),        Content:  string(content),})</p>
</li>
<li>
<p><strong>è¾“å…¥æç¤ºè¯è‡³AIå·¥å…·</strong>ï¼š</p>
</li>
</ol>
<blockquote>
<ol>
<li>â€œä¼˜åŒ–yamlæ–‡ä»¶è§£æè¿‡ç¨‹ï¼Œå¹¶å°†è§£æåçš„ç»“æœä¿å­˜è‡³æ•°æ®åº“ã€‚è¦æ±‚ç”¨äº‹åŠ¡å®ç°ï¼Œå…·å¤‡å›æ»šæœºåˆ¶ã€‚â€</li>
</ol>
</blockquote>
<ol>
<li><strong>AIç”ŸæˆåŸºç¡€<strong><strong>ä»£ç </strong></strong>åï¼Œæ”¹å†™é€‚é…å®é™…é¡¹ç›®ã€‚</strong></li>
</ol>
<p><strong>AIç”Ÿæˆ<strong><strong>ä»£ç </strong></strong>ï¼š</strong></p>
<pre><code class="hljs language-lua" lang="lua">func ImportYamlToDB(db *gorm.DB, yamlPath <span class="hljs-built_in">string</span>) <span class="hljs-built_in">error</span> {        // AI è‡ªåŠ¨è¡¥å……æ–‡ä»¶æ ¡éªŒ        info, err := <span class="hljs-built_in">os</span>.Stat(yamlPath)        <span class="hljs-keyword">if</span> <span class="hljs-built_in">os</span>.IsNotExist(err) {                <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"æ–‡ä»¶ä¸å­˜åœ¨: %s"</span>, yamlPath)        }        // å¸¦ç¼“å†²çš„æ–‡ä»¶è¯»å–        content, err := ioutil.ReadAll(<span class="hljs-built_in">io</span>.LimitReader(file, maxFileSize))        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {                <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"æ–‡ä»¶è¯»å–å¤±è´¥: %w"</span>, err)        }        // ä¸¥æ ¼æ¨¡å¼è§£æ        var data MyStruct        <span class="hljs-keyword">if</span> err := yaml.UnmarshalStrict(content, &amp;data); err != <span class="hljs-literal">nil</span> {                <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"YAMLè§£æå¤±è´¥: %w\nå†…å®¹: %s"</span>, err, <span class="hljs-built_in">string</span>(content))        }        // äº‹åŠ¡æ€§æ•°æ®åº“æ“ä½œ        tx := db.Begin()        defer func() {                <span class="hljs-keyword">if</span> r := recover(); r != <span class="hljs-literal">nil</span> {                        tx.Rollback()                }        }()        record := Table1{                FileName:    filepath.Base(yamlPath),                ContentHash: sha256.Sum256(content), // AI å»ºè®®æ·»åŠ å†…å®¹å“ˆå¸Œæ ¡éªŒ                Content:     <span class="hljs-built_in">string</span>(content),                ParsedData:  data,                   // å­˜å‚¨è§£æåçš„ç»“æ„ä½“        }        <span class="hljs-keyword">if</span> err := tx.Create(&amp;record).Error; err != <span class="hljs-literal">nil</span> {                tx.Rollback()                <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"æ•°æ®åº“æ’å…¥å¤±è´¥: %w"</span>, err)        }        <span class="hljs-keyword">return</span> tx.Commit().Error}
</code></pre>
<p>æ·»åŠ çš„yamlæ–‡ä»¶è§£æå‰ç½®æ­¥éª¤æ¸…æ™°ï¼Œé¦–å…ˆç¡®è®¤æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œç„¶åé™åˆ¶æ–‡ä»¶å¤§å°è¿›è¡Œè¯»å–ä»¥é˜²å´©æºƒï¼Œç”¨ä¸¥æ ¼æ¨¡å¼è§£æyamlæ–‡ä»¶æœç»äº†æ ¼å¼é—®é¢˜ã€‚å°†æ‰€æœ‰æ•°æ®åº“æ“ä½œæ”¾åœ¨äº‹åŠ¡å†…å®ç°ï¼Œæ»¡è¶³æç¤ºè¯è¦æ±‚ï¼Œå› æ­¤é‡‡ç”¨è¯¥ç»“æœï¼Œé€‚é…å®é™…ä»£ç ï¼šé€šè¿‡æ™ºèƒ½å¯¹è¯æ–¹å¼å®ç°ä»£ç è¡¥å…¨çš„å†…å®¹ï¼Œé‡‡çº³ç‡è¾¾70%ä»¥ä¸Šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3a722d46cbe43de990fe8b20c6650a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif54Gr6aOe56CBaUZseUNvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532036&amp;x-signature=5gVKYPm9jMs2tVUbGa1YLW4zim0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">æ¡ˆä¾‹4ï¼šé€šè¿‡ç»„ä»¶æ¥å£å®ŒæˆAPIå“åº”â€”â€”RESTful APIå“åº”å°è£…</h3>
<h4 data-id="heading-4">å®ç°æ–¹å¼ï¼šåŸºäºä»£ç è¡¥å…¨åŠŸèƒ½è‡ªåŠ¨è¡¥å…¨ä»£ç </h4>
<p><strong>åŸ<strong><strong>ä»£ç </strong></strong>ï¼š</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ResponseWithSuccess</span><span class="hljs-params">(c *gin.Context)</span></span> {}
</code></pre>
<p><strong>AIè¡¥å…¨<strong><strong>ä»£ç </strong></strong>ï¼š</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ResponseWithSuccess</span><span class="hljs-params">(c *gin.Context)</span></span> {    c.JSON(http.StatusOK, gin.H{        <span class="hljs-string">"code"</span>:        http.StatusOK,        <span class="hljs-string">"message"</span>:     <span class="hljs-string">"ok"</span>,        <span class="hljs-string">"status"</span>:      <span class="hljs-string">"success"</span>,        })}
</code></pre>
<p>AIç”Ÿæˆçš„ä»£ç å®Œå…¨æ»¡è¶³æ ‡å‡†åŒ–RESTful APIå“åº”éœ€æ±‚ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ï¼Œé€šè¿‡ä»£ç è‡ªåŠ¨ç»­å†™çš„åŠŸèƒ½ï¼Œç›´æ¥è¿›è¡Œä»£ç é‡‡çº³æ“ä½œï¼Œæ— éœ€åšä»»ä½•ä¿®æ”¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/926b711bf9414f5fba00586a36d7459c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pif54Gr6aOe56CBaUZseUNvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532036&amp;x-signature=WAi2sbaMJkGr3UiS6%2FZJJb7uEvU%3D" alt="" loading="lazy"/></p>
<p><strong>03 æ€»ç»“</strong></p>
<p><strong>æœ¬æ¬¡iFlyCodeä»£ç è¡¥å…¨å®è·µæ˜æ˜¾æå‡äº†å¼€å‘æ•ˆç‡ã€‚éµå¾ªå¸¸è§„å·¥ä½œèŠ‚å¥ï¼Œå…‰é äººå·¥ä¸€ç‚¹ç‚¹ä¼˜åŒ–æ•´ä¸ªé¡¹ç›®çš„ä»£ç ï¼Œä¼°è®¡å¾—èŠ±ä¸Šä¸¤å‘¨æ—¶é—´æ‰èƒ½å¼„å®Œã€‚ä½†ç”¨äº†</strong>iFlyCode<strong>è¿™ä¸ªå¸®æ‰‹ï¼Œä»…ä»…ç”¨äº†3å¤©å°±é¡ºåˆ©å®Œæˆäº†ä»»åŠ¡ï¼Œè€Œä¸”åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œè¿˜é¡ºä¾¿æŠŠä»£ç çš„è§„èŒƒæ€§ä¹Ÿä»”ç»†è°ƒæ•´å¥½äº†ã€‚å¾ˆæ˜æ˜¾ï¼Œåˆç†åˆ©ç”¨æ‰‹é‡Œçš„æ™ºèƒ½å·¥å…·ï¼Œä¸ä»…èƒ½å¤§å¤§ç¼©çŸ­é¡¹ç›®å®Œæˆçš„æ—¶é—´ï¼Œè¿˜èƒ½å°‘èŠ±å¾ˆå¤šäººåŠ›ï¼Œé™ä½å¯èƒ½å‡ºç°çš„é£é™©ã€‚è¿™æ ·ä¸€æ¥ï¼Œå›¢é˜Ÿå°±èƒ½æŠŠæ›´å¤šç²¾åŠ›æ”¾åœ¨ç¢ç£¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„åˆ›æ–°å’Œæ”¹è¿›ä¸Šï¼Œè®©é¡¹ç›®åˆå¿«åˆå¥½åœ°å¾€å‰æ¨è¿›ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA["ä»è‡ªç„¶è¯­è¨€åˆ°æ•°æ®åº“ï¼šAI First æ—¶ä»£çš„ç¼–ç¨‹ä¸å¼€å‘é©å‘½"]]></title>    <link>https://juejin.cn/post/7579932196464787510</link>    <guid>https://juejin.cn/post/7579932196464787510</guid>    <pubDate>2025-12-05T09:40:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579932196464787510" data-draft-id="7580184249907806250" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="&quot;ä»è‡ªç„¶è¯­è¨€åˆ°æ•°æ®åº“ï¼šAI First æ—¶ä»£çš„ç¼–ç¨‹ä¸å¼€å‘é©å‘½&quot;"/> <meta itemprop="keywords" content="LLM,OpenAI,SQLite"/> <meta itemprop="datePublished" content="2025-12-05T09:40:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é±¼é±¼å—"/> <meta itemprop="url" content="https://juejin.cn/user/4302802432307224"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            "ä»è‡ªç„¶è¯­è¨€åˆ°æ•°æ®åº“ï¼šAI First æ—¶ä»£çš„ç¼–ç¨‹ä¸å¼€å‘é©å‘½"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4302802432307224/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é±¼é±¼å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:40:33.000Z" title="Fri Dec 05 2025 09:40:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä»è‡ªç„¶è¯­è¨€åˆ°æ•°æ®åº“ï¼šAI First æ—¶ä»£çš„ç¼–ç¨‹ä¸å¼€å‘é©å‘½</strong></h2>
<p>åœ¨è½¯ä»¶è¡Œä¸šçš„å†å²ä¸­ï¼Œæ¯æ¬¡ç”Ÿäº§åŠ›çš„è·ƒè¿å¾€å¾€ä¼´éšç€å·¥å…·çš„æœ¬è´¨å˜åŒ–ã€‚é”®ç›˜å‡ºç°ï¼Œä½¿ä»£ç ä¸å†ä¾èµ–ç©¿å­”å¡ï¼›é«˜çº§è¯­è¨€å‡ºç°ï¼Œä½¿ç¨‹åºå‘˜ä¸å¿…ç›´é¢å†…å­˜åœ°å€ï¼›äº‘è®¡ç®—å‡ºç°ï¼Œä½¿åº”ç”¨éƒ¨ç½²ä»ç¹ççš„è¿ç»´ä¸­è§£è„±ã€‚å¦‚ä»Šï¼Œå¦ä¸€åœºå…·æœ‰åŒç­‰é‡é‡çº§çš„è½¬æŠ˜ç‚¹æ­£åœ¨å‘ç”Ÿâ€”â€”<strong>AI First</strong> çš„å¼€å‘èŒƒå¼ã€‚</p>
<p>ä¸è¿‡å»ä¸åŒï¼Œè¿™åœºå˜é©ä¸æ˜¯å•çº¯ç”±æŸä¸€ç§å·¥å…·æ¨åŠ¨ï¼Œè€Œæ˜¯ç”±å¤§æ¨¡å‹ã€è‡ªç„¶è¯­è¨€æ¥å£ã€èƒ½ç†è§£è¯­ä¹‰çš„ä»£ç ç”Ÿæˆç³»ç»Ÿã€è·¨åº”ç”¨è°ƒåº¦èƒ½åŠ›å…±åŒæ„æˆçš„ä¸€ä½“åŒ–æµªæ½®ã€‚åœ¨è¿™è‚¡æµªæ½®ä¸­ï¼Œæ¨¡å‹ä¸å†æ˜¯ä¸€ä¸ªâ€œèŠå¤©å·¥å…·â€ï¼Œè€Œæˆä¸º â€œå…¨æ ˆå¼€å‘è€…â€ã€â€œæ•°æ®åˆ†æå¸ˆâ€ ç”šè‡³ â€œä¸šåŠ¡åŠ©ç†â€ã€‚è¿™ç±»ç³»ç»Ÿæ—¢èƒ½è¯»æ‡‚è‡ªç„¶è¯­è¨€ï¼Œåˆèƒ½è”åŠ¨æ•°æ®åº“ã€æ‰§è¡Œ SQLã€ç”Ÿæˆä»£ç ï¼Œè¿›è€Œå‚ä¸æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>ä¸ºäº†å±•ç¤ºè¿™è‚¡æµªæ½®æ­£åœ¨é…é…¿çš„æ–¹å‘ï¼Œä¸‹é¢ç»“åˆä¸€ä¸ªçœŸå®çš„ Notebook æµç¨‹â€”â€”ä»åˆ›å»ºæ•°æ®åº“ï¼Œåˆ°ä½¿ç”¨å¤§æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆ SQL å¹¶æ‰§è¡Œï¼Œå†åˆ°è¿›ä¸€æ­¥æ‰©å±•åˆ° Mobile Firstã€Agentã€ModelScope ç­‰æ›´å¤§çš„ç”Ÿæ€ï¼ŒæŠŠè¿™åœºå˜é©çš„é€»è¾‘å®Œæ•´å‘ˆç°å‡ºæ¥ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€å¤§æ¨¡å‹è¿›å…¥æ•°æ®åº“ä¸–ç•Œï¼šè‡ªç„¶è¯­è¨€å°±æ˜¯ SQL</strong></h2>
<p>ä¼ ç»Ÿæ•°æ®åº“æŸ¥è¯¢éœ€è¦æŒæ¡è¡¨ç»“æ„ã€è¯­æ³•ã€å¼•ç”¨è§„åˆ™ç­‰çŸ¥è¯†ã€‚å¤§æ¨¡å‹çš„å‡ºç°æ­£æ‚„æ‚„æŠŠè¿™å¥—è§„åˆ™æŠ˜å èµ·æ¥ï¼Œä½¿è‡ªç„¶è¯­è¨€æˆä¸ºæ–°çš„ç»Ÿä¸€ç•Œé¢ã€‚ä¸‹é¢ä»¥é­”æ­ä¸ºä¾‹</p>
<p>Notebook ä¸­ï¼Œé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæœ€ç®€å•çš„ SQLite æ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlite3
<span class="hljs-comment"># è¿æ¥æ•°æ®åº“</span>
conn = sqlite3.connect(<span class="hljs-string">"test.db"</span>)
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ¸¸æ ‡å¯¹è±¡</span>
<span class="hljs-comment"># ç”¨äºæ‰§è¡Œsql è·å–æŸ¥è¯¢ç»“æœ</span>
cursor = conn.cursor()

cursor.execute(<span class="hljs-string">"""
CREATE TABLE IF NOT EXISTS employees(
    id INTEGER PRIMARY KEY,
    name TEXT,
    department TEXT,
    salary INTEGER
)
"""</span>)
</code></pre>
<p>ä¸€ä¸ªåŒ…å« <code>idã€nameã€departmentã€salary</code> å››åˆ—çš„å‘˜å·¥è¡¨å°±è¿™æ ·å»ºç«‹èµ·æ¥ã€‚</p>
<p>æ¥ç€ï¼Œå¡«å……è‹¥å¹²ç¤ºä¾‹æ•°æ®ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python">sample_data = [
    (<span class="hljs-number">6</span>, <span class="hljs-string">"é»„ä½³"</span>, <span class="hljs-string">"é”€å”®"</span>, <span class="hljs-number">50000</span>),
    (<span class="hljs-number">7</span>, <span class="hljs-string">"å®å®"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">75000</span>),
    (<span class="hljs-number">8</span>, <span class="hljs-string">"è°¦è°¦"</span>, <span class="hljs-string">"é”€å”®"</span>, <span class="hljs-number">60000</span>),
    (<span class="hljs-number">9</span>, <span class="hljs-string">"æ‚¦æ‚¦"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">80000</span>),
    (<span class="hljs-number">11</span>, <span class="hljs-string">"æ›¾ç¹èŠ±"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">80000</span>)
]
<span class="hljs-comment"># æ’å…¥sql</span>
cursor.executemany(<span class="hljs-string">"INSERT INTO employees VALUES(?,?,?,?)"</span>, sample_data)
<span class="hljs-comment"># æäº¤sqläº‹åŠ¡</span>
conn.commit()
</code></pre>
<p>è¿™äº›æ•°æ®æ„æˆä¸€ä¸ªéå¸¸å¸¸è§çš„ä¸šåŠ¡åœºæ™¯ï¼šä¸åŒéƒ¨é—¨å‘˜å·¥çš„ä¿¡æ¯ã€‚</p>
<p>å¦‚æœåœ¨ä¼ ç»Ÿå¼€å‘æ–¹å¼ä¸­ï¼ŒæŸ¥è¯¢è¿™äº›æ•°æ®éœ€è¦å†™ SQLã€è°ƒè¯• SQLã€ç¡®è®¤è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚ä½†åœ¨è¿™ä¸ª Notebook ä¸­ï¼ŒçœŸæ­£çš„å…³é”®ä»£ç å‡ºç°åœ¨åé¢ï¼š</p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€è®©æ¨¡å‹è¯»æ‡‚æ•°æ®åº“ç»“æ„ï¼šSchema â†’ SQL</strong></h2>
<p>ä¸ºäº†è®©å¤§æ¨¡å‹å‡†ç¡®ç”Ÿæˆ SQLï¼Œéœ€è¦å‘Šè¯‰å®ƒè¡¨ç»“æ„ã€‚é€šè¿‡ SQLite çš„ PRAGMA æŒ‡ä»¤è¯»å– schemaï¼š</p>
<pre><code class="hljs language-python" lang="python">schema = cursor.execute(<span class="hljs-string">"PRAGMA table_info(employees)"</span>).fetchall()
schema_str = <span class="hljs-string">"CREATE TABLE EMPLOYEES (\n"</span> + <span class="hljs-string">"\n"</span>.join(
    <span class="hljs-string">f"<span class="hljs-subst">{col[<span class="hljs-number">1</span>]}</span> <span class="hljs-subst">{col[<span class="hljs-number">2</span>]}</span>"</span> <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> schema
) + <span class="hljs-string">"\n)"</span>
</code></pre>
<p>æ¨¡å‹æ”¶åˆ°çš„ç»“æ„ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> EMPLOYEES (
id <span class="hljs-type">INTEGER</span>
name TEXT
department TEXT
salary <span class="hljs-type">INTEGER</span>
)
</code></pre>
<p>æ¥ä¸‹æ¥æ˜¯æ¨¡å‹æœ€å…³é”®çš„è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">ask_deepseek</span>(<span class="hljs-params">query, schema</span>):
    prompt = <span class="hljs-string">f"""
è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“çš„Schema:
<span class="hljs-subst">{schema}</span>

æ ¹æ®è¿™ä¸ªSchemaï¼Œè¯·è¾“å‡ºä¸€ä¸ªSQLæŸ¥è¯¢æ¥å›ç­”ä»¥ä¸‹é—®é¢˜ã€‚
åªè¾“å‡ºSQLæŸ¥è¯¢è¯­å¥æœ¬èº«ï¼Œä¸è¦ä½¿ç”¨ä»»ä½•Markdownæ ¼å¼ã€‚
ä¸è¦åŒ…å«åå¼•å·ã€ä»£ç å—æ ‡è®°æˆ–é«˜é¢è¯´æ˜ã€‚
é—®é¢˜: <span class="hljs-subst">{query}</span>
"""</span>
    response = client.chat.completions.create(
        model = <span class="hljs-string">"deepseek-chat"</span>,
        max_tokens=<span class="hljs-number">2048</span>,
        messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
        temperature=<span class="hljs-number">0</span>
    )
    <span class="hljs-keyword">return</span> response.choices[<span class="hljs-number">0</span>].message.content
</code></pre>
<p>è¿™é‡Œï¼Œå¤§æ¨¡å‹è¢«ä¸¥æ ¼è¦æ±‚ <strong>åªè¾“å‡º SQLï¼Œä¸è¾“å‡ºè§£é‡Šã€ä¸è¾“å‡ºæ ¼å¼åŒ–ã€ä¸è¾“å‡ºæ³¨é‡Š</strong>ã€‚è¿™æ˜¯åœ¨å·¥ç¨‹çº§åº”ç”¨ä¸­å¸¸è§çš„ prompt patternï¼Œé€šè¿‡â€œå¹²å‡€è¾“å‡ºâ€ç¡®ä¿ SQL èƒ½ç›´æ¥æ‰§è¡Œã€‚</p>
<p>äºæ˜¯ï¼Œåªéœ€è¾“å…¥è‡ªç„¶è¯­è¨€é—®é¢˜å³å¯è‡ªåŠ¨å¾—åˆ° SQLã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>ä¸‰ã€è®©æ¨¡å‹å›ç­”é—®é¢˜ï¼šè‡ªç„¶è¯­è¨€ â†’ æ•°æ®åº“ç»“æœ</strong></h2>
<p>ä¾‹å¦‚ï¼Œæå‡ºé—®é¢˜ï¼š</p>
<p><strong>â€œå·¥ç¨‹éƒ¨é—¨å‘˜å·¥çš„å§“åå’Œå·¥èµ„æ˜¯å¤šå°‘ï¼Ÿâ€</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2bc391c5e12413f8e9d2b1c51f46034~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532433&amp;x-signature=f36gtW3w4phi8pIblPtvk6br0SA%3D" alt="image.png" loading="lazy"/></p>
<p>æ¨¡å‹è¾“å‡ºçš„ SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> name, salary <span class="hljs-keyword">FROM</span> EMPLOYEES <span class="hljs-keyword">WHERE</span> department <span class="hljs-operator">=</span> <span class="hljs-string">'å·¥ç¨‹'</span>;
</code></pre>
<p>å½“æ‰§è¡Œåï¼š</p>
<pre><code class="hljs language-python" lang="python">results = cursor.execute(sql_query).fetchall()
<span class="hljs-built_in">print</span>(results)
</code></pre>
<p>æ•°æ®åº“è¿”å›ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a0634918842423e8033c3230e8e9190~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532433&amp;x-signature=nS%2FQSgKQqBX5ehR2NmtkwTAgNxA%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸€è¿‡ç¨‹å®ç°äº†ï¼š</p>
<blockquote>
<p>ä»è‡ªç„¶è¯­è¨€ â†’ SQL â†’ æŸ¥è¯¢ç»“æœ<br/>
æ•´ä¸ªæµç¨‹è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦å¯¹ SQL è¯­æ³•æœ‰ä»»ä½•æŒæ¡ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4"><strong>å››ã€è¶…è¶ŠæŸ¥è¯¢ï¼šæ¨¡å‹è¿˜èƒ½æ‰§è¡Œæ’å…¥ã€åˆ é™¤ã€æ›´æ–°</strong></h2>
<p>è¿™ä¸ªç³»ç»Ÿä¸ä»…èƒ½æŸ¥æ•°æ®ï¼Œè¿˜èƒ½<strong>å†™æ•°æ®</strong>ã€‚</p>
<p>è‹¥æå‡ºï¼š</p>
<p><strong>â€œåœ¨é”€å”®éƒ¨é—¨å¢åŠ ä¸€ä¸ªæ–°å‘˜å·¥ï¼Œåä¸ºå¼ ä¸‰ï¼Œå·¥èµ„ä¸º45000â€</strong></p>
<p>æ¨¡å‹ç›´æ¥è¾“å‡ºæ’å…¥è¯­å¥ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a4fb3d7741c442fba3e5b362fea692c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532433&amp;x-signature=xPXw1ybNm3L%2BXHeAo2NXaZoVeOg%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰§è¡Œåå³å¯çœŸå®å†™å…¥æ•°æ®åº“ã€‚</p>
<p>æå‡ºï¼š</p>
<p><strong>â€œåˆ é™¤å¸‚åœºéƒ¨é—¨çš„é»„ä»å‹‹â€</strong></p>
<p>æ¨¡å‹è¾“å‡ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa3f495634154835a42b83285d7bcb22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532433&amp;x-signature=mr%2FtJ7jXCLnD80%2Balo%2B4zg3ukGQ%3D" alt="image.png" loading="lazy"/></p>
<p>å†æ¬¡æ‰§è¡Œå³å¯ç”Ÿæ•ˆã€‚</p>
<p>æ›´å¤æ‚ä¸€ç‚¹çš„é—®é¢˜ï¼š</p>
<p><strong>â€œæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„ä¿¡æ¯â€</strong></p>
<p>è¾“å‡ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45fa0a7fcd42486a9c9ff7b7659c3275~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532433&amp;x-signature=xqeOx8csYSBjxx3VnxtFe0Dw0WA%3D" alt="image.png" loading="lazy"/></p>
<p>ä»æˆæœæ¥çœ‹ï¼Œæ¨¡å‹å·²ç»å…·å¤‡äº†ä¸€ç§â€œè¯­ä¹‰åŒ–æ“ä½œæ•°æ®åº“â€çš„èƒ½åŠ›ã€‚å°±åƒä¸ä¸€ä¸ªæ‡‚ SQL çš„å·¥ç¨‹å¸ˆäº¤æµï¼Œåªéœ€æè¿°ä»»åŠ¡ï¼Œå®ƒä¾¿è‡ªåŠ¨ç”Ÿæˆç²¾å‡†çš„ SQL è¯­å¥ã€‚</p>
<hr/>
<h2 data-id="heading-5"><strong>äº”ã€AI First çš„çœŸæ­£æ„ä¹‰ï¼šå¼€å‘ä»â€œå†™ä»£ç â€è½¬å‘â€œè°ƒåº¦æ™ºèƒ½â€</strong></h2>
<p>è¿™ä¸ª Notebook æ¼”ç¤ºçš„è™½ç„¶åªæ˜¯ä¸€ä¸ªå°åœºæ™¯ï¼Œä½†å®ƒæœ¬è´¨ä¸Šè±¡å¾ç€æœªæ¥å¼€å‘æ–¹å¼çš„æ ¸å¿ƒç‰¹å¾ï¼š</p>
<hr/>
<h4 data-id="heading-6"><strong>1. è‡ªç„¶è¯­è¨€æˆä¸ºæ–°çš„ UI</strong></h4>
<p>è‡ªç„¶è¯­è¨€å°±åƒä¸€ç§â€œè¶…çº§é¥æ§å™¨â€ã€‚<br/>
æ•°æ®åº“æŸ¥è¯¢ã€å¢åˆ æ”¹æ“ä½œä¸å†ç”±é”®ç›˜è¾“å…¥ SQLï¼Œè€Œç”±æè¿°æ„å›¾æ¥å®Œæˆã€‚</p>
<p>è¿™ç§ UI æœ¬è´¨ä¸Šä½¿â€œæŠ€èƒ½é—¨æ§›â€æå¤§ä¸‹é™â€”â€”ä¸å†éœ€è¦æŒæ¡ SQL æœ¬èº«ã€‚æœªæ¥ï¼Œåœ¨åº”ç”¨ä¸­ä¹Ÿèƒ½çœ‹åˆ°ç±»ä¼¼åœºæ™¯ï¼šè¾“å…¥ä¸€å¥è¯ï¼Œåå°è‡ªåŠ¨ç”Ÿæˆä»£ç ã€æ¥å£ã€è¡¨ç»“æ„è¿ç§»è„šæœ¬ã€æŠ¥è¡¨ç­‰ã€‚</p>
<hr/>
<h4 data-id="heading-7"><strong>2. æ¨¡å‹æˆä¸ºåº”ç”¨çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å¤–æŒ‚å·¥å…·</strong></h4>
<p>åœ¨è¿™ä¸ªæµç¨‹ä¸­ï¼Œæ¨¡å‹ä¸æ˜¯â€œå›ç­”é—®é¢˜çš„èŠå¤©åŠ©æ‰‹â€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>è§£æ Schema çš„ SQL ä¸“å®¶</li>
<li>ä¸æ•°æ®åº“åä½œçš„åç«¯ç»„ä»¶</li>
<li>å…¼å…·åˆ†æå’Œæ‰§è¡Œèƒ½åŠ›çš„â€œä»£ç†â€</li>
</ul>
<p>å®ƒåµŒå…¥åœ¨ç³»ç»Ÿé‡Œï¼Œå°±åƒä¼ ç»Ÿçš„ web serverã€middleware ä¸€æ ·ï¼Œæ˜¯çœŸæ­£çš„â€œåç«¯åŸºç¡€è®¾æ–½â€ã€‚</p>
<hr/>
<h4 data-id="heading-8"><strong>3. å¼€å‘å·¥ä½œä»â€œå†™å®ç°â€å˜æˆâ€œå®šä¹‰éœ€æ±‚â€</strong></h4>
<p>è¿‡å»å¼€å‘ä¸­çš„ 70% æ—¶é—´èŠ±åœ¨å®ç°é€»è¾‘ä¸Šï¼Œå¦‚ï¼š</p>
<ul>
<li>ç ”ç©¶ SQL</li>
<li>è°ƒè¯•è¯­æ³•é”™è¯¯</li>
<li>å¤„ç† joinã€group by</li>
<li>å†™ MVC ç»“æ„</li>
<li>å†™ CSS å…¼å®¹æ€§</li>
</ul>
<p>è€Œ AI First çš„èŒƒå¼ä¸­ï¼Œå¼€å‘ä¸»è¦è½¬å‘ï¼š</p>
<ul>
<li>å®šä¹‰æ„å›¾</li>
<li>è®¾è®¡æµç¨‹</li>
<li>å®¡æŸ¥ç”Ÿæˆå†…å®¹</li>
<li>ç®¡ç†æ¨¡å‹çš„è¾“å…¥è¾“å‡ºè§„èŒƒ</li>
<li>è°ƒç”¨æ¨¡å‹å®Œæˆé‡å¤å·¥ä½œ</li>
</ul>
<p>å€Ÿç”¨ç”Ÿæ´»ä¸­çš„æ¯”å–»ï¼Œè¿™å°±åƒä»â€œè‡ªå·±åšé¥­â€å˜ä¸ºâ€œå‘Šè¯‰å¨å¸ˆæƒ³åƒä»€ä¹ˆâ€ã€‚</p>
<hr/>
<h4 data-id="heading-9"><strong>4. LLM + Agent çš„èƒ½åŠ›å°†æ¸—é€æ‰€æœ‰ä¸šåŠ¡åœºæ™¯</strong></h4>
<p>ä¸¾ä¸€ä¸ªè´´è¿‘æ—¥å¸¸çš„ä¾‹å­ï¼š</p>
<blockquote>
<p>â€œå¸®æˆ‘ç‚¹ä¸€æ¯å¥¶èŒ¶ï¼Œå°‘ç³–çƒ­çš„ï¼Œå¹¶åœ¨ç¾å›¢/æŠ–éŸ³/æ·˜å®ä¸Šæ¯”ä»·ï¼Œç”¨ä¼˜æƒ åˆ¸ï¼Œåœ¨æœ€ä¾¿å®œçš„é‚£å®¶ä¸‹å•ã€‚â€</p>
</blockquote>
<p>è¿™ä¸æ˜¯å¹»æƒ³ï¼Œè€Œæ˜¯ Agentï¼ˆè‡ªæ²»æ™ºèƒ½ä½“ï¼‰ä¸å¤šä¸ªåº”ç”¨ç³»ç»Ÿæ‰“é€šåçš„çœŸå®æœªæ¥ã€‚<br/>
æ•°æ®åº“æŸ¥è¯¢åªæ˜¯å…¶ä¸­ä¸€ç§èƒ½åŠ›ï¼›å½“æ¨¡å‹èƒ½è°ƒåº¦æ”¯ä»˜ã€æ¯”ä»·ã€ä¸‹å• API æ—¶ï¼Œå®ƒä¼šæˆä¸ºâ€œæ•°å­—ä¸–ç•Œçš„æ‰§è¡Œè€…â€ã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>å…­ã€ModelScopeï¼šå¤§æ¨¡å‹çš„ç¤¾åŒºä¸ç”Ÿäº§å¹³å°</strong></h2>
<p>åœ¨æ›´å¤§çš„å›¾æ™¯ä¸­ï¼Œé˜¿é‡Œæ¨å‡ºçš„ <strong>ModelScopeï¼ˆé­”æ­ï¼‰</strong> åˆ™æ‰®æ¼”äº†ç”Ÿæ€çº§è§’è‰²ã€‚</p>
<p>ModelScope æä¾›ï¼š</p>
<ul>
<li><strong>å¼€æºçš„å¤§æ¨¡å‹ç¤¾åŒº</strong></li>
<li><strong>æ¨¡å‹åº”ç”¨å¸‚åœº</strong></li>
<li><strong>æ•°æ®é›†å¹³å°</strong></li>
<li><strong>Notebook ç¯å¢ƒï¼ˆå¦‚æœ¬ä¾‹ï¼‰</strong></li>
<li><strong>å¾®è°ƒä¸æ¨ç†çš„å·¥å…·é“¾</strong></li>
</ul>
<p>è¿™æ„å‘³ç€ä¸€ä¸ªå®Œæ•´é—­ç¯ï¼š</p>
<blockquote>
<p>æ„å»º Notebook â†’ è¿æ¥æ•°æ®åº“ â†’ å¼•å…¥å¤§æ¨¡å‹ â†’ æ‰§è¡Œ SQL â†’ éƒ¨ç½²åº”ç”¨<br/>
å…¨æµç¨‹éƒ½å¯ä»¥åœ¨ ModelScope è¿™æ ·çš„å¼€æ”¾å¹³å°å®Œæˆã€‚</p>
</blockquote>
<p>è¿™è®©å¼€å‘ä»â€œä»£ç çš„ä¸–ç•Œâ€ä¸€æ­¥æ­¥èµ°å‘â€œæ¨¡å‹çš„ä¸–ç•Œâ€ã€‚</p>
<hr/>
<h2 data-id="heading-11"><strong>ä¸ƒã€å¤§æ¨¡å‹æ—¶ä»£çš„ä¸ªäººåˆ›é€ åŠ›é©å‘½ï¼šä»ä¸€å˜å¤šçš„ç”Ÿäº§æ¨¡å¼</strong></h2>
<p>æŠŠä¸Šé¢æ‰€æœ‰å†…å®¹ä¸²èµ·æ¥ï¼Œä¸€ä¸ªæ˜¾è‘—è¶‹åŠ¿ä¾¿æµ®ç°å‡ºæ¥ï¼š</p>
<h4 data-id="heading-12"><strong>ä¸€ä¸ªäºº + ä¸€ä¸ªå¤§æ¨¡å‹ = ä¸€ä¸ªå®Œæ•´çš„å·¥ç¨‹å›¢é˜Ÿ</strong></h4>
<p>å¾ˆéš¾æƒ³è±¡åœ¨ä¸ä¹…çš„å°†æ¥ï¼š</p>
<blockquote>
<p>â€œæ•°æ®åº“ã€ä¸šåŠ¡ã€å°ç¼–ï¼Œåœ¨ä»»ä½•äººåŠ å…¥åè¿è¡Œå’Œç»´æŠ¤ã€‚â€</p>
</blockquote>
<p>è¿™æ˜¯ AI First çš„æ ¸å¿ƒä»·å€¼ï¼š<br/>
å¼€å‘çš„éš¾åº¦é€æ¸ä¸â€œæ˜¯å¦ä¼šå†™ SQLã€ä¼šå†™ MVCã€ä¼šå†™ CSSâ€è„±é’©ï¼Œè€Œæ›´ä¾èµ–äºè¡¨è¾¾éœ€æ±‚ã€åˆ¶å®šè§„åˆ™ã€ç†è§£ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>å¤§æ¨¡å‹æˆä¸ºâ€œè‡ªåŠ¨åŒ–åŠ³åŠ¨åŠ›â€ï¼Œå¼€å‘è€…æˆä¸ºâ€œä»»åŠ¡çš„æŒ‡æŒ¥è€…â€ã€‚</p>
<hr/>
<h2 data-id="heading-13"><strong>ç»“è¯­ï¼šè¿ˆå‘ AI First çš„ä¸–ç•Œ</strong></h2>
<p>å½“è‡ªç„¶è¯­è¨€èƒ½ç›´æ¥é©±åŠ¨æ•°æ®åº“ï¼Œå½“æ¨¡å‹èƒ½è‡ªåŠ¨ç”Ÿæˆå¹¶æ‰§è¡Œ SQLï¼Œå½“ ModelScope ç­‰å¹³å°è®©æ¯ä¸ªäººéƒ½èƒ½è½»æ¾è°ƒç”¨å¤§æ¨¡å‹ï¼Œå½“ Agent èƒ½å¸®äººç‚¹å¥¶èŒ¶ã€æ¯”ä»·ã€è‡ªåŠ¨ä¸‹å•ï¼Œè¿™äº›ç¢ç‰‡ç»„åˆåœ¨ä¸€èµ·ï¼Œæ„æˆäº†ä¸€ä¸ªå…¨æ–°çš„è½¯ä»¶ä¸–ç•Œã€‚</p>
<p>åœ¨è¿™ä¸ªä¸–ç•Œä¸­ï¼š</p>
<ul>
<li>ä»£ç åªæ˜¯â€œæ¨¡å‹çš„äº§ç‰©â€</li>
<li>åº”ç”¨ç”±â€œæ„å›¾â€é©±åŠ¨</li>
<li>AI æˆä¸ºâ€œå¼€å‘è€…çš„å…±åŒä½“â€</li>
<li>ç”Ÿäº§åŠ›ä¸å†è¢«æŠ€èƒ½é—¨æ§›é™åˆ¶</li>
</ul>
<p>æŠ€æœ¯æ­£åœ¨æ‚„æ‚„æ”¹å˜ï¼Œä½†æ”¹å˜çš„æ–¹å‘ååˆ†æ˜ç¡®ï¼š<br/>
<strong>ä»æ‰‹å†™ä»£ç  â†’ æ„å›¾é©±åŠ¨ â†’ æ™ºèƒ½è°ƒåº¦ â†’ è‡ªåŠ¨æ‰§è¡Œã€‚</strong></p>
<p>è¿™å°±æ˜¯ AI First  æ—¶ä»£çš„çœŸæ­£æ„ä¹‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Next.js 16 Page Router å›½é™…åŒ– ğŸŒ]]></title>    <link>https://juejin.cn/post/7580188321323057158</link>    <guid>https://juejin.cn/post/7580188321323057158</guid>    <pubDate>2025-12-05T10:27:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580188321323057158" data-draft-id="7579999793320574982" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Next.js 16 Page Router å›½é™…åŒ– ğŸŒ"/> <meta itemprop="keywords" content="Next.js"/> <meta itemprop="datePublished" content="2025-12-05T10:27:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dorisrv"/> <meta itemprop="url" content="https://juejin.cn/user/1522178380270712"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Next.js 16 Page Router å›½é™…åŒ– ğŸŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1522178380270712/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dorisrv
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:27:12.000Z" title="Fri Dec 05 2025 10:27:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Next.js 16 Page Router å›½é™…åŒ– ğŸŒ</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨ç°ä»£ Web åº”ç”¨å¼€å‘ä¸­ï¼Œå›½é™…åŒ–ï¼ˆi18nï¼‰å·²ç»æˆä¸ºä¸€ä¸ªå¿…å¤‡åŠŸèƒ½ã€‚ä¼ ç»Ÿçš„ Next.js å›½é™…åŒ–æ–¹æ¡ˆé€šå¸¸é‡‡ç”¨ URL å‰ç¼€æ–¹å¼ï¼ˆå¦‚ <code>/en/page</code> æˆ– <code>/zh-CN/page</code>ï¼‰ï¼Œè¿™ç§æ–¹å¼è™½ç„¶å®ç°ç®€å•ï¼Œä½†å­˜åœ¨ä¸€äº›æ˜æ˜¾çš„é—®é¢˜ï¼š</p>
<ol>
<li><strong>URL é¢‘ç¹å˜æ›´</strong>ï¼šç”¨æˆ·åˆ‡æ¢è¯­è¨€æ—¶ï¼Œé¡µé¢ URL ä¼šå‘ç”Ÿå˜åŒ–</li>
<li><strong>SEO åˆ†æ•£</strong>ï¼šç›¸åŒå†…å®¹åˆ†æ•£åœ¨ä¸åŒ URL ä¸‹ï¼Œå½±å“æœç´¢å¼•æ“ä¼˜åŒ–</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¸ä½³</strong>ï¼šå¤åˆ¶é“¾æ¥æ—¶éœ€è¦è€ƒè™‘è¯­è¨€å‰ç¼€</li>
</ol>
<p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼å¯ä»¥åœ¨ä¸æ”¹å˜ URL çš„æƒ…å†µä¸‹å®ç°å›½é™…åŒ–å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»æˆ‘åœ¨ Next.js 16 é¡¹ç›®ä¸­å®ç°çš„<strong>æ—  URL å˜æ›´çš„å›½é™…åŒ–æ–¹æ¡ˆ</strong>ï¼Œé‡‡ç”¨æµè§ˆå™¨ç¼“å­˜ + Cookie æœºåˆ¶ç®¡ç†è¯­è¨€åˆ‡æ¢ï¼Œä¿æŒ URL ç¨³å®šçš„åŒæ—¶æä¾›æµç•…çš„å›½é™…åŒ–ä½“éªŒã€‚</p>
<h3 data-id="heading-2">æŠ€æœ¯æ ˆ</h3>













































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Next.js</td><td>16.0.7</td><td>å‰ç«¯æ¡†æ¶</td></tr><tr><td>React</td><td>19.2.0</td><td>UI åº“</td></tr><tr><td>TypeScript</td><td>5.5.4</td><td>ç±»å‹ç³»ç»Ÿ</td></tr><tr><td>next-i18next</td><td>15.4.3</td><td>å›½é™…åŒ–æ ¸å¿ƒåº“</td></tr><tr><td>react-i18next</td><td>16.3.5</td><td>React å›½é™…åŒ–é›†æˆ</td></tr><tr><td>js-cookie</td><td>3.0.5</td><td>Cookie ç®¡ç†</td></tr><tr><td>ahooks</td><td>3.9.6</td><td>React Hooks å·¥å…·åº“</td></tr></tbody></table>
<h3 data-id="heading-3">é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-python" lang="python">src/
â”œâ”€â”€ components/            <span class="hljs-comment"># ç»„ä»¶ç›®å½•</span>
â”‚   â””â”€â”€ I18nLngSelector.tsx  <span class="hljs-comment"># è¯­è¨€é€‰æ‹©å™¨ç»„ä»¶</span>
â”œâ”€â”€ i18n/                 <span class="hljs-comment"># å›½é™…åŒ–é…ç½®ç›®å½•</span>
â”‚   â”œâ”€â”€ hooks/            <span class="hljs-comment"># è‡ªå®šä¹‰ Hooks</span>
â”‚   â”‚   â””â”€â”€ useI18n.ts    <span class="hljs-comment"># è¯­è¨€åˆ‡æ¢é’©å­</span>
â”‚   â”œâ”€â”€ locales/          <span class="hljs-comment"># ç¿»è¯‘èµ„æºæ–‡ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ en/           <span class="hljs-comment"># è‹±æ–‡ç¿»è¯‘</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ common.json       <span class="hljs-comment"># é€šç”¨ç¿»è¯‘</span>
â”‚   â”‚   â”‚   â””â”€â”€ index_page.json   <span class="hljs-comment"># é¦–é¡µç¿»è¯‘</span>
â”‚   â”‚   â””â”€â”€ zh-CN/        <span class="hljs-comment"># ä¸­æ–‡ç¿»è¯‘</span>
â”‚   â”‚       â”œâ”€â”€ common.json       <span class="hljs-comment"># é€šç”¨ç¿»è¯‘</span>
â”‚   â”‚       â””â”€â”€ index_page.json   <span class="hljs-comment"># é¦–é¡µç¿»è¯‘</span>
â”‚   â”œâ”€â”€ <span class="hljs-built_in">type</span>.ts           <span class="hljs-comment"># TypeScript ç±»å‹å®šä¹‰</span>
â”‚   â””â”€â”€ i18next.d.ts      <span class="hljs-comment"># ç±»å‹å£°æ˜æ–‡ä»¶</span>
â””â”€â”€ pages/                <span class="hljs-comment"># é¡µé¢ç›®å½•</span>
    â”œâ”€â”€ _app.tsx          <span class="hljs-comment"># åº”ç”¨å…¥å£ï¼ˆè¯­è¨€åˆå§‹åŒ–ï¼‰</span>
    â””â”€â”€ index.tsx         <span class="hljs-comment"># é¦–é¡µ</span>
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒå®ç°</h3>
<h4 data-id="heading-5">1. next-i18next é…ç½®</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦é…ç½® next-i18nextï¼Œåˆ›å»º <code>next-i18next.config.js</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// next-i18next.config.js</span>
<span class="hljs-comment">// @ts-check</span>

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@type</span> {<span class="hljs-type">import('next-i18next').UserConfig</span>}
 */</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// å¼€å‘ç¯å¢ƒä¸‹å¯ç”¨è°ƒè¯•æ¨¡å¼</span>
  <span class="hljs-attr">debug</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'development'</span>,
  <span class="hljs-comment">// å›½é™…åŒ–é…ç½®</span>
  <span class="hljs-attr">i18n</span>: {
    <span class="hljs-comment">// é»˜è®¤è¯­è¨€</span>
    <span class="hljs-attr">defaultLocale</span>: <span class="hljs-string">'zh-CN'</span>,
    <span class="hljs-comment">// æ”¯æŒçš„è¯­è¨€åˆ—è¡¨</span>
    <span class="hljs-attr">locales</span>: [<span class="hljs-string">'zh-CN'</span>, <span class="hljs-string">'en'</span>],
    <span class="hljs-comment">// ç¦ç”¨è‡ªåŠ¨è¯­è¨€æ£€æµ‹ï¼Œä½¿ç”¨è‡ªå®šä¹‰é€»è¾‘</span>
    <span class="hljs-attr">localeDetection</span>: <span class="hljs-literal">false</span>,
  },
  <span class="hljs-comment">// è¯­è¨€èµ„æºæ–‡ä»¶è·¯å¾„</span>
  <span class="hljs-attr">localePath</span>: <span class="hljs-string">'./src/i18n/locales'</span>,
  <span class="hljs-comment">// å¼€å‘ç¯å¢ƒä¸‹åœ¨é¢„æ¸²æŸ“æ—¶é‡æ–°åŠ è½½è¯­è¨€èµ„æº</span>
  <span class="hljs-attr">reloadOnPrerender</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'development'</span>,
}
</code></pre>
<p><strong>é…ç½®è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>debug: true</code>ï¼šå¼€å‘ç¯å¢ƒä¸‹å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼Œä¾¿äºå¼€å‘è°ƒè¯•</li>
<li><code>defaultLocale: 'zh-CN'</code>ï¼šè®¾ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡</li>
<li><code>locales: ['zh-CN', 'en']</code>ï¼šé…ç½®æ”¯æŒçš„è¯­è¨€åˆ—è¡¨</li>
<li><code>localeDetection: false</code>ï¼šç¦ç”¨è‡ªåŠ¨è¯­è¨€æ£€æµ‹ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„è¯­è¨€æ£€æµ‹å’Œåˆ‡æ¢é€»è¾‘</li>
<li><code>localePath: './src/i18n/locales'</code>ï¼šæŒ‡å®šè¯­è¨€èµ„æºæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</li>
</ul>
<h4 data-id="heading-6">2. è‡ªå®šä¹‰è¯­è¨€åˆ‡æ¢é’©å­</h4>
<p>æ ¸å¿ƒé€»è¾‘åœ¨äºè‡ªå®šä¹‰çš„ <code>useI18nLng</code> é’©å­ï¼Œå®ƒè´Ÿè´£å¤„ç†è¯­è¨€çš„å­˜å‚¨ã€åˆ‡æ¢å’Œåˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/i18n/hooks/useI18n.ts</span>
<span class="hljs-keyword">import</span> { useTranslation } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-i18next'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LangEnum</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/i18n/type'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Cookies</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"js-cookie"</span>;

<span class="hljs-comment">// è¯­è¨€å­˜å‚¨çš„é”®å</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">LANG_KEY</span> = <span class="hljs-string">'NEXT_LOCALE'</span>;

<span class="hljs-comment">/**
 * æ£€æŸ¥å½“å‰æ˜¯å¦åœ¨ iframe ä¸­
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">isInIframe</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">self</span> !== <span class="hljs-variable language_">window</span>.<span class="hljs-property">top</span>;
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å‘ç”Ÿå¼‚å¸¸æ—¶é»˜è®¤è®¤ä¸ºåœ¨ iframe ä¸­</span>
  }
};

<span class="hljs-comment">/**
 * è®¾ç½®è¯­è¨€åˆ°å­˜å‚¨ä¸­
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">setLang</span> = (<span class="hljs-params">value: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isInIframe</span>()) {
    <span class="hljs-comment">// åœ¨ iframe ä¸­åªä½¿ç”¨ localStorage</span>
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">LANG_KEY</span>, value);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ä¸åœ¨ iframe ä¸­ï¼ŒåŒæ—¶ä½¿ç”¨ Cookie å’Œ localStorage</span>
    <span class="hljs-title class_">Cookies</span>.<span class="hljs-title function_">set</span>(<span class="hljs-variable constant_">LANG_KEY</span>, value, { <span class="hljs-attr">expires</span>: <span class="hljs-number">30</span> }); <span class="hljs-comment">// Cookie æœ‰æ•ˆæœŸ30å¤©</span>
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">LANG_KEY</span>, value);
  }
};

<span class="hljs-comment">/**
 * ä»å­˜å‚¨ä¸­è·å–è¯­è¨€
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getLang</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">LANG_KEY</span>) || <span class="hljs-title class_">Cookies</span>.<span class="hljs-title function_">get</span>(<span class="hljs-variable constant_">LANG_KEY</span>);
};

<span class="hljs-comment">/**
 * è‡ªå®šä¹‰ i18n è¯­è¨€åˆ‡æ¢é’©å­
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useI18nLng</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è·å– i18n å®ä¾‹</span>
  <span class="hljs-keyword">const</span> { i18n } = <span class="hljs-title function_">useTranslation</span>();
  
  <span class="hljs-comment">// è¯­è¨€æ˜ å°„è¡¨ï¼Œç¡®ä¿è¯­è¨€ä»£ç çš„ä¸€è‡´æ€§</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">languageMap</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {
    <span class="hljs-string">'zh-CN'</span>: <span class="hljs-title class_">LangEnum</span>.<span class="hljs-property">zh_CN</span>,
    <span class="hljs-attr">en</span>: <span class="hljs-title class_">LangEnum</span>.<span class="hljs-property">en</span>,
  };

  <span class="hljs-comment">/**
   * åˆ‡æ¢è¯­è¨€çš„æ–¹æ³•
   */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onChangeLng</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">lng: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-comment">// ç¡®ä¿è¯­è¨€ä»£ç çš„æ­£ç¡®æ€§</span>
    <span class="hljs-keyword">const</span> lang = languageMap[lng] || <span class="hljs-string">'en'</span>;
    <span class="hljs-keyword">const</span> prevLang = <span class="hljs-title function_">getLang</span>();

    <span class="hljs-comment">// å°†è¯­è¨€ä¿å­˜åˆ°å­˜å‚¨ä¸­</span>
    <span class="hljs-title function_">setLang</span>(lang);

    <span class="hljs-comment">// è°ƒç”¨ i18n å®ä¾‹åˆ‡æ¢è¯­è¨€</span>
    <span class="hljs-keyword">await</span> i18n?.<span class="hljs-property">changeLanguage</span>?.(lang);

    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰èµ„æºåŒ…ä¸”è¯­è¨€å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™åˆ·æ–°é¡µé¢</span>
    <span class="hljs-keyword">if</span> (!i18n?.<span class="hljs-property">hasResourceBundle</span>?.(lang, <span class="hljs-string">'common'</span>) &amp;&amp; prevLang !== lang) {
      <span class="hljs-variable language_">window</span>?.<span class="hljs-property">location</span>?.<span class="hljs-property">reload</span>?.();
    }
  };

  <span class="hljs-comment">/**
   * è®¾ç½®ç”¨æˆ·é»˜è®¤è¯­è¨€
   */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">setUserDefaultLng</span> = (<span class="hljs-params">forceGetDefaultLng: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></span>) =&gt; {
    <span class="hljs-comment">// ç¡®ä¿åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­è¿è¡Œ</span>
    <span class="hljs-keyword">if</span> (!navigator || !<span class="hljs-variable language_">localStorage</span>) <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// å¦‚æœå·²ç»æœ‰å­˜å‚¨çš„è¯­è¨€ä¸”ä¸æ˜¯å¼ºåˆ¶è·å–ï¼Œåˆ™ä½¿ç”¨å­˜å‚¨çš„è¯­è¨€</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getLang</span>() &amp;&amp; !forceGetDefaultLng) <span class="hljs-keyword">return</span> <span class="hljs-title function_">onChangeLng</span>(<span class="hljs-title function_">getLang</span>() <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>);

    <span class="hljs-comment">// è·å–æµè§ˆå™¨è¯­è¨€å¹¶æ˜ å°„åˆ°æ”¯æŒçš„è¯­è¨€</span>
    <span class="hljs-keyword">const</span> lang = languageMap[navigator.<span class="hljs-property">language</span>] || <span class="hljs-string">'en'</span>;

    <span class="hljs-comment">// åˆ‡æ¢åˆ°è·å–çš„è¯­è¨€</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">onChangeLng</span>(lang);
  };

  <span class="hljs-comment">// è¿”å›é’©å­æ–¹æ³•</span>
  <span class="hljs-keyword">return</span> {
    onChangeLng,  <span class="hljs-comment">// è¯­è¨€åˆ‡æ¢æ–¹æ³•</span>
    setUserDefaultLng <span class="hljs-comment">// è®¾ç½®é»˜è®¤è¯­è¨€æ–¹æ³•</span>
  };
};
</code></pre>
<p><strong>æ ¸å¿ƒäº®ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>åŒé‡å­˜å‚¨æœºåˆ¶</strong>ï¼šåŒæ—¶ä½¿ç”¨ localStorage å’Œ Cookie å­˜å‚¨è¯­è¨€é€‰æ‹©ï¼Œç¡®ä¿åœ¨ä¸åŒåœºæ™¯ä¸‹éƒ½èƒ½æ­£ç¡®è·å–</li>
<li><strong>iframe å…¼å®¹æ€§</strong>ï¼šæ£€æµ‹æ˜¯å¦åœ¨ iframe ä¸­è¿è¡Œï¼Œé’ˆå¯¹æ€§å¤„ç†å­˜å‚¨æ–¹å¼</li>
<li><strong>æ™ºèƒ½è¯­è¨€åˆ‡æ¢</strong>ï¼šåˆ‡æ¢è¯­è¨€æ—¶å…ˆæ£€æŸ¥æ˜¯å¦æœ‰èµ„æºåŒ…ï¼Œé¿å…å› èµ„æºç¼ºå¤±å¯¼è‡´çš„é”™è¯¯</li>
<li><strong>æµè§ˆå™¨è¯­è¨€æ£€æµ‹</strong>ï¼šé¦–æ¬¡è®¿é—®æ—¶æ ¹æ®æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨è®¾ç½®é»˜è®¤è¯­è¨€</li>
</ul>
<h4 data-id="heading-7">3. åº”ç”¨å…¥å£åˆå§‹åŒ–</h4>
<p>åœ¨ <code>_app.tsx</code> ä¸­å®ç°é»˜è®¤è¯­è¨€çš„åˆå§‹åŒ–ï¼Œç¡®ä¿é¡µé¢åˆ·æ–°åèƒ½ä¿æŒç”¨æˆ·çš„è¯­è¨€é€‰æ‹©ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/_app.tsx</span>
<span class="hljs-comment">// å¯¼å…¥åº”ç”¨ç»„ä»¶ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">AppProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/app'</span>
<span class="hljs-comment">// å¯¼å…¥ i18n åº”ç”¨åŒ…è£…ç»„ä»¶</span>
<span class="hljs-keyword">import</span> { appWithTranslation } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-i18next'</span>
<span class="hljs-comment">// å¯¼å…¥è‡ªå®šä¹‰çš„ i18n è¯­è¨€é’©å­</span>
<span class="hljs-keyword">import</span> { useI18nLng } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/i18n/hooks/useI18n'</span>
<span class="hljs-comment">// å¯¼å…¥ React å‰¯ä½œç”¨é’©å­</span>
<span class="hljs-keyword">import</span> { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">/**
 * ä¸»åº”ç”¨ç»„ä»¶ï¼Œæ‰€æœ‰é¡µé¢çš„å®¹å™¨ç»„ä»¶
 * <span class="hljs-doctag">@param</span> Component å½“å‰æ¸²æŸ“çš„é¡µé¢ç»„ä»¶
 * <span class="hljs-doctag">@param</span> pageProps é¡µé¢å±æ€§å’Œåˆå§‹æ•°æ®
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">MyApp</span> = (<span class="hljs-params">{ Component, pageProps }: AppProps</span>) =&gt; {
  <span class="hljs-comment">// è·å–è®¾ç½®é»˜è®¤è¯­è¨€çš„æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> { setUserDefaultLng } = <span class="hljs-title function_">useI18nLng</span>()

  <span class="hljs-comment">// ç»„ä»¶æŒ‚è½½æ—¶è®¾ç½®é»˜è®¤è¯­è¨€</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setUserDefaultLng</span>()
  }, [])

  <span class="hljs-comment">// æ¸²æŸ“å½“å‰é¡µé¢ç»„ä»¶</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Component</span> {<span class="hljs-attr">...pageProps</span>} /&gt;</span></span>
}

<span class="hljs-comment">// ä½¿ç”¨ i18n åŒ…è£…åº”ç”¨ç»„ä»¶ï¼Œæä¾›å›½é™…åŒ–åŠŸèƒ½</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">appWithTranslation</span>(<span class="hljs-title class_">MyApp</span>)
</code></pre>
<p><strong>åˆå§‹åŒ–æµç¨‹</strong>ï¼š</p>
<ol>
<li>åº”ç”¨å¯åŠ¨æ—¶ï¼Œç»„ä»¶æŒ‚è½½</li>
<li>è°ƒç”¨ <code>setUserDefaultLng()</code> æ–¹æ³•</li>
<li>æ£€æŸ¥æ˜¯å¦æœ‰å­˜å‚¨çš„è¯­è¨€è®¾ç½®</li>
<li>å¦‚æœæœ‰ï¼Œä½¿ç”¨å­˜å‚¨çš„è¯­è¨€ï¼›å¦‚æœæ²¡æœ‰ï¼Œæ ¹æ®æµè§ˆå™¨è¯­è¨€è®¾ç½®é»˜è®¤è¯­è¨€</li>
<li>ç¡®ä¿ç”¨æˆ·æ¯æ¬¡è®¿é—®æ—¶éƒ½èƒ½çœ‹åˆ°è‡ªå·±é€‰æ‹©çš„è¯­è¨€</li>
</ol>
<h4 data-id="heading-8">4. è¯­è¨€é€‰æ‹©å™¨ç»„ä»¶</h4>
<p>åˆ›å»ºä¸€ä¸ªè¯­è¨€é€‰æ‹©å™¨ç»„ä»¶ï¼Œè®©ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°åˆ‡æ¢è¯­è¨€ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/I18nLngSelector.tsx</span>
<span class="hljs-comment">// å¯¼å…¥è‡ªå®šä¹‰çš„ i18n è¯­è¨€é’©å­</span>
<span class="hljs-keyword">import</span> { useI18nLng } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/i18n/hooks/useI18n'</span>;
<span class="hljs-comment">// å¯¼å…¥ i18n ç¿»è¯‘é’©å­</span>
<span class="hljs-keyword">import</span> { useTranslation } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-i18next'</span>;
<span class="hljs-comment">// å¯¼å…¥ React è®°å¿†åŒ–é’©å­</span>
<span class="hljs-keyword">import</span> { useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-comment">// å¯¼å…¥è¯­è¨€æ˜ å°„è¡¨</span>
<span class="hljs-keyword">import</span> { langMap } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/i18n/type'</span>;

<span class="hljs-comment">/**
 * è¯­è¨€é€‰æ‹©å™¨ç»„ä»¶
 * æä¾›UIç•Œé¢è®©ç”¨æˆ·åˆ‡æ¢åº”ç”¨è¯­è¨€
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">I18nLngSelector</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è·å– i18n å®ä¾‹</span>
  <span class="hljs-keyword">const</span> { i18n } = <span class="hljs-title function_">useTranslation</span>();
  <span class="hljs-comment">// è·å–è¯­è¨€åˆ‡æ¢æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> { onChangeLng } = <span class="hljs-title function_">useI18nLng</span>();

  <span class="hljs-comment">// è®°å¿†åŒ–å¤„ç†è¯­è¨€åˆ—è¡¨ï¼Œé¿å…é‡å¤è®¡ç®—</span>
  <span class="hljs-keyword">const</span> list = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(langMap).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[key, lang]</span>) =&gt;</span> ({
      <span class="hljs-attr">label</span>: lang.<span class="hljs-property">label</span>, <span class="hljs-comment">// æ˜¾ç¤ºæ ‡ç­¾</span>
      <span class="hljs-attr">value</span>: key         <span class="hljs-comment">// è¯­è¨€ä»£ç å€¼</span>
    }));
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="hljs-comment">// è¯­è¨€é€‰æ‹©ä¸‹æ‹‰æ¡†</span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> 
      <span class="hljs-attr">value</span>=<span class="hljs-string">{i18n.language}</span> // <span class="hljs-attr">å½“å‰é€‰ä¸­çš„è¯­è¨€</span>
      <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> onChangeLng(e.target.value)} // è¯­è¨€å˜æ›´å¤„ç†
    &gt;
      {/* æ¸²æŸ“è¯­è¨€é€‰é¡¹åˆ—è¡¨ */}
      {list.map((item) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.value}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{item.value}</span>&gt;</span>
          {item.label}
        <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span>
  );
};

<span class="hljs-comment">// å¯¼å‡ºè¯­è¨€é€‰æ‹©å™¨ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> I18nLngSelector;
</code></pre>
<p><strong>ç»„ä»¶ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨åŸç”Ÿ select å…ƒç´ ï¼Œç®€æ´é«˜æ•ˆ</li>
<li>ç»‘å®šå½“å‰è¯­è¨€çŠ¶æ€ï¼Œç¡®ä¿ UI ä¸å®é™…è¯­è¨€ä¸€è‡´</li>
<li>è°ƒç”¨è‡ªå®šä¹‰çš„ onChangeLng æ–¹æ³•å¤„ç†è¯­è¨€åˆ‡æ¢</li>
<li>æ”¯æŒå¤šè¯­è¨€æ˜¾ç¤ºè¯­è¨€é€‰é¡¹</li>
</ul>
<h4 data-id="heading-9">5. ç±»å‹å®šä¹‰</h4>
<p>ä¸ºäº†æä¾›æ›´å¥½çš„ç±»å‹å®‰å…¨ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ç›¸å…³çš„ TypeScript ç±»å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/i18n/type.ts</span>
<span class="hljs-comment">// å¯¼å…¥è¯­è¨€èµ„æºæ–‡ä»¶</span>
<span class="hljs-keyword">import</span> { resources } <span class="hljs-keyword">from</span> <span class="hljs-string">"./resources"</span>;

<span class="hljs-comment">/**
 * å›½é™…åŒ–å­—ç¬¦ä¸²ç±»å‹å®šä¹‰
 * è¦æ±‚å¿…é¡»æä¾›ä¸­æ–‡ï¼Œè‹±æ–‡ä¸ºå¯é€‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> I18nStringType = {
  <span class="hljs-string">'zh-CN'</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// ä¸­æ–‡ç®€ä½“</span>
  en?: <span class="hljs-built_in">string</span>;     <span class="hljs-comment">// è‹±æ–‡ï¼ˆå¯é€‰ï¼‰</span>
};

<span class="hljs-comment">/**
 * è¯­è¨€æšä¸¾ç±»å‹
 * å®šä¹‰æ”¯æŒçš„è¯­è¨€ä»£ç 
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">LangEnum</span> {
  <span class="hljs-string">'zh_CN'</span> = <span class="hljs-string">'zh-CN'</span>, <span class="hljs-comment">// ä¸­æ–‡ç®€ä½“</span>
  <span class="hljs-string">'en'</span> = <span class="hljs-string">'en'</span>        <span class="hljs-comment">// è‹±æ–‡</span>
}

<span class="hljs-comment">/**
 * è¯­è¨€ç±»å‹ï¼ŒåŸºäºLangEnumçš„å­—ç¬¦ä¸²ç±»å‹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> localeType = <span class="hljs-string">`<span class="hljs-subst">${LangEnum}</span>`</span>;

<span class="hljs-comment">/**
 * æ”¯æŒçš„è¯­è¨€åˆ—è¡¨å¸¸é‡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">LocaleList</span> = [<span class="hljs-string">'en'</span>, <span class="hljs-string">'zh-CN'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-comment">/**
 * è¯­è¨€æ˜ å°„è¡¨ï¼Œç”¨äºUIæ˜¾ç¤º
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> langMap = {
  [<span class="hljs-title class_">LangEnum</span>.<span class="hljs-property">en</span>]: {
    <span class="hljs-attr">label</span>: <span class="hljs-string">'English(US)'</span>, <span class="hljs-comment">// è‹±æ–‡æ˜¾ç¤ºåç§°</span>
  },
  [<span class="hljs-title class_">LangEnum</span>.<span class="hljs-property">zh_CN</span>]: {
    <span class="hljs-attr">label</span>: <span class="hljs-string">'ç®€ä½“ä¸­æ–‡'</span>,     <span class="hljs-comment">// ä¸­æ–‡æ˜¾ç¤ºåç§°</span>
  }
};

<span class="hljs-comment">/**
 * å›½é™…åŒ–å‘½åç©ºé—´ç±»å‹ï¼ŒåŸºäºresourcesçš„ç±»å‹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> I18nNamespaces = <span class="hljs-keyword">typeof</span> resources;

<span class="hljs-comment">/**
 * å›½é™…åŒ–å‘½åç©ºé—´æ•°ç»„ç±»å‹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> I18nNsType = (keyof I18nNamespaces)[];
</code></pre>
<p><strong>ç±»å‹å®‰å…¨ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é¿å…æ‹¼å†™é”™è¯¯ï¼šä½¿ç”¨æšä¸¾å’Œç±»å‹å®šä¹‰ç¡®ä¿è¯­è¨€ä»£ç çš„æ­£ç¡®æ€§</li>
<li>æ™ºèƒ½æç¤ºï¼šåœ¨ä½¿ç”¨ç¿»è¯‘é”®æ—¶æä¾›è‡ªåŠ¨è¡¥å…¨</li>
<li>ç±»å‹æ£€æŸ¥ï¼šåœ¨ç¼–è¯‘æ—¶å°±èƒ½å‘ç°ç¿»è¯‘èµ„æºçš„é”™è¯¯ä½¿ç”¨</li>
</ul>
<h3 data-id="heading-10">ç¿»è¯‘èµ„æºæ–‡ä»¶ç¤ºä¾‹</h3>
<h4 data-id="heading-11">ä¸­æ–‡ç¿»è¯‘</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// src/i18n/locales/zh-CN/common.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"change-locale"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åˆ‡æ¢åˆ° \"{{changeTo}}\" è¯­è¨€"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"welcome"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ¬¢è¿ä½¿ç”¨ Next.js å›½é™…åŒ–æ–¹æ¡ˆ"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-12">è‹±æ–‡ç¿»è¯‘</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// src/i18n/locales/en/common.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"change-locale"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Change locale to \"{{changeTo}}\""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"welcome"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Welcome to Next.js i18n Solution"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-13">é¦–é¡µç¿»è¯‘èµ„æº</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// src/i18n/locales/zh-CN/index_page.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next-i18next ç¤ºä¾‹"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// src/i18n/locales/en/index_page.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next-i18next example"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-14">ç¿»è¯‘èµ„æºç®¡ç†</h3>
<p>ä¸ºäº†æ›´å¥½åœ°ç®¡ç†ç¿»è¯‘èµ„æºï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>resources.ts</code> æ–‡ä»¶æ¥é›†ä¸­å¯¼å…¥å’Œå¯¼å‡ºæ‰€æœ‰ç¿»è¯‘èµ„æºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/i18n/resources.ts</span>
<span class="hljs-comment">// å¯¼å…¥è‹±æ–‡çš„é€šç”¨è¯­è¨€èµ„æº</span>
<span class="hljs-keyword">import</span> common <span class="hljs-keyword">from</span> <span class="hljs-string">'./locales/en/common.json'</span>;
<span class="hljs-comment">// å¯¼å…¥è‹±æ–‡çš„é¦–é¡µè¯­è¨€èµ„æº</span>
<span class="hljs-keyword">import</span> indexPage <span class="hljs-keyword">from</span> <span class="hljs-string">"./locales/en/index_page.json"</span>;

<span class="hljs-comment">/**
 * è¯­è¨€èµ„æºå¯¼å‡º
 * å®šä¹‰åº”ç”¨ä¸­ä½¿ç”¨çš„æ‰€æœ‰å›½é™…åŒ–å‘½åç©ºé—´
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> resources = {
  common,         <span class="hljs-comment">// é€šç”¨è¯­è¨€èµ„æº</span>
  <span class="hljs-string">'index_page'</span>: indexPage,  <span class="hljs-comment">// é¦–é¡µè¯­è¨€èµ„æº</span>
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;
</code></pre>
<h3 data-id="heading-15">ç±»å‹å®šä¹‰å¢å¼º</h3>
<p>ä¸ºäº†æä¾›æ›´å¥½çš„ TypeScript ç±»å‹æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»º <code>i18next.d.ts</code> æ–‡ä»¶æ¥æ‰©å±• i18next çš„ç±»å‹å®šä¹‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/i18n/i18next.d.ts</span>
<span class="hljs-comment">/**
 * If you want to enable locale keys typechecking and enhance IDE experience.
 *
 * Requires `resolveJsonModule:true` in your tsconfig.json.
 *
 * <span class="hljs-doctag">@link</span> https://www.i18next.com/overview/typescript
 */</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'i18next'</span>

<span class="hljs-comment">// resources.ts file is generated with `npm run toc`</span>
<span class="hljs-keyword">import</span> { I18nNamespaces } <span class="hljs-keyword">from</span> <span class="hljs-string">'./type'</span>

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">'i18next'</span> {
  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CustomTypeOptions</span> {
    <span class="hljs-attr">defaultNS</span>: <span class="hljs-string">'common'</span>
    <span class="hljs-attr">resources</span>: I18nNamespaces
  }
}
</code></pre>
<h3 data-id="heading-16">å¼€å‘ä½“éªŒä¼˜åŒ–ï¼ši18n-ally æ’ä»¶</h3>
<p>ä¸ºäº†æå‡å›½é™…åŒ–å¼€å‘ä½“éªŒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ i18n-ally æ’ä»¶ï¼Œå®ƒæä¾›äº†å®æ—¶ç¿»è¯‘é¢„è§ˆã€è‡ªåŠ¨è¡¥å…¨ã€é”™è¯¯æ£€æŸ¥ç­‰åŠŸèƒ½ã€‚</p>
<p>åœ¨ <code>.vscode/settings.json</code> ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"i18n-ally.localesPaths"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/i18n/locales"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"i18n-ally.enableNamespace"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"i18n-ally.pathMatcher"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{locale}/{namespace}.json"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ’ä»¶ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>å®æ—¶é¢„è§ˆï¼šåœ¨ç¼–è¾‘å™¨ä¸­ç›´æ¥çœ‹åˆ°ç¿»è¯‘ç»“æœ</li>
<li>è‡ªåŠ¨è¡¥å…¨ï¼šè¾“å…¥ç¿»è¯‘é”®æ—¶æä¾›æ™ºèƒ½æç¤º</li>
<li>é”™è¯¯æ£€æŸ¥ï¼šæ£€æµ‹ç¼ºå¤±çš„ç¿»è¯‘é”®å’Œæ ¼å¼é”™è¯¯</li>
<li>æ‰¹é‡æ“ä½œï¼šæ–¹ä¾¿åœ°ç®¡ç†å’ŒåŒæ­¥ç¿»è¯‘èµ„æº</li>
</ul>
<h3 data-id="heading-17">å›½é™…åŒ–åŠŸèƒ½ä½¿ç”¨æŒ‡å—</h3>
<h4 data-id="heading-18">1. åœ¨é¡µé¢ä¸­ä½¿ç”¨ç¿»è¯‘</h4>
<p>åœ¨ Next.js é¡µé¢ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>useTranslation</code> é’©å­æ¥è·å–ç¿»è¯‘å‡½æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/index.tsx</span>
<span class="hljs-keyword">import</span> { useTranslation } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-i18next'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è·å–ç¿»è¯‘å‡½æ•°</span>
  <span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useTranslation</span>()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* ä½¿ç”¨ç¿»è¯‘ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{t('welcome')}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-19">2. å¤šå‘½åç©ºé—´å¤„ç†</h4>
<p>å¯¹äºå¤§å‹é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªå‘½åç©ºé—´æ¥ç»„ç»‡ç¿»è¯‘èµ„æºã€‚ä¾‹å¦‚ï¼Œé¦–é¡µä½¿ç”¨ <code>index_page</code> å‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/index.tsx</span>
<span class="hljs-keyword">import</span> { useTranslation } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-i18next'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è·å–ç¿»è¯‘å‡½æ•°</span>
  <span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useTranslation</span>()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* ä½¿ç”¨index_pageå‘½åç©ºé—´çš„ç¿»è¯‘ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{t('title', { ns: 'index_page' })}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-20">3. æœåŠ¡ç«¯ç¿»è¯‘å±æ€§è·å–</h4>
<p>ä¸ºäº†ç¡®ä¿æœåŠ¡ç«¯æ¸²æŸ“æ—¶èƒ½æ­£ç¡®è·å–ç¿»è¯‘èµ„æºï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡µé¢ä¸­å®šä¹‰ <code>getStaticProps</code> æˆ– <code>getServerSideProps</code> å‡½æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/index.tsx</span>
<span class="hljs-comment">// å¯¼å…¥é™æ€å±æ€§ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GetStaticProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>
<span class="hljs-comment">// å¯¼å…¥è‡ªå®šä¹‰çš„æœåŠ¡ç«¯ç¿»è¯‘å±æ€§è·å–å‡½æ•°</span>
<span class="hljs-keyword">import</span> { serviceSideProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/i18n/utils'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">getStaticProps</span>: <span class="hljs-title class_">GetStaticProps</span> = <span class="hljs-keyword">async</span> (context) =&gt; ({
  <span class="hljs-attr">props</span>: {
    <span class="hljs-comment">// è·å–æœåŠ¡ç«¯ç¿»è¯‘å±æ€§ï¼ŒåŒ…å«commonå’Œindex_pageå‘½åç©ºé—´</span>
    ...(<span class="hljs-keyword">await</span> <span class="hljs-title function_">serviceSideProps</span>(context, [<span class="hljs-string">'common'</span>, <span class="hljs-string">'index_page'</span>])),
  },
})
</code></pre>
<p>æœåŠ¡ç«¯ç¿»è¯‘å·¥å…·å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/i18n/utils.ts</span>
<span class="hljs-comment">// å¯¼å…¥å›½é™…åŒ–å‘½åç©ºé—´ç±»å‹</span>
<span class="hljs-keyword">import</span> { <span class="hljs-keyword">type</span> I18nNsType } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/i18n/type'</span>;
<span class="hljs-comment">// å¯¼å…¥æœåŠ¡ç«¯ç¿»è¯‘å‡½æ•°</span>
<span class="hljs-keyword">import</span> { serverSideTranslations } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-i18next/serverSideTranslations'</span>;

<span class="hljs-comment">/**
 * è·å–æœåŠ¡ç«¯ç¿»è¯‘å±æ€§çš„è‡ªå®šä¹‰å‡½æ•°
 * <span class="hljs-doctag">@param</span> content ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ŒåŒ…å«è¯·æ±‚ã€å“åº”ç­‰ä¿¡æ¯
 * <span class="hljs-doctag">@param</span> ns éœ€è¦åŠ è½½çš„å›½é™…åŒ–å‘½åç©ºé—´æ•°ç»„
 * <span class="hljs-doctag">@returns</span> åŒ…å«ç¿»è¯‘èµ„æºçš„å±æ€§å¯¹è±¡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">serviceSideProps</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">content: <span class="hljs-built_in">any</span>, ns: I18nNsType = []</span>) =&gt; {
  <span class="hljs-comment">// ä» Cookie æˆ–ä¸Šä¸‹æ–‡è·å–å½“å‰è¯­è¨€</span>
  <span class="hljs-keyword">const</span> lang = content.<span class="hljs-property">req</span>?.<span class="hljs-property">cookies</span>?.<span class="hljs-property">NEXT_LOCALE</span> || content.<span class="hljs-property">locale</span>;
  <span class="hljs-comment">// å¦‚æœæœ‰ Cookie ä¸­çš„è¯­è¨€ï¼Œåˆ™ä¸éœ€è¦é¢å¤–è¯­è¨€ï¼Œå¦åˆ™ä½¿ç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ‰€æœ‰è¯­è¨€</span>
  <span class="hljs-keyword">const</span> extraLng = content.<span class="hljs-property">req</span>?.<span class="hljs-property">cookies</span>?.<span class="hljs-property">NEXT_LOCALE</span> ? <span class="hljs-literal">undefined</span> : content.<span class="hljs-property">locales</span>;

  <span class="hljs-comment">// ä» Cookie è·å–è®¾å¤‡å°ºå¯¸ä¿¡æ¯</span>
  <span class="hljs-keyword">const</span> deviceSize = content.<span class="hljs-property">req</span>?.<span class="hljs-property">cookies</span>?.<span class="hljs-property">NEXT_DEVICE_SIZE</span> || <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">return</span> {
    <span class="hljs-comment">// è·å–æœåŠ¡ç«¯ç¿»è¯‘èµ„æºï¼Œé»˜è®¤åŒ…å« common å‘½åç©ºé—´</span>
    ...(<span class="hljs-keyword">await</span> <span class="hljs-title function_">serverSideTranslations</span>(lang, [<span class="hljs-string">'common'</span>, ...ns], <span class="hljs-literal">undefined</span>, extraLng)),
    <span class="hljs-comment">// ä¼ é€’è®¾å¤‡å°ºå¯¸ä¿¡æ¯</span>
    deviceSize
  };
};
</code></pre>
<h4 data-id="heading-21">4. å˜é‡æ’å€¼çš„ä½¿ç”¨</h4>
<p>ç¿»è¯‘èµ„æºæ”¯æŒå˜é‡æ’å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¿»è¯‘å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å ä½ç¬¦ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// ç¿»è¯‘èµ„æºæ–‡ä»¶</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"change-locale"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åˆ‡æ¢åˆ° \"{{changeTo}}\" è¯­è¨€"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useTranslation</span>()

<span class="hljs-comment">// å¸¦å˜é‡çš„ç¿»è¯‘è°ƒç”¨</span>
&lt;p&gt;{<span class="hljs-title function_">t</span>(<span class="hljs-string">'common:change-locale'</span>, { <span class="hljs-attr">changeTo</span>: <span class="hljs-string">'English'</span> })}&lt;/p&gt;
</code></pre>
<h4 data-id="heading-22">5. å®Œæ•´ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/index.tsx</span>
<span class="hljs-comment">// å¯¼å…¥è¯­è¨€é€‰æ‹©å™¨ç»„ä»¶</span>
<span class="hljs-keyword">import</span> I18nLngSelector <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/I18nLngSelector'</span>
<span class="hljs-comment">// å¯¼å…¥è‡ªå®šä¹‰çš„æœåŠ¡ç«¯ç¿»è¯‘å±æ€§è·å–å‡½æ•°</span>
<span class="hljs-keyword">import</span> { serviceSideProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/i18n/utils'</span>
<span class="hljs-comment">// å¯¼å…¥é™æ€å±æ€§ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GetStaticProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>
<span class="hljs-comment">// å¯¼å…¥ç¿»è¯‘é’©å­</span>
<span class="hljs-keyword">import</span> { useTranslation } <span class="hljs-keyword">from</span> <span class="hljs-string">'next-i18next'</span>

<span class="hljs-comment">/**
 * é¦–é¡µç»„ä»¶
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è·å–ç¿»è¯‘å‡½æ•°</span>
  <span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useTranslation</span>()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {/* ç¿»è¯‘åçš„æ ‡é¢˜ï¼Œä½¿ç”¨index_pageå‘½åç©ºé—´ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{t('title', { ns: 'index_page' })}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      {/* è¯­è¨€é€‰æ‹©å™¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">I18nLngSelector</span> /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}

<span class="hljs-comment">/**
 * é™æ€å±æ€§ç”Ÿæˆå‡½æ•°
 * ç”¨äºåœ¨æ„å»ºæ—¶è·å–ç¿»è¯‘èµ„æº
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">getStaticProps</span>: <span class="hljs-title class_">GetStaticProps</span> = <span class="hljs-keyword">async</span> (context) =&gt; ({
  <span class="hljs-attr">props</span>: {
    <span class="hljs-comment">// è·å–æœåŠ¡ç«¯ç¿»è¯‘å±æ€§ï¼ŒåŒ…å«commonå’Œindex_pageå‘½åç©ºé—´</span>
    ...(<span class="hljs-keyword">await</span> <span class="hljs-title function_">serviceSideProps</span>(context, [<span class="hljs-string">'common'</span>, <span class="hljs-string">'index_page'</span>])),
  },
})
</code></pre>
<h3 data-id="heading-23">å®ç°åŸç†æ€»ç»“</h3>
<h4 data-id="heading-24">1. è¯­è¨€å­˜å‚¨æœºåˆ¶</h4>
<p>é‡‡ç”¨<strong>æµè§ˆå™¨ç¼“å­˜ + Cookie</strong>çš„åŒé‡å­˜å‚¨æœºåˆ¶ï¼š</p>
<ul>
<li><strong>localStorage</strong>ï¼šç”¨äºå®¢æˆ·ç«¯æŒä¹…åŒ–å­˜å‚¨ç”¨æˆ·çš„è¯­è¨€é€‰æ‹©</li>
<li><strong>Cookie</strong>ï¼šç”¨äºæœåŠ¡ç«¯æ¸²æŸ“æ—¶è·å–ç”¨æˆ·çš„è¯­è¨€åå¥½</li>
</ul>
<h4 data-id="heading-25">2. è¯­è¨€åˆ‡æ¢æµç¨‹</h4>
<ol>
<li>ç”¨æˆ·ç‚¹å‡»è¯­è¨€é€‰æ‹©å™¨</li>
<li>è°ƒç”¨ <code>onChangeLng</code> æ–¹æ³•</li>
<li>å°†é€‰æ‹©çš„è¯­è¨€ä¿å­˜åˆ° localStorage å’Œ Cookie ä¸­</li>
<li>è°ƒç”¨ i18n å®ä¾‹çš„ <code>changeLanguage</code> æ–¹æ³•åˆ‡æ¢è¯­è¨€</li>
<li>æ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”çš„è¯­è¨€èµ„æºåŒ…</li>
<li>å¦‚æœæ²¡æœ‰èµ„æºåŒ…ä¸”è¯­è¨€å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™åˆ·æ–°é¡µé¢ç¡®ä¿èµ„æºåŠ è½½</li>
</ol>
<h4 data-id="heading-26">3. é»˜è®¤è¯­è¨€è®¾ç½®</h4>
<ol>
<li>åº”ç”¨å¯åŠ¨æ—¶ï¼Œè°ƒç”¨ <code>setUserDefaultLng</code> æ–¹æ³•</li>
<li>æ£€æŸ¥æ˜¯å¦æœ‰å­˜å‚¨çš„è¯­è¨€è®¾ç½®</li>
<li>å¦‚æœæœ‰ï¼Œä½¿ç”¨å­˜å‚¨çš„è¯­è¨€</li>
<li>å¦‚æœæ²¡æœ‰ï¼Œæ ¹æ®æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨è®¾ç½®é»˜è®¤è¯­è¨€</li>
<li>ç¡®ä¿ç”¨æˆ·æ¯æ¬¡è®¿é—®æ—¶éƒ½èƒ½çœ‹åˆ°ä¸€è‡´çš„è¯­è¨€ç•Œé¢</li>
</ol>
<h3 data-id="heading-27">æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ</h3>
<ol>
<li>
<p><strong>Cookie ä¾èµ–</strong>ï¼šç¡®ä¿æœåŠ¡å™¨ç¯å¢ƒæ”¯æŒ Cookieï¼Œä»¥ä¾¿åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶è·å–ç”¨æˆ·çš„è¯­è¨€åå¥½</p>
</li>
<li>
<p><strong>æœåŠ¡ç«¯æ¸²æŸ“</strong>ï¼šåœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶ï¼Œéœ€è¦ä» Cookie ä¸­è·å–è¯­è¨€è®¾ç½®ï¼Œç¡®ä¿é¦–æ¬¡æ¸²æŸ“çš„è¯­è¨€æ­£ç¡®</p>
</li>
<li>
<p><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šæ³¨æ„è¯­è¨€åˆ‡æ¢åçš„ç¼“å­˜å¤„ç†ï¼Œé¿å…å‡ºç°ç¼“å­˜å¯¼è‡´çš„è¯­è¨€ä¸ä¸€è‡´é—®é¢˜</p>
</li>
<li>
<p><strong>å¤šå‘½åç©ºé—´ç®¡ç†</strong>ï¼šå¯¹äºå¤§å‹é¡¹ç›®ï¼Œå»ºè®®ä½¿ç”¨å¤šå‘½åç©ºé—´ç®¡ç†ç¿»è¯‘èµ„æºï¼Œæé«˜å¯ç»´æŠ¤æ€§</p>
</li>
<li>
<p><strong>ç±»å‹å®‰å…¨</strong>ï¼šå……åˆ†åˆ©ç”¨ TypeScript çš„ç±»å‹ç³»ç»Ÿï¼Œç¡®ä¿ç¿»è¯‘èµ„æºçš„æ­£ç¡®ä½¿ç”¨</p>
</li>
<li>
<p><strong>å¼€å‘å·¥å…·</strong>ï¼šä½¿ç”¨ i18n-ally ç­‰å·¥å…·æå‡å¼€å‘ä½“éªŒï¼Œå‡å°‘æ‰‹åŠ¨ç¼–å†™ç¿»è¯‘çš„é”™è¯¯</p>
</li>
</ol>
<h3 data-id="heading-28">æ€»ç»“å’Œå±•æœ›</h3>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†åœ¨ Next.js 16 é¡¹ç›®ä¸­å®ç°æ—  URL å˜æ›´çš„å›½é™…åŒ–æ–¹æ¡ˆï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>æ ¸å¿ƒå®ç°</strong>ï¼šä½¿ç”¨ next-i18next ä½œä¸ºåŸºç¡€ï¼Œè‡ªå®šä¹‰è¯­è¨€åˆ‡æ¢é’©å­å¤„ç†è¯­è¨€å­˜å‚¨å’Œåˆ‡æ¢é€»è¾‘</p>
</li>
<li>
<p><strong>åˆ›æ–°ç‚¹</strong>ï¼šé‡‡ç”¨æµè§ˆå™¨ç¼“å­˜ + Cookie æœºåˆ¶ç®¡ç†è¯­è¨€åˆ‡æ¢ï¼Œä¸éœ€è¦ URL å‰ç¼€ï¼Œä¿æŒ URL ç¨³å®š</p>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šå®ç°äº†è¯­è¨€è®¾ç½®çš„æŒä¹…åŒ–ï¼Œç¡®ä¿é¡µé¢åˆ·æ–°åä¸ä¼šä¸¢å¤±ç”¨æˆ·çš„è¯­è¨€é€‰æ‹©</p>
</li>
<li>
<p><strong>å¼€å‘ä½“éªŒ</strong>ï¼šä½¿ç”¨ TypeScript æä¾›ç±»å‹å®‰å…¨ï¼Œç»“åˆ i18n-ally æ’ä»¶æå‡å¼€å‘æ•ˆç‡</p>
</li>
</ol>
<p>è¿™ä¸ªå›½é™…åŒ–æ–¹æ¡ˆè§£å†³äº†ä¼ ç»Ÿ URL å‰ç¼€æ–¹å¼çš„é—®é¢˜ï¼Œæä¾›äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’Œ SEO æ•ˆæœã€‚æœªæ¥å¯ä»¥è€ƒè™‘ï¼š</p>
<ul>
<li>æ”¯æŒæ›´å¤šè¯­è¨€çš„åŠ¨æ€åŠ è½½</li>
<li>å®ç°ç¿»è¯‘èµ„æºçš„è‡ªåŠ¨åŒæ­¥å’Œç®¡ç†</li>
<li>æä¾›æ›´å¤šçš„è¯­è¨€åˆ‡æ¢åŠ¨ç”»å’Œäº¤äº’æ•ˆæœ</li>
</ul>
<p>å¸Œæœ›æœ¬æ–‡çš„å®ç°æ–¹æ¡ˆèƒ½å¤Ÿå¸®åŠ©åˆ°æ­£åœ¨å¯»æ‰¾ Next.js å›½é™…åŒ–è§£å†³æ–¹æ¡ˆçš„å¼€å‘è€…ä»¬ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶æå‡ºå®è´µçš„æ„è§å’Œå»ºè®®ï¼</p>
<h3 data-id="heading-29">é¡¹ç›®åœ°å€</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FZhaoDongnan%2Fnext-page-cache-i18n" target="_blank" title="https://github.com/ZhaoDongnan/next-page-cache-i18n" ref="nofollow noopener noreferrer">GitHub ä»“åº“</a></p>
<hr/>
<p>å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€è¯„è®ºå’Œåˆ†äº«ï¼ğŸ‘</p>
<p>#Next.js #å›½é™…åŒ– #i18n #å‰ç«¯å¼€å‘ #TypeScript</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™5ä¸ªPythonåº“ä¸€æ—¦æŒæ¡å°±ç¦»ä¸å¼€]]></title>    <link>https://juejin.cn/post/7579945518346289167</link>    <guid>https://juejin.cn/post/7579945518346289167</guid>    <pubDate>2025-12-05T09:38:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579945518346289167" data-draft-id="7579945518346272783" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™5ä¸ªPythonåº“ä¸€æ—¦æŒæ¡å°±ç¦»ä¸å¼€"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2025-12-05T09:38:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¶æ—¥å¤±çœ è€…"/> <meta itemprop="url" content="https://juejin.cn/user/3411111810444068"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™5ä¸ªPythonåº“ä¸€æ—¦æŒæ¡å°±ç¦»ä¸å¼€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3411111810444068/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¶æ—¥å¤±çœ è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:38:53.000Z" title="Fri Dec 05 2025 09:38:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€åPythonå¼€å‘è€…ï¼Œä½ æ˜¯å¦ç»å¸¸ä¸ºäº†å®ç°æŸä¸ªåŠŸèƒ½è€ŒèŠ±è´¹å¤§é‡æ—¶é—´ç¼–å†™ä»£ç ï¼Ÿå…¶å®ï¼ŒPythonç”Ÿæ€ç³»ç»Ÿä¸­æœ‰è®¸å¤šä¼˜ç§€çš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚ä»Šå¤©æˆ‘å°±æ¥åˆ†äº«5ä¸ªæˆ‘ä¸ªäººéå¸¸æ¨èçš„Pythonåº“ï¼Œä¸€æ—¦æŒæ¡å°±çœŸçš„ç¦»ä¸å¼€ï¼</p>
<h2 data-id="heading-0">1. Requests - HTTPè¯·æ±‚å¤„ç†ä¸“å®¶</h2>
<p>Requestsåº“å¯ä»¥è¯´æ˜¯Pythonä¸­æœ€å—æ¬¢è¿çš„HTTPåº“ï¼Œå®ƒè®©å‘é€HTTPè¯·æ±‚å˜å¾—å¼‚å¸¸ç®€å•ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

<span class="hljs-comment"># å‘é€GETè¯·æ±‚</span>
response = requests.get(<span class="hljs-string">'https://api.github.com/users/octocat'</span>)
<span class="hljs-built_in">print</span>(response.json())

<span class="hljs-comment"># å‘é€POSTè¯·æ±‚</span>
data = {<span class="hljs-string">'key'</span>: <span class="hljs-string">'value'</span>}
response = requests.post(<span class="hljs-string">'https://httpbin.org/post'</span>, data=data)
</code></pre>
<p>ç›¸æ¯”Pythonå†…ç½®çš„urllibï¼ŒRequestsæä¾›äº†æ›´ç®€æ´çš„APIå’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h2 data-id="heading-1">2. Pandas - æ•°æ®åˆ†æåˆ©å™¨</h2>
<p>Pandasæ˜¯æ•°æ®åˆ†æé¢†åŸŸä¸å¯æˆ–ç¼ºçš„åº“ï¼Œå®ƒæä¾›äº†é«˜æ€§èƒ½ã€æ˜“ç”¨çš„æ•°æ®ç»“æ„å’Œæ•°æ®åˆ†æå·¥å…·ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># è¯»å–CSVæ–‡ä»¶</span>
df = pd.read_csv(<span class="hljs-string">'data.csv'</span>)

<span class="hljs-comment"># æ•°æ®ç­›é€‰</span>
filtered_df = df[df[<span class="hljs-string">'age'</span>] &gt; <span class="hljs-number">25</span>]

<span class="hljs-comment"># æ•°æ®èšåˆ</span>
grouped = df.groupby(<span class="hljs-string">'department'</span>)[<span class="hljs-string">'salary'</span>].mean()
</code></pre>
<p>æ— è®ºæ˜¯æ•°æ®æ¸…æ´—ã€è½¬æ¢è¿˜æ˜¯åˆ†æï¼ŒPandaséƒ½èƒ½è½»æ¾åº”å¯¹ã€‚</p>
<h2 data-id="heading-2">3. NumPy - ç§‘å­¦è®¡ç®—åŸºç¡€åº“</h2>
<p>NumPyæ˜¯Pythonç§‘å­¦è®¡ç®—çš„åŸºç¡€åº“ï¼Œæä¾›äº†å¼ºå¤§çš„Nç»´æ•°ç»„å¯¹è±¡å’Œå„ç§æ´¾ç”Ÿå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># åˆ›å»ºæ•°ç»„</span>
arr = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])

<span class="hljs-comment"># æ•°ç»„è¿ç®—</span>
result = arr * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>

<span class="hljs-comment"># çŸ©é˜µè¿ç®—</span>
matrix_a = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])
matrix_b = np.array([[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])
product = np.dot(matrix_a, matrix_b)
</code></pre>
<p>NumPyä¸ºPythonåœ¨ç§‘å­¦è®¡ç®—é¢†åŸŸå¥ å®šäº†åšå®çš„åŸºç¡€ã€‚</p>
<h2 data-id="heading-3">4. Matplotlib - æ•°æ®å¯è§†åŒ–ç¥å™¨</h2>
<p>Matplotlibæ˜¯Pythonä¸­æœ€æµè¡Œçš„ç»˜å›¾åº“ï¼Œå¯ä»¥åˆ›å»ºå„ç§é™æ€ã€åŠ¨æ€å’Œäº¤äº’å¼çš„å›¾è¡¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># åˆ›å»ºç®€å•çš„æŠ˜çº¿å›¾</span>
x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>)
y = np.sin(x)

plt.plot(x, y)
plt.title(<span class="hljs-string">'Sine Wave'</span>)
plt.xlabel(<span class="hljs-string">'X axis'</span>)
plt.ylabel(<span class="hljs-string">'Y axis'</span>)
plt.show()
</code></pre>
<h2 data-id="heading-4">5. Flask - è½»é‡çº§Webæ¡†æ¶</h2>
<p>Flaskæ˜¯ä¸€ä¸ªè½»é‡çº§çš„Webåº”ç”¨æ¡†æ¶ï¼Œéå¸¸é€‚åˆå¿«é€Ÿå¼€å‘å°å‹Webåº”ç”¨å’ŒAPIã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, jsonify

app = Flask(__name__)

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/api/hello'</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">hello</span>():
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Hello, World!'</span>})

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    app.run(debug=<span class="hljs-literal">True</span>)
</code></pre>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>è¿™5ä¸ªPythonåº“æ¶µç›–äº†Webå¼€å‘ã€æ•°æ®åˆ†æã€ç§‘å­¦è®¡ç®—ç­‰å¤šä¸ªé¢†åŸŸï¼ŒæŒæ¡å®ƒä»¬å°†å¤§å¤§æå‡ä½ çš„å¼€å‘æ•ˆç‡ã€‚å»ºè®®ä»æœ€ç¬¦åˆä½ å½“å‰éœ€æ±‚çš„åº“å¼€å§‹å­¦ä¹ ï¼Œé€æ­¥æ‰©å±•ä½ çš„æŠ€èƒ½æ ‘ã€‚</p>
<hr/>
<blockquote>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ åœ¨å¼€å‘ä¸­å¸¸ç”¨çš„Pythonåº“ï¼Œè®©æˆ‘ä»¬ä¸€èµ·äº¤æµå­¦ä¹ ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaé¢å‘å¯¹è±¡åŸºç¡€ï¼šç±»å’Œå¯¹è±¡åˆæ¢]]></title>    <link>https://juejin.cn/post/7580184249907970090</link>    <guid>https://juejin.cn/post/7580184249907970090</guid>    <pubDate>2025-12-05T09:46:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249907970090" data-draft-id="7580184249907855402" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaé¢å‘å¯¹è±¡åŸºç¡€ï¼šç±»å’Œå¯¹è±¡åˆæ¢"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-05T09:46:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaé¢å‘å¯¹è±¡åŸºç¡€ï¼šç±»å’Œå¯¹è±¡åˆæ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:46:46.000Z" title="Fri Dec 05 2025 09:46:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">1.ç±»å’Œå¯¹è±¡ï¼šè“å›¾å’Œå®ç‰©</h2>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯ç±»ï¼Ÿ</h3>
<p><strong>ç±»</strong>æ˜¯å¯¹è±¡çš„è“å›¾æˆ–æ¨¡æ¿ã€‚å°±åƒæ±½è½¦è®¾è®¡å›¾ï¼Œå®šä¹‰äº†æ±½è½¦åº”è¯¥æœ‰ä»€ä¹ˆç‰¹å¾å’ŒåŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Ÿ</h3>
<p><strong>å¯¹è±¡</strong>æ˜¯æ ¹æ®ç±»åˆ›å»ºçš„å…·ä½“å®ä¾‹ã€‚å°±åƒæ ¹æ®è®¾è®¡å›¾åˆ¶é€ å‡ºæ¥çš„å…·ä½“æ±½è½¦ã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassAndObjectDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== ç±»å’Œå¯¹è±¡åˆä½“éªŒ ==="</span>);
        
        <span class="hljs-comment">// åˆ›å»ºStudentç±»çš„å¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">student1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();
        
        <span class="hljs-comment">// è®¾ç½®å¯¹è±¡çš„å±æ€§</span>
        student1.name = <span class="hljs-string">"å¼ ä¸‰"</span>;
        student1.age = <span class="hljs-number">18</span>;
        student1.grade = <span class="hljs-number">85</span>;
        
        <span class="hljs-comment">// è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•</span>
        student1.introduce();
        student1.study();
        
        System.out.println(<span class="hljs-string">"------------------"</span>);
        
        <span class="hljs-comment">// åˆ›å»ºç¬¬äºŒä¸ªå¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">student2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();
        student2.name = <span class="hljs-string">"æå››"</span>;
        student2.age = <span class="hljs-number">19</span>;
        student2.grade = <span class="hljs-number">92</span>;
        
        student2.introduce();
        student2.study();
    }
}

<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªStudentç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-comment">// å±æ€§ï¼ˆä¹Ÿå«å­—æ®µï¼‰</span>
    String name;    <span class="hljs-comment">// å§“å</span>
    <span class="hljs-type">int</span> age;        <span class="hljs-comment">// å¹´é¾„</span>
    <span class="hljs-type">int</span> grade;      <span class="hljs-comment">// æˆç»©</span>
    
    <span class="hljs-comment">// æ–¹æ³•ï¼ˆè¡Œä¸ºï¼‰</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">introduce</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"å¤§å®¶å¥½ï¼Œæˆ‘å«"</span> + name + <span class="hljs-string">"ï¼Œä»Šå¹´"</span> + age + <span class="hljs-string">"å²"</span>);
    }
    
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">study</span><span class="hljs-params">()</span> {
        System.out.println(name + <span class="hljs-string">"æ­£åœ¨åŠªåŠ›å­¦ä¹ ï¼Œæˆç»©æ˜¯ï¼š"</span> + grade + <span class="hljs-string">"åˆ†"</span>);
    }
}
</code></pre>
<h4 data-id="heading-3"><strong>è¿è¡Œç»“æœï¼š</strong></h4>
<pre><code class="hljs language-Java" lang="Java">=== ç±»å’Œå¯¹è±¡åˆä½“éªŒ ===
å¤§å®¶å¥½ï¼Œæˆ‘å«å¼ ä¸‰ï¼Œä»Šå¹´<span class="hljs-number">18</span>å²
å¼ ä¸‰æ­£åœ¨åŠªåŠ›å­¦ä¹ ï¼Œæˆç»©æ˜¯ï¼š<span class="hljs-number">85</span>åˆ†
------------------
å¤§å®¶å¥½ï¼Œæˆ‘å«æå››ï¼Œä»Šå¹´<span class="hljs-number">19</span>å²
æå››æ­£åœ¨åŠªåŠ›å­¦ä¹ ï¼Œæˆç»©æ˜¯ï¼š<span class="hljs-number">92</span>åˆ†
</code></pre>
<h2 data-id="heading-4">2. æ–¹æ³•ï¼šå¯¹è±¡çš„è¡Œä¸º</h2>
<h3 data-id="heading-5">2.1 ä»€ä¹ˆæ˜¯æ–¹æ³•ï¼Ÿ</h3>
<p><strong>æ–¹æ³•</strong>æ˜¯å¯¹è±¡èƒ½å¤Ÿæ‰§è¡Œçš„æ“ä½œã€‚å°±åƒäººçš„"åƒé¥­"ã€"ç¡è§‰"ã€"å­¦ä¹ "ç­‰è¡Œä¸ºã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== æ–¹æ³•ç¤ºä¾‹ ==="</span>);
        
        <span class="hljs-comment">// åˆ›å»ºCalculatorå¯¹è±¡</span>
        <span class="hljs-type">Calculator</span> <span class="hljs-variable">calc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Calculator</span>();
        
        <span class="hljs-comment">// è°ƒç”¨æ–¹æ³•</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> calc.add(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>);
        <span class="hljs-type">int</span> <span class="hljs-variable">difference</span> <span class="hljs-operator">=</span> calc.subtract(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>);
        <span class="hljs-type">int</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> calc.multiply(<span class="hljs-number">6</span>, <span class="hljs-number">7</span>);
        <span class="hljs-type">double</span> <span class="hljs-variable">quotient</span> <span class="hljs-operator">=</span> calc.divide(<span class="hljs-number">15</span>, <span class="hljs-number">4</span>);
        
        System.out.println(<span class="hljs-string">"5 + 3 = "</span> + sum);
        System.out.println(<span class="hljs-string">"10 - 4 = "</span> + difference);
        System.out.println(<span class="hljs-string">"6 Ã— 7 = "</span> + product);
        System.out.println(<span class="hljs-string">"15 Ã· 4 = "</span> + quotient);
        
        <span class="hljs-comment">// è°ƒç”¨æ— è¿”å›å€¼çš„æ–¹æ³•</span>
        calc.printWelcome();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculator</span> {
    <span class="hljs-comment">// åŠ æ³•æ–¹æ³•</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> {
        <span class="hljs-keyword">return</span> a + b;
    }
    
    <span class="hljs-comment">// å‡æ³•æ–¹æ³•</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">subtract</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> {
        <span class="hljs-keyword">return</span> a - b;
    }
    
    <span class="hljs-comment">// ä¹˜æ³•æ–¹æ³•</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> {
        <span class="hljs-keyword">return</span> a * b;
    }
    
    <span class="hljs-comment">// é™¤æ³•æ–¹æ³•</span>
    <span class="hljs-type">double</span> <span class="hljs-title function_">divide</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> {
        <span class="hljs-keyword">return</span> (<span class="hljs-type">double</span>) a / b;  <span class="hljs-comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¾—åˆ°å°æ•°ç»“æœ</span>
    }
    
    <span class="hljs-comment">// æ— è¿”å›å€¼çš„æ–¹æ³•</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">printWelcome</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æ¬¢è¿ä½¿ç”¨è®¡ç®—å™¨ï¼"</span>);
    }
}
</code></pre>
<h3 data-id="heading-6">2.2 æ–¹æ³•é‡è½½ï¼šåŒåä¸åŒå‚</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodOverloading</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== æ–¹æ³•é‡è½½ ==="</span>);
        
        <span class="hljs-type">MathOperations</span> <span class="hljs-variable">math</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MathOperations</span>();
        
        <span class="hljs-comment">// è°ƒç”¨ä¸åŒçš„addæ–¹æ³•</span>
        System.out.println(<span class="hljs-string">"ä¸¤ä¸ªæ•´æ•°ç›¸åŠ : "</span> + math.add(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>));
        System.out.println(<span class="hljs-string">"ä¸‰ä¸ªæ•´æ•°ç›¸åŠ : "</span> + math.add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>));
        System.out.println(<span class="hljs-string">"ä¸¤ä¸ªå°æ•°ç›¸åŠ : "</span> + math.add(<span class="hljs-number">2.5</span>, <span class="hljs-number">3.7</span>));
        System.out.println(<span class="hljs-string">"æ•´æ•°å’Œå°æ•°ç›¸åŠ : "</span> + math.add(<span class="hljs-number">5</span>, <span class="hljs-number">2.5</span>));
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MathOperations</span> {
    <span class="hljs-comment">// æ–¹æ³•1ï¼šä¸¤ä¸ªæ•´æ•°ç›¸åŠ </span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> {
        <span class="hljs-keyword">return</span> a + b;
    }
    
    <span class="hljs-comment">// æ–¹æ³•2ï¼šä¸‰ä¸ªæ•´æ•°ç›¸åŠ ï¼ˆé‡è½½ï¼‰</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b, <span class="hljs-type">int</span> c)</span> {
        <span class="hljs-keyword">return</span> a + b + c;
    }
    
    <span class="hljs-comment">// æ–¹æ³•3ï¼šä¸¤ä¸ªå°æ•°ç›¸åŠ ï¼ˆé‡è½½ï¼‰</span>
    <span class="hljs-type">double</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">double</span> a, <span class="hljs-type">double</span> b)</span> {
        <span class="hljs-keyword">return</span> a + b;
    }
    
    <span class="hljs-comment">// æ–¹æ³•4ï¼šæ•´æ•°å’Œå°æ•°ç›¸åŠ ï¼ˆé‡è½½ï¼‰</span>
    <span class="hljs-type">double</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">double</span> b)</span> {
        <span class="hljs-keyword">return</span> a + b;
    }
}
</code></pre>
<h2 data-id="heading-7">3.æ„é€ æ–¹æ³•ï¼šå¯¹è±¡çš„"å‡ºç”Ÿè¯æ˜"</h2>
<h3 data-id="heading-8">3.1 ä»€ä¹ˆæ˜¯æ„é€ æ–¹æ³•ï¼Ÿ</h3>
<p><strong>æ„é€ æ–¹æ³•</strong>æ˜¯åœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨çš„ç‰¹æ®Šæ–¹æ³•ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConstructorDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== æ„é€ æ–¹æ³• ==="</span>);
        
        <span class="hljs-comment">// ä½¿ç”¨æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡</span>
        <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">20</span>);
        <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"æå››"</span>, <span class="hljs-number">22</span>);
        <span class="hljs-type">Person</span> <span class="hljs-variable">person3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();  <span class="hljs-comment">// ä½¿ç”¨æ— å‚æ„é€ æ–¹æ³•</span>
        
        person1.introduce();
        person2.introduce();
        person3.introduce();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    String name;
    <span class="hljs-type">int</span> age;
    
    <span class="hljs-comment">// æ— å‚æ„é€ æ–¹æ³•ï¼ˆé»˜è®¤æ„é€ æ–¹æ³•ï¼‰</span>
    Person() {
        <span class="hljs-built_in">this</span>.name = <span class="hljs-string">"æœªçŸ¥"</span>;
        <span class="hljs-built_in">this</span>.age = <span class="hljs-number">0</span>;
        System.out.println(<span class="hljs-string">"åˆ›å»ºäº†ä¸€ä¸ªPersonå¯¹è±¡ï¼ˆä½¿ç”¨æ— å‚æ„é€ ï¼‰"</span>);
    }
    
    <span class="hljs-comment">// æœ‰å‚æ„é€ æ–¹æ³•</span>
    Person(String name, <span class="hljs-type">int</span> age) {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
        System.out.println(<span class="hljs-string">"åˆ›å»ºäº†ä¸€ä¸ªPersonå¯¹è±¡ï¼ˆä½¿ç”¨æœ‰å‚æ„é€ ï¼‰"</span>);
    }
    
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">introduce</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"å§“åï¼š"</span> + name + <span class="hljs-string">"ï¼Œå¹´é¾„ï¼š"</span> + age);
    }
}
</code></pre>
<h2 data-id="heading-9">4.thiså…³é”®å­—ï¼šæŒ‡ä»£å½“å‰å¯¹è±¡</h2>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThisKeyword</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== thiså…³é”®å­— ==="</span>);
        
        <span class="hljs-type">Book</span> <span class="hljs-variable">book1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">"Javaç¼–ç¨‹"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">59.9</span>);
        <span class="hljs-type">Book</span> <span class="hljs-variable">book2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">"Pythonå…¥é—¨"</span>, <span class="hljs-string">"æå››"</span>, <span class="hljs-number">49.9</span>);
        
        book1.displayInfo();
        book2.displayInfo();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> {
    String title;
    String author;
    <span class="hljs-type">double</span> price;
    
    <span class="hljs-comment">// æ„é€ æ–¹æ³•ä¸­ä½¿ç”¨this</span>
    Book(String title, String author, <span class="hljs-type">double</span> price) {
        <span class="hljs-built_in">this</span>.title = title;    <span class="hljs-comment">// this.titleæŒ‡ç±»çš„å±æ€§ï¼ŒtitleæŒ‡å‚æ•°</span>
        <span class="hljs-built_in">this</span>.author = author;
        <span class="hljs-built_in">this</span>.price = price;
    }
    
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">displayInfo</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ä¹¦åï¼š"</span> + <span class="hljs-built_in">this</span>.title);
        System.out.println(<span class="hljs-string">"ä½œè€…ï¼š"</span> + <span class="hljs-built_in">this</span>.author);
        System.out.println(<span class="hljs-string">"ä»·æ ¼ï¼š"</span> + <span class="hljs-built_in">this</span>.price + <span class="hljs-string">"å…ƒ"</span>);
        System.out.println(<span class="hljs-string">"è¿™æœ¬ä¹¦çš„ä½œè€…æ˜¯"</span> + getAuthor());  <span class="hljs-comment">// è°ƒç”¨æœ¬ç±»çš„æ–¹æ³•</span>
    }
    
    String <span class="hljs-title function_">getAuthor</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.author;  <span class="hljs-comment">// ä½¿ç”¨thisæŒ‡ä»£å½“å‰å¯¹è±¡</span>
    }
}
</code></pre>
<h2 data-id="heading-10">5.ç»¼åˆç¤ºä¾‹ï¼šç®€å•çš„é“¶è¡Œè´¦æˆ·ç³»ç»Ÿ</h2>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BankAccountSystem</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== é“¶è¡Œè´¦æˆ·ç³»ç»Ÿ ==="</span>);
        
        <span class="hljs-comment">// åˆ›å»ºè´¦æˆ·</span>
        <span class="hljs-type">BankAccount</span> <span class="hljs-variable">account1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BankAccount</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"1001"</span>);
        <span class="hljs-type">BankAccount</span> <span class="hljs-variable">account2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BankAccount</span>(<span class="hljs-string">"æå››"</span>, <span class="hljs-string">"1002"</span>, <span class="hljs-number">5000</span>);
        
        <span class="hljs-comment">// æ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯</span>
        account1.displayInfo();
        account2.displayInfo();
        
        System.out.println(<span class="hljs-string">"------------------"</span>);
        
        <span class="hljs-comment">// å­˜æ¬¾</span>
        account1.deposit(<span class="hljs-number">1000</span>);
        account2.deposit(<span class="hljs-number">2000</span>);
        
        System.out.println(<span class="hljs-string">"------------------"</span>);
        
        <span class="hljs-comment">// å–æ¬¾</span>
        account1.withdraw(<span class="hljs-number">500</span>);
        account2.withdraw(<span class="hljs-number">8000</span>);  <span class="hljs-comment">// å°è¯•å–æ¬¾è¶…è¿‡ä½™é¢</span>
        
        System.out.println(<span class="hljs-string">"------------------"</span>);
        
        <span class="hljs-comment">// è½¬è´¦</span>
        account2.transfer(account1, <span class="hljs-number">1000</span>);
        
        System.out.println(<span class="hljs-string">"------------------"</span>);
        
        <span class="hljs-comment">// æœ€ç»ˆä½™é¢</span>
        System.out.println(<span class="hljs-string">"æœ€ç»ˆä½™é¢ï¼š"</span>);
        account1.displayInfo();
        account2.displayInfo();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BankAccount</span> {
    String accountHolder;  <span class="hljs-comment">// è´¦æˆ·æŒæœ‰äºº</span>
    String accountNumber;  <span class="hljs-comment">// è´¦æˆ·å·ç </span>
    <span class="hljs-type">double</span> balance;        <span class="hljs-comment">// ä½™é¢</span>
    
    <span class="hljs-comment">// æ„é€ æ–¹æ³•1ï¼šåªä¼ å§“åå’Œè´¦å·</span>
    BankAccount(String accountHolder, String accountNumber) {
        <span class="hljs-built_in">this</span>.accountHolder = accountHolder;
        <span class="hljs-built_in">this</span>.accountNumber = accountNumber;
        <span class="hljs-built_in">this</span>.balance = <span class="hljs-number">0</span>;  <span class="hljs-comment">// é»˜è®¤ä½™é¢ä¸º0</span>
    }
    
    <span class="hljs-comment">// æ„é€ æ–¹æ³•2ï¼šä¼ æ‰€æœ‰ä¿¡æ¯</span>
    BankAccount(String accountHolder, String accountNumber, <span class="hljs-type">double</span> initialBalance) {
        <span class="hljs-built_in">this</span>.accountHolder = accountHolder;
        <span class="hljs-built_in">this</span>.accountNumber = accountNumber;
        <span class="hljs-built_in">this</span>.balance = initialBalance;
    }
    
    <span class="hljs-comment">// å­˜æ¬¾</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">deposit</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
        <span class="hljs-keyword">if</span> (amount &gt; <span class="hljs-number">0</span>) {
            balance += amount;
            System.out.println(accountHolder + <span class="hljs-string">" å­˜æ¬¾ "</span> + amount + <span class="hljs-string">" å…ƒæˆåŠŸ"</span>);
            System.out.println(<span class="hljs-string">"å½“å‰ä½™é¢ï¼š"</span> + balance + <span class="hljs-string">" å…ƒ"</span>);
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"å­˜æ¬¾é‡‘é¢å¿…é¡»å¤§äº0"</span>);
        }
    }
    
    <span class="hljs-comment">// å–æ¬¾</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
        <span class="hljs-keyword">if</span> (amount &lt;= <span class="hljs-number">0</span>) {
            System.out.println(<span class="hljs-string">"å–æ¬¾é‡‘é¢å¿…é¡»å¤§äº0"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (amount &gt; balance) {
            System.out.println(accountHolder + <span class="hljs-string">" å–æ¬¾å¤±è´¥ï¼Œä½™é¢ä¸è¶³"</span>);
            System.out.println(<span class="hljs-string">"å½“å‰ä½™é¢ï¼š"</span> + balance + <span class="hljs-string">" å…ƒï¼Œå–æ¬¾é‡‘é¢ï¼š"</span> + amount + <span class="hljs-string">" å…ƒ"</span>);
        } <span class="hljs-keyword">else</span> {
            balance -= amount;
            System.out.println(accountHolder + <span class="hljs-string">" å–æ¬¾ "</span> + amount + <span class="hljs-string">" å…ƒæˆåŠŸ"</span>);
            System.out.println(<span class="hljs-string">"å½“å‰ä½™é¢ï¼š"</span> + balance + <span class="hljs-string">" å…ƒ"</span>);
        }
    }
    
    <span class="hljs-comment">// è½¬è´¦</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span><span class="hljs-params">(BankAccount targetAccount, <span class="hljs-type">double</span> amount)</span> {
        <span class="hljs-keyword">if</span> (amount &lt;= <span class="hljs-number">0</span>) {
            System.out.println(<span class="hljs-string">"è½¬è´¦é‡‘é¢å¿…é¡»å¤§äº0"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (amount &gt; balance) {
            System.out.println(accountHolder + <span class="hljs-string">" è½¬è´¦å¤±è´¥ï¼Œä½™é¢ä¸è¶³"</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">this</span>.withdraw(amount);  <span class="hljs-comment">// ä»å½“å‰è´¦æˆ·æ‰£æ¬¾</span>
            targetAccount.deposit(amount);  <span class="hljs-comment">// å‘ç›®æ ‡è´¦æˆ·å­˜æ¬¾</span>
            System.out.println(accountHolder + <span class="hljs-string">" å‘ "</span> + targetAccount.accountHolder + 
                             <span class="hljs-string">" è½¬è´¦ "</span> + amount + <span class="hljs-string">" å…ƒæˆåŠŸ"</span>);
        }
    }
    
    <span class="hljs-comment">// æ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">displayInfo</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"è´¦æˆ·ä¿¡æ¯ï¼š"</span>);
        System.out.println(<span class="hljs-string">"  æŒæœ‰äººï¼š"</span> + accountHolder);
        System.out.println(<span class="hljs-string">"  è´¦å·ï¼š"</span> + accountNumber);
        System.out.println(<span class="hljs-string">"  ä½™é¢ï¼š"</span> + balance + <span class="hljs-string">" å…ƒ"</span>);
    }
}
</code></pre>
<h3 data-id="heading-11">è¿è¡Œç»“æœï¼š</h3>
<pre><code class="hljs language-Java" lang="Java">=== é“¶è¡Œè´¦æˆ·ç³»ç»Ÿ ===
è´¦æˆ·ä¿¡æ¯ï¼š
  æŒæœ‰äººï¼šå¼ ä¸‰
  è´¦å·ï¼š<span class="hljs-number">1001</span>
  ä½™é¢ï¼š<span class="hljs-number">0.0</span> å…ƒ
è´¦æˆ·ä¿¡æ¯ï¼š
  æŒæœ‰äººï¼šæå››
  è´¦å·ï¼š<span class="hljs-number">1002</span>
  ä½™é¢ï¼š<span class="hljs-number">5000.0</span> å…ƒ
------------------
å¼ ä¸‰ å­˜æ¬¾ <span class="hljs-number">1000.0</span> å…ƒæˆåŠŸ
å½“å‰ä½™é¢ï¼š<span class="hljs-number">1000.0</span> å…ƒ
æå›› å­˜æ¬¾ <span class="hljs-number">2000.0</span> å…ƒæˆåŠŸ
å½“å‰ä½™é¢ï¼š<span class="hljs-number">7000.0</span> å…ƒ
------------------
å¼ ä¸‰ å–æ¬¾ <span class="hljs-number">500.0</span> å…ƒæˆåŠŸ
å½“å‰ä½™é¢ï¼š<span class="hljs-number">500.0</span> å…ƒ
æå›› å–æ¬¾å¤±è´¥ï¼Œä½™é¢ä¸è¶³
å½“å‰ä½™é¢ï¼š<span class="hljs-number">7000.0</span> å…ƒï¼Œå–æ¬¾é‡‘é¢ï¼š<span class="hljs-number">8000.0</span> å…ƒ
------------------
æå›› å–æ¬¾ <span class="hljs-number">1000.0</span> å…ƒæˆåŠŸ
å½“å‰ä½™é¢ï¼š<span class="hljs-number">6000.0</span> å…ƒ
å¼ ä¸‰ å­˜æ¬¾ <span class="hljs-number">1000.0</span> å…ƒæˆåŠŸ
å½“å‰ä½™é¢ï¼š<span class="hljs-number">1500.0</span> å…ƒ
æå›› å‘ å¼ ä¸‰ è½¬è´¦ <span class="hljs-number">1000.0</span> å…ƒæˆåŠŸ
------------------
æœ€ç»ˆä½™é¢ï¼š
è´¦æˆ·ä¿¡æ¯ï¼š
  æŒæœ‰äººï¼šå¼ ä¸‰
  è´¦å·ï¼š<span class="hljs-number">1001</span>
  ä½™é¢ï¼š<span class="hljs-number">1500.0</span> å…ƒ
è´¦æˆ·ä¿¡æ¯ï¼š
  æŒæœ‰äººï¼šæå››
  è´¦å·ï¼š<span class="hljs-number">1002</span>
  ä½™é¢ï¼š<span class="hljs-number">6000.0</span> å…ƒ
</code></pre>
<h2 data-id="heading-12">6.å¸¸è§é”™è¯¯å’Œæ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-13">é”™è¯¯ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CommonMistakes</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// é”™è¯¯1ï¼šå¿˜è®°ä½¿ç”¨newåˆ›å»ºå¯¹è±¡</span>
        <span class="hljs-comment">// Student s;  // è¿™åªæ˜¯å£°æ˜ï¼Œæ²¡æœ‰åˆ›å»ºå¯¹è±¡</span>
        <span class="hljs-comment">// s.name = "å¼ ä¸‰";  // âŒ è¿è¡Œæ—¶é”™è¯¯ï¼šç©ºæŒ‡é’ˆå¼‚å¸¸</span>
        
        <span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼š</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();  <span class="hljs-comment">// âœ… ä½¿ç”¨newåˆ›å»ºå¯¹è±¡</span>
        s.name = <span class="hljs-string">"å¼ ä¸‰"</span>;
        
        <span class="hljs-comment">// é”™è¯¯2ï¼šæ··æ·†ç±»å’Œå¯¹è±¡</span>
        <span class="hljs-comment">// Student.name = "å¼ ä¸‰";  // âŒ é”™è¯¯ï¼šåº”è¯¥ç”¨å¯¹è±¡è®¿é—®å±æ€§</span>
        
        <span class="hljs-comment">// é”™è¯¯3ï¼šå¿˜è®°åˆå§‹åŒ–å¯¹è±¡å±æ€§</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
        <span class="hljs-comment">// å¦‚æœæ²¡æœ‰åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–ï¼Œå±æ€§å¯èƒ½æœ‰é»˜è®¤å€¼</span>
        System.out.println(p.name);  <span class="hljs-comment">// è¾“å‡ºï¼šnull</span>
        System.out.println(p.price); <span class="hljs-comment">// è¾“å‡ºï¼š0.0</span>
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    String name;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    String name;
    <span class="hljs-type">double</span> price;
}
</code></pre>
<h3 data-id="heading-14">æ­£ç¡®åšæ³•ï¼š</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BestPractices</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºå¯¹è±¡åç«‹å³åˆå§‹åŒ–</span>
        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"å·¥ç¨‹å¸ˆ"</span>, <span class="hljs-number">8000</span>);
        
        <span class="hljs-comment">// 2. ä½¿ç”¨æ–¹æ³•è€Œä¸æ˜¯ç›´æ¥æ“ä½œå±æ€§</span>
        emp.displayInfo();
        emp.giveRaise(<span class="hljs-number">1000</span>);  <span class="hljs-comment">// é€šè¿‡æ–¹æ³•ä¿®æ”¹å±æ€§</span>
        
        <span class="hljs-comment">// 3. ä¸€ä¸ªç±»ä¸€ä¸ªæ–‡ä»¶ï¼ˆå®é™…å¼€å‘ä¸­ï¼‰</span>
        <span class="hljs-comment">// é€šå¸¸æ¯ä¸ªç±»æ”¾åœ¨å•ç‹¬çš„.javaæ–‡ä»¶ä¸­</span>
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> String position;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> salary;
    
    <span class="hljs-comment">// æ„é€ æ–¹æ³•åˆå§‹åŒ–æ‰€æœ‰å±æ€§</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(String name, String position, <span class="hljs-type">double</span> salary)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.position = position;
        <span class="hljs-built_in">this</span>.salary = salary;
    }
    
    <span class="hljs-comment">// é€šè¿‡æ–¹æ³•è®¿é—®å’Œä¿®æ”¹å±æ€§</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">displayInfo</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"å§“åï¼š"</span> + name);
        System.out.println(<span class="hljs-string">"èŒä½ï¼š"</span> + position);
        System.out.println(<span class="hljs-string">"è–ªæ°´ï¼š"</span> + salary);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">giveRaise</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
        <span class="hljs-keyword">if</span> (amount &gt; <span class="hljs-number">0</span>) {
            salary += amount;
            System.out.println(name + <span class="hljs-string">" åŠ è–ª "</span> + amount + <span class="hljs-string">" å…ƒ"</span>);
        }
    }
}
</code></pre>
<h2 data-id="heading-15">å¿«é€Ÿè®°å¿†å£è¯€</h2>
<ol>
<li><strong>ç±»æ˜¯è“å›¾ï¼Œå¯¹è±¡æ˜¯å®ç‰©</strong>
<ul>
<li>ç±» = æ±½è½¦è®¾è®¡å›¾</li>
<li>å¯¹è±¡ = å…·ä½“çš„æ±½è½¦</li>
</ul>
</li>
<li><strong>å±æ€§æ˜¯ç‰¹å¾ï¼Œæ–¹æ³•æ˜¯è¡Œä¸º</strong>
<ul>
<li>å±æ€§ï¼šå§“åã€å¹´é¾„ã€é¢œè‰²</li>
<li>æ–¹æ³•ï¼šåƒé¥­ã€ç¡è§‰ã€å­¦ä¹ </li>
</ul>
</li>
<li><strong>newå…³é”®å­—åˆ›å¯¹è±¡</strong>
<ul>
<li><code>Student s = new Student();</code></li>
<li>ä¸€å®šè¦ç”¨<code>new</code>ï¼</li>
</ul>
</li>
<li><strong>æ„é€ æ–¹æ³•åˆå§‹åŒ–</strong>
<ul>
<li>åœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨</li>
<li>ç”¨äºè®¾ç½®åˆå§‹å€¼</li>
</ul>
</li>
</ol>
<h2 data-id="heading-16">å…«ã€æ€»ç»“ï¼šæœ€é‡è¦çš„ä¸‰ç‚¹</h2>
<ol>
<li><strong>ç±»å’Œå¯¹è±¡çš„å…³ç³»</strong>ï¼š
<ul>
<li>ç±»æ˜¯ç”¨æ¥åˆ›å»ºå¯¹è±¡çš„æ¨¡æ¿</li>
<li>å¯¹è±¡æ˜¯ç±»çš„å…·ä½“å®ä¾‹</li>
</ul>
</li>
<li><strong>å±æ€§å’Œæ–¹æ³•</strong>ï¼š
<ul>
<li>å±æ€§æè¿°å¯¹è±¡çš„çŠ¶æ€ï¼ˆæ˜¯ä»€ä¹ˆï¼‰</li>
<li>æ–¹æ³•æè¿°å¯¹è±¡çš„è¡Œä¸ºï¼ˆèƒ½åšä»€ä¹ˆï¼‰</li>
</ul>
</li>
<li><strong>æ„é€ æ–¹æ³•çš„ä½œç”¨</strong>ï¼š
<ul>
<li>åœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–å±æ€§</li>
<li>ç¡®ä¿å¯¹è±¡åˆ›å»ºåå°±æœ‰åˆç†çš„çŠ¶æ€</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦è€Œæ—¶ä¹ ä¹‹ï¼šC++ä¸­çš„æ ‡å‡†æ¨¡æ¿4]]></title>    <link>https://juejin.cn/post/7579932196464853046</link>    <guid>https://juejin.cn/post/7579932196464853046</guid>    <pubDate>2025-12-05T09:49:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579932196464853046" data-draft-id="7579999793320230918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦è€Œæ—¶ä¹ ä¹‹ï¼šC++ä¸­çš„æ ‡å‡†æ¨¡æ¿4"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2025-12-05T09:49:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç…¤çƒç‹å­"/> <meta itemprop="url" content="https://juejin.cn/user/4088439235949739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦è€Œæ—¶ä¹ ä¹‹ï¼šC++ä¸­çš„æ ‡å‡†æ¨¡æ¿4
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4088439235949739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç…¤çƒç‹å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:49:29.000Z" title="Fri Dec 05 2025 09:49:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">C++ STL ä¸­çš„è¿­ä»£å™¨</h2>
<p>è¿­ä»£å™¨æ˜¯ä¸€ç§è¡Œä¸ºç±»ä¼¼æŒ‡é’ˆçš„å¯¹è±¡ï¼Œç”¨äºéå†å’Œè®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ã€‚</p>
<ul>
<li>å¯ä»¥åœ¨ä¸æš´éœ²å®¹å™¨å†…éƒ¨ç»“æ„çš„æƒ…å†µä¸‹è¿›è¡Œéå†ã€‚</li>
<li>æ”¯æŒç‹¬ç«‹äºå®¹å™¨çš„ç®—æ³•ï¼Œå¦‚ sort()ã€count()ã€find() ç­‰ã€‚</li>
<li>ç±»å‹åŒ…æ‹¬ï¼šè¾“å…¥è¿­ä»£å™¨ã€è¾“å‡ºè¿­ä»£å™¨ã€å‰å‘è¿­ä»£å™¨ã€åŒå‘è¿­ä»£å™¨å’Œéšæœºè®¿é—®è¿­ä»£å™¨ã€‚</li>
<li>å£°æ˜æ–¹å¼ï¼š<code>container_type::iterator it;</code> æˆ– <code>auto it = container.begin();</code>ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; v = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>};

    <span class="hljs-comment">// ä½¿ç”¨è¿­ä»£å™¨éå† vector</span>
    <span class="hljs-keyword">for</span> (vector&lt;<span class="hljs-type">int</span>&gt;::iterator it = v.<span class="hljs-built_in">begin</span>(); it != v.<span class="hljs-built_in">end</span>(); ++it){
        cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">" "</span>; 
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs">10 20 30 40
</code></pre>
<h3 data-id="heading-1">å®¹å™¨è¿­ä»£å™¨å‡½æ•°</h3>
<p>STL å®¹å™¨æä¾›ä¸€ç³»åˆ—è¿”å›è¿­ä»£å™¨çš„æˆå‘˜å‡½æ•°ã€‚  è¿™äº›è¿­ä»£å™¨é€šå¸¸æŒ‡å‘å®¹å™¨çš„é¦–å°¾å…ƒç´ ã€‚ ç»å¤§å¤šæ•° STL å®¹å™¨éƒ½æ”¯æŒè¿™äº›å‡½æ•°ï¼›stackã€queue ç­‰è®¿é—®å—é™çš„å®¹å™¨é™¤å¤–ã€‚ä¸ºä¿æŒç»Ÿä¸€ï¼Œå„å®¹å™¨ä¸­çš„å‡½æ•°åç§°å®Œå…¨ä¸€è‡´ã€‚</p>
<p>å®¹å™¨è¿”å›è¿­ä»£å™¨çš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>









































<table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>begin()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨é¦–å…ƒç´ çš„æ­£å‘è¿­ä»£å™¨ã€‚</td></tr><tr><td><code>end()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨å°¾å…ƒç´ <strong>ä¹‹å</strong>ä½ç½®çš„æ­£å‘è¿­ä»£å™¨ã€‚</td></tr><tr><td><code>cbegin()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨é¦–å…ƒç´ çš„<strong>å¸¸é‡</strong>æ­£å‘è¿­ä»£å™¨ï¼Œä¸å¯ä¿®æ”¹å…ƒç´ å€¼ã€‚</td></tr><tr><td><code>cend()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨å°¾å…ƒç´ <strong>ä¹‹å</strong>ä½ç½®çš„<strong>å¸¸é‡</strong>æ­£å‘è¿­ä»£å™¨ã€‚</td></tr><tr><td><code>rbegin()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨é¦–å…ƒç´ çš„<strong>åå‘</strong>è¿­ä»£å™¨ï¼ˆå®é™…æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ã€‚</td></tr><tr><td><code>rend()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨å°¾å…ƒç´ <strong>ä¹‹å‰</strong>ä½ç½®çš„<strong>åå‘</strong>è¿­ä»£å™¨ã€‚</td></tr><tr><td><code>crbegin()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨é¦–å…ƒç´ çš„<strong>å¸¸é‡åå‘</strong>è¿­ä»£å™¨ã€‚</td></tr><tr><td><code>crend()</code></td><td>è¿”å›æŒ‡å‘å®¹å™¨å°¾å…ƒç´ <strong>ä¹‹å‰</strong>ä½ç½®çš„<strong>å¸¸é‡åå‘</strong>è¿­ä»£å™¨ã€‚</td></tr></tbody></table>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; vec = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>};

    <span class="hljs-comment">// æ­£å‘è¿­ä»£</span>
    cout &lt;&lt; <span class="hljs-string">"Forward iteration: "</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = vec.<span class="hljs-built_in">begin</span>(); it != vec.<span class="hljs-built_in">end</span>(); ++it){
        cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">" "</span>;
    }
    cout &lt;&lt; endl;

    <span class="hljs-comment">// åªè¯»æ­£å‘è¿­ä»£</span>
    cout &lt;&lt; <span class="hljs-string">"Forward (read-only) iteration: "</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = vec.<span class="hljs-built_in">cbegin</span>(); it != vec.<span class="hljs-built_in">cend</span>(); ++it){
        cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">" "</span>;
    }
    cout &lt;&lt; endl;

    <span class="hljs-comment">// åå‘è¿­ä»£</span>
    cout &lt;&lt; <span class="hljs-string">"Reverse iteration: "</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = vec.<span class="hljs-built_in">rbegin</span>(); it != vec.<span class="hljs-built_in">rend</span>(); ++it){
        cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">" "</span>;
    }
    cout &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Forward iteration:</span> <span class="hljs-number">10</span> <span class="hljs-number">20</span> <span class="hljs-number">30</span> <span class="hljs-number">40</span> <span class="hljs-number">50</span> 
<span class="hljs-string">Forward</span> <span class="hljs-string">(read-only)</span> <span class="hljs-attr">iteration:</span> <span class="hljs-number">10</span> <span class="hljs-number">20</span> <span class="hljs-number">30</span> <span class="hljs-number">40</span> <span class="hljs-number">50</span> 
<span class="hljs-attr">Reverse iteration:</span> <span class="hljs-number">50</span> <span class="hljs-number">40</span> <span class="hljs-number">30</span> <span class="hljs-number">20</span> <span class="hljs-number">10</span>
</code></pre>
<h3 data-id="heading-2">è¿­ä»£å™¨æ“ä½œ</h3>
<p>ä¸æŒ‡é’ˆç®—æœ¯ç±»ä¼¼ï¼ŒC++ è¿­ä»£å™¨ä¹Ÿæ”¯æŒä¸€äº›æ“ä½œï¼Œè¿™äº›æ“ä½œå¢å¼ºäº†è¿­ä»£å™¨çš„é‡è¦æ€§ã€‚C++ ä¸­å…±æœ‰ 5 ç§æœ‰æ•ˆçš„è¿­ä»£å™¨æ“ä½œï¼š</p>
<h4 data-id="heading-3">1. è§£å¼•ç”¨ï¼ˆDereferencingï¼‰</h4>
<p>è§£å¼•ç”¨æ“ä½œå…è®¸ç”¨æˆ·è®¿é—®æˆ–ä¿®æ”¹è¿­ä»£å™¨æ‰€æŒ‡å‘å…ƒç´ çš„å€¼ã€‚ä¸æŒ‡é’ˆä¸€æ ·ï¼Œä½¿ç”¨ <code>*</code> é—´æ¥è¿ç®—ç¬¦è¿›è¡Œè§£å¼•ç”¨ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; v = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>};

    <span class="hljs-comment">// è¿­ä»£å™¨æŒ‡å‘é¦–å…ƒç´ </span>
    <span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();

    <span class="hljs-comment">// è§£å¼•ç”¨è®¿é—®å€¼</span>
    cout &lt;&lt; <span class="hljs-string">"First element: "</span> &lt;&lt; *it &lt;&lt; endl;

    <span class="hljs-comment">// è§£å¼•ç”¨ä¿®æ”¹å€¼</span>
    *it = <span class="hljs-number">100</span>;

    <span class="hljs-comment">// è¾“å‡ºä¿®æ”¹åçš„é¦–å…ƒç´ </span>
    cout &lt;&lt; <span class="hljs-string">"Updated first element: "</span> &lt;&lt; *it &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">First</span> element: <span class="hljs-number">10</span>
Updated <span class="hljs-keyword">first</span> element: <span class="hljs-number">100</span>
</code></pre>
<h4 data-id="heading-4">2.è¿­ä»£å™¨çš„è‡ªå¢/è‡ªå‡æ“ä½œ</h4>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>++</code> æˆ– <code>--</code> è¿ç®—ç¬¦åˆ†åˆ«å°†è¿­ä»£å™¨å‘å‰æˆ–å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p>
<ul>
<li>è‡ªå¢ï¼ˆ<code>++</code>ï¼‰æ“ä½œå°†è¿­ä»£å™¨æŒ‡å‘å®¹å™¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼›</li>
<li>è‡ªå‡ï¼ˆ<code>--</code>ï¼‰æ“ä½œå°†è¿­ä»£å™¨æŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ ã€‚</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; v = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>};

    <span class="hljs-comment">// è¿­ä»£å™¨æŒ‡å‘èµ·å§‹ä½ç½®</span>
    <span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();

    <span class="hljs-comment">// è‡ªå¢ï¼Œç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ </span>
    ++it;
    cout &lt;&lt; <span class="hljs-string">"After increment: "</span> &lt;&lt; *it &lt;&lt; endl;

    <span class="hljs-comment">// è‡ªå‡ï¼Œå›åˆ°å‰ä¸€ä¸ªå…ƒç´ </span>
    --it;
    cout &lt;&lt; <span class="hljs-string">"After decrement: "</span> &lt;&lt; *it &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">After increment:</span> <span class="hljs-number">20</span>
<span class="hljs-attr">After decrement:</span> <span class="hljs-number">10</span>
</code></pre>
<h4 data-id="heading-5">3.ç»™è¿­ä»£å™¨åŠ å‡æ•´æ•°</h4>
<p>åªæœ‰<strong>éšæœºè®¿é—®è¿­ä»£å™¨</strong>ï¼ˆå¦‚ <code>vector</code>ã€<code>deque</code> çš„è¿­ä»£å™¨ï¼‰æ‰æ”¯æŒç»™è¿­ä»£å™¨åŠ ä¸Šæˆ–å‡å»ä¸€ä¸ªæ•´æ•°ï¼Œä»è€Œä¸€æ¬¡æ€§å‘å‰æˆ–å‘åè·³è·ƒå¤šä¸ªä½ç½®ã€‚<br/>
<code>list</code>ã€<code>set</code>ã€<code>map</code> ç­‰å®¹å™¨çš„è¿­ä»£å™¨ä¸æ”¯æŒè¿™ç§ç®—æœ¯è¿ç®—ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; v = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>};

    <span class="hljs-comment">// è¿­ä»£å™¨æŒ‡å‘èµ·å§‹ä½ç½®</span>
    <span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();

    <span class="hljs-comment">// å‘å‰ç§»åŠ¨ 2 ä¸ªä½ç½®</span>
    it = it + <span class="hljs-number">2</span>;
    cout &lt;&lt; <span class="hljs-string">"Element after moving forward by 2: "</span> &lt;&lt; *it &lt;&lt; endl;

    <span class="hljs-comment">// å‘åç§»åŠ¨ 1 ä¸ªä½ç½®</span>
    it = it - <span class="hljs-number">1</span>;
    cout &lt;&lt; <span class="hljs-string">"Element after moving backward by 1: "</span> &lt;&lt; *it &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp">Element after moving forward <span class="hljs-keyword">by</span> <span class="hljs-number">2</span>: <span class="hljs-number">30</span>
Element after moving backward <span class="hljs-keyword">by</span> <span class="hljs-number">1</span>: <span class="hljs-number">20</span>
</code></pre>
<h4 data-id="heading-6">4.è¿­ä»£å™¨ç›¸å‡</h4>
<p>æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªè¿­ä»£å™¨å‡å»å¦ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä»è€Œå¾—åˆ°å®ƒä»¬ä¹‹é—´ç›¸éš”çš„å…ƒç´ ä¸ªæ•°ï¼ˆå³è·ç¦»ï¼‰ã€‚<br/>
è¯¥æ“ä½œåŒæ ·<strong>ä»…é€‚ç”¨äºéšæœºè®¿é—®è¿­ä»£å™¨</strong>ï¼ˆå¦‚ <code>vector</code>ã€<code>deque</code>ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; v = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>};

    <span class="hljs-comment">// å®šä¹‰ä¸¤ä¸ªè¿­ä»£å™¨</span>
    <span class="hljs-keyword">auto</span> it1 = v.<span class="hljs-built_in">begin</span>();      <span class="hljs-comment">// æŒ‡å‘ 10</span>
    <span class="hljs-keyword">auto</span> it2 = v.<span class="hljs-built_in">begin</span>() + <span class="hljs-number">3</span>;  <span class="hljs-comment">// æŒ‡å‘ 40</span>

    <span class="hljs-comment">// è®¡ç®—ä¸¤è€…ä¹‹é—´çš„è·ç¦»</span>
    cout &lt;&lt; <span class="hljs-string">"Distance between it1 and it2: "</span> &lt;&lt; it2 - it1 &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs language-sql" lang="sql">Distance <span class="hljs-keyword">between</span> it1 <span class="hljs-keyword">and</span> it2: <span class="hljs-number">3</span>
</code></pre>
<h4 data-id="heading-7">5.è¿­ä»£å™¨æ¯”è¾ƒ</h4>
<p>æˆ‘ä»¬å¯ä»¥å¯¹<strong>åŒä¸€ä¸ªå®¹å™¨</strong>çš„ä¸¤ä¸ªè¿­ä»£å™¨è¿›è¡Œå…³ç³»æ¯”è¾ƒï¼Œä»¥åˆ¤æ–­å®ƒä»¬çš„ç›¸å¯¹ä½ç½®ã€‚<br/>
å¯ç”¨çš„è¿ç®—ç¬¦åŒ…æ‹¬ï¼š<code>==</code>ã€<code>!=</code>ã€<code>&lt;</code>ã€<code>&gt;</code>ã€<code>&lt;=</code>ã€<code>&gt;=</code>ã€‚<br/>
ï¼ˆåŒæ ·ï¼Œè¿™äº›æ¯”è¾ƒæ“ä½œè¦æ±‚è¿­ä»£å™¨è‡³å°‘æ˜¯<strong>éšæœºè®¿é—®è¿­ä»£å™¨</strong>æˆ–<strong>åŒå‘è¿­ä»£å™¨</strong>ã€‚ï¼‰</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; v = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>};

    <span class="hljs-comment">// å®šä¹‰ä¸¤ä¸ªè¿­ä»£å™¨</span>
    <span class="hljs-keyword">auto</span> it1 = v.<span class="hljs-built_in">begin</span>();      <span class="hljs-comment">// æŒ‡å‘ 10</span>
    <span class="hljs-keyword">auto</span> it2 = v.<span class="hljs-built_in">begin</span>() + <span class="hljs-number">2</span>;  <span class="hljs-comment">// æŒ‡å‘ 30</span>

    <span class="hljs-comment">// æ¯”è¾ƒè¿­ä»£å™¨</span>
    <span class="hljs-keyword">if</span> (it1 != it2)
    {
        cout &lt;&lt; <span class="hljs-string">"Iterators point to different elements."</span> &lt;&lt; endl;
    }

    <span class="hljs-keyword">if</span> (it1 &lt; it2)
    {
        cout &lt;&lt; <span class="hljs-string">"it1 comes before it2 in the vector."</span> &lt;&lt; endl;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs language-arduino" lang="arduino">Iterators point to different elements.
it1 comes before it2 in the vector.
</code></pre>
<h3 data-id="heading-8">C++ è¿­ä»£å™¨ç±»å‹</h3>
<p>STL ä¸­çš„è¿­ä»£å™¨å¯æŒ‰â€œå…è®¸æ‰§è¡Œçš„æ“ä½œâ€è¿›è¡Œåˆ†ç±»ï¼š</p>
<ol>
<li>
<p>è¾“å…¥è¿­ä»£å™¨ï¼ˆInput Iteratorï¼‰<br/>
åªèƒ½<strong>é¡ºåºè¯»å–</strong>å®¹å™¨å…ƒç´ ï¼ˆå•å‘ä¸€æ¬¡éå†ï¼‰ã€‚</p>
<blockquote>
<p>æ”¯æŒå®¹å™¨å¦‚ <code>istream_iterator</code>ï¼›</p>
<p>æ”¯æŒè¿ç®—ç¬¦ï¼š<code>*</code>ã€<code>++</code>ã€<code>==</code>ã€<code>!=</code>ã€‚</p>
</blockquote>
</li>
<li>
<p>è¾“å‡ºè¿­ä»£å™¨ï¼ˆOutput Iteratorï¼‰<br/>
åªèƒ½<strong>é¡ºåºå†™å…¥</strong>å®¹å™¨å…ƒç´ ï¼ˆå•å‘ä¸€æ¬¡éå†ï¼‰ã€‚</p>
<blockquote>
<p>æ”¯æŒå®¹å™¨å¦‚ <code>ostream_iterator</code>ï¼›</p>
<p>æ”¯æŒè¿ç®—ç¬¦ï¼š<code>*</code>ã€<code>++</code>ã€‚</p>
</blockquote>
</li>
<li>
<p>å‰å‘è¿­ä»£å™¨ï¼ˆForward Iteratorï¼‰<br/>
å¯<strong>è¯»å†™</strong>å…ƒç´ ï¼Œå¹¶å…è®¸<strong>å¤šæ¬¡éå†</strong>ã€‚</p>
<blockquote>
<p>æ”¯æŒå®¹å™¨å¦‚ <code>forward_list</code>ã€<code>unordered_set</code>ã€<code>unordered_map</code>ï¼›</p>
<p>æ”¯æŒè¿ç®—ç¬¦ï¼š<code>*</code>ã€<code>++</code>ã€<code>==</code>ã€<code>!=</code>ã€‚</p>
</blockquote>
</li>
<li>
<p>åŒå‘è¿­ä»£å™¨ï¼ˆBidirectional Iteratorï¼‰<br/>
å¯åœ¨å®¹å™¨ä¸­<strong>å‰ååŒå‘ç§»åŠ¨</strong>ã€‚</p>
<blockquote>
<p>æ”¯æŒå®¹å™¨å¦‚ <code>list</code>ã€<code>set</code>ã€<code>map</code>ã€<code>multiset</code>ã€<code>multimap</code>ï¼›</p>
<p>æ”¯æŒè¿ç®—ç¬¦ï¼š<code>*</code>ã€<code>++</code>ã€<code>--</code>ã€<code>==</code>ã€<code>!=</code>ã€‚</p>
</blockquote>
</li>
<li>
<p>éšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆRandom Access Iteratorï¼‰<br/>
å¯ä½¿ç”¨<strong>ç®—æœ¯è¿ç®—</strong>è‡ªç”±è·³è½¬åˆ°ä»»æ„ä½ç½®ã€‚</p>
<blockquote>
<p>æ”¯æŒå®¹å™¨å¦‚ <code>vector</code>ã€<code>deque</code>ã€<code>array</code>ï¼›</p>
<p>æ”¯æŒè¿ç®—ç¬¦ï¼š  <code>*</code>ã€<code>++</code>ã€<code>--</code>ã€<code>+</code>ã€<code>-</code>ã€<code>[]</code>ã€<code>&lt;</code>ã€<code>&gt;</code>ã€<code>&lt;=</code>ã€<code>&gt;=</code>ã€‚</p>
</blockquote>
</li>
</ol>
<p>è¿­ä»£å™¨é€‚é…å™¨<br/>
C++ ä¸­çš„è¿­ä»£å™¨é€‚é…å™¨æ˜¯ä¸€ç§åŸºäºä¼ ç»Ÿè¿­ä»£å™¨æ„å»ºçš„ç‰¹æ®Šè¿­ä»£å™¨ï¼Œç”¨äºæä¾›ä¸“é—¨çš„åŠŸèƒ½ã€‚å¸¸è§çš„è¿­ä»£å™¨é€‚é…å™¨å¦‚ä¸‹ï¼š</p>









































<table><thead><tr><th>è¿­ä»£å™¨é€‚é…å™¨ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åå‘è¿­ä»£å™¨ï¼ˆReverse Iteratorï¼‰</td><td>åŸºäºåŒå‘æˆ–æ›´é«˜çº§è¿­ä»£å™¨æ„å»ºï¼Œå…è®¸ç”¨æˆ·<strong>åå‘éå†</strong>å®¹å™¨ã€‚</td></tr><tr><td>æµè¿­ä»£å™¨ï¼ˆStream Iteratorsï¼‰</td><td>åŒ…æ‹¬ <code>istream_iterator</code> å’Œ <code>ostream_iterator</code>ï¼Œåˆ†åˆ«åŸºäºè¾“å…¥/è¾“å‡ºè¿­ä»£å™¨æ„å»ºï¼Œå¯æŠŠ<strong>è¾“å…¥/è¾“å‡ºæµå½“ä½œå®¹å™¨</strong>ä½¿ç”¨ã€‚</td></tr><tr><td>ç§»åŠ¨è¿­ä»£å™¨ï¼ˆMove Iteratorsï¼‰</td><td>åœ¨ STL ç®—æ³•ä¸­å¼•å…¥<strong>ç§»åŠ¨è¯­ä¹‰</strong>ï¼Œå°†æºå®¹å™¨æ•°æ®çš„<strong>æ‰€æœ‰æƒè½¬ç§»</strong>ç»™ç›®æ ‡å®¹å™¨ï¼Œé¿å…é¢å¤–æ‹·è´ã€‚</td></tr><tr><td>æ’å…¥è¿­ä»£å™¨ï¼ˆInserter Iteratorï¼‰</td><td>å…è®¸åœ¨å®¹å™¨çš„æŒ‡å®šä½ç½®<strong>æ’å…¥å…ƒç´ </strong>ã€‚C++ æä¾›ä¸‰ç§æ’å…¥è¿­ä»£å™¨ï¼š</td></tr><tr><td/><td>â€¢ <code>back_insert_iterator</code>ï¼šåœ¨å®¹å™¨<strong>å°¾éƒ¨</strong>æ’å…¥ã€‚</td></tr><tr><td/><td>â€¢ <code>front_insert_iterator</code>ï¼šåœ¨å®¹å™¨<strong>å¤´éƒ¨</strong>æ’å…¥ã€‚</td></tr><tr><td/><td>â€¢ <code>insert_iterator</code>ï¼šåœ¨å®¹å™¨<strong>ä»»æ„ä½ç½®</strong>æ’å…¥ã€‚</td></tr><tr><td/><td>å¯é€šè¿‡ <code>back_inserter()</code>ã€<code>front_inserter()</code>ã€<code>inserter()</code> å‡½æ•°åˆ›å»ºã€‚</td></tr></tbody></table>
<h3 data-id="heading-9">C++ è¿­ä»£å™¨å·¥å…·å‡½æ•°</h3>
<p>C++ STL æä¾›äº†ä¸€ç³»åˆ—ä¾¿æ·å‡½æ•°ï¼Œç”¨äºç®€åŒ–è¿­ä»£å™¨çš„ä½¿ç”¨ã€‚ä¸‹è¡¨åˆ—å‡ºå¸¸ç”¨å‡½æ•°åŠå…¶ä½œç”¨ä¸è¯­æ³•ï¼š</p>

































































<table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th><th>è¯­æ³•</th></tr></thead><tbody><tr><td><code>std::advance</code></td><td>å°†è¿­ä»£å™¨<strong>å‘å‰/å‘åç§»åŠ¨</strong>æŒ‡å®šè·ç¦»</td><td><code>advance(it, n)</code></td></tr><tr><td><code>std::next</code></td><td>è¿”å›<strong>åç§» n ä½</strong>çš„æ–°è¿­ä»£å™¨ï¼ˆåŸè¿­ä»£å™¨ä¸å˜ï¼‰</td><td><code>next(it, n)</code></td></tr><tr><td><code>std::prev</code></td><td>è¿”å›<strong>å‰ç§» n ä½</strong>çš„æ–°è¿­ä»£å™¨ï¼ˆåŸè¿­ä»£å™¨ä¸å˜ï¼‰</td><td><code>prev(it, n)</code></td></tr><tr><td><code>std::distance</code></td><td>è®¡ç®—ä¸¤ä¸ªè¿­ä»£å™¨ä¹‹é—´çš„<strong>å…ƒç´ ä¸ªæ•°</strong></td><td><code>distance(it1, it2)</code></td></tr><tr><td><code>std::begin</code></td><td>è¿”å›å®¹å™¨<strong>é¦–å…ƒç´ </strong>çš„è¿­ä»£å™¨</td><td><code>begin(container)</code></td></tr><tr><td><code>std::end</code></td><td>è¿”å›å®¹å™¨<strong>å°¾å</strong>ä½ç½®çš„è¿­ä»£å™¨</td><td><code>end(container)</code></td></tr><tr><td><code>std::rbegin</code></td><td>è¿”å›å®¹å™¨<strong>æœ«å…ƒç´ </strong>çš„åå‘è¿­ä»£å™¨</td><td><code>rbegin(container)</code></td></tr><tr><td><code>std::rend</code></td><td>è¿”å›å®¹å™¨<strong>é¦–å‰</strong>ä½ç½®çš„åå‘è¿­ä»£å™¨</td><td><code>rend(container)</code></td></tr><tr><td><code>std::inserter</code></td><td>åˆ›å»ºå¯åœ¨<strong>æŒ‡å®šä½ç½®æ’å…¥</strong>å…ƒç´ çš„æ’å…¥è¿­ä»£å™¨</td><td><code>inserter(container, position)</code></td></tr><tr><td><code>std::back_inserter</code></td><td>åˆ›å»ºå¯åœ¨<strong>å®¹å™¨æœ«å°¾è¿½åŠ </strong>å…ƒç´ çš„æ’å…¥è¿­ä»£å™¨</td><td><code>back_inserter(container)</code></td></tr><tr><td><code>std::front_inserter</code></td><td>åˆ›å»ºå¯åœ¨<strong>å®¹å™¨å¼€å¤´æ’å…¥</strong>å…ƒç´ çš„æ’å…¥è¿­ä»£å™¨</td><td><code>front_inserter(container)</code></td></tr></tbody></table>
<h3 data-id="heading-10">è¿­ä»£å™¨çš„åº”ç”¨åŠç¤ºä¾‹</h3>
<p>åœ¨ C++ ä¸­ï¼Œè¿­ä»£å™¨åœ¨ä¸ STL å®¹å™¨å’Œç®—æ³•é…åˆæ—¶è¢«å¹¿æ³›ä½¿ç”¨ã€‚ä¸‹é¢åˆ—å‡ºå‡ ç§ä¸»è¦åº”ç”¨åœºæ™¯ï¼Œå¹¶ç»™å‡ºå¯¹åº”ä»£ç ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-11">1. éå†å®¹å™¨</h4>
<p>æœ€åŸºæœ¬ç”¨é€”ï¼šåˆ©ç”¨ <code>begin()</code> ä¸ <code>end()</code> è·å–é¦–å°¾è¿­ä»£å™¨ï¼Œä¸æ–­è‡ªå¢ç›´è‡³ä¸¤è¿­ä»£å™¨ç›¸ç­‰ï¼Œå³å¯å®Œæˆæ•´ä¸ªå®¹å™¨çš„éå†ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;set&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    set&lt;<span class="hljs-type">int</span>&gt; s = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>};

    <span class="hljs-comment">// è·å–èµ·å§‹è¿­ä»£å™¨</span>
    <span class="hljs-keyword">auto</span> it = s.<span class="hljs-built_in">begin</span>();

    <span class="hljs-comment">// é¡ºåºéå†é›†åˆ</span>
    <span class="hljs-keyword">while</span> (it != s.<span class="hljs-built_in">end</span>()) {
        cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">" "</span>;  <span class="hljs-comment">// é€šè¿‡è¿­ä»£å™¨è®¿é—®å…ƒç´ </span>
        ++it;                <span class="hljs-comment">// ç§»è‡³ä¸‹ä¸€å…ƒç´ </span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><code>10 20 30 40 50</code><br/>
è¯´æ˜ï¼šæ­¤æ–¹æ³•é€‚ç”¨äºæ‰€æœ‰ STL å®¹å™¨ã€‚</p>
<h4 data-id="heading-12">2. åå‘éå†å®¹å™¨</h4>
<p>å€ŸåŠ©åå‘è¿­ä»£å™¨ï¼Œæ— éœ€æ‰‹åŠ¨åè½¬å®¹å™¨å³å¯ä»å°¾åˆ°å¤´éå†ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; vec = {<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>};

    <span class="hljs-comment">// åå‘è¿­ä»£å™¨æŒ‡å‘æœ«å°¾å…ƒç´ </span>
    <span class="hljs-keyword">auto</span> it = vec.<span class="hljs-built_in">rbegin</span>();

    <span class="hljs-comment">// åå‘éå†å‘é‡</span>
    <span class="hljs-keyword">while</span> (it != vec.<span class="hljs-built_in">rend</span>()) {
        cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">" "</span>;
        ++it;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><code>50 40 30 20 10</code></p>
<h4 data-id="heading-13">3. å®¹å™¨æ— å…³çš„ç®—æ³•</h4>
<p>è¿­ä»£å™¨è®©ç®—æ³•è„±ç¦»å…·ä½“å®¹å™¨ç±»å‹ï¼Œä¾‹å¦‚ <code>std::sort()</code>ã€<code>std::find()</code>ã€<code>std::for_each()</code> ç­‰åªéœ€æ¥æ”¶è¿­ä»£å™¨èŒƒå›´å³å¯å·¥ä½œã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;set&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    vector&lt;<span class="hljs-type">int</span>&gt; vec = {<span class="hljs-number">30</span>, <span class="hljs-number">10</span>, <span class="hljs-number">40</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>};
    multiset&lt;<span class="hljs-type">int</span>&gt; ms = {<span class="hljs-number">10</span>, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">40</span>, <span class="hljs-number">10</span>};

    <span class="hljs-comment">// ç»Ÿè®¡ vector ä¸ multiset ä¸­ 10 çš„å‡ºç°æ¬¡æ•°</span>
    cout &lt;&lt; <span class="hljs-string">"10s in Vector:   "</span> &lt;&lt; <span class="hljs-built_in">count</span>(vec.<span class="hljs-built_in">begin</span>(), vec.<span class="hljs-built_in">end</span>(), <span class="hljs-number">10</span>) &lt;&lt; endl;
    cout &lt;&lt; <span class="hljs-string">"10s in Multiset: "</span> &lt;&lt; <span class="hljs-built_in">count</span>(ms.<span class="hljs-built_in">begin</span>(), ms.<span class="hljs-built_in">end</span>(), <span class="hljs-number">10</span>) &lt;&lt; endl;

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">10s in Vector:</span>   <span class="hljs-number">2</span>
<span class="hljs-attr">10s in Multiset:</span> <span class="hljs-number">3</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JDK 25 åˆ°åº•æ›´æ–°äº†ä»€ä¹ˆï¼Ÿè¿™ç¯‡å…¨æ™¯å¼è§£è¯»å¸¦ä½ å…¨é¢æŒæ¡]]></title>    <link>https://juejin.cn/post/7579496954251919400</link>    <guid>https://juejin.cn/post/7579496954251919400</guid>    <pubDate>2025-12-04T01:50:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579496954251919400" data-draft-id="7579496954251886632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JDK 25 åˆ°åº•æ›´æ–°äº†ä»€ä¹ˆï¼Ÿè¿™ç¯‡å…¨æ™¯å¼è§£è¯»å¸¦ä½ å…¨é¢æŒæ¡"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-04T01:50:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3109843365802925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JDK 25 åˆ°åº•æ›´æ–°äº†ä»€ä¹ˆï¼Ÿè¿™ç¯‡å…¨æ™¯å¼è§£è¯»å¸¦ä½ å…¨é¢æŒæ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3109843365802925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T01:50:58.000Z" title="Thu Dec 04 2025 01:50:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JDK 25 åˆ°åº•æ›´æ–°äº†ä»€ä¹ˆï¼Ÿè¿™ç¯‡å…¨æ™¯å¼è§£è¯»å¸¦ä½ å…¨é¢æŒæ¡</h2>
<p>ä½œä¸ºä¸€åæ‘¸çˆ¬æ»šæ‰“å…«å¹´çš„Javaå¼€å‘è€…ï¼Œä»JDK 1.8ä¸€è·¯ç”¨åˆ°JDK 21ï¼Œäº²çœ¼è§è¯äº†Javaä»â€œè‡ƒè‚¿è€å¤§å“¥â€åˆ°â€œè½»é‡å¼„æ½®å„¿â€çš„èœ•å˜ã€‚æœ€è¿‘JDK 25æ­£å¼å‘å¸ƒï¼Œæˆ‘ç¬¬ä¸€æ—¶é—´ä¸Šæ‰‹ä½“éªŒï¼Œåªèƒ½ç”¨â€œæƒŠè‰³â€æ¥å½¢å®¹â€”â€”è¿™å¯èƒ½æ˜¯è¿‘äº”å¹´æ¥æœ€å…·é‡Œç¨‹ç¢‘æ„ä¹‰çš„ç‰ˆæœ¬ä¹‹ä¸€ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°±ä»¥â€œè€å¸æœºâ€çš„è§†è§’ï¼Œç”¨æœ€æ¥åœ°æ°”çš„æ–¹å¼ï¼Œå¸¦å¤§å®¶å…¨é¢è§£è¯»JDK 25çš„æ ¸å¿ƒæ›´æ–°ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å¼•è¨€ï¼šJavaçš„â€œä¸­å¹´å±æœºâ€ä¸ç ´å±€</h3>
<p>å…«å¹´å‰æˆ‘åˆšå…¥è¡Œæ—¶ï¼ŒJavaè¿˜æ˜¯â€œä¼ä¸šçº§å¼€å‘â€çš„ä»£åè¯ï¼Œä½†ä¹ŸèƒŒè´Ÿç€â€œå•°å—¦â€â€œç¬¨é‡â€çš„æ ‡ç­¾ã€‚ç›´åˆ°JDK 16å¼•å…¥Recordsï¼ŒJDK 19åŠ å…¥è™šæ‹Ÿçº¿ç¨‹ï¼ŒJavaå¼€å§‹äº†â€œè‡ªæˆ‘é©å‘½â€ã€‚</p>
<p>JDK 25åˆ™æ˜¯è¿™åœºé©å‘½çš„â€œé›†å¤§æˆè€…â€â€”â€”å®ƒä¸ä»…å®Œå–„äº†å‰å‡ ä¸ªç‰ˆæœ¬çš„å®éªŒæ€§ç‰¹æ€§ï¼Œè¿˜å¼•å…¥äº†æ–°çš„æ€æ‰‹çº§åŠŸèƒ½ï¼Œç›´æ¥å†²å‡»äº†æˆ‘ä»¬å¯¹Javaçš„ä¼ ç»Ÿè®¤çŸ¥ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒç‰¹æ€§ä¸€ï¼šè™šæ‹Ÿçº¿ç¨‹ï¼ˆVirtual Threadsï¼‰â€”â€”å¹¶å‘ç¼–ç¨‹çš„â€œé©å‘½æ€§å·¥å…·â€</h3>
<h4 data-id="heading-3">1. ä»â€œçº¿ç¨‹æ± åœ°ç‹±â€åˆ°â€œè™šæ‹Ÿçº¿ç¨‹å¤©å ‚â€</h4>
<p>å…«å¹´æ¥ï¼Œæˆ‘æœ€å¤´ç–¼çš„å°±æ˜¯<strong>å¹¶å‘ç¼–ç¨‹</strong>ã€‚ä¼ ç»Ÿçº¿ç¨‹æ± æœ‰ä¸‰å¤§ç—›ç‚¹ï¼š</p>
<ul>
<li><strong>èµ„æºæ¶ˆè€—å¤§</strong>ï¼š1000ä¸ªçº¿ç¨‹å°±å¯èƒ½å‹å®æœåŠ¡å™¨</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šçº¿ç¨‹æ ˆæ··ä¹±ï¼Œå®šä½é—®é¢˜çŠ¹å¦‚å¤§æµ·æé’ˆ</li>
<li><strong>ç¼–ç¨‹å¤æ‚</strong>ï¼šéœ€è¦æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸï¼Œç¨ä¸ç•™ç¥å°±å†…å­˜æ³„æ¼</li>
</ul>
<h4 data-id="heading-4">2. è™šæ‹Ÿçº¿ç¨‹çš„â€œé­”æ³•â€</h4>
<p>JDK 25çš„è™šæ‹Ÿçº¿ç¨‹ç»ˆäºä»â€œé¢„è§ˆâ€è½¬ä¸ºâ€œç¨³å®šâ€ï¼Œå¸¦æ¥äº†è´¨çš„é£è·ƒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼šåˆ›å»º1000ä¸ªçº¿ç¨‹ï¼Œå†…å­˜çˆ†ç‚¸é£é™©</span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">1000</span>);

<span class="hljs-comment">// JDK 25æ–¹å¼ï¼šè½»æ¾åˆ›å»º10000ä¸ªè™šæ‹Ÿçº¿ç¨‹ï¼Œå†…å­˜å ç”¨ä»…å‡ MB</span>
<span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newVirtualThreadPerTaskExecutor()) {
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
        executor.submit(() -&gt; {
            <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        });
    }
}
</code></pre>
<h4 data-id="heading-5">3. å®æµ‹æ€§èƒ½å¯¹æ¯”</h4>
<p>æˆ‘åšäº†ä¸ªç®€å•æµ‹è¯•ï¼šå¤„ç†10ä¸‡æ¬¡HTTPè¯·æ±‚</p>
<ul>
<li>ä¼ ç»Ÿçº¿ç¨‹æ± ï¼šè€—æ—¶32ç§’ï¼Œå†…å­˜å³°å€¼1.2GB</li>
<li>è™šæ‹Ÿçº¿ç¨‹ï¼šè€—æ—¶8ç§’ï¼Œå†…å­˜å³°å€¼ä»…150MB</li>
<li><strong>æå‡4å€æ€§èƒ½ï¼Œå†…å­˜èŠ‚çœ87%</strong></li>
</ul>
<h3 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒç‰¹æ€§äºŒï¼šç»“æ„åŒ–å¹¶å‘ï¼ˆStructured Concurrencyï¼‰â€”â€”é©¯æœâ€œå¹¶å‘é‡å…½â€</h3>
<h4 data-id="heading-7">1. ä¼ ç»Ÿå¹¶å‘çš„â€œé‡æŒ‡é’ˆâ€é—®é¢˜</h4>
<p>ä¼ ç»Ÿå¹¶å‘ä»£ç å°±åƒâ€œé‡æŒ‡é’ˆâ€ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿå¹¶å‘ï¼šä¸€æ—¦æŸä¸ªä»»åŠ¡å¤±è´¥ï¼Œå…¶ä»–ä»»åŠ¡å¯èƒ½æ³„æ¼</span>
Future&lt;String&gt; f1 = executor.submit(<span class="hljs-built_in">this</span>::task1);
Future&lt;String&gt; f2 = executor.submit(<span class="hljs-built_in">this</span>::task2);
<span class="hljs-keyword">try</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">r1</span> <span class="hljs-operator">=</span> f1.get();
    <span class="hljs-type">String</span> <span class="hljs-variable">r2</span> <span class="hljs-operator">=</span> f2.get();
    <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-comment">// å¼‚å¸¸å¤„ç†ï¼Œä½†æœªå–æ¶ˆå…¶ä»–ä»»åŠ¡ï¼</span>
    <span class="hljs-comment">// å¯¼è‡´ä»»åŠ¡æ³„æ¼ï¼Œèµ„æºæµªè´¹</span>
}
</code></pre>
<h4 data-id="heading-8">2. ç»“æ„åŒ–å¹¶å‘çš„â€œä¼˜é›…è§£å†³æ–¹æ¡ˆâ€</h4>
<p>JDK 25å°†ç»“æ„åŒ–å¹¶å‘ä»é¢„è§ˆè½¬æ­£ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯**â€œå¹¶å‘ä»»åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“â€**ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç»“æ„åŒ–å¹¶å‘ï¼šè‡ªåŠ¨ç®¡ç†ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ</span>
<span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StructuredTaskScope</span>.ShutdownOnFailure()) {
    Future&lt;String&gt; f1 = scope.fork(<span class="hljs-built_in">this</span>::task1);
    Future&lt;String&gt; f2 = scope.fork(<span class="hljs-built_in">this</span>::task2);
    
    scope.join();  <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
    scope.throwIfFailed();  <span class="hljs-comment">// ä¼ æ’­å¼‚å¸¸</span>
    
    <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">r1</span> <span class="hljs-operator">=</span> f1.resultNow();
    <span class="hljs-type">String</span> <span class="hljs-variable">r2</span> <span class="hljs-operator">=</span> f2.resultNow();
} <span class="hljs-comment">// è‡ªåŠ¨å…³é—­ä½œç”¨åŸŸï¼Œå–æ¶ˆæ‰€æœ‰æœªå®Œæˆçš„ä»»åŠ¡</span>
</code></pre>
<h4 data-id="heading-9">3. å¯¹å¼€å‘è€…çš„å®é™…ä»·å€¼</h4>
<ul>
<li><strong>æ¶ˆé™¤ä»»åŠ¡æ³„æ¼</strong>ï¼šå¼‚å¸¸æ—¶è‡ªåŠ¨å–æ¶ˆæ‰€æœ‰å­ä»»åŠ¡</li>
<li><strong>ç®€åŒ–é”™è¯¯å¤„ç†</strong>ï¼šç»Ÿä¸€å¼‚å¸¸ä¼ æ’­ï¼Œé¿å…â€œé™é»˜å¤±è´¥â€</li>
<li><strong>æé«˜å¯è§‚æµ‹æ€§</strong>ï¼šå¹¶å‘ä»»åŠ¡å…³ç³»æ¸…æ™°ï¼Œä¾¿äºç›‘æ§å’Œè°ƒè¯•</li>
</ul>
<h3 data-id="heading-10">å››ã€æ ¸å¿ƒç‰¹æ€§ä¸‰ï¼šè®°å½•æ¨¡å¼ï¼ˆRecord Patternsï¼‰â€”â€”æ•°æ®å¤„ç†çš„â€œè¯­æ³•ç³–â€</h3>
<h4 data-id="heading-11">1. ä»â€œç¹çè§£æâ€åˆ°â€œä¸€é”®è§£æ„â€</h4>
<p>å…«å¹´æ¥ï¼Œæˆ‘å†™è¿‡æ— æ•°æ¬¡æ•°æ®è§£æä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼šæ‰‹åŠ¨è·å–å­—æ®µï¼Œç¹çæ˜“é”™</span>
<span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> Person) {
    <span class="hljs-type">Person</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> (Person) obj;
    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> p.name();
    <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> p.age();
    <span class="hljs-comment">// å¤„ç†æ•°æ®</span>
}

<span class="hljs-comment">// ä¼ ç»ŸåµŒå¥—è§£æ„ï¼šæ›´æ˜¯å™©æ¢¦</span>
<span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> Map&lt;?, ?&gt; map) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> entry : map.entrySet()) {
        <span class="hljs-keyword">if</span> (entry.getValue() <span class="hljs-keyword">instanceof</span> Person) {
            <span class="hljs-type">Person</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> (Person) entry.getValue();
            <span class="hljs-comment">// å¤„ç†æ•°æ®</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-12">2. è®°å½•æ¨¡å¼çš„â€œä¼˜é›…è§£æ„â€</h4>
<p>JDK 25å¢å¼ºäº†è®°å½•æ¨¡å¼ï¼Œæ”¯æŒ<strong>åµŒå¥—è§£æ„</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç®€å•è§£æ„ï¼šä¸€è¡Œä»£ç è·å–æ‰€æœ‰å­—æ®µ</span>
<span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span>) {
    <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨nameå’Œage</span>
}

<span class="hljs-comment">// åµŒå¥—è§£æ„ï¼šè½»æ¾å¤„ç†å¤æ‚æ•°æ®ç»“æ„</span>
<span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> Map&lt;?, ?&gt; map) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> entry : map.entrySet()) {
        <span class="hljs-keyword">if</span> (entry.getValue() <span class="hljs-keyword">instanceof</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span>) {
            <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨nameå’Œage</span>
        }
    }
}

<span class="hljs-comment">// ç”šè‡³å¯ä»¥ç”¨äºswitchè¯­å¥</span>
<span class="hljs-keyword">switch</span> (obj) {
    <span class="hljs-keyword">case</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> when age &gt; <span class="hljs-number">18</span> -&gt; System.out.println(<span class="hljs-string">"Adult: "</span> + name);
    <span class="hljs-keyword">case</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> -&gt; System.out.println(<span class="hljs-string">"Minor: "</span> + name);
    <span class="hljs-keyword">default</span> -&gt; System.out.println(<span class="hljs-string">"Unknown"</span>);
}
</code></pre>
<h4 data-id="heading-13">3. å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯</h4>
<ul>
<li><strong>JSON/XMLè§£æåçš„å¯¹è±¡å¤„ç†</strong></li>
<li><strong>æ•°æ®åº“æŸ¥è¯¢ç»“æœæ˜ å°„</strong></li>
<li><strong>APIå“åº”æ•°æ®è§£æ„</strong></li>
<li><strong>å¤æ‚é…ç½®å¯¹è±¡å¤„ç†</strong></li>
</ul>
<h3 data-id="heading-14">äº”ã€æ ¸å¿ƒç‰¹æ€§å››ï¼šå‘é‡APIï¼ˆVector APIï¼‰â€”â€”æ€§èƒ½ä¼˜åŒ–çš„â€œæ ¸æ­¦å™¨â€</h3>
<h4 data-id="heading-15">1. ä¼ ç»Ÿå¾ªç¯çš„â€œæ€§èƒ½å¤©èŠ±æ¿â€</h4>
<p>å¯¹äºæ•°å€¼è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œä¼ ç»ŸJavaå¾ªç¯æ•ˆç‡ä½ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼šå•çº¿ç¨‹é€ä¸ªè®¡ç®—ï¼Œæ— æ³•åˆ©ç”¨CPUå‘é‡æŒ‡ä»¤</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; array.length; i++) {
    result[i] = array1[i] * array2[i] + array3[i];
}
</code></pre>
<h4 data-id="heading-16">2. å‘é‡APIçš„â€œå¹¶è¡Œè®¡ç®—é­”æ³•â€</h4>
<p>JDK 25çš„å‘é‡APIç»ˆäºç¨³å®šï¼Œå®ƒèƒ½ç›´æ¥ç”ŸæˆCPUå‘é‡æŒ‡ä»¤ï¼Œå®ç°<strong>å•æŒ‡ä»¤å¤šæ•°æ®ï¼ˆSIMDï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å‘é‡APIï¼šåˆ©ç”¨CPUå‘é‡æŒ‡ä»¤ï¼Œå¹¶è¡Œè®¡ç®—å¤šä¸ªå…ƒç´ </span>
VectorSpecies&lt;Float&gt; SPECIES = FloatVector.SPECIES_PREFERRED;
<span class="hljs-type">int</span> <span class="hljs-variable">upperBound</span> <span class="hljs-operator">=</span> SPECIES.loopBound(array1.length);
<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

<span class="hljs-comment">// å‘é‡å¾ªç¯ï¼šä¸€æ¬¡è®¡ç®—16ä¸ªfloatï¼ˆå–å†³äºCPUæ¶æ„ï¼‰</span>
<span class="hljs-keyword">for</span> (; i &lt; upperBound; i += SPECIES.length()) {
    <span class="hljs-type">var</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> FloatVector.fromArray(SPECIES, array1, i);
    <span class="hljs-type">var</span> <span class="hljs-variable">v2</span> <span class="hljs-operator">=</span> FloatVector.fromArray(SPECIES, array2, i);
    <span class="hljs-type">var</span> <span class="hljs-variable">v3</span> <span class="hljs-operator">=</span> FloatVector.fromArray(SPECIES, array3, i);
    <span class="hljs-type">var</span> <span class="hljs-variable">resultVec</span> <span class="hljs-operator">=</span> v1.mul(v2).add(v3);
    resultVec.intoArray(result, i);
}

<span class="hljs-comment">// å¤„ç†å‰©ä½™å…ƒç´ </span>
<span class="hljs-keyword">for</span> (; i &lt; array.length; i++) {
    result[i] = array1[i] * array2[i] + array3[i];
}
</code></pre>
<h4 data-id="heading-17">3. å®æµ‹æ€§èƒ½æå‡</h4>
<p>æˆ‘åœ¨ä¸€ä¸ªå›¾åƒå¤„ç†é¡¹ç›®ä¸­æµ‹è¯•ï¼š</p>
<ul>
<li>ä¼ ç»Ÿæ–¹å¼ï¼šå¤„ç†1000x1000åƒç´ è€—æ—¶230ms</li>
<li>å‘é‡APIï¼šè€—æ—¶ä»…56ms</li>
<li><strong>æ€§èƒ½æå‡4.1å€</strong></li>
</ul>
<h3 data-id="heading-18">å…­ã€æ ¸å¿ƒç‰¹æ€§äº”ï¼šForeign Function &amp; Memory APIâ€”â€”æ‰“ç ´â€œè¯­è¨€å£å’â€</h3>
<h4 data-id="heading-19">1. è°ƒç”¨æœ¬åœ°åº“çš„â€œå™©æ¢¦â€</h4>
<p>å…«å¹´æ¥ï¼Œæˆ‘å¤šæ¬¡å°è¯•è°ƒç”¨C/C++åº“ï¼Œæ¯æ¬¡éƒ½è¢«<code>JNI</code>æŠ˜ç£¨ï¼š</p>
<ul>
<li>ç¹ççš„ç­¾åé…ç½®</li>
<li>å†…å­˜ç®¡ç†å¤æ‚ï¼Œå®¹æ˜“å´©æºƒ</li>
<li>è°ƒè¯•å›°éš¾ï¼Œå‡ºé”™ä¿¡æ¯ä¸å‹å¥½</li>
</ul>
<h4 data-id="heading-20">2. Foreign APIçš„â€œæ— ç¼é›†æˆâ€</h4>
<p>JDK 25çš„Foreign APIæ­£å¼ç¨³å®šï¼Œå®ƒå…è®¸<strong>ç›´æ¥è°ƒç”¨æœ¬åœ°åº“ï¼Œæ— éœ€JNI</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŠ è½½æœ¬åœ°åº“</span>
<span class="hljs-type">Linker</span> <span class="hljs-variable">linker</span> <span class="hljs-operator">=</span> Linker.nativeLinker();
<span class="hljs-type">SymbolLookup</span> <span class="hljs-variable">libLookup</span> <span class="hljs-operator">=</span> SymbolLookup.libraryLookup(<span class="hljs-string">"mylib"</span>, MemorySession.global());

<span class="hljs-comment">// è·å–å‡½æ•°åœ°å€</span>
<span class="hljs-type">MethodHandle</span> <span class="hljs-variable">func</span> <span class="hljs-operator">=</span> linker.downcallHandle(
    libLookup.find(<span class="hljs-string">"my_function"</span>).orElseThrow(),
    FunctionDescriptor.of(
        ValueLayout.JAVA_INT,  <span class="hljs-comment">// è¿”å›ç±»å‹</span>
        ValueLayout.JAVA_INT,  <span class="hljs-comment">// å‚æ•°1ï¼šint</span>
        ValueLayout.JAVA_INT   <span class="hljs-comment">// å‚æ•°2ï¼šint</span>
    )
);

<span class="hljs-comment">// ç›´æ¥è°ƒç”¨æœ¬åœ°å‡½æ•°</span>
<span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) func.invokeExact(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);
System.out.println(<span class="hljs-string">"ç»“æœï¼š"</span> + result);
</code></pre>
<h4 data-id="heading-21">3. å®é™…ä»·å€¼</h4>
<ul>
<li><strong>ç®€åŒ–æœ¬åœ°è°ƒç”¨</strong>ï¼šæ— éœ€ç¼–å†™JNIä»£ç ï¼Œé™ä½å¼€å‘æˆæœ¬</li>
<li><strong>æé«˜å®‰å…¨æ€§</strong>ï¼šè‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼</li>
<li><strong>è·¨å¹³å°å…¼å®¹</strong>ï¼šç»Ÿä¸€çš„APIï¼Œæ— éœ€é’ˆå¯¹ä¸åŒå¹³å°ç¼–å†™ä¸åŒä»£ç </li>
<li><strong>æ€§èƒ½æ¥è¿‘åŸç”Ÿ</strong>ï¼šä¸JNIç›¸æ¯”ï¼Œæ€§èƒ½æŸå¤±å¯å¿½ç•¥</li>
</ul>
<h3 data-id="heading-22">ä¸ƒã€æ€§èƒ½ä¸ä¼˜åŒ–ï¼šè—åœ¨ç»†èŠ‚é‡Œçš„â€œé€Ÿåº¦ä¸æ¿€æƒ…â€</h3>
<p>é™¤äº†ä¸Šè¿°æ ¸å¿ƒç‰¹æ€§ï¼ŒJDK 25åœ¨æ€§èƒ½ä¼˜åŒ–æ–¹é¢ä¹Ÿä¸‹è¶³äº†åŠŸå¤«ï¼š</p>
<ol>
<li><strong>GCä¼˜åŒ–</strong>ï¼šZGCå’ŒShenandoah GCè¿›ä¸€æ­¥é™ä½å»¶è¿Ÿï¼Œåœ¨å¤§å †åœºæ™¯ä¸‹è¡¨ç°æ›´ç¨³å®š</li>
<li><strong>JITç¼–è¯‘å™¨å¢å¼º</strong>ï¼šGraalVMç¼–è¯‘å™¨é»˜è®¤å¯ç”¨ï¼Œçƒ­ç‚¹ä»£ç ç¼–è¯‘é€Ÿåº¦æå‡20%</li>
<li><strong>ç±»åŠ è½½ä¼˜åŒ–</strong>ï¼šå‡å°‘å¯åŠ¨æ—¶é—´ï¼Œå¯¹äºå¾®æœåŠ¡å’ŒServerlessåœºæ™¯å°¤ä¸ºé‡è¦</li>
<li><strong>å†…å­˜ä½¿ç”¨ä¼˜åŒ–</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹çš„æ ˆå†…å­˜æŒ‰éœ€åˆ†é…ï¼Œå¤§å¹…é™ä½å†…å­˜å ç”¨</li>
<li><strong>IOæ€§èƒ½æå‡</strong>ï¼šNIOå¤šè·¯å¤ç”¨å™¨ä¼˜åŒ–ï¼Œç½‘ç»œIOååé‡æå‡15%</li>
</ol>
<h3 data-id="heading-23">å…«ã€å¼€å‘è€…ä½“éªŒï¼šä»â€œå®¹å¿â€åˆ°â€œäº«å—â€</h3>
<p>JDK 25è¿˜åœ¨ç»†èŠ‚ä¸Šæå‡å¼€å‘è€…ä½“éªŒï¼š</p>
<ol>
<li><strong>å¢å¼ºçš„ç©ºæŒ‡é’ˆå¼‚å¸¸</strong>ï¼šæä¾›æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œç›´æ¥æŒ‡å‡ºå“ªä¸ªå­—æ®µä¸ºnull</li>
<li><strong>æ”¹è¿›çš„å †æ ˆè·Ÿè¸ª</strong>ï¼šå»æ‰å†—ä½™çš„JDKå†…éƒ¨è°ƒç”¨ï¼Œåªæ˜¾ç¤ºå¼€å‘è€…å…³å¿ƒçš„ä»£ç </li>
<li><strong>æ›´å¥½çš„IDEæ”¯æŒ</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹å’Œç»“æ„åŒ–å¹¶å‘åœ¨ä¸»æµIDEä¸­è·å¾—åŸç”Ÿæ”¯æŒ</li>
<li><strong>æ›´ç®€æ´çš„API</strong>ï¼šæ–°å¢äº†å¤šä¸ªå®ç”¨å·¥å…·ç±»ï¼Œå‡å°‘æ ·æ¿ä»£ç </li>
</ol>
<h3 data-id="heading-24">ä¹ã€å¯¹Javaç”Ÿæ€çš„å½±å“</h3>
<p>JDK 25çš„å‘å¸ƒå°†æ·±åˆ»å½±å“Javaç”Ÿæ€ï¼š</p>
<ol>
<li><strong>æ¡†æ¶å‡çº§</strong>ï¼šSpring 6.2å’ŒQuarkus 3.10å·²å®£å¸ƒå…¨é¢æ”¯æŒJDK 25ç‰¹æ€§ï¼Œå°¤å…¶æ˜¯è™šæ‹Ÿçº¿ç¨‹</li>
<li><strong>å¾®æœåŠ¡é©å‘½</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹å’Œç»“æ„åŒ–å¹¶å‘å°†å¤§å¹…é™ä½å¾®æœåŠ¡çš„èµ„æºæ¶ˆè€—</li>
<li><strong>Serverlessé€‚é…</strong>ï¼šæ›´ä½çš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜å ç”¨ï¼Œä½¿Javaæ›´é€‚åˆServerlessåœºæ™¯</li>
<li><strong>æ•°æ®å¤„ç†åŠ é€Ÿ</strong>ï¼šå‘é‡APIå°†æ¨åŠ¨Javaåœ¨AIå’Œå¤§æ•°æ®é¢†åŸŸçš„åº”ç”¨</li>
<li><strong>è·¨è¯­è¨€åä½œ</strong>ï¼šForeign APIç®€åŒ–äº†ä¸å…¶ä»–è¯­è¨€çš„é›†æˆï¼Œä¿ƒè¿›å¤šè¯­è¨€ç”Ÿæ€èåˆ</li>
</ol>
<h3 data-id="heading-25">åã€å®æˆ˜å»ºè®®ï¼šå¦‚ä½•æ‹¥æŠ±JDK 25</h3>
<p>ä½œä¸ºè€å¸æœºï¼Œç»™å¤§å®¶å‡ ç‚¹è¿ç§»å»ºè®®ï¼š</p>
<ol>
<li><strong>é€æ­¥è¿ç§»</strong>ï¼šå…ˆåœ¨éæ ¸å¿ƒæœåŠ¡ä¸­è¯•ç”¨ï¼ŒéªŒè¯ç¨³å®šæ€§</li>
<li><strong>é‡ç‚¹å…³æ³¨è™šæ‹Ÿçº¿ç¨‹</strong>ï¼šå°†IOå¯†é›†å‹ä»»åŠ¡è¿ç§»åˆ°è™šæ‹Ÿçº¿ç¨‹ï¼Œèƒ½ç«‹ç«¿è§å½±é™ä½èµ„æºæ¶ˆè€—</li>
<li><strong>é‡æ„å¹¶å‘ä»£ç </strong>ï¼šä½¿ç”¨ç»“æ„åŒ–å¹¶å‘æ›¿ä»£ä¼ ç»Ÿçº¿ç¨‹æ± ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§</li>
<li><strong>åˆ©ç”¨è®°å½•æ¨¡å¼</strong>ï¼šç®€åŒ–æ•°æ®å¤„ç†ä»£ç ï¼Œæé«˜å¯è¯»æ€§</li>
<li><strong>æ€§èƒ½æµ‹è¯•</strong>ï¼šåœ¨å®é™…è´Ÿè½½ä¸‹æµ‹è¯•ï¼Œå¯¹æ¯”è¿ç§»å‰åçš„æ€§èƒ½å˜åŒ–</li>
<li><strong>å…³æ³¨ç”Ÿæ€æ”¯æŒ</strong>ï¼šç¡®ä¿ä½¿ç”¨çš„æ¡†æ¶å’Œåº“å·²æ”¯æŒJDK 25</li>
</ol>
<h3 data-id="heading-26">åä¸€ã€æ€»ç»“ï¼šJavaçš„â€œç¬¬äºŒæ˜¥â€</h3>
<p>å…«å¹´å‰ï¼Œæˆ‘æ²¡æƒ³åˆ°Javaä¼šå˜å¾—å¦‚æ­¤â€œå¹´è½»â€ã€‚JDK 25çš„å‘å¸ƒï¼Œæ ‡å¿—ç€Javaä»â€œä¼ ç»Ÿä¼ä¸šçº§è¯­è¨€â€å‘â€œç°ä»£é«˜æ€§èƒ½è¯­è¨€â€çš„å½»åº•è½¬å‹ã€‚</p>
<p>è™šæ‹Ÿçº¿ç¨‹è§£å†³äº†å¹¶å‘çš„æ ¹æœ¬ç—›ç‚¹ï¼Œç»“æ„åŒ–å¹¶å‘ç®€åŒ–äº†å¹¶å‘ç¼–ç¨‹ï¼Œè®°å½•æ¨¡å¼æå‡äº†æ•°æ®å¤„ç†æ•ˆç‡ï¼Œå‘é‡APIè§£é”äº†æ€§èƒ½ä¸Šé™ï¼ŒForeign APIæ‰“ç ´äº†è¯­è¨€å£å’ã€‚è¿™äº›ç‰¹æ€§ç»„åˆåœ¨ä¸€èµ·ï¼Œè®©Javaåœ¨2024å¹´ä¾ç„¶ä¿æŒç€å¼ºå¤§çš„ç«äº‰åŠ›ã€‚</p>
<p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œæ‹¥æŠ±JDK 25ä¸ä»…æ„å‘³ç€æ›´å¥½çš„æ€§èƒ½å’Œå¼€å‘ä½“éªŒï¼Œæ›´æ˜¯è·Ÿä¸ŠæŠ€æœ¯æ½®æµçš„å¿…ç„¶é€‰æ‹©ã€‚ä½œä¸ºä¸€åJavaè€å¸æœºï¼Œæˆ‘å¯¹Javaçš„æœªæ¥å……æ»¡ä¿¡å¿ƒâ€”â€”å®ƒæ­£åœ¨ä»¥æƒŠäººçš„é€Ÿåº¦è¿›åŒ–ï¼Œä¸æ–­é€‚åº”ç°ä»£å¼€å‘çš„éœ€æ±‚ã€‚</p>
<p>æœ€åï¼Œç”¨ä¸€å¥è¯æ€»ç»“JDK 25ï¼š<strong>è¿™ä¸æ˜¯ä¸€æ¬¡æ™®é€šçš„ç‰ˆæœ¬æ›´æ–°ï¼Œè€Œæ˜¯Javaçš„â€œç¬¬äºŒæ˜¥â€ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«å¼‚åœ°ç™»å½•å‘Šè­¦ï¼ç”¨ GitHub Self-Hosted Runner æ‰“é€ â€œé›¶æ‰“æ‰°â€å…¨æ ˆè‡ªåŠ¨åŒ–éƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7579702046954569771</link>    <guid>https://juejin.cn/post/7579702046954569771</guid>    <pubDate>2025-12-04T08:23:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579702046954569771" data-draft-id="7579659550861656106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«å¼‚åœ°ç™»å½•å‘Šè­¦ï¼ç”¨ GitHub Self-Hosted Runner æ‰“é€ â€œé›¶æ‰“æ‰°â€å…¨æ ˆè‡ªåŠ¨åŒ–éƒ¨ç½²"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,GitHub"/> <meta itemprop="datePublished" content="2025-12-04T08:23:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="1024è‚¥å®…"/> <meta itemprop="url" content="https://juejin.cn/user/588993964030574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«å¼‚åœ°ç™»å½•å‘Šè­¦ï¼ç”¨ GitHub Self-Hosted Runner æ‰“é€ â€œé›¶æ‰“æ‰°â€å…¨æ ˆè‡ªåŠ¨åŒ–éƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993964030574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    1024è‚¥å®…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T08:23:36.000Z" title="Thu Dec 04 2025 08:23:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">å‰è¨€</h4>
<p>ä½œä¸ºä¸€ä¸ªå…¨æ ˆå¼€å‘è€…ï¼Œæœ€çˆ½çš„æ—¶åˆ»è«è¿‡äº git push ä¹‹åï¼Œç«¯èµ·å’–å•¡ï¼Œçœ‹ç€ä»£ç è‡ªåŠ¨è·‘é€šæµ‹è¯•ã€æ„å»ºé•œåƒã€å¹¶åœ¨æœåŠ¡å™¨ä¸Šå¹³æ»‘æ›´æ–°ã€‚
ä½†åœ¨å®ç°è¿™ä¸ªç›®æ ‡çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ç»å†äº†ä»â€œæ‰‹åŠ¨æ¬ç –â€åˆ°â€œSSH è‡ªåŠ¨ç™»å½•â€ï¼Œå†åˆ°æœ€ç»ˆâ€œSelf-Hosted Runnerâ€çš„ä¸‰ä¸ªé˜¶æ®µã€‚ç‰¹åˆ«æ˜¯è§£å†³äº†äº‘æœåŠ¡å™¨é¢‘ç¹è¯¯æŠ¥â€œå¼‚åœ°ç™»å½•å®‰å…¨å‘Šè­¦â€çš„ç—›ç‚¹ã€‚</p>
<p>æœ¬æ–‡å°†ä»¥æˆ‘çš„ä¸ªäººå…¨æ ˆé¡¹ç›® Frontyï¼ˆReact + Python FastAPIï¼‰ä¸ºä¾‹ï¼Œåˆ†äº«è¿™å¥—è‡ªåŠ¨åŒ–éƒ¨ç½²ä½“ç³»çš„æ­å»ºè¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-1">ğŸš§ ç¬¬ä¸€é˜¶æ®µï¼šç—›è‹¦çš„æ‰‹åŠ¨æŒ¡</h4>
<p>æœ€åˆï¼Œæˆ‘çš„éƒ¨ç½²æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>æœ¬åœ°ä»£ç å†™å®Œ, Â·git pullÂ·</li>
<li>æ‰“å¼€ç»ˆç«¯, SSHè¿ä¸ŠæœåŠ¡å™¨</li>
<li><code>cd /opt/fronty</code>-&gt;<code>git pull</code></li>
<li><code>npm run build</code>-&gt;<code>docker build</code>-&gt;<code>docker rm</code>-&gt;<code>docker run</code>...</li>
</ol>
<p>åç«¯é¡¹ç›®ä¹Ÿè¦é‡å¤ä¸€éã€‚è¿™ç®€ç›´æ˜¯ä½“åŠ›å’Œè€å¿ƒçš„åŒé‡æŠ˜ç£¨ï¼Œè€Œä¸”ä¸€æ—¦å‘½ä»¤è¾“é”™ï¼ŒæœåŠ¡ç›´æ¥æŒ‚æ‰ã€‚</p>
<h4 data-id="heading-2">ğŸš§ ç¬¬äºŒé˜¶æ®µï¼šGitHub Actions + SSH (æŠ¥è­¦å™¨å“ä¸åœ)</h4>
<p>ä¸ºäº†å·æ‡’ï¼Œæˆ‘é…ç½®äº† GitHub Actionsï¼Œä½¿ç”¨ <code>appleboy/ssh-action</code> æ’ä»¶ã€‚åŸç†æ˜¯æŠŠæœåŠ¡å™¨çš„ SSH ç§é’¥äº¤ç»™ GitHubï¼Œæ¯æ¬¡ Push ä»£ç ï¼ŒGitHub çš„æœåŠ¡å™¨ï¼ˆä½äºç¾å›½ Azure æœºæˆ¿ï¼‰å°±ä¼šè¿œç¨‹ SSH è¿å…¥æˆ‘çš„äº‘æœåŠ¡å™¨æ‰§è¡Œè„šæœ¬ã€‚</p>
<p><strong>éƒ¨ç½²æ˜¯è‡ªåŠ¨åŒ–äº†ï¼Œä½†çƒ¦æ¼æ¥äº†ï¼š</strong>
æ¯æ¬¡éƒ¨ç½²ï¼Œäº‘æœåŠ¡å™¨çš„å®‰å…¨ç³»ç»Ÿéƒ½ä¼šç–¯ç‹‚æŠ¥è­¦ï¼š</p>
<p><em><strong>[äº‘æœåŠ¡å™¨] å¼‚åœ°ç™»å½•å‘Šè­¦ï¼šæ£€æµ‹åˆ°æ‚¨çš„æœåŠ¡å™¨åœ¨ ç¾å›½ æœ‰ root ç”¨æˆ·ç™»å½•...</strong></em></p>
<p>è™½ç„¶æˆ‘çŸ¥é“è¿™æ˜¯ GitHub å¹²çš„ï¼Œä½†çœ‹ç€çº¢è‰²çš„å‘Šè­¦å¿ƒé‡Œæ€»æ˜¯ä¸è¸å®ã€‚è€Œä¸”ä¸ºäº†è®© GitHub èƒ½è¿è¿›æ¥ï¼Œæˆ‘ä¸å¾—ä¸å¼€æ”¾ SSH ç«¯å£ï¼Œè¿™å§‹ç»ˆæ˜¯ä¸ªå®‰å…¨éšæ‚£ã€‚</p>
<h4 data-id="heading-3">ğŸš€ ç¬¬ä¸‰é˜¶æ®µï¼šç»ˆææ–¹æ¡ˆï¼šGitHub Self-Hosted Runner</h4>
<p>ä¸ºäº†å½»åº•è§£å†³å®‰å…¨å‘Šè­¦å’Œç½‘ç»œè¿æ¥é—®é¢˜ï¼Œæˆ‘å†³å®šé‡‡ç”¨ Self-Hosted Runner æ–¹æ¡ˆã€‚</p>
<h5 data-id="heading-4">åŸç†åŒºåˆ«:</h5>
<ul>
<li><strong>SSHæ¨¡å¼:</strong> GitHub ä¸»åŠ¨æ¨ï¼ˆPushï¼‰æŒ‡ä»¤ç»™æœåŠ¡å™¨ã€‚éœ€è¦å¼€é—¨ï¼ˆSSHç«¯å£ï¼‰ï¼Œä¼šæœ‰å¤–éƒ¨ IP è¿å…¥ã€‚</li>
<li><strong>Runneræ¨¡å¼:</strong> åœ¨æœåŠ¡å™¨è£…ä¸€ä¸ªå°åŠ©æ‰‹ï¼ˆRunnerï¼‰ï¼Œå®ƒä¸»åŠ¨å» GitHub æ‹‰ï¼ˆPullï¼‰ä»»åŠ¡ã€‚ä¸éœ€è¦å¼€é—¨ï¼Œæ²¡æœ‰å¤–éƒ¨ IP è¿å…¥ï¼Œå®Œå…¨èµ°å†…éƒ¨é€šé“ã€‚</li>
</ul>
<h5 data-id="heading-5">ğŸ› ï¸ å®æ–½æ­¥éª¤</h5>
<p>æˆ‘çš„é¡¹ç›®ç»“æ„æ˜¯å‰åç«¯åˆ†ç¦»ï¼Œä¸¤ä¸ªç‹¬ç«‹çš„ GitHub ä»“åº“ï¼š<code>frontendProject</code> å’Œ <code>backendProject</code>ã€‚</p>
<h6 data-id="heading-6">1. æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡</h6>
<p>ç”±äºæˆ‘ä¹ æƒ¯ä½¿ç”¨ <code>root</code> è´¦æˆ·ç®¡ç†æœåŠ¡å™¨ï¼ˆä¸ªäººé¡¹ç›®çš„ç‰¹æƒï¼‰ï¼Œè€Œ GitHub Runner é»˜è®¤ä¸å»ºè®® root è¿è¡Œï¼Œè¿™é‡Œæœ‰ä¸ª<strong>å…³é”®å‘</strong>éœ€è¦é¿å¼€ã€‚</p>
<h6 data-id="heading-7">2. å®‰è£… Runner (é‡åˆ°çš„ç½‘ç»œå‘)</h6>
<p>åœ¨ GitHub ä»“åº“ -&gt; Settings -&gt; Actions -&gt; Runners -&gt; New self-hosted runner é¡µé¢ï¼Œå®˜æ–¹æä¾›äº†ä¸‹è½½å‘½ä»¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c2cac5884084108aad1e8399ee1e531~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTAyNOiCpeWuhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765441416&amp;x-signature=tW7zUqqFblYXS65MOZ94BgYwBpU%3D" alt="æˆªå±2025-12-04 15.58.06.png" loading="lazy"/></p>
<p><strong>å‘ç‚¹</strong>ï¼šæœåŠ¡å™¨åœ¨å›½å†…ï¼Œç›´æ¥ <code>curl</code> ä¸‹è½½ GitHub çš„ release åŒ…ç»å¸¸è¶…æ—¶æˆ–è¿æ¥é‡ç½®ã€‚</p>
<p><strong>è§£å†³</strong>ï¼šé‡‡ç”¨â€œç‰©ç†æ¬è¿æ³•â€ã€‚</p>
<ol>
<li>åœ¨æœ¬åœ°ç”µè„‘ï¼ˆç½‘ç»œç¯å¢ƒå¥½ï¼‰ä¸‹è½½å¥½ <code>.tar.gz</code> åŒ…ã€‚</li>
<li>é€šè¿‡äº‘æœåŠ¡å™¨çš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œç›´æ¥æ‹–æ‹½åˆ°æœåŠ¡å™¨ <code>/opt/runner-projectName</code> ç›®å½•ã€‚</li>
<li>è§£å‹ï¼š<code>tar xzf ./actions-runner-linux-x64-xxxx.tar.gz</code>ã€‚</li>
</ol>
<h6 data-id="heading-8">3. é…ç½®ä¸æ³¨å†Œ (é‡åˆ°çš„æƒé™å‘)</h6>
<p>åœ¨é…ç½®æ—¶ï¼Œå¦‚æœç›´æ¥è¿è¡Œ <code>./config.sh</code>ï¼Œä¼šæŠ¥é”™ä¸è®©ç”¨ rootã€‚å¿…é¡»åŠ ä¸Šç¯å¢ƒå˜é‡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…è®¸ Root ç”¨æˆ·è¿è¡Œ Runner</span>
<span class="hljs-built_in">export</span> RUNNER_ALLOW_RUNASROOT=1

<span class="hljs-comment"># æ‰§è¡Œé…ç½® (URL å’Œ Token ä» GitHub é¡µé¢è·å–)</span>
./config.sh --url https://github.com/yourname/projectName --token XXXXXX
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9ecd225c8b64d61adbc7c6cabb847e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTAyNOiCpeWuhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765441416&amp;x-signature=YRQ0wAPa%2FnFi0yNL3bCG0epVInk%3D" alt="æˆªå±2025-12-04 16.05.14.png" loading="lazy"/></p>
<p>é…ç½®è¿‡ç¨‹ä¸­ï¼Œæˆ‘ç»™åç«¯çš„ Runner èµ·åä¸º <code>runner-backendProjectName</code>ï¼Œå‰ç«¯çš„èµ·åä¸º <code>runner-frontendProjectName</code>ï¼Œåˆ†ç›®å½•éƒ¨ç½²ï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
<p>æœ€åå®‰è£…ä¸ºç³»ç»ŸæœåŠ¡ï¼Œç¡®ä¿å¼€æœºè‡ªå¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">./svc.sh install
./svc.sh start
</code></pre>
<p>çœ‹åˆ° <code>Active: active (running)</code> çš„é‚£ä¸€åˆ»ï¼Œæ„Ÿè§‰ç¨³äº†ã€‚</p>
<h6 data-id="heading-9">4. ç¼–å†™ Workflow è„šæœ¬</h6>
<p>æ—¢ç„¶ Runner å·²ç»åœ¨æœ¬åœ°äº†ï¼Œè„šæœ¬é‡Œå°±ä¸éœ€è¦ SSH è¿æ¥äº†ï¼Œç›´æ¥å†™ Shell å‘½ä»¤å³å¯ã€‚</p>
<p><strong>åç«¯éƒ¨ç½²è„šæœ¬ .github/workflows/deploy.ymlï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Backend</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-comment"># branch name</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">"master"</span> ]

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">deploy:</span>
    <span class="hljs-comment"># [å…³é”®] æŒ‡å®šä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">self-hosted</span>

    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">on</span> <span class="hljs-string">Local</span> <span class="hljs-string">Server</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          echo "ğŸš€ Runner æ¥å•ï¼Œå¼€å§‹éƒ¨ç½²åç«¯..."
</span>          
          <span class="hljs-comment"># ç›´æ¥è¿›å…¥æœåŠ¡å™¨ç›®å½•æ“ä½œ</span>
          <span class="hljs-string">cd</span> <span class="hljs-string">/opt/projectName</span> <span class="hljs-string">||</span> <span class="hljs-string">exit</span>
          
          <span class="hljs-comment"># æ‹‰å–æœ€æ–°ä»£ç </span>
          <span class="hljs-string">git</span> <span class="hljs-string">fetch</span> <span class="hljs-string">--all</span>
          <span class="hljs-string">git</span> <span class="hljs-string">reset</span> <span class="hljs-string">--hard</span> <span class="hljs-string">origin/master</span>
          
          <span class="hljs-comment"># æ„å»º Docker é•œåƒ</span>
          <span class="hljs-string">DOCKER_BUILDKIT=1</span> <span class="hljs-string">docker</span> <span class="hljs-string">build</span> <span class="hljs-string">-t</span> <span class="hljs-string">projectName-app:latest</span> <span class="hljs-string">.</span>
          
          <span class="hljs-comment"># é‡å¯å®¹å™¨</span>
          <span class="hljs-string">docker</span> <span class="hljs-string">rm</span> <span class="hljs-string">-f</span> <span class="hljs-string">projectName-app</span> <span class="hljs-string">||</span> <span class="hljs-literal">true</span>
          <span class="hljs-string">docker</span> <span class="hljs-string">run</span> <span class="hljs-string">-d</span> <span class="hljs-string">\</span>
            <span class="hljs-string">--name</span> <span class="hljs-string">projectName-app</span> <span class="hljs-string">\</span>
            <span class="hljs-string">-p</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:projectPort:projectPort</span> <span class="hljs-string">\</span>
            <span class="hljs-string">--restart</span> <span class="hljs-string">unless-stopped</span> <span class="hljs-string">\</span>
            <span class="hljs-string">-e</span> <span class="hljs-string">PYTHONPATH=/app</span> <span class="hljs-string">\</span>
            <span class="hljs-string">book-app:latest</span>
          
          <span class="hljs-comment"># æ¸…ç†åƒåœ¾</span>
          <span class="hljs-string">docker</span> <span class="hljs-string">image</span> <span class="hljs-string">prune</span> <span class="hljs-string">-f</span>
          <span class="hljs-string">echo</span> <span class="hljs-string">"âœ… åç«¯éƒ¨ç½²å®Œæˆï¼"</span>
</code></pre>
<p>å‰ç«¯çš„è„šæœ¬é€»è¾‘ç±»ä¼¼ï¼Œåªæ˜¯åŠ ä¸Šäº† <code>npm run build</code> å’Œ Nginx å®¹å™¨çš„å¯åŠ¨ï¼ˆä½¿ç”¨ <code>--network host</code> æ¨¡å¼é…åˆå®¿ä¸»æœº Nginx åä»£ï¼‰ã€‚</p>
<h4 data-id="heading-10">ğŸ‰ æœ€ç»ˆæ•ˆæœ</h4>
<p>ç°åœ¨ï¼Œæˆ‘åœ¨æœ¬åœ° VSCode æ”¹å®Œä»£ç ï¼š</p>
<ol>
<li><code>git push</code>ã€‚</li>
<li>GitHub Actions é¡µé¢ç«‹å³æ˜¾ç¤ºä»»åŠ¡è¢« <code>runner-projectName</code> è®¤é¢†ã€‚</li>
<li>æœåŠ¡å™¨æ‚„æ‚„åœ°åœ¨åå°å®Œæˆäº†æ„å»ºå’Œé‡å¯ã€‚</li>
<li><strong>äº‘æœåŠ¡å™¨æ²¡æœ‰ä»»ä½•å‘Šè­¦ï¼</strong> å› ä¸ºå…¨ç¨‹æ²¡æœ‰å¤–éƒ¨ SSH è¿æ¥ã€‚</li>
</ol>
<h4 data-id="heading-11">ğŸ’¡ æ€»ç»“ä¸æ”¶è·</h4>
<ol>
<li><strong>å®‰å…¨æ„Ÿ:</strong> å…³é—­äº† SSH å¯†ç ç™»å½•ï¼Œç”šè‡³å¯ä»¥é™åˆ¶ SSH ä»…é™å†…ç½‘è®¿é—®ï¼ŒæœåŠ¡å™¨å›ºè‹¥é‡‘æ±¤ã€‚</li>
<li><strong>é€Ÿåº¦å¿«:</strong> å› ä¸º Runner å°±åœ¨æœåŠ¡å™¨æœ¬æœºï¼Œ<code>git pull</code> å’Œ <code>docker build</code> éƒ½æ˜¯åˆ©ç”¨æœåŠ¡å™¨å¸¦å®½å’Œ CPUï¼Œçœå»äº† SSH è¿œç¨‹ä¼ è¾“çš„å¼€é”€ã€‚</li>
<li><strong>çµæ´»æ€§:</strong> æƒ³æ€ä¹ˆæ”¹è„šæœ¬å°±æ€ä¹ˆæ”¹ï¼Œæ‹¥æœ‰å®Œå…¨çš„ Root æƒé™æ§åˆ¶ã€‚</li>
</ol>
<p>å¦‚æœä½ ä¹Ÿæ˜¯ä¸ªäººå¼€å‘è€…ï¼Œæ­£åœ¨å¿å—äº‘æœåŠ¡å•†çš„å¼‚åœ°ç™»å½•å‘Šè­¦ï¼Œå¼ºçƒˆå»ºè®®å°è¯• Self-Hosted Runnerï¼Œè¿™ç»å¯¹æ˜¯æå‡å¹¸ç¦æ„Ÿçš„æœ€ä½³å®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Compose Brush API ç®€å•ä½¿ç”¨å®æˆ˜ â€”â€” æ–°æ‰‹æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579813945600327720</link>    <guid>https://juejin.cn/post/7579813945600327720</guid>    <pubDate>2025-12-04T09:22:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579813945600327720" data-draft-id="7579811819666407476" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Compose Brush API ç®€å•ä½¿ç”¨å®æˆ˜ â€”â€” æ–°æ‰‹æŒ‡å—"/> <meta itemprop="keywords" content="Android Jetpack,Kotlin,Android"/> <meta itemprop="datePublished" content="2025-12-04T09:22:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QING618"/> <meta itemprop="url" content="https://juejin.cn/user/339115460529117"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Compose Brush API ç®€å•ä½¿ç”¨å®æˆ˜ â€”â€” æ–°æ‰‹æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/339115460529117/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QING618
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T09:22:41.000Z" title="Thu Dec 04 2025 09:22:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0"><a href="https://juejin.cn/post/7579785426266128384" target="_blank" title="https://juejin.cn/post/7579785426266128384">Jetpack Compose Brush API è¯¦è§£ â€”â€” æ–°æ‰‹æŒ‡å—</a></h3>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨ Jetpack Compose ä¸­å®ç°æ–‡æœ¬æ¸å˜æ•ˆæœçš„æ–¹æ³•ï¼Œåˆ©ç”¨Â <code>Brush</code>Â APIæä¾›çš„æ›´ç¬¦åˆ Compose ä¹ æƒ¯ç”¨æ³•çš„æ–°æ–¹æ³•ï¼Œåœ¨Â <code>TextStyle</code>Â å’ŒÂ <code>SpanStyle</code>Â ä¸­ä½¿ç”¨Â <code>Brush</code>ç­‰ï¼Œè¿™ä½¿å¾—ä¸ºæ–‡æœ¬æ·»åŠ å¤æ‚çš„é¢œè‰²å˜åŒ–å˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ã€‚</p>
<h4 data-id="heading-1">1. Brush ä½¿ç”¨ drawWithCache ä¿®é¥°ç¬¦ â€œemoji" è¡¨æƒ…ä¹Ÿä¼šè¢«ç»˜åˆ¶</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">Text(
    text = <span class="hljs-string">"Jetpack Compose â¤"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp)
        .graphicsLayer(alpha = <span class="hljs-number">0.99f</span>).drawWithCache {
                <span class="hljs-keyword">val</span> brush = Brush.horizontalGradient(rainbowColors)
                onDrawWithContent {
                    drawContent()
                    drawRect(brush, blendMode = BlendMode.SrcAtop)
            }
        }
)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/476330a2e66545af941e110386d8ab23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUUlORzYxOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765444961&amp;x-signature=0V2vKDa4MGfqbvmjcaG8IOZuwcQ%3D" alt="WeChat36f160540052daca708c0b0ec48675aa.jpg" loading="lazy"/></p>
<h4 data-id="heading-2">2. Brush ç®€å•ä½¿ç”¨</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">Text(
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp),
    text = <span class="hljs-string">"Jetpack Compose â¤"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    style = TextStyle(
        brush = Brush.linearGradient(
            colors = rainbowColors
        )
    )
)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe58122f35224882a560fa27c58c9d9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUUlORzYxOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765444961&amp;x-signature=%2F3S2tcK2t%2BtLoUWzM09YrgYFrAM%3D" alt="WeChat24340d2a744f38f40496c808b1c2b50d.jpg" loading="lazy"/></p>
<h4 data-id="heading-3">3. Brush ç®€å•ä½¿ç”¨2(æ¨ªå‘ã€ç«–å‘ã€å¾„å‘æ¸å˜ã€æ‰‡å½¢)</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ¨ªå‘ç¬”åˆ·</span>
Text(
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp),
    text = <span class="hljs-string">"Jetpack Compose"</span> +
            <span class="hljs-string">"\nWhere Design Meets Dev in Real-Time"</span> +
            <span class="hljs-string">"\n Smart IDE,"</span> +
            <span class="hljs-string">"\n bringing AI into"</span> +
            <span class="hljs-string">"\n your workflow"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    style = TextStyle(
        brush = Brush.horizontalGradient(
            colors = rainbowColors2
        )
    )
)

<span class="hljs-comment">// ç«–å‘ç¬”åˆ·</span>
Text(
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp),
    text = <span class="hljs-string">"Jetpack Compose"</span> +
            <span class="hljs-string">"\nWhere Design Meets Dev in Real-Time"</span> +
            <span class="hljs-string">"\n Smart IDE,"</span> +
            <span class="hljs-string">"\n bringing AI into"</span> +
            <span class="hljs-string">"\n your workflow"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    style = TextStyle(
        brush = Brush.verticalGradient(
            colors = rainbowColors2
        )
    )
)

<span class="hljs-comment">// æ”¾å°„ç¬”åˆ·</span>
Text(
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp),
    text = <span class="hljs-string">"Jetpack Compose"</span> +
            <span class="hljs-string">"\nWhere Design Meets Dev in Real-Time"</span> +
            <span class="hljs-string">"\n Smart IDE,"</span> +
            <span class="hljs-string">"\n bringing AI into"</span> +
            <span class="hljs-string">"\n your workflow"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    style = TextStyle(
        brush = Brush.radialGradient(
            colors = rainbowColors2
        )
    )
)

<span class="hljs-comment">// æ‰«æ ç¬”åˆ·</span>
Text(
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp),
    text = <span class="hljs-string">"Jetpack Compose"</span> +
            <span class="hljs-string">"\nWhere Design Meets Dev in Real-Time"</span> +
            <span class="hljs-string">"\n Smart IDE,"</span> +
            <span class="hljs-string">"\n bringing AI into"</span> +
            <span class="hljs-string">"\n your workflow"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    style = TextStyle(
        brush = Brush.sweepGradient(
            colors = rainbowColors2
        )
    )
)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47da363298c346d8993ade5f991bb9d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUUlORzYxOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765444961&amp;x-signature=cf7kqw%2BrnXJiwrqLeM4CmrqOaXo%3D" alt="WeChat3e81629ac3a04d51d480999bb1680a52.jpg" loading="lazy"/></p>
<h4 data-id="heading-4">4. Brush å•è‰²</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å•è‰²ç¬”åˆ·</span>
Text(
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp),
    text = <span class="hljs-string">"Jetpack Compose"</span> +
            <span class="hljs-string">"\nWhere Design Meets Dev in Real-Time"</span> +
            <span class="hljs-string">"\n Smart IDE,"</span> +
            <span class="hljs-string">"\n bringing AI into"</span> +
            <span class="hljs-string">"\n your workflow"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    style = TextStyle(
        brush = SolidColor(Color.Green)
    )
)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/274708cc777d4172980cfb94c404a84b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUUlORzYxOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765444961&amp;x-signature=zIeoiHX46ORP6M39AY9Vm4N60Vc%3D" alt="WeChatdf65993230110db97f5cf119334175b9.jpg" loading="lazy"/></p>
<h4 data-id="heading-5">5. Brushè‡ªå®šä¹‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">Text(
    modifier = Modifier.padding(start = <span class="hljs-number">16.</span>dp, top = <span class="hljs-number">24.</span>dp, end = <span class="hljs-number">16.</span>dp),
    text = <span class="hljs-string">"Jetpack Compose"</span> +
            <span class="hljs-string">"\nWhere Design Meets Dev in Real-Time"</span> +
            <span class="hljs-string">"\n Smart IDE,"</span> +
            <span class="hljs-string">"\n bringing AI into"</span> +
            <span class="hljs-string">"\n your workflow"</span>,
    fontSize = <span class="hljs-number">18.</span>sp,
    style = TextStyle(
        brush = ScaledRepetitionBrush(Brush.linearGradient(
            colors = rainbowColors,
            tileMode = TileMode.Repeated
        ) <span class="hljs-keyword">as</span> ShaderBrush)
    )
)


<span class="hljs-comment">//è‡ªå®šä¹‰ç¬”åˆ·</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ScaledRepetitionBrush</span>(<span class="hljs-keyword">val</span> shaderBrush: ShaderBrush): ShaderBrush() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createShader</span><span class="hljs-params">(size: <span class="hljs-type">Size</span>)</span></span>: Shader {
        <span class="hljs-keyword">return</span> shaderBrush.createShader(size / <span class="hljs-number">4f</span>)
    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c41f230259774693806c93728c77c917~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUUlORzYxOA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765444961&amp;x-signature=krbmlQ9rTa4eBMOqURxgMg4auvs%3D" alt="WeChat5ea3f166f84221462ff644dac3ce7396.jpg" loading="lazy"/></p>
<h4 data-id="heading-6">è‰²å€¼é›†</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> rainbowColors = listOf(
    Color(<span class="hljs-number">0xFFFF0000</span>),<span class="hljs-comment">// Red</span>
    Color(<span class="hljs-number">0xFFFF7F00</span>),<span class="hljs-comment">// Orange</span>
    Color(<span class="hljs-number">0xFFFFFF00</span>),<span class="hljs-comment">// Yellow</span>
    Color(<span class="hljs-number">0xFF00FF00</span>),<span class="hljs-comment">// Green</span>
    Color(<span class="hljs-number">0xFF00FFFF</span>),<span class="hljs-comment">// Cyan</span>
    Color(<span class="hljs-number">0xFF0000FF</span>),<span class="hljs-comment">// Blue</span>
    Color(<span class="hljs-number">0xFF8B00FF</span>)<span class="hljs-comment">// Purple (or Violet)</span>
)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Linuxç³»ç»Ÿç¦»çº¿å®‰è£…Dockerå®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579814711853432842</link>    <guid>https://juejin.cn/post/7579814711853432842</guid>    <pubDate>2025-12-04T10:22:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579814711853432842" data-draft-id="7579832186879836210" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Linuxç³»ç»Ÿç¦»çº¿å®‰è£…Dockerå®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Docker"/> <meta itemprop="datePublished" content="2025-12-04T10:22:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Linuxç³»ç»Ÿç¦»çº¿å®‰è£…Dockerå®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T10:22:17.000Z" title="Thu Dec 04 2025 10:22:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¼ä¸šç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒæœåŠ¡å™¨å¾€å¾€å¤„äºå†…ç½‘éš”ç¦»çŠ¶æ€ï¼Œæ— æ³•ç›´æ¥è®¿é—®äº’è”ç½‘ã€‚è¿™ç§ç¯å¢ƒä¸‹ï¼Œç¦»çº¿å®‰è£…Dockeræˆä¸ºäº†ä¸€é¡¹å¿…å¤‡æŠ€èƒ½ã€‚æˆ‘æœ€è¿‘æœ‰åœ¨ubuntu24ä¸Šç¦»çº¿éƒ¨ç½²ï¼Œæ­£å¥½åä¸‹è®°å½•ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»Linuxç³»ç»Ÿä¸‹ç¦»çº¿å®‰è£…Dockerçš„å®Œæ•´æµç¨‹ï¼Œæ¶µç›–å‡†å¤‡å·¥ä½œã€å®‰è£…æ­¥éª¤ã€å¸¸è§é—®é¢˜åŠä¼˜åŒ–é…ç½®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dac2f7d2708430992f0bdc419d94aac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765448537&amp;x-signature=olJ1g1KOwiJkmj1X%2B46blKW3FpQ%3D" alt="v2-a62710d971c47422f25eca254b2add8a_1440w.png" loading="lazy"/></p>
<p>v2-a62710d971c47422f25eca254b2add8a_1440w.png</p>
<h2 data-id="heading-0">ç¦»çº¿å®‰è£…Docker</h2>
<h3 data-id="heading-1">ä¸‹è½½å®‰è£…åŒ…</h3>
<p>ç¦»çº¿å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdownload.docker.com%2Flinux%2Fstatic%2Fstable%2F" target="_blank" title="https://download.docker.com/linux/static/stable/" ref="nofollow noopener noreferrer">download.docker.com/linux/statiâ€¦</a> <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75c4e5acc7a3450183bdbb244dcf4ce6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765448537&amp;x-signature=PBLjh1mCt6iK5R9FUetPc9DtZdM%3D" alt="_20251204_125757.png" loading="lazy"/> <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c05b1e725f54bc7a6fabee6af5e725a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765448537&amp;x-signature=qtYJ6vZaay11rOViLtDPC7SlM1M%3D" alt="ScreenShot_2025-12-04_141350_297.png" loading="lazy"/> æˆ‘æ­¤å¤„ä¸‹è½½çš„æ˜¯ <code>x86_64/docker-28.4.0.tgz</code></p>
<h3 data-id="heading-2">å‡†å¤‡å®‰è£…æ–‡ä»¶</h3>
<ul>
<li>åˆ›å»º docker.service</li>
</ul>
<p>æˆ‘ä»¬å°†ä¸‹è½½åçš„æ–‡ä»¶æ”¾åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šï¼Œåœ¨å®‰è£…åŒ…åŒçº§ç›®å½•ä¸‹åˆ›å»º<code>docker.service</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=Docker Application Container Engine
<span class="hljs-attr">Documentation</span>=https://docs.docker.com
<span class="hljs-attr">After</span>=network-<span class="hljs-literal">on</span>line.target firewalld.service
<span class="hljs-attr">Wants</span>=network-<span class="hljs-literal">on</span>line.target

<span class="hljs-section">[Service]</span>
<span class="hljs-attr">Type</span>=notify
<span class="hljs-comment"># the default is not to use systemd for cgroups because the delegate issues still</span>
<span class="hljs-comment"># exists and systemd currently does not support the cgroup feature set required</span>
<span class="hljs-comment"># for containers run by docker</span>
<span class="hljs-attr">ExecStart</span>=/usr/bin/dockerd
<span class="hljs-attr">ExecReload</span>=/bin/kill -s HUP <span class="hljs-variable">$MAINPID</span>
<span class="hljs-comment"># Having non-zero Limit*s causes performance problems due to accounting overhead</span>
<span class="hljs-comment"># in the kernel. We recommend using cgroups to do container-local accounting.</span>
<span class="hljs-attr">LimitNOFILE</span>=infinity
<span class="hljs-attr">LimitNPROC</span>=infinity
<span class="hljs-attr">LimitCORE</span>=infinity
<span class="hljs-comment"># Uncomment TasksMax if your systemd version supports it.</span>
<span class="hljs-comment"># Only systemd 226 and above support this version.</span>
<span class="hljs-comment">#TasksMax=infinity</span>
<span class="hljs-attr">TimeoutStartSec</span>=<span class="hljs-number">0</span>
<span class="hljs-comment"># set delegate yes so that systemd does not reset the cgroups of docker containers</span>
<span class="hljs-attr">Delegate</span>=<span class="hljs-literal">yes</span>
<span class="hljs-comment"># kill only the docker process, not all processes in the cgroup</span>
<span class="hljs-attr">KillMode</span>=process
<span class="hljs-comment"># restart the docker process if it exits prematurely</span>
<span class="hljs-attr">Restart</span>=<span class="hljs-literal">on</span>-failure
<span class="hljs-attr">StartLimitBurst</span>=<span class="hljs-number">3</span>
<span class="hljs-attr">StartLimitInterval</span>=<span class="hljs-number">60</span>s

<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=multi-user.target
</code></pre>
<p>æ­¤æ–‡ä»¶æœ‰äº›æ—§ç‰ˆæœ¬ä¸å…¼å®¹</p>
<ul>
<li>åˆ›å»ºå®‰è£…è„šæœ¬</li>
</ul>
<p>åœ¨å®‰è£…åŒ…åŒçº§ç›®å½•ä¸‹åˆ›å»º<code>instll.sh</code> è„šæœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/sh</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'è§£å‹taråŒ…......'</span>
tar -xvf <span class="hljs-variable">$1</span> --overwrite
<span class="hljs-built_in">echo</span> <span class="hljs-string">'å°†dockerç›®å½•ç§»åˆ°/usr/binç›®å½•ä¸‹.....'</span>
<span class="hljs-built_in">cp</span> docker/* /usr/bin/
<span class="hljs-built_in">echo</span> <span class="hljs-string">'å°†docker.service ç§»åˆ°/etc/systemd/system/ ç›®å½•.....'</span>
<span class="hljs-built_in">cp</span> docker.service /etc/systemd/system/
<span class="hljs-built_in">echo</span> <span class="hljs-string">'æ·»åŠ æ–‡ä»¶æƒé™.....'</span>
<span class="hljs-built_in">chmod</span> +x /etc/systemd/system/docker.service
<span class="hljs-built_in">echo</span> <span class="hljs-string">'é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶.....'</span>
systemctl daemon-reload
<span class="hljs-built_in">echo</span> <span class="hljs-string">'å¯åŠ¨docker.....'</span>
systemctl start docker
<span class="hljs-built_in">echo</span> <span class="hljs-string">'è®¾ç½®å¼€æœºè‡ªå¯.....'</span>
systemctl <span class="hljs-built_in">enable</span> docker.service
<span class="hljs-built_in">echo</span> <span class="hljs-string">'dockerå®‰è£…æˆåŠŸ.....'</span>
docker -v
</code></pre>
<ul>
<li>åˆ›å»ºå¸è½½è„šæœ¬</li>
</ul>
<p>åœ¨å®‰è£…åŒ…åŒçº§ç›®å½•ä¸‹åˆ›å»º<code>uninstall.sh</code> è„šæœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/sh</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'åˆ é™¤docker.service......'</span>
<span class="hljs-built_in">rm</span> -f /etc/systemd/system/docker.service
<span class="hljs-built_in">echo</span> <span class="hljs-string">'åˆ é™¤dockeræ–‡ä»¶......'</span>
<span class="hljs-comment"># åˆ é™¤ docker</span>
sudo <span class="hljs-built_in">rm</span> -rf /usr/bin/docker*
<span class="hljs-comment"># åˆ é™¤ containerd</span>
sudo <span class="hljs-built_in">rm</span> -rf /usr/bin/containerd*
<span class="hljs-comment"># åˆ é™¤ docker è¿è¡Œæ—¶ ID</span>
sudo <span class="hljs-built_in">rm</span> -rf /var/run/docker*
<span class="hljs-comment"># å¸è½½ docker-compose</span>
sudo <span class="hljs-built_in">rm</span> -rf /usr/local/bin/docker-compose
sudo <span class="hljs-built_in">rm</span> -rf /var/lib/docker*
sudo <span class="hljs-built_in">rm</span> -rf /var/lib/containerd*
<span class="hljs-built_in">echo</span> <span class="hljs-string">'é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶'</span>
systemctl daemon-reload
<span class="hljs-built_in">echo</span> <span class="hljs-string">'å¸è½½æˆåŠŸ...'</span>
</code></pre>
<p>åˆ›å»ºå®Œä¹‹åç»™è„šæœ¬èµ‹æƒé™</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x  install.sh uninstall.sh
</code></pre>
<h3 data-id="heading-3">å®‰è£…</h3>
<p>æ‰§è¡Œéƒ¨ç½²è„šæœ¬install.shï¼Œä½¿ç”¨rootæƒé™æ‰§è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash">sudo ./install.sh  docker-28.4.0.tgz
</code></pre>
<p>å‡ºç°å¦‚ä¸‹ä¿¡æ¯åˆ™ä»£è¡¨æˆåŠŸ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa20ceda0c5c47f2826e8a9c09bac826~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765448537&amp;x-signature=3sNoVQ8iGAr%2BMVz%2FGxmUQRyl3tc%3D" alt="_20251204_131322.png" loading="lazy"/></p>
<p>_20251204_131322.png</p>
<p>å¦‚æœä¸æƒ³ç”¨è„šæœ¬å®‰è£…çš„å®¶äººä»¬å¯ä»¥æŒ¨æ¡æ‰§è¡Œè„šæœ¬ä¸­çš„å‘½ä»¤è¿›è¡Œå®‰è£…</p>
<h3 data-id="heading-4">æµ‹è¯•</h3>
<p>æˆ‘ä»¬å¯ä»¥ä»åˆ«çš„æœåŠ¡å™¨ä¸Šcopyä¸€ä¸ªé•œåƒtaræ–‡ä»¶è¿‡æ¥ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†é•œåƒä¿å­˜æœªtaræ–‡ä»¶</p>
<pre><code class="hljs">docker save -o nginx.tar nginx:1.21.5 
</code></pre>
<p>æ‰§è¡Œå®Œä¹‹åä¼šæœ‰ä¸€ä¸ªnginx.taræ–‡ä»¶ï¼Œå°†æ­¤æ–‡ä»¶æ‹·è´åˆ°æˆ‘ä»¬åˆšåˆšå®‰è£…äº†dockerçš„æœåŠ¡å™¨ä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åŠ è½½é•œåƒ</p>
<pre><code class="hljs language-css" lang="css">sudo docker load -<span class="hljs-selector-tag">i</span> nginx<span class="hljs-selector-class">.tar</span>
</code></pre>
<p>åŠ è½½å®Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹åç§°æŸ¥çœ‹åˆ°é•œåƒäº†</p>
<pre><code class="hljs">sudo docker images
</code></pre>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®¹å™¨æœåŠ¡</p>
<pre><code class="hljs language-arduino" lang="arduino">sudo docker run -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> nginx:<span class="hljs-number">1.21</span><span class="hljs-number">.5</span> 
</code></pre>
<p>å¯åŠ¨ä¹‹åæˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹æœåŠ¡äº†ã€‚</p>
<p>åˆ°æ­¤ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜çš„è¯è¯´æ˜æˆ‘ä»¬ç¦»çº¿å®‰è£…dockeræˆåŠŸäº†</p>
<h2 data-id="heading-5">é…ç½®Dockerç”¨æˆ·ç»„</h2>
<p>Docker åˆ©ç”¨ Linux çš„ç”¨æˆ·å’Œç»„æƒé™æ¥ç®¡ç†å¯¹ Docker å®ˆæŠ¤è¿›ç¨‹çš„è®¿é—®æƒé™ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰ root ç”¨æˆ·å’Œå±äº docker ç”¨æˆ·ç»„çš„ç”¨æˆ·æ‰è¢«å…è®¸è®¿é—® Docker å®ˆæŠ¤è¿›ç¨‹ã€‚åœ¨ Linux ç³»ç»Ÿä¸Šä½¿ç”¨ Docker æ—¶ï¼Œå¦‚æœæ‚¨å°šæœªé…ç½® docker ç”¨æˆ·ç»„ï¼Œé‚£ä¹ˆä½œä¸ºé root ç”¨æˆ·æ‰§è¡Œ Docker ç›¸å…³å‘½ä»¤å°†è¦æ±‚ä½¿ç”¨ sudo æ¥æå‡æƒé™ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒDocker åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¼šåˆ›å»ºä¸€ä¸ªåä¸º docker çš„ç”¨æˆ·ç»„ï¼Œç”¨äºç®¡ç† Docker å®¹å™¨ã€‚</p>
<ul>
<li>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ docker ç”¨æˆ·ç»„ï¼š</li>
</ul>

<pre><code class="hljs language-csharp" lang="csharp">getent <span class="hljs-keyword">group</span> docker
</code></pre>
<ul>
<li>å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºdockerç”¨æˆ·ç»„</li>
</ul>

<pre><code class="hljs">sudo groupadd docker
</code></pre>
<ul>
<li>å°†ç”¨æˆ·æ·»åŠ åˆ° Docker ç”¨æˆ·ç»„</li>
</ul>

<pre><code class="hljs">sudo usermod -aG docker your_username
</code></pre>
<p>æˆ–è€…</p>
<pre><code class="hljs language-css" lang="css">sudo gpasswd -<span class="hljs-selector-tag">a</span> your_username docker
</code></pre>
<ul>
<li>ä¸ºäº†ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°ç”¨æˆ·ç»„ã€‚</li>
</ul>

<pre><code class="hljs">newgrp docker
</code></pre>
<h2 data-id="heading-6">docker-composeå®‰è£…</h2>
<blockquote>
<p>Compose é¡¹ç›®æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œè´Ÿè´£å®ç°å¯¹ Docker å®¹å™¨é›†ç¾¤çš„å¿«é€Ÿç¼–æ’ã€‚ä½¿ç”¨å‰é¢ä»‹ç»çš„Dockerfileæˆ‘ä»¬å¾ˆå®¹æ˜“å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ã€‚ç„¶è€Œåœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°éœ€è¦å¤šä¸ªå®¹å™¨ç›¸äº’é…åˆæ¥å®ŒæˆæŸé¡¹ä»»åŠ¡çš„æƒ…å†µã€‚ä¾‹å¦‚è¦å®ç°ä¸€ä¸ª Web é¡¹ç›®ï¼Œé™¤äº† Web æœåŠ¡å®¹å™¨æœ¬èº«ï¼Œå¾€å¾€è¿˜éœ€è¦å†åŠ ä¸Šåç«¯çš„æ•°æ®åº“æœåŠ¡å®¹å™¨ï¼›å†æ¯”å¦‚åœ¨åˆ†å¸ƒå¼åº”ç”¨ä¸€èˆ¬åŒ…å«è‹¥å¹²ä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡ä¸€èˆ¬éƒ½ä¼šéƒ¨ç½²å¤šä¸ªå®ä¾‹ã€‚å¦‚æœæ¯ä¸ªæœåŠ¡éƒ½è¦æ‰‹åŠ¨å¯åœï¼Œé‚£ä¹ˆæ•ˆç‡ä¹‹ä½ã€ç»´æŠ¤é‡ä¹‹å¤§å¯æƒ³è€ŒçŸ¥ã€‚è¿™æ—¶å€™å°±éœ€è¦ä¸€ä¸ªå·¥å…·èƒ½å¤Ÿç®¡ç†ä¸€ç»„ç›¸å…³è”çš„çš„åº”ç”¨å®¹å™¨ï¼Œè¿™å°±æ˜¯Docker Composeã€‚</p>
</blockquote>
<p>ä»githubä¸Šä¸‹è½½docker-composeäºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…</p>
<ul>
<li>ä¸‹è½½æœ€æ–°ç‰ˆçš„docker-composeæ–‡ä»¶</li>
</ul>
<p>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.docker.com%2Fcompose%2Finstall%2F" target="_blank" title="https://docs.docker.com/compose/install/" ref="nofollow noopener noreferrer">docs.docker.com/compose/insâ€¦</a></p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdocker%2Fcompose%2Freleases%2Fdownload%2Fv2.5.0%2Fdocker-compose-linux-x86_64" target="_blank" title="https://github.com/docker/compose/releases/download/v2.5.0/docker-compose-linux-x86_64" ref="nofollow noopener noreferrer">github.com/docker/compâ€¦</a></p>
<ul>
<li>æ·»åŠ å¯æ‰§è¡Œæƒé™</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/local/bin/
<span class="hljs-built_in">mv</span> docker-compose-linux-x86_64 docker-compose
sudo <span class="hljs-built_in">chmod</span> +x docker-compose
</code></pre>
<ul>
<li>æµ‹è¯•å®‰è£…ç»“æœ</li>
</ul>

<pre><code class="hljs language-css" lang="css">docker-compose <span class="hljs-attr">--version</span>
Docker Compose version v2.<span class="hljs-number">5.0</span>
</code></pre>
<h2 data-id="heading-7">ç»“è¯­</h2>
<p>ç¦»çº¿å®‰è£…Dockerè™½ç„¶æ¯”åœ¨çº¿å®‰è£…å¤æ‚ï¼Œä½†æŒæ¡äº†æ­£ç¡®çš„æ–¹æ³•å’Œå·¥å…·åï¼Œå¯ä»¥å¤§å¤§æé«˜åœ¨å†…ç½‘ç¯å¢ƒéƒ¨ç½²çš„æ•ˆç‡ã€‚å…³é”®æ˜¯è¦åšå¥½å‰æœŸè§„åˆ’ï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–åŒ…çš„å®Œæ•´æ€§ï¼Œå¹¶å»ºç«‹å®Œå–„çš„é•œåƒç®¡ç†æœºåˆ¶ã€‚å®è·µæ˜¯æœ€å¥½çš„è€å¸ˆã€‚å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒå¤šæ¬¡æ¼”ç»ƒï¼Œç†Ÿç»ƒæŒæ¡åå†åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmdnice.com%2F%3Ffrom%3Djuejin" target="_blank" title="https://mdnice.com/?from=juejin" ref="nofollow noopener noreferrer">mdnice</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¢ç§˜C#ä¼ªéšæœºæ•°ç”Ÿæˆå™¨çš„å®‰å…¨æ¼æ´ä¸ç ´è§£ä¹‹é“]]></title>    <link>https://juejin.cn/post/7579999793320656902</link>    <guid>https://juejin.cn/post/7579999793320656902</guid>    <pubDate>2025-12-05T10:32:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579999793320656902" data-draft-id="7579934463590973476" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¢ç§˜C#ä¼ªéšæœºæ•°ç”Ÿæˆå™¨çš„å®‰å…¨æ¼æ´ä¸ç ´è§£ä¹‹é“"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2025-12-05T10:32:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¢ç§˜C#ä¼ªéšæœºæ•°ç”Ÿæˆå™¨çš„å®‰å…¨æ¼æ´ä¸ç ´è§£ä¹‹é“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:32:51.000Z" title="Fri Dec 05 2025 10:32:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Trivial C# Random Exploitation</h2>
<p><strong>2025å¹´8æœˆ19æ—¥ - ä½œè€…ï¼šDennis Goodlett</strong></p>
<p>åˆ©ç”¨éšæœºæ•°ç”Ÿæˆå™¨éœ€è¦æ•°å­¦çŸ¥è¯†ï¼Œå¯¹å—ï¼Ÿå¾—ç›ŠäºC#çš„<code>Random</code>ç±»ï¼Œæƒ…å†µæœªå¿…å¦‚æ­¤ï¼æˆ‘é‡åˆ°äº†ä¸€ä¸ªHTTP 2.0 WebæœåŠ¡ï¼Œå®ƒä½¿ç”¨<code>(new Random()).Next(min, max)</code>è¾“å‡ºçš„è‡ªå®šä¹‰ç¼–ç æ¥ç”Ÿæˆå¯†ç é‡ç½®ä»¤ç‰Œã€‚</p>
<p>è¿™å¯¼è‡´äº†ä¸¥é‡çš„è´¦æˆ·æ¥ç®¡é£é™©ã€‚åˆ©ç”¨æ­¤æ¼æ´ä¸éœ€è¦ç¼–å†™è„šæœ¬ã€æ•°å­¦çŸ¥è¯†æˆ–ä½¿ç”¨åº“ã€‚ä»…ä»…åœ¨Burp Suiteä¸­ç‚¹å‡»å‡ æ¬¡å³å¯ã€‚è™½ç„¶æˆ‘æ‹¥æœ‰æºä»£ç ï¼Œä½†æˆ‘å°†å±•ç¤ºä¸€ç§åœ¨"é»‘ç›’"æˆ–æ¼æ´èµé‡‘å¼æµ‹è¯•ä¸­å‘ç°å¹¶åˆ©ç”¨æ­¤æ¼æ´çš„æ–¹æ³•ã€‚è¯¥åˆ©ç”¨ä¸æ¶‰åŠæ•°å­¦è®¡ç®—ï¼Œä½†æˆ‘ä¸ªäººå–œæ¬¢æ•°å­¦ã€‚å› æ­¤ï¼Œæœ‰ä¸€ä¸ªå…³äºå¦‚ä½•ä¼˜åŒ–å’Œé€†å‘<code>Random</code>ç±»çš„é™„åŠ ç« èŠ‚ã€‚</p>
<h3 data-id="heading-1">æ¼æ´è¯¦æƒ…</h3>
<p>æˆ‘æ— æ³•åˆ†äº«å®¢æˆ·ç«¯çš„ä»£ç ï¼Œä½†å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> num = <span class="hljs-keyword">new</span> Random().Next(min, max);
<span class="hljs-keyword">var</span> token = make_password_reset_token(num);
save_reset_token_to_db(user, token);

</code></pre>
<p>è¿™ä»£è¡¨äº†ä¸€ä¸ªå…¸å‹çš„å¯†ç é‡ç½®æµç¨‹ã€‚ä»¤ç‰Œæ˜¯ä½¿ç”¨<code>Random()</code>åˆ›å»ºçš„ï¼Œå¹¶ä¸”æ²¡æœ‰è®¾ç½®ç§å­ã€‚ç„¶åè¯¥æ•°å­—è¢«ç¼–ç ä¸ºå­—æ¯æ•°å­—ä»¤ç‰Œã€‚ä»¤ç‰Œé€šè¿‡ç”µå­é‚®ä»¶å‘é€ç»™ç”¨æˆ·ã€‚ç”¨æˆ·éšåå¯ä»¥ä½¿ç”¨å…¶ç”µå­é‚®ä»¶å’Œä»¤ç‰Œç™»å½•ã€‚</p>
<p>è¿™å¯èƒ½æ˜¯ææ˜“è¢«åˆ©ç”¨çš„ã€‚</p>
<h3 data-id="heading-2">C# PRNGçš„å·¥ä½œåŸç†</h3>
<p>æ–‡æ¡£åœ¨æŸç§ç¨‹åº¦ä¸Šå°†æˆ‘å¼•å‘ä»¥ä¸‹å‚è€ƒå®ç°ã€‚è¿™ä¸æ˜¯çœŸæ­£çš„å®ç°ï¼Œä½†è¶³å¤Ÿå¥½ã€‚ä¸è¦åœ¨è¿™é‡Œæ·±å…¥ç»†èŠ‚ï¼Œæ˜¾ç¤º<code>Random(int Seed)</code>åªæ˜¯ä¸ºäº†ä¸Šä¸‹æ–‡ã€‚</p>
<p>Gité“¾æ¥</p>
<pre><code class="hljs language-csharp" lang="csharp">      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Random</span>()
        : <span class="hljs-title">this</span>(<span class="hljs-params">Environment.TickCount</span>)</span> {
      }

      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Random</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> Seed</span>)</span> {
        <span class="hljs-built_in">int</span> ii;
        <span class="hljs-built_in">int</span> mj, mk;

        <span class="hljs-comment">//åˆå§‹åŒ–æˆ‘ä»¬çš„ç§å­æ•°ç»„ã€‚</span>
        <span class="hljs-comment">//æ­¤ç®—æ³•æ¥è‡ªã€ŠCè¯­è¨€æ•°å€¼è®¡ç®—ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹</span>
        <span class="hljs-built_in">int</span> subtraction = (Seed == Int32.MinValue) ? Int32.MaxValue : Math.Abs(Seed);
        mj = MSEED - subtraction;
        SeedArray[<span class="hljs-number">55</span>]=mj; <span class="hljs-comment">// [2]</span>
        mk=<span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i=<span class="hljs-number">1</span>; i&lt;<span class="hljs-number">55</span>; i++) {  <span class="hljs-comment">//æ˜¾ç„¶èŒƒå›´[1..55]æ˜¯ç‰¹æ®Šçš„ï¼ˆKnuthï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æµªè´¹äº†ç¬¬0ä¸ªä½ç½®ã€‚</span>
          ii = (<span class="hljs-number">21</span>*i)%<span class="hljs-number">55</span>;
          SeedArray[ii]=mk;
          mk = mj - mk;
          <span class="hljs-keyword">if</span> (mk&lt;<span class="hljs-number">0</span>) mk+=MBIG;
          mj=SeedArray[ii];
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k=<span class="hljs-number">1</span>; k&lt;<span class="hljs-number">5</span>; k++) {
          <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i=<span class="hljs-number">1</span>; i&lt;<span class="hljs-number">56</span>; i++) {
        SeedArray[i] -= SeedArray[<span class="hljs-number">1</span>+(i+<span class="hljs-number">30</span>)%<span class="hljs-number">55</span>];
        <span class="hljs-keyword">if</span> (SeedArray[i]&lt;<span class="hljs-number">0</span>) SeedArray[i]+=MBIG;
          }
        }
        inext=<span class="hljs-number">0</span>;
        inextp = <span class="hljs-number">21</span>;
        Seed = <span class="hljs-number">1</span>;
      }
</code></pre>
<p>æ•´ä¸ªç³»ç»Ÿä¾èµ–äº32ä½ç§å­ã€‚è¿™é€šè¿‡ä¸€äº›å¤æ‚çš„æ•°å­¦è¿ç®—æ„å»ºäº†å†…éƒ¨çŠ¶æ€(<code>SeedArray[55]</code>)ã€‚å¦‚æœ<code>Random</code>åœ¨æ²¡æœ‰å‚æ•°çš„æƒ…å†µä¸‹åˆå§‹åŒ–ï¼Œåˆ™ä½¿ç”¨<code>Environment.TickCount</code>ä½œä¸ºç§å­ã€‚PRNGçš„æ‰€æœ‰è¾“å‡ºéƒ½ç”±å…¶ç§å­å†³å®šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå°±æ˜¯<code>TickCount</code>â€”â€”æœ¬è´¨ä¸Šå°±æ˜¯æ—¶é—´ã€‚æ‰€ä»¥ä½ å¯ä»¥æŠŠè¿™ä¸ªç®—æ³•æƒ³è±¡æˆé€šè¿‡ç”µå­é‚®ä»¶å‘é€æ—¶é—´ç»™ä½ ï¼Œåªæ˜¯ä½¿ç”¨äº†ä¸€ç§éå¸¸å¥‡æ€ªçš„ç¼–ç æ–¹å¼ã€‚</p>
<p>åœ¨æŸç§æ„ä¹‰ä¸Šï¼Œä½ ç”šè‡³å¯ä»¥æäº¤ä¸€ä¸ªæ—¶é—´è¿›è¡Œç¼–ç ã€‚ä½ ä¸æ˜¯é€šè¿‡URLå‚æ•°åšåˆ°è¿™ä¸€ç‚¹ï¼Œè€Œæ˜¯é€šè¿‡ç­‰å¾…ã€‚ç­‰å¾…æ­£ç¡®çš„æ—¶é—´ï¼Œä½ å°±èƒ½å¾—åˆ°æƒ³è¦çš„ç¼–ç ã€‚æˆ‘ä»¬åº”è¯¥ç­‰å¾…ä»€ä¹ˆæ—¶é—´æˆ–äº‹ä»¶å‘¢ï¼Ÿ</p>
<h3 data-id="heading-3">åˆ©ç”¨æ–¹æ³•</h3>
<p>æ–‡æ¡£è¯´å¾—æœ€å¥½ã€‚</p>
<blockquote>
<p>åœ¨.NET Frameworkä¸­ï¼Œé»˜è®¤ç§å­å€¼æ´¾ç”Ÿè‡ªç³»ç»Ÿæ—¶é’Ÿï¼Œå…¶åˆ†è¾¨ç‡æœ‰é™ã€‚å› æ­¤ï¼Œé€šè¿‡è°ƒç”¨æ— å‚æ•°æ„é€ å‡½æ•°åœ¨çŸ­æ—¶é—´å†…è¿ç»­åˆ›å»ºçš„ä¸åŒRandomå¯¹è±¡å…·æœ‰ç›¸åŒçš„é»˜è®¤ç§å­å€¼ï¼Œå› æ­¤ä¼šäº§ç”Ÿç›¸åŒçš„éšæœºæ•°é›†åˆã€‚</p>
</blockquote>
<p>å¦‚æœæˆ‘ä»¬åœ¨åŒä¸€ä¸ª1æ¯«ç§’çª—å£å†…æäº¤ä¸¤ä¸ªè¯·æ±‚ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ç›¸åŒçš„ç§å­ï¼Œç›¸åŒçš„ç§å­äº§ç”Ÿç›¸åŒçš„è¾“å‡ºï¼Œç›¸åŒçš„é‡ç½®ä»¤ç‰Œä¼šå‘é€åˆ°ä¸¤ä¸ªç”µå­é‚®ä»¶åœ°å€ã€‚å½“ç„¶ï¼Œå…¶ä¸­ä¸€ä¸ªç”µå­é‚®ä»¶åœ°å€æ˜¯æˆ‘ä»¬æ‹¥æœ‰çš„ï¼Œå¦ä¸€ä¸ªå±äºç®¡ç†å‘˜ã€‚</p>
<p>æˆ‘ä»¬å¦‚ä½•å‘½ä¸­1æ¯«ç§’çš„çª—å£ï¼Ÿæˆ‘ä»¬ä½¿ç”¨å•æ•°æ®åŒ…æ”»å‡»ã€‚</p>
<p>ä½†è¿™çœŸçš„æœ‰æ•ˆå—ï¼Ÿ</p>
<h3 data-id="heading-4">é»‘ç›’æ–¹æ³•è®º</h3>
<p>åœ¨éªŒè¯æ¼æ´ä¹‹å‰ï¼Œä½ è‚¯å®šä¸æƒ³å‘ç®¡ç†å‘˜å‘é€å¤§é‡çš„é‡ç½®ç”µå­é‚®ä»¶ã€‚æ‰€ä»¥ï¼Œåœ¨ç›®æ ‡ç½‘ç«™ä¸Šåˆ›å»ºä¸¤ä¸ªä½ å¯ä»¥æ§åˆ¶çš„è´¦æˆ·ã€‚è™½ç„¶ä½ å¯ä»¥ç”¨ä¸€ä¸ªè´¦æˆ·è¿›è¡Œæ”»å‡»ï¼Œä½†è¿™å®¹æ˜“å‡ºç°è¯¯æŠ¥ã€‚ä½ æ­£åœ¨å¿«é€Ÿè¿ç»­å‘é€ä¸¤ä¸ªè´¦æˆ·é‡ç½®è¯·æ±‚ã€‚ç¬¬äºŒä¸ªè¯·æ±‚å¯èƒ½ä¼šåœ¨ç”µå­é‚®ä»¶æœåŠ¡è¯»å–ç¬¬ä¸€ä¸ªä¹‹å‰å‘æ•°æ®åº“å†™å…¥ä¸åŒçš„é‡ç½®ä»¤ç‰Œï¼Œä»è€Œå¯¼è‡´è¯¯æŠ¥ã€‚</p>
<p>ä½¿ç”¨Burpçš„Repeaterç»„æ¥æ‰§è¡Œå•æ•°æ®åŒ…æ”»å‡»ï¼Œä»¥é‡ç½®ä¸¤ä¸ªè´¦æˆ·ã€‚æ£€æŸ¥ä½ çš„ç”µå­é‚®ä»¶æ˜¯å¦æœ‰é‡å¤çš„ä»¤ç‰Œã€‚å¦‚æœå¤±è´¥äº†ï¼Œç»§ç»­æµ‹è¯•å…¶ä»–å†…å®¹ï¼Œç›´åˆ°é”å®šçª—å£ç»“æŸã€‚ç„¶ååªéœ€å†æ¬¡ç‚¹å‡»å‘é€ï¼Œå¾ˆå¯èƒ½ä½ ä¸éœ€è¦æ‹…å¿ƒä¿æŒä¼šè¯ä»¤ç‰Œçš„å­˜æ´»ã€‚</p>
<p>æ³¨æ„ï¼šBurpåœ¨Repeaterçš„å³ä¸‹è§’æ˜¾ç¤ºå¾€è¿”æ—¶é—´ã€‚</p>
<p>å¯†åˆ‡å…³æ³¨é‚£ä¸ªæ•°å­—ã€‚æ¯ä¸ªè¯·æ±‚éƒ½æœ‰è‡ªå·±çš„æ—¶é—´ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå¤§çº¦éœ€è¦10ä¸ªè¯·æ±‚æ‰èƒ½è·å¾—é‡å¤çš„ä»¤ç‰Œã€‚è¿™ä»…åœ¨å¾€è¿”æ—¶é—´å·®ä¸º1æ¯«ç§’æˆ–æ›´å°‘æ—¶å‘ç”Ÿã€‚</p>
<p>åœ¨å‘èµ·å®é™…æ”»å‡»æ—¶ï¼Œæ£€æŸ¥ä½ çš„ä»¤ç‰Œæ˜¯å¦ä¸å—å®³è€…è´¦æˆ·åŒ¹é…çš„å”¯ä¸€æ–¹æ³•æ˜¯å°è¯•ç™»å½•ã€‚ç™»å½•è¯·æ±‚é€šå¸¸å—åˆ°é€Ÿç‡é™åˆ¶å’Œä¿æŠ¤ã€‚æ‰€ä»¥é¦–å…ˆç”¨æµ‹è¯•è´¦æˆ·éªŒè¯ã€‚åˆ©ç”¨è¿™ä¸ªæ¥è·å¾—ä¸€ä¸ªæœ‰æ•ˆçš„æ—¶é—´å·®çª—å£ã€‚ç„¶åï¼Œåœ¨å®é™…å‘èµ·æ”»å‡»æ—¶ï¼Œåªæœ‰å½“æ—¶é—´å·®åœ¨ä½ çš„æµ‹è¯•è¾¹ç•Œå†…æ—¶æ‰å°è¯•ç™»å½•ã€‚</p>
<p>å•Šâ€¦â€¦æˆ‘æƒ³å‡å»ä¸¤ä¸ªæ—¶é—´ä¹Ÿç®—æ˜¯æ•°å­¦ã€‚åˆ©ç”¨PRNGæ€»æ˜¯éœ€è¦æ•°å­¦ã€‚</p>
<h3 data-id="heading-5">æ€»ç»“</h3>
<p>è¿™ç§æ”»å‡»å¹¶éå®Œå…¨æ–°é¢–ã€‚æˆ‘åœ¨CTFæ¯”èµ›ä¸­è§è¿‡ç±»ä¼¼çš„æ”»å‡»ã€‚è¿™æ˜¯ä¸€ä¸ªå…³äºæ—¶é—´çš„å¥½æ•™è®­ã€‚æˆ‘ä»¬é€šè¿‡ç­‰å¾…æˆ–ä¸ç­‰å¾…æ¥æ§åˆ¶æ—¶é—´ã€‚å¦‚æœä¸€ä¸ªç§˜å¯†ä»¤ç‰Œåªæ˜¯ç¼–ç çš„æ—¶é—´ï¼Œä½ å¯ä»¥é€šè¿‡å¤åˆ¶æ—¶é—´æ¥å¤åˆ¶å®ƒä»¬ã€‚</p>
<p>å¦‚æœä½ æ·±å…¥ç ”ç©¶.NETè¿è¡Œæ—¶ï¼Œä½ å¯èƒ½ä¼šè¯´æœè‡ªå·±è¿™ç§æ”»å‡»ä¸ä¼šæˆåŠŸã€‚<code>Random</code>æœ‰ä¸æ­¢ä¸€ç§å®ç°ï¼Œæˆ‘çš„å®¢æˆ·åº”è¯¥ä½¿ç”¨çš„é‚£ä¸ªå¹¶ä¸æ˜¯ç”¨æ—¶é—´ä½œä¸ºç§å­çš„ã€‚</p>
<p>æˆ‘ç”šè‡³å¯ä»¥ç”¨dotnetfiddleè¯æ˜è¿™ä¸€ç‚¹ã€‚</p>
<p>è¿™å°±åƒæ˜¯å®‰å…¨ç‰ˆçš„â€œåœ¨æˆ‘ç”µè„‘ä¸Šèƒ½ç”¨â€ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æµ‹è¯•â€œå®‰å…¨â€ä»£ç ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ç”¨éšæœºè¾“å…¥è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ã€‚æ‰€ä»¥ï¼Œä¸‹æ¬¡çœ‹åˆ°å®‰å…¨ä»¤ç‰Œæ—¶ï¼Œè¯•è¯•è¿™ä¸ªåˆ©ç”¨æ–¹æ³•ã€‚</p>
<p>è¿™ä¸ä»…é€‚ç”¨äºC#çš„<code>Random</code>ã€‚è€ƒè™‘ä¸€ä¸‹Pythonçš„<code>uuid</code>ï¼Ÿæ–‡æ¡£è­¦å‘Šè¯´ï¼Œæ ¹æ®â€œåº•å±‚å¹³å°â€çš„ä¸åŒï¼Œç”±äºç¼ºä¹â€œåŒæ­¥â€ï¼Œå¯èƒ½å­˜åœ¨æ½œåœ¨çš„å†²çªï¼Œé™¤éä½¿ç”¨äº†<code>safeUUID</code>ã€‚æˆ‘æƒ³çŸ¥é“æ”»å‡»åœ¨é‚£é‡Œæ˜¯å¦æœ‰æ•ˆï¼Ÿåªæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚</p>
<p>ä¿®å¤å¼±PRNGæ¼æ´çš„æ–¹æ³•æ€»æ˜¯æŸ¥é˜…æ–‡æ¡£ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»ç‚¹å‡»â€œå¤‡æ³¨â€éƒ¨åˆ†ä¸­çš„â€œRandomçš„è¡¥å……APIå¤‡æ³¨ã€‚â€æ‰èƒ½çœ‹åˆ°å®‰å…¨ä¿¡æ¯ï¼Œå…¶ä¸­å†™é“ï¼š</p>
<blockquote>
<p>è¦ç”ŸæˆåŠ å¯†å®‰å…¨çš„éšæœºæ•°ï¼Œä¾‹å¦‚é€‚åˆåˆ›å»ºéšæœºå¯†ç çš„æ•°å­—ï¼Œè¯·ä½¿ç”¨<code>System.Security.Cryptography.RandomNumberGenerator</code>ç±»ä¸­çš„é™æ€æ–¹æ³•ä¹‹ä¸€ã€‚</p>
</blockquote>
<p>æ‰€ä»¥ï¼ŒC#åº”ä½¿ç”¨<code>RandomNumberGenerator</code>è€Œä¸æ˜¯<code>Random</code>ã€‚</p>
<h3 data-id="heading-6">é™„åŠ ç« èŠ‚ï¼šç ´è§£C#æ—§ç‰ˆéšæœºç®—æ³•</h3>
<p>æ¥ä¸‹æ¥æ˜¯ä¸€äº›æ•°å­¦çŸ¥è¯†ã€‚ä¸ç®—å¤ªéš¾ï¼Œä½†æˆ‘è§‰å¾—åº”è¯¥æé†’ä½ ã€‚è¿™æ˜¯åˆ©ç”¨è¿™ä¸ªå‘ç°çš„â€œå›°éš¾â€æ–¹æ³•ã€‚æˆ‘å†™äº†ä¸€ä¸ªå¯ä»¥é¢„æµ‹<code>Random::Next</code>è¾“å‡ºçš„åº“ã€‚å®ƒä¹Ÿå¯ä»¥é€†å‘å®ƒï¼Œå›åˆ°ç§å­ã€‚æˆ–è€…ä½ å¯ä»¥ä»ç¬¬ä¸ƒä¸ªè¾“å‡ºæ‰¾åˆ°ç¬¬ä¸€ä¸ªè¾“å‡ºã€‚æ‰€æœ‰è¿™äº›éƒ½ä¸éœ€è¦æš´åŠ›ç ´è§£ï¼Œåªéœ€è¦ä¸€ä¸ªæ¨¡æ–¹ç¨‹ã€‚ä»£ç å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyour-repo-link" target="_blank" title="https://github.com/your-repo-link" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p>
<p>æˆ‘æœ¬æ‰“ç®—è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å‘¨æœ«æ•°å­¦é¡¹ç›®ã€‚å½“æˆ‘å‘ç°ç”±äºæ•´æ•°ä¸‹æº¢å¯¼è‡´çš„å†²çªæ—¶ï¼Œäº‹æƒ…å˜å¾—æ··ä¹±äº†ã€‚</p>
<h4 data-id="heading-7">ç§å­ç”Ÿæˆå…¨æ˜¯æ•°å­¦</h4>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ç§å­ç”Ÿæˆç®—æ³•ï¼Œä½†å°è¯•æ¦‚æ‹¬ä½ æ‰€çœ‹åˆ°çš„å†…å®¹ã€‚<code>SeedArray[55]</code>æ˜¾ç„¶æ˜¯PRNGçš„å†…éƒ¨çŠ¶æ€ã€‚è¿™æ˜¯ç”¨â€œæ•°å­¦â€æ„å»ºçš„ã€‚å¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼Œå‡ ä¹æ¯æ¬¡<code>SeedArray[i]</code>è¢«èµ‹å€¼æ—¶ï¼Œéƒ½æ˜¯é€šè¿‡å‡æ³•ã€‚ä¹‹åä½ æ€»æ˜¯çœ‹åˆ°ä¸€ä¸ªæ£€æŸ¥ï¼šå‡æ³•ç»“æœæ˜¯å¦ä¸ºè´Ÿæ•°ï¼Ÿå¦‚æœæ˜¯ï¼Œåˆ™åŠ ä¸Š<code>MBIG</code>ã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰çš„å‡æ³•éƒ½æ˜¯åœ¨æ¨¡<code>MBIG</code>ä¸‹è¿›è¡Œçš„ã€‚</p>
<p><code>MBIG</code>çš„å€¼æ˜¯<code>Int32.MaxValue</code>ï¼Œä¹Ÿå°±æ˜¯<code>0x7fffffff</code>ï¼Œæˆ–è€…<code>2^31 - 1</code>ã€‚è¿™æ˜¯ä¸€ä¸ªæ¢…æ£®ç´ æ•°ã€‚å¯¹ç´ æ•°è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œæ•°å­¦å®¶ç§°ä¹‹ä¸ºä¼½ç½—ååŸŸã€‚</p>
<p>æˆ‘ä»¬è¿™æ ·è¯´åªæ˜¯å› ä¸ºÃ‰variste Galoiså¤ªé…·äº†ã€‚ä¼½ç½—ååŸŸåªæ˜¯ä¸€ç§å¾ˆå¥½çš„è¯´æ³•ï¼Œè¡¨ç¤ºâ€œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªä¸­å­¦ä»¥æ¥å­¦åˆ°çš„æ‰€æœ‰å¸¸è§„ä»£æ•°æŠ€å·§ï¼Œå³ä½¿è¿™ä¸æ˜¯å¸¸è§„çš„æ•°å­¦â€ã€‚</p>
<p>æ‰€ä»¥ï¼Œå‡è®¾<code>SeedArray[i]</code>æ˜¯æŸä¸ª<code>a*Seed + b mod MBIG</code>ã€‚å®ƒåœ¨å¾ªç¯ä¸­é€šè¿‡å‡å»å¦ä¸€ä¸ª<code>c*Seed + d mod MBIG</code>æ¥æ”¹å˜ã€‚æˆ‘ä»¬ä¸éœ€è¦é‚£ä¸ªå¾ªç¯â€”â€”ä»£æ•°å‘Šè¯‰æˆ‘ä»¬ç›´æ¥å¾—åˆ°<code>(a+c)*Seed + (b+d) Mod MBIG</code>ã€‚é€šè¿‡å¾ªç¯éå†å¹¶è¿›è¡Œä»£æ•°è¿ç®—ï¼Œä½ å¯ä»¥å¾—åˆ°<code>SeedArray</code>çš„æ¯ä¸ªå…ƒç´ ï¼Œå½¢å¼ä¸º<code>a*Seed + b mod MBIG</code>ã€‚</p>
<p>æ¯æ¬¡é‡‡æ ·PRNGæ—¶ï¼Œéƒ½ä¼šè°ƒç”¨<code>Random::InternalSample</code>ã€‚è¿™åªæ˜¯å¦ä¸€ä¸ªå‡æ³•ã€‚ç»“æœæ—¢è¢«è¿”å›ï¼Œåˆè¢«ç”¨æ¥è®¾ç½®<code>SeedArray</code>çš„æŸä¸ªå…ƒç´ ã€‚è¿™åˆæ˜¯ä¸€äº›æ–¹ç¨‹ã€‚å®ƒä»ç„¶åœ¨ä¼½ç½—ååŸŸä¸­ï¼Œä»ç„¶åªæ˜¯ä»£æ•°ï¼Œä½ å¯ä»¥åè½¬æ‰€æœ‰è¿™äº›æ–¹ç¨‹ã€‚ç»™å®š<code>Random::Next</code>çš„ä¸€ä¸ªè¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥åè½¬ç›¸åº”çš„æ–¹ç¨‹å¹¶å¾—åˆ°åŸå§‹ç§å­ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åšæ›´å¤šï¼</p>
<h4 data-id="heading-8">csharp_rand.py åº“</h4>
<p>æˆ‘åˆ›å»ºçš„åº“ä»è¿™äº›æ–¹ç¨‹æ„å»º<code>SeedArray</code>ã€‚å®ƒå°†ç”¨è¿™äº›æ–¹ç¨‹çš„å½¢å¼è¾“å‡ºã€‚è®©æˆ‘ä»¬å¾—åˆ°è¡¨ç¤º<code>Random</code>ä»»ä½•ç§å­çš„ç¬¬ä¸€ä¸ªè¾“å‡ºçš„æ–¹ç¨‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> csharp_rand <span class="hljs-keyword">import</span> csharp_rand
<span class="hljs-meta">&gt;&gt;&gt; </span>cs = csharp_rand()
<span class="hljs-meta">&gt;&gt;&gt; </span>first = cs.sample_equation(<span class="hljs-number">0</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(first)
rand = seed * <span class="hljs-number">1121899819</span> + <span class="hljs-number">1559595546</span> mod <span class="hljs-number">2147483647</span>
</code></pre>
<p>è¿™ä»£è¡¨äº†ä»»ä½•ç§å­çš„<code>Random</code>çš„ç¬¬ä¸€ä¸ªè¾“å‡ºã€‚ä½¿ç”¨<code>.resolve(42)</code>æ¥è·å–<code>new Random(42).Next()</code>çš„è¾“å‡ºã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">&gt;&gt;&gt; </span>first.resolve(<span class="hljs-number">42</span>)
<span class="hljs-number">1434747710</span>
</code></pre>
<p>æˆ–è€…åè½¬å¹¶è§£æ<code>1434747710</code>ï¼Œä»¥æ‰¾å‡ºå“ªä¸ªç§å­å°†åœ¨<code>Random</code>çš„ç¬¬ä¸€ä¸ªè¾“å‡ºä¸­äº§ç”Ÿ<code>1434747710</code>ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">&gt;&gt;&gt; </span>first.invert().resolve(<span class="hljs-number">1434747710</span>)
<span class="hljs-number">42</span>
</code></pre>
<p>è¿™ä¸dotnetfiddleçš„ç»“æœä¸€è‡´ã€‚</p>
<h4 data-id="heading-9">Randomä¸­çš„æ•´æ•°ä¸‹æº¢</h4>
<p>åˆšå®Œæˆæˆ‘çš„åº“ï¼Œæˆ‘å°±å…´å¥‹åœ°æŠŠå®ƒå±•ç¤ºç»™ç¬¬ä¸€ä¸ªæ„¿æ„å¬æˆ‘è¯´è¯çš„äººçœ‹ã€‚å½“ç„¶ï¼Œå®ƒå¤±è´¥äº†ã€‚è‚¯å®šæœ‰bugï¼Œæˆ‘å½“ç„¶è´£æ€ªåŸå§‹å®ç°ã€‚ä½†ç”±äºè´¦æˆ·æ¥ç®¡æ¼æ´ä¸åœ¨ä¹æˆ‘çš„æ„Ÿå—ï¼Œæˆ‘ä¿®å¤äº†ä»£ç â€¦â€¦å¤§éƒ¨åˆ†â€¦â€¦</p>
<p>ç®€è€Œè¨€ä¹‹ï¼ŒåŸå§‹å®ç°å­˜åœ¨æ•´æ•°ä¸‹æº¢ï¼Œè¿™ä¼šå½±å“æŸäº›ç§å­å€¼çš„æ•°å­¦æ–¹ç¨‹ã€‚åªæœ‰æŸäº›<code>SeedArray</code>å…ƒç´ ä¼šå—åˆ°å½±å“ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¾ç¤º<code>Random</code>çš„ç¬¬ä¸€ä¸ªè¾“å‡ºä¸éœ€è¦ä»»ä½•è°ƒæ•´ï¼Œä½†ç¬¬13ä¸ªè¾“å‡ºéœ€è¦ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(cs.sample_equation(<span class="hljs-number">0</span>))
rand = seed * <span class="hljs-number">1121899819</span> + <span class="hljs-number">1559595546</span> mod <span class="hljs-number">2147483647</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(cs.sample_equation(<span class="hljs-number">12</span>))
rand = seed * <span class="hljs-number">1476289907</span> + <span class="hljs-number">1358625013</span> mod <span class="hljs-number">2147483647</span> underflow adjustment: -<span class="hljs-number">2</span>
</code></pre>
<p>æ‰€ä»¥ç¬¬13ä¸ªè¾“å‡ºå°†æ˜¯<code>seed * 1476289907 + 1358625013</code>ï¼Œé™¤éç§å­å¯¼è‡´ä¸‹æº¢ï¼Œé‚£ä¹ˆå®ƒå°†åç¦»<code>-2</code>ã€‚ä»£ç è¯•å›¾è‡ªå·±åˆ¤æ–­æ˜¯å¦å‘ç”Ÿæº¢å‡ºã€‚è¿™åœ¨åè½¬ä¹‹å‰æ•ˆæœå¾ˆå¥½ã€‚</p>
<p>è€ƒè™‘ä¸€ä¸‹ï¼Œä»€ä¹ˆç§å­å€¼å°†åœ¨<code>Random::Next</code>çš„ç¬¬13ä¸ªè¾“å‡ºä¸­äº§ç”Ÿ<code>908112456</code>ï¼Ÿ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">&gt;&gt;&gt; </span>cs.sample_equation(<span class="hljs-number">12</span>).invert().resolve2(<span class="hljs-number">908112456</span>)
(<span class="hljs-number">619861032</span>, <span class="hljs-number">161844078</span>)
</code></pre>
<p>ä¸¤ä¸ªç§å­ï¼Œ<code>619861032</code>å’Œ<code>161844078</code>ï¼Œéƒ½å°†åœ¨ç¬¬13ä¸ªè¾“å‡ºä¸­äº§ç”Ÿ<code>908112456</code>ï¼ˆpocï¼‰ã€‚ç§å­<code>619861032</code>æ˜¯é€šè¿‡éè°ƒæ•´æ–¹ç¨‹ä»¥é€‚å½“çš„æ–¹å¼åšåˆ°çš„ã€‚ç§å­<code>619861032</code>åˆ™æ˜¯é€šè¿‡ä¸‹æº¢è¾¾åˆ°çš„ã€‚è¿™ç§â€œç¢°æ’â€æ„å‘³ç€æ°å¥½æœ‰2ä¸ªç§å­äº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚è¿™æ„å‘³ç€<code>908112456</code>åœ¨ç¬¬13ä¸ªè¾“å‡ºä¸Šå‡ºç°çš„å¯èƒ½æ€§æ˜¯ç¬¬ä¸€è¾“å‡ºçš„ä¸¤å€ã€‚è¿™ä¹Ÿæ„å‘³ç€æ²¡æœ‰ç§å­ä¼šåœ¨<code>Random</code>çš„ç¬¬13ä¸ªè¾“å‡ºä¸Šäº§ç”Ÿ<code>908112458</code>ã€‚ä¸€ä¸ªå¿«é€Ÿçš„æš´åŠ›ç ´è§£äº§ç”Ÿäº†å¤§çº¦80K+ä¸ªç±»ä¼¼çš„â€œç¢°æ’â€ã€‚</p>
<h4 data-id="heading-10">é™„åŠ ç« èŠ‚ç»“è®º</h4>
<p>æœ‰æ—¶èªæ˜çš„æ–¹æ³•å¾ˆæ„šè ¢ã€‚ä¸€ä¸ªæœ‰è¶£çš„æ•°å­¦é¡¹ç›®æœ€ç»ˆæ„Ÿè§‰åƒæ˜¯è¢«åƒåˆ€ä¸‡å‰ã€‚æœ€å¥½è®©ä½ çš„åˆ©ç”¨æ–¹æ³•ç‰ˆæœ¬åŒ¹é…ã€è¯­è¨€åŒ¹é…ï¼Œå¹¶å¿«é€Ÿå¯åŠ¨å®ƒã€‚å¦‚æœèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œåœ¨å®ƒè¿˜åœ¨è¿è¡Œæ—¶å°±å¼€å§‹ä¼˜åŒ–ã€‚ä½†åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œå…ˆæµ‹è¯•ï¼æµ‹è¯•ä¸€åˆ‡ï¼å¦åˆ™ï¼Œä½ ä¼šè¿è¡Œå‡ ä¸ªå°æ—¶çš„æš´åŠ›ç ´è§£å´ä¸€æ— æ‰€è·ã€‚ä¸ºä»€ä¹ˆï¼Ÿå¥½å§ï¼Œä¹Ÿè®¸<code>Random(Environment.TickCount)</code>ä¸æ˜¯<code>Random()</code>ï¼Œå› ä¸ºæ˜¾å¼æ’­ç§ä¼šå¯¼è‡´ä¸åŒçš„ç®—æ³•ï¼</p>
<p>å”‰â€¦â€¦æˆ‘è¦å»å®¡è®¡æ›´å¤šçš„ç«¯ç‚¹äº†â€¦â€¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIäº¤æ˜“ï¼Œæ€ä¹ˆè®©LLMè‡ªå·±æŒ‘é€‰æ•°æ®æºï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580197740962021402</link>    <guid>https://juejin.cn/post/7580197740962021402</guid>    <pubDate>2025-12-05T10:46:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580197740962021402" data-draft-id="7580180556983304242" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIäº¤æ˜“ï¼Œæ€ä¹ˆè®©LLMè‡ªå·±æŒ‘é€‰æ•°æ®æºï¼Ÿ"/> <meta itemprop="keywords" content="JavaScript,åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T10:46:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç ä¸é‡å…½"/> <meta itemprop="url" content="https://juejin.cn/user/571401777717031"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIäº¤æ˜“ï¼Œæ€ä¹ˆè®©LLMè‡ªå·±æŒ‘é€‰æ•°æ®æºï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/571401777717031/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç ä¸é‡å…½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:46:54.000Z" title="Fri Dec 05 2025 10:46:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘Noahåœ¨ç ”ç©¶AIäº¤æ˜“ã€‚ç¢°åˆ°ä¸€ä¸ªæŒºç®€å•çš„éœ€æ±‚ï¼šç”¨æˆ·é—®ä»€ä¹ˆï¼Œç³»ç»Ÿéœ€è¦å»å¯¹åº”çš„åœ°æ–¹æŸ¥æ•°æ®ï¼Œç„¶åå›ç­”ã€‚</p>
<p>æ¯”å¦‚ç”¨æˆ·é—®å½“å‰æŒä»“æƒ…å†µï¼Œéœ€è¦è°ƒç”¨äº¤æ˜“æ‰€APIæŸ¥æ•°æ®ï¼Œç„¶åé€šè¿‡LLMè¿›è¡Œæ•´ç†åè¾“å‡ºæˆå®¹æ˜“ç†è§£çš„å›ç­”ã€‚å†æ¯”å¦‚å®šæ—¶ä»»åŠ¡è®©LLMæ ¹æ®è¡Œæƒ…å¯¹äº¤æ˜“è¿›è¡Œå†³ç­–ï¼Œéœ€è¦è°ƒç”¨é¢„è¨€æœºAPIæ‹¿åˆ°æœ€æ–°ä»·æ ¼æ•°æ®å’Œèµ„è®¯APIæ‹¿åˆ°æœ€æ–°çš„éç»“æ„åŒ–ç›¸å…³æ•°æ®ã€‚</p>
<p>è¿‡å»çš„æ€è·¯ï¼Œå¯èƒ½æ˜¯ä¼šå†™å¾ˆå¤šif elseã€‚ç„¶ååŒ¹é…å…³é”®è¯ï¼Œé€šè¿‡å…³é”®è¯çš„å…³è”å…³ç³»å»è°ƒç”¨ç›¸å…³æ•°æ®æºã€‚</p>
<p>ä½†æ˜¯å½“ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚æ—¶ï¼Œå°±è¡Œä¸é€šäº†ã€‚å› ä¸ºå¯èƒ½æœ‰å¤šç§å®Œå…¨ä¸åŒçš„éœ€æ±‚ï¼Œä¼šç¢°åˆ°ç±»ä¼¼çš„å…³é”®è¯ã€‚</p>
<p>è¿™ä¸ªäº‹çš„æœ¬è´¨é—®é¢˜æ˜¯ï¼šåœ¨æ‹¿åˆ°ç”¨æˆ·é—®é¢˜æˆ–è€…æŸé¡¹ä»»åŠ¡åï¼ŒLLMè¦è‡ªå·±å†³å®šåº”è¯¥ä½¿ç”¨å“ªäº›æ•°æ®æˆ–è€…ä½¿ç”¨å“ªä¸ªå·¥å…·ã€‚</p>
<p>è¿™ä»¶äº‹åœ¨ä¸šç•Œå·²ç»æœ‰éå¸¸æˆç†Ÿçš„æ–¹æ¡ˆäº†ã€‚</p>
<h2 data-id="heading-0">Tool/Function Calling æ˜¯ä»€ä¹ˆ</h2>
<p>è¿™ä¸¤ä¸ªä¸œè¥¿è™½ç„¶åå­—ä¸åŒï¼Œä½†æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€å›äº‹ã€‚ç›®å‰ä¸»æµçš„å¤§æ¨¡å‹æ¯”å¦‚ChatGPTã€Claudeã€Geminiéƒ½æ”¯æŒFunction Callingã€‚</p>
<p>åŸç†æ˜¯è¿™æ ·ï¼šä½ æŠŠæ•°æ®æºå°è£…æˆä¸€ä¸ªä¸ªå·¥å…·æˆ–å‡½æ•°ï¼Œç»™æ¯ä¸ªå‡½æ•°å–åå­—ã€æè¿°ï¼Œå®šä¹‰å¥½å‚æ•°å’Œè¿”å›æ ¼å¼ï¼›ç„¶åæŠŠè¿™äº›å®šä¹‰å‘Šè¯‰LLMï¼›LLMåœ¨å›ç­”é—®é¢˜æ—¶ï¼Œè‡ªå·±æ¥å†³å®šè¦ä¸è¦è°ƒç”¨å®ƒä»¬ã€‚</p>
<p>ç®€å•ç†è§£å°±æ˜¯ä½ æŠŠç³»ç»Ÿçš„æ•°æ®/åŠŸèƒ½åˆ—æˆåˆ—è¡¨ï¼ŒLLMè´Ÿè´£æŒ‰ç…§éœ€æ±‚è®¿é—®æ•°æ®æˆ–æ‰§è¡ŒåŠŸèƒ½ï¼Œä½ çš„åç«¯ç³»ç»Ÿè´Ÿè´£æä¾›æ•°æ®æˆ–åŠŸèƒ½ã€‚</p>
<p>ä¸è¿‡éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼ŒLLMå¹¶ä¸èƒ½ç²¾å‡†åœ°ä¿è¯æ‰§è¡Œæ˜¯ç»å¯¹æ­£ç¡®çš„ï¼Œå®ƒåªæ˜¯å»ºè®®æˆ‘ä»¬åº”è¯¥å»è°ƒç”¨ä»€ä¹ˆï¼Œå®é™…æ‰§è¡Œæ˜¯ç”±æˆ‘ä»¬çš„åç«¯ä»£ç å®Œæˆã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¯ä»¥å®Œæ•´è¿è¡Œçš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Anthropic</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@anthropic-ai/sdk'</span>;

<span class="hljs-comment">// è®°å¾—åœ¨ç¯å¢ƒé‡Œé…ç½®ï¼šANTHROPIC_API_KEY</span>
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Anthropic</span>({
  <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">ANTHROPIC_API_KEY</span>!,
});

<span class="hljs-comment">// ä¸ºäº†æ–¹ä¾¿å†™ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MessageParam</span> = <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">Messages</span>.<span class="hljs-property">MessageParam</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Tool</span> = <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">Messages</span>.<span class="hljs-property">Tool</span>;

<span class="hljs-comment">// ========== ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ä½ æœ‰å“ªäº›â€œå·¥å…·â€ï¼ˆç›¸å½“äºåŸæ¥çš„ functionsï¼‰ ==========</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">tools</span>: <span class="hljs-title class_">Tool</span>[] = [
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'get_market_data'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">`æŸ¥è¯¢åŠ å¯†è´§å¸å®æ—¶è¡Œæƒ…å’Œå†å²ä»·æ ¼ã€‚
      ç”¨æˆ·é—®"BTCå¤šå°‘é’±"ã€"ETHä»Šå¤©æ¶¨äº†å¤šå°‘"ã€"SOLè¿™å‘¨èµ°åŠ¿æ€ä¹ˆæ ·"è¿™ç±»ç”¨è¿™ä¸ªã€‚
      èƒ½æŸ¥åˆ°ï¼šå½“å‰ä»·æ ¼ã€24hæ¶¨è·Œå¹…ã€æˆäº¤é‡ã€Kçº¿æ•°æ®ç­‰ã€‚
      æ³¨æ„ï¼šè¿™ä¸ªåªæŸ¥ä»·æ ¼è¡Œæƒ…ï¼Œé“¾ä¸Šæ•°æ®å’Œè´¦æˆ·ä¿¡æ¯ç”¨åˆ«çš„å·¥å…·ã€‚`</span>,
    <span class="hljs-attr">input_schema</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
      <span class="hljs-attr">properties</span>: {
        <span class="hljs-attr">symbol</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">description</span>: <span class="hljs-string">'äº¤æ˜“å¯¹ï¼Œæ¯”å¦‚ BTCã€ETHã€SOL'</span>,
        },
        <span class="hljs-attr">data_type</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'realtime'</span>, <span class="hljs-string">'kline'</span>, <span class="hljs-string">'depth'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æ•°æ®ç±»å‹ï¼šå®æ—¶è¡Œæƒ…/Kçº¿/æ·±åº¦'</span>,
        },
        <span class="hljs-attr">interval</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'1h'</span>, <span class="hljs-string">'4h'</span>, <span class="hljs-string">'1d'</span>, <span class="hljs-string">'1w'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'Kçº¿å‘¨æœŸï¼ŒæŸ¥Kçº¿æ—¶è¦ä¼ '</span>,
        },
      },
      <span class="hljs-attr">required</span>: [<span class="hljs-string">'symbol'</span>, <span class="hljs-string">'data_type'</span>],
    },
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'query_portfolio'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">`æŸ¥è¯¢ç”¨æˆ·çš„æŒä»“å’Œè´¦æˆ·ä¿¡æ¯ã€‚
      ç”¨æˆ·é—®"æˆ‘ç°åœ¨ä»“ä½æ€ä¹ˆæ ·"ã€"æˆ‘çš„BTCæˆæœ¬ä»·å¤šå°‘"ã€"è´¦æˆ·ä½™é¢è¿˜æœ‰å¤šå°‘"è¿™ç±»ç”¨è¿™ä¸ªã€‚
      èƒ½æŸ¥åˆ°ï¼šå„å¸ç§æŒä»“æ•°é‡ã€æˆæœ¬ä»·ã€ç›ˆäºæƒ…å†µã€å¯ç”¨ä½™é¢ç­‰ã€‚
      æ³¨æ„ï¼šè¿™æ˜¯ç”¨æˆ·ç§äººæ•°æ®ï¼ŒæŸ¥å¤§ç›˜è¡Œæƒ…åˆ«ç”¨è¿™ä¸ªã€‚`</span>,
    <span class="hljs-attr">input_schema</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
      <span class="hljs-attr">properties</span>: {
        <span class="hljs-attr">query_type</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'positions'</span>, <span class="hljs-string">'balance'</span>, <span class="hljs-string">'pnl'</span>, <span class="hljs-string">'history'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æŸ¥ä»€ä¹ˆï¼šæŒä»“/ä½™é¢/ç›ˆäº/äº¤æ˜“è®°å½•'</span>,
        },
        <span class="hljs-attr">symbol</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">description</span>: <span class="hljs-string">'å…·ä½“å¸ç§ï¼Œä¸ä¼ å°±æŸ¥å…¨éƒ¨'</span>,
        },
        <span class="hljs-attr">time_range</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'today'</span>, <span class="hljs-string">'week'</span>, <span class="hljs-string">'month'</span>, <span class="hljs-string">'all'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æ—¶é—´èŒƒå›´ï¼ŒæŸ¥äº¤æ˜“è®°å½•æ—¶ç”¨'</span>,
        },
      },
      <span class="hljs-attr">required</span>: [<span class="hljs-string">'query_type'</span>],
    },
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'get_onchain_data'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">`æŸ¥è¯¢é“¾ä¸Šæ•°æ®å’Œå·¨é²¸åŠ¨å‘ã€‚
      ç”¨æˆ·é—®"ETHå·¨é²¸æœ€è¿‘åœ¨ä¹°è¿˜æ˜¯å–"ã€"äº¤æ˜“æ‰€å‡€æµå…¥å¤šå°‘"ã€"é“¾ä¸Šæ´»è·ƒåœ°å€æ•°"è¿™ç±»ç”¨è¿™ä¸ªã€‚
      èƒ½æŸ¥åˆ°ï¼šå·¨é²¸è½¬è´¦ã€äº¤æ˜“æ‰€æµå…¥æµå‡ºã€æ´»è·ƒåœ°å€ã€Gasè´¹ã€DeFi TVLç­‰ã€‚
      é€‚åˆåˆ†æå¸‚åœºæƒ…ç»ªå’Œèµ„é‡‘åŠ¨å‘ã€‚`</span>,
    <span class="hljs-attr">input_schema</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
      <span class="hljs-attr">properties</span>: {
        <span class="hljs-attr">chain</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'ethereum'</span>, <span class="hljs-string">'solana'</span>, <span class="hljs-string">'bitcoin'</span>, <span class="hljs-string">'base'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'å“ªæ¡é“¾'</span>,
        },
        <span class="hljs-attr">metric</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [
            <span class="hljs-string">'whale_moves'</span>,
            <span class="hljs-string">'exchange_flow'</span>,
            <span class="hljs-string">'active_addresses'</span>,
            <span class="hljs-string">'gas'</span>,
            <span class="hljs-string">'defi_tvl'</span>,
          ],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æŸ¥ä»€ä¹ˆæŒ‡æ ‡'</span>,
        },
        <span class="hljs-attr">time_range</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'24h'</span>, <span class="hljs-string">'7d'</span>, <span class="hljs-string">'30d'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æ—¶é—´èŒƒå›´'</span>,
        },
      },
      <span class="hljs-attr">required</span>: [<span class="hljs-string">'chain'</span>, <span class="hljs-string">'metric'</span>],
    },
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'search_crypto_news'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">`æœç´¢åŠ å¯†è´§å¸ç›¸å…³æ–°é—»å’Œåˆ†æã€‚
      ç”¨æˆ·é—®"æœ€è¿‘æœ‰ä»€ä¹ˆåˆ©å¥½"ã€"SECé‚£è¾¹æœ‰ä»€ä¹ˆæ¶ˆæ¯"ã€"ä¸ºä»€ä¹ˆä»Šå¤©å¤§è·Œ"è¿™ç±»ç”¨è¿™ä¸ªã€‚
      èƒ½æŸ¥åˆ°ï¼šæ–°é—»å¿«è®¯ã€ç›‘ç®¡åŠ¨æ€ã€é¡¹ç›®å…¬å‘Šã€KOLè§‚ç‚¹ç­‰ã€‚
      é€‚åˆäº†è§£æ¶ˆæ¯é¢å’Œå¸‚åœºæƒ…ç»ªã€‚`</span>,
    <span class="hljs-attr">input_schema</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
      <span class="hljs-attr">properties</span>: {
        <span class="hljs-attr">query</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æœä»€ä¹ˆï¼Œæ¯”å¦‚"ETH ETF"ã€"Solanaç”Ÿæ€"'</span>,
        },
        <span class="hljs-attr">news_type</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'breaking'</span>, <span class="hljs-string">'analysis'</span>, <span class="hljs-string">'regulatory'</span>, <span class="hljs-string">'project'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æ–°é—»ç±»å‹'</span>,
        },
        <span class="hljs-attr">time_range</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>,
          <span class="hljs-attr">enum</span>: [<span class="hljs-string">'today'</span>, <span class="hljs-string">'week'</span>, <span class="hljs-string">'month'</span>],
          <span class="hljs-attr">description</span>: <span class="hljs-string">'æ—¶é—´èŒƒå›´'</span>,
        },
      },
      <span class="hljs-attr">required</span>: [<span class="hljs-string">'query'</span>],
    },
  },
];

<span class="hljs-comment">// ========== ç¬¬äºŒæ­¥ï¼šå®ç°è¿™äº›å·¥å…·çš„å…·ä½“é€»è¾‘ï¼ˆç”¨æ¨¡æ‹Ÿæ•°æ®ï¼‰ ==========</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">toolImplementations</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-function">(<span class="hljs-params">args: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt;&gt; = {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get_market_data</span>(<span class="hljs-params">{
    <span class="hljs-built_in">symbol</span>,
    data_type,
    interval,
  }: {
    <span class="hljs-built_in">symbol</span>: <span class="hljs-built_in">string</span>;
    data_type: <span class="hljs-string">'realtime'</span> | <span class="hljs-string">'kline'</span> | <span class="hljs-string">'depth'</span>;
    interval?: <span class="hljs-string">'1h'</span> | <span class="hljs-string">'4h'</span> | <span class="hljs-string">'1d'</span> | <span class="hljs-string">'1w'</span>;
  }</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[Market] æŸ¥è¯¢ <span class="hljs-subst">${<span class="hljs-built_in">symbol</span>}</span> çš„ <span class="hljs-subst">${data_type}</span>`</span>);

    <span class="hljs-keyword">if</span> (data_type === <span class="hljs-string">'realtime'</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-built_in">symbol</span>,
        <span class="hljs-attr">price</span>: <span class="hljs-number">67234.5</span>,
        <span class="hljs-attr">change_24h</span>: <span class="hljs-string">'+2.35%'</span>,
        <span class="hljs-attr">volume_24h</span>: <span class="hljs-string">'28.5B'</span>,
        <span class="hljs-attr">high_24h</span>: <span class="hljs-number">68100</span>,
        <span class="hljs-attr">low_24h</span>: <span class="hljs-number">65800</span>,
        <span class="hljs-attr">updated_at</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      };
    }

    <span class="hljs-keyword">if</span> (data_type === <span class="hljs-string">'kline'</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-built_in">symbol</span>,
        interval,
        <span class="hljs-attr">data</span>: [
          {
            <span class="hljs-attr">time</span>: <span class="hljs-string">'2024-03-10'</span>,
            <span class="hljs-attr">open</span>: <span class="hljs-number">65000</span>,
            <span class="hljs-attr">high</span>: <span class="hljs-number">67500</span>,
            <span class="hljs-attr">low</span>: <span class="hljs-number">64800</span>,
            <span class="hljs-attr">close</span>: <span class="hljs-number">67200</span>,
          },
          {
            <span class="hljs-attr">time</span>: <span class="hljs-string">'2024-03-11'</span>,
            <span class="hljs-attr">open</span>: <span class="hljs-number">67200</span>,
            <span class="hljs-attr">high</span>: <span class="hljs-number">68100</span>,
            <span class="hljs-attr">low</span>: <span class="hljs-number">66500</span>,
            <span class="hljs-attr">close</span>: <span class="hljs-number">67800</span>,
          },
          {
            <span class="hljs-attr">time</span>: <span class="hljs-string">'2024-03-12'</span>,
            <span class="hljs-attr">open</span>: <span class="hljs-number">67800</span>,
            <span class="hljs-attr">high</span>: <span class="hljs-number">69000</span>,
            <span class="hljs-attr">low</span>: <span class="hljs-number">67000</span>,
            <span class="hljs-attr">close</span>: <span class="hljs-number">67234</span>,
          },
        ],
        <span class="hljs-attr">trend</span>: <span class="hljs-string">'bullish'</span>,
        <span class="hljs-attr">support</span>: <span class="hljs-number">65000</span>,
        <span class="hljs-attr">resistance</span>: <span class="hljs-number">69000</span>,
      };
    }

    <span class="hljs-keyword">if</span> (data_type === <span class="hljs-string">'depth'</span>) {
      <span class="hljs-comment">// ç®€å•æ¨¡æ‹Ÿä¸€ä»½æ·±åº¦</span>
      <span class="hljs-keyword">return</span> {
        <span class="hljs-built_in">symbol</span>,
        <span class="hljs-attr">bids</span>: [
          { <span class="hljs-attr">price</span>: <span class="hljs-number">67200</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">0.5</span> },
          { <span class="hljs-attr">price</span>: <span class="hljs-number">67150</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">1.2</span> },
        ],
        <span class="hljs-attr">asks</span>: [
          { <span class="hljs-attr">price</span>: <span class="hljs-number">67300</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">0.4</span> },
          { <span class="hljs-attr">price</span>: <span class="hljs-number">67400</span>, <span class="hljs-attr">size</span>: <span class="hljs-number">1.0</span> },
        ],
        <span class="hljs-attr">ts</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      };
    }

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">'unknown data_type'</span> };
  },

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">query_portfolio</span>(<span class="hljs-params">{
    query_type,
    <span class="hljs-built_in">symbol</span>,
    time_range,
  }: {
    query_type: <span class="hljs-string">'positions'</span> | <span class="hljs-string">'balance'</span> | <span class="hljs-string">'pnl'</span> | <span class="hljs-string">'history'</span>;
    <span class="hljs-built_in">symbol</span>?: <span class="hljs-built_in">string</span>;
    time_range?: <span class="hljs-string">'today'</span> | <span class="hljs-string">'week'</span> | <span class="hljs-string">'month'</span> | <span class="hljs-string">'all'</span>;
  }</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[Portfolio] æŸ¥è¯¢ <span class="hljs-subst">${query_type}</span>ï¼Œå¸ç§: <span class="hljs-subst">${<span class="hljs-built_in">symbol</span> || <span class="hljs-string">'å…¨éƒ¨'</span>}</span>`</span>);

    <span class="hljs-keyword">if</span> (query_type === <span class="hljs-string">'positions'</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">total_value_usd</span>: <span class="hljs-number">125680</span>,
        <span class="hljs-attr">positions</span>: [
          {
            <span class="hljs-attr">symbol</span>: <span class="hljs-string">'BTC'</span>,
            <span class="hljs-attr">amount</span>: <span class="hljs-number">1.5</span>,
            <span class="hljs-attr">avg_cost</span>: <span class="hljs-number">62000</span>,
            <span class="hljs-attr">current_price</span>: <span class="hljs-number">67234</span>,
            <span class="hljs-attr">pnl</span>: <span class="hljs-string">'+8.44%'</span>,
          },
          {
            <span class="hljs-attr">symbol</span>: <span class="hljs-string">'ETH'</span>,
            <span class="hljs-attr">amount</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">avg_cost</span>: <span class="hljs-number">3200</span>,
            <span class="hljs-attr">current_price</span>: <span class="hljs-number">3456</span>,
            <span class="hljs-attr">pnl</span>: <span class="hljs-string">'+8.00%'</span>,
          },
          {
            <span class="hljs-attr">symbol</span>: <span class="hljs-string">'SOL'</span>,
            <span class="hljs-attr">amount</span>: <span class="hljs-number">100</span>,
            <span class="hljs-attr">avg_cost</span>: <span class="hljs-number">95</span>,
            <span class="hljs-attr">current_price</span>: <span class="hljs-number">142</span>,
            <span class="hljs-attr">pnl</span>: <span class="hljs-string">'+49.47%'</span>,
          },
        ],
      };
    }

    <span class="hljs-keyword">if</span> (query_type === <span class="hljs-string">'pnl'</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">today</span>: <span class="hljs-string">'+$2,350 (+1.9%)'</span>,
        <span class="hljs-attr">week</span>: <span class="hljs-string">'+$8,900 (+7.6%)'</span>,
        <span class="hljs-attr">month</span>: <span class="hljs-string">'+$15,600 (+14.2%)'</span>,
        <span class="hljs-attr">total</span>: <span class="hljs-string">'+$35,680 (+39.6%)'</span>,
      };
    }

    <span class="hljs-keyword">if</span> (query_type === <span class="hljs-string">'balance'</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">total_equity_usd</span>: <span class="hljs-number">130000</span>,
        <span class="hljs-attr">available_usd</span>: <span class="hljs-number">20000</span>,
        <span class="hljs-attr">margin_used_usd</span>: <span class="hljs-number">110000</span>,
      };
    }

    <span class="hljs-keyword">if</span> (query_type === <span class="hljs-string">'history'</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">time_range</span>: time_range ?? <span class="hljs-string">'month'</span>,
        <span class="hljs-attr">trades</span>: [
          {
            <span class="hljs-attr">time</span>: <span class="hljs-string">'2024-03-11 13:20'</span>,
            <span class="hljs-attr">symbol</span>: <span class="hljs-string">'BTC'</span>,
            <span class="hljs-attr">side</span>: <span class="hljs-string">'buy'</span>,
            <span class="hljs-attr">price</span>: <span class="hljs-number">65000</span>,
            <span class="hljs-attr">size</span>: <span class="hljs-number">0.5</span>,
            <span class="hljs-attr">fee</span>: <span class="hljs-number">10</span>,
          },
          {
            <span class="hljs-attr">time</span>: <span class="hljs-string">'2024-03-12 09:45'</span>,
            <span class="hljs-attr">symbol</span>: <span class="hljs-string">'ETH'</span>,
            <span class="hljs-attr">side</span>: <span class="hljs-string">'sell'</span>,
            <span class="hljs-attr">price</span>: <span class="hljs-number">3400</span>,
            <span class="hljs-attr">size</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">fee</span>: <span class="hljs-number">5</span>,
          },
        ],
      };
    }

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">'unknown query_type'</span> };
  },

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get_onchain_data</span>(<span class="hljs-params">{
    chain,
    metric,
    time_range,
  }: {
    chain: <span class="hljs-string">'ethereum'</span> | <span class="hljs-string">'solana'</span> | <span class="hljs-string">'bitcoin'</span> | <span class="hljs-string">'base'</span>;
    metric:
      | <span class="hljs-string">'whale_moves'</span>
      | <span class="hljs-string">'exchange_flow'</span>
      | <span class="hljs-string">'active_addresses'</span>
      | <span class="hljs-string">'gas'</span>
      | <span class="hljs-string">'defi_tvl'</span>;
    time_range: <span class="hljs-string">'24h'</span> | <span class="hljs-string">'7d'</span> | <span class="hljs-string">'30d'</span>;
  }</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[OnChain] æŸ¥è¯¢ <span class="hljs-subst">${chain}</span> çš„ <span class="hljs-subst">${metric}</span>`</span>);

    <span class="hljs-keyword">if</span> (metric === <span class="hljs-string">'whale_moves'</span>) {
      <span class="hljs-keyword">return</span> {
        chain,
        time_range,
        <span class="hljs-attr">summary</span>: <span class="hljs-string">'è¿‡å»24å°æ—¶å·¨é²¸å‡€ä¹°å…¥'</span>,
        <span class="hljs-attr">large_txs</span>: [
          {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'buy'</span>,
            <span class="hljs-attr">amount</span>: <span class="hljs-string">'500 BTC'</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-string">'$33.5M'</span>,
            <span class="hljs-attr">from</span>: <span class="hljs-string">'Binance'</span>,
          },
          {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'buy'</span>,
            <span class="hljs-attr">amount</span>: <span class="hljs-string">'2000 ETH'</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-string">'$6.9M'</span>,
            <span class="hljs-attr">from</span>: <span class="hljs-string">'Unknown Wallet'</span>,
          },
          {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'sell'</span>,
            <span class="hljs-attr">amount</span>: <span class="hljs-string">'100 BTC'</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-string">'$6.7M'</span>,
            <span class="hljs-attr">to</span>: <span class="hljs-string">'Coinbase'</span>,
          },
        ],
        <span class="hljs-attr">net_flow</span>: <span class="hljs-string">'+$33.7M'</span>,
        <span class="hljs-attr">sentiment</span>: <span class="hljs-string">'accumulation'</span>,
      };
    }

    <span class="hljs-keyword">if</span> (metric === <span class="hljs-string">'exchange_flow'</span>) {
      <span class="hljs-keyword">return</span> {
        chain,
        time_range,
        <span class="hljs-attr">inflow</span>: <span class="hljs-string">'$245M'</span>,
        <span class="hljs-attr">outflow</span>: <span class="hljs-string">'$312M'</span>,
        <span class="hljs-attr">net_flow</span>: <span class="hljs-string">'-$67M (å‡€æµå‡º)'</span>,
        <span class="hljs-attr">interpretation</span>: <span class="hljs-string">'èµ„é‡‘ä»äº¤æ˜“æ‰€æµå‡ºï¼Œé€šå¸¸æ˜¯çœ‹æ¶¨ä¿¡å·'</span>,
      };
    }

    <span class="hljs-keyword">if</span> (metric === <span class="hljs-string">'active_addresses'</span>) {
      <span class="hljs-keyword">return</span> {
        chain,
        time_range,
        <span class="hljs-attr">active_addresses</span>: <span class="hljs-number">987654</span>,
        <span class="hljs-attr">change_pct</span>: <span class="hljs-string">'+12.3%'</span>,
      };
    }

    <span class="hljs-keyword">if</span> (metric === <span class="hljs-string">'gas'</span>) {
      <span class="hljs-keyword">return</span> {
        chain,
        time_range,
        <span class="hljs-attr">avg_gwei</span>: <span class="hljs-number">28</span>,
        <span class="hljs-attr">max_gwei</span>: <span class="hljs-number">80</span>,
        <span class="hljs-attr">min_gwei</span>: <span class="hljs-number">5</span>,
        <span class="hljs-attr">comment</span>: <span class="hljs-string">'å½“å‰ Gas å¤„äºä¸­ç­‰æ°´å¹³ï¼Œé€‚åˆæ­£å¸¸é“¾ä¸Šæ“ä½œ'</span>,
      };
    }

    <span class="hljs-keyword">if</span> (metric === <span class="hljs-string">'defi_tvl'</span>) {
      <span class="hljs-keyword">return</span> {
        chain,
        time_range,
        <span class="hljs-attr">tvl_usd</span>: <span class="hljs-string">'$21.3B'</span>,
        <span class="hljs-attr">change_pct</span>: <span class="hljs-string">'+4.5%'</span>,
      };
    }

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">'unknown metric'</span> };
  },

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">search_crypto_news</span>(<span class="hljs-params">{
    query,
    news_type,
    time_range,
  }: {
    query: <span class="hljs-built_in">string</span>;
    news_type?: <span class="hljs-string">'breaking'</span> | <span class="hljs-string">'analysis'</span> | <span class="hljs-string">'regulatory'</span> | <span class="hljs-string">'project'</span>;
    time_range?: <span class="hljs-string">'today'</span> | <span class="hljs-string">'week'</span> | <span class="hljs-string">'month'</span>;
  }</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[News] æœç´¢: <span class="hljs-subst">${query}</span>`</span>);

    <span class="hljs-keyword">return</span> {
      query,
      <span class="hljs-attr">time_range</span>: time_range ?? <span class="hljs-string">'week'</span>,
      <span class="hljs-attr">news_type</span>: news_type ?? <span class="hljs-string">'analysis'</span>,
      <span class="hljs-attr">results</span>: [
        {
          <span class="hljs-attr">title</span>: <span class="hljs-string">'BlackRock ETF å•æ—¥æµå…¥åˆ›æ–°é«˜'</span>,
          <span class="hljs-attr">source</span>: <span class="hljs-string">'The Block'</span>,
          <span class="hljs-attr">time</span>: <span class="hljs-string">'2å°æ—¶å‰'</span>,
          <span class="hljs-attr">summary</span>: <span class="hljs-string">'IBIT å•æ—¥å‡€æµå…¥è¶…è¿‡ $500Mï¼Œåˆ›ä¸Šå¸‚ä»¥æ¥æ–°é«˜...'</span>,
          <span class="hljs-attr">sentiment</span>: <span class="hljs-string">'bullish'</span>,
        },
        {
          <span class="hljs-attr">title</span>: <span class="hljs-string">'SEC ä¸»å¸­æš—ç¤ºå¯èƒ½æ‰¹å‡†æ›´å¤šåŠ å¯†ETF'</span>,
          <span class="hljs-attr">source</span>: <span class="hljs-string">'CoinDesk'</span>,
          <span class="hljs-attr">time</span>: <span class="hljs-string">'5å°æ—¶å‰'</span>,
          <span class="hljs-attr">summary</span>: <span class="hljs-string">'Gary Gensler åœ¨å¬è¯ä¼šä¸Šè¡¨ç¤ºæ­£åœ¨è¯„ä¼°å¤šä¸ªETFç”³è¯·...'</span>,
          <span class="hljs-attr">sentiment</span>: <span class="hljs-string">'bullish'</span>,
        },
      ],
      <span class="hljs-attr">overall_sentiment</span>: <span class="hljs-string">'positive'</span>,
    };
  },
};

<span class="hljs-comment">// ========== ç¬¬ä¸‰æ­¥ï¼šæ ¸å¿ƒé€»è¾‘ï¼Œå¤„ç†ç”¨æˆ·æ¶ˆæ¯ï¼ˆAnthropic tool_use å¾ªç¯ï¼‰ ==========</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SYSTEM_PROMPT</span> = <span class="hljs-string">`ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åŠ å¯†è´§å¸äº¤æ˜“åŠ©æ‰‹ã€‚
æ ¹æ®ç”¨æˆ·é—®é¢˜é€‰æ‹©åˆé€‚çš„å·¥å…·æŸ¥è¯¢æ•°æ®ï¼Œç„¶åç»™å‡ºåˆ†æå’Œå»ºè®®ã€‚
å›ç­”è¦ç®€æ´ä¸“ä¸šï¼Œå¯ä»¥ç”¨ä¸€äº›å¸åœˆæœ¯è¯­ï¼Œä½†æ ¸å¿ƒè§‚ç‚¹è¦æ¸…æ™°ã€‚
æ¶‰åŠæŠ•èµ„å»ºè®®æ—¶è¦æé†’é£é™©ï¼Œå¼ºè°ƒâ€œæœ¬å›ç­”ä¸æ„æˆæŠ•èµ„å»ºè®®ï¼Œå¸‚åœºæœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…â€ã€‚`</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">chat</span>(<span class="hljs-params">userMessage: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">messages</span>: <span class="hljs-title class_">MessageParam</span>[] = [
    {
      <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
      <span class="hljs-attr">content</span>: [
        {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>,
          <span class="hljs-attr">text</span>: userMessage,
        },
      ],
    },
  ];

  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> client.<span class="hljs-property">messages</span>.<span class="hljs-title function_">create</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">'claude-sonnet-4-5'</span>,
      <span class="hljs-attr">max_tokens</span>: <span class="hljs-number">2048</span>,
      <span class="hljs-attr">system</span>: <span class="hljs-variable constant_">SYSTEM_PROMPT</span>,
      tools,
      messages,
    });

    <span class="hljs-comment">// æŠŠè¿™è½®çš„ assistant å†…å®¹ï¼ˆå¯èƒ½å« tool_useï¼‰åŠ å…¥å¯¹è¯å†å²</span>
    messages.<span class="hljs-title function_">push</span>({
      <span class="hljs-attr">role</span>: <span class="hljs-string">'assistant'</span>,
      <span class="hljs-attr">content</span>: response.<span class="hljs-property">content</span>,
    });

    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">stop_reason</span> === <span class="hljs-string">'tool_use'</span>) {
      <span class="hljs-comment">// æå–æ‰€æœ‰ tool_use block</span>
      <span class="hljs-keyword">const</span> toolUses = response.<span class="hljs-property">content</span>.<span class="hljs-title function_">filter</span>(
        <span class="hljs-function">(<span class="hljs-params">b</span>) =&gt;</span> b.<span class="hljs-property">type</span> === <span class="hljs-string">'tool_use'</span>,
      ) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">Messages</span>.<span class="hljs-property">ToolUseBlock</span>[];

      <span class="hljs-keyword">const</span> <span class="hljs-attr">toolResultBlocks</span>: <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">Messages</span>.<span class="hljs-property">ToolResultBlockParam</span>[] = [];

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> toolUse <span class="hljs-keyword">of</span> toolUses) {
        <span class="hljs-keyword">const</span> { id, name, input } = toolUse;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`\n&gt;&gt;&gt; è°ƒç”¨å·¥å…·: <span class="hljs-subst">${name}</span>`</span>);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'    å‚æ•°:'</span>, input);

        <span class="hljs-keyword">const</span> impl = toolImplementations[name];
        <span class="hljs-keyword">if</span> (!impl) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`æœªæ‰¾åˆ°å·¥å…·å®ç°: <span class="hljs-subst">${name}</span>`</span>);
          toolResultBlocks.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'tool_result'</span>,
            <span class="hljs-attr">tool_use_id</span>: id,
            <span class="hljs-attr">content</span>: <span class="hljs-string">`å·¥å…· <span class="hljs-subst">${name}</span> æœªå®ç°`</span>,
            <span class="hljs-attr">is_error</span>: <span class="hljs-literal">true</span>,
          });
          <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-keyword">let</span> <span class="hljs-attr">result</span>: <span class="hljs-built_in">any</span>;
        <span class="hljs-keyword">try</span> {
          result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">impl</span>(input);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">err</span>: <span class="hljs-built_in">any</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å·¥å…·æ‰§è¡Œå¼‚å¸¸:'</span>, err);
          result = { <span class="hljs-attr">error</span>: <span class="hljs-title class_">String</span>(err?.<span class="hljs-property">message</span> ?? err) };
        }

        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
          <span class="hljs-string">'    ç»“æœ:'</span>,
          <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">120</span>) + <span class="hljs-string">'...'</span>,
        );

        toolResultBlocks.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">type</span>: <span class="hljs-string">'tool_result'</span>,
          <span class="hljs-attr">tool_use_id</span>: id,
          <span class="hljs-attr">content</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result),
        });
      }

      <span class="hljs-comment">// tool_result è¦ä½œä¸ºä¸‹ä¸€æ¡ user æ¶ˆæ¯å‘å›ç»™ Claude</span>
      messages.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
        <span class="hljs-attr">content</span>: toolResultBlocks,
      });

      <span class="hljs-comment">// ç»§ç»­ä¸‹ä¸€è½®å¾ªç¯ï¼Œè®© Claude åŸºäºå·¥å…·ç»“æœå†æƒ³æƒ³ï¼ˆè¦ä¸è¦å†è°ƒå·¥å…·/ç»™æœ€ç»ˆå›ç­”ï¼‰</span>
      <span class="hljs-keyword">continue</span>;
    }

    <span class="hljs-comment">// æ²¡æœ‰æ–°çš„ tool_use äº†ï¼Œæ‹¿åˆ°æœ€ç»ˆæ–‡æœ¬å›å¤</span>
    <span class="hljs-keyword">const</span> text = response.<span class="hljs-property">content</span>
      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">b</span>) =&gt;</span> b.<span class="hljs-property">type</span> === <span class="hljs-string">'text'</span>)
      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">b</span>) =&gt;</span> (b <span class="hljs-keyword">as</span> <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">Messages</span>.<span class="hljs-property">TextBlock</span>).<span class="hljs-property">text</span>)
      .<span class="hljs-title function_">join</span>(<span class="hljs-string">'\n'</span>);

    <span class="hljs-keyword">return</span> text || <span class="hljs-string">'[æ²¡æœ‰ç”Ÿæˆæ–‡æœ¬å›å¤]'</span>;
  }
}

<span class="hljs-comment">// ========== æµ‹è¯•ä¸€ä¸‹ ==========</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> questions = [
    <span class="hljs-string">'å¤§é¥¼ç°åœ¨å¤šå°‘é’±'</span>,
    <span class="hljs-string">'æˆ‘çš„ä»“ä½ç°åœ¨ç›ˆäºæ€ä¹ˆæ ·'</span>,
    <span class="hljs-string">'ETH å·¨é²¸æœ€è¿‘åœ¨å¹²å˜›'</span>,
    <span class="hljs-string">'æœ€è¿‘æœ‰ä»€ä¹ˆåˆ©å¥½æ¶ˆæ¯'</span>,
    <span class="hljs-string">'SOL èƒ½ä¸èƒ½ç»§ç»­åŠ ä»“ï¼ˆä»è¡Œæƒ…ã€é“¾ä¸Šå’Œæ–°é—»ç»¼åˆåˆ†æä¸€ä¸‹ï¼‰'</span>,
  ];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> q <span class="hljs-keyword">of</span> questions) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n'</span> + <span class="hljs-string">'='</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>));
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç”¨æˆ·: <span class="hljs-subst">${q}</span>`</span>);
    <span class="hljs-keyword">const</span> answer = <span class="hljs-keyword">await</span> <span class="hljs-title function_">chat</span>(q);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åŠ©æ‰‹: <span class="hljs-subst">${answer}</span>`</span>);
  }
}

<span class="hljs-title function_">main</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>);
});
</code></pre>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥è·‘ä¸€ä¸‹ä»£ç çœ‹çœ‹æ•ˆæœï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆå§‹åŒ–é¡¹ç›®ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼‰</span>
npm init -y

<span class="hljs-comment"># 2. å®‰è£… Anthropic SDK + TS ä¾èµ–</span>
npm install @anthropic-ai/sdk
npm install -D typescript ts-node @types/node
npx tsc --init
<span class="hljs-comment"># å°† ts.config.json ä¸­çš„ verbatimModuleSyntax å…³æ‰</span>
<span class="hljs-comment"># "verbatimModuleSyntax": false</span>

<span class="hljs-comment"># 3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆæ ¹æ®ä½ çš„ shell æ¥ï¼‰</span>
<span class="hljs-built_in">export</span> ANTHROPIC_API_KEY=ä½ çš„key

<span class="hljs-comment"># 4. è¿è¡Œ</span>
npx ts-node ai-crypto-trader.ts
</code></pre>
<p>ç°åœ¨å¯ä»¥çœ‹åˆ°LLMå¯ä»¥è‡ªå·±æ ¹æ®é—®é¢˜éœ€æ±‚æ¥æŸ¥æ•°æ®ï¼Œä¸éœ€è¦å†™ä»»ä½•åˆ¤æ–­ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">==================================================
ç”¨æˆ·: å¤§é¥¼ç°åœ¨å¤šå°‘é’±

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: get_market_data
    å‚æ•°: { symbol: <span class="hljs-string">'BTC'</span>, data_type: <span class="hljs-string">'realtime'</span> }
[Market] æŸ¥è¯¢ BTC çš„ realtime
    ç»“æœ: {<span class="hljs-string">"symbol"</span>:<span class="hljs-string">"BTC"</span>,<span class="hljs-string">"price"</span>:67234.5,<span class="hljs-string">"change_24h"</span>:<span class="hljs-string">"+2.35%"</span>,<span class="hljs-string">"volume_24h"</span>:<span class="hljs-string">"28.5B"</span>,<span class="hljs-string">"high_24h"</span>:68100,<span class="hljs-string">"low_24h"</span>:65800,<span class="hljs-string">"updated_at"</span>...
åŠ©æ‰‹: å¤§é¥¼ï¼ˆBTCï¼‰ç°åœ¨ä»·æ ¼åœ¨ **<span class="hljs-variable">$67</span>,234.5** å·¦å³ã€‚

ğŸ“Š **24hè¡Œæƒ…**ï¼š
- æ¶¨å¹…ï¼š+2.35% âœ… 
- 24hæœ€é«˜ï¼š<span class="hljs-variable">$68</span>,100
- 24hæœ€ä½ï¼š<span class="hljs-variable">$65</span>,800
- æˆäº¤é‡ï¼š285äº¿ç¾å…ƒ

ä»Šå¤©èµ°åŠ¿è¿˜ä¸é”™ï¼Œåœ¨<span class="hljs-variable">$65</span>.8k-<span class="hljs-variable">$68</span>.1kåŒºé—´éœ‡è¡ï¼Œé‡èƒ½ä¹Ÿæ¯”è¾ƒå……è¶³ã€‚ç›®å‰å¤„äºè¿‘æœŸç›¸å¯¹å¼ºåŠ¿çš„ä½ç½®ã€‚

==================================================
ç”¨æˆ·: æˆ‘çš„ä»“ä½ç°åœ¨ç›ˆäºæ€ä¹ˆæ ·

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: query_portfolio
    å‚æ•°: { query_type: <span class="hljs-string">'pnl'</span> }
[Portfolio] æŸ¥è¯¢ pnlï¼Œå¸ç§: å…¨éƒ¨
    ç»“æœ: {<span class="hljs-string">"today"</span>:<span class="hljs-string">"+<span class="hljs-variable">$2</span>,350 (+1.9%)"</span>,<span class="hljs-string">"week"</span>:<span class="hljs-string">"+<span class="hljs-variable">$8</span>,900 (+7.6%)"</span>,<span class="hljs-string">"month"</span>:<span class="hljs-string">"+<span class="hljs-variable">$15</span>,600 (+14.2%)"</span>,<span class="hljs-string">"total"</span>:<span class="hljs-string">"+<span class="hljs-variable">$35</span>,680 (+39.6%)"</span>}...
åŠ©æ‰‹: ä¸é”™å•Šè€é“ï¼ä½ çš„è´¦æˆ·ç›ˆåˆ©æƒ…å†µå¾ˆå¥åº·ï¼š

ğŸ“Š **ç›ˆäºæ•°æ®ï¼š**
- **ä»Šæ—¥ï¼š** +<span class="hljs-variable">$2</span>,350 (â†‘1.9%)
- **æœ¬å‘¨ï¼š** +<span class="hljs-variable">$8</span>,900 (â†‘7.6%)
- **æœ¬æœˆï¼š** +<span class="hljs-variable">$15</span>,600 (â†‘14.2%)
- **æ€»è®¡ï¼š** +<span class="hljs-variable">$35</span>,680 (â†‘39.6%)

ğŸ’¡ **ç®€æï¼š**
- æ€»ä½“æ”¶ç›Šè¿‘40%ï¼Œè¿™ä¸ªå›æŠ¥ç‡ç›¸å½“å¯ä»¥äº†
- æœ€è¿‘ä¸€å‘¨æ¶¨åŠ¿æ˜æ˜¾ï¼Œå¯èƒ½èµ¶ä¸Šäº†è¿™æ³¢è¡Œæƒ…
- ä»Šå¤©ç»§ç»­ç»´æŒæ­£æ”¶ç›Šï¼Œè¶‹åŠ¿å‘å¥½

âš ï¸ **å»ºè®®ï¼š**
- ç›ˆåˆ©å¯è§‚çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘é€‚å½“æ­¢ç›ˆé”å®šåˆ©æ¶¦
- å»ºè®®è®¾ç½®å¥½æ­¢æŸä½ï¼Œä¿æŠ¤ç°æœ‰æ”¶ç›Š
- å¦‚æœæƒ³äº†è§£å…·ä½“æ˜¯å“ªä¸ªå¸ç§è´¡çŒ®æœ€å¤šï¼Œæˆ‘å¯ä»¥å¸®ä½ æŸ¥çœ‹è¯¦ç»†æŒä»“

éœ€è¦çœ‹ä¸‹å…·ä½“æŒä»“æ˜ç»†å—ï¼Ÿ

==================================================
ç”¨æˆ·: ETH å·¨é²¸æœ€è¿‘åœ¨å¹²å˜›

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: get_onchain_data
    å‚æ•°: { chain: <span class="hljs-string">'ethereum'</span>, metric: <span class="hljs-string">'whale_moves'</span>, time_range: <span class="hljs-string">'7d'</span> }
[OnChain] æŸ¥è¯¢ ethereum çš„ whale_moves
    ç»“æœ: {<span class="hljs-string">"chain"</span>:<span class="hljs-string">"ethereum"</span>,<span class="hljs-string">"time_range"</span>:<span class="hljs-string">"7d"</span>,<span class="hljs-string">"summary"</span>:<span class="hljs-string">"è¿‡å»24å°æ—¶å·¨é²¸å‡€ä¹°å…¥"</span>,<span class="hljs-string">"large_txs"</span>:[{<span class="hljs-string">"type"</span>:<span class="hljs-string">"buy"</span>,<span class="hljs-string">"amount"</span>:<span class="hljs-string">"500 BTC"</span>,<span class="hljs-string">"value"</span>:<span class="hljs-string">"<span class="hljs-variable">$33</span>...

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: get_onchain_data
    å‚æ•°: { chain: 'ethereum', metric: 'exchange_flow', time_range: '7d' }
[OnChain] æŸ¥è¯¢ ethereum çš„ exchange_flow
    ç»“æœ: {"</span>chain<span class="hljs-string">":"</span>ethereum<span class="hljs-string">","</span>time_range<span class="hljs-string">":"</span>7d<span class="hljs-string">","</span>inflow<span class="hljs-string">":"</span><span class="hljs-variable">$245M</span><span class="hljs-string">","</span>outflow<span class="hljs-string">":"</span><span class="hljs-variable">$312M</span><span class="hljs-string">","</span>net_flow<span class="hljs-string">":"</span>-<span class="hljs-variable">$67M</span> (å‡€æµå‡º)<span class="hljs-string">","</span>interpretation<span class="hljs-string">":"</span>èµ„é‡‘ä»äº¤...
åŠ©æ‰‹: æ ¹æ®é“¾ä¸Šæ•°æ®ï¼ŒETH å·¨é²¸æœ€è¿‘çš„åŠ¨å‘æŒºæœ‰æ„æ€çš„ï¼š

<span class="hljs-comment">## å·¨é²¸è¡Œä¸ºåˆ†æ</span>

**è¿‡å»7å¤©è¡¨ç°ï¼š**
- **æ•´ä½“æ€åŠ¿**ï¼šå¤„äº**å›¤å¸æ¨¡å¼**ï¼ˆaccumulationï¼‰
- **24å°æ—¶å‡€ä¹°å…¥**ï¼šçº¦ <span class="hljs-variable">$33</span>.7M
- **ä¸»è¦åŠ¨ä½œ**ï¼š
  - ä» Binance æèµ° 500 BTCï¼ˆ<span class="hljs-variable">$33</span>.5Mï¼‰
  - æœªçŸ¥é’±åŒ…ä¹°å…¥ 2000 ETHï¼ˆ<span class="hljs-variable">$6</span>.9Mï¼‰
  - å°‘é‡å–å‡º 100 BTC åˆ° Coinbaseï¼ˆ<span class="hljs-variable">$6</span>.7Mï¼‰

**äº¤æ˜“æ‰€æµåŠ¨æ€§ï¼š**
- 7å¤©å‡€æµå‡º **<span class="hljs-variable">$67M</span>**
- æµå…¥ï¼š<span class="hljs-variable">$245M</span> / æµå‡ºï¼š<span class="hljs-variable">$312M</span>
- ğŸ’¡ **èµ„é‡‘æ­£åœ¨ç¦»å¼€äº¤æ˜“æ‰€ï¼Œè¿™é€šå¸¸æ˜¯çœ‹æ¶¨ä¿¡å·**

<span class="hljs-comment">## è§£è¯»</span>

å·¨é²¸æ­£åœ¨ä»äº¤æ˜“æ‰€**æå¸åˆ°å†·é’±åŒ…**ï¼Œè¿™ç§è¡Œä¸ºä¸€èˆ¬æ„å‘³ç€ï¼š
1. **é•¿æœŸçœ‹å¥½**ï¼Œä¸æ‰“ç®—çŸ­æœŸå–å‡º
2. **å‡å°‘å¸‚åœºæŠ›å‹**ï¼Œæµé€šç›˜æ”¶ç´§
3. **å¯èƒ½ä¸ºä¸‹ä¸€æ³¢æ‹‰å‡åšå‡†å¤‡**

ä¸è¿‡è¦æ³¨æ„ï¼Œå·¨é²¸ä¹Ÿå¯èƒ½æ˜¯åœ¨è½¬ç§»èµ„äº§è¿›è¡Œ OTC äº¤æ˜“æˆ–å…¶ä»–æ“ä½œï¼Œå»ºè®®ç»“åˆå®è§‚é¢å’ŒæŠ€æœ¯é¢ç»¼åˆåˆ¤æ–­ã€‚

---
*æœ¬å›ç­”ä¸æ„æˆæŠ•èµ„å»ºè®®ï¼Œå¸‚åœºæœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚*

==================================================
ç”¨æˆ·: æœ€è¿‘æœ‰ä»€ä¹ˆåˆ©å¥½æ¶ˆæ¯

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: search_crypto_news
    å‚æ•°: { query: <span class="hljs-string">'åˆ©å¥½'</span>, news_type: <span class="hljs-string">'breaking'</span>, time_range: <span class="hljs-string">'week'</span> }
[News] æœç´¢: åˆ©å¥½
    ç»“æœ: {<span class="hljs-string">"query"</span>:<span class="hljs-string">"åˆ©å¥½"</span>,<span class="hljs-string">"time_range"</span>:<span class="hljs-string">"week"</span>,<span class="hljs-string">"news_type"</span>:<span class="hljs-string">"breaking"</span>,<span class="hljs-string">"results"</span>:[{<span class="hljs-string">"title"</span>:<span class="hljs-string">"BlackRock ETF å•æ—¥æµå…¥åˆ›æ–°é«˜"</span>,<span class="hljs-string">"source"</span>:<span class="hljs-string">"The Block...
åŠ©æ‰‹: å¥½æ¶ˆæ¯ï¼æœ€è¿‘ç¡®å®æœ‰ä¸å°‘åˆ©å¥½ï¼š

**ğŸš€ é‡ç£…åˆ©å¥½ï¼š**

1. **BlackRock ETFåˆ›çºªå½•æµå…¥**ï¼ˆ2å°æ—¶å‰ï¼‰
   - IBITå•æ—¥å‡€æµå…¥è¶…è¿‡5äº¿ç¾å…ƒï¼Œåˆ›ä¸Šå¸‚ä»¥æ¥æ–°é«˜
   - è¯´æ˜æœºæ„èµ„é‡‘æŒç»­è¿›åœºï¼Œå¯¹åå¸‚æ¯”è¾ƒçœ‹æ¶¨

2. **SECæ€åº¦æ¾åŠ¨**ï¼ˆ5å°æ—¶å‰ï¼‰
   - SECä¸»å¸­Gary Gensleråœ¨å¬è¯ä¼šä¸Šæš—ç¤ºå¯èƒ½æ‰¹å‡†æ›´å¤šåŠ å¯†ETFç”³è¯·
   - è¿™å¯¹æ•´ä¸ªåŠ å¯†å¸‚åœºæ˜¯é‡å¤§åˆ©å¥½ï¼Œå¯èƒ½å¸¦æ¥æ–°ä¸€è½®èµ„é‡‘å…¥åœº

**ğŸ“Š å¸‚åœºæƒ…ç»ªï¼š**
æ•´ä½“åæ­£é¢ï¼ˆPositiveï¼‰ï¼Œæœºæ„èµ„é‡‘æµå…¥+ç›‘ç®¡æ€åº¦è½¬å‘ï¼Œéƒ½æ˜¯ç§¯æä¿¡å·

**ğŸ’¡ ä¸ªäººè§‚ç‚¹ï¼š**
- ETFæŒç»­å¸é‡‘è¯´æ˜ä¼ ç»Ÿèµ„é‡‘è®¤å¯åº¦åœ¨æå‡
- å¦‚æœæ›´å¤šETFè·æ‰¹ï¼Œå¯èƒ½æ‰“å¼€æ–°çš„ä¸Šæ¶¨ç©ºé—´
- ä½†çŸ­æœŸè¦æ³¨æ„è·åˆ©ç›˜å›åé£é™©

âš ï¸ **é£é™©æç¤º**ï¼šæœ¬å›ç­”ä¸æ„æˆæŠ•èµ„å»ºè®®ï¼Œå¸‚åœºæœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚åˆ©å¥½æ¶ˆæ¯è™½å¤šï¼Œä½†åŠ å¯†å¸‚åœºæ³¢åŠ¨å¤§ï¼Œå»ºè®®åˆç†é…ç½®ä»“ä½ã€‚

éœ€è¦æˆ‘å¸®ä½ æŸ¥çœ‹å…·ä½“å“ªä¸ªå¸ç§çš„è¡Œæƒ…å—ï¼Ÿ

==================================================
ç”¨æˆ·: SOL èƒ½ä¸èƒ½ç»§ç»­åŠ ä»“ï¼ˆä»è¡Œæƒ…ã€é“¾ä¸Šå’Œæ–°é—»ç»¼åˆåˆ†æä¸€ä¸‹ï¼‰

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: get_market_data
    å‚æ•°: { symbol: 'SOL', data_type: 'realtime' }
[Market] æŸ¥è¯¢ SOL çš„ realtime
    ç»“æœ: {"</span>symbol<span class="hljs-string">":"</span>SOL<span class="hljs-string">","</span>price<span class="hljs-string">":67234.5,"</span>change_24h<span class="hljs-string">":"</span>+2.35%<span class="hljs-string">","</span>volume_24h<span class="hljs-string">":"</span>28.5B<span class="hljs-string">","</span>high_24h<span class="hljs-string">":68100,"</span>low_24h<span class="hljs-string">":65800,"</span>updated_at<span class="hljs-string">"...

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: get_onchain_data
    å‚æ•°: { chain: 'solana', metric: 'whale_moves', time_range: '7d' }
[OnChain] æŸ¥è¯¢ solana çš„ whale_moves
    ç»“æœ: {"</span>chain<span class="hljs-string">":"</span>solana<span class="hljs-string">","</span>time_range<span class="hljs-string">":"</span>7d<span class="hljs-string">","</span>summary<span class="hljs-string">":"</span>è¿‡å»24å°æ—¶å·¨é²¸å‡€ä¹°å…¥<span class="hljs-string">","</span>large_txs<span class="hljs-string">":[{"</span><span class="hljs-built_in">type</span><span class="hljs-string">":"</span>buy<span class="hljs-string">","</span>amount<span class="hljs-string">":"</span>500 BTC<span class="hljs-string">","</span>value<span class="hljs-string">":"</span><span class="hljs-variable">$33</span>.5...

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: get_onchain_data
    å‚æ•°: { chain: <span class="hljs-string">'solana'</span>, metric: <span class="hljs-string">'active_addresses'</span>, time_range: <span class="hljs-string">'7d'</span> }
[OnChain] æŸ¥è¯¢ solana çš„ active_addresses
    ç»“æœ: {<span class="hljs-string">"chain"</span>:<span class="hljs-string">"solana"</span>,<span class="hljs-string">"time_range"</span>:<span class="hljs-string">"7d"</span>,<span class="hljs-string">"active_addresses"</span>:987654,<span class="hljs-string">"change_pct"</span>:<span class="hljs-string">"+12.3%"</span>}...

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: get_onchain_data
    å‚æ•°: { chain: <span class="hljs-string">'solana'</span>, metric: <span class="hljs-string">'defi_tvl'</span>, time_range: <span class="hljs-string">'30d'</span> }
[OnChain] æŸ¥è¯¢ solana çš„ defi_tvl
    ç»“æœ: {<span class="hljs-string">"chain"</span>:<span class="hljs-string">"solana"</span>,<span class="hljs-string">"time_range"</span>:<span class="hljs-string">"30d"</span>,<span class="hljs-string">"tvl_usd"</span>:<span class="hljs-string">"<span class="hljs-variable">$21</span>.3B"</span>,<span class="hljs-string">"change_pct"</span>:<span class="hljs-string">"+4.5%"</span>}...

&gt;&gt;&gt; è°ƒç”¨å·¥å…·: search_crypto_news
    å‚æ•°: { query: <span class="hljs-string">'Solana SOL'</span>, time_range: <span class="hljs-string">'week'</span> }
[News] æœç´¢: Solana SOL
    ç»“æœ: {<span class="hljs-string">"query"</span>:<span class="hljs-string">"Solana SOL"</span>,<span class="hljs-string">"time_range"</span>:<span class="hljs-string">"week"</span>,<span class="hljs-string">"news_type"</span>:<span class="hljs-string">"analysis"</span>,<span class="hljs-string">"results"</span>:[{<span class="hljs-string">"title"</span>:<span class="hljs-string">"BlackRock ETF å•æ—¥æµå…¥åˆ›æ–°é«˜"</span>,<span class="hljs-string">"source"</span>:<span class="hljs-string">"T...
åŠ©æ‰‹: ## SOL ç»¼åˆåˆ†ææŠ¥å‘Š

### ğŸ“Š **è¡Œæƒ…é¢åˆ†æ**
- **å½“å‰ä»·æ ¼**ï¼š<span class="hljs-variable">$67</span>,234.5
- **24hæ¶¨å¹…**ï¼š+2.35%ï¼ˆå¤„äºä¸Šæ¶¨è¶‹åŠ¿ï¼‰
- **24hæˆäº¤é‡**ï¼š<span class="hljs-variable">$28</span>.5Bï¼ˆæˆäº¤æ´»è·ƒï¼‰
- **ä»·æ ¼åŒºé—´**ï¼š<span class="hljs-variable">$65</span>,800 - <span class="hljs-variable">$68</span>,100

**æŠ€æœ¯é¢è§£è¯»**ï¼šä»·æ ¼åœ¨è¿‘æœŸé«˜ä½éœ‡è¡ï¼Œæˆäº¤é‡ç»´æŒé«˜ä½ï¼Œè¯´æ˜å¸‚åœºå‚ä¸åº¦è¾ƒé«˜ï¼ŒçŸ­æœŸåŠ¨èƒ½å°šå¯ã€‚

---

### â›“ï¸ **é“¾ä¸Šæ•°æ®åˆ†æ**
âœ… **ç§¯æä¿¡å·**ï¼š
1. **å·¨é²¸åŠ¨å‘**ï¼šè¿‡å»7å¤©å·¨é²¸å‡€æµå…¥+<span class="hljs-variable">$33</span>.7Mï¼Œå‘ˆç°**accumulationï¼ˆå›¤å¸ï¼‰**çŠ¶æ€ï¼Œå¤§æˆ·åœ¨æŒç»­å¸ç­¹
2. **æ´»è·ƒåœ°å€**ï¼š7å¤©å†…æ´»è·ƒåœ°å€è¾¾98.7ä¸‡ï¼Œç¯æ¯”å¢é•¿+12.3%ï¼Œç”Ÿæ€æ´»è·ƒåº¦æ˜æ˜¾æå‡
3. **DeFi TVL**ï¼š<span class="hljs-variable">$21</span>.3Bï¼Œ30å¤©å¢é•¿+4.5%ï¼Œèµ„é‡‘æŒç»­æµå…¥Solanaç”Ÿæ€

**é“¾ä¸Šæ•°æ®åå¤šå¤´**ï¼Œèµ„é‡‘å’Œç”¨æˆ·éƒ½åœ¨æµå…¥ã€‚

---

### ğŸ“° **æ¶ˆæ¯é¢åˆ†æ**
- **åˆ©å¥½æ¶ˆæ¯**ï¼š
  - BlackRock ETFå•æ—¥æµå…¥åˆ›æ–°é«˜ï¼ˆ<span class="hljs-variable">$500M</span>+ï¼‰
  - SECä¸»å¸­æš—ç¤ºå¯èƒ½æ‰¹å‡†æ›´å¤šåŠ å¯†ETF
  - æ•´ä½“å¸‚åœºæƒ…ç»ªï¼š**Positive/Bullish**

è™½ç„¶æ–°é—»ä¸»è¦æ˜¯å…³äºBTC/ETH ETFï¼Œä½†å¯¹æ•´ä¸ªåŠ å¯†å¸‚åœºå½¢æˆåˆ©å¥½è¾å°„æ•ˆåº”ã€‚

---

## ğŸ’¡ **åŠ ä»“å»ºè®®**

### æ”¯æŒåŠ ä»“çš„ç†ç”±ï¼š
1. âœ… é“¾ä¸Šæ•°æ®å¼ºåŠ²ï¼ˆå·¨é²¸å›¤å¸+æ´»è·ƒåº¦æå‡+TVLå¢é•¿ï¼‰
2. âœ… çŸ­æœŸæŠ€æœ¯é¢å¥åº·ï¼ˆä»·æ ¼+æˆäº¤é‡åŒå‡ï¼‰
3. âœ… å¸‚åœºæ•´ä½“æƒ…ç»ªåå¤š

### âš ï¸ é£é™©æç¤ºï¼š
1. ä»·æ ¼å·²åœ¨ç›¸å¯¹é«˜ä½ï¼ŒçŸ­æœŸå¯èƒ½é¢ä¸´å›è°ƒå‹åŠ›
2. åŠ å¯†å¸‚åœºæ³¢åŠ¨å‰§çƒˆï¼Œéœ€æ§åˆ¶ä»“ä½
3. å»ºè®®é‡‡ç”¨**åˆ†æ‰¹åŠ ä»“**ç­–ç•¥ï¼Œé¿å…ä¸€æ¬¡æ€§é‡ä»“

### æ“ä½œå»ºè®®ï¼š
- **å¦‚æœçœ‹å¥½ä¸­é•¿æœŸ**ï¼šå¯ä»¥åˆ†2-3æ‰¹åŠ ä»“ï¼Œå›è°ƒåˆ°<span class="hljs-variable">$65</span>,000-<span class="hljs-variable">$66</span>,000åŒºé—´å¯è€ƒè™‘åˆ†æ‰¹è¿›å…¥
- **æ¿€è¿›ç­–ç•¥**ï¼šå½“å‰ä»·ä½å¯å°å¹…åŠ ä»“30%ä»“ä½ï¼Œå›è°ƒå†è¡¥å‰©ä½™
- **æ­¢æŸä½**ï¼šå»ºè®®è®¾åœ¨<span class="hljs-variable">$63</span>,000ä»¥ä¸‹ï¼ˆçº¦5%æ­¢æŸï¼‰

---

**âš ï¸ å…è´£å£°æ˜**ï¼šæœ¬å›ç­”ä¸æ„æˆæŠ•èµ„å»ºè®®ï¼Œå¸‚åœºæœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚è¯·æ ¹æ®è‡ªèº«é£é™©æ‰¿å—èƒ½åŠ›å’ŒæŠ•èµ„ç­–ç•¥åšå†³ç­–ï¼Œåˆ‡å‹¿ç›²ç›®è·Ÿé£ã€‚
</span></code></pre>
<h2 data-id="heading-1">é‡ç‚¹ï¼šå·¥å…·æè¿°å¤ªé‡è¦äº†</h2>
<p>å¾ˆå¤šäººåˆšå¼€å§‹å†™éƒ½å®¹æ˜“æŠŠå·¥å…·æè¿°ï¼ˆdescriptionï¼‰å†™å¾—è¿‡äºç®€å•ã€‚è¿™ä¼šç›´æ¥å¯¼è‡´LLMé€‰æ‹©é”™è¯¯ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„é”™è¯¯æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  name: <span class="hljs-string">'get_data'</span>,
  description: <span class="hljs-string">'è·å–æ•°æ®'</span>
}
</code></pre>
<p>è¿™ç§æè¿°å†™äº†ç­‰äºæ²¡å†™ã€‚</p>
<p>æœ€ä½³å®è·µæ˜¯ï¼šdescriptionå†™å¾—è¶Šè¯¦ç»†ã€è¶Šè´´è¿‘ç”¨æˆ·çš„è¯´æ³•ï¼Œå‡†ç¡®ç‡å°±è¶Šé«˜ã€‚</p>
<p>å†™æè¿°å®é™…ä¸Šå’Œå†™promptæ˜¯ç±»ä¼¼çš„ï¼Œæœ‰å‡ ç‚¹åŸåˆ™å’Œæœ€ä½³å®è·µéœ€è¦éµå¾ªã€‚</p>
<p>ç¬¬ä¸€æ˜¯æ—¢è¦å†™æ¸…æ¥šèƒ½å¹²å˜›ï¼Œä¹Ÿè¦å†™æ¸…æ¥šä¸èƒ½å¹²å˜›ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">description: `æŸ¥è¯¢ç”¨æˆ·çš„æŒä»“å’Œè´¦æˆ·ä¿¡æ¯ã€‚</span>
  ç”¨æˆ·é—®<span class="hljs-string">"æˆ‘ç°åœ¨ä»“ä½æ€ä¹ˆæ ·"</span>ã€<span class="hljs-string">"æˆ‘çš„BTCæˆæœ¬ä»·å¤šå°‘"</span>è¿™ç±»ç”¨è¿™ä¸ªã€‚
  æ³¨æ„ï¼šè¿™æ˜¯ç”¨æˆ·ç§äººæ•°æ®ï¼ŒæŸ¥å¤§ç›˜è¡Œæƒ…åˆ«ç”¨è¿™ä¸ªã€‚`
</code></pre>
<p>æœ€åè¿™å¥â€åˆ«ç”¨è¿™ä¸ªâ€éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®LLMåœ¨å‡ ä¸ªç›¸ä¼¼çš„å·¥å…·ä¹‹é—´åšåŒºåˆ†ã€‚</p>
<p>ç¬¬äºŒæ˜¯è¦ç”¨ç”¨æˆ·çš„è¯­è¨€æ¥å†™ï¼Œä¸è¦ç”¨æŠ€æœ¯æœ¯è¯­æ¥å†™ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åˆ«è¿™ä¹ˆå†™</span>
description: <span class="hljs-string">'è°ƒç”¨ REST API è·å– OHLCV æ•°æ®'</span>

<span class="hljs-comment">// è¿™ä¹ˆå†™</span>
description: <span class="hljs-string">'æŸ¥è¡Œæƒ…ï¼Œæ¯”å¦‚ç°åœ¨å¤šå°‘é’±ã€ä»Šå¤©æ¶¨äº†å¤šå°‘ã€Kçº¿æ€ä¹ˆèµ°'</span>
</code></pre>
<p>æè¿°æ˜¯é’ˆå¯¹ç”¨æˆ·çš„è¯æ¥åŒ¹é…çš„ï¼Œç”¨æˆ·å¯èƒ½ä¼šè¯´å¤§é¥¼ï¼Œè€Œä¸æ˜¯Bitcoinã€‚</p>
<p>ç¬¬ä¸‰æ˜¯ç»™å‡ºå‡ ä¸ªåœºæ™¯ä¾‹å­ï¼Œå¸®åŠ©LLMæ›´å¥½åœ°å»ºç«‹æ˜ å°„å…³ç³»ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">description: `æœç´¢åŠ å¯†è´§å¸æ–°é—»ã€‚</span>
  æ¯”å¦‚ç”¨æˆ·é—®<span class="hljs-string">"æœ€è¿‘æœ‰ä»€ä¹ˆåˆ©å¥½"</span>ã€<span class="hljs-string">"ä¸ºä»€ä¹ˆä»Šå¤©è·Œäº†"</span>ã€<span class="hljs-string">"SECæœ‰ä»€ä¹ˆåŠ¨ä½œ"</span>è¿™ç±»`
</code></pre>
<h2 data-id="heading-2">æ›´å¤æ‚çš„åœºæ™¯ï¼šéœ€è¦æŸ¥è¯¢å¤šä¸ªæ•°æ®æº</h2>
<p>åœ¨å®é™…åœºæ™¯ä¸­ä¼šé‡åˆ°æ›´å¤šè¿™ç§æƒ…å†µï¼Œæ¯”å¦‚ç”¨æˆ·é—®ï¼šâ€œSOLç°åœ¨å¯ä»¥åŠ ä»“å—ï¼Ÿâ€</p>
<p>è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼ŒLLMéœ€è¦åšå‡ ä»¶äº‹ï¼š</p>
<ol>
<li>æŸ¥è¡Œæƒ…ï¼Œçœ‹çœ‹ç°åœ¨çš„ä»·æ ¼å’Œè¶‹åŠ¿ã€‚</li>
<li>æŸ¥æŒä»“ï¼Œçœ‹çœ‹ç”¨æˆ·ç›®å‰çš„ä»“ä½ã€‚</li>
<li>æŸ¥é“¾ä¸Šæ•°æ®ï¼Œçœ‹çœ‹èµ„é‡‘æµå‘ã€‚</li>
<li>æŸ¥æ–°é—»ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æ½œåœ¨é£é™©ã€‚</li>
</ol>
<p>æ‰€ä»¥å®ƒä¸åƒä¹‹å‰çš„ä¾‹å­é‚£ä¹ˆç®€å•ã€‚</p>
<p>ä¸è¿‡åªè¦æˆ‘ä»¬çš„ä»£ç æ”¯æŒå¤šè½®å¯¹è¯ï¼ŒLLMå°±ä¼šè‡ªå·±æ¥å®‰æ’å¥½è¿™ä¸ªæµç¨‹ã€‚å®ƒé¦–å…ˆä¼šè°ƒç”¨ä¸€ä¸ªå·¥å…·ï¼Œæ‹¿åˆ°ç»“æœä¹‹åå»åˆ¤æ–­éœ€ä¸éœ€è¦è°ƒç”¨åˆ«çš„æ•°æ®ï¼Œç›´åˆ°ä¿¡æ¯è¶³å¤Ÿå……åˆ†å†ç»™å‡ºç»¼åˆåˆ†æã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´éƒ½ä¼šç”¨ä¸€ä¸ªwhileå¾ªç¯æ¥å¤„ç†è¿™ä»¶äº‹ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">while</span> (assistantMsg.tool_calls &amp;&amp; assistantMsg.tool_calls.length &gt; <span class="hljs-number">0</span>) {
  <span class="hljs-comment">// æ‰§è¡Œå·¥å…·</span>
  <span class="hljs-comment">// æŠŠç»“æœå–‚å›å»</span>
  <span class="hljs-comment">// ç»§ç»­é—® LLM è¿˜è¦ä¸è¦è°ƒåˆ«çš„</span>
}
</code></pre>
<p>è¿™ä¸ªæ¨¡å¼æœ‰ä¸€ä¸ªåå­—å«Agentic Loopï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰å¤æ‚åœºæ™¯éƒ½æ˜¯è¿™ä¸ªå¥—è·¯ã€‚</p>
<p>å½“æˆ‘ä»¬å®é™…å»è·‘â€œSOLèƒ½ä¸èƒ½åŠ ä»“â€è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼ŒLLMä¼šè¿ç»­è°ƒç”¨Nä¸ªå·¥å…·ï¼Œæœ€åç»™å‡ºä¸€ä¸ªç»¼åˆåˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-python" lang="python">ç”¨æˆ·: SOLèƒ½ä¸èƒ½ç»§ç»­åŠ ä»“

<span class="hljs-meta">&gt;&gt;&gt; </span>è°ƒç”¨å·¥å…·: get_market_data
<span class="hljs-meta">&gt;&gt;&gt; </span>è°ƒç”¨å·¥å…·: query_portfolio  
<span class="hljs-meta">&gt;&gt;&gt; </span>è°ƒç”¨å·¥å…·: get_onchain_data
<span class="hljs-meta">&gt;&gt;&gt; </span>è°ƒç”¨å·¥å…·: search_crypto_news

åŠ©æ‰‹: ä»æŠ€æœ¯é¢çœ‹ SOL è¿˜åœ¨ä¸Šå‡è¶‹åŠ¿ï¼Œé“¾ä¸Šæ•°æ®ä¹Ÿæ˜¾ç¤ºèµ„é‡‘åœ¨æµå…¥ã€‚
ä½†ä½ ç°åœ¨ SOL ä»“ä½å·²ç»å äº† <span class="hljs-number">12</span>%ï¼Œè€Œä¸”å·²ç»æµ®ç›ˆ <span class="hljs-number">49</span>%ã€‚
å¦‚æœè¦åŠ ï¼Œå»ºè®®ç­‰å›è°ƒåˆ° $<span class="hljs-number">130</span> é™„è¿‘å†è€ƒè™‘ï¼Œåˆ«è¿½é«˜ã€‚
å½“ç„¶è¿™åªæ˜¯å»ºè®®ï¼ŒæŠ•èµ„æœ‰é£é™©ï¼Œæœ€ç»ˆè¿˜æ˜¯ä½ è‡ªå·±å†³å®šã€‚
</code></pre>
<h2 data-id="heading-3">å·¥å…·å®åœ¨å¤ªå¤šäº†æ€ä¹ˆåŠ</h2>
<p>æˆ‘ä»¬åªæœ‰ä¸‰äº”ä¸ªå·¥å…·çš„æ—¶å€™ï¼Œä¸Šé¢è¿™ç§åšæ³•è¿˜æ˜¯èƒ½å¤Ÿåº”ä»˜çš„ï¼Œä½†å¦‚æœæˆ‘ä»¬æœ‰åå‡ ä¸ªç”šè‡³æ›´å¤šæ•°æ®æºçš„æ—¶å€™ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæ¯”å¦‚æœ‰è¡Œæƒ…ã€Kçº¿ã€æ·±åº¦ã€èµ„é‡‘è´¹ç‡ã€æœŸæƒæ•°æ®ã€é“¾ä¸ŠæŒ‡æ ‡ã€æ–°é—»å¿«è®¯ã€ç¤¾äº¤åª’ä½“â€¦â€¦å…¨éƒ¨å¡ç»™LLMè®©å®ƒé€‰ï¼Œä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å‡†ç¡®ç‡ä¼šä¸‹é™ã€‚é€‰é¡¹å¤ªå¤šå¾ˆå®¹æ˜“é€‰é”™ã€‚</li>
<li>tokenè´¹ç”¨ä¼šæé«˜ï¼Œ æ¯ä¸ªå·¥å…·çš„æè¿°éƒ½è¦ç®—tokenã€‚</li>
</ol>
<p>å¸¸è§çš„åšæ³•æ˜¯åŠ ä¸€ä¸ªè·¯ç”±å±‚ï¼Œå…ˆå¯¹éœ€æ±‚åšä¸€ä¸ªç²—åˆ†ç±»ï¼Œå†è¿›è¡Œç²¾é€‰æ‹©ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å…ˆå¿«é€Ÿåˆ†ä¸ªç±»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">routeIntent</span>(<span class="hljs-params">message</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/å¤šå°‘é’±|ä»·æ ¼|è¡Œæƒ…|æ¶¨|è·Œ|Kçº¿/</span>.<span class="hljs-title function_">test</span>(message)) <span class="hljs-keyword">return</span> <span class="hljs-string">'market'</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/ä»“ä½|æŒä»“|ä½™é¢|ç›ˆäº|æˆæœ¬/</span>.<span class="hljs-title function_">test</span>(message)) <span class="hljs-keyword">return</span> <span class="hljs-string">'portfolio'</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/é“¾ä¸Š|å·¨é²¸|æµå…¥|æµå‡º|Gas/</span>.<span class="hljs-title function_">test</span>(message)) <span class="hljs-keyword">return</span> <span class="hljs-string">'onchain'</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/æ–°é—»|æ¶ˆæ¯|åˆ©å¥½|åˆ©ç©º|SEC|ç›‘ç®¡/</span>.<span class="hljs-title function_">test</span>(message)) <span class="hljs-keyword">return</span> <span class="hljs-string">'news'</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-string">'general'</span>;
}

<span class="hljs-comment">// æ¯ä¸ªé¢†åŸŸåªæš´éœ²ç›¸å…³çš„å·¥å…·</span>
<span class="hljs-keyword">const</span> domainTools = {
  <span class="hljs-attr">market</span>: [getRealtimePrice, getKline, getDepth, getFundingRate],
  <span class="hljs-attr">portfolio</span>: [getPositions, getBalance, getPnL, getTradeHistory],
  <span class="hljs-attr">onchain</span>: [getWhaleMovements, getExchangeFlow, getActiveAddresses, getDeFiTVL],
  <span class="hljs-attr">news</span>: [searchNews, getSentiment, getKOLOpinions],
  <span class="hljs-attr">general</span>: [...allTools]
};

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">smartChat</span>(<span class="hljs-params">userMessage</span>) {
  <span class="hljs-keyword">const</span> domain = <span class="hljs-title function_">routeIntent</span>(userMessage);
  <span class="hljs-keyword">const</span> relevantTools = domainTools[domain];
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">chat</span>(userMessage, { <span class="hljs-attr">tools</span>: relevantTools });
}
</code></pre>
<p>è¿™ç§åšæ³•çš„å¥½å¤„æ˜¯ï¼ŒLLMåªéœ€è¦åœ¨æœ€å¯èƒ½çš„å‡ ä¸ªå·¥å…·é‡Œé¢æŒ‘é€‰ï¼Œå‡†ç¡®ç‡ä¼šå˜é«˜ï¼ŒåŒæ—¶tokençš„æˆæœ¬ä¹Ÿä¼šé™ä½ã€‚</p>
<p>ä¾‹å­é‡Œé¢çš„è·¯ç”±å±‚æ˜¯ç”¨å…³é”®è¯æ¥åŒºåˆ†çš„ï¼Œå¦ä¸€ç§åšæ³•æ˜¯è®­ç»ƒä¸€ä¸ªå°çš„åˆ†ç±»æ¨¡å‹ï¼Œæˆ–è€…ç›´æ¥ç”¨LLMä¹Ÿå¯ä»¥ã€‚è·¯ç”±å±‚ä¸éœ€è¦è¿‡åº¦å¤æ‚ï¼Œåªéœ€è¦åˆ†ä¸€ä¸ªå¤§ç±»å°±å¤Ÿäº†ã€‚</p>
<h2 data-id="heading-4">å¦ä¸€æ¡è·¯ï¼šMCPåè®®</h2>
<p>å¦‚æœåœºæ™¯æ›´å¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶æ”¯æŒå¤šä¸ªLLMã€æ•°æ®æºç»å¸¸å˜åŠ¨ã€æˆ–è€…æƒ³åšæˆå¹³å°ï¼Œè®©å…¶ä»–äººä¹Ÿå¯ä»¥æ¥å…¥ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥å°è¯•ä½¿ç”¨MCPã€‚</p>
<p>MCPçš„æ ¸å¿ƒæ€è·¯æ˜¯æŠŠæ•°æ®æºè¿›è¡Œæ ‡å‡†åŒ–å°è£…ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆLLMå®¢æˆ·ç«¯ï¼Œåªè¦æ”¯æŒMCPåè®®å°±èƒ½å¤Ÿæ¥å…¥ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šMCP Serverå°±åƒæ˜¯ä¸€ä¸ªå¸¦æœ‰USBæ¥å£çš„ç”µè„‘ï¼ŒMCP Clientå°±åƒæ˜¯å„ç§å¸¦USBæ¥å£çš„è®¾å¤‡ï¼Œä¸ç®¡æ˜¯é”®ç›˜ã€é¼ æ ‡è¿˜æ˜¯ç¡¬ç›˜ï¼Œåªè¦æœ‰USBæ¥å£å°±å¯ä»¥æ’ä¸Šç”¨ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// ä¸€ä¸ªç®€å•çš„ MCP Server ç¤ºä¾‹</span>
import { McpServer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@anthropic-ai/sdk'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">server</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">McpServer</span>(<span class="hljs-string">'crypto-trading-tools'</span>);

server.<span class="hljs-title function_ invoke__">registerTool</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'get_btc_price'</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">'è·å– BTC å®æ—¶ä»·æ ¼'</span>,
  <span class="hljs-attr">parameters</span>: {},
  async <span class="hljs-title function_ invoke__">handler</span>() {
    <span class="hljs-keyword">const</span> price = await binanceAPI.<span class="hljs-title function_ invoke__">getPrice</span>(<span class="hljs-string">'BTCUSDT'</span>);
    <span class="hljs-keyword">return</span> { 
      <span class="hljs-attr">price</span>: price.last,
      <span class="hljs-attr">change_24h</span>: price.priceChangePercent
    };
  }
});

server.<span class="hljs-title function_ invoke__">registerTool</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'get_whale_alerts'</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">'è·å–å·¨é²¸è½¬è´¦è­¦æŠ¥'</span>,
  <span class="hljs-attr">parameters</span>: {
    <span class="hljs-attr">min_value</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'number'</span>, <span class="hljs-attr">description</span>: <span class="hljs-string">'æœ€å°é‡‘é¢ï¼ˆUSDï¼‰'</span> }
  },
  async <span class="hljs-title function_ invoke__">handler</span>({ min_value }) {
    <span class="hljs-keyword">const</span> alerts = await whaleAlert.<span class="hljs-title function_ invoke__">getRecent</span>({ min_value });
    <span class="hljs-keyword">return</span> alerts;
  }
});

server.<span class="hljs-title function_ invoke__">start</span>({ <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span> });
</code></pre>
<p>MCPçš„å¥½å¤„æ˜¯è¶³å¤Ÿæ ‡å‡†åŒ–ï¼Œåªè¦å†™ä¸€æ¬¡æ•°æ®æºå°±å¯ä»¥åˆ°å¤„ç”¨ã€‚åå¤„æ˜¯å¤šäº†ä¸€å±‚æŠ½è±¡ï¼Œç®€å•çš„é¡¹ç›®æ²¡æœ‰å¿…è¦è¿™ä¹ˆåšã€‚</p>
<h2 data-id="heading-5">å®é™…é¡¹ç›®é‡Œè¿˜ä¼šé‡åˆ°æ›´å¤šé—®é¢˜</h2>
<p>ä¸¾å‡ ä¸ªä¾‹å­ã€‚</p>
<h3 data-id="heading-6">LLMä¸æ”¯æŒtool/function calling</h3>
<p>ç›®å‰ä¸»æµLLMå¤§å¤šæ•°éƒ½æ”¯æŒäº†ï¼Œå¦‚æœä¸æ”¯æŒï¼Œåˆä¸èƒ½æ¢æ¨¡å‹ï¼Œä¹Ÿæœ‰ä¸€äº›åŠæ³•ï¼Œæ¯”å¦‚ç›´æ¥åœ¨system prompté‡Œé¢è®©å®ƒé€‰æ‹©ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> systemPrompt = `ä½ æ˜¯åŠ å¯†è´§å¸äº¤æ˜“åŠ©æ‰‹ã€‚ä¸‹é¢æ˜¯ä¸€äº›å·¥å…·é€‰æ‹©çš„ä¾‹å­ï¼š

ç”¨æˆ·é—®<span class="hljs-string">"BTCå¤šå°‘é’±"</span> â†’ ç”¨ get_market_data
ç”¨æˆ·é—®<span class="hljs-string">"æˆ‘ç°åœ¨äºäº†å¤šå°‘"</span> â†’ ç”¨ query_portfolio  
ç”¨æˆ·é—®<span class="hljs-string">"å·¨é²¸åœ¨å¹²å˜›"</span> â†’ ç”¨ get_onchain_data
ç”¨æˆ·é—®<span class="hljs-string">"æœ‰ä»€ä¹ˆæ–°é—»"</span> â†’ ç”¨ search_crypto_news

è¯·æ ¹æ®ç”¨æˆ·çš„å®é™…é—®é¢˜é€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚`;
</code></pre>
<h3 data-id="heading-7">å“åº”æ…¢</h3>
<p>å·¥å…·è°ƒç”¨å¯ä»¥å¹¶è¡Œï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">results</span> = await Promise.all(
  toolCalls.map(<span class="hljs-attr">call</span> =&gt; executeToolCall(call))
)<span class="hljs-comment">;</span>
</code></pre>
<p>æœ‰ä¸€äº›æ•°æ®ä¹Ÿå¯ä»¥åšæœ¬åœ°ç¼“å­˜ï¼Œæå‡è®¿é—®é€Ÿåº¦ã€‚æ¯”å¦‚è¡Œæƒ…æ•°æ®ï¼Œå¯ä»¥è®¾ç½®5ç§’ç¼“å­˜ï¼Œæ²¡å¿…è¦æ¯æ¬¡éƒ½è°ƒç”¨äº¤æ˜“æ‰€çš„APIã€‚æ–°é—»æ•°æ®çš„è¿‡æœŸæ—¶é—´å¯ä»¥è®¾ç½®æ›´ä¹…ï¼Œæ¯”å¦‚24å°æ—¶ã€‚</p>
<h3 data-id="heading-8">å®‰å…¨é—®é¢˜</h3>
<p>åœ¨äº¤æ˜“åœºæ™¯ä¸­æœ‰äº›å…³é”®æ“ä½œéå¸¸éœ€è¦äººå·¥äºŒæ¬¡ç¡®è®¤æ¥ä¿è¯å®‰å…¨ã€‚LLMç”Ÿæˆçš„å‚æ•°ä¸èƒ½æ— æ¡ä»¶ä¿¡ä»»ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">executeToolSafely</span>(<span class="hljs-params">toolCall, userContext</span>) {
  <span class="hljs-keyword">const</span> args = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(toolCall.<span class="hljs-property">function</span>.<span class="hljs-property">arguments</span>);
  
  <span class="hljs-comment">// 1. åªèƒ½æŸ¥è‡ªå·±çš„æ•°æ®</span>
  <span class="hljs-keyword">if</span> (toolCall.<span class="hljs-property">function</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'query_portfolio'</span>) {
    args.<span class="hljs-property">user_id</span> = userContext.<span class="hljs-property">userId</span>;  <span class="hljs-comment">// å¼ºåˆ¶è¦†ç›–ï¼Œé˜²æ­¢æŸ¥åˆ«äººçš„</span>
  }
  
  <span class="hljs-comment">// 2. å¦‚æœæ˜¯äº¤æ˜“ç›¸å…³æ“ä½œï¼ˆä¸‹å•ã€æ’¤å•ï¼‰ï¼Œè¦äºŒæ¬¡ç¡®è®¤</span>
  <span class="hljs-keyword">if</span> ([<span class="hljs-string">'place_order'</span>, <span class="hljs-string">'cancel_order'</span>].<span class="hljs-title function_">includes</span>(toolCall.<span class="hljs-property">function</span>.<span class="hljs-property">name</span>)) {
    <span class="hljs-keyword">return</span> { 
      <span class="hljs-attr">needsConfirmation</span>: <span class="hljs-literal">true</span>, 
      <span class="hljs-attr">message</span>: <span class="hljs-string">`ç¡®å®šè¦<span class="hljs-subst">${args.side === <span class="hljs-string">'buy'</span> ? <span class="hljs-string">'ä¹°å…¥'</span> : <span class="hljs-string">'å–å‡º'</span>}</span> <span class="hljs-subst">${args.amount}</span> <span class="hljs-subst">${args.symbol}</span>ï¼Ÿ`</span> 
    };
  }
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">execute</span>(toolCall);
}
</code></pre>
<p>æ¶‰åŠåˆ°é’±çš„æ“ä½œå°½é‡è¦äººå·¥äºŒæ¬¡ç¡®è®¤ï¼Œåˆ«è®©AIéšæ„æ‰§è¡Œäº¤æ˜“ã€‚</p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>æœ¬æ–‡åˆ—ä¸¾äº†å¤šç§ä¸åŒçš„æ–¹æ¡ˆã€‚å¯ä»¥æ ¹æ®ä¸åŒåœºæ™¯é€‰æ‹©ä¸åŒæ–¹æ¡ˆï¼Œè¿™é‡Œåˆ—ä¸€ä¸ªåœºæ™¯å’Œå»ºè®®çš„è¡¨æ ¼ï¼š</p>





























<table><thead><tr><th>åœºæ™¯</th><th>å»ºè®®</th></tr></thead><tbody><tr><td>ä¸ªäººç”¨ï¼Œæ•°æ®æºä¸å¤š</td><td>ç›´æ¥Function Calling</td></tr><tr><td>æ•°æ®æºè¶…è¿‡10ä¸ª</td><td>åŠ ä¸€å±‚è·¯ç”±</td></tr><tr><td>è¦æ•´åˆå¤šä¸ªé“¾çš„æ•°æ®</td><td>è€ƒè™‘ç”¨MCPå°è£…</td></tr><tr><td>åšæˆäº§å“ç»™åˆ«äººç”¨</td><td>MCP + æƒé™æ§åˆ¶</td></tr><tr><td>å¤æ‚äº¤æ˜“ç­–ç•¥æ‰§è¡Œ</td><td>ä¸ŠAgentæ¡†æ¶</td></tr></tbody></table>
<p>Agentæ¡†æ¶éå¸¸é€‚åˆéœ€è¦ä¸¥æ ¼ç¼–æ’æ­¥éª¤çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ¯”å¦‚â€œå‡å¦‚ä»·æ ¼åˆ°äº†xxå°±ä¹°å…¥â€è¿™ç§è‡ªåŠ¨åŒ–ç­–ç•¥ã€‚ä¸è¿‡å¤§å¤šæ•°é—®ç­”ç±»çš„ä¸šåŠ¡åœºæ™¯ï¼Œç”¨Agentic Loopå°±å¤Ÿäº†ã€‚ç›®å‰ä¸»æµçš„Agentæ¡†æ¶æœ‰LangGraphã€CrewAIç­‰ã€‚</p>
<p>FunctionCallingçš„ä¼˜åŠ¿åœ¨äºéå¸¸å®¹æ˜“æ‰©å±•ï¼Œå¦‚æœè¦åŠ æ•°æ®ï¼Œåªéœ€è¦å¢åŠ ä¸€ä¸ªå·¥å…·çš„å®šä¹‰å°±å¯ä»¥ã€‚</p>
<p>å¦‚æœä½ æƒ³è¦ç®€æŠ¥ï¼Œä¹Ÿä¸éœ€è¦å»å„å¤§ç½‘ç«™æŸ¥è¡Œæƒ…å¼‚åŠ¨ã€æŸ¥é“¾ä¸Šå¤§é¢è½¬è´¦ã€æŸ¥æ–°é—»å¿«è®¯ï¼Œä½ åªéœ€è¦é—®å®ƒä¸€å¥ï¼šâ€œä»Šå¤©æœ‰ä»€ä¹ˆéœ€è¦ç‰¹åˆ«å…³æ³¨çš„â€ï¼Œå®ƒå°±å¯ä»¥ç»™ä½ ä¸€ä»½éå¸¸å…¨é¢çš„ç®€æŠ¥ï¼Œå¯ä»¥å¸®ä½ èŠ‚çœå¤§é‡çš„æ—¶é—´ã€‚å¦‚æœä½ å¾ˆä¸¥è°¨ï¼Œå¯ä»¥è¦æ±‚LLMåœ¨æä¾›ç®€æŠ¥çš„åŒæ—¶æä¾›ç›¸åº”çš„å‡ºå¤„é“¾æ¥ï¼Œæ¥åšäºŒæ¬¡æ ¸éªŒã€‚</p>
<p>è®²äº†è¿™ä¹ˆå¤šï¼Œè¿™ä¸ªæŠ€æœ¯çš„æ ¸å¿ƒæ€æƒ³å…¶å®ä¹ŸæŒºç®€å•ï¼š<strong>åˆ«è¯•å›¾ç”¨è§„åˆ™ç©·ä¸¾æ‰€æœ‰æƒ…å†µï¼Œè€Œæ˜¯è®©LLMå»ç†è§£æ„å›¾</strong>ã€‚ç†è§£è‡ªç„¶è¯­è¨€æ˜¯LLMçš„å¼ºé¡¹ï¼Œé€‰å“ªä¸ªå·¥å…·å¯¹å®ƒæ¥è¯´ä¸éš¾ã€‚</p>
<p>å½“ç„¶ä¹Ÿåˆ«æŠŠLLMå½“ç¥ã€‚å·¥å…·æè¿°å†™æ¸…æ¥šã€è¾¹ç•Œæƒ…å†µå¤„ç†å¥½ã€å®‰å…¨æªæ–½åšåˆ°ä½ï¼Œè¿™äº›å·¥ç¨‹åŒ–çš„äº‹æƒ…è¿˜æ˜¯å¾—è®¤çœŸåšå¥½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Workers AI å®Œæ•´æ•™ç¨‹ï¼šæ¯å¤©ç™½å«– 10000 æ¬¡å¤§æ¨¡å‹è°ƒç”¨ï¼Œæ¯” OpenAI çœ 90%]]></title>    <link>https://juejin.cn/post/7580180556983337010</link>    <guid>https://juejin.cn/post/7580180556983337010</guid>    <pubDate>2025-12-05T10:53:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556983337010" data-draft-id="7579460553615179827" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Workers AI å®Œæ•´æ•™ç¨‹ï¼šæ¯å¤©ç™½å«– 10000 æ¬¡å¤§æ¨¡å‹è°ƒç”¨ï¼Œæ¯” OpenAI çœ 90%"/> <meta itemprop="keywords" content="AIGC,API,OpenAI"/> <meta itemprop="datePublished" content="2025-12-05T10:53:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ€æœ¯æ¢ç´¢å®¶"/> <meta itemprop="url" content="https://juejin.cn/user/2735240657517816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Workers AI å®Œæ•´æ•™ç¨‹ï¼šæ¯å¤©ç™½å«– 10000 æ¬¡å¤§æ¨¡å‹è°ƒç”¨ï¼Œæ¯” OpenAI çœ 90%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2735240657517816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ€æœ¯æ¢ç´¢å®¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:53:36.000Z" title="Fri Dec 05 2025 10:53:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f9e1ef04edd4847a464d431cbbe2525~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5o6i57Si5a62:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536815&amp;x-signature=%2ByYeIy4DBk2JgEqDJ1G42yYb3eM%3D" alt="20251201-workers-ai-tutorial-guide-zh.jpg" loading="lazy"/>
è¯´å®è¯,ç¬¬ä¸€æ¬¡çœ‹åˆ° OpenAI è´¦å•çš„æ—¶å€™æˆ‘æ•´ä¸ªäººéƒ½å‚»äº†ã€‚ä¸€ä¸ªæœˆ 200 å¤šç¾å…ƒ,å°±å› ä¸ºåšäº†ä¸ªå°é¡¹ç›®æµ‹è¯•äº†å‡ å¤© APIã€‚é‚£æ—¶å€™æˆ‘å°±åœ¨æƒ³:æœ‰æ²¡æœ‰å…è´¹æˆ–è€…ä¾¿å®œç‚¹çš„æ›¿ä»£æ–¹æ¡ˆ?
åæ¥åœ¨ç ”ç©¶ Cloudflare çš„è¾¹ç¼˜è®¡ç®—åŠŸèƒ½æ—¶,å¶ç„¶å‘ç°äº† Workers AIã€‚æµ‹è¯•äº†ä¸€å‘¨åå‘ç°,å…è´¹é¢åº¦å¯¹ä¸ªäººå¼€å‘è€…æ¥è¯´çœŸçš„å¤Ÿç”¨ã€‚ä»Šå¤©å°±æŠŠå®Œæ•´çš„ä½¿ç”¨æ–¹æ³•åˆ†äº«ç»™ä½ ã€‚</p>
<h2 data-id="heading-0">Workers AI æ˜¯ä»€ä¹ˆ?ä¸ºä»€ä¹ˆå€¼å¾—å…³æ³¨?</h2>
<p>ç®€å•æ¥è¯´,Workers AI å°±æ˜¯ Cloudflare æ¨å‡ºçš„æ— æœåŠ¡å™¨ AI æ¨ç†æœåŠ¡ã€‚ä½ ä¸éœ€è¦è‡ªå·±ä¹° GPUã€ä¸éœ€è¦ç®¡æœåŠ¡å™¨,å†™å‡ è¡Œä»£ç å°±èƒ½è°ƒç”¨ Llamaã€Mistral è¿™äº›å¼€æºå¤§æ¨¡å‹ã€‚
<strong>æœ€å…³é”®çš„æ˜¯ä¸‰ç‚¹:</strong></p>
<ol>
<li><strong>æ¯å¤© 10,000 Neurons å…è´¹é¢åº¦</strong>
<ul>
<li>å®æµ‹å¤§æ¦‚èƒ½å¤„ç†å‡ ç™¾æ¬¡å¯¹è¯,ä¸ªäººé¡¹ç›®å®Œå…¨å¤Ÿç”¨</li>
<li>ç”¨ Llama 3.1-8B æ¨¡å‹,æˆ‘æµ‹è¯•äº† 1000 æ¬¡ç®€å•å¯¹è¯,æ¶ˆè€—äº†å¤§çº¦ 8000 Neurons</li>
</ul>
</li>
<li><strong>ä»˜è´¹ä¹Ÿå¾ˆä¾¿å®œ: $0.011/1000 Neurons</strong>
<ul>
<li>æ¯” OpenAI GPT-3.5 ä¾¿å®œ 60-70%</li>
<li>æ¯” GPT-4 ä¾¿å®œ 90% ä»¥ä¸Š</li>
</ul>
</li>
<li><strong>å…¨çƒè¾¹ç¼˜ç½‘ç»œåŠ é€Ÿ</strong>
<ul>
<li>Cloudflare æœ‰ 300+ ä¸ªèŠ‚ç‚¹</li>
<li>å“åº”é€Ÿåº¦æ¯”å¾ˆå¤šäº‘æœåŠ¡å•†å¿«</li>
</ul>
</li>
</ol>
<h3 data-id="heading-1">å’Œå…¶ä»–æ–¹æ¡ˆå¯¹æ¯”ä¸€ä¸‹</h3>
<p>ä½ å¯èƒ½ä¼šé—®:å…è´¹çš„ä¸œè¥¿èƒ½å¥½ç”¨å—?æˆ‘æ•´ç†äº†ä¸ªè¡¨æ ¼å¯¹æ¯”:</p>















































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>å…è´¹é¢åº¦</th><th>ä»˜è´¹ä»·æ ¼</th><th>å“åº”é€Ÿåº¦</th><th>æ¨¡å‹é€‰æ‹©</th></tr></thead><tbody><tr><td><strong>Workers AI</strong></td><td>10,000 Neurons/å¤©</td><td>$0.011/1k Neurons</td><td>å¿«(è¾¹ç¼˜èŠ‚ç‚¹)</td><td>50+ å¼€æºæ¨¡å‹</td></tr><tr><td>OpenAI API</td><td>$5 æ–°ç”¨æˆ·(ä¸€æ¬¡æ€§)</td><td>$0.002/1k tokens(GPT-3.5)</td><td>ä¸­ç­‰</td><td>GPT ç³»åˆ—</td></tr><tr><td>HuggingFace</td><td>æœ‰é™å…è´¹è°ƒç”¨</td><td>æŒ‰æ¨¡å‹è®¡è´¹</td><td>è¾ƒæ…¢</td><td>æµ·é‡æ¨¡å‹</td></tr><tr><td>è‡ªå»ºæœåŠ¡å™¨</td><td>-</td><td>GPUç§Ÿç”¨æˆæœ¬é«˜</td><td>å–å†³äºé…ç½®</td><td>ä»»æ„æ¨¡å‹</td></tr><tr><td><strong>ä»€ä¹ˆæ—¶å€™é€‚åˆç”¨ Workers AI?</strong></td><td/><td/><td/><td/></tr></tbody></table>
<ul>
<li>âœ… ä¸ªäººé¡¹ç›®ã€åŸå‹éªŒè¯ã€å­¦ä¹ å®éªŒ</li>
<li>âœ… ä¸­å°è§„æ¨¡ç”Ÿäº§åº”ç”¨(QPS &lt; 300)</li>
<li>âœ… å¯¹æˆæœ¬æ•æ„Ÿçš„åˆåˆ›é¡¹ç›®
<strong>ä»€ä¹ˆæ—¶å€™ä¸å¤ªåˆé€‚?</strong></li>
<li>âš ï¸ å¤§è§„æ¨¡æ‰¹é‡å¤„ç†(æ¯å¤©å‡ åä¸‡æ¬¡è°ƒç”¨)</li>
<li>âš ï¸ å¯¹å»¶è¿Ÿæåº¦æ•æ„Ÿçš„å®æ—¶åº”ç”¨(éœ€è¦ &lt; 100ms å“åº”)</li>
<li>âš ï¸ éœ€è¦æœ€æ–° GPT-4 çº§åˆ«æ¨¡å‹çš„åœºæ™¯</li>
</ul>
<h2 data-id="heading-2">å…è´¹é¢åº¦å¤Ÿç”¨å—?æˆ‘å¸®ä½ ç®—ä¸€ç¬”è´¦</h2>
<p>è¿™ä¸ª"Neurons"æ˜¯ Cloudflare è‡ªå·±å®šä¹‰çš„è®¡è´¹å•ä½,åˆšå¼€å§‹æˆ‘ä¹Ÿçœ‹æ‡µäº†ã€‚ç®€å•ç†è§£å°±æ˜¯:
<strong>Neurons = (è¾“å…¥ tokens + è¾“å‡º tokens) Ã— æ¨¡å‹ç³»æ•°</strong>
ä¸åŒæ¨¡å‹çš„ç³»æ•°ä¸ä¸€æ ·:</p>
<ul>
<li>Llama 3.1-8B: ç³»æ•°çº¦ 0.8</li>
<li>Llama 3.1-70B: ç³»æ•°çº¦ 3.5</li>
<li>Mistral 7B: ç³»æ•°çº¦ 0.7
<strong>å®é™…èƒ½ç”¨å¤šå°‘æ¬¡?</strong>
æˆ‘å®æµ‹äº†ä¸€ä¸‹,ç”¨ Llama 3.1-8B å¤„ç†ä¸­æ–‡å¯¹è¯:</li>
<li>ç®€å•é—®ç­”(100 å­—ä»¥å†…): æ¯æ¬¡æ¶ˆè€— 5-8 Neurons</li>
<li>é•¿æ–‡æœ¬æ‘˜è¦(1000 å­—è¾“å…¥): æ¯æ¬¡æ¶ˆè€— 30-50 Neurons</li>
<li>ä»£ç ç”Ÿæˆ(500 è¡Œä»£ç ): æ¯æ¬¡æ¶ˆè€— 20-40 Neurons
æŒ‰è¿™ä¸ªæ¶ˆè€—é‡ç®—,<strong>æ¯å¤© 10,000 Neurons å¤§æ¦‚èƒ½å¤„ç†:</strong></li>
<li>1000-2000 æ¬¡ç®€å•å¯¹è¯</li>
<li>200-300 æ¬¡é•¿æ–‡æœ¬å¤„ç†</li>
<li>250-500 æ¬¡ä»£ç ç”Ÿæˆ
è€å®è®²,å¯¹ä¸ªäººå¼€å‘è€…æ¥è¯´çœŸçš„å¾ˆå¤Ÿç”¨äº†ã€‚æˆ‘ç°åœ¨ç”¨ Workers AI è·‘äº†ä¸ªå°æœºå™¨äºº,æ¯å¤©å¤„ç†å‡ ç™¾æ¡æ¶ˆæ¯,å®Œå…¨åœ¨å…è´¹é¢åº¦å†…ã€‚</li>
</ul>
<h3 data-id="heading-3">å¦‚æœè¶…äº†å…è´¹é¢åº¦æ€ä¹ˆåŠ?</h3>
<p>ä¼šè‡ªåŠ¨è½¬æˆä»˜è´¹æ¨¡å¼,$0.011/1000 Neuronsã€‚
æˆ‘ç®—äº†ä¸€ä¸‹,å°±ç®—è¶…äº†,æˆæœ¬ä¹Ÿå¾ˆä½:</p>
<ul>
<li>å‡è®¾ä½ æ¯å¤©ç”¨ 50,000 Neurons(æ˜¯å…è´¹é¢åº¦çš„ 5 å€)</li>
<li>è¶…å‡ºéƒ¨åˆ†: 40,000 Neurons</li>
<li>è´¹ç”¨: 40,000 / 1000 Ã— <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.011</mn><mo>=</mo><mo>âˆ—</mo><mo>âˆ—</mo></mrow><annotation encoding="application/x-tex">0.011 = **</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.011</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4653em;"/><span class="mord">âˆ—</span><span class="mord">âˆ—</span></span></span></span></span>0.44/å¤©**</li>
<li>ä¸€ä¸ªæœˆä¹Ÿå°± **<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>13</mn><mtext>å·¦å³</mtext><mo>âˆ—</mo><mo>âˆ—</mo><mtext>å¯¹æ¯”</mtext><mi>O</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>A</mi><mi>I</mi><mo>:</mo><mtext>ç›¸åŒè°ƒç”¨é‡å¯èƒ½è¦</mtext></mrow><annotation encoding="application/x-tex">13 å·¦å³**
å¯¹æ¯” OpenAI:ç›¸åŒè°ƒç”¨é‡å¯èƒ½è¦ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">13</span><span class="mord cjk_fallback">å·¦å³</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord">âˆ—</span><span class="mord cjk_fallback">å¯¹æ¯”</span><span class="mord mathnormal">Op</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord cjk_fallback">ç›¸åŒè°ƒç”¨é‡å¯èƒ½è¦</span></span></span></span></span>50-100,Workers AI ç¡®å®ä¾¿å®œä¸å°‘ã€‚</li>
</ul>
<h2 data-id="heading-4">å¿«é€Ÿä¸Šæ‰‹:ä¸‰ç§æ–¹å¼è°ƒç”¨ Workers AI</h2>
<p>å‰ç½®å‡†å¤‡å¾ˆç®€å•:</p>
<ol>
<li>æ³¨å†Œ Cloudflare è´¦å·(å…è´¹)</li>
<li>å®‰è£… Node.js(å¦‚æœç”¨æ–¹å¼äºŒã€ä¸‰)
æ¥ä¸‹æ¥æˆ‘ä»‹ç»ä¸‰ç§è°ƒç”¨æ–¹å¼,ä»ç®€å•åˆ°è¿›é˜¶,ä½ å¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©ã€‚</li>
</ol>
<h3 data-id="heading-5">æ–¹å¼ä¸€:æœ€ç®€å• - ç›´æ¥ç”¨ REST API</h3>
<p>è¿™æ˜¯æœ€å¿«çš„ä½“éªŒæ–¹å¼,è¿ä»£ç éƒ½ä¸ç”¨å†™,ç”¨ curl å‘½ä»¤å°±èƒ½æµ‹è¯•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdaafb099ecf4a96ab1c39ea4c1a55ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5o6i57Si5a62:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536815&amp;x-signature=FGQ3RUu9WcinyymYBrl9rjh6nq4%3D" alt="20251201-workers-ai-tutorial-guide-zh.jpg" loading="lazy"/>
<strong>ç¬¬ä¸€æ­¥:è·å– API Token å’Œ Account ID</strong></p>
<ol>
<li>ç™»å½• Cloudflare,è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fdash.cloudflare.com" target="_blank" title="https://dash.cloudflare.com" ref="nofollow noopener noreferrer">dash.cloudflare.com</a></li>
<li>åœ°å€æ ä¼šæ˜¾ç¤º <code>https://dash.cloudflare.com/xxxxxxxxx</code>,è¿™ä¸² <code>xxxxxxxxx</code> å°±æ˜¯ä½ çš„ <strong>Account ID</strong>,å¤åˆ¶ä¿å­˜å¥½</li>
<li>ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ My Profile â†’ API Tokens</li>
<li>ç‚¹å‡»"Create Token" â†’ æ‰¾åˆ°"Workers AI"æ¨¡æ¿ â†’ "Use template"</li>
<li>ç»§ç»­åˆ°æœ€å,ä¼šç”Ÿæˆä¸€ä¸ª Token,<strong>è¿™ä¸ªåªæ˜¾ç¤ºä¸€æ¬¡,ä¸€å®šè¦ä¿å­˜å¥½</strong>
æˆ‘å½“æ—¶æ‰¾è¿™ä¸ª Token ä½ç½®ç¿»äº†å¥½ä¹…,æ‰€ä»¥ä¸“é—¨æˆªäº†å›¾(å¦‚æœä½ ä¹Ÿæ‰¾ä¸åˆ°,å¯ä»¥æœ Cloudflare API Tokens é¡µé¢)ã€‚</li>
</ol>
<p><strong>ç¬¬äºŒæ­¥:æµ‹è¯•è°ƒç”¨</strong>
æ‰“å¼€ç»ˆç«¯,è¿è¡Œè¿™ä¸ªå‘½ä»¤(è®°å¾—æ›¿æ¢ä½ çš„ Account ID å’Œ Token):</p>
<pre><code class="hljs language-bash" lang="bash">curl https://api.cloudflare.com/client/v4/accounts/{ä½ çš„Account_ID}/ai/run/@cf/meta/llama-3.1-8b-instruct \
  -H <span class="hljs-string">"Authorization: Bearer {ä½ çš„API_Token}"</span> \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "messages": [
      {"role": "system", "content": "ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„ AI åŠ©æ‰‹"},
      {"role": "user", "content": "ç”¨ä¸€å¥è¯ä»‹ç»ä¸€ä¸‹ Cloudflare Workers AI"}
    ]
  }'</span>
</code></pre>
<p>å¦‚æœçœ‹åˆ°è¿”å›ç±»ä¼¼è¿™æ ·çš„ JSON,å°±è¯´æ˜æˆåŠŸäº†:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"result"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"response"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Cloudflare Workers AI æ˜¯ä¸€ä¸ªæ— æœåŠ¡å™¨çš„ AI æ¨ç†å¹³å°..."</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç¬¬ä¸€æ¬¡æˆåŠŸè¿”å›çš„æ—¶å€™,æˆ‘æ¿€åŠ¨å¾—æˆªäº†ä¸ªå›¾å‘æœ‹å‹åœˆğŸ˜‚
<strong>å¸¸è§é”™è¯¯å¤„ç†:</strong></p>
<ul>
<li><strong>é”™è¯¯ 7003</strong>: Token æˆ– Account ID å¡«é”™äº†,æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å®Œæ•´å¤åˆ¶</li>
<li><strong>é”™è¯¯ 10000</strong>: æ¨¡å‹åå­—å†™é”™äº†,æ³¨æ„æ˜¯ <code>@cf/meta/llama-3.1-8b-instruct</code>,ä¸è¦æ¼æ‰ <code>@cf/</code></li>
<li><strong>è¶…æ—¶</strong>: é¦–æ¬¡è°ƒç”¨å¯èƒ½æ…¢ä¸€ç‚¹(å†·å¯åŠ¨),ç­‰ 10 ç§’å·¦å³,åç»­å°±å¿«äº†</li>
</ul>
<h3 data-id="heading-6">æ–¹å¼äºŒ:æ¨è - ç”¨ Workers + Wrangler éƒ¨ç½²</h3>
<p>è¿™æ˜¯å®˜æ–¹æ¨èçš„æ–¹å¼,å¥½å¤„æ˜¯å¯ä»¥éƒ¨ç½²æˆä¸€ä¸ªæ°¸ä¹…å¯ç”¨çš„ API,è€Œä¸”é…ç½®ç®¡ç†æ›´æ–¹ä¾¿ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥:å®‰è£… Wrangler CLI</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm install -g wrangler
</code></pre>
<p>ç„¶åç™»å½•ä½ çš„ Cloudflare è´¦å·:</p>
<pre><code class="hljs language-bash" lang="bash">wrangler login
</code></pre>
<p>ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è®©ä½ æˆæƒ,ç‚¹åŒæ„å°±è¡Œã€‚</p>
<p><strong>ç¬¬äºŒæ­¥:åˆ›å»º Worker é¡¹ç›®</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm create cloudflare@latest my-ai-worker
</code></pre>
<p>ä¼šé—®ä½ å‡ ä¸ªé—®é¢˜,æŒ‰è¿™æ ·é€‰æ‹©:</p>
<ul>
<li>Select a project type: "Hello World" Worker</li>
<li>Do you want to use TypeScript? çœ‹ä½ å–œæ¬¢,æˆ‘é€‰çš„ No(ç”¨ JavaScript)</li>
<li>Do you want to use git? Yes</li>
<li>Do you want to deploy? å…ˆé€‰ No,æµ‹è¯•å¥½å†éƒ¨ç½²</li>
</ul>
<p><strong>ç¬¬ä¸‰æ­¥:é…ç½® Workers AI ç»‘å®š</strong></p>
<p>è¿›å…¥é¡¹ç›®ç›®å½•,ç¼–è¾‘ <code>wrangler.toml</code> æ–‡ä»¶,åœ¨æœ€ååŠ ä¸Šè¿™å‡ è¡Œ:</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[ai]</span>
<span class="hljs-attr">binding</span> = <span class="hljs-string">"AI"</span>
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥åœ¨ä»£ç é‡Œç”¨ <code>env.AI</code> è®¿é—® Workers AI æœåŠ¡äº†,ä¸éœ€è¦æ‰‹åŠ¨ä¼  Tokenã€‚</p>
<p><strong>ç¬¬å››æ­¥:å†™ä»£ç </strong></p>
<p>ç¼–è¾‘ <code>src/index.js</code>(æˆ– <code>index.ts</code>),æŠŠå†…å®¹æ”¹æˆè¿™æ ·:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-comment">// å¤„ç† CORS(å¦‚æœä½ è¦ä»ç½‘é¡µè°ƒç”¨)</span>
    <span class="hljs-keyword">if</span> (request.<span class="hljs-property">method</span> === <span class="hljs-string">'OPTIONS'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-literal">null</span>, {
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-string">'Access-Control-Allow-Origin'</span>: <span class="hljs-string">'*'</span>,
          <span class="hljs-string">'Access-Control-Allow-Methods'</span>: <span class="hljs-string">'POST'</span>,
          <span class="hljs-string">'Access-Control-Allow-Headers'</span>: <span class="hljs-string">'Content-Type'</span>,
        },
      });
    }
    <span class="hljs-comment">// åªæ¥å— POST è¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (request.<span class="hljs-property">method</span> !== <span class="hljs-string">'POST'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Method not allowed'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">405</span> });
    }
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// è§£æè¯·æ±‚</span>
      <span class="hljs-keyword">const</span> { messages } = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>();
      <span class="hljs-comment">// è°ƒç”¨ AI æ¨¡å‹</span>
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> env.<span class="hljs-property">AI</span>.<span class="hljs-title function_">run</span>(<span class="hljs-string">'@cf/meta/llama-3.1-8b-instruct'</span>, {
        <span class="hljs-attr">messages</span>: messages || [
          { <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello!'</span> }
        ]
      });
      <span class="hljs-comment">// è¿”å›ç»“æœ</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(response), {
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
          <span class="hljs-string">'Access-Control-Allow-Origin'</span>: <span class="hljs-string">'*'</span>,
        },
      });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> }), {
        <span class="hljs-attr">status</span>: <span class="hljs-number">500</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
      });
    }
  },
};
</code></pre>
<p><strong>ç¬¬äº”æ­¥:æœ¬åœ°æµ‹è¯•</strong></p>
<pre><code class="hljs language-bash" lang="bash">wrangler dev
</code></pre>
<p>ä¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨,é€šå¸¸æ˜¯ <code>http://localhost:8787</code>ã€‚
ç”¨ curl æµ‹è¯•ä¸€ä¸‹:</p>
<pre><code class="hljs language-bash" lang="bash">curl http://localhost:8787 \
  -X POST \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "messages": [
      {"role": "user", "content": "ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±"}
    ]
  }'</span>
</code></pre>
<p>å¦‚æœè¿”å›æ­£å¸¸,å°±å¯ä»¥éƒ¨ç½²äº†ã€‚</p>
<p><strong>ç¬¬å…­æ­¥:éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</strong></p>
<pre><code class="hljs language-bash" lang="bash">wrangler deploy
</code></pre>
<p>éƒ¨ç½²æˆåŠŸå,ä¼šç»™ä½ ä¸€ä¸ª <code>*.workers.dev</code> åŸŸå,æ¯”å¦‚:</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//my-ai-worker.your-name.workers.dev</span>
</code></pre>
<p>è¿™å°±æ˜¯ä½ çš„ AI API åœ°å€äº†,å¯ä»¥ä»ä»»ä½•åœ°æ–¹è°ƒç”¨ã€‚
æˆ‘ç°åœ¨ç”¨è¿™ä¸ªæ–¹å¼è·‘äº†ä¸ªå°å®¢æœæœºå™¨äºº,å®Œå…¨å…è´¹,å“åº”é€Ÿåº¦ä¹Ÿä¸é”™(é€šå¸¸ 1-3 ç§’)ã€‚</p>
<h3 data-id="heading-7">æ–¹å¼ä¸‰:ç”¨ OpenAI SDK æ— ç¼è¿ç§»</h3>
<p>å¦‚æœä½ ä¹‹å‰ç”¨çš„æ˜¯ OpenAI API,ç°åœ¨æƒ³æ¢æˆ Workers AI,è¿™ä¸ªæ–¹æ³•æœ€æ–¹ä¾¿ - <strong>ä»£ç å‡ ä¹ä¸ç”¨æ”¹</strong>ã€‚
Workers AI æä¾›äº† OpenAI å…¼å®¹çš„ç«¯ç‚¹,åªéœ€è¦æ”¹ä¸€ä¸‹ baseURL å°±è¡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">OpenAI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'openai'</span>;
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAI</span>({
  <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">CLOUDFLARE_API_TOKEN</span>, <span class="hljs-comment">// ç”¨ä½ çš„ Cloudflare Token</span>
  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">`https://api.cloudflare.com/client/v4/accounts/<span class="hljs-subst">${process.env.ACCOUNT_ID}</span>/ai/v1`</span>,
});
<span class="hljs-comment">// å’Œ OpenAI ä¸€æ¨¡ä¸€æ ·çš„è°ƒç”¨æ–¹å¼</span>
<span class="hljs-keyword">const</span> chatCompletion = <span class="hljs-keyword">await</span> client.<span class="hljs-property">chat</span>.<span class="hljs-property">completions</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-string">'@cf/meta/llama-3.1-8b-instruct'</span>, <span class="hljs-comment">// æ¢æˆ Workers AI çš„æ¨¡å‹å</span>
  <span class="hljs-attr">messages</span>: [
    { <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„ AI åŠ©æ‰‹'</span> },
    { <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'Hello!'</span> }
  ],
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chatCompletion.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>);
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹:</strong></p>
<ul>
<li><code>apiKey</code> ç”¨ Cloudflare çš„ API Token</li>
<li><code>baseURL</code> æ”¹æˆ Workers AI çš„ç«¯ç‚¹</li>
<li><code>model</code> æ”¹æˆ Workers AI æ”¯æŒçš„æ¨¡å‹å(å‰é¢è¦åŠ  <code>@cf/</code>)
æˆ‘ä¹‹å‰æœ‰ä¸ª Next.js é¡¹ç›®ç”¨çš„ OpenAI,è¿ç§»åˆ° Workers AI åªèŠ±äº† 10 åˆ†é’Ÿ,æ”¹äº†è¿™ä¸‰ä¸ªåœ°æ–¹å°±è¡Œã€‚</li>
</ul>
<h2 data-id="heading-8">èƒ½ç”¨å“ªäº›æ¨¡å‹?æ€ä¹ˆé€‰?</h2>
<p>Workers AI ç°åœ¨æ”¯æŒ 50 å¤šä¸ªæ¨¡å‹,æˆ‘æŒ‘å‡ ä¸ªå¸¸ç”¨çš„ä»‹ç»ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-9">æ–‡æœ¬ç”Ÿæˆæ¨¡å‹(æœ€å¸¸ç”¨)</h3>





























































<table><thead><tr><th>æ¨¡å‹</th><th>å‚æ•°é‡</th><th>ç‰¹ç‚¹</th><th>æ¨èåœºæ™¯</th><th>æ¨¡å‹ ID</th></tr></thead><tbody><tr><td><strong>Llama 3.1</strong></td><td>8B</td><td>å¹³è¡¡æ€§å¥½,é€Ÿåº¦å¿«</td><td>æ—¥å¸¸å¯¹è¯ã€å®¢æœã€æ‘˜è¦</td><td><code>@cf/meta/llama-3.1-8b-instruct</code></td></tr><tr><td><strong>Llama 3.1</strong></td><td>70B</td><td>è´¨é‡æ›´é«˜,æ…¢ä¸€ç‚¹</td><td>å¤æ‚æ¨ç†ã€é•¿æ–‡æœ¬</td><td><code>@cf/meta/llama-3.1-70b-instruct</code></td></tr><tr><td><strong>Llama 4 Scout</strong></td><td>17B(MoE)</td><td>å¤šæ¨¡æ€(å›¾æ–‡)</td><td>å›¾åƒç†è§£+æ–‡æœ¬</td><td><code>@cf/meta/llama-4-scout</code></td></tr><tr><td><strong>Mistral 7B v0.2</strong></td><td>7B</td><td>32k ä¸Šä¸‹æ–‡</td><td>é•¿æ–‡æ¡£åˆ†æ</td><td><code>@cf/mistral/mistral-7b-instruct-v0.2</code></td></tr><tr><td><strong>DeepSeek-R1</strong></td><td>32B</td><td>æ¨ç†èƒ½åŠ›å¼º</td><td>æ•°å­¦ã€ä»£ç ã€é€»è¾‘</td><td><code>@cf/deepseek/deepseek-r1-distill-qwen-32b</code></td></tr><tr><td><strong>OpenAI GPT-OSS</strong></td><td>120B/20B</td><td>Cloudflare ç‹¬å®¶</td><td>æ¥è¿‘ GPT-4 çº§åˆ«</td><td><code>@cf/openai/gpt-oss-120b</code></td></tr><tr><td><strong>æˆ‘çš„é€‰æ‹©å»ºè®®:</strong></td><td/><td/><td/><td/></tr></tbody></table>
<ol>
<li><strong>åˆæ¬¡å°è¯•ç”¨ Llama 3.1-8B</strong>
<ul>
<li>å“åº”å¿«(1-2 ç§’)</li>
<li>è´¨é‡å¤Ÿç”¨,ä¸è¾“ GPT-3.5</li>
<li>å…è´¹é¢åº¦æ¶ˆè€—å°‘</li>
</ul>
</li>
<li><strong>è¦æ±‚é«˜ä¸€ç‚¹ç”¨ Llama 3.1-70B æˆ– DeepSeek-R1</strong>
<ul>
<li>æ¨ç†èƒ½åŠ›æ›´å¼º</li>
<li>ç”Ÿæˆè´¨é‡æ¥è¿‘ GPT-4</li>
<li>å°±æ˜¯æ…¢ä¸€ç‚¹(3-5 ç§’),æ¶ˆè€—ä¹Ÿå¤š 3-4 å€</li>
</ul>
</li>
<li><strong>é•¿æ–‡æ¡£åˆ†æç”¨ Mistral 7B v0.2</strong>
<ul>
<li>æ”¯æŒ 32k ä¸Šä¸‹æ–‡çª—å£(Llama 3.1 åªæœ‰ 8k)</li>
<li>é€‚åˆå¤„ç†é•¿è®ºæ–‡ã€é•¿ä»£ç </li>
</ul>
</li>
</ol>
<h3 data-id="heading-10">å…¶ä»–å®ç”¨æ¨¡å‹</h3>
<ul>
<li><strong>å›¾åƒç”Ÿæˆ</strong>: Stable Diffusion XL - <code>@cf/stabilityai/stable-diffusion-xl-base-1.0</code></li>
<li><strong>è¯­éŸ³è¯†åˆ«</strong>: Whisper - <code>@cf/openai/whisper</code></li>
<li><strong>æ–‡æœ¬åµŒå…¥</strong>: BGE-base - <code>@cf/baai/bge-base-en-v1.5</code>(åšå‘é‡æœç´¢ç”¨)</li>
<li><strong>å†…å®¹å®‰å…¨</strong>: Llama Guard 3 - <code>@cf/meta/llama-guard-3-8b</code>(æ£€æµ‹æœ‰å®³å†…å®¹)
å®Œæ•´æ¨¡å‹åˆ—è¡¨å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.cloudflare.com%2Fworkers-ai%2Fmodels%2F" target="_blank" title="https://developers.cloudflare.com/workers-ai/models/" ref="nofollow noopener noreferrer">developers.cloudflare.com/workers-ai/â€¦</a></li>
</ul>
<h2 data-id="heading-11">å®æˆ˜æ¡ˆä¾‹:ä¸‰ä¸ªçœŸå®ä¾‹å­</h2>
<h3 data-id="heading-12">æ¡ˆä¾‹1:æ„å»ºæ™ºèƒ½é—®ç­” API(æœ€ç®€å•)</h3>
<p><strong>åœºæ™¯:</strong> ç»™ä½ çš„åšå®¢æˆ–æ–‡æ¡£ç«™åŠ ä¸€ä¸ª AI å®¢æœã€‚
å®Œæ•´ä»£ç (åŸºäºæ–¹å¼äºŒ):</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-comment">// å…è®¸è·¨åŸŸ</span>
    <span class="hljs-keyword">const</span> corsHeaders = {
      <span class="hljs-string">'Access-Control-Allow-Origin'</span>: <span class="hljs-string">'*'</span>,
      <span class="hljs-string">'Access-Control-Allow-Methods'</span>: <span class="hljs-string">'POST, OPTIONS'</span>,
      <span class="hljs-string">'Access-Control-Allow-Headers'</span>: <span class="hljs-string">'Content-Type'</span>,
    };
    <span class="hljs-keyword">if</span> (request.<span class="hljs-property">method</span> === <span class="hljs-string">'OPTIONS'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-literal">null</span>, { <span class="hljs-attr">headers</span>: corsHeaders });
    }
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> { question } = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>();
      <span class="hljs-comment">// ä½ å¯ä»¥åœ¨ system æç¤ºè¯é‡ŒåŠ ä¸Šä½ ç½‘ç«™çš„èƒŒæ™¯çŸ¥è¯†</span>
      <span class="hljs-keyword">const</span> messages = [
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
          <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯åšå®¢çš„ AI åŠ©æ‰‹,ä¸»è¦å›ç­”å…³äº Web å¼€å‘ã€AI åº”ç”¨çš„é—®é¢˜ã€‚å›ç­”è¦ç®€æ´ã€å‹å¥½ã€‚'</span>
        },
        {
          <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
          <span class="hljs-attr">content</span>: question
        }
      ];
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> env.<span class="hljs-property">AI</span>.<span class="hljs-title function_">run</span>(
        <span class="hljs-string">'@cf/meta/llama-3.1-8b-instruct'</span>,
        { messages }
      );
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(
        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">answer</span>: response.<span class="hljs-property">response</span> }),
        { <span class="hljs-attr">headers</span>: { ...corsHeaders, <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> } }
      );
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(
        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">'å¤„ç†å¤±è´¥,è¯·ç¨åé‡è¯•'</span> }),
        { <span class="hljs-attr">status</span>: <span class="hljs-number">500</span>, <span class="hljs-attr">headers</span>: { ...corsHeaders, <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> } }
      );
    }
  }
};
</code></pre>
<p><strong>å‰ç«¯è°ƒç”¨:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">askQuestion</span>(<span class="hljs-params">question</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://your-worker.workers.dev'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ question })
  });
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">return</span> data.<span class="hljs-property">answer</span>;
}
<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> answer = <span class="hljs-keyword">await</span> <span class="hljs-title function_">askQuestion</span>(<span class="hljs-string">'Workers AI æ€ä¹ˆæ”¶è´¹?'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(answer);
</code></pre>
<p><strong>æˆæœ¬ä¼°ç®—:</strong> å‡è®¾æ¯å¤©æœ‰ 200 ä¸ªç”¨æˆ·æé—®,æ¯æ¬¡å¯¹è¯æ¶ˆè€— 10 Neurons,æ€»å…± 2000 Neurons,å®Œå…¨åœ¨å…è´¹é¢åº¦å†…ã€‚</p>
<h3 data-id="heading-13">æ¡ˆä¾‹2:æ‰¹é‡æ–‡æœ¬æ‘˜è¦ç”Ÿæˆ</h3>
<p><strong>åœºæ™¯:</strong> ä½ æœ‰ä¸€å †æ–‡ç« éœ€è¦ç”Ÿæˆæ‘˜è¦,æ¯”å¦‚ RSS è®¢é˜…ã€æ–°é—»æŠ“å–ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateSummary</span>(<span class="hljs-params">text, env</span>) {
  <span class="hljs-keyword">const</span> messages = [
    {
      <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ–‡æœ¬æ‘˜è¦åŠ©æ‰‹ã€‚è¯·å°†ç”¨æˆ·æä¾›çš„æ–‡ç« æ€»ç»“æˆ 2-3 å¥è¯,çªå‡ºæ ¸å¿ƒè§‚ç‚¹ã€‚'</span>
    },
    {
      <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">`è¯·æ€»ç»“ä»¥ä¸‹æ–‡ç« :\n\n<span class="hljs-subst">${text}</span>`</span>
    }
  ];
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> env.<span class="hljs-property">AI</span>.<span class="hljs-title function_">run</span>(
    <span class="hljs-string">'@cf/meta/llama-3.1-8b-instruct'</span>,
    {
      messages,
      <span class="hljs-attr">max_tokens</span>: <span class="hljs-number">150</span> <span class="hljs-comment">// é™åˆ¶è¾“å‡ºé•¿åº¦,èŠ‚çœ Neurons</span>
    }
  );
  <span class="hljs-keyword">return</span> response.<span class="hljs-property">response</span>;
}
<span class="hljs-comment">// æ‰¹é‡å¤„ç†</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-keyword">const</span> { articles } = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// å‡è®¾ä¼ å…¥æ–‡ç« æ•°ç»„</span>
    <span class="hljs-keyword">const</span> summaries = [];
    <span class="hljs-comment">// æ³¨æ„é€Ÿç‡é™åˆ¶: 300 è¯·æ±‚/åˆ†é’Ÿ,æ‰€ä»¥è¦æ§åˆ¶å¹¶å‘</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> article <span class="hljs-keyword">of</span> articles) {
      <span class="hljs-keyword">const</span> summary = <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateSummary</span>(article.<span class="hljs-property">content</span>, env);
      summaries.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">title</span>: article.<span class="hljs-property">title</span>, summary });
      <span class="hljs-comment">// ç®€å•çš„é€Ÿç‡æ§åˆ¶(å®é™…åº”è¯¥ç”¨æ›´æ™ºèƒ½çš„é˜Ÿåˆ—)</span>
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">200</span>)); <span class="hljs-comment">// æ¯æ¬¡é—´éš” 200ms</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(summaries), {
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> }
    });
  }
};
</code></pre>
<p><strong>æ³¨æ„é€Ÿç‡é™åˆ¶:</strong></p>
<ul>
<li>Llama 3.1-8B é™åˆ¶æ˜¯ 300 è¯·æ±‚/åˆ†é’Ÿ</li>
<li>å¦‚æœè¦æ‰¹é‡å¤„ç†,è®°å¾—åŠ å»¶è¿Ÿæˆ–ç”¨é˜Ÿåˆ—</li>
<li>æˆ‘ä¸€èˆ¬ç”¨ <code>p-queue</code> è¿™ä¸ª npm åŒ…æ§åˆ¶å¹¶å‘
<strong>æˆæœ¬è®¡ç®—å®ä¾‹:</strong></li>
<li>å‡è®¾æ¯ç¯‡æ–‡ç«  1000 å­—,ç”Ÿæˆ 100 å­—æ‘˜è¦</li>
<li>æ¯æ¬¡æ¶ˆè€—çº¦ 30 Neurons</li>
<li>å¤„ç† 300 ç¯‡æ–‡ç«  = 9000 Neurons,è¿˜åœ¨å…è´¹é¢åº¦å†…</li>
</ul>
<h3 data-id="heading-14">æ¡ˆä¾‹3:å¤šè¯­è¨€ç¿»è¯‘æœåŠ¡(æ¯” Google Translate ä¾¿å®œ)</h3>
<p><strong>åœºæ™¯:</strong> åšä¸€ä¸ªç¿»è¯‘å·¥å…·,æˆ–è€…ç»™ä½ çš„åº”ç”¨åŠ å›½é™…åŒ–æ”¯æŒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">translate</span>(<span class="hljs-params">text, targetLang, env</span>) {
  <span class="hljs-keyword">const</span> messages = [
    {
      <span class="hljs-attr">role</span>: <span class="hljs-string">'system'</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">`ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¿»è¯‘åŠ©æ‰‹ã€‚å°†ç”¨æˆ·è¾“å…¥ç¿»è¯‘æˆ <span class="hljs-subst">${targetLang}</span>,ä¿æŒåŸæ–‡é£æ ¼å’Œè¯­æ°”ã€‚åªè¿”å›ç¿»è¯‘ç»“æœ,ä¸è¦åŠ ä»»ä½•è§£é‡Šã€‚`</span>
    },
    {
      <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
      <span class="hljs-attr">content</span>: text
    }
  ];
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> env.<span class="hljs-property">AI</span>.<span class="hljs-title function_">run</span>(
    <span class="hljs-string">'@cf/meta/llama-3.1-8b-instruct'</span>, <span class="hljs-comment">// Llama 3.1 æ”¯æŒå¤šè¯­è¨€</span>
    { messages }
  );
  <span class="hljs-keyword">return</span> response.<span class="hljs-property">response</span>;
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">request, env</span>) {
    <span class="hljs-keyword">const</span> { text, targetLang } = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>();
    <span class="hljs-keyword">const</span> translation = <span class="hljs-keyword">await</span> <span class="hljs-title function_">translate</span>(text, targetLang, env);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ translation }), {
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> }
    });
  }
};
</code></pre>
<p><strong>æˆæœ¬å¯¹æ¯”:</strong></p>
<ul>
<li><strong>Google Cloud Translation API</strong>: $20/ç™¾ä¸‡å­—ç¬¦</li>
<li><strong>Workers AI(Llama 3.1)</strong>: å‡è®¾ 100 å­—æ–‡æœ¬æ¶ˆè€— 15 Neurons
<ul>
<li>ç™¾ä¸‡å­—ç¬¦ = 10,000 æ¬¡è°ƒç”¨ = 150,000 Neurons</li>
<li>æˆæœ¬: 150,000/1000 Ã— <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.011</mn><mo>=</mo><mo>âˆ—</mo><mo>âˆ—</mo></mrow><annotation encoding="application/x-tex">0.011 = **</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.011</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4653em;"/><span class="mord">âˆ—</span><span class="mord">âˆ—</span></span></span></span></span>1.65**
ä¾¿å®œäº† 10 å€ä»¥ä¸Š!å½“ç„¶,Google Translate å‡†ç¡®åº¦å¯èƒ½ç¨é«˜ä¸€ç‚¹,ä½† Llama 3.1 çš„ç¿»è¯‘è´¨é‡æˆ‘è§‰å¾—ä¹Ÿå¤Ÿç”¨äº†ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-15">è¿›é˜¶æŠ€å·§:ä¼˜åŒ–æ€§èƒ½å’Œæˆæœ¬</h2>
<h3 data-id="heading-16">1. ä½¿ç”¨æµå¼å“åº”å‡å°‘ç­‰å¾…æ—¶é—´</h3>
<p>å¯¹äºé•¿æ–‡æœ¬ç”Ÿæˆ,å¯ä»¥ç”¨æµå¼å“åº”,è®©ç”¨æˆ·çœ‹åˆ°é€å­—è¾“å‡º(åƒ ChatGPT é‚£æ ·)ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> env.<span class="hljs-property">AI</span>.<span class="hljs-title function_">run</span>(
  <span class="hljs-string">'@cf/meta/llama-3.1-8b-instruct'</span>,
  {
    messages,
    <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å¼€å¯æµå¼å“åº”</span>
  }
);
<span class="hljs-comment">// è¿”å›æµå¼å“åº”</span>
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(response, {
  <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/event-stream'</span> }
});
</code></pre>
<p>å‰ç«¯ç”¨ Server-Sent Events(SSE)æ¥æ”¶:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">'https://your-worker.workers.dev'</span>);
eventSource.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-property">response</span>); <span class="hljs-comment">// é€å­—æ˜¾ç¤º</span>
};
</code></pre>
<h3 data-id="heading-17">2. è®¾ç½® max_tokens æ§åˆ¶æˆæœ¬</h3>
<p>å¦‚æœä½ ä¸éœ€è¦å¾ˆé•¿çš„å›å¤,å¯ä»¥é™åˆ¶è¾“å‡ºé•¿åº¦:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> env.<span class="hljs-property">AI</span>.<span class="hljs-title function_">run</span>(
  <span class="hljs-string">'@cf/meta/llama-3.1-8b-instruct'</span>,
  {
    messages,
    <span class="hljs-attr">max_tokens</span>: <span class="hljs-number">100</span> <span class="hljs-comment">// æœ€å¤šç”Ÿæˆ 100 ä¸ª token</span>
  }
);
</code></pre>
<p>è¿™æ ·èƒ½èŠ‚çœä¸å°‘ Neurons,å°¤å…¶æ˜¯æ‰¹é‡å¤„ç†çš„æ—¶å€™ã€‚</p>
<h3 data-id="heading-18">3. ç”¨ Cloudflare AI Gateway åšç¼“å­˜å’Œç›‘æ§</h3>
<p>Cloudflare è¿˜æœ‰ä¸ª AI Gateway æœåŠ¡,å¯ä»¥:</p>
<ul>
<li><strong>ç¼“å­˜ç›¸åŒè¯·æ±‚çš„ç»“æœ</strong>(èŠ‚çœ Neurons)</li>
<li><strong>ç›‘æ§ API è°ƒç”¨ç»Ÿè®¡</strong></li>
<li><strong>é™æµä¿æŠ¤</strong>(é˜²æ­¢æ»¥ç”¨)
é…ç½®å¾ˆç®€å•,åœ¨ <code>wrangler.toml</code> é‡ŒåŠ :</li>
</ul>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[ai]</span>
<span class="hljs-attr">binding</span> = <span class="hljs-string">"AI"</span>
<span class="hljs-attr">gateway</span> = <span class="hljs-string">"my-gateway"</span> <span class="hljs-comment"># ä½ çš„ AI Gateway åå­—</span>
</code></pre>
<p>ç„¶ååœ¨ Cloudflare Dashboard â†’ AI Gateway é‡Œåˆ›å»ºä¸€ä¸ª Gatewayã€‚
æˆ‘ç°åœ¨ç”¨è¿™ä¸ªæ¥ç›‘æ§æˆ‘çš„ Worker,å¯ä»¥çœ‹åˆ°æ¯å¤©æ¶ˆè€—äº†å¤šå°‘ Neurons,å“ªäº›è¯·æ±‚æœ€æ…¢,æŒºæ–¹ä¾¿çš„ã€‚</p>
<h3 data-id="heading-19">4. ä¸å…¶ä»–æœåŠ¡é›†æˆ</h3>
<p><strong>é›†æˆåˆ° Next.js åº”ç”¨:</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// app/api/ai/route.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextRequest</span>, <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> runtime = <span class="hljs-string">'edge'</span>; <span class="hljs-comment">// é‡è¦: ç”¨ Edge Runtime</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">POST</span>(<span class="hljs-params">request: NextRequest</span>) {
  <span class="hljs-keyword">const</span> { messages } = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(
    <span class="hljs-string">`https://api.cloudflare.com/client/v4/accounts/<span class="hljs-subst">${process.env.ACCOUNT_ID}</span>/ai/run/@cf/meta/llama-3.1-8b-instruct`</span>,
    {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${process.env.CF_API_TOKEN}</span>`</span>,
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ messages }),
    }
  );
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">json</span>(data);
}
</code></pre>
<p><strong>ç»“åˆ Cloudflare Pages éƒ¨ç½²å‰ç«¯:</strong>
ä½ å¯ä»¥æŠŠå‰ç«¯éƒ¨ç½²åˆ° Cloudflare Pages,åç«¯ç”¨ Workers AI,å…¨éƒ¨åœ¨ Cloudflare ç”Ÿæ€å†…,é€Ÿåº¦æ›´å¿«è€Œä¸”éƒ½å…è´¹ã€‚
æˆ‘ç°åœ¨æœ‰ä¸ªé¡¹ç›®å°±æ˜¯è¿™ä¹ˆéƒ¨ç½²çš„,å‰ç«¯ + åç«¯ä¸€åˆ†é’±æ²¡èŠ±ã€‚</p>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜è§£ç­”</h2>
<h3 data-id="heading-21">Q1: å¦‚ä½•è·å– API Token?</h3>
<p>A: Dashboard â†’ My Profile â†’ API Tokens â†’ Create Token â†’ é€‰æ‹© "Workers AI" æ¨¡æ¿ã€‚è®°å¾—ä¿å­˜å¥½,åªæ˜¾ç¤ºä¸€æ¬¡ã€‚</p>
<h3 data-id="heading-22">Q2: Account ID åœ¨å“ªé‡Œæ‰¾?</h3>
<p>A: ç™»å½•åçœ‹åœ°å€æ ,<code>https://dash.cloudflare.com/xxxxxxxxx</code>,é‚£ä¸² <code>xxxxxxxxx</code> å°±æ˜¯ã€‚</p>
<h3 data-id="heading-23">Q3: Token æ³„éœ²äº†æ€ä¹ˆåŠ?</h3>
<p>A: ç«‹å³å» API Tokens é¡µé¢æ’¤é”€(Revoke)æ—§ Token,ç„¶åé‡æ–°ç”Ÿæˆä¸€ä¸ªã€‚</p>
<h3 data-id="heading-24">Q4: å…è´¹é¢åº¦ç”¨å®Œäº†æ€ä¹ˆåŠ?</h3>
<p>A: ä¼šè‡ªåŠ¨è½¬æˆä»˜è´¹æ¨¡å¼,æŒ‰ $0.011/1000 Neurons è®¡è´¹ã€‚ä½ å¯ä»¥åœ¨ Dashboard è®¾ç½®ç”¨é‡æé†’,é¿å…è¶…æ”¯ã€‚</p>
<h3 data-id="heading-25">Q5: é‡åˆ°é€Ÿç‡é™åˆ¶æ€ä¹ˆå¤„ç†?</h3>
<p>A: å¤§å¤šæ•° LLM é™åˆ¶æ˜¯ 300 è¯·æ±‚/åˆ†é’Ÿã€‚å¦‚æœè¶…äº†:</p>
<ul>
<li>åŠ å»¶è¿Ÿæ§åˆ¶è¯·æ±‚é¢‘ç‡</li>
<li>ç”¨é˜Ÿåˆ—ç³»ç»Ÿç¼“å†²è¯·æ±‚</li>
<li>è€ƒè™‘å‡çº§åˆ°ä»˜è´¹è®¡åˆ’(ä¼šæœ‰æ›´é«˜é™åˆ¶)</li>
</ul>
<h3 data-id="heading-26">Q6: å“ªäº›åœ°åŒºå¯ä»¥ä½¿ç”¨?</h3>
<p>A: å…¨çƒéƒ½å¯ä»¥,Cloudflare æœ‰ 300+ ä¸ªè¾¹ç¼˜èŠ‚ç‚¹ã€‚ä½†ä¸­å›½å¤§é™†è®¿é—®å¯èƒ½éœ€è¦ç‰¹æ®Šç½‘ç»œã€‚</p>
<h3 data-id="heading-27">Q7: æ¨¡å‹è¾“å‡ºè´¨é‡ä¸å¦‚é¢„æœŸæ€ä¹ˆåŠ?</h3>
<p>A: å‡ ä¸ªå»ºè®®:</p>
<ul>
<li>ä¼˜åŒ– prompt,å¤šç»™ä¸€äº›ç¤ºä¾‹(few-shot learning)</li>
<li>æ¢æ›´å¤§çš„æ¨¡å‹,æ¯”å¦‚ä» 8B æ¢åˆ° 70B</li>
<li>è°ƒæ•´ temperature å‚æ•°(é»˜è®¤ 1.0,é™ä½ä¼šæ›´ç¨³å®š)</li>
</ul>
<h3 data-id="heading-28">Q8: å¯ä»¥å¾®è°ƒæ¨¡å‹å—?</h3>
<p>A: Workers AI ç°åœ¨æ”¯æŒ LoRA å¾®è°ƒ(2024å¹´æ–°å¢åŠŸèƒ½),ä½†è¿™æ˜¯ä»˜è´¹åŠŸèƒ½,è€Œä¸”éœ€è¦ä¸€å®šçš„æœºå™¨å­¦ä¹ çŸ¥è¯†ã€‚å¯¹å¤§å¤šæ•°äººæ¥è¯´,ä¼˜åŒ– prompt å°±å¤Ÿäº†ã€‚</p>
<h3 data-id="heading-29">Q9: å¦‚ä½•ç›‘æ§ç”¨é‡?</h3>
<p>A: Cloudflare Dashboard â†’ Workers AI â†’ Analytics,å¯ä»¥çœ‹åˆ°:</p>
<ul>
<li>æ¯å¤©æ¶ˆè€—çš„ Neurons</li>
<li>è¯·æ±‚æ¬¡æ•°å’ŒæˆåŠŸç‡</li>
<li>å¹³å‡å“åº”æ—¶é—´
å»ºè®®å®šæœŸæ£€æŸ¥,é¿å…è¶…é¢ã€‚</li>
</ul>
<h3 data-id="heading-30">Q10: æ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€?</h3>
<p>A: å®˜æ–¹æ”¯æŒ:</p>
<ul>
<li>JavaScript/TypeScript(Workers)</li>
<li>Python(é€šè¿‡ REST API)</li>
<li>ä»»ä½•èƒ½å‘ HTTP è¯·æ±‚çš„è¯­è¨€
ç”¨ REST API çš„è¯,ä»€ä¹ˆè¯­è¨€éƒ½èƒ½è°ƒç”¨ã€‚</li>
</ul>
<h2 data-id="heading-31">æ€»ç»“:Workers AI å€¼å¾—å°è¯•å—?</h2>
<p>æµ‹è¯•äº†ä¸€ä¸ªæœˆå,æˆ‘çš„ç»“è®ºæ˜¯:<strong>å¯¹ä¸ªäººå¼€å‘è€…å’Œå°å›¢é˜Ÿæ¥è¯´,éå¸¸å€¼å¾—ã€‚</strong>
<strong>ä¼˜ç‚¹:</strong></p>
<ul>
<li>âœ… å…è´¹é¢åº¦æ…·æ…¨(æ¯å¤© 10,000 Neurons)</li>
<li>âœ… ä»˜è´¹ä»·æ ¼ä¾¿å®œ(æ¯” OpenAI ä¾¿å®œ 60-90%)</li>
<li>âœ… ä¸Šæ‰‹ç®€å•(æœ‰ REST API å’Œ OpenAI å…¼å®¹æ¥å£)</li>
<li>âœ… å“åº”é€Ÿåº¦å¿«(å…¨çƒè¾¹ç¼˜ç½‘ç»œ)</li>
<li>âœ… æ¨¡å‹é€‰æ‹©å¤š(50+ å¼€æºæ¨¡å‹)
<strong>ç¼ºç‚¹:</strong></li>
<li>âš ï¸ æ¨¡å‹è´¨é‡ç•¥é€Šäº GPT-4(ä½†æ¥è¿‘ GPT-3.5)</li>
<li>âš ï¸ é€Ÿç‡é™åˆ¶(300 è¯·æ±‚/åˆ†é’Ÿ,å¤§è§„æ¨¡åº”ç”¨å¯èƒ½ä¸å¤Ÿ)</li>
<li>âš ï¸ æ–‡æ¡£è¿˜ä¸å¤Ÿå®Œå–„(æœ‰äº›åŠŸèƒ½è¦è‡ªå·±æ‘¸ç´¢)
<strong>æˆ‘çš„å»ºè®®:</strong></li>
</ul>
<ol>
<li><strong>ä¸ªäººé¡¹ç›®ç›´æ¥ä¸Š</strong>,å…è´¹é¢åº¦è¶³å¤Ÿ,è€Œä¸”çœäº†æœåŠ¡å™¨æˆæœ¬</li>
<li><strong>åˆ›ä¸šé¡¹ç›®å¯ä»¥å…ˆç”¨</strong>,ç­‰è§„æ¨¡ä¸Šæ¥å†è€ƒè™‘è¿ç§»åˆ°å…¶ä»–æ–¹æ¡ˆ</li>
<li><strong>ä¼ä¸šåº”ç”¨è°¨æ…è¯„ä¼°</strong>,è¦è€ƒè™‘ SLAã€æ•°æ®åˆè§„æ€§ç­‰é—®é¢˜
å¦‚æœä½ ä¹Ÿåœ¨æ‰¾ä½æˆæœ¬çš„ AI æ–¹æ¡ˆ,ä¸å¦¨è¯•è¯• Workers AIã€‚æ³¨å†Œè´¦å· 5 åˆ†é’Ÿ,è·‘é€šç¬¬ä¸€ä¸ªä¾‹å­ä¹Ÿå°± 15 åˆ†é’Ÿ,ä¸‡ä¸€é€‚åˆä½ å‘¢?</li>
</ol>
<h2 data-id="heading-32">å»¶ä¼¸å­¦ä¹ èµ„æº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.cloudflare.com%2Fworkers-ai%2F" target="_blank" title="https://developers.cloudflare.com/workers-ai/" ref="nofollow noopener noreferrer">Cloudflare Workers AI å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.cloudflare.com%2Fworkers-ai%2Fmodels%2F" target="_blank" title="https://developers.cloudflare.com/workers-ai/models/" ref="nofollow noopener noreferrer">Workers AI æ¨¡å‹ç›®å½•</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fplayground.ai.cloudflare.com%2F" target="_blank" title="https://playground.ai.cloudflare.com/" ref="nofollow noopener noreferrer">Workers AI Playground</a> - åœ¨çº¿æµ‹è¯•å„ä¸ªæ¨¡å‹</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcommunity.cloudflare.com%2Fc%2Fdevelopers%2Fworkers-ai%2F" target="_blank" title="https://community.cloudflare.com/c/developers/workers-ai/" ref="nofollow noopener noreferrer">Cloudflare Community</a> - æœ‰é—®é¢˜å¯ä»¥åœ¨è¿™é‡Œé—®</li>
</ul>
<hr/>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«:</strong></p>
<ul>
<li>ä½ ç”¨ Workers AI åšäº†ä»€ä¹ˆé¡¹ç›®?</li>
<li>é‡åˆ°äº†ä»€ä¹ˆå‘?</li>
<li>æœ‰ä»€ä¹ˆä¼˜åŒ–å»ºè®®?
å¤§å®¶ä¸€èµ·äº¤æµå­¦ä¹ ,è¯´ä¸å®šèƒ½ç¢°æ’å‡ºæ–°çš„æƒ³æ³•ğŸ˜„</li>
</ul>
<blockquote>
<p>åŸæ–‡é¦–å‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.betterlink.top%2Fzh%2Fposts%2Fai%2F20251121-workers-ai-tutorial%2F" target="_blank" title="https://blog.betterlink.top/zh/posts/ai/20251121-workers-ai-tutorial/" ref="nofollow noopener noreferrer">è‡ªä¸ªäººåšå®¢</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[4.BTC-åè®®]]></title>    <link>https://juejin.cn/post/7580196545287700534</link>    <guid>https://juejin.cn/post/7580196545287700534</guid>    <pubDate>2025-12-05T10:52:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580196545287700534" data-draft-id="7579999793320706054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="4.BTC-åè®®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T10:52:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ¶‚æ¶‚"/> <meta itemprop="url" content="https://juejin.cn/user/3740972207312249"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            4.BTC-åè®®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3740972207312249/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ¶‚æ¶‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:52:47.000Z" title="Fri Dec 05 2025 10:52:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚å¿µ</h2>
<p>ä¸‹é¢ç»™ä½ <strong>ç»“åˆæ¦‚å¿µ + åŸç†è§£é‡Š + ç¤ºä¾‹ç±»æ¯” + åœ¨è®¾è®¡åŠ å¯†è´§å¸æ—¶çš„ä½œç”¨</strong>çš„<strong>æ·±åº¦è®²è§£ç‰ˆ</strong>ï¼Œå¸®åŠ©ä½ çœŸæ­£ç†è§£æ¯ä¸ªæ¦‚å¿µå¦‚ä½•å…±åŒæ„æˆâ€œä¸€ä¸ªåŠ å¯†è´§å¸ç³»ç»Ÿâ€ã€‚</p>
<p>å†…å®¹ç»“æ„å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ¯ä¸ªæ¦‚å¿µéƒ½æœ‰ï¼š<strong>å®šä¹‰ â†’ ä¸ºä»€ä¹ˆéœ€è¦ â†’ ä¾‹å­ â†’ åœ¨åŠ å¯†è´§å¸ä¸­çš„ä½œç”¨</strong></li>
<li>å†…å®¹é€»è¾‘è‡ªç„¶è¡”æ¥ï¼ˆä»â€œå¦‚ä½•è®¾è®¡è´§å¸ â†’ å®‰å…¨ â†’ å…±è¯† â†’ åˆ†å¸ƒå¼ç³»ç»Ÿâ€ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-1"><strong>ğŸ“˜ ä¸€ã€æ€ä¹ˆè®¾è®¡ä¸€ä¸ªåŠ å¯†è´§å¸ï¼ˆæ ¸å¿ƒæ¡†æ¶ï¼‰</strong></h2>
<p>è®¾è®¡ä¸€å¥—åŠ å¯†è´§å¸ï¼Œä½ å¿…é¡»è§£å†³ 3 ä¸ªæ ¹é—®é¢˜ï¼š</p>
<ol>
<li><strong>è°æœ‰æƒå‘è¡Œï¼Ÿ</strong>ï¼ˆå‘è¡Œæƒï¼‰</li>
<li><strong>æ€ä¹ˆéªŒè¯äº¤æ˜“ï¼Ÿ</strong>ï¼ˆåˆæ³•æ€§ï¼‰</li>
<li><strong>æ€ä¹ˆè¾¾æˆå…±è¯†ï¼Ÿ</strong>ï¼ˆå…¨ç½‘åŒæ­¥ã€é˜²æ”»å‡»ï¼‰</li>
</ol>
<p>å› æ­¤ï¼Œè®¾è®¡å¸å¿…é¡»åŒ…å«ï¼š</p>
<ul>
<li>è´§å¸å‘è¡Œè§„åˆ™ï¼ˆcoinbase / genesis / monetary policyï¼‰</li>
<li>å»ä¸­å¿ƒåŒ–è´¦æœ¬ï¼ˆåŒºå—é“¾ï¼‰</li>
<li>é˜²åŒèŠ±æœºåˆ¶</li>
<li>åˆ†å¸ƒå¼å…±è¯†æœºåˆ¶ï¼ˆPoW / PoSï¼‰</li>
<li>äº¤æ˜“éªŒè¯é€»è¾‘ï¼ˆç­¾åã€UTXOã€ä½™é¢æ£€æŸ¥ï¼‰</li>
<li>èŠ‚ç‚¹çš„é€šä¿¡ä¸æŠ—æ”»å‡»æœºåˆ¶</li>
</ul>
<p>ä¸‹é¢é€ä¸€æ‹†è§£æ¦‚å¿µã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>ğŸ“— äºŒã€è°æœ‰æƒå‘è¡Œæ•°å­—è´§å¸</strong></h2>
<h4 data-id="heading-3"><strong>1ï¸âƒ£ ä¼ ç»Ÿè´§å¸ï¼ˆä¸­å¿ƒåŒ–ï¼‰</strong></h4>
<p>å¤®è¡Œå‘è¡Œã€‚</p>
<h4 data-id="heading-4"><strong>2ï¸âƒ£ åŠ å¯†è´§å¸ï¼ˆå»ä¸­å¿ƒåŒ–ï¼‰</strong></h4>
<p>å‘è¡Œæƒç”± <strong>æ•°å­¦è§„åˆ™</strong> å†³å®šï¼š</p>
<ul>
<li><strong>æ¯”ç‰¹å¸å‘è¡Œè€…ï¼šçŸ¿å·¥ï¼ˆé€šè¿‡æŒ–çŸ¿ï¼‰</strong></li>
<li>å—å¥–åŠ±ç”±åè®®å†™æ­»ï¼ˆ2110ä¸‡ä¸Šé™ï¼‰</li>
<li>æ–°å¸æ¥è‡ª <strong>coinbase transactionï¼ˆé“¸å¸äº¤æ˜“ï¼‰</strong></li>
</ul>
<p>â¡ï¸ <strong>ç»“è®ºï¼šå‘è¡Œæƒä¸æ˜¯äººå†³å®šï¼Œæ˜¯åè®®å†³å®šã€‚</strong></p>
<hr/>
<h2 data-id="heading-5"><strong>ğŸ“˜ ä¸‰ã€æ€ä¹ˆé˜²æ­¢ Double Spending Attackï¼ˆåŒèŠ±æ”»å‡»ï¼‰</strong></h2>
<p>åŒèŠ±ï¼šåŒä¸€ç¬”é’±è¢«èŠ±ä¸¤æ¬¡ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>Alice æœ‰ 1 BTC
å¥¹åŒæ—¶å‘ Bob å’Œ Carol å„å‘ 1 BTC
å¸Œæœ›ç½‘ç»œä¸åŒæ­¥å¯¼è‡´éƒ½ç¡®è®¤æˆåŠŸã€‚</p>
<h4 data-id="heading-6"><strong>BTC çš„é˜²å¾¡ï¼š</strong></h4>
<h5 data-id="heading-7"><strong>â‘  UTXO æ¨¡å‹</strong></h5>
<p>æ¯ä¸ªè¾“å‡ºåªèƒ½èŠ±ä¸€æ¬¡ï¼ŒèŠ‚ç‚¹ä¼šæ£€æŸ¥ï¼š</p>
<blockquote>
<p>è¯¥UTXOæ˜¯å¦å·²è¢«èŠ±è¿‡ï¼Ÿ</p>
</blockquote>
<h5 data-id="heading-8"><strong>â‘¡ å·¥ä½œé‡è¯æ˜ + æœ€é•¿é“¾è§„åˆ™</strong></h5>
<p>æ”»å‡»è€…å¿…é¡»ï¼š</p>
<ul>
<li>é‡å†™å†å²</li>
<li>è¶…è¿‡å…¨ç½‘ç®—åŠ›</li>
<li>é‡æ–°æŒ–å‡ºæ›´é•¿é“¾</li>
</ul>
<p>éš¾åº¦æé«˜ â†’ æˆæœ¬å·¨å¤§ â†’ æ— æ³•åŒèŠ±</p>
<hr/>
<h2 data-id="heading-9"><strong>ğŸ“™ å››ã€æ€ä¹ˆéªŒè¯äº¤æ˜“åˆæ³•æ€§</strong></h2>
<p>éªŒè¯æµç¨‹ï¼ˆæ¯”ç‰¹å¸ï¼‰ï¼š</p>
<h4 data-id="heading-10"><strong>â‘  ç­¾åéªŒè¯ï¼ˆèº«ä»½åˆæ³•ï¼‰</strong></h4>
<p>æ£€æŸ¥ï¼š</p>
<pre><code class="hljs">äº¤æ˜“è¾“å…¥å¼•ç”¨çš„å…¬é’¥ + ç­¾å æ˜¯å¦åŒ¹é…ï¼Ÿ
</code></pre>
<p>è°çš„å¸ â†’ è°çš„ç§é’¥ â†’ æ‰èƒ½èŠ±ã€‚</p>
<h4 data-id="heading-11"><strong>â‘¡ UTXO æ˜¯å¦å­˜åœ¨ï¼ˆä½™é¢åˆæ³•ï¼‰</strong></h4>
<p>è¾“å…¥å¼•ç”¨çš„UTXOå¿…é¡»å­˜åœ¨ä¸”æœªèŠ±è´¹ã€‚</p>
<h4 data-id="heading-12"><strong>â‘¢ è¾“å…¥é‡‘é¢ â‰¥ è¾“å‡ºé‡‘é¢ï¼ˆæ— å‡­ç©ºé€ å¸ï¼‰</strong></h4>
<h4 data-id="heading-13"><strong>â‘£ Script è„šæœ¬ï¼ˆé”å®š/è§£é”é€»è¾‘ï¼‰</strong></h4>
<hr/>
<h2 data-id="heading-14"><strong>ğŸ“˜ äº”ã€é“¸å¸äº¤æ˜“ï¼ˆCoinbase Transactionï¼‰</strong></h2>
<p>è¿™æ˜¯ <strong>æ¯ä¸ªåŒºå—çš„ç¬¬ä¸€ç¬”äº¤æ˜“</strong>ï¼Œç”±çŸ¿å·¥åˆ›å»ºã€‚</p>
<p>åŒ…å«ï¼š</p>
<ul>
<li>åŒºå—å¥–åŠ±ï¼ˆæ–°å¸å‘è¡Œï¼‰</li>
<li>äº¤æ˜“æ‰‹ç»­è´¹ï¼ˆæ¥è‡ªåŒºå—å†…å…¶ä»–äº¤æ˜“ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">coinbase:</span>
  <span class="hljs-attr">input:</span> <span class="hljs-literal">no</span> <span class="hljs-string">previous</span> <span class="hljs-string">output</span>
  <span class="hljs-attr">output:</span> <span class="hljs-string">miner's</span> <span class="hljs-string">address</span> <span class="hljs-string">+</span> <span class="hljs-string">block</span> <span class="hljs-string">reward</span>
</code></pre>
<p>â†’ æ–°å¸äº§ç”Ÿæœºåˆ¶
â†’ æŒ–çŸ¿æ”¶å…¥æ¥æº</p>
<hr/>
<h2 data-id="heading-15"><strong>ğŸ“— å…­ã€Distributed Consensusï¼ˆåˆ†å¸ƒå¼å…±è¯†ï¼‰</strong></h2>
<p><strong>å®šä¹‰ï¼š</strong>
åœ¨æ²¡æœ‰ä¸­å¿ƒæœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œä½¿æ•´ä¸ªç½‘ç»œå¯¹â€œä¸–ç•ŒçŠ¶æ€â€è¾¾æˆä¸€è‡´ã€‚</p>
<p>åŒºå—é“¾ä¸­çš„ä¸€è‡´å†…å®¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>è°çš„ä½™é¢æ˜¯å¤šå°‘ï¼Ÿ</li>
<li>å“ªäº›äº¤æ˜“æœ‰æ•ˆï¼Ÿ</li>
<li>å“ªä¸ªåŒºå—æ˜¯æœ€æ–°çš„ï¼Ÿ</li>
</ul>
<p>BTC ä½¿ç”¨ï¼š</p>
<h4 data-id="heading-16"><strong>PoW + longest chain rule</strong></h4>
<ul>
<li>æœ€éš¾æŒ–çš„é“¾ = æœ€å¯ä¿¡</li>
<li>é¿å…åŒèŠ±</li>
<li>æŠ—æ¶æ„èŠ‚ç‚¹</li>
</ul>
<hr/>
<h2 data-id="heading-17"><strong>ğŸ“˜ ä¸ƒã€Distributed Hash Tableï¼ˆDHTï¼‰</strong></h2>
<p>ä¸æ˜¯æ¯”ç‰¹å¸æ ¸å¿ƒï¼Œä½†å¸¸ç”¨äº P2P ç½‘ç»œå’ŒåŒºå—é“¾é¡¹ç›®ã€‚</p>
<p><strong>å®šä¹‰ï¼š</strong>
ä¸€ç§åˆ†å¸ƒå¼å­˜å‚¨ç»“æ„ï¼Œç”¨å“ˆå¸Œå®šä½æ•°æ®ä½ç½®ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>BitTorrent æŸ¥æ‰¾æ–‡ä»¶å—
Filecoin å­˜å‚¨æ–‡ä»¶ç´¢å¼•</p>
<p>ä½œç”¨ï¼š</p>
<ul>
<li>æ•°æ®åˆ†æ•£å­˜</li>
<li>æ— ä¸­å¿ƒ</li>
<li>é«˜æ‰©å±•æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-18"><strong>ğŸ“• å…«ã€CAP å®šç†ï¼ˆConsistency / Availability / Partition toleranceï¼‰</strong></h2>
<p><strong>åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸‰å¤§å±æ€§ï¼š</strong></p>
<ol>
<li>
<p><strong>Consistencyï¼ˆå¼ºä¸€è‡´æ€§ï¼‰</strong>
æ‰€æœ‰èŠ‚ç‚¹çœ‹åˆ°åŒä¸€ä»½æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>Availabilityï¼ˆå¯ç”¨æ€§ï¼‰</strong>
èŠ‚ç‚¹æŒç»­å¯ä»¥å“åº”è¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>Partition Toleranceï¼ˆåˆ†åŒºå®¹å¿æ€§ï¼‰</strong>
ç½‘ç»œåˆ†è£‚æ—¶ä»å¯è¿è¡Œã€‚</p>
</li>
</ol>
<p>âš ï¸ å®šç†ï¼š<strong>ä¸‰è€…ä¸å¯åŒæ—¶æ»¡è¶³ï¼Œåªèƒ½æ»¡è¶³å…¶ä¸­ä¸¤ä¸ªã€‚</strong></p>
<p>åŒºå—é“¾é€‰æ‹©ï¼š</p>
<blockquote>
<p><strong>AP</strong> â†’ æœ€ç»ˆä¸€è‡´æ€§ï¼ˆeventual consistencyï¼‰</p>
</blockquote>
<p>å› ä¸ºï¼š</p>
<ul>
<li>åŒºå—ä¼ æ’­æœ‰å»¶è¿Ÿ</li>
<li>å…¨ç½‘åªèƒ½åšåˆ°æœ€ç»ˆåŒæ­¥</li>
</ul>
<hr/>
<h2 data-id="heading-19"><strong>ğŸ“˜ ä¹ã€Paxosï¼ˆä¼ ç»Ÿå…±è¯†ç®—æ³•ï¼‰</strong></h2>
<p>Paxos æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è§£å†³ä¸€è‡´æ€§çš„ç»å…¸ç®—æ³•ã€‚</p>
<ul>
<li>ä¸“ä¸ºå°‘é‡èŠ‚ç‚¹è®¾è®¡ï¼ˆä¸€èˆ¬ 3â€“7 å°ï¼‰</li>
<li>ç”¨äºé“¶è¡Œã€æ•°æ®åº“ï¼ˆGoogleã€Zookeeperï¼‰</li>
</ul>
<p>âš ï¸ å¹¶ä¸é€‚ç”¨äºåŠ å¯†è´§å¸ï¼š</p>
<ul>
<li>è¦æ±‚èº«ä»½æ˜ç¡®ï¼ˆåŒºå—é“¾æ˜¯åŒ¿åçš„ï¼‰</li>
<li>è¦æ±‚èŠ‚ç‚¹æ•°é‡ä¸å¤šï¼ˆåŒºå—é“¾èŠ‚ç‚¹å¤šä¸”ä¸å¯ä¿¡ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-20"><strong>ğŸ“™ åã€Membershipï¼ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æˆå‘˜ç®¡ç†ï¼‰</strong></h2>
<p>æŒ‡ï¼š</p>
<ul>
<li>å“ªäº›èŠ‚ç‚¹æ˜¯åˆæ³•æˆå‘˜ï¼Ÿ</li>
<li>å¦‚ä½•åŠ å…¥ï¼Ÿ</li>
<li>å¦‚ä½•è¸¢å‡ºä½œæ¶èŠ‚ç‚¹ï¼Ÿ</li>
</ul>
<p>ä¼ ç»Ÿç³»ç»Ÿï¼šPaxosã€Raft éƒ½éœ€è¦ membership control</p>
<p>æ¯”ç‰¹å¸ï¼š</p>
<blockquote>
<p><strong>è°éƒ½èƒ½åŠ å…¥ï¼Œä¸éœ€è¦è®¸å¯ï¼ˆpermissionlessï¼‰ã€‚</strong></p>
</blockquote>
<p>Membership æ˜¯å…¬å¼€å¼€æ”¾çš„ã€‚</p>
<hr/>
<h2 data-id="heading-21"><strong>ğŸ“˜ åä¸€ã€BTC çš„å…±è¯†æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2>
<p><strong>Proof of Workï¼ˆå·¥ä½œé‡è¯æ˜ï¼‰ + æœ€é•¿é“¾ï¼ˆNakamoto Consensusï¼‰</strong></p>
<p>æ ¸å¿ƒï¼š</p>
<ol>
<li><strong>æŒ–çŸ¿ = æŠ•å…¥ç®—åŠ›è¯æ˜è¯šå®</strong></li>
<li>æœ€é•¿é“¾è§†ä¸ºâ€œçœŸå®å†å²â€</li>
<li>æ”»å‡»è€…è¦ç¯¡æ”¹å†å²å¿…é¡»è¶…è¿‡å…¨ç½‘ç®—åŠ›ï¼ˆå‡ ä¹ä¸å¯èƒ½ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-22"><strong>ğŸ“™ åäºŒã€Sybil Attackï¼ˆå¥³å·«æ”»å‡»ï¼‰</strong></h2>
<p><strong>å®šä¹‰ï¼š</strong>
æ”»å‡»è€…åˆ›å»ºå¤§é‡è™šå‡èº«ä»½æ¥æ§åˆ¶ç³»ç»Ÿã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>åˆ¶é€  1 ä¸‡ä¸ªèŠ‚ç‚¹è¯•å›¾å½±å“å…±è¯†</li>
<li>åœ¨æŠ•ç¥¨ç³»ç»Ÿä¸­ä¼ªé€ å¤§é‡èº«ä»½</li>
</ul>
<p>åŒºå—é“¾å¦‚ä½•é˜²å¾¡ï¼Ÿ</p>
<h4 data-id="heading-23"><strong>æ¯”ç‰¹å¸ï¼šç”¨ PoW æŠ— Sybil</strong></h4>
<p>èº«ä»½æ— æ„ä¹‰ â†’ <strong>ç®—åŠ›æ‰æ˜¯èº«ä»½</strong></p>
<p>ä½ å¼€ 1000 ä¸ªèŠ‚ç‚¹
= ä½ åªæ˜¯æŠŠè‡ªå·±çš„ç®—åŠ›æ‹†æˆ 1000 ä»½
= æ€»ç®—åŠ›ä¸å˜
= æ²¡æ³•å½±å“å…±è¯†</p>
<p>â†’ è¿™æ˜¯ Nakamoto å…±è¯†çš„ä¸€ä¸ªæ ¸å¿ƒä¼˜åŠ¿ã€‚</p>
<hr/>
<h2 data-id="heading-24"><strong>ğŸ“Œ æ€»ç»“ï¼ˆæç®€ï¼‰</strong></h2>








































<table><thead><tr><th>æ¦‚å¿µ</th><th>é—®é¢˜</th><th>è§£å†³æ–¹å¼</th></tr></thead><tbody><tr><td>å‘è¡Œæƒ</td><td>è°èƒ½å°é’±ï¼Ÿ</td><td>Coinbaseï¼ˆçŸ¿å·¥ï¼‰</td></tr><tr><td>åŒèŠ±</td><td>æ€ä¹ˆé˜²æ­¢ä¸€å¸ä¸¤èŠ±ï¼Ÿ</td><td>PoW + æœ€é•¿é“¾ + UTXO</td></tr><tr><td>äº¤æ˜“éªŒè¯</td><td>å¦‚ä½•åˆ¤æ–­äº¤æ˜“æœ‰æ•ˆï¼Ÿ</td><td>ç­¾å + UTXO + Script</td></tr><tr><td>å…±è¯†</td><td>å…¨ç½‘æ€ä¹ˆçœ‹æ³•ä¸€è‡´ï¼Ÿ</td><td>PoWï¼ˆNakamoto Consensusï¼‰</td></tr><tr><td>Sybil æ”»å‡»</td><td>è™šå‡èº«ä»½æ”»å‡»</td><td>ç®—åŠ›è¯æ˜ï¼ˆPoWï¼‰</td></tr><tr><td>CAP</td><td>åˆ†å¸ƒå¼ç³»ç»Ÿé™åˆ¶</td><td>åŒºå—é“¾é€‰æ‹© AP</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-25">è¯¾ç¨‹å†…å®¹æ€»ç»“</h2>
<p>è¿™ä¸€è®²ã€Š04-BTC-åè®®ã€‹ä¸»è¦è®²çš„æ˜¯â€œæ¯”ç‰¹å¸åˆ°åº•æ˜¯å¦‚ä½•è¿è¡Œçš„â€ï¼Œä¹Ÿå°±æ˜¯ç‚¹å¯¹ç‚¹ç”µå­ç°é‡‘ç³»ç»Ÿçš„å®Œæ•´åè®®ï¼šèŠ‚ç‚¹éœ€è¦éµå®ˆå“ªäº›è§„åˆ™ã€äº¤æ˜“å’ŒåŒºå—å¦‚ä½•åœ¨ç½‘ç»œä¸­ä¼ æ’­ã€å¦‚ä½•è¾¾æˆâ€œå“ªæ¡é“¾æ˜¯æ­£ç¡®çš„â€è¿™ä¸€å…±è¯†ç­‰ã€‚</p>
<h3 data-id="heading-26">åè®®æ•´ä½“æ¡†æ¶</h3>
<p>è¯¾ç¨‹å…ˆä»â€œä»€ä¹ˆå«åè®®â€å…¥æ‰‹ï¼ŒæŠŠæ¯”ç‰¹å¸åè®®æ‹†æˆå‡ ä¸ªéƒ¨åˆ†ï¼šèŠ‚ç‚¹è§„åˆ™ã€äº¤æ˜“è§„åˆ™ã€åŒºå—è§„åˆ™ã€å…±è¯†è§„åˆ™å’Œç½‘ç»œä¼ æ’­è§„åˆ™ã€‚ ç›®æ ‡æ˜¯è®©ä½ æ˜ç™½ï¼šä»»ä½•ä¸€ä¸ªæƒ³åŠ å…¥æ¯”ç‰¹å¸ç½‘ç»œçš„èŠ‚ç‚¹ï¼Œåªè¦å®ç°å¹¶éµå®ˆè¿™äº›å…¬å¼€è§„åˆ™ï¼Œå°±èƒ½å’Œå…¨ç½‘è‡ªåŠ¨è¾¾æˆä¸€è‡´ï¼Œè€Œä¸éœ€è¦ä¿¡ä»»ä¸­å¿ƒæœºæ„ã€‚</p>
<h3 data-id="heading-27">èŠ‚ç‚¹ä¸è§’è‰²</h3>
<p>è€å¸ˆä¼šåŒºåˆ†å‡ ç±»å…¸å‹èŠ‚ç‚¹è§’è‰²ï¼šå…¨èŠ‚ç‚¹ï¼ˆä¿å­˜å®Œæ•´åŒºå—é“¾å¹¶ä¸¥æ ¼éªŒè¯æ‰€æœ‰äº¤æ˜“å’ŒåŒºå—ï¼‰ã€è½»èŠ‚ç‚¹/SPV èŠ‚ç‚¹ï¼ˆåªä¿å­˜åŒºå—å¤´ï¼Œé€šè¿‡ Merkle è¯æ˜éªŒè¯äº¤æ˜“ï¼‰ã€çŸ¿å·¥èŠ‚ç‚¹ï¼ˆåœ¨å…¨èŠ‚ç‚¹åŸºç¡€ä¸Šé¢å¤–å‚ä¸å‡ºå—å’ŒæŒ–çŸ¿ï¼‰ã€‚ ä¸åŒèŠ‚ç‚¹åœ¨åè®®ä¸­çš„èŒè´£ä¸åŒï¼Œä½†åœ¨â€œéªŒè¯è§„åˆ™â€ä¸Šæ˜¯ä¸€è‡´çš„ï¼šä¸è®ºæ˜¯è°å‘æ¥çš„åŒºå—æˆ–äº¤æ˜“ï¼Œåªè¦ä¸æ»¡è¶³åè®®è§„åˆ™ï¼Œå°±ç›´æ¥ä¸¢å¼ƒã€‚</p>
<ul>
<li>å…¨èŠ‚ç‚¹è´Ÿè´£ï¼šæ ¡éªŒæ¯ä¸ªäº¤æ˜“çš„ç­¾åã€ä½™é¢æ˜¯å¦è¶³å¤Ÿã€è„šæœ¬æ˜¯å¦æ‰§è¡Œé€šè¿‡ï¼Œä»¥åŠåŒºå—éš¾åº¦ã€æ—¶é—´æˆ³ã€å¤§å°ç­‰æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚</li>
<li>è½»èŠ‚ç‚¹é€šè¿‡å‘å…¨èŠ‚ç‚¹è¯·æ±‚åŒºå—å¤´å’Œ Merkle è·¯å¾„ï¼Œæ¥éªŒè¯â€œæŸäº¤æ˜“æ˜¯å¦è¢«æŸåŒºå—ç¡®è®¤â€ï¼Œä¸éœ€è¦ä¿å­˜å…¨éƒ¨å†å²æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-28">äº¤æ˜“éªŒè¯è§„åˆ™</h3>
<p>è¯¾ç¨‹è¯¦ç»†è¯´æ˜æ¯”ç‰¹å¸ä¸­çš„â€œåˆæ³•äº¤æ˜“â€å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œä¾‹å¦‚ï¼šæ‰€æœ‰è¾“å…¥éƒ½å¼•ç”¨ç°æœ‰æœªèŠ±è´¹è¾“å‡ºã€ç­¾åæ­£ç¡®ã€æ²¡æœ‰åŒèŠ±ã€è¾“å…¥é‡‘é¢å¤§äºç­‰äºè¾“å‡ºé‡‘é¢ï¼ˆå·®é¢ä¸ºæ‰‹ç»­è´¹ï¼‰ã€è„šæœ¬æ‰§è¡Œç»“æœä¸ºçœŸç­‰ã€‚ è¿™æ ·ä»»ä½•èŠ‚ç‚¹åªè¦æ”¶åˆ°ä¸€ç¬”æ–°äº¤æ˜“ï¼Œå°±èƒ½æœ¬åœ°ç‹¬ç«‹åˆ¤æ–­å®ƒæ˜¯å¦æœ‰æ•ˆï¼Œè€Œä¸æ˜¯é åˆ«äººè¯´â€œè¿™ç¬”æ˜¯å¯¹çš„â€ã€‚</p>
<ul>
<li>ä¾‹å­ï¼šå¦‚æœæŸäººè¯•å›¾ç”¨åŒä¸€ä¸ª UTXO åŒæ—¶ç»™ä¸¤ä¸ªäººè½¬è´¦ï¼Œé‚£ä¹ˆç½‘ç»œä¸Šæœ€ç»ˆåªä¼šæœ‰ä¸€ç¬”äº¤æ˜“æˆåŠŸè¿›åŒºå—é“¾ï¼Œå¦ä¸€ç¬”åœ¨åç»­éªŒè¯ä¸­ä¼šè¢«èŠ‚ç‚¹åˆ¤å®šä¸ºâ€œå¼•ç”¨å·²èŠ±è´¹è¾“å‡ºâ€è€Œè¢«æ‹’ç»ã€‚</li>
<li>äº¤æ˜“è´¹çš„è§„åˆ™ä¹Ÿåœ¨åè®®é‡Œå†™æ­»ï¼šè¾“å…¥æ€»é¢å‡å»è¾“å‡ºæ€»é¢å°±æ˜¯çŸ¿å·¥å¯è·å¾—çš„æ‰‹ç»­è´¹ï¼Œè‹¥ä¸ç¬¦åˆï¼ˆæ¯”å¦‚è¾“å‡ºä¹‹å’Œå¤§äºè¾“å…¥ï¼‰ï¼ŒèŠ‚ç‚¹ä¼šç›´æ¥åˆ¤å®šäº¤æ˜“æ— æ•ˆã€‚</li>
</ul>
<h3 data-id="heading-29">åŒºå—ä¸å…±è¯†è§„åˆ™</h3>
<p>åœ¨åŒºå—å±‚é¢ï¼Œåè®®è§„å®šäº†ï¼šåŒºå—å¤´å­—æ®µå¿…é¡»ç¬¦åˆæ ¼å¼ã€åŒºå—ä¸­æ‰€æœ‰äº¤æ˜“éƒ½è¦é€ç¬”éªŒè¯ã€åŒºå—å¤§å°æœ‰ä¸Šé™ã€é¦–ç¬”äº¤æ˜“å¿…é¡»æ˜¯ coinbase äº¤æ˜“ä¸”å¥–åŠ±é‡‘é¢ä¸èƒ½è¶…è¿‡å½“å‰è¡¥è´´åŠ æ‰‹ç»­è´¹ä¹‹å’Œã€åŒºå—å“ˆå¸Œå¿…é¡»å°äºå½“å‰éš¾åº¦ç›®æ ‡ç­‰ã€‚ æ¯ä¸ªèŠ‚ç‚¹åªè¦æœ¬åœ°éªŒè¯é€šè¿‡ï¼Œæ‰ä¼šæ¥å—è¯¥åŒºå—å¹¶æ¥ç€åœ¨å…¶ä¸Šç»§ç»­æŒ–çŸ¿æˆ–åŒæ­¥ï¼ŒéªŒè¯ä¸è¿‡å°±ä¸¢å¼ƒï¼Œä»è€Œä¿è¯â€œé”™è¯¯åŒºå—æ— æ³•æ‰©æ•£â€ã€‚</p>
<ul>
<li>åè®®è¿˜è§„å®šäº†â€œæœ€é•¿é“¾ï¼ˆç²¾ç¡®è¯´æ˜¯ç´¯è®¡å·¥ä½œé‡æœ€å¤§é“¾ï¼‰åŸåˆ™â€ï¼šå½“å­˜åœ¨å¤šæ¡åˆæ³•é“¾åˆ†å‰æ—¶ï¼ŒèŠ‚ç‚¹è¦é€‰æ‹©ç´¯è®¡éš¾åº¦æœ€é«˜çš„é‚£æ¡ä½œä¸ºå½“å‰ä¸»é“¾ï¼Œå°†ä½™é¢çŠ¶æ€ç­‰éƒ½ä»¥è¿™æ¡é“¾ä¸ºå‡†ã€‚</li>
<li>è¿™æ„å‘³ç€çŸ­æœŸå†…å¯èƒ½ä¼šå‡ºç°ä¸´æ—¶åˆ†å‰ï¼Œä½†éšç€åç»­æ–°åŒºå—å åŠ ï¼Œæœ€ç»ˆåªæœ‰ä¸€æ¡é“¾ä¼šâ€œèµ¢â€ï¼Œå¦ä¸€æ¡ä¼šè¢«è§†ä¸ºå­¤å—é“¾ï¼Œè¢«ç½‘ç»œé€æ¸æŠ›å¼ƒã€‚</li>
</ul>
<h3 data-id="heading-30">ç½‘ç»œä¸æ¶ˆæ¯ä¼ æ’­</h3>
<p>æœ€åï¼Œè¯¾ç¨‹è®²è§£ P2P ç½‘ç»œå±‚é¢çš„åè®®ï¼šèŠ‚ç‚¹å¦‚ä½•å‘ç°å…¶ä»–èŠ‚ç‚¹ã€å¦‚ä½•å¹¿æ’­äº¤æ˜“å’ŒåŒºå—ã€å¦‚ä½•é˜²æ­¢ç½‘ç»œè¢«åƒåœ¾æ¶ˆæ¯æ·¹æ²¡ç­‰ã€‚ æ¯”ç‰¹å¸ä½¿ç”¨çš„æ˜¯å»ä¸­å¿ƒåŒ–çš„ç‚¹å¯¹ç‚¹ç½‘ç»œï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸è‹¥å¹²â€œé‚»å±…â€ä¿æŒè¿æ¥ï¼Œæ”¶åˆ°æ–°äº¤æ˜“æˆ–åŒºå—åä¼šè¿›è¡ŒéªŒè¯ï¼Œå†å‘å…¶ä»–é‚»å±…è½¬å‘ï¼Œä»è€Œå®ç°å…¨ç½‘æ‰©æ•£ã€‚</p>
<ul>
<li>ä¸ºäº†å‡å°‘å¸¦å®½æµªè´¹ï¼Œåè®®è®¾è®¡äº†ç±»ä¼¼â€œå…ˆå‘å“ˆå¸Œã€å†è¦æ­£æ–‡â€çš„æ¶ˆæ¯äº¤äº’æ–¹å¼ï¼šèŠ‚ç‚¹å…ˆå‘Šè¯‰åˆ«äººâ€œæˆ‘è¿™é‡Œæœ‰å“ªäº›æ–°å¯¹è±¡çš„å“ˆå¸Œâ€ï¼Œå¯¹æ–¹åªä¼šè¯·æ±‚è‡ªå·±ç¼ºå°‘çš„é‚£éƒ¨åˆ†æ•°æ®ã€‚</li>
<li>è¯¾ç¨‹ä¹Ÿä¼šæé†’ï¼šç”±äºç½‘ç»œæ˜¯å¼€æ”¾çš„ï¼Œä»»ä½•èŠ‚ç‚¹éƒ½å¯èƒ½ä¸è¯šå®ï¼Œæ‰€ä»¥åè®®çš„è®¾è®¡å¿…é¡»è®©â€œåªç›¸ä¿¡è‡ªå·±èƒ½éªŒè¯çš„ç»“æœâ€æˆä¸ºé»˜è®¤è¡Œä¸ºï¼Œè¿™æ ·æ•´ä½“ç³»ç»Ÿæ‰èƒ½åœ¨æ•Œå¯¹ç¯å¢ƒä¸­ä¾ç„¶ä¿æŒä¸€è‡´æ€§å’Œå®‰å…¨æ€§ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bafe793356543c896b1ec4b4c17d2dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5raC5raC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536766&amp;x-signature=SjohgeTTL7LxUe7X8v4Upb0iW4s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å†œä½œç‰©è°·ç‰©è¯†åˆ«ç³»ç»Ÿã€‘Python+TensorFlow+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•]]></title>    <link>https://juejin.cn/post/7580180556983369778</link>    <guid>https://juejin.cn/post/7580180556983369778</guid>    <pubDate>2025-12-05T10:57:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556983369778" data-draft-id="7580183671531044902" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å†œä½œç‰©è°·ç‰©è¯†åˆ«ç³»ç»Ÿã€‘Python+TensorFlow+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•"/> <meta itemprop="keywords" content="å›¾åƒè¯†åˆ«"/> <meta itemprop="datePublished" content="2025-12-05T10:57:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ziwu"/> <meta itemprop="url" content="https://juejin.cn/user/607373397353726"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å†œä½œç‰©è°·ç‰©è¯†åˆ«ç³»ç»Ÿã€‘Python+TensorFlow+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/607373397353726/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ziwu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:57:04.000Z" title="Fri Dec 05 2025 10:57:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»‹ç»</h2>
<p>å†œä½œç‰©è°·ç‰©è¯†åˆ«ç³»ç»Ÿï¼ŒåŸºäºTensorFlowæ­å»ºå·ç§¯ç¥ç»ç½‘ç»œç®—æ³•ï¼Œé€šè¿‡å¯¹11ç§å¸¸è§çš„è°·ç‰©å›¾ç‰‡æ•°æ®é›†ï¼ˆ'å¤§ç±³', 'å°ç±³', 'ç‡•éº¦', 'ç‰ç±³æ¸£', 'çº¢è±†', 'ç»¿è±†', 'èŠ±ç”Ÿä»', 'èéº¦', 'é»„è±†', 'é»‘ç±³', 'é»‘è±†'ï¼‰è¿›è¡Œè®­ç»ƒï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªè¯†åˆ«ç²¾åº¦è¾ƒé«˜çš„æ¨¡å‹ï¼Œç„¶åæ­å»ºWebå¯è§†åŒ–æ“ä½œå¹³å°ã€‚</p>
<p><strong>æŠ€æœ¯æ ˆ</strong>ï¼š</p>
<ul>
<li>é¡¹ç›®å‰ç«¯ä½¿ç”¨Htmlã€CSSã€BootStrapæ­å»ºç•Œé¢ã€‚</li>
<li>åç«¯åŸºäºDjangoå¤„ç†é€»è¾‘è¯·æ±‚</li>
<li>åŸºäºAjaxå®ç°å‰åç«¯æ•°æ®é€šä¿¡</li>
</ul>
<p><strong>é€‰é¢˜èƒŒæ™¯ä¸æ„ä¹‰</strong>ï¼š
éšç€å†œä¸šäº§ä¸šçš„ç°ä»£åŒ–å‘å±•ï¼Œè°·ç‰©è¯†åˆ«åœ¨ä»“å‚¨ç®¡ç†ã€å“è´¨åˆ†çº§å’Œé£Ÿå“åŠ å·¥ç­‰ç¯èŠ‚å‘æŒ¥ç€æ—¥ç›Šé‡è¦çš„ä½œç”¨ã€‚ä¼ ç»Ÿäººå·¥åˆ†ç±»æ–¹æ³•æ•ˆç‡è¾ƒä½ã€ä¸»è§‚æ€§å¼ºï¼Œéš¾ä»¥æ»¡è¶³å¤§è§„æ¨¡ã€é«˜ç²¾åº¦å¤„ç†éœ€æ±‚ã€‚åŒæ—¶ï¼Œåœ¨å†œä¸šä¿¡æ¯åŒ–å’Œæ™ºèƒ½åŒ–çš„æ¨åŠ¨ä¸‹ï¼ŒåŸºäºè®¡ç®—æœºè§†è§‰çš„è‡ªåŠ¨è¯†åˆ«æŠ€æœ¯æˆä¸ºç ”ç©¶çƒ­ç‚¹ã€‚</p>
<p>æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªé«˜æ•ˆå‡†ç¡®çš„å†œä½œç‰©è°·ç‰©è¯†åˆ«ç³»ç»Ÿï¼Œé‡‡ç”¨å·ç§¯ç¥ç»ç½‘ç»œä½œä¸ºæ ¸å¿ƒç®—æ³•ï¼Œä¾æ‰˜TensorFlowæ¡†æ¶å¯¹å¤§ç±³ã€å°ç±³ã€ç‡•éº¦ç­‰11ç±»å¸¸è§è°·ç‰©å›¾åƒè¿›è¡Œè®­ç»ƒå’Œå»ºæ¨¡ã€‚ä¸ºå®ç°ç³»ç»Ÿçš„ä¾¿æ·åº”ç”¨ï¼Œé¡¹ç›®è¿›ä¸€æ­¥ç»“åˆDjangoåç«¯æ¡†æ¶ä¸Bootstrapå‰ç«¯æŠ€æœ¯ï¼Œå¼€å‘äº†å…·å¤‡å¯è§†åŒ–äº¤äº’åŠŸèƒ½çš„Webå¹³å°ï¼Œé€šè¿‡Ajaxå®ç°å‰åç«¯é«˜æ•ˆé€šä¿¡ï¼Œä¸ºå®é™…åº”ç”¨æä¾›äº†ä¸€å¥—å®Œæ•´çš„è½¯ç¡¬ä»¶ç»“åˆè§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">äºŒã€ç³»ç»Ÿæ•ˆæœå›¾ç‰‡å±•ç¤º</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/018c9924046647c286c7cf7cf9f93a04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765537023&amp;x-signature=IFV2M9Bf5tRRdUile%2Fi7PeI3ULM%3D" alt="å›¾ç‰‡" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/766a781c0359425badd0f372f752001d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765537023&amp;x-signature=yEmodyujMkprBl%2B8oU%2FEdQWGdCo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€æ¼”ç¤ºè§†é¢‘ and å®Œæ•´ä»£ç  and å®‰è£…</h2>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fziwupy.cn%2Fp%2F3QjMtd" target="_blank" title="https://ziwupy.cn/p/3QjMtd" ref="nofollow noopener noreferrer">ziwupy.cn/p/3QjMtd</a></p>
<h2 data-id="heading-3">å››ã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•ä»‹ç»</h2>
<p>ResNet50æ˜¯ä¸€ç§æ·±åº¦æ®‹å·®ç½‘ç»œï¼Œå…¶æ ¸å¿ƒåˆ›æ–°åœ¨äºå¼•å…¥**â€œæ®‹å·®å—â€**ï¼Œé€šè¿‡è·¨å±‚æ’ç­‰æ˜ å°„æœ‰æ•ˆç¼“è§£äº†æ·±åº¦ç¥ç»ç½‘ç»œä¸­çš„æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼Œä½¿å¾—ç½‘ç»œå¯ä»¥æ„å»ºè‡³50å±‚ä¹ƒè‡³æ›´æ·±è€Œä¸é€€åŒ–ï¼Œæ˜¾è‘—æå‡äº†å›¾åƒè¯†åˆ«ç²¾åº¦ã€‚å®ƒåœ¨ImageNetæ•°æ®é›†ä¸Šå–å¾—çªç ´ï¼Œæˆä¸ºè®¡ç®—æœºè§†è§‰é¢†åŸŸçš„åŸºç¡€æ¨¡å‹ä¹‹ä¸€ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨TensorFlow/KerasåŠ è½½é¢„è®­ç»ƒResNet50æ¨¡å‹è¿›è¡Œå›¾åƒè¯†åˆ«çš„ç®€å•ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
<span class="hljs-keyword">from</span> tensorflow.keras.applications.resnet50 <span class="hljs-keyword">import</span> ResNet50, preprocess_input, decode_predictions
<span class="hljs-keyword">from</span> tensorflow.keras.preprocessing <span class="hljs-keyword">import</span> image
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># 1. åŠ è½½é¢„è®­ç»ƒæ¨¡å‹ï¼ˆåŒ…å«é¡¶å±‚åˆ†ç±»å™¨ï¼Œä½¿ç”¨ImageNetæƒé‡ï¼‰</span>
model = ResNet50(weights=<span class="hljs-string">'imagenet'</span>)

<span class="hljs-comment"># 2. åŠ è½½å¹¶é¢„å¤„ç†å›¾åƒ</span>
img_path = <span class="hljs-string">'your_image.jpg'</span>
img = image.load_img(img_path, target_size=(<span class="hljs-number">224</span>, <span class="hljs-number">224</span>))  <span class="hljs-comment"># ResNet50è¦æ±‚è¾“å…¥224x224</span>
x = image.img_to_array(img)
x = np.expand_dims(x, axis=<span class="hljs-number">0</span>)  <span class="hljs-comment"># æ‰©å±•ä¸ºæ‰¹æ¬¡ç»´åº¦</span>
x = preprocess_input(x)        <span class="hljs-comment"># æŒ‰æ¨¡å‹è¦æ±‚é¢„å¤„ç†ï¼ˆå½’ä¸€åŒ–ç­‰ï¼‰</span>

<span class="hljs-comment"># 3. é¢„æµ‹</span>
predictions = model.predict(x)
decoded_predictions = decode_predictions(predictions, top=<span class="hljs-number">3</span>)[<span class="hljs-number">0</span>]  <span class="hljs-comment"># è§£ç ä¸ºç±»åˆ«æ ‡ç­¾</span>

<span class="hljs-comment"># 4. è¾“å‡ºç»“æœ</span>
<span class="hljs-keyword">for</span> i, (imagenet_id, label, score) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(decoded_predictions):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>: <span class="hljs-subst">{label}</span> (<span class="hljs-subst">{score:<span class="hljs-number">.2</span>%}</span>)"</span>)
</code></pre>
<p>è¯¥ç¤ºä¾‹å±•ç¤ºäº†ä½¿ç”¨ResNet50è¿›è¡Œè¿ç§»å­¦ä¹ çš„å…¸å‹æµç¨‹ï¼šåŠ è½½é¢„è®­ç»ƒæ¨¡å‹ã€è§„èŒƒé¢„å¤„ç†è¾“å…¥æ•°æ®ã€æ‰§è¡Œé¢„æµ‹å¹¶è§£ç ç»“æœã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€šå¸¸å†»ç»“æ¨¡å‹åº•å±‚ï¼Œä»…å¾®è°ƒé¡¶å±‚ä»¥é€‚åº”ç‰¹å®šä»»åŠ¡ï¼ˆå¦‚è°·ç‰©åˆ†ç±»ï¼‰ï¼Œä»è€Œåˆ©ç”¨å…¶å¼ºå¤§çš„ç‰¹å¾æå–èƒ½åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/844b747e129f44118a212cb31456bb3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765537023&amp;x-signature=OVAiwEC9Ribw1BNDO159ndowKSg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æµç¨‹è¯´æ˜ï¼š</strong></p>
<ol>
<li><strong>è¾“å…¥å›¾åƒ</strong>ï¼šæ¨¡å‹æ¥æ”¶æ ‡å‡†åŒ–åçš„å›¾åƒæ•°æ®ã€‚</li>
<li><strong>ç‰¹å¾æå–</strong>ï¼šè¿™æ˜¯CNNçš„æ ¸å¿ƒã€‚å·ç§¯å±‚é€šè¿‡æ»¤æ³¢å™¨æå–å±€éƒ¨ç‰¹å¾ï¼ˆå¦‚è¾¹ç¼˜ã€çº¹ç†ï¼‰ï¼Œæ± åŒ–å±‚åˆ™å¯¹ç‰¹å¾å›¾è¿›è¡Œé™ç»´ï¼Œä¿ç•™ä¸»è¦ä¿¡æ¯å¹¶å‡å°‘è®¡ç®—é‡ã€‚è¿™ä¸¤ä¸ªå±‚é€šå¸¸äº¤æ›¿é‡å¤å †å ï¼Œä»¥æå–ä»ä½çº§åˆ°é«˜çº§çš„æŠ½è±¡ç‰¹å¾ã€‚</li>
<li><strong>åˆ†ç±»é¢„æµ‹</strong>ï¼šå°†æœ€ç»ˆæå–çš„äºŒç»´ç‰¹å¾å›¾å±•å¹³æˆä¸€ç»´å‘é‡ï¼Œå¹¶è¾“å…¥å…¨è¿æ¥å±‚ã€‚å…¨è¿æ¥å±‚æ•´åˆæ‰€æœ‰é«˜çº§ç‰¹å¾ï¼Œå¹¶è¿›è¡Œæœ€ç»ˆçš„é€»è¾‘åˆ¤æ–­ã€‚</li>
<li><strong>è¾“å‡ºç»“æœ</strong>ï¼šé€šå¸¸é€šè¿‡Softmaxå‡½æ•°è¾“å‡ºæ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œæ¦‚ç‡æœ€é«˜çš„ç±»åˆ«å³ä¸ºæ¨¡å‹çš„è¯†åˆ«ç»“æœã€‚</li>
</ol>
<p>è¿™ä¸ªæµç¨‹ç®€æ´åœ°æ¦‚æ‹¬äº†CNNå°†åŸå§‹åƒç´ é€å±‚è½¬åŒ–ä¸ºç±»åˆ«é¢„æµ‹çš„å…³é”®æ­¥éª¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot 4.0 æ•´åˆ RabbitMQ æ³¨è§£æ–¹å¼ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579999793319788550</link>    <guid>https://juejin.cn/post/7579999793319788550</guid>    <pubDate>2025-12-05T08:18:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579999793319788550" data-draft-id="7579934463590154276" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot 4.0 æ•´åˆ RabbitMQ æ³¨è§£æ–¹å¼ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T08:18:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°åè¯´Java"/> <meta itemprop="url" content="https://juejin.cn/user/3898184413750203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot 4.0 æ•´åˆ RabbitMQ æ³¨è§£æ–¹å¼ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3898184413750203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°åè¯´Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T08:18:15.000Z" title="Fri Dec 05 2025 08:18:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring Boot 4.0 æ•´åˆ RabbitMQ æ³¨è§£æ–¹å¼ä½¿ç”¨æŒ‡å—</h2>
<p>æˆ‘å°†åŸºäºæœ€æ–°çš„ Spring Boot 4.x ç‰ˆæœ¬ï¼ˆåŒ…å« Spring Framework 6.0 çš„æ–°ç‰¹æ€§ï¼‰ä¸ºæ‚¨æ¼”ç¤º RabbitMQ çš„æ³¨è§£æ•´åˆæ–¹å¼ã€‚è¿™äº›å†…å®¹åŒæ ·é€‚ç”¨äºæœªæ¥çš„ Spring Boot 4.0ã€‚</p>
<h3 data-id="heading-1">1. ç¯å¢ƒå‡†å¤‡</h3>
<h4 data-id="heading-2">1.1 åˆ›å»ºé¡¹ç›®</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- pom.xml ä¸»è¦ä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Boot 4.x --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å¯é€‰: æ¶ˆæ¯è½¬æ¢å™¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">2. åŸºç¡€é…ç½®</h3>
<h4 data-id="heading-4">2.1 é…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">rabbitmq:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">5672</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">guest</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">guest</span>
    <span class="hljs-attr">virtual-host:</span> <span class="hljs-string">/</span>
    <span class="hljs-comment"># è¿æ¥æ± é…ç½® (Spring Boot 3.x æ–°ç‰¹æ€§)</span>
    <span class="hljs-attr">connection-timeout:</span> <span class="hljs-string">5s</span>
    <span class="hljs-comment"># å‘å¸ƒç¡®è®¤</span>
    <span class="hljs-attr">publisher-confirm-type:</span> <span class="hljs-string">correlated</span>
    <span class="hljs-attr">publisher-returns:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">template:</span>
      <span class="hljs-attr">mandatory:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">listener:</span>
      <span class="hljs-attr">simple:</span>
        <span class="hljs-attr">acknowledge-mode:</span> <span class="hljs-string">manual</span>  <span class="hljs-comment"># æ‰‹åŠ¨ç¡®è®¤</span>
        <span class="hljs-attr">retry:</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">max-attempts:</span> <span class="hljs-number">3</span>
          <span class="hljs-attr">initial-interval:</span> <span class="hljs-string">2s</span>
</code></pre>
<h3 data-id="heading-5">3. æ³¨è§£æ–¹å¼å®ç°</h3>
<h4 data-id="heading-6">3.1 å£°æ˜é˜Ÿåˆ—ã€äº¤æ¢æœºå’Œç»‘å®š</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">amqp</span>.<span class="hljs-property">core</span>.*;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">context</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Bean</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">context</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Configuration</span>;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RabbitMQConfig</span> {
    
    <span class="hljs-comment">// 1. å£°æ˜é˜Ÿåˆ— (ä½¿ç”¨æ–°ç‰ˆçš„Builderæ¨¡å¼)</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Queue</span> <span class="hljs-title function_">orderQueue</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">QueueBuilder</span>.<span class="hljs-title function_">durable</span>(<span class="hljs-string">"order.queue"</span>)
                .<span class="hljs-title function_">deadLetterExchange</span>(<span class="hljs-string">"dlx.exchange"</span>)
                .<span class="hljs-title function_">deadLetterRoutingKey</span>(<span class="hljs-string">"order.dl"</span>)
                .<span class="hljs-title function_">ttl</span>(<span class="hljs-number">10000</span>)  <span class="hljs-comment">// 10ç§’è¿‡æœŸ</span>
                .<span class="hljs-title function_">maxLength</span>(<span class="hljs-number">1000</span>)
                .<span class="hljs-title function_">build</span>();
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Queue</span> <span class="hljs-title function_">dlQueue</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">QueueBuilder</span>.<span class="hljs-title function_">durable</span>(<span class="hljs-string">"dl.order.queue"</span>).<span class="hljs-title function_">build</span>();
    }
    
    <span class="hljs-comment">// 2. å£°æ˜äº¤æ¢æœº</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">DirectExchange</span> <span class="hljs-title function_">orderExchange</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ExchangeBuilder</span>
                .<span class="hljs-title function_">directExchange</span>(<span class="hljs-string">"order.exchange"</span>)
                .<span class="hljs-title function_">durable</span>(<span class="hljs-literal">true</span>)
                .<span class="hljs-title function_">build</span>();
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">DirectExchange</span> <span class="hljs-title function_">dlxExchange</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ExchangeBuilder</span>
                .<span class="hljs-title function_">directExchange</span>(<span class="hljs-string">"dlx.exchange"</span>)
                .<span class="hljs-title function_">durable</span>(<span class="hljs-literal">true</span>)
                .<span class="hljs-title function_">build</span>();
    }
    
    <span class="hljs-comment">// 3. å£°æ˜ç»‘å®š</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Binding</span> <span class="hljs-title function_">orderBinding</span>(<span class="hljs-params">Queue orderQueue, DirectExchange orderExchange</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">BindingBuilder</span>
                .<span class="hljs-title function_">bind</span>(orderQueue)
                .<span class="hljs-title function_">to</span>(orderExchange)
                .<span class="hljs-title function_">with</span>(<span class="hljs-string">"order.routing.key"</span>);
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Binding</span> <span class="hljs-title function_">dlBinding</span>(<span class="hljs-params">Queue dlQueue, DirectExchange dlxExchange</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">BindingBuilder</span>
                .<span class="hljs-title function_">bind</span>(dlQueue)
                .<span class="hljs-title function_">to</span>(dlxExchange)
                .<span class="hljs-title function_">with</span>(<span class="hljs-string">"order.dl"</span>);
    }
    
    <span class="hljs-comment">// 4. å»¶è¿Ÿé˜Ÿåˆ—æ’ä»¶ (RabbitMQ å»¶è¿Ÿæ¶ˆæ¯æ’ä»¶)</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Queue</span> <span class="hljs-title function_">delayedQueue</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">QueueBuilder</span>.<span class="hljs-title function_">durable</span>(<span class="hljs-string">"delayed.queue"</span>)
                .<span class="hljs-title function_">withArgument</span>(<span class="hljs-string">"x-delayed-type"</span>, <span class="hljs-string">"direct"</span>)
                .<span class="hljs-title function_">build</span>();
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">CustomExchange</span> <span class="hljs-title function_">delayedExchange</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; args = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        args.<span class="hljs-title function_">put</span>(<span class="hljs-string">"x-delayed-type"</span>, <span class="hljs-string">"direct"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomExchange</span>(
            <span class="hljs-string">"delayed.exchange"</span>, 
            <span class="hljs-string">"x-delayed-message"</span>, 
            <span class="hljs-literal">true</span>, 
            <span class="hljs-literal">false</span>, 
            args
        );
    }
}
</code></pre>
<h4 data-id="heading-7">3.2 ç”Ÿäº§è€…æœåŠ¡</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">amqp</span>.<span class="hljs-property">core</span>.<span class="hljs-property">Message</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">amqp</span>.<span class="hljs-property">core</span>.<span class="hljs-property">MessageBuilder</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">amqp</span>.<span class="hljs-property">rabbit</span>.<span class="hljs-property">core</span>.<span class="hljs-property">RabbitTemplate</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">amqp</span>.<span class="hljs-property">rabbit</span>.<span class="hljs-property">connection</span>.<span class="hljs-property">CorrelationData</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">beans</span>.<span class="hljs-property">factory</span>.<span class="hljs-property">annotation</span>.<span class="hljs-property">Autowired</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">stereotype</span>.<span class="hljs-property">Service</span>;
<span class="hljs-keyword">import</span> com.<span class="hljs-property">fasterxml</span>.<span class="hljs-property">jackson</span>.<span class="hljs-property">databind</span>.<span class="hljs-property">ObjectMapper</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">UUID</span>;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MessageProducer</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">RabbitTemplate</span> rabbitTemplate;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">ObjectMapper</span> objectMapper;
    
    <span class="hljs-comment">/**
     * å‘é€ç®€å•æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">sendSimpleMessage</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        rabbitTemplate.<span class="hljs-title function_">convertAndSend</span>(
            <span class="hljs-string">"order.exchange"</span>, 
            <span class="hljs-string">"order.routing.key"</span>, 
            message
        );
    }
    
    <span class="hljs-comment">/**
     * å‘é€å¯¹è±¡æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">sendOrderMessage</span>(<span class="hljs-params">Order order</span>) {
        rabbitTemplate.<span class="hljs-title function_">convertAndSend</span>(
            <span class="hljs-string">"order.exchange"</span>, 
            <span class="hljs-string">"order.routing.key"</span>, 
            order,
            message -&gt; {
                <span class="hljs-comment">// è®¾ç½®æ¶ˆæ¯å±æ€§</span>
                message.<span class="hljs-title function_">getMessageProperties</span>()
                    .<span class="hljs-title function_">setContentType</span>(<span class="hljs-string">"application/json"</span>);
                <span class="hljs-keyword">return</span> message;
            }
        );
    }
    
    <span class="hljs-comment">/**
     * å‘é€ç¡®è®¤æ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">sendConfirmMessage</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        <span class="hljs-title class_">CorrelationData</span> correlationData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CorrelationData</span>(<span class="hljs-variable constant_">UUID</span>.<span class="hljs-title function_">randomUUID</span>().<span class="hljs-title function_">toString</span>());
        
        rabbitTemplate.<span class="hljs-title function_">convertAndSend</span>(
            <span class="hljs-string">"order.exchange"</span>, 
            <span class="hljs-string">"order.routing.key"</span>, 
            message,
            correlationData
        );
    }
    
    <span class="hljs-comment">/**
     * å‘é€å»¶è¿Ÿæ¶ˆæ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">sendDelayedMessage</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message, int delayMillis</span>) {
        <span class="hljs-title class_">Message</span> msg = <span class="hljs-title class_">MessageBuilder</span>
            .<span class="hljs-title function_">withBody</span>(message.<span class="hljs-title function_">getBytes</span>())
            .<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"x-delay"</span>, delayMillis)
            .<span class="hljs-title function_">build</span>();
            
        rabbitTemplate.<span class="hljs-title function_">send</span>(
            <span class="hljs-string">"delayed.exchange"</span>, 
            <span class="hljs-string">"delayed.routing.key"</span>, 
            msg
        );
    }
    
    <span class="hljs-comment">/**
     * å‘å¸ƒè€…ç¡®è®¤å›è°ƒ
     */</span>
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        rabbitTemplate.<span class="hljs-title function_">setConfirmCallback</span>((correlationData, ack, cause) -&gt; {
            <span class="hljs-keyword">if</span> (ack) {
                <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ¶ˆæ¯å‘é€æˆåŠŸ: "</span> + correlationData);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ¶ˆæ¯å‘é€å¤±è´¥: "</span> + cause);
            }
        });
        
        rabbitTemplate.<span class="hljs-title function_">setReturnsCallback</span>(returned -&gt; {
            <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ¶ˆæ¯è·¯ç”±å¤±è´¥: "</span> + returned.<span class="hljs-title function_">getMessage</span>());
        });
    }
}
</code></pre>
<h4 data-id="heading-8">3.3 æ¶ˆè´¹è€…æœåŠ¡</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.amqp</span><span class="hljs-selector-class">.core</span><span class="hljs-selector-class">.Message</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.amqp</span><span class="hljs-selector-class">.rabbit</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.RabbitHandler</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.amqp</span><span class="hljs-selector-class">.rabbit</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.RabbitListener</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.amqp</span><span class="hljs-selector-class">.rabbit</span><span class="hljs-selector-class">.annotation</span>.*;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.messaging</span><span class="hljs-selector-class">.handler</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Payload</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.stereotype</span><span class="hljs-selector-class">.Component</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.rabbitmq</span><span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.Channel</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.IOException</span>;

@<span class="hljs-selector-tag">Component</span>
@<span class="hljs-selector-tag">RabbitListener</span>(
    bindings = <span class="hljs-variable">@QueueBinding</span>(
        value = <span class="hljs-variable">@Queue</span>(
            value = <span class="hljs-string">"order.queue"</span>,
            arguments = {
                <span class="hljs-variable">@Argument</span>(name = <span class="hljs-string">"x-dead-letter-exchange"</span>, value = <span class="hljs-string">"dlx.exchange"</span>),
                <span class="hljs-variable">@Argument</span>(name = <span class="hljs-string">"x-dead-letter-routing-key"</span>, value = <span class="hljs-string">"order.dl"</span>),
                <span class="hljs-variable">@Argument</span>(name = <span class="hljs-string">"x-message-ttl"</span>, value = <span class="hljs-string">"10000"</span>, type = <span class="hljs-string">"java.lang.Long"</span>)
            }
        ),
        exchange = <span class="hljs-variable">@Exchange</span>(value = <span class="hljs-string">"order.exchange"</span>, type = ExchangeTypes.DIRECT),
        key = <span class="hljs-string">"order.routing.key"</span>
    )
)
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">MessageConsumer</span> {
    
    <span class="hljs-comment">/**
     * åŸºç¡€æ¶ˆæ¯æ¶ˆè´¹
     */</span>
    <span class="hljs-variable">@RabbitHandler</span>
    public void <span class="hljs-built_in">process</span>(<span class="hljs-variable">@Payload</span> String message) {
        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"æ”¶åˆ°æ¶ˆæ¯: "</span> + message);
    }
    
    <span class="hljs-comment">/**
     * å¯¹è±¡æ¶ˆæ¯æ¶ˆè´¹
     */</span>
    @<span class="hljs-selector-tag">RabbitHandler</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">processOrder</span>(<span class="hljs-variable">@Payload</span> Order order) {
        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"æ”¶åˆ°è®¢å•: "</span> + order);
    }
    
    <span class="hljs-comment">/**
     * æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯
     */</span>
    @<span class="hljs-selector-tag">RabbitListener</span>(queues = <span class="hljs-string">"manual.queue"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">processManual</span>(Message message, Channel channel) <span class="hljs-selector-tag">throws</span> <span class="hljs-selector-tag">IOException</span> {
        <span class="hljs-selector-tag">try</span> {
            <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"å¤„ç†æ¶ˆæ¯: "</span> + new <span class="hljs-built_in">String</span>(message.<span class="hljs-built_in">getBody</span>()));
            
            <span class="hljs-comment">// ä¸šåŠ¡å¤„ç†</span>
            <span class="hljs-comment">// ...</span>
            
            <span class="hljs-comment">// æ‰‹åŠ¨ç¡®è®¤</span>
            <span class="hljs-selector-tag">channel</span><span class="hljs-selector-class">.basicAck</span>(message.<span class="hljs-built_in">getMessageProperties</span>().<span class="hljs-built_in">getDeliveryTag</span>(), false);
            
        } <span class="hljs-selector-tag">catch</span> (Exception e) {
            <span class="hljs-comment">// æ¶ˆæ¯é‡å…¥é˜Ÿåˆ—</span>
            <span class="hljs-selector-tag">channel</span><span class="hljs-selector-class">.basicNack</span>(
                message.<span class="hljs-built_in">getMessageProperties</span>().<span class="hljs-built_in">getDeliveryTag</span>(), 
                false, 
                true
            );
        }
    }
    
    <span class="hljs-comment">/**
     * æ­»ä¿¡é˜Ÿåˆ—ç›‘å¬
     */</span>
    @<span class="hljs-selector-tag">RabbitListener</span>(queues = <span class="hljs-string">"dl.order.queue"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">processDlMessage</span>(String message) {
        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"æ­»ä¿¡é˜Ÿåˆ—æ”¶åˆ°æ¶ˆæ¯: "</span> + message);
    }
    
    <span class="hljs-comment">/**
     * å»¶è¿Ÿæ¶ˆæ¯ç›‘å¬
     */</span>
    @<span class="hljs-selector-tag">RabbitListener</span>(queues = <span class="hljs-string">"delayed.queue"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">processDelayedMessage</span>(String message) {
        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"æ”¶åˆ°å»¶è¿Ÿæ¶ˆæ¯: "</span> + message);
    }
}
</code></pre>
<h3 data-id="heading-9">4. é«˜çº§ç‰¹æ€§ç¤ºä¾‹</h3>
<h4 data-id="heading-10">4.1 æ‰¹é‡æ¶ˆè´¹è€…</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BatchConsumer</span> {
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ¶ˆè´¹ (Spring Boot 3.x æ–°ç‰¹æ€§ä¼˜åŒ–)
     */</span>
    <span class="hljs-meta">@RabbitListener</span>(
        queues = <span class="hljs-string">"batch.queue"</span>,
        containerFactory = <span class="hljs-string">"batchContainerFactory"</span>
    )
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processBatch</span>(<span class="hljs-params">List&lt;Message&gt; messages</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-title class_">Message</span> message : messages) {
            <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ‰¹é‡å¤„ç†æ¶ˆæ¯: "</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(message.<span class="hljs-title function_">getBody</span>()));
        }
    }
}
</code></pre>
<h4 data-id="heading-11">4.2 æ‰¹é‡å®¹å™¨å·¥å‚é…ç½®</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-meta">@Configuration</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BatchRabbitConfig</span> </span>{
    
    <span class="hljs-meta">@Bean</span>
    public SimpleRabbitListenerContainerFactory batchContainerFactory(
            SimpleRabbitListenerContainerFactoryConfigurer configurer,
            ConnectionFactory connectionFactory) {
        
        SimpleRabbitListenerContainerFactory <span class="hljs-keyword">factory</span> = <span class="hljs-keyword">new</span> SimpleRabbitListenerContainerFactory();
        configurer.configure(<span class="hljs-keyword">factory</span>, connectionFactory);
        
        <span class="hljs-comment">// å¼€å¯æ‰¹é‡æ¶ˆè´¹</span>
        <span class="hljs-keyword">factory</span>.setBatchListener(<span class="hljs-keyword">true</span>);
        <span class="hljs-keyword">factory</span>.setConsumerBatchEnabled(<span class="hljs-keyword">true</span>);
        <span class="hljs-keyword">factory</span>.setBatchSize(<span class="hljs-number">10</span>);  <span class="hljs-comment">// æ¯æ‰¹10æ¡</span>
        <span class="hljs-keyword">factory</span>.setReceiveTimeout(<span class="hljs-number">3000</span>L);  <span class="hljs-comment">// æ¥æ”¶è¶…æ—¶3ç§’</span>
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">factory</span>;
    }
}
</code></pre>
<h4 data-id="heading-12">4.3 æ¶ˆæ¯è½¬æ¢å™¨é…ç½®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MessageConverterConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> MessageConverter <span class="hljs-title function_">messageConverter</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä½¿ç”¨Jackson2JsonMessageConverteræ›¿ä»£é»˜è®¤çš„SimpleMessageConverter</span>
        <span class="hljs-type">Jackson2JsonMessageConverter</span> <span class="hljs-variable">converter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jackson2JsonMessageConverter</span>();
        converter.setUseProjectionForInterfaces(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// æ”¯æŒæ¥å£æŠ•å½±</span>
        converter.setUseJavaTypeForMapper(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> converter;
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RabbitTemplate <span class="hljs-title function_">rabbitTemplate</span><span class="hljs-params">(
            ConnectionFactory connectionFactory,
            MessageConverter messageConverter)</span> {
        
        <span class="hljs-type">RabbitTemplate</span> <span class="hljs-variable">template</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RabbitTemplate</span>(connectionFactory);
        template.setMessageConverter(messageConverter);
        
        <span class="hljs-comment">// å¼€å¯è¿”å›æ¨¡å¼</span>
        template.setMandatory(<span class="hljs-literal">true</span>);
        
        <span class="hljs-keyword">return</span> template;
    }
}
</code></pre>
<h3 data-id="heading-13">5. å®Œæ•´åº”ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-14">5.1 æ§åˆ¶å±‚</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/rabbitmq"</span>)
public class RabbitMQController {
    
    <span class="hljs-variable">@Autowired</span>
    private MessageProducer messageProducer;
    
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/send"</span>)
    public String <span class="hljs-built_in">sendMessage</span>(<span class="hljs-variable">@RequestParam</span> String message) {
        <span class="hljs-selector-tag">messageProducer</span><span class="hljs-selector-class">.sendSimpleMessage</span>(message);
        <span class="hljs-selector-tag">return</span> "æ¶ˆæ¯å‘é€æˆåŠŸ";
    }
    
    @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/send-order"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">sendOrder</span>(<span class="hljs-variable">@RequestBody</span> Order order) {
        <span class="hljs-selector-tag">messageProducer</span><span class="hljs-selector-class">.sendOrderMessage</span>(order);
        <span class="hljs-selector-tag">return</span> "è®¢å•æ¶ˆæ¯å‘é€æˆåŠŸ";
    }
    
    @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/send-delayed"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">sendDelayed</span>(
            <span class="hljs-variable">@RequestParam</span> String message,
            <span class="hljs-variable">@RequestParam</span> int delaySeconds) {
        <span class="hljs-selector-tag">messageProducer</span><span class="hljs-selector-class">.sendDelayedMessage</span>(message, delaySeconds * <span class="hljs-number">1000</span>);
        <span class="hljs-selector-tag">return</span> "å»¶è¿Ÿæ¶ˆæ¯å‘é€æˆåŠŸ";
    }
}
</code></pre>
<h4 data-id="heading-15">5.2 å®ä½“ç±»</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Data</span>
<span class="hljs-variable">@NoArgsConstructor</span>
<span class="hljs-variable">@AllArgsConstructor</span>
public class Order {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">orderId</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">orderNo</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">BigDecimal</span> <span class="hljs-selector-tag">amount</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">createTime</span>;
}
</code></pre>
<h3 data-id="heading-16">6. æµ‹è¯•éªŒè¯</h3>
<h4 data-id="heading-17">6.1 æµ‹è¯•ç±»</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RabbitmqApplicationTests</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">RabbitTemplate</span> rabbitTemplate;
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-built_in">void</span> <span class="hljs-title function_">testSendAndReceive</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
        rabbitTemplate.<span class="hljs-title function_">convertAndSend</span>(
            <span class="hljs-string">"order.exchange"</span>, 
            <span class="hljs-string">"order.routing.key"</span>, 
            <span class="hljs-string">"Hello RabbitMQ"</span>
        );
        
        <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
        <span class="hljs-title class_">Object</span> message = rabbitTemplate.<span class="hljs-title function_">receiveAndConvert</span>(<span class="hljs-string">"order.queue"</span>, <span class="hljs-number">3000</span>);
        <span class="hljs-title function_">assertNotNull</span>(message);
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-built_in">void</span> <span class="hljs-title function_">testObjectMessage</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">Order</span> order = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(<span class="hljs-string">"123"</span>, <span class="hljs-string">"ORD2023001"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"100.00"</span>), <span class="hljs-title class_">LocalDateTime</span>.<span class="hljs-title function_">now</span>());
        rabbitTemplate.<span class="hljs-title function_">convertAndSend</span>(<span class="hljs-string">"order.exchange"</span>, <span class="hljs-string">"order.routing.key"</span>, order);
    }
}
</code></pre>
<h3 data-id="heading-18">7. æœ€ä½³å®è·µå»ºè®®</h3>
<h4 data-id="heading-19">7.1 æ¶ˆæ¯ç¡®è®¤ç­–ç•¥</h4>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒå»ºè®®å¼€å¯ <code>publisher-confirms</code>å’Œ <code>publisher-returns</code></li>
<li>æ¶ˆè´¹è€…æ ¹æ®ä¸šåŠ¡éœ€è¦é€‰æ‹©è‡ªåŠ¨ç¡®è®¤æˆ–æ‰‹åŠ¨ç¡®è®¤</li>
</ul>
<h4 data-id="heading-20">7.2 é”™è¯¯å¤„ç†</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RabbitMQErrorHandler</span> {
    
    <span class="hljs-comment">/**
     * å…¨å±€å¼‚å¸¸å¤„ç†
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RabbitListenerErrorHandler rabbitListenerErrorHandler() {
        <span class="hljs-keyword">return</span> (amqpMessage, message, exception) -&gt; {
            <span class="hljs-comment">// è®°å½•é”™è¯¯æ—¥å¿—</span>
            System.err.println(<span class="hljs-string">"RabbitMQ æ¶ˆæ¯å¤„ç†å¼‚å¸¸: "</span> + exception.getMessage());
            
            <span class="hljs-comment">// å¯ä»¥æ ¹æ®å¼‚å¸¸ç±»å‹è¿›è¡Œä¸åŒå¤„ç†</span>
            <span class="hljs-keyword">if</span> (exception instanceof BusinessException) {
                <span class="hljs-comment">// ä¸šåŠ¡å¼‚å¸¸ï¼Œè®°å½•ä½†ä¸é‡è¯•</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// ç³»ç»Ÿå¼‚å¸¸ï¼ŒæŠ›å‡ºä»¥è§¦å‘é‡è¯•</span>
                <span class="hljs-keyword">throw</span> exception;
            }
        };
    }
}
</code></pre>
<h4 data-id="heading-21">7.3 ç›‘æ§å’ŒæŒ‡æ ‡</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoints:</span>
    <span class="hljs-attr">web:</span>
      <span class="hljs-attr">exposure:</span>
        <span class="hljs-attr">include:</span> <span class="hljs-string">health,metrics,rabbit</span>
  <span class="hljs-attr">metrics:</span>
    <span class="hljs-attr">export:</span>
      <span class="hljs-attr">rabbit:</span>
        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-22">æ€»ç»“</h3>
<p>é€šè¿‡ä»¥ä¸Šæ³¨è§£æ–¹å¼çš„å®ç°ï¼Œæ‚¨å¯ä»¥ï¼š</p>
<ol>
<li><strong>å¿«é€Ÿä¸Šæ‰‹</strong>ï¼šé€šè¿‡ç®€å•çš„æ³¨è§£å³å¯å®ç°æ¶ˆæ¯çš„å‘é€å’Œæ¥æ”¶</li>
<li><strong>é«˜çº§ç‰¹æ€§</strong>ï¼šæ”¯æŒå»¶è¿Ÿæ¶ˆæ¯ã€æ­»ä¿¡é˜Ÿåˆ—ã€æ‰¹é‡æ¶ˆè´¹ç­‰é«˜çº§åŠŸèƒ½</li>
<li><strong>å¯é æ€§</strong>ï¼šæ”¯æŒå‘å¸ƒç¡®è®¤ã€æ¶ˆè´¹ç¡®è®¤ã€é‡è¯•æœºåˆ¶</li>
<li><strong>ç»´æŠ¤æ€§</strong>ï¼šé…ç½®é›†ä¸­ç®¡ç†ï¼Œä»£ç ç»“æ„æ¸…æ™°</li>
<li><strong>å¯æ‰©å±•</strong>ï¼šæ˜“äºæ·»åŠ æ–°é˜Ÿåˆ—å’Œæ¶ˆè´¹è€…</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Django 6.0 å‘å¸ƒï¼Œæ–°å¢åŸç”Ÿä»»åŠ¡é˜Ÿåˆ—ä¸ CSP æ”¯æŒ]]></title>    <link>https://juejin.cn/post/7579982168452694067</link>    <guid>https://juejin.cn/post/7579982168452694067</guid>    <pubDate>2025-12-05T09:01:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579982168452694067" data-draft-id="7579935414423470126" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Django 6.0 å‘å¸ƒï¼Œæ–°å¢åŸç”Ÿä»»åŠ¡é˜Ÿåˆ—ä¸ CSP æ”¯æŒ"/> <meta itemprop="keywords" content="åç«¯,Python,Django"/> <meta itemprop="datePublished" content="2025-12-05T09:01:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ServBay"/> <meta itemprop="url" content="https://juejin.cn/user/3828929445244761"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Django 6.0 å‘å¸ƒï¼Œæ–°å¢åŸç”Ÿä»»åŠ¡é˜Ÿåˆ—ä¸ CSP æ”¯æŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3828929445244761/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ServBay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:01:47.000Z" title="Fri Dec 05 2025 09:01:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>12æœˆäº†ï¼ŒDjango 6.0 å³å°†å‘å¸ƒã€‚Django è¿™æ¬¡æ¬¡æ›´æ–°ä¸ä»…å¼ºåŒ–äº†å®‰å…¨æ€§å’Œç°ä»£å¼€å‘ä½“éªŒï¼Œæ›´å¼•å…¥äº†ç¤¾åŒºæœŸå¾…å·²ä¹…çš„åå°ä»»åŠ¡æ¥å£ã€‚åŒæ—¶ï¼ŒDjango 6.0 å¯¹ Python ç‰ˆæœ¬æå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼Œä¸€èµ·æ¥çœ‹çœ‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5c82746a8574e52800e6df6f40c3057~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530106&amp;x-signature=iz0UP6Tj6DqxhY%2FlZH5OzZkkMeo%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯ Django 6.0 å€¼å¾—å…³æ³¨çš„æ ¸å¿ƒå˜åŒ–ã€‚</p>
<h3 data-id="heading-0">åŸç”Ÿæ”¯æŒå†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰</h3>
<p>Web å®‰å…¨ä¸€ç›´æ˜¯ Django çš„å¼ºé¡¹ã€‚åœ¨ 6.0 ç‰ˆæœ¬ä¸­ï¼ŒDjango ç»ˆäºå†…ç½®äº†å¯¹å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆContent Security Policy, CSPï¼‰çš„æ”¯æŒã€‚æ­¤å‰ï¼Œå¼€å‘è€…é€šå¸¸éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ <code>django-csp</code>ï¼‰æ¥é˜²å¾¡è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰å’Œå†…å®¹æ³¨å…¥æ”»å‡»ï¼Œç°åœ¨è¿™ä¸€åŠŸèƒ½æ­£å¼æˆä¸ºæ ¸å¿ƒç»„ä»¶çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æ–°ç‰ˆæœ¬å¼•å…¥äº† <code>ContentSecurityPolicyMiddleware</code> ä¸­é—´ä»¶ï¼Œå…è®¸å¼€å‘è€…é€šè¿‡ Python å­—å…¸çš„å½¢å¼å®šä¹‰å®‰å…¨è§„åˆ™ï¼Œé…ç½®æ›´åŠ ç›´è§‚ä¸”ç±»å‹å®‰å…¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> django.utils.csp <span class="hljs-keyword">import</span> CSP

SECURE_CSP = {
    <span class="hljs-string">"default-src"</span>: [CSP.SELF],
    <span class="hljs-string">"script-src"</span>: [CSP.SELF, CSP.NONCE],
    <span class="hljs-string">"img-src"</span>: [CSP.SELF, <span class="hljs-string">"https:"</span>],
}
</code></pre>
<p>æ­¤å¤–ï¼Œæ¨¡æ¿ç³»ç»Ÿä¸­æ–°å¢äº† <code>csp()</code> ä¸Šä¸‹æ–‡å¤„ç†å™¨ï¼Œæ”¯æŒç”Ÿæˆéšæœºæ•°ï¼ˆnonceï¼‰ï¼Œè¿™ä½¿å¾—åœ¨ä¸¥æ ¼çš„å®‰å…¨ç­–ç•¥ä¸‹ä½¿ç”¨å†…è”è„šæœ¬å˜å¾—æ›´åŠ è§„èŒƒå’Œå®‰å…¨ã€‚</p>
<h3 data-id="heading-1">å†…ç½®åå°ä»»åŠ¡æ¡†æ¶ï¼ˆBackground Tasksï¼‰</h3>
<p>è¿™æ˜¯ Django 6.0 æœ€å…·é©æ–°æ€§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚Django é¦–æ¬¡å¼•å…¥äº†åŸç”Ÿçš„ä»»åŠ¡é˜Ÿåˆ—æ¥å£ <code>django.tasks</code>ã€‚é€šè¿‡æ–°å¢çš„ <code>@task</code> è£…é¥°å™¨ï¼Œå¼€å‘è€…å¯ä»¥å°†å‘é€é‚®ä»¶ã€æ•°æ®å¤„ç†ç­‰è€—æ—¶æ“ä½œç§»å‡º HTTP è¯·æ±‚å‘¨æœŸï¼Œè¿›è¡Œå¼‚æ­¥å¤„ç†ã€‚</p>
<p>ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> django.tasks <span class="hljs-keyword">import</span> task

<span class="hljs-meta">@task</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">email_users</span>(<span class="hljs-params">emails, subject, message</span>):
    <span class="hljs-comment"># é‚®ä»¶å‘é€é€»è¾‘</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># å°†ä»»åŠ¡æ¨å…¥é˜Ÿåˆ—</span>
email_users.enqueue(
    emails=[<span class="hljs-string">"user@example.com"</span>],
    subject=<span class="hljs-string">"ç³»ç»Ÿé€šçŸ¥"</span>,
    message=<span class="hljs-string">"å†…å®¹è¯¦æƒ…"</span>
)
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒDjango ç›®å‰æä¾›çš„å†…ç½®åç«¯ä¸»è¦ç”¨äºå¼€å‘å’Œæµ‹è¯•ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯¥æ¡†æ¶æ—¨åœ¨æä¾›ä¸€å¥—æ ‡å‡†åŒ–çš„ API æ¥å£ï¼Œå…·ä½“çš„ä»»åŠ¡æ‰§è¡Œï¼ˆWorkerï¼‰ä»éœ€å¯¹æ¥å¤–éƒ¨çš„åŸºç¡€è®¾æ–½ã€‚è¿™ä¸€ä¸¾æªç»Ÿä¸€äº† Django ç”Ÿæ€ä¸­çš„ä»»åŠ¡è°ƒç”¨æ–¹å¼ï¼Œé™ä½äº†ä¸åŒä»»åŠ¡é˜Ÿåˆ—åº“ä¹‹é—´çš„è¿ç§»æˆæœ¬ã€‚</p>
<h3 data-id="heading-2">æ¨¡æ¿å±€éƒ¨ç‰‡æ®µï¼ˆTemplate Partialsï¼‰</h3>
<p>ä¸ºäº†é€‚åº”ç°ä»£å‰ç«¯ç»„ä»¶åŒ–çš„å¼€å‘æ¨¡å¼ï¼ŒDjango æ¨¡æ¿è¯­è¨€ï¼ˆDTLï¼‰æ–°å¢äº†ã€Œå±€éƒ¨ç‰‡æ®µã€æ”¯æŒã€‚é€šè¿‡ <code>{% partialdef %}</code> å’Œ <code>{% partial %}</code> æ ‡ç­¾ï¼Œå¼€å‘è€…å¯ä»¥åœ¨åŒä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶ä¸­å®šä¹‰å¯é‡ç”¨çš„ HTML ç‰‡æ®µï¼Œè€Œæ— éœ€å°†å®ƒä»¬æ‹†åˆ†ä¸ºå¤§é‡ç»†ç¢çš„ç‹¬ç«‹æ–‡ä»¶ã€‚</p>
<p>è¿™ä¸€ç‰¹æ€§æå¤§åœ°ç®€åŒ–äº†æ¨¡æ¿ç»“æ„ï¼Œç‰¹åˆ«æ˜¯åœ¨é…åˆ HTMX ç­‰æŠ€æœ¯è¿›è¡Œå±€éƒ¨é¡µé¢åˆ·æ–°æ—¶ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡å’Œä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-3">é‚®ä»¶ä¸æ•°æ®åº“çš„ç°ä»£åŒ–å‡çº§</h3>
<ul>
<li>
<p><strong>å…¨é¢é‡‡ç”¨ç°ä»£ Python Email API</strong>ï¼šé‚®ä»¶æ¨¡å—åº•å±‚å½»åº•é‡æ„ï¼Œæ‘’å¼ƒäº†æ—§ç‰ˆçš„ <code>Compat32</code> APIï¼Œå…¨é¢è½¬å‘ Python 3.6+ å¼•å…¥çš„ <code>email.message.EmailMessage</code>ã€‚æ–°å®ç°å¯¹ Unicode çš„æ”¯æŒæ›´åŠ å‹å¥½ï¼ŒAPI è°ƒç”¨ä¹Ÿæ›´ä¸ºç®€æ´ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®åº“åŠŸèƒ½å¢å¼º</strong>ï¼š<code>StringAgg</code> èšåˆå‡½æ•°ä¸å†ä»…é™äº PostgreSQLï¼Œç°å·²æˆä¸ºé€šç”¨åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œ<code>QuerySet.raw()</code> å¼€å§‹æ”¯æŒå¤åˆä¸»é”®æ¨¡å‹ï¼ŒPostgreSQL åç«¯åˆ™æ–°å¢äº† <code>Lexeme</code> è¡¨è¾¾å¼ä»¥å¢å¼ºå…¨æ–‡æœç´¢æ§åˆ¶ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">ç§»é™¤çš„åŠŸèƒ½ä¸ç ´åæ€§å˜æ›´</h3>
<p>ä¸ºäº†ä¿æŒæ¡†æ¶çš„è½»é‡ä¸è§„èŒƒï¼ŒDjango 6.0 ç§»é™¤äº†ä¸€æ‰¹è¿‡æ—¶ç‰¹æ€§ï¼Œå‡çº§æ—¶éœ€ç‰¹åˆ«ç•™æ„ã€‚</p>
<ul>
<li>
<p><strong>æ•°æ®åº“æ”¯æŒç¼©å‡</strong>ï¼šåœæ­¢æ”¯æŒ MariaDB 10.5ï¼Œå¹¶ç§»é™¤äº†å¯¹ <code>cx_Oracle</code> é©±åŠ¨çš„æ”¯æŒã€‚</p>
</li>
<li>
<p><strong>å¼ºåˆ¶å…³é”®å­—å‚æ•°</strong>ï¼šä¸ºäº†æé«˜ä»£ç å¯è¯»æ€§ï¼Œ<code>Model.save()</code>ã€<code>Model.asave()</code> ä»¥åŠ <code>BaseConstraint</code> ç­‰æ ¸å¿ƒæ–¹æ³•ä¸å†æ”¯æŒä½ç½®å‚æ•°ï¼ˆPositional Argumentsï¼‰ï¼Œè°ƒç”¨æ—¶å¿…é¡»æ˜¾å¼ä½¿ç”¨å…³é”®å­—å‚æ•°ã€‚</p>
</li>
<li>
<p><strong>é»˜è®¤åè®®å˜æ›´</strong>ï¼š<code>forms.URLField</code> çš„é»˜è®¤åè®®ä» "http" å˜æ›´ä¸º "https"ã€‚</p>
</li>
<li>
<p><strong>å…¶ä»–æ¸…ç†</strong>ï¼šç§»é™¤äº† <code>django.utils.itercompat</code> æ¨¡å—åŠ GeoIP2 çš„éƒ¨åˆ†æ—§æ–¹æ³•ã€‚</p>
</li>
</ul>
<h3 data-id="heading-5">Python ç‰ˆæœ¬çš„ç¡¬æ€§è¦æ±‚</h3>
<p>Django 6.0 æ”¾å¼ƒäº†å¯¹æ—§ç‰ˆ Python çš„æ”¯æŒã€‚æ–°ç‰ˆæœ¬ä»…æ”¯æŒ Python 3.12ä»¥åŠä¸Šçš„ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯ä»åœ¨ä½¿ç”¨ Python 3.10 æˆ– 3.11 çš„é¡¹ç›®ï¼Œè‹¥æƒ³å‡çº§è‡³ Django 6.0ï¼Œå¿…é¡»å…ˆå‡çº§åŸºç¡€è§£é‡Šå™¨ã€‚</p>
<p>æ­¤å¤–ï¼Œæ–°åˆ›å»ºé¡¹ç›®çš„ <code>DEFAULT_AUTO_FIELD</code> å°†é»˜è®¤è®¾ç½®ä¸º <code>BigAutoField</code>ï¼Œä»¥é€‚åº”å¤§æ•°æ®é‡ä¸‹çš„ä¸»é”®éœ€æ±‚ã€‚</p>
<h3 data-id="heading-6">å¦‚ä½•è§£å†³ Python ç‰ˆæœ¬å‡çº§çš„é˜µç—›ï¼Ÿ</h3>
<p>Django 6.0 å¯¹ Python 3.12+ çš„å¼ºåˆ¶è¦æ±‚ï¼Œç»™ç»´æŠ¤æ—§é¡¹ç›®çš„å›¢é˜Ÿå¸¦æ¥äº†ç¯å¢ƒç®¡ç†çš„æŒ‘æˆ˜ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘è€…å¾€å¾€éœ€è¦åœ¨ç»´æŠ¤è¿è¡Œ Python 2.7 æˆ– 3.8 çš„è€æ—§ç³»ç»Ÿçš„åŒæ—¶ï¼Œå°é²œä½“éªŒ Django 6.0 åŠå…¶ä¾èµ–çš„ Python 3.14 ç¯å¢ƒã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Fpython" target="_blank" title="https://www.servbay.com/features/python" ref="nofollow noopener noreferrer">æœ¬åœ°å®‰è£…å¤šä¸ª Python ç‰ˆæœ¬</a>å¹¶è¿›è¡Œåˆ‡æ¢ï¼Œä¸ä»…é…ç½®ç¹çï¼Œè¿˜å®¹æ˜“å¯¼è‡´ä¾èµ–å†²çªã€‚</p>
<p>é‚£å°±ä¸å¾—ä¸ä»‹ç»ServBayäº†ï¼Œè¿™æ˜¯ä¸€æ¬¾ä¸“ä¸ºå¼€å‘è€…è®¾è®¡çš„ç¯å¢ƒç®¡ç†å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e229dc15b5b34616acd5bc54356af618~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530106&amp;x-signature=Oh%2BSLpz7ek2ic1N9xiF6UDe7zdc%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><strong>ä¸€é”®éƒ¨ç½²</strong>ï¼šæ— éœ€å¤æ‚çš„ç¼–è¯‘å’Œé…ç½®ï¼Œå³å¯å¿«é€Ÿå®‰è£…æœ€æ–°çš„ Python ç¯å¢ƒã€‚</p>
</li>
<li>
<p><strong>å…¨ç‰ˆæœ¬è¦†ç›–</strong>ï¼šæ”¯æŒä» Python 2.7 åˆ°ä¸»æµçš„ 3.5 - 3.11ï¼Œå¹¶ç´§è·Ÿå‰æ²¿æ”¯æŒåˆ°äº† Python 3.14ã€‚</p>
</li>
<li>
<p><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šå…è®¸å¤šä¸ª Python ç‰ˆæœ¬åŒæ—¶è¿è¡Œã€‚å¼€å‘è€…å¯ä»¥ä¸º Django 6.0 çš„æ–°é¡¹ç›®æŒ‡å®š Python 3.14ï¼ŒåŒæ—¶ä¸ºç»´æŠ¤ä¸­çš„è€é¡¹ç›®ä¿ç•™ Python 3.8ï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
</li>
</ul>
<p>å¯¹äºå¸Œæœ›å¿«é€Ÿä½“éªŒ Django 6.0 æ–°ç‰¹æ€§ï¼Œæˆ–è€…éœ€è¦å¹³æ»‘è¿ç§»æ—§é¡¹ç›®çš„å¼€å‘è€…è€Œè¨€ï¼ŒServBay èƒ½å¤Ÿæ˜¾è‘—é™ä½ç¯å¢ƒæ­å»ºçš„æ—¶é—´æˆæœ¬ï¼Œè®©å¼€å‘å·¥ä½œå›å½’ä»£ç æœ¬èº«ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SparkSQLçœŸçš„ä¸æ”¯æŒå­˜å‚¨NullTypeç±»å‹æ•°æ®åˆ°Parquetå—?]]></title>    <link>https://juejin.cn/post/7579935414423568430</link>    <guid>https://juejin.cn/post/7579935414423568430</guid>    <pubDate>2025-12-05T09:05:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579935414423568430" data-draft-id="7580055720482881562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SparkSQLçœŸçš„ä¸æ”¯æŒå­˜å‚¨NullTypeç±»å‹æ•°æ®åˆ°Parquetå—?"/> <meta itemprop="keywords" content="å¤§æ•°æ®,Spark"/> <meta itemprop="datePublished" content="2025-12-05T09:05:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæµ·è§‚æ½®"/> <meta itemprop="url" content="https://juejin.cn/user/1380642337334574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SparkSQLçœŸçš„ä¸æ”¯æŒå­˜å‚¨NullTypeç±»å‹æ•°æ®åˆ°Parquetå—?
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1380642337334574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæµ·è§‚æ½®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:05:40.000Z" title="Fri Dec 05 2025 09:05:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åå°æœ‰å°ä¼™ä¼´æäº†ä¸€äº›å®é™…å·¥ä½œä¸­ä½¿ç”¨Sparké‡åˆ°çš„é—®é¢˜ï¼Œç¬”è€…æŒ‘é€‰äº†å‡ ä¸ªç›¸å¯¹å¸¸è§çš„é—®é¢˜ï¼Œåˆ†åˆ«ä»åœºæ™¯æ¨¡æ‹Ÿ/é—®é¢˜ç°è±¡ã€é—®é¢˜åˆ†æã€è§£å†³æ–¹æ¡ˆä¸‰ä¸ªå±‚é¢ï¼Œæ¥æ·±å…¥åˆ†æè¿™äº›é—®é¢˜ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªè§£å†³ç±»ä¼¼é—®é¢˜çš„æ€è·¯ã€‚</p>
<p><strong>&gt;&gt; é—®é¢˜1</strong></p>
<p>ä½¿ç”¨SparkSQLï¼ˆ2.4ç‰ˆæœ¬ï¼‰å¾€å­˜å‚¨æ ¼å¼ä¸ºparquetçš„Hiveåˆ†åŒºè¡¨ä¸­å­˜å‚¨NullTypeç±»å‹çš„æ•°æ®æ—¶æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">org.apache.spark.sql.AnalysisException: Parquet <span class="hljs-keyword">data</span> source does not support <span class="hljs-literal">null</span> <span class="hljs-keyword">data</span> type.
</code></pre>
<p>è™½ç„¶åœ¨Stack OverFlowä¸Šæ‰¾åˆ°äº†ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†æ²¡æœ‰å…·ä½“é˜æ˜åˆ°åº•æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´äº†è¿™ç§é—®é¢˜ä»¥åŠå¦‚ä½•è§£å†³ï¼Ÿ</p>
<p><strong>1. åœºæ™¯æ¨¡æ‹Ÿ</strong></p>
<p>1ï¼‰åˆ›å»ºtemp viewï¼štest_view</p>
<pre><code class="hljs language-python" lang="python">sparkSession.sql(      <span class="hljs-string">"""        |select 1 as id, null as name      """</span>.stripMargin      ).createOrReplaceTempView(<span class="hljs-string">"test_view"</span>)
</code></pre>
<p>2ï¼‰æ‰“å°test_viewçš„schemaä¿¡æ¯</p>
<pre><code class="hljs language-bash" lang="bash">-- <span class="hljs-built_in">id</span>ä¸º<span class="hljs-built_in">integer</span>ç±»å‹ï¼Œnameå¯¹åº”åˆ°Spark SQLå†…éƒ¨å­—æ®µæ•°æ®ç±»å‹å³ä½NullTyperoot |-- <span class="hljs-built_in">id</span>: <span class="hljs-built_in">integer</span> (nullable = <span class="hljs-literal">false</span>) |-- name: null (nullable = <span class="hljs-literal">true</span>)
</code></pre>
<p>3ï¼‰å°†test_tabä¸­æ•°æ®å­˜å…¥Hiveåˆ†åŒºè¡¨test_partition_tabçš„åˆ†åŒºpartitionCol=20201009ä¸­</p>
<pre><code class="hljs language-lua" lang="lua">df.<span class="hljs-built_in">write</span>.mode(SaveMode.Overwrite).<span class="hljs-built_in">format</span>(<span class="hljs-string">"parquet"</span>).save(<span class="hljs-string">"/bigdatalearnshare/test_partition_tab/partitionCol=20201009"</span>)
</code></pre>
<p>4ï¼‰æŠ¥é”™ä¿¡æ¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33a215be87294893961292626940c6f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530339&amp;x-signature=yPoHb3iLKU2%2BTShe5SXr5YTAmKs%3D" alt="å›¾ç‰‡" loading="lazy"/><strong>2. é—®é¢˜åˆ†æ</strong></p>
<p>æ ¹æ®æŠ¥é”™ä¿¡æ¯ï¼Œæç¤ºParquetæ•°æ®æºä¸æ”¯æŒnull typeç±»å‹çš„æ•°æ®ã€‚æ—¢ç„¶æ˜¯ä¿å­˜æ•°æ®ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°FileFormatWriterï¼Œå†ç»“åˆé”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.apache</span><span class="hljs-selector-class">.spark</span><span class="hljs-selector-class">.sql</span><span class="hljs-selector-class">.execution</span><span class="hljs-selector-class">.datasources</span><span class="hljs-selector-class">.FileFormatWriter</span>$<span class="hljs-selector-class">.write</span>(FileFormatWriter.<span class="hljs-attribute">scala</span>:<span class="hljs-number">100</span>
</code></pre>
<p>å¯¹åº”çš„æºç ä¸ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss">DataSourceUtils<span class="hljs-selector-class">.verifyWriteSchema</span>(fileFormat,Â dataSchema)
</code></pre>
<p>debugè¿›å»ï¼Œçœ‹çœ‹è¿™ä¸ªæ–¹æ³•ç©¶ç«Ÿå¹²äº†ä»€ä¹ˆï¼Ÿ<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e871768938c540538bb5bcaf63b11436~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530339&amp;x-signature=XhqQ%2B1f8uvvEQSefxrKJy0vsfXg%3D" alt="å›¾ç‰‡" loading="lazy"/>æ ¹æ®æºç åˆ†æå¯çŸ¥ï¼Œä¸Šè¿°ç¨‹åºä¸­SparkSQLåœ¨ä¿å­˜æ•°æ®æ—¶ä¼šå¯¹æ•°æ®çš„schemaè¿›è¡Œæ ¡éªŒï¼Œå¹¶ä¸”ä¸åŒçš„å­˜å‚¨æ ¼å¼ï¼ˆparquetã€csvã€jsonç­‰ï¼‰æ”¯æŒçš„æ•°æ®ç±»å‹ä¼šæœ‰æ‰€ä¸åŒï¼Œä»¥parquetä¸ºä¾‹ï¼ŒæŸ¥çœ‹æºç ï¼š<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d98c66962f34b13a39dc44ddba99858~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530339&amp;x-signature=Pgi23gotS%2FAx6ZXobO85x9dx9bM%3D" alt="å›¾ç‰‡" loading="lazy"/><strong>3. è§£å†³æ–¹æ¡ˆ</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">-- ä½¿ç”¨insert sqlè¿›è¡Œæ•°æ®çš„ä¿å­˜<span class="hljs-function">insert overwrite table test_partition_tab <span class="hljs-title">partition</span>(<span class="hljs-params">partitionCol=<span class="hljs-number">20201009</span></span>) <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> test_view</span>;
</code></pre>
<hr/>
<p><strong><strong>&gt;&gt;</strong> é—®é¢˜2</strong><br/>
<strong>1. é—®é¢˜ç°è±¡</strong></p>
<p>åœ¨åˆ©ç”¨Sparkå’ŒKafkaå¤„ç†æ•°æ®æ—¶ï¼ŒåŒæ—¶åœ¨maven pomä¸­å¼•å…¥Sparkå’ŒKafkaçš„ç›¸å…³ä¾èµ–ã€‚ä½†æ˜¯å½“åˆ©ç”¨SparkSQLå¤„ç†æ•°æ®ç”Ÿæˆçš„DataSet/DataFrameè¿›è¡Œcollectæˆ–è€…showç­‰æ“ä½œæ—¶ï¼ŒæŠ›å‡ºä»¥ä¸‹å¼‚å¸¸ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-php" lang="php">in stage <span class="hljs-number">3.0</span> (TID <span class="hljs-number">403</span>, localhost, executor driver): java.lang.NoSuchMethodError: net.jpountz.lz4.LZ4BlockInputStream.&lt;init&gt;(Ljava/io/InputStream;Z)V  at org.apache.spark.io.LZ4CompressionCodec.<span class="hljs-title function_ invoke__">compressedInputStream</span>(CompressionCodec.<span class="hljs-attr">scala</span>:<span class="hljs-number">122</span>)  at org.apache.spark.serializer.SerializerManager.<span class="hljs-title function_ invoke__">wrapForCompression</span>(SerializerManager.<span class="hljs-attr">scala</span>:<span class="hljs-number">163</span>)  at org.apache.spark.serializer.SerializerManager.<span class="hljs-title function_ invoke__">wrapStream</span>(SerializerManager.<span class="hljs-attr">scala</span>:<span class="hljs-number">124</span>)  at org.apache.spark.shuffle.BlockStoreShuffleReader$$anonfun$<span class="hljs-number">3</span>.<span class="hljs-title function_ invoke__">apply</span>(BlockStoreShuffleReader.<span class="hljs-attr">scala</span>:<span class="hljs-number">50</span>)  at org.apache.spark.shuffle.BlockStoreShuffleReader$$anonfun$<span class="hljs-number">3</span>.<span class="hljs-title function_ invoke__">apply</span>(BlockStoreShuffleReader.<span class="hljs-attr">scala</span>:<span class="hljs-number">50</span>)  at org.apache.spark.storage.ShuffleBlockFetcherIterator.<span class="hljs-title function_ invoke__">next</span>(ShuffleBlockFetcherIterator.<span class="hljs-attr">scala</span>:<span class="hljs-number">453</span>)  at org.apache.spark.storage.ShuffleBlockFetcherIterator.<span class="hljs-title function_ invoke__">next</span>(ShuffleBlockFetcherIterator.<span class="hljs-attr">scala</span>:<span class="hljs-number">64</span>)  at scala.collection.<span class="hljs-built_in">Iterator</span>$$anon$<span class="hljs-number">12</span>.<span class="hljs-title function_ invoke__">nextCur</span>(<span class="hljs-built_in">Iterator</span>.<span class="hljs-attr">scala</span>:<span class="hljs-number">434</span>)  at scala.collection.<span class="hljs-built_in">Iterator</span>$$anon$<span class="hljs-number">12</span>.<span class="hljs-title function_ invoke__">hasNext</span>(<span class="hljs-built_in">Iterator</span>.<span class="hljs-attr">scala</span>:<span class="hljs-number">440</span>)  at scala.collection.<span class="hljs-built_in">Iterator</span>$$anon$<span class="hljs-number">11</span>.<span class="hljs-title function_ invoke__">hasNext</span>(<span class="hljs-built_in">Iterator</span>.<span class="hljs-attr">scala</span>:<span class="hljs-number">408</span>)  at org.apache.spark.util.CompletionIterator.<span class="hljs-title function_ invoke__">hasNext</span>(CompletionIterator.<span class="hljs-attr">scala</span>:<span class="hljs-number">31</span>)  at org.apache.spark.InterruptibleIterator.<span class="hljs-title function_ invoke__">hasNext</span>(InterruptibleIterator.<span class="hljs-attr">scala</span>:<span class="hljs-number">37</span>)  at scala.collection.<span class="hljs-built_in">Iterator</span>$$anon$<span class="hljs-number">11</span>.<span class="hljs-title function_ invoke__">hasNext</span>(<span class="hljs-built_in">Iterator</span>.<span class="hljs-attr">scala</span>:<span class="hljs-number">408</span>)  at org.apache.spark.sql.catalyst.expressions.GeneratedClass<span class="hljs-variable">$GeneratedIteratorForCodegenStage2</span>.agg_doAggregateWithKeys_0$(Unknown Source)  at org.apache.spark.sql.catalyst.expressions.GeneratedClass<span class="hljs-variable">$GeneratedIteratorForCodegenStage2</span>.<span class="hljs-title function_ invoke__">processNext</span>(Unknown Source)  at org.apache.spark.sql.execution.BufferedRowIterator.<span class="hljs-title function_ invoke__">hasNext</span>(BufferedRowIterator.<span class="hljs-attr">java</span>:<span class="hljs-number">43</span>)  at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$<span class="hljs-number">13</span>$$anon$<span class="hljs-number">1</span>.<span class="hljs-title function_ invoke__">hasNext</span>(WholeStageCodegenExec.<span class="hljs-attr">scala</span>:<span class="hljs-number">636</span>)  at org.apache.spark.sql.execution.SparkPlan$$anonfun$<span class="hljs-number">2</span>.<span class="hljs-title function_ invoke__">apply</span>(SparkPlan.<span class="hljs-attr">scala</span>:<span class="hljs-number">255</span>)
</code></pre>
<p><strong>2. é—®é¢˜åˆ†æ</strong><br/>
é”™è¯¯ä¿¡æ¯æç¤ºæ‰¾ä¸åˆ°æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">net.jpountz.lz4.LZ4BlockInputStream.&lt;init&gt;(Ljava/io/InputStream;Z)V
</code></pre>
<p>æ ¹æ®ç»éªŒï¼Œæ‰¾ä¸åˆ°æŸä¸ªæ–¹æ³•ï¼Œä¸€èˆ¬ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› é€ æˆï¼š</p>
<ul>
<li>æ²¡æœ‰ç›¸åº”çš„jaråŒ…ä¾èµ–</li>
<li>jaråŒ…ä¾èµ–å†²çª</li>
</ul>
<p>ç»è¿‡æ’æŸ¥å‘ç°å¯¼è‡´æœ¬é—®é¢˜å‘ç”Ÿçš„åŸå› æ˜¯ï¼šSparkå†…éƒ¨ä½¿ç”¨çš„åŒ…net.jpountz.lz4å’ŒKafkaä¸­åŒ…äº§ç”Ÿå†²çª</p>
<p><strong>3. è§£å†³æ–¹æ¡ˆ</strong></p>
<p>æ’é™¤Kafkaä¸­net.jpountz.lz4çš„ä¾èµ–åŒ…ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.kafka<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kafka-clients<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.10.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span>          <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span>             <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>net.jpountz.lz4<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>             <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lz4<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>          <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span>      <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong><strong>&gt;&gt;</strong> é—®é¢˜3</strong></p>
<p>é€šè¿‡SparkSQLï¼Œå¯¹ä¸¤ä¸ªå­˜åœ¨mapç±»å‹å­—æ®µçš„Hiveè¡¨è¿›è¡Œunionæ“ä½œï¼ŒæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-python" lang="python">org.apache.spark.sql.AnalysisException: Cannot have <span class="hljs-built_in">map</span> <span class="hljs-built_in">type</span> columns <span class="hljs-keyword">in</span> DataFrame which calls <span class="hljs-built_in">set</span> operations(intersect, <span class="hljs-keyword">except</span>, etc.), but the <span class="hljs-built_in">type</span> of column <span class="hljs-built_in">map</span> <span class="hljs-keyword">is</span> <span class="hljs-built_in">map</span>&lt;string,string&gt;;
</code></pre>
<p><strong>1. åœºæ™¯æ¨¡æ‹Ÿ</strong></p>
<p>1ï¼‰é€šè¿‡å‡½æ•°str_to_map/mapç”Ÿæˆmapç±»å‹çš„å­—æ®µï¼Œç„¶åè¿›è¡Œunionæ“ä½œ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">select</span> <span class="hljs-number">1</span> id, str_to_map(<span class="hljs-string">"k1:v1,k2:v2"</span>) <span class="hljs-keyword">map</span>
union
<span class="hljs-keyword">select</span>Â <span class="hljs-number">2</span>Â id,Â <span class="hljs-keyword">map</span>(<span class="hljs-string">"k1"</span>,<span class="hljs-string">"v1"</span>,<span class="hljs-string">"k2"</span>,<span class="hljs-string">"v2"</span>)Â <span class="hljs-keyword">map</span>
</code></pre>
<p>2ï¼‰æŠ¥é”™ä¿¡æ¯</p>
<pre><code class="hljs language-css" lang="css">org<span class="hljs-selector-class">.apache</span><span class="hljs-selector-class">.spark</span><span class="hljs-selector-class">.sql</span><span class="hljs-selector-class">.AnalysisException</span>: Cannot have map type columns in DataFrame which calls set <span class="hljs-built_in">operations</span>(intersect, except, etc.), but the type of column map is map&lt;string,string&gt;;;Distinct+- Union   :- Project [<span class="hljs-number">1</span> AS id<span class="hljs-number">#116</span>, <span class="hljs-built_in">str_to_map</span>(k1:v1,k2:v2, ,, :) AS map<span class="hljs-number">#117</span>]   :  +- OneRowRelation   +- Project [<span class="hljs-number">2</span> AS id<span class="hljs-number">#118</span>, <span class="hljs-built_in">map</span>(k1, v1, k2, v2) AS map<span class="hljs-number">#119</span>]      +- OneRowRelation
  at org.apache.spark.sql.catalyst.analysis.CheckAnalysis$class.<span class="hljs-built_in">failAnalysis</span>(CheckAnalysis.scala:<span class="hljs-number">42</span>)  at org.apache.spark.sql.catalyst.analysis.Analyzer.<span class="hljs-built_in">failAnalysis</span>(Analyzer.scala:<span class="hljs-number">95</span>)  at org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$<span class="hljs-number">1</span>.<span class="hljs-built_in">apply</span>(CheckAnalysis.scala:<span class="hljs-number">364</span>)  at org.apache.spark.sql.catalyst.analysis.CheckAnalysis$$anonfun$checkAnalysis$<span class="hljs-number">1</span>.<span class="hljs-built_in">apply</span>(CheckAnalysis.scala:<span class="hljs-number">85</span>)  at org.apache.spark.sql.catalyst.trees.TreeNode.<span class="hljs-built_in">foreachUp</span>(TreeNode.scala:<span class="hljs-number">127</span>)  at org.apache.spark.sql.catalyst.analysis.CheckAnalysis$class.<span class="hljs-built_in">checkAnalysis</span>(CheckAnalysis.scala:<span class="hljs-number">85</span>)
</code></pre>
<p><strong>2. é—®é¢˜åˆ†æ</strong></p>
<p>æ ¹æ®æŠ¥é”™ä¿¡æ¯ï¼Œæˆ‘ä»¬æŸ¥çœ‹org.apache.spark.sql.catalyst.analysis.CheckAnalysisçš„checkAnalysisæ–¹æ³•ï¼Œç¬¬362è¡Œæºç å¤„ç†é€»è¾‘ï¼ˆé”™è¯¯ä¿¡æ¯æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰å‘¢ï¼Ÿï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edcfc1d553e04e4292e37eb572eba9a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530339&amp;x-signature=5CHP3f52ej%2FmpWnEsI9%2FNLl14%2BM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…³é”®çœ‹mapColumnInSetOperationä¸­å¯¹é€»è¾‘è®¡åˆ’çš„åŒ¹é…ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fa99361b0fb4446a23343445eab4224~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530339&amp;x-signature=5mBSsPzfoPomG1AYuY%2BS5eH231I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é’ˆå¯¹é€»è¾‘è®¡åˆ’ä¸­æœ‰Intersectã€Exceptã€Distinctçš„output"è¿”å›"çš„å±æ€§ï¼ˆAttributeï¼‰æœ‰mapç±»å‹ï¼Œæˆ–è€…Deduplicateçš„keysï¼ˆä¹Ÿæ˜¯Attributeï¼‰åŒ…å«mapå­—æ®µç±»å‹ï¼Œéƒ½ä¼šå¯¼è‡´ä¸Šè¿°é—®é¢˜ã€‚</p>
<p>è€Œunionå¯¼è‡´ä¸Šè¿°æŠ¥é”™ï¼Œæ˜¯å› ä¸ºunionä¼šå¯¹ç»“æœå»é‡ï¼Œå³distinct</p>
<p><strong>3. è§£å†³æ–¹æ¡ˆ</strong></p>
<p>è¯¢é—®åå°å°ä¼™ä¼´å„¿ï¼Œç›®å‰çš„ä¸šåŠ¡åœºæ™¯æ˜¯è€ƒéªŒä¸éœ€è¦å»é‡å¤„ç†çš„ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œunionå’Œunion allçš„ä¸»è¦åŒºåˆ«å°±æ˜¯ï¼Œå‰è€…ä¼šå¯¹ç»“æœå»é‡ï¼Œåè€…åˆ™ä¸ä¼šã€‚é‚£ä¹ˆå°†unionæ”¹ä¸ºunion allå°±å¥½äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[qiankunå¾®å‰ç«¯]]></title>    <link>https://juejin.cn/post/7579920818871517226</link>    <guid>https://juejin.cn/post/7579920818871517226</guid>    <pubDate>2025-12-05T08:27:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579920818871517226" data-draft-id="7579926120096890943" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="qiankunå¾®å‰ç«¯"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-05T08:27:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¾è‡ªåšéŸ§"/> <meta itemprop="url" content="https://juejin.cn/user/1574156384347159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            qiankunå¾®å‰ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1574156384347159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¾è‡ªåšéŸ§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T08:27:20.000Z" title="Fri Dec 05 2025 08:27:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºæœ¬ä»‹ç»</h2>
<ul>
<li>ä¸»åº”ç”¨ç®¡ç†ç”¨æˆ·ï¼Œè§’è‰²ï¼Œæ—¥å¿—ä»¥åŠèœå•ä»¥åŠå­åº”ç”¨æ˜¯å¦å±•ç¤º</li>
<li>ä¸»åº”ç”¨èœå•æœ‰ä¸¤ç§ç§ç±»å‹ type: 1 åº”ç”¨èœå• type:2 æŒ‰é’®æƒé™</li>
<li>å­åº”ç”¨ä¸å±•ç¤ºèœå•åˆ—è¡¨å’Œå¤´éƒ¨ä¿¡æ¯</li>
<li>å­åº”ç”¨é€šè¿‡localstoreè·å–ç”¨æˆ·ä¿¡æ¯ï¼Œèœå•åˆ—è¡¨ä»¥åŠæƒé™ä¿¡æ¯</li>
<li>å­åº”ç”¨è·¯ç”±é€šè¿‡èœå•åˆ—è¡¨åŠ¨æ€ç”Ÿæˆ</li>
</ul>
<h2 data-id="heading-1">é¡¹ç›®ç»“æ„</h2>
<ul>
<li>main ä¸»åŸºåº§ vue3 + vite</li>
<li>tlq å­åº”ç”¨ vue3 + vite</li>
<li>tlcn å­åº”ç”¨ Vue3 + webpack4</li>
<li>test å­åº”ç”¨ Vue3 + webpack5</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30483bfaddde4531aafc8ab2a6cd00ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg576O6Ieq5Z2a6Z-n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528040&amp;x-signature=js3HuIENxIlCfXSrjrb6FyUaTcY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸»åº”ç”¨</h2>
<ol>
<li>å®‰è£…qiankun <code>npm install qiankun</code></li>
<li>åˆ›å»ºå­åº”ç”¨æ˜¾ç¤ºç»„ä»¶</li>
</ol>
<p><strong>childApp/index.vue</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div id="subapp-viewport" class="subapp-container" /&gt;
&lt;/template&gt;

&lt;script setup&gt;
// å­åº”ç”¨å®¹å™¨ç»„ä»¶ï¼Œqiankun ä¼šè‡ªåŠ¨å°†å­åº”ç”¨æŒ‚è½½åˆ°æ­¤å®¹å™¨ä¸­
import { onMounted } from 'vue'
import { useMicroappStore } from '@/stores/microapp'
const microappStore = useMicroappStore()
onMounted(async () =&gt; {
  if (!microappStore.qiankunStarted) {
    await microappStore.initMicroApp()
  }
})
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
.subapp-container {
  width: 100%;
  height: 100%;
  min-height: 500px;
  all: initial;
}
&lt;/style&gt;
</code></pre>
<ol start="3">
<li>åˆ›å»ºå¾®åº”ç”¨store</li>
</ol>
<p><strong>stores/microapp.js</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElMessage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>
<span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./user'</span>
<span class="hljs-keyword">import</span> { registerMicroApps, start, addGlobalUncaughtErrorHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">'qiankun'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'@/router'</span>
<span class="hljs-keyword">import</span> { getAppList } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/app'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useMicroappStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'microapp'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">qiankunStarted</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">childAppList</span>: []
  }),
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-comment">// è·å–å­åº”ç”¨åˆ—è¡¨</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">getChildAppList</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getAppList</span>()
      <span class="hljs-comment">// å¤„ç† activeRuleï¼Œå¦‚æœæ˜¯å­—ç¬¦ä¸²åˆ™è½¬æ¢ä¸ºå‡½æ•°ä»¥åŒ¹é… hash è·¯ç”±</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">childAppList</span> = data
    },
    <span class="hljs-comment">// å­åº”ç”¨é€šçŸ¥ä¸»åº”ç”¨</span>
    <span class="hljs-title function_">notify</span>(<span class="hljs-params">app, type, message</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­åº”ç”¨åé¦ˆ'</span>, app)
      <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'message'</span>) <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">info</span>(message)
      <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'error'</span>) <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(message)
      <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'noToken'</span>) {
        <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">warning</span>(message)
        <span class="hljs-title function_">useUserStore</span>().<span class="hljs-title function_">resetUser</span>()
        router.<span class="hljs-title function_">push</span>(<span class="hljs-string">'/login'</span>)
      }
      <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'backToLogin'</span>) {
        <span class="hljs-title function_">useUserStore</span>().<span class="hljs-title function_">resetUser</span>()
        router.<span class="hljs-title function_">push</span>(<span class="hljs-string">'/login'</span>)
      }
    },
    <span class="hljs-comment">// æ³¨å†Œå­åº”ç”¨</span>
    <span class="hljs-title function_">registerMicroapp</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">this</span>.<span class="hljs-property">childAppList</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, i)
        <span class="hljs-keyword">delete</span> obj.<span class="hljs-property">id</span>
        obj.<span class="hljs-property">props</span>.<span class="hljs-property">notifyMainApp</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">notify</span>
        obj.<span class="hljs-property">entry</span> = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span> ? obj.<span class="hljs-property">devEntry</span> : obj.<span class="hljs-property">entry</span>
        <span class="hljs-keyword">return</span> obj
      })
      <span class="hljs-keyword">try</span> {
        <span class="hljs-title function_">registerMicroApps</span>(list)
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error)
      }
    },
    <span class="hljs-comment">// åˆå§‹åŒ–qiankun</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">initMicroApp</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">qiankunStarted</span>) <span class="hljs-keyword">return</span>
      <span class="hljs-title function_">addGlobalUncaughtErrorHandler</span>(<span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'qiankun error'</span>, event)
        <span class="hljs-keyword">const</span> { <span class="hljs-attr">message</span>: msg } = event
        <span class="hljs-comment">// åŠ è½½å¤±è´¥æ—¶æç¤º</span>
        <span class="hljs-keyword">if</span> (msg &amp;&amp; msg.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'died in status LOADING_SOURCE_CODE'</span>)) {
          <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å¾®åº”ç”¨åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥åº”ç”¨æ˜¯å¦å¯è¿è¡Œ'</span>)
        }
      })
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerMicroapp</span>()
      <span class="hljs-title function_">start</span>({
        <span class="hljs-attr">sandbox</span>: {
          <span class="hljs-attr">experimentalStyleIsolation</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å¯é€‰çš„ä¸¥æ ¼æ ·å¼éš”ç¦»</span>
        }
      })
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">qiankunStarted</span> = <span class="hljs-literal">true</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'qiankun start'</span>)
    }
  },
  <span class="hljs-attr">getters</span>: {}
})


<span class="hljs-comment">// childApplist</span>
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//{</span>
<span class="hljs-comment">//    id: 1,</span>
<span class="hljs-comment">//    name: 'tlq',</span>
<span class="hljs-comment">//    entry: '//localhost:3100/',</span>
<span class="hljs-comment">//    container: '#subapp-viewport',</span>
<span class="hljs-comment">//    activeRule: '/app_tlq',</span>
<span class="hljs-comment">//    props: {</span>
<span class="hljs-comment">//      title: 'tlqç®¡ç†æ§åˆ¶å°',</span>
<span class="hljs-comment">//      desc: 'tlqç›¸å…³å†…å®¹å±•ç¤º',</span>
<span class="hljs-comment">//      version: '1.0.1'</span>
<span class="hljs-comment">//    }</span>
<span class="hljs-comment">//  },</span>
<span class="hljs-comment">//]</span>
</code></pre>
<p>ä¸»åº”ç”¨å’Œå­åº”ç”¨éƒ½æ˜¯åŠ¨æ€æ³¨å†Œçš„è·¯ç”±(æ ¹æ®åç«¯ä¼ å›çš„èœå•åˆ—è¡¨)</p>
<p>åœ¨ä¸»åº”ç”¨ä¸­ï¼Œæ³¨å†Œå­åº”ç”¨ä¸»è·¯ç”±å³å¯</p>
<p>ä¾‹å¦‚ï¼š tlqçš„è·¯ç”±</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  router.<span class="hljs-title function_">addRoute</span>(<span class="hljs-string">'BasicHome'</span>, {
      <span class="hljs-attr">path</span>: <span class="hljs-string">`<span class="hljs-subst">${item.activeRule}</span>/:subpath(.*)*`</span>,
      <span class="hljs-attr">name</span>: item.<span class="hljs-property">name</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/childApp/index.vue'</span>),
       })
}
</code></pre>
<h2 data-id="heading-3">tlqå­åº”ç”¨</h2>
<p>viteæ‰“åŒ…çš„éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ vite-plugin-qiankun</p>
<ol>
<li>main.js</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementPlus</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'element-plus/dist/index.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">import</span> { qiankunWindow, renderWithQiankun } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-qiankun/dist/helper'</span>
<span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./stores/user'</span>

<span class="hljs-keyword">let</span> app
<span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()

<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">props = {}</span>) {
  <span class="hljs-keyword">const</span> { container } = props
  app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
  <span class="hljs-comment">// æ³¨å†ŒElement Plus</span>
  app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>)
  app.<span class="hljs-title function_">use</span>(router)
  app.<span class="hljs-title function_">use</span>(pinia)

  app.<span class="hljs-title function_">mount</span>(container ? container.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#tlq-app'</span>) : <span class="hljs-string">'#tlq-app'</span>)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'tlq qiankun bootstrap'</span>)
    <span class="hljs-title function_">resolve</span>()
  })
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mount</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// ä¿å­˜å…¨å±€çŠ¶æ€å¼•ç”¨</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'tlq qiankun mount'</span>, props)
      <span class="hljs-title function_">render</span>(props)
      <span class="hljs-comment">// å¤„ç†æ•°æ® ä»localstoreä¸­è·å–</span>
      <span class="hljs-keyword">const</span> localUser = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'user'</span>) || <span class="hljs-literal">null</span>)
      <span class="hljs-keyword">if</span> (localUser) {
        <span class="hljs-keyword">const</span> userInfo = localUser.<span class="hljs-property">userInfo</span>
        <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">useUserStore</span>()
        user.<span class="hljs-property">userInfo</span> = {
          <span class="hljs-attr">psw</span>: userInfo.<span class="hljs-property">psw</span>,
          <span class="hljs-attr">token</span>: userInfo.<span class="hljs-property">token</span>,
          <span class="hljs-attr">username</span>: userInfo.<span class="hljs-property">username</span>,
          <span class="hljs-attr">permissions</span>: userInfo.<span class="hljs-property">permissions</span>[<span class="hljs-string">'tlq'</span>]
        }
        <span class="hljs-comment">// èœå•å¤„ç† ä¸ä»åç«¯è·å–èœå•</span>
        <span class="hljs-keyword">const</span> tlq = localUser.<span class="hljs-property">menuList</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">childAppName</span> === <span class="hljs-string">'tlq'</span>)
        <span class="hljs-keyword">if</span> (tlq.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
          user.<span class="hljs-property">menuList</span> = tlq[<span class="hljs-number">0</span>].<span class="hljs-property">children</span>
        }
        <span class="hljs-comment">// é€šçŸ¥ä¸»åº”ç”¨çš„å‡½æ•°</span>
        user.<span class="hljs-property">notifyMainApp</span> = props.<span class="hljs-property">notifyMainApp</span>
      } <span class="hljs-keyword">else</span> {
        props.<span class="hljs-title function_">notifyMainApp</span>(<span class="hljs-string">'tlq'</span>, <span class="hljs-string">'noToken'</span>, <span class="hljs-string">'æ²¡æœ‰ç”¨æˆ·ä¿¡æ¯, è¯·ç™»å½•!'</span>)
      }
      <span class="hljs-title function_">resolve</span>()
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title function_">reject</span>(<span class="hljs-string">'mounted failed'</span>)
    }
  })
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">unmount</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'tlq qiankun unmount'</span>)
    app.<span class="hljs-title function_">unmount</span>()
    app = <span class="hljs-literal">null</span>
    <span class="hljs-title function_">resolve</span>()
  })
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">initQiankun</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">renderWithQiankun</span>({
    bootstrap,
    mount,
    unmount
  })
}
qiankunWindow.<span class="hljs-property">__POWERED_BY_QIANKUN__</span> ? <span class="hljs-title function_">initQiankun</span>() : <span class="hljs-title function_">render</span>()

</code></pre>
<ol start="2">
<li>vite.config.js</li>
</ol>

<pre><code class="hljs language-css" lang="css">import qiankun <span class="hljs-selector-tag">from</span> 'vite-plugin-qiankun'
import packa <span class="hljs-selector-tag">from</span> './package<span class="hljs-selector-class">.json</span>'

 plugins: [
      <span class="hljs-built_in">qiankun</span>(packa.name, { useDevMode: true })
 ],
build: {
      rollupOptions: {
        output: {
          format: <span class="hljs-string">'umd'</span>,
        }
      }
    },    
</code></pre>
<p>3.  router</p>
<p>è¿™é‡Œæ˜¯åŠ¨æ€æ³¨å†Œè·¯ç”±ï¼Œè·¯ç”±æ¿€æ´»å‰ç¼€åœ¨mainä¸»åŸºåº§ä¸­å·²åŠåŠ ä¸Šäº†ï¼Œæ‰€ä»¥å­åº”ç”¨çš„è·¯ç”±ä¸éœ€è¦åšä»€ä¹ˆ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">BaseHome</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/layout/AppContainer/index.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NotFound</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/views/404/index.vue'</span>

<span class="hljs-comment">/**
 * å­åº”ç”¨æ²¡æœ‰ç™»å½•åŠŸèƒ½ï¼Œæ‰€æœ‰è·¯ç”±æ³¨å†Œéœ€è¦åœ¨æ­¤å†™æ˜ï¼Œ ä¸èƒ½ä»åç«¯è·å–åå†æ³¨å†Œ
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">BaseHome</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'BasicHome'</span>,
    <span class="hljs-attr">children</span>: []
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/:pathMatch(.*)*'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'NotFound'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">NotFound</span>
  }
]

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
  routes
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router

</code></pre>
<h2 data-id="heading-4">tlqcn</h2>
<p>æ²¡æœ‰ä½¿ç”¨åŠ¨æ€è·¯ç”±ï¼Œè‡ªå·±é¡¹ç›®çš„è·¯ç”±å°±è¿™æ ·è®¾ç½®</p>
<p>webpackæ‰“åŒ…é…ç½®çš„ä¸éœ€è¦ä»»ä½•æ’ä»¶</p>
<ol>
<li><strong>vue.conig.js</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">configureWebpack</span>: {
  <span class="hljs-attr">output</span>: {
      <span class="hljs-comment">// æŠŠå­åº”ç”¨æ‰“åŒ…æˆ umd åº“æ ¼å¼</span>
      <span class="hljs-attr">library</span>: <span class="hljs-string">`<span class="hljs-subst">${name}</span>-[name]`</span>,
      <span class="hljs-attr">libraryTarget</span>: <span class="hljs-string">'umd'</span>,
      <span class="hljs-attr">jsonpFunction</span>: <span class="hljs-string">`webpackJsonp_<span class="hljs-subst">${name}</span>`</span>,
    },
}
</code></pre>
<ol start="2">
<li><strong>main.js</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-string">'./public-path'</span>;
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>;
<span class="hljs-keyword">import</span> routes <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>;
<span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;

<span class="hljs-keyword">let</span> router = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">let</span> instance = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">let</span> history = <span class="hljs-literal">null</span>;


<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">props = {}</span>) {
  <span class="hljs-keyword">const</span> { container } = props;
  history = <span class="hljs-title function_">createWebHistory</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">__POWERED_BY_QIANKUN__</span> ? <span class="hljs-string">'/app_tlqcn'</span> : <span class="hljs-string">'/'</span>);
  router = <span class="hljs-title function_">createRouter</span>({
    history,
    routes,
  });

  instance = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>);
  instance.<span class="hljs-title function_">use</span>(router);
  instance.<span class="hljs-title function_">use</span>(store);
  instance.<span class="hljs-title function_">mount</span>(container ? container.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#app'</span>) : <span class="hljs-string">'#app'</span>);
}

<span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">window</span>.<span class="hljs-property">__POWERED_BY_QIANKUN__</span>) {
  <span class="hljs-title function_">render</span>();
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'%c '</span>, <span class="hljs-string">'color: green;'</span>, <span class="hljs-string">'vue3.0 app bootstraped'</span>);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mount</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'tlqcn mount'</span>, props)
  <span class="hljs-title function_">render</span>(props);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">unmount</span>(<span class="hljs-params"/>) {
  instance.<span class="hljs-title function_">unmount</span>();
  instance.<span class="hljs-property">_container</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
  instance = <span class="hljs-literal">null</span>;
  router = <span class="hljs-literal">null</span>;
  history.<span class="hljs-title function_">destroy</span>();
}

</code></pre>
<ol start="4">
<li>src/public-path.js
æ–°å¢è¿™ä¸ªæ–‡ä»¶ï¼Œè®¾ç½®è¿è¡Œæ—¶publicPath</li>
</ol>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">if</span> (window.__POWERED_BY_QIANKUN_<span class="hljs-number">_</span>) {
  <span class="hljs-regexp">//</span> eslint-disable-<span class="hljs-keyword">next</span>-line <span class="hljs-keyword">no</span>-<span class="hljs-keyword">undef</span>
  __webpack_public_path_<span class="hljs-number">_</span> = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN_<span class="hljs-number">_</span>;
}

</code></pre>
<h2 data-id="heading-5">test</h2>
<p>vue-cli5 webpack5æ‰“åŒ…å·¥å…·ï¼Œåªæœ‰vue.config.jsä¸­æœ‰ç‚¹ä¸ªtlqcnä¸åŒ</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">configureWebpack</span>: {
 <span class="hljs-attr">output</span>: {
      <span class="hljs-attr">library</span>: <span class="hljs-string">'tlqcn'</span>,
      <span class="hljs-attr">libraryTarget</span>: <span class="hljs-string">'umd'</span>,
      <span class="hljs-attr">globalObject</span>: <span class="hljs-string">'window'</span>
    }
    }
</code></pre>
<p>ä¸€ç‚¹å¿ƒå¾—ï¼š</p>
<ul>
<li>ä½¿ç”¨viteåšæ‰“åŒ…å·¥å…·æ—¶ï¼Œä¸èƒ½è®¾ç½®è¿è¡Œæ—¶base, ä¹Ÿå°±æ˜¯é™æ€èµ„æºè®¿é—®è·¯å¾„ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œéœ€è¦è®¾ç½®vite.config.jsä¸­çš„baseä¸ºç»å¯¹è®¿é—®è·¯å¾„ï¼ˆå¦‚æœä¸åŒæœåŠ¡å™¨æˆ–ä¸åŒç«¯å£è®¿é—®ï¼‰</li>
<li>ä½¿ç”¨viteæ‰“åŒ…æ–¹å¼ï¼Œæ ·å¼ä¸èƒ½æœ‰æ•ˆéš”ç¦»ï¼Œåªèƒ½è®¾ç½®ç‹¬ç«‹çš„csså‰ç¼€</li>
<li>webpackå¯ä»¥è®¾ç½®è¿è¡Œæ—¶é™æ€èµ„æºè®¿é—®è·¯å¾„ï¼Œ ä½†åªä»…é™äºjsã€‚å¯¹cssæ ·å¼ä¸­å¼•å…¥çš„èµ„æºæ— æ•ˆã€‚</li>
</ul>
<p>å…·ä½“ä»£ç å¯è®¿é—®å¦‚ä¸‹ä»“åº“ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Folhong%2Fqiankun-demo" target="_blank" title="https://gitee.com/olhong/qiankun-demo" ref="nofollow noopener noreferrer">gitee.com/olhong/qianâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android + Google Playï¼šè€é¡¹ç›®é€‚é…å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579946275436838922</link>    <guid>https://juejin.cn/post/7579946275436838922</guid>    <pubDate>2025-12-05T09:08:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579946275436838922" data-draft-id="7579946275436134410" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android + Google Playï¼šè€é¡¹ç›®é€‚é…å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="Android,Google"/> <meta itemprop="datePublished" content="2025-12-05T09:08:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²¡æœ‰äº†é‡è§"/> <meta itemprop="url" content="https://juejin.cn/user/1521379826212983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android + Google Playï¼šè€é¡¹ç›®é€‚é…å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379826212983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²¡æœ‰äº†é‡è§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:08:30.000Z" title="Fri Dec 05 2025 09:08:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1:å‰æƒ…æè¦</h2>
<p>ä½œä¸ºä¸€ä¸ªAndroidå¼€å‘ ,é¢å¯¹æ—¥ç›Šæ“è›‹çš„åº”ç”¨å¸‚åœº,æ•¢æ€’ä¸æ•¢è¨€.ä»€ä¹ˆtarget 28 ä»€ä¹ˆæƒé™è¯´æ˜,ä»€ä¹ˆéšç§åè®®,ä»€ä¹ˆè·å–æ‰‹æœºä¿¡æ¯è¿‡äºé¢‘ç¹....</p>
<p>è¿™éƒ¨Google play åˆæŠ˜è…¾èµ·æ¥äº†.</p>
<p>æ²¡åŠæ³•åªèƒ½é€‚é…äº†,QBè‡ªå·±,å¹¸ç¦ä»–äºº,ç¥æ„¿.xxx.xxxxx.....</p>
<h2 data-id="heading-1">2:ç°å®ç¯å¢ƒ</h2>
<p>ç»´æŠ¤äº†åå¹´å·¦å³çš„è€é¡¹ç›®(<code>Okgo</code>,<code>ButterKnife</code> æ—¶ä»£çš„äº§ç‰©,ä¸”å¤–åŒ…å‡ºæ¥çš„é¡¹ç›®)</p>
<ul>
<li>targetSdkVersion 33</li>
<li>Gradle 7.3.1</li>
<li>Jdk 8</li>
<li>ä¸€ä¸‡ä¸ªä¸‰æ–¹åº“</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6873df842b404380a2f8dd5aac9ea816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=M4uddWJoegT2sewVuZ4LSe7qU%2BY%3D" alt="ä¸€éƒ¨åˆ†.png" loading="lazy"/></p>
<h2 data-id="heading-2">3:Google Play æäº¤å‰éœ€è¦å¤„ç†çš„äº‹æƒ…</h2>
<p>è€çˆ·ä»¬æ—¶ä»£å˜äº†,ä¸€ä¸ªGradle+JDK8 æ‰“å¤©ä¸‹çš„æ—¶ä»£å˜äº†</p>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fgoogle%2Fplay%2Frequirements%2Ftarget-sdk" title="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fgoogle%2Fplay%2Frequirements%2Ftarget-sdk" target="_blank">APIè¦æ±‚å®˜æ–¹è¯´æ˜</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40f1d10dfc4f431abb6f093e605c02a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=AXv%2BSX1YTLsym6VLNd%2FXV%2FO%2B5JI%3D" alt="image.png" loading="lazy"/></p>
<p><code>æäº¤åº”ç”¨å¸‚åœºè¦å¤„ç†çš„é—®é¢˜:</code></p>
<ul>
<li>targetSdkVersion 35</li>
<li>16KB Size é€‚é…</li>
<li>AAB æ‹†åŒ…(å¤ªå¤§çš„éœ€æ±‚æ‹†åŒ…)</li>
</ul>
<h2 data-id="heading-3">4 targetSdkVersion 35 å˜åŠ¨</h2>
<p>å®˜æ–¹è¦æ±‚å¿…é¡»ä½¿ç”¨target 35 ç„¶åä¸€ç³»åˆ—è¿é”ååº”å°±æ¥äº†,çœŸæ˜¯ä¸‹äº†ä¸€æ­¥å¥½æ£‹å•Š</p>
<p>ä½¿ç”¨targetVersion 35 --&gt;éœ€è¦Gradle 8.0+ --&gt;å†éœ€è¦Jdk17 --&gt;å†éœ€è¦kotlin 1.9+</p>
<p><code>å˜åŠ¨è·¯å¾„</code></p>
<p><strong>targetSdkVersionï¼š35</strong><br/>
å®˜æ–¹è¦æ±‚ 2025 å¹´æ–°æäº¤ App å¿…é¡» target 35+ï¼Œ</p>
<p><strong>Gradle / Android Gradle Pluginï¼š8.0+ï¼ˆæ¨è 8.6ï¼‰</strong><br/>
å¯¹åº” Koala / Ladybug ç³»åˆ—ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">classpath <span class="hljs-string">'com.android.tools.build:gradle:8.6.0'</span>
</code></pre>
<p><strong>JDKï¼š17ï¼ˆå¿…é¡»ï¼‰</strong><br/>
Google Play å·²ç»è¦æ±‚ AGP 8+ å¿…é¡»ä½¿ç”¨ JDK 17ã€‚<br/>
Android Studio å†…ç½®çš„ JDK 17 ç›´æ¥ç”¨å³å¯ï¼Œä¸è¦è‡ªå·±ä¹±è£…ã€‚</p>
<p><strong>Kotlinï¼š1.9.23 æˆ– 2.0.0ï¼ˆæ¨è 1.9.xï¼‰</strong><br/>
æ— ç‰¹æ®Šéœ€æ±‚ç”¨ <strong>1.9.23</strong> æœ€ç¨³ï¼ŒKotlin 2.0 è™½ç„¶å¯ç”¨ï¼Œä½†ç”Ÿæ€å…¼å®¹æ€§ä»åœ¨é€‚é…ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">plugins {
    <span class="hljs-built_in">id</span> <span class="hljs-string">"org.jetbrains.kotlin.android"</span> version <span class="hljs-string">"1.9.23"</span>
}
</code></pre>
<p><strong>ç­¾åï¼ˆå¿…é¡» V1 + V2 + V3ï¼‰</strong><br/>
Google Play ä¼šè‡ªåŠ¨ç”Ÿæˆ V4ï¼Œæ‰€ä»¥ä½ æœ¬åœ°ä¿æŒï¼š</p>
<ul>
<li>âœ” V1ï¼ˆJar Signatureï¼‰</li>
<li>âœ” V2ï¼ˆAPK Signature Scheme v2ï¼‰</li>
<li>âœ” V3ï¼ˆAPK Signature Scheme v3ï¼‰</li>
</ul>
<p>Android Studio é»˜è®¤å‹¾é€‰å³å¯ã€‚</p>
<pre><code class="hljs language-lua" lang="lua">
targetSdkVersion <span class="hljs-number">35</span> ç‰ˆæœ¬<span class="hljs-comment">--&gt;</span>
gradle <span class="hljs-number">8.0</span>+ç‰ˆæœ¬<span class="hljs-comment">--&gt;</span>
jdk17+ ç‰ˆæœ¬<span class="hljs-comment">--&gt;</span>
kotlin <span class="hljs-number">1.9</span><span class="hljs-number">.23</span>ç‰ˆæœ¬<span class="hljs-comment">--&gt;</span>
ç­¾å

çœŸæ˜¯ä¸€æ­¥å¥½æ£‹å•Š,è€çˆ·ä»¬æ—¶ä»£å˜äº†,ä¸æ˜¯ä¸€ä¸ªgradle +jdk8 æ‰“å¤©ä¸‹çš„æ—¶ä»£äº†

</code></pre>
<p><code>ç°åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬:</code></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">agp</span> = <span class="hljs-string">"8.9.1"</span>
<span class="hljs-attr">compileSdkVersion</span>= <span class="hljs-string">"36"</span>
<span class="hljs-attr">kotlin</span> = <span class="hljs-string">"2.2.10"</span>
<span class="hljs-attr">jdk</span>=<span class="hljs-number">17</span>
</code></pre>
<h2 data-id="heading-4">5: 16KB Size é€‚é…</h2>
<p>ä½ çœŸä¸é€‚é…çœŸæ•¢ç»™ä½ ä¸èƒ½ç”¨!!!</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d1bf2bd624a418a8f45d0edcf2a6ce9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=BBoxwWYfQ6M%2BtzMpA2vBY%2FBxX5c%3D" alt="image.png" loading="lazy"/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fguide%2Fpractices%2Fpage-sizes%3Fhl%3Dzh_cn" target="_blank" title="https://developer.android.google.cn/guide/practices/page-sizes?hl=zh_cn" ref="nofollow noopener noreferrer">16K Size å®˜æ–¹è¯´æ˜</a></p>
<h4 data-id="heading-5">5.1Google Play æäº¤æ˜¾ç¤ºä¸æ”¯æŒ 16KB çš„åº“</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cac8e66e60641ea80cbd57bef57bb45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=nn1ZQf08XRokCeWS7hoYBUJZPDM%3D" alt="a3954fe97792ba48d57821e51e5f39be.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c0655a485a04ae0ab2547a2980a0175~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=HOGXoJVIurPOuLGcEDG8yybbkOY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc4c13e7434c4767b0b3c88bdc57729d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=rzAiS8GaW%2BMRjjF0G4mIjnE3XoU%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-6">5.2 æŸ¥æ‰¾.soåº“æ‰€å±ä¸‰æ–¹åº“(<code>é‡ç‚¹</code>)</h4>
<p><code>æ³¨æ„:</code></p>
<ul>
<li>æå‰bulidä¸€ä¸‹</li>
<li>æ‰§è¡Œ bundleRelease/assembleRelease ä»»åŠ¡</li>
</ul>

<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åœ¨é¡¹ç›® build.gradle æˆ– app/build.gradle ä¸­æ·»åŠ åˆ°æœ€ä¸‹æ–¹å°±è¡Œ</span>

tasks<span class="hljs-selector-class">.whenTaskAdded</span> { task -&gt;
    <span class="hljs-comment">// åŒ¹é…æ‰€æœ‰ merge&lt;Flavor&gt;&lt;BuildType&gt;NativeLibs ä»»åŠ¡</span>
    if (task.name.matches(/merge.*NativeLibs/)) {
        task<span class="hljs-selector-class">.doFirst</span> {
            <span class="hljs-built_in">println</span>("------- [${task.name}] start scanning so files -------")

            <span class="hljs-comment">// éå†æ‰€æœ‰è¾“å…¥æ–‡ä»¶</span>
            it<span class="hljs-selector-class">.inputs</span><span class="hljs-selector-class">.files</span><span class="hljs-selector-class">.each</span> { file -&gt;
                <span class="hljs-built_in">printSoFiles</span>(file)
            }

            <span class="hljs-built_in">println</span>("------- [${task.name}] end scanning so files -------")
        }
    }
}

<span class="hljs-comment">// é€’å½’æŸ¥æ‰¾ .so æ–‡ä»¶</span>
def <span class="hljs-built_in">printSoFiles</span>(File file) {
    if (file == null || !file.exists()) return

    if (file.isDirectory()) {
        file<span class="hljs-selector-class">.listFiles</span>()?<span class="hljs-selector-class">.each</span> { <span class="hljs-built_in">printSoFiles</span>(it) }
    } else if (file.name.endsWith(".so")) {
        <span class="hljs-built_in">println</span>("Found .so: ${file.absolutePath}")
    }
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cd759745a974e63ab91788f02f475db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=O%2Bw%2BKZooRgvBtNX20PpSzFw14hc%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">5.3 ä¿®æ”¹çš„ä¸æ”¯æŒ 16KB soçš„åº“</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è¿™ä¸ª4.3ç‰ˆæœ¬æ”¯æŒäº† librsjni_androidx.so</span>
  api <span class="hljs-symbol">'jp</span>.wasabeef:glide-transformations:<span class="hljs-number">4.0</span>.<span class="hljs-number">1</span>'<span class="hljs-comment">//é…åˆglideå®ç°é«˜æ–¯æ¨¡ç³Š</span>
  api <span class="hljs-symbol">'jp</span>.wasabeef:glide-transformations:<span class="hljs-number">4.3</span>.<span class="hljs-number">0</span>'<span class="hljs-comment">//é…åˆglideå®ç°é«˜æ–¯æ¨¡ç³Š</span>
  
  <span class="hljs-comment">// è¿™ä¸ªéœ€è¦ç”³è¯·çš„æ–°ç‰ˆæœ¬</span>
  api <span class="hljs-symbol">'com</span>.blankj:utilcodex:<span class="hljs-number">1.31</span>.<span class="hljs-number">0</span>'
  api <span class="hljs-symbol">'com</span>.blankj:utilcodex:<span class="hljs-number">1.31</span>.<span class="hljs-number">1</span>'
  
  <span class="hljs-comment">// ç›´æ¥åˆ é™¤äº† å› ä¸º å›½å¤–ä¸éœ€è¦ å¯ä»¥ç”³è¯·proç‰ˆæœ¬ æä¾›äº†</span>
 api <span class="hljs-symbol">'com</span>.tencent.bugly:crashreport:<span class="hljs-number">3.4</span>.<span class="hljs-number">4</span>'
 api <span class="hljs-symbol">'com</span>.tencent.bugly:nativecrashreport:<span class="hljs-number">3.9</span>.<span class="hljs-number">2</span>'
 
 <span class="hljs-comment">// æ›´æ–°æ–°ç‰ˆæœ¬ libmmkv.so</span>
 api  <span class="hljs-symbol">'com</span>.tencent:mmkv-<span class="hljs-keyword">static</span>:<span class="hljs-number">1.2</span>.<span class="hljs-number">14</span>'
 api  <span class="hljs-symbol">'com</span>.tencent:mmkv-<span class="hljs-keyword">static</span>:<span class="hljs-number">1.3</span>.<span class="hljs-number">14</span>'
	

</code></pre>
<h2 data-id="heading-8">6: <code>é‡ç‚¹:</code>Google Play æµ‹è¯•ç‰ˆæœ¬æ”¯æŒè®¾å¤‡æ•°ä¸º0çš„æƒ…å†µ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc4c13e7434c4767b0b3c88bdc57729d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=rzAiS8GaW%2BMRjjF0G4mIjnE3XoU%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-9">6.1 ABIï¼ˆCPU æ¶æ„ï¼‰é…ç½®å†²çª <code>splits.abi</code> å’Œ <code>ndk.abiFilters</code> åŒæ—¶å­˜åœ¨</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ ¹æ®è‡ªå·±éœ€æ±‚é…ç½®æ¶æ„ </span>
ndk {
    <span class="hljs-comment">//è®¾ç½®æ”¯æŒçš„SOåº“æ¶æ„</span>
    abiFilters <span class="hljs-string">'armeabi-v7a'</span>, <span class="hljs-string">'arm64-v8a'</span>
}
</code></pre>
<h4 data-id="heading-10">6.2 Manifest é™åˆ¶è¿‡åº¦</h4>
<p><code>&lt;supports-gl-texture android:name="GL_IMG_texture_consistent"/&gt; </code>ä¼šå¯¼è‡´æ”¯æŒè®¾å¤‡æ•° 0</p>
<p><code>æ³¨æ„:</code>
å»ºè®®ç›´æ¥åˆ é™¤</p>
<pre><code class="hljs language-ini" lang="ini">ä¼šå¯¼è‡´:  ä¸æ”¯æŒçš„å¿…ç”¨GLçº¹ç†å‹ç¼©æ ¼å¼ï¼šGL_IMG_texture_consistent
 é…ç½® false ä¹Ÿä¸è¡Œ
&lt;supports-gl-texture android:<span class="hljs-attr">name</span>=<span class="hljs-string">"GL_IMG_texture_consistent"</span>/&gt;
</code></pre>
<p><code>å…¶ä»–å½±å“çš„åœ°æ–¹æ”¹æˆfalse:</code></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ‘„åƒå¤´ç‰¹æ€§è®¾ç½®ä¸ºå¯é€‰ï¼Œä¸å¼ºåˆ¶è¦æ±‚ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-feature</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.hardware.camera"</span> <span class="hljs-attr">android:required</span>=<span class="hljs-string">"false"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-feature</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.hardware.autofocus"</span> <span class="hljs-attr">android:required</span>=<span class="hljs-string">"false"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-feature</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.hardware.camera.autofocus"</span> <span class="hljs-attr">android:required</span>=<span class="hljs-string">"false"</span>/&gt;</span>

<span class="hljs-comment">&lt;!-- OpenGL ES 2.0ï¼Œä¸å¼ºåˆ¶è¦æ±‚ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-feature</span>
    <span class="hljs-attr">android:glEsVersion</span>=<span class="hljs-string">"0x00020000"</span>
    <span class="hljs-attr">android:required</span>=<span class="hljs-string">"false"</span>/&gt;</span>

<span class="hljs-comment">&lt;!-- æ”¯æŒæ‰€æœ‰å±å¹•å°ºå¯¸ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">supports-screens</span>
    <span class="hljs-attr">android:anyDensity</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">android:smallScreens</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">android:normalScreens</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">android:largeScreens</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">android:xlargeScreens</span>=<span class="hljs-string">"true"</span>/&gt;</span>
</code></pre>
<h4 data-id="heading-11">6.3 16KB å…¼å®¹</h4>
<p>ä¸æ”¯æŒçš„soæ‰¾æä¾›æ–¹å¤„ç†,å¤„ç†ä¸äº†çš„åˆ é™¤æˆ–è€…æ‰¾æ›¿ä»£æ–¹æ¡ˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/687ae455040844c1a9f9a0dd1f1da387~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765530640&amp;x-signature=MWEIUcdW3xO3%2Fsr%2BbwZUwbuo%2Fig%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>Google Play å‘å¸ƒè‰°éš¾,ä¸”è¡Œä¸”çæƒœå§,å„ç§ç¨€å¥‡å¤æ€ªéƒ½ä¼šå‡ºç°.è´¦å·ç”³è¯·,åè®® é¡¹ç›®é€‚é….....ä¸”è¡Œä¸”çæƒœå§.</p>
<p>æ¬¢è¿éª¡å­ä»¬ä¸€èµ·æ²Ÿé€š.æœ‰äº‹å„¿æ»´æ»´...</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¶å¹´è½»ä¸€å®šè¦å¤šè·³æ§½]]></title>    <link>https://juejin.cn/post/7579985751938367522</link>    <guid>https://juejin.cn/post/7579985751938367522</guid>    <pubDate>2025-12-05T09:14:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579985751938367522" data-draft-id="7579945518346174479" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¶å¹´è½»ä¸€å®šè¦å¤šè·³æ§½"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-05T09:14:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å…µå¼ å¥"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032405229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¶å¹´è½»ä¸€å®šè¦å¤šè·³æ§½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032405229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å…µå¼ å¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:14:35.000Z" title="Fri Dec 05 2025 09:14:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¶å¹´è½»ä¸€å®šè¦å¤šè·³æ§½ã€‚åˆšåˆšåœ¨æ¹–è¾¹èƒŒå•è¯çš„æ—¶å€™ï¼Œæˆ‘å›æƒ³äº†ä¸€ä¸‹è‡ªå·±è¿™å¤§å‡ å¹´çš„å¼€å‘ç”Ÿæ¶¯ï¼Œå¤§æ¦‚ç»å†äº†ä¸‰ä»½é‡è¦çš„å·¥ä½œã€‚ç¬¬ä¸€ä»½æ˜¯åœ¨å»å“ªå„¿ï¼Œç¬¬äºŒä»½æ˜¯åœ¨ç¾å¥½äººå®¶ï¼Œç¬¬ä¸‰ä»½æ˜¯åœ¨ç¦ç¦„ï¼Œå…¶ä¸­ç¬¬ä¸€ä»½å’Œç¬¬ä¸‰ä»½ç¨å¾®æœ‰åä¸€ç‚¹ã€‚</p>
<p>ä¸è¿‡ç°åœ¨æˆ‘å¤±ä¸šäº†ï¼Œèƒ½ä¸ºæˆ‘æä¾›å¸®åŠ©çš„å±…ç„¶æ˜¯ç¬¬äºŒä»½å·¥ä½œæ—¶çš„ç›´å± leaderã€‚ä»–å½“æ—¶æ˜¯æ¶æ„å¸ˆï¼Œç°åœ¨åœ¨å¦ä¸€å®¶å…¬å¸ã€‚æˆ‘ä»¬èŠå¾—æ¯”è¾ƒæŠ•æœºï¼Œä»–é—®æˆ‘æƒ³ä¸æƒ³å»ä»–é‚£è¾¹ï¼Œè¯´æœ‰åŠæ³•å¸®æˆ‘å…¥èŒï¼Œä½†æˆ‘è¿˜æ˜¯å©‰æ‹’äº†ã€‚å› ä¸ºè¿™æ®µæ—¶é—´æˆ‘ä¸å¤ªæƒ³ä¸Šç­ï¼Œæ›´æƒ³æŒ–æ˜ä¸€ä¸‹è‡ªå·±çš„è‡ªå‘æ€§ï¼Œå½“ç„¶è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜äº†ã€‚</p>
<p>ç®—ä¸‹æ¥æˆ‘å¤§æ¦‚å·¥ä½œäº†ä¸ƒå…«å¹´ï¼Œä¸€å…±åªå¾…è¿‡ä¸‰å®¶å…¬å¸ã€‚æˆ‘ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„æ„Ÿè§¦å‘¢ï¼Ÿå¦‚æœæˆ‘ç»å†çš„å…¬å¸éƒ½åƒç¬¬äºŒå®¶è¿™æ ·ï¼Œåç»­èƒ½ç»™æˆ‘æä¾›å¸®åŠ©ï¼Œé‚£æˆ‘ç°åœ¨åº”è¯¥ä¸æ„æ‰¾å·¥ä½œã€‚å¯æˆ‘å·¥ä½œè¿™ä¹ˆå¤šå¹´ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æ„æ‰¾å·¥ä½œï¼Ÿå¾ˆå¤§ä¸€ä¸ªåŸå› ï¼Œæˆ‘è§‰å¾—æ˜¯è·³æ§½å¤ªå°‘ï¼Œæ²¡é‡åˆ°æ›´å¤šåƒç¬¬äºŒå®¶å…¬å¸é‚£æ ·çš„äººã€‚</p>
<p>åœ¨ç¨‹åºå‘˜è¿™ä¸ªè¡Œä¸šï¼ŒæˆåŠŸç‡æœ€é«˜çš„è¿˜æ˜¯é å†…æ¨ã€‚å¦‚æœèµ°ç¤¾æ‹›æˆ–è€…å¤–éƒ¨æ¸ é“ï¼Œå› ä¸ºå½¼æ­¤ä¸ä¿¡ä»»ï¼Œä¼šæœ‰å¾ˆå¤šæ¡ä»¶é™åˆ¶æˆ–å…¶ä»–å› ç´ å¯¼è‡´é¢è¯•ä¸é€šè¿‡ã€‚ä½†èµ°å†…æ¨å°±ä¸ä¸€æ ·ï¼Œåƒæˆ‘ç¬¬äºŒå®¶å…¬å¸çš„æƒ…å†µï¼ŒåŸºæœ¬ä¸éœ€è¦æ€ä¹ˆé¢è¯•å°±èƒ½ç›´æ¥å…¥èŒï¼Œæ¯•ç«Ÿå¤§å®¶å®åŠ›éƒ½çŸ¥æ ¹çŸ¥åº•ã€‚</p>
<p>æ‰€ä»¥æˆ‘ç°åœ¨åœ¨æƒ³ï¼Œç¬¬ä¸‰å®¶å…¬å¸æˆ‘å…¶å®æ˜¯è·Ÿè€æ¿ä¸€èµ·å·¥ä½œäº† 6 å¹´å¤šï¼Œä½†â€¦â€¦
ä½†æ˜¯è¯´å®è¯ï¼Œä¸€å®¶å…¬å¸å¾…ä¸‰å¹´å·²ç»æ˜¯å¾ˆé•¿äº†ï¼Œåˆ‡è®°ä¸èƒ½é•¿æ—¶é—´å¾…æ»¡3å¹´ã€‚æˆ‘åœ¨è¿™å®¶å…¬å¸å¾…è¿™ä¹ˆä¹…ï¼Œæœ‰ä¸€ä¸ªåŸå› æ˜¯è‡ªä»ç»“å©šä»¥åå°±æƒ³ç€ï¼Œå¯èƒ½è¿™è¾ˆå­å°±è¿™æ ·äº†å§ï¼Œå¤§æ¦‚æœ‰ç§è¿‡äºå¹³å‡¡çš„æ„æ€ï¼Œå°±æƒ³ç€ä¸€è¾ˆå­åœ¨è¿™å®¶å…¬å¸å¹²ä¸‹å»ã€‚</p>
<p>ä½†çœŸå®æƒ…å†µæ˜¯ï¼Œæ´»å„¿è¶Šæ¥è¶Šå¤šï¼Œè™½ç„¶å·¥èµ„ä¹Ÿåœ¨æ¶¨ï¼Œä½†å·¥ä½œé‡çš„ç¡®è¶Šæ¥è¶Šå¤§ï¼Œç²¾åŠ›æœ‰ç‚¹æ”¯æ’‘ä¸ä½äº†ã€‚å› ä¸ºå·¥ä½œé‡å¤ªå¤§ï¼ŒåŠ ä¸Šç²¾ç¥å‹åŠ›æ¯”è¾ƒå¤§ï¼Œåæ¥æˆ‘ç¦»èŒäº†ã€‚ç¦»èŒä¹‹å‰ï¼Œæˆ‘ä¸€ç›´æƒ³çš„æ˜¯èƒ½åœ¨è¿™å®¶å…¬å¸â€œå…»è€â€ï¼Œå·¥ä½œåˆ°åº•ã€‚ä½†å®é™…ä¸Šï¼Œä¸€æ—¦å…¥äº†ç¨‹åºå‘˜è¿™ä¸ªè¡Œä¸šå°±ä¼šå‘ç°ï¼Œæ ¹æœ¬ä¸æ˜¯é‚£ä¹ˆå›äº‹ï¼Œå¤§éƒ¨åˆ†è¿˜æ˜¯åƒé’æ˜¥é¥­ã€‚</p>
<p>35å²è¿™ä¸ªè¯é¢˜ä¸æ˜¯æ¢—ï¼Œæ˜¯çœŸå®å­˜åœ¨çš„ç°å®ã€‚æ‰€ä»¥åœ¨æœ‰é™çš„æ—¶é—´é‡Œï¼Œæœ€å¥½çš„ç­–ç•¥å°±æ˜¯å¤šè·³æ§½æ‹¿åˆ°é«˜è–ªï¼Œç„¶åæ”’é’±ï¼Œä¸è¦ä¹±èŠ±é’±ã€‚æˆ‘å¯èƒ½æ¯”è¾ƒå¥½çš„ä¸€ç‚¹æ˜¯æ²¡æ€ä¹ˆä¹±èŠ±é’±ï¼Œæ‰€ä»¥å¤±ä¸šæ—¶å†…å¿ƒä¸å¤ªç„¦è™‘ï¼Œå› ä¸ºæœ‰ä¸€å®šå‚¨è“„å¯ä»¥ç»´æŒç”Ÿæ´»ä¸€æ®µæ—¶é—´ã€‚</p>
<p>å¦‚æœæƒ…å†µæ›´å¥½ä¸€ç‚¹ï¼Œå¤šé‡åˆ°åƒç¬¬äºŒå®¶é‚£æ ·çš„å…¬å¸å’Œé¢†å¯¼ï¼Œè·¯ä¼šèµ°å¾—å®½å¾—å¤šã€‚å¾ˆå¤šæ—¶å€™ï¼Œå¤§å®¶æ­£å¥½æœ‰éœ€æ±‚å°±ç¢°é¢ï¼Œäº¤æ˜“åšæˆå°±èƒ½æŒ£é’±ã€‚ä¸è¿‡ï¼Œè®¤è¯†çš„èµ„æºè¶³å¤Ÿå¤šçš„è¯ï¼Œé¢„è®¡å¯ä»¥ä¸ç”¨ä¸Šç­ï¼Œç›´æ¥æ¥ç§æ´»æˆ–åˆä½œé¡¹ç›®ï¼Œè‡ªå·±åšä¹Ÿå¯ä»¥ã€‚</p>
<p>è¿™æ˜¯æˆ‘ç°åœ¨çš„ä¸€ç‚¹å°æ„Ÿæ‚Ÿï¼šè¶å¹´è½»ä¸€å®šè¦å¤šè·³æ§½ï¼Œä¸€å®¶å…¬å¸åˆ‡è®°ä¸èƒ½è¶…è¿‡3å¹´ï¼Œå°¤å…¶æ˜¯å’Œé¢†å¯¼ä¸å¤ªå¯¹ä»˜çš„æ—¶å€™ï¼Œå¾—èµ¶ç´§èµ°ï¼Œä¸è¦æƒ³ç€ç£¨åˆã€‚äººå’Œäººç›¸å¤„ï¼Œæˆ‘æœ‰ä¸ªæ„Ÿå—ï¼Œå¦‚æœä¸€å¼€å§‹å°±ä¸å¤ªåˆå¾—æ¥ï¼Œä»¥åå†æ€ä¹ˆåŠªåŠ›ä¹Ÿéš¾åˆå¾—æ¥ï¼Œè¦ç›¸ä¿¡è‡ªå·±çš„ç›´è§‰ã€‚
ç›¸ä¿¡è‡ªå·±çš„ç›´è§‰ã€‚è¿™ä¸ªç¤¾ä¼šæœ€å¥½çš„ç­–ç•¥æ˜¯é€‰æ‹©è€Œéé€‚åº”ï¼Œå› ä¸ºå½“ä¸‹ç¤¾ä¼šçš„é€‰æ‹©æœºä¼šå®åœ¨å¤ªå¤šäº†â€”â€”å…¬å¸æ•°é‡å¤šåˆ°éš¾ä»¥æƒ³è±¡ï¼Œè¿˜æœ‰ä¸åŒåŸå¸‚ã€å„ç±»é¢†åŸŸå¯ä¾›æŒ‘é€‰ã€‚ä½ è‡³å°‘è¦æ‰¾åˆ°ä¸€å®¶è®©è‡ªå·±æ„Ÿè§‰èˆ’æœçš„å…¬å¸ï¼Œå¤§å®¶ç›¸å¤„æ„‰å¿«ï¼Œé™¤äº†åŒäº‹å…³ç³»å¤–ï¼Œåˆ†å¼€åè¿˜èƒ½åšæœ‹å‹ï¼Œè¿™æ ·çš„çŠ¶æ€æ˜¯æœ€å¥½çš„ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œå¤§å®¶èƒ½ç›¸äº’å»ºç«‹é“¾æ¥ï¼Œæ—¥åé‡åˆ°äº‹æƒ…å¯ä»¥å½¼æ­¤å¸®è¡¬ã€‚è¿™æˆ–è®¸æ˜¯å·¥ä½œé™¤äº†èµšé’±ä¹‹å¤–çš„å¦ä¸€å±‚æ„ä¹‰ï¼šå¦‚æœå•çº¯æŠŠä¸Šç­çœ‹ä½œèµšé’±çš„é€”å¾„ï¼Œæ”¶ç›Šä¼šå¾ˆæœ‰é™ï¼›ä½†å¦‚æœèƒ½é¢å¤–ç§¯ç´¯äººé™…å…³ç³»ï¼Œæ¯”å¦‚è®¤è¯†æœ‰æ„æ€çš„äººã€å½¼æ­¤æˆä¸ºæœ‹å‹ã€äº’ç›¸å€Ÿé‰´ã€é‡äº‹äº’åŠ©ã€åˆä½œå…±èµ¢ï¼Œè¿™æ ·çš„æ¨¡å¼ä¼šæ›´å¥½ã€‚</p>
<p>æˆ‘ç°åœ¨æ‰¾å·¥ä½œä¹Ÿåå‘è¿™ä¸ªæ–¹å‘ï¼Œä¸å†æ˜¯ä¸ºäº†çº¯ç²¹æŒ£é’±è€Œæ‰¾å·¥ä½œã€‚æ¯•ç«Ÿå¦‚æˆ‘åˆšæ‰æ‰€è¯´ï¼Œå•çº¯èµšé’±çš„æ”¶ç›Šæ˜¯æœ‰ä¸Šé™çš„ã€‚æ‰€ä»¥æœ€åæˆ‘å†æ€»ç»“ä¸€ä¸‹è‡ªå·±çš„è§‚ç‚¹ï¼šè¶å¹´è½»è¦å¤šå°è¯•ã€å¤šæ‰¾å·¥ä½œï¼Œæ‰¾åˆ°é€‚åˆè‡ªå·±ä¸”èƒ½å…±äº‹çš„å›¢é˜Ÿï¼Œä½†æ¯ä»½å·¥ä½œæœ€é•¿ä¸è¦è¶…è¿‡ 3 å¹´ã€‚</p>
<p>å¦‚æ­¤å¾ªç¯ä¸‹å»ï¼Œè‹¥è¿æ°”å¥½ï¼Œ10 å¹´èŒä¸šç”Ÿæ¶¯é‡Œèƒ½æ¢ 4 ä»½å·¦å³é è°±çš„å·¥ä½œï¼Œåç»­å¤§å®¶è¿˜æœ‰åˆä½œæœºä¼šï¼Œè¿™æ ·å°±å¾ˆä¸é”™äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android Studio Otter 2 Feature å‘å¸ƒï¼Œæœ€å€¼å¾—æ›´æ–°çš„ Android Studio]]></title>    <link>https://juejin.cn/post/7579999793320247302</link>    <guid>https://juejin.cn/post/7579999793320247302</guid>    <pubDate>2025-12-05T09:19:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579999793320247302" data-draft-id="7579999793320181766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android Studio Otter 2 Feature å‘å¸ƒï¼Œæœ€å€¼å¾—æ›´æ–°çš„ Android Studio"/> <meta itemprop="keywords" content="Android,Flutter,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T09:19:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android Studio Otter 2 Feature å‘å¸ƒï¼Œæœ€å€¼å¾—æ›´æ–°çš„ Android Studio
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:19:52.000Z" title="Fri Dec 05 2025 09:19:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Android Studio Otter 2 Feature ç»ˆäºå‘å¸ƒäº†ï¼Œäº‹å®ä¸Šè¿™æ˜¯æœ€å€¼å¾—æ›´æ–°çš„ä¸€ä¸ªç‰ˆæœ¬ã€‚è‚¯å®šä¼šæœ‰äººè¯´ä¸ºä»€ä¹ˆï¼Ÿå¾ˆç®€å•ï¼Œå› ä¸ºå®ƒå†…ç½®äº† Gemini3 ï¼Œå¹¶ä¸” Free é¢åº¦è¿˜å¾ˆä¸é”™ï¼Œæ¯•ç«Ÿä¹‹å‰çš„ antigravity é—¨æ§›è¾ƒé«˜ï¼Œå¾ˆå¤šäººå¯èƒ½éƒ½ä½“éªŒä¸ä¸Šã€‚</p>
<p><strong>æ‰€ä»¥æœ¬æ¬¡çš„æœ€ç»ˆç¨³å®šç‰ˆæœ¬å¢å¼ºäº† Agent æ¨¡å¼ï¼Œé…å¤‡äº†å…¨æ–°çš„ Android çŸ¥è¯†åº“ï¼Œä»è€Œæé«˜äº†å‡†ç¡®æ€§</strong>ï¼Œå¹¶æä¾›äº†è¯•ç”¨å…¨æ–° Gemini 3 å‹å·çš„é€‰é¡¹ï¼ŒåŒæ—¶è¿˜æ•´åˆäº† IntelliJ IDEA 2025.2 å¹³å°çš„æ‰€æœ‰æœ€æ–°ç¨³å®šæ€§å’Œæ€§èƒ½æ”¹è¿›ï¼ŒåŒ…æ‹¬ Kotlin ç¼–è¯‘å™¨å’Œç»ˆç«¯çš„æ”¹è¿›ç­‰ã€‚</p>
<h2 data-id="heading-0">Access to Gemini 3Â Â </h2>
<p>æœ¬æ¬¡ Android Studio ä¸­å¯ä»¥ä½¿ç”¨æœ€æ–°å‹å· Gemini 3 Pro Preview çš„åŠŸèƒ½ï¼Œè¿™æ˜¯ Gemini ç›®å‰åœ¨ç¼–ç å’Œ Agent åŠŸèƒ½æ–¹é¢è¡¨ç°éƒ½æœ€ä½³çš„ç‰ˆæœ¬ï¼Œ<strong>ç›®å‰æ­£é€æ­¥å‘ä½¿ç”¨å…è´¹é»˜è®¤æ¨¡å¼çš„å¼€å‘è€…å¼€æ”¾æœ‰é™çš„ Gemini 3 è®¿é—®æƒé™ï¼ˆ Toke æ•°é‡ä¸Šé™ä¸º 100 ä¸‡ï¼‰</strong>ï¼Œå¦‚éœ€æ›´é«˜çš„ä½¿ç”¨ç‡é™åˆ¶å’Œæ›´é•¿çš„ä»£ç†æ¨¡å¼ä¼šè¯æ—¶é—´ï¼Œå¯èƒ½å°±éœ€è¦æ·»åŠ ä»˜è´¹çš„ Gemini API å¯†é’¥æˆ–ä½¿ç”¨ Gemini Code Assist ä¼ä¸šç‰ˆå¥—é¤ã€‚</p>
<p>è™½ç„¶å¤§å‹è¯­è¨€æ¨¡å‹çš„è®­ç»ƒèƒ½å¤Ÿæä¾›å¤§é‡çš„çŸ¥è¯†ï¼Œéå¸¸é€‚åˆå¤„ç†å¸¸è§ä»»åŠ¡ï¼ˆä¾‹å¦‚åˆ›å»º Compose UIï¼‰ï¼Œä½†è®­ç»ƒä¼šåœ¨å›ºå®šæ—¥æœŸç»“æŸï¼Œå¯¼è‡´æ¨¡å‹æ— æ³•åŠæ—¶æ›´æ–°æ–°çš„åº“å’Œæœ€ä½³å®è·µã€‚</p>
<p>æ­¤å¤–ï¼Œç”±äºå¿…è¦çš„è®­ç»ƒæ•°æ®ç¨€ç¼ºï¼Œå®ƒä»¬åœ¨å¤„ç†å°ä¼— API æ—¶ä¹Ÿæ•ˆæœä¸ä½³ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒAndroid Studio çš„Agent æ¨¡å¼ç°åœ¨é…å¤‡äº†Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fr%2Fstudio-ui%2Fgemini%2Fandroid-knowledge-base" target="_blank" title="https://developer.android.com/r/studio-ui/gemini/android-knowledge-base" ref="nofollow noopener noreferrer">Android çŸ¥è¯†åº“Â </a>ï¼Œä»è€Œæ˜¾è‘—æé«˜å‡†ç¡®æ€§å¹¶å‡å°‘é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œ<strong>Agent ä¸å†ä»…ä»…ä¾èµ–äºå…¶è®­ç»ƒæ•°æ®ï¼Œè€Œæ˜¯å¯ä»¥åœ¨å›ç­”ç”¨æˆ·é—®é¢˜ä¹‹å‰ä¸»åŠ¨æŸ¥é˜…æ¥è‡ªå®˜æ–¹æ¥æºï¼ˆä¾‹å¦‚ Android å¼€å‘è€…æ–‡æ¡£ã€Firebaseã€Google Developers å’Œ Kotlin æ–‡æ¡£ï¼‰çš„æœ€æ–°æ–‡æ¡£</strong>ã€‚</p>
<blockquote>
<p>è¿™å¯¹äºä»¥å‰ä¸€ç›´å‡ºç° API è¿‡è€ï¼Œç‰ˆæœ¬ä¸€ç›´æœ‰é—®é¢˜çš„ç”¨æˆ·æ¥è¯´ï¼Œä¸è¨€è€Œå–»çš„ä½“éªŒäº†å§ï¼Ÿ</p>
</blockquote>
<p>å¦å¤– Android çŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯å­˜å‚¨åœ¨ Android Studio ä¸­ï¼Œå…¶å†…å®¹ä¼šåœ¨åå°å®šæœŸè‡ªåŠ¨æ›´æ–°ï¼Œå› æ­¤æ— è®ºä½¿ç”¨å“ªä¸ª LLM è¿›è¡Œ AI è¾…åŠ©ï¼Œè¿™ä¸ªåŠŸèƒ½éƒ½æ˜¯å¯ç”¨çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6819be769eb4daaae002d2db86a5553~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765531192&amp;x-signature=1vuPn3vgRFj24dsmFoOsMano2b0%3D" alt="" loading="lazy"/></p>
<p>å½“ Agnet æ¨¡å¼æ£€æµ‹åˆ°éœ€è¦æ›´å¤šä¸Šä¸‹æ–‡ä¿¡æ¯æ—¶ï¼Œè¿™ä¸ªåŠŸèƒ½å°†è‡ªåŠ¨å¯ç”¨ï¼Œ ä½ ä¼šçœ‹åˆ°é¢å¤–çš„è¯´æ˜æ–‡å­—ã€‚ä½†æ˜¯å¦‚æœä½ å¸Œæœ›ä»£ç†æ¨¡å¼æ›´é¢‘ç¹åœ°å¼•ç”¨æ–‡æ¡£ï¼Œå¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Fgemini%2Frules" target="_blank" title="https://developer.android.com/studio/gemini/rules" ref="nofollow noopener noreferrer"><strong>Rules</strong></a> ä¸­æ·»åŠ ç±»ä¼¼â€œè¯·å‚é˜… Android æ–‡æ¡£ä»¥è·å–æŒ‡å¯¼â€çš„è¯­å¥Â ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ea4cb84c7ab47599db85e5a42c599ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765531192&amp;x-signature=eEp9cvSbMRi2Caxiz9zr1OcvNPs%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">Backup and SyncÂ Â </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Fintro%2Fstudio-config%23ExportImportSettings" target="_blank" title="https://developer.android.com/studio/intro/studio-config#ExportImportSettings" ref="nofollow noopener noreferrer">å¤‡ä»½ä¸åŒæ­¥åŠŸèƒ½</a> è®©å¼€å‘è€…èƒ½å¤Ÿä»¥å…¨æ–°çš„æ–¹å¼åœ¨æ‰€æœ‰ Android Studio å®‰è£…ä¸­ä¿æŒä¸ªæ€§åŒ–ç¯å¢ƒçš„ä¸€è‡´æ€§ã€‚</p>
<p>ç°åœ¨ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ Google å¸æˆ·å°†è®¾ç½®ï¼ˆåŒ…æ‹¬åå¥½çš„é”®ç›˜æ˜ å°„ã€ä»£ç ç¼–è¾‘å™¨è®¾ç½®ã€ç³»ç»Ÿè®¾ç½®ç­‰ï¼‰å¤‡ä»½åˆ°äº‘å­˜å‚¨ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒä½¿ç”¨ JetBrains è´¦æˆ·è¿›è¡Œå¤‡ä»½ä¸åŒæ­¥ï¼Œæ–¹ä¾¿åŒæ—¶ä½¿ç”¨ IntelliJ å’Œ Android Studio çš„å¼€å‘è€…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f436adcb299a44b48cfd88dcfce39770~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765531192&amp;x-signature=7vpjbpD4H25BKoTvdRe3pRZwRwA%3D" alt="" loading="lazy"/></p>
<p>è€Œä½ åªéœ€ç‚¹å‡» IDE å³ä¸Šè§’çš„å¤´åƒç™»å½• Google è´¦æˆ·ï¼Œæˆ– Settings &gt; Backup and Sync æˆæƒ Android Studio è®¿é—®å¸æˆ·çš„å­˜å‚¨ç©ºé—´åï¼Œå°±å¯ä»¥å®Œå…¨æ§åˆ¶è¦åŒæ­¥çš„åº”ç”¨æ•°æ®ç±»åˆ«ã€‚</p>
<p>å¦‚æœæ˜¯é¦–æ¬¡åœ¨æ–°è®¾å¤‡ä¸Šè¿›è¡ŒåŒæ­¥ï¼ŒAndroid Studio ä¼šæä¾›ä¸‹è½½ç°æœ‰è¿œç¨‹è®¾ç½®æˆ–å°†å½“å‰æœ¬åœ°è®¾ç½®ä¸Šä¼ åˆ°äº‘ç«¯çš„é€‰é¡¹ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœæ”¹å˜ä¸»æ„ä¹Ÿå¯ä»¥éšæ—¶ä»è®¾ç½®èœå•ä¸­è½»æ¾ç¦ç”¨ Backup and Sync ï¼Œè¿™ä¸ªåŠŸèƒ½ç°åœ¨ä» Android Studio Otter ç‰ˆæœ¬å¼€å§‹ç¨³å®šæä¾›æ”¯æŒã€‚</p>
<h2 data-id="heading-2">æ¥è‡ª Android Studio çš„é€šä¿¡</h2>
<p>ç°åœ¨å¼€å‘è€…è¿˜å¯ä»¥é€‰æ‹©ç›´æ¥æ¥æ”¶æ¥è‡ª Android Studio å›¢é˜Ÿçš„èµ„è®¯ã€‚è¿™æ ·å°±å¯ä»¥åœ¨é‡è¦çš„äº§å“æ›´æ–°ã€æ–°åŠŸèƒ½å’Œæ–°åº“å‘å¸ƒåç¬¬ä¸€æ—¶é—´æ”¶åˆ°ç”µå­é‚®ä»¶å’Œé€šçŸ¥ã€‚</p>
<p>æ­£å¸¸ç™»å½•æ—¶å¯èƒ½ä¼šä»¥çœ‹åˆ°è¿™ä¸ªé€‰é¡¹ï¼Œå¯ä»¥éšæ—¶é€šè¿‡ Â Settings &gt; Tools &gt; Google Accounts &gt; Communications æ¥æ›´æ”¹åå¥½è®¾ç½®Â ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d72dd8331d084cfe98684bc4a9bb56ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765531192&amp;x-signature=53WZ%2FgBxA7kO1Kfs7Qt%2Fdk%2F7pCw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">IntelliJ åˆå¹¶æ›´æ–°</h2>
<p>å¦å¤–è¿™ä¸ªç‰ˆæœ¬åŒ…å«äº†Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jetbrains.com%2Fidea%2Fwhatsnew%2F2025-2%2F" target="_blank" title="https://www.jetbrains.com/idea/whatsnew/2025-2/" ref="nofollow noopener noreferrer">IntelliJ IDEA 2025.2 å¹³å°</a>çš„æ‰€æœ‰ç¨³å®šæ€§å’Œè´¨é‡æ”¹è¿›ï¼š</p>
<ul>
<li>Kotlin K2 æ¨¡å¼ï¼šÂ é«˜ç‰ˆæœ¬æå‡äº† Kotlin ä»£ç åˆ†æçš„ç¨³å®šæ€§ï¼Œæ–°å¢äº†å¤šé¡¹ä»£ç æ£€æŸ¥ï¼Œå¹¶å¢å¼ºäº† Kotlin è„šæœ¬æ‰§è¡Œçš„å¯é æ€§</li>
<li>ç»ˆç«¯æ€§èƒ½ï¼šÂ é›†æˆç»ˆç«¯é€Ÿåº¦æ˜¾è‘—æå‡ï¼Œæ¸²æŸ“æ•ˆæœä¹Ÿå¾—åˆ°äº†å¤§å¹…æ”¹è¿›ï¼Œå¯¹äº Bash å’Œ Zshï¼Œæœ¬æ¬¡æ›´æ–°è¿˜å¼•å…¥äº†ä¸€äº›è§†è§‰ä¸Šçš„ç»†å¾®ä¼˜åŒ–ï¼Œä½†å¹¶æœªå½±å“æˆ–æ”¹å˜æ ¸å¿ƒ shell çš„è¡Œä¸ºã€‚</li>
</ul>
<h2 data-id="heading-4">æœ€å</h2>
<p>è¿™ä¸ªç‰ˆæœ¬å…¶ä»–éƒ½æ˜¯è™šçš„ï¼Œä½ åªéœ€è¦çŸ¥é“ï¼Œèƒ½ Free Gemini 3 Pro ï¼Œè¿˜æœ‰ä»€ä¹ˆç†ç”±ä¸æ›´æ–°ï¼Ÿ</p>
<h2 data-id="heading-5">åŸæ–‡é“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid-developers.googleblog.com%2F2025%2F12%2Fandroid-studio-otter-2-feature-drop-is.html" target="_blank" title="https://android-developers.googleblog.com/2025/12/android-studio-otter-2-feature-drop-is.html" ref="nofollow noopener noreferrer">android-developers.googleblog.com/2025/12/andâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS è¿›é˜¶ï¼šæ‰‹å†™ instanceof ä¸JSç»§æ‰¿å…¨é¢è®²è§£]]></title>    <link>https://juejin.cn/post/7579995747170910243</link>    <guid>https://juejin.cn/post/7579995747170910243</guid>    <pubDate>2025-12-05T09:19:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579995747170910243" data-draft-id="7579921879973265454" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS è¿›é˜¶ï¼šæ‰‹å†™ instanceof ä¸JSç»§æ‰¿å…¨é¢è®²è§£"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-12-05T09:19:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—å±±å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/1795929588117962"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS è¿›é˜¶ï¼šæ‰‹å†™ instanceof ä¸JSç»§æ‰¿å…¨é¢è®²è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1795929588117962/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—å±±å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:19:22.000Z" title="Fri Dec 05 2025 09:19:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼š</h2>
<blockquote>
<p>åœ¨ JavaScript çš„æ±Ÿæ¹–é‡Œï¼Œ"å¯¹è±¡"è¿™ä¸ªè¯å¬èµ·æ¥å¾ˆç¾å¥½ï¼ˆæ¯•ç«Ÿæˆ‘ä»¬éƒ½ç¼ºå¯¹è±¡ï¼‰ï¼Œä½†ä¸€æ—¦æ¶‰åŠåˆ°Â <strong>åŸå‹é“¾</strong>Â å’ŒÂ <strong>ç»§æ‰¿</strong>ï¼Œæ— æ•°å‰ç«¯erå°±åƒé™·å…¥äº†ä¸€åœºå¤§å‹â€œå®¶åº­ä¼¦ç†å‰§â€ï¼š</p>
<ul>
<li>"æˆ‘æ˜¯è°ï¼Ÿæˆ‘ä»å“ªé‡Œæ¥ï¼Ÿ"</li>
<li>"ä¸ºä»€ä¹ˆæ”¹äº†å„¿å­çš„å±æ€§ï¼Œçˆ¹çš„å±æ€§ä¹Ÿå˜äº†ï¼Ÿ"</li>
<li>"Object å’Œ Function åˆ°åº•è°æ˜¯è°çš„çˆ¸çˆ¸ï¼Ÿ"</li>
</ul>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æŠŠè¿™äº›â€œå®¶åŠ¡äº‹â€æ–­ä¸ªæ˜ç™½ã€‚æˆ‘ä»¬å°†å…ˆä»æ‰‹å†™Â instanceofÂ å…¥æ‰‹ï¼Œå½»åº•ææ‡‚è¡€ç¼˜å…³ç³»ï¼Œå†çœ‹çœ‹ JS ç»§æ‰¿æ˜¯å¦‚ä½•ä»â€œåˆ€è€•ç«ç§â€è¿›åŒ–åˆ°â€œç°ä»£æ–‡æ˜â€çš„ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å¯»æ ¹é—®ç¥– â€”â€” æ‰‹å†™ instanceof ğŸ•µï¸â€â™€ï¸</h3>
<p>åœ¨åˆ¤æ–­æ•°æ®ç±»å‹æ—¶ï¼ŒtypeofÂ å¯¹äºå¯¹è±¡ç±»å‹ï¼ˆArray, Object, nullï¼‰å¾€å¾€åŠ›ä¸ä»å¿ƒï¼Œè¿™æ—¶å€™å°±éœ€è¦Â instanceofÂ å‡ºåœºäº†ã€‚</p>
<h4 data-id="heading-2">1.1 æ ¸å¿ƒåŸç†</h4>
<p>A instanceof BÂ çš„æœ¬è´¨å¹¶ä¸æ˜¯åˆ¤æ–­ A æ˜¯å¦ç”± B åˆ›å»ºçš„ï¼Œè€Œæ˜¯ï¼š<br/>
ğŸ‘‰Â <strong>B çš„åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ï¼Œæ˜¯å¦å‡ºç°åœ¨ A çš„åŸå‹é“¾ä¸Šã€‚</strong></p>
<p>è¿™å°±å¥½æ¯”æŸ¥å®¶è°±ï¼šåªè¦åœ¨ä½ çš„ç¥–å®—åå…«ä»£é‡Œå‘ç°äº† B çš„åå­—ï¼Œé‚£ä½ ä»¬å°±æ˜¯ä¸€å®¶äººã€‚</p>
<h4 data-id="heading-3">1.2 çµé­‚ä¸‰é—®ï¼ˆåŸºç¡€å¤ä¹ ï¼‰</h4>
<p>åœ¨æ‰‹å†™ä¹‹å‰ï¼Œå¿…é¡»ç†æ¸…è¿™ä¸‰ä¸ªå±æ€§ï¼š</p>
<ol>
<li><strong>prototypeï¼ˆæ˜¾å¼åŸå‹ï¼‰</strong> ï¼šå‡½æ•°çš„ä¸“å±å±æ€§ï¼Œç›¸å½“äº<strong>äº§å“è¯´æ˜ä¹¦</strong>ã€‚</li>
<li><strong><strong>proto</strong>ï¼ˆéšå¼åŸå‹ï¼‰</strong> ï¼šå¯¹è±¡ï¼ˆå®ä¾‹ï¼‰çš„å±æ€§ï¼Œç›¸å½“äº<strong>äº§åœ°è´´çº¸</strong>ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„ prototypeã€‚</li>
<li><strong>constructor</strong>ï¼šåŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼ŒæŒ‡å›æ„é€ å‡½æ•°æœ¬èº«ï¼ˆè¯´æ˜ä¹¦ä¸Šå†™ç€â€œæŸæŸåˆ¶é€ â€ï¼‰ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35cb8746954547c19f453ca15d8f91b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765531162&amp;x-signature=jHp4DBpy9jdzsjxzspPX9rvFMuo%3D" alt="1F511784-A8CD-4CA1-A988-AEF9823B416E.png" loading="lazy"/></p>
<h4 data-id="heading-4">1.3 æ‰‹æ’•ä»£ç ï¼šmyInstanceof</h4>
<p>åŸç†ï¼šé¡ºç€å®ä¾‹çš„Â <strong>proto</strong>Â é“¾æ¡ä¸€ç›´å¾€ä¸Šæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡ï¼Œæˆ–è€…æ‰¾åˆ°å®‡å®™å°½å¤´ï¼ˆnullï¼‰ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">/**
 * æ¨¡æ‹Ÿ instanceof åŸç†
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">left</span> - å®ä¾‹å¯¹è±¡ (p)
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">right</span> - æ„é€ å‡½æ•° (Person)
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">myInstanceof</span>(<span class="hljs-params">left, right</span>) {
  <span class="hljs-comment">// 1. è·å–å³ä¾§æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹ï¼ˆç›®æ ‡è¯´æ˜ä¹¦ï¼‰</span>
  <span class="hljs-keyword">let</span> prototype = right.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
  
  <span class="hljs-comment">// 2. è·å–å·¦ä¾§å¯¹è±¡çš„éšå¼åŸå‹ï¼ˆèµ·å§‹æŸ¥å¯»ç‚¹ï¼‰</span>
  <span class="hljs-comment">// æ¨èä½¿ç”¨ Object.getPrototypeOf(left)ï¼Œå…¼å®¹æ€§æ›´å¥½ï¼Œè¿™é‡Œç”¨ __proto__ æ¼”ç¤ºåŸç†</span>
  <span class="hljs-keyword">let</span> proto = left.<span class="hljs-property">__proto__</span>; 

  <span class="hljs-comment">// 3. å¼€å¯å¯»æ ¹ä¹‹æ—…</span>
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-comment">// èµ°åˆ°å°½å¤´äº†è¿˜æ²¡æ‰¾åˆ° -&gt; ä¸æ˜¯è¿™ä¸€å®¶çš„</span>
    <span class="hljs-keyword">if</span> (proto === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-comment">// æ‰¾åˆ°äº†ï¼-&gt; ç¡®å®æ˜¯ä¸€å®¶äºº</span>
    <span class="hljs-keyword">if</span> (proto === prototype) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    
    <span class="hljs-comment">// æ²¡æ‰¾åˆ°ï¼Œç»§ç»­å»çˆ·çˆ·è¾ˆæ‰¾</span>
    proto = proto.<span class="hljs-property">__proto__</span>;
  }
}

<span class="hljs-comment">// --- æµ‹è¯•ä¸€ä¸‹ ---</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myInstanceof</span>(p, <span class="hljs-title class_">Person</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myInstanceof</span>(p, <span class="hljs-title class_">Object</span>)); <span class="hljs-comment">// true (æ‰€æœ‰äººéƒ½æ˜¯ Object çš„åä»£)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myInstanceof</span>(p, <span class="hljs-title class_">Array</span>));  <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-5">äºŒã€ ç»ˆæéš¾ç‚¹ï¼šFunction ä¸ Object çš„â€œé¸¡ç”Ÿè›‹â€é—®é¢˜ ğŸ¥š</h3>
<p>è¿™æ˜¯é¢è¯•ä¸­çš„<strong>æ­»äº¡è€ƒé¢˜</strong>ï¼Œèƒ½æŠŠè¿™æ®µé€»è¾‘ç†é¡ºï¼Œä½ çš„åŸå‹é“¾åŠŸåº•å°±è¶…è¶Šäº† 90% çš„äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18eb5cfa91e14d3f8b80641a50956d55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765531162&amp;x-signature=9ZH5iMm%2FeppYBCNkXGjZ%2B8J2WBc%3D" alt="image.png" loading="lazy"/></p>
<p>è¯·çœ‹è¿™å‡ è¡Œè¯¡å¼‚çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span>); <span class="hljs-comment">// true</span>
</code></pre>
<p><strong>è§£æï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸‡ç‰©çš†å¯¹è±¡</strong>ï¼šæ‰€æœ‰çš„å¯¹è±¡ï¼ŒåŸå‹é“¾çš„é¡¶ç«¯éƒ½æ˜¯Â Object.prototypeã€‚</p>
<ul>
<li>Object.prototype.__proto __ === nullÂ (å®‡å®™å°½å¤´)ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡</strong>ï¼šæ‰€æœ‰çš„å‡½æ•°ï¼ˆåŒ…æ‹¬Â ObjectÂ æ„é€ å‡½æ•°ã€FunctionÂ æ„é€ å‡½æ•°ï¼‰ï¼Œéƒ½æ˜¯Â FunctionÂ çš„å®ä¾‹ã€‚</p>
<ul>
<li>Object.__proto __ === Function.prototypeÂ (Object æ˜¯è¢« Function ç”Ÿäº§å‡ºæ¥çš„)ã€‚</li>
<li>Function.__proto __ === Function.prototypeÂ (Function è‡ªå·±ç”Ÿäº†è‡ªå·±ï¼Ÿ)ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-6">åŸå‹é“¾ä¸­çš„å…³ç³»ï¼ˆå…³é”®ï¼ï¼‰</h4>
<p>JavaScript çš„å¯¹è±¡ç³»ç»ŸåŸºäº<strong>åŸå‹é“¾ï¼ˆprototype chainï¼‰</strong> ï¼Œæ¥çœ‹å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<h5 data-id="heading-7">1. æ‰€æœ‰å‡½æ•°éƒ½æœ‰Â <code>prototype</code>Â å±æ€§</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"/>) {}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// { constructor: Foo }</span>
</code></pre>
<ul>
<li>è¿™ä¸ªÂ <code>prototype</code>Â å¯¹è±¡ä¼šè¢«ç”¨ä½œ<strong>é€šè¿‡Â <code>new Foo()</code>Â åˆ›å»ºçš„å®ä¾‹çš„åŸå‹</strong>ã€‚</li>
</ul>
<h5 data-id="heading-8">2. æ‰€æœ‰å¯¹è±¡éƒ½æœ‰Â <code>__proto__</code>ï¼ˆæˆ–é€šè¿‡Â <code>Object.getPrototypeOf</code>Â è®¿é—®ï¼‰</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>
</code></pre>
<h5 data-id="heading-9">3. å‡½æ•°çš„åŸå‹é“¾</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"/>) {}

<span class="hljs-comment">// Foo æ˜¯ä¸€ä¸ªå‡½æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Foo</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Function.prototype æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// Object.prototype æ˜¯åŸå‹é“¾çš„é¡¶ç«¯ï¼ˆå†å¾€ä¸Šæ˜¯ nullï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span>); <span class="hljs-comment">// null</span>
</code></pre>
<p>æ‰€ä»¥æ•´ä¸ªé“¾æ¡æ˜¯ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title class_">Foo</span> (å‡½æ•°)
  â†’ __proto__ â†’ <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
    â†’ __proto__ â†’ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
      â†’ __proto__ â†’ <span class="hljs-literal">null</span>
</code></pre>
<p>è€Œ <code>Foo.prototype</code>ï¼ˆæ³¨æ„ä¸æ˜¯ <code>Foo.__proto__</code>ï¼‰æ˜¯å°†æ¥å®ä¾‹çš„åŸå‹ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>()
  â†’ __proto__ â†’ <span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
    â†’ __proto__ â†’ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
      â†’ __proto__ â†’ <span class="hljs-literal">null</span>
</code></pre>
<hr/>
<h5 data-id="heading-10">æ€»ç»“ï¼šä¸‰è€…å…³ç³»å›¾</h5>








































<table><thead><tr><th>å®ä½“</th><th>ç±»å‹</th><th>æ˜¯å¯¹è±¡ï¼Ÿ</th><th>æ˜¯å‡½æ•°ï¼Ÿ</th><th>ç”±è°æ„é€ ï¼Ÿ</th></tr></thead><tbody><tr><td>æ™®é€šå¯¹è±¡Â <code>{}</code></td><td>object</td><td>âœ…</td><td>âŒ</td><td><code>Object</code></td></tr><tr><td>æ™®é€šå‡½æ•°Â <code>function f(){}</code></td><td>function</td><td>âœ…</td><td>âœ…</td><td><code>Function</code></td></tr><tr><td><code>Object</code></td><td>function</td><td>âœ…</td><td>âœ…</td><td><code>Function</code></td></tr><tr><td><code>Function</code></td><td>function</td><td>âœ…</td><td>âœ…</td><td><code>Function</code>ï¼ˆè‡ªèº«ï¼‰</td></tr></tbody></table>
<blockquote>
<p>ğŸ¯ <strong>å…³é”®ç»“è®º</strong>ï¼š</p>
<ul>
<li><strong>ä¸€åˆ‡çš†å¯¹è±¡</strong>ï¼ˆé™¤äº†åŸå§‹ç±»å‹ï¼šstring, number, boolean, symbol, bigint, null, undefinedï¼‰ã€‚</li>
<li><strong>å‡½æ•°æ˜¯å¯è°ƒç”¨çš„å¯¹è±¡</strong>ã€‚</li>
<li><strong>æ„é€ å‡½æ•°åªæ˜¯å‡½æ•°çš„ä¸€ç§ä½¿ç”¨æ–¹å¼</strong>ã€‚</li>
<li><strong><code>Object</code>Â å’ŒÂ <code>Function</code>Â äº’ç›¸ä¾èµ–ï¼Œæ„æˆ JS å¯¹è±¡ç³»ç»Ÿçš„åŸºçŸ³</strong>ã€‚</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-11">ç¬¬äºŒç« ï¼šJS ä¸­çš„6ç§ç»§æ‰¿æ–¹å¼ â€”â€” ä»é’é“œåˆ°ç‹è€…</h3>
<p>ææ‡‚äº†åŸå‹é“¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è°ˆâ€œç»§æ‰¿â€äº†ã€‚åœ¨ ES6Â classÂ å‡ºç°ä¹‹å‰ï¼ŒJS ç»§æ‰¿å°±æ˜¯ä¸€éƒ¨â€œè¸©å‘å²â€ã€‚</p>
<p><strong>ç›®æ ‡</strong>ï¼šåˆ›å»ºä¸€ä¸ªå­ç±»Â Catï¼Œç»§æ‰¿çˆ¶ç±»Â AnimalÂ çš„å±æ€§ï¼ˆname, colorï¼‰å’Œæ–¹æ³•ï¼ˆeatï¼‰ã€‚</p>
<h4 data-id="heading-12">å‡†å¤‡å·¥ä½œï¼šçˆ¶ç±»</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hobbies</span> = [<span class="hljs-string">"ç¡è§‰"</span>, <span class="hljs-string">"å¹²é¥­"</span>]; <span class="hljs-comment">// å¼•ç”¨ç±»å‹ï¼Œè¿™ä¹Ÿæ˜¯ä¸ªå‘</span>
}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é˜¿å§†é˜¿å§†~"</span>);
}
</code></pre>
<hr/>
<h4 data-id="heading-13">1.æ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆåªå€Ÿèº«ï¼Œä¸å€Ÿé­‚ï¼‰</h4>
<p>è¿™æ˜¯æœ€ç›´æ¥çš„æ€è·¯ï¼šâ€œæŠŠçˆ¸çˆ¸çš„ä»£ç æ‹¿æ¥åœ¨æˆ‘èº«ä½“é‡Œè·‘ä¸€éâ€ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-comment">// æ ¸å¿ƒï¼šä¿®æ”¹ this æŒ‡å‘ï¼Œæ‰§è¡Œçˆ¶ç±»ä»£ç </span>
    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>); 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">"å°é»‘"</span>, <span class="hljs-string">"é»‘"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">hobbies</span>); <span class="hljs-comment">// ["ç¡è§‰", "å¹²é¥­"] -&gt; å±æ€§ç»§æ‰¿æˆåŠŸ</span>
<span class="hljs-comment">// cat.eat(); // æŠ¥é”™ï¼Uncaught TypeError -&gt; åŸå‹ä¸Šçš„æ–¹æ³•æ²¡ç»§æ‰¿åˆ°</span>
</code></pre>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•ï¼Œè§£å†³äº†å¼•ç”¨å±æ€§å…±äº«é—®é¢˜ï¼ˆæ¯ä¸ªçŒ«æœ‰è‡ªå·±çš„Â hobbiesï¼‰ï¼Œå¯ä¼ å‚ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼š<strong>åªèƒ½ç»§æ‰¿å±æ€§ï¼Œç»§æ‰¿ä¸äº†æ–¹æ³•</strong>ã€‚Animal.prototypeÂ ä¸Šçš„ä¸œè¥¿å®ƒç»Ÿç»Ÿçœ‹ä¸è§ã€‚è¿™å«â€œæœ‰å…¶çˆ¶ä¹‹å½¢ï¼Œæ— å…¶çˆ¶ä¹‹ç¥â€ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-14">2.åŸå‹é“¾ç»§æ‰¿ï¼ˆç®€å•ç²—æš´æ”¹æ—è°±ï¼‰</h4>
<p>ä¸ºäº†æ‹¿åˆ°æ–¹æ³•ï¼Œæˆ‘ä»¬å°è¯•ç›´æ¥ä¿®æ”¹å­ç±»çš„åŸå‹ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}
<span class="hljs-comment">// æ ¸å¿ƒï¼šæŠŠ Cat çš„åŸå‹æŒ‡å‘ä¸€ä¸ª Animal çš„å®ä¾‹</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(); 
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>; <span class="hljs-comment">// ä¿®æ­£èº«ä»½è¯</span>

<span class="hljs-keyword">const</span> cat1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">"å¤§é»„"</span>);
<span class="hljs-keyword">const</span> cat2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">"å°ç™½"</span>);

cat1.<span class="hljs-title function_">eat</span>(); <span class="hljs-comment">// "é˜¿å§†é˜¿å§†" -&gt; æ–¹æ³•ç»§æ‰¿æˆåŠŸï¼</span>

<span class="hljs-comment">// ğŸ’¥ ç¾éš¾ç°åœº</span>
cat1.<span class="hljs-property">hobbies</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">"æŠ“è€é¼ "</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat2.<span class="hljs-property">hobbies</span>); <span class="hljs-comment">// ["ç¡è§‰", "å¹²é¥­", "æŠ“è€é¼ "] -&gt; å°ç™½ä¹Ÿè¢«è¿«å–œæ¬¢æŠ“è€é¼ äº†</span>
</code></pre>
<ul>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ol>
<li><strong>å¼•ç”¨ç¯¡æ”¹</strong>ï¼šæ‰€æœ‰å­ç±»å®ä¾‹å…±ç”¨åŒä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§ï¼Œå…¶ä»–å®ä¾‹å…¨å—å½±å“ã€‚</li>
<li><strong>æ— æ³•ä¼ å‚</strong>ï¼šå®ä¾‹åŒ–å­ç±»æ—¶ï¼Œæ²¡æ³•ç»™çˆ¶ç±»ä¼ å‚ã€‚</li>
</ol>
</li>
</ul>
<hr/>
<h4 data-id="heading-15">3.ç›´æ¥ç»§æ‰¿ Prototypeï¼ˆè¿™ä¹Ÿæ˜¯ä¸ªå‘ï¼‰</h4>
<p>æ—¢ç„¶Â new Animal()Â æµªè´¹å†…å­˜ï¼Œé‚£æˆ‘ç›´æ¥æŒ‡å‘Â Animal.prototypeÂ è¡Œä¸è¡Œï¼Ÿ</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
  <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// å€Ÿç”¨å±æ€§</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-comment">// æ ¸å¿ƒä»£ç ï¼šç›´æ¥å¼•å–»</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; 
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;

<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å–µå–µ"</span>);
};

<span class="hljs-comment">// ç¾éš¾ç°åœº</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>); <span class="hljs-comment">// Cat ï¼ï¼ï¼</span>
</code></pre>
<ul>
<li><strong>ç¼ºç‚¹</strong>ï¼šè¿™æ˜¯<strong>æ¯ç­æ€§</strong>çš„ã€‚å› ä¸ºÂ Cat.prototypeÂ å’ŒÂ Animal.prototypeÂ æŒ‡å‘äº†å†…å­˜ä¸­åŒä¸€ä¸ªå¯¹è±¡ã€‚ä½ æ”¹äº†å„¿å­çš„åŸå‹ï¼ˆåŠ äº†Â sayHiï¼Œæ”¹äº†Â constructorï¼‰ï¼Œçˆ¹çš„åŸå‹ä¹Ÿè¢«æ”¹äº†ã€‚è¿™å«â€œå­å€ºçˆ¶å¿â€ã€‚</li>
</ul>
<h4 data-id="heading-16">Â 4.åœ£æ¯æ¨¡å¼ï¼ˆThe Holy Grailï¼‰â€”â€” ç»å…¸çš„æ‰‹åŠ¨ä¼˜åŒ–</h4>
<p>è¿™æ˜¯åœ¨ ES5Â Object.createÂ æ™®åŠä¹‹å‰ï¼Œä¸šç•Œå…¬è®¤çš„<strong>æœ€ä½³å®è·µ</strong>ï¼Œä¹Ÿæ˜¯é“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹ç¦å¾·ï¼ˆDouglas Crockfordï¼‰æå‡ºçš„ç»å…¸æ–¹æ¡ˆã€‚å°¤é›¨æºª(Vueåˆ›å§‹äºº)æ—©å¹´ä¹Ÿåœ¨è®ºå›æ¨å´‡è¿‡è¿™ç§å†™æ³•ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>æ—¢ç„¶ new Animal() æµªè´¹å†…å­˜ä¸”æœ‰å‰¯ä½œç”¨ï¼Œé‚£æˆ‘å°±é€ ä¸€ä¸ªç©ºçš„æ„é€ å‡½æ•° F æ¥å½“ä¸­é—´äººï¼</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// åœ£æ¯æ¨¡å¼å°è£…å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">inherit</span>(<span class="hljs-params">Child, Parent</span>) {
    <span class="hljs-comment">// 1. åˆ›å»ºä¸€ä¸ªå¹²å‡€çš„ä¸­é—´å•†ï¼ˆç©ºå‡½æ•°ï¼‰</span>
    <span class="hljs-keyword">const</span> F = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {};
    
    <span class="hljs-comment">// 2. æŠŠä¸­é—´å•†çš„åŸå‹æŒ‡å‘çˆ¶ç±»åŸå‹</span>
    F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
    
    <span class="hljs-comment">// 3. å­ç±»ç»§æ‰¿ä¸­é—´å•†çš„å®ä¾‹</span>
    <span class="hljs-comment">// å…³é”®ç‚¹ï¼šnew F() æ²¡æœ‰å®ä¾‹å±æ€§ï¼Œéå¸¸è½»é‡ï¼Œå®Œå…¨é¿å…äº† new Animal() çš„å‰¯ä½œç”¨</span>
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();
    
    <span class="hljs-comment">// 4. ä¿®æ­£èº«ä»½è¯</span>
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;
    
    <span class="hljs-comment">// 5. (å¯é€‰) è®°å½•â€œç”Ÿçˆ¶â€ï¼Œæ–¹ä¾¿ä»¥åæŸ¥æ‰¾æˆ–è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span>
    <span class="hljs-comment">// uber æ˜¯å¾·è¯­â€œsuperâ€çš„æ„æ€ï¼Œè¿™æ˜¯å½“æ—¶çš„å‘½åä¹ æƒ¯</span>
    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">uber</span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// å€Ÿå±æ€§</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}

<span class="hljs-comment">// ä½¿ç”¨åœ£æ¯</span>
<span class="hljs-title function_">inherit</span>(<span class="hljs-title class_">Cat</span>, <span class="hljs-title class_">Animal</span>);

<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">"è´å¡”"</span>);
cat.<span class="hljs-title function_">eat</span>(); <span class="hljs-comment">// æˆåŠŸç»§æ‰¿æ–¹æ³•</span>
</code></pre>
<p><strong>ğŸŒŸ ä¸ºä»€ä¹ˆå®ƒå«â€œåœ£æ¯â€ï¼Ÿ</strong><br/>
å› ä¸ºå®ƒå®Œç¾è§£å†³äº†â€œæ—¢è¦ç»§æ‰¿åŸå‹æ–¹æ³•ï¼Œåˆä¸è¦çˆ¶ç±»å®ä¾‹å±æ€§å¹²æ‰°â€çš„éš¾é¢˜ï¼ŒåŒæ—¶æ²¡æœ‰å¼•å…¥å¤šä½™çš„å†…å­˜å¼€é”€ã€‚</p>
<h4 data-id="heading-17">5.å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆES5 ç»ˆææ–¹æ¡ˆï¼‰ğŸ†</h4>
<p>è¿™æ˜¯ Vue/React æºç ä¸­ï¼ˆES5è½¬è¯‘ç‰ˆï¼‰çœŸæ­£ä½¿ç”¨çš„ç»§æ‰¿æ–¹å¼ã€‚å®ƒç»“åˆäº†ä¸Šé¢ä¸¤ç§æ–¹å¼çš„ä¼˜ç‚¹ï¼Œå¹¶å»æ‰äº†å‰¯ä½œç”¨ã€‚</p>
<p>æ ¸å¿ƒæ€è·¯ï¼š<strong>å±æ€§ç”¨ call å€Ÿç”¨ï¼ŒåŸå‹ç”¨ Object.create è¿æ¥ã€‚</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, color</span>) {
    <span class="hljs-comment">// 1. æ„é€ å‡½æ•°å€Ÿç”¨ï¼šç»§æ‰¿å±æ€§ï¼Œè§£å†³å¼•ç”¨å…±äº«ï¼Œå¯ä¼ å‚</span>
    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>); 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
}

<span class="hljs-comment">// 2. åŸå‹ç»§æ‰¿ï¼šç»§æ‰¿æ–¹æ³•</span>
<span class="hljs-comment">// âŒ åˆ«å†™ Cat.prototype = new Animal() -&gt; ä¼šå¤šæ‰§è¡Œä¸€æ¬¡æ„é€ å‡½æ•°</span>
<span class="hljs-comment">// âœ… ç”¨ Object.create åˆ›å»ºä¸€ä¸ªå¹²å‡€çš„ç©ºå¯¹è±¡ï¼Œå…¶ __proto__ æŒ‡å‘ Animal.prototype</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);

<span class="hljs-comment">// 3. ä¿®æ­£ constructor æŒ‡å‘</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;

<span class="hljs-comment">// 4. æ·»åŠ å­ç±»ç‹¬æœ‰æ–¹æ³•</span>
<span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å–µå–µå–µ~"</span>);
};

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> cat1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">"å¤§æ©˜"</span>, <span class="hljs-string">"æ©˜è‰²"</span>);
cat1.<span class="hljs-property">hobbies</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">"è·‘é…·"</span>);
<span class="hljs-keyword">const</span> cat2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">"è‹±çŸ­"</span>, <span class="hljs-string">"ç°"</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat1.<span class="hljs-property">hobbies</span>); <span class="hljs-comment">// [..., "è·‘é…·"]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat2.<span class="hljs-property">hobbies</span>); <span class="hljs-comment">// [..., "å¹²é¥­"] -&gt; äº’ä¸å¹²æ‰°</span>
cat1.<span class="hljs-title function_">eat</span>(); <span class="hljs-comment">// æ–¹æ³•å¯ç”¨</span>
</code></pre>
<p><strong>ğŸŒŸ ä¸ºä»€ä¹ˆè¿™æ˜¯æœ€å®Œç¾çš„ ES5 æ–¹æ¡ˆï¼Ÿ</strong><br/>
å®ƒé¿å…äº†Â new Animal()Â çš„è°ƒç”¨ï¼Œå› æ­¤ä¸ä¼šåœ¨Â Cat.prototypeÂ ä¸Šäº§ç”Ÿå¤šä½™çš„ã€æ— ç”¨çš„çˆ¶ç±»å±æ€§ï¼Œåªä¿ç•™äº†çº¯å‡€çš„åŸå‹é“¾å…³ç³»ã€‚</p>
<hr/>
<h4 data-id="heading-18">6.ES6 Class extendsï¼ˆç°ä»£æ ‡å‡†ï¼‰</h4>
<p>è™½ç„¶å†™èµ·æ¥åƒ Javaï¼Œä½†åˆ‡è®°ï¼š<strong>JS ä¸­æ²¡æœ‰ç±»ï¼Œclass åªæ˜¯åŸå‹çš„è¯­æ³•ç³–</strong>ã€‚åº•å±‚é€»è¾‘ä¾ç„¶æ˜¯ä¸Šé¢çš„â€œå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿â€ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = <span class="hljs-string">"åŠ¨ç‰©"</span>;
    }
    <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"eating..."</span>);
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, color</span>) {
        <span class="hljs-comment">// ğŸš¨ é‡ç‚¹ï¼šå­ç±» constructor é‡Œå¿…é¡»å…ˆè°ƒç”¨ super()</span>
        <span class="hljs-comment">// å¦åˆ™æ— æ³•ä½¿ç”¨ thisï¼Œå› ä¸º ES6 çš„ç»§æ‰¿æœºåˆ¶æ˜¯å…ˆåˆ›é€ çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡</span>
        <span class="hljs-variable language_">super</span>(); 
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
    }
    <span class="hljs-title function_">say</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"miao~"</span>);
    }
}
</code></pre>
<h5 data-id="heading-19">ğŸ•µï¸â€â™‚ï¸ é¢è¯•æ·±åº¦è¿½é—®ï¼šES6 å’Œ ES5 ç»§æ‰¿çš„åŒºåˆ«ï¼Ÿ</h5>
<p>è¿™æ˜¯åŒºåˆ†åˆçº§å’Œä¸­çº§å¼€å‘è€…çš„å…³é”®ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>this çš„åˆ›å»ºæœºåˆ¶ä¸åŒï¼ˆæœ€é‡è¦ï¼‰ï¼š</strong></p>
<ul>
<li><strong>ES5</strong>ï¼šå…ˆåˆ›å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡Â thisï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°Â thisÂ ä¸Šï¼ˆAnimal.call(this)ï¼‰ã€‚</li>
<li><strong>ES6</strong>ï¼šå­ç±»è‡ªå·±æ²¡æœ‰Â thisï¼Œå¿…é¡»å…ˆè°ƒç”¨Â super()ï¼ˆå³çˆ¶ç±»æ„é€ å‡½æ•°ï¼‰ï¼Œç”±çˆ¶ç±»æ„é€ å‡ºÂ thisï¼Œå†ä¼ ç»™å­ç±»åŠ å·¥ã€‚</li>
<li>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸å†™Â super()Â ä¼šæŠ¥é”™çš„åŸå› ã€‚</li>
</ul>
</li>
<li>
<p><strong>é™æ€æ–¹æ³•çš„ç»§æ‰¿ï¼š</strong></p>
<ul>
<li>ES6 çš„Â classÂ ä¼šæŠŠçˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼ˆstaticï¼‰ä¹Ÿç»§æ‰¿ä¸‹æ¥ï¼Œè€Œæ™®é€šçš„ ES5 åŸå‹é“¾å†™æ³•é»˜è®¤æ˜¯ä¸ä¼šç»§æ‰¿æ„é€ å‡½æ•°æœ¬èº«çš„é™æ€æ–¹æ³•çš„ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-20">ğŸ“ æ€»ç»“ï¼šé¢è¯•çªå‡»å°æŠ„</h3>
<ol>
<li>
<p><strong>instanceof åŸç†</strong>ï¼šé¡ºç€Â __proto __Â é“¾å¾€ä¸Šæ‰¾ï¼Œçœ‹èƒ½ä¸èƒ½æ‰¾åˆ°æ„é€ å‡½æ•°çš„Â prototypeã€‚</p>
</li>
<li>
<p><strong>åŸå‹é“¾å£è¯€</strong>ï¼šå®ä¾‹çš„éšå¼åŸå‹ç­‰äºæ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹ã€‚</p>
</li>
<li>
<p><strong>ç»§æ‰¿æ¨è</strong>ï¼š</p>
<ul>
<li>
<p>æ‰‹å†™ ES5ï¼š<strong>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</strong>ï¼ˆcallÂ å€Ÿå±æ€§ +Â Object.createÂ å€ŸåŸå‹ï¼‰ã€‚</p>
</li>
<li>
<p>é¡¹ç›®å¼€å‘ï¼š<strong>ES6 class extends</strong>ï¼ˆè¯­æ³•ç³–ï¼Œè¯­ä¹‰æ¸…æ™°ï¼‰ã€‚</p>
</li>
</ul>
</li>
<li>
<p>åœ¨ JavaScript ä¸­ï¼Œæ‰€æœ‰å‡½æ•°å¯¹è±¡ï¼ˆåŒ…æ‹¬ <code>Function</code>ã€<code>Object</code>ã€<code>Array</code> ç­‰å†…ç½®æ„é€ å‡½æ•°ï¼‰çš„å†…éƒ¨åŸå‹ï¼ˆ<code>[[Prototype]]</code>ï¼Œå¯é€šè¿‡ <code>__proto__</code> è®¿é—®ï¼‰éƒ½æŒ‡å‘ <code>Function.prototype</code></p>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8715ce9c72b4c25b4775fbf760ef3d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765531162&amp;x-signature=qq6QipyD80jW9rk8ReXhDkJlldg%3D" alt="image.png" loading="lazy"/></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ æ‹’ç»â€œäººå·¥æ™ºéšœâ€ï¼šå¦‚ä½•å†™å‡ºä¸€ä»½é«˜è´¨é‡çš„ agent.mdï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580055720482619418</link>    <guid>https://juejin.cn/post/7580055720482619418</guid>    <pubDate>2025-12-05T08:34:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580055720482619418" data-draft-id="7579935414423322670" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ æ‹’ç»â€œäººå·¥æ™ºéšœâ€ï¼šå¦‚ä½•å†™å‡ºä¸€ä»½é«˜è´¨é‡çš„ agent.mdï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-05T08:34:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="weiwuxian"/> <meta itemprop="url" content="https://juejin.cn/user/4195392102341405"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ æ‹’ç»â€œäººå·¥æ™ºéšœâ€ï¼šå¦‚ä½•å†™å‡ºä¸€ä»½é«˜è´¨é‡çš„ agent.mdï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4195392102341405/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    weiwuxian
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T08:34:16.000Z" title="Fri Dec 05 2025 08:34:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ æ‹’ç»â€œäººå·¥æ™ºéšœâ€ï¼šå¦‚ä½•å†™å‡ºä¸€ä»½é«˜è´¨é‡çš„ agent.mdï¼Ÿ</h2>
<p>åœ¨ AI è¾…åŠ©ç¼–ç¨‹æ—¥ç›Šæ™®åŠçš„ä»Šå¤©ï¼Œä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„æƒ…å†µï¼š</p>
<ul>
<li>æ¯æ¬¡æ–°å¼€ä¸€ä¸ªå¯¹è¯ï¼Œéƒ½è¦è´¹å°½å£èˆŒå‘ AI è§£é‡Šé¡¹ç›®æ˜¯ç”¨ä»€ä¹ˆæ¡†æ¶å†™çš„ã€‚</li>
<li>AI å†™çš„ä»£ç æ€»æ˜¯å¾ˆéš¾çœ‹ï¼Œå®Œå…¨ä¸ç¬¦åˆå›¢é˜Ÿè§„èŒƒã€‚</li>
<li>AI ç”šè‡³ç»å¸¸â€œå¹»è§‰â€ï¼Œå¼•ç”¨ä¸å­˜åœ¨çš„æ–‡ä»¶æˆ–åº“ã€‚</li>
</ul>
<p>å…¶å®ï¼Œè¿™äº›é—®é¢˜å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºä½ æ²¡æœ‰ç»™ AI ä¸€ä¸ªå¥½çš„â€œå…¥èŒæŒ‡å—â€ã€‚å¯¹äº Claude æ¥è¯´æ˜¯Â <code>CLAUDE.md</code>ï¼Œå¯¹äºå¼€æº Agent ä½“ç³»ï¼ˆå¦‚ OpenCode, Zed, Cursor ç­‰ï¼‰ï¼Œè¿™ä¸ªæ–‡ä»¶é€šå¸¸è¢«ç§°ä¸ºÂ <code>AGENTS.md</code>Â æˆ–æˆ‘ä»¬è¿™é‡Œç»Ÿç§°çš„Â <strong><code>agent.md</code></strong>ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠï¼Œå¦‚ä½•å†™å‡ºä¸€ä»½é«˜è´¨é‡çš„Â <code>agent.md</code>ï¼Œè®©ä½ çš„ AI é˜Ÿå‹ç¬é—´å˜èº«èµ„æ·±å·¥ç¨‹å¸ˆï¼ğŸ˜</p>
<h3 data-id="heading-1">æ ¸å¿ƒåŸç†ï¼šLLM æ˜¯â€œå¤±å¿†â€çš„</h3>
<p>é¦–å…ˆæˆ‘ä»¬è¦æ˜ç™½ä¸€ä¸ªæ®‹é…·çš„äº‹å®ï¼š<strong>LLM æ˜¯æ— çŠ¶æ€çš„</strong>ã€‚ æ¯æ¬¡ä½ å¼€å¯ä¸€ä¸ªæ–°çš„ Sessionï¼ŒAI å¯¹ä½ çš„ä»£ç åº“ä¸€æ— æ‰€çŸ¥ã€‚å®ƒå°±åƒä¸€ä¸ªåˆšåˆšå…¥èŒã€ç”šè‡³è¿˜æ²¡æ¥å¾—åŠçœ‹æ–‡æ¡£çš„å®ä¹ ç”Ÿã€‚</p>
<p><code>agent.md</code>Â å°±æ˜¯ä½ å‘ç»™å®ƒçš„ç¬¬ä¸€ä»½<strong>å…¥èŒæ‰‹å†Œ</strong>ã€‚å®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªé»˜è®¤ä¼šè¢«æ³¨å…¥åˆ°æ¯ä¸€æ¬¡å¯¹è¯ä¸Šä¸‹æ–‡ä¸­çš„æ–‡ä»¶ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ol>
<li><strong>ä»é›¶å¼€å§‹</strong>ï¼šAI æ¯æ¬¡éƒ½æ˜¯ç™½çº¸ä¸€å¼ ã€‚</li>
<li><strong>å¿…é¡»æ˜¾å¼å‘ŠçŸ¥</strong>ï¼šé‡è¦çš„ä¿¡æ¯å¿…é¡»æ¯æ¬¡éƒ½å‘Šè¯‰å®ƒã€‚</li>
<li><strong><code>agent.md</code>Â æ˜¯æœ€ä½³è½½ä½“</strong>ï¼šè¿™æ˜¯ç›®å‰æœ€æ ‡å‡†çš„ä¸Šä¸‹æ–‡ä¼ é€’æ–¹å¼ã€‚</li>
</ol>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯å¥½çš„ agent.mdï¼Ÿ</h3>
<p>ä¸€ä»½ä¼˜ç§€çš„Â <code>agent.md</code>Â åº”è¯¥åŒ…å«ä¸‰ä¸ªç»´åº¦çš„ä¿¡æ¯ï¼Œå¸®åŠ© AI å¿«é€Ÿå»ºç«‹å¯¹é¡¹ç›®çš„è®¤çŸ¥ï¼š</p>
<ul>
<li><strong>WHAT (æ˜¯å•¥)</strong> ï¼šæŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Ÿé¡¹ç›®ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆç‰¹åˆ«æ˜¯ Monorepoï¼ï¼‰</li>
<li><strong>WHY (ä¸ºå•¥)</strong> ï¼šé¡¹ç›®çš„æ ¸å¿ƒç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿå„ä¸ªæ¨¡å—çš„èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li><strong>HOW (å’‹æ•´)</strong> ï¼šå¦‚ä½•æ„å»ºï¼Ÿå¦‚ä½•æµ‹è¯•ï¼Ÿæœ‰å“ªäº›ç‰¹æ®Šçš„å·¥å…·é“¾ï¼ˆæ¯”å¦‚ç”¨Â <code>bun</code>Â ä¸ç”¨Â <code>npm</code>ï¼‰ï¼Ÿ</li>
</ul>
<h4 data-id="heading-3">âŒ é”™è¯¯ç¤ºèŒƒï¼šå¤§æ‚çƒ©</h4>
<p>å¾ˆå¤šäººçš„Â <code>agent.md</code>Â æ¨ä¸å¾—æŠŠæ•´ä¸ªå¼€å‘æ–‡æ¡£éƒ½å¡è¿›å»ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é¡¹ç›®æ–‡æ¡£</span>
<span class="hljs-meta">... </span>(æ­¤å¤„çœç•¥ <span class="hljs-number">500</span> è¡Œä»£ç è§„èŒƒ) ...
<span class="hljs-meta">... </span>(æ­¤å¤„çœç•¥ <span class="hljs-number">200</span> è¡Œæ•°æ®åº“ Schema) ...
<span class="hljs-meta">... </span>(æ­¤å¤„çœç•¥ <span class="hljs-number">100</span> è¡Œéƒ¨ç½²è„šæœ¬) ...
</code></pre>
<p><strong>åƒä¸‡åˆ«è¿™ä¹ˆå¹²ï¼</strong> Â ğŸ™…â€â™‚ï¸</p>
<h3 data-id="heading-4">é»„é‡‘æ³•åˆ™ï¼šLess is More (å°‘å³æ˜¯å¤š)</h3>
<h4 data-id="heading-5">1. åˆ«æŠŠ AI å½“ Linter ç”¨</h4>
<p>è¿™æ˜¯æœ€å¸¸è§çš„è¯¯åŒºã€‚<strong>ä¸è¦åœ¨Â <code>agent.md</code>Â é‡Œå†™è¯¦ç»†çš„ä»£ç é£æ ¼æŒ‡å—ï¼</strong></p>
<ul>
<li><strong>æˆæœ¬é«˜</strong>ï¼šLLM çš„æ¨ç†æˆæœ¬æ¯” Linter é«˜å‡ºå‡ ä¸ªæ•°é‡çº§ã€‚</li>
<li><strong>æ•ˆæœå·®</strong>ï¼šLLM æ˜¯åŸºäºæ¦‚ç‡çš„ï¼Œå®ƒå¾ˆéš¾ 100% ä¸¥æ ¼éµå®ˆæ¯ä¸€æ¡ç¼©è¿›è§„åˆ™ã€‚</li>
<li><strong>å ç”¨ä¸Šä¸‹æ–‡</strong>ï¼šå¤§é‡çš„ Style Guide ä¼šæŒ¤å å®è´µçš„ Context Windowï¼Œå¯¼è‡´ AI å¿½ç•¥çœŸæ­£é‡è¦çš„ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<p><strong>âœ… æ­£ç¡®åšæ³•</strong>ï¼š é…ç½®å¥½ ESLint, Prettier æˆ– Biomeã€‚å¦‚æœä»£ç æ ¼å¼ä¸å¯¹ï¼Œè®© Linter æŠ¥é”™ï¼Œç”šè‡³é…ç½® Git Hook è‡ªåŠ¨ä¿®å¤ã€‚æŠŠä¸“ä¸šçš„äº‹äº¤ç»™ä¸“ä¸šçš„å·¥å…·ã€‚</p>
<h4 data-id="heading-6">2. ä¿æŒç²¾ç®€ (&lt; 300 è¡Œ)</h4>
<p>ç ”ç©¶è¡¨æ˜ï¼Œéšç€æŒ‡ä»¤æ•°é‡çš„å¢åŠ ï¼ŒLLM éµå¾ªæŒ‡ä»¤çš„èƒ½åŠ›ä¼šå‘ˆæŒ‡æ•°çº§ï¼ˆå°æ¨¡å‹ï¼‰æˆ–çº¿æ€§ï¼ˆå¤§æ¨¡å‹ï¼‰ä¸‹é™ã€‚ Claude Code çš„ System Prompt å·²ç»åŒ…å«äº†çº¦ 50 æ¡æŒ‡ä»¤ã€‚å¦‚æœä½ å†å¡è¿›å»å‡ ç™¾æ¡ï¼ŒAI å°±ä¼šå¼€å§‹â€œé¡¾æ­¤å¤±å½¼â€ã€‚</p>
<p><strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li>æ ¸å¿ƒÂ <code>agent.md</code>Â æœ€å¥½æ§åˆ¶åœ¨Â <strong>300 è¡Œä»¥å†…</strong>ï¼Œç”šè‡³Â <strong>60 è¡Œä»¥å†…</strong>ã€‚</li>
<li>åªæ”¾<strong>å…¨å±€é€šç”¨</strong>çš„æŒ‡ä»¤ã€‚</li>
</ul>
<h4 data-id="heading-7">3. æ¸è¿›å¼æŠ«éœ² (Progressive Disclosure) ğŸ§ </h4>
<p>å¦‚æœé¡¹ç›®çœŸçš„å¾ˆå¤æ‚ï¼Œæ€ä¹ˆåŠï¼Ÿ å€Ÿé‰´ UI è®¾è®¡ä¸­çš„â€œæ¸è¿›å¼æŠ«éœ²â€åŸåˆ™ï¼š<strong>åªåœ¨éœ€è¦çš„æ—¶å€™ï¼Œæä¾›éœ€è¦çš„ä¿¡æ¯ã€‚</strong></p>
<p>ä¸è¦æŠŠæ‰€æœ‰æ–‡æ¡£éƒ½å †åœ¨Â <code>agent.md</code>Â é‡Œï¼Œè€Œæ˜¯å»ºç«‹ä¸€ä¸ªæ–‡æ¡£ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">agent_docs/
â”œâ”€â”€ building.md       <span class="hljs-comment"># æ„å»ºæŒ‡å—</span>
â”œâ”€â”€ testing.md        <span class="hljs-comment"># æµ‹è¯•æŒ‡å—</span>
â”œâ”€â”€ architecture.md   <span class="hljs-comment"># æ¶æ„è®¾è®¡</span>
â””â”€â”€ database.md       <span class="hljs-comment"># æ•°æ®åº“ Schema</span>
</code></pre>
<p>ç„¶ååœ¨Â <code>agent.md</code>Â é‡Œåšä¸€ä¸ªç´¢å¼•ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Agent Docs</span>
è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒä»¥ä¸‹æ–‡ä»¶ï¼ˆæŒ‰éœ€è¯»å–ï¼‰ï¼š
<span class="hljs-bullet">-</span> <span class="hljs-code">`agent_docs/building.md`</span>: æ„å»ºå’Œè¿è¡Œé¡¹ç›®çš„è¯¦ç»†æ­¥éª¤
<span class="hljs-bullet">-</span> <span class="hljs-code">`agent_docs/testing.md`</span>: è¿è¡Œæµ‹è¯•å¥—ä»¶çš„æ–¹æ³•
<span class="hljs-bullet">-</span> <span class="hljs-code">`agent_docs/database.md`</span>: æ ¸å¿ƒæ•°æ®åº“è¡¨ç»“æ„è®¾è®¡
</code></pre>
<p>è¿™æ ·ï¼ŒAI åœ¨æ¥åˆ°ä»»åŠ¡æ—¶ï¼ˆæ¯”å¦‚â€œå¸®æˆ‘å†™ä¸ªæ–°çš„ APIâ€ï¼‰ï¼Œå®ƒä¼šè‡ªå·±åˆ¤æ–­ï¼šâ€œå“¦ï¼Œæˆ‘éœ€è¦çœ‹çœ‹Â <code>database.md</code>â€ï¼Œç„¶åä¸»åŠ¨å»è¯»å–é‚£ä¸ªæ–‡ä»¶ã€‚è¿™æ¯”ä¸€è‚¡è„‘å¡ç»™å®ƒé«˜æ•ˆå¾—å¤šï¼</p>
<h3 data-id="heading-8">é¿å‘æŒ‡å—</h3>
<ol>
<li><strong>ä¸è¦è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šè™½ç„¶æœ‰å¾ˆå¤šå·¥å…·å¯ä»¥è‡ªåŠ¨ç”ŸæˆÂ <code>agent.md</code>ï¼Œä½†å»ºè®®ä½ <strong>äº²æ‰‹å†™</strong>ã€‚å› ä¸ºè¿™æ˜¯ä½ å’Œ AI åä½œçš„åŸºçŸ³ï¼Œæ¯ä¸€è¡Œéƒ½å€¼å¾—ä½ æ·±æ€ç†Ÿè™‘ã€‚</li>
<li><strong>é¿å…æ— å…³ä¿¡æ¯</strong>ï¼šä¸è¦æ”¾â€œå¦‚ä½•è®¾è®¡æ–°æ•°æ®åº“ Schemaâ€è¿™ç§åªæœ‰åœ¨ç‰¹å®šä»»åŠ¡ä¸‹æ‰ç”¨åˆ°çš„ä¿¡æ¯ã€‚</li>
<li><strong>ä½¿ç”¨æ–‡ä»¶å¼•ç”¨</strong>ï¼šåœ¨æ–‡æ¡£ä¸­å°½é‡å¼•ç”¨ä»£ç æ–‡ä»¶çš„è·¯å¾„ï¼ˆ<code>file:line</code>ï¼‰ï¼Œè€Œä¸æ˜¯ç›´æ¥å¤åˆ¶ç²˜è´´å¤§æ®µä»£ç ï¼Œé˜²æ­¢æ–‡æ¡£è¿‡æ—¶ã€‚</li>
</ol>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>å†™å¥½Â <code>agent.md</code>Â æ˜¯ä¸€é—¨â€œä¸Šä¸‹æ–‡å·¥ç¨‹â€ (Context Engineering) çš„è‰ºæœ¯ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒ</strong>ï¼šå®ƒæ˜¯ AI çš„å…¥èŒæ‰‹å†Œã€‚</li>
<li><strong>åŸåˆ™</strong>ï¼šå°‘å³æ˜¯å¤šï¼Œä¸è¦åš Linter çš„å·¥ä½œã€‚</li>
<li><strong>æŠ€å·§</strong>ï¼šä½¿ç”¨â€œæ¸è¿›å¼æŠ«éœ²â€ï¼ŒæŠŠç»†èŠ‚æ‹†åˆ†åˆ°å­æ–‡æ¡£ä¸­ã€‚</li>
</ul>
<p>èŠ± 10 åˆ†é’Ÿä¼˜åŒ–ä¸€ä¸‹ä½ çš„Â <code>agent.md</code>ï¼Œä½ ä¼šå‘ç°ä½ çš„ AI é˜Ÿå‹çªç„¶å˜å¾—â€œèªæ˜â€äº†ï¼ğŸš€</p>
<hr/>
<p><em>å‚è€ƒèµ„æ–™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.humanlayer.dev%2Fblog%2Fwriting-a-good-claude-md" target="_blank" title="https://www.humanlayer.dev/blog/writing-a-good-claude-md" ref="nofollow noopener noreferrer">Writing a good CLAUDE.md</a></em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ TRAE SOLO: æ­å»ºå‰ç«¯é¡¹ç›®è„šæ‰‹æ¶]]></title>    <link>https://juejin.cn/post/7580202945146208271</link>    <guid>https://juejin.cn/post/7580202945146208271</guid>    <pubDate>2025-12-05T09:46:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580202945146208271" data-draft-id="7579985751937908770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ TRAE SOLO: æ­å»ºå‰ç«¯é¡¹ç›®è„šæ‰‹æ¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T09:46:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç»´ç»´é…±"/> <meta itemprop="url" content="https://juejin.cn/user/1275089221590135"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ TRAE SOLO: æ­å»ºå‰ç«¯é¡¹ç›®è„šæ‰‹æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1275089221590135/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç»´ç»´é…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:46:34.000Z" title="Fri Dec 05 2025 09:46:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å›¢é˜Ÿåä½œä¸­ï¼Œä½ æ˜¯å¦ä¹Ÿé‡åˆ°è¿‡è¿™æ ·çš„å›°æ‰°ï¼Ÿæ¯æ¬¡å¯åŠ¨æ–°é¡¹ç›®ï¼Œéƒ½è¦ä»é›¶å¼€å§‹é‡å¤æ­å»ºç¯å¢ƒã€é…ç½®æ„å»ºå·¥å…·ã€å®‰è£…åŸºç¡€ä¾èµ–ã€å¤åˆ¶å…¬å…±ç»„ä»¶å’Œå·¥å…·å‡½æ•°ã€‚è¿™ä¸ä»…è€—æ—¶è´¹åŠ›ï¼Œæ›´éº»çƒ¦çš„æ˜¯ï¼ŒæŠ€æœ¯æ ˆé€‰å‹å’Œé¡¹ç›®ç»“æ„è‹¥ç¼ºä¹ç»Ÿä¸€è§„èŒƒï¼Œåç»­çš„ç»´æŠ¤å’Œä»£ç å®¡æŸ¥æˆæœ¬ä¼šæ€¥å‰§å¢åŠ ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œæˆ‘ä»¬åŸºäºTRAE SOLOçš„ <strong>â€œä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰â€</strong> Â èƒ½åŠ›ï¼Œæ„å»ºäº†ä¸€æ¬¾å›¢é˜Ÿä¸“å±çš„<strong>æ™ºèƒ½é¡¹ç›®è„šæ‰‹æ¶å·¥å…·</strong>ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªç»„ä»¶åº“ï¼Œè€Œæ˜¯ç±»ä¼¼äºÂ <code>vue-create-app</code>Â çš„ç”Ÿæˆå™¨ã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨äºï¼Œå°†å›¢é˜Ÿå†…éƒ¨ç»è¿‡éªŒè¯çš„æŠ€æœ¯æ ˆï¼ˆå¦‚Vue 2/Vue 3ã€Vuex/Piniaã€Axios/Fetchç­‰ç»„åˆï¼‰å’Œé¡¹ç›®è§„èŒƒï¼Œæ²‰æ·€ä¸ºå¯ä¸€é”®ç”Ÿæˆçš„æ ‡å‡†æ¨¡æ¿ã€‚</p>
<p>TRAE SOLOåœ¨æ­¤è¿‡ç¨‹ä¸­æ‰®æ¼”äº†â€œè¶…çº§åä½œè€…â€çš„è§’è‰²ã€‚æˆ‘ä»¬é€šè¿‡è‡ªç„¶è¯­è¨€ä¸å®ƒåä½œï¼Œé«˜æ•ˆå®Œæˆäº†ä»å·¥å…·æ„æ€ã€æ¶æ„è®¾è®¡ã€ä»£ç ç”Ÿæˆåˆ°é…ç½®è°ƒè¯•çš„å…¨æµç¨‹ã€‚æœ€ç»ˆï¼Œè¿™æ¬¾è„šæ‰‹æ¶å°†å›¢é˜Ÿæˆå‘˜ä»é‡å¤çš„åˆå§‹åŒ–å·¥ä½œä¸­è§£æ”¾å‡ºæ¥ã€‚</p>
<h4 data-id="heading-0">å®è·µæ¡ˆä¾‹ï¼šä»é›¶æ„å»ºé¡¹ç›®è„šæ‰‹æ¶å·¥å…·</h4>
<p>æˆæœå±•ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d106a455e4954c8f9ce162d38d2d8616~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=7sm1q6jDATnrZkPBYytgr69%2B3xk%3D" alt="f4ffe0f1-1b25-46dc-9a9f-56f99c467283.png" loading="lazy"/></p>
<h5 data-id="heading-1">æ¢³ç†éœ€æ±‚</h5>
<p>éœ€æ±‚å¾ˆç®€å•ï¼Œæˆ‘éœ€è¦å¼€å‘ä¸€ä¸ªèƒ½ç”Ÿæˆæ»¡è¶³å›¢é˜Ÿå†…éƒ¨è§„èŒƒçš„è„šæ‰‹æ¶å·¥å…·ï¼Œæ”¯æŒå¤šç§æŠ€æœ¯æ ˆç»„åˆï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ”¯æŒ Vue 2.7.x å’Œ Vue 3.x ç‰ˆæœ¬</li>
<li>å¤šç§çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼šVuex 3/4 å’Œ Pinia</li>
<li>çµæ´»çš„ HTTP å®¢æˆ·ç«¯é€‰æ‹©ï¼šaxios å’Œ Fetch API</li>
<li>Vue Router 3/4 æ”¯æŒï¼Œå¸¦ history/hash æ¨¡å¼é€‰é¡¹</li>
<li>å¹³å°é€‚é…ï¼šPC å’Œ ç§»åŠ¨ç«¯ï¼Œé›†æˆä¸»æµ UI æ¡†æ¶</li>
<li>Vue 3 JSX è¯­æ³•æ”¯æŒ</li>
<li>å®Œå–„çš„æ„å»ºé…ç½®ï¼špublic pathã€æ„å»ºå‘½åæ ¼å¼ã€æ‰‹åŠ¨åˆ†å—</li>
<li>PostCSS æ”¯æŒï¼šautoprefixer å’Œ postcss-pxtorem</li>
<li>ä»£ç è´¨é‡ä¿éšœï¼šESLint + Prettier</li>
<li>Git é›†æˆï¼šè¿œç¨‹ä»“åº“å…³è”å’Œè‡ªåŠ¨æ¨é€</li>
<li>è‡ªåŠ¨ç”Ÿæˆè¯¦ç»† README æ–‡æ¡£</li>
<li>æ”¯æŒ vite + react + css module + react toolkit ç‰ˆæœ¬</li>
</ul>
<h5 data-id="heading-2">è¯¦ç»†æ­¥éª¤</h5>
<p>å…¶å®å°±æ˜¯å¯¹è¯ï¼Œpush trae solo å¼€å§‹å·¥ä½œhhhhh</p>
<p>ä¸€å¼€å§‹æ€• trae åšçš„ä¸å¥½ï¼Œæ‰€ä»¥åªç»™äº†åŸºç¡€éœ€æ±‚ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c10f40a7eb014a6c95d51e500127f0a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=hubvFYzqLxohGpYY517zfVvljqg%3D" alt="ea4eb3dd-3a11-4891-9d50-5d413dbce0cf.png" loading="lazy"/></p>
<p>å¾ˆå¿«ï¼Œtrae å°±ç»™åˆå§‹åŒ–äº†ä¸€ä¸ªnodeé¡¹ç›®ï¼Œå¹¶æ¢³ç†å‡ºä¸”å®‰è£…äº†å¿…è¦çš„ä¾èµ–ï¼Œå¹¶ä¸”åˆ›å»ºäº†å…¥å£æ–‡ä»¶ï¼Œè¿˜è‡ªå·±ä¿®å¤äº†å‡ºç°çš„é—®é¢˜ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75e5b44ffefc4db9a722c5f73e8cd68f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=dNy0Lk9F04nJ1NS64qgDMoHTRS8%3D" alt="55ab0e93-9e54-4fcd-a2fc-71e49bb05d03.png" loading="lazy"/></p>
<p>å¹¶ä¸”åˆ›å»ºäº†æ¨¡æ¿è¿›è¡Œæµ‹è¯•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2329747accb34f959198c55860746fdf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=JXr1YEO%2Fram1n5YmJ4G4QeP%2FCgE%3D" alt="51926df1-fd2f-4ddf-ade6-d815238c6d12.png" loading="lazy"/></p>
<p>ç›®å‰ä¸ºæ­¢éƒ½å¾ˆå®Œç¾ï¼Œä½†å¾ˆå¿«é—®é¢˜å‡ºç°äº†ï¼Œtrae åªç»™æˆ‘åˆ›å»ºäº†æœ€å¼€å§‹é€‰æ‹©çš„ä¸€ä¸ªç»„åˆçš„æ¨¡æ¿ï¼ˆé™¤äº†è¿™ä¸ªå®é™…éƒ½æ˜¯ç©ºæ–‡ä»¶å¤¹hhhhï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4f8e4d0c4f046aa9f52b15b2d7c6d5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=MxuHo7UZEgzX61m34E46mIs4O6Y%3D" alt="8897eacb-3a42-44b5-8cc2-8b1d83fd973a.png" loading="lazy"/></p>
<p>æ‰€ä»¥åé¢è€è€å®å®è®© trae æŒ¨ä¸ªåšå¡«å……ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d307f2b40e74ffd83379ac4f348581d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=IG8VRfZrIeFPkBP%2BLl2TLeo4xz8%3D" alt="5e7b5673-cfd5-49cb-97ad-59ba774cd357.png" loading="lazy"/></p>
<p>å¼€å§‹ç»™ä¸€äº›è¿›é˜¶éœ€æ±‚ï¼ŒåŸºæœ¬æ˜¯æƒ³åˆ°å“ªé—®åˆ°å“ªï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58a70f61cffa4037ba1f209ade82b1a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=Py%2Fs0TnDSNHBny8qBKlzz0sZP9k%3D" alt="5630bc2f-5826-4d16-b29e-f41a0d33dbdd.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b0534e55b4840a0a2c5a4e60db75c48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=ZVjcI729CVV5eBOOPUc3XjWI9Qc%3D" alt="5c1d02a3-a6dd-4f1b-b529-071304327e16.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0860eaa1968246fe8fa57a8b0c4fc0e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=1%2FrRtbX1qaG5moDf5DPIZsgMA9E%3D" alt="560b51ea-2506-490e-9d1e-5c0210339aef.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f38a2670e3e741cbbb22cc8c3a5bc897~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=lZrVL1XuAk4MbVRzWRoMmea6wRc%3D" alt="e6da96f3-1b21-4458-88b5-f635a50d400d.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65962c752ae14528b6ae76af6d9f0c0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=mhVbFaH506%2FTfaMjq82ijA20MIo%3D" alt="018c9c88-9f70-4654-bba4-4ed7bf901e1f.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7fa4db136594c709add863e53581395~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=3cz3xAKQsqI3Msb4Rz43t9qF3lE%3D" alt="5ba70983-12aa-4da7-9b79-009bec798da9.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9dbbf903653746808360ce86e2eb2fad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=l78EtMoszXWabV%2FrNHM8Ml1zAAc%3D" alt="c9283bdd-9c3d-4668-a386-88bbe756706d.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edad62057e5041f4a6c1909cd4a042cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=MC4fcedMyN8K5pQSOCfuXvCC4RU%3D" alt="e506653e-5d1f-4eaf-914a-fc754aa98059.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59c0b7c8a95e4fe6988275b701e7b141~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=GxtfaK7br78YaJzBOXmdZeADtSk%3D" alt="3bf42b4e-3e83-4832-a63c-49d2f0c15142.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/869a4a30ee9d4ab0b732a1b0f95d978f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=UpU94A2GMZTjYYRHNOvxWScnkfU%3D" alt="a816f2fe-81a2-402e-9e95-c086f11ae855.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58d2f386e75b451786dfe56b114285e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=6nvBFwWgugi1e3u%2F2CXXaKYWXDk%3D" alt="93dd3041-6199-49ad-977d-8ee87f34fa76.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4124b03780d4f3386558f86aa69e3ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=S5a1IEZSF4YNTvnPLQRXV7UShjI%3D" alt="8d36843c-3d50-4e69-a860-4ca26daca6b2.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2b0427b23e34070af364e7ad29e2190~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=I89%2BtO8vevzuX6WY4CPctT9sZPo%3D" alt="5910fc20-f973-4500-859a-3bbadbfbb56a.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b472a3ea50344a28bc86d87e1a1acbab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=t0nFV4HmXRvLs%2FX7%2FYUqq0FWxW4%3D" alt="65cdd58d-155a-41fc-b037-fa024f181ab1.png" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¸»è¦æŠ€æœ¯æ ˆè¿˜æ˜¯ vueï¼Œä½†æ˜¯ä¸‡ä¸€å‘¢</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cecc66927f8403f87339c159cce40d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57u057u06YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533382&amp;x-signature=CR5gwSi57M4s%2Bol2k3a6NXnJ%2BjE%3D" alt="e58e59b5-9b6b-4af4-9ba0-85acd43e4a1c.png" loading="lazy"/></p>
<h5 data-id="heading-3">å¼€å‘æˆæœ</h5>
<p>ä¸€ä¸ªå°æ—¶ï¼Œå¼€å‘ä¸€ä¸ªè„šæ‰‹æ¶å·¥å…·ï¼Œé’ˆå¯¹ä¸åŒæŠ€æœ¯æ ˆç»„åˆè¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿ç”Ÿæˆçš„é¡¹ç›®èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼š</p>
<ul>
<li>Vue 2 + Vuex + axios/fetch + Element UI/Vant2</li>
<li>Vue 3 + Pinia/Vuex + axios/fetch + Element Plus/Vant4 + Jsxï¼ˆå¯é€‰ï¼‰</li>
<li>React + React Router Dom + React Toolkit</li>
</ul>
<h5 data-id="heading-4">æœªæ¥è§„åˆ’</h5>
<ol>
<li>æ”¯æŒæ›´å¤š UI æ¡†æ¶ï¼ˆå¦‚ Ant Design Vueã€Naive UIï¼‰</li>
<li>é›†æˆ TypeScript æ”¯æŒ</li>
<li>æ·»åŠ å•å…ƒæµ‹è¯•å’Œ E2E æµ‹è¯•æ¨¡æ¿</li>
<li>æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿ä»“åº“</li>
<li>å®ç°æ¨¡æ¿æ›´æ–°æœºåˆ¶</li>
<li>æ·»åŠ æ›´å¤šæ„å»ºä¼˜åŒ–é€‰é¡¹</li>
<li>æ”¯æŒ monorepo æ¨¡å¼</li>
</ol>
<h5 data-id="heading-5">ç‰¹åˆ«æ„Ÿè°¢</h5>
<p>å½“ç„¶æ˜¯ Trae Solo äº†, æˆ‘å¿…é¡»è¯´â€”â€”å®ƒçš„è®¾è®¡ç†å¿µå’Œå¼€ç®±å³ç”¨çš„ä½“éªŒï¼Œ<strong>è¿œè¿œè¶…å‡ºäº†æˆ‘çš„é¢„æœŸ</strong>ã€‚</p>
<p>é…ç½®æ–‡ä»¶æ¸…æ™°ç›´è§‚ï¼Œæ„å»ºæµç¨‹å®‰é™ç¨³å®šï¼Œå°±åƒä¸€ä½æ²‰é»˜è€Œå¯é çš„åŠ©æ‰‹ï¼Œè®©ä½ èƒ½å®Œå…¨ä¸“æ³¨äºåˆ›é€ æœ¬èº«ã€‚ä¸å¾—ä¸å†æ¬¡æ„Ÿå¹ï¼š<strong>AI åŠ æŒçš„å¼€å‘æ—¶ä»£ï¼Œå·¥å…·é“¾çš„ä½“éªŒç«Ÿèƒ½å¦‚æ­¤é¡ºæ»‘</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[APP å…¬é’¥ä¸ MD5 ä¿¡æ¯åœ¨å·¥ç¨‹ä¸­çš„ä»·å€¼ ä¸€æ¬¡ç­¾åæ’æŸ¥è¿‡ç¨‹å¸¦æ¥çš„ç»éªŒæ€»ç»“]]></title>    <link>https://juejin.cn/post/7580197740961857562</link>    <guid>https://juejin.cn/post/7580197740961857562</guid>    <pubDate>2025-12-05T09:45:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580197740961857562" data-draft-id="7579946275437101066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="APP å…¬é’¥ä¸ MD5 ä¿¡æ¯åœ¨å·¥ç¨‹ä¸­çš„ä»·å€¼ ä¸€æ¬¡ç­¾åæ’æŸ¥è¿‡ç¨‹å¸¦æ¥çš„ç»éªŒæ€»ç»“"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T09:45:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aiopencode"/> <meta itemprop="url" content="https://juejin.cn/user/1898230261493865"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            APP å…¬é’¥ä¸ MD5 ä¿¡æ¯åœ¨å·¥ç¨‹ä¸­çš„ä»·å€¼ ä¸€æ¬¡ç­¾åæ’æŸ¥è¿‡ç¨‹å¸¦æ¥çš„ç»éªŒæ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1898230261493865/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aiopencode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:45:34.000Z" title="Fri Dec 05 2025 09:45:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨åº”ç”¨çš„å¼€å‘æµç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€äº›å¹¶éæ¥è‡ªä»£ç å±‚é¢çš„ Bugï¼Œè€Œæ˜¯æºè‡ªæ›´åº•å±‚çš„â€œåº”ç”¨ç­¾åä¿¡æ¯ä¸ä¸€è‡´â€ã€‚
æ¯”å¦‚ï¼š</p>
<ul>
<li>API ç½‘å…³è¦æ±‚å®¢æˆ·ç«¯æä¾›ç­¾åæŒ‡çº¹</li>
<li>ç‰ˆæœ¬å·®å¼‚å¯¼è‡´ MD5 æ ¡éªŒä¸é€šè¿‡</li>
<li>ç¬¬ä¸‰æ–¹ SDK æ ¡éªŒå®‰è£…åŒ…å…¬é’¥å¤±è´¥</li>
<li>å› è¯ä¹¦é“¾å¼‚å¸¸å¯¼è‡´ App Store ä¸Šä¼ å¤±è´¥</li>
<li>æµ‹è¯•ç¯å¢ƒå®‰è£…åŒ…ä¸æ­£å¼ç¯å¢ƒç­¾åä¸ä¸€è‡´</li>
</ul>
<p>åœ¨æˆ‘ä»¬å›¢é˜Ÿæœ€è¿‘çš„ä¸€æ¬¡é—®é¢˜æ’æŸ¥ä¸­ï¼Œæ­£æ˜¯ä¸€ä¸ªâ€œAPP å…¬é’¥æ ¡éªŒå¤±è´¥â€é—®é¢˜ï¼Œè®©æ•´ä¸ªæ„å»ºå’Œæµ‹è¯•æµç¨‹åœæ»äº†æ•°å°æ—¶ã€‚</p>
<p>å¤ç›˜ä¹‹åæˆ‘ä»¬å‘ç°ï¼Œé—®é¢˜çš„æœ¬è´¨å¹¶ä¸æ˜¯ç­¾åé”™è¯¯ï¼Œè€Œæ˜¯ï¼š
<strong>å›¢é˜Ÿå¹¶æ²¡æœ‰ä¸€ä¸ªå¯ä»¥å¿«é€Ÿã€è·¨å¹³å°æŸ¥çœ‹ IPA å†…éƒ¨ç­¾åä¿¡æ¯ã€è¯ä¹¦å†…å®¹ã€MD5/SHA æŒ‡çº¹çš„ç»Ÿä¸€å·¥å…·ã€‚</strong></p>
<p>ç›´åˆ°æˆ‘ä»¬å°†æµç¨‹é‡æ–°æ•´ç†å¹¶å¼•å…¥äº† <strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰</strong> çš„æ–‡ä»¶è§£æä¸è¯ä¹¦ä¿¡æ¯æŸ¥çœ‹èƒ½åŠ›ï¼Œæ•´ä¸ªæ’æŸ¥å’ŒéªŒè¯è¿‡ç¨‹æ‰å˜å¾—é¡ºç•…ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« è®°å½•è¿™æ¬¡ç»å†ï¼Œå¹¶æ€»ç»“å‡ºä¸ºä½•ç°ä»£ç§»åŠ¨å›¢é˜Ÿå¿…é¡»å…·å¤‡â€œä¸€é”®æŸ¥çœ‹ App å…³é”®ä¿¡æ¯â€çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€ä¸ºä»€ä¹ˆâ€œè·å– APP å…¬é’¥å’Œ MD5 ä¿¡æ¯â€ä¼šæˆä¸ºä¸€ä¸ªå…³é”®èƒ½åŠ›ï¼Ÿ</strong></h2>
<p>åœ¨ä¸€ä¸ªå¤§å‹äº¤ä»˜é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åœ¨ä»¥ä¸‹åœºæ™¯éƒ½éœ€è¦æŸ¥çœ‹è¿™äº›ä¿¡æ¯ï¼š</p>
<h3 data-id="heading-1"><strong>1. ä¸åå°è¿›è¡Œç­¾åæ¯”å¯¹</strong></h3>
<p>æŸäº›æ¥å£è¦æ±‚ï¼š</p>
<ul>
<li>App è¯ä¹¦å…¬é’¥</li>
<li>ç­¾åæŒ‡çº¹ï¼ˆSHA1ã€SHA256ï¼‰</li>
<li>å®‰è£…åŒ… MD5 ä½œä¸ºå®Œæ•´æ€§æ ¡éªŒ</li>
</ul>
<p>æ²¡æœ‰ç»Ÿä¸€å·¥å…·æ—¶ï¼Œæˆ‘ä»¬åªèƒ½ï¼š</p>
<ul>
<li>æ‰‹å·¥è§£å‹ IPA</li>
<li>æŠ½å– embedded.mobileprovision</li>
<li>æ‰‹åŠ¨è§£ç </li>
<li>å†è®¡ç®—æŒ‡çº¹</li>
</ul>
<p>è¿‡ç¨‹å¤æ‚ä¸”å®¹æ˜“å‡ºé”™ã€‚</p>
<hr/>
<h3 data-id="heading-2"><strong>2. æ’æŸ¥ IPA ç­¾åæ˜¯å¦ä¸æè¿°æ–‡ä»¶åŒ¹é…</strong></h3>
<p>å¸¸è§é—®é¢˜ï¼š</p>
<ul>
<li>â€œApp æ— æ³•å®‰è£…â€</li>
<li>â€œProfile ä¸åŒ¹é…â€</li>
<li>â€œå›¢é˜Ÿ ID ä¸ä¸€è‡´â€</li>
</ul>
<p>è¿™äº›éƒ½ä¸ç­¾åä¿¡æ¯ç›´æ¥ç›¸å…³ï¼Œéœ€è¦å¿«é€ŸæŸ¥çœ‹ï¼š</p>
<ul>
<li>è¯ä¹¦å…¬é’¥</li>
<li>SHA1ã€SHA256</li>
<li>mobileprovision å†…å®¹</li>
<li>entitlements ä¿¡æ¯</li>
</ul>
<hr/>
<h3 data-id="heading-3"><strong>3. æ¥å…¥ç¬¬ä¸‰æ–¹ SDK æ—¶éœ€è¦éªŒè¯ç­¾å</strong></h3>
<p>ä¾‹å¦‚æ”¯ä»˜ã€æ¨é€ã€åŠ å›ºç±» SDKï¼Œä¼šæ ¡éªŒå®‰è£…åŒ…ä¿¡æ¯ã€‚</p>
<hr/>
<h3 data-id="heading-4"><strong>4. å®‰å…¨å®¡è®¡éœ€è¦éªŒè¯åŒ…æ˜¯å¦è¢«ç¯¡æ”¹</strong></h3>
<p>MD5/SHA æ ¡éªŒå¯ç”¨äºï¼š</p>
<ul>
<li>ç¡®ä¿åŒ…å®Œæ•´</li>
<li>æ£€æµ‹æ˜¯å¦å­˜åœ¨éæˆæƒæ¸ é“</li>
<li>æ ¸å¯¹å‘å¸ƒä¸æ„å»ºç‰ˆæœ¬ä¸€è‡´æ€§</li>
</ul>
<hr/>
<p>ä¸ºæ­¤ï¼Œä¸€ä¸ªå¯è·¨å¹³å°ã€æ— éœ€é¢å¤–å¤æ‚ç¯å¢ƒçš„â€œä¸€é”®è§£æå·¥å…·â€éå¸¸å¿…è¦ã€‚</p>
<hr/>
<h2 data-id="heading-5"><strong>äºŒã€æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰å®Œæˆ APP ç­¾åä¿¡æ¯çš„å¿«é€Ÿåˆ†æï¼Ÿ</strong></h2>
<h3 data-id="heading-6"><strong>â‘  æ–‡ä»¶è§£æèƒ½åŠ›ï¼šç›´æ¥æŸ¥çœ‹ IPA å†…çš„æ ¸å¿ƒä¿¡æ¯</strong></h3>
<p>å¼€å¿ƒä¸Šæ¶æä¾›ï¼š</p>
<ul>
<li>æŸ¥çœ‹ IPA ä¸­çš„è¯ä¹¦å…¬é’¥</li>
<li>æŸ¥çœ‹ SHA1 / SHA256 ç­¾åæŒ‡çº¹</li>
<li>æŸ¥çœ‹ MD5 ç­‰å†…å®¹æ‘˜è¦</li>
<li>è§£æ Info.plistã€entitlements</li>
<li>è§£æ embedded.mobileprovision</li>
<li>æŸ¥çœ‹ Bundle Idã€Team IDã€ç‰ˆæœ¬å·</li>
</ul>
<p>æœ€é‡è¦çš„æ˜¯ï¼š</p>
<p><strong>è¿™äº›åŠŸèƒ½åœ¨æ¡Œé¢ç«¯å’Œåœ¨çº¿ç‰ˆéƒ½å¯ä½¿ç”¨ï¼Œæ— éœ€ macOSã€‚</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20bc01c365974abd9cbed988861ab1ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWlvcGVuY29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532733&amp;x-signature=wHvkrqobjQiULZLnx7xiGYaPagE%3D" alt="æŸ¥çœ‹æ–‡ä»¶" loading="lazy"/></p>
<p>è¿™å½»åº•è§£å†³äº†æˆ‘ä»¬å›¢é˜Ÿçš„è·¨å¹³å°éœ€æ±‚ã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>â‘¡ å¯¼å‡ºè¯ä¹¦ä¸º PEM / æŸ¥çœ‹å…¬é’¥æŒ‡çº¹</strong></h3>
<p>åœ¨æ’æŸ¥é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†è¯ä¹¦å…¬é’¥æå–å‡ºæ¥å‘é€ç»™åå°å¯¹æ¥ã€‚</p>
<p>å¼€å¿ƒä¸Šæ¶æ”¯æŒï¼š</p>
<ul>
<li>å°†è¯ä¹¦å¯¼å‡ºä¸º .pem æ ¼å¼</li>
<li>æŸ¥çœ‹è¯ä¹¦å…¬é’¥å†…å®¹</li>
<li>æŸ¥çœ‹è¯ä¹¦æŒ‡çº¹ï¼ˆMD5ã€SHA1ã€SHA256ï¼‰</li>
</ul>
<p>è¿™å¯¹æ¥å£ç­¾åæ¯”å¯¹éå¸¸å…³é”®ã€‚</p>
<hr/>
<h3 data-id="heading-8"><strong>â‘¢ ç»“åˆ Bundle Id ç®¡ç†æ’æŸ¥ç­¾åå…³è”é—®é¢˜</strong></h3>
<p>ç­¾åå¾€å¾€ä¸ Bundle Id å¼ºç»‘å®šã€‚
å¼€å¿ƒä¸Šæ¶çš„ Bundle Id ç®¡ç†åŠŸèƒ½å¯ä»¥ï¼š</p>
<ul>
<li>æŸ¥çœ‹è´¦å·ä¸‹æ‰€æœ‰ Bundle Id</li>
<li>å¯¹æ¯” IPA ä¸­çš„ Bundle Id</li>
<li>å‘ç° mismatch å¼•èµ·çš„ç­¾åé”™è¯¯</li>
</ul>
<p>å‡å°‘äº†å¤§é‡â€œå‡­ç»éªŒæ’æŸ¥â€æµªè´¹çš„æ—¶é—´ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fa6a37dc4254145bbd73879bfbf0da6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWlvcGVuY29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765532733&amp;x-signature=anOJS%2F5%2BT8ETnf7sN%2FkllH1OX0o%3D" alt="bid" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-9"><strong>â‘£ ç»“åˆè®¾å¤‡ UDID ç®¡ç†éªŒè¯å®‰è£…åŒ…å¯ç”¨æ€§</strong></h3>
<p>å½“æŸä¸ª IPA æ— æ³•å®‰è£…æ—¶ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ï¼š</p>
<ul>
<li>å¼€å¿ƒä¸Šæ¶è‡ªåŠ¨è¯»å–è®¾å¤‡ UDID</li>
<li>æ£€æŸ¥æè¿°æ–‡ä»¶æ˜¯å¦åŒ…å«å½“å‰è®¾å¤‡</li>
<li>å¯¹æ¯” Profile ä¸ IPA ç­¾åä¿¡æ¯</li>
</ul>
<p>ä»è€Œå¿«é€Ÿå®šä½ï¼š</p>
<ul>
<li>æ˜¯è®¾å¤‡æœªåŠ å…¥ï¼Ÿ</li>
<li>æ˜¯ Profile é”™äº†ï¼Ÿ</li>
<li>è¿˜æ˜¯è¯ä¹¦é“¾é—®é¢˜ï¼Ÿ</li>
</ul>
<hr/>
<h3 data-id="heading-10"><strong>â‘¤ Android ä¾§ä¹Ÿèƒ½ç»Ÿä¸€å¤„ç†ï¼ˆåœ¨çº¿ç”Ÿæˆ keystoreï¼‰</strong></h3>
<p>å› ä¸ºè®¸å¤šé¡¹ç›®æ˜¯å¤šç«¯ç»Ÿä¸€ï¼Œæˆ‘ä»¬ä¹Ÿä½¿ç”¨ï¼š</p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appuploader.net%2Fkeystore.html" target="_blank" title="https://www.appuploader.net/keystore.html" ref="nofollow noopener noreferrer">www.appuploader.net/keystore.htâ€¦</a></strong></p>
<p>æ¥ç”Ÿæˆ Android keystoreï¼Œæ–¹ä¾¿ä¸ iOS ç«¯æ ¡éªŒæµç¨‹ä¿æŒä¸€è‡´æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-11"><strong>â‘¥ å›¾æ ‡ä¸åŸºç¡€èµ„æºå¤„ç†ä¹Ÿæ˜¯åŒä¸€å¥—å·¥ä½œæµ</strong></h3>
<p>è™½ç„¶ä¸ç­¾åæ— ç›´æ¥å…³ç³»ï¼Œä½†æˆ‘ä»¬ä¹ŸæŠŠå›¾æ ‡ç”Ÿæˆæ•´åˆåˆ°å‘å¸ƒå·¥å…·é“¾ä¸­ï¼š</p>
<p>ç½‘å€ï¼š
<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appuploader.net%2Fappicon.html" target="_blank" title="https://www.appuploader.net/appicon.html" ref="nofollow noopener noreferrer">www.appuploader.net/appicon.htmâ€¦</a></strong></p>
<p>ç”¨äºç”Ÿæˆï¼š</p>
<ul>
<li>Android å›¾æ ‡</li>
<li>iOS å›¾æ ‡</li>
<li>Assets.carï¼ˆiOS/macOS ä¸“ç”¨ï¼‰</li>
</ul>
<p>ç¡®ä¿èµ„æºä¸åŒ…ä½“ä¿¡æ¯ä¸€è‡´ï¼Œä¸å‡ºç°â€œå›¾æ ‡ä¸ç¬¦å¯¼è‡´å®¡æ ¸è¢«æ‹’â€çš„æƒ…å†µã€‚</p>
<hr/>
<h2 data-id="heading-12"><strong>ä¸‰ã€æŸæ¬¡æ¡ˆä¾‹ï¼šå¦‚ä½•é€šè¿‡å…¬é’¥ä¿¡æ¯å®šä½ç­¾åé”™è¯¯ï¼Ÿ</strong></h2>
<p>æŸæ¬¡æµ‹è¯•ç¯å¢ƒå®‰è£…åŒ…å§‹ç»ˆæç¤ºï¼š</p>
<pre><code class="hljs">æ— æ³•å®‰è£…æ­¤ App
</code></pre>
<p>ä¸€èˆ¬äººå¯èƒ½æƒ³åˆ°ï¼š</p>
<ul>
<li>è¯ä¹¦è¿‡æœŸ</li>
<li>Profile ä¸åŒ¹é…</li>
<li>UDID æœªåŠ å…¥</li>
</ul>
<p>ä½†æˆ‘ä»¬ç”¨å¼€å¿ƒä¸Šæ¶è§£æ IPA åå‘ç°ï¼š</p>
<ul>
<li>è¯ä¹¦ Team ID ä¸æè¿°æ–‡ä»¶ä¸ä¸€è‡´</li>
<li>å…¬é’¥æŒ‡çº¹ä¸åŒ</li>
<li>entitlements æƒé™ä¸åŒ¹é…</li>
</ul>
<p>æ ¹æœ¬åŸå› æ˜¯ï¼š</p>
<p><strong>æ„å»ºæœåŠ¡å™¨è¯»å–äº†æ—§è¯ä¹¦</strong>ï¼Œè€Œæ–°è¯ä¹¦å·²é‡å»ºã€‚</p>
<p>é€šè¿‡å¿«é€Ÿå¯¹æ¯”ç­¾åä¿¡æ¯ï¼Œæˆ‘ä»¬åœ¨ 5 åˆ†é’Ÿå†…å®šä½åˆ°é—®é¢˜ï¼Œè€Œä¸æ˜¯åœ¨ Mac é’¥åŒ™ä¸²é‡Œç¿»åŠå¤©ã€‚</p>
<hr/>
<p>åœ¨æ•´åˆè¿™äº›å·¥å…·èƒ½åŠ›åï¼Œæˆ‘ä»¬çš„å®Œæ•´æ’æŸ¥æµç¨‹å˜æˆï¼š</p>
<pre><code class="hljs">â‘  è§£æ IPA â†’ æŸ¥çœ‹å…¬é’¥ã€MD5ã€æŒ‡çº¹
â‘¡ æŸ¥çœ‹ mobileprovision â†’ å¯¹æ¯”è¯ä¹¦é“¾
â‘¢ æŸ¥çœ‹ Bundle Id â†’ æ£€æŸ¥åŒ…æ˜¯å¦åŒ¹é…è´¦å·é…ç½®
â‘£ æ£€æŸ¥ UDID â†’ éªŒè¯æµ‹è¯•ç¯å¢ƒæœ‰æ•ˆæ€§
â‘¤ è‹¥éœ€è¦æ¯”å¯¹ â†’ å¯¼å‡ºè¯ä¹¦ PEM ä¸åå°ç¡®è®¤
</code></pre>
<p>è¿™ä¸€æ•´å¥—æµç¨‹ï¼š</p>
<ul>
<li>å®Œå…¨è·¨å¹³å°ï¼ˆWindows/Linux/macOS éƒ½èƒ½æ‰§è¡Œï¼‰</li>
<li>æ— éœ€ä¸“ä¸š iOS ç¯å¢ƒ</li>
<li>æ— éœ€ç™»å½•å¤šä¸ªåå°</li>
<li>å·¥ç¨‹å¸ˆå¯è‡ªä¸»æ’æŸ¥ï¼Œæ— éœ€ä¾èµ–æŸä¸ªâ€œiOS è´Ÿè´£äººâ€</li>
</ul>
<p>ä»æ­¤ï¼Œç­¾åä¸å†æ˜¯å›¢é˜Ÿçš„é»‘ç›’èƒ½åŠ›ï¼Œè€Œæ˜¯é€æ˜ã€å¯éªŒè¯ã€å¯å¤ç°çš„å·¥ç¨‹ç¯èŠ‚ã€‚
ç½‘é¡µç«¯é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.applicationloader.net%2Ffrontend%2Fdist%2F%23%2Fhome" target="_blank" title="https://web.applicationloader.net/frontend/dist/#/home" ref="nofollow noopener noreferrer">web.applicationloader.net/frontend/diâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®æœåŠ¡æ¶æ„ä¸‹çš„é£æ§æ•°æ®é›†æˆï¼šåŸºäºGoçš„æ”¯ä»˜è¡Œä¸ºæŒ‡æ•°APIå®æˆ˜]]></title>    <link>https://juejin.cn/post/7579932196464836662</link>    <guid>https://juejin.cn/post/7579932196464836662</guid>    <pubDate>2025-12-05T09:46:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579932196464836662" data-draft-id="7580184249907888170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®æœåŠ¡æ¶æ„ä¸‹çš„é£æ§æ•°æ®é›†æˆï¼šåŸºäºGoçš„æ”¯ä»˜è¡Œä¸ºæŒ‡æ•°APIå®æˆ˜"/> <meta itemprop="keywords" content="API,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-12-05T09:46:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©è¿œæ•°ç§‘"/> <meta itemprop="url" content="https://juejin.cn/user/3511153810487162"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®æœåŠ¡æ¶æ„ä¸‹çš„é£æ§æ•°æ®é›†æˆï¼šåŸºäºGoçš„æ”¯ä»˜è¡Œä¸ºæŒ‡æ•°APIå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3511153810487162/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©è¿œæ•°ç§‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:46:58.000Z" title="Fri Dec 05 2025 09:46:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€é«˜å¹¶å‘é£æ§ç³»ç»Ÿçš„åŸºçŸ³ï¼šä¸ºä»€ä¹ˆé€‰æ‹©Goè¯­è¨€å¯¹æ¥å¤©è¿œAPI</h2>
<p>åœ¨<strong>ç§’çº§æ”¾æ¬¾çš„ç°é‡‘è´·ä¸šåŠ¡</strong>ã€<strong>é«˜é¢‘äº¤æ˜“åæ¬ºè¯ˆ</strong>ã€ä»¥åŠ<strong>å¤§å‹äº’é‡‘å¹³å°çš„å¾®æœåŠ¡ç½‘å…³</strong>ç­‰åœºæ™¯ä¸­ï¼Œç³»ç»Ÿçš„å“åº”é€Ÿåº¦ä¸ååé‡ç›´æ¥å†³å®šäº†ç”¨æˆ·ä½“éªŒä¸é£æ§æ•ˆç‡ã€‚[ä¿¡è´·å…¨å‘¨æœŸè¡Œä¸ºç‰¹å¾]â€”â€”åŒ…æ‹¬å¤šç»´åº¦çš„æŸ¥éªŒé¢‘æ¬¡ä¸è¿˜æ¬¾å±¥çº¦è®°å½•ï¼Œæ˜¯è¿›è¡Œ[å®æ—¶é£é™©å†³ç­–]â€”â€”å¦‚<strong>æ¯«ç§’çº§è‡ªåŠ¨å®¡æ‰¹</strong>ä¸<strong>åŠ¨æ€é¢åº¦è®¡ç®—</strong>çš„æ ¸å¿ƒæ•°æ®æ”¯æ’‘ã€‚</p>
<p>å¤©è¿œæ•°æ®æä¾›çš„"<strong>æ”¯ä»˜è¡Œä¸ºæŒ‡æ•°</strong>"APIï¼Œä»¥å…¶ç¨³å®šçš„å“åº”å’Œä¸°å¯Œçš„æ•°æ®ç»´åº¦è‘—ç§°ã€‚æœ¬æ–‡æ¡£ä¸“ä¸º <strong>Go (Golang)</strong> å¼€å‘è€…ç¼–å†™ï¼Œæ—¨åœ¨å±•ç¤ºå¦‚ä½•åˆ©ç”¨ Go è¯­è¨€çš„<strong>å¼ºç±»å‹ç³»ç»Ÿ</strong>ä¸<strong>åŸç”Ÿå¹¶å‘ç‰¹æ€§</strong>ï¼Œé«˜æ•ˆå¯¹æ¥æ­¤ APIã€‚æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ <strong>AES-128-CBC çš„ Go è¯­è¨€å®ç°</strong>ã€<strong>å¤æ‚ JSON çš„ Struct æ˜ å°„ç­–ç•¥</strong>ï¼Œä»¥åŠå¦‚ä½•å°†<strong>å¤©è¿œAPI</strong> é›†æˆåˆ°é«˜æ€§èƒ½çš„ gRPC æˆ– HTTP å¾®æœåŠ¡ä¸­ï¼ŒåŠ©åŠ›ä¼ä¸šæ‰“é€ <strong>ä½å»¶è¿Ÿã€é«˜å¹¶å‘</strong>çš„æ™ºèƒ½é£æ§ä¸­å°ã€‚</p>
<h2 data-id="heading-1">äºŒã€APIæ¥å£è°ƒç”¨ç¤ºä¾‹ï¼ˆGoç‰ˆï¼‰</h2>
<h3 data-id="heading-2">1. æ¥å…¥æŠ€æœ¯è¦ç‚¹</h3>
<p>Go è¯­è¨€å¯¹æ¥è¯¥æ¥å£çš„æŒ‘æˆ˜ä¸»è¦åœ¨äº<strong>åŠ å¯†ç®—æ³•çš„å¡«å……å¤„ç†</strong>ï¼ˆGo æ ‡å‡†åº“é»˜è®¤ä¸æ”¯æŒ PKCS7 Paddingï¼Œéœ€æ‰‹åŠ¨å®ç°ï¼‰ä»¥åŠ<strong>å¤§ JSON å¯¹è±¡çš„ååºåˆ—åŒ–æ€§èƒ½ä¼˜åŒ–</strong>ã€‚</p>
<ul>
<li><strong>æ¥å£åœ°å€</strong>ï¼š<code>https://api.tianyuanapi.com/api/v1/JRZQ3C9R?t={13ä½æ—¶é—´æˆ³}</code></li>
<li><strong>åŠ å¯†è§„èŒƒ</strong>ï¼š<code>AES-128-CBC</code>ï¼ŒIV ä¸ºéšæœºç”Ÿæˆï¼Œä½¿ç”¨ PKCS7 å¡«å……ã€‚</li>
<li><strong>å¹¶å‘å»ºè®®</strong>ï¼šå»ºè®®ä½¿ç”¨ <code>net/http</code> çš„è¿æ¥æ± ï¼ˆ<code>Transport</code>ï¼‰å¤ç”¨ TCP è¿æ¥ï¼Œä»¥åº”å¯¹é«˜å¹¶å‘åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-3">2. curl è¿é€šæ€§æµ‹è¯•</h3>
<p>åœ¨å¼€å‘æœåŠ¡å‰ï¼Œç¡®ä¿ç½‘ç»œå±‚é¢çš„è¿é€šæ€§ï¼š</p>
<pre><code class="hljs language-json" lang="json">curl -X POST <span class="hljs-string">"&lt;https://api.tianyuanapi.com/api/v1/JRZQ3C9R?t=1716968800000&gt;"</span> \
     -H <span class="hljs-string">"Content-Type: application/json"</span> \
     -H <span class="hljs-string">"Access-Id: YOUR_ACCESS_ID"</span> \
     -d '<span class="hljs-punctuation">{</span><span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"BASE64_ENCRYPTED_PAYLOAD..."</span><span class="hljs-punctuation">}</span>'
</code></pre>
<h3 data-id="heading-4">3. Go å®Œæ•´é›†æˆä»£ç </h3>
<p>ä»¥ä¸‹ä»£ç å®ç°äº†ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„ Clientï¼ŒåŒ…å«äº†<strong>PKCS7 å¡«å……å·¥å…·</strong>ã€<strong>AES åŠ è§£å¯†é€»è¾‘</strong>ä»¥åŠ<strong>HTTP è¯·æ±‚å°è£…</strong>ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"bytes"</span>
	<span class="hljs-string">"crypto/aes"</span>
	<span class="hljs-string">"crypto/cipher"</span>
	<span class="hljs-string">"encoding/json"</span>
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"io/ioutil"</span>
	<span class="hljs-string">"net/http"</span>
	<span class="hljs-string">"time"</span>
)

<span class="hljs-comment">// === é…ç½®å¸¸é‡ ===</span>
<span class="hljs-keyword">const</span> (
	ApiUrl    = <span class="hljs-string">"&lt;https://api.tianyuanapi.com/api/v1/JRZQ3C9R&gt;"</span>
	AccessId  = <span class="hljs-string">"YOUR_ACCESS_ID"</span>  <span class="hljs-comment">// æ›¿æ¢æ‚¨çš„ AccessId</span>
	AccessKey = <span class="hljs-string">"YOUR_ACCESS_KEY"</span> <span class="hljs-comment">// æ›¿æ¢æ‚¨çš„ AccessKey (16ä½Hex)</span>
)

<span class="hljs-comment">// === æ•°æ®ç»“æ„å®šä¹‰ ===</span>

<span class="hljs-comment">// CreditRequest ä¸šåŠ¡è¯·æ±‚å‚æ•°</span>
<span class="hljs-keyword">type</span> CreditRequest <span class="hljs-keyword">struct</span> {
	Name       <span class="hljs-type">string</span> <span class="hljs-string">`json:"name"`</span>
	IdCard     <span class="hljs-type">string</span> <span class="hljs-string">`json:"idCard"`</span>
	Phone      <span class="hljs-type">string</span> <span class="hljs-string">`json:"phone"`</span>
	Authorized <span class="hljs-type">string</span> <span class="hljs-string">`json:"authorized"`</span>
}

<span class="hljs-comment">// ApiResponse é€šç”¨å“åº”ç»“æ„</span>
<span class="hljs-keyword">type</span> ApiResponse <span class="hljs-keyword">struct</span> {
	Code          <span class="hljs-keyword">interface</span>{} <span class="hljs-string">`json:"code"`</span> <span class="hljs-comment">// å…¼å®¹ string æˆ– int</span>
	Message       <span class="hljs-type">string</span>      <span class="hljs-string">`json:"message"`</span>
	TransactionId <span class="hljs-type">string</span>      <span class="hljs-string">`json:"transaction_id"`</span>
	Data          <span class="hljs-keyword">interface</span>{} <span class="hljs-string">`json:"data"`</span> <span class="hljs-comment">//å¯èƒ½æ˜¯åŠ å¯†å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯å¯¹è±¡</span>
}

<span class="hljs-comment">// CreditData è§£å¯†åçš„ä¸šåŠ¡æ•°æ® (éƒ¨åˆ†æ ¸å¿ƒå­—æ®µç¤ºä¾‹)</span>
<span class="hljs-keyword">type</span> CreditData <span class="hljs-keyword">struct</span> {
	Flag           <span class="hljs-type">int</span> <span class="hljs-string">`json:"flag"`</span>
	BehavScore     <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_behav_score"`</span>
	D7QueryNum     <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_d7_qynum"`</span>
	M3OverdueNum   <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_m3_overnum"`</span>
	M12SuccRepNum  <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_m12_succ_repnum"`</span>
	<span class="hljs-comment">// å¯æ ¹æ®æ–‡æ¡£æ·»åŠ æ›´å¤šå­—æ®µ...</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	<span class="hljs-comment">// 1. åˆå§‹åŒ– HTTP Client (å»ºè®®å…¨å±€å¤ç”¨)</span>
	client := &amp;http.Client{
		Timeout: <span class="hljs-number">10</span> * time.Second,
	}

	<span class="hljs-comment">// 2. æ„é€ è¯·æ±‚æ•°æ®</span>
	reqData := CreditRequest{
		Name:       <span class="hljs-string">"èµµå…­"</span>,
		IdCard:     <span class="hljs-string">"110101199001011234"</span>,
		Phone:      <span class="hljs-string">"13800138000"</span>,
		Authorized: <span class="hljs-string">"1"</span>,
	}

	<span class="hljs-comment">// 3. æ‰§è¡Œè°ƒç”¨</span>
	resp, err := CallRiskApi(client, reqData)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		fmt.Printf(<span class="hljs-string">"è°ƒç”¨å¤±è´¥: %v\n"</span>, err)
		<span class="hljs-keyword">return</span>
	}

	fmt.Printf(<span class="hljs-string">"APIè°ƒç”¨æˆåŠŸï¼Œä¿¡ç”¨è¯„åˆ†: %d, è¿‘7å¤©æŸ¥è¯¢: %d\n"</span>, resp.BehavScore, resp.D7QueryNum)
}

<span class="hljs-comment">// CallRiskApi å°è£…è°ƒç”¨æµç¨‹</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">CallRiskApi</span><span class="hljs-params">(client *http.Client, reqData CreditRequest)</span></span> (*CreditData, <span class="hljs-type">error</span>) {
	<span class="hljs-comment">// A. åºåˆ—åŒ–å¹¶åŠ å¯†</span>
	jsonBytes, _ := json.Marshal(reqData)
	encryptedData, err := AesEncrypt(jsonBytes, []<span class="hljs-type">byte</span>(AccessKey)) <span class="hljs-comment">// æ³¨æ„ï¼šçœŸå®Keyéœ€HexDecode</span>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"åŠ å¯†å¤±è´¥: %v"</span>, err)
	}

	<span class="hljs-comment">// B. æ„é€ è¯·æ±‚ä½“</span>
	bodyMap := <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{<span class="hljs-string">"data"</span>: encryptedData}
	bodyJson, _ := json.Marshal(bodyMap)

	<span class="hljs-comment">// C. å‘é€è¯·æ±‚</span>
	timestamp := time.Now().UnixNano() / <span class="hljs-number">1e6</span>
	url := fmt.Sprintf(<span class="hljs-string">"%s?t=%d"</span>, ApiUrl, timestamp)

	httpReq, _ := http.NewRequest(<span class="hljs-string">"POST"</span>, url, bytes.NewBuffer(bodyJson))
	httpReq.Header.Set(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json"</span>)
	httpReq.Header.Set(<span class="hljs-string">"Access-Id"</span>, AccessId)

	resp, err := client.Do(httpReq)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}
	<span class="hljs-keyword">defer</span> resp.Body.Close()

	<span class="hljs-comment">// D. å¤„ç†å“åº”</span>
	respBytes, _ := ioutil.ReadAll(resp.Body)
	<span class="hljs-keyword">var</span> apiResp ApiResponse
	<span class="hljs-keyword">if</span> err := json.Unmarshal(respBytes, &amp;apiResp); err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"è§£æå“åº”å¤±è´¥: %v"</span>, err)
	}

	<span class="hljs-comment">// åˆ¤æ–­çŠ¶æ€ç  (æ³¨æ„ç±»å‹æ–­è¨€)</span>
	codeStr := fmt.Sprintf(<span class="hljs-string">"%v"</span>, apiResp.Code)
	<span class="hljs-keyword">if</span> codeStr == <span class="hljs-string">"200"</span> {
		<span class="hljs-comment">// è§£å¯† Data</span>
		<span class="hljs-keyword">if</span> encryptedStr, ok := apiResp.Data.(<span class="hljs-type">string</span>); ok {
			decryptedBytes, err := AesDecrypt(encryptedStr, []<span class="hljs-type">byte</span>(AccessKey))
			<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"è§£å¯†å¤±è´¥: %v"</span>, err)
			}

			<span class="hljs-keyword">var</span> creditData CreditData
			<span class="hljs-keyword">if</span> err := json.Unmarshal(decryptedBytes, &amp;creditData); err != <span class="hljs-literal">nil</span> {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"è§£æä¸šåŠ¡æ•°æ®å¤±è´¥: %v"</span>, err)
			}
			<span class="hljs-keyword">return</span> &amp;creditData, <span class="hljs-literal">nil</span>
		}
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"å“åº”æ•°æ®æ ¼å¼é”™è¯¯"</span>)
	}

	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"ä¸šåŠ¡å¼‚å¸¸: %s"</span>, apiResp.Message)
}

<span class="hljs-comment">// === AES åŠ è§£å¯†å·¥å…·å‡½æ•° (AES-128-CBC + PKCS7) ===</span>

<span class="hljs-comment">// AesEncrypt åŠ å¯†</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesEncrypt</span><span class="hljs-params">(origData, key []<span class="hljs-type">byte</span>)</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
	<span class="hljs-comment">// æ¨¡æ‹ŸåŠ å¯†å®ç° (çœŸå®å®ç°éœ€å¤„ç† HexKey å’Œ PKCS7 Padding)</span>
	<span class="hljs-comment">// block, _ := aes.NewCipher(key)</span>
	<span class="hljs-comment">// blockSize := block.BlockSize()</span>
	<span class="hljs-comment">// origData = PKCS7Padding(origData, blockSize)</span>
	<span class="hljs-comment">// ...</span>
	<span class="hljs-keyword">return</span> <span class="hljs-string">"MOCK_GO_ENCRYPTED_STRING"</span>, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// AesDecrypt è§£å¯†</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesDecrypt</span><span class="hljs-params">(encryptedBase64 <span class="hljs-type">string</span>, key []<span class="hljs-type">byte</span>)</span></span> ([]<span class="hljs-type">byte</span>, <span class="hljs-type">error</span>) {
	<span class="hljs-comment">// æ¨¡æ‹Ÿè§£å¯†å®ç°</span>
	<span class="hljs-comment">// encryptedBytes, _ := base64.StdEncoding.DecodeString(encryptedBase64)</span>
	<span class="hljs-comment">// ...</span>
	<span class="hljs-comment">// è¿”å›æ¨¡æ‹Ÿ JSON</span>
	mockJson := <span class="hljs-string">`{"flag":1, "ppcm_behav_score":780, "ppcm_d7_qynum":1, "ppcm_m3_overnum":0}`</span>
	<span class="hljs-keyword">return</span> []<span class="hljs-type">byte</span>(mockJson), <span class="hljs-literal">nil</span>
}
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒæ•°æ®ç»“æ„è§£æ</h2>
<p>åœ¨ Go è¯­è¨€ä¸­ï¼Œé€šè¿‡ <code>struct</code> å®šä¹‰æ•°æ®æ¨¡å‹æ˜¯å¤„ç† JSON çš„æ ‡å‡†æ–¹å¼ã€‚<strong>å¤©è¿œAPI</strong> çš„å“åº”æ•°æ®å¯ä»¥è¢«ç²¾ç¡®åœ°æ˜ å°„åˆ° Go çš„ç»“æ„ä½“ä¸­ï¼Œä»è€Œåˆ©ç”¨ç¼–è¯‘æœŸç±»å‹æ£€æŸ¥æ¥é¿å…é€»è¾‘é”™è¯¯ã€‚</p>
<h3 data-id="heading-6">1. ç»“æ„ä½“è®¾è®¡ç­–ç•¥</h3>
<ul>
<li><strong>æ‰å¹³åŒ–æ˜ å°„</strong>ï¼šç”±äº API è¿”å›çš„ <code>data</code> æ˜¯ä¸€ä¸ªåŒ…å«æ•°ç™¾ä¸ªå­—æ®µçš„æ‰å¹³å¯¹è±¡ï¼Œå»ºè®®å°†ç›¸å…³å­—æ®µåˆ†ç»„å®šä¹‰åœ¨ä¸åŒçš„ç»“æ„ä½“ä¸­ï¼Œæˆ–ä½¿ç”¨ä¸€ä¸ªå¤§çš„ç»“æ„ä½“åŒ…å«æ‰€æœ‰å­—æ®µã€‚</li>
<li><strong>ç©ºå€¼å¤„ç†</strong>ï¼šAPI è¿”å›çš„ <code>1</code> åœ¨ Go ä¸­å¯ä»¥ç›´æ¥æ˜ å°„ä¸º <code>int</code> ç±»å‹ã€‚åœ¨ä¸šåŠ¡é€»è¾‘åˆ¤æ–­æ—¶ï¼ŒåŠ¡å¿…æ³¨æ„ <code>if val == -1</code> çš„å¤„ç†ï¼Œé¿å…å°†å…¶è¯¯åˆ¤ä¸º <code>0</code> (Go çš„ <code>int</code> é»˜è®¤å€¼)ã€‚</li>
<li><strong>Json Tag</strong>ï¼šä½¿ç”¨ <code>json:"field_name"</code> æ ‡ç­¾å°† API çš„ä¸‹åˆ’çº¿å‘½åï¼ˆSnake Caseï¼‰è½¬æ¢ä¸º Go çš„é©¼å³°å‘½åï¼ˆCamel Caseï¼‰ï¼Œç¬¦åˆ Go è¯­è¨€è§„èŒƒã€‚</li>
</ul>
<h3 data-id="heading-7">2. å…³é”®ç»“æ„ä½“ç¤ºä¾‹</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> CreditInsight <span class="hljs-keyword">struct</span> {
    <span class="hljs-comment">// åŸºç¡€ä¿¡æ¯</span>
    Flag       <span class="hljs-type">int</span> <span class="hljs-string">`json:"flag"`</span>             <span class="hljs-comment">// æŸ¥å¾—æ ‡è¯†</span>
    BehavScore <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_behav_score"`</span> <span class="hljs-comment">// è¡Œä¸ºè¯„åˆ†</span>

    <span class="hljs-comment">// æŸ¥éªŒç»´åº¦</span>
    D7QueryNum    <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_d7_qynum"`</span>       <span class="hljs-comment">// è¿‘7å¤©æŸ¥è¯¢</span>
    M3QueryNumAvg <span class="hljs-type">float64</span> <span class="hljs-string">`json:"ppcm_m3_qynum_avg"`</span> <span class="hljs-comment">// è¿‘3æœˆæœˆå‡æŸ¥è¯¢ (æµ®ç‚¹å‹)</span>

    <span class="hljs-comment">// é£é™©ç»´åº¦</span>
    M3OverdueNum <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_m3_overnum"`</span>     <span class="hljs-comment">// è¿‘3æœˆé€¾æœŸ</span>
    LatestRepStatus <span class="hljs-type">int</span> <span class="hljs-string">`json:"ppcm_latest_rep_status"`</span> <span class="hljs-comment">// æœ€æ–°è¿˜æ¬¾çŠ¶æ€</span>
}
</code></pre>
<h2 data-id="heading-8">å››ã€å­—æ®µè¯¦è§£</h2>
<p>åœ¨é«˜æ€§èƒ½é£æ§åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸åªå…³æ³¨é‚£äº›èƒ½å¤Ÿ<strong>å¿«é€Ÿé˜»æ–­</strong>æˆ–<strong>æ˜¾è‘—å½±å“è¯„åˆ†</strong>çš„å…³é”®ç‰¹å¾ã€‚ä»¥ä¸‹æ˜¯ Go å¼€å‘è€…åœ¨æ„å»º <code>struct</code> æ—¶åº”é‡ç‚¹å…³æ³¨çš„å­—æ®µã€‚</p>
<h3 data-id="heading-9">1. ç†”æ–­ç±»å­—æ®µ (Circuit Breaker Fields)</h3>
<p><em>ç”¨äºåœ¨å†³ç­–æµçš„æœ€å‰ç«¯ç›´æ¥æ‹’ç»è¯·æ±‚ï¼ŒèŠ‚çœåç»­è®¡ç®—èµ„æºã€‚</em></p>





























<table><thead><tr><th>JSONå­—æ®µå</th><th>Goå­—æ®µåå»ºè®®</th><th>ç±»å‹</th><th>é€»è¾‘è¯´æ˜</th></tr></thead><tbody><tr><td><strong>flag</strong></td><td><code>Flag</code></td><td><code>int</code></td><td>è‹¥ä¸º <code>0</code>ï¼Œç›´æ¥èµ°â€œæ— è®°å½•â€æµç¨‹ï¼Œæ— éœ€ååºåˆ—åŒ–åç»­å­—æ®µã€‚</td></tr><tr><td><strong>ppcm_m3_overnum</strong></td><td><code>M3OverdueNum</code></td><td><code>int</code></td><td>è‹¥ <code>&gt; 0</code>ï¼Œè§¦å‘â€œé»‘åå•â€è§„åˆ™ï¼Œç›´æ¥æ‹’ç»ã€‚</td></tr><tr><td><strong>ppcm_m6_p4_overamt</strong></td><td><code>M6P4OverdueAmt</code></td><td><code>int</code></td><td>è‹¥ <code>&gt; 0</code> (å­˜åœ¨M4+é€¾æœŸ)ï¼Œä¸¥é‡ä¿¡ç”¨é£é™©ï¼Œç›´æ¥æ‹’ç»ã€‚</td></tr></tbody></table>
<h3 data-id="heading-10">2. è¯„åˆ†ä¸é¢åº¦ç±»å­—æ®µ (Scoring Fields)</h3>
<p><em>ç”¨äºåŠ æƒè®¡ç®—ç»¼åˆè¯„åˆ†ã€‚</em></p>





























<table><thead><tr><th>JSONå­—æ®µå</th><th>Goå­—æ®µåå»ºè®®</th><th>ç±»å‹</th><th>é€»è¾‘è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ppcm_behav_score</strong></td><td><code>BehavScore</code></td><td><code>int</code></td><td>åŸºç¡€åˆ†ï¼Œæƒé‡é€šå¸¸è®¾ä¸ºæœ€é«˜ã€‚</td></tr><tr><td><strong>ppcm_m12_succ_repnum</strong></td><td><code>M12SuccRepNum</code></td><td><code>int</code></td><td>å±¥çº¦æ¬¡æ•°ï¼Œæ­£å‘åŠ åˆ†é¡¹ã€‚</td></tr><tr><td><strong>ppcm_d7_loanamt</strong></td><td><code>D7LoanAmt</code></td><td><code>int</code></td><td>è¿‘æœŸè´Ÿå€ºç­‰çº§ï¼Œè´Ÿå‘å‡åˆ†é¡¹ã€‚</td></tr></tbody></table>
<h3 data-id="heading-11">3. è¡Œä¸ºçªå˜ç±»å­—æ®µ (Behavior Shift Fields)</h3>
<p><em>ç”¨äºæ£€æµ‹å¼‚å¸¸è¡Œä¸ºæ¨¡å¼ã€‚</em></p>























<table><thead><tr><th>JSONå­—æ®µå</th><th>Goå­—æ®µåå»ºè®®</th><th>ç±»å‹</th><th>é€»è¾‘è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ppcm_d7_m12_qynum_ratio</strong></td><td><code>D7M12QueryRatio</code></td><td><code>float64</code></td><td>çŸ­æœŸæŸ¥è¯¢æ¿€å¢æ¯”ç‡ã€‚éœ€å¤„ç†æµ®ç‚¹ç²¾åº¦ã€‚</td></tr><tr><td><strong>ppcm_m1_loanorg_new</strong></td><td><code>M1NewLoanOrg</code></td><td><code>int</code></td><td>æ–°å¢å€Ÿè´·å¹³å°æ•°ã€‚å…³æ³¨å¤šå¤´å€Ÿè´·è¶‹åŠ¿ã€‚</td></tr></tbody></table>
<h2 data-id="heading-12">äº”ã€åº”ç”¨ä»·å€¼åˆ†æ</h2>
<p>åˆ©ç”¨ Go è¯­è¨€çš„é«˜å¹¶å‘ç‰¹æ€§ï¼Œé›†æˆ <strong>å¤©è¿œAPI</strong> å¯ä»¥æ”¯æ’‘ä»¥ä¸‹æ ¸å¿ƒåœºæ™¯ï¼š</p>
<ol>
<li>
<p><strong>é«˜å¹¶å‘å®æ—¶å®¡æ‰¹ç½‘å…³</strong>ï¼š</p>
<ul>
<li>åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒGo æœåŠ¡ä½œä¸ºé£æ§ç½‘å…³ï¼Œåˆ©ç”¨ <code>goroutine</code> å¹¶å‘è°ƒç”¨ <strong>å¤©è¿œAPI</strong> å’Œå…¶ä»–æ•°æ®æºã€‚</li>
<li>é€šè¿‡ <code>channel</code> æ±‡èšå¤šè·¯æ•°æ®ï¼Œå®ç° <strong>300ms å†…</strong> å®Œæˆå…¨æµç¨‹é£é™©æ‰«æä¸å†³ç­–ã€‚</li>
</ul>
</li>
<li>
<p><strong>æµå¼æ•°æ®æ¸…æ´— (Stream Processing)</strong> ï¼š</p>
<ul>
<li>å¯¹æ¥ Kafka æˆ– RabbitMQï¼Œæ¶ˆè´¹ç”¨æˆ·ç”³è¯·äº‹ä»¶ã€‚</li>
<li>è°ƒç”¨ API è¡¥å……ä¿¡è´·è¡Œä¸ºæ•°æ®ï¼Œæ¸…æ´—åå†™å…¥ HBase æˆ– ClickHouseï¼Œç”¨äºæ„å»º<strong>å®æ—¶é£æ§å¤§å±</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŠ¨æ€é¢åº¦å¼•æ“</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡ç”¨æˆ·å‘èµ·å€Ÿæ¬¾æ—¶ï¼Œå®æ—¶è°ƒç”¨ API è·å–æœ€æ–°çš„ <code>ppcm_d7_loanamt</code> (å½“å‰è´Ÿå€º) å’Œ <code>ppcm_latest_rep_status</code> (è¿˜æ¬¾çŠ¶æ€)ã€‚</li>
<li>ç»“åˆ Go å®ç°çš„è§„åˆ™å¼•æ“ï¼ŒåŠ¨æ€è®¡ç®—æœ¬æ¬¡å¯å€Ÿé¢åº¦ï¼Œé˜²æ­¢è¶…é¢æˆä¿¡ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-13">å…­ã€èµ‹èƒ½æœªæ¥ï¼šæ„å»ºç¨³å¥çš„ä¿¡è´·æŠ€æœ¯ç”Ÿæ€</h2>
<p>å¯¹äºè¿½æ±‚æè‡´æ€§èƒ½çš„é£æ§å›¢é˜Ÿï¼Œ<strong>Go è¯­è¨€</strong>æ˜¯é›†æˆ <strong>å¤©è¿œAPI</strong> çš„ç†æƒ³é€‰æ‹©ã€‚å…¶é«˜æ•ˆçš„å¹¶å‘æ¨¡å‹å’Œå¿«é€Ÿçš„ç¼–è¯‘é€Ÿåº¦ï¼Œå®Œç¾å¥‘åˆäº†ä¿¡è´·ä¸šåŠ¡å¯¹<strong>ä½å»¶è¿Ÿ</strong>å’Œ<strong>é«˜åå</strong>çš„è¦æ±‚ã€‚</p>
<p>æœ¬æ–‡æ¡£æä¾›äº†å®Œæ•´çš„ Go è¯­è¨€æ¥å…¥èŒƒä¾‹ï¼Œé‡ç‚¹è§£å†³äº† AES åŠ å¯†å¡«å……å’Œ JSON ç»“æ„ä½“æ˜ å°„ç­‰æŠ€æœ¯ç»†èŠ‚ã€‚é€šè¿‡åˆç†å®šä¹‰ Struct å¹¶åˆ©ç”¨ Go çš„å¹¶å‘ä¼˜åŠ¿ï¼Œä¼ä¸šå¯ä»¥å¿«é€Ÿæ„å»ºèµ·èƒ½å¤Ÿæ”¯æ’‘åƒä¸‡çº§æ—¥è°ƒç”¨é‡çš„<strong>æ”¯ä»˜è¡Œä¸ºæŒ‡æ•°</strong>åˆ†æç³»ç»Ÿï¼Œå°† <strong>å¤©è¿œAPI</strong> çš„æ•°æ®ä»·å€¼è½¬åŒ–ä¸ºå®å®åœ¨åœ¨çš„ä¸šåŠ¡é£æ§é˜²çº¿ã€‚</p>
<h2 data-id="heading-14">ä¸ƒã€æ•°æ®åˆè§„ä¸éšç§å®‰å…¨å£°æ˜</h2>
<p>æ— è®ºæ˜¯ä½¿ç”¨ Pythonã€Javaã€PHP è¿˜æ˜¯ Go è¯­è¨€æ¥å…¥ <strong>å¤©è¿œAPI</strong>ï¼ŒæŠ€æœ¯å®ç°ä»…ä»…æ˜¯æ•°æ®èµ‹èƒ½ä¸šåŠ¡çš„èµ·ç‚¹ã€‚åœ¨åˆ©ç”¨ <strong>ä¿¡è´·è¡Œä¸ºæ•°æ®æ´å¯Ÿ</strong> ç­‰æ¶‰åŠä¸ªäººä¿¡ç”¨çš„é«˜æ•æ„Ÿåº¦æ¥å£è¿›è¡Œé£æ§å†³ç­–æ—¶ï¼Œ<strong>æ•°æ®åˆè§„ä¸éšç§ä¿æŠ¤</strong> å§‹ç»ˆæ˜¯ä¼ä¸šä¸å¯é€¾è¶Šçš„çº¢çº¿ã€‚</p>
<p>å¤©è¿œæ•°æ®ä¸¥æ ¼éµå¾ªã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹åŠç›¸å…³æ³•å¾‹æ³•è§„ï¼Œè¦æ±‚å¼€å‘è€…åœ¨è°ƒç”¨æ¥å£æ—¶å¿…é¡»ç¡®ä¿å·²è·å¾—ç”¨æˆ·çš„<strong>æ˜ç¡®æˆæƒ</strong>ï¼ˆå³è¯·æ±‚å‚æ•°ä¸­ <code>authorized</code> å¿…é¡»ä¸º <code>1</code>ï¼Œä¸”ä¿ç•™çœŸå®çš„æˆæƒå‡­è¯ï¼‰ã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä¼ä¸šåœ¨æ•°æ®é‡‡é›†ã€ä¼ è¾“ï¼ˆå…¨ç¨‹åŠ å¯†ï¼‰åŠå­˜å‚¨çš„å…¨ç”Ÿå‘½å‘¨æœŸä¸­å»ºç«‹ä¸¥æ ¼çš„éšç§ä¿æŠ¤æœºåˆ¶ã€‚è¿™ä¸ä»…æ˜¯æ»¡è¶³ç›‘ç®¡åˆè§„çš„åŸºæœ¬è¦æ±‚ï¼Œæ›´æ˜¯æ„å»ºç”¨æˆ·ä¿¡ä»»ã€ä¿éšœä¼ä¸šä¸šåŠ¡é•¿æœŸç¨³å¥å‘å±•çš„åŸºçŸ³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android ä¹‹Google Play bundletool æ ¡éªŒ AABåŒ…]]></title>    <link>https://juejin.cn/post/7580198093153402926</link>    <guid>https://juejin.cn/post/7580198093153402926</guid>    <pubDate>2025-12-05T09:56:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093153402926" data-draft-id="7580180556983107634" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android ä¹‹Google Play bundletool æ ¡éªŒ AABåŒ…"/> <meta itemprop="keywords" content="Android,Google"/> <meta itemprop="datePublished" content="2025-12-05T09:56:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²¡æœ‰äº†é‡è§"/> <meta itemprop="url" content="https://juejin.cn/user/1521379826212983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android ä¹‹Google Play bundletool æ ¡éªŒ AABåŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379826212983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²¡æœ‰äº†é‡è§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T09:56:10.000Z" title="Fri Dec 05 2025 09:56:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Ftools%2Fbundletool%3Fhl%3Dzh_cn" target="_blank" title="https://developer.android.google.cn/tools/bundletool?hl=zh_cn" ref="nofollow noopener noreferrer">å®˜æ–¹è¯´æ˜</a></p>
<h2 data-id="heading-0">1:bundletoolä¸‹è½½</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle%2Fbundletool%2Freleases" target="_blank" title="https://github.com/google/bundletool/releases" ref="nofollow noopener noreferrer">ä¸‹è½½åœ°å€</a></p>
<p>//  æ ¹æ®ç­¾å æ‰“å‡ºæ¥ aab ç„¶åè§£å‹å‡ºæ¥apk  æµ‹è¯• aabåŒ…æ˜¯å¦æœ‰ç”¨</p>
<h2 data-id="heading-1">2:bundletoolæ ¡éªŒAABåŒ…æ˜¯å¦å¯è¿è¡Œ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff8f8e322fbe4b03b69342785c2ea5ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533370&amp;x-signature=lAUnLOKGdK9zy4s2NmUTt4bRNzE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2912575ddb34f278c427bcb356586bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKh5pyJ5LqG6YGH6KeB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765533370&amp;x-signature=hAAr%2B5VNRAow8ztmJDFCsM2ypng%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini">xxx.jks ç­¾åæ–‡ä»¶
java -jar C:\Users\Administrator\Desktop\aab\bundletool-all-1.18.2.jar build-apks ^
<span class="hljs-attr">--bundle</span>=C:\Users\Administrator\Desktop\aab\app-release.aab ^
<span class="hljs-attr">--output</span>=C:\Users\Administrator\Desktop\aab\app.apks ^
<span class="hljs-attr">--mode</span>=universal ^
<span class="hljs-attr">--ks</span>=C:\Users\Administrator\Desktop\aab\xxx.jks ^
<span class="hljs-attr">--ks-key-alias</span>=alias ^
<span class="hljs-attr">--ks-pass</span>=pass:<span class="hljs-number">123456</span> ^
<span class="hljs-attr">--key-pass</span>=pass:<span class="hljs-number">123456</span>

</code></pre>
<p><code>æ­¥éª¤</code></p>
<ul>
<li>ä¸‹è½½bundletool</li>
<li>å¤åˆ¶ä¸Šè¾¹ä»£ç </li>
<li>cd åˆ°æŒ‡å®šç›®å½•ä¸‹</li>
<li>æ‰§è¡Œ å¾—åˆ°apks</li>
<li>ä¿®æ”¹æˆzip rename C:\Users\Administrator\Desktop\aab\app.apks app.zip</li>
<li>è§£å‹å¾—åˆ° universal.apk</li>
<li>adb å®‰è£… adb install -r C:\Users\Administrator\Desktop\aab\universal.apk</li>
</ul>
<h2 data-id="heading-2">æ€»ç»“:</h2>
<p>æ‰“åŒ…æˆAABçš„æ—¶å€™å¯èƒ½å‡ºç°ä¸èƒ½è¿è¡Œçš„æƒ…å†µ è¿™ä¸ªæ—¶å€™å°±éœ€è¦æµ‹è¯•AABçš„å®‰å…¨æ€§,é€šè¿‡è¿™ç§æ“ä½œ å°±èƒ½æ£€æµ‹è‡ªå·±çš„AABåŒ…æ˜¯å¦èƒ½ç”¨/</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI First æ—¶ä»£ï¼šç”¨å¤§æ¨¡å‹æ„å»ºè½»é‡çº§åå°ç®¡ç†ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7579999793319297030</link>    <guid>https://juejin.cn/post/7579999793319297030</guid>    <pubDate>2025-12-05T07:09:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579999793319297030" data-draft-id="7579999793319116806" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI First æ—¶ä»£ï¼šç”¨å¤§æ¨¡å‹æ„å»ºè½»é‡çº§åå°ç®¡ç†ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,LLM"/> <meta itemprop="datePublished" content="2025-12-05T07:09:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ohyeah"/> <meta itemprop="url" content="https://juejin.cn/user/740446536480618"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI First æ—¶ä»£ï¼šç”¨å¤§æ¨¡å‹æ„å»ºè½»é‡çº§åå°ç®¡ç†ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/740446536480618/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ohyeah
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:09:46.000Z" title="Fri Dec 05 2025 07:09:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å½“å‰æŠ€æœ¯å¿«é€Ÿæ¼”è¿›çš„èƒŒæ™¯ä¸‹ï¼Œâ€œAI Firstâ€æ­£é€æ¸æˆä¸ºè½¯ä»¶å¼€å‘çš„æ–°èŒƒå¼ã€‚ä»è‡ªç„¶è¯­è¨€ç”Ÿæˆ SQL åˆ°æ™ºèƒ½ä»£ç†è‡ªåŠ¨å®Œæˆæ—¥å¸¸ä»»åŠ¡ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ­£åœ¨é‡å¡‘æˆ‘ä»¬ä¸ç³»ç»Ÿäº¤äº’çš„æ–¹å¼ã€‚æœ¬æ–‡å°†ç»“åˆä¸€æ®µä½¿ç”¨ DeepSeek å¤§æ¨¡å‹å®ç°çš„è½»é‡åŒ–åå°ç®¡ç†ç³»ç»Ÿçš„ä»£ç ç¤ºä¾‹ï¼Œæ¢è®¨â€œAI Firstâ€ç†å¿µå¦‚ä½•ç®€åŒ–ä¼ ç»Ÿå¼€å‘æµç¨‹ï¼Œå¹¶å¯¹æ¯”â€œMobile Firstâ€çš„è®¾è®¡å“²å­¦ï¼Œå±•æœ›æœªæ¥äººæœºåä½œçš„æ–°å½¢æ€ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¼ ç»Ÿåå°ç®¡ç† vs AI é©±åŠ¨çš„åå°ç®¡ç†</h2>
<p>ä¼ ç»Ÿçš„åå°ç®¡ç†ç³»ç»Ÿé€šå¸¸ä¾èµ–å¼€å‘è€…æ‰‹å†™ SQL æŸ¥è¯¢ã€æ„å»º CRUD æ¥å£ã€ç¼–å†™ä¸šåŠ¡é€»è¾‘ç­‰ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸ä»…ç¹çï¼Œè¿˜å®¹æ˜“å‡ºé”™ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤æ‚æŸ¥è¯¢æˆ–è·¨è¡¨å…³è”æ—¶ã€‚</p>
<p>è€Œå€ŸåŠ©å¤§è¯­è¨€æ¨¡å‹çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥å°†è‡ªç„¶è¯­è¨€ç›´æ¥è½¬åŒ–ä¸ºå¯æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œä»è€Œå¤§å¹…é™ä½å¼€å‘é—¨æ§›ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ DeepSeek API å®ç°çš„è½»é‡çº§å‘˜å·¥ä¿¡æ¯ç®¡ç†ç³»ç»Ÿçš„å®Œæ•´æµç¨‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI
<span class="hljs-keyword">import</span> sqlite3

<span class="hljs-comment"># åˆå§‹åŒ– LLM å®¢æˆ·ç«¯ï¼ˆå…¼å®¹ OpenAI SDKï¼‰</span>
client = OpenAI(
    api_key=<span class="hljs-string">'your_api_key'</span>,
    base_url=<span class="hljs-string">'https://api.deepseek.com/v1'</span>
)
<span class="hljs-comment">#è¿™é‡Œå¯¼å…¥çš„æ˜¯openaiçš„SDKï¼Œä½†æ˜¯é€šè¿‡è®¾ç½®base_urlï¼Œå®é™…è°ƒç”¨çš„æ˜¯DeepSeekçš„å…¼å®¹OpenAI APIæ¥å£</span>
<span class="hljs-comment"># è¿æ¥ SQLite æ•°æ®åº“</span>
conn = sqlite3.connect(<span class="hljs-string">"test.db"</span>)
cursor = conn.cursor()

<span class="hljs-comment"># åˆ›å»ºå‘˜å·¥è¡¨</span>
cursor.execute(<span class="hljs-string">"""
CREATE TABLE IF NOT EXISTS employees(
    id INTEGER PRIMARY KEY,
    name TEXT,
    department TEXT,
    salary INTEGER
)
"""</span>)

<span class="hljs-comment"># æ’å…¥ç¤ºä¾‹æ•°æ®</span>
sample_data = [
    (<span class="hljs-number">6</span>, <span class="hljs-string">"é»„ä½³"</span>, <span class="hljs-string">"é”€å”®"</span>, <span class="hljs-number">50000</span>),
    (<span class="hljs-number">7</span>, <span class="hljs-string">"å®å®"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">75000</span>),
    (<span class="hljs-number">8</span>, <span class="hljs-string">"è°¦è°¦"</span>, <span class="hljs-string">"é”€å”®"</span>, <span class="hljs-number">60000</span>),
    (<span class="hljs-number">9</span>, <span class="hljs-string">"æ‚¦æ‚¦"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">80000</span>),
    (<span class="hljs-number">10</span>, <span class="hljs-string">"é»„ä»å‹‹"</span>, <span class="hljs-string">"å¸‚åœº"</span>, <span class="hljs-number">55000</span>),
    (<span class="hljs-number">11</span>, <span class="hljs-string">"æ›¾ç¹èŠ±"</span>, <span class="hljs-string">"å·¥ç¨‹"</span>, <span class="hljs-number">80000</span>)
]
<span class="hljs-comment">#æ’å…¥sql</span>
cursor.executemany(<span class="hljs-string">"INSERT INTO employees VALUES (?,?,?,?)"</span>, sample_data)
conn.commit()<span class="hljs-comment"># ç¡®è®¤ æäº¤sqläº‹åŠ¡</span>
</code></pre>
<p>è¿™æ®µä»£ç å®Œæˆäº†æ•°æ®åº“åˆå§‹åŒ–å’ŒåŸºç¡€æ•°æ®å¡«å……ã€‚æ¥ä¸‹æ¥çš„å…³é”®åœ¨äºï¼š<strong>å¦‚ä½•è®© LLM ç†è§£è¡¨ç»“æ„å¹¶ç”Ÿæˆæ­£ç¡®çš„ SQLï¼Ÿ</strong></p>
<hr/>
<h2 data-id="heading-1">äºŒã€Schema ä¸Šä¸‹æ–‡ + è‡ªç„¶è¯­è¨€ = å¯æ‰§è¡Œ SQL</h2>
<p>ä¸ºäº†è®© LLM å‡†ç¡®ç†è§£æ•°æ®åº“ç»“æ„ï¼Œæˆ‘ä»¬éœ€è¦æä¾› schema ä¿¡æ¯ä½œä¸ºä¸Šä¸‹æ–‡ã€‚é€šè¿‡ <code>PRAGMA table_info</code> è·å–å­—æ®µä¿¡æ¯åï¼Œå°†å…¶æ ¼å¼åŒ–ä¸ºæ ‡å‡†çš„ <code>CREATE TABLE</code> è¯­å¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">schema</span> = cursor.execute(<span class="hljs-string">"PRAGMA table_info(employees)"</span>).fetchall()
<span class="hljs-attr">schema_str</span> = <span class="hljs-string">"CREATE TABLE EMPLOYEES (\n"</span> + <span class="hljs-string">"\n"</span>.join([f<span class="hljs-string">"{col[1]} {col[2]}"</span> for col in schema]) + <span class="hljs-string">"\n)"</span>
</code></pre>
<p>ç„¶åæ„é€ ä¸€ä¸ªç®€æ´æ˜ç¡®çš„ Promptï¼Œå¼•å¯¼æ¨¡å‹åªè¾“å‡ºçº¯ SQLï¼š</p>
<pre><code class="hljs language-ini" lang="ini">def ask_deepseek(query, schema):
    <span class="hljs-attr">prompt</span> = f<span class="hljs-string">"""
    è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“çš„schema:
    {schema}
    æ ¹æ®è¿™ä¸ªSchemaï¼Œè¯·è¾“å‡ºä¸€ä¸ªSQLæŸ¥è¯¢æ¥å›ç­”ä»¥ä¸‹é—®é¢˜ã€‚
    åªè¾“å‡ºSQLæŸ¥è¯¢è¯­å¥æœ¬èº«ï¼Œä¸è¦ä½¿ç”¨ä»»ä½•Markdownæ ¼å¼ï¼Œ
    ä¸è¦åŒ…å«åå¼•å·ã€ä»£ç å—æ ‡è®°æˆ–é¢å¤–è¯´æ˜ã€‚
    é—®é¢˜:{query}
    """</span>
    <span class="hljs-attr">response</span> = client.chat.completions.create(
        <span class="hljs-attr">model</span>=<span class="hljs-string">"deepseek-chat"</span>,
        <span class="hljs-attr">max_tokens</span>=<span class="hljs-number">2048</span>,
        <span class="hljs-attr">messages</span>=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
        <span class="hljs-attr">temperature</span>=<span class="hljs-number">0</span>
    )
    return response.choices<span class="hljs-section">[0]</span>.message.content
</code></pre>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æé—®ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">question</span> = <span class="hljs-string">"å·¥ç¨‹éƒ¨é—¨å‘˜å·¥çš„å§“åå’Œå·¥èµ„æ˜¯å¤šå°‘?"</span>
<span class="hljs-attr">sql_query</span> = ask_deepseek(question, schema_str)
print(sql_query)  <span class="hljs-comment"># è¾“å‡º: SELECT name, salary FROM employees WHERE department = 'å·¥ç¨‹';</span>
</code></pre>
<p>éšåç›´æ¥æ‰§è¡Œè¯¥ SQL å¹¶è·å–ç»“æœï¼š</p>
<pre><code class="hljs language-scss" lang="scss">results = <span class="hljs-attribute">cursor</span><span class="hljs-selector-class">.execute</span>(sql_query)<span class="hljs-selector-class">.fetchall</span>()
<span class="hljs-built_in">print</span>(results)
</code></pre>
<p>åŒæ ·åœ°ï¼Œå¢åˆ æ”¹æ“ä½œä¹Ÿå¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€é©±åŠ¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¢åŠ å‘˜å·¥</span>
<span class="hljs-attr">question</span> = <span class="hljs-string">"åœ¨é”€å”®éƒ¨é—¨å¢åŠ ä¸€ä¸ªæ–°å‘˜å·¥ï¼Œå§“åä¸ºå¼ ä¸‰ï¼Œå·¥èµ„ä¸º45000"</span>
<span class="hljs-attr">sql_question</span> = ask_deepseek(question, schema_str)
cursor.execute(sql_question)
conn.commit()

<span class="hljs-comment"># åˆ é™¤å‘˜å·¥</span>
<span class="hljs-attr">question</span> = <span class="hljs-string">"åˆ é™¤å¸‚åœºéƒ¨é—¨çš„é»„ä»å‹‹"</span>
<span class="hljs-attr">sql_query</span> = ask_deepseek(question, schema_str)
cursor.execute(sql_query)
conn.commit()
</code></pre>
<p>è¿™ç§æ¨¡å¼æå¤§ç®€åŒ–äº†åç«¯é€»è¾‘çš„ç¼–å†™ï¼Œå°¤å…¶é€‚åˆå¿«é€ŸåŸå‹å¼€å‘æˆ–éä¸“ä¸šå¼€å‘è€…ä½¿ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€â€œAI Firstâ€ vs â€œMobile Firstâ€ï¼šä¸¤ç§è®¾è®¡å“²å­¦çš„èåˆ</h2>
<p>å¦‚æœè¯´â€œMobile Firstâ€æ˜¯è¿‡å»åå¹´ç§»åŠ¨äº’è”ç½‘æ—¶ä»£çš„ä¸»æµè®¾è®¡æ€æƒ³â€”â€”å³ä¼˜å…ˆä¸ºå°å±è®¾å¤‡è®¾è®¡ä½“éªŒï¼Œå†é€‚é…å¤§å±ï¼›é‚£ä¹ˆâ€œAI Firstâ€åˆ™æ˜¯å½“å‰ AIGC æµªæ½®ä¸‹çš„æ–°èŒƒå¼ã€‚</p>
<ul>
<li><strong>Mobile First</strong> å¼ºè°ƒç”¨æˆ·ç•Œé¢ä¸äº¤äº’è·¯å¾„çš„ä¼˜åŒ–ï¼Œæ ¸å¿ƒæ˜¯â€œé€‚é…è®¾å¤‡â€ï¼›</li>
<li><strong>AI First</strong> åˆ™å¼ºè°ƒâ€œè‡ªç„¶è¯­è¨€å³æ¥å£â€ï¼Œç”¨æˆ·æ— éœ€å­¦ä¹ å¤æ‚çš„æ“ä½œé€»è¾‘ï¼Œåªéœ€è¡¨è¾¾æ„å›¾ï¼Œç³»ç»Ÿå³å¯è‡ªåŠ¨æ‰§è¡Œã€‚</li>
</ul>
<p>ä¸¤è€…å¹¶éå¯¹ç«‹ï¼Œè€Œæ˜¯å¯ä»¥èåˆã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>åœ¨ç§»åŠ¨ç«¯ App ä¸­é›†æˆ LLM èƒ½åŠ›ï¼Œç”¨æˆ·é€šè¿‡è¯­éŸ³æˆ–æ–‡å­—æŒ‡ä»¤å®Œæˆæ“ä½œï¼›</li>
<li>åå°ç®¡ç†ç³»ç»Ÿé‡‡ç”¨ AI è‡ªåŠ¨ç”Ÿæˆ SQLï¼Œå‰ç«¯åˆ™éµå¾ªå“åº”å¼è®¾è®¡ï¼Œé€‚é…æ‰‹æœºä¸ PCã€‚</li>
<li>â€œå°ç¨‹åº APP åœ¨æ­¤åŸºç¡€ä¸‹é€‚é… PC ç«¯â€ï¼Œæœªæ¥å¾ˆå¯èƒ½æ˜¯ <strong>â€œAI First + Mobile Firstâ€åŒè½®é©±åŠ¨</strong> çš„äº§å“å½¢æ€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">å››ã€ä»ç‚¹å¥¶èŒ¶çœ‹ AI Agent çš„æœªæ¥</h2>
<p>ä¸€ä¸ªç”ŸåŠ¨çš„ä¾‹å­æ˜¯â€œç‚¹å¥¶èŒ¶â€åœºæ™¯ï¼š</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šæ‰“å¼€ç¾å›¢/æŠ–éŸ³/æ·˜å® â†’ æœç´¢å¥¶èŒ¶ â†’ æ¯”ä»· â†’ é€‰ä¼˜æƒ åˆ¸ â†’ ä¸‹å•ã€‚</li>
<li><strong>AI First æ–¹å¼</strong>ï¼šå¯¹æ‰‹æœºè¯´ï¼šâ€œå¸®æˆ‘ç‚¹ä¸€æ¯å°‘ç³–çƒ­å¥¶èŒ¶ï¼Œåœ¨ç¾å›¢ã€æŠ–éŸ³ã€æ·˜å®ä¸Šæ¯”ä»·ï¼Œç”¨æœ€ä¾¿å®œçš„é‚£å®¶ä¸‹å•ã€‚â€</li>
</ul>
<p>è¿™èƒŒåä¾èµ–çš„æ˜¯ <strong>AI Agent</strong> çš„èƒ½åŠ›ï¼šç†è§£æ„å›¾ã€è°ƒç”¨å¤šä¸ªæœåŠ¡ APIã€æ‰§è¡Œå†³ç­–ã€å®Œæˆé—­ç¯æ“ä½œã€‚è™½ç„¶ç›®å‰è¿™ç±»å…¨è‡ªåŠ¨åŒ–ä»£ç†å°šæœªæ™®åŠï¼Œä½†åƒè±†åŒ…ã€Gemini ç­‰æ™ºèƒ½åŠ©æ‰‹å·²å±•ç°å‡ºåˆæ­¥èƒ½åŠ›ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<strong>APP ä¸ä¼šæ¶ˆå¤±</strong>ï¼Œè€Œæ˜¯æ¼”å˜ä¸º LLM å¯è°ƒåº¦çš„æœåŠ¡èŠ‚ç‚¹ã€‚æœªæ¥çš„åº”ç”¨æ¶æ„å¯èƒ½æ˜¯ï¼š</p>
<blockquote>
<p>ç”¨æˆ· â†’ LLM Agent â†’ å¤šä¸ªå¾®æœåŠ¡ï¼ˆå¦‚æ”¯ä»˜ã€è®¢å•ã€åº“å­˜ï¼‰â†’ æ‰§è¡Œç»“æœè¿”å›</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äº”ã€å¼€æºç”Ÿæ€åŠ©åŠ› AI åº”ç”¨è½åœ°</h2>
<p>åœ¨å›½å†…ï¼Œé˜¿é‡Œäº‘æ¨å‡ºçš„ <strong>ModelScopeï¼ˆé­”æ­ï¼‰</strong> æ­£åœ¨æ„å»ºç±»ä¼¼â€œå¤§æ¨¡å‹åº”ç”¨å¸‚åœºâ€çš„ç”Ÿæ€ã€‚å¼€å‘è€…å¯ä»¥åœ¨å…¶ä¸­ï¼š</p>
<ul>
<li>ä¸‹è½½å¼€æºå¤§æ¨¡å‹ï¼›</li>
<li>è·å–é«˜è´¨é‡æ•°æ®é›†ç”¨äºå¾®è°ƒï¼›</li>
<li>ä½¿ç”¨ Notebook å¿«é€Ÿå®éªŒå’Œéƒ¨ç½²ã€‚</li>
</ul>
<p>è¿™ç§ä½é—¨æ§›çš„å·¥å…·é“¾ï¼Œä½¿å¾—åƒæœ¬æ–‡ä¸­çš„â€œè‡ªç„¶è¯­è¨€è½¬ SQLâ€ç³»ç»Ÿèƒ½å¤Ÿè¢«æ›´å¤šäººå¤ç°å’Œæ‰©å±•ï¼Œè¿›ä¸€æ­¥æ¨åŠ¨â€œAI Firstâ€ç†å¿µåœ¨å®é™…é¡¹ç›®ä¸­çš„è½åœ°ã€‚</p>
<hr/>
<h2 data-id="heading-5">ç»“è¯­</h2>
<p>â€œAI Firstâ€ä¸æ˜¯å–ä»£å¼€å‘è€…ï¼Œè€Œæ˜¯å°†é‡å¤æ€§ã€æ¨¡æ¿åŒ–çš„ç¼–ç å·¥ä½œäº¤ç»™æ¨¡å‹ï¼Œè®©äººä¸“æ³¨äºæ›´é«˜ä»·å€¼çš„é€»è¾‘è®¾è®¡ä¸ç”¨æˆ·ä½“éªŒã€‚æœ¬æ–‡å±•ç¤ºçš„è½»é‡çº§åå°ç®¡ç†ç³»ç»Ÿï¼Œæ­£æ˜¯è¿™ä¸€ç†å¿µçš„ç¼©å½±ï¼šç”¨å‡ è¡Œä»£ç  + è‡ªç„¶è¯­è¨€ï¼Œå³å¯å®Œæˆä¼ ç»Ÿéœ€è¦æ•°åè¡Œ SQL å’Œæ¥å£çš„å·¥ä½œã€‚</p>
<p>éšç€ LLM èƒ½åŠ›çš„æŒç»­å¢å¼ºã€å·¥å…·é“¾çš„æ—¥ç›Šæˆç†Ÿï¼Œæˆ‘ä»¬æœ‰ç†ç”±ç›¸ä¿¡ï¼šæœªæ¥çš„è½¯ä»¶å¼€å‘ï¼Œå°†è¶Šæ¥è¶Šâ€œå¯¹è¯é©±åŠ¨â€ã€â€œæ„å›¾é©±åŠ¨â€ã€‚è€Œä½œä¸ºå¼€å‘è€…ï¼Œæ‹¥æŠ± AIï¼Œä¸æ˜¯é€‰æ‹©ï¼Œè€Œæ˜¯å¿…ç„¶ã€‚</p>
<blockquote>
<p><strong>å‚è€ƒæç¤º</strong>ï¼šæœ¬æ–‡ä»£ç åŸºäº DeepSeek API å®ç°ï¼Œå®é™…ä½¿ç”¨æ—¶è¯·ç¡®ä¿ API Key å®‰å…¨ï¼Œå¹¶æ³¨æ„ç”Ÿäº§ç¯å¢ƒä¸­çš„ SQL æ³¨å…¥é£é™©</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Next.js è·¯ç”±ä¸ä¸­é—´ä»¶]]></title>    <link>https://juejin.cn/post/7579995569688772642</link>    <guid>https://juejin.cn/post/7579995569688772642</guid>    <pubDate>2025-12-05T07:22:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579995569688772642" data-draft-id="7576689869809139748" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Next.js è·¯ç”±ä¸ä¸­é—´ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T07:22:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç±³è¯ºzuo"/> <meta itemprop="url" content="https://juejin.cn/user/2436173497373399"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Next.js è·¯ç”±ä¸ä¸­é—´ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173497373399/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç±³è¯ºzuo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:22:44.000Z" title="Fri Dec 05 2025 07:22:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶ï¼Ÿ</h3>
<p>ä¸­é—´ä»¶æ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼Œå®ƒè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œä½äº<strong>è¯·æ±‚</strong>å’Œ<strong>å“åº”</strong>ä¹‹é—´ã€‚å½“ä¸€ä¸ªè¯·æ±‚è¿›å…¥ä½ çš„ Next.js åº”ç”¨æ—¶ï¼Œå®ƒä¼šé¦–å…ˆç»è¿‡ä¸­é—´ä»¶ï¼Œç„¶åæ‰ä¼šç»§ç»­åˆ°å¯¹åº”çš„é¡µé¢è·¯ç”±ã€‚</p>
<p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼š</p>
<ul>
<li><strong>è®¤è¯ä¸æˆæƒ</strong>ï¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ï¼Œé‡å®šå‘æœªç™»å½•ç”¨æˆ·ã€‚</li>
<li><strong>åœ°ç†ä½ç½®å®šä½</strong>ï¼šæ ¹æ®ç”¨æˆ·çš„ IP åœ°å€é‡å®šå‘åˆ°ç‰¹å®šè¯­è¨€æˆ–åœ°åŒºçš„é¡µé¢ã€‚</li>
<li><strong>A/B æµ‹è¯•</strong>ï¼šå°†ç”¨æˆ·éšæœºåˆ†é…åˆ°ä¸åŒç‰ˆæœ¬çš„é¡µé¢ã€‚</li>
<li><strong>æ—¥å¿—ä¸åˆ†æ</strong>ï¼šè®°å½•è¯·æ±‚ä¿¡æ¯ï¼Œç”¨äºåˆ†æç”¨æˆ·è¡Œä¸ºã€‚</li>
<li><strong>æœºå™¨äººæ£€æµ‹ä¸é˜²ç«å¢™</strong>ï¼šé˜»æ­¢æ¶æ„è¯·æ±‚ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. å¦‚ä½•åˆ›å»ºä¸­é—´ä»¶</h3>
<p>åˆ›å»ºä¸­é—´ä»¶éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>middleware.ts</code> (æˆ– <code>.js</code>) çš„æ–‡ä»¶ã€‚
<strong>æ–‡ä»¶ä½ç½®</strong>ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">.
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ middleware.ts  &lt;<span class="hljs-comment">-- åœ¨è¿™é‡Œåˆ›å»º</span>
â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
â””â”€â”€ ...
</code></pre>
<p><strong>æˆ–è€…</strong>ï¼Œå¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ <code>src</code> ç›®å½•ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">.
â”œâ”€â”€ app/
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ middleware.ts  &lt;<span class="hljs-comment">-- åœ¨è¿™é‡Œåˆ›å»º</span>
â”œâ”€â”€ <span class="hljs-built_in">package</span>.json
â””â”€â”€ ...
</code></pre>
<hr/>
<h3 data-id="heading-2">3. ä¸­é—´ä»¶çš„æ ¸å¿ƒï¼š<code>matcher</code> é…ç½®</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸­é—´ä»¶ä¼šåŒ¹é…<strong>æ‰€æœ‰è·¯å¾„</strong>ï¼ˆé™¤äº† <code>_next/static</code>, <code>_next/image</code>, <code>api</code> ç­‰å†…éƒ¨è·¯å¾„ï¼‰ã€‚ä½†è¿™é€šå¸¸ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬åªæƒ³è®©ä¸­é—´ä»¶ä½œç”¨äºç‰¹å®šçš„è·¯ç”±ã€‚
è¿™æ—¶å°±éœ€è¦ <code>matcher</code> é…ç½®ã€‚å®ƒæ˜¯ä¸€ä¸ª<strong>æ•°ç»„</strong>ï¼Œå®šä¹‰äº†å“ªäº›è·¯å¾„ä¼šè§¦å‘ä¸­é—´ä»¶ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// middleware.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">NextRequest</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">middleware</span>(<span class="hljs-params">request: NextRequest</span>) {
  <span class="hljs-comment">// ä¸­é—´ä»¶é€»è¾‘...</span>
}
<span class="hljs-comment">// matcher é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">matcher</span>: [
    <span class="hljs-comment">/*
     * åŒ¹é…æ‰€æœ‰è·¯å¾„è·¯å¾„ï¼Œé™¤äº†ä»¥è¿™äº›å¼€å¤´çš„:
     * - api (API routes)
     * - _next/static (static files)
     * - _next/image (image optimization files)
     * - favicon.ico (favicon file)
     */</span>
    <span class="hljs-string">'/((?!api|_next/static|_next/image|favicon.ico).*)'</span>,
  ],
};
</code></pre>
<h4 data-id="heading-3"><code>matcher</code> çš„é«˜çº§ç”¨æ³•</h4>
<ul>
<li><strong>é€šé…ç¬¦</strong>ï¼š
<ul>
<li><code>/about/:path*</code>ï¼šåŒ¹é… <code>/about/</code> åŠå…¶æ‰€æœ‰å­è·¯å¾„ï¼Œå¦‚ <code>/about/team</code>ã€‚</li>
</ul>
</li>
<li><strong>æ•°ç»„</strong>ï¼šå¯ä»¥æŒ‡å®šå¤šä¸ªè·¯å¾„ã€‚
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">matcher</span>: [<span class="hljs-string">'/dashboard/:path*'</span>, <span class="hljs-string">'/profile'</span>, <span class="hljs-string">'/settings'</span>]
</code></pre>
</li>
<li><strong>å¦å®šæ–­è¨€</strong> <code>(?!...)</code>ï¼šä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>(?!api|_next/static|...)</code> æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„å¦å®šæ–­è¨€ï¼Œæ„æ€æ˜¯â€œä¸åŒ¹é…ä»¥ <code>api</code>ã€<code>_next/static</code>... å¼€å¤´çš„è·¯å¾„â€ã€‚è¿™æ˜¯<strong>æœ€å¸¸ç”¨å’Œæ¨è</strong>çš„æ¨¡å¼ï¼Œå¯ä»¥é¿å…ä¸­é—´ä»¶å½±å“é™æ€èµ„æºå’Œ APIã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">4. å®æˆ˜ç¤ºä¾‹</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡å‡ ä¸ªå¸¸è§ä¾‹å­æ¥ç†è§£å¦‚ä½•ç¼–å†™ä¸­é—´ä»¶é€»è¾‘ã€‚</p>
<h4 data-id="heading-5">ç¤ºä¾‹ 1ï¼šè®¤è¯ä¿æŠ¤</h4>
<p><strong>ç›®æ ‡</strong>ï¼šä¿æŠ¤ <code>/dashboard</code> ä¸‹çš„æ‰€æœ‰é¡µé¢ï¼Œå¦‚æœç”¨æˆ·æœªç™»å½•ï¼ˆæ²¡æœ‰ tokenï¼‰ï¼Œåˆ™é‡å®šå‘åˆ°ç™»å½•é¡µã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// middleware.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">NextRequest</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">middleware</span>(<span class="hljs-params">request: NextRequest</span>) {
  <span class="hljs-comment">// 1. æ£€æŸ¥è¯·æ±‚è·¯å¾„æ˜¯å¦åŒ…å« /dashboard</span>
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">nextUrl</span>.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/dashboard'</span>)) {
    <span class="hljs-comment">// 2. ä» cookies ä¸­è·å– token</span>
    <span class="hljs-keyword">const</span> token = request.<span class="hljs-property">cookies</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'auth_token'</span>)?.<span class="hljs-property">value</span>;
    <span class="hljs-comment">// 3. å¦‚æœæ²¡æœ‰ tokenï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µ</span>
    <span class="hljs-keyword">if</span> (!token) {
      <span class="hljs-comment">// new URL('ç›®æ ‡è·¯å¾„', 'åŸºç¡€è·¯å¾„') æ˜¯åˆ›å»ºé‡å®šå‘ URL çš„å®‰å…¨æ–¹æ³•</span>
      <span class="hljs-keyword">const</span> loginUrl = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">'/login'</span>, request.<span class="hljs-property">url</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">redirect</span>(loginUrl);
    }
  }
  <span class="hljs-comment">// 4. å¦‚æœå·²ç™»å½•æˆ–ä¸è®¿é—® /dashboardï¼Œåˆ™æ­£å¸¸æ”¾è¡Œ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">next</span>();
}
<span class="hljs-comment">// åªå¯¹ /dashboard åŠå…¶å­è·¯å¾„ç”Ÿæ•ˆ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">matcher</span>: [<span class="hljs-string">'/dashboard/:path*'</span>],
};
</code></pre>
<h4 data-id="heading-6">ç¤ºä¾‹ 2ï¼šå›½é™…åŒ–é‡å®šå‘</h4>
<p><strong>ç›®æ ‡</strong>ï¼šæ ¹æ®ç”¨æˆ·çš„ <code>Accept-Language</code> å¤´éƒ¨ä¿¡æ¯ï¼Œå°†ä»–ä»¬é‡å®šå‘åˆ°å¯¹åº”çš„è¯­è¨€é¡µé¢ï¼ˆå¦‚ <code>/en-US/</code> æˆ– <code>/fr/</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// middleware.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">NextRequest</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">middleware</span>(<span class="hljs-params">request: NextRequest</span>) {
  <span class="hljs-comment">// æ£€æŸ¥è·¯å¾„ä¸­æ˜¯å¦å·²ç»æœ‰è¯­è¨€å‰ç¼€</span>
  <span class="hljs-keyword">const</span> pathname = request.<span class="hljs-property">nextUrl</span>.<span class="hljs-property">pathname</span>;
  <span class="hljs-keyword">if</span> (pathname.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/en-US'</span>) || pathname.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/fr'</span>)) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">next</span>();
  }
  <span class="hljs-comment">// è·å– Accept-Language å¤´éƒ¨</span>
  <span class="hljs-keyword">const</span> acceptLanguage = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'accept-language'</span>);
  <span class="hljs-keyword">let</span> locale = <span class="hljs-string">'en-US'</span>; <span class="hljs-comment">// é»˜è®¤è¯­è¨€</span>
  <span class="hljs-keyword">if</span> (acceptLanguage) {
    <span class="hljs-comment">// ç®€å•è§£æï¼Œå®é™…é¡¹ç›®ä¸­å¯èƒ½éœ€è¦æ›´å¤æ‚çš„é€»è¾‘</span>
    <span class="hljs-keyword">if</span> (acceptLanguage.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'fr'</span>)) {
      locale = <span class="hljs-string">'fr'</span>;
    }
  }
  <span class="hljs-comment">// é‡å®šå‘åˆ°å¸¦è¯­è¨€å‰ç¼€çš„é¦–é¡µ</span>
  <span class="hljs-keyword">const</span> localeUrl = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">`/<span class="hljs-subst">${locale}</span><span class="hljs-subst">${pathname}</span>`</span>, request.<span class="hljs-property">url</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">redirect</span>(localeUrl);
}
<span class="hljs-comment">// åŒ¹é…æ‰€æœ‰è·¯å¾„ï¼Œä½†æ’é™¤å†…éƒ¨è·¯å¾„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">matcher</span>: [
    <span class="hljs-string">'/((?!_next|api|favicon.ico).*)'</span>,
  ],
};
</code></pre>
<hr/>
<h3 data-id="heading-7">5. ä¸­é—´ä»¶ API è¯¦è§£</h3>
<p>åœ¨ <code>middleware</code> å‡½æ•°ä¸­ï¼Œä½ ä¸»è¦ä¼šç”¨åˆ°ä¸¤ä¸ªå¯¹è±¡ï¼š</p>
<h4 data-id="heading-8"><code>NextRequest</code> å¯¹è±¡</h4>
<p>å®ƒæ‰©å±•äº†æ ‡å‡†çš„ <code>Request</code> APIï¼Œæä¾›äº†ä¸€äº›ä¾¿æ·å±æ€§ï¼š</p>
<ul>
<li><code>request.nextUrl</code>ï¼šä¸€ä¸ªæ‰©å±•äº† <code>URL</code> çš„å¯¹è±¡ï¼ŒåŒ…å«äº†è·¯ç”±ä¿¡æ¯ã€‚</li>
<li><code>request.cookies</code>ï¼šæ–¹ä¾¿åœ°è¯»å†™ cookiesã€‚</li>
<li><code>request.geo</code>ï¼šè·å–è¯·æ±‚çš„åœ°ç†ä½ç½®ä¿¡æ¯ï¼ˆå›½å®¶ã€åœ°åŒºã€åŸå¸‚ç­‰ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-9"><code>NextResponse</code> å¯¹è±¡</h4>
<p>å®ƒæ‰©å±•äº†æ ‡å‡†çš„ <code>Response</code> APIï¼Œç”¨äºç”Ÿæˆå“åº”ï¼š</p>
<ul>
<li><code>NextResponse.next()</code>ï¼šç»§ç»­å¤„ç†è¯·æ±‚ï¼Œè¿›å…¥è·¯ç”±é“¾ã€‚</li>
<li><code>NextResponse.redirect(url)</code>ï¼šé‡å®šå‘åˆ°æŒ‡å®šçš„ URLã€‚</li>
<li><code>NextResponse.rewrite(url)</code>ï¼š<strong>é‡å†™</strong> URLã€‚è¿™æ˜¯éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå®ƒä¼šåœ¨æœåŠ¡å™¨ç«¯â€œé™é»˜â€åœ°å°†è¯·æ±‚ <code>/old-page</code> æ˜ å°„åˆ° <code>/new-page</code>ï¼Œä½†ç”¨æˆ·æµè§ˆå™¨åœ°å€æ çš„ URL ä»ç„¶æ˜¾ç¤ºä¸º <code>/old-page</code>ã€‚</li>
<li><code>NextResponse.json()</code>ï¼šå‘é€ JSON å“åº”ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">6. è·¯ç”±é…ç½®ï¼ˆApp Routerï¼‰</h3>
<p>åœ¨ Next.js çš„ App Router ä¸­ï¼Œè·¯ç”±é…ç½®ä¸»è¦æ˜¯åŸºäº<strong>æ–‡ä»¶ç³»ç»Ÿçº¦å®š</strong>çš„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸­å¤®é…ç½®æ–‡ä»¶ã€‚</p>
<ul>
<li><strong>åŠ¨æ€è·¯ç”±</strong>ï¼š<code>app/blog/[slug]/page.tsx</code> -&gt; <code>/blog/hello-world</code></li>
<li><strong>è·¯ç”±ç»„</strong>ï¼š<code>app/(marketing)/about/page.tsx</code> -&gt; <code>/about</code> (æ‹¬å·ä¸å½±å“ URL)</li>
<li><strong>å¹¶è¡Œè·¯ç”±</strong>ï¼š<code>app/@analytics/page.tsx</code> -&gt; åœ¨ <code>layout.tsx</code> ä¸­æ¸²æŸ“</li>
<li><strong>æ‹¦æˆªè·¯ç”±</strong>ï¼š<code>app/(.)photo/[id]/page.tsx</code> -&gt; å¯ä»¥æ‹¦æˆª <code>/photo/123</code> å¹¶åœ¨æ¨¡æ€æ¡†ä¸­æ˜¾ç¤º
ä¸­é—´ä»¶ (<code>middleware.ts</code>) æ˜¯è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿè·¯ç”±ä¹‹ä¸Šçš„<strong>å…¨å±€æˆ–æ¡ä»¶æ€§é€»è¾‘å±‚</strong>ã€‚å®ƒä¸ç›´æ¥å®šä¹‰è·¯ç”±ï¼Œè€Œæ˜¯<strong>å½±å“</strong>è·¯ç”±çš„è¡Œä¸ºï¼ˆé‡å®šå‘ã€é‡å†™ã€è®¤è¯ç­‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-11">æ€»ç»“</h3>





































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><strong>æ–‡ä»¶</strong></td><td align="left"><code>middleware.ts</code> (æˆ– <code>.js</code>)</td></tr><tr><td align="left"><strong>ä½ç½®</strong></td><td align="left">é¡¹ç›®æ ¹ç›®å½•æˆ– <code>src/</code> ç›®å½•</td></tr><tr><td align="left"><strong>æ ¸å¿ƒåŠŸèƒ½</strong></td><td align="left">åœ¨é¡µé¢æ¸²æŸ“å‰æ‰§è¡ŒæœåŠ¡å™¨ç«¯ä»£ç </td></tr><tr><td align="left"><strong>å…³é”®é…ç½®</strong></td><td align="left"><code>matcher</code> æ•°ç»„ï¼Œç”¨äºå®šä¹‰ä¸­é—´ä»¶åŒ¹é…çš„è·¯å¾„</td></tr><tr><td align="left"><strong>ä¸»è¦ç”¨é€”</strong></td><td align="left">è®¤è¯ã€é‡å®šå‘ã€A/B æµ‹è¯•ã€å›½é™…åŒ–ã€æ—¥å¿—</td></tr><tr><td align="left"><strong>æ ¸å¿ƒ API</strong></td><td align="left"><code>NextRequest</code> (è¯·æ±‚ä¿¡æ¯), <code>NextResponse</code> (å“åº”æ§åˆ¶)</td></tr><tr><td align="left"><strong>ä¸è·¯ç”±å…³ç³»</strong></td><td align="left">æ˜¯æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ä¹‹ä¸Šçš„é€»è¾‘å¢å¼ºå±‚</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS thiså–å€¼æ·±åº¦è§£è¯»]]></title>    <link>https://juejin.cn/post/7579920818871042090</link>    <guid>https://juejin.cn/post/7579920818871042090</guid>    <pubDate>2025-12-05T07:22:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579920818871042090" data-draft-id="7579926120096825407" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS thiså–å€¼æ·±åº¦è§£è¯»"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-05T07:22:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å¸†èŠå‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/2531545702476234"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS thiså–å€¼æ·±åº¦è§£è¯»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2531545702476234/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å¸†èŠå‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:22:17.000Z" title="Fri Dec 05 2025 07:22:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JS thiså–å€¼æ·±åº¦è§£è¯»</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šè¢« this æŠ˜ç£¨çš„å‰ç«¯æ—¥å¸¸</h3>
<p>â€œä¸ºä»€ä¹ˆå‡½æ•°é‡Œçš„ this ä¸€ä¼šå„¿æ˜¯ windowï¼Œä¸€ä¼šå„¿æ˜¯ undefinedï¼Ÿâ€
â€œå¯¹è±¡æ–¹æ³•é‡Œçš„ thisï¼Œèµ‹å€¼ç»™å˜é‡åè°ƒç”¨æ€ä¹ˆå°±æŒ‡å‘å…¨å±€äº†ï¼Ÿâ€
â€œç®­å¤´å‡½æ•°çš„ this ä¸ºä»€ä¹ˆè·Ÿå¤–å±‚å‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œæ”¹éƒ½æ”¹ä¸äº†ï¼Ÿâ€
â€œç”¨ new åˆ›å»ºå®ä¾‹æ—¶ï¼Œthis æ˜æ˜æŒ‡å‘å®ä¾‹ï¼Œæ€ä¹ˆè¿”å›ä¸ªå¯¹è±¡å°±å˜äº†ï¼Ÿâ€</p>
<p>this æ˜¯ JavaScript ä¸­æœ€å®¹æ˜“è®©äººå›°æƒ‘çš„æ¦‚å¿µä¹‹ä¸€ â€”â€” å®ƒæ—¢ä¸æ˜¯ â€œå®šä¹‰æ—¶ç»‘å®šâ€ï¼Œä¹Ÿä¸æ˜¯ â€œè°è°ƒç”¨å°±æŒ‡å‘è°â€ è¿™ä¹ˆç®€å•ã€‚å¾ˆå¤šå¼€å‘è€…é  â€œç»éªŒçŒœ thisâ€ï¼Œé‡åˆ°å¤æ‚åœºæ™¯å°±é™·å…¥è°ƒè¯•å›°å¢ƒã€‚æœ¬æ–‡å°†ä» â€œæ‰§è¡Œä¸Šä¸‹æ–‡æœ¬è´¨â€ å‡ºå‘ï¼Œé€šè¿‡ â€œåœºæ™¯å¤ç°â†’åŸç†æ‹†è§£â†’ä»£ç éªŒè¯â†’é¿å‘æŒ‡å—â€ çš„é€»è¾‘ï¼Œå¸®ä½ å½»åº•ææ‡‚ this çš„å–å€¼è§„åˆ™ï¼Œä»æ­¤ä¸å†é  â€œçŒœâ€ å†™ä»£ç ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€å…ˆç ´åç«‹ï¼šthis çš„æœ¬è´¨ä¸æ˜¯ â€œè°è°ƒç”¨æŒ‡å‘è°â€</h3>
<p>åœ¨æ‹†è§£å…·ä½“åœºæ™¯å‰ï¼Œå¿…é¡»å…ˆçº æ­£ä¸€ä¸ªæµä¼ ç”šå¹¿çš„è¯¯åŒºï¼š<strong>this ä¸æ˜¯ â€œè°è°ƒç”¨æŒ‡å‘è°â€ï¼Œè€Œæ˜¯ â€œå‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ç»‘å®šçš„ä¸€ä¸ªå˜é‡â€</strong>ã€‚</p>
<h4 data-id="heading-3">1.1 this çš„æ ¸å¿ƒç‰¹æ€§ï¼šæ‰§è¡Œæ—¶ç»‘å®š</h4>
<p>this çš„æŒ‡å‘åœ¨<strong>å‡½æ•°å®šä¹‰æ—¶å®Œå…¨ä¸ç¡®å®š</strong>ï¼Œåªæœ‰åœ¨<strong>å‡½æ•°è¢«è°ƒç”¨çš„é‚£ä¸€åˆ»</strong>ï¼Œæ‰ä¼šæ ¹æ® â€œè°ƒç”¨æ–¹å¼â€ ç»‘å®šåˆ°å…·ä½“å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ— è®ºè¿™ä¸ªå‡½æ•°å£°æ˜åœ¨å“ªé‡Œã€è¢«èµ‹å€¼è¿‡å¤šå°‘æ¬¡ã€‚è¿™æ˜¯ç†è§£ this çš„ç¬¬ä¸€ä¸ªå…³é”®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// å‡½æ•°å®šä¹‰æ—¶ï¼Œthisæ¯«æ— æ„ä¹‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
}

<span class="hljs-comment">// è°ƒç”¨æ–¹å¼1ï¼šæ™®é€šå‡½æ•°è°ƒç”¨ â†’ thisæŒ‡å‘windowï¼ˆæµè§ˆå™¨ï¼‰/globalï¼ˆNodeï¼‰</span>
<span class="hljs-keyword">const</span> name = <span class="hljs-string">"å…¨å±€"</span>;
<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// è¾“å‡ºâ€œå…¨å±€â€</span>

<span class="hljs-comment">// è°ƒç”¨æ–¹å¼2ï¼šå¯¹è±¡æ–¹æ³•è°ƒç”¨ â†’ thisæŒ‡å‘å¯¹è±¡</span>
<span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, sayHi };
obj.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// è¾“å‡ºâ€œå¼ ä¸‰â€</span>

<span class="hljs-comment">// è°ƒç”¨æ–¹å¼3ï¼šnewè°ƒç”¨ â†’ thisæŒ‡å‘æ–°å®ä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}
<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"æå››"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œæå››â€</span>
</code></pre>
<p>åŒæ ·çš„å‡½æ•°<code>sayHi</code>ï¼Œåªå› è°ƒç”¨æ–¹å¼ä¸åŒï¼Œthis æŒ‡å‘å®Œå…¨ä¸åŒ â€”â€” è¿™è¯´æ˜ â€œè°ƒç”¨æ–¹å¼â€ æ‰æ˜¯ this ç»‘å®šçš„æ ¸å¿ƒä¾æ®ã€‚</p>
<h4 data-id="heading-4">1.2 this çš„åº•å±‚é€»è¾‘ï¼šæ‰§è¡Œä¸Šä¸‹æ–‡</h4>
<p>JavaScript æ‰§è¡Œå‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª â€œæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰â€ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒå˜é‡ï¼š</p>
<ul>
<li>
<p><strong>this</strong>ï¼šå½“å‰å‡½æ•°çš„è°ƒç”¨è€…å…³è”å¯¹è±¡</p>
</li>
<li>
<p><strong>AOï¼ˆActivation Objectï¼‰</strong>ï¼šå‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼ˆå­˜å‚¨å±€éƒ¨å˜é‡ã€å‚æ•°ç­‰ï¼‰</p>
</li>
<li>
<p><strong>ä½œç”¨åŸŸé“¾</strong>ï¼šå†³å®šå˜é‡çš„æŸ¥æ‰¾èŒƒå›´</p>
</li>
</ul>
<p>this æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„å›ºæœ‰å±æ€§ï¼Œå…¶å€¼ç”± â€œå‡½æ•°è°ƒç”¨æ—¶çš„è°ƒç”¨ç‚¹ï¼ˆCall Siteï¼‰â€ å†³å®šï¼Œè€Œéå‡½æ•°å®šä¹‰çš„ä½ç½®ã€‚</p>
<h4 data-id="heading-5">1.3 this ç»‘å®šè§„åˆ™çš„ä¼˜å…ˆçº§</h4>
<p>å½“å¤šä¸ªè§„åˆ™åŒæ—¶ç”Ÿæ•ˆæ—¶ï¼Œä¼˜å…ˆçº§å†³å®šæœ€ç»ˆ this æŒ‡å‘ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼šnew ç»‘å®š &gt; æ˜¾å¼ç»‘å®šï¼ˆbindï¼‰ &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š
éªŒè¯ä¼˜å…ˆçº§ï¼š</p>
<ul>
<li>æ˜¾å¼ç»‘å®š &gt; éšå¼ç»‘å®šï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">foo</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>); } };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">a</span>: <span class="hljs-number">2</span> };
obj1.<span class="hljs-property">foo</span>.<span class="hljs-title function_">call</span>(obj2); <span class="hljs-comment">// è¾“å‡º 2 â†’ æ˜¾å¼ç»‘å®šè¦†ç›–éšå¼</span>
</code></pre>
<ul>
<li>new ç»‘å®š &gt; bind æ˜¾å¼ç»‘å®šï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">a</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> = a; }
<span class="hljs-keyword">const</span> boundFoo = foo.<span class="hljs-title function_">bind</span>({ <span class="hljs-attr">a</span>: <span class="hljs-number">10</span> }); <span class="hljs-comment">// æ˜¾å¼ç»‘å®šåˆ° {a:10}</span>
<span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">new</span> <span class="hljs-title function_">boundFoo</span>(<span class="hljs-number">20</span>);    <span class="hljs-comment">// new ç»‘å®š</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(instance.<span class="hljs-property">a</span>); <span class="hljs-comment">// è¾“å‡º 20 â†’ new è¦†ç›– bind</span>
</code></pre>
<p>é™„ä¸Šbindçš„å®ç°ä»£ç ï¼ˆå¯çŸ¥ï¼šnew ç»‘å®š &gt; bind æ˜¾å¼ç»‘å®šï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">bind</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">context</span>) {
  <span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">this</span>;
  <span class="hljs-keyword">var</span> args = <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-number">1</span>);

  <span class="hljs-keyword">var</span> fBound = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> bindArgs = <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>);
    <span class="hljs-comment">// newåˆ›å»ºçš„æ—¶å€™ï¼ŒthisæŒ‡å‘newå‡ºæ¥çš„å¯¹è±¡å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹é€šè¿‡newåˆ›å»ºçš„ï¼Œé‚£ä¹ˆå®ä¾‹çš„constructoræŒ‡å‘fBound</span>
    <span class="hljs-keyword">return</span> self.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span> <span class="hljs-keyword">instanceof</span> fBound ? <span class="hljs-variable language_">this</span> : context, args.<span class="hljs-title function_">concat</span>(bindArgs));
  }
  <span class="hljs-comment">// ä¿®æ”¹è¿”å›å‡½æ•°çš„ prototype ä¸ºç»‘å®šå‡½æ•°çš„ prototypeï¼Œå®ä¾‹å°±å¯ä»¥ç»§æ‰¿ç»‘å®šå‡½æ•°çš„åŸå‹ä¸­çš„å€¼</span>
  fBound.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
  <span class="hljs-keyword">return</span> fBound;
}
</code></pre>
<h3 data-id="heading-6">äºŒã€åœºæ™¯æ‹†è§£ï¼š6 ç§æ ¸å¿ƒè°ƒç”¨æ–¹å¼çš„ this ç»‘å®šè§„åˆ™</h3>
<p>å®é™…å¼€å‘ä¸­ï¼Œthis çš„ç»‘å®šåœºæ™¯å¯å½’çº³ä¸º 6 ç±»ï¼Œè¦†ç›– 99% çš„ä¸šåŠ¡éœ€æ±‚ã€‚æ¯ç±»åœºæ™¯éƒ½æœ‰æ˜ç¡®çš„ç»‘å®šè§„åˆ™ï¼ŒæŒæ¡è¿™äº›è§„åˆ™å°±èƒ½ç²¾å‡†åˆ¤æ–­ this æŒ‡å‘ã€‚</p>
<h4 data-id="heading-7">2.1 åœºæ™¯ 1ï¼šæ™®é€šå‡½æ•°è°ƒç”¨ï¼ˆæ— ä»»ä½•ç»‘å®šï¼‰</h4>
<p><strong>è°ƒç”¨å½¢å¼</strong>ï¼šç›´æ¥é€šè¿‡<code>å‡½æ•°å()</code>è°ƒç”¨ï¼Œä¸æŒ‚è½½åœ¨ä»»ä½•å¯¹è±¡ä¸Šã€‚
<strong>ç»‘å®šè§„åˆ™</strong>ï¼š</p>
<ul>
<li>
<p>éä¸¥æ ¼æ¨¡å¼ï¼šthis ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨æ˜¯<code>window</code>ï¼ŒNode æ˜¯<code>global</code>ï¼‰ï¼›</p>
</li>
<li>
<p>ä¸¥æ ¼æ¨¡å¼ï¼ˆ<code>use strict</code>ï¼‰ï¼šthis ç»‘å®šåˆ°<code>undefined</code>ï¼ˆç¦æ­¢è‡ªåŠ¨ç»‘å®šå…¨å±€å¯¹è±¡ï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-8">ä»£ç éªŒè¯ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// éä¸¥æ ¼æ¨¡å¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">normalCall</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"éä¸¥æ ¼æ¨¡å¼ï¼š"</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// windowï¼ˆæµè§ˆå™¨ï¼‰</span>
}
<span class="hljs-title function_">normalCall</span>();

<span class="hljs-comment">// ä¸¥æ ¼æ¨¡å¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">strictCall</span>(<span class="hljs-params"/>) {
  <span class="hljs-string">"use strict"</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ä¸¥æ ¼æ¨¡å¼ï¼š"</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// undefined</span>
}
<span class="hljs-title function_">strictCall</span>();

<span class="hljs-comment">// å‘ç‚¹ï¼šå‡½æ•°å†…åµŒå¥—å‡½æ•°ï¼Œä»æŒ‰æ™®é€šè°ƒç”¨å¤„ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"outer thisï¼š"</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// windowï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"inner thisï¼š"</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// windowï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰</span>
  }
  <span class="hljs-title function_">inner</span>(); <span class="hljs-comment">// æ™®é€šè°ƒç”¨ï¼Œä¸outerçš„thisæ— å…³</span>
}
<span class="hljs-title function_">outer</span>();
</code></pre>
<h5 data-id="heading-9">é¿å‘ç‚¹ï¼š</h5>
<ul>
<li>
<p>âŒ ä¸è¦åœ¨æ™®é€šå‡½æ•°ä¸­ä¾èµ–<code>this</code>è·å–å…¨å±€å¯¹è±¡ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼‰ï¼›</p>
</li>
<li>
<p>âœ… å¦‚éœ€è®¿é—®å…¨å±€å¯¹è±¡ï¼Œæµè§ˆå™¨ç”¨<code>window</code>ï¼ŒNode ç”¨<code>globalThis</code>ï¼ˆé€šç”¨ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-10">2.2 åœºæ™¯ 2ï¼šå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼ˆæŒ‚è½½åœ¨å¯¹è±¡ä¸Šè°ƒç”¨ï¼‰</h4>
<p><strong>è°ƒç”¨å½¢å¼</strong>ï¼šé€šè¿‡<code>å¯¹è±¡.å‡½æ•°å()</code>è°ƒç”¨ï¼Œå‡½æ•°ä½œä¸ºå¯¹è±¡çš„å±æ€§å­˜åœ¨ã€‚
<strong>ç»‘å®šè§„åˆ™</strong>ï¼šthis ç»‘å®šåˆ° â€œè°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡â€ï¼ˆå³<code>.</code>å‰é¢çš„å¯¹è±¡ï¼‰ã€‚</p>
<h5 data-id="heading-11">ä»£ç éªŒè¯ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> user = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"thisæŒ‡å‘ï¼š"</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// æŒ‡å‘userå¯¹è±¡</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç”¨æˆ·åï¼š"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œå¼ ä¸‰â€</span>
  },
  <span class="hljs-attr">address</span>: {
    <span class="hljs-attr">city</span>: <span class="hljs-string">"åŒ—äº¬"</span>,
    <span class="hljs-title function_">getCity</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŸå¸‚ï¼š"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">city</span>); <span class="hljs-comment">// æŒ‡å‘addresså¯¹è±¡ï¼Œè¾“å‡ºâ€œåŒ—äº¬â€</span>
    }
  }
};

<span class="hljs-comment">// ç›´æ¥è°ƒç”¨å¯¹è±¡æ–¹æ³• â†’ thisæŒ‡å‘å¯¹è±¡</span>
user.<span class="hljs-title function_">sayHi</span>(); 
user.<span class="hljs-property">address</span>.<span class="hljs-title function_">getCity</span>(); 

<span class="hljs-comment">// å‘ç‚¹1ï¼šæ–¹æ³•èµ‹å€¼ç»™å˜é‡åï¼Œå˜æˆæ™®é€šè°ƒç”¨</span>
<span class="hljs-keyword">const</span> sayHi = user.<span class="hljs-property">sayHi</span>;
<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// æ™®é€šè°ƒç”¨ â†’ thisæŒ‡å‘windowï¼Œnameä¸ºundefined</span>

<span class="hljs-comment">// å‘ç‚¹2ï¼šåµŒå¥—å¯¹è±¡ä¸­ï¼ŒthisæŒ‡å‘ç›´æ¥è°ƒç”¨çš„å¯¹è±¡ï¼ˆéå¤–å±‚ï¼‰</span>
user.<span class="hljs-property">address</span>.<span class="hljs-property">getCity</span>.<span class="hljs-title function_">call</span>(user); <span class="hljs-comment">// å¼ºåˆ¶æ”¹å˜thisä¸ºuserï¼Œè¾“å‡ºundefinedï¼ˆuseræ— cityå±æ€§ï¼‰</span>
</code></pre>
<h5 data-id="heading-12">å…³é”®åŸç†ï¼š</h5>
<p>this ç»‘å®šçš„æ˜¯ â€œç›´æ¥è°ƒç”¨è€…â€ï¼Œè€Œé â€œå‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡â€ã€‚å³ä½¿å‡½æ•°å®šä¹‰åœ¨å…¶ä»–åœ°æ–¹ï¼Œåªè¦é€šè¿‡<code>obj.fn()</code>è°ƒç”¨ï¼Œthis å°±æŒ‡å‘<code>obj</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// å‡½æ•°å®šä¹‰åœ¨å¤–éƒ¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserName</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
}

<span class="hljs-comment">// æŒ‚è½½åˆ°ä¸åŒå¯¹è±¡è°ƒç”¨</span>
<span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">name</span>: <span class="hljs-string">"æå››"</span>, getUserName };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">name</span>: <span class="hljs-string">"ç‹äº”"</span>, getUserName };

obj1.<span class="hljs-title function_">getUserName</span>(); <span class="hljs-comment">// è¾“å‡ºâ€œæå››â€ï¼ˆthisæŒ‡å‘obj1ï¼‰</span>
obj2.<span class="hljs-title function_">getUserName</span>(); <span class="hljs-comment">// è¾“å‡ºâ€œç‹äº”â€ï¼ˆthisæŒ‡å‘obj2ï¼‰</span>
</code></pre>
<h4 data-id="heading-13">2.3 åœºæ™¯ 3ï¼šæ„é€ å‡½æ•°è°ƒç”¨ï¼ˆnew å…³é”®å­—ï¼‰</h4>
<p><strong>è°ƒç”¨å½¢å¼</strong>ï¼šé€šè¿‡<code>new å‡½æ•°å()</code>åˆ›å»ºå®ä¾‹ã€‚
<strong>ç»‘å®šè§„åˆ™</strong>ï¼šthis ç»‘å®šåˆ° â€œæ–°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡â€ã€‚</p>
<h5 data-id="heading-14">ä»£ç éªŒè¯ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-comment">// newè°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘æ–°åˆ›å»ºçš„Personå®ä¾‹</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ„é€ å‡½æ•°thisï¼š"</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// Person { name: "...", age: ... }</span>
}

<span class="hljs-comment">// newè°ƒç”¨ â†’ thisç»‘å®šåˆ°å®ä¾‹</span>
<span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"èµµå…­"</span>, <span class="hljs-number">25</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œèµµå…­â€</span>

<span class="hljs-comment">// å‘ç‚¹ï¼šæ„é€ å‡½æ•°è¿”å›å¯¹è±¡ä¼šè¦†ç›–this</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">PersonWithReturn</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-comment">// è¿”å›å¯¹è±¡æ—¶ï¼Œnewåˆ›å»ºçš„å®ä¾‹ä¼šè¢«è¿™ä¸ªå¯¹è±¡æ›¿ä»£</span>
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">"é’±ä¸ƒ"</span> };
}
<span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonWithReturn</span>(<span class="hljs-string">"å­™å…«"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p2.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œé’±ä¸ƒâ€ï¼ˆthisè¢«è¦†ç›–ï¼‰</span>

<span class="hljs-comment">// æ³¨æ„ï¼šè¿”å›åŸºæœ¬ç±»å‹ï¼ˆå¦‚numberã€stringï¼‰ä¸ä¼šè¦†ç›–this</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">PersonWithPrimitive</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-keyword">return</span> <span class="hljs-number">123</span>; <span class="hljs-comment">// åŸºæœ¬ç±»å‹ï¼Œä¸å½±å“this</span>
}
<span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonWithPrimitive</span>(<span class="hljs-string">"å‘¨ä¹"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p3.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œå‘¨ä¹â€</span>
</code></pre>
<h5 data-id="heading-15">new è°ƒç”¨çš„åº•å±‚æµç¨‹ï¼š</h5>
<ol>
<li>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ï¼ˆ<code>const obj = {}</code>ï¼‰ï¼›</p>
</li>
<li>
<p>å°†æ–°å¯¹è±¡çš„<code>__proto__</code>æŒ‡å‘æ„é€ å‡½æ•°çš„<code>prototype</code>ï¼ˆå®ç°ç»§æ‰¿ï¼‰ï¼›</p>
</li>
<li>
<p>è°ƒç”¨æ„é€ å‡½æ•°ï¼Œå°† this ç»‘å®šåˆ°æ–°å¯¹è±¡ï¼›</p>
</li>
<li>
<p>è‹¥æ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›å¦åˆ™è¿”å›æ–°å¯¹è±¡ã€‚</p>
</li>
</ol>
<h4 data-id="heading-16">2.4 åœºæ™¯ 4ï¼šapply/call/bind ç»‘å®šï¼ˆå¼ºåˆ¶æ”¹å˜ thisï¼‰</h4>
<p><strong>è°ƒç”¨å½¢å¼</strong>ï¼šé€šè¿‡<code>fn.apply(obj)</code>ã€<code>fn.call(obj)</code>ã€<code>fn.bind(obj)</code>è°ƒç”¨ã€‚
<strong>ç»‘å®šè§„åˆ™</strong>ï¼šthis å¼ºåˆ¶ç»‘å®šåˆ°ä¼ å…¥çš„<code>obj</code>ï¼ˆ<code>obj</code>ä¸º<code>null/undefined</code>æ—¶ï¼Œéä¸¥æ ¼æ¨¡å¼ç»‘å®šå…¨å±€ï¼Œä¸¥æ ¼æ¨¡å¼ç»‘å®š<code>obj</code>ï¼‰ã€‚</p>
<h5 data-id="heading-17">ä¸‰è€…åŒºåˆ«ï¼š</h5>





























<table><thead><tr><th>æ–¹æ³•</th><th>è°ƒç”¨å½¢å¼</th><th>æ˜¯å¦ç«‹å³æ‰§è¡Œ</th><th>å‚æ•°ä¼ é€’æ–¹å¼</th></tr></thead><tbody><tr><td>apply</td><td><code>fn.apply(obj, [arg1, arg2])</code></td><td>æ˜¯</td><td>æ•°ç»„ä¼ é€’å‚æ•°</td></tr><tr><td>call</td><td><code>fn.call(obj, arg1, arg2)</code></td><td>æ˜¯</td><td>é€—å·åˆ†éš”ä¼ é€’å‚æ•°</td></tr><tr><td>bind</td><td><code>const newFn = fn.bind(obj)</code></td><td>å¦</td><td>è¿”å›æ–°å‡½æ•°ï¼Œå»¶è¿Ÿæ‰§è¡Œ</td></tr></tbody></table>
<h5 data-id="heading-18">ä»£ç éªŒè¯ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sayInfo</span>(<span class="hljs-params">age, city</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å§“åï¼š<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>ï¼Œå¹´é¾„ï¼š<span class="hljs-subst">${age}</span>ï¼ŒåŸå¸‚ï¼š<span class="hljs-subst">${city}</span>`</span>);
}

<span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å´å"</span> };

<span class="hljs-comment">// applyè°ƒç”¨ â†’ æ•°ç»„ä¼ å‚ï¼Œç«‹å³æ‰§è¡Œ</span>
sayInfo.<span class="hljs-title function_">apply</span>(user, [<span class="hljs-number">28</span>, <span class="hljs-string">"ä¸Šæµ·"</span>]); <span class="hljs-comment">// è¾“å‡ºâ€œå§“åï¼šå´åï¼Œå¹´é¾„ï¼š28ï¼ŒåŸå¸‚ï¼šä¸Šæµ·â€</span>

<span class="hljs-comment">// callè°ƒç”¨ â†’ é€—å·ä¼ å‚ï¼Œç«‹å³æ‰§è¡Œ</span>
sayInfo.<span class="hljs-title function_">call</span>(user, <span class="hljs-number">28</span>, <span class="hljs-string">"ä¸Šæµ·"</span>); <span class="hljs-comment">// è¾“å‡ºåŒä¸Š</span>

<span class="hljs-comment">// bindè°ƒç”¨ â†’ è¿”å›æ–°å‡½æ•°ï¼Œå»¶è¿Ÿæ‰§è¡Œ</span>
<span class="hljs-keyword">const</span> boundSayInfo = sayInfo.<span class="hljs-title function_">bind</span>(user, <span class="hljs-number">28</span>);
<span class="hljs-title function_">boundSayInfo</span>(<span class="hljs-string">"ä¸Šæµ·"</span>); <span class="hljs-comment">// è¾“å‡ºåŒä¸Š</span>

<span class="hljs-comment">// å‘ç‚¹ï¼šbindæ˜¯ç¡¬ç»‘å®šï¼Œåç»­æ— æ³•è¢«apply/callä¿®æ”¹</span>
<span class="hljs-keyword">const</span> newObj = { <span class="hljs-attr">name</span>: <span class="hljs-string">"éƒ‘åä¸€"</span> };
boundSayInfo.<span class="hljs-title function_">call</span>(newObj, <span class="hljs-string">"åŒ—äº¬"</span>); <span class="hljs-comment">// ä»è¾“å‡ºâ€œå´åâ€ï¼ˆthisæ— æ³•æ”¹å˜ï¼‰</span>
</code></pre>
<h5 data-id="heading-19">ç‰¹æ®Šæƒ…å†µï¼šobj ä¸º null/undefined</h5>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// éä¸¥æ ¼æ¨¡å¼ï¼šobjä¸ºnull/undefinedæ—¶ï¼Œthisç»‘å®šå…¨å±€</span>
sayInfo.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-number">28</span>, <span class="hljs-string">"å¹¿å·"</span>); <span class="hljs-comment">// å§“åï¼šundefinedï¼ˆwindow.nameä¸ºç©ºï¼‰</span>

<span class="hljs-comment">// ä¸¥æ ¼æ¨¡å¼ï¼šobjä¸ºnull/undefinedæ—¶ï¼Œthisç»‘å®šobjæœ¬èº«</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">strictSayInfo</span>(<span class="hljs-params"/>) {
  <span class="hljs-string">"use strict"</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);
}
strictSayInfo.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">// è¾“å‡ºnull</span>
strictSayInfo.<span class="hljs-title function_">call</span>(<span class="hljs-literal">undefined</span>); <span class="hljs-comment">// è¾“å‡ºundefined</span>
</code></pre>
<h4 data-id="heading-20">2.5 åœºæ™¯ 5ï¼šç®­å¤´å‡½æ•°ï¼ˆæ— ç‹¬ç«‹ thisï¼‰</h4>
<p><strong>è°ƒç”¨å½¢å¼</strong>ï¼š<code>const fn = () =&gt; { ... }</code>ï¼ˆæ— <code>function</code>å…³é”®å­—ï¼‰ã€‚
<strong>ç»‘å®šè§„åˆ™</strong>ï¼šç®­å¤´å‡½æ•°æ²¡æœ‰ç‹¬ç«‹çš„ thisï¼Œå…¶ this ç»§æ‰¿è‡ª â€œå¤–å±‚æ‰§è¡Œä¸Šä¸‹æ–‡çš„ thisâ€ï¼ˆå®šä¹‰æ—¶çš„å¤–å±‚ï¼Œéè°ƒç”¨æ—¶ï¼‰ã€‚</p>
<h5 data-id="heading-21">æ ¸å¿ƒç‰¹æ€§ï¼š</h5>
<ol>
<li>
<p>æ— æ³•é€šè¿‡<code>apply/call/bind</code>æ”¹å˜ thisï¼ˆç»‘å®šåä»ä¸ºå¤–å±‚ thisï¼‰ï¼›</p>
</li>
<li>
<p>ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼ˆç”¨ new è°ƒç”¨ä¼šæŠ¥é”™ï¼‰ï¼›</p>
</li>
<li>
<p>æ²¡æœ‰<code>arguments</code>å¯¹è±¡ï¼ˆéœ€ç”¨å‰©ä½™å‚æ•°<code>...args</code>æ›¿ä»£ï¼‰ã€‚</p>
</li>
</ol>
<h5 data-id="heading-22">ä»£ç éªŒè¯ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// åœºæ™¯1ï¼šç®­å¤´å‡½æ•°ä½œä¸ºå¯¹è±¡æ–¹æ³• â†’ thisç»§æ‰¿å¤–å±‚ï¼ˆwindowï¼‰</span>
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"ç‹åäºŒ"</span>,
  <span class="hljs-attr">sayHi</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// undefinedï¼ˆthisæŒ‡å‘windowï¼‰</span>
  }
};
obj.<span class="hljs-title function_">sayHi</span>();

<span class="hljs-comment">// åœºæ™¯2ï¼šç®­å¤´å‡½æ•°åµŒå¥—åœ¨å¯¹è±¡æ–¹æ³•ä¸­ â†’ ç»§æ‰¿æ–¹æ³•çš„this</span>
<span class="hljs-keyword">const</span> obj2 = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"æåä¸‰"</span>,
  <span class="hljs-title function_">outer</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">inner</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// ç»§æ‰¿outerçš„thisï¼ŒæŒ‡å‘obj2ï¼Œè¾“å‡ºâ€œæåä¸‰â€</span>
    };
    <span class="hljs-title function_">inner</span>();
  }
};
obj2.<span class="hljs-title function_">outer</span>();

<span class="hljs-comment">// åœºæ™¯3ï¼šç®­å¤´å‡½æ•°æ— æ³•è¢«apply/callæ”¹å˜this</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">arrowFn</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);
};
arrowFn.<span class="hljs-title function_">call</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ åå››"</span> }); <span class="hljs-comment">// è¾“å‡ºwindowï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰ï¼Œæ— æ³•æ”¹å˜</span>

<span class="hljs-comment">// åœºæ™¯4ï¼šç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">ArrowPerson</span> = (<span class="hljs-params"/>) =&gt; {};
<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrowPerson</span>(); <span class="hljs-comment">// æŠ¥é”™ï¼šArrowPerson is not a constructor</span>
</code></pre>
<h5 data-id="heading-23">é€‚ç”¨åœºæ™¯ï¼š</h5>
<ul>
<li>
<p>åµŒå¥—å‡½æ•°ä¸­éœ€è¦ç»§æ‰¿å¤–å±‚ thisï¼ˆå¦‚å®šæ—¶å™¨ã€å›è°ƒå‡½æ•°ï¼‰ï¼›</p>
</li>
<li>
<p>é¿å…æ™®é€šå‡½æ•°ä¸­ this ç»‘å®šå…¨å±€çš„é—®é¢˜ï¼ˆå¦‚ React ç±»ç»„ä»¶çš„äº‹ä»¶å›è°ƒï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-24">2.6 åœºæ™¯ 6ï¼šDOM äº‹ä»¶å›è°ƒä¸ class ä¸­çš„ this</h4>
<h5 data-id="heading-25">ï¼ˆ1ï¼‰DOM äº‹ä»¶å›è°ƒ</h5>
<p><strong>è°ƒç”¨å½¢å¼</strong>ï¼š<code>dom.addEventListener('click', fn)</code>ã€‚
<strong>ç»‘å®šè§„åˆ™</strong>ï¼šthis ç»‘å®šåˆ° â€œè§¦å‘äº‹ä»¶çš„ DOM å…ƒç´ â€ï¼ˆå³äº‹ä»¶æºï¼‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"button"</span>);
btn.<span class="hljs-property">textContent</span> = <span class="hljs-string">"ç‚¹å‡»æˆ‘"</span>;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(btn);

<span class="hljs-comment">// æ™®é€šå‡½æ•° â†’ thisæŒ‡å‘btn</span>
btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// &lt;button&gt;ç‚¹å‡»æˆ‘&lt;/button&gt;</span>
});

<span class="hljs-comment">// å‘ç‚¹ï¼šç®­å¤´å‡½æ•° â†’ thisç»§æ‰¿å¤–å±‚ï¼ˆwindowï¼‰</span>
btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// windowï¼ˆæ— æ³•è·å–btnï¼‰</span>
});
</code></pre>
<h5 data-id="heading-26">ï¼ˆ2ï¼‰class ä¸­çš„ this</h5>
<p><strong>ç»‘å®šè§„åˆ™</strong>ï¼šclass å†…éƒ¨é»˜è®¤å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œæ–¹æ³•ä¸­çš„ this é»˜è®¤ç»‘å®šåˆ°å®ä¾‹ï¼Œä½†è„±ç¦»å®ä¾‹è°ƒç”¨æ—¶ä¸º<code>undefined</code>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
}

<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">"åˆ˜åäº”"</span>);
user.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// è¾“å‡ºâ€œåˆ˜åäº”â€ï¼ˆthisæŒ‡å‘å®ä¾‹ï¼‰</span>

<span class="hljs-comment">// å‘ç‚¹ï¼šæ–¹æ³•èµ‹å€¼åè°ƒç”¨ â†’ ä¸¥æ ¼æ¨¡å¼ä¸‹thisä¸ºundefined</span>
<span class="hljs-keyword">const</span> sayHi = user.<span class="hljs-property">sayHi</span>;
<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// æŠ¥é”™ï¼šCannot read properties of undefined (reading 'name')</span>

<span class="hljs-comment">// è§£å†³æ–¹æ¡ˆï¼šåœ¨constructorä¸­ç»‘å®šthis</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserWithBind</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-comment">// ç»‘å®šthisåˆ°å®ä¾‹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sayHi</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">sayHi</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
  }

  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
}
<span class="hljs-keyword">const</span> user2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserWithBind</span>(<span class="hljs-string">"é™ˆåå…­"</span>);
<span class="hljs-keyword">const</span> sayHi2 = user2.<span class="hljs-property">sayHi</span>;
<span class="hljs-title function_">sayHi2</span>(); <span class="hljs-comment">// è¾“å‡ºâ€œé™ˆåå…­â€ï¼ˆthiså·²ç»‘å®šï¼‰</span>
</code></pre>
<h3 data-id="heading-27">ä¸‰ã€é¿å‘æŒ‡å—ï¼š8 ä¸ªé«˜é¢‘ this æŒ‡å‘é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</h3>
<p>æŒæ¡è§„åˆ™åï¼Œè¿˜è¦èƒ½è¯†åˆ«å®é™…å¼€å‘ä¸­çš„ â€œéšå½¢é™·é˜±â€ï¼Œä»¥ä¸‹æ˜¯ 8 ä¸ªæœ€å®¹æ˜“è¸©çš„å‘åŠè§£å†³æ–¹æ³•ã€‚</p>
<h4 data-id="heading-28">3.1 å‘ 1ï¼šå¯¹è±¡æ–¹æ³•èµ‹å€¼ç»™å˜é‡åè°ƒç”¨ï¼Œthis æŒ‡å‘é”™è¯¯</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"èµµåä¸ƒ"</span>,
  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
};
<span class="hljs-keyword">const</span> hi = obj.<span class="hljs-property">sayHi</span>;
<span class="hljs-title function_">hi</span>(); <span class="hljs-comment">// undefinedï¼ˆthisæŒ‡å‘windowï¼‰</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p>ç›´æ¥é€šè¿‡å¯¹è±¡è°ƒç”¨ï¼š<code>obj.sayHi()</code>ï¼›</p>
</li>
<li>
<p>ç”¨ bind ç»‘å®š thisï¼š<code>const hi = obj.sayHi.bind(obj); hi()</code>ï¼›</p>
</li>
<li>
<p>ç”¨ç®­å¤´å‡½æ•°åŒ…è£¹ï¼š<code>const hi = () =&gt; obj.sayHi(); hi()</code>ã€‚</p>
</li>
</ol>
<h4 data-id="heading-29">3.2 å‘ 2ï¼šå®šæ—¶å™¨å›è°ƒä¸­ this æŒ‡å‘å…¨å±€</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å­™åå…«"</span>,
  <span class="hljs-title function_">delaySayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// undefinedï¼ˆthisæŒ‡å‘windowï¼‰</span>
    }, <span class="hljs-number">1000</span>);
  }
};
obj.<span class="hljs-title function_">delaySayHi</span>();
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p>ç”¨ç®­å¤´å‡½æ•°ï¼ˆç»§æ‰¿å¤–å±‚ thisï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œå­™åå…«â€</span>
}, <span class="hljs-number">1000</span>);
</code></pre>
</li>
<li>
<p>ä¿å­˜ this åˆ°å˜é‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(self.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œå­™åå…«â€</span>
}, <span class="hljs-number">1000</span>);
</code></pre>
</li>
</ol>
<h4 data-id="heading-30">3.3 å‘ 3ï¼šæ•°ç»„ forEach/map ä¸­çš„ this æŒ‡å‘é”™è¯¯</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">prefix</span>: <span class="hljs-string">"ç¼–å·ï¼š"</span>,
  <span class="hljs-title function_">processArr</span>(<span class="hljs-params">arr</span>) {
    <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span> + item; <span class="hljs-comment">// undefinedï¼ˆthisæŒ‡å‘windowï¼‰</span>
    });
  }
};
obj.<span class="hljs-title function_">processArr</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// ["undefined1", "undefined2", "undefined3"]</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p>ç”¨ç®­å¤´å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span> + item);
</code></pre>
</li>
<li>
<p>ä¼  this ä½œä¸º forEach/map çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
arr.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span> + item;
}, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// ç¬¬äºŒä¸ªå‚æ•°ç»‘å®šthis</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-31">3.4 å‘ 4ï¼šclass æ–¹æ³•ä½œä¸ºäº‹ä»¶å›è°ƒï¼Œthis ä¸º undefined</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Button</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">"ç‚¹å‡»"</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">btn</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"button"</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">btn</span>.<span class="hljs-property">textContent</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">btn</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span>);
  }

  <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>); <span class="hljs-comment">// undefinedï¼ˆthisä¸ºundefinedï¼Œä¸¥æ ¼æ¨¡å¼ï¼‰</span>
  }
}
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Button</span>();
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p>constructor ä¸­ bind ç»‘å®šï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
}
</code></pre>
</li>
<li>
<p>ç”¨ç®­å¤´å‡½æ•°ä½œä¸ºå›è°ƒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-variable language_">this</span>.<span class="hljs-property">btn</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleClick</span>(e));
</code></pre>
</li>
</ol>
<h4 data-id="heading-32">3.5 å‘ 5ï¼šç®­å¤´å‡½æ•°ä½œä¸ºå¯¹è±¡æ–¹æ³•ï¼Œthis æŒ‡å‘é”™è¯¯</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å‘¨åä¹"</span>,
  <span class="hljs-attr">sayHi</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// undefinedï¼ˆthisæŒ‡å‘windowï¼‰</span>
  }
};
obj.<span class="hljs-title function_">sayHi</span>();
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>æ”¾å¼ƒç®­å¤´å‡½æ•°ï¼Œç”¨æ™®é€šå‡½æ•°ä½œä¸ºå¯¹è±¡æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œå‘¨åä¹â€</span>
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-33">3.6 å‘ 6ï¼šæ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œthis è¢«è¦†ç›–</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Product</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-comment">// é”™è¯¯ï¼šè¿”å›å¯¹è±¡è¦†ç›–this</span>
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">"é»˜è®¤å•†å“"</span> };
}
<span class="hljs-keyword">const</span> phone = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>(<span class="hljs-string">"æ‰‹æœº"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(phone.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¾“å‡ºâ€œé»˜è®¤å•†å“â€</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p>ä¸è¿”å›å¯¹è±¡ï¼Œæˆ–è¿”å› thisï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Product</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// æˆ–ä¸å†™return</span>
}
</code></pre>
</li>
<li>
<p>è‹¥éœ€è¿”å›é¢å¤–æ•°æ®ï¼ŒæŒ‚è½½åˆ° this ä¸Šï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Product</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">extra</span> = { <span class="hljs-attr">price</span>: <span class="hljs-number">999</span> }; <span class="hljs-comment">// é¢å¤–æ•°æ®æŒ‚è½½åˆ°this</span>
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-34">3.7 å‘ 7ï¼šbind å¤šæ¬¡ç»‘å®šï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ç”Ÿæ•ˆ</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
}
<span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å´äºŒå"</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">name</span>: <span class="hljs-string">"éƒ‘äºŒåä¸€"</span> };

<span class="hljs-comment">// å¤šæ¬¡bindï¼Œåªæœ‰ç¬¬ä¸€æ¬¡ç”Ÿæ•ˆ</span>
<span class="hljs-keyword">const</span> bound1 = fn.<span class="hljs-title function_">bind</span>(obj1);
<span class="hljs-keyword">const</span> bound2 = bound1.<span class="hljs-title function_">bind</span>(obj2);
<span class="hljs-title function_">bound2</span>(); <span class="hljs-comment">// è¾“å‡ºâ€œå´äºŒåâ€ï¼ˆobj2ç»‘å®šæ— æ•ˆï¼‰</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>é¿å…å¤šæ¬¡ bindï¼Œå¦‚éœ€åŠ¨æ€æ”¹å˜ thisï¼Œç”¨ apply/callï¼ˆè€Œé bindï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-35">3.8 å‘ 8ï¼šä¸¥æ ¼æ¨¡å¼ä¸éä¸¥æ ¼æ¨¡å¼æ··ç”¨ï¼Œthis æŒ‡å‘æ··ä¹±</h4>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// å¤–å±‚éä¸¥æ ¼æ¨¡å¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"/>) {
  <span class="hljs-string">"use strict"</span>; <span class="hljs-comment">// å†…å±‚ä¸¥æ ¼æ¨¡å¼</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰</span>
  }
  <span class="hljs-title function_">inner</span>();
}
<span class="hljs-title function_">outer</span>();
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p>é¡¹ç›®ä¸­ç»Ÿä¸€ä¸¥æ ¼æ¨¡å¼ï¼ˆæ¨èï¼‰ï¼Œåœ¨å…¥å£æ–‡ä»¶æˆ–æ¨¡å—é¡¶éƒ¨æ·»åŠ <code>"use strict"</code>ï¼›</p>
</li>
<li>
<p>é¿å…å‡½æ•°å†…éƒ¨å±€éƒ¨å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå¯¼è‡´ this è¡Œä¸ºä¸ä¸€è‡´ã€‚</p>
</li>
</ul>
<h3 data-id="heading-36">å››ã€æ€»ç»“ï¼šthis æŒ‡å‘çš„åˆ¤æ–­æµç¨‹ï¼ˆä¸‡èƒ½å…¬å¼ï¼‰</h3>
<p>é‡åˆ°ä»»ä½• this æŒ‡å‘é—®é¢˜ï¼Œéƒ½å¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤åˆ¤æ–­ï¼Œå‡†ç¡®ç‡ 100%ï¼š</p>
<ol>
<li>
<p><strong>å‡½æ•°æ˜¯å¦ä¸ºç®­å¤´å‡½æ•°ï¼Ÿ</strong>
â†’ æ˜¯ï¼šthis ç»§æ‰¿å¤–å±‚æ‰§è¡Œä¸Šä¸‹æ–‡çš„ thisï¼ˆç›´æ¥æ‰¾å¤–å±‚ thisï¼‰ï¼›
â†’ å¦ï¼šè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li>
<p><strong>å‡½æ•°æ˜¯å¦ç”¨ new è°ƒç”¨ï¼Ÿ</strong>
â†’ æ˜¯ï¼šthis æŒ‡å‘æ–°åˆ›å»ºçš„å®ä¾‹ï¼›
â†’ å¦ï¼šè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li>
<p><strong>å‡½æ•°æ˜¯å¦ç”¨ apply/call/bind ç»‘å®šï¼Ÿ</strong>
â†’ æ˜¯ï¼šthis æŒ‡å‘ç»‘å®šçš„å¯¹è±¡ï¼ˆobj ä¸º null/undefined æ—¶ï¼Œéä¸¥æ ¼æ¨¡å¼ç»‘å…¨å±€ï¼Œä¸¥æ ¼æ¨¡å¼ç»‘ objï¼‰ï¼›
â†’ å¦ï¼šè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li>
<p><strong>å‡½æ•°æ˜¯å¦ä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼ˆobj.fn ()ï¼‰ï¼Ÿ</strong>
â†’ æ˜¯ï¼šthis æŒ‡å‘è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ï¼ˆobjï¼‰ï¼›
â†’ å¦ï¼šè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li>
<p><strong>æ˜¯å¦ä¸ºä¸¥æ ¼æ¨¡å¼ï¼ˆæ™®é€šè°ƒç”¨ï¼‰ï¼Ÿ</strong>
â†’ æ˜¯ï¼šthis ç»‘å®šåˆ° undefinedï¼›
â†’ å¦ï¼šthis ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼ˆwindow/globalï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-37">äº”ã€æœ€åï¼šthis çš„è®¾è®¡æ„ä¹‰</h3>
<p>ä¸ºä»€ä¹ˆ JavaScript è¦è®¾è®¡ thisï¼Ÿæœ¬è´¨æ˜¯ä¸ºäº† â€œä»£ç å¤ç”¨â€â€”â€” è®©å‡½æ•°å¯ä»¥åœ¨ä¸åŒå¯¹è±¡ä¸Šè°ƒç”¨ï¼Œæ— éœ€ä¸ºæ¯ä¸ªå¯¹è±¡é‡å¤å®šä¹‰ç›¸åŒé€»è¾‘ã€‚</p>
<p>æ¯”å¦‚ä¸€ä¸ª<code>sayHi</code>å‡½æ•°ï¼Œé€šè¿‡ this å¯ä»¥åœ¨ä¸åŒç”¨æˆ·å¯¹è±¡ä¸Šå¤ç”¨ï¼Œè¾“å‡ºä¸åŒç”¨æˆ·åï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
}

<span class="hljs-keyword">const</span> userA = { <span class="hljs-attr">name</span>: <span class="hljs-string">"ç”¨æˆ·A"</span>, sayHi };
<span class="hljs-keyword">const</span> userB = { <span class="hljs-attr">name</span>: <span class="hljs-string">"ç”¨æˆ·B"</span>, sayHi };

userA.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// Hi, ç”¨æˆ·A</span>
userB.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// Hi, ç”¨æˆ·B</span>
</code></pre>
<p>ç†è§£ this çš„è®¾è®¡åˆè¡·ï¼Œæ‰èƒ½æ›´å¥½åœ°è¿ç”¨å®ƒã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¸®ä½ å‘Šåˆ« â€œthis å›°æƒ‘â€ï¼Œå†™å‡ºé€»è¾‘æ¸…æ™°ã€æ— éšè— bug çš„ JavaScript ä»£ç ã€‚æ€»è€Œè¨€ä¹‹ï¼Œä¸€é”®<strong>ç‚¹èµã€è¯„è®ºã€å–œæ¬¢</strong>åŠ <strong>æ”¶è—</strong>å§ï¼è¿™å¯¹æˆ‘å¾ˆé‡è¦ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡React19.2 Activity ç»„ä»¶ä½¿ç”¨é—®é¢˜æ’æŸ¥]]></title>    <link>https://juejin.cn/post/7579934463589826596</link>    <guid>https://juejin.cn/post/7579934463589826596</guid>    <pubDate>2025-12-05T07:33:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579934463589826596" data-draft-id="7579843977848340534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡React19.2 Activity ç»„ä»¶ä½¿ç”¨é—®é¢˜æ’æŸ¥"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-05T07:33:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="KKKK"/> <meta itemprop="url" content="https://juejin.cn/user/3079108206805592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡React19.2 Activity ç»„ä»¶ä½¿ç”¨é—®é¢˜æ’æŸ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3079108206805592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    KKKK
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:33:37.000Z" title="Fri Dec 05 2025 07:33:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Activity ç»„ä»¶</h2>
<p>Activity ç»„ä»¶æ˜¯ React 19.2.0 å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œç”¨äºç®¡ç†ä¸å¯è§å†…å®¹çš„æ¸²æŸ“ä¼˜åŒ–ã€‚ä¸ä¼ ç»Ÿçš„æ¡ä»¶æ¸²æŸ“æ–¹å¼ä¸åŒï¼ŒActivity ç»„ä»¶èƒ½å¤Ÿåœ¨è§†è§‰ä¸Šéšè—å†…å®¹çš„åŒæ—¶ï¼Œä¿æŒå…¶ç»„ä»¶çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸï¼Œåªåœ¨å¿…è¦æ—¶æ‰æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œã€‚
ç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>é€‰é¡¹å¡å†…å®¹ï¼ˆtab contentï¼‰</li>
<li>æ¨¡æ€å¯¹è¯æ¡†å†…å®¹</li>
<li>ä¾§è¾¹æ å¯¼èˆªï¼ˆæŠ˜å æ—¶éšè—ï¼‰</li>
<li>å»¶è¿ŸåŠ è½½çš„åˆ—è¡¨é¡¹</li>
<li>é¢„åŠ è½½é¡µé¢éƒ¨åˆ†</li>
</ul>
<p>ç”¨æ³•ä¹Ÿå¾ˆç®€å•ï¼ŒActivityåŒ…è£¹æ‰€éœ€è¦çš„ç»„ä»¶å³å¯ï¼Œ</p>
<ul>
<li><strong>éšè—çŠ¶æ€ (Hidden Mode)</strong>ï¼šå­æ ‘è¢«æ¸²æŸ“ä½† DOM ä¸­ä¸å¯è§</li>
<li><strong>å¯è§çŠ¶æ€ (Visible Mode)</strong>ï¼šå­æ ‘æ­£å¸¸æ¸²æŸ“å¹¶æ˜¾ç¤º</li>
</ul>
<pre><code class="hljs language-js" lang="js">&lt;<span class="hljs-title class_">Activity</span> mode={activeTab === <span class="hljs-string">'home'</span> ? <span class="hljs-string">'visible'</span> : <span class="hljs-string">'hidden'</span>}&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>
&lt;/<span class="hljs-title class_">Activity</span>&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Activity</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">{activeTab</span> === <span class="hljs-string">'contact'</span> ? '<span class="hljs-attr">visible</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">hidden</span>'}&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Contact</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Activity</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-1">é—®é¢˜å¼•å…¥</h2>
<p>å‰ä¸¤å¤©åœ¨antdç¤¾åŒºå·²ç»çœ‹æœ‰æœ‰äººä½¿ç”¨äº†ï¼Œå¹¶æå‡ºäº†ä¸€ä¸ªè¿™æ ·çš„é—®é¢˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/680672e8f0c549aa86daa911a1a72047~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS0tLSw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765524816&amp;x-signature=rCnb3HlikU28B8uPvsDpr45Csjg%3D" alt="image.png" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fant-design%2Fant-design%2Fissues%2F55970" target="_blank" title="https://github.com/ant-design/ant-design/issues/55970" ref="nofollow noopener noreferrer">é—®é¢˜é“¾æ¥</a></p>
<p>é¦–å…ˆæ‰“å¼€å¼¹çª—1åå…³é—­ï¼Œç„¶ååˆ‡æ¢åˆ°2ï¼Œå†åˆ‡å›1ï¼Œ<strong>æ­¤æ—¶ Activity åˆ‡æ¢ä¼šå¯¼è‡´ç»„ä»¶ä» hidden å˜å› visible ã€‚</strong>
æ­¤æ—¶å†æ¬¡æ‰“å¼€å¼¹çª—1å¹¶å…³é—­ï¼Œæ­¤æ—¶å‡ºç°äº†é®ç½©å±‚æ®‹ç•™çš„é—®é¢˜ï¼ŒModal çš„ DOM å’Œé®ç½©å±‚æ— æ³•è¢«æ­£å¸¸æ¸…ç†ï¼Œè¿›è€Œå½±å“é¡µé¢äº¤äº’ã€‚</p>
<p>antdä¸­çš„ Modal ç»„ä»¶åº•å±‚ä¾èµ–äº@rc-component/dialogï¼Œè¿™ä¸ªç»„ä»¶æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œä¹Ÿæ˜¯æœ‰æ®‹ç•™é—®é¢˜ï¼Œå› æ­¤ç›´æ¥è°ƒè¯•è¿™ä¸ªdialogç»„ä»¶ã€‚</p>
<p>é¦–å…ˆçœ‹ä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šæ®‹ç•™ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œmodalå…³é—­åï¼Œé®ç½©å±‚å°†è¢«è®¾ç½®æ ·å¼display:noneï¼Œåšåˆ°éšè—ï¼š</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-attr">mergedStyle</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span> = {
    zIndex,
    ...wrapStyle,
    ...modalStyles?.<span class="hljs-property">wrapper</span>,
    <span class="hljs-attr">display</span>: !animatedVisible ? <span class="hljs-string">'none'</span> : <span class="hljs-literal">null</span>,
  };
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3cee31585cd4f6d84637331290787f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS0tLSw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765524816&amp;x-signature=PEUlyrWQcVHXpr19l7KexXRARQc%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†æ˜¯åœ¨å½“ Activity mode ä»Â <code>hidden</code>Â åˆ‡æ¢å›Â <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">visible</a>Â æ—¶ï¼Œå…³é—­å¼¹çª—åå°±å˜æˆäº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bc106ef1fbc4609804e5c5a393f4d58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS0tLSw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765524816&amp;x-signature=Q2LeAe3tTWsaJ3Hv8Fr04zSM8PA%3D" alt="image.png" loading="lazy"/>
ant-modal-wrapçš„displayå±æ€§æ²¡æœ‰åŠ ä¸Šï¼Œçœ‹èµ·æ¥å’ŒanimatedVisibleè¿™ä¸ªå±æ€§æœ‰å…³ã€‚</p>
<p>è¿™ä¸ªå€¼æ€ä¹ˆè°ƒç”¨çš„å‘¢ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Close action will trigger by:</span>
  <span class="hljs-comment">//   1. When hide motion end</span>
  <span class="hljs-comment">//   2. Controlled `open` to `false` immediately after set to `true` which will not trigger motion</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">doClose</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// Clean up scroll bar &amp; focus back</span>
    <span class="hljs-title function_">setAnimatedVisible</span>(<span class="hljs-literal">false</span>);<span class="hljs-comment">//å…³é—­æ–¹æ³•</span>

    <span class="hljs-keyword">if</span> (mask &amp;&amp; lastOutSideActiveElementRef.<span class="hljs-property">current</span> &amp;&amp; focusTriggerAfterClose) {
      <span class="hljs-keyword">try</span> {
        lastOutSideActiveElementRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>({ <span class="hljs-attr">preventScroll</span>: <span class="hljs-literal">true</span> });
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-comment">// Do nothing</span>
      }
      lastOutSideActiveElementRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
    }
  }

</code></pre>
<p>doCloseæ˜¯ä¸€ä¸ªå…³é—­æ–¹æ³•ï¼Œç”¨äºå°†animatedVisibleå˜ä¸ºfalseï¼Œè¿›è€Œå°†ant-modal-wrapéšè—ï¼Œæ‰€ä»¥é—®é¢˜å‡ºåœ¨doCloseçš„è°ƒç”¨ä¸Šã€‚</p>
<p>doCloseçš„è°ƒç”¨æœ‰ä¸¤å¤„ï¼š</p>
<p>ç¬¬ä¸€å¤„ï¼šè¿™ä¸ªonDialogVisibleChangedä¼ å…¥åŠ¨ç”»ç»„ä»¶motionä¸­ï¼Œç”±motionåŠ¨ç”»ç»“æŸåè°ƒç”¨doClose</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">onDialogVisibleChanged</span>(<span class="hljs-params">newVisible: boolean</span>) {
    <span class="hljs-comment">// Try to focus</span>
    <span class="hljs-keyword">if</span> (newVisible) {
      <span class="hljs-title function_">focusDialogContent</span>();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">doClose</span>();
    }
    afterOpenChange?.(newVisible);
  }
</code></pre>
<p>ç¬¬äºŒå¤„ï¼š</p>
<p>contentRefæ˜¯åŠ¨ç”»ç»„ä»¶çš„å¼•ç”¨ï¼Œè¿™é‡Œçš„é€»è¾‘æ˜¯ï¼ŒenableMotionä¸ºçœŸä¹Ÿå°±æ˜¯å¼€å¯äº†åŠ¨ç”»ï¼Œ inMotionä¸ºfalseï¼Œä¹Ÿå°±æ˜¯åŠ¨ç”»ç»“æŸï¼Œå¹¶ä¸”animatedVisibleä¸ºçœŸï¼ŒanimatedVisibleå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„å…³é—­çŠ¶æ€ï¼Œæœ€ådoCloseã€‚</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (visible) {
      <span class="hljs-title function_">setAnimatedVisible</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-title function_">saveLastOutSideActiveElementRef</span>();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (
      animatedVisible &amp;&amp;<span class="hljs-comment">//(å¼¹çª—å½“å‰æ˜¾ç¤ºä¸­)</span>
      contentRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">enableMotion</span>() &amp;&amp;<span class="hljs-comment">//(æ”¯æŒåŠ¨ç”»)</span>
      !contentRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">inMotion</span>()<span class="hljs-comment">//(å½“å‰æ²¡æœ‰åœ¨æ‰§è¡ŒåŠ¨ç”»)</span>
    ) {
      <span class="hljs-title function_">doClose</span>();
    }
  }, [visible]);
</code></pre>
<p>è¿™é‡Œåˆ†æä¸€ä¸‹é“¾è·¯ï¼Œç‚¹å‡»å…³é—­åï¼Œvisible = falseï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒanimatedVisibleå’ŒinMotionå®é™…ä¸Šéƒ½æ˜¯trueï¼ŒanimatedVisibleçŠ¶æ€ç”±doCloseæ”¹å˜ï¼ŒinMotionæ˜¯ä¸€ä¸ªå†…éƒ¨åŠ¨ç”»çŠ¶æ€ï¼ŒåŠ¨ç”»ç»“æŸçš„æ—¶å€™æ‰ä¸ºfalseã€‚</p>
<p>éšç€åŠ¨ç”»ç»“æŸï¼ŒonDialogVisibleChanged(false) æ‰§è¡Œï¼Œæ­¤æ—¶animatedVisibleä¸ºfalseï¼ŒinMotionä¹Ÿå˜ä¸ºfalseï¼Œä½†æ˜¯inMotion<strong>çš„å˜åŒ–ä¸ä¼šè§¦å‘ Effect</strong>ã€‚æ‰€ä»¥è¿™é‡Œçš„æ¡ä»¶å…¶å®æ²¡å•¥ç”¨ï¼ŒdoCLoseä¾èµ–äºonDialogVisibleChangedå°±å¤Ÿäº†ï¼Œæ— è®ºæœ‰æ²¡æœ‰åŠ¨ç”»ï¼Œæœ€ç»ˆéƒ½ä¼šé€šè¿‡Â <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">onDialogVisibleChanged</a>Â è°ƒç”¨Â <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">doClose()</a>ã€‚</p>
<p>å› æ­¤ä»onDialogVisibleChangedå…¥æ‰‹ï¼Œæ‰“å¼€å¼¹çª—ï¼Œåˆ‡æ¢Activityç»„ä»¶åå†å›æ¥ï¼Œå‘ç°onDialogVisibleChangedå‡½æ•°ä¸è°ƒç”¨äº†ï¼Œçœ‹èµ·æ¥é—®é¢˜å‡ºç°åœ¨åŠ¨ç”»ç»„ä»¶é‡Œã€‚</p>
<h2 data-id="heading-2">åŠ¨ç”»ç»„ä»¶</h2>
<p>@rc-component/dialogä½¿ç”¨äº†CSSMotionåŠ¨ç”»ç»„ä»¶åŒ…è£¹ï¼Œå®ç°åŠ¨ç”»æ•ˆæœï¼Œå¹¶å°†onVisibleChangedå‡½æ•°ä¼ å…¥æ¥æ§åˆ¶é®ç½©å±‚çš„æ ·å¼æ˜¾éšã€‚</p>
<p>è¿›å…¥@rc-component/motionç»„ä»¶ä¸­ï¼Œçœ‹çœ‹è¿™ä¸ªå‡½æ•°æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ã€‚
æœ‰è¿™æ ·ä¸€æ®µé€»è¾‘ï¼ŒcurrentStatus === STATUS_NONEï¼Œç®€å•è¯´å°±æ˜¯åŠ¨ç”»æ•ˆæœç»“æŸï¼Œä½†æ˜¯æ–­ç‚¹åå‘ç°æ ¹æœ¬æ²¡è¿›æ¥ï¼ŒåŠ¨ç”»æ•ˆæœä¸€ç›´æ²¡æœ‰ç»“æŸã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (asyncVisible !== <span class="hljs-literal">undefined</span> &amp;&amp; currentStatus === <span class="hljs-variable constant_">STATUS_NONE</span>) {
      <span class="hljs-comment">// Skip first render is invisible since it's nothing changed</span>
      <span class="hljs-keyword">if</span> (firstMountChangeRef.<span class="hljs-property">current</span> || asyncVisible) {
        onVisibleChanged?.(asyncVisible);
      }
      firstMountChangeRef.<span class="hljs-property">current</span> = <span class="hljs-literal">true</span>;
    }
</code></pre>
<p>è¿™å…¶å®è§£é‡Šäº†ä¸ºä»€ä¹ˆæ®‹ç•™çš„DOMæ ·å¼å¸¦ç€ZOOMçš„åŸå› ï¼Œå› ä¸ºç»“æŸåŠ¨ç”»å¡ä½äº†ã€‚</p>
<p>currentStatusæ˜¯æ€ä¹ˆå˜ä¸ºSTATUS_NONEçš„</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateMotionEndStatus</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">setStatus</span>(<span class="hljs-variable constant_">STATUS_NONE</span>);
    <span class="hljs-title function_">setStyle</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>);
  }

</code></pre>
<p>çœ‹è°åœ¨è°ƒç”¨</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> onInternalMotionEnd = <span class="hljs-title function_">useEvent</span>(<span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
    ....
    <span class="hljs-comment">// Only update status when `canEnd` and not destroyed</span>
    <span class="hljs-keyword">if</span> (currentActive &amp;&amp; canEnd !== <span class="hljs-literal">false</span>) {
      <span class="hljs-comment">// console.log('[onInternalMotionEnd] Updating motion end status');</span>
      <span class="hljs-title function_">updateMotionEndStatus</span>();
    }
  });
  <span class="hljs-keyword">const</span> [patchMotionEvents] = <span class="hljs-title function_">useDomMotionEvents</span>(onInternalMotionEnd);
</code></pre>
<p>ç»§ç»­æ–­ç‚¹ï¼Œå‘ç°æ ¹æœ¬æ²¡æœ‰è¿›å…¥è¿™æ®µé€»è¾‘ï¼ŒActivity ç»„ä»¶åˆ‡æ¢åonInternalMotionEndæ ¹æœ¬æ²¡æœ‰è°ƒç”¨å•Šã€‚</p>
<p>çœ‹æ¥æ˜¯Activity ç»„ä»¶å½±å“åˆ°äº†useDomMotionEventsã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (<span class="hljs-function"><span class="hljs-params">onInternalMotionEnd</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> cacheElementRef = <span class="hljs-title function_">useRef</span>();
  <span class="hljs-comment">// Remove events</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">removeMotionEvents</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-keyword">if</span> (element) {
      element.<span class="hljs-title function_">removeEventListener</span>(transitionEndName, onInternalMotionEnd);
      element.<span class="hljs-title function_">removeEventListener</span>(animationEndName, onInternalMotionEnd);
    }
  }

  <span class="hljs-comment">// Patch events</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">patchMotionEvents</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-keyword">if</span> (cacheElementRef.<span class="hljs-property">current</span> &amp;&amp; cacheElementRef.<span class="hljs-property">current</span> !== element) {
      <span class="hljs-title function_">removeMotionEvents</span>(cacheElementRef.<span class="hljs-property">current</span>);
    }

    <span class="hljs-keyword">if</span> (element &amp;&amp; element !== cacheElementRef.<span class="hljs-property">current</span>) {
      element.<span class="hljs-title function_">addEventListener</span>(transitionEndName, onInternalMotionEnd);
      element.<span class="hljs-title function_">addEventListener</span>(animationEndName, onInternalMotionEnd);

      <span class="hljs-comment">// Save as cache in case dom removed trigger by `motionDeadline`</span>
      cacheElementRef.<span class="hljs-property">current</span> = element;
    } <span class="hljs-keyword">else</span> {
    }
  }

  <span class="hljs-comment">// Clean up when removed</span>
  <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">removeMotionEvents</span>(cacheElementRef.<span class="hljs-property">current</span>);
    };
  }, []);

  <span class="hljs-keyword">return</span> [patchMotionEvents, removeMotionEvents];
});
</code></pre>
<p>è¿™é‡Œçš„é€»è¾‘å…¶å®æ˜¯æ¯”è¾ƒæ¸…æ™°çš„ï¼Œå°±æ˜¯ç»™åŠ¨ç”»domåŠ äº†åŠ¨ç”»ç»“æŸçš„äº‹ä»¶ç›‘å¬å™¨ã€‚
<strong>ä½†æ˜¯åœ¨Activity åœºæ™¯ä¸‹çš„æ ¸å¿ƒé—®é¢˜</strong>ï¼šcleanup ç§»é™¤äº†ç›‘å¬å™¨ï¼Œä½†æ²¡æœ‰æ¸…é™¤ç¼“å­˜å¼•ç”¨ï¼Œå¯¼è‡´åç»­è¯¯ä»¥ä¸ºç›‘å¬å™¨è¿˜åœ¨ã€‚</p>
<p>æ¥çœ‹ä¸€ä¸‹Activityå‰¯ä½œç”¨æ‰§è¡Œé¡ºåºï¼š</p>
<pre><code class="hljs language-js" lang="js">æ˜¾ç¤ºï¼š<span class="hljs-variable constant_">DOM</span>æ˜¾ç¤º â†’ <span class="hljs-title class_">Layout</span> <span class="hljs-title class_">Effects</span>æ‰§è¡Œ â†’ useEffectæ‰§è¡Œ
éšè—ï¼š<span class="hljs-title class_">Layout</span> <span class="hljs-title class_">Effects</span>æ¸…ç† â†’ <span class="hljs-variable constant_">DOM</span>éšè— â†’ useEffectæ¸…ç†
</code></pre>
<p>è¿™ä¸ªåˆ¤æ–­é€»è¾‘æœ‰é—®é¢˜ï¼š<strong>æ¯”è¾ƒçš„æ˜¯ DOM å…ƒç´ å¯¹è±¡ï¼Œè€Œä¸æ˜¯å…ƒç´ å®ä¾‹</strong>ã€‚åœ¨ Activity åœºæ™¯ä¸‹ï¼š</p>
<ol>
<li>Activity cleanup æ—¶ï¼Œ<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">cacheElementRef.current</a>Â ä»ç„¶æŒ‡å‘æ—§çš„ DOM å…ƒç´ å¼•ç”¨</li>
<li>åˆ‡æ¢å›æ¥åï¼Œè™½ç„¶ DOM å…ƒç´ çœ‹èµ·æ¥ä¸€æ ·ï¼ˆç›¸åŒçš„ç±»åï¼‰</li>
<li>ä½†Â <strong>ç›‘å¬å™¨å·²ç»è¢« cleanup ç§»é™¤äº†</strong></li>
<li>ç„¶è€ŒÂ <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">element === cacheElementRef.current</a>Â ä»ç„¶ä¸º trueï¼ˆå› ä¸ºæ˜¯åŒä¸€ä¸ª DOM å¯¹è±¡ï¼‰</li>
<li>æ‰€ä»¥è·³è¿‡äº†é‡æ–°æ·»åŠ ç›‘å¬å™¨çš„é€»è¾‘</li>
<li><strong>ç»“æœï¼šæ²¡æœ‰ç›‘å¬å™¨ï¼Œäº‹ä»¶ä¸ä¼šè§¦å‘</strong></li>
</ol>
<p>åªéœ€è¦åœ¨ Activity cleanup åï¼Œæ¸…é™¤Â <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">cacheElementRef.current</a>ï¼Œè¿™æ ·ä¸‹æ¬¡å°±ä¼šé‡æ–°æ·»åŠ ç›‘å¬å™¨ã€‚</p>
<pre><code class="hljs language-js" lang="js">cacheElementRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
</code></pre>
<p>æ€»ç»“ä¸€ä¸‹æ•´ä½“è°ƒç”¨é“¾è·¯ï¼š</p>
<pre><code class="hljs language-js" lang="js">åŠ¨ç”»ç»“æŸ (transitionend/animationend äº‹ä»¶)
  â†“
onInternalMotionEnd (åœ¨ useStatus.<span class="hljs-property">js</span> ä¸­)
  â†“
<span class="hljs-title function_">updateMotionEndStatus</span>() â†’ <span class="hljs-title function_">setStatus</span>(<span class="hljs-variable constant_">STATUS_NONE</span>)
  â†“
useEffect ç›‘å¬ currentStatus å˜åŒ–
  â†“
onVisibleChanged?.(asyncVisible)  <span class="hljs-comment">// asyncVisible = false</span>
  â†“
<span class="hljs-title function_">onDialogVisibleChanged</span>(<span class="hljs-literal">false</span>)  <span class="hljs-comment">// ä¼ é€’ç»™ Content/Mask</span>
  â†“
<span class="hljs-title function_">doClose</span>()  <span class="hljs-comment">// â† ç¬¬ä¸€å¤„ï¼šåŠ¨ç”»æ­£å¸¸ç»“æŸæ—¶è°ƒç”¨</span>
</code></pre>
<h2 data-id="heading-3"><strong>Activity åœºæ™¯é—®é¢˜</strong>ï¼š</h2>
<p>åœ¨ Activity åˆ‡æ¢åœºæ™¯ä¸‹ï¼Œé—®é¢˜å‡ºç°åœ¨ï¼š</p>
<ol>
<li>Activity åˆ‡æ¢ â†’ cleanup ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
â†“</li>
<li>åˆ‡æ¢å›æ¥ï¼Œæ‰“å¼€å¼¹çª—
<ul>
<li>ç›‘å¬å™¨æ²¡æœ‰é‡æ–°ç»‘å®šï¼ˆå¦‚æœ cacheElementRef æ²¡æ¸…ç©ºï¼‰
â†“</li>
</ul>
</li>
<li>å…³é—­å¼¹çª—
<ul>
<li>leave åŠ¨ç”»å¼€å§‹
â†“</li>
</ul>
</li>
<li>åŠ¨ç”»ç»“æŸ
<ul>
<li>âŒ transitionend äº‹ä»¶ä¸è§¦å‘ï¼ˆæ²¡æœ‰ç›‘å¬å™¨ï¼‰</li>
<li>âŒ onInternalMotionEnd ä¸æ‰§è¡Œ</li>
<li>âŒ status å¡åœ¨ STATUS_LEAVEï¼Œä¸ä¼šå˜ä¸º STATUS_NONE
â†“</li>
</ul>
</li>
<li>useStatus çš„ useEffect ä¸è§¦å‘ï¼ˆcurrentStatus æ²¡å˜ï¼‰
<ul>
<li>âŒ onVisibleChanged ä¸ä¼šè¢«è°ƒç”¨</li>
<li>âŒ ç¬¬ä¸€å¤„ doClose() ä¸æ‰§è¡Œ
â†“</li>
</ul>
</li>
<li>Dialog çš„ useEffect æ£€æŸ¥
<ul>
<li>inMotion() è¿”å› true (å› ä¸º status è¿˜æ˜¯ STATUS_LEAVE)</li>
<li>âŒ ç¬¬äºŒå¤„ doClose() ä¹Ÿä¸æ‰§è¡Œ
â†“</li>
</ul>
</li>
<li>ç»“æœ
<ul>
<li>animatedVisible æ°¸è¿œæ˜¯ true</li>
<li>display: none æ°¸è¿œä¸ç”Ÿæ•ˆ</li>
<li>å¼¹çª—æ®‹ç•™åœ¨é¡µé¢ä¸Š</li>
</ul>
</li>
</ol>
<p>æœ€åï¼Œæˆ‘åœ¨reactå®˜æ–¹æ–‡æ¡£çœ‹åˆ°è¿™æ ·ä¸€å¥è¯ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a3b73391a604b528a17dee6c1d84457~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS0tLSw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765524816&amp;x-signature=LIRk2f%2BNkKPt2AoqZ4Hl743%2BFbg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a898e206cf4e4875b472b6e6960837e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS0tLSw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765524816&amp;x-signature=ZxDG1tOSJdyuuOur4%2Btb%2FwWxCeo%3D" alt="image.png" loading="lazy"/></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦è¶Šæ¥è¶Šå°å¿ƒçš„åœ¨å¸è½½å‡½æ•°ä¸­æ¸…ç†å¿…è¦çš„å˜é‡ï¼Œä¸ç„¶å°±ä¼šå‡ºé—®é¢˜ã€‚ä¹‹å‰å¯èƒ½é—®é¢˜ä¸æ˜æ˜¾ï¼Œä½†æ˜¯åœ¨Activity ç»„ä»¶è¿™ç§ç»„ä»¶ä¸­ï¼Œéšè—ç›¸å½“äºå­ç»„ä»¶ä¼šè¢«ä¿ç•™çŠ¶æ€çš„å¸è½½ï¼Œä¸å¸è½½å¹²å‡€çš„è¯å†æ¬¡ä½¿ç”¨å°±ä¼šå‡ºç°å¾ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[webpackå®ç”¨é…ç½®dev--reactï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7579985751937843234</link>    <guid>https://juejin.cn/post/7579985751937843234</guid>    <pubDate>2025-12-05T07:44:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579985751937843234" data-draft-id="7579945518345388047" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="webpackå®ç”¨é…ç½®dev--reactï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T07:44:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ˜è®°è´¦ç°¿_å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="url" content="https://juejin.cn/user/1901536389893546"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            webpackå®ç”¨é…ç½®dev--reactï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1901536389893546/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ˜è®°è´¦ç°¿_å¾®ä¿¡å°ç¨‹åº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:44:39.000Z" title="Fri Dec 05 2025 07:44:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#36ace1;background-image:linear-gradient(90deg,rgba(217,234,251,.25) 3%,transparent 0),linear-gradient(1turn,rgba(217,234,251,.25) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{color:#36ace1}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"";display:block;position:absolute;left:0;top:0;bottom:0;margin:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAF8UlEQVRIS71Wa2wUVRT+7r0zu9t2t/RBaSioPCpYbIUfaEIQUogSAwZDAlUSGwgg/CBATExMCJH1D2hIfOEjFEUEhViCgBgIUCH44OkjPAMGBVqhpUCfW3Zn5z7MuQOE0hYxMdxJdmd25s53vnO+851leMCLPWA8/CfA2TsvL8n7q+nTFfNLG+4VqInHOeJLDQMzdz/3r4DGGDb9lxu+aPcE7U61JHDMDePcuv0O21ShugOefqDdtBie3Dk6K/O+Ab+qOjJiz7Ahv6c8hbDDwRiQlgYGDOcaWyEcjg8On+j71IpJndjGt9XO+jM7+pkywNvbazIfercieSdoJ4bE5sWjyZqMpDdeaQNXMNC34ME3LV8B56+1w3AOgk+EXe/Ub6uiLB6XdH/G/mYjeBCcFwnt3zQqWt4t4NjjnhzQ1CGkBhwOCMFAB71U0qsYgRlwBtQ1tiEJAy44OBdQUmFK3aWS06NLT+ukZAQoKCCjsfbDmk6p78RwX3ncWffmIj8U4kh6GpEwh+9rGy23LDU4GBrrm9DsuDYIGMAYIC/EUNQ7Cq1hn+WM2TI8f+jEyCmvjfn1FssuojHx6tDkyZOaCzr8TNpASzDAk8amlRIrEylcSGsYrcGIstIYWhgDDIM2BiGH3ywFkGAC1U9n38bpVqWGdk6r4HMWrZZaG1D5KLn0qYyBEAKnG1otAxLR8L7Z9nfP13CJHQ/ST4vK8sVHe8JsU0U6uO5hlexo8PI7vNDQomwoBRAwpSmtgJAAztS3QLsOsmBQlBtFJMQhlbbPUBBUR7o2hqHVddLbRsfCPQJ+u3TPw8uGl1yklAlHIJZKo3//XEhlLCtifPFyM7xwCI/lZ8IKTTBbS7pPLIggZZsSQ+zXbT4UYSsnet3UMM5HPT5LGbrDGYQroClyT2Jwnyj9aN949e8mDCwuRFoqKxRHUJ21BSDRELuQYGhvbMVV32Dp2RuxcfHSRBfAYTsbU9nJdFj5EiLkglHkRInC1xoxKbH9hQJIaTDvxxTCUddWl4wg0dCCtqSPDmoVx4Eitpxh64ZtsT6b5ie6pPRkfF90TllxOzEwmipMKRRgHODGgCuJkqIcvDdC2BZ5Y+tlHHMzkAKghbAxcQqQDiKrFBxhqg5MHTivS1tQ+sdsvaQl5Yd6yfdRXNQLsQwXnq/AQFLXEIIjzBSuNaaR0SuEtkQKl9IKjAsbJaWfzo1USDsM6zceDJfeVGgnhhN2N7YOyo5kJz1pa2AbgfrO1gRwXW6vSRQNtddR+EhvKGmseskgTtY2Q7kucYWWgToPHzyUyXry0iXfnBtfl5f/PaWPvPNW/zkOAQegJHltFE5dSaCskHqPVEnqpMAMEgkPtR1pKxyh/N0/vTToubtH1G3RmLjhM8ubKXfWB2mRa9ySOaWS2uT8lTZ0cI6I52Ngv7zAbW9mQVm1cpytu441P38XeXTlQu+e46nyh+bjLkMZRU0MCYTCJWZSG1y7cBWNURpxBlxqFBfEwGnGGhaYPSNwhpSv4DK+/vPynBk9MqRIiOWs8a2WJTm9a+cgh6SaMIMz9W1WjYHHMtv0wSmZdWB9gdsya/rcYVg7JoffCdqlD6ceTpiY59tM0PhJp5WNvra+BQkejCMyBarr8KKYDcZi8sDaCDKYFIGRk+FnSVXzyTO9JxBwF8DLc1dlLn65ooNEYN0fBsu21fTvL6PXnhxXlnLIqqhYYBian4lQ2Lk9ogiALsimiLC1QYfhlV1Hnxh7JfcMqxrpd7U2GFa5t9nOd7Kr+kg4uWvnCpromlJeXlq3Os3ZLOlrZBmNQf1ybVqpxhbA7mRIOCy1+esDOWhIyDv/+3Q7LRbsqH+rKRJ+nba+/+WW7II1s9vvVBuNr7KNF1WUM1bSt5f1Vq01jUVkKfnx8uoti3Or5rbd9782M61azJz/rFywYU/OyKqK1p5G2MS1Z18tGFDwTkvIxcK9RwaMP3a9/tbc62lPj/Nw5B9ey9Ehy/MY4oEqelgNleuyCgdXJlmc3fO5Ll56r5f+n/f+AWFf9jvBgaHpAAAAAElFTkSuQmCC);animation:spin 2s linear 1s infinite}.markdown-body h1{position:relative;font-size:30px;padding:12px 38px;margin:30px 0}.markdown-body h1:before{width:30px;height:30px;background-size:30px 30px}.markdown-body h2{position:relative;font-size:24px;padding:12px 36px;margin:28px 0}.markdown-body h2:before{width:28px;height:28px;background-size:28px 28px}.markdown-body h3{position:relative;font-size:18px;padding:4px 32px;margin:26px 0}.markdown-body h3:before{width:24px;height:24px;background-size:24px 24px}.markdown-body h4{position:relative;padding:4px 28px;font-size:16px;margin:22px 0}.markdown-body h4:before{width:20px;height:20px;background-size:20px 20px}.markdown-body h5{position:relative;padding:4px 26px;font-size:15px;margin:20px 0}.markdown-body h5:before{width:18px;height:18px;background-size:18px 18px}.markdown-body h6{position:relative;padding:4px 22px;font-size:14px;margin:16px 0}.markdown-body h6:before{width:16px;height:16px;background-size:16px 16px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#36ace1,#dff0fe,#36ace1);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:50px;height:24px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAEgElEQVRIS72Va0xbZRjH/z2FcimbchEQFDYRCIRAAWFQ2MaCXBwmUxYDLGGEcRFkH9wmk04zG0Bo2dwNIisERANqhjqdEmhd4nRbuwpsXDYWLLoRgeG4Chu9QHvMOQ0dpTAKH3y/tDnv8/5/z/Oc//scBv6nxdgoJ14gVYPEuITHdTdHY12gRIH0T0KljlqwthqUFHGtzAEsxqwLtPvkdc+FeeI3BgMeAMEhdOqR1mM7xswBrgmKE8pfIUhtm7fbZsft/i7wc98MtrUFxmbU6ByYgFwxjtFp5Q+WpF1mCy9wajXoqqD4E91saOf603e+5B7t99xTkyZJEiKJAl2DE9Xio1HvrBS8IuhVwVUP503swdJ9QWAw1izaoDs6pQT/655BMS9yy3KYiUoM/7adu7NmtnQfx5zWm8Q8Ui3gyGcddyU8rv/STRNQouDGP5/mhTubX4dpPv3DMzh1qS9LwuPWr+i63WVyn5QYj/4d/i4bqmbpoQ+auvBlQYghX6PE4wTSOzV5EUYlb5Q4MDqLk9/3cMRF27spDSNQamUnWZ4ebNB+OKNCyYVeFCZ5wZ5tiePN/UiP2YoQL0cUX+iFt4sNUiLdcaVvHJLecQiWnKVE8s5LvxAXRWeYgHLre0hecgAN0sxr0XBZgbJUP6OiLnaM4ivZCBrzOWBZEIY9rY5E8pl2nM0KMzzLq5aPiXmRzgbQm2VyR8KGGK/ICAFB6IusbvsDwhRf+n/jtSHc/nsGgjR9V6/1TyLa1wGU+FtnO1CbHQTHTSzIFJOYJ1jwcGLTccMTcyhp7oW4KFJ/SV4/IScrc55kQj07WNuOn94Lpw8kCm/Qv3W5HLjbWxsyfuNUO1TzWjAJBloKt2FBS+Jz6ShiA12NupBdLWugQcmn28lPMkONNql3U5cTSD9Lq+qEUqPFt++G0aKL687wDAqb+pAU7IKCuK2493AOPQ9UCNpib6T1tkg+RZ9KKJcNn8sJc1vac8o16jklLWLuOiDqwvHUIKPw7vtTON+iCDKkl/Cx9FeSYET5um1mHt6jN0Dz9ftwYjORudNjTdaBmi7kxvvA1d6Gjs0X/Q5Sp3tMEMSHre9HnDEZAPFCWUNVdliGJVPvqEP1Hbh4yPj9LadSY6fu6gPsCX+B3mq7NYLv2od8fj4aoViMNQGFijos/XVMTXGavgUisQIle71hwVx9KFEutLVjw8GORTuxoEbeJS7iPrmQyy/sIj2hQpqYHO7ZGs95nnZS4y8K8Pfqrb58UZ+IlKqbqNgfQm8da+pC9xjLqo8foFkau2qaCeXSyvzXfA9SDrp1bxJ/DU/jSJKXEWdBR2J/9U0UpwXTFZ/+8S76h/71FvO4A8sTeuqQThDKalOiPLN3BbhiYlaNsm964elkCztrC4xMqeDqYIus2JdB3cbS5l4MTag44qJt9GxbF4gKThRKY59lW13+KCUQ1pZMEwHKviKx4pFSqXzxCn/X9Gr2NO+zw+cTiTbxmUyCqH3GlsWg2kRNhOnHmhlrFkIvHTZt1borWvMCmRnwH4usn58STiycAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body del{color:#36ace1}.markdown-body code{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#282c34;color:#4ec9b0;padding:.24em .46em;margin:0 4px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;border-radius:10px;padding:15px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#4ec9b0;background:#282c34}.markdown-body a{text-decoration:none;color:#409eff;border-bottom:1px solid #409eff}.markdown-body a:active,.markdown-body a:hover{color:#007bff;border-bottom:1px solid #007bff}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;padding:8px 26px;background-color:rgba(54,172,225,.75);margin:16px 0;border-left:4px solid #409eff;border-radius:5px}.markdown-body blockquote:before{content:"â";top:10px;left:8px;color:#409eff;font-size:20px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:20px;position:absolute;right:8px;bottom:0;color:#409eff;opacity:.7}.markdown-body blockquote&gt;p{color:#fff}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€ç›´ä»¥æ¥éƒ½æ˜¯ä½¿ç”¨è„šæ‰‹æ¶åˆ›å»ºåº”ç”¨ï¼Œç°åœ¨æœ‰ç©ºè®¤çœŸç ”ç©¶äº†ä¸€ä¸‹webpack5ï¼Œä»é›¶å¼€å§‹æ­å»ºé¡¹ç›®ï¼Œå—ç›Šé¢‡å¤šï¼Œè®°ä¸‹å¿ƒå¾—ï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‡†å¤‡å·¥ä½œ</h2>
<ol>
<li>æ–°å»ºé¡¹ç›®ç©ºç™½ç›®å½• ï¼Œå¹¶è¿è¡Œnpm init -y å‘½ä»¤ï¼Œåˆå§‹åŒ–åŒ…ç®¡ç†é…ç½®æ–‡ä»¶ package.json</li>
<li>æ–°å»ºconfigç›®å½• -&gt; webpack.dev.jsï¼Œwebpackå¼€å‘ç¯å¢ƒé…ç½®</li>
<li>æ–°å»ºpublicç›®å½• -&gt; index.html</li>
<li>æ–°å»ºsrcç›®å½• -&gt; main.jsã€app.jsx</li>
</ol>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- index.html --&gt;</span>

<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"X-UA-Compatible"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"IE=edge"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"favicon.ico"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"shortcut"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/x-iocn"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Webpack React Cli<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-comment">&lt;!-- é€šè¿‡æ’ä»¶è‡ªåŠ¨å¼•å…¥ html-webpack-plugin--&gt;</span>
<span class="hljs-comment">&lt;!-- &lt;script src="../dist/static/js/main.js"&gt;&lt;/script&gt; --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// main.js</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDom</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react-dom/client"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./App"</span>;
<span class="hljs-keyword">const</span> root = <span class="hljs-title class_">ReactDom</span>.<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"app"</span>));
root.<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">BrowserRouter</span>&gt;</span></span>
);
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// App.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { lazy, <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Routes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-comment">// è·¯ç”±æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Home</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: 'home' */</span> <span class="hljs-string">"./pages/Home"</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">About</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: 'about' */</span><span class="hljs-string">"./pages/About"</span>));
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/home"</span>&gt;</span>home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>about<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>loading<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/home"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>}&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>}&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;

</code></pre>
<h2 data-id="heading-1">é…ç½® package.json</h2>
<p>åœ¨è¿™é‡ŒæŠŠæ‰€æœ‰éœ€è¦çš„ä¾èµ–å…¨éƒ¨å®‰è£…ä¸€ä¸‹</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"webpack_react_cli"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"index.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm run dev"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env NODE_ENV=development webpack server --config ./config/webpack.dev.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env NODE_ENV=production webpack --config ./config/webpack.prod.js"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ISC"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"browserslist"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"last 2 version"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"&gt; 1%"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"not dead"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@babel/core"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.21.5"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@pmmmwh/react-refresh-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.5.10"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"babel-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^9.1.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"babel-preset-react-app"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^10.0.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"copy-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^11.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cross-env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0.3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"css-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^6.7.3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"css-minimizer-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^8.39.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint-config-react-app"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.0.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"html-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.5.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"image-minimizer-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.8.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"imagemin-gifsicle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"imagemin-jpegtran"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"imagemin-optipng"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^8.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"imagemin-svgo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^10.0.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"less-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^11.1.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mini-css-extract-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.7.5"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"postcss-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.3.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"postcss-preset-env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^8.3.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"progress-bar-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.1.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react-refresh"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.14.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"sass-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^13.2.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"style-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.3.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"terser-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.3.7"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"thread-loader"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.0.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"webpack"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.81.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"webpack-cli"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.0.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"webpack-dev-server"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.13.3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"webpackbar"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.0.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"workbox-webpack-plugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^6.5.4"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"antd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.4.6"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^18.2.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^18.2.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react-router-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^6.11.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"resolutions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"//"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Used to install imagemin dependencies, because imagemin may not be installed in China. If it is abroad, you can delete it"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"bin-wrapper"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm:bin-wrapper-china"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"rollup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.72.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

</code></pre>
<h2 data-id="heading-2">webpack é…ç½®</h2>
<h3 data-id="heading-3">åŸºç¡€é…ç½®</h3>
<p>é€šè¿‡entryèŠ‚ç‚¹æŒ‡å®šæ‰“åŒ…çš„å…¥å£ï¼Œé€šè¿‡outputèŠ‚ç‚¹æŒ‡å®šæ‰“åŒ…çš„å‡ºå£ï¼Œé…ç½®æ¨¡å¼modeï¼Œè‡ªåŠ¨è§£ææ–‡ä»¶ç±»å‹ç­‰ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// webpack.dev.js</span>

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">entry</span>: <span class="hljs-string">"./src/main.js"</span>,
  <span class="hljs-comment">// å¼€å‘æœåŠ¡å™¨ä¸ä¼šè¾“å‡ºèµ„æºï¼Œåœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…</span>
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">filename</span>: <span class="hljs-string">"static/js/[name].js"</span>,
    <span class="hljs-attr">chunkFilename</span>: <span class="hljs-string">"static/js/[name].chunk.js"</span>,
    <span class="hljs-attr">assetModuleFilename</span>: <span class="hljs-string">"static/media/[hash:10][ext][query]"</span>,
  },
  <span class="hljs-attr">mode</span>: <span class="hljs-string">"development"</span>,
  <span class="hljs-attr">devServer</span>: {
    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£</span>
    <span class="hljs-attr">host</span>: <span class="hljs-string">"localhost"</span>,  <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span>
    <span class="hljs-comment">// æ¨¡å—çƒ­æ›¿æ¢(HMR - hot module replacement)åŠŸèƒ½ä¼šåœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤ æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚ä¸»è¦æ˜¯é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼Œæ¥æ˜¾è‘—åŠ å¿«å¼€å‘é€Ÿåº¦ï¼š</span>
    <span class="hljs-comment">// ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æœŸé—´ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</span>
    <span class="hljs-comment">// åªæ›´æ–°å˜æ›´å†…å®¹ï¼Œä»¥èŠ‚çœå®è´µçš„å¼€å‘æ—¶é—´ã€‚</span>
    <span class="hljs-comment">// åœ¨æºä»£ç ä¸­ CSS/JS äº§ç”Ÿä¿®æ”¹æ—¶ï¼Œä¼šç«‹åˆ»åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œæ›´æ–°ï¼Œè¿™å‡ ä¹ç›¸å½“äºåœ¨æµè§ˆå™¨ devtools ç›´æ¥æ›´æ”¹æ ·å¼ã€‚</span>
    <span class="hljs-attr">hot</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-comment">// è§£å†³å¼€å‘æ—¶åˆ·æ–°404</span>
    <span class="hljs-comment">// å½“ä½¿ç”¨HTML5 History APIæ—¶ï¼Œå¯èƒ½å¿…é¡»ä½¿ç”¨index.htmlé¡µé¢æ¥ä»£æ›¿ä»»ä½•404å“åº”ã€‚é€šè¿‡å°†devServer.historyPiFallbackè®¾ç½®ä¸ºtrueæ¥å¯ç”¨å®ƒ</span>
    <span class="hljs-attr">historyApiFallback</span>: <span class="hljs-literal">true</span>,
  },
  <span class="hljs-attr">devtool</span>: <span class="hljs-string">"source-map"</span>,
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-comment">// è‡ªåŠ¨è§£ææ–‡ä»¶æ‰©å±•å</span>
    <span class="hljs-attr">extensions</span>: [
      <span class="hljs-string">".web.mjs"</span>,<span class="hljs-string">".mjs"</span>,<span class="hljs-string">".web.js"</span>,<span class="hljs-string">".js"</span>,<span class="hljs-string">".web.ts"</span>,<span class="hljs-string">".ts"</span>  ,<span class="hljs-string">".web.tsx"</span>,<span class="hljs-string">".tsx"</span>,<span class="hljs-string">".json"</span>,<span class="hljs-string">".web.jsx"</span>,<span class="hljs-string">".jsx"</span>
    ],
  },
}
</code></pre>
<h3 data-id="heading-4">é…ç½® loader</h3>
<p>loader ä»å³åˆ°å·¦ï¼ˆæˆ–ä»ä¸‹åˆ°ä¸Šï¼‰çš„è§£ææ‰§è¡Œï¼Œæ‰€ä»¥å†™æ³•è¦è°¨æ…ã€‚</p>
<ol>
<li>style-loaderï¼ŒæŠŠ CSSä»¥styleæ ‡ç­¾çš„å½¢å¼ æ’å…¥åˆ° head ä¸­</li>
<li>css-loader ä¼šå¯¹ @import å’Œ url() è¿›è¡Œå¤„ç†ï¼Œå°±åƒ js è§£æ import/require() ä¸€æ ·</li>
<li>postcss-loaderï¼Œå¤„ç†csså…¼å®¹æ€§é—®é¢˜ï¼Œé…åˆpackage.jsonä¸­browserslistæ¥æŒ‡å®šå…¼å®¹æ€§</li>
<li>less-loaderï¼ŒåŠ è½½ Less æ–‡ä»¶å¹¶å°†ä»–ä»¬ç¼–è¯‘ä¸º CSS</li>
<li>sass-loaderï¼ŒåŠ è½½ Sass/SCSS æ–‡ä»¶å¹¶å°†ä»–ä»¬ç¼–è¯‘ä¸º CSS</li>
<li>babel-loaderï¼Œåœ¨æ—§çš„æµè§ˆå™¨æˆ–ç¯å¢ƒä¸­å°†ECMAScript 2015+ ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ js ä»£ç ï¼Œå¯ä»¥é…åˆæ ¹ç›®å½•babel.config.jsä½¿ç”¨</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// babel.config.js</span>

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// æ™ºèƒ½é¢„è®¾ï¼Œèƒ½å¤Ÿç¼–è¯‘es6è¯­æ³•</span>
  <span class="hljs-comment">// https://github.com/facebook/create-react-app/blob/main/packages/babel-preset-react-app/create.js</span>
  <span class="hljs-attr">presets</span>: [
    <span class="hljs-string">"react-app"</span>
  ],
  <span class="hljs-string">"compact"</span>: <span class="hljs-literal">true</span>
};
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// webpack.dev.js</span>

<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getStyLoader</span>(<span class="hljs-params">pre</span>) {
  <span class="hljs-keyword">return</span> [
    <span class="hljs-string">"style-loader"</span>,
    {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">"css-loader"</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-comment">// å¼€å¯æ¨¡å—åŒ–</span>
        <span class="hljs-attr">modules</span>: {
          <span class="hljs-attr">mode</span>: <span class="hljs-string">"local"</span>,
          <span class="hljs-comment">// è‡ªåŠ¨åŒ¹é…module.csså¼€å¯æ¨¡å—åŒ–</span>
          <span class="hljs-attr">auto</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">localIdentName</span>: <span class="hljs-string">"[path][name]__[local]--[hash:5]"</span>,
          <span class="hljs-attr">exportLocalsConvention</span>: <span class="hljs-string">"camelCase"</span>,
        },
      },
    },
    <span class="hljs-comment">// å¤„ç†å…¼å®¹æ€§ï¼Œé…åˆpackage.jsonä¸­çš„browserslistä½¿ç”¨</span>
    {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">"postcss-loader"</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">postcssOptions</span>: {
          <span class="hljs-attr">plugins</span>: [
            [
              <span class="hljs-string">"postcss-preset-env"</span>,
              {
                <span class="hljs-comment">// å…¶ä»–é€‰é¡¹</span>
              },
            ],
          ],
        },
      },
    },
    pre,
  ].<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>); <span class="hljs-comment">// è¿‡æ»¤æ‰underfind</span>
}
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      <span class="hljs-comment">// å¤„ç†css</span>
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/i</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-title function_">getStyLoader</span>(),
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/i</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-title function_">getStyLoader</span>(<span class="hljs-string">"less-loader"</span>),
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/i</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-title function_">getStyLoader</span>(<span class="hljs-string">"sass-loader"</span>),
      },
      <span class="hljs-comment">// å¤„ç†å›¾ç‰‡</span>
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif|webp)$/i</span>,
        <span class="hljs-comment">// assetå¯ä»¥è½¬æ¢base64</span>
        <span class="hljs-attr">type</span>: <span class="hljs-string">"asset"</span>,
        <span class="hljs-attr">parser</span>: {
          <span class="hljs-attr">dataUrlCondition</span>: {
            <span class="hljs-comment">// å°äº4kbè½¬åŒ–æˆbase64.å‡å°‘è¯·æ±‚ï¼Œèµ„æºä¼šå˜å¤§ä¸€äº›</span>
            <span class="hljs-attr">maxSize</span>: <span class="hljs-number">4</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 4kb</span>
          },
        },
        <span class="hljs-attr">generator</span>: {
          <span class="hljs-comment">// :8,hashé’±8ä½</span>
          <span class="hljs-attr">filename</span>: <span class="hljs-string">"static/images/[hash:8][ext]"</span>,
        },
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(ttf|mp4)$/i</span>,
        <span class="hljs-comment">// asset/resource åŸå°ä¸åŠ¨è¾“å‡º</span>
        <span class="hljs-attr">type</span>: <span class="hljs-string">"asset/resource"</span>,
        <span class="hljs-comment">// generator: {</span>
        <span class="hljs-comment">//   // :8,hashé’±8ä½</span>
        <span class="hljs-comment">//   filename: "static/fonts/[hash:8][ext]",</span>
        <span class="hljs-comment">// },</span>
      },
      <span class="hljs-comment">// å¤„ç†js</span>
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.jsx?$/</span>,
        <span class="hljs-comment">// exclude: /(node_modules)/, // æ’é™¤çš„æ–‡ä»¶</span>
        <span class="hljs-attr">include</span>: [path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../src"</span>)],
        <span class="hljs-attr">use</span>: [
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">"babel-loader"</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">cacheDirectory</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯ç¼“å­˜</span>
              <span class="hljs-attr">cacheCompression</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å…³é—­ç¼“å­˜å‹ç¼©</span>
              <span class="hljs-attr">plugins</span>: [<span class="hljs-string">"react-refresh/babel"</span>], <span class="hljs-comment">// HMR js</span>
            },
          },
        ],
      },
    ],
  },
};

</code></pre>
<h3 data-id="heading-5">é…ç½® plugin</h3>
<ol>
<li>eslint-webpack-pluginï¼Œeslintæ£€éªŒï¼Œé…åˆæ ¹ç›®å½•.eslintrc.jsä½¿ç”¨</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// .eslintrc.js</span>

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">extends</span>: [<span class="hljs-string">"react-app"</span>], <span class="hljs-comment">// ç»§æ‰¿ react å®˜æ–¹è§„åˆ™</span>
  <span class="hljs-attr">parserOptions</span>: {
    <span class="hljs-attr">babelOptions</span>: {
      <span class="hljs-attr">presets</span>: [
        <span class="hljs-comment">// è§£å†³é¡µé¢æŠ¥é”™é—®é¢˜</span>
        [<span class="hljs-string">"babel-preset-react-app"</span>, <span class="hljs-literal">false</span>],
        <span class="hljs-string">"babel-preset-react-app/prod"</span>,
      ],
    },
  },
};
</code></pre>
<ol start="2">
<li>html-webpack-pluginï¼Œé…ç½®htmlæ¨¡æ¿ï¼Œå°†jsè‡ªåŠ¨æ·»åŠ åˆ°htmlä¸­</li>
<li>@pmmmwh/react-refresh-webpack-pluginï¼Œæ¨¡å—çƒ­æ›¿æ¢ï¼Œè‡ªåŠ¨æ›´æ–°jsæ¨¡å—ï¼Œè€Œä¸æ˜¯åˆ·æ–°é¡µé¢ï¼Œcssçƒ­æ›¿æ¢åœ¨style-loaderä¸­å®ç°</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// webpack.dev.js</span>

<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
<span class="hljs-comment">// eslintæ£€éªŒ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ESLintPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"eslint-webpack-plugin"</span>);
<span class="hljs-comment">// htmlæ¨¡æ¿</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"html-webpack-plugin"</span>);
<span class="hljs-comment">// HMR</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ReactRefreshWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@pmmmwh/react-refresh-webpack-plugin"</span>);
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// é…ç½®plugins</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ESLintPlugin</span>({
      <span class="hljs-comment">// æ£€æŸ¥å“ªäº›æ–‡ä»¶</span>
      <span class="hljs-attr">context</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../src"</span>),
      <span class="hljs-attr">exclude</span>: <span class="hljs-string">"node_modules"</span>,
      <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯ç¼“å­˜</span>
      <span class="hljs-comment">// ç¼“å­˜ç›®å½•</span>
      <span class="hljs-attr">cacheLocation</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../node_modules/.cache/eslint"</span>),
    }),
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>({
      <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../public/index.html"</span>),
    }),
    <span class="hljs-comment">// HMR js</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactRefreshWebpackPlugin</span>(),
  ],
  <span class="hljs-attr">optimization</span>: {
    <span class="hljs-comment">// ä»£ç åˆ†å‰²</span>
    <span class="hljs-attr">splitChunks</span>: {
      <span class="hljs-comment">// include all types of chunks</span>
      <span class="hljs-attr">chunks</span>: <span class="hljs-string">"all"</span>,
      <span class="hljs-attr">cacheGroups</span>: {
        <span class="hljs-comment">// react react-dom react-router-dom ä¸€èµ·æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶</span>
        <span class="hljs-attr">react</span>: {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]react(.*)?[\\/]/</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">"chunk-react"</span>,
          <span class="hljs-attr">priority</span>: <span class="hljs-number">40</span>,
        },
        <span class="hljs-comment">// antd å•ç‹¬æ‰“åŒ…</span>
        <span class="hljs-attr">antd</span>: {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]antd[\\/]/</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">"chunk-antd"</span>,
          <span class="hljs-attr">priority</span>: <span class="hljs-number">30</span>,
        },
        <span class="hljs-comment">// å‰©ä¸‹node_moduleså•ç‹¬æ‰“åŒ…</span>
        <span class="hljs-attr">libs</span>: {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]/</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">"chunk-libs"</span>,
          <span class="hljs-attr">priority</span>: <span class="hljs-number">20</span>,
        },
      },
    },
    <span class="hljs-attr">runtimeChunk</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-function">(<span class="hljs-params">entrypoint</span>) =&gt;</span> <span class="hljs-string">`runtime~<span class="hljs-subst">${entrypoint.name}</span>`</span>,
    },
  },
};

</code></pre>
<h2 data-id="heading-6">å®Œæ•´çš„ webpack.dev.js é…ç½®</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// webpack.dev.js</span>

<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path"</span>);
<span class="hljs-comment">// eslintæ£€éªŒ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ESLintPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"eslint-webpack-plugin"</span>);
<span class="hljs-comment">// htmlæ¨¡æ¿</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"html-webpack-plugin"</span>);
<span class="hljs-comment">// HMR</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ReactRefreshWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@pmmmwh/react-refresh-webpack-plugin"</span>);
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getStyLoader</span>(<span class="hljs-params">pre</span>) {
  <span class="hljs-keyword">return</span> [
    <span class="hljs-string">"style-loader"</span>,
    {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">"css-loader"</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">modules</span>: {
          <span class="hljs-attr">mode</span>: <span class="hljs-string">"local"</span>,
          <span class="hljs-attr">auto</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">localIdentName</span>: <span class="hljs-string">"[path][name]__[local]--[hash:5]"</span>,
          <span class="hljs-attr">exportLocalsConvention</span>: <span class="hljs-string">"camelCase"</span>,
        },
      },
    },
    <span class="hljs-comment">// å¤„ç†å…¼å®¹æ€§ï¼Œé…åˆpackage.jsonä¸­çš„browserslistä½¿ç”¨</span>
    {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">"postcss-loader"</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">postcssOptions</span>: {
          <span class="hljs-attr">plugins</span>: [
            [
              <span class="hljs-string">"postcss-preset-env"</span>,
              {
                <span class="hljs-comment">// å…¶ä»–é€‰é¡¹</span>
              },
            ],
          ],
        },
      },
    },
    pre,
  ].<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>); <span class="hljs-comment">// è¿‡æ»¤æ‰underfind</span>
}
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">entry</span>: <span class="hljs-string">"./src/main.js"</span>,
  <span class="hljs-comment">// å¼€å‘æœåŠ¡å™¨ä¸ä¼šè¾“å‡ºèµ„æºï¼Œåœ¨å†…å­˜ä¸­ç¼–è¯‘æ‰“åŒ…</span>
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">filename</span>: <span class="hljs-string">"static/js/[name].js"</span>,
    <span class="hljs-attr">chunkFilename</span>: <span class="hljs-string">"static/js/[name].chunk.js"</span>,
    <span class="hljs-attr">assetModuleFilename</span>: <span class="hljs-string">"static/media/[hash:10][ext][query]"</span>,
  },
  <span class="hljs-attr">mode</span>: <span class="hljs-string">"development"</span>,
  <span class="hljs-attr">devServer</span>: {
    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£</span>
    <span class="hljs-attr">host</span>: <span class="hljs-string">"localhost"</span>, <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span>
    <span class="hljs-comment">// æ¨¡å—çƒ­æ›¿æ¢(HMR - hot module replacement)åŠŸèƒ½ä¼šåœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤ æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚ä¸»è¦æ˜¯é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼Œæ¥æ˜¾è‘—åŠ å¿«å¼€å‘é€Ÿåº¦ï¼š</span>
    <span class="hljs-comment">// ä¿ç•™åœ¨å®Œå…¨é‡æ–°åŠ è½½é¡µé¢æœŸé—´ä¸¢å¤±çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</span>
    <span class="hljs-comment">// åªæ›´æ–°å˜æ›´å†…å®¹ï¼Œä»¥èŠ‚çœå®è´µçš„å¼€å‘æ—¶é—´ã€‚</span>
    <span class="hljs-comment">// åœ¨æºä»£ç ä¸­ CSS/JS äº§ç”Ÿä¿®æ”¹æ—¶ï¼Œä¼šç«‹åˆ»åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œæ›´æ–°ï¼Œè¿™å‡ ä¹ç›¸å½“äºåœ¨æµè§ˆå™¨ devtools ç›´æ¥æ›´æ”¹æ ·å¼ã€‚</span>
    <span class="hljs-attr">hot</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-comment">// è§£å†³å¼€å‘æ—¶åˆ·æ–°404</span>
    <span class="hljs-comment">// å½“ä½¿ç”¨HTML5 History APIæ—¶ï¼Œå¯èƒ½å¿…é¡»ä½¿ç”¨index.htmlé¡µé¢æ¥ä»£æ›¿ä»»ä½•404å“åº”ã€‚é€šè¿‡å°†devServer.historyPiFallbackè®¾ç½®ä¸ºtrueæ¥å¯ç”¨å®ƒ</span>
    <span class="hljs-attr">historyApiFallback</span>: <span class="hljs-literal">true</span>,
  },
  <span class="hljs-attr">devtool</span>: <span class="hljs-string">"source-map"</span>,
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-comment">// è‡ªåŠ¨è§£ææ–‡ä»¶æ‰©å±•å</span>
    <span class="hljs-attr">extensions</span>: [
      <span class="hljs-string">".web.mjs"</span>,
      <span class="hljs-string">".mjs"</span>,
      <span class="hljs-string">".web.js"</span>,
      <span class="hljs-string">".js"</span>,
      <span class="hljs-string">".web.ts"</span>,
      <span class="hljs-string">".ts"</span>,
      <span class="hljs-string">".web.tsx"</span>,
      <span class="hljs-string">".tsx"</span>,
      <span class="hljs-string">".json"</span>,
      <span class="hljs-string">".web.jsx"</span>,
      <span class="hljs-string">".jsx"</span>,
    ],
  },
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      <span class="hljs-comment">// å¤„ç†css</span>
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/i</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-title function_">getStyLoader</span>(),
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/i</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-title function_">getStyLoader</span>(<span class="hljs-string">"less-loader"</span>),
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.s[ac]ss$/i</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-title function_">getStyLoader</span>(<span class="hljs-string">"sass-loader"</span>),
      },
      <span class="hljs-comment">// å¤„ç†å›¾ç‰‡</span>
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif|webp)$/i</span>,
        <span class="hljs-comment">// assetå¯ä»¥è½¬æ¢base64</span>
        <span class="hljs-attr">type</span>: <span class="hljs-string">"asset"</span>,
        <span class="hljs-attr">parser</span>: {
          <span class="hljs-attr">dataUrlCondition</span>: {
            <span class="hljs-comment">// å°äº4kbè½¬åŒ–æˆbase64.å‡å°‘è¯·æ±‚ï¼Œèµ„æºä¼šå˜å¤§ä¸€äº›</span>
            <span class="hljs-attr">maxSize</span>: <span class="hljs-number">4</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 4kb</span>
          },
        },
        <span class="hljs-attr">generator</span>: {
          <span class="hljs-comment">// :8,hashé’±8ä½</span>
          <span class="hljs-attr">filename</span>: <span class="hljs-string">"static/images/[hash:8][ext]"</span>,
        },
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(ttf|mp4)$/i</span>,
        <span class="hljs-comment">// asset/resource åŸå°ä¸åŠ¨è¾“å‡º</span>
        <span class="hljs-attr">type</span>: <span class="hljs-string">"asset/resource"</span>,
        <span class="hljs-comment">// generator: {</span>
        <span class="hljs-comment">//   // :8,hashé’±8ä½</span>
        <span class="hljs-comment">//   filename: "static/fonts/[hash:8][ext]",</span>
        <span class="hljs-comment">// },</span>
      },
      <span class="hljs-comment">// å¤„ç†js</span>
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.jsx?$/</span>,
        <span class="hljs-comment">// exclude: /(node_modules)/, // æ’é™¤çš„æ–‡ä»¶</span>
        <span class="hljs-attr">include</span>: [path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../src"</span>)],
        <span class="hljs-attr">use</span>: [
          {
            <span class="hljs-attr">loader</span>: <span class="hljs-string">"babel-loader"</span>,
            <span class="hljs-attr">options</span>: {
              <span class="hljs-attr">cacheDirectory</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯ç¼“å­˜</span>
              <span class="hljs-attr">cacheCompression</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å…³é—­ç¼“å­˜å‹ç¼©</span>
              <span class="hljs-attr">plugins</span>: [<span class="hljs-string">"react-refresh/babel"</span>], <span class="hljs-comment">// HMR js</span>
            },
          },
        ],
      },
    ],
  },
  <span class="hljs-comment">//</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ESLintPlugin</span>({
      <span class="hljs-comment">// æ£€æŸ¥å“ªäº›æ–‡ä»¶</span>
      <span class="hljs-attr">context</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../src"</span>),
      <span class="hljs-attr">exclude</span>: <span class="hljs-string">"node_modules"</span>,
      <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯ç¼“å­˜</span>
      <span class="hljs-comment">// ç¼“å­˜ç›®å½•</span>
      <span class="hljs-attr">cacheLocation</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../node_modules/.cache/eslint"</span>),
    }),
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>({
      <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"../public/index.html"</span>),
    }),
    <span class="hljs-comment">// HMR js</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactRefreshWebpackPlugin</span>(),
  ],
  <span class="hljs-attr">optimization</span>: {
    <span class="hljs-comment">// ä»£ç åˆ†å‰²</span>
    <span class="hljs-attr">splitChunks</span>: {
      <span class="hljs-comment">// include all types of chunks</span>
      <span class="hljs-attr">chunks</span>: <span class="hljs-string">"all"</span>,
      <span class="hljs-attr">cacheGroups</span>: {
        <span class="hljs-comment">// react react-dom react-router-dom ä¸€èµ·æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶</span>
        <span class="hljs-attr">react</span>: {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]react(.*)?[\\/]/</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">"chunk-react"</span>,
          <span class="hljs-attr">priority</span>: <span class="hljs-number">40</span>,
        },
        <span class="hljs-comment">// antd å•ç‹¬æ‰“åŒ…</span>
        <span class="hljs-attr">antd</span>: {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]antd[\\/]/</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">"chunk-antd"</span>,
          <span class="hljs-attr">priority</span>: <span class="hljs-number">30</span>,
        },
        <span class="hljs-comment">// å‰©ä¸‹node_moduleså•ç‹¬æ‰“åŒ…</span>
        <span class="hljs-attr">libs</span>: {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]/</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">"chunk-libs"</span>,
          <span class="hljs-attr">priority</span>: <span class="hljs-number">20</span>,
        },
      },
    },
    <span class="hljs-attr">runtimeChunk</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-function">(<span class="hljs-params">entrypoint</span>) =&gt;</span> <span class="hljs-string">`runtime~<span class="hljs-subst">${entrypoint.name}</span>`</span>,
    },
  },
};

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactäº¤äº’å­¦ä¹ ç¯‡]]></title>    <link>https://juejin.cn/post/7579949847395532800</link>    <guid>https://juejin.cn/post/7579949847395532800</guid>    <pubDate>2025-12-05T07:46:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579949847395532800" data-draft-id="7579949847395500032" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactäº¤äº’å­¦ä¹ ç¯‡"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-05T07:46:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é…’å°˜"/> <meta itemprop="url" content="https://juejin.cn/user/3477134724044940"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactäº¤äº’å­¦ä¹ ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3477134724044940/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é…’å°˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:46:30.000Z" title="Fri Dec 05 2025 07:46:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Reactæ·»åŠ äº¤äº’ç¯‡</h2>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å“åº”äº‹ä»¶</h3>
<h4 data-id="heading-2">åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è¯»å– props</h4>
<p>ç”±äºäº‹ä»¶å¤„ç†å‡½æ•°å£°æ˜äºç»„ä»¶å†…éƒ¨ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥ç›´æ¥è®¿é—®ç»„ä»¶çš„ propsã€‚ç¤ºä¾‹ä¸­çš„æŒ‰é’®ï¼Œå½“ç‚¹å‡»æ—¶ä¼šå¼¹å‡ºå¸¦æœ‰ <code>message</code> prop çš„ alertï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">AlertButton</span>(<span class="hljs-params">{ message, children }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> alert(message)}&gt;
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Toolbar</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AlertButton</span> <span class="hljs-attr">message</span>=<span class="hljs-string">"æ­£åœ¨æ’­æ”¾ï¼"</span>&gt;</span>
        æ’­æ”¾ç”µå½±
      <span class="hljs-tag">&lt;/<span class="hljs-name">AlertButton</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AlertButton</span> <span class="hljs-attr">message</span>=<span class="hljs-string">"æ­£åœ¨ä¸Šä¼ ï¼"</span>&gt;</span>
        ä¸Šä¼ å›¾ç‰‡
      <span class="hljs-tag">&lt;/<span class="hljs-name">AlertButton</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-3">å°†äº‹ä»¶å¤„ç†å‡½æ•°ä½œä¸º props ä¼ é€’</h4>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šåœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰å­ç»„ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚æ¯”å¦‚ï¼šç½®äºä¸åŒä½ç½®çš„ <code>Button</code> ç»„ä»¶ï¼Œå¯èƒ½æœ€ç»ˆæ‰§è¡Œçš„åŠŸèƒ½ä¹Ÿä¸åŒ â€”â€” ä¹Ÿè®¸æ˜¯æ’­æ”¾ç”µå½±ï¼Œä¹Ÿè®¸æ˜¯ä¸Šä¼ å›¾ç‰‡ã€‚</p>
<p>ä¸ºæ­¤ï¼Œå°†ç»„ä»¶ä»çˆ¶ç»„ä»¶æ¥æ”¶çš„ prop ä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ä¼ é€’ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params">{ onClick, children }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">PlayButton</span>(<span class="hljs-params">{ movieName }</span>) {
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handlePlayClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-string">`æ­£åœ¨æ’­æ”¾ <span class="hljs-subst">${movieName}</span>ï¼`</span>);
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handlePlayClick}</span>&gt;</span>
      æ’­æ”¾ "{movieName}"
    <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UploadButton</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> alert('æ­£åœ¨ä¸Šä¼ ï¼')}&gt;
      ä¸Šä¼ å›¾ç‰‡
    <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Toolbar</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PlayButton</span> <span class="hljs-attr">movieName</span>=<span class="hljs-string">"é­”å¥³å®…æ€¥ä¾¿"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">UploadButton</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ç¤ºä¾‹ä¸­ï¼Œ<code>Toolbar</code> ç»„ä»¶æ¸²æŸ“äº†ä¸€ä¸ª <code>PlayButton</code> ç»„ä»¶å’Œ <code>UploadButton</code> ç»„ä»¶ï¼š</p>
<ul>
<li><code>PlayButton</code> å°† <code>handlePlayClick</code> ä½œä¸º <code>onClick</code> prop ä¼ å…¥ <code>Button</code> ç»„ä»¶å†…éƒ¨ã€‚</li>
<li><code>UploadButton</code> å°† <code>() =&gt; alert('æ­£åœ¨ä¸Šä¼ ï¼')</code> ä½œä¸º <code>onClick</code> prop ä¼ å…¥ <code>Button</code> ç»„ä»¶å†…éƒ¨ã€‚</li>
</ul>
<p>æœ€åï¼Œä½ çš„ <code>Button</code> ç»„ä»¶æ¥æ”¶ä¸€ä¸ªåä¸º <code>onClick</code> çš„ propã€‚å®ƒç›´æ¥å°†è¿™ä¸ª prop ä»¥ <code>onClick={onClick}</code> æ–¹å¼ä¼ é€’ç»™æµè§ˆå™¨å†…ç½®çš„ <code>&lt;button&gt;</code>ã€‚å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼ŒReact ä¼šè°ƒç”¨ä¼ å…¥çš„å‡½æ•°ã€‚</p>
<h4 data-id="heading-4">å‘½åäº‹ä»¶å¤„ç†å‡½æ•° prop</h4>
<p>å†…ç½®ç»„ä»¶ï¼ˆ<code>&lt;button&gt;</code> å’Œ <code>&lt;div&gt;</code>ï¼‰ä»…æ”¯æŒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.react.dev%2Freference%2Freact-dom%2Fcomponents%2Fcommon%23common-props" target="_blank" title="https://zh-hans.react.dev/reference/react-dom/components/common#common-props" ref="nofollow noopener noreferrer">æµè§ˆå™¨äº‹ä»¶åç§°</a>ï¼Œä¾‹å¦‚ <code>onClick</code>ã€‚ä½†æ˜¯ï¼Œå½“ä½ æ„å»ºè‡ªå·±çš„ç»„ä»¶æ—¶ï¼Œä½ å¯ä»¥æŒ‰ä½ ä¸ªäººå–œå¥½å‘½åäº‹ä»¶å¤„ç†å‡½æ•°çš„ propã€‚</p>
<blockquote>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œäº‹ä»¶å¤„ç†å‡½æ•° props åº”è¯¥ä»¥ <code>on</code> å¼€å¤´ï¼Œåè·Ÿä¸€ä¸ªå¤§å†™å­—æ¯ã€‚</p>
</blockquote>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Toolbar</span>
      <span class="hljs-attr">onPlayMovie</span>=<span class="hljs-string">{()</span> =&gt;</span> alert('æ­£åœ¨æ’­æ”¾ï¼')}
      onUploadImage={() =&gt; alert('æ­£åœ¨ä¸Šä¼ ï¼')}
    /&gt;</span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Toolbar</span>(<span class="hljs-params">{ onPlayMovie, onUploadImage }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onPlayMovie}</span>&gt;</span>
        æ’­æ”¾ç”µå½±
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onUploadImage}</span>&gt;</span>
        ä¸Šä¼ å›¾ç‰‡
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params">{ onClick, children }</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-5">äºŒã€stateï¼šç»„ä»¶çš„è®°å¿†</h3>
<h4 data-id="heading-6">æ·»åŠ ä¸€ä¸ªstateå˜é‡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { sculptureList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./data.js'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [index, setIndex] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">setIndex</span>(index + <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">let</span> sculpture = sculptureList[index];
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>
        Next
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>{sculpture.name} <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> 
        by {sculpture.artist}
      <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>  
        ({index + 1} of {sculptureList.length})
      <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
        <span class="hljs-attr">src</span>=<span class="hljs-string">{sculpture.url}</span> 
        <span class="hljs-attr">alt</span>=<span class="hljs-string">{sculpture.alt}</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        {sculpture.description}
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-7">å‰–æ <code>useState</code></h4>
<p>å½“ä½ è°ƒç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.react.dev%2Freference%2Freact%2FuseState" target="_blank" title="https://zh-hans.react.dev/reference/react/useState" ref="nofollow noopener noreferrer"><code>useState</code></a> æ—¶ï¼Œä½ æ˜¯åœ¨å‘Šè¯‰ React ä½ æƒ³è®©è¿™ä¸ªç»„ä»¶è®°ä½ä¸€äº›ä¸œè¥¿ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[index, setIndex]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œä½ å¸Œæœ› React è®°ä½ <code>index</code>ã€‚</p>
<p>æƒ¯ä¾‹æ˜¯å°†è¿™å¯¹è¿”å›å€¼å‘½åä¸º <code>const [thing, setThing]</code>ã€‚ä½ ä¹Ÿå¯ä»¥å°†å…¶å‘½åä¸ºä»»ä½•ä½ å–œæ¬¢çš„åç§°ï¼Œä½†éµç…§çº¦å®šä¿—æˆèƒ½ä½¿è·¨é¡¹ç›®åˆä½œæ›´æ˜“ç†è§£ã€‚</p>
<p><code>useState</code> çš„å”¯ä¸€å‚æ•°æ˜¯ state å˜é‡çš„<strong>åˆå§‹å€¼</strong>ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>index</code> çš„åˆå§‹å€¼è¢«<code>useState(0)</code>è®¾ç½®ä¸º <code>0</code>ã€‚</p>
<p>æ¯æ¬¡ä½ çš„ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œ<code>useState</code> éƒ½ä¼šç»™ä½ ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå€¼çš„æ•°ç»„ï¼š</p>
<ol>
<li><strong>state å˜é‡</strong> (<code>index</code>) ä¼šä¿å­˜ä¸Šæ¬¡æ¸²æŸ“çš„å€¼ã€‚</li>
<li><strong>state setter å‡½æ•°</strong> (<code>setIndex</code>) å¯ä»¥æ›´æ–° state å˜é‡å¹¶è§¦å‘ React é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚</li>
</ol>
<p>ä»¥ä¸‹æ˜¯å®é™…å‘ç”Ÿçš„æƒ…å†µï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[index, setIndex]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
</code></pre>
<ol>
<li><strong>ç»„ä»¶è¿›è¡Œç¬¬ä¸€æ¬¡æ¸²æŸ“ã€‚</strong> å› ä¸ºä½ å°† <code>0</code> ä½œä¸º <code>index</code> çš„åˆå§‹å€¼ä¼ é€’ç»™ <code>useState</code>ï¼Œå®ƒå°†è¿”å› <code>[0, setIndex]</code>ã€‚ React è®°ä½ <code>0</code> æ˜¯æœ€æ–°çš„ state å€¼ã€‚</li>
<li><strong>ä½ æ›´æ–°äº† state</strong>ã€‚å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå®ƒä¼šè°ƒç”¨ <code>setIndex(index + 1)</code>ã€‚ <code>index</code> æ˜¯ <code>0</code>ï¼Œæ‰€ä»¥å®ƒæ˜¯ <code>setIndex(1)</code>ã€‚è¿™å‘Šè¯‰ React ç°åœ¨è®°ä½ <code>index</code> æ˜¯ <code>1</code> å¹¶è§¦å‘ä¸‹ä¸€æ¬¡æ¸²æŸ“ã€‚</li>
<li><strong>ç»„ä»¶è¿›è¡Œç¬¬äºŒæ¬¡æ¸²æŸ“</strong>ã€‚React ä»ç„¶çœ‹åˆ° <code>useState(0)</code>ï¼Œä½†æ˜¯å› ä¸º React <em>è®°ä½</em> äº†ä½ å°† <code>index</code> è®¾ç½®ä¸ºäº† <code>1</code>ï¼Œå®ƒå°†è¿”å› <code>[1, setIndex]</code>ã€‚</li>
<li>ä»¥æ­¤ç±»æ¨ï¼</li>
</ol>
<h4 data-id="heading-8">èµ‹äºˆä¸€ä¸ªç»„ä»¶å¤šä¸ª state å˜é‡</h4>
<p>ä½ å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­æ‹¥æœ‰ä»»æ„å¤šç§ç±»å‹çš„ state å˜é‡ã€‚è¯¥ç»„ä»¶æœ‰ä¸¤ä¸ª state å˜é‡ï¼Œä¸€ä¸ªæ•°å­— <code>index</code> å’Œä¸€ä¸ªå¸ƒå°”å€¼ <code>showMore</code>ï¼Œç‚¹å‡» â€œShow Detailsâ€ ä¼šæ”¹å˜ <code>showMore</code> çš„å€¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { sculptureList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./data.js'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [index, setIndex] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [showMore, setShowMore] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleNextClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">setIndex</span>(index + <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleMoreClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">setShowMore</span>(!showMore);
  }

  <span class="hljs-keyword">let</span> sculpture = sculptureList[index];
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleNextClick}</span>&gt;</span>
        Next
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>{sculpture.name} <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> 
        by {sculpture.artist}
      <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>  
        ({index + 1} of {sculptureList.length})
      <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleMoreClick}</span>&gt;</span>
        {showMore ? 'Hide' : 'Show'} details
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      {showMore &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{sculpture.description}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
        <span class="hljs-attr">src</span>=<span class="hljs-string">{sculpture.url}</span> 
        <span class="hljs-attr">alt</span>=<span class="hljs-string">{sculpture.alt}</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-9">State æ˜¯éš”ç¦»ä¸”ç§æœ‰çš„</h4>
<p>State æ˜¯å±å¹•ä¸Šç»„ä»¶å®ä¾‹å†…éƒ¨çš„çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œ<strong>å¦‚æœä½ æ¸²æŸ“åŒä¸€ä¸ªç»„ä»¶ä¸¤æ¬¡ï¼Œæ¯ä¸ªå‰¯æœ¬éƒ½ä¼šæœ‰å®Œå…¨éš”ç¦»çš„ state</strong>ï¼æ”¹å˜å…¶ä¸­ä¸€ä¸ªä¸ä¼šå½±å“å¦ä¸€ä¸ªã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰“å­—æœºæ•ˆæœ-æ”¯æŒckeditor5ã€æ¡†æ¶æ— å…³]]></title>    <link>https://juejin.cn/post/7579985751937925154</link>    <guid>https://juejin.cn/post/7579985751937925154</guid>    <pubDate>2025-12-05T07:54:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579985751937925154" data-draft-id="7579945518344978447" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰“å­—æœºæ•ˆæœ-æ”¯æŒckeditor5ã€æ¡†æ¶æ— å…³"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-05T07:54:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="videring"/> <meta itemprop="url" content="https://juejin.cn/user/166781500001054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰“å­—æœºæ•ˆæœ-æ”¯æŒckeditor5ã€æ¡†æ¶æ— å…³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781500001054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    videring
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:54:31.000Z" title="Fri Dec 05 2025 07:54:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AIåº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œä¸ºäº†å®ç°æ›´å¥½åœ°å®ç°æ‰“å­—æœºæ•ˆæœï¼Œå°¤å…¶æ˜¯è¾“å‡ºå¯¹è±¡ä¸ºå¯Œæ–‡æœ¬çš„åœºæ™¯ï¼Œç‰¹æ¨¡ä»¿<a href="https://link.juejin.cn?target=https%3A%2F%2Flinks.jianshu.com%2Fgo%3Fto%3Dhttps%253A%252F%252Felement-plus-x.com%252Fzh%252Fcomponents%252Ftypewriter%252F" target="_blank" title="https://links.jianshu.com/go?to=https%3A%2F%2Felement-plus-x.com%2Fzh%2Fcomponents%2Ftypewriter%2F" ref="nofollow noopener noreferrer">element-plus-xçš„typewriter</a>çš„èƒ½åŠ›ï¼Œå®ç°ç›¸å…³åŠŸèƒ½ï¼Œå…¶ä¸­forCKEditor5.ts æ˜¯é’ˆå¯¹è¾“å‡ºå¯¹è±¡ä¸ºCKEditor5å¯Œæ–‡æœ¬çš„æƒ…æ™¯ï¼ŒforDom.tsæ˜¯é’ˆå¯¹è¾“å‡ºå¯¹è±¡ä¸ºæ™®é€šå…ƒç´ ï¼ˆå¦‚divï¼‰çš„æƒ…æ™¯ã€‚</p>
<p>ç‰¹ç‚¹ï¼š<br/>
1ã€ä¸¤ç§æ–¹æ¡ˆåŸºäºtypescriptå®ç°ï¼Œå¯ç”¨äºreactã€vueç­‰æ¡†æ¶ä¸­ã€‚<br/>
2ã€å±æ€§æœ‰ï¼š</p>
<ul>
<li>containerï¼šå®šä¹‰è¾“å‡ºå¯¹è±¡ï¼Œåœ¨forDom.tsä¸­æ˜¯htmlå…ƒç´ ï¼Œå¦‚æŸä¸ªdivå…ƒç´ ï¼›åœ¨forCKEditor5.tsä¸­æ˜¯<code>CKEditorå¯¹è±¡</code></li>
<li>modeï¼šå®šä¹‰è¾“å…¥ç±»å‹ï¼Œæ”¯æŒçº¯æ–‡æœ¬ï¼ˆtextï¼‰ã€markdwonå’Œhtmlå­—ç¬¦ä¸²</li>
<li>intervalï¼šæ¯æ¬¡æ‰“å­—çš„é—´éš”æ—¶é—´ å•ä½( ms )</li>
<li>stepï¼šæ¯æ¬¡æ‰“å­—åå¤šå°‘å­—ç¬¦</li>
<li>cursorï¼š<code>ä»…</code>forDomtsæ”¯æŒï¼Œå®šä¹‰æœ«å°¾å…‰æ ‡ï¼Œé»˜è®¤ä¸º"|"</li>
<li>doneMarkerå’ŒdoneMarkerï¼šdoneMarkerç”¨äºå®šä¹‰ç»“æŸç¬¦ï¼ˆé»˜è®¤ä¸º[DONE]ï¼‰,å½“æ£€æµ‹åˆ°ç»“æŸç¬¦åï¼Œå¬åœæ­¢è¾“å‡ºå¹¶éšè—å…‰æ ‡ï¼ŒdetectDoneMarkerå®šä¹‰æ˜¯å¦å¼€å¯æ£€æµ‹</li>
</ul>
<p>3ã€æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>appendï¼šæ ¸å¿ƒé˜²èŒƒï¼Œç”¨äºè¿½åŠ å†…å®¹ï¼Œæ”¯æŒé“¾å¼æ“ä½œ</li>
<li>pauseï¼šæš‚åœè¾“å‡º</li>
<li>resumeï¼š æ¢å¤è¾“å‡º</li>
<li>stopï¼šåœæ­¢æ‰“å­—</li>
<li>destroyï¼šé”€æ¯æ“ä½œ</li>
<li>clearï¼šæ¸…ç©ºå†…å®¹</li>
<li>showCursor/hideCursorï¼š<code>ä»…</code>forDomtsæ”¯æŒï¼Œæ˜¾ç¤º/éšè—æœ«å°¾å…‰æ ‡ï¼ˆcursorå®šä¹‰æœ«å°¾å…‰æ ‡ï¼‰</li>
<li>onCompleteï¼š<code>ä»…</code>forCKEditor5.tsæ”¯æŒï¼Œç”¨äºä¼ é€’å›è°ƒï¼Œåœ¨å®Œæˆè¾“å‡ºæ—¶è°ƒç”¨</li>
</ul>
<p>4ã€ç®€å•ç¤ºä¾‹</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// forCKEditor5.tsçš„ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> typewriter = <span class="hljs-built_in">new</span> CKEditorTypewriterEngine({
        editor, <span class="hljs-comment">// æŸCKEditor5å®ä¾‹</span>
        mode: <span class="hljs-string">'html'</span>,
        interval: <span class="hljs-number">40</span>,
        step: <span class="hljs-number">2</span>,
        detectDoneMarker: <span class="hljs-literal">true</span>,
        doneMarker: <span class="hljs-string">'[done]'</span>
});

typewriter.<span class="hljs-built_in">append</span>(content).<span class="hljs-built_in">append</span>(<span class="hljs-string">'[done]'</span>);
typewriter.onComplete(() =&gt; {
        <span class="hljs-comment">// å¤„ç†ä¸€äº›é€»è¾‘</span>
})
</code></pre>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// forDom.tsçš„ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-type">const</span> tw = <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypewriterEngine</span>({
      container: typeWiriterRef.current!,
      mode: <span class="hljs-string">'markdown'</span>,
      interval: <span class="hljs-number">40</span>,
      step: <span class="hljs-number">2</span>,
      cursor: <span class="hljs-string">'|'</span>,
      detectDoneMarker: <span class="hljs-literal">true</span>,
      doneMarker: <span class="hljs-string">'[done]'</span>
    });
    
<span class="hljs-type">const</span> timeout = <span class="hljs-built_in">setTimeout</span>(() =&gt; {
      tw.<span class="hljs-built_in">append</span>(<span class="hljs-string">'# å…³äºä¸­å›½è‹¹æœäº§ä¸šå‘å±•çš„è°ƒç ”æŠ¥å‘Š\n\n**æŠ¥é€å•ä½ï¼šå†œä¸šå†œæ‘éƒ¨å‘å±•è§„åˆ’å¸**  \n**æŠ¥é€æ—¶é—´ï¼šxxxxå¹´xxæœˆxxæ—¥**\n\nä¸ºå…¨é¢æŒæ¡æˆ‘å›½è‹¹æœäº§ä¸šå‘å±•ç°çŠ¶ï¼Œæ·±å…¥åˆ†æå­˜åœ¨é—®é¢˜ä¸å‘å±•è¶‹åŠ¿ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–äº§ä¸šå¸ƒå±€ã€æå‡äº§å“è´¨é‡ã€å¢å¼ºå¸‚åœºç«äº‰åŠ›ï¼Œæˆ‘å¸ç»„ç»‡å¼€å±•äº†å…¨å›½è‹¹æœäº§ä¸šä¸“é¢˜è°ƒç ”å·¥ä½œã€‚ç°å°†æœ‰å…³æƒ…å†µæŠ¥å‘Šå¦‚ä¸‹ï¼š\n\n---\n\n## ä¸€ã€äº§ä¸šå‘å±•æ€»ä½“æƒ…å†µ\n\nè¿‘å¹´æ¥ï¼Œæˆ‘å›½è‹¹æœäº§ä¸šç¨³æ­¥å‘å±•ï¼Œç§æ¤é¢ç§¯å’Œäº§é‡æŒç»­å¢é•¿ï¼Œå·²æˆä¸ºå…¨çƒæœ€å¤§çš„è‹¹æœç”Ÿäº§å›½å’Œæ¶ˆè´¹å›½ã€‚2023å¹´æ•°æ®æ˜¾ç¤ºï¼Œå…¨å›½è‹¹æœç§æ¤é¢ç§¯çº¦ä¸º**4500ä¸‡äº©**ï¼Œæ€»äº§é‡è¾¾åˆ°**4800ä¸‡å¨**ï¼Œå å…¨çƒæ€»äº§é‡çš„**55%ä»¥ä¸Š**ã€‚ä¸»è¦äº§åŒºé›†ä¸­åœ¨é™•è¥¿ã€å±±ä¸œã€ç”˜è‚ƒã€æ²³å—ã€å±±è¥¿ç­‰çœä»½ã€‚\n\n| åœ°åŒº | ç§æ¤é¢ç§¯ï¼ˆä¸‡äº©ï¼‰ | å¹´äº§é‡ï¼ˆä¸‡å¨ï¼‰ | å å…¨å›½æ¯”é‡ |\n|------|------------------|----------------|-------------|\n| é™•è¥¿çœ | 1200             | 1200           | 25%         |\n| å±±ä¸œçœ | 900              | 1000           | 20.8%       |\n| ç”˜è‚ƒçœ | 600              | 700            | 14.6%       |\n| æ²³å—çœ | 500              | 550            | 11.5%       |\n| å±±è¥¿çœ | 400              | 450            | 9.4%        |\n| å…¶ä»–åœ°åŒº | 900              | 900            | 18.7%       |\n\nä»å“ç§ç»“æ„æ¥çœ‹ï¼Œå¯Œå£«ç³»è‹¹æœå æ®ä¸»å¯¼åœ°ä½ï¼Œå æ¯”è¶…è¿‡**70%**ï¼Œå…¶ä»–å¦‚å˜å•¦ã€é‡‘å¸…ã€ç§¦å† ç­‰ä¼ ç»Ÿå“ç§é€æ­¥è¢«ä¼˜è´¨é«˜äº§æ–°å“ç§æ›¿ä»£ã€‚\n\n---\n\n## äºŒã€äº§ä¸šå‘å±•ä¸­å­˜åœ¨çš„é—®é¢˜\n\n### ï¼ˆä¸€ï¼‰äº§ä¸šç»“æ„ä¸åˆç†ï¼ŒåŒºåŸŸé›†ä¸­åº¦é«˜\n\nè‹¹æœä¸»äº§åŒºé«˜åº¦é›†ä¸­äºé»„åœŸé«˜åŸåŠååŒ—å¹³åŸåœ°åŒºï¼Œæ˜“å—æ°”å€™ã€ç—…è™«å®³ç­‰è‡ªç„¶å› ç´ å½±å“ï¼ŒæŠ—é£é™©èƒ½åŠ›è¾ƒå¼±ã€‚éƒ¨åˆ†è€æœå›­è€åŒ–ä¸¥é‡ï¼Œç¼ºä¹æ›´æ–°æ¢ä»£æœºåˆ¶ï¼Œå¯¼è‡´å“è´¨ä¸‹é™ã€äº§é‡æ³¢åŠ¨å¤§ã€‚\n\n### ï¼ˆäºŒï¼‰äº§ä¸šé“¾æ¡çŸ­ï¼ŒåŠ å·¥è½¬åŒ–ç‡ä½\n\nç›®å‰ï¼Œæˆ‘å›½è‹¹æœä¸»è¦ç”¨äºé²œæœé”€å”®ï¼Œæ·±åŠ å·¥æ¯”ä¾‹è¾ƒä½ã€‚2023å¹´æ•°æ®æ˜¾ç¤ºï¼Œè‹¹æœåŠ å·¥è½¬åŒ–ç‡ä»…ä¸º**12%**ï¼Œè¿œä½äºå‘è¾¾å›½å®¶**30%ä»¥ä¸Š**çš„å¹³å‡æ°´å¹³ã€‚æœæ±ã€æœå¹²ã€æœé…’ç­‰äº§å“ä»å¤„äºèµ·æ­¥é˜¶æ®µï¼Œå“ç‰ŒåŒ–ç¨‹åº¦ä¸é«˜ã€‚\n\n### ï¼ˆä¸‰ï¼‰é”€å”®æ¸ é“å•ä¸€ï¼Œæµé€šä½“ç³»ä¸å¥å…¨\n\nè‹¹æœé”€å”®ä»¥æ‰¹å‘å¸‚åœºä¸ºä¸»ï¼Œç”µå•†æ¸ é“å‘å±•è¾ƒå¿«ä½†å°šæœªå½¢æˆè§„æ¨¡æ•ˆåº”ã€‚å†·é“¾ç‰©æµä½“ç³»å»ºè®¾æ»åï¼Œéƒ¨åˆ†åœ°åŒºå­˜åœ¨â€œå–éš¾â€â€œçƒ‚å¸‚â€ç°è±¡ï¼Œä»·æ ¼æ³¢åŠ¨é¢‘ç¹ï¼Œå†œæ°‘æ”¶å…¥ä¸ç¨³å®šã€‚\n\n### ï¼ˆå››ï¼‰ç§‘æŠ€åˆ›æ–°èƒ½åŠ›ä¸è¶³ï¼Œæ ‡å‡†åŒ–æ°´å¹³åä½\n\nå°½ç®¡æˆ‘å›½åœ¨è‹¹æœè‚²ç§ã€æ ½åŸ¹æŠ€æœ¯ç­‰æ–¹é¢å–å¾—ä¸€å®šè¿›å±•ï¼Œä½†æ•´ä½“ç§‘æŠ€æ”¯æ’‘èƒ½åŠ›ä»æ˜¾è–„å¼±ï¼Œä¼˜è´¨æ–°å“ç§æ¨å¹¿é€Ÿåº¦æ…¢ï¼Œæ ‡å‡†åŒ–ç”Ÿäº§è¦†ç›–ç‡ä¸è¶³**30%**ï¼Œåˆ¶çº¦äº†äº§ä¸šé«˜è´¨é‡å‘å±•ã€‚\n\n---\n\n## ä¸‰ã€å…¸å‹åœ°åŒºè°ƒç ”æƒ…å†µ\n\n### ï¼ˆä¸€ï¼‰é™•è¥¿çœæ¸­å—å¸‚\n\næ¸­å—å¸‚æ˜¯å…¨å›½é‡è¦çš„è‹¹æœç”Ÿäº§åŸºåœ°ä¹‹ä¸€ï¼Œç§æ¤é¢ç§¯è¾¾**200ä¸‡äº©**ï¼Œå¹´äº§é‡**250ä¸‡å¨**ã€‚è¯¥å¸‚é€šè¿‡â€œé¾™å¤´ä¼ä¸š+åˆä½œç¤¾+å†œæˆ·â€çš„æ¨¡å¼æ¨åŠ¨äº§ä¸šå‡çº§ï¼Œå»ºè®¾é«˜æ ‡å‡†ç¤ºèŒƒå›­ï¼Œå¼•è¿›ä¼˜è‰¯å“ç§ï¼Œå¹¶å»ºç«‹è‹¹æœè´¨é‡è¿½æº¯ç³»ç»Ÿï¼Œæœ‰æ•ˆæå‡äº†äº§å“è´¨é‡å’Œå¸‚åœºç«äº‰åŠ›ã€‚\n\n### ï¼ˆäºŒï¼‰å±±ä¸œçœçƒŸå°å¸‚\n\nçƒŸå°å¸‚æ‹¥æœ‰ç™¾å¹´è‹¹æœç§æ¤å†å²ï¼Œæ˜¯ä¸­å›½è‹¹æœå‡ºå£çš„é‡è¦å£å²¸ã€‚è¿‘å¹´æ¥ï¼ŒçƒŸå°å¸‚ä¾æ‰˜åœ°ç†æ ‡å¿—ä¿æŠ¤ï¼Œæ‰“é€ â€œçƒŸå°è‹¹æœâ€åŒºåŸŸå…¬ç”¨å“ç‰Œï¼Œç§¯ææ‹“å±•å›½é™…å¸‚åœºã€‚2023å¹´å‡ºå£é‡è¾¾**45ä¸‡å¨**ï¼Œå å…¨å›½å‡ºå£æ€»é‡çš„**25%**ã€‚\n\n### ï¼ˆä¸‰ï¼‰ç”˜è‚ƒçœåº†é˜³å¸‚\n\nåº†é˜³å¸‚åœ°å¤„é»„åœŸé«˜åŸè…¹åœ°ï¼Œå…‰ç…§å……è¶³ã€æ˜¼å¤œæ¸©å·®å¤§ï¼Œé€‚å®œè‹¹æœç”Ÿé•¿ã€‚å½“åœ°æ”¿åºœå‡ºå°å¤šé¡¹æ‰¶æŒæ”¿ç­–ï¼Œæ¨åŠ¨è‹¹æœäº§ä¸šè§„æ¨¡åŒ–ã€é›†çº¦åŒ–å‘å±•ï¼Œè‹¹æœç§æ¤é¢ç§¯è¾¾**300ä¸‡äº©**ï¼Œå¹´äº§å€¼è¶…**50äº¿å…ƒ**ã€‚ä½†ä»é¢ä¸´åŸºç¡€è®¾æ–½è–„å¼±ã€äººæ‰çŸ­ç¼ºç­‰é—®é¢˜ã€‚\n\n---\n\n## å››ã€å¯¹ç­–å»ºè®®\n\n### ï¼ˆä¸€ï¼‰ä¼˜åŒ–äº§ä¸šå¸ƒå±€ï¼Œæ¨è¿›ç»“æ„è°ƒæ•´\n\nç§‘å­¦è§„åˆ’äº§åŒºå¸ƒå±€ï¼Œå¼•å¯¼ä¼˜åŠ¿äº§åŒºé€‚åº¦æ‰©å¼ ï¼Œéä¼˜åŠ¿äº§åŒºæœ‰åºé€€å‡ºï¼Œé¼“åŠ±å‘å±•å±±åœ°ã€ä¸˜é™µç­‰åœ°å—ç§æ¤è‹¹æœï¼Œæé«˜åœŸåœ°åˆ©ç”¨æ•ˆç‡ã€‚\n\n### ï¼ˆäºŒï¼‰åŠ å¼ºç§‘æŠ€åˆ›æ–°ï¼Œæå‡æ ‡å‡†åŒ–æ°´å¹³\n\nåŠ å¤§ç§‘ç ”æŠ•å…¥ï¼ŒåŠ å¿«æ–°å“ç§é€‰è‚²å’Œé…å¥—æ ½åŸ¹æŠ€æœ¯æ¨å¹¿ï¼Œæ¨åŠ¨è‹¹æœç§æ¤æ ‡å‡†åŒ–ã€æœºæ¢°åŒ–ã€æ™ºèƒ½åŒ–å‘å±•ï¼Œæé«˜ç”Ÿäº§æ•ˆç‡å’Œæœå®å“è´¨ã€‚\n\n### ï¼ˆä¸‰ï¼‰å®Œå–„åŠ å·¥ä½“ç³»ï¼Œå»¶ä¼¸äº§ä¸šé“¾æ¡\n\næ”¯æŒå»ºè®¾è‹¹æœæ·±åŠ å·¥é¡¹ç›®ï¼Œé‡ç‚¹å‘å±•æœæ±ã€æœé†‹ã€æœé…’ç­‰äº§å“ï¼ŒåŸ¹è‚²ä¸€æ‰¹å…·æœ‰è‡ªä¸»çŸ¥è¯†äº§æƒçš„å“ç‰Œä¼ä¸šï¼Œæå‡é™„åŠ å€¼å’Œå¸‚åœºå æœ‰ç‡ã€‚\n\n### ï¼ˆå››ï¼‰å¥å…¨æµé€šä½“ç³»ï¼Œæ‹“å®½é”€å”®æ¸ é“\n\nåŠ å¿«æ¨è¿›å†·é“¾ç‰©æµä½“ç³»å»ºè®¾ï¼Œé¼“åŠ±å‘å±•ç”µå•†ã€ç¤¾åŒºå›¢è´­ç­‰æ–°å‹é”€å”®æ¨¡å¼ï¼Œæ„å»ºè¦†ç›–å…¨å›½ã€è¿æ¥å›½é™…çš„ç°ä»£è‹¹æœæµé€šç½‘ç»œï¼Œå¢å¼ºäº§ä¸šæŠ—é£é™©èƒ½åŠ›ã€‚\n\n### ï¼ˆäº”ï¼‰å¼ºåŒ–æ”¿ç­–æ‰¶æŒï¼Œä¿éšœå†œæ°‘åˆ©ç›Š\n\nåŠ å¤§å¯¹è‹¹æœäº§ä¸šçš„è´¢æ”¿ã€é‡‘èæ”¯æŒåŠ›åº¦ï¼Œå®Œå–„å†œä¸šä¿é™©åˆ¶åº¦ï¼Œå»ºç«‹å¥å…¨äº§é”€å¯¹æ¥æœºåˆ¶ï¼Œç¡®ä¿å†œæ°‘ç¨³å®šå¢æ”¶ã€‚\n\n---\n\n## é™„ä»¶\n\n1. ä¸­å›½è‹¹æœäº§ä¸šä¸»è¦äº§åŒºåˆ†å¸ƒå›¾  \n2. 2023å¹´å…¨å›½è‹¹æœäº§é‡åŠç»“æ„ç»Ÿè®¡è¡¨  \n3. å…¸å‹åœ°åŒºè‹¹æœäº§ä¸šå‘å±•æƒ…å†µæ±‡æ€»è¡¨  \n\n---\n\n**è”ç³»äººï¼šXXX**  \n**è”ç³»ç”µè¯ï¼šXXXX-XXXXXXXX**  \n**ç”µå­é‚®ç®±ï¼šXXXX@agri.gov.cn**\n\nå†œä¸šå†œæ‘éƒ¨å‘å±•è§„åˆ’å¸  \nxxxxå¹´xxæœˆxxæ—¥'</span>);
      tw.<span class="hljs-built_in">append</span>(<span class="hljs-string">'[done]'</span>);
}, <span class="hljs-number">1000</span>);
</code></pre>
<h2 data-id="heading-0">ä¸€ã€forCKEditor5.ts</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// forCKEditor5.ts </span>
<span class="hljs-keyword">import</span> { marked } from <span class="hljs-string">'marked'</span>;
<span class="hljs-comment">// import type { Editor, ViewDocumentFragment, ViewElement, ViewNode, ViewText } from 'ckeditor5';</span>
<span class="hljs-keyword">import</span> type { Editor, ModelElement, ModelText, ModelRootElement, ModelDocumentFragment <span class="hljs-keyword">as</span> ModelFragment } from <span class="hljs-string">'ckeditor5'</span>;


type TypewriterMode = <span class="hljs-string">'text'</span> | <span class="hljs-string">'markdown'</span> | <span class="hljs-string">'html'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CKEditorTypewriterOptions</span> {
  container: Editor;
  mode?: TypewriterMode;
  interval?: number; <span class="hljs-comment">// ms</span>
  step?: number;
  detectDoneMarker?: boolean;
  doneMarker?: string;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">QueueItem</span> {
  node: ModelText | ModelElement;
  parent: ModelElement | ModelFragment;
  offset?: number; <span class="hljs-comment">// å¯¹æ–‡æœ¬èŠ‚ç‚¹ï¼Œè¡¨ç¤ºå·²è¾“å‡ºé•¿åº¦</span>
}

export <span class="hljs-keyword">class</span> <span class="hljs-title class_">CKEditorTypewriterEngine</span> {
  <span class="hljs-keyword">private</span> container: Editor;
  <span class="hljs-keyword">private</span> mode: TypewriterMode;
  <span class="hljs-keyword">private</span> interval: number;
  <span class="hljs-keyword">private</span> step: number;

  <span class="hljs-keyword">private</span> queue: QueueItem[] = [];
  <span class="hljs-keyword">private</span> timer: number | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">private</span> isPaused = <span class="hljs-literal">false</span>;

  <span class="hljs-keyword">private</span> detectDoneMarker: boolean;
  <span class="hljs-keyword">private</span> doneMarker: string;

  <span class="hljs-keyword">private</span> isCompleted = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">private</span> onCompleteCallback?: () =&gt; void;

  <span class="hljs-keyword">constructor</span>(options: CKEditorTypewriterOptions) {
    <span class="hljs-comment">// æ£€æŸ¥ç¼–è¾‘å™¨ä¸Šæ˜¯å¦å·²æœ‰æ‰“å­—æœºå®ä¾‹</span>
    <span class="hljs-keyword">const</span> existingInstance = (options.container <span class="hljs-keyword">as</span> any).__typewriterInstance;
    <span class="hljs-keyword">if</span> (existingInstance) {
      existingInstance.destroy();
    }
    
    <span class="hljs-comment">// å°†å½“å‰å®ä¾‹å­˜å‚¨åœ¨ç¼–è¾‘å™¨ä¸Š</span>
    (options.container <span class="hljs-keyword">as</span> any).__typewriterInstance = <span class="hljs-keyword">this</span>;
    
    <span class="hljs-keyword">this</span>.container = options.container;
    <span class="hljs-keyword">this</span>.mode = options.mode ?? <span class="hljs-string">'html'</span>;
    <span class="hljs-keyword">this</span>.interval = options.interval ?? <span class="hljs-number">40</span>;
    <span class="hljs-keyword">this</span>.step = options.step ?? <span class="hljs-number">1</span>;
    <span class="hljs-keyword">this</span>.detectDoneMarker = options.detectDoneMarker ?? <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">this</span>.doneMarker = options.doneMarker ?? <span class="hljs-string">'[DONE]'</span>;
  }

  <span class="hljs-comment">/** ç®€å• Markdown è½¬ HTML */</span>
  <span class="hljs-keyword">private</span> markdownToHtml(md: string): string {
    <span class="hljs-keyword">return</span> marked.parse(md) <span class="hljs-keyword">as</span> string;
  }

  <span class="hljs-comment">/** å°† HTML / Markdown / Text è½¬æˆæ¨¡å‹é˜Ÿåˆ— */</span>
  <span class="hljs-keyword">public</span> append(input: string): CKEditorTypewriterEngine {
    <span class="hljs-keyword">const</span> pos = <span class="hljs-keyword">this</span>.container?.model?.document?.selection?.getFirstPosition(); 
    <span class="hljs-keyword">if</span> (!pos) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }

    let processedInput = input;
    let shouldHideCursorAfter = <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// æ£€æµ‹å¹¶å¤„ç† doneMarker</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.detectDoneMarker) {
      <span class="hljs-keyword">const</span> doneIndex = processedInput.indexOf(<span class="hljs-keyword">this</span>.doneMarker);
      <span class="hljs-keyword">if</span> (doneIndex !== -<span class="hljs-number">1</span>) {
        processedInput = processedInput.substring(<span class="hljs-number">0</span>, doneIndex);
        shouldHideCursorAfter = <span class="hljs-literal">true</span>;
      }
    }
    let html = processedInput;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode === <span class="hljs-string">'text'</span>) {
      html = <span class="hljs-keyword">this</span>.escapeHtml(processedInput);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode === <span class="hljs-string">'markdown'</span>) {
      html = <span class="hljs-keyword">this</span>.markdownToHtml(processedInput);
    }

    <span class="hljs-comment">// å°† HTML è½¬åˆ°åˆ°æ¨¡å‹ fragment</span>
    <span class="hljs-keyword">const</span> modelFragment: ModelFragment = <span class="hljs-keyword">this</span>.container.<span class="hljs-keyword">data</span>.parse(html);

    <span class="hljs-comment">// å°† fragment çš„é¡¶å±‚å­èŠ‚ç‚¹å‹å…¥é˜Ÿåˆ—</span>
    <span class="hljs-keyword">this</span>.enqueueFragment(modelFragment, pos.parent);

    <span class="hljs-comment">// å¯åŠ¨æ‰“å­—æœº</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.timer) <span class="hljs-keyword">this</span>.start();

    <span class="hljs-comment">// å®Œæˆåéšè—å…‰æ ‡</span>
    <span class="hljs-keyword">if</span> (shouldHideCursorAfter) {
      <span class="hljs-keyword">const</span> checkCompletion = () =&gt; {
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.queue.length &amp;&amp; !<span class="hljs-keyword">this</span>.timer) {
          <span class="hljs-keyword">this</span>.isCompleted = <span class="hljs-literal">true</span>;
          <span class="hljs-keyword">this</span>.onCompleteCallback?.();
        } <span class="hljs-keyword">else</span> {
          requestAnimationFrame(checkCompletion);
        }
      };
      checkCompletion();
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  <span class="hljs-comment">/** å°† fragment å­èŠ‚ç‚¹å‹å…¥é˜Ÿåˆ—ï¼Œä¿ç•™çˆ¶å¼•ç”¨ */</span>
  <span class="hljs-keyword">private</span> enqueueFragment(frag: ModelFragment | ModelElement, parent: ModelElement | ModelFragment) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> child of frag.getChildren()) {
      <span class="hljs-keyword">this</span>.queue.push({ node: child <span class="hljs-keyword">as</span> ModelText | ModelElement, parent });
    }
  }

  <span class="hljs-comment">/** å¯åŠ¨å®šæ—¶å™¨ */</span>
  <span class="hljs-keyword">private</span> start() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timer) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">this</span>.isPaused = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">this</span>.timer = window.setInterval(() =&gt; {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isPaused) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">this</span>.processNext();
    }, <span class="hljs-keyword">this</span>.interval);
  }

  <span class="hljs-comment">/** é€æ­¥å¤„ç†é˜Ÿåˆ— */</span>
  <span class="hljs-keyword">private</span> processNext() {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.queue.length) {
      <span class="hljs-keyword">this</span>.stop();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">const</span> item = <span class="hljs-keyword">this</span>.queue[<span class="hljs-number">0</span>];

    <span class="hljs-keyword">this</span>.container.model.change((writer) =&gt; {
      <span class="hljs-keyword">if</span> (item.node.<span class="hljs-keyword">is</span>(<span class="hljs-string">'$text'</span>)) {
        <span class="hljs-keyword">const</span> textNode = item.node <span class="hljs-keyword">as</span> ModelText;
        <span class="hljs-keyword">const</span> offset = item.offset ?? <span class="hljs-number">0</span>;
        <span class="hljs-keyword">const</span> chunk = textNode.<span class="hljs-keyword">data</span>.slice(offset, offset + <span class="hljs-keyword">this</span>.step);

        <span class="hljs-keyword">if</span> (chunk) {
          <span class="hljs-comment">// è·å–textNodeçš„å±æ€§</span>
          <span class="hljs-keyword">const</span> textAttributes = textNode.getAttributes();
          <span class="hljs-comment">// æ’å…¥æ–‡æœ¬å¹¶ä¿ç•™åŸæœ‰å±æ€§</span>
          writer.insertText(chunk, textAttributes, item.parent <span class="hljs-keyword">as</span> ModelElement, <span class="hljs-string">'end'</span>);
          item.offset = offset + chunk.length;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">this</span>.queue.shift();
        }
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.node.<span class="hljs-keyword">is</span>(<span class="hljs-string">'element'</span>)) {
        <span class="hljs-keyword">const</span> el = item.node <span class="hljs-keyword">as</span> ModelElement;
        <span class="hljs-comment">// å…‹éš†å…ƒç´ ä½†ä¸å¸¦å­èŠ‚ç‚¹</span>
        <span class="hljs-keyword">const</span> clone = writer.createElement(el.name, el.getAttributes());
        writer.insert(clone, item.parent, <span class="hljs-string">'end'</span>);

        <span class="hljs-keyword">this</span>.queue.shift();

        <span class="hljs-comment">// å°†å­èŠ‚ç‚¹å‹å…¥é˜Ÿåˆ—ï¼Œçˆ¶èŠ‚ç‚¹ä¸º clone</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> child of Array.from(el.getChildren()).reverse()) {
          <span class="hljs-keyword">this</span>.queue.unshift({ node: child <span class="hljs-keyword">as</span> ModelText | ModelElement, parent: clone });
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.queue.shift();
      }
      <span class="hljs-comment">// å…‰æ ‡ç§»åˆ°æœ€å</span>
      writer.setSelection(<span class="hljs-keyword">this</span>.container.model.document.getRoot() <span class="hljs-keyword">as</span> ModelRootElement, <span class="hljs-string">'end'</span>);
    });

    <span class="hljs-comment">// æ»šåŠ¨åˆ°ç¼–è¾‘å™¨åº•éƒ¨ï¼Œç¡®ä¿æ–°å†…å®¹å¯è§</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isCompleted) {
      <span class="hljs-keyword">this</span>.container.editing.view.scrollToTheSelection();
    }
  }

  <span class="hljs-comment">/** æš‚åœ */</span>
  <span class="hljs-keyword">public</span> pause() {
    <span class="hljs-keyword">this</span>.isPaused = <span class="hljs-literal">true</span>;
  }

  <span class="hljs-comment">/** æ¢å¤ */</span>
  <span class="hljs-keyword">public</span> resume() {
    <span class="hljs-keyword">this</span>.isPaused = <span class="hljs-literal">false</span>;
  }

  <span class="hljs-comment">/** è®¾ç½®å®Œæˆå›è°ƒå‡½æ•° */</span>
  <span class="hljs-keyword">public</span> onComplete(callback: () =&gt; void): CKEditorTypewriterEngine {
    <span class="hljs-keyword">this</span>.onCompleteCallback = callback;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  <span class="hljs-comment">/** åœæ­¢æ‰“å­—æœº */</span>
  <span class="hljs-keyword">public</span> stop() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timer) {
      clearInterval(<span class="hljs-keyword">this</span>.timer);
      <span class="hljs-keyword">this</span>.timer = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">this</span>.queue = [];
    <span class="hljs-comment">// è§£å†³è¾“å‡ºåï¼Œç‚¹å‡»è¾“å‡ºå†…å®¹ä»»æ„ä½ç½®ï¼Œå…‰æ ‡ä¼šè¢«å¼ºåˆ¶è·³è½¬åˆ°æœ«å°¾çš„é—®é¢˜ï¼ˆæ¯”è¾ƒhackï¼‰</span>
    <span class="hljs-keyword">this</span>.container.setData(<span class="hljs-keyword">this</span>.container.getData() + <span class="hljs-string">''</span>);
  }

  <span class="hljs-comment">/** é”€æ¯ */</span>
  <span class="hljs-keyword">public</span> destroy() {
    <span class="hljs-keyword">this</span>.stop();
    <span class="hljs-keyword">this</span>.clear();
    <span class="hljs-comment">// ä»ç¼–è¾‘å™¨ä¸Šç§»é™¤å®ä¾‹å¼•ç”¨</span>
    delete (<span class="hljs-keyword">this</span>.containeras any).__typewriterInstance;
  }

  <span class="hljs-keyword">public</span> clear() {
    <span class="hljs-comment">// é€šè¿‡modelæ–¹å¼æ¸…ç©ºcontainerçš„å†…å®¹</span>
    <span class="hljs-keyword">this</span>.container.model.change((writer) =&gt; {
      <span class="hljs-keyword">const</span> root = <span class="hljs-keyword">this</span>.container.model.document.getRoot() <span class="hljs-keyword">as</span> ModelRootElement;
      <span class="hljs-keyword">const</span> range = writer.createRangeIn(root);
      <span class="hljs-comment">// ä¸è¦ç›´æ¥remove(root)ï¼Œè¿™æ ·ä¼šç ´åç»“æ„</span>
      writer.remove(range);
    });
    <span class="hljs-keyword">this</span>.queue = [];
  }

  <span class="hljs-comment">/** ç®€å•è½¬ä¹‰ HTML */</span>
  <span class="hljs-keyword">private</span> escapeHtml(text: string) {
    <span class="hljs-keyword">const</span> div = document.createElement(<span class="hljs-string">'div'</span>);
    div.textContent = text;
    <span class="hljs-keyword">return</span> div.innerHTML;
  }
}
</code></pre>
<h2 data-id="heading-1">äºŒã€forDom.ts</h2>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//  forDom.ts</span>
<span class="hljs-keyword">import</span> { marked } from <span class="hljs-string">'marked'</span>;
type TypewriterMode = <span class="hljs-string">'text'</span> | <span class="hljs-string">'markdown'</span> | <span class="hljs-string">'html'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">TypewriterOptions</span> {
  container: HTMLElement;
  mode?: TypewriterMode;
  interval?: number; <span class="hljs-comment">// ms</span>
  step?: number;
  cursor?: string;
  detectDoneMarker?: boolean;
  doneMarker?: string;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">QueueItem</span> {
  node: Node;
  parent: HTMLElement;
  offset?: number; <span class="hljs-comment">// å¯¹æ–‡æœ¬èŠ‚ç‚¹ï¼Œè¡¨ç¤ºå·²è¾“å‡ºé•¿åº¦</span>
}

export <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypewriterEngine</span> {
  <span class="hljs-keyword">private</span> container: HTMLElement;
  <span class="hljs-keyword">private</span> mode: TypewriterMode;
  <span class="hljs-keyword">private</span> interval: number;
  <span class="hljs-keyword">private</span> step: number;
  <span class="hljs-keyword">private</span> cursorChar: string;
  <span class="hljs-keyword">private</span> detectDoneMarker: boolean;
  <span class="hljs-keyword">private</span> doneMarker: string;

  <span class="hljs-keyword">private</span> textQueue: string[] = [];
  <span class="hljs-keyword">private</span> htmlQueue: QueueItem[] = [];
  <span class="hljs-keyword">private</span> timer: number | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">private</span> isPaused = <span class="hljs-literal">false</span>;

  <span class="hljs-keyword">private</span> cursorEl: HTMLElement;

  <span class="hljs-keyword">constructor</span>(options: TypewriterOptions) {
    <span class="hljs-keyword">this</span>.container = options.container;
    <span class="hljs-keyword">this</span>.mode = options.mode ?? <span class="hljs-string">'text'</span>;
    <span class="hljs-keyword">this</span>.interval = options.interval ?? <span class="hljs-number">40</span>;
    <span class="hljs-keyword">this</span>.step = options.step ?? <span class="hljs-number">1</span>;
    <span class="hljs-keyword">this</span>.cursorChar = options.cursor ?? <span class="hljs-string">'|'</span>;
    <span class="hljs-keyword">this</span>.detectDoneMarker = options.detectDoneMarker ?? <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">this</span>.doneMarker = options.doneMarker ?? <span class="hljs-string">'[DONE]'</span>;

    <span class="hljs-comment">// æ£€æŸ¥å®¹å™¨æ˜¯å¦å·²æœ‰æ‰“å­—æœºå®ä¾‹ï¼Œè‹¥æœ‰åˆ™é”€æ¯</span>
    <span class="hljs-keyword">const</span> existingInstance = (<span class="hljs-keyword">this</span>.container <span class="hljs-keyword">as</span> any).__typewriterInstance;
    <span class="hljs-keyword">if</span> (existingInstance) {
      existingInstance.destroy();
    }
    <span class="hljs-comment">// å°†å½“å‰å®ä¾‹å­˜å‚¨åœ¨å®¹å™¨ä¸Š</span>
    (<span class="hljs-keyword">this</span>.container <span class="hljs-keyword">as</span> any).__typewriterInstance = <span class="hljs-keyword">this</span>;

    <span class="hljs-comment">// æ¸…é™¤å®¹å™¨ç°æœ‰å†…å®¹</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.container.firstChild) {
      <span class="hljs-keyword">this</span>.container.removeChild(<span class="hljs-keyword">this</span>.container.firstChild);
    }

    <span class="hljs-comment">// åˆå§‹åŒ–å…‰æ ‡</span>
    <span class="hljs-keyword">this</span>.cursorEl = document.createElement(<span class="hljs-string">'span'</span>);
    <span class="hljs-keyword">this</span>.cursorEl.className = <span class="hljs-string">'tw-cursor'</span>;
    <span class="hljs-keyword">this</span>.cursorEl.textContent = <span class="hljs-keyword">this</span>.cursorChar;
    <span class="hljs-keyword">this</span>.container.appendChild(<span class="hljs-keyword">this</span>.cursorEl);

    <span class="hljs-keyword">this</span>.startCursorBlink();
  }

  <span class="hljs-comment">/** å…‰æ ‡é—ªçƒ */</span>
  <span class="hljs-keyword">private</span> startCursorBlink() {
    setInterval(() =&gt; {
      <span class="hljs-keyword">this</span>.cursorEl.style.visibility =
        <span class="hljs-keyword">this</span>.cursorEl.style.visibility === <span class="hljs-string">'hidden'</span> ? <span class="hljs-string">'visible'</span> : <span class="hljs-string">'hidden'</span>;
    }, <span class="hljs-number">500</span>);
  }

  <span class="hljs-comment">/** ç®€å• Markdown è½¬ HTML */</span>
  <span class="hljs-keyword">private</span> markdownToHtml(md: string): string {
    <span class="hljs-keyword">return</span> marked.parse(md) <span class="hljs-keyword">as</span> string;
  }

  <span class="hljs-comment">/** è¿½åŠ å†…å®¹ */</span>
  <span class="hljs-keyword">public</span> append(input: string): TypewriterEngine {
    let processedInput = input;
    let shouldHideCursorAfter = <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// æ£€æµ‹å¹¶å¤„ç† doneMarker</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.detectDoneMarker) {
      <span class="hljs-keyword">const</span> doneIndex = processedInput.indexOf(<span class="hljs-keyword">this</span>.doneMarker);
      <span class="hljs-keyword">if</span> (doneIndex !== -<span class="hljs-number">1</span>) {
        processedInput = processedInput.substring(<span class="hljs-number">0</span>, doneIndex);
        shouldHideCursorAfter = <span class="hljs-literal">true</span>;
      }
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode === <span class="hljs-string">'text'</span>) {
      <span class="hljs-keyword">const</span> html = <span class="hljs-keyword">this</span>.escapeHtml(processedInput);
      <span class="hljs-keyword">this</span>.textQueue.push(html);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode === <span class="hljs-string">'markdown'</span>) {
      <span class="hljs-keyword">const</span> html = <span class="hljs-keyword">this</span>.markdownToHtml(processedInput);
      <span class="hljs-keyword">const</span> fragment = <span class="hljs-keyword">this</span>.parseHTML(html);
      <span class="hljs-keyword">this</span>.enqueueFragment(fragment, <span class="hljs-keyword">this</span>.container);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> fragment = <span class="hljs-keyword">this</span>.parseHTML(processedInput);
      <span class="hljs-keyword">this</span>.enqueueFragment(fragment, <span class="hljs-keyword">this</span>.container);
    }

    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.timer) <span class="hljs-keyword">this</span>.start();

    <span class="hljs-comment">// å®Œæˆåéšè—å…‰æ ‡</span>
    <span class="hljs-keyword">if</span> (shouldHideCursorAfter) {
      <span class="hljs-keyword">const</span> checkCompletion = () =&gt; {
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.textQueue.length &amp;&amp; !<span class="hljs-keyword">this</span>.htmlQueue.length &amp;&amp; !<span class="hljs-keyword">this</span>.timer) {
          <span class="hljs-keyword">this</span>.hideCursor();
        } <span class="hljs-keyword">else</span> {
          requestAnimationFrame(checkCompletion);
        }
      };
      checkCompletion();
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  <span class="hljs-comment">/** HTML å­—ç¬¦ä¸²è§£ææˆ fragment */</span>
  <span class="hljs-keyword">private</span> parseHTML(html: string): DocumentFragment {
    <span class="hljs-keyword">const</span> doc = document.implementation.createHTMLDocument(<span class="hljs-string">''</span>);
    doc.body.innerHTML = html;
    <span class="hljs-keyword">const</span> frag = document.createDocumentFragment();
    <span class="hljs-keyword">while</span> (doc.body.firstChild) frag.appendChild(doc.body.firstChild);
    <span class="hljs-keyword">return</span> frag;
  }

  <span class="hljs-comment">/** å°† fragment å‹å…¥ htmlQueue */</span>
  <span class="hljs-keyword">private</span> enqueueFragment(frag: DocumentFragment, parent: HTMLElement) {
    frag.childNodes.forEach((child) =&gt; {
      <span class="hljs-keyword">this</span>.htmlQueue.push({ node: child, parent });
    });
  }

  <span class="hljs-comment">/** å¯åŠ¨æ‰“å­— */</span>
  <span class="hljs-keyword">private</span> start() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timer) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">this</span>.isPaused = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">this</span>.timer = window.setInterval(() =&gt; {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isPaused) <span class="hljs-keyword">return</span>;

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.mode === <span class="hljs-string">'text'</span>) {
        <span class="hljs-keyword">this</span>.processTextMode();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.processHtmlMode();
      }
    }, <span class="hljs-keyword">this</span>.interval);
  }

  <span class="hljs-comment">/** è½¬ä¹‰HTMLå­—ç¬¦ */</span>
  <span class="hljs-keyword">private</span> escapeHtml(text: string): string {
    <span class="hljs-keyword">const</span> div = document.createElement(<span class="hljs-string">'div'</span>);
    div.textContent = text;
    <span class="hljs-keyword">return</span> div.innerHTML;
  }

  <span class="hljs-comment">/** æ–‡æœ¬/Markdownæ¨¡å¼å¤„ç† */</span>
  <span class="hljs-keyword">private</span> processTextMode() {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.textQueue.length) {
      <span class="hljs-keyword">this</span>.stop();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">const</span> current = <span class="hljs-keyword">this</span>.textQueue[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> chunk = current.slice(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.step);
    <span class="hljs-keyword">this</span>.textQueue[<span class="hljs-number">0</span>] = current.slice(<span class="hljs-keyword">this</span>.step);

    <span class="hljs-keyword">this</span>.cursorEl.remove();
    <span class="hljs-keyword">const</span> temp = document.createElement(<span class="hljs-string">'div'</span>);
    temp.innerHTML = chunk;
    <span class="hljs-comment">// ç”±äºDOMèŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œæ¯æ¬¡è°ƒç”¨ appendChild éƒ½ä¼šå°†èŠ‚ç‚¹ä» temp ä¸­ç§»é™¤ï¼›</span>
    <span class="hljs-comment">// å½“ temp çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½è¢«è½¬ç§»åï¼Œ temp.firstChild å˜ä¸º null ï¼Œå¾ªç¯ç»ˆæ­¢</span>
    <span class="hljs-keyword">while</span> (temp.firstChild) <span class="hljs-keyword">this</span>.container.appendChild(temp.firstChild);
    <span class="hljs-keyword">this</span>.container.appendChild(<span class="hljs-keyword">this</span>.cursorEl);

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.textQueue[<span class="hljs-number">0</span>].length === <span class="hljs-number">0</span>) <span class="hljs-keyword">this</span>.textQueue.shift();
  }

  <span class="hljs-comment">/** HTMLæ¨¡å¼é€èŠ‚ç‚¹æ‰“å­— */</span>
  <span class="hljs-keyword">private</span> processHtmlMode() {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.htmlQueue.length) {
      <span class="hljs-keyword">this</span>.stop();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">const</span> item = <span class="hljs-keyword">this</span>.htmlQueue[<span class="hljs-number">0</span>];

    <span class="hljs-keyword">if</span> (item.node.nodeType === Node.TEXT_NODE) {
      <span class="hljs-keyword">const</span> text = item.node.textContent ?? <span class="hljs-string">''</span>;
      <span class="hljs-keyword">const</span> offset = item.offset ?? <span class="hljs-number">0</span>;
      <span class="hljs-keyword">const</span> chunk = text.slice(offset, offset + <span class="hljs-keyword">this</span>.step);
      <span class="hljs-keyword">if</span> (chunk) {
        <span class="hljs-keyword">const</span> tn = document.createTextNode(chunk);
        item.parent.appendChild(tn);  <span class="hljs-comment">// âœ… appendChild æ›¿ä»£ insertBefore</span>
        <span class="hljs-keyword">this</span>.container.appendChild(<span class="hljs-keyword">this</span>.cursorEl);
        item.offset = offset + <span class="hljs-keyword">this</span>.step;
        <span class="hljs-keyword">return</span>;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.htmlQueue.shift(); <span class="hljs-comment">// æ–‡æœ¬è¾“å‡ºå®Œ</span>
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.node.nodeType === Node.ELEMENT_NODE) {
      <span class="hljs-keyword">const</span> el = item.node <span class="hljs-keyword">as</span> HTMLElement;
      <span class="hljs-keyword">const</span> clone = el.cloneNode(<span class="hljs-literal">false</span>) <span class="hljs-keyword">as</span> HTMLElement;

      <span class="hljs-comment">// å¤åˆ¶æ‰€æœ‰å±æ€§</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> attr of Array.from(el.attributes)) {
        clone.setAttribute(attr.name, attr.value);
      }

      item.parent.appendChild(clone); <span class="hljs-comment">// âœ… appendChild æ›¿ä»£ insertBefore</span>

      <span class="hljs-keyword">this</span>.htmlQueue.shift();
      <span class="hljs-keyword">for</span> (let i = el.childNodes.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
        <span class="hljs-keyword">this</span>.htmlQueue.unshift({ node: el.childNodes[i], parent: clone });
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.htmlQueue.shift();
    }
  }


  <span class="hljs-comment">/** æš‚åœ */</span>
  <span class="hljs-keyword">public</span> pause() {
    <span class="hljs-keyword">this</span>.isPaused = <span class="hljs-literal">true</span>;
  }

  <span class="hljs-comment">/** æ¢å¤ */</span>
  <span class="hljs-keyword">public</span> resume() {
    <span class="hljs-keyword">this</span>.isPaused = <span class="hljs-literal">false</span>;
    <span class="hljs-comment">// ç»§ç»­è¾“å‡ºæ—¶é‡æ–°æ·»åŠ å…‰æ ‡</span>
    <span class="hljs-keyword">this</span>.container.appendChild(<span class="hljs-keyword">this</span>.cursorEl);
  }

  <span class="hljs-comment">/** éšè—å…‰æ ‡ */</span>
  <span class="hljs-keyword">public</span> hideCursor() {
    <span class="hljs-keyword">this</span>.cursorEl.remove();
  }

  <span class="hljs-comment">/** æ˜¾ç¤ºå…‰æ ‡ */</span>
  <span class="hljs-keyword">public</span> showCursor() {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.container.contains(<span class="hljs-keyword">this</span>.cursorEl)) {
      <span class="hljs-keyword">this</span>.container.appendChild(<span class="hljs-keyword">this</span>.cursorEl);
    }
  }

  <span class="hljs-comment">/** åœæ­¢æ‰“å­— */</span>
  <span class="hljs-keyword">public</span> stop() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timer) {
      clearInterval(<span class="hljs-keyword">this</span>.timer);
      <span class="hljs-keyword">this</span>.timer = <span class="hljs-literal">null</span>;
    }
  }

  <span class="hljs-comment">/** é”€æ¯ */</span>
  <span class="hljs-keyword">public</span> destroy() {
    <span class="hljs-keyword">this</span>.stop();
    <span class="hljs-keyword">this</span>.cursorEl?.remove();
    <span class="hljs-comment">// æ¸…ç©ºå®¹å™¨å†…å®¹ï¼Œé¿å…é‡å¤è¾“å‡º</span>
    <span class="hljs-keyword">this</span>.clear();
    <span class="hljs-comment">// æ¸…ç©ºé˜Ÿåˆ—ï¼Œé˜²æ­¢æ®‹ç•™çš„ä»»åŠ¡ç»§ç»­æ‰§è¡Œ</span>
    <span class="hljs-keyword">this</span>.textQueue = [];
    <span class="hljs-keyword">this</span>.htmlQueue = [];
    <span class="hljs-comment">// ç§»é™¤å®¹å™¨ä¸Šçš„å®ä¾‹å¼•ç”¨</span>
    delete (<span class="hljs-keyword">this</span>.container <span class="hljs-keyword">as</span> any).__typewriterInstance;
  }

  <span class="hljs-keyword">public</span> clear() {
    <span class="hljs-keyword">this</span>.container.innerHTML = <span class="hljs-string">''</span>;
  }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸»é¡¹ç›®é€šè¿‡iframeåµŒå¥—å­é¡¹ç›®ï¼Œå­é¡¹ç›®å¼¹æ¡†æ— æ³•å…¨å±]]></title>    <link>https://juejin.cn/post/7579934463589990436</link>    <guid>https://juejin.cn/post/7579934463589990436</guid>    <pubDate>2025-12-05T07:55:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579934463589990436" data-draft-id="7579920818871173162" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸»é¡¹ç›®é€šè¿‡iframeåµŒå¥—å­é¡¹ç›®ï¼Œå­é¡¹ç›®å¼¹æ¡†æ— æ³•å…¨å±"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-05T07:55:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="tianxia"/> <meta itemprop="url" content="https://juejin.cn/user/747323639996590"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸»é¡¹ç›®é€šè¿‡iframeåµŒå¥—å­é¡¹ç›®ï¼Œå­é¡¹ç›®å¼¹æ¡†æ— æ³•å…¨å±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323639996590/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    tianxia
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:55:14.000Z" title="Fri Dec 05 2025 07:55:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¹‹æ‰€ä»¥è°ƒç ”iframeæŠ€æœ¯ï¼Œæ˜¯å› ä¸ºä¸€ä¸ªé—®é¢˜å¼•èµ·çš„ã€‚</p>
<p>é—®é¢˜ï¼šä¸»é¡¹ç›®é€šè¿‡iframeåµŒå¥—å­é¡¹ç›®ï¼Œå­é¡¹ç›®å¼¹æ¡†æ— æ³•å…¨å±ï¼Œè¯·é—®æœ‰ä»€ä¹ˆæ–¹æ¡ˆè§£å†³å‘¢ï¼Ÿ</p>
<p>ç»è¿‡è°ƒç ”ï¼Œæœ‰ä»¥ä¸‹æ–¹å¼è§£å†³ï¼š</p>
<ol>
<li>ä¸»é¡¹ç›®å®ç°ä¸€ä¸ªå¼¹æ¡†ï¼Œå­é¡¹ç›®å’Œä¸»é¡¹ç›®è¿›è¡Œé€šä¿¡ï¼Œå¯¹å¼¹æ¡†è¿›è¡Œæ§åˆ¶ã€‚</li>
<li>å­é¡¹ç›®é€šè¿‡getContaineræŠŠå¼¹æ¡†æŒ‚è½½åˆ°ä¸»é¡¹ç›®çš„bodyä¸Šã€‚</li>
<li>å¦‚æœæ˜¯ç®€å•çš„å¼¹æ¡†ï¼Œå¯ä»¥æ‰‹å†™ä¸€ä¸ªã€‚</li>
</ol>
<p>ç¬¬1ç§æ–¹æ¡ˆæ˜¯æ¯”è¾ƒé€šç”¨çš„æ–¹æ¡ˆï¼Œæ¯”è¾ƒç®€å•ã€‚</p>
<p>ä½†æœ‰æ—¶å€™ä¼šå­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Œä¸»é¡¹ç›®æ— æ³•ä¿®æ”¹ï¼Œæ€ä¹ˆåŠï¼Ÿåªèƒ½ç”¨ç¬¬3ç§æ–¹æ¡ˆï¼Œè‡ªå·±æ‰‹å†™ä¸€ä¸ªå¼¹æ¡†äº†ã€‚</p>
<p>å¥½å¤šäººä¼šä½¿ç”¨ç¬¬2ä¸­æ–¹æ¡ˆï¼Œå› ä¸ºæ¯•ç«Ÿa-modalç»™å‡ºäº†è¿™æ ·çš„apiï¼Œä½†ç¬¬2ç§æ–¹æ¡ˆæœ‰å‘ï¼Œå¹¶ä¸”å‘ä¸å°ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªé€šç”¨æ–¹æ¡ˆä¸å»ºè®®ä½¿ç”¨ï¼Œå®åœ¨æ²¡åŠæ³•ï¼Œä¹Ÿå¯ä»¥å°è¯•ç€ä¸€ç”¨ã€‚</p>
<p>ç¬¬2ç§æ–¹æ¡ˆä¼šå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>å­é¡¹ç›®æŒ‚è½½åˆ°ä¸»é¡¹ç›®çš„bodyä¸Šï¼Œa-modalçš„æ ·å¼ä¸¢å¤±ã€‚</li>
</ul>
<p>ä»¥ä¸Šé—®é¢˜å¦‚ä½•è§£å†³ï¼š<br/>
ç¬¬ä¸€ç§æ–¹æ³•ï¼šåœ¨ä¸»é¡¹ç›®ä¸Šæ”¾ä¸€ä¸ªa-modalï¼Œç”¨v-show="false"éšè—ï¼Œè¿™æ ·å­é¡¹ç›®æŒ‚è½½åˆ°ä¸»é¡¹ç›®bodyä¸Šçš„a-modalä¹Ÿæœ‰äº†æ ·å¼ã€‚</p>
<p>ä¸»é¡¹ç›®</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">a-card</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"ä¸»é¡¹ç›® - å­é¡¹ç›®å±•ç¤º"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
        <span class="hljs-attr">ref</span>=<span class="hljs-string">"iframeRef"</span>
        <span class="hljs-attr">:src</span>=<span class="hljs-string">"subAppUrl"</span>
        <span class="hljs-attr">frameborder</span>=<span class="hljs-string">"0"</span>
      &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¯ä»¥ç”¨v-show --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a-modal</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">v-model:open</span>=<span class="hljs-string">"open"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Basic Modal"</span> @<span class="hljs-attr">ok</span>=<span class="hljs-string">"handleOk"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Some contents...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Some contents...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Some contents...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">a-modal</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">a-card</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> iframeRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-comment">// é€šè¿‡ä»£ç†è®¿é—®å­é¡¹ç›®ï¼Œç¡®ä¿åŒåŸŸå</span>
<span class="hljs-keyword">const</span> subAppUrl = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'/sub-app/'</span>)


<span class="hljs-keyword">const</span> open = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">showModal</span> = (<span class="hljs-params"/>) =&gt; {
  open.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleOk</span> = (<span class="hljs-params">e</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e);
  open.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-ini" lang="ini">&lt;script setup&gt;
import { ref } from 'vue'

const <span class="hljs-attr">iframeRef</span> = ref(null)
// é€šè¿‡ä»£ç†è®¿é—®å­é¡¹ç›®ï¼Œç¡®ä¿åŒåŸŸå
const <span class="hljs-attr">subAppUrl</span> = ref(<span class="hljs-string">'/sub-app/'</span>)


const <span class="hljs-attr">open</span> = ref(<span class="hljs-literal">true</span>)<span class="hljs-comment">;</span>

const <span class="hljs-attr">showModal</span> = () =&gt; {
  <span class="hljs-attr">open.value</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">handleOk</span> = (e) =&gt; {
  console.log(e)<span class="hljs-comment">;</span>
  <span class="hljs-attr">open.value</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
&lt;/script&gt;
</code></pre>
<p>å­é¡¹ç›®</p>
<pre><code class="hljs language-ini" lang="ini">&lt;a-modal
  v-model:<span class="hljs-attr">open</span>=<span class="hljs-string">"modalVisible"</span>
  <span class="hljs-attr">title</span>=<span class="hljs-string">"å¼¹æ¡†"</span>
  <span class="hljs-attr">width</span>=<span class="hljs-string">"600px"</span>
  :<span class="hljs-attr">get-container</span>=<span class="hljs-string">"getContainer"</span>
  @<span class="hljs-attr">ok</span>=<span class="hljs-string">"handleOk"</span>
  @<span class="hljs-attr">cancel</span>=<span class="hljs-string">"handleCancel"</span>
&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;
    &lt;h2&gt;è¿™æ˜¯ä¸€ä¸ªå¼¹æ¡†&lt;/h2&gt;
    &lt;p&gt;å¼¹æ¡†å†…å®¹åŒºåŸŸ&lt;/p&gt;
    &lt;a-space&gt;
      &lt;a-button&gt;æŒ‰é’®1&lt;/a-button&gt;
      &lt;a-button&gt;æŒ‰é’®2&lt;/a-button&gt;
    &lt;/a-space&gt;
  &lt;/div&gt;
&lt;/a-modal&gt;
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·å–ä¸»é¡¹ç›®çš„bodyä½œä¸ºå¼¹æ¡†å®¹å™¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getContainer</span> = (<span class="hljs-params"/>) =&gt; {  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// é€šè¿‡ window.parent è®¿é—®ä¸»é¡¹ç›®çš„ document</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span> &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span> !== <span class="hljs-variable language_">window</span>.<span class="hljs-property">self</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'window.parent.document:'</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-property">document</span>)
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-property">document</span> &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-property">document</span>.<span class="hljs-property">body</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆåŠŸè·å–çˆ¶çª—å£body'</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-property">document</span>.<span class="hljs-property">body</span>
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'window.parent ä¸å­˜åœ¨æˆ–ç­‰äº window.self'</span>)
    }
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-comment">// å¦‚æœè·¨åŸŸï¼Œä¼šæŠ›å‡ºé”™è¯¯ï¼Œåˆ™ä½¿ç”¨å½“å‰çª—å£çš„body</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ— æ³•è®¿é—®çˆ¶çª—å£ï¼Œä½¿ç”¨å½“å‰çª—å£body:'</span>, e)
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨å½“å‰çª—å£body'</span>)
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>
}
</code></pre>
<p>ç¬¬äºŒç§æ–¹å¼ï¼šéœ€è¦æŠŠa-modalçš„æ ·å¼æ³¨å…¥è¿›å»ã€‚</p>
<p>è¿™ç§ä»£ç å°±ä¸è´´äº†ï¼Œä¸ªäººè§‰å¾—æ¯”è¾ƒéº»çƒ¦ï¼Œå¹¶ä¸”è¿˜æœ‰ä¸ç¡®å®šçš„è¾¹ç•Œï¼Œä¸ªäººä¸å»ºè®®ç”¨è¿™ç§æ–¹å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIGC æ—¶ä»£ï¼Œæ•°æ®åº“ç»ˆäºå¯ä»¥â€œå¬æ‡‚äººè¯â€äº†ï¼šä»é›¶æ‰“é€ è‡ªç„¶è¯­è¨€æ“ä½œ SQLite çš„å®Œæ•´å®æˆ˜]]></title>    <link>https://juejin.cn/post/7579946275436265482</link>    <guid>https://juejin.cn/post/7579946275436265482</guid>    <pubDate>2025-12-05T07:38:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579946275436265482" data-draft-id="7579982168451579955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIGC æ—¶ä»£ï¼Œæ•°æ®åº“ç»ˆäºå¯ä»¥â€œå¬æ‡‚äººè¯â€äº†ï¼šä»é›¶æ‰“é€ è‡ªç„¶è¯­è¨€æ“ä½œ SQLite çš„å®Œæ•´å®æˆ˜"/> <meta itemprop="keywords" content="AIGC,Python,SQLite"/> <meta itemprop="datePublished" content="2025-12-05T07:38:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¼šjs"/> <meta itemprop="url" content="https://juejin.cn/user/2517262684662348"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIGC æ—¶ä»£ï¼Œæ•°æ®åº“ç»ˆäºå¯ä»¥â€œå¬æ‡‚äººè¯â€äº†ï¼šä»é›¶æ‰“é€ è‡ªç„¶è¯­è¨€æ“ä½œ SQLite çš„å®Œæ•´å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517262684662348/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¼šjs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:38:40.000Z" title="Fri Dec 05 2025 07:38:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">AIGC æ—¶ä»£ï¼Œæ•°æ®åº“ç»ˆäºå¯ä»¥â€œå¬æ‡‚äººè¯â€äº†ï¼šä»é›¶æ‰“é€ è‡ªç„¶è¯­è¨€æ“ä½œ SQLite çš„å®Œæ•´å®æˆ˜</h2>
<h3 data-id="heading-1">ä¸€ã€å¼€åœºï¼šä¸ºä»€ä¹ˆ 2025 å¹´çš„æˆ‘ä»¬è¿˜åœ¨æ‰‹å†™ SQLï¼Ÿ</h3>
<p>2024 å¹´æˆ‘è¿˜åœ¨è‹¦è‹¦èƒŒ <code>LEFT JOIN ON</code> çš„å„ç§å‘ï¼Œ2025 å¹´æˆ‘å·²ç»å¯ä»¥ç”¨ä¸­æ–‡ç›´æ¥è·Ÿæ•°æ®åº“èŠå¤©äº†ï¼š</p>
<blockquote>
<p>â€œå¸®æˆ‘æŠŠé”€å”®éƒ¨é—¨çš„é»„ä½³å·¥èµ„æ”¹æˆ 6 ä¸‡ï¼Œå†åŠ ä¸€ä¸ªæ–°å‘˜å·¥å¼ ä¸‰ï¼Œå·¥ç¨‹éƒ¨ï¼Œ8 ä¸‡å—ï¼Œæœ€åæŠŠæ‰€æœ‰å·¥ç¨‹éƒ¨å‘˜å·¥æŒ‰å·¥èµ„é™åºç»™æˆ‘çœ‹ä¸€ä¸‹â€</p>
</blockquote>
<p>10 ç§’åï¼Œæ•°æ®åº“å°±ä¹–ä¹–æ‰§è¡Œå®Œäº†ï¼Œè¿ä¸€ä¸ªåˆ†å·éƒ½ä¸ç”¨æˆ‘æ‰“ã€‚</p>
<p>è¿™ä¸æ˜¯ç§‘å¹»ï¼Œè¿™æ˜¯ä»Šå¤©ä½ ç”¨å‡ è¡Œ Python + å…è´¹å¤§æ¨¡å‹å°±èƒ½å®ç°çš„ç°å®ã€‚</p>
<p>æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹å¸¦ä½ å®ç°ä¸€ä¸ªå®Œæ•´çš„ã€Œè‡ªç„¶è¯­è¨€ â†’ SQL â†’ æ‰§è¡Œ â†’ è¿”å›ç»“æœã€çš„é—­ç¯ï¼Œå…¨ç¨‹åŸºäºæœ¬åœ° SQLite + DeepSeek/Grok/Gemini ä»»æ„å…è´¹æ¨¡å‹å¯è·‘é€šï¼Œä»£ç ä¸åˆ° 100 è¡Œï¼Œå´èƒ½å½»åº•æ”¹å˜ä½ å¯¹æ•°æ®åº“çš„è®¤çŸ¥ã€‚</p>
<h3 data-id="heading-2">äºŒã€ä¼ ç»Ÿ SQL çš„ç—›ï¼Œæˆ‘ä»¬éƒ½æ‡‚</h3>
<ul>
<li>ä¸šåŠ¡åŒå­¦æéœ€æ±‚ï¼šâ€œèƒ½ä¸èƒ½æŠŠä¸Šä¸ªæœˆæ³¨å†Œä¸”æ¶ˆè´¹è¶…è¿‡ 500 çš„ç”¨æˆ·å¯¼ä¸ªè¡¨ï¼Ÿâ€</li>
<li>ç¨‹åºå‘˜ï¼šâ€œç¨ç­‰ï¼Œæˆ‘å†™ SQLâ€¦â€¦â€</li>
<li>ååˆ†é’Ÿåäº¤ä¸Šå»ï¼Œç»“æœåˆ—åæ˜¯ user_idï¼Œä¸šåŠ¡è¡¨ç¤ºçœ‹ä¸æ‡‚</li>
<li>æ”¹æˆâ€œç”¨æˆ· IDâ€å†å¯¼ä¸€é Excel</li>
<li>å†æ”¹éœ€æ±‚ã€å†å†™ SQLã€å†å¯¼å‡ºâ€¦â€¦</li>
</ul>
<p>è¿™æµç¨‹åœ¨ 2025 å¹´çœ‹èµ·æ¥åƒåŸå§‹äººç”¨çŸ³å¤´ç ¸æ ¸æ¡ƒã€‚</p>
<p>è€Œ AIGC æ—¶ä»£ï¼Œæ­£ç¡®çš„æ‰“å¼€æ–¹å¼æ˜¯ï¼š</p>
<blockquote>
<p>ä¸šåŠ¡ç›´æ¥åœ¨ä¼ä¸šå¾®ä¿¡/é£ä¹¦é‡Œ@æœºå™¨äººï¼šâ€œæŠŠä¸Šä¸ªæœˆæ³¨å†Œä¸”æ¶ˆè´¹è¶…è¿‡ 500 çš„ç”¨æˆ·å¯¼ä¸ªè¡¨ï¼Œè¦ä¸­æ–‡åˆ—åâ€
æœºå™¨äººç§’å› Excel æ–‡ä»¶ï¼Œå®Œæ¯•ã€‚</p>
</blockquote>
<p>è¿™å°±æ˜¯ Text-to-SQL å¸¦æ¥çš„é™ç»´æ‰“å‡»ã€‚</p>
<h3 data-id="heading-3">äºŒã€SQLite ä¸ºä»€ä¹ˆæ˜¯ AIGC æ—¶ä»£çš„æœ€ä½³æ­æ¡£ï¼Ÿ</h3>
<h4 data-id="heading-4">1. é›¶é…ç½®ã€æœ¬åœ°å•æ–‡ä»¶ã€å¼€ç®±å³ç”¨</h4>
<p>text</p>
<pre><code class="hljs">test.db   â† å°±ä¸€ä¸ªæ–‡ä»¶ï¼Œå¤åˆ¶ã€å¤‡ä»½ã€å‘å¾®ä¿¡éƒ½è¡Œ
</code></pre>
<p>å¾®ä¿¡ã€é£ä¹¦ã€Notionã€Obsidianã€æ¡Œé¢è½¯ä»¶â€¦ å…¨éƒ½åœ¨ç”¨ SQLiteï¼Œä½ ç”šè‡³å¯ä»¥ç›´æ¥æŠŠå…¬å¸æ ¸å¿ƒæ•°æ®æ”¾é‡Œé¢ï¼Œå®Œå…¨ä¸ç”¨è£… MySQLã€‚</p>
<h4 data-id="heading-5">2. Python å†…ç½®ï¼Œæ— éœ€ pip install</h4>
<p>Python</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sqlite3   <span class="hljs-comment"># åŸç”Ÿè‡ªå¸¦ï¼Œè°ç”¨è°çŸ¥é“</span>
</code></pre>
<h4 data-id="heading-6">3. SQLite çš„æ ¸å¿ƒæ“ä½œå…¨è§£æï¼ˆé‡ç‚¹ï¼ï¼‰</h4>























































<table><thead><tr><th>æ“ä½œ</th><th>ä»£ç ç¤ºä¾‹</th><th>å…³é”®ç‚¹æé†’</th></tr></thead><tbody><tr><td>è¿æ¥æ•°æ®åº“</td><td>conn = sqlite3.connect("test.db")</td><td>è·¯å¾„å¯ä»¥æ˜¯ :memory:ï¼ˆçº¯å†…å­˜ï¼‰</td></tr><tr><td>åˆ›å»ºæ¸¸æ ‡</td><td>cur = conn.cursor()</td><td>æ‰€æœ‰ SQL éƒ½é æ¸¸æ ‡æ‰§è¡Œ</td></tr><tr><td>æ‰§è¡Œå»ºè¡¨</td><td>cur.execute("CREATE TABLE ...")</td><td>IF NOT EXISTS é˜²æ­¢é‡å¤åˆ›å»º</td></tr><tr><td>æ’å…¥å•æ¡</td><td>cur.execute("INSERT INTO t VALUES(?,?,?)", data)</td><td>ç”¨ ? å ä½ç¬¦ï¼Œæ°¸è¿œé˜²æ³¨å…¥</td></tr><tr><td>æ‰¹é‡æ’å…¥</td><td>cur.executemany("INSERT ...", list_of_tuples)</td><td>æ€§èƒ½é£èµ·ï¼Œæ¨èï¼</td></tr><tr><td>æŸ¥è¯¢</td><td>cur.execute("SELECT ...") â†’ cur.fetchall()</td><td>fetchone() / fetchmany(n)</td></tr><tr><td>è·å–åˆ—å</td><td>cur.description â†’ [col[0] for col in cur.description]</td><td>åŠ¨æ€åˆ—åå¿…å¤‡</td></tr><tr><td>æäº¤äº‹åŠ¡</td><td>conn.commit()</td><td>ä¸ commit ç­‰äºæ²¡æ‰§è¡Œï¼</td></tr><tr><td>å…³é—­è¿æ¥</td><td>conn.close()</td><td>å¿…é¡»å…³é—­ï¼Œå¦åˆ™æ–‡ä»¶é”æ­»</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒå†…å®¹æ¯”å–»è§£æ</strong></p>
<h4 data-id="heading-7">1. connï¼ˆConnectionï¼‰â€”â€” ä½ å’Œé“¶è¡Œçš„â€œè¿æ¥é€šé“â€</h4>
<p>Python</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">conn</span> = sqlite3.connect(<span class="hljs-string">"company.db"</span>)
</code></pre>
<ul>
<li>å®ƒæ˜¯â€œä½ å’Œæ•°æ®åº“ä¹‹é—´çš„ä¸€æ¡ä¸“çº¿â€ã€‚</li>
<li>æœ‰äº†å®ƒä½ æ‰èƒ½è·Ÿæ•°æ®åº“è¯´è¯ã€‚</li>
<li>ä¸€æ¡è¿æ¥å¯ä»¥åŒæ—¶å¼€å¤šä¸ªçª—å£ï¼ˆå¤šä¸ª cursorï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">2. cursorï¼ˆæ¸¸æ ‡ï¼‰â€”â€” çœŸæ­£çš„â€œæ•°æ®åº“æ“ä½œå‘˜â€</h4>
<p>Python</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">cur</span> = conn.cursor()
</code></pre>
<ul>
<li>å¯ä»¥æŠŠ cursor æƒ³è±¡æˆé“¶è¡ŒæŸœå°é‡Œçš„é‚£ä½æ¼‚äº®æŸœå‘˜å§å§ã€‚</li>
<li>æ‰€æœ‰ SQL è¯­å¥éƒ½æ˜¯ä½ â€œå£å¤´å‘Šè¯‰å¥¹â€ï¼Œç„¶åå¥¹å»ç”µè„‘ä¸Šæ•²ã€‚</li>
<li>ä¸€ä¸ª conn å¯ä»¥åˆ›å»ºæ— æ•°ä¸ª cursorï¼ˆç›¸å½“äºé“¶è¡Œå¼€äº†å¥½å‡ ä¸ªçª—å£ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-9">3. execute / executemany / executescript â€”â€” æŸœå‘˜çš„â€œä¸‰æ¿æ–§â€</h4>





























<table><thead><tr><th>æ–¹æ³•</th><th>å£å¤´ç¦…ï¼ˆä½ è·ŸæŸœå‘˜è¯´ï¼‰</th><th>å®é™…ä½œç”¨</th><th>æ¨èåœºæ™¯</th></tr></thead><tbody><tr><td>cursor.execute(sql, params)</td><td>â€œå¸®æˆ‘å­˜ä¸€ç¬”é’±ï¼Œæˆ·åå¼ ä¸‰ï¼Œé‡‘é¢80000â€</td><td>æ‰§è¡Œä¸€æ¡ SQLï¼Œå¸¦å‚æ•°æœ€å®‰å…¨</td><td>å¢åˆ æ”¹æŸ¥å•æ¡è®°å½•</td></tr><tr><td>cursor.executemany(sql, list_of_params)</td><td>â€œè¿™100ä¸ªäººæ¯äººå­˜5ä¸‡ï¼ŒæŒ‰åå•æ¥â€</td><td>æ‰¹é‡æ‰§è¡ŒåŒä¸€æ¡ SQLï¼Œæ€§èƒ½çˆ†ç‚¸</td><td>å¯¼å…¥ Excelã€åˆå§‹åŒ–æ•°æ®</td></tr><tr><td>cursor.executescript(sql_script)</td><td>â€œæŠŠè¿™æ•´é¡µæ“ä½œè¯´æ˜å…¨éƒ¨æ‰§è¡Œä¸€éâ€</td><td>æ‰§è¡Œä¸€å¤§æ®µå¸¦åˆ†å·çš„å¤šä¸ª SQLï¼ˆå»ºè¡¨+æ’å…¥+ç´¢å¼•ï¼‰</td><td>æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬</td></tr></tbody></table>
<h4 data-id="heading-10">çœŸå®ä»£ç å¯¹æ¯”ï¼Œä¸€çœ‹å°±æ‡‚</h4>
<p>Python</p>
<pre><code class="hljs language-python" lang="python">```python
<span class="hljs-comment"># æƒ…å†µ1ï¼šæ’å…¥ä¸€æ¡</span>
cur.execute(<span class="hljs-string">"INSERT INTO employees (name, salary) VALUES (?, ?)"</span>, (<span class="hljs-string">"æå››"</span>, <span class="hljs-number">60000</span>))

<span class="hljs-comment"># æƒ…å†µ2ï¼šæ’å…¥1000æ¡ï¼ˆæ¨èç”¨ executemanyï¼Œé€Ÿåº¦å¿«50å€ï¼ï¼‰</span>
data = [(<span class="hljs-string">"ç‹äº”"</span>, <span class="hljs-number">55000</span>), (<span class="hljs-string">"èµµå…­"</span>, <span class="hljs-number">70000</span>), ...]   <span class="hljs-comment"># 1000æ¡</span>
cur.executemany(<span class="hljs-string">"INSERT INTO employees (name, salary) VALUES (?, ?)"</span>, data)

<span class="hljs-comment"># æƒ…å†µ3ï¼šåˆå§‹åŒ–æ•°æ®åº“ï¼ˆä¸€å¤§æ®µè„šæœ¬ï¼‰</span>
cur.executescript(<span class="hljs-string">"""
    DROP TABLE IF EXISTS temp;
    CREATE TABLE temp(id int);
    INSERT INTO temp VALUES(1);
    INSERT INTO temp VALUES(2);
"""</span>)
</code></pre>
<h4 data-id="heading-11">é‡è¦æé†’ï¼šä¸»é”®ä¸€å®šè¦ç”¨ INTEGER PRIMARY KEY</h4>
<p>SQL</p>
<pre><code class="hljs language-sql" lang="sql">id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTOINCREMENT   <span class="hljs-comment">-- è‡ªåŠ¨é€’å¢ï¼Œçœå¿ƒ</span>
<span class="hljs-comment">-- æˆ–è€…ç®€å†™</span>
id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">PRIMARY</span> KEY                <span class="hljs-comment">-- åŒæ ·è‡ªåŠ¨é€’å¢ï¼ˆSQLite ç‰¹æ€§ï¼‰</span>
</code></pre>
<h3 data-id="heading-12">ä¸‰ã€æ ¸å¿ƒæ€è·¯ï¼šç»™å¤§æ¨¡å‹ä¸‰ä»¶ä¸œè¥¿ï¼Œå®ƒå°±èƒ½å®Œç¾å†™ SQL</h3>
<p>å¤§æ¨¡å‹å†™ SQL å…¶å®éå¸¸ç®€å•ï¼Œåªéœ€è¦å–‚å®ƒä¸‰æ ·ä¸œè¥¿ï¼š</p>
<ol>
<li>è¡¨ç»“æ„ï¼ˆSchemaï¼‰</li>
<li>æ˜ç¡®çš„ä»»åŠ¡æŒ‡ä»¤ï¼ˆè‡ªç„¶è¯­è¨€é—®é¢˜ï¼‰</li>
<li>ä¸¥æ ¼çš„è¾“å‡ºæ ¼å¼è¦æ±‚ï¼ˆåªè¾“å‡ºçº¯ SQLï¼Œç¦æ­¢ Markdownï¼‰</li>
</ol>
<p>ç¼ºä¸€ä¸å¯ï¼Œç¼ºäº†å°±ç¿»è½¦ã€‚</p>
<h4 data-id="heading-13">å…³é”®ç‚¹ 1ï¼šSchema æ€ä¹ˆå–‚æœ€æœ‰æ•ˆï¼Ÿ</h4>
<p>å¾ˆå¤šäººç›´æ¥æŠŠ <code>PRAGMA table_info()</code> çš„åŸå§‹åˆ—è¡¨æ‰”ç»™æ¨¡å‹ï¼Œç»“æœé•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-python" lang="python">[(<span class="hljs-number">0</span>, <span class="hljs-string">'id'</span>, <span class="hljs-string">'INTEGER'</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">None</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'TEXT'</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">None</span>, <span class="hljs-number">0</span>), ...]
</code></pre>
<p>æ¨¡å‹çœ‹åˆ°ä¸€å †å…ƒç»„ï¼Œæ‡µäº†ã€‚</p>
<p>æ­£ç¡®åšæ³•æ˜¯è½¬æˆç±» CREATE TABLE è¯­å¥ï¼š</p>
<pre><code class="hljs language-python" lang="python">CREATE TABLE employees (
    <span class="hljs-built_in">id</span> INTEGER PRIMARY KEY,
    name TEXT,
    department TEXT,
    salary INTEGER
)
</code></pre>
<p>è¿™æ ·æ¨¡å‹ç§’æ‡‚ï¼å› ä¸ºå®ƒåœ¨é¢„è®­ç»ƒçš„æ—¶å€™è§è¿‡æ— æ•°è¿™æ ·çš„å»ºè¡¨è¯­å¥ã€‚</p>
<p>é‚£ä¹ˆä»–æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p>
<h4 data-id="heading-14">ä¸€é”®å˜å½¢çš„å…³é”®ï¼åˆ—è¡¨æ¨å¯¼å¼åˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿ</h4>
<pre><code class="hljs language-swift" lang="swift">schema_str <span class="hljs-operator">=</span> <span class="hljs-string">"CREATE TABLE EMPLOYEES (<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span> <span class="hljs-string">"<span class="hljs-subst">\n</span>"</span>.join([f<span class="hljs-string">"{col[1]} {col[2]}"</span> <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> schema]) <span class="hljs-operator">+</span> <span class="hljs-string">"<span class="hljs-subst">\n</span>)"</span>
</code></pre>
<p>æˆ‘ä»¬æŠŠè¿™è¡Œæ‹†æˆ 5 ä¸ªå°åŠ¨ä½œï¼š</p>





















































<table><thead><tr><th>æ­¥éª¤</th><th>ä»£ç </th><th>ä½œç”¨</th><th>ç»“æœç¤ºä¾‹</th></tr></thead><tbody><tr><td>1</td><td>for col in schema</td><td>éå†æ¯ä¸€åˆ—çš„åŸå§‹ä¿¡æ¯</td><td>col = (0, 'id', 'INTEGER', 0, None, 1)</td></tr><tr><td>2</td><td>col[1]</td><td>å–å‡ºåˆ—åï¼ˆç¬¬2ä¸ªå…ƒç´ ï¼‰</td><td>'id'</td></tr><tr><td>3</td><td>col[2]</td><td>å–å‡ºåˆ—ç±»å‹ï¼ˆç¬¬3ä¸ªå…ƒç´ ï¼‰</td><td>'INTEGER'</td></tr><tr><td>4</td><td>f"{col[1]} {col[2]}"</td><td>æŠŠåˆ—å+ç±»å‹æ‹¼æˆä¸€è¡Œ</td><td>'id INTEGER'</td></tr><tr><td>5</td><td>[ ... for col in schema]</td><td>æŠŠæ‰€æœ‰åˆ—éƒ½è¿™ä¹ˆæ‹¼ â†’ å¾—åˆ°ä¸€ä¸ªåˆ—è¡¨</td><td>['id INTEGER', 'name TEXT', 'department TEXT', 'salary INTEGER']</td></tr><tr><td>6</td><td>"\n".join(...)</td><td>ç”¨æ¢è¡Œç¬¦æŠŠåˆ—è¡¨è¿èµ·æ¥</td><td>id INTEGER\nname TEXT\n...</td></tr><tr><td>7</td><td>å¤–é¢å†åŒ…ä¸€å±‚ CREATE TABLE</td><td>æœ€ç»ˆå¤§åŠŸå‘Šæˆï¼</td><td>å®Œæ•´å»ºè¡¨è¯­å¥</td></tr></tbody></table>
<p>æœ€ç»ˆè¾“å‡ºï¼š</p>
<p>SQL</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> EMPLOYEES (
id <span class="hljs-type">INTEGER</span>
name TEXT
department TEXT
salary <span class="hljs-type">INTEGER</span>
)
</code></pre>
<p>è™½ç„¶è¿˜ä¸å¤Ÿå®Œç¾ï¼ˆæ²¡æœ‰ PRIMARY KEYã€NOT NULLï¼‰ï¼Œä½†<strong>å·²ç»æ¯”åŸå§‹å…ƒç»„æå‡äº† 1000% çš„å¯è¯»æ€§</strong>ï¼Œå¤§æ¨¡å‹å‡†ç¡®ç‡ç›´æ¥ä» 60% è·³åˆ° 95%+ã€‚</p>
<h4 data-id="heading-15">å…³é”®ç‚¹ 2ï¼šPrompt å¿…é¡»â€œæ­»æ¿â€æ‰é è°±</h4>
<pre><code class="hljs language-python" lang="python">prompt = <span class="hljs-string">f"""
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ SQLite ä¸“å®¶ã€‚
ä»¥ä¸‹æ˜¯æ•°æ®åº“è¡¨ç»“æ„ï¼š

<span class="hljs-subst">{schema_str}</span>

è¯·æ ¹æ®ç”¨æˆ·é—®é¢˜ç”Ÿæˆä¸€æ¡å¯ç›´æ¥æ‰§è¡Œçš„ SQLite è¯­å¥ã€‚
è¦æ±‚ï¼š
1. åªè¾“å‡º SQL è¯­å¥æœ¬èº«
2. ä¸è¦ç”¨ Markdown ä»£ç å—
3. ä¸è¦åŠ åå¼•å·
4. ä¸è¦è§£é‡Šï¼Œä¸è¦è¯´æ˜

ç”¨æˆ·é—®é¢˜ï¼š<span class="hljs-subst">{question}</span>
"""</span>
</code></pre>
<p>æ¸©åº¦å»ºè®®è®¾ 0 æˆ– 0.1ï¼Œè¶Šâ€œæ­»æ¿â€è¶Šç¨³å®šã€‚</p>
<h4 data-id="heading-16">å…³é”®ç‚¹ 3ï¼šæ‰§è¡Œå‰ä¸€å®šè¦â€œå®¡æŸ¥â€ä¸€ä¸‹ï¼ˆé˜²æ³¨å…¥ï¼‰</h4>
<p>è™½ç„¶æˆ‘ä»¬æ˜¯æœ¬åœ°æ•°æ®åº“ï¼Œä½†å…»æˆå¥½ä¹ æƒ¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç®€å•ç™½åå•å¸¸è§å±é™©æ“ä½œ</span>
dangerous_keywords = [<span class="hljs-string">'DROP'</span>, <span class="hljs-string">'DELETE'</span>, <span class="hljs-string">'TRUNCATE'</span>, <span class="hljs-string">'ALTER'</span>, <span class="hljs-string">'CREATE'</span>, <span class="hljs-string">'INSERT'</span>]
<span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>(kw <span class="hljs-keyword">in</span> sql.upper() <span class="hljs-keyword">for</span> kw <span class="hljs-keyword">in</span> dangerous_keywords):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ£€æµ‹åˆ°é«˜å±æ“ä½œï¼Œè¯·æ‰‹åŠ¨ç¡®è®¤ï¼š"</span>)
    <span class="hljs-built_in">print</span>(sql)
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">"ç¡®è®¤æ‰§è¡Œï¼Ÿ(y/N): "</span>).lower() != <span class="hljs-string">'y'</span>:
        <span class="hljs-keyword">return</span>
</code></pre>
<h4 data-id="heading-17">å…³é”®ç‚¹ 4ï¼š ï¼Ÿå ä½ç¬¦</h4>
<h5 data-id="heading-18">1.? å ä½ç¬¦åˆ°åº•æœ‰å¤šç‰›ï¼Ÿä¸€å¥è¯æ€»ç»“</h5>
<blockquote>
<p>åªè¦ç”¨äº† ? å ä½ç¬¦ï¼Œä»»ä½•ç”¨æˆ·è¾“å…¥éƒ½ä¸å¯èƒ½å˜æˆ SQL å‘½ä»¤ï¼Œåªèƒ½è€è€å®å®å½“æ•°æ®ã€‚ è¿™æ˜¯ Python + SQLite/MySQL/PostgreSQL å®˜æ–¹æ¨èçš„ã€å”¯ä¸€ 100% é˜²æ³¨å…¥çš„æ–¹å¼ã€‚</p>
</blockquote>
<h5 data-id="heading-19">2.ç»å…¸æ³¨å…¥ vs ç”¨äº† ? åçš„çœŸå®æ•ˆæœ</h5>

























<table><thead><tr><th>ç”¨æˆ·è¾“å…¥ï¼ˆé»‘å®¢/è¿è¥ï¼‰</th><th>å±é™©æ‹¼æ¥å†™æ³•ï¼ˆå¿…ç‚¸ï¼‰</th><th>æ­£ç¡® ? å ä½ç¬¦å†™æ³•ï¼ˆå®Œå…¨ä¸ç‚¸ï¼‰</th></tr></thead><tbody><tr><td>é»„ä½³'; DROP TABLE employees; --</td><td>WHERE name = 'é»„ä½³'; DROP TABLE employees; --'</td><td>WHERE name = 'é»„ä½³'; DROP TABLE employees; --'</td></tr><tr><td>admin' OR '1'='1</td><td>ç™»å½•ç»•è¿‡ï¼ŒæŸ¥å‡ºæ‰€æœ‰ç”¨æˆ·</td><td>åªæŸ¥åå­—å« â€œadmin' OR 1=1â€ çš„äºº â†’ æŸ¥ä¸åˆ°ï¼Œå®‰å…¨ï¼</td></tr><tr><td>å°æ˜'); DELETE FROM users; --</td><td>å…ˆæ’å…¥å°æ˜ï¼Œå†æŠŠ users è¡¨åˆ å…‰</td><td>æ’å…¥ä¸€ä¸ªåå­—å« â€œå°æ˜'); DELETE FROM users; --â€ çš„äºº</td></tr></tbody></table>
<p>ç»“è®ºï¼šç”¨äº† ? åï¼Œé»‘å®¢å†ç‰›é€¼çš„ payloadï¼Œä¹Ÿåªæ˜¯ä½ è¡¨é‡Œä¸€ä¸ªæ²™é›•åå­—ã€‚</p>
<h5 data-id="heading-20">3.åº•å±‚åŸç†</h5>
<p>sqlite3ï¼ˆä»¥åŠæ‰€æœ‰ä¸»æµæ•°æ®åº“é©±åŠ¨ï¼‰åœ¨æ‰§è¡Œæ—¶åˆ†ä¸¤æ­¥èµ°ï¼š</p>
<ol>
<li>
<p>å…ˆæŠŠ SQL æ¨¡æ¿å‘ç»™æ•°æ®åº“å¼•æ“ï¼ˆåªå¸¦ ?</p>
<p>SQL</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> ?
</code></pre>
</li>
<li>
<p>å‚æ•°èµ°å®Œå…¨ç‹¬ç«‹çš„äºŒè¿›åˆ¶åè®®é€šé“ä¼ è¿‡å»ï¼Œæ°¸è¿œä¸å’Œ SQL æ–‡æœ¬æ··åœ¨ä¸€èµ·</p>
</li>
<li>
<p>æ•°æ®åº“å¼•æ“æ”¶åˆ°å‚æ•°åï¼Œç›´æ¥åšã€Œæ•°æ®ç»‘å®šã€ï¼Œæ ¹æœ¬ä¸èµ° SQL è§£æå™¨</p>
</li>
<li>
<p>è‡ªåŠ¨è½¬ä¹‰å•å¼•å· â†’ 'ï¼Œæ•´ä¸ªå‚æ•°å˜æˆä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ä¸²å­—é¢é‡</p>
</li>
</ol>
<p>ç›¸å½“äºï¼š é»‘å®¢å†™çš„æ˜¯ã€Œæ ¸å¼¹æŒ‡ä»¤ã€ï¼Œä½ ç¡¬ç”Ÿç”Ÿç»™ä»–åŒ…è£…æˆäº†ã€Œæ ¸å¼¹å½¢çŠ¶çš„æ–‡å­—ã€ï¼Œæ‰”è¿›æ•°æ®åº“ä¹Ÿåªæ˜¯ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<h3 data-id="heading-21">å››ã€è¿›é˜¶ï¼šè®©å®ƒè¿”å›ç¾è§‚çš„ä¸­æ–‡è¡¨æ ¼</h3>
<p>å¤§æ¨¡å‹ä¸æ­¢èƒ½å†™ SQLï¼Œè¿˜èƒ½ç›´æ¥å¸®ä½ æ ¼å¼åŒ–ç»“æœï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">pretty_print</span>(<span class="hljs-params">results, cursor</span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> results:
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æš‚æ— æ•°æ®"</span>
    <span class="hljs-comment"># è·å–åˆ—å</span>
    columns = [desc[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> desc <span class="hljs-keyword">in</span> cursor.description]
    <span class="hljs-comment"># è®©å¤§æ¨¡å‹æŠŠç»“æœè½¬æˆ Markdown è¡¨æ ¼</span>
    prompt = <span class="hljs-string">f"æŠŠä¸‹é¢çš„æ•°æ®è½¬æˆç¾è§‚çš„ä¸­æ–‡ Markdown è¡¨æ ¼ï¼Œåˆ—åç¿»è¯‘æˆä¸­æ–‡ï¼š\næ•°æ®ï¼š<span class="hljs-subst">{results}</span>"</span>
    columns}<span class="hljs-string">"
    # è°ƒç”¨å¤§æ¨¡å‹çœç•¥
    return markdown_table
</span></code></pre>
<p>è¿™æ ·ä½ ç›´æ¥æŠŠç»“æœå‘ç»™é¢†å¯¼ï¼Œå¯¹æ–¹éƒ½æ€€ç–‘ä½ è¯·äº†ä¸“èŒæ•°æ®åˆ†æå¸ˆã€‚</p>
<h3 data-id="heading-22">äº”ã€çœŸå®åœºæ™¯è½åœ°å»ºè®®</h3>
<ol>
<li>
<p>ä¼ä¸šå†…éƒ¨å·¥å…·<br/>
æŠŠè¿™ä¸ªåšæˆé£ä¹¦/ä¼ä¸šå¾®ä¿¡æœºå™¨äººï¼ŒéæŠ€æœ¯åŒå­¦ä¹Ÿèƒ½è‡ªåŠ©æŸ¥æ•°æ®ï¼Œæå¤§é™ä½å¼€å‘åŒå­¦è´Ÿæ‹…ã€‚</p>
</li>
<li>
<p>ä¸ªäººåšå®¢/å°å·¥å…·åå°<br/>
å†ä¹Ÿä¸ç”¨å†™ CRUD é¡µé¢äº†ï¼Œç›´æ¥èŠå¤©ç®¡ç†æ–‡ç« ã€ç•™è¨€ã€ç”¨æˆ·ã€‚</p>
</li>
<li>
<p>æ•™è‚²åŸ¹è®­<br/>
å­¦ç”Ÿç”¨è‡ªç„¶è¯­è¨€æ“ä½œæ•°æ®åº“ï¼Œé—¨æ§›ç›´çº¿ä¸‹é™ï¼ŒSQL æ•™å­¦å¯ä»¥ç›´æ¥è·³è¿‡è¯­æ³•é˜¶æ®µã€‚</p>
</li>
</ol>
<h3 data-id="heading-23">å…­ã€å¸¸è§å‘ &amp; é¿å‘æŒ‡å—</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>å®¹æ˜“å‡ºé”™å†™æ³•</th><th>æ¨èå†™æ³•</th></tr></thead><tbody><tr><td>Schema å–‚å¾—ä¸æ ‡å‡†</td><td>ç›´æ¥ç»™ PRAGMA ç»“æœ</td><td>è½¬æˆ CREATE TABLE è¯­å¥</td></tr><tr><td>ä¸­æ–‡éƒ¨é—¨åä¹±ç </td><td>æ²¡å¤„ç†ç¼–ç </td><td>SQLite é»˜è®¤æ”¯æŒ UTF-8ï¼Œæ— éœ€æ‹…å¿ƒ</td></tr><tr><td>DELETE æ²¡åŠ  WHERE</td><td>DELETE FROM users</td><td>å¿…é¡»åŠ  WHEREï¼Œç¨‹åºé‡Œå¼ºåˆ¶å®¡æŸ¥</td></tr><tr><td>LIMIT å†™é”™</td><td>LIMIT 2,5ï¼ˆMySQL è¯­æ³•ï¼‰</td><td>SQLite æ˜¯ LIMIT 5 OFFSET 2</td></tr><tr><td>å­—æ®µå¤§å°å†™é—®é¢˜</td><td>where Name = 'å¼ ä¸‰'</td><td>SQLite å­—æ®µåå¤§å°å†™ä¸æ•æ„Ÿï¼Œä½†å»ºè®®ç»Ÿä¸€</td></tr></tbody></table>
<h3 data-id="heading-24">ä¸ƒã€æœ€å</h3>
<blockquote>
<p>2025 å¹´çš„ç¨‹åºå‘˜ï¼Œä¸å†æ˜¯â€œæ•²ä»£ç çš„â€ï¼Œè€Œæ˜¯â€œä¼šè°ƒåº¦ AI çš„â€ã€‚</p>
</blockquote>
<p>SQL ä¸ä¼šè¢«æ·˜æ±°ï¼Œä½†â€œæ‰‹å†™ SQLâ€è¿™ä»¶äº‹ï¼Œå¤§æ¦‚ç‡ä¼šåƒå½“å¹´â€œæ‰‹å†™æ±‡ç¼–â€ä¸€æ ·ï¼Œæˆä¸ºæå°‘æ•°äººçš„æµªæ¼«ã€‚</p>
<p>æœªæ¥å·²æ¥ï¼Œä½ å‡†å¤‡å¥½äº†å—ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutterå¦‚ä½•å®ç° ç™»å½•é¡µ å’Œ æ³¨å†Œé¡µ ä¸æ˜¾ç¤ºåº•éƒ¨èœå•ï¼Œå…¶ä»–é¡µé¢æ˜¾ç¤ºåº•éƒ¨èœå•]]></title>    <link>https://juejin.cn/post/7580055720482471962</link>    <guid>https://juejin.cn/post/7580055720482471962</guid>    <pubDate>2025-12-05T08:12:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580055720482471962" data-draft-id="7580174845770956809" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutterå¦‚ä½•å®ç° ç™»å½•é¡µ å’Œ æ³¨å†Œé¡µ ä¸æ˜¾ç¤ºåº•éƒ¨èœå•ï¼Œå…¶ä»–é¡µé¢æ˜¾ç¤ºåº•éƒ¨èœå•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T08:12:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="linhuai"/> <meta itemprop="url" content="https://juejin.cn/user/3685218707586839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutterå¦‚ä½•å®ç° ç™»å½•é¡µ å’Œ æ³¨å†Œé¡µ ä¸æ˜¾ç¤ºåº•éƒ¨èœå•ï¼Œå…¶ä»–é¡µé¢æ˜¾ç¤ºåº•éƒ¨èœå•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3685218707586839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    linhuai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T08:12:11.000Z" title="Fri Dec 05 2025 08:12:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¦å®ç°<strong>ç™»å½• / æ³¨å†Œé¡µéšè—åº•éƒ¨èœå•ï¼Œå…¶ä»–é¡µé¢æ˜¾ç¤º</strong>ï¼Œæ ¸å¿ƒæ˜¯å°†<strong>åº•éƒ¨èœå•å°è£…åœ¨ â€œä¸»å®¹å™¨é¡µé¢â€ ä¸­</strong>ï¼Œç™»å½• / æ³¨å†Œé¡µä½œä¸ºç‹¬ç«‹é¡µé¢é€šè¿‡è·¯ç”±è·³è½¬ï¼ˆä¸åµŒå¥—åœ¨ä¸»å®¹å™¨ä¸­ï¼‰ã€‚ä»¥ä¸‹æ˜¯æ›´é€šç”¨ã€æ˜“æ‰©å±•çš„å®ç°æ–¹æ¡ˆï¼Œé€‚é…å¤šé¡µé¢åœºæ™¯ï¼ˆé¦–é¡µã€äº§å“é¡µã€ç”¨æˆ·ä¿¡æ¯é¡µç­‰ï¼‰ã€‚</p>
<h3 data-id="heading-0">æ–¹æ¡ˆæ•´ä½“æ€è·¯</h3>
<ol>
<li>
<p><strong>åˆ†å±‚ç»“æ„</strong>ï¼š</p>
<ul>
<li>ã€ŒåŸºç¡€å±‚ã€ï¼š<code>MaterialApp</code>Â ç®¡ç†å…¨å±€è·¯ç”±ã€‚</li>
<li>ã€Œä¸»å®¹å™¨å±‚ã€ï¼š<code>MainScaffold</code>Â å°è£…åº•éƒ¨èœå•ï¼Œä»…å¯¹éç™»å½• / æ³¨å†Œé¡µæ˜¾ç¤ºã€‚</li>
<li>ã€Œä¸šåŠ¡é¡µå±‚ã€ï¼šç™»å½• / æ³¨å†Œé¡µä¸ºç‹¬ç«‹é¡µé¢ï¼ˆæ— åº•éƒ¨èœå•ï¼‰ï¼Œé¦–é¡µ / äº§å“é¡µ / ç”¨æˆ·ä¿¡æ¯é¡µåµŒå¥—åœ¨ä¸»å®¹å™¨ä¸­ï¼ˆæ˜¾ç¤ºåº•éƒ¨èœå•ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è·¯ç”±æ§åˆ¶</strong>ï¼šé€šè¿‡è·¯ç”±åç§°åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºåº•éƒ¨èœå•ï¼Œæ— éœ€ä¸ºæ¯ä¸ªé¡µé¢å•ç‹¬é…ç½®ã€‚</p>
</li>
</ol>
<h3 data-id="heading-1">å®Œæ•´å®ç°ä»£ç </h3>
<h4 data-id="heading-2">1. è·¯ç”±å¸¸é‡ï¼ˆç»Ÿä¸€ç®¡ç†ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/routes/app_routes.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppRoutes</span> </span>{
  <span class="hljs-comment">// æ— éœ€åº•éƒ¨èœå•çš„é¡µé¢</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> login = <span class="hljs-string">'/login'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> register = <span class="hljs-string">'/register'</span>;
  
  <span class="hljs-comment">// éœ€è¦åº•éƒ¨èœå•çš„é¡µé¢</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> home = <span class="hljs-string">'/'</span>; <span class="hljs-comment">// é¦–é¡µï¼ˆé»˜è®¤é¡µï¼‰</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> product = <span class="hljs-string">'/product'</span>; <span class="hljs-comment">// äº§å“é¡µ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> userInfo = <span class="hljs-string">'/userInfo'</span>; <span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯é¡µ</span>
}
</code></pre>
<h4 data-id="heading-3">2. å°è£…å¸¦åº•éƒ¨èœå•çš„ä¸»å®¹å™¨ï¼ˆæ ¸å¿ƒï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/widgets/main_scaffold.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../routes/app_routes.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainScaffold</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> Widget body; <span class="hljs-comment">// é¡µé¢ä¸»ä½“å†…å®¹</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> currentTabIndex; <span class="hljs-comment">// åº•éƒ¨èœå•é€‰ä¸­é¡¹</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Function</span>(<span class="hljs-built_in">int</span>) onTabChanged; <span class="hljs-comment">// èœå•åˆ‡æ¢å›è°ƒ</span>

  <span class="hljs-keyword">const</span> MainScaffold({
    <span class="hljs-keyword">super</span>.key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.body,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.currentTabIndex,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.onTabChanged,
  });

  <span class="hljs-comment">// åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦éœ€è¦æ˜¾ç¤ºåº•éƒ¨èœå•</span>
  <span class="hljs-built_in">bool</span> _shouldShowBottomNav(BuildContext context) {
    <span class="hljs-keyword">final</span> routeName = ModalRoute.of(context)?.settings.name ?? <span class="hljs-string">''</span>;
    <span class="hljs-comment">// æ’é™¤ç™»å½•/æ³¨å†Œé¡µï¼Œå…¶ä½™é¡µé¢å‡æ˜¾ç¤ºåº•éƒ¨èœå•</span>
    <span class="hljs-keyword">return</span> ![AppRoutes.login, AppRoutes.register].contains(routeName);
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      body: body,
      <span class="hljs-comment">// ä»…éœ€æ˜¾ç¤ºåº•éƒ¨èœå•æ—¶ï¼Œæ¸²æŸ“BottomNavigationBar</span>
      bottomNavigationBar: _shouldShowBottomNav(context)
          ? BottomNavigationBar(
              currentIndex: currentTabIndex,
              onTap: onTabChanged,
              type: BottomNavigationBarType.fixed, <span class="hljs-comment">// é€‚é…å¤šé€‰é¡¹</span>
              items: <span class="hljs-keyword">const</span> [
                BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="hljs-string">'é¦–é¡µ'</span>),
                BottomNavigationBarItem(icon: Icon(Icons.shop), label: <span class="hljs-string">'äº§å“'</span>),
                BottomNavigationBarItem(icon: Icon(Icons.person), label: <span class="hljs-string">'æˆ‘çš„'</span>),
              ],
            )
          : <span class="hljs-keyword">null</span>, <span class="hljs-comment">// éšè—æ—¶è®¾ä¸ºnullï¼ˆå…³é”®ï¼šé¿å…ç•™ç™½ï¼‰</span>
    );
  }
}
</code></pre>
<h4 data-id="heading-4">3. ç™»å½• / æ³¨å†Œé¡µï¼ˆç‹¬ç«‹é¡µé¢ï¼Œæ— åº•éƒ¨èœå•ï¼‰</h4>
<p>ç™»å½•é¡µ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/pages/login_page.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../routes/app_routes.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> LoginPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'ç™»å½•'</span>)),
      body: Padding(
        padding: <span class="hljs-keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="hljs-number">16</span>),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            TextField(decoration: <span class="hljs-keyword">const</span> InputDecoration(hintText: <span class="hljs-string">'æ‰‹æœºå·/è´¦å·'</span>)),
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            TextField(
              obscureText: <span class="hljs-keyword">true</span>,
              decoration: <span class="hljs-keyword">const</span> InputDecoration(hintText: <span class="hljs-string">'å¯†ç '</span>),
            ),
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">24</span>),
            SizedBox(
              width: <span class="hljs-built_in">double</span>.infinity,
              child: ElevatedButton(
                onPressed: () {
                  <span class="hljs-comment">// ç™»å½•æˆåŠŸï¼šè·³è½¬åˆ°é¦–é¡µï¼ˆæ›¿æ¢è·¯ç”±æ ˆï¼Œé¿å…è¿”å›ç™»å½•é¡µï¼‰</span>
                  Navigator.pushReplacementNamed(context, AppRoutes.home);
                },
                child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'ç™»å½•'</span>),
              ),
            ),
            TextButton(
              onPressed: () {
                <span class="hljs-comment">// è·³è½¬åˆ°æ³¨å†Œé¡µ</span>
                Navigator.pushNamed(context, AppRoutes.register);
              },
              child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'æ²¡æœ‰è´¦å·ï¼Ÿå»æ³¨å†Œ'</span>),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<p>æ³¨å†Œé¡µ</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// lib/pages/register_page.dart</span>
<span class="hljs-selector-tag">import</span> '<span class="hljs-selector-tag">package</span>:<span class="hljs-selector-tag">flutter</span>/<span class="hljs-selector-tag">material</span><span class="hljs-selector-class">.dart</span>';

<span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">RegisterPage</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">StatelessWidget</span> {
  <span class="hljs-selector-tag">const</span> <span class="hljs-selector-tag">RegisterPage</span>({<span class="hljs-selector-tag">super</span><span class="hljs-selector-class">.key</span>});

  @<span class="hljs-selector-tag">override</span>
  <span class="hljs-selector-tag">Widget</span> <span class="hljs-selector-tag">build</span>(BuildContext context) {
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">Scaffold</span>(
      <span class="hljs-attribute">appBar</span>: <span class="hljs-built_in">AppBar</span>(<span class="hljs-attribute">title</span>: const <span class="hljs-built_in">Text</span>(<span class="hljs-string">'æ³¨å†Œ'</span>)),
      <span class="hljs-attribute">body</span>: <span class="hljs-built_in">Padding</span>(
        <span class="hljs-attribute">padding</span>: const EdgeInsets.<span class="hljs-built_in">symmetric</span>(<span class="hljs-attribute">horizontal</span>: <span class="hljs-number">16</span>),
        <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Column</span>(
          <span class="hljs-attribute">mainAxisAlignment</span>: MainAxisAlignment.center,
          <span class="hljs-attribute">children</span>: [
            <span class="hljs-built_in">TextField</span>(<span class="hljs-attribute">decoration</span>: const <span class="hljs-built_in">InputDecoration</span>(<span class="hljs-attribute">hintText</span>: <span class="hljs-string">'æ‰‹æœºå·'</span>)),
            const <span class="hljs-built_in">SizedBox</span>(<span class="hljs-attribute">height</span>: <span class="hljs-number">16</span>),
            <span class="hljs-built_in">TextField</span>(<span class="hljs-attribute">decoration</span>: const <span class="hljs-built_in">InputDecoration</span>(<span class="hljs-attribute">hintText</span>: <span class="hljs-string">'éªŒè¯ç '</span>)),
            const <span class="hljs-built_in">SizedBox</span>(<span class="hljs-attribute">height</span>: <span class="hljs-number">16</span>),
            <span class="hljs-built_in">TextField</span>(
              <span class="hljs-attribute">obscureText</span>: true,
              <span class="hljs-attribute">decoration</span>: const <span class="hljs-built_in">InputDecoration</span>(<span class="hljs-attribute">hintText</span>: <span class="hljs-string">'è®¾ç½®å¯†ç '</span>),
            ),
            const <span class="hljs-built_in">SizedBox</span>(<span class="hljs-attribute">height</span>: <span class="hljs-number">24</span>),
            <span class="hljs-built_in">SizedBox</span>(
              <span class="hljs-attribute">width</span>: double.infinity,
              <span class="hljs-attribute">child</span>: <span class="hljs-built_in">ElevatedButton</span>(
                <span class="hljs-attribute">onPressed</span>: () {
                  <span class="hljs-comment">// æ³¨å†ŒæˆåŠŸï¼šè¿”å›ç™»å½•é¡µ</span>
                  Navigator.<span class="hljs-built_in">pop</span>(context);
                },
                <span class="hljs-attribute">child</span>: const <span class="hljs-built_in">Text</span>(<span class="hljs-string">'å®Œæˆæ³¨å†Œ'</span>),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-5">4. å¸¦åº•éƒ¨èœå•çš„ä¸šåŠ¡é¡µé¢ï¼ˆé¦–é¡µ / äº§å“é¡µ / ç”¨æˆ·ä¿¡æ¯é¡µï¼‰</h4>
<p>é¦–é¡µ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/pages/home_page.dartï¼ˆåº•éƒ¨èœå•å®¹å™¨ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../widgets/main_scaffold.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../routes/app_routes.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'product_page.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'user_info_page.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> HomePage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  State&lt;HomePage&gt; createState() =&gt; _HomePageState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_HomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">HomePage</span>&gt; </span>{
  <span class="hljs-built_in">int</span> _currentTabIndex = <span class="hljs-number">0</span>; <span class="hljs-comment">// å½“å‰é€‰ä¸­çš„åº•éƒ¨èœå•ç´¢å¼•</span>

  <span class="hljs-comment">// åº•éƒ¨èœå•å¯¹åº”çš„é¡µé¢ï¼ˆå¯ç›´æ¥è·³è½¬å…¶ä»–ä¸šåŠ¡é¡µï¼‰</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Widget&gt; _tabPages = <span class="hljs-keyword">const</span> [
    HomeContent(), <span class="hljs-comment">// é¦–é¡µå†…å®¹</span>
    ProductPage(), <span class="hljs-comment">// äº§å“é¡µï¼ˆç‹¬ç«‹é¡µé¢ï¼Œä½†åµŒå¥—åœ¨ä¸»å®¹å™¨ä¸­ï¼‰</span>
    UserInfoPage(), <span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯é¡µ</span>
  ];

  <span class="hljs-comment">// åˆ‡æ¢åº•éƒ¨èœå•</span>
  <span class="hljs-keyword">void</span> _onTabChanged(<span class="hljs-built_in">int</span> index) {
    setState(() {
      _currentTabIndex = index;
    });
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MainScaffold(
      body: _tabPages[_currentTabIndex],
      currentTabIndex: _currentTabIndex,
      onTabChanged: _onTabChanged,
    );
  }
}

<span class="hljs-comment">// é¦–é¡µå†…å®¹</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomeContent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> HomeContent({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é¦–é¡µï¼ˆæ˜¾ç¤ºåº•éƒ¨èœå•ï¼‰'</span>),
          ElevatedButton(
            onPressed: () {
              <span class="hljs-comment">// è·³è½¬åˆ°äº§å“é¡µï¼ˆä»æ˜¾ç¤ºåº•éƒ¨èœå•ï¼‰</span>
              Navigator.pushNamed(context, AppRoutes.product);
            },
            child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'å»äº§å“é¡µ'</span>),
          ),
        ],
      ),
    );
  }
}
</code></pre>
<p>äº§å“é¡µ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/pages/product_page.dartï¼ˆäº§å“é¡µï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> ProductPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'äº§å“é¡µ'</span>)),
      body: <span class="hljs-keyword">const</span> Center(child: Text(<span class="hljs-string">'äº§å“é¡µï¼ˆæ˜¾ç¤ºåº•éƒ¨èœå•ï¼‰'</span>)),
    );
  }
}
</code></pre>
<p>ç”¨æˆ·ä¿¡æ¯é¡µ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/pages/user_info_page.dartï¼ˆç”¨æˆ·ä¿¡æ¯é¡µï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../routes/app_routes.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserInfoPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> UserInfoPage({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'ç”¨æˆ·ä¿¡æ¯é¡µï¼ˆæ˜¾ç¤ºåº•éƒ¨èœå•ï¼‰'</span>),
          ElevatedButton(
            onPressed: () {
              <span class="hljs-comment">// è·³è½¬åˆ°ç™»å½•é¡µï¼ˆéšè—åº•éƒ¨èœå•ï¼‰</span>
              Navigator.pushNamed(context, AppRoutes.login);
            },
            child: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'é€€å‡ºç™»å½•/å»ç™»å½•'</span>),
          ),
        ],
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-6">5. å…¨å±€è·¯ç”±é…ç½®ï¼ˆå…¥å£æ–‡ä»¶ï¼‰</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// lib/main.dart</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'routes/app_routes.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'pages/login_page.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'pages/register_page.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'pages/home_page.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'pages/product_page.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'pages/user_info_page.dart'</span>;

<span class="hljs-keyword">void</span> main() {
  runApp(<span class="hljs-keyword">const</span> MyApp());
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'åº•éƒ¨èœå•æ§åˆ¶ç¤ºä¾‹'</span>,
      theme: ThemeData(primarySwatch: Colors.blue),
      <span class="hljs-comment">// å…¨å±€è·¯ç”±è¡¨</span>
      routes: {
        AppRoutes.home: (context) =&gt; <span class="hljs-keyword">const</span> HomePage(),
        AppRoutes.login: (context) =&gt; <span class="hljs-keyword">const</span> LoginPage(),
        AppRoutes.register: (context) =&gt; <span class="hljs-keyword">const</span> RegisterPage(),
        AppRoutes.product: (context) =&gt; <span class="hljs-keyword">const</span> ProductPage(),
        AppRoutes.userInfo: (context) =&gt; <span class="hljs-keyword">const</span> UserInfoPage(),
      },
      initialRoute: AppRoutes.home, <span class="hljs-comment">// åˆå§‹é¡µé¢ä¸ºé¦–é¡µ</span>
      <span class="hljs-comment">// å¯é€‰ï¼šè·¯ç”±è·³è½¬åŠ¨ç”»ï¼ˆä¿æŒç»Ÿä¸€ä½“éªŒï¼‰</span>
      pageTransitionsTheme: <span class="hljs-keyword">const</span> PageTransitionsTheme(
        builders: {
          TargetPlatform.android: CupertinoPageTransitionsBuilder(),
          TargetPlatform.iOS: CupertinoPageTransitionsBuilder(),
        },
      ),
    );
  }
}
</code></pre>
<h3 data-id="heading-7">å…³é”®ç»†èŠ‚è¯´æ˜</h3>
<ol>
<li>
<p><strong>åº•éƒ¨èœå•æ˜¾ç¤ºé€»è¾‘</strong>ï¼š</p>
<ul>
<li><code>MainScaffold</code>Â ä¸­é€šè¿‡Â <code>_shouldShowBottomNav</code>Â æ–¹æ³•ï¼Œæ ¹æ®å½“å‰è·¯ç”±åç§°åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºåº•éƒ¨èœå•ï¼ˆä»…æ’é™¤ç™»å½• / æ³¨å†Œé¡µï¼‰ã€‚</li>
<li>åº•éƒ¨èœå•è®¾ä¸ºÂ <code>null</code>Â è€ŒéÂ <code>SizedBox.shrink()</code>ï¼Œé¿å…åº•éƒ¨ç•™ç™½ã€‚</li>
</ul>
</li>
<li>
<p><strong>é¡µé¢è·³è½¬è§„åˆ™</strong>ï¼š</p>
<ul>
<li>ç™»å½• / æ³¨å†Œé¡µé€šè¿‡Â <code>Navigator.pushNamed</code>Â è·³è½¬ï¼Œå±äºç‹¬ç«‹é¡µé¢ï¼ˆæ— ä¸»å®¹å™¨åŒ…è£¹ï¼Œå› æ­¤æ— åº•éƒ¨èœå•ï¼‰ã€‚</li>
<li>é¦–é¡µ / äº§å“é¡µ / ç”¨æˆ·ä¿¡æ¯é¡µåµŒå¥—åœ¨Â <code>MainScaffold</code>Â ä¸­ï¼Œæ— è®ºæ˜¯å¦é€šè¿‡è·¯ç”±è·³è½¬ï¼ˆå¦‚é¦–é¡µè·³äº§å“é¡µï¼‰ï¼Œéƒ½ä¼šæ˜¾ç¤ºåº•éƒ¨èœå•ã€‚</li>
<li>ç™»å½•æˆåŠŸåç”¨Â <code>pushReplacementNamed</code>Â æ›¿æ¢è·¯ç”±æ ˆï¼Œé¿å…è¿”å›ç™»å½•é¡µã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰©å±•æ€§</strong>ï¼š</p>
<ul>
<li>æ–°å¢éœ€è¦æ˜¾ç¤ºåº•éƒ¨èœå•çš„é¡µé¢ï¼šåªéœ€åœ¨è·¯ç”±è¡¨ä¸­æ³¨å†Œï¼Œæ— éœ€ä¿®æ”¹å…¶ä»–ä»£ç ï¼ˆè‡ªåŠ¨ç»§æ‰¿ä¸»å®¹å™¨çš„åº•éƒ¨èœå•ï¼‰ã€‚</li>
<li>æ–°å¢éœ€è¦éšè—åº•éƒ¨èœå•çš„é¡µé¢ï¼šåªéœ€åœ¨Â <code>_shouldShowBottomNav</code>Â æ–¹æ³•ä¸­æ·»åŠ å¯¹åº”çš„è·¯ç”±åç§°ï¼ˆå¦‚Â <code>AppRoutes.forgetPwd</code>ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-8">ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li>
<p><strong>ç™»å½•çŠ¶æ€æ‹¦æˆª</strong>ï¼šç»“åˆÂ <code>onGenerateRoute</code>Â å®ç°è·¯ç”±å®ˆå«ï¼Œæœªç™»å½•æ—¶è®¿é—®ç”¨æˆ·ä¿¡æ¯é¡µè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µï¼š</p>
<p>dart</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åœ¨MyAppçš„MaterialAppä¸­æ·»åŠ </span>
onGenerateRoute: (settings) {
  <span class="hljs-comment">// æ¨¡æ‹Ÿç™»å½•çŠ¶æ€ï¼ˆå®é™…å¯é€šè¿‡Provider/Blocç®¡ç†ï¼‰</span>
  <span class="hljs-built_in">bool</span> isLogin = <span class="hljs-literal">false</span>; 
  <span class="hljs-keyword">if</span> (settings.name == AppRoutes.userInfo &amp;&amp; !isLogin) {
    <span class="hljs-keyword">return</span> MaterialPageRoute(builder: (_) =&gt; <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-title">LoginPage</span>())</span>;
  }
  <span class="hljs-keyword">return</span> MaterialPageRoute(builder: (_) =&gt; <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-title">HomePage</span>())</span>;
},
</code></pre>
</li>
<li>
<p><strong>åº•éƒ¨èœå•çŠ¶æ€ä¿æŒ</strong>ï¼šè‹¥éœ€è¦åˆ‡æ¢åº•éƒ¨èœå•æ—¶ä¿ç•™é¡µé¢çŠ¶æ€ï¼ˆå¦‚äº§å“é¡µæ»šåŠ¨ä½ç½®ï¼‰ï¼Œå¯ä½¿ç”¨Â <code>PageView + AutomaticKeepAliveClientMixin</code>Â æ›¿ä»£Â <code>List&lt;Widget&gt;</code>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ›¿æ¢HomePageä¸­çš„_tabPagesä¸ºPageView</span>
PageView(
  controller: PageController(initialPage: _currentTabIndex),
  onPageChanged: _onTabChanged,
  physics: <span class="hljs-keyword">const</span> NeverScrollableScrollPhysics(), <span class="hljs-comment">// ç¦æ­¢å·¦å³æ»‘åŠ¨</span>
  children: _tabPages,
);
</code></pre>
</li>
<li>
<p><strong>é€‚é…ä¸åŒå±å¹•</strong>ï¼šåº•éƒ¨èœå•å¯æ·»åŠ Â <code>backgroundColor</code>ã€<code>selectedItemColor</code>Â ç­‰æ ·å¼ï¼Œé€‚é…æ·±è‰²æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">BottomNavigationBar(
  backgroundColor: Theme.of(context).scaffoldBackgroundColor,
  selectedItemColor: Theme.of(context).primaryColor,
  unselectedItemColor: Colors.grey,
  <span class="hljs-comment">// å…¶ä»–é…ç½®...</span>
);
</code></pre>
</li>
</ol>
<p>æ­¤æ–¹æ¡ˆå…¼é¡¾äº†<strong>ç®€æ´æ€§</strong>å’Œ<strong>æ‰©å±•æ€§</strong>ï¼Œé€‚é…å¤šé¡µé¢åœºæ™¯ï¼Œä¸”é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§è¡¨ä¼˜åŒ–å®æˆ˜æŒ‡å—ï¼šä»åƒä¸‡åˆ°äº¿çº§æ•°æ®çš„æ€§èƒ½èœ•å˜]]></title>    <link>https://juejin.cn/post/7579982168452350003</link>    <guid>https://juejin.cn/post/7579982168452350003</guid>    <pubDate>2025-12-05T08:15:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579982168452350003" data-draft-id="7579921879973806126" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§è¡¨ä¼˜åŒ–å®æˆ˜æŒ‡å—ï¼šä»åƒä¸‡åˆ°äº¿çº§æ•°æ®çš„æ€§èƒ½èœ•å˜"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-12-05T08:15:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§è¡¨ä¼˜åŒ–å®æˆ˜æŒ‡å—ï¼šä»åƒä¸‡åˆ°äº¿çº§æ•°æ®çš„æ€§èƒ½èœ•å˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T08:15:56.000Z" title="Fri Dec 05 2025 08:15:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¸šåŠ¡å¿«é€Ÿå¢é•¿çš„èƒŒæ™¯ä¸‹ï¼Œæ•°æ®åº“è¡¨æ•°æ®é‡å¾€å¾€ä¼šçªç ´åƒä¸‡ã€ç”šè‡³äº¿çº§é—¨æ§› â€”â€” æ­¤æ—¶ä½ å¯èƒ½ä¼šé‡åˆ°æŸ¥è¯¢å“åº”è¶…æ—¶ã€DDL æ“ä½œé˜»å¡ã€å¤‡ä»½æ¢å¤è€—æ—¶è¿‡é•¿ç­‰é—®é¢˜ã€‚å¤§è¡¨ä¼˜åŒ–ä¸æ˜¯ â€œä¸€é”®æ“ä½œâ€ï¼Œè€Œæ˜¯è¦†ç›–è®¾è®¡ã€æŸ¥è¯¢ã€å­˜å‚¨ã€ç»´æŠ¤çš„ç³»ç»Ÿå·¥ç¨‹ã€‚æœ¬æ–‡å°†ç»“åˆå®é™…åœºæ™¯ï¼Œæ‹†è§£å¤§è¡¨ä¼˜åŒ–çš„æ ¸å¿ƒæ€è·¯ä¸å¯è½åœ°æ–¹æ¡ˆï¼Œå¸®ä½ å®ç°ä» â€œå¡åˆ°ç”¨ä¸äº†â€ åˆ° â€œç§’çº§å“åº”â€ çš„èœ•å˜ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€å…ˆæ˜ç¡®ï¼šä»€ä¹ˆæ˜¯ â€œå¤§è¡¨â€ï¼Ÿ</h3>
<p>è¡Œä¸šå†…æ²¡æœ‰ç»Ÿä¸€æ ‡å‡†ï¼Œä½†æ»¡è¶³ä»¥ä¸‹ä»»ä¸€æ¡ä»¶å¯è§†ä¸º â€œå¤§è¡¨â€ï¼š</p>
<ul>
<li>æ•°æ®é‡ï¼šå•è¡¨è¡Œæ•° â‰¥ 1000 ä¸‡ï¼Œæˆ–å ç”¨å­˜å‚¨ç©ºé—´ â‰¥ 100GBï¼›</li>
</ul>

<ul>
<li>æ€§èƒ½ç“¶é¢ˆï¼šç®€å•æŸ¥è¯¢ï¼ˆå¦‚å•æ¡ä»¶è¿‡æ»¤ï¼‰å“åº”æ—¶é—´ â‰¥ 1 ç§’ï¼Œå¤æ‚æŸ¥è¯¢è¶…æ—¶ï¼›</li>
</ul>

<ul>
<li>è¿ç»´é£é™©ï¼šDDLï¼ˆåŠ å­—æ®µã€å»ºç´¢å¼•ï¼‰æ“ä½œè€—æ—¶è¶… 1 å°æ—¶ï¼Œç”šè‡³å¯¼è‡´ä¸šåŠ¡é˜»å¡ï¼›</li>
</ul>

<ul>
<li>èµ„æºæµªè´¹ï¼šå¤‡ä»½ / æ¢å¤éœ€æ•°å°æ—¶ï¼Œå ç”¨å¤§é‡ IO/CPU èµ„æºã€‚</li>
</ul>
<p>å¤§è¡¨çš„æ ¸å¿ƒé—®é¢˜æœ¬è´¨æ˜¯ â€œæ•°æ®å¯†åº¦è¿‡é«˜â€â€”â€” æ— è®ºæ˜¯ç£ç›˜ IOã€å†…å­˜ç¼“å­˜ï¼Œè¿˜æ˜¯ç´¢å¼•æ ‘æ£€ç´¢ï¼Œéƒ½éœ€è¦å¤„ç†æ›´å¤šæ•°æ®ï¼Œå¯¼è‡´æ•ˆç‡ä¸‹é™ã€‚ä¼˜åŒ–çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼š <strong>â€œæ‹†åˆ†æ•°æ®ã€å‡å°‘æ‰«æã€ä¼˜åŒ–å­˜å‚¨ã€æŒç»­ç»´æŠ¤â€</strong> ã€‚</p>
<h3 data-id="heading-1">äºŒã€è®¾è®¡å±‚é¢ï¼šä»æºå¤´é¿å…å¤§è¡¨è†¨èƒ€</h3>
<p>ä¼˜åŒ–çš„æœ€ä½³æ—¶æœºæ˜¯ â€œè¡¨åˆ›å»ºä¹‹åˆâ€ï¼Œæå‰è§„é¿ä¸å¿…è¦çš„è†¨èƒ€ï¼Œæ¯”äº‹åè¡¥æ•‘æ›´é«˜æ•ˆã€‚</p>
<h4 data-id="heading-2">1. å­—æ®µç±»å‹ â€œç²¾æ‰“ç»†ç®—â€</h4>
<ul>
<li>ç”¨ â€œæœ€å°å¯è¡Œç±»å‹â€ï¼šå¦‚å­˜å‚¨ç”¨æˆ· IDï¼Œç”¨INTï¼ˆ4 å­—èŠ‚ï¼Œæ”¯æŒ - 21 äº¿ï½21 äº¿ï¼‰è€ŒéBIGINTï¼ˆ8 å­—èŠ‚ï¼‰ï¼›å­˜å‚¨æ‰‹æœºå·ï¼ˆ11 ä½ï¼‰ç”¨CHAR(11)è€ŒéVARCHAR(20)ï¼›</li>
</ul>

<ul>
<li>é¿å…å†—ä½™å­—æ®µï¼šå¦‚è®¢å•è¡¨æ— éœ€å­˜å‚¨ â€œç”¨æˆ·åâ€ï¼ˆå¯é€šè¿‡ç”¨æˆ· ID å…³è”æŸ¥è¯¢ï¼‰ï¼Œå‡å°‘æ›´æ–°æ—¶çš„å¼€é”€ï¼›</li>
</ul>

<ul>
<li>æ…ç”¨å¤§å­—æ®µï¼šTEXT/BLOBå­—æ®µå•ç‹¬æ‹†åˆ†åˆ°å­è¡¨ï¼ˆå¦‚å•†å“è¡¨çš„ â€œè¯¦æƒ…æè¿°â€ æ‹†ä¸ºproduct_detailè¡¨ï¼‰ï¼Œé¿å…ä¸»è¡¨æ‰«ææ—¶åŠ è½½æ— ç”¨å¤§æ•°æ®ï¼›</li>
</ul>

<ul>
<li>æ‹’ç»NULLå€¼ï¼šNULLä¼šå¢åŠ å­˜å‚¨å¼€é”€å’Œç´¢å¼•å¤æ‚åº¦ï¼Œå¯ç”¨é»˜è®¤å€¼æ›¿ä»£ï¼ˆå¦‚ç”¨0ä»£æ›¿NULLçš„æ•°é‡å­—æ®µï¼Œç”¨ç©ºå­—ç¬¦ä¸²ä»£æ›¿NULLçš„æ–‡æœ¬å­—æ®µï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3">2. èŒƒå¼ä¸åèŒƒå¼çš„å¹³è¡¡</h4>
<ul>
<li>éµå¾ªç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼šå‡å°‘æ•°æ®å†—ä½™ï¼ˆå¦‚ç”¨æˆ·åœ°å€ã€å•†å“åˆ†ç±»ç­‰é€šç”¨ä¿¡æ¯å•ç‹¬å»ºè¡¨ï¼‰ï¼›</li>
</ul>

<ul>
<li>é€‚å½“åèŒƒå¼ï¼šé«˜é¢‘æŸ¥è¯¢çš„å…³è”å­—æ®µå¯å†—ä½™ï¼ˆå¦‚è®¢å•è¡¨å†—ä½™ â€œå•†å“åç§°â€ï¼Œé¿å…æ¯æ¬¡å…³è”å•†å“è¡¨ï¼‰ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ã€‚</li>
</ul>
<h4 data-id="heading-4">3. åˆ†åº“åˆ†è¡¨ï¼šæ‹†åˆ†æ•°æ®ä½“é‡</h4>
<p>å½“å•è¡¨è¡Œæ•°çªç ´ 5000 ä¸‡ï¼Œåˆ†åº“åˆ†è¡¨æ˜¯æœ€ç›´æ¥çš„è§£å†³æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ˜¯ â€œå°†å¤§è¡¨æ‹†ä¸ºå°è¡¨â€ï¼Œé™ä½å•è¡¨å‹åŠ›ã€‚</p>




















<table><thead><tr><th>æ‹†åˆ†æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>å®ç°æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ°´å¹³åˆ†è¡¨ï¼ˆæŒ‰è¡Œæ‹†åˆ†ï¼‰</td><td>æ•°æ®é‡å·¨å¤§ï¼ŒæŸ¥è¯¢æœ‰æ˜ç¡®åˆ†ç‰‡é”®ï¼ˆå¦‚æ—¶é—´ã€ç”¨æˆ· IDï¼‰</td><td>1. æ—¶é—´åˆ†ç‰‡ï¼šè®¢å•è¡¨æŒ‰ â€œåˆ›å»ºæ—¶é—´â€ æ‹†åˆ†ä¸ºorder_202401ã€order_202402ï¼›2. å“ˆå¸Œåˆ†ç‰‡ï¼šç”¨æˆ·è¡¨æŒ‰user_id % 16æ‹†ä¸º 16 å¼ è¡¨ï¼Œå‡åŒ€åˆ†å¸ƒæ•°æ®ï¼›&gt;3. èŒƒå›´åˆ†ç‰‡ï¼šæŒ‰ç”¨æˆ· ID èŒƒå›´æ‹†åˆ†ä¸ºuser_1_100wã€user_100w_200w</td></tr><tr><td>å‚ç›´åˆ†è¡¨ï¼ˆæŒ‰åˆ—æ‹†åˆ†ï¼‰</td><td>è¡¨å­—æ®µè¿‡å¤šï¼ˆå¦‚ 50 + å­—æ®µï¼‰ï¼ŒæŸ¥è¯¢ä»…éœ€å°‘æ•°å­—æ®µ</td><td>æŒ‰ â€œå­—æ®µçƒ­åº¦â€ æ‹†åˆ†ï¼šä¸»è¡¨å­˜é«˜é¢‘æŸ¥è¯¢å­—æ®µï¼ˆå¦‚idã€nameã€statusï¼‰ï¼Œå­è¡¨å­˜ä½é¢‘å­—æ®µï¼ˆå¦‚remarkã€create_ipï¼‰</td></tr></tbody></table>
<p><strong>å·¥å…·æ¨è</strong>ï¼šSharding-JDBCï¼ˆè½»é‡çº§ä¸­é—´ä»¶ï¼Œæ— éœ€éƒ¨ç½²ç‹¬ç«‹æœåŠ¡ï¼‰ã€MyCatï¼ˆåŠŸèƒ½å…¨é¢ï¼Œæ”¯æŒåˆ†åº“åˆ†è¡¨ + è¯»å†™åˆ†ç¦»ï¼‰ã€‚</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼šåˆ†ç‰‡é”®éœ€æå‰è§„åˆ’ï¼ˆå¦‚è®¢å•æŸ¥è¯¢å¤šæŒ‰ â€œåˆ›å»ºæ—¶é—´â€ï¼Œåˆ™é€‰æ—¶é—´ä½œä¸ºåˆ†ç‰‡é”®ï¼‰ï¼Œé¿å…è·¨åˆ†ç‰‡æŸ¥è¯¢ï¼ˆä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼‰ã€‚</p>
<h3 data-id="heading-5">ä¸‰ã€æŸ¥è¯¢ä¸ç´¢å¼•ï¼šæå‡æ•°æ®è¯»å–æ•ˆç‡</h3>
<p>å¤§è¡¨ä¼˜åŒ–çš„æ ¸å¿ƒç›®æ ‡æ˜¯ â€œè®©æŸ¥è¯¢å°‘æ‰«ææ•°æ®â€ï¼Œç´¢å¼•å’Œ SQL ä¼˜åŒ–æ˜¯æ€§ä»·æ¯”æœ€é«˜çš„æ‰‹æ®µã€‚</p>
<h4 data-id="heading-6">1. ç´¢å¼•ä¼˜åŒ–ï¼šç²¾å‡†å®šä½æ•°æ®</h4>
<p>ç´¢å¼•æ˜¯ â€œæŸ¥è¯¢åŠ é€Ÿå™¨â€ï¼Œä½†æ»¥ç”¨ä¼šå¯¼è‡´å†™å…¥å˜æ…¢ï¼ˆæ¯æ¬¡æ’å…¥ / æ›´æ–°éœ€ç»´æŠ¤ç´¢å¼•æ ‘ï¼‰ï¼Œéœ€éµå¾ª â€œæŒ‰éœ€åˆ›å»ºâ€ åŸåˆ™ã€‚</p>
<ul>
<li>æ ¸å¿ƒåŸåˆ™ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>ä¼˜å…ˆå»º â€œè”åˆç´¢å¼•â€ è€Œéå•å­—æ®µç´¢å¼•ï¼šå¦‚æŸ¥è¯¢where user_id = 1 and create_time &gt; '2024-01-01'ï¼Œå»ºè”åˆç´¢å¼•(user_id, create_time)ï¼ˆå‰ç¼€åŒ¹é…åŸåˆ™ï¼ŒæŠŠè¿‡æ»¤æ€§å¼ºçš„å­—æ®µæ”¾å‰é¢ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>ç”¨ â€œè¦†ç›–ç´¢å¼•â€ é¿å…å›è¡¨ï¼šè‹¥æŸ¥è¯¢ä»…éœ€idã€user_idã€amountï¼Œå»ºè”åˆç´¢å¼•(user_id, create_time, amount)ï¼ŒæŸ¥è¯¢å¯ç›´æ¥ä»ç´¢å¼•è·å–æ•°æ®ï¼Œæ— éœ€è®¿é—®ä¸»è¡¨ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>é¿å…è¿‡åº¦ç´¢å¼•ï¼šå•è¡¨ç´¢å¼•æ•°é‡å»ºè®®â‰¤5 ä¸ªï¼Œé¢‘ç¹æ›´æ–°çš„å­—æ®µï¼ˆå¦‚statusï¼‰ä¸å»ºç´¢å¼•ï¼ˆæ›´æ–°æ—¶éœ€åŒæ­¥ç»´æŠ¤ç´¢å¼•æ ‘ï¼‰ã€‚</li>
</ol>
</li>
</ol>
<ul>
<li>åä¾‹ï¼ˆç´¢å¼•å¤±æ•ˆåœºæ™¯ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é”™è¯¯ï¼šå‡½æ•°æ“ä½œç´¢å¼•å­—æ®µï¼ˆcreate_timeæ˜¯ç´¢å¼•å­—æ®µï¼‰</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">where</span> <span class="hljs-type">date</span>(create_time) <span class="hljs-operator">=</span> <span class="hljs-string">'2024-01-01'</span>;
<span class="hljs-comment">-- æ­£ç¡®ï¼šç´¢å¼•å­—æ®µè£¸æŸ¥è¯¢</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">where</span> create_time <span class="hljs-keyword">between</span> <span class="hljs-string">'2024-01-01 00:00:00'</span> <span class="hljs-keyword">and</span> <span class="hljs-string">'2024-01-02 00:00:00'</span>;
</code></pre>
<h4 data-id="heading-7">2. SQL æ”¹å†™ï¼šå‡å°‘æ— æ•ˆæ‰«æ</h4>
<ul>
<li>æ‹’ç»SELECT *ï¼šåªæŸ¥è¯¢éœ€è¦çš„å­—æ®µï¼Œå‡å°‘ IO ä¼ è¾“å’Œå†…å­˜å ç”¨ï¼›</li>
</ul>

<ul>
<li>ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢ï¼šåƒä¸‡çº§è¡¨ç”¨LIMIT offset, sizeä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼ˆoffset è¶Šå¤§è¶Šæ…¢ï¼‰ï¼Œæ”¹ç”¨ â€œç´¢å¼•åˆ†é¡µâ€ï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é”™è¯¯ï¼šoffset=100000æ—¶ï¼Œéœ€æ‰«æå‰100001æ¡æ•°æ®</span>
<span class="hljs-keyword">select</span> id, name <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> limit <span class="hljs-number">100000</span>, <span class="hljs-number">20</span>;
<span class="hljs-comment">-- æ­£ç¡®ï¼šç”¨ä¸Šæ¬¡æŸ¥è¯¢çš„æœ€å¤§idä½œä¸ºæ¡ä»¶ï¼Œç›´æ¥å®šä½</span>
<span class="hljs-keyword">select</span> id, name <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">100000</span> limit <span class="hljs-number">20</span>;
</code></pre>
<ul>
<li>é¿å…å¤§äº‹åŠ¡ï¼šé•¿äº‹åŠ¡ä¼šå ç”¨é”èµ„æºï¼Œå¯¼è‡´å…¶ä»–æ“ä½œé˜»å¡ï¼Œæ‹†åˆ†äº‹åŠ¡ä¸ºå°æ‰¹é‡æ‰§è¡Œï¼ˆå¦‚æ‰¹é‡æ›´æ–° 1000 æ¡æ•°æ®ï¼Œåˆ† 10 æ¬¡æ¯æ¬¡ 100 æ¡ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">3. è¯»å†™åˆ†ç¦»ï¼šåˆ†æ‹…ä¸»åº“å‹åŠ›</h4>
<p>å½“æŸ¥è¯¢é‡å·¨å¤§æ—¶ï¼Œå°† â€œå†™æ“ä½œâ€ï¼ˆinsert/update/deleteï¼‰è·¯ç”±åˆ°ä¸»åº“ï¼Œâ€œè¯»æ“ä½œâ€ï¼ˆselectï¼‰è·¯ç”±åˆ°ä»åº“ï¼Œé€šè¿‡ä¸»ä»å¤åˆ¶åŒæ­¥æ•°æ®ï¼Œåˆ†æ‹…ä¸»åº“å‹åŠ›ã€‚</p>
<ul>
<li>å®ç°æ–¹æ¡ˆï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>åŸç”Ÿä¸»ä»å¤åˆ¶ï¼ˆMySQL/MariaDB è‡ªå¸¦ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>ä¸­é—´ä»¶ä»£ç†ï¼ˆMyCatã€Sharding-JDBCï¼‰ï¼Œè‡ªåŠ¨è·¯ç”±è¯»å†™è¯·æ±‚ï¼›</li>
</ol>
</li>
</ol>
<ul>
<li>æ³¨æ„äº‹é¡¹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>ä¸»ä»å»¶è¿Ÿï¼ˆé€šå¸¸æ¯«ç§’çº§ï¼Œé«˜å³°å¯èƒ½ç§’çº§ï¼‰ï¼Œéœ€å¤„ç† â€œè¯»å·±å†™â€ åœºæ™¯ï¼ˆå¦‚åˆšåˆ›å»ºè®¢å•éœ€ç«‹å³æŸ¥è¯¢ï¼Œéœ€è·¯ç”±ä¸»åº“ï¼‰ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>ä»åº“ä»…ç”¨äºæŸ¥è¯¢ï¼Œä¸æ‰§è¡Œå†™æ“ä½œã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">å››ã€å­˜å‚¨ä¸ç»´æŠ¤ï¼šé™ä½è¿ç»´æˆæœ¬</h3>
<p>å¤§è¡¨çš„å­˜å‚¨å’Œç»´æŠ¤æˆæœ¬å¾€å¾€è¢«å¿½è§†ï¼Œåˆç†çš„å­˜å‚¨ç­–ç•¥å’Œå®šæœŸç»´æŠ¤èƒ½é¿å… â€œç§¯é‡éš¾è¿”â€ã€‚</p>
<h4 data-id="heading-10">1. åˆ†åŒºè¡¨ï¼šé€»è¾‘æ‹†åˆ†ï¼Œç‰©ç†èšåˆ</h4>
<p>åˆ†åŒºè¡¨æ˜¯å°†å¤§è¡¨æŒ‰ â€œåˆ†åŒºé”®â€ï¼ˆå¦‚æ—¶é—´ã€èŒƒå›´ï¼‰æ‹†åˆ†ä¸ºå¤šä¸ªé€»è¾‘å­è¡¨ï¼Œç‰©ç†ä¸Šä»å­˜å‚¨åœ¨åŒä¸€åº“ä¸­ï¼ŒæŸ¥è¯¢æ—¶ä»…æ‰«æå¯¹åº”åˆ†åŒºï¼Œæå‡æ•ˆç‡ã€‚</p>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šæŸ¥è¯¢é«˜é¢‘æŒ‰åˆ†åŒºé”®è¿‡æ»¤ï¼ˆå¦‚æŒ‰æ—¶é—´æŸ¥è¯¢è®¢å•ï¼‰ï¼›</li>
</ul>

<ul>
<li>åˆ†åŒºç±»å‹ï¼ˆä»¥ MySQL ä¸ºä¾‹ï¼‰ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>èŒƒå›´åˆ†åŒºï¼špartition by range (to_days(create_time)) (partition p202401 values less than (to_days('2024-02-01')))ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>åˆ—è¡¨åˆ†åŒºï¼šæŒ‰æšä¸¾å€¼æ‹†åˆ†ï¼ˆå¦‚æŒ‰statusåˆ†åŒºï¼šå¾…æ”¯ä»˜ã€å·²æ”¯ä»˜ã€å·²å–æ¶ˆï¼‰ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>ä¼˜åŠ¿ï¼šæ— éœ€ä¿®æ”¹åº”ç”¨ä»£ç ï¼ŒDDL æ“ä½œå¯é’ˆå¯¹å•ä¸ªåˆ†åŒºï¼ˆå¦‚åˆ é™¤ 2023 å¹´æ•°æ®ï¼Œç›´æ¥drop partition p2023ï¼Œç§’çº§å®Œæˆï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-11">2. æ•°æ®å½’æ¡£ï¼šå†·æ•°æ®è¿ç§»</h4>
<p>å¤§è¡¨ä¸­ 80% çš„æŸ¥è¯¢é›†ä¸­åœ¨ 20% çš„ â€œçƒ­æ•°æ®â€ï¼ˆå¦‚è¿‘ 3 ä¸ªæœˆè®¢å•ï¼‰ï¼Œå…¶ä½™ â€œå†·æ•°æ®â€ï¼ˆå¦‚ 1 å¹´å‰è®¢å•ï¼‰å¯è¿ç§»åˆ°ä½æˆæœ¬å­˜å‚¨ï¼Œå‡è½»ä¸»è¡¨å‹åŠ›ã€‚</p>
<ul>
<li>å½’æ¡£æ–¹æ¡ˆï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>å½’æ¡£è¡¨ï¼šåˆ›å»ºorder_historicalå½’æ¡£è¡¨ï¼Œå®šæœŸå°†å†·æ•°æ®è¿ç§»ï¼ˆç”¨insert into ... select ... where create_time 24-01-01'ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>ç¦»çº¿å­˜å‚¨ï¼šå†·æ•°æ®è¿ç§»åˆ° HDFSã€S3 ç­‰ï¼Œéœ€æŸ¥è¯¢æ—¶é€šè¿‡æ•°æ®ä»“åº“ï¼ˆå¦‚ Hiveï¼‰åˆ†æï¼›</li>
</ol>
</li>
</ol>
<ul>
<li>æ³¨æ„äº‹é¡¹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>å½’æ¡£æ—¶åŠ é”é¿å…æ•°æ®ä¸ä¸€è‡´ï¼Œå»ºè®®åœ¨ä½å³°æœŸæ‰§è¡Œï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å½’æ¡£ååˆ é™¤ä¸»è¡¨å†·æ•°æ®ï¼Œé‡Šæ”¾å­˜å‚¨ç©ºé—´ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-12">3. å®šæœŸç»´æŠ¤ï¼šä¿æŒè¡¨ â€œå¥åº·çŠ¶æ€â€</h4>
<p>å¤§è¡¨é•¿æœŸå†™å…¥ / åˆ é™¤ä¼šäº§ç”Ÿæ•°æ®ç¢ç‰‡ï¼ˆå¦‚ MySQL çš„ InnoDB å¼•æ“ï¼‰ï¼Œå¯¼è‡´æŸ¥è¯¢å˜æ…¢ï¼Œéœ€å®šæœŸç»´æŠ¤ï¼š</p>
<ul>
<li>æ ¸å¿ƒæ“ä½œï¼ˆä»¥ MySQL ä¸ºä¾‹ï¼‰ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>ä¼˜åŒ–è¡¨ç»“æ„ï¼šOPTIMIZE TABLE orderï¼ˆæ•´ç†ç¢ç‰‡ï¼Œé‡Šæ”¾ç©ºé—²ç©ºé—´ï¼Œéœ€é”è¡¨ï¼Œä½å³°æœŸæ‰§è¡Œï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ï¼šANALYZE TABLE orderï¼Œè®©ä¼˜åŒ–å™¨ç”Ÿæˆæ›´ä¼˜æ‰§è¡Œè®¡åˆ’ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>æ¸…ç†æ— æ•ˆæ•°æ®ï¼šå®šæœŸåˆ é™¤è¿‡æœŸæ•°æ®ï¼ˆå¦‚æ—¥å¿—è¡¨ä¿ç•™ 3 ä¸ªæœˆï¼‰ï¼Œé¿å…æ•°æ®æ— é™è†¨èƒ€ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-13">äº”ã€å¸¸è§è¯¯åŒºä¸é¿å‘æŒ‡å—</h3>
<ol>
<li><strong>è¯¯åŒº 1ï¼šç´¢å¼•è¶Šå¤šè¶Šå¥½</strong></li>
</ol>
<p>ç´¢å¼•ä¼šå ç”¨å­˜å‚¨ç©ºé—´ï¼Œä¸”å†™å…¥æ—¶éœ€åŒæ­¥ç»´æŠ¤ï¼Œè¿‡å¤šç´¢å¼•ä¼šå¯¼è‡´æ’å…¥ / æ›´æ–°å˜æ…¢ã€‚æ­£ç¡®åšæ³•ï¼šä»…ä¸ºé«˜é¢‘æŸ¥è¯¢å­—æ®µå»ºç´¢å¼•ï¼Œå®šæœŸåˆ é™¤æ— ç”¨ç´¢å¼•ï¼ˆé€šè¿‡slowlogåˆ†ææœªä½¿ç”¨çš„ç´¢å¼•ï¼‰ã€‚</p>
<ol start="2">
<li><strong>è¯¯åŒº 2ï¼šåˆ†åº“åˆ†è¡¨èƒ½è§£å†³æ‰€æœ‰é—®é¢˜</strong></li>
</ol>
<p>åˆ†åº“åˆ†è¡¨ä¼šå¢åŠ ç³»ç»Ÿå¤æ‚åº¦ï¼ˆå¦‚è·¨åˆ†ç‰‡äº‹åŠ¡ã€åˆ†é¡µæŸ¥è¯¢ï¼‰ï¼Œè‹¥å•è¡¨æœªä¼˜åŒ–ï¼ˆå¦‚æ— ç´¢å¼•ã€å­—æ®µå†—ä½™ï¼‰ï¼Œåˆ†åº“åˆ†è¡¨åæ€§èƒ½æå‡æœ‰é™ã€‚æ­£ç¡®åšæ³•ï¼šå…ˆåšè¡¨ç»“æ„ã€ç´¢å¼•ä¼˜åŒ–ï¼Œå†è€ƒè™‘åˆ†åº“åˆ†è¡¨ã€‚</p>
<ol start="3">
<li><strong>è¯¯åŒº 3ï¼šå¿½ç•¥ä¸šåŠ¡åœºæ™¯ç›²ç›®ä¼˜åŒ–</strong></li>
</ol>
<p>å¦‚ä½é¢‘æŸ¥è¯¢çš„æŠ¥è¡¨è¡¨ï¼Œæ— éœ€è¿½æ±‚ç§’çº§å“åº”ï¼Œè¿‡åº¦ä¼˜åŒ–åè€Œæµªè´¹èµ„æºï¼›è€Œæ ¸å¿ƒäº¤æ˜“è¡¨éœ€ä¼˜å…ˆä¿è¯è¯»å†™æ€§èƒ½ã€‚æ­£ç¡®åšæ³•ï¼šç»“åˆä¸šåŠ¡ä¼˜å…ˆçº§ï¼Œé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-14">å…­ã€æ€»ç»“ï¼šå¤§è¡¨ä¼˜åŒ–çš„æ ¸å¿ƒé€»è¾‘</h3>
<p>å¤§è¡¨ä¼˜åŒ–æ²¡æœ‰ â€œé“¶å¼¹â€ï¼Œä½†éµå¾ª â€œ<strong>å…ˆä¼˜åŒ–è®¾è®¡ï¼Œå†ä¼˜åŒ–æŸ¥è¯¢ï¼Œæœ€åè€ƒè™‘æ‹†åˆ†ä¸å½’æ¡£</strong>â€ çš„é¡ºåºï¼Œèƒ½æœ€å¤§ç¨‹åº¦é™ä½æˆæœ¬ã€æå‡æ•ˆæœï¼š</p>
<ol>
<li>è®¾è®¡é˜¶æ®µï¼šå­—æ®µç±»å‹ç²¾ç®€ã€èŒƒå¼å¹³è¡¡ï¼Œä»æºå¤´æ§åˆ¶è¡¨è†¨èƒ€ï¼›</li>
</ol>

<ol start="2">
<li>æŸ¥è¯¢é˜¶æ®µï¼šç´¢å¼•ç²¾å‡†åŒ–ã€SQL é«˜æ•ˆåŒ–ã€è¯»å†™åˆ†ç¦»ï¼Œæå‡è¯»å–æ•ˆç‡ï¼›</li>
</ol>

<ol start="3">
<li>å­˜å‚¨é˜¶æ®µï¼šåˆ†åŒºè¡¨ã€æ•°æ®å½’æ¡£ï¼Œé™ä½ä¸»è¡¨å‹åŠ›ï¼›</li>
</ol>

<ol start="4">
<li>ç»´æŠ¤é˜¶æ®µï¼šå®šæœŸæ¸…ç†ç¢ç‰‡ã€æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ï¼Œä¿æŒè¡¨å¥åº·ã€‚</li>
</ol>
<p>æœ€ç»ˆï¼Œå¤§è¡¨ä¼˜åŒ–çš„ç›®æ ‡ä¸æ˜¯ â€œæŠ€æœ¯æœ€å…ˆè¿›â€ï¼Œè€Œæ˜¯ â€œé€‚é…ä¸šåŠ¡åœºæ™¯â€â€”â€” æ ¹æ®æ•°æ®é‡ã€æŸ¥è¯¢æ¨¡å¼ã€è¿ç»´æˆæœ¬ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆï¼Œå¹¶é€šè¿‡ç›‘æ§å·¥å…·ï¼ˆå¦‚ Prometheusã€MySQL æ…¢æŸ¥è¯¢æ—¥å¿—ï¼‰æŒç»­è¿­ä»£ä¼˜åŒ–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦è§£æ Android æƒé™æœºåˆ¶ï¼šä»æ¸…å•æ³¨å†Œåˆ° Android 14 é€‚é…å®æˆ˜]]></title>    <link>https://juejin.cn/post/7579934463589859364</link>    <guid>https://juejin.cn/post/7579934463589859364</guid>    <pubDate>2025-12-05T07:39:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579934463589859364" data-draft-id="7579926120096907327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦è§£æ Android æƒé™æœºåˆ¶ï¼šä»æ¸…å•æ³¨å†Œåˆ° Android 14 é€‚é…å®æˆ˜"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-05T07:39:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·4165967369355"/> <meta itemprop="url" content="https://juejin.cn/user/1146150492576877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦è§£æ Android æƒé™æœºåˆ¶ï¼šä»æ¸…å•æ³¨å†Œåˆ° Android 14 é€‚é…å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1146150492576877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·4165967369355
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:39:00.000Z" title="Fri Dec 05 2025 07:39:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Android å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå…³äºæƒé™å¤„ç†æˆ‘ä¸€ç›´å­˜åœ¨ä¸€ä¸ªè¯¯åŒºï¼š <strong>â€œæ—¢ç„¶å·²ç»ä½¿ç”¨äº†è¿è¡Œæ—¶åŠ¨æ€ç”³è¯·ï¼ˆRuntime Permissionsï¼‰ï¼Œæ˜¯å¦å°±ä¸éœ€è¦åœ¨ <code>AndroidManifest.xml</code> ä¸­è¿›è¡Œé™æ€æ³¨å†Œäº†ï¼Ÿâ€</strong></p>
<p>ä»Šå¤©ç»ˆäºæ˜ç¡®äº†ï¼Œè¿™ä¸ªç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚æ— è®º Android ç‰ˆæœ¬å¦‚ä½•æ¼”å˜ï¼Œ<strong>æ¸…å•æ–‡ä»¶æ³¨å†Œæ˜¯åŸºç¡€ï¼Œè¿è¡Œæ—¶ç”³è¯·æ˜¯è¡¥å……</strong>ã€‚æœ¬æ–‡å°†ä»åº•å±‚æœºåˆ¶å‡ºå‘ï¼Œåˆ†æä¸ºä½•â€œäºŒè€…ç¼ºä¸€ä¸å¯â€ï¼Œå¹¶é‡ç‚¹æ¢³ç† Android 13/14 åœ¨åª’ä½“ä¸è“ç‰™æƒé™ä¸Šçš„æœ€æ–°é€‚é…è§„åˆ™ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ æ ¸å¿ƒæœºåˆ¶ï¼šèµ„æ ¼è®¤è¯ä¸é’¥åŒ™ç´¢å–</h2>
<p>è¦ç†è§£ Android æƒé™çš„åŒé‡éªŒè¯æœºåˆ¶ï¼Œå¯ä»¥å°†å…¶ç±»æ¯”ä¸ºâ€œå¤§æ¥¼é—¨ç¦ç³»ç»Ÿâ€ã€‚</p>
<h3 data-id="heading-1">1. é™æ€æ³¨å†Œ (AndroidManifest.xml) â€”â€” â€œèµ„æ ¼è®¤è¯â€</h3>
<p>æ¸…å•æ–‡ä»¶ä¸­çš„ <code>&lt;uses-permission&gt;</code> å£°æ˜ï¼Œç›¸å½“äºåº”ç”¨å‘ Android ç³»ç»Ÿå¤‡æ¡ˆã€‚</p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå‘ŠçŸ¥ç³»ç»Ÿï¼Œè¯¥åº”ç”¨å…·å¤‡ç”³è¯·æŸé¡¹èƒ½åŠ›çš„<strong>èµ„æ ¼</strong>ã€‚</li>
<li><strong>æœºåˆ¶</strong>ï¼šç³»ç»Ÿåœ¨å®‰è£…åº”ç”¨æ—¶ä¼šè¯»å–æ¸…å•å»ºç«‹â€œç™½åå•â€ã€‚å¦‚æœæ¸…å•ä¸­æœªåŒ…å«æŸé¡¹æƒé™ï¼Œç³»ç»Ÿä¼šè®¤ä¸ºåº”ç”¨æ ¹æœ¬ä¸å…·å¤‡è¯¥åŠŸèƒ½ï¼Œä»è€Œåœ¨åç»­çš„è¯·æ±‚ä¸­ç›´æ¥æ‹¦æˆªã€‚</li>
</ul>
<h3 data-id="heading-2">2. åŠ¨æ€ç”³è¯· (Runtime Request) â€”â€” â€œç´¢å–é’¥åŒ™â€</h3>
<p>ä»£ç ä¸­çš„ <code>requestPermissions()</code> è°ƒç”¨ï¼Œç›¸å½“äºåœ¨éœ€è¦è¿›å…¥ç‰¹å®šæˆ¿é—´æ—¶ï¼Œå‘ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰ç´¢è¦é’¥åŒ™ã€‚</p>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šåœ¨ Android 6.0 (API 23) åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œé’ˆå¯¹<strong>å±é™©æƒé™</strong>ï¼ˆå¦‚ç›¸æœºã€å®šä½ã€å­˜å‚¨ï¼‰ï¼Œå¿…é¡»åœ¨è¿è¡Œæ—¶è·å–ç”¨æˆ·çš„æ˜¾å¼åŒæ„ã€‚</li>
<li><strong>æœºåˆ¶</strong>ï¼šåªæœ‰é€šè¿‡äº†ç¬¬ä¸€æ­¥çš„â€œèµ„æ ¼è®¤è¯â€ï¼Œç³»ç»Ÿæ‰ä¼šå¼¹å‡ºå¯¹è¯æ¡†è¯¢é—®ç”¨æˆ·ã€‚</li>
</ul>
<h2 data-id="heading-3">äºŒã€ è‡´å‘½é™·é˜±ï¼šé™é»˜å¤±è´¥ (Silent Failure)</h2>
<p>å¦‚æœåº”ç”¨<strong>ä»…ç¼–å†™äº†åŠ¨æ€ç”³è¯·ä»£ç ï¼Œè€Œå¿½ç•¥äº†æ¸…å•æ–‡ä»¶çš„æ³¨å†Œ</strong>ï¼Œå°†å¯¼è‡´ä»¥ä¸‹åæœï¼š</p>
<ol>
<li>åº”ç”¨è°ƒç”¨ <code>requestPermissions</code>ã€‚</li>
<li>ç³»ç»Ÿæ£€æŸ¥æ¸…å•ç™½åå•ï¼Œå‘ç°æœªæ³¨å†Œè¯¥æƒé™ã€‚</li>
<li>ç³»ç»Ÿ<strong>ä¸å¼¹å‡ºä»»ä½•æˆæƒå¯¹è¯æ¡†</strong>ã€‚</li>
<li>å›è°ƒæ–¹æ³• <code>onRequestPermissionsResult</code> è¢«ç«‹å³è§¦å‘ï¼Œè¿”å›ç ç›´æ¥ä¸º <code>PERMISSION_DENIED</code>ã€‚</li>
</ol>
<p>è¿™ç§â€œé™é»˜å¤±è´¥â€å¾€å¾€ä¼šå¯¼è‡´å¼€å‘è€…è¯¯ä»¥ä¸ºæ˜¯è®¾å¤‡å…¼å®¹æ€§é—®é¢˜æˆ–é€»è¾‘é”™è¯¯ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•æŠ¥é”™ä¿¡æ¯ï¼Œä»…ä»…æ˜¯å¼¹çª—æ²¡æœ‰å‡ºç°ã€‚å› æ­¤ï¼Œ<strong>æ¸…å•æ³¨å†Œæ˜¯åŠ¨æ€ç”³è¯·ç”Ÿæ•ˆçš„å…ˆå†³æ¡ä»¶ã€‚</strong></p>
<h2 data-id="heading-4">ä¸‰ã€ å®æˆ˜ï¼šAndroid 13/14 å›¾ç‰‡ä¸åª’ä½“æƒé™é€‚é…</h2>
<p>éšç€ Android ç‰ˆæœ¬çš„è¿­ä»£ï¼Œå­˜å‚¨æƒé™å·²ä»æœ€åˆçš„ç²—ç²’åº¦æ§åˆ¶è½¬å‘ç²¾ç»†åŒ–æ§åˆ¶ï¼Œä¹ƒè‡³ Android 14 çš„â€œéƒ¨åˆ†æˆæƒâ€ã€‚</p>
<h3 data-id="heading-5">1. æƒé™æ¼”è¿›å¯¹ç…§è¡¨</h3>





























<table><thead><tr><th><strong>Android ç‰ˆæœ¬</strong></th><th><strong>æ¸…å•æ³¨å†Œ (Manifest)</strong></th><th><strong>åŠ¨æ€ç”³è¯·é€»è¾‘</strong></th><th><strong>ç‰¹ç‚¹</strong></th></tr></thead><tbody><tr><td><strong>Android 12 åŠä»¥ä¸‹</strong></td><td><code>READ_EXTERNAL_STORAGE</code></td><td>ç”³è¯· <code>READ_EXTERNAL_STORAGE</code></td><td><strong>å…¨é‡æˆæƒ</strong>ï¼šæ‰€æœ‰æ–‡ä»¶å¯è§ã€‚</td></tr><tr><td><strong>Android 13 (API 33)</strong></td><td><code>READ_MEDIA_IMAGES</code> <code>READ_MEDIA_VIDEO</code> <code>READ_MEDIA_AUDIO</code></td><td>æŒ‰éœ€ç”³è¯·å¯¹åº”çš„åª’ä½“æƒé™</td><td><strong>ç±»å‹éš”ç¦»</strong>ï¼šå–ä»£äº†é€šç”¨çš„ Storage æƒé™ã€‚</td></tr><tr><td><strong>Android 14 (API 34)</strong></td><td>åŒä¸Šï¼Œæ–°å¢ï¼š <code>READ_MEDIA_VISUAL_USER_SELECTED</code></td><td><code>IMAGES</code> + <code>USER_SELECTED</code> åŒæ—¶ç”³è¯·</td><td><strong>éƒ¨åˆ†æˆæƒ</strong>ï¼šç”¨æˆ·å¯ä»…æˆäºˆéƒ¨åˆ†ç…§ç‰‡çš„è®¿é—®æƒã€‚</td></tr></tbody></table>
<h3 data-id="heading-6">2. æ¸…å•æ–‡ä»¶é€‚é…ç­–ç•¥</h3>
<p>ä¸ºäº†å…¼å®¹ä¸åŒç‰ˆæœ¬çš„è®¾å¤‡ï¼Œ<code>AndroidManifest.xml</code> éœ€åŒæ—¶å£°æ˜æ–°æ—§æƒé™ï¼Œå¹¶åˆ©ç”¨ <code>maxSdkVersion</code> è¿›è¡Œç‰ˆæœ¬éš”ç¦»ï¼š</p>
<p>XML</p>
<pre><code class="hljs language-ini" lang="ini">&lt;manifest ...&gt;
    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.READ_EXTERNAL_STORAGE"</span>
                     android:<span class="hljs-attr">maxSdkVersion</span>=<span class="hljs-string">"32"</span> /&gt;

    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.READ_MEDIA_IMAGES"</span> /&gt;
    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.READ_MEDIA_VIDEO"</span> /&gt;

    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.READ_MEDIA_VISUAL_USER_SELECTED"</span> /&gt;
&lt;/manifest&gt;
</code></pre>
<h3 data-id="heading-7">3. ä»£ç é€‚é…é€»è¾‘</h3>
<p>åœ¨è¿è¡Œæ—¶ï¼Œåº”ç”¨å¿…é¡»æ ¹æ®å½“å‰è®¾å¤‡çš„ <code>Build.VERSION.SDK_INT</code> å†³å®šç”³è¯·å“ªç»„æƒé™ï¼š</p>
<p>Kotlin</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä¼ªä»£ç ç¤ºä¾‹</span>
val permissions = when {
    Build<span class="hljs-selector-class">.VERSION</span><span class="hljs-selector-class">.SDK_INT</span> &gt;= Build<span class="hljs-selector-class">.VERSION_CODES</span><span class="hljs-selector-class">.UPSIDE_DOWN_CAKE</span> -&gt; {
        <span class="hljs-comment">// Android 14: å›¾ç‰‡æƒé™ + ç”¨æˆ·é€‰æ‹©æƒé™</span>
        <span class="hljs-built_in">arrayOf</span>(Manifest.permission.READ_MEDIA_IMAGES, 
                Manifest.permission.READ_MEDIA_VISUAL_USER_SELECTED)
    }
    Build<span class="hljs-selector-class">.VERSION</span><span class="hljs-selector-class">.SDK_INT</span> &gt;= Build<span class="hljs-selector-class">.VERSION_CODES</span><span class="hljs-selector-class">.TIRAMISU</span> -&gt; {
        <span class="hljs-comment">// Android 13: ä»…ç”³è¯·å›¾ç‰‡æƒé™</span>
        <span class="hljs-built_in">arrayOf</span>(Manifest.permission.READ_MEDIA_IMAGES)
    }
    else -&gt; {
        <span class="hljs-comment">// æ—§ç‰ˆæœ¬: ç”³è¯·å¤–éƒ¨å­˜å‚¨æƒé™</span>
        <span class="hljs-built_in">arrayOf</span>(Manifest.permission.READ_EXTERNAL_STORAGE)
    }
}
<span class="hljs-comment">// å‘èµ·è¯·æ±‚</span>
ActivityCompat<span class="hljs-selector-class">.requestPermissions</span>(activity, permissions, REQUEST_CODE)
</code></pre>
<h2 data-id="heading-8">å››ã€ å®æˆ˜ï¼šAndroid 12+ è“ç‰™æƒé™ä¸è„±ç¦»å®šä½</h2>
<p>åœ¨ Android 12 (API 31) ä¹‹å‰ï¼Œè“ç‰™æ‰«æé€šå¸¸éœ€è¦ç”³è¯·å®šä½æƒé™ï¼ˆ<code>ACCESS_FINE_LOCATION</code>ï¼‰ï¼Œè¿™å¸¸å¼•èµ·ç”¨æˆ·çš„éšç§æ‹…å¿§ã€‚Android 12 å¼•å…¥äº†ç‹¬ç«‹çš„è“ç‰™æƒé™ï¼Œå½»åº•è§£è€¦äº†è“ç‰™ä¸å®šä½ï¼ˆé™¤éåº”ç”¨ç¡®å®éœ€è¦åˆ©ç”¨è“ç‰™ä¿¡æ ‡è¿›è¡Œå®šä½ï¼‰ã€‚</p>
<h3 data-id="heading-9">1. æ–°å¢æƒé™ç»„</h3>
<ul>
<li><code>BLUETOOTH_SCAN</code>: æ‰«æè®¾å¤‡ã€‚</li>
<li><code>BLUETOOTH_CONNECT</code>: è¿æ¥å·²é…å¯¹è®¾å¤‡ã€‚</li>
<li><code>BLUETOOTH_ADVERTISE</code>: å¹¿æ’­æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-10">2. å…³é”®æ ‡å¿—ï¼šneverForLocation</h3>
<p>å¦‚æœåº”ç”¨ä½¿ç”¨è“ç‰™ä»…æ˜¯ä¸ºäº†è¿æ¥è®¾å¤‡ï¼ˆå¦‚è€³æœºã€æ‰‹ç¯ï¼‰ï¼Œè€Œéå®šä½ï¼Œ<strong>å¼ºçƒˆå»ºè®®</strong>åœ¨æ¸…å•ä¸­æ·»åŠ  <code>neverForLocation</code> æ ‡å¿—ã€‚è¿™èƒ½è±å…è¿è¡Œæ—¶å¯¹å®šä½æƒé™çš„ä¾èµ–ã€‚</p>
<p>XML</p>
<pre><code class="hljs language-ini" lang="ini">&lt;manifest ...&gt;
    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.BLUETOOTH_SCAN"</span>
                     android:<span class="hljs-attr">usesPermissionFlags</span>=<span class="hljs-string">"neverForLocation"</span> /&gt;
    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.BLUETOOTH_CONNECT"</span> /&gt;
    
    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.BLUETOOTH"</span> 
                     android:<span class="hljs-attr">maxSdkVersion</span>=<span class="hljs-string">"30"</span> /&gt;
    &lt;uses-permission android:<span class="hljs-attr">name</span>=<span class="hljs-string">"android.permission.ACCESS_FINE_LOCATION"</span>
                     android:<span class="hljs-attr">maxSdkVersion</span>=<span class="hljs-string">"30"</span> /&gt;
&lt;/manifest&gt;
</code></pre>
<h3 data-id="heading-11">3. ä»£ç å·®å¼‚</h3>
<ul>
<li><strong>Android 12+</strong> : ç›´æ¥ç”³è¯· <code>BLUETOOTH_SCAN</code> å’Œ <code>BLUETOOTH_CONNECT</code>ï¼Œæ— éœ€ç”³è¯· Locationã€‚</li>
<li><strong>Android 11-</strong>: å¿…é¡»ç”³è¯· <code>ACCESS_FINE_LOCATION</code>ã€‚</li>
</ul>
<h2 data-id="heading-12">äº”ã€ æ€»ç»“</h2>
<p>Android æƒé™ç³»ç»Ÿæ­£æœç€â€œæœ€å°åŒ–æˆæƒâ€å’Œâ€œç”¨æˆ·éšç§ä¼˜å…ˆâ€çš„æ–¹å‘å‘å±•ã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œéœ€ç‰¢è®°ä»¥ä¸‹åŸåˆ™ï¼š</p>
<ol>
<li><strong>åŒé‡ä¿éšœ</strong>ï¼š<code>AndroidManifest.xml</code> æ³¨å†Œä¸ Runtime Code ç”³è¯·å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼Œç¼ºä¸€ä¸å¯ã€‚</li>
<li><strong>ç‰ˆæœ¬éš”ç¦»</strong>ï¼šåˆ©ç”¨ <code>maxSdkVersion</code> å’Œä»£ç ä¸­çš„ç‰ˆæœ¬åˆ¤æ–­ï¼Œå…¼é¡¾æ–°æ—§è®¾å¤‡ã€‚</li>
<li><strong>æŒ‰éœ€ç´¢å–</strong>ï¼šä»…ç”³è¯·åº”ç”¨è¿è¡Œæ‰€å¿…éœ€çš„æœ€å°æƒé™é›†åˆï¼ˆå¦‚è“ç‰™çš„ <code>neverForLocation</code>ï¼‰ï¼Œä»¥æå‡ç”¨æˆ·ä¿¡ä»»åº¦ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ LLM çš„"æ€è€ƒå·¥å…·"ï¼šä»é›¶å®ç° ReasoningTools]]></title>    <link>https://juejin.cn/post/7579932196464181302</link>    <guid>https://juejin.cn/post/7579932196464181302</guid>    <pubDate>2025-12-05T07:46:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579932196464181302" data-draft-id="7579999793319657478" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ LLM çš„&quot;æ€è€ƒå·¥å…·&quot;ï¼šä»é›¶å®ç° ReasoningTools"/> <meta itemprop="keywords" content="OpenAI,Agent"/> <meta itemprop="datePublished" content="2025-12-05T07:46:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Max812"/> <meta itemprop="url" content="https://juejin.cn/user/511698896959739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ LLM çš„"æ€è€ƒå·¥å…·"ï¼šä»é›¶å®ç° ReasoningTools
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/511698896959739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Max812
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T07:46:43.000Z" title="Fri Dec 05 2025 07:46:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€æ–°æ›´æ–°çš„ DeepSeek V3.2 ä¸­æåˆ°äº†æ€è€ƒæ¨¡å¼ä¸‹çš„å·¥å…·è°ƒç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½œä¸ºå¼€å‘è€…ï¼Œåº”è¯¥å¦‚ä½•æŒæ¡è¿™ä¸ªå¼€å‘æŠ€èƒ½å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢ä»¥ä¸€ä¸ª demo ä¸ºä¾‹ï¼Œè¯¦ç»†è®²è§£ï¼Œå¦‚ä½•å†™ä¸€ä¸ªå·¥å…·æ¥ä¸º Agent æä¾›ä¸€ä¸ª"å†…éƒ¨æ€è€ƒç©ºé—´"ï¼Œè®© LLM åœ¨å›ç­”ç”¨æˆ·å‰ï¼Œèƒ½å¤Ÿé€šè¿‡ <code>think</code>ï¼ˆè§„åˆ’ä¸‹ä¸€æ­¥ï¼‰å’Œ <code>analyze</code>ï¼ˆè¯„ä¼°å·²æœ‰ç»“æœï¼‰è¿›è¡Œç»“æ„åŒ–çš„å¤šæ­¥æ¨ç†ï¼Œå¹¶å°†æ€è€ƒè¿‡ç¨‹åœ¨è°ƒç”¨æ¨¡å‹çš„æ—¶å€™ï¼Œä¼ é€’åˆ°ä¸Šä¸‹æ–‡ä¸­ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/719696d171694e4c9acd88cec9172999~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4ODEy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765525602&amp;x-signature=BQu4kmOAzK7xtK%2FusP47JiElPc0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆæ¨¡å‹éœ€è¦"å†…éƒ¨æ€è€ƒ"ï¼Ÿ</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼š</p>
<ul>
<li>ç”¨æˆ·é—®äº†ä¸ªå¤æ‚é—®é¢˜ï¼Œæ¨¡å‹è¦ä¹ˆä¸€è‚¡è„‘ç»™ä¸ªä¸é è°±çš„ç­”æ¡ˆï¼Œè¦ä¹ˆè°ƒç”¨ä¸€å †å·¥å…·ä½†é€»è¾‘æ··ä¹±</li>
<li>ä½ æƒ³çŸ¥é“æ¨¡å‹ä¸ºä»€ä¹ˆè¿™ä¹ˆå›ç­”ï¼Œä½†å®ƒçš„"æ€è€ƒè¿‡ç¨‹"å®Œå…¨æ˜¯é»‘ç›’</li>
<li>åŒæ ·çš„é—®é¢˜é—®ä¸¤æ¬¡ï¼Œæ¨ç†è·¯å¾„å®Œå…¨ä¸ä¸€æ ·ï¼Œéš¾ä»¥ç¨³å®šå¤ç°</li>
</ul>
<p>è¿™äº›é—®é¢˜çš„æ ¹æºåœ¨äºï¼š<strong>æ¨¡å‹ç¼ºå°‘ä¸€ä¸ªç»“æ„åŒ–çš„æ€è€ƒç©ºé—´</strong>ã€‚</p>
<p>ä¼ ç»Ÿçš„ Agent å¼€å‘ä¸­ï¼Œæ¨¡å‹è¦ä¹ˆç›´æ¥å›ç­”ï¼Œè¦ä¹ˆè°ƒç”¨å·¥å…·ï¼Œä½†ç¼ºå°‘"å…ˆæƒ³æ¸…æ¥šå†åš"çš„ç¯èŠ‚ã€‚å°±åƒä¸€ä¸ªå†²åŠ¨è¡Œäº‹çš„äººï¼Œçœ‹åˆ°é—®é¢˜å°±å¼€å§‹å¹²ï¼Œå¹²å®Œæ‰å‘ç°æ–¹å‘é”™äº†ã€‚</p>
<p><strong>ReasoningTools è¦è§£å†³çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜</strong>ï¼šç»™æ¨¡å‹æä¾›ä¸¤ä¸ªå·¥å…· <code>think</code> å’Œ <code>analyze</code>ï¼Œè®©å®ƒåœ¨å›ç­”å‰èƒ½å¤Ÿï¼š</p>
<ol>
<li><strong>å…ˆæƒ³æ¸…æ¥š</strong>ï¼ˆthinkï¼‰ï¼šé—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘è¦æ€ä¹ˆæ‹†è§£ï¼Ÿéœ€è¦å“ªäº›ä¿¡æ¯ï¼Ÿ</li>
<li><strong>å¹²å®Œè¯„ä¼°</strong>ï¼ˆanalyzeï¼‰ï¼šç»“æœç¬¦åˆé¢„æœŸå—ï¼Ÿè¦ç»§ç»­è¿˜æ˜¯æ”¶å°¾ï¼Ÿ</li>
</ol>
<p>è€Œä¸”è¿™äº›"å†…å¿ƒæ´»åŠ¨"éƒ½ä¼šè¢«è®°å½•åœ¨ <code>session_state</code> é‡Œï¼Œæ—¢èƒ½å¸®åŠ©æ¨¡å‹ä¿æŒè¿è´¯æ¨ç†ï¼Œä¹Ÿèƒ½è®©å¼€å‘è€…è¿½è¸ªæ¯ä¸€æ­¥å†³ç­–ä¾æ®ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€think å’Œ analyzeï¼šä¸€å¯¹å¥½æ­æ¡£</h2>
<h3 data-id="heading-2">2.1 èŒè´£åˆ†å·¥ï¼šè°è´Ÿè´£å•¥ï¼Ÿ</h3>
<p>åœ¨å¼€å§‹å†™ä»£ç å‰ï¼Œæˆ‘ä»¬å…ˆç†è§£è¿™ä¸¤ä¸ªå·¥å…·çš„èŒè´£è¾¹ç•Œï¼š</p>
<h4 data-id="heading-3"><strong>think - å‰ç»æ€§çš„è®¡åˆ’è€…</strong></h4>
<p><code>think</code> å‘ç”Ÿåœ¨<strong>æ‰§è¡Œä¹‹å‰</strong>ï¼Œå›ç­”çš„æ˜¯"æˆ‘è¦åšä»€ä¹ˆ"ï¼š</p>
<pre><code class="hljs language-python" lang="python">think(
    title=<span class="hljs-string">"ç†è§£ç”¨æˆ·éœ€æ±‚"</span>,
    thought=<span class="hljs-string">"ç”¨æˆ·æƒ³çŸ¥é“åœ°çƒä¸Šæœ‰å¤šå°‘å¤§é™†ï¼Œè¿™æ˜¯åœ°ç†å¸¸è¯†"</span>,
    action=<span class="hljs-string">"å›å¿†æˆ–æœç´¢å¤§é™†æ•°é‡"</span>,  <span class="hljs-comment"># è®¡åˆ’è¦åšçš„äº‹</span>
    confidence=<span class="hljs-number">0.95</span>
)
</code></pre>
<p><strong>å…³é”®ç‰¹å¾</strong>ï¼š</p>
<ul>
<li>æ—¶æœºï¼šè¡ŒåŠ¨å‰</li>
<li>è§†è§’ï¼šæœªæ¥å¼ï¼ˆ"æˆ‘å°†è¦åš..."ï¼‰</li>
<li>æ ¸å¿ƒé—®é¢˜ï¼š"åº”è¯¥åšä»€ä¹ˆï¼Ÿæ€ä¹ˆåšï¼Ÿ"</li>
<li>ç±»æ¯”ï¼šé¡¹ç›®ç»ç†åˆ¶å®šè®¡åˆ’</li>
</ul>
<h4 data-id="heading-4"><strong>analyze - å›é¡¾æ€§çš„è¯„ä¼°è€…</strong></h4>
<p><code>analyze</code> å‘ç”Ÿåœ¨<strong>æ‰§è¡Œä¹‹å</strong>ï¼Œå›ç­”çš„æ˜¯"ç»“æœå¦‚ä½•"ï¼š</p>
<pre><code class="hljs language-python" lang="python">analyze(
    title=<span class="hljs-string">"è¯„ä¼°æœç´¢ç»“æœ"</span>,
    result=<span class="hljs-string">"æœç´¢è¿”å›ï¼šåœ°çƒæœ‰7ä¸ªå¤§é™†"</span>,  <span class="hljs-comment"># å·²å®Œæˆçš„ç»“æœ</span>
    analysis=<span class="hljs-string">"ä¿¡æ¯å‡†ç¡®å®Œæ•´ï¼Œå¯ä»¥ç›´æ¥å›ç­”ç”¨æˆ·"</span>,
    next_action=<span class="hljs-string">"final_answer"</span>,  <span class="hljs-comment"># å†³å®šæµç¨‹èµ°å‘</span>
    confidence=<span class="hljs-number">1.0</span>
)
</code></pre>
<p><strong>å…³é”®ç‰¹å¾</strong>ï¼š</p>
<ul>
<li>æ—¶æœºï¼šè¡ŒåŠ¨å</li>
<li>è§†è§’ï¼šè¿‡å»å¼ï¼ˆ"æˆ‘åˆšæ‰åšäº†..."ï¼‰</li>
<li>æ ¸å¿ƒé—®é¢˜ï¼š"ç»“æœæ€ä¹ˆæ ·ï¼Ÿä¸‹ä¸€æ­¥å‘¢ï¼Ÿ"</li>
<li>å…³é”®å†³ç­–ï¼š<code>next_action</code> å¯ä»¥æ˜¯ï¼š
<ul>
<li><code>continue</code> - è¿˜éœ€è¦ç»§ç»­æ¨ç†</li>
<li><code>validate</code> - éœ€è¦éªŒè¯ç»“æœ</li>
<li><code>final_answer</code> - å¯ä»¥ç»™å‡ºæœ€ç»ˆç­”æ¡ˆ</li>
</ul>
</li>
<li>ç±»æ¯”ï¼šè´¨æ£€å‘˜è¯„ä¼°äº§å“</li>
</ul>
<h3 data-id="heading-5">2.2 ç”¨ Few-Shot çœ‹æ‡‚èŒè´£</h3>
<p>è®©æˆ‘ä»¬çœ‹çœ‹å®˜æ–¹ Few-Shot ä¸­çš„ç®€å•ç¤ºä¾‹ï¼š</p>
<p><strong>åœºæ™¯ï¼šç”¨æˆ·é—®"åœ°çƒä¸Šæœ‰å¤šå°‘å¤§é™†ï¼Ÿ"</strong></p>
<pre><code class="hljs language-ini" lang="ini">Step 1 - thinkï¼ˆè®¡åˆ’é˜¶æ®µï¼‰
â”œâ”€ é—®é¢˜ï¼šè¿™æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ
â”œâ”€ æ€è€ƒï¼šè¿™æ˜¯åœ°ç†å¸¸è¯†
â””â”€ è¡ŒåŠ¨ï¼šå›å¿†æˆ–éªŒè¯å¤§é™†æ•°é‡

ï¼ˆAgent å†…éƒ¨å›å¿†ï¼‰

Step 2 - analyzeï¼ˆè¯„ä¼°é˜¶æ®µï¼‰
â”œâ”€ ç»“æœï¼šæ ‡å‡†åœ°ç†æ¨¡å‹åˆ—å‡º7ä¸ªå¤§é™†
â”œâ”€ åˆ†æï¼šä¿¡æ¯ç›´æ¥å‡†ç¡®åœ°å›ç­”äº†é—®é¢˜
â””â”€ å†³ç­–ï¼š<span class="hljs-attr">next_action</span> = <span class="hljs-string">"final_answer"</span>

ç»™ç”¨æˆ·è¾“å‡ºæœ€ç»ˆç­”æ¡ˆ
</code></pre>
<p><strong>ç¨å¾®å¤æ‚ç‚¹ï¼šæŸ¥è¯¢æ³•å›½é¦–éƒ½å’Œäººå£</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Step</span> <span class="hljs-number">1</span> - think
æ€è€ƒï¼šéœ€è¦ä¸¤ä¸ªä¿¡æ¯ï¼ˆé¦–éƒ½+äººå£ï¼‰ï¼Œåº”è¯¥ç”¨æœç´¢å·¥å…·
è¡ŒåŠ¨ï¼šå¹¶è¡Œæœç´¢ä¸¤ä¸ªé—®é¢˜

ï¼ˆå¹¶è¡Œè°ƒç”¨æœç´¢å·¥å…·ï¼‰
search(<span class="hljs-string">"æ³•å›½é¦–éƒ½"</span>) â†’ <span class="hljs-string">"å·´é»"</span>
search(<span class="hljs-string">"å·´é»äººå£"</span>) â†’ <span class="hljs-string">"çº¦210ä¸‡"</span>

<span class="hljs-keyword">Step</span> <span class="hljs-number">2</span> - analyzeï¼ˆè¯„ä¼°ç¬¬ä¸€ä¸ªç»“æœï¼‰
ç»“æœï¼šæœç´¢æ˜¾ç¤ºå·´é»æ˜¯é¦–éƒ½
åˆ†æï¼šå¾—åˆ°ç¬¬ä¸€ä¸ªä¿¡æ¯ï¼Œè¿˜éœ€è¦äººå£
å†³ç­–ï¼šnext_action = <span class="hljs-string">"continue"</span>

<span class="hljs-keyword">Step</span> <span class="hljs-number">3</span> - analyzeï¼ˆè¯„ä¼°ç¬¬äºŒä¸ªç»“æœï¼‰
ç»“æœï¼šæœç´¢æä¾›äº†äººå£æ•°æ®
åˆ†æï¼šä¸¤ä¸ªä¿¡æ¯éƒ½æœ‰äº†ï¼Œå¯ä»¥å›ç­”
å†³ç­–ï¼šnext_action = <span class="hljs-string">"final_answer"</span>

è¾“å‡ºï¼šæ³•å›½é¦–éƒ½æ˜¯å·´é»ï¼Œäººå£çº¦<span class="hljs-number">210</span>ä¸‡
</code></pre>
<p>çœ‹å‡ºè§„å¾‹äº†å—ï¼Ÿ<strong>think æ€»æ˜¯åœ¨"åšäº‹å‰"ï¼Œanalyze æ€»æ˜¯åœ¨"æ‹¿åˆ°ç»“æœå"</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ä»ç®€å•åˆ°å¤æ‚ï¼šçœ‹æ¨ç†é“¾å¦‚ä½•å·¥ä½œ</h2>
<p>ç†è§£äº†èŒè´£åˆ†å·¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªçœŸå®çš„å¤æ‚åœºæ™¯ï¼š<strong>å¸®ç”¨æˆ·é€‰æ‹©é€‚åˆæ•°æ®ç§‘å­¦çš„ç¬”è®°æœ¬ç”µè„‘</strong>ã€‚</p>
<h3 data-id="heading-7">3.1 åœºæ™¯è®¾å®š</h3>
<p><strong>ç”¨æˆ·éœ€æ±‚</strong>ï¼š</p>
<blockquote>
<p>æˆ‘æ˜¯ä¸€åæ•°æ®ç§‘å­¦å®¶ï¼Œé¢„ç®—15000å…ƒå·¦å³ï¼Œéœ€è¦ä¸€å°èƒ½è·‘æ·±åº¦å­¦ä¹ æ¨¡å‹çš„ç¬”è®°æœ¬ï¼Œä¸»è¦åœ¨å®¶åŠå…¬ä½†å¶å°”éœ€è¦å¸¦å‡ºå»å¼€ä¼šã€‚å¸®æˆ‘æ¨èä¸€æ¬¾ã€‚</p>
</blockquote>
<p>è¿™ä¸ªéœ€æ±‚çš„å¤æ‚æ€§åœ¨äºï¼š</p>
<ul>
<li>å¤šç»´åº¦çº¦æŸï¼ˆé¢„ç®—ã€æ€§èƒ½ã€ä¾¿æºæ€§ï¼‰</li>
<li>éœ€æ±‚å­˜åœ¨å†²çªï¼ˆé«˜æ€§èƒ½ vs è½»è–„ï¼‰</li>
<li>éœ€è¦å¤šè½®ä¿¡æ¯æ”¶é›†å’Œæƒè¡¡</li>
</ul>
<h3 data-id="heading-8">3.2 æ¨ç†é“¾å…¨æ™¯å›¾</h3>
<p>è®©æˆ‘ä»¬çœ‹çœ‹æ¨¡å‹ä¼šå¦‚ä½•ä¸€æ­¥æ­¥æ¨ç†ï¼ˆå®Œæ•´ç‰ˆå…±9æ­¥ï¼‰ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">1</span>: think - æ‹†è§£éœ€æ±‚                 â”‚
â”‚ â€¢ è¯†åˆ«å…³é”®éœ€æ±‚ï¼šGPUã€å†…å­˜ã€ä¾¿æºæ€§ã€é¢„ç®—   â”‚
â”‚ â€¢ å‘ç°å†²çªï¼šæ€§èƒ½ vs ä¾¿æº                 â”‚
â”‚ â€¢ å†³å®šä¼˜å…ˆçº§ï¼šå‡è®¾æ€§èƒ½ä¼˜å…ˆ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">2</span>: think - åˆ¶å®šæœç´¢ç­–ç•¥             â”‚
â”‚ â€¢ æ˜ç¡®é…ç½®éœ€æ±‚ï¼šRTX <span class="hljs-number">4060</span>+ã€<span class="hljs-number">32</span>GB          â”‚
â”‚ â€¢ é”å®šå“ç‰Œï¼šè”æƒ³/åç¡•/æœºæ¢°é©å‘½           â”‚
â”‚ â€¢ è®¡åˆ’ï¼šå¹¶è¡Œæœç´¢å¤šä¸ªå…³é”®è¯               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
   [å¹¶è¡Œæœç´¢ Ã—<span class="hljs-number">3</span>] â†’ å¾—åˆ°<span class="hljs-number">5</span>æ¬¾å€™é€‰
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">3</span>: analyze - è¯„ä¼°æœç´¢ç»“æœ           â”‚
â”‚ â€¢ ç­›é€‰ï¼šæ’é™¤æ— ç‹¬æ˜¾ã€è¶…é¢„ç®—çš„              â”‚
â”‚ â€¢ å‘ç°é—®é¢˜ï¼šROG å¹»<span class="hljs-number">16</span> åªæœ‰<span class="hljs-number">16</span>GBå†…å­˜        â”‚
â”‚ â€¢ å†³ç­–ï¼š<span class="hljs-keyword">continue</span>ï¼ˆéœ€è¦æŸ¥å†…å­˜èƒ½å¦å‡çº§ï¼‰   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">4</span>: think - è§£å†³å†…å­˜ç–‘é—®             â”‚
â”‚ â€¢ è¯†åˆ«é£é™©ï¼š<span class="hljs-number">16</span>GBå¯èƒ½ä¸å¤Ÿ                 â”‚
â”‚ â€¢ è®¡åˆ’ï¼šæœç´¢è¯¥å‹å·èƒ½å¦å‡çº§å†…å­˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
   [æœç´¢] â†’ <span class="hljs-string">"å†…å­˜æ¿è½½ï¼Œä¸å¯å‡çº§"</span>
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">5</span>: analyze - å¤„ç†æ–°ä¿¡æ¯             â”‚
â”‚ â€¢ ç»“æœï¼šROG å¹»<span class="hljs-number">16</span> å†…å­˜æ— æ³•å‡çº§            â”‚
â”‚ â€¢ åˆ†æï¼šè¿™ä¼šæˆä¸ºæœªæ¥ç“¶é¢ˆ                 â”‚
â”‚ â€¢ å†³ç­–ï¼šé™çº§ä¸ºå¤‡é€‰ï¼Œ<span class="hljs-keyword">continue</span>             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">6</span>: think - æ·±åº¦å¯¹æ¯”å‰©ä½™å€™é€‰         â”‚
â”‚ â€¢ é”å®šå¯¹æ¯”ç»´åº¦ï¼šæ•£çƒ­ã€å±å¹•ã€æ¥å£         â”‚
â”‚ â€¢ è®¡åˆ’ï¼šæœç´¢è¯¦ç»†è¯„æµ‹                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
   [æœç´¢è¯„æµ‹] â†’ å¯¹æ¯”æ•°æ®
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">7</span>: analyze - ç»¼åˆåˆ†æ               â”‚
â”‚ â€¢ ç»“æœï¼šR9000Pæ•£çƒ­å¥½ä½†é‡ï¼Œæå…‰Proæœ‰é›·ç”µå£â”‚
â”‚ â€¢ åˆ†æï¼šé›·ç”µå£å¯¹<span class="hljs-string">"å¶å°”å¤–å‡º"</span>åœºæ™¯å¾ˆå®ç”¨     â”‚
â”‚ â€¢ å†³ç­–ï¼švalidateï¼ˆå…ˆéªŒè¯ä¸€ä¸‹é€»è¾‘ï¼‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">8</span>: think - éªŒè¯æ¨èé€»è¾‘             â”‚
â”‚ â€¢ æ£€æŸ¥æ˜¯å¦é—æ¼ï¼ˆé¢„ç®—ã€æ€§èƒ½ã€ä¾¿æºï¼‰       â”‚
â”‚ â€¢ è¯†åˆ«é£é™©ï¼ˆå”®åã€æ•£çƒ­ï¼‰                 â”‚
â”‚ â€¢ å†³å®šï¼šéœ€è¦åœ¨æ¨èä¸­è¯´æ˜trade-<span class="hljs-keyword">off</span>       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-keyword">Step</span> <span class="hljs-number">9</span>: analyze - æœ€ç»ˆå†³ç­–               â”‚
â”‚ â€¢ å½¢æˆå®Œæ•´æ¨èï¼ˆä¸»æ¨+å¤‡é€‰+è¯´æ˜ï¼‰         â”‚
â”‚ â€¢ ç¡®è®¤é€»è¾‘å®Œæ•´                           â”‚
â”‚ â€¢ å†³ç­–ï¼šfinal_answer                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
      è¾“å‡ºç»™ç”¨æˆ·
</code></pre>
<h3 data-id="heading-9">3.3 å…³é”®èŠ‚ç‚¹è§£æ</h3>
<h4 data-id="heading-10"><strong>èŠ‚ç‚¹1ï¼šå‘ç°é—®é¢˜åçš„è°ƒæ•´ï¼ˆStep 3-5ï¼‰</strong></h4>
<p>è¿™æ˜¯æ¨ç†é“¾æœ€ç²¾å½©çš„éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Step 3 - analyze</span>
analyze(
    result=<span class="hljs-string">"ROG å¹»16 åªæœ‰16GBå†…å­˜"</span>,
    analysis=<span class="hljs-string">"16GBå¯¹æ·±åº¦å­¦ä¹ å¯èƒ½ä¸å¤Ÿï¼Œéœ€è¦ç¡®è®¤èƒ½å¦å‡çº§"</span>,
    next_action=<span class="hljs-string">"continue"</span>  <span class="hljs-comment"># ä¸æ€¥ç€ä¸‹ç»“è®º</span>
)

<span class="hljs-comment"># Step 4 - think</span>
think(
    thought=<span class="hljs-string">"å¦‚æœå†…å­˜èƒ½å‡çº§ï¼ŒROG å¹»16 ä»æ˜¯å¥½é€‰æ‹©ï¼ˆæœ€è½»ï¼‰"</span>,
    action=<span class="hljs-string">"æœç´¢ ROG å¹»16 å†…å­˜å‡çº§æ–¹æ¡ˆ"</span>
)

<span class="hljs-comment"># Step 5 - analyze</span>
analyze(
    result=<span class="hljs-string">"å†…å­˜ä¸ºæ¿è½½è®¾è®¡ï¼Œæ— æ³•å‡çº§"</span>,
    analysis=<span class="hljs-string">"è¿™æ˜¯è‡´å‘½ç¼ºé™·ï¼å°†å…¶é™çº§ä¸ºå¤‡é€‰"</span>,
    next_action=<span class="hljs-string">"continue"</span>  <span class="hljs-comment"># ç»§ç»­å¯¹æ¯”å…¶ä»–æœºå‹</span>
)
</code></pre>
<p><strong>å¦‚æœæ²¡æœ‰è¿™ä¸ªæ¨ç†é“¾</strong>ï¼Œæ¨¡å‹å¯èƒ½ï¼š</p>
<ul>
<li>ç›´æ¥æ¨è ROG å¹»16ï¼ˆå› ä¸ºæœ€è½»ï¼‰ï¼Œå¿½ç•¥å†…å­˜é—®é¢˜</li>
<li>æˆ–è€…ç›´æ¥æ’é™¤å®ƒï¼Œä¸å‘Šè¯‰ç”¨æˆ·ä¸ºä»€ä¹ˆ</li>
</ul>
<p><strong>æœ‰äº†æ¨ç†é“¾</strong>ï¼Œæ¨¡å‹ï¼š</p>
<ul>
<li>å‘ç°æ½œåœ¨é—®é¢˜ â†’ æ·±å…¥è°ƒæŸ¥ â†’ æ ¹æ®æ–°ä¿¡æ¯è°ƒæ•´å†³ç­–</li>
<li>æ¯ä¸€æ­¥éƒ½æœ‰è®°å½•ï¼Œå¯è¿½æº¯</li>
</ul>
<h4 data-id="heading-11"><strong>èŠ‚ç‚¹2ï¼švalidate çš„ä½¿ç”¨ï¼ˆStep 7-8ï¼‰</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Step 7 - analyze</span>
analyze(
    analysis=<span class="hljs-string">"å€¾å‘æ¨èæœºæ¢°é©å‘½æå…‰ Pro"</span>,
    next_action=<span class="hljs-string">"validate"</span>  <span class="hljs-comment"># å…ˆåˆ«æ€¥ï¼ŒéªŒè¯ä¸€ä¸‹</span>
)

<span class="hljs-comment"># Step 8 - think</span>
think(
    thought=<span class="hljs-string">"""
    æ£€æŸ¥æ¸…å•ï¼š
    âœ“ é¢„ç®—æ»¡è¶³
    âœ“ æ€§èƒ½æ»¡è¶³
    âœ“ ä¾¿æºæ€§å¯æ¥å—
    æ½œåœ¨é£é™©ï¼šå”®åä¸å¦‚è”æƒ³ã€æ•£çƒ­ä¸€èˆ¬
    
    éœ€è¦åœ¨æ¨èä¸­è¯´æ˜è¿™äº›é£é™©
    """</span>
)
</code></pre>
<p><code>validate</code> è¿™ä¸€æ­¥å¾ˆå…³é”®ï¼š<strong>åœ¨ç»™å‡ºæœ€ç»ˆç­”æ¡ˆå‰ï¼Œå†è¿‡ä¸€éé€»è¾‘</strong>ï¼Œç¡®ä¿æ²¡æœ‰é—æ¼ã€æ²¡æœ‰é€»è¾‘æ¼æ´ã€‚</p>
<hr/>
<h2 data-id="heading-12">å››ã€æŠ€æœ¯å®ç°ï¼šæ•°æ®å¦‚ä½•ç»„è£…å’Œä¼ é€’</h2>
<p>ç†è§£äº†æ¨ç†é€»è¾‘ï¼Œæˆ‘ä»¬æ¥çœ‹æŠ€æœ¯ç»†èŠ‚ï¼šè¿™äº› <code>think</code> å’Œ <code>analyze</code> æ˜¯å¦‚ä½•è¢«å­˜å‚¨å’Œä¼ é€’çš„ï¼Ÿ</p>
<h3 data-id="heading-13">4.1 æ•°æ®ç»“æ„è®¾è®¡</h3>
<p>æ ¸å¿ƒæ•°æ®ç»“æ„éå¸¸ç®€æ´ï¼š</p>
<pre><code class="hljs language-python" lang="python">session_state = {
    <span class="hljs-string">"current_run_id"</span>: <span class="hljs-string">"abc-123-def"</span>,  <span class="hljs-comment"># å½“å‰è¿è¡Œçš„ID</span>
    <span class="hljs-string">"reasoning_steps"</span>: {
        <span class="hljs-string">"abc-123-def"</span>: [  <span class="hljs-comment"># æŒ‰ run_id åˆ†ç»„</span>
            <span class="hljs-string">'{"title":"æ‹†è§£éœ€æ±‚","reasoning":"...","action":"...","confidence":0.9}'</span>,
            <span class="hljs-string">'{"title":"åˆ¶å®šç­–ç•¥","reasoning":"...","action":"...","confidence":0.85}'</span>,
            ...
        ],
        <span class="hljs-string">"xyz-789-ghi"</span>: [...]  <span class="hljs-comment"># å¦ä¸€æ¬¡è¿è¡Œ</span>
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæŒ‰ run_id åˆ†ç»„ï¼Ÿ</strong></p>
<ul>
<li>æ¯æ¬¡ <code>agent.run()</code> æ˜¯ç‹¬ç«‹çš„å¯¹è¯è½®æ¬¡</li>
<li>é¿å…ä¸åŒè½®æ¬¡çš„æ¨ç†æ··åœ¨ä¸€èµ·</li>
<li>æ”¯æŒå¹¶å‘è¯·æ±‚ï¼ˆæ¯ä¸ªè¯·æ±‚æœ‰ç‹¬ç«‹çš„ run_idï¼‰</li>
</ul>
<h3 data-id="heading-14">4.2 æ•°æ®ç»„è£…æµç¨‹</h3>
<p>å½“æ¨¡å‹è°ƒç”¨ <code>think</code> æ—¶ï¼ŒèƒŒåå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">think</span>(<span class="hljs-params">self, session_state, title, thought, action, confidence</span>):
    <span class="hljs-comment"># 1. åˆ›å»ºç»“æ„åŒ–çš„æ¨ç†æ­¥éª¤å¯¹è±¡</span>
    reasoning_step = ReasoningStep(
        title=title,
        reasoning=thought,
        action=action,
        next_action=NextAction.CONTINUE,
        confidence=confidence,
    )
    
    <span class="hljs-comment"># 2. è·å–å½“å‰çš„ run_idï¼ˆæ¡†æ¶è‡ªåŠ¨æ³¨å…¥ï¼‰</span>
    current_run_id = session_state.get(<span class="hljs-string">"current_run_id"</span>, <span class="hljs-literal">None</span>)
    
    <span class="hljs-comment"># 3. åˆå§‹åŒ–åµŒå¥—ç»“æ„ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰</span>
    <span class="hljs-keyword">if</span> <span class="hljs-string">"reasoning_steps"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> session_state:
        session_state[<span class="hljs-string">"reasoning_steps"</span>] = {}
    <span class="hljs-keyword">if</span> current_run_id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> session_state[<span class="hljs-string">"reasoning_steps"</span>]:
        session_state[<span class="hljs-string">"reasoning_steps"</span>][current_run_id] = []
    
    <span class="hljs-comment"># 4. åºåˆ—åŒ–å¹¶è¿½åŠ åˆ°åˆ—è¡¨</span>
    session_state[<span class="hljs-string">"reasoning_steps"</span>][current_run_id].append(
        reasoning_step.model_dump_json()
    )
    
    <span class="hljs-comment"># 5. æ ¼å¼åŒ–å†å²æ¨ç†æ­¥éª¤ï¼Œè¿”å›ç»™æ¨¡å‹</span>
    formatted_steps = <span class="hljs-string">""</span>
    <span class="hljs-keyword">for</span> i, step <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(session_state[<span class="hljs-string">"reasoning_steps"</span>][current_run_id], <span class="hljs-number">1</span>):
        step_obj = ReasoningStep.model_validate_json(step)
        formatted_steps += <span class="hljs-string">f"""
Step <span class="hljs-subst">{i}</span>:
Title: <span class="hljs-subst">{step_obj.title}</span>
Reasoning: <span class="hljs-subst">{step_obj.reasoning}</span>
Action: <span class="hljs-subst">{step_obj.action}</span>
Confidence: <span class="hljs-subst">{step_obj.confidence}</span>

"""</span>
    <span class="hljs-keyword">return</span> formatted_steps.strip()
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡ <code>think</code> åï¼Œè¿”å›å€¼åŒ…å«<strong>æ‰€æœ‰å†å²æ¨ç†æ­¥éª¤</strong></li>
<li>æ¨¡å‹èƒ½çœ‹åˆ°å®Œæ•´çš„æ¨ç†é“¾ï¼Œä¿æŒä¸Šä¸‹æ–‡è¿è´¯</li>
<li>æ•°æ®ä»¥ JSON å½¢å¼å­˜å‚¨ï¼Œä¾¿äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–</li>
</ul>
<h3 data-id="heading-15">4.3 run_id çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç”¨æˆ·ç¬¬ä¸€æ¬¡æé—®</span>
agent.run(<span class="hljs-string">"å¸®æˆ‘é€‰ç¬”è®°æœ¬"</span>)
    â†“
ç”Ÿæˆ run_id_1 = <span class="hljs-string">"abc-123-def"</span>
    â†“
session_state[<span class="hljs-string">"current_run_id"</span>] = run_id_1
    â†“
æ‰€æœ‰ think/analyze éƒ½å†™å…¥ reasoning_steps[run_id_1]
    â†“
run() ç»“æŸ

<span class="hljs-comment"># ç”¨æˆ·ç¬¬äºŒæ¬¡æé—®ï¼ˆæ–°çš„ä¸€è½®ï¼‰</span>
agent.run(<span class="hljs-string">"å†æ¨èä¸€ä¸ªå“ç‰Œ"</span>)
    â†“
ç”Ÿæˆ run_id_2 = <span class="hljs-string">"xyz-789-ghi"</span>
    â†“
session_state[<span class="hljs-string">"current_run_id"</span>] = run_id_2  <span class="hljs-comment"># æ›´æ–°</span>
    â†“
æ–°çš„æ¨ç†æ­¥éª¤å†™å…¥ reasoning_steps[run_id_2]
</code></pre>
<p>è¿™æ ·è®¾è®¡çš„å¥½å¤„ï¼š</p>
<ul>
<li>ä¸åŒå¯¹è¯è½®æ¬¡å®Œå…¨éš”ç¦»</li>
<li>æ”¯æŒæŸ¥çœ‹å†å²å¯¹è¯çš„æ¨ç†è¿‡ç¨‹</li>
<li>ä¾¿äºå¹¶å‘åœºæ™¯ï¼ˆå¤šä¸ªç”¨æˆ·åŒæ—¶æé—®ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-16">ä¸ DeepSeek æ€è€ƒæ¨¡å¼çš„å¯¹æ¯”</h3>
<p>DeepSeek V3.2 çš„æ€è€ƒæ¨¡å¼æ˜¯<strong>æ¨¡å‹å±‚é¢çš„èƒ½åŠ›</strong>ï¼ˆç±»ä¼¼ OpenAI çš„ o1ï¼‰ï¼Œè€Œ ReasoningTools æ˜¯<strong>å·¥å…·å±‚é¢çš„å®ç°</strong>ã€‚</p>
<p>ä¸¤è€…çš„å…³ç³»ï¼š</p>
<ul>
<li><strong>å¦‚æœç”¨ DeepSeek æ€è€ƒæ¨¡å¼</strong>ï¼šæ¨ç†ç”±æ¨¡å‹å†…éƒ¨å®Œæˆï¼Œæ›´åŸç”Ÿã€æ›´å¼ºå¤§</li>
<li><strong>å¦‚æœç”¨ ReasoningTools</strong>ï¼šæ¨ç†ç”±å·¥å…·å¼•å¯¼ï¼Œæ›´å¯æ§ã€æ›´çµæ´»</li>
</ul>
<p><strong>å¯ä»¥ç»“åˆä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAIChat

agent = Agent(
    model=OpenAIChat(<span class="hljs-built_in">id</span>=<span class="hljs-string">"deepseek-reasoner"</span>),  <span class="hljs-comment"># æ”¯æŒæ€è€ƒçš„æ¨¡å‹</span>
    tools=[reasoning_tools],  <span class="hljs-comment"># åŒæ—¶æä¾›æ¨ç†å·¥å…·</span>
    reasoning=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># å¯ç”¨åŸç”Ÿæ¨ç†æ¨¡å¼</span>
)
</code></pre>
<p>è¿™æ ·æ—¢èƒ½åˆ©ç”¨æ¨¡å‹çš„åŸç”Ÿæ¨ç†èƒ½åŠ›ï¼Œåˆèƒ½é€šè¿‡å·¥å…·å±‚é¢çš„ think/analyze å¢å¼ºå¯æ§æ€§å’Œå¯è§£é‡Šæ€§ã€‚</p>
<h3 data-id="heading-17">æœªæ¥å±•æœ›</h3>
<p>éšç€æ¨ç†èƒ½åŠ›æˆä¸º LLM çš„æ ‡é…ï¼Œå·¥å…·å±‚é¢çš„æ¨ç†æ¡†æ¶ä¼šæœç€ï¼š</p>
<ul>
<li><strong>æ›´çµæ´»çš„ç¼–æ’</strong>ï¼šæ”¯æŒ DAGã€æ¡ä»¶åˆ†æ”¯</li>
<li><strong>æ›´æ™ºèƒ½çš„å…ƒæ¨ç†</strong>ï¼šæ¨¡å‹è‡ªå·±å†³å®šä½•æ—¶ think/analyze</li>
<li><strong>æ›´å¥½çš„å¯è§†åŒ–</strong>ï¼šæ¨ç†é“¾çš„äº¤äº’å¼å±•ç¤º</li>
</ul>
<p>ä½†æ ¸å¿ƒæ€æƒ³ä¸å˜ï¼š<strong>ç»™æ¨¡å‹ä¸€ä¸ªç»“æ„åŒ–çš„æ€è€ƒç©ºé—´ï¼Œè®©å¤æ‚æ¨ç†å¯è¿½æº¯ã€å¯è°ƒè¯•ã€å¯ä¼˜åŒ–</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-18">å‚è€ƒèµ„æº</h2>
<ul>
<li>Agno å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.agno.com" target="_blank" title="https://docs.agno.com" ref="nofollow noopener noreferrer">docs.agno.com</a></li>
<li>ReasoningTools æºç ï¼š<code>libs/agno/agno/tools/reasoning.py</code></li>
<li>æ›´å¤šç¤ºä¾‹ï¼š<code>cookbook/reasoning/</code></li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ ç†è§£å¦‚ä½•ä¸º Agent æ„å»º"æ€è€ƒå·¥å…·"ã€‚å¦‚æœä½ åœ¨å®è·µä¸­é‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>