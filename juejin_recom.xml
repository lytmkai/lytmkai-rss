<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å›½äº§AIä»£ç é€†è¢­ï¼šGLM-4.6å‡­ä»€ä¹ˆå¹¶åˆ—å…¨çƒç¬¬ä¸€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572396000544997439</link>    <guid>https://juejin.cn/post/7572396000544997439</guid>    <pubDate>2025-11-14T14:06:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572396000544997439" data-draft-id="7572385850636042246" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›½äº§AIä»£ç é€†è¢­ï¼šGLM-4.6å‡­ä»€ä¹ˆå¹¶åˆ—å…¨çƒç¬¬ä¸€ï¼Ÿ"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-11-14T14:06:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›½äº§AIä»£ç é€†è¢­ï¼šGLM-4.6å‡­ä»€ä¹ˆå¹¶åˆ—å…¨çƒç¬¬ä¸€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T14:06:21.000Z" title="Fri Nov 14 2025 14:06:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AIåœˆçš„æœ‹å‹ä»¬ï¼Œæœ€è¿‘æœ‰æ²¡æœ‰è¢«LMArenaçš„æ¦œå•éœ‡åˆ°ï¼Ÿæ™ºè°±AIçš„GLM-4.6ï¼Œè¿™ä¸ªå’±ä»¬å›½äº§å“ç‰Œï¼Œç«Ÿç„¶åœ¨æœ€æ–°çš„ç¼–ç¨‹ä¸ä»£ç ç”Ÿæˆæ’è¡Œæ¦œä¸Šï¼Œå’ŒOpenAIçš„GPT-5ã€Anthropicçš„Claudeå¹¶åˆ—å…¨çƒç¬¬ä¸€ï¼è¿™å¯ä¸æ˜¯å°äº‹ï¼Œæ„å‘³ç€å›½äº§å¤§æ¨¡å‹åœ¨æœ€ç¡¬æ ¸çš„ç¼–ç¨‹èƒ½åŠ›ä¸Šï¼Œå®å®åœ¨åœ¨åœ°ç«™åˆ°äº†ä¸–ç•Œä¹‹å·…ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F11%2FiShot_2025-11-14_21.57.28-1024x773.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/11/iShot_2025-11-14_21.57.28-1024x773.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/076e62058dd34e128bf6e64fc279f1fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763733981&amp;x-signature=GiJrjmE9ai79NLzkBygupYEdiq8%3D" alt="iShot_2025-11-14_21.57.28" loading="lazy"/></a></p>
<h2 data-id="heading-0">æ¦œå•éœ‡åŠ¨ï¼šå›½äº§AIç«™ä¸Šä¸–ç•Œä¹‹å·…</h2>
<p>LMArenaï¼Œè¿™ä¸ªåœ¨AIåœˆé‡Œä¸¾è¶³è½»é‡çš„è¯„æµ‹å¹³å°ï¼Œå®ƒçš„Code Arenaæ¦œå•å¯ä¸æ˜¯é—¹ç€ç©çš„ã€‚å®ƒä¸ä»…ä»…æ˜¯çœ‹ä»£ç èƒ½ä¸èƒ½è·‘èµ·æ¥é‚£ä¹ˆç®€å•ï¼Œæ›´æ·±å±‚æ¬¡åœ°è¯„ä¼°æ¨¡å‹å¦‚ä½•åœ¨çœŸå®å¼€å‘æ¡ä»¶ä¸‹æ€è€ƒã€è§„åˆ’ã€æ„å»ºï¼Œç”šè‡³åŒ…æ‹¬æ€§èƒ½å’Œäº¤äº’è‡ªç„¶åº¦ã€‚å¯ä»¥è¯´ï¼Œå®ƒè€ƒæ ¸çš„æ˜¯æ¨¡å‹çš„â€œå®æˆ˜èƒ½åŠ›â€å’Œâ€œåŠ¨æ€è¿‡ç¨‹â€ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬è‡ªå·±çš„GLM-4.6ï¼Œä¸ä¸¤å¤§å·¨å¤´GPT-5å’ŒClaudeå¹¶é©¾é½é©±ï¼Œè¿™æ˜¯ä½•ç­‰è£è€€ï¼Ÿè¿™ä¸€æˆå°±ï¼Œæ ‡å¿—ç€å›½äº§å¤§æ¨¡å‹å·²æ­£å¼è¿›å…¥å…¨çƒç¬¬ä¸€æ¢¯é˜Ÿï¼Œæˆä¸ºä¸å®¹å¿½è§†çš„é¡¶å°–ç©å®¶ã€‚</p>
<h2 data-id="heading-1">GLM-4.6ï¼šè§£ç â€œæœ€å¼ºä»£ç æ¨¡å‹â€çš„ç§˜å¯†</h2>
<p>é‚£ä¹ˆï¼Œè¿™ä¸ªè®©ä¸šç•Œæ²¸è…¾çš„GLM-4.6ç©¶ç«Ÿæ˜¯ä½•æ–¹ç¥åœ£ï¼Ÿ</p>
<p>æ™ºè°±AIåœ¨2025å¹´9æœˆ30æ—¥å¼€æºå‘å¸ƒäº†å®ƒï¼Œä½œä¸ºGLMç³»åˆ—çš„æœ€æ–°åŠ›ä½œï¼Œå®ƒå·ç§°æ˜¯â€œæœ€å¼ºçš„ä»£ç Codingæ¨¡å‹â€ã€‚ç›¸æ¯”å‰ä»£GLM-4.5ï¼Œå®ƒçš„ä»£ç ç”Ÿæˆèƒ½åŠ›æå‡äº†è¶³è¶³<strong>27%</strong>ï¼è¿™å¯ä¸æ˜¯å°ä¿®å°è¡¥ï¼Œè€Œæ˜¯å®æ‰“å®çš„é£è·ƒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F11%2FiShot_2025-11-14_21.59.05-1024x382.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/11/iShot_2025-11-14_21.59.05-1024x382.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6b1fee031b143c3b09e253d91498208~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763733981&amp;x-signature=euZ00JWb%2B%2FpTnWOPPzJWAapN9u0%3D" alt="iShot_2025-11-14_21.59.05" loading="lazy"/></a></p>
<p>LMArenaå¼ºè°ƒçš„â€œåŠ¨æ€è¿‡ç¨‹â€ï¼Œæ­£æ˜¯GLM-4.6çš„å¼ºé¡¹ã€‚å®ƒå…·å¤‡å¼ºå¤§çš„Agentï¼ˆæ™ºèƒ½ä½“ï¼‰èƒ½åŠ›ï¼Œæ“…é•¿è§„åˆ’å’Œå·¥å…·è°ƒç”¨ï¼Œå°¤å…¶åœ¨å‰ç«¯å’Œå¤šè¯­è¨€ç¼–ç¨‹æ–¹é¢è¡¨ç°çªå‡ºã€‚æ›´å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå®ƒæ”¯æŒ<strong>200Kçš„é•¿ä¸Šä¸‹æ–‡</strong>ï¼Œè¿™æ„å‘³ç€å®ƒèƒ½è½»æ¾é©¾é©­é‚£äº›åŠ¨è¾„å‡ ä¸‡è¡Œçš„å¤æ‚ä»£ç åº“ï¼Œè¿™åœ¨å¤„ç†å¤§å‹é¡¹ç›®æ—¶ç®€ç›´æ˜¯ç¥æ¥ä¹‹ç¬”ã€‚å¯ä»¥è¯´ï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸ªä»£ç ç”Ÿæˆå™¨ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªèƒ½å¸®ä½ â€œæ€è€ƒâ€å’Œâ€œè§„åˆ’â€çš„è™šæ‹Ÿç¨‹åºå‘˜ã€‚</p>
<h2 data-id="heading-2">å®åŠ›éªŒè¯ä¸æ— ä¸ä¼¦æ¯”çš„æ€§ä»·æ¯”</h2>
<p>è¿™äº›æ•°æ®å’Œæ’åå¹¶éçº¸ä¸Šè°ˆå…µï¼ŒGLM-4.6çš„å“è¶Šè¡¨ç°èƒŒåï¼Œæœ‰åšå®çš„æµ‹è¯•æ•°æ®å’Œç§¯æçš„è¡Œä¸šåé¦ˆä½œä¸ºæ”¯æ’‘ã€‚</p>
<p>åœ¨Claude Codeç¯å¢ƒä¸‹è¿›è¡Œçš„74ä¸ªçœŸå®åœºæ™¯ç¼–ç¨‹ä»»åŠ¡æµ‹è¯•ä¸­ï¼ŒGLM-4.6çš„å®æµ‹è¡¨ç°<strong>è¶…è¿‡äº†Claude Sonnet 4</strong>ã€‚AIç¼–ç¨‹åŠ©æ‰‹Clineçš„æ•°æ®æ˜¾ç¤ºï¼ŒGLM-4.6çš„æˆåŠŸç‡é«˜è¾¾94.9%ï¼Œä¸é‚£äº›é¡¶å°–çš„é—­æºæ¨¡å‹å‡ ä¹â€œæ‰“å¹³â€ï¼Œå·®è·å·²ç¼©å°åˆ°â€œåŸºç‚¹â€çº§åˆ«ã€‚è¿AIèŠ¯ç‰‡å…¬å¸Cerebraséƒ½å°†å…¶é€‰ä¸ºå¹³å°çš„<strong>é»˜è®¤æ¨èæ¨¡å‹</strong>ï¼Œå–ä»£äº†ä¹‹å‰çš„é€‰æ‰‹ï¼Œè¿™è¶³ä»¥è¯æ˜GLM-4.6çš„ç¡¬å®åŠ›æ˜¯ç»å¾—èµ·è€ƒéªŒçš„ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F11%2FiShot_2025-11-14_21.58.38-1024x987.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/11/iShot_2025-11-14_21.58.38-1024x987.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89bee8ca5241483682c575435347aeda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763733981&amp;x-signature=CC2r%2FhH0zkqrcPF10pJGW%2FGa4pE%3D" alt="iShot_2025-11-14_21.58.38" loading="lazy"/></a></p>
<p>æ›´ä»¤äººå¿ƒåŠ¨çš„æ˜¯ï¼ŒGLM-4.6è¿˜ç»™å‡ºäº†ä¸€ä¸ªéš¾ä»¥æŠ—æ‹’çš„ç†ç”±ï¼š<strong>æé«˜çš„æ€§ä»·æ¯”</strong>ã€‚æ®ç§°ï¼Œä½ åªéœ€ä»˜å‡ºClaudeçº¦1/7çš„ä»·æ ¼ï¼Œå°±èƒ½äº«å—åˆ°å‡ ä¹åŒæ ·é¡¶çº§çš„ä»£ç æœåŠ¡ã€‚è¿™å¯¹äºé¢„ç®—æœ‰é™çš„å¼€å‘è€…æˆ–ä¼ä¸šæ¥è¯´ï¼Œç®€ç›´æ˜¯é›ªä¸­é€ç‚­ï¼Œä¸ºå…¨çƒå¼€å‘è€…æä¾›äº†ä¸€ä¸ªå…¼å…·é¡¶å°–æ€§èƒ½å’Œé«˜æˆæœ¬æ•ˆç›Šçš„å…¨æ–°é€‰æ‹©ã€‚</p>
<h2 data-id="heading-3">å›½äº§AIçš„é‡Œç¨‹ç¢‘</h2>
<p>GLM-4.6çš„ç™»é¡¶ï¼Œæ˜¯å›½äº§å¤§æ¨¡å‹å‘å±•å²ä¸Šä¸€ä¸ªå®å®åœ¨åœ¨çš„é‡Œç¨‹ç¢‘ã€‚å®ƒæ¸…æ™°åœ°å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸­å›½AIåŠ›é‡å·²ç»æˆåŠŸåœ°ä»â€œè¿½èµ¶è€…â€èœ•å˜ä¸ºâ€œå¹¶è·‘è€…â€ï¼Œç”šè‡³åœ¨æŸäº›ç»´åº¦ä¸Šå¼€å§‹å¼•é¢†ã€‚è¿™ä¸ä»…ä»…æ˜¯æ™ºè°±AIçš„èƒœåˆ©ï¼Œæ›´æ˜¯æ•´ä¸ªä¸­å›½AIç”Ÿæ€çš„éª„å‚²ã€‚å®ƒé¢„ç¤ºç€AIç¼–ç¨‹å·¥å…·çš„æœªæ¥å°†æ›´åŠ å¤šå…ƒå’Œæ™®æƒ ï¼ŒæœŸå¾…GLM-4.6èƒ½æ¿€å‘æ›´å¤šåˆ›æ–°ï¼Œå…±åŒæ¨åŠ¨AIæ—¶ä»£çš„åˆ°æ¥ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustç¯å¢ƒæ­å»º]]></title>    <link>https://juejin.cn/post/7572434032517611566</link>    <guid>https://juejin.cn/post/7572434032517611566</guid>    <pubDate>2025-11-14T14:11:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572434032517611566" data-draft-id="7572389069707051018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustç¯å¢ƒæ­å»º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T14:11:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç§æ•™"/> <meta itemprop="url" content="https://juejin.cn/user/3394924618197325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustç¯å¢ƒæ­å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3394924618197325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç§æ•™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T14:11:55.000Z" title="Fri Nov 14 2025 14:11:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Rustæ¦‚è¿°</h2>
<h4 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯Rust</h4>
<p>Rust æ˜¯ä¸€é—¨å¼ºè°ƒå†…å­˜å®‰å…¨ã€å¹¶å‘å®‰å…¨ä¸é«˜æ€§èƒ½çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ã€‚å®ƒé€šè¿‡æ‰€æœ‰æƒã€å€Ÿç”¨ä¸ç”Ÿå‘½å‘¨æœŸç­‰ç‹¬ç‰¹çš„ç±»å‹ç³»ç»Ÿè®¾è®¡ï¼Œåœ¨ä¸ä¾èµ–åƒåœ¾å›æ”¶çš„å‰æä¸‹æä¾›å¯é çš„å†…å­˜ç®¡ç†ï¼ŒåŒæ—¶ä¿æŒä¸ C/C++ æ¥è¿‘çš„è¿è¡Œæ•ˆç‡ã€‚</p>
<h4 data-id="heading-2">1.2 ä¸ºä»€ä¹ˆé€‰æ‹©Rust</h4>
<ul>
<li>å®‰å…¨å¯é ï¼šåœ¨ç¼–è¯‘æœŸé˜²æ­¢æ•°æ®ç«äº‰ä¸æ‚¬å‚å¼•ç”¨ã€‚</li>
<li>é«˜æ€§èƒ½ï¼šé›¶æˆæœ¬æŠ½è±¡ã€é¢å‘æ€§èƒ½çš„æ ‡å‡†åº“ä¸ç¼–è¯‘å™¨ä¼˜åŒ–ã€‚</li>
<li>ç°ä»£ç”Ÿæ€ï¼šä½¿ç”¨ <code>cargo</code> è¿›è¡Œæ„å»ºã€æµ‹è¯•ä¸å‘å¸ƒï¼Œ<code>crates.io</code> æä¾›ä¸°å¯Œä¾èµ–ã€‚</li>
<li>è·¨å¹³å°ï¼šæ”¯æŒ Windowsã€macOSã€Linuxã€WebAssembly ä¸åµŒå…¥å¼ç­‰åœºæ™¯ã€‚</li>
<li>å·¥å…·å®Œå–„ï¼š<code>rustup</code> ç®¡ç†å¤šç‰ˆæœ¬å·¥å…·é“¾ï¼Œ<code>rust-analyzer</code> æä¾›é«˜æ•ˆ IDE ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-3">1.3 æ ¸å¿ƒæ¦‚å¿µ</h4>
<ul>
<li>æ‰€æœ‰æƒä¸å€Ÿç”¨ï¼šé€šè¿‡ç¼–è¯‘æœŸè§„åˆ™ç¡®ä¿èµ„æºçš„å”¯ä¸€æ€§ä¸å¯æ§å…±äº«ã€‚</li>
<li>ç”Ÿå‘½å‘¨æœŸï¼šæè¿°å¼•ç”¨åœ¨ç¼–è¯‘æœŸçš„æœ‰æ•ˆèŒƒå›´ï¼Œé¿å…æ‚¬å‚æŒ‡é’ˆã€‚</li>
<li>Traitï¼šå®šä¹‰è¡Œä¸ºæ¥å£ï¼Œæ”¯æŒæ³›å‹ä¸å¤šæ€ã€‚</li>
<li>æ¨¡å¼åŒ¹é…ä¸æšä¸¾ï¼šé€šè¿‡ <code>match</code> å®ç°å®‰å…¨ä¸”è¡¨è¾¾åŠ›å¼ºçš„åˆ†æ”¯é€»è¾‘ã€‚</li>
<li>å®ä¸é›¶æˆæœ¬æŠ½è±¡ï¼šåœ¨ä¸å¢åŠ è¿è¡Œæ—¶å¼€é”€çš„å‰æä¸‹æå‡è¡¨è¾¾èƒ½åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€Windowsæ­å»ºRustå¼€å‘ç¯å¢ƒ</h3>
<h4 data-id="heading-5">2.1 ç¯å¢ƒä¸å·¥å…·é“¾é€‰æ‹©</h4>
<ul>
<li>æ¨èä½¿ç”¨ MSVC å·¥å…·é“¾ï¼ˆVisual Studio C++ ç”Ÿæˆå·¥å…·ï¼‰ä»¥è·å¾—æ›´å¥½çš„å…¼å®¹æ€§ã€‚</li>
<li>GNU å·¥å…·é“¾é€‚åˆåŸºäº MinGW/MSYS2 çš„ç¯å¢ƒã€‚ä¸€èˆ¬å¼€å‘è€…é€‰æ‹© MSVC å³å¯ã€‚</li>
</ul>
<h4 data-id="heading-6">2.2 é€šè¿‡ rustup å®‰è£… Rust</h4>
<ul>
<li>ä½¿ç”¨å®‰è£…åŒ…ï¼šè®¿é—® Rust å®˜æ–¹ä¸‹è½½é¡µé¢ï¼Œä¸‹è½½å¹¶è¿è¡Œ <code>rustup-init.exe</code>ï¼ŒæŒ‰æç¤ºå®‰è£…ã€‚</li>
<li>ä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼šå¦‚æœå·²å®‰è£… <code>winget</code>ï¼Œå¯æ‰§è¡Œï¼š</li>
</ul>
<pre><code class="hljs">winget install Rustlang.Rustup
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æ–°çš„ç»ˆç«¯éªŒè¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">rustc <span class="hljs-attr">--version</span>
cargo <span class="hljs-attr">--version</span>
</code></pre>
<h4 data-id="heading-7">2.3 é…ç½®å·¥å…·é“¾</h4>
<p>æŸ¥è¯¢å½“å‰çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">rustup <span class="hljs-keyword">show</span>
</code></pre>
<p>è®¾ç½®é»˜è®¤ç¨³å®šç‰ˆï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">rustup <span class="hljs-keyword">default</span> stable
</code></pre>
<p>å®‰è£…å¹¶åˆ‡æ¢åˆ° MSVC å·¥å…·é“¾ï¼ˆå¦‚æœªé»˜è®¤å®‰è£…ï¼‰ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">rustup toolchain install stable-x86_64-pc-windows-msvc
rustup <span class="hljs-keyword">default</span> stable-x86_64-pc-windows-msvc
</code></pre>
<p>å¦‚éœ€ GNU å·¥å…·é“¾ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">rustup toolchain install stable-x86_64-pc-windows-gnu
rustup <span class="hljs-keyword">default</span> stable-x86_64-pc-windows-gnu
</code></pre>
<h4 data-id="heading-8">2.4 å®‰è£… MSVC ä¾èµ–</h4>
<p>è‹¥ä½¿ç”¨ MSVCï¼Œè¯·å®‰è£… Visual Studio Build Toolsï¼Œå¹¶é€‰æ‹©â€œä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘â€æˆ–è‡³å°‘åŒ…å«â€œMSVCã€Windows SDK ä¸ CMakeâ€ç»„ä»¶ã€‚</p>
<h4 data-id="heading-9">2.5 å®‰è£…å¸¸ç”¨ç»„ä»¶</h4>
<pre><code class="hljs language-csharp" lang="csharp">rustup component <span class="hljs-keyword">add</span> rustfmt clippy
</code></pre>
<h4 data-id="heading-10">2.6 å¼€å‘å·¥å…·å»ºè®®</h4>
<ul>
<li>VS Codeï¼šå®‰è£… <code>Rust Analyzer</code> æ‰©å±•ä»¥è·å¾—è¯­æ³•é«˜äº®ã€è¡¥å…¨ä¸è¯Šæ–­ã€‚</li>
<li>ç»ˆç«¯ï¼šä½¿ç”¨ Windows Terminal æˆ– PowerShell ä»¥è·å¾—æ›´å¥½çš„ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-11">2.7 å¸¸è§é—®é¢˜</h4>
<ul>
<li><code>PATH</code> æœªç”Ÿæ•ˆï¼šé‡æ–°æ‰“å¼€ç»ˆç«¯æˆ–åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ç¡®è®¤ <code>~\.cargo\bin</code> å·²æ·»åŠ ã€‚</li>
<li>å¤šç‰ˆæœ¬å†²çªï¼šæ£€æŸ¥ <code>where rustc</code> ä¸ <code>where cargo</code>ï¼Œç¡®ä¿æŒ‡å‘ <code>~\.cargo\bin</code>ã€‚</li>
<li>ä»£ç†ä¸ç½‘ç»œï¼šå¿…è¦æ—¶é…ç½®ç»ˆç«¯ä»£ç†åå†æ‰§è¡Œ <code>rustup update</code>ã€‚</li>
</ul>
<h3 data-id="heading-12">ä¸‰ã€MacOSæ­å»ºRustå¼€å‘ç¯å¢ƒ</h3>
<h4 data-id="heading-13">3.1 å®‰è£…å‘½ä»¤è¡Œå·¥å…·</h4>
<pre><code class="hljs language-lua" lang="lua">xcode-<span class="hljs-built_in">select</span> <span class="hljs-comment">--install</span>
</code></pre>
<h4 data-id="heading-14">3.2 å®‰è£… Rust</h4>
<p>é€šè¿‡ <code>rustup</code> å®‰è£…ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl https:<span class="hljs-comment">//sh.rustup.rs -sSf | sh</span>
</code></pre>
<p>å®‰è£…å®Œæˆåæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-scss" lang="scss">rustc <span class="hljs-attr">--version</span>
cargo <span class="hljs-attr">--version</span>
rustup default stable
</code></pre>
<h4 data-id="heading-15">3.3 å¸¸ç”¨ç»„ä»¶ä¸ IDE</h4>
<pre><code class="hljs language-csharp" lang="csharp">rustup component <span class="hljs-keyword">add</span> rustfmt clippy
</code></pre>
<ul>
<li>VS Code å®‰è£… <code>Rust Analyzer</code> æ‰©å±•ã€‚</li>
</ul>
<h3 data-id="heading-16">å››ã€Ubuntuæ­å»ºRustå¼€å‘ç¯å¢ƒ</h3>
<h4 data-id="heading-17">4.1 å®‰è£…åŸºç¡€ä¾èµ–</h4>
<pre><code class="hljs language-arduino" lang="arduino">sudo apt update
sudo apt install -y build-essential curl pkg-config libssl-dev
</code></pre>
<h4 data-id="heading-18">4.2 å®‰è£… Rust</h4>
<pre><code class="hljs language-arduino" lang="arduino">curl https:<span class="hljs-comment">//sh.rustup.rs -sSf | sh</span>
</code></pre>
<p>é‡æ–°åŠ è½½ç¯å¢ƒæˆ–å¼€å¯æ–°ç»ˆç«¯åéªŒè¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">rustc <span class="hljs-attr">--version</span>
cargo <span class="hljs-attr">--version</span>
rustup default stable
</code></pre>
<h4 data-id="heading-19">4.3 å¸¸ç”¨ç»„ä»¶</h4>
<pre><code class="hljs language-csharp" lang="csharp">rustup component <span class="hljs-keyword">add</span> rustfmt clippy
</code></pre>
<h3 data-id="heading-20">äº”ã€Rustå¿«é€Ÿå…¥é—¨</h3>
<h4 data-id="heading-21">5.1 ä½¿ç”¨ Cargo åˆ›å»ºé¡¹ç›®</h4>
<pre><code class="hljs language-sql" lang="sql">cargo <span class="hljs-keyword">new</span> hello_rust <span class="hljs-comment">--bin</span>
cd hello_rust
</code></pre>
<h4 data-id="heading-22">5.2 ç¼–å†™å¹¶è¿è¡Œ</h4>
<p>ç¼–è¾‘ <code>src/main.rs</code>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function">fn <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    println!(<span class="hljs-string">"Hello, Rust"</span>);
}
</code></pre>
<p>è¿è¡Œï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">cargo run
</code></pre>
<h4 data-id="heading-23">5.3 ç®¡ç†ä¾èµ–</h4>
<p>åœ¨ <code>Cargo.toml</code> æ·»åŠ ä¾èµ–ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">serde</span> = { version = <span class="hljs-string">"1.0"</span>, features = [<span class="hljs-string">"derive"</span>] }
<span class="hljs-attr">serde_json</span> = <span class="hljs-string">"1.0"</span>
</code></pre>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> serde::{Deserialize, Serialize};

<span class="hljs-meta">#[derive(Serialize, Deserialize)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">User</span> {
    id: <span class="hljs-type">u64</span>,
    name: <span class="hljs-type">String</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">u</span> = User { id: <span class="hljs-number">1</span>, name: <span class="hljs-string">"Alice"</span>.<span class="hljs-title function_ invoke__">to_string</span>() };
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = serde_json::<span class="hljs-title function_ invoke__">to_string</span>(&amp;u).<span class="hljs-title function_ invoke__">unwrap</span>();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s);
}
</code></pre>
<h4 data-id="heading-24">5.4 ç¼–å†™ä¸è¿è¡Œæµ‹è¯•</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[cfg(test)]</span>
<span class="hljs-keyword">mod</span> tests {
    <span class="hljs-meta">#[test]</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">it_works</span>() {
        <span class="hljs-built_in">assert_eq!</span>(<span class="hljs-number">2</span> + <span class="hljs-number">2</span>, <span class="hljs-number">4</span>);
    }
}
</code></pre>
<p>è¿è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">cargo <span class="hljs-built_in">test</span>
</code></pre>
<h4 data-id="heading-25">5.5 æ ¼å¼åŒ–ä¸é™æ€æ£€æŸ¥</h4>
<pre><code class="hljs language-bash" lang="bash">cargo <span class="hljs-built_in">fmt</span>
cargo clippy
</code></pre>
<h4 data-id="heading-26">5.6 æ„å»ºå‘å¸ƒç‰ˆæœ¬</h4>
<pre><code class="hljs language-arduino" lang="arduino">cargo build --release
</code></pre>
<p>ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä½äº <code>target/release/</code>ã€‚</p>
<h4 data-id="heading-27">5.7 å­¦ä¹ èµ„æºä¸ä¸‹ä¸€æ­¥</h4>
<ul>
<li>å®˜æ–¹æ–‡æ¡£ä¸æ•™ç¨‹ï¼šã€ŠThe Rust Programming Languageã€‹ã€ŠRust By Exampleã€‹ã€‚</li>
<li>ç»ƒä¹ å»ºè®®ï¼šç¼–å†™å‘½ä»¤è¡Œå·¥å…·ã€HTTP æœåŠ¡æˆ– WebAssembly å°é¡¹ç›®ä»¥ç†Ÿæ‚‰ç”Ÿæ€ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RuståŸºæœ¬è¯­æ³•]]></title>    <link>https://juejin.cn/post/7572387068314402843</link>    <guid>https://juejin.cn/post/7572387068314402843</guid>    <pubDate>2025-11-14T14:16:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572387068314402843" data-draft-id="7572387068314386459" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RuståŸºæœ¬è¯­æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T14:16:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç§æ•™"/> <meta itemprop="url" content="https://juejin.cn/user/3394924618197325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RuståŸºæœ¬è¯­æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3394924618197325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç§æ•™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T14:16:01.000Z" title="Fri Nov 14 2025 14:16:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€RuståŸºç¡€æ¦‚è¿°</h2>
<h4 data-id="heading-1">1.1 è¯­æ³•è®¾è®¡ç›®æ ‡</h4>
<ul>
<li>å®‰å…¨ã€å¹¶å‘ã€æ€§èƒ½å¹¶é‡ï¼Œé™æ€å¼ºç±»å‹ä¸é›¶æˆæœ¬æŠ½è±¡ã€‚</li>
<li>è¡¨è¾¾å¼ä¸ºæ ¸å¿ƒï¼Œå°½é‡åœ¨ç¼–è¯‘æœŸå‘ç°é—®é¢˜ã€‚</li>
<li>ç”Ÿæ€ä¸å·¥å…·é“¾ï¼š<code>rustup</code> ç®¡ç†å·¥å…·é“¾ï¼Œ<code>cargo</code> æ„å»ºä¸ä¾èµ–ç®¡ç†ï¼Œ<code>rust-analyzer</code> æå‡ IDE ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-2">1.2 ç¨‹åºåŸºæœ¬ç»“æ„</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function">fn <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    println!(<span class="hljs-string">"Hello, Rust"</span>);
}
</code></pre>
<h3 data-id="heading-3">äºŒã€å˜é‡ã€æ‰€æœ‰æƒä¸å€Ÿç”¨</h3>
<h4 data-id="heading-4">2.1 å˜é‡ã€å¸¸é‡ä¸é®è”½</h4>
<p>è®²è§£ï¼šå˜é‡é»˜è®¤ä¸å¯å˜ï¼Œä½¿ç”¨ <code>mut</code> å£°æ˜å¯å˜å˜é‡ï¼›é®è”½å…è®¸ç”¨åŒåæ–°ç»‘å®šè¦†ç›–æ—§å€¼ä½†ä¿æŒä¸å¯å˜è¯­ä¹‰ï¼›<code>const</code> ä¸ºç¼–è¯‘æœŸå¸¸é‡ï¼Œéœ€æ˜¾å¼ç±»å‹ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„å˜é‡ã€é®è”½ä¸å¸¸é‡æ¼”ç¤º</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">x</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    let <span class="hljs-attr">x</span> = x + <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    let mut <span class="hljs-attr">y</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    y += 1<span class="hljs-comment">;</span>
    const MAX: <span class="hljs-attr">u32</span> = <span class="hljs-number">100_000</span><span class="hljs-comment">;</span>
    println!("<span class="hljs-attr">x</span>={}<span class="hljs-string">", x);
    println!("</span>y={}<span class="hljs-string">", y);
    println!("</span>MAX={}<span class="hljs-string">", MAX);
}
</span></code></pre>
<h4 data-id="heading-5">2.2 æ‰€æœ‰æƒã€ç§»åŠ¨ã€å¤åˆ¶ä¸å…‹éš†</h4>
<p>è®²è§£ï¼š<code>String</code> ç­‰å †åˆ†é…ç±»å‹åœ¨èµ‹å€¼æ—¶ä¼šå‘ç”Ÿæ‰€æœ‰æƒç§»åŠ¨ï¼›<code>clone</code> æ‰§è¡Œæ·±æ‹·è´ä¿ç•™ä¸¤ä¸ªç‹¬ç«‹æ‰€æœ‰æƒï¼›è¯¸å¦‚æ•´æ•°ç­‰å®ç° <code>Copy</code> çš„æ ‡é‡ç±»å‹æŒ‰å€¼å¤åˆ¶ï¼Œæ— éœ€ç§»åŠ¨ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„æ‰€æœ‰æƒä¸å…‹éš†æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hi"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">t</span> = s;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"moved: {}"</span>, t);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">u</span> = t.<span class="hljs-title function_ invoke__">clone</span>();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"cloned: t={}, u={}"</span>, t, u);

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">a</span> = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b</span> = a;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"copy: a={}, b={}"</span>, a, b);
}
</code></pre>
<h4 data-id="heading-6">2.3 å€Ÿç”¨ä¸å¯å˜å€Ÿç”¨</h4>
<p>è®²è§£ï¼šä¸å¯å˜å€Ÿç”¨å…è®¸åªè¯»è®¿é—®ï¼›å¯å˜å€Ÿç”¨åœ¨åŒä¸€æ—¶åˆ»åªèƒ½å­˜åœ¨ä¸€ä¸ªä»¥ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼›å€Ÿç”¨ä¸è½¬ç§»æ‰€æœ‰æƒã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„å€Ÿç”¨æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">len</span>(s: &amp;<span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> { s.<span class="hljs-title function_ invoke__">len</span>() }
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">push_exclaim</span>(s: &amp;<span class="hljs-keyword">mut</span> <span class="hljs-type">String</span>) { s.<span class="hljs-title function_ invoke__">push_str</span>(<span class="hljs-string">"!"</span>) }

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"a"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">l</span> = <span class="hljs-title function_ invoke__">len</span>(&amp;s);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"len={}"</span>, l);
    <span class="hljs-title function_ invoke__">push_exclaim</span>(&amp;<span class="hljs-keyword">mut</span> s);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s);
}
</code></pre>
<h4 data-id="heading-7">2.4 åˆ‡ç‰‡ä¸å­—ç¬¦ä¸²</h4>
<p>è®²è§£ï¼šåˆ‡ç‰‡æ˜¯å¯¹é›†åˆçš„åªè¯»è§†å›¾ï¼Œä¸æ‹¥æœ‰æ•°æ®ï¼›å­—ç¬¦ä¸²åˆ‡ç‰‡æŒ‰å­—èŠ‚ç´¢å¼•ï¼Œéœ€ä¿è¯è½åœ¨ UTF-8 å­—ç¬¦è¾¹ç•Œã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„åˆ‡ç‰‡æ¼”ç¤º</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">a</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<span class="hljs-comment">;</span>
    let <span class="hljs-attr">slice</span> = &amp;a[<span class="hljs-number">1</span>..<span class="hljs-number">3</span>]<span class="hljs-comment">;</span>
    println!("{:?}", slice)<span class="hljs-comment">;</span>

    let <span class="hljs-attr">s</span> = String::from(<span class="hljs-string">"hello"</span>)<span class="hljs-comment">;</span>
    let r: &amp;<span class="hljs-attr">str</span> = &amp;s[<span class="hljs-number">0</span>..<span class="hljs-number">2</span>]<span class="hljs-comment">;</span>
    println!("{}", r)<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-8">ä¸‰ã€ç±»å‹ä¸æ•°æ®ç»“æ„</h3>
<h4 data-id="heading-9">3.1 åŸºæœ¬ç±»å‹ã€å…ƒç»„ã€æ•°ç»„ä¸åˆ‡ç‰‡</h4>
<p>è®²è§£ï¼šRust çš„æ ‡é‡ä¸å¤åˆç±»å‹å…·å¤‡æ˜¾å¼ç±»å‹ä¸å›ºå®šå¤§å°ï¼›æ•°ç»„åœ¨æ ˆä¸Šåˆ†é…ã€é•¿åº¦å›ºå®šï¼›åˆ‡ç‰‡ä¸ºåªè¯»è§†å›¾ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„ç±»å‹æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">i</span>: <span class="hljs-type">i32</span> = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">f</span>: <span class="hljs-type">f64</span> = <span class="hljs-number">3.14</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b</span>: <span class="hljs-type">bool</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">c</span>: <span class="hljs-type">char</span> = <span class="hljs-string">'ä¸­'</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tup</span>: (<span class="hljs-type">i32</span>, &amp;<span class="hljs-type">str</span>) = (<span class="hljs-number">7</span>, <span class="hljs-string">"a"</span>);
    <span class="hljs-keyword">let</span> (n, s) = tup;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">arr</span>: [<span class="hljs-type">i32</span>; <span class="hljs-number">3</span>] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">slice</span>: &amp;[<span class="hljs-type">i32</span>] = &amp;arr[..];
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"i={}, f={}, b={}, c={}"</span>, i, f, b, c);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"tup=({}, {})"</span>, n, s);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"arr={:?}"</span>, arr);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"slice={:?}"</span>, slice);
}
</code></pre>
<h4 data-id="heading-10">3.2 String ä¸ &amp;str</h4>
<p>è®²è§£ï¼š<code>String</code> å¯å˜ä¸”æ‹¥æœ‰å †æ•°æ®ï¼›<code>&amp;str</code> ä¸ºåªè¯»å€Ÿç”¨çš„å­—ç¬¦ä¸²è§†å›¾ï¼›ä¸¤è€…äº’è¡¥ä½¿ç”¨ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„å­—ç¬¦ä¸²æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hi"</span>);
    s.<span class="hljs-title function_ invoke__">push_str</span>(<span class="hljs-string">"!"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">r</span>: &amp;<span class="hljs-type">str</span> = &amp;s;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"String={}"</span>, s);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"&amp;str={}"</span>, r);
}
</code></pre>
<h4 data-id="heading-11">3.3 ç»“æ„ä½“ä¸å®ç°</h4>
<p>è®²è§£ï¼š<code>struct</code> å®šä¹‰æ•°æ®ç»“æ„ï¼Œ<code>impl</code> å—ä¸­å¯æ·»åŠ å…³è”å‡½æ•°ä¸æ–¹æ³•ï¼›æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ¥æ”¶è€… <code>&amp;self</code> æˆ– <code>&amp;mut self</code>ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„ç»“æ„ä½“æ–¹æ³•æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> { x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span> }
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Point</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> { <span class="hljs-keyword">Self</span> { x, y } }
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">norm</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f64</span> { ((<span class="hljs-keyword">self</span>.x.<span class="hljs-title function_ invoke__">pow</span>(<span class="hljs-number">2</span>) + <span class="hljs-keyword">self</span>.y.<span class="hljs-title function_ invoke__">pow</span>(<span class="hljs-number">2</span>)) <span class="hljs-keyword">as</span> <span class="hljs-type">f64</span>).<span class="hljs-title function_ invoke__">sqrt</span>() }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">p</span> = Point::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, p.<span class="hljs-title function_ invoke__">norm</span>());
}
</code></pre>
<h4 data-id="heading-12">3.4 æšä¸¾ä¸æ¨¡å¼åŒ¹é…</h4>
<p>è®²è§£ï¼š<code>enum</code> å¯è¡¨è¾¾ä»£æ•°æ•°æ®ç±»å‹ï¼›<code>match</code> è¦†ç›–æ‰€æœ‰åˆ†æ”¯å¹¶æ”¯æŒè§£æ„ä¸æ¡ä»¶å®ˆå«ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„æšä¸¾åŒ¹é…æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Shape</span> { <span class="hljs-title function_ invoke__">Circle</span>(<span class="hljs-type">f64</span>), Rect { w: <span class="hljs-type">i32</span>, h: <span class="hljs-type">i32</span> } }
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">area</span>(s: Shape) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f64</span> {
    <span class="hljs-keyword">match</span> s {
        Shape::<span class="hljs-title function_ invoke__">Circle</span>(r) =&gt; <span class="hljs-number">3.14159</span> * r * r,
        Shape::Rect { w, h } =&gt; (w * h) <span class="hljs-keyword">as</span> <span class="hljs-type">f64</span>,
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">c</span> = Shape::<span class="hljs-title function_ invoke__">Circle</span>(<span class="hljs-number">2.0</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">r</span> = Shape::Rect { w: <span class="hljs-number">3</span>, h: <span class="hljs-number">4</span> };
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-title function_ invoke__">area</span>(c));
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-title function_ invoke__">area</span>(r));
}
</code></pre>
<h4 data-id="heading-13">3.5 Option ä¸ Result</h4>
<p>è®²è§£ï¼š<code>Option</code> è¡¨ç¤ºå¯ç©ºå€¼ï¼Œä¿ƒä½¿æ˜¾å¼å¤„ç†ç¼ºå¤±æƒ…å†µï¼›<code>Result</code> è¡¨ç¤ºå¯èƒ½å‡ºé”™çš„æ“ä½œï¼Œç»“åˆ <code>match</code> æˆ– <code>?</code> ä¼ æ’­é”™è¯¯ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„ Option ä¸ Result æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">find</span>(v: &amp;[<span class="hljs-type">i32</span>], x: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">usize</span>&gt; {
    <span class="hljs-title function_ invoke__">for</span> (i, n) <span class="hljs-keyword">in</span> v.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">enumerate</span>() {
        <span class="hljs-keyword">if</span> *n == x { <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Some</span>(i); }
    }
    <span class="hljs-literal">None</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">v</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
    <span class="hljs-keyword">match</span> <span class="hljs-title function_ invoke__">find</span>(&amp;v, <span class="hljs-number">2</span>) {
        <span class="hljs-title function_ invoke__">Some</span>(i) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"found at {}"</span>, i),
        <span class="hljs-literal">None</span> =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"not found"</span>),
    }

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ok</span> = <span class="hljs-string">"42"</span>.parse::&lt;<span class="hljs-type">i32</span>&gt;();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">err</span> = <span class="hljs-string">"x"</span>.parse::&lt;<span class="hljs-type">i32</span>&gt;();
    <span class="hljs-keyword">match</span> ok { <span class="hljs-title function_ invoke__">Ok</span>(n) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ok {}"</span>, n), <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"error {}"</span>, e) }
    <span class="hljs-keyword">match</span> err { <span class="hljs-title function_ invoke__">Ok</span>(n) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ok {}"</span>, n), <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"error {}"</span>, e) }
}
</code></pre>
<h3 data-id="heading-14">å››ã€å‡½æ•°ã€æ§åˆ¶æµä¸é—­åŒ…</h3>
<h4 data-id="heading-15">4.1 å‡½æ•°ä¸è¿”å›å€¼</h4>
<p>è®²è§£ï¼šå‡½æ•°è¿”å›å€¼ä»¥å°¾è¡¨è¾¾å¼å½¢å¼å‡ºç°ï¼Œæ— éœ€ <code>return</code>ï¼›ç±»å‹æ¨æ–­åœ¨å‚æ•°ä½ç½®è¾ƒä¿å®ˆï¼Œéœ€æ˜¾å¼ç±»å‹ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„å‡½æ•°æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">add</span>(a: <span class="hljs-type">i32</span>, b: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> { a + b }

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">r</span> = <span class="hljs-title function_ invoke__">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, r);
}
</code></pre>
<h4 data-id="heading-16">4.2 æ§åˆ¶æµ</h4>
<p>è®²è§£ï¼š<code>if</code> æ˜¯è¡¨è¾¾å¼å¯èµ‹å€¼ï¼›<code>for</code> åŸºäºè¿­ä»£å™¨ï¼›<code>loop</code> å¯æ„å»ºæ— é™å¾ªç¯å¹¶é€šè¿‡ <code>break</code> é€€å‡ºã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„æ§åˆ¶æµæ¼”ç¤º</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let <span class="hljs-attr">x</span> = if <span class="hljs-literal">true</span> { <span class="hljs-number">1</span> } else { <span class="hljs-number">2</span> }<span class="hljs-comment">;</span>
    println!("{}", x)<span class="hljs-comment">;</span>
    for i in 0..3 { println!("{}", i)<span class="hljs-comment">; }</span>
    let mut <span class="hljs-attr">n</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    while n &lt; 3 { n += 1<span class="hljs-comment">; println!("{}", n); }</span>
    let mut <span class="hljs-attr">k</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    loop {
        k += 1<span class="hljs-comment">;</span>
        if <span class="hljs-attr">k</span> == <span class="hljs-number">2</span> { break<span class="hljs-comment">; }</span>
    }
    println!("{}", k)<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-17">4.3 match ä¸ if let / while let</h4>
<p>è®²è§£ï¼š<code>match</code> è¦è¦†ç›–æ‰€æœ‰å¯èƒ½åˆ†æ”¯ï¼›<code>if let</code>ã€<code>while let</code> ç®€åŒ–å¯¹ç‰¹å®šæ¨¡å¼çš„å¤„ç†ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„æ¨¡å¼æ¼”ç¤º</p>
<pre><code class="hljs language-scss" lang="scss">fn <span class="hljs-selector-tag">main</span>() {
    let v = <span class="hljs-built_in">Some</span>(<span class="hljs-number">1</span>);
    match v {
        <span class="hljs-built_in">Some</span>(n) if n &gt; <span class="hljs-number">0</span> =&gt; println!("positive"),
        <span class="hljs-built_in">Some</span>(_) =&gt; println!("non-positive"),
        <span class="hljs-attribute">None</span> =&gt; println!("none"),
    }
    if let <span class="hljs-built_in">Some</span>(n) = v { println!("{}", n); }

    let mut it = <span class="hljs-built_in">Some</span>(<span class="hljs-number">0</span>);
    while let <span class="hljs-built_in">Some</span>(n) = it {
        if n == <span class="hljs-number">2</span> { it = <span class="hljs-attribute">None</span>; } else { it = <span class="hljs-built_in">Some</span>(n + <span class="hljs-number">1</span>); }
        println!("{}", n);
    }
}
</code></pre>
<h4 data-id="heading-18">4.4 é—­åŒ…ä¸æ•è·</h4>
<p>è®²è§£ï¼šé—­åŒ…å¯è‡ªåŠ¨æ¨æ–­å‚æ•°ä¸è¿”å›ç±»å‹ï¼Œå¹¶æŒ‰éœ€ä»¥ä¸å¯å˜/å¯å˜/æŒ‰å€¼æ•è·ç¯å¢ƒå˜é‡ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„é—­åŒ…æ¼”ç¤º</p>
<pre><code class="hljs language-ini" lang="ini">fn main() {
    let mut <span class="hljs-attr">n</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    let mut <span class="hljs-attr">f</span> = |x: i32| { n += x<span class="hljs-comment">; n };</span>
    println!("{}", f(2))<span class="hljs-comment">;</span>
    println!("{}", f(3))<span class="hljs-comment">;</span>

    let <span class="hljs-attr">v</span> = vec![<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">;</span>
    let s: <span class="hljs-attr">i32</span> = v.iter().map(|x| x * <span class="hljs-number">2</span>).sum()<span class="hljs-comment">;</span>
    println!("{}", s)<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-19">äº”ã€æ¨¡å—ã€æ³›å‹ã€ç”Ÿå‘½å‘¨æœŸä¸å¹¶å‘</h3>
<h4 data-id="heading-20">5.1 æ¨¡å—ä¸åŒ…ç»“æ„</h4>
<p>è®²è§£ï¼š<code>mod</code> å®šä¹‰å­æ¨¡å—ï¼Œ<code>pub</code> å†³å®šå¯¹å¤–å¯è§æ€§ï¼›<code>use</code> ç®€åŒ–è·¯å¾„ï¼›äºŒè¿›åˆ¶ crate å…¥å£ä¸º <code>main.rs</code>ã€‚ç¤ºä¾‹ä»¥å†…è”æ¨¡å—å±•ç¤ºã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„æ¨¡å—æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">mod</span> utils {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">greet</span>(name: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> { <span class="hljs-built_in">format!</span>(<span class="hljs-string">"Hello, {}"</span>, name) }
}
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = utils::<span class="hljs-title function_ invoke__">greet</span>(<span class="hljs-string">"Rust"</span>);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s);
}
</code></pre>
<h4 data-id="heading-21">5.2 Trait ä¸æ³›å‹</h4>
<p>è®²è§£ï¼šTrait æè¿°è¡Œä¸ºæ¥å£ï¼›æ³›å‹ç»“åˆ trait bounds å®ç°çº¦æŸï¼›é›¶æˆæœ¬æŠ½è±¡é¿å…è¿è¡Œæ—¶å¼€é”€ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„ trait ä¸æ³›å‹æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Area</span> { <span class="hljs-keyword">fn</span> <span class="hljs-title function_">area</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f64</span>; }
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Circle</span> { r: <span class="hljs-type">f64</span> }
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Rect</span> { w: <span class="hljs-type">f64</span>, h: <span class="hljs-type">f64</span> }
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Area</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Circle</span> { <span class="hljs-keyword">fn</span> <span class="hljs-title function_">area</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f64</span> { <span class="hljs-number">3.14159</span> * <span class="hljs-keyword">self</span>.r * <span class="hljs-keyword">self</span>.r } }
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Area</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Rect</span> { <span class="hljs-keyword">fn</span> <span class="hljs-title function_">area</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">f64</span> { <span class="hljs-keyword">self</span>.w * <span class="hljs-keyword">self</span>.h } }
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">sum</span>&lt;T: std::ops::Add&lt;Output=T&gt; + <span class="hljs-built_in">Copy</span>&gt;(a: T, b: T) <span class="hljs-punctuation">-&gt;</span> T { a + b }
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">print_area</span>&lt;T: Area&gt;(s: &amp;T) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s.<span class="hljs-title function_ invoke__">area</span>()); }

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">c</span> = Circle { r: <span class="hljs-number">2.0</span> };
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">r</span> = Rect { w: <span class="hljs-number">3.0</span>, h: <span class="hljs-number">4.0</span> };
    <span class="hljs-title function_ invoke__">print_area</span>(&amp;c);
    <span class="hljs-title function_ invoke__">print_area</span>(&amp;r);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-title function_ invoke__">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-title function_ invoke__">sum</span>(<span class="hljs-number">1.5</span>, <span class="hljs-number">2.5</span>));
}
</code></pre>
<h4 data-id="heading-22">5.3 ç”Ÿå‘½å‘¨æœŸ</h4>
<p>è®²è§£ï¼šç”Ÿå‘½å‘¨æœŸå‚æ•°å£°æ˜å¼•ç”¨è‡³å°‘å­˜æ´»åˆ°è¿”å›å€¼ä½¿ç”¨å®Œï¼›ç¼–è¯‘å™¨å€ŸåŠ©çœç•¥è§„åˆ™è‡ªåŠ¨æ¨æ–­å¤šæ•°åœºæ™¯ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸæ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">longest</span>&lt;<span class="hljs-symbol">'a</span>&gt;(x: &amp;<span class="hljs-symbol">'a</span> <span class="hljs-type">str</span>, y: &amp;<span class="hljs-symbol">'a</span> <span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> &amp;<span class="hljs-symbol">'a</span> <span class="hljs-type">str</span> {
    <span class="hljs-keyword">if</span> x.<span class="hljs-title function_ invoke__">len</span>() &gt; y.<span class="hljs-title function_ invoke__">len</span>() { x } <span class="hljs-keyword">else</span> { y }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">a</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"abcd"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"xyz"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">r</span> = <span class="hljs-title function_ invoke__">longest</span>(&amp;a, &amp;b);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, r);
}
</code></pre>
<h4 data-id="heading-23">5.4 é›†åˆä¸è¿­ä»£å™¨</h4>
<p>è®²è§£ï¼šé›†åˆä½äºæ ‡å‡†åº“ï¼›è¿­ä»£å™¨é“¾æ”¯æŒæƒ°æ€§è®¡ç®—ä¸ç»„åˆæ“ä½œï¼›<code>HashMap</code> æä¾›é”®å€¼å­˜å‚¨ä¸å€Ÿç”¨è®¿é—®ã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„é›†åˆä¸è¿­ä»£å™¨æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::collections::HashMap;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">v</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">even_sum</span>: <span class="hljs-type">i32</span> = v.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">filter</span>(|n| *n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>).<span class="hljs-title function_ invoke__">sum</span>();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, even_sum);

    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">m</span> = HashMap::<span class="hljs-title function_ invoke__">new</span>();
    m.<span class="hljs-title function_ invoke__">insert</span>(<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>);
    m.<span class="hljs-title function_ invoke__">insert</span>(<span class="hljs-string">"b"</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(x) = m.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"a"</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, x); }
    <span class="hljs-title function_ invoke__">for</span> (k, v) <span class="hljs-keyword">in</span> &amp;m { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{} {}"</span>, k, v); }
}
</code></pre>
<h4 data-id="heading-24">5.5 æ™ºèƒ½æŒ‡é’ˆä¸å¹¶å‘</h4>
<p>è®²è§£ï¼š<code>Rc&lt;T&gt;</code> åœ¨å•çº¿ç¨‹ä¸­å®ç°å…±äº«æ‰€æœ‰æƒï¼›å¹¶å‘ä¸‹ç”¨ <code>Arc&lt;T&gt;</code> æä¾›åŸå­å¼•ç”¨è®¡æ•°ï¼Œæ­é… <code>Mutex&lt;T&gt;</code> è¿›è¡Œäº’æ–¥è®¿é—®ï¼›çº¿ç¨‹é€šè¿‡ <code>spawn</code> åˆ›å»ºå¹¶åœ¨ <code>join</code> ç­‰å¾…å®Œæˆã€‚</p>
<p>ç¤ºä¾‹ï¼šå®Œæ•´å¯æ‰§è¡Œçš„æ™ºèƒ½æŒ‡é’ˆä¸å¹¶å‘æ¼”ç¤º</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::rc::Rc;
<span class="hljs-keyword">use</span> std::sync::{Arc, Mutex};
<span class="hljs-keyword">use</span> std::thread;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">a</span> = Rc::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"x"</span>));
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b</span> = Rc::<span class="hljs-title function_ invoke__">clone</span>(&amp;a);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{} {}"</span>, a, b);

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">c</span> = Arc::<span class="hljs-title function_ invoke__">new</span>(Mutex::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">0</span>));
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">handles</span> = <span class="hljs-built_in">vec!</span>[];
    <span class="hljs-keyword">for</span> <span class="hljs-variable">_</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">4</span> {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">c2</span> = Arc::<span class="hljs-title function_ invoke__">clone</span>(&amp;c);
        handles.<span class="hljs-title function_ invoke__">push</span>(thread::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">move</span> || {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">n</span> = c2.<span class="hljs-title function_ invoke__">lock</span>().<span class="hljs-title function_ invoke__">unwrap</span>();
            *n += <span class="hljs-number">1</span>;
        }));
    }
    <span class="hljs-keyword">for</span> <span class="hljs-variable">h</span> <span class="hljs-keyword">in</span> handles { h.<span class="hljs-title function_ invoke__">join</span>().<span class="hljs-title function_ invoke__">unwrap</span>(); }
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, *c.<span class="hljs-title function_ invoke__">lock</span>().<span class="hljs-title function_ invoke__">unwrap</span>());
}
</code></pre>
<h4 data-id="heading-25">5.6 ä»£ç è´¨é‡ä¸æµ‹è¯•</h4>
<p>è®²è§£ï¼š<code>cargo fmt</code> ç»Ÿä¸€ä»£ç é£æ ¼ï¼›<code>cargo clippy</code> é™æ€è¯Šæ–­å»ºè®®ï¼›æµ‹è¯•æ¡†æ¶å†…ç½®ï¼Œä½¿ç”¨ <code>#[test]</code> æ ‡è®°ã€‚</p>
<p>ç¤ºä¾‹ï¼šåœ¨åŒä¸€æ–‡ä»¶ä¸­åŒ…å«æµ‹è¯•ä¸å¯æ‰§è¡Œå…¥å£</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[cfg(test)]</span>
<span class="hljs-keyword">mod</span> tests {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">add</span>(a: <span class="hljs-type">i32</span>, b: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> { a + b }
    <span class="hljs-meta">#[test]</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">it_works</span>() { <span class="hljs-built_in">assert_eq!</span>(<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>), <span class="hljs-number">4</span>); }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"run `cargo test` to execute tests"</span>);
}
</code></pre>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">cargo <span class="hljs-built_in">fmt</span>
cargo clippy
cargo <span class="hljs-built_in">test</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾ç¨‹ 6X å¸¸è§ kernel panic é—®é¢˜]]></title>    <link>https://juejin.cn/post/7572413448942075931</link>    <guid>https://juejin.cn/post/7572413448942075931</guid>    <pubDate>2025-11-14T14:14:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572413448942075931" data-draft-id="7572434032517595182" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾ç¨‹ 6X å¸¸è§ kernel panic é—®é¢˜"/> <meta itemprop="keywords" content="ç®—æ³•,è‡ªåŠ¨é©¾é©¶"/> <meta itemprop="datePublished" content="2025-11-14T14:14:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœ°å¹³çº¿å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032132567"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾ç¨‹ 6X å¸¸è§ kernel panic é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032132567/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœ°å¹³çº¿å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T14:14:13.000Z" title="Fri Nov 14 2025 14:14:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. æ¦‚è¿°</h2>
<p>kernel panic åŒ…å«äº†å¤šç§å†…æ ¸å¼‚å¸¸ç±»å‹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šç©ºæŒ‡é’ˆ/å¼‚å¸¸æŒ‡é’ˆã€HungTaskã€RCU Stallã€softlockupã€hardlockupã€OOMã€BUG_ONã€‚</p>
<p>ä¸‹å›¾æ˜¯å„ç§ç±»å‹ panic çš„è·¯å¾„ï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=MjlhY2IyYTQxYmJjZjk3NmIxM2VlODc0MmNiZWI2YmJfZUxZZVl6U0JHNGpXZWtadDdTVE55ZGM2cXk1d3JSZDJfVG9rZW46U2szd2J1S2Zkb0Nvem14WDBXeWNFOEQ0bmpjXzE3NjMxMjk0NTA6MTc2MzEzMzA1MF9WNA" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2. é€šç”¨æ–¹æ³•</h2>
<ol>
<li>kpanic ç±»å¼‚å¸¸å‡ä¸º kernel è½¯ä»¶å¯æ„ŸçŸ¥åˆ°çš„å¼‚å¸¸ï¼Œ kernel å®Œæˆ panic æµç¨‹åä¼šç”± bl31 å®Œæˆä¸€æ¬¡ WarmResetï¼Œæ‰€ä»¥æ‰€æœ‰ panic ç°åœºæˆ‘ä»¬éƒ½æ˜¯èƒ½å¤Ÿæ‹¿åˆ° pstore log çš„ã€‚</li>
<li>ç”±äºæ˜¯è½¯ä»¶å¼‚å¸¸ï¼Œæ‰€ä»¥ pstore ä¸­éƒ½èƒ½çœ‹åˆ°å¼‚å¸¸è°ƒç”¨æ ˆã€å¯„å­˜å™¨ç­‰ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯å°±å¯ä»¥åˆæ­¥åˆ†æ 70% çš„é—®é¢˜ã€‚</li>
<li>BUG_ON ç±»æ˜¯è½¯ä»¶ä¸»åŠ¨è§¦å‘çš„ panicï¼Œæ‰€ä»¥ç›´æ¥æ£€æŸ¥ä»£ç é€»è¾‘å³å¯ã€‚</li>
<li>å¯¹äºä¸€äº›ä¾èµ–äºæ—¶åºæœ€ç»ˆäº§ç”Ÿçš„ panic é—®é¢˜ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥åŠ  log æˆ– ftrace è¿›è¡Œå¤ç°ï¼Œä»¥è·Ÿè¸ªæ—¶åºï¼ˆç«äº‰ç±»ï¼‰å¼•å‘çš„å¼‚å¸¸ã€‚</li>
<li>å¯¹äºå¤æ‚çš„ panic é—®é¢˜ï¼Œè¿˜éœ€è¦å¼€å¯ ramdump åŠŸèƒ½ï¼ŒæŠ“å– dump è¿›è¡Œåˆ†æã€‚</li>
</ol>
<h2 data-id="heading-2">3. å…¸å‹é—®é¢˜</h2>
<h4 data-id="heading-3">3.1. å¼‚å¸¸æŒ‡é’ˆè®¿é—®</h4>
<p>æ­¤ç±»é—®é¢˜ä»£è¡¨å†…æ ¸ä¸­è®¿é—®äº†ä¸€ä¸ªç©ºæŒ‡é’ˆã€æœªæ˜ å°„ã€æ²¡æœ‰æƒé™çš„åœ°å€ç©ºé—´ï¼Œå¯¼è‡´è§¦å‘ mem abortã€‚</p>
<ul>
<li>ä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">&lt;4&gt;[ 1486.084782] CPU: 0 PID: 0 Comm: swapper/0 Tainted: P O 6.1.134-rt51-04836-g0b3e5cbe5431 #13
&lt;4&gt;[ 1486.090809] Hardware name: Horizon AI Technologies, Inc. HOBOT Sigi-P Matrix (DT)
&lt;4&gt;[ 1486.091730] pstate: 00400009 (nzcv daif +PAN -UAO -TCO BTYPE=--)
&lt;4&gt;[ 1486.092492] pc : <span class="hljs-strong">__memcpy+0x48/0x180
&lt;4&gt;[ 1486.092953] lr : kfifo<span class="hljs-emphasis">_copy_</span>in+0x68/0x94
&lt;4&gt;[ 1486.093456] sp : ffff8000124cbd40
&lt;4&gt;[ 1486.093876] pmr<span class="hljs-emphasis">_save: 000000e0
&lt;4&gt;[ 1486.094265] x29: ffff8000124cbd40 x28: ffff0001950ae200
&lt;4&gt;[ 1486.094942] x27: ffff0001765b8800 x26: 0000000000000000
&lt;4&gt;[ 1486.095619] x25: 0000000000000340 x24: 0000000000000018
&lt;4&gt;[ 1486.096295] x23: 00000000f97f0681 x22: ffff8000124cbe18
&lt;4&gt;[ 1486.096970] x21: ffff0001950ae280 x20: 00000000ffff0001
&lt;4&gt;[ 1486.097646] x19: 00000000f97f0681 x18: 0000000000000000
&lt;4&gt;[ 1486.098321] x17: 0000000000000000 x16: 0000000000000000
&lt;4&gt;[ 1486.098997] x15: 000000000000000a x14: 0000000035693bc0
&lt;4&gt;[ 1486.099672] x13: ffff800011feecd1 x12: ffffffffffffffff
&lt;4&gt;[ 1486.100348] x11: ffffffffffffffff x10: 0000000000000020
&lt;4&gt;[ 1486.101024] x9 : ffff800011feecbc x8 : 0000000005f5e100
&lt;4&gt;[ 1486.101699] x7 : ffff00027ee2f8b8 x6 : 00000001239ae000
&lt;4&gt;[ 1486.102376] x5 : ffff0001950ae280 x4 : 0000000000000008
&lt;4&gt;[ 1486.103052] x3 : 0000000100000025 x2 : 00000000f97f0679
&lt;4&gt;[ 1486.103728] x1 : ffff8000124cbe20 x0 : 00000001239ae000
&lt;4&gt;[ 1486.104405] Call trace:
&lt;4&gt;[ 1486.104717] _</span><span class="hljs-emphasis">_memcpy+0x48/0x180
&lt;4&gt;[ 1486.105133] _</span><span class="hljs-emphasis">_kfifo_</span>in+0x3c/0x5c
&lt;4&gt;[ 1486.105558] bpu<span class="hljs-emphasis">_core_</span>tasklet+0x1b0/0x300 [bpu<span class="hljs-emphasis">_cores]
&lt;4&gt;[ 1486.106214] tasklet_</span>action<span class="hljs-emphasis">_common.isra.0+0x90/0xd4
&lt;4&gt;[ 1486.106837] tasklet_</span>action+0x28/0x34
&lt;4&gt;[ 1486.107306] <span class="hljs-emphasis">_stext+0x1e0/0x220
&lt;4&gt;[ 1486.107709] _</span><span class="hljs-emphasis">_irq_</span>exit<span class="hljs-emphasis">_rcu+0x80/0xd0
&lt;6&gt;[<span class="hljs-string"> 1486.107789</span>] [<span class="hljs-string">S1</span>][<span class="hljs-symbol">V0</span>]subdev_</span>balance<span class="hljs-emphasis">_lost_</span>next<span class="hljs-emphasis">_frame lost_</span>this = 0x1, lost<span class="hljs-emphasis">_next = 0x1,
&lt;6&gt;[<span class="hljs-string"> 1486.107803</span>] [<span class="hljs-string">S2</span>][<span class="hljs-symbol">V0</span>]subdev_</span>balance<span class="hljs-emphasis">_lost_</span>next<span class="hljs-emphasis">_frame lost_</span>this = 0x1, lost<span class="hljs-emphasis">_next = 0x1,
&lt;6&gt;[<span class="hljs-string"> 1486.107813</span>] [<span class="hljs-string">S3</span>][<span class="hljs-symbol">V0</span>]subdev_</span>balance<span class="hljs-emphasis">_lost_</span>next<span class="hljs-emphasis">_frame lost_</span>this = 0x1, lost<span class="hljs-emphasis">_next = 0x1,
&lt;6&gt;[<span class="hljs-string"> 1486.107827</span>] [<span class="hljs-string">S0</span>][<span class="hljs-symbol">V0</span>]subdev_</span>balance<span class="hljs-emphasis">_lost_</span>next<span class="hljs-emphasis">_frame lost_</span>this = 0x0, lost<span class="hljs-emphasis">_next = 0x1,
&lt;6&gt;[<span class="hljs-string"> 1486.107921</span>] [<span class="hljs-string">S4</span>][<span class="hljs-symbol">V0</span>]cim_</span>balance<span class="hljs-emphasis">_lost_</span>next<span class="hljs-emphasis">_frame lost_</span>this = 0x0, lost<span class="hljs-emphasis">_next = 0x1,
&lt;4&gt;[ 1486.108179] irq_</span>exit+0x10/0x20
&lt;4&gt;[ 1486.113403] __</span>handle<span class="hljs-emphasis">_domain_</span>irq+0x70/0xa0
&lt;4&gt;[ 1486.113928] gic<span class="hljs-emphasis">_handle_</span>irq+0x2d0/0x30c
&lt;4&gt;[ 1486.114419] el1<span class="hljs-emphasis">_irq+0xcc/0x180
&lt;4&gt;[ 1486.114822] arch_</span>cpu<span class="hljs-emphasis">_idle+0x30/0x38
&lt;4&gt;[ 1486.115278] default_</span>idle<span class="hljs-emphasis">_call+0x30/0x3c
&lt;4&gt;[ 1486.115779] do_</span>idle+0x130/0x258
&lt;4&gt;[ 1486.116194] cpu<span class="hljs-emphasis">_startup_</span>entry+0x24/0x54
&lt;4&gt;[ 1486.116695] rest<span class="hljs-emphasis">_init+0xd4/0xe4
&lt;4&gt;[ 1486.117108] arch_</span>call<span class="hljs-emphasis">_rest_</span>init+0x10/0x1c
&lt;4&gt;[ 1486.117631] start<span class="hljs-emphasis">_kernel+0x6f0/0x734
</span></code></pre>
<ol>
<li>è¿™ç±»é—®é¢˜ï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹åˆ° mem abort çš„ CPU è°ƒç”¨æ ˆï¼Œæ‰€ä»¥é©¬ä¸Šå°±èƒ½å¤Ÿå®šä½æ˜¯å“ªä¸ªå‡½æ•°è®¿é—®çš„å¼‚å¸¸åœ°å€ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°æ¯”è¾ƒç®€å•ï¼Œä¹Ÿå°±èƒ½å¤Ÿå¾ˆå¿«å®šä½åˆ°æ˜¯å“ªä¸ªå˜é‡çš„ç©ºæŒ‡é’ˆè®¿é—®ã€‚</li>
<li>å¦‚æœå‡½æ•°æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ gdbï¼Œaddr2line ç­‰å·¥å…·é…åˆç¬¦å·è¡¨è¿›è¡Œæ±‡ç¼–åˆ†æå®šä½ä»£ç ä½ç½®ï¼Œé€šè¿‡åç§»ç¡®è®¤å˜é‡ã€‚</li>
<li>ç¡®è®¤å¼‚å¸¸æŒ‡é’ˆçš„å˜é‡å’Œæ¥æºåï¼Œæœ‰å¯èƒ½æ˜¯ä¸‹é¢çš„åŸå› å¯¼è‡´çš„é”™è¯¯ï¼š</li>
</ol>
<blockquote>
<ol>
<li>æ£€æŸ¥è°ƒç”¨æ ˆä»£ç ï¼Œä»ä¸šåŠ¡/è°ƒç”¨é€»è¾‘ä¸Šçœ‹æ˜¯å¦å­˜åœ¨å¼•å…¥é”™è¯¯æŒ‡é’ˆæƒ…å†µã€‚</li>
<li>æ£€æŸ¥å¯¹åº”å˜é‡ç›¸å…³ä»£ç é€»è¾‘ï¼Œè€ƒè™‘æ˜¯å¦å¯èƒ½å­˜åœ¨ç«äº‰é£é™©ã€‚</li>
<li>å¦‚æœå¼‚å¸¸åœ°å€æ²¡æœ‰å‘ç°ç«äº‰æˆ–å¼•å…¥é”™è¯¯çš„å¯èƒ½ï¼Œè€ƒè™‘æ˜¯å¦æ˜¯è¢«è¸©è¸ï¼Œå‚è€ƒ memory correcption èŠ‚ã€‚</li>
<li>æ£€æŸ¥è®¾å¤‡æ˜¯å¦å­˜åœ¨éšæœº crash çš„æƒ…å†µï¼Œè®¾å¤‡æ˜¯å¦æœ‰å•ä½“é—®é¢˜ï¼Œå¦‚æœå¤šè®¾å¤‡å­˜åœ¨éšæœº crashï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ DDR è½¯/ç¡¬ä»¶é…ç½®é—®é¢˜ã€‚</li>
</ol>
</blockquote>
<h4 data-id="heading-4">3.2. HungTask</h4>
<p>khungtaskd æ˜¯å†…æ ¸å¯¹ D çŠ¶æ€çš„è¿›ç¨‹è¿›è¡Œæ‰«æçš„å†…æ ¸çº¿ç¨‹ï¼Œå½“å†…æ ¸æŸè¿›ç¨‹/çº¿ç¨‹é•¿æœŸå¤„äº D çŠ¶æ€ï¼Œhungtask å°±ä¼šè¢«è§¦å‘ï¼Œåœ¨å¾ç¨‹ 6 çš„ç³»ç»Ÿä¸­ï¼Œhungtask è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 120sï¼Œä¸” CONFIG_BOOTPARAM_HUNG_TASK_PANIC_VALUE=1ï¼Œæ•…å½“ hungtask æ£€æµ‹åˆ°æœ‰è¿›ç¨‹å¤„äº D çŠ¶æ€è¶…è¿‡ 120s åå°±ä¼šç›´æ¥è§¦å‘ panicã€‚</p>
<ul>
<li>ä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">[ 605.147501] INFO: task ipi7<span class="hljs-emphasis">_thread:3826 blocked for more than 120 seconds.
[ 605.147532] Tainted: P O 6.1.134-rt51-04836-g0b3e5cbe5431 #13[ 605.147538] "echo 0 &gt; /proc/sys/kernel/hung_</span>task<span class="hljs-emphasis">_timeout_</span>secs" disables this message.
[ 605.147543] task:ipi7<span class="hljs-emphasis">_thread state:D stack: 0 pid: 3826 ppid: 2 flags:0x00000028
[ 605.147559] Call trace:
[ 605.147562] <span class="hljs-strong">__switch_to+0xf8/0x160
[ 605.147583] __</span>schedule+0x268/0x800
[ 605.147594] schedule+0x84/0xf8
[<span class="hljs-string"> 605.147602</span>] cimdma_</span>swap<span class="hljs-emphasis">_buffer+0x244/0x338 [<span class="hljs-string">hobot_cim_dma</span>][<span class="hljs-symbol"> 605.147631</span>] kthread+0x160/0x188
[ 605.147640] ret_</span>from<span class="hljs-emphasis">_fork+0x10/0x18
[ 605.147649] INFO: task ipi4_</span>thread:3830 blocked for more than 120 seconds.
[ 605.147654] Tainted: P O 6.1.134-rt51-04836-g0b3e5cbe5431 #13[ 605.147658] "echo 0 &gt; /proc/sys/kernel/hung<span class="hljs-emphasis">_task_</span>timeout<span class="hljs-emphasis">_secs" disables this message.
[ 605.147661] task:ipi4_</span>thread state:D stack: 0 pid: 3830 ppid: 2 flags:0x00000028
[ 605.147669] Call trace:
[ 605.147671] <span class="hljs-strong">__switch<span class="hljs-emphasis">_to+0xf8/0x160
[ 605.147678] _</span><span class="hljs-emphasis">_schedule+0x268/0x800
[ 605.147685] schedule+0x84/0xf8
[<span class="hljs-string"> 605.147692</span>] cimdma_</span>swap<span class="hljs-emphasis">_buffer+0x244/0x338 [<span class="hljs-string">hobot_cim_dma</span>][<span class="hljs-symbol"> 605.147710</span>] kthread+0x160/0x188
[ 605.147716] ret_</span>from<span class="hljs-emphasis">_fork+0x10/0x18
[ 605.147723] INFO: task ipi6_</span>thread:3831 blocked for more than 120 seconds.
[ 605.147728] Tainted: P O 6.1.134-rt51-04836-g0b3e5cbe5431 #13[ 605.147732] "echo 0 &gt; /proc/sys/kernel/hung<span class="hljs-emphasis">_task_</span>timeout<span class="hljs-emphasis">_secs" disables this message.
[ 605.147735] task:ipi6_</span>thread state:D stack: 0 pid: 3831 ppid: 2 flags:0x00000028
[ 605.147743] Call trace:
[ 605.147745] __</span>switch<span class="hljs-emphasis">_to+0xf8/0x160
[ 605.147751] <span class="hljs-strong">__schedule+0x268/0x800
[ 605.147758] schedule+0x84/0xf8
[<span class="hljs-string"> 605.147765</span>] cimdma_swap_buffer+0x244/0x338 [<span class="hljs-string">hobot_cim_dma</span>][<span class="hljs-symbol"> 605.147783</span>] kthread+0x160/0x188
[ 605.147789] ret_from_fork+0x10/0x18
[ 605.147796] INFO: task ipi5_thread:3832 blocked for more than 120 seconds.
[ 605.147801] Tainted: P O 6.1.134-rt51-04836-g0b3e5cbe5431 #13[ 605.147805] "echo 0 &gt; /proc/sys/kernel/hung_task_timeout_secs" disables this message.
[ 605.147808] task:ipi5_thread state:D stack: 0 pid: 3832 ppid: 2 flags:0x00000028
[ 605.147816] Call trace:
[ 605.147818] __</span>switch_</span>to+0xf8/0x160
[ 605.147824] <span class="hljs-strong">__schedule+0x268/0x800
[ 605.147831] schedule+0x84/0xf8
[<span class="hljs-string"> 605.147838</span>] cimdma<span class="hljs-emphasis">_swap_</span>buffer+0x244/0x338 [<span class="hljs-string">hobot_cim_dma</span>][<span class="hljs-symbol"> 605.147856</span>] kthread+0x160/0x188
[ 605.147862] ret<span class="hljs-emphasis">_from_</span>fork+0x10/0x18
</span></code></pre>
<ol>
<li>è¿™ç±»é—®é¢˜ï¼Œkhungtaskd è¿›ç¨‹ä¼šåœ¨è§¦å‘ crash å‰ï¼Œå°†é•¿æ—¶é—´ D çŠ¶æ€çš„è¿›ç¨‹æ ˆéƒ½è¾“å‡ºå‡ºæ¥ï¼Œæ‰€ä»¥åœ¨ pstore ä¸­èƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°å¯¹åº”çš„è°ƒç”¨ä¿¡æ¯ã€‚</li>
<li>å¯¹äºé©±åŠ¨ä¸­é•¿æ—¶é—´å¤„äº D çŠ¶æ€ï¼Œä¸€èˆ¬æ˜¯ç”±äºåœ¨ç­‰å¾…çš„èµ„æºæ— æ³•è·å–ï¼Œéœ€è¦åˆ†æä¸šåŠ¡æµç¨‹ï¼Œå¯¹äºæ—¶é—´ä¸å¯é¢„æœŸçš„èµ„æºï¼Œå¯ä»¥ä½¿ç”¨*_interruable æ—ã€æˆ–*_timout æ—å‡½æ•°è¿›è¡Œä¼˜åŒ–ã€‚</li>
<li>å¦ä¸€ç±»ç”±äºæ­»é”å¯¼è‡´çš„ hungtaskï¼Œéœ€è¦ä»£ç åˆ†ææ­»é”çš„æ ¹æºï¼Œå¯ä»¥æ ¹æ® log ä¸­è¾“å‡ºçš„æ‰€æœ‰ D çŠ¶æ€è¿›ç¨‹æ ˆå’Œ running è¿›ç¨‹æ ˆè¿›è¡Œç»¼åˆåˆ†æï¼Œå¯¹äºå¤§é‡ D çŠ¶æ€è¿›ç¨‹çš„å¤æ‚æ­»é”é—®é¢˜ï¼Œåªèƒ½æŠ“å– ramdump å»åˆ†æäº†ã€‚</li>
</ol>
<h4 data-id="heading-5">3.3. RCU Stall</h4>
<p>RCUï¼ˆRead-Copy-Updateï¼‰ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯è¯»-æ‹·è´ä¿®æ”¹ï¼Œå®ƒæ˜¯åŸºäºå…¶åŸç†å‘½åçš„ã€‚å¯¹äºè¢« RCU ä¿æŠ¤çš„å…±äº«æ•°æ®ç»“æ„ï¼Œè¯»è€…ä¸éœ€è¦è·å¾—ä»»ä½•é”å°±å¯ä»¥è®¿é—®å®ƒï¼Œä½†å†™è€…åœ¨è®¿é—®å®ƒæ—¶é¦–å…ˆæ‹·è´ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åå¯¹å‰¯æœ¬è¿›è¡Œä¿®æ”¹ï¼Œæœ€åä½¿ç”¨ä¸€ä¸ªå›è°ƒï¼ˆcallbackï¼‰æœºåˆ¶åœ¨é€‚å½“çš„æ—¶æœºæŠŠæŒ‡å‘åŸæ¥æ•°æ®çš„æŒ‡é’ˆæ›¿æ¢ä¸ºæ–°çš„è¢«ä¿®æ”¹çš„æ•°æ®ã€‚</p>
<p>é‡Šæ”¾åŸæ¥èµ„æºçš„å·¥ä½œç”± RCU è½¯ä¸­æ–­å’Œ rcu çº¿ç¨‹è´Ÿè´£ï¼ŒRCU Stall åœ¨ tick ä¸­æ–­ä¸­æ£€æŸ¥ï¼Œå½“è´Ÿè´£é‡Šæ”¾çº¿ç¨‹ä¸€ç›´æœªæ‰§è¡Œèµ·æ¥ï¼ˆRCU Stall timeout æ—¶é—´ä¸º 30sï¼‰ï¼Œå°±ä¼šå‡ºç° RCU Stall panicã€‚</p>
<ul>
<li>ä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">&lt;3&gt;[122235.050769] rcu: INFO: rcu<span class="hljs-emphasis">_preempt detected stalls on CPUs/tasks:
&lt;3&gt;[122235.050778] rcu: Tasks blocked on level-0 rcu_</span>node (CPUs 0-5):
&lt;4&gt;[122235.050789] (detected by 4, t=7502 jiffies, g=34171837, q=56419)
&lt;3&gt;[122235.050796] rcu: All QSes seen, last rcu<span class="hljs-emphasis">_preempt kthread activity 1 (4325451296-4325451295), jiffies_</span>till<span class="hljs-emphasis">_next_</span>fqs=1, root -&gt;qsmask 0x0
&lt;0&gt;[122235.050805] Kernel panic - not syncing:
&lt;4&gt;[122235.050809] RCU Stall
&lt;4&gt;[122235.050813] CPU: 4 PID: 0 Comm: swapper/4 Tainted: P O 6.1.134-rt51-04836-g0b3e5cbe5431 #13
&lt;4&gt;[122235.050822] Hardware name: Horizon AI Technologies, Inc. HOBOT Sigi-P Matrix (DT)
&lt;4&gt;[122235.050828] Call trace:
&lt;4&gt;[122235.050830] dump<span class="hljs-emphasis">_backtrace+0x0/0x1cc
&lt;4&gt;[122235.050846] show_</span>stack+0x18/0x24
&lt;4&gt;[122235.050853] dump<span class="hljs-emphasis">_stack+0xcc/0x12c
&lt;4&gt;[122235.050863] panic+0xcc/0x344
&lt;4&gt;[122235.050870] panic_</span>on<span class="hljs-emphasis">_rcu_</span>stall+0x24/0x28
&lt;4&gt;[122235.050881] rcu<span class="hljs-emphasis">_sched_</span>clock<span class="hljs-emphasis">_irq+0x830/0x900
&lt;4&gt;[122235.050889] update_</span>process<span class="hljs-emphasis">_times+0x60/0x88
&lt;4&gt;[122235.050898] tick_</span>sched<span class="hljs-emphasis">_handle.isra.0+0x50/0x68
&lt;4&gt;[122235.050907] tick_</span>sched<span class="hljs-emphasis">_timer+0x4c/0x90
&lt;4&gt;[122235.050914] <span class="hljs-strong">__hrtimer_run_queues+0x108/0x19c
&lt;4&gt;[122235.050922] hrtimer_interrupt+0xb0/0x1b8
&lt;4&gt;[122235.050930] arch_timer_handler_phys+0x2c/0x44
&lt;4&gt;[122235.050940] handle_percpu_devid_irq+0x5c/0x104
&lt;4&gt;[122235.050951] generic_handle_irq+0x24/0x3c
&lt;4&gt;[122235.050958] __</span>handle_</span>domain<span class="hljs-emphasis">_irq+0x9c/0xa0
&lt;4&gt;[122235.050965] gic_</span>handle<span class="hljs-emphasis">_irq+0x2d0/0x30c
&lt;4&gt;[122235.050975] el1_</span>irq+0xcc/0x180
&lt;4&gt;[122235.050982] arch<span class="hljs-emphasis">_cpu_</span>idle+0x30/0x38
&lt;4&gt;[122235.050991] default<span class="hljs-emphasis">_idle_</span>call+0x30/0x3c
&lt;4&gt;[122235.050999] do<span class="hljs-emphasis">_idle+0x144/0x270
&lt;4&gt;[122235.051008] cpu_</span>startup<span class="hljs-emphasis">_entry+0x24/0x54
&lt;4&gt;[122235.051015] secondary_</span>start<span class="hljs-emphasis">_kernel+0x1a4/0x1bc
&lt;6&gt;[<span class="hljs-string">122236.028018</span>] [<span class="hljs-string">S0</span>][<span class="hljs-symbol">V0</span>]pym_</span>subdev<span class="hljs-emphasis">_stop
&lt;6&gt;[122236.028038] pym_</span>check<span class="hljs-emphasis">_stop_</span>state cnt 10 pym-&gt;irq<span class="hljs-emphasis">_status = 4
&lt;6&gt;[122236.046863] pym_</span>check<span class="hljs-emphasis">_exit_</span>state cnt 9 pym-&gt;irq<span class="hljs-emphasis">_status = 4
&lt;2&gt;[122236.061751] SMP: stopping secondary CPUs
&lt;0&gt;[122236.062276] Kernel Offset: disabled
&lt;0&gt;[122236.062730] CPU features: 0x0040426,2a00aa38
&lt;0&gt;[122236.063284] Memory Limit: none
</span></code></pre>
<p>æ‰€ä»¥ï¼Œå½“å‡ºç° RCU Stall é—®é¢˜ä¸€èˆ¬æ˜¯å‡ºç°äº†è°ƒåº¦é—®é¢˜ï¼š</p>
<ol>
<li>é•¿æ—¶é—´å…³é—­ç¡¬/è½¯ä¸­æ–­ã€ä¸­æ–­é£æš´ï¼ŒRCU è½¯ä¸­æ–­æ— æ³•æ‰§è¡Œã€‚</li>
<li>é•¿æ—¶é—´å…³é—­å¼ºå ã€‚</li>
<li>é«˜ä¼˜å…ˆçº§ RT è¿›ç¨‹å ç”¨ CPU å¯¼è‡´ rcu çº¿ç¨‹æ— æ³•æ‰§è¡Œã€‚</li>
<li>ç”±äº RT ç‰ˆæœ¬ä¸­è½¯ä¸­æ–­ç”± cfs:19 ä¼˜å…ˆçº§çš„ ksoftirqd è´Ÿè´£ï¼Œrcu è½¯ä¸­æ–­çš„å·¥ä½œå¯èƒ½è¢«å„ç§é«˜ä¼˜å…ˆçº§å¼ºå å¯¼è‡´è¶…æ—¶ã€‚</li>
<li>ä» RCU Stall çš„ log ä¸­èƒ½çœ‹åˆ°å‘ç”Ÿ Rcu Stall çš„æ ¸ï¼Œæ£€æŸ¥å¯¹åº” core ä¸Šè¿›ç¨‹ï¼ŒåŠè°ƒåº¦æƒ…å†µå®šä½é—®é¢˜ï¼Œè¿™ç§é—®é¢˜æœ€å¥½æ‰“å¼€ ftraceï¼Œæˆ–è€…è‡³å°‘æ‰“å¼€ CONFIG_SCHED_LOGGER æŠ“å–åˆ°å„æ ¸çš„è°ƒåº¦ä¿¡æ¯æ‰èƒ½æ›´å¿«çš„åˆ†æã€‚</li>
</ol>
<p>è§£å†³ RCU Stall é—®é¢˜çš„æ–¹æ¡ˆï¼š</p>
<ol>
<li>æ£€æŸ¥æ˜¯å¦å­˜åœ¨é«˜è´Ÿè½½çš„ RT è¿›ç¨‹ä¸€ç›´è¢«è°ƒç”¨ã€‚å¦‚æœå­˜åœ¨ï¼Œè¯·è¯„ä¼°æ˜¯å¦é™ä½ä¸ºé RT è¿›ç¨‹ï¼Œæˆ–è€…é™ä½ä¼˜å…ˆçº§ã€‚</li>
<li>è°ƒæ•´ RCU Stall Timeoutã€‚ä¿®æ”¹/sys/module/rcupdate/parameters/rcu_cpu_stall_timeoutã€‚</li>
<li>æ£€æŸ¥/proc/interrupts ä¸­æ‰€æœ‰ä¸­æ–­çš„æ¬¡æ•°ï¼Œæ’é™¤æ˜¯å¦æ˜¯ä¸­æ–­é£æš´å¯¼è‡´ã€‚</li>
</ol>
<p>å¦‚ä¸‹é¢çš„ evt_thread è¿›ç¨‹æ¯æ¬¡è°ƒåº¦éƒ½ä¼šå ç”¨ 1s æ—¶é—´ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">[122233.054801] [6] : swapper/6(0) -&gt; evt<span class="hljs-emphasis">_thread0(26886)
[122234.026784] [6] : evt_</span>thread0(26886) -&gt; swapper/6(0)
[122234.028451] [6] : swapper/6(0) -&gt; grep(14873)
[122234.028515] [6] : grep(14873) -&gt; swapper/6(0)
[122234.051471] [6] : swapper/6(0) -&gt; grep(14873)
[122234.051541] [6] : grep(14873) -&gt; swapper/6(0)
[122234.054793] [6] : swapper/6(0) -&gt; evt<span class="hljs-emphasis">_thread0(26886)
[122235.030776] [6] : evt_</span>thread0(26886) -&gt; swapper/6(0)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸åŒä¼ æ„Ÿå™¨å‰ä¸­åèåˆæ–¹æ¡ˆç®€ä»‹]]></title>    <link>https://juejin.cn/post/7572389069707132938</link>    <guid>https://juejin.cn/post/7572389069707132938</guid>    <pubDate>2025-11-14T14:25:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572389069707132938" data-draft-id="7572434032517644334" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸åŒä¼ æ„Ÿå™¨å‰ä¸­åèåˆæ–¹æ¡ˆç®€ä»‹"/> <meta itemprop="keywords" content="ç®—æ³•,è‡ªåŠ¨é©¾é©¶"/> <meta itemprop="datePublished" content="2025-11-14T14:25:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœ°å¹³çº¿å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032132567"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸åŒä¼ æ„Ÿå™¨å‰ä¸­åèåˆæ–¹æ¡ˆç®€ä»‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032132567/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœ°å¹³çº¿å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T14:25:43.000Z" title="Fri Nov 14 2025 14:25:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è‡ªåŠ¨é©¾é©¶åœºæ™¯ä¸‹ï¼Œæ‘„åƒå¤´ + æ¿€å…‰é›·è¾¾çš„ä¼ æ„Ÿå™¨èåˆæ–¹æ¡ˆæ˜¯æœ€å¸¸è§çš„æ„ŸçŸ¥æŠ€æœ¯è·¯çº¿ï¼Œç›®æ ‡æ˜¯å……åˆ†åˆ©ç”¨äºŒè€…çš„äº’è¡¥æ€§ï¼š</p>
<ul>
<li>æ‘„åƒå¤´ä¼˜åŠ¿ï¼šåˆ†è¾¨ç‡é«˜ã€çº¹ç†ä¸°å¯Œã€é¢œè‰²ä¿¡æ¯é½å…¨ï¼Œæœ‰åˆ©äºè¯†åˆ«è¯­ä¹‰ä¿¡æ¯ï¼ˆè½¦é“çº¿ã€äº¤é€šç¯ã€è¡Œäººç±»åˆ«ç­‰ï¼‰ã€‚</li>
<li>æ¿€å…‰é›·è¾¾ä¼˜åŠ¿ï¼šå¤©ç„¶åœ°å…·æœ‰æ·±åº¦ä¿¡æ¯ï¼Œç›´æ¥æµ‹å¾—é«˜ç²¾åº¦è·ç¦»å’Œç¨ å¯†ç‚¹äº‘ï¼Œæœ‰åˆ©äºæ„å»º 3D å‡ ä½•ç»“æ„å’Œæ£€æµ‹éšœç¢ç‰©ã€‚</li>
</ul>
<p>èåˆæ–¹å¼å¤§è‡´åˆ†ä¸ºä¸‰ç±»ï¼šå‰èåˆã€ä¸­èåˆã€åèåˆã€‚</p>
<h2 data-id="heading-0">1. å‰èåˆ</h2>
<p>å‰èåˆï¼Œæ˜¯æŒ‡æŠŠå„ä¸ªä¼ æ„Ÿå™¨çš„æ•°æ®é‡‡é›†åï¼Œç»è¿‡æ•°æ®åŒæ­¥åï¼Œå¯¹è¿™äº›åŸå§‹æ•°æ®è¿›è¡Œèåˆï¼Œå› æ­¤ä¹Ÿç§°ä¸ºæ•°æ®çº§èåˆã€‚å°†æ‘„åƒå¤´å›¾åƒä¸æ¿€å…‰é›·è¾¾ç‚¹äº‘åœ¨å‡ ä½•ç©ºé—´å¯¹é½ï¼Œä¾‹å¦‚æŠŠ 3D LiDAR ç‚¹äº‘æŠ•å½±åˆ° 2D å›¾åƒä¸Šï¼Œ ç„¶åæ£€æŸ¥ç‚¹äº‘æ˜¯å¦å±äº 2D è¾¹ç•Œæ¡†ã€‚å‰èåˆå±•ç¤ºå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=Mjc2YmVlOTFmMTIwMDEyNGRhNzUzNDg1NWYyYTBjNzhfaUw0c0hUYmdGOHpsUm9zT3Q3NnpnQUNEQXN2aExRZ2hfVG9rZW46QnV0Q2JpVTFHb0oxdFB4a0M4aGNoQndFbmhoXzE3NjMxMzAwNjA6MTc2MzEzMzY2MF9WNA" alt="" loading="lazy"/></p>
<p>å‰èåˆå¯ä»¥ä»æ•´ä½“ä¸Šæ¥å¤„ç†ä¿¡æ¯ï¼Œè®©æ•°æ®æ›´æ—©åšèåˆï¼Œæ•´ä½“å¤„ç†ä¿¡æ¯ï¼Œè®©æ•°æ®æ›´æœ‰å…³è”æ€§ï¼ŒæŠŠæ¿€å…‰é›·è¾¾ç‚¹äº‘å’Œæ‘„åƒå¤´åƒç´ çº§æ•°æ®è¿›è¡Œèåˆï¼Œä¿¡æ¯æŸå¤±æ¯”è¾ƒå°‘ï¼›ä½†å‰èåˆä¹Ÿä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚ï¼šç‚¹äº‘æ•°æ®å’Œåƒç´ æ•°æ®åæ ‡ç³»ä¸åŒï¼Œç›´æ¥èåˆæ•ˆæœå·®ï¼›éœ€è¦å¤„ç†çš„æ•°æ®é‡å¤§ï¼Œå¯¹ç®—åŠ›è¦æ±‚è¾ƒé«˜ï¼›å¯¹èåˆç­–ç•¥è¦æ±‚ä¹Ÿæ¯”è¾ƒé«˜ï¼Œç›®å‰ä¸šå†…åº”ç”¨çš„æ¯”è¾ƒå°‘ã€‚</p>
<h2 data-id="heading-1">2. åèåˆ</h2>
<p>åèåˆæ˜¯æŒ‡æ‘„åƒå¤´å’Œæ¿€å…‰é›·è¾¾ç­‰å„ä¼ æ„Ÿå™¨ç‹¬ç«‹å®Œæˆæ„ŸçŸ¥ä»»åŠ¡ï¼ˆå¦‚æ£€æµ‹ã€åˆ†å‰²ï¼‰ï¼Œæœ€ååœ¨ç»“æœå±‚é¢è¿›è¡Œèåˆï¼ˆå¦‚åŠ æƒï¼ŒIOU åŒ¹é…ç­‰ï¼‰ï¼Œå› æ­¤ä¹Ÿç§°ä¹‹ä¸ºç›®æ ‡çº§èåˆã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†æ‘„åƒå¤´çš„ 2D è¾¹ç•Œæ¡†æŠ•å½±åˆ° 3D è¾¹ç•Œæ¡†ï¼Œç„¶åå°†è¿™äº›è¾¹ç•Œæ¡†ä¸ LiDAR æ£€æµ‹è¿‡ç¨‹ä¸­è·å¾—çš„è¾¹ç•Œæ¡†è¿›è¡Œèåˆã€‚</p>
<p>åèåˆçš„ä¼˜ç‚¹æ˜¯ä¼ æ„Ÿå™¨ç‹¬ç«‹è¯†åˆ«ï¼Œè§£è€¦æ€§å¥½ï¼Œæ˜“äºæ‰©å±•ã€‚ç¼ºç‚¹æ˜¯ä¼šæŸå¤±ä¸­é—´ä¿¡æ¯å½±å“ç²¾åº¦ï¼›rule-based èåˆè§„åˆ™æœ‰å±€é™æ€§ï¼Œéš¾ä»¥å……åˆ†åˆ©ç”¨è·¨æ¨¡æ€äº’è¡¥ä¿¡æ¯ã€‚</p>
<p>åèåˆå±•ç¤ºå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTIwZTVjOTk3OTBjYzQ5MzNhYzQ5M2Y4YzUzYjVkMjdfOU16VTl0WVJzUDJ4ZWtxNkVTSUFuRUQ0aFZJYU1MdWlfVG9rZW46U1RLMGIwSlNkb2swcEx4ZjVVWGNrbVhObjdkXzE3NjMxMzAwNjA6MTc2MzEzMzY2MF9WNA" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">3. ä¸­èåˆ</h2>
<p>ä¸­èåˆï¼Œæ˜¯æŒ‡å…ˆå°†å„ä¸ªä¼ æ„Ÿå™¨é€šè¿‡ç¥ç»ç½‘ç»œæ¨¡å‹æå–ä¸­é—´å±‚ç‰¹å¾ï¼ˆå³æœ‰æ•ˆç‰¹å¾ï¼‰ï¼Œå†èåˆæœ‰æ•ˆä¸»è¦ç‰¹å¾ï¼Œä¹Ÿç§°ä¸ºç‰¹å¾çº§èåˆï¼Œå…¸å‹çš„æ˜¯å¯¹æœ‰æ•ˆç‰¹å¾åœ¨ BEV ç©ºé—´è¿›è¡Œèåˆã€‚ç›¸æ¯”äºå‰èåˆä¸åèåˆï¼Œåœ¨ BEV ç©ºé—´è¿›è¡Œä¸­èåˆæœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š</p>
<ol>
<li>è·¨æ‘„åƒå¤´èåˆå’Œå¤šæ¨¡èåˆæ›´å®¹æ˜“å®ç°ï¼Œå› ä¸ºç»Ÿä¸€äº†æ•°æ®ç©ºé—´ï¼Œä¸éœ€è¦å¤„ç†è§„åˆ™å…³è”ä¸åŒä¼ æ„Ÿå™¨çš„æ„ŸçŸ¥ç»“æœï¼Œç®—æ³•å®ç°æ›´åŠ ç®€å•ï¼›</li>
<li>å¯ä»¥å¾ˆå®¹æ˜“åœ°èåˆæ—¶åºä¿¡æ¯ï¼Œå½¢æˆ 4D ç©ºé—´ï¼Œæ„ŸçŸ¥ç½‘ç»œå¯ä»¥æ›´å¥½åœ°å®ç°ä¸€äº›æ„ŸçŸ¥ä»»åŠ¡ï¼Œå¦‚æµ‹é€Ÿç­‰ï¼›</li>
<li>å¯â€œè„‘è¡¥â€å‡ºè¢«é®æŒ¡åŒºåŸŸç›®æ ‡ï¼Œåœ¨ BEV ç©ºé—´ï¼Œç»™äºˆå…ˆéªŒçŸ¥è¯†ï¼Œå¯¹è¢«é®æŒ¡çš„åŒºåŸŸè¿›è¡Œé¢„æµ‹ï¼›</li>
<li>æ„ŸçŸ¥å’Œé¢„æµ‹åœ¨ç»Ÿä¸€ç©ºé—´ï¼ˆBEV ç©ºé—´ï¼‰å†…å®Œæˆï¼Œå¯ä»¥é€šè¿‡ç¥ç»ç½‘ç»œç›´æ¥åšç«¯åˆ°ç«¯ä¼˜åŒ–ï¼Œå¹¶è¡Œå‡ºç»“æœï¼Œæ—¢å¯ä»¥é¿å…è¯¯å·®ç´¯ç§¯ï¼Œä¹Ÿå¯ä»¥å‡å°‘äººå·¥é€»è¾‘ï¼Œè®©æ„ŸçŸ¥ç½‘ç»œé€šè¿‡æ•°æ®é©±åŠ¨çš„æ–¹å¼è‡ªå­¦ä¹ ï¼Œä»è€Œæ›´å¥½åœ°å®ç°åŠŸèƒ½è¿­ä»£ã€‚</li>
</ol>
<p>ç›®å‰ä½¿ç”¨æœ€å¤šçš„æ˜¯ä¸­èåˆæ–¹æ¡ˆã€‚</p>
<ol start="4">
<li>
<h2 data-id="heading-3">BEVFusion</h2>
</li>
</ol>
<p>BEVFusion æ˜¯å…¸å‹çš„ä¸­èåˆæ–¹æ³•ï¼Œå°†æ¥è‡ªç›¸æœºå’Œ LiDAR çš„åŸå§‹è¾“å…¥ç¼–ç åˆ°åŒä¸€ä¸ª BEV ç©ºé—´ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒBEVFusion ä¸»è¦ç”±ç›¸æœºæµã€æ¿€å…‰é›·è¾¾æµã€åŠ¨æ€èåˆæ¨¡å—å’Œæ£€æµ‹å¤´ç»„æˆï¼Œåˆ†åˆ«ç®€å•çœ‹ä¸‹</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=OGQ0N2RhMzA0MTY3MGRiNzc0ODU3YzA3ZmYzNzExNjBfcXBPZ0JlTHZKdWhHcklqWXU3TVBDZkF2eFA0a3NlNVVfVG9rZW46VGJxQWI4Nk5ob3VLRFl4ZkdDRWM5NzBRbm9nXzE3NjMxMzAwNjA6MTc2MzEzMzY2MF9WNA" alt="" loading="lazy"/></p>
<p>ç›¸æœºæµå°†å¤šè§†è§’å›¾åƒè½¬åˆ° BEV ç©ºé—´ï¼Œç”±å›¾åƒç¼–ç å™¨ã€è§†è§‰æŠ•å½±æ¨¡å—ã€BEV ç¼–ç å™¨ç»„æˆã€‚</p>
<p>å›¾åƒç¼–ç å™¨æ—¨åœ¨å°†è¾“å…¥å›¾åƒç¼–ç ä¸ºè¯­ä¹‰ä¿¡æ¯ä¸°å¯Œçš„æ·±åº¦ç‰¹å¾ï¼Œå®ƒç”±ç”¨äºåŸºæœ¬ç‰¹å¾æå–çš„ 2D backbone å’Œç”¨äºå¤šå°ºåº¦ç‰¹å¾æå–çš„ FPN ç»„æˆï¼Œå¹¶é‡‡ç”¨äº†ä¸€ä¸ªç®€å•çš„åŠŸèƒ½è‡ªé€‚åº”æ¨¡å— ADP æ¥å®Œå–„ä¸Šé‡‡æ ·åŠŸèƒ½ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=YjE3MTZkN2EwMDgzMjczYjA3OTVmZWJjZDcxYjgzM2ZfbUZGTzM5RjRNcE5MczVNbUpGWnAxYnQxNnJieWtsQ0NfVG9rZW46Q2ROa2I0VEw0bzR2MzV4OVlaQWNrV2E1bjNZXzE3NjMxMzAwNjA6MTc2MzEzMzY2MF9WNA" alt="" loading="lazy"/></p>
<p>è§†è§‰æŠ•å½±æ¨¡å—é‡‡ç”¨ LSSï¼Œå°†å›¾åƒç‰¹å¾è½¬æ¢åˆ°è‡ªè½¦åæ ‡ç³»çš„ 3D è¡¨ç¤ºã€‚è¯¥æ–¹æ³•ä»¥å›¾åƒè§†å›¾ä¸ºè¾“å…¥ï¼Œé€šè¿‡ç¦»æ•£åˆ†ç±»çš„æ–¹å¼å¯†é›†é¢„æµ‹æ·±åº¦ï¼›éšåç»“åˆç›¸æœºå¤–å‚ä¸é¢„æµ‹æ·±åº¦ï¼Œç”Ÿæˆä¼ªä½“ç´ è¡¨ç¤ºã€‚</p>
<p>BEV ç¼–ç æ¨¡å—é‡‡ç”¨ç©ºé—´åˆ°é€šé“ï¼ˆS2Cï¼‰æ“ä½œå°† 4D ä¼ªä½“ç´ ç‰¹å¾ç¼–ç åˆ° 3D BEV ç©ºé—´ï¼Œä»è€Œä¿ç•™è¯­ä¹‰ä¿¡æ¯å¹¶é™ä½æˆæœ¬ã€‚ç„¶åä½¿ç”¨å››ä¸ª 3 Ã— 3 å·ç§¯å±‚ç¼©å°é€šé“ç»´åº¦ï¼Œå¹¶æå–é«˜çº§è¯­ä¹‰ä¿¡æ¯ã€‚</p>
<p>åŠ¨æ€èåˆæ¨¡å—çš„ä½œç”¨æ˜¯å°† concat åçš„ ç›¸æœºã€ LiDAR çš„ BEV ç‰¹ è¿›è¡Œæœ‰æ•ˆèåˆï¼ŒBEVFusion åº”ç”¨ä¸€ä¸ªç®€å•çš„é€šé“æ³¨æ„åŠ›æ¨¡å—æ¥é€‰æ‹©é‡è¦çš„èåˆç‰¹å¾ï¼Œç½‘ç»œç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://mcnsakkce4vm.feishu.cn/space/api/box/stream/download/asynccode/?code=ZTAzMzU4YzUxZWVkNjcxMjE4ZWVmZmM1MjZiNDA3OTZfZEp1dHM2QmdXRk15bjlpZ3VqQ2lOclhjYWd2UWh2ZVFfVG9rZW46TlE5ZmJXWndXb0JLdXF4dGFmdGNRZk54bnJjXzE3NjMxMzAwNjA6MTc2MzEzMzY2MF9WNA" alt="" loading="lazy"/></p>
<p>LiDAR æµå°†æ¿€å…‰é›·è¾¾ç‚¹è½¬æ¢ä¸º BEV ç©ºé—´ï¼ŒBEVFusion é‡‡ç”¨ 3 ç§æµè¡Œçš„æ–¹æ³•ï¼ŒPointPillarsã€CenterPoint å’Œ TransFusion ä½œä¸ºæ¿€å…‰é›·è¾¾æµï¼Œä»è€Œå±•ç¤ºæ¨¡å‹æ¡†æ¶çš„ä¼˜ç§€æ³›åŒ–èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI å¤šæ¨¡æ€å…¨æ ˆåº”ç”¨é¡¹ç›®æè¿°]]></title>    <link>https://juejin.cn/post/7572396000545030207</link>    <guid>https://juejin.cn/post/7572396000545030207</guid>    <pubDate>2025-11-14T14:46:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572396000545030207" data-draft-id="7572387068314468379" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI å¤šæ¨¡æ€å…¨æ ˆåº”ç”¨é¡¹ç›®æè¿°"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Node.js"/> <meta itemprop="datePublished" content="2025-11-14T14:46:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI å¤šæ¨¡æ€å…¨æ ˆåº”ç”¨é¡¹ç›®æè¿°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T14:46:58.000Z" title="Fri Nov 14 2025 14:46:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b88115ec691a4c27a5dd1552d2f473d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763736418&amp;x-signature=3RlH%2BmgOtTkJHAuf3A3BuzJ7XC4%3D" alt="AI å¤šæ¨¡æ€åº”ç”¨é¡¹ç›®æè¿°.png" loading="lazy"/></p>
<h4 data-id="heading-0">ä¸€ã€é¡¹ç›®æ¦‚è¿°</h4>
<p>æœ¬é¡¹ç›®æ˜¯åŸºäº <strong>Vue 3.5 + Node.js + Express</strong> æ„å»ºçš„ç°ä»£åŒ– AI å¤šæ¨¡æ€åº”ç”¨ï¼Œå®ç° <strong>æ™ºèƒ½å¯¹è¯ã€AI å†™ä½œã€å›¾åƒç”Ÿæˆã€è¯­éŸ³è¯†åˆ«ä¸åˆæˆ</strong> ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚é‡‡ç”¨ <strong>å‰åç«¯åˆ†ç¦»æ¶æ„</strong>ï¼Œèšç„¦å·¥ç¨‹åŒ–å®è·µä¸ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼Œåœ¨å®‰å…¨æ€§ã€æ€§èƒ½ã€å¯ç»´æŠ¤æ€§ç­‰ç»´åº¦å½¢æˆå®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œè¾¾åˆ°ç”Ÿäº§çº§åº”ç”¨æ ‡å‡†ã€‚</p>
<h4 data-id="heading-1">äºŒã€æŠ€æœ¯æ ˆæ¶æ„</h4>
<h5 data-id="heading-2">å‰ç«¯æŠ€æœ¯æ ˆ</h5>
<ul>
<li><strong>æ¡†æ¶</strong>ï¼šVue 3.5ï¼ˆComposition APIï¼‰</li>
<li><strong>UI</strong> <strong>ç»„ä»¶</strong>ï¼šElement Plus 2.7</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šPinia 2.1</li>
<li><strong>è·¯ç”±</strong>ï¼šVue Router 4.2</li>
<li><strong>æ„å»ºå·¥å…·</strong>ï¼šVite 5.0</li>
<li><strong>å¯Œæ–‡æœ¬</strong>ï¼šWangEditor 5.1</li>
<li><strong>ç½‘ç»œè¯·æ±‚</strong>ï¼šAxios 1.11</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š@tanstack/vue-virtual 3.13ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰</li>
<li><strong>å†…å®¹æ¸²æŸ“</strong>ï¼šmarkdown-it 14.1ï¼ˆMarkdown è§£æï¼‰</li>
</ul>
<h5 data-id="heading-3">åç«¯æŠ€æœ¯æ ˆ</h5>
<ul>
<li><strong>è¿è¡Œæ—¶</strong>ï¼šNode.js</li>
<li><strong>Web æ¡†æ¶</strong>ï¼šExpress 5.1</li>
<li><strong>æ•°æ®å±‚</strong>ï¼šPrisma 6.16 + MySQL 3.14ï¼ˆORM ä¸æ•°æ®åº“ï¼‰</li>
<li><strong>è®¤è¯</strong>ï¼šJWTï¼ˆjsonwebtoken 9.0ï¼‰</li>
<li><strong>å®‰å…¨</strong>ï¼šHelmet 8.1ï¼ˆå®‰å…¨å¤´ï¼‰ã€CORS 2.8ï¼ˆè·¨åŸŸï¼‰</li>
<li><strong>åŠ å¯†</strong>ï¼šbcryptjs 3.0ï¼ˆå¯†ç å“ˆå¸Œï¼‰</li>
<li><strong>æ–‡ä»¶å¤„ç†</strong>ï¼šMulter 2.0ï¼ˆä¸Šä¼ ï¼‰</li>
<li><strong>å®æ—¶é€šä¿¡</strong>ï¼šws 8.18ï¼ˆWebSocketï¼‰</li>
<li><strong>æ—¥å¿—</strong>ï¼šMorgan 1.10</li>
</ul>
<h5 data-id="heading-4">æ ¸å¿ƒ AI æœåŠ¡é›†æˆ</h5>
<ul>
<li><strong>å¯¹è¯</strong>ï¼šè±†åŒ… Seed 1.6ï¼ˆæ”¯æŒå¿«é€Ÿ / æ·±åº¦æ€è€ƒæ¨¡å¼ï¼‰</li>
<li><strong>è¯­éŸ³åˆæˆ</strong>ï¼šè±†åŒ… TTSï¼ˆWebSocket æµå¼ä¼ è¾“ï¼‰</li>
<li><strong>è¯­éŸ³è¯†åˆ«</strong>ï¼šè±†åŒ… ASRï¼ˆå®æ—¶è½¬å†™ï¼‰</li>
<li><strong>å›¾åƒç”Ÿæˆ</strong>ï¼šè±†åŒ… Seedream 4.0</li>
</ul>
<h4 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒæŠ€æœ¯ä¸åŠŸèƒ½äº®ç‚¹</h4>
<ol>
<li>
<h5 data-id="heading-6">ä¼ä¸šçº§èº«ä»½è®¤è¯ä¸æƒé™ç®¡ç†</h5>
</li>
</ol>
<h6 data-id="heading-7">ä¸šåŠ¡æŒ‘æˆ˜</h6>
<p>éœ€å¹³è¡¡ç™»å½•æ³¨å†Œæµç¨‹çš„å®‰å…¨æ€§ä¸å¼€å‘æ•ˆç‡ï¼Œè§£å†³ <strong>XSS</strong> <strong>/</strong> <strong>CSRF</strong> <strong>é˜²æŠ¤ã€å‡­è¯å®‰å…¨ä¼ è¾“ã€è‡ªåŠ¨é‰´æƒåŠå¤šè§’è‰²æ‰©å±•</strong> é—®é¢˜ã€‚</p>
<h6 data-id="heading-8">æŠ€æœ¯å®ç°</h6>
<ul>
<li><strong>ä¸‰å±‚é‰´æƒæ¶æ„</strong>ï¼šå‰ç«¯å“åº”å¼è¡¨å•éªŒè¯ï¼ˆç”¨æˆ·å / å¯†ç è§„åˆ™æ ¡éªŒï¼‰â†’ åç«¯ Prisma æŸ¥è¯¢ + bcrypt åŠ å¯†ï¼ˆsalt rounds=10ï¼‰â†’ JWT ç”Ÿæˆï¼ˆå« user_id/roleï¼Œæœ‰æ•ˆæœŸ 24hï¼‰ã€‚</li>
<li><strong>è‡ªåŠ¨åŒ–é‰´æƒ</strong>ï¼šJWT å­˜å‚¨äº <strong>HttpOnly</strong> <strong>Cookie</strong> <strong>ï¼ˆé˜²</strong> <strong>XSS</strong> <strong>ï¼‰</strong> ï¼Œåç«¯ç»Ÿä¸€ä¸­é—´ä»¶æå–éªŒè¯ä»¤ç‰Œï¼Œæ³¨å…¥ç”¨æˆ·ä¿¡æ¯è‡³ req.userï¼Œæ”¯æŒ <strong>è§’è‰²æƒé™ï¼ˆUSER/ADMINï¼‰ç»†ç²’åº¦æ§åˆ¶</strong>ã€‚</li>
<li><strong>å®‰å…¨å¢å¼º</strong>ï¼šé…ç½® secureï¼ˆç”Ÿäº§ç¯å¢ƒ HTTPSï¼‰ã€sameSite=laxï¼ˆé˜² CSRFï¼‰ï¼›å¯†ç åŠ å¯†é‡‡ç”¨å•å‘å“ˆå¸Œï¼Œç™»å‡ºæ—¶ä¸»åŠ¨æ¸…é™¤ Cookie ä¸æœ¬åœ°çŠ¶æ€ã€‚</li>
</ul>
<h6 data-id="heading-9">æ ¸å¿ƒä»·å€¼</h6>
<p>å®ç° <strong>æ— æ„ŸçŸ¥é‰´æƒæµç¨‹</strong>ï¼Œé˜²æŠ¤å¸¸è§ç½‘ç»œæ”»å‡»ï¼Œæ”¯æŒå¤šè§’è‰²æ‰©å±•ï¼Œå®‰å…¨æ€§ä¸ç”¨æˆ·ä½“éªŒå…¼é¡¾ã€‚</p>
<ol>
<li>
<h5 data-id="heading-10">AI å¯¹è¯å¿«é€Ÿå’Œæ·±åº¦æ€è€ƒæ— ç¼åˆ‡æ¢</h5>
</li>
</ol>
<h6 data-id="heading-11">ä¸šåŠ¡æŒ‘æˆ˜</h6>
<p>è±†åŒ…å¿«é€Ÿ / æ·±åº¦æ¨¡å‹å‚æ•°æ ¼å¼å­˜åœ¨å·®å¼‚ï¼Œéƒ½éœ€å¤„ç† <strong>SSE æµå¼æ•°æ®å®ç°é€å­—æ˜¾ç¤º</strong>ï¼Œé™ä½å‰ç«¯è°ƒç”¨å¤æ‚åº¦ã€‚</p>
<h6 data-id="heading-12">æŠ€æœ¯å®ç°</h6>
<ul>
<li><strong>åç«¯æ¥å£ç»Ÿä¸€å°è£…</strong>ï¼šé€šè¿‡ modelApi.js é€‚é…ä¸åŒæ¨¡å‹å‚æ•°ï¼ˆæ·±åº¦æ€è€ƒæ¨¡å‹ä¼šè¿”å›æ€è€ƒæ–‡æœ¬ï¼‰ï¼Œç»Ÿä¸€ messages æ•°ç»„è¾“å…¥æ ¼å¼ï¼ŒæŒ‰ modelType è‡ªåŠ¨è½¬æ¢ã€‚</li>
<li><strong>æµå¼æ•°æ®å¤„ç†</strong>ï¼šç¼“å†²åŒºè§£å†³æ•°æ®åˆ†å‰²é—®é¢˜ï¼Œè§£æ SSE æ ¼å¼æå–å¢é‡å†…å®¹ï¼ŒåŒºåˆ†æ·±åº¦æ¨¡å‹çš„ â€œæ€è€ƒè¿‡ç¨‹â€ ä¸ â€œæœ€ç»ˆç­”æ¡ˆâ€ï¼Œè¿”å›ç»Ÿä¸€æ ¼å¼ï¼ˆ{status, data: {content, type}}ï¼‰ã€‚</li>
<li><strong>å‰ç«¯</strong> <strong>å®æ—¶æ¸²æŸ“</strong>ï¼šè‡ªå®šä¹‰ POST-based SSE å®¢æˆ·ç«¯ï¼ˆåŸç”Ÿ EventSource ä»…æ”¯æŒ GETï¼‰ï¼Œåˆ©ç”¨ Vue å“åº”å¼ç³»ç»Ÿæ‹¼æ¥å¢é‡å†…å®¹ï¼Œå®ç°è‡ªç„¶çš„ <strong>é€å­—æ˜¾ç¤ºæ•ˆæœ</strong>ã€‚</li>
</ul>
<h6 data-id="heading-13">æ ¸å¿ƒä»·å€¼</h6>
<p>å‰ç«¯æ— éœ€å…³æ³¨æ¨¡å‹å·®å¼‚ï¼Œåˆ‡æ¢é›¶æˆæœ¬ï¼›<strong>æµå¼æ¸²æŸ“ä¼˜åŒ–å¯¹è¯ä½“éªŒ</strong>ï¼Œå‰åç«¯è§£è€¦æå‡å¯ç»´æŠ¤æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8566c25f02734a3188952dfaa3d9079f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763736418&amp;x-signature=eaJ8dVPSBrcsIlXLQEbrz2fHdxo%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<ol>
<li>
<h5 data-id="heading-14">é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ</h5>
</li>
</ol>
<h6 data-id="heading-15">ä¸šåŠ¡æŒ‘æˆ˜</h6>
<p>èŠå¤©è®°å½•å¢é•¿å¯¼è‡´ <strong>é¦–å±åŠ è½½æ…¢ã€</strong> <strong>DOM</strong> <strong>èŠ‚ç‚¹å†—ä½™ï¼ˆ2000+ï¼‰ã€æ»šåŠ¨å¡é¡¿ï¼ˆ30-40</strong> <strong>fps</strong> <strong>ï¼‰</strong> ã€‚</p>
<h6 data-id="heading-16">æŠ€æœ¯å®ç°</h6>
<ul>
<li><strong>åç«¯åˆ†é¡µç­–ç•¥</strong>ï¼šé»˜è®¤åŠ è½½æœ€æ–° 20 æ¡ï¼Œæ»šåŠ¨è§¦é¡¶æ—¶åŠ è½½ä¸Šä¸€é¡µï¼›æŒ‰ created_at å€’åºæŸ¥è¯¢ï¼ˆåˆ©ç”¨ç´¢å¼•ï¼‰ï¼Œè¿”å› hasNext/hasPrev å…ƒæ•°æ®ï¼Œå¹¶è¡ŒæŸ¥è¯¢åˆ—è¡¨ä¸æ€»æ•°æå‡å“åº”é€Ÿåº¦ã€‚</li>
<li><strong>å‰ç«¯è™šæ‹Ÿæ»šåŠ¨</strong>ï¼šä»…æ¸²æŸ“å¯è§†åŒº + ç¼“å†²åŒºå†…å®¹ï¼ˆçº¦ 15 æ¡ï¼‰ï¼Œé€šè¿‡ padding æ¨¡æ‹Ÿæœªæ¸²æŸ“åŒºåŸŸé«˜åº¦ï¼ŒDOM æ•°é‡é™è‡³ 40 ä¸ªï¼›åŠ¨æ€æµ‹é‡æ¯æ¡æ¶ˆæ¯é«˜åº¦å¹¶ç¼“å­˜ï¼ŒåŠ è½½æ–°æ•°æ®æ—¶è‡ªåŠ¨è°ƒæ•´æ»šåŠ¨ä½ç½®ä¿æŒä½“éªŒè¿è´¯ã€‚</li>
</ul>
<h6 data-id="heading-17">ä¼˜åŒ–æ•ˆæœ</h6>
<ul>
<li>é¦–å±åŠ è½½æ—¶é—´ï¼š1.8 ç§’â†’0.3 ç§’ï¼ˆæå‡ 83%ï¼‰</li>
<li>DOM èŠ‚ç‚¹ï¼š2000+â†’40 ä¸ªï¼ˆå‡å°‘ 95%ï¼‰</li>
<li>æ»šåŠ¨å¸§ç‡ï¼š30-40fpsâ†’55-60fps</li>
</ul>
<ol>
<li>
<h5 data-id="heading-18">å®æ—¶æµå¼è¯­éŸ³åˆæˆ</h5>
</li>
</ol>
<h6 data-id="heading-19">ä¸šåŠ¡æŒ‘æˆ˜</h6>
<p>ä¼ ç»Ÿæ–¹æ¡ˆéœ€ç­‰å¾…å®Œæ•´éŸ³é¢‘ç”Ÿæˆï¼ˆ3-5 ç§’ï¼‰ï¼Œç”¨æˆ·ä½“éªŒå·®ï¼Œéœ€å®ç° <strong>ä½å»¶è¿Ÿ</strong> <strong>æµå¼æ’­æ”¾</strong>ã€‚</p>
<h6 data-id="heading-20">æŠ€æœ¯å®ç°</h6>
<ul>
<li><strong>åç«¯å®æ—¶</strong> <strong>ä¸­ç»§</strong>ï¼šWebSocket è¿æ¥è±†åŒ… TTS æœåŠ¡ï¼Œè§£æè‡ªå®šä¹‰äºŒè¿›åˆ¶åè®®ï¼ˆæå– PCM/MP3 æ•°æ®å—ï¼‰ï¼Œé€šè¿‡ HTTP åˆ†å—ä¼ è¾“ï¼ˆTransfer-Encoding: chunkedï¼‰å®æ—¶æ¨é€éŸ³é¢‘æ•°æ®ã€‚</li>
<li><strong>å‰ç«¯æµå¼æ’­æ”¾</strong>ï¼šåˆ©ç”¨ HTML5 Audio å…ƒç´ ç›´æ¥ç»‘å®š API URLï¼Œæ”¶åˆ°é¦–å—æ•°æ®åè§¦å‘ canplay äº‹ä»¶ç«‹å³æ’­æ”¾ï¼›å…¨å±€å•ä¾‹ç®¡ç†æ’­æ”¾å™¨ï¼Œæ–°æ¶ˆæ¯æ’­æ”¾æ—¶è‡ªåŠ¨åœæ­¢å½“å‰éŸ³é¢‘ï¼Œæ”¯æŒè‡ªåŠ¨é‡è¯•ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰ã€‚</li>
<li><strong>æ–‡æœ¬é¢„å¤„ç†</strong>ï¼šè‡ªåŠ¨å»é™¤ Markdown æ ¼å¼ï¼Œæˆªæ–­è¿‡é•¿å†…å®¹ï¼ˆ&gt;1000 å­—ï¼‰é¿å…ç”Ÿæˆè¶…æ—¶ã€‚</li>
</ul>
<h6 data-id="heading-21">æ ¸å¿ƒä»·å€¼</h6>
<p>å»¶è¿Ÿä» 3-5 ç§’é™è‡³ 0.5-1 ç§’ï¼Œ<strong>è¾¹ä¼ è¾¹æ’­æå‡ç”¨æˆ·ä½“éªŒ</strong>ï¼Œè·¨åŸŸé…ç½®ä¸è‡ªåŠ¨æ’­æ”¾ç­–ç•¥ä¿éšœå…¼å®¹æ€§ã€‚</p>
<ol>
<li>
<h5 data-id="heading-22">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ AI å†™ä½œåŠ©æ‰‹</h5>
</li>
</ol>
<h6 data-id="heading-23">ä¸šåŠ¡æŒ‘æˆ˜</h6>
<p>éœ€åœ¨ç¼–è¾‘å™¨ä¸­æ— ç¼é›†æˆè¯­éŸ³åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§è§¦å‘æ–¹å¼ï¼Œä¸æ‰“æ–­å†™ä½œèŠ‚å¥ã€‚</p>
<h6 data-id="heading-24">æŠ€æœ¯å®ç°</h6>
<ul>
<li><strong>å¤šè§¦å‘æ–¹å¼</strong>ï¼šå·¥å…·æ  â€œAI å·¥å…·â€ ä¸‹æ‹‰èœå•ï¼ˆç»­å†™ / æ€»ç»“ / æ¶¦è‰²ç­‰ï¼‰ã€Ctrl+Alt å¿«æ·é”®å”¤é†’å¼¹çª—ï¼ˆè·Ÿéšå…‰æ ‡å®šä½ï¼‰ã€é€‰ä¸­æ–‡æœ¬è‡ªåŠ¨è¯†åˆ«ï¼ˆé«˜äº®æç¤ºï¼‰ã€‚</li>
<li><strong>å®æ—¶åé¦ˆ</strong>ï¼šAI ç”Ÿæˆå†…å®¹ <strong>é€å­—æ˜¾ç¤ºï¼ˆæ‰“å­—æœºæ•ˆæœï¼‰</strong> ï¼Œå®Œæˆåä¸€é”®æ’å…¥å…‰æ ‡ä½ç½®ï¼Œæ”¯æŒæ›¿æ¢ / è¿½åŠ é€‰ä¸­æ–‡æœ¬ã€‚</li>
<li><strong>è§£è€¦</strong> <strong>è®¾è®¡</strong>ï¼šAI åŠŸèƒ½ä¸ç¼–è¾‘å™¨é€šè¿‡å…¨å±€äº‹ä»¶é€šä¿¡ï¼Œæ–°å¢åŠŸèƒ½æ— éœ€ä¿®æ”¹ç¼–è¾‘å™¨æ ¸å¿ƒä»£ç ã€‚</li>
</ul>
<h6 data-id="heading-25">æ ¸å¿ƒä»·å€¼</h6>
<p>æ“ä½œæµç•…ä¸æ‰“æ–­å†™ä½œèŠ‚å¥ï¼Œ<strong>å¤šè§¦å‘æ–¹å¼é€‚é…ä¸åŒä½¿ç”¨åœºæ™¯</strong>ï¼ŒåŠ¨æ€å®šä½ä¸çŠ¶æ€æç¤ºæå‡äº¤äº’ä½“éªŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54c85fb5eda24e19b07325b98cc66de5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763736418&amp;x-signature=V1WTKPEQgfDAGzzt6IvNVOAl65A%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<ol>
<li>
<h5 data-id="heading-26">æ™ºèƒ½è¯­éŸ³è¯†åˆ«å®æ—¶è½¬å†™</h5>
</li>
</ol>
<h6 data-id="heading-27">ä¸šåŠ¡æŒ‘æˆ˜</h6>
<p>å®ç° â€œè¾¹è¯´è¾¹å†™â€ æå‡è¾“å…¥æ•ˆç‡ï¼Œéœ€è§£å†³ <strong>éŸ³é¢‘æ ¼å¼è½¬æ¢ã€æµè§ˆå™¨å…¼å®¹ã€å®æ—¶åé¦ˆ</strong> é—®é¢˜ã€‚</p>
<h6 data-id="heading-28">æŠ€æœ¯å®ç°</h6>
<ul>
<li><strong>å®æ—¶è½¬å†™æµç¨‹</strong>ï¼šWebSocket æµå¼ä¼ è¾“ PCM éŸ³é¢‘ï¼ˆ16kHz é‡‡æ ·ç‡ï¼Œ16 ä½æ·±åº¦ï¼‰ï¼Œåç«¯è¯†åˆ«ä¸­é—´ç»“æœå³æ—¶è¿”å›ï¼Œå‰ç«¯æ’å…¥ç¼–è¾‘å™¨ï¼›æœ€ç»ˆç»“æœè‡ªåŠ¨æ›´æ–°ä¸­é—´å†…å®¹ï¼Œæ”¯æŒ ESC åœæ­¢å½•éŸ³ã€‚</li>
<li><strong>æ ¼å¼æ ‡å‡†åŒ–</strong>ï¼šæµè§ˆå™¨é‡‡é›†çš„ Float32 éŸ³é¢‘â†’è½¬æ¢ä¸º Int16 PCMï¼Œç»Ÿä¸€æœåŠ¡ç«¯è¾“å…¥æ ¼å¼ï¼Œæå‡è¯†åˆ«å‡†ç¡®ç‡ã€‚</li>
<li><strong>åˆ†å±‚æ¶æ„</strong>ï¼šUI äº¤äº’å±‚â†’æ ¸å¿ƒæ§åˆ¶å±‚ï¼ˆå½•éŸ³ / WebSocket ç®¡ç†ï¼‰â†’éŸ³é¢‘å¤„ç†å±‚â†’é€šä¿¡å±‚â†’è¯Šæ–­å±‚ï¼Œä¿éšœç¨³å®šæ€§ã€‚</li>
</ul>
<h6 data-id="heading-29">æ ¸å¿ƒä»·å€¼</h6>
<p><strong>å®æ—¶åé¦ˆå‡å°‘ç­‰å¾…æ„Ÿ</strong>ï¼Œæ ¼å¼ç»Ÿä¸€æå‡è¯†åˆ«å‡†ç¡®ç‡ï¼Œæ–°è€æµè§ˆå™¨å…¼å®¹è¦†ç›–å…¨åœºæ™¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a489b4b9c7e14fc38c4afb3e717255b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763736418&amp;x-signature=Q%2F6%2F7w47UlZUwpCp2OtVh9wDVWM%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<ol>
<li>
<h5 data-id="heading-30">å›¾åƒç”Ÿæˆæ¥å£çš„å·¥ç¨‹åŒ–å®è·µ</h5>
</li>
</ol>
<h6 data-id="heading-31">ä¸šåŠ¡æŒ‘æˆ˜</h6>
<p>å°†è±†åŒ… Seedream 4.0 API å°è£…ä¸ºç”Ÿäº§çº§æœåŠ¡ï¼Œæ ¸å¿ƒé—®é¢˜åœ¨äºï¼š<strong>å¤–éƒ¨ API è¿”å›çš„å›¾ç‰‡</strong> <strong>URL</strong> <strong>å¯èƒ½å¤±æ•ˆï¼Œæ— æ³•ä¿è¯é•¿æœŸå¯ç”¨æ€§</strong>ã€‚åŒæ—¶éœ€è§£å†³ <strong>ç¨³å®šæ€§ã€å®‰å…¨æ€§ã€å¯ç»´æŠ¤æ€§</strong> ç­‰å·¥ç¨‹åŒ–é—®é¢˜ï¼Œæ¶µç›–å›¾ç‰‡æŒä¹…åŒ–ã€å¹¶å‘ä¸‹è½½ã€æ ¼å¼è¯†åˆ«ã€æ•°æ®ä¸€è‡´æ€§ç­‰å¤šä¸ªæ–¹é¢ã€‚</p>
<h6 data-id="heading-32">æŠ€æœ¯å®ç°</h6>
<p>é‡‡ç”¨åˆ†å±‚æ¶æ„ä¿éšœç³»ç»Ÿç¨³å®šè¿è¡Œï¼Œå…·ä½“ä¸ºï¼šè·¯ç”±å±‚ï¼ˆRESTful æ¥å£ï¼‰â†’ä¸­é—´ä»¶å±‚ï¼ˆJWT é‰´æƒ / å‚æ•°éªŒè¯ / é™æµï¼‰â†’æ§åˆ¶å™¨å±‚ï¼ˆè¯·æ±‚å¤„ç†ï¼‰â†’æœåŠ¡å±‚ï¼ˆAPI è°ƒç”¨ / å›¾ç‰‡ä¸‹è½½ï¼‰â†’æ•°æ®å±‚ï¼ˆPrisma å­˜å‚¨ï¼‰ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ç°ä»¥ä¸‹æ ¸å¿ƒæŠ€æœ¯ï¼š</p>
<h6 data-id="heading-33">å›¾ç‰‡æœ¬åœ°åŒ–å­˜å‚¨ï¼šè§£å†³å¤–éƒ¨ URL å¤±æ•ˆé—®é¢˜</h6>
<ul>
<li><strong>æ ¸å¿ƒç­–ç•¥</strong>ï¼šä¸ç›´æ¥è¿”å›å¤–éƒ¨ URLï¼Œè€Œæ˜¯å°†ç”Ÿæˆçš„å›¾ç‰‡ä¸‹è½½åˆ°æœ¬åœ°æœåŠ¡å™¨ï¼ˆ<code>uploads/images/</code>ç›®å½•ï¼‰ï¼Œè¿”å›æœ¬åœ°è·¯å¾„</li>
<li><strong>æ–‡ä»¶å‘½åè§„åˆ™</strong>ï¼š<code>{imageId}_{index}.{ext}</code>ï¼ˆå¦‚<code>uuid_1.png</code>ï¼‰ï¼Œç¡®ä¿å”¯ä¸€æ€§ä¸å¯è¿½æº¯æ€§</li>
<li><strong>é•¿æœŸå¯ç”¨æ€§</strong>ï¼šå›¾ç‰‡å­˜å‚¨åœ¨è‡ªæœ‰æœåŠ¡å™¨ï¼Œä¸å—å¤–éƒ¨æœåŠ¡å½±å“ï¼Œç”¨æˆ·å¯éšæ—¶è®¿é—®å†å²ç”Ÿæˆçš„å›¾ç‰‡</li>
</ul>
<h6 data-id="heading-34">å¹¶å‘ä¸‹è½½ä¼˜åŒ–ï¼šæå‡å¤šå›¾ç”Ÿæˆæ•ˆç‡</h6>
<ul>
<li><strong>å¹¶å‘ç­–ç•¥</strong>ï¼šä½¿ç”¨<code>Promise.all</code>å¹¶å‘ä¸‹è½½å¤šå¼ å›¾ç‰‡ï¼ˆæœ€å¤š 4 å¼ ï¼‰ï¼Œè€Œéä¸²è¡Œä¸‹è½½</li>
<li><strong>æ€§èƒ½æå‡</strong>ï¼š4 å¼ å›¾ç‰‡å¹¶å‘ä¸‹è½½æ—¶é—´ä»ä¸²è¡Œçš„ 8-12 ç§’é™è‡³ 2-3 ç§’ï¼Œæå‡ 75%</li>
<li><strong>è¶…æ—¶æ§åˆ¶</strong>ï¼šå•å¼ å›¾ç‰‡ä¸‹è½½è¶…æ—¶ 60 ç§’ï¼Œé¿å…é•¿æ—¶é—´é˜»å¡</li>
</ul>
<h6 data-id="heading-35">æ™ºèƒ½æ ¼å¼è¯†åˆ«ï¼šç¡®ä¿æ–‡ä»¶æ ¼å¼æ­£ç¡®</h6>
<ul>
<li><strong>å¤šçº§åˆ¤æ–­æœºåˆ¶</strong>ï¼š</li>
</ul>
<ol>
<li>ä¼˜å…ˆæ ¹æ® HTTP å“åº”å¤´<code>Content-Type</code>åˆ¤æ–­ï¼ˆimage/pngã€image/jpegã€image/webpï¼‰</li>
<li>æ— æ³•åˆ¤æ–­æ—¶ï¼Œæ ¹æ® URL åç¼€çŒœæµ‹</li>
<li>å…œåº•ä½¿ç”¨<code>.png</code>æ ¼å¼</li>
</ol>
<ul>
<li><strong>å®¹é”™å¤„ç†</strong>ï¼šå³ä½¿å¤–éƒ¨æœåŠ¡è¿”å›æ ¼å¼ä¿¡æ¯ä¸å®Œæ•´ï¼Œä¹Ÿèƒ½æ­£ç¡®ä¿å­˜å›¾ç‰‡</li>
</ul>
<h6 data-id="heading-36">å®Œæ•´çš„æ•°æ®æŒä¹…åŒ–ä½“ç³»</h6>
<ul>
<li><strong>æœ¬åœ°å­˜å‚¨ + æ•°æ®åº“è®°å½•</strong>ï¼š</li>
<li>æœ¬åœ°å­˜å‚¨ï¼šå›¾ç‰‡æ–‡ä»¶ä¿å­˜åˆ°<code>uploads/images/</code>ç›®å½•</li>
<li>æ•°æ®åº“è®°å½•ï¼šä½¿ç”¨ Prisma ORM å­˜å‚¨ç”Ÿæˆå‚æ•°ï¼ˆæç¤ºè¯ã€å°ºå¯¸ã€æ¨¡å‹ã€æ•°é‡ï¼‰ã€å›¾ç‰‡è·¯å¾„æ•°ç»„ã€ç”Ÿæˆæ—¶é—´ã€ç”¨æˆ· IDã€ä¼šè¯ ID ç­‰</li>
<li><strong>å†å²æŸ¥è¯¢æ”¯æŒ</strong>ï¼š</li>
<li>æ”¯æŒæŒ‰ä¼šè¯åˆ†é¡µæŸ¥è¯¢å†å²ç”Ÿæˆè®°å½•</li>
<li>æ”¯æŒæŒ‰ç”¨æˆ·æŸ¥è¯¢æ”¶è—çš„å›¾ç‰‡</li>
<li>è¿”å›<code>hasNext</code>ã€<code>hasPrev</code>ç­‰åˆ†é¡µå…ƒæ•°æ®</li>
</ul>
<h6 data-id="heading-37">å®‰å…¨é˜²æŠ¤</h6>
<p>JWT é‰´æƒã€è¾“å…¥æ ¡éªŒï¼ˆæç¤ºè¯é•¿åº¦ / å°ºå¯¸ç™½åå•ï¼‰ã€API å¯†é’¥ç¯å¢ƒå˜é‡ç®¡ç†ã€å¯æ‰©å±•é™æµæœºåˆ¶ã€‚</p>
<h6 data-id="heading-38">æ ¸å¿ƒä»·å€¼</h6>
<p>é€šè¿‡ä¸Šè¿°æŠ€æœ¯å®ç°ï¼Œæ¥å£æ”¯æŒå¤šç”¨æˆ·å¹¶å‘è®¿é—®ï¼Œç¡®ä¿å›¾ç‰‡é•¿æœŸå¯ç”¨ï¼›ä¾æ‰˜ç»Ÿä¸€è§„èŒƒçš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œç³»ç»Ÿå…·å¤‡å¼ºå¯è§‚æµ‹æ€§ï¼ˆæ—¥å¿— / ç›‘æ§ï¼‰ï¼Œæå¤§æå‡ç»´æŠ¤ä¸æ‰©å±•çš„ä¾¿æ·æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c53bec6a45348f7991ef6ecc388a762~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763736418&amp;x-signature=U994PFSdsUEq3Jsmwq%2BuRjeI6E8%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<h4 data-id="heading-39">å››ã€é¡¹ç›®æ€»ç»“</h4>
<h5 data-id="heading-40">æ ¸å¿ƒæŠ€æœ¯äº®ç‚¹</h5>
<ol>
<li><strong>å®‰å…¨æ€§</strong>ï¼šJWT+HttpOnly Cookie é˜²æŠ¤ï¼Œbcrypt åŠ å¯†ï¼ŒCORS/CSRF é˜²æŠ¤ï¼Œè¾“å…¥æ ¡éªŒä¸é™æµã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šè™šæ‹Ÿæ»šåŠ¨å‡å°‘ 95% DOMï¼Œåˆ†é¡µåŠ è½½æå‡ 83% é¦–å±é€Ÿåº¦ï¼Œæµå¼ä¼ è¾“é™ä½ 80% è¯­éŸ³å»¶è¿Ÿã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šå®æ—¶æµå¼åé¦ˆï¼ˆå¯¹è¯ / è¯­éŸ³ï¼‰ï¼Œæ™ºèƒ½äº¤äº’ï¼ˆå¿«æ·é”® / è‡ªåŠ¨å®šä½ï¼‰ï¼Œæµç•…æ“ä½œï¼ˆæ»šåŠ¨ / ä½ç½®ä¿æŒï¼‰ã€‚</li>
<li><strong>å·¥ç¨‹åŒ–</strong>ï¼šåˆ†å±‚æ¶æ„æ¸…æ™°ï¼Œç»Ÿä¸€é”™è¯¯å¤„ç†ï¼Œå®Œå–„æ—¥å¿—ï¼Œå¯è§‚æµ‹æ€§å¼ºã€‚</li>
<li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šæ¨¡å—è§£è€¦ï¼Œè§„èŒƒç»Ÿä¸€ï¼ˆAPI / å“åº”æ ¼å¼ï¼‰ï¼Œç±»å‹å®‰å…¨ï¼ˆPrismaï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-41"><strong>å¤šæ¨¡æ€ AIé¡¹ç›®å¼€å‘æŠ€æœ¯å­¦ä¹ </strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcoding.imooc.com%2Fclass%2F954.html" target="_blank" title="https://coding.imooc.com/class/954.html" ref="nofollow noopener noreferrer">coding.imooc.com/class/954.hâ€¦</a></h2>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‡ç£…å‡çº§ï¼æ–‡å¿ƒ ERNIE-5.0 æ–°ä¸€ä»£åŸç”Ÿå…¨æ¨¡æ€å¤§æ¨¡å‹ï¼Œè¿™ä½ éƒ½ä¸è®¤å¯å®ƒå—ï¼Ÿï¼]]></title>    <link>https://juejin.cn/post/7572437226022535178</link>    <guid>https://juejin.cn/post/7572437226022535178</guid>    <pubDate>2025-11-14T14:49:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572437226022535178" data-draft-id="7572387877139496970" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é‡ç£…å‡çº§ï¼æ–‡å¿ƒ ERNIE-5.0 æ–°ä¸€ä»£åŸç”Ÿå…¨æ¨¡æ€å¤§æ¨¡å‹ï¼Œè¿™ä½ éƒ½ä¸è®¤å¯å®ƒå—ï¼Ÿï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2025-11-14T14:49:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—æ–¹è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2840793779295133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é‡ç£…å‡çº§ï¼æ–‡å¿ƒ ERNIE-5.0 æ–°ä¸€ä»£åŸç”Ÿå…¨æ¨¡æ€å¤§æ¨¡å‹ï¼Œè¿™ä½ éƒ½ä¸è®¤å¯å®ƒå—ï¼Ÿï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793779295133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—æ–¹è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T14:49:48.000Z" title="Fri Nov 14 2025 14:49:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ğŸ§© å‰è¨€é€Ÿè¯»</h3>
<blockquote>
<p>11 æœˆ 13 æ—¥ï¼Œ2025ç™¾åº¦ä¸–ç•Œå¤§ä¼šä¸Šï¼Œæ–°ä¸€ä»£ã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€å¤§æ¨¡å‹æ–‡å¿ƒ 5.0 æ­£å¼äº®ç›¸ï¼Œ2.4 ä¸‡äº¿å‚æ•°é‡ï¼Œé‡‡ç”¨åŸç”Ÿå…¨æ¨¡æ€ç»Ÿä¸€å»ºæ¨¡æŠ€æœ¯ï¼Œå…·å¤‡å…¨æ¨¡æ€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ï¼Œæ”¯æŒã€Œæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ã€ç­‰å¤šç§ä¿¡æ¯çš„è¾“å…¥ä¸è¾“å‡ºï¼Œå°†å›½å†…å¤§æ¨¡å‹ç«äº‰åŠ›æ¨å‘å…¨çƒé¡¶å°–æ°´å‡†ã€‚</p>
<p>å¤§ä¼šä¸Šå¼ºè°ƒï¼šâ€œæ™ºèƒ½æœ¬èº«æ˜¯æœ€å¤§çš„åº”ç”¨ï¼ŒæŠ€æœ¯è¿­ä»£é€Ÿåº¦æ˜¯å”¯ä¸€çš„æŠ¤åŸæ²³â€ï¼Œè€Œæ–‡å¿ƒ 5.0 æ­£æ˜¯è¿™ä¸€ç†å¿µçš„æœ€æ–°å®è·µ â€”â€” å®ƒä¸ä»…æ˜¯å‚æ•°è§„æ¨¡çš„è·ƒå‡ï¼Œæ›´æ ‡å¿—ç€ AI ä» â€œå•æ¨¡æ€å¤„ç†â€ è¿ˆå…¥ â€œåŸç”Ÿå¤šæ¨¡æ€èåˆâ€ çš„æ–°é˜¶æ®µã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™åœºå‡çº§ï¼Œæ˜¯å¦èƒ½è®©å¤§å®¶æ›´åŠ è®¤å¯çš„å§ï¼</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/269c13609cf4414a875ebc6099e1f5d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=r%2BZuqBFWAVL%2BrX4YNxZ7q6uCgvw%3D" alt="" loading="lazy"/></p>
<p>è€è§„çŸ©ï¼Œå…ˆä¸Šæ•ˆæœå¯¹æ¯”å›¾ï¼çœ‹çœ‹æ‰€è°“çš„ã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€åˆ°åº•æ˜¯æ€ä¹ˆä¸ªäº‹ï¼Œç›®å‰ä¸»æµå¤§æ¨¡å‹ä¸­ï¼Œåœ¨ã€Œæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ã€å››ä¸ªæ¨¡æ€ä¸­ï¼Œæ”¯æŒè¾“å…¥è¾“å‡ºçš„æƒ…å†µæ˜¯è¿™æ ·çš„ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e6f605e5c174a79a2e2c01c719fb069~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=7YTVc7SkWdVxhascI39jEWwXb6Y%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶å€™å¯èƒ½åœ¨æƒ³ï¼Œæœ‰æ²¡æœ‰è¿™ä¹ˆå‰å®³ï¼ŒçœŸçš„æ˜¯ä¸æ˜¯è¿™æ ·ï¼Ÿè¿˜æ˜¯é‚£å¥è¯ï¼š</p>
<p>"Talk is cheap. Show me the code."</p>
<p>è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å¼€å§‹å®ƒéƒ½èƒ½å¹²äº›å•¥ï¼</p>
<h3 data-id="heading-1">ä¸€ã€ç”Ÿæˆ 3D ç½‘é¡µ</h3>
<h3 data-id="heading-2">ï¼ˆä¸€ï¼‰è‡ªè½¬åœ°çƒï¼šæ¯«ç±³çº§ç»†èŠ‚çš„ â€œæŒä¸Šæ˜Ÿçƒâ€ ğŸŒ</h3>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/558401f8fe2f4174beb29bd730a82886~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=ZBCyIpDDSBk7p4TMmVZBapf9lsg%3D" alt="" width="50%" loading="lazy"/></p>
<p>è¿™æ˜¯ä¸€ä¸ª <strong>â€œ3D åœ°çƒä¸å«æ˜Ÿâ€ æ¨¡æ‹Ÿäº¤äº’ç•Œé¢</strong>ï¼Œç”¨äºç›´è§‚å±•ç¤ºåœ°çƒè‡ªè½¬å’Œå«æ˜Ÿç»•åœ°çƒå…¬è½¬çš„è¿åŠ¨çŠ¶æ€ï¼Œå„éƒ¨åˆ†åŠŸèƒ½ä¸ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>ä¿¡æ¯è¯´æ˜åŒº</strong>ï¼š</p>
<ul>
<li>æ˜ç¡®åœ°çƒè‡ªè½¬å‘¨æœŸä¸º<strong>24 å°æ—¶</strong>ï¼ˆå³åœ°çƒè‡ªèº«æ—‹è½¬ä¸€åœˆçš„æ—¶é—´ï¼Œå¯¹åº”æˆ‘ä»¬çš„ â€œä¸€å¤©â€ï¼‰ï¼›</li>
<li>å«æ˜Ÿå…¬è½¬å‘¨æœŸä¸º<strong>90 åˆ†é’Ÿ</strong>ï¼ˆå³å«æ˜Ÿç»•åœ°çƒæ—‹è½¬ä¸€åœˆçš„æ—¶é—´ï¼‰ï¼›</li>
<li>æ“ä½œæç¤ºï¼šâ€œä½¿ç”¨é¼ æ ‡æ‹–åŠ¨å¯ä»¥æ—‹è½¬è§†è§’â€ï¼Œå³é€šè¿‡é¼ æ ‡æ‹–åŠ¨èƒ½ä»ä¸åŒè§’åº¦è§‚å¯Ÿåœ°çƒä¸å«æ˜Ÿã€‚</li>
</ul>
</li>
<li>
<p><strong>3D å¯è§†åŒ–åœºæ™¯</strong>ï¼š</p>
<ul>
<li>èƒŒæ™¯æ˜¯å¸ƒæ»¡æ’æ˜Ÿçš„é»‘è‰²å¤ªç©ºï¼Œæ¨¡æ‹Ÿå®‡å®™ç¯å¢ƒï¼›</li>
<li>ä¸»ä½“æ˜¯<strong>åœ°çƒçš„ 3D æ¨¡å‹</strong>ï¼Œå¯æ¸…æ™°çœ‹åˆ°é™†åœ°ï¼ˆå¦‚éæ´²åŒºåŸŸï¼‰ã€æµ·æ´‹ä¸äº‘å±‚çš„ç»†èŠ‚ï¼›</li>
<li>åœ°çƒå‘¨å›´çš„è“è‰²è½¨è¿¹ç¤ºæ„<strong>å«æ˜Ÿçš„å…¬è½¬è½¨é“</strong>ï¼Œè½¨é“ä¸Šçš„ç™½è‰²ç‰©ä½“ä»£è¡¨ç»•åœ°å«æ˜Ÿã€‚</li>
</ul>
</li>
<li>
<p><strong>äº¤äº’æ§åˆ¶åŒº</strong>ï¼š</p>
<ul>
<li>åº•éƒ¨ â€œæš‚åœ / ç»§ç»­â€ æŒ‰é’®ï¼šæ§åˆ¶åœ°çƒè‡ªè½¬ã€å«æ˜Ÿå…¬è½¬æ¨¡æ‹Ÿçš„å¯åœï¼›</li>
<li>â€œé‡ç½®è§†è§’â€ æŒ‰é’®ï¼šå°†è§‚å¯Ÿè§’åº¦æ¢å¤ä¸ºåˆå§‹çŠ¶æ€ã€‚</li>
</ul>
</li>
</ul>
<p>è¿™ä¸ªç•Œé¢é€šè¿‡ 3D å¯è§†åŒ–å’Œäº¤äº’æ“ä½œï¼Œå¸®åŠ©äººä»¬ç›´è§‚ç†è§£åœ°çƒè‡ªè½¬ã€å«æ˜Ÿå…¬è½¬çš„å‘¨æœŸä¸è¿åŠ¨å…³ç³»ï¼Œæ˜¯å…¼å…·ç§‘æ™®æ€§ä¸äº’åŠ¨æ€§çš„å·¥å…·ã€‚</p>
<h3 data-id="heading-3">ï¼ˆäºŒï¼‰å¤ªé˜³ç³» 3D æ¨¡æ‹Ÿï¼šå¯äº¤äº’çš„ â€œå¾®å‹å®‡å®™â€</h3>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ae7c0d21d5042438570dd66dc6ffdf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=xh2zpppJcdYA5bBHGcRBd%2FzdpCE%3D" alt="" width="50%" loading="lazy"/></p>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>å¤ªé˜³ç³» 3D æ¨¡æ‹Ÿäº¤äº’ç•Œé¢</strong>ï¼Œç”¨äºç›´è§‚å±•ç¤ºå¤ªé˜³ç³»çš„ç»“æ„ä¸è¡Œæ˜Ÿè¿åŠ¨ï¼Œå¯åˆ†ä¸º<strong>å·¦ä¾§æ§åˆ¶é¢æ¿</strong>å’Œ<strong>å³ä¾§ 3D æ¨¡æ‹Ÿåœºæ™¯</strong>ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>
<p>å·¦ä¾§æ§åˆ¶é¢æ¿</p>
<ul>
<li>
<p><strong>æ ‡é¢˜ä¸åŠŸèƒ½è¯´æ˜</strong>ï¼šâ€œå¤ªé˜³ç³» 3D æ¨¡æ‹Ÿâ€ï¼Œæ ¸å¿ƒåŠŸèƒ½æ˜¯æ¢ç´¢å¤ªé˜³ç³»ï¼Œè§‚å¯Ÿè¡Œæ˜Ÿç»•æ—¥è½¨è¿¹ï¼Œæ”¯æŒé€šè¿‡æ»‘å—è°ƒèŠ‚æ¨¡æ‹Ÿé€Ÿåº¦ã€ç¼©æ”¾è§†è§’ï¼Œç‚¹å‡»è¡Œæ˜ŸæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚</p>
</li>
<li>
<p><strong>äº¤äº’æ»‘å—</strong>ï¼š</p>
<ul>
<li>â€œæ¨¡æ‹Ÿé€Ÿåº¦â€ æ»‘å—ï¼šæ§åˆ¶è¡Œæ˜Ÿç»•å¤ªé˜³å…¬è½¬çš„æ¨¡æ‹Ÿé€Ÿç‡ï¼ˆå¦‚åŠ å¿«æˆ–å‡æ…¢å…¬è½¬åŠ¨ç”»ï¼‰ã€‚</li>
<li>â€œç¼©æ”¾â€ æ»‘å—ï¼šè°ƒæ•´ 3D åœºæ™¯çš„è§†è§’ç¼©æ”¾ç¨‹åº¦ï¼ˆæ‹‰è¿‘æˆ–æ‹‰è¿œè§‚å¯Ÿå¤ªé˜³ç³»ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¡Œæ˜Ÿä¿¡æ¯åŒº</strong>ï¼šå½“å‰å±•ç¤º<strong>å¤ªé˜³</strong>çš„å…³é”®å‚æ•°ï¼š</p>
<ul>
<li>ç›´å¾„ï¼š1,392,700 kmï¼ˆå¤ªé˜³ç³»ä¸­æœ€å¤§çš„å¤©ä½“ï¼‰ã€‚</li>
<li>è·ç¦»å¤ªé˜³ï¼š0 AUï¼ˆAU ä¸ºå¤©æ–‡å•ä½ï¼Œæ˜¯å¤ªé˜³åˆ°åœ°çƒçš„å¹³å‡è·ç¦»ï¼Œçº¦ 1.5 äº¿å…¬é‡Œï¼Œå¤ªé˜³ä½œä¸ºä¸­å¿ƒå¤©ä½“ï¼Œè·ç¦»è‡ªèº«ä¸º 0ï¼‰ã€‚</li>
<li>å…¬è½¬å‘¨æœŸï¼š0 å¤©ï¼ˆå¤ªé˜³æ˜¯å¤ªé˜³ç³»ä¸­å¿ƒï¼Œä¸ç»•è‡ªèº«å…¬è½¬ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ“ä½œæŒ‡å—</strong>ï¼šæ˜ç¡®äº†é¼ æ ‡äº¤äº’æ–¹å¼ â€”â€” å·¦é”®æ‹–åŠ¨æ—‹è½¬è§†è§’ã€å³é”®æ‹–åŠ¨å¹³ç§»è§†è§’ã€æ»šè½®ç¼©æ”¾è§†è§’ï¼Œç‚¹å‡»è¡Œæ˜Ÿå¯æŸ¥çœ‹å…¶è¯¦ç»†ä¿¡æ¯ã€‚</p>
</li>
</ul>
</li>
<li>
<p>å³ä¾§ 3D æ¨¡æ‹Ÿåœºæ™¯</p>
<ul>
<li>å‘ˆç°äº†å¤ªé˜³ç³»çš„<strong>3D å¯è§†åŒ–æ•ˆæœ</strong>ï¼šä¸­å¿ƒæ˜¯é»„è‰²çš„<strong>å¤ªé˜³</strong>ï¼Œå‘¨å›´åˆ†å¸ƒç€è¡Œæ˜Ÿï¼ˆå¦‚å¸¦æœ‰æ˜æ˜¾ç¯ç³»ç»Ÿçš„<strong>åœŸæ˜Ÿ</strong>ï¼‰ï¼ŒèƒŒæ™¯æ˜¯å¸ƒæ»¡æ’æ˜Ÿçš„å¤ªç©ºï¼Œè¿˜èƒ½çœ‹åˆ°è¡Œæ˜Ÿçš„è½¨é“è½®å»“ï¼ˆç¤ºæ„è¡Œæ˜Ÿç»•æ—¥çš„è¿è¡Œè·¯å¾„ï¼‰ã€‚ç”¨æˆ·å¯é€šè¿‡å·¦ä¾§çš„äº¤äº’æ“ä½œï¼Œä»ä¸åŒè§’åº¦ã€ä»¥ä¸åŒç¼©æ”¾æ¯”ä¾‹å’Œé€Ÿåº¦ï¼ŒåŠ¨æ€è§‚å¯Ÿå¤ªé˜³ç³»çš„ç©ºé—´ç»“æ„ä¸è¡Œæ˜Ÿè¿åŠ¨ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>è¿™ä¸ªç•Œé¢é€šè¿‡äº¤äº’è®¾è®¡ï¼Œå¸®åŠ©äººä»¬ç›´è§‚ç†è§£å¤ªé˜³ç³»çš„å¤©ä½“ç»„æˆã€ç›¸å¯¹ä½ç½®å’Œè¿åŠ¨è§„å¾‹ï¼Œæ˜¯ä¸€ç§å…¼å…·ç§‘æ™®æ€§ä¸è¶£å‘³æ€§çš„å¯è§†åŒ–å·¥å…·ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äºŒã€è§†é¢‘å†…å®¹</h3>
<h4 data-id="heading-5">ï¼ˆä¸€ï¼‰AI è§†é¢‘ï¼ˆç”„å¬›ä¼ ï¼‰ğŸ¬</h4>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd48ddc5cf934f56b0a3fe8684a27a24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=eVJhWZ38J6MSt5%2FLu4RYLjqR1wc%3D" alt="ç”„å¬›ä¼  (2).gif" width="50%" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1DuCuBJEZX%2F" target="_blank" title="https://www.bilibili.com/video/BV1DuCuBJEZX/" ref="nofollow noopener noreferrer">ğŸ‘‰ï¸è§†é¢‘ä¼ é€é—¨</a></p>
<blockquote>
<p>çœŸï¼çœŸçœŸçš„ï¼è¿™å£°éŸ³ï¼Œè¦ä¸æ˜¯å¥¹å—¦ä»‹ä¸ªâ€œAIâ€æåˆ°ä¸€å“ˆå­ï¼Œé˜”èƒ½éƒ½å¬ä¸ç²—æ¥æ˜¯æœ‰ç”¨ AI å•Šï¼</p>
</blockquote>
<h5 data-id="heading-6">ğŸ‘‚ è¯­è¨€ã€è§†è§‰ç”Ÿæˆçš„å‚æ•°å¯¹æ¯”æƒ…å†µ</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/669eea6980504cc193256fcbffaf7f88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=VnMPKCYHhAa4x6ab9a5HaPBzPAQ%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7a2222401d8413c87975b49d8b4bc50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=Wl2pcV54Tf2wJxYc%2FVkIkX63jIQ%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">ï¼ˆäºŒï¼‰è§†é¢‘åˆ†æã€Šæ— é—´é“ã€‹ğŸ¬ï¼ˆå½±è§†å‰§æƒ…èŠ‚&amp;æ—¶åº&amp;æƒ…ç»ªåˆ†æï¼‰</h4>
<blockquote>
<p>æˆ‘è¿™é‡Œæ˜¯ä¸Šä¼ ä¸€ä»½æ— é—´é“çš„å†…å®¹ï¼Œå…¸å‹çš„ã€ç»å…¸çš„ï¼Œâ€œå¯¹å””ä½ï¼Œæˆ‘ç³»å·®äººï¼â€</p>
<p>æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ å®ƒèƒ½ä¸èƒ½è§£æåˆ†æå‡ºæ¥å§ï¼ï¼</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1636eeaf5f0e4cde92bbfc8429be5d5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=lrMawZDH55u1YFvkRAFbohfDB0E%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-8">ğŸ‘€ è§†è§‰ç†è§£ã€éŸ³é¢‘ç†è§£çš„å‚æ•°å¯¹æ¯”æƒ…å†µ</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3cd64f5d064461197d0294347ce271f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=Ig0U9Z5%2F4kIy8JAPjyWBFlkF%2Bk4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cb7d5857e394a0a9eabed7844978815~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=p6se94E2dIDIR7R%2FgznBMneV6Nc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">ä¸‰ã€å›¾ç‰‡ç”Ÿæˆ</h3>
<h4 data-id="heading-10">ï¼ˆä¸€ï¼‰â€œç‰¹é è°±â€ æ‰‹æ‹¿ â€œå¥¶çš®å­ç³–è‘«èŠ¦â€</h4>
<blockquote>
<p>è¯·ç”Ÿæˆä¸€å¼ ï¼Œâ€œè®©ç‰¹æœ—æ™®åœ¨å¤§è¡—ä¸Šï¼Œæ‰‹æ‹¿ä¸€ä¸ªå¥¶çš®å­ç³–è‘«èŠ¦ï¼Œå¹¶é¢å‘é•œå¤´â€</p>
</blockquote>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7734a05f29bb4195b32de1217b91839d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=3JDkNQH9D%2BRfrkttlMuoRjvFxRU%3D" alt="" width="50%" loading="lazy"/></p>
<h4 data-id="heading-11">ï¼ˆäºŒï¼‰â€œé©¬æ–¯å…‹â€ å’Œ â€œæœ±è¿ªâ€ è­¦å®˜æ¡æ‰‹</h4>
<blockquote>
<p>ç”Ÿæˆä¸€å¼ å›¾ç‰‡ï¼Œè®©é©¬æ–¯å…‹å’Œæœ±è¿ªè­¦å®˜è¿›è¡Œæ¡æ‰‹ï¼Œè¦è‡ªç„¶ä¸€ç‚¹é¢å‘é•œå¤´</p>
</blockquote>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f005f4ba86754476bec8fb6fc13feccb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=J0x%2F07q7l30gc0njZOk7OXkhvqY%3D" alt="" width="50%" loading="lazy"/></p>
<h3 data-id="heading-12">âš¡ å¤ç›˜ï¼šå…³é”®æŠ€æœ¯çš„å‡çº§</h3>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58871529f10846d4b4679bb0a2ae7181~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=n2R2IC%2FQad4lvoELYX2oW4ZJnmA%3D" alt="" width="50%" loading="lazy"/></p>
<h4 data-id="heading-13">1. åŸç”Ÿå…¨æ¨¡æ€å»ºæ¨¡ï¼šä»æ ¹ä¸Šè§£å†³ â€œä¿¡æ¯å‰²è£‚â€ éš¾é¢˜âœ…</h4>
<p>å’Œå¾ˆå¤šæ¨¡å‹ â€œå…ˆå¤„ç†å•æ¨¡æ€ã€å†æ‹¼æ¥èåˆâ€ ä¸åŒï¼Œæ–‡å¿ƒ 5.0 ä»è®­ç»ƒä¸€å¼€å§‹å°±æŠŠæ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰æ•°æ® â€œæ‰åœ¨ä¸€èµ·å­¦â€ã€‚ä¸ç®¡æ˜¯åŒæ—¶è¾“å…¥æ–‡æ¡£ + äº§å“å›¾ + è®²è§£éŸ³é¢‘ï¼Œè¿˜æ˜¯è¦è¾“å‡ºå›¾æ–‡ç»“åˆçš„æŠ¥å‘Š + é…å¥—çŸ­è§†é¢‘ï¼Œå®ƒéƒ½èƒ½ç›´æ¥æ‰“é€šä¸åŒä¿¡æ¯å½¢å¼ï¼Œä¸ç”¨å†é åæœŸæŠ€æœ¯ â€œè¡¥æ¼æ´â€ï¼ŒçœŸæ­£å®ç°äº†å¤šæ¨¡æ€ä¿¡æ¯çš„ç»Ÿä¸€ç†è§£ä¸ç”Ÿæˆã€‚</p>
<h4 data-id="heading-14">2. ç†è§£ä¸ç”Ÿæˆä¸€ä½“åŒ–ï¼šè®© AI â€œçœ‹æ‡‚â€ å’Œ â€œä¼šé€ â€ ç›¸è¾…ç›¸æˆâœ…</h4>
<p>ä»¥å¾€å¤šæ¨¡æ€æ¨¡å‹å¸¸å‡ºç° â€œèƒ½çœ‹æ‡‚å›¾å´å†™ä¸å‡ºå‡†æè¿°ï¼Œæˆ–èƒ½ç”Ÿæˆå†…å®¹å´ç†è§£é”™éœ€æ±‚â€ çš„é—®é¢˜ï¼Œæ–‡å¿ƒ 5.0 é€šè¿‡ç²¾ç»†åŒ–æ‰“ç£¨å¤šæ¨¡æ€è¯­ä¹‰ç‰¹å¾ï¼ŒæŠŠ â€œç†è§£ä¿¡æ¯â€ å’Œ â€œç”Ÿæˆå†…å®¹â€ çš„èƒ½åŠ›ç»‘åœ¨ä¸€èµ·å‡çº§ã€‚æ¯”å¦‚åˆ†æä¸€æ®µäº§å“æµ‹è¯„è§†é¢‘æ—¶ï¼Œæ—¢èƒ½ç²¾å‡†æå–æ ¸å¿ƒå–ç‚¹ï¼ˆç†è§£ï¼‰ï¼Œåˆèƒ½æ®æ­¤ç”Ÿæˆå¸¦è´§æ–‡æ¡ˆ + æ¼”ç¤ºåŠ¨ç”»ï¼ˆç”Ÿæˆï¼‰ï¼Œä¸¤è€…äº’ç›¸åŠ©åŠ›ï¼Œå¤§å¹…æå‡äº†å…¨åœºæ™¯ä¸‹çš„å¤šæ¨¡æ€å¤„ç†æ•ˆæœã€‚</p>
<h4 data-id="heading-15">3. è‡ªå›å½’ç»Ÿä¸€æ¶æ„ï¼šç”¨ â€œä¸€å¥—é€»è¾‘â€ å­¦é€æ‰€æœ‰æ¨¡æ€âœ…</h4>
<p>ä¸ºäº†è®©æ–‡å­—ã€å›¾åƒç­‰ä¸åŒæ¨¡æ€çš„ç‰¹å¾èƒ½æ·±åº¦èåˆï¼Œæ–‡å¿ƒ 5.0 æŠŠå„æ¨¡æ€çš„è®­ç»ƒç›®æ ‡è½¬åŒ–ä¸ºç»Ÿä¸€çš„ç¦»æ•£æ ¼å¼ï¼Œå†ç”¨ä¸€å¥—è‡ªå›å½’æ¶æ„å®Œæˆè®­ç»ƒã€‚å°±åƒç”¨åŒä¸€ç§ â€œè¯­è¨€â€ æ•™ AI è¯†åˆ«å›¾ç‰‡ã€è§£è¯»æ–‡å­—ã€åˆ†æéŸ³é¢‘ï¼Œè®©ä¸åŒç±»å‹çš„ä¿¡æ¯åœ¨åŒä¸€ä¸ªæ¡†æ¶é‡Œå……åˆ†ç£¨åˆã€ä¼˜åŒ–ï¼Œä»æ ¹æœ¬ä¸Šå¢å¼ºäº†å¤šæ¨¡æ€ç»Ÿä¸€å»ºæ¨¡çš„èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-16">4. è¶…å¤§è§„æ¨¡æ··åˆä¸“å®¶ç»“æ„ï¼š2 ä¸‡äº¿å‚æ•°ä¹Ÿèƒ½ â€œè½»è£…ä¸Šé˜µâ€âœ…</h4>
<pre><code class="hljs">Â Â å‚æ•°è§„æ¨¡ä¸æ¿€æ´»æ•ˆç‡åŒçªç ´ã€è®­ç»ƒæ•ˆç‡é£™å‡ã€æ¨ç†æˆæœ¬å¤§é™
</code></pre>
<h4 data-id="heading-17">5. é•¿ç¨‹ä»»åŠ¡å¢å¼ºçš„æ™ºèƒ½ä½“èƒ½åŠ›ï¼šAI èƒ½ â€œè¿è´¯åšäº‹â€ äº†âœ…</h4>
<p>é€šè¿‡å¤§é‡çœŸå®æˆ–æ¨¡æ‹Ÿåœºæ™¯çš„é•¿ä»»åŠ¡æ•°æ®ï¼ˆæ¯”å¦‚å¤æ‚é¡¹ç›®è§„åˆ’ã€å¤šæ­¥å·¥å…·è°ƒç”¨æµç¨‹ï¼‰ï¼Œæ–‡å¿ƒ 5.0 åœ¨è®­ç»ƒä¸­å¼ºåŒ–äº† â€œæŒ‰æ­¥éª¤è§£å†³é—®é¢˜â€ çš„èƒ½åŠ›ã€‚å®ƒä¼šåƒäººä¸€æ · â€œå…ˆæ€è€ƒã€å†è¡ŒåŠ¨â€ï¼Œè¿˜èƒ½é€šè¿‡å¤šè½®å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–æµç¨‹ï¼Œæ¯”å¦‚ç”¨å®ƒåšå¸‚åœºè°ƒç ”ï¼Œèƒ½è‡ªåŠ¨è°ƒç”¨æ•°æ®åˆ†æå·¥å…·ã€æ•´ç†æŠ¥å‘Šã€ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ï¼Œä¸€æ­¥æ¥ä¸€æ­¥å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œå·¥å…·è°ƒç”¨å’Œæ™ºèƒ½å†³ç­–èƒ½åŠ›æ˜æ˜¾æå‡ã€‚</p>
<h3 data-id="heading-18">ğŸš€ç»“è¯­ï¼šAI â€œç†è§£åŠ›ä¹‹æˆ˜â€ çš„æ ¸å¿ƒï¼Œæ˜¯è®©æŠ€æœ¯è´´è¿‘å…¨èƒ½</h3>
<p>ä»æ–‡å¿ƒ 5.0 çš„äº¤äº’ä½“éªŒåˆ°æ•°å­—äººè½åœ°ï¼Œèƒ½æ¸…æ™°çœ‹åˆ°ä¸€ä¸ªè¶‹åŠ¿ï¼šå…¨çƒ AI ç«äº‰å·²ä» â€œå‚æ•°è§„æ¨¡â€ è½¬å‘ â€œç†è§£åŠ›æ·±åº¦â€ã€‚æ— è®ºæ˜¯ä¸ GPT-5.1 å¯¹æ ‡çš„ â€œæƒ…å•†â€ï¼ˆæƒ…ç»ªè§£è¯»ã€éœ€æ±‚é¢„åˆ¤ï¼‰ï¼Œè¿˜æ˜¯åŸç”Ÿå…¨æ¨¡æ€å»ºæ¨¡å¸¦æ¥çš„ â€œæ²‰æµ¸å¼ç†è§£â€ï¼Œæœ¬è´¨éƒ½æ˜¯è®© AI ä» â€œèƒ½è®¡ç®—â€ èµ°å‘ â€œä¼šæ„ŸçŸ¥â€ï¼è¿™åœºå‡çº§ï¼Œæˆ‘è®¤å¯äº†ï¼ä½ è®¤å¯å—ï¼Ÿ</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd8517c0574241238f76d346795ed1da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763737136&amp;x-signature=iXgo2chUC7zeik3ZHHrpjBXFJ3w%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯é«˜é¢‘é¢è¯•é¢˜ä¹‹Vuexç¯‡]]></title>    <link>https://juejin.cn/post/7572397142364799018</link>    <guid>https://juejin.cn/post/7572397142364799018</guid>    <pubDate>2025-11-14T13:15:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572397142364799018" data-draft-id="7572190151352827904" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯é«˜é¢‘é¢è¯•é¢˜ä¹‹Vuexç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Vue.js"/> <meta itemprop="datePublished" content="2025-11-14T13:15:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å¯’"/> <meta itemprop="url" content="https://juejin.cn/user/694547078987287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯é«˜é¢‘é¢è¯•é¢˜ä¹‹Vuexç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547078987287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å¯’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T13:15:21.000Z" title="Fri Nov 14 2025 13:15:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ã€Vuex æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨ Vuexï¼Ÿ</h2>
<p>Vuex æ˜¯ä¸“é—¨ä¸º Vue.js åº”ç”¨æä¾›çŠ¶æ€ç®¡ç†æ¨¡å¼çš„ä¸€ä¸ªåº“ï¼Œä¹Ÿæ˜¯ Vue.js å®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œå®ƒå°†æ‰€æœ‰æ•°æ®é›†ä¸­å­˜å‚¨åˆ°ä¸€ä¸ªå…¨å±€ <code>store</code> å¯¹è±¡ä¸­ï¼Œå¹¶åˆ¶å®šäº†ä¸€å®šçš„è§„åˆ™ï¼Œä¿è¯çŠ¶æ€ä»¥é¢„æœŸçš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒæ¦‚å¿µæœ‰ï¼š</p>
<ul>
<li><strong>state</strong>ï¼šå­˜å‚¨çŠ¶æ€ï¼Œå¹¶æä¾›å“åº”å¼èƒ½åŠ›ã€‚</li>
<li><strong>getter</strong>: ä» state ä¸­æ´¾ç”Ÿå‡ºä¸€äº›çŠ¶æ€ï¼Œç›¸å½“äº Vue.js ä¸­çš„è®¡ç®—å±æ€§ computedã€‚</li>
<li><strong>mutation</strong>: é€šè¿‡æäº¤ mutationï¼Œæ˜¯ Vuex ä¸­ä¿®æ”¹ state çš„æ¨èæ–¹å¼ã€‚</li>
<li><strong>action</strong>ï¼šå¯ä»¥åŒ…æ‹¬å¼‚æ­¥æ“ä½œï¼Œå¼‚æ­¥æ“ä½œå¤„ç†å®Œåï¼Œé€šè¿‡æäº¤ mutation ä¿®æ”¹çŠ¶æ€ã€‚</li>
<li><strong>module</strong>: æ¨¡å—åŒ–ï¼Œå¯ä»¥å°† store åˆ†å‰²æˆä¸€ä¸ªä¸ªå°æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€getterã€mutationã€actionï¼Œç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—ã€‚</li>
</ul>
<p>åœ¨æ„å»º<strong>ä¸­å¤§å‹å•é¡µåº”ç”¨</strong>æ—¶ï¼Œå„ç»„ä»¶å’Œæ¨¡å—çš„çŠ¶æ€æµè½¬é€»è¾‘ä¼šç›¸å½“å¤æ‚ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ <code>Vuex</code> è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†ï¼Œå¹¶ä¸”é‡Œé¢ç”¨<code>ä¸¥æ ¼çš„ mutation</code> ä¿è¯äº†çŠ¶æ€çš„é¢„æœŸæµè½¬ï¼Œä½¿å¾—é¡¹ç›®çš„æ•°æ®æµå˜å¾—æ¸…æ™°ï¼Œæé«˜äº†é¡¹ç›®å¯ç»´æŠ¤æ€§ã€‚</p>
<h2 data-id="heading-1">2ã€å¦‚ä½•è§£å†³é¡µé¢åˆ·æ–°å Vuex çš„æ•°æ®ä¸¢å¤±é—®é¢˜ï¼Ÿ</h2>
<p><strong>æ•°æ®ä¸¢å¤±åŸå› </strong>ï¼šVuex ä¸­çš„çŠ¶æ€ state æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œåˆ·æ–°é¡µé¢ä¼šå¯¼è‡´å†…å­˜æ¸…ç©ºï¼Œæ‰€ä»¥æ•°æ®ä¸¢å¤±ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<h3 data-id="heading-2">2.1 ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨æŒä¹…åŒ–å­˜å‚¨ä¿å­˜æ•°æ®</h3>
<p>å°† Vuex çš„æ•°æ®åœ¨åˆé€‚æ—¶æœºï¼ˆæ¯”å¦‚ç›‘å¬ window çš„<code>beforeunload</code> äº‹ä»¶ï¼‰ä¿å­˜åˆ°æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ï¼ˆ<code>localStorage</code> æˆ– <code>sessionStorage</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é‡‡ç”¨ <code>vuex-persistedstate</code> æŒä¹…åŒ–æ’ä»¶ï¼ˆé»˜è®¤ä¼šå­˜å‚¨åˆ° localStorage ä¸­ï¼Œå¯é€šè¿‡é…ç½®ä¿®æ”¹ï¼‰è¿›è¡Œæœ¬åœ°å­˜å‚¨ã€‚</p>
<h3 data-id="heading-3">2.2 ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–åº”ç”¨ï¼Œæ›¿æ¢çŠ¶æ€</h3>
<p>åº”ç”¨åˆå§‹åŒ–åŠ è½½æ—¶ï¼Œè·å–å­˜å‚¨ä¸­çš„çŠ¶æ€è¿›è¡Œæ›¿æ¢ã€‚Vuex ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª <code>replaceState(state: Object)</code>  APIï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿è¿›è¡ŒçŠ¶æ€æ›¿æ¢ã€‚</p>
<h3 data-id="heading-4">2.3 ç¬¬ä¸‰æ­¥ï¼šæ£€æŸ¥æ•°æ®ï¼Œå‘èµ·è¯·æ±‚</h3>
<p>åœ¨çŠ¶æ€æ›¿æ¢åï¼Œè¿˜éœ€è¦æ£€æŸ¥ Vuex ä¸­çš„æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™å¯ä»¥åœ¨ <code>action</code> ä¸­å‘é€æ¥å£è¯·æ±‚æ‹¿åˆ°æ•°æ®ï¼Œé€šè¿‡æäº¤ <code>mutation</code> ä¿®æ”¹çŠ¶æ€æŠŠæ•°æ®å­˜å‚¨åˆ° <code>store</code> ä¸­ã€‚</p>
<h3 data-id="heading-5">2.4 ç¬¬å››æ­¥ï¼šçŠ¶æ€åŒæ­¥</h3>
<p>çŠ¶æ€å˜åŒ–åå°†çŠ¶æ€åŒæ­¥åˆ°æµè§ˆå™¨å­˜å‚¨ä¸­ï¼Œä¿è¯æœ¬åœ°å­˜å‚¨ä¸­çŠ¶æ€çš„å®æ—¶æ€§ã€‚</p>
<blockquote>
<p>ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŠŠæ•°æ®æŒä¹…åŒ–åˆ° localStorage æˆ–è€… sessionStorage ä¸­ï¼Œä¼šæœ‰ä¸€å®šçš„å®‰å…¨é£é™©ï¼š</p>
<ol>
<li>æ•°æ®ç›´æ¥å…¨éƒ¨æš´éœ²åœ¨ storage å¯é€šè¿‡æ§åˆ¶å°çš„ <code>Application</code> é€‰é¡¹å¡è¿›è¡ŒæŸ¥çœ‹ï¼Œæ•°æ®å®¹æ˜“æ³„æ¼ã€‚æŒä¹…åŒ–çš„æ•°æ®æ¯•ç«Ÿæ²¡æœ‰å†…å­˜ä¸­çš„æ•°æ®å®‰å…¨ã€‚</li>
<li>ç”¨æˆ·å¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å° <code>Application</code> ä¸­ç›´æ¥ä¿®æ”¹æ•°æ®ï¼Œä»è€Œå¯èƒ½ç»•è¿‡æŸäº›æƒé™æ ¡éªŒï¼Œçœ‹åˆ°ä¸€äº›é¢„æœŸå¤–çš„ç•Œé¢å’Œäº¤äº’ã€‚</li>
</ol>
</blockquote>
<h2 data-id="heading-6">3ã€mutation å’Œ action çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</h2>
<ul>
<li><strong>ä½œç”¨ä¸åŒ</strong>ï¼šaction æ˜¯ç”¨æ¥å¤„ç†å¼‚æ­¥é€»è¾‘æˆ–è€…ä¸šåŠ¡é€»è¾‘ï¼Œè€Œ mutation æ˜¯ç”¨æ¥ä¿®æ”¹çŠ¶æ€çš„ã€‚</li>
<li><strong>ä½¿ç”¨é™åˆ¶</strong>ï¼šaction ä¸­å¯ä»¥è°ƒç”¨ mutation æˆ–è€…å…¶ä»– actionï¼Œè€Œ mutation ä¸­åˆ™åªèƒ½ä¿®æ”¹ stateã€‚</li>
<li><strong>è¿”å›å€¼ä¸åŒ</strong>ï¼š<code>dispatch</code> æ—¶ä¼šå°† action åŒ…è£…æˆ promiseï¼Œè€Œ mutation åˆ™æ²¡è¿›è¡ŒåŒ…è£…ã€‚</li>
<li><strong>ä¸¥æ ¼æ¨¡å¼ä¸‹çš„å·®å¼‚</strong>ï¼šåœ¨ Vuex å¼€å¯ä¸¥æ ¼æ¨¡å¼ <code>strict: true</code> åï¼Œä»»ä½•é mutation å‡½æ•°ä¿®æ”¹çš„çŠ¶æ€ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
</ul>
<h3 data-id="heading-7">æ‰©å±•ï¼švuex ä¸¥æ ¼æ¨¡å¼æ˜¯å¦‚ä½•ç›‘å¬é mutation å‡½æ•°ä¿®æ”¹çŠ¶æ€çš„ï¼Ÿ</h3>
<p><strong>å…¶æ ¸å¿ƒæ€è·¯å¦‚ä¸‹ï¼š</strong></p>
<ol>
<li>ç”¨<code>this._committing</code> è¡¨ç¤ºç¨‹åºæ˜¯å¦å¤„äº <code>commit</code> æ‰§è¡Œè¿‡ç¨‹ã€‚</li>
<li>ç”¨åŒæ­¥ watchï¼ˆåŒæ­¥ç›‘å¬çš„æ„æ€æ˜¯ï¼Œä¸€æ—¦æ•°æ®å‘ç”Ÿå˜åŒ–ä¼šç«‹å³è°ƒç”¨å›è°ƒï¼Œè€Œä¸æ˜¯åœ¨ <code>ä¸‹ä¸€æ¬¡ Tick</code> ä¸­è°ƒç”¨ï¼‰ ç›‘å¬ store ä¸­çš„ state çŠ¶æ€ï¼ˆæ·±åº¦ç›‘å¬ï¼‰ã€‚</li>
<li>å¦‚æœåœ¨ <code>commit</code> æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œstate å‘ç”Ÿäº†å˜åŒ–ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¼šæŠ¥é”™ã€‚</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Store</span> {
  <span class="hljs-title function_">commit</span>(<span class="hljs-params">_type, _payload, _options</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_withCommit</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// commit ä¸­çš„å¤„ç†</span>
      entry.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">commitIterator</span>(<span class="hljs-params">handler</span>) {
        <span class="hljs-title function_">handler</span>(payload);
      });
    });
  }
  <span class="hljs-title function_">_withCommit</span>(<span class="hljs-params">fn</span>) {
    <span class="hljs-keyword">const</span> committing = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_committing</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_committing</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-title function_">fn</span>(); <span class="hljs-comment">// å¦‚æœå‡½æ•°å†…éƒ¨æœ‰å¼‚æ­¥ä¿®æ”¹çŠ¶æ€é€»è¾‘ï¼Œåˆ™ä¸‹é¢çš„ watch æ—¶ä¼šæŠ¥é”™</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_committing</span> = committing;
  }
}
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">enableStrictMode</span>(<span class="hljs-params">store</span>) {
  <span class="hljs-title function_">watch</span>(
    <span class="hljs-function">() =&gt;</span> store.<span class="hljs-property">_state</span>.<span class="hljs-property">data</span>,
    <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (__DEV__) { <span class="hljs-comment">// å¼€å‘ç¯å¢ƒæŠ¥é”™</span>
        <span class="hljs-title function_">assert</span>(
          store.<span class="hljs-property">_committing</span>,
          <span class="hljs-string">`do not mutate vuex store state outside mutation handlers.`</span>
        );
      }
    },
    { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">flush</span>: <span class="hljs-string">"sync"</span> } <span class="hljs-comment">// å®šä¹‰åŒæ­¥çš„ watcher è¿›è¡ŒåŒæ­¥ç›‘æ§</span>
  );
}
</code></pre>
<h2 data-id="heading-8">4ã€Vuex çš„ module åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šä½¿ç”¨ï¼Ÿ</h2>
<p>ç”¨å®˜æ–¹çš„è¯æ¥è¯´å°±æ˜¯ï¼Œ<strong>â€œä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚â€</strong></p>
<p>æ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘å¤æ‚åº”ç”¨æ—¶ï¼Œå¯ä»¥æŒ‰ç…§ä¸šåŠ¡é€»è¾‘å°†åº”ç”¨çŠ¶æ€è¿›è¡Œ modules æ‹†åˆ†ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>ç”¨æˆ·æ¨¡å— userï¼›</li>
<li>è®¢å•æ¨¡å— orderï¼›</li>
<li>è¯¾ç¨‹æ¨¡å— courseï¼›</li>
<li>...ç­‰å…¶å®ƒæ¨¡å—ã€‚</li>
</ol>
<p>è¿™æ ·åœ¨å¼€å‘åº”ç”¨å’Œç»´æŠ¤çŠ¶æ€æ—¶æ›´åŠ ç²¾ç»†å’Œæ¸…æ™°ï¼Œå¯ç»´æŠ¤æ€§æ›´å¼ºã€‚</p>
<h2 data-id="heading-9">5ã€Vuex å’Œ Pinia çš„åŒºåˆ«ï¼Ÿ</h2>
<p><code>Pinia</code> æ˜¯ä»¥ <code>Vuex 5</code> ä¸ºåŸå‹ï¼Œç”± Vue.js å®˜æ–¹å›¢é˜Ÿå¼€å‘çš„æ–°ä¸€ä»£ Vue å®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚</p>
<p><strong>å®ƒå¯¹æ¯” Vuex æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</strong></p>
<h3 data-id="heading-10">5.1 API è®¾è®¡å’Œä½¿ç”¨æ–¹å¼</h3>
<ul>
<li><strong>Vuex</strong>ï¼šé‡‡ç”¨å•ä¸€ store ç»“æ„ï¼Œéœ€è¦ä¸¥æ ¼åŒºåˆ† mutationï¼ˆåŒæ­¥ä¿®æ”¹çŠ¶æ€ï¼‰å’Œ actionï¼ˆå¼‚æ­¥æ“ä½œï¼‰ã€‚çŠ¶æ€ä¿®æ”¹å¿…é¡»é€šè¿‡ commit mutations è¿›è¡Œï¼Œè™½ç„¶è®©æ•°æ®æµå‘æ›´æ¸…æ™°ï¼Œä½†ä¹Ÿä¼šè®©ä»£ç æ›´åŠ å†—é•¿ã€‚</li>
<li><strong>Pinia</strong>ï¼šæ›´ç®€å•çš„ API è®¾è®¡ï¼Œæ‰€è§å³æ‰€å¾—ï¼Œä¹Ÿæä¾›äº†ç¬¦åˆç»„åˆå¼ API é£æ ¼çš„ APIï¼ˆæ¯”å¦‚ç”¨ defineStore å®šä¹‰ storeï¼‰ã€‚å»æ‰äº† mutationï¼Œç›´æ¥åœ¨ actions ä¸­ä¿®æ”¹ stateï¼ˆæ”¯æŒåŒæ­¥/å¼‚æ­¥ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-11">5.2 æ¨¡å—åŒ–å’Œç»“æ„</h3>
<ul>
<li><strong>Vuex</strong>ï¼šæ”¯æŒæ¨¡å—åŒ–ï¼ˆmodulesï¼‰ï¼Œä½†éœ€è¦åœ¨å•ä¸€ store ä¸­ç»„ç»‡ï¼Œå¯èƒ½å¯¼è‡´å¤§å‹é¡¹ç›® store è†¨èƒ€ã€‚</li>
<li><strong>Pinia</strong>ï¼šå¤©ç”Ÿæ¨¡å—åŒ–ï¼Œæ¯ä¸ª store ç‹¬ç«‹å®šä¹‰å’Œå¯¼å…¥ï¼Œæ”¯æŒåŠ¨æ€æ³¨å†Œå’Œçƒ­é‡è½½ã€‚æ›´é€‚åˆå¤§å‹åº”ç”¨ï¼Œä¾¿äºæ‹†åˆ†æˆå° storeã€‚</li>
</ul>
<h3 data-id="heading-12">5.3 TypeScript æ”¯æŒ</h3>
<ul>
<li><strong>Vuex</strong>ï¼šTypeScript æ”¯æŒä¸€èˆ¬ï¼Œéœ€è¦é¢å¤–é…ç½®ï¼›</li>
<li><strong>Pinia</strong>ï¼šæœ¬èº«æºç å°±æ˜¯ç”¨ TypeScript ç¼–å†™ï¼Œæ‰€ä»¥å¯¹TypeScript æ”¯æŒååˆ†å‹å¥½ï¼Œå…·å¤‡è‡ªåŠ¨æ¨æ–­ç±»å‹ã€ç±»å‹å®‰å…¨å’Œä»£ç è¡¥å…¨ã€‚</li>
</ul>
<h3 data-id="heading-13">5.4 æ€§èƒ½å’Œé›†æˆ</h3>
<ul>
<li><strong>Vuex</strong>ï¼šVuex4 åœ¨ Vue3 ä¸­å¯ç”¨ï¼Œä½†ä¸ Composition API é›†æˆä¸å¤Ÿé¡ºç•…ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„é€‚é…ï¼›</li>
<li><strong>Pinia</strong>ï¼šæ›´è½»é‡ï¼ˆä½“ç§¯å°ï¼Œçº¦1kbï¼‰ï¼Œæ€§èƒ½æ›´å¥½ï¼›å®Œç¾æ”¯æŒ Vue 3 çš„ Composition API å’Œ reactivity ç³»ç»Ÿã€‚</li>
</ul>
<h2 data-id="heading-14">6ã€Pinia å’Œ Vuex å¦‚ä½•é€‰æ‹©ï¼Ÿ</h2>
<ul>
<li><strong>æ–°é¡¹ç›®</strong>ï¼šå¼ºçƒˆæ¨èç”¨ <code>Vue3 + Pinia</code>ï¼›</li>
<li><strong>è€ Vue2 é¡¹ç›®</strong>ï¼šå¦‚æœä¸æŠŠé¡¹ç›®å‡çº§åˆ° Vue3 è¿˜æ˜¯å»ºè®®ç”¨ Vuexï¼Œå¦‚æœéœ€è¦å‡çº§åˆ° vue3ï¼Œå°±å¯ä»¥é€æ­¥æŠŠ Vuex æ›¿æ¢ä¸º Piniaï¼ŒVuex å’Œ Pinia æ˜¯å¯ä»¥åŒæ—¶å®‰è£…åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œè¿™ä¹Ÿä¸ºé¡¹ç›®å‡çº§æä¾›äº†ä¸€å®šçš„ä¾¿åˆ©ã€‚å½“ç„¶ï¼Œç”± <code>Vuex -&gt; Pinia</code>ï¼Œæ˜¯ä¸€æ¬¡ï¼Œæ— ç–‘å’Œ <code>Vue2 -&gt; Vue3</code> ä¸€æ ·ï¼Œæ˜¯ä¸€æ¬¡å¤§çš„ç ´åæ€§å‡çº§ï¼Œå·¥ä½œé‡è¿˜æ˜¯ç›¸å½“å¤§çš„ã€‚</li>
</ul>
<h2 data-id="heading-15">ç»“è¯­</h2>
<p>ä»¥ä¸Šæ˜¯æ•´ç†çš„ Vuex çš„é«˜é¢‘é¢è¯•é¢˜ï¼Œå¦‚æœ‰é”™è¯¯æˆ–è€…å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹æ¬¢è¿è¯„è®ºåŒºæŒ‡æ­£ï¼Œåç»­è¿˜ä¼šæ›´æ–° Vue-router ç›¸å…³é¢è¯•é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹æŒæ¡C#æ ¸å¿ƒï¼šå˜é‡ä¸æ•°æ®ç±»å‹]]></title>    <link>https://juejin.cn/post/7572408208263200808</link>    <guid>https://juejin.cn/post/7572408208263200808</guid>    <pubDate>2025-11-14T13:22:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572408208263200808" data-draft-id="7572382777838354472" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹æŒæ¡C#æ ¸å¿ƒï¼šå˜é‡ä¸æ•°æ®ç±»å‹"/> <meta itemprop="keywords" content="å‰ç«¯,C#"/> <meta itemprop="datePublished" content="2025-11-14T13:22:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒ›é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/950397795841032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹æŒæ¡C#æ ¸å¿ƒï¼šå˜é‡ä¸æ•°æ®ç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/950397795841032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒ›é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T13:22:13.000Z" title="Fri Nov 14 2025 13:22:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯å˜é‡ï¼Ÿ</h2>
<p><strong>å˜é‡</strong> æ˜¯æŒ‡ç¨‹åºç”¨æ¥å­˜å‚¨å’Œå¼•ç”¨æ•°æ®çš„<strong>å­˜å‚¨åŒºçš„åå­—</strong>ã€‚æ¯ä¸ªå˜é‡éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„<strong>ç±»å‹</strong>ï¼Œå®ƒå†³å®šäº†å˜é‡æ‰€å å†…å­˜çš„å¤§å°å’Œå¸ƒå±€ï¼Œä»¥åŠå¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´å’Œå¯ä»¥å¯¹å…¶æ‰§è¡Œçš„æ“ä½œã€‚ä½ å¯ä»¥å°†å˜é‡æƒ³è±¡æˆä¸€ä¸ªå¸¦æ ‡ç­¾çš„å®¹å™¨ï¼Œç”¨äºå­˜å‚¨æ•°æ®ä»¥ä¾¿åœ¨ç¨‹åºä¸­é‡å¤ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">å˜é‡çš„å£°æ˜ä¸åˆå§‹åŒ–</h2>
<p>åœ¨C#ä¸­ï¼Œä½¿ç”¨å˜é‡å‰å¿…é¡»å…ˆâ€œå£°æ˜â€å®ƒï¼Œä¹Ÿå°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹å’Œåç§°ã€‚</p>
<p><strong>å£°æ˜è¯­æ³•ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">&lt;data_type&gt; &lt;variable_name&gt;;
</code></pre>
<p>ä¾‹å¦‚ï¼Œå£°æ˜ä¸€ä¸ªç”¨æ¥å­˜å‚¨æ•´æ•°çš„å˜é‡ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">int</span> age;
</code></pre>
<p>å£°æ˜ä¹‹åï¼Œä½ å¯ä»¥ç»™å˜é‡èµ‹å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œåˆå§‹åŒ–â€ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">age = <span class="hljs-number">25</span>;
</code></pre>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å£°æ˜çš„åŒæ—¶è¿›è¡Œåˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">int</span> age = <span class="hljs-number">25</span>;
</code></pre>
<p>å…»æˆåˆå§‹åŒ–å˜é‡çš„å¥½ä¹ æƒ¯ï¼Œå¯ä»¥é¿å…ç¨‹åºå‡ºç°æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚</p>
<h2 data-id="heading-2">C#çš„æ•°æ®ç±»å‹ï¼šä¸¤å¤§é˜µè¥</h2>
<p>åœ¨C#ä¸­ï¼Œæ•°æ®ç±»å‹ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š<strong>å€¼ç±»å‹ï¼ˆValue Typesï¼‰</strong> å’Œ <strong>å¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰</strong>ã€‚</p>
<h3 data-id="heading-3">1. å€¼ç±»å‹ (Value Types)</h3>
<p>å€¼ç±»å‹çš„å˜é‡ç›´æ¥åŒ…å«å…¶æ•°æ®ã€‚ å½“ä½ å°†ä¸€ä¸ªå€¼ç±»å‹å˜é‡èµ‹ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œå®é™…ä¸Šæ˜¯åˆ›å»ºäº†è¯¥æ•°æ®çš„å®Œæ•´å‰¯æœ¬ã€‚ å®ƒä»¬é€šå¸¸å­˜å‚¨åœ¨å†…å­˜çš„â€œæ ˆâ€ä¸Šï¼Œè®¿é—®é€Ÿåº¦å¿«ã€‚</p>
<p>å¸¸è§çš„å†…ç½®å€¼ç±»å‹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ•´å‹ï¼š</strong> ç”¨äºè¡¨ç¤ºæ•´æ•°ã€‚
<ul>
<li><code>int</code>: 32ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œæœ€å¸¸ç”¨ã€‚</li>
<li><code>long</code>: 64ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œç”¨äºè¡¨ç¤ºéå¸¸å¤§çš„æ•´æ•°ã€‚</li>
<li><code>short</code>: 16ä½æœ‰ç¬¦å·æ•´æ•°ã€‚</li>
<li><code>byte</code>: 8ä½æ— ç¬¦å·æ•´æ•° (0 åˆ° 255)ã€‚</li>
</ul>
</li>
<li><strong>æµ®ç‚¹å‹ï¼š</strong> ç”¨äºè¡¨ç¤ºå¸¦æœ‰å°æ•°çš„æ•°å­—ã€‚
<ul>
<li><code>float</code>: å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚</li>
<li><code>double</code>: åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œç²¾åº¦æ›´é«˜ï¼Œæ›´å¸¸ç”¨ã€‚</li>
<li><code>decimal</code>: ç”¨äºé«˜ç²¾åº¦çš„è´¢åŠ¡å’Œè´§å¸è®¡ç®—ã€‚</li>
</ul>
</li>
<li><strong>å¸ƒå°”å‹ï¼š</strong>
<ul>
<li><code>bool</code>: åªèƒ½æ˜¯ <code>true</code> æˆ– <code>false</code>ã€‚</li>
</ul>
</li>
<li><strong>å­—ç¬¦å‹ï¼š</strong>
<ul>
<li><code>char</code>: è¡¨ç¤ºå•ä¸ªUnicodeå­—ç¬¦ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">int</span> myInt = <span class="hljs-number">10</span>;
<span class="hljs-built_in">int</span> anotherInt = myInt; <span class="hljs-comment">// anotherInt è·å¾—äº† myInt çš„ä¸€ä¸ªå‰¯æœ¬</span>

anotherInt = <span class="hljs-number">20</span>;

Console.WriteLine(myInt);      <span class="hljs-comment">// è¾“å‡º 10</span>
Console.WriteLine(anotherInt); <span class="hljs-comment">// è¾“å‡º 20</span>
<span class="hljs-comment">// å¯ä»¥çœ‹åˆ°ï¼Œä¿®æ”¹anotherIntå¹¶ä¸å½±å“myInt</span>
</code></pre>
<h3 data-id="heading-4">2. å¼•ç”¨ç±»å‹ (Reference Types)</h3>
<p>ä¸å€¼ç±»å‹ä¸åŒï¼Œå¼•ç”¨ç±»å‹çš„å˜é‡ä¸ç›´æ¥å­˜å‚¨å®é™…æ•°æ®ï¼Œè€Œæ˜¯å­˜å‚¨å¯¹æ•°æ®æ‰€åœ¨å†…å­˜åœ°å€çš„â€œå¼•ç”¨â€ã€‚ æ¢å¥è¯è¯´ï¼Œå®ƒæŒ‡å‘äº†æ•°æ®å®é™…å­˜å‚¨çš„ä½ç½®ã€‚ è¿™äº›æ•°æ®å®é™…å­˜æ”¾åœ¨å†…å­˜çš„â€œå †â€ä¸Šã€‚</p>
<p>å½“æŠŠä¸€ä¸ªå¼•ç”¨ç±»å‹å˜é‡èµ‹ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œåªæ˜¯å¤åˆ¶äº†å¼•ç”¨ï¼ˆåœ°å€ï¼‰ï¼Œä¸¤ä¸ªå˜é‡å°†æŒ‡å‘å †ä¸­åŒä¸€ä¸ªå¯¹è±¡ã€‚ å› æ­¤ï¼Œé€šè¿‡ä¸€ä¸ªå˜é‡ä¿®æ”¹äº†å¯¹è±¡ï¼Œå¦ä¸€ä¸ªå˜é‡ä¹Ÿä¼šå—åˆ°å½±å“ã€‚</p>
<p>å†…ç½®çš„å¼•ç”¨ç±»å‹ä¸»è¦æœ‰ï¼š</p>
<ul>
<li><strong>å­—ç¬¦ä¸² (string):</strong> ç”¨äºè¡¨ç¤ºä¸€ç³»åˆ—å­—ç¬¦ã€‚è™½ç„¶ <code>string</code> çš„è¡Œä¸ºåœ¨å¾ˆå¤šæ–¹é¢çœ‹èµ·æ¥åƒå€¼ç±»å‹ï¼ˆæ¯”å¦‚å®ƒçš„ä¸å˜æ€§ï¼‰ï¼Œä½†å®ƒæœ¬è´¨ä¸Šæ˜¯å¼•ç”¨ç±»å‹ã€‚</li>
<li><strong>å¯¹è±¡ (object):</strong> å®ƒæ˜¯C#ä¸­æ‰€æœ‰ç±»å‹çš„æœ€ç»ˆåŸºç±»ã€‚ä¸€ä¸ª <code>object</code> ç±»å‹çš„å˜é‡å¯ä»¥å¼•ç”¨ä»»ä½•ç±»å‹çš„å®ä¾‹ã€‚</li>
<li><strong>æ•°ç»„ (Array):</strong> ç”¨äºå­˜å‚¨åŒç±»å‹çš„å…ƒç´ é›†åˆã€‚</li>
<li><strong>ç±» (Class)ã€æ¥å£ (Interface)ã€å§”æ‰˜ (Delegate)</strong></li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Person ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

Person person1 = <span class="hljs-keyword">new</span> Person();
person1.Name = <span class="hljs-string">"å¼ ä¸‰"</span>;

Person person2 = person1; <span class="hljs-comment">// person2 å¤åˆ¶äº† person1 çš„å¼•ç”¨ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</span>

person2.Name = <span class="hljs-string">"æå››"</span>;

Console.WriteLine(person1.Name); <span class="hljs-comment">// è¾“å‡º "æå››"</span>
Console.WriteLine(person2.Name); <span class="hljs-comment">// è¾“å‡º "æå››"</span>
<span class="hljs-comment">// å¯ä»¥çœ‹åˆ°ï¼Œä¿®æ”¹person2çš„Nameå±æ€§ï¼Œperson1çš„ä¹Ÿè·Ÿç€æ”¹å˜äº†</span>
</code></pre>
<h2 data-id="heading-5">å€¼ç±»å‹ä¸å¼•ç”¨ç±»å‹çš„æ ¸å¿ƒåŒºåˆ«</h2>



































<table><thead><tr><th>ç‰¹æ€§</th><th>å€¼ç±»å‹</th><th>å¼•ç”¨ç±»å‹</th></tr></thead><tbody><tr><td><strong>å­˜å‚¨å†…å®¹</strong></td><td>ç›´æ¥å­˜å‚¨æ•°æ®å€¼</td><td>å­˜å‚¨æ•°æ®çš„å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰</td></tr><tr><td><strong>å†…å­˜ä½ç½®</strong></td><td>ä¸»è¦åœ¨æ ˆ (Stack) ä¸Šåˆ†é…</td><td>åœ¨å † (Heap) ä¸Šåˆ†é…</td></tr><tr><td><strong>èµ‹å€¼æ“ä½œ</strong></td><td>å¤åˆ¶æ•°æ®æœ¬èº«</td><td>å¤åˆ¶å¼•ç”¨</td></tr><tr><td><strong>åŸºç±»</strong></td><td>ç»§æ‰¿è‡ª <code>System.ValueType</code></td><td>ç»§æ‰¿è‡ª <code>System.Object</code></td></tr><tr><td><strong>å¯ä¸ºnull</strong></td><td>é»˜è®¤ä¸å¯ä¸ºnull (å¯ç©ºç±»å‹é™¤å¤–ï¼Œå¦‚<code>int?</code>)</td><td>å¯ä»¥ä¸º <code>null</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">ç»“è¯­</h2>
<p><strong>ç‚¹ä¸ªèµï¼Œå…³æ³¨æˆ‘è·å–æ›´å¤šå®ç”¨ C# æŠ€æœ¯å¹²è´§ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè®°å¾—æ”¶è—æœ¬æ–‡ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•è®© AI æŒ‰ç…§ä½ çš„é¢„æœŸè¾“å‡º]]></title>    <link>https://juejin.cn/post/7572382777838370856</link>    <guid>https://juejin.cn/post/7572382777838370856</guid>    <pubDate>2025-11-14T13:28:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572382777838370856" data-draft-id="7572408522437541923" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•è®© AI æŒ‰ç…§ä½ çš„é¢„æœŸè¾“å‡º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T13:28:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤•é¢œ111"/> <meta itemprop="url" content="https://juejin.cn/user/3079049469504696"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•è®© AI æŒ‰ç…§ä½ çš„é¢„æœŸè¾“å‡º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3079049469504696/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤•é¢œ111
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T13:28:57.000Z" title="Fri Nov 14 2025 13:28:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<h3 data-id="heading-1">1. å†™åœ¨æœ€å‰é¢</h3>
<p>æœ€è¿‘å†™ä»£ç çš„æ—¶å€™å‘ç° Cursor çš„ token ä¸å¤Ÿç”¨ï¼Œä¸ºäº†è¿˜èƒ½å¤Ÿä½¿ç”¨ AI ç¼–ç¨‹ï¼Œå°±è°ƒæ•´åˆ°äº† ã€Œautoã€çš„æ¨¡å¼ä¸‹å†™ä»£ç ã€‚å¥½å®¶ä¼™ï¼Œauto å¼€å±€å°±æ˜¯ä¸€é¡¿çå†™ï¼Œå†™é‚£å«ä¸€ä¸ªã€Œ<strong>é¾™é£å‡¤èˆ</strong>ã€ï¼Œå·®ç‚¹ç›´æ¥æŠŠæ•´ä¸ªä»£ç ç»™æˆ‘é‡æ„äº†ã€‚ä½†æ˜¯å¥½åœ¨ Cursor çš„å›æ»šä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥åªè¦å›æ»šä¹‹åï¼Œæˆ‘å°±å¯ä»¥ç»§ç»­è‡ªå·±çš„æ€è·¯å†™ä»£ç äº†ã€‚</p>
<blockquote>
<p>æ³¨ï¼šè¿™ä¸ªæ•…äº‹æ•™è‚²æˆ‘ä»¬å°±ç®—æ˜¯ Cursor çš„ token ä¸å¤Ÿï¼Œä¹Ÿä¸èƒ½éšä¾¿ä½¿ç”¨ ã€Œautoã€æ¨¡å¼ï¼Œå› ä¸ºå®ƒçœŸçš„ä¼šçå†™â€¦â€¦</p>
</blockquote>
<p>æ‰€ä»¥æ€è€ƒä¸€ä¸‹ï¼Œå¦‚ä½• AI èƒ½è§„èŒƒåŒ–å®ç°åŠè¾“å‡ºå°±å˜æˆä¸€ä¸ªéœ€è¦è§£å†³çš„é—®é¢˜ï¼Œæ¯”å¦‚ AI ä¼šå‡ºç°å¹»è§‰ï¼Œé’ˆå¯¹ä¸€ä¸ªé”™è¯¯çš„é—®é¢˜å®ƒä¹Ÿèƒ½ç»™ä½ ç¼–é€ ä¸€ä¸ªå›ç­”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f69944afe58449849342ddcab633b2a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSV6aKcMTEx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763731736&amp;x-signature=fpEC67r3ZXYRPvEYzaLcDIo5RSw%3D" alt="ä¼ä¸šå¾®ä¿¡æˆªå›¾_1af7a667-05cb-4b8e-857a-b197b241223d.png" loading="lazy"/></p>
<blockquote>
<p>æ³¨ï¼šæ—¥å¸¸çš„é—®ç­”ä¸­ï¼Œå½“ä½ ä¸æ–­è´¨ç–‘ AI çš„å›ç­”æ—¶ï¼Œå®ƒä¸ºäº†æ›´è´´åˆä½ çš„é—®é¢˜ï¼Œä¼šç¼–é€ ä¸€äº›ä¸çœŸå®çš„å›ç­”ã€‚å¦‚æœåœ¨ç¼–ç¨‹ä¸­ä¹Ÿæ˜¯è¿™æ ·ï¼Œé‚£ä¸Šçº¿çš„è¯ï¼Œå¤§æ¦‚ç‡å°±æ˜¯ä¸ªæ•…éšœäº†ã€‚</p>
</blockquote>
<h3 data-id="heading-2">2. Spec-Kit</h3>
<h4 data-id="heading-3">2.1 ä»‹ç»</h4>
<p><strong>Spec-Kit</strong>Â æ˜¯ GitHub å¼€å‘çš„ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨æ¥<strong>æ§åˆ¶ AI ç”Ÿæˆä»£ç çš„è´¨é‡</strong>ã€‚</p>
<p><strong>ç®€å•ç†è§£</strong></p>
<p>æƒ³è±¡ä½ è¦å»ºæˆ¿å­ï¼š</p>
<ul>
<li>Â <strong>ä¸ç”¨ Spec-Kit</strong>ï¼šç›´æ¥è®© AI å¼€å§‹å»ºï¼Œå¯èƒ½å»ºæ­ªäº†ã€ä¸ç¬¦åˆè¦æ±‚</li>
<li><strong>ç”¨ Spec-Kit</strong>ï¼šå…ˆç”»å¥½è¯¦ç»†å›¾çº¸ï¼Œå†è®© AI ä¸¥æ ¼æŒ‰ç…§å›¾çº¸æ–½å·¥</li>
</ul>
<p><strong>Spec-Kit å°±æ˜¯é‚£ä¸ª"ç”»å›¾çº¸"çš„å·¥å…·</strong>ï¼Œç¡®ä¿ AI ç”Ÿæˆçš„ä»£ç ç¬¦åˆä½ çš„è¦æ±‚ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><strong>ä»£ç è´¨é‡é«˜</strong>ï¼šå…ˆå†™è§„èŒƒï¼ŒAI ç”Ÿæˆçš„ä»£ç æ›´ç¬¦åˆé¢„æœŸ</li>
<li><strong>å‡å°‘è¿”å·¥</strong>ï¼šæå‰æƒ³æ¸…æ¥šéœ€æ±‚ï¼Œé¿å…åæœŸå¤§æ”¹</li>
<li><strong>æµç¨‹æ¸…æ™°</strong>ï¼šå›¢é˜Ÿåä½œæ—¶ï¼Œæ¯ä¸ªäººéƒ½çŸ¥é“åœ¨åšä»€ä¹ˆ</li>
<li><strong>æ”¯æŒå¤šç§ AI</strong>ï¼šå¯ä»¥ç”¨ Claude Codeã€GitHub Copilot ç­‰</li>
<li><strong>å…è´¹å¼€æº</strong>ï¼šGitHub å®˜æ–¹ç»´æŠ¤ï¼Œå®Œå…¨å…è´¹</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li><strong>æ­¥éª¤å¤š</strong>ï¼šå°é¡¹ç›®å¯èƒ½è§‰å¾—ç¹ç</li>
<li><strong>å­¦ä¹ æˆæœ¬</strong>ï¼šéœ€è¦ç†è§£è§„èŒƒé©±åŠ¨å¼€å‘çš„æ¦‚å¿µ</li>
<li><strong>éœ€è¦è€å¿ƒ</strong>ï¼šä¸èƒ½è·³è¿‡æ­¥éª¤ï¼Œå¿…é¡»æŒ‰æµç¨‹æ¥</li>
</ul>
<h4 data-id="heading-4">2.2 æ ¸å¿ƒæ¦‚å¿µâ€” è§„èŒƒé©±åŠ¨å¼€å‘</h4>
<p><strong>è§„èŒƒé©±åŠ¨å¼€å‘ï¼ˆSDDï¼‰</strong>Â çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>å…ˆæƒ³æ¸…æ¥šè¦åšä»€ä¹ˆï¼Œå†åŠ¨æ‰‹åš</strong>ã€‚</p>
<p>å°±åƒæƒ³è¦åšä¸€ç›˜èœçš„æ—¶å€™ï¼Œæ€»ç»“ä¸‹æ¥éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>å…ˆçœ‹èœè°±ï¼ˆè§„èŒƒï¼‰</li>
<li>å‡†å¤‡é£Ÿæå’Œå·¥å…·ï¼ˆè®¡åˆ’ï¼‰</li>
<li>æŒ‰æ­¥éª¤æ“ä½œï¼ˆä»»åŠ¡ï¼‰</li>
<li>å®Œæˆèœå“ï¼ˆå®æ–½ï¼‰</li>
</ol>
<p>Spec-Kit æŠŠè¿™ä¸ªæµç¨‹åº”ç”¨åˆ°ç¼–ç¨‹ä¸Šï¼Œè®© AI æŒ‰æ­¥éª¤ç”Ÿæˆä»£ç ã€‚</p>
<h4 data-id="heading-5">2.3 å·¥ä½œæµç¨‹</h4>
<h5 data-id="heading-6">2.3.1 Specifyï¼ˆè§„èŒƒé˜¶æ®µï¼‰</h5>
<p><strong>åšä»€ä¹ˆ</strong>ï¼šå†™æ¸…æ¥šè¦åšä»€ä¹ˆåŠŸèƒ½ï¼Œæœ‰ä»€ä¹ˆè¦æ±‚</p>
<p><strong>ä¾‹å­</strong>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æˆ‘è¦åšä¸€ä¸ªç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼š
<span class="hljs-deletion">- ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç </span>
<span class="hljs-deletion">- éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®</span>
<span class="hljs-deletion">- ç™»å½•æˆåŠŸåè·³è½¬åˆ°é¦–é¡µ</span>
<span class="hljs-deletion">- ç™»å½•å¤±è´¥æ˜¾ç¤ºé”™è¯¯æç¤º</span>
</code></pre>
<h5 data-id="heading-7">2.3.2 Planï¼ˆè®¡åˆ’é˜¶æ®µï¼‰</h5>
<p><strong>åšä»€ä¹ˆ</strong>ï¼šåˆ¶å®šæŠ€æœ¯å®ç°æ–¹æ¡ˆ</p>
<p><strong>ä¾‹å­</strong>ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æŠ€æœ¯æ–¹æ¡ˆï¼š
<span class="hljs-deletion">- ä½¿ç”¨ React åšå‰ç«¯</span>
<span class="hljs-deletion">- ä½¿ç”¨ Express åšåç«¯ API</span>
<span class="hljs-deletion">- ä½¿ç”¨ JWT åšèº«ä»½éªŒè¯</span>
<span class="hljs-deletion">- ä½¿ç”¨ MySQL å­˜å‚¨ç”¨æˆ·ä¿¡æ¯</span>
</code></pre>
<h5 data-id="heading-8">2.3.3Â Tasksï¼ˆä»»åŠ¡é˜¶æ®µï¼‰</h5>
<p><strong>åšä»€ä¹ˆ</strong>ï¼šæŠŠå¤§ä»»åŠ¡æ‹†åˆ†æˆå°ä»»åŠ¡</p>
<p><strong>ä¾‹å­</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä»»åŠ¡åˆ—è¡¨ï¼š
<span class="hljs-bullet">1.</span> åˆ›å»ºç™»å½•é¡µé¢ç»„ä»¶
<span class="hljs-bullet">2.</span> åˆ›å»ºç™»å½• API æ¥å£
<span class="hljs-bullet">3.</span> å®ç°å¯†ç éªŒè¯é€»è¾‘
<span class="hljs-bullet">4.</span> å®ç° JWT ç”Ÿæˆå’ŒéªŒè¯
<span class="hljs-bullet">5.</span> ç¼–å†™æµ‹è¯•ç”¨ä¾‹
</code></pre>
<h5 data-id="heading-9">2.3.4 Â Implementï¼ˆå®æ–½é˜¶æ®µï¼‰</h5>
<p><strong>åšä»€ä¹ˆ</strong>ï¼šè®© AI æŒ‰ç…§å‰é¢çš„è§„èŒƒã€è®¡åˆ’å’Œä»»åŠ¡ç”Ÿæˆä»£ç </p>
<p><strong>é‡è¦</strong>ï¼šSpec-Kit è¦æ±‚<strong>å…ˆå†™æµ‹è¯•ï¼Œå†å†™ä»£ç </strong>ï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ TDDï¼‰</p>
<h4 data-id="heading-10">2.4 å®æµ‹</h4>
<p>æ€ä¹ˆè¯´å‘¢ï¼Ÿè™½ç„¶è¿™ä¸ªå·¥å…·è®© AI è¾“å‡ºçš„å†…å®¹æ›´åŠ æ ¼å¼åŒ–ï¼Œä½†æ˜¯æˆ‘å®æµ‹äº†ä¸€æ³¢ï¼Œæ„Ÿè§‰æ˜¯åœ¨å¤ªå†—ä½™äº†ï¼Œä¸å¤ªé€‚åˆä¸ªäººå¼€å‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b50debd7ba7140aba2c77c3b09d8169e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSV6aKcMTEx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763731736&amp;x-signature=pkzBwa0AwIZBFpsk3%2BnqGSqWN%2BM%3D" alt="ä¼ä¸šå¾®ä¿¡æˆªå›¾_68e6e7fd-fb62-4eef-ab37-57619feb4e24.png" loading="lazy"/></p>
<blockquote>
<p>æ³¨ï¼š è¿˜æ˜¯åé¢å†å­¦ä¹ ä¸€æ³¢å…¶ä»–çš„æ§åˆ¶ AI è¾“å‡ºçš„å·¥å…·å§ï¼Œè¿™ä¸ªå·¥å…·æ€•æ˜¯ä¸å¤§é€‚åˆæˆ‘</p>
</blockquote>
<h3 data-id="heading-11">3. ç¢ç¢å¿µ</h3>
<p>å•¦å•¦å•¦ï¼Œç»ˆäºåœ¨å‘¨äº”çš„æ™šä¸ŠåŠ ç­å†™äº†æœ€è¿‘æƒ³å­¦ä¹ çš„çŸ¥è¯†ç‚¹ï¼Œä»Šæ—¥ä»½å­¦ä¹ å°±å…ˆåˆ°è¿™é‡Œç»“æŸå§ï¼Œæˆ‘è¦å›å»çœ‹ã€Šå”è¯¡ 3 ã€‹å•¦ã€‚</p>
<ul>
<li>å½±å“ä½ æƒ…ç»ªçš„ä¸æ˜¯äº‹æƒ…ï¼Œè€Œæ˜¯ä½ å¯¹äº‹æƒ…çš„è®¤çŸ¥ã€‚</li>
<li>å¸Œæœ›æˆ‘æ˜¯æ„¿æ„æ¥è§¦æ–°ä¸œè¥¿çš„äººï¼Œæœ‰å‹‡æ°”æ‰¿è®¤è‡ªå·±ä¸æ‡‚çš„äººï¼Œçœ‹å¾—è§è‡ªå·±çš„é™ˆæ—§å’Œç‹­éš˜çš„äººï¼Œå¸Œæœ›æˆ‘æ˜¯ä¸€ä¸ªæ°¸è¿œè·ƒè·ƒæ¬²è¯•çš„äººã€‚</li>
</ul>
<h3 data-id="heading-12">4. å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://juejin.cn/post/7548080590681407524" target="_blank" title="https://juejin.cn/post/7548080590681407524">Spec-Kit ä½¿ç”¨æŒ‡å—Spec-Kitæ˜¯GitHubå¼€æºçš„ä¸€ä¸ªå·¥å…·åŒ…ï¼Œç”¨äºå®ç°è§„æ ¼é©±åŠ¨å¼€å‘ï¼ˆSpec-Driven - æ˜é‡‘</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1928548506127299080" target="_blank" title="https://zhuanlan.zhihu.com/p/1928548506127299080" ref="nofollow noopener noreferrer">Kiroå¼€æ”¾å…¬æµ‹ï¼šAIç¼–ç¨‹è°éƒ½ä¼šï¼Œèƒ½å¸®ä½ ä¸Šçº¿æ‰å«AI IDE</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1955597807982446342" target="_blank" title="https://zhuanlan.zhihu.com/p/1955597807982446342" ref="nofollow noopener noreferrer">GitHub Spec Kit æŠŠè§„èŒƒé©±åŠ¨å¼€å‘æ ‡å‡†åŒ–äº†ï¼ŒAI ç¼–ç¨‹ç»ˆäºæœ‰ç« æ³•äº†</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TRAE SOLO æ­£å¼ç‰ˆå®æˆ˜ï¼šä¸€ä¸ªå…¨æ ˆæ‰“å¡é¡¹ç›®çš„çœŸå®ä½“éªŒ]]></title>    <link>https://juejin.cn/post/7572397142364766250</link>    <guid>https://juejin.cn/post/7572397142364766250</guid>    <pubDate>2025-11-14T12:46:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572397142364766250" data-draft-id="7572397142364749866" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TRAE SOLO æ­£å¼ç‰ˆå®æˆ˜ï¼šä¸€ä¸ªå…¨æ ˆæ‰“å¡é¡¹ç›®çš„çœŸå®ä½“éªŒ"/> <meta itemprop="keywords" content="Trae,Solo,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-14T12:46:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TRAE SOLO æ­£å¼ç‰ˆå®æˆ˜ï¼šä¸€ä¸ªå…¨æ ˆæ‰“å¡é¡¹ç›®çš„çœŸå®ä½“éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T12:46:41.000Z" title="Fri Nov 14 2025 12:46:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰å¤© <code>TRAE</code> è¿›è¡Œå‡çº§ï¼Œå‘å¸ƒäº† <code>SOLO</code> æ­£å¼ç‰ˆï¼Œä»Šå¤©ï¼Œæˆ‘ä»¬å°±è¯•è¯•æ–°ç‰ˆå®æˆ˜æ•ˆæœå…·ä½“å¦‚ä½•ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« åŒ…æ‹¬ä¸€ä¸ªâ€œå®æˆ˜è¿‡ç¨‹â€å’Œâ€œä½¿ç”¨åçš„ä½“ä¼šâ€ï¼Œå¦‚æœä½ æ­£åœ¨è€ƒè™‘è¦ä¸è¦å°è¯• <code>TRAE SOLO</code>ï¼Œè¿™ç¯‡æ–‡ç« åº”è¯¥å¯ä»¥å¸®åˆ°ä½ ã€‚</p>
<h2 data-id="heading-0">ç›®æ ‡</h2>
<p>è®¡åˆ’æ­å»ºä¸€ä¸ªå…±åŒå­¦ä¹ çš„å¹³å°ï¼Œç”¨æˆ·å¯ä»¥è®¾ç½®è‡ªå·±çš„å­¦ä¹ ä¸»é¢˜ï¼Œå¹¶è®¾ç½®å­¦ä¹ è®¡åˆ’çš„é‡Œç¨‹ç¢‘èŠ‚ç‚¹ï¼Œæ¯ä¸ªäººå¯ä»¥åŠ å…¥è‡ªå·±æƒ³è¦å­¦ä¹ çš„ä¸»é¢˜ï¼Œå¹¶æ¯å¤©æ‰“å¡ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®åŒ…æ‹¬<strong>å‰åç«¯</strong>ï¼Œæ ¸å¿ƒéœ€æ±‚ä¸»è¦æ˜¯<strong>3å¼ å…³è”è¡¨</strong>ï¼Œåº”è¯¥å¯ä»¥å½“åšä¸€ä¸ªæ¯”è¾ƒå…¸å‹çš„å®æˆ˜åœºæ™¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ace5aac0a3324d978740d71d2db6ad4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=yk5PXq9DmTObsp8WTVyUgWkDrtw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">å®æˆ˜è®°å½•</h2>
<p>ç”±äºä»Šå¤©çš„åˆ†äº«é‡ç‚¹åœ¨å®æˆ˜æ•ˆæœï¼Œå› æ­¤å…·ä½“æ“ä½œä¼šç¨å¾®ç®€ç•¥ä¸€ç‚¹ã€‚</p>
<h3 data-id="heading-2">åˆç‰ˆç”Ÿæˆ</h3>
<p>ä½¿ç”¨ <code>SOLO Builder</code> æ™ºèƒ½ä½“ç”Ÿæˆåˆç‰ˆã€‚</p>
<p><strong>æŒ‡ä»¤</strong></p>
<pre><code class="hljs language-diff" lang="diff">æˆ‘ä»¬æœ‰ä¸€ä¸ªæŠ€æœ¯ç¤¾åŒºï¼Œé›†ä¸­å­¦ä¹ äº¤æµTRAE SOLOï¼Œæƒ³è¦æ­å»ºä¸€ä¸ªå­¦ä¹ æ‰“å¡å¹³å°ã€‚
<span class="hljs-deletion">- å¯ä»¥åˆ›å»ºå­¦ä¹ è®¡åˆ’ï¼ŒåŒ…æ‹¬ä¸»é¢˜ã€å‘¨æœŸå’Œé‡Œç¨‹ç¢‘ã€‚</span>
<span class="hljs-deletion">- å¯ä»¥é’ˆå¯¹æ¯ä¸€ä¸ªé‡Œç¨‹ç¢‘è¿›è¡Œæ‰“å¡è®°å½•ã€‚</span>
<span class="hljs-deletion">- æä¾›æ‰“å¡å®Œæˆæ’è¡Œæ¦œ</span>
<span class="hljs-deletion">- æ•´ä½“é£æ ¼å‚è€ƒæˆªå›¾</span>
å‰ç«¯ä½¿ç”¨vue+elementui+javascriptï¼Œåç«¯ä½¿ç”¨springboot+h2å†…å­˜æ•°æ®åº“ã€‚
</code></pre>
<p><strong>è¿‡ç¨‹</strong></p>
<p>è¿‡ç¨‹æ²¡æœ‰å¤ªå¤§å˜åŠ¨ï¼Œä¾ç„¶æ˜¯å…ˆç”Ÿæˆç›¸å…³çš„<strong>æ–‡æ¡£</strong>ï¼Œæ–‡æ¡£å†…å®¹ç¡®å®è¯¦ç»†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd37a98225624d6f8e7167ea3d2ed4d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=idTqsbHrDoPOzblglxDda03sxU0%3D" alt="" loading="lazy"/></p>
<p>æŒ‰ç…§ä»»åŠ¡æ¸…å•è¿›è¡Œç”Ÿæˆï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°ä»»åŠ¡è¿‡ç¨‹è‡ªåŠ¨è¿›è¡Œäº†<strong>æ€»ç»“</strong>ï¼Œçœ‹èµ·æ¥æ›´åŠ æœ‰æ¡ç†äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0828d2a110c4e9590b123bb66d57340~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=jJH5tVXF8eRc7qyxjqGcWXPLt1w%3D" alt="" loading="lazy"/></p>
<p><strong>ç»“æœ</strong></p>
<p>è¿™æ¬¡ç”ŸæˆæŒç»­è¿è¡Œäº†1ä¸ªå°æ—¶ä»æœªç»“æŸã€‚</p>
<p>åæ¥æˆ‘è·Ÿè¸ªäº†è¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œåœ¨30åˆ†é’Ÿå·¦å³ï¼Œä¸»è¦ä»£ç å·²ç»åŸºæœ¬ç”Ÿæˆå®Œæˆï¼Œå‰©ä½™æ—¶é—´ï¼Œä¸€ç›´åœ¨åå¤è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œä½†æ²¡æœ‰æˆåŠŸã€‚</p>
<p>å¤šæ¬¡å°è¯•è§£å†³å¤±è´¥åï¼Œæˆ‘ä¸­æ–­äº†ç”Ÿæˆï¼Œå¹¶æ‰‹åŠ¨ä¿®å¤äº† bugã€‚</p>
<p>è¿™ä¸ª bug ä¿®å¤å®Œæˆåï¼Œé¡¹ç›®çš„å®Œæˆåº¦å€’æ˜¯è¿˜å¯ä»¥ã€‚</p>
<p>å…ˆçœ‹å‡ ä¸ªç•Œé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/000f59b92b7f49fdbdf8c32388b0148b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=lVvY1P%2FRFNH7reyj2%2F0GIOaCMQo%3D" alt="é¦–é¡µ" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a818b97f1854e99ba4f3ae0f357d938~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=e2c%2Bigb1o2lXdlTyzJREIUJm13g%3D" alt="æ·»åŠ å­¦ä¹ è®¡åˆ’æˆåŠŸ" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a97a36f457614cbf9ed463849ca0696e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=tPB070X2lB9A1hLx6CniKhoI%2FUo%3D" alt="æ‰“å¡" loading="lazy"/></p>
<p>æ³¨ï¼šç•Œé¢é£æ ¼æ˜¯åœ¨æ–‡æ¡£ä¸­åˆ†æé”™äº†ï¼Œä¸æ˜¯ç”Ÿæˆåç¦»çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cbbd7b4b6b04cab8e2e8d8eb7886a01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=QRPfjbhhuJLltYzGZf2UWqVYJs0%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥çœ‹ä¸‹ä»£ç ï¼Œä¸€æ³¢å¯¹è¯ï¼Œä¸€å…± 65 ä¸ªæ–‡ä»¶ï¼ŒåŒ…æ‹¬å‰åç«¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/644dfbb9b77d4970963d5376070e99b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=CnmFCq7XUxVUi7IRqQz4wDvrK8I%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">å®æˆ˜ä½“ä¼š</h2>
<p>å› ä¸ºè¿™æ¬¡æ˜¯ä¸ªå¤§ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¸“é—¨åˆ†å‡ºä¸€ä¸ªç« èŠ‚åˆ†äº«ä¸‹å®é™…ä½¿ç”¨ä½“ä¼šï¼Œæ–¹ä¾¿å¤§å®¶åˆ¤æ–­ã€‚</p>
<p>ä¸Šé¢å®æˆ˜è®°å½•æ˜¯æœ€åæˆåŠŸçš„ä¸€æ¬¡ï¼Œä¹‹å‰ä¸ºäº†æ¢ç´¢ <code>SOLO æ­£å¼ç‰ˆ</code>çš„åŸºæœ¬è¾¹ç•Œï¼Œæˆ‘å°è¯•äº†å¾ˆå¤šæƒ…å†µï¼ŒåŒ…æ‹¬æç¤ºè¯è¯¦ç»†ç¨‹åº¦ã€ä¸åŒæ™ºèƒ½ä½“æ•ˆæœã€Planæ¨¡å¼ã€‚</p>
<p><strong>ç¬¬1ç‚¹</strong></p>
<p><code>SOLO Coder</code> çš„å“åº”é€Ÿåº¦ç›¸å¯¹ <code>SOLO Builder</code> é€Ÿåº¦æ›´å¿«ï¼ŒåŒ…æ‹¬ç”Ÿæˆæ–‡æ¡£ï¼Œä½†æ˜¯ï¼Œå¯¹ä» 0 åˆ° 1 çš„è¿™ç§éœ€è¦å¤„ç†å¤šæ–¹é¢å†…å®¹æ‚ç³…çš„é—®é¢˜ä¸å¤ªæ“…é•¿ã€‚</p>
<p>è¿™ç±»é—®é¢˜ï¼Œå°¤å…¶æ˜¯<strong>åŒ…å«å‰ç«¯ç•Œé¢çš„ï¼Œè¿˜æ˜¯æ›´é€‚åˆ ä½¿ç”¨ SOLO Builder å¤„ç†</strong>ã€‚</p>
<p>å› æ­¤ï¼Œæ¨¡å‹å°šæœªå†æ¬¡å¤§å¹…æå‡å‰ï¼Œ<strong>æ¨èä½¿ç”¨æ–¹æ³•</strong>ï¼š</p>
<ol>
<li>å…ˆç”¨ SOLO Builder è¿›è¡Œåˆ†æï¼Œå¹¶ç”Ÿæˆæ–‡æ¡£ï¼›</li>
<li>ç„¶åä½¿ç”¨ SOLO Builder è¿›è¡Œå‰ç«¯éƒ¨åˆ†å¼€å‘ï¼›</li>
<li>å†é€šè¿‡ SOLO Coder è¿›è¡Œåç«¯åŠŸèƒ½å¼€å‘ã€‚</li>
</ol>
<p><strong>ç¬¬2ç‚¹</strong></p>
<p><code>Max</code> æ¨¡å¼ç¡®å®çˆ½ï¼Œä¸ä¼šå‡ºç°éœ€è¦æ‰‹åŠ¨â€œç»§ç»­â€çš„æƒ…å†µï¼Œå°±æ˜¯ <code>token</code> ä¸çŸ¥é“æ‰›ä¸æ‰›å¾—ä½ã€‚</p>
<p>åƒæˆ‘è¿™æ¬¡ç›´æ¥è·‘äº†1ä¸ªå°æ—¶ï¼Œè¦æ˜¯ <code>token</code>ï¼Œä¸æ•¢æƒ³ã€‚</p>
<p><strong>ç¬¬3ç‚¹</strong></p>
<p>æ–°æ¨¡å‹çš„ç›´è§‚ä½“éªŒè¿˜æ˜¯ä¸é”™çš„ï¼Œå¹¶ä¸”æ˜¯å›½å†…æœ€è¿‘å‡ ä¸ªå¤´éƒ¨æ¨¡å‹ä¸­å°‘æœ‰çš„<strong>æ”¯æŒä¸Šä¼ å›¾ç‰‡</strong>çš„ã€‚</p>
<p>ä½†æ˜¯ï¼Œæœ‰å‡ ä¸ªé—®é¢˜æ„Ÿè§‰éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>ä¸­æ–‡æ§åˆ¶ä¸å¤ªç¨³å®šï¼Œå¯¹è¯é•¿äº†ä¹‹åæœ‰è¾ƒå¤§å‡ ç‡å¼€å§‹ä½¿ç”¨è‹±æ–‡è¾“å‡ºï¼Œä¸å¤ªæ–¹ä¾¿è·Ÿè¸ªè°ƒè¯•ã€‚</li>
<li>å¯¹äºå°é—®é¢˜çš„å®šä½ä¸å¤ªâ€œèªæ˜â€ï¼Œæ€»æ˜¯ä¼šå°è¯•å¤šç§æ–¹æ³•ï¼Œæœ€åæ‰é€‰æ‹©äº†ä¸€ç§è¾ƒå¥½çš„æ–¹æ¡ˆï¼Œæ˜¯å¦å¯ä»¥å‚è€ƒ GPT-5.1 è®¾ç½®æ¨¡å‹åå¥½ï¼Œæ¯”å¦‚ï¼šä¿å®ˆå‹ã€æ¿€è¿›å‹ã€‚</li>
</ul>
<p><strong>ç¬¬4ç‚¹</strong></p>
<p>è¿™æ˜¯ä»Šå¤©è¿™æ¬¡å®æˆ˜ç¢°åˆ°æœ€å¤§çš„ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯å‰é¢æåˆ°å¡äº†æ¥è¿‘åŠä¸ªå°æ—¶çš„åŸå› ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">VueCompilerError:</span> Element <span class="hljs-built_in">is</span> missing <span class="hljs-keyword">end</span> tag.
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/900c408812f1402aac16a0b5470dd60f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763729593&amp;x-signature=fUCQGNMPhAOv4Q2oV%2FI6QU0PWL0%3D" alt="" loading="lazy"/></p>
<p>é”™è¯¯å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ <code>vue</code> é¡µé¢ <code>&lt;style&gt;</code> ç¼ºå°‘é—­åˆæ ‡ç­¾ <code>&lt;/style&gt;</code>ã€‚æˆ‘æ‰‹åŠ¨åŠ ä¸Šåå°±å¥½äº†ã€‚</p>
<p>ä½†è¿™ä¸ªé—®é¢˜åœ¨ä¹‹å‰ä½¿ç”¨è¿‡ç¨‹ä¸­ä¹Ÿç¢°åˆ°è¿‡å‡ æ¬¡ï¼Œæ¯æ¬¡ç¢°åˆ°åï¼Œæƒ³è¦ä¾èµ– <code>SOLO</code> è‡ªå·±è§£å†³éƒ½å¾ˆéš¾ï¼Œç»™äººæ„Ÿè§‰åƒæ˜¯è¿™å—çš„è®­ç»ƒæ•°æ®è¢«æ±¡æŸ“äº†ã€‚</p>
<blockquote>
<p>å·²ç»åé¦ˆç»™å®˜æ–¹ï¼Œå¸Œæœ›å¯ä»¥å°½æ—©è§£å†³ã€‚</p>
</blockquote>
<h2 data-id="heading-4">ç»“è¯­</h2>
<p>å®æˆ˜è¡¨ç°è™½ä¸å®Œç¾ï¼Œä½†å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºæˆ‘åˆ»æ„é€‰æ‹©äº†è¾ƒå¤æ‚çš„ä¸‰è¡¨å…³è”éœ€æ±‚ï¼Œä»¥è¯•æ¢ SOLO æ­£å¼ç‰ˆçš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<p>ç»¼åˆä¸‹æ¥ï¼Œ<code>TRAE SOLO æ­£å¼ç‰ˆ</code>çš„æ•´ä½“ä½“éªŒè¿˜ç®—ä¸é”™ï¼Œä½†ä»éœ€è¿›æ­¥ã€‚</p>
<p>å¦‚æœä½ æœ‰æ„å‘ï¼Œå¼ºçƒˆå»ºè®®è¯•è¯•ï¼Œå½“å‰è¿˜åœ¨å…è´¹ä¸­~</p>
<p>ä¹Ÿå¸Œæœ› <code>TRAE</code> åç»­ç»§ç»­è¿›åŒ–ï¼Œä¸ºå¤§å®¶æä¾›æ›´åŠ æ™ºèƒ½çš„äº§å“æœåŠ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uosåŸºç¡€ shells æŸ¥çœ‹æ”¯æŒçš„shell]]></title>    <link>https://juejin.cn/post/7572362484659765299</link>    <guid>https://juejin.cn/post/7572362484659765299</guid>    <pubDate>2025-11-14T11:08:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572362484659765299" data-draft-id="7572389069706379274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uosåŸºç¡€ shells æŸ¥çœ‹æ”¯æŒçš„shell"/> <meta itemprop="keywords" content="è¿ç»´"/> <meta itemprop="datePublished" content="2025-11-14T11:08:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¡Œåˆå¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/4081803083395527"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uosåŸºç¡€ shells æŸ¥çœ‹æ”¯æŒçš„shell
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4081803083395527/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¡Œåˆå¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T11:08:21.000Z" title="Fri Nov 14 2025 11:08:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç»Ÿä¿¡æ¡Œé¢æ“ä½œç³»ç»Ÿä¸“ä¸šç‰ˆV20ï¼ˆ1070ï¼‰<br/>
Linux uos 5.10.97-arm64-desktop</p>
</blockquote>
<h3 data-id="heading-0">uosåŸºç¡€ shells æŸ¥çœ‹æ”¯æŒçš„shell</h3>
<pre><code class="hljs language-c" lang="c">root@uos:/home/code<span class="hljs-meta"># cat /etc/shells </span>
# /etc/shells: valid login shells
/bin/sh
/bin/bash
/usr/bin/bash
/bin/rbash
/usr/bin/rbash
/bin/dash
/usr/bin/dash
root@uos:/home/code# 
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uosåŸºç¡€ sudoers æŸ¥çœ‹sudoçš„é…ç½®æ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7572413448941420571</link>    <guid>https://juejin.cn/post/7572413448941420571</guid>    <pubDate>2025-11-14T11:10:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572413448941420571" data-draft-id="7572387877139021834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uosåŸºç¡€ sudoers æŸ¥çœ‹sudoçš„é…ç½®æ–‡ä»¶"/> <meta itemprop="keywords" content="è¿ç»´"/> <meta itemprop="datePublished" content="2025-11-14T11:10:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¡Œåˆå¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/4081803083395527"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uosåŸºç¡€ sudoers æŸ¥çœ‹sudoçš„é…ç½®æ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4081803083395527/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¡Œåˆå¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T11:10:18.000Z" title="Fri Nov 14 2025 11:10:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç»Ÿä¿¡æ¡Œé¢æ“ä½œç³»ç»Ÿä¸“ä¸šç‰ˆV20ï¼ˆ1070ï¼‰
Linux uos 5.10.97-arm64-desktop</p>
</blockquote>
<h3 data-id="heading-0">uosåŸºç¡€ sudoers æŸ¥çœ‹sudoçš„é…ç½®æ–‡ä»¶</h3>
<pre><code class="hljs language-c" lang="c">root@uos:~<span class="hljs-meta"># cat /etc/sudoers</span>
#
# This file MUST be edited with the <span class="hljs-string">'visudo'</span> command as root.
#
# Please consider adding local content in /etc/sudoers.d/ instead of
<span class="hljs-meta"># directly modifying this file.</span>
#
# See the man page <span class="hljs-keyword">for</span> details on how to write a sudoers file.
#
Defaults        env_reset
Defaults        mail_badpass
Defaults        secure_path=<span class="hljs-string">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>

# Host alias specification

# User alias specification

# Cmnd alias specification

# User privilege specification
root    ALL=(ALL:ALL) ALL

# Allow members of group sudo to execute any command
%sudo   ALL=(ALL:ALL) ALL

# See sudoers(<span class="hljs-number">5</span>) <span class="hljs-keyword">for</span> more information on <span class="hljs-string">"#include"</span> directives:

<span class="hljs-meta">#includedir /etc/sudoers.d</span>
root@uos:~#
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®ä¿¡ä¸è‹¹æœå°±å°ç¨‹åºæ”¯ä»˜è¾¾æˆå’Œè§£ï¼ŒiOSç”¨æˆ·æœ‰æœ›åœ¨å°ç¨‹åºå†…ç›´æ¥ä½¿ç”¨è‹¹æœæ”¯ä»˜]]></title>    <link>https://juejin.cn/post/7572405211441086507</link>    <guid>https://juejin.cn/post/7572405211441086507</guid>    <pubDate>2025-11-14T11:19:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572405211441086507" data-draft-id="7572137760448675881" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®ä¿¡ä¸è‹¹æœå°±å°ç¨‹åºæ”¯ä»˜è¾¾æˆå’Œè§£ï¼ŒiOSç”¨æˆ·æœ‰æœ›åœ¨å°ç¨‹åºå†…ç›´æ¥ä½¿ç”¨è‹¹æœæ”¯ä»˜"/> <meta itemprop="keywords" content="iOS,Apple"/> <meta itemprop="datePublished" content="2025-11-14T11:19:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CocoaKier"/> <meta itemprop="url" content="https://juejin.cn/user/4388906146735864"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®ä¿¡ä¸è‹¹æœå°±å°ç¨‹åºæ”¯ä»˜è¾¾æˆå’Œè§£ï¼ŒiOSç”¨æˆ·æœ‰æœ›åœ¨å°ç¨‹åºå†…ç›´æ¥ä½¿ç”¨è‹¹æœæ”¯ä»˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906146735864/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CocoaKier
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T11:19:28.000Z" title="Fri Nov 14 2025 11:19:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šæ—¥ï¼Œè‹¹æœå…¬å¸æ­£å¼å‘å¸ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fcn%2Fnews%2F%3Fid%3Dxcz1s7cz" target="_blank" title="https://developer.apple.com/cn/news/?id=xcz1s7cz" ref="nofollow noopener noreferrer">ã€Šå°ç¨‹åºåˆä½œä¼™ä¼´è®¡åˆ’ã€‹</a>ï¼Œä¸ºé•¿æœŸæ‚¬è€Œæœªå†³çš„iOSå°ç¨‹åºæ”¯ä»˜é—®é¢˜ç”»ä¸Šå¥å·ã€‚<strong>è¿™ä¸€å®˜æ–¹å…¬å‘Šï¼Œæ ‡å¿—ç€å°ç¨‹åºåœ¨è‹¹æœç”Ÿæ€ä¸­çš„åœ°ä½è·å¾—æ­£å¼è®¤å¯ï¼ŒåŒæ—¶ä¹Ÿä¸ºå¼€å‘è€…ï¼ˆå®¿ä¸»Appï¼‰æŒ‡æ˜äº†æ¸…æ™°çš„åˆè§„è·¯å¾„ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50e390497f104805a28d847a8d0e26b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29jb2FLaWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763724028&amp;x-signature=ad2NWvQtWu3XqiOu%2BsySiJotXAo%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€è‹¹æœæ¨å‡ºã€Šå°ç¨‹åºåˆä½œä¼™ä¼´è®¡åˆ’ã€‹</h2>
<p><strong>ä»€ä¹ˆæ˜¯å°ç¨‹åºåˆä½œä¼™ä¼´è®¡åˆ’</strong>ï¼Ÿ<br/>
å°ç¨‹åºåˆä½œä¼™ä¼´è®¡åˆ’ï¼Œæ˜¯è‹¹æœåˆ¶å®šçš„ä¸€å¥—å°ç¨‹åºæ”¯ä»˜åˆè§„æµç¨‹ï¼Œé¢å¯¹çš„å¯¹è±¡æ˜¯å®¿ä¸»Appå¼€å‘è€…ï¼ˆå¾®ä¿¡ã€æŠ–éŸ³ï¼‰ã€‚</p>
<p><strong>å°ç¨‹åºåˆä½œä¼™ä¼´è®¡åˆ’æœ‰å“ªäº›å†…å®¹</strong>ï¼Ÿ<br/>
1ã€å†™æ˜äº†æŠ€æœ¯ä¾§éœ€è¦åšå“ªäº›æ”¹é€ â€”â€”é«˜çº§å•†åŠ¡APIã€å¹´é¾„è¯„çº§APIã€è‹¹æœå†…è´­ç³»ç»Ÿã€ç›‘å¬è‹¹æœé€€æ¬¾ã€‚
2ã€åŠ å…¥è¯¥è®¡åˆ’éœ€è¦å‘è‹¹æœæäº¤ç”³è¯·ã€‚<br/>
3ã€å¿…é¡»ä½¿ç”¨è‹¹æœå†…è´­ï¼Œæ”¯æŒåˆ›å»ºâ€å°ç¨‹åºé€šç”¨å†…è´­å•†å“â€œï¼Œæ¯”å¦‚åˆ›å»ºâ€6å…ƒå•†å“â€œï¼Œå®¿ä¸»Appé‡Œçš„å°ç¨‹åºéƒ½ç”¨è¿™ä¸ªå†…è´­å•†å“ã€‚å†…è´­å•†å“éœ€è‹¹æœå®¡æ ¸ã€‚</p>
<p><strong>è¯¥è®¡åˆ’çš„æ ¸å¿ƒå°±æ˜¯å¿…é¡»ä½¿ç”¨è‹¹æœæ”¯ä»˜ï¼Œä»¥æ–¹ä¾¿è‹¹æœå¯¹æ”¯ä»˜è¿›è¡Œç›‘ç®¡ï¼ˆæŠ½æˆï¼‰</strong>ã€‚é«˜çº§å•†åŠ¡APIå°±æ˜¯å¹²è¿™ä¸ªäº‹æƒ…çš„ï¼Œå®¿ä¸»Appè°ƒç”¨é«˜çº§å•†åŠ¡APIæ¥å®Œæˆå†…è´­æ”¯ä»˜ã€‚</p>
<p><strong>ç›®å‰ï¼ŒåŒæ–¹åšå¼ˆçš„ç»“æœæ˜¯è‹¹æœå¯¹å®¿ä¸»Appï¼ˆå¾®ä¿¡ï¼‰æŠ½æˆ15%</strong>ã€‚æ³¨æ„ï¼Œè¿™æ˜¯è‹¹æœå¯¹å¾®ä¿¡æŠ½æˆ15%ï¼Œè½åˆ°å°ç¨‹åºå¼€å‘è€…é‚£è¾¹è‚¯å®šæ˜¯å¤§äºç­‰äº15%çš„ã€‚</p>
<h2 data-id="heading-1">äºŒã€è‹¹æœæ›´æ–°äº†ä¸“é—¨é’ˆå¯¹å°ç¨‹åºçš„å®¡æ ¸æ¡æ¬¾</h2>
<p>è‹¹æœä¸ºäº†é…åˆä¸Šè¿°å†…å®¹ï¼ŒåŒæ—¶ä¿®æ”¹äº†å®¡æ ¸æŒ‡å—ï¼Œå¹¶äºä»Šæ—¥ï¼ˆ11æœˆ14æ—¥ï¼‰å‘å…¨å‘˜å¼€å‘è€…å‘é€äº†é‚®ä»¶é€šçŸ¥ã€‚ä¸‹é¢æˆ‘åˆ—å‡ºäº†å’Œå°ç¨‹åºæœ‰å…³çš„æ”¹åŠ¨ï¼š</p>
<blockquote>
<p>åº”ç”¨ç¨‹åºå®¡æŸ¥æŒ‡å—å·²ç»ä¿®è®¢ï¼Œä»¥æ”¯æŒæ›´æ–°çš„æ”¿ç­–ï¼Œå¹¶æä¾›æ¾„æ¸…ã€‚ è¯·æŸ¥çœ‹ä»¥ä¸‹æ›´æ”¹ï¼š<br/>
1.2.1(a)ï¼šæ­¤æ–°æŒ‡å—è§„å®šï¼Œåˆ›å»ºè€…åº”ç”¨ç¨‹åºå¿…é¡»ä¸ºç”¨æˆ·æä¾›ä¸€ç§æ–¹æ³•æ¥è¯†åˆ«è¶…è¿‡åº”ç”¨ç¨‹åºå¹´é¾„è¯„çº§çš„å†…å®¹ï¼Œå¹¶ä½¿ç”¨åŸºäºéªŒè¯æˆ–å£°æ˜å¹´é¾„çš„å¹´é¾„é™åˆ¶æœºåˆ¶æ¥é™åˆ¶æœªæˆå¹´ç”¨æˆ·è®¿é—®ã€‚<br/>
4.7ï¼šæ˜ç¡®HTML5å’ŒJavaScriptè¿·ä½ åº”ç”¨å’Œè¿·ä½ æ¸¸æˆåœ¨æŒ‡å—èŒƒå›´å†…ã€‚<br/>
4.7.2ï¼šæ¾„æ¸…åœ¨æœªç»Appleäº‹å…ˆè®¸å¯çš„æƒ…å†µä¸‹ï¼Œæä¾›æœªåµŒå…¥äºŒè¿›åˆ¶æ–‡ä»¶çš„è½¯ä»¶çš„åº”ç”¨ç¨‹åºä¸å¾—æ‰©å±•æˆ–å‘è½¯ä»¶å…¬å¼€æœ¬æœºå¹³å°apiæˆ–æŠ€æœ¯ã€‚<br/>
4.7.5ï¼šæ¾„æ¸…æä¾›éåµŒå…¥å¼è½¯ä»¶çš„åº”ç”¨ç¨‹åºå¿…é¡»ä¸ºç”¨æˆ·æä¾›ä¸€ç§æ–¹æ³•æ¥è¯†åˆ«è¶…å‡ºåº”ç”¨ç¨‹åºå¹´é¾„è¯„çº§çš„å†…å®¹ï¼Œå¹¶ä½¿ç”¨åŸºäºéªŒè¯æˆ–å£°æ˜å¹´é¾„çš„å¹´é¾„é™åˆ¶æœºåˆ¶æ¥é™åˆ¶æœªæˆå¹´ç”¨æˆ·è®¿é—®ã€‚</p>
</blockquote>
<p>å®¡æ ¸æ¡æ¬¾ä¸»è¦å¼ºè°ƒäº†<strong>å¹´é¾„åˆ†çº§</strong>å’Œ<strong>ä¸å…è®¸åŸç”Ÿä»£ç çš„çƒ­æ›´æ–°</strong>ã€‚åŸç”Ÿä»£ç çƒ­æ›´æ–°ï¼ˆOCã€Swiftå±‚é¢çš„ï¼Œæ¸¸æˆæ›´æ–°èµ„æºæ–‡ä»¶ä¸ç®—ï¼‰ä¸€ç›´æ˜¯è‹¹æœä¸å…è®¸çš„ï¼Œå°ç¨‹åºæœ‰ç‚¹ç°è‰²åœ°å¸¦ï¼Œè‹¹æœåœ¨è¿™é‡Œç€é‡å¼ºè°ƒä¸€ä¸‹ã€‚</p>
<p>é’ˆå¯¹å°ç¨‹åºçš„å®¡æ ¸æ¡æ¬¾å®Œæ•´å†…å®¹ï¼Œè¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fapp-store%2Freview%2Fguidelines%2F%23third-party-software" target="_blank" title="https://developer.apple.com/app-store/review/guidelines/#third-party-software" ref="nofollow noopener noreferrer">è‹¹æœå®¡æ ¸æŒ‡å—4.7éƒ¨åˆ†</a>ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€å¾®ä¿¡ï¼šå°†å°½å¿«ä¸ºå°ç¨‹åºå¼€å‘è€…æä¾›æ¥å…¥æœåŠ¡</h2>
<p>ã€Šå¾®ä¿¡å…¬å¼€è¯¾ã€‹å…¬ä¼—å·ä»Šæ—¥ä¹Ÿå‘æ–‡å›åº”ï¼Œâ€<strong>æ¬¢è¿è‹¹æœå¯¹å°ç¨‹åºå’Œå°æ¸¸æˆå¼€å‘è€…çš„æ”¯æŒï¼Œ<strong>ä¹è§</strong>è‹¹æœæ¨å‡ºâ€˜å°ç¨‹åºåˆä½œä¼™ä¼´è®¡åˆ’â€™ã€‚æˆ‘ä»¬å°†å°½å¿«ä¸ºå¼€å‘è€…æä¾›æ¥å…¥æœåŠ¡ï¼Œå…±åŒå»ºè®¾ä¸€ä¸ªå¥åº·ç¹è£çš„ç”Ÿæ€ã€‚</strong>â€œ</p>
<p>å¾®ä¿¡çš„å›åº”æœ‰ç‚¹å¾®å¦™å•Šã€‚å¾®ä¿¡ç”¨çš„æ˜¯â€<strong>æ¬¢è¿</strong>â€œï¼Œè€Œä¸æ˜¯â€<strong>æ„Ÿè°¢</strong>â€œï¼Œâ€<strong>ä¹è§</strong>â€œè¿™ä¸ªè¯æ›´æ˜¯ä½“ç°å‡ºæˆ‘åªæœ‰ä¸€ä¸¢ä¸¢æ»¡æ„ã€‚çœ‹æ¥å¾®ä¿¡ä»å®åŠ›çš„è§’åº¦å‡ºå‘ï¼Œå¯¹è¿™15%ä¸å¤ªæ»¡æ„å•Šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/895994c4bff645e6add71b5a2f0af5bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29jb2FLaWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763724028&amp;x-signature=mskOhtcqI9lFCUm%2FJSIn2AsOXmA%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€å°ç¨‹åºå¼€å‘è€…éœ€è¦åšä»€ä¹ˆ</h2>
<p>æš‚æ—¶ä¸ç”¨åšä»€ä¹ˆï¼Œä¸Šè¿°å†…å®¹éƒ½æ˜¯è‹¹æœå’Œå®¿ä¸»Appï¼ˆå¾®ä¿¡ï¼‰ä¹‹é—´çš„äº‹æƒ…ã€‚</p>
<p>ç°åœ¨åªéœ€è¦ç­‰å¾®ä¿¡é‚£è¾¹å®ŒæˆæŠ€æœ¯æ”¹é€ åï¼Œæ›´æ–°å°ç¨‹åºçš„å¯¹æ–‡æ¡£ã€æ”¿ç­–æ–‡æ¡£ï¼Œå°ç¨‹åºå¼€å‘è€…å±Šæ—¶åœ¨å®Œæˆé€‚é…å·¥ä½œã€‚</p>
<p>æ”¹é€ å®Œæˆåçš„æµç¨‹å¯èƒ½ä¼šå˜æˆï¼šå°æ¸¸æˆå†…å¯ä»¥ç›´æ¥æ‹‰èµ·è‹¹æœæ”¯ä»˜è¿›è¡Œä»˜æ¬¾ï¼Œå¼€å‘è€…å’Œå¾®ä¿¡åˆ†æˆï¼Œå¾®ä¿¡å’Œè‹¹æœè¿›è¡Œåˆ†æˆã€‚ä¹Ÿä¸æ’é™¤å¦å¤–ä¸€ç§æ¨¡å¼ï¼šå°æ¸¸æˆå†…ç›´æ¥æ‹‰å¾®ä¿¡æ”¯ä»˜ï¼Œå¾®ä¿¡æŠŠæ”¯ä»˜æ•°æ®ä¸ŠæŠ¥ç»™è‹¹æœï¼Œè‹¹æœå’Œå¾®ä¿¡åˆ†æˆã€‚ä¸ªäººè¿˜æ˜¯è§‰å¾—èµ°è‹¹æœæ”¯ä»˜çš„å¯èƒ½æ€§æ›´å¤§ä¸€ç‚¹ã€‚</p>
<p>å¯¹äºä¸Šè¿°å˜åŠ¨ï¼Œä¸çŸ¥é“å°ç¨‹åºå¼€å‘è€…æ˜¯é«˜å…´å‘¢ï¼Œè¿˜æ˜¯ä¸é«˜å…´å‘¢ï¼Ÿ</p>
<p>å¥½å¤„æ˜¯iOSç«¯å°ç¨‹åºç»ˆäºå¯ä»¥æ­£å¤§å…‰æ˜çš„è¿›è¡Œæ”¯ä»˜äº†ï¼Œè€Œä¸æ˜¯åƒä¹‹å‰é‚£æ ·â€èº²èº²è—è—â€œï¼Œè¿™ç‚¹å¯¹äºç”¨æˆ·ä½“éªŒä¸Šè‚¯å®šæ˜¯æ›´å¥½äº†ï¼›åå¤„æ˜¯ï¼Œä¹‹å‰ç”¨çš„å¥‡å·§æ·«æŠ€ä¸ç”¨åˆ†æˆæˆ–è€…åˆ†æˆå¾ˆä½ï¼Œç°åœ¨éœ€è¦é¢å¤–äº¤è‡³å°‘15%çš„è‹¹æœç¨ã€‚</p>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œè°ˆè°ˆä½ çš„æ„Ÿå—ã€‚</p>
<p>å‚è€ƒæ¥æº<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fcn%2Fnews%2F%3Fid%3Dxcz1s7cz" target="_blank" title="https://developer.apple.com/cn/news/?id=xcz1s7cz" ref="nofollow noopener noreferrer">ã€è‹¹æœå®˜æ–¹ã€‘å°ç¨‹åºåˆä½œä¼™ä¼´è®¡åˆ’</a><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fapp-store%2Freview%2Fguidelines%2F%23third-party-software" target="_blank" title="https://developer.apple.com/app-store/review/guidelines/#third-party-software" ref="nofollow noopener noreferrer">ã€è‹¹æœå®˜æ–¹ã€‘è‹¹æœå®¡æ ¸æŒ‡å—</a><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPZFZwhQkVRoSXXj4ODiRzw" target="_blank" title="https://mp.weixin.qq.com/s/PZFZwhQkVRoSXXj4ODiRzw" ref="nofollow noopener noreferrer">ã€å…¬ä¼—å·ã€‘è‹¹æœå®˜å®£ï¼šæ”¯æŒiOSå°ç¨‹åºå°æ¸¸æˆå¼€é€šæ”¯ä»˜ï¼ŒæŠ½æˆ15%</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¥è¯æŠŠ Excalidraw è·‘èµ·æ¥ï¼ŸSOLO Coder æŠŠæˆ‘ä»¥å‰è¸©è¿‡çš„å‘éƒ½å¸®æˆ‘å¡«äº†]]></title>    <link>https://juejin.cn/post/7572389069706493962</link>    <guid>https://juejin.cn/post/7572389069706493962</guid>    <pubDate>2025-11-14T11:44:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572389069706493962" data-draft-id="7572179176306524169" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¥è¯æŠŠ Excalidraw è·‘èµ·æ¥ï¼ŸSOLO Coder æŠŠæˆ‘ä»¥å‰è¸©è¿‡çš„å‘éƒ½å¸®æˆ‘å¡«äº†"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-14T11:44:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æƒ‘_"/> <meta itemprop="url" content="https://juejin.cn/user/1471609400466218"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¥è¯æŠŠ Excalidraw è·‘èµ·æ¥ï¼ŸSOLO Coder æŠŠæˆ‘ä»¥å‰è¸©è¿‡çš„å‘éƒ½å¸®æˆ‘å¡«äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1471609400466218/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æƒ‘_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T11:44:36.000Z" title="Fri Nov 14 2025 11:44:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Excalidraw æ˜¯ä¸€ä¸ªå¼€æºã€ç±»æ‰‹ç»˜é£æ ¼çš„è™šæ‹Ÿç™½æ¿å·¥å…·ï¼Œæ”¯æŒæ— é™ç”»å¸ƒã€æš—è‰²æ¨¡å¼ã€å›¾å½¢åº“ã€å¯¼å‡º PNG/SVGã€è‡ªç”±ç»˜åˆ¶ã€å¤šè¯­è¨€ã€å¿«æ·é”®ä¸ç»‘å®šç®­å¤´ç­‰ä¸°å¯Œèƒ½åŠ›ã€‚å…¶å®˜æ–¹åº”ç”¨åŸç”Ÿæ”¯æŒ PWA ç¦»çº¿ã€æœ¬åœ°ä¼˜å…ˆå­˜å‚¨ã€çº¯å‰ç«¯æ¶æ„ï¼Œéå¸¸é€‚åˆç§æœ‰åŒ–éƒ¨ç½²æˆ–å†…ç½‘ä½¿ç”¨ã€‚
è¦æ˜¯ä½ ä¹‹å‰åŠ¨æ‰‹éƒ¨ç½²è¿‡å¼€æºé¡¹ç›®ï¼Œä½ åº”è¯¥æ‡‚é‚£ç§æ„Ÿè§‰ï¼šæ•™ç¨‹çœ‹ç€ç®€å•ï¼Œç»“æœä¸€åŠ¨æ‰‹å°±å¼€å§‹æ‰“æ€ªï¼Œgit clone â†’ è§£å‹ â†’ å®‰è£…ä¾èµ– â†’ å¤„ç†ç½‘ç»œä»£ç† â†’ å¯åŠ¨æœåŠ¡ â†’ æ ¡éªŒç«¯å£ â†’ æœ¬åœ°é¢„è§ˆã€‚è€Œè¿™äº›æ­¥éª¤æ¯ä¸€æ­¥éƒ½å¯èƒ½è¸©åˆ°ç½‘ç»œã€ä¾èµ–ã€ç«¯å£å ç”¨ç­‰å‘ã€‚æˆ‘ä»¥å‰æ­è¿™ä¸ªé¡¹ç›®ï¼Œå¤§æ¦‚èƒ½è¸©å…«ç§ä¸åŒçš„å‘ã€‚ä½†ç°åœ¨ï¼Œç”¨ SOLO Coderï¼Œæˆ‘åªéœ€è¦ä¸€å¥è¯ã€‚ä¸‹é¢æˆ‘å°±æŠŠä¸¤ç§æ–¹å¼åšä¸ªå¯¹æ¯”ï¼Œä½ å°±çŸ¥é“å·®åˆ«åœ¨å“ªé‡Œäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9df8d66100154602bb7015a2a59ebf08~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725476&amp;x-signature=F273qGzQeVJPzl8I9%2B2ocZvtYfk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¼ ç»Ÿéƒ¨ç½²ï¼Œ6 ä¸ªæ­¥éª¤ + å¤šç§æ½œåœ¨å¤±è´¥ç‚¹</h2>
<p>åœ¨ä½ çš„ä»»æ„ç›®å½•ï¼ˆä¾‹å¦‚  e:\ATrae_Demos\å¼€æºï¼‰æŒ‰é¡ºåºæ‰§è¡Œï¼Œ</p>
<pre><code class="hljs language-powershell" lang="powershell"># æ–¹å¼ Aï¼Œå¸¸è§„æ‹‰å–ï¼ˆå¦‚ç½‘ç»œå—é™å¯èƒ½å¤±è´¥ï¼‰
git clone https://github.com/excalidraw/excalidraw.git

# æ–¹å¼ Bï¼Œç¨³å¥æ—è·¯ï¼ˆä¸‹è½½ ZIP å¹¶è§£å‹åˆ° excalidraw-masterï¼‰
Invoke-WebRequest -Uri https://codeload.github.com/excalidraw/excalidraw/zip/refs/heads/master -OutFile excalidraw.zip
Expand-Archive -LiteralPath excalidraw.zip -DestinationPath . -Force
# å°† excalidraw-master ä½œä¸ºå·¥ä½œç›®å½•
</code></pre>
<p>å®‰è£…ä¸å¯åŠ¨ï¼Œ</p>
<pre><code class="hljs language-powershell" lang="powershell">cd e:\ATrae_Demos\å¼€æº\excalidraw-master
yarn install
yarn start
# çœ‹åˆ° Vite è¾“å‡º Local: http://localhost:3000/ å³å¯è®¿é—®
</code></pre>
<p>è®¿é—®éªŒè¯ï¼Œ</p>
<pre><code class="hljs language-text" lang="text">æµè§ˆå™¨æ‰“å¼€ http://localhost:3000/
</code></pre>
<p>è¿›é˜¶ï¼ˆç”Ÿäº§é¢„è§ˆ/é™æ€æœåŠ¡ï¼‰ï¼Œ</p>
<pre><code class="hljs language-powershell" lang="powershell"># ç”Ÿäº§é¢„è§ˆï¼ˆæ‰“åŒ…å¹¶åœ¨ 5000 ç«¯å£é¢„è§ˆï¼‰
yarn build:preview
# æˆ–ç”Ÿäº§é™æ€æœåŠ¡ï¼ˆæ‰“åŒ…å¹¶åœ¨ 5001 ç«¯å£ç”¨ http-server æœåŠ¡ï¼‰
yarn start:production
</code></pre>
<h2 data-id="heading-1">ä¸€å¥è¯åˆ°è½åœ°ï¼ŒSOLO Coder æ˜¯æ€ä¹ˆåšåˆ°çš„</h2>
<p>æˆ‘ç¬¬ä¸€æ¬¡ç”¨å®ƒçš„æ—¶å€™ï¼Œç”šè‡³æœ‰ç‚¹æ²¡ååº”è¿‡æ¥ã€‚æˆ‘å°±è¯´äº†ä¸€å¥ï¼š</p>
<blockquote>
<p>å¸®æˆ‘ä¸‹è½½ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexcalidraw%2Fexcalidraw.git" target="_blank" title="https://github.com/excalidraw/excalidraw.git" ref="nofollow noopener noreferrer">github.com/excalidraw/â€¦</a>  é¡¹ç›®ï¼Œå¹¶è¿è¡Œã€‚</p>
</blockquote>
<p>ç„¶åäº‹æƒ…å°±è‡ªå·±å‘ç”Ÿäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca760264fa054fd1ba369c27fffb6655~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725476&amp;x-signature=TjIGXc%2B1URE6DdTMi3xsC%2B7st7A%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>
<p>è§£ææ„å›¾ï¼Œä¸æ˜¯è¿è¡Œå‘½ä»¤ï¼Œè€Œæ˜¯è·‘èµ·æ¥ä¸€ä¸ªèƒ½è®¿é—®çš„æœ¬åœ°åº”ç”¨ï¼Œè¯†åˆ«ç›®æ ‡æ˜¯ä»æŒ‡å®šä»“åº“è·å–æºç å¹¶å¯åŠ¨åº”ç”¨ï¼Œäº¤ä»˜ç‰©æ˜¯å¯è®¿é—®çš„æœ¬åœ°æœåŠ¡åœ°å€ï¼Œè€Œéä»…ä»…è¾“å‡ºå‘½ä»¤æˆ–æ—¥å¿—ã€‚</p>
</li>
<li>
<p>ç½‘ç»œå®¹é”™è·å–æºç ï¼Œgit clone â†’ è‡ªåŠ¨æ—è·¯ ZIP ä¸‹è½½ï¼Œé¦–é€‰  git cloneã€‚è‹¥é‡åˆ°ä¼ä¸šç½‘ç»œ/SSL/ä»£ç†é˜»æ–­ï¼Œè‡ªåŠ¨æ—è·¯ä¸º ZIP åŒ…ä¸‹è½½ï¼ˆcodeloadï¼‰ï¼Œè§£å‹åˆ°å·¥ä½œç›®å½•ï¼ˆç¤ºä¾‹ä¸º  e:\ATrae_Demos\å¼€æº\excalidraw-masterï¼‰ï¼Œé¿å…å¡æ­»ä¸ç­‰å¾…ã€‚</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f62c44b982ec49aea66103ebc20386b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725476&amp;x-signature=bWbXOnd8a%2FRc9%2FIFYwiSnXrxC%2Bc%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>å®‰è£…ä¾èµ–ï¼Œè¯†åˆ« Yarn å·¥ä½œåŒºï¼Œåœ¨ä»“åº“æ ¹ç›®å½•æ‰§è¡Œå·¥ä½œåŒºå®‰è£…ï¼Œyarn installã€‚è¯¥é¡¹ç›®æ˜¯ Yarn å·¥ä½œåŒºï¼ˆmonorepoï¼‰ï¼ŒSOLO Coderä¼šæ²¿ç”¨é¡¹ç›®å£°æ˜çš„ Yarn ç‰ˆæœ¬å¹¶ä¸€æ¬¡æ€§è£…é½ä¾èµ–ã€‚é¿å…ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„éšæ€§æŠ¥é”™</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87a81f3c4692434b8b8da304fa011051~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725476&amp;x-signature=qBxfiCdEf3Rxi%2FEjaC%2BuG8nPWR0%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>å¯åŠ¨æœåŠ¡ï¼Œæ‰§è¡Œ yarn start å¹¶æŒç»­ç›‘æ§ Vite è¾“å‡ºï¼Œåœ¨æ ¹ç›®å½•æ‰§è¡Œï¼Œyarn startã€‚è¯¥è„šæœ¬ç”±æ ¹  package.json  å§”æ´¾åˆ°  excalidraw-app  å­åŒ…å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4501ba3d2c8947c4b80681f50b3241ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725476&amp;x-signature=H9l%2BTaEKu6F4xWn0YCmmEyO7%2BO4%3D" alt="image.png" loading="lazy"/>
5.  éªŒè¯äº¤ä»˜ï¼Œç›‘æ§å¯åŠ¨è¾“å‡ºï¼Œæ£€æµ‹åˆ°æœ¬åœ°åœ°å€åï¼ˆä¾‹å¦‚  <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000%2F%25EF%25BC%2589%25EF%25BC%258C%25E5%25B0%2586%25E5%2585%25B6%25E4%25BD%259C%25E4%25B8%25BA%25E6%259C%2580%25E7%25BB%2588%25E4%25BA%25A4%25E4%25BB%2598%25E7%25BB%2593%25E6%259E%259C%25E5%25B9%25B6%25E6%258F%2590%25E7%25A4%25BA%25E4%25BD%25A0%25E6%2589%2593%25E5%25BC%2580%25E9%25AA%258C%25E8%25AF%2581%25E3%2580%2582%25E4%25B8%258D%25E6%2598%25AF%25E7%259C%258B%25E8%25B5%25B7%25E6%259D%25A5%25E8%25B7%2591%25E4%25BA%2586%25EF%25BC%258C%25E8%2580%258C%25E6%2598%25AF%25E7%25A1%25AE%25E5%25AE%259E%25E8%2583%25BD%25E8%25AE%25BF%25E9%2597%25AE%25E8%2583%25BD%25E7%2594%25A8%25E3%2580%2582" target="_blank" title="http://localhost:3000/%EF%BC%89%EF%BC%8C%E5%B0%86%E5%85%B6%E4%BD%9C%E4%B8%BA%E6%9C%80%E7%BB%88%E4%BA%A4%E4%BB%98%E7%BB%93%E6%9E%9C%E5%B9%B6%E6%8F%90%E7%A4%BA%E4%BD%A0%E6%89%93%E5%BC%80%E9%AA%8C%E8%AF%81%E3%80%82%E4%B8%8D%E6%98%AF%E7%9C%8B%E8%B5%B7%E6%9D%A5%E8%B7%91%E4%BA%86%EF%BC%8C%E8%80%8C%E6%98%AF%E7%A1%AE%E5%AE%9E%E8%83%BD%E8%AE%BF%E9%97%AE%E8%83%BD%E7%94%A8%E3%80%82" ref="nofollow noopener noreferrer">http://localhost:3000/ï¼‰ï¼Œå°†å…¶ä½œä¸ºæœ€ç»ˆäº¤ä»˜ç»“æœå¹¶æç¤ºä½ æ‰“å¼€éªŒè¯ã€‚ä¸æ˜¯çœ‹èµ·æ¥è·‘äº†ï¼Œè€Œæ˜¯ç¡®å®èƒ½è®¿é—®èƒ½ç”¨ã€‚</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65598cbec3dc4a76b8854b09fd92d918~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725476&amp;x-signature=K707RiBIyxKQL1OYpcd0rOuGfcs%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">å®¹é”™ä¸ç¨³å¥ï¼Œä¸ä»…èƒ½è·‘ï¼Œè¿˜èƒ½ä¸€ç›´è·‘</h2>
<ul>
<li>ç½‘ç»œå®¹é”™ï¼Œå½“  git clone  è¢« SSL/ä»£ç†é˜»æ–­æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ° ZIP ä¸‹è½½ä¸è§£å‹ï¼›ä¸å†è®©ç½‘ç»œæ³¢åŠ¨è€½è¯¯è¿›åº¦ã€‚</li>
<li>ä¾èµ–ç¨³å¥ï¼Œè¯†åˆ« Yarn å·¥ä½œåŒºï¼Œä¸€æ¬¡æ€§å®‰è£…ï¼›éµå¾ªé¡¹ç›®å£°æ˜çš„ç‰ˆæœ¬ï¼Œå‡å°‘ç‰ˆæœ¬ä¸ä¸€è‡´çš„éšæ€§é—®é¢˜ã€‚</li>
<li>ç«¯å£æ„ŸçŸ¥ï¼Œè¯»å– Vite é…ç½®ä¸ç¯å¢ƒå˜é‡ï¼›é»˜è®¤ä½¿ç”¨  3000ï¼Œä¹Ÿæ”¯æŒä½ é€šè¿‡ .env.development  è°ƒæ•´ï¼Œå¦‚  VITE_APP_PORT=3001ã€‚</li>
<li>äº¤ä»˜éªŒè¯ï¼Œåªæœ‰å½“å‡ºç°  Local: <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000%2F" target="_blank" title="http://localhost:3000/" ref="nofollow noopener noreferrer">http://localhost:3000/</a> ä¸”é¡µé¢å¯æ‰“å¼€æ—¶ï¼Œæ‰è®¤å®šä¸ºæˆåŠŸäº¤ä»˜ï¼Œé¿å…å‘½ä»¤æˆåŠŸä½†é¡µé¢ä¸å¯ç”¨çš„å‡è±¡ã€‚</li>
</ul>
<h2 data-id="heading-3">SOLO Coderï¼Œä»·å€¼ç›´ç»™</h2>
<ul>
<li>çœŸæ­£çš„ä¸€å¥è¯äº¤ä»˜ï¼Œè¾“å…¥ä¸€å¥è¯ï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªèƒ½è®¿é—®çš„é¡µé¢åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€å †å‘½ä»¤ä¸æ–‡æ¡£é“¾æ¥ã€‚</li>
<li>å¯¹å¤æ‚å¼€æºæ ˆå‹å¥½ï¼ŒMonorepoã€Yarn å·¥ä½œåŒºã€Vite/PWAã€åˆ«åæ˜ å°„ã€ç¯å¢ƒå˜é‡ç­‰éƒ½èƒ½è¯»æ‡‚å¹¶è¿è¡Œã€‚</li>
<li>é‡åˆ°é—®é¢˜ä¸è€½è¯¯ï¼Œç½‘ç»œä¸ä¾èµ–çš„å¸¸è§å‘ï¼Œè‡ªåŠ¨æ—è·¯ï¼›ä½ ä¸éœ€è¦åˆ‡æ¢ä»£ç†æˆ–æ‰‹åŠ¨ä¿®ç‰ˆæœ¬ã€‚</li>
<li>ç§æœ‰åŒ–å³åˆ»å°±ç»ªï¼Œæœ¬åœ°è·‘èµ·æ¥åï¼Œå¯ç«‹åˆ»åšç”Ÿäº§é¢„è§ˆä¸é™æ€æœåŠ¡ï¼Œæ–¹ä¾¿å±€åŸŸç½‘/å†…ç½‘æ¼”ç¤ºä¸äº¤ä»˜ã€‚</li>
</ul>
<h2 data-id="heading-4">å°ç»“</h2>
<p>Excalidraw æœ¬èº«æ˜¯æˆç†Ÿã€å¼€æºã€å¯æ‰©å±•çš„ç™½æ¿åº”ç”¨ï¼Œå…·å¤‡ä¸°å¯Œçš„ç»˜åˆ¶ä¸å¯¼å‡ºèƒ½åŠ›ã€ç¦»çº¿ä¸æœ¬åœ°ä¼˜å…ˆç­‰ä½“éªŒä¼˜åŠ¿ã€‚SOLO Coderå°†ä¸‹è½½å¹¶è¿è¡Œå˜æˆä¸€å¥è¯çš„è‡ªåŠ¨åŒ–è¿‡ç¨‹ï¼Œä»è·å–æºç ã€å®‰è£…ä¾èµ–ã€å¯åŠ¨æœåŠ¡åˆ°æä¾›å¯è®¿é—®åœ°å€ï¼Œæ¯ä¸€æ­¥éƒ½ä¸ºä½ å…œåº•ï¼Œç¡®ä¿æœ€ç»ˆäº¤ä»˜çš„æ˜¯é¡µé¢èƒ½æ‰“å¼€ã€åŠŸèƒ½èƒ½ç”¨çš„ç»“æœã€‚å½“ä½ éœ€è¦åœ¨å†…ç½‘å¿«é€ŸéªŒè¯å¼€æºé¡¹ç›®ã€åšæ¼”ç¤ºæˆ–å†™æ–‡æ¡£ï¼ŒSOLO Coderå°±æ˜¯æŠŠæ—¶é—´ä»æ­ç¯å¢ƒä¸æ’å‘è½¬å›è¾“å‡ºä¸äº¤ä»˜çš„æœ€ä½³æ­æ¡£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å›¾å½¢å¼•æ“æ¶æ„è®¾è®¡ï¼šåŒå¼•æ“æ¶æ„è®¾è®¡]]></title>    <link>https://juejin.cn/post/7572387666979995674</link>    <guid>https://juejin.cn/post/7572387666979995674</guid>    <pubDate>2025-11-14T11:50:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572387666979995674" data-draft-id="7572397142364504106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å›¾å½¢å¼•æ“æ¶æ„è®¾è®¡ï¼šåŒå¼•æ“æ¶æ„è®¾è®¡"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-14T11:50:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŒªçŒªæ‹†è¿é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2541726613638973"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å›¾å½¢å¼•æ“æ¶æ„è®¾è®¡ï¼šåŒå¼•æ“æ¶æ„è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2541726613638973/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŒªçŒªæ‹†è¿é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T11:50:53.000Z" title="Fri Nov 14 2025 11:50:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ECSæ¸²æŸ“å¼•æ“æ¶æ„æ–‡æ¡£</h2>
<h3 data-id="heading-1">å†™åœ¨å‰é¢</h3>
<p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡ECSæ–‡ç« ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å†å†™ä¸€ä¸ªï¼Œæœ¬è´¨ä¸Šå› ä¸ºä¹‹å‰çš„æ–‡æ¡£ï¼Œæˆªæ­¢åˆ°ç›®å‰æ¥è¯´ï¼Œå˜åŒ–å·¨å¤§ï¼Œåº•å±‚å·²ç»æ”¹äº†å¾ˆå¤šå¾ˆå¤šï¼Œæ‰€ä»¥æœ‰å¿…è¦æŠŠä¸€äº›å†…å®¹æ‹å‡ºæ¥å•ç‹¬å»è¯´ã€‚</p>
<p>ç”±äºå­—ä½“æ–‡ä»¶è¾ƒå¤§ï¼ŒåŠ è½½æ—¶é—´ä¼šæ¯”è¾ƒä¹…ğŸ˜</p>
<p>å¦å¤–å¦‚æœæœ‰æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä¼šåŠæ—¶ä¿®å¤ï¼Œå¼•æ“æ”¹é€ æ—¶é—´å¤ªä»“ä¿ƒï¼Œåªè¦ä¸æ˜¯å†…å­˜æ³„æ¼ï¼Œæš‚æ—¶æ²¡å»å¤„ç†ã€‚</p>
<p>è¿˜æœ‰å¾ˆå¤šä¸œè¥¿è¦åšã€‚</p>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbaiyuze.github.io%2Fdesign%2F%23%2Fcanvas" target="_blank" title="https://baiyuze.github.io/design/#/canvas" ref="nofollow noopener noreferrer">baiyuze.github.io/design/#/caâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d88df62aee1f4a668d429870a93341eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54yq54yq5ouG6L-B6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725853&amp;x-signature=q%2Bst%2BYeBEwUaIUZDTD4Ny6MhUsE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/788557d10eb94aa28e8143f60c1abb4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54yq54yq5ouG6L-B6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725853&amp;x-signature=Q7yRGBLzyyz%2Br6OqsgUPUMJSZ8Y%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc197e70a0fe41839b00e221e01308cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54yq54yq5ouG6L-B6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725853&amp;x-signature=ke1GzKTRUs5GBqFKyDxZObAHYN4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">é¡¹ç›®æ¦‚è§ˆ</h3>
<p>Duck-Core æ˜¯ä¸€ä¸ªåŸºäº <strong>ECSï¼ˆEntity-Component-Systemï¼‰æ¶æ„</strong>æ„å»ºçš„é«˜æ€§èƒ½ Canvas æ¸²æŸ“å¼•æ“ï¼Œä¸“ä¸ºå¤æ‚å›¾å½¢ç¼–è¾‘åœºæ™¯è®¾è®¡ã€‚å¼•æ“çš„æ ¸å¿ƒç‰¹è‰²åœ¨äº<strong>åŒæ¸²æŸ“åç«¯æ¶æ„</strong>ã€<strong>æ’ä»¶åŒ–ç³»ç»Ÿè®¾è®¡</strong>å’Œ<strong>æè‡´çš„æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–</strong>ã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒæŠ€æœ¯æ ˆ</h4>
<ul>
<li><strong>CanvasKit-WASM</strong> - Google Skia å›¾å½¢åº“çš„ WebAssembly ç§»æ¤ç‰ˆ</li>
<li><strong>Canvas2D API</strong> - æµè§ˆå™¨åŸç”Ÿæ¸²æŸ“æ¥å£</li>
</ul>
<h4 data-id="heading-4">æ¶æ„æ ¸å¿ƒäº®ç‚¹</h4>
<p><strong>ECS æ¶æ„æ¨¡å¼</strong> - æ•°æ®é©±åŠ¨çš„å®ä½“ç»„ä»¶ç³»ç»Ÿï¼Œå®ç°é€»è¾‘ä¸æ•°æ®å®Œå…¨è§£è€¦</p>
<p><strong>åŒå¼•æ“æ¶æ„</strong> - Canvas2D ä¸ CanvasKit åŒæ¸²æŸ“åç«¯ï¼Œè¿è¡Œæ—¶æ— ç¼åˆ‡æ¢</p>
<p><strong>æ’ä»¶åŒ–è®¾è®¡</strong> - å¼€æ”¾å¼æ‰©å±•ç‚¹ï¼Œæ”¯æŒè‡ªå®šä¹‰æ¸²æŸ“å™¨ã€ç³»ç»Ÿå’Œç»„ä»¶</p>
<p><strong>æè‡´æ€§èƒ½</strong> - é¢œè‰²ç¼–ç æ‹¾å–ã€ç¦»å±æ¸²æŸ“ã€æ¸²æŸ“èŠ‚æµç­‰å¤šé‡ä¼˜åŒ–</p>
<hr/>
<h3 data-id="heading-5">æ•´ä½“æ¶æ„è®¾è®¡</h3>
<p>æ•´ä¸ªå¼•æ“é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼Œä»åº•å±‚çš„æ¸²æŸ“æŠ½è±¡åˆ°é¡¶å±‚çš„ç”¨æˆ·äº¤äº’ï¼Œæ¯ä¸€å±‚èŒè´£æ¸…æ™°ä¸”å¯ç‹¬ç«‹æ›¿æ¢ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "åº”ç”¨å±‚"
        A[React ç»„ä»¶] --&gt; B[Canvas ç”»å¸ƒç»„ä»¶]
    end
    
    subgraph "å¼•æ“æ ¸å¿ƒå±‚"
        B --&gt; C[Engine å¼•æ“å®ä¾‹]
        C --&gt; D[Core çŠ¶æ€ç®¡ç†å™¨]
        C --&gt; E[Camera ç›¸æœºæ§åˆ¶]
        C --&gt; F[Entity Manager å®ä½“ç®¡ç†]
    end
    
    subgraph "ç³»ç»Ÿå±‚ - System"
        C --&gt; G[EventSystem äº‹ä»¶ç³»ç»Ÿ]
        G --&gt; H[InputSystem è¾“å…¥ç³»ç»Ÿ]
        G --&gt; I[RenderSystem æ¸²æŸ“ç³»ç»Ÿ]
        G --&gt; J[PickingSystem æ‹¾å–ç³»ç»Ÿ]
        G --&gt; K[DragSystem æ‹–æ‹½ç³»ç»Ÿ]
        G --&gt; L[SelectionSystem é€‰æ‹©ç³»ç»Ÿ]
        G --&gt; M[ZoomSystem ç¼©æ”¾ç³»ç»Ÿ]
        G --&gt; M[FpsSystem FPS]
    end
    
    subgraph "æ¸²æŸ“å±‚ - Renderer"
        I --&gt; N[RendererManager æ¸²æŸ“ç®¡ç†å™¨]
        N --&gt; O{é€‰æ‹©æ¸²æŸ“åç«¯}
        O --&gt;|Canvas2D| P[Canvas2D æ¸²æŸ“å™¨ç»„]
        O --&gt;|CanvasKit| Q[CanvasKit æ¸²æŸ“å™¨ç»„]
        P --&gt; R[RectRender]
        P --&gt; S[EllipseRender]
        P --&gt; T[TextRender]
        Q --&gt; U[RectRender]
        Q --&gt; V[EllipseRender]
        Q --&gt; W[TextRender]
    end
    
    subgraph "æ•°æ®å±‚ - Component"
        X[StateStore çŠ¶æ€ä»“åº“]
        X --&gt; Y[Position]
        X --&gt; Z[Size]
        X --&gt; AA[Color]
        X --&gt; AB[Rotation]
        X --&gt; AC[Selected]
    end
    
    D &lt;--&gt; X
    I --&gt; X
    J --&gt; X
    K --&gt; X
    L --&gt; X
    
    style C fill:#4A90E2,color:#fff
    style N fill:#E94B3C,color:#fff
    style X fill:#6ECB63,color:#fff
    style G fill:#F39C12,color:#fff
</code></pre>
<hr/>
<h3 data-id="heading-6">ECS æ¶æ„æ·±åº¦è§£æ</h3>
<h4 data-id="heading-7">ä»€ä¹ˆæ˜¯ ECS æ¶æ„ï¼Ÿ</h4>
<p>ECSï¼ˆEntity-Component-Systemï¼‰æ˜¯ä¸€ç§æºè‡ªæ¸¸æˆå¼•æ“çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒå½»åº•æ”¹å˜äº†ä¼ ç»Ÿé¢å‘å¯¹è±¡çš„ç»§æ‰¿ä½“ç³»ï¼Œè½¬è€Œé‡‡ç”¨<strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>çš„ç†å¿µã€‚</p>
<p><strong>ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µï¼š</strong></p>
<ol>
<li><strong>Entityï¼ˆå®ä½“ï¼‰</strong> - ä»…æ˜¯ä¸€ä¸ªå”¯ä¸€ IDï¼Œä¸åŒ…å«ä»»ä½•æ•°æ®å’Œé€»è¾‘</li>
<li><strong>Componentï¼ˆç»„ä»¶ï¼‰</strong> - çº¯æ•°æ®ç»“æ„ï¼Œæè¿°å®ä½“çš„å±æ€§ï¼ˆå¦‚ä½ç½®ã€é¢œè‰²ã€å¤§å°ï¼‰</li>
<li><strong>Systemï¼ˆç³»ç»Ÿï¼‰</strong> - çº¯é€»è¾‘å¤„ç†å•å…ƒï¼Œæ“ä½œç‰¹å®šç»„ä»¶ç»„åˆçš„å®ä½“</li>
</ol>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "ä¼ ç»Ÿ OOP ç»§æ‰¿æ–¹å¼"
        A1[GameObject]
        A1 --&gt; A2[Rectangle]
        A1 --&gt; A3[Circle]
        A1 --&gt; A4[Text]
        A2 --&gt; A5[DraggableRectangle]
        A3 --&gt; A6[SelectableCircle]
        style A1 fill:#ff9999
    end
    
    subgraph "ECS ç»„åˆæ–¹å¼"
        B1[Entity 123] -.æ‹¥æœ‰.-&gt; B2[Position]
        B1 -.æ‹¥æœ‰.-&gt; B3[Size]
        B1 -.æ‹¥æœ‰.-&gt; B4[Color]
        
        B5[Entity 456] -.æ‹¥æœ‰.-&gt; B6[Position]
        B5 -.æ‹¥æœ‰.-&gt; B7[Font]
        B5 -.æ‹¥æœ‰.-&gt; B8[Selected]
        
        B9[RenderSystem] --&gt; B2 &amp; B3 &amp; B4
        B10[DragSystem] --&gt; B2
        B11[SelectionSystem] --&gt; B8
        
        style B1 fill:#99ccff
        style B5 fill:#99ccff
        style B9 fill:#99ff99
        style B10 fill:#99ff99
        style B11 fill:#99ff99
    end
</code></pre>
<h4 data-id="heading-8">ECS æ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿</h4>
<h5 data-id="heading-9">1. æè‡´çš„è§£è€¦æ€§</h5>
<p>ä¼ ç»Ÿ OOP ä¸­ï¼ŒåŠŸèƒ½é€šè¿‡ç»§æ‰¿é“¾ç´§å¯†è€¦åˆã€‚è€Œ ECS ä¸­ï¼Œç³»ç»Ÿåªä¾èµ–ç»„ä»¶æ¥å£ï¼Œå®ä½“çš„è¡Œä¸ºå®Œå…¨ç”±ç»„ä»¶ç»„åˆå†³å®šã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¼ ç»Ÿæ–¹å¼ï¼šç´§è€¦åˆçš„ç»§æ‰¿é“¾</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> {
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DraggableShape</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Shape</span> {
  <span class="hljs-title function_">drag</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectableDraggableShape</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">DraggableShape</span> {
  <span class="hljs-title function_">select</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-comment">// âœ… ECS æ–¹å¼ï¼šç»„ä»¶è‡ªç”±ç»„åˆ</span>
<span class="hljs-keyword">const</span> rect = <span class="hljs-title function_">createEntity</span>()
<span class="hljs-title function_">addComponent</span>(rect, <span class="hljs-title class_">Position</span>, { <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100</span> })
<span class="hljs-title function_">addComponent</span>(rect, <span class="hljs-title class_">Size</span>, { <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">150</span> })
<span class="hljs-title function_">addComponent</span>(rect, <span class="hljs-title class_">Draggable</span>, {})  <span class="hljs-comment">// å¯æ‹–æ‹½</span>
<span class="hljs-title function_">addComponent</span>(rect, <span class="hljs-title class_">Selected</span>, {})   <span class="hljs-comment">// å¯é€‰ä¸­</span>
</code></pre>
<h5 data-id="heading-10">2. å¼ºå¤§çš„å¯æ‰©å±•æ€§</h5>
<p>æ–°å¢åŠŸèƒ½æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ï¼Œåªéœ€æ·»åŠ æ–°çš„ç»„ä»¶å’Œç³»ç»Ÿï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/507577b9c2ea4fab8f41cb66c789dd04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54yq54yq5ouG6L-B6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763725853&amp;x-signature=Iu0TB8h7%2FTC4mWPgT6KuA8cS4v4%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-11">3. å¤©ç„¶çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›</h5>
<p>ç³»ç»Ÿä¹‹é—´æ— å…±äº«çŠ¶æ€ï¼Œå¯ä»¥å®‰å…¨åœ°å¹¶è¡Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤šä¸ªç³»ç»Ÿå¯ä»¥åŒæ—¶è¯»å–åŒä¸€ä¸ªç»„ä»¶</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateFrame</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
    physicsSystem.<span class="hljs-title function_">update</span>(),   <span class="hljs-comment">// è¯»å– Position</span>
    renderSystem.<span class="hljs-title function_">update</span>(),    <span class="hljs-comment">// è¯»å– Position</span>
    collisionSystem.<span class="hljs-title function_">update</span>(), <span class="hljs-comment">// è¯»å– Position</span>
  ])
}
</code></pre>
<h5 data-id="heading-12">System ç³»ç»Ÿæ¶æ„</h5>
<p>ç³»ç»Ÿè´Ÿè´£å¤„ç†é€»è¾‘ï¼Œé€šè¿‡æŸ¥è¯¢ StateStore è·å–éœ€è¦çš„ç»„ä»¶æ•°æ®ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">System</span> {
  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">update</span>(<span class="hljs-attr">stateStore</span>: <span class="hljs-title class_">StateStore</span>): <span class="hljs-built_in">void</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RenderSystem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">System</span> {
  <span class="hljs-title function_">update</span>(<span class="hljs-params">stateStore: StateStore</span>) {
    <span class="hljs-comment">// æŸ¥è¯¢æ‰€æœ‰æ‹¥æœ‰ Position ç»„ä»¶çš„å®ä½“</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [entityId, position] <span class="hljs-keyword">of</span> stateStore.<span class="hljs-property">position</span>) {
      <span class="hljs-keyword">const</span> size = stateStore.<span class="hljs-property">size</span>.<span class="hljs-title function_">get</span>(entityId)
      <span class="hljs-keyword">const</span> color = stateStore.<span class="hljs-property">color</span>.<span class="hljs-title function_">get</span>(entityId)
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">type</span> = stateStore.<span class="hljs-property">type</span>.<span class="hljs-title function_">get</span>(entityId)
      
      <span class="hljs-comment">// æ ¹æ®ç±»å‹è°ƒç”¨å¯¹åº”çš„æ¸²æŸ“å™¨</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderMap</span>.<span class="hljs-title function_">get</span>(<span class="hljs-keyword">type</span>)?.<span class="hljs-title function_">draw</span>(entityId)
    }
  }
}
</code></pre>
<p><strong>ç³»ç»Ÿå®Œæ•´åˆ—è¡¨ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[EventSystem&lt;br/&gt;äº‹ä»¶æ€»çº¿] --&gt; B[InputSystem&lt;br/&gt;è¾“å…¥æ•è·]
    A --&gt; C[HoverSystem&lt;br/&gt;æ‚¬åœæ£€æµ‹]
    A --&gt; D[ClickSystem&lt;br/&gt;ç‚¹å‡»å¤„ç†]
    A --&gt; E[DragSystem&lt;br/&gt;æ‹–æ‹½é€»è¾‘]
    A --&gt; F[SelectionSystem&lt;br/&gt;é€‰æ‹©ç®¡ç†]
    A --&gt; G[ZoomSystem&lt;br/&gt;ç¼©æ”¾æ§åˆ¶]
    A --&gt; H[ScrollSystem&lt;br/&gt;æ»šåŠ¨å¹³ç§»]
    A --&gt; I[PickingSystem&lt;br/&gt;å›¾å½¢æ‹¾å–]
    A --&gt; J[RenderSystem&lt;br/&gt;æ¸²æŸ“ç»˜åˆ¶]
    A --&gt; K[FpsSystem&lt;br/&gt;æ€§èƒ½ç›‘æ§]
    
    style A fill:#F39C12,color:#fff
    style J fill:#E74C3C,color:#fff
    style I fill:#3498DB,color:#fff
</code></pre>
<h3 data-id="heading-13">åŒå¼•æ“æ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-14">æ¶æ„è®¾è®¡ç†å¿µ</h4>
<p>ä¸åŒçš„åº”ç”¨åœºæ™¯å¯¹æ¸²æŸ“å¼•æ“æœ‰ä¸åŒçš„éœ€æ±‚ï¼š</p>
<ul>
<li><strong>ç®€å•åœºæ™¯</strong>ï¼šéœ€è¦å¿«é€Ÿå¯åŠ¨ã€ä½“ç§¯å°ã€å…¼å®¹æ€§å¥½</li>
<li><strong>å¤æ‚åœºæ™¯</strong>ï¼šéœ€è¦é«˜æ€§èƒ½ã€ä¸°å¯Œç‰¹æ•ˆã€å¤§é‡å›¾å½¢</li>
</ul>
<p>ä¼ ç»Ÿæ–¹æ¡ˆé€šå¸¸åªæ”¯æŒå•ä¸€æ¸²æŸ“åç«¯ï¼Œéš¾ä»¥å…¼é¡¾ä¸¤è€…ã€‚æœ¬å¼•æ“é‡‡ç”¨<strong>åŒå¼•æ“å¯åˆ‡æ¢æ¶æ„</strong>ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©æœ€ä¼˜æ¸²æŸ“åç«¯ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[åº”ç”¨å¯åŠ¨] --&gt; B{æ£€æµ‹åœºæ™¯å¤æ‚åº¦}
    B --&gt;|ç®€å•åœºæ™¯&lt;br/&gt;&lt; 100 å›¾å½¢| C[Canvas2D å¼•æ“]
    B --&gt;|å¤æ‚åœºæ™¯&lt;br/&gt;&gt; 100 å›¾å½¢| D[CanvasKit å¼•æ“]
    B --&gt;|ç”¨æˆ·æ‰‹åŠ¨æŒ‡å®š| E[ç”¨æˆ·é€‰æ‹©]
    
    C --&gt; F[æµè§ˆå™¨åŸç”Ÿ API]
    D --&gt; G[Skia WASM å¼•æ“]
    
    C --&gt; H[æ¸²æŸ“è¾“å‡º]
    D --&gt; H
    
    I[è¿è¡Œæ—¶åˆ‡æ¢] -.-&gt;|çƒ­åˆ‡æ¢| C
    I -.-&gt;|çƒ­åˆ‡æ¢| D
    
    style C fill:#90EE90
    style D fill:#87CEEB
    style H fill:#FFD700
</code></pre>
<h4 data-id="heading-15">æ¸²æŸ“åç«¯å¯¹æ¯”</h4>























































<table><thead><tr><th>ç‰¹æ€§</th><th>Canvas2D</th><th>CanvasKit (Skia)</th></tr></thead><tbody><tr><td><strong>å¯åŠ¨é€Ÿåº¦</strong></td><td>âš¡ï¸ å³æ—¶ï¼ˆ0msï¼‰</td><td>ğŸ¢ éœ€åŠ è½½ WASMï¼ˆ~2sï¼‰</td></tr><tr><td><strong>åŒ…ä½“ç§¯</strong></td><td>âœ… 0 KB</td><td>âš ï¸ ~1.5 MB</td></tr><tr><td><strong>æµè§ˆå™¨å…¼å®¹æ€§</strong></td><td>âœ… 100%</td><td>âš ï¸ éœ€æ”¯æŒ WASM</td></tr><tr><td><strong>æ¸²æŸ“æ€§èƒ½</strong></td><td>ğŸŸ¡ ä¸­ç­‰</td><td>ğŸŸ¢ ä¼˜ç§€</td></tr><tr><td><strong>å¤æ‚è·¯å¾„æ¸²æŸ“</strong></td><td>ğŸŸ¡ ä¸€èˆ¬</td><td>ğŸŸ¢ ä¼˜ç§€</td></tr><tr><td><strong>æ–‡å­—æ¸²æŸ“</strong></td><td>ğŸŸ¡ è´¨é‡ä¸€èˆ¬</td><td>ğŸŸ¢ äºšåƒç´ çº§</td></tr><tr><td><strong>æ»¤é•œç‰¹æ•ˆ</strong></td><td>âŒ æœ‰é™</td><td>âœ… ä¸°å¯Œ</td></tr><tr><td><strong>ç¦»å±æ¸²æŸ“</strong></td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr><tr><td><strong>æœ€ä½³åœºæ™¯</strong></td><td>ç®€å•å›¾å½¢ã€å¿«é€ŸåŸå‹</td><td>å¤æ‚è®¾è®¡ã€é«˜æ€§èƒ½éœ€æ±‚</td></tr></tbody></table>
<h4 data-id="heading-16">RendererManager æ¸²æŸ“ç®¡ç†å™¨</h4>
<p><code>RendererManager</code> æ˜¯åŒå¼•æ“æ¶æ„çš„æ ¸å¿ƒæ¢çº½ï¼Œè´Ÿè´£æ¸²æŸ“å™¨çš„æ³¨å†Œã€åˆ‡æ¢å’Œè°ƒåº¦ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RendererManager</span> {
  <span class="hljs-attr">rendererName</span>: <span class="hljs-string">'Canvas2D'</span> | <span class="hljs-string">'Canvaskit'</span> = <span class="hljs-string">'Canvaskit'</span>
  
  <span class="hljs-comment">// æ¸²æŸ“å™¨æ˜ å°„è¡¨</span>
  <span class="hljs-attr">renderer</span>: {
    <span class="hljs-attr">rect</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">RectRender</span>
    <span class="hljs-attr">ellipse</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">EllipseRender</span>
    <span class="hljs-attr">text</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">TextRender</span>
    <span class="hljs-attr">img</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">ImgRender</span>
    <span class="hljs-attr">polygon</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">PolygonRender</span>
  }
  
  <span class="hljs-comment">// åˆ‡æ¢æ¸²æŸ“åç«¯</span>
  <span class="hljs-title function_">setRenderer</span>(<span class="hljs-params">name: <span class="hljs-string">'Canvas2D'</span> | <span class="hljs-string">'Canvaskit'</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rendererName</span> = name
    
    <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'Canvas2D'</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderer</span> = <span class="hljs-title class_">Canvas2DRenderers</span>
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderer</span> = <span class="hljs-title class_">CanvaskitRenderers</span>
    }
  }
}
</code></pre>
<p><strong>æ¸²æŸ“å™¨åˆ‡æ¢æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant U as ç”¨æˆ·æ“ä½œ
    participant E as Engine
    participant RM as RendererManager
    participant RS as RenderSystem
    participant R1 as Canvas2D Renderer
    participant R2 as CanvasKit Renderer
    
    U-&gt;&gt;E: setRenderer('Canvas2D')
    E-&gt;&gt;RM: setRenderer('Canvas2D')
    RM-&gt;&gt;RM: åŠ è½½ Canvas2D æ¸²æŸ“å™¨ç»„
    RM--&gt;&gt;E: åˆ‡æ¢å®Œæˆ
    
    E-&gt;&gt;RS: è§¦å‘é‡æ–°æ¸²æŸ“
    RS-&gt;&gt;RM: è·å– rect æ¸²æŸ“å™¨
    RM--&gt;&gt;RS: è¿”å› Canvas2D.RectRender
    RS-&gt;&gt;R1: è°ƒç”¨ draw() æ–¹æ³•
    R1-&gt;&gt;R1: ä½¿ç”¨ ctx.fillRect()
    
    Note over U,R2: ç”¨æˆ·å†æ¬¡åˆ‡æ¢å¼•æ“
    
    U-&gt;&gt;E: setRenderer('Canvaskit')
    E-&gt;&gt;RM: setRenderer('Canvaskit')
    RM-&gt;&gt;RM: åŠ è½½ CanvasKit æ¸²æŸ“å™¨ç»„
    RM--&gt;&gt;E: åˆ‡æ¢å®Œæˆ
    
    E-&gt;&gt;RS: è§¦å‘é‡æ–°æ¸²æŸ“
    RS-&gt;&gt;RM: è·å– rect æ¸²æŸ“å™¨
    RM--&gt;&gt;RS: è¿”å› CanvasKit.RectRender
    RS-&gt;&gt;R2: è°ƒç”¨ draw() æ–¹æ³•
    R2-&gt;&gt;R2: ä½¿ç”¨ canvas.drawRect()
</code></pre>
<h4 data-id="heading-17">æ¸²æŸ“å™¨ç»Ÿä¸€æ¥å£</h4>
<p>æ‰€æœ‰æ¸²æŸ“å™¨å®ç°ç›¸åŒçš„æ¥å£ï¼Œä¿è¯å¯æ›¿æ¢æ€§ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseRenderer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">System</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">protected</span> engine: Engine</span>) {
    <span class="hljs-variable language_">super</span>()
  }
  
  <span class="hljs-comment">// ç»Ÿä¸€çš„æ¸²æŸ“æ¥å£</span>
  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">draw</span>(<span class="hljs-attr">entityId</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>
  
}
</code></pre>
<h4 data-id="heading-18">è‡ªå®šä¹‰æ¸²æŸ“å™¨æ‰©å±•</h4>
<p>å¼•æ“æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œåªéœ€å®ç° <code>System</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. åˆ›å»ºè‡ªå®šä¹‰æ¸²æŸ“å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomStarRender</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">System</span> {
  <span class="hljs-title function_">draw</span>(<span class="hljs-params">entityId: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">const</span> points = <span class="hljs-variable language_">this</span>.<span class="hljs-property">getComponent</span>&lt;<span class="hljs-title class_">Polygon</span>&gt;(entityId, <span class="hljs-string">'polygon'</span>)
    <span class="hljs-keyword">const</span> color = <span class="hljs-variable language_">this</span>.<span class="hljs-property">getComponent</span>&lt;<span class="hljs-title class_">Color</span>&gt;(entityId, <span class="hljs-string">'color'</span>)
    
    <span class="hljs-comment">// è‡ªå®šä¹‰ç»˜åˆ¶é€»è¾‘</span>
    <span class="hljs-keyword">const</span> ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">ctx</span>
    ctx.<span class="hljs-title function_">beginPath</span>()
    points.<span class="hljs-property">points</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">p, i</span>) =&gt;</span> {
      i === <span class="hljs-number">0</span> ? ctx.<span class="hljs-title function_">moveTo</span>(p.<span class="hljs-property">x</span>, p.<span class="hljs-property">y</span>) : ctx.<span class="hljs-title function_">lineTo</span>(p.<span class="hljs-property">x</span>, p.<span class="hljs-property">y</span>)
    })
    ctx.<span class="hljs-title function_">closePath</span>()
    ctx.<span class="hljs-property">fillStyle</span> = color.<span class="hljs-property">fill</span>
    ctx.<span class="hljs-title function_">fill</span>()
  }
}
<span class="hljs-keyword">const</span> customRenderMap = {
  <span class="hljs-attr">star</span>: <span class="hljs-title class_">CustomStarRender</span>
}
<span class="hljs-comment">// 2. æ³¨å†Œåˆ°å¼•æ“</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">RendererRegistry</span>().<span class="hljs-title function_">register</span>({
  <span class="hljs-string">"custom"</span>: customRenderMap
})


</code></pre>
<h4 data-id="heading-19">å­—ä½“æ¸²æŸ“ä¼˜åŒ–</h4>
<p>CanvasKit éœ€è¦é¢„åŠ è½½å­—ä½“æ–‡ä»¶ï¼Œå¼•æ“å®ç°äº†å­—ä½“ç®¡ç†å™¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadFonts</span>(<span class="hljs-params">CanvasKit: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">const</span> fontsBase = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>?.<span class="hljs-property">MODE</span> === <span class="hljs-string">'production'</span> 
    ? <span class="hljs-string">'/design/fonts/'</span> 
    : <span class="hljs-string">'/fonts/'</span>

  <span class="hljs-keyword">const</span> [robotoFont, notoSansFont] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${fontsBase}</span>Roboto-Regular.ttf`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">arrayBuffer</span>()),
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${fontsBase}</span>NotoSansSC-VariableFont_wght_2.ttf`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">arrayBuffer</span>()),
  ])

  <span class="hljs-keyword">const</span> fontMgr = <span class="hljs-title class_">CanvasKit</span>.<span class="hljs-property">FontMgr</span>.<span class="hljs-title class_">FromData</span>(robotoFont, notoSansFont)
  <span class="hljs-keyword">return</span> fontMgr
}

<span class="hljs-comment">// åœ¨ CanvasKit åˆå§‹åŒ–æ—¶è°ƒç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createCanvasKit</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">CanvasKit</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">initCanvasKit</span>()
  <span class="hljs-keyword">const</span> <span class="hljs-title class_">FontMgr</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadFonts</span>(<span class="hljs-title class_">CanvasKit</span>)
  <span class="hljs-keyword">return</span> { <span class="hljs-title class_">CanvasKit</span>, <span class="hljs-title class_">FontMgr</span> }
}
</code></pre>
<h4 data-id="heading-20">å¼•æ“å·¥å‚æ¨¡å¼</h4>
<p>ä½¿ç”¨å·¥å‚å‡½æ•°åˆ›å»ºä¸åŒé…ç½®çš„å¼•æ“å®ä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createCanvasRenderer</span>(<span class="hljs-params">engine: Engine</span>) {
  <span class="hljs-comment">// Canvas2D å¼•æ“åˆ›å»ºå™¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">createCanvas2D</span> = (<span class="hljs-params">config: DefaultConfig</span>) =&gt; {
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>)
    <span class="hljs-keyword">const</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span>
    canvas.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = config.<span class="hljs-property">width</span> + <span class="hljs-string">'px'</span>
    canvas.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = config.<span class="hljs-property">height</span> + <span class="hljs-string">'px'</span>
    canvas.<span class="hljs-property">width</span> = config.<span class="hljs-property">width</span> * dpr
    canvas.<span class="hljs-property">height</span> = config.<span class="hljs-property">height</span> * dpr
    
    <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>, {
      <span class="hljs-attr">willReadFrequently</span>: <span class="hljs-literal">true</span>,
    }) <span class="hljs-keyword">as</span> <span class="hljs-title class_">CanvasRenderingContext2D</span>
    ctx.<span class="hljs-title function_">scale</span>(dpr, dpr)
    
    config.<span class="hljs-property">container</span>.<span class="hljs-title function_">appendChild</span>(canvas)
    
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">canvasDom</span>: canvas, <span class="hljs-attr">canvas</span>: ctx, ctx }
  }

  <span class="hljs-comment">// CanvasKit å¼•æ“åˆ›å»ºå™¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">createCanvasKitSkia</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">config: DefaultConfig</span>) =&gt; {
    <span class="hljs-keyword">const</span> { <span class="hljs-title class_">CanvasKit</span>, <span class="hljs-title class_">FontMgr</span> } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createCanvasKit</span>()
    <span class="hljs-keyword">const</span> canvasDom = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>)
    <span class="hljs-keyword">const</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span>
    
    canvasDom.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = config.<span class="hljs-property">width</span> + <span class="hljs-string">'px'</span>
    canvasDom.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = config.<span class="hljs-property">height</span> + <span class="hljs-string">'px'</span>
    canvasDom.<span class="hljs-property">width</span> = config.<span class="hljs-property">width</span> * dpr
    canvasDom.<span class="hljs-property">height</span> = config.<span class="hljs-property">height</span> * dpr
    canvasDom.<span class="hljs-property">id</span> = <span class="hljs-string">'canvasKitCanvas'</span>
    
    config.<span class="hljs-property">container</span>.<span class="hljs-title function_">appendChild</span>(canvasDom)
    
    <span class="hljs-keyword">const</span> surface = <span class="hljs-title class_">CanvasKit</span>.<span class="hljs-title class_">MakeWebGLCanvasSurface</span>(<span class="hljs-string">'canvasKitCanvas'</span>)
    <span class="hljs-keyword">const</span> canvas = surface!.<span class="hljs-title function_">getCanvas</span>()
    
    <span class="hljs-keyword">return</span> {
      canvasDom,
      surface,
      <span class="hljs-attr">canvas</span>: canvas,
      <span class="hljs-title class_">FontMgr</span>: <span class="hljs-title class_">FontMgr</span>,
      <span class="hljs-attr">ck</span>: <span class="hljs-title class_">CanvasKit</span>,
    }
  }

  <span class="hljs-keyword">return</span> {
    createCanvas2D,
    createCanvasKitSkia,
  }
}
</code></pre>
<h4 data-id="heading-21">Engine å¼•æ“æ ¸å¿ƒ</h4>
<p><code>Engine</code> ç±»æ˜¯æ•´ä¸ªæ¸²æŸ“ç³»ç»Ÿçš„ä¸­æ¢ï¼Œåè°ƒæ‰€æœ‰å­ç³»ç»Ÿçš„è¿è¡Œï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Engine</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">EngineContext</span> {
  <span class="hljs-attr">camera</span>: <span class="hljs-title class_">Camera</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Camera</span>()
  <span class="hljs-attr">entityManager</span>: <span class="hljs-title class_">Entity</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Entity</span>()
  <span class="hljs-title class_">SystemMap</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">System</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()
  <span class="hljs-attr">rendererManager</span>: <span class="hljs-title class_">RendererManager</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RendererManager</span>()
  
  canvas!: <span class="hljs-title class_">Canvas</span>  <span class="hljs-comment">// æ¸²æŸ“ç”»å¸ƒï¼ˆç±»å‹å–å†³äºæ¸²æŸ“åç«¯ï¼‰</span>
  ctx!: <span class="hljs-title class_">CanvasRenderingContext2D</span>
  ck!: <span class="hljs-title class_">CanvasKit</span>
  
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> core: Core, rendererName?: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-comment">// åˆå§‹åŒ–æ¸²æŸ“å™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rendererManager</span>.<span class="hljs-property">rendererName</span> = rendererName || <span class="hljs-string">'Canvaskit'</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rendererManager</span>.<span class="hljs-title function_">setRenderer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rendererManager</span>.<span class="hljs-property">rendererName</span>)
  }
  
  <span class="hljs-comment">// æ·»åŠ ç³»ç»Ÿ</span>
  <span class="hljs-title function_">addSystem</span>(<span class="hljs-params">system: System</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">system</span>.<span class="hljs-title function_">push</span>(system)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">SystemMap</span>.<span class="hljs-title function_">set</span>(system.<span class="hljs-property">constructor</span>.<span class="hljs-property">name</span>, system)
  }
  
  <span class="hljs-comment">// è·å–ç³»ç»Ÿ</span>
  getSystemByName&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">System</span>&gt;(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>): T | <span class="hljs-literal">undefined</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">SystemMap</span>.<span class="hljs-title function_">get</span>(name) <span class="hljs-keyword">as</span> T
  }
  
  <span class="hljs-comment">// æ¸…ç©ºç”»å¸ƒï¼ˆé€‚é…åŒå¼•æ“ï¼‰</span>
  <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>
    <span class="hljs-keyword">if</span> (canvas?.<span class="hljs-property">clearRect</span>) {
      <span class="hljs-comment">// Canvas2D æ¸…ç©ºæ–¹å¼</span>
      canvas.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultSize</span>.<span class="hljs-property">width</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultSize</span>.<span class="hljs-property">height</span>)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// CanvasKit æ¸…ç©ºæ–¹å¼</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">clear</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ck</span>.<span class="hljs-property">WHITE</span>)
    }
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-22">æ’ä»¶åŒ–ç³»ç»Ÿè®¾è®¡</h3>
<h4 data-id="heading-23">ç³»ç»Ÿå³æ’ä»¶</h4>
<p>å¼•æ“çš„æ‰€æœ‰åŠŸèƒ½éƒ½ä»¥ System å½¢å¼å®ç°ï¼Œæ¯ä¸ª System éƒ½æ˜¯ç‹¬ç«‹çš„æ’ä»¶ã€‚è¿™ç§è®¾è®¡å¸¦æ¥æé«˜çš„çµæ´»æ€§ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[Engine æ ¸å¿ƒ] --&gt; B{System Manager}
    
    B --&gt; C[æ ¸å¿ƒç³»ç»Ÿ]
    B --&gt; D[å¯é€‰ç³»ç»Ÿ]
    B --&gt; E[è‡ªå®šä¹‰ç³»ç»Ÿ]
    
    C --&gt; C1[EventSystem&lt;br/&gt;å¿…éœ€]
    C --&gt; C2[RenderSystem&lt;br/&gt;å¿…éœ€]
    
    D --&gt; D1[DragSystem&lt;br/&gt;æ‹–æ‹½åŠŸèƒ½]
    D --&gt; D2[ZoomSystem&lt;br/&gt;ç¼©æ”¾åŠŸèƒ½]
    D --&gt; D3[FpsSystem&lt;br/&gt;æ€§èƒ½ç›‘æ§]
    
    E --&gt; E1[UndoRedoSystem&lt;br/&gt;æ’¤é”€é‡åš]
    E --&gt; E2[SnappingSystem&lt;br/&gt;å¸é™„å¯¹é½]
    E --&gt; E3[AnimationSystem&lt;br/&gt;åŠ¨ç”»æ’­æ”¾]
    
    style C1 fill:#e74c3c,color:#fff
    style C2 fill:#e74c3c,color:#fff
    style D1 fill:#3498db,color:#fff
    style D2 fill:#3498db,color:#fff
    style D3 fill:#3498db,color:#fff
    style E1 fill:#2ecc71,color:#fff
    style E2 fill:#2ecc71,color:#fff
    style E3 fill:#2ecc71,color:#fff
</code></pre>
<h4 data-id="heading-24">æ ¸å¿ƒç³»ç»Ÿè¯¦è§£</h4>
<h5 data-id="heading-25">1. EventSystem - äº‹ä»¶æ€»çº¿</h5>
<p>EventSystem æ˜¯æ•´ä¸ªå¼•æ“çš„è°ƒåº¦ä¸­æ¢ï¼Œåè°ƒæ‰€æœ‰å…¶ä»–ç³»ç»Ÿçš„æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EventSystem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">System</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">eventQueue</span>: <span class="hljs-title class_">Event</span>[] = []
  
  <span class="hljs-title function_">update</span>(<span class="hljs-params">stateStore: StateStore</span>) {
    <span class="hljs-comment">// æ‰§è¡Œç³»ç»Ÿæ›´æ–°é¡ºåº</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'InputSystem'</span>)      <span class="hljs-comment">// 1. æ•è·è¾“å…¥</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'HoverSystem'</span>)      <span class="hljs-comment">// 2. æ£€æµ‹æ‚¬åœ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'ClickSystem'</span>)      <span class="hljs-comment">// 3. å¤„ç†ç‚¹å‡»</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'DragSystem'</span>)       <span class="hljs-comment">// 4. å¤„ç†æ‹–æ‹½</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'ZoomSystem'</span>)       <span class="hljs-comment">// 5. å¤„ç†ç¼©æ”¾</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'SelectionSystem'</span>)  <span class="hljs-comment">// 6. æ›´æ–°é€‰æ‹©</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'PickingSystem'</span>)    <span class="hljs-comment">// 7. æ›´æ–°æ‹¾å–ç¼“å­˜</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSystem</span>(<span class="hljs-string">'RenderSystem'</span>)     <span class="hljs-comment">// 8. æœ€åæ¸²æŸ“</span>
  }

}
</code></pre>
<h5 data-id="heading-26">2. RenderSystem - æ¸²æŸ“ç³»ç»Ÿ</h5>
<p>RenderSystem è´Ÿè´£å°†å®ä½“ç»˜åˆ¶åˆ°ç”»å¸ƒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RenderSystem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">System</span> {
  <span class="hljs-keyword">private</span> renderMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">BaseRenderer</span>&gt;()
  
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">engine: Engine</span>) {
    <span class="hljs-variable language_">super</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span> = engine
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initRenderMap</span>()
  }
  
  <span class="hljs-comment">// åˆå§‹åŒ–æ¸²æŸ“å™¨æ˜ å°„</span>
  <span class="hljs-title function_">initRenderMap</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">rendererManager</span>.<span class="hljs-property">renderer</span>).<span class="hljs-title function_">forEach</span>(
      <span class="hljs-function">(<span class="hljs-params">[<span class="hljs-keyword">type</span>, RendererClass]</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderMap</span>.<span class="hljs-title function_">set</span>(<span class="hljs-keyword">type</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">RendererClass</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>))
      }
    )
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">stateStore: StateStore</span>) {
    <span class="hljs-comment">// æ¸…ç©ºç”»å¸ƒ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-title function_">clear</span>()
    
    <span class="hljs-comment">// åº”ç”¨ç›¸æœºå˜æ¢</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">save</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">translate</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">camera</span>.<span class="hljs-property">translateX</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">camera</span>.<span class="hljs-property">translateY</span>
    )
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">scale</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">camera</span>.<span class="hljs-property">zoom</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">camera</span>.<span class="hljs-property">zoom</span>
    )
    
    <span class="hljs-comment">// éå†æ‰€æœ‰å®ä½“è¿›è¡Œæ¸²æŸ“</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [entityId, pos] <span class="hljs-keyword">of</span> stateStore.<span class="hljs-property">position</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">save</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">translate</span>(pos.<span class="hljs-property">x</span>, pos.<span class="hljs-property">y</span>)
      
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">type</span> = stateStore.<span class="hljs-property">type</span>.<span class="hljs-title function_">get</span>(entityId)
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderMap</span>.<span class="hljs-title function_">get</span>(<span class="hljs-keyword">type</span>)?.<span class="hljs-title function_">draw</span>(entityId)
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">restore</span>()
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">engine</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">restore</span>()
  }
}
</code></pre>
<h3 data-id="heading-27">DSL é…ç½®ç³»ç»Ÿ</h3>
<hr/>
<h3 data-id="heading-28">DSL é…ç½®ç³»ç»Ÿ</h3>
<h4 data-id="heading-29">è®¾è®¡ç›®æ ‡</h4>
<p>DSLï¼ˆDomain Specific Languageï¼‰æ¨¡å—çš„ç›®æ ‡æ˜¯å°†å›¾å½¢åœºæ™¯åºåˆ—åŒ–ä¸º JSON æ ¼å¼ï¼Œå®ç°ï¼š</p>
<ol>
<li><strong>åœºæ™¯æŒä¹…åŒ–</strong> - ä¿å­˜åˆ°æ•°æ®åº“æˆ–æœ¬åœ°å­˜å‚¨</li>
<li><strong>åœºæ™¯ä¼ è¾“</strong> - å‰åç«¯æ•°æ®äº¤æ¢</li>
<li><strong>åœºæ™¯å¿«ç…§</strong> - æ’¤é”€/é‡åšåŠŸèƒ½çš„åŸºç¡€</li>
<li><strong>æ¨¡æ¿å¤ç”¨</strong> - åˆ›å»ºå¯å¤ç”¨çš„å›¾å½¢æ¨¡æ¿</li>
</ol>
<h4 data-id="heading-30">é…ç½®ç»“æ„</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">DSLParams</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'rect'</span> | <span class="hljs-string">'ellipse'</span> | <span class="hljs-string">'text'</span> | <span class="hljs-string">'img'</span> | <span class="hljs-string">'polygon'</span>
  id?: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">position</span>: { <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> }
  size?: { <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> }
  color?: { <span class="hljs-attr">fill</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">stroke</span>: <span class="hljs-built_in">string</span> }
  rotation?: { <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span> }
  scale?: { <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span> }
  zIndex?: { <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span> }
  selected?: { <span class="hljs-attr">isSelected</span>: <span class="hljs-built_in">boolean</span> }
  <span class="hljs-comment">// å½¢çŠ¶ç‰¹å®šå±æ€§</span>
  font?: { <span class="hljs-attr">family</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">weight</span>: <span class="hljs-built_in">string</span> }
  radius?: { <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span> }
  polygon?: { <span class="hljs-attr">points</span>: <span class="hljs-title class_">Point</span>[] }
}
</code></pre>
<h4 data-id="heading-31">DSL è§£æå™¨</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DSL</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">params: DSLParams</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = params.<span class="hljs-property">type</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = params.<span class="hljs-property">id</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateId</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Position</span>(params.<span class="hljs-property">position</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = params.<span class="hljs-property">size</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Size</span>(params.<span class="hljs-property">size</span>) : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Size</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = params.<span class="hljs-property">color</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>(params.<span class="hljs-property">color</span>) : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>()
    <span class="hljs-comment">// ... åˆå§‹åŒ–å…¶ä»–ç»„ä»¶</span>
  }
  
  <span class="hljs-comment">// è½¬æ¢ä¸ºçº¯æ•°æ®å¯¹è±¡</span>
  <span class="hljs-title function_">toJSON</span>(): <span class="hljs-title class_">DSLParams</span> {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">type</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>,
      <span class="hljs-attr">id</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span>,
      <span class="hljs-attr">position</span>: { <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>, <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> },
      <span class="hljs-attr">size</span>: { <span class="hljs-attr">width</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>.<span class="hljs-property">width</span>, <span class="hljs-attr">height</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>.<span class="hljs-property">height</span> },
      <span class="hljs-attr">color</span>: { <span class="hljs-attr">fill</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>.<span class="hljs-property">fill</span>, <span class="hljs-attr">stroke</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span>.<span class="hljs-property">stroke</span> },
      <span class="hljs-comment">// ...</span>
    }
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-32">ä½è€¦åˆæ¶æ„å®è·µ</h3>
<h4 data-id="heading-33">ä¾èµ–æ–¹å‘</h4>
<p>æ•´ä¸ªå¼•æ“ä¸¥æ ¼éµå¾ªä¾èµ–å€’ç½®åŸåˆ™ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[åº”ç”¨å±‚&lt;br/&gt;React ç»„ä»¶] --&gt; B[å¼•æ“æ¥å£&lt;br/&gt;Engine API]
    B --&gt; C[ç³»ç»Ÿå±‚&lt;br/&gt;System]
    C --&gt; D[ç»„ä»¶å±‚&lt;br/&gt;Component]
    C --&gt; E[å®ä½“å±‚&lt;br/&gt;Entity]
    
    F[æ¸²æŸ“å±‚&lt;br/&gt;Renderer] --&gt; G[æ¸²æŸ“æ¥å£&lt;br/&gt;BaseRenderer]
    C --&gt; G
    
    style B fill:#f39c12,color:#fff
    style G fill:#f39c12,color:#fff
</code></pre>
<p><strong>å…³é”®è®¾è®¡ï¼š</strong></p>
<ul>
<li>ä¸Šå±‚ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°</li>
<li>System ä¸ç›´æ¥ä¾èµ– Rendererï¼Œé€šè¿‡ RendererManager è§£è€¦</li>
<li>Component çº¯æ•°æ®ï¼Œé›¶ä¾èµ–</li>
</ul>
<hr/>
<h3 data-id="heading-34">æ€»ç»“</h3>
<p>Duck-Core å‰ç«¯æ¸²æŸ“å¼•æ“é€šè¿‡ä»¥ä¸‹è®¾è®¡å®ç°äº†é«˜æ€§èƒ½ã€é«˜æ‰©å±•æ€§ï¼š</p>
<h4 data-id="heading-35">æ ¸å¿ƒä¼˜åŠ¿</h4>
<ol>
<li><strong>ECS æ¶æ„</strong> - æ•°æ®ä¸é€»è¾‘å®Œå…¨åˆ†ç¦»ï¼Œç»„ä»¶è‡ªç”±ç»„åˆ</li>
<li><strong>åŒå¼•æ“æ¶æ„</strong> - Canvas2D ä¸ CanvasKit å¯çƒ­åˆ‡æ¢ï¼Œå…¼é¡¾å…¼å®¹æ€§ä¸æ€§èƒ½</li>
<li><strong>æ’ä»¶åŒ–ç³»ç»Ÿ</strong> - æ‰€æœ‰åŠŸèƒ½ä»¥ System å½¢å¼å®ç°ï¼ŒæŒ‰éœ€åŠ è½½</li>
<li><strong>ä½è€¦åˆè®¾è®¡</strong> - æ¥å£éš”ç¦»ã€ä¾èµ–å€’ç½®ã€äº‹ä»¶é©±åŠ¨</li>
<li><strong>æè‡´æ€§èƒ½</strong> - æ¸²æŸ“èŠ‚æµã€ç¦»å±ç¼“å­˜ã€è§†å£è£å‰ªã€å†…å­˜ä¼˜åŒ–</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ–‡å¿ƒ 5.0ï¼šåŸç”Ÿå…¨æ¨¡æ€æ—¶ä»£çš„æŠ€æœ¯åˆ†æ°´å²­]]></title>    <link>https://juejin.cn/post/7572390974459838464</link>    <guid>https://juejin.cn/post/7572390974459838464</guid>    <pubDate>2025-11-14T12:00:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572390974459838464" data-draft-id="7572524368875257891" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ–‡å¿ƒ 5.0ï¼šåŸç”Ÿå…¨æ¨¡æ€æ—¶ä»£çš„æŠ€æœ¯åˆ†æ°´å²­"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-14T12:00:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ–‡å¿ƒ 5.0ï¼šåŸç”Ÿå…¨æ¨¡æ€æ—¶ä»£çš„æŠ€æœ¯åˆ†æ°´å²­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T12:00:29.000Z" title="Fri Nov 14 2025 12:00:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><ol>
<li>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆâ€œåŸç”Ÿå…¨æ¨¡æ€â€å¿…é¡»è¢«ä¸¥è‚ƒå¯¹å¾…ï¼Ÿ</h2>
</li>
</ol>
<p>è¿‡å»ä¸¤å¹´ï¼Œå¤§æ¨¡å‹é¢†åŸŸï¼Œæˆ‘ä»¬è§åˆ°æ— æ•°å·ç§°â€œå¤šæ¨¡æ€â€çš„æ¨¡å‹ï¼Œä½†ç»å¤§å¤šæ•°éƒ½åœç•™åœ¨â€œèƒ½åŠ›å †å â€ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„â€œæ„ŸçŸ¥ä¸€è‡´â€ã€‚</p>
<p>é€šå¸¸çš„å¤„ç†æ–¹å¼å°±æ˜¯å›¾åƒæ¨¡å‹è¾“å‡º embedding â†’ æ–‡æœ¬æ¨¡å‹ç»§ç»­æ¨ç†ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ç»™ LLM æ¥äº†å¤–è®¾ï¼Œä¿¡æ¯æµç»è¿‡ä¸¤è½®æŠ•å½±ï¼Œå¤šåŠåœ¨è¿‡ç¨‹ä¸­è’¸å‘æ‰äº† 30%â€“50%ã€‚</p>
<p>å› æ­¤ä½ ä¼šçœ‹åˆ°è¡Œä¸šé‡Œå¸¸è§çš„é—®é¢˜ï¼šè§†è§‰æè¿°åƒéš”ç€ä¸€å±‚è–„é›¾ï¼Œæˆ–è€…è§†é¢‘ç†è§£åªæœ‰äº‹ä»¶ï¼Œæ²¡æœ‰åŠ¨æœºï¼›ç”šè‡³å›¾æ–‡ç»“åˆæ—¶å®¹æ˜“â€œè·³æˆâ€ã€æƒ…ç»ªè¯†åˆ«åæµ…å±‚ï¼Œå¤šæ¨¡æ€æ¨ç†æ–­é“¾ã€‚</p>
<p><strong>æ¢å¥è¯è¯´ï¼Œå›½äº§å¤§æ¨¡å‹ä¸€ç›´ç¼ºå°‘ä¸€ä¸ªçœŸæ­£ç»Ÿä¸€çš„â€œæ„ŸçŸ¥â€å¤§æ¨¡å‹ã€‚</strong> è€Œå°±åœ¨æ˜¨å¤©ï¼ˆ11æœˆ13æ—¥ï¼‰ç™¾åº¦åœ¨2025ç™¾åº¦ä¸–ç•Œå¤§ä¼šï¼Œæ­£å¼å¯¹å¤–å‘å¸ƒæ–‡å¿ƒæ–°ä¸€ä»£æ¨¡å‹â€”â€”æ–‡å¿ƒ5.0ï¼Œè¿™ä»¶äº‹æœ‰äº†æ–°çš„è½¬æœºï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12a77ea9ac574f7bac88b59b61beeee7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=VjeG4of60op0jzxEk1BOaxLvTRc%3D" alt="" loading="lazy"/></p>
<p>æ–‡å¿ƒè¿™æ¬¡å†æŠŠâ€œå¤šæ¨¡æ€â€è¿™ä»¶äº‹åˆæ‹‰åˆ°äº†å‰å°ï¼Œæˆ‘ä¼¼ä¹çœ‹åˆ°äº†ï¼š<strong>æ–‡å¿ƒ 5.0 æ­£æŠŠâ€œåŸç”Ÿç»Ÿä¸€å»ºæ¨¡â€åšæˆç”Ÿäº§çº§èƒ½åŠ›çš„ç³»ç»Ÿã€‚</strong> è¿™ï¼Œåº”è¯¥å°±æ˜¯å›½äº§å¤§æ¨¡å‹çš„æŠ€æœ¯åˆ†æ°´å²­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7843f2a0c8b44682950635d87c08b738~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=Ws%2FpflsfQUbYiPSK8sV5ixn9AkA%3D" alt="" loading="lazy"/></p>
<hr/>
<ol start="2">
<li>
<h2 data-id="heading-1">æŠ€æœ¯è·¯çº¿å…ˆäºå‘å¸ƒä¼šï¼šä¸ºä»€ä¹ˆæ–‡å¿ƒ 5.0 çš„é€‰å‹ä¼šæ”¹å˜è¡Œä¸šèŠ‚å¥ï¼Ÿ</h2>
</li>
</ol>
<p>æ–‡å¿ƒ 5.0 ä¸è¡Œä¸šä¸»æµæœ€å¤§çš„å·®å¼‚åªæœ‰ä¸€å¥è¯ï¼š<strong>å®ƒä»è®­ç»ƒä¼Šå§‹å°±è®©è¯­è¨€ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘å…±å­˜äºåŒä¸€æ¶æ„ã€‚</strong> è¿™ä»¶äº‹æéš¾ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d929a677c31b45b2a211d3bbbaa6a5dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=vWwDCbCaNdZlpX6l7yS2%2BfDTikQ%3D" alt="" loading="lazy"/></p>
<p>æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘è¢«è½¬æ¢æˆç»Ÿä¸€ tokenï¼Œå°†æ‰€æœ‰æ¨¡æ€æ”¾è¿›åŒä¸€ä¸ªè¯­è¨€ç©ºé—´ä¸­è¿›è¡Œæ¨ç†ã€‚è¿™æ„å‘³ç€ï¼šè§†è§‰ä¿¡æ¯çš„â€œå‹ç¼© â†’ åæŠ•å½±â€é“¾æ¡è¢«å–æ¶ˆã€è·¨æ¨¡æ€çš„å› æœå…³ç³»èƒ½è‡ªç„¶æµåŠ¨ï¼Œå¹¶ä¸”ç”Ÿæˆç«¯ä¸ç†è§£ç«¯ç”¨çš„æ˜¯åŒä¸€å¥—å‚æ•°ä½“ç³»ï¼Œå™äº‹ä¸€è‡´æ€§ä¸å†é â€œåå¯¹é½â€å…œåº•äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa0b6259f90f4155aec97da88839d2c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=Xhh3MPc1RqUo1iVkpM0s%2F6kd%2F%2BA%3D" alt="" loading="lazy"/></p>
<p>ä»¥å¾€æ¨¡å‹æ˜¯è§†è§‰ç†è§£ â†’ æ–‡æœ¬ç”Ÿæˆï¼Œè¿™ç§ä¸¤æ®µå¼å¾ˆå®¹æ˜“æ–­é“¾ã€‚è€Œå¿ƒ 5.0 çš„æ€è·¯æ˜¯ï¼š<strong>ç†è§£å³ç”Ÿæˆï¼Œç”Ÿæˆå³ç†è§£ï¼Œæ˜¯åŒä¸€ä¸ªæ¨ç†è¿‡ç¨‹ã€‚</strong> æŠ€æœ¯ä¸Šï¼Œè¿™æ˜¯æ¯”â€œåŠ ä¸€ä¸ªè§†è§‰å¤´â€éš¾ä¸€ä¸ªæ•°é‡çº§çš„äº‹æƒ…ã€‚</p>
<p>ä¸ä»…å¦‚æ­¤ï¼Œæ–‡å¿ƒ 5.0 çš„ MoE æ€»å‚æ•°è¶…è¿‡ 2 ä¸‡äº¿ï¼Œè®­ç»ƒé€šè¿‡é£æ¡¨çš„å¤šçº§åˆ†ç¦»æ¶æ„ä¸ FP8 æ··åˆç²¾åº¦å®ç° 230% çš„æ€§èƒ½æå‡ã€‚è¿™å¥—ä½“ç³»çš„ä»·å€¼åœ¨äºï¼šä¸æ˜¯é å †ç®—åŠ›ï¼Œè€Œæ˜¯é â€œè°ƒåº¦èƒ½åŠ›â€ã€ä¸æ˜¯é æš´åŠ›æ‰©å®¹ï¼Œè€Œæ˜¯é â€œé«˜æ•ˆç¨€ç–â€ï¼Œå®ƒèƒ½æŠŠåŸç”Ÿå…¨æ¨¡æ€æˆæœ¬å‹å¾—è¶³å¤Ÿä½ï¼Œèƒ½äº§çº¿åŒ–ï¼Œè¿˜èƒ½ä¿æŒè®­ç»ƒæ•ˆç‡ï¼Œè®©ç»Ÿä¸€æ¶æ„çœŸæ­£è½åœ°ã€‚</p>
<p>åœ¨ 2025 å¹´è¿™ä¸ªè¡Œä¸šæ˜‚è´µåˆ°â€œæ¯ç®—åŠ›éƒ½è¦åå¤è®¡è¾ƒâ€çš„æ—¶é—´ç‚¹ï¼Œè¿™å¥—æŠ€æœ¯é€‰å‹å…·æœ‰éå¸¸å¼ºçš„ç°å®æ„ä¹‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c4bc97077ee411db1f5b7b585b04c17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=LXO8IhpEF5VNwcZqH%2FJuqgRiI6Y%3D" alt="" loading="lazy"/></p>
<p><strong>ç™¾åº¦æŠ¼çš„ä¸æ˜¯æ¨¡å‹è§„æ¨¡ï¼Œè€Œæ˜¯æ¶æ„æœªæ¥ï¼Œ</strong> è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘è¯´å®ƒæ˜¯åˆ†æ°´å²­ã€‚</p>
<hr/>
<ol start="3">
<li>
<h2 data-id="heading-2">åœ¨æŠ€æœ¯è·¯å¾„å·²ç»é“ºå¥½ä¹‹åï¼Œæˆ‘ä»¬å†å»çœ‹ 11 æœˆ 13 æ—¥çš„å‘å¸ƒä¼š</h2>
</li>
</ol>
<p>æ‰€ä»¥ï¼Œå†çœ‹11 æœˆ 13 æ—¥å‘å¸ƒä¼šçš„æ„ä¹‰ï¼Œä¸æ˜¯â€œæŸä¸ªæ¨¡å‹ä¸Šçº¿äº†â€ï¼Œè€Œæ˜¯ï¼š<strong>ç™¾åº¦ç¬¬ä¸€æ¬¡æŠŠå®Œæ•´çš„åŸç”Ÿå…¨æ¨¡æ€ä½“ç³»ï¼Œå¯¹å¼€å‘è€…å…¬å¼€é€æ˜ã€‚</strong> preview å½“å¤©ä¸Šçº¿åƒå¸†å¹³å°ï¼Œæ”¯æŒï¼šå›¾åƒ + æ–‡æœ¬è¾“å…¥ã€è§†é¢‘ + æ–‡æœ¬è¾“å…¥ã€éŸ³é¢‘è¾“å…¥ã€å¤šæ¨¡æ€è¾“å‡ºï¼ˆæ–‡æœ¬ + å›¾ç‰‡ï¼‰ã€å³å°†å¼€æ”¾è§†é¢‘ç”Ÿæˆé“¾è·¯ã€‚</p>
<p>å¯¹å¼€å‘è€…è€Œè¨€ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥<strong>ç¬¬ä¸€æ—¶é—´æ„Ÿå—ç»Ÿä¸€æ¶æ„çš„æ¨ç†ç‰¹å¾</strong>ï¼Œè€Œä¸æ˜¯ä»è®²ç¨¿ä¸­é—´æ¥ç†è§£ã€‚å‘å¸ƒä¼šé‡Œè®²åˆ°çš„äº®ç‚¹ï¼Œå…¶å®éƒ½å¯ä»¥å›åˆ°åˆšæ‰è¯´çš„åº•å±‚è·¯çº¿ï¼š</p>
<ul>
<li>ç»Ÿä¸€å»ºæ¨¡ â†’ å¤šæ¨¡æ€æ¨ç†ä¸æ»‘</li>
<li>ç¨€ç–åŒ– MoE â†’ æ¨ç†æˆæœ¬ä¸‹é™</li>
<li>å¤šçº§åˆ†ç¦»æ¨ç†æ¶æ„ â†’ é•¿ä»»åŠ¡æ›´ç¨³</li>
<li>å¼ºåŒ–å­¦ä¹ å¼•å…¥â€œè¡ŒåŠ¨é“¾â€ â†’ æ™ºèƒ½ä½“èƒ½åŠ›å¢å¼º</li>
</ul>
<p>å…¶å®ï¼Œæ—©åœ¨å‘å¸ƒä¼šçš„å‰ä¸€å‘¨ï¼Œernie-5.0-preview-1022çš„â€œé¢„è§ˆç‰ˆæœ¬â€œå·²ç»ç™»ä¸Šäº†LMArenaæ–‡æœ¬æ’è¡Œæ¦œå…¨çƒå¹¶åˆ—ç¬¬äºŒã€å›½å†…ç¬¬ä¸€ã€‚</p>
<hr/>
<ol start="4">
<li>
<h2 data-id="heading-3">èƒ½åŠ›å·®å¼‚è—åœ¨ç»†èŠ‚é‡Œï¼šä¸‰ç±»å…³é”®æµ‹è¯•åœºæ™¯</h2>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79fdda40a96444d5ab02a1c06f2bd606~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=q8%2BItEJ0jVY1aIpM0hNKflbUZKU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-4">4.1 æ–‡å¿ƒ 5.0 ç†è§£åŠ¨æ€ä¸–ç•Œï¼Œä»ä¸€é¢—â€œæ—‹è½¬çš„åœ°çƒâ€å¼€å§‹</h3>
<p><img src="" alt="" loading="lazy"/></p>
<p>ä¸ºäº†éªŒè¯æ–‡å¿ƒ 5.0 çš„åŸç”Ÿå…¨æ¨¡æ€æ¨ç†èƒ½åŠ›ï¼Œæˆ‘æ‰¾äº†ä¸€ä¸ªæç®€å•ã€ä½†æå…·åŒºåˆ†åº¦çš„è¾“å…¥â€”â€”<strong>ä¸€ä¸ª 3D è‡ªè½¬åœ°çƒçš„ GIF</strong>ï¼ˆåœ°çƒè‡ªè½¬å‘¨æœŸ 24 å°æ—¶ã€å«æ˜Ÿå…¬è½¬å‘¨æœŸçº¦ 90 åˆ†é’Ÿï¼‰ã€‚ä¹ä¸€çœ‹ï¼Œè¿™ä¸è¿‡æ˜¯ä¸ªæ™®é€šçš„ 3D æ¼”ç¤ºï¼šå…‰ç…§ã€çº¹ç†ã€æ—‹è½¬ã€æ˜Ÿç©ºèƒŒæ™¯ï¼Œä¸­é—´è¿˜æœ‰ä¸€æ®µé®æŒ¡è´´å›¾ã€‚</p>
<p>å¤§å¤šæ•°å¤šæ¨¡æ€æ¨¡å‹çœ‹åˆ°è¿™ç§ GIFï¼Œç»™å‡ºçš„ç­”æ¡ˆå¾€å¾€æ˜¯æ¨¡æ¿åŒ–çš„ï¼šâ€œè¿™æ˜¯åœ°çƒåœ¨è½¬â€â€œè¿™æ˜¯å¤ªç©ºâ€â€œè¿™æ˜¯æ˜Ÿç©ºèƒŒæ™¯â€ã€‚ä½†æ–‡å¿ƒ 5.0 çš„åé¦ˆæ˜æ˜¾ä¸åŒï¼Œå®ƒçš„ç†è§£å‡ ä¹æ˜¯â€œè·¨æ¨¡æ€åŒæ­¥â€çš„ï¼šå®ƒç»¼åˆåˆ¤æ–­ï¼šå¤§é™†æ¿å—çš„å½¢å˜æ˜¯å¦ç¬¦åˆçƒä½“ UV çº¹ç†çš„çœŸå®æ—‹è½¬ã€å…‰ç…§ç§»åŠ¨é€Ÿåº¦ä¸çº¹ç†ç§»åŠ¨é€Ÿåº¦æ˜¯å¦åŒæ­¥ã€äº®æš—äº¤ç•Œçº¿æ˜¯å¦å‘ˆç°æ˜¼å¤œäº¤æ›¿çš„ç‰©ç†ç‰¹å¾ï¼Œè¿™æ˜¯ä¸€ç§å…¸å‹çš„â€œè·¨æ¨¡æ€ç‰©ç†æ¨ç†â€ã€‚</p>
<p>å¾ˆå¤šæ¨¡å‹ä¼šæŠŠæ˜Ÿç©ºè¯¯è¯†ä¸ºè´´å›¾å™ªå£°ï¼Œæ–‡å¿ƒ 5.0 å´èƒ½åˆ¤æ–­ï¼šæ˜Ÿç©ºå…ƒç´ ä¸éšç›¸æœºè§†è§’ç§»åŠ¨ã€ä¸æ˜¯æ‘„åƒæœºæ™ƒåŠ¨ï¼Œè€Œæ˜¯ä¸»ä½“æ—‹è½¬ï¼Œè¯´æ˜å®ƒåœ¨è¿›è¡Œè§†è§‰ç¨³å®šæ€§åˆ¤æ–­ã€‚</p>
<p>æ–‡å¿ƒ5.0è¿˜èƒ½ç†è§£ä¸­å¿ƒé®æŒ¡ç‰©ä¸æ˜¯åœ°çƒç‰¹å¾ï¼Œè€Œæ˜¯æ¼”ç¤ºè´´å›¾ç¼ºæŸï¼Œç»å¤§å¤šæ•°æ¨¡å‹ä¼šè®¤ä¸ºé‚£å—ç™½è‰²çŸ©å½¢æ˜¯â€œå†°ç›–â€â€œå»ºç­‘â€â€œäº®æ–‘â€â€œé«˜å…‰â€ï¼Œè¿™æ˜¯å…¸å‹çš„ï¼š<strong>è·¨æ¨¡æ€ç‰©ç†ä¸€è‡´æ€§æ¨ç†</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">4.2 æ–‡å¿ƒ 5.0 èƒ½â€œè¯»æ‡‚åŠ¨ä½œé£æ ¼â€ï¼Œä¸æ˜¯å•çº¯æ¯”å¯¹åƒç´ </h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edd2bc5d287f4cb5b1e1377f3fc52235~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=jq80ys0eEjdtseEKEz6HLqXjbig%3D" alt="" loading="lazy"/></p>
<p>ç¬¬äºŒä¸ªæ¡ˆä¾‹æˆ‘ç”¨äº†ä¸€ä¸ªæ›´åâ€œåŠ¨ä½œç†è§£â€çš„è¾“å…¥ï¼šä¸¤æ®µæ¨¡ç‰¹å°æ­¥è§†é¢‘æ”¾åœ¨ä¸€èµ·ï¼Œè®©æ¨¡å‹è¿›è¡Œå¯¹æ¯”ã€‚åˆ«çœ‹è¿™ä¸ªä»»åŠ¡å¬èµ·æ¥ç®€å•ï¼Œå®é™…ä¸Šå®ƒæ˜¯ä¼ ç»Ÿè§†è§‰-è¯­è¨€æ‹¼æ¥æ¨¡å‹çš„â€œæ­»äº¡ä¸‰è¿â€ï¼šåŠ¨ä½œèŠ‚å¥è¯†åˆ«ï¼ˆæ­¥é¢‘ã€æ‘†è‡‚å¹…åº¦ï¼‰ã€é•œå¤´è¿åŠ¨ä¸äººç‰©è¿åŠ¨åŒºåˆ†ã€è·¨è§†é¢‘åŒæ­¥ç†è§£å¹¶åšå·®å¼‚åŒ–åˆ†æ</p>
<p>ä¼ ç»Ÿæ¨¡å‹åˆ†æè¿™ç§å†…å®¹æ—¶ï¼Œç»“æœå¾€å¾€æ˜¯æ¨¡æ¿å¼çš„ï¼šâ€œA èµ°å¾—å¿«â€â€œB èµ°å¾—æ…¢â€ã€‚ä½†æ–‡å¿ƒ 5.0 ä¼šè‡ªåŠ¨åšå››ä»¶äº‹ï¼š</p>
<p>1ã€è‡ªåŠ¨å»ºç«‹â€œèŠ‚å¥å¯¹é½â€ç»´åº¦ï¼Œè€Œä¸æ˜¯é€å¸§æ¯”è¾ƒ</p>
<p>ä¾‹å¦‚å®ƒä¼šæŒ‡å‡ºï¼šâ€œå·¦ä¾§æ¨¡ç‰¹çš„æ­¥é¢‘æ›´ç¨³å®šã€æ­¥å¹…æ›´å°ï¼ŒèŠ‚å¥æ„Ÿåå‘å¸¸è§„èµ°ç§€â€ï¼Œâ€œå³ä¾§æ¨¡ç‰¹çš„æ­¥ä¼æ›´å¤§ã€æ‘†è‡‚æ›´æ˜æ˜¾ï¼Œæ›´åå‘è§†è§‰å†²å‡»å‹å±•ç¤ºã€‚â€è¿™æ˜¯å…¸å‹çš„åŠ¨ä½œéŸµå¾‹ç†è§£ï¼Œä¸æ˜¯ç”»é¢çº§åˆ«çš„â€œè¯†åˆ«â€ã€‚</p>
<p>2ã€è¯†åˆ«é•œå¤´è¿åŠ¨ vs. äººä½“è¿åŠ¨</p>
<p>ä¼ ç»Ÿæ¨¡å‹å®¹æ˜“è¢«â€œæ¨é•œå¤´â€æˆ–â€œè½»å¾®æŠ–åŠ¨â€è¯¯å¯¼ï¼Œåˆ¤æ–­æˆäººç‰©åŠ¨ä½œä¸ç¨³ã€‚æ–‡å¿ƒ 5.0 ä¼šå…ˆåˆ¤æ–­ï¼šé•œå¤´æ˜¯å¦ç§»åŠ¨ã€èƒŒæ™¯å‡ ä½•æ˜¯å¦å‘ç”Ÿé€è§†å˜åŒ–ã€ä¸»ä½“ç§»åŠ¨æ˜¯å¦ç›¸å¯¹ç¨³å®šç„¶åç»™å‡ºç±»ä¼¼çš„ç»“è®ºï¼šâ€œç¬¬ä¸€æ®µè§†é¢‘å­˜åœ¨è½»å¾®é•œå¤´å‰æ¨ï¼Œä¸å±äºæ¨¡ç‰¹åŠ¨ä½œå·®å¼‚ã€‚â€</p>
<p>è¿™è¯´æ˜å®ƒçš„æ—¶åºç†è§£èƒ½åŠ› è¦†ç›–äº†è§†é¢‘è¯­è¨€ä¹‹å¤–çš„æ‘„å½±è¯­æ³•ã€‚</p>
<p>3ã€è¯†åˆ«â€œé£æ ¼â€è¿™ç§é«˜åº¦æŠ½è±¡çš„å±æ€§ï¼ˆå…³é”®ï¼‰</p>
<p>åŠ¨ä½œé£æ ¼å±äºæé«˜æŠ½è±¡å±‚æ¬¡ï¼Œéœ€è¦åœ¨ç»Ÿä¸€ç©ºé—´ä¸­å®ç°ï¼šå§¿æ€ã€é‡å¿ƒå˜åŒ–ã€æ­¥é¢‘èŠ‚å¥ã€æ‰‹è‡‚åè°ƒã€è§†è§‰æ°”åœº</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8b395375f8d4438b012b42665802d9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=sxulowwh%2BXrjAaYM0mr%2FtZiL5FQ%3D" alt="" loading="lazy"/></p>
<p>æ–‡å¿ƒ 5.0 æ€»ç»“ï¼šâ€œå·¦ä¾§é£æ ¼åè‡ªç„¶ã€ä¸­æ€§ï¼Œå³ä¾§é£æ ¼æ›´è¡¨ç°å‹ï¼Œå¸¦æœ‰åˆ»æ„çš„èŠ‚å¥å¼ºè°ƒã€‚â€</p>
<p>4ã€èƒ½è·¨è§†é¢‘åšâ€œå·®å¼‚åŒ–å™è¿°â€ï¼Œè€Œä¸æ˜¯åˆ†åˆ«å•è®²</p>
<p>æ‹¼æ¥å¼æ¨¡å‹å¸¸çŠ¯ä¸€ä¸ªé”™è¯¯ï¼šå®ƒåªèƒ½ç‹¬ç«‹æè¿°ä¸¤ä¸ªè§†é¢‘ï¼Œæ— æ³•æ„å»ºâ€œå¯¹æ¯”ç©ºé—´â€ã€‚æ–‡å¿ƒ 5.0 åˆ™èƒ½ä¸€æ¬¡ç”Ÿæˆå®Œæ•´å¯¹æ¯”ç»“è®ºï¼š</p>
<blockquote>
<p>â€œç›¸æ¯”å·¦ä¾§æ¨¡ç‰¹çš„ç¨³å®šæ­¥æ€ä¸è‡ªç„¶æ‘†è‡‚ï¼Œå³ä¾§æ¨¡ç‰¹åœ¨èº«ä½“å‰å€¾è§’åº¦ã€æ‘†è‡‚å¹…åº¦ä¸æ­¥å¹…èŠ‚å¥ä¸Šæ›´å¤¸å¼ ï¼Œå½¢æˆæ˜æ˜¾çš„èˆå°è¡¨ç°å¼ åŠ›ã€‚â€</p>
</blockquote>
<p>è¿™æ˜¯å› ä¸ºæ‰€æœ‰è§†è§‰ token éƒ½è¿›äº†åŒä¸€ä¸ªè¯­è¨€ç©ºé—´ï¼Œæ¨¡å‹èƒ½åœ¨åŒä¸€é“¾è·¯ä¸­å®Œæˆï¼šç‰¹å¾æå–ã€æ—¶åºç¼–ç ã€é£æ ¼åˆ¤æ–­ã€è·¨è§†é¢‘å·®å¼‚åŒ–æ¨ç†ï¼Œè¿™æ˜¯å…¸å‹çš„ è·¨æ¨¡æ€ç»Ÿä¸€æ¨ç†èƒ½åŠ›ã€‚</p>
<p><strong>å¤šæ¨¡æ€ç»¼åˆæ¨ç†å°±æ˜¯ï¼šè§†è§‰è¯æ® + åœºæ™¯çº¿ç´¢ + å¸¸è¯†æ¨ç† â†’ ä¸å®¹æ˜“è¢«éª—</strong></p>
<hr/>
<h3 data-id="heading-6">4.3 æ–‡å¿ƒ 5.0 çš„éŸ³è§†é¢‘æ··åˆæ¨ç†èƒ½åŠ›</h3>
<p>ç¬¬ä¸‰ä¸ªæ¡ˆä¾‹æ¢æˆäº†ä¸€ä¸ªéå¸¸å…¸å‹çš„å¼€å‘è€…ä»»åŠ¡ï¼šç»™æ¨¡å‹ä¸€æ®µéŸ³é¢‘ï¼Œå†ç»™ä¸€æ®µè§†é¢‘ï¼Œè®©å®ƒåˆ¤æ–­è§†é¢‘æ˜¯å¦ä½¿ç”¨äº†è¿™æ®µéŸ³ä¹ï¼Œä»¥åŠå‡ºç°åœ¨å“ªä¸ªæ—¶é—´ç‚¹ã€‚</p>
<p>å¯¹å¤§å¤šæ•°å¤šæ¨¡æ€æ¨¡å‹æ¥è¯´å¹¶ä¸å¥½åšï¼Œå› ä¸ºæ‹¼æ¥å¼æ¨¡å‹å¾€å¾€æŠŠè§†é¢‘å½“è§†è§‰ä»»åŠ¡å¤„ç†ï¼ŒæŠŠéŸ³è½¨å½“ç‹¬ç«‹è¯­éŸ³ä»»åŠ¡å¤„ç†ï¼Œæœ€åå†ç”¨è¯­è¨€æ¨¡å‹â€œçŒœâ€ç­”æ¡ˆï¼Œå¤§å¤šåªèƒ½ç»™å‡ºéå¸¸æ¨¡ç³Šçš„åŒ¹é…ç»“æœã€‚</p>
<p>æ–‡å¿ƒ 5.0 ä¼šåŒæ—¶è¯»å–è§†é¢‘å¸§çš„åŠ¨ä½œèŠ‚å¥ã€èƒŒæ™¯éŸ³è½¨çš„æ³¢å½¢ç‰¹å¾ã€éŸ³ä¹çš„èŠ‚æ‹ä¸æ—‹å¾‹å˜åŒ–ï¼Œå†æŠŠè¿™äº›ç‰¹å¾æ”¾åœ¨åŒä¸€ç©ºé—´åšæ¯”å¯¹ã€‚äºæ˜¯å½“éŸ³ä¹çœŸæ­£è¢«ç”¨åœ¨è§†é¢‘ä¸­æ—¶ï¼Œæ¨¡å‹èƒ½å¤Ÿæ•æ‰åˆ°éŸ³è½¨ä¸ç”»é¢èŠ‚å¥ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼›<strong>å®ƒä¹Ÿèƒ½æŒ‡å‡ºå…·ä½“æ˜¯ä»å“ªä¸ªæ—¶é—´ç‚¹å¼€å§‹ï¼Œ</strong> è¿™ä¸ªèƒ½åŠ›æœ¬è´¨ä¸Šä¸ä¾èµ–â€œè¯­è¨€æè¿°â€ï¼Œè€Œæ˜¯ä¾èµ–åŸç”Ÿå…¨æ¨¡æ€æ¨¡å‹å¯¹éŸ³é¢‘ä¸è§†é¢‘åœ¨åŒä¸€é“¾è·¯ä¸Šçš„æ¯”å¯¹èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f38d6e8243674ebc80a6131f255e91f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=SbETVRMDsAMDiadyyGH%2Fsrim64Y%3D" alt="" loading="lazy"/></p>
<p>è¿™ç§èƒ½åŠ›æ„å‘³ç€æ¨¡å‹åœ¨åª’ä½“åˆ†æã€å†…å®¹å®¡æ ¸ã€éŸ³ä¹ç‰ˆæƒæ£€æµ‹ã€è§†é¢‘è¯­ä¹‰æ£€ç´¢ç­‰ä»»åŠ¡ä¸Šéƒ½æœ‰æ›´é«˜çš„å¯ç”¨æ€§ã€‚</p>
<hr/>
<ol start="5">
<li>
<h2 data-id="heading-7">ä»æ¨ç†åˆ°æ™ºèƒ½ä½“ï¼šåŸç”Ÿå…¨æ¨¡æ€å¸¦æ¥äº†æ›´å¼ºçš„â€œè¡ŒåŠ¨èƒ½åŠ›â€</h2>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/900a501c1cd4453abf78e902099b6533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763726429&amp;x-signature=uRHMSByGEczb6h8vDZvE6aH2rzM%3D" alt="" loading="lazy"/></p>
<p>ä»¥é«˜è¯´æœåŠ›æ•°å­—äººçš„åº•åº§èƒ½åŠ›ä¸ºä¾‹ï¼Œæ–‡å¿ƒ 5.0 åŒæ—¶ä¾æ‰˜æ–‡å¿ƒ 4.5 Turboã€è¯­éŸ³åˆæˆå’Œè§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ¨ç†é“¾ä¸²èµ·è„šæœ¬ã€è¡¨æ¼”ã€åŠ¨ä½œä¸æƒ…ç»ªï¼Œä½¿æ•°å­—äººä¸å†åªæ˜¯â€œæ’­æ”¾åŠ¨ç”»â€ï¼Œè€Œæ˜¯çœŸæ­£å…·å¤‡æ€è€ƒã€å†³ç­–å’Œæ‰§è¡Œèƒ½åŠ›ã€‚</p>
<p>åœ¨å®é™…ç›´æ’­é—´ä¸­ï¼Œè¿™ç§èƒ½åŠ›è¿›ä¸€æ­¥è¢«æ‰©å±•ä¸ºå¤šæ™ºèƒ½ä½“ååŒã€‚æ•°å­—äººçš„â€œAI å¤§è„‘â€ä¼šæ ¹æ®ç›´æ’­çƒ­åº¦ã€è§‚ä¼—è¡Œä¸ºã€è¯„è®ºèŠ‚å¥ä¸æ–­åšå‡ºåˆ¤æ–­ï¼Œå¹¶è°ƒåº¦ä¸åŒæ™ºèƒ½ä½“æ‰§è¡Œä»»åŠ¡ï¼šç›´æ’­å†·åœºæ—¶è°ƒåº¦åŠ©æ’­æ™ºèƒ½ä½“æ´»è·ƒæ°”æ°›ï¼Œç”¨æˆ·è¿›å…¥çŠ¹è±«æœŸæ—¶è°ƒåº¦è¿è¥æ™ºèƒ½ä½“å‘åˆ¸ï¼Œå‡ºç°ä¸“ä¸šæé—®æ—¶è°ƒåº¦äº’åŠ¨æ™ºèƒ½ä½“å›ç­”ã€‚</p>
<p>æ‰€æœ‰å†³ç­–éƒ½ä¼šæ ¹æ®ç›´æ’­åçš„æ•°æ®å›æµè¿›è¡Œè¿­ä»£ï¼Œè®©æ™ºèƒ½ä½“ä½“ç³»å½¢æˆé—­ç¯ã€‚</p>
<p><strong>ç±»ä¼¼çš„èƒ½åŠ›å·²ç»åœ¨æ±½è½¦è¡Œä¸šè½åœ°</strong>ï¼šæ•°å­—äººä¼šæ ¹æ®å®æ—¶ä¿¡å·è‡ªåŠ¨åˆ¤æ–­è§‚ä¼—åœ°åŸŸç‰¹å¾ï¼Œä¸€æ—¦è¯†åˆ«å‡ºâ€œåŒ—æ–¹ç”¨æˆ·è¾ƒå¤šâ€ï¼Œä¾¿å³æ—¶åˆ‡æ¢ä»‹ç»ç©ºè°ƒã€åº§æ¤…åŠ çƒ­ç­‰æ›´ç›¸å…³çš„å–ç‚¹ã€‚ç»“æœæ˜¯çº¿ç´¢è½¬åŒ–ç‡æå‡ 44%ï¼Œè·å®¢æˆæœ¬ä¸‹é™ 64%ã€‚æ‰€ä»¥ï¼Œä»è¿™ä¸ªæ¡ˆä¾‹å¯ä»¥çœ‹åˆ°ï¼ŒåŸç”Ÿå…¨æ¨¡æ€çš„ä»·å€¼ä¸åªåœ¨â€œçœ‹æ‡‚ä¸–ç•Œâ€ï¼Œè€Œæ˜¯åœ¨â€œåŸºäºç†è§£åšå‡ºæ­£ç¡®è¡ŒåŠ¨â€ã€‚</p>
<hr/>
<ol start="6">
<li>
<h2 data-id="heading-8">ç»“è¯­ï¼šåŸç”Ÿå…¨æ¨¡æ€ä¸æ˜¯æ¦‚å¿µï¼Œæ˜¯å›½äº§æ¨¡å‹çœŸæ­£ç«™ä¸Šä¸–ç•Œçº§èˆå°çš„é‚£ä¸€æ­¥</h2>
</li>
</ol>
<p>å…¨çƒå¤§æ¨¡å‹ç«é€Ÿåƒæ˜¯é‡é‡çº§æ‹³å‡»èµ›ï¼Œä¸€ä¸ªä¸ªæ¨¡å‹é â€œå †èƒ½åŠ›ã€å †æ¨¡æ€ã€å †æŠ€å·§â€ç¡¬æ’‘ä¸Šåœºã€‚å›½äº§æ¨¡å‹åœ¨è¿™æ¡èµ›é“ä¸Šè¿½å¾—å¾ˆè¾›è‹¦ï¼šç®—åŠ›å·®è·æ‘†åœ¨é‚£ã€ç”Ÿæ€å·®è·æ‘†åœ¨é‚£ã€æµ·å¤–æ¨¡å‹å°é—­å¾—æ›´æ˜¯å¯¸æ­¥éš¾è¡Œã€‚</p>
<p>ä½†æ–‡å¿ƒ 5.0 è¿™æ¬¡åšçš„ä¸åªæ˜¯â€œè¿½ä¸Šâ€â€”â€”å°†æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘æ”¾è¿›åŒä¸€ä¸ªç»Ÿä¸€æ¶æ„ï¼Œä»¥åŸç”Ÿå…¨æ¨¡æ€åšåº•åº§ï¼Œåœ¨ LMArena ä¸Šï¼Œå®ƒå·²ç»ä¸å…¨çƒå¤´éƒ¨æ¨¡å‹å¹¶è‚©ï¼›åœ¨å¤šæ¨¡æ€ã€æ™ºèƒ½ä½“ã€è®­ç»ƒä½“ç³»ã€æ¨ç†æ•ˆç‡è¿™äº›çœŸæ­£ä½“ç°åº•åŠŸçš„æŒ‡æ ‡ä¸Šï¼Œå®ƒå±•ç°å‡ºçš„æˆç†Ÿåº¦ï¼Œè®©äººç¬¬ä¸€æ¬¡æ¸…æ™°åœ°çœ‹åˆ°ï¼š</p>
<p><strong>å›½äº§æ¨¡å‹ä¸å†æ˜¯è·Ÿéšè€…ï¼Œè€Œæ˜¯æ­£åœ¨å…±åŒå®šä¹‰ä¸‹ä¸€ä»£æ¨¡å‹çš„åŸºå‡†çº¿ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[å¤§å‚å®è·µ] è¶…è¶Šæé™ï¼šåˆ©ç”¨è·¯ç”±æœåŠ¡å™¨å®ç°ç¨³å®šé›†ç¾¤]]></title>    <link>https://juejin.cn/post/7572190151352451072</link>    <guid>https://juejin.cn/post/7572190151352451072</guid>    <pubDate>2025-11-14T10:16:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572190151352451072" data-draft-id="7572390974459445248" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[å¤§å‚å®è·µ] è¶…è¶Šæé™ï¼šåˆ©ç”¨è·¯ç”±æœåŠ¡å™¨å®ç°ç¨³å®šé›†ç¾¤"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-14T10:16:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿å‡¡"/> <meta itemprop="url" content="https://juejin.cn/user/290747765274222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [å¤§å‚å®è·µ] è¶…è¶Šæé™ï¼šåˆ©ç”¨è·¯ç”±æœåŠ¡å™¨å®ç°ç¨³å®šé›†ç¾¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/290747765274222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿å‡¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:16:26.000Z" title="Fri Nov 14 2025 10:16:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><em>æœ¬æ–‡ä»‹ç»äº† Zalando å¦‚ä½•é€šè¿‡å¼•å…¥è·¯ç”±æœåŠ¡å™¨ï¼ˆRouteSRVï¼‰å¸®åŠ© Skipper Ingress åº”å¯¹é«˜é€Ÿå¢é•¿çš„æµé‡ï¼Œä»¥æ›´æœ‰æ•ˆç®¡ç†æ§åˆ¶å¹³é¢å¹¶ç¡®ä¿é›†ç¾¤ç¨³å®šè¿è¡Œçš„å®è·µã€‚åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fengineering.zalando.com%2Fposts%2F2025%2F02%2Fscaling-beyond-limits-harnessing-route-server-for-a-stable-cluster.html" title="https://engineering.zalando.com/posts/2025/02/scaling-beyond-limits-harnessing-route-server-for-a-stable-cluster.html" target="_blank" ref="nofollow noopener noreferrer">Scaling Beyond Limits: Harnessing Route Server for a Stable Cluster</a></em></p>
</blockquote>
<h2 data-id="heading-0">ç®€ä»‹</h2>
<p>åœ¨ Zalandoï¼Œæˆ‘ä»¬æ­£é¢ä¸´ä¸¥å³»æŒ‘æˆ˜ï¼šå…¥å£æ§åˆ¶å™¨æœ‰å¯èƒ½ä½¿ Kubernetes é›†ç¾¤ä¸å ªé‡è´Ÿã€‚æˆ‘ä»¬éœ€è¦èƒ½å¤Ÿåº”å¯¹ä¸æ–­å¢é•¿çš„æµé‡å¹¶å®ç°é«˜æ•ˆæ‰©å±•çš„è§£å†³æ–¹æ¡ˆï¼Œæœ¬æ–‡å°†ä»‹ç»æˆ‘ä»¬å¦‚ä½•å®ç°è·¯ç”±æœåŠ¡å™¨ä»¥æ›´æœ‰æ•ˆç®¡ç†æ§åˆ¶å¹³é¢æµé‡å¹¶ç¡®ä¿é›†ç¾¤ç¨³å®šè¿è¡Œçš„å®è·µã€‚</p>
<h2 data-id="heading-1">Skipperï¼šIngress æ§åˆ¶å™¨</h2>
<p>æˆ‘ä»¬ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fopensource.zalando.com%2Fskipper" title="https://opensource.zalando.com/skipper" target="_blank" ref="nofollow noopener noreferrer">Skipper</a>ï¼ˆHTTP åå‘ä»£ç†ï¼‰æ¥å®ç° <a href="https://link.juejin.cn?target=https%3A%2F%2Fkubernetes.io%2Fdocs%2Fconcepts%2Fservices-networking%2Fingress" title="https://kubernetes.io/docs/concepts/services-networking/ingress" target="_blank" ref="nofollow noopener noreferrer">ubernetes Ingress</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fopensource.zalando.com%2Fskipper%2Fkubernetes%2Froutegroup-crd" title="https://opensource.zalando.com/skipper/kubernetes/routegroup-crd" target="_blank" ref="nofollow noopener noreferrer">RouteGroups</a> çš„æ§åˆ¶å¹³é¢å’Œæ•°æ®å¹³é¢ã€‚åˆ›å»º <code>Ingress</code> æˆ– <code>RouteGroup</code> å°†ä¼šäº§ç”Ÿ<a href="https://link.juejin.cn?target=https%3A%2F%2Fengineering.zalando.com%2Fposts%2F2025%2F02%2Fscaling-beyond-limits-harnessing-route-server-for-a-stable-cluster.html%23fn%3A1" title="https://engineering.zalando.com/posts/2025/02/scaling-beyond-limits-harnessing-route-server-for-a-stable-cluster.html#fn:1" target="_blank" ref="nofollow noopener noreferrer">å¸¦æœ‰ TLS ç»ˆæ­¢åŠŸèƒ½çš„ AWS LB</a>ï¼Œè¯¥ LB ä¼šé€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzalando-incubator%2Fkube-ingress-aws-controller" title="https://github.com/zalando-incubator/kube-ingress-aws-controller" target="_blank" ref="nofollow noopener noreferrer">kube-ingress-aws-controller</a> ä¸ Skipper è¿›è¡Œé€šä¿¡ï¼ŒåŒæ—¶åœ¨ Skipper ä¸Šè®¾ç½® HTTP è·¯ç”±ï¼Œå¹¶é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkubernetes-sigs%2Fexternal-dns" title="https://github.com/kubernetes-sigs/external-dns" target="_blank" ref="nofollow noopener noreferrer">external-dns</a> å°† DNS åŸŸåæŒ‡å‘è¯¥ LBã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c2ff15993b14a11816f65dec6172013~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720186&amp;x-signature=WoLWI4G6i5iqY9v%2BJfAeXHUH2Q8%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†ç†è§£éƒ¨ç½²ç¯å¢ƒï¼Œä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„å®é™…è¿è¡Œè§„æ¨¡ï¼š</p>
<ul>
<li>15,000 ä¸ª Ingress å’Œ 5,000 ä¸ª RouteGroupã€‚</li>
<li>æ¯ç§’å¤„ç†é«˜è¾¾ 2,000,000 æ¬¡è¯·æ±‚çš„æµé‡ã€‚</li>
<li>80% - 90% çš„æµé‡æ˜¯ç»è¿‡è®¤è¯çš„æœåŠ¡é—´è°ƒç”¨ï¼ŒæœåŠ¡é›†ç¾¤æ¯å¤©è°ƒç”¨æ¬¡æ•°åœ¨ 500,000 åˆ° 1,000,000 æ¬¡ã€‚</li>
<li>å…±æœ‰ 200 ä¸ª Kubernetes é›†ç¾¤ã€‚</li>
</ul>
<h2 data-id="heading-2">æŒ‘æˆ˜</h2>
<h5 data-id="heading-3">æ‰©å®¹çš„ç—›ç‚¹</h5>
<p>Skipper å®ä¾‹ä» Kubernetes API è·å– Ingress å’Œ RouteGroups ä¿¡æ¯ï¼Œèµ·åˆè¿™ç§æ–¹å¼è¿è¡Œè‰¯å¥½ã€‚ä½† Skipper å®ä¾‹æ•°é‡è¿…é€Ÿå¢åŠ ï¼Œè¾¾åˆ°æ¯ä¸ªé›†ç¾¤çº¦ 180 ä¸ªï¼Œå¼€å§‹è¶…å‡º etcd åŸºç¡€è®¾æ–½çš„æ‰¿è½½èƒ½åŠ›ã€‚</p>
<p>è¿™ç§è´Ÿè½½è¿‡é‡å¯¼è‡´äº†ä¸¥é‡çš„ Kubernetes API CPU é™æµé—®é¢˜ï¼Œå¼•å‘äº†å…³é”®çš„æ§åˆ¶å¹³é¢ç¨³å®šæ€§é£é™©ã€‚ä¸»è¦è¡¨ç°ä¸ºä¸¤ç§æƒ…å†µï¼šé›†ç¾¤å¤±å»äº†æœ‰æ•ˆè°ƒåº¦æ–° Pod çš„èƒ½åŠ›ï¼Œè€Œç°æœ‰ Pod çš„ç®¡ç†æ“ä½œä¹Ÿå¼€å§‹å‡ºç°æ•…éšœã€‚è¿™äº›é—®é¢˜å¨èƒåˆ°äº† Kubernetes åŸºç¡€è®¾æ–½çš„æ•´ä½“ç¨³å®šæ€§å’Œå¯é æ€§ã€‚</p>
<h5 data-id="heading-4">å®æ–½è·¯ç”±æœåŠ¡å™¨</h5>
<p>åœ¨å¼•å…¥è·¯ç”±æœåŠ¡å™¨ä¹‹å‰ï¼ŒSkipper çš„èŒè´£åŒ…æ‹¬ï¼š</p>
<ol>
<li>ä» Kubernetes API è·å– Ingress å’Œ RouteGroups ä¿¡æ¯ã€‚</li>
<li>è§£æå¹¶å¤„ç†è¿™äº›èµ„æºä»¥è½¬æ¢ä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fengineering.zalando.com%2Fposts%2F2025%2F02%2Fscaling-beyond-limits-harnessing-route-server-for-a-stable-cluster.html%23fn%3A2" title="https://engineering.zalando.com/posts/2025/02/scaling-beyond-limits-harnessing-route-server-for-a-stable-cluster.html#fn:2" target="_blank" ref="nofollow noopener noreferrer">Eskip</a> æ ¼å¼ã€‚</li>
<li>éªŒè¯ç”Ÿæˆçš„ Eskip æ ¼å¼ã€‚</li>
<li>æ›´æ–°è·¯ç”±è¡¨ã€‚</li>
</ol>
<p>æˆ‘ä»¬å¼•å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fpkg.go.dev%2Fgithub.com%2Fzalando%2Fskipper%2Froutesrv" title="https://pkg.go.dev/github.com/zalando/skipper/routesrv" target="_blank" ref="nofollow noopener noreferrer">è·¯ç”±æœåŠ¡å™¨</a>ä½œä¸ºè‡ªå®šä¹‰ä»£ç†å±‚ï¼Œä»¥æ›´é«˜æ•ˆå¤„ç†æ§åˆ¶å¹³é¢æµé‡ï¼Œå¹¶åœ¨ Skipper ä¸ Kubernetes API æœåŠ¡å™¨ä¹‹é—´å……å½“å¸¦æœ‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FHeaders%2FETag" title="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag" target="_blank" ref="nofollow noopener noreferrer">HTTP ETag ç¼“å­˜å±‚</a>çš„ä»£ç†ã€‚</p>
<p>ç°åœ¨ï¼Œè·¯ç”±æœåŠ¡å™¨è´Ÿè´£æ‰§è¡Œè½®è¯¢å’Œè§£ææ“ä½œï¼Œå‡å°‘äº† Skipper çš„è®¡ç®—è´Ÿæ‹…ï¼ŒåŒæ—¶å®ç°äº†æ¸…æ™°çš„èŒè´£åˆ’åˆ†ã€‚</p>
<h5 data-id="heading-5">ç¼“å­˜å±‚</h5>
<p>è·¯ç”±æœåŠ¡å™¨æ¯éš” 3 ç§’å‘ Kubernetes API å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œä»¥è·å–æœ€æ–°çš„ <code>Ingress</code> å’Œ <code>RouteGroup</code>ã€‚ç„¶åç”Ÿæˆè·¯ç”±è¡¨ä»¥åŠç›¸åº”çš„ ETag å€¼ã€‚å½“ Skipper å‘è·¯ç”±æœåŠ¡å™¨è¯·æ±‚æ›´æ–°æ—¶ï¼Œä¼šåŒ…å«è‡ªå·±å½“å‰çš„ ETagã€‚å¦‚æœè¿™ä¸ª ETag ä¸è·¯ç”±æœåŠ¡å™¨å½“å‰çš„ ETag ç›¸åŒ¹é…ï¼Œè¡¨ç¤ºæ²¡æœ‰å˜åŒ–ï¼Œè·¯ç”±æœåŠ¡å™¨ä¼šä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FStatus%2F304" title="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304" target="_blank" ref="nofollow noopener noreferrer">HTTP 304 (Not Modified) çŠ¶æ€ç </a>è¿›è¡Œå“åº”ã€‚ç„¶è€Œï¼Œå¦‚æœ ETag ä¸åŒï¼Œè·¯ç”±æœåŠ¡å™¨ä¼šå°†æ›´æ–°åçš„è·¯ç”±è¡¨å‘é€ç»™ Skipperï¼Œç„¶å Skipper ä¼šæ›´æ–°å…¶æœ¬åœ°é…ç½®ä»¥åŠ ETagã€‚</p>
<h5 data-id="heading-6">è·¯ç”±æœåŠ¡å™¨ä¸å¯ç”¨</h5>
<p>å°½ç®¡è·¯ç”±æœåŠ¡å™¨æå¤§æé«˜äº†ç³»ç»Ÿæ•ˆç‡ï¼Œä½†ä¹Ÿå¿…é¡»è€ƒè™‘åˆ°å¯èƒ½å‡ºç°çš„æ•…éšœæƒ…å†µã€‚å½“è·¯ç”±æœåŠ¡å™¨ä¸å¯ç”¨æ—¶ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§å¯èƒ½çš„æƒ…å†µï¼š</p>
<ol>
<li>Skipper æ²¡æœ‰åˆå§‹è·¯ç”±è¡¨ã€‚</li>
<li>Skipper æœ‰åˆå§‹è·¯ç”±è¡¨ï¼Œä½†è·¯ç”±æœåŠ¡å™¨æ— æ³•æ›´æ–°ã€‚</li>
</ol>
<p>åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œå¦‚æœå¯ç”¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzalando-incubator%2Fkubernetes-on-aws%2Fblob%2F4f2e04e3e056ba6c647d85e64fd842ada44deff3%2Fcluster%2Fmanifests%2Fskipper%2Fdeployment.yaml%23L171" title="https://github.com/zalando-incubator/kubernetes-on-aws/blob/4f2e04e3e056ba6c647d85e64fd842ada44deff3/cluster/manifests/skipper/deployment.yaml#L171" target="_blank" ref="nofollow noopener noreferrer"><code>-wait-first-route-load</code> æ ‡å¿—</a>ï¼Œé‚£ä¹ˆ Skipper å®¹å™¨å°†æ— æ³•å¯åŠ¨ã€‚åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼ŒSkipper å°†ç»§ç»­ä½¿ç”¨æœ€åå·²çŸ¥çš„è·¯ç”±è¡¨ã€‚è¿™æ˜¯åœ¨å¯ç”¨æ€§å’Œä¸€è‡´æ€§ä¹‹é—´åšå‡ºçš„æƒè¡¡ã€‚</p>
<p>åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šæ”¶åˆ°å‘Šè­¦ï¼Œå¹¶ä¸”éœ€è¦å†³å®šæ˜¯ä¿®å¤è·¯ç”±æœåŠ¡å™¨ï¼Œè¿˜æ˜¯å°†å…¶ç¦ç”¨ï¼Œç„¶åè®© Skipper åœ¨æ²¡æœ‰è·¯ç”±æœåŠ¡å™¨çš„æƒ…å†µä¸‹ç»§ç»­è¿è¡Œã€‚ç›®å‰ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰è‡ªåŠ¨åˆ‡å›æ—§æ–¹æ³•çš„æœºåˆ¶ã€‚</p>
<p>é›†æˆè·¯ç”±æœåŠ¡å™¨åçš„æœ€ç»ˆæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7129a5ed1d9d47a49f1d464a77700c09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720186&amp;x-signature=SqSaJ9bmTwwT3r0QLV2ZKmkzHyo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">éƒ¨ç½²ç­–ç•¥</h2>
<p>éƒ¨ç½²è·¯ç”±æœåŠ¡å™¨å¹¶éæ˜“äº‹ï¼Œå“ªæ€•å‡ºç°ä¸€ä¸ªé”™è¯¯ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ Kubernetes API ä¸ Skipper çš„è¿æ¥ä¸­æ–­ï¼Œä»è€Œå¯èƒ½å½±å“é”€å”®ä¸šç»©å’Œå•†å“äº¤æ˜“æ€»é¢ï¼ˆGMVï¼‰ã€‚æˆ‘ä»¬å¿…é¡»æå…¶è°¨æ…ï¼Œå¹¶éµå¾ªå®Œå–„çš„éƒ¨ç½²ç­–ç•¥ã€‚</p>
<p>æˆ‘ä»¬è®¡åˆ’ä»¥å¯æ§çš„æ–¹å¼é€æ­¥éƒ¨ç½²è·¯ç”±æœåŠ¡å™¨ï¼Œå…ˆä»æµ‹è¯•é›†ç¾¤å¼€å§‹ï¼Œç”Ÿäº§é›†ç¾¤åˆ™è¢«åˆ†ä¸ºä¸åŒçš„å±‚çº§ï¼Œè·¯ç”±æœåŠ¡å™¨é€å±‚éƒ¨ç½²ï¼Œæ¯éƒ¨ç½²å®Œä¸€å±‚éƒ½ä¼šè¿›è¡Œç›‘æ§ï¼Œç„¶åå†è¿›è¡Œä¸‹ä¸€å±‚éƒ¨ç½²ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬ä¸ºéƒ¨ç½²è·¯ç”±æœåŠ¡å™¨åˆ¶å®šäº†ä¸åŒçš„è®¾ç½®æ¨¡å¼ï¼š</p>
<ul>
<li><strong>æ¨¡å¼ï¼šFalse</strong> - ç¦ç”¨æ¨¡å¼</li>
<li><strong>æ¨¡å¼ï¼šPre</strong> - é¢„å¤„ç†æ¨¡å¼</li>
<li><strong>æ¨¡å¼ï¼šExec</strong> - æ‰§è¡Œæ¨¡å¼</li>
</ul>
<p>è¿™äº›æ¨¡å¼é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzalando-incubator%2Fkubernetes-on-aws%2Fblob%2F32658df25ee29049d5495cf422f85ab536b599bb%2Fcluster%2Fconfig-defaults.yaml%23L223" title="https://github.com/zalando-incubator/kubernetes-on-aws/blob/32658df25ee29049d5495cf422f85ab536b599bb/cluster/config-defaults.yaml#L223" target="_blank" ref="nofollow noopener noreferrer">é…ç½®é¡¹</a>è¿›è¡Œæ§åˆ¶ã€‚</p>
<p>é»˜è®¤æ¨¡å¼ä¸º <code>false</code>ï¼Œæ„å‘³ç€è·¯ç”±æœåŠ¡å™¨å·²è¢«ç¦ç”¨ï¼Œæ­¤æ—¶å°±ç”¨å¸¸è§„çš„æ§åˆ¶å¹³é¢æµé‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77691a19e7c547ab89c6422424d885ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720186&amp;x-signature=5Qg8hODu6o7BDBFP%2FqHwEjjla5Y%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-8">é¢„å¤„ç†æ¨¡å¼</h5>
<p>åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œè·¯ç”±æœåŠ¡å™¨ä¸ Skipper ååŒå·¥ä½œï¼Œä» Kubernetes API è·å– <code>Ingress</code> å’Œ <code>RouteGroup</code>ï¼Œå¹¶å¯¹å…¶è¿›è¡Œé¢„å¤„ç†ã€‚æ­¤æ¨¡å¼é€‚ç”¨äºæµ‹è¯•å’Œè°ƒè¯•ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ¨å‡ºç­–ç•¥çš„å…³é”®å› ç´ ã€‚</p>
<p>é€šè¿‡æˆåŠŸè·å– Skipper å’Œè·¯ç”±æœåŠ¡å™¨çš„è·¯ç”±è¡¨ï¼Œå¹¶å°†å…¶ä¸åŸè¡¨è¿›è¡Œå¯¹æ¯”ï¼Œä»¥ç¡®ä¿è·¯ç”±æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ã€‚è¦çŸ¥é“ï¼Œå¦‚æœè·¯ç”±è¡¨å› ä¸ºæŸç§åŸå› å‡ºç°æ•…éšœï¼Œå°±ä¼šå¯¼è‡´æœåŠ¡ä¸­æ–­ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¿…é¡»æ ¼å¤–è°¨æ…ï¼Œæ£€æŸ¥æ‰€æœ‰é›†ç¾¤ä¸­è·¯ç”±è¡¨çš„ä»»ä½•ç»†å¾®å·®å¼‚ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ç”¨éå¸¸å¤§çš„ limit è·å–æ‰€æœ‰ Skipper è·¯ç”±</span>
âœ curl -i http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">9911</span>/routes\?limit\=<span class="hljs-number">10000000000000</span>\&amp;nopretty &gt; skipper_routes.eskip
<span class="hljs-comment"># è·å–è·¯ç”±æœåŠ¡å™¨çš„æ‰€æœ‰è·¯ç”±ï¼Œæˆ‘ä»¬å†³å®šä¸ä½¿ç”¨åˆ†é¡µæ¥å‡å°‘è¯·æ±‚æ•°é‡ï¼ŒSkipper æ˜¯ç›®å‰å”¯ä¸€çš„æ¶ˆè´¹è€…</span>
âœ curl -i http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">9090</span>/routes &gt; routesrv_routes.eskip
âœ git diff --<span class="hljs-keyword">no</span>-<span class="hljs-keyword">index</span> -- skipper_routes.eskip routesrv_routes.eskip
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f7d357e9ea847c5a3919f7c4e25ae4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720186&amp;x-signature=PokBUW0MpGDvaWF4VcrEAG%2BeoVQ%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-9">æ‰§è¡Œæ¨¡å¼</h5>
<p>åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œè·¯ç”±æœåŠ¡å™¨å……å½“ Skipper ä¸ Kubernetes API ä¹‹é—´çš„ä»£ç†ã€‚Skipper å‘è·¯ç”±æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç„¶åè·¯ç”±æœåŠ¡å™¨å†å°†è¿™äº›è¯·æ±‚è½¬å‘è‡³ Kubernetes APIã€‚è·¯ç”±æœåŠ¡å™¨ä¼šç¼“å­˜å“åº”å¹¶å°†å…¶è¿”å›ç»™ Skipperã€‚æ­¤æ¨¡å¼æ˜¯ç”¨äºç”Ÿäº§ç¯å¢ƒçš„æœ€ç»ˆè®¾ç½®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e51d7afa8988473681d5809d660e024a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720186&amp;x-signature=do3pcpKsa2KLZ15dDnNvuRaGCUw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">äº§å“ä¸Šçº¿</h2>
<p>ç»è¿‡å…¨é¢çš„è´Ÿè½½æµ‹è¯•åï¼Œæˆ‘ä»¬ä»¥å¯æ§çš„æ–¹å¼å°†è·¯ç”±æœåŠ¡å™¨æŠ•å…¥ç”Ÿäº§ä½¿ç”¨ï¼š</p>
<ol>
<li>å·²åˆ†å‘è‡³æ‰€æœ‰æµ‹è¯•é›†ç¾¤ï¼Œå¹¶è¿›è¡Œäº†ä¸ºæœŸä¸¤å‘¨çš„ç›‘æµ‹ã€‚</li>
<li>é€å±‚éƒ¨ç½²åˆ°ç”Ÿäº§é›†ç¾¤ï¼Œæ¯éƒ¨ç½²ä¸€å±‚éƒ½ä¼šå¯¹å…¶è¿›è¡Œç›‘æµ‹ï¼Œç„¶åç»§ç»­è¿›è¡Œä¸‹ä¸€å±‚éƒ¨ç½²ã€‚</li>
</ol>
<h2 data-id="heading-11">æ›¿ä»£æ–¹æ¡ˆ</h2>
<p>æˆ‘ä»¬æ›¾è€ƒè™‘ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fpkg.go.dev%2Fk8s.io%2Fclient-go%2Finformers" title="https://pkg.go.dev/k8s.io/client-go/informers" target="_blank" ref="nofollow noopener noreferrer">Kubernetes Informer</a> æ¥ç›‘è§† Kubernetes API çš„å˜åŒ–ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä»éœ€è¦ Kubernetes API å‘æ‰€æœ‰ Skipper å®ä¾‹å‘é€ä¿¡æ¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´é‡åˆ°çš„åŒæ ·çš„é—®é¢˜ã€‚å› ä¸ºé—®é¢˜çš„æœ¬è´¨æ˜¯æµé‡çªç„¶å¢åŠ ï¼Œè€Œ HPA æ— æ³•è·Ÿä¸Šå¹¶æ‰©å±• Kubernetes API å’Œ etcdã€‚</p>
<h2 data-id="heading-12">æœªæ¥æ”¹è¿›æªæ–½</h2>
<ul>
<li><strong>è‡ªåŠ¨å›é€€æœºåˆ¶</strong>ï¼šå»ºç«‹å›é€€æœºåˆ¶ï¼Œä»¥ç¡®ä¿åœ¨è·¯ç”±æœåŠ¡å™¨ä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼ŒSkipper ä»èƒ½ç»§ç»­è¿è¡Œã€‚</li>
</ul>
<h2 data-id="heading-13">æ€»ç»“</h2>
<ul>
<li>åœ¨ä¸Šçº¿è¿‡ç¨‹ä¸­å®ç°äº†é›¶åœæœºæ—¶é—´ä¸”æœªå‡ºç°å•†å“äº¤æ˜“æ€»é¢ï¼ˆGMVï¼‰æŸå¤±çš„æƒ…å†µã€‚</li>
<li>å°† Skipper HPA æ‰©å±•è‡³ 300 ä¸ª Podã€‚</li>
<li>å•ä¸ªè·¯ç”±æœåŠ¡å™¨èƒ½å¤Ÿå¤„ç†é«˜è¾¾ 100 ä¸ªæ¯ç§’è¯·æ±‚æ•°ï¼ˆRPSï¼‰ï¼Œç›¸å½“äºçº¦ 300 ä¸ª Skipper Podï¼Œä¸”æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</li>
<li>è·¯ç”±æœåŠ¡å™¨ç°å·²æˆä¸ºå¹³å°æ ¸å¿ƒç»„ä»¶ã€‚</li>
</ul>
<hr/>
<blockquote>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯ä¿å‡¡ï¼Œåœ¨Motorolaåšè¿‡ç ”å‘ï¼Œç°åœ¨åœ¨MaveniråšæŠ€æœ¯å·¥ä½œï¼Œå¯¹é€šä¿¡ã€ç½‘ç»œã€åç«¯æ¶æ„ã€äº‘åŸç”Ÿã€DevOpsã€CICDã€åŒºå—é“¾ã€AIç­‰æŠ€æœ¯å§‹ç»ˆä¿æŒç€æµ“åšçš„å…´è¶£ï¼Œå¹³æ—¶å–œæ¬¢é˜…è¯»ã€æ€è€ƒï¼Œç›¸ä¿¡æŒç»­å­¦ä¹ ã€ç»ˆèº«æˆé•¿ï¼Œæ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ä»¥åèƒ½ç¬¬ä¸€æ—¶é—´çœ‹åˆ°æ–‡ç« ï¼Œè¯·æœ‹å‹ä»¬å…³æ³¨å…¬ä¼—å·"DeepNoMind"ï¼Œå¹¶è®¾ä¸ªæ˜Ÿæ ‡å§ï¼Œå¦‚æœèƒ½ä¸€é”®ä¸‰è¿(è½¬å‘ã€ç‚¹èµã€åœ¨çœ‹)ï¼Œåˆ™èƒ½ç»™æˆ‘å¸¦æ¥æ›´å¤šçš„æ”¯æŒå’ŒåŠ¨åŠ›ï¼Œæ¿€åŠ±æˆ‘æŒç»­å†™ä¸‹å»ï¼Œå’Œå¤§å®¶å…±åŒæˆé•¿è¿›æ­¥ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥è§£ælocalStorageï¼šå‰ç«¯æ•°æ®æŒä¹…åŒ–çš„æ ¸å¿ƒæŠ€æœ¯]]></title>    <link>https://juejin.cn/post/7572190151352369152</link>    <guid>https://juejin.cn/post/7572190151352369152</guid>    <pubDate>2025-11-14T09:50:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572190151352369152" data-draft-id="7572190151352352768" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥è§£ælocalStorageï¼šå‰ç«¯æ•°æ®æŒä¹…åŒ–çš„æ ¸å¿ƒæŠ€æœ¯"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-14T09:50:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿›å‡»çš„é‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/1458425238667008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥è§£ælocalStorageï¼šå‰ç«¯æ•°æ®æŒä¹…åŒ–çš„æ ¸å¿ƒæŠ€æœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1458425238667008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿›å‡»çš„é‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:50:28.000Z" title="Fri Nov 14 2025 09:50:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£Webå¼€å‘ä¸­ï¼Œæ•°æ®æŒä¹…åŒ–æ˜¯æ„å»ºå¤æ‚åº”ç”¨çš„å…³é”®éœ€æ±‚ã€‚localStorageä½œä¸ºHTML5å¼•å…¥çš„é‡è¦ç‰¹æ€§ï¼Œä¸ºå‰ç«¯å¼€å‘è€…æä¾›äº†åœ¨æµè§ˆå™¨ç«¯æŒä¹…å­˜å‚¨æ•°æ®çš„èƒ½åŠ›ï¼Œæå¤§åœ°ä¸°å¯Œäº†Webåº”ç”¨çš„åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿçš„å®é™…æ¡ˆä¾‹ï¼Œæ·±å…¥æ¢è®¨localStorageçš„åŸç†ã€åº”ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µã€‚</p>
<h2 data-id="heading-0">ä¸€ã€localStorageçš„åŸºæœ¬ç‰¹æ€§ä¸ä¼˜åŠ¿</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯localStorage</h3>
<p>localStorageæ˜¯Web Storage APIçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨é”®å€¼å¯¹æ•°æ®ï¼Œä¸”æ•°æ®ä¸ä¼šéšç€é¡µé¢åˆ·æ–°æˆ–å…³é—­è€Œä¸¢å¤±ã€‚ä¸ä¼ ç»Ÿçš„Cookieç›¸æ¯”ï¼ŒlocalStorageå…·æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>å­˜å‚¨å®¹é‡æ›´å¤§</strong>ï¼šé€šå¸¸æä¾›5-10MBçš„å­˜å‚¨ç©ºé—´ï¼Œè¿œè¶…è¿‡Cookieçš„4KBé™åˆ¶</li>
<li><strong>ä¸ä¼šè‡ªåŠ¨å‘é€åˆ°æœåŠ¡å™¨</strong>ï¼šæ•°æ®ä»…å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œä¸ä¼šéšæ¯ä¸ªHTTPè¯·æ±‚å‘é€</li>
<li><strong>æ›´ç›´è§‚çš„API</strong>ï¼šç®€å•çš„é”®å€¼å¯¹æ“ä½œï¼Œæ˜“äºç†è§£å’Œä½¿ç”¨</li>
<li><strong>æ°¸ä¹…å­˜å‚¨</strong>ï¼šé™¤éæ‰‹åŠ¨åˆ é™¤ï¼Œå¦åˆ™æ•°æ®ä¼šä¸€ç›´ä¿ç•™åœ¨æµè§ˆå™¨ä¸­</li>
</ul>
<h3 data-id="heading-2">1.2 localStorageä¸sessionStorageçš„åŒºåˆ«</h3>
<p>localStorageå’ŒsessionStorageéƒ½å±äºWeb Storage APIï¼Œä½†æœ‰ç€é‡è¦çš„åŒºåˆ«ï¼š</p>
<ul>
<li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šlocalStorageæ˜¯æ°¸ä¹…å­˜å‚¨ï¼ŒsessionStorageæ˜¯ä¼šè¯çº§å­˜å‚¨ï¼ˆå…³é—­æ ‡ç­¾é¡µå³æ¸…é™¤ï¼‰</li>
<li><strong>ä½œç”¨åŸŸ</strong>ï¼šlocalStorageåœ¨åŒæºçš„æ‰€æœ‰æ ‡ç­¾é¡µé—´å…±äº«ï¼ŒsessionStorageä»…é™äºå½“å‰æ ‡ç­¾é¡µ</li>
</ul>
<h2 data-id="heading-3">äºŒã€localStorageçš„æ ¸å¿ƒAPIè¯¦è§£</h2>
<h3 data-id="heading-4">2.1 åŸºæœ¬æ“ä½œæ–¹æ³•</h3>
<p>localStorageæä¾›äº†å››ä¸ªæ ¸å¿ƒæ–¹æ³•æ¥ç®¡ç†æ•°æ®ï¼š</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å­˜å‚¨æ•°æ®</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'key'</span>, <span class="hljs-string">'value'</span>);

<span class="hljs-comment">// è¯»å–æ•°æ®</span>
<span class="hljs-keyword">const</span> value = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'key'</span>);

<span class="hljs-comment">// åˆ é™¤ç‰¹å®šæ•°æ®</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'key'</span>);

<span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰æ•°æ®</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">clear</span>();
</code></pre>
<h3 data-id="heading-5">2.2 æ•°æ®ç±»å‹å¤„ç†</h3>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒlocalStorageåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å­˜å‚¨å¯¹è±¡æˆ–æ•°ç»„ç­‰å¤æ‚æ•°æ®ç»“æ„ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨JSONæ–¹æ³•è¿›è¡Œè½¬æ¢ï¼š</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å­˜å‚¨å¯¹è±¡</span>
<span class="hljs-keyword">const</span> user = {<span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>};
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'user'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user));

<span class="hljs-comment">// è¯»å–å¯¹è±¡</span>
<span class="hljs-keyword">const</span> storedUser = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'user'</span>));
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿä¸­çš„localStorageåº”ç”¨</h2>
<h3 data-id="heading-7">3.1 æ•°æ®åˆå§‹åŒ–ä¸è¯»å–</h3>
<p>åœ¨å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨localStorageæ¥æŒä¹…åŒ–ä¸¤ä¸ªå…³é”®æ•°æ®ï¼šå­¦ç”Ÿä¿¡æ¯æ•°ç»„å’Œå­¦å·è®¡æ•°å™¨ã€‚</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»localStorageè¯»å–æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®åˆ™ä½¿ç”¨ç©ºæ•°ç»„</span>
<span class="hljs-keyword">const</span> arr = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'arr'</span>)) || [];

<span class="hljs-comment">// ä»localStorageè¯»å–å­¦å·è®¡æ•°å™¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»1å¼€å§‹</span>
<span class="hljs-keyword">let</span> i = <span class="hljs-title class_">Number</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'i'</span>)) || <span class="hljs-number">1</span>;
</code></pre>
<p>è¿™ç§åˆå§‹åŒ–æ–¹å¼ç¡®ä¿äº†åº”ç”¨åœ¨é¦–æ¬¡è¿è¡Œæ—¶ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼ŒåŒæ—¶åœ¨åç»­è®¿é—®æ—¶èƒ½å¤Ÿæ¢å¤ä¹‹å‰çš„çŠ¶æ€ã€‚</p>
<h3 data-id="heading-8">3.2 æ•°æ®æ·»åŠ ä¸æ›´æ–°</h3>
<p>å½“ç”¨æˆ·æ·»åŠ æ–°çš„å­¦ç”Ÿä¿¡æ¯æ—¶ï¼Œç³»ç»Ÿéœ€è¦æ›´æ–°localStorageä¸­çš„æ•°æ®ï¼š</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºå­¦ç”Ÿå¯¹è±¡</span>
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">stuId</span>: i,
  <span class="hljs-attr">uname</span>: uname.<span class="hljs-property">value</span>,
  <span class="hljs-attr">age</span>: age.<span class="hljs-property">value</span>,
  <span class="hljs-attr">gender</span>: gender.<span class="hljs-property">value</span>,
  <span class="hljs-attr">salary</span>: salary.<span class="hljs-property">value</span>,
  <span class="hljs-attr">city</span>: city.<span class="hljs-property">value</span>,
};

<span class="hljs-comment">// æ·»åŠ åˆ°æ•°ç»„å¹¶æ›´æ–°localStorage</span>
arr.<span class="hljs-title function_">push</span>(obj);
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'i'</span>, i++); <span class="hljs-comment">// æ›´æ–°å­¦å·è®¡æ•°å™¨</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'arr'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(arr)); <span class="hljs-comment">// æ›´æ–°å­¦ç”Ÿæ•°ç»„</span>
</code></pre>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸¤ä¸ªç»†èŠ‚ï¼š</p>
<ol>
<li>å­¦å·è®¡æ•°å™¨éœ€è¦å•ç‹¬å­˜å‚¨ï¼Œç¡®ä¿æ¯æ¬¡ç”Ÿæˆçš„å­¦å·å”¯ä¸€</li>
<li>å­˜å‚¨æ•°ç»„æ—¶å¿…é¡»ä½¿ç”¨JSON.stringify()è¿›è¡Œåºåˆ—åŒ–</li>
</ol>
<h3 data-id="heading-9">3.3 æ•°æ®åˆ é™¤æ“ä½œ</h3>
<p>åˆ é™¤å­¦ç”Ÿä¿¡æ¯æ—¶ï¼ŒåŒæ ·éœ€è¦åŒæ­¥æ›´æ–°localStorageï¼š</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»æ•°ç»„ä¸­åˆ é™¤æŒ‡å®šå…ƒç´ </span>
arr.<span class="hljs-title function_">splice</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span>, <span class="hljs-number">1</span>);

<span class="hljs-comment">// æ›´æ–°localStorage</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'arr'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(arr));
</code></pre>
<h2 data-id="heading-10">å››ã€localStorageçš„è¿›é˜¶åº”ç”¨æŠ€å·§</h2>
<h3 data-id="heading-11">4.1 æ•°æ®éªŒè¯ä¸é”™è¯¯å¤„ç†</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘localStorageæ“ä½œå¯èƒ½å¤±è´¥çš„æƒ…å†µï¼š</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">safeSetItem</span>(<span class="hljs-params">key, value</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(key, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'localStorageå­˜å‚¨å¤±è´¥:'</span>, e);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">safeGetItem</span>(<span class="hljs-params">key</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(key));
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'localStorageè¯»å–å¤±è´¥:'</span>, e);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }
}
</code></pre>
<h3 data-id="heading-12">4.2 å­˜å‚¨ç©ºé—´ç®¡ç†</h3>
<p>å½“å­˜å‚¨å¤§é‡æ•°æ®æ—¶ï¼Œéœ€è¦ç›‘æ§å­˜å‚¨ç©ºé—´çš„ä½¿ç”¨æƒ…å†µï¼š</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getLocalStorageSize</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> <span class="hljs-variable language_">localStorage</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
      total += <span class="hljs-variable language_">localStorage</span>[key].<span class="hljs-property">length</span> + key.<span class="hljs-property">length</span>;
    }
  }
  <span class="hljs-keyword">return</span> total;
}

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ¥è¿‘å­˜å‚¨é™åˆ¶</span>
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">getLocalStorageSize</span>() &gt; <span class="hljs-number">4.5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'localStorageå³å°†è¾¾åˆ°å®¹é‡é™åˆ¶'</span>);
}
</code></pre>
<h3 data-id="heading-13">4.3 æ•°æ®ç‰ˆæœ¬ç®¡ç†</h3>
<p>å¯¹äºé•¿æœŸå­˜å‚¨çš„æ•°æ®ï¼Œå»ºè®®å®ç°ç‰ˆæœ¬æ§åˆ¶æœºåˆ¶ï¼š</p>
<p>javascript</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">DATA_VERSION</span> = <span class="hljs-string">'1.0'</span><span class="hljs-comment">;</span>

// å­˜å‚¨æ—¶æ·»åŠ ç‰ˆæœ¬ä¿¡æ¯
const <span class="hljs-attr">dataWithVersion</span> = {
  version: DATA_VERSION,
  data: arr,
  timestamp: new Date().getTime()
}<span class="hljs-comment">;</span>
localStorage.setItem('arr', JSON.stringify(dataWithVersion))<span class="hljs-comment">;</span>

// è¯»å–æ—¶æ£€æŸ¥ç‰ˆæœ¬
const <span class="hljs-attr">stored</span> = JSON.parse(localStorage.getItem(<span class="hljs-string">'arr'</span>))<span class="hljs-comment">;</span>
if (stored &amp;&amp; <span class="hljs-attr">stored.version</span> === DATA_VERSION) {
  <span class="hljs-attr">arr</span> = stored.data<span class="hljs-comment">;</span>
} else {
  // ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œæ‰§è¡Œæ•°æ®è¿ç§»æˆ–é‡ç½®
  <span class="hljs-attr">arr</span> = []<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-14">äº”ã€localStorageçš„å±€é™æ€§åŠåº”å¯¹ç­–ç•¥</h2>
<h3 data-id="heading-15">5.1 åŒæºç­–ç•¥é™åˆ¶</h3>
<p>localStorageå—åŒæºç­–ç•¥é™åˆ¶ï¼Œä¸åŒåè®®ã€åŸŸåæˆ–ç«¯å£é—´çš„æ•°æ®æ— æ³•å…±äº«ã€‚åœ¨å¤æ‚çš„å‰ç«¯æ¶æ„ä¸­ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨postMessageè¿›è¡Œè·¨çª—å£é€šä¿¡</li>
<li>é€šè¿‡æœåŠ¡å™¨è¿›è¡Œæ•°æ®åŒæ­¥</li>
<li>ä½¿ç”¨å…±äº«workerå®ç°æ•°æ®å…±äº«</li>
</ul>
<h3 data-id="heading-16">5.2 åŒæ­¥æ“ä½œé˜»å¡</h3>
<p>localStorageçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŒæ­¥çš„ï¼Œå½“å­˜å‚¨å¤§é‡æ•°æ®æ—¶å¯èƒ½ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚å¯¹äºæ€§èƒ½è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ï¼Œå¯ä»¥è€ƒè™‘ï¼š</p>
<ul>
<li>ä½¿ç”¨Web Workersåœ¨åå°çº¿ç¨‹å¤„ç†æ•°æ®</li>
<li>å¯¹äºå¤§é‡æ•°æ®ï¼Œä½¿ç”¨IndexedDBæ›¿ä»£localStorage</li>
<li>å®ç°æ•°æ®åˆ†å—å­˜å‚¨å’Œæ‡’åŠ è½½</li>
</ul>
<h3 data-id="heading-17">5.3 å­˜å‚¨å®‰å…¨æ€§</h3>
<p>localStorageä¸­çš„æ•°æ®ä»¥æ˜æ–‡å½¢å¼å­˜å‚¨ï¼Œä¸é€‚åˆå­˜å‚¨æ•æ„Ÿä¿¡æ¯ã€‚å®‰å…¨æœ€ä½³å®è·µåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç»ä¸å­˜å‚¨å¯†ç ã€ä»¤ç‰Œç­‰æ•æ„Ÿä¿¡æ¯</li>
<li>å¯¹å­˜å‚¨çš„æ•°æ®è¿›è¡ŒåŠ å¯†</li>
<li>å®ç°è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®çš„æœºåˆ¶</li>
</ul>
<h2 data-id="heading-18">ä¸ƒã€æ€»ç»“</h2>
<p>localStorageä½œä¸ºç°ä»£Webå¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„æŒä¹…åŒ–è§£å†³æ–¹æ¡ˆï¼Œåœ¨å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿç­‰å‰ç«¯åº”ç”¨ä¸­å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚é€šè¿‡åˆç†çš„APIä½¿ç”¨ã€é”™è¯¯å¤„ç†å’Œæ•°æ®ç®¡ç†ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºå‡ºç¨³å®šå¯é çš„å‰ç«¯æ•°æ®å­˜å‚¨æ–¹æ¡ˆã€‚</p>
<p>ç„¶è€Œï¼ŒlocalStorageå¹¶éä¸‡èƒ½è§£å†³æ–¹æ¡ˆï¼Œå¼€å‘è€…éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹æ¡ˆã€‚å¯¹äºç®€å•é”®å€¼å¯¹æ•°æ®ï¼ŒlocalStorageæ˜¯ä¸é”™çš„é€‰æ‹©ï¼›å¯¹äºå¤æ‚æŸ¥è¯¢å’Œå¤§é‡æ•°æ®ï¼ŒIndexedDBå¯èƒ½æ›´åˆé€‚ï¼›å¯¹äºä¼šè¯çº§æ•°æ®ï¼ŒsessionStorageæ›´ä¸ºé€‚ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C/C++æ··åˆé¡¹ç›®ä¸­çš„å¤´æ–‡ä»¶ç®¡ç†ï¼š.hä¸.hppçš„åˆ†å·¥ä¸åä½œ]]></title>    <link>https://juejin.cn/post/7572142436128342035</link>    <guid>https://juejin.cn/post/7572142436128342035</guid>    <pubDate>2025-11-14T10:21:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572142436128342035" data-draft-id="7572142436128325651" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C/C++æ··åˆé¡¹ç›®ä¸­çš„å¤´æ–‡ä»¶ç®¡ç†ï¼š.hä¸.hppçš„åˆ†å·¥ä¸åä½œ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T10:21:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="oioihoii"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C/C++æ··åˆé¡¹ç›®ä¸­çš„å¤´æ–‡ä»¶ç®¡ç†ï¼š.hä¸.hppçš„åˆ†å·¥ä¸åä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    oioihoii
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:21:41.000Z" title="Fri Nov 14 2025 10:21:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨C/C++æ··åˆç¼–ç¨‹é¡¹ç›®ä¸­ï¼Œåˆç†çš„æ–‡ä»¶ç»„ç»‡æ–¹å¼æ˜¯é¡¹ç›®æˆåŠŸçš„åŸºç¡€ã€‚å…¶ä¸­ï¼Œå¤´æ–‡ä»¶çš„ç®¡ç†å°¤ä¸ºå…³é”®ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨æ··åˆé¡¹ç›®ä¸­æœ‰æœºåœ°ä½¿ç”¨<code>.h</code>å’Œ<code>..hpp</code>æ‰©å±•åï¼Œå®ç°ä»£ç çš„æ¸…æ™°ç»„ç»‡å’Œé«˜æ•ˆåä½œã€‚</p>
<h2 data-id="heading-0">1. æ–‡ä»¶æ‰©å±•åçš„è¯­ä¹‰åŒºåˆ†</h2>
<h3 data-id="heading-1">1.1 æ‰©å±•åçš„æ˜ç¡®å«ä¹‰</h3>
<ul>
<li><strong>.hæ–‡ä»¶</strong>ï¼šä¼ ç»Ÿå¤´æ–‡ä»¶æ‰©å±•åï¼Œä¸»è¦ç”¨äºCè¯­è¨€å¤´æ–‡ä»¶</li>
<li><strong>.hppæ–‡ä»¶</strong>ï¼šç°ä»£C++å¤´æ–‡ä»¶æ‰©å±•åï¼Œæ˜ç¡®æ ‡è¯†C++ä¸“ç”¨ä»£ç </li>
</ul>
<h3 data-id="heading-2">1.2 ä¸ºä»€ä¹ˆè¦åŒºåˆ†ä½¿ç”¨ï¼Ÿ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// çœ‹åˆ°æ‰©å±•åå°±èƒ½ç«‹å³ç†è§£ä»£ç æ€§è´¨</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"network.h"</span>        <span class="hljs-comment">// å¯èƒ½æ˜¯Cè¯­è¨€ç½‘ç»œåº“</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"thread_pool.hpp"</span>  <span class="hljs-comment">// æ˜ç¡®æ˜¯C++çº¿ç¨‹æ± å®ç°</span></span>
</code></pre>
<p>è¿™ç§åŒºåˆ†è®©å¼€å‘è€…ã€æ„å»ºå·¥å…·å’ŒIDEéƒ½èƒ½å¿«é€Ÿç†è§£æ–‡ä»¶æ€§è´¨ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<h2 data-id="heading-3">2. æ¨èçš„é¡¹ç›®ç»“æ„</h2>
<h3 data-id="heading-4">2.1 åˆ†å±‚ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-r" lang="r">project<span class="hljs-operator">/</span>
â”œâ”€â”€ include<span class="hljs-operator">/</span>
â”‚   â”œâ”€â”€ <span class="hljs-built_in">c</span><span class="hljs-operator">/</span>                 <span class="hljs-comment"># Cè¯­è¨€å¤´æ–‡ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ lib_audio.h
â”‚   â”‚   â”œâ”€â”€ lib_network.h
â”‚   â”‚   â””â”€â”€ lib_crypto.h
â”‚   â””â”€â”€ cpp<span class="hljs-operator">/</span>               <span class="hljs-comment"># C++å¤´æ–‡ä»¶  </span>
â”‚       â”œâ”€â”€ audio_processor.hpp
â”‚       â”œâ”€â”€ network_manager.hpp
â”‚       â””â”€â”€ crypto_wrapper.hpp
â”œâ”€â”€ src<span class="hljs-operator">/</span>
â”‚   â”œâ”€â”€ <span class="hljs-built_in">c</span><span class="hljs-operator">/</span>                 <span class="hljs-comment"># Cæºæ–‡ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ lib_audio.c
â”‚   â”‚   â”œâ”€â”€ lib_network.c
â”‚   â”‚   â””â”€â”€ lib_crypto.c
â”‚   â””â”€â”€ cpp<span class="hljs-operator">/</span>               <span class="hljs-comment"># C++æºæ–‡ä»¶</span>
â”‚       â”œâ”€â”€ main.cpp
â”‚       â”œâ”€â”€ audio_processor.cpp
â”‚       â”œâ”€â”€ network_manager.cpp
â”‚       â””â”€â”€ crypto_wrapper.cpp
â””â”€â”€ CMakeLists.txt
</code></pre>
<h3 data-id="heading-5">2.2 ç»“æ„ä¼˜åŠ¿</h3>
<ul>
<li><strong>ç‰©ç†éš”ç¦»</strong>ï¼šCå’ŒC++ä»£ç ç‰©ç†åˆ†ç¦»ï¼Œé¿å…æ„å¤–æ··åˆ</li>
<li><strong>ç¼–è¯‘å‹å¥½</strong>ï¼šä¾¿äºä¸ºä¸åŒè¯­è¨€è®¾ç½®ä¸åŒçš„ç¼–è¯‘é€‰é¡¹</li>
<li><strong>å›¢é˜Ÿåä½œ</strong>ï¼šä¸åŒä¸“é•¿çš„å¼€å‘è€…å¯ä»¥ä¸“æ³¨å„è‡ªé¢†åŸŸ</li>
</ul>
<h2 data-id="heading-6">3. å…·ä½“å®ç°è§„èŒƒ</h2>
<h3 data-id="heading-7">3.1 Cå¤´æ–‡ä»¶(.h)ç¼–å†™è§„èŒƒ</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// lib_audio.h - Cè¯­è¨€éŸ³é¢‘å¤„ç†åº“</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> LIB_AUDIO_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> LIB_AUDIO_H</span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdint.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdbool.h&gt;</span></span>

<span class="hljs-comment">// ç¡®ä¿C++å…¼å®¹æ€§</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> __cplusplus</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">int</span> sample_rate;
    <span class="hljs-type">int</span> channels;
    <span class="hljs-type">float</span> volume;
} <span class="hljs-type">audio_config_t</span>;

<span class="hljs-comment">// Cé£æ ¼å‡½æ•°å£°æ˜</span>
<span class="hljs-type">audio_config_t</span>* <span class="hljs-title function_">audio_init</span><span class="hljs-params">(<span class="hljs-type">int</span> sample_rate, <span class="hljs-type">int</span> channels)</span>;
<span class="hljs-type">bool</span> <span class="hljs-title function_">audio_process</span><span class="hljs-params">(<span class="hljs-type">audio_config_t</span>* config, <span class="hljs-type">const</span> <span class="hljs-type">int16_t</span>* input, <span class="hljs-type">int16_t</span>* output)</span>;
<span class="hljs-type">void</span> <span class="hljs-title function_">audio_cleanup</span><span class="hljs-params">(<span class="hljs-type">audio_config_t</span>* config)</span>;

<span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> __cplusplus</span>
}
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// LIB_AUDIO_H</span></span>
</code></pre>
<h3 data-id="heading-8">3.2 C++å¤´æ–‡ä»¶(.hpp)ç¼–å†™è§„èŒƒ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// audio_processor.hpp - C++éŸ³é¢‘å¤„ç†å™¨</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> AUDIO_PROCESSOR_HPP</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> AUDIO_PROCESSOR_HPP</span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-comment">// åŒ…å«Cå¤´æ–‡ä»¶</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {
    <span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"lib_audio.h"</span></span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AudioProcessor</span> {
<span class="hljs-keyword">private</span>:
    std::unique_ptr&lt;<span class="hljs-type">audio_config_t</span>, <span class="hljs-keyword">decltype</span>(&amp;audio_cleanup)&gt; config_;
    std::string name_;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">AudioProcessor</span>(<span class="hljs-type">const</span> std::string&amp; name, <span class="hljs-type">int</span> sample_rate, <span class="hljs-type">int</span> channels);
    ~<span class="hljs-built_in">AudioProcessor</span>() = <span class="hljs-keyword">default</span>;
    
    <span class="hljs-comment">// C++ç‰¹æœ‰æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">int16_t</span>&gt;&amp; input, std::vector&lt;<span class="hljs-type">int16_t</span>&gt;&amp; output)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setVolume</span><span class="hljs-params">(<span class="hljs-type">float</span> volume)</span></span>;
    <span class="hljs-function">std::string <span class="hljs-title">getName</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> name_; }
    
    <span class="hljs-comment">// æ¨¡æ¿æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Container&gt;
    <span class="hljs-keyword">auto</span> <span class="hljs-title">processBatch</span><span class="hljs-params">(<span class="hljs-type">const</span> Container&amp; inputs)</span> -&gt; std::vector&lt;std::vector&lt;<span class="hljs-type">int16_t</span>&gt;&gt;</span>;
};

<span class="hljs-comment">// æ¨¡æ¿å®ç°</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Container&gt;
<span class="hljs-keyword">auto</span> <span class="hljs-title">AudioProcessor::processBatch</span><span class="hljs-params">(<span class="hljs-type">const</span> Container&amp; inputs)</span> 
    -&gt; std::vector&lt;std::vector&lt;<span class="hljs-type">int16_t</span>&gt;&gt; 
</span>{
    std::vector&lt;std::vector&lt;<span class="hljs-type">int16_t</span>&gt;&gt; results;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; input : inputs) {
        <span class="hljs-function">std::vector&lt;<span class="hljs-type">int16_t</span>&gt; <span class="hljs-title">output</span><span class="hljs-params">(input.size())</span></span>;
        <span class="hljs-built_in">process</span>(input, output);
        results.<span class="hljs-built_in">push_back</span>(std::<span class="hljs-built_in">move</span>(output));
    }
    <span class="hljs-keyword">return</span> results;
}

<span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// AUDIO_PROCESSOR_HPP</span></span>
</code></pre>
<h2 data-id="heading-9">4. æ··åˆè°ƒç”¨å®è·µ</h2>
<h3 data-id="heading-10">4.1 C++è°ƒç”¨Cå‡½æ•°</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// network_manager.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"network_manager.hpp"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-comment">// åŒ…å«Cç½‘ç»œåº“</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {
    <span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"lib_network.h"</span></span>
}

NetworkManager::<span class="hljs-built_in">NetworkManager</span>(<span class="hljs-type">const</span> std::string&amp; host, <span class="hljs-type">int</span> port) 
    : <span class="hljs-built_in">host_</span>(host), <span class="hljs-built_in">port_</span>(port) 
{
    <span class="hljs-comment">// è°ƒç”¨Cå‡½æ•°è¿›è¡Œåˆå§‹åŒ–</span>
    network_handle_ = <span class="hljs-built_in">network_init</span>(host_.<span class="hljs-built_in">c_str</span>(), port_);
    <span class="hljs-keyword">if</span> (!network_handle_) {
        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"Network initialization failed"</span>);
    }
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">NetworkManager::sendData</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">uint8_t</span>&gt;&amp; data)</span> </span>{
    <span class="hljs-comment">// è°ƒç”¨Cå‡½æ•°å‘é€æ•°æ®</span>
    <span class="hljs-type">int</span> result = <span class="hljs-built_in">network_send</span>(network_handle_, data.<span class="hljs-built_in">data</span>(), data.<span class="hljs-built_in">size</span>());
    <span class="hljs-keyword">if</span> (result &lt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">"Network send failed"</span>);
    }
}
</code></pre>
<h3 data-id="heading-11">4.2 æ„å»ºç³»ç»Ÿé…ç½®</h3>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeLists.txt
cmake_minimum_required(VERSION 3.12)
project(MixedProject LANGUAGES C CXX)

# Cè¯­è¨€ç¼–è¯‘é€‰é¡¹
set(CMAKE_C_STANDARD 11)
set(CMAKE_C_STANDARD_REQUIRED ON)
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Wextra")

# C++ç¼–è¯‘é€‰é¡¹  
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra")

# Cé™æ€åº“
add_library(c_audio STATIC src/c/lib_audio.c)
add_library(c_network STATIC src/c/lib_network.c)

# C++åº“
add_library(cpp_audio src/cpp/audio_processor.cpp)
add_library(cpp_network src/cpp/network_manager.cpp)

# ä¸»ç¨‹åº
add_executable(main_app src/cpp/main.cpp)

# é“¾æ¥ä¾èµ–
target_link_libraries(cpp_audio c_audio)
target_link_libraries(cpp_network c_network)  
target_link_libraries(main_app cpp_audio cpp_network)

# åŒ…å«è·¯å¾„
target_include_directories(c_audio PUBLIC include/c)
target_include_directories(cpp_audio PUBLIC include/cpp)
</code></pre>
<h2 data-id="heading-12">5. æœ€ä½³å®è·µæ€»ç»“</h2>
<h3 data-id="heading-13">5.1 å‘½åçº¦å®š</h3>
<ul>
<li><strong>Cå‡½æ•°</strong>ï¼šä½¿ç”¨<code>æ¨¡å—å‰ç¼€_åŠŸèƒ½å</code>ï¼Œå¦‚<code>audio_init</code>, <code>network_send</code></li>
<li><strong>C++ç±»</strong>ï¼šä½¿ç”¨å¸•æ–¯å¡å‘½åæ³•ï¼Œå¦‚<code>AudioProcessor</code>, <code>NetworkManager</code></li>
<li><strong>æ–‡ä»¶å‘½å</strong>ï¼šä¿æŒä¸€è‡´æ€§ï¼Œå¦‚<code>lib_module.h</code>å’Œ<code>module_manager.hpp</code></li>
</ul>
<h3 data-id="heading-14">5.2 æ¥å£è®¾è®¡åŸåˆ™</h3>
<ol>
<li><strong>Cæ¥å£ä¿æŒç®€å•</strong>ï¼šé¢å‘è¿‡ç¨‹ï¼Œé¿å…å¤æ‚æ•°æ®ç»“æ„</li>
<li><strong>C++åŒ…è£…å™¨æä¾›RAII</strong>ï¼šè‡ªåŠ¨èµ„æºç®¡ç†ï¼Œå¼‚å¸¸å®‰å…¨</li>
<li><strong>é”™è¯¯å¤„ç†åˆ†ç¦»</strong>ï¼šCä½¿ç”¨è¿”å›å€¼ï¼ŒC++ä½¿ç”¨å¼‚å¸¸</li>
<li><strong>å†…å­˜ç®¡ç†æ˜ç¡®</strong>ï¼šCæ‰‹åŠ¨ç®¡ç†ï¼ŒC++ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</li>
</ol>
<h3 data-id="heading-15">5.3 ç¼–è¯‘å’Œé“¾æ¥</h3>
<ul>
<li><strong>åˆ†åˆ«ç¼–è¯‘</strong>ï¼šCå’ŒC++ä»£ç åˆ†å¼€ç¼–è¯‘ï¼Œå†é“¾æ¥</li>
<li><strong>ç¬¦å·å…¼å®¹</strong>ï¼šç¡®ä¿Cå‡½æ•°ä½¿ç”¨<code>extern "C"</code>é¿å…åç§°ä¿®é¥°</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šæ˜ç¡®C++å¯¹Cåº“çš„ä¾èµ–å…³ç³»</li>
</ul>
<h2 data-id="heading-16">6. å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-17">6.1 åµŒå…¥å¼ç³»ç»Ÿ</h3>
<ul>
<li>Cï¼šç¡¬ä»¶é©±åŠ¨ã€åº•å±‚åè®®æ ˆ</li>
<li>C++ï¼šåº”ç”¨é€»è¾‘ã€ç”¨æˆ·ç•Œé¢</li>
</ul>
<h3 data-id="heading-18">6.2 é«˜æ€§èƒ½è®¡ç®—</h3>
<ul>
<li>Cï¼šæ•°å­¦åº“ã€ç®—æ³•å†…æ ¸</li>
<li>C++ï¼šå¹¶è¡Œæ¡†æ¶ã€æ•°æ®ç®¡ç†</li>
</ul>
<h3 data-id="heading-19">6.3 æ¸¸æˆå¼€å‘</h3>
<ul>
<li>Cï¼šå›¾å½¢APIå°è£…ã€ç‰©ç†å¼•æ“</li>
<li>C++ï¼šæ¸¸æˆé€»è¾‘ã€åœºæ™¯ç®¡ç†</li>
</ul>
<h2 data-id="heading-20">ç»“è®º</h2>
<p>åœ¨C/C++æ··åˆé¡¹ç›®ä¸­ä½¿ç”¨<code>.h</code>å’Œ<code>..hpp</code>æ‰©å±•ååŒºåˆ†æ–‡ä»¶ç±»å‹ï¼Œä¸ä»…æ˜¯ä¸€ç§æŠ€æœ¯é€‰æ‹©ï¼Œæ›´æ˜¯ä¸€ç§å·¥ç¨‹å®è·µã€‚è¿™ç§åŒºåˆ†ï¼š</p>
<ol>
<li><strong>æé«˜ä»£ç å¯è¯»æ€§</strong>ï¼šå¼€å‘è€…å¿«é€Ÿç†è§£ä»£ç æ€§è´¨</li>
<li><strong>ä¼˜åŒ–æ„å»ºè¿‡ç¨‹</strong>ï¼šå·¥å…·é“¾å¯ä»¥é’ˆå¯¹ä¸åŒè¯­è¨€ä¼˜åŒ–</li>
<li><strong>ä¾¿äºå›¢é˜Ÿåä½œ</strong>ï¼šæ˜ç¡®åˆ†å·¥ï¼Œå‡å°‘å†²çª</li>
<li><strong>å¢å¼ºå¯ç»´æŠ¤æ€§</strong>ï¼šæ¸…æ™°çš„æ¶æ„ä¾¿äºåç»­ç»´æŠ¤</li>
</ol>
<p>é€šè¿‡åˆç†çš„é¡¹ç›®ç»“æ„å’Œè§„èŒƒçš„ç¼–ç å®è·µï¼Œæˆ‘ä»¬å¯ä»¥å……åˆ†å‘æŒ¥Cçš„é«˜æ•ˆå’ŒC++çš„æŠ½è±¡ä¼˜åŠ¿ï¼Œæ„å»ºå‡ºæ—¢é«˜æ€§èƒ½åˆæ˜“äºç»´æŠ¤çš„æ··åˆè¯­è¨€é¡¹ç›®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ä¼˜é›…çš„æ¶ˆé™¤â€œif...else...â€]]></title>    <link>https://juejin.cn/post/7572362484659683379</link>    <guid>https://juejin.cn/post/7572362484659683379</guid>    <pubDate>2025-11-14T10:20:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572362484659683379" data-draft-id="7572389069706264586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä¼˜é›…çš„æ¶ˆé™¤â€œif...else...â€"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-14T10:20:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Mh"/> <meta itemprop="url" content="https://juejin.cn/user/712139267641950"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä¼˜é›…çš„æ¶ˆé™¤â€œif...else...â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139267641950/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Mh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:20:38.000Z" title="Fri Nov 14 2025 10:20:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#2c3e50;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;font-weight:600;margin-top:35px;margin-bottom:8px;padding-bottom:5px}.markdown-body h1 :before,.markdown-body h2 :before,.markdown-body h3 :before,.markdown-body h4 :before,.markdown-body h5 :before,.markdown-body h6 :before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:8px;margin-top:50px;font-size:24px;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #eaecef;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;font-weight:400;background-color:rgba(27,31,35,.05);color:#476582;margin:0;font-size:.85em;border-radius:3px;font-size:.87em;padding:.165em .5em}.markdown-body code,.markdown-body pre{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.6;padding:20px 24px;background-color:#282c34;border-radius:6px}.markdown-body pre&gt;code{font-size:14px;padding:0;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff}.markdown-body a{text-decoration:none;color:#3eaf7c;font-weight:500}.markdown-body a:active,.markdown-body a:hover{color:#42b983;border-bottom:1px solid #42b983}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;margin:16px 0;border-collapse:collapse}.markdown-body thead{background:#f6f6f6;background:#3eaf7c;color:#000;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f6f8fa}.markdown-body td,.markdown-body th{border:1px solid #dfe2e5;padding:10px 16px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{font-size:14px;padding:6px 23px;margin:22px 0;border-left:6px solid #42b983;background-color:#f3f5f7;font-weight:400}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body p,.markdown-body ul{line-height:1.7}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="base16/tomorrow-night">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ JavaScript å¼€å‘ä¸­ï¼Œif-else è¯­å¥æ˜¯æˆ‘ä»¬å¤„ç†æ¡ä»¶é€»è¾‘æ—¶æœ€å¸¸ç”¨çš„å·¥å…·ä¹‹ä¸€ã€‚ä½†éšç€ä¸šåŠ¡å¤æ‚åº¦æå‡ï¼Œä»£ç ä¸­å¾€å¾€ä¼šå‡ºç°å¤§é‡åµŒå¥—çš„ if-elseï¼Œå½¢æˆ "if-else åœ°ç‹±"ï¼Œä¸ä»…é™ä½ä»£ç å¯è¯»æ€§ï¼Œè¿˜ä¼šå¢åŠ ç»´æŠ¤æˆæœ¬ã€‚æœ¬æ–‡å°†ä»‹ç»å‡ ç§åœ¨ JavaScript ä¸­ä¼˜é›…æ¶ˆé™¤ if-else çš„æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´ç®€æ´ã€å¯ç»´æŠ¤çš„ä»£ç ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ›¿ä»£ç®€å•æ¡ä»¶åˆ¤æ–­</h3>
<p>ç¬¬ä¸€ç§ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ˜ å°„ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸è§çš„ä¸€ç§å†™æ³•ï¼Œåœ¨å¯¹è±¡å­—é¢é‡ä¸­æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯è¿”å›å›ºå®šçš„å€¼ï¼Œç¬¬äºŒç§æ˜¯æ‰§è¡Œä¸åŒçš„å‡½æ•°ã€‚</p>
<p><strong>1. è¿”å›å›ºå®šçš„å€¼</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¹è¿›å‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getStatusText</span>(<span class="hljs-params">status</span>) {
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'pending'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å¾…å¤„ç†'</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'success'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'æˆåŠŸ'</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'fail'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å¤±è´¥'</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">'æœªçŸ¥çŠ¶æ€'</span>
}

<span class="hljs-comment">// æ”¹è¿›å</span>
<span class="hljs-keyword">let</span> statusMap = {
  <span class="hljs-attr">pending</span>: <span class="hljs-string">'å¾…å¤„ç†'</span>,
  <span class="hljs-attr">success</span>: <span class="hljs-string">'æˆåŠŸ'</span>,
  <span class="hljs-attr">fail</span>: <span class="hljs-string">'å¤±è´¥'</span>,
  <span class="hljs-attr">default</span>: <span class="hljs-string">'æœªçŸ¥çŠ¶æ€'</span>,
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getStatusText</span>(<span class="hljs-params">status</span>) {
  <span class="hljs-keyword">return</span> statusMap[status] || statusMap.<span class="hljs-property">default</span>
}
</code></pre>
<p><strong>2. æ‰§è¡Œä¸åŒçš„å‡½æ•°</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¹è¿›å‰ï¼šæ ¹æ®æ“ä½œç±»å‹æ‰§è¡Œä¸åŒé€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleAction</span>(<span class="hljs-params">action, data</span>) {
  <span class="hljs-keyword">if</span> (action === <span class="hljs-string">'add'</span>) {
    <span class="hljs-keyword">return</span> data.<span class="hljs-property">a</span> + data.<span class="hljs-property">b</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (action === <span class="hljs-string">'subtract'</span>) {
    <span class="hljs-keyword">return</span> data.<span class="hljs-property">a</span> - data.<span class="hljs-property">b</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (action === <span class="hljs-string">'multiply'</span>) {
    <span class="hljs-keyword">return</span> data.<span class="hljs-property">a</span> * data.<span class="hljs-property">b</span>
  }
}

<span class="hljs-comment">// æ”¹è¿›åï¼šå‡½æ•°æ˜ å°„</span>
<span class="hljs-keyword">let</span> actionHandlers = {
  <span class="hljs-attr">add</span>: <span class="hljs-function">() =&gt;</span> data.<span class="hljs-property">a</span> + data.<span class="hljs-property">b</span>,
  <span class="hljs-attr">subtract</span>: <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> data.<span class="hljs-property">a</span> - data.<span class="hljs-property">b</span>,
  <span class="hljs-attr">multiply</span>: <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> data.<span class="hljs-property">a</span> * data.<span class="hljs-property">b</span>,
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleAction</span>(<span class="hljs-params">action, data</span>) {
  <span class="hljs-keyword">const</span> handler = actionHandlers[action]
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">handler</span>(data)
}
</code></pre>
<h3 data-id="heading-2">äºŒã€æ•°ç»„æ–¹æ³•ç®€åŒ–å¤šæ¡ä»¶åˆ¤æ–­</h3>
<p>å½“éœ€è¦åŒ¹é…å¤šä¸ªæ¡ä»¶ä¸­çš„ä¸€ä¸ªæ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„çš„find()ã€some()ã€includes()ç­‰æ–¹æ³•æ¥ç®€åŒ–ä»£ç ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¹è¿›å‰ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæœ‰æ•ˆç”¨æˆ·çŠ¶æ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isActive</span>(<span class="hljs-params">status</span>) {
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'online'</span> || status === <span class="hljs-string">'idle'</span> || status === <span class="hljs-string">'busy'</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}

<span class="hljs-comment">// æ”¹è¿›åï¼šæ•°ç»„includes</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isActive</span>(<span class="hljs-params">status</span>) {
  <span class="hljs-keyword">return</span> [<span class="hljs-string">'online'</span>, <span class="hljs-string">'idle'</span>, <span class="hljs-string">'busy'</span>].<span class="hljs-title function_">includes</span>(status)
}
</code></pre>
<h3 data-id="heading-3">ä¸‰ã€æå‰è¿”å›ï¼ˆå‡å°‘åµŒå¥—ï¼‰</h3>
<p>å°†å¤šå±‚ if-else æ‹†åˆ†ä¸º â€œæå‰è¿”å›â€ï¼Œæ‰å¹³åŒ–ä»£ç ç»“æ„ï¼Œé¿å…åµŒå¥—åœ°ç‹±ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¹è¿›å‰ï¼šå¤šå±‚åµŒå¥—</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">if</span> (data) {
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">id</span>) {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data.<span class="hljs-property">id</span> === <span class="hljs-string">'number'</span>) {
        <span class="hljs-keyword">return</span> data.<span class="hljs-property">id</span> * <span class="hljs-number">2</span>
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'idå¿…é¡»æ˜¯æ•°å­—'</span>)
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ç¼ºå°‘id'</span>)
    }
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ•°æ®ä¸èƒ½ä¸ºç©º'</span>)
  }
}

<span class="hljs-comment">// æ”¹è¿›å: æå‰è¿”å›</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">if</span> (!data) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ•°æ®ä¸èƒ½ä¸ºç©º'</span>)
  <span class="hljs-keyword">if</span> (!data.<span class="hljs-property">id</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ç¼ºå°‘id'</span>)
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> data.<span class="hljs-property">id</span> !== <span class="hljs-string">'number'</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'idå¿…é¡»æ˜¯æ•°å­—'</span>)
  <span class="hljs-keyword">return</span> data.<span class="hljs-property">id</span> * <span class="hljs-number">2</span>
}
</code></pre>
<h3 data-id="heading-4">å››ã€é€»è¾‘è¿ç®—ç¬¦ï¼ˆç®€å•æ¡ä»¶ï¼‰</h3>
<p>ç”¨ &amp;&amp; æˆ– || ç®€åŒ–ç®€å•çš„æ¡ä»¶æ‰§è¡Œé€»è¾‘ï¼Œé€‚åˆå•è¡Œä»£ç åœºæ™¯ã€‚</p>
<p><strong>1. &amp;&amp;</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¹è¿›å‰ï¼šæ¡ä»¶æ‰§è¡Œ</span>
<span class="hljs-keyword">if</span> (user &amp;&amp; user.<span class="hljs-property">isAdmin</span>) {
  <span class="hljs-title function_">showAdminPanel</span>()
}

<span class="hljs-comment">// æ”¹è¿›åï¼š&amp;&amp;</span>
user &amp;&amp; user.<span class="hljs-property">isAdmin</span> &amp;&amp; <span class="hljs-title function_">showAdminPanel</span>()
</code></pre>
<p><strong>2. å¯é€‰é“¾</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¹è¿›å‰ï¼šé»˜è®¤å€¼</span>
<span class="hljs-keyword">let</span> name
<span class="hljs-keyword">if</span> (user &amp;&amp; user.<span class="hljs-property">name</span>) {
  name = user.<span class="hljs-property">name</span>
} <span class="hljs-keyword">else</span> {
  name = <span class="hljs-string">'è®¿å®¢'</span>
}

<span class="hljs-comment">// æ”¹è¿›åï¼šå¯é€‰é“¾</span>
<span class="hljs-keyword">let</span> name = user?.<span class="hljs-property">name</span> || <span class="hljs-string">'è®¿å®¢'</span>
</code></pre>
<h3 data-id="heading-5">äº”ã€æ¡ä»¶åˆ¤æ–­ä¸å¯¹è±¡å±æ€§å¼ºå…³è”</h3>
<p>å…¸å‹åœºæ™¯ï¼šæ ¹æ®ä¸åŒç±»å‹çš„é…ç½®ï¼ˆå¦‚ â€œç”¨æˆ·é…ç½®â€ â€œå•†å“é…ç½®â€ï¼‰ï¼Œä»å¯¹è±¡ä¸­æå–ä¸åŒå­—æ®µå¹¶å¤„ç†ã€‚</p>
<p><strong>1. ä½¿ç”¨å¯¹è±¡æ˜ å°„æ›¿ä»£æ¡ä»¶åˆ¤æ–­ï¼ˆæ¨èï¼‰</strong>
é€šè¿‡å»ºç«‹ type ä¸å¤„ç†é€»è¾‘çš„æ˜ å°„å…³ç³»ï¼Œæ¶ˆé™¤ if-else åˆ†æ”¯ï¼Œä½¿ä»£ç æ›´æ¸…æ™°ï¼Œæ–°å¢ç±»å‹æ—¶åªéœ€æ‰©å±•æ˜ å°„è¡¨å³å¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¼˜åŒ–å‰ï¼šæ ¹æ®ç±»å‹æå–å­—æ®µ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getConfigInfo</span>(<span class="hljs-params">config, type</span>) {
  <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'user'</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: config.<span class="hljs-property">userName</span>, <span class="hljs-attr">age</span>: config.<span class="hljs-property">userAge</span> }
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'product'</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: config.<span class="hljs-property">productName</span>, <span class="hljs-attr">price</span>: config.<span class="hljs-property">productPrice</span> }
  }
}

<span class="hljs-comment">// ä¼˜åŒ–åï¼šå®šä¹‰ç±»å‹ä¸å¤„ç†å‡½æ•°çš„æ˜ å°„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getConfigInfo</span>(<span class="hljs-params">config, type</span>) {
  <span class="hljs-keyword">const</span> typeMap = {
    <span class="hljs-attr">user</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">name</span>: config.<span class="hljs-property">userName</span>, <span class="hljs-attr">age</span>: config.<span class="hljs-property">userAge</span> }),
    <span class="hljs-attr">product</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">name</span>: config.<span class="hljs-property">productName</span>, <span class="hljs-attr">price</span>: config.<span class="hljs-property">productPrice</span> }),
  }
  <span class="hljs-comment">// æ‰§è¡Œå¯¹åº”ç±»å‹çš„å¤„ç†å‡½æ•°ï¼Œé»˜è®¤è¿”å›ç©ºå¯¹è±¡æˆ–æŠ›å‡ºé”™è¯¯</span>
  <span class="hljs-keyword">return</span> typeMap[type] ? typeMap[type]() : {}
}
</code></pre>
<h3 data-id="heading-6">å…­ã€çŠ¶æ€æœº</h3>
<p>æˆ‘ä»¬ç”¨ â€œè®¢å•çŠ¶æ€æµè½¬â€ è¿™ä¸ªåœºæ™¯æ¥å¯¹æ¯”ï¼šå…ˆçœ‹ç”¨å¤§é‡ if-else å®ç°çš„å†™æ³•ï¼Œå†å¯¹åº”åˆ°çŠ¶æ€æœºçš„ä¼˜åŒ–æ€è·¯ï¼Œå°±èƒ½æ˜æ˜¾çœ‹å‡ºå·®å¼‚äº†ã€‚</p>
<p><strong>åœºæ™¯è¯´æ˜</strong>
å‡è®¾è®¢å•æœ‰ä»¥ä¸‹çŠ¶æ€å’Œå¯æ‰§è¡Œçš„æ“ä½œï¼š</p>
<ul>
<li>çŠ¶æ€ï¼špendingï¼ˆå¾…æ”¯ä»˜ï¼‰ã€paidï¼ˆå·²æ”¯ä»˜ï¼‰ã€shippedï¼ˆå·²å‘è´§ï¼‰ã€completedï¼ˆå·²å®Œæˆï¼‰ã€cancelledï¼ˆå·²å–æ¶ˆï¼‰</li>
<li>æ“ä½œï¼špayï¼ˆæ”¯ä»˜ï¼‰ã€cancelï¼ˆå–æ¶ˆï¼‰ã€shipï¼ˆå‘è´§ï¼‰ã€confirmï¼ˆç¡®è®¤æ”¶è´§ï¼‰</li>
</ul>
<p>è§„åˆ™ï¼š</p>
<ul>
<li>å¾…æ”¯ä»˜ï¼ˆpendingï¼‰â†’ å¯æ‰§è¡Œæ”¯ä»˜ï¼ˆpayï¼‰â†’ å˜ä¸ºå·²æ”¯ä»˜ï¼ˆpaidï¼‰ï¼›å¯æ‰§è¡Œå–æ¶ˆï¼ˆcancelï¼‰â†’ å˜ä¸ºå·²å–æ¶ˆï¼ˆcancelledï¼‰</li>
<li>å·²æ”¯ä»˜ï¼ˆpaidï¼‰â†’ å¯æ‰§è¡Œå‘è´§ï¼ˆshipï¼‰â†’ å˜ä¸ºå·²å‘è´§ï¼ˆshippedï¼‰</li>
<li>å·²å‘è´§ï¼ˆshippedï¼‰â†’ å¯æ‰§è¡Œç¡®è®¤æ”¶è´§ï¼ˆconfirmï¼‰â†’ å˜ä¸ºå·²å®Œæˆï¼ˆcompletedï¼‰</li>
<li>å·²å–æ¶ˆ / å·²å®Œæˆ â†’ ä¸èƒ½æ‰§è¡Œä»»ä½•æ“ä½œ</li>
</ul>
<p><strong>1. ç”¨ if-else å¤„ç†çŠ¶æ€æµè½¬</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleOrderEvent</span>(<span class="hljs-params">currentState, event</span>) {
  <span class="hljs-comment">// å½“å‰çŠ¶æ€æ˜¯ pendingï¼ˆå¾…æ”¯ä»˜ï¼‰</span>
  <span class="hljs-keyword">if</span> (currentState === <span class="hljs-string">'pending'</span>) {
    <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'pay'</span>) {
      <span class="hljs-comment">// æ”¯ä»˜æ“ä½œï¼šçŠ¶æ€å˜ä¸º paidï¼Œæ‰§è¡Œæ”¯ä»˜æˆåŠŸé€»è¾‘</span>
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'paid'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'æ”¯ä»˜æˆåŠŸï¼Œè®¢å•å·²ç¡®è®¤'</span> }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'cancel'</span>) {
      <span class="hljs-comment">// å–æ¶ˆæ“ä½œï¼šçŠ¶æ€å˜ä¸º cancelledï¼Œæ‰§è¡Œå–æ¶ˆé€»è¾‘</span>
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'cancelled'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'è®¢å•å·²å–æ¶ˆï¼Œå°†ä¸ºæ‚¨é€€æ¬¾'</span> }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ— æ•ˆæ“ä½œï¼ˆæ¯”å¦‚ pending çŠ¶æ€ä¸‹æ‰§è¡Œ shipï¼‰</span>
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">`å¾…æ”¯ä»˜çŠ¶æ€ä¸èƒ½æ‰§è¡Œ <span class="hljs-subst">${event}</span> æ“ä½œ`</span> }
    }
  }

  <span class="hljs-comment">// å½“å‰çŠ¶æ€æ˜¯ paidï¼ˆå·²æ”¯ä»˜ï¼‰</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (currentState === <span class="hljs-string">'paid'</span>) {
    <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'ship'</span>) {
      <span class="hljs-comment">// å‘è´§æ“ä½œï¼šçŠ¶æ€å˜ä¸º shippedï¼Œæ‰§è¡Œå‘è´§é€»è¾‘</span>
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'shipped'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'è®¢å•å·²å‘è´§ï¼Œè¯·æ³¨æ„æŸ¥æ”¶'</span> }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">`å·²æ”¯ä»˜çŠ¶æ€ä¸èƒ½æ‰§è¡Œ <span class="hljs-subst">${event}</span> æ“ä½œ`</span> }
    }
  }

  <span class="hljs-comment">// å½“å‰çŠ¶æ€æ˜¯ shippedï¼ˆå·²å‘è´§ï¼‰</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (currentState === <span class="hljs-string">'shipped'</span>) {
    <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'confirm'</span>) {
      <span class="hljs-comment">// ç¡®è®¤æ”¶è´§ï¼šçŠ¶æ€å˜ä¸º completedï¼Œæ‰§è¡Œå®Œæˆé€»è¾‘</span>
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'completed'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'è®¢å•å·²å®Œæˆï¼Œæ„Ÿè°¢æ‚¨çš„è´­ä¹°'</span> }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">`å·²å‘è´§çŠ¶æ€ä¸èƒ½æ‰§è¡Œ <span class="hljs-subst">${event}</span> æ“ä½œ`</span> }
    }
  }

  <span class="hljs-comment">// å½“å‰çŠ¶æ€æ˜¯ cancelled æˆ– completedï¼ˆå·²å–æ¶ˆ/å·²å®Œæˆï¼‰</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (currentState === <span class="hljs-string">'cancelled'</span> || currentState === <span class="hljs-string">'completed'</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">`ã€<span class="hljs-subst">${currentState}</span>ã€‘çŠ¶æ€ä¸èƒ½æ‰§è¡Œä»»ä½•æ“ä½œ`</span> }
  }

  <span class="hljs-comment">// æœªçŸ¥çŠ¶æ€</span>
  <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">'æœªçŸ¥è®¢å•çŠ¶æ€'</span> }
  }
}
</code></pre>
<p><strong>é—®é¢˜åˆ†æï¼ˆä¸ºä»€ä¹ˆ if-else ä¸å¥½ï¼‰</strong></p>
<ul>
<li>åµŒå¥—æ·±ã€å¯è¯»æ€§å·®ï¼šæ¯ä¸ªçŠ¶æ€ä¸‹çš„æ“ä½œéƒ½è¦åµŒå¥—ä¸€å±‚ if-elseï¼ŒçŠ¶æ€è¶Šå¤šï¼Œä»£ç è¶Šè‡ƒè‚¿ã€‚</li>
<li>æ‰©å±•æ€§å·®ï¼šå¦‚æœæ–°å¢çŠ¶æ€ï¼ˆå¦‚ â€œé€€æ¬¾ä¸­â€ï¼‰æˆ–æ–°å¢æ“ä½œï¼ˆå¦‚ â€œç”³è¯·é€€æ¬¾â€ï¼‰ï¼Œéœ€è¦ä¿®æ”¹å‡½æ•°å†…éƒ¨é€»è¾‘ï¼Œè¿å â€œå¼€é—­åŸåˆ™â€ã€‚</li>
<li>å®¹æ˜“æ¼åˆ¤ï¼šæ¯”å¦‚æ–°å¢ä¸€ä¸ªçŠ¶æ€åï¼Œå¯èƒ½å¿˜è®°åœ¨æœ€åçš„ else ä¸­å¤„ç†ï¼Œå¯¼è‡´é€»è¾‘æ¼æ´ã€‚</li>
</ul>
<p><strong>2. ç”¨çŠ¶æ€æœºä¼˜åŒ–åçš„ä»£ç ï¼ˆå¯¹åº”å‰é¢çš„ç¤ºä¾‹ï¼‰</strong> çŠ¶æ€æœºçš„æ ¸å¿ƒæ˜¯æŠŠ â€œçŠ¶æ€ - æ“ä½œ - ç»“æœâ€ çš„è§„åˆ™ç”¨é…ç½®è¡¨å®šä¹‰ï¼Œè€Œéç¡¬ç¼–ç åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// çŠ¶æ€æœºé…ç½®è¡¨ï¼šå½“å‰çŠ¶æ€ â†’ æ“ä½œ â†’ ç»“æœï¼ˆä¸‹ä¸€ä¸ªçŠ¶æ€ + æ¶ˆæ¯ï¼‰</span>
<span class="hljs-keyword">const</span> stateMachine = {
  <span class="hljs-attr">pending</span>: {
    <span class="hljs-attr">pay</span>: { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'paid'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'æ”¯ä»˜æˆåŠŸï¼Œè®¢å•å·²ç¡®è®¤'</span> },
    <span class="hljs-attr">cancel</span>: { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'cancelled'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'è®¢å•å·²å–æ¶ˆï¼Œå°†ä¸ºæ‚¨é€€æ¬¾'</span> },
  },
  <span class="hljs-attr">paid</span>: {
    <span class="hljs-attr">ship</span>: { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'shipped'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'è®¢å•å·²å‘è´§ï¼Œè¯·æ³¨æ„æŸ¥æ”¶'</span> },
  },
  <span class="hljs-attr">shipped</span>: {
    <span class="hljs-attr">confirm</span>: { <span class="hljs-attr">nextState</span>: <span class="hljs-string">'completed'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'è®¢å•å·²å®Œæˆï¼Œæ„Ÿè°¢æ‚¨çš„è´­ä¹°'</span> },
  },
  <span class="hljs-attr">cancelled</span>: {}, <span class="hljs-comment">// æ— å¯ç”¨æ“ä½œ</span>
  <span class="hljs-attr">completed</span>: {}, <span class="hljs-comment">// æ— å¯ç”¨æ“ä½œ</span>
}

<span class="hljs-comment">// å¤„ç†å‡½æ•°ï¼šç›´æ¥ä»é…ç½®è¡¨ä¸­æŸ¥æ‰¾ï¼Œæ— éœ€ if-else</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleOrderEvent</span>(<span class="hljs-params">currentState, event</span>) {
  <span class="hljs-comment">// æŸ¥æ‰¾å½“å‰çŠ¶æ€ä¸‹çš„æ“ä½œé…ç½®</span>
  <span class="hljs-keyword">const</span> transition = stateMachine[currentState]?.[event]
  <span class="hljs-keyword">if</span> (transition) {
    <span class="hljs-keyword">return</span> transition <span class="hljs-comment">// åŒ¹é…åˆ°åˆ™è¿”å›ç»“æœ</span>
  }
  <span class="hljs-comment">// æœªåŒ¹é…åˆ°ï¼ˆæ— æ•ˆçŠ¶æ€æˆ–æ— æ•ˆæ“ä½œï¼‰</span>
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">`ã€<span class="hljs-subst">${currentState}</span>ã€‘çŠ¶æ€ä¸èƒ½æ‰§è¡Œ <span class="hljs-subst">${event}</span> æ“ä½œ`</span> }
}
</code></pre>
<p><strong>å¯¹æ¯”</strong></p>
<ul>
<li>if-else å†™æ³•ï¼šé€»è¾‘åˆ†æ•£åœ¨å¤šä¸ªæ¡ä»¶åˆ¤æ–­ä¸­ï¼Œæ–°å¢çŠ¶æ€ / æ“ä½œéœ€è¦ä¿®æ”¹å‡½æ•°å†…éƒ¨ã€‚</li>
<li>çŠ¶æ€æœºå†™æ³•ï¼šé€»è¾‘é›†ä¸­åœ¨é…ç½®è¡¨ä¸­ï¼Œæ–°å¢çŠ¶æ€ / æ“ä½œåªéœ€æ‰©å±•é…ç½®è¡¨ï¼Œå‡½æ•°æ— éœ€ä¿®æ”¹ï¼Œæ›´ç¬¦åˆ â€œé«˜å†…èšä½è€¦åˆâ€ã€‚
å½“ä¸šåŠ¡ä¸­å­˜åœ¨æ˜ç¡®çš„çŠ¶æ€æµè½¬è§„åˆ™ï¼ˆå¦‚è®¢å•ã€æµç¨‹å®¡æ‰¹ã€æ¸¸æˆè§’è‰²çŠ¶æ€ç­‰ï¼‰ï¼ŒçŠ¶æ€æœºæ¨¡å¼èƒ½æå¤§ç®€åŒ–ä»£ç ï¼Œé¿å…å†—é•¿çš„ if-else åµŒå¥—ã€‚</li>
</ul>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p>æ¶ˆé™¤ if-else çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†æ¡ä»¶åˆ¤æ–­è½¬æ¢ä¸ºæ›´ç»“æ„åŒ–ã€æ›´å…·å¯è¯»æ€§çš„ä»£ç ã€‚æ ¹æ®ä¸åŒçš„åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å¯¹è±¡å­—é¢é‡ã€æ•°ç»„æ–¹æ³•ã€é€»è¾‘è¿ç®—ç¬¦ç­‰ä¸åŒæ–¹æ¡ˆã€‚</p>
<p>è®°ä½ï¼Œä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æ˜¯æˆ‘ä»¬è¿½æ±‚çš„ç›®æ ‡ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ¶ˆé™¤ if-else è€Œæ¶ˆé™¤ã€‚é€‰æ‹©æœ€é€‚åˆå½“å‰åœºæ™¯çš„æ–¹æ¡ˆï¼Œæ‰èƒ½å†™å‡ºçœŸæ­£ä¼˜é›…çš„ä»£ç ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡ä»‹ç»çš„è¿™äº›æŠ€å·§èƒ½å¸®åŠ©ä½ åœ¨ JavaScript é¡¹ç›®ä¸­æ›´å¥½åœ°å¤„ç†æ¡ä»¶é€»è¾‘ï¼Œå†™å‡ºæ›´ç®€æ´ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€HarmonyOS 6ã€‘SpeechKitä¸­çš„æœ—è¯»æ§ä»¶ï¼Œåˆå§‹åŒ–å‰ä¸è¿›è¡Œçª—å£èˆå°çš„è®¾ç½®ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä¸æ–‡æ¡£æè¿°ä¸ç¬¦ã€‚]]></title>    <link>https://juejin.cn/post/7572389069706280970</link>    <guid>https://juejin.cn/post/7572389069706280970</guid>    <pubDate>2025-11-14T10:21:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572389069706280970" data-draft-id="7572387877138841610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€HarmonyOS 6ã€‘SpeechKitä¸­çš„æœ—è¯»æ§ä»¶ï¼Œåˆå§‹åŒ–å‰ä¸è¿›è¡Œçª—å£èˆå°çš„è®¾ç½®ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä¸æ–‡æ¡£æè¿°ä¸ç¬¦ã€‚"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-14T10:21:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GeorgePanda"/> <meta itemprop="url" content="https://juejin.cn/user/1239904847930654"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€HarmonyOS 6ã€‘SpeechKitä¸­çš„æœ—è¯»æ§ä»¶ï¼Œåˆå§‹åŒ–å‰ä¸è¿›è¡Œçª—å£èˆå°çš„è®¾ç½®ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä¸æ–‡æ¡£æè¿°ä¸ç¬¦ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904847930654/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GeorgePanda
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:21:40.000Z" title="Fri Nov 14 2025 10:21:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€HarmonyOS 6ã€‘SpeechKitä¸­çš„æœ—è¯»æ§ä»¶ï¼Œåˆå§‹åŒ–å‰ä¸è¿›è¡Œçª—å£èˆå°çš„è®¾ç½®ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä¸æ–‡æ¡£æè¿°ä¸ç¬¦ã€‚</h2>
<h2 data-id="heading-1">ä¸€ã€å‰è¨€</h2>
<p>è¯¥æ–‡ä¸ºå®˜æ–¹æ–‡æ¡£bugä¿¡æ¯åŒæ­¥å¸–ï¼Œç»“å°¾æœ‰bugå®˜æ–¹å›å¤ã€‚ä¾¿äºå¤§å®¶ä¿¡æ¯åŒæ­¥ã€‚</p>
<p>å‰æ®µæ—¶é—´åº”ç”¨å‡çº§åˆ°HarmonyOS 6ï¼Œç³»ç»Ÿæä¾›äº†å¾ˆå¤šé…·ç‚«çš„APIå’ŒåŠŸèƒ½Kitã€‚å¯¹äºAIèµ‹èƒ½æœ—è¯»æ§ä»¶ï¼Œæˆ‘ä»¬åœ¨é›†æˆåå‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œç”±æ­¤äº§ç”Ÿäº†ä¸‹é¢çš„é—®é¢˜èƒŒæ™¯ã€‚</p>
<h2 data-id="heading-2">äºŒã€é—®é¢˜èƒŒæ™¯</h2>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®˜æ–¹æ–‡æ¡£ä¸­å¼ºè°ƒï¼Œæœ—è¯»æ§ä»¶éœ€è¦åœ¨initå‰ï¼Œåœ¨EntryAbilityä¸­è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">    <span class="hljs-title class_">WindowManager</span>.<span class="hljs-title function_">setWindowStage</span>(windowStage);
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/700c10a37aae4548b7cb42620d19f20c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2VvcmdlUGFuZGE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720500&amp;x-signature=708HxkPNwFej%2FGL35g3qeC73Pz8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
ä½†å®é™…ä¸Šï¼Œä¸è¿›è¡Œè¯¥æ“ä½œï¼Œç›´æ¥è°ƒç”¨initåˆå§‹åŒ–æœ—è¯»æ§ä»¶ï¼Œä¸ä¼šæŠ¥é”™ï¼Œå¯å°†ä»¥ä¸‹DEMOæºç ï¼Œå¯ç›´æ¥æ–°å»ºå·¥ç¨‹åï¼Œè´´åˆ°index.etsç±»ä¸­ï¼Œå¯è‡ªåŠ¨ç­¾ååï¼Œå¯åŠ¨æŸ¥çœ‹æ•ˆæœã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¯¼å…¥è¯­éŸ³æœ—è¯»ç›¸å…³çš„ç»„ä»¶å’Œç±»å‹</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TextReader</span>, <span class="hljs-title class_">TextReaderIcon</span>, <span class="hljs-title class_">ReadStateCode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.SpeechKit'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {

  <span class="hljs-comment">/**
   * å¾…åŠ è½½çš„æ–‡ç« åˆ—è¡¨
   */</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">readInfoList</span>: <span class="hljs-title class_">TextReader</span>.<span class="hljs-property">ReadInfo</span>[] = [];

  <span class="hljs-comment">/**
   * å½“å‰é€‰ä¸­çš„æ–‡ç« 
   */</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectedReadInfo</span>: <span class="hljs-title class_">TextReader</span>.<span class="hljs-property">ReadInfo</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">readInfoList</span>[<span class="hljs-number">0</span>];

  <span class="hljs-comment">/**
   * æœ—è¯»çŠ¶æ€
   */</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">readState</span>: <span class="hljs-title class_">ReadStateCode</span> = <span class="hljs-title class_">ReadStateCode</span>.<span class="hljs-property">WAITING</span>;

  <span class="hljs-comment">/**
   * åˆå§‹åŒ–çŠ¶æ€æ ‡è®°
   */</span>
  <span class="hljs-meta">@State</span> <span class="hljs-attr">isInit</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;

  <span class="hljs-comment">// ç»„ä»¶å³å°†æ˜¾ç¤ºæ—¶è§¦å‘</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"/>){
    <span class="hljs-comment">/**
     * æ¨¡æ‹ŸåŠ è½½æ–‡ç« æ•°æ®
     */</span>
    <span class="hljs-keyword">let</span> <span class="hljs-attr">readInfoList</span>: <span class="hljs-title class_">TextReader</span>.<span class="hljs-property">ReadInfo</span>[] = [{
      <span class="hljs-attr">id</span>: <span class="hljs-string">'001'</span>,
      <span class="hljs-attr">title</span>: {
        <span class="hljs-attr">text</span>:<span class="hljs-string">'æ°´è°ƒæ­Œå¤´.æ˜æœˆå‡ æ—¶æœ‰'</span>,
        <span class="hljs-attr">isClickable</span>:<span class="hljs-literal">true</span>
      },
      <span class="hljs-attr">author</span>:{
        <span class="hljs-attr">text</span>:<span class="hljs-string">'å®‹.è‹è½¼'</span>,
        <span class="hljs-attr">isClickable</span>:<span class="hljs-literal">true</span>
      },
      <span class="hljs-attr">date</span>: {
        <span class="hljs-attr">text</span>:<span class="hljs-string">'2024/01/01'</span>,
        <span class="hljs-attr">isClickable</span>:<span class="hljs-literal">false</span>
      },
      <span class="hljs-attr">bodyInfo</span>: <span class="hljs-string">'æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ'</span>
    }];

    <span class="hljs-comment">// æ›´æ–°çŠ¶æ€å˜é‡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">readInfoList</span> = readInfoList;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedReadInfo</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">readInfoList</span>[<span class="hljs-number">0</span>];

    <span class="hljs-comment">// åˆå§‹åŒ–æœ—è¯»ç»„ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }

  <span class="hljs-comment">/**
   * åˆå§‹åŒ–æœ—è¯»ç»„ä»¶
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æœ—è¯»å‚æ•°é…ç½®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">readerParam</span>: <span class="hljs-title class_">TextReader</span>.<span class="hljs-property">ReaderParam</span> = {
      <span class="hljs-attr">isVoiceBrandVisible</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¾ç¤ºå“ç‰Œä¿¡æ¯</span>
      <span class="hljs-attr">businessBrandInfo</span>: {
        <span class="hljs-attr">panelName</span>: <span class="hljs-string">'å°è‰ºæœ—è¯»'</span>, <span class="hljs-comment">// é¢æ¿åç§°</span>
        <span class="hljs-attr">panelIcon</span>: $r(<span class="hljs-string">'app.media.startIcon'</span>) <span class="hljs-comment">// é¢æ¿å›¾æ ‡</span>
      }
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// è·å–ä¸Šä¸‹æ–‡</span>
      <span class="hljs-keyword">let</span> <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getHostContext</span>()
      <span class="hljs-keyword">if</span> (context) {
        <span class="hljs-comment">// åˆå§‹åŒ–æœ—è¯»ç»„ä»¶</span>
        <span class="hljs-keyword">await</span> <span class="hljs-title class_">TextReader</span>.<span class="hljs-title function_">init</span>(context, readerParam);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isInit</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ ‡è®°åˆå§‹åŒ–å®Œæˆ</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setActionListener</span>(); <span class="hljs-comment">// è®¾ç½®äº‹ä»¶ç›‘å¬</span>
      }
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-comment">// åˆå§‹åŒ–å¤±è´¥æ—¶æ‰“å°é”™è¯¯ä¿¡æ¯</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`TextReader failed to init. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);
    }
  }

  <span class="hljs-comment">// è®¾ç½®æœ—è¯»äº‹ä»¶ç›‘å¬</span>
  <span class="hljs-title function_">setActionListener</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç›‘å¬æœ—è¯»çŠ¶æ€å˜åŒ–</span>
    <span class="hljs-title class_">TextReader</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'stateChange'</span>, <span class="hljs-function">(<span class="hljs-params">state: TextReader.ReadState</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onStateChanged</span>(state);
    });

    <span class="hljs-comment">// ç›‘å¬åŠ è½½æ›´å¤šè¯·æ±‚</span>
    <span class="hljs-title class_">TextReader</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'requestMore'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title class_">TextReader</span>.<span class="hljs-title function_">loadMore</span>([], <span class="hljs-literal">true</span>);
    })
  }

  <span class="hljs-comment">// å¤„ç†æœ—è¯»çŠ¶æ€å˜åŒ–</span>
  onStateChanged = <span class="hljs-function">(<span class="hljs-params">state: TextReader.ReadState</span>) =&gt;</span> {
    <span class="hljs-comment">// åªå¤„ç†å½“å‰é€‰ä¸­æ–‡ç« çš„çŠ¶æ€å˜åŒ–</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedReadInfo</span>?.<span class="hljs-property">id</span> === state.<span class="hljs-property">id</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">readState</span> = state.<span class="hljs-property">state</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">readState</span> = <span class="hljs-title class_">ReadStateCode</span>.<span class="hljs-property">WAITING</span>;
    }
  }

  <span class="hljs-comment">// æ„å»ºUIç•Œé¢</span>
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-comment">// æœ—è¯»çŠ¶æ€å›¾æ ‡</span>
      <span class="hljs-title class_">TextReaderIcon</span>({ <span class="hljs-attr">readState</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">readState</span> })
        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: <span class="hljs-number">20</span> })
        .<span class="hljs-title function_">width</span>(<span class="hljs-number">32</span>)
        .<span class="hljs-title function_">height</span>(<span class="hljs-number">32</span>)
        .<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {
          <span class="hljs-comment">// ç‚¹å‡»å›¾æ ‡æ—¶å¼€å§‹æœ—è¯»</span>
          <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">await</span> <span class="hljs-title class_">TextReader</span>.<span class="hljs-title function_">start</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">readInfoList</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedReadInfo</span>?.<span class="hljs-property">id</span>);
          } <span class="hljs-keyword">catch</span> (err) {
            <span class="hljs-comment">// æœ—è¯»å¤±è´¥æ—¶æ‰“å°é”™è¯¯ä¿¡æ¯</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`TextReader failed to start. Code: <span class="hljs-subst">${err.code}</span>, message: <span class="hljs-subst">${err.message}</span>`</span>);
          }
        })
    }
    .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a98e747420340579305759cfc8a5242~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2VvcmdlUGFuZGE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720500&amp;x-signature=%2BeXbt%2B0NkXX8TBUNQiQ9HNtMfTs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-3">ä¸‰ã€é—®é¢˜åé¦ˆï¼š</h2>
<p>ç›®å‰å®˜æ–¹æ–‡æ¡£å·²æ›´æ–°ï¼ŒsetWindowStageï¼Œæ–°å¢è®¾å¤‡è¡Œä¸ºå·®å¼‚è¯´æ˜ï¼Œåœ¨æ‰‹æœºè®¾å¤‡ä¸Šï¼Œä¸éœ€è¦è°ƒç”¨è¯¥æ¥å£ï¼Œç›´æ¥åˆå§‹åŒ–æœ—è¯»æœ—è¯»æ§ä»¶å°±å¯ä»¥äº†ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cc548e2b0dd47fb82b3dc1a1093c2d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2VvcmdlUGFuZGE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720500&amp;x-signature=9PeeE4XljMpz67HNBvaeASDjLeI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¡ˆä¾‹å®è·µ | Flipkart å¼‚æ­¥æ€»çº¿å¦‚ä½•å®ç°ä¸åœæœºä» Kafka è¿ç§»åˆ° Pulsar]]></title>    <link>https://juejin.cn/post/7572387666979815450</link>    <guid>https://juejin.cn/post/7572387666979815450</guid>    <pubDate>2025-11-14T10:05:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572387666979815450" data-draft-id="7572387068313796635" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¡ˆä¾‹å®è·µ | Flipkart å¼‚æ­¥æ€»çº¿å¦‚ä½•å®ç°ä¸åœæœºä» Kafka è¿ç§»åˆ° Pulsar"/> <meta itemprop="keywords" content="æ¶ˆæ¯é˜Ÿåˆ—"/> <meta itemprop="datePublished" content="2025-11-14T10:05:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AscentStream"/> <meta itemprop="url" content="https://juejin.cn/user/395479917804733"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¡ˆä¾‹å®è·µ | Flipkart å¼‚æ­¥æ€»çº¿å¦‚ä½•å®ç°ä¸åœæœºä» Kafka è¿ç§»åˆ° Pulsar
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479917804733/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AscentStream
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:05:40.000Z" title="Fri Nov 14 2025 10:05:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡æ•´ç†è‡ª 2024 Apache Pulsar æ¬§æ´²å³°ä¼šï¼Œç”±æ¥è‡ª Flipkart çš„å·¥ç¨‹å¸ˆå®‰å°¼å°”Â·æˆˆè¾¾å¸¦æ¥çš„ã€ŠFlipkart å¼‚æ­¥æ€»çº¿å®ç°ä¸åœæœºä» Kafka è¿ç§»åˆ° Pulsarã€‹çš„æ¼”è®²è§†é¢‘ã€‚Â </p>
<h2 data-id="heading-0"><strong>èƒŒæ™¯ä»‹ç»</strong></h2>
<p>Flipkart æ˜¯å°åº¦é¢†å…ˆçš„ç”µå­å•†åŠ¡å¹³å°ä¹‹ä¸€ã€‚æˆ‘ä»¬åŸºäº Kafka æ‰“é€ çš„å¼‚æ­¥æ€»çº¿æ‰¿æ¥äº†å…¬å¸æµ·é‡çš„ HTTP è°ƒç”¨å’Œæ¶ˆæ¯ä¼ è¾“ã€‚ä½†éšç€ä¸šåŠ¡çš„å‘å±•ï¼ŒKafka å·²ç»ä¸èƒ½è·Ÿä¸Šå…¬å¸å¿«é€Ÿå˜åŒ–çš„ä¸šåŠ¡å‘å±•è¦æ±‚ã€‚éšç€è°ƒç ”å’Œæµ‹è¯•ï¼Œæˆ‘ä»¬æœ€ç»ˆå†³å®šä½¿ç”¨ Pulsar æ›¿æ¢ Kafkaã€‚</p>
<p>æˆ‘ä»¬é€‰æ‹©Pulsar çš„ä¸»è¦åŸå› ï¼ŒåŒ…æ‹¬ï¼š</p>
<ol>
<li>Pulsar åŸç”Ÿæ”¯æŒå¤šç§Ÿæˆ·æ¨¡å‹ï¼šè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿåœ¨åŒä¸€å®ä¾‹ä¸­ä¸ºå¤šä¸ªç§Ÿæˆ·æœåŠ¡ï¼Œè€Œæ¯ä¸ªç§Ÿæˆ·å¯ä»¥ç‹¬ç«‹ç®¡ç†è‡ªå·±çš„å‘½åç©ºé—´å’Œæƒé™ã€‚è¿™å¯¹äºéœ€è¦éš”ç¦»ä¸åŒå®¢æˆ·æ•°æ®çš„å¤§å‹ç³»ç»Ÿæ¥è¯´éå¸¸é‡è¦ã€‚</li>
<li>Pulsar åŸç”Ÿæ”¯æŒçš„ Geo è·¨åŸŸä¼ è¾“èƒ½åŠ›ï¼šè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ Geo æ‰“é€ è‡ªå·±çš„è·¨åŸŸã€å¤šæœºæˆ¿ä¸šåŠ¡ã€‚</li>
<li>Pulsar æä¾›å­˜å‚¨å’Œè®¡ç®—çš„åˆ†ç¦»æ¶æ„ï¼šè¿™æ„å‘³ç€ç³»ç»Ÿå¯ä»¥åˆ†åˆ«æ‰©å±•å­˜å‚¨å’Œè®¡ç®—èµ„æºï¼Œæ ¹æ®éœ€è¦ä¼˜åŒ–æ€§èƒ½å’Œæˆæœ¬ã€‚</li>
</ol>
<p>ä» Kafka è¿ç§»åˆ° Pulsar ç»™æˆ‘ä»¬å¸¦æ¥äº†è¯¸å¤šä¼˜åŠ¿ã€‚Pulsar å†…ç½®çš„ä¼ä¸šçº§åŠŸèƒ½ï¼Œå‡å°‘äº†æˆ‘ä»¬è‡ªè¡Œå¼€å‘å’Œç»´æŠ¤çš„æˆæœ¬ï¼Œä¹Ÿé™ä½äº†ç³»ç»Ÿçš„æ€»ä½“å¤æ‚æ€§ã€‚åœ¨ Kafka ä¸­ï¼Œè¿™äº›é«˜çº§åŠŸèƒ½éƒ½éœ€è¦é¢å¤–æ„å»ºå’Œç»´æŠ¤ã€‚</p>
<p>æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†ä¸‰ä¸ªéƒ¨åˆ†è¯¦ç»†è®¨è®º Flipkart çš„å¼‚æ­¥æ€»çº¿å¦‚ä½•å®ç°ä» Kafka åˆ° Pulsar çš„å®æ—¶è¿ç§»ï¼š</p>
<ol>
<li>ç¬¬ä¸€éƒ¨åˆ†æ˜¯ä»‹ç» Flipkart å¼‚æ­¥æ€»çº¿çš„ä»·å€¼æ‰€åœ¨ï¼›</li>
<li>ç¬¬äºŒéƒ¨åˆ†å°†è®¨è®ºæˆ‘ä»¬åœ¨ä» Kafka è¿ç§»åˆ° Pulsar æ—¶é¢ä¸´çš„æŒ‘æˆ˜ï¼›</li>
<li>ç¬¬ä¸‰éƒ¨åˆ†æ˜¯æˆ‘ä»¬æå‡ºçš„è§£å†³æ–¹æ¡ˆï¼Œå³ä¸ºæˆ‘ä»¬å¦‚ä½•ä¸ºç”¨æˆ·å®ç°å®æ—¶è¿ç§»ã€‚</li>
</ol>
<h2 data-id="heading-1"><strong>Flipkart å¼‚æ­¥æ€»çº¿</strong></h2>
<h3 data-id="heading-2">åŒæ­¥ vså¼‚æ­¥</h3>
<p>åœ¨æ·±å…¥æ¢è®¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å›é¡¾ä¸€ä¸‹åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ï¼Œä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆé€‰æ‹©å¼‚æ­¥æ“ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecf71fbb110b4164897d9399cd2c3a10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=l4RPU6BWg5tBiae2lj0GKFJUzlA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨åŒæ­¥æ“ä½œä¸­ï¼ŒæœåŠ¡ A é€šè¿‡ HTTP è¿æ¥åˆ°æœåŠ¡ Bï¼Œå¹¶ç­‰å¾…å…¶å“åº”ï¼Œç›´åˆ°æœåŠ¡ B å®Œæˆè¯·æ±‚çš„å¤„ç†ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹å¼å¹¶ä¸å¯æ‰©å±•ï¼Œå› ä¸ºå­˜åœ¨é˜»å¡ï¼Œå¹¶ä¸”ä¸æœåŠ¡ B ç´§è€¦åˆã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä½¿ç”¨å¼‚æ­¥å¤„ç†ï¼šåœ¨å¼‚æ­¥å¤„ç†ä¸­ï¼ŒæœåŠ¡ A å°†è¯·æ±‚å‘å¾€æœåŠ¡é˜Ÿåˆ—ï¼Œç„¶åç»§ç»­æ‰§è¡Œè‡ªå·±çš„ä»»åŠ¡ï¼Œä¸ä¼šç­‰å¾…æœåŠ¡ B çš„å“åº”ã€‚æœåŠ¡ B å¯ä»¥è‡ªè¡Œå†³å®šå¤„ç†æ—¶é—´ï¼Œç”šè‡³å¯ä»¥å»¶è¿Ÿå¤„ç†ã€‚è¿™æ„å‘³ç€ä¸¤ä¸ªæœåŠ¡åœ¨èŒè´£ä¸Šæ˜¯è§£è€¦çš„ï¼Œå®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°æ‰©å±•ï¼Œå¹¶ä¸”æ•ˆç‡é«˜ï¼Œä¸ä¼šå‘ç”Ÿé”å®šã€‚</p>
<hr/>
<h3 data-id="heading-3">æ¶ˆæ¯ä»£ç†</h3>
<p>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¯æŒä¹…çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆæ¶ˆæ¯ä»£ç†Brokerï¼‰æ¥å®ç°è¿™ä¸€ç‚¹ã€‚æ¶ˆæ¯ä»£ç†ä½äºæœåŠ¡ A å’ŒæœåŠ¡ B ä¹‹é—´ã€‚æœåŠ¡ A å‘æ¶ˆæ¯ä»£ç†ç”Ÿäº§æ¶ˆæ¯ï¼Œè€ŒæœåŠ¡ B åˆ™ä»æ¶ˆæ¯ä»£ç†ä¸­æ¶ˆè´¹æ¶ˆæ¯ã€‚å½“æœ‰å¤šä¸ªæ¶ˆè´¹è€…æˆ–å¤šä¸ªæœåŠ¡å¯¹åŒä¸€æ¶ˆæ¯æ„Ÿå…´è¶£æ—¶ï¼Œå®ƒä»¬å°±ä¹Ÿä¼šæ¶ˆè´¹ç›¸åŒçš„ä¸»é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58460200976740528e1adcd1368efbfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=%2Byh%2FgTQJIrNreANYSWpcWRZv1I4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½†é—®é¢˜æ˜¯ï¼Œè¿™æ ·å°±è¶³å¤Ÿäº†å—ï¼Ÿ</p>
<h3 data-id="heading-4">å¤šæ ·åŒ–çš„éœ€æ±‚</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06598007e22b460982412b90f35e9971~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=pzBW%2FmNb1VDCyTJvd5URCTVQXt4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç°åœ¨çš„å¾®æœåŠ¡éƒ½ä¼šå›´ç»•æ¶ˆæ¯ä»£ç†æ„å»ºå¤šç§å¤šæ ·çš„æœåŠ¡ï¼Œä»¥æ»¡è¶³å…¶ç«¯åˆ°ç«¯çš„éœ€æ±‚ã€‚è€Œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ— æ³•æ»¡è¶³è¿™ç±»å¤šæ ·åŒ–çš„éœ€æ±‚ã€‚å¤æ‚ç‚¹çš„ä¸šåŠ¡éƒ½éœ€è¦è€ƒè™‘å¤±è´¥ç®¡ç†ã€‚</p>
<ul>
<li>è¿‡æ»¤å™¨éœ€æ±‚ï¼šæˆ‘ä»¬å¸¸è§çš„è¿‡æ»¤å™¨ï¼Œè¦æ±‚ç›¸å½“ç®€å•ã€‚åªæ˜¯æœ‰äº›æœåŠ¡ï¼Œéœ€è¦å…¨é‡æ¶ˆè´¹ï¼Œè€Œæœ‰äº›æœåŠ¡åˆåªéœ€è¦éƒ¨åˆ†æ¶ˆæ¯ï¼Œè¿™äº›éƒ½æ˜¯ç”±ä¸šåŠ¡ç‰¹ç‚¹å†³å®šçš„ã€‚ä»–ä»¬åŒæ—¶å­˜åœ¨ï¼Œéœ€è¦å¯¹åº”æ»¡è¶³ã€‚</li>
<li>æ­»ä¿¡é˜Ÿåˆ—ï¼šå¯¹äºå¤„ç†å¤±è´¥çš„æ¶ˆæ¯ï¼Œæœ‰å¯èƒ½éœ€è¦å­˜å‚¨å¾ˆé•¿æ—¶é—´å¹¶ç¨åæ¶ˆè´¹ã€‚ä½ çš„æ¶ˆè´¹æ¨¡å¼ï¼Œå¯èƒ½æ˜¯é€‰æ‹©æ€§æ¶ˆè´¹ï¼Œä¾‹å¦‚éœ€è¦è·³è¿‡æŸäº›æ¶ˆæ¯ç”šè‡³è·³è¿‡æ‰€æœ‰æ¶ˆæ¯ã€‚ä¹Ÿå¯èƒ½æƒ³è¦æ¶ˆè´¹æ‰€æœ‰æ¶ˆæ¯ã€‚è¿™å®Œå…¨å–å†³äºç”¨ä¾‹ã€‚ä½†ä½ éƒ½å¯èƒ½æ ¹æ®éœ€è¦ä¼šéœ€è¦ä»æ­»ä¿¡é˜Ÿåˆ—ä¸­æ¶ˆè´¹ã€‚</li>
<li>é‡è¯•æ¶ˆæ¯ï¼šåœ¨æ¶ˆæ¯è½¬ç§»åˆ°æ­»ä¿¡é˜Ÿåˆ—å­˜å‚¨ä¹‹å‰ï¼Œå¦‚æœä½ çš„æ¶ˆæ¯å› æŸäº›å¼‚å¸¸è€Œå¤±è´¥ï¼Œè€Œä¸”è¯¥å¼‚å¸¸å¯ä»¥æ¢å¤ï¼Œä½ ä¼šå¸Œæœ›é‡è¯•è¿™äº›æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯ç›´æ¥å°†å…¶æ ‡è®°ä¸ºå¤±è´¥æ¶ˆæ¯å¹¶ç§»è‡³æ­»ä¿¡é˜Ÿåˆ—ã€‚</li>
<li>æ¶ˆæ¯æ–­è·¯å™¨ï¼šå¯¹äºå¯èƒ½å­˜åœ¨çš„å¤§é¢ç§¯å¤„ç†å¤±è´¥ï¼Œä½ åº”è¯¥è¿˜éœ€è¦å‡†å¤‡æ–­è·¯å™¨ã€‚å¦‚æœä½ çš„æœåŠ¡ä¾èµ–äºå¦ä¸€ä¸ªæœåŠ¡ï¼Œè¿™äº›æœåŠ¡ä¸€æ—¦å‡ºç°ä¸å¯ç”¨ï¼Œä¾‹å¦‚æ•°æ®å­˜å‚¨å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆä½ å°±ä¼šçŸ¥é“ï¼Œå¤§å¤šæ•°æ¶ˆæ¯éƒ½ä¼šå°†å¤„ç†å¤±è´¥ã€‚è¿™æ—¶å€™ä½ ä¸ä¼šæƒ³è¦ç»§ç»­ä»æ¶ˆæ¯ä»£ç†é‚£é‡Œæ‹‰å–æ›´å¤šæ¶ˆæ¯ï¼Œè€Œæ˜¯æ ¹æ®å¤±è´¥ç‡æ§åˆ¶ä½ ä»æ¶ˆæ¯ä»£ç†æ‹‰å–çš„æ¶ˆæ¯æ•°é‡ã€‚å¦‚æœå¤±è´¥ç‡é«˜ï¼Œä½ ä¼šæƒ³å‡å°‘æ‹‰å–ï¼›å¦‚æœå¤±è´¥ç‡ä½ï¼Œä½ ä¼šæƒ³å…¨é€Ÿè¿è¡Œã€‚</li>
</ul>
<h3 data-id="heading-5">æŒ‰ç»„æ’åº</h3>
<p>ç»„å†…æœ‰åºï¼ˆGroup Orderingï¼‰ï¼Œè¿™æ˜¯ç”¨æˆ·ä¼šåœ¨æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ä¸­å¯»æ‰¾çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ã€‚åœ¨è®¸å¤šæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿä¸­ï¼Œä¸ºäº†ä¿è¯åŒä¸€ä¸ªç»„çš„æ¶ˆæ¯è¢«é¡ºåºå¤„ç†ï¼Œç³»ç»Ÿä¼šç¡®ä¿åŒä¸€ç»„çš„æ‰€æœ‰æ¶ˆæ¯éƒ½è¿›å…¥åˆ°åŒä¸€ä¸ªåˆ†åŒºã€‚åªä¸è¿‡ï¼Œè¿™æ—¶å€™åœ¨åŒä¸ªåˆ†åŒºå†…ï¼Œä¹Ÿå¯èƒ½æœ‰æ¥è‡ªä¸åŒç»„çš„æ¶ˆæ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦æœ‰ä¸€ç§æœºåˆ¶æ¥è·Ÿè¸ªæ¯ä¸ªç»„å†…çš„æ¶ˆæ¯å¤„ç†çŠ¶æ€ï¼Œå¹¶ç¡®ä¿æŒ‰é¡ºåºå¤„ç†æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç»„çš„ç¬¬ä¸€æ¡æ¶ˆæ¯åœ¨æ—¶é—´ç‚¹T0è¢«æˆåŠŸæ¶ˆè´¹ï¼Œç„¶ååŒä¸€ç»„çš„ç¬¬äºŒæ¡æ¶ˆæ¯åœ¨æ—¶é—´ç‚¹T1å¤±è´¥äº†ï¼Œé‚£ä¹ˆåœ¨æ—¶é—´ç‚¹T3æ¥è‡ªåŒä¸€ç»„çš„ç¬¬ä¸‰æ¡æ¶ˆæ¯å°±ä¸åº”è¯¥è¢«å¤„ç†ï¼Œç›´åˆ°é—®é¢˜å¾—åˆ°è§£å†³ã€‚å› æ­¤ä½ éœ€è¦ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼Œæ¥è®°å½•æ¯ä¸ªæ¶ˆæ¯çš„å¤„ç†ç»“æœï¼Œå¹¶åŸºäºè¿™äº›ä¿¡æ¯æ¥å†³å®šæ˜¯å¦å¤„ç†åç»­çš„æ¶ˆæ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8fb0ef22a814a37ad5d5d83be955a18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=j%2BH5SoD9TtikXDGrM8sKvo6h9A8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŒæ ·ï¼Œåœ¨ä¸€ä¸ªè®¢å•ç³»ç»Ÿä¸­ï¼Œä¼šæœ‰å¤šä¸ªæœåŠ¡åœ¨å½¼æ­¤ååŒã€‚æ¯”å¦‚å½“ç”¨æˆ·ä¸‹å•æ—¶ï¼Œé¦–å…ˆéœ€è¦ç¡®è®¤æ”¯ä»˜æˆåŠŸï¼Œç„¶åå†æ›´æ–°åº“å­˜ï¼Œæœ€åå†ç”±ä»“åº“å‘è´§ã€‚è¿™ä¸‰ä¸ªæœåŠ¡è™½ç„¶æ˜¯ç‹¬ç«‹çš„ï¼Œä½†å®é™…æ˜¯ç›¸äº’ä¾èµ–çš„ï¼šæ²¡æœ‰å®Œæˆæ”¯ä»˜ï¼Œä½ å°±ä¸è¦æ›´æ–°ä½ çš„åº“å­˜ï¼›å¦‚æœåº“å­˜æ²¡æœ‰æ›´æ–°ï¼Œä½ å°±ä¸è¦å‘è´§ã€‚å‰ä¸€æ­¥éª¤å¤±è´¥äº†ï¼Œä¸‹ä¸€æ­¥éª¤å°±è¦ä¸­æ­¢ã€‚è¿™å°±æ˜¯ç”¨æˆ·é€šå¸¸å¯»æ±‚çš„ç»„å†…é¡ºåºæ€§ã€‚åŒæ ·ï¼Œè¿™è¡¨æ˜éœ€è¦ç»´æŠ¤ç»„å†…æ¶ˆæ¯çš„çŠ¶æ€ï¼Œéœ€è¦æ ¹æ®å‰ä¸€ä¸ªçŠ¶æ€ï¼Œæ¥å†³å®šå¦‚ä½•å¤„ç†åä¸€æ¡æ¶ˆæ¯ã€‚</p>
<h3 data-id="heading-6">é¢å¤–çš„å¤æ‚æ€§</h3>
<p>æ­¤å¤–ï¼Œæœ‰ç›¸å½“ä¸€éƒ¨åˆ†ç”¨æˆ·ï¼Œä»–ä»¬æƒ³è®©å¾®æœåŠ¡A å¯¹å¾®æœåŠ¡ B è¿›è¡Œä¸€ä¸ªç®€å•çš„ HTTP è°ƒç”¨ï¼Œå¹¶å¸Œæœ›è¿™ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œä¸éœ€è¦ç­‰å¾…å“åº”çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/078962f5adc449ec9a0495d350871d26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=ErnoeDm4YPYcMmQsO75VYGDxztM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬å®é™…ä¸Šä»ç„¶ä¼šå¼•å…¥æ¶ˆæ¯ä»£ç†æ¥æä¾›å¼‚æ­¥é€šä¿¡å’ŒæœåŠ¡è§£è€¦ã€‚</p>
<p>ä¸è¿‡è¿™ä¼šå¯¼è‡´å®¢æˆ·ç«¯è¿‡äºå¤æ‚ï¼ŒåŒæ—¶å¼•å…¥æ–°çš„é—®é¢˜ï¼š</p>
<ol>
<li>ç”¨æˆ·éœ€è¦ä¾èµ–ä¸€ä¸ªæ¶ˆæ¯å®¢æˆ·ç«¯ã€‚</li>
<li>ç»´æŠ¤å®¢æˆ·ç«¯ä¼šå¸¦æ¥é¢å¤–å¼€é”€ï¼ŒåŒ…æ‹¬é›†æˆã€ç»´æŠ¤å‡çº§æˆæœ¬</li>
<li>ç”¨æˆ·éœ€è¦æ›´å¤šæ¶ˆæ¯é˜Ÿåˆ—æœ¬èº«ç›¸å…³ä¸“ä¸šçŸ¥è¯†ç­‰ã€‚</li>
</ol>
<h2 data-id="heading-7"><strong>Varadhiï¼šFlipkart å¼‚æ­¥æ€»çº¿</strong></h2>
<h3 data-id="heading-8">Flipkartéœ€è¦çš„æ¶ˆæ¯ä»£ç†</h3>
<p>å› æ­¤ï¼ŒåŸºäºä»¥ä¸Šéœ€æ±‚ï¼ŒFlipkart éœ€è¦çš„æ¶ˆæ¯ä»£ç†è‡³å°‘è¦æ»¡è¶³ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ”¯æŒç»„å†…æœ‰åº</li>
<li>æ”¯æŒè¿‡æ»¤</li>
<li>æ”¯æŒé‡è¯•é˜Ÿåˆ—</li>
<li>æ”¯æŒæ­»ä¿¡é˜Ÿåˆ—</li>
<li>å¯é€‰æ‹©æ€§æ¶ˆè´¹</li>
<li>æ”¯æŒæ–­è·¯å™¨æ¨¡å¼</li>
</ul>
<p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬æ¨å‡ºäº† Varadhiï¼Œè¿™æ˜¯ Flipkart è‡ªç ”çš„å¼‚æ­¥æ€»çº¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3e887ef932f4f6fae83b2aacd6bef97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=nW7G3sol9tIvtfXi%2BXrIfCwsJnk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Varadhi å®ç°äº†æˆ‘ä»¬ä¸Šè¿°éœ€è¦çš„æ‰€æœ‰åŠŸèƒ½è¦æ±‚ã€‚Varadhiéšè—äº†å†…éƒ¨çš„æ¶ˆæ¯é˜Ÿåˆ—çš„å®ç°ç»†èŠ‚ï¼Œå¯¹å¤–ç»™ç”¨æˆ·æä¾›å®Œæ•´çš„å¹³å°æœåŠ¡ã€‚</p>
<p>ç›®å‰ HTTP æˆ–è€… HTTPS éƒ½æ˜¯æ”¯æŒçš„ã€‚ç”¨æˆ·é›†æˆä¹Ÿæ²¡æœ‰ä»»ä½•é¢å¤–çš„è´Ÿæ‹…ã€‚</p>
<h3 data-id="heading-9">Varadhiå¹³å°è§„æ¨¡</h3>
<p>ç›®å‰Pulsar Varadhiå¹³å°æ”¯æŒäº†ï¼š</p>
<ul>
<li>180+ Tenants</li>
<li>3500+ Topics</li>
<li>9500+ Subscriptions</li>
<li>~0.5 Million provisioned QPS</li>
<li>~1 Billion messages produced</li>
</ul>
<p>åœ¨ Varadhiå¹³å°ï¼Œç›®å‰å·²ç»æœ‰180å¤šä¸ªç§Ÿæˆ·åŠ å…¥ï¼Œ3500å¤šä¸ªTopicå’Œ9500å¤šä¸ªè®¢é˜…ã€‚æ¯å¤©æœ€å¤šçº¦èƒ½äº§ç”Ÿ10äº¿æ¡æ¶ˆæ¯ï¼Œè€Œä¸”è¿™äº›æ¶ˆæ¯èƒ½åœ¨åŒä¸€å¤©è¢«æ¶ˆè´¹å®Œã€‚</p>
<h3 data-id="heading-10">Varadhiç»„ä»¶ä»‹ç»</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3c248cfec114f62bccf4ab49e7059d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=YC9PxUXdEK%2BMuCLhyaeh6M1hgAM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ˜¯Varadhiçš„ç»„ä»¶æ¶æ„å›¾ã€‚å…¶ä¸­ZooKeeper ç»´æŠ¤å…ƒæ•°æ®ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ§åˆ¶å¹³é¢ï¼Œå…è®¸ç”¨æˆ·é…ç½®ä»–ä»¬çš„è®¢é˜…ä¸»é¢˜å’Œç«¯ç‚¹ï¼Œä»¥åŠè®¾ç½®ä»–ä»¬è¦ä»å“ªé‡Œæ¥æ”¶æ¶ˆæ¯ã€‚æˆ‘ä»¬è¿˜æœ‰ä¸ªHTTPæœåŠ¡å™¨ï¼Œè¿™äº›æœåŠ¡å™¨å¤„ç†æ¥è‡ªç”¨æˆ·çš„ç”Ÿäº§è¯·æ±‚ã€‚è¿™äº›ç”Ÿäº§è¯·æ±‚éšåè¢«æŒä¹…åŒ–åœ¨æ¶ˆæ¯ä»£ç†ä¸­ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æ¯ä¸ªç»„ä»¶çš„è¯¦ç»†è¯´æ˜ï¼š</p>
<ul>
<li>ZooKeeperï¼šç”¨äºç»´æŠ¤æœåŠ¡å…ƒæ•°æ®ï¼ˆmetadataï¼‰çš„ç»„ä»¶ã€‚</li>
<li>Control Planeï¼šæ§åˆ¶å¹³é¢å…è®¸ç”¨æˆ·é…ç½®ä»–ä»¬çš„è®¢é˜…ä¸»é¢˜å’Œç»ˆç«¯ç‚¹ï¼ˆendpointsï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨æˆ·äº¤äº’ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®ä»–ä»¬è¦ä»å“ªé‡Œæ¥æ”¶æ¶ˆæ¯ã€‚</li>
<li>HTTP Serversï¼šè¿™äº›æœåŠ¡å™¨å¤„ç†æ¥è‡ªç”¨æˆ·æœåŠ¡çš„ç”Ÿäº§è¯·æ±‚ï¼ˆproduce requestsï¼‰ã€‚è¿™äº›è¯·æ±‚æ˜¯å…³äºæ¶ˆæ¯çš„ç”Ÿæˆå’Œå‘é€ã€‚</li>
<li>Message Broker (Kafka)ï¼šæ¶ˆæ¯ä»£ç†ç»„ä»¶ï¼Œä¹‹å‰ä½¿ç”¨çš„æ˜¯Kafkaï¼Œç°åœ¨å·²ç»è¢« Pulsar æ‰€å–ä»£ã€‚å®ƒè´Ÿè´£å­˜å‚¨å’Œç®¡ç†ä¼ å…¥çš„æ¶ˆæ¯ã€‚ç”Ÿäº§è¯·æ±‚åœ¨è¿™é‡Œè¢«æŒä¹…åŒ–ã€‚</li>
<li>Message Consumer Servicesï¼šè¿™äº›æœåŠ¡ä»Kafkaæ¶ˆè´¹æ¶ˆæ¯ï¼Œç„¶åå°†æ¶ˆæ¯ä¼ é€’åˆ°ç”¨æˆ·é…ç½®çš„å¾®æœåŠ¡ç»ˆç«¯ç‚¹ã€‚</li>
</ul>
<p>è¿™æ ·çš„æ¶æ„è®¾è®¡åˆ†ç¦»äº†æ¶ˆæ¯çš„ç”Ÿäº§ã€ç®¡ç†å’Œæ¶ˆè´¹è¿‡ç¨‹ï¼Œå¢å¼ºäº†ç³»ç»Ÿçš„æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå…è®¸æˆ‘ä»¬çµæ´»åœ°å¤„ç†å¤§é‡çš„æ¶ˆæ¯ç”Ÿäº§å’Œæ¶ˆè´¹è¯·æ±‚ã€‚åŒæ—¶ï¼Œé€šè¿‡ZooKeeperç¡®ä¿ç³»ç»Ÿçš„é…ç½®å’ŒåŒæ­¥ï¼Œæ§åˆ¶å¹³é¢ä¹Ÿå¯ä»¥ä¸ºç”¨æˆ·æä¾›æ˜“äºç®¡ç†å’Œé…ç½®çš„ç•Œé¢ã€‚</p>
<p>æˆ‘ä»¬ä¹‹å‰è¿˜æ˜¯ä½¿ç”¨ Kafka ä½œä¸ºæ¶ˆæ¯ä»£ç†ã€‚è€Œç°åœ¨ï¼Œé‡Œé¢çš„ Kafka ç³»ç»Ÿå·²ç»è¢« Pulsar å–ä»£äº†ã€‚å› ä¸ºæˆ‘ä»¬æƒ³åˆ©ç”¨ Pulsar åŸç”Ÿè‡ªå¸¦çš„å¤šç§Ÿæˆ·æ¨¡å‹ã€GEOç‰¹æ€§è¿˜æœ‰å­˜å‚¨å’Œè®¡ç®—åˆ†ç¦»æ¶æ„ã€‚ä½¿ç”¨è¿™äº›åŠŸèƒ½ä½¿å¾—æˆ‘ä»¬çš„å¹³å°ç®¡ç†å˜å¾—æ›´åŠ ç®€å•å’Œæœ‰æ•ˆã€‚è€Œåœ¨ Kafka ä¸­ï¼Œéœ€è¦é¢å¤–æ„å»ºè¿™äº›åŠŸèƒ½ï¼Œå¢åŠ äº†å¼€å‘å’Œç»´æŠ¤çš„å¤æ‚æ€§ã€‚</p>
<h2 data-id="heading-11"><strong>è¿ç§»æŒ‘æˆ˜</strong></h2>
<h3 data-id="heading-12">è¿ç§»è¦æ±‚</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58cffc0349c7403891724d01b520ea91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=H3%2BULosd%2F4cupuzcrRc%2BBU%2FzmGY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä» Kafka è¿ç§»åˆ° Pulsar è¿˜æ˜¯ä¼šé¢ä¸´å¾ˆå¤šæŒ‘æˆ˜ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹å…·ä½“çš„è¿ç§»è¦æ±‚ï¼š</p>
<ul>
<li>ç¡®ä¿ä¸åœæœºï¼šè¿ç§»è¿‡ç¨‹ä¸­ä¸èƒ½å½±å“ç°æœ‰ç”¨æˆ·çš„æœåŠ¡å¯ç”¨æ€§ã€‚</li>
<li>ç”¨æˆ·æ— æ„ŸçŸ¥ï¼šä¸å¸Œæœ›è®©ç”¨æˆ·å‚ä¸åˆ°è¿ç§»è¿‡ç¨‹ä¸­ï¼Œä»¥å‡å°‘å¤æ‚æ€§å’Œé¿å…é•¿æ—¶é—´çš„è¿ç§»ã€‚</li>
<li>ç»´æŒé¡ºåºæ€§ï¼šç¡®ä¿åœ¨Kafkaå’ŒPulsarä¹‹é—´è¿ç§»æ¶ˆæ¯æ—¶ï¼Œæ¶ˆæ¯çš„é¡ºåºèƒ½ç»´æŒä¸€è‡´ï¼Œè¿™å¯¹äºç¡®ä¿ä¸šåŠ¡æµç¨‹çš„è¿è´¯æ€§è‡³å…³é‡è¦ã€‚</li>
<li>æ”¯æŒå¤šç”Ÿäº§è€…æ¨¡å¼ï¼š æˆ‘ä»¬éœ€è¦æ”¯æŒå¤šä¸ªç”Ÿäº§è€…å‘åŒä¸€ä¸»é¢˜å‘é€æ¶ˆæ¯çš„æƒ…å†µï¼Œè¿™åœ¨æˆ‘ä»¬å¤šæœåŠ¡ç¯å¢ƒä¸­å¾ˆå¸¸è§ã€‚</li>
</ul>
<p>è¿™äº›è¦æ±‚ï¼Œä½“ç°äº†è¿ç§»çš„å¤æ‚æ€§ã€‚å¯¹æˆ‘ä»¬ä¿æŒé«˜å¯ç”¨å’Œæ•°æ®ä¸€è‡´æ€§æ–¹é¢æå‡ºäº†å¾ˆå¤§çš„æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-13">Varadhi topicå…ƒæ•°æ®</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ecc81fbd24a4410bf45c9019e2ab5f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=no7OXE%2Bvt5NSr4BhckTUtuwVwgY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ä»‹ç»è¿ç§»æ–¹æ¡ˆä¹‹å‰ï¼Œéœ€è¦å…ˆè¯´æ˜ä¸‹æˆ‘ä»¬è‡ªå®šä¹‰äº†ä¸€ä¸ª Varadhi ç‰ˆæœ¬çš„Topicã€‚é‡Œé¢åŒ…å« Topicåç§°ï¼Œæ˜¯å¦åˆ†ç»„è¿˜æ˜¯æœ‰ Topic çš„å­˜å‚¨ä½ç½®ï¼Œæ˜¯åŸºäºKafkaçš„æˆ–æ˜¯åŸºäºPulsarçš„å­˜å‚¨ã€‚æœ€åè¿˜æœ‰ä¸ª Topic çš„é…ç½®ç‰ˆæœ¬ã€‚æ¯æ¬¡æ›´æ–°Topicæ—¶ï¼Œç‰ˆæœ¬å·ä¼šé€’å¢ã€‚</p>
<h2 data-id="heading-14"><strong>æ–¹æ¡ˆ 1ï¼šæ•´ä½“æ›¿æ¢</strong></h2>
<h3 data-id="heading-15">æ•´ä½“æ›¿æ¢å­˜å‚¨ topic</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f4c3d371b23488da94647ad0786db51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=QeDvVPenJ5%2FvNVev%2Ble5Qj%2F92Gs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç¬¬ä¸€ä¸ªæ–¹æ¡ˆæ˜¯æ›´æ¢å­˜å‚¨ Topicï¼Œè¿™æ˜¯æœ€ç®€å•çš„æ–¹æ¡ˆã€‚ä½†æ˜¯è¦ä» Kafka æ›¿æ¢ä¸º Pulsar çš„å­˜å‚¨ä¸»é¢˜ï¼Œæˆ‘ä»¬å¾—å…ˆæš‚åœç”Ÿäº§ï¼Œç­‰å¾…æ¶ˆè´¹è€…è¿½ä¸Šæ¥ã€‚ä¸€æ—¦å®ŒæˆåŒæ­¥ï¼Œä¹Ÿå°±æ˜¯è¯´ Kafka å­˜å‚¨ä¸»é¢˜ä¸­çš„æ‰€æœ‰æ¶ˆæ¯éƒ½è¢«æ¶ˆè´¹äº†ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ç”¨ Pulsar æ›¿æ¢å®ƒäº†ã€‚åŒæ—¶ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„æŒ‡é’ˆéƒ½æ˜¯åˆ‡æ¢åˆ° Pulsarã€‚è¿™æ ·å°±å¯ä»¥ä» Pulsar ä¸»é¢˜ä¸Šè¿›è¡Œæ¶ˆè´¹å’Œç”Ÿäº§äº†ã€‚</p>
<h3 data-id="heading-16">ä¼˜åŠ£åŠ¿åˆ†æ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efa3fddf5b1648449ac649b755ccbf1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=pP8x2YmSYStJs352WjniecElYrI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªæ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œè¿™æ„å‘³ç€ç”¨æˆ·çš„é¡ºåºæ€§å¾—åˆ°ä¿ç•™ã€‚ä»»ä½•ç”Ÿäº§å‡ºçš„æ¶ˆæ¯å°†ä¼šä»¥äº§ç”Ÿçš„é¡ºåºè¢«æ¶ˆè´¹ï¼Œå› ä¸ºè¿ç§»æ²¡æœ‰å¸¦æ¥è¿™æ–¹é¢çš„æ”¹å˜ã€‚è€Œä¸”æ–¹æ¡ˆå¾ˆå®¹æ˜“å®ç°ã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰ä¸€äº›ä¸åˆ©å› ç´ ï¼Œç”±äºè¿™äº›åŸå› ï¼Œæˆ‘ä»¬æ— æ³•ç»§ç»­é‡‡ç”¨è¿™ç§æ–¹æ³•ã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰å¤šä¸ªæ¶ˆè´¹è€…å¯¹åº”ä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€æ—¦å…¶ä¸­æœ‰æ¶ˆè´¹å‡ºç°å»¶è¿Ÿçš„ï¼Œå°±ä¼šä½¿æˆ‘ä»¬çš„ç”Ÿäº§åœæœºæ—¶é—´å˜å¾—å¾ˆé•¿ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›è®©ç”¨æˆ·ç»å†çš„ã€‚å¦å¤–ï¼Œåç§»é‡ç½®ä¸å¯ç”¨ï¼Œä½ ä¸èƒ½å°†ä½ çš„æ¶ˆè´¹æŒ‡é’ˆå›é€€åˆ° Kafkaï¼Œå³ä½¿ç”¨æˆ·å·²ç»ä¸ºè¯¥ä¸»é¢˜è®¾ç½®äº†æŸç§ä¿ç•™ç­–ç•¥ã€‚é‚£æ—¶å€™ï¼Œæˆ‘ä»¬å°†ä¸å¾—ä¸ä¸¢å¤±é‚£äº›ä¿¡æ¯ï¼Œè¿™å¯¹æˆ‘ä»¬æ¥è¯´å¯èƒ½æ˜¯ä¸å¯æ¥å—çš„ã€‚</p>
<h2 data-id="heading-17"><strong>æ–¹æ¡ˆ 2ï¼šåˆ†ç»„æ›¿æ¢</strong></h2>
<h3 data-id="heading-18">åˆ†ç»„æ›¿æ¢å­˜å‚¨ topic</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25b560603bac443d851512f612b952ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=AFEQ2EEfRyfuLy%2BczSJynot0wcE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å†³å®šé‡‡ç”¨ä¸€ä¸ªåˆ†æ®µçš„Varadhiä¸»é¢˜æ–¹æ¡ˆã€‚</p>
<ul>
<li>ç°åœ¨ä¸€ä¸ªVaradhiä¸»é¢˜å¯ä»¥æ¥å…¥å¤šç§å­˜å‚¨ä¸»é¢˜ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡ç¤ºæˆ‘ä»¬åº”è¯¥ç”Ÿäº§åˆ°å“ªä¸ªä¸»é¢˜ã€‚</li>
<li>å•ä¸€ä¸»é¢˜è¢«åˆ’åˆ†ä¸ºå¤šä¸ªæ®µï¼Œæ¯ä¸ªæ®µè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°çš„å­˜å‚¨ä¸»é¢˜ã€‚å½“æˆ‘ä»¬å†³å®šåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨ä¸»é¢˜æ—¶ï¼Œå‰ä¸€ä¸ªæ®µç»“æŸï¼Œæ–°çš„æ®µå¼€å§‹ã€‚</li>
<li>ç”Ÿäº§å’Œæ¶ˆè´¹å¯ä»¥åœ¨ä¸åŒçš„æ®µåŒæ—¶è¿›è¡Œã€‚</li>
</ul>
<p>è¿™ä¼šå‡ºç°ä¸€ä¸ªç°è±¡ï¼šæ¶ˆè´¹çš„æŒ‡é’ˆæ€»æ˜¯è½åäºç”Ÿäº§çš„æŒ‡é’ˆã€‚å°½ç®¡æ¶ˆè´¹è€…çš„æŒ‡é’ˆå¯èƒ½ä½äºä¸åŒçš„å­˜å‚¨ä¸»é¢˜ä¸­ï¼Œä½†ä»ç„¶è½åäºç”Ÿäº§è€…æ‰€åœ¨çš„å­˜å‚¨ä¸»é¢˜ã€‚</p>
<h3 data-id="heading-19">æ›¿æ¢ç¤ºä¾‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5acb6f4d6e44776af923a97e093384e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=WnE0eRkA3SZVHa9WEYwBbwWAQI4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å­˜å‚¨ä¸»é¢˜1å­˜åœ¨äº†ä¸€æ®µæ—¶é—´ï¼Œç„¶åæˆ‘ä»¬å¢åŠ äº†å­˜å‚¨ä¸»é¢˜2ï¼Œæ¶ˆè´¹ä»ç„¶å‘ç”Ÿåœ¨å­˜å‚¨ä¸»é¢˜2ä¸­ã€‚æˆ‘ä»¬å°†ç»§ç»­ç”Ÿäº§å¹¶ç§»åŠ¨åˆ°å­˜å‚¨ä¸»é¢˜3è¿›è¡Œç”Ÿäº§ã€‚</p>
<p>æ‰€ä»¥ï¼Œä»ä¸€ä¸ªä¸»é¢˜åˆ°å¦ä¸€ä¸ªä¸»é¢˜çš„è¿ç§»è¿‡ç¨‹ä¼šæ˜¯è¿™æ ·çš„ï¼šæˆ‘ä»¬è®¾ç«‹äº†ä¸€ä¸ªç›®æ ‡ä¸»é¢˜ï¼Œåœ¨æŸä¸€ç‰¹å®šæ—¶é—´ç‚¹ï¼Œæˆ‘ä»¬å°è¯•æ›´æ”¹å¼€å…³ï¼Œè¯·æ±‚è¿›è¡Œè¿ç§»ï¼Œå¹¶ä¼šå‘Šè¯‰ç”Ÿäº§è€…ç°åœ¨å¯ä»¥åˆ‡æ¢åˆ°ç›®æ ‡ä¸»é¢˜è¿›è¡Œç”Ÿäº§ã€‚æ­¤æ—¶ï¼Œç”Ÿäº§è€…ç»§ç»­å‰è¿›ï¼Œå¼€å§‹å‘ç›®æ ‡ä¸»é¢˜ç”Ÿäº§ï¼Œä¸€æ—¦æ¶ˆè´¹è€…å®Œæˆä»å‰ä¸€ä¸ªä¸»é¢˜çš„æ¶ˆè´¹ï¼Œæœ€ç»ˆä¹Ÿä¼šè½¬ç§»åˆ°ç›®æ ‡ä¸»é¢˜ä¸Šæ¥ã€‚</p>
<h3 data-id="heading-20">ä¼˜åŠ£åŠ¿åˆ†æ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd14a9f856dd40e5b8329cdf96c82cb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=Alm%2BoqmzojlfwcUlGP%2F7UtY3KsQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªæ–¹æ¡ˆæœ‰ä¸€äº›ä¼˜åŠ¿ã€‚</p>
<ul>
<li>é¦–å…ˆè¿™é‡Œçš„ç”Ÿäº§å’Œæ¶ˆè´¹æ˜¯å¼‚æ­¥åˆ‡æ¢çš„</li>
<li>ç”¨æˆ·æ²¡æœ‰åœæœºæ—¶é—´</li>
<li>æˆ‘ä»¬ä»ç„¶å¯ä»¥æ”¯æŒåç§»é‡ç½®ï¼Œæ”¯æŒç”¨æˆ·å°†ä»–çš„æ¶ˆè´¹æŒ‡é’ˆç§»åŠ¨åˆ°ç‰¹å®šç‚¹ï¼Œå¹¶ä» Kafka å¼€å§‹å†æ¬¡æ¶ˆè´¹ã€‚ä¸€æ—¦æ¶ˆè´¹æ»åä¸ºé›¶ï¼Œæ¶ˆè´¹è€…å°†å†æ¬¡è½¬ç§»åˆ°ç›®æ ‡ä¸»é¢˜ã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œè¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå› ä¸ºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ˜¯å¼‚æ­¥åˆ‡æ¢çš„ï¼Œç”Ÿäº§è€…ä¹‹é—´æ²¡æœ‰åè°ƒã€‚è®°å¾—æˆ‘ä»¬æœ‰å¤šä¸ª HTTP ç«¯å£å§ã€‚è¿™äº›å¼‚æ­¥åˆ‡æ¢ï¼Œè¿™ä¼šå¸¦æ¥ä¸€ä¸ªé£é™©ï¼Œå¯èƒ½ä¼šå¯¼è‡´æˆ‘ä»¬ç»„å†…çš„é¡ºåºæ€§å‡ºç°é—®é¢˜ã€‚</p>
<h3 data-id="heading-21">åè°ƒç”Ÿäº§è€…åˆ‡æ¢</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bc875f09bc04bc18f04b455a2f2890d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=Kfuv%2F8VIOxIi9yS4akTWrYcY1Io%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ºäº†å…‹æœè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å†³å®šé‡‡ç”¨ä¸€ä¸ªåŸºäºåè°ƒçš„ç”Ÿäº§åˆ‡æ¢æ–¹æ¡ˆã€‚è¿™é‡Œé¢æœ‰ä¸¤éƒ¨åˆ†éå¸¸é‡è¦ã€‚ç¬¬ä¸€ä¸ªæ˜¯æ§åˆ¶å¹³é¢ï¼Œè´Ÿè´£åè°ƒæ•´ä¸ªåˆ‡æ¢è¿‡ç¨‹ã€‚ç¬¬äºŒä¸ªæ˜¯ZooKeeper ï¼Œç”¨æ¥ç»´æŠ¤è¿ç§»è¿‡ç¨‹ä¸­çš„ç¨‹åºçŠ¶æ€ã€‚ç”Ÿäº§æœåŠ¡ä¼šç›‘å¬è¿™äº›çŠ¶æ€ï¼Œå¹¶æ ¹æ®è·å–åˆ°çš„çŠ¶æ€åšå‡ºå¯¹åº”çš„ååº”ã€‚</p>
<ol>
<li>ç¬¬ä¸€é˜¶æ®µæ˜¯å‡†å¤‡é˜¶æ®µï¼Œæˆ‘ä»¬è¦æ±‚æ‰€æœ‰çš„ç”Ÿäº§è€…æ›´æ–°ä»–ä»¬çš„ä¸»é¢˜ç‰ˆæœ¬ï¼Œå¹¶åˆ›å»ºæ–°çš„ç”Ÿäº§è€…å®ä¾‹ã€‚è¿™ä¸€é˜¶æ®µä¸æ¶‰åŠåœæœºã€‚ç”Ÿäº§è€…åœ¨åå°è¿›è¡Œåˆå§‹åŒ–å’Œè¿æ¥éªŒè¯ã€‚è¿™æ—¶å€™ç”Ÿäº§ä»åœ¨ Kafka ä¸»é¢˜ä¸Šè¿›è¡Œã€‚å‡†å¤‡å¯èƒ½éœ€è¦ä¸€å®šæ—¶é—´ï¼Œå› ä¸ºéœ€è¦è®©æ§åˆ¶å¹³é¢ç­‰å¾…æ‰€æœ‰ç”Ÿäº§è€…éƒ½å‡†å¤‡å®Œæˆã€‚è¿™åŒ…æ‹¬ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬å¹¶å‡†å¤‡å¥½è¿æ¥å®ä¾‹å¯¹è±¡ã€‚</li>
<li>ç„¶åæˆ‘ä»¬è¿›å…¥åˆ‡æ¢é˜¶æ®µã€‚ç”Ÿäº§è€…å°†åœæ­¢å‘æ—§ä¸»é¢˜å‘é€æ¶ˆæ¯ï¼Œå¹¶å‡†å¤‡åˆ‡æ¢åˆ°æ–°ä¸»é¢˜ã€‚åœ¨å¾—åˆ°æ§åˆ¶é¢é€šçŸ¥ä»–ä»¬å…·ä½“çš„åˆ‡æ¢æŒ‡ä»¤ä¹‹å‰ï¼Œä»–ä»¬è¿˜ä¸ä¼šå‘æ–°ä¸»é¢˜å‘é€æ¶ˆæ¯ã€‚åœ¨æ­¤é˜¶æ®µï¼Œå®é™…çš„æ¶ˆæ¯ç”Ÿäº§ä¼šæš‚åœï¼Œå¯¼è‡´çŸ­æš‚çš„ç³»ç»Ÿåœæœºã€‚è¿™ä¸ªåœæœºæ—¶é—´é€šå¸¸æ˜¯éå¸¸çŸ­çš„ï¼Œå¹¶ä¸”æ˜¯å¯æ§çš„ã€‚</li>
<li>ä¹‹åè¿›å…¥æäº¤é˜¶æ®µã€‚æ§åˆ¶é¢å°†æŒ‡é’ˆä»Kafkaä¸»é¢˜æ›´æ”¹ä¸ºåˆ° Pulsar ä¸»é¢˜ï¼Œå¹¶åœ¨Zookeeperä¸­æ›´æ–°çŠ¶æ€ã€‚ç”Ÿäº§è€…åœ¨ç¡®è®¤æ›´æ–°æˆåŠŸåï¼Œå°†å¼€å§‹å‘æ–°çš„ä¸»é¢˜å‘é€æ¶ˆæ¯ã€‚</li>
<li>æ¥ä¸‹æ¥å°†æ¥åˆ°å®Œæˆé˜¶æ®µã€‚æ§åˆ¶å¹³é¢å°†çŠ¶æ€æ›´æ–°ä¸ºæˆåŠŸï¼Œç”Ÿäº§è€…å°†åœæ­¢ç›‘æ§Zookeeperã€‚</li>
</ol>
<p>ç„¶è€Œï¼Œå¦‚æœåœ¨ä»»ä½•é˜¶æ®µå‡ºç°é—®é¢˜ï¼Œå¦‚ç”Ÿäº§è€…æ— æ³•åœæ­¢å‘é€æ¶ˆæ¯æˆ–æ§åˆ¶å¹³é¢æ— æ³•æˆåŠŸæ›´æ–°Zookeeperï¼Œæˆ–ä¸¢å¤±è¿æ¥ç­‰ï¼Œç³»ç»Ÿå°†å›æ»šåˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯å›æ»šåˆ° Kafka ä¸»é¢˜ï¼Œé™åˆ¶ç”Ÿäº§çš„æ•°é‡ï¼Œå¹¶ä¸”åœæ­¢è¿ç§»ï¼Œå¹¶ä¸”å°†çŠ¶æ€æ›´æ–°ä¸ºå¤±è´¥ã€‚æ§åˆ¶å¹³é¢å’Œç”Ÿäº§è€…å°†æ ¹æ®å½“å‰è¿ç§»çŠ¶æ€å†³å®šæ˜¯æ¢å¤è¿˜æ˜¯ä¸­æ­¢æ“ä½œã€‚</p>
<h3 data-id="heading-22">ç”Ÿäº§è€…åˆ‡æ¢çš„ç»†èŠ‚</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8af139bf31b42ff8c630fed0c080b60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=7gRuTYYlPbZZYZdWrjE6wjdHQcI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>åœ¨å‡†å¤‡é˜¶æ®µæˆ‘ä»¬çš„ç”Ÿäº§è€…ä»ç„¶æŒ‡å‘Kafkaã€‚</li>
<li>åœ¨è¯·æ±‚åˆ‡æ¢çš„çŠ¶æ€æ—¶æˆ‘ä»¬çš„ç”Ÿäº§è€…æŒ‡é’ˆå·²ç»ç§»åŠ¨åˆ°Pulsarçš„ä¸»é¢˜ï¼Œä½†ç”Ÿäº§è¿˜æ²¡æœ‰å¼€å§‹ï¼Œå®ƒåœ¨ç­‰å¾…æäº¤ã€‚</li>
<li>ä¸€æ—¦æäº¤æˆåŠŸï¼Œç”Ÿäº§æŒ‡é’ˆå°†ä¼šåœ¨ Pulsar ä¸»é¢˜ä¸Šå¼€å§‹å‘å‰ç§»åŠ¨å¹¶å¼€å§‹åœ¨ç”Ÿäº§ã€‚</li>
<li>æ•´ä¸ªæ“ä½œå°†è¢«æ ‡è®°ä¸ºæˆåŠŸå®Œæˆã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1f0246894f84daa967fa390b9afc545~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=rpzCBO9GcAvyD0e9q7%2B0RMaLBG0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœå‡ºç°å¤±è´¥ï¼Œä¾‹å¦‚åœ¨è¯·æ±‚æ­¥éª¤ä¸­ï¼Œç”Ÿäº§è€…æŒ‡å‘äº† Pulsar ä¸Šï¼Œä½†æ— æ³•ç”Ÿäº§æ¶ˆæ¯ã€‚è¿™æ—¶å€™å°†é‡ç½®åˆ‡æ¢ï¼Œç”Ÿäº§æŒ‡é’ˆå°†å›åˆ° Kafka ä¸»é¢˜ï¼Œå¹¶å¼€å§‹åªå‘ Kafka å‘é€æ¶ˆæ¯ã€‚æ•´ä¸ªæ“ä½œå°†è¢«æ ‡è®°ä¸ºå®Œæˆï¼Œä½†çŠ¶æ€ä¸ºå¤±è´¥ã€‚</p>
<h3 data-id="heading-23">åè°ƒæ¶ˆè´¹è€…åˆ‡æ¢</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba04fbb0b4a242b4ba85df6d300f131a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=Ms6WDbd4LJvM3NLoqDAnKM6S4oc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¶ˆè´¹çš„åˆ‡æ¢æ˜¯ç›¸å½“ç›´æ¥çš„ã€‚æ¶ˆè´¹è€…ç”±æ§åˆ¶å¹³é¢æŒ‡å®šä»å“ªé‡Œæ¶ˆè´¹æ¶ˆæ¯ã€‚ä»æŒ‡å®šçš„æ¶ˆè´¹ ID å¼€å§‹æ¶ˆè´¹ï¼Œæˆ–è€…æ¶ˆè´¹ä¸»é¢˜é‡Œé¢æ»åçš„æ¶ˆæ¯ã€‚ä¸€æ—¦å®Œæˆï¼Œæ§åˆ¶å¹³é¢å°†æ›´æ–°æ¶ˆè´¹è€…ä¸»é¢˜ ID å¹¶ç§»è‡³ä¸‹ä¸€æ®µï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæ¶ˆè´¹è€…å°±å¯ä»¥å‘é€åˆ‡æ¢äº†ã€‚</p>
<h3 data-id="heading-24">å›æ»šç­–ç•¥</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/faa8269727064a8a91ed5c1741526ff2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=X6IWvydnHMnxfSTUq%2FAPO4M%2FoPI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å°±æ•…éšœå›æ»šæ–¹é¢æˆ‘ä»¬é‡‡å–çš„ç­–ç•¥ï¼Œå‡è®¾ä» Pulsar å‘ç°é—®é¢˜æƒ³è¦å›æ»šåˆ° Kafkaï¼Œæˆ‘ä»¬çš„ç­–ç•¥è§„å®šä¸èƒ½å›åˆ°ä¹‹å‰çš„ä¸»é¢˜ï¼Œè€Œæ˜¯å¿…é¡»æ·»åŠ ä¸€ä¸ªæ–°çš„ Kafka å­˜å‚¨æ®µï¼Œå¹¶ä¸”ç§»åŠ¨ç”Ÿäº§æŒ‡é’ˆï¼Œæˆ–è€…ä» Pulsar é‡æ–°è¿ç§»ä¸€æ¬¡åˆ° Kafkaã€‚è¿™æ˜¯å¿…è¦çš„ï¼Œæˆ‘ä»¬ä¸èƒ½é‡å¤ä½¿ç”¨åŒä¸€ä¸»é¢˜ã€‚æˆ‘ä»¬æœ¬å¯ä»¥å°†æŒ‡é’ˆä» Pulsar ç§»å›ä¾‹å­ä¸­çš„Kafka ä¸»é¢˜ä¸€ï¼Œä½†è¿™æ„å‘³ç€ Pulsar ä¸»é¢˜ä¸­çš„æ¶ˆæ¯å°†è¢«é”™è¯¯é”™ä¹±ï¼Œä»è€Œå¯¼è‡´æˆ‘ä»¬çš„ç”¨æˆ·é­å—é¡ºåºæ€§æ–¹é¢çš„æŸå¤±ã€‚</p>
<p>å› æ­¤ï¼Œå³ä½¿æ˜¯å›æ»šä¹Ÿæ„å‘³ç€å¦ä¸€æ¬¡å˜ç›¸çš„è¿ç§»ã€‚</p>
<h3 data-id="heading-25">é¢å¤–æ”¶ç›Š</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15d4b5db8e0e4843982ee7141c415b81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXNjZW50U3RyZWFt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763719540&amp;x-signature=%2BARS3a5sXkRZw5V%2FKZazyFM6%2Bsg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬é€šè¿‡è¿™ç§è¿ç§»ç­–ç•¥è·å¾—äº†ä¸€äº›é¢å¤–çš„å¥½å¤„ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ›´æ”¹ä¸»é¢˜çš„å‘½åç©ºé—´ï¼Œè¿™åœ¨ Pulsar ä¸­æœ¬æ¥æ˜¯ä¸å¯èƒ½çš„ã€‚æˆ‘ä»¬ç”šè‡³è¿˜å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œå°†ä¸»é¢˜ä»ä¸€ä¸ªå‘½åç©ºé—´è¿ç§»åˆ°å¦ä¸€ä¸ªå‘½åç©ºé—´ã€‚æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ Pulsar ä¸­æ›´æ–°ä¸»é¢˜çš„åˆ†åŒºæ•°è€Œä¸ä¼šå¤±å»æ¶ˆæ¯çš„é¡ºåºæ€§ã€‚è¿™æ˜¯ç›®å‰ä»»ä½•æ¶ˆæ¯é˜Ÿåˆ—éƒ½ä¸èƒ½æä¾›çš„ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥å±•ç¤ºä¸»é¢˜çš„ä½¿ç”¨æƒ…å†µï¼Œåƒä¸€ä¸ªæ—¶é—´è½´ä¸€æ ·ï¼Œæ¯•ç«Ÿæ¯ä¸ªæ®µéƒ½æ˜¯è¢«è®°å½•çš„ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ®µ1æ˜¯åœ¨ Kafka ä¸­ï¼Œç„¶åæˆ‘ä»¬ç§»åŠ¨åˆ° Pulsarï¼Œç„¶åä» 5 ä¸ªåˆ†åŒºæ‰©å®¹åˆ° 10 ä¸ªåˆ†åŒºç­‰ç­‰ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥çœ‹åˆ°ä¸»é¢˜åœ¨è¿™æ®µæ—¶é—´çš„è‡ªç„¶æ¼”å˜ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬æ­£åœ¨å°† Varadhi å¼€æºã€‚æˆ‘ä»¬ç°åœ¨æ­£åœ¨é‡æ–°å®¡è§† Varadhiï¼Œåšä¸€äº›å½»åº•çš„æ”¹è¿›ã€‚æˆ‘ä»¬æ­£åœ¨é‡å†™æ‰€æœ‰çš„æ¨¡å‹ï¼Œä»¥è§£å†³æˆ‘ä»¬åœ¨åˆç‰ˆ Varadhi ä¸­å‘ç°çš„ä¸€äº›æ¶æ„æ¼æ´ï¼Œå¹¶å¸Œæœ›å°†å…¶è´¡çŒ®ç»™å¼€æºç¤¾åŒºã€‚</p>
<ul>
<li>ä»£ç ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fflipkart-incubator%2Fvaradhi%255B1%255D" target="_blank" title="https://github.com/flipkart-incubator/varadhi%5B1%5D" ref="nofollow noopener noreferrer">github.com/flipkart-inâ€¦</a></li>
<li>åšå®¢ã€ŠFlipkartæ¶ˆæ¯æ€»çº¿æ•…éšœå¤„ç†æ–¹æ³•ã€‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.flipkart.tech%2Feffective-failure-handling-in-flipkarts-message-bus-436c36be76cc%255B2%255D" target="_blank" title="https://blog.flipkart.tech/effective-failure-handling-in-flipkarts-message-bus-436c36be76cc%5B2%5D" ref="nofollow noopener noreferrer">blog.flipkart.tech/effective-fâ€¦</a></li>
</ul>
<p>æˆ‘ä»¬ä¼šå¾ˆé«˜å…´å¬åˆ°æ¥è‡ªæ‚¨çš„åé¦ˆã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥è”ç³» Pulsar ç¤¾åŒºï¼Œæˆ–è€…ç›´æ¥è”ç³»æˆ‘ä»¬ã€‚æ„Ÿè°¢å¤§å®¶çš„æ—¶é—´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++ä¸­æœ‰åŒå‘æ˜ å°„æ•°æ®ç»“æ„å—ï¼ŸKeyå’ŒValueèƒ½å¦åŒå‘æŸ¥æ‰¾ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572385850635534342</link>    <guid>https://juejin.cn/post/7572385850635534342</guid>    <pubDate>2025-11-14T10:24:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572385850635534342" data-draft-id="7572385850635501574" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++ä¸­æœ‰åŒå‘æ˜ å°„æ•°æ®ç»“æ„å—ï¼ŸKeyå’ŒValueèƒ½å¦åŒå‘æŸ¥æ‰¾ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T10:24:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="oioihoii"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++ä¸­æœ‰åŒå‘æ˜ å°„æ•°æ®ç»“æ„å—ï¼ŸKeyå’ŒValueèƒ½å¦åŒå‘æŸ¥æ‰¾ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    oioihoii
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:24:11.000Z" title="Fri Nov 14 2025 10:24:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸çš„C++å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„éœ€æ±‚ï¼šä¸ä»…éœ€è¦é€šè¿‡keyå¿«é€Ÿæ‰¾åˆ°valueï¼Œè¿˜éœ€è¦é€šè¿‡valueåæŸ¥keyã€‚è¿™ç§åŒå‘æ˜ å°„çš„éœ€æ±‚åœ¨å®é™…é¡¹ç›®ä¸­ååˆ†å¸¸è§ï¼Œæ¯”å¦‚ç”¨æˆ·IDä¸ç”¨æˆ·åçš„æ˜ å°„ã€é”™è¯¯ç ä¸é”™è¯¯ä¿¡æ¯çš„å¯¹åº”å…³ç³»ç­‰ã€‚é‚£ä¹ˆï¼ŒC++æ ‡å‡†åº“æ˜¯å¦æä¾›äº†è¿™æ ·çš„æ•°æ®ç»“æ„å‘¢ï¼Ÿ</p>
<h2 data-id="heading-0">C++æ ‡å‡†åº“çš„ç°çŠ¶ï¼šä»¤äººé—æ†¾çš„ç¼ºå¤±</h2>
<p>ä»¤äººé—æ†¾çš„æ˜¯ï¼ŒC++æ ‡å‡†åº“ä¸­å¹¶æ²¡æœ‰ç›´æ¥æä¾›ä¸“é—¨çš„åŒå‘æ˜ å°„æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬ç†Ÿæ‚‰çš„<code>std::map</code>å’Œ<code>std::unordered_map</code>éƒ½åªèƒ½å®ç°å•å‘æŸ¥æ‰¾â€”â€”åªèƒ½é€šè¿‡keyæŸ¥æ‰¾valueï¼Œæ— æ³•é€šè¿‡valueå¿«é€Ÿæ‰¾åˆ°keyã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-comment">// ä¼ ç»Ÿçš„unordered_mapåªèƒ½å•å‘æŸ¥æ‰¾</span>
std::unordered_map&lt;<span class="hljs-type">int</span>, std::string&gt; single_map;
single_map[<span class="hljs-number">1</span>] = <span class="hljs-string">"Alice"</span>;
single_map[<span class="hljs-number">2</span>] = <span class="hljs-string">"Bob"</span>;

<span class="hljs-comment">// å¯ä»¥é€šè¿‡keyæ‰¾åˆ°value</span>
std::string name = single_map[<span class="hljs-number">1</span>];  <span class="hljs-comment">// æ­£ç¡®ï¼šå¾—åˆ°"Alice"</span>

<span class="hljs-comment">// ä½†æ˜¯æ— æ³•ç›´æ¥é€šè¿‡valueæ‰¾åˆ°key</span>
<span class="hljs-comment">// éœ€è¦éå†æ•´ä¸ªmapï¼Œæ•ˆç‡ä½ä¸‹ï¼</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findKeyByValue</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; value)</span> </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; pair : single_map) {
        <span class="hljs-keyword">if</span> (pair.second == value) {
            <span class="hljs-keyword">return</span> pair.first;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>; <span class="hljs-comment">// æœªæ‰¾åˆ°</span>
}
</code></pre>
<p>è¿™ç§éå†æŸ¥æ‰¾çš„æ–¹å¼æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œåœ¨æ•°æ®é‡è¾ƒå¤§æ—¶æ€§èƒ½æ˜¯æ— æ³•æ¥å—çš„ã€‚</p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆï¼šè‡ªå·±åŠ¨æ‰‹ï¼Œä¸°è¡£è¶³é£Ÿ</h2>
<p>æ—¢ç„¶æ ‡å‡†åº“æ²¡æœ‰æä¾›ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±å®ç°ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-2">æ–¹æ¡ˆä¸€ï¼šåŒunordered_mapå®ç°ï¼ˆæ¨èï¼‰</h3>
<p>è¿™æ˜¯æœ€ç›´æ¥ä¸”é«˜æ•ˆçš„æ–¹æ³•ï¼Œç»´æŠ¤ä¸¤ä¸ªå“ˆå¸Œè¡¨ï¼Œåˆ†åˆ«å­˜å‚¨key-&gt;valueå’Œvalue-&gt;keyçš„æ˜ å°„å…³ç³»ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span></span>

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> K, <span class="hljs-keyword">typename</span> V&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BiDirectionalMap</span> {
<span class="hljs-keyword">private</span>:
    std::unordered_map&lt;K, V&gt; key_to_value;
    std::unordered_map&lt;V, K&gt; value_to_key;

<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ’å…¥é”®å€¼å¯¹</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">const</span> K&amp; key, <span class="hljs-type">const</span> V&amp; value)</span> </span>{
        <span class="hljs-keyword">if</span> (key_to_value.<span class="hljs-built_in">count</span>(key) || value_to_key.<span class="hljs-built_in">count</span>(value)) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">"Key or value already exists"</span>);
        }
        key_to_value[key] = value;
        value_to_key[value] = key;
    }
    
    <span class="hljs-comment">// é€šè¿‡keyè·å–value</span>
    <span class="hljs-function">V <span class="hljs-title">getValue</span><span class="hljs-params">(<span class="hljs-type">const</span> K&amp; key)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">auto</span> it = key_to_value.<span class="hljs-built_in">find</span>(key);
        <span class="hljs-keyword">if</span> (it == key_to_value.<span class="hljs-built_in">end</span>()) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">"Key not found"</span>);
        }
        <span class="hljs-keyword">return</span> it-&gt;second;
    }
    
    <span class="hljs-comment">// é€šè¿‡valueè·å–key</span>
    <span class="hljs-function">K <span class="hljs-title">getKey</span><span class="hljs-params">(<span class="hljs-type">const</span> V&amp; value)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">auto</span> it = value_to_key.<span class="hljs-built_in">find</span>(value);
        <span class="hljs-keyword">if</span> (it == value_to_key.<span class="hljs-built_in">end</span>()) {
            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">"Value not found"</span>);
        }
        <span class="hljs-keyword">return</span> it-&gt;second;
    }
    
    <span class="hljs-comment">// æ£€æŸ¥keyæ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">containsKey</span><span class="hljs-params">(<span class="hljs-type">const</span> K&amp; key)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> key_to_value.<span class="hljs-built_in">find</span>(key) != key_to_value.<span class="hljs-built_in">end</span>();
    }
    
    <span class="hljs-comment">// æ£€æŸ¥valueæ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">containsValue</span><span class="hljs-params">(<span class="hljs-type">const</span> V&amp; value)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> value_to_key.<span class="hljs-built_in">find</span>(value) != value_to_key.<span class="hljs-built_in">end</span>();
    }
    
    <span class="hljs-comment">// é€šè¿‡keyåˆ é™¤</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">eraseByKey</span><span class="hljs-params">(<span class="hljs-type">const</span> K&amp; key)</span> </span>{
        <span class="hljs-keyword">auto</span> it = key_to_value.<span class="hljs-built_in">find</span>(key);
        <span class="hljs-keyword">if</span> (it != key_to_value.<span class="hljs-built_in">end</span>()) {
            value_to_key.<span class="hljs-built_in">erase</span>(it-&gt;second);
            key_to_value.<span class="hljs-built_in">erase</span>(it);
        }
    }
    
    <span class="hljs-comment">// é€šè¿‡valueåˆ é™¤</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">eraseByValue</span><span class="hljs-params">(<span class="hljs-type">const</span> V&amp; value)</span> </span>{
        <span class="hljs-keyword">auto</span> it = value_to_key.<span class="hljs-built_in">find</span>(value);
        <span class="hljs-keyword">if</span> (it != value_to_key.<span class="hljs-built_in">end</span>()) {
            key_to_value.<span class="hljs-built_in">erase</span>(it-&gt;second);
            value_to_key.<span class="hljs-built_in">erase</span>(it);
        }
    }
    
    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> key_to_value.<span class="hljs-built_in">size</span>();
    }
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> key_to_value.<span class="hljs-built_in">empty</span>();
    }
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    BiDirectionalMap&lt;<span class="hljs-type">int</span>, std::string&gt; id_name_map;
    
    <span class="hljs-comment">// æ’å…¥æ•°æ®</span>
    id_name_map.<span class="hljs-built_in">insert</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"Alice"</span>);
    id_name_map.<span class="hljs-built_in">insert</span>(<span class="hljs-number">2</span>, <span class="hljs-string">"Bob"</span>);
    id_name_map.<span class="hljs-built_in">insert</span>(<span class="hljs-number">3</span>, <span class="hljs-string">"Charlie"</span>);
    
    <span class="hljs-comment">// åŒå‘æŸ¥æ‰¾</span>
    std::cout &lt;&lt; <span class="hljs-string">"Name for ID 2: "</span> &lt;&lt; id_name_map.<span class="hljs-built_in">getValue</span>(<span class="hljs-number">2</span>) &lt;&lt; std::endl; <span class="hljs-comment">// Bob</span>
    std::cout &lt;&lt; <span class="hljs-string">"ID for name 'Alice': "</span> &lt;&lt; id_name_map.<span class="hljs-built_in">getKey</span>(<span class="hljs-string">"Alice"</span>) &lt;&lt; std::endl; <span class="hljs-comment">// 1</span>
    
    <span class="hljs-comment">// åˆ é™¤æ“ä½œ</span>
    id_name_map.<span class="hljs-built_in">eraseByKey</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// é€šè¿‡keyåˆ é™¤</span>
    id_name_map.<span class="hljs-built_in">eraseByValue</span>(<span class="hljs-string">"Bob"</span>); <span class="hljs-comment">// é€šè¿‡valueåˆ é™¤</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>è¿™ç§å®ç°çš„ä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li><strong>æŸ¥æ‰¾æ•ˆç‡é«˜</strong>ï¼šä¸¤ä¸ªæ–¹å‘éƒ½æ˜¯O(1)æ—¶é—´å¤æ‚åº¦</li>
<li><strong>å®ç°ç®€å•</strong>ï¼šä»£ç ç›´è§‚æ˜“æ‡‚</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šæ”¯æŒä¸åŒçš„keyå’Œvalueç±»å‹</li>
</ul>
<p>ç¼ºç‚¹æ˜¯ï¼š</p>
<ul>
<li><strong>å†…å­˜å ç”¨ç¿»å€</strong>ï¼šéœ€è¦å­˜å‚¨ä¸¤ä»½æ•°æ®</li>
<li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šéœ€è¦ç¡®ä¿ä¸¤ä¸ªmapå§‹ç»ˆä¿æŒåŒæ­¥</li>
</ul>
<h3 data-id="heading-3">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨Boost.Bimap</h3>
<p>å¦‚æœä½ ä¸ä»‹æ„ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ŒBooståº“æä¾›äº†ç°æˆçš„<code>bimap</code>å®ç°ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;boost/bimap.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    boost::bimap&lt;<span class="hljs-type">int</span>, std::string&gt; bimap;
    
    <span class="hljs-comment">// æ’å…¥æ•°æ®</span>
    bimap.<span class="hljs-built_in">insert</span>({<span class="hljs-number">1</span>, <span class="hljs-string">"Alice"</span>});
    bimap.<span class="hljs-built_in">insert</span>({<span class="hljs-number">2</span>, <span class="hljs-string">"Bob"</span>});
    bimap.<span class="hljs-built_in">insert</span>({<span class="hljs-number">3</span>, <span class="hljs-string">"Charlie"</span>});
    
    <span class="hljs-comment">// å·¦è§†å›¾ï¼škey-&gt;value</span>
    <span class="hljs-keyword">auto</span> left_it = bimap.left.<span class="hljs-built_in">find</span>(<span class="hljs-number">2</span>);
    <span class="hljs-keyword">if</span> (left_it != bimap.left.<span class="hljs-built_in">end</span>()) {
        std::cout &lt;&lt; <span class="hljs-string">"Left lookup: "</span> &lt;&lt; left_it-&gt;second &lt;&lt; std::endl; <span class="hljs-comment">// Bob</span>
    }
    
    <span class="hljs-comment">// å³è§†å›¾ï¼švalue-&gt;key</span>
    <span class="hljs-keyword">auto</span> right_it = bimap.right.<span class="hljs-built_in">find</span>(<span class="hljs-string">"Alice"</span>);
    <span class="hljs-keyword">if</span> (right_it != bimap.right.<span class="hljs-built_in">end</span>()) {
        std::cout &lt;&lt; <span class="hljs-string">"Right lookup: "</span> &lt;&lt; right_it-&gt;second &lt;&lt; std::endl; <span class="hljs-comment">// 1</span>
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>Boost.Bimapçš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>åŠŸèƒ½å®Œå–„</strong>ï¼šæä¾›äº†ä¸°å¯Œçš„æ¥å£å’Œé…ç½®é€‰é¡¹</li>
<li><strong>ç»è¿‡å……åˆ†æµ‹è¯•</strong>ï¼šå·¥ä¸šçº§è´¨é‡</li>
<li><strong>æ”¯æŒå¤šç§æ˜ å°„ç±»å‹</strong>ï¼šä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šç­‰</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li><strong>ä¾èµ–Booståº“</strong>ï¼šéœ€è¦é¢å¤–å®‰è£…å’Œé…ç½®</li>
<li><strong>ç¼–è¯‘æ—¶é—´å¢åŠ </strong>ï¼šæ¨¡æ¿ä»£ç è¾ƒå¤š</li>
</ul>
<h3 data-id="heading-4">æ–¹æ¡ˆä¸‰ï¼šå•ä¸€å®¹å™¨çš„å·§å¦™ç”¨æ³•</h3>
<p>åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œå¦‚æœkeyå’Œvalueçš„ç±»å‹ç›¸åŒä¸”ä¸ä¼šå†²çªï¼Œå¯ä»¥ä½¿ç”¨å•ä¸€å®¹å™¨ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SymmetricMap</span> {
<span class="hljs-keyword">private</span>:
    std::unordered_map&lt;std::string, std::string&gt; data;

<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; a, <span class="hljs-type">const</span> std::string&amp; b)</span> </span>{
        data[a] = b;
        data[b] = a;
    }
    
    <span class="hljs-function">std::string <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; key)</span> </span>{
        <span class="hljs-keyword">auto</span> it = data.<span class="hljs-built_in">find</span>(key);
        <span class="hljs-keyword">return</span> it != data.<span class="hljs-built_in">end</span>() ? it-&gt;second : <span class="hljs-string">""</span>;
    }
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">contains</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; key)</span> </span>{
        <span class="hljs-keyword">return</span> data.<span class="hljs-built_in">find</span>(key) != data.<span class="hljs-built_in">end</span>();
    }
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šåŸŸåä¸IPæ˜ å°„ï¼ˆå‡è®¾ä¸ä¼šå†²çªï¼‰</span>
SymmetricMap domain_ip_map;
domain_ip_map.<span class="hljs-built_in">insert</span>(<span class="hljs-string">"google.com"</span>, <span class="hljs-string">"8.8.8.8"</span>);
domain_ip_map.<span class="hljs-built_in">insert</span>(<span class="hljs-string">"github.com"</span>, <span class="hljs-string">"1.1.1.1"</span>);

std::cout &lt;&lt; domain_ip_map.<span class="hljs-built_in">get</span>(<span class="hljs-string">"google.com"</span>); <span class="hljs-comment">// 8.8.8.8</span>
std::cout &lt;&lt; domain_ip_map.<span class="hljs-built_in">get</span>(<span class="hljs-string">"8.8.8.8"</span>);    <span class="hljs-comment">// google.com</span>
</code></pre>
<p>è¿™ç§æ–¹æ³•åªé€‚ç”¨äºå¾ˆæœ‰é™çš„åœºæ™¯ï¼Œä½¿ç”¨æ—¶éœ€è¦æ ¼å¤–å°å¿ƒã€‚</p>
<h2 data-id="heading-5">æ€§èƒ½è€ƒé‡ï¼šå¦‚ä½•é€‰æ‹©é€‚åˆçš„æ–¹æ¡ˆï¼Ÿ</h2>
<p>åœ¨é€‰æ‹©åŒå‘æ˜ å°„çš„å®ç°æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š</p>
<ol>
<li>
<p><strong>æ•°æ®è§„æ¨¡</strong></p>
<ul>
<li>å°æ•°æ®é‡ï¼šä»»ä½•æ–¹æ¡ˆéƒ½å¯ä»¥</li>
<li>å¤§æ•°æ®é‡ï¼šä¼˜å…ˆè€ƒè™‘åŒunordered_mapæˆ–Boost.Bimap</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½è¦æ±‚</strong></p>
<ul>
<li>è¦æ±‚O(1)æŸ¥æ‰¾ï¼šé€‰æ‹©åŸºäºå“ˆå¸Œè¡¨çš„å®ç°</li>
<li>å¯ä»¥æ¥å—O(log n)ï¼šä¹Ÿå¯ä»¥è€ƒè™‘åŸºäºstd::mapçš„å®ç°</li>
</ul>
</li>
<li>
<p><strong>å¼€å‘ç¯å¢ƒ</strong></p>
<ul>
<li>å…è®¸ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼šè€ƒè™‘Boost.Bimap</li>
<li>çº¯æ ‡å‡†åº“ç¯å¢ƒï¼šé€‰æ‹©åŒunordered_mapå®ç°</li>
</ul>
</li>
<li>
<p><strong>å†…å­˜é™åˆ¶</strong></p>
<ul>
<li>å†…å­˜å……è¶³ï¼šåŒunordered_map</li>
<li>å†…å­˜ç´§å¼ ï¼šå¯èƒ½éœ€è¦è€ƒè™‘å…¶ä»–ä¼˜åŒ–æ–¹æ¡ˆ</li>
</ul>
</li>
</ol>
<h2 data-id="heading-6">å®é™…åº”ç”¨åœºæ™¯</h2>
<p>åŒå‘æ˜ å°„åœ¨çœŸå®é¡¹ç›®ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åœºæ™¯1ï¼šç”¨æˆ·ç³»ç»Ÿ</span>
BiDirectionalMap&lt;UserID, std::string&gt; user_system;
user_system.<span class="hljs-built_in">insert</span>(<span class="hljs-number">1001</span>, <span class="hljs-string">"alice@email.com"</span>);
user_system.<span class="hljs-built_in">insert</span>(<span class="hljs-number">1002</span>, <span class="hljs-string">"bob@email.com"</span>);

<span class="hljs-comment">// æ—¢å¯ä»¥é€šè¿‡IDæ‰¾é‚®ç®±ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‚®ç®±æ‰¾ID</span>

<span class="hljs-comment">// åœºæ™¯2ï¼šé…ç½®ç³»ç»Ÿ</span>
BiDirectionalMap&lt;std::string, <span class="hljs-type">int</span>&gt; config_map;
config_map.<span class="hljs-built_in">insert</span>(<span class="hljs-string">"MAX_CONNECTIONS"</span>, <span class="hljs-number">100</span>);
config_map.<span class="hljs-built_in">insert</span>(<span class="hljs-string">"TIMEOUT_MS"</span>, <span class="hljs-number">5000</span>);

<span class="hljs-comment">// åœºæ™¯3ï¼šæšä¸¾å€¼æ˜ å°„</span>
<span class="hljs-keyword">enum class</span> <span class="hljs-title class_">ErrorCode</span> { SUCCESS, NOT_FOUND, PERMISSION_DENIED };
BiDirectionalMap&lt;ErrorCode, std::string&gt; error_messages;
error_messages.<span class="hljs-built_in">insert</span>(ErrorCode::SUCCESS, <span class="hljs-string">"Operation successful"</span>);
error_messages.<span class="hljs-built_in">insert</span>(ErrorCode::NOT_FOUND, <span class="hljs-string">"Resource not found"</span>);
</code></pre>
<h2 data-id="heading-7">æ€»ç»“ä¸å»ºè®®</h2>
<p>å›åˆ°æˆ‘ä»¬æœ€åˆçš„é—®é¢˜ï¼šC++ä¸­æœ‰åŒå‘æ˜ å°„æ•°æ®ç»“æ„å—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ ‡å‡†åº“ä¸­æ²¡æœ‰ç›´æ¥æä¾›ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ã€‚</p>
<p><strong>ç»™å¼€å‘è€…çš„å»ºè®®ï¼š</strong></p>
<ol>
<li>
<p><strong>å¯¹äºå¤§å¤šæ•°é¡¹ç›®</strong>ï¼Œæ¨èä½¿ç”¨åŒ<code>std::unordered_map</code>çš„å®ç°ï¼Œå®ƒç®€å•ã€é«˜æ•ˆä¸”ä¸ä¾èµ–å¤–éƒ¨åº“ã€‚</p>
</li>
<li>
<p><strong>å¯¹äºå¤æ‚é¡¹ç›®</strong>ï¼Œå¦‚æœå·²ç»åœ¨ä½¿ç”¨Booståº“ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>boost::bimap</code>ã€‚</p>
</li>
<li>
<p><strong>å¯¹äºæ€§èƒ½æ•æ„Ÿçš„åœºæ™¯</strong>ï¼ŒåŠ¡å¿…è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œé€‰æ‹©æœ€é€‚åˆå…·ä½“ç”¨ä¾‹çš„å®ç°ã€‚</p>
</li>
<li>
<p><strong>è®°å¾—å¤„ç†å¼‚å¸¸æƒ…å†µ</strong>ï¼Œç‰¹åˆ«æ˜¯åœ¨æ’å…¥é‡å¤keyæˆ–valueæ—¶çš„å¤„ç†ç­–ç•¥ã€‚</p>
</li>
</ol>
<p>åŒå‘æ˜ å°„è™½ç„¶ä¸åœ¨C++æ ‡å‡†åº“ä¸­ï¼Œä½†é€šè¿‡åˆç†çš„å°è£…å’Œè®¾è®¡ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥æ„å»ºå‡ºé«˜æ•ˆã€æ˜“ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚è¿™æ­£ä½“ç°äº†C++çš„å“²å­¦ï¼šä¸æä¾›ä½ ä¸éœ€è¦çš„ä¸œè¥¿ï¼Œä½†ç»™ä½ æ„å»ºæ‰€éœ€ä¸€åˆ‡çš„å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬2ç« ï¼šé¡¹ç›®å¯åŠ¨ - ä½¿ç”¨Viteè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®ä¸å·¥ç¨‹åŒ–é…ç½®]]></title>    <link>https://juejin.cn/post/7572002432451035145</link>    <guid>https://juejin.cn/post/7572002432451035145</guid>    <pubDate>2025-11-13T11:32:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572002432451035145" data-draft-id="7568055953309302835" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬2ç« ï¼šé¡¹ç›®å¯åŠ¨ - ä½¿ç”¨Viteè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®ä¸å·¥ç¨‹åŒ–é…ç½®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-13T11:32:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‡µåœˆ"/> <meta itemprop="url" content="https://juejin.cn/user/2314885043588058"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬2ç« ï¼šé¡¹ç›®å¯åŠ¨ - ä½¿ç”¨Viteè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®ä¸å·¥ç¨‹åŒ–é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2314885043588058/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‡µåœˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T11:32:11.000Z" title="Thu Nov 13 2025 11:32:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»31åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ç¬¬2ç« ï¼šé¡¹ç›®å¯åŠ¨ - ä½¿ç”¨Viteè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®ä¸å·¥ç¨‹åŒ–é…ç½®</strong></h2>
<h3 data-id="heading-1"><strong>2.1 åŒ…ç®¡ç†å·¥å…·çš„é€‰æ‹©</strong></h3>
<p>åœ¨å¼€å§‹é¡¹ç›®ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆè§£å†³ä¸€ä¸ªåŸºç¡€ä½†å…³é”®çš„é—®é¢˜ï¼š<strong>åŒ…ç®¡ç†å·¥å…·çš„é€‰æ‹©</strong>ã€‚</p>
<h4 data-id="heading-2"><strong>åŒ…ç®¡ç†å·¥å…·æ€§èƒ½åŸºå‡†å¯¹æ¯”</strong></h4>
<ul>
<li><strong>æ ¸å¿ƒç‰¹æ€§å¯¹æ¯”</strong></li>
</ul>





















































<table><thead><tr><th>ç‰¹æ€§</th><th>npm</th><th>pnpm</th><th>yarn</th></tr></thead><tbody><tr><td><strong>é¦–æ¬¡å‘å¸ƒæ—¶é—´</strong></td><td>2010</td><td>2017</td><td>2016</td></tr><tr><td><strong>ä¾èµ–ç®¡ç†æ–¹å¼</strong></td><td>æ‰å¹³åŒ–node_modules</td><td>å†…å®¹å¯»å€å­˜å‚¨+ç¬¦å·é“¾æ¥</td><td>æ‰å¹³åŒ–node_modules</td></tr><tr><td><strong>é”æ–‡ä»¶</strong></td><td>package-lock.json</td><td>pnpm-lock.yaml</td><td>yarn.lock</td></tr><tr><td><strong>å®‰è£…ç®—æ³•</strong></td><td>é¡ºåºå®‰è£…</td><td>å¹¶è¡Œå®‰è£…+ä¾èµ–å…±äº«</td><td>å¹¶è¡Œå®‰è£…</td></tr><tr><td><strong>ç£ç›˜ç©ºé—´ä½¿ç”¨</strong></td><td>é¡¹ç›®ç‹¬ç«‹å­˜å‚¨</td><td>å…¨å±€å…±äº«å­˜å‚¨</td><td>é¡¹ç›®ç‹¬ç«‹å­˜å‚¨</td></tr><tr><td><strong>Monorepoæ”¯æŒ</strong></td><td>åŸºç¡€æ”¯æŒ</td><td>åŸç”Ÿä¼˜ç§€æ”¯æŒ</td><td>Workspacesæ”¯æŒ</td></tr><tr><td><strong>é»˜è®¤å®‰å…¨ç­–ç•¥</strong></td><td>é»˜è®¤å®½æ¾</td><td>ä¸¥æ ¼ä¾èµ–éš”ç¦»</td><td>é»˜è®¤ä¸­ç­‰</td></tr></tbody></table>
<ul>
<li><strong>å®‰è£…æ€§èƒ½å¯¹æ¯”</strong></li>
</ul>

<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># æ€§èƒ½åŸºå‡†æµ‹è¯•å¯¹æ¯”ï¼ˆç›¸åŒé¡¹ç›®ï¼‰</span>
<span class="hljs-attr">npm install:</span>  <span class="hljs-number">45.</span><span class="hljs-string">6s</span>
<span class="hljs-attr">yarn install:</span> <span class="hljs-number">38.</span><span class="hljs-string">2s</span> Â 
<span class="hljs-attr">pnpm install:</span> <span class="hljs-number">12.</span><span class="hljs-string">3s</span>  <span class="hljs-comment"># é€Ÿåº¦æå‡3-4å€ï¼</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment"># ç£ç›˜ç©ºé—´å ç”¨å¯¹æ¯”</span>
<span class="hljs-attr">npm:</span>  <span class="hljs-string">450MB</span>
<span class="hljs-attr">yarn:</span> <span class="hljs-string">350MB</span>
<span class="hljs-attr">pnpm:</span> <span class="hljs-string">180MB</span>  <span class="hljs-comment"># ç©ºé—´èŠ‚çœ60%ï¼</span>
</code></pre>
<h4 data-id="heading-3"><strong>pnpmçš„æ ¸å¿ƒåŸç†ï¼šå†…å®¹å¯»å€å­˜å‚¨ä¸ç¡¬é“¾æ¥</strong></h4>
<ul>
<li><strong>ä¼ ç»Ÿnpm/yarnçš„é—®é¢˜</strong></li>
</ul>
<p>ä¼ ç»Ÿå·¥å…·å¦‚<code>npm</code>æˆ–<code>yarn</code>é‡‡ç”¨å¹³é“ºæˆ–åµŒå¥—çš„<code>node_modules</code>ç»“æ„ï¼Œå¯¼è‡´åŒä¸€ä¸ªä¾èµ–åŒ…å¯èƒ½åœ¨å¤šä¸ªåœ°æ–¹é‡å¤å®‰è£…ï¼Œè¿™ç§ç»“æ„ä¸ä»…å ç”¨å¤§é‡ç£ç›˜ç©ºé—´ï¼Œè¿˜å¯èƒ½å¯¼è‡´ä¾èµ–ç‰ˆæœ¬å†²çªå’Œæ‰€è°“çš„"å¹½çµä¾èµ–"é—®é¢˜ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ä¼ ç»Ÿnode_modulesç»“æ„ï¼ˆåµŒå¥—æˆ–å¹³é“ºï¼‰</span>
node_modules/
â”œâ”€â”€ <span class="hljs-keyword">package</span>-a/
â”‚ Â  â””â”€â”€ node_modules/
â”‚ Â  Â  Â  â”œâ”€â”€ lodash@4.<span class="hljs-number">17.21</span>/
â”œâ”€â”€ <span class="hljs-keyword">package</span>-b/
â”‚ Â  â””â”€â”€ node_modules/
â”‚ Â  Â  Â  â”œâ”€â”€ lodash@4.<span class="hljs-number">17.21</span>/  <span class="hljs-comment"># é‡å¤å®‰è£…ï¼</span>
</code></pre>
<ul>
<li><strong>pnpmçš„åˆ›æ–°è§£å†³æ–¹æ¡ˆ</strong></li>
</ul>
<p>é€šè¿‡å†…å®¹å¯»å€å­˜å‚¨å’Œç¬¦å·é“¾æ¥æŠ€æœ¯ï¼Œ<code>pnpm</code>å®ç°äº†çœŸæ­£çš„ä¾èµ–å…±äº«ï¼Œè¿™ç§æ¶æ„ä¸ä»…è§£å†³äº†ç£ç›˜ç©ºé—´é—®é¢˜ï¼Œè¿˜ä¿è¯äº†ä¾èµ–æ ‘çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># pnpmçš„è™šæ‹Ÿå­˜å‚¨ç»“æ„</span>
node_modules/
â”œâ”€â”€ .pnpm/  <span class="hljs-comment"># è™šæ‹Ÿå­˜å‚¨ç›®å½•ï¼ˆæ‰€æœ‰ä¾èµ–çš„ç¡¬é“¾æ¥ï¼‰</span>
â”‚ Â  â”œâ”€â”€ lodash@4.17.21/
â”‚ Â  â”‚ Â  â””â”€â”€ node_modules/lodash -&gt; ~/.pnpm-store/v3/files/00/...
â”‚ Â  â””â”€â”€ react@18.2.0/
â”‚ Â  Â  Â  â””â”€â”€ node_modules/react -&gt; ~/.pnpm-store/v3/files/01/...
â”œâ”€â”€ lodash -&gt; .pnpm/lodash@4.17.21/node_modules/lodash
â””â”€â”€ react -&gt; .pnpm/react@18.2.0/node_modules/react
</code></pre>
<ul>
<li><strong>pnpmçš„å·¥ä½œåŸç†</strong></li>
</ul>
<ol start="0">
<li><strong>å†…å®¹å¯»å€å­˜å‚¨</strong>ï¼šåŸºäºæ–‡ä»¶å†…å®¹çš„å“ˆå¸Œå€¼å­˜å‚¨ï¼Œç›¸åŒå†…å®¹åªå­˜ä¸€ä»½</li>
<li><strong>ç¡¬é“¾æ¥æŠ€æœ¯</strong>ï¼šåœ¨é¡¹ç›®<code>node_modules</code>ä¸­åˆ›å»ºæŒ‡å‘å…¨å±€å­˜å‚¨çš„é“¾æ¥</li>
<li><strong>ç¬¦å·é“¾æ¥</strong>ï¼šç»´æŠ¤çœŸå®çš„ä¾èµ–æ ‘ç»“æ„ï¼Œé¿å…å¹½çµä¾èµ–</li>
</ol>
<p>åŸºäºä¸Šè¿°åˆ†æï¼Œ<code>pnpm</code>åœ¨å­˜å‚¨æ•ˆç‡ä¸å®‰è£…æ€§èƒ½æ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œæ•…æœ¬é¡¹ç›®é‡‡ç”¨ <code>pnpm</code> ä½œä¸ºé¦–é€‰åŒ…ç®¡ç†å·¥å…·ã€‚</p>
<h4 data-id="heading-4"><strong>å®‰è£…ä¸é…ç½®pnpm</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£…pnpm</span>
npm install -g pnpm
â€‹
<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
pnpm --version
â€‹
<span class="hljs-comment"># é…ç½®pnpmï¼ˆå¯é€‰ï¼‰</span>
pnpm config <span class="hljs-built_in">set</span> store-dir ~/.pnpm-store Â <span class="hljs-comment"># è®¾ç½®å…¨å±€å­˜å‚¨ä½ç½®</span>
</code></pre>
<h3 data-id="heading-5"><strong>2.2 Viteè„šæ‰‹æ¶æ·±åº¦è§£æ</strong></h3>
<p><code>Vite</code>ä»£è¡¨äº†ç°ä»£å‰ç«¯æ„å»ºå·¥å…·ä»"æ‰“åŒ…é©±åŠ¨"åˆ°"åŸç”Ÿ<code>ESM</code>æŒ‰éœ€ç¼–è¯‘"çš„èŒƒå¼è½¬ç§»ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºé‡æ„å¼€å‘ä½“éªŒã€‚</p>
<h4 data-id="heading-6"><strong>Vite vs Webpack</strong></h4>
<p>è¦æ·±å…¥ç†è§£<code>Vite</code>çš„ä»·å€¼ï¼Œé¦–å…ˆéœ€è¦å›é¡¾ä¼ ç»Ÿæ„å»ºå·¥å…·çš„å·¥ä½œæ–¹å¼ã€‚ä»¥<code>Webpack</code>ä¸ºä¾‹ï¼Œå…¶å·¥ä½œæµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">// Webpackçš„å…¸å‹æ„å»ºæµç¨‹
<span class="hljs-bullet">1.</span> ä»å…¥å£æ–‡ä»¶ï¼ˆå¦‚ index.jsï¼‰å¼€å§‹è§£æ
<span class="hljs-bullet">2.</span> é€’å½’æ„å»ºæ•´ä¸ªé¡¹ç›®çš„ä¾èµ–å›¾è°±
<span class="hljs-bullet">3.</span> å°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªbundleæ–‡ä»¶
<span class="hljs-bullet">4.</span> å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå°†æ‰“åŒ…ç»“æœæä¾›ç»™æµè§ˆå™¨
</code></pre>
<p>ä½¿ç”¨<code>Webpack</code>ï¼Œ éšç€é¡¹ç›®è§„æ¨¡æ‰©å¤§ï¼Œä¾èµ–æ¨¡å—æ•°é‡å¢å¤šï¼Œå¯åŠ¨æ—¶é—´ä¼šæ˜¾è‘—å»¶é•¿ã€‚ çƒ­æ›´æ–°ï¼ˆ<code>HMR</code>ï¼‰éœ€è¦é‡æ–°æ„å»ºéƒ¨åˆ†æˆ–å…¨éƒ¨æ¨¡å—ï¼Œå¯¼è‡´å“åº”å»¶è¿Ÿã€‚</p>
<p>è€Œ<code>Vite</code>é‡‡ç”¨äº†æˆªç„¶ä¸åŒçš„è®¾è®¡æ€è·¯ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯åˆ©ç”¨ç°ä»£æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ESæ¨¡å—ï¼ˆ<code>ESM</code>ï¼‰ç³»ç»Ÿï¼Œå®ç°æŒ‰éœ€ç¼–è¯‘ä¸åŠ è½½ã€‚å…¶å·¥ä½œæµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">// Viteçš„æŒ‰éœ€ç¼–è¯‘æœºåˆ¶
<span class="hljs-bullet">1.</span> å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå‡ ä¹æ˜¯ç¬é—´å®Œæˆï¼‰
<span class="hljs-bullet">2.</span> å½“æµè§ˆå™¨å‘èµ·å¯¹æŸä¸ªæ¨¡å—çš„è¯·æ±‚æ—¶ï¼ŒViteæ‰ä¼šå¯¹è¯¥æ¨¡å—è¿›è¡Œå®æ—¶ç¼–è¯‘
<span class="hljs-bullet">3.</span> ä»…è¿”å›å½“å‰è¯·æ±‚çš„æ¨¡å—ï¼Œæ— éœ€ç­‰å¾…æ•´ä¸ªåº”ç”¨æ„å»ºå®Œæˆ
<span class="hljs-bullet">4.</span> çƒ­æ›´æ–°æ—¶ä»…é‡æ–°ç¼–è¯‘å‘ç”Ÿå˜åŒ–çš„æ¨¡å—ï¼Œå®ç°æ¯«ç§’çº§å“åº”
</code></pre>
<p><code>Vite</code>çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼Œå®ƒåˆ©ç”¨äº†æµè§ˆå™¨çš„åŸç”Ÿ<code>ESM</code>ï¼Œçœå»äº†æ‰“åŒ…ç¯èŠ‚ã€‚åŒæ—¶ï¼ŒæŒ‰éœ€ç¼–è¯‘æœºåˆ¶ä»æ ¹æœ¬ä¸Šè§£å†³äº†å¯åŠ¨å’Œæ›´æ–°çš„æ€§èƒ½ç“¶é¢ˆã€‚è¿™ç§æ¶æ„ä¸Šçš„æ ¹æœ¬å·®å¼‚ï¼Œä¸ºå¼€å‘è€…å¸¦æ¥äº†é¢ è¦†æ€§çš„ä½“éªŒæå‡ã€‚<strong>å³ä¾¿é¡¹ç›®åŒ…å«æ•°ç™¾ä¸ªç»„ä»¶å’Œå¤æ‚çš„ä¾èµ–å…³ç³»</strong>ï¼Œ<code>Vite</code>ä¾ç„¶èƒ½å¤Ÿä¿æŒç§’çº§çš„å¯åŠ¨é€Ÿåº¦å’Œæ¯«ç§’çº§çš„çƒ­æ›´æ–°å“åº”ï¼Œæå¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚</p>
<h4 data-id="heading-7"><strong>é¡¹ç›®åˆå§‹åŒ–ä¸ç»“æ„è§£æ</strong></h4>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code>Vite</code>æ¥åˆ›å»º<code>React</code>+<code>TypeScript</code>çš„é¡¹ç›®ï¼Œä»ä¸­æ·±å…¥ç†è§£å…¶é¡¹ç›®ç»“æ„çš„è®¾è®¡ç†å¿µã€‚</p>
<ul>
<li><strong>åˆ›å»ºé¡¹ç›®</strong></li>
</ul>

<pre><code class="hljs language-sql" lang="sql"># ä½¿ç”¨Viteå®˜æ–¹è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®
pnpm <span class="hljs-keyword">create</span> vite backend<span class="hljs-operator">-</span>management<span class="hljs-operator">-</span><span class="hljs-keyword">system</span> <span class="hljs-comment">--template react-ts</span>
</code></pre>
<p>æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤åï¼Œæ ¹æ®äº¤äº’æç¤ºé€‰æ‹©ç›¸åº”é…ç½®é¡¹ï¼Œå¯è‡ªåŠ¨å®Œæˆä¾èµ–å®‰è£…ä¸å¼€å‘æœåŠ¡å™¨å¯åŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae59302d0e4c431eba38f24b6731a66f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oe15ZyI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763638330&amp;x-signature=i0YsR%2FpTPKF04Xdt8hD0SQGXMq8%3D" alt="image-20251030153218074.png" loading="lazy"/></p>
<p>å¦‚æœæœªé€‰æ‹©å®‰è£…å¹¶å¯åŠ¨ï¼Œå¯ä»¥è¿›å…¥é¡¹ç›®ç›®å½•æ‰‹åŠ¨å®‰è£…ä¾èµ–å¹¶å¯åŠ¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> backend-management-system
â€‹
<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pnpm install
â€‹
<span class="hljs-comment"># å¯åŠ¨é¡¹ç›®</span>
pnpm dev
</code></pre>
<p>é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°Viteç”Ÿæˆçš„ç›®å½•ç»“æ„å…·æœ‰æ¸…æ™°çš„å±‚æ¬¡å’Œæ˜ç¡®çš„èŒè´£åˆ’åˆ†ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">backend-management-system/
â”œâ”€â”€ node_modules/ Â  Â  Â  Â  Â  <span class="hljs-meta"># é¡¹ç›®ä¾èµ–ï¼ˆpnpmé‡‡ç”¨ç‹¬ç‰¹çš„ç£ç›˜å­˜å‚¨ç»“æ„ï¼ŒèŠ‚çœç©ºé—´ï¼‰</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/ Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-meta"># çº¯é™æ€èµ„æºç›®å½•ï¼ˆè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ä¼šè¢«Viteå¤„ç†ï¼‰</span>
â”‚ Â  â””â”€â”€ vite.svg Â  Â  Â  Â  Â  <span class="hljs-meta"># é™æ€èµ„æºï¼Œæ„å»ºæ—¶ä¼šç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºç›®å½•</span>
â”œâ”€â”€ src/ Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-meta"># æºä»£ç ç›®å½•</span>
â”‚ Â  â”œâ”€â”€ assets/ Â  Â  Â  Â  Â   <span class="hljs-meta"># éœ€è¦ç»è¿‡æ„å»ºå¤„ç†çš„èµ„æºæ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€æ ·å¼ç­‰ï¼‰</span>
â”‚ Â  â”‚ Â  â””â”€â”€ react.svg Â  Â   <span class="hljs-meta"># èµ„æºæ–‡ä»¶ï¼Œä¼šè¢«Viteä¼˜åŒ–å’Œå¤„ç†</span>
â”‚ Â  â”œâ”€â”€ components/ Â  Â  Â   <span class="hljs-meta"># Reactç»„ä»¶ç›®å½•</span>
â”‚ Â  â”‚ Â  â””â”€â”€ HelloWorld.tsx <span class="hljs-meta"># ç¤ºä¾‹ç»„ä»¶æ–‡ä»¶</span>
â”‚ Â  â”œâ”€â”€ App.css Â  Â  Â  Â  Â  <span class="hljs-meta"># åº”ç”¨çº§åˆ«çš„æ ·å¼æ–‡ä»¶</span>
â”‚ Â  â”œâ”€â”€ App.tsx Â  Â  Â  Â  Â  <span class="hljs-meta"># åº”ç”¨çš„æ ¹ç»„ä»¶</span>
â”‚ Â  â”œâ”€â”€ index.css Â  Â  Â  Â  <span class="hljs-meta"># å…¨å±€æ ·å¼æ–‡ä»¶</span>
â”‚ Â  â”œâ”€â”€ main.tsx Â  Â  Â  Â   <span class="hljs-meta"># åº”ç”¨çš„å…¥å£æ–‡ä»¶</span>
â”‚ Â  â””â”€â”€ vite-env.d.ts Â  Â  <span class="hljs-meta"># Viteå®¢æˆ·ç«¯ç±»å‹å®šä¹‰ï¼Œæä¾›ç±»å‹æ”¯æŒ</span>
â”œâ”€â”€ .gitignore Â  Â  Â  Â  Â   <span class="hljs-meta"># Gitç‰ˆæœ¬æ§åˆ¶çš„å¿½ç•¥è§„åˆ™é…ç½®</span>
â”œâ”€â”€ eslint.config.js Â  Â   <span class="hljs-meta"># ESLintä»£ç æ£€æŸ¥é…ç½®ï¼ˆé‡‡ç”¨æ–°çš„æ‰å¹³åŒ–é…ç½®æ ¼å¼ï¼‰</span>
â”œâ”€â”€ index.html Â  Â  Â  Â  Â   <span class="hljs-meta"># Viteçš„HTMLå…¥å£æ–‡ä»¶ï¼ˆä½äºæ ¹ç›®å½•æ˜¯å…¶ç‰¹è‰²ä¹‹ä¸€ï¼‰</span>
â”œâ”€â”€ package.json Â  Â  Â  Â   <span class="hljs-meta"># é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ä¾èµ–å’Œè„šæœ¬å®šä¹‰</span>
â”œâ”€â”€ pnpm-<span class="hljs-keyword">lock</span>.yaml Â  Â  Â   <span class="hljs-meta"># pnpmåŒ…ç®¡ç†å™¨çš„ä¾èµ–é”æ–‡ä»¶</span>
â”œâ”€â”€ tsconfig.app.json Â  Â  <span class="hljs-meta"># å‰ç«¯åº”ç”¨çš„TypeScripté…ç½®</span>
â”œâ”€â”€ tsconfig.json Â  Â  Â  Â  <span class="hljs-meta"># æ ¹TypeScripté…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ tsconfig.node.json Â   <span class="hljs-meta"># Node.jsç¯å¢ƒä¸‹çš„TypeScripté…ç½®ï¼ˆç”¨äºå·¥å…·é“¾ï¼‰</span>
â””â”€â”€ vite.config.ts Â  Â  Â   <span class="hljs-meta"># Viteæ„å»ºå·¥å…·çš„é…ç½®æ–‡ä»¶</span>
</code></pre>
<p>è¯¥ç›®å½•ç»“æ„éµå¾ªèŒè´£å•ä¸€åŸåˆ™ï¼Œå®ç°ç±»å‹ç³»ç»Ÿå…¨é“¾è·¯è¦†ç›–ä¸å·¥å…·é“¾åˆç†åˆ†å±‚ã€‚</p>
<p><strong>å®Œå–„é¡¹ç›®ç»“æ„</strong></p>
<p>åœ¨<code>src</code>ç›®å½•ä¸‹ï¼Œæ·»åŠ <code>components</code>ï¼Œ<code>pages</code>ï¼Œ<code>layouts</code>ï¼Œ<code>components</code>ï¼Œ<code>utils</code>ï¼Œ<code>hooks</code>ï¼Œ<code>services</code>ï¼Œ<code>stores</code>ï¼Œ<code>types</code>ï¼Œæ·»åŠ å®Œåçš„ç›®å½•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">backend-management-system/
â”œâ”€â”€ node_modules/ Â  Â  Â  Â  Â  <span class="hljs-meta"># é¡¹ç›®ä¾èµ–ï¼ˆpnpmé‡‡ç”¨ç‹¬ç‰¹çš„ç£ç›˜å­˜å‚¨ç»“æ„ï¼ŒèŠ‚çœç©ºé—´ï¼‰</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/ Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-meta"># çº¯é™æ€èµ„æºç›®å½•ï¼ˆè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸ä¼šè¢«Viteå¤„ç†ï¼‰</span>
â”‚ Â  â””â”€â”€ vite.svg Â  Â  Â  Â  Â  <span class="hljs-meta"># é™æ€èµ„æºï¼Œæ„å»ºæ—¶ä¼šç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºç›®å½•</span>
â”œâ”€â”€ src/ Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-meta"># æºä»£ç ç›®å½•</span>
â”‚ Â  â”œâ”€â”€ assets/ Â  Â  Â  Â  Â   <span class="hljs-meta"># éœ€è¦ç»è¿‡æ„å»ºå¤„ç†çš„èµ„æºæ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€æ ·å¼ç­‰ï¼‰</span>
â”‚ Â  â”‚ Â  â””â”€â”€ react.svg Â  Â   <span class="hljs-meta"># èµ„æºæ–‡ä»¶ï¼Œä¼šè¢«Viteä¼˜åŒ–å’Œå¤„ç†</span>
â”‚ Â  â”œâ”€â”€ components/ Â  Â  Â   <span class="hljs-meta"># Reactç»„ä»¶ç›®å½•</span>
â”‚ Â  â”‚ Â  â””â”€â”€ HelloWorld.tsx <span class="hljs-meta"># ç¤ºä¾‹ç»„ä»¶æ–‡ä»¶</span>
â”‚ Â  â”œâ”€â”€ hooks/ Â  Â  Â         <span class="hljs-meta"># Hooksç›®å½•</span>
â”‚ Â  â”œâ”€â”€ layouts/ Â  Â  Â       <span class="hljs-meta"># å¸ƒå±€ç›®å½•</span>
â”‚ Â  â”œâ”€â”€ pages/ Â  Â  Â         <span class="hljs-meta"># åŠŸèƒ½é¡µé¢ç›®å½•</span>
â”‚ Â  â”œâ”€â”€ services/ Â  Â  Â      <span class="hljs-meta"># Apiç›®å½•</span>
â”‚ Â  â”œâ”€â”€ stores/ Â  Â  Â        <span class="hljs-meta"># çŠ¶æ€å…±äº«ç›®å½•</span>
â”‚ Â  â”œâ”€â”€ types/ Â  Â  Â         <span class="hljs-meta"># ç±»å‹çº¦æŸç›®å½•</span>
â”‚ Â  â”œâ”€â”€ utils/ Â  Â  Â         <span class="hljs-meta"># å·¥å…·æ–¹æ³•ç›®å½•</span>
â”‚ Â  â”œâ”€â”€ App.css Â  Â  Â  Â  Â  <span class="hljs-meta"># åº”ç”¨çº§åˆ«çš„æ ·å¼æ–‡ä»¶</span>
â”‚ Â  â”œâ”€â”€ App.tsx Â  Â  Â  Â  Â  <span class="hljs-meta"># åº”ç”¨çš„æ ¹ç»„ä»¶</span>
â”‚ Â  â”œâ”€â”€ index.css Â  Â  Â  Â  <span class="hljs-meta"># å…¨å±€æ ·å¼æ–‡ä»¶</span>
â”‚ Â  â”œâ”€â”€ main.tsx Â  Â  Â  Â   <span class="hljs-meta"># åº”ç”¨çš„å…¥å£æ–‡ä»¶</span>
â”‚ Â  â””â”€â”€ vite-env.d.ts Â  Â  <span class="hljs-meta"># Viteå®¢æˆ·ç«¯ç±»å‹å®šä¹‰ï¼Œæä¾›ç±»å‹æ”¯æŒ</span>
â”œâ”€â”€ .gitignore Â  Â  Â  Â  Â   <span class="hljs-meta"># Gitç‰ˆæœ¬æ§åˆ¶çš„å¿½ç•¥è§„åˆ™é…ç½®</span>
â”œâ”€â”€ eslint.config.js Â  Â   <span class="hljs-meta"># ESLintä»£ç æ£€æŸ¥é…ç½®ï¼ˆé‡‡ç”¨æ–°çš„æ‰å¹³åŒ–é…ç½®æ ¼å¼ï¼‰</span>
â”œâ”€â”€ index.html Â  Â  Â  Â  Â   <span class="hljs-meta"># Viteçš„HTMLå…¥å£æ–‡ä»¶ï¼ˆä½äºæ ¹ç›®å½•æ˜¯å…¶ç‰¹è‰²ä¹‹ä¸€ï¼‰</span>
â”œâ”€â”€ package.json Â  Â  Â  Â   <span class="hljs-meta"># é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ä¾èµ–å’Œè„šæœ¬å®šä¹‰</span>
â”œâ”€â”€ pnpm-<span class="hljs-keyword">lock</span>.yaml Â  Â  Â   <span class="hljs-meta"># pnpmåŒ…ç®¡ç†å™¨çš„ä¾èµ–é”æ–‡ä»¶</span>
â”œâ”€â”€ tsconfig.app.json Â  Â  <span class="hljs-meta"># å‰ç«¯åº”ç”¨çš„TypeScripté…ç½®</span>
â”œâ”€â”€ tsconfig.json Â  Â  Â  Â  <span class="hljs-meta"># æ ¹TypeScripté…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ tsconfig.node.json Â   <span class="hljs-meta"># Node.jsç¯å¢ƒä¸‹çš„TypeScripté…ç½®ï¼ˆç”¨äºå·¥å…·é“¾ï¼‰</span>
â””â”€â”€ vite.config.ts Â  Â  Â   <span class="hljs-meta"># Viteæ„å»ºå·¥å…·çš„é…ç½®æ–‡ä»¶</span>
</code></pre>
<h4 data-id="heading-8">Viteæ ¸å¿ƒé…ç½®æ–‡ä»¶è§£æ</h4>
<p><code>Vite</code>çš„é…ç½®æ–‡ä»¶æ˜¯é¡¹ç›®æ„å»ºè¡Œä¸ºçš„æ§åˆ¶ä¸­å¿ƒï¼Œé€šè¿‡åˆç†çš„é…ç½®å¯ä»¥æå¤§ä¼˜åŒ–å¼€å‘å’Œæ„å»ºä½“éªŒã€‚åœ¨ <code>vite.config.ts</code> ä¸­é…ç½®è·¯å¾„åˆ«åã€å¼€å‘æœåŠ¡å™¨è¡Œä¸ºåŠç”Ÿäº§æ„å»ºç­–ç•¥ï¼Œå®Œæ•´é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig, loadEnv } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'url'</span>;
<span class="hljs-keyword">import</span> { dirname, resolve } <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
â€‹
<span class="hljs-comment">// è·å–å½“å‰æ–‡ä»¶ç›®å½•ï¼ˆå…¼å®¹ESMï¼‰</span>
<span class="hljs-keyword">const</span> __filename = <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>);
<span class="hljs-keyword">const</span> __dirname = <span class="hljs-title function_">dirname</span>(__filename);
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(<span class="hljs-function">(<span class="hljs-params">{ mode }</span>) =&gt;</span> {
 Â <span class="hljs-comment">// åŠ è½½ç¯å¢ƒå˜é‡ï¼ˆå¯è®¿é—® .env æ–‡ä»¶ï¼‰</span>
 Â <span class="hljs-keyword">const</span> env = <span class="hljs-title function_">loadEnv</span>(mode, process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">''</span>);
â€‹
 Â <span class="hljs-keyword">return</span> {
 Â  Â <span class="hljs-comment">// ========== æ’ä»¶é…ç½® ==========</span>
 Â  Â <span class="hljs-attr">plugins</span>: [
 Â  Â  Â <span class="hljs-title function_">react</span>({
 Â  Â  Â  Â <span class="hljs-comment">// ä»…åœ¨å¼€å‘ç¯å¢ƒå¯ç”¨Fast Refresh</span>
 Â  Â  Â  Â <span class="hljs-attr">include</span>: <span class="hljs-string">'**/*.{tsx,ts}'</span>,
 Â  Â  Â  Â <span class="hljs-comment">// Babelé…ç½®ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-attr">babel</span>: {
 Â  Â  Â  Â  Â <span class="hljs-attr">plugins</span>: [
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ç§»é™¤console</span>
 Â  Â  Â  Â  Â  Â ...(mode === <span class="hljs-string">'production'</span> ? [[<span class="hljs-string">'transform-remove-console'</span>, { <span class="hljs-attr">exclude</span>: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'warn'</span>] }]] : []),
 Â  Â  Â  Â   ],
 Â  Â  Â   },
 Â  Â   }),
 Â   ],
â€‹
 Â  Â <span class="hljs-comment">// ========== è·¯å¾„åˆ«å ==========</span>
 Â  Â <span class="hljs-attr">resolve</span>: {
 Â  Â  Â <span class="hljs-attr">alias</span>: {
 Â  Â  Â  Â <span class="hljs-string">'@'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@components'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/components'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@pages'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/pages'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@utils'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/utils'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@hooks'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/hooks'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@services'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/services'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@stores'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/stores'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@types'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/types'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@assets'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/assets'</span>),
 Â  Â  Â  Â <span class="hljs-string">'@layouts'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/layouts'</span>),
 Â  Â   },
 Â  Â  Â <span class="hljs-comment">// è‡ªåŠ¨è§£ææ‰©å±•å</span>
 Â  Â  Â <span class="hljs-attr">extensions</span>: [<span class="hljs-string">'.ts'</span>, <span class="hljs-string">'.tsx'</span>, <span class="hljs-string">'.js'</span>, <span class="hljs-string">'.jsx'</span>, <span class="hljs-string">'.json'</span>],
 Â   },
â€‹
 Â  Â <span class="hljs-comment">// ========== å¼€å‘æœåŠ¡å™¨ä¼˜åŒ– ==========</span>
 Â  Â <span class="hljs-attr">server</span>: {
 Â  Â  Â <span class="hljs-attr">port</span>: <span class="hljs-title class_">Number</span>(env.<span class="hljs-property">VITE_APP_PORT</span>) || <span class="hljs-number">3000</span>, <span class="hljs-comment">// æ”¯æŒç¯å¢ƒå˜é‡é…ç½®</span>
 Â  Â  Â <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>,
 Â  Â  Â <span class="hljs-attr">host</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ç›‘å¬æ‰€æœ‰åœ°å€</span>
 Â  Â  Â <span class="hljs-attr">cors</span>: <span class="hljs-literal">true</span>,
 Â  Â  Â <span class="hljs-comment">// ä»£ç†é…ç½®ç¤ºä¾‹</span>
 Â  Â  Â <span class="hljs-comment">// proxy: {</span>
 Â  Â  Â <span class="hljs-comment">// Â  '/api': {</span>
 Â  Â  Â <span class="hljs-comment">// Â  Â  target: env.VITE_API_BASE_URL,</span>
 Â  Â  Â <span class="hljs-comment">// Â  Â  changeOrigin: true,</span>
 Â  Â  Â <span class="hljs-comment">// Â  Â  rewrite: (path) =&gt; path.replace(/^/api/, ''),</span>
 Â  Â  Â <span class="hljs-comment">// Â  },</span>
 Â  Â  Â <span class="hljs-comment">// },</span>
 Â   },
â€‹
 Â  Â <span class="hljs-comment">// ========== æ„å»ºä¼˜åŒ– ==========</span>
 Â  Â <span class="hljs-attr">build</span>: {
 Â  Â  Â <span class="hljs-comment">// è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤distï¼Œå¯çœç•¥ï¼‰</span>
 Â  Â  Â <span class="hljs-attr">outDir</span>: <span class="hljs-string">'dist'</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// ç”Ÿæˆ source mapï¼ˆç”Ÿäº§ç¯å¢ƒå¯å…³é—­ï¼‰</span>
 Â  Â  Â <span class="hljs-attr">sourcemap</span>: mode !== <span class="hljs-string">'production'</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// æå‡chunkå¤§å°è­¦å‘Šé™åˆ¶</span>
 Â  Â  Â <span class="hljs-attr">chunkSizeWarningLimit</span>: <span class="hljs-number">1600</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// è¾“å‡ºç›®æ ‡ï¼ˆç°ä»£æµè§ˆå™¨ï¼‰</span>
 Â  Â  Â <span class="hljs-attr">target</span>: <span class="hljs-string">'esnext'</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// Rollupæ‰“åŒ…ç­–ç•¥ï¼ˆæ™ºèƒ½åˆ†å‰²ï¼‰</span>
 Â  Â  Â <span class="hljs-attr">rollupOptions</span>: {
 Â  Â  Â  Â <span class="hljs-attr">output</span>: {
 Â  Â  Â  Â  Â <span class="hljs-comment">// æ™ºèƒ½ä»£ç åˆ†å‰²ï¼ˆä¼˜äºæ‰‹åŠ¨é…ç½®ï¼‰</span>
 Â  Â  Â  Â  Â <span class="hljs-title function_">manualChunks</span>(<span class="hljs-params">id</span>) {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// Reactæ ¸å¿ƒåº“å•ç‹¬æ‰“åŒ…</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'node_modules/react'</span>) || id.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'node_modules/react-dom'</span>)) {
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">'react-vendor'</span>;
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// UIåº“å•ç‹¬æ‰“åŒ…ï¼ˆæŒ‰éœ€å¯ç”¨ï¼‰</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'node_modules/@mui'</span>)) {
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">'mui-vendor'</span>;
 Â  Â  Â  Â  Â   }
â€‹
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å·¥å…·åº“å•ç‹¬æ‰“åŒ…</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'node_modules/lodash'</span>) || id.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'node_modules/axios'</span>)) {
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">'utils-vendor'</span>;
 Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
 Â  Â  Â  Â   },
â€‹
 Â  Â  Â  Â  Â <span class="hljs-comment">// è¾“å‡ºæ–‡ä»¶å‘½åè§„èŒƒ</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'assets/js/[name]-[hash].js'</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'assets/js/[name]-[hash].js'</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'assets/[ext]/[name]-[hash].[ext]'</span>,
â€‹
 Â  Â  Â  Â  Â <span class="hljs-comment">// å‹ç¼©é€‰é¡¹ï¼ˆVite 5+é»˜è®¤ä½¿ç”¨esbuildï¼Œæ— éœ€é¢å¤–é…ç½®ï¼‰</span>
 Â  Â  Â   },
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// ä¼˜åŒ–ä¾èµ–ï¼ˆé¢„æ„å»ºï¼‰</span>
 Â  Â  Â  Â <span class="hljs-comment">// é€šå¸¸æ— éœ€æ‰‹åŠ¨é…ç½®ï¼ŒViteä¼šè‡ªåŠ¨å¤„ç†</span>
 Â  Â   },
â€‹
 Â  Â  Â <span class="hljs-comment">// CSSä»£ç åˆ†å‰²</span>
 Â  Â  Â <span class="hljs-attr">cssCodeSplit</span>: <span class="hljs-literal">true</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// å¯ç”¨/ç¦ç”¨ brotli å‹ç¼©å¤§å°æŠ¥å‘Š</span>
 Â  Â  Â <span class="hljs-attr">reportCompressedSize</span>: <span class="hljs-literal">true</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// æ¸…ç©ºè¾“å‡ºç›®å½•</span>
 Â  Â  Â <span class="hljs-attr">emptyOutDir</span>: <span class="hljs-literal">true</span>,
 Â   },
â€‹
 Â  Â <span class="hljs-comment">// ========== CSS ç›¸å…³ ==========</span>
 Â  Â <span class="hljs-attr">css</span>: {
 Â  Â  Â <span class="hljs-comment">// å¼€å‘ç¯å¢ƒå¯ç”¨CSS sourcemap</span>
 Â  Â  Â <span class="hljs-attr">devSourcemap</span>: <span class="hljs-literal">true</span>,
 Â   },
â€‹
 Â  Â <span class="hljs-comment">// ========== ESBuild é…ç½® ==========</span>
 Â  Â <span class="hljs-attr">esbuild</span>: {
 Â  Â  Â <span class="hljs-comment">// æ”¯æŒ JSX æ³¨å…¥ï¼ˆæ— éœ€æ‰‹åŠ¨import Reactï¼‰</span>
 Â  Â  Â <span class="hljs-attr">jsxInject</span>: <span class="hljs-string">`import React from 'react'`</span>,
 Â   },
â€‹
 Â  Â <span class="hljs-comment">// ========== æ€§èƒ½ä¼˜åŒ– ==========</span>
 Â  Â <span class="hljs-attr">performance</span>: {
 Â  Â  Â <span class="hljs-comment">// é¢„æ„å»ºä¸­æœ€å¤§æ–‡ä»¶å¤§å°</span>
 Â  Â  Â <span class="hljs-attr">maxAssetSize</span>: <span class="hljs-number">500000</span>, <span class="hljs-comment">// 500kb</span>
 Â  Â  Â <span class="hljs-comment">// é¢„æ„å»ºä¸­æœ€å¤§å…¥å£æ–‡ä»¶å¤§å°</span>
 Â  Â  Â <span class="hljs-attr">maxEntrypointSize</span>: <span class="hljs-number">500000</span>,
 Â   },
  };
});
</code></pre>
<p>æ­¤é…ç½®å…¼é¡¾å¼€å‘ä½“éªŒä¼˜åŒ–ä¸ç”Ÿäº§æ„å»ºæ€§èƒ½ï¼Œé€šè¿‡æ™ºèƒ½ä»£ç åˆ†å‰²ä¸èµ„æºç­–ç•¥ç¡®ä¿æ„å»ºäº§ç‰©çš„é«˜æ•ˆæ€§ä¸å¯ç»´æŠ¤æ€§ã€‚</p>
<h4 data-id="heading-9">TypeScripté…ç½®æ¶æ„è§£æ</h4>
<p>é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­æœ‰å¤šä¸ª<code>TypeScript</code>é…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯<code>tsconfig.json</code>ã€<code>tsconfig.app.json</code>å’Œ<code>tsconfig.node.json</code>ã€‚å…¶ä¸­ï¼Œ<code>tsconfig.json</code>ä½œä¸ºåŸºç¡€é…ç½®ï¼Œè¢«å…¶ä»–ä¸¤ä¸ªç»§æ‰¿ã€‚<code>tsconfig.app.json</code>ç”¨äºåº”ç”¨ä»£ç ï¼ˆsrcç›®å½•ï¼‰ã€‚<code>tsconfig.node.json</code>ç”¨äºViteé…ç½®æ–‡ä»¶ç­‰ï¼ˆ<code>vite.config.ts</code>ï¼‰ã€‚ä¸‰è€…çš„å…³ç³»å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">tsconfig.json Â  Â    <span class="hljs-comment"># TypeScriptåŸºç¡€ é…ç½®</span>
â”œâ”€â”€ tsconfig.app.json Â  Â  Â  Â  <span class="hljs-comment">#å‰ç«¯ TypeScript é…ç½®</span>
â””â”€â”€ tsconfig.node.json Â       <span class="hljs-comment"># Node.js TypeScript é…ç½®</span>
</code></pre>
<p>ä¸‹é¢æˆ‘ä»¬å°†ä¾æ¬¡å¯¹ä¸‰ä¸ªæ–‡ä»¶åšé…ç½®ã€‚</p>
<p><strong>ä¿®æ”¹<code>tsconfig.json</code></strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 Â <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
 Â <span class="hljs-attr">"references"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
 Â   <span class="hljs-punctuation">{</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./tsconfig.app.json"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
 Â   <span class="hljs-punctuation">{</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./tsconfig.node.json"</span> <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ä¿®æ”¹<code>tsconfig.app.json</code></strong></p>
<pre><code class="hljs language-perl" lang="perl">{
 Â <span class="hljs-string">"extends"</span>: <span class="hljs-string">"./tsconfig.json"</span>,
 Â <span class="hljs-string">"compilerOptions"</span>: {
 Â  Â <span class="hljs-regexp">/* ========== åŸºç¡€é€‰é¡¹ ========== */</span>
 Â  Â <span class="hljs-string">"target"</span>: <span class="hljs-string">"ES2022"</span>,
 Â  Â <span class="hljs-string">"lib"</span>: [<span class="hljs-string">"ES2022"</span>, <span class="hljs-string">"DOM"</span>, <span class="hljs-string">"DOM.Iterable"</span>],
 Â  Â <span class="hljs-string">"module"</span>: <span class="hljs-string">"ESNext"</span>,
 Â  Â <span class="hljs-string">"moduleResolution"</span>: <span class="hljs-string">"bundler"</span>,
 Â  Â 
 Â  Â <span class="hljs-regexp">/* ========== Vite å¿…éœ€é€‰é¡¹ ========== */</span>
 Â  Â <span class="hljs-string">"allowImportingTsExtensions"</span>: true,
 Â  Â <span class="hljs-string">"resolveJsonModule"</span>: true,
 Â  Â <span class="hljs-string">"isolatedModules"</span>: true,
 Â  Â <span class="hljs-string">"noEmit"</span>: true,
 Â  Â <span class="hljs-string">"skipLibCheck"</span>: true,
 Â  Â 
 Â  Â <span class="hljs-regexp">/* ========== JSX æ”¯æŒ ========== */</span>
 Â  Â <span class="hljs-string">"jsx"</span>: <span class="hljs-string">"react-jsx"</span>,
 Â  Â 
 Â  Â <span class="hljs-regexp">/* ========== ä¸¥æ ¼æ¨¡å¼æ ¸å¿ƒï¼‰========== */</span>
 Â  Â <span class="hljs-string">"strict"</span>: true,
 Â  Â <span class="hljs-string">"noUnusedLocals"</span>: true,
 Â  Â <span class="hljs-string">"noUnusedParameters"</span>: true,
 Â  Â <span class="hljs-string">"noFallthroughCasesInSwitch"</span>: true,
 Â  Â 
 Â  Â <span class="hljs-regexp">/* ========== è·¯å¾„åˆ«å========== */</span>
 Â  Â <span class="hljs-string">"baseUrl"</span>: <span class="hljs-string">"."</span>,
 Â  Â <span class="hljs-string">"paths"</span>: {
 Â  Â  Â <span class="hljs-string">"@/*"</span>: [<span class="hljs-string">"./src/*"</span>],
 Â  Â  Â <span class="hljs-string">"@components/*"</span>: [<span class="hljs-string">"./src/components/*"</span>],
 Â  Â  Â <span class="hljs-string">"@pages/*"</span>: [<span class="hljs-string">"./src/pages/*"</span>],
 Â  Â  Â <span class="hljs-string">"@utils/*"</span>: [<span class="hljs-string">"./src/utils/*"</span>],
 Â  Â  Â <span class="hljs-string">"@hooks/*"</span>: [<span class="hljs-string">"./src/hooks/*"</span>],
 Â  Â  Â <span class="hljs-string">"@services/*"</span>: [<span class="hljs-string">"./src/services/*"</span>],
 Â  Â  Â <span class="hljs-string">"@stores/*"</span>: [<span class="hljs-string">"./src/stores/*"</span>],
 Â  Â  Â <span class="hljs-string">"@types/*"</span>: [<span class="hljs-string">"./src/types/*"</span>],
 Â  Â  Â <span class="hljs-string">"@assets/*"</span>: [<span class="hljs-string">"./src/assets/*"</span>],
 Â  Â  Â <span class="hljs-string">"@layouts/*"</span>: [<span class="hljs-string">"./src/layouts/*"</span>]
 Â   },
 Â  Â 
 Â  Â <span class="hljs-regexp">/* ========== Vite å®¢æˆ·ç«¯ç±»å‹ ========== */</span>
 Â  Â <span class="hljs-string">"types"</span>: [<span class="hljs-string">"vite/client"</span>]
  },
 Â 
 Â <span class="hljs-regexp">/* ========== åŒ…å«åº”ç”¨ä»£ç  ========== */</span>
 Â <span class="hljs-string">"include"</span>: [<span class="hljs-string">"src/**/*"</span>],
 Â <span class="hljs-string">"exclude"</span>: [<span class="hljs-string">"node_modules"</span>, <span class="hljs-string">"dist"</span>, <span class="hljs-string">"**/*.test.ts"</span>, <span class="hljs-string">"**/*.spec.ts"</span>]
}
</code></pre>
<p><strong>ä¿®æ”¹<code>tsconfig.node.json</code></strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 Â <span class="hljs-attr">"extends"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./tsconfig.json"</span><span class="hljs-punctuation">,</span>
 Â <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-comment">/* ========== Node.js ç¯å¢ƒ ========== */</span>
 Â  Â <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ES2022"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"lib"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"ES2023"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bundler"</span><span class="hljs-punctuation">,</span>
 Â  Â 
 Â  Â <span class="hljs-comment">/* ========== Node.js å…¨å±€ç±»å‹ ========== */</span>
 Â  Â <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"node"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
 Â  Â 
 Â  Â <span class="hljs-comment">/* ========== ç±»å‹å®‰å…¨ ========== */</span>
 Â  Â <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"skipLibCheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
 Â  Â 
 Â  Â <span class="hljs-comment">/* ========== è¾“å‡ºæ§åˆ¶ï¼ˆå·¥å…·é“¾éœ€è¦ï¼‰========== */</span>
 Â  Â <span class="hljs-attr">"noEmit"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span> Â  Â  Â  Â  Â  <span class="hljs-comment">// å…è®¸è¾“å‡ºï¼ˆå¦‚ç±»å‹å£°æ˜ï¼‰</span>
 Â  Â <span class="hljs-attr">"declaration"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> Â  Â  Â  <span class="hljs-comment">// ç”Ÿæˆ .d.ts</span>
 Â  Â <span class="hljs-attr">"declarationMap"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> Â  Â <span class="hljs-comment">// ç”Ÿæˆ .d.ts.map</span>
 Â  Â <span class="hljs-attr">"incremental"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> Â  Â  Â  <span class="hljs-comment">// å¢é‡ç¼–è¯‘åŠ é€Ÿ</span>
 Â  Â <span class="hljs-attr">"tsBuildInfoFile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./node_modules/.tmp/tsconfig.node.tsbuildinfo"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
 Â 
 Â <span class="hljs-comment">/* ========== åŒ…å« Node è„šæœ¬å’Œé…ç½® ========== */</span>
 Â <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
 Â  Â <span class="hljs-string">"vite.config.ts"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"package.json"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"*.config.{js,ts}"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
 Â <span class="hljs-attr">"exclude"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"node_modules"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"src"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ç§åˆ†ç¦»é…ç½®çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šå‰ç«¯ä»£ç å’Œå·¥å…·é“¾ä»£ç æœ‰ä¸åŒçš„ç¼–è¯‘è¦æ±‚</li>
<li><strong>æ„å»ºæ€§èƒ½</strong>ï¼šå¯ä»¥ç‹¬ç«‹ç¼–è¯‘ï¼Œé¿å…ä¸å¿…è¦çš„ç±»å‹æ£€æŸ¥</li>
<li><strong>ç»´æŠ¤æ€§</strong>ï¼šé…ç½®æ›´åŠ æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œä¿®æ”¹</li>
</ul>
<h3 data-id="heading-10"><strong>2.3 ESLint + Prettieré›†æˆ</strong></h3>
<p>åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œä»£ç è´¨é‡å·¥å…·é“¾å·²ç»ä»ä¸è¢«é‡è§†çš„è¾…åŠ©å·¥å…·æ¼”å˜ä¸ºé¡¹ç›®æˆåŠŸçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„ä»£ç è§„èŒƒä½“ç³»èƒ½å¤Ÿï¼š</p>
<ul>
<li><strong>é™ä½ç»´æŠ¤æˆæœ¬</strong>ï¼šç»Ÿä¸€çš„ä»£ç é£æ ¼ä½¿ä»£ç æ›´æ˜“äºç†è§£å’Œä¿®æ”¹</li>
<li><strong>æé«˜å›¢é˜Ÿæ•ˆç‡</strong>ï¼šå‡å°‘ä»£ç å®¡æŸ¥ä¸­çš„é£æ ¼äº‰è®ºï¼Œèšç„¦ä¸šåŠ¡é€»è¾‘</li>
<li><strong>ä¿éšœä»£ç è´¨é‡</strong>ï¼šè‡ªåŠ¨æ•è·æ½œåœ¨é”™è¯¯å’Œä¸è‰¯å®è·µ</li>
<li><strong>åŠ é€Ÿæ–°äººèå…¥</strong>ï¼šæä¾›æ¸…æ™°çš„ç¼–ç æ ‡å‡†å’Œå³æ—¶åé¦ˆ</li>
</ul>
<h4 data-id="heading-11">ESLintçš„æ ¸å¿ƒä½œç”¨ä¸ä»·å€¼</h4>
<p><code>ESLint</code>ä¸»è¦ä¸“æ³¨äº<strong>ä»£ç è´¨é‡é—®é¢˜</strong>ï¼Œå®ƒé€šè¿‡é™æ€åˆ†ææ¥è¯†åˆ«ä»£ç ä¸­çš„ï¼š</p>
<ol start="0">
<li><strong>æ½œåœ¨é”™è¯¯</strong>ï¼šæœªä½¿ç”¨å˜é‡ã€æœªå®šä¹‰å¼•ç”¨ã€å¯èƒ½çš„è¯­æ³•é”™è¯¯</li>
<li><strong>ä¸è‰¯å®è·µ</strong>ï¼šä½¿ç”¨å·²åºŸå¼ƒçš„<code>API</code>ã€ä¸å®‰å…¨çš„ç¼–ç æ¨¡å¼</li>
<li><strong>ä»£ç è§„èŒƒ</strong>ï¼šå‘½åçº¦å®šã€ä»£ç ç»„ç»‡ã€æœ€ä½³å®è·µéµå¾ª</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šåœ¨<code>TypeScript</code>ç¯å¢ƒä¸­çš„ç±»å‹ç›¸å…³é”™è¯¯</li>
</ol>
<p>å…¶æ ¸å¿ƒçš„å·¥ä½œæœºåˆ¶åŸºäº<strong>æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰</strong> ï¼Œå…¶å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ESLintå†…éƒ¨å¤„ç†æµç¨‹ç¤ºæ„</span>
æºä»£ç  â†’ è¯æ³•åˆ†æ(Tokenization) â†’ è¯­æ³•åˆ†æ(Parsing) â†’ ASTç”Ÿæˆ â†’ è§„åˆ™éå† â†’ é—®é¢˜æŠ¥å‘Š
</code></pre>
<p>è¿™ç§<code>AST</code>é©±åŠ¨çš„æ¶æ„ä½¿å¾—<code>ESLint</code>èƒ½å¤Ÿæ·±å…¥ç†è§£ä»£ç ç»“æ„ï¼Œè€Œä¸ä»…ä»…æ˜¯è¡¨é¢æ–‡æœ¬æ¨¡å¼ã€‚</p>
<p><code>AST</code>åˆ†æç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">// åŸå§‹ä»£ç 
function example() {
 Â const x = <span class="hljs-number">1</span>
 Â console<span class="hljs-selector-class">.log</span>(x)
}
â€‹
// å¯¹åº”çš„ASTç»“æ„ï¼ˆç®€åŒ–ï¼‰
{
 Â type: <span class="hljs-string">"Program"</span>,
 Â body: [{
 Â  Â type: <span class="hljs-string">"FunctionDeclaration"</span>,
 Â  Â id: { type: <span class="hljs-string">"Identifier"</span>, name: <span class="hljs-string">"example"</span> },
 Â  Â <span class="hljs-selector-tag">body</span>: {
 Â  Â  Â type: <span class="hljs-string">"BlockStatement"</span>,
 Â  Â  Â body: [
 Â  Â  Â   {
 Â  Â  Â  Â  Â type: <span class="hljs-string">"VariableDeclaration"</span>,
 Â  Â  Â  Â  Â declarations: [{
 Â  Â  Â  Â  Â  Â type: <span class="hljs-string">"VariableDeclarator"</span>,
 Â  Â  Â  Â  Â  Â id: { type: <span class="hljs-string">"Identifier"</span>, name: <span class="hljs-string">"x"</span> },
 Â  Â  Â  Â  Â  Â init: { type: <span class="hljs-string">"Literal"</span>, value: <span class="hljs-number">1</span> }
 Â  Â  Â  Â   }]
 Â  Â  Â   },
 Â  Â  Â   {
 Â  Â  Â  Â  Â type: <span class="hljs-string">"ExpressionStatement"</span>,
 Â  Â  Â  Â  Â expression: {
 Â  Â  Â  Â  Â  Â type: <span class="hljs-string">"CallExpression"</span>,
 Â  Â  Â  Â  Â  Â callee: {
 Â  Â  Â  Â  Â  Â  Â type: <span class="hljs-string">"MemberExpression"</span>,
 Â  Â  Â  Â  Â  Â  Â object: { type: <span class="hljs-string">"Identifier"</span>, name: <span class="hljs-string">"console"</span> },
 Â  Â  Â  Â  Â  Â  Â property: { type: <span class="hljs-string">"Identifier"</span>, name: <span class="hljs-string">"log"</span> }
 Â  Â  Â  Â  Â   },
 Â  Â  Â  Â  Â  Â arguments: [{ type: <span class="hljs-string">"Identifier"</span>, name: <span class="hljs-string">"x"</span> }]
 Â  Â  Â  Â   }
 Â  Â  Â   }
 Â  Â   ]
 Â   }
  }]
}
</code></pre>
<h4 data-id="heading-12">ESLinté…ç½®æ·±åº¦è§£æ</h4>
<p>åœ¨ä½¿ç”¨ <code>Vite</code> åˆ›å»ºé¡¹ç›®åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­çœ‹åˆ° <code>ESLint</code> çš„é…ç½®æ–‡ä»¶ <code>eslint.config.js</code>ã€‚åœ¨ <code>ESLint 9.0</code> ä¹‹å‰ï¼Œé‡‡ç”¨çš„æ˜¯ä¼ ç»Ÿé…ç½®æ–¹å¼ï¼Œé…ç½®æ–‡ä»¶åé€šå¸¸ä¸º <code>.eslintrc.js</code>ã€‚ä¼ ç»Ÿé…ç½®æ¶æ„å­˜åœ¨ä¸€äº›æ˜¾è‘—é—®é¢˜ï¼š</p>
<ol start="0">
<li><strong>ç»§æ‰¿å…³ç³»å¤æ‚</strong>ï¼šå¤šå±‚ <code>extends</code> å¯¼è‡´è§„åˆ™æ¥æºéš¾ä»¥è¿½æº¯ï¼Œè°ƒè¯•å›°éš¾ã€‚</li>
<li><strong>æ–‡ä»¶åŒ¹é…å†—ä½™</strong>ï¼š<code>overrides</code> é…ç½®åˆ†æ•£ï¼Œé€»è¾‘é‡å ï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚</li>
<li><strong>æ€§èƒ½å¼€é”€å¤§</strong>ï¼šé¡¹ç›®è§„æ¨¡æ‰©å¤§æ—¶ï¼Œé…ç½®è§£ææ—¶é—´æ˜¾è‘—å¢åŠ ã€‚</li>
<li><strong>ç±»å‹æ”¯æŒå¼±</strong>ï¼šé…ç½®å¯¹è±¡ç¼ºä¹å¼ºç±»å‹çº¦æŸï¼Œæ˜“å‡ºç°æ‹¼å†™æˆ–ç»“æ„é”™è¯¯ã€‚</li>
</ol>
<p>ä¸ºäº†åº”å¯¹ä¸Šè¿°é—®é¢˜ï¼Œ<code>ESLint 9.0</code> å¼•å…¥äº†å…¨æ–°çš„æ‰å¹³åŒ–é…ç½®æ¨¡å¼ï¼Œå…¶ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ol start="0">
<li><strong>é…ç½®èŒè´£æ˜ç¡®</strong>ï¼šæ¯ä¸ªé…ç½®å—ä»…å¤„ç†ç‰¹å®šç±»å‹æ–‡ä»¶ï¼Œé€»è¾‘æ›´æ¸…æ™°ã€‚</li>
<li><strong>åŒ¹é…æ•ˆç‡æå‡</strong>ï¼šæ”¯æŒå¹¶è¡Œå¤„ç†é…ç½®ï¼Œé¿å…ä¸å¿…è¦çš„è§„åˆ™åº”ç”¨ï¼ŒåŠ å¿«æ ¡éªŒé€Ÿåº¦ã€‚</li>
<li><strong>ç±»å‹å®‰å…¨ä¿éšœ</strong>ï¼šåŸºäº ES æ¨¡å—å¯¼å…¥ï¼Œæ”¯æŒç±»å‹æ¨æ–­ä¸æ ¡éªŒï¼Œå‡å°‘é…ç½®é”™è¯¯ã€‚</li>
<li><strong>æ¨¡å—åŒ–ä¸å¤ç”¨æ€§</strong>ï¼šé…ç½®å—å¯ç‹¬ç«‹å°è£…ã€ç»„åˆä¸å¤ç”¨ï¼Œä¾¿äºè·¨é¡¹ç›®å…±äº«ã€‚</li>
</ol>
<p>ä¼ ç»Ÿé…ç½®çš„å±€é™æ€§å·²ä¸è¨€è€Œå–»ï¼Œä¸‹æ–‡å°†ç›´æ¥é‡‡ç”¨<code>ESLint 9+</code>æ‰å¹³åŒ–é…ç½®æ–¹æ¡ˆã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig, globalIgnores } <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint/config"</span>; <span class="hljs-comment">// å®˜æ–¹API</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">"@eslint/js"</span>;
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">"globals"</span>;
<span class="hljs-keyword">import</span> reactHooks <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-plugin-react-hooks"</span>;
<span class="hljs-keyword">import</span> reactRefresh <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-plugin-react-refresh"</span>;
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">"typescript-eslint"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
 Â <span class="hljs-comment">// ========== å…¨å±€å¿½ç•¥é…ç½® ==========</span>
 Â <span class="hljs-comment">// ä½¿ç”¨å®˜æ–¹ globalIgnores å‡½æ•°ï¼ˆè¿”å›é…ç½®å¯¹è±¡ï¼‰</span>
 Â <span class="hljs-title function_">globalIgnores</span>([
 Â  Â <span class="hljs-string">"dist/**"</span>, Â  Â  Â <span class="hljs-comment">// æ„å»ºè¾“å‡º</span>
 Â  Â <span class="hljs-string">"node_modules/**"</span>, <span class="hljs-comment">// ä¾èµ–ç›®å½•</span>
 Â  Â <span class="hljs-string">"**/*.config.{js,ts}"</span>, <span class="hljs-comment">// é…ç½®æ–‡ä»¶</span>
 Â  Â <span class="hljs-string">"coverage/**"</span>, Â <span class="hljs-comment">// æµ‹è¯•è¦†ç›–ç‡</span>
 Â  Â <span class="hljs-string">"public/**"</span>, Â  Â <span class="hljs-comment">// é™æ€èµ„æº</span>
  ]),
â€‹
 Â <span class="hljs-comment">// ========== æ ¸å¿ƒ TypeScript/React é…ç½® ==========</span>
  {
 Â  Â <span class="hljs-attr">name</span>: <span class="hljs-string">"typescript-react-rules"</span>,
 Â  Â <span class="hljs-attr">files</span>: [<span class="hljs-string">"**/*.{ts,tsx,js,jsx}"</span>],
â€‹
 Â <span class="hljs-comment">// extends åœ¨ Flat Config ä¸­æ˜¯æ•°ç»„åˆå¹¶</span>
 Â  Â <span class="hljs-attr">extends</span>: [
 Â  Â  Â js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
 Â  Â  Â ...tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommendedTypeChecked</span>, <span class="hljs-comment">// æ¨èç±»å‹æ£€æŸ¥ç‰ˆæœ¬</span>
 Â  Â  Â ...tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">stylisticTypeChecked</span>, Â  <span class="hljs-comment">// å¯é€‰ï¼šé£æ ¼å»ºè®®</span>
 Â   ],
â€‹
 Â  Â <span class="hljs-attr">languageOptions</span>: {
 Â  Â  Â <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-string">"latest"</span>,
 Â  Â  Â <span class="hljs-attr">sourceType</span>: <span class="hljs-string">"module"</span>,
 Â  Â  Â <span class="hljs-attr">globals</span>: {
 Â  Â  Â  Â ...globals.<span class="hljs-property">browser</span>,
 Â  Â  Â  Â ...globals.<span class="hljs-property">es2022</span>,
 Â  Â  Â  Â <span class="hljs-title class_">React</span>: <span class="hljs-string">"readonly"</span>,
 Â  Â  Â  Â <span class="hljs-attr">JSX</span>: <span class="hljs-string">"readonly"</span>, <span class="hljs-comment">// è¡¥å……JSXå…¨å±€ç±»å‹</span>
 Â  Â   },
 Â  Â  Â <span class="hljs-attr">parserOptions</span>: {
 Â  Â  Â  Â <span class="hljs-comment">// ESLint 9+ æ¨èï¼šè‡ªåŠ¨æœåŠ¡åŒ–ï¼Œæ›¿ä»£ä¼ ç»Ÿ project å­—æ®µ</span>
 Â  Â  Â  Â <span class="hljs-attr">projectService</span>: {
 Â  Â  Â  Â  Â <span class="hljs-attr">defaultProject</span>: <span class="hljs-string">"./tsconfig.json"</span>, <span class="hljs-comment">// æŒ‡å®šé»˜è®¤é¡¹ç›®</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">allowDefaultProject</span>: [<span class="hljs-string">"*.config.*"</span>], <span class="hljs-comment">// å…è®¸æ— TSConfigçš„æ–‡ä»¶</span>
 Â  Â  Â   },
 Â  Â  Â  Â <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">dirname</span>,
 Â  Â   },
 Â   },
â€‹
 Â  Â <span class="hljs-comment">// æ’ä»¶æ³¨å†Œ</span>
 Â  Â <span class="hljs-attr">plugins</span>: {
 Â  Â  Â <span class="hljs-string">"react-hooks"</span>: reactHooks,
 Â  Â  Â <span class="hljs-string">"react-refresh"</span>: reactRefresh,
 Â   },
â€‹
 Â  Â <span class="hljs-attr">rules</span>: {
 Â  Â  Â <span class="hljs-comment">// ===== å‘½åè§„èŒƒ =====</span>
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/naming-convention"</span>: [
 Â  Â  Â  Â <span class="hljs-string">"error"</span>,
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">selector</span>: <span class="hljs-string">"variableLike"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">format</span>: [<span class="hljs-string">"camelCase"</span>, <span class="hljs-string">"UPPER_CASE"</span>, <span class="hljs-string">"PascalCase"</span>],
 Â  Â  Â  Â  Â <span class="hljs-attr">leadingUnderscore</span>: <span class="hljs-string">"allow"</span>,
 Â  Â  Â   },
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">selector</span>: <span class="hljs-string">"function"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">format</span>: [<span class="hljs-string">"camelCase"</span>, <span class="hljs-string">"PascalCase"</span>], <span class="hljs-comment">// Reactç»„ä»¶å…è®¸PascalCase</span>
 Â  Â  Â   },
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">selector</span>: <span class="hljs-string">"typeLike"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">format</span>: [<span class="hljs-string">"PascalCase"</span>],
 Â  Â  Â   },
 Â  Â   ],
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== TypeScript æ ¸å¿ƒè§„åˆ™ =====</span>
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-unused-vars"</span>: [
 Â  Â  Â  Â <span class="hljs-string">"error"</span>,
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">argsIgnorePattern</span>: <span class="hljs-string">"^_"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">varsIgnorePattern</span>: <span class="hljs-string">"^_"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">caughtErrorsIgnorePattern</span>: <span class="hljs-string">"^_"</span>,
 Â  Â  Â   },
 Â  Â   ],
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-explicit-any"</span>: <span class="hljs-string">"warn"</span>,
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-unsafe-assignment"</span>: <span class="hljs-string">"warn"</span>, <span class="hljs-comment">// æ–°å¢ï¼šç¦æ­¢ä¸å®‰å…¨çš„anyèµ‹å€¼</span>
 Â  Â  Â <span class="hljs-string">"prefer-const"</span>: <span class="hljs-string">"error"</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== React Hooks è§„åˆ™ =====</span>
 Â  Â  Â <span class="hljs-string">"react-hooks/rules-of-hooks"</span>: <span class="hljs-string">"error"</span>,
 Â  Â  Â <span class="hljs-string">"react-hooks/exhaustive-deps"</span>: <span class="hljs-string">"warn"</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== React Refresh è§„åˆ™ï¼ˆä¿®æ­£ç‰ˆï¼‰=======</span>
 Â  Â  Â <span class="hljs-string">"react-refresh/only-export-components"</span>: [
 Â  Â  Â  Â <span class="hljs-string">"warn"</span>,
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">allowConstantExport</span>: <span class="hljs-literal">true</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">allowExportNames</span>: [<span class="hljs-string">"meta"</span>, <span class="hljs-string">"config"</span>], <span class="hljs-comment">// Viteç‰¹æ®Šå¯¼å‡º</span>
 Â  Â  Â   },
 Â  Â   ],
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== é€šç”¨ JavaScript è§„åˆ™ =====</span>
 Â  Â  Â <span class="hljs-string">"no-console"</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"production"</span> ? <span class="hljs-string">"error"</span> : <span class="hljs-string">"warn"</span>,
 Â  Â  Â <span class="hljs-string">"no-debugger"</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"production"</span> ? <span class="hljs-string">"error"</span> : <span class="hljs-string">"warn"</span>,
 Â  Â  Â <span class="hljs-string">"prefer-arrow-callback"</span>: <span class="hljs-string">"error"</span>,
 Â  Â  Â <span class="hljs-attr">eqeqeq</span>: [<span class="hljs-string">"error"</span>, <span class="hljs-string">"always"</span>],
 Â   },
  },
â€‹
 Â <span class="hljs-comment">// ========== é…ç½®æ–‡ä»¶ç‰¹æ®Šå¤„ç† ==========</span>
  {
 Â  Â <span class="hljs-attr">name</span>: <span class="hljs-string">"config-files"</span>,
 Â  Â <span class="hljs-attr">files</span>: [<span class="hljs-string">"vite.config.{ts,js}"</span>, <span class="hljs-string">"eslint.config.js"</span>],
 Â  Â <span class="hljs-attr">languageOptions</span>: {
 Â  Â  Â <span class="hljs-attr">globals</span>: {
 Â  Â  Â  Â ...globals.<span class="hljs-property">node</span>, <span class="hljs-comment">//  Node.jså…¨å±€å˜é‡</span>
 Â  Â   },
 Â   },
 Â  Â <span class="hljs-attr">rules</span>: {
 Â  Â  Â <span class="hljs-string">"no-console"</span>: <span class="hljs-string">"off"</span>,
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-require-imports"</span>: <span class="hljs-string">"off"</span>, <span class="hljs-comment">// ESLint 9+ æ–°è§„åˆ™å</span>
 Â   },
  },
]);
</code></pre>
<p>ä¸Šè¿°é…ç½®ä¸ºVite Reacté¡¹ç›®æä¾›äº†ï¼š</p>
<ol start="0">
<li><strong>å‘½åè§„èŒƒæ ¡éªŒ</strong>-ä¸åŒç±»å‹å˜é‡çš„å‘½åè§„åˆ™</li>
<li><strong>å®Œæ•´çš„TypeScriptæ”¯æŒ</strong> - ç±»å‹æ£€æŸ¥å’ŒTSç‰¹å®šè§„åˆ™</li>
<li><strong>Reactæœ€ä½³å®è·µ</strong> - Hooksè§„åˆ™å’Œç»„ä»¶è§„èŒƒ</li>
<li><strong>å¼€å‘ä½“éªŒä¼˜åŒ–</strong> - å¼€å‘ç¯å¢ƒå®½æ¾ï¼Œç”Ÿäº§ç¯å¢ƒä¸¥æ ¼</li>
<li><strong>æµ‹è¯•æ–‡ä»¶æ”¯æŒ</strong> - é’ˆå¯¹æµ‹è¯•æ–‡ä»¶çš„ç‰¹æ®Šå¤„ç†</li>
<li><strong>æ„å»ºå·¥å…·é›†æˆ</strong> - ä¸Viteæ„å»ºæµç¨‹å®Œç¾é…åˆ</li>
</ol>
<h4 data-id="heading-13">ESLintåº”ç”¨ç¤ºä¾‹</h4>
<ul>
<li><strong>æ‰§è¡Œæ£€æŸ¥</strong></li>
</ul>
<p>åœ¨åšå®Œ<code>ESLint</code>æ‰å¹³åŒ–é…ç½®åï¼Œæˆ‘ä»¬æ¥æµ‹è¯•çœ‹çœ‹<code>ESLint</code>çš„ä»£ç è§„èŒƒæ£€æŸ¥ã€‚å› ä¸º<code>Vite</code>è„šæ‰‹æ¶åœ¨åˆ›å»ºé¡¹ç›®æ—¶å°±é›†æˆäº†é»˜è®¤çš„<code>ESLint</code>é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>package.json</code>ä¸­çœ‹åˆ°<code>ESLint</code>çš„è§„èŒƒæ£€æŸ¥å‘½ä»¤ã€‚åœ¨ç»ˆç«¯ç›´æ¥æ‰§è¡Œï¼š</p>
<pre><code class="hljs">pnpm lint
</code></pre>
<p>ä¸Šé¢çš„å‘½ä»¤æ˜¯æ£€æŸ¥é¡¹ç›®ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¦‚æœæƒ³å•ç‹¬æ£€æŸ¥æŸä¸ªæ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p>
<pre><code class="hljs language-css" lang="css">npx eslint <span class="hljs-attribute">src</span><span class="hljs-comment">/**/</span>*.{ts,tsx} 
</code></pre>
<p>ä¸å‡ºæ„å¤–ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¾ˆå¤šçš„æŠ¥é”™</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15be07c9d04d4011bfaf5aecb625ed1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oe15ZyI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763638330&amp;x-signature=v4Vb1cXfQXgJbhM2gopkjdPjO7U%3D" alt="image-20251105164412043.png" loading="lazy"/></p>
<ul>
<li><strong>è‡ªåŠ¨ä¿®å¤</strong></li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨<code>ESLint</code>çš„è‡ªåŠ¨ä¿®å¤å‘½ä»¤æ¥ä¿®å¤è¿™äº›æŠ¥é”™ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ</p>
<pre><code class="hljs language-css" lang="css">pnpm lint <span class="hljs-attr">--fix</span>
</code></pre>
<p>æ‰§è¡Œå®Œåï¼Œå¯ä»¥çœ‹åˆ°æŠ¥é”™çš„ä¸¤ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹éƒ½è¢«ä¿®å¤äº†ã€‚æˆ‘ä»¬å†æ¬¡æ‰§è¡Œæ£€æŸ¥å‘½ä»¤å‘ç°ä¹‹å‰çš„æŠ¥é”™æ¶ˆå¤±äº†ã€‚è¯´æ˜æˆ‘ä»¬çš„<code>ESLint</code>çš„ä¿®å¤åŠŸèƒ½æ˜¯æ²¡é—®é¢˜çš„ã€‚</p>
<p><em><strong>æ³¨æ„ï¼šESLintçš„è‡ªåŠ¨ä¿®å¤åªæ”¯æŒä¸€äº›å¯ä»¥é€šè¿‡ç®€å•çš„è½¬æ¢æ¥è§£å†³çš„é—®é¢˜ï¼Œæ¯”å¦‚æ ¼å¼é—®é¢˜ï¼ˆå¤šä½™çš„ç©ºæ ¼ï¼ŒåŒå¼•å·ï¼Œç¼ºå°‘åˆ†å·ç­‰ï¼‰</strong></em></p>
<ul>
<li><strong>ç¼–è¾‘å™¨é…ç½®</strong></li>
</ul>
<p>ä½¿ç”¨ä¸Šé¢å‘½ä»¤è¡Œçš„æ–¹å¼æ¥æ£€æŸ¥å’Œä¿®å¤ä»£ç ï¼Œæ˜¯æå…¶ä¸æ–¹ä¾¿çš„ï¼Œæœ‰æ²¡æœ‰è‡ªåŠ¨åŒ–çš„æ–¹å¼æ¥å®ç°è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Œå½“ç„¶æ˜¯æœ‰çš„ï¼</p>
<p>æˆ‘ä»¬åœ¨<code>VS Code</code>ä¸­å®‰è£…<code>ESLint</code>æ’ä»¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8eba6d7f603747959bd7aecc84d53dd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oe15ZyI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763638330&amp;x-signature=UcbYtNBLw3v%2FX6SNC1DEsAlJ2u8%3D" alt="image-20251105165605826.png" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œäºé¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.vscode/settings.json</code> å¹¶æ·»åŠ ä»¥ä¸‹é…ç½®é¡¹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 Â <span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
 Â <span class="hljs-attr">"[javascript][javascriptreact][typescript][typescriptreact]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-attr">"editor.codeActionsOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â <span class="hljs-attr">"source.fixAll.eslint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"explicit"</span>
 Â   <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
 Â <span class="hljs-attr">"eslint.useFlatConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ˜ç¡®å¯ç”¨Flat Config</span>
 Â <span class="hljs-attr">"eslint.validate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
 Â  Â <span class="hljs-string">"javascript"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"javascriptreact"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"typescript"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"typescriptreact"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ­¤æ—¶ä¿®æ”¹ä»»æ„ <code>.tsx</code> æ–‡ä»¶å¹¶æ‰§è¡Œä¿å­˜æ“ä½œï¼ŒESLintå°†è‡ªåŠ¨åº”ç”¨ä¿®å¤ã€‚</p>
<p>*<strong>æ³¨æ„ï¼šæ­¤å¤„éœ€ç¦ç”¨VSCodeä¸­çš„ä»£ç æ ¼å¼åŒ–æ’ä»¶ï¼ˆPrettierç­‰ï¼‰ï¼Œå¦åˆ™ä¼šè·ŸESLintå†²çªï¼ï¼ï¼</strong> *ï¼Œä¸‹é¢çš„<code>Prettier</code>é…ç½®ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h4 data-id="heading-14">Prettierçš„æ ¸å¿ƒä»·å€¼</h4>
<p><code>Prettier</code>ä¸“æ³¨äº<strong>ä»£ç æ ¼å¼çš„ç»Ÿä¸€æ€§</strong>ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ï¼š</p>
<ol>
<li><strong>æœ‰æ€åº¦çš„æ ¼å¼åŒ–</strong>ï¼šæä¾›æœ‰é™çš„é…ç½®é€‰é¡¹ï¼Œå¼ºåˆ¶å›¢é˜Ÿç»Ÿä¸€é£æ ¼</li>
<li><strong>å¿½ç•¥åŸæ ¼å¼</strong>ï¼šå®Œå…¨åŸºäº<code>AST</code>é‡æ–°ç”Ÿæˆä»£ç æ ¼å¼</li>
<li><strong>ä¸€è‡´æ€§ä¿è¯</strong>ï¼šç¡®ä¿é¡¹ç›®ä¸­æ‰€æœ‰ä»£ç çš„æ ¼å¼å®Œå…¨ä¸€è‡´</li>
<li><strong>å¼€å‘è€…å‹å¥½</strong>ï¼šå‡å°‘æ ¼å¼è®¨è®ºï¼Œè®©å¼€å‘è€…ä¸“æ³¨äºé€»è¾‘</li>
</ol>
<p><code>Prettier</code>çš„æ ¼å¼åŒ–è¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p>
<pre><code class="hljs">æºä»£ç  â†’ è§£æå™¨ â†’ AST â†’ ä¸­é—´è¡¨ç¤º â†’ é‡æ–°æ‰“å° â†’ æ ¼å¼åŒ–ä»£ç 
</code></pre>
<p><strong>å…³é”®ç‰¹æ€§ï¼š</strong></p>
<ul>
<li><strong>æ— æŸæ ¼å¼åŒ–</strong>ï¼šåªæ”¹å˜æ ¼å¼ï¼Œä¸æ”¹å˜ä»£ç é€»è¾‘</li>
<li><strong>è¯­è¨€æ„ŸçŸ¥</strong>ï¼šä¸åŒè¯­è¨€ä½¿ç”¨ä¸åŒçš„æ ¼å¼åŒ–è§„åˆ™</li>
<li><strong>å¯é…ç½®æ€§</strong>ï¼šåœ¨å…³é”®æ ¼å¼åŒ–å†³ç­–ä¸Šæä¾›é…ç½®é€‰é¡¹</li>
</ul>
<h4 data-id="heading-15">Prettierçš„é…ç½®</h4>
<ul>
<li><strong>å®‰è£…Prettier</strong></li>
</ul>
<p>åœ¨ç»ˆç«¯æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-css" lang="css">pnpm <span class="hljs-selector-tag">i</span> prettier -D
</code></pre>
<ul>
<li><strong>Prettierå¸¸ç”¨å‘½ä»¤</strong></li>
</ul>

<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶</span>
prettier <span class="hljs-attr">--write</span> .
â€‹
<span class="hljs-comment">//æ ¼å¼åŒ–æ•´ä¸ªç›®å½•</span>
prettier <span class="hljs-attr">--write</span> <span class="hljs-attribute">src</span>/
â€‹
<span class="hljs-comment">//æ ¼å¼åŒ–æŒ‡å®šæ–‡ä»¶</span>
prettier <span class="hljs-attr">--write</span> æ–‡ä»¶è·¯å¾„
â€‹
<span class="hljs-comment">//æ ¼å¼åŒ–æŸä¸€ç±»å‹çš„æ–‡ä»¶</span>
prettier <span class="hljs-attr">--write</span> <span class="hljs-attribute">src</span><span class="hljs-comment">/**/</span>*<span class="hljs-selector-class">.js</span>
</code></pre>
<ul>
<li><strong>Prettier</strong>é…ç½®</li>
</ul>
<p><code>Prettier</code>çš„é…ç½®æ–‡ä»¶æ”¯æŒ<code>json</code>ï¼Œ<code>js</code>ï¼Œ<code>yaml</code>ç­‰å¤šç§æ ¼å¼ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>js</code>æ¥è¿›è¡Œé…ç½®ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º<code>.prettierrc.cjs</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
 Â <span class="hljs-comment">// ========== åŸºç¡€æ ¼å¼åŒ–é…ç½® ==========</span>
â€‹
 Â <span class="hljs-comment">// æ¯è¡Œæœ€å¤§å­—ç¬¦æ•°ï¼ˆè¶…è¿‡ä¼šè‡ªåŠ¨æ¢è¡Œï¼‰</span>
 Â <span class="hljs-string">"printWidth"</span>: <span class="hljs-number">100</span>,
â€‹
 Â <span class="hljs-comment">// ç¼©è¿›ä½¿ç”¨çš„ç©ºæ ¼æ•°</span>
 Â <span class="hljs-string">"tabWidth"</span>: <span class="hljs-number">2</span>,
â€‹
 Â <span class="hljs-comment">// ä½¿ç”¨ç©ºæ ¼è€Œä¸æ˜¯åˆ¶è¡¨ç¬¦</span>
 Â <span class="hljs-string">"useTabs"</span>: <span class="hljs-literal">false</span>,
â€‹
 Â <span class="hljs-comment">// åœ¨è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·</span>
 Â <span class="hljs-string">"semi"</span>: <span class="hljs-literal">true</span>,
â€‹
 Â <span class="hljs-comment">// ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·</span>
 Â <span class="hljs-string">"singleQuote"</span>: <span class="hljs-literal">true</span>,
â€‹
 Â <span class="hljs-comment">// JSX ä¸­ä½¿ç”¨å•å¼•å·ï¼ˆfalse è¡¨ç¤ºä½¿ç”¨åŒå¼•å·ï¼‰</span>
 Â <span class="hljs-string">"jsxSingleQuote"</span>: <span class="hljs-literal">false</span>,
â€‹
 Â <span class="hljs-comment">// å°¾éšé€—å·é…ç½®ï¼šes5 - åœ¨ ES5 æœ‰æ•ˆçš„çš„åœ°æ–¹æ·»åŠ å°¾éšé€—å·</span>
 Â <span class="hljs-string">"trailingComma"</span>: <span class="hljs-string">"es5"</span>,
â€‹
 Â <span class="hljs-comment">// å¯¹è±¡å­—é¢é‡ä¸­æ‹¬å·ä¹‹é—´çš„ç©ºæ ¼</span>
 Â <span class="hljs-string">"bracketSpacing"</span>: <span class="hljs-literal">true</span>,
â€‹
 Â <span class="hljs-comment">// å°†å¤šè¡Œ HTMLï¼ˆHTMLã€JSXã€Vueã€Angularï¼‰å…ƒç´ çš„ &gt; æ”¾åœ¨æœ€åä¸€è¡Œçš„æœ«å°¾</span>
 Â <span class="hljs-string">"bracketSameLine"</span>: <span class="hljs-literal">false</span>,
â€‹
 Â <span class="hljs-comment">// ç®­å¤´å‡½æ•°å‚æ•°æ‹¬å·ï¼šavoid - å°½å¯èƒ½çœç•¥æ‹¬å·</span>
 Â <span class="hljs-string">"arrowParens"</span>: <span class="hljs-string">"avoid"</span>,
â€‹
 Â <span class="hljs-comment">// æ–‡ä»¶æ ¼å¼é…ç½®</span>
 Â <span class="hljs-string">"endOfLine"</span>: <span class="hljs-string">"lf"</span>, Â  Â  Â  Â  Â  <span class="hljs-comment">// æ¢è¡Œç¬¦æ ¼å¼ï¼ˆlf - Unix/Mac, crlf - Windowsï¼‰</span>
 Â <span class="hljs-string">"quoteProps"</span>: <span class="hljs-string">"as-needed"</span>, Â  <span class="hljs-comment">// å¯¹è±¡å±æ€§å¼•å·ï¼šæŒ‰éœ€æ·»åŠ </span>
â€‹
 Â <span class="hljs-comment">// ========== èŒƒå›´æ ¼å¼åŒ–é…ç½® ==========</span>
 Â <span class="hljs-string">"rangeStart"</span>: <span class="hljs-number">0</span>, Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// æ ¼å¼åŒ–èŒƒå›´çš„å¼€å§‹</span>
 Â <span class="hljs-string">"rangeEnd"</span>: Infinity, Â  Â  Â  Â <span class="hljs-comment">// æ ¼å¼åŒ–èŒƒå›´çš„ç»“æŸ</span>
â€‹
 Â <span class="hljs-comment">// ========== è§£æå™¨é…ç½® ==========</span>
 Â <span class="hljs-comment">// Prettier ä¼šè‡ªåŠ¨æ ¹æ®æ–‡ä»¶ç±»å‹é€‰æ‹©è§£æå™¨ï¼Œé€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨é…ç½®</span>
 Â <span class="hljs-string">"parser"</span>: <span class="hljs-string">""</span>, Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ˜¾å¼æŒ‡å®šè§£æå™¨ï¼ˆç•™ç©ºè‡ªåŠ¨æ£€æµ‹ï¼‰</span>
â€‹
 Â <span class="hljs-comment">// ========== æ–‡ä»¶ç±»å‹ç‰¹å®šé…ç½® ==========</span>
 Â <span class="hljs-string">"overrides"</span>: [
 Â   {
 Â  Â  Â <span class="hljs-string">"files"</span>: <span class="hljs-string">"*.{css,scss,less}"</span>,
 Â  Â  Â <span class="hljs-string">"options"</span>: {
 Â  Â  Â  Â <span class="hljs-string">"singleQuote"</span>: <span class="hljs-literal">false</span> Â  <span class="hljs-comment">// CSS ä¸­ä½¿ç”¨åŒå¼•å·</span>
 Â  Â   }
 Â   },
 Â   {
 Â  Â  Â <span class="hljs-string">"files"</span>: <span class="hljs-string">"*.md"</span>,
 Â  Â  Â <span class="hljs-string">"options"</span>: {
 Â  Â  Â  Â <span class="hljs-string">"printWidth"</span>: <span class="hljs-number">80</span>, Â  Â  Â <span class="hljs-comment">// Markdown æ–‡ä»¶è¡Œå®½è¾ƒå°</span>
 Â  Â  Â  Â <span class="hljs-string">"proseWrap"</span>: <span class="hljs-string">"always"</span> Â <span class="hljs-comment">// æ€»æ˜¯æ¢è¡Œæ•£æ–‡å†…å®¹</span>
 Â  Â   }
 Â   },
 Â   {
 Â  Â  Â <span class="hljs-string">"files"</span>: <span class="hljs-string">"*.json"</span>,
 Â  Â  Â <span class="hljs-string">"options"</span>: {
 Â  Â  Â  Â <span class="hljs-string">"printWidth"</span>: <span class="hljs-number">80</span> Â  Â  Â  <span class="hljs-comment">// JSON æ–‡ä»¶è¡Œå®½è¾ƒå°</span>
 Â  Â   }
 Â   },
 Â   {
 Â  Â  Â <span class="hljs-string">"files"</span>: <span class="hljs-string">"*.yml"</span>,
 Â  Â  Â <span class="hljs-string">"options"</span>: {
 Â  Â  Â  Â <span class="hljs-string">"singleQuote"</span>: <span class="hljs-literal">false</span> Â  <span class="hljs-comment">// YAML ä¸­ä½¿ç”¨åŒå¼•å·</span>
 Â  Â   }
 Â   }
  ]
}
</code></pre>
<p>ç„¶åï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<code>Prettier</code>å¿½ç•¥æ–‡ä»¶æ’é™¤æ‰ä¸æƒ³è¢«æ ¼å¼åŒ–çš„æ–‡ä»¶ï¼Œæ–°å»º<code>.prettierignore</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .prettierignore</span>
<span class="hljs-comment"># å¿½ç•¥ä¸éœ€è¦æ ¼å¼åŒ–çš„æ–‡ä»¶å’Œç›®å½•</span>
â€‹
<span class="hljs-comment"># æ„å»ºè¾“å‡º</span>
dist/
â€‹
<span class="hljs-comment"># ä¾èµ–ç›®å½•</span>
node_modules/
â€‹
<span class="hljs-comment"># ç¼“å­˜æ–‡ä»¶</span>
.cache/
.parcel-cache/
â€‹
<span class="hljs-comment"># ç¯å¢ƒå˜é‡æ–‡ä»¶</span>
.<span class="hljs-built_in">env</span>
.env.development
.env.test
.env.production
â€‹
<span class="hljs-comment"># æ—¥å¿—æ–‡ä»¶</span>
*.<span class="hljs-built_in">log</span>
logs/
â€‹
<span class="hljs-comment"># è¦†ç›–ç‡ç›®å½•</span>
coverage/
.nyc_output/
â€‹
<span class="hljs-comment"># ä¾èµ–å·¥å…·é…ç½®</span>
.yarn/
.npm/
â€‹
<span class="hljs-comment"># IDE é…ç½®</span>
.vscode/
.idea/
*.swp
*.swo
â€‹
<span class="hljs-comment"># æ“ä½œç³»ç»Ÿæ–‡ä»¶</span>
.DS_Store
Thumbs.db
â€‹
<span class="hljs-comment"># æµ‹è¯•å¿«ç…§</span>
__snapshots__/
</code></pre>
<ul>
<li><strong>ç¼–è¾‘å™¨é…ç½®</strong></li>
</ul>
<p>ä¸<code>ESLint</code>ç±»ä¼¼ï¼Œæ‰‹åŠ¨æ‰§è¡Œ<code>Prettier</code>å‘½ä»¤æ•ˆç‡ä½ä¸‹ï¼Œå»ºè®®é€šè¿‡ç¼–è¾‘å™¨æ’ä»¶å®ç°è‡ªåŠ¨åŒ–ã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ’ä»¶æ¥è‡ªåŠ¨å®Œæˆæ ¼å¼åŒ–ã€‚åœ¨<code>vscode</code>ä¸­å®‰è£…<code>Prettier</code>æ’ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72ba20b7a68640e29454d6621bf68ace~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oe15ZyI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763638330&amp;x-signature=ph7wPwU3Hnu09RTsQ6j7ZyJAC2o%3D" alt="image-20251113095806588.png" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨<code>.vscode</code>ç›®å½•ä¸­<code>settings.json</code>æ–‡ä»¶ä¸­ä¿®æ”¹é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"[javascript][javascriptreact][typescript][typescriptreact]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"editor.codeActionsOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â  Â <span class="hljs-attr">"source.fixAll.eslint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"explicit"</span><span class="hljs-punctuation">,</span>
 Â  Â  Â  Â <span class="hljs-attr">"source.fixAll.stylelint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"explicit"</span>
 Â   <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"eslint.useFlatConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ˜ç¡®å¯ç”¨Flat Config</span>
<span class="hljs-attr">"eslint.validate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
 Â  Â <span class="hljs-string">"javascript"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"javascriptreact"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"typescript"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-string">"typescriptreact"</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<h4 data-id="heading-16"><strong>ESLintä¸PrettierååŒé…ç½®ç­–ç•¥</strong></h4>
<p>ç”±äº<code>ESLint</code>ä¸<code>Prettier</code>å‡æ¶‰åŠä»£ç æ ¼å¼è§„åˆ™ï¼Œç›´æ¥é›†æˆæ˜“äº§ç”Ÿè§„åˆ™å†²çªï¼Œéœ€é€šè¿‡ä»¥ä¸‹ç­–ç•¥å®ç°ååŒï¼š</p>
<ul>
<li><strong>å®‰è£…ä¾èµ–</strong></li>
</ul>
<p>åœ¨ç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ç›¸åº”çš„ä¾èµ–</p>
<pre><code class="hljs language-arduino" lang="arduino">pnpm i eslint-config-prettier eslint-plugin-prettier -D
</code></pre>
<ul>
<li><strong>ä¿®æ”¹<code>ESLint</code>é…ç½®</strong></li>
</ul>
<p>å®Œæ•´é…ç½®å¦‚ä¸‹</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig, globalIgnores } <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint/config"</span>; <span class="hljs-comment">// å®˜æ–¹API</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">"@eslint/js"</span>;
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">"globals"</span>;
<span class="hljs-keyword">import</span> reactHooks <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-plugin-react-hooks"</span>;
<span class="hljs-keyword">import</span> reactRefresh <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-plugin-react-refresh"</span>;
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">"typescript-eslint"</span>;
<span class="hljs-keyword">import</span> prettierConfig <span class="hljs-keyword">from</span> <span class="hljs-string">"eslint-config-prettier"</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
 Â <span class="hljs-comment">// ========== å…¨å±€å¿½ç•¥é…ç½® ==========</span>
 Â <span class="hljs-comment">// ä½¿ç”¨å®˜æ–¹ globalIgnores å‡½æ•°ï¼ˆè¿”å›é…ç½®å¯¹è±¡ï¼‰</span>
 Â <span class="hljs-title function_">globalIgnores</span>([
 Â  Â <span class="hljs-string">"dist/**"</span>, Â  Â  Â <span class="hljs-comment">// æ„å»ºè¾“å‡º</span>
 Â  Â <span class="hljs-string">"node_modules/**"</span>, <span class="hljs-comment">// ä¾èµ–ç›®å½•</span>
 Â  Â <span class="hljs-string">"**/*.config.{js,ts}"</span>, <span class="hljs-comment">// é…ç½®æ–‡ä»¶</span>
 Â  Â <span class="hljs-string">"coverage/**"</span>, Â <span class="hljs-comment">// æµ‹è¯•è¦†ç›–ç‡</span>
 Â  Â <span class="hljs-string">"public/**"</span>, Â  Â <span class="hljs-comment">// é™æ€èµ„æº</span>
  ]),
â€‹
 Â <span class="hljs-comment">// ========== Prettier é›†æˆï¼ˆå‰ç½®ä¼˜å…ˆçº§ï¼‰==========</span>
 Â <span class="hljs-comment">// å…³é—­æ‰€æœ‰ä¸Prettierå†²çªçš„æ ¼å¼è§„åˆ™</span>
  {
 Â  Â <span class="hljs-attr">name</span>: <span class="hljs-string">"prettier-integration"</span>,
 Â  Â <span class="hljs-attr">rules</span>: prettierConfig.<span class="hljs-property">rules</span>,
  },
â€‹
 Â <span class="hljs-comment">// ========== æ ¸å¿ƒ TypeScript/React é…ç½® ==========</span>
  {
 Â  Â <span class="hljs-attr">name</span>: <span class="hljs-string">"typescript-react-rules"</span>,
 Â  Â <span class="hljs-attr">files</span>: [<span class="hljs-string">"**/*.{ts,tsx,js,jsx}"</span>],
â€‹
 Â <span class="hljs-comment">// extends åœ¨ Flat Config ä¸­æ˜¯æ•°ç»„åˆå¹¶</span>
 Â  Â <span class="hljs-attr">extends</span>: [
 Â  Â  Â js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
 Â  Â  Â ...tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommendedTypeChecked</span>, <span class="hljs-comment">// æ¨èç±»å‹æ£€æŸ¥ç‰ˆæœ¬</span>
 Â  Â  Â ...tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">stylisticTypeChecked</span>, Â  <span class="hljs-comment">// å¯é€‰ï¼šé£æ ¼å»ºè®®</span>
 Â   ],
â€‹
 Â  Â <span class="hljs-attr">languageOptions</span>: {
 Â  Â  Â <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-string">"latest"</span>,
 Â  Â  Â <span class="hljs-attr">sourceType</span>: <span class="hljs-string">"module"</span>,
 Â  Â  Â <span class="hljs-attr">globals</span>: {
 Â  Â  Â  Â ...globals.<span class="hljs-property">browser</span>,
 Â  Â  Â  Â ...globals.<span class="hljs-property">es2022</span>,
 Â  Â  Â  Â <span class="hljs-title class_">React</span>: <span class="hljs-string">"readonly"</span>,
 Â  Â  Â  Â <span class="hljs-attr">JSX</span>: <span class="hljs-string">"readonly"</span>, <span class="hljs-comment">// è¡¥å……JSXå…¨å±€ç±»å‹</span>
 Â  Â   },
 Â  Â  Â <span class="hljs-attr">parserOptions</span>: {
 Â  Â  Â  Â <span class="hljs-comment">// ESLint 9+ æ¨èï¼šè‡ªåŠ¨æœåŠ¡åŒ–ï¼Œæ›¿ä»£ä¼ ç»Ÿ project å­—æ®µ</span>
 Â  Â  Â  Â <span class="hljs-attr">projectService</span>: {
 Â  Â  Â  Â  Â <span class="hljs-attr">defaultProject</span>: <span class="hljs-string">"./tsconfig.json"</span>, <span class="hljs-comment">// æŒ‡å®šé»˜è®¤é¡¹ç›®</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">allowDefaultProject</span>: [<span class="hljs-string">"*.config.*"</span>], <span class="hljs-comment">// å…è®¸æ— TSConfigçš„æ–‡ä»¶</span>
 Â  Â  Â   },
 Â  Â  Â  Â <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">dirname</span>,
 Â  Â   },
 Â   },
â€‹
 Â  Â <span class="hljs-comment">// æ’ä»¶æ³¨å†Œ</span>
 Â  Â <span class="hljs-attr">plugins</span>: {
 Â  Â  Â <span class="hljs-string">"react-hooks"</span>: reactHooks,
 Â  Â  Â <span class="hljs-string">"react-refresh"</span>: reactRefresh,
 Â   },
â€‹
 Â  Â <span class="hljs-attr">rules</span>: {
 Â  Â  Â <span class="hljs-comment">// ===== å‘½åè§„èŒƒ =====</span>
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/naming-convention"</span>: [
 Â  Â  Â  Â <span class="hljs-string">"error"</span>,
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">selector</span>: <span class="hljs-string">"variableLike"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">format</span>: [<span class="hljs-string">"camelCase"</span>, <span class="hljs-string">"UPPER_CASE"</span>, <span class="hljs-string">"PascalCase"</span>],
 Â  Â  Â  Â  Â <span class="hljs-attr">leadingUnderscore</span>: <span class="hljs-string">"allow"</span>,
 Â  Â  Â   },
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">selector</span>: <span class="hljs-string">"function"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">format</span>: [<span class="hljs-string">"camelCase"</span>, <span class="hljs-string">"PascalCase"</span>], <span class="hljs-comment">// Reactç»„ä»¶å…è®¸PascalCase</span>
 Â  Â  Â   },
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">selector</span>: <span class="hljs-string">"typeLike"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">format</span>: [<span class="hljs-string">"PascalCase"</span>],
 Â  Â  Â   },
 Â  Â   ],
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== TypeScript æ ¸å¿ƒè§„åˆ™ =====</span>
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-unused-vars"</span>: [
 Â  Â  Â  Â <span class="hljs-string">"error"</span>,
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">argsIgnorePattern</span>: <span class="hljs-string">"^_"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">varsIgnorePattern</span>: <span class="hljs-string">"^_"</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">caughtErrorsIgnorePattern</span>: <span class="hljs-string">"^_"</span>,
 Â  Â  Â   },
 Â  Â   ],
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-explicit-any"</span>: <span class="hljs-string">"warn"</span>,
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-unsafe-assignment"</span>: <span class="hljs-string">"warn"</span>, <span class="hljs-comment">// æ–°å¢ï¼šç¦æ­¢ä¸å®‰å…¨çš„anyèµ‹å€¼</span>
 Â  Â  Â <span class="hljs-string">"prefer-const"</span>: <span class="hljs-string">"error"</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== React Hooks è§„åˆ™ =====</span>
 Â  Â  Â <span class="hljs-string">"react-hooks/rules-of-hooks"</span>: <span class="hljs-string">"error"</span>,
 Â  Â  Â <span class="hljs-string">"react-hooks/exhaustive-deps"</span>: <span class="hljs-string">"warn"</span>,
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== React Refresh è§„åˆ™ï¼‰=======</span>
 Â  Â  Â <span class="hljs-string">"react-refresh/only-export-components"</span>: [
 Â  Â  Â  Â <span class="hljs-string">"warn"</span>,
 Â  Â  Â   {
 Â  Â  Â  Â  Â <span class="hljs-attr">allowConstantExport</span>: <span class="hljs-literal">true</span>,
 Â  Â  Â  Â  Â <span class="hljs-attr">allowExportNames</span>: [<span class="hljs-string">"meta"</span>, <span class="hljs-string">"config"</span>], <span class="hljs-comment">// Viteç‰¹æ®Šå¯¼å‡º</span>
 Â  Â  Â   },
 Â  Â   ],
â€‹
 Â  Â  Â <span class="hljs-comment">// ===== é€šç”¨ JavaScript è§„åˆ™ =====</span>
 Â  Â  Â <span class="hljs-string">"no-console"</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"production"</span> ? <span class="hljs-string">"error"</span> : <span class="hljs-string">"warn"</span>,
 Â  Â  Â <span class="hljs-string">"no-debugger"</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"production"</span> ? <span class="hljs-string">"error"</span> : <span class="hljs-string">"warn"</span>,
 Â  Â  Â <span class="hljs-string">"prefer-arrow-callback"</span>: <span class="hljs-string">"error"</span>,
 Â  Â  Â <span class="hljs-attr">eqeqeq</span>: [<span class="hljs-string">"error"</span>, <span class="hljs-string">"always"</span>],
 Â   },
  },
â€‹
 Â <span class="hljs-comment">// ========== é…ç½®æ–‡ä»¶ç‰¹æ®Šå¤„ç† ==========</span>
  {
 Â  Â <span class="hljs-attr">name</span>: <span class="hljs-string">"config-files"</span>,
 Â  Â <span class="hljs-attr">files</span>: [<span class="hljs-string">"vite.config.{ts,js}"</span>, <span class="hljs-string">"eslint.config.js"</span>],
 Â  Â <span class="hljs-attr">languageOptions</span>: {
 Â  Â  Â <span class="hljs-attr">globals</span>: {
 Â  Â  Â  Â ...globals.<span class="hljs-property">node</span>, <span class="hljs-comment">//  Node.jså…¨å±€å˜é‡</span>
 Â  Â   },
 Â   },
 Â  Â <span class="hljs-attr">rules</span>: {
 Â  Â  Â <span class="hljs-string">"no-console"</span>: <span class="hljs-string">"off"</span>,
 Â  Â  Â <span class="hljs-string">"@typescript-eslint/no-require-imports"</span>: <span class="hljs-string">"off"</span>, <span class="hljs-comment">// ESLint 9+ æ–°è§„åˆ™å</span>
 Â   },
  },
]);
</code></pre>
<h3 data-id="heading-17"><strong>2.4 Stylelinté…ç½®</strong></h3>
<p>åœ¨<code>JavaScript/TypeScript</code>ä»£ç è´¨é‡é€šè¿‡<code>ESLint</code>ä¸<code>Prettier</code>å¾—åˆ°æœ‰æ•ˆç®¡æ§åï¼Œæ ·å¼ä»£ç çš„è§„èŒƒåŒ–æˆä¸ºå·¥ç¨‹åŒ–é—­ç¯ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚<code>Stylelint</code>ä½œä¸º<code>CSS</code>é¢†åŸŸçš„é™æ€åˆ†æå·¥å…·ï¼Œå…¶è®¾è®¡å“²å­¦ä¸<code>ESLint</code>ä¸€è„‰ç›¸æ‰¿ï¼Œä½†åœ¨æ ·å¼è¯­è¨€ç‰¹æ€§ä¸Šå…·å¤‡æ·±åº¦é€‚é…èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-18"><strong>Stylelintçš„æ ¸å¿ƒå®šä½ä¸èƒ½åŠ›è¾¹ç•Œ</strong></h4>
<p><code>Stylelint</code>ä¸“æ³¨äºæ ·å¼è¡¨æ–‡ä»¶çš„<strong>ç»“æ„æ€§ä¸ä¸€è‡´æ€§æ ¡éªŒ</strong>ï¼Œå…¶æ ¸å¿ƒä»·å€¼ä½“ç°åœ¨ï¼š</p>
<ol>
<li><strong>è¯­æ³•é”™è¯¯æ‹¦æˆª</strong>ï¼šè¯†åˆ«æ— æ•ˆçš„å±æ€§å€¼ã€æœªé—­åˆçš„é€‰æ‹©å™¨ã€é”™è¯¯çš„åµŒå¥—è§„åˆ™ç­‰è§£ææœŸé”™è¯¯</li>
<li><strong>ç¼–ç è§„èŒƒè½åœ°</strong>ï¼šç»Ÿä¸€å›¢é˜Ÿå†…é¢œè‰²è¡¨ç¤ºæ³•ï¼ˆ<code>hex/rgb/hsl</code>ï¼‰ã€ç®€å†™å±æ€§ä½¿ç”¨ã€é€‰æ‹©å™¨å‘½åèŒƒå¼ç­‰é£æ ¼å†³ç­–</li>
<li><strong>åæ¨¡å¼æ£€æµ‹</strong>ï¼šç¦ç”¨æ€§èƒ½ä¸ä½³çš„é€‰æ‹©å™¨ï¼ˆå¦‚é€šé…é€‰æ‹©å™¨<code>*</code>ï¼‰ã€é¿å…è¿‡åº¦ç‰¹å¼‚æ€§çš„åµŒå¥—ã€è¯†åˆ«å†—ä½™ä»£ç </li>
<li><strong>è·¨é¢„å¤„ç†å™¨æ”¯æŒ</strong>ï¼šåŸç”Ÿæ”¯æŒ<code>Sass/SCSS</code>ã€<code>Less</code>ã€<code>Stylus</code>ç­‰é¢„å¤„ç†è¯­è¨€ï¼Œé€šè¿‡è¯­æ³•æ’ä»¶æ‰©å±•è§£æèƒ½åŠ›</li>
</ol>
<p>ä¸<code>ESLint</code>çš„<strong>äº’è¡¥å…³ç³»</strong>ï¼š<code>ESLint</code>è´Ÿè´£è„šæœ¬é€»è¾‘çš„æ­£ç¡®æ€§ï¼Œ<code>Stylelint</code>ä¿éšœè§†è§‰å±‚ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼ŒäºŒè€…æ„æˆå‰ç«¯ä»£ç è´¨é‡çš„<strong>åŒè½¨å®¡æŸ¥æœºåˆ¶</strong>ã€‚</p>
<h4 data-id="heading-19"><strong>Stylelintçš„é…ç½®</strong></h4>
<ul>
<li><strong>ä¾èµ–å®‰è£…</strong></li>
</ul>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£…æ ¸å¿ƒåŒ…åŠ<code>Sass</code>æ”¯æŒï¼ˆæœ¬é¡¹ç›®é‡‡ç”¨<code>Sass</code>ä½œä¸ºæ ·å¼é¢„å¤„ç†å™¨ï¼‰</p>
<pre><code class="hljs language-arduino" lang="arduino">pnpm i stylelint stylelint-config-standard-scss stylelint-config-clean-order -D
</code></pre>
<p>ä¾èµ–è¯´æ˜ï¼š</p>
<ul>
<li><code>stylelint</code>ï¼šæ ¸å¿ƒå¼•æ“</li>
<li><code>stylelint-config-standard-scss</code>ï¼š<code>SCSS/Sass</code>æ ‡å‡†è§„åˆ™é›†ï¼Œç»§æ‰¿è‡ª<code>stylelint-config-standard</code>å¹¶æ‰©å±•<code>Sass</code>è¯­æ³•æ”¯æŒ</li>
<li><code>stylelint-config-clean-order</code>ï¼šå±æ€§å£°æ˜é¡ºåºè§„åˆ™ï¼Œéµå¾ªä»å¸ƒå±€åˆ°åŠ¨ç”»çš„<strong>è¯­ä¹‰åŒ–åˆ†ç»„åŸåˆ™</strong></li>
</ul>

<ul>
<li><strong>é…ç½®æ–‡ä»¶æ¶æ„</strong></li>
</ul>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>stylelint.config.cjs</code>ï¼Œé‡‡ç”¨<code>CommonJS</code>æ ¼å¼ä¸<code>ESLint</code>é…ç½®ä¿æŒé£æ ¼ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// stylelint.config.cjs</span>
<span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
 Â extends: [
 Â  Â <span class="hljs-string">'stylelint-config-standard-scss'</span>,
 Â  Â <span class="hljs-string">'stylelint-config-clean-order'</span>,
 Â  Â <span class="hljs-string">'stylelint-config-prettier-scss'</span>,
  ],
â€‹
 Â <span class="hljs-comment">// ===== ä»…SCSSæ–‡ä»¶ä½¿ç”¨ä¸“ç”¨è§£æå™¨ =====</span>
 Â customSyntax: <span class="hljs-string">'postcss-scss'</span>,
â€‹
 Â <span class="hljs-comment">// ========== è§„åˆ™è¦†ç›–ä¸è‡ªå®šä¹‰ ==========</span>
 Â rules: {
 Â  Â <span class="hljs-comment">// ===== å‘½åè§„èŒƒ =====</span>
 Â  Â <span class="hljs-string">'selector-class-pattern'</span>: [
 Â  Â  Â <span class="hljs-string">'^[a-z]([a-z0-9-]+)?(__[a-z0-9]+)?(-{1,2}[a-z0-9]+)*$'</span>,
 Â  Â   {
 Â  Â  Â  Â message: <span class="hljs-string">'Expected class selector to be kebab-case (e.g., block__element--modifier)'</span>,
 Â  Â   },
 Â   ],
â€‹
 Â  Â <span class="hljs-comment">// ===== é¢œè‰²ç®¡ç† =====</span>
 Â  Â <span class="hljs-comment">//ä½¿ç”¨Prettieræ§åˆ¶å¤§å°å†™ï¼Œæ­¤å¤„ç¦ç”¨å†²çªè§„åˆ™</span>
 Â  Â <span class="hljs-string">'color-hex-length'</span>: <span class="hljs-string">'long'</span>,
 Â  Â <span class="hljs-string">'color-function-notation'</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// ç¦ç”¨ç°ä»£è¯­æ³•å¼ºåˆ¶</span>
â€‹
 Â  Â <span class="hljs-comment">// ===== å£°æ˜å—è§„èŒƒ =====</span>
 Â  Â <span class="hljs-string">'declaration-block-no-duplicate-properties'</span>: [
 Â  Â  Â <span class="hljs-literal">true</span>,
 Â  Â   {
 Â  Â  Â  Â ignore: [<span class="hljs-string">'consecutive-duplicates-with-different-values'</span>],
 Â  Â   },
 Â   ],
â€‹
 Â  Â <span class="hljs-string">'declaration-block-no-redundant-longhand-properties'</span>: [
 Â  Â  Â <span class="hljs-literal">true</span>,
 Â  Â   {
 Â  Â  Â  Â ignoreShorthands: [<span class="hljs-string">'grid-template'</span>],
 Â  Â   },
 Â   ],
â€‹
 Â  Â <span class="hljs-comment">// ===== é€‰æ‹©å™¨é™åˆ¶ =====</span>
 Â  Â <span class="hljs-string">'max-nesting-depth'</span>: <span class="hljs-number">3</span>,
 Â  Â <span class="hljs-string">'selector-max-type'</span>: <span class="hljs-number">2</span>,
â€‹
 Â  Â <span class="hljs-comment">// ===== SCSSç‰¹å®šè§„åˆ™ =====</span>
 Â  Â <span class="hljs-string">'scss/dollar-variable-pattern'</span>: <span class="hljs-string">'^[a-z][a-z0-9-]*$'</span>,
 Â  Â <span class="hljs-string">'scss/at-extend-no-missing-placeholder'</span>: <span class="hljs-literal">true</span>,
 Â  Â <span class="hljs-string">'scss/load-no-partial-leading-underscore'</span>: <span class="hljs-literal">true</span>,
â€‹
 Â  Â <span class="hljs-comment">// ===== å•ä½ç®¡ç† =====</span>
 Â  Â <span class="hljs-string">'length-zero-no-unit'</span>: <span class="hljs-literal">true</span>,
 Â  Â <span class="hljs-comment">//æ‰€æœ‰åˆæ³•CSSå•ä½</span>
 Â  Â <span class="hljs-string">'unit-allowed-list'</span>: [
 Â  Â  Â <span class="hljs-string">'px'</span>, <span class="hljs-string">'rem'</span>, <span class="hljs-string">'em'</span>, <span class="hljs-string">'%'</span>, <span class="hljs-string">'vw'</span>, <span class="hljs-string">'vh'</span>, <span class="hljs-string">'svw'</span>, <span class="hljs-string">'svh'</span>, <span class="hljs-string">'lvw'</span>, <span class="hljs-string">'lvh'</span>, <span class="hljs-string">'dvw'</span>, <span class="hljs-string">'dvh'</span>,
 Â  Â  Â <span class="hljs-string">'s'</span>, <span class="hljs-string">'ms'</span>,
 Â  Â  Â <span class="hljs-string">'deg'</span>, <span class="hljs-string">'rad'</span>, <span class="hljs-string">'turn'</span>, <span class="hljs-string">'grad'</span>,
 Â  Â  Â <span class="hljs-string">'dpi'</span>, <span class="hljs-string">'dpcm'</span>, <span class="hljs-string">'dppx'</span>,
 Â  Â  Â <span class="hljs-string">'fr'</span>, <span class="hljs-string">'ch'</span>, <span class="hljs-string">'ex'</span>, <span class="hljs-string">'cm'</span>, <span class="hljs-string">'mm'</span>, <span class="hljs-string">'in'</span>, <span class="hljs-string">'pt'</span>, <span class="hljs-string">'pc'</span>,
 Â   ],
â€‹
 Â  Â <span class="hljs-comment">// ===== ç°ä»£CSSç‰¹æ€§ =====</span>
 Â  Â <span class="hljs-string">'selector-pseudo-element-no-unknown'</span>: [
 Â  Â  Â <span class="hljs-literal">true</span>,
 Â  Â   {
 Â  Â  Â  Â ignorePseudoElements: [<span class="hljs-string">'v-deep'</span>],
 Â  Â   },
 Â   ],
  },
};
</code></pre>
<p><strong>é…ç½®è®¾è®¡åŸåˆ™</strong>ï¼š</p>
<ul>
<li><strong>çº¦æŸå¤§äºé…ç½®</strong>ï¼šé€šè¿‡ä¸¥æ ¼è§„åˆ™é¿å…ä½è´¨é‡ä»£ç å…¥åº“</li>
<li><strong>å¯è‡ªåŠ¨ä¿®å¤</strong>ï¼š<code>stylelint-config-clean-order</code>æ”¯æŒå±æ€§æ’åºçš„è‡ªåŠ¨ä¿®å¤ï¼Œé™ä½å¼€å‘è€…è´Ÿæ‹…</li>
<li><strong>æ¡†æ¶å…¼å®¹</strong>ï¼šä¿ç•™<code>Vue</code>æ·±åº¦é€‰æ‹©å™¨<code>v-deep</code>ç­‰ç‰¹æ®Šè¯­æ³•æ”¯æŒ</li>
<li><strong>åŒè¯­æ³•å…¼å®¹</strong>ï¼šåŒæ—¶æ”¯æŒ<code>SCSS</code>å¤§æ‹¬å·è¯­æ³•ä¸<code>Sass</code>ç¼©è¿›è¯­æ³•ï¼Œé€šè¿‡<code>postcss-sass</code>è§£æå™¨è‡ªåŠ¨é€‚é…</li>
</ul>
<h4 data-id="heading-20"><strong>Stylelintä¸PrettierååŒé…ç½®ç­–ç•¥</strong></h4>
<p>ä¸<code>ESLint</code>ç±»ä¼¼ï¼Œ<code>Stylelint</code>ä¸<code>Prettier</code>åœ¨æ ·å¼æ ¼å¼ä¸ŠåŒæ ·å­˜åœ¨è§„åˆ™é‡å ï¼ˆå¦‚ç¼©è¿›ã€å¼•å·ï¼‰ï¼Œéœ€é€šè¿‡ä¸“ç”¨é…ç½®å®ç°ååŒ</p>
<ul>
<li><strong>å®‰è£…å†²çªæ¶ˆè§£åŒ…</strong></li>
</ul>

<pre><code class="hljs language-arduino" lang="arduino">pnpm i stylelint-prettier stylelint-config-prettier-scss -D
</code></pre>
<ul>
<li><strong>ä¿®æ”¹Stylelinté…ç½®</strong></li>
</ul>
<p>åœ¨<code>extends</code>æ•°ç»„æœ«å°¾è¿½åŠ Prettierä¸“ç”¨é…ç½®ï¼ˆ<strong>é¡ºåºå†³å®šä¼˜å…ˆçº§</strong>ï¼‰ï¼Œå®Œæ•´é…ç½®å¦‚ä¸‹:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// stylelint.config.cjs</span>
<span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
 Â extends: [
 Â  Â <span class="hljs-string">'stylelint-config-standard-scss'</span>,
 Â  Â <span class="hljs-string">'stylelint-config-clean-order'</span>,
 Â  Â <span class="hljs-string">'stylelint-config-prettier-scss'</span>,
  ],
â€‹
 Â plugins: [<span class="hljs-string">'stylelint-prettier'</span>],
â€‹
 Â <span class="hljs-comment">// ===== ä»…SCSSæ–‡ä»¶ä½¿ç”¨ä¸“ç”¨è§£æå™¨ =====</span>
 Â customSyntax: <span class="hljs-string">'postcss-scss'</span>,
â€‹
 Â <span class="hljs-comment">// ========== è§„åˆ™è¦†ç›–ä¸è‡ªå®šä¹‰ ==========</span>
 Â rules: {
â€‹
 Â  Â <span class="hljs-comment">// å°†Prettieré”™è¯¯ä½œä¸ºStylelintè¿è§„æŠ›å‡º</span>
 Â  Â <span class="hljs-string">'prettier/prettier'</span>: <span class="hljs-literal">true</span>,
â€‹
 Â  Â <span class="hljs-comment">// ===== å‘½åè§„èŒƒ =====</span>
 Â  Â <span class="hljs-string">'selector-class-pattern'</span>: [
 Â  Â  Â <span class="hljs-string">'^[a-z]([a-z0-9-]+)?(__[a-z0-9]+)?(-{1,2}[a-z0-9]+)*$'</span>,
 Â  Â   {
 Â  Â  Â  Â message: <span class="hljs-string">'Expected class selector to be kebab-case (e.g., block__element--modifier)'</span>,
 Â  Â   },
 Â   ],
â€‹
 Â  Â <span class="hljs-comment">// ===== é¢œè‰²ç®¡ç† =====</span>
 Â  Â <span class="hljs-comment">//ä½¿ç”¨Prettieræ§åˆ¶å¤§å°å†™ï¼Œæ­¤å¤„ç¦ç”¨å†²çªè§„åˆ™</span>
 Â  Â <span class="hljs-string">'color-hex-length'</span>: <span class="hljs-string">'long'</span>,
 Â  Â <span class="hljs-string">'color-function-notation'</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// ç¦ç”¨ç°ä»£è¯­æ³•å¼ºåˆ¶</span>
â€‹
 Â  Â <span class="hljs-comment">// ===== å£°æ˜å—è§„èŒƒ =====</span>
 Â  Â <span class="hljs-string">'declaration-block-no-duplicate-properties'</span>: [
 Â  Â  Â <span class="hljs-literal">true</span>,
 Â  Â   {
 Â  Â  Â  Â ignore: [<span class="hljs-string">'consecutive-duplicates-with-different-values'</span>],
 Â  Â   },
 Â   ],
â€‹
 Â  Â <span class="hljs-string">'declaration-block-no-redundant-longhand-properties'</span>: [
 Â  Â  Â <span class="hljs-literal">true</span>,
 Â  Â   {
 Â  Â  Â  Â ignoreShorthands: [<span class="hljs-string">'grid-template'</span>],
 Â  Â   },
 Â   ],
â€‹
 Â  Â <span class="hljs-comment">// ===== é€‰æ‹©å™¨é™åˆ¶ =====</span>
 Â  Â <span class="hljs-string">'max-nesting-depth'</span>: <span class="hljs-number">3</span>,
 Â  Â <span class="hljs-string">'selector-max-type'</span>: <span class="hljs-number">2</span>,
â€‹
 Â  Â <span class="hljs-comment">// ===== SCSSç‰¹å®šè§„åˆ™ =====</span>
 Â  Â <span class="hljs-string">'scss/dollar-variable-pattern'</span>: <span class="hljs-string">'^[a-z][a-z0-9-]*$'</span>,
 Â  Â <span class="hljs-string">'scss/at-extend-no-missing-placeholder'</span>: <span class="hljs-literal">true</span>,
 Â  Â <span class="hljs-string">'scss/load-no-partial-leading-underscore'</span>: <span class="hljs-literal">true</span>,
â€‹
 Â  Â <span class="hljs-comment">// ===== å•ä½ç®¡ç† =====</span>
 Â  Â <span class="hljs-string">'length-zero-no-unit'</span>: <span class="hljs-literal">true</span>,
 Â  Â <span class="hljs-comment">//æ‰€æœ‰åˆæ³•CSSå•ä½</span>
 Â  Â <span class="hljs-string">'unit-allowed-list'</span>: [
 Â  Â  Â <span class="hljs-string">'px'</span>, <span class="hljs-string">'rem'</span>, <span class="hljs-string">'em'</span>, <span class="hljs-string">'%'</span>, <span class="hljs-string">'vw'</span>, <span class="hljs-string">'vh'</span>, <span class="hljs-string">'svw'</span>, <span class="hljs-string">'svh'</span>, <span class="hljs-string">'lvw'</span>, <span class="hljs-string">'lvh'</span>, <span class="hljs-string">'dvw'</span>, <span class="hljs-string">'dvh'</span>,
 Â  Â  Â <span class="hljs-string">'s'</span>, <span class="hljs-string">'ms'</span>,
 Â  Â  Â <span class="hljs-string">'deg'</span>, <span class="hljs-string">'rad'</span>, <span class="hljs-string">'turn'</span>, <span class="hljs-string">'grad'</span>,
 Â  Â  Â <span class="hljs-string">'dpi'</span>, <span class="hljs-string">'dpcm'</span>, <span class="hljs-string">'dppx'</span>,
 Â  Â  Â <span class="hljs-string">'fr'</span>, <span class="hljs-string">'ch'</span>, <span class="hljs-string">'ex'</span>, <span class="hljs-string">'cm'</span>, <span class="hljs-string">'mm'</span>, <span class="hljs-string">'in'</span>, <span class="hljs-string">'pt'</span>, <span class="hljs-string">'pc'</span>,
 Â   ],
â€‹
 Â  Â <span class="hljs-comment">// ===== ç°ä»£CSSç‰¹æ€§ =====</span>
 Â  Â <span class="hljs-string">'selector-pseudo-element-no-unknown'</span>: [
 Â  Â  Â <span class="hljs-literal">true</span>,
 Â  Â   {
 Â  Â  Â  Â ignorePseudoElements: [<span class="hljs-string">'v-deep'</span>],
 Â  Â   },
 Â   ],
  },
};
</code></pre>
<p><strong>ååŒæœºåˆ¶</strong>ï¼š<code>Prettier</code>è´Ÿè´£æ ¼å¼ç¾åŒ–ï¼Œ<code>Stylelint</code>ä¸“æ³¨ç»“æ„å®¡æŸ¥ï¼ŒäºŒè€…é€šè¿‡<code>stylelint-prettier</code>æ’ä»¶å®ç°é”™è¯¯ç»Ÿä¸€ä¸ŠæŠ¥ï¼Œå¼€å‘è€…ä»…éœ€å…³æ³¨<code>Stylelint</code>çš„è¾“å‡ºå³å¯ã€‚</p>
<h4 data-id="heading-21"><strong>ç¼–è¯‘å™¨è‡ªåŠ¨åŒ–é›†æˆ</strong></h4>
<ul>
<li><strong>å®‰è£…æ’ä»¶</strong></li>
</ul>
<p>åœ¨æ‰©å±•å¸‚åœºæœç´¢<code>Stylelint</code>å¹¶å®‰è£…å®˜æ–¹æ’ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b666a79979b408c9cbc3c1b04dc922c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oe15ZyI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763638330&amp;x-signature=g5dyydVHMxzNYKGPCBqhF61EuNU%3D" alt="image-20251113152347089.png" loading="lazy"/></p>
<ul>
<li><strong>ä¿®æ”¹ç¼–è¯‘å™¨é…ç½®</strong></li>
</ul>
<p>åœ¨<code>.vscode/settings.json</code>ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œå®ç°ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"[scss][sass][css]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"editor.codeActionsOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â  Â  Â <span class="hljs-attr">"source.fixAll.stylelint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"explicit"</span>
 Â   <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stylelint.vscode-stylelint"</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-comment">// ç¡®ä¿Stylelinté…ç½®è¢«è¯†åˆ«</span>
<span class="hljs-attr">"stylelint.validate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"css"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"scss"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"sass"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"stylelint.snippet"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"css"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"scss"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"sass"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"stylelint.configFile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stylelint.config.cjs"</span>
</code></pre>
<ul>
<li><strong>æ‰§è¡ŒéªŒè¯</strong></li>
</ul>
<p>åœ¨<code>package.json</code>ä¸­æ·»åŠ è„šæœ¬ï¼Œé›†æˆåˆ°<code>CI</code>æµç¨‹</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 Â <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-attr">"lint:style"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stylelint "</span>src<span class="hljs-comment">/**/</span>*.<span class="hljs-punctuation">{</span>css<span class="hljs-punctuation">,</span>scss<span class="hljs-punctuation">,</span>sass<span class="hljs-punctuation">}</span><span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"lint:style:fix"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stylelint "</span>src<span class="hljs-comment">/**/</span>*.<span class="hljs-punctuation">{</span>css<span class="hljs-punctuation">,</span>scss<span class="hljs-punctuation">,</span>sass<span class="hljs-punctuation">}</span><span class="hljs-string">" --fix"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-22"><strong>2.5 Git å·¥ä½œæµé›†æˆ - Husky ä¸ lint-staged ååŒé…ç½®</strong></h3>
<p>å½“ä»£ç è´¨é‡å·¥å…·é“¾åœ¨æœ¬åœ°ç¯å¢ƒå…·å¤‡æ‰§è¡Œèƒ½åŠ›åï¼Œä¸‹ä¸€æ­¥æ˜¯å°†å…¶<strong>åµŒå…¥ç‰ˆæœ¬æ§åˆ¶æµç¨‹</strong>ï¼Œå½¢æˆä¸å¯ç»•è¿‡çš„è´¨é‡é—¨ç¦ã€‚ä¼ ç»Ÿ Git Hooks é…ç½®åˆ†æ•£äº <code>.git/hooks</code> ç›®å½•ï¼Œå­˜åœ¨è·¨å¹³å°å…¼å®¹æ€§å·®ã€å›¢é˜Ÿåä½œéš¾ä»¥åŒæ­¥ã€æƒé™ç®¡ç†å¤æ‚ç­‰å›ºæœ‰é—®é¢˜ã€‚<strong>Husky</strong> é€šè¿‡é¡¹ç›®åŒ–é…ç½®å®ç°å¯¹ Git Hooks çš„é›†ä¸­ç®¡ç†ï¼Œè€Œ <strong>lint-staged</strong> åˆ™ç²¾å‡†æ‹¦æˆªæš‚å­˜åŒºæ–‡ä»¶ï¼Œé¿å…å…¨é‡æ£€æŸ¥å¸¦æ¥çš„æ€§èƒ½æŸè€—ã€‚äºŒè€…ååŒæ„å»º<strong>æäº¤å‰è´¨é‡éªŒè¯ï¼ˆPre-commit Quality Gateï¼‰</strong> æœºåˆ¶ã€‚</p>
<h4 data-id="heading-23"><strong>Git Hooks çš„ç°ä»£åŒ–æ¼”è¿›</strong></h4>
<p>åŸç”Ÿ Git Hooks è„šæœ¬å­˜å‚¨äº <code>.git/hooks</code> ç›®å½•ï¼Œè¯¥ç›®å½•æœªè¢«ç‰ˆæœ¬è·Ÿè¸ªï¼Œå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li><strong>é…ç½®æ— æ³•å…±äº«</strong>ï¼šæ–°æˆå‘˜å…‹éš†ä»“åº“åéœ€æ‰‹åŠ¨å¤åˆ¶é’©å­è„šæœ¬</li>
<li><strong>è·¨å¹³å°è„†å¼±</strong>ï¼šShell è„šæœ¬åœ¨ Windows/macOS/Linux ä¸Šæ‰§è¡Œè¡Œä¸ºä¸ä¸€è‡´</li>
<li><strong>æƒé™ç®¡ç†å¤æ‚</strong>ï¼šå¯æ‰§è¡Œæƒé™éœ€åœ¨æ¯æ¬¡æ›´æ–°åé‡æ–°è®¾ç½®</li>
<li><strong>ç¼ºä¹çµæ´»æ€§</strong>ï¼šæ— æ³•æ ¹æ®æ–‡ä»¶ç±»å‹åŠ¨æ€é€‰æ‹©æ£€æŸ¥ç­–ç•¥</li>
</ol>
<p><strong>Husky v9+</strong> é‡‡ç”¨<strong>é¡¹ç›®çº§é’©å­ç›®å½•</strong>æ–¹æ¡ˆï¼Œå°†é’©å­è„šæœ¬çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œå¹¶é€šè¿‡ <code>prepare</code> è„šæœ¬å®ç°è‡ªåŠ¨åŒ–å®‰è£…ã€‚<strong>lint-staged</strong> åŸºäº <code>git diff --cached</code> æå–æš‚å­˜æ–‡ä»¶åˆ—è¡¨ï¼Œå®ç°<strong>å¢é‡å¼ç²¾å‡†æ£€æŸ¥</strong>ï¼Œå…¶æ‰§è¡Œæ•ˆç‡ä¸é¡¹ç›®è§„æ¨¡è§£è€¦ã€‚</p>
<h4 data-id="heading-24"><strong>ä»“åº“åˆå§‹åŒ–ä¸é¦–æ¬¡æäº¤</strong></h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ <code>Git</code> ä»“åº“åˆå§‹åŒ–ï¼ˆè‹¥å°šæœªæ‰§è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># åˆå§‹åŒ– Git ä»“åº“</span>
git <span class="hljs-keyword">init</span>
â€‹
<span class="hljs-meta"># é…ç½®ç”¨æˆ·ä¿¡æ¯ï¼ˆå…¨å±€æˆ–é¡¹ç›®çº§ï¼‰</span>
git config user.name <span class="hljs-string">"your-name"</span>
git config user.email <span class="hljs-string">"your-email@example.com"</span>
â€‹
<span class="hljs-meta"># åˆ›å»ºåˆå§‹æäº¤ï¼ˆHusky v9+ è¦æ±‚è‡³å°‘ä¸€æ¬¡æäº¤ï¼‰</span>
git <span class="hljs-keyword">add</span> .
git commit -m <span class="hljs-string">"chore: initial commit"</span>
</code></pre>
<p>å…³é”®çº¦æŸï¼š<code>Husky</code>å®‰è£…éœ€åœ¨<strong>è‡³å°‘ä¸€æ¬¡æäº¤å</strong>æ‰§è¡Œï¼Œå¦åˆ™é’©å­å®‰è£…å°†å¤±è´¥ã€‚è‹¥é¡¹ç›®å·²å« Git å†å²ï¼Œæ­¤æ­¥éª¤å¯è·³è¿‡ã€‚</p>
<h4 data-id="heading-25"><strong>Husky å®‰è£…ä¸é’©å­é…ç½®</strong></h4>
<ul>
<li><strong>å®‰è£…ä¾èµ–</strong></li>
</ul>

<pre><code class="hljs language-css" lang="css">pnpm <span class="hljs-selector-tag">i</span> husky lint-staged -D
</code></pre>
<ul>
<li><strong>åˆå§‹åŒ– Husky</strong></li>
</ul>
<p><code>Husky v9+</code>æä¾›å£°æ˜å¼åˆå§‹åŒ–å‘½ä»¤ï¼Œè‡ªåŠ¨ç”Ÿæˆé’©å­ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰§è¡Œåˆå§‹åŒ–ï¼ˆè‡ªåŠ¨ç”Ÿæˆ .husky/ ç›®å½•ï¼‰</span>
pnpm <span class="hljs-built_in">exec</span> husky init
</code></pre>
<p>æ‰§è¡Œåé¡¹ç›®ç»“æ„æ–°å¢ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">backend-management-<span class="hljs-keyword">system</span>/
â”œâ”€â”€ .husky/ Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># Husky é’©å­ç›®å½•ï¼ˆçº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰</span>
â”‚ Â  â””â”€â”€ <span class="hljs-number">_</span>/ Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># å†…éƒ¨å·¥å…·ç›®å½•</span>
â”‚ Â  â””â”€â”€ pre-commit Â  Â  Â  Â  Â  <span class="hljs-comment"># pre-commit é’©å­è„šæœ¬</span>
â”‚ Â  â””â”€â”€ ... Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># å…¶ä»–é’©å­æ¨¡æ¿</span>
â”œâ”€â”€ node_modules/
â”œâ”€â”€ src/
â””â”€â”€ package.json
</code></pre>
<ul>
<li><strong>é…ç½® pre-commit é’©å­</strong></li>
</ul>
<p>ç¼–è¾‘ <code>.husky/pre-commit</code> æ–‡ä»¶ï¼Œç§»é™¤é»˜è®¤å†…å®¹å¹¶æ·»åŠ  å¦‚ä¸‹<code>lint-staged</code>è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/sh</span>
<span class="hljs-comment"># .husky/pre-commit</span>
â€‹
<span class="hljs-comment"># æ‰§è¡Œ lint-staged æ£€æŸ¥</span>
pnpm <span class="hljs-built_in">exec</span> lint-staged
</code></pre>
<p>æƒé™è¯´æ˜ï¼š<code>Husky init</code>å·²è‡ªåŠ¨ä¸º <code>pre-commit</code> æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼Œæ— éœ€æ‰‹åŠ¨ <code>chmod +x</code>ã€‚</p>
<ul>
<li><strong>lint-staged é…ç½®çŸ©é˜µ</strong></li>
</ul>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>lint-staged.config.cjs</code>ï¼Œé‡‡ç”¨ <code>CommonJS</code>æ ¼å¼é…ç½®å¤šæ–‡ä»¶ç±»å‹æ£€æŸ¥ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// lint-staged.config.cjs</span>
<span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
 Â <span class="hljs-comment">// ========== TypeScript/JavaScript æ–‡ä»¶æ£€æŸ¥ ==========</span>
 Â <span class="hljs-string">'**/*.{ts,tsx,js,jsx}'</span>: [
 Â  Â <span class="hljs-comment">// ESLint è‡ªåŠ¨ä¿®å¤ä¸æ£€æŸ¥</span>
 Â  Â <span class="hljs-string">'eslint --fix --max-warnings 0'</span>,
 Â  Â <span class="hljs-comment">// Prettier æ ¼å¼åŒ–ï¼ˆäºŒæ¬¡æ ¡éªŒï¼‰</span>
 Â  Â <span class="hljs-string">'prettier --write'</span>,
 Â  Â <span class="hljs-comment">// Git æ·»åŠ ä¿®å¤åçš„æ–‡ä»¶</span>
 Â  Â <span class="hljs-string">'git add'</span>,
  ],
â€‹
 Â <span class="hljs-comment">// ========== SCSS/CSS æ–‡ä»¶æ£€æŸ¥ ==========</span>
 Â <span class="hljs-string">'**/*.{scss,css}'</span>: [
 Â  Â <span class="hljs-comment">// Stylelint è‡ªåŠ¨ä¿®å¤ä¸æ£€æŸ¥</span>
 Â  Â <span class="hljs-string">'stylelint --fix --max-warnings 0'</span>,
 Â  Â <span class="hljs-comment">// Prettier æ ¼å¼åŒ–</span>
 Â  Â <span class="hljs-string">'prettier --write'</span>,
 Â  Â <span class="hljs-comment">// Git æ·»åŠ ä¿®å¤åçš„æ–‡ä»¶</span>
 Â  Â <span class="hljs-string">'git add'</span>,
  ],
â€‹
 Â <span class="hljs-comment">// ========== JSON æ–‡ä»¶æ ¼å¼åŒ– ==========</span>
 Â <span class="hljs-string">'**/*.json'</span>: [<span class="hljs-string">'prettier --write'</span>, <span class="hljs-string">'git add'</span>],
â€‹
 Â <span class="hljs-comment">// ========== Markdown æ–‡æ¡£æ ¼å¼åŒ– ==========</span>
 Â <span class="hljs-string">'**/*.md'</span>: [<span class="hljs-string">'prettier --write'</span>, <span class="hljs-string">'git add'</span>],
â€‹
 Â <span class="hljs-comment">// ========== é…ç½®æ–‡ä»¶æ ¼å¼åŒ– ==========</span>
 Â <span class="hljs-string">'*.{yml,yaml}'</span>: [<span class="hljs-string">'prettier --write'</span>, <span class="hljs-string">'git add'</span>],
};
</code></pre>
<p>é…ç½®ç­–ç•¥è§£è¯»ï¼š</p>
<ol>
<li><strong>ä»»åŠ¡ä¸²è¡Œæ‰§è¡Œ</strong>ï¼šæ•°ç»„å†…å‘½ä»¤æŒ‰åºæ‰§è¡Œï¼Œå‰åºå¤±è´¥åˆ™ä¸­æ–­æäº¤</li>
<li><strong>è‡ªåŠ¨ä¿®å¤ä¼˜å…ˆ</strong>ï¼š<code>--fix</code> è‡ªåŠ¨å¤„ç†å¯ä¿®å¤é¡¹ï¼Œå‡å°‘äººå·¥å¹²é¢„</li>
<li><strong>é›¶è­¦å‘Šç­–ç•¥</strong>ï¼š<code>--max-warnings 0</code> å°†è­¦å‘Šè§†ä¸ºé”™è¯¯ï¼Œç¡®ä¿è´¨é‡çº¢çº¿</li>
<li><strong>Git é‡æ·»åŠ </strong>ï¼šä¿®å¤åæ–‡ä»¶éœ€é‡æ–°åŠ å…¥æš‚å­˜åŒºï¼Œå¦åˆ™ä¿®å¤ä¸ä¼šè¿›å…¥æäº¤</li>
</ol>
<ul>
<li><strong>prepare è„šæœ¬è‡ªåŠ¨åŒ–</strong></li>
</ul>
<p>åœ¨ <code>package.json</code> ä¸­æ·»åŠ  <code>prepare</code> è„šæœ¬ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜å®‰è£…ä¾èµ–åè‡ªåŠ¨å¯ç”¨ Huskyï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 Â <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
 Â  Â <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc &amp;&amp; vite build"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint . --ext ts,tsx --report-unused-disable-directives"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"lint:style"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stylelint "</span>src<span class="hljs-comment">/**/</span>*.<span class="hljs-punctuation">{</span>css<span class="hljs-punctuation">,</span>scss<span class="hljs-punctuation">}</span><span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-attr">"lint:fix"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint . --fix &amp;&amp; stylelint "</span>src<span class="hljs-comment">/**/</span>*.<span class="hljs-punctuation">{</span>css<span class="hljs-punctuation">,</span>scss<span class="hljs-punctuation">}</span><span class="hljs-string">" --fix"</span><span class="hljs-punctuation">,</span>
 Â  Â <span class="hljs-comment">// ===== prepare è„šæœ¬å®ç° Husky è‡ªåŠ¨å®‰è£… =====</span>
 Â  Â <span class="hljs-attr">"prepare"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"husky"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å·¥ä½œåŸç†ï¼š<code>pnpm install</code> æ‰§è¡Œåè‡ªåŠ¨è§¦å‘ <code>prepare</code> è„šæœ¬ï¼Œ<code>husky</code>æ£€æµ‹ <code>.husky/</code> ç›®å½•å­˜åœ¨åˆ™å®Œæˆé’©å­æ³¨å†Œã€‚</p>
<ul>
<li><strong>æµç¨‹æ¼”ç¤º</strong></li>
</ul>
<p>ä¿®æ”¹ <code>src/App.tsx</code> ä¸ <code>src/App.scss</code> å¹¶å°è¯•æäº¤ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># 1. ä¿®æ”¹æ–‡ä»¶ï¼ˆå¼•å…¥ lint é”™è¯¯ï¼‰</span>
<span class="hljs-meta"># App.tsx: æ·»åŠ æœªä½¿ç”¨å˜é‡ const unused = 1;</span>
<span class="hljs-meta"># App.scss: ä½¿ç”¨é”™è¯¯å•ä½ margin: 0px;</span>
â€‹
<span class="hljs-meta"># 2. æ·»åŠ è‡³æš‚å­˜åŒº</span>
git <span class="hljs-keyword">add</span> src/App.tsx src/App.scss
â€‹
<span class="hljs-meta"># 3. æ‰§è¡Œæäº¤ï¼ˆè§¦å‘ pre-commit é’©å­ï¼‰</span>
git commit -m <span class="hljs-string">"feat: update app component"</span>
</code></pre>
<p>æ‰§è¡Œæ£€æŸ¥è¿‡ç¨‹ï¼Œå¦‚æœæ£€æŸ¥é€šè¿‡ï¼Œåˆ™æœ‰å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">âœ” Backed up original state <span class="hljs-keyword">in</span> git stash (f0bda7f)
âœ” <span class="hljs-keyword">Running</span> tasks <span class="hljs-keyword">for</span> staged files...
âœ” Applying modifications <span class="hljs-keyword">from</span> tasks...
âœ” Cleaning up temporary files...
[master fbeac15] feat: <span class="hljs-keyword">update</span> app component
 <span class="hljs-number">5</span> files changed, <span class="hljs-number">1899</span> insertions(<span class="hljs-operator">+</span>), <span class="hljs-number">551</span> deletions(<span class="hljs-operator">-</span>)
 <span class="hljs-keyword">create</span> mode <span class="hljs-number">100644</span> .husky<span class="hljs-operator">/</span>pre<span class="hljs-operator">-</span><span class="hljs-keyword">commit</span>
 <span class="hljs-keyword">create</span> mode <span class="hljs-number">100644</span> lint<span class="hljs-operator">-</span>staged.config.cjs
</code></pre>
<p>å¦‚æœ<code>lint</code>æ£€æŸ¥ä¸é€šè¿‡ï¼Œåˆ™ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">âœ” Backed up original <span class="hljs-keyword">state</span> in git stash (e4d8bad)
âš  Running tasks <span class="hljs-keyword">for</span> staged files...
  â¯ lint-staged.config.cjs â€” <span class="hljs-number">1</span> file
 Â   â¯ **<span class="hljs-regexp">/*.{ts,tsx,js,jsx} â€” 1 file
 Â  Â   âœ– eslint --fix --max-warnings 0 [FAILED]
 Â  Â   â—¼ prettier --write
 Â  Â   â—¼ git add
 Â   â†“ **/</span>*.{scss,css} â€” <span class="hljs-keyword">no</span> files
 Â   â†“ **<span class="hljs-regexp">/*.json â€” no files
 Â   â†“ **/</span>*.md â€” <span class="hljs-keyword">no</span> files
 Â   â†“ *.{yml,yaml} â€” <span class="hljs-keyword">no</span> files
â†“ Skipped because of errors from tasks.
âœ” Reverting to original <span class="hljs-keyword">state</span> because of errors...
âœ” Cleaning up temporary files...
â€‹
âœ– eslint --fix --max-warnings <span class="hljs-number">0</span>:
â€‹
E:\ReactProject\backend-management-<span class="hljs-keyword">system</span>\src\App.tsx
 Â <span class="hljs-number">9</span>:<span class="hljs-number">9</span>  error Â <span class="hljs-string">'a'</span> is assigned a value but never used. Allowed unused vars must match /^<span class="hljs-number">_</span>/u  @typescript-eslint/<span class="hljs-keyword">no</span>-unused-vars
â€‹
âœ– <span class="hljs-number">1</span> problem (<span class="hljs-number">1</span> error, <span class="hljs-number">0</span> warnings)
â€‹
â€‹
âœ– eslint --fix --max-warnings <span class="hljs-number">0</span> failed to spawn:
Command failed with <span class="hljs-keyword">exit</span> code <span class="hljs-number">1</span>: eslint --fix --max-warnings <span class="hljs-number">0</span> <span class="hljs-string">'E:/ReactProject/backend-management-system/src/App.tsx'</span>
undefined
husky - pre-commit script failed (code <span class="hljs-number">1</span>)
</code></pre>
<p><em>ç´§æ€¥ä¿®å¤æ—¶å¯ä½¿ç”¨<code>--no-verify</code>è·³è¿‡æ£€æŸ¥</em></p>
<pre><code class="hljs language-sql" lang="sql">git <span class="hljs-keyword">commit</span> <span class="hljs-operator">-</span>m "hotfix: critical bug fix" <span class="hljs-comment">--no-verify</span>
</code></pre>
<ul>
<li><strong>CIä¸€è‡´æ€§ä¿éšœ</strong></li>
</ul>
<p>åœ¨ GitHub Actions æˆ– GitLab CI ä¸­è¿è¡Œç›¸åŒæ£€æŸ¥ï¼Œç¡®ä¿æœ¬åœ°ä¸è¿œç«¯è¡Œä¸ºä¸€è‡´ã€‚åœ¨é¡¹ç›®ä¸­åˆ›å»º<code>.github/workflows/quality.yml</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/quality.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Code</span> <span class="hljs-string">Quality</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>, <span class="hljs-string">pull_request</span>]
<span class="hljs-string">â€‹</span>
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">lint:</span>
 Â   <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
 Â   <span class="hljs-attr">steps:</span>
 Â  Â   <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
 Â  Â   <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">pnpm/action-setup@v2</span>
 Â  Â   <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">lint</span>
 Â  Â  Â   <span class="hljs-attr">run:</span> <span class="hljs-string">|
 Â  Â  Â  Â   pnpm install
 Â  Â  Â  Â   pnpm lint
 Â  Â  Â  Â   pnpm lint:style
</span></code></pre>
<ul>
<li><strong>commitlint é›†æˆ</strong></li>
</ul>
<p>ä»£ç é£æ ¼çš„ç»Ÿä¸€ä¸åº”æ­¢æ­¥äºæ–‡ä»¶å†…å®¹ï¼Œ<strong>æäº¤ä¿¡æ¯ï¼ˆCommit Messageï¼‰</strong> ä½œä¸ºä»£ç å†å²çš„å…ƒæ•°æ®ï¼ŒåŒæ ·éœ€è¦è§„èŒƒåŒ–ç®¡ç†ã€‚<code>commitlint</code> å°† <code>ESLint</code> çš„é™æ€åˆ†ææ€æƒ³åº”ç”¨äºæäº¤ä¿¡æ¯æ ¡éªŒï¼Œç¡®ä¿å›¢é˜Ÿéµå¾ªä¸€è‡´çš„æäº¤èŒƒå¼ï¼Œä¸ºè‡ªåŠ¨åŒ–ç”Ÿæˆ CHANGELOGã€è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰åŠä»£ç å›æº¯å¥ å®šåŸºç¡€ã€‚</p>
<p><strong>Angular Commit Convention</strong> ä½œä¸ºä¸šç•Œå¹¿æ³›é‡‡çº³çš„è§„èŒƒï¼Œå®šä¹‰äº† <code>feat</code>ã€<code>fix</code>ã€<code>docs</code>ã€<code>style</code>ã€<code>refactor</code>ã€<code>test</code>ã€<code>chore</code> ç­‰ç±»å‹æ ‡ç­¾ï¼Œé…åˆä½œç”¨åŸŸï¼ˆScopeï¼‰ä¸æè¿°ï¼ˆDescriptionï¼‰å½¢æˆä¸‰æ®µå¼ç»“æ„ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>): <span class="hljs-tag">&lt;<span class="hljs-name">subject</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
</code></pre>
<p>å®‰è£…<code>commitlint</code></p>
<pre><code class="hljs language-bash" lang="bash">pnpm i @commitlint/cli @commitlint/config-conventional -D
</code></pre>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>commitlint.config.cjs</code>ï¼Œç»§æ‰¿ Conventional è§„èŒƒå¹¶æ‰©å±•å›¢é˜Ÿç‰¹å®šçº¦æŸï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// commitlint.config.cjs</span>
<span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
 Â <span class="hljs-comment">// ç»§æ‰¿ Conventional Commits è§„èŒƒ</span>
 Â extends: [<span class="hljs-string">'@commitlint/config-conventional'</span>],
â€‹
 Â <span class="hljs-comment">// ========== è‡ªå®šä¹‰è§„åˆ™è¦†ç›– ==========</span>
 Â rules: {
 Â  Â <span class="hljs-comment">// æè¿°æœ€å°é•¿åº¦</span>
 Â  Â <span class="hljs-string">'subject-min-length'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>, <span class="hljs-number">10</span>],
â€‹
 Â  Â <span class="hljs-comment">// ===== æ­£æ–‡ä¸è„šæ³¨ =====</span>
 Â  Â <span class="hljs-comment">// æ­£æ–‡æ¯è¡Œæœ€å¤§é•¿åº¦</span>
 Â  Â <span class="hljs-string">'body-max-line-length'</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">'always'</span>, <span class="hljs-number">100</span>],
  },
â€‹
 Â <span class="hljs-comment">// ========== è¾…åŠ©é…ç½® ==========</span>
 Â <span class="hljs-comment">// è§£æå™¨é€‰é¡¹</span>
 Â parserPreset: {
 Â  Â parserOpts: {
 Â  Â  Â <span class="hljs-comment">// å…è®¸è„šæ³¨å…³è” Issueï¼ˆå¦‚ Close #123, Fix #456ï¼‰</span>
 Â  Â  Â issuePrefixes: [<span class="hljs-string">'#'</span>, <span class="hljs-string">'https://github.com/your-org/your-repo/issues/'</span>],
 Â   },
  },
};
</code></pre>
<p>åˆ›å»º <code>.husky/commit-msg</code> æ–‡ä»¶ï¼Œè°ƒç”¨ <code>commitlint</code> æ ¡éªŒæäº¤ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/sh</span>
<span class="hljs-comment"># .husky/commit-msg</span>
â€‹
<span class="hljs-comment"># é€šè¿‡ commitlint æ ¡éªŒæäº¤ä¿¡æ¯æ ¼å¼</span>
pnpm <span class="hljs-built_in">exec</span> commitlint --edit <span class="hljs-variable">$1</span>
</code></pre>
<p>ä¸ lint-staged çš„ååŒæœºåˆ¶ï¼šåœ¨ <code>lint-staged.config.cjs</code> ä¸­è¡¥å……<strong>æäº¤ä¿¡æ¯æ ¼å¼æ£€æŸ¥</strong>ï¼Œè™½ç„¶ lint-staged ä¸ç›´æ¥å¤„ç† commit messageï¼Œä½†å¯ç¡®ä¿æäº¤å‰æ‰€æœ‰ä»£ç æ£€æŸ¥é€šè¿‡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// lint-staged.config.cjs</span>
<span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
 Â <span class="hljs-comment">// ...åŸæœ‰é…ç½®</span>
 Â 
 Â <span class="hljs-comment">// ========== æäº¤ä¿¡æ¯æ–‡ä»¶å¤„ç†ï¼ˆå¦‚æœ‰ï¼‰==========</span>
 Â <span class="hljs-comment">// è‹¥é¡¹ç›®åŒ…å«æäº¤æ¨¡æ¿ï¼Œå¯æ ¼å¼åŒ–æ¨¡æ¿æ–‡ä»¶</span>
 Â <span class="hljs-string">'.gitcommitmessage'</span>: [<span class="hljs-string">'prettier --write'</span>, <span class="hljs-string">'git add'</span>],
};
</code></pre>
<ul>
<li><strong>æ¼”ç¤º</strong></li>
</ul>
<p>è¿åç±»å‹çº¦æŸ</p>
<pre><code class="hljs language-bash" lang="bash">git commit -m <span class="hljs-string">"feature: add new button"</span>
â€‹
<span class="hljs-comment">#è¾“å‡º</span>
â§— Â  input: feature: add new button
âœ– Â  <span class="hljs-built_in">type</span> must be one of [build, chore, ci, docs, feat, fix, perf, refactor, revert, style, <span class="hljs-built_in">test</span>] [type-enum]
â€‹
âœ– Â  found 1 problems, 0 warnings
â“˜ Â  Get <span class="hljs-built_in">help</span>: https://github.com/conventional-changelog/commitlint/<span class="hljs-comment">#what-is-commitlint</span>
â€‹
husky - commit-msg script failed (code 1)
</code></pre>
<p>æè¿°é•¿åº¦ä¸è¶³</p>
<pre><code class="hljs language-python" lang="python">git commit -m <span class="hljs-string">"feat: fix"</span>
â€‹
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
â†’ lint-staged could <span class="hljs-keyword">not</span> find <span class="hljs-built_in">any</span> staged files matching configured tasks.
â§— Â  <span class="hljs-built_in">input</span>: feat: fix
âœ– Â  subject must <span class="hljs-keyword">not</span> be shorter than <span class="hljs-number">10</span> characters [subject-<span class="hljs-built_in">min</span>-length]
â€‹
âœ– Â  found <span class="hljs-number">1</span> problems, <span class="hljs-number">0</span> warnings
â“˜ Â  Get <span class="hljs-built_in">help</span>: https://github.com/conventional-changelog/commitlint/<span class="hljs-comment">#what-is-commitlint</span>
â€‹
husky - commit-msg script failed (code <span class="hljs-number">1</span>)
</code></pre>
<p>ç¬¦åˆè§„èŒƒçš„æäº¤</p>
<pre><code class="hljs language-csharp" lang="csharp">git commit -m <span class="hljs-string">"fix: add new commitlit rules"</span>
â€‹
<span class="hljs-meta">#è¾“å‡º</span>
â†’ lint-staged could <span class="hljs-keyword">not</span> find any staged files matching configured tasks.
[<span class="hljs-meta">master a19b912</span>] fix: <span class="hljs-keyword">add</span> <span class="hljs-keyword">new</span> commitlit rules
 <span class="hljs-number">1</span> file changed, <span class="hljs-number">52</span> deletions(-)
</code></pre>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆ<code>changelog</code></li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºäºè§„èŒƒæäº¤è‡ªåŠ¨ç”Ÿæˆ CHANGELOG.md</span>
pnpm i -D conventional-changelog-cli
â€‹
<span class="hljs-comment"># package.json è„šæœ¬</span>
<span class="hljs-string">"changelog"</span>: <span class="hljs-string">"conventional-changelog -p angular -i CHANGELOG.md -s -r 0"</span>
</code></pre>
<p>è‡³æ­¤ï¼Œä»ä»£ç å†…å®¹åˆ°æäº¤ä¿¡æ¯çš„<strong>å…¨é“¾è·¯è´¨é‡é—¨ç¦</strong>å·²æ„å»ºå®Œæˆï¼Œå›¢é˜Ÿå¯åŸºäºç»“æ„åŒ–æäº¤å†å²å®ç°è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†ä¸å‘å¸ƒï¼Œæå¤§æå‡å·¥ç¨‹åŒ–æˆç†Ÿåº¦ä¸åä½œæ•ˆç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#Retrofit]]></title>    <link>https://juejin.cn/post/7571781196298043401</link>    <guid>https://juejin.cn/post/7571781196298043401</guid>    <pubDate>2025-11-13T04:21:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571781196298043401" data-draft-id="7571781196298027017" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#Retrofit"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-13T04:21:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CodingWang"/> <meta itemprop="url" content="https://juejin.cn/user/899832130309063"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#Retrofit
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/899832130309063/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CodingWang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T04:21:51.000Z" title="Thu Nov 13 2025 04:21:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://juejin.cn/post/7571840220703113262" target="_blank" title="https://juejin.cn/post/7571840220703113262">ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#EventBus</a></p>
<p><a href="https://juejin.cn/post/7571840220703146030" target="_blank" title="https://juejin.cn/post/7571840220703146030">ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#Rxjava</a></p>
<p><a href="https://juejin.cn/post/7571781196298043401" target="_blank" title="https://juejin.cn/post/7571781196298043401">ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#Retrofit</a></p>
<p><a href="https://juejin.cn/post/7571786149590581299" target="_blank" title="https://juejin.cn/post/7571786149590581299">ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#OkHttp</a></p>
<p><a href="https://juejin.cn/post/7571840220703195182" target="_blank" title="https://juejin.cn/post/7571840220703195182">ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#Glide</a></p>
<p><a href="https://juejin.cn/spost/7571830282849337395" target="_blank" title="https://juejin.cn/spost/7571830282849337395">ä¸‰æ–¹æ¡†æ¶å¿…å­¦ç³»åˆ—#å±å¹•é€‚é…</a></p>
<h2 data-id="heading-0">ä¸€.åŸºæœ¬ä½¿ç”¨</h2>
<h3 data-id="heading-1">1.retrofitæ˜¯ä»€ä¹ˆ</h3>
<p>å®˜ç½‘çš„è§£é‡Šæ˜¯ä¸€ä¸ªç±»å‹å®‰å…¨çš„HTTPè¯·æ±‚å®¢æˆ·ç«¯ã€‚å®ƒçš„åº•å±‚çš„ç½‘ç»œè¯·æ±‚æ˜¯åŸºäº OkHttp çš„ï¼ŒRetrofit å¯¹å…¶åšäº†å°è£…ï¼Œæä¾›äº†å³æ–¹ä¾¿åˆé«˜æ•ˆçš„ç½‘ç»œè®¿é—®æ¡†æ¶ï¼Œè§£å†³äº†çº¿ç¨‹åˆ‡æ¢ï¼ŒåµŒå¥—è°ƒç”¨ï¼Œæ•°æ®è½¬æ¢çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-2">2.retrofitæ€ä¹ˆç”¨</h3>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªç®€å•getè¯·æ±‚çš„ä¾‹å­,ä¸»è¦æœ‰ä¸‰æ­¥ï¼š</p>
<p>1.é€šè¿‡retrofitçš„builderæ„å»ºäº†ä¸€ä¸ªretrofitçš„å®åˆ—ï¼›</p>
<p>2.å£°æ˜æ¥å£å’Œè·å–æ¥å£ä»£ç†ï¼Œæˆ‘ä»¬åœ¨ApiServiceä¸­å£°æ˜äº†ä¸€ä¸ªgetè¯·æ±‚çš„æ–¹æ³•ï¼Œå¹¶ä¸”æˆ‘ä»¬é€šè¿‡retrofit.create(xxx.class)åˆ›å»ºäº†å½“å‰æ¥å£çš„ä»£ç†å¯¹è±¡ï¼›</p>
<p>3.è°ƒç”¨æ¥å£çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç›´åˆ°åœ¨æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªcallå¯¹è±¡ï¼Œå®ƒæ˜¯retrofitçš„callå¯¹è±¡ï¼Œå½“æˆ‘ä»¬è°ƒç”¨call.equeueå¯¹è±¡ï¼Œå°±ä¼šæ‰§è¡Œå†…éƒ¨okHttpçš„callå¯¹è±¡å»æ‰§è¡Œç½‘ç»œè¯·æ±‚ï¼Œç„¶åå›è°ƒè¿”å›ç»“æœç»™æˆ‘ä»¬ã€‚</p>
<pre><code class="hljs language-less" lang="less">
<span class="hljs-selector-tag">OkHttpClient</span> <span class="hljs-selector-tag">okHttpClient</span>=<span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">OkHttpClient</span><span class="hljs-selector-class">.Builder</span>()
<span class="hljs-comment">//æ·»åŠ æ—¥å¿—æ‹¦æˆªå™¨</span>
<span class="hljs-selector-class">.addInterceptor</span>(new <span class="hljs-built_in">HttpLoggingInterceptor</span>(new HttpLoggingInterceptor.<span class="hljs-built_in">Logger</span>() {
    <span class="hljs-variable">@Override</span>
    public void <span class="hljs-built_in">log</span>(String message) {

        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"HttpLoggingInterceptor message:"</span>+message);
    }
}).<span class="hljs-built_in">setLevel</span>(HttpLoggingInterceptor.Level.BODY))
<span class="hljs-selector-class">.build</span>();

<span class="hljs-comment">//åˆ›å»ºretrofitå®åˆ—</span>
<span class="hljs-selector-tag">Retrofit</span> <span class="hljs-selector-tag">retrofit</span>=<span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">Retrofit</span><span class="hljs-selector-class">.Builder</span>()
<span class="hljs-selector-class">.client</span>(okHttpClient) <span class="hljs-comment">//è®¾ç½®okhttpClient</span>
<span class="hljs-selector-class">.addConverterFactory</span>(ScalarsConverterFactory.<span class="hljs-built_in">create</span>())<span class="hljs-comment">//è®¾ç½®è½¬æ¢å™¨</span>
<span class="hljs-selector-class">.baseUrl</span>(url)
<span class="hljs-selector-class">.build</span>();
</code></pre>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> ApiService {
    /**
         * æœ€ç®€å•çš„<span class="hljs-keyword">GET</span>è¯·æ±‚ï¼Œæ— å‚æ•°
         */
    @<span class="hljs-keyword">GET</span>(<span class="hljs-string">"get"</span>)
    <span class="hljs-keyword">Call</span>&lt;<span class="hljs-type">String</span>&gt; getInfo1();
}
apiService = retrofit.create(ApiMethod.<span class="hljs-keyword">class</span>);
</code></pre>

<pre><code class="hljs language-typescript" lang="typescript">apiService.<span class="hljs-title function_">getInfo1</span>().<span class="hljs-title function_">enqueue</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;<span class="hljs-title class_">String</span>&gt;() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onResponse</span>(<span class="hljs-params">Call&lt;<span class="hljs-built_in">String</span>&gt; call, Response&lt;<span class="hljs-built_in">String</span>&gt; response</span>) {
        <span class="hljs-title class_">String</span> body = response.<span class="hljs-title function_">body</span>();
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(body);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onFailure</span>(<span class="hljs-params">Call&lt;<span class="hljs-built_in">String</span>&gt; call, Throwable t</span>) {

    }
});
</code></pre>
<h3 data-id="heading-3">3.retrofitçš„æ³¨è§£</h3>
<p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œåœ¨å£°æ˜çš„æ¥å£ä¸­ï¼Œæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡æ³¨è§£æ¥ç»™è¯·æ±‚åšæ ‡è®°çš„ï¼Œç„¶åretrofitçš„å†…éƒ¨å°±å¯ä»¥æ ¹æ®æ³¨è§£æ¥è§£æå¯¹åº”çš„æ–¹æ³•ï¼Œé‚£å¸¸ç”¨çš„æ³¨è§£æœ‰é‚£äº›å‘¢?</p>
<p>ä¸‹é¢æˆ‘ä»¬å°±æ¥ç®€å•çš„ä»‹ç»ä¸‹ï¼š</p>
<h4 data-id="heading-4">1.å¸¸ç”¨è¯·æ±‚æ–¹æ³•æ³¨è§£</h4>
<p>å®ƒæ˜¯ç”¨æ¥æ ‡è¯†è¯·æ±‚æ–¹æ³•çš„æ³¨è§£ã€‚</p>





















<table><thead><tr><th>@GET</th><th>GETè¯·æ±‚ï¼Œä½œç”¨åœ¨æ¥å£çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªGETè¯·æ±‚</th></tr></thead><tbody><tr><td>@POST</td><td>POSTè¯·æ±‚ï¼Œä½œç”¨åœ¨æ¥å£çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªPOSTè¯·æ±‚</td></tr><tr><td>@HTTP</td><td>é€šè¿‡æ³¨è§£å¯ä»¥æ›¿æ¢ä»¥ä¸Šæ‰€æœ‰æ³¨è§£ï¼Œå®ƒæ‹¥æœ‰ä¸‰ä¸ªå±æ€§ï¼šmethodã€pathã€hasBody</td></tr><tr><td>@DELETE</td><td>DELETEè¯·æ±‚ï¼Œä½œç”¨åœ¨æ¥å£æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªDELETEè¯·æ±‚</td></tr></tbody></table>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * æœ€ç®€å•çš„GETè¯·æ±‚ï¼Œæ— å‚æ•°
 */</span>
<span class="hljs-variable">@GET</span>(<span class="hljs-string">"get"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo1</span>();

<span class="hljs-comment">/* POSTè¯·æ±‚
 * å…¶ä¸­@FormUrlEncodedçš„å«ä¹‰æ˜¯å‘é€å·²ç¼–ç çš„Formè¡¨å•
 * åŠ è¿™ä¸ªæ³¨è§£åï¼Œè¯·æ±‚çš„Content-Typeä¼šæ˜¯application/x-www-form-urlencoded;
 * åŠ è¿™ä¸ªæ³¨è§£åï¼Œå‘é€çš„å‚æ•°å¿…é¡»æ˜¯@Fieldæ ‡è®°çš„è¡¨å•é”®å€¼å¯¹
 */</span>
<span class="hljs-variable">@FormUrlEncoded</span>
<span class="hljs-variable">@POST</span>(<span class="hljs-string">"post"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo2</span>(<span class="hljs-variable">@Field</span>(<span class="hljs-string">"sid"</span>) String id);

<span class="hljs-comment">/**
 * Deleteè¯·æ±‚
 */</span>
<span class="hljs-variable">@DELETE</span>(<span class="hljs-string">"api/fetch/guesslike/{id}"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo3</span>(<span class="hljs-variable">@Path</span>(<span class="hljs-string">"id"</span>) String id, <span class="hljs-variable">@Body</span> String requestEntity);

<span class="hljs-comment">/**
 * ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ªDeleteè¯·æ±‚ï¼Œå…¶å®@HTTPæ ‡ç­¾æ˜¯å¯ä»¥æ›¿ä»£æ‰€æœ‰çš„è¯·æ±‚æ ‡ç­¾ï¼ŒåŒ…æ‹¬GET/POST/PUT/DELETEç­‰ï¼Œ
 * éƒ½å¯ä»¥é€šè¿‡@HTTPæ ‡ç­¾æ¥å®ç°ã€‚hasBodyè¡¨ç¤ºæ˜¯å¦æœ‰è¯·æ±‚ä½“ï¼Œæœ‰å°±ç”¨å‚æ•°@Bodyå¸¦ä¸Š
 */</span>
<span class="hljs-variable">@HTTP</span>(method = <span class="hljs-string">"DELETE"</span>, path = <span class="hljs-string">"api/fetch/guesslike/{id}"</span>, hasBody = true)
Call&lt;String&gt; <span class="hljs-built_in">getInfo4</span>(<span class="hljs-variable">@Path</span>(<span class="hljs-string">"id"</span>) String id, <span class="hljs-variable">@Body</span> String requestEntity);
</code></pre>
<h4 data-id="heading-5">2.è¯·æ±‚å¤´æ³¨è§£</h4>
<p>å®ƒä¸ºæˆ‘ä»¬çš„è¯·æ±‚å¢åŠ è¯·æ±‚å¤´ä¿¡æ¯ã€‚</p>













<table><thead><tr><th>@Headers</th><th>ç”¨äºæ·»åŠ å›ºå®šè¯·æ±‚å¤´ï¼Œå¯ä»¥åŒæ—¶æ·»åŠ å¤šä¸ªï¼Œé€šè¿‡è¯¥æ³¨è§£çš„è¯·æ±‚å¤´ä¸ä¼šç›¸äº’è¦†ç›–ï¼Œè€Œæ˜¯å…±åŒå­˜åœ¨</th></tr></thead><tbody><tr><td>@Header</td><td>ä½œä¸ºæ–¹æ³•çš„å‚æ•°ä¼ å…¥ï¼Œç”¨äºæ·»åŠ ä¸å›ºå®šçš„headerï¼Œå®ƒä¼šæ›´æ–°å·²æœ‰è¯·æ±‚å¤´</td></tr></tbody></table>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * GETè¯·æ±‚ï¼Œ@Headersçš„ä½œç”¨æ˜¯æ·»åŠ å•ä¸ªå›ºå®šçš„è¯·æ±‚å¤´
 */</span>
<span class="hljs-variable">@Headers</span>(<span class="hljs-string">"Cache-Control: max-age=640000"</span>)
<span class="hljs-variable">@GET</span>(<span class="hljs-string">"api/fetch/guesslike"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo10</span>();


<span class="hljs-comment">/**
 * GETè¯·æ±‚ï¼Œ@Headersæ·»åŠ äº†å¤šä¸ªå›ºå®šçš„è¯·æ±‚å¤´
 */</span>
<span class="hljs-variable">@Headers</span>({<span class="hljs-string">"Cache-Control: max-age=640000"</span>, <span class="hljs-string">"Accept-Charset: UTF-8"</span>})
<span class="hljs-variable">@GET</span>(<span class="hljs-string">"api/fetch/guesslike"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo11</span>();

<span class="hljs-comment">/**
 * GETè¯·æ±‚ï¼Œ@Headeræ˜¯ç”¨åœ¨å‚æ•°ä¸Šï¼Œæ·»åŠ å•ä¸ªä¸å›ºå®šçš„è¯·æ±‚å¤´ï¼Œå€¼ç”±å¤–éƒ¨ä¼ è¿›æ¥
 */</span>
<span class="hljs-variable">@GET</span>(<span class="hljs-string">"api/fetch/guesslike"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo12</span>(<span class="hljs-variable">@Header</span>(<span class="hljs-string">"Accept-Charset"</span>) String charset);
</code></pre>
<h4 data-id="heading-6">3.è¯·æ±‚å‚æ•°æ³¨è§£</h4>









































<table><thead><tr><th>@Query</th><th>ç”¨äºGetè¯·æ±‚ä¸­çš„å‚æ•°</th></tr></thead><tbody><tr><td>@QueryMap</td><td>ä¸Queryç±»ä¼¼ï¼Œç”¨äºä¸ç¡®å®šè¡¨å•å‚æ•°</td></tr><tr><td>@Path</td><td>ç”¨äºUrlä¸­çš„å ä½ç¬¦</td></tr><tr><td>@Filed</td><td>å¤šç”¨äºPostæ–¹å¼ä¼ é€’å‚æ•°ï¼Œéœ€è¦ç»“åˆ@FromUrlEncodedä½¿ç”¨ï¼Œå³ä»¥è¡¨å•çš„å½¢å¼ä¼ é€’å‚æ•°</td></tr><tr><td>@FiledMap</td><td>ç”¨äºè¡¨å•å­—æ®µï¼Œé»˜è®¤æ¥å—ç±»å‹æ˜¯Map&lt;String,RequestBody&gt;ï¼Œå¯ç”¨äºå®ç°å¤šæ–‡ä»¶ä¸Šä¼ </td></tr><tr><td>@Body</td><td>å¤šç”¨äºPostè¯·æ±‚å‘é€éè¡¨è¾¾æ•°æ®ï¼Œæ ¹æ®è½¬æ¢æ–¹å¼å°†å®ä¾‹å¯¹è±¡è½¬åŒ–ä¸ºå¯¹åº”å­—ç¬¦ä¸²ä¼ é€’å‚æ•°ï¼Œæ¯”å¦‚ä½¿ç”¨Postå‘é€Jsonæ•°æ®</td></tr><tr><td>@Part</td><td>ç”¨äºè¡¨å•å­—æ®µï¼ŒPartå’ŒPartMapä¸@multipartæ³¨è§£ç»“åˆä½¿ç”¨ï¼Œé€‚åˆæ–‡ä»¶ä¸Šä¼ çš„æƒ…å†µ</td></tr><tr><td>@PartMap</td><td>ç”¨äºè¡¨å•å­—æ®µï¼Œé»˜è®¤æ¥å—ç±»å‹æ˜¯Map&lt;String,RequestBody&gt;ï¼Œå¯ç”¨äºå®ç°å¤šæ–‡ä»¶ä¸Šä¼ </td></tr><tr><td>@Url</td><td>æŒ‡å®šè¯·æ±‚è·¯å¾„</td></tr></tbody></table>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * GETè¯·æ±‚ï¼Œå¸¦è¯·æ±‚å‚æ•°
 * è¯·æ±‚å‚æ•°ç”¨@Queryæ³¨è§£ï¼Œå…¶ä¸­æ³¨è§£é‡Œçš„åå­—è¡¨ç¤ºè¿½åŠ åˆ°URLåçš„å‚æ•°åå­—ï¼Œ
 * URLåçš„å‚æ•°å€¼å³ä¸ºæˆ‘ä»¬ä¼ è¿›æ¥çš„ç±»å‹String name/String age
 * æ‰€ä»¥è¯¥è¯·æ±‚å®Œæ•´çš„åœ°å€æ˜¯host/api/fetch/guesslike?name=name&amp;pwd=pwd
 */</span>
<span class="hljs-variable">@GET</span>(<span class="hljs-string">"get"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo2</span>(<span class="hljs-variable">@Query</span>(<span class="hljs-string">"name"</span>) List&lt;String&gt; stringList, <span class="hljs-variable">@Query</span>(<span class="hljs-string">"pwd"</span>) String pwd);

<span class="hljs-comment">/**
 * GETè¯·æ±‚ï¼Œå¸¦è¯·æ±‚å‚æ•°
 * å¯¹getInfo2çš„æ”¹è¿›ï¼Œå¤šä¸ªå‚æ•°å¯ä»¥ç”¨@ueryMapæ ‡è®°ï¼Œéƒ½æ”¾åˆ°ä¸€ä¸ªMapé‡Œ
 */</span>
<span class="hljs-variable">@GET</span>(<span class="hljs-string">"get"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo3</span>(<span class="hljs-variable">@QueryMap</span> Map&lt;String, String&gt; paramsMap);

<span class="hljs-comment">/**
 * GETè¯·æ±‚ï¼Œ@Pathæ ‡è®°çš„ä½œç”¨å°±æ˜¯ä½¿ç”¨ä¼ è¿›æ¥çš„å€¼åŠ¨æ€æ›¿æ¢URLé‡Œçš„å­—æ®µ{id}
 */</span>
<span class="hljs-variable">@GET</span>(<span class="hljs-string">"get/fetch/{id}/guesslike"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo4</span>(<span class="hljs-variable">@Path</span>(<span class="hljs-string">"id"</span>) String id);

<span class="hljs-comment">/**
 * POSTè¯·æ±‚
 * å…¶ä¸­@FormUrlEncodedçš„å«ä¹‰æ˜¯å‘é€å·²ç¼–ç çš„Formè¡¨å•
 * åŠ è¿™ä¸ªæ³¨è§£åï¼Œè¯·æ±‚çš„Content-Typeä¼šæ˜¯application/x-www-form-urlencoded;
 * åŠ è¿™ä¸ªæ³¨è§£åï¼Œå‘é€çš„å‚æ•°å¿…é¡»æ˜¯@Fieldæ ‡è®°çš„è¡¨å•é”®å€¼å¯¹
 */</span>
<span class="hljs-variable">@FormUrlEncoded</span>
<span class="hljs-variable">@POST</span>(<span class="hljs-string">"post"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo5</span>(<span class="hljs-variable">@Field</span>(<span class="hljs-string">"sid"</span>) String id);

<span class="hljs-comment">/**
 * POSTè¯·æ±‚
 * å’ŒgetInfo5æ²¡åŒºåˆ«ï¼Œ@FieldMapä»…ä»…è¡¨ç¤ºå¤šä¸ªè¯·æ±‚å‚æ•°å¯ä»¥æ”¾åˆ°ä¸€ä¸ªMapé‡Œæ–¹ä¾¿ä¼ é€’è€Œå·²
 */</span>
<span class="hljs-variable">@FormUrlEncoded</span>
<span class="hljs-variable">@POST</span>(<span class="hljs-string">"post"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo6</span>(<span class="hljs-variable">@FieldMap</span> Map&lt;String, String&gt; map);
<span class="hljs-comment">/**
 * POSTè¯·æ±‚ï¼Œä½†æ˜¯æ²¡æœ‰ä½¿ç”¨Formè¡¨å•çš„å½¢å¼ï¼Œå³æ²¡æœ‰@FormUrlEncoded
 * é‚£ä¹ˆè¯·æ±‚çš„Content-Typeé»˜è®¤ä¼šæ˜¯application/json;
 * ä¸æ·»åŠ @FormUrlEncodedï¼Œé‚£ä¹ˆå°±ä¸èƒ½ç”¨@Fieldè¿›è¡Œä¼ é€’å‚æ•°äº†ï¼Œåªæœ‰ä¸€ç§å½¢å¼å°±æ˜¯@Bodyï¼Œå®ƒå°±æ˜¯ç”¨äºéè¡¨å•çš„è¯·æ±‚ä½“
 * retrofitä¼šæŠŠè¯·æ±‚çš„å®ä½“åºåˆ—åŒ–æˆä¸€ä¸ªjsonå‘é€å‡ºå»
 */</span>
<span class="hljs-variable">@POST</span>(<span class="hljs-string">"post"</span>)
Call&lt;String&gt; <span class="hljs-built_in">upLoadString</span>(<span class="hljs-variable">@Body</span> String body);

<span class="hljs-comment">/**
 * å’ŒupLoadStringä¸€æ ·ï¼Œåªæ˜¯è¯·æ±‚å‚æ•°æ˜¯å®˜æ–¹çš„RequestBody
 * è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬è‡ªå·±æ„å»ºçš„RequestBodyå¯ä»¥ä¿®æ”¹å…¶Media-Type
 */</span>
<span class="hljs-variable">@POST</span>(<span class="hljs-string">"post"</span>)
Call&lt;String&gt; <span class="hljs-built_in">upLoadRequestBody</span>(<span class="hljs-variable">@Body</span> RequestBody requestBody);

<span class="hljs-comment">/**
 * POSTè¯·æ±‚
 * å…¶ä¸­@Multipartè¡¨ç¤ºè¯·æ±‚ä½“æ˜¯åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†çš„ï¼Œé…åˆå‚æ•°@Partä½¿ç”¨ã€‚
 * å¦‚æœ@Partçš„å‚æ•°ç±»å‹æ˜¯RequestBodyï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°ï¼Œé‚£ä¹ˆå…¶Keyï¼Œä¹Ÿå°±æ˜¯"name"å’Œ"age"æ˜¯ä¸èƒ½éšè—çš„ï¼Œå¿…é¡»æ˜¾å¼æŒ‡æ˜Key
 * å¦‚æœ@Partçš„å‚æ•°ç±»å‹æ˜¯MultipartBody.Partï¼Œå³è¡¨ç¤ºè¯·æ±‚çš„ä¸Šä¼ æ–‡ä»¶ï¼Œå†…å®¹ä¼šç›´æ¥è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆæ˜¯ä¸éœ€è¦Keyçš„
 */</span>
<span class="hljs-variable">@Multipart</span>
<span class="hljs-variable">@POST</span>(<span class="hljs-string">"post"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo14</span>(<span class="hljs-variable">@Part</span>(<span class="hljs-string">"name"</span>) RequestBody name, <span class="hljs-variable">@Part</span>(<span class="hljs-string">"age"</span>) RequestBody age,
                       <span class="hljs-variable">@Part</span> MultipartBody.Part file);

<span class="hljs-comment">/**
 * POSTè¯·æ±‚ï¼ŒgetInfo14çš„æ”¹è‰¯ç‰ˆã€‚å¤šä¸ªè¯·æ±‚å‚æ•°å¯ä»¥å°è£…åœ¨@PartMapæ ‡è®°å¯¹åº”çš„Mapé‡Œ
 */</span>
<span class="hljs-variable">@Multipart</span>
<span class="hljs-variable">@POST</span>(<span class="hljs-string">"post"</span>)
Call&lt;String&gt; <span class="hljs-built_in">getInfo15</span>(<span class="hljs-variable">@PartMap</span> Map&lt;String, RequestBody&gt; paramsMap,
                       <span class="hljs-variable">@Part</span> MultipartBody.Part file);
</code></pre>
<h4 data-id="heading-7">4.è¯·æ±‚å’Œå“åº”æ ¼å¼(æ ‡è®°)æ³¨è§£</h4>

















<table><thead><tr><th>@FromUrlCoded</th><th>è¡¨ç¤ºè¯·æ±‚å‘é€ç¼–ç è¡¨å•æ•°æ®ï¼Œæ¯ä¸ªé”®å€¼å¯¹éœ€è¦ä½¿ç”¨@Filedæ³¨è§£</th></tr></thead><tbody><tr><td>@Multipart</td><td>è¡¨ç¤ºè¯·æ±‚å‘é€form_encodedæ•°æ®(ä½¿ç”¨äºæœ‰æ–‡ä»¶ä¸Šä¼ çš„åœºæ™¯)ï¼Œæ¯ä¸ªé”®å€¼å¯¹éœ€è¦ç”¨@Partæ¥æ³¨è§£é”®åï¼Œéšåçš„å¯¹è±¡éœ€è¦æä¾›å€¼</td></tr><tr><td>@Streaming</td><td>è¡¨ç¤ºå“åº”ç”¨å­—èŠ‚æµçš„å½¢å¼è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨æ³¨è§£ï¼Œé»˜è®¤ä¼šæŠŠæ•°æ®å…¨éƒ¨è½½å…¥åˆ°å†…å­˜ä¸­ï¼Œè¯¥æ³¨è§£åœ¨ä¸‹è½½å¤§æ–‡ä»¶æ—¶ç‰¹åˆ«æœ‰ç”¨</td></tr></tbody></table>
<h3 data-id="heading-8">4.retrofitä¸­çš„æ•°æ®è§£æå™¨å’Œcallè½¬æ¢å™¨</h3>
<h4 data-id="heading-9">1.æ•°æ®è§£æå™¨</h4>
<p>retrofitå¯ä»¥é€šè¿‡addConverterFactoryè®¾ç½®æ•°æ®è§£é‡Šå™¨ï¼Œä¾‹å¦‚æ·»åŠ Gsonè§£é‡Šå™¨ã€‚è¿™æ˜¯ä¸ºäº†ä½¿æ¥è‡ªæ¥å£çš„jsonç»“æœä¼šè‡ªåŠ¨è§£ææˆå®šä¹‰å¥½çš„å­—æ®µå’Œç±»å‹éƒ½ç›¸ç¬¦çš„jsonå¯¹è±¡æ¥å—ç±»ï¼Œåœ¨Retrofit 2.0ä¸­å·²ç»æ²¡æœ‰Converterï¼Œéœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªConverterï¼Œ ä¸ç„¶Retrofitåªèƒ½æ¥æ”¶å­—ç¬¦ä¸²ç»“æœï¼Œæœ€åéœ€è¦è‡ªå·±å»è§£æã€‚</p>





































<table><thead><tr><th>æ•°æ®è§£æå™¨</th><th>gradleä¾èµ–</th></tr></thead><tbody><tr><td>Gson</td><td>com.squareup.retrofit2:converter-gson:2.0.2</td></tr><tr><td>Jackson</td><td>com.squareup.retrofit2:converter-jackson:2.0.2</td></tr><tr><td>Simple XML</td><td>com.squareup.retrofit2:converter-simplexml:2.0.2</td></tr><tr><td>Protobuf</td><td>com.squareup.retrofit2:converter-protobuf:2.0.2</td></tr><tr><td>Moshi</td><td>com.squareup.retrofit2:converter-moshi:2.0.2</td></tr><tr><td>Wire</td><td>com.squareup.retrofit2:converter-wire:2.0.2</td></tr><tr><td>Scalars</td><td>com.squareup.retrofit2:converter-scalars:2.0.2</td></tr></tbody></table>
<p><strong>æ•°æ®è§£æå™¨è¿˜æ˜¯è›®å¥½ç†è§£çš„ï¼Œå®ƒä¼šæŠŠè¯·æ±‚è¿”å›çš„ç»“æœï¼Œé€šè¿‡è§£æå™¨è§£ææˆç‰¹å®šçš„æ ¼å¼ï¼Œå›è°ƒç»™ç”¨æˆ·ã€‚</strong></p>
<h4 data-id="heading-10">2.æ•°æ®è½¬æ¢å™¨</h4>
<p>retrofitåŒæ—¶ä¹Ÿæ˜¯æ”¯æŒæ•°æ®è½¬æ¢å™¨çš„å°†è¯·æ±‚çš„retrofitçš„callè½¬æ¢æˆç‰¹å®šçš„å¯¹è±¡ï¼Œæ¯”å¦‚.addCallAdapterFactory(RxJava2CallAdapterFactory.create())å°†è¯·æ±‚è¿”å›çš„callåŒ…è£…æˆObservableå¯¹è±¡ï¼Œrxjava2çš„gradleä¾èµ–ä¸ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">implementation <span class="hljs-string">'com.squareup.retrofit2:adapter-rxjava2:2.7.2'</span>
</code></pre>
<p>é‚£æ•°æ®è½¬æ¢å™¨åˆæ˜¯åœ¨å“ªé‡Œæ“ä½œçš„å‘¢ï¼Ÿè¿™é‡Œç®€å•çš„è¯´ä¸‹ï¼Œå®ƒä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<p>1.è·å–æ¥å£ä¸­çš„è¯·æ±‚çš„æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼›</p>
<p>2.é€šè¿‡è½¬æ¢å™¨å·¥å‚è·å–è½¬æ¢å™¨ï¼›</p>
<p>3.é€šè¿‡è½¬æ¢å™¨çš„adapteræ–¹æ³•ï¼Œç”Ÿæˆç‰¹å®šçš„è½¬æ¢å™¨ç±»å‹ï¼Œæ¯”å¦‚å¦‚æœä½ æ·»åŠ äº† rxjava2ï¼Œä»–å°±ä¼šå¸®ä½ ç”Ÿæˆä¸€ä¸ªObservable&lt;Resonse&gt; è¿™ä¸ªè§‚å¯Ÿè€…ï¼Œå½“ä½ è®¢é˜…çš„æ—¶å€™ï¼Œcallè¯·æ±‚å°±ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”å°±è¯·æ±‚çš„ç»“æœï¼Œé€šè¿‡ä½ æ³¨å†Œçš„è§‚å¯Ÿè€…ä¼ é€’ç»™ä½ ï¼Œå¦‚æœä½ è¿˜æœ‰ä¸‹æ¸¸è§‚å¯Ÿè€…ï¼Œåˆ™å›è°ƒæµå›ä¾æ¬¡å¾€ä¸‹æ¸¸ä¼ é€’ï¼›</p>
<h2 data-id="heading-11">äºŒ.åŸç†ä»‹ç»</h2>
<p>å…¶å®é€šè¿‡å‰é¢çš„ä½¿ç”¨å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»å¤§è‡´çŸ¥é“äº†retrofitçš„åŸºæœ¬åŸç†ï¼Œé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªå¯¹äºokHttpè¯·æ±‚çš„äºŒæ¬¡å°è£…ï¼Œæ¯”å¦‚ï¼š1.æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¥å£å’Œæ³¨è§£é€šè¿‡åŠ¨æ€ä»£ç†ç”Ÿæˆcallï¼›2.å¯¹äºcallçš„è¿”å›æˆ‘ä»¬å¯ä»¥é€šè¿‡è½¬æ¢å™¨å’Œè§£æå™¨å°†æ•°æ®è¿”å›ï¼Œå¹¶ä¸”æ”¯æŒrxjavaå’Œåç¨‹ï¼Œåç¨‹æˆ‘ä»¬åé¢å†è¯´ï¼Œé‚£rxjavaå°±å¯ä»¥åšæ•°æ®åˆ‡æ¢ï¼Œé“¾å¼è°ƒç”¨ç­‰ä¸€ç³»åˆ—é€»è¾‘ï¼Œå®Œç¾è§£å†³äº†å›è°ƒåœ°ç‹±çš„ä»£ç ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä¹Ÿå°±ä» retrofitçš„æ„å»ºåŠcallçš„ç”Ÿæˆã€è½¬æ¢å™¨å’Œè§£æå™¨çš„å·¥ä½œæ¥åˆ¨æåŸç†ã€‚</p>
<h3 data-id="heading-12">1.retrofitçš„æ„å»ºåŠæ³¨è§£ç”Ÿæˆçš„call</h3>
<ul>
<li><strong>retrofitçš„æ„å»ºï¼š</strong></li>
</ul>
<p>ä¹Ÿæ˜¯é€šè¿‡æ„å»ºè€…æ¨¡å¼ï¼Œå¯ä»¥è®¾ç½®baseurlã€okHttpClientã€æ•°æ®è½¬æ¢å™¨å’Œæ•°æ®è§£æå™¨ã€‚</p>
<ul>
<li><strong>callçš„ç”Ÿæˆå’Œè°ƒç”¨</strong></li>
</ul>

<p>åœ¨retrofitä¸­ï¼Œå½“æˆ‘ä»¬å‘è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å…ˆæ˜¯é€šè¿‡retrofit.create(xxx.class)ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ç”¨æ¥å£å»æ¥æ”¶è¿™ä¸ªå¯¹è±¡ï¼Œé‚£è¿™ä¸ªcreateæ–¹æ³•æ˜¯å¦‚ä½•ç”Ÿæˆå¯¹è±¡çš„å‘¢ï¼Ÿæˆ‘ä»¬è·Ÿä¸‹æºç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">create</span>(<span class="hljs-params">final Class&lt;T&gt; service</span>) {
    <span class="hljs-title function_">validateServiceInterface</span>(service);
    <span class="hljs-keyword">return</span> (T)
            <span class="hljs-title class_">Proxy</span>.<span class="hljs-title function_">newProxyInstance</span>(
                service.<span class="hljs-title function_">getClassLoader</span>(),
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>&lt;?&gt;[] {service},
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvocationHandler</span>() {
                    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Platform</span> platform = <span class="hljs-title class_">Platform</span>.<span class="hljs-title function_">get</span>();
                    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Object</span>[] emptyArgs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[<span class="hljs-number">0</span>];

                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-meta">@Nullable</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">invoke</span>(<span class="hljs-title class_">Object</span> proxy, <span class="hljs-title class_">Method</span> method, <span class="hljs-meta">@Nullable</span> <span class="hljs-title class_">Object</span>[] args)
                    throws <span class="hljs-title class_">Throwable</span> {
                        <span class="hljs-comment">// If the method is a method from Object then defer to normal invocation.</span>
                        <span class="hljs-keyword">if</span> (method.<span class="hljs-title function_">getDeclaringClass</span>() == <span class="hljs-title class_">Object</span>.<span class="hljs-property">class</span>) {
                            <span class="hljs-keyword">return</span> method.<span class="hljs-title function_">invoke</span>(<span class="hljs-variable language_">this</span>, args);
                        }
                        args = args != <span class="hljs-literal">null</span> ? args : emptyArgs;
                        <span class="hljs-keyword">return</span> platform.<span class="hljs-title function_">isDefaultMethod</span>(method)
                        ? platform.<span class="hljs-title function_">invokeDefaultMethod</span>(method, service, proxy, args)
                        : <span class="hljs-title function_">loadServiceMethod</span>(method).<span class="hljs-title function_">invoke</span>(args);<span class="hljs-comment">//</span>
                    }
                });
}
</code></pre>
<p>å¾ˆæ˜æ˜¾ï¼Œè¿™é‡Œé¢æ˜¯ä¸€ä¸ªåŠ¨æ€ä»£ç ï¼Œå½“æˆ‘ä»¬åœ¨å¤–éƒ¨ä½¿ç”¨æ¥å£è°ƒç”¨å®ƒçš„xxxæ–¹æ³•æ—¶ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨åˆ°äº†loadServiceMethod(method).invoke(args);è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>ServiceMethodç¼“å­˜
private <span class="hljs-keyword">final</span> Map<span class="hljs-operator">&lt;</span><span class="hljs-keyword">Method</span>, ServiceMethod<span class="hljs-operator">&lt;</span>?<span class="hljs-operator">&gt;&gt;</span> serviceMethodCache <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> ConcurrentHashMap<span class="hljs-operator">&lt;&gt;</span>();
ServiceMethod<span class="hljs-operator">&lt;</span>?<span class="hljs-operator">&gt;</span> loadServiceMethod(<span class="hljs-keyword">Method</span> <span class="hljs-keyword">method</span>) {
ServiceMethod<span class="hljs-operator">&lt;</span>?<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> serviceMethodCache.get(<span class="hljs-keyword">method</span>);
if (<span class="hljs-keyword">result</span> <span class="hljs-operator">!=</span> <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">result</span>;

synchronized (serviceMethodCache) {
    <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> serviceMethodCache.get(<span class="hljs-keyword">method</span>);
    if (<span class="hljs-keyword">result</span> <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-keyword">null</span>) {
        <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> ServiceMethod.parseAnnotations(this, <span class="hljs-keyword">method</span>); <span class="hljs-operator">/</span><span class="hljs-operator">/</span>è§£ææ³¨è§£
        serviceMethodCache.put(<span class="hljs-keyword">method</span>, <span class="hljs-keyword">result</span>);
    }
}
<span class="hljs-keyword">return</span> <span class="hljs-keyword">result</span>;
}
</code></pre>
<p>åŸæ¥å®ƒæ˜¯è°ƒç”¨ServiceMethodä¸­çš„è§£ææ³¨è§£ï¼Œæˆ‘ä»¬ç»§ç»­è·Ÿæºç </p>
<pre><code class="hljs language-scss" lang="scss">abstract class ServiceMethod&lt;T&gt; {
    <span class="hljs-comment">//è§£ææ–¹æ³•ä¸Šçš„æ³¨è§£</span>
  static &lt;T&gt; ServiceMethod&lt;T&gt; <span class="hljs-built_in">parseAnnotations</span>(Retrofit retrofit, Method method) {
    RequestFactory requestFactory = RequestFactory<span class="hljs-selector-class">.parseAnnotations</span>(retrofit, method);

    Type returnType = method<span class="hljs-selector-class">.getGenericReturnType</span>();
    if (Utils.hasUnresolvableType(returnType)) {
      throw <span class="hljs-built_in">methodError</span>(
          method,
          "Method return type must not include a type variable or wildcard: %s",
          returnType);
    }
    if (returnType == void.class) {
      throw <span class="hljs-built_in">methodError</span>(method, "Service methods cannot return void.");
    }

    return HttpServiceMethod<span class="hljs-selector-class">.parseAnnotations</span>(retrofit, method, requestFactory);
  }

  abstract <span class="hljs-keyword">@Nullable</span> T invoke(Object[] args);
}

HttpServiceMethod<span class="hljs-selector-class">.java</span>
    
    <span class="hljs-comment">//è§£ææ³¨è§£</span>
  static &lt;ResponseT, ReturnT&gt; HttpServiceMethod&lt;ResponseT, ReturnT&gt; <span class="hljs-built_in">parseAnnotations</span>(
      Retrofit retrofit, Method method, RequestFactory requestFactory) {
    boolean isKotlinSuspendFunction = requestFactory<span class="hljs-selector-class">.isKotlinSuspendFunction</span>;
    boolean continuationWantsResponse = false;
    boolean continuationBodyNullable = false;

    Annotation<span class="hljs-selector-attr">[]</span> annotations = method<span class="hljs-selector-class">.getAnnotations</span>();<span class="hljs-comment">//è·å–æ–¹æ³•ä¸Šçš„æ³¨è§£</span>
    Type adapterType;
    if (isKotlinSuspendFunction) {
      Type<span class="hljs-selector-attr">[]</span> parameterTypes = method<span class="hljs-selector-class">.getGenericParameterTypes</span>();
      Type responseType =
          Utils<span class="hljs-selector-class">.getParameterLowerBound</span>(
              <span class="hljs-number">0</span>, (ParameterizedType) parameterTypes<span class="hljs-selector-attr">[parameterTypes.length - 1]</span>);
      if (getRawType(responseType) == Response<span class="hljs-selector-class">.class</span> &amp;&amp; responseType instanceof ParameterizedType) {
        <span class="hljs-comment">// Unwrap the actual body type from Response&lt;T&gt;.</span>
        responseType = Utils<span class="hljs-selector-class">.getParameterUpperBound</span>(<span class="hljs-number">0</span>, (ParameterizedType) responseType);
        continuationWantsResponse = true;
      } else {
        <span class="hljs-comment">// TODO figure out if type is nullable or not</span>
        <span class="hljs-comment">// Metadata metadata = method.getDeclaringClass().getAnnotation(Metadata.class)</span>
        <span class="hljs-comment">// Find the entry for method</span>
        <span class="hljs-comment">// Determine if return type is nullable or not</span>
      }

      adapterType = new Utils<span class="hljs-selector-class">.ParameterizedTypeImpl</span>(null, Call.class, responseType);
      annotations = SkipCallbackExecutorImpl<span class="hljs-selector-class">.ensurePresent</span>(annotations);
    } else {
      adapterType = method<span class="hljs-selector-class">.getGenericReturnType</span>();
    }
    <span class="hljs-comment">//è·å–è½¬æ¢å™¨ è¿™é‡Œå›åšæ¯”å¯¹çš„</span>
    CallAdapter&lt;ResponseT, ReturnT&gt; callAdapter =
        <span class="hljs-built_in">createCallAdapter</span>(retrofit, method, adapterType, annotations);
    Type responseType = callAdapter<span class="hljs-selector-class">.responseType</span>();<span class="hljs-comment">//è½¬åŒ–å™¨çš„è¿”å›ç±»å‹</span>
    if (responseType == okhttp3.Response.class) {
      throw <span class="hljs-built_in">methodError</span>(
          method,
          "'"
              + getRawType(responseType)<span class="hljs-selector-class">.getName</span>()
              + "' is not <span class="hljs-selector-tag">a</span> valid response <span class="hljs-selector-tag">body</span> type. Did you mean ResponseBody?");
    }
    if (responseType == Response.class) {
      throw <span class="hljs-built_in">methodError</span>(method, "Response must include generic type (e.g., Response&lt;String&gt;)");
    }
    <span class="hljs-comment">// TODO support Unit for Kotlin?</span>
    if (requestFactory.httpMethod.equals("HEAD") &amp;&amp; !Void<span class="hljs-selector-class">.class</span><span class="hljs-selector-class">.equals</span>(responseType)) {
      throw <span class="hljs-built_in">methodError</span>(method, "HEAD method must use Void as response type.");
    }
    <span class="hljs-comment">//è·å–è§£æå™¨ è¿™é‡Œä¼šåšæ¯”å¯¹çš„ æ ¹æ®type</span>
    Converter&lt;ResponseBody, ResponseT&gt; responseConverter =
        <span class="hljs-built_in">createResponseConverter</span>(retrofit, method, responseType);

    okhttp3<span class="hljs-selector-class">.Call</span><span class="hljs-selector-class">.Factory</span> callFactory = retrofit<span class="hljs-selector-class">.callFactory</span>;
    if (!isKotlinSuspendFunction) {
        <span class="hljs-comment">/**éåç¨‹çš„èµ°è¿™é‡Œï¼Œä¼ å…¥è¯·æ±‚ã€è½¬æ¢å™¨ã€æ•°æ®è§£æå™¨ã€callFactoryï¼ˆå®é™…ä¸Šå°±æ˜¯okHttpClientï¼Œå®ƒåœ¨reftrofitä¸­èµ‹å€¼ï¼‰
        *è¯·æ±‚æœ‰äº†ï¼Œè½¬æ¢å™¨ã€è§£æå™¨ã€å’ŒokHttpClientéƒ½æœ‰äº†ï¼Œå°±å¯ä»¥å¹²æ´»äº†-&gt;è°ƒç”¨invoke()æ–¹æ³•ã€‚
        **/</span>
      return new CallAdapted&lt;&gt;(requestFactory, callFactory, responseConverter, callAdapter);
    } else if (continuationWantsResponse) {
      <span class="hljs-comment">//noinspection unchecked Kotlin compiler guarantees ReturnT to be Object.</span>
      return (HttpServiceMethod&lt;ResponseT, ReturnT&gt;)
          new SuspendForResponse&lt;&gt;(
              requestFactory,
              callFactory,
              responseConverter,
              (CallAdapter&lt;ResponseT, Call&lt;ResponseT&gt;&gt;) callAdapter);
    } else {
      <span class="hljs-comment">//noinspection unchecked Kotlin compiler guarantees ReturnT to be Object.</span>
      return (HttpServiceMethod&lt;ResponseT, ReturnT&gt;)
          new SuspendForBody&lt;&gt;(
              requestFactory,
              callFactory,
              responseConverter,
              (CallAdapter&lt;ResponseT, Call&lt;ResponseT&gt;&gt;) callAdapter,
              continuationBodyNullable);
    }
  }

  private static &lt;ResponseT, ReturnT&gt; CallAdapter&lt;ResponseT, ReturnT&gt; <span class="hljs-built_in">createCallAdapter</span>(
      Retrofit retrofit, Method method, Type returnType, Annotation[] annotations) {
    try {
      <span class="hljs-comment">//noinspection unchecked</span>
      return (CallAdapter&lt;ResponseT, ReturnT&gt;) retrofit<span class="hljs-selector-class">.callAdapter</span>(returnType, annotations);
    } catch (RuntimeException e) { <span class="hljs-comment">// Wide exception range because factories are user code.</span>
      throw <span class="hljs-built_in">methodError</span>(method, e, "Unable to create call adapter for %s", returnType);
    }
  }
  
 <span class="hljs-comment">//invokeæ˜¯è°ƒç”¨æµç¨‹   </span>
<span class="hljs-keyword">@Override</span>
final <span class="hljs-keyword">@Nullable</span> ReturnT invoke(Object[] args) {
  <span class="hljs-comment">/**åˆ›å»ºäº†ä¸€ä¸ªCallå¯¹è±¡ï¼Œæ˜¯ OkHttpCallï¼Œè¿™ä¸ªä¸å°±æ˜¯åœ¨ ApiGet è¿™ä¸ªæ¥å£å£°æ˜çš„ 
  Call å¯¹è±¡å—ï¼Ÿç„¶åå†çœ‹
  *OkHttpCall çš„enqueueæ–¹æ³•ï¼Œä¸å°±çŸ¥é“æ˜¯æ€ä¹ˆè¿›è¡Œè¯·æ±‚ï¼Œæ€ä¹ˆå›è°ƒçš„äº†å—ï¼Ÿ   
  **/</span>
  Call&lt;ResponseT&gt; call = new OkHttpCall&lt;&gt;(requestFactory, args, callFactory, responseConverter);
  return <span class="hljs-built_in">adapt</span>(call, args);<span class="hljs-comment">//adapt</span>
}

  static final class CallAdapted&lt;ResponseT, ReturnT&gt; extends HttpServiceMethod&lt;ResponseT, ReturnT&gt; {
    private final CallAdapter&lt;ResponseT, ReturnT&gt; callAdapter;

    <span class="hljs-built_in">CallAdapted</span>(
        RequestFactory requestFactory,
        okhttp3.Call.Factory callFactory,
        Converter&lt;ResponseBody, ResponseT&gt; responseConverter,
        CallAdapter&lt;ResponseT, ReturnT&gt; callAdapter) {
      super(requestFactory, callFactory, responseConverter);
      this<span class="hljs-selector-class">.callAdapter</span> = callAdapter;
    }

      <span class="hljs-comment">//adaptä¼šæ‰§è¡Œåˆ°è¿™é‡Œï¼Œé€šè¿‡è½¬æ¢å™¨è½¬æ¢è¯·æ±‚</span>
    <span class="hljs-keyword">@Override</span>
    protected ReturnT adapt(Call&lt;ResponseT&gt; call, Object[] args) {
      return callAdapter<span class="hljs-selector-class">.adapt</span>(call);
    }
  }
</code></pre>
<p>é€šè¿‡ä¸Šé¢çš„æµç¨‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå®ƒé€šè¿‡æ³¨è§£è§£æåæœ€ç»ˆè¿”å›çš„æ˜¯ä¸€ä¸ªCallAdapterå¯¹è±¡ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡æŒæœ‰äº†æ•°æ®è¯·æ±‚å·¥å‚ï¼Œè§£æå™¨å’Œè½¬æ¢å™¨ã€‚</p>
<h3 data-id="heading-13">2.callè½¬æ¢å™¨çš„å·¥ä½œæµç¨‹</h3>
<p>æˆ‘ä»¬æ¥ç€ä¸Šé¢æµç¨‹ç»§ç»­åˆ†æï¼Œæˆ‘ä»¬é€šè¿‡æ³¨è§£è§£æåï¼Œå½“æˆ‘ä»¬æ‰§è¡Œinvokeæ–¹æ³•æ—¶ï¼Œå®é™…ä¸Šå®ƒä¼šæ‰§è¡ŒCallAdapterä¸­çš„adaptæ–¹æ³•,é‚£è¿™ä¸ªæ–¹æ³•ä¼šè°ƒåˆ°æˆ‘ä»¬è®¾ç½®çš„callè½¬æ¢å™¨çš„æ–¹æ³•ä¸­å»ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä»¥rxjavaä¸ºä¾‹å§ï¼Œæˆ‘ä»¬è·Ÿä¸‹rxjavaé€‚é…å™¨çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">public Object adapt(Call&lt;R&gt; call) {
    Observable&lt;Response&lt;R&gt;&gt; <span class="hljs-attr">responseObservable</span> = isAsync
    ? new CallEnqueueObservable&lt;&gt;(call)//å¼‚æ­¥
    : new CallExecuteObservable&lt;&gt;(call)<span class="hljs-comment">;</span>

    Observable&lt;?&gt; observable<span class="hljs-comment">;</span>
    if (isResult) {
        <span class="hljs-attr">observable</span> = new ResultObservable&lt;&gt;(responseObservable)<span class="hljs-comment">;</span>
    } else if (isBody) {
        <span class="hljs-attr">observable</span> = new BodyObservable&lt;&gt;(responseObservable)<span class="hljs-comment">;</span>
    } else {
        <span class="hljs-attr">observable</span> = responseObservable<span class="hljs-comment">;</span>
    }

    if (scheduler != null) {
        <span class="hljs-attr">observable</span> = observable.subscribeOn(scheduler)<span class="hljs-comment">;</span>
    }

    if (isFlowable) {
        return observable.toFlowable(BackpressureStrategy.LATEST)<span class="hljs-comment">;</span>
    }
    if (isSingle) {
        return observable.singleOrError()<span class="hljs-comment">;</span>
    }
    if (isMaybe) {
        return observable.singleElement()<span class="hljs-comment">;</span>
    }
    if (isCompletable) {
        return observable.ignoreElements()<span class="hljs-comment">;</span>
    }
    return RxJavaPlugins.onAssembly(observable)<span class="hljs-comment">;</span>
}
</code></pre>
<p>æˆ‘ä»¬è·Ÿä¸‹å¼‚æ­¥çš„è¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®ƒå…¶å®å°±æ˜¯å°†æˆ‘ä»¬ä¼ è¿‡æ¥çš„callåŒ…è£¹åˆ°ä¸€ä¸ªCallEnqueueObservableå¯¹è±¡ä¸­å»ï¼Œæˆ‘ä»¬ç»§ç»­è·ŸCallEnqueueObservableæºç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CallEnqueueObservable</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Observable</span>&lt;Response&lt;T&gt;&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Call&lt;T&gt; originalCall;

    CallEnqueueObservable(Call&lt;T&gt; originalCall) {
        <span class="hljs-built_in">this</span>.originalCall = originalCall;
    }

    <span class="hljs-meta">@Override</span> <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">subscribeActual</span><span class="hljs-params">(Observer&lt;? <span class="hljs-built_in">super</span> Response&lt;T&gt;&gt; observer)</span> {
        <span class="hljs-comment">// Since Call is a one-shot type, clone it for each new observer.</span>
        Call&lt;T&gt; call = originalCall.clone();
        CallCallback&lt;T&gt; callback = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CallCallback</span>&lt;&gt;(call, observer);<span class="hljs-comment">//retrofitè¯·æ±‚å›è°ƒ</span>
        observer.onSubscribe(callback);
        <span class="hljs-keyword">if</span> (!callback.isDisposed()) {
            call.enqueue(callback);<span class="hljs-comment">//è°ƒç”¨retrofitçš„è¯·æ±‚æ–¹æ³•</span>
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CallCallback</span>&lt;T&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Disposable</span>, Callback&lt;T&gt; {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Call&lt;?&gt; call;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Observer&lt;? <span class="hljs-built_in">super</span> Response&lt;T&gt;&gt; observer;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">boolean</span> disposed;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">terminated</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

        CallCallback(Call&lt;?&gt; call, Observer&lt;? <span class="hljs-built_in">super</span> Response&lt;T&gt;&gt; observer) {
            <span class="hljs-built_in">this</span>.call = call;
            <span class="hljs-built_in">this</span>.observer = observer;
        }

        <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResponse</span><span class="hljs-params">(Call&lt;T&gt; call, Response&lt;T&gt; response)</span> {
            <span class="hljs-keyword">if</span> (disposed) <span class="hljs-keyword">return</span>;

            <span class="hljs-keyword">try</span> {
                observer.onNext(response);

                <span class="hljs-keyword">if</span> (!disposed) {
                    terminated = <span class="hljs-literal">true</span>;
                    observer.onComplete();
                }
            } <span class="hljs-keyword">catch</span> (Throwable t) {
                Exceptions.throwIfFatal(t);
                <span class="hljs-keyword">if</span> (terminated) {
                    RxJavaPlugins.onError(t);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!disposed) {
                    <span class="hljs-keyword">try</span> {
                        observer.onError(t);
                    } <span class="hljs-keyword">catch</span> (Throwable inner) {
                        Exceptions.throwIfFatal(inner);
                        RxJavaPlugins.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CompositeException</span>(t, inner));
                    }
                }
            }
        }

        <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(Call&lt;T&gt; call, Throwable t)</span> {
            <span class="hljs-keyword">if</span> (call.isCanceled()) <span class="hljs-keyword">return</span>;

            <span class="hljs-keyword">try</span> {
                observer.onError(t);
            } <span class="hljs-keyword">catch</span> (Throwable inner) {
                Exceptions.throwIfFatal(inner);
                RxJavaPlugins.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CompositeException</span>(t, inner));
            }
        }

        <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dispose</span><span class="hljs-params">()</span> {
            disposed = <span class="hljs-literal">true</span>;
            call.cancel();
        }

        <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isDisposed</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> disposed;
        }
    }
}
</code></pre>
<p>åŸæ¥ï¼Œå®ƒåœ¨æ³¨å†Œè¿™ä¸ªè¢«è§‚å¯Ÿè€…æ—¶æ‰§è¡Œäº†callçš„è¯·æ±‚ï¼Œç„¶ä¼šå°†å›è°ƒå›æ¥çš„ç»“æœé€šè¿‡è§‚å¯Ÿè€…å°†ç»“æœè¿”å›ç»™äº†ç”¨æˆ·ï¼Œè‡³æ­¤ï¼Œç”Ÿæˆè§‚å¯Ÿè€…ï¼Œè°ƒç”¨callè¯·æ±‚ï¼Œå¹¶å°†callè¯·æ±‚çš„ç»“æœé€šè¿‡è§‚å¯Ÿè€…è¿”å›ç»™ç”¨æˆ·çš„æµç¨‹å°±ç»“æŸäº†ï¼Œä½†æ˜¯è¿™é‡Œå¹¶æ²¡æœ‰è¯´æ•°æ®æ˜¯å¦‚ä½•è§£æçš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚</p>
<h3 data-id="heading-14">3.æ•°æ®è§£æå™¨çš„å·¥ä½œæµç¨‹</h3>
<p>å‰é¢æˆ‘ä»¬è¯´åˆ°ï¼Œåœ¨rxadapterä¸­ï¼Œå½“æˆ‘ä»¬è®¢é˜…æ—¶å®ƒä¼šæ‰§è¡Œretrofitçš„callæ–¹æ³•çš„equeueæ‰§è¡Œè¯·æ±‚ï¼Œæˆ‘ä»¬è·Ÿä¸‹æºç ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Override</span>
public void enqueue(final Callback&lt;T&gt; callback) {
    Objects<span class="hljs-selector-class">.requireNonNull</span>(callback, "callback == null");

    okhttp3<span class="hljs-selector-class">.Call</span> call;
    Throwable failure;

    synchronized (this) {
        if (executed) throw new <span class="hljs-built_in">IllegalStateException</span>("Already executed.");
        executed = true;

        call = rawCall;
        failure = creationFailure;
        if (call == null &amp;&amp; failure == null) {
            try {
                call = rawCall = <span class="hljs-built_in">createRawCall</span>();
            } catch (Throwable t) {
                <span class="hljs-built_in">throwIfFatal</span>(t);
                failure = creationFailure = t;
            }
        }
    }

    if (failure != null) {
        callback<span class="hljs-selector-class">.onFailure</span>(this, failure);
        return;
    }

    if (canceled) {
        call<span class="hljs-selector-class">.cancel</span>();
    }

    <span class="hljs-comment">//æ‰§è¡ŒokHttpçš„callè¯·æ±‚è¿‡ç¨‹</span>
    call<span class="hljs-selector-class">.enqueue</span>(
        new okhttp3.Callback() {
            <span class="hljs-keyword">@Override</span>
            public void onResponse(okhttp3.Call call, okhttp3.Response rawResponse) {
                Response&lt;T&gt; response;
                try {
                    response = <span class="hljs-built_in">parseResponse</span>(rawResponse);
                } catch (Throwable e) {
                    <span class="hljs-built_in">throwIfFatal</span>(e);
                    <span class="hljs-built_in">callFailure</span>(e);
                    return;
                }

                try {
                    callback<span class="hljs-selector-class">.onResponse</span>(OkHttpCall.this, response);
                } catch (Throwable t) {
                    <span class="hljs-built_in">throwIfFatal</span>(t);
                    t<span class="hljs-selector-class">.printStackTrace</span>(); <span class="hljs-comment">// TODO this is not great</span>
                }
            }

            <span class="hljs-keyword">@Override</span>
            public void onFailure(okhttp3.Call call, IOException e) {
                <span class="hljs-built_in">callFailure</span>(e);
            }

            private void <span class="hljs-built_in">callFailure</span>(Throwable e) {
                try {
                    callback<span class="hljs-selector-class">.onFailure</span>(OkHttpCall.this, e);
                } catch (Throwable t) {
                    <span class="hljs-built_in">throwIfFatal</span>(t);
                    t<span class="hljs-selector-class">.printStackTrace</span>(); <span class="hljs-comment">// TODO this is not great</span>
                }
            }
        });
}

<span class="hljs-keyword">@Override</span>
public synchronized boolean isExecuted() {
    return executed;
}

<span class="hljs-keyword">@Override</span>
public Response&lt;T&gt; execute() throws IOException {
okhttp3<span class="hljs-selector-class">.Call</span> call;

synchronized (this) {
    if (executed) throw new <span class="hljs-built_in">IllegalStateException</span>("Already executed.");
    executed = true;

    call = <span class="hljs-built_in">getRawCall</span>();
}

if (canceled) {
    call<span class="hljs-selector-class">.cancel</span>();
}

return <span class="hljs-built_in">parseResponse</span>(call.execute());
}

private okhttp3<span class="hljs-selector-class">.Call</span> <span class="hljs-built_in">createRawCall</span>() throws IOException {
okhttp3<span class="hljs-selector-class">.Call</span> call = callFactory<span class="hljs-selector-class">.newCall</span>(requestFactory.create(args));
if (call == null) {
    throw new <span class="hljs-built_in">NullPointerException</span>("Call.Factory returned null.");
}
return call;
}

Response&lt;T&gt; <span class="hljs-built_in">parseResponse</span>(okhttp3.Response rawResponse) throws IOException {
    ResponseBody rawBody = rawResponse<span class="hljs-selector-class">.body</span>();

    <span class="hljs-comment">// Remove the body's source (the only stateful object) so we can pass the response along.</span>
    rawResponse =
    rawResponse
    <span class="hljs-selector-class">.newBuilder</span>()
    <span class="hljs-selector-class">.body</span>(new NoContentResponseBody(rawBody.contentType(), rawBody<span class="hljs-selector-class">.contentLength</span>()))
    <span class="hljs-selector-class">.build</span>();

    int <span class="hljs-selector-tag">code</span> = rawResponse<span class="hljs-selector-class">.code</span>();
    if (code &lt; <span class="hljs-number">200</span> || code &gt;= <span class="hljs-number">300</span>) {
        try {
            <span class="hljs-comment">// Buffer the entire body to avoid future I/O.</span>
            ResponseBody bufferedBody = Utils<span class="hljs-selector-class">.buffer</span>(rawBody);
            return Response<span class="hljs-selector-class">.error</span>(bufferedBody, rawResponse);
        } finally {
            rawBody<span class="hljs-selector-class">.close</span>();
        }
    }

    if (code == <span class="hljs-number">204</span> || code == <span class="hljs-number">205</span>) {
        rawBody<span class="hljs-selector-class">.close</span>();
    return Response<span class="hljs-selector-class">.success</span>(null, rawResponse);
  }

  ExceptionCatchingResponseBody catchingBody = new <span class="hljs-built_in">ExceptionCatchingResponseBody</span>(rawBody);
  try {
    T <span class="hljs-selector-tag">body</span> = responseConverter<span class="hljs-selector-class">.convert</span>(catchingBody);<span class="hljs-comment">//é€šè¿‡è§£æå™¨è§£ææ•°æ®</span>
    return Response<span class="hljs-selector-class">.success</span>(body, rawResponse);
  } catch (RuntimeException e) {
    <span class="hljs-comment">// If the underlying source threw an exception, propagate that rather than indicating it was</span>
    <span class="hljs-comment">// a runtime exception.</span>
    catchingBody<span class="hljs-selector-class">.throwIfCaught</span>();
    throw e;
  }
}
</code></pre>
<p>åŸæ¥å®ƒæ˜¯é€šè¿‡okHttpè¯·æ±‚åå†å°†æ•°æ®é€šè¿‡è§£æå™¨å»è§£æå³å¯ã€‚</p>
<h3 data-id="heading-15">4.å›¾è§£æ•´ä¸ªå·¥ä½œæµç¨‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ce1dde2d54041a1ba84ba3f73b7c818~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29kaW5nV2FuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763615079&amp;x-signature=ecx341N1OHHeY%2BujjaBJdvl2BLY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯Echartsæ€§èƒ½ä¼˜åŒ–ï¼šä»å¡é¡¿åˆ°æµç•…çš„ç™¾ä¸‡çº§æ•°æ®å¯è§†åŒ–]]></title>    <link>https://juejin.cn/post/7571678388954529811</link>    <guid>https://juejin.cn/post/7571678388954529811</guid>    <pubDate>2025-11-12T23:02:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571678388954529811" data-draft-id="7566171225707380736" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯Echartsæ€§èƒ½ä¼˜åŒ–ï¼šä»å¡é¡¿åˆ°æµç•…çš„ç™¾ä¸‡çº§æ•°æ®å¯è§†åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-12T23:02:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è€å‰ç«¯çš„åŠŸå¤«"/> <meta itemprop="url" content="https://juejin.cn/user/300646077053211"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯Echartsæ€§èƒ½ä¼˜åŒ–ï¼šä»å¡é¡¿åˆ°æµç•…çš„ç™¾ä¸‡çº§æ•°æ®å¯è§†åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/300646077053211/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è€å‰ç«¯çš„åŠŸå¤«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T23:02:58.000Z" title="Wed Nov 12 2025 23:02:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®é©±åŠ¨å†³ç­–çš„æ—¶ä»£ï¼Œæ•°æ®å¯è§†åŒ–å¤§å±å·²æˆä¸ºä¼ä¸šæ ‡å‡†é…ç½®ã€‚ä½œä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´è¿™æ ·çš„å›°å¢ƒï¼šè®¾è®¡é˜¶æ®µæµç•…è¿è¡Œçš„Echartså›¾è¡¨ï¼Œåœ¨æ¥å…¥çœŸå®æµ·é‡æ•°æ®æ—¶å´å‡ºç°<strong>ä¸¥é‡å¡é¡¿ã€å†…å­˜é£™å‡ã€äº¤äº’å»¶è¿Ÿ</strong>ç­‰é—®é¢˜ã€‚æœ¬æ–‡å°†ä»åŸç†å±‚é¢æ·±å…¥å‰–æEchartsæ€§èƒ½ç“¶é¢ˆï¼Œå¹¶æä¾›ä¸€å¥—å®Œæ•´çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ å®ç°ä»ä¸‡çº§åˆ°ç™¾ä¸‡çº§æ•°æ®çš„é«˜æ€§èƒ½å¯è§†åŒ–ã€‚</p>
<h2 data-id="heading-0">1 æ€§èƒ½ç“¶é¢ˆæ·±åº¦è§£æï¼šä¸ºä»€ä¹ˆæµ·é‡æ•°æ®ä¼šå¯¼è‡´å¡é¡¿ï¼Ÿ</h2>
<h3 data-id="heading-1">1.1 æ¸²æŸ“å¼•æ“å·®å¼‚ï¼šSVGä¸Canvasçš„åº•å±‚åŸç†</h3>
<p>Echartsé‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œåº•å±‚åŸºäºZRenderå›¾å½¢åº“ï¼Œæ”¯æŒCanvaså’ŒSVGåŒæ¸²æŸ“å¼•æ“ã€‚è¿™ä¸¤ç§å¼•æ“åœ¨æ¸²æŸ“ä¸‡çº§ä»¥ä¸Šæ•°æ®ç‚¹æ—¶ï¼Œæ€§èƒ½è¡¨ç°å·®å¼‚å·¨å¤§ï¼š</p>
<ul>
<li><strong>SVGæ¸²æŸ“æ¨¡å¼</strong>ï¼šåŸºäºDOMå…ƒç´ æ¸²æŸ“ï¼Œæ¯ä¸ªæ•°æ®ç‚¹å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„DOMèŠ‚ç‚¹ã€‚å½“æ•°æ®é‡è¾¾åˆ°5000ä¸ªç‚¹æ—¶ï¼ŒDOMæ ‘ä¼šå˜å¾—å¼‚å¸¸åºå¤§ï¼Œå¯¼è‡´æ ·å¼è®¡ç®—å’Œå¸ƒå±€é‡ç»˜è€—æ—¶å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚</li>
<li><strong>Canvasæ¸²æŸ“æ¨¡å¼</strong>ï¼šåŸºäºåƒç´ ç»˜åˆ¶ï¼Œé€šè¿‡å•ä¸€çš„Canvaså…ƒç´ å’ŒJavaScript APIè¿›è¡Œç»˜åˆ¶ã€‚ä¸éœ€è¦ç»´æŠ¤å¤æ‚çš„DOMæ ‘ï¼Œæ›´é€‚åˆå¤§æ•°æ®é‡åœºæ™¯ã€‚</li>
</ul>
<p><strong>çœŸå®åœºæ™¯æµ‹è¯•æ•°æ®</strong>ï¼ˆåŸºäºi7 CPUï¼Œ16GBå†…å­˜ï¼ŒChrome 89ç¯å¢ƒï¼‰ï¼š</p>





























<table><thead><tr><th>æ•°æ®é‡</th><th>SVGæ¸²æŸ“æ—¶é—´</th><th>Canvasæ¸²æŸ“æ—¶é—´</th><th>å†…å­˜å ç”¨æ¯”</th></tr></thead><tbody><tr><td>1ä¸‡ç‚¹</td><td>1200ms</td><td>350ms</td><td>3.4:1</td></tr><tr><td>5ä¸‡ç‚¹</td><td>å¡é¡¿ä¸¥é‡</td><td>900ms</td><td>5.2:1</td></tr><tr><td>10ä¸‡ç‚¹</td><td>é¡µé¢å´©æºƒ</td><td>1800ms</td><td>7.8:1</td></tr></tbody></table>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆå§‹åŒ–æ—¶æ˜¾å¼æŒ‡å®šæ¸²æŸ“å™¨</span>
<span class="hljs-keyword">const</span> chart = echarts.<span class="hljs-title function_">init</span>(domElement, <span class="hljs-literal">null</span>, {
  <span class="hljs-attr">renderer</span>: <span class="hljs-string">'canvas'</span> <span class="hljs-comment">// å¤§æ•°æ®é‡åœºæ™¯é¦–é€‰Canvas</span>
});
</code></pre>
<h3 data-id="heading-2">1.2 å†…å­˜å ç”¨æœºç†åˆ†æ</h3>
<p>å¤§è§„æ¨¡æ•°æ®å¯è§†åŒ–é¢ä¸´çš„å†…å­˜æŒ‘æˆ˜ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªå±‚é¢ï¼š</p>
<ul>
<li><strong>åŸå§‹æ•°æ®å­˜å‚¨</strong>ï¼šJavaScriptå¯¹è±¡æ•°ç»„å­˜å‚¨ï¼Œæ¯ä¸ªæ•°æ®ç‚¹åŒ…å«å¤šç»´ä¿¡æ¯ï¼ˆx/yåæ ‡ã€é¢œè‰²å€¼ã€å¤§å°ã€æ ‡ç­¾ç­‰ï¼‰</li>
<li><strong>æ´¾ç”Ÿæ•°æ®è®¡ç®—</strong>ï¼šåæ ‡è½¬æ¢åçš„å±å¹•ä½ç½®ã€æ ·å¼è®¡ç®—ä¸­é—´ç»“æœç­‰</li>
<li><strong>å¯è§†åŒ–å…ƒç´ å†…å­˜</strong>ï¼šSVG/Cavnasçš„å›¾å½¢è¡¨ç¤ºæ‰€éœ€å†…å­˜</li>
</ul>
<p><strong>å†…å­˜æ¶ˆè€—é‡åŒ–åˆ†æ</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼°ç®—æ•°æ®å†…å­˜å ç”¨çš„å®ç”¨å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">estimateMemoryUsage</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> dataSize = data.<span class="hljs-property">length</span> * data[<span class="hljs-number">0</span>].<span class="hljs-property">length</span> * <span class="hljs-number">8</span>; <span class="hljs-comment">// å‡è®¾æ¯ä¸ªæ•°å€¼8å­—èŠ‚</span>
  <span class="hljs-keyword">const</span> styleSize = data.<span class="hljs-property">length</span> * <span class="hljs-number">100</span>; <span class="hljs-comment">// æ¯ä¸ªç‚¹çš„æ ·å¼ä¿¡æ¯çº¦100å­—èŠ‚</span>
  <span class="hljs-keyword">const</span> domSize = usingSVG ? data.<span class="hljs-property">length</span> * <span class="hljs-number">500</span> : <span class="hljs-number">0</span>; <span class="hljs-comment">// SVGå…ƒç´ æ¯ä¸ªçº¦500å­—èŠ‚</span>
  
  <span class="hljs-keyword">const</span> totalMB = (dataSize + styleSize + domSize) / (<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`é¢„ä¼°å†…å­˜å ç”¨: <span class="hljs-subst">${totalMB.toFixed(<span class="hljs-number">2</span>)}</span>MB`</span>);
  <span class="hljs-keyword">return</span> totalMB;
}

<span class="hljs-comment">// å…¸å‹åœºæ™¯ï¼š5ä¸‡ä¸ªæ•°æ®ç‚¹çš„å†…å­˜åˆ†å¸ƒ</span>
<span class="hljs-keyword">const</span> memoryBreakdown = {
  <span class="hljs-attr">rawData</span>: <span class="hljs-number">0.8</span>, <span class="hljs-comment">// MB</span>
  <span class="hljs-attr">derivedData</span>: <span class="hljs-number">1.2</span>, <span class="hljs-comment">// MB</span>
  <span class="hljs-attr">visualElements</span>: <span class="hljs-number">2.5</span>, <span class="hljs-comment">// MB</span>
  <span class="hljs-attr">total</span>: <span class="hljs-number">4.5</span> <span class="hljs-comment">// MB</span>
};
</code></pre>
<h3 data-id="heading-3">1.3 é¢„å¤„ç†è®¡ç®—å¤æ‚åº¦</h3>
<p>æ•°æ®å¯è§†åŒ–å‰çš„é¢„å¤„ç†è®¡ç®—è€—æ—¶éšæ•°æ®é‡å¢åŠ è€Œæ˜¾è‘—æå‡ï¼š</p>
<ul>
<li><strong>åæ ‡è½¬æ¢è®¡ç®—</strong>ï¼šå°†åŸå§‹æ•°æ®å€¼è½¬æ¢ä¸ºå±å¹•åƒç´ ä½ç½®ï¼Œæ¶‰åŠæ¯”ä¾‹å°ºè®¡ç®—ã€åæ ‡ç³»å˜æ¢</li>
<li><strong>è§†è§‰ç¼–ç å¤„ç†</strong>ï¼šé¢œè‰²æ˜ å°„ã€å¤§å°ç¼©æ”¾ã€é€æ˜åº¦å¤„ç†ç­‰</li>
<li><strong>æ•°æ®èšåˆä¸ä¼˜åŒ–</strong>ï¼šé™é‡‡æ ·ã€ç©ºé—´åˆ†åŒºã€ç»Ÿè®¡è®¡ç®—ç­‰</li>
</ul>
<p><strong>å…¸å‹æ¡ˆä¾‹</strong>ï¼šåœ°ç†ç­‰å€¼çº¿å›¾éœ€è¦å…ˆå¯¹ç¦»æ•£ç‚¹è¿›è¡Œç½‘æ ¼æ’å€¼ï¼ˆå¦‚åè·ç¦»åŠ æƒæˆ–å…‹é‡Œé‡‘æ’å€¼ï¼‰ï¼Œç„¶åè®¡ç®—ç­‰å€¼çº¿ï¼Œè¿™ä¸¤ä¸ªæ­¥éª¤çš„è®¡ç®—å¤æ‚åº¦å‡ä¸ºO(nÂ²)ï¼Œå½“n&gt;10,000æ—¶è®¡ç®—æ—¶é—´å¯èƒ½è¾¾åˆ°æ•°ç§’ã€‚</p>
<h2 data-id="heading-4">2 æ ¸å¿ƒæŠ€æœ¯ä¼˜åŒ–ç­–ç•¥ï¼šä»åŸºç¡€åˆ°é«˜çº§</h2>
<h3 data-id="heading-5">2.1 æ•°æ®å±‚ä¼˜åŒ–ï¼šä»æºå¤´å‡å°‘å¤„ç†é‡</h3>
<h4 data-id="heading-6">2.1.1 æ™ºèƒ½æ•°æ®é‡‡æ ·</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœ€å¤§ä¸‰è§’å½¢ä¸‰æ¡¶é‡‡æ ·æ³•(LTTB) - ä¿ç•™è¶‹åŠ¿ç‰¹å¾</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">lttbDownsample</span>(<span class="hljs-params">data, threshold</span>) {
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">length</span> &lt;= threshold) <span class="hljs-keyword">return</span> data;
  
  <span class="hljs-keyword">const</span> sampled = [data[<span class="hljs-number">0</span>]];
  <span class="hljs-keyword">const</span> bucketSize = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(data.<span class="hljs-property">length</span> / threshold);
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; threshold - <span class="hljs-number">1</span>; i++) {
    <span class="hljs-keyword">const</span> start = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(i * bucketSize);
    <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((i + <span class="hljs-number">1</span>) * bucketSize);
    
    <span class="hljs-keyword">let</span> maxArea = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> maxIndex = start;
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = start; j &lt; end; j++) {
      <span class="hljs-keyword">const</span> area = <span class="hljs-title function_">calculateTriangleArea</span>(
        sampled[sampled.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>],
        data[j],
        data[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(end + bucketSize, data.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>)]
      );
      
      <span class="hljs-keyword">if</span> (area &gt; maxArea) {
        maxArea = area;
        maxIndex = j;
      }
    }
    
    sampled.<span class="hljs-title function_">push</span>(data[maxIndex]);
  }
  
  sampled.<span class="hljs-title function_">push</span>(data[data.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]);
  <span class="hljs-keyword">return</span> sampled;
}

<span class="hljs-comment">// ç­‰è·é‡‡æ · - ç®€å•é«˜æ•ˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">downsample</span>(<span class="hljs-params">data, sampleSize</span>) {
  <span class="hljs-keyword">const</span> step = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(data.<span class="hljs-property">length</span> / sampleSize);
  <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">_, index</span>) =&gt;</span> index % step === <span class="hljs-number">0</span>);
}
</code></pre>
<h4 data-id="heading-7">2.1.2 æ•°æ®åˆ†ç‰‡ä¸æ‡’åŠ è½½</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataChunkManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">chunkSize = <span class="hljs-number">10000</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span> = chunkSize;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadedChunks</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleRange</span> = { <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">end</span>: <span class="hljs-number">0</span> };
  }
  
  <span class="hljs-comment">// æ ¹æ®å¯è§†åŒºåŸŸåŠ è½½æ•°æ®åˆ†ç‰‡</span>
  <span class="hljs-title function_">loadVisibleChunks</span>(<span class="hljs-params">range, fullDataset</span>) {
    <span class="hljs-keyword">const</span> startChunk = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(range.<span class="hljs-property">start</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span>);
    <span class="hljs-keyword">const</span> endChunk = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(range.<span class="hljs-property">end</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span>);
    
    <span class="hljs-keyword">const</span> chunksToLoad = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = startChunk; i &lt;= endChunk; i++) {
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">loadedChunks</span>.<span class="hljs-title function_">has</span>(i)) {
        chunksToLoad.<span class="hljs-title function_">push</span>(i);
      }
    }
    
    <span class="hljs-comment">// å¼‚æ­¥åŠ è½½æ•°æ®åˆ†ç‰‡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadChunksAsync</span>(chunksToLoad, fullDataset);
    
    <span class="hljs-comment">// æ¸…ç†ä¸å¯è§åˆ†ç‰‡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupInvisibleChunks</span>(startChunk, endChunk);
  }
  
  <span class="hljs-title function_">loadChunksAsync</span>(<span class="hljs-params">chunkIndexes, fullDataset</span>) {
    <span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">() =&gt;</span> {
      chunkIndexes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">index</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> start = index * <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span>;
        <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(start + <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span>, fullDataset.<span class="hljs-property">length</span>);
        <span class="hljs-keyword">const</span> chunkData = fullDataset.<span class="hljs-title function_">slice</span>(start, end);
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadedChunks</span>.<span class="hljs-title function_">set</span>(index, chunkData);
        
        <span class="hljs-comment">// è§¦å‘å›¾è¡¨æ›´æ–°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">appendToChart</span>(chunkData);
      });
    });
  }
}
</code></pre>
<h3 data-id="heading-8">2.2 æ¸²æŸ“å±‚ä¼˜åŒ–ï¼šæè‡´æ€§èƒ½è°ƒä¼˜</h3>
<h4 data-id="heading-9">2.2.1 Echartså†…ç½®ä¼˜åŒ–é€‰é¡¹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> option = {
  <span class="hljs-comment">// å¯ç”¨å¤§æ•°æ®æ¨¡å¼</span>
  <span class="hljs-attr">large</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">largeThreshold</span>: <span class="hljs-number">2000</span>,
  
  <span class="hljs-comment">// æ¸è¿›å¼æ¸²æŸ“é…ç½®</span>
  <span class="hljs-attr">progressive</span>: <span class="hljs-number">500</span>,
  <span class="hljs-attr">progressiveThreshold</span>: <span class="hljs-number">3000</span>,
  <span class="hljs-attr">progressiveChunkMode</span>: <span class="hljs-string">'mod'</span>,
  
  <span class="hljs-comment">// åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–</span>
  <span class="hljs-attr">animation</span>: data.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2000</span>,
  <span class="hljs-attr">animationThreshold</span>: <span class="hljs-number">2000</span>,
  <span class="hljs-attr">animationDuration</span>: <span class="hljs-number">1000</span>,
  <span class="hljs-attr">animationEasing</span>: <span class="hljs-string">'cubicOut'</span>,
  
  <span class="hljs-comment">// æ•°æ®ç¼©æ”¾ç»„ä»¶ - åªæ˜¾ç¤ºæ„Ÿå…´è¶£åŒºåŸŸ</span>
  <span class="hljs-attr">dataZoom</span>: [
    {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'inside'</span>,
      <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">end</span>: <span class="hljs-number">100</span>,
      <span class="hljs-attr">minValueSpan</span>: <span class="hljs-number">10</span> <span class="hljs-comment">// æœ€å°æ˜¾ç¤ºåŒºé—´</span>
    }
  ],
  
  <span class="hljs-attr">series</span>: [{
    <span class="hljs-attr">type</span>: <span class="hljs-string">'line'</span>,
    
    <span class="hljs-comment">// ç³»åˆ—çº§ä¼˜åŒ–</span>
    <span class="hljs-attr">progressive</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">progressiveThreshold</span>: <span class="hljs-number">1000</span>,
    
    <span class="hljs-comment">// è§†è§‰ä¼˜åŒ–</span>
    <span class="hljs-attr">symbol</span>: <span class="hljs-string">'none'</span>, <span class="hljs-comment">// å…³é—­æ•°æ®ç‚¹ç¬¦å·</span>
    <span class="hljs-attr">lineStyle</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>
    },
    
    <span class="hljs-comment">// å¯ç”¨å‡é‡‡æ ·(å¯¹æ•°å€¼æ•°æ®)</span>
    <span class="hljs-comment">// åœ¨æ˜¾ç¤ºå°æ¯”ä¾‹æ•°æ®æ—¶æé«˜æ¸²æŸ“æ•ˆç‡</span>
    <span class="hljs-attr">sampling</span>: <span class="hljs-string">'max'</span>
  }]
};
</code></pre>
<h4 data-id="heading-10">2.2.2 å¢é‡æ¸²æŸ“æŠ€æœ¯</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IncrementalRenderer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">chartInstance, chunkSize = <span class="hljs-number">2000</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span> = chartInstance;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span> = chunkSize;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRendering</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingData</span> = [];
  }
  
  <span class="hljs-comment">// å¢é‡è¿½åŠ æ•°æ®</span>
  <span class="hljs-title function_">appendDataIncrementally</span>(<span class="hljs-params">newData</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingData</span>.<span class="hljs-title function_">push</span>(...newData);
    
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isRendering</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startProgressiveRender</span>();
    }
  }
  
  <span class="hljs-title function_">startProgressiveRender</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRendering</span> = <span class="hljs-literal">true</span>;
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">renderChunk</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingData</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRendering</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span>;
      }
      
      <span class="hljs-keyword">const</span> chunk = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingData</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">chunkSize</span>);
      
      <span class="hljs-comment">// ä½¿ç”¨Echartsçš„appendDataæ–¹æ³•</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span>.<span class="hljs-title function_">appendData</span>({
        <span class="hljs-attr">seriesIndex</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">data</span>: chunk
      });
      
      <span class="hljs-comment">// ä½¿ç”¨requestAnimationFrameè°ƒåº¦ä¸‹ä¸€æ‰¹æ¬¡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingData</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-title function_">requestAnimationFrame</span>(renderChunk);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRendering</span> = <span class="hljs-literal">false</span>;
      }
    };
    
    <span class="hljs-title function_">requestAnimationFrame</span>(renderChunk);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IncrementalRenderer</span>(chart);
renderer.<span class="hljs-title function_">appendDataIncrementally</span>(largeDataset);
</code></pre>
<h3 data-id="heading-11">2.3 å†…å­˜ä¼˜åŒ–ï¼šé˜²æ­¢æ³„æ¼ä¸é«˜æ•ˆç®¡ç†</h3>
<h4 data-id="heading-12">2.3.1 å†…å­˜æ³„æ¼é˜²æ²»</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ChartMemoryManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chartInstances</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">memoryWatchers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
  }
  
  <span class="hljs-comment">// æ³¨å†Œå›¾è¡¨å®ä¾‹å¹¶ç›‘æ§å†…å­˜</span>
  <span class="hljs-title function_">registerChart</span>(<span class="hljs-params">id, chartInstance</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chartInstances</span>.<span class="hljs-title function_">set</span>(id, chartInstance);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startMemoryMonitoring</span>();
  }
  
  <span class="hljs-comment">// æ­£ç¡®é”€æ¯å›¾è¡¨å®ä¾‹</span>
  <span class="hljs-title function_">disposeChart</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">const</span> chart = <span class="hljs-variable language_">this</span>.<span class="hljs-property">chartInstances</span>.<span class="hljs-title function_">get</span>(id);
    <span class="hljs-keyword">if</span> (chart) {
      chart.<span class="hljs-title function_">dispose</span>(); <span class="hljs-comment">// å…³é”®ï¼šé‡Šæ”¾Echartså†…éƒ¨èµ„æº</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">chartInstances</span>.<span class="hljs-title function_">delete</span>(id);
    }
    
    <span class="hljs-comment">// å¼ºåˆ¶åƒåœ¾å›æ”¶ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">gc</span>) {
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">gc</span>();
    }
  }
  
  <span class="hljs-comment">// å¤ç”¨å·²æœ‰å®ä¾‹è€Œä¸æ˜¯é‡æ–°åˆ›å»º</span>
  <span class="hljs-title function_">getOrCreateChart</span>(<span class="hljs-params">container, id</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">chartInstances</span>.<span class="hljs-title function_">has</span>(id)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">chartInstances</span>.<span class="hljs-title function_">get</span>(id);
    }
    
    <span class="hljs-keyword">const</span> chart = echarts.<span class="hljs-title function_">init</span>(container);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerChart</span>(id, chart);
    <span class="hljs-keyword">return</span> chart;
  }
  
  <span class="hljs-comment">// å†…å­˜ç›‘æ§</span>
  <span class="hljs-title function_">startMemoryMonitoring</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">monitoringInterval</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">monitoringInterval</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (performance.<span class="hljs-property">memory</span>) {
        <span class="hljs-keyword">const</span> usedMB = performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span> / (<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
        
        <span class="hljs-comment">// å†…å­˜è¶…è¿‡é˜ˆå€¼æ—¶è§¦å‘æ¸…ç†</span>
        <span class="hljs-keyword">if</span> (usedMB &gt; <span class="hljs-number">500</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">triggerMemoryCleanup</span>();
        }
      }
    }, <span class="hljs-number">10000</span>);
  }
}
</code></pre>
<h4 data-id="heading-13">2.3.2 ä½¿ç”¨TypedArrayä¼˜åŒ–æ•°æ®å­˜å‚¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨TypedArrayæ›¿ä»£æ™®é€šæ•°ç»„å‡å°‘å†…å­˜å ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">convertToTypedArray</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> flattened = data.<span class="hljs-title function_">flat</span>();
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(flattened);
}

<span class="hljs-comment">// ä¼˜åŒ–åçš„æ•°æ®ç»“æ„å¯¹æ¯”</span>
<span class="hljs-keyword">const</span> optimizedDataStructure = {
  <span class="hljs-comment">// ä½¿ç”¨åˆ†ç¦»å­˜å‚¨å‡å°‘å†…å­˜ç¢ç‰‡</span>
  <span class="hljs-attr">times</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float64Array</span>(<span class="hljs-number">1000000</span>), <span class="hljs-comment">// æ—¶é—´æˆ³</span>
  <span class="hljs-attr">values</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">1000000</span>), <span class="hljs-comment">// æ•°å€¼</span>
  <span class="hljs-attr">flags</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">1000000</span>),   <span class="hljs-comment">// çŠ¶æ€æ ‡å¿—</span>
  
  <span class="hljs-comment">// æ‰¹é‡æ“ä½œæ•°æ®</span>
  <span class="hljs-attr">updateRange</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">start, end, newValues</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>.<span class="hljs-title function_">set</span>(newValues, start);
  }
};
</code></pre>
<h2 data-id="heading-14">3 é«˜çº§ä¼˜åŒ–æŠ€å·§ï¼šçªç ´æ€§èƒ½æé™</h2>
<h3 data-id="heading-15">3.1 Web Workerç¦»å±æ•°æ®å¤„ç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»çº¿ç¨‹ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkerDataProcessor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'data-processor.js'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleWorkerMessage</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackId</span> = <span class="hljs-number">0</span>;
  }
  
  <span class="hljs-comment">// å°†æ•°æ®é¢„å¤„ç†ä»»åŠ¡è½¬ç§»åˆ°Workerçº¿ç¨‹</span>
  <span class="hljs-title function_">processDataInWorker</span>(<span class="hljs-params">data, operation</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> id = <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackId</span>++;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>.<span class="hljs-title function_">set</span>(id, resolve);
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span>.<span class="hljs-title function_">postMessage</span>({
        id,
        data,
        operation
      }, [data.<span class="hljs-property">buffer</span>]); <span class="hljs-comment">// ä¼ è¾“æ‰€æœ‰æƒé¿å…æ‹·è´</span>
    });
  }
  
  <span class="hljs-title function_">handleWorkerMessage</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">const</span> { id, result } = event.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>.<span class="hljs-title function_">has</span>(id)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>.<span class="hljs-title function_">get</span>(id)(result);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>.<span class="hljs-title function_">delete</span>(id);
    }
  }
}

<span class="hljs-comment">// Workerçº¿ç¨‹ä»£ç  (data-processor.js)</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-keyword">const</span> { id, data, operation } = event.<span class="hljs-property">data</span>;
  
  <span class="hljs-keyword">let</span> result;
  <span class="hljs-keyword">switch</span> (operation) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'downsample'</span>:
      result = <span class="hljs-title function_">lttbDownsample</span>(data, <span class="hljs-number">5000</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'filter'</span>:
      result = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">point</span> =&gt;</span> point.<span class="hljs-property">value</span> &gt; <span class="hljs-number">0</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'aggregate'</span>:
      result = <span class="hljs-title function_">aggregateData</span>(data, <span class="hljs-string">'hour'</span>);
      <span class="hljs-keyword">break</span>;
  }
  
  self.<span class="hljs-title function_">postMessage</span>({ id, result });
};
</code></pre>
<h3 data-id="heading-16">3.2 æ€§èƒ½ç›‘æ§ä¸è‡ªé€‚åº”é™çº§</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span> = {
      <span class="hljs-attr">fps</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">renderTime</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">memoryUsage</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">thresholds</span> = {
      <span class="hljs-attr">lowFps</span>: <span class="hljs-number">30</span>,
      <span class="hljs-attr">highRenderTime</span>: <span class="hljs-number">16</span>, <span class="hljs-comment">// ms</span>
      <span class="hljs-attr">highMemory</span>: <span class="hljs-number">400</span> <span class="hljs-comment">// MB</span>
    };
  }
  
  <span class="hljs-comment">// ç›‘æ§æ¸²æŸ“æ€§èƒ½</span>
  <span class="hljs-title function_">monitorRenderPerformance</span>(<span class="hljs-params">chart</span>) {
    <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-comment">// ç›‘å¬æ¸²æŸ“å®Œæˆäº‹ä»¶</span>
    chart.<span class="hljs-title function_">on</span>(<span class="hljs-string">'rendered'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> renderTime = performance.<span class="hljs-title function_">now</span>() - startTime;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">renderTime</span> = renderTime;
      
      <span class="hljs-keyword">if</span> (renderTime &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">thresholds</span>.<span class="hljs-property">highRenderTime</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">triggerDegradationStrategy</span>(chart);
      }
    });
  }
  
  <span class="hljs-comment">// è‡ªé€‚åº”é™çº§ç­–ç•¥</span>
  <span class="hljs-title function_">triggerDegradationStrategy</span>(<span class="hljs-params">chart</span>) {
    <span class="hljs-keyword">const</span> currentOption = chart.<span class="hljs-title function_">getOption</span>();
    
    <span class="hljs-comment">// æ ¹æ®æ€§èƒ½çŠ¶å†µé€æ­¥é™çº§</span>
    <span class="hljs-keyword">const</span> degradationSteps = [
      <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">disableSymbols</span>(currentOption),
      <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reduceAnimation</span>(currentOption),
      <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">increaseSamplingRate</span>(currentOption),
      <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">switchToSimplerChartType</span>(currentOption)
    ];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> degradationSteps) {
      <span class="hljs-title function_">step</span>();
      <span class="hljs-keyword">const</span> newPerf = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">measurePerformance</span>(chart);
      <span class="hljs-keyword">if</span> (newPerf.<span class="hljs-property">renderTime</span> &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">thresholds</span>.<span class="hljs-property">highRenderTime</span>) {
        <span class="hljs-keyword">break</span>;
      }
    }
    
    chart.<span class="hljs-title function_">setOption</span>(currentOption);
  }
  
  <span class="hljs-title function_">disableSymbols</span>(<span class="hljs-params">option</span>) {
    option.<span class="hljs-property">series</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">series</span> =&gt;</span> {
      series.<span class="hljs-property">showSymbol</span> = <span class="hljs-literal">false</span>;
    });
  }
  
  <span class="hljs-comment">// å®æ—¶FPSç›‘æ§</span>
  <span class="hljs-title function_">startFPSMonitoring</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> frameCount = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> lastTime = performance.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkFPS</span> = (<span class="hljs-params"/>) =&gt; {
      frameCount++;
      <span class="hljs-keyword">const</span> currentTime = performance.<span class="hljs-title function_">now</span>();
      
      <span class="hljs-keyword">if</span> (currentTime - lastTime &gt;= <span class="hljs-number">1000</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">fps</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(
          (frameCount * <span class="hljs-number">1000</span>) / (currentTime - lastTime)
        );
        frameCount = <span class="hljs-number">0</span>;
        lastTime = currentTime;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePerformanceDashboard</span>();
      }
      
      <span class="hljs-title function_">requestAnimationFrame</span>(checkFPS);
    };
    
    <span class="hljs-title function_">requestAnimationFrame</span>(checkFPS);
  }
}
</code></pre>
<h2 data-id="heading-17">4 å®æˆ˜æ¡ˆä¾‹ï¼šç™¾ä¸‡çº§åœ°ç†åæ ‡å¯è§†åŒ–</h2>
<h3 data-id="heading-18">4.1 å®Œæ•´å®ç°æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MillionPointGeoVisualization</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">container</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> = container;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataProcessor</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkerDataProcessor</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialized</span> = <span class="hljs-literal">false</span>;
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span> = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>, <span class="hljs-literal">null</span>, {
      <span class="hljs-attr">renderer</span>: <span class="hljs-string">'canvas'</span>,
      <span class="hljs-attr">useDirtyRect</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å¯ç”¨è„çŸ©å½¢ä¼˜åŒ–</span>
    });
    
    <span class="hljs-comment">// åˆå§‹é…ç½®</span>
    <span class="hljs-keyword">const</span> option = {
      <span class="hljs-attr">geo</span>: {
        <span class="hljs-attr">map</span>: <span class="hljs-string">'china'</span>,
        <span class="hljs-attr">roam</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯ç¼©æ”¾å¹³ç§»</span>
        <span class="hljs-attr">emphasis</span>: { 
          <span class="hljs-attr">itemStyle</span>: { <span class="hljs-attr">areaColor</span>: <span class="hljs-string">'#eee'</span> } 
        },
        <span class="hljs-comment">// åœ°ç†ç»„ä»¶ä¼˜åŒ–</span>
        <span class="hljs-attr">silent</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// é™é»˜æ¨¡å¼æå‡æ€§èƒ½</span>
        <span class="hljs-attr">regions</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createSimplifiedRegions</span>()
      },
      <span class="hljs-attr">series</span>: [{
        <span class="hljs-attr">type</span>: <span class="hljs-string">'scatter'</span>,
        <span class="hljs-attr">coordinateSystem</span>: <span class="hljs-string">'geo'</span>,
        <span class="hljs-attr">progressive</span>: <span class="hljs-number">20000</span>,
        <span class="hljs-attr">dimensions</span>: [<span class="hljs-string">'lng'</span>, <span class="hljs-string">'lat'</span>, <span class="hljs-string">'value'</span>],
        
        <span class="hljs-comment">// è§†è§‰æ˜ å°„ä¼˜åŒ–</span>
        <span class="hljs-attr">symbolSize</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(val[<span class="hljs-number">2</span>]) / <span class="hljs-number">100</span>;
        },
        
        <span class="hljs-comment">// å¯ç”¨å¤§æ•°æ®ä¼˜åŒ–</span>
        <span class="hljs-attr">large</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">largeThreshold</span>: <span class="hljs-number">5000</span>,
        
        <span class="hljs-comment">// æ•°æ®æ ·å¼ä¼˜åŒ–</span>
        <span class="hljs-attr">itemStyle</span>: {
          <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.6</span>
        },
        
        <span class="hljs-attr">blendMode</span>: <span class="hljs-string">'source-over'</span>
      }],
      
      <span class="hljs-comment">// è§†è§‰æ˜ å°„ç»„ä»¶</span>
      <span class="hljs-attr">visualMap</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'continuous'</span>,
        <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">max</span>: <span class="hljs-number">1000000</span>,
        <span class="hljs-attr">calculable</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">inRange</span>: {
          <span class="hljs-attr">color</span>: [<span class="hljs-string">'blue'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'yellow'</span>, <span class="hljs-string">'red'</span>]
        },
        <span class="hljs-attr">orient</span>: <span class="hljs-string">'vertical'</span>,
        <span class="hljs-attr">right</span>: <span class="hljs-number">10</span>,
        <span class="hljs-attr">top</span>: <span class="hljs-string">'center'</span>
      }
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span>.<span class="hljs-title function_">setOption</span>(option);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialized</span> = <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-comment">// å¼‚æ­¥åŠ è½½å¹¶å¤„ç†æ•°æ®</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadData</span>(<span class="hljs-params">rawData</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">initialized</span>) <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
    
    <span class="hljs-comment">// åœ¨Workerä¸­å¤„ç†æ•°æ®</span>
    <span class="hljs-keyword">const</span> processedData = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dataProcessor</span>.<span class="hljs-title function_">processDataInWorker</span>(
      rawData, 
      <span class="hljs-string">'geo-downsample'</span>
    );
    
    <span class="hljs-comment">// åˆ†æ‰¹æ¸²æŸ“</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderInBatches</span>(processedData, <span class="hljs-number">50000</span>);
  }
  
  <span class="hljs-title function_">renderInBatches</span>(<span class="hljs-params">data, batchSize</span>) {
    <span class="hljs-keyword">const</span> totalBatches = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(data.<span class="hljs-property">length</span> / batchSize);
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">renderBatch</span> = (<span class="hljs-params">batchIndex</span>) =&gt; {
      <span class="hljs-keyword">const</span> start = batchIndex * batchSize;
      <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(start + batchSize, data.<span class="hljs-property">length</span>);
      <span class="hljs-keyword">const</span> batchData = data.<span class="hljs-title function_">slice</span>(start, end);
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span>.<span class="hljs-title function_">appendData</span>({
        <span class="hljs-attr">seriesIndex</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">data</span>: batchData
      });
      
      <span class="hljs-keyword">if</span> (batchIndex &lt; totalBatches - <span class="hljs-number">1</span>) {
        <span class="hljs-comment">// ä½¿ç”¨requestIdleCallbacké¿å…é˜»å¡ä¸»çº¿ç¨‹</span>
        <span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">renderBatch</span>(batchIndex + <span class="hljs-number">1</span>);
        });
      }
    };
    
    <span class="hljs-title function_">renderBatch</span>(<span class="hljs-number">0</span>);
  }
}
</code></pre>
<h2 data-id="heading-19">5 é¢è¯•å®˜å¸¸è§æé—®ä¸å›ç­”æŠ€å·§</h2>
<h3 data-id="heading-20">é—®é¢˜1ï¼šè¯·æè¿°ä½ åœ¨Echartsæ€§èƒ½ä¼˜åŒ–æ–¹é¢çš„å®è·µç»éªŒ</h3>
<p><strong>å›ç­”è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>å¼ºè°ƒç³»ç»ŸåŒ–çš„ä¼˜åŒ–æ€è·¯ï¼šä»æ•°æ®ã€æ¸²æŸ“ã€å†…å­˜å¤šç»´åº¦å…¥æ‰‹</li>
<li>æåŠå…·ä½“çš„æŠ€æœ¯æŒ‡æ ‡å’Œä¼˜åŒ–æ•ˆæœ</li>
<li>å±•ç¤ºå¯¹åº•å±‚åŸç†çš„ç†è§£</li>
</ul>
<p><strong>ç¤ºä¾‹å›ç­”</strong>ï¼š
"åœ¨æœ€è¿‘çš„å¯è§†åŒ–å¤§å±é¡¹ç›®ä¸­ï¼Œæˆ‘é¢å¯¹çš„æ˜¯ç™¾ä¸‡çº§åœ°ç†åæ ‡æ•°æ®çš„å®æ—¶æ¸²æŸ“æŒ‘æˆ˜ã€‚é¦–å…ˆé€šè¿‡æ€§èƒ½åˆ†æå®šä½åˆ°ä¸‰ä¸ªä¸»è¦ç“¶é¢ˆï¼šDOMå…ƒç´ è¿‡å¤šå¯¼è‡´çš„æ¸²æŸ“å‹åŠ›ã€å†…å­˜å ç”¨è¿‡é«˜å’Œé¢„å¤„ç†è®¡ç®—è€—æ—¶ã€‚æˆ‘é‡‡ç”¨äº†åˆ†å±‚ä¼˜åŒ–ç­–ç•¥ï¼šæ•°æ®å±‚ä½¿ç”¨LTTBé‡‡æ ·å’ŒWeb Workerç¦»å±å¤„ç†ï¼Œå°†åŸå§‹æ•°æ®ä»100ä¸‡ç‚¹ä¼˜åŒ–åˆ°5ä¸‡ç‚¹åŒæ—¶ä¿ç•™è¶‹åŠ¿ç‰¹å¾ï¼›æ¸²æŸ“å±‚å¯ç”¨Echartsçš„largeæ¨¡å¼å’Œæ¸è¿›å¼æ¸²æŸ“ï¼Œé…åˆCanvasæ¸²æŸ“å™¨å°†æ¸²æŸ“æ—¶é—´ä»12ç§’é™ä½åˆ°1.8ç§’ï¼›å†…å­˜å±‚ä½¿ç”¨TypedArrayå’Œå¯¹è±¡æ± æŠ€æœ¯å‡å°‘40%å†…å­˜å ç”¨ã€‚æœ€ç»ˆåœ¨æ™®é€šæ¡Œé¢è®¾å¤‡ä¸Šå®ç°äº†60FPSçš„æµç•…ä½“éªŒã€‚"</p>
<h3 data-id="heading-21">é—®é¢˜2ï¼šå¦‚ä½•ç›‘æ§å’Œå®šä½Echartså›¾è¡¨çš„æ€§èƒ½é—®é¢˜ï¼Ÿ</h3>
<p><strong>å›ç­”è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>ä»‹ç»æµè§ˆå™¨æ€§èƒ½å·¥å…·çš„ä½¿ç”¨</li>
<li>æåŠEchartså†…ç½®çš„è°ƒè¯•èƒ½åŠ›</li>
<li>å¼ºè°ƒç³»ç»ŸåŒ–çš„ç›‘æ§æ–¹æ³•</li>
</ul>
<p><strong>ç¤ºä¾‹å›ç­”</strong>ï¼š
"æˆ‘å»ºç«‹äº†ä¸€å¥—å®Œæ•´çš„æ€§èƒ½ç›‘æ§ä½“ç³»ã€‚é¦–å…ˆä½¿ç”¨Chrome Performanceé¢æ¿è®°å½•å›¾è¡¨äº¤äº’è¿‡ç¨‹ä¸­çš„å‡½æ•°è°ƒç”¨å’Œè€—æ—¶ï¼Œç‰¹åˆ«å…³æ³¨æ¸²æŸ“æµæ°´çº¿ä¸­çš„Layoutã€Painté˜¶æ®µã€‚å…¶æ¬¡åˆ©ç”¨Echartsçš„renderedäº‹ä»¶å’ŒPerformance APIç²¾ç¡®æµ‹é‡æ¸²æŸ“è€—æ—¶ã€‚åœ¨ä»£ç å±‚é¢ï¼Œæˆ‘å®ç°äº†å®æ—¶FPSç›‘æ§å’Œå†…å­˜ä½¿ç”¨å‘Šè­¦ï¼Œå½“æ£€æµ‹åˆ°æ€§èƒ½ä¸‹é™æ—¶è‡ªåŠ¨è§¦å‘é™çº§ç­–ç•¥ï¼Œæ¯”å¦‚å…³é—­åŠ¨ç”»ã€ç®€åŒ–å›¾å½¢å…ƒç´ ç­‰ã€‚é€šè¿‡è¿™äº›å·¥å…·ç»„åˆï¼Œèƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°æ˜¯æ•°æ®é¢„å¤„ç†ã€æ¸²æŸ“è®¡ç®—è¿˜æ˜¯å†…å­˜å›æ”¶å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚"</p>
<h3 data-id="heading-22">é—®é¢˜3ï¼šåœ¨å¤„ç†å®æ—¶æ•°æ®æµæ—¶ï¼Œå¦‚ä½•ä¿è¯Echartsçš„æ€§èƒ½ï¼Ÿ</h3>
<p><strong>å›ç­”è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>å¼ºè°ƒå¢é‡æ›´æ–°å’Œå·®å¼‚æ¸²æŸ“</li>
<li>æåŠæ•°æ®èšåˆç­–ç•¥</li>
<li>è¯´æ˜å†…å­˜ç®¡ç†çš„é‡è¦æ€§</li>
</ul>
<p><strong>ç¤ºä¾‹å›ç­”</strong>ï¼š
"å¯¹äºå®æ—¶æ•°æ®æµåœºæ™¯ï¼Œæˆ‘é‡‡ç”¨'å¢é‡æ›´æ–°+æ™ºèƒ½èšåˆ'çš„ç­–ç•¥ã€‚é¦–å…ˆé€šè¿‡appendDataæ–¹æ³•è¿›è¡Œå¢é‡æ¸²æŸ“ï¼Œé¿å…å…¨é‡æ›´æ–°ã€‚å…¶æ¬¡æ ¹æ®æ•°æ®é¢‘ç‡å’Œå±å¹•åˆ†è¾¨ç‡åŠ¨æ€è°ƒæ•´èšåˆç²’åº¦ï¼Œæ¯”å¦‚é«˜é¢‘æ•°æ®åœ¨ç¼©å°æ—¶è‡ªåŠ¨èšåˆä¸ºåˆ†æ—¶ç»Ÿè®¡ã€‚åŒæ—¶å®ç°æ•°æ®è¿‡æœŸæœºåˆ¶ï¼Œè‡ªåŠ¨æ¸…ç†è¶…å‡ºæ—¶é—´çª—å£çš„æ—§æ•°æ®é˜²æ­¢å†…å­˜æ³„æ¼ã€‚å¯¹äºæç«¯æƒ…å†µï¼Œè¿˜è®¾è®¡äº†é™çº§æ–¹æ¡ˆï¼Œæ¯”å¦‚åœ¨ä½ç«¯è®¾å¤‡ä¸Šé™ä½é‡‡æ ·ç‡æˆ–æš‚åœéæ ¸å¿ƒåŠ¨ç”»ï¼Œç¡®ä¿æ ¸å¿ƒæ•°æ®çš„å®æ—¶æ€§ä¸å—å½±å“ã€‚"</p>
<h2 data-id="heading-23">6 è°ƒè¯•ç•Œé¢ä¸æ€§èƒ½éªŒè¯</h2>
<h3 data-id="heading-24">6.1 å¯è§†åŒ–è°ƒè¯•é¢æ¿å®ç°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EchartsDebugPanel</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">chartInstance</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span> = chartInstance;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span> = {
      <span class="hljs-attr">dataPoints</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">renderTime</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">fps</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">memory</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createDebugPanel</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startMetricsCollection</span>();
  }
  
  <span class="hljs-title function_">createDebugPanel</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">panel</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">panel</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">`
      position: fixed;
      top: 10px;
      right: 10px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 15px;
      border-radius: 5px;
      font-family: monospace;
      z-index: 10000;
      min-width: 250px;
    `</span>;
    
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">panel</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePanel</span>();
  }
  
  <span class="hljs-title function_">startMetricsCollection</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ”¶é›†æ¸²æŸ“æ€§èƒ½æ•°æ®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'rendered'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">renderTime</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">measureRenderTime</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePanel</span>();
    });
    
    <span class="hljs-comment">// æ”¶é›†å†…å­˜æ•°æ®</span>
    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (performance.<span class="hljs-property">memory</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">memory</span> = 
          performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span> / (<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
      }
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePanel</span>();
    }, <span class="hljs-number">2000</span>);
  }
  
  <span class="hljs-title function_">measureRenderTime</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span>.<span class="hljs-title function_">setOption</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span>.<span class="hljs-title function_">getOption</span>()); <span class="hljs-comment">// è§¦å‘é‡æ¸²æŸ“</span>
    <span class="hljs-keyword">return</span> performance.<span class="hljs-title function_">now</span>() - start;
  }
  
  <span class="hljs-title function_">updatePanel</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">panel</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
      &lt;div&gt;&lt;strong&gt;Echartsæ€§èƒ½ç›‘æ§&lt;/strong&gt;&lt;/div&gt;
      &lt;div&gt;æ•°æ®ç‚¹æ•°: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.metrics.dataPoints.toLocaleString()}</span>&lt;/div&gt;
      &lt;div&gt;æ¸²æŸ“æ—¶é—´: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.metrics.renderTime.toFixed(<span class="hljs-number">2</span>)}</span>ms&lt;/div&gt;
      &lt;div&gt;FPS: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.metrics.fps}</span>&lt;/div&gt;
      &lt;div&gt;å†…å­˜: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.metrics.memory.toFixed(<span class="hljs-number">1</span>)}</span>MB&lt;/div&gt;
      &lt;div&gt;æ¸²æŸ“å™¨: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.chart._model?.option.renderer || <span class="hljs-string">'canvas'</span>}</span>&lt;/div&gt;
    `</span>;
  }
}
</code></pre>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>Echartsæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªç³»ç»Ÿæ€§çš„å·¥ç¨‹ï¼Œéœ€è¦ä»<strong>æ•°æ®é¢„å¤„ç†ã€æ¸²æŸ“ä¼˜åŒ–ã€å†…å­˜ç®¡ç†</strong>ä¸‰ä¸ªç»´åº¦ç»¼åˆæ–½ç­–ã€‚é€šè¿‡æœ¬æ–‡ä»‹ç»çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œä½ å¯ä»¥åœ¨ä¿è¯å¯è§†åŒ–æ•ˆæœçš„åŒæ—¶ï¼Œå®ç°ç™¾ä¸‡çº§æ•°æ®çš„æµç•…æ¸²æŸ“ã€‚è®°ä½ï¼Œä¼˜åŒ–ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒç»­ç›‘æµ‹ã€åˆ†æã€è°ƒæ•´çš„é—­ç¯è¿‡ç¨‹ã€‚</p>
<p><strong>å…³é”®ä¼˜åŒ–æ¸…å•</strong>ï¼š</p>
<ul>
<li>âœ… æ•°æ®é‡ &gt; 1000ï¼šå¯ç”¨Canvasæ¸²æŸ“å™¨</li>
<li>âœ… æ•°æ®é‡ &gt; 5000ï¼šé…ç½®largeæ¨¡å¼å’Œæ¸è¿›å¼æ¸²æŸ“</li>
<li>âœ… æ•°æ®é‡ &gt; 50000ï¼šå®ç°æ•°æ®åˆ†ç‰‡å’Œå¢é‡åŠ è½½</li>
<li>âœ… å®æ—¶æ•°æ®æµï¼šä½¿ç”¨Web Workerå’Œå¢é‡æ›´æ–°</li>
<li>âœ… å†…å­˜æ•æ„Ÿåœºæ™¯ï¼šé‡‡ç”¨TypedArrayå’Œå¯¹è±¡å¤ç”¨</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Swift è®¿é—®æ§åˆ¶å…¨è§£æã€‘ä¸€ç¯‡å°±å¤Ÿï¼šä» open åˆ° privateï¼Œè®©æ¥å£ä¸å®ç°å„å°±å…¶ä½]]></title>    <link>https://juejin.cn/post/7571729682678808626</link>    <guid>https://juejin.cn/post/7571729682678808626</guid>    <pubDate>2025-11-13T00:47:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571729682678808626" data-draft-id="7554344985492209673" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Swift è®¿é—®æ§åˆ¶å…¨è§£æã€‘ä¸€ç¯‡å°±å¤Ÿï¼šä» open åˆ° privateï¼Œè®©æ¥å£ä¸å®ç°å„å°±å…¶ä½"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-13T00:47:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Swift è®¿é—®æ§åˆ¶å…¨è§£æã€‘ä¸€ç¯‡å°±å¤Ÿï¼šä» open åˆ° privateï¼Œè®©æ¥å£ä¸å®ç°å„å°±å…¶ä½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T00:47:39.000Z" title="Thu Nov 13 2025 00:47:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    22
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦â€œè®¿é—®æ§åˆ¶â€</h2>
<ol>
<li>éšè—å®ç°ç»†èŠ‚ï¼Œåªæš´éœ²å¿…è¦æ¥å£</li>
<li>é˜²æ­¢å¤–éƒ¨è¯¯ç”¨ï¼Œå‡å°‘åç»­å…¼å®¹å‹åŠ›</li>
<li>æ”¯æŒæ¨¡å—åŒ–å¼€å‘ï¼ˆAppã€Frameworkã€Swift Package å¤šç›®æ ‡æ··åˆï¼‰</li>
</ol>
<p>ä¸€å¥è¯ï¼šæ¥å£å…¬å¼€ï¼Œå®ç°éšè—ï¼›è¯¥è§çš„è§ï¼Œä¸è¯¥è§çš„æ°¸è¿œçœ‹ä¸è§ã€‚</p>
<h2 data-id="heading-1">Swift çš„ä¸‰å±‚ä½œç”¨åŸŸä¸å…­çº§æƒé™</h2>















































<table><thead><tr><th>çº§åˆ«</th><th>å¯è§èŒƒå›´</th><th>å¯ç»§æ‰¿/é‡å†™</th><th>å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td>open</td><td>æ¨¡å—å¤–å¯è§ï¼Œå¯å­ç±»åŒ–ã€å¯ override</td><td>âœ…</td><td>æ¡†æ¶çš„â€œè®¾è®¡å‡ºå£â€</td></tr><tr><td>public</td><td>æ¨¡å—å¤–å¯è§ï¼Œä¸å¯å­ç±»åŒ–/override</td><td>âŒ</td><td>ç¨³å®š API</td></tr><tr><td>package</td><td>åŒä¸€ package å†…æ‰€æœ‰æ¨¡å—</td><td>âœ…/âŒ</td><td>Swift Package è·¨æ¨¡å—åä½œ</td></tr><tr><td>internal</td><td>é»˜è®¤çº§ï¼Œä»…å½“å‰æ¨¡å—</td><td>âœ…</td><td>æ¨¡å—å†…éƒ¨å®ç°</td></tr><tr><td>fileprivate</td><td>ä»…å½“å‰æºæ–‡ä»¶</td><td>âœ…</td><td>åŒä¸€æ–‡ä»¶å†…å¤šä¸ªç±»å‹/æ‰©å±•å…±äº«</td></tr><tr><td>private</td><td>ä»…å½“å‰å£°æ˜ + åŒä¸€æ–‡ä»¶å†…æ‰©å±•</td><td>âœ…</td><td>æœ€å°åŒ–å°è£…å•å…ƒ</td></tr></tbody></table>
<h2 data-id="heading-2">é»˜è®¤ç­–ç•¥é€Ÿè®°</h2>
<ul>
<li>ä¸æ‰‹å†™è®¿é—®ä¿®é¥°ç¬¦ â†’ internal</li>
<li>ç±»å‹çš„é»˜è®¤æˆå‘˜ â†’ è·Ÿéšç±»å‹ï¼ˆç±»å‹ public â†’ æˆå‘˜ internalï¼‰</li>
<li>åµŒå¥—ç±»å‹åœ¨ public ç±»å‹é‡Œ â†’ internalï¼ˆéœ€è¦å…¬å¼€å†å†™ publicï¼‰</li>
</ul>
<h2 data-id="heading-3">ä»£ç å®æˆ˜ï¼šå…­çº§æƒé™ä¸€æ¬¡çœ‹ä¸ªå¤Ÿ</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ–‡ä»¶ï¼šFrameworkA.swift  (å±äº FrameworkA æ¨¡å—)</span>

<span class="hljs-comment">// 1. openï¼šå…è®¸å¤–éƒ¨æ¨¡å—å­ç±»åŒ–</span>
<span class="hljs-keyword">open</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OpenClass</span> {
    <span class="hljs-keyword">open</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">overrideMe</span>() {}          <span class="hljs-comment">// å¤–éƒ¨å¯ override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">notOverrideOutside</span>() {} <span class="hljs-comment">// å¤–éƒ¨åªèƒ½è°ƒï¼Œä¸èƒ½ override</span>
}

<span class="hljs-comment">// 2. publicï¼šç¨³å®šæ¥å£ï¼Œä¸å¯ç»§æ‰¿</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">PublicAPI</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>() {}
    <span class="hljs-keyword">internal</span> <span class="hljs-keyword">var</span> innerCounter <span class="hljs-operator">=</span> <span class="hljs-number">0</span>      <span class="hljs-comment">// æ¨¡å—å¤–ä¸å¯è§</span>
}

<span class="hljs-comment">// 3. packageï¼šåŒä¸€ Package å†…å…±äº«</span>
package <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">PackageService</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetch</span>() -&gt; <span class="hljs-type">String</span>
}

<span class="hljs-comment">// 4. internalï¼šä¸æš´éœ²ç»™å¤–éƒ¨</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InnerHelper</span> {
    <span class="hljs-meta">@MainActor</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> shared <span class="hljs-operator">=</span> <span class="hljs-type">InnerHelper</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">init</span>() {}
}

<span class="hljs-comment">// 5. fileprivateï¼šåŒä¸€æ–‡ä»¶å†…å¤ç”¨</span>
<span class="hljs-keyword">fileprivate</span> <span class="hljs-keyword">extension</span> <span class="hljs-title class_">String</span> {
    <span class="hljs-keyword">var</span> trimmed: <span class="hljs-type">String</span> { trimmingCharacters(in: .whitespaces) }
}

<span class="hljs-comment">// 6. privateï¼šéšè—åˆ°â€œå£°æ˜å†…éƒ¨â€</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Trimmer</span> {
    <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> count: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>   <span class="hljs-comment">// åªè¯»å…¬å¼€ï¼Œå†™ç§æœ‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">trim</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">s</span>: <span class="hljs-keyword">inout</span> <span class="hljs-type">String</span>) {
        s <span class="hljs-operator">=</span> s.trimmed                 <span class="hljs-comment">// åŒä¸€æ–‡ä»¶ï¼Œå¯è®¿é—® fileprivate</span>
        count <span class="hljs-operator">+=</span> <span class="hljs-number">1</span>
    }
}
</code></pre>
<h2 data-id="heading-4">ç»§æ‰¿ä¸é‡å†™ä¸­çš„â€œå‡æƒâ€</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åŒä¸€æ¨¡å—å†…</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
    <span class="hljs-keyword">fileprivate</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">hidden</span>() {}
}

<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>: <span class="hljs-title class_">A</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">internal</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">hidden</span>() {} <span class="hljs-comment">// åˆæ³•ï¼šåœ¨åŒä¸€æ–‡ä»¶ï¼Œå‡çº§è®¿é—®æƒ</span>
}
</code></pre>
<p>è§„åˆ™å›é¡¾ï¼š</p>
<ol>
<li>å­ç±»è®¿é—®çº§åˆ« â‰¤ çˆ¶ç±»</li>
<li>é‡å†™å¯æé«˜è®¿é—®æƒï¼Œä½†ä¸èƒ½é™ä½</li>
<li>è·¨æ¨¡å—åªèƒ½ç»§æ‰¿/é‡å†™ <code>open</code> æˆå‘˜</li>
</ol>
<h2 data-id="heading-5">åè®®ã€æ‰©å±•ã€æ³›å‹ã€åˆ«åçš„ç»†èŠ‚</h2>
<ol>
<li>åè®®</li>
</ol>
<ul>
<li>åè®®æƒé™ â‰¥ å…¶æ‰€æœ‰è¦æ±‚</li>
<li>ç»§æ‰¿çš„åè®®ä¸èƒ½æ¯”çˆ¶åè®®æ›´å¼€æ”¾</li>
<li>conformance æƒé™ = min(ç±»å‹æƒé™, åè®®æƒé™)</li>
</ul>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">PublicProtocol</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">foo</span>()
}
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InternalImpl</span>: <span class="hljs-title class_">PublicProtocol</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">foo</span>() {}   <span class="hljs-comment">// è‡ªåŠ¨ internalï¼Œæ»¡è¶³è¦æ±‚</span>
}
</code></pre>
<ol start="2">
<li>æ‰©å±•</li>
</ol>
<ul>
<li>æ‰©å±•å¯å†™è®¿é—®ä¿®é¥°ç¬¦ï¼Œä¸ºå†…éƒ¨æˆå‘˜ç»Ÿä¸€è®¾ç½®é»˜è®¤çº§</li>
<li>ç”¨äºåè®® conformance çš„æ‰©å±•ä¸èƒ½å†™è®¿é—®ä¿®é¥°ç¬¦ï¼Œç”±åè®®æœ¬èº«å†³å®š</li>
</ul>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Trimmer</span>: <span class="hljs-title class_">CustomStringConvertible</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> { <span class="hljs-string">"trimmed <span class="hljs-subst">\(count)</span> times"</span> }
}
</code></pre>
<ol start="3">
<li>æ³›å‹</li>
</ol>
<ul>
<li>æ³›å‹å®ä½“æƒé™ = min(è‡ªèº«æƒé™, æ‰€æœ‰çº¦æŸç±»å‹æƒé™)</li>
</ul>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">CacheKey</span> {}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Cache</span>&lt;<span class="hljs-title class_">T</span>: <span class="hljs-title class_">CacheKey</span>&gt; {} <span class="hljs-comment">// å®é™…æƒé™ internal</span>
</code></pre>
<ol start="4">
<li>ç±»å‹åˆ«å</li>
</ol>
<ul>
<li>åˆ«åæƒé™ â‰¤ åŸç±»å‹æƒé™</li>
<li>åˆ©ç”¨åˆ«åå¯åœ¨æ¨¡å—å¤–â€œéšè—â€çœŸå®ç±»å‹</li>
</ul>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">typealias</span> <span class="hljs-type">Token</span> <span class="hljs-operator">=</span> <span class="hljs-type">String</span>   <span class="hljs-comment">// OK</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">typealias</span> <span class="hljs-type">SecretDict</span> <span class="hljs-operator">=</span> [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] <span class="hljs-comment">// ä»…å½“å‰æ–‡ä»¶å¯ç”¨</span>
</code></pre>
<h2 data-id="heading-6">Package çº§è®¿é—®ï¼šå¤šæ¨¡å—ä»“åº“çš„â€œæœ‹å‹åœˆâ€</h2>
<p>åœºæ™¯ï¼šä¸€ä¸ª Swift Package åŒ…å« Networkã€UIã€Core ä¸‰ä¸ªæ¨¡å—ï¼Œå¸Œæœ› Core çš„æ¥å£ä»…è¢« Network/UI ä½¿ç”¨ï¼Œè€Œä¸æš´éœ²ç»™æœ€ç»ˆ Appã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Core æ¨¡å—</span>
package <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">DataLoader</span> {
    package <span class="hljs-keyword">func</span> <span class="hljs-title function_">load</span>() -&gt; <span class="hljs-type">Data</span>
}
</code></pre>
<p>åœ¨ Package å¤–ï¼ˆAppï¼‰<code>import Core</code> åï¼Œæ— æ³•çœ‹è§ <code>DataLoader</code>ï¼ŒçœŸæ­£åšåˆ°â€œä»“åº“å†…å…±äº«ï¼Œä»“åº“å¤–éš”ç¦»â€ã€‚</p>
<h2 data-id="heading-7">å¸¸è§è¸©å‘ä¸è°ƒè¯•æŠ€å·§</h2>

























<table><thead><tr><th>é”™è¯¯æç¤º</th><th>åŸå› </th><th>è§£å†³</th></tr></thead><tbody><tr><td>Cannot assign to property: â€˜countâ€™ is a get-only property</td><td>ç”¨äº† <code>private(set)</code> å´åœ¨å¤–éƒ¨èµ‹å€¼</td><td>ç§»é™¤ setter é™åˆ¶æˆ–æä¾›å†…éƒ¨ API</td></tr><tr><td>Class cannot be declared public because its superclass is internal</td><td>å­ç±»æ¯”çˆ¶ç±»â€œæ˜¾çœ¼â€</td><td>æå‡çˆ¶ç±»æˆ–é™ä½å­ç±»</td></tr><tr><td>Function cannot be declared internal because its parameter uses a private type</td><td>å‡½æ•°æƒé™ &gt; å‚æ•°æƒé™</td><td>æå‡ç±»å‹æƒé™æˆ–é™ä½å‡½æ•°æƒé™</td></tr></tbody></table>
<h2 data-id="heading-8">æ€»ç»“ä¸å·¥ç¨‹å®è·µå»ºè®®</h2>
<ol>
<li>
<p>å†™æ¡†æ¶å…ˆç”»â€œå¯è§æ€§çŸ©é˜µâ€ï¼šå“ªäº›ç±»éœ€è¦è¢«ç»§æ‰¿ï¼Ÿå“ªäº› API æœªæ¥å¿…é¡»å†»ç»“ï¼Ÿ</p>
<ul>
<li>éœ€è¦è¢«ç»§æ‰¿ â†’ <code>open</code></li>
<li>ä»…è°ƒç”¨ â†’ <code>public</code></li>
<li>ä»“åº“å†…å¤ç”¨ â†’ <code>package</code></li>
<li>æ¨¡å—å†…å¤ç”¨ â†’ <code>internal</code></li>
<li>æ–‡ä»¶å†…å·¥å…· â†’ <code>fileprivate</code></li>
<li>çº¯å†…éƒ¨è¾…åŠ© â†’ <code>private</code></li>
</ul>
</li>
<li>
<p>å…ˆå†™ <code>internal</code>ï¼ŒçœŸæ­£éœ€è¦æš´éœ²æ—¶å†å‡çº§ï¼Œé¿å…â€œè¿‡åº¦å…¬å¼€â€</p>
</li>
<li>
<p>å¯¹<code>private(set)</code>â€œåªè¯»å…¬å¼€â€æ¨¡å¼ä¸Šç˜¾ï¼Œå¯å¤§å¹…å‡å°‘åç»­ Breaking Changeã€‚</p>
</li>
<li>
<p>ç”¨ <code>@testable</code> è€Œéâ€œä¸ºäº†æµ‹è¯•æŠŠ private æ”¹æˆ publicâ€ã€‚</p>
</li>
<li>
<p>å¤§å‹ Package é‡‡ç”¨â€œCore â†’ Service â†’ UIâ€ä¸‰çº§ä¾èµ–ï¼Œé…åˆ <code>package</code> è®¿é—®çº§ï¼Œä¿è¯ä¾èµ–æ–¹å‘æ— ç¯ï¼Œåˆéšè—æ ¸å¿ƒå®ç°ã€‚</p>
</li>
</ol>
<h2 data-id="heading-9">æ‰©å±•åœºæ™¯ï¼šè®¿é—®æ§åˆ¶ + SwiftUI + æ’ä»¶åŒ–æ¶æ„</h2>
<p>SwiftUI çš„ <code>public</code> åˆå§‹åŒ–å™¨ç»å¸¸éœ€è¦æ¥æ”¶â€œä»…å†…éƒ¨ä½¿ç”¨çš„é…ç½®å¯¹è±¡â€ã€‚æ­¤æ—¶å¯ç”¨ç±»å‹æ“¦é™¤ + åè®®æƒé™ç»„åˆï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¯¹å¤–åªèƒ½æ‹¿åˆ°åè®®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">ConfigProtocol</span> {}

<span class="hljs-comment">// å®é™…é…ç½®åœ¨æ¨¡å—å†…</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">RealConfig</span>: <span class="hljs-title class_">ConfigProtocol</span> {
    <span class="hljs-keyword">var</span> apiKey: <span class="hljs-type">String</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MyView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(<span class="hljs-params">config</span>: <span class="hljs-type">ConfigProtocol</span>) { <span class="hljs-operator">...</span> }
}
</code></pre>
<p>App åªèƒ½æŒæœ‰ <code>ConfigProtocol</code>ï¼Œæ— æ³•ç›´æ¥è®¿é—® <code>apiKey</code>ï¼Œå®ç°â€œæ¥å£å…¬å¼€ï¼Œé…ç½®éšè—â€ã€‚</p>
<h2 data-id="heading-10">ä¸€å¥è¯èƒŒä¸‹æ¥</h2>
<p>â€œé«˜â€ä¸èƒ½ä¾èµ–â€œä½â€ï¼Œé»˜è®¤ internal å…ˆå†™ç€ï¼›éœ€è¦å†å‡çº§ï¼Œç»ä¸ä¸€æ­¥åˆ°ä½å…¨ public</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è·¨å›½æ•°ä»“è¿ç§»æœ€ä½³å®è·µ11ã€‘åŸºäº MaxCompute Resource & Quotaç­–ç•¥ä¼˜åŒ–å®ç°èµ„æºç®¡ç†æ€§èƒ½ä¸æˆæœ¬æœ€ä¼˜å¹³è¡¡]]></title>    <link>https://juejin.cn/post/7571815997067411496</link>    <guid>https://juejin.cn/post/7571815997067411496</guid>    <pubDate>2025-11-13T08:30:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571815997067411496" data-draft-id="7571722835659014178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è·¨å›½æ•°ä»“è¿ç§»æœ€ä½³å®è·µ11ã€‘åŸºäº MaxCompute Resource &amp; Quotaç­–ç•¥ä¼˜åŒ–å®ç°èµ„æºç®¡ç†æ€§èƒ½ä¸æˆæœ¬æœ€ä¼˜å¹³è¡¡"/> <meta itemprop="keywords" content="å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-11-13T08:30:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è·¨å›½æ•°ä»“è¿ç§»æœ€ä½³å®è·µ11ã€‘åŸºäº MaxCompute Resource &amp; Quotaç­–ç•¥ä¼˜åŒ–å®ç°èµ„æºç®¡ç†æ€§èƒ½ä¸æˆæœ¬æœ€ä¼˜å¹³è¡¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T08:30:10.000Z" title="Thu Nov 13 2025 08:30:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬ç³»åˆ—æ–‡ç« å°†å›´ç»•ä¸œå—äºšå¤´éƒ¨ç§‘æŠ€é›†å›¢çš„çœŸå®è¿ç§»å†ç¨‹å±•å¼€ï¼Œé€æ­¥æ‹†è§£ BigQuery è¿ç§»è‡³ MaxCompute è¿‡ç¨‹ä¸­çš„å…³é”®æŒ‘æˆ˜ä¸æŠ€æœ¯åˆ›æ–°ã€‚æœ¬ç¯‡ä¸ºç¬¬åä¸€ç¯‡ï¼ŒåŸºäº MaxCompute Resource &amp; Quotaç­–ç•¥ä¼˜åŒ–å®ç°èµ„æºç®¡ç†æ€§èƒ½ä¸æˆæœ¬æœ€ä¼˜å¹³è¡¡ã€‚</p>
<p>æ³¨ï¼šå®¢æˆ·èƒŒæ™¯ä¸ºä¸œå—äºšå¤´éƒ¨ç§‘æŠ€é›†å›¢ï¼Œæ–‡ä¸­ç”¨ GoTerra è¡¨ç¤ºã€‚</p>
<h2 data-id="heading-0">1. èƒŒæ™¯</h2>
<p>GoTerraä½œä¸ºä¸œå—äºšäº’è”ç½‘å¤´éƒ¨ä¼ä¸šï¼Œå…¶ä¸šåŠ¡ç”Ÿæ€è¦†ç›–ç½‘çº¦è½¦ã€ç”µå•†ã€å¤–å–ã€ç‰©æµåŠé‡‘èæ”¯ä»˜ç­‰å¤šä¸ªå‚ç›´é¢†åŸŸï¼Œå†…éƒ¨é‡‡ç”¨å¤šè´¦æˆ·æ¶æ„ï¼ˆ10+ Accountsï¼Œ70+ Projectsï¼‰åŠä¸Šç™¾ä¸ªèµ„æºé¢åº¦ç»„ï¼ˆQuota Groupï¼‰è¿›è¡Œç²¾ç»†åŒ–ç®¡ç†ã€‚åœ¨ä»BigQueryè¿ç§»è‡³é˜¿é‡Œäº‘MaxComputeçš„è¿‡ç¨‹ä¸­ï¼Œå¯¹èµ„æºç®¡ç†çš„æ ¸å¿ƒè¯‰æ±‚åœ¨äºé€šè¿‡æ™ºèƒ½å¼¹æ€§èµ„æºåˆ†é…ç­–ç•¥ï¼ŒåŠ¨æ€é€‚é…ä¸šåŠ¡è´Ÿè½½æ³¢åŠ¨ï¼Œåœ¨æ§åˆ¶æˆæœ¬çš„åŒæ—¶é¿å…èµ„æºç“¶é¢ˆï¼Œå®ç°æ€§èƒ½ä¸æˆæœ¬çš„æœ€ä¼˜å¹³è¡¡ã€‚é¢ä¸´ä»¥ä¸‹æ ¸å¿ƒæŒ‘æˆ˜ï¼š</p>
<p><strong>å¤šä¸šåŠ¡çº¿èµ„æºåè°ƒå¤æ‚</strong></p>
<ul>
<li><strong>è§„æ¨¡åºå¤§</strong>ï¼šè·¨10+ç‹¬ç«‹ä¸šåŠ¡å•å…ƒï¼ˆAccountï¼‰ï¼Œæ¶‰åŠ70+é¡¹ç›®ï¼ˆProjectï¼‰ï¼Œéœ€åˆ›å»º100+èµ„æºé¢åº¦ç»„ï¼ˆQuota Groupï¼‰ï¼Œèµ„æºç®¡ç†é¢—ç²’åº¦æç»†ã€‚</li>
<li><strong>èµ„æºé¢„ç•™æˆæœ¬å‹åŠ›</strong>ï¼šæ¯ä¸ªQuota Groupéœ€æŒ‰é…ç½®é¢„ç•™èµ„æºï¼ˆCUï¼‰ï¼Œé¢„ä»˜è´¹æ¨¡å¼ä¸‹èµ„æºé—²ç½®ä¸æˆæœ¬æ§åˆ¶éš¾ä»¥å¹³è¡¡ã€‚</li>
</ul>
<p><strong>è®¡è´¹æ¨¡å¼å·®å¼‚å¸¦æ¥çš„ä¸ç¡®å®šæ€§</strong></p>
<ul>
<li><strong>MaxCompute</strong>ï¼šé¢„ä»˜è´¹CU + å®šæ—¶å¼¹æ€§èµ„æºæ¨¡å¼ï¼Œè¿ç§»å‰ç¼ºä¹å†å²æ•°æ®æ”¯æ’‘ï¼Œæ— æ³•ç²¾å‡†é¢„ä¼°æ‰€éœ€CUé‡ï¼Œå­˜åœ¨èµ„æºé¢„ç•™ä¸è¶³ï¼ˆæ€§èƒ½ç“¶é¢ˆï¼‰æˆ–è¿‡åº¦é…ç½®ï¼ˆæˆæœ¬æµªè´¹ï¼‰çš„åŒé‡é£é™©</li>
</ul>
<p><strong>å¤šç±»å‹ä½œä¸šèµ„æºéœ€æ±‚å†²çª</strong></p>
<ul>
<li><strong>ETLä½œä¸š</strong>ï¼šéœ€ä¿éšœ1å°æ—¶å†…å®Œæˆæµ·é‡æ•°æ®å¤„ç†ï¼Œä¾èµ–é«˜ååè®¡ç®—èµ„æºã€‚</li>
<li><strong>BIä½œä¸š</strong>ï¼šè¦æ±‚10-15åˆ†é’Ÿä½å»¶è¿Ÿå“åº”ï¼Œéœ€å¿«é€Ÿåˆ†é…ä¸´æ—¶èµ„æºã€‚</li>
<li><strong>å¹¶å­˜æŒ‘æˆ˜</strong>ï¼šé•¿å‘¨æœŸETLä¸çŸ­å‘¨æœŸBIä½œä¸šå…±äº«èµ„æºæ± ï¼Œå¦‚ä½•åŠ¨æ€è°ƒåº¦ä»¥é¿å…èµ„æºäº‰æŠ¢ã€åŒæ—¶æ»¡è¶³ä¸åŒSLAï¼ˆæœåŠ¡ç­‰çº§åè®®ï¼‰ï¼Œæˆä¸ºæ€§èƒ½ä¸æˆæœ¬å¹³è¡¡çš„å…³é”®éš¾é¢˜ã€‚</li>
</ul>
<h2 data-id="heading-1">2. Resource Advisorå’ŒTopN Fair</h2>
<h3 data-id="heading-2">2.1. Resource Advisor</h3>
<h4 data-id="heading-3">2.1.1. æ ¸å¿ƒæŒ‘æˆ˜</h4>
<p><strong>èµ„æºé¢„ä¼°éš¾é¢˜:</strong></p>
<ul>
<li>è®¡è´¹æ¨¡å¼å·®å¼‚</li>
<li>ä½œä¸šç±»å‹å¤æ‚</li>
</ul>
<p><strong>å¤šä¸šåŠ¡å®ä½“ç®¡ç†ï¼Œæ¯ä¸ªä¸šåŠ¡å®ä½“éœ€ç‹¬ç«‹é˜¿é‡Œäº‘è´¦å·ï¼ŒSLAè¦æ±‚ä¸åŒï¼Œå¯¼è‡´èµ„æºè´­ä¹°é‡é¢„æœŸä¸ä¸€è‡´ï¼š</strong></p>
<ul>
<li>è¶…ä¹°ï¼šèµ„æºé—²ç½®æµªè´¹ï¼ŒæŒ¤å é›†ç¾¤å®¹é‡</li>
<li>å°‘ä¹°ï¼šä½œä¸šå †ç§¯ï¼Œç­‰èµ„æºæ—¶é—´é•¿ï¼Œå½±å“ä¸šåŠ¡æ•°æ®äº§å‡º</li>
</ul>
<p>å¦‚ä½•åœ¨æ§åˆ¶æˆæœ¬çš„å‰æä¸‹ï¼ŒåŠ¨æ€é€‚é…ä¸šåŠ¡è´Ÿè½½æ³¢åŠ¨ï¼Œé¿å…èµ„æºç“¶é¢ˆ</p>
<h4 data-id="heading-4">2.1.2. åˆ†å±‚èµ„æºé…ç½®ç­–ç•¥</h4>





























<table><thead><tr><th>èµ„æºé…ç½®</th><th>ç”¨é€”</th><th>é…ç½®åŸåˆ™</th><th>è®¡è´¹</th></tr></thead><tbody><tr><td>é¢„ä»˜è´¹CU</td><td>ä¿éšœå…¨å¤©å€™åŸºçº¿èµ„æºéœ€æ±‚ï¼Œè¦†ç›–æ—¥å¸¸ç¨³å®šè´Ÿè½½</td><td>åŸºäºå†å²æ—¥å‡è´Ÿè½½çš„80%-90%é¢„è´­CUé€‚ç”¨äºETLç±»å‘¨æœŸæ€§ä½œä¸šï¼ˆå¦‚æ¯æ—¥å®šæ—¶æ‰¹å¤„ç†ï¼‰ã€‚</td><td>æŒ‰è´­ä¹°é‡è®¡è´¹ï¼Œ24hé¢„ç•™ï¼Œè®¡è´¹æ—¶é—´24h</td></tr><tr><td>å®šæ—¶å¼¹æ€§CU(Adhoc)</td><td>é€‚ç”¨äºå¯é¢„æµ‹çš„è´Ÿè½½æ³¢åŠ¨ï¼ˆå¦‚BIæŠ¥è¡¨æ¯æ—¥ä¸Šåˆé›†ä¸­æ‰§è¡Œï¼‰</td><td>åœ¨ä¸šåŠ¡é«˜å³°æœŸï¼ˆå¦‚æ—©æ™šé«˜å³°ï¼‰è‡ªåŠ¨æ‰©å®¹èµ„æºï¼Œå³°å€¼åé‡Šæ”¾</td><td>æŒ‡å®šæ—¶é—´è®¡è´¹æŒ‰è´­ä¹°é‡è®¡è´¹ï¼ŒæŒ‡å®šæ—¶é—´é¢„ç•™</td></tr><tr><td>AutoScaleQuota</td><td>åº”å¯¹çªå‘BIä½œä¸šæµé‡</td><td>é¢„ä¼°çªå‘æµé‡å³°å€¼ï¼Œé…ç½®å¼¹æ€§ä¸Šé™</td><td>åŠ¨æ€ç›‘æ§å®æ—¶èµ„æºåˆ©ç”¨ç‡ï¼Œè§¦å‘è‡ªåŠ¨æ‰©ç¼©å®¹ã€‚è¶…å‡ºé¢„ä»˜è´¹CU+Adhoc CUéƒ¨åˆ†æŒ‰åˆ†é’Ÿçº§è®¡è´¹ï¼Œé¿å…çªå‘æµé‡å¯¼è‡´çš„èµ„æºä¸è¶³</td></tr></tbody></table>
<p>å…¶ä¸­AutoScaleQuotaæ˜¯åº”å¯¹GoTerraè¿ç§»åœºæ™¯æ–°å¢çš„äº§å“ç±»å‹ï¼Œè§£å†³è¿ç§»è¿‡ç¨‹ä¸­ï¼Œä¸šåŠ¡èµ„æºéœ€æ±‚å˜åŒ–å¿«ï¼Œä½œä¸šæ€§èƒ½è¦æ±‚é«˜çš„éœ€æ±‚ï¼š</p>
<p>åˆ†å±‚é…ç½®ç­–ç•¥ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p><strong>çµæ´»ç»„åˆ</strong>ï¼šæ”¯æŒé¢„ä»˜è´¹ã€åˆ†æ—¶å¼¹æ€§ä¸è‡ªåŠ¨å¼¹æ€§ä»»æ„æ­é…ï¼Œæ»¡è¶³ä¸åŒä¸šåŠ¡åœºæ™¯çš„é™æœ¬å¢æ•ˆéœ€æ±‚</p>
</li>
<li>
<p><strong>æè‡´æˆæœ¬</strong>ï¼šè‡ªåŠ¨å¼¹æ€§éƒ¨åˆ†ï¼ŒæŒ‰å®é™…ä½¿ç”¨é‡è®¡è´¹ï¼›ç›¸æ¯”æ‰©ç¼©æ§½ç­‰é¢„ç•™ä»˜è´¹æ¨¡å¼æ›´åŠ ç»æµå®æƒ </p>
</li>
<li>
<p><strong>å¼€ç®±å³ç”¨</strong>ï¼šåŸºäºè´Ÿè½½æ„ŸçŸ¥çš„è‡ªåŠ¨å¼¹æ€§æ‰©ç¼©å®¹ï¼Œé…ç½®ç®€å•</p>
</li>
<li>
<p><strong>ç§’çº§å¼¹æ€§</strong>ï¼šå¯¹æ¯”BigQueryé™åˆ¶æ‰©ç¼©å®¹æ­¥é•¿å’Œçª—å£æœŸï¼ŒMaxComputeæ›´åŠ çµæ´»åŠæ—¶</p>
</li>
<li>
<p><strong>èµ„æºç¨³å®š</strong>ï¼šåŸºäºå†å²æ•°æ®å’Œé¢„æµ‹æ¨¡å‹è¿›è¡Œèµ„æºè°ƒåº¦ä¼˜åŒ–ï¼Œä¿éšœå¼¹æ€§åº“å­˜ä¾›ç»™</p>
</li>
</ul>
<h4 data-id="heading-5">2.1.3. æ™ºèƒ½èµ„æºæ¨èä¸å¼¹æ€§é…ç½®</h4>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/jpeg/27030/1755447893739-4d81b9fc-e3c2-443f-88ec-b41693951a22.jpeg" alt="img" loading="lazy"/></p>
<p>èµ„æºæ¨èå·¥å…·ï¼ˆT+1åŠ¨æ€è°ƒä¼˜ï¼‰</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p>
<ul>
<li>åŸºäºå†å²æ•°æ®çš„ä½œä¸šè¿è¡Œæ—¥å¿—ä¸èµ„æºæ¶ˆè€—ï¼Œç»“åˆä½œä¸šç±»å‹ï¼ˆETL/BIï¼‰çš„SLAè¦æ±‚ï¼Œé¢„æµ‹æ¬¡æ—¥CUéœ€æ±‚ã€‚</li>
</ul>
<p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
<ul>
<li>æ•°æ®é‡‡é›†ï¼šæŠ“å–ä½œä¸šè¿è¡Œæ—¶é•¿ã€CPU/å†…å­˜æ¶ˆè€—ã€å¹¶å‘åº¦ç­‰æŒ‡æ ‡ã€‚</li>
<li>ä½œä¸šåˆ†ç±»æ¨¡å‹ï¼šè‡ªåŠ¨è¯†åˆ«ETL/BIä½œä¸šã€‚</li>
</ul>
<p><strong>èµ„æºé¢„æµ‹ç®—æ³•ï¼š</strong></p>
<ul>
<li>çº¿æ€§å›å½’ï¼šåŸºäºå†å²èµ„æºæ¶ˆè€—è¶‹åŠ¿é¢„æµ‹åŸºçº¿éœ€æ±‚ã€‚</li>
<li>å¼¹æ€§ç¼“å†²ï¼šæ ¹æ®ä¸šåŠ¡æ³¢åŠ¨ç‡å¢åŠ 10%-20%å†—ä½™é‡ã€‚</li>
<li>åé¦ˆä¼˜åŒ–ï¼šæ¯æ—¥å¯¹æ¯”å®é™…èµ„æºæ¶ˆè€—ä¸é¢„æµ‹å€¼ï¼ŒåŠ¨æ€è°ƒæ•´æ¨¡å‹å‚æ•°ã€‚</li>
</ul>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2025/png/27030/1755447804209-897f84f9-8a75-4172-a4d7-dbadc8e06fcd.png" alt="img" loading="lazy"/></p>
<h4 data-id="heading-6">2.1.4. æ¨èæ•ˆæœ</h4>
<p>GoTerraè¿å…¥MaxComputeè¿‡ç¨‹ä¸­ï¼ŒMaxComputeè¿›è¡Œäº†æ·±åº¦æ¶æ„å‡çº§å’Œæ€§èƒ½ä¼˜åŒ–ï¼ŒåŒæ—¶åœ¨åˆç†çš„èµ„æºé…ç½®è§„åˆ’ä¸‹ï¼Œæ ¹æ®ç”¨æˆ·å†å²ä½œä¸šæ•°æ®å®šæœŸæ¨èç”¨æˆ·Quotaç»„é…ç½®å’Œç­–ç•¥ï¼Œæ¯æœˆå®é™…äº§ç”Ÿè´¹ç”¨çº¦é™ä½åˆ°BigQueryçš„42%ã€‚</p>
<h3 data-id="heading-7">2.2. TopN Fair</h3>
<h4 data-id="heading-8">2.2.1. ç°æœ‰è°ƒåº¦ç­–ç•¥å±€é™æ€§</h4>

























<table><thead><tr><th/><th>FIFO</th><th>FAIR</th></tr></thead><tbody><tr><td>è°ƒåº¦ç­–ç•¥è¯´æ˜</td><td>å¯¹äºä½œä¸šä¼˜å…ˆçº§ç›¸åŒçš„åœºæ™¯ï¼Œèµ„æºå°†ä¼˜å…ˆåˆ†é…è‡³å…ˆæäº¤çš„ä½œä¸šã€‚å¯¹äºä½œä¸šä¼˜å…ˆçº§ä¸åŒçš„åœºæ™¯ï¼Œå³ä½¿ä¼˜å…ˆçº§é«˜çš„ä½œä¸šæäº¤æ—¶é—´æ™šäºä¼˜å…ˆçº§ä½çš„ä½œä¸šï¼Œèµ„æºä¹Ÿå°†ä¼˜å…ˆåˆ†é…è‡³é«˜ä¼˜å…ˆçº§ä½œä¸šã€‚</td><td>å¯¹äºä½œä¸šä¼˜å…ˆçº§ç›¸åŒçš„åœºæ™¯ï¼Œèµ„æºå°†å¹³å‡åˆ†é…è‡³åŒä¸€æ—¶é—´æäº¤çš„æ‰€æœ‰ä½œä¸šã€‚å¯¹äºä½œä¸šä¼˜å…ˆçº§ä¸åŒçš„åœºæ™¯ï¼Œèµ„æºä¼˜å…ˆå¹³å‡åˆ†é…ç»™ä¼˜å…ˆçº§è¾ƒé«˜çš„ä½œä¸šï¼Œè‹¥æœ‰å‰©ä½™ï¼Œå†å¹³å‡åˆ†é…ç»™ä¼˜å…ˆçº§è¾ƒä½çš„ä½œä¸š</td></tr><tr><td>ä¼˜ç‚¹&amp;é€‚ç”¨åœºæ™¯</td><td>ä¿éšœå…ˆæäº¤çš„ä½œä¸šä¼˜å…ˆæ‰§è¡Œï¼Œé€‚åˆETLç±»é•¿æ—¶é—´ä»»åŠ¡</td><td>èµ„æºå‡åˆ†ç»™æœ€é«˜ä¼˜å…ˆçº§çš„æ‰€æœ‰ä½œä¸šï¼Œé€‚åˆçŸ­æ—¶BIä»»åŠ¡</td></tr><tr><td>ç¼ºç‚¹</td><td>å°ä½œä¸šéœ€ç­‰å¾…é•¿ä½œä¸šå®Œæˆï¼Œå¯¼è‡´å»¶è¿Ÿï¼ˆâ€œå¤´é˜»å¡â€)</td><td>å…ˆæäº¤çš„ä½œä¸šå¯èƒ½å› èµ„æºè¢«å¹³åˆ†èµ°è€Œå»¶é•¿æ‰§è¡Œæ—¶é—´</td></tr></tbody></table>
<p>GOTOä¸šåŠ¡éœ€æ±‚</p>
<p><strong>æ··åˆè´Ÿè½½åœºæ™¯ï¼šETLï¼ˆé•¿ä½œä¸šï¼‰ä¸BIï¼ˆçŸ­ä½œä¸šï¼‰å¹¶å­˜</strong></p>
<p><strong>æ ¸å¿ƒè¯‰æ±‚ï¼š</strong></p>
<ul>
<li>é•¿ä½œä¸šä¼˜å…ˆï¼šå…ˆæäº¤çš„ETLä½œä¸šéœ€ä¿éšœè¶³å¤Ÿå¹¶å‘èµ„æº</li>
<li>çŸ­ä½œä¸šå‹å¥½ï¼šåæäº¤çš„BIä½œä¸šå¯çŸ­æ—¶å€Ÿç”¨èµ„æºï¼Œä½†ä¸æ˜¾è‘—å½±å“é•¿ä½œä¸šè¿›åº¦</li>
</ul>
<h4 data-id="heading-9">2.2.2. æ–°ç­–ç•¥ï¼šTopN Fair + åŠ¨æ€å¹¶å‘ä¿éšœ</h4>
<h6 data-id="heading-10">2.2.2.1. æ ¸å¿ƒè®¾è®¡ç›®æ ‡</h6>
<ul>
<li>èµ„æºéš”ç¦»ï¼šç¡®ä¿é•¿ä½œä¸šçš„æœ€ä½å¹¶å‘åº¦ï¼ˆJobMinimumConcurrencyï¼‰ã€‚</li>
<li>å¼¹æ€§èµ„æºå¤ç”¨ï¼šåœ¨æ»¡è¶³é•¿ä½œä¸šçš„å‰æä¸‹ï¼Œå…è®¸Quotaç»„ä¿ç•™éƒ¨åˆ†èµ„æºç»™çŸ­ä½œä¸šåŠ¨æ€å€Ÿç”¨ã€‚</li>
<li>ä¼˜å…ˆçº§åˆ†å±‚ï¼šç»“åˆä½œä¸šç±»å‹ï¼ˆETL/BIï¼‰å’Œæäº¤æ—¶é—´ï¼Œå®ç°æ··åˆè°ƒåº¦ã€‚</li>
</ul>
<h6 data-id="heading-11">2.2.2.2. å…³é”®å‚æ•°å®šä¹‰</h6>
<ul>
<li>JobMinimumConcurrencyï¼ˆæœ€ä½å¹¶å‘åº¦ï¼‰ï¼š</li>
<li>æ¯ä¸ªä½œä¸šè¿è¡Œæ‰€éœ€çš„æœ€å°å¹¶å‘åº¦ã€‚</li>
<li>å…¨å±€é…ç½®é¡¹ï¼Œä¾‹å¦‚ï¼šJobMinimumConcurrency=10 è¡¨ç¤ºæ¯ä¸ªä½œä¸šè‡³å°‘åˆ†é…10ä¸ªå¹¶å‘å•å…ƒã€‚</li>
<li>TopN Fairç­–ç•¥ï¼š</li>
<li>TopNä½œä¸šï¼šæŒ‰æäº¤æ—¶é—´æ’åºï¼Œåœ¨è‡³å°‘ä¿éšœæ¯ä¸ªä½œä¸šJobMinimumConcurrencyå¹¶å‘åº¦çš„æƒ…å†µä¸‹ï¼ŒæŒ‘é€‰å‰Nä¸ªä½œä¸šåˆ†é…Quotaç»„èµ„æº</li>
</ul>
<h6 data-id="heading-12">2.2.2.3. <strong>åŠ¨æ€Nå€¼è®¡ç®—å…¬å¼</strong></h6>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/__latex/0a5ab9849511b050a1193e319fef1a95.svg" alt="img" loading="lazy"/></p>
<p>è®¡ç®—å‡ºNï¼Œå¦‚æœ<img src="https://intranetproxy.alipay.com/skylark/lark/__latex/1b75d0123aca04d79d5f853ed77b7409.svg" alt="img" loading="lazy"/>ï¼Œåˆ™<img src="https://intranetproxy.alipay.com/skylark/lark/__latex/2e5e940745bf407dc626f3a83aaf3e1d.svg" alt="img" loading="lazy"/></p>
<p>ç¬¦å·è§£é‡Šï¼š</p>
<ul>
<li><img src="https://intranetproxy.alipay.com/skylark/lark/__latex/246dc4d855e50ae1dc924cc0a7d9c7d8.svg" alt="img" loading="lazy"/>ï¼šç¬¬iä¸ªä½œä¸šçš„èµ„æºéœ€æ±‚ï¼ˆå¦‚CPUæ ¸æ•°ã€å†…å­˜ï¼‰ã€‚</li>
<li>Runtimeï¼šQuotaç»„å½“å‰å¯ç”¨çš„èµ„æºé‡</li>
<li><img src="https://intranetproxy.alipay.com/skylark/lark/__latex/32ffe6a546bdc55dc0a2d71bb0929934.svg" alt="img" loading="lazy"/>ï¼šå½“å‰æœ€å°‘å¯å‚ä¸èµ„æºåˆ†é…çš„ä½œä¸šæ•°</li>
</ul>
<p>å…¬å¼å«ä¹‰ï¼š
åŠ¨æ€è®¡ç®—Nå€¼ï¼Œç¡®ä¿å‰Nä¸ªä½œä¸šçš„ç´¯è®¡èµ„æºéœ€æ±‚ä¸è¶…è¿‡Quotaç»„æ€»å®¹é‡çš„JobMinimumConcurrencyå€ï¼Œä¸”è‡³å°‘ä¿éšœ<img src="https://intranetproxy.alipay.com/skylark/lark/__latex/32ffe6a546bdc55dc0a2d71bb0929934.svg" alt="img" loading="lazy"/>ä¸ªä½œä¸šå‚ä¸èµ„æºåˆ†é…ï¼Œé¿å…å°‘é‡ä½œä¸šå æ»¡æ•´ä¸ªç»„ï¼›</p>
<h4 data-id="heading-13">2.2.3. ç­–ç•¥ä¼˜åŠ¿</h4>





























<table><thead><tr><th>ç»´åº¦</th><th>FIFO</th><th>FAIR</th><th>TopN Fair + çŸ­ä½œä¸šæ’é˜Ÿ</th></tr></thead><tbody><tr><td>é•¿ä½œä¸šä¿éšœ</td><td>å¼º</td><td>å¼±</td><td>å¼º</td></tr><tr><td>çŸ­ä½œä¸šæ”¯æŒ</td><td>å·®</td><td>å¼º</td><td>å¼º</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>ETL</td><td>BI</td><td>ETL+BIæ··åˆåœºæ™¯</td></tr></tbody></table>
<h4 data-id="heading-14">2.2.4. å®é™…æ•ˆæœ</h4>
<p>æ•´é›†ç¾¤ä½œä¸šå¹³å‡è¿è¡Œæ•°ä¸‹é™15.7%ï¼Œä½œä¸šè¿è¡Œæ—¶Latency 95åˆ†ä½å€¼ä¸‹é™45.7%ï¼ŒGoTerraç”¨æˆ·çš„æ•ˆæœè¾ƒå¥½çš„Quotaç»„ï¼Œä½œä¸šå¹³å‡è¿è¡Œæ•°ä¸‹é™31.3%, ä½œä¸šè¿è¡Œæ—¶Latency 95åˆ†ä½å€¼ä¸‹é™75.4%ã€‚</p>
<h2 data-id="heading-15">3. ç»“è¯­ä¸å±•æœ›</h2>
<p>GoTerraè¿ç§»åˆ°MaxComputeåï¼ŒResource AdvisoræŒç»­é€šè¿‡æ™ºèƒ½èµ„æºæ¨èä¼˜åŒ–æˆæœ¬ï¼Œç›®æ ‡å°†æ€»ä½“è´¹ç”¨æ§åˆ¶åœ¨BigQueryçš„40%ä»¥å†…ã€‚éšç€æ–°äº§å“AutoScaleQuotaä¸Šçº¿ï¼Œèµ„æºç®¡ç†å®ç°å…¨è‡ªåŠ¨åŒ–ï¼šåŸºäºä¸šåŠ¡è´Ÿè½½åŠ¨æ€è°ƒæ•´é…é¢ï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼Œå½»åº•è§£å†³çªå‘æµé‡å¯¼è‡´çš„èµ„æºä¸è¶³ä¸ä½œä¸šç­‰å¾…é—®é¢˜ã€‚åŒæ—¶ï¼ŒTopN Fairå·²åœ¨å°å°¼é›†ç¾¤å…¨é¢ä¸Šçº¿ï¼Œåç»­çš„å‘å±•æ–¹å‘ï¼šåˆ†æå„Quotaç»„ä½œä¸šæ‰§è¡Œæ¨¡å¼ï¼Œè‡ªåŠ¨é…ç½®JobMinimumConcurrencyå¹¶åŠ¨æ€åˆ‡æ¢è°ƒåº¦ç­–ç•¥ï¼Œè¿›ä¸€æ­¥æå‡èµ„æºåˆ©ç”¨ç‡ã€‚</p>
<p>åœ¨æ€§èƒ½ä¸æˆæœ¬ä¼˜åŒ–çš„åŸºç¡€ä¸Šï¼Œç¨³å®šæ€§ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®æ ‡ï¼Œç³»ç»Ÿç¨³å®šæ€§ç›®æ ‡è¾¾99.99%å¯ç”¨æ€§ï¼Œä¿éšœGoTerraåœ¨MaxComputeä¸Šå®ç°â€œä½æˆæœ¬ã€é«˜æ•ˆç‡ã€å¼ºç¨³å®šâ€çš„è¿è¡Œä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”Ÿäº§ç¯å¢ƒSourcemapç­–ç•¥ï¼šä»è‹¹æœäº‹æ•…çœ‹å‰ç«¯æ„å»ºå®‰å…¨æ¶æ„è®¾è®¡]]></title>    <link>https://juejin.cn/post/7571808096937705513</link>    <guid>https://juejin.cn/post/7571808096937705513</guid>    <pubDate>2025-11-13T13:42:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571808096937705513" data-draft-id="7569064516920524834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”Ÿäº§ç¯å¢ƒSourcemapç­–ç•¥ï¼šä»è‹¹æœäº‹æ•…çœ‹å‰ç«¯æ„å»ºå®‰å…¨æ¶æ„è®¾è®¡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-13T13:42:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€å°å’"/> <meta itemprop="url" content="https://juejin.cn/user/1943592286564045"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”Ÿäº§ç¯å¢ƒSourcemapç­–ç•¥ï¼šä»è‹¹æœäº‹æ•…çœ‹å‰ç«¯æ„å»ºå®‰å…¨æ¶æ„è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592286564045/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€å°å’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T13:42:25.000Z" title="Thu Nov 13 2025 13:42:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ å¯¹ React æºç è§£ææ„Ÿå…´è¶£ï¼Œæ¬¢è¿è®¿é—®æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·- ã€å‰ç«¯å°å’ã€‘</p>
<p>åœ¨æˆ‘çš„åšå®¢ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ°ï¼š</p>
<p>ğŸ” å®Œæ•´çš„ React æºç è§£æç”µå­ä¹¦ - ä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§å®ç°ï¼Œå…¨é¢è¦†ç›– React 19 çš„æ ¸å¿ƒæœºåˆ¶
ğŸ“– ç³»ç»ŸåŒ–çš„å­¦ä¹ è·¯å¾„ - æŒ‰ç…§ React çš„æ‰§è¡Œæµç¨‹ï¼Œå¾ªåºæ¸è¿›åœ°æ·±å…¥æ¯ä¸ªæ¨¡å—
ğŸ’¡ å®æˆ˜æ¡ˆä¾‹åˆ†æ - ç»“åˆçœŸå®åœºæ™¯ï¼Œç†è§£ React è®¾è®¡æ€æƒ³å’Œæœ€ä½³å®è·µ
ğŸš€ æœ€æ–°æŠ€æœ¯åŠ¨æ€ - æŒç»­æ›´æ–° React æ–°ç‰¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e03cb80d7f8846ac92a4e5c569685655~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LiA5bCP5Y2S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763646145&amp;x-signature=kY7U4dLC0d9FOiz0zfdCE81ypNQ%3D" alt="wechat.png" loading="lazy"/></p>
<p>å°±åœ¨è¿™ä¸ªæœˆï¼Œ<strong>2025å¹´11æœˆ3æ—¥</strong>ï¼Œè‹¹æœä¸Šçº¿çš„å…¨æ–° <code>apps.apple.com</code> ä¸Šæ¼”äº†ä¸€åœºP0çº§çš„â€œæºç è£¸å¥”â€äº‹æ•…ã€‚ä½¿ç”¨ Svelteå¼€å‘çš„åº”ç”¨ï¼Œç«Ÿç„¶<strong>å¿˜è®°äº†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç§»é™¤ Sourcemap é…ç½®</strong>ã€‚</p>
<p><strong>è¿™æ„å‘³ç€ä»€ä¹ˆï¼</strong></p>
<p>å…¨çƒä»»ä½•ä¸€ä¸ªäººå¯ä»¥æ‰“å¼€æµè§ˆå™¨çš„DevToolsï¼Œ<strong>å°±èƒ½å¤Ÿçœ‹åˆ°å¹¶ä¸”è·å–è‹¹æœæœªç»å‹ç¼©ã€å¸¦æ³¨é‡Šã€ç»“æ„æ¸…æ™°ã€åŠŸèƒ½å®Œå¤‡çš„å‰ç«¯æºç </strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8e2d8f831b84edab63f89da60a85acb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5LiA5bCP5Y2S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763646145&amp;x-signature=2Av53RYWAt3Pq1D2KD%2Fw75RIwQU%3D" alt="G44vIqfWYAAq6Ab.jpeg" loading="lazy"/></p>
<p>ä¸ºä½•ä¸€ä¸ªç”Ÿäº§ä»£ç ï¼Œä¼šå¦‚æ­¤â€œè£¸å¥”â€ï¼Ÿè€Œè¿™ä¸ªç­”æ¡ˆç›´æŒ‡ä¸€ä¸ªè¢«é”™è¯¯é…ç½®çš„æ–‡ä»¶â€”â€”<code>Sourcemap</code>ã€‚</p>
<p>å°½ç®¡ä½œä¸ºä¸€åä¸šåŠ¡å‰ç«¯ï¼Œåœ¨å„ç§åœºæ‰€è‡ªå˜²ï¼šå‰ç«¯ä¸šåŠ¡ä»£ç æ²¡æœ‰ä»·å€¼ï¼Œè¿œç¦»ä¸šåŠ¡æ ¸å¿ƒã€‚ä½†è¿™ä¸å¹¶ç­‰äºå‰ç«¯ä»£ç å¯ä»¥è£¸å¥”ï¼Œå°†å¯èƒ½å­˜åœ¨çš„å¯†é’¥ã€ä¸šåŠ¡é€»è¾‘ã€åç«¯APIåœ°å€èµ¤è£¸è£¸çš„æ”¾åœ¨å…¬ä¼—é¢å‰ã€‚</p>
<p>æœ¬æ–‡å°†ä»è¿™èµ·æœ€æ–°çš„â€œæ³„ç â€äº‹ä»¶å‡ºå‘ï¼Œæ·±å…¥Sourcemapçš„åº•å±‚åŸç†ï¼Œå½»åº•ææ‡‚è¿™ä¸ª <code>Sourcemap</code>ã€‚</p>
<h3 data-id="heading-0">ä»€ä¹ˆæ˜¯ Sourcemapï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</h3>
<p>åœ¨ç°ä»£å‰ç«¯å·¥ä½œæµä¸­ï¼Œæˆ‘ä»¬å†™çš„ <code>src/index.js</code> å¹¶ä¸èƒ½ç›´æ¥åœ¨æµè§ˆå™¨è¿è¡Œã€‚å®ƒéœ€è¦ç»è¿‡ä¸€ç³»åˆ—å¤„ç†ï¼š</p>
<ol>
<li><strong>è½¬æ¢ï¼ˆTranspilingï¼‰ï¼š</strong> Babel å°† ES-Next/TS/JSX -&gt; ç›®æ ‡æµè§ˆå™¨æ”¯æŒçš„ ES ç‰ˆæœ¬ã€‚</li>
<li><strong>æ‰“åŒ…ï¼ˆBundlingï¼‰ï¼š</strong> Webpack æˆ– Vite å°†ä¸Šç™¾ä¸ªæ¨¡å—æ–‡ä»¶åˆå¹¶æˆå°‘æ•°å‡ ä¸ªæ–‡ä»¶ã€‚</li>
<li><strong>å‹ç¼©ï¼ˆMinifyingï¼‰ï¼š</strong> Terser æˆ– UglifyJS å°†ä»£ç ä¸­çš„ç©ºæ ¼ã€æ¢è¡Œã€æ³¨é‡Šå…¨éƒ¨åˆ é™¤ï¼Œå¹¶å°†å˜é‡åæ›¿æ¢ä¸º <code>a</code>, <code>b</code>, <code>c</code> ç­‰çŸ­å­—ç¬¦ã€‚</li>
</ol>
<p>é€šè¿‡è¿™æ ·å¤„ç†ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ›´å°çš„æ–‡ä»¶ä½“ç§¯ã€æ›´å°‘çš„HTTPè¯·æ±‚ä»¥åŠç›¸å¯¹ä»£ç å®‰å…¨ï¼ˆæé«˜äº†æºç çš„é˜…è¯»é—¨æ§›ï¼‰</p>
<p><strong>ä½†è¿™å¸¦æ¥äº†å·¨å¤§çš„â€œç—›ç‚¹â€ï¼š</strong></p>
<p>å½“æˆ‘ä»¬çº¿ä¸Šä»£ç å‡ºç°é—®é¢˜æŠ¥é”™æ—¶ï¼Œåœ¨ç›‘æ§å¹³å°æ”¶åˆ°çš„é”™è¯¯å¼‚å¸¸ä¿¡æ¯å¾€å¾€æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">TypeError: <span class="hljs-function">Cannot read properties of <span class="hljs-title">undefined</span> <span class="hljs-params">(reading <span class="hljs-string">'a'</span>)</span>
    at e.t.<span class="hljs-title">a</span> <span class="hljs-params">(app.chunk<span class="hljs-number">.8</span>efda.min.js:<span class="hljs-number">1</span>:<span class="hljs-number">1053</span>)</span>
</span></code></pre>
<p>è¿™ä¸ªä¿¡æ¯æ¯«æ— æ„ä¹‰ã€‚ä½ å®Œå…¨ä¸çŸ¥é“ <code>app.chunk.8efda.min.js</code> æ–‡ä»¶çš„ç¬¬1è¡Œç¬¬1053åˆ—ï¼Œå¯¹åº”çš„æ˜¯æºä»£ç ä¸­å“ªä¸€è¡Œä»£ç ï¼Œå¾€å¾€åªèƒ½å‡­ç›´è§‰+è¿è’™å¸¦çŒœã€‚</p>
<p><strong>Sourcemap å°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚</strong></p>
<p>å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ <code>.map</code> json æ–‡ä»¶ï¼Œç²¾ç¡®åœ°ç»´æŠ¤ç€â€œæºç â€å’Œâ€œç”Ÿäº§ä»£ç â€œä¹‹é—´çš„æ˜ å°„å…³ç³»</p>
<p>å½“æµè§ˆå™¨ï¼ˆæˆ–Sentryç­‰å¼‚å¸¸ç›‘æ§å¹³å°ï¼‰æ‹¿åˆ°æŠ¥é”™ä¿¡æ¯æ—¶ï¼Œå®ƒä¼šæŸ¥æ‰¾å¯¹åº”çš„ <code>.map</code> æ–‡ä»¶ï¼Œç„¶åå®šä½åˆ°çœŸæ­£çš„é”™è¯¯ä½ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">TypeError: Cannot <span class="hljs-built_in">read</span> properties of undefined (reading <span class="hljs-string">'user'</span>)
    at fetchUser (src/components/user.ts:58:12)
</code></pre>
<h3 data-id="heading-1">è§£å‰– <code>.map</code> æ–‡ä»¶</h3>
<p>Sourcemap çš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ª JSON æ–‡ä»¶ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®ƒæœ€ç®€å•çš„ç»“æ„ï¼š</p>
<p>JSON</p>
<pre><code class="hljs language-swift" lang="swift">{
  <span class="hljs-string">"version"</span>: <span class="hljs-number">3</span>,
  <span class="hljs-string">"file"</span>: <span class="hljs-string">"bundle.min.js"</span>,
  <span class="hljs-string">"sourceRoot"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-string">"sources"</span>: [<span class="hljs-string">"src/index.js"</span>, <span class="hljs-string">"src/utils.js"</span>],
  <span class="hljs-string">"names"</span>: [<span class="hljs-string">"add"</span>, <span class="hljs-string">"MAGIC_NUMBER"</span>, <span class="hljs-string">"subtract"</span>],
  <span class="hljs-string">"sourcesContent"</span>: [
    <span class="hljs-string">"import { add } from './utils.js';<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>console.log(add(5, MAGIC_NUMBER));"</span>,
    <span class="hljs-string">"export const MAGIC_NUMBER = 7;<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>export const add = (a, b) =&gt; a + b;<span class="hljs-subst">\n</span>export const subtract = (a, b) =&gt; a - b;"</span>
  ],
  <span class="hljs-string">"mappings"</span>: <span class="hljs-string">"AAAA,SAASA,IAAI,QAAQ,cACpB,QAAQC,cAAc,EACrBC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC,CAAC,EAAEC,YAAW,CAAC,CAAC"</span>
}
</code></pre>
<p>æˆ‘ä»¬æ¥é€ä¸ªè§£æè¿™äº›å­—æ®µï¼š</p>
<ul>
<li>
<p><code>version</code>: ç‰ˆæœ¬å·ï¼Œç›®å‰æœ€æ–°ä¸”é€šç”¨çš„æ˜¯ç‰ˆæœ¬3ã€‚</p>
</li>
<li>
<p><code>file</code>: å‹ç¼©åçš„æ–‡ä»¶åï¼ˆå³ <code>bundle.min.js</code> æ˜¯ç”± <code>mappings</code> æ˜ å°„ç”Ÿæˆçš„ï¼‰ã€‚</p>
</li>
<li>
<p><code>sourceRoot</code>: æºç çš„æ ¹ç›®å½•ï¼ˆå¯é€‰ï¼‰ã€‚</p>
</li>
<li>
<p><code>sources</code>: ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†æ‰€æœ‰æºç æ–‡ä»¶çš„è·¯å¾„ã€‚</p>
</li>
<li>
<p><code>names</code>: ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†æºç ä¸­æ‰€æœ‰è¢«æ··æ·†æ›¿æ¢æ‰çš„å˜é‡åå’Œå±æ€§åã€‚</p>
</li>
<li>
<p><code>sourcesContent</code>: <strong>[é«˜å±å­—æ®µ]</strong> ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†æ‰€æœ‰æºç çš„<strong>åŸæ–‡å†…å®¹</strong>ã€‚å¦‚æœè¿™ä¸ªå­—æ®µå­˜åœ¨ï¼Œæ„å‘³ç€ <code>.map</code> æ–‡ä»¶æœ¬èº«å°±åŒ…å«äº†æ‰€æœ‰æºç ï¼Œæ³„éœ²é£é™©æå¤§ï¼</p>
</li>
</ul>
<hr/>
<h4 data-id="heading-2"><code>mappings</code> å­—æ®µ</h4>
<p><code>mappings</code> å­—æ®µæ˜¯ Sourcemap çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯å®ƒæœ€ä¸ºå¤æ‚çš„éƒ¨åˆ†ã€‚æˆ‘ä»¬çœ‹åˆ°çš„ä¸€å †åƒä¹±ç é•¿ä¸²å­—ç¬¦<code>AAAA,SAASA,IAAI...</code> åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>è¿™ä¸æ˜¯ä¹±ç ï¼Œè€Œæ˜¯ä¸€ç§è¶…é«˜æ•ˆç‡çš„ç¼–ç â€”â€”<strong>Base64 VLQ (Variable-length quantity)</strong> ï¼Œè¿™å­˜å‚¨äº†æºç å’Œå‹ç¼©ç ä¹‹é—´æ‰€æœ‰ä½ç½®æ˜ å°„å…³ç³»ã€‚</p>
<p>ä¸ºä»€ä¹ˆç”¨å®ƒï¼Ÿ</p>
<p>å¦‚æœç”¨ JSON å­˜å‚¨æ¯ä¸ªä½ç½®çš„æ˜ å°„ [{ genLine: 1, genCol: 5, srcFile: 0, srcLine: 2, srcCol: 10 }, ...]ï¼Œé‚£ä¹ˆè¿™ä¸ª .map æ–‡ä»¶ä¼šæ¯”ä½ çš„ js æ–‡ä»¶æœ¬ä½“è¿˜å¤§å‡ å€ã€‚è€Œ VLQ ç¼–ç å°±æ˜¯ä¸ºäº†æè‡´çš„å‹ç¼©ä½“ç§¯ã€‚</p>
<p><code>mappings</code> å­—ç¬¦ä¸²é€šè¿‡ä¸¤ç§ç¬¦å·æ¥ç»„ç»‡ï¼š</p>
<ul>
<li><strong>åˆ†å· (<code>;</code>)ï¼š</strong> ä»£è¡¨â€œæ¢è¡Œâ€ã€‚æ¯ä¸ªåˆ†å·å¯¹åº”å‹ç¼©åæ–‡ä»¶ï¼ˆ<code>bundle.min.js</code>ï¼‰çš„<strong>ä¸€è¡Œ</strong>ã€‚</li>
<li><strong>é€—å· (<code>,</code>)ï¼š</strong> ä»£è¡¨â€œä½ç½®â€ã€‚åœ¨åŒä¸€è¡Œä¸­ï¼Œç”¨é€—å·åˆ†éš”å¤šä¸ªæ˜ å°„ç‚¹ï¼ˆSegmentsï¼‰ã€‚</li>
</ul>
<p>ä¾‹å¦‚ <code>AAAA,CAAC;CACC</code> çš„æ„æ€æ˜¯ï¼š</p>
<ul>
<li><code>AAAA</code> å’Œ <code>CAAC</code> ä¸¤ä¸ªæ˜ å°„ç‚¹åœ¨å‹ç¼©æ–‡ä»¶çš„ç¬¬1è¡Œã€‚</li>
<li><code>CACC</code> æ˜ å°„ç‚¹åœ¨å‹ç¼©æ–‡ä»¶çš„ç¬¬2è¡Œã€‚</li>
</ul>
<p><strong>Base64 VLQ ç¼–ç </strong></p>
<p><code>AAAA</code> æˆ– <code>CAAC</code> è¿™æ ·çš„æ¯ä¸ªâ€œæ˜ å°„ç‚¹â€ï¼ˆSegmentï¼‰åˆ°åº•ä»£è¡¨ä»€ä¹ˆï¼Ÿ</p>
<p>å®ƒé€šå¸¸åŒ…å«4åˆ°5ä¸ªæ•°å­—ï¼š</p>
<ol>
<li>å‹ç¼©åä»£ç çš„<strong>åˆ—å·</strong></li>
<li><code>sources</code> æ•°ç»„ä¸­<strong>æ–‡ä»¶ç´¢å¼•</strong></li>
<li>æºç çš„<strong>è¡Œå·</strong></li>
<li>æºç çš„<strong>åˆ—å·</strong></li>
<li>ï¼ˆå¯é€‰ï¼‰<code>names</code> æ•°ç»„ä¸­çš„<strong>å˜é‡åç´¢å¼•</strong></li>
</ol>
<p>è€Œ Base64 VLQ æ˜¯ä¸€ç§â€œå¯å˜é•¿â€çš„ç¼–ç æ–¹å¼ï¼Œæƒ³è±¡ä¸€ç§ç‰¹æ®Šçš„ç¼–ç ï¼Œç”¨æ¥è¡¨ç¤ºæ•°å­—ã€‚è¡¨ç¤º <code>1</code> åªéœ€è¦1ä¸ªå­—ç¬¦ <code>C</code>ï¼Œè¡¨ç¤º <code>5</code> åªéœ€è¦1ä¸ªå­—ç¬¦ <code>K</code>ï¼Œä½†è¡¨ç¤º <code>1000</code> å¯èƒ½éœ€è¦3ä¸ªå­—ç¬¦ã€‚å®ƒå¯¹â€œå°æ•°å­—â€çš„ç¼–ç æå…¶é«˜æ•ˆã€‚</p>
<p>è¿™æ˜¯ VLQ ç¼–ç èƒ½åšåˆ°æè‡´å‹ç¼©çš„<strong>æœ€å…³é”®</strong>ä¸€ç‚¹ï¼š<strong>å®ƒå­˜å‚¨çš„ä¸æ˜¯ç»å¯¹ä½ç½®ï¼Œè€Œæ˜¯â€œç›¸å¯¹å‰ä¸€ä¸ªä½ç½®çš„åç§»é‡ï¼ˆDeltaï¼‰â€</strong> ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªæ˜ å°„ç‚¹ <code>AAAA</code> è§£ç åæ˜¯ <code>[0, 0, 0, 0]</code>ï¼ˆä»£è¡¨ï¼šå‹ç¼©å0åˆ—ï¼Œç¬¬0ä¸ªæ–‡ä»¶ï¼Œç¬¬0è¡Œï¼Œç¬¬0åˆ—ï¼‰ã€‚</li>
<li>å‡è®¾ç¬¬äºŒä¸ªæ˜ å°„ç‚¹ <code>CAAC</code> è§£ç åæ˜¯ <code>[0, 0, 1, 0]</code>ã€‚</li>
</ul>
<p>è¿™<strong>ä¸</strong>ä»£è¡¨å®ƒæ˜ å°„åˆ°æºç çš„ <code>(1, 0)</code> ä½ç½®ã€‚å®ƒä»£è¡¨çš„æ˜¯<strong>åç§»é‡</strong>ï¼š</p>
<ul>
<li>å‹ç¼©ååˆ—å·ï¼š<code>0</code> (ç›¸å¯¹ä¸Šä¸€ä¸ªæ˜ å°„ç‚¹ <code>AAAA</code> çš„0åˆ—ï¼Œåç§» <code>+0</code>)</li>
<li>æ–‡ä»¶ç´¢å¼•ï¼š<code>0</code> (ç›¸å¯¹ä¸Šä¸€ä¸ªçš„0ï¼Œåç§» <code>+0</code>)</li>
<li>æºç è¡Œå·ï¼š<code>1</code> (ç›¸å¯¹ä¸Šä¸€ä¸ªçš„0è¡Œï¼Œåç§» <code>+1</code>)</li>
<li>æºç åˆ—å·ï¼š<code>0</code> (ç›¸å¯¹ä¸Šä¸€ä¸ªçš„0åˆ—ï¼Œåç§» <code>+0</code>)</li>
</ul>
<p>æ‰€ä»¥ <code>CAAC</code> çœŸæ­£æ˜ å°„çš„ä½ç½®æ˜¯æºç çš„ <code>(0+1, 0+0)</code>ï¼Œå³ç¬¬1è¡Œç¬¬0åˆ—ã€‚</p>
<p>å› ä¸ºæºç å’Œå‹ç¼©ç åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯é¡ºåºçš„ï¼Œæ‰€ä»¥ä¸¤æ¬¡æ˜ å°„ä¹‹é—´çš„â€œåç§»é‡â€é€šå¸¸éƒ½éå¸¸å°ï¼ˆæ¯”å¦‚ <code>+1</code>, <code>+0</code>ï¼‰ï¼Œè¿™äº›å°æ•°å­—ç”¨ VLQ ç¼–ç åï¼Œåªéœ€è¦ä¸€ä¸ªå­—ç¬¦ã€‚è¿™å°±æ˜¯ <code>mappings</code> å­—ç¬¦ä¸²èƒ½å¦‚æ­¤ä¹‹çŸ­çš„ç§˜å¯†ã€‚</p>
<h3 data-id="heading-3">å¦‚ä½•åœ¨ Webpack ä¸ Vite ä¸­ç©è½¬ Sourcemap</h3>
<p>ä¸Šé¢è®²è§£äº†åŸç†ï¼Œç°åœ¨æˆ‘ä»¬æ¥è¿›è¡Œå®æˆ˜ï¼Œåœ¨ä¸šåŠ¡ä¸­æˆ‘ä»¬å¿…é¡»åŒºåˆ† <code>development</code> å’Œ <code>production</code>ã€‚è€Œå…³äºsourcemapçš„åˆ†ç±»ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥webapckä¸ºä¾‹å­ã€‚å°½ç®¡webpackæœ‰äºŒåå¤šç§ï¼Œä½†å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p>
<h4 data-id="heading-4">â€œsourcemapâ€</h4>
<p>åœ¨æ¯æ¬¡æ„å»ºä¸­ï¼Œéƒ½ä¼šç”Ÿæˆä»¥ä¸‹çš„æ–‡ä»¶äº§ç‰©æ ‘</p>
<pre><code class="hljs language-arduino" lang="arduino">dist/
 â”œâ”€ app<span class="hljs-number">.3</span>cf7.js
 â””â”€ app<span class="hljs-number">.3</span>cf7.js.map      
</code></pre>
<p><strong>app.3bf4.jså°¾éƒ¨æ³¨é‡Š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//# sourceMappingURL=app.3cf7.js.map</span>
</code></pre>
<p><strong>.map æ•°æ®æ ·ä¾‹ï¼ˆåªç•™å…³é”®åˆ—ï¼‰</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"file"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"app.3cf7.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"webpack://my-app/src/utils/add.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"webpack://my-app/src/pages/Pay.vue"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sourcesContent"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>      <span class="hljs-comment">// â‘  å®Œæ•´æºç åµŒåœ¨è¿™é‡Œ</span>
    <span class="hljs-string">"export const add = (a, b) =&gt; a + b;"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"&lt;template&gt;...&lt;/template&gt;\n&lt;script&gt;..."</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"names"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"add"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"submit"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mappings"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AAAA,SAASA,IAAG,SAASC,..."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sourceRoot"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¦‚æœæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€devtoolså°±èƒ½å¤Ÿçœ‹åˆ°ä»¥ä¸‹çš„æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Sources â–¸ webpack:<span class="hljs-comment">// â–¸ src/pages/Pay.vue</span>
</code></pre>
<p>sourcemapèƒ½å¤Ÿæä¾›åˆ—çº§çš„ç²¾åº¦æ˜ å°„ï¼Œæ˜¯ <strong>Sentryã€Bugsnag è¿˜åŸçœŸå®æºç </strong> çš„æœ€ä½è¦æ±‚ï¼Œä½†æ˜¯å…¶ä½“ç§¯æœ€å¤§ï¼Œå¦‚æœå°† .mapæ–‡ä»¶å‘åˆ°cdnä¸Šï¼Œé‚£å°±GGäº†ã€‚</p>
<h4 data-id="heading-5"><code>hidden-source-map</code></h4>
<p>hidden-source-mapåœ¨åœ¨æ¯æ¬¡æ„å»ºä¸­ï¼Œéƒ½ä¼šç”Ÿæˆä»¥ä¸‹çš„æ–‡ä»¶äº§ç‰©æ ‘,è€Œmapå†…å®¹ä¹Ÿå’Œsoucemapçš„å®Œå…¨ä¸€è‡´ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">dist/
 â”œâ”€ app<span class="hljs-number">.3</span>cf7.js            <span class="hljs-comment">// **æ²¡æœ‰** sourceMappingURL æ³¨é‡Š</span>
 â””â”€ app<span class="hljs-number">.3</span>cf7.js.map        <span class="hljs-comment">// æ–‡ä»¶ç…§æ ·ç”Ÿæˆï¼Œåªæ˜¯æµè§ˆå™¨ä¸çŸ¥é“</span>
</code></pre>
<p>å…¶åœ¨æµè§ˆå™¨ä¸­æŠ¥é”™å †æ ˆåœç•™åœ¨å‹ç¼©ç ä½ç½®ï¼Œè€Œç”¨æˆ·ä¹Ÿåœ¨Sourcesé¢æ¿çœ‹ä¸åˆ° webpack://æ ‘ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨â€œæ‰¾ä¸åˆ°â€è¿™ä¸ª .map æ–‡ä»¶ï¼Œç”¨æˆ·æ— æ³•ç”¨å®ƒæ¥åè§£æºç ã€‚</p>
<pre><code class="hljs language-java" lang="java">at <span class="hljs-title function_">e</span> <span class="hljs-params">(app.3cf7.js:<span class="hljs-number">1</span>:<span class="hljs-number">1340</span>)</span>
</code></pre>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¾€å¾€é€šè¿‡ciå·¥å…·æŠŠ <code>.map</code> ç§æœ‰ä¸Šä¼ åˆ° Sentryï¼Œè¿™æ ·ä¸å­˜åœ¨æ³„æ¼æºç çš„é£é™©ï¼Œç›‘æ§åˆèƒ½å¤Ÿæä¾›å®Œæ•´çš„é”™è¯¯è·¯å¾„ã€‚</p>
<h4 data-id="heading-6"><code>cheap-module-source-map</code></h4>
<p>åœ¨æ¯æ¬¡æ„å»ºä¸­ï¼Œéƒ½ä¼šç”Ÿæˆä»¥ä¸‹çš„æ–‡ä»¶äº§ç‰©æ ‘</p>
<pre><code class="hljs language-arduino" lang="arduino">dist/
 â”œâ”€ app<span class="hljs-number">.3</span>cf7.js
 â””â”€ app<span class="hljs-number">.3</span>cf7.js.map
</code></pre>
<p>å¯¹äºmapæ–‡ä»¶ä¸­ï¼Œå…¶ä¸ä¼šå­˜åœ¨åˆ—æ¶ˆæ¯</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"mappings"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AAAA,CAAC,CAAC,CAAC..."</span>  <span class="hljs-comment">// åªè®°å½•ã€Œè¡Œâ†’è¡Œã€æ˜ å°„</span>
**æ²¡æœ‰åˆ—ä¿¡æ¯**                       <span class="hljs-comment">// VLQ ç¬¬ 1ã€4 æ®µæ°¸è¿œä¸º 0</span>
</code></pre>
<p>æ‰€ä»¥å½“ä¸šåŠ¡æŠ¥é”™æ—¶ï¼ŒDevToolsåªèƒ½æ–­åˆ° <strong>ç¬¬ 58 è¡Œ</strong>ï¼Œæ— æ³•æ–­åˆ° <strong>ç¬¬ 58 è¡Œç¬¬ 12 åˆ—</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java">at <span class="hljs-title function_">submitOrder</span> <span class="hljs-params">(Pay.vue:<span class="hljs-number">58</span>)</span>   <span class="hljs-comment">// çœ‹ä¸åˆ° :58:12</span>
</code></pre>
<p>è¿™ç§ç±»å‹çš„sourcemapåœ¨<strong>å¼€å‘ç¯å¢ƒ</strong>å¤Ÿç”¨ä¸” rebuildå¿«ï¼Œå¦‚æœåœ¨<strong>æµ‹è¯•ç¯å¢ƒ</strong>æƒ³çœç£ç›˜ / åŠ é€Ÿ CI ä¹Ÿå¯é€‰å®ƒã€‚</p>
<h4 data-id="heading-7"><code>eval-cheap-module-source-map</code>ã€€</h4>
<p>åœ¨æ¯æ¬¡æ„å»ºä¸­ï¼Œéƒ½ä¼šç”Ÿæˆä»¥ä¸‹çš„æ–‡ä»¶äº§ç‰©</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-operator">**</span>æ²¡æœ‰ .map æ–‡ä»¶<span class="hljs-operator">**</span>
æ‰€æœ‰ä»£ç åŒ…è£¹æˆï¼š
eval(
  <span class="hljs-string">"////# sourceURL=webpack://my-app/src/pages/Pay.vue?3f20<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
  <span class="hljs-string">"export default {<span class="hljs-subst">\n</span>  name: <span class="hljs-subst">\"</span>Pay<span class="hljs-subst">\"</span><span class="hljs-subst">\n</span>}"</span>
)
</code></pre>
<p>åœ¨<strong>æµè§ˆå™¨ Sources</strong>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åŒå‡»ç‚¹å‡»æºç ï¼Œä½†æ˜¯åªèƒ½æ–­è¡Œã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby">â–¸ <span class="hljs-symbol">webpack:</span>/<span class="hljs-regexp">/ â–¸ src/pages</span><span class="hljs-regexp">/Pay.vue?3f20   /</span><span class="hljs-regexp">/ è™šæ‹Ÿæ–‡ä»¶
</span></code></pre>
<p><code>eval-cheap-module-source-map</code>èƒ½å¤Ÿåšåˆ° <strong>æœ¬åœ° HMR</strong> ç§’çº§é‡ç¼–ï¼ˆç£ç›˜ 0 å†™å…¥ï¼‰ï¼Œä½†æ˜¯å…¶æœ€å¥½åœ¨ç”Ÿäº§ç¦ï¼Œå› ä¸ºCSPç­–ç•¥å¯èƒ½ block <code>eval</code>ï¼ŒåŒæ—¶æ— å®ä½“æ–‡ä»¶æ— æ³•æ”¶é›†åˆ°ç›‘æ§å¹³å°ã€‚</p>
<hr/>
<h4 data-id="heading-8">inline-source-map</h4>
<p>åœ¨æ¯æ¬¡æ„å»ºä¸­ï¼Œéƒ½ä¼šç”Ÿæˆä»¥ä¸‹çš„æ–‡ä»¶äº§ç‰©</p>
<pre><code class="hljs language-arduino" lang="arduino">dist/
 â””â”€ app<span class="hljs-number">.3</span>cf7.js   <span class="hljs-comment">// åªæœ‰ä¸€ä¸ªæ–‡ä»¶</span>
</code></pre>
<p>åœ¨app.3cf7.jsçš„<strong>å°¾éƒ¨è¿½åŠ </strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjoz...</span>
</code></pre>
<p>äº‹å®ä¸Šï¼Œå…¶æ•´ä¸ª <code>.map</code> JSONï¼ˆå« sourcesContentï¼‰è¢« <strong>base64 å†…è”</strong> ç›´æ¥å¯¼è‡´jsæ–‡ä»¶ä½“ç§¯æš´å¢30-50%ã€‚</p>
<p>æ‰€ä»¥å…¶åº”ç”¨åœºæ™¯æ¯”è¾ƒå±€é™ï¼šå¾€å¾€å†™æ–‡ä»¶åº“æ¯”å¦‚loadshæ—¶ï¼Œä¸€ä¸ªæ–‡ä»¶èµ°å¤©ä¸‹ï¼Œè€Œå¤šå…¥å£ä¸šåŠ¡é¡¹ç›®<strong>åƒä¸‡åˆ«ç”¨</strong>ï¼Œæ¯ä¸ª chunk éƒ½ä¼šç”Ÿæˆä¸€ä»½å†…è”mapæ–‡ä»¶ï¼Œä½“ç§¯ç›´æ¥çˆ†ç‚¸ã€‚</p>
<h4 data-id="heading-9"><code>nosources-source-map</code></h4>
<p><strong>äº§ç‰©ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/Pay.vue"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sourcesContent"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// â‘  å…³é”®ï¼šåªæœ‰è·¯å¾„ï¼Œæ²¡æœ‰å†…å®¹</span>
  <span class="hljs-attr">"names"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"submit"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mappings"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AAAA,SAASA..."</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>DevTools æ•ˆæœ</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">Sources â–¸ webpack:<span class="hljs-comment">// â–¸ src/Pay.vue     // æ ‘åœ¨ï¼Œæ–‡ä»¶èƒ½ç‚¹å¼€</span>
**å†…å®¹æ˜¯ç©ºç™½çš„** â€”â€” æç¤º â€œSource content is <span class="hljs-keyword">not</span> availableâ€
</code></pre>
<p>è¿™ä¸ªå‡ ä¹æ˜¯å®˜æ–¹UI æ¡†æ¶ï¼ˆvue.global.prod.jsã€react.production.min.jsï¼‰<strong>æ ‡é…</strong>ï¼Œç”¨æˆ·å¯çœ‹åˆ°ã€Œç›®å½•ç»“æ„ã€æ–¹ä¾¿è°ƒè¯•ï¼Œ<strong>å´çœ‹ä¸åˆ°å…·ä½“å®ç°</strong>ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦æŠŠåŒ…å‘åˆ°CDNï¼Œå¸Œæœ› Sentry ä»èƒ½è¿˜åŸåˆ—å·ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ä¸ªå°±è¡Œå³å¯ã€‚</p>
<hr/>
<p>####. <code>eval</code>
<strong>äº§ç‰©</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-built_in">eval</span>(<span class="hljs-string">"function add(a,b){return a+b}\n//# sourceURL=webpack:///./src/add.js"</span>)
</code></pre>
<p>å½“ä¸šåŠ¡æŠ¥é”™æ—¶ï¼ŒæŠ¥é”™æ ˆåªèƒ½çœ‹åˆ° <strong>å‹ç¼©åå˜é‡å</strong>ã€‚è€Œè¿™ä¸ªèƒ½æä¾›æœ€å¿« rebuildï¼Œåœ¨<strong>è¶…å¤§å‹ monorepo</strong> æœ¬åœ°å¼€å‘é˜¶æ®µå›¾ä¸ªæè‡´ rebuild é€Ÿåº¦ï¼Œå¾€å¾€ä¼šé€‰å®ƒï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå…¶éƒ½æ— æ³•æ»¡è¶³æ¡ä»¶ã€‚</p>
<h3 data-id="heading-10">ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨ä¸æœ€ä½³å®è·µ</h3>
<p>ç°åœ¨æˆ‘ä»¬å›åˆ°å¼€å¤´è‹¹æœï¼ˆ2025å¹´11æœˆï¼‰çš„â€œæ³„å¯†â€äº‹ä»¶ã€‚ä»–ä»¬çŠ¯äº†ä»€ä¹ˆé”™ï¼Ÿ</p>
<p>ä»–ä»¬å¾ˆå¯èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒé…ç½®äº† <code>build.sourcemap: true</code> (å¦‚æœæ˜¯Vite/Rollup) æˆ– <code>devtool: 'source-map'</code> (å¦‚æœæ˜¯Webpack)ï¼Œå¹¶ä¸”<strong>å¿˜è®°äº†ç§»é™¤ <code>sourceMappingURL</code> æ³¨é‡Š</strong>ï¼ŒåŒæ—¶<strong>å°†ç”Ÿæˆçš„ <code>.map</code> æ–‡ä»¶å’Œ <code>.js</code> æ–‡ä»¶ä¸€èµ·éƒ¨ç½²åˆ°äº†å…¬ç½‘æœåŠ¡å™¨ä¸Š</strong>ï¼Œ<strong>ä¹Ÿå¿˜è®°äº†ç”¨ Nginx æ‹¦æˆª</strong>ã€‚</p>
<p>çœ‹ä¸Šå»ï¼Œä»–ä»¬å‡ ä¹è¸©äº†æˆ‘ä»¬èƒ½æƒ³åˆ°çš„æ¯ä¸€ä¸ªâ€œé›·â€ï¼Œå¦‚æœä¸­é—´ä»»ä½•ä¸€ä¸ªç¯èŠ‚ç¨å¾®ä¸¥è°¨ç‚¹ï¼Œéƒ½ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>è¿™å°±æ˜¯æœ€ä¸¥é‡çš„å®‰å…¨çº¢çº¿ï¼š<strong>ç»å¯¹ä¸è¦å°† <code>.map</code> æ–‡ä»¶éƒ¨ç½²åˆ°å…¬ç½‘ç”¨æˆ·å¯ä»¥è®¿é—®åˆ°çš„åœ°æ–¹ï¼</strong></p>
<blockquote>
<p>â€œä½†æ˜¯ï¼Œæˆ‘ç™½å±äº†å°±æ˜¯éœ€è¦å®šä½é—®é¢˜ï¼Œæ€ä¹ˆåŠï¼â€</p>
</blockquote>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±è¦<strong>ç”¨æˆ·æ— æ³•è®¿é—® Sourcemapï¼Œä½†æˆ‘ä»¬è‡ªå·±å¯ä»¥ã€‚</strong></p>
<p>åœ¨ CI/CD æµç¨‹ä¸­ï¼Œä½¿ç”¨ hidden-source-map (Webpack) æˆ– build.sourcemap: true + ç§»é™¤æ’ä»¶ (Vite) æ¥æ„å»ºã€‚è¿™ä¼šç”Ÿæˆ .map æ–‡ä»¶ï¼Œä½†æµè§ˆå™¨ä¸ä¼šåŠ è½½å®ƒã€‚</p>
<p>åŒæ—¶ä¸è¦å°† .map æ–‡ä»¶éƒ¨ç½²åˆ°ä½ çš„CDNæˆ–WebæœåŠ¡å™¨ã€‚è€Œæ˜¯å°†è¿™äº› .map æ–‡ä»¶ä¸Šä¼ åˆ°ç§æœ‰çš„é”™è¯¯ç›‘æ§å¹³å°ï¼Œä¾‹å¦‚ Sentryã€FrontJS æˆ–è‡ªå»ºçš„å†…ç½‘æœåŠ¡å™¨ã€‚</p>
<p>è€Œå¯¹äº<strong>å¼€æºåº“/ç»„ä»¶åº“</strong> è€Œè¨€ <code>nosources-source-map</code>æ˜¯æœ€ä¼˜é€‰ï¼Œå…¶éƒ¨ç½²ç®€å•ï¼Œåªæš´éœ²ç›®å½•ç»“æ„å’Œå˜é‡åï¼Œä¸æš´éœ²æºç é€»è¾‘ï¼Œæ–¹ä¾¿ä»–äººè°ƒè¯•ã€‚</p>
<p>è¿™ä¸ªæµç¨‹å®Œç¾åœ°å®ç°äº†â€œé±¼å’Œç†ŠæŒå…¼å¾—â€ï¼šåœ¨å¯¹æºç ç»å¯¹å®‰å…¨çš„æŒæ§ä¸‹ï¼Œè¿˜èƒ½æ‹¥æœ‰å®Œæ•´çš„çº¿ä¸Šè°ƒè¯•èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uosåŸºç¡€ ps æŸ¥çœ‹è¿›ç¨‹]]></title>    <link>https://juejin.cn/post/7572362484659699763</link>    <guid>https://juejin.cn/post/7572362484659699763</guid>    <pubDate>2025-11-14T10:31:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572362484659699763" data-draft-id="7572413448941305883" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uosåŸºç¡€ ps æŸ¥çœ‹è¿›ç¨‹"/> <meta itemprop="keywords" content="è¿ç»´"/> <meta itemprop="datePublished" content="2025-11-14T10:31:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¡Œåˆå¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/4081803083395527"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uosåŸºç¡€ ps æŸ¥çœ‹è¿›ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4081803083395527/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¡Œåˆå¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:31:56.000Z" title="Fri Nov 14 2025 10:31:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç»Ÿä¿¡æ¡Œé¢æ“ä½œç³»ç»Ÿä¸“ä¸šç‰ˆV20ï¼ˆ1070ï¼‰<br/>
Linux uos 5.10.97-arm64-desktop</p>
</blockquote>
<h3 data-id="heading-0">uosåŸºç¡€ ps æŸ¥çœ‹è¿›ç¨‹</h3>
<pre><code class="hljs language-c" lang="c">root@uos:/home/code<span class="hljs-meta"># ps</span>
  PID TTY          TIME CMD
<span class="hljs-number">23884</span> pts/<span class="hljs-number">0</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> sudo
<span class="hljs-number">23906</span> pts/<span class="hljs-number">0</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> bash
<span class="hljs-number">31018</span> pts/<span class="hljs-number">0</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> ps
root@uos:/home/code<span class="hljs-meta"># ps -u</span>
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root      <span class="hljs-number">8984</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">23516</span>  <span class="hljs-number">4240</span> tty2     Ss+  <span class="hljs-number">08</span>:<span class="hljs-number">32</span>   <span class="hljs-number">0</span>:<span class="hljs-number">00</span> /sbin/agetty -o -p -- \u --no
root     <span class="hljs-number">23884</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span> <span class="hljs-number">110004</span> <span class="hljs-number">10820</span> pts/<span class="hljs-number">0</span>    S    <span class="hljs-number">08</span>:<span class="hljs-number">55</span>   <span class="hljs-number">0</span>:<span class="hljs-number">00</span> sudo -s
root     <span class="hljs-number">23906</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">14516</span>  <span class="hljs-number">3744</span> pts/<span class="hljs-number">0</span>    S    <span class="hljs-number">08</span>:<span class="hljs-number">55</span>   <span class="hljs-number">0</span>:<span class="hljs-number">00</span> /bin/bash
root     <span class="hljs-number">31046</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">16168</span>  <span class="hljs-number">2728</span> pts/<span class="hljs-number">0</span>    R+   <span class="hljs-number">09</span>:<span class="hljs-number">10</span>   <span class="hljs-number">0</span>:<span class="hljs-number">00</span> ps -u
root@uos:/home/code# 
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åªéœ€ä¸‰æ­¥ï¼ŒåŠ¨æ‰‹æ­å»ºä¸€ä¸ªæœ¬åœ°å…è´¹ã€å®æ—¶è¯­éŸ³è½¬å½•ã€‘å·¥å…·WhisperLiveKit]]></title>    <link>https://juejin.cn/post/7572016447804293146</link>    <guid>https://juejin.cn/post/7572016447804293146</guid>    <pubDate>2025-11-13T09:04:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572016447804293146" data-draft-id="7571395183944466441" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åªéœ€ä¸‰æ­¥ï¼ŒåŠ¨æ‰‹æ­å»ºä¸€ä¸ªæœ¬åœ°å…è´¹ã€å®æ—¶è¯­éŸ³è½¬å½•ã€‘å·¥å…·WhisperLiveKit"/> <meta itemprop="keywords" content="FFmpeg,OpenAI,GitHub"/> <meta itemprop="datePublished" content="2025-11-13T09:04:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mortimer"/> <meta itemprop="url" content="https://juejin.cn/user/4441682704623992"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åªéœ€ä¸‰æ­¥ï¼ŒåŠ¨æ‰‹æ­å»ºä¸€ä¸ªæœ¬åœ°å…è´¹ã€å®æ—¶è¯­éŸ³è½¬å½•ã€‘å·¥å…·WhisperLiveKit
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4441682704623992/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mortimer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-13T09:04:51.000Z" title="Thu Nov 13 2025 09:04:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>å®æ—¶è¯­éŸ³è½¬æ–‡å­—ï¼Œæ¯”å¦‚ä¼šè®®è®°å½•ã€è¯¾å ‚ç¬”è®°ï¼Œè¿™ç±»åŠŸèƒ½ç°åœ¨å¾ˆå¸¸è§ï¼Œä¹Ÿæ˜¯å¾ˆå¤šäººæ„Ÿå…´è¶£çš„çƒ­é—¨æ–¹å‘ã€‚</p>
<p>é‚£ä¹ˆæƒ³ä¸æƒ³åŠ¨æ‰‹éƒ¨ç½²ä¸€ä¸ªå¼€æºã€å¥½ç©çš„å®æ—¶è½¬å½•é¡¹ç›® â€”â€” <strong>WhisperLiveKit</strong>ã€‚
å®ƒèƒ½è®©ä½ åœ¨<strong>è‡ªå·±çš„ç”µè„‘ä¸Š</strong>è½»æ¾æ­å»ºä¸€å¥—è¯­éŸ³å®æ—¶è¯†åˆ«ç³»ç»Ÿï¼</p>
<hr/>
<h2 data-id="heading-0">ğŸ’¡ å…ˆè¯´ç»“è®ºï¼šå®ƒé€‚åˆè°ï¼Ÿ</h2>
<p>WhisperLiveKit éå¸¸é€‚åˆå­¦ä¹ å’Œä½“éªŒ AI å®æ—¶è¯­éŸ³è¯†åˆ«çš„åŸç†ä¸æµç¨‹ã€‚
ä¸è¿‡è¦æé†’ä¸€å¥ï¼š<strong>å®ƒè¿˜ä¸èƒ½å®Œå…¨æ›¿ä»£ä¸“ä¸šå•†ä¸šäº§å“</strong>ï¼Œä½†å·²ç»éå¸¸æœ‰è¶£ã€å¤Ÿå¼ºå¤§ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ğŸš€ éƒ¨ç½²è¶…çº§ç®€å•</li>
<li>ğŸ’» è‡ªå¸¦ç½‘é¡µç•Œé¢ï¼Œå¯ç›´æ¥ä½“éªŒå‰æ²¿æŠ€æœ¯</li>
</ul>
<p><strong>éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</strong></p>
<ol>
<li>
<p><strong>å»¶è¿Ÿé—®é¢˜</strong>
ä¸­æ–‡è¯†åˆ«å‡†ç¡®ç‡é«˜çš„æ¨¡å‹ï¼ˆæ¯”å¦‚ <code>large-v2/v3</code>ï¼‰ç›¸å¯¹è¾ƒæ…¢ï¼Œè¯­éŸ³è½¬æ–‡å­—çš„å»¶è¿Ÿå¯èƒ½å¤§äº10ç§’ï¼Œç”šè‡³æ›´ä¹…ã€‚
å¦‚æœä½ çš„ç”µè„‘æœ‰ä¸€å¼  NVIDIA æ˜¾å¡ï¼ˆå»ºè®® 12G æ˜¾å­˜ä»¥ä¸Šï¼‰ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚
å°æ¨¡å‹è™½ç„¶å¿«ï¼Œä½†ä¸­æ–‡è¯†åˆ«ä¸å¤Ÿå‡†ç¡®ã€‚</p>
</li>
<li>
<p><strong>ç½‘ç»œç¯å¢ƒ</strong>
ç¨‹åºéœ€è¦ä¸‹è½½ä¸€ä¸ªéå¸¸å¤§çš„æ ¸å¿ƒæ¨¡å‹ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨å¢™å¤–ã€‚
ğŸ‘‰ æ‰€ä»¥ä½ éœ€è¦æå‰å‡†å¤‡å¥½â€œç§‘å­¦ä¸Šç½‘â€å·¥å…·ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-1">ğŸ§° ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å·¥ä½œï¼ˆç£¨åˆ€ä¸è¯¯ç æŸ´å·¥ï¼‰</h2>
<p>å¼€å§‹å‰ï¼Œè¯·ç¡®è®¤ä½ çš„ç”µè„‘å‡†å¤‡å¥½äº†ä»¥ä¸‹å‡ æ ·ï¼š</p>
<ol>
<li>
<p><strong>å®‰è£… <code>uv</code></strong>
è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ Python åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨â€œä¸€æ¡å‘½ä»¤â€å®‰è£…æ‰€æœ‰ä¾èµ–ï¼Œæå…¶çœå¿ƒã€‚</p>
<blockquote>
<p>å¦‚æœä½ è¿˜æ²¡è£…ï¼ŒæŸ¥çœ‹å®˜ç½‘å®‰è£…æ–¹å¼ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astral.sh%2Fuv%2Fgetting-started%2Finstallation%2F" target="_blank" title="https://docs.astral.sh/uv/getting-started/installation/" ref="nofollow noopener noreferrer">docs.astral.sh/uv/getting-â€¦</a></p>
</blockquote>
</li>
<li>
<p><strong>å®‰è£… <code>ffmpeg</code></strong>
å®ƒæ˜¯éŸ³è§†é¢‘å¤„ç†ç•Œçš„â€œç‘å£«å†›åˆ€â€ï¼Œæˆ‘ä»¬çš„ç¨‹åºè¦é å®ƒæ¥è¯»å–éº¦å…‹é£å£°éŸ³ã€‚</p>
<blockquote>
<p>åŒæ ·ï¼Œå¦‚æœè¿˜æ²¡å®‰è£…ï¼ŒæŸ¥çœ‹å®˜ç½‘å®‰è£… <a href="https://link.juejin.cn?target=https%3A%2F%2Fffmpeg.org%2Fdownload.html" target="_blank" title="https://ffmpeg.org/download.html" ref="nofollow noopener noreferrer">ffmpeg.org/download.htâ€¦</a></p>
</blockquote>
</li>
<li>
<p><strong>å¼€å¯ç½‘ç»œä»£ç†</strong>
âš ï¸ è¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼
å› ä¸ºæ¨¡å‹æ–‡ä»¶è¦ä»å¢™å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œè¯·åŠ¡å¿…å¼€å¯â€œç§‘å­¦ä¸Šç½‘â€ï¼Œ
å¹¶è®¾ç½®ä¸ºâ€œå…¨å±€ä»£ç†â€æˆ–â€œç³»ç»Ÿä»£ç†â€æ¨¡å¼ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-2">âš™ï¸ ç¬¬äºŒæ­¥ï¼šå®‰è£…æ ¸å¿ƒç¨‹åº</h2>
<ol>
<li>
<p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ï¼š<code>D:/python/livekit</code></p>
</li>
<li>
<p>æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨åœ°å€æ è¾“å…¥ <code>cmd</code>ï¼Œç„¶åæŒ‰å›è½¦ã€‚
ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé»‘è‰²å‘½ä»¤è¡Œçª—å£ğŸ‘‡
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3be3cc83eee47c3bb4e3949ad12e465~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=Oq%2FjV70P0HlV1mjTSHE1KiMhszg%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>æŠŠä¸‹é¢å‘½ä»¤å¤åˆ¶è¿›å»ï¼Œç„¶åæŒ‰å›è½¦æ‰§è¡Œï¼š</p>
</li>
</ol>

<pre><code class="hljs language-csharp" lang="csharp">uv <span class="hljs-keyword">init</span> &amp;&amp; uv <span class="hljs-keyword">add</span> whisperlivekit faster-whisper --index https:<span class="hljs-comment">//pypi.tuna.tsinghua.edu.cn/simple</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ è¿™æ¡å‘½ä»¤ä¼šï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>uv</code> è‡ªåŠ¨å®‰è£… WhisperLiveKit å’ŒåŠ é€Ÿä¾èµ– <code>faster-whisper</code></li>
<li>å¹¶é€šè¿‡æ¸…åé•œåƒæºåŠ é€Ÿä¸‹è½½</li>
</ul>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51ebcf16bfb74ad0bd9e6c9a76ad40fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=1aCYXRzB2j14wgKTEwc7T1yKSfQ%3D" alt="è¾“å…¥å‘½ä»¤ï¼Œå›è½¦æ‰§è¡Œ" loading="lazy"/></p>
<p>ç­‰å¾…å®‰è£…ä¸­â€¦â€¦ â³
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db2f3ba6c20d4b1b8e49895109439049~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=x%2Fo8Yxl3Sw%2BMncY8F4UDusAQerc%3D" alt="å®‰è£…ä¸­ï¼Œéœ€ç­‰å¾…ç‰‡åˆ»" loading="lazy"/></p>
<p>çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œå°±è¡¨ç¤ºå®‰è£…æˆåŠŸå•¦ï¼ğŸ‰
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d80e44197974401b2622aea068d8155~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=w45%2FmNBaLd8UywLGrFTTu1avbm0%3D" alt="å®‰è£…æˆåŠŸå®Œæˆ" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">ğŸš€ ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨å®æ—¶è½¬å½•æœåŠ¡</h2>
<p>ç»§ç»­åœ¨å‘½ä»¤è¡Œçª—å£ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-css" lang="css">uv run whisperlivekit-server <span class="hljs-attr">--audio-max-len</span> <span class="hljs-number">10</span> <span class="hljs-attr">--frame-threshold</span> <span class="hljs-number">20</span> <span class="hljs-attr">--model</span> large-v3-turbo <span class="hljs-attr">--language</span> zh
</code></pre>
<h3 data-id="heading-4">å‚æ•°è¯´æ˜ï¼š</h3>
<ul>
<li><code>--model large-v3-turbo</code>ï¼šä½¿ç”¨æ›´å¿«çš„ <code>large-v3-turbo</code> æ¨¡å‹ï¼ˆæ¯” large-v2/v3 å¿«å¾ˆå¤šï¼Œå‡†ç¡®ç‡ç•¥æœ‰ä¸‹é™ï¼‰</li>
<li><code>--language zh</code>ï¼šæŒ‡å®šè¯†åˆ«ä¸­æ–‡</li>
</ul>
<blockquote>
<p>âš ï¸ ç¬¬ä¸€æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼Œä½“ç§¯è¾ƒå¤§ï¼Œè¯·ä¿æŒç½‘ç»œç•…é€šå¹¶è€å¿ƒç­‰å¾…ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ce65e08ce4d4319b927c516df0dfb32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=fRbCdVVTo5F7tGZq9Sx9d2H8T24%3D" alt="å¯åŠ¨ä¸­ï¼Œç¬¬ä¸€æ¬¡å°†ä¸‹è½½æ¨¡å‹ï¼Œè€—æ—¶è¾ƒä¹…" loading="lazy"/></p>
<p>å½“çª—å£å‡ºç°ä¸‹å›¾ä¸­çš„ç½‘å€æ—¶ï¼Œæ­å–œï¼ğŸ‰ æœåŠ¡å¯åŠ¨æˆåŠŸï¼
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c5515edadd7431c979c8bce965daa07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=UTunG9fuLBdy%2FSQhtd%2Fm2f1ospw%3D" alt="æ³¨æ„æ˜¾ç¤ºè¿™ä¸ªåœ°å€æ—¶ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸ" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5">ğŸŒ ç¬¬å››æ­¥ï¼šå¼€å§‹ä½¿ç”¨ï¼</h2>
<p>æ‰“å¼€æµè§ˆå™¨ï¼ˆæ¨è Chrome æˆ– Edgeï¼‰ï¼Œè®¿é—®åœ°å€ï¼š</p>
<p>ğŸ‘‰ <code>http://localhost:8000/</code></p>
<p>ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç®€æ´çš„ç½‘é¡µç•Œé¢ğŸ‘‡
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e8b760811bd462d85c30caf8d0a23a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=sWpGWAxERPeBdSkfyR4M3JoCTrA%3D" alt="ç½‘é¡µç•Œé¢" loading="lazy"/></p>
<p>ç‚¹å‡»å¤§å¤§çš„çº¢è‰²æŒ‰é’®ï¼Œå…è®¸æµè§ˆå™¨è®¿é—®éº¦å…‹é£ã€‚
ç„¶åå¼€å§‹è¯´è¯ï¼Œç¨ç­‰å‡ ç§’ï¼Œè¯†åˆ«æ–‡å­—å°±ä¼šå‡ºç°åœ¨å±å¹•ä¸Šï¼
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae7362b5e91e49acbbef78180dae3887~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=F3C%2FaWOrfVIM8VT3i4WBGQIuj%2BI%3D" alt="ç›‘å¬å¹¶è½¬å½•ä¸­" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">ğŸ§© å¸¸è§â€œç¿»è½¦â€ç°åœºä¸è§£å†³åŠæ³•</h2>
<p>åˆ«æ‹…å¿ƒï¼Œä»¥ä¸‹æ˜¯æœ€å¸¸è§çš„å‡ ç§é”™è¯¯ï¼š</p>
<ul>
<li>
<p>âŒ <strong>æ¨¡å‹ä¸‹è½½å¤±è´¥</strong>
é”™è¯¯æç¤ºé‡Œå¦‚æœæœ‰ â€œhuggingfaceâ€ã€â€œdownloadâ€ã€â€œtimeoutâ€ç­‰å­—æ ·ï¼Œ
å‡ ä¹éƒ½æ˜¯<strong>ä»£ç†æ²¡å¼€æˆ–æ²¡è®¾ç½®æˆå…¨å±€æ¨¡å¼</strong>ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d86203eed3f04e2d8a42e007d12457bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=Fqopb4SzoOyq9cRdgvaMLwMlY0w%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>âŒ <strong>æ‰¾ä¸åˆ° <code>uv</code></strong>
è¡¨ç¤º <code>uv</code> æ²¡å®‰è£…å¥½ï¼Œæˆ–æœªåŠ å…¥ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abb600c4dd624e5eba00443f87860cc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=Lr5S2NXFAn74m7Y34XDx9T1DBLQ%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>âŒ <strong>æ‰¾ä¸åˆ° <code>ffmpeg</code></strong>
åŒç†ï¼Œæ£€æŸ¥æ˜¯å¦å®‰è£…æ­£ç¡®å¹¶é…ç½®äº†ç¯å¢ƒå˜é‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbd6491cb05749579f815b094a923a14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=5IroEGE%2FQaf%2BIWPbXb0%2FPqOiYxY%3D" alt="" loading="lazy"/></p>
</li>
</ul>
<hr/>
<h2 data-id="heading-7">ğŸ’¤ æ‡’äººç¦åˆ©ï¼šä¸€é”®å¯åŠ¨è„šæœ¬ï¼</h2>
<p>æ¯æ¬¡æ•²å‘½ä»¤å¤ªéº»çƒ¦ï¼Ÿé‚£å°±æ¥ä¸ªâ€œä¸€é”®å¯åŠ¨â€ï¼</p>
<ol>
<li>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ï¼ˆ<code>D:/python/livekit</code>ï¼‰ä¸­æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£</li>
<li>æŠŠä»¥ä¸‹å†…å®¹å¤åˆ¶è¿›å»ï¼š</li>
</ol>

<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@echo off</span>
call uv run whisperlivekit-server --audio-<span class="hljs-built_in">max</span>-<span class="hljs-built_in">len</span> <span class="hljs-number">10</span> --backend faster-whisper --frame-threshold <span class="hljs-number">20</span> --model large-v3-turbo --language zh
pause
</code></pre>
<p>3.  ç‚¹å‡»â€œæ–‡ä»¶â€â†’â€œå¦å­˜ä¸ºâ€ï¼Œ
ä¿å­˜ç±»å‹é€‰ä¸º <strong>æ‰€æœ‰æ–‡ä»¶</strong>ï¼Œå‘½åä¸º <code>start.bat</code>ï¼Œç„¶åä¿å­˜ã€‚
4.  âš ï¸ ç¡®è®¤æ–‡ä»¶åç»“å°¾æ˜¯ <code>.bat</code>ï¼ˆä¸æ˜¯ <code>.bat.txt</code>ï¼‰ï¼
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/934fb01920e94bf5a130dd4bc8695001~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbW9ydGltZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763629490&amp;x-signature=RF3Pjn9vGtn6KRR2B01%2BuvbZ6cM%3D" alt="" loading="lazy"/></p>
<p>ä»¥åä½ åªéœ€<strong>åŒå‡» <code>start.bat</code> æ–‡ä»¶</strong>ï¼Œå°±èƒ½ä¸€é”®å¯åŠ¨æœåŠ¡å•¦ï½
å†ä¹Ÿä¸ç”¨æ¯æ¬¡è¾“å…¥é•¿å‘½ä»¤ï¼Œè½»æ¾åˆé«˜æ•ˆï¼</p>
<hr/>
<p>ğŸ‰ æ­å–œä½ å®Œæˆéƒ¨ç½²ï¼
ä»ç°åœ¨èµ·ï¼Œä½ å·²ç»èƒ½åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå®ç°<strong>å®æ—¶è¯­éŸ³è¯†åˆ«</strong>ã€‚
WhisperLiveKit æ˜¯ä¸€ä¸ªéå¸¸é€‚åˆå­¦ä¹ å’Œæ¼”ç¤ºçš„é¡¹ç›®ï¼Œ
ä¸å¦¨å¤šå°è¯•ä¸åŒæ¨¡å‹ã€å‚æ•°ï¼Œæ¢ç´¢å®ƒçš„æ›´å¤šç©æ³•å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GPT-5.1å‘å¸ƒå½“å¤©ï¼Œæ–‡å¿ƒ5.0æ€å›æ¥äº†]]></title>    <link>https://juejin.cn/post/7572389069706297354</link>    <guid>https://juejin.cn/post/7572389069706297354</guid>    <pubDate>2025-11-14T10:25:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572389069706297354" data-draft-id="7572387877138890762" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GPT-5.1å‘å¸ƒå½“å¤©ï¼Œæ–‡å¿ƒ5.0æ€å›æ¥äº†"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-11-14T10:25:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–°æ™ºå…ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/952600743642312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GPT-5.1å‘å¸ƒå½“å¤©ï¼Œæ–‡å¿ƒ5.0æ€å›æ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/952600743642312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–°æ™ºå…ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T10:25:12.000Z" title="Fri Nov 14 2025 10:25:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d3ae12c086444b995d2a4122900564e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=UlINuktgd%2BOE0k6NNqfJYRQCXB4%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-0"><strong>ã€Œã€æ–°æ™ºå…ƒå¯¼è¯»ã€‘å°±åœ¨ OpenAI åˆšåˆšæ•™ä¼š GPT-5.1 äººæƒ…ä¸–æ•…çš„åŒä¸€å¤©ï¼Œä¸€æ¬¾ 2.4 ä¸‡äº¿çš„å›½äº§å¤§æ¨¡å‹è¯æ˜äº†ï¼ŒAI ä¸ä»…èƒ½æ‡‚äººæƒ…ï¼Œè¿˜èƒ½æ›´å¥½åœ°ç†è§£ä¸–ç•Œã€‚ã€</strong></h5>
<p>2.4 ä¸‡äº¿å‚æ•°ï¼ŒåŸç”Ÿå…¨æ¨¡æ€æ¨¡å‹ä»Šå¤©æ€åˆ°äº†ï¼</p>
<p>ä¸€ç»å‘å¸ƒï¼Œè¿™æ¬¾æ¨¡å‹çš„é¢„è§ˆç‰ˆå°±åœ¨å¤šæ¨¡æ€ç†è§£ã€æŒ‡ä»¤éµå¾ªã€åˆ›æ„å†™ä½œã€æ™ºèƒ½ä½“è§„åˆ’ç­‰ 40 + æ ¸å¿ƒèµ›é“è¡¨ç°æƒŠè‰³ã€‚</p>
<p>è¿™ä¸€æ¬¡ï¼Œå‡ºæ‰‹çš„è¿˜æ˜¯ä¸­å›½ AIã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/312a97e04b0d4dd2a70b2c0a38f1790d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=RYOjEIYnK1IIc4v19rg3aS%2BKPK0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23bda8d9d14640fe8d86cf22d1420b0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=E%2FoQC8Gh68hvEFQmhoFX6gPgZzk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fab2562eba41423781684827b7ffcf74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=73%2BJHGYv%2BJSTBakAlZz9OqZugTo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f2b11f820f74d098342774d09b15daa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=2dBFMtl3PM4LkW8UQMRG3AWhsxQ%3D" alt="" loading="lazy"/></p>
<p>å·¦å³æ»‘åŠ¨æŸ¥çœ‹</p>
<p>2025 ç™¾åº¦ä¸–ç•Œå¤§ä¼šä¸Šï¼Œæ–‡å¿ƒæ–°ä¸€ä»£æ¨¡å‹â€”â€”æ–‡å¿ƒ 5.0 é‡ç£…å‘å¸ƒã€‚</p>
<p>ä½œä¸ºã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€æ¨¡å‹ï¼Œå®ƒä»åº•å±‚æ¶æ„ä¸Šå®ç°äº†ä¸€æ¬¡æ·±åˆ»çš„å˜é©ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aff009256b94978925bdfbac1d1df60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=tFRJ76XTza%2FXe1Sh9wusvSvZw18%3D" alt="" loading="lazy"/></p>
<p>ä¸ºä½•è¿™ä¹ˆè¯´ï¼Ÿ</p>
<p>ä¸ä¸šå†…ä¸»æµçš„å¤šæ¨¡æ€ AI ä¸åŒï¼Œæ–‡å¿ƒ 5.0 ä»è®­ç»ƒä¹‹åˆèåˆäº†è¯­è¨€ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘ç­‰å¤šæ¨¡æ€æ•°æ®ã€‚</p>
<p>è€Œä¸”ï¼Œå®ƒè¿˜æ”¯æŒæ–‡ã€å›¾ã€è§†ã€éŸ³çš„è”åˆè¾“å…¥ä¸è¾“å‡ºï¼Œå®ç°ã€ŒåŸç”Ÿã€çš„ç»Ÿä¸€ç†è§£å’Œç”Ÿæˆã€‚</p>
<p>ç”±æ­¤ï¼Œæ–‡å¿ƒ 5.0 å…·å¤‡äº†å¼ºå¤§çš„å¤šæ¨¡æ€ç†è§£å’Œæ¨ç†èƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8e0c9c60f68478fb345da1e858ba68d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=1Co6i7LMeRBdJcvcV813oULgrSk%3D" alt="" loading="lazy"/></p>
<p>å¤§ä¼šç°åœºï¼Œæ–‡å¿ƒ 5.0 ä»¥ã€Œæ­¦æ—å¤–ä¼ ã€ä½Ÿæ¹˜ç‰çš„å£å»äºŒåˆ›ã€Œç”„å¬›ä¼ ã€ã€‚ã€ŒAI ç”„å¬›ã€å¦™è¯­è¿ç ï¼Œå‡ºäººæ„æ–™çš„æ¼”ç»ç¬é—´ç‚¹ç‡ƒå…¨åœºã€‚</p>
<p><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">è§†é¢‘è¯¦æƒ…</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f603a4e30334a51a68f70f5db4fe308~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=2WD5iAGW9t0n6DIKW8xcmHaoG7U%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œå‘Šåˆ«ã€Œæ‹¼æ¥ã€ï¼ŒåŸç”Ÿå…¨æ¨¡æ€ç™»åœºã€</strong></p>
<p>åŸç”Ÿå…¨æ¨¡æ€ï¼Œä¸æ˜¯å¤šæ¨¡æ€çš„ã€ŒåŠ æ³•ã€ã€‚</p>
<p>ä¸€æåˆ°å¤šæ¨¡æ€ AIï¼Œäººä»¬å¯èƒ½æƒ³åˆ°çš„æ˜¯ï¼Œå°†è¯­è¨€ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘ç­‰ä¸åŒæ•°æ®ã€Œæ‹¼æ¥ã€èµ·æ¥çš„æ¨¡å‹ã€‚</p>
<p>å½“å‰ï¼Œä¸šç•Œå¤§å¤šéƒ½é‡‡ç”¨äº†è¿™ç§ã€ŒåæœŸèåˆã€æ–¹å¼çš„å¤šæ¨¡æ€æ¨¡å‹ã€‚</p>
<p>ä½†æ–‡å¿ƒ 5.0 ä¸åŒï¼Œå®ƒä»æ ¹æºä¸Šæ„å»ºäº†ä¸€ä¸ªç»Ÿä¸€çš„æ¶æ„ï¼Œå³æ–°ä¸€ä»£ã€ŒåŸç”Ÿå…¨æ¨¡æ€å¤§æ¨¡å‹ã€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a0d072c010e4a00b9802c640d93f1b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=OpNmQV6nxeA7hHNgoiss5xkb8%2BM%3D" alt="" loading="lazy"/></p>
<p>è‡ªè®­ç»ƒä¼Šå§‹ï¼Œæ–‡å¿ƒ 5.0 èåˆäº†è¯­è¨€ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘ç­‰å¤šæ¨¡æ€æ•°æ®ï¼Œå®ç°äº†æ–‡ã€å›¾ã€è§†ã€éŸ³çš„è”åˆè¾“å…¥ä¸è¾“å‡ºã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ–‡å¿ƒ 5.0 å°±èƒ½çœŸæ­£åšåˆ°åŸç”Ÿçš„å…¨æ¨¡æ€ç†è§£ä¸ç”Ÿæˆã€‚</p>
<p>ä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œç™¾åº¦å›¢é˜Ÿå…‹æœäº†ä¸šå†…æ™®éé¢ä¸´çš„éš¾é¢˜ï¼š</p>
<p>åŸç”Ÿå¤šæ¨¡æ€æ¶æ„çš„ã€Œç†è§£ä¸ç”Ÿæˆä¸€ä½“åŒ–ã€</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä¼ ç»Ÿæ–¹æ³•å¾€å¾€å…ˆæ˜¯å¤„ç†å•ä¸€æ¨¡æ€ï¼Œå†å°†æ‰€æœ‰æ¨¡æ€æ•°æ®èåˆã€‚è¿™ç§æ–¹æ³•çœ‹ä¼¼ä¼˜é›…ï¼Œå®åˆ™ä¼šå¸¦æ¥å¾ˆå¤šè‡´å‘½çš„é—®é¢˜ã€‚</p>
<p>åæœŸèåˆåªåœ¨è¾“å‡ºå±‚è¿›è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªæ¨¡æ€çš„ç‰¹å¾åœ¨èåˆä¹‹å‰ï¼Œå°±å·²ç‹¬ç«‹å†³ç­–å®Œæˆã€‚</p>
<p>è¿™æ ·çš„ AI æ ¹æœ¬å­¦ä¸åˆ°æ¨¡æ€ä¹‹é—´çš„ã€Œæ·±å±‚è¯­ä¹‰äº¤äº’ã€ï¼Œæ¯”å¦‚è§†é¢‘ä¸­ï¼Œäººç‰©è¡¨æƒ…å’Œè¯­éŸ³è¯­è°ƒé«˜åº¦ç›¸å…³ï¼Œè¿›è€Œé€ æˆä¿¡æ¯ä¸¢å¤±ã€‚</p>
<p>æ–‡å¿ƒ 5.0 é€šè¿‡ç²¾ç»†å»ºæ¨¡å¤šæ¨¡è¯­ä¹‰ç‰¹å¾ï¼Œè®©ç†è§£å’Œç”Ÿæˆç›¸äº’å¢å¼ºã€‚</p>
<p>åŒæ—¶ï¼Œå®ƒè¿˜é‡‡ç”¨äº†ã€Œè‡ªå›å½’ç»Ÿä¸€ç»“æ„ã€ï¼Œå¯¹ä¸åŒæ¨¡æ€çš„è®­ç»ƒç›®æ ‡è¿›è¡Œç¦»æ•£åŒ–å»ºæ¨¡ï¼Œç¡®ä¿äº†å¤šæ¨¡æ€ç‰¹å¾åœ¨ç»Ÿä¸€æ¡†æ¶ä¸‹å……åˆ†èåˆå¹¶ååŒä¼˜åŒ–ï¼Œç”±æ­¤æå‡äº†å…¨æ¨¡æ€ç»Ÿä¸€å»ºæ¨¡çš„èƒ½åŠ›ã€‚</p>
<p>åœ¨å‚æ•°è§„æ¨¡ä¸Šï¼Œæ–‡å¿ƒ 5.0 æ€»å‚æ•°è¶…è¿‡ 2.4 ä¸‡äº¿ï¼Œä¸šç•Œå…¬å¼€å‚æ•°çš„æ¨¡å‹ä¹‹æœ€ã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯ï¼Œå®ƒå¼•å…¥äº†è¶…ç¨€ç–æ··åˆä¸“å®¶æ¶æ„ï¼Œè¿›è¡Œåºå¤§çš„å…¨æ¨¡æ€è®­ç»ƒã€‚</p>
<p>å…¶æ¿€æ´»å‚æ•°æ¯”ä¾‹ä½äº 3%ï¼Œåœ¨ä¿æŒå¼ºå¤§èƒ½åŠ›çš„åŒæ—¶ï¼Œæ˜¾è‘—é™ä½è®¡ç®—å’Œæ¨ç†æˆæœ¬ã€‚</p>
<p><strong>ã€Œ<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d00d80ea3e81454fb9e3828b86b736c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=hd996%2B9mZPoFt05V5LsldQTtPS4%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œè®­æ¨åŒå¼•æ“ï¼Œæˆæœ¬éª¤é™ã€</strong></p>
<p>è¦è®©ä¸‡äº¿çº§å…¨æ¨¡æ€ MoE çœŸæ­£è·‘å¾—åŠ¨ã€è·‘å¾—å¿«ï¼Œå›¢é˜Ÿåœ¨è®­ç»ƒä¸æ¨ç†ä¸ŠåŒæ—¶å¼€åˆ€ï¼Œæ„å»ºäº†ä¸€å¥—é«˜æ•ˆçš„è®­æ¨ä½“ç³»ã€‚</p>
<p><strong>ã€Œ1. é«˜æ•ˆå…¨æ¨¡æ€è¶…ç¨€ç–æ··åˆä¸“å®¶åˆ†å¸ƒå¼è®­ç»ƒã€</strong></p>
<p>åœ¨è®­ç»ƒé˜¶æ®µï¼Œä¾æ‰˜é£æ¡¨æ¡†æ¶ï¼Œä»–ä»¬ç ”å‘äº†å¤šæ¨¡æ€ç¼–ç å™¨åˆ†ç¦»å¼‚æ­¥è®­ç»ƒæ¶æ„ã€åŠ¨æ€è‡ªé€‚åº”æ˜¾å­˜å¸è½½æŠ€æœ¯ï¼Œä»¥åŠç»†ç²’åº¦é€šä¿¡è®¡ç®—é‡å ç¼–æ’ä¸“å®¶å¹¶è¡ŒæŠ€æœ¯ã€‚</p>
<p>åŒæ—¶ï¼Œç»“åˆ FP8 æ··åˆç²¾åº¦è®­ç»ƒï¼Œå®ç°äº†å¯¹ä¸‡äº¿çº§å‚æ•°å…¨æ¨¡æ€è¶…ç¨€ç–æ··åˆä¸“å®¶æ¨¡å‹çš„é«˜æ•ˆè®­ç»ƒã€‚</p>
<p>ç»“æœï¼Œæ–‡å¿ƒ 5.0 é¢„è®­ç»ƒæ€§èƒ½è¾ƒåŸºå‡†æé€Ÿ 230%ã€‚</p>
<p><strong>ã€Œ2. å¤šçº§åˆ†ç¦»æ¶æ„çš„å…¨æ¨¡æ€ç»Ÿä¸€é«˜æ€§èƒ½æ¨ç†ã€</strong></p>
<p>åœ¨æ¨ç†é˜¶æ®µï¼Œæ–‡å¿ƒ 5.0 é‡‡ç”¨äº†ã€Œå¤šæ¨¡ç¼–ç å™¨ - é¢„å¡«å…… - è§£ç  - å¤šæ¨¡ç”Ÿæˆå™¨ã€çš„å¤šçº§åˆ†ç¦»æ¨ç†éƒ¨ç½²æ¡†æ¶ã€‚</p>
<p>æ­¤å¤–ï¼Œå›¢é˜Ÿè¿˜ç ”å‘äº†é¢å‘è¶…ç¨€ç–æ··åˆä¸“å®¶ã€æ•°æ®è´Ÿè½½å’Œæ³¨æ„åŠ›è®¡ç®—çš„å‡è¡¡ç®—æ³•ï¼Œä»¥åŠåŠ¨æ€è‡ªé€‚åº”å¤šæ­¥æŠ•æœºè§£ç å’Œæ•ˆæœæ— æŸä½æ¯”ç‰¹é”®å€¼ç¼“å­˜é‡åŒ–æŠ€æœ¯ã€‚</p>
<p>åœ¨æ¨ç†æˆæœ¬ä¸Šï¼Œæ–‡å¿ƒ 5.0 å¾—åˆ°å¤§å¹…å‹ç¼©ï¼ŒçœŸæ­£å®ç°äº†æ•ˆç‡ä¸èƒ½åŠ›çš„å¹³è¡¡ï¼Œè®©å…¶æ›´æ¥è¿‘å®ç”¨ã€‚</p>
<p>æ­¤å¤–ï¼Œè¡¡é‡ä¸€ä¸ªæ¨¡å‹èƒ½å¦ä»å®éªŒå®¤èµ°å‘å®é™…åº”ç”¨ï¼Œé•¿ç¨‹ä»»åŠ¡çš„æŒ‡æ ‡æ˜¯æœ€é‡è¦çš„è¡¡é‡å› ç´ ä¹‹ä¸€ã€‚</p>
<p>ä¸ºäº†æå‡æ–‡å¿ƒ 5.0 é•¿ç¨‹ä»»åŠ¡çš„èƒ½åŠ›ï¼Œå›¢é˜ŸåŸºäºå¤§è§„æ¨¡å·¥å…·ç¯å¢ƒï¼Œåˆæˆäº†é•¿ç¨‹ä»»åŠ¡è½¨è¿¹æ•°æ®ã€‚</p>
<p>ç„¶åï¼Œåœ¨é¢„è®­ç»ƒå’Œåè®­ç»ƒé˜¶æ®µï¼ŒåŸºäºæ€ç»´é“¾å’Œè¡ŒåŠ¨é“¾å¯¹æ–‡å¿ƒ 5.0 è¿›è¡Œã€Œç«¯åˆ°ç«¯ã€å¤šè½®å¼ºåŒ–å­¦ä¹ è®­ç»ƒã€‚</p>
<p>ç”±æ­¤å¯è§ï¼Œæ–‡å¿ƒ 5.0 çš„æ™ºèƒ½ä½“å’Œå·¥å…·è°ƒç”¨èƒ½åŠ›ï¼Œå¾—åˆ°äº†æ˜¾è‘—çš„æå‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f48cc1a61264de4a436321c52e1c737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=BA%2FXr%2F4Ie%2FErhOGjzv0BGUqBjIg%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œæ–‡å¿ƒåˆå›æ¥äº†ï¼ã€</strong></p>
<p>è¿‡å»ä¸¤å¹´ï¼Œå¤šæ¨¡æ€æ¨¡å‹å·²è¿…é€Ÿå´›èµ·ï¼Œæˆä¸ºé©±åŠ¨ AI æ—¶ä»£å‘å±•çš„æ ¸å¿ƒå¼•æ“ã€‚</p>
<p>ä¸ä¼ ç»Ÿå¤§è¯­è¨€æ¨¡å‹ä¸åŒï¼Œå®ƒçªç ´äº†å•ä¸€æ–‡æœ¬çš„é™åˆ¶ï¼Œé€šè¿‡æ— ç¼èåˆå›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰å¤šæºä¿¡æ¯ï¼Œå®ç°äº†æ›´æ¥è¿‘äººç±»çš„ç»¼åˆç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ã€‚</p>
<p>æ”¾çœ¼å…¨çƒï¼Œåœ¨è¿™åœº AI å¤§æˆ˜ä¸­ï¼ŒOpenAIã€è°·æ­Œç­‰ç¡…è°·å·¨å¤´æ—©å·²åœ¨å¤šæ¨¡æ€èµ›é“ä¸ŠæŠ¢å…ˆå¸ƒå±€ã€‚</p>
<p>OpenAI å‘å¸ƒ GPT-4o æ—¶ï¼Œä¾¿å‘ä¸–ç•Œç”ŸåŠ¨å±•ç¤ºäº†å¤šæ¨¡æ€ AI åº”æœ‰çš„äº¤äº’å½¢æ€â€”â€”</p>
<p>ä¸€ä¸ªç»Ÿä¸€çš„ç¥ç»ç½‘ç»œï¼Œæ— ç¼å¤„ç†æ–‡æœ¬ã€éŸ³é¢‘ã€è§†è§‰ç­‰å¤šç§æ¨¡æ€çš„è¾“å…¥ä¸è¾“å‡ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/008997f247df4ed7a4041cd90c4ef5cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=jgnk6BGe67uHK%2Fm%2F5I2ipj%2FzRHQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/707c347e78224581a481211448bdb488~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=QvkX7HdxIl4w9Y4E2CP1ErW95Jw%3D" alt="" loading="lazy"/></p>
<p>è€Œè°·æ­Œçš„ Gemini ç³»åˆ—ï¼Œæ›´æ˜¯ä»è¯ç”Ÿä¹‹åˆä¾¿è¢«çƒ™ä¸Šäº†ã€ŒåŸç”Ÿå¤šæ¨¡æ€ã€çš„å°è®°ã€‚</p>
<p>ä»–ä»¬åœ¨æŠ€æœ¯æŠ¥å‘Šä¸­ï¼Œå¤šæ¬¡å¼ºè°ƒäº†åŸç”Ÿå¤šæ¨¡æ€ä¸éåŸç”Ÿçš„å·®å¼‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70d3facbeb5d4f13ab263d29f9dcb0f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=ql5lT7UrRwZPA3BvNqIlrUZs4z8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90220459c42d48f0ab6d5065b496e069~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=KPR2Qv5PaBZTy5RYSWyJ%2FtTWKBg%3D" alt="" loading="lazy"/></p>
<p>CEO Demis Hassabis ä¹Ÿæ›¾æ˜ç¡®è¡¨ç¤ºï¼ŒGemini çš„ç›®æ ‡å°±æ˜¯è¦è®©ä¸€ä¸ªæ¨¡å‹èƒ½åŸç”Ÿåœ°ç†è§£å›¾åƒã€éŸ³é¢‘å’Œè§†é¢‘ã€‚</p>
<p>æœ€ç»ˆï¼Œå®ç°ä¸ç‰©ç†ä¸–ç•Œçš„çœŸå®äº¤äº’ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41bce1bc986c4c9b97e81fb1f858ee4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=wtSrLEdVEkBcJfC6SpG1Y%2Bx2OqI%3D" alt="" loading="lazy"/></p>
<p>è§†çº¿è½¬å›å›½å†…ï¼Œé˜¿é‡Œã€å­—èŠ‚ç­‰å¤´éƒ¨å¤§å‚åŒæ ·åœ¨å¤šæ¨¡æ€èµ›é“ä¸Šé‡å…µå¸ƒå±€ã€‚è€Œåœ¨ä¼—å¤šè·¯å¾„ä¸­ï¼Œç™¾åº¦é€‰æ‹©äº†ä¸€æ¡æ›´æ•ˆç‡å¯¼å‘çš„é“è·¯â€”â€”<strong>ã€Œã€ŒåŸç”Ÿå…¨æ¨¡æ€ã€ã€</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6c08a5ac0fb45a584c85ee21ffcbd61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=f%2Bk%2BmrMB%2FD%2BhoPYkpMm7AT%2BgN7c%3D" alt="" loading="lazy"/></p>
<p>åŸç”Ÿå…¨æ¨¡æ€ï¼Œæ„å‘³ç€æ¨¡å‹ä»è®­ç»ƒçš„ç¬¬ä¸€å¤©èµ·ï¼Œå°±å¦‚äººç±»ä¸€èˆ¬ï¼Œæ´»åœ¨è§†è§‰ã€å¬è§‰ä¸æ–‡å­—äº¤èçš„ç»Ÿä¸€æ„ŸçŸ¥ä¸­ã€‚</p>
<p>å’Œå©´å„¿ä¸€æ ·ï¼Œå®ƒå­¦ä¹ ä¸–ç•Œçš„æ–¹å¼æ˜¯é€šè¿‡æ‰€æœ‰æ„Ÿå®˜çš„åŒæ­¥è¾“å…¥æ¥å½¢æˆè®¤çŸ¥ã€‚æ¯•ç«Ÿï¼Œäººç±»çš„æ€è€ƒä»æ¥éƒ½ä¸æ˜¯ã€Œå…ˆçœ‹å†å¬å†æƒ³ã€çš„çº¿æ€§æ¥åŠ›ï¼Œè€Œæ˜¯æ‰€æœ‰ä¿¡æ¯æ´ªæµçš„åŒæ­¥èåˆã€‚</p>
<p>è¿™ä¹‹ä¸­çš„æ ¸å¿ƒï¼Œä¾¿æ˜¯å°†æ¯ä¸€å¸§ç”»é¢ã€æ¯ä¸€æ®µå£°éŸ³ã€ä¹ƒè‡³æ¯ä¸€ä¸ªè¯è¯­ï¼Œéƒ½è½¬åŒ–ä¸ºä¸€å¥—ç»Ÿä¸€çš„ç¦»æ•£ç¬¦å·æµï¼Œå¹¶ç½®äºåŒä¸€ä¸ªè‡ªå›å½’æ¡†æ¶ä¸‹å»ºæ¨¡ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ è¾“å…¥ä¸€æ®µè¡—å¤´è‰ºäººè¡¨æ¼”çš„è§†é¢‘ï¼Œæ¢å¯»ã€ŒèƒŒåçš„æ•…äº‹ã€æ—¶ï¼ŒAI ä¸å†æ˜¯å‰²è£‚åœ°è§£æç”»é¢ã€åˆ†æéŸ³é¢‘ï¼Œæœ€åæ‹¼å‡‘ç­”æ¡ˆã€‚å®ƒèƒ½åœ¨ä¸€ä¸ªç»Ÿä¸€çš„è¯­ä¹‰ç©ºé—´ä¸­ï¼ŒåŒæ­¥å®Œæˆæ„ŸçŸ¥ã€æ¨ç†ä¸å™äº‹ï¼Œåƒäººç±»ä¸€æ ·ï¼Œç»™äºˆä¸€ä¸ªå®Œæ•´è€Œæ·±åˆ»çš„å›åº”ã€‚</p>
<p>æ­£æ˜¯å‡­å€Ÿè¿™ç§å…¨æ¨¡æ€çš„å†…åœ¨ä¼˜åŠ¿ï¼Œæ–‡å¿ƒ 5.0 å¾—ä»¥çªç ´å¤æ‚åœºæ™¯çš„æŸç¼šï¼Œä¸º AI çš„æœªæ¥åº”ç”¨å¼€å¯æ— é™æƒ³è±¡ã€‚</p>
<p>æ›´å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ–‡å¿ƒçš„å®åŠ›ï¼Œæ—©å·²è¶…è¶Šäº†å®éªŒå®¤çš„èŒƒç•´ï¼Œåœ¨çœŸå®åº”ç”¨ä¸­å½¢æˆäº†æŠ€æœ¯è½åœ°çš„é—­ç¯ã€‚</p>
<p>å‘å¸ƒä¼šç°åœºï¼Œä¸ç™¾åº¦è¿çº¿çš„ã€ŒAI è€ç½—ã€ä¾¿æ˜¯æœ€å¥½çš„è¯æ˜ã€‚ä»–ä¸ä»…èƒ½è½»æ¾åšå‡ºã€Œç‚¹èµã€æ¯”å¿ƒã€æ¯”è€¶ã€çš„äº’åŠ¨ä¸‰è¿ï¼Œæ›´åœ¨é—®ç­”ç¯èŠ‚ä¸­ï¼Œå°†ç½—æ°¸æµ©æœ¬äººã€ŒçŠ€åˆ©åæ§½ã€çš„è¯­è¨€é£æ ¼æ¨¡ä»¿å¾—æƒŸå¦™æƒŸè‚–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db4155ef04c44c738ebaf7f58da570ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763720712&amp;x-signature=SQTnQglBJMpHZt9moSJVGVmiP78%3D" alt="" loading="lazy"/></p>
<p>æŠ€æœ¯åŸºäºæ…§æ’­æ˜Ÿé«˜è¯´æœåŠ›æ•°å­—äºº</p>
<p>å¦‚ä»Šï¼Œå½“ç†è§£ä¸ç”Ÿæˆèµ°å‘ç»Ÿä¸€ï¼Œå½“æŠ€æœ¯ä¸åº”ç”¨ååŒå…±ç”Ÿï¼Œäººæœºæ™ºèƒ½çš„è¾¹ç•Œä¹Ÿæ­£æ‚„ç„¶æ¶ˆèã€‚</p>
<p>åœ¨è¿™åœºå…¨çƒå¤§æ¨¡å‹çš„æ¿€çƒˆè§’é€ä¸­ï¼Œæ–‡å¿ƒæ­£ä»¥å…¨æ–°å§¿æ€ï¼Œå¼ºåŠ¿å›å½’ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‡çº§äº†SOLOï¼Œç„¶åâ€¦â€¦èµ°ä¸ä¸‹å»äº†ï¼]]></title>    <link>https://juejin.cn/post/7572340344509251610</link>    <guid>https://juejin.cn/post/7572340344509251610</guid>    <pubDate>2025-11-14T09:02:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572340344509251610" data-draft-id="7572136244464599091" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‡çº§äº†SOLOï¼Œç„¶åâ€¦â€¦èµ°ä¸ä¸‹å»äº†ï¼"/> <meta itemprop="keywords" content="Solo,Trae"/> <meta itemprop="datePublished" content="2025-11-14T09:02:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PBitW"/> <meta itemprop="url" content="https://juejin.cn/user/3048261967153544"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‡çº§äº†SOLOï¼Œç„¶åâ€¦â€¦èµ°ä¸ä¸‹å»äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048261967153544/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PBitW
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:02:56.000Z" title="Fri Nov 14 2025 09:02:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¦åˆ©</h2>
<blockquote>
<p>å¥½æ¶ˆæ¯ï¼å¤©å¤§çš„å¥½æ¶ˆæ¯ï¼<strong>TRAE SOLO ç°åœ¨å…¨é¢å¼€æ”¾ï¼</strong></p>
<p>æœ‰ä¸ªé™æ—¶ç¦åˆ©ï¼Œæ‰€æœ‰äºº â€”â€” ä¸ç®¡æ˜¯ä¸æ˜¯ä¼šå‘˜ï¼Œéƒ½èƒ½å…è´¹ä½“éªŒ SOLO Coder å’Œ SOLO Builderï¼</p>
</blockquote>
<blockquote>
<p><strong>è¿™æ³¢ç¾Šæ¯›ä¸è–…éƒ½å¯¹ä¸èµ·è‡ªå·±ï¼Œèµ¶ç´§å†²ï¼</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/527ffbe54b31456bb7dc6e38acc27ba4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=tmfDPLewytiFsTTq1YT01ihWixw%3D" alt="solo4.gif" loading="lazy"/></p>
<p>æ›´æ–°Traeï¼Œå³å¯é©¬ä¸Šé¢†å–ï¼Œ<strong>åªèƒ½ä½“éªŒåˆ°11æœˆ15å·</strong>ï¼Œèµ¶ç´§æ¥ä½“éªŒä¸€æ³¢ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a0ecd0f12594cf9a50c06aef24d9a5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=3%2BgvsGzdnuYMSdi8oDq6NCaDtCU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">æ›´æ–°</h2>
<p>ä»¥ä¸‹æ˜¯SOLOçš„æ›´æ–°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72ac4832a43a4ab181cc96efd4d95efc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=guZTNUEhPaQCyBrtiVI1v5GdTgM%3D" alt="solo.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/802622b77f2a46f99e11549fb566cd99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=Zku8CnIw%2BO1DpypcXIKOtIak7sA%3D" alt="solo2.gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ec4e1d018ba48e89bc080ce99b162a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=cChvhBID2oplmMV%2F0V%2Fb5PvFvpc%3D" alt="solo3.gif" loading="lazy"/></p>
<p>ä¹‹å‰ä¹Ÿå†™è¿‡ä¸¤ç¯‡å…³äºTraeçš„æ–‡ç« ï¼Œå½“æ—¶å°±æ„Ÿè§‰è¿›æ­¥å¾ˆå¤§ï¼Œä¸çŸ¥é“è¿™æ¬¡æœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„ä½“éªŒï¼š</p>
<ol>
<li><a href="https://juejin.cn/post/7472044324965761062?searchId=20251114112141F2F50C2C202E18D9620D" target="_blank" title="https://juejin.cn/post/7472044324965761062?searchId=20251114112141F2F50C2C202E18D9620D">Trae åˆä½“éªŒ - vscodeè¦è¢«æ›¿ä»£äº†ï¼å¼ºæ¨Traeï¼</a></li>
<li><a href="https://juejin.cn/post/7504094084421091340?searchId=20251114112141F2F50C2C202E18D9620D" target="_blank" title="https://juejin.cn/post/7504094084421091340?searchId=20251114112141F2F50C2C202E18D9620D">Traeè®©æˆ‘åœ¨åŒå­¦é¢å‰è£…äº†ä¸€æ³¢ï¼Œä½†æ˜¯å¤ªæ™šäº†ï¼</a></li>
</ol>
<h2 data-id="heading-2">ä½¿ç”¨</h2>
<h3 data-id="heading-3">1ã€ ç•Œé¢</h3>
<p>è¿™ä¸ªSOLOçš„ç•Œé¢æœ‰ç‚¹ä¸å¥½è¯„ä»·ï¼Œå°±æ˜¯æ„Ÿè§‰ç”¨ç€ä¸ä¹ æƒ¯ï¼Œæ–‡ä»¶è·‘æœ€å³è¾¹å»äº†ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28bae04665d04a36b682614c085bb8dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=OjeQFN7az93LLtNWOeD6tGG%2BN7c%3D" alt="image.png" loading="lazy"/></p>
<p>è€Œä¸”åˆ‡æ¢çš„åœ°æ–¹ä¹Ÿæœ‰ç‚¹ç¦»è°±ï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„å›¾æ ‡å»åˆ‡æ¢çš„ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48646f1e152f431a9083cd8fe5c9a0d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=iPt3DJW%2B0CQiklxfWzuiBPEnxUc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">2ã€ SOLO Coder</h3>
<p>è¿™é‡Œæ—¢ç„¶è¯´äº†SOLO Coderå¯ä»¥åº”ä»˜å¤æ‚ä»»åŠ¡ï¼Œé‚£æˆ‘æŠŠæˆ‘ç°åœ¨åšçš„å…¬å¸é¡¹ç›®ï¼Œé—®ä¸€ä¸‹éš¾ç‚¹ä¸è¿‡åˆ†å§ï¼Ÿ( ï¹ ï¹ ) ~â†’</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47d828742068465fa8b03562ae728203~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=MlwbZ6Asz%2B27yyZmrg4MKH%2FEvXs%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œå¯ä»¥å¼€å¯Planï¼Œæ„æ€å°±æ˜¯AIä¼šå…ˆå¸®ä½ æ•´ç†ä½ é—®çš„è¯æ˜¯ä»€ä¹ˆæ„æ€ï¼Œç„¶åè§„åˆ’æˆå‡ æ¡ä»»åŠ¡ï¼Œåˆ†åˆ«æ‰§è¡Œï¼</p>
<p>è¿è¡Œç›´æ¥å¡æ­»äº†ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯gitå¤ªå¤šäº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b7d1fcea503402fa687b1adac4a4f21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=5pk5KRHOoOeeAu1rWgzvxl%2BpeWE%3D" alt="image.png" loading="lazy"/></p>
<p>ç®—äº†ï¼Œç›´æ¥è·³è¿‡ï¼Œè®©å®ƒçœ‹çœ‹é¡¹ç›®ä¸­çš„éš¾ç‚¹æ˜¯å¦åˆ†ææ­£ç¡®ï¼ˆè¿™é‡Œåé¢åˆæœ‰ä¸€ä¸ªgitå‘½ä»¤å¡ä½äº†ï¼Œä½†æ˜¯è·³è¿‡ä¹Ÿæ²¡å•¥å…³ç³»ï¼Œè¿˜æ˜¯ç”Ÿæˆäº†ä¸‹é¢çš„å†…å®¹ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74fa98e8f02b4e9a942fa119d7b8bb3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=vqNoOBLjFwShK098J9XrjtZlhUA%3D" alt="image.png" loading="lazy"/></p>
<p>åˆ†æå¾—å¤§å·®ä¸å·®ï¼Œä½†æ˜¯åŒºåˆ†æ˜¯å¤§ä½¬å†™çš„è¿˜æ˜¯æˆ‘å†™çš„ä¸æ˜¯å¾ˆæ­£ç¡®ï¼Œå¥½åƒæ˜¯æŒ‰ç…§å®ƒè‡ªå·±ç†è§£çš„éš¾æ˜“æ¥åŒºåˆ†ï¼Œè€Œéä»£ç é£æ ¼ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00ce4c427f804276b2a07827d820ece1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=JaH0KhrU1tq7yGjpsljGtecYyOc%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œé¢å…¶å®ï¼švxeã€jsxæ˜¯èœé¸Ÿå†™çš„ğŸ˜‚</p>
<h3 data-id="heading-5">3ã€SOLO builder</h3>
<p>è¿™ä¸ªå»ºé¡¹ç›®åŠŸèƒ½ï¼Œä¹‹å‰çš„Traeå°±å·²ç»å¯ä»¥åˆ›å»ºç®€å•çš„æ¸¸æˆä¹‹ç±»çš„äº†ï¼Œç„¶åæœ€è¿‘èœé¸Ÿè¢«é¡¹ç›®ç®¡ç†æå¾—ç„¦å¤´çƒ‚é¢ï¼Œæ„Ÿè§‰å…¨éƒ¨çš„bugç®¡ç†å¹³å°éƒ½ä¸å¤ªå¥½ç”¨ï¼Œæ‰€ä»¥ä¸å¦‚è®©Traeç»™æˆ‘å†™ä¸€ä¸ªï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92e3ac1fa88c490882b823df198e440b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=GJ4CBBcsMSMZUDERD0M4wHZlR8I%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba5be150b2044fb7bd0f8a99ee98bd52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=Q2%2Fnq%2FH9K6%2BPm8XQUfI3ZBI9tT4%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶ååˆ°ä¹‹ä¸€æ­¥ï¼Œè¿›è¡Œä¸ä¸‹å»äº†ï¼Œèœé¸Ÿèƒ½åŠ›æœ‰é™ï¼Œä¸çŸ¥é“æ˜¯ä¸ªå•¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bda449a03d4440a98f5ce6d30001644~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=eirMDNHc5Dii4bOjFudjdFJzFiE%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸è¿‡å€’æ˜¯æ¯”ä¹‹å‰è¿›æ­¥äº†ä¸å°‘ï¼Œä¹‹å‰æ˜¯ç›´æ¥å‡ºæ¥ä¸€ä¸ªæœ€åŸå§‹çš„è¿™ä¸ªç•Œé¢å°±æ²¡æœ‰äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da53624b109d433cbef668da49458bda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUEJpdFc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763715776&amp;x-signature=Mm1uHqtxTyYgSGtsAdWG7sB2Re8%3D" alt="image.png" loading="lazy"/></p>
<p>ç°åœ¨ç”Ÿæˆäº†è¿™ä¸ªä¹‹åï¼Œå°±è®©ä½ åšä¸Šé¢çš„é‚£äº›æˆæƒæ“ä½œï¼Œå¯èƒ½åšå®Œäº†å°±å¯ä»¥ç»§ç»­ç”Ÿæˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LLMè°ƒç”¨çš„æœ€ä½³æ•°æ®æ ¼å¼ï¼šTOONï¼Œæˆæœ¬ç›´é™50%ï½œé™„Javaä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572137760448446505</link>    <guid>https://juejin.cn/post/7572137760448446505</guid>    <pubDate>2025-11-14T09:01:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572137760448446505" data-draft-id="7572396000544194623" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LLMè°ƒç”¨çš„æœ€ä½³æ•°æ®æ ¼å¼ï¼šTOONï¼Œæˆæœ¬ç›´é™50%ï½œé™„Javaä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="LLM,JSON,Java"/> <meta itemprop="datePublished" content="2025-11-14T09:01:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºçŒ¿DD"/> <meta itemprop="url" content="https://juejin.cn/user/131597123993358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LLMè°ƒç”¨çš„æœ€ä½³æ•°æ®æ ¼å¼ï¼šTOONï¼Œæˆæœ¬ç›´é™50%ï½œé™„Javaä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/131597123993358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºçŒ¿DD
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:01:51.000Z" title="Fri Nov 14 2025 09:01:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¤§æ¨¡å‹é€æ¸èå…¥ä¸šåŠ¡ç³»ç»Ÿçš„é˜¶æ®µï¼Œç»“æ„åŒ–æ•°æ®è¾“å…¥/è¾“å‡ºå·²æˆä¸ºè½åœ°åº”ç”¨çš„å¿…éœ€ï¼šRAG æ£€ç´¢ç»“æœã€Agent å·¥å…·è°ƒç”¨å‚æ•°ã€ä¸šåŠ¡æŸ¥è¯¢ç»“æœã€æ‰¹å¤„ç†åˆ—è¡¨ç­‰éƒ½éœ€è¦è®©è‡ªç„¶è¯­è¨€ä¸â€œå¯æœºè¯»â€çš„ç»“æ„åŒ–æ ¼å¼äº’é€šã€‚äº‹å®æ ‡å‡†æ˜¯ JSONï¼Œä½†åœ¨é«˜é¢‘è°ƒç”¨ã€æµ·é‡æ•°æ®åœºæ™¯ä¸‹ï¼ŒJSON çš„æ ‡ç‚¹å¼€é”€ä¼šæ˜¾è‘—æ¨é«˜ token æˆæœ¬ã€‚</p>
<p>å¦‚ä¸‹JSONæ ¼å¼çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"users"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Alice"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"admin"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bob"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Tokens ä¸º <strong>47</strong>:</p>
<p><img src="https://static.didispace.com/images4/078130821fe7b3d51be8104e141fbf03.png" alt="" loading="lazy"/></p>
<p>é‡‡ç”¨ TOON æ ¼å¼ä¹‹åï¼Œå†…å®¹æ˜æ˜¾å‡å°‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">users</span>[2]{<span class="hljs-built_in">id</span>,name,role}:
  1,Alice,admin
  2,Bob,user
</code></pre>
<p>Tokens ä¸ºï¼š<strong>24</strong></p>
<p><img src="https://static.didispace.com/images4/71ec22797e4570f05de075b2119f0de8.png" alt="" loading="lazy"/></p>
<p>å·®å¼‚çš„æ ¸å¿ƒåœ¨äºï¼šTOON ç”¨â€œç¼©è¿› + ä¸€æ¬¡æ€§å­—æ®µå£°æ˜â€çš„æ–¹å¼æ¶ˆé™¤äº†ç»å¤§éƒ¨åˆ†è¯­æ³•æ ‡ç‚¹çš„å†—ä½™ï¼›å½“ä½ åœ¨ç”Ÿäº§ç¯å¢ƒæ¯å¤©ä¼ è¾“æˆåƒä¸Šä¸‡æ¡è®°å½•æ—¶ï¼Œå†—ä½™æ ‡ç‚¹çš„ç´¯è®¡å¼€é”€ä¼šç›´æ¥è½¬åŒ–ä¸ºå¯è§‚çš„ API è´¹ç”¨ã€‚å®è·µè¡¨æ˜ï¼ŒTOON åœ¨è¾“å…¥ä¾§å¸¸å¸¦æ¥ 40â€“60% çš„ token èŠ‚çœã€‚</p>
<h2 data-id="heading-0">åŸºå‡†æµ‹è¯•ï¼šTOKENå‡å°‘ã€å‡†ç¡®ç‡ä¸Šå‡</h2>
<p>TOONæ ¼å¼åœ¨LLMè°ƒç”¨æ—¶å€™é™¤äº†åœ¨Tokenæ•°é‡ä¸Šçš„ä¼˜åŒ–ä¹‹å¤–ï¼Œä¸å¯å¿½ç•¥çš„æ˜¯LLMæ£€ç´¢å‡†ç¡®ç‡ã€‚å¦‚æœå•çº¯Tokenæ•°é‡å‡å°‘äº†ï¼Œè€Œå‡†ç¡®ç‡ä¸‹é™äº†ï¼Œé‚£æ„ä¹‰å°±ä¸å¤§äº†ã€‚</p>
<p>ä»¥ä¸‹æ˜¯TOONå®˜æ–¹ä»“åº“ç»™å‡ºçš„ç»¼åˆæ•ˆç‡æ’åï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">TOON           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   <span class="hljs-number">26.9</span>  â”‚  <span class="hljs-number">73.9</span><span class="hljs-comment">% acc  â”‚  2,744 tokens</span>
JSON compact   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘   <span class="hljs-number">22.9</span>  â”‚  <span class="hljs-number">70.7</span><span class="hljs-comment">% acc  â”‚  3,081 tokens</span>
YAML           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘   <span class="hljs-number">18.6</span>  â”‚  <span class="hljs-number">69.0</span><span class="hljs-comment">% acc  â”‚  3,719 tokens</span>
JSON           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   <span class="hljs-number">15.3</span>  â”‚  <span class="hljs-number">69.7</span><span class="hljs-comment">% acc  â”‚  4,545 tokens</span>
XML            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   <span class="hljs-number">13.0</span>  â”‚  <span class="hljs-number">67.1</span><span class="hljs-comment">% acc  â”‚  5,167 tokens</span>
</code></pre>
<p>TOON çš„å‡†ç¡®ç‡è¾¾åˆ° 73.9% ï¼ˆJSON çš„å‡†ç¡®ç‡ä¸º 69.7%ï¼‰ï¼ŒåŒæ—¶ä½¿ç”¨çš„æ ‡è®°æ•°å‡å°‘äº† 39.6% ã€‚å¯ä»¥çœ‹åˆ°TOONä¸ä»…åœ¨Tokenæ•°é‡ä¸Šæœ‰ä¼˜åŠ¿ï¼Œåœ¨å‡†ç¡®ç‡ä¸Šä¹Ÿæœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼Œæ›´å¤šåŸºå‡†æµ‹è¯•ç»“æœè¯·å‚è€ƒTOONå®˜æ–¹ä»“åº“ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ—¶å€™ä¸ç”¨ TOON</h2>
<p>TOON æ ¼å¼åœ¨å¤„ç†ç»Ÿä¸€ç±»å‹çš„å¯¹è±¡æ•°ç»„æ—¶è¡¨ç°å‡ºè‰²ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå…¶ä»–æ ¼å¼æ›´ä¸ºåˆé€‚ï¼š</p>
<ul>
<li>åµŒå¥—è¿‡æ·±æˆ–ç»“æ„ä¸è§„åˆ™ ï¼ˆè¡¨æ ¼é€‚ç”¨æ€§ â‰ˆ 0%ï¼‰ï¼šJSON-compact é€šå¸¸ä½¿ç”¨è¾ƒå°‘çš„æ ‡è®°ã€‚ä¾‹å¦‚ï¼šå…·æœ‰å¤šä¸ªåµŒå¥—å±‚çš„å¤æ‚é…ç½®å¯¹è±¡ã€‚</li>
<li>åŠå‡åŒ€æ•°ç»„ ï¼ˆçº¦ 40-60% ç¬¦åˆè¡¨æ ¼æ ¼å¼ï¼‰ï¼šTokenèŠ‚çœé‡å‡å°‘ã€‚å¦‚æœæ‚¨çš„piplineå·²ç»ä¾èµ–äº JSONï¼Œåˆ™å»ºè®®ä¼˜å…ˆä½¿ç”¨ JSONã€‚</li>
<li>çº¯è¡¨æ ¼æ•°æ® ï¼šå¯¹äºå¹³é¢è¡¨æ ¼ï¼ŒCSV æ¯” TOON æ ¼å¼æ–‡ä»¶æ›´å°ã€‚TOON æ ¼å¼ä»…éœ€å°‘é‡é¢å¤–å¼€é”€ï¼ˆçº¦ 5-10%ï¼‰å³å¯æä¾›ç»“æ„ä¿¡æ¯ï¼ˆæ•°ç»„é•¿åº¦å£°æ˜ã€å­—æ®µå¤´ã€åˆ†éš”ç¬¦ä½œç”¨åŸŸï¼‰ï¼Œä»è€Œæé«˜ LLM çš„å¯é æ€§ã€‚</li>
<li>å¯¹å»¶è¿Ÿè¦æ±‚ä¸¥æ ¼çš„åº”ç”¨ ï¼šå¦‚æœç«¯åˆ°ç«¯å“åº”æ—¶é—´æ˜¯æ‚¨çš„é¦–è¦è€ƒè™‘å› ç´ ï¼Œè¯·åœ¨æ‚¨çš„å®é™…ç¯å¢ƒä¸­è¿›è¡ŒåŸºå‡†æµ‹è¯•ã€‚æŸäº›éƒ¨ç½²ï¼ˆå°¤å…¶æ˜¯åƒ Ollama è¿™æ ·çš„æœ¬åœ°/é‡åŒ–æ¨¡å‹ï¼‰å³ä½¿ TOON çš„Tokenæ•°é‡è¾ƒå°‘ï¼Œå¤„ç†ç´§å‡‘å‹ JSON çš„é€Ÿåº¦ä¹Ÿå¯èƒ½æ›´å¿«ã€‚è¯·æµ‹é‡ä¸¤ç§æ ¼å¼çš„ TTFTã€æ¯ç§’Tokenæ•°å’Œæ€»æ—¶é—´ï¼Œå¹¶ä½¿ç”¨é€Ÿåº¦æ›´å¿«çš„æ ¼å¼ã€‚</li>
</ul>
<h2 data-id="heading-2">Java ä¸­å¦‚ä½•ä½¿ç”¨ TOON</h2>
<p>å¯¹äºæ•°æ®æ ¼å¼è½¬æ¢ï¼Œå„ä¸»æµè¯­è¨€éƒ½æœ‰å¥½ç”¨çš„SDKå¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ã€‚ä»¥Javaä¸ºä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.felipestanzani<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jtoon<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>ç”¨æ³•ä¹Ÿæ˜¯éå¸¸ç®€å•ï¼Œæ ¸å¿ƒAPIå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java å¯¹è±¡ â†’ TOON å­—ç¬¦ä¸²</span>
<span class="hljs-type">String</span> <span class="hljs-variable">toon</span> <span class="hljs-operator">=</span> JToon.encode(object);

<span class="hljs-comment">// JSON å­—ç¬¦ä¸² â†’ TOON</span>
<span class="hljs-type">String</span> <span class="hljs-variable">toon</span> <span class="hljs-operator">=</span> JToon.encodeJson(jsonString);

<span class="hljs-comment">// TOON â†’ Java å¯¹è±¡</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> JToon.decode(toonString);

<span class="hljs-comment">// TOON â†’ JSON å­—ç¬¦ä¸²</span>
<span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> JToon.decodeToJson(toonString);
</code></pre>
<h2 data-id="heading-3">å°ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†LLMè°ƒç”¨æ—¶JSONæ ¼å¼è°ƒç”¨åœ¨Tokenæ¶ˆè€—çš„åŠ£åŠ¿ï¼Œä»è€Œå¼•å‡ºTOONæ ¼å¼ã€‚å¯¹äºåˆé€‚åœºæ™¯ï¼Œå¦‚æœç›®å‰Tokenæ¶ˆè€—é‡åé«˜çš„åº”ç”¨ï¼Œå¯ä»¥è€ƒè™‘åœ¨æ•°æ®æ ¼å¼ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œä»è€Œå®ç°æˆæœ¬çš„ä¼˜åŒ–ã€‚ç›®å‰ä½ éƒ½ç”¨ä»€ä¹ˆæ ¼å¼å‘¢ï¼Ÿæ˜¯å¦æœ‰ç”¨è¿‡TOONå‘¢ï¼Ÿç•™è¨€åŒºå¯ä»¥èŠä¸€èŠã€‚</p>
<blockquote>
<p>æ›´å¤šæŠ€æœ¯å¹²è´§åˆ†äº«å¯ä»¥å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdidispace.com%2F" target="_blank" title="https://didispace.com/" ref="nofollow noopener noreferrer">æˆ‘çš„ä»£ç ä¸–ç•Œ</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vscodeæ‰“å¼€å…³é—­çŠ¶æ€æ å’Œä¿®æ”¹çŠ¶æ€æ èƒŒæ™¯è‰²]]></title>    <link>https://juejin.cn/post/7572161976594055220</link>    <guid>https://juejin.cn/post/7572161976594055220</guid>    <pubDate>2025-11-14T08:46:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572161976594055220" data-draft-id="7572382777837568040" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vscodeæ‰“å¼€å…³é—­çŠ¶æ€æ å’Œä¿®æ”¹çŠ¶æ€æ èƒŒæ™¯è‰²"/> <meta itemprop="keywords" content="Visual Studio Code"/> <meta itemprop="datePublished" content="2025-11-14T08:46:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Ethan750"/> <meta itemprop="url" content="https://juejin.cn/user/1136213871064839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vscodeæ‰“å¼€å…³é—­çŠ¶æ€æ å’Œä¿®æ”¹çŠ¶æ€æ èƒŒæ™¯è‰²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1136213871064839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Ethan750
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:46:59.000Z" title="Fri Nov 14 2025 08:46:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯ä»¥é€šè¿‡ä¿®æ”¹Â <code>settings.json</code>Â æ–‡ä»¶çš„Â <code>workbench.colorCustomizations</code>Â é¡¹æ¥æ›´æ”¹çŠ¶æ€æ é¢œè‰²ï¼Œå¹¶å¯ä»¥é€šè¿‡Â <code>View</code>Â èœå•æˆ–å¿«æ·å‘½ä»¤æ¥æ‰“å¼€/å…³é—­çŠ¶æ€æ ã€‚è¦æ‰“å¼€çŠ¶æ€æ ï¼Œè¯·ç‚¹å‡»Â <code>View</code>Â (æŸ¥çœ‹) &gt;Â <code>Appearance</code>Â (å¤–è§‚) &gt;Â <code>Show Status Bar</code>Â (æ˜¾ç¤ºçŠ¶æ€æ )ã€‚è¦ä¿®æ”¹é¢œè‰²ï¼Œè¯·æ‰“å¼€Â <code>settings.json</code>Â å¹¶æ·»åŠ Â <code>"statusBar.background"</code>Â å±æ€§ï¼Œç„¶åè®¾ç½®ä½ æƒ³è¦çš„é¢œè‰²ä»£ç ã€‚Â </p>
<p>å¦‚ä½•æ‰“å¼€æˆ–å…³é—­çŠ¶æ€æ </p>
<ul>
<li>
<p><strong>ä½¿ç”¨èœå•</strong>:</p>
<ol>
<li>ç‚¹å‡»é¡¶éƒ¨èœå•æ çš„Â <strong><code>View</code>Â (æŸ¥çœ‹)</strong> ã€‚</li>
<li>å°†é¼ æ ‡æ‚¬åœåœ¨Â <strong><code>Appearance</code>Â (å¤–è§‚)</strong> Â é€‰é¡¹ä¸Šã€‚</li>
<li>åœ¨å±•å¼€çš„èœå•ä¸­ï¼Œé€‰æ‹©æˆ–å–æ¶ˆå‹¾é€‰Â <strong><code>Show Status Bar</code>Â (æ˜¾ç¤ºçŠ¶æ€æ )</strong> Â æ¥è¿›è¡Œåˆ‡æ¢ã€‚</li>
</ol>
</li>
<li>
<p><strong>ä½¿ç”¨å‘½ä»¤é¢æ¿</strong>:</p>
<ol>
<li>æŒ‰ä¸‹Â <code>Ctrl+Shift+P</code>Â (Windows/Linux) æˆ–Â <code>Cmd+Shift+P</code>Â (Mac) æ‰“å¼€å‘½ä»¤é¢æ¿ã€‚</li>
<li>è¾“å…¥Â <code>View: Toggle Status Bar</code>ï¼Œç„¶åæŒ‰å›è½¦é”®ã€‚Â </li>
</ol>
</li>
</ul>
<p>å¦‚ä½•ä¿®æ”¹çŠ¶æ€æ é¢œè‰²</p>
<ol>
<li>
<p>æ‰“å¼€è®¾ç½®æ–‡ä»¶ï¼š</p>
<ul>
<li>ç‚¹å‡»å·¦ä¸‹è§’çš„é½¿è½®å›¾æ ‡ï¼Œç„¶åé€‰æ‹©Â <strong><code>Settings</code>Â (è®¾ç½®)</strong> ã€‚</li>
<li>æœç´¢Â <code>workbench.colorCustomizations</code>ï¼Œç„¶åç‚¹å‡»Â <strong><code>Edit in settings.json</code>Â (åœ¨ settings.json ä¸­ç¼–è¾‘)</strong> ã€‚</li>
</ul>
</li>
<li>
<p>ä¿®æ”¹é¢œè‰²ä»£ç ï¼š</p>
<ul>
<li>
<p>åœ¨Â <code>settings.json</code>Â æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°æˆ–æ·»åŠ Â <code>workbench.colorCustomizations</code>Â å¯¹è±¡ã€‚</p>
</li>
<li>
<p>åœ¨å…¶ä¸­æ·»åŠ Â <code>statusBar.background</code>Â å±æ€§ï¼Œå¹¶è®¾ç½®ä½ å–œæ¬¢çš„é¢œè‰²ä»£ç ï¼ˆä¾‹å¦‚Â <code>#CC0000</code>Â æ˜¯ä¸€ç§çº¢è‰²ï¼‰ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"workbench.colorCustomizations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"statusBar.background"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#CC0000"</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>ä¿å­˜æ–‡ä»¶ï¼š</p>
<ul>
<li>ä¿å­˜Â <code>settings.json</code>Â æ–‡ä»¶ï¼Œä¿®æ”¹å°±ä¼šç«‹å³ç”Ÿæ•ˆã€‚</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å–æ¶ˆå½“å‰æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æ¥å£è¯·æ±‚]]></title>    <link>https://juejin.cn/post/7572390974459084800</link>    <guid>https://juejin.cn/post/7572390974459084800</guid>    <pubDate>2025-11-14T08:40:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572390974459084800" data-draft-id="7572207610495008802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å–æ¶ˆå½“å‰æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æ¥å£è¯·æ±‚"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,axios"/> <meta itemprop="datePublished" content="2025-11-14T08:40:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Miou"/> <meta itemprop="url" content="https://juejin.cn/user/35661362762798"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å–æ¶ˆå½“å‰æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æ¥å£è¯·æ±‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/35661362762798/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Miou
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T08:40:27.000Z" title="Fri Nov 14 2025 08:40:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>éœ€æ±‚ï¼š å½“è¯·æ±‚æ¥å£è¿‡å¤šï¼ŒåŠŸèƒ½ç‚¹åˆ‡æ¢çš„æ—¶å€™éœ€è¦åœæ­¢ä¹‹å‰çš„è¯·æ±‚æ¥å£ã€‚</p>
<p>å®ç°ï¼š</p>
<ul>
<li>axios.ts å®ä¾‹åŒ–æ‹¦æˆªå™¨ï¼Œè‡ªåŠ¨ç»™æ¯ä¸ªè¯·æ±‚æ³¨å…¥ controller.signalï¼Œå¹¶å­˜å…¥ manager</li>
<li>åœ¨å“åº”æˆ–é”™è¯¯é˜¶æ®µç§»é™¤ controller</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestManager</span> {
  <span class="hljs-keyword">private</span> controllers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">AbortController</span>&gt;();
  <span class="hljs-title function_">add</span>(<span class="hljs-params">c: AbortController</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">controllers</span>.<span class="hljs-title function_">add</span>(c); }
  <span class="hljs-title function_">delete</span>(<span class="hljs-params">c: AbortController</span>) { <span class="hljs-variable language_">this</span>.<span class="hljs-property">controllers</span>.<span class="hljs-title function_">delete</span>(c); }
  <span class="hljs-title function_">cancelAll</span>(<span class="hljs-params">reason = <span class="hljs-string">'Canceled by RequestManager'</span></span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> c <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">controllers</span>) c.<span class="hljs-title function_">abort</span>(reason <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controllers</span>.<span class="hljs-title function_">clear</span>();
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> requestManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestManager</span>();
</code></pre>
<pre><code class="hljs language-arduino" lang="arduino">api.interceptors.request.<span class="hljs-built_in">use</span>((config) =&gt; {
  <span class="hljs-comment">// å¦‚æœå¤–éƒ¨å·²ä¼ å…¥ signalï¼Œå°±å¤ç”¨ï¼›å¦åˆ™åˆ›å»ºæ–°çš„</span>
  <span class="hljs-keyword">if</span> (!config.signal) {
    <span class="hljs-type">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-built_in">AbortController</span>();
    config.signal = controller.signal;
    <span class="hljs-comment">// æŠŠ controller æŒ‚åˆ° config ä»¥ä¾¿å“åº”é˜¶æ®µè®¿é—®</span>
    (config as any).__controller = controller;
    requestManager.<span class="hljs-built_in">add</span>(controller);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// è‹¥ç”¨æˆ·è‡ªå¸¦ signalï¼Œä¹Ÿå¯é€‰æ‹©ç™»è®°ä½†æ— æ³•æ‹¿åˆ° controller</span>
  }
  <span class="hljs-keyword">return</span> config;
});
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript">api.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
  <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> controller = (res.<span class="hljs-property">config</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">__controller</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">AbortController</span> | <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">if</span> (controller) requestManager.<span class="hljs-title function_">delete</span>(controller);
    <span class="hljs-keyword">return</span> res;
  },
  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> cfg = error.<span class="hljs-property">config</span> || {};
    <span class="hljs-keyword">const</span> controller = (cfg <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">__controller</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">AbortController</span> | <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">if</span> (controller) requestManager.<span class="hljs-title function_">delete</span>(controller);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);
  }
);
</code></pre>
<pre><code class="hljs language-ini" lang="ini">requestManager.cancelAll())<span class="hljs-comment">;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¶…è¶Šå¤§å°ä¸çƒ­åº¦ï¼šJIMDBâ€œå¤§çƒ­Keyâ€ä¸»åŠ¨æ²»ç†è§£å†³æ–¹æ¡ˆæ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7572190151352156160</link>    <guid>https://juejin.cn/post/7572190151352156160</guid>    <pubDate>2025-11-14T09:06:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572190151352156160" data-draft-id="7572389069705822218" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¶…è¶Šå¤§å°ä¸çƒ­åº¦ï¼šJIMDBâ€œå¤§çƒ­Keyâ€ä¸»åŠ¨æ²»ç†è§£å†³æ–¹æ¡ˆæ·±åº¦è§£æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T09:06:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œé›¶å”®æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/4233576972293643"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¶…è¶Šå¤§å°ä¸çƒ­åº¦ï¼šJIMDBâ€œå¤§çƒ­Keyâ€ä¸»åŠ¨æ²»ç†è§£å†³æ–¹æ¡ˆæ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4233576972293643/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œé›¶å”®æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:06:43.000Z" title="Fri Nov 14 2025 09:06:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»43åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‘˜è¦</h2>
<p><strong>JIMDB</strong>æ˜¯ä¸€æ¬¾åŸºäºRedisç ”å‘çš„ï¼Œå…·å¤‡é«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€åœ¨çº¿ä¼¸ç¼©èƒ½åŠ›çš„åˆ†å¸ƒå¼ç¼“å­˜æœåŠ¡ã€‚JIMDBæœåŠ¡äºäº¬ä¸œé›†å›¢å†…å„ä¸šåŠ¡å•å…ƒï¼Œé€‚ç”¨äºé«˜ååã€ä½å»¶è¿Ÿçš„ä¸šåŠ¡åœºæ™¯ã€‚æœ¬æ–‡ä¸»è¦èšç„¦åœ¨JIMDBåœ¨å¤§çƒ­keyæ–¹é¢çš„ä¼˜åŒ–å’Œæ€è€ƒã€‚</p>
<p><strong>æŒ‘æˆ˜ï¼š</strong> ä»¥JIMDB/Redisä¸ºä»£è¡¨çš„é«˜æ€§èƒ½åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿï¼Œé•¿æœŸä»¥æ¥é¢ä¸´ç€â€œå¤§Keyâ€ä¸â€œçƒ­Keyâ€é—®é¢˜çš„å›°æ‰°ã€‚è¿™äº›é—®é¢˜ä¼šå¯¼è‡´å•ç‚¹èµ„æºè€—å°½ã€æœåŠ¡å“åº”å»¶è¿Ÿã€ç”šè‡³å¼•å‘é›ªå´©å¼æ•…éšœï¼Œä¸¥é‡å¨èƒçº¿ä¸ŠæœåŠ¡çš„ç¨³å®šæ€§ã€‚ç„¶è€Œï¼Œä¸šç•Œä¼ ç»Ÿçš„åŸºäºé™æ€é˜ˆå€¼ï¼ˆå¦‚æ•°æ®å¤§å°æˆ–QPSï¼‰çš„å®šä¹‰ä¸è¢«åŠ¨å¼çš„æ²»ç†æ‰‹æ®µï¼Œåœ¨æ—¥ç›Šå¤æ‚å’Œé«˜ååé‡çš„ä¸šåŠ¡åœºæ™¯ä¸‹å·²æ˜¾ä¸è¶³ã€‚</p>
<p><strong>åˆ›æ–°ï¼š</strong> <strong>JIMDBå›¢é˜Ÿæå‡ºâ€œå¤§çƒ­Keyâ€ï¼ˆBig-Hot Keyï¼‰è¿™ä¸€æ¦‚å¿µã€‚è¯¥å®šä¹‰ä¸å†å±€é™äºKeyçš„å›ºæœ‰å±æ€§ï¼Œè€Œæ˜¯ä»¥èµ„æºå½±å“ä¸ºæ ¸å¿ƒï¼Œä»CPUç®—åŠ›å’Œç½‘ç»œå¸¦å®½çš„å®æ—¶æ¶ˆè€—å‡ºå‘ï¼Œç²¾å‡†è¯†åˆ«é‚£äº›å¯¹æœåŠ¡é€ æˆå®é™…å‹åŠ›çš„å…·ä½“æ“ä½œã€‚è¿™æ ‡å¿—ç€ä»â€œå±æ€§å®šä¹‰â€åˆ°â€œå½±å“å®šä¹‰â€çš„èŒƒå¼è½¬å˜ã€‚</strong></p>
<p><strong>æ–¹æ¡ˆï¼š</strong> ä¸ºåº”å¯¹è¿™ä¸€æŒ‘æˆ˜ï¼ŒJIMDBæ„å»ºäº†ä¸€å¥—å®Œæ•´ã€å¤šå±‚æ¬¡çš„ä¸»åŠ¨æ²»ç†æ¡†æ¶ã€‚è¯¥æ¡†æ¶çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªç²¾å¯†çš„æœåŠ¡ç«¯è¯†åˆ«å¼•æ“ï¼Œå®ƒèƒ½å¤Ÿä¸»åŠ¨ã€å®æ—¶åœ°å‘ç°æ½œåœ¨é£é™©ï¼›åŒæ—¶è¾…ä»¥ä¸€å¥—è‡ªåŠ¨åŒ–ä¸æ‰‹åŠ¨å¹²é¢„ç›¸ç»“åˆçš„ç»¼åˆæ²»ç†å·¥å…·é›†ï¼ŒåŒ…æ‹¬æœåŠ¡ç«¯è‡ªåŠ¨ç¼“å­˜ã€å‘½ä»¤è¯·æ±‚ç†”æ–­ã€é»‘åå•æœºåˆ¶ä»¥åŠä¿éšœæ•°æ®ä¸€è‡´æ€§çš„æ™ºèƒ½å®¢æˆ·ç«¯ç¼“å­˜ç­‰ã€‚</p>
<p><strong>æˆæœï¼š</strong> çº¿ä¸Šç¯å¢ƒçš„å®è¯æµ‹è¯•è¡¨æ˜ï¼Œè¯¥è§£å†³æ–¹æ¡ˆå–å¾—äº†æ˜¾è‘—æ•ˆæœã€‚ä»¥æŸåº”ç”¨çš„é›†ç¾¤ä¸ºä¾‹ï¼Œä»…ä½¿ç”¨æ–¹æ¡ˆä¸­çš„æœåŠ¡ç«¯ç¼“å­˜åºåˆ—åŒ–ç»“æœè¿™ä¸€é¡¹èƒ½åŠ›ï¼Œå°±èƒ½å¤Ÿå°†å®ä¾‹çš„CPUä½¿ç”¨ç‡ä»100%çš„è¿‡è½½çŠ¶æ€é™ä½è‡³30%ï¼ŒåŒæ—¶å°†ç³»ç»Ÿçš„æœ‰æ•ˆååèƒ½åŠ›ï¼ˆOPSï¼‰ä»çº¦6,700æå‡è‡³è¿‘12,000ï¼Œæ€§èƒ½æå‡è¿‘ 80%ï¼Œæ˜¾è‘—é™ä½äº†å…³é”®ç¨³å®šæ€§é£é™©ã€‚</p>
<p><strong>æ„ä¹‰ï¼š</strong> JIMDBçš„è¿™ä¸€æ¢ç´¢ï¼Œä»£è¡¨äº†<strong>ä»æ™®éçš„ã€è¢«åŠ¨çš„ã€ä¾èµ–äººå·¥ä»‹å…¥çš„äº‹ä»¶å“åº”æ¨¡å¼ï¼Œå‘å¹³å°å†…åµŒçš„ã€ä¸»åŠ¨çš„ã€é«˜åº¦è‡ªåŠ¨åŒ–çš„æ²»ç†æ¨¡å¼çš„æŠ€æœ¯è½¬å‹</strong>ã€‚è¿™ä¸€è½¬å˜ä¸ä»…æå¤§åœ°é™ä½äº†è¿ç»´å›¢é˜Ÿçš„è¿è¥è´Ÿæ‹…ï¼Œå¢å¼ºäº†ç³»ç»Ÿçš„å†…ç”Ÿå¼¹æ€§ï¼Œä¹Ÿå‡è½»äº†åº”ç”¨å¼€å‘è€…çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚</p>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼šé‡æ–°å®šä¹‰æ€§èƒ½ç“¶é¢ˆï¼šâ€œå¤§çƒ­Keyâ€èŒƒå¼</h2>
<p>åœ¨æ·±å…¥å‰–æJIMDBçš„è§£å†³æ–¹æ¡ˆä¹‹å‰ï¼Œå¿…é¡»é¦–å…ˆç†è§£å…¶åœ¨<strong>é—®é¢˜å®šä¹‰</strong>å±‚é¢ä¸Šçš„æ ¸å¿ƒåˆ›æ–°ã€‚JIMDBçš„ç­–ç•¥å§‹äºå¯¹ä¼ ç»Ÿç¼“å­˜æ€§èƒ½é—®é¢˜çš„é‡æ–°å®¡è§†ï¼Œå¹¶æœ€ç»ˆå½¢æˆäº†ä¸€ä¸ªæ›´ç²¾ç¡®ã€æ›´è´´è¿‘å®é™…å½±å“çš„ <strong>â€œå¤§çƒ­Keyâ€</strong> æ¦‚å¿µæ¨¡å‹ã€‚è¿™ä¸€ç†è®ºåŸºç¡€çš„é©æ–°ï¼Œæ˜¯å…¶åç»­æ‰€æœ‰æŠ€æœ¯æ–¹æ¡ˆå¾—ä»¥è½åœ°çš„å…³é”®å‰æã€‚</p>
<h3 data-id="heading-2">1.1 ä¼ ç»Ÿç¼“å­˜é—®é¢˜çš„å‰–æï¼šå¤§Keyä¸çƒ­Key</h3>
<p>åœ¨åˆ†å¸ƒå¼ç¼“å­˜é¢†åŸŸï¼Œå¤§Keyå’Œçƒ­Keyæ˜¯ä¸¤ä¸ªæœ€å¹¿ä¸ºäººçŸ¥ã€ä¹Ÿæœ€å¸¸å¯¼è‡´çº¿ä¸Šæ•…éšœçš„æ€§èƒ½é—®é¢˜ã€‚å®ƒä»¬å„è‡ªä»<strong>æ•°æ®ä½“ç§¯å’Œè®¿é—®é¢‘ç‡</strong>ä¸¤ä¸ªç»´åº¦æè¿°äº†æ½œåœ¨çš„é£é™© ã€‚</p>
<p><strong>å¤§Key (Big Key)ï¼š</strong> å…¶æ ¸å¿ƒç‰¹å¾æ˜¯Keyæ‰€å­˜å‚¨çš„Valueä½“ç§¯è¿‡å¤§ã€‚é€šå¸¸ï¼Œåˆ¤æ–­æ ‡å‡†æ˜¯é™æ€çš„ã€åŸºäºç»éªŒçš„é˜ˆå€¼ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªStringç±»å‹çš„Valueé•¿åº¦è¶…è¿‡1MBï¼Œæˆ–è€…ä¸€ä¸ªé›†åˆç±»å‹ï¼ˆå¦‚Hash, List, Setï¼‰çš„å…ƒç´ æ•°é‡è¶…è¿‡5,000ä¸ªæˆ–æ€»å†…å­˜å ç”¨è¶…è¿‡100MBï¼Œå³å¯è¢«è§†ä¸ºå¤§Key ã€‚</p>
<p><strong>å¤§Keyå¸¦æ¥çš„ä¸»è¦é£é™©åŒ…æ‹¬ï¼š</strong></p>
<ol>
<li><strong>å†…å­˜å‹åŠ›ï¼š</strong> å•ä¸ªå¤§Keyä¼šè¿‡åº¦å ç”¨æŸä¸ªæ•°æ®åˆ†ç‰‡çš„å†…å­˜ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜ç¢ç‰‡åŒ–ã€åˆ†é…ä¸å‡ï¼Œç”šè‡³å¼•å‘OOMï¼ˆOut of Memoryï¼‰ ã€‚</li>
<li><strong>æ“ä½œé˜»å¡ï¼š</strong> å¯¹å¤§Keyæ‰§è¡ŒæŸäº›éœ€è¦éå†æˆ–åºåˆ—åŒ–æ•´ä¸ªValueçš„å‘½ä»¤ï¼ˆå¦‚HGETALL, LRANGE key 0 -1ï¼‰æ—¶ï¼Œç”±äºæ“ä½œè€—æ—¶è¿‡é•¿ï¼Œä¼šé˜»å¡Redisçš„å•çº¿ç¨‹äº‹ä»¶å¾ªç¯ï¼Œå¯¼è‡´è¯¥åˆ†ç‰‡ä¸Šçš„æ‰€æœ‰å…¶ä»–è¯·æ±‚å»¶è¿Ÿå‡é«˜ç”šè‡³è¶…æ—¶ ã€‚</li>
<li><strong>æŒä¹…åŒ–ä¸å¤åˆ¶å»¶è¿Ÿï¼š</strong> åœ¨è¿›è¡ŒRDBå¿«ç…§æˆ–AOFé‡å†™æ—¶ï¼Œåºåˆ—åŒ–å¤§Keyä¼šæ¶ˆè€—å¤§é‡CPUå’Œæ—¶é—´ã€‚åœ¨ä¸»ä»å¤åˆ¶åœºæ™¯ä¸‹ï¼Œä¼ è¾“å·¨å¤§çš„Valueä¹Ÿä¼šå¢åŠ ç½‘ç»œè´Ÿæ‹…å’ŒåŒæ­¥å»¶è¿Ÿ ã€‚</li>
</ol>
<p><strong>çƒ­Key (Hot Key)ï¼š</strong> å…¶æ ¸å¿ƒç‰¹å¾æ˜¯Keyè¢«è®¿é—®çš„é¢‘ç‡æé«˜ï¼Œè¿œè¶…é›†ç¾¤çš„å¹³å‡æ°´å¹³ã€‚å…¶åˆ¤æ–­æ ‡å‡†åŒæ ·æ˜¯åŸºäºé™æ€çš„QPSï¼ˆQueries Per Secondï¼‰é˜ˆå€¼ï¼Œä¾‹å¦‚ï¼Œå•ä¸ªKeyçš„è¯·æ±‚é‡è¶…è¿‡10,000 QPS ã€‚</p>
<p><strong>çƒ­Keyçš„ä¸»è¦é£é™©åœ¨äºï¼š</strong></p>
<ol>
<li><strong>å•ç‚¹ç“¶é¢ˆï¼š</strong> åœ¨JIMDBç­‰åˆ†å¸ƒå¼æ¶æ„ä¸­ï¼Œä¸€ä¸ªKeyåŠå…¶æ‰€æœ‰è®¿é—®è¯·æ±‚éƒ½ä¼šè¢«è·¯ç”±åˆ°åŒä¸€ä¸ªæ•°æ®åˆ†ç‰‡ï¼ˆShardï¼‰ã€‚å½“ä¸€ä¸ªKeyæˆä¸ºçƒ­ç‚¹æ—¶ï¼Œæ‰€æœ‰æµé‡å°†é›†ä¸­å†²å‡»è¯¥åˆ†ç‰‡ï¼Œå¯¼è‡´å…¶CPUã€ç½‘ç»œç­‰èµ„æºè¢«ç‡å…ˆè€—å°½ï¼Œå½¢æˆå•ç‚¹æ€§èƒ½ç“¶é¢ˆï¼Œè€Œé›†ç¾¤ä¸­çš„å…¶ä»–èŠ‚ç‚¹å¯èƒ½ä»å¤„äºç©ºé—²çŠ¶æ€ ã€‚</li>
<li><strong>ç¼“å­˜å‡»ç©¿/é›ªå´©ï¼š</strong> å¦‚æœä¸€ä¸ªçƒ­Keyæ°å¥½åœ¨æ­¤æ—¶è¿‡æœŸï¼Œç¬æ—¶å¤§é‡å¹¶å‘è¯·æ±‚ä¼šç©¿é€ç¼“å­˜å±‚ï¼Œç›´æ¥æ¶Œå‘åç«¯æ•°æ®åº“ï¼Œå¯èƒ½å¼•å‘æ•°æ®åº“è¿‡è½½ç”šè‡³å®•æœº ã€‚</li>
</ol>
<p>ç„¶è€Œï¼Œé•¿æœŸçš„çº¿ä¸Šå®è·µè¡¨æ˜ï¼Œä»…ä¾èµ–è¿™ä¸¤ç§å•ç»´åº¦çš„å®šä¹‰æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚æ ¹æ®ç»Ÿè®¡ï¼Œåœ¨åŒåä¸€ç­‰å¤§ä¿ƒæœŸé—´çš„ç›‘æ§å‘Šè­¦ä¸­ï¼Œå¤§éƒ¨åˆ†æ˜¯ç”±å¤§çƒ­Keyé—®é¢˜å¼•å‘ã€‚ä½†æ¶‰åŠçš„Keyå¾€å¾€æ—¢ä¸æ»¡è¶³â€œå¤§Keyâ€é˜ˆå€¼ï¼ˆæœªè¾¾åˆ°1Mæˆ–è€…5000ä¸ªfieldï¼‰ï¼Œä¹Ÿä¸ç¬¦åˆâ€œçƒ­Keyâ€æ ‡å‡†ï¼ˆæœªè¾¾åˆ°10,000QPSï¼‰ã€‚è¿™æ—¢å‡¸æ˜¾æ²»ç†çš„è¿«åˆ‡æ€§ï¼Œä¹Ÿæš´éœ²äº†ä¼ ç»Ÿå®šä¹‰çš„å±€é™â€”â€”<strong>è®¸å¤šå¯¼è‡´æ•…éšœçš„åœºæ™¯ï¼Œå…¶æ•°æ®é‡ä¸ QPS å¹¶æœªè¾¾åˆ°ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„â€œæ›´å¤§â€æˆ–â€œæ›´çƒ­â€é˜ˆå€¼ã€‚è¿™æ­£æ˜¯ JIMDB æå‡ºæ–°æ¦‚å¿µçš„æ ¹æœ¬åŠ¨å› ã€‚</strong></p>
<h3 data-id="heading-3">1.2 â€œå¤§çƒ­Keyâ€çš„è¯ç”Ÿï¼šä¸€ç§åŸºäºèµ„æºå½±å“çš„åŠ¨æ€å®šä¹‰</h3>
<p><strong>è§£å†³é—®é¢˜çš„å‰ææ˜¯ç²¾å‡†å®šä¹‰é—®é¢˜ã€‚</strong> JIMDB ç»“åˆä¸šåŠ¡å®è·µï¼Œæå‡ºäº†â€˜å¤§çƒ­ Keyâ€™(Big-Hot Key) çš„æ¦‚å¿µã€‚è¿™æ˜¯ä¸€ä¸ªæ·±åˆ»çš„èŒƒå¼è½¬å˜ï¼Œå…¶<strong>å®šä¹‰ä¸å†å…³æ³¨Keyçš„é™æ€å±æ€§ï¼Œè€Œæ˜¯èšç„¦äºè®¿é—®è¡Œä¸ºå¯¹æœåŠ¡ç«¯äº§ç”Ÿçš„å®é™…å½±å“ã€‚</strong></p>
<p><strong>å¤§çƒ­Keyï¼š</strong> <strong>ä¸€ä¸ªé’ˆå¯¹ç‰¹å®šKeyçš„ã€ä¸å…·ä½“å‘½ä»¤å’Œå‚æ•°å¼ºç›¸å…³çš„æ“ä½œï¼Œå› å…¶å¤„ç†çš„æ•°æ®é‡ä¸æ‰§è¡Œé¢‘æ¬¡çš„å åŠ æ•ˆåº”ï¼Œ</strong> <strong>å¯¼è‡´æœåŠ¡ç«¯CPUæˆ–ç½‘ç»œå¸¦å®½è¢«è€—å°½çš„äº‹ä»¶</strong> <strong>ã€‚</strong></p>
<ul>
<li><strong>å…³é”®åŒºåˆ«ï¼š</strong> ä¸å¤§Keyå’Œçƒ­Keyçš„æœ¬è´¨ä¸åŒåœ¨äºï¼Œå¤§çƒ­Keyçš„åˆ¤å®šæ˜¯åŠ¨æ€çš„ã€ä¸Šä¸‹æ–‡ç›¸å…³çš„ï¼Œå¹¶ä¸”ä¸å…·ä½“å‘½ä»¤åŠå…¶å‚æ•°å¼ºç»‘å®šã€‚ä¸€ä¸ªæ‹¥æœ‰ç™¾ä¸‡å…ƒç´ çš„Listæœ¬èº«å¯èƒ½åªæ˜¯ä¸€ä¸ªå¤§Keyï¼Œä½†å¦‚æœä¸šåŠ¡æ¯æ¬¡åªé€šè¿‡LRANGE key 0 10è®¿é—®å°‘é‡å…ƒç´ ï¼Œå®ƒå¹¶ä¸ä¼šæ„æˆå¤§çƒ­Keyã€‚åä¹‹ï¼Œä¸€ä¸ªä»…æœ‰æ•°åƒä¸ªå…ƒç´ çš„Hashï¼Œå¦‚æœè¢«é«˜é¢‘æ¬¡åœ°æ‰§è¡ŒHGETALLï¼Œå°±å¯èƒ½å› ä¸ºå…¶å åŠ æ•ˆåº”è€—å°½CPUæˆ–å¸¦å®½ï¼Œä»è€Œè¢«åˆ¤å®šä¸ºå¤§çƒ­Key ã€‚è¿™æ„å‘³ç€ï¼Œ<strong>é—®é¢˜çš„æ ¹æºä¸åœ¨äºKeyæœ¬èº«ï¼Œè€Œåœ¨äºâ€œ</strong> <strong>å¯¹è¿™ä¸ªKeyæ‰§è¡Œçš„è¿™ä¸ªç‰¹å®šæ“ä½œ</strong> <strong>â€ã€‚</strong></li>
<li><strong>æ¦‚å¿µå…³ç³»ä¸ç›²åŒºè¦†ç›–</strong>ï¼š å¤§Keyã€çƒ­Keyä¸å¤§çƒ­Keyä¸‰è€…ä¹‹é—´å­˜åœ¨äº¤é›†ï¼Œä½†å¤§çƒ­Keyçš„èŒƒç•´æ›´å¹¿ï¼Œè¦†ç›–äº†å‰ä¸¤è€…æ— æ³•æè¿°çš„ç°è‰²åœ°å¸¦ã€‚</li>
</ul>
<p><img src="" alt="" loading="lazy"/></p>
<ul>
<li>ä¸€ä¸ªKeyå¯ä»¥æ—¢æ˜¯å¤§Keyä¹Ÿæ˜¯å¤§çƒ­Keyï¼ˆä¾‹å¦‚ï¼Œå¯¹ä¸€ä¸ªåŒ…å«1ä¸‡ä¸ªå…ƒç´ çš„Setæ‰§è¡Œå‡ åæ¬¡SMEMBERSï¼‰ã€‚</li>
<li>ä¸€ä¸ªKeyå¯ä»¥æ—¢æ˜¯çƒ­Keyä¹Ÿæ˜¯å¤§çƒ­Keyï¼ˆä¾‹å¦‚ï¼Œå¯¹ä¸€ä¸ªValueä¸º50KBçš„Stringä»¥20,000 QPSæ‰§è¡ŒGETï¼Œå¯èƒ½æ‰“æ»¡ç½‘å¡ï¼‰ã€‚</li>
<li>ä¸€ä¸ªKeyå¯ä»¥åŒæ—¶æ˜¯ä¸‰è€…ï¼ˆä¾‹å¦‚ï¼Œå¯¹ä¸€ä¸ªåŒ…å«1ä¸‡ä¸ªå…ƒç´ çš„Hashä»¥1,0000 QPSæ‰§è¡ŒHGETALLï¼‰ã€‚ç†è®ºå­˜åœ¨ï¼Œå®é™…å¾ˆéš¾ã€‚</li>
<li>æœ€å…³é”®çš„æ˜¯ï¼Œ<strong>ä¸€ä¸ªKeyå¯ä»¥æ—¢ä¸æ˜¯ä¼ ç»Ÿå¤§Keyï¼Œä¹Ÿä¸æ˜¯ä¼ ç»Ÿçƒ­Keyï¼Œä½†å´æ˜¯è‡´å‘½çš„å¤§çƒ­Keyã€‚</strong> ä¾‹å¦‚ï¼Œä¸€ä¸ªåŒ…å«8,000ä¸ªå…ƒç´ çš„Listï¼ˆæœªè¾¾åˆ°å¤§Keyæ ‡å‡†ï¼‰ï¼Œä»¥4000 QPSï¼ˆæœªè¾¾åˆ°çƒ­Keyæ ‡å‡†ï¼‰çš„é¢‘ç‡æ‰§è¡ŒLRANGE key 0 -1ï¼ˆéå†åˆ—è¡¨ï¼Œå¤æ‚åº¦O(n)ï¼‰ï¼Œå…¶å åŠ æ•ˆåº”å®Œå…¨å¯èƒ½å°†å•æ ¸CPUæ‰“æ»¡ã€‚è¿™éƒ¨åˆ†â€œéšæ€§ç“¶é¢ˆâ€æ­£æ˜¯ä¼ ç»Ÿç›‘æ§å’Œæ²»ç†æ–¹æ¡ˆçš„ç›²åŒºï¼Œä¹Ÿæ˜¯å¤§çƒ­Keyæ¦‚å¿µæå‡ºçš„ä»·å€¼æ‰€åœ¨ ã€‚</li>
</ul>
<p>ä¸‹è¡¨æ¸…æ™°åœ°å¯¹æ¯”äº†è¿™ä¸‰ç§Keyçš„ç‰¹æ€§ï¼Œçªæ˜¾äº†å¤§çƒ­Keyå®šä¹‰çš„æ¼”è¿›æ„ä¹‰ã€‚</p>





























<table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>æ ¸å¿ƒç‰¹å¾</strong></th><th><strong>åˆ¤æ–­æ ‡å‡†</strong></th><th><strong>ä¸»è¦é£é™©</strong></th></tr></thead><tbody><tr><td><strong>å¤§Key</strong></td><td>æ•°æ®ä½“ç§¯è¿‡å¤§</td><td>å•ç»´åº¦æ•°æ®é‡è¶…æ ‡ï¼ˆå¦‚Value &gt; 1MBï¼Œå…ƒç´  &gt; 5000ï¼‰</td><td>å†…å­˜å‹åŠ›ã€æ“ä½œé˜»å¡ã€æŒä¹…åŒ–å»¶è¿Ÿ</td></tr><tr><td><strong>çƒ­Key</strong></td><td>è®¿é—®é¢‘æ¬¡è¿‡é«˜</td><td>å•ç»´åº¦QPSè¶…æ ‡ï¼ˆå¦‚QPS &gt; 10000ï¼‰</td><td>å•ç‚¹ç“¶é¢ˆã€ç¼“å­˜å‡»ç©¿ã€ç½‘ç»œæ‹¥å¡</td></tr><tr><td><strong>å¤§çƒ­Key</strong></td><td>æ•°æ®é‡ä¸è®¿é—®é¢‘æ¬¡çš„å åŠ æ•ˆåº”</td><td>èµ„æºå½±å“è¶…æ ‡ï¼ˆCPUæˆ–å¸¦å®½è¾¾åˆ°ç“¶é¢ˆï¼‰</td><td>éšæ€§èµ„æºæ¶ˆè€—ã€æœåŠ¡é˜»å¡ã€çªå‘æ€§ç³»ç»Ÿå´©æºƒ</td></tr></tbody></table>
<h3 data-id="heading-4">1.3 å¤§çƒ­Keyé—®é¢˜çš„æ ¹æºè¿½æº¯</h3>
<p>å¤§çƒ­Keyé—®é¢˜åœ¨çº¿ä¸Šç¯å¢ƒä¸­å±¡ç¦ä¸æ­¢ï¼Œå…¶æ ¹æºå¯ä»¥å½’ç»“ä¸ºç³»ç»Ÿç”Ÿå‘½å‘¨æœŸä¸­çš„ä¸‰ä¸ªé˜¶æ®µæ€§ç¼ºé™· ï¼š</p>
<ol>
<li><strong>è®¾è®¡åˆæœŸ-ä¸šåŠ¡æ¼”è¿›è·¯å¾„ä¸æ˜ç¡®ï¼š</strong> åœ¨ç³»ç»Ÿæ¶æ„è®¾è®¡çš„åˆå§‹é˜¶æ®µï¼Œç”±äºä¸šåŠ¡æ¼”è¿›è·¯å¾„çš„ä¸ç¡®å®šæ€§ï¼Œæœªæ¥ä¸šåŠ¡è§„æ¨¡çš„æ‰©å±•æ–¹å‘ã€æ•°æ®æ¨¡å‹çš„è¿­ä»£è·¯å¾„ä»¥åŠè®¿é—®æ¨¡å¼çš„åŠ¨æ€å˜åŒ–å¾€å¾€éš¾ä»¥å‡†ç¡®é¢„åˆ¤ã€‚è¿™ç§ä¸ç¡®å®šæ€§å¯¼è‡´ç³»ç»Ÿæ¶æ„è®¾è®¡æ—¶å®¹æ˜“å¿½è§†å¯¹å¤§çƒ­Keyçš„å‰ç»æ€§æ²»ç†ï¼Œä»è€Œåœ¨æ¶æ„å±‚é¢åŸ‹ä¸‹æ½œåœ¨é£é™©éšæ‚£ã€‚</li>
<li><strong>ä¸šåŠ¡æ¼”è¿›è¿‡ç¨‹-æ¶æ„å¤æ‚å¤šå˜ï¼š</strong> éšç€ä¸šåŠ¡çš„å¿«é€Ÿè¿­ä»£å’ŒåŠŸèƒ½æ¼”è¿›ï¼Œæ•°æ®å’Œè®¿é—®æ¨¡å¼æŒç»­å˜åŒ–ã€‚åŸæœ‰çš„è®¾è®¡å¯èƒ½ä¸å†é€‚ç”¨ï¼Œæ–°çš„å¤§çƒ­Keyåœ¨ä¸ç»æ„é—´å½¢æˆã€‚è€Œä¼ ç»Ÿçš„æ²»ç†æ‰‹æ®µï¼Œå¦‚å‘¨æœŸæ€§çš„å¤§Keyæ‰«æå’ŒåŸºäºQPSé˜ˆå€¼çš„çƒ­Keyç¼“å­˜ï¼Œéœ€è¦æ‰‹åŠ¨è§¦å‘æˆ–è¦†ç›–åœºæ™¯å—é™ï¼Œç¼ºä¹å¯¹â€œå¤§çƒ­Keyâ€è¿™ç§åŠ¨æ€é£é™©äº‹ä»¶çš„ä¸»åŠ¨è¯†åˆ«èƒ½åŠ› ã€‚</li>
<li><strong>ç›‘æ§å“åº”æœŸ-è‡ªåŠ¨åŒ–ç¨‹åº¦ä½ï¼š</strong> å½“é—®é¢˜å‘ç”Ÿï¼Œç›‘æ§ç³»ç»Ÿè§¦å‘CPUæˆ–å¸¦å®½å‘Šè­¦æ—¶ï¼Œè¿ç»´äººå‘˜é¢ä¸´çš„å¾€å¾€æ˜¯â€œæœâ€è€Œä¸æ˜¯â€œå› â€ã€‚ç”±äºç¼ºä¹ç²¾å‡†çš„è‡ªåŠ¨åŒ–å½’å› å·¥å…·ï¼Œä»å‘Šè­¦åˆ°å®šä½åˆ°å…·ä½“çš„é—®é¢˜Keyï¼Œéœ€è¦è€—è´¹å¤§é‡å®è´µçš„æ—¶é—´è¿›è¡Œäººå·¥æ’æŸ¥ã€‚åœ¨æœåŠ¡å·²ç»é˜»å¡çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸€åˆ†é’Ÿçš„å»¶è¿Ÿéƒ½å¯èƒ½é€ æˆå·¨å¤§çš„ä¸šåŠ¡æŸå¤±ã€‚è¿™ç§è¢«åŠ¨çš„ã€ä½æ•ˆçš„å“åº”æ¨¡å¼ï¼Œä½¿å¾—é—®é¢˜çš„å½±å“èŒƒå›´è¢«æ— é™æ”¾å¤§ ã€‚</li>
</ol>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒJIMDBé€šè¿‡æå‡ºâ€œå¤§çƒ­Keyâ€æ¦‚å¿µï¼Œç²¾å‡†åœ°æŠ“ä½äº†åˆ†å¸ƒå¼ç¼“å­˜æ€§èƒ½é—®é¢˜çš„æœ¬è´¨â€”â€”èµ„æºæ¶ˆè€—ã€‚è¿™ä¸€è®¤çŸ¥çš„å‡çº§ï¼Œä¸ºåç»­æ„å»ºä¸€å¥—ä»¥â€œä¸»åŠ¨è¯†åˆ«â€ä¸ºæ ¸å¿ƒã€ä»¥â€œè‡ªåŠ¨åŒ–æ²»ç†â€ä¸ºç›®æ ‡çš„å…ˆè¿›è§£å†³æ–¹æ¡ˆå¥ å®šäº†åšå®çš„ç†è®ºåŸºç¡€ã€‚</p>
<hr/>
<h2 data-id="heading-5">ç¬¬äºŒç« ï¼šæ™ºèƒ½æ„ŸçŸ¥å±‚ï¼šJIMDBçš„å¤šç»´è¯†åˆ«å¼•æ“</h2>
<p>ç¡®ç«‹äº†ä»¥èµ„æºå½±å“ä¸ºæ ¸å¿ƒçš„â€œå¤§çƒ­Keyâ€å®šä¹‰åï¼Œä¸‹ä¸€ä¸ªå…³é”®æŒ‘æˆ˜ä¾¿æ˜¯å¦‚ä½•æ„å»ºä¸€ä¸ªèƒ½å¤Ÿ<strong>å®æ—¶ã€å‡†ç¡®ã€ä½è€—åœ°</strong>è¯†åˆ«è¿™äº›é£é™©çš„å¼•æ“ã€‚JIMDBçš„æœåŠ¡ç«¯ä¸ºæ­¤è®¾è®¡äº†ä¸€å¥—ç²¾å¯†çš„ã€å¤šå±‚æ¬¡çš„è¯†åˆ«ç­–ç•¥ã€‚è¯¥å¼•æ“å¹¶éç®€å•çš„é˜ˆå€¼ç›‘æ§ï¼Œè€Œæ˜¯ä¸€ä¸ªç»“åˆäº†å®æ—¶è®¡ç®—ã€é™æ€é¢„åˆ¤å’Œæœºå™¨å­¦ä¹ é¢„æµ‹çš„æ™ºèƒ½æ„ŸçŸ¥ç³»ç»Ÿï¼Œæ„æˆäº†æ•´ä¸ªæ²»ç†æ–¹æ¡ˆçš„â€œå¤§è„‘â€ã€‚</p>
<h3 data-id="heading-6">2.1 è¯†åˆ«æµç¨‹çš„ä¼˜åŒ–ï¼šä¸‰çº§ç€‘å¸ƒå¼æ£€æµ‹åŸåˆ™</h3>
<p>ä¸ºäº†æœ€å¤§é™åº¦åœ°é™ä½è¯†åˆ«è¿‡ç¨‹æœ¬èº«å¯¹æœåŠ¡æ€§èƒ½çš„å½±å“ï¼ŒJIMDBçš„è¯†åˆ«å¼•æ“éµå¾ªä¸€ä¸ªâ€œç”±ç®€å…¥ç¹ã€å¿«é€Ÿå¤±è´¥â€çš„ç€‘å¸ƒå¼æ£€æµ‹åŸåˆ™ã€‚å½“ä¸€ä¸ªå‘½ä»¤è¢«æ‰§è¡Œæ—¶ï¼ŒæœåŠ¡ç«¯ä¼šä¾æ¬¡è¿›è¡Œä»¥ä¸‹ä¸‰ä¸ªå±‚é¢çš„æ£€æŸ¥ï¼Œä¸€æ—¦æ»¡è¶³ä»»ä¸€æ¡ä»¶ï¼Œå³åˆ¤å®šä¸ºå¤§çƒ­Keyå¹¶ä¸­æ­¢åç»­æ­¥éª¤ï¼š</p>
<ol>
<li>å¸¦å®½ç“¶é¢ˆæ£€æµ‹ï¼š é¦–å…ˆåˆ¤æ–­ç½‘ç»œå¸¦å®½æ˜¯å¦æˆä¸ºç“¶é¢ˆã€‚</li>
<li>é›†åˆå¤§å°ç“¶é¢ˆæ£€æµ‹ï¼š è‹¥æœªè§¦åŠå¸¦å®½ç“¶é¢ˆï¼Œåˆ™å¯¹é›†åˆç±»å‹è¿›è¡Œé™æ€å¤§å°æ£€æŸ¥ã€‚</li>
<li>CPUç®—åŠ›ç“¶é¢ˆæ£€æµ‹ï¼š æœ€åï¼Œå¯¹å‰©ä½™çš„å‘½ä»¤è¿›è¡ŒåŸºäºé¢„æµ‹æ¨¡å‹çš„CPUè´Ÿè½½åˆ†æã€‚</li>
</ol>
<p>è¿™ç§è®¾è®¡ç¡®ä¿äº†è®¡ç®—å¼€é”€æœ€å°çš„æ£€æŸ¥è¢«ä¼˜å…ˆæ‰§è¡Œã€‚å¸¦å®½æ£€æµ‹åªæ¶‰åŠç®€å•çš„æ•°å€¼æ¯”è¾ƒï¼Œæœ€ä¸ºé«˜æ•ˆã€‚å³ä¾¿è¿›å…¥ç¬¬ä¸‰å±‚ï¼Œä»ä»…éœ€å¸¸æ•°çº§ä¹˜æ³•ï¼Œè®¡ç®—è´Ÿæ‹…è½»ä¸”å¯é¢„æµ‹ã€‚æ—¢ä¿è¯è¯†åˆ«å‡†ç¡®æ€§ï¼Œåˆå°†æ€»ä½“æ€§èƒ½å¼€é”€é™åˆ°æœ€ä½ã€‚</p>
<h3 data-id="heading-7">2.2 ç­–ç•¥ä¸€ï¼šç½‘ç»œå¸¦å®½é¥±å’Œåº¦çš„å‰å“¨é¢„è­¦</h3>
<p>åœ¨è®¸å¤šåœºæ™¯ä¸‹ï¼Œå‘½ä»¤æœ¬èº«çš„è®¡ç®—å¤æ‚åº¦ä¸é«˜ï¼Œä½†å…¶è¿”å›çš„æ•°æ®é‡å·¨å¤§ï¼Œæ­¤æ—¶ç½‘ç»œå¸¦å®½ä¾¿æˆä¸ºæ€§èƒ½çš„çŸ­æ¿ã€‚LRANGEã€ZRANGEã€HVALSç­‰å‘½ä»¤åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶å°¤ä¸ºå¦‚æ­¤ ã€‚</p>
<p><strong>ç®—æ³•åŸç†ï¼š</strong> è¯¥ç­–ç•¥é€šè¿‡æ¯”è¾ƒå½“å‰å‘½ä»¤äº§ç”Ÿçš„ç¬æ—¶å¸¦å®½ä¸å®ä¾‹æ€»è¾“å‡ºå¸¦å®½çš„ä¸€ä¸ªé¢„è®¾é˜ˆå€¼æ¥åšå‡ºåˆ¤æ–­ã€‚</p>
<p><strong>ç¬æ—¶å¸¦å®½è®¡ç®—ï¼š</strong> æœåŠ¡ç«¯ä¼šä¼°ç®—å½“å‰å‘½ä»¤å•æ¬¡æ‰§è¡Œè¿”å›çš„æ•°æ®å¤§å°ï¼ˆresponse_sizeï¼‰ï¼Œå¹¶ç»“åˆå…¶åœ¨çŸ­æ—¶é—´çª—å£å†…çš„æ‰§è¡Œé¢‘ç‡ï¼ˆOPSï¼‰ï¼Œè®¡ç®—å‡ºç¬æ—¶å¸¦å®½ã€‚ä¾‹å¦‚ï¼š</p>
<p>current_key_bandwidth = response_size * OPS</p>
<p><strong>å¸¦å®½é˜ˆå€¼ (bandwidth_limit)ï¼š</strong> è¯¥é˜ˆå€¼æ˜¯å®ä¾‹æ€»è¾“å‡ºå¸¦å®½ï¼ˆå¯é€šè¿‡config get output-limitæŸ¥è¯¢ï¼‰çš„ä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œä¾‹å¦‚ï¼Œå»ºè®®å€¼ä¸º70%ã€‚</p>
<p><strong>åˆ¤å®šè§„åˆ™ï¼šå¦‚æœå•keyçš„æµé‡è¾¾åˆ°é™æµé˜ˆå€¼70%ï¼Œå³ä¸ºå¤§çƒ­keyã€‚</strong></p>
<p>\text{if } (current_key_bandwidth &gt; output_limit \times 70%) \implies isBighotkey = \text{true}</p>
<p><strong>å¤§çƒ­KeyæŒ‡æ•°è§£è¯»ï¼š</strong> å½“é€šè¿‡å¸¦å®½ç“¶é¢ˆè¯†åˆ«å‡ºå¤§çƒ­Keyæ—¶ï¼Œå…¶å¯¹åº”çš„â€œå¤§çƒ­KeyæŒ‡æ•°â€è¢«è®¾è®¡ä¸ºè¿‘ä¼¼ç­‰äºå½“å‰å‘½ä»¤åœ¨1ç§’å†…äº§ç”Ÿçš„æµé‡ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚è¿™ä¸ªæŒ‡æ•°ç›´è§‚åœ°åæ˜ äº†è¯¥æ“ä½œå¯¹ç½‘ç»œèµ„æºçš„å‹åŠ›å¤§å°ï¼ŒæŒ‡æ•°è¶Šé«˜ï¼Œå½±å“è¶Šå¤§ ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªæŒ‡æ•°ä¸º140374100çš„è®°å½•ï¼Œæ„å‘³ç€è¯¥æ“ä½œåœ¨å‘ç”Ÿæ—¶äº§ç”Ÿäº†çº¦140MB/sçš„å‡ºå£æµé‡ ã€‚æœåŠ¡ç«¯å“åº”å¤§å°ä¸º548.34KBï¼ŒæŒ‡çš„æ˜¯å½“å‰è¿™ä¸€æ¡å‘½ä»¤æ‰§è¡Œä¸€æ¬¡ï¼ŒæœåŠ¡ç«¯è¿”å›çš„æ•°æ®å¤§å°ã€‚äºæ˜¯ï¼Œè¿™æ¡å¤§çƒ­keyè®°å½•å‘ç”Ÿæ—¶ï¼Œopså°±æ˜¯140374100/548.34/1024 â‰ˆ 250ã€‚</p>
</blockquote>
<p><img src="" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">2.3 ç­–ç•¥äºŒï¼šé›†åˆè§„æ¨¡çš„é™æ€é£é™©é¢„åˆ¤</h3>
<p>å¯¹äºé›†åˆç±»å‹çš„æ•°æ®ç»“æ„ï¼ŒæŸäº›æ“ä½œæ¨¡å¼å³ä½¿åœ¨ä½QPSä¸‹ä¹Ÿå­˜åœ¨å·¨å¤§çš„æ½œåœ¨é£é™©ã€‚è¯¥ç­–ç•¥æ—¨åœ¨æå‰è¯†åˆ«å¹¶æ ‡è®°è¿™äº›â€œå®šæ—¶ç‚¸å¼¹â€ï¼Œä»¥ä¾¿ä¸šåŠ¡æ–¹èƒ½å¤Ÿè¿›è¡Œå‰ç»æ€§çš„ä¼˜åŒ–ã€‚</p>
<p><strong>ç®—æ³•åŸç†ï¼š</strong> åŸºäºé™æ€æ•°æ®è§„æ¨¡çš„ç¡¬æ€§è§„åˆ™ã€‚å¯¹äºé›†åˆç±»å‹ï¼ˆList, Hash, Set, ZSetï¼‰ï¼Œåªè¦æ»¡è¶³ä»¥ä¸‹ä»»ä¸€æ¡ä»¶ï¼Œè¯¥æ“ä½œå°±ä¼šè¢«ç›´æ¥åˆ¤å®šä¸ºå¤§çƒ­Key ï¼š</p>
<ol>
<li>å…ƒç´ æ•°é‡è¶…é™ï¼š é›†åˆå†…çš„å…ƒç´ æ€»æ•°è¶…è¿‡100,000ä¸ªã€‚</li>
<li>å•æ¬¡è¿”å›æ•°æ®é•¿åº¦è¶…é™ï¼š å•æ¡å‘½ä»¤è¿”å›çš„æ•°æ®å¤§å°è¶…è¿‡1MBã€‚</li>
</ol>
<p><strong>è®¾è®¡ç†å¿µï¼š</strong> è¿™ç§ç­–ç•¥çš„å‡ºå‘ç‚¹æ˜¯é£é™©é¢„é˜²è€Œéå®æ—¶ç“¶é¢ˆæ£€æµ‹ã€‚ä¸€ä¸ªåŒ…å«10ä¸‡ä¸ªå…ƒç´ çš„Hashï¼Œå³ä½¿å½“å‰åªæœ‰ä¸€æ¬¡HGETALLè°ƒç”¨ï¼Œä¸è¶³ä»¥æ„æˆæ€§èƒ½é—®é¢˜ï¼Œä½†å®ƒçš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„éšæ‚£ã€‚ä¸€æ—¦è®¿é—®é¢‘ç‡ç¨æœ‰å¢åŠ ï¼Œå°±å¯èƒ½è¿…é€Ÿæ¼”å˜ä¸ºä¸¥é‡çš„ç”Ÿäº§äº‹æ•…ã€‚å› æ­¤ï¼Œç³»ç»Ÿé€‰æ‹©å°†å…¶æå‰æš´éœ²ï¼Œä¾›ä¸šåŠ¡æ–¹é¢„çŸ¥é£é™©å¹¶è¿›è¡Œæ²»ç† ã€‚</p>
<p><strong>å¤§çƒ­KeyæŒ‡æ•°è§£è¯»ï¼š</strong> åœ¨æ­¤åœºæ™¯ä¸‹ï¼Œå¤§çƒ­KeyæŒ‡æ•°è¢«å›ºå®šä¸ºä¸€ä¸ªç‰¹æ®Šå€¼INT_MAXã€‚è¿™ä¸ªå€¼æ²¡æœ‰å…·ä½“çš„ç‰©ç†æ„ä¹‰ï¼Œä»…ç”¨äºæ ‡è®°è¿™æ˜¯ä¸€ä¸ªç”±â€œé›†åˆå¤§å°è¶…é™â€å¼•å‘çš„é«˜ä¼˜å…ˆçº§é£é™©å‘Šè­¦ ã€‚</p>
<h3 data-id="heading-9">2.4 ç­–ç•¥ä¸‰ï¼šåŸºäºæœºå™¨å­¦ä¹ çš„CPUç®—åŠ›é¢„æµ‹</h3>
<p>è¿™æ˜¯è¯†åˆ«å¼•æ“ä¸­é‡ç‚¹ä¼˜åŒ–çš„æŠ€æœ¯æ–¹å‘ï¼Œå°è¯•é€šè¿‡é¢„æµ‹æ¨¡å‹æå‡é£é™©é¢„åˆ¤çš„ç²¾å‡†åº¦ã€‚å¯¹äºæœªèƒ½è¢«å‰ä¸¤ç§ç­–ç•¥è¯†åˆ«ï¼Œä½†ä»å¯èƒ½æ¶ˆè€—å¤§é‡CPUèµ„æºçš„æ“ä½œï¼ŒJIMDBå¼•å…¥äº†é¢„æµ‹æ¨¡å‹è¿›è¡Œåˆ¤æ–­ã€‚æ ¸å¿ƒæ€æƒ³ï¼š è¯¥ç­–ç•¥çš„æ ¸å¿ƒæ˜¯æ¯”è¾ƒä¸€ä¸ªæ“ä½œçš„ <strong>â€œå®é™…æ‰§è¡ŒQPSâ€ä¸å…¶åœ¨è¯¥æœåŠ¡å™¨çš„â€œç†è®ºæœ€å¤§å¯æ‰¿è½½QPSâ€</strong> ã€‚è¿™ç§â€œç†è®ºä¸Šé™â€å¹¶éä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œè€Œæ˜¯ç”±æ¨¡å‹åŠ¨æ€é¢„æµ‹å¾—å‡ºã€‚</p>
<p><strong>ç®—æ³•åŸç†ï¼š</strong></p>
<ol>
<li><strong>å®é™…QPSç»Ÿè®¡ (QPS_actual):</strong> æœåŠ¡ç«¯åœ¨æ»šåŠ¨æ—¶é—´çª—å£å†…ï¼ŒæŒ‰â€œKey + å…·ä½“å‘½ä»¤åŠå…¶å‚æ•°â€ç»´åº¦ç»Ÿè®¡å®é™…æ‰§è¡Œæ¬¡æ•°ï¼Œä»¥1ç§’ä¸ºç²’åº¦ã€‚</li>
<li><strong>ç†è®ºQPSä¸Šé™é¢„æµ‹ QPS_predict:</strong> åŸºäºâ€œå¤šé¡¹å¼å›å½’ + çº¿æ€§æ’å€¼â€çš„æ··åˆç­–ç•¥ï¼Œç»“åˆå‘½ä»¤ç±»å‹ã€æ“ä½œå…ƒç´ æ•°é‡ä¸å…ƒç´ å¹³å‡é•¿åº¦ï¼ŒåŠ¨æ€ç»™å‡ºè¯¥å‘½ä»¤çš„é¢„ä¼°ä¸Šé™QPSã€‚å¤šé¡¹å¼å›å½’è¾“å‡ºè¿ç»­å¹³æ»‘ï¼Œé€‚åˆåˆ»ç”»ä¸­é«˜åŒºé—´çš„æ•´ä½“è¶‹åŠ¿ï¼Œä½†å—é«˜æ¬¡é¡¹å½±å“ï¼Œè·¨åŒºé—´æ³›åŒ–æœ‰é™ï¼›çº¿æ€§æ’å€¼åœ¨å° QPS åœºæ™¯æ›´ç¨³å¥ï¼Œå› è¾“å…¥å¯¹å®é™… QPS çš„è¾¹é™…å½±å“è¿‘ä¼¼çº¿æ€§ï¼Œè€Œåœ¨é«˜ QPS ä¸‹çº¿æ€§å¤–æ¨æ˜“å¤±çœŸã€‚å°†ä¸¤è€…åˆ†æ®µåŠ æƒç»“åˆï¼Œå–é•¿è¡¥çŸ­ï¼Œå¯å¾—åˆ°æ›´è´´è¿‘çœŸå®è´Ÿè½½çš„é¢„æµ‹ç»“æœã€‚</li>
</ol>
<p>ä¸åŒæ–¹æ³•æ‹Ÿåˆæ•ˆæœï¼ˆå·¦ï¼šå¤šé¡¹å¼ï¼Œå³ï¼šçº¿æ€§æ’å€¼ï¼Œå…¶ä¸­çº¢è‰²ç‚¹ä¸ºå®é™…QPSæ•°æ®ï¼Œæ›²é¢ä¸ºé¢„æµ‹QPS</p>
<blockquote>
<p>å¤šé¡¹å¼å›å½’:æ˜¯ä¸€ç§æ‰©å±•çº¿æ€§å›å½’çš„æ–¹æ³•ï¼Œé€šè¿‡å°†è¾“å…¥ç‰¹å¾æå‡åˆ°æ›´é«˜çš„æ¬¡å¹‚æ¥æ‹Ÿåˆéçº¿æ€§å…³ç³»ï¼Œç›¸æ¯”å…¶ä»–æ›´å¤æ‚éçº¿æ€§æ¨¡å‹ï¼Œä¾‹å¦‚CNNï¼ˆå·ç§¯ç¥ç»ç½‘ç»œï¼‰ï¼Œæ›´ç®€å•å®¹æ˜“å®ç°ã€‚</p>
</blockquote>
<p><img src="" alt="" loading="lazy"/></p>
<p>è®¡ç®—ä»£ä»·ï¼š29æ¬¡ä¹˜æ³•</p>
<blockquote>
<p>çº¿æ€§æ’å€¼ï¼šä¸€ç§é€šè¿‡è¿æ¥ä¸¤ä¸ªå·²çŸ¥æ•°æ®ç‚¹å¹¶å‡è®¾åœ¨å®ƒä»¬ä¹‹é—´æ˜¯çº¿æ€§å…³ç³»æ¥ä¼°è®¡æœªçŸ¥æ•°æ®ç‚¹å€¼çš„ç®€å•æ–¹æ³•ã€‚å®ƒçš„åŸç†æ˜¯åŸºäºä¸€ä¸ªå‡è®¾ï¼šä¸¤ä¸ªå·²çŸ¥ç‚¹ä¹‹é—´çš„æ•°æ®å˜åŒ–æ˜¯è¿ç»­çš„ä¸”å¯ä»¥ç”¨ä¸€æ¡ç›´çº¿è¿‘ä¼¼ï¼Œå¹¶ä½¿ç”¨è¿æ¥ä¸¤ç‚¹çš„ç›´çº¿æ¥è®¡ç®—ä¸­é—´ç‚¹çš„å€¼ã€‚</p>
</blockquote>
<p><img src="" alt="" loading="lazy"/></p>
<p>è®¡ç®—ä»£ä»·ï¼šä¸¤æ¬¡log(30)çš„äºŒåˆ†æŸ¥æ‰¾ï¼Œå…­æ¬¡æµ®ç‚¹ä¹˜æ³•</p>
<ol>
<li><strong>åˆ¤å®šè§„åˆ™ï¼š</strong> å½“æŸ Key çš„ç‰¹å®šå‘½ä»¤åœ¨1ç§’å†…çš„å®é™…æ‰§è¡Œé¢‘ç‡è¶…è¿‡ç†è®ºä¸Šé™æ—¶ï¼Œåˆ¤å®šä¸ºå¤§çƒ­ Keyã€‚</li>
</ol>
<p>\left( \text{QPS}<em>{\text{actual}} &gt; \text{QPS}</em>{\text{predict}} \right) \implies \text{isBighotkey} = \text{true}</p>
<p><strong>å¤§çƒ­KeyæŒ‡æ•°è§£è¯»ï¼š</strong> æ­¤æ—¶çš„æŒ‡æ•°é‡‡ç”¨å¹³æ–¹å…³ç³»ï¼Œä½¿å¾—æŒ‡æ•°ä¼šéšç€å®é™…QPSè¶…å‡ºé¢„æµ‹ä¸Šé™çš„æ¯”ä¾‹è€ŒæŒ‡æ•°çº§å¢é•¿ã€‚è¿™æ„å‘³ç€ï¼Œ<strong>è½»å¾®çš„è¶…å‡ºä¼šå¾—åˆ°ä¸€ä¸ªè¾ƒå°çš„åˆ†æ•°ï¼Œè€Œä¸¥é‡çš„è¶…å‡ºä¼šå¾—åˆ°ä¸€ä¸ªæé«˜çš„åˆ†æ•°ï¼Œä»è€Œåœ¨å‘Šè­¦å’Œæ’åºæ—¶èƒ½å¤Ÿæ¸…æ™°åœ°åæ˜ å‡ºé£é™©çš„ä¼˜å…ˆçº§ ã€‚</strong></p>
<p>\text{å¤§çƒ­keyæŒ‡æ•°} = \left( \frac{\text{QPS}<em>{\text{actual}}}{\text{QPS}</em>{\text{predict}}} \right)^2</p>
<p>æœ€ç»ˆæ‹Ÿåˆæ•ˆæœï¼š</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>ä¼ ç»Ÿç›‘æ§ç³»ç»Ÿé€šå¸¸åœ¨CPUä½¿ç”¨ç‡è¾¾åˆ°80%ã€90%æ—¶æ‰å‘å‡ºå‘Šè­¦ï¼Œæ­¤æ—¶æœåŠ¡å¯èƒ½å·²ç»å¼€å§‹åŠ£åŒ–ï¼Œè¿™æ˜¯ä¸€ç§æ»åæŒ‡æ ‡ã€‚è€ŒJIMDBçš„QPS_predictæ¨¡å‹ï¼Œç›¸å½“äºè®©æœåŠ¡å™¨å…·å¤‡äº†â€œè‡ªæˆ‘è®¤çŸ¥â€èƒ½åŠ›ï¼Œå®ƒçŸ¥é“å¯¹äºâ€œè¿™ä¸ªæ“ä½œâ€ï¼Œè‡ªå·±çš„å¤„ç†æé™åœ¨å“ªé‡Œã€‚å› æ­¤ï¼Œå®ƒå¯ä»¥åœ¨CPUä½¿ç”¨ç‡è¿˜å¤„äºç›¸å¯¹å¥åº·çš„æ°´å¹³æ—¶ï¼Œå°±<strong>æå‰é¢„åˆ¤åˆ°â€œç»§ç»­ä»¥å½“å‰é¢‘ç‡æ‰§è¡Œæ­¤æ“ä½œå¯èƒ½å°†å¯¼è‡´CPUè¿‡è½½â€</strong> ï¼Œä»è€Œå‘å‡ºé¢„è­¦ã€‚è¿™æ˜¯ä¸€ç§é¢†å…ˆæŒ‡æ ‡ï¼Œä¸ºåç»­çš„è‡ªåŠ¨åŒ–ç†”æ–­å’Œç¼“å­˜ç­‰ä¸»åŠ¨å¹²é¢„æªæ–½èµ¢å¾—äº†å®è´µçš„ååº”æ—¶é—´ï¼Œé¿å…äº†å®ä¾‹å› å®Œå…¨è¿‡è½½è€Œé™·å…¥æ— å“åº”çš„â€œå‡æ­»â€çŠ¶æ€ã€‚</p>
<p>ä¸‹è¡¨æ€»ç»“äº†JIMDBå¤§çƒ­Keyè¯†åˆ«å¼•æ“çš„<strong>ä¸‰å¤§æ ¸å¿ƒç­–ç•¥</strong>ã€‚</p>

































<table><thead><tr><th>ç­–ç•¥</th><th>è§¦å‘æ¡ä»¶</th><th>ç®—æ³•/å…¬å¼</th><th>å¤§çƒ­KeyæŒ‡æ•°è§£è¯»</th><th>è®¾è®¡ç†å¿µ</th></tr></thead><tbody><tr><td>å¸¦å®½ç“¶é¢ˆ</td><td>ç¬æ—¶å¸¦å®½ &gt; å®ä¾‹æ€»å¸¦å®½ Ã— 70%</td><td>current_key_bandwidth &gt; output_limit * 70%</td><td>è¿‘ä¼¼ä¸º1ç§’å†…çš„è¾“å‡ºå­—èŠ‚æ•°ï¼Œåæ˜ ç½‘ç»œå‹åŠ›</td><td>ä¼˜å…ˆæ£€æµ‹ï¼Œå¿«é€Ÿè¯†åˆ«ç½‘ç»œå¯†é›†å‹æ“ä½œ</td></tr><tr><td>é›†åˆå¤§å°ç“¶é¢ˆ</td><td>å…ƒç´ æ•°é‡ &gt; 10ä¸‡ æˆ–æ•°æ®é•¿åº¦ &gt; 1MB</td><td>é™æ€é˜ˆå€¼æ£€æŸ¥</td><td>å›ºå®šä¸ºINT_MAXï¼Œæ ‡è®°ä¸ºé«˜ä¼˜å…ˆçº§ç»“æ„æ€§é£é™©</td><td>é£é™©é¢„é˜²ï¼Œæå‰æš´éœ²æ½œåœ¨çš„â€œæ•°æ®ç‚¸å¼¹â€</td></tr><tr><td>CPUç®—åŠ›ç“¶é¢ˆ</td><td>å®é™…QPS &gt; é¢„æµ‹QPSä¸Šé™</td><td>å¤šé¡¹å¼å›å½’+çº¿æ€§æ’å€¼</td><td>\text{å¤§çƒ­keyæŒ‡æ•°} = \left( \frac{\text{QPS}<em>{\text{actual}}}{\text{QPS}</em>{\text{predict}}} \right)^2 ï¼ŒæŒ‡æ•°çº§åæ˜ è¶…è½½ä¸¥é‡æ€§</td><td>é¢„æµ‹æ€§åˆ†æï¼Œä»æ»åæŒ‡æ ‡è½¬å‘é¢†å…ˆæŒ‡æ ‡ï¼Œæå‰é¢„è­¦CPUå¯†é›†å‹æ“ä½œ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-10">ç¬¬ä¸‰ç« ï¼šå¤šå±‚çºµæ·±é˜²å¾¡ï¼šJIMDBå¤§çƒ­Keyæ²»ç†å¥—ä»¶</h2>
<p><strong>ç²¾å‡†çš„è¯†åˆ«èƒ½åŠ›æ˜¯å‰æï¼Œè€Œå¼ºå¤§ã€å…¨é¢çš„æ²»ç†èƒ½åŠ›åˆ™æ˜¯ä¿éšœç³»ç»Ÿç¨³å®šæ€§çš„å…³é”®ã€‚</strong> JIMDBå›´ç»•å¤§çƒ­Keyé—®é¢˜ï¼Œæ„å»ºäº†ä¸€å¥—ä»æœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯ã€ä»è‡ªåŠ¨å“åº”åˆ°æ‰‹åŠ¨å¹²é¢„ã€ä»äººå·¥å†³ç­–åˆ°åŸºäºé›†ç¾¤ç”»åƒè‡ªåŠ¨å†³ç­– çš„â€œå¤šå±‚çºµæ·±é˜²å¾¡â€ä½“ç³»ã€‚è¿™ä¸ªæ²»ç†å¥—ä»¶çš„è®¾è®¡æ·±åˆ»ä½“ç°äº†å¯¹ç”Ÿäº§ç¯å¢ƒä¸­æ•…éšœå¤„ç†å…¨ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Œæ—¨åœ¨å®ç°å¿«é€Ÿã€ç²¾å‡†ã€ä½é£é™©åœ°åŒ–è§£å±æœºã€‚</p>
<h3 data-id="heading-11">3.1 è‡ªåŠ¨åŒ–å‰çº¿å“åº”ï¼šæœåŠ¡ç«¯çš„ä¸»åŠ¨ç¼“è§£æœºåˆ¶</h3>
<p>å½“è¯†åˆ«å¼•æ“æ•è·åˆ°å¤§çƒ­Keyä¿¡å·æ—¶ï¼ŒæœåŠ¡ç«¯å†…ç½®çš„è‡ªåŠ¨åŒ–æœºåˆ¶ä¼šä½œä¸ºç¬¬ä¸€é“é˜²çº¿ï¼Œç«‹å³é‡‡å–è¡ŒåŠ¨ï¼Œä»¥å‡è½»æˆ–æ¶ˆé™¤å…¶å½±å“ã€‚</p>
<p><strong>æœåŠ¡ç«¯è‡ªåŠ¨ç¼“å­˜ï¼š</strong> è¿™æ˜¯é’ˆå¯¹è¯»å¯†é›†å‹å¤§çƒ­Keyçš„æ ¸å¿ƒä¼˜åŒ–æ‰‹æ®µã€‚</p>
<ul>
<li><strong>å®ç°æœºåˆ¶ï¼š</strong> å½“ä¸€ä¸ªé«˜é¢‘æ¬¡çš„è¯»æ“ä½œï¼ˆå¦‚LRANGE, HGETALLç­‰ï¼‰è¢«è¯†åˆ«ä¸ºå¤§çƒ­Keyåï¼ŒJIMDBæœåŠ¡ç«¯ä¼šè‡ªåŠ¨å°†å…¶å®Œæ•´çš„ã€åºåˆ—åŒ–åçš„å“åº”ç»“æœç¼“å­˜åˆ°å†…å­˜ä¸­ã€‚åç»­å®Œå…¨ç›¸åŒçš„è¯·æ±‚å°†ç›´æ¥å‘½ä¸­æ­¤å†…éƒ¨ç¼“å­˜ï¼Œå¹¶è¿”å›ç»“æœï¼Œä»è€Œå®Œå…¨ç»•è¿‡äº†åŸå§‹çš„æ•°æ®ç»“æ„è®¿é—®ã€å…ƒç´ éå†å’Œç»“æœåºåˆ—åŒ–ç­‰é«˜CPUæ¶ˆè€—çš„ç¯èŠ‚ ï¼Œè€Œä¸”ä¸åŒå®¢æˆ·ç«¯å¯å…±äº«åŒä¸€ä»½ç¼“å­˜ï¼Œæå¤§å‡å°‘é«˜å¹¶å‘æ—¶å†…å­˜é£™å‡é£é™©ã€‚</li>
<li><strong>è¾¾åˆ°æ•ˆæœï¼š</strong> è¿™ä¸€æœºåˆ¶èƒ½æå¤§é™ä½CPUè´Ÿè½½ï¼Œæ˜¾è‘—æå‡æœåŠ¡ç«¯æ€§èƒ½ï¼Œå¹¶æœ‰æ•ˆè§„é¿å› é‡å¤æ‰§è¡Œå¤æ‚æŸ¥è¯¢å¯¼è‡´çš„ CPU æ‰“æ»¡ä¸å†…å­˜æº¢å‡ºï¼ˆOOMï¼‰é£é™©ã€‚</li>
</ul>
<p><strong>è‡ªåŠ¨ç†”æ–­ï¼ˆé»˜è®¤å…³é—­ï¼‰ ï¼š</strong> è¿™æ˜¯ä¸ºåº”å¯¹ç ´åæ€§æå¼ºçš„è®¿é—®æ¨¡å¼è€Œè®¾è®¡çš„â€œä¿é™©ä¸â€æœºåˆ¶ã€‚</p>
<ul>
<li><strong>å®ç°æœºåˆ¶ï¼š</strong> å½“æœåŠ¡ç«¯è¯†åˆ«åˆ°å¤§çƒ­Keyè¯·æ±‚åï¼Œå¦‚æœå¼€å¯äº†è‡ªåŠ¨ç†”æ–­åŠŸèƒ½ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¯¹<strong>è¯¥Key</strong>çš„ç›¸å…³è¯·æ±‚è¿›è¡Œç†”æ–­ã€‚å…·ä½“è¡¨ç°ä¸ºï¼Œåç»­æ‰€æœ‰é’ˆå¯¹è¯¥Keyçš„æ“ä½œå°†ä¸å†æ‰§è¡Œï¼Œè€Œæ˜¯ç›´æ¥å‘å®¢æˆ·ç«¯è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼Œä¾‹å¦‚Error from server: ERR request rejected by circuit breaker for risk command ã€‚è€ƒè™‘åˆ°å…¶â€œä¸€åˆ€åˆ‡â€çš„ç‰¹æ€§å¯èƒ½å¯¹ä¸šåŠ¡é€ æˆå½±å“ï¼Œå› æ­¤é»˜è®¤å…³é—­ï¼Œéœ€è¦è¿ç»´äººå‘˜æ ¹æ®é£é™©è¯„ä¼°å’Œä¸šåŠ¡å®¹å¿åº¦è¿›è¡Œé…ç½® ã€‚</li>
<li><strong>è¾¾åˆ°æ•ˆæœï¼š</strong> ç†”æ–­æœºåˆ¶é€šè¿‡æ‹’ç»æœåŠ¡çš„æ–¹å¼ï¼Œå½»åº•åˆ‡æ–­äº†é—®é¢˜Keyå¯¹æœåŠ¡ç«¯CPUã€å†…å­˜ã€ç½‘ç»œç­‰èµ„æºçš„æ¶ˆè€—ï¼Œèƒ½å¤Ÿæœ€å¿«é€Ÿåº¦åœ°ä¿æŠ¤æ•´ä¸ªå®ä¾‹å…äºå´©æºƒï¼Œä¸ºåç»­æ’æŸ¥å’Œä¿®å¤äº‰å–æ—¶é—´ã€‚</li>
</ul>
<h3 data-id="heading-12">3.2 æ™ºèƒ½å®¢æˆ·ç«¯ååŒï¼šSDKçš„ç¼“å­˜ä¸ä¸€è‡´æ€§ä¿éšœ</h3>
<p>é™¤äº†æœåŠ¡ç«¯çš„ä¸»åŠ¨é˜²å¾¡ï¼ŒJIMDBè¿˜å°†æ²»ç†èƒ½åŠ›å»¶ä¼¸åˆ°äº†å®¢æˆ·ç«¯ï¼Œé€šè¿‡å¢å¼ºSDKçš„åŠŸèƒ½ï¼Œå®ç°äº†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„æ™ºèƒ½ååŒï¼Œå°¤å…¶åœ¨é™ä½ç½‘ç»œå¼€é”€å’Œä¿éšœæ•°æ®ä¸€è‡´æ€§æ–¹é¢å–å¾—äº†çªç ´ã€‚</p>
<p><strong>SDKè‡ªåŠ¨ç¼“å­˜ä¸ç‰ˆæœ¬å·æ ¡éªŒï¼š</strong> ä¼ ç»Ÿçš„å®¢æˆ·ç«¯ç¼“å­˜æ–¹æ¡ˆæœ€å¤§çš„ç—›ç‚¹åœ¨äºéš¾ä»¥è§£å†³ç¼“å­˜ä¸ä¸»æ•°æ®ä¹‹é—´çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œå¯¼è‡´å¼€å‘è€…è½»æ˜“ä¸æ•¢å¯ç”¨ ã€‚JIMDBçš„æ–°ç‰ˆSDKå·§å¦™åœ°è§£å†³äº†è¿™ä¸€éš¾é¢˜ã€‚</p>
<p><strong>å®ç°æœºåˆ¶ï¼š</strong></p>
<ol>
<li>å½“å®¢æˆ·ç«¯é¦–æ¬¡è¯·æ±‚ä¸€ä¸ªè¢«è¯†åˆ«ä¸ºå¤§çƒ­Keyçš„æ•°æ®æ—¶ï¼ŒSDKä¼šè‡ªåŠ¨åœ¨å®¢æˆ·ç«¯æœ¬åœ°å†…å­˜ä¸­ç¼“å­˜å…¶Valueå’Œç‰ˆæœ¬å·ã€‚</li>
<li>å½“å®¢æˆ·ç«¯å†æ¬¡å‘èµ·ç›¸åŒçš„è¯·æ±‚æ—¶ï¼Œå®ƒä¸ä¼šç›´æ¥è¿”å›æœ¬åœ°ç¼“å­˜ï¼Œè€Œæ˜¯å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªè½»é‡çº§çš„æ ¡éªŒè¯·æ±‚ï¼Œå…¶ä¸­åªåŒ…å«Keyå’Œæœ¬åœ°ç¼“å­˜çš„ç‰ˆæœ¬å·ã€‚</li>
<li>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åï¼Œä»…æ¯”è¾ƒå®¢æˆ·ç«¯æä¾›çš„ç‰ˆæœ¬å·ä¸å½“å‰Keyåœ¨æœåŠ¡ç«¯å­˜å‚¨çš„æœ€æ–°ç‰ˆæœ¬å·ã€‚</li>
<li>ç‰ˆæœ¬å·ä¸€è‡´ï¼š è¯´æ˜æ•°æ®æœªå‘ç”Ÿå˜åŒ–ï¼ŒæœåŠ¡ç«¯æ— éœ€è¿”å›åºå¤§çš„Valueï¼Œåªå›å¤ä¸€æ¡ç¡®è®¤ç‰ˆæœ¬ä¸€è‡´çš„çŸ­ä¿¡æ¯å³å¯ã€‚å®¢æˆ·ç«¯æ”¶åˆ°ç¡®è®¤åï¼Œå®‰å…¨åœ°ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</li>
<li>ç‰ˆæœ¬å·ä¸ä¸€è‡´ï¼š è¯´æ˜æ•°æ®å·²è¢«ä¿®æ”¹ï¼ŒæœåŠ¡ç«¯åˆ™è¿”å›å®Œæ•´çš„ã€æ–°çš„Valueå’Œæœ€æ–°çš„ç‰ˆæœ¬å·ã€‚å®¢æˆ·ç«¯æ”¶åˆ°åæ›´æ–°æœ¬åœ°ç¼“å­˜ ã€‚</li>
</ol>
<pre><code class="hljs language-rust" lang="rust">sequenceDiagram
    participant ClientApp <span class="hljs-keyword">as</span> å®¢æˆ·ç«¯åº”ç”¨
    participant JimdbSDK <span class="hljs-keyword">as</span> JIMDB SDK
    participant LocalCache <span class="hljs-keyword">as</span> SDKæœ¬åœ°ç¼“å­˜
    participant JimdbServer <span class="hljs-keyword">as</span> JIMDBæœåŠ¡ç«¯

    ClientApp<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: <span class="hljs-title function_ invoke__">get</span>(Key)
    JimdbSDK<span class="hljs-punctuation">-&gt;</span>&gt;LocalCache: æ£€æŸ¥æœ¬åœ°ç¼“å­˜
    
    alt æœ¬åœ°ç¼“å­˜æœªå‘½ä¸­
        LocalCache-<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: Not Found
        JimdbSDK<span class="hljs-punctuation">-&gt;</span>&gt;JimdbServer: å‘èµ·å®Œæ•´è¯·æ±‚
        JimdbServer-<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: è¿”å›å®Œæ•´æ•°æ®
        JimdbSDK<span class="hljs-punctuation">-&gt;</span>&gt;LocalCache: å­˜å…¥æœ¬åœ°ç¼“å­˜
        LocalCache-<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: OK
        JimdbSDK-<span class="hljs-punctuation">-&gt;</span>&gt;ClientApp: è¿”å›æ•°æ®
    <span class="hljs-keyword">else</span> æœ¬åœ°ç¼“å­˜å‘½ä¸­
        LocalCache-<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: Found
        JimdbSDK<span class="hljs-punctuation">-&gt;</span>&gt;JimdbServer: å‘èµ·è½»é‡çº§æ ¡éªŒ
        alt ç‰ˆæœ¬å·ä¸€è‡´
            JimdbServer-<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: è¿”å›ç¡®è®¤
            JimdbSDK-<span class="hljs-punctuation">-&gt;</span>&gt;ClientApp: ä½¿ç”¨æœ¬åœ°ç¼“å­˜
        <span class="hljs-keyword">else</span> ç‰ˆæœ¬å·ä¸ä¸€è‡´
            JimdbServer-<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: è¿”å›æ–°æ•°æ®
            JimdbSDK<span class="hljs-punctuation">-&gt;</span>&gt;LocalCache: æ›´æ–°æœ¬åœ°ç¼“å­˜
            LocalCache-<span class="hljs-punctuation">-&gt;</span>&gt;JimdbSDK: OK
            JimdbSDK-<span class="hljs-punctuation">-&gt;</span>&gt;ClientApp: è¿”å›æ–°æ•°æ®
        end
    end
</code></pre>
<p><strong>è¾¾åˆ°çš„æ•ˆæœï¼š è¯¥æ–¹æ¡ˆåœ¨ä¿è¯äº†</strong><code>æœåŠ¡ç«¯æ•°æ®å’Œå®¢æˆ·ç«¯ç¼“å­˜å¼ºä¸€è‡´</code><strong>çš„å‰æä¸‹ï¼Œæå¤§åœ°å‡å°‘äº†ç½‘ç»œä¼ è¾“çš„æ•°æ®é‡ï¼Œå¯¹äºé‚£äº›Valueå·¨å¤§ä½†æ›´æ–°ä¸é¢‘ç¹çš„å¤§çƒ­Keyåœºæ™¯ï¼Œèƒ½å¤Ÿæ˜¾è‘—é™ä½æœåŠ¡ç«¯çš„ç½‘ç»œå‡ºå£å¸¦å®½å‹åŠ›å’Œå®¢æˆ·ç«¯çš„ç½‘ç»œå»¶è¿Ÿ</strong> <strong>ã€‚</strong></p>
<h3 data-id="heading-13">3.3 åº”æ€¥ä¸ä¸»åŠ¨ç®¡æ§ï¼šè¿ç»´äººå‘˜çš„æ‰‹åŠ¨å¹²é¢„å·¥å…·é›†</h3>
<p>è‡ªåŠ¨åŒ–æœºåˆ¶æ— æ³•è¦†ç›–æ‰€æœ‰åœºæ™¯ï¼Œå°¤å…¶æ˜¯åœ¨é¢å¯¹æœªçŸ¥æµé‡æ¨¡å¼æˆ–éœ€è¦è¿›è¡Œå®¡æ…çš„äººå·¥å†³ç­–æ—¶ï¼Œä¸€å¥—å¼ºå¤§è€Œå¯é çš„æ‰‹åŠ¨å¹²é¢„å·¥å…·è‡³å…³é‡è¦ã€‚</p>
<p><strong>æ‰‹åŠ¨é»‘åå• ï¼š æä¾›äº†æ¯”è‡ªåŠ¨ç†”æ–­æ›´çµæ´»ã€æ›´å¯æ§çš„ç†”æ–­èƒ½åŠ›ã€‚</strong></p>
<ul>
<li><strong>æœºåˆ¶ï¼š</strong> è¿ç»´äººå‘˜æˆ–ä¸šåŠ¡å¼€å‘å¯ä»¥é€šè¿‡ç®¡ç†å¹³å°æ‰‹åŠ¨å°†æŸä¸ªæˆ–æŸäº›Keyï¼Œç”šè‡³æŸäº›å‘½ä»¤åŠ å…¥é»‘åå•ã€‚è¢«åŠ å…¥é»‘åå•çš„Keyæˆ–å‘½ä»¤ï¼Œå…¶æ•ˆæœä¸è‡ªåŠ¨ç†”æ–­ç±»ä¼¼ï¼Œæ‰€æœ‰è®¿é—®è¯·æ±‚éƒ½ä¼šåœ¨æœåŠ¡ç«¯æˆ–SDKå±‚é¢è¢«ç›´æ¥æ‹’ç»å¹¶æŠ›å‡ºå¼‚å¸¸ ã€‚</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong> <strong>è¿™ç§æ–¹å¼æ— éœ€åˆ é™¤æ•°æ®ï¼Œé¿å…äº†æ•°æ®ä¸¢å¤±çš„é£é™©å’Œå†³ç­–å‹åŠ›ï¼Œä¸ºä¸šåŠ¡æä¾›äº†ä¸€ä¸ªå¿«é€Ÿâ€œæ­¢è¡€â€æ‰‹æ®µã€‚</strong></li>
</ul>
<p><strong>é«˜å¯ç”¨ç®¡ç†ç«¯å£ï¼š</strong> è¿™æ˜¯æ•´ä¸ªæ²»ç†ä½“ç³»ä¸­ï¼Œä¿éšœæç«¯æƒ…å†µä¸‹ç³»ç»Ÿâ€œå¯è¢«ç®¡ç†â€çš„ç”Ÿå‘½çº¿åŠŸèƒ½ï¼Œæ˜¯è¿ç»´ç»éªŒçš„ç»“æ™¶ã€‚</p>
<ul>
<li><strong>é—®é¢˜èƒŒæ™¯ï¼š</strong> å½“ä¸€ä¸ªå®ä¾‹çš„ä¸»å·¥ä½œçº¿ç¨‹è¢«ä¸€ä¸ªè€—æ—¶æé•¿çš„å¤§çƒ­Keyæ“ä½œï¼ˆå¦‚å¯¹ç™¾ä¸‡å…ƒç´ çš„é›†åˆåšè¿ç®—ï¼‰é˜»å¡æ—¶ï¼Œè¯¥å®ä¾‹ä¼šåœæ­¢å“åº”æ‰€æœ‰ç½‘ç»œè¯·æ±‚ã€‚æ­¤æ—¶ï¼Œè¿ç»´äººå‘˜æ— æ³•é€šè¿‡å¸¸è§„çš„å®¢æˆ·ç«¯è¿æ¥ä¸Šå»æ‰§è¡ŒCLIENT LISTã€SLOWLOG GETç­‰è¯Šæ–­å‘½ä»¤ï¼Œä¹Ÿæ— æ³•æ‰§è¡ŒDELæˆ–é…ç½®é»‘åå•ç­‰æ¢å¤æ“ä½œï¼Œå®ä¾‹é™·å…¥â€œå‡æ­»â€çŠ¶æ€ï¼Œåªèƒ½è¢«åŠ¨ç­‰å¾…å…¶è‡ªè¡Œæ¢å¤æˆ–è¢«å¼ºåˆ¶é‡å¯ ã€‚</li>
<li><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> Serverç«¯æä¾›ä¸€ä¸ªç‹¬ç«‹çš„ç®¡ç†ç«¯å£ã€‚è¯¥ç«¯å£çš„è¯·æ±‚ç”±ä¸€ä¸ªç‹¬ç«‹çš„ç®¡ç†çº¿ç¨‹å¤„ç†ï¼Œå®Œå…¨ç»•å¼€äº†ä¸»å·¥ä½œçº¿ç¨‹ã€‚</li>
<li>èƒ½åŠ›ï¼š å³ä½¿åœ¨ä¸»çº¿ç¨‹è¢«å®Œå…¨é˜»å¡çš„æƒ…å†µä¸‹ï¼Œè¿ç»´äººå‘˜ä¾ç„¶å¯ä»¥é€šè¿‡è¿™ä¸ªç®¡ç†ç«¯å£è¿æ¥åˆ°å®ä¾‹ï¼Œæ‰§è¡Œå…³é”®çš„è¯Šæ–­å’Œç®¡ç†å‘½ä»¤ï¼Œä¾‹å¦‚ï¼šæŸ¥è¯¢å½“å‰è¢«è¯†åˆ«ä¸ºå¤§çƒ­Keyçš„æ—¥å¿—ã€æ‰‹åŠ¨è§¦å‘å¯¹æŸä¸ªKeyçš„ç†”æ–­ã€åˆ é™¤keyç­‰ ã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼ï¼š ç®¡ç†ç«¯å£çš„å­˜åœ¨ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†å®ä¾‹åœ¨æç«¯è¿‡è½½ä¸‹çš„â€œå¤±è”â€é—®é¢˜ï¼Œç¡®ä¿äº†ç³»ç»Ÿçš„å¯è§‚æµ‹æ€§å’Œå¯æ§æ€§ï¼Œä¸ºåº”æ€¥å“åº”æä¾›äº†ä¿éšœã€‚</strong></li>
</ul>
<h3 data-id="heading-14">3.4 è¿ç»´æµç¨‹äº§å“åŒ–ï¼šé™ä½åº”æ€¥å“åº”çš„å¤æ‚åº¦</h3>
<p>ä¸ºäº†å°†ä¸Šè¿°å¼ºå¤§çš„æ²»ç†èƒ½åŠ›ä»¥æœ€ç®€å•ã€æœ€é«˜æ•ˆçš„æ–¹å¼æä¾›ç»™ç”¨æˆ·ï¼ŒJIMDBæä¾›è‡ªåŠ¨åŒ–é¢„æ¡ˆè¿ç»´å¹³å°ï¼Œå¯¹ç›¸å…³æ“ä½œè¿›è¡Œäº†äº§å“åŒ–å°è£…ã€‚</p>
<ul>
<li><strong>ä¸€é”®å¼åº”æ€¥é¢„æ¡ˆï¼š</strong> å½“ç›‘æ§ç³»ç»Ÿæ£€æµ‹åˆ°ç«¯å£é˜»å¡ã€å¸¦å®½æ‰“æ»¡ç­‰å‘Šè­¦æ—¶æ—¶ï¼Œè¿ç»´å¹³å°æä¾›ä¸€é”®åˆ›å»ºé¢„æ¡ˆï¼Œå±•ç¤ºå®ä¾‹çŠ¶æ€ã€å¤§çƒ­keyæ—¥å¿—ã€æ…¢æ—¥å¿—ã€çƒ­keyæ—¥å¿—ï¼Œä»¥åŠç½‘ç»œæŠ“åŒ…å¯è§†åŒ–ï¼Œæä¾›ä¸€é”®ç†”æ–­ç­‰èƒ½åŠ›ã€‚</li>
<li><strong>ä¸šåŠ¡ä»·å€¼ï¼š</strong> è¿™ä¸€è®¾è®¡å°†è¿‡å»ä¸€ä¸ªå¤æ‚ã€éœ€è¦å¤šæ–¹ï¼ˆè¿ç»´ã€DBAã€ä¸šåŠ¡ç ”å‘ï¼‰æ²Ÿé€šã€å†³ç­–ã€æ‰§è¡Œçš„åº”æ€¥æµç¨‹ï¼Œç®€åŒ–ä¸ºåœ¨Webç•Œé¢ä¸Šçš„ä¸€æ¬¡ç‚¹å‡»ã€‚å®ƒæå¤§åœ°é™ä½äº†åº”æ€¥å¤„ç†çš„æŠ€æœ¯é—¨æ§›å’Œæ²Ÿé€šæˆæœ¬ï¼Œå°†å¹³å‡æ•…éšœæ¢å¤æ—¶é—´ï¼ˆMTTRï¼‰ç¼©çŸ­äº†å‡ ä¸ªæ•°é‡çº§ ã€‚</li>
</ul>
<p>ä¸‹è¡¨å°†JIMDBæ²»ç†å¥—ä»¶çš„å„é¡¹åŠŸèƒ½ä¸å…¶æ‰€è§£å†³çš„å…·ä½“è¿ç»´ç—›ç‚¹è¿›è¡Œäº†æ˜ å°„ï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†å…¶è®¾è®¡çš„å…¨é¢æ€§å’Œç³»ç»Ÿæ€§ã€‚</p>















































<table><thead><tr><th><strong>è¿ç»´ç—›ç‚¹</strong></th><th><strong>JIMDBè§£å†³æ–¹æ¡ˆ</strong></th><th><strong>å®ç°æœºåˆ¶</strong></th><th><strong>é»˜è®¤çŠ¶æ€</strong></th></tr></thead><tbody><tr><td>é‡å¤è¯»è¯·æ±‚å¯¼è‡´CPUé£™é«˜</td><td>æœåŠ¡ç«¯è‡ªåŠ¨ç¼“å­˜</td><td>ç¼“å­˜å‘½ä»¤çš„åºåˆ—åŒ–ç»“æœï¼Œåç»­è¯·æ±‚ç›´æ¥è¿”å›</td><td>å¼€å¯</td></tr><tr><td>ç ´åæ€§å‘½ä»¤ flood å¯¼è‡´å®ä¾‹å´©æºƒ</td><td>è‡ªåŠ¨/æ‰‹åŠ¨ç†”æ–­</td><td>è¯†åˆ«åæ‹’ç»è¯¥Keyçš„æ‰€æœ‰è¯·æ±‚ï¼Œç›´æ¥è¿”å›é”™è¯¯</td><td>è‡ªåŠ¨ï¼šå…³é—­ï¼›æ‰‹åŠ¨ï¼šå¯ç”¨</td></tr><tr><td>å¤§Valueç½‘ç»œä¼ è¾“å¼€é”€å¤§</td><td>SDKç¼“å­˜ä¸ç‰ˆæœ¬å·æ ¡éªŒ</td><td>å®¢æˆ·ç«¯ç¼“å­˜Valueå’Œç‰ˆæœ¬å·ï¼Œè¯·æ±‚æ—¶å…ˆæ ¡éªŒç‰ˆæœ¬</td><td>å¼€å¯</td></tr><tr><td>å®¢æˆ·ç«¯ç¼“å­˜æ•°æ®ä¸€è‡´æ€§éš¾ä¿éšœ</td><td>SDKç¼“å­˜ä¸ç‰ˆæœ¬å·æ ¡éªŒ</td><td>é€šè¿‡ç‰ˆæœ¬å·æœºåˆ¶ç¡®ä¿ä»…åœ¨æ•°æ®å˜æ›´æ—¶æ‰ä¼ è¾“å®Œæ•´æ•°æ®</td><td>å¼€å¯</td></tr><tr><td>å®ä¾‹é˜»å¡åæ— æ³•è¿æ¥å’Œç®¡ç†</td><td>é«˜å¯ç”¨ç®¡ç†ç«¯å£</td><td>ç‹¬ç«‹çš„ç®¡ç†çº¿ç¨‹å’Œç«¯å£ï¼Œç»•è¿‡ä¸»çº¿ç¨‹é˜»å¡</td><td>å¼€å¯</td></tr><tr><td>åº”æ€¥å“åº”æµç¨‹å¤æ‚ã€å†³ç­–æ…¢</td><td>é¢„æ¡ˆæ“ä½œäº§å“åŒ–</td><td>åœ¨è¿ç»´å¹³å°UIä¸Šé›†æˆé£é™©keyä¿¡æ¯å’Œä¸€é”®æ“ä½œæŒ‰é’®</td><td>å¯ç”¨</td></tr></tbody></table>
<h3 data-id="heading-15">3.5 é›†ç¾¤ç”»åƒå®šæœŸå·¡æ£€ï¼šè‡ªåŠ¨åŒ–æ•…éšœå¤„ç†</h3>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ—¥å¸¸æ•…éšœé¢„æ¡ˆçš„è‡ªåŠ¨åŒ–ï¼Œä½†æ˜¯åœ¨ç»´æŠ¤å¤§é‡JIMDBé›†ç¾¤çš„è¿‡ç¨‹ä¸­ï¼Œæ•…éšœçš„å¤„ç†é€»è¾‘ä¸æ˜¯ä¸€åˆ€åˆ‡çš„ï¼Œè€Œæ˜¯æ ¹æ®ä¸šåŠ¡åœºæ™¯ã€åº”ç”¨æ¶æ„åšä¸åŒçš„å¤„ç†ç­–ç•¥ã€‚ä¾‹å¦‚æ•°æ®ä¸¢å¤±åèƒ½å¦åˆ‡ç©ºåˆ†ç‰‡ã€ èƒ½å¦å¼€å¯å®¢æˆ·ç«¯ç¼“å­˜é™ä½Serverå‹åŠ›ç­‰ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå¼•å…¥äº† <strong>â€œé›†ç¾¤ç”»åƒâ€</strong> è¿™ä¸€æ ¸å¿ƒæ¦‚å¿µã€‚é€šè¿‡ç»“æ„åŒ–çš„æ–¹å¼å®šä¹‰æ¯ä¸ªé›†ç¾¤çš„ä¸šåŠ¡å±æ€§å’Œå®¹ç¾ç­–ç•¥ï¼Œé›†ç¾¤ä¸šåŠ¡ä¿¡æ¯é€šè¿‡æ‰¹é‡è‡ªåŠ¨åŒ–å·¥å•æ”¶é›†ï¼Œåç»­åœ¨æ•…éšœå¤„ç†ä¼šæ ¹æ®é›†ç¾¤ç”»åƒåšè‡ªåŠ¨åŒ–å†³ç­–ã€‚</p>





















<table><thead><tr><th><strong>ç”»åƒé…ç½®é¡¹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>ä¸šåŠ¡æ ¸å¿ƒçº§åˆ«</strong></td><td>0/1/2/3ï¼›æ ¹æ®ä¸šåŠ¡çš„é‡è¦æ€§å’Œç³»ç»Ÿå½±å“èŒƒå›´ï¼Œå¯¹åº”ç”¨ç³»ç»Ÿè¿›è¡Œåˆ†çº§ç®¡ç†ï¼Œä»¥ç³»ç»Ÿçº§åˆ«ä¸ºå¯¼å‘ï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§ç”±é«˜åˆ°ä½è¿›è¡Œç³»ç»Ÿä¿éšœåŠèµ„æºåˆ†é…ï¼›ï»¿</td></tr><tr><td><strong>æ•°æ®æŒä¹…åŒ–ç­–ç•¥</strong></td><td>å®šä¹‰ä¸šåŠ¡æ•°æ®æŒä¹…åŒ–å­˜å‚¨çš„æ–¹å¼ï¼Œä»¥é˜²æ­¢å› èŠ‚ç‚¹é‡å¯æˆ–æ•…éšœå¯¼è‡´çš„æ•°æ®ä¸¢å¤±ã€‚ä¸»è¦ç­–ç•¥åŒ…æ‹¬<strong>æ•°æ®åº“æˆ–å…¶ä»–æŒä¹…åŒ–å­˜å‚¨ã€JIMDB RDB(ä¸æ¨è)ã€ä»¥åŠæ— éœ€æŒä¹…åŒ–</strong>ã€‚è¯¥ç­–ç•¥æ˜¯é›†ç¾¤å®¹ç¾èƒ½åŠ›çš„æ ¸å¿ƒï¼Œç›´æ¥å†³å®šäº†æ•…éšœåœºæ™¯ä¸‹æ•°æ®æ˜¯å¦éœ€è¦æ¢å¤ã€å¦‚ä½•æ¢å¤ã€‚</td></tr><tr><td><strong>éƒ¨ç½²æ¶æ„æ¨¡å¼</strong></td><td>1.  å•é›†ç¾¤éƒ¨ç½²</td></tr></tbody></table>
<ol>
<li>ä¸¤ä¸ªæˆ–å¤šé›†ç¾¤äº’å¤‡éƒ¨ç½²ï¼Œå¡«å†™äº’å¤‡é›†ç¾¤IDåˆ—è¡¨                                                                                                                   |
| <strong>èƒ½å¦æ¥å—è¯»åˆ°å»¶è¿Ÿæ•°æ®</strong>       | 1.  èƒ½æ¥å—ï¼ˆæ¨èï¼Œå¯ä»¥è½®è¯¢è¯»å¤šä¸ªå‰¯æœ¬ã€å¯ä»¥é…ç½®æœ¬åœ°ç¼“å­˜ã€å¯ä»¥é…ç½®çƒ­keyç¼“å­˜ï¼‰</li>
<li>ä¸æ¥å—ï¼ˆä¸æ¨èï¼Œåªèƒ½è¯»ä¸»å‰¯æœ¬ã€ä¸å¯é…ç½®æœ¬åœ°ç¼“å­˜ã€ä¸å¯é…ç½®çƒ­keyç¼“å­˜ï¼‰</li>
<li>éƒ¨åˆ†åº”ç”¨å¯æ¥å—ï¼Œéƒ¨åˆ†åº”ç”¨ä¸å¯æ¥å—ï¼Œé€šè¿‡ä¸åŒè¯»ç»„æ§åˆ¶ï¼ˆä¸æ¨èï¼‰<strong>æ³¨ï¼šèƒ½æ¥å—è¯»å»¶è¿Ÿæ•°æ®ï¼Œå‡ºç°çƒ­keyè‡ªåŠ¨å¼€å¯çƒ­keyæœ¬åœ°ç¼“å­˜</strong> |
| <strong>å¤§çƒ­Keyå¯¼è‡´æœåŠ¡é˜»å¡æ—¶åº”æ€¥ç­–ç•¥</strong> | 1.  å°è¯•å¤‡ä»½ååˆ é™¤Keyï¼ˆæ¨èï¼Œä¸éœ€è¦ä¸´åœºå†³ç­–ï¼Œè‡ªåŠ¨åŒ–æ‰§è¡Œé¢„æ¡ˆç¼©çŸ­æ•…éšœæ—¶é•¿ï¼‰</li>
<li>ä¸´æ—¶å†³ç­–ï¼ˆä¸æ¨èï¼Œä¼šå¯¼è‡´æ•…éšœæ¢å¤æ—¶é•¿å¢åŠ ï¼‰                                                                                    |
| <strong>åˆ†ç‰‡æ•°æ®å®Œå…¨ä¸¢å¤±æ˜¯å¦èƒ½åˆ‡ç©ºåˆ†ç‰‡</strong>  | 1.  åˆ‡ç©ºåˆ†ç‰‡</li>
<li>å°è¯•ä»RDBæ¢å¤ï¼ˆéœ€è¦å¼€å¯RDBå¤‡ä»½ï¼‰                                                                                                                      |</li>
</ol>
<p>æ³¨ï¼šé€šè¿‡å†…éƒ¨å·¥å•é‡‡é›†é›†ç¾¤ç”»åƒä¿¡æ¯</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>æ³¨ï¼šç”¨æˆ·å¯ä»¥åœ¨ã€é›†ç¾¤å¥åº·åº¦ã€‘é¡µç­¾ä¸‹æŸ¥çœ‹å½“å‰é›†ç¾¤çš„ç”»åƒä¿¡æ¯ã€‚</p>
<hr/>
<h2 data-id="heading-16">ç¬¬å››ç« ï¼šå®è¯åˆ†æï¼šçº¿ä¸Šåœºæ™¯çš„é‡åŒ–æ•ˆæœè¯„ä¼°</h2>
<p>ç†è®ºçš„å…ˆè¿›æ€§æœ€ç»ˆéœ€è¦é€šè¿‡å®è·µæ¥æ£€éªŒã€‚JIMDBå›¢é˜Ÿåœ¨çº¿ä¸Šç‰©ç†æœºç¯å¢ƒä¸­å¯¹å¤§çƒ­Keyæ²»ç†æ–¹æ¡ˆè¿›è¡Œäº†ä¸¥æ ¼çš„æ€§èƒ½éªŒè¯æµ‹è¯•ï¼Œé€šè¿‡å¯¹æ¯”ä¼˜åŒ–å‰åçš„å…³é”®æ€§èƒ½æŒ‡æ ‡ï¼Œé‡åŒ–åœ°è¯„ä¼°äº†è¯¥è§£å†³æ–¹æ¡ˆåœ¨åº”å¯¹çœŸå®ä¸–ç•Œé«˜è´Ÿè½½åœºæ™¯ä¸‹çš„å®é™…æ•ˆæœã€‚</p>
<h3 data-id="heading-17">4.1 æµ‹è¯•æ–¹æ³•è®ºä¸ç¯å¢ƒé…ç½®</h3>
<p>ä¸ºäº†ç¡®ä¿æµ‹è¯•ç»“æœçš„å®¢è§‚æ€§å’Œè¯´æœåŠ›ï¼Œæµ‹è¯•åœ¨é«˜åº¦ä»¿çœŸçš„ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œï¼Œå¹¶ä¸¥æ ¼æ§åˆ¶äº†å˜é‡ã€‚</p>
<ul>
<li>æµ‹è¯•ç¯å¢ƒï¼š ç‰©ç†æœºï¼Œé…ç½®ä¸º8æ ¸CPUã€16GBå†…å­˜ ã€‚</li>
<li>ç‰ˆæœ¬å¯¹æ¯”ï¼š</li>
<li>
<ul>
<li>ä¼˜åŒ–å‰ï¼ˆåŸºçº¿ç»„ï¼‰ï¼š è¿è¡ŒJIMDB Server ä½ç‰ˆæœ¬ï¼ˆçº¿ä¸Šå¤§é‡éƒ¨ç½²ç‰ˆæœ¬ï¼‰ï¼Œè¯¥ç‰ˆæœ¬ä¸å…·å¤‡å¤§çƒ­Keyè¯†åˆ«ä¸æ²»ç†èƒ½åŠ›ã€‚</li>
<li>ä¼˜åŒ–åï¼ˆå®éªŒç»„ï¼‰ï¼š è¿è¡ŒJIMDB Server ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆæœ¬æ–‡å¤§çƒ­Keyä¼˜åŒ–ç‰ˆæœ¬ï¼‰ï¼Œå¹¶å¼€å¯å¤§çƒ­Keyè‡ªåŠ¨è¯†åˆ«å’ŒæœåŠ¡ç«¯è‡ªåŠ¨ç¼“å­˜åŠŸèƒ½ ã€‚</li>
</ul>
</li>
<li>æµ‹è¯•åœºæ™¯æ¨¡æ‹Ÿï¼š å®¢æˆ·ç«¯æŒç»­é«˜é¢‘æ¬¡åœ°æ‰§è¡ŒLRANGEå‘½ä»¤ï¼Œéå†ä¸€ä¸ªåŒ…å«2,000ä¸ªå…ƒç´ ã€å¹³å‡å•ä¸ªå…ƒç´ å¤§å°ä¸º15å­—èŠ‚çš„Listã€‚è¿™ä¸ªåœºæ™¯ç”¨äºæ¨¡æ‹Ÿä¸€ä¸ªå…¸å‹çš„ã€è¶³ä»¥å¼•å‘CPUé«˜è´Ÿè½½çš„è¯»å¯†é›†å‹å¤§çƒ­Keyåœºæ™¯ ã€‚</li>
</ul>
<h3 data-id="heading-18">4.2 åœºæ™¯ä¸€ï¼šCPUé«˜è´Ÿè½½é£é™©åœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°</h3>
<p>æ­¤åœºæ™¯æ—¨åœ¨éªŒè¯è§£å†³æ–¹æ¡ˆåœ¨åº”å¯¹è®¡ç®—å¯†é›†å‹å¤§çƒ­Keyæ—¶çš„CPUé™è½½å’Œååæå‡èƒ½åŠ›ã€‚</p>
<p>ä¼˜åŒ–å‰ï¼ˆåŸºçº¿ç»„ï¼‰ï¼š è¿è¡ŒJIMDB Server ä½ç‰ˆæœ¬</p>
<p>CPUä½¿ç”¨ç‡è¹¿å‡è‡³100%</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>OPSè¾¾åˆ°6768æ³¢åŠ¨</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>ä¼˜åŒ–åï¼ˆå®éªŒç»„ï¼‰ï¼š è¿è¡ŒJIMDB Server ä¼˜åŒ–ç‰ˆæœ¬</p>
<p>CPUçŸ­æœŸä¸Šå‡ï¼Œè¯†åˆ«ä¸ºå¤§çƒ­keyåï¼Œç¼“å­˜ç”Ÿæ•ˆï¼Œè¿…é€Ÿä¸‹é™</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>OPSæå‡åˆ°1.2ä¸‡</p>
<p><img src="" alt="" loading="lazy"/></p>
<p><strong>ä¼˜åŒ–å‰è¡¨ç°ï¼š</strong></p>
<ul>
<li><strong>CPUä½¿ç”¨ç‡ï¼š</strong> åœ¨ç›¸åŒçš„å‹åŠ›æºä¸‹ï¼ŒServer ä½ç‰ˆæœ¬å®ä¾‹çš„CPUä½¿ç”¨ç‡è¢«â€œè½»æ¾æ‰“æ»¡â€ï¼Œè¿…é€Ÿé£™å‡è‡³100%çš„é¥±å’ŒçŠ¶æ€ã€‚</li>
<li><strong>ååé‡ï¼ˆOPSï¼‰ï¼š</strong> ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›å‡ºç°äº†æ˜æ˜¾çš„ç“¶é¢ˆï¼Œæ¯ç§’æ“ä½œæ•°ï¼ˆOPSï¼‰åœ¨6,700å·¦å³æ³¢åŠ¨ï¼Œæ— æ³•è¿›ä¸€æ­¥æå‡ã€‚</li>
<li><strong>ç³»ç»ŸçŠ¶æ€ï¼š</strong> æ­¤æ—¶ï¼Œç›‘æ§ç³»ç»Ÿå·²äº§ç”ŸCPUä½¿ç”¨ç‡å‘Šè­¦ã€‚è‹¥æŒç»­æ–½å‹ï¼Œææœ‰å¯èƒ½å¯¼è‡´å®ä¾‹å¤„ç†é˜Ÿåˆ—å †ç§¯ã€å“åº”å»¶è¿Ÿæ€¥å‰§å¢åŠ ï¼Œæœ€ç»ˆé™·å…¥é˜»å¡ç”šè‡³å´©æºƒï¼Œå¯¹çº¿ä¸Šä¸šåŠ¡é€ æˆå®è´¨æ€§æŸå¤± ã€‚</li>
</ul>
<p><strong>ä¼˜åŒ–åè¡¨ç°ï¼š</strong></p>
<ul>
<li><strong>CPUä½¿ç”¨ç‡ï¼š</strong> Server ä¼˜åŒ–ç‰ˆæœ¬å®ä¾‹åœ¨å‹åŠ›åˆæœŸçš„CPUä½¿ç”¨ç‡å‡ºç°çŸ­æš‚ä¸Šå‡ï¼Œè¿™æ—¶è¿˜æœªæ»¡è¶³è¯†åˆ«å¼•æ“çš„åˆ¤æ–­æ ‡å‡†ã€‚ä¸€æ—¦è¯†åˆ«å®Œæˆå¹¶è§¦å‘æœåŠ¡ç«¯è‡ªåŠ¨ç¼“å­˜ï¼ŒCPUä½¿ç”¨ç‡ä¾¿è¿…é€Ÿä¸‹é™ï¼Œå¹¶æœ€ç»ˆç¨³å®šåœ¨30%å·¦å³çš„å¥åº·æ°´å¹³ã€‚</li>
<li><strong>ååé‡ï¼ˆOPSï¼‰ï¼š</strong> éšç€CPUèµ„æºçš„é‡Šæ”¾ï¼ŒOPSæ˜¾è‘—æå‡ï¼Œæœ€ç»ˆç¨³å®šåœ¨æ¥è¿‘12,000çš„æ°´å¹³ï¼Œç›¸æ¯”ä¼˜åŒ–å‰æå‡äº†è¿‘ä¸€å€ã€‚</li>
<li><strong>ç³»ç»ŸçŠ¶æ€ï¼š</strong> æ•´ä¸ªæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿè¿è¡Œå¹³ç¨³ï¼Œæœªäº§ç”Ÿä»»ä½•æ€§èƒ½å‘Šè­¦ï¼Œæ¶ˆé™¤äº†å®ä¾‹é˜»å¡æˆ–å´©æºƒçš„é£é™© ã€‚</li>
</ul>
<h3 data-id="heading-19">4.3 åœºæ™¯äºŒï¼šå¸¦å®½é£é™©åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ä¿éšœ</h3>
<p>æ­¤åœºæ™¯æ—¨åœ¨éªŒè¯ç†”æ–­æœºåˆ¶åœ¨åº”å¯¹ç½‘ç»œå¯†é›†å‹å¤§çƒ­Keyæ—¶çš„ä¿æŠ¤èƒ½åŠ›ã€‚</p>
<p>ä¼˜åŒ–å‰å‡ºæµé‡ï¼ˆåŸºçº¿ç»„ï¼‰ï¼š è¿è¡ŒJIMDB Server ä½ç‰ˆæœ¬</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>ä¼˜åŒ–å‰CPUä½¿ç”¨ç‡ï¼ˆåŸºçº¿ç»„ï¼‰ï¼š è¿è¡ŒJIMDB Server ä½ç‰ˆæœ¬</p>
<p><img src="" alt="" loading="lazy"/></p>
<p><strong>ä¼˜åŒ–å‰è¡¨ç°ï¼š</strong></p>
<ul>
<li><strong>ç½‘ç»œæµé‡ï¼š</strong> å½“å®¢æˆ·ç«¯æ‰§è¡Œä¸€ä¸ªä¼šäº§ç”Ÿå·¨å¤§è¿”å›åŒ…çš„å¤§çƒ­Keyå‘½ä»¤æ—¶ï¼ˆä¾‹å¦‚ï¼Œå®ä¾‹å¸¦å®½é™åˆ¶è®¾ç½®ä¸º200MB/sï¼‰ï¼ŒæœåŠ¡ç«¯çš„å‡ºå£æµé‡è¿…é€Ÿè¢«æ‰“æ»¡ï¼Œè¾¾åˆ°228.58MB/sçš„å³°å€¼ã€‚</li>
<li><strong>CPUä½¿ç”¨ç‡ï¼š</strong> ä¸æ­¤åŒæ—¶ï¼Œç”±äºéœ€è¦å¤„ç†å¤§é‡æ•°æ®çš„åºåˆ—åŒ–å’Œç½‘ç»œå‘é€ï¼ŒCPUä½¿ç”¨ç‡ä¹ŸæŒç»­é«˜å±…ä¸ä¸‹ï¼Œç»´æŒåœ¨æ¥è¿‘100%çš„æ°´å¹³ã€‚</li>
<li><strong>ç³»ç»ŸçŠ¶æ€ï¼š</strong> å®ä¾‹åŒæ—¶é¢ä¸´ç½‘ç»œå’ŒCPUåŒé‡ç“¶é¢ˆï¼ŒæœåŠ¡è´¨é‡ä¸¥é‡ä¸‹é™ï¼Œå¯¹å…¶ä»–æ­£å¸¸ä¸šåŠ¡çš„è¯·æ±‚é€ æˆä¸¥é‡å½±å“ ã€‚</li>
</ul>
<p><strong>ä¼˜åŒ–åè¡¨ç°ï¼ˆå¯ç”¨ç†”æ–­ï¼‰ï¼š</strong></p>
<ul>
<li><strong>ç³»ç»Ÿå“åº”ï¼š</strong> å½“å¼€å¯è‡ªåŠ¨ç†”æ–­åŠŸèƒ½æˆ–é€šè¿‡ç®¡ç†ç«¯å£æ‰‹åŠ¨å°†è¯¥å‘½ä»¤/KeyåŠ å…¥é»‘åå•åï¼ŒæœåŠ¡ç«¯ç«‹å³å¼€å§‹å¯¹è¯¥å¤§çƒ­Keyè¯·æ±‚è¿”å›é”™è¯¯å“åº”ï¼Œå®¢æˆ·ç«¯ä¼šå¿«é€Ÿè¿”å›æŠ¥é”™ä¿¡æ¯'Error from server: ERR request rejected by circuit breaker for risk command:lrange key 0 2000'ã€‚</li>
<li><strong>èµ„æºæ¢å¤ï¼š</strong> ç”±äºé—®é¢˜è¯·æ±‚è¢«ç›´æ¥æ‹’ç»ï¼Œä¸å†æ¶ˆè€—ä»»ä½•è®¡ç®—å’Œç½‘ç»œèµ„æºï¼ŒæœåŠ¡ç«¯çš„å‡ºå£æµé‡å’ŒCPUä½¿ç”¨ç‡ç¬é—´æ¢å¤æ­£å¸¸ã€‚</li>
<li><strong>ç³»ç»ŸçŠ¶æ€ï¼š</strong> å®ä¾‹ä»æ¿’ä¸´å´©æºƒçš„çŠ¶æ€è¿…é€Ÿå›å½’ç¨³å®šï¼Œä¿éšœäº†å…¶ä»–ä¸šåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚è¿™å……åˆ†è¯æ˜äº†ç†”æ–­æœºåˆ¶ä½œä¸ºæœ€åä¸€é“é˜²çº¿çš„æœ‰æ•ˆæ€§å’Œå³æ—¶æ€§ ã€‚</li>
</ul>
<h3 data-id="heading-20">4.4 æ€§èƒ½æ”¶ç›Šçš„é‡åŒ–åˆ†æ</h3>
<p>ç»¼åˆä¸Šè¿°åœºæ™¯å®éªŒç»“æœï¼ŒJIMDBå¤§çƒ­Keyè§£å†³æ–¹æ¡ˆå¸¦æ¥çš„æ€§èƒ½æ”¶ç›Šæ˜¯æ˜ç¡®ä¸”å·¨å¤§çš„ã€‚</p>
<ul>
<li><strong>CPUæ•ˆç‡æå‡ï¼š</strong> åœ¨åŒç­‰å‹åŠ›ä¸‹ï¼ŒCPUè´Ÿè½½é™ä½äº†çº¦70ä¸ªç™¾åˆ†ç‚¹ï¼ˆä»100%é™è‡³30%ï¼‰ï¼Œè¿™æ„å‘³ç€å¤§é‡çš„CPUèµ„æºè¢«èŠ‚çº¦å‡ºæ¥ï¼Œå¯ç”¨äºæœåŠ¡æ›´å¤šçš„å¸¸è§„è¯·æ±‚ã€‚</li>
<li><strong>ååèƒ½åŠ›ç¿»å€ï¼š</strong> ç³»ç»Ÿçš„å¯æŒç»­ååé‡æå‡äº†çº¦79%ï¼ˆä»çº¦6,700 OPSæå‡è‡³çº¦12,000 OPSï¼‰ã€‚è¿™ä¸€ç»“æœæå…·è¯´æœåŠ›ï¼Œå®ƒè¡¨æ˜è¯¥æ–¹æ¡ˆä¸ä»…ä¿éšœæœåŠ¡ç¨³å®šã€è€Œä¸”èƒ½å¤Ÿæå‡æ€§èƒ½ï¼›é€šè¿‡æœåŠ¡ç«¯ç¼“å­˜ï¼Œå°†åŸæœ¬æ˜‚è´µçš„O(N)çº§åˆ«æ“ä½œï¼ˆéå†Listï¼‰åœ¨åç»­è¯·æ±‚ä¸­ä¼˜åŒ–ä¸ºäº†O(1)çº§åˆ«çš„å†…å­˜æ‹·è´ã€‚</li>
<li><strong>ç¨³å®šæ€§æå‡ï¼š</strong> æœ€ä¸ºå…³é”®çš„æ˜¯ï¼Œç³»ç»Ÿä»ä¸€ä¸ªé«˜é£é™©ã€é¢‘ç¹å‘Šè­¦çš„ä¸ç¨³å®šçŠ¶æ€ï¼Œè½¬å˜ä¸ºä¸€ä¸ªè´Ÿè½½å¥åº·ã€è¿è¡Œå¹³ç¨³ã€æ— å‘Šè­¦çš„ç¨³å®šçŠ¶æ€ã€‚</li>
</ul>
<p>ä¸‹è¡¨ç›´è§‚åœ°å±•ç¤ºäº†åœ¨CPUé«˜è´Ÿè½½åœºæ™¯ä¸‹ï¼Œä¼˜åŒ–å‰åçš„æ€§èƒ½æ•°æ®å¯¹æ¯”ã€‚</p>





























<table><thead><tr><th><strong>æ€§èƒ½æŒ‡æ ‡</strong></th><th><strong>ä¼˜åŒ–å‰</strong></th><th><strong>ä¼˜åŒ–å</strong></th><th><strong>é‡åŒ–æ”¹å–„</strong></th></tr></thead><tbody><tr><td>CPUä½¿ç”¨ç‡</td><td>100% (è¢«æ‰“æ»¡)</td><td>~30%</td><td>â†“ 70%</td></tr><tr><td>æœ€å¤§å¯æŒç»­OPS</td><td>~6,700</td><td>~12,000</td><td>â†‘ ~79%</td></tr><tr><td>ç³»ç»Ÿç¨³å®šæ€§</td><td>é«˜é£é™©ï¼Œè§¦å‘å‘Šè­¦ï¼Œæ¿’ä¸´é˜»å¡/å´©æºƒ</td><td>ç¨³å®šï¼Œæ— å‘Šè­¦</td><td>ä»ä¸ç¨³å®šåˆ°ç¨³å®š</td></tr></tbody></table>
<p>è¿™äº›æ•°æ®å¾ˆå¥½çš„è¯æ˜äº†JIMDBå¤§çƒ­Keyæ²»ç†æ–¹æ¡ˆçš„ä»·å€¼ã€‚å®ƒä¸ä»…æœ‰æ•ˆåœ°è§£å†³äº†ç”±ç‰¹å®šè®¿é—®æ¨¡å¼å¼•å‘çš„èµ„æºç“¶é¢ˆé—®é¢˜ï¼Œæ›´é€šè¿‡æ™ºèƒ½ç¼“å­˜ç­‰æŠ€æœ¯æ‰‹æ®µï¼Œæ˜¾è‘—æå‡äº†ç³»ç»Ÿçš„æœåŠ¡èƒ½åŠ›å’Œæ•´ä½“éŸ§æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-21">ç¬¬äº”ç« ï¼šéƒ¨ç½²ç°çŠ¶ã€å‡çº§æ–¹æ¡ˆä¸æœªæ¥è§„åˆ’</h2>
<p><strong>ä¸€ä¸ªæŠ€æœ¯æ–¹æ¡ˆçš„ä»·å€¼ä¸ä»…åœ¨äºå…¶è®¾è®¡å’Œæµ‹è¯•æ•ˆæœï¼Œè¿˜åœ¨äºå…¶åœ¨çœŸå®ç”Ÿäº§ç¯å¢ƒä¸­çš„éƒ¨ç½²è§„æ¨¡ã€æˆç†Ÿåº¦ä»¥åŠæœªæ¥çš„å‘å±•æ½œåŠ›</strong>ã€‚æœ¬ç« å°†è¯„ä¼°JIMDBå¤§çƒ­Keyæ²»ç†æ–¹æ¡ˆçš„å½“å‰éƒ¨ç½²è¿›å±•ã€å®æ–½çš„æŠ€æœ¯é—¨æ§›ä»¥åŠå…¶æœªæ¥çš„æ¼”è¿›è·¯çº¿ã€‚</p>
<h3 data-id="heading-22">5.1 å½“å‰éƒ¨ç½²è§„æ¨¡ä¸æ•ˆæœ</h3>
<p>è¯¥è§£å†³æ–¹æ¡ˆå¹¶éåœç•™åœ¨ç†è®ºæˆ–å®éªŒé˜¶æ®µï¼Œè€Œå·²åœ¨åºå¤§çš„ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œäº†å¤§è§„æ¨¡çš„æ¨å¹¿å’Œåº”ç”¨ï¼Œå¹¶å·²å¼€å§‹æ˜¾ç°å…¶ä»·å€¼ã€‚å‡çº§åçš„ç³»ç»Ÿå·²ç»åœ¨å®é™…è¿è¡Œä¸­è¯æ˜äº†å…¶é£é™©è¯†åˆ«èƒ½åŠ›ï¼Œçº¿ä¸Šæ›¾å‡ºç°ç«¯å£é˜»å¡å‘Šè­¦ï¼Œè€Œå‡çº§å<code>å‡æœªå†å‘ç°ç”±å¤§çƒ­Keyå¯¼è‡´çš„ç«¯å£é˜»å¡</code>ã€‚åœ¨å·²å‡çº§çš„å®ä¾‹ä¸­ï¼Œ<strong>å·²æœ‰3000å¤šä¸ªå®ä¾‹æˆåŠŸè¯†åˆ«åˆ°äº†å¤§çƒ­Keyè¯·æ±‚ã€å¹¶æ¶ˆé™¤äº†å…¶å¸¦æ¥çš„æ½œåœ¨é£é™©</strong> ã€‚è¿™ä¸ªæ•°æ®ä¸ä»…éªŒè¯äº†è¯†åˆ«å¼•æ“çš„æœ‰æ•ˆæ€§ï¼Œä¹Ÿæ­ç¤ºäº†è¿™ç±»éšæ€§é£é™©åœ¨çº¿ä¸Šç¯å¢ƒä¸­çš„æ™®éæ€§ï¼Œå‡¸æ˜¾äº†è¯¥æ²»ç†æ–¹æ¡ˆçš„å¿…è¦æ€§å’Œç´§è¿«æ€§ã€‚</p>
<ul>
<li><strong>ç”¨æˆ·åé¦ˆ</strong>ï¼š</li>
</ul>
<p><img src="" alt="" loading="lazy"/></p>
<ul>
<li/>
</ul>
<p><img src="" alt="" loading="lazy"/></p>
<h3 data-id="heading-23">5.2 çº¿ä¸Šé›†ç¾¤çš„å‡çº§æ–¹æ¡ˆ</h3>
<p>ä¸ºäº†è®©ä¸šåŠ¡èƒ½å¤Ÿé¡ºåˆ©é‡‡çº³å¹¶å—ç›Šäºè¿™å¥—æ²»ç†ä½“ç³»ï¼ŒJIMDBå›¢é˜Ÿæä¾›äº†æ¸…æ™°çš„ç‰ˆæœ¬è¦æ±‚å’Œå¯¹ä¸šåŠ¡æ— æ„Ÿçš„å¹³æ»‘å‡çº§è·¯å¾„ã€‚</p>
<p><strong>å‡çº§è¿‡ç¨‹ï¼š</strong></p>
<ul>
<li>æœåŠ¡ç«¯å‡çº§è¢«è®¾è®¡ä¸ºâ€œ<strong>æ— æ„Ÿå•ç‹¬å‡çº§</strong>â€ï¼Œæ”¯æŒåœ¨ä¸å‡çº§å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹ï¼Œç‹¬ç«‹å‡çº§æœåŠ¡ç«¯å¹¶è·å¾—é™¤å®¢æˆ·ç«¯ç¼“å­˜å¤–çš„å…¨éƒ¨åŠŸèƒ½ã€‚</li>
<li>å•ä¸ªæ•°æ®åˆ†ç‰‡çš„å‡çº§è¿‡ç¨‹é¢„è®¡è€—æ—¶çº¦<strong>ååˆ†é’Ÿ</strong>ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹å¯¹æœåŠ¡çš„è¯»å†™è¯·æ±‚<strong>æ— ä»»ä½•å½±å“</strong>ï¼Œä¿è¯äº†ä¸šåŠ¡çš„è¿ç»­æ€§ ã€‚</li>
</ul>
<h3 data-id="heading-24">5.3 æœªæ¥æŠ€æœ¯æ¼”è¿›è·¯çº¿å›¾</h3>
<p>JIMDBå¤§çƒ­Keyæ²»ç†æ–¹æ¡ˆå·²ç»åº¦è¿‡äº†åˆæœŸçš„æ¢ç´¢é˜¶æ®µï¼Œè¿›å…¥äº†å¤§è§„æ¨¡æ¨å¹¿å’Œä»·å€¼å…‘ç°çš„æˆç†ŸæœŸã€‚è¿™å¹¶éä¸€æ¬¡æ€§çš„é¡¹ç›®ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒç»­æ€§çš„ç³»ç»Ÿå·¥ç¨‹ã€‚JIMDBè‡´åŠ›äºå°†åŒ…å«å¤§çƒ­Keyåœ¨å†…çš„å„ç§é£é™©æ²»ç†æ‰“é€ ä¸ºä¸€é¡¹å¹³å°çº§çš„ã€æ ‡å‡†åŒ–çš„ã€è‡ªåŠ¨åŒ–çš„åŸºç¡€æœåŠ¡ã€‚</p>
<hr/>
<h2 data-id="heading-25">ç¬¬å…­ç« ï¼šæŠ€æœ¯ä»·å€¼ä¸è¡Œä¸šè§†è§’</h2>
<p>å°†JIMDBçš„å¤§çƒ­Keyè§£å†³æ–¹æ¡ˆç½®äºæ›´å¹¿é˜”çš„è¡Œä¸šèƒŒæ™¯ä¸‹è¿›è¡Œå®¡è§†ï¼Œå¯ä»¥å‘ç°å…¶ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯ä¸Šçš„å®ç°ï¼Œæ›´ä½“ç°äº†ä¸€ç§å…ˆè¿›çš„å¹³å°å·¥ç¨‹ç†å¿µå’ŒæŠ€æœ¯ä»·å€¼ã€‚å®ƒä»£è¡¨äº†åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿåœ¨å¯è§‚æµ‹æ€§ã€ç¨³å®šæ€§å’Œæ˜“ç”¨æ€§æ–¹é¢çš„ä¸€æ¬¡é‡è¦æ¼”è¿›ã€‚</p>
<h3 data-id="heading-26">6.1 å¯¹æ¯”åˆ†æï¼šJIMDBä¸ä¸šç•Œä¸»æµçƒ­Keyè§£å†³æ–¹æ¡ˆ</h3>
<p>åœ¨JIMDBæ¨å‡ºè¿™å¥—åŸç”Ÿæ²»ç†æ–¹æ¡ˆä¹‹å‰ï¼Œä¸šç•Œé’ˆå¯¹RedisåŠå…¶è¡ç”Ÿäº§å“çš„çƒ­Keyé—®é¢˜ï¼Œå·²ç»æ¢ç´¢å‡ºå¤šç§è§£å†³æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ¡ˆå¤§å¤šä¾èµ–äºå¤–éƒ¨ç»„ä»¶æˆ–å¤æ‚çš„åº”ç”¨å±‚æ”¹é€ ï¼Œå„æœ‰å…¶å±€é™æ€§ã€‚</p>
<p><strong>ä¸šç•Œä¸»æµæ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><strong>å¢åŠ åªè¯»å‰¯æœ¬ ï¼š</strong> è¿™æ˜¯æœ€å¸¸è§çš„è¯»çƒ­ç‚¹è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ä¸ºä¸€ä¸ªåˆ†ç‰‡å¢åŠ å¤šä¸ªåªè¯»å‰¯æœ¬ï¼Œå¹¶å°†è¯»è¯·æ±‚åˆ†æ•£åˆ°è¿™äº›å‰¯æœ¬ä¸Šï¼Œä»è€Œåˆ†æ‘Šä¸»èŠ‚ç‚¹çš„å‹åŠ›ã€‚æ­¤æ–¹æ¡ˆè™½ç„¶æœ‰æ•ˆï¼Œä½†ä¼šæ˜¾è‘—å¢åŠ ç¡¬ä»¶æˆæœ¬å’Œè¿ç»´å¤æ‚åº¦ï¼Œä¸”å¯¹äºå†™çƒ­ç‚¹é—®é¢˜æ— èƒ½ä¸ºåŠ› ã€‚</li>
<li><strong>å¼•å…¥ä»£ç†å±‚ ï¼š</strong> åœ¨å®¢æˆ·ç«¯å’ŒRedisé›†ç¾¤ä¹‹é—´éƒ¨ç½²ä¸€ä¸ªä»£ç†å±‚ï¼ˆå¦‚å¼€æºçš„Twemproxyã€Codisï¼Œæˆ–è‡ªç ”ä»£ç†ï¼‰ã€‚ä»£ç†å±‚å¯ä»¥å®ç°ä¸€äº›é«˜çº§é€»è¾‘ï¼Œå¦‚è¯·æ±‚åˆå¹¶ã€ç»“æœç¼“å­˜ã€çƒ­Keyæ¢æµ‹ç­‰ã€‚ç„¶è€Œï¼Œè¿™å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ä¸­é—´ä»¶ï¼Œå¢åŠ äº†ç³»ç»Ÿæ¶æ„çš„å¤æ‚æ€§ã€ç½‘ç»œå»¶è¿Ÿå’Œæ½œåœ¨çš„å•ç‚¹æ•…éšœé£é™© ã€‚</li>
<li><strong>å®¢æˆ·ç«¯æœ¬åœ°ç¼“å­˜ ï¼š</strong> ç”±åº”ç”¨å¼€å‘è€…åœ¨ä¸šåŠ¡ä»£ç ä¸­å®ç°ä¸€ä¸ªæœ¬åœ°ç¼“å­˜ï¼ˆå¦‚ä½¿ç”¨Guava Cacheã€Caffeineï¼‰ã€‚å½“è®¿é—®çƒ­Keyæ—¶ï¼Œä¼˜å…ˆä»æœ¬åœ°å†…å­˜è·å–ã€‚è¿™ç§æ–¹å¼å¯ä»¥æå¤§åœ°é™ä½å¯¹è¿œç«¯ç¼“å­˜çš„è¯·æ±‚å‹åŠ›ï¼Œä½†å­˜åœ¨è¯¸å¤šæŒ‘æˆ˜ï¼šå„ä¸šåŠ¡å›¢é˜Ÿå®ç°ä¸ä¸€ã€ç¼ºä¹ç»Ÿä¸€æ ‡å‡†ï¼›ç¼“å­˜æ•°æ®ä¸€è‡´æ€§éš¾ä»¥ä¿éšœï¼Œå®¹æ˜“å‡ºç°è„æ•°æ®é—®é¢˜ï¼›å¢åŠ äº†åº”ç”¨æœ¬èº«çš„å†…å­˜æ¶ˆè€—å’Œå¼€å‘è€…çš„å¿ƒæ™ºè´Ÿæ‹… ã€‚</li>
<li><strong>åº”ç”¨å±‚Keyæ‹†åˆ† ï¼š</strong> åœ¨ä¸šåŠ¡é€»è¾‘å±‚é¢ï¼Œå°†ä¸€ä¸ªçƒ­Keyï¼ˆå¦‚hot_item:123ï¼‰æ‰‹åŠ¨æ‹†åˆ†ä¸ºå¤šä¸ªå¸¦æœ‰éšæœºåç¼€çš„å­Keyï¼ˆå¦‚hot_item:123:1, hot_item:123:2...ï¼‰ã€‚å†™å…¥æ—¶éœ€è¦æ›´æ–°æ‰€æœ‰å­Keyï¼Œè¯»å–æ—¶éšæœºé€‰æ‹©ä¸€ä¸ªå­Keyè¿›è¡Œè®¿é—®ã€‚è¿™ç§æ–¹æ³•èƒ½æœ‰æ•ˆåˆ†æ•£æµé‡ï¼Œä½†å¯¹åº”ç”¨ä»£ç çš„ä¾µå…¥æ€§æå¼ºï¼Œæå¤§åœ°å¢åŠ äº†ä¸šåŠ¡é€»è¾‘çš„å¤æ‚åº¦ ã€‚</li>
</ol>
<p><strong>JIMDBå¤§çƒ­Keyæ–¹æ¡ˆçš„ä¼˜åŠ¿ï¼šåŸç”Ÿé›†æˆä¸å¹³å°åŒ–æ²»ç†</strong></p>
<ul>
<li><strong>JIMDBæ”¯æŒä¸šç•Œå¸¸è§çš„å¢åŠ å‰¯æœ¬ã€ä»£ç†ã€å®¢æˆ·ç«¯æœ¬åœ°ç¼“å­˜ç­‰åŠŸèƒ½ï¼Œæœ¬æ¬¡å¼•å…¥çš„â€œå¤§çƒ­Keyâ€æ–¹æ¡ˆä¸ä¹‹å‰æ–¹æ¡ˆçš„æ ¹æœ¬åŒºåˆ«åœ¨äºï¼Œâ€œå¤§çƒ­Keyâ€è§£å†³æ–¹æ¡ˆæ˜¯åŸç”Ÿã€æ·±åº¦é›†æˆåœ¨æ•°æ®åº“æœåŠ¡ç«¯åŠå…¶å®˜æ–¹SDKä¸­çš„ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªå¤–éƒ¨çš„â€œè¡¥ä¸â€ï¼Œè€Œæ˜¯å¹³å°å†…å»ºçš„æ ¸å¿ƒèƒ½åŠ›ã€‚</strong></li>
<li><strong>è´£ä»»è½¬ç§»ï¼š</strong> è¿™ç§è®¾è®¡ç†å¿µï¼Œå°†è§£å†³â€œå¤§çƒ­Keyâ€è¿™ä¸ªå¤æ‚çš„åˆ†å¸ƒå¼ç³»ç»Ÿéš¾é¢˜çš„è´£ä»»ï¼Œä»åº”ç”¨å¼€å‘è€…è½¬ç§»åˆ°äº†å¹³å°æä¾›æ–¹ã€‚å¼€å‘è€…ä¸å†éœ€è¦å…³å¿ƒå¦‚ä½•å®ç°ç¼“å­˜ã€å¦‚ä½•ä¿è¯ä¸€è‡´æ€§ã€å¦‚ä½•è¿›è¡Œç†”æ–­ï¼Œåº”ç”¨ç ”å‘åªéœ€è¦ä½¿ç”¨å¹³å°æä¾›çš„æ ‡å‡†å·¥å…·å³å¯è·å¾—è¿™äº›é«˜çº§èƒ½åŠ›ã€‚</li>
<li><strong>ä¸€è‡´æ€§ä¸å¯é æ€§ï¼š</strong> å¹³å°çº§çš„ç»Ÿä¸€å®ç°ï¼Œç¡®ä¿äº†æ‰€æœ‰ä¸šåŠ¡åœ¨ä½¿ç”¨è¿™å¥—æ²»ç†èƒ½åŠ›æ—¶ï¼Œå…¶è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€å¯é¢„æµ‹çš„ï¼Œå¹¶ä¸”ç»è¿‡äº†å¹³å°å›¢é˜Ÿçš„ä¸¥æ ¼æµ‹è¯•å’ŒéªŒè¯ã€‚</li>
</ul>
<h3 data-id="heading-27">6.2 å†…åµŒå¼è‡ªåŠ¨åŒ–æ²»ç†çš„æŠ€æœ¯ä»·å€¼</h3>
<p>å°†å¤§çƒ­Keyæ²»ç†èƒ½åŠ›å†…åµŒäºå¹³å°ï¼Œå¹¶å®ç°é«˜åº¦è‡ªåŠ¨åŒ–ï¼Œå¸¦æ¥äº†å¤šæ–¹é¢çš„ä»·å€¼ã€‚</p>
<p><strong>é™ä½æ€»æ‹¥æœ‰æˆæœ¬ ï¼š</strong></p>
<ul>
<li><strong>å‡å°‘ç¡¬ä»¶æˆæœ¬ï¼š</strong> é€šè¿‡æœåŠ¡ç«¯ç¼“å­˜ç­‰æŠ€æœ¯æå‡å•æœºæ€§èƒ½ï¼Œå¯ä»¥å»¶ç¼“ç”šè‡³é¿å…å› æ€§èƒ½ç“¶é¢ˆè€Œè¿›è¡Œçš„ç¡¬ä»¶æ‰©å®¹ï¼Œé™ä½äº†èµ„æºæˆæœ¬ã€‚</li>
<li><strong>é™ä½è¿ç»´æˆæœ¬ï¼š</strong> è‡ªåŠ¨åŒ–çš„è¯†åˆ«ã€å‘Šè­¦å’Œç†”æ–­æœºåˆ¶ï¼Œæå¤§åœ°å‡å°‘äº†å¯¹è¿ç»´äººå‘˜7x24å°æ—¶çš„â€œæ•‘ç«å¼â€åº”æ€¥å“åº”çš„éœ€æ±‚ï¼Œå°†äººåŠ›ä»ç¹ççš„æ•…éšœå¤„ç†ä¸­è§£æ”¾å‡ºæ¥ï¼ŒæŠ•å…¥åˆ°æ›´æœ‰ä»·å€¼çš„å¹³å°å»ºè®¾å·¥ä½œä¸­ã€‚</li>
</ul>
<p><strong>æå‡ç ”å‘æ•ˆç‡ ï¼š</strong></p>
<ul>
<li><strong>é™ä½è®¤çŸ¥è´Ÿè·ï¼š</strong> åº”ç”¨å¼€å‘è€…å¯ä»¥æ›´ä¸“æ³¨äºå®ç°ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ— éœ€åˆ†å¿ƒå»è®¾è®¡å’Œå®ç°å¤æ‚çš„åˆ†å¸ƒå¼ç¼“å­˜ä¼˜åŒ–ç­–ç•¥ã€‚å¹³å°çš„â€œæœ€ä½³å®è·µâ€è¢«å†…åŒ–ä¸ºäº†é»˜è®¤è¡Œä¸º ã€‚</li>
<li><strong>åŠ é€Ÿè¿­ä»£ï¼š</strong> ç›¸æ¯”äºéœ€è¦é‡æ„åº”ç”¨ä»£ç æ¥è§£å†³æ€§èƒ½é—®é¢˜ï¼Œé€šè¿‡å‡çº§SDKæˆ–è°ƒæ•´å¹³å°é…ç½®çš„æ–¹å¼æ˜¾ç„¶æ›´åŠ æ•æ·ã€é£é™©æ›´ä½ï¼Œè¿™ä½¿å¾—ä¸šåŠ¡çš„è¿­ä»£é€Ÿåº¦å¾—ä»¥åŠ å¿«ã€‚</li>
</ul>
<p><strong>å¢å¼ºç³»ç»Ÿæ€§éŸ§æ€§ ï¼š</strong></p>
<ul>
<li>å½“ç¨³å®šæ€§ä¿éšœæˆä¸ºå¹³å°çš„ä¸€é¡¹åŸºç¡€èƒ½åŠ›æ—¶ï¼Œæ•´ä¸ªæŠ€æœ¯ç”Ÿæ€ç³»ç»Ÿçš„éŸ§æ€§éƒ½ä¼šå¾—åˆ°æ ‡å‡†åŒ–çš„ã€ç³»ç»Ÿæ€§çš„æå‡ã€‚å®ƒä¸å†ä¾èµ–äºä¸ªåˆ«æ˜æ˜Ÿç¨‹åºå‘˜çš„ä¸ªäººèƒ½åŠ›ï¼Œè€Œæ˜¯æˆä¸ºä¸€ç§æ™®æƒ çš„ã€å¯å¤åˆ¶çš„å·¥ç¨‹èƒ½åŠ›ã€‚è¿™å¯¹äºæ„å»ºä¸€ä¸ªåºå¤§ã€ç¨³å®šã€å¯é¢„æµ‹çš„å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿè‡³å…³é‡è¦ã€‚</li>
</ul>
<p>JIMDBçš„è¿™ä¸€æ–¹æ¡ˆé€‰æ‹©ï¼Œæ˜¯â€œå¹³å°å·¥ç¨‹â€ç†å¿µçš„ä¸€æ¬¡å®è·µã€‚å®ƒå°†å¤§çƒ­Keyé—®é¢˜ï¼Œ<strong>ä»ä¸€ä¸ªéœ€è¦æ¯ä¸ªä¸šåŠ¡å›¢é˜Ÿå„è‡ªåº”å¯¹çš„â€œåº”ç”¨çº§é—®é¢˜â€ï¼Œè½¬åŒ–ä¸ºä¸€ä¸ªç”±å¹³å°ç»Ÿä¸€æä¾›è§£å†³æ–¹æ¡ˆçš„â€œå¹³å°çº§èƒ½åŠ›â€</strong> <strong>ã€‚</strong> è¿™ç§æ¨¡å¼ä¸‹ï¼Œå¹³å°ä¸ä»…æä¾›è®¡ç®—å’Œå­˜å‚¨èµ„æºï¼Œæ›´æä¾›äº†ä¸€æ•´å¥—å†…å»ºçš„ã€æ™ºèƒ½åŒ–çš„â€œç¨³å®šæ€§å’Œæ€§èƒ½æ²»ç†å³æœåŠ¡â€ã€‚</p>
<hr/>
<h2 data-id="heading-28">ç»“è®ºä¸æ€è€ƒ</h2>
<p>JIMDBå›¢é˜Ÿé¦–å…ˆé‡æ–°å®šä¹‰å¤§çƒ­Keyï¼Œä¹‹åé€šè¿‡ä½“ç³»åŒ–çš„æ–¹æ¡ˆåšæŠ€æœ¯ä¼˜åŒ–ï¼ŒåŒ…å«å¤§çƒ­Keyè¯†åˆ«ã€è‡ªåŠ¨ç¼“å­˜ã€é™æµç†”æ–­ç­‰ï¼Œæœ‰æ•ˆé™ä½äº†å¤§çƒ­Keyå¸¦æ¥çš„é£é™©ï¼›ç›®å‰ä¼˜åŒ–ç‰ˆæœ¬å·²ç»å¤§è§„æ¨¡è½åœ°ï¼Œæ•ˆæœæ˜¾è‘—ã€‚</p>
<ol>
<li><strong>ç²¾å‡†å®šä¹‰JIMDBå¤§çƒ­Keyï¼š</strong> JIMDBé€šè¿‡å®šä¹‰â€œå¤§çƒ­Keyâ€æ¦‚å¿µï¼Œä»å¯¹Keyé™æ€å±æ€§çš„å…³æ³¨ï¼Œè½¬ç§»åˆ°å¯¹è®¿é—®è¡Œä¸ºå®æ—¶èµ„æºå½±å“çš„åº¦é‡ä¸Šã€‚è¿™ä¸€è®¤çŸ¥å±‚é¢çš„å˜åŒ–ï¼Œæ˜¯å…¶åç»­æ‰€æœ‰æŠ€æœ¯æ–¹æ¡ˆå‰æã€‚</li>
<li><strong>ä½“ç³»åŒ–çš„æŠ€æœ¯ä¼˜åŒ–æ–¹æ¡ˆï¼š</strong> JIMDBæ„å»ºäº†ä¸€å¥—é›†â€œæ™ºèƒ½è¯†åˆ«â€ä¸â€œå¤šå±‚æ²»ç†â€äºä¸€ä½“çš„é—­ç¯ç³»ç»Ÿã€‚å…¶æœåŠ¡ç«¯è¯†åˆ«å¼•æ“èåˆäº†å®æ—¶è®¡ç®—ä¸æœºå™¨å­¦ä¹ é¢„æµ‹ï¼Œå®ç°äº†ä»æ»åç›‘æ§æŒ‡æ ‡åˆ°é£é™©é¢„åˆ¤çš„è·ƒè¿ã€‚å…¶æ²»ç†å¥—ä»¶åˆ™è¦†ç›–äº†ä»è‡ªåŠ¨åŒ–ç¼“å­˜ã€ç†”æ–­åˆ°å®¢æˆ·ç«¯æ™ºèƒ½ååŒï¼Œå†åˆ°æç«¯æƒ…å†µä¸‹çš„åº”æ€¥ç®¡ç†ï¼Œå½¢æˆäº†ä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„ä½“ç³»åŒ–æ–¹æ¡ˆã€‚</li>
<li><strong>çº¿ä¸Šå·²ç»å¤§è§„æ¨¡éƒ¨ç½²ï¼š</strong> JIMDBå¤§çƒ­keyä¼˜åŒ–æ–¹æ¡ˆå·²ç»å¤§è§„æ¨¡è½åœ°ã€‚å®ƒä¸ä»…èƒ½å¤Ÿæœ‰æ•ˆé˜²æ­¢å› å¤§çƒ­Keyå¯¼è‡´çš„CPUæˆ–å¸¦å®½è€—å°½è€Œå¼•å‘çš„æœåŠ¡é˜»å¡å’Œå´©æºƒï¼Œæ›´èƒ½é€šè¿‡æ™ºèƒ½ç¼“å­˜ç­‰æ‰‹æ®µï¼Œå°†æ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆè½¬åŒ–ä¸ºååèƒ½åŠ›çš„å¢é•¿ç‚¹ï¼Œå®ç°ç¨³å®šæ€§ä¸æ€§èƒ½çš„åŒæå‡ã€‚</li>
</ol>
<p><strong>JIMDBå¤§çƒ­keyä¼˜åŒ–å¼•å…¥çš„ä¸€äº›æ€è€ƒï¼š</strong></p>
<ol>
<li><strong>æ€§èƒ½ä¸æ˜¯å”¯ä¸€åŸºå‡†ï¼š</strong> åœ¨è¿›è¡ŒåŸºç¡€æŠ€æœ¯äº§å“é€‰å‹æ—¶ï¼Œä¸åº”ä»…å…³æ³¨äºä¸€æ¬¾äº§å“çš„åŸå§‹æ€§èƒ½æŒ‡æ ‡ï¼ˆå¦‚IOPSã€å»¶è¿Ÿï¼‰ï¼Œè€Œåº”å°†å†…å»ºçš„ã€è‡ªåŠ¨åŒ–çš„æ²»ç†èƒ½åŠ›å’ŒéŸ§æ€§ç‰¹æ€§ä½œä¸ºåŒç­‰é‡è¦çš„è¯„ä¼°ç»´åº¦ã€‚ä¸€ä¸ªèƒ½å¤Ÿè‡ªæˆ‘ä¿æŠ¤ã€è‡ªæˆ‘ä¼˜åŒ–çš„ç³»ç»Ÿï¼Œå…¶é•¿æœŸä»·å€¼è¿œè¶…ä¸€ä¸ªä»…æœ‰æè‡´æ€§èƒ½ä½†â€œè„†å¼±â€çš„ç³»ç»Ÿã€‚</li>
<li><strong>æ‹¥æŠ±å¹³å°åŒ–æ²»ç†ç†å¿µï¼š</strong> ä¼˜å…ˆé€‰æ‹©é‚£äº›å°†é€šç”¨æ€§éš¾é¢˜ï¼ˆå¦‚çƒ­ç‚¹é—®é¢˜ã€æ•°æ®ä¸€è‡´æ€§ã€æ•…éšœæ’æŸ¥ï¼‰ä½œä¸ºå¹³å°æ ¸å¿ƒèƒ½åŠ›æ¥è§£å†³çš„åŸºç¡€è®¾æ–½äº§å“ã€‚è¿™èƒ½å¤Ÿæœ€å¤§åŒ–åœ°é‡Šæ”¾ä¸šåŠ¡ç ”å‘å›¢é˜Ÿçš„ç”Ÿäº§åŠ›ï¼Œè®©æˆ‘ä»¬èšç„¦äºåˆ›é€ ä¸šåŠ¡ä»·å€¼ï¼Œè€Œéé‡å¤è§£å†³åº•å±‚æŠ€æœ¯é—®é¢˜ã€‚</li>
<li><strong>é¢„æµ‹å¹¶æ§åˆ¶å¼‚å¸¸æµé‡</strong>ï¼šä»â€œé™æ€é˜ˆå€¼ï¼ˆå¦‚ CPU ä½¿ç”¨ç‡&gt;90%ï¼‰â€çš„æŠ¥è­¦è½¬å‘â€œ<strong>åŠ¨æ€é¢„æµ‹å¹¶è‡ªåŠ¨å¹²é¢„å¼‚å¸¸æµé‡ï¼ˆå¦‚æŸæŸ¥è¯¢å ç”¨äº†70%CPUï¼Œå¯¹è¯¥æŸ¥è¯¢åºåˆ—åŒ–ç»“æœç¼“å­˜ï¼‰</strong> â€ï¼Œé€šè¿‡ç†è§£æµé‡è¡Œä¸ºã€æµé‡å¯¹èµ„æºçš„æ¶ˆè€—æ¥é¢„æµ‹æ½œåœ¨ç“¶é¢ˆï¼Œåœ¨<strong>é—®é¢˜å‘ç”Ÿå‰ç²¾å‡†è¯†åˆ«å¼‚å¸¸æµé‡ï¼Œå¯¹å¼‚å¸¸æµé‡åšè‡ªåŠ¨åŒ–çš„ç¼“å­˜/é™æµ/éš”ç¦»æˆ–é™çº§</strong>ã€å‡å°‘æ•…éšœå½±å“èŒƒå›´ç”šè‡³å®Œå…¨é¿å…æ•…éšœã€‚</li>
</ol>
<h2 data-id="heading-29">åŠ å…¥æˆ‘ä»¬ï¼</h2>
<p>èŒä½ï¼šåˆ†å¸ƒå¼KVå­˜å‚¨ç ”å‘å·¥ç¨‹å¸ˆ</p>
<p>å·¥ä½œåœ°ï¼šåŒ—äº¬äº¦åº„</p>
<p>å²—ä½è¦æ±‚ï¼š</p>
<p>1ã€è®¡ç®—æœºç›¸å…³ä¸“ä¸šã€ç†Ÿæ‚‰Linuxç³»ç»Ÿï¼ŒC/C++ è¯­è¨€ï¼›</p>
<p>2ã€ æ·±å…¥äº†è§£å¹¶å‘ç¼–ç¨‹ã€ç½‘ç»œç¼–ç¨‹ã€ç†Ÿæ‚‰TCP/IPåè®®ï¼›</p>
<p>3ã€æœ‰å¤§è§„æ¨¡åˆ†å¸ƒå¼å­˜å‚¨/æ•°æ®åº“ç³»ç»Ÿå¼€å‘è®¾è®¡ç»éªŒä¼˜å…ˆï¼›</p>
<p>4ã€ç†Ÿæ‚‰Redisã€Valkeyã€RocksDBã€LevelDBã€TiKVã€HBaseã€NebulaGraphæºç ä¸­ä»»ä¸€æˆ–å¤šä¸ªä¼˜å…ˆï¼›</p>
<p>5ã€è‰¯å¥½çš„å·¥ç¨‹è´¨é‡æ„è¯†ï¼Œè¿½æ±‚å“è¶Šï¼Œè‡ªæˆ‘é©±åŠ¨ã€‚</p>
<p>è”ç³»æ–¹å¼ï¼š<a href="https://link.juejin.cn?target=mailto%3Awangqiwang1%40jd.com" target="_blank" title="mailto:wangqiwang1@jd.com" ref="nofollow noopener noreferrer">wangqiwang1@jd.com</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS WebView åŠ è½½å¤±è´¥å…¨è§£æï¼Œå¸¸è§åŸå› ã€æ’æŸ¥æ€è·¯ä¸çœŸæœºè°ƒè¯•å®æˆ˜ç»éªŒ]]></title>    <link>https://juejin.cn/post/7572340344509300762</link>    <guid>https://juejin.cn/post/7572340344509300762</guid>    <pubDate>2025-11-14T09:09:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572340344509300762" data-draft-id="7572389069705936906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS WebView åŠ è½½å¤±è´¥å…¨è§£æï¼Œå¸¸è§åŸå› ã€æ’æŸ¥æ€è·¯ä¸çœŸæœºè°ƒè¯•å®æˆ˜ç»éªŒ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T09:09:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS WebView åŠ è½½å¤±è´¥å…¨è§£æï¼Œå¸¸è§åŸå› ã€æ’æŸ¥æ€è·¯ä¸çœŸæœºè°ƒè¯•å®æˆ˜ç»éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:09:26.000Z" title="Fri Nov 14 2025 09:09:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨ç«¯å¼€å‘ä¸­ï¼Œ<strong>iOS WebView åŠ è½½å¤±è´¥ï¼ˆLoad Failedï¼‰</strong> æ˜¯æœ€å¸¸è§ã€ä¹Ÿæœ€éš¾å¿«é€Ÿå®šä½çš„æ•…éšœä¹‹ä¸€ã€‚
é—®é¢˜é€šå¸¸è¡¨ç°ä¸ºï¼š</p>
<ul>
<li>é¡µé¢ç™½å±ï¼›</li>
<li>æŒ‰é’®ä¸å¯ç‚¹å‡»ï¼›</li>
<li>å±€éƒ¨æ ·å¼é”™ä¹±ï¼›</li>
<li>èµ„æºåŠ è½½å¤±è´¥ä½†æ— æ—¥å¿—ï¼›</li>
<li>Android æ­£å¸¸ã€åªæœ‰ iOS å‡ºé—®é¢˜ï¼›</li>
<li>Safari èƒ½æ‰“å¼€ï¼Œä½† WebView æ‰“ä¸å¼€ã€‚</li>
</ul>
<p>è¿™äº›ç°è±¡çœ‹ä¼¼æ¯«æ— å…³è”ï¼Œä½†åœ¨ WebView å†…æ ¸å±‚é¢ï¼Œå®ƒä»¬å¾€å¾€åªæ˜¯åŒä¸€ä¸ªé—®é¢˜çš„ä¸åŒå¤–æ˜¾ã€‚</p>
<p>æœ¬æ–‡ç»“åˆå®é™…é¡¹ç›®ç»éªŒï¼Œæ€»ç»“ iOS WebView åŠ è½½å¤±è´¥çš„å¸¸è§åŸå› ã€åˆ†ææ–¹å¼ä»¥åŠçœŸå®è°ƒè¯•æ‰‹æ³•ï¼Œå¸Œæœ›èƒ½ç»™å‰ç«¯ä¸ç§»åŠ¨å¼€å‘è€…æä¾›ä¸€ä¸ªå®Œæ•´åˆå¯é çš„æ’æŸ¥è·¯å¾„ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆ iOS WebView å®¹æ˜“åŠ è½½å¤±è´¥ï¼Ÿ</h2>
<p>iOS WebViewï¼ˆWKWebViewï¼‰çœ‹èµ·æ¥å’Œæµè§ˆå™¨ä¸€æ ·ï¼Œä½†åº•å±‚æœºåˆ¶å®Œå…¨ä¸åŒã€‚</p>
<h3 data-id="heading-1"><strong>1. å®‰å…¨æœºåˆ¶ä¸¥æ ¼</strong></h3>
<p>WKWebView çš„èµ„æºè®¿é—®éœ€è¦æ»¡è¶³ï¼š</p>
<ul>
<li>HTTPS è¦æ±‚</li>
<li>ATSï¼ˆApp Transport Securityï¼‰ç­–ç•¥</li>
<li>CSPï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰</li>
<li>Cookie / Storage é™åˆ¶
ä¸€æ—¦è¿™äº›ç­–ç•¥ä¸­ä»»æ„ä¸€é¡¹ä¸ç¬¦åˆï¼Œé¡µé¢å¯èƒ½ç›´æ¥ç™½å±ã€‚</li>
</ul>
<h3 data-id="heading-2"><strong>2. åŠ è½½ç”Ÿå‘½å‘¨æœŸä¸åŒ</strong></h3>
<p>ä¸æµè§ˆå™¨ä¸åŒï¼ŒWKWebView çš„åŠ è½½äº‹ä»¶è§¦å‘é¡ºåºæœ‰å·®å¼‚ï¼Œå¯èƒ½å¯¼è‡´æŸäº› JS åœ¨ DOM æœªå‡†å¤‡å¥½å‰æ‰§è¡Œã€‚</p>
<h3 data-id="heading-3"><strong>3. ç¼“å­˜ä¸ Cookie è¡Œä¸ºä¸åŒ</strong></h3>
<p>WKWebView å¯¹ç¬¬ä¸‰æ–¹ Cookie çš„é™åˆ¶æ¯”æµè§ˆå™¨æ›´ä¸¥æ ¼ã€‚
åœ¨éœ€è¦ç™»å½•æ€æˆ–ç¼“å­˜ç­–ç•¥çš„é¡µé¢ä¸­ï¼Œè¿™ä¼šå¯¼è‡´æ¥å£è¯·æ±‚å¤±è´¥ã€‚</p>
<h3 data-id="heading-4"><strong>4. æ— æ³•ç›´æ¥çœ‹åˆ°é”™è¯¯åŸå› </strong></h3>
<p>æœ€å¤§çš„é—®é¢˜åœ¨äºï¼š</p>
<blockquote>
<p><strong>WebView æ˜¯å°é—­å®¹å™¨ï¼Œæœ¬èº«ä¸æ˜¾ç¤ºæ§åˆ¶å°è¾“å‡ºã€‚</strong></p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿ JS æŠ¥é”™ã€èµ„æºè¯·æ±‚å¤±è´¥ï¼Œä½ ä¹Ÿæ— æ³•åœ¨ç•Œé¢ä¸Šç›´æ¥çœ‹åˆ°ã€‚</p>
<p>å› æ­¤ï¼Œâ€œiOS WebView åŠ è½½å¤±è´¥â€å‡ ä¹éƒ½éœ€è¦<strong>è¿œç¨‹è°ƒè¯•</strong>æ‰çœŸæ­£èƒ½çœ‹æ¸…åŸå› ã€‚</p>
<hr/>
<h2 data-id="heading-5">äºŒã€åŠ è½½å¤±è´¥çš„å…¸å‹åˆ†ç±»ä¸è¡¨ç°</h2>
<h3 data-id="heading-6"><strong>ç™½å±ï¼ˆæ— ä»»ä½•è¾“å‡ºï¼‰</strong></h3>
<p>å¸¸è§åŸå› ï¼š</p>
<ul>
<li>å…¥å£è„šæœ¬æœªåŠ è½½æˆåŠŸ</li>
<li>åˆå§‹åŒ–é˜¶æ®µ JS æŠ¥é”™</li>
<li>CSP æ‹¦æˆªè„šæœ¬</li>
<li>èµ„æºè¢« ATS æ‹¦æˆª</li>
</ul>
<h3 data-id="heading-7"><strong>é¡µé¢åŠ è½½ä¸€åŠåœä½</strong></h3>
<p>å¯èƒ½åŸå› ï¼š</p>
<ul>
<li>é¡µé¢ä¸­æ–­æ€§è„šæœ¬é˜»å¡æ¸²æŸ“</li>
<li>åŠ¨æ€èµ„æºè·¨åŸŸå¤±è´¥</li>
<li>åŠ è½½äº‹ä»¶æœªè§¦å‘</li>
</ul>
<h3 data-id="heading-8"><strong>Android æ­£å¸¸ã€iOS å¼‚å¸¸</strong></h3>
<p>é€šå¸¸ä¸ï¼š</p>
<ul>
<li>WebKit å…¼å®¹æ€§å·®å¼‚</li>
<li>iOS ç‰¹æ®Š API é™åˆ¶</li>
<li>iOS WebView æ‹¦æˆªç­–ç•¥
æœ‰å…³ã€‚</li>
</ul>
<h3 data-id="heading-9"><strong>æ‰“å¼€æ…¢ã€å¶å°”å¤±è´¥</strong></h3>
<p>å¤§æ¦‚ç‡æ˜¯ï¼š</p>
<ul>
<li>æ€§èƒ½ç“¶é¢ˆ</li>
<li>å†…å­˜è¶…é™</li>
<li>WebView é‡å»ºé€ æˆçŠ¶æ€ä¸¢å¤±</li>
</ul>
<p>è¿™äº›é—®é¢˜å•é ä»£ç é˜…è¯»å¾ˆéš¾å®šä½ï¼Œéœ€è¦ç»“åˆçœŸå®è®¾å¤‡è°ƒè¯•ã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€å¸¸ç”¨æ’æŸ¥æ–¹å¼ï¼šä»æœ€åŸºç¡€åˆ°æœ€æœ‰æ•ˆ</h2>
<h3 data-id="heading-11"><strong>æ–¹å¼ 1ï¼šæ¡Œé¢æµè§ˆå™¨æ¨¡æ‹Ÿæµ‹è¯•</strong></h3>
<p>å…ˆç”¨ Chrome DevTools æ£€æŸ¥ï¼š</p>
<ul>
<li>æ˜¯å¦æœ‰ JS æŠ¥é”™</li>
<li>æ˜¯å¦å­˜åœ¨æœªæ•è·å¼‚æ­¥é”™è¯¯</li>
<li>æ˜¯å¦å­˜åœ¨ç½‘ç»œ 4xx/5xx</li>
<li>åœ¨å¼±ç½‘æ¨¡æ‹Ÿä¸‹æ˜¯å¦èƒ½æ­£å¸¸æ¸²æŸ“</li>
<li>æ˜¯å¦å­˜åœ¨åŒæ­¥é˜»å¡è„šæœ¬</li>
</ul>
<p>ä½†æ³¨æ„ï¼š</p>
<blockquote>
<p>æ¡Œé¢æµè§ˆå™¨ â‰  iOS WebView
ä»…èƒ½æ’æŸ¥éƒ¨åˆ†é—®é¢˜ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12"><strong>æ–¹å¼ 2ï¼šä½¿ç”¨ vConsole / Eruda æŸ¥çœ‹æ—¥å¿—</strong></h3>
<p>é€‚ç”¨äºï¼š</p>
<ul>
<li>å¾®ä¿¡ WebView</li>
<li>SDK æ³¨å…¥ H5 é¡µé¢</li>
<li>ä¸´æ—¶å¿«é€Ÿè°ƒè¯•</li>
</ul>
<p>ä½†å®ƒæœ‰ä¸¤ä¸ªè‡´å‘½é™åˆ¶ï¼š</p>
<ul>
<li><strong>çœ‹ä¸åˆ° DOM / æ ·å¼</strong></li>
<li><strong>æ— æ³•æ–­ç‚¹</strong></li>
<li><strong>æ— æ³•æŸ¥çœ‹çœŸå® network ä¸é”™è¯¯å †æ ˆ</strong></li>
</ul>
<p>é¢å¯¹å¤æ‚é—®é¢˜ï¼Œæ„ä¹‰æœ‰é™ã€‚</p>
<hr/>
<h3 data-id="heading-13"><strong>æ–¹å¼ 3ï¼šç”¨ Safari è¿œç¨‹è°ƒè¯•ï¼ˆéœ€ macOSï¼‰</strong></h3>
<p>è¿™æ˜¯è‹¹æœå®˜æ–¹æä¾›çš„æ–¹å¼ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>Console</li>
<li>Network</li>
<li>DOM ç»“æ„</li>
<li>JS æ–­ç‚¹</li>
</ul>
<p>ä½†é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>ä»…èƒ½åœ¨ <strong>macOS</strong> ä½¿ç”¨</li>
<li>åªèƒ½è°ƒè¯• Safari å’Œéƒ¨åˆ† WKWebView</li>
<li>æ— æ³•å‚ä¸ Windows / Linux å›¢é˜Ÿåä½œ</li>
</ul>
<p>å¯¹äºæ²¡æœ‰ Mac çš„å¼€å‘è€…å‡ ä¹æ— è§£ã€‚</p>
<hr/>
<h2 data-id="heading-14">å››ã€ç°ä»£æ–¹æ¡ˆï¼šè·¨å¹³å° WebView è¿œç¨‹è°ƒè¯•ï¼ˆå·¥ç¨‹çº§æ–¹æ¡ˆï¼‰</h2>
<p>åœ¨éœ€è¦ Windowsã€Linuxã€macOS å¤šç«¯åä½œï¼Œ
æˆ–éœ€è¦è°ƒè¯• App å†…åµŒ H5ã€Hybrid é¡µé¢æ—¶ï¼Œä¼ ç»Ÿå·¥å…·å°±ä¸å¤Ÿç”¨äº†ã€‚</p>
<p>å›¢é˜Ÿé€šå¸¸ä¼šé€‰æ‹©æ›´å¼ºçš„å·¥ç¨‹åŒ–æ–¹æ¡ˆâ€”â€”
<strong>WebDebugX</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-15">äº”ã€iOS WebView åŠ è½½å¤±è´¥æ’æŸ¥å·¥å…·ï¼ˆçœŸå®ä½“éªŒï¼‰</h2>
<p>WebDebugX çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<blockquote>
<p><strong>å®ƒèƒ½è®©ä½ åœ¨ Windows / macOS / Linux ä¸Šï¼Œåƒç”¨ Chrome DevTools ä¸€æ ·è°ƒè¯• iOS WebViewã€‚</strong></p>
</blockquote>
<p>åœ¨ iOS åŠ è½½å¤±è´¥åœºæ™¯ä¸­ï¼Œå®ƒçš„èƒ½åŠ›éå¸¸å…³é”®ï¼š</p>
<h3 data-id="heading-16"><strong>å¯è§†åŒ– DOM / CSS</strong></h3>
<p>ä½ èƒ½ç›´æ¥çœ‹åˆ°åŠ è½½åˆ°å“ªä¸€éƒ¨åˆ†ã€æ¸²æŸ“æ˜¯å¦è¢«ä¸­æ–­ã€‚</p>
<h3 data-id="heading-17"><strong>æ•è·çœŸå®çš„ WebView JS é”™è¯¯</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>window.onerror</li>
<li>Promise rejection</li>
<li>åˆå§‹åŒ–è„šæœ¬é”™è¯¯</li>
<li>WebKit å†…æ ¸ç‰¹æœ‰çš„æŠ¥é”™</li>
</ul>
<p>è¿™æ˜¯ Chrome æ¨¡æ‹Ÿç¯å¢ƒçœ‹ä¸è§çš„ã€‚</p>
<h3 data-id="heading-18"><strong>ç½‘ç»œè¯·æ±‚å®Œæ•´è®°å½•</strong></h3>
<p>åœ¨åŠ è½½å¤±è´¥é—®é¢˜ä¸­éå¸¸æœ‰ä»·å€¼ï¼Œå¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>å“ªä¸ªè„šæœ¬æ²¡åŠ è½½</li>
<li>æ˜¯å¦è¢« ATS æ‹¦æˆª</li>
<li>Cookie æ˜¯å¦ä¸¢å¤±</li>
<li>èµ„æºæ˜¯å¦è·¨åŸŸå—é˜»</li>
</ul>
<h3 data-id="heading-19"><strong>æ€§èƒ½é¢æ¿</strong></h3>
<p>å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>åˆå§‹åŒ–å ç”¨ CPU æƒ…å†µ</li>
<li>é¦–å±æ¸²æŸ“è€—æ—¶</li>
<li>æ˜¯å¦å› ä¸ºå†…å­˜ä¸è¶³å¯¼è‡´åŠ è½½å¤±è´¥</li>
</ul>
<p>è¿™äº›æ•°æ®æ˜¯ Safari ä¸ Chrome éƒ½çœ‹ä¸åˆ°çš„ã€‚</p>
<hr/>
<h2 data-id="heading-20">å…­ã€çœŸå®é¡¹ç›®æ¡ˆä¾‹ï¼šiOS WebView åŠ è½½å¤±è´¥å®šä½è¿‡ç¨‹</h2>
<p>ä»¥ä¸‹æ˜¯å®é™…é¡¹ç›®ä¸­é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ã€‚</p>
<blockquote>
<p>æŸæ´»åŠ¨é¡µåœ¨ Android æ­£å¸¸ã€Safari æ­£å¸¸ï¼Œ
ä½†åœ¨ iOS App å†…åµŒ WebView ç™½å±ï¼Œæ²¡æœ‰ä»»ä½•æŠ¥é”™ã€‚</p>
</blockquote>
<h3 data-id="heading-21">ä½¿ç”¨ WebDebugX è°ƒè¯•åå‘ç°ï¼š</h3>
<ol>
<li>
<p>ç½‘ç»œé¢æ¿æ˜¾ç¤ºå…¥å£ JS çŠ¶æ€ä¸º <strong>(blocked: CSP)</strong></p>
</li>
<li>
<p>WebKit æ—¥å¿—æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-css" lang="css">Refused <span class="hljs-selector-tag">to</span> load script because it violates <span class="hljs-attribute">Content</span> Security Policy
</code></pre>
</li>
<li>
<p>æŸ¥çœ‹ DOMï¼Œé¡µé¢åŸºæœ¬æœªæ¸²æŸ“</p>
</li>
<li>
<p>æ ¹æ® CSP æ¥æºï¼Œç¡®è®¤æ˜¯ App WebView æ³¨å…¥çš„é»˜è®¤ç­–ç•¥é™åˆ¶äº†ç¬¬ä¸‰æ–¹è„šæœ¬åŠ è½½</p>
</li>
</ol>
<p>æœ€ç»ˆè§£å†³ï¼š</p>
<ul>
<li>è°ƒæ•´è„šæœ¬åŠ è½½æ–¹å¼ï¼ˆæ”¹ä¸ºå†…è” critical JSï¼‰</li>
<li>å¯¹éƒ¨åˆ†èµ„æºå•ç‹¬æˆæƒç­–ç•¥</li>
</ul>
<p>å¦‚æœæ²¡æœ‰ WebDebugXï¼Œè¿™ç±»é—®é¢˜åœ¨ Windows ç¯å¢ƒå‡ ä¹æ— æ³•å®šä½ã€‚</p>
<hr/>
<h2 data-id="heading-22">ä¸ƒã€æ¨èçš„ iOS WebView åŠ è½½å¤±è´¥è°ƒè¯•é“¾è·¯</h2>



































<table><thead><tr><th>è°ƒè¯•æ­¥éª¤</th><th>æ¨èå·¥å…·</th><th>è§£å†³é—®é¢˜</th></tr></thead><tbody><tr><td>1. æ¡Œé¢éªŒè¯</td><td>Chrome DevTools</td><td>æ’é™¤åŸºç¡€ JS/å¸ƒå±€é—®é¢˜</td></tr><tr><td>2. çœŸæœºå¿«é€Ÿæ—¥å¿—</td><td>vConsole / Eruda</td><td>æ£€æŸ¥ç®€å•æŠ¥é”™</td></tr><tr><td>3. æ·±åº¦è°ƒè¯•</td><td><strong>WebDebugX</strong></td><td>æŸ¥çœ‹ DOM/JS/Network/æ€§èƒ½</td></tr><tr><td>4. ç½‘ç»œè”è°ƒ</td><td>Charles</td><td>æ¥å£ã€é‡æ”¾ã€å¼±ç½‘è°ƒè¯•</td></tr><tr><td>5. æ€§èƒ½éªŒè¯</td><td>WebDebugX æ€§èƒ½é¢æ¿</td><td>é¦–å±å¡é¡¿ã€å†…å­˜é—®é¢˜</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-23">çœ‹è§é—®é¢˜çš„æœ¬è´¨ï¼Œæ‰èƒ½çœŸæ­£è§£å†³åŠ è½½å¤±è´¥</h2>
<p>iOS WebView åŠ è½½å¤±è´¥ä¸æ˜¯å•ä¸€é—®é¢˜ï¼Œè€Œæ˜¯ç¯å¢ƒå·®å¼‚ã€ç­–ç•¥é™åˆ¶ã€èµ„æºåŠ è½½ä¸æ€§èƒ½ç“¶é¢ˆå…±åŒä½œç”¨çš„ç»“æœã€‚</p>
<p>çœŸæ­£çš„è§£å†³æ–¹æ¡ˆï¼Œä¸æ˜¯çŒœã€ä¸æ˜¯å †æ—¥å¿—ï¼Œè€Œæ˜¯<strong>è®© WebView é€æ˜åŒ–</strong>ã€‚</p>
<p>å€ŸåŠ© WebDebugX è¿™ç§è·¨å¹³å°çš„å¯è§†åŒ–è°ƒè¯•æ–¹å¼ï¼Œå¼€å‘è€…ç»ˆäºå¯ä»¥åƒè°ƒè¯•æµè§ˆå™¨ä¸€æ ·ï¼Œæ¸…æ™°çœ‹è§ WebView å†…éƒ¨åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<p>è¿™å°±æ˜¯ WebView è°ƒè¯•ä»â€œé»‘ç®±æ—¶ä»£â€èµ°å‘â€œå¯è§†åŒ–æ—¶ä»£â€çš„å…³é”®ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[â€œ2038å¹´é—®é¢˜â€ æˆ– â€œY2K38â€ é—®é¢˜]]></title>    <link>https://juejin.cn/post/7572385850635239430</link>    <guid>https://juejin.cn/post/7572385850635239430</guid>    <pubDate>2025-11-14T09:10:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572385850635239430" data-draft-id="7572137760448479273" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="â€œ2038å¹´é—®é¢˜â€ æˆ– â€œY2K38â€ é—®é¢˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T09:10:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Juchecar"/> <meta itemprop="url" content="https://juejin.cn/user/284133851925070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            â€œ2038å¹´é—®é¢˜â€ æˆ– â€œY2K38â€ é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/284133851925070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Juchecar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:10:40.000Z" title="Fri Nov 14 2025 09:10:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>â€œ2038å¹´é—®é¢˜â€</strong> æˆ– <strong>â€œY2K38â€</strong> é—®é¢˜æŒ‡çš„æ˜¯åœ¨2038å¹´1æœˆ19æ—¥ï¼ˆUTCæ—¶é—´03:14:07ï¼‰ï¼Œä½¿ç”¨32ä½æœ‰ç¬¦å·æ•´æ•°å­˜å‚¨æ—¶é—´çš„ç³»ç»Ÿå°†ä¼šæº¢å‡ºï¼Œæ—¶é—´æˆ³ä¼šè·³å›1901å¹´12æœˆ13æ—¥ã€‚</p>
<p>è¿™å°†å¯¹ç°å­˜çš„ã€æœªæ›´æ–°çš„ITç³»ç»Ÿå¸¦æ¥å¹¿æ³›è€Œä¸¥é‡çš„å½±å“ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†åˆ†æå…¶åŸç†ã€æ½œåœ¨å½±å“å’Œåº”å¯¹ç­–ç•¥ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€é—®é¢˜æ ¹æºï¼š32ä½æœ‰ç¬¦å·æ•´æ•°æº¢å‡º</h3>
<ol>
<li><strong>æ—¶é—´æˆ³çš„è¡¨ç¤º</strong>ï¼šåœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€å’Œç³»ç»Ÿä¸­ï¼ˆå°¤å…¶æ˜¯C/C++å’Œç±»Unixç³»ç»Ÿï¼‰ï¼Œæ—¶é—´è¢«å­˜å‚¨ä¸ºä¸€ä¸ªä» <strong>1970å¹´1æœˆ1æ—¥00:00:00 UTCï¼ˆçºªå…ƒæ—¶é—´ï¼‰</strong> å¼€å§‹è®¡ç®—çš„ç§’æ•°ã€‚è¿™ä¸ªæ•°å­—è¢«å­˜å‚¨åœ¨ä¸€ä¸ª32ä½çš„<strong>æœ‰ç¬¦å·æ•´æ•°</strong>ï¼ˆ<code>time_t</code>ï¼‰ä¸­ã€‚</li>
<li><strong>æ•°å€¼æé™</strong>ï¼šä¸€ä¸ª32ä½æœ‰ç¬¦å·æ•´æ•°çš„æœ€å¤§å€¼æ˜¯ 2^31 - 1ï¼Œå³ <strong>2,147,483,647</strong> ç§’ã€‚</li>
<li><strong>æº¢å‡ºæ—¶åˆ»</strong>ï¼šä»1970å¹´1æœˆ1æ—¥åŠ ä¸Š2,147,483,647ç§’ï¼Œæ­£å¥½æ˜¯ <strong>2038å¹´1æœˆ19æ—¥ 03:14:07 UTC</strong>ã€‚</li>
<li><strong>æº¢å‡ºåæœ</strong>ï¼šåœ¨ä¸‹ä¸€ç§’ï¼Œå³03:14:08ï¼Œè¿™ä¸ªæ•°å­—å°†å˜æˆ 2,147,483,648ã€‚å¯¹äºæœ‰ç¬¦å·æ•´æ•°æ¥è¯´ï¼Œè¿™ä¼šè¢«è§£é‡Šä¸ºä¸€ä¸ª<strong>è´Ÿæ•°</strong>ï¼ˆ-2,147,483,648ï¼‰ã€‚å½“ç³»ç»Ÿè¯•å›¾å°†è¿™ä¸ªè´Ÿæ•°è§£é‡Šä¸ºæ—¥æœŸæ—¶ï¼Œå°±ä¼šè·³è½¬åˆ° <strong>1901å¹´12æœˆ13æ—¥ 20:45:52</strong> å·¦å³ã€‚</li>
</ol>
<h3 data-id="heading-1">äºŒã€å¯¹ç°å­˜ITç³»ç»Ÿçš„æ½œåœ¨å½±å“</h3>
<p>ä»»ä½•ä»åœ¨ä½¿ç”¨32ä½æ—¶é—´è¡¨ç¤ºæ³•çš„è½¯ä»¶ã€æ“ä½œç³»ç»Ÿã€åµŒå…¥å¼è®¾å¤‡å’Œæ•°æ®åº“éƒ½å¯èƒ½å—åˆ°å½±å“ã€‚å½±å“èŒƒå›´å¯ä»¥ä»ç®€å•çš„æ˜¾ç¤ºé”™è¯¯åˆ°ç¾éš¾æ€§çš„ç³»ç»Ÿæ•…éšœã€‚</p>
<h4 data-id="heading-2">1. åŸºç¡€è®¾æ–½ä¸æ“ä½œç³»ç»Ÿ</h4>
<ul>
<li><strong>è€æ—§ä½†å…³é”®çš„Linux/UnixæœåŠ¡å™¨</strong>ï¼šè®¸å¤šå·¥ä¸šæ§åˆ¶ã€é‡‘èã€ç”µä¿¡é¢†åŸŸçš„åå°ç³»ç»Ÿå¯èƒ½ä»åœ¨è¿è¡Œè€æ—§çš„32ä½Linuxæˆ–Unixç‰ˆæœ¬ã€‚å®ƒä»¬çš„æ ¸å¿ƒåº“å’Œåº”ç”¨ç¨‹åºä¼šçªç„¶â€œå›åˆ°â€1901å¹´ï¼Œå¯¼è‡´æœåŠ¡å´©æºƒã€æ—¥å¿—æ··ä¹±ã€è®¡åˆ’ä»»åŠ¡æ— æ³•æ‰§è¡Œã€‚</li>
<li><strong>åµŒå…¥å¼ç³»ç»Ÿ</strong>ï¼šè¿™æ˜¯é£é™©æœ€é«˜çš„é¢†åŸŸã€‚åŒ…æ‹¬ï¼š
<ul>
<li><strong>äº¤é€šç³»ç»Ÿ</strong>ï¼šèˆªç©ºç®¡åˆ¶ç³»ç»Ÿã€é“è·¯ä¿¡å·ç³»ç»Ÿã€æ±½è½¦ECUï¼ˆå°¤å…¶æ˜¯ç”Ÿäº§å¹´é™è¾ƒæ—©çš„ï¼‰ã€‚</li>
<li><strong>å·¥ä¸šæ§åˆ¶ç³»ç»Ÿ</strong>ï¼šå‘ç”µå‚ã€æ°´å¤„ç†å‚ã€çŸ³æ²¹åŒ–å·¥çš„SCADAç³»ç»Ÿã€‚</li>
<li><strong>åŒ»ç–—è®¾å¤‡</strong>ï¼šä¸€äº›è€æ—§çš„åŒ»ç–—æˆåƒè®¾å¤‡ã€æ‚£è€…ç›‘æŠ¤ç³»ç»Ÿã€‚</li>
<li><strong>ç½‘ç»œè®¾å¤‡</strong>ï¼šè€æ¬¾çš„è·¯ç”±å™¨ã€äº¤æ¢æœºã€é˜²ç«å¢™ï¼Œå…¶è¯ä¹¦éªŒè¯ã€æ—¥å¿—è®°å½•ä¼šå¤±æ•ˆã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">2. åº”ç”¨è½¯ä»¶ä¸æ•°æ®åº“</h4>
<ul>
<li><strong>é‡‘èç³»ç»Ÿ</strong>ï¼š
<ul>
<li><strong>äº¤æ˜“ç³»ç»Ÿ</strong>ï¼šé«˜é¢‘äº¤æ˜“ã€æœŸæƒå’ŒæœŸè´§åˆçº¦ï¼ˆå…¶åˆ°æœŸæ—¥é€šå¸¸å¾ˆé•¿ï¼‰çš„è®¡ç®—ä¼šå®Œå…¨é”™è¯¯ã€‚</li>
<li><strong>é“¶è¡Œæ ¸å¿ƒç³»ç»Ÿ</strong>ï¼šåˆ©æ¯è®¡ç®—ã€è´¦æˆ·æœ‰æ•ˆæœŸã€äº¤æ˜“æ—¶é—´æˆ³å…¨éƒ¨é”™ä¹±ï¼Œå¯èƒ½å¯¼è‡´å¤§è§„æ¨¡è´¦åŠ¡é”™è¯¯ã€‚</li>
<li><strong>ä¿¡ç”¨å¡ç³»ç»Ÿ</strong>ï¼šå¡ç‰‡æœ‰æ•ˆæœŸæ£€æŸ¥å¤±æ•ˆã€‚</li>
</ul>
</li>
<li><strong>æ•°æ®åº“ç³»ç»Ÿ</strong>ï¼š
<ul>
<li>ä»»ä½•ä½¿ç”¨32ä½æ—¶é—´æˆ³çš„æ•°æ®åº“ï¼ˆå¦‚è€ç‰ˆæœ¬çš„MySQLã€PostgreSQLç­‰ï¼‰åœ¨å­˜å‚¨å’ŒæŸ¥è¯¢2038å¹´ä¹‹åçš„æ—¥æœŸæ—¶ä¼šè¿”å›å®Œå…¨é”™è¯¯çš„ç»“æœã€‚åŸºäºæ—¶é—´çš„ç´¢å¼•å’ŒæŸ¥è¯¢ä¼šå½»åº•å´©æºƒã€‚</li>
</ul>
</li>
<li><strong>æ–‡ä»¶ç³»ç»Ÿ</strong>ï¼š
<ul>
<li>æ–‡ä»¶åˆ›å»ºã€ä¿®æ”¹ã€è®¿é—®æ—¶é—´æˆ³ï¼ˆctime, mtime, atimeï¼‰ä¼šå˜æˆ1901å¹´ï¼Œå¯¼è‡´å¤‡ä»½è½¯ä»¶ã€åŒæ­¥å·¥å…·ã€ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå¦‚Gitï¼‰å‡ºç°ä¸¥é‡é€»è¾‘é”™è¯¯ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">3. ç½‘ç»œå®‰å…¨ä¸åŠ å¯†</h4>
<ul>
<li><strong>æ•°å­—è¯ä¹¦</strong>ï¼šTLS/SSLè¯ä¹¦ï¼ˆç”¨äºHTTPSç½‘ç«™ï¼‰ã€ä»£ç ç­¾åè¯ä¹¦éƒ½æœ‰æœ‰æ•ˆæœŸã€‚ç³»ç»Ÿæ—¶é—´è·³å›1901å¹´ï¼Œä¼šå¯¼è‡´æ‰€æœ‰å½“å‰æœ‰æ•ˆçš„è¯ä¹¦éƒ½è¢«è¯†åˆ«ä¸ºâ€œå°šæœªç”Ÿæ•ˆâ€ï¼Œä»è€Œä½¿<strong>æ•´ä¸ªäº’è”ç½‘çš„åŠ å¯†é€šä¿¡ç˜«ç—ª</strong>ã€‚ç½‘ç«™æ— æ³•è®¿é—®ï¼ŒAPIè°ƒç”¨å¤±è´¥ã€‚</li>
<li><strong>æ—¥å¿—ä¸å®¡è®¡</strong>ï¼šæ‰€æœ‰å®‰å…¨å®¡è®¡æ—¥å¿—çš„æ—¶é—´æˆ³å˜å¾—æ¯«æ— æ„ä¹‰ï¼Œæ— æ³•è¿›è¡Œäº‹ä»¶è¿½æº¯å’Œæ•…éšœåˆ†æï¼Œè¿™åœ¨å‘ç”Ÿå®‰å…¨äº‹ä»¶æ—¶æ˜¯è‡´å‘½çš„ã€‚</li>
</ul>
<h4 data-id="heading-5">4. æ—¥å¸¸åº”ç”¨</h4>
<ul>
<li><strong>æ™ºèƒ½æ‰‹æœºä¸åº”ç”¨</strong>ï¼šè™½ç„¶ç°ä»£iOSå’ŒAndroidç³»ç»Ÿå·²åŸºæœ¬è¿ç§»åˆ°64ä½ï¼Œä½†ä¸€äº›é•¿æœŸæœªæ›´æ–°çš„è€æ—§åº”ç”¨ï¼Œæˆ–å…¶åå°æœåŠ¡ç«¯æœªæ›´æ–°ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚</li>
<li><strong>ç‰©è”ç½‘è®¾å¤‡</strong>ï¼šæ™ºèƒ½å®¶å±…ã€ç›‘æ§æ‘„åƒå¤´ç­‰ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯å»‰ä»·ã€æœªæ›´æ–°çš„32ä½èŠ¯ç‰‡å’Œå›ºä»¶ï¼Œå¯èƒ½ä¼šå¤±çµã€‚</li>
</ul>
<h3 data-id="heading-6">ä¸‰ã€ä¸â€œåƒå¹´è™«â€é—®é¢˜çš„å¯¹æ¯”</h3>






























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">åƒå¹´è™«é—®é¢˜</th><th align="left">2038å¹´é—®é¢˜</th></tr></thead><tbody><tr><td align="left"><strong>æ ¹æœ¬åŸå› </strong></td><td align="left">ä½¿ç”¨2ä½æ•°è¡¨ç¤ºå¹´ä»½ï¼ˆèŠ‚çœå­˜å‚¨ç©ºé—´ï¼‰</td><td align="left">32ä½æœ‰ç¬¦å·æ•´æ•°æ•°å€¼æº¢å‡º</td></tr><tr><td align="left"><strong>å½±å“èŒƒå›´</strong></td><td align="left">ä¸»è¦å½±å“å•†ä¸šå’Œæ•°æ®åº“åº”ç”¨</td><td align="left">å½±å“ä»åº•å±‚æ“ä½œç³»ç»Ÿåˆ°ä¸Šå±‚åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯åµŒå…¥å¼ç³»ç»Ÿ</td></tr><tr><td align="left"><strong>ä¿®å¤éš¾åº¦</strong></td><td align="left">ç›¸å¯¹å®¹æ˜“ï¼Œä¸»è¦åœ¨åº”ç”¨å±‚</td><td align="left"><strong>æ›´å¤æ‚</strong>ï¼Œæ¶‰åŠæ“ä½œç³»ç»Ÿå†…æ ¸ã€åº“ã€ç¡¬ä»¶å’ŒåµŒå…¥å¼å›ºä»¶</td></tr><tr><td align="left"><strong>å¯è§æ€§</strong></td><td align="left">é—®é¢˜ç›¸å¯¹æ˜æ˜¾</td><td align="left">é—®é¢˜æ›´éšè”½ï¼Œå¤§é‡è®¾å¤‡æ˜¯â€œè®¾ç½®åé—å¿˜â€çš„</td></tr></tbody></table>
<h3 data-id="heading-7">å››ã€è§£å†³æ–¹æ¡ˆä¸ç°çŠ¶</h3>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼Œä¸šç•Œå¾ˆæ—©å°±æ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”å·²ç»åœ¨è¿›è¡Œè¿ç§»ã€‚</p>
<ol>
<li><strong>è¿ç§»åˆ°64ä½æ—¶é—´æˆ³</strong>ï¼šè§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒæ˜¯å°† <code>time_t</code> å’Œç›¸å…³çš„æ—¶é—´å‡½æ•°ä»32ä½å‡çº§åˆ°<strong>64ä½</strong>ã€‚ä¸€ä¸ª64ä½æœ‰ç¬¦å·æ•´æ•°å¯ä»¥è¡¨ç¤ºçš„æ—¶é—´èŒƒå›´çº¦ä¸º<strong>Â±2920äº¿å¹´</strong>ï¼Œè¿œè¿œè¶…è¿‡å®‡å®™çš„å¹´é¾„ï¼Œä»è€Œä¸€åŠ³æ°¸é€¸åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li>
<li><strong>è½¯ä»¶å’Œç³»ç»Ÿå±‚é¢çš„åŠªåŠ›</strong>ï¼š
<ul>
<li>ç°ä»£64ä½æ“ä½œç³»ç»Ÿï¼ˆå¦‚Linux, Windows, macOSï¼‰æ—©å·²ä½¿ç”¨64ä½çš„ <code>time_t</code>ã€‚</li>
<li>ä¸»æµçš„ç¼–ç¨‹è¯­è¨€å’Œè¿è¡Œæ—¶åº“ï¼ˆå¦‚Java, .NET, Python, Goï¼‰å…¶å†…éƒ¨æ—¶é—´è¡¨ç¤ºé€šå¸¸ä¸å—æ­¤å½±å“ï¼Œæˆ–è€…æä¾›äº†æ˜ç¡®çš„64ä½APIã€‚</li>
<li>è®¸å¤šå¼€æºé¡¹ç›®å’Œå•†ä¸šè½¯ä»¶å·²ç»åœ¨å…¶ä»£ç ä¸­è¿›è¡Œäº†æ¸…ç†å’Œé€‚é…ã€‚</li>
</ul>
</li>
<li><strong>æŒ‘æˆ˜ä¸é—ç•™é—®é¢˜</strong>ï¼š
<ul>
<li><strong>äºŒè¿›åˆ¶å…¼å®¹æ€§</strong>ï¼šæ”¹å˜ <code>time_t</code> çš„å¤§å°å¯èƒ½ä¼šç ´åäºŒè¿›åˆ¶æ¥å£ï¼Œå¯¼è‡´è€æ—§çš„ã€é—­æºçš„äºŒè¿›åˆ¶ç¨‹åºæ— æ³•åœ¨æ–°ç³»ç»Ÿä¸Šè¿è¡Œã€‚</li>
<li><strong>æ–‡ä»¶æ ¼å¼ä¸åè®®</strong>ï¼šä¸€äº›è‡ªå®šä¹‰çš„æ–‡ä»¶æ ¼å¼æˆ–ç½‘ç»œåè®®å¦‚æœç¡¬ç¼–ç äº†32ä½æ—¶é—´æˆ³ï¼Œéœ€è¦å•ç‹¬å‡çº§ã€‚</li>
<li><strong>åµŒå…¥å¼ç³»ç»Ÿçš„â€œé•¿å°¾æ•ˆåº”â€</strong>ï¼šè¿™æ˜¯æœ€å¤§çš„æŒ‘æˆ˜ã€‚å¯»æ‰¾å¹¶æ›´æ–°æ‰€æœ‰æ·±è—åœ¨åŸºç¡€è®¾æ–½ä¸­çš„ã€æ— äººçœ‹ç®¡çš„32ä½åµŒå…¥å¼è®¾å¤‡ï¼Œæˆæœ¬æé«˜ï¼Œä¸”å¾ˆéš¾å®Œå…¨è¦†ç›–ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-8">ç»“è®º</h3>
<p><strong>2038å¹´é—®é¢˜æ˜¯ä¸€ä¸ªçœŸå®å­˜åœ¨çš„ã€æ½œåœ¨ç ´åæ€§æå¤§çš„æŠ€æœ¯å€ºåŠ¡ã€‚</strong></p>
<p>è™½ç„¶å¯¹äºæ–°å¼€å‘çš„ç³»ç»Ÿå’Œä¸»æµITåŸºç¡€è®¾æ–½è€Œè¨€ï¼Œè¿™ä¸ªé—®é¢˜å·²ç»åŸºæœ¬è§£å†³ï¼Œä½†å…¨çƒèŒƒå›´å†…ä»æœ‰<strong>æµ·é‡çš„ã€éš¾ä»¥è®¡æ•°çš„é—ç•™32ä½ç³»ç»Ÿ</strong>åœ¨é»˜é»˜è¿è¡Œã€‚è¿™äº›ç³»ç»Ÿå°±åƒâ€œå®šæ—¶ç‚¸å¼¹â€ï¼Œå¦‚æœä¸åœ¨2038å¹´ä¹‹å‰è¢«è¯†åˆ«ã€æ›´æ–°æˆ–æ·˜æ±°ï¼Œå±Šæ—¶å¾ˆå¯èƒ½å¼•å‘å±€éƒ¨ç”šè‡³å¤§èŒƒå›´çš„ç³»ç»Ÿæ•…éšœã€‚</p>
<p>å¯¹äºä¼ä¸šå’Œç»„ç»‡è€Œè¨€ï¼Œç°åœ¨å°±åº”è¯¥å¼€å§‹ï¼š</p>
<ul>
<li><strong>èµ„äº§æ¸…ç‚¹</strong>ï¼šè¯†åˆ«æ‰€æœ‰å¯èƒ½å—å½±å“çš„ç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯åµŒå…¥å¼è®¾å¤‡å’Œè€æ—§æœåŠ¡å™¨ã€‚</li>
<li><strong>é£é™©è¯„ä¼°</strong>ï¼šè¯„ä¼°è¿™äº›ç³»ç»Ÿæ•…éšœå¯èƒ½å¸¦æ¥çš„ä¸šåŠ¡å½±å“ã€‚</li>
<li><strong>åˆ¶å®šè¿ç§»è®¡åˆ’</strong>ï¼šé€æ­¥å°†å…³é”®ç³»ç»Ÿè¿ç§»åˆ°ä½¿ç”¨64ä½æ—¶é—´çš„å¹³å°ä¸Šï¼Œæˆ–ä¸ºæ— æ³•è¿ç§»çš„ç³»ç»Ÿå¯»æ‰¾ç¼“è§£æ–¹æ¡ˆã€‚</li>
</ul>
<p>æ€»è€Œè¨€ä¹‹ï¼Œ2038å¹´é—®é¢˜ä¸ä¼šåƒä¸€äº›äººæƒ³è±¡çš„é‚£æ ·å¯¼è‡´â€œäº’è”ç½‘æœ«æ—¥â€ï¼Œä½†å®ƒå‡ ä¹è‚¯å®šä¼šé€ æˆä¸€ç³»åˆ—ä»£ä»·é«˜æ˜‚çš„ä¸­æ–­å’Œæ•…éšœï¼Œå…¶å½±å“ç¨‹åº¦å–å†³äºæœªæ¥åå‡ å¹´å…¨çƒITç¤¾åŒºçš„ä¿®å¤åŠªåŠ›å’Œé—ç•™ç³»ç»Ÿçš„æ·˜æ±°é€Ÿåº¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯´ä¸‹æ•°æ®å­˜å‚¨]]></title>    <link>https://juejin.cn/post/7572396000544292927</link>    <guid>https://juejin.cn/post/7572396000544292927</guid>    <pubDate>2025-11-14T09:22:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572396000544292927" data-draft-id="7572142436128096275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯´ä¸‹æ•°æ®å­˜å‚¨"/> <meta itemprop="keywords" content="åç«¯,æ•°æ®åº“,MySQL"/> <meta itemprop="datePublished" content="2025-11-14T09:22:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†’æ³¡çš„è‚¥çš‚"/> <meta itemprop="url" content="https://juejin.cn/user/4353721774655677"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯´ä¸‹æ•°æ®å­˜å‚¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721774655677/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†’æ³¡çš„è‚¥çš‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:22:48.000Z" title="Fri Nov 14 2025 09:22:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ•°æ®è½ç›˜æ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªç¯èŠ‚ã€‚æ•°æ®åº“åœ¨è½ç›˜å‰éƒ½æ˜¯è¦å…ˆå†™åˆ°æ—¥å¿—æ–‡ä»¶çš„ï¼Œé˜²æ­¢æ–‡ä»¶ä¸¢å¤±å’Œç³»ç»Ÿå´©æºƒæ¢å¤çš„ã€‚ç¡¬ç›˜æœ‰ä¸ªé—®é¢˜é‚£å°±æ˜¯æ…¢ï¼Œæ‰€ä»¥å­˜å‚¨çš„æ•°æ®æå–ä¸€èˆ¬éƒ½æ˜¯è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜çš„ï¼Œä¸€èˆ¬æœ‰ä¸¤ä¸ªéƒ¨åˆ†ä¸€ä¸ªå°±æ˜¯å‡å°‘è¯»å–ä¹Ÿå°±æ˜¯å‡å°‘IOï¼Œå¦ä¸€ä¸ªå°±æ˜¯éœ€è¦ä¸€äº›æ•°æ®ç»“æ„çš„è®¾è®¡å¯¹æ•°æ®æå–å’Œå†™å…¥æ•ˆç‡æœ‰ä¸€äº›ä¿éšœçš„ã€‚</p>
<h3 data-id="heading-0">æ•°æ®åº“æœ‰ä¸ªWALçš„æœºåˆ¶</h3>
<blockquote>
<p>ä»»ä½•å¯¹æ•°æ®æ–‡ä»¶çš„ä¿®æ”¹ï¼Œå¿…é¡»å…ˆå†™å…¥æ—¥å¿—ï¼ˆlogï¼‰ï¼Œç„¶åæ‰èƒ½å†™å…¥æ•°æ®æ–‡ä»¶ï¼ˆdata fileï¼‰ã€‚å…ˆå†™æ—¥å¿—æ˜¯å› ä¸ºæ‹…å¿ƒçœŸæ­£å†™æ•°æ®çš„æ—¶å€™å‘ç”Ÿå´©æºƒå¯ä»¥è¡¥æ•‘ï¼Œå†…å­˜çš„æ•°æ®åˆæ²¡æ³•è½åœ°ä¼šä¸¢å¤±çš„ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ç®€å•çš„è¯´ä¸‹æ•°æ®çš„æ–‡ä»¶</h3>
<ul>
<li>å› ä¸ºä»ç³»ç»Ÿåˆ°ç¡¬ç›˜æ¯å±‚éƒ½æ˜¯ç¼“å­˜çš„ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4f7a7f1114043a2ba5d535d545f7b82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YaS5rOh55qE6IKl55qC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763716967&amp;x-signature=jPPDu7h4w6vitnDm2gVg%2B4qWmVE%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p>è¿˜æœ‰æ˜¯å†™å…¥çš„æ•°æ®è¦è¯»å–æ˜¯è¦åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ï¼Œæœ€ç®€å•çš„æ¯”å¦‚å†™å…¥ä¸€ä¸ªæ–‡æœ¬çš„æ–‡ä»¶ï¼Œåœ¨æŠŠæ–‡ä»¶çš„å†…å®¹è¯»å–å‡ºæ¥ã€‚ä½†æ˜¯å­˜å‚¨æ•°æ®è‚¯å®šä¸èƒ½ç”¨è¿™ä¸ªææ³•çš„å†™çš„éƒ½æ˜¯å­—èŠ‚ç åè§£æå‡ºå¯¹åº”çš„æ•°æ®ã€‚</p>
</li>
<li>
<p>è¿˜æœ‰ä¸ªé—®é¢˜æ˜¯ä»€ä¹ˆæ—¶å€™è§¦å‘è¿™ä¸ªå†™ç›˜çš„åŠ¨ä½œã€‚æ‰¹é‡è¿˜å¥½ï¼›å¦‚æœæ€§èƒ½æœ‰è¦æ±‚çš„ï¼Ÿæœ‰ä¸ªé˜ˆå€¼æ§åˆ¶å†™ç›˜çš„åŠ¨ä½œã€‚</p>
</li>
<li>
<p>è¿˜æœ‰ä¸ªé—®é¢˜è¯»å†™ç›˜çš„æ—¶å€™é¡ºåºè¯»å†™æ€§èƒ½æ˜¯æœ€é«˜çš„ï¼Œè¿™é‡Œå°±æœ‰ä¸ªåˆ’åˆ†çš„é—®é¢˜</p>
</li>
<li>
<p>è¿˜æœ‰å°±æ˜¯åæœŸæœ‰ä¸ªåˆå¹¶å¾—æ“ä½œæé«˜åˆ©ç”¨ç‡</p>
</li>
<li>
<p>è¿˜æœ‰ä¸ªå†æä¸‹äº†åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæ•°æ®åˆ†æ•£å¼€æ¥ã€‚æ•°æ®åˆ†ç‰‡ã€å†—ä½™å¤‡ä»½ï¼Ÿ</p>
</li>
</ul>
<h3 data-id="heading-2">ç®€å•æ¥ä¸ªdemo</h3>
<blockquote>
<p>å› ä¸ºå†™ç›˜è§£æå¾ˆéº»çƒ¦è¿™é‡Œå°±è¯´ä¸ªä¾‹å­ï¼Œä¸å®æ“äº†ã€‚</p>
</blockquote>
<h4 data-id="heading-3">å®šä¹‰ä¸€ä¸ªç®€å•çš„è¡¨ç»“æ„</h4>
<pre><code class="hljs language-ini" lang="ini">è‡ªåŠ¨å†™å…¥æ·»åŠ ä¸€ä¸ªå­—æ®µ _status 1ä¸ªå­—èŠ‚
è¡¨ç»“æ„ï¼šid 32ä½
       name 100ä½
       msg  200ä½
ä¸€æ¡æ•°æ®æœ€å¤§çš„ä½æ•° 1+32+100+<span class="hljs-attr">200</span>=<span class="hljs-number">333</span>ä¸ªå­—èŠ‚       
</code></pre>
<h4 data-id="heading-4">åˆ’åˆ†</h4>
<pre><code class="hljs language-erlang" lang="erlang">|æ•°æ®<span class="hljs-number">1</span>|æ•°æ®<span class="hljs-number">2</span>|......
å› ä¸ºæœ‰äº›å­—æ®µæ˜¯å˜é•¿çš„ä¿®æ”¹ä¸‹ç»“æ„ï¼Œæ€ä¹ˆåŠï¼Ÿ
|æ•°æ®é•¿åº¦-æ•°æ®<span class="hljs-number">1</span>|æ•°æ®é•¿åº¦-æ•°æ®<span class="hljs-number">2</span>|......
è¿™é‡Œé¢è¿˜æœ‰ä¸ªé—®é¢˜å°±æ˜¯ä½ ä¼šå‘ç°æ•°æ®æå–çš„æ—¶å€™å¿…é¡»æ•´ä¸ªå—ä¸€èµ·æå–æ‰èƒ½æ‰¾åˆ°æ•°æ®ï¼Œé‚£å†å¼€è¾Ÿä¸€å—åœ°æ–¹è®°å½•ç´¢å¼•æ•°æ®
|ä¸»é”®-æ•°æ®<span class="hljs-number">1</span>ä½ç½®|ä¸»é”®-æ•°æ®<span class="hljs-number">2</span>ä½ç½®|......
è¿™æ ·å·²å¤„ç†å®Œåæœ‰ä¸ªé—®é¢˜æ•°æ®ä¿®æ”¹è¿˜åƒä¿®æ”¹ä¸äº†äº†
-&gt;æ‰“ä¸ªåˆ é™¤æ ‡è®°-&gt;é‡æ–°å†™æ¡æ•°æ®è¿›å»
</code></pre>
<h4 data-id="heading-5">åˆ’åˆ†åˆ†å—</h4>
<ul>
<li>æ•´ä¸ªæ–‡ä»¶æˆ‘ä»¬å¯ä»¥æ‹†åˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„å°å—è¿›è¡Œæ•°æ®å¤„ç†</li>
</ul>
<h4 data-id="heading-6">ç®€å•çš„å®‰å…¨</h4>
<p>ä¸ºäº†æ–¹å¼æ–‡ä»¶çš„æŸåè¿™é‡Œå¯ä»¥å†æ•°æ®å†™å…¥åä¸»åŠ¨æ·»åŠ æœ‰äº›æ ¡éªŒæ•°æ®CRCã€MD5ã€shaã€‚</p>
<h4 data-id="heading-7">æ•°æ®åˆ†ç‰‡ï¼Ÿ</h4>
<p>æ•°æ®æ‹†åˆ†ä¸åŒåœ°æ–¹+æ‹¼æ¥ï¼Ÿ
å¦å­˜ä¸€ä»½å¤‡ä»½ï¼Ÿå®Œæ•´çš„ä¸€ä¸ªå¤‡ä»½ã€åˆ‡ç‰‡æ•°æ®æœ‰å¤‡ä»½æ‹¼æ¥
è¿™é‡Œé¢æœ‰ä¸ªé—®é¢˜ä»½çš„æ•°æ®é‡æ€ä¹ˆæ§åˆ¶ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Wiresharkç½‘ç»œæ•°æ®åŒ…åˆ†æå·¥å…·å®Œæ•´æ•™ç¨‹ä¸å®æˆ˜æ¡ˆä¾‹]]></title>    <link>https://juejin.cn/post/7572385850635288582</link>    <guid>https://juejin.cn/post/7572385850635288582</guid>    <pubDate>2025-11-14T09:21:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572385850635288582" data-draft-id="7572142436128112659" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Wiresharkç½‘ç»œæ•°æ®åŒ…åˆ†æå·¥å…·å®Œæ•´æ•™ç¨‹ä¸å®æˆ˜æ¡ˆä¾‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-14T09:21:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Wiresharkç½‘ç»œæ•°æ®åŒ…åˆ†æå·¥å…·å®Œæ•´æ•™ç¨‹ä¸å®æˆ˜æ¡ˆä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:21:48.000Z" title="Fri Nov 14 2025 09:21:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¯´èµ·Wiresharkï¼Œæˆ‘è®°å¾—ä¹‹å‰çœ‹åˆ°åŒäº‹ç”¨è¿™ä¸ªå·¥å…·æŠ“åŒ…åˆ†æç½‘ç»œé—®é¢˜ï¼Œæ„Ÿè§‰ç‰¹åˆ«é«˜å¤§ä¸Šï¼Œå¯†å¯†éº»éº»çš„æ•°æ®åŒ…åœ¨å±å¹•ä¸Šæ»šåŠ¨ï¼Œå°±åƒé»‘å®¢ç”µå½±é‡Œçš„åœºæ™¯ä¸€æ ·ã€‚åæ¥è‡ªå·±ç”¨å¤šäº†æ‰å‘ç°ï¼Œè¿™ç©æ„å„¿è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†ä¸Šæ‰‹å…¶å®æ²¡é‚£ä¹ˆéš¾ï¼Œå…³é”®æ˜¯è¦æŒæ¡æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
<h2 data-id="heading-0"><strong>ä»€ä¹ˆæ˜¯Wireshark</strong></h2>
<p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wireshark.org%2Fdownload.html" target="_blank" title="https://www.wireshark.org/download.html" ref="nofollow noopener noreferrer">www.wireshark.org/download.htâ€¦</a></p>
<p><strong>Wireshark</strong>ï¼ˆæ—§ç§° <strong>Ethereal</strong>ï¼‰æ˜¯ä¸€ä¸ª å¼€æº çš„ç½‘ç»œæ•°æ®åŒ…åˆ†æå™¨ï¼Œå¯å®æ—¶ä»ç½‘ç»œæ¥å£æ•è·æ•°æ®åŒ…ä¸­çš„æ•°æ®ã€‚å®ƒå°½å¯èƒ½è¯¦ç»†åœ°æ˜¾ç¤ºæ•è·çš„æ•°æ®ä»¥ä¾›ç”¨æˆ·æ£€æŸ¥å®ƒä»¬çš„å†…å®¹ï¼Œå¹¶æ”¯æŒå¤šåè®®çš„ç½‘ç»œæ•°æ®åŒ…è§£æã€‚Wireshark é€‚ç”¨äº Windows å’Œ UNIX æ“ä½œç³»ç»Ÿã€‚å®ƒå¯è¢«ç”¨äºæ£€æŸ¥å®‰å…¨é—®é¢˜å’Œè§£å†³ç½‘ç»œé—®é¢˜ï¼Œä¹Ÿå¯ä¾›å¼€å‘è€…è°ƒè¯•åè®®çš„å®ç°å’Œå­¦ä¹ ç½‘ç»œåè®®çš„åŸç†ã€‚</p>
<p>åœ¨GNU é€šç”¨å…¬å…±è®¸å¯è¯ çš„ä¿éšœä¸‹ï¼Œç”¨æˆ·å¯ å…è´¹ è·å¾—è½¯ä»¶ä¸ æºä»£ç ï¼Œå¹¶æ‹¥æœ‰å¯¹æºä»£ç ä¿®æ”¹åŠå®šåˆ¶çš„æƒåˆ©ã€‚</p>
<p>è¿™ä¸ªå·¥å…·æœ€åˆå«åšEtherealï¼Œåæ¥å› ä¸ºå•†æ ‡é—®é¢˜æ”¹åä¸ºWiresharkã€‚å®ƒæ”¯æŒå‡ ç™¾ç§ç½‘ç»œåè®®ï¼Œä»æœ€åŸºç¡€çš„ä»¥å¤ªç½‘åˆ°å¤æ‚çš„åº”ç”¨å±‚åè®®éƒ½èƒ½åˆ†æã€‚</p>
<p>é™¤äº†Wiresharkï¼ŒSniffmasteræ˜¯å¦ä¸€æ¬¾å€¼å¾—æ¨èçš„æŠ“åŒ…å·¥å…·ã€‚Sniffmasteræ”¯æŒå…¨å¹³å°ï¼ˆiOS/Android/Mac/Windowsï¼‰çš„HTTPSã€TCPå’ŒUDPåè®®æŠ“åŒ…ï¼Œä¸”æ— éœ€ä»£ç†ã€è¶Šç‹±æˆ–rootå³å¯è§£å¯†HTTPSæµé‡ï¼Œæä¾›äº†æ•°æ®æµæŠ“åŒ…å’Œä»£ç†æŠ“åŒ…ç­‰åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-1"><strong>å®‰è£…å’ŒåŸºæœ¬ç•Œé¢</strong></h2>
<p>å®‰è£…Wiresharkå¾ˆç®€å•ï¼Œå»å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„ç‰ˆæœ¬å°±è¡Œã€‚Windowsç”¨æˆ·ç›´æ¥ä¸‹è½½exeæ–‡ä»¶å®‰è£…ï¼ŒLinuxç”¨æˆ·å¯ä»¥ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ï¼Œæ¯”å¦‚Ubuntuä¸‹é¢ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">sudo apt-get install wireshark
</code></pre>
<p>å®‰è£…å®Œæˆåæ‰“å¼€Wiresharkï¼Œç•Œé¢åˆ†ä¸ºå‡ ä¸ªä¸»è¦åŒºåŸŸï¼š</p>
<ul>
<li>èœå•æ å’Œå·¥å…·æ ï¼šåŸºæœ¬çš„æ“ä½œæŒ‰é’®</li>
<li>ç½‘ç»œæ¥å£åˆ—è¡¨ï¼šæ˜¾ç¤ºå¯ä»¥æŠ“åŒ…çš„ç½‘ç»œæ¥å£</li>
<li>æ•°æ®åŒ…åˆ—è¡¨ï¼šæ˜¾ç¤ºæ•è·åˆ°çš„æ•°æ®åŒ…</li>
<li>æ•°æ®åŒ…è¯¦æƒ…ï¼šæ˜¾ç¤ºé€‰ä¸­æ•°æ®åŒ…çš„è¯¦ç»†ä¿¡æ¯</li>
<li>åå…­è¿›åˆ¶è§†å›¾ï¼šä»¥åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ•°æ®åŒ…å†…å®¹</li>
</ul>
<p>ç¬¬ä¸€æ¬¡ä½¿ç”¨å¯èƒ½ä¼šè§‰å¾—ç•Œé¢æœ‰ç‚¹å¤æ‚ï¼Œä¸è¿‡ç”¨å‡ æ¬¡å°±ç†Ÿæ‚‰äº†ã€‚</p>
<h2 data-id="heading-2"><strong>å¼€å§‹ç¬¬ä¸€æ¬¡æŠ“åŒ…</strong></h2>
<p>é€‰æ‹©è¦ç›‘å¬çš„ç½‘ç»œæ¥å£æ˜¯ç¬¬ä¸€æ­¥ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰çº¿ç½‘ç»œé€‰æ‹©ä»¥å¤ªç½‘æ¥å£ï¼Œæ— çº¿ç½‘ç»œé€‰æ‹©WiFiæ¥å£ã€‚åŒå‡»æ¥å£åç§°å°±å¼€å§‹æŠ“åŒ…äº†ï¼Œè¿™æ—¶å€™ä½ ä¼šçœ‹åˆ°æ•°æ®åŒ…å¼€å§‹åœ¨åˆ—è¡¨ä¸­æ»šåŠ¨æ˜¾ç¤ºã€‚</p>
<p>æˆ‘è®°å¾—ç¬¬ä¸€æ¬¡æŠ“åŒ…çš„æ—¶å€™è¢«å“äº†ä¸€è·³ï¼Œæ•°æ®åŒ…åˆ·å¾—å¤ªå¿«äº†ï¼Œæ ¹æœ¬çœ‹ä¸æ¸…ã€‚åæ¥æ‰çŸ¥é“ç°åœ¨çš„ç½‘ç»œæµé‡ç¡®å®å¾ˆå¤§ï¼Œå³ä½¿æ˜¯æ­£å¸¸çš„ç³»ç»Ÿåå°é€šä¿¡ä¹Ÿä¼šäº§ç”Ÿå¤§é‡æ•°æ®åŒ…ã€‚</p>
<p>åœæ­¢æŠ“åŒ…å¾ˆç®€å•ï¼Œç‚¹å‡»çº¢è‰²çš„åœæ­¢æŒ‰é’®å°±è¡Œã€‚æŠ“åŒ…æ–‡ä»¶å¯ä»¥ä¿å­˜ä¸ºpcapæ ¼å¼ï¼Œæ–¹ä¾¿åç»­åˆ†æã€‚</p>
<h2 data-id="heading-3"><strong>è¿‡æ»¤å™¨çš„ä½¿ç”¨</strong></h2>
<p>è¿™é‡Œè¦é‡ç‚¹è¯´ä¸€ä¸‹è¿‡æ»¤å™¨ï¼Œå› ä¸ºæ²¡æœ‰è¿‡æ»¤å™¨çš„Wiresharkå°±åƒæ²¡æœ‰æœç´¢åŠŸèƒ½çš„ç™¾åº¦ï¼ŒåŸºæœ¬æ²¡æ³•ç”¨ã€‚</p>
<p>Wiresharkæœ‰ä¸¤ç§è¿‡æ»¤å™¨ï¼šæ•è·è¿‡æ»¤å™¨å’Œæ˜¾ç¤ºè¿‡æ»¤å™¨ã€‚</p>
<p>æ•è·è¿‡æ»¤å™¨åœ¨æŠ“åŒ…æ—¶å°±å¼€å§‹å·¥ä½œï¼Œåªæ•è·ç¬¦åˆæ¡ä»¶çš„æ•°æ®åŒ…ã€‚è¯­æ³•æ¯”è¾ƒç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">host 192.168.10.108    <span class="hljs-comment"># åªæŠ“å–ä¸è¿™ä¸ªIPç›¸å…³çš„åŒ…</span>
port 80               <span class="hljs-comment"># åªæŠ“å–80ç«¯å£çš„åŒ…</span>
tcp                   <span class="hljs-comment"># åªæŠ“å–TCPåè®®çš„åŒ…</span>
</code></pre>
<p>æ˜¾ç¤ºè¿‡æ»¤å™¨æ˜¯åœ¨å·²ç»æŠ“å–çš„æ•°æ®åŒ…ä¸­è¿›è¡Œç­›é€‰ï¼Œè¯­æ³•æ›´ä¸°å¯Œä¸€äº›ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">ip.addr</span> == <span class="hljs-number">192.168</span>.<span class="hljs-number">10.108</span>     <span class="hljs-comment"># æ˜¾ç¤ºæºæˆ–ç›®æ ‡IPä¸ºè¿™ä¸ªåœ°å€çš„åŒ…</span>
<span class="hljs-attr">tcp.port</span> == <span class="hljs-number">80</span>                <span class="hljs-comment"># æ˜¾ç¤ºTCPç«¯å£ä¸º80çš„åŒ…</span>
<span class="hljs-attr">http.request.method</span> == <span class="hljs-string">"GET"</span>  <span class="hljs-comment"># æ˜¾ç¤ºHTTP GETè¯·æ±‚</span>
dns                           <span class="hljs-comment"># æ˜¾ç¤ºDNSæŸ¥è¯¢</span>
</code></pre>
<p>æˆ‘å¹³æ—¶ç”¨å¾—æœ€å¤šçš„å‡ ä¸ªè¿‡æ»¤å™¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tcp.flags.reset</span> == <span class="hljs-number">1</span>          <span class="hljs-comment"># æŸ¥æ‰¾TCPé‡ç½®åŒ…</span>
<span class="hljs-attr">http.response.code</span> == <span class="hljs-number">404</span>     <span class="hljs-comment"># æŸ¥æ‰¾404é”™è¯¯</span>
icmp                          <span class="hljs-comment"># æŸ¥çœ‹pingåŒ…</span>
arp                           <span class="hljs-comment"># æŸ¥çœ‹ARPè¯·æ±‚</span>
</code></pre>
<h2 data-id="heading-4"><strong>å®æˆ˜æ¡ˆä¾‹ä¸€ï¼šç½‘ç«™è®¿é—®æ…¢é—®é¢˜æ’æŸ¥</strong></h2>
<p>åˆ†äº«ä¸€ä¸ªå…¸å‹æ¡ˆä¾‹ã€‚ç”¨æˆ·åé¦ˆè®¿é—®å…¬å¸å†…éƒ¨çš„ä¸€ä¸ªWebç³»ç»Ÿç‰¹åˆ«æ…¢ï¼Œæœ‰æ—¶å€™è¦ç­‰åå‡ ç§’æ‰èƒ½æ‰“å¼€é¡µé¢ã€‚</p>
<p>æˆ‘å…ˆåœ¨ç”¨æˆ·ç”µè„‘ä¸Šå¼€å§‹æŠ“åŒ…ï¼Œç„¶åè®©ç”¨æˆ·é‡ç°é—®é¢˜ã€‚ä½¿ç”¨è¿‡æ»¤å™¨ <code>http</code> åªæ˜¾ç¤ºHTTPæµé‡ï¼Œå¾ˆå¿«å°±å‘ç°äº†é—®é¢˜ã€‚</p>
<p>åœ¨æ•°æ®åŒ…åˆ—è¡¨ä¸­ï¼Œæˆ‘çœ‹åˆ°ç”¨æˆ·çš„æµè§ˆå™¨å‘å‡ºHTTPè¯·æ±‚åï¼ŒæœåŠ¡å™¨å“åº”æ—¶é—´æ­£å¸¸ï¼Œä½†æ˜¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å‡ºç°äº†å¤§é‡çš„TCPé‡ä¼ åŒ…ã€‚ä½¿ç”¨è¿‡æ»¤å™¨ <code>tcp.analysis.retransmission</code> å¯ä»¥ä¸“é—¨æŸ¥çœ‹é‡ä¼ åŒ…ã€‚</p>
<p>è¿›ä¸€æ­¥åˆ†æå‘ç°ï¼Œé‡ä¼ ä¸»è¦å‘ç”Ÿåœ¨ä¸‹è½½CSSå’ŒJavaScriptæ–‡ä»¶çš„æ—¶å€™ã€‚è¿™äº›æ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œåœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹å®¹æ˜“å‡ºç°ä¸¢åŒ…ï¼Œå¯¼è‡´éœ€è¦é‡ä¼ ï¼Œä»è€Œå½±å“é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åœ¨WebæœåŠ¡å™¨ä¸Šå¯ç”¨äº†gzipå‹ç¼©ï¼Œå‡å°äº†æ–‡ä»¶å¤§å°ï¼ŒåŒæ—¶è°ƒæ•´äº†TCPçª—å£å¤§å°å‚æ•°ï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚</p>
<h2 data-id="heading-5"><strong>å®æˆ˜æ¡ˆä¾‹äºŒï¼šDNSè§£æå¼‚å¸¸</strong></h2>
<p>è¿˜æœ‰ä¸€æ¬¡é‡åˆ°çš„é—®é¢˜æ›´æœ‰æ„æ€ã€‚ç”¨æˆ·è¯´è®¿é—®æŸäº›ç½‘ç«™æ—¶å¿«æ—¶æ…¢ï¼Œå¾ˆä¸ç¨³å®šã€‚</p>
<p>æˆ‘ç”¨è¿‡æ»¤å™¨ <code>dns</code> æŸ¥çœ‹DNSæŸ¥è¯¢ï¼Œå‘ç°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼šåŒä¸€ä¸ªåŸŸåçš„DNSæŸ¥è¯¢ï¼Œæœ‰æ—¶å€™å“åº”å¾ˆå¿«ï¼Œå‡ æ¯«ç§’å°±è¿”å›ç»“æœï¼Œæœ‰æ—¶å€™å´è¦ç­‰å¥½å‡ ç§’ã€‚</p>
<p>ä»”ç»†è§‚å¯ŸDNSå“åº”åŒ…ï¼Œæˆ‘å‘ç°å¿«çš„é‚£äº›æŸ¥è¯¢éƒ½æ˜¯ä»æœ¬åœ°DNSç¼“å­˜è¿”å›çš„ï¼Œè€Œæ…¢çš„æŸ¥è¯¢éœ€è¦å‘ä¸Šæ¸¸DNSæœåŠ¡å™¨è¯·æ±‚ã€‚æ›´å…³é”®çš„æ˜¯ï¼Œæˆ‘æ³¨æ„åˆ°æœ‰äº›DNSæŸ¥è¯¢æ ¹æœ¬æ²¡æœ‰æ”¶åˆ°å“åº”ï¼Œè¿‡äº†å‡ ç§’åå®¢æˆ·ç«¯æ‰é‡æ–°å‘èµ·æŸ¥è¯¢ã€‚</p>
<p>ç”¨ <code>dns.flags.response == 0 and not dns.flags.response == 1</code> è¿™ä¸ªè¿‡æ»¤å™¨å¯ä»¥æ‰¾å‡ºé‚£äº›æ²¡æœ‰å¾—åˆ°å“åº”çš„DNSæŸ¥è¯¢ã€‚ç»“æœå‘ç°ç¡®å®æœ‰ä¸å°‘æŸ¥è¯¢çŸ³æ²‰å¤§æµ·äº†ã€‚</p>
<p>é—®é¢˜å®šä½åˆ°äº†DNSæœåŠ¡å™¨ï¼Œæˆ‘pingäº†ä¸€ä¸‹å…¬å¸é…ç½®çš„DNSæœåŠ¡å™¨ï¼Œå‘ç°ä¸¢åŒ…ç‡æŒºé«˜çš„ã€‚åæ¥è”ç³»ç½‘ç»œç®¡ç†å‘˜æ‰çŸ¥é“ï¼Œé‚£å°DNSæœåŠ¡å™¨æœ€è¿‘è´Ÿè½½å¾ˆé«˜ï¼Œç»å¸¸å¤„ç†ä¸è¿‡æ¥è¯·æ±‚ã€‚æ¢äº†ä¸€ä¸ªæ›´ç¨³å®šçš„DNSæœåŠ¡å™¨åï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚</p>
<p>è¿™ä¸ªæ¡ˆä¾‹è®©æˆ‘å°è±¡æ·±åˆ»ï¼Œå› ä¸ºDNSé—®é¢˜å¾€å¾€ä¸å¤ªå®¹æ˜“å¯Ÿè§‰ï¼Œç”¨æˆ·åªä¼šæ„Ÿè§‰"ç½‘ç»œæ…¢"ï¼Œä½†å…·ä½“æ…¢åœ¨å“ªé‡Œå¾ˆéš¾è¯´æ¸…æ¥šã€‚</p>
<h2 data-id="heading-6"><strong>åˆ†æTCPè¿æ¥é—®é¢˜</strong></h2>
<p>TCPè¿æ¥çš„å»ºç«‹å’Œæ–­å¼€è¿‡ç¨‹åœ¨ç½‘ç»œé—®é¢˜æ’æŸ¥ä¸­ç‰¹åˆ«é‡è¦ã€‚æ­£å¸¸çš„TCPè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯å‘é€SYNåŒ…</li>
<li>æœåŠ¡å™¨å›å¤SYN+ACKåŒ…</li>
<li>å®¢æˆ·ç«¯å‘é€ACKåŒ…</li>
</ol>
<p>åœ¨Wiresharkä¸­å¯ä»¥ç”¨ <code>tcp.flags.syn == 1</code> æŸ¥çœ‹SYNåŒ…ï¼Œç”¨ <code>tcp.flags.syn == 1 and tcp.flags.ack == 1</code> æŸ¥çœ‹SYN+ACKåŒ…ã€‚</p>
<p>æˆ‘é‡åˆ°è¿‡ä¸€ä¸ªæ¡ˆä¾‹ï¼Œåº”ç”¨ç¨‹åºè¿æ¥æ•°æ®åº“ç»å¸¸è¶…æ—¶ã€‚æŠ“åŒ…åˆ†æå‘ç°ï¼Œå®¢æˆ·ç«¯å‘å‡ºSYNåŒ…åï¼ŒæœåŠ¡å™¨è¿Ÿè¿Ÿä¸å›å¤SYN+ACKï¼Œæˆ–è€…å›å¤å¾—å¾ˆæ…¢ã€‚è¿™é€šå¸¸è¯´æ˜æœåŠ¡å™¨è´Ÿè½½è¿‡é«˜æˆ–è€…ç½‘ç»œå»¶è¿Ÿå¤ªå¤§ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯æœåŠ¡å™¨ç›´æ¥å›å¤RSTåŒ…ï¼Œè¡¨ç¤ºæ‹’ç»è¿æ¥ã€‚è¿™å¯èƒ½æ˜¯ç«¯å£æ²¡å¼€æ”¾ï¼Œæˆ–è€…æœåŠ¡æ²¡æœ‰å¯åŠ¨ã€‚</p>
<p>TCPè¿æ¥çš„æ–­å¼€ä¹Ÿå€¼å¾—å…³æ³¨ã€‚æ­£å¸¸æ–­å¼€æ˜¯å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ï¼Œä½†å¦‚æœçœ‹åˆ°RSTåŒ…ï¼Œè¯´æ˜è¿æ¥è¢«å¼ºåˆ¶é‡ç½®äº†ï¼Œå¯èƒ½æ˜¯ç½‘ç»œè®¾å¤‡æˆ–è€…åº”ç”¨ç¨‹åºä¸»åŠ¨æ–­å¼€äº†è¿æ¥ã€‚</p>
<h2 data-id="heading-7"><strong>HTTPåè®®åˆ†ææŠ€å·§</strong></h2>
<p>HTTPæ˜¯æˆ‘ä»¬æœ€å¸¸åˆ†æçš„åè®®ä¹‹ä¸€ã€‚Wiresharkå¯¹HTTPçš„æ”¯æŒå¾ˆå¥½ï¼Œå¯ä»¥ç›´æ¥çœ‹åˆ°è¯·æ±‚å’Œå“åº”çš„å†…å®¹ã€‚</p>
<p>ç”¨ <code>http.request</code> å¯ä»¥åªæ˜¾ç¤ºHTTPè¯·æ±‚ï¼Œ <code>http.response</code> åªæ˜¾ç¤ºå“åº”ã€‚å¦‚æœè¦æŸ¥çœ‹ç‰¹å®šçš„HTTPçŠ¶æ€ç ï¼Œå¯ä»¥ç”¨ <code>http.response.code == 500</code> è¿™æ ·çš„è¿‡æ»¤å™¨ã€‚</p>
<p>æœ‰ä¸€æ¬¡æˆ‘ä»¬çš„Webåº”ç”¨å‡ºç°é—´æ­‡æ€§çš„500é”™è¯¯ï¼Œç”¨æˆ·åé¦ˆè¯´åˆ·æ–°å‡ æ¬¡å°±å¥½äº†ã€‚æˆ‘æŠ“åŒ…åˆ†æå‘ç°ï¼Œ500é”™è¯¯ä¸»è¦å‡ºç°åœ¨POSTè¯·æ±‚ä¸Šï¼Œè€Œä¸”éƒ½æ˜¯ä¸€äº›æ¯”è¾ƒå¤§çš„è¯·æ±‚ã€‚</p>
<p>é€šè¿‡æŸ¥çœ‹HTTPè¯·æ±‚å¤´ï¼Œæˆ‘å‘ç°è¿™äº›å‡ºé”™çš„è¯·æ±‚éƒ½æœ‰ä¸€ä¸ªå…±åŒç‰¹ç‚¹ï¼šContent-Lengthæ¯”è¾ƒå¤§ã€‚è¿›ä¸€æ­¥åˆ†ææœåŠ¡å™¨æ—¥å¿—ï¼Œå‘ç°æ˜¯å› ä¸ºæˆ‘ä»¬è®¾ç½®çš„è¯·æ±‚ä½“å¤§å°é™åˆ¶å¤ªå°äº†ï¼Œè¶…è¿‡é™åˆ¶çš„è¯·æ±‚å°±è¢«æ‹’ç»äº†ã€‚</p>
<p>è°ƒæ•´äº†æœåŠ¡å™¨é…ç½®åï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚è¿™ä¸ªæ¡ˆä¾‹è¯´æ˜ï¼Œæœ‰æ—¶å€™ç½‘ç»œå±‚é¢çœ‹èµ·æ¥æ­£å¸¸ï¼Œä½†åº”ç”¨å±‚å¯èƒ½æœ‰é—®é¢˜ã€‚</p>
<h2 data-id="heading-8"><strong>æŠ“åŒ…æ—¶çš„æ³¨æ„äº‹é¡¹</strong></h2>
<p>åœ¨å®é™…å·¥ä½œä¸­ä½¿ç”¨Wiresharkéœ€è¦æ³¨æ„å‡ ä¸ªé—®é¢˜ã€‚</p>
<p>ç½‘ç»œæƒé™æ˜¯ç¬¬ä¸€ä¸ªè¦è€ƒè™‘çš„ã€‚åœ¨äº¤æ¢ç½‘ç»œç¯å¢ƒä¸­ï¼Œä½ åªèƒ½æŠ“åˆ°å‘é€ç»™æœ¬æœºæˆ–è€…æœ¬æœºå‘å‡ºçš„æ•°æ®åŒ…ï¼ŒæŠ“ä¸åˆ°å…¶ä»–è®¾å¤‡ä¹‹é—´çš„é€šä¿¡ã€‚å¦‚æœéœ€è¦æŠ“å–å…¶ä»–è®¾å¤‡çš„æµé‡ï¼Œå¯èƒ½éœ€è¦é…ç½®äº¤æ¢æœºçš„ç«¯å£é•œåƒåŠŸèƒ½ã€‚</p>
<p>æ•°æ®é‡ä¹Ÿæ˜¯ä¸ªé—®é¢˜ã€‚ç°åœ¨çš„ç½‘ç»œæµé‡å¾ˆå¤§ï¼Œé•¿æ—¶é—´æŠ“åŒ…ä¼šäº§ç”Ÿå·¨å¤§çš„æ–‡ä»¶ã€‚æˆ‘å»ºè®®è®¾ç½®åˆé€‚çš„æ•è·è¿‡æ»¤å™¨ï¼ŒåªæŠ“å–éœ€è¦çš„æµé‡ã€‚å¦å¤–å¯ä»¥è®¾ç½®æ–‡ä»¶å¤§å°é™åˆ¶ï¼Œè®©Wiresharkè‡ªåŠ¨è½®è½¬ä¿å­˜æ–‡ä»¶ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯è¦æ³¨æ„æ•°æ®å®‰å…¨ã€‚æŠ“åŒ…æ–‡ä»¶å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·åå¯†ç ã€ä¸ªäººæ•°æ®ç­‰ã€‚ä¿å­˜å’Œä¼ è¾“æŠ“åŒ…æ–‡ä»¶æ—¶è¦æ ¼å¤–å°å¿ƒï¼Œç”¨å®ŒåŠæ—¶åˆ é™¤ã€‚</p>
<h2 data-id="heading-9"><strong>ä¸€äº›å®ç”¨çš„åˆ†ææŠ€å·§</strong></h2>
<p>æˆ‘å¹³æ—¶ç”¨Wiresharkè¿˜æœ‰ä¸€äº›å°æŠ€å·§åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<p>å³é”®ç‚¹å‡»æ•°æ®åŒ…å¯ä»¥"Follow TCP Stream"ï¼Œè¿™æ ·èƒ½çœ‹åˆ°å®Œæ•´çš„TCPä¼šè¯å†…å®¹ï¼Œå¯¹äºåˆ†æåº”ç”¨å±‚åè®®ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p>ç»Ÿè®¡åŠŸèƒ½ä¹Ÿå¾ˆå¼ºå¤§ï¼Œåœ¨Statisticsèœå•ä¸‹å¯ä»¥çœ‹åˆ°å„ç§ç»Ÿè®¡ä¿¡æ¯ï¼Œæ¯”å¦‚åè®®åˆ†å¸ƒã€ä¼šè¯ç»Ÿè®¡ã€IOå›¾è¡¨ç­‰ã€‚è¿™äº›å¯¹äºäº†è§£ç½‘ç»œæµé‡ç‰¹å¾å¾ˆæœ‰å¸®åŠ©ã€‚</p>
<p>Expert InfoåŠŸèƒ½èƒ½è‡ªåŠ¨åˆ†ææ•°æ®åŒ…ä¸­çš„å¼‚å¸¸æƒ…å†µï¼Œæ¯”å¦‚é‡ä¼ ã€ä¹±åºã€é‡å¤ACKç­‰ã€‚è™½ç„¶ä¸æ˜¯100%å‡†ç¡®ï¼Œä½†å¯ä»¥ä½œä¸ºé—®é¢˜æ’æŸ¥çš„èµ·ç‚¹ã€‚</p>
<p>æ—¶é—´æ˜¾ç¤ºæ ¼å¼ä¹Ÿå¯ä»¥è°ƒæ•´ã€‚é»˜è®¤æ˜¾ç¤ºçš„æ˜¯ç›¸å¯¹æ—¶é—´ï¼Œä½†æœ‰æ—¶å€™éœ€è¦çœ‹ç»å¯¹æ—¶é—´æˆ–è€…æ—¶é—´å·®ï¼Œå¯ä»¥åœ¨Viewèœå•ä¸­è°ƒæ•´ã€‚</p>
<h2 data-id="heading-10"><strong>å¸¸è§åè®®çš„åˆ†æè¦ç‚¹</strong></h2>
<p>é™¤äº†HTTPå’ŒTCPï¼Œè¿˜æœ‰ä¸€äº›åè®®åœ¨æ—¥å¸¸å·¥ä½œä¸­ç»å¸¸é‡åˆ°ã€‚</p>
<p>DNSåè®®æ¯”è¾ƒç®€å•ï¼Œä¸»è¦å…³æ³¨æŸ¥è¯¢ç±»å‹ã€å“åº”æ—¶é—´å’Œè¿”å›ç»“æœã€‚å¦‚æœDNSæŸ¥è¯¢æ—¶é—´è¿‡é•¿ï¼Œå¯èƒ½æ˜¯DNSæœåŠ¡å™¨é—®é¢˜æˆ–è€…ç½‘ç»œå»¶è¿Ÿã€‚</p>
<p>DHCPåè®®ç”¨äºè‡ªåŠ¨åˆ†é…IPåœ°å€ã€‚DHCPè¿‡ç¨‹åŒ…æ‹¬Discoverã€Offerã€Requestã€ACKå››ä¸ªæ­¥éª¤ã€‚å¦‚æœè®¾å¤‡è·å–ä¸åˆ°IPåœ°å€ï¼Œå¯ä»¥æŠ“åŒ…çœ‹çœ‹æ˜¯å“ªä¸ªæ­¥éª¤å‡ºäº†é—®é¢˜ã€‚</p>
<p>ARPåè®®ç”¨äºIPåœ°å€å’ŒMACåœ°å€çš„æ˜ å°„ã€‚ARPæ¬ºéª—æ”»å‡»åœ¨ä¼ä¸šç½‘ç»œä¸­å¶å°”ä¼šé‡åˆ°ï¼Œé€šè¿‡åˆ†æARPåŒ…å¯ä»¥å‘ç°å¼‚å¸¸ã€‚</p>
<p>ICMPåè®®ä¸»è¦ç”¨äºpingå’Œtracerouteã€‚é™¤äº†å¸¸è§çš„Echo Request/Replyï¼Œè¿˜æœ‰ä¸€äº›é”™è¯¯æ¶ˆæ¯ï¼Œæ¯”å¦‚Destination Unreachableã€Time Exceededç­‰ï¼Œè¿™äº›å¯¹ç½‘ç»œé—®é¢˜è¯Šæ–­å¾ˆæœ‰ä»·å€¼ã€‚</p>
<h2 data-id="heading-11"><strong>å®‰å…¨åˆ†æåº”ç”¨</strong></h2>
<p>è™½ç„¶Wiresharkä¸»è¦ç”¨äºç½‘ç»œé—®é¢˜æ’æŸ¥ï¼Œä½†åœ¨å®‰å…¨åˆ†ææ–¹é¢ä¹Ÿå¾ˆæœ‰ç”¨ã€‚</p>
<p>å¯ä»¥é€šè¿‡åˆ†ææµé‡æ¨¡å¼å‘ç°å¼‚å¸¸è¡Œä¸ºã€‚æ¯”å¦‚å¤§é‡çš„ç«¯å£æ‰«æä¼šäº§ç”Ÿå¾ˆå¤šTCP SYNåŒ…ä½†æ²¡æœ‰åç»­çš„æ•°æ®ä¼ è¾“ã€‚</p>
<p>DDoSæ”»å‡»é€šå¸¸ä¼šäº§ç”Ÿå¼‚å¸¸çš„æµé‡æ¨¡å¼ï¼Œæ¯”å¦‚å¤§é‡æ¥è‡ªä¸åŒIPçš„ç›¸åŒè¯·æ±‚ã€‚</p>
<p>æ¶æ„è½¯ä»¶é€šä¿¡ä¹Ÿå¯èƒ½è¢«å‘ç°ã€‚å¾ˆå¤šæ¶æ„è½¯ä»¶ä¼šå®šæœŸä¸C&amp;CæœåŠ¡å™¨é€šä¿¡ï¼Œè¿™äº›é€šä¿¡å¾€å¾€æœ‰å›ºå®šçš„æ¨¡å¼ã€‚</p>
<p>å½“ç„¶ï¼Œç°åœ¨å¾ˆå¤šé€šä¿¡éƒ½æ˜¯åŠ å¯†çš„ï¼Œç›´æ¥åˆ†æå†…å®¹æ¯”è¾ƒå›°éš¾ï¼Œä½†è¿˜æ˜¯èƒ½ä»æµé‡ç‰¹å¾ã€é€šä¿¡é¢‘ç‡ã€ç›®æ ‡åœ°å€ç­‰æ–¹é¢å‘ç°ä¸€äº›çº¿ç´¢ã€‚</p>
<p>æˆ‘è®°å¾—æœ‰ä¸€æ¬¡å…¬å¸ç½‘ç»œç®¡ç†å‘˜æ€€ç–‘æœ‰å°ç”µè„‘ä¸­äº†ç—…æ¯’ï¼Œå› ä¸ºç½‘ç»œæµé‡ç›‘æ§æ˜¾ç¤ºè¿™å°æœºå™¨çš„å¤–ç½‘æµé‡å¼‚å¸¸ã€‚æˆ‘ç”¨Wiresharkåœ¨ç½‘å…³å¤„æŠ“åŒ…åˆ†æï¼Œå‘ç°è¿™å°æœºå™¨ç¡®å®åœ¨å®šæœŸå‘æŸä¸ªå¯ç–‘IPå‘é€æ•°æ®ï¼Œè€Œä¸”å‘é€çš„æ—¶é—´é—´éš”å¾ˆè§„å¾‹ï¼Œæ¯éš”5åˆ†é’Ÿä¸€æ¬¡ã€‚</p>
<p>è™½ç„¶æ•°æ®æ˜¯åŠ å¯†çš„ï¼Œçœ‹ä¸åˆ°å…·ä½“å†…å®¹ï¼Œä½†è¿™ç§è¡Œä¸ºæ¨¡å¼å¾ˆåƒæ¶æ„è½¯ä»¶çš„å¿ƒè·³åŒ…ã€‚åæ¥å®‰å…¨å›¢é˜Ÿå¯¹é‚£å°æœºå™¨è¿›è¡Œäº†æ·±åº¦æ£€æŸ¥ï¼Œæœç„¶å‘ç°äº†æœ¨é©¬ç¨‹åºã€‚</p>
<h2 data-id="heading-12"><strong>ç§»åŠ¨ç«¯å’ŒWiFiåˆ†æ</strong></h2>
<p>ç°åœ¨ç§»åŠ¨è®¾å¤‡è¶Šæ¥è¶Šå¤šï¼ŒWiFiç½‘ç»œçš„é—®é¢˜ä¹Ÿç»å¸¸é‡åˆ°ã€‚</p>
<p>WiFiæŠ“åŒ…æ¯”æœ‰çº¿ç½‘ç»œå¤æ‚ä¸€äº›ï¼Œå› ä¸ºWiFiæ˜¯å…±äº«ä»‹è´¨ï¼Œæ‰€æœ‰è®¾å¤‡çš„æµé‡éƒ½åœ¨åŒä¸€ä¸ªä¿¡é“ä¸Šã€‚è€Œä¸”WiFiè¿˜æœ‰å¾ˆå¤šç®¡ç†å¸§ï¼Œæ¯”å¦‚Beaconã€Probe Request/Responseç­‰ã€‚</p>
<p>æˆ‘é‡åˆ°è¿‡ä¸€ä¸ªWiFiç½‘ç»œç»å¸¸æ–­çº¿çš„é—®é¢˜ã€‚é€šè¿‡æŠ“åŒ…åˆ†æå‘ç°ï¼Œç½‘ç»œä¸­æœ‰å¤§é‡çš„Deauthï¼ˆå»è®¤è¯ï¼‰å¸§ï¼Œè¿™é€šå¸¸è¯´æ˜æœ‰è®¾å¤‡åœ¨è¿›è¡ŒWiFiå¹²æ‰°æ”»å‡»ï¼Œæˆ–è€…æ˜¯APè®¾å¤‡æœ‰é—®é¢˜ã€‚</p>
<p>è¿˜æœ‰ä¸€æ¬¡æ˜¯WiFiè¿æ¥æ…¢çš„é—®é¢˜ã€‚æŠ“åŒ…å‘ç°åœ¨DHCPé˜¶æ®µè€—æ—¶å¾ˆé•¿ï¼ŒåŸå› æ˜¯DHCPæœåŠ¡å™¨å“åº”æ…¢ã€‚è¿™ç§é—®é¢˜ç”¨ä¼ ç»Ÿçš„ç½‘ç»œå·¥å…·å¾ˆéš¾å‘ç°ï¼Œä½†Wiresharkèƒ½æ¸…æ¥šåœ°çœ‹åˆ°æ•´ä¸ªè¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-13"><strong>äº‘ç¯å¢ƒå’Œè™šæ‹ŸåŒ–ç½‘ç»œ</strong></h2>
<p>ç°åœ¨å¾ˆå¤šåº”ç”¨éƒ½éƒ¨ç½²åœ¨äº‘ä¸Šï¼Œè™šæ‹ŸåŒ–ç½‘ç»œçš„é—®é¢˜æ’æŸ¥ä¹Ÿæœ‰ä¸€äº›ç‰¹ç‚¹ã€‚</p>
<p>åœ¨è™šæ‹Ÿæœºä¸­æŠ“åŒ…æ—¶ï¼Œå¯èƒ½çœ‹ä¸åˆ°ç‰©ç†ç½‘ç»œçš„ä¸€äº›ç»†èŠ‚ã€‚æ¯”å¦‚VLANæ ‡ç­¾å¯èƒ½è¢«è™šæ‹Ÿäº¤æ¢æœºå¤„ç†æ‰äº†ï¼Œç‰©ç†ç½‘ç»œçš„é”™è¯¯ä¹Ÿå¯èƒ½è¢«è™šæ‹ŸåŒ–å±‚å±è”½ã€‚</p>
<p>å®¹å™¨ç½‘ç»œæ›´å¤æ‚ä¸€äº›ï¼Œå› ä¸ºå®¹å™¨ä¹‹é—´çš„é€šä¿¡å¯èƒ½é€šè¿‡å„ç§ç½‘ç»œæ’ä»¶å®ç°ï¼Œæ¯”å¦‚flannelã€calicoç­‰ã€‚è¿™æ—¶å€™éœ€è¦åœ¨åˆé€‚çš„ä½ç½®æŠ“åŒ…ï¼Œå¯èƒ½æ˜¯å®¿ä¸»æœºçš„ç½‘ç»œæ¥å£ï¼Œä¹Ÿå¯èƒ½æ˜¯å®¹å™¨å†…éƒ¨ã€‚</p>
<p>æˆ‘ä¹‹å‰æ’æŸ¥è¿‡ä¸€ä¸ªKubernetesé›†ç¾¤ä¸­Podä¹‹é—´é€šä¿¡å¼‚å¸¸çš„é—®é¢˜ã€‚åœ¨Podå†…éƒ¨æŠ“åŒ…çœ‹èµ·æ¥æ­£å¸¸ï¼Œä½†åœ¨å®¿ä¸»æœºä¸ŠæŠ“åŒ…å‘ç°æ•°æ®åŒ…è¢«é˜²ç«å¢™è§„åˆ™ä¸¢å¼ƒäº†ã€‚è¿™ç§é—®é¢˜å¦‚æœä¸ç”¨æŠ“åŒ…åˆ†æï¼Œå¾ˆéš¾å®šä½ã€‚</p>
<h2 data-id="heading-14"><strong>è‡ªåŠ¨åŒ–å’Œè„šæœ¬åŒ–</strong></h2>
<p>å¯¹äºé‡å¤æ€§çš„åˆ†æå·¥ä½œï¼Œå¯ä»¥è€ƒè™‘ç”¨è„šæœ¬æ¥è‡ªåŠ¨åŒ–ã€‚</p>
<p>Wiresharkæä¾›äº†å‘½ä»¤è¡Œå·¥å…·tsharkï¼ŒåŠŸèƒ½å’Œå›¾å½¢ç•Œé¢ç‰ˆæœ¬åŸºæœ¬ä¸€æ ·ï¼Œä½†å¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŠ“å–HTTPæµé‡å¹¶ä¿å­˜</span>
tshark -i eth0 -f <span class="hljs-string">"port 80"</span> -w http_traffic.pcap
â€‹
<span class="hljs-comment"># åˆ†æå·²æœ‰çš„æŠ“åŒ…æ–‡ä»¶</span>
tshark -r traffic.pcap -Y <span class="hljs-string">"http.response.code == 404"</span> -T fields -e frame.time -e ip.src -e http.request.uri
</code></pre>
<p>æˆ‘å†™è¿‡ä¸€ä¸ªç›‘æ§è„šæœ¬ï¼Œå®šæœŸæŠ“åŒ…åˆ†æç½‘ç»œè´¨é‡ï¼Œå¦‚æœå‘ç°é‡ä¼ ç‡è¶…è¿‡é˜ˆå€¼å°±å‘é€å‘Šè­¦ã€‚è¿™æ ·èƒ½æå‰å‘ç°ç½‘ç»œé—®é¢˜ï¼Œè€Œä¸æ˜¯ç­‰ç”¨æˆ·æŠ•è¯‰ã€‚</p>
<p>è¿˜å¯ä»¥ç”¨Pythonçš„scapyåº“æ¥åˆ†æpcapæ–‡ä»¶ï¼ŒåŠŸèƒ½æ›´çµæ´»ä¸€äº›ã€‚ä¸è¿‡å¯¹äºå¤§éƒ¨åˆ†åœºæ™¯ï¼ŒWiresharkè‡ªå¸¦çš„åŠŸèƒ½å°±å¤Ÿç”¨äº†ã€‚</p>
<h2 data-id="heading-15"><strong>å­¦ä¹ å»ºè®®å’Œè¿›é˜¶æ–¹å‘</strong></h2>
<p>æƒ³è¦ç†Ÿç»ƒä½¿ç”¨Wiresharkï¼Œæœ€é‡è¦çš„æ˜¯å¤šç»ƒä¹ ã€‚å¯ä»¥åœ¨è‡ªå·±çš„ç¯å¢ƒä¸­æ•…æ„åˆ¶é€ ä¸€äº›é—®é¢˜ï¼Œç„¶åç”¨Wiresharkæ¥åˆ†æã€‚</p>
<p>ç½‘ç»œåè®®çš„åŸºç¡€çŸ¥è¯†å¾ˆé‡è¦ã€‚è‡³å°‘è¦äº†è§£TCP/IPåè®®æ ˆçš„åŸºæœ¬åŸç†ï¼ŒçŸ¥é“å„å±‚åè®®çš„ä½œç”¨å’Œäº¤äº’æ–¹å¼ã€‚æ¨èçœ‹çœ‹ã€ŠTCP/IPè¯¦è§£ã€‹è¿™æœ¬ä¹¦ï¼Œè™½ç„¶æ¯”è¾ƒåšï¼Œä½†è®²å¾—å¾ˆæ¸…æ¥šã€‚</p>
<p>å®é™…å·¥ä½œä¸­é‡åˆ°é—®é¢˜æ—¶ï¼Œä¸è¦æ€¥ç€ä¸‹ç»“è®ºã€‚å…ˆç”¨Wiresharkæ”¶é›†è¶³å¤Ÿçš„æ•°æ®ï¼Œç„¶åä»”ç»†åˆ†æã€‚æœ‰æ—¶å€™è¡¨é¢ç°è±¡å’ŒçœŸæ­£çš„åŸå› å·®åˆ«å¾ˆå¤§ã€‚</p>
<p>è¿˜å¯ä»¥å…³æ³¨ä¸€äº›ç½‘ç»œå®‰å…¨å’Œåè®®åˆ†æçš„åšå®¢ã€è®ºå›ï¼Œå­¦ä¹ åˆ«äººçš„ç»éªŒã€‚Wiresharkå®˜æ–¹æ–‡æ¡£ä¹Ÿå¾ˆè¯¦ç»†ï¼Œé‡åˆ°ä¸æ‡‚çš„åŠŸèƒ½å¯ä»¥æŸ¥é˜…ã€‚</p>
<h2 data-id="heading-16"><strong>å·¥å…·çš„å±€é™æ€§</strong></h2>
<p>è™½ç„¶Wiresharkå¾ˆå¼ºå¤§ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›å±€é™æ€§éœ€è¦äº†è§£ã€‚</p>
<p>åŠ å¯†æµé‡æ˜¯æœ€å¤§çš„æŒ‘æˆ˜ã€‚ç°åœ¨HTTPSã€TLSè¶Šæ¥è¶Šæ™®åŠï¼Œå¾ˆå¤šåº”ç”¨å±‚çš„é—®é¢˜æ— æ³•ç›´æ¥é€šè¿‡æŠ“åŒ…åˆ†æã€‚è¿™æ—¶å€™éœ€è¦ç»“åˆåº”ç”¨æ—¥å¿—ã€ç³»ç»Ÿç›‘æ§ç­‰å…¶ä»–æ‰‹æ®µã€‚</p>
<p>æ€§èƒ½ä¹Ÿæ˜¯ä¸ªé—®é¢˜ã€‚åœ¨é«˜æµé‡ç¯å¢ƒä¸­ï¼ŒWiresharkå¯èƒ½è·Ÿä¸ä¸Šæ•°æ®åŒ…çš„é€Ÿåº¦ï¼Œå¯¼è‡´ä¸¢åŒ…ã€‚è¿™æ—¶å€™å¯èƒ½éœ€è¦ä¸“ä¸šçš„ç½‘ç»œåˆ†æè®¾å¤‡ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯æŠ“åŒ…ä½ç½®çš„é€‰æ‹©ã€‚åœ¨å¤æ‚çš„ç½‘ç»œç¯å¢ƒä¸­ï¼Œé€‰æ‹©åˆé€‚çš„æŠ“åŒ…ç‚¹å¾ˆé‡è¦ã€‚æœ‰æ—¶å€™éœ€è¦åœ¨å¤šä¸ªä½ç½®åŒæ—¶æŠ“åŒ…ï¼Œæ‰èƒ½å®Œæ•´åœ°åˆ†æé—®é¢˜ã€‚</p>
<h2 data-id="heading-17"><strong>å®é™…éƒ¨ç½²ä¸­çš„ç»éªŒ</strong></h2>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨Wiresharkéœ€è¦æ ¼å¤–å°å¿ƒã€‚</p>
<p>æˆ‘å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒä¸­éªŒè¯åˆ†ææ–¹æ³•ï¼Œç¡®è®¤æ²¡é—®é¢˜åå†åœ¨ç”Ÿäº§ç¯å¢ƒæ“ä½œã€‚ç”Ÿäº§ç¯å¢ƒçš„æŠ“åŒ…è¦æ§åˆ¶å¥½æ—¶é—´å’ŒèŒƒå›´ï¼Œé¿å…å½±å“æ­£å¸¸ä¸šåŠ¡ã€‚</p>
<p>æŠ“åŒ…æ–‡ä»¶è¦åŠæ—¶æ¸…ç†ï¼Œç‰¹åˆ«æ˜¯åŒ…å«æ•æ„Ÿæ•°æ®çš„æ–‡ä»¶ã€‚å¯ä»¥è®¾ç½®è‡ªåŠ¨æ¸…ç†è„šæœ¬ï¼Œå®šæœŸåˆ é™¤è¿‡æœŸçš„æŠ“åŒ…æ–‡ä»¶ã€‚</p>
<p>å›¢é˜Ÿåä½œæ—¶ï¼Œè¦å»ºç«‹ç»Ÿä¸€çš„åˆ†ææµç¨‹å’Œæ–‡æ¡£è§„èŒƒã€‚è¿™æ ·å…¶ä»–åŒäº‹ä¹Ÿèƒ½å¿«é€Ÿç†è§£åˆ†æç»“æœï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>æˆ‘ä»¬å›¢é˜Ÿç°åœ¨æœ‰ä¸€ä¸ªå…±äº«çš„çŸ¥è¯†åº“ï¼Œè®°å½•å„ç§å¸¸è§é—®é¢˜çš„Wiresharkåˆ†ææ–¹æ³•ã€‚æ–°äººå…¥èŒæ—¶ï¼Œè¿™ä¸ªçŸ¥è¯†åº“èƒ½å¸®ä»–ä»¬å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œå…¶å®Wiresharkå°±æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå…³é”®è¿˜æ˜¯è¦ç†è§£ç½‘ç»œåŸç†å’Œåè®®æœºåˆ¶ã€‚å·¥å…·åªæ˜¯å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°è§‚å¯Ÿå’Œåˆ†æç½‘ç»œè¡Œä¸ºï¼ŒçœŸæ­£è§£å†³é—®é¢˜è¿˜æ˜¯è¦é æ‰å®çš„åŸºç¡€çŸ¥è¯†å’Œä¸°å¯Œçš„å®è·µç»éªŒã€‚</p>
<p>æˆ‘åˆšå¼€å§‹ç”¨Wiresharkçš„æ—¶å€™ï¼Œç»å¸¸è¢«å„ç§æ•°æ®åŒ…æå¾—å¤´æ™•ï¼Œæ„Ÿè§‰ä¿¡æ¯å¤ªå¤šäº†ä¸çŸ¥é“ä»å“ªé‡Œå…¥æ‰‹ã€‚åæ¥æ…¢æ…¢æ€»ç»“å‡ºä¸€å¥—åˆ†ææ–¹æ³•ï¼šå…ˆçœ‹æ•´ä½“æµé‡æ¨¡å¼ï¼Œå†å…³æ³¨å¼‚å¸¸æ•°æ®åŒ…ï¼Œæœ€åæ·±å…¥åˆ†æå…·ä½“åè®®ç»†èŠ‚ã€‚è¿™æ ·å±‚å±‚é€’è¿›ï¼Œé—®é¢˜å°±å®¹æ˜“å®šä½äº†ã€‚</p>
<p>ç°åœ¨å›æƒ³èµ·æ¥ï¼ŒWiresharkç¡®å®å¸®æˆ‘è§£å†³äº†å¾ˆå¤šæ£˜æ‰‹çš„ç½‘ç»œé—®é¢˜ã€‚æœ‰äº›é—®é¢˜å¦‚æœæ²¡æœ‰æŠ“åŒ…åˆ†æï¼Œå¯èƒ½è¦èŠ±å‡ å€çš„æ—¶é—´æ‰èƒ½æ‰¾åˆ°æ ¹å› ã€‚æ‰€ä»¥æˆ‘è§‰å¾—æ¯ä¸ªåšç½‘ç»œè¿ç»´çš„åŒå­¦éƒ½åº”è¯¥æŒæ¡è¿™ä¸ªå·¥å…·ã€‚</p>
<p>å½“ç„¶ï¼ŒæŠ€æœ¯åœ¨ä¸æ–­å‘å±•ï¼Œç½‘ç»œç¯å¢ƒä¹Ÿè¶Šæ¥è¶Šå¤æ‚ã€‚SDNã€å®¹å™¨ç½‘ç»œã€æœåŠ¡ç½‘æ ¼è¿™äº›æ–°æŠ€æœ¯å¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ï¼Œä½†åŸºæœ¬çš„åˆ†ææ€è·¯æ˜¯ä¸å˜çš„ã€‚æŒæ¡äº†Wiresharkçš„ä½¿ç”¨æ–¹æ³•ï¼Œå†å­¦ä¹ å…¶ä»–ç½‘ç»œåˆ†æå·¥å…·ä¹Ÿä¼šå®¹æ˜“å¾ˆå¤šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Linuxå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨ï¼Œæ‹¿èµ°ï¼Œä¸è°¢]]></title>    <link>https://juejin.cn/post/7572142436128145427</link>    <guid>https://juejin.cn/post/7572142436128145427</guid>    <pubDate>2025-11-14T09:28:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572142436128145427" data-draft-id="7572137760448561193" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Linuxå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨ï¼Œæ‹¿èµ°ï¼Œä¸è°¢"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-11-14T09:28:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Linuxå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨ï¼Œæ‹¿èµ°ï¼Œä¸è°¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:28:45.000Z" title="Fri Nov 14 2025 09:28:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef56edd156e546a9ad6228da90fc37e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763717325&amp;x-signature=wRG5VdEqzaaCXrTgm3SsWbyPZUg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c577211a3cf44b51bb6f0f7375d0b088~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763717325&amp;x-signature=BzqF5WsSis1doKANqGDFDSSzkLM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8cfa7850066408889af1c0da7fa4b4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTmqZjlrZDnmq4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763717325&amp;x-signature=1VYcvEmeNXU7WlnE2%2FtSmreK7no%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustæ€§èƒ½è°ƒä¼˜ï¼šä»åŠé€€åˆ°çœŸé¦™]]></title>    <link>https://juejin.cn/post/7572387666979602458</link>    <guid>https://juejin.cn/post/7572387666979602458</guid>    <pubDate>2025-11-14T09:30:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572387666979602458" data-draft-id="7572387068313632795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustæ€§èƒ½è°ƒä¼˜ï¼šä»åŠé€€åˆ°çœŸé¦™"/> <meta itemprop="keywords" content="åç«¯,Rust"/> <meta itemprop="datePublished" content="2025-11-14T09:30:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨"/> <meta itemprop="url" content="https://juejin.cn/user/64217584778579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustæ€§èƒ½è°ƒä¼˜ï¼šä»åŠé€€åˆ°çœŸé¦™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/64217584778579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:30:28.000Z" title="Fri Nov 14 2025 09:30:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ°çƒäººéƒ½è¯´Rustå¿«ï¼Œå®‰å…¨ï¼Œå¹¶å‘ç‰›ã€‚ä½†æœ‰æ—¶å€™æˆ‘ä»¬å†™å‡ºæ¥çš„ä»£ç ï¼Œè·‘èµ·æ¥å´åƒè¸©äº†è„šåˆ¹è½¦ã€‚è¿™æ˜¯ä¸ºå•¥ï¼Ÿå…¶å®ï¼ŒRustç»™ä½ çš„æ³•æ‹‰åˆ©ï¼Œä½ å¯èƒ½åªå½“æˆäº†ä¹°èœè½¦åœ¨å¼€ã€‚æ€§èƒ½è¿™ç©æ„å„¿ï¼Œä¸æ˜¯ç„å­¦ï¼Œè€Œæ˜¯ç§‘å­¦ï¼ˆå’Œä¸€ç‚¹ç‚¹å°æŠ€å·§ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e6c1e35b051470187dd4403d22d2f41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763717428&amp;x-signature=%2F0ay3p4Tx4ORdciqe%2F4kt3M7QaY%3D" alt="" loading="lazy"/></p>
<p>BUTï¼Œåœ¨å¼€å§‹ä¹‹å‰ï¼Œè°ä¹Ÿä¸æƒ³åœ¨é…ç½®ç¯å¢ƒè¿™ç§ç ´äº‹ä¸Šæµªè´¹ç”Ÿå‘½ï¼Œå¯¹å§ï¼Ÿè£…Rustã€è£…PostgreSQLã€è£…Redisâ€¦â€¦ä¸€å¥—ä¸‹æ¥ï¼ŒåŠå¤©æ²¡äº†ã€‚è¿™é‡Œå°±è¦ç”¨ ServBayï¼Œè¿™æ˜¯å¼€å‘è€…çš„ç¦éŸ³ï¼Œä¸€é”®å°±èƒ½æŠŠ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Frust" target="_blank" title="https://www.servbay.com/features/rust" ref="nofollow noopener noreferrer">Rustå¼€å‘ç¯å¢ƒ</a>ç»™æå®šäº†ï¼Œè¿å¸¦å„ç§æ•°æ®åº“éƒ½å®‰æ’å¾—æ˜æ˜ç™½ç™½ã€‚å“¥å“¥ä½ æ”¾å¿ƒé£ï¼ŒServBayæ°¸ç›¸éšã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f347da97bce49ceab5534d1873f695c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763717428&amp;x-signature=wecwow2FYQ4iV2p4%2F18%2B3z%2BZ3AM%3D" alt="" loading="lazy"/></p>
<p>å¥½äº†ï¼Œç¯å¢ƒæå®šï¼Œç³»å¥½å®‰å…¨å¸¦ï¼Œæˆ‘ä»¬å‘è½¦ï¼</p>
<h4 data-id="heading-0"><strong>æŠ€å·§ä¸€ï¼šå‡½æ•°å‚æ•°åˆ«è€ç”¨</strong><code>String</code>ï¼Œ<code>&amp;str</code><strong>æ‰æ˜¯ä¸‡é‡‘æ²¹</strong></h4>
<p>è¿™å¯èƒ½æ˜¯æ–°æ‰‹æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯ã€‚çœ‹åˆ°å­—ç¬¦ä¸²ï¼Œä¸‹æ„è¯†å°±ç”¨<code>String</code>ã€‚</p>
<p><strong>åˆ«è¿™ä¹ˆå¹²ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œéƒ½å¯èƒ½å‘ç”Ÿä¸€æ¬¡å†…å­˜æ‹·è´ï¼ŒæŠŠæ‰€æœ‰æƒäº¤å‡ºå»</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">welcome_user</span>(name: <span class="hljs-type">String</span>) {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Hello, {}! æ¬¢è¿æ¥åˆ°Rustçš„ä¸–ç•Œï¼"</span>, name);
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">user_name</span> = <span class="hljs-string">"CodeWizard"</span>.<span class="hljs-title function_ invoke__">to_string</span>();
    <span class="hljs-comment">// ä¸ºäº†ä¸å¤±å» user_name çš„æ‰€æœ‰æƒï¼Œä½ ä¸å¾—ä¸å…‹éš†å®ƒ</span>
    <span class="hljs-title function_ invoke__">welcome_user</span>(user_name.<span class="hljs-title function_ invoke__">clone</span>()); 
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ä½ çš„ç”¨æˆ·åæ˜¯: {}"</span>, user_name); <span class="hljs-comment">// å¦‚æœä¸cloneï¼Œè¿™é‡Œå°±ç¼–è¯‘ä¸è¿‡äº†</span>
}
</code></pre>
<p><strong>è¯•è¯•è¿™ä¸ªï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä½¿ç”¨ &amp;strï¼Œæˆ‘ä»¬åªæ˜¯å€Ÿç”¨äº†æ•°æ®ï¼Œä¸æ¶‰åŠæ‰€æœ‰æƒè½¬ç§»</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">welcome_user</span>(name: &amp;<span class="hljs-type">str</span>) {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Hello, {}! æ¬¢è¿æ¥åˆ°Rustçš„ä¸–ç•Œï¼"</span>, name);
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">user_name</span> = <span class="hljs-string">"CodeWizard"</span>.<span class="hljs-title function_ invoke__">to_string</span>();
    <span class="hljs-title function_ invoke__">welcome_user</span>(&amp;user_name); <span class="hljs-comment">// è½»æ¾å€Ÿç”¨</span>
    <span class="hljs-title function_ invoke__">welcome_user</span>(<span class="hljs-string">"Newbie"</span>); <span class="hljs-comment">// å­—ç¬¦ä¸²å­—é¢é‡ä¹Ÿå®Œå…¨æ²¡é—®é¢˜</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ä½ çš„ç”¨æˆ·åæ˜¯: {}"</span>, user_name); <span class="hljs-comment">// user_name è¿˜åœ¨ï¼Œå•¥äº‹æ²¡æœ‰</span>
}
</code></pre>
<p><strong>ä¸ºå•¥å‘¢ï¼Ÿ</strong> <code>String</code>æ˜¯åŠ¨æ€çš„ã€æ‹¥æœ‰æ‰€æœ‰æƒçš„å­—ç¬¦ä¸²ï¼ŒæŠŠå®ƒä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè¦ä¹ˆæ‰€æœ‰æƒè¢«ç§»èµ°ï¼ˆåŸæ¥çš„å˜é‡ä¸èƒ½å†ç”¨ï¼‰ï¼Œè¦ä¹ˆä½ å°±å¾—<code>clone()</code>ä¸€ä»½ï¼Œè¿™å¯æ˜¯å®æ‰“å®çš„å†…å­˜åˆ†é…å’Œæ‹·è´ï¼Œå¼€é”€ä¸å°ã€‚è€Œ<code>&amp;str</code>ï¼ˆå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼‰åªæ˜¯ä¸€ä¸ªâ€œå¼•ç”¨â€ï¼Œä¸€ä¸ªæŒ‡å‘æ•°æ®æŸéƒ¨åˆ†çš„â€œæŒ‡é’ˆ+é•¿åº¦â€ç»„åˆï¼Œä¼ é€’å®ƒå°±è·Ÿé€’å¼ åç‰‡ä¸€æ ·è½»å·§ï¼Œä¸äº§ç”Ÿä»»ä½•æ•°æ®æ‹·è´ã€‚</p>
<h4 data-id="heading-1"><strong>æŠ€å·§äºŒï¼šæ•°æ®å…±äº«ï¼Ÿåˆ«å‚»å‚»åœ°</strong><code>clone()</code>ï¼Œè¯·ç”¨**<code>Arc</code>**</h4>
<p>å½“å¤šä¸ªçº¿ç¨‹æˆ–å¤šä¸ªæ•°æ®ç»“æ„éœ€è¦è®¿é—®åŒä¸€ä»½å¤§æ•°æ®æ—¶ï¼Œæ¯”å¦‚ä¸€ä¸ªå…±äº«çš„é…ç½®ä¿¡æ¯ï¼Œæ— è„‘<code>clone()</code>ä¼šä»˜å‡ºæ²‰é‡çš„ä»£ä»·ã€‚</p>
<p><strong>åˆ«è¿™ä¹ˆå¹²ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::thread;

<span class="hljs-meta">#[derive(Clone)]</span> <span class="hljs-comment">// ä¸ºäº†èƒ½åœ¨çº¿ç¨‹é—´ä¼ é€’ï¼Œä¸å¾—ä¸åŠ ä¸ŠClone</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AppConfig</span> {
    api_key: <span class="hljs-type">String</span>,
    timeout: <span class="hljs-type">u32</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">config</span> = AppConfig {
        api_key: <span class="hljs-string">"a_very_long_and_secret_api_key"</span>.<span class="hljs-title function_ invoke__">to_string</span>(),
        timeout: <span class="hljs-number">5000</span>,
    };

    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">handles</span> = <span class="hljs-built_in">vec!</span>[];
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">5</span> {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">thread_config</span> = config.<span class="hljs-title function_ invoke__">clone</span>(); <span class="hljs-comment">// æ¯æ¬¡éƒ½æ·±åº¦æ‹·è´æ•´ä¸ªç»“æ„ä½“</span>
        handles.<span class="hljs-title function_ invoke__">push</span>(thread::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">move</span> || {
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"çº¿ç¨‹ {} ä½¿ç”¨çš„ API Key æ˜¯: {}"</span>, i, thread_config.api_key);
        }));
    }

    <span class="hljs-keyword">for</span> <span class="hljs-variable">handle</span> <span class="hljs-keyword">in</span> handles {
        handle.<span class="hljs-title function_ invoke__">join</span>().<span class="hljs-title function_ invoke__">unwrap</span>();
    }
}
</code></pre>
<p><strong>è¯•è¯•è¿™ä¸ªï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::sync::Arc;
<span class="hljs-keyword">use</span> std::thread;

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AppConfig</span> {
    api_key: <span class="hljs-type">String</span>,
    timeout: <span class="hljs-type">u32</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// Arcæ˜¯â€œåŸå­å¼•ç”¨è®¡æ•°â€æ™ºèƒ½æŒ‡é’ˆï¼Œå¯ä»¥å®‰å…¨åœ°åœ¨çº¿ç¨‹é—´å…±äº«æ•°æ®</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">config</span> = Arc::<span class="hljs-title function_ invoke__">new</span>(AppConfig {
        api_key: <span class="hljs-string">"a_very_long_and_secret_api_key"</span>.<span class="hljs-title function_ invoke__">to_string</span>(),
        timeout: <span class="hljs-number">5000</span>,
    });

    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">handles</span> = <span class="hljs-built_in">vec!</span>[];
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">5</span> {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">thread_config</span> = Arc::<span class="hljs-title function_ invoke__">clone</span>(&amp;config); <span class="hljs-comment">// è¿™ä¸æ˜¯æ•°æ®æ‹·è´ï¼åªæ˜¯å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œéå¸¸å¿«</span>
        handles.<span class="hljs-title function_ invoke__">push</span>(thread::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">move</span> || {
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"çº¿ç¨‹ {} ä½¿ç”¨çš„ API Key æ˜¯: {}"</span>, i, thread_config.api_key);
        }));
    }

    <span class="hljs-keyword">for</span> <span class="hljs-variable">handle</span> <span class="hljs-keyword">in</span> handles {
        handle.<span class="hljs-title function_ invoke__">join</span>().<span class="hljs-title function_ invoke__">unwrap</span>();
    }
}
</code></pre>
<p><strong>ä¸ºå•¥å‘¢ï¼Ÿ</strong> <code>Arc::clone()</code>åšçš„ä¸æ˜¯å¤åˆ¶æ•°æ®æœ¬ä½“ï¼Œå®ƒåªæ˜¯æŠŠä¸€ä¸ªè®°å½•â€œæœ‰å¤šå°‘äººæ­£åœ¨å¼•ç”¨è¿™ä»½æ•°æ®â€çš„è®¡æ•°å™¨åŠ ä¸€ã€‚è¿™ä¸ªæ“ä½œéå¸¸è½»é‡ï¼Œå‡ ä¹æ²¡æœ‰æˆæœ¬ã€‚åªæœ‰å½“æœ€åä¸€ä¸ªå¼•ç”¨æ¶ˆå¤±æ—¶ï¼Œæ•°æ®æ‰ä¼šè¢«çœŸæ­£æ¸…ç†ã€‚é¢å¯¹å¤šçº¿ç¨‹å…±äº«åªè¯»æ•°æ®çš„åœºæ™¯ï¼Œ<code>Arc</code>å°±æ˜¯ä¸äºŒä¹‹é€‰ã€‚</p>
<h4 data-id="heading-2"><strong>æŠ€å·§ä¸‰ï¼š</strong> <strong>è¿­ä»£å™¨</strong> <strong>å¤§æ³•å¥½ï¼Œå‘Šåˆ«Cé£æ ¼çš„ç´¢å¼•å¾ªç¯</strong></h4>
<p>è¿˜åœ¨ç”¨<code>for i in 0..vec.len()</code>ï¼Ÿé‚£å¯å°±é”™è¿‡äº†Rustç¼–è¯‘å™¨ç»™å‡†å¤‡çš„å…è´¹åˆé¤ã€‚</p>
<p><strong>åˆ«è¿™ä¹ˆå¹²ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">numbers</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">sum_of_squares</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..numbers.<span class="hljs-title function_ invoke__">len</span>() {
        <span class="hljs-comment">// æ¯æ¬¡è®¿é—® numbers[i]ï¼Œç¼–è¯‘å™¨éƒ½ä¼šæ’å…¥ä¸€ä¸ªè¾¹ç•Œæ£€æŸ¥ï¼Œä»¥é˜²ä½ è¶Šç•Œ</span>
        <span class="hljs-keyword">if</span> numbers[i] % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> {
            sum_of_squares += numbers[i] * numbers[i];
        }
    }
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"å¶æ•°çš„å¹³æ–¹å’Œæ˜¯: {}"</span>, sum_of_squares);
}
</code></pre>
<p><strong>è¯•è¯•è¿™ä¸ªï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">numbers</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];
    <span class="hljs-comment">// è¿­ä»£å™¨æ˜¯æƒ°æ€§çš„ï¼Œå¹¶ä¸”é“¾å¼è°ƒç”¨ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–æˆä¸€ä¸ªé«˜æ•ˆçš„å¾ªç¯</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">sum_of_squares</span>: <span class="hljs-type">i32</span> = numbers
        .<span class="hljs-title function_ invoke__">iter</span>()                <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨</span>
        .<span class="hljs-title function_ invoke__">filter</span>(|&amp;&amp;n| n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) <span class="hljs-comment">// ç­›é€‰å‡ºå¶æ•°</span>
        .<span class="hljs-title function_ invoke__">map</span>(|&amp;n| n * n)       <span class="hljs-comment">// è®¡ç®—å¹³æ–¹</span>
        .<span class="hljs-title function_ invoke__">sum</span>();                <span class="hljs-comment">// æ±‚å’Œ</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"å¶æ•°çš„å¹³æ–¹å’Œæ˜¯: {}"</span>, sum_of_squares);
}
</code></pre>
<p><strong>ä¸ºå•¥å‘¢ï¼Ÿ</strong> Rustçš„è¿­ä»£å™¨æ˜¯é›¶æˆæœ¬æŠ½è±¡ã€‚å†™çš„é“¾å¼è°ƒç”¨ï¼Œåœ¨ç¼–è¯‘åä¼šè¢«èåˆæˆä¸€ä¸ªæ‰‹å†™çš„ã€æå…¶é«˜æ•ˆçš„å¾ªç¯ï¼Œè€Œä¸”ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šè®¿é—®ä¸ä¼šè¶Šç•Œï¼Œä»è€Œå»æ‰äº†è¿è¡Œæ—¶çš„è¾¹ç•Œæ£€æŸ¥ã€‚æ—¢å®‰å…¨ï¼Œåˆé«˜æ•ˆï¼Œä»£ç è¿˜æ›´æ¸…æ™°ï¼Œä½•ä¹è€Œä¸ä¸ºï¼Ÿ</p>
<h4 data-id="heading-3"><strong>æŠ€å·§å››ï¼š</strong> <strong>æ³›å‹</strong> <strong>ä¼˜äºåŠ¨æ€åˆ†å‘ï¼ˆ</strong> <code>Box&lt;dyn Trait&gt;</code> <strong>ï¼‰</strong></h4>
<p>å½“ä»£ç éœ€è¦å¤„ç†å¤šç§ä¸åŒç±»å‹ï¼Œä½†å®ƒä»¬éƒ½å®ç°äº†åŒä¸€ä¸ª<code>Trait</code>æ—¶ï¼Œè¿™æ—¶å€™ä¼šæœ‰ä¸¤ç§é€‰æ‹©ï¼šé™æ€åˆ†å‘ï¼ˆæ³›å‹ï¼‰å’ŒåŠ¨æ€åˆ†å‘ï¼ˆTraitå¯¹è±¡ï¼‰ã€‚åœ¨æ€§èƒ½æ•æ„Ÿçš„è·¯å¾„ä¸Šï¼Œè¯·é€‰æ‹©å‰è€…ã€‚</p>
<p><strong>åˆ«è¿™ä¹ˆå¹²ï¼ˆåŠ¨æ€åˆ†å‘ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Sound</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_sound</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>;
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Dog</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Sound</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Dog</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_sound</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> { <span class="hljs-string">"æ±ªæ±ª!"</span>.<span class="hljs-title function_ invoke__">to_string</span>() }
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Cat</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Sound</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Cat</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_sound</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> { <span class="hljs-string">"å–µ~"</span>.<span class="hljs-title function_ invoke__">to_string</span>() }
}

<span class="hljs-comment">// ä½¿ç”¨Box&lt;dyn Trait&gt;ï¼Œè¿è¡Œæ—¶éœ€è¦é€šè¿‡è™šå‡½æ•°è¡¨(vtable)æŸ¥æ‰¾å…·ä½“è°ƒç”¨å“ªä¸ªæ–¹æ³•</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">trigger_sound</span>(animal: <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Sound&gt;) {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, animal.<span class="hljs-title function_ invoke__">make_sound</span>());
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-title function_ invoke__">trigger_sound</span>(<span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(Dog));
    <span class="hljs-title function_ invoke__">trigger_sound</span>(<span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(Cat));
}
</code></pre>
<p><strong>è¯•è¯•è¿™ä¸ªï¼ˆé™æ€åˆ†å‘ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Sound</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_sound</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>;
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Dog</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Sound</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Dog</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_sound</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> { <span class="hljs-string">"æ±ªæ±ª!"</span>.<span class="hljs-title function_ invoke__">to_string</span>() }
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Cat</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Sound</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Cat</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">make_sound</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> { <span class="hljs-string">"å–µ~"</span>.<span class="hljs-title function_ invoke__">to_string</span>() }
}

<span class="hljs-comment">// ä½¿ç”¨æ³›å‹ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæ¯ç§ç±»å‹ç”Ÿæˆä¸€ä¸ªä¸“é—¨çš„ç‰ˆæœ¬ï¼Œæ²¡æœ‰è¿è¡Œæ—¶å¼€é”€</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">trigger_sound</span>&lt;T: Sound&gt;(animal: T) {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, animal.<span class="hljs-title function_ invoke__">make_sound</span>());
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-title function_ invoke__">trigger_sound</span>(Dog);
    <span class="hljs-title function_ invoke__">trigger_sound</span>(Cat);
}
</code></pre>
<p><strong>ä¸ºå•¥å‘¢ï¼Ÿ</strong> åŠ¨æ€åˆ†å‘<code>Box&lt;dyn Trait&gt;</code>éœ€è¦åœ¨è¿è¡Œæ—¶æŸ¥æ‰¾ä¸€ä¸ªå«åšâ€œè™šè¡¨â€çš„ä¸œè¥¿æ¥ç¡®å®šåˆ°åº•è¯¥è°ƒç”¨å“ªä¸ªå…·ä½“å®ç°çš„æ–¹æ³•ï¼Œè¿™ä¼šå¸¦æ¥é¢å¤–çš„æŒ‡é’ˆé—´æ¥å¼•ç”¨å’ŒæŸ¥æ‰¾å¼€é”€ã€‚è€Œæ³›å‹ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“è¦ç”¨<code>Dog</code>è¿˜æ˜¯<code>Cat</code>ï¼Œå®ƒä¼šç›´æ¥ç”Ÿæˆä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„<code>trigger_sound</code>å‡½æ•°ï¼Œä¸€ä¸ªç»™<code>Dog</code>ï¼Œä¸€ä¸ªç»™<code>Cat</code>ï¼Œè°ƒç”¨æ—¶ç›´æ¥å°±æ˜¯å‡½æ•°åœ°å€ï¼Œæ²¡æœ‰ä»»ä½•è¿è¡Œæ—¶å¼€é”€ã€‚è¿™ç§æŠ€æœ¯ä¹Ÿå«å•æ€åŒ–ã€‚</p>
<h4 data-id="heading-4"><strong>æŠ€å·§äº”ï¼šç»™å°å‡½æ•°æˆ´ä¸Š</strong><code>#[inline]</code><strong>çš„å¸½å­</strong></h4>
<p>å¯¹äºé‚£äº›åˆå°åˆè¢«é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼Œå‡½æ•°è°ƒç”¨æœ¬èº«çš„å¼€é”€ï¼ˆæ¯”å¦‚å»ºç«‹æ ˆå¸§ï¼‰å¯èƒ½æ¯”å‡½æ•°ä½“æ‰§è¡Œçš„å¼€é”€è¿˜å¤§ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªéå¸¸å°çš„è¾…åŠ©å‡½æ•°</span>
<span class="hljs-meta">#[inline]</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">is_positive</span>(n: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">bool</span> {
    n &gt; <span class="hljs-number">0</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">count_positives</span>(numbers: &amp;[<span class="hljs-type">i32</span>]) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> {
    numbers.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">filter</span>(|&amp;&amp;n| <span class="hljs-title function_ invoke__">is_positive</span>(n)).<span class="hljs-title function_ invoke__">count</span>()
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">data</span> = <span class="hljs-built_in">vec!</span>[-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ­£æ•°çš„ä¸ªæ•°: {}"</span>, <span class="hljs-title function_ invoke__">count_positives</span>(&amp;data));
}
</code></pre>
<p><strong>ä¸ºå•¥å‘¢ï¼Ÿ</strong> <code>#[inline]</code>åƒæ˜¯ä¸€ä¸ªç»™ç¼–è¯‘å™¨çš„å»ºè®®ï¼Œå‘Šè¯‰å®ƒï¼šâ€œå“¥ä»¬ï¼ŒæŠŠè¿™ä¸ªå‡½æ•°çš„ä»£ç ç›´æ¥å¤åˆ¶ç²˜è´´åˆ°è°ƒç”¨å®ƒçš„åœ°æ–¹å§ï¼Œåˆ«èµ°å‡½æ•°è°ƒç”¨æµç¨‹äº†ã€‚â€ è¿™æ ·å°±æ¶ˆé™¤äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚å½“ç„¶ï¼Œåˆ«æ»¥ç”¨ï¼Œç»™ä¸€ä¸ªå·¨å¤§çš„å‡½æ•°åŠ ä¸Š<code>#[inline]</code>åªä¼šè®©æœ€ç»ˆç¨‹åºä½“ç§¯è†¨èƒ€ï¼Œå¾—ä¸å¿å¤±ã€‚</p>
<h4 data-id="heading-5"><strong>æŠ€å·§å…­ï¼šæ ˆä¸Šåˆ†é…æ°¸è¿œæ¯”å †ä¸Šå¿«</strong></h4>
<p>èƒ½æ”¾åœ¨æ ˆä¸Šçš„æ•°æ®ï¼Œå°±åˆ«å¾€å †ä¸Šæ‰”ã€‚æ ˆåˆ†é…å°±æ˜¯ç§»åŠ¨ä¸€ä¸‹æ ˆæŒ‡é’ˆï¼Œå¿«å¦‚é—ªç”µï¼›å †åˆ†é…åˆ™éœ€è¦å»ä»“åº“ï¼ˆå †ï¼‰é‡Œæ‰¾ä¸€å—åˆé€‚çš„ç©ºåœ°ï¼Œè¦æ…¢å¾—å¤šã€‚</p>
<p><strong>åˆ«è¿™ä¹ˆå¹²ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> {
    x: <span class="hljs-type">f64</span>,
    y: <span class="hljs-type">f64</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// Box::newä¼šæŠŠæ•°æ®åˆ†é…åœ¨å †ä¸Š</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">p1</span> = <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(Point { x: <span class="hljs-number">1.0</span>, y: <span class="hljs-number">2.0</span> });
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"å †ä¸Šçš„ç‚¹: ({}, {})"</span>, p1.x, p1.y);
}
</code></pre>
<p><strong>è¯•è¯•è¿™ä¸ªï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> {
    x: <span class="hljs-type">f64</span>,
    y: <span class="hljs-type">f64</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// é»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯åˆ†é…åœ¨æ ˆä¸Šçš„</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">p1</span> = Point { x: <span class="hljs-number">1.0</span>, y: <span class="hljs-number">2.0</span> };
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ ˆä¸Šçš„ç‚¹: ({}, {})"</span>, p1.x, p1.y);
}
</code></pre>
<p>è¿™ä¸ªæŠ€å·§çœ‹èµ·æ¥éå¸¸ç®€å•ï¼Œä½†å…¶æ ¸å¿ƒæ˜¯å½“ä¸éœ€è¦åœ¨å‡½æ•°è¿”å›åæ•°æ®ä»ç„¶å­˜æ´»ï¼Œæˆ–è€…æ•°æ®å¤§å°åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šæ—¶ï¼Œä¼˜å…ˆä½¿ç”¨æ ˆã€‚<code>Box</code>ã€<code>String</code>ã€<code>Vec</code>è¿™ç±»éƒ½æ˜¯åœ¨å †ä¸Šåˆ†é…çš„ï¼Œä½¿ç”¨æ—¶è¦å¿ƒé‡Œæœ‰æ•°ã€‚</p>
<h4 data-id="heading-6"><strong>æŠ€å·§ä¸ƒï¼š</strong> <code>MaybeUninit</code> <strong>ï¼šå¤§</strong> <strong>å†…å­˜</strong> <strong>åˆå§‹åŒ–æ—¶å¼€æŒ‚äº†</strong></h4>
<p>å¦‚æœéœ€è¦ä¸€å—éå¸¸å¤§çš„å†…å­˜ï¼Œå¹¶ä¸”ç¡®å®šé©¬ä¸Šä¼šç”¨è‡ªå·±çš„æ•°æ®æŠŠå®ƒå¡«æ»¡æ—¶ï¼Œè®©Rustå…ˆç”¨0åˆå§‹åŒ–ä¸€éçš„è¯ï¼Œçº¯å±æµªè´¹CPUã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªé«˜çº§æŠ€å·§ï¼Œéœ€è¦ä½¿ç”¨<code>unsafe</code>ï¼Œæ–°æ‰‹æ…ç”¨ï¼</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::mem::MaybeUninit;

<span class="hljs-keyword">const</span> BUFFER_SIZE: <span class="hljs-type">usize</span> = <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>; <span class="hljs-comment">// 1MB</span>

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªVecï¼Œä½†å‘Šè¯‰Rustï¼šâ€œå…ˆåˆ«åˆå§‹åŒ–è¿™å—å†…å­˜ï¼Œæˆ‘å¾…ä¼šå„¿è‡ªå·±å¼„â€</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">buffer</span>: <span class="hljs-type">Vec</span>&lt;MaybeUninit&lt;<span class="hljs-type">u8</span>&gt;&gt; = <span class="hljs-type">Vec</span>::<span class="hljs-title function_ invoke__">with_capacity</span>(BUFFER_SIZE);

    <span class="hljs-comment">// å‡è®¾æˆ‘ä»¬ä»æŸä¸ªåœ°æ–¹è¯»å–æ•°æ®å¡«æ»¡äº†è¿™å—ç¼“å†²åŒº</span>
    <span class="hljs-comment">// è¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„å¾ªç¯æ¨¡æ‹Ÿ</span>
    <span class="hljs-comment">// æ³¨æ„ï¼šåœ¨çœŸå®åœºæ™¯ä¸­ï¼Œä½ ä¼šç”¨ç±»ä¼¼ read_exact çš„æ–¹æ³•å¡«å……</span>
    <span class="hljs-keyword">unsafe</span> {
        <span class="hljs-comment">// ä¼ªè£…æˆå·²ç»åˆå§‹åŒ–äº†ï¼Œå› ä¸ºæˆ‘ä»¬ç¡®ä¿¡ä¸‹é¢çš„ä»£ç ä¼šå®Œæˆåˆå§‹åŒ–</span>
        buffer.<span class="hljs-title function_ invoke__">set_len</span>(BUFFER_SIZE); 
        <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..BUFFER_SIZE {
            <span class="hljs-comment">// get_mut_uncheckedæ˜¯`unsafe`çš„ï¼Œä½†æˆ‘ä»¬çŸ¥é“ç´¢å¼•æ˜¯åˆæ³•çš„</span>
            *buffer.<span class="hljs-title function_ invoke__">get_mut_unchecked</span>(i) = MaybeUninit::<span class="hljs-title function_ invoke__">new</span>((i % <span class="hljs-number">256</span>) <span class="hljs-keyword">as</span> <span class="hljs-type">u8</span>);
        }
    }

    <span class="hljs-comment">// ç°åœ¨ï¼Œæˆ‘ä»¬ç¡®ä¿¡å†…å­˜å·²ç»å®Œå…¨åˆå§‹åŒ–ï¼Œå¯ä»¥å®‰å…¨åœ°æŠŠå®ƒè½¬æ¢æˆ Vec&lt;u8&gt;</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">buffer</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">u8</span>&gt; = <span class="hljs-keyword">unsafe</span> {
        <span class="hljs-comment">// è¿™æ­¥è½¬æ¢æ˜¯é›¶æˆæœ¬çš„ï¼Œå› ä¸ºå†…å­˜å¸ƒå±€å®Œå…¨ä¸€æ ·</span>
        std::mem::<span class="hljs-title function_ invoke__">transmute</span>(buffer)
    };

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç¼“å†²åŒºåˆ›å»ºå¹¶å¡«å……å®Œæ¯•ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯: {}"</span>, buffer[<span class="hljs-number">0</span>]);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æœ€åä¸€ä¸ªå…ƒç´ æ˜¯: {}"</span>, buffer[BUFFER_SIZE - <span class="hljs-number">1</span>]);
}
</code></pre>
<p><strong>ä¸ºå•¥å‘¢ï¼Ÿ</strong> <code>Vec::with_capacity</code>åªåˆ†é…å†…å­˜ï¼Œä¸åˆå§‹åŒ–ã€‚ä½†å¦‚æœä½ æ¥ç€ç”¨<code>resize</code>æˆ–è€…å…¶ä»–å®‰å…¨çš„æ–¹æ³•ï¼Œå®ƒè¿˜æ˜¯ä¼šå¸®ä½ åˆå§‹åŒ–ã€‚<code>MaybeUninit</code>å…è®¸ä½ è·³è¿‡è¿™ä¸ªé»˜è®¤çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œç›´æ¥æ“ä½œæœªåˆå§‹åŒ–çš„å†…å­˜ï¼Œå¯¹äºé«˜æ€§èƒ½ç½‘ç»œç¼–ç¨‹ã€æ•°æ®è§£æç­‰åœºæ™¯ï¼Œèƒ½çœä¸‹å¯è§‚çš„æ—¶é—´ã€‚ä½†è®°ä½ï¼Œ<code>unsafe</code>æ„å‘³ç€ä½ å¾—è‡ªå·±å¯¹å†…å­˜å®‰å…¨è´Ÿè´£ï¼</p>
<h3 data-id="heading-7"><strong>æ€»ç»“ä¸€ä¸‹</strong></h3>
<p>Rustæ€§èƒ½è°ƒä¼˜çš„æ ¸å¿ƒæ€æƒ³æ— éå‡ ç‚¹ï¼š</p>
<ul>
<li>
<p><strong>å‡å°‘</strong> <strong>å†…å­˜</strong> <strong>åˆ†é…å’Œæ‹·è´</strong>ï¼šå¤šç”¨å€Ÿç”¨ï¼ˆ<code>&amp;</code>ï¼‰ï¼Œå–„ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆ<code>Arc</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>è®©ç¼–è¯‘å™¨å¸®ä½ å¹²æ´»</strong>ï¼šå¤šç”¨è¿­ä»£å™¨ï¼Œå¤šç”¨æ³›å‹ã€‚</p>
</li>
<li>
<p><strong>ç†è§£</strong> <strong>å†…å­˜</strong> <strong>å¸ƒå±€</strong>ï¼šåŒºåˆ†æ ˆå’Œå †ï¼ŒçŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥ç”¨è°ã€‚</p>
</li>
</ul>
<p>å½“ç„¶ï¼Œä¼˜åŒ–è¦è®²ç©¶ç« æ³•ï¼Œä¸è¦ä¸Šæ¥å°±å¯¹ç€è´´è„¸ä»£ç å¼€å¤§ã€‚å…ˆç”¨æ€§èƒ½åˆ†æå·¥å…·ï¼ˆæ¯”å¦‚<code>cargo-flamegraph</code>ï¼‰æ‰¾åˆ°é—®é¢˜åœ¨å“ªï¼Œå†å¯¹ç—‡ä¸‹è¯ã€‚</p>
<p>æœ€åï¼Œåˆ«å¿˜äº†ï¼Œä¸€ä¸ªé¡ºæ‰‹çš„å¼€å‘ç¯å¢ƒæ˜¯é«˜æ•ˆå·¥ä½œçš„å¼€å§‹ã€‚ServBay æå®šç¹ççš„é…ç½®ï¼Œå¼€å‘è€…å°±èƒ½æŠŠå…¨éƒ¨ç²¾åŠ›æŠ•å…¥åˆ°ç¼–å†™ä¼˜é›…ä¸”é«˜æ€§èƒ½çš„Rustä»£ç ä¸­ã€‚ç°åœ¨ï¼Œå»æŠŠä½ çš„ä¹°èœè½¦è°ƒæ•™æˆä¸€è¾†çœŸæ­£çš„æ³•æ‹‰åˆ©å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ¬ ä½¿ç”¨ Web åŠ¨ç”» API - å…³é”®å¸§ä¸äº¤äº’æ§åˆ¶å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572397142364061738</link>    <guid>https://juejin.cn/post/7572397142364061738</guid>    <pubDate>2025-11-14T09:31:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572397142364061738" data-draft-id="7572396000544325695" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ¬ ä½¿ç”¨ Web åŠ¨ç”» API - å…³é”®å¸§ä¸äº¤äº’æ§åˆ¶å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,API"/> <meta itemprop="datePublished" content="2025-11-14T09:31:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Bug_Constructer"/> <meta itemprop="url" content="https://juejin.cn/user/254742426830856"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ¬ ä½¿ç”¨ Web åŠ¨ç”» API - å…³é”®å¸§ä¸äº¤äº’æ§åˆ¶å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/254742426830856/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Bug_Constructer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:31:57.000Z" title="Fri Nov 14 2025 09:31:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ¯ <strong>å­¦ä¹ ç›®æ ‡</strong>ï¼šæŒæ¡ Web Animations API çš„å…³é”®å¸§ç¼–å†™ã€æ—¶é—´å±æ€§è®¾ç½®åŠæ’­æ”¾æ§åˆ¶ï¼Œèƒ½å¤Ÿåœ¨çœŸå®é¡¹ç›®ä¸­å®ç°é«˜æ€§èƒ½ã€å¯äº¤äº’çš„åŠ¨ç”»æ•ˆæœ</p>
<p>ğŸ“Š <strong>éš¾åº¦ç­‰çº§</strong>ï¼šåˆçº§-ä¸­çº§<br/>
ğŸ·ï¸ <strong>æŠ€æœ¯æ ‡ç­¾</strong>ï¼š<code>#Web Animations API</code> <code>#Element.animate</code> <code>#Keyframes</code> <code>#Animation</code><br/>
â±ï¸ <strong>é˜…è¯»æ—¶é—´</strong>ï¼šçº¦9åˆ†é’Ÿ</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸŒŸ å¼•è¨€</h2>
<p>åŠ¨ç”»æ˜¯ç”¨æˆ·ä½“éªŒçš„åŠ é€Ÿå™¨â€”â€”ä»åé¦ˆåˆ°å¼•å¯¼ï¼Œå†åˆ°æå‡ç©ºé—´æ„Ÿã€‚ä¼ ç»Ÿ CSS åŠ¨ç”»åœ¨å¤æ‚äº¤äº’åœºæ™¯ä¸‹å¾€å¾€å—é™ï¼šæ— æ³•çµæ´»æš‚åœ/ç»­æ’­ã€éš¾ä»¥åŠ¨æ€è°ƒæ•´æ—¶åºï¼Œç”šè‡³éœ€è¦é¢‘ç¹æ“çºµç±»åå¯¼è‡´ DOM è´Ÿæ‹…ã€‚Web Animations APIï¼ˆWAAPIï¼‰å°†æµè§ˆå™¨åŠ¨ç”»å¼•æ“å¼€æ”¾ç»™ JavaScriptï¼Œè®©æˆ‘ä»¬ä»¥ç¼–ç¨‹æ–¹å¼å®šä¹‰å…³é”®å¸§å’Œæ—¶åºï¼Œå¹¶ç²¾ç»†æ§åˆ¶æ’­æ”¾çŠ¶æ€ä¸é€Ÿåº¦ã€‚</p>
<p>åœ¨æ—¥å¸¸å‰ç«¯å¼€å‘ä¸­ï¼Œä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„å›°æ‰°ï¼š</p>
<ul>
<li>åŠ¨ç”»åªèƒ½å†™åœ¨ CSS ä¸­ï¼Œéš¾ä»¥å“åº”äº¤äº’ï¼ˆç‚¹å‡»ã€æ»šåŠ¨ã€çŠ¶æ€å˜åŒ–ï¼‰</li>
<li>éœ€è¦æš‚åœ/æ¢å¤/å€’æ”¾ï¼Œå´åªèƒ½ç”¨ class hack æˆ–é‡å»ºåŠ¨ç”»</li>
<li>åœ¨ä¸åŒè®¾å¤‡ä¸Šéœ€è¦è°ƒæ•´é€Ÿåº¦ä¸èŠ‚å¥ï¼Œæ‰‹åŠ¨ç»´æŠ¤ç¹æ‚çš„æ ·å¼</li>
<li>å¤æ‚è§†å›¾ä¸­é¢‘ç¹åˆ‡æ¢ç±»åå¯¼è‡´é‡æ’ä¸é‡ç»˜å¼€é”€å¤§</li>
</ul>
<p>ä»Šå¤©åˆ†äº« 4 ä¸ª WAAPI å®ç”¨æŠ€å·§ï¼Œå¸®ä½ æŠŠåŠ¨ç”»ä»æ ·å¼è¡¨â€œæ¬åˆ°â€ JavaScriptï¼Œåšåˆ°â€œé«˜æ€§èƒ½ + å¼ºäº¤äº’ + æ˜“ç»´æŠ¤â€ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ’¡ æ ¸å¿ƒæŠ€å·§è¯¦è§£</h2>
<h3 data-id="heading-2">1. ç”¨å…³é”®å¸§å¯¹è±¡æ›¿ä»£ <code>@keyframes</code>ï¼šæ›´çµæ´»çš„åŠ¨æ€åŠ¨ç”»</h3>
<h4 data-id="heading-3">ğŸ” åº”ç”¨åœºæ™¯</h4>
<p>åœ¨éœ€è¦åŸºäºç”¨æˆ·æ“ä½œæˆ–æ•°æ®å˜åŒ–åŠ¨æ€ç”ŸæˆåŠ¨ç”»æ—¶ï¼Œç”¨å¯¹è±¡æè¿°å…³é”®å¸§æ›´çµæ´»ï¼Œå¯æŒ‰éœ€æ’å…¥ã€è°ƒæ•´ <code>offset</code>ã€ç»„åˆå¤šä¸ªæ•ˆæœã€‚</p>
<h4 data-id="heading-4">âŒ å¸¸è§é—®é¢˜</h4>
<p>åªç”¨ CSS <code>@keyframes</code> å†™æ­»åŠ¨ç”»ï¼›æƒ³è¦å˜é€Ÿ/å˜è‰²æˆ–æ‰“æ–­é‡å»ºéƒ½å¾ˆéš¾ç»´æŠ¤ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ ä»…ç”¨ CSS å†™æ­»åŠ¨ç”»ï¼Œéš¾ä»¥äº¤äº’æ§åˆ¶</span>
<span class="hljs-comment">/* @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } */</span>
</code></pre>
<h4 data-id="heading-5">âœ… æ¨èæ–¹æ¡ˆ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * åˆ›å»ºé¢œè‰²+æ—‹è½¬ç»„åˆåŠ¨ç”»
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">HTMLElement</span>} <span class="hljs-variable">el</span> - ç›®æ ‡å…ƒç´ 
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Animation</span>} åŠ¨ç”»å®ä¾‹
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">createColorSpin</span> = (<span class="hljs-params">el</span>) =&gt; {
  <span class="hljs-keyword">const</span> keyframes = [
    { <span class="hljs-attr">color</span>: <span class="hljs-string">'#111'</span>, <span class="hljs-attr">transform</span>: <span class="hljs-string">'rotate(0deg)'</span> },
    { <span class="hljs-attr">color</span>: <span class="hljs-string">'#a00'</span>, <span class="hljs-attr">transform</span>: <span class="hljs-string">'rotate(180deg)'</span>, <span class="hljs-attr">offset</span>: <span class="hljs-number">0.3</span> },
    { <span class="hljs-attr">color</span>: <span class="hljs-string">'#111'</span>, <span class="hljs-attr">transform</span>: <span class="hljs-string">'rotate(360deg)'</span> }
  ];
  <span class="hljs-keyword">const</span> timing = { <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>, <span class="hljs-attr">iterations</span>: <span class="hljs-title class_">Infinity</span>, <span class="hljs-attr">easing</span>: <span class="hljs-string">'linear'</span> };
  <span class="hljs-keyword">return</span> el.<span class="hljs-title function_">animate</span>(keyframes, timing);
};
</code></pre>
<h4 data-id="heading-6">ğŸ’¡ æ ¸å¿ƒè¦ç‚¹</h4>
<ul>
<li><code>offset</code> æ§åˆ¶å…³é”®å¸§å‘ç”Ÿçš„ç›¸å¯¹æ—¶åˆ»ï¼ˆ0â€“1ï¼‰ï¼Œä¸æŒ‡å®šåˆ™ç­‰é—´éš”</li>
<li><code>duration</code> å•ä½ä¸ºæ¯«ç§’ï¼›<code>iterations</code> æ”¯æŒ <code>Infinity</code></li>
<li>WAAPI é»˜è®¤ <code>easing</code> ä¸º <code>linear</code>ï¼Œä¸ CSS åŠ¨ç”»é»˜è®¤ <code>ease</code> ä¸åŒ</li>
</ul>
<h4 data-id="heading-7">ğŸ¯ å®é™…åº”ç”¨</h4>
<p>ç»“åˆç»„ä»¶ç”Ÿå‘½å‘¨æœŸæˆ–æ•°æ®å˜æ›´ï¼Œåœ¨è¿›å…¥/ç¦»å¼€æˆ–çŠ¶æ€åˆ‡æ¢æ—¶åŠ¨æ€ç”ŸæˆåŠ¨ç”»ï¼›åŒä¸€ä¸ªå…ƒç´ å¯å åŠ å¤šä¸ªåŠ¨ç”»åˆ†åˆ«æ§åˆ¶é¢œè‰²ã€ä½ç§»ã€ç¼©æ”¾ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * è¿›å…¥æ—¶æ·¡å…¥ + ç¼©æ”¾ç»„åˆ
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">HTMLElement</span>} <span class="hljs-variable">el</span> - ç›®æ ‡å…ƒç´ 
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Animation[]</span>} åŠ¨ç”»å®ä¾‹æ•°ç»„
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">enterFadeScale</span> = (<span class="hljs-params">el</span>) =&gt; [
  el.<span class="hljs-title function_">animate</span>([{ <span class="hljs-attr">opacity</span>: <span class="hljs-number">0</span> }, { <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span> }], { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>, <span class="hljs-attr">easing</span>: <span class="hljs-string">'ease-out'</span> }),
  el.<span class="hljs-title function_">animate</span>([{ <span class="hljs-attr">transform</span>: <span class="hljs-string">'scale(0.92)'</span> }, { <span class="hljs-attr">transform</span>: <span class="hljs-string">'scale(1)'</span> }], { <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>, <span class="hljs-attr">easing</span>: <span class="hljs-string">'ease-out'</span> })
];
</code></pre>
<hr/>
<h3 data-id="heading-8">2. ç²¾ç»†æ’­æ”¾æ§åˆ¶ï¼šæš‚åœã€æ¢å¤ã€å€’æ”¾ä¸å˜é€Ÿ</h3>
<h4 data-id="heading-9">ğŸ” åº”ç”¨åœºæ™¯</h4>
<p>äº¤äº’åŠ¨ç”»å¸¸éœ€è¦ç”±ç”¨æˆ·è§¦å‘æš‚åœ/æ¢å¤ã€å€’æ”¾å›é€€ã€åœ¨ä¸åŒé¡µé¢æˆ–è®¾å¤‡ä¸Šåˆ‡æ¢æ’­æ”¾é€Ÿåº¦ã€‚</p>
<h4 data-id="heading-10">âŒ å¸¸è§é—®é¢˜</h4>
<p>ç”¨ <code>classList</code> åˆ‡æ¢åŠ¨ç”»åæˆ–é‡æ–°æ¸²æŸ“å…ƒç´ ä»¥â€œä¼ªé€ â€æš‚åœ/å€’æ”¾ï¼Œå®¹æ˜“é€ æˆçŠ¶æ€é”™ä¹±ä¸æ€§èƒ½é—®é¢˜ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ é€šè¿‡ç§»é™¤/æ·»åŠ ç±»åæ¥æš‚åœ/æ¢å¤ï¼Œå®¹æ˜“é”™ä¹±</span>
<span class="hljs-comment">// el.classList.toggle('playing');</span>
</code></pre>
<h4 data-id="heading-11">âœ… æ¨èæ–¹æ¡ˆ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * åˆ‡æ¢æ’­æ”¾/æš‚åœ
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Animation</span>} <span class="hljs-variable">anim</span> - åŠ¨ç”»å®ä¾‹
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">togglePlay</span> = (<span class="hljs-params">anim</span>) =&gt; {
  anim.<span class="hljs-property">playState</span> === <span class="hljs-string">'running'</span> ? anim.<span class="hljs-title function_">pause</span>() : anim.<span class="hljs-title function_">play</span>();
};

<span class="hljs-comment">/**
 * å€’æ”¾åŠ¨ç”»ï¼ˆå¯ç”¨äºå›é€€è¿‡æ¸¡ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Animation</span>} <span class="hljs-variable">anim</span> - åŠ¨ç”»å®ä¾‹
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">reverse</span> = (<span class="hljs-params">anim</span>) =&gt; anim.<span class="hljs-title function_">reverse</span>();

<span class="hljs-comment">/**
 * åŠ¨æ€å˜é€Ÿï¼ˆåŠ é€Ÿ/å‡é€Ÿï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Animation</span>} <span class="hljs-variable">anim</span> - åŠ¨ç”»å®ä¾‹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">rate</span> - é€Ÿç‡ï¼ˆ&gt;1åŠ é€Ÿï¼Œ&lt;1å‡é€Ÿï¼‰
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">setSpeed</span> = (<span class="hljs-params">anim, rate</span>) =&gt; anim.<span class="hljs-title function_">updatePlaybackRate</span>(rate);

<span class="hljs-comment">/**
 * è·³è½¬åˆ°æŒ‡å®šæ—¶é—´ç‚¹ï¼ˆæ¯«ç§’ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Animation</span>} <span class="hljs-variable">anim</span> - åŠ¨ç”»å®ä¾‹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">ms</span> - æ¯«ç§’æ—¶é—´
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">seekTo</span> = (<span class="hljs-params">anim, ms</span>) =&gt; { anim.<span class="hljs-property">currentTime</span> = ms; };
</code></pre>
<h4 data-id="heading-12">ğŸ’¡ æ ¸å¿ƒè¦ç‚¹</h4>
<ul>
<li>ä½¿ç”¨ <code>playState</code> åˆ¤æ–­æ˜¯å¦æ­£åœ¨è¿è¡Œ</li>
<li><code>reverse()</code> æ”¯æŒå³æ—¶å€’æ”¾ï¼›é€‚åˆâ€œè¿”å›â€æˆ–â€œæ’¤é”€â€åœºæ™¯</li>
<li><code>updatePlaybackRate()</code> é€‚åˆåœ¨ä½æ€§èƒ½è®¾å¤‡ä¸Šé™é€Ÿï¼Œæˆ–åœ¨è¿‡æ¸¡æ—¶åŠ é€Ÿ</li>
<li><code>currentTime</code> å¯ç²¾ç¡®è·³è½¬åˆ°æ—¶é—´ç‚¹ï¼Œé€‚åˆä¸åª’ä½“æˆ–è¿›åº¦æ¡è”åŠ¨</li>
</ul>
<h4 data-id="heading-13">ğŸ¯ å®é™…åº”ç”¨</h4>
<p>ä¸ºåŠ¨ç”»ç»‘å®šæŒ‰é’®æˆ–æ‰‹åŠ¿ï¼Œå®ç°æ’­æ”¾æ§åˆ¶ï¼›åœ¨æ»šåŠ¨é©±åŠ¨åœºæ™¯ä¸­æ ¹æ®æ»šåŠ¨è·ç¦»åŠ¨æ€æ›´æ–° <code>currentTime</code> å®ç°æ—¶é—´è½´è”åŠ¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * ç»‘å®šåŸºç¡€æ§åˆ¶æŒ‰é’®
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Animation</span>} <span class="hljs-variable">anim</span> - åŠ¨ç”»å®ä¾‹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">{play:HTMLElement,pause:HTMLElement,reverse:HTMLElement</span>}} ui - æ§ä»¶é›†åˆ
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">bindControls</span> = (<span class="hljs-params">anim, ui</span>) =&gt; {
  ui.<span class="hljs-property">play</span>.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> anim.<span class="hljs-title function_">play</span>();
  ui.<span class="hljs-property">pause</span>.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> anim.<span class="hljs-title function_">pause</span>();
  ui.<span class="hljs-property">reverse</span>.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> anim.<span class="hljs-title function_">reverse</span>();
};
</code></pre>
<hr/>
<h3 data-id="heading-14">3. äº‹ä»¶ä¸å®Œæˆæ€ï¼šä¸ä¸šåŠ¡é€»è¾‘å®‰å…¨è¡”æ¥</h3>
<h4 data-id="heading-15">ğŸ” åº”ç”¨åœºæ™¯</h4>
<p>åœ¨åŠ¨ç”»å®Œæˆåæ‰§è¡Œæ”¶å°¾é€»è¾‘ï¼ˆå¦‚ç§»é™¤èŠ‚ç‚¹ã€è§£é”äº¤äº’ã€åŸ‹ç‚¹ç»Ÿè®¡ï¼‰ï¼Œæˆ–åœ¨ç”¨æˆ·å–æ¶ˆæ—¶å¤ä½çŠ¶æ€ã€‚</p>
<h4 data-id="heading-16">âŒ å¸¸è§é—®é¢˜</h4>
<p>ä¾èµ– <code>setTimeout</code> ä¼°ç®—ç»“æŸæ—¶é—´ï¼Œå®¹æ˜“ä¸çœŸå®æ—¶åºä¸ä¸€è‡´ï¼ˆé€Ÿç‡è°ƒæ•´ã€è·³è½¬ã€å€’æ”¾éƒ½ä¼šå½±å“ï¼‰ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ é€šè¿‡å®šæ—¶å™¨å‡å®šç»“æŸï¼Œå®¹æ˜“ä¸å®é™…æ—¶åºä¸ç¬¦</span>
<span class="hljs-comment">// setTimeout(() =&gt; cleanup(), 3000);</span>
</code></pre>
<h4 data-id="heading-17">âœ… æ¨èæ–¹æ¡ˆ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * åœ¨åŠ¨ç”»å®Œæˆåæ‰§è¡Œå›è°ƒ
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Animation</span>} <span class="hljs-variable">anim</span> - åŠ¨ç”»å®ä¾‹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">() =&gt; void</span>} <span class="hljs-variable">done</span> - å®Œæˆå›è°ƒ
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">onFinished</span> = (<span class="hljs-params">anim, done</span>) =&gt; { anim.<span class="hljs-property">finished</span>.<span class="hljs-title function_">then</span>(done).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {}); };

<span class="hljs-comment">/**
 * ç›‘å¬å–æ¶ˆå¹¶å¤ä½ï¼ˆå¦‚æ¸…ç†æ ·å¼æˆ–çŠ¶æ€ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Animation</span>} <span class="hljs-variable">anim</span> - åŠ¨ç”»å®ä¾‹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">() =&gt; void</span>} <span class="hljs-variable">reset</span> - å¤ä½å›è°ƒ
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">onCanceled</span> = (<span class="hljs-params">anim, reset</span>) =&gt; { anim.<span class="hljs-property">oncancel</span> = reset; };
</code></pre>
<h4 data-id="heading-18">ğŸ’¡ æ ¸å¿ƒè¦ç‚¹</h4>
<ul>
<li>ä½¿ç”¨ <code>finished</code> Promise ç²¾ç¡®æ„ŸçŸ¥å®Œæˆæ€ï¼Œé¿å…é­”æ³•æ•°å­—</li>
<li>ç”¨ <code>oncancel</code> è¡”æ¥ç”¨æˆ·å–æ¶ˆæˆ–ä¸­æ–­é€»è¾‘</li>
<li>ä¸šåŠ¡æ“ä½œå»ºè®®ä½¿ç”¨è½»é‡å‡½æ•°ï¼Œé¿å…åœ¨å›è°ƒä¸­åšé‡æ´»</li>
</ul>
<h4 data-id="heading-19">ğŸ¯ å®é™…åº”ç”¨</h4>
<p>åœ¨â€œåˆ é™¤å¡ç‰‡â€è¿‡æ¸¡å®Œæˆåç§»é™¤èŠ‚ç‚¹ï¼›åœ¨â€œé¡µé¢ç¦»å¼€â€åŠ¨æ•ˆå®Œæˆåè·³è½¬ä¸‹ä¸€è§†å›¾ï¼›åœ¨å–æ¶ˆæ—¶æ¢å¤åˆå§‹æ ·å¼ã€‚</p>
<hr/>
<h3 data-id="heading-20">4. æ€§èƒ½ä¸å…¼å®¹æ€§ï¼šå†™å‡ºâ€œç¨³â€çš„åŠ¨ç”»</h3>
<h4 data-id="heading-21">ğŸ” åº”ç”¨åœºæ™¯</h4>
<p>ç”Ÿäº§ç¯å¢ƒéœ€è¦åœ¨å¤šè®¾å¤‡ã€å¤šæµè§ˆå™¨ä¸Šä¿è¯åŠ¨ç”»æµç•…ä¸å¯ç”¨æ€§ã€‚</p>
<h4 data-id="heading-22">âŒ å¸¸è§é—®é¢˜</h4>
<p>å¯¹ä»»æ„ CSS å±æ€§åšåŠ¨ç”»ï¼Œå¯¼è‡´é¢‘ç¹é‡æ’ä¸é‡ç»˜ï¼›æœªåšå…¼å®¹æ€§æ£€æµ‹ï¼Œæ—§æµè§ˆå™¨ä¸‹åŠŸèƒ½å¤±æ•ˆã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* âŒ éå¿…è¦çš„å¸ƒå±€å±æ€§åŠ¨ç”»å¯èƒ½è§¦å‘é‡æ’ */</span>
<span class="hljs-comment">/* width/height/left/top ç­‰ä¸å»ºè®®ç”¨äºé«˜é¢‘åŠ¨ç”» */</span>
</code></pre>
<h4 data-id="heading-23">âœ… æ¨èæ–¹æ¡ˆ</h4>
<ul>
<li>ä¼˜å…ˆå¯¹ <code>transform</code> ä¸ <code>opacity</code> åšåŠ¨ç”»ï¼Œé¿å…å¸ƒå±€æŠ–åŠ¨</li>
<li>å¤æ‚åœºæ™¯å¯é…åˆ <code>will-change: transform</code> æå‰ä¼˜åŒ–</li>
<li>åœ¨æ­£å¼è¿è¡Œå‰æ£€æµ‹ API æ”¯æŒï¼Œå¯é€‰å¼•å…¥ polyfill</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * æ£€æµ‹ WAAPI æ”¯æŒ
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦æ”¯æŒ
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">supportWAAPI</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Element</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">animate</span> === <span class="hljs-string">'function'</span>;

<span class="hljs-comment">/**
 * æ¡ä»¶å¯ç”¨åŠ¨ç”»
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">HTMLElement</span>} <span class="hljs-variable">el</span> - ç›®æ ‡å…ƒç´ 
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Animation|null</span>} åŠ¨ç”»æˆ–ç©º
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">safeAnimate</span> = (<span class="hljs-params">el</span>) =&gt; <span class="hljs-title function_">supportWAAPI</span>() ? <span class="hljs-title function_">createColorSpin</span>(el) : <span class="hljs-literal">null</span>;
</code></pre>
<hr/>
<h2 data-id="heading-24">ğŸ“Š æŠ€å·§å¯¹æ¯”æ€»ç»“</h2>



































<table><thead><tr><th>æŠ€å·§</th><th>ä½¿ç”¨åœºæ™¯</th><th>ä¼˜åŠ¿</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td>å…³é”®å¸§å¯¹è±¡</td><td>åŠ¨æ€ç”Ÿæˆ/ç»„åˆåŠ¨ç”»</td><td>æ›´çµæ´»ã€ç»´æŠ¤æˆæœ¬ä½</td><td><code>offset</code> ä¸ <code>easing</code> æ˜ç¡®</td></tr><tr><td>æ’­æ”¾æ§åˆ¶</td><td>æŒ‰é’®/æ‰‹åŠ¿/çŠ¶æ€é©±åŠ¨</td><td>åŸç”Ÿ <code>play/pause/reverse</code></td><td><code>playState</code> åˆ¤å®šä¸é€Ÿç‡å˜åŒ–</td></tr><tr><td>å®Œæˆæ€å›è°ƒ</td><td>ç»“æŸåæ”¶å°¾é€»è¾‘</td><td><code>finished</code> æ›´å‡†ç¡®</td><td>é¿å…é‡é€»è¾‘é˜»å¡ä¸»çº¿ç¨‹</td></tr><tr><td>å…¼å®¹ä¸æ€§èƒ½</td><td>å¤šè®¾å¤‡ç¨³æ€ä½“éªŒ</td><td>transform/opacity æ›´ä¼˜</td><td>å¿…è¦æ—¶ <code>will-change</code> + polyfill</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-25">ğŸ¯ å®æˆ˜åº”ç”¨å»ºè®®</h2>
<h3 data-id="heading-26">æœ€ä½³å®è·µ</h3>
<ol>
<li>åªå¯¹ <code>transform/opacity</code> åšåŠ¨ç”»ï¼Œå‡å°‘é‡æ’é‡ç»˜</li>
<li>é€šè¿‡å¯¹è±¡å®šä¹‰å…³é”®å¸§ï¼Œé¿å…åœ¨ CSS ä¸­å †ç§¯ç±»å</li>
<li>ä½¿ç”¨ <code>finished</code> Promise æ¥ç®¡å®Œæˆæ€é€»è¾‘ï¼Œæ›¿ä»£å®šæ—¶å™¨</li>
<li>äº¤äº’åŠ¨ç”»ç»Ÿä¸€å°è£…æ§åˆ¶æ–¹æ³•ï¼Œé¿å…æ•£è½å„å¤„éš¾ç»´æŠ¤</li>
<li>è®¾å¤‡å·®å¼‚ç”¨ <code>updatePlaybackRate</code> è°ƒæ•´é€Ÿç‡ï¼Œè€Œä¸æ˜¯æ”¹å…³é”®å¸§</li>
</ol>
<h3 data-id="heading-27">æ€§èƒ½è€ƒè™‘</h3>
<ul>
<li>åœ¨å¡é¡¿è®¾å¤‡ä¸Šé™é€Ÿæˆ–å‡å°‘å¹¶å‘åŠ¨ç”»æ•°é‡</li>
<li>å¤§é‡åŠ¨ç”»æ—¶è€ƒè™‘ <code>requestIdleCallback</code> åšéå…³é”®å¤„ç†</li>
<li>å¯¹é¢‘ç¹é‡ç»˜åŒºåŸŸä½¿ç”¨åˆæˆå±‚ä¼˜åŒ–ï¼ˆtransform è§¦å‘ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-28">ğŸ’¡ æ€»ç»“</h2>
<p>Web Animations API è®©åŠ¨ç”»ä»â€œæ ·å¼â€å‡çº§ä¸ºâ€œé€»è¾‘â€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸ä¾èµ–ç¹ç DOM æ“ä½œçš„å‰æä¸‹ï¼Œå®ç°å¯æš‚åœã€å¯å€’æ”¾ã€å¯å˜é€Ÿçš„äº¤äº’åŠ¨ç”»ï¼š</p>
<ol>
<li>ç”¨å…³é”®å¸§å¯¹è±¡è·å¾—åŠ¨æ€ä¸ç»„åˆçš„è‡ªç”±åº¦</li>
<li>åˆ©ç”¨åŸç”Ÿæ’­æ”¾æ§åˆ¶å®ç°ç¨³å®šçš„äº¤äº’è”åŠ¨</li>
<li>é€šè¿‡å®Œæˆä¸å–æ¶ˆå›è°ƒä¸ä¸šåŠ¡å®‰å…¨è¡”æ¥</li>
<li>åœ¨æ€§èƒ½ä¸å…¼å®¹æ€§ä¸Šåšè¶³åŠŸè¯¾ï¼Œç¡®ä¿ç”Ÿäº§å¯ç”¨</li>
</ol>
<p>å¸Œæœ›è¿™äº›æŠ€å·§èƒ½å¸®ä½ å†™å‡ºæ›´æµç•…ã€å¯æ§ã€æ˜“ç»´æŠ¤çš„åŠ¨ç”»ï¼</p>
<hr/>
<h2 data-id="heading-29">ğŸ”— ç›¸å…³èµ„æº</h2>
<ul>
<li>å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWeb_Animations_API%2FUsing_the_Web_Animations_API" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Animations_API/Using_the_Web_Animations_API" ref="nofollow noopener noreferrer">developer.mozilla.org/zh-CN/docs/â€¦</a></li>
<li>Polyfill é¡¹ç›®ï¼ˆå‚è€ƒï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fweb-animations%2Fweb-animations-js" target="_blank" title="https://github.com/web-animations/web-animations-js" ref="nofollow noopener noreferrer">github.com/web-animatiâ€¦</a></li>
</ul>
<hr/>
<blockquote>
<p>ğŸ’¡ <strong>ä»Šæ—¥æ”¶è·</strong>ï¼šæŒæ¡äº† Web Animations API çš„å…³é”®å¸§ã€æ—¶é—´å±æ€§ä¸æ’­æ”¾æ§åˆ¶ï¼Œèƒ½åœ¨çœŸå®é¡¹ç›®ä¸­å†™å‡ºæ›´å¯æ§çš„äº¤äº’åŠ¨ç”»ã€‚</p>
</blockquote>
<p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—å’Œåˆ†äº«ï¼æœ‰ä»»ä½•é—®é¢˜ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºã€‚</strong> ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Databend SQL å­˜å‚¨è¿‡ç¨‹ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572396000544342079</link>    <guid>https://juejin.cn/post/7572396000544342079</guid>    <pubDate>2025-11-14T09:34:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572396000544342079" data-draft-id="7572115057222172707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Databend SQL å­˜å‚¨è¿‡ç¨‹ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-11-14T09:34:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Databend"/> <meta itemprop="url" content="https://juejin.cn/user/4477651847485534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Databend SQL å­˜å‚¨è¿‡ç¨‹ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4477651847485534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Databend
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:34:39.000Z" title="Fri Nov 14 2025 09:34:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯å­˜å‚¨è¿‡ç¨‹ï¼Ÿ</h2>
<p>å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰æ˜¯ä¸€ç»„é¢„ç¼–è¯‘çš„ SQL è¯­å¥é›†åˆï¼Œå®ƒä»¬è¢«ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œå¯ä»¥åƒå‡½æ•°ä¸€æ ·è¢«é‡å¤è°ƒç”¨ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ ç»å¸¸éœ€è¦æ‰§è¡Œä¸€ç³»åˆ—å¤æ‚çš„æ•°æ®å¤„ç†æ“ä½œï¼Œä¸å…¶æ¯æ¬¡éƒ½æ‰‹åŠ¨è¾“å…¥è¿™äº› SQL è¯­å¥ï¼Œä¸å¦‚å°†å®ƒä»¬å°è£…æˆä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œéœ€è¦æ—¶ç›´æ¥è°ƒç”¨å³å¯ã€‚</p>
<h3 data-id="heading-1">å­˜å‚¨è¿‡ç¨‹çš„ä¼˜åŠ¿</h3>
<ol>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¤šæ¬¡è°ƒç”¨ï¼Œé¿å…é‡å¤ä»£ç </li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¢„ç¼–è¯‘çš„ SQL è¯­å¥æ‰§è¡Œæ•ˆç‡æ›´é«˜</li>
<li><strong>ä¸šåŠ¡é€»è¾‘å°è£…</strong>ï¼šå°†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å°è£…åœ¨æ•°æ®åº“å±‚</li>
<li><strong>ç»´æŠ¤ä¾¿åˆ©</strong>ï¼šç»Ÿä¸€ç®¡ç†å’Œä¿®æ”¹ä¸šåŠ¡é€»è¾‘</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šé€šè¿‡æƒé™æ§åˆ¶ï¼Œé™åˆ¶ç”¨æˆ·å¯¹åº•å±‚æ•°æ®çš„ç›´æ¥è®¿é—®</li>
</ol>
<h2 data-id="heading-2">äºŒã€ç¬¬ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼šHello World</h2>
<p>è®©æˆ‘ä»¬ä»æœ€ç®€å•çš„ä¾‹å­å¼€å§‹ã€‚å‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç®€å•çš„åŠ æ³•å­˜å‚¨è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> my_add(a Int32, b Int32)
<span class="hljs-keyword">RETURNS</span> Int32
<span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">SQL</span>
<span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">RETURN</span> a <span class="hljs-operator">+</span> b;
<span class="hljs-keyword">END</span>;
$$;
</code></pre>
<h3 data-id="heading-3">è¯­æ³•è§£æ</h3>
<p>è®©æˆ‘ä»¬é€è¡Œç†è§£è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼š</p>
<ul>
<li><code>CREATE PROCEDURE my_add</code>ï¼šåˆ›å»ºä¸€ä¸ªåä¸º <code>my_add</code> çš„å­˜å‚¨è¿‡ç¨‹</li>
<li><code>(a Int32, b Int32)</code>ï¼šå®šä¹‰è¾“å…¥å‚æ•° <code>a</code> å’Œ <code>b</code>ï¼Œç±»å‹ä¸º Int32</li>
<li><code>RETURNS Int32</code>ï¼šæŒ‡å®šè¿”å›å€¼ç±»å‹ä¸º Int32</li>
<li><code>LANGUAGE SQL</code>ï¼šæŒ‡å®šä½¿ç”¨ SQL è¯­è¨€ç¼–å†™ï¼ˆç›®å‰ Databend ä»…æ”¯æŒ SQLï¼‰</li>
<li><code>AS $$ ... $$</code>ï¼šä½¿ç”¨ç¾å…ƒç¬¦å·åŒ…è£¹å­˜å‚¨è¿‡ç¨‹çš„ä¸»ä½“ä»£ç </li>
<li><code>BEGIN ... END</code>ï¼šå­˜å‚¨è¿‡ç¨‹ä¸»ä½“çš„å¼€å§‹å’Œç»“æŸæ ‡è®°</li>
<li><code>RETURN a + b</code>ï¼šæ‰§è¡Œè®¡ç®—å¹¶è¿”å›ç»“æœ</li>
</ul>
<h3 data-id="heading-4">è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</h3>
<p>åˆ›å»ºåï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è°ƒç”¨å®ƒ, æ³¨æ„å‚æ•°ç±»å‹éœ€è¦æ˜¾å¼æŒ‡å®šï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">call</span> <span class="hljs-keyword">PROCEDURE</span> my_add(<span class="hljs-number">3</span>::<span class="hljs-type">Int</span>,<span class="hljs-number">4</span>::<span class="hljs-type">Int</span>);
<span class="hljs-comment">----</span>
<span class="hljs-number">7</span>
</code></pre>
<h3 data-id="heading-5">SqlScript</h3>
<p>å­˜å‚¨è¿‡ç¨‹ä¸­çš„è¯­æ³•æˆ‘ä»¬ç§°ä¹‹ä¸º SqlScriptï¼Œ æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>execute immediate</code> æ¥æ‰§è¡Œ SqlScript è¯­å¥ã€‚</p>
<ul>
<li>æ‰§è¡Œå•ä¸ª SQL</li>
</ul>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">execute</span> immediate <span class="hljs-string">'CREATE TABLE test (id Int32)'</span>;
</code></pre>
<ul>
<li>æ‰§è¡Œå¤šä¸ª SQL, ç”¨ begin å’Œ end åŒ…è£¹</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">execute</span> immediate $$
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">select</span> <span class="hljs-number">33</span>;
    let s RESULTSET :<span class="hljs-operator">=</span> <span class="hljs-keyword">select</span> number <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">100</span>);
    <span class="hljs-keyword">RETURN</span> <span class="hljs-keyword">TABLE</span>(s);
<span class="hljs-keyword">END</span>;
$$;
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€è¿›é˜¶ï¼šä½¿ç”¨å˜é‡å’Œæµç¨‹æ§åˆ¶</h2>
<p>ç°åœ¨è®©æˆ‘ä»¬å­¦ä¹ å¦‚ä½•åœ¨ SqlScript ä¸­ä½¿ç”¨å˜é‡ã€æ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯ã€‚</p>
<h3 data-id="heading-7">3.1 å˜é‡å£°æ˜å’Œä½¿ç”¨</h3>
<h4 data-id="heading-8">Scalar å˜é‡</h4>
<p>åœ¨ Databend ä¸­ï¼Œä½¿ç”¨ <code>LET</code> å…³é”®å­—å£°æ˜å˜é‡ï¼š</p>
<p>è¯­æ³•æœ‰ï¼š</p>
<ol>
<li>
<p><code>LET &lt;variable_name&gt; := &lt;value&gt;</code> -- å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ x</p>
</li>
<li>
<p><code>LET &lt;variable_name&gt; [&lt;type&gt;] := &lt;value&gt;</code> -- å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ x</p>
</li>
<li>
<p><code>LET &lt;variable_name&gt; [&lt;type&gt;] DEFAULT &lt;value&gt;</code> -- å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ x</p>
</li>
<li>
<p><code>LET &lt;variable_name&gt; [&lt;type&gt;]</code> -- å£°æ˜å˜é‡ x, åç»­åˆå§‹åŒ–</p>
</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">execute immediate $$
BEGIN
    LET sum := 0<span class="hljs-comment">;  -- å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ sum</span>

    FOR i IN 1 TO 10 DO
        IF i % <span class="hljs-attr">2</span> = <span class="hljs-number">0</span> THEN
            sum := sum + i<span class="hljs-comment">;  -- ç´¯åŠ å¶æ•°</span>
        END IF<span class="hljs-comment">;</span>
    END FOR<span class="hljs-comment">;</span>

    RETURN sum<span class="hljs-comment">;</span>
END<span class="hljs-comment">;</span>
$$<span class="hljs-comment">;</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>
<p><code>LET sum := 0</code>ï¼šå£°æ˜ä¸€ä¸ªåä¸º <code>sum</code> çš„å˜é‡å¹¶åˆå§‹åŒ–ä¸º 0</p>
</li>
<li>
<p><code>:=</code>ï¼šèµ‹å€¼æ“ä½œç¬¦</p>
</li>
<li>
<p><code>RETURNS UInt8 NOT NULL</code>ï¼šæŒ‡å®šè¿”å›å€¼ä¸èƒ½ä¸º NULL</p>
</li>
</ul>
<h4 data-id="heading-9">ResultSet å˜é‡</h4>
<p>ResultSet å˜é‡ç”¨äºå­˜å‚¨æŸ¥è¯¢ç»“æœé›†ï¼Œè¯­æ³•æœ‰ï¼š</p>
<p>ç¤ºä¾‹è¯­æ³•ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">execute</span> immediate $$
<span class="hljs-keyword">BEGIN</span>
    LET x RESULTSET :<span class="hljs-operator">=</span> <span class="hljs-keyword">select</span> number <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">10</span>);
    <span class="hljs-keyword">RETURN</span> <span class="hljs-keyword">TABLE</span>(x);
<span class="hljs-keyword">END</span>;
$$;
</code></pre>
<p>ä¸Šé¢æ˜¯è¿”å›ç»“æœé›†ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>RETURN TABLE(x)</code> è¯­å¥</p>
<h4 data-id="heading-10">Cursor å˜é‡</h4>
<p>Cursor å˜é‡ç”¨äºéå†ç»“æœé›†ï¼Œè¯­æ³•æœ‰ï¼š</p>
<ol>
<li><code>LET &lt;cursor_variable&gt; CURSOR for &lt;query&gt;</code></li>
<li><code>LET &lt;cursor_variable&gt; CURSOR for &lt;result_set_variable&gt;</code></li>
<li><code>OPEN &lt;cursor_variable&gt;</code></li>
<li><code>FETCH &lt;cursor_variable&gt; INTO &lt;variable&gt;</code></li>
<li><code>CLOSE &lt;cursor_variable&gt;</code></li>
<li><code>for &lt;variable&gt; in &lt;cursor_variable&gt; do ... end for</code></li>
</ol>
<p>ç¤ºä¾‹è¯­æ³•ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">execute</span> immediate $$
<span class="hljs-keyword">BEGIN</span>
    LET v <span class="hljs-type">Int</span>;
    LET c <span class="hljs-keyword">CURSOR</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(number) <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">10</span>);
    <span class="hljs-keyword">OPEN</span> c;
    <span class="hljs-keyword">FETCH</span> c <span class="hljs-keyword">INTO</span> v;
    <span class="hljs-keyword">CLOSE</span> c;

    let d RESULTSET :<span class="hljs-operator">=</span> <span class="hljs-keyword">select</span> number <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">10</span>);
    let e <span class="hljs-keyword">CURSOR</span> <span class="hljs-keyword">for</span> d;
    <span class="hljs-keyword">for</span> v2 <span class="hljs-keyword">in</span> e do
        v :<span class="hljs-operator">=</span> v <span class="hljs-operator">+</span> v2.number;
    <span class="hljs-keyword">end</span> <span class="hljs-keyword">for</span>;

    <span class="hljs-keyword">return</span> v;
<span class="hljs-keyword">END</span>;
$$;
</code></pre>
<h3 data-id="heading-11">3.2 æ¡ä»¶åˆ¤æ–­ï¼šIF-THEN-ELSEIF-ELSE</h3>
<p>IF è¯­å¥å…è®¸æˆ‘ä»¬æ ¹æ®æ¡ä»¶æ‰§è¡Œä¸åŒçš„ä»£ç åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">execute immediate $$
BEGIN
    <span class="hljs-keyword">LET</span> score := <span class="hljs-number">57</span> + <span class="hljs-number">10</span> + <span class="hljs-number">10</span> + <span class="hljs-number">10</span>;
    <span class="hljs-keyword">LET</span> grade := <span class="hljs-comment">'';</span>

    <span class="hljs-keyword">IF</span> score &gt;= <span class="hljs-number">90</span> <span class="hljs-keyword">THEN</span>
        grade := <span class="hljs-comment">'ä¼˜ç§€';</span>
    <span class="hljs-keyword">ELSEIF</span> score &gt;= <span class="hljs-number">80</span> <span class="hljs-keyword">THEN</span>
        grade := <span class="hljs-comment">'è‰¯å¥½';</span>
    <span class="hljs-keyword">ELSEIF</span> score &gt;= <span class="hljs-number">70</span> <span class="hljs-keyword">THEN</span>
        grade := <span class="hljs-comment">'ä¸­ç­‰';</span>
    <span class="hljs-keyword">ELSEIF</span> score &gt;= <span class="hljs-number">60</span> <span class="hljs-keyword">THEN</span>
        grade := <span class="hljs-comment">'åŠæ ¼';</span>
    <span class="hljs-keyword">ELSE</span>
        grade := <span class="hljs-comment">'ä¸åŠæ ¼';</span>
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;
    <span class="hljs-keyword">RETURN</span> grade;
<span class="hljs-keyword">END</span>;
$$;
</code></pre>
<h3 data-id="heading-12">3.3 å¾ªç¯ï¼šFOR å¾ªç¯</h3>
<p>FOR å¾ªç¯æœ‰ä¸¤ç§å¸¸è§å½¢å¼ï¼š</p>
<h4 data-id="heading-13">å½¢å¼ä¸€ï¼šèŒƒå›´å¾ªç¯</h4>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">FOR</span> i <span class="hljs-keyword">IN</span> start_value <span class="hljs-keyword">TO</span> end_value <span class="hljs-keyword">DO</span>
    -- å¾ªç¯ä½“
<span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span>;
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">execute immediate $$
BEGIN
    LET sum := 0<span class="hljs-comment">;</span>
    FOR i IN 1 TO 10 DO
        sum := sum + i<span class="hljs-comment">;</span>
    END FOR<span class="hljs-comment">;</span>
    RETURN sum<span class="hljs-comment">;</span>
END<span class="hljs-comment">;</span>
$$<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-14">å½¢å¼äºŒï¼šç»“æœé›†å¾ªç¯</h4>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">execute</span> immediate $$
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">-- å£°æ˜ä¸€ä¸ªç»“æœé›†å˜é‡</span>
    LET x RESULTSET :<span class="hljs-operator">=</span> <span class="hljs-keyword">SELECT</span> number n <span class="hljs-keyword">FROM</span> numbers(<span class="hljs-number">10</span>);
    LET sum :<span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

    <span class="hljs-comment">-- éå†ç»“æœé›†</span>
    <span class="hljs-keyword">FOR</span> r <span class="hljs-keyword">IN</span> x DO
        <span class="hljs-comment">-- ä½¿ç”¨ r.n è®¿é—®åˆ—å€¼</span>
        sum :<span class="hljs-operator">=</span> sum <span class="hljs-operator">+</span> r.n;
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span>;
    <span class="hljs-keyword">RETURN</span> sum;
<span class="hljs-keyword">END</span>;
$$;
</code></pre>
<h2 data-id="heading-15">å››ã€é«˜çº§åº”ç”¨ï¼šåµŒå¥—å¾ªç¯ä¸å¤æ‚é€»è¾‘</h2>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼Œå±•ç¤ºåµŒå¥—å¾ªç¯å’Œå¤šå±‚é€»è¾‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">execute</span> immediate $$
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">-- å£°æ˜ç»“æœé›†å˜é‡ï¼šä» 0 åˆ° 9 çš„æ•°å­—</span>
    LET x RESULTSET :<span class="hljs-operator">=</span> <span class="hljs-keyword">SELECT</span> number n <span class="hljs-keyword">FROM</span> numbers(<span class="hljs-number">10</span>);
    LET sum :<span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

    <span class="hljs-comment">-- å¤–å±‚å¾ªç¯ï¼šéå†ç»“æœé›†</span>
    <span class="hljs-keyword">FOR</span> x <span class="hljs-keyword">IN</span> x DO
        <span class="hljs-comment">-- å†…å±‚å¾ªç¯ï¼šä» 0 åˆ°å½“å‰æ•°å­—</span>
        <span class="hljs-keyword">FOR</span> batch <span class="hljs-keyword">IN</span> <span class="hljs-number">0</span> <span class="hljs-keyword">TO</span> x.n DO
            IF batch <span class="hljs-operator">%</span> <span class="hljs-number">2</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span>
                sum :<span class="hljs-operator">=</span> sum <span class="hljs-operator">+</span> batch;  <span class="hljs-comment">-- å¶æ•°åŠ </span>
            <span class="hljs-keyword">ELSE</span>
                sum :<span class="hljs-operator">=</span> sum <span class="hljs-operator">-</span> batch;  <span class="hljs-comment">-- å¥‡æ•°å‡</span>
            <span class="hljs-keyword">END</span> IF;
        <span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span>;
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span>;

    <span class="hljs-keyword">RETURN</span> sum;
<span class="hljs-keyword">END</span>;
$$;
</code></pre>
<h3 data-id="heading-16">é€»è¾‘åˆ†æ</h3>
<p>è®©æˆ‘ä»¬åˆ†æä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹çš„æ‰§è¡Œæµç¨‹ï¼š</p>
<ol>
<li>
<p><strong>å¤–å±‚å¾ªç¯</strong>ï¼šéå† 0-9 è¿™ 10 ä¸ªæ•°å­—</p>
</li>
<li>
<p><strong>å†…å±‚å¾ªç¯</strong>ï¼šå¯¹äºæ¯ä¸ªæ•°å­— nï¼Œä» 0 å¾ªç¯åˆ° n</p>
</li>
<li>
<p><strong>æ¡ä»¶åˆ¤æ–­</strong>ï¼šå¦‚æœæ˜¯å¶æ•°åˆ™åŠ ï¼Œå¥‡æ•°åˆ™å‡</p>
</li>
</ol>
<p>ä¾‹å¦‚å½“ x.n = 3 æ—¶ï¼š</p>
<ul>
<li>
<p>batch = 0ï¼ˆå¶ï¼‰ï¼šsum += 0</p>
</li>
<li>
<p>batch = 1ï¼ˆå¥‡ï¼‰ï¼šsum -= 1</p>
</li>
<li>
<p>batch = 2ï¼ˆå¶ï¼‰ï¼šsum += 2</p>
</li>
<li>
<p>batch = 3ï¼ˆå¥‡ï¼‰ï¼šsum -= 3</p>
</li>
</ul>
<h3 data-id="heading-17">åŠ¨æ€æ‹¼æ¥è¯­å¥ï¼ŒåµŒå¥—æ‰§è¡Œ</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">execute</span> immediate $$
<span class="hljs-keyword">BEGIN</span>
   LET tbl_name :<span class="hljs-operator">=</span> <span class="hljs-string">'abcd1'</span> ;
   LET drop_sql :<span class="hljs-operator">=</span> <span class="hljs-string">'DROP TABLE default."'</span> <span class="hljs-operator">||</span> tbl_name <span class="hljs-operator">||</span> <span class="hljs-string">'"'</span> ;
   <span class="hljs-keyword">EXECUTE</span> IMMEDIATE :drop_sql ;
<span class="hljs-keyword">END</span> ;
$$ ; 
</code></pre>
<h2 data-id="heading-18"><em>äº”ã€è¿”å›è¡¨æ ¼æ•°æ®</em></h2>
<p>é™¤äº†è¿”å›å•ä¸ªå€¼ï¼Œå­˜å‚¨è¿‡ç¨‹è¿˜å¯ä»¥è¿”å›æ•´å¼ è¡¨ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">execute</span> immediate $$
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">RETURN</span> <span class="hljs-keyword">TABLE</span>(
        <span class="hljs-keyword">SELECT</span>
            number <span class="hljs-operator">%</span> <span class="hljs-number">3</span> d,
            <span class="hljs-built_in">SUM</span>(number) <span class="hljs-keyword">AS</span> total_amount
        <span class="hljs-keyword">FROM</span> numbers(<span class="hljs-number">10</span>)
        <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> d
    ) ;
<span class="hljs-keyword">END</span> ;
$$ ; 
</code></pre>
<h2 data-id="heading-19"><em>å…­ã€å­˜å‚¨è¿‡ç¨‹ç®¡ç†</em></h2>






























<table><thead><tr><th>æ“ä½œ</th><th>SQL</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æŸ¥çœ‹æ‰€æœ‰å­˜å‚¨è¿‡ç¨‹</td><td><code>SHOW PROCEDURES;</code></td><td/></tr><tr><td>æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹è¯¦æƒ…</td><td><code>DESC PROCEDURE sum_even_numbers(UInt8, UInt8);</code><br/>æˆ–<br/><code>DESCRIBE PROCEDURE sum_even_numbers(UInt8, UInt8);</code></td><td><strong>æ³¨æ„ï¼š</strong><br/>â€¢ æ— å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹ä½¿ç”¨ç©ºæ‹¬å·ï¼š<code>DESC PROCEDURE proc_name()</code><br/>â€¢ æœ‰å‚æ•°çš„å¿…é¡»æŒ‡å®šç¡®åˆ‡çš„å‚æ•°ç±»å‹</td></tr><tr><td>åˆ é™¤å­˜å‚¨è¿‡ç¨‹</td><td><code>DROP PROCEDURE my_add(int, int);</code></td><td/></tr><tr><td>æ›¿æ¢å­˜å‚¨è¿‡ç¨‹</td><td><code>CREATE OR REPLACE PROCEDURE my_add(a Int32, b Int32)</code><br/><code>RETURNS Int32</code><br/><code>LANGUAGE SQL</code><br/><code>AS $$</code><br/><code>BEGIN</code><br/><code>    RETURN a + b + 3;</code><br/><code>END;</code><br/><code>$$;</code></td><td/></tr></tbody></table>
<h2 data-id="heading-20"><em>ä¸ƒã€</em> <em>æœ€ä½³å®è·µ</em></h2>
<h3 data-id="heading-21"><em>7.1 å‘½åè§„èŒƒ</em></h3>
<ul>
<li>ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ï¼Œæ¸…æ™°è¡¨è¾¾åŠŸèƒ½</li>
<li>ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ï¼ˆsnake_caseï¼‰</li>
<li>æ·»åŠ å‰ç¼€åŒºåˆ†ä¸åŒç±»å‹çš„è¿‡ç¨‹ï¼ˆå¦‚ <code>calc_</code>, <code>get_</code>, <code>update_</code>ï¼‰</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¥½çš„å‘½å</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> calc_monthly_revenue(...)
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> get_active_users(...)
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> update_user_status(...)

<span class="hljs-comment">-- ä¸å¥½çš„å‘½å</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> proc1(...)
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> x(...)
</code></pre>
<h3 data-id="heading-22"><em>7.2 æ³¨é‡Šè¯´æ˜</em></h3>
<p>å§‹ç»ˆä¸ºå­˜å‚¨è¿‡ç¨‹æ·»åŠ æ¸…æ™°çš„æ³¨é‡Šï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> process_orders(order_date <span class="hljs-type">DATE</span>)
<span class="hljs-keyword">RETURNS</span> <span class="hljs-type">INT</span>
<span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">SQL</span>
COMMENT <span class="hljs-operator">=</span> <span class="hljs-string">'å¤„ç†æŒ‡å®šæ—¥æœŸçš„è®¢å•ï¼Œè¿”å›å¤„ç†æ•°é‡'</span>
<span class="hljs-keyword">AS</span> $$ ... $$ ; 
</code></pre>
<h3 data-id="heading-23"><em>7.3 æ€§èƒ½è€ƒè™‘</em></h3>
<ol>
<li>
<p><strong>é¿å…è¿‡åº¦å¾ªç¯</strong>ï¼šå¯¹äºå¤§æ•°æ®é›†ï¼Œå°½é‡ä½¿ç”¨é›†åˆæ“ä½œè€Œéé€è¡Œå¾ªç¯</p>
</li>
<li>
<p><strong>åˆç†ä½¿ç”¨ç´¢å¼•</strong>ï¼šåœ¨å­˜å‚¨è¿‡ç¨‹ä¸­æŸ¥è¯¢çš„è¡¨åº”æœ‰é€‚å½“çš„ç´¢å¼•</p>
</li>
<li>
<p><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šå°½å¯èƒ½ä½¿ç”¨æ‰¹é‡æ’å…¥/æ›´æ–°è€Œéé€æ¡å¤„ç†</p>
</li>
<li>
<p><strong>ç»“æœé›†å¤§å°</strong>ï¼šè¿”å›è¡¨æ ¼æ—¶ï¼Œä½¿ç”¨ LIMIT é™åˆ¶ç»“æœé›†å¤§å°</p>
</li>
</ol>
<h2 data-id="heading-24"><em>å…«ã€å®æˆ˜æ¡ˆä¾‹ï¼šæ•°æ®æ¸…æ´—æµç¨‹</em></h2>
<p>è®©æˆ‘ä»¬ç”¨äºŒä¸ªå®é™…æ¡ˆä¾‹æ¥ç»¼åˆè¿ç”¨æ‰€å­¦çŸ¥è¯†ï¼š</p>
<h3 data-id="heading-25"><em>9.1 æ¸…ç†å’Œå½’æ¡£ä¸æ´»è·ƒç”¨æˆ·æ•°æ®</em></h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">PROCEDURE</span> cleanup_user_data(days_threshold <span class="hljs-type">INT</span>)
<span class="hljs-keyword">RETURNS</span> <span class="hljs-keyword">TABLE</span>(
    action <span class="hljs-type">VARCHAR</span>,
    user_count <span class="hljs-type">INT</span>,
    processed_at <span class="hljs-type">TIMESTAMP</span>
)
<span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">SQL</span>
COMMENT <span class="hljs-operator">=</span> <span class="hljs-string">'æ¸…ç†å’Œå½’æ¡£ä¸æ´»è·ƒç”¨æˆ·æ•°æ®'</span>
<span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">BEGIN</span>
    LET cutoff_date :<span class="hljs-operator">=</span> DATE_SUB(<span class="hljs-keyword">DAY</span>, days_threshold,today()) ;
    LET inactive_users :<span class="hljs-operator">=</span> <span class="hljs-number">0</span> ;
    LET deleted_users :<span class="hljs-operator">=</span> <span class="hljs-number">0</span> ;

    <span class="hljs-comment">-- ç»Ÿè®¡ä¸æ´»è·ƒç”¨æˆ·</span>
    LET inactive_resultset RESULTSET :<span class="hljs-operator">=</span>
        <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">AS</span> cnt
        <span class="hljs-keyword">FROM</span> users
        <span class="hljs-keyword">WHERE</span> last_login_date <span class="hljs-operator">&lt;</span> cutoff_date
        <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'active'</span> ;

    <span class="hljs-keyword">FOR</span> r <span class="hljs-keyword">IN</span> inactive_resultset DO
        inactive_users :<span class="hljs-operator">=</span> r.cnt ;
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span> ;

    <span class="hljs-comment">-- æ ‡è®°ä¸æ´»è·ƒç”¨æˆ·</span>
    <span class="hljs-keyword">UPDATE</span> users
    <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'inactive'</span>
    <span class="hljs-keyword">WHERE</span> last_login_date <span class="hljs-operator">&lt;</span> cutoff_date
    <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'active'</span> ;

    <span class="hljs-comment">-- åˆ é™¤é•¿æœŸä¸æ´»è·ƒç”¨æˆ·</span>
    <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> users
    <span class="hljs-keyword">WHERE</span> last_login_date <span class="hljs-operator">&lt;</span> DATE_SUB(cutoff_date, <span class="hljs-type">INTERVAL</span> days_threshold <span class="hljs-keyword">DAY</span>)
    <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'inactive'</span> ;

    <span class="hljs-comment">-- è¿”å›å¤„ç†ç»“æœ</span>
    <span class="hljs-keyword">RETURN</span> <span class="hljs-keyword">TABLE</span>(
        <span class="hljs-keyword">SELECT</span>
            <span class="hljs-string">'Marked Inactive'</span> <span class="hljs-keyword">AS</span> action,
            inactive_users <span class="hljs-keyword">AS</span> user_count,
            <span class="hljs-built_in">CURRENT_TIMESTAMP</span>() <span class="hljs-keyword">AS</span> processed_at
        <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
        <span class="hljs-keyword">SELECT</span>
            <span class="hljs-string">'Deleted'</span> <span class="hljs-keyword">AS</span> action,
            deleted_users <span class="hljs-keyword">AS</span> user_count,
            <span class="hljs-built_in">CURRENT_TIMESTAMP</span>() <span class="hljs-keyword">AS</span> processed_at
    ) ;
<span class="hljs-keyword">END</span> ;
$$ ; 
</code></pre>
<p>è°ƒç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ¸…ç† 90 å¤©æœªç™»å½•çš„ç”¨æˆ·</span>
<span class="hljs-keyword">CALL</span> <span class="hljs-keyword">PROCEDURE</span> cleanup_user_data(<span class="hljs-number">90</span>::<span class="hljs-type">Int</span>) ; 
</code></pre>
<h3 data-id="heading-26"><em>9.2 æ‰«æè¡¨å¹¶åˆå¹¶æ•°æ®åˆ°targetè¡¨</em></h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">PROCEDURE</span> PROC_MERGE_GPS()
<span class="hljs-keyword">RETURNS</span> STRING
<span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">SQL</span>
<span class="hljs-keyword">AS</span>
$$
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">table</span> default.gps <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> number <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">100</span>) ;
    <span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">table</span> default.abcd1 <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> number <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">100</span>) ;
    <span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">table</span> default.abcd2 <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> number <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">100</span>) ;
    <span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">table</span> default.abcd3 <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> number <span class="hljs-keyword">from</span> numbers(<span class="hljs-number">100</span>) ;

    <span class="hljs-comment">-- Step 1: æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„è¡¨åï¼ˆä½¿ç”¨ INFORMATION_SCHEMAï¼‰</span>
    LET records RESULTSET :<span class="hljs-operator">=</span> (
        <span class="hljs-keyword">select</span> name  <span class="hljs-keyword">from</span> system.tables <span class="hljs-keyword">where</span> database <span class="hljs-operator">=</span> <span class="hljs-string">'default'</span> <span class="hljs-keyword">and</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">'%abcd%'</span>
    ) ;
    LET table_count :<span class="hljs-operator">=</span> <span class="hljs-number">0</span> ;
    LET record_count :<span class="hljs-operator">=</span> <span class="hljs-number">0</span> ;
    LET table_names :<span class="hljs-operator">=</span> [] ;
    LET union_parts :<span class="hljs-operator">=</span> [] ;
    <span class="hljs-keyword">for</span> table_record <span class="hljs-keyword">in</span> records DO
        LET name :<span class="hljs-operator">=</span> table_record.name ;
        table_count :<span class="hljs-operator">=</span> table_count <span class="hljs-operator">+</span> <span class="hljs-number">1</span> ;
        table_names :<span class="hljs-operator">=</span> ARRAY_APPEND(table_names, name) ;
        union_parts :<span class="hljs-operator">=</span> ARRAY_APPEND(union_parts, <span class="hljs-string">'SELECT * FROM default.'</span> <span class="hljs-operator">||</span> name) ;
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span> ;

    <span class="hljs-comment">-- å¦‚æœæ²¡æœ‰åŒ¹é…çš„è¡¨ï¼Œç›´æ¥è¿”å›</span>
    IF (table_count <span class="hljs-operator">=</span> <span class="hljs-number">0</span>) <span class="hljs-keyword">THEN</span>
        <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'No data to process'</span> ;
    <span class="hljs-keyword">END</span> IF ;

    <span class="hljs-comment">-- Step 3: åˆ›å»ºä¸´æ—¶è§†å›¾</span>
    LET view_sql :<span class="hljs-operator">=</span> <span class="hljs-string">'CREATE OR REPLACE VIEW default.TEMPORARY_GPS_TABLES AS '</span> <span class="hljs-operator">||</span> ARRAY_TO_STRING(union_parts, <span class="hljs-string">' UNION ALL '</span>) ;
    <span class="hljs-keyword">EXECUTE</span> IMMEDIATE :view_sql ;

    <span class="hljs-comment">-- Step 2: æŸ¥è¯¢è¡¨ä¸­çš„è®°å½•æ•°</span>
    LET record_count_sql :<span class="hljs-operator">=</span> <span class="hljs-string">'SELECT COUNT(*) c FROM default.TEMPORARY_GPS_TABLES'</span> ;
    LET r RESULTSET :<span class="hljs-operator">=</span> <span class="hljs-keyword">EXECUTE</span> IMMEDIATE :record_count_sql ;
    <span class="hljs-keyword">for</span> record <span class="hljs-keyword">in</span> r DO
        record_count :<span class="hljs-operator">=</span> record.c ;
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span> ;

    <span class="hljs-comment">-- Step 4: è®¾ç½®ä¼šè¯å‚æ•°, example</span>
    <span class="hljs-keyword">EXECUTE</span> IMMEDIATE <span class="hljs-string">'set max_block_size = 65536'</span> ;

    <span class="hljs-comment">-- Step 5: æ‰§è¡Œ ç¤ºä¾‹SQL</span>
    LET merge_sql :<span class="hljs-operator">=</span> <span class="hljs-string">'insert into default.gps select * from default.TEMPORARY_GPS_TABLES;'</span> ;
    <span class="hljs-keyword">EXECUTE</span> IMMEDIATE :merge_sql ;

    <span class="hljs-comment">-- Step 6: æ¸…ç†ï¼šåˆ é™¤è§†å›¾</span>
    <span class="hljs-keyword">EXECUTE</span> IMMEDIATE <span class="hljs-string">'DROP VIEW IF EXISTS default.TEMPORARY_GPS_TABLES'</span> ;

    <span class="hljs-comment">-- Step 7: åˆ é™¤æ‰€æœ‰ %abcd% è¡¨</span>
    <span class="hljs-keyword">FOR</span> i <span class="hljs-keyword">IN</span> <span class="hljs-number">1</span> <span class="hljs-keyword">TO</span> ARRAY_SIZE(table_names) DO
        LET tbl_name :<span class="hljs-operator">=</span> table_names[i]::STRING ;
        LET drop_sql :<span class="hljs-operator">=</span> <span class="hljs-string">'DROP TABLE default."'</span> <span class="hljs-operator">||</span> tbl_name <span class="hljs-operator">||</span> <span class="hljs-string">'"'</span> ;
        <span class="hljs-keyword">EXECUTE</span> IMMEDIATE :drop_sql ;
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">FOR</span> ;
    <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'Merge completed successfully. Processed '</span> <span class="hljs-operator">||</span> table_count <span class="hljs-operator">||</span> <span class="hljs-string">' tables. Total records: '</span> <span class="hljs-operator">||</span> record_count ;
<span class="hljs-keyword">END</span> ;
$$ ; 
</code></pre>
<p>è°ƒç”¨ç»“æœï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">call</span> <span class="hljs-string">PROCEDURE</span> <span class="hljs-string">PROC_MERGE_GPS()</span> <span class="hljs-string">;</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">Merge completed successfully. Processed 3 tables. Total records:</span> <span class="hljs-number">300</span>
</code></pre>
<h2 data-id="heading-27"><em>ä¹ã€æ€»ç»“</em></h2>
<p>Databend çš„ SQL å­˜å‚¨è¿‡ç¨‹ä¸ºæ•°æ®å¤„ç†æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„å·¥å…·ã€‚é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ï¼š</p>
<ol>
<li><strong>åŸºç¡€è¯­æ³•</strong>ï¼šå¦‚ä½•åˆ›å»ºå’Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹</li>
<li><strong>å˜é‡å’Œèµ‹å€¼</strong>ï¼šä½¿ç”¨ LET å£°æ˜å’Œç®¡ç†å˜é‡</li>
<li><strong>æµç¨‹æ§åˆ¶</strong>ï¼šIF æ¡ä»¶åˆ¤æ–­å’Œ FOR å¾ªç¯</li>
<li><strong>é«˜çº§ç‰¹æ€§</strong>ï¼šåµŒå¥—å¾ªç¯ã€ç»“æœé›†éå†ã€è¿”å›è¡¨æ ¼</li>
<li><strong>ç®¡ç†æ“ä½œ</strong>ï¼šæŸ¥çœ‹ã€æè¿°ã€åˆ é™¤å­˜å‚¨è¿‡ç¨‹</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šå‘½åè§„èŒƒã€æ³¨é‡Šã€é”™è¯¯å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–</li>
</ol>
<h3 data-id="heading-28"><em>å…³é”®è¦ç‚¹å›é¡¾</em></h3>
<ul>
<li>âœ… ä½¿ç”¨ <code>CREATE PROCEDURE</code> åˆ›å»ºå­˜å‚¨è¿‡ç¨‹</li>
<li>âœ… ä½¿ç”¨ <code>CALL PROCEDURE</code> è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</li>
<li>âœ… ä½¿ç”¨ <code>EXECUTE IMMEDIATE</code> æ‰§è¡ŒåŠ¨æ€ SQL</li>
<li>âœ… ä½¿ç”¨ <code>LET</code> å£°æ˜å˜é‡ï¼Œ<code>:=</code> èµ‹å€¼</li>
<li>âœ… æ”¯æŒ <code>IF-THEN-ELSE</code> æ¡ä»¶åˆ¤æ–­</li>
<li>âœ… æ”¯æŒ <code>FOR...IN...DO</code> å¾ªç¯</li>
<li>âœ… å¯ä»¥è¿”å›å•ä¸ªå€¼æˆ–æ•´å¼ è¡¨</li>
<li>âœ… ä½¿ç”¨ <code>CREATE OR REPLACE</code> æ›´æ–°å­˜å‚¨è¿‡ç¨‹</li>
<li>âœ… ä½¿ç”¨ <code>RESULTSET</code> ç±»å‹å¤„ç†æŸ¥è¯¢ç»“æœ</li>
</ul>
<h3 data-id="heading-29"><em>ä¸‹ä¸€æ­¥</em></h3>
<p>ç°åœ¨ä½ å·²ç»æŒæ¡äº† Databend å­˜å‚¨è¿‡ç¨‹çš„æ ¸å¿ƒçŸ¥è¯†ï¼Œå¯ä»¥å¼€å§‹ï¼š</p>
<ol start="7">
<li>åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­åˆ›å»ºç®€å•çš„å­˜å‚¨è¿‡ç¨‹</li>
<li>é€æ­¥å¼•å…¥æ›´å¤æ‚çš„é€»è¾‘å’Œæµç¨‹æ§åˆ¶</li>
<li>å°†å¸¸ç”¨çš„æ•°æ®å¤„ç†ä»»åŠ¡å°è£…ä¸ºå­˜å‚¨è¿‡ç¨‹</li>
<li>æ¢ç´¢æ›´å¤šé«˜çº§ç‰¹æ€§å’Œä¼˜åŒ–æŠ€å·§</li>
</ol>
<p>Happy coding with Databend! ğŸš€</p>
<h2 data-id="heading-30">å…³äº Databend</h2>
<p>Databend æ˜¯ä¸€æ¬¾å¼€æºã€å¼¹æ€§ã€ä½æˆæœ¬ï¼ŒåŸºäºå¯¹è±¡å­˜å‚¨ä¹Ÿå¯ä»¥åšå®æ—¶åˆ†æçš„æ–°å¼æ¹–ä»“ã€‚æœŸå¾…æ‚¨çš„å…³æ³¨ï¼Œä¸€èµ·æ¢ç´¢äº‘åŸç”Ÿæ•°ä»“è§£å†³æ–¹æ¡ˆï¼Œæ‰“é€ æ–°ä¸€ä»£å¼€æº Data Cloudã€‚</p>
<p>ğŸ‘¨â€ğŸ’»â€ Databend Cloudï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdatabend.cn%2F" title="https://link.juejin.cn/?target=https%3A%2F%2Fdatabend.cn%2F" target="_blank">databend.cn</a></p>
<p>ğŸ“– Databend æ–‡æ¡£ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdocs.databend.cn%2F" title="https://link.juejin.cn/?target=https%3A%2F%2Fdocs.databend.cn%2F" target="_blank">docs.databend.cn</a></p>
<p>ğŸ’» Wechatï¼šDatabend</p>
<p>âœ¨ GitHubï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fdatabendlabs%2Fdatabend" title="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fdatabendlabs%2Fdatabend" target="_blank">github.com/databendlabâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pythonè™šæ‹Ÿç¯å¢ƒæ¿€æ´»åŸç†è¯¦è§£]]></title>    <link>https://juejin.cn/post/7572190151352303616</link>    <guid>https://juejin.cn/post/7572190151352303616</guid>    <pubDate>2025-11-14T09:36:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572190151352303616" data-draft-id="7572161976594300980" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pythonè™šæ‹Ÿç¯å¢ƒæ¿€æ´»åŸç†è¯¦è§£"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-14T09:36:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒœé¸Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1019965599134648"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pythonè™šæ‹Ÿç¯å¢ƒæ¿€æ´»åŸç†è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1019965599134648/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒœé¸Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:36:24.000Z" title="Fri Nov 14 2025 09:36:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>source run/bin/activate</code>ï¼ˆæˆ– <code>run/bin/activate</code>ï¼‰æ˜¯æ¿€æ´» Python è™šæ‹Ÿç¯å¢ƒçš„æ ¸å¿ƒå‘½ä»¤ã€‚æˆ‘ä»¬æ¥æ·±å…¥è®²è§£å®ƒçš„ <strong>åŸç†ã€ä½œç”¨æœºåˆ¶å’Œåº•å±‚å®ç°</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ§  ä¸€ã€è™šæ‹Ÿç¯å¢ƒçš„æœ¬è´¨</h2>
<p>Python è™šæ‹Ÿç¯å¢ƒï¼ˆvirtual environmentï¼‰æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç›®å½•ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>ç‹¬ç«‹çš„ <code>site-packages/</code>ï¼ˆå­˜æ”¾ç¬¬ä¸‰æ–¹åŒ…ï¼‰</li>
<li>ç‹¬ç«‹çš„ <code>bin/</code> ç›®å½•ï¼ˆå­˜æ”¾å¯æ‰§è¡Œæ–‡ä»¶å¦‚ <code>python</code>, <code>pip</code>, <code>uvicorn</code> ç­‰ï¼‰</li>
<li>éš”ç¦»çš„ä¾èµ–å’Œç‰ˆæœ¬æ§åˆ¶</li>
</ul>
<blockquote>
<p>âœ… ç›®æ ‡ï¼šè®©ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„åŒ…ï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ”§ äºŒã€<code>activate</code> è„šæœ¬çš„ä½œç”¨</h2>
<p>å½“ä½ è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> run/bin/activate
</code></pre>
<p>å®é™…ä¸Šæ˜¯ <strong>æ‰§è¡Œäº†ä¸€ä¸ª shell è„šæœ¬</strong>ï¼š<code>run/bin/activate</code>ï¼Œå®ƒä¼šä¿®æ”¹å½“å‰ shell çš„ç¯å¢ƒå˜é‡ï¼Œä½¿ä½ â€œè¿›å…¥â€è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚</p>
<h3 data-id="heading-2">âœ… ä¸»è¦åšäº†ä¸‰ä»¶äº‹ï¼š</h3>





















<table><thead><tr><th>æ“ä½œ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>1ï¸âƒ£ ä¿®æ”¹ <code>PATH</code></td><td>æŠŠè™šæ‹Ÿç¯å¢ƒçš„ <code>bin/</code> ç›®å½•æ”¾åˆ° <code>PATH</code> æœ€å‰é¢</td></tr><tr><td>2ï¸âƒ£ è®¾ç½® <code>VIRTUAL_ENV</code></td><td>è®°å½•å½“å‰æ¿€æ´»çš„è™šæ‹Ÿç¯å¢ƒè·¯å¾„</td></tr><tr><td>3ï¸âƒ£ ä¿®æ”¹å‘½ä»¤è¡Œæç¤ºç¬¦ï¼ˆå¯é€‰ï¼‰</td><td>åœ¨ç»ˆç«¯æ˜¾ç¤º <code>(run)</code> è¿™æ ·çš„å‰ç¼€</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">ğŸ“¦ ä¸‰ã€è¯¦ç»†åŸç†æ‹†è§£</h2>
<h3 data-id="heading-4">1. ä¿®æ”¹ <code>PATH</code> ç¯å¢ƒå˜é‡</h3>
<p>åŸå§‹ <code>PATH</code> å¯èƒ½æ˜¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/usr/local/bin:/usr/bin:/bin
</code></pre>
<p><code>activate</code> è„šæœ¬æ‰§è¡Œåå˜æˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/home/admin/run/bin:/usr/local/bin:/usr/bin:/bin
</code></pre>
<p>ğŸ‘‰ è¿™æ„å‘³ç€å½“ä½ è¾“å…¥ <code>python</code> æˆ– <code>pip</code>ï¼Œç³»ç»Ÿä¼šä¼˜å…ˆä½¿ç”¨ <code>/home/admin/run/bin/python</code> å’Œ <code>/home/admin/run/bin/pip</code>ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿçš„ã€‚</p>
<p>âœ… æ•ˆæœï¼šä½ è°ƒç”¨çš„æ˜¯è™šæ‹Ÿç¯å¢ƒé‡Œçš„è§£é‡Šå™¨å’Œå·¥å…·ã€‚</p>
<hr/>
<h3 data-id="heading-5">2. è®¾ç½® <code>VIRTUAL_ENV</code> ç¯å¢ƒå˜é‡</h3>
<p>è„šæœ¬ä¼šè®¾ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> VIRTUAL_ENV=<span class="hljs-string">"/home/admin/run"</span>
</code></pre>
<p>è¿™ä¸ªå˜é‡è¢«å¾ˆå¤šå·¥å…·è¯†åˆ«ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>pip</code> ä¼šçŸ¥é“åº”è¯¥æŠŠåŒ…å®‰è£…åˆ° <code>$VIRTUAL_ENV/lib/python3.x/site-packages</code></li>
<li><code>deactivate</code> å‘½ä»¤é å®ƒæ¥é€€å‡ºç¯å¢ƒ</li>
<li>å…¶ä»–å·¥å…·ï¼ˆå¦‚ <code>ipython</code>, <code>jupyter</code>ï¼‰ä¹Ÿèƒ½æ„ŸçŸ¥å½“å‰æ˜¯å¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­</li>
</ul>
<hr/>
<h3 data-id="heading-6">3. ä¿®æ”¹å‘½ä»¤è¡Œæç¤ºç¬¦ï¼ˆPS1ï¼‰</h3>
<p>å¦‚æœä½ çš„ shell æ”¯æŒï¼Œ<code>activate</code> ä¼šä¿®æ”¹ä½ çš„ç»ˆç«¯æç¤ºç¬¦ï¼ŒåŠ ä¸Š <code>(run)</code> å‰ç¼€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">(run) user@host:~$
</code></pre>
<p>è¿™æ˜¯é€šè¿‡ä¿®æ”¹ <code>PS1</code> å®ç°çš„ï¼Œæ–¹ä¾¿ä½ ä¸€çœ¼çœ‹å‡ºå½“å‰å¤„äºå“ªä¸ªè™šæ‹Ÿç¯å¢ƒã€‚</p>
<hr/>
<h3 data-id="heading-7">4. æä¾› <code>deactivate</code> å‘½ä»¤</h3>
<p><code>activate</code> è„šæœ¬è¿˜ä¼šå®šä¹‰ä¸€ä¸ª shell å‡½æ•° <code>deactivate</code>ï¼Œç”¨äºé€€å‡ºè™šæ‹Ÿç¯å¢ƒã€‚</p>
<p>å½“ä½ è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">deactivate
</code></pre>
<p>å®ƒä¼šï¼š</p>
<ul>
<li>æ¢å¤åŸæ¥çš„ <code>PATH</code></li>
<li>åˆ é™¤ <code>VIRTUAL_ENV</code></li>
<li>æ¢å¤åŸå§‹çš„ <code>PS1</code></li>
</ul>
<hr/>
<h2 data-id="heading-8">ğŸ§© å››ã€ä¸ºä»€ä¹ˆå¿…é¡»ç”¨ <code>source</code>ï¼Ÿ</h2>
<p>å…³é”®ç‚¹æ¥äº†ï¼šä¸ºä»€ä¹ˆè¦å†™ <code>source run/bin/activate</code>ï¼Œè€Œä¸æ˜¯ç›´æ¥ <code>run/bin/activate</code>ï¼Ÿ</p>
<h3 data-id="heading-9">âŒ é”™è¯¯æ–¹å¼ï¼š</h3>
<pre><code class="hljs language-bash" lang="bash">run/bin/activate
</code></pre>
<p>è¿™ä¼šåœ¨ä¸€ä¸ª<strong>å­ shell ä¸­è¿è¡Œè„šæœ¬</strong>ï¼Œä¿®æ”¹çš„ç¯å¢ƒå˜é‡åªåœ¨é‚£ä¸ªå­ shell ä¸­æœ‰æ•ˆï¼Œæ‰§è¡Œå®Œå°±é€€å‡ºäº†ï¼Œ<strong>ä¸» shell ä¸å—å½±å“</strong>ã€‚</p>
<h3 data-id="heading-10">âœ… æ­£ç¡®æ–¹å¼ï¼š</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> run/bin/activate
<span class="hljs-comment"># æˆ–ç®€å†™ä¸º</span>
. run/bin/activate
</code></pre>
<p><code>source</code> è¡¨ç¤ºï¼š<strong>åœ¨å½“å‰ shell ä¸­æ‰§è¡Œè¿™ä¸ªè„šæœ¬</strong>ï¼Œæ‰€ä»¥ç¯å¢ƒå˜é‡çš„ä¿®æ”¹ä¼šä¿ç•™ä¸‹æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-11">ğŸ—‚ï¸ äº”ã€<code>bin/</code> ç›®å½•é‡Œæœ‰ä»€ä¹ˆï¼Ÿ</h2>
<p>ä»¥ <code>run/bin/</code> ä¸ºä¾‹ï¼Œå¸¸è§å†…å®¹ï¼š</p>





























<table><thead><tr><th>æ–‡ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>python</code></td><td>è½¯é“¾æ¥æˆ–å°è£…è„šæœ¬ï¼ŒæŒ‡å‘è™šæ‹Ÿç¯å¢ƒçš„ Python è§£é‡Šå™¨</td></tr><tr><td><code>pip</code></td><td>å®‰è£…åŒ…çš„å·¥å…·ï¼Œè‡ªåŠ¨å®‰è£…åˆ°å½“å‰è™šæ‹Ÿç¯å¢ƒ</td></tr><tr><td><code>activate</code></td><td>æ¿€æ´»è„šæœ¬ï¼ˆshell è„šæœ¬ï¼‰</td></tr><tr><td><code>deactivate</code></td><td>å†…ç½®äº <code>activate</code> ä¸­ï¼Œç”¨äºé€€å‡º</td></tr><tr><td><code>uvicorn</code>, <code>gunicorn</code> ç­‰</td><td>å®‰è£…åç”Ÿæˆçš„å‘½ä»¤è¡Œå·¥å…·</td></tr></tbody></table>
<p>è¿™äº›å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯â€œåŒ…è£…å™¨â€ï¼Œç¡®ä¿å®ƒä»¬ä½¿ç”¨çš„ Python å’Œåº“æ¥è‡ªå½“å‰è™šæ‹Ÿç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-12">ğŸ”„ å…­ã€æ¿€æ´»æµç¨‹å›¾è§£</h2>
<pre><code class="hljs language-plain" lang="plain">ç”¨æˆ·è¾“å…¥: source run/bin/activate
         â†“
æ‰§è¡Œ activate è„šæœ¬
         â†“
è®¾ç½® VIRTUAL_ENV=/home/admin/run
         â†“
ä¿®æ”¹ PATH = /home/admin/run/bin:$PATH
         â†“
ä¿®æ”¹ PS1 â†’ æ˜¾ç¤º (run)
         â†“
ä½ ç°åœ¨â€œè¿›å…¥â€äº†è™šæ‹Ÿç¯å¢ƒï¼
         â†“
æ‰€æœ‰ python/pip å‘½ä»¤éƒ½ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒä¸­çš„ç‰ˆæœ¬
</code></pre>
<hr/>
<h2 data-id="heading-13">ğŸ› ï¸ ä¸ƒã€æ‰‹åŠ¨æ¨¡æ‹Ÿ activateï¼ˆç†è§£æœ¬è´¨ï¼‰</h2>
<p>ä½ å¯ä»¥ä¸ç”¨ <code>activate</code>ï¼Œæ‰‹åŠ¨å®ç°ç›¸åŒæ•ˆæœï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> VIRTUAL_ENV=<span class="hljs-string">"/home/admin/run"</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$VIRTUAL_ENV</span>/bin:<span class="hljs-variable">$PATH</span>"</span>
<span class="hljs-comment"># å¯é€‰ï¼šä¿®æ”¹æç¤ºç¬¦</span>
<span class="hljs-built_in">export</span> PS1=<span class="hljs-string">"(run) <span class="hljs-variable">$PS1</span>"</span>
</code></pre>
<p>è¿™æ ·ä½ å°±â€œæ‰‹åŠ¨æ¿€æ´»â€äº†è™šæ‹Ÿç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-14">âœ… å…«ã€æœ€ä½³å®è·µå»ºè®®</h2>





















<table><thead><tr><th>åœºæ™¯</th><th>æ¨èåšæ³•</th></tr></thead><tbody><tr><td>å¼€å‘è°ƒè¯•</td><td><code>source venv/bin/activate</code> + <code>uvicorn app:app --reload</code></td></tr><tr><td>Docker æ„å»º</td><td>ç›´æ¥ç”¨ <code>/path/to/venv/bin/pip</code> å’Œ <code>/path/to/venv/bin/python</code>ï¼Œé¿å… <code>source</code></td></tr><tr><td>CI/CD è„šæœ¬</td><td>ä½¿ç”¨å®Œæ•´è·¯å¾„è°ƒç”¨ï¼Œå¦‚ <code>venv/bin/python -m pip install ...</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">ğŸ“š æ€»ç»“</h2>





























<table><thead><tr><th>é—®é¢˜</th><th>å›ç­”</th></tr></thead><tbody><tr><td><code>source run/bin/activate</code> æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>æ˜¯ä¸€ä¸ª shell è„šæœ¬ï¼Œç”¨äºæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</td></tr><tr><td>å®ƒåšäº†ä»€ä¹ˆï¼Ÿ</td><td>ä¿®æ”¹ <code>PATH</code>ã€è®¾ç½® <code>VIRTUAL_ENV</code>ã€æ”¹æç¤ºç¬¦</td></tr><tr><td>ä¸ºä»€ä¹ˆç”¨ <code>source</code>ï¼Ÿ</td><td>è®©ç¯å¢ƒå˜é‡ä¿®æ”¹åœ¨å½“å‰ shell ç”Ÿæ•ˆ</td></tr><tr><td>ä¸æ¿€æ´»å¯ä»¥å—ï¼Ÿ</td><td>å¯ä»¥ï¼Œä½†è¦ç”¨å®Œæ•´è·¯å¾„è°ƒç”¨ <code>venv/bin/python</code></td></tr><tr><td>Docker ä¸­æ¨èæ€ä¹ˆç”¨ï¼Ÿ</td><td>é¿å… <code>source</code>ï¼Œç›´æ¥ç”¨ç»å¯¹è·¯å¾„</td></tr></tbody></table>
<hr/>
<p>ğŸ¯ ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><code>source run/bin/activate</code> çš„æœ¬è´¨æ˜¯ï¼š<strong>é€šè¿‡ä¿®æ”¹å½“å‰ shell çš„ç¯å¢ƒå˜é‡ï¼Œè®©åç»­çš„ <strong><code>python</code></strong> å’Œ <strong><code>pip</code></strong> å‘½ä»¤è‡ªåŠ¨ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒä¸­çš„è§£é‡Šå™¨å’Œåº“</strong>ã€‚</p>
</blockquote>
<p>ç†è§£äº†è¿™ä¸€ç‚¹ï¼Œä½ å°±æŒæ¡äº† Python è™šæ‹Ÿç¯å¢ƒçš„æ ¸å¿ƒæœºåˆ¶ âœ…</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 + TypeScript é¡¹ç›®æ¡†æ¶æ­å»ºæŒ‡å—]]></title>    <link>https://juejin.cn/post/7572362484659355699</link>    <guid>https://juejin.cn/post/7572362484659355699</guid>    <pubDate>2025-11-14T09:22:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572362484659355699" data-draft-id="7572387068313223195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 + TypeScript é¡¹ç›®æ¡†æ¶æ­å»ºæŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-14T09:22:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€é¥æ±Ÿæ¹–"/> <meta itemprop="url" content="https://juejin.cn/user/3940246036941134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 + TypeScript é¡¹ç›®æ¡†æ¶æ­å»ºæŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036941134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€é¥æ±Ÿæ¹–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:22:06.000Z" title="Fri Nov 14 2025 09:22:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue3 + TypeScript é¡¹ç›®æ¡†æ¶æ­å»ºæŒ‡å—</h2>
<p>æ­å»ºä¸€ä¸ªvue3+Ts é¡¹ç›®åŸºæœ¬æ¡†æ¶ä»¥åŠé…ç½®ï¼Œ è¦æ±‚é…ç½®å¥½serverä¸­proxyä»£ç†ã€æœ‰sitï¼Œdevelopmentï¼Œproductionç¯å¢ƒï¼ŒåŒæ—¶ é…ç½®å¥½axiosï¼Œmock ã€lessã€ä»£ç å‹ç¼©</p>
<h3 data-id="heading-1">1. é¡¹ç›®åˆå§‹åŒ–</h3>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ä½¿ç”¨ Vite åˆ›å»ºé¡¹ç›®</span>
npm create vue@latest <span class="hljs-keyword">my</span>-vue3-project  

<span class="hljs-comment"># é€‰æ‹©é…ç½®</span>
<span class="hljs-comment"># âœ” Project name: â€¦ my-vue3-project</span>
<span class="hljs-comment"># âœ” Add TypeScript? â€¦ Yes</span>
<span class="hljs-comment"># âœ” Add JSX Support? â€¦ No</span>
<span class="hljs-comment"># âœ” Add Vue Router for Single Page Application development? â€¦ Yes</span>
<span class="hljs-comment"># âœ” Add Pinia for state management? â€¦ Yes</span>
<span class="hljs-comment"># âœ” Add Vitest for Unit testing? â€¦ No</span>
<span class="hljs-comment"># âœ” Add an End-to-End Testing Solution? â€º No</span>
<span class="hljs-comment"># âœ” Add ESLint for code quality? â€¦ Yes</span>
<span class="hljs-comment"># âœ” Add Prettier for code formatting? â€¦ Yes</span>

cd <span class="hljs-keyword">my</span>-vue3-project
npm install
</code></pre>
<h3 data-id="heading-2">2. å®‰è£…å¿…è¦ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… axiosã€mockjsã€less ç­‰</span>
npm install axios mockjs
npm install -D less @types/node
</code></pre>
<h3 data-id="heading-3">3. é¡¹ç›®ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ api/           <span class="hljs-comment"># API æ¥å£</span>
â”œâ”€â”€ assets/        <span class="hljs-comment"># é™æ€èµ„æº</span>
â”œâ”€â”€ components/    <span class="hljs-comment"># ç»„ä»¶</span>
â”œâ”€â”€ mock/          <span class="hljs-comment"># Mock æ•°æ®</span>
â”œâ”€â”€ router/        <span class="hljs-comment"># è·¯ç”±</span>
â”œâ”€â”€ stores/        <span class="hljs-comment"># çŠ¶æ€ç®¡ç†</span>
â”œâ”€â”€ types/         <span class="hljs-comment"># TypeScript ç±»å‹å®šä¹‰</span>
â”œâ”€â”€ utils/         <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
â”œâ”€â”€ views/         <span class="hljs-comment"># é¡µé¢ç»„ä»¶</span>
â”œâ”€â”€ App.vue
â””â”€â”€ main.ts
</code></pre>
<h3 data-id="heading-4">4. ç¯å¢ƒé…ç½®</h3>
<h4 data-id="heading-5">ç¯å¢ƒå˜é‡æ–‡ä»¶</h4>
<p><strong><code>.env.development</code></strong></p>
<p>env</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">VITE_APP_TITLE</span>=Development
<span class="hljs-attr">VITE_APP_BASE_API</span>=/api
<span class="hljs-attr">VITE_APP_MOCK</span>=<span class="hljs-literal">true</span>
</code></pre>
<p><strong><code>.env.sit</code></strong></p>
<p>env</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">VITE_APP_TITLE</span>=SIT
<span class="hljs-attr">VITE_APP_BASE_API</span>=/api
<span class="hljs-attr">VITE_APP_MOCK</span>=<span class="hljs-literal">false</span>
</code></pre>
<p><strong><code>.env.production</code></strong></p>
<p>env</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">VITE_APP_TITLE</span>=Production
<span class="hljs-attr">VITE_APP_BASE_API</span>=/api
<span class="hljs-attr">VITE_APP_MOCK</span>=<span class="hljs-literal">false</span>
</code></pre>
<h3 data-id="heading-6">5. Vite é…ç½®</h3>
<p><strong><code>vite.config.ts</code></strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { fileURLToPath, <span class="hljs-variable constant_">URL</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>
<span class="hljs-keyword">import</span> { defineConfig ,loadEnv} <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
<span class="hljs-keyword">import</span> vueDevTools <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-vue-devtools'</span>
<span class="hljs-comment">// https://vite.dev/config/</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(<span class="hljs-function">(<span class="hljs-params">{mode}</span>)=&gt;</span>{
  <span class="hljs-comment">// åŠ è½½ç¯å¢ƒå˜é‡</span>
  <span class="hljs-keyword">const</span> env = <span class="hljs-title function_">loadEnv</span>(mode, process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">''</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"env"</span>,env)

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">plugins</span>: [
      <span class="hljs-title function_">vue</span>(),
      <span class="hljs-title function_">vueDevTools</span>(),
    ],
    <span class="hljs-attr">resolve</span>: {
      <span class="hljs-attr">alias</span>: {
        <span class="hljs-string">'@'</span>: <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">'./src'</span>, <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))
      },
    },
    <span class="hljs-attr">css</span>: {
      <span class="hljs-attr">preprocessorOptions</span>: {
        <span class="hljs-attr">less</span>: {
          <span class="hljs-attr">javascriptEnabled</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯ç”¨ Less ä¸­çš„ JavaScript è¡¨è¾¾å¼</span>
          <span class="hljs-attr">additionalData</span>: <span class="hljs-string">`@import "@/styles/variables.less";`</span><span class="hljs-comment">// å…¨å±€æ³¨å…¥ Less å˜é‡æ–‡ä»¶</span>
        }
      }
    },
    <span class="hljs-attr">server</span>: {
      <span class="hljs-comment">// port: 3000,        // ç«¯å£å·</span>
      <span class="hljs-comment">// open: true,        // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨  [åœ¨package.json  dev --openä¹Ÿå¯ä»¥]</span>
      <span class="hljs-comment">// cors: true,        // å…è®¸è·¨åŸŸ</span>
      <span class="hljs-comment">// host: '0.0.0.0',   // å…è®¸å¤–éƒ¨è®¿é—®ï¼ˆå¯é€‰ï¼‰</span>
      <span class="hljs-attr">proxy</span>: {
        <span class="hljs-comment">// ä»£ç†æ¥å£å¦‚ä»¥â€œ/api  å¼€å¤´</span>
        [env.<span class="hljs-property">VITE_APP_BASE_API</span>]: {
          <span class="hljs-comment">//è·å–æ•°æ®çš„æœåŠ¡å™¨åœ°å€è®¾ç½®</span>
          <span class="hljs-attr">target</span>: <span class="hljs-string">'http://10.241.154.118:90'</span>,<span class="hljs-comment">// ä»£ç†äººçš„åœ°å€</span>
          <span class="hljs-comment">//éœ€è¦ä»£ç†è·¨åŸŸ</span>
          <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-comment">//è·¯å¾„é‡å†™</span>
          <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\/api/</span>, <span class="hljs-string">''</span>)
        }
        
      },
      <span class="hljs-comment">// çƒ­æ›´æ–°é…ç½®</span>
      <span class="hljs-attr">hmr</span>: {
        <span class="hljs-attr">overlay</span>: <span class="hljs-literal">true</span>
      }
    },
    <span class="hljs-attr">build</span>: {
      <span class="hljs-attr">target</span>: <span class="hljs-string">'es2015'</span>,<span class="hljs-comment">// æ„å»ºç›®æ ‡</span>
      <span class="hljs-attr">minify</span>: <span class="hljs-string">'terser'</span>,<span class="hljs-comment">// å‹ç¼©å·¥å…·</span>
      <span class="hljs-attr">terserOptions</span>: {
        <span class="hljs-attr">compress</span>: {
          <span class="hljs-attr">drop_console</span>: mode === <span class="hljs-string">'production'</span>, <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒç§»é™¤console</span>
          <span class="hljs-attr">drop_debugger</span>: mode === <span class="hljs-string">'production'</span>  <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒç§»é™¤debugger</span>
        }
      },
      <span class="hljs-attr">rollupOptions</span>: {  <span class="hljs-comment">// Rollupæ‰“åŒ…é…ç½®</span>
        <span class="hljs-attr">output</span>: {
          <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'js/[name]-[hash].js'</span>,  <span class="hljs-comment">// ä»£ç åˆ†å‰²æ–‡ä»¶å‘½å</span>
          <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'js/[name]-[hash].js'</span>,  <span class="hljs-comment">// å…¥å£æ–‡ä»¶å‘½å  </span>
          <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'[ext]/[name]-[hash].[ext]'</span>,<span class="hljs-comment">// é™æ€èµ„æºå‘½å</span>
          <span class="hljs-attr">manualChunks</span>: { <span class="hljs-comment">// æ‰‹åŠ¨ä»£ç åˆ†å‰²</span>
            <span class="hljs-attr">vue</span>: [<span class="hljs-string">'vue'</span>, <span class="hljs-string">'vue-router'</span>, <span class="hljs-string">'pinia'</span>] <span class="hljs-comment">// Vueç”Ÿæ€åº“å•ç‹¬æ‰“åŒ…</span>
          }
        }
      }
    }
  }
})

</code></pre>
<h4 data-id="heading-7">å®‰è£… terser å‹ç¼©å·¥å…·</h4>
<pre><code class="hljs">npm install -D terser
</code></pre>
<h4 data-id="heading-8"><strong>Vite ä¸­é…ç½® Less é¢„å¤„ç†å™¨</strong>Â </h4>
<p>è¿™æ˜¯Â <strong>Vite ä¸­é…ç½® Less é¢„å¤„ç†å™¨</strong>Â çš„é€‰é¡¹ï¼Œè®©æˆ‘ä¸ºä½ è¯¦ç»†è§£é‡Šï¼š</p>
<h5 data-id="heading-9">é…ç½®ä½œç”¨åˆ†æ</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">css:</span> {
  <span class="hljs-attr">preprocessorOptions:</span> {
    <span class="hljs-attr">less:</span> {
      <span class="hljs-attr">javascriptEnabled:</span> <span class="hljs-literal">true</span>,                    <span class="hljs-string">//</span> <span class="hljs-string">å¯ç”¨</span> <span class="hljs-string">Less</span> <span class="hljs-string">ä¸­çš„</span> <span class="hljs-string">JavaScript</span> <span class="hljs-string">è¡¨è¾¾å¼</span>
      <span class="hljs-attr">additionalData:</span> <span class="hljs-string">`@import</span> <span class="hljs-string">"@/styles/variables.less"</span><span class="hljs-string">;`</span>  <span class="hljs-string">//</span> <span class="hljs-string">å…¨å±€æ³¨å…¥</span> <span class="hljs-string">Less</span> <span class="hljs-string">å˜é‡æ–‡ä»¶</span>
    }
  }
}
</code></pre>
<h5 data-id="heading-10">è¯¦ç»†åŠŸèƒ½è¯´æ˜</h5>
<h6 data-id="heading-11">1.Â <code>javascriptEnabled: true</code></h6>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šå…è®¸åœ¨ Less æ–‡ä»¶ä¸­ä½¿ç”¨ JavaScript è¡¨è¾¾å¼</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å¯ä»¥åœ¨ Less ä¸­ä½¿ç”¨ JS è®¡ç®—</span>
<span class="hljs-variable">@color:</span> <span class="hljs-built_in">`Math.random() &gt; 0.5 ? 'red' : 'blue'`</span>;
<span class="hljs-variable">@width:</span> <span class="hljs-built_in">`100 + 50`</span>;
</code></pre>
<h6 data-id="heading-12">2.Â <code>additionalData: '@import "@/styles/variables.less";'</code></h6>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šåœ¨æ¯ä¸ª Less æ–‡ä»¶å¼€å¤´è‡ªåŠ¨æ³¨å…¥æŒ‡å®šçš„å˜é‡æ–‡ä»¶</li>
<li><strong>å¥½å¤„</strong>ï¼šæ— éœ€åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­æ‰‹åŠ¨å¯¼å…¥å˜é‡</li>
</ul>
<h5 data-id="heading-13">å®é™…ä½¿ç”¨æ•ˆæœ</h5>
<h4 data-id="heading-14">é…ç½®å‰ï¼š</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ¯ä¸ª .vue æ–‡ä»¶æˆ– .less æ–‡ä»¶éƒ½éœ€è¦æ‰‹åŠ¨å¯¼å…¥</span>
&lt;<span class="hljs-selector-tag">style</span> <span class="hljs-selector-tag">lang</span>="<span class="hljs-selector-tag">less</span>"&gt;
@<span class="hljs-selector-tag">import</span> "@/<span class="hljs-selector-tag">styles</span>/<span class="hljs-selector-tag">variables</span><span class="hljs-selector-class">.less</span>";

<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-variable">@primary-color</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-variable">@bg-color</span>;
}
&lt;/<span class="hljs-selector-tag">style</span>&gt;
</code></pre>
<h4 data-id="heading-15">é…ç½®åï¼š</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// æ— éœ€æ‰‹åŠ¨å¯¼å…¥ï¼Œå˜é‡è‡ªåŠ¨å¯ç”¨</span>
&lt;<span class="hljs-selector-tag">style</span> <span class="hljs-selector-tag">lang</span>="<span class="hljs-selector-tag">less</span>"&gt;
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-variable">@primary-color</span>;      <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨å…¨å±€å˜é‡</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-variable">@bg-color</span>;
}
&lt;/<span class="hljs-selector-tag">style</span>&gt;
</code></pre>
<h4 data-id="heading-16">å…¸å‹é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ variables.less        <span class="hljs-comment"># å…¨å±€å˜é‡å®šä¹‰</span>
â”‚   â””â”€â”€ mixins.less          <span class="hljs-comment"># å…¨å±€æ··åˆå™¨</span>
â”œâ”€â”€ components/
â”‚   â””â”€â”€ Button.vue           <span class="hljs-comment"># ç»„ä»¶ï¼Œè‡ªåŠ¨æ‹¥æœ‰å˜é‡è®¿é—®æƒ</span>
â””â”€â”€ App.vue
</code></pre>
<h5 data-id="heading-17"><code>variables.less</code>Â ç¤ºä¾‹å†…å®¹ï¼š</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// é¢œè‰²å˜é‡</span>
<span class="hljs-variable">@primary-color:</span> <span class="hljs-number">#1890ff</span>;
<span class="hljs-variable">@success-color:</span> <span class="hljs-number">#52c41a</span>;
<span class="hljs-variable">@warning-color:</span> <span class="hljs-number">#faad14</span>;
<span class="hljs-variable">@error-color:</span> <span class="hljs-number">#f5222d</span>;

<span class="hljs-comment">// å°ºå¯¸å˜é‡</span>
<span class="hljs-variable">@header-height:</span> <span class="hljs-number">64px</span>;
<span class="hljs-variable">@sidebar-width:</span> <span class="hljs-number">200px</span>;

<span class="hljs-comment">// å­—ä½“å˜é‡</span>
<span class="hljs-variable">@font-size-base:</span> <span class="hljs-number">14px</span>;
<span class="hljs-variable">@font-family:</span> <span class="hljs-string">'Arial'</span>, sans-serif;
</code></pre>
<h4 data-id="heading-18">å®Œæ•´é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// vite.config.js</span>
export <span class="hljs-keyword">default</span> <span class="hljs-title function_ invoke__">defineConfig</span>({
  <span class="hljs-attr">css</span>: {
    <span class="hljs-attr">preprocessorOptions</span>: {
      <span class="hljs-attr">less</span>: {
        <span class="hljs-attr">javascriptEnabled</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">additionalData</span>: `
          @import <span class="hljs-string">"@/styles/variables.less"</span>;
          @import <span class="hljs-string">"@/styles/mixins.less"</span>;
        `,
        <span class="hljs-attr">modifyVars</span>: {
          // ä¿®æ”¹å˜é‡å€¼ï¼ˆå¯é€‰ï¼‰
          <span class="hljs-string">'primary-color'</span>: <span class="hljs-string">'#1DA57A'</span>
        }
      }
    }
  },
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: path.<span class="hljs-title function_ invoke__">resolve</span>(__dirname, <span class="hljs-string">'src'</span>)  // ç¡®ä¿ @ åˆ«åæ­£ç¡®é…ç½®
    }
  }
})
</code></pre>
<h3 data-id="heading-19">ä¼˜åŠ¿æ€»ç»“</h3>
<ol>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šå…¨å±€å˜é‡å’Œæ··åˆå™¨</li>
<li><strong>ç»´æŠ¤æ–¹ä¾¿</strong>ï¼šç»Ÿä¸€ç®¡ç†æ ·å¼å˜é‡</li>
<li><strong>å¼€å‘æ•ˆç‡</strong>ï¼šæ— éœ€é‡å¤å¯¼å…¥</li>
<li><strong>ä¸»é¢˜åˆ‡æ¢</strong>ï¼šé€šè¿‡ä¿®æ”¹å˜é‡å®ç°æ•´ä½“ä¸»é¢˜å˜æ›´</li>
</ol>
<h3 data-id="heading-20">6. TypeScript é…ç½®</h3>
<p>ä¸Šé¢åˆå§‹åŒ–é¡¹ç›®æ—¶å€™é€‰æ‹©ts  é»˜è®¤ç”Ÿæˆå¥½çš„
<strong><code>tsconfig.json</code></strong></p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"references"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./tsconfig.node.json"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./tsconfig.app.json"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

</code></pre>
<h3 data-id="heading-21">7. Axios é…ç½®</h3>
<p><strong><code>src/utils/request.ts</code></strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">AxiosInstance</span>, <span class="hljs-title class_">AxiosRequestConfig</span>, <span class="hljs-title class_">AxiosResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElMessage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">RequestOptions</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AxiosRequestConfig</span> {
  loading?: <span class="hljs-built_in">boolean</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Request</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">instance</span>: <span class="hljs-title class_">AxiosInstance</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">baseURL: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span> = axios.<span class="hljs-title function_">create</span>({
      baseURL,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      }
    })

    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setupInterceptors</span>()
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">setupInterceptors</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è¯·æ±‚æ‹¦æˆªå™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
      <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
        <span class="hljs-comment">// æ·»åŠ  token ç­‰</span>
        <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>)
        <span class="hljs-keyword">if</span> (token) {
          config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span> = <span class="hljs-string">`Bearer <span class="hljs-subst">${token}</span>`</span>
        }
        <span class="hljs-keyword">return</span> config
      },
      <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
      }
    )

    <span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
      <span class="hljs-function">(<span class="hljs-params">response: AxiosResponse</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> { data } = response
        <span class="hljs-comment">// æ ¹æ®åç«¯æ¥å£è§„èŒƒè°ƒæ•´</span>
        <span class="hljs-keyword">if</span> (data.<span class="hljs-property">code</span> === <span class="hljs-number">200</span>) {
          <span class="hljs-keyword">return</span> data
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(data.<span class="hljs-property">message</span> || <span class="hljs-string">'è¯·æ±‚å¤±è´¥'</span>)
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(data.<span class="hljs-property">message</span> || <span class="hljs-string">'è¯·æ±‚å¤±è´¥'</span>))
        }
      },
      <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-keyword">let</span> message = <span class="hljs-string">'è¯·æ±‚å¤±è´¥'</span>
        <span class="hljs-keyword">if</span> (error.<span class="hljs-property">response</span>?.<span class="hljs-property">status</span>) {
          <span class="hljs-keyword">switch</span> (error.<span class="hljs-property">response</span>.<span class="hljs-property">status</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
              message = <span class="hljs-string">'æœªæˆæƒ'</span>
              <span class="hljs-comment">// è·³è½¬åˆ°ç™»å½•é¡µ</span>
              <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:
              message = <span class="hljs-string">'æ‹’ç»è®¿é—®'</span>
              <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:
              message = <span class="hljs-string">'è¯·æ±‚åœ°å€é”™è¯¯'</span>
              <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-number">500</span>:
              message = <span class="hljs-string">'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'</span>
              <span class="hljs-keyword">break</span>
            <span class="hljs-attr">default</span>:
              message = <span class="hljs-string">'ç½‘ç»œè¿æ¥é”™è¯¯'</span>
          }
        }
        <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(message)
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
      }
    )
  }

  <span class="hljs-keyword">public</span> request&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">config</span>: <span class="hljs-title class_">RequestOptions</span>): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-title function_">request</span>(config)
  }

  <span class="hljs-keyword">public</span> get&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, config?: <span class="hljs-title class_">RequestOptions</span>): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">request</span>({ ...config, <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>, url })
  }

  <span class="hljs-keyword">public</span> post&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, data?: <span class="hljs-built_in">any</span>, config?: <span class="hljs-title class_">RequestOptions</span>): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">request</span>({ ...config, <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, url, data })
  }

  <span class="hljs-keyword">public</span> put&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, data?: <span class="hljs-built_in">any</span>, config?: <span class="hljs-title class_">RequestOptions</span>): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">request</span>({ ...config, <span class="hljs-attr">method</span>: <span class="hljs-string">'PUT'</span>, url, data })
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">delete</span>&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, config?: <span class="hljs-title class_">RequestOptions</span>): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">request</span>({ ...config, <span class="hljs-attr">method</span>: <span class="hljs-string">'DELETE'</span>, url })
  }
}

<span class="hljs-comment">// åˆ›å»ºè¯·æ±‚å®ä¾‹</span>
<span class="hljs-keyword">const</span> baseURL = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_APP_BASE_API</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> http = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>(baseURL)
</code></pre>
<h3 data-id="heading-22">8. Mock é…ç½®</h3>
<p><strong><code>src/mock/index.ts</code></strong></p>
<p>typescript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Mock</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'mockjs'</span>
<span class="hljs-keyword">import</span> user <span class="hljs-keyword">from</span> <span class="hljs-string">'./user'</span>

<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦å¼€å¯ mock</span>
<span class="hljs-keyword">const</span> isMock = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_APP_MOCK</span> === <span class="hljs-string">'true'</span>

<span class="hljs-keyword">if</span> (isMock) {
  <span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">setup</span>({
    <span class="hljs-attr">timeout</span>: <span class="hljs-string">'200-600'</span>
  })

  <span class="hljs-comment">// ç”¨æˆ·ç›¸å…³æ¥å£</span>
  <span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-comment">//api/user/login/, 'post', user.login)</span>
  <span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-comment">//api/user/info/, 'get', user.getUserInfo)</span>
  <span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-comment">//api/user/list/, 'get', user.getUserList)</span>
}
</code></pre>
<p><strong><code>src/mock/user.ts</code></strong></p>
<p>typescript</p>
<pre><code class="hljs language-css" lang="css">import { MockMethod } <span class="hljs-selector-tag">from</span> 'vite-plugin-mock'

export default {
  login: () =&gt; {
    return {
      <span class="hljs-selector-tag">code</span>: <span class="hljs-number">200</span>,
      message: <span class="hljs-string">'success'</span>,
      data: {
        token: Mock.Random.<span class="hljs-built_in">string</span>(<span class="hljs-number">32</span>),
        userInfo: {
          id: <span class="hljs-number">1</span>,
          username: <span class="hljs-string">'admin'</span>,
          nickname: <span class="hljs-string">'ç®¡ç†å‘˜'</span>,
          avatar: Mock.Random.<span class="hljs-built_in">image</span>(<span class="hljs-string">'100x100'</span>)
        }
      }
    }
  },

  getUserInfo: () =&gt; {
    return {
      <span class="hljs-selector-tag">code</span>: <span class="hljs-number">200</span>,
      message: <span class="hljs-string">'success'</span>,
      data: {
        id: <span class="hljs-number">1</span>,
        username: <span class="hljs-string">'admin'</span>,
        nickname: <span class="hljs-string">'ç®¡ç†å‘˜'</span>,
        avatar: Mock.Random.<span class="hljs-built_in">image</span>(<span class="hljs-string">'100x100'</span>),
        roles: [<span class="hljs-string">'admin'</span>]
      }
    }
  },

  getUserList: () =&gt; {
    return {
      <span class="hljs-selector-tag">code</span>: <span class="hljs-number">200</span>,
      message: <span class="hljs-string">'success'</span>,
      data: {
        total: <span class="hljs-number">100</span>,
        list: Array.<span class="hljs-built_in">from</span>({ length: <span class="hljs-number">10</span> }, (_, index) =&gt; ({
          id: index + <span class="hljs-number">1</span>,
          username: Mock.Random.<span class="hljs-built_in">string</span>(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>),
          nickname: Mock.Random.<span class="hljs-built_in">cname</span>(),
          email: Mock.Random.<span class="hljs-built_in">email</span>(),
          phone: Mock.Random.<span class="hljs-built_in">string</span>(<span class="hljs-string">'number'</span>, <span class="hljs-number">11</span>),
          createTime: Mock.Random.<span class="hljs-built_in">datetime</span>()
        }))
      }
    }
  }
} as MockMethod
</code></pre>
<h3 data-id="heading-23">9. Less æ ·å¼é…ç½®</h3>
<p><strong><code>src/styles/variables.less</code></strong></p>
<p>less</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// é¢œè‰²å˜é‡</span>
<span class="hljs-variable">@primary-color:</span> <span class="hljs-number">#1890ff</span>;
<span class="hljs-variable">@success-color:</span> <span class="hljs-number">#52c41a</span>;
<span class="hljs-variable">@warning-color:</span> <span class="hljs-number">#faad14</span>;
<span class="hljs-variable">@error-color:</span> <span class="hljs-number">#f5222d</span>;

<span class="hljs-comment">// å­—ä½“</span>
<span class="hljs-variable">@font-size-base:</span> <span class="hljs-number">14px</span>;
<span class="hljs-variable">@font-family:</span> -apple-system, BlinkMacSystemFont, <span class="hljs-string">'Segoe UI'</span>, Roboto, <span class="hljs-string">'Helvetica Neue'</span>, Arial;

<span class="hljs-comment">// å¸ƒå±€</span>
<span class="hljs-variable">@layout-header-height:</span> <span class="hljs-number">64px</span>;
<span class="hljs-variable">@layout-sider-width:</span> <span class="hljs-number">200px</span>;

<span class="hljs-comment">// è¾¹æ¡†</span>
<span class="hljs-variable">@border-radius-base:</span> <span class="hljs-number">4px</span>;
<span class="hljs-variable">@border-color-base:</span> <span class="hljs-number">#d9d9d9</span>;
</code></pre>
<p><strong><code>src/styles/global.less</code></strong></p>
<p>less</p>
<pre><code class="hljs language-less" lang="less">* {
  <span class="hljs-attribute">box-sizing</span>: border-box;
}

<span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">font-family</span>: <span class="hljs-variable">@font-family</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-variable">@font-size-base</span>;
}

<span class="hljs-selector-id">#app</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}

<span class="hljs-comment">// é€šç”¨æ ·å¼</span>
<span class="hljs-selector-class">.text-center</span> {
  <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-class">.mt-20</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.mb-20</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
}
</code></pre>
<h3 data-id="heading-24">10. API æ¥å£ç®¡ç†</h3>
<p><strong><code>src/api/user.ts</code></strong></p>
<p>typescript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/request'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">LoginParams</span> {
  <span class="hljs-attr">username</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserInfo</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">username</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">nickname</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">avatar</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">roles</span>: <span class="hljs-built_in">string</span>[]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserListParams</span> {
  <span class="hljs-attr">page</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span>
  keyword?: <span class="hljs-built_in">string</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> userApi = {
  <span class="hljs-comment">// ç™»å½•</span>
  <span class="hljs-attr">login</span>: <span class="hljs-function">(<span class="hljs-params">data: LoginParams</span>) =&gt;</span> http.<span class="hljs-property">post</span>&lt;{ <span class="hljs-attr">token</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">userInfo</span>: <span class="hljs-title class_">UserInfo</span> }&gt;(<span class="hljs-string">'/user/login'</span>, data),
  
  <span class="hljs-comment">// è·å–ç”¨æˆ·ä¿¡æ¯</span>
  <span class="hljs-attr">getUserInfo</span>: <span class="hljs-function">() =&gt;</span> http.<span class="hljs-property">get</span>&lt;<span class="hljs-title class_">UserInfo</span>&gt;(<span class="hljs-string">'/user/info'</span>),
  
  <span class="hljs-comment">// è·å–ç”¨æˆ·åˆ—è¡¨</span>
  <span class="hljs-attr">getUserList</span>: <span class="hljs-function">(<span class="hljs-params">params: UserListParams</span>) =&gt;</span> http.<span class="hljs-property">get</span>&lt;{ <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">list</span>: <span class="hljs-title class_">UserInfo</span>[] }&gt;(<span class="hljs-string">'/user/list'</span>, { params })
}
</code></pre>
<h3 data-id="heading-25">11. ç±»å‹å®šä¹‰</h3>
<p><strong><code>src/types/api.ts</code></strong></p>
<p>typescript</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ApiResponse</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-attr">data</span>: T
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PageParams</span> {
  <span class="hljs-attr">page</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PageResponse</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span>
  <span class="hljs-attr">list</span>: T[]
}
</code></pre>
<h3 data-id="heading-26">12. ä¸»å…¥å£æ–‡ä»¶</h3>
<p><strong><code>src/main.ts</code></strong></p>
<p>typescript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementPlus</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'element-plus/dist/index.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>

<span class="hljs-comment">// å¼•å…¥ mock</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./mock'</span>

<span class="hljs-comment">// å¼•å…¥å…¨å±€æ ·å¼</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./styles/global.less'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())
app.<span class="hljs-title function_">use</span>(router)
app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>)

app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<h3 data-id="heading-27">13. ç¤ºä¾‹é¡µé¢ç»„ä»¶</h3>
<p><strong><code>src/views/Home.vue</code></strong></p>
<p>vue</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"home-container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-center"</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleLogin"</span>&gt;</span>æ¨¡æ‹Ÿç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"getUserList"</span>&gt;</span>è·å–ç”¨æˆ·åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"userList"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-20"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ID"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"80"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç”¨æˆ·å"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"nickname"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"æ˜µç§°"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"é‚®ç®±"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { userApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/user'</span>
<span class="hljs-keyword">import</span> type { <span class="hljs-title class_">UserInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/user'</span>

<span class="hljs-keyword">const</span> title = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'Vue3 + TypeScript é¡¹ç›®'</span>)
<span class="hljs-keyword">const</span> userList = ref&lt;<span class="hljs-title class_">UserInfo</span>[]&gt;([])

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleLogin</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> userApi.<span class="hljs-title function_">login</span>({
      <span class="hljs-attr">username</span>: <span class="hljs-string">'admin'</span>,
      <span class="hljs-attr">password</span>: <span class="hljs-string">'123456'</span>
    })
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç™»å½•æˆåŠŸ:'</span>, result)
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç™»å½•å¤±è´¥:'</span>, error)
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">getUserList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> userApi.<span class="hljs-title function_">getUserList</span>({
      <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">size</span>: <span class="hljs-number">10</span>
    })
    userList.<span class="hljs-property">value</span> = result.<span class="hljs-property">list</span>
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥:'</span>, error)
  }
}

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">getUserList</span>()
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"less"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.home-container</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  
  <span class="hljs-selector-tag">h1</span> {
    <span class="hljs-attribute">color</span>: @primary-color;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h3 data-id="heading-28">14. Package.json è„šæœ¬é…ç½®</h3>
<p><strong><code>package.json</code></strong></p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dev:sit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite --mode sit"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-tsc &amp;&amp; vite build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build:sit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-tsc &amp;&amp; vite build --mode sit"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build:prod"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue-tsc &amp;&amp; vite build --mode production"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite preview"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-29">15. ä½¿ç”¨è¯´æ˜</h3>
<ol>
<li>
<p><strong>å¼€å‘ç¯å¢ƒè¿è¡Œ</strong>ï¼š</p>
<p>bash</p>
<pre><code class="hljs language-arduino" lang="arduino">npm run dev
</code></pre>
</li>
<li>
<p><strong>SITç¯å¢ƒæ„å»º</strong>ï¼š</p>
<p>bash</p>
<pre><code class="hljs language-arduino" lang="arduino">npm run build:sit
</code></pre>
</li>
<li>
<p><strong>ç”Ÿäº§ç¯å¢ƒæ„å»º</strong>ï¼š</p>
<p>bash</p>
<pre><code class="hljs language-arduino" lang="arduino">npm run build:prod
</code></pre>
</li>
</ol>
<h3 data-id="heading-30">ä¸»è¦ç‰¹æ€§</h3>
<ul>
<li>âœ… Vue3 + TypeScript</li>
<li>âœ… ç¯å¢ƒé…ç½®ï¼ˆdevelopment/sit/productionï¼‰</li>
<li>âœ… Proxy ä»£ç†é…ç½®</li>
<li>âœ… Axios å°è£…å’Œæ‹¦æˆªå™¨</li>
<li>âœ… Mock æ•°æ®æ¨¡æ‹Ÿ</li>
<li>âœ… Less é¢„å¤„ç†å™¨</li>
<li>âœ… ä»£ç å‹ç¼©ä¼˜åŒ–</li>
<li>âœ… è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†</li>
<li>âœ… Element Plus UI ç»„ä»¶åº“</li>
<li>âœ… ç±»å‹å®‰å…¨</li>
</ul>
<p>è¿™ä¸ªæ¡†æ¶æä¾›äº†å®Œæ•´çš„å¼€å‘ç¯å¢ƒé…ç½®ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è¿›ä¸€æ­¥è°ƒæ•´å’Œæ‰©å±•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šuni-appè·¨å¹³å°å¼€å‘å®Œå…¨æŒ‡å—ã€‹- 07 - æ•°æ®ç»‘å®šä¸äº‹ä»¶å¤„ç†]]></title>    <link>https://juejin.cn/post/7572413448941158427</link>    <guid>https://juejin.cn/post/7572413448941158427</guid>    <pubDate>2025-11-14T09:38:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572413448941158427" data-draft-id="7572095192419057691" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šuni-appè·¨å¹³å°å¼€å‘å®Œå…¨æŒ‡å—ã€‹- 07 - æ•°æ®ç»‘å®šä¸äº‹ä»¶å¤„ç†"/> <meta itemprop="keywords" content="uni-app,Vue.js,iOS"/> <meta itemprop="datePublished" content="2025-11-14T09:38:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QuantumLeapä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/1767603104125197"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šuni-appè·¨å¹³å°å¼€å‘å®Œå…¨æŒ‡å—ã€‹- 07 - æ•°æ®ç»‘å®šä¸äº‹ä»¶å¤„ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1767603104125197/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QuantumLeapä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-14T09:38:30.000Z" title="Fri Nov 14 2025 09:38:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¼•è¨€ï¼šåœ¨ä¸Šä¸€ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†é¡µé¢è·¯ç”±ä¸å¯¼èˆªçš„ç›¸å…³çŸ¥è¯†ç‚¹ã€‚ä»Šå¤©æˆ‘ä»¬è®¨è®ºçš„æ˜¯<strong>æ•°æ®ç»‘å®šä¸äº‹ä»¶å¤„ç†</strong>ï¼Œæ·±å…¥ç ”ç©¶æ•°æ®æ˜¯å¦‚ä½•æµåŠ¨ã€ç”¨æˆ·äº¤äº’å¦‚ä½•å“åº”çš„é—®é¢˜ã€‚æˆ‘ä»¬å¹³æ—¶ç”¨çš„appæ¯”å¦‚è¯´è¾“å…¥æ¡†ä¸­æ‰“å­—ï¼Œä¸‹æ–¹å®æ—¶æ˜¾ç¤ºè¾“å…¥å†…å®¹ã€‚è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„äº¤äº’èƒŒåï¼Œéšè—ç€å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒæ€æƒ³â€”â€”<strong>æ•°æ®é©±åŠ¨è§†å›¾</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-0">å¯¹æ¯”ï¼šä¼ ç»ŸDOMæ“ä½œ vs æ•°æ®é©±åŠ¨</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[ä¼ ç»ŸDOMæ“ä½œ] --&gt; B[æ‰‹åŠ¨é€‰æ‹©å…ƒç´ ]
    B --&gt; C[ç›‘å¬äº‹ä»¶]
    C --&gt; D[ç›´æ¥ä¿®æ”¹DOM]
    
    E[æ•°æ®é©±åŠ¨æ¨¡å¼] --&gt; F[ä¿®æ”¹æ•°æ®]
    F --&gt; G[æ¡†æ¶è‡ªåŠ¨æ›´æ–°DOM]
    G --&gt; H[è§†å›¾åŒæ­¥æ›´æ–°]
</code></pre>
<p>åœ¨ä¼ ç»Ÿå¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼</span>
<span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myInput'</span>);
<span class="hljs-keyword">const</span> display = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'display'</span>);

input.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-comment">// æ‰‹åŠ¨æ›´æ–°DOM</span>
    display.<span class="hljs-property">textContent</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>; 
});
</code></pre>
<p>è€Œåœ¨ uni-app ä¸­ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ message }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// åªéœ€å…³æ³¨æ•°æ®ï¼ŒDOMè‡ªåŠ¨æ›´æ–°</span>
      <span class="hljs-attr">message</span>: <span class="hljs-string">''</span> 
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¿™ç§æ¨¡å¼çš„è½¬å˜ï¼Œæ­£æ˜¯ç°ä»£å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒçªç ´ã€‚ä¸‹é¢è®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶å…¶å®ç°åŸç†ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€å“åº”å¼æ•°æ®ç»‘å®š</h2>
<h3 data-id="heading-2">1.1 æ•°æ®åŠ«æŒ</h3>
<p>Vue 2.x ä½¿ç”¨ <code>Object.defineProperty</code> å®šä¹‰å¯¹è±¡å±æ€§å®ç°æ•°æ®å“åº”å¼ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥åŠ æ·±ç†è§£è¿™ä¸ªæœºåˆ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å“åº”å¼åŸç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">defineReactive</span>(<span class="hljs-params">obj, key, val</span>) {
  <span class="hljs-comment">// æ¯ä¸ªå±æ€§éƒ½æœ‰è‡ªå·±çš„ä¾èµ–æ”¶é›†å™¨</span>
  <span class="hljs-keyword">const</span> dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dep</span>()
  
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, key, {
    <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactiveGetter</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯»å–å±æ€§ <span class="hljs-subst">${key}</span>: <span class="hljs-subst">${val}</span>`</span>)
      <span class="hljs-comment">// ä¾èµ–æ”¶é›†ï¼šè®°å½•å½“å‰è°åœ¨è¯»å–è¿™ä¸ªå±æ€§</span>
      dep.<span class="hljs-title function_">depend</span>()
      <span class="hljs-keyword">return</span> val
    },
    <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactiveSetter</span>(<span class="hljs-params">newVal</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è®¾ç½®å±æ€§ <span class="hljs-subst">${key}</span>: <span class="hljs-subst">${newVal}</span>`</span>)
      <span class="hljs-keyword">if</span> (newVal === val) <span class="hljs-keyword">return</span>
      val = newVal
      <span class="hljs-comment">// é€šçŸ¥æ›´æ–°ï¼šå€¼æ”¹å˜æ—¶é€šçŸ¥æ‰€æœ‰ä¾èµ–è€…</span>
      dep.<span class="hljs-title function_">notify</span>()
    }
  })
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> data = {}
<span class="hljs-title function_">defineReactive</span>(data, <span class="hljs-string">'message'</span>, <span class="hljs-string">'Hello'</span>)
data.<span class="hljs-property">message</span> = <span class="hljs-string">'World'</span>    <span class="hljs-comment">// æ§åˆ¶å°è¾“å‡ºï¼šè®¾ç½®å±æ€§ message: World</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-property">message</span>) <span class="hljs-comment">// æ§åˆ¶å°è¾“å‡ºï¼šè¯»å–å±æ€§ message: World</span>
</code></pre>
<h3 data-id="heading-3">1.2 å®Œæ•´çš„å“åº”å¼ç³»ç»Ÿæ¶æ„</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ•°æ®å˜æ›´] --&gt; B[Setter è§¦å‘]
    B --&gt; C[é€šçŸ¥ Dep]
    C --&gt; D[Watcher æ›´æ–°]
    D --&gt; E[ç»„ä»¶é‡æ–°æ¸²æŸ“]
    E --&gt; F[è™šæ‹ŸDOM Diff]
    F --&gt; G[DOM æ›´æ–°]
    
    H[æ¨¡æ¿ç¼–è¯‘] --&gt; I[æ”¶é›†ä¾èµ–]
    I --&gt; J[å»ºç«‹æ•°æ®ä¸è§†å›¾å…³è”]
</code></pre>
<p><strong>åŸç†è¯´æ˜</strong></p>
<ul>
<li>å½“å¯¹å“åº”å¼æ•°æ®è¿›è¡Œèµ‹å€¼æ“ä½œæ—¶ï¼Œä¼šè§¦å‘é€šè¿‡Object.definePropertyå®šä¹‰çš„setteræ–¹æ³•ã€‚</li>
<li>setteré¦–å…ˆæ¯”è¾ƒæ–°æ—§å€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒåˆ™ç›´æ¥è¿”å›ï¼Œé¿å…ä¸å¿…è¦çš„æ›´æ–°ã€‚</li>
<li>å¦‚æœå€¼å‘ç”Ÿå˜åŒ–ï¼Œåˆ™æ›´æ–°æ•°æ®ï¼Œå¹¶é€šè¿‡ä¾èµ–æ”¶é›†å™¨(Dep)é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…(Watcher)è¿›è¡Œæ›´æ–°ã€‚</li>
<li>è¿™ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œä½†å®é™…çš„DOMæ›´æ–°æ˜¯å¼‚æ­¥çš„ï¼Œé€šè¿‡é˜Ÿåˆ—è¿›è¡Œæ‰¹é‡å¤„ç†ä»¥æé«˜æ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-4">1.3 <code>v-model</code> çš„åŒå‘ç»‘å®šåŸç†</h3>
<p><code>v-model</code> ä¸æ˜¯é­”æ³•ï¼Œè€Œæ˜¯è¯­æ³•ç³–ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¿™è¡Œä»£ç ï¼š --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"username"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ç­‰ä»·äºï¼š --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
  <span class="hljs-attr">:value</span>=<span class="hljs-string">"username"</span> 
  @<span class="hljs-attr">input</span>=<span class="hljs-string">"username = $event.target.value"</span>
&gt;</span>
</code></pre>
<p><strong>åŸç†åˆ†è§£ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant U as ç”¨æˆ·
    participant I as Inputå…ƒç´ 
    participant V as Vueå®ä¾‹
    participant D as DOMè§†å›¾
    
    U-&gt;&gt;I: è¾“å…¥æ–‡å­—
    I-&gt;&gt;V: è§¦å‘inputäº‹ä»¶ï¼Œæºå¸¦æ–°å€¼
    V-&gt;&gt;V: æ›´æ–°dataä¸­çš„å“åº”å¼æ•°æ®
    V-&gt;&gt;D: è§¦å‘é‡æ–°æ¸²æŸ“
    D-&gt;&gt;I: æ›´æ–°inputçš„valueå±æ€§
</code></pre>
<h3 data-id="heading-5">1.4 ä¸åŒè¡¨å•å…ƒç´ çš„åŒå‘ç»‘å®š</h3>
<h4 data-id="heading-6">æ–‡æœ¬è¾“å…¥æ¡†</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>æ–‡æœ¬è¾“å…¥æ¡†ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
      <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"textValue"</span> 
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥æ–‡æœ¬"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
    /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"display"</span>&gt;</span>å®æ—¶æ˜¾ç¤º: {{ textValue }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- åŸç†å±•ç¤º --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"principle"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"principle-title"</span>&gt;</span>å®ç°åŸç†ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"textValue"</span> 
        @<span class="hljs-attr">input</span>=<span class="hljs-string">"textValue = $event.detail.value"</span>
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æ‰‹åŠ¨å®ç°çš„v-model"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">textValue</span>: <span class="hljs-string">''</span>
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.example</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2</span>rpx solid <span class="hljs-number">#eee</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10</span>rpx;
}
<span class="hljs-selector-class">.title</span> {
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.input</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#ccc</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.display</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#007AFF</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
}
<span class="hljs-selector-class">.principle</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f9f9f9</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30</span>rpx;
}
<span class="hljs-selector-class">.principle-title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15</span>rpx;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h4 data-id="heading-7">å•é€‰æŒ‰é’®ç»„</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>å•é€‰æŒ‰é’®ç»„ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">radio-group</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"onGenderChange"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-item"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span> <span class="hljs-attr">:checked</span>=<span class="hljs-string">"gender === 'male'"</span> /&gt;</span> ç”·
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-item"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span> <span class="hljs-attr">:checked</span>=<span class="hljs-string">"gender === 'female'"</span> /&gt;</span> å¥³
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">radio-group</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"display"</span>&gt;</span>é€‰ä¸­: {{ gender }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä½¿ç”¨v-model --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-top: 40rpx;"</span>&gt;</span>v-modelç®€åŒ–ç‰ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">radio-group</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"simpleGender"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-item"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span> /&gt;</span> ç”·
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-item"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span> /&gt;</span> å¥³
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">radio-group</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"display"</span>&gt;</span>é€‰ä¸­: {{ simpleGender }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">gender</span>: <span class="hljs-string">'male'</span>,
      <span class="hljs-attr">simpleGender</span>: <span class="hljs-string">'male'</span>
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">onGenderChange</span>(<span class="hljs-params">e</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">gender</span> = e.<span class="hljs-property">detail</span>.<span class="hljs-property">value</span>
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.radio-group</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">40</span>rpx;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20</span>rpx <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.radio-item</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10</span>rpx;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h4 data-id="heading-8">å¤é€‰æ¡†æ•°ç»„</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>å¤é€‰æ¡†æ•°ç»„ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> 
        <span class="hljs-attr">v-for</span>=<span class="hljs-string">"hobby in hobbyOptions"</span> 
        <span class="hljs-attr">:key</span>=<span class="hljs-string">"hobby.value"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox-item"</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> 
          <span class="hljs-attr">:value</span>=<span class="hljs-string">"hobby.value"</span> 
          <span class="hljs-attr">:checked</span>=<span class="hljs-string">"selectedHobbies.includes(hobby.value)"</span>
          @<span class="hljs-attr">change</span>=<span class="hljs-string">"onHobbyChange($event, hobby.value)"</span>
        /&gt;</span> 
        {{ hobby.name }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"display"</span>&gt;</span>é€‰ä¸­: {{ selectedHobbies }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- v-modelç®€åŒ–ç‰ˆ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-top: 40rpx;"</span>&gt;</span>v-modelç®€åŒ–ç‰ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox-group"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> 
        <span class="hljs-attr">v-for</span>=<span class="hljs-string">"hobby in hobbyOptions"</span> 
        <span class="hljs-attr">:key</span>=<span class="hljs-string">"hobby.value"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox-item"</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> 
          <span class="hljs-attr">:value</span>=<span class="hljs-string">"hobby.value"</span> 
          <span class="hljs-attr">v-model</span>=<span class="hljs-string">"simpleHobbies"</span>
        /&gt;</span> 
        {{ hobby.name }}
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"display"</span>&gt;</span>é€‰ä¸­: {{ simpleHobbies }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">hobbyOptions</span>: [
        { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç¯®çƒ'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'basketball'</span> },
        { <span class="hljs-attr">name</span>: <span class="hljs-string">'é˜…è¯»'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'reading'</span> },
        { <span class="hljs-attr">name</span>: <span class="hljs-string">'éŸ³ä¹'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'music'</span> },
        { <span class="hljs-attr">name</span>: <span class="hljs-string">'æ—…è¡Œ'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'travel'</span> }
      ],
      <span class="hljs-attr">selectedHobbies</span>: [<span class="hljs-string">'basketball'</span>],
      <span class="hljs-attr">simpleHobbies</span>: [<span class="hljs-string">'basketball'</span>]
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">onHobbyChange</span>(<span class="hljs-params">event, value</span>) {
      <span class="hljs-keyword">const</span> checked = event.<span class="hljs-property">detail</span>.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>
      <span class="hljs-keyword">if</span> (checked) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedHobbies</span>.<span class="hljs-title function_">includes</span>(value)) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedHobbies</span>.<span class="hljs-title function_">push</span>(value)
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedHobbies</span>.<span class="hljs-title function_">indexOf</span>(value)
        <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedHobbies</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>)
        }
      }
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.checkbox-group</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.checkbox-item</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10</span>rpx;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">äºŒã€äº‹ä»¶å¤„ç†</h2>
<h3 data-id="heading-10">2.1 äº‹ä»¶æµï¼šä»ç‚¹å‡»åˆ°å“åº”</h3>
<p>æµè§ˆå™¨ä¸­çš„äº‹ä»¶æµåŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[äº‹ä»¶å‘ç”Ÿ] --&gt; B[æ•è·é˜¶æ®µ Capture Phase]
    B --&gt; C[ç›®æ ‡é˜¶æ®µ Target Phase]
    C --&gt; D[å†’æ³¡é˜¶æ®µ Bubble Phase]
    
    B --&gt; E[ä»windowå‘ä¸‹ä¼ é€’åˆ°ç›®æ ‡]
    C --&gt; F[åœ¨ç›®æ ‡å…ƒç´ ä¸Šè§¦å‘]
    D --&gt; G[ä»ç›®æ ‡å‘ä¸Šå†’æ³¡åˆ°window]
</code></pre>
<h5 data-id="heading-11">è§£é‡Šè¯´æ˜ï¼š</h5>
<p><strong>ç¬¬ä¸€é˜¶æ®µï¼š æ•è·é˜¶æ®µ</strong>ï¼ˆäº‹ä»¶ä»windowå‘ä¸‹ä¼ é€’åˆ°ç›®æ ‡å…ƒç´ ï¼‰
ä¼ é€’è·¯å¾„ï¼šWindow â†’ Document â†’ HTML â†’ Body â†’ çˆ¶å…ƒç´  â†’ ç›®æ ‡å…ƒç´ ï¼›
ç›‘å¬æ–¹å¼ï¼šaddEventListener(event, handler, true)ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ä¸ºtrueï¼›</p>
<p><strong>ç¬¬äºŒé˜¶æ®µï¼š ç›®æ ‡é˜¶æ®µ</strong>ï¼ˆäº‹ä»¶åœ¨ç›®æ ‡å…ƒç´ ä¸Šè§¦å‘å¤„ç†ç¨‹åºï¼‰
äº‹ä»¶å¤„ç†ï¼šåœ¨ç›®æ ‡å…ƒç´ ä¸Šæ‰§è¡Œç»‘å®šçš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ— è®ºæ˜¯å¦ä½¿ç”¨æ•è·æ¨¡å¼ï¼›
æ‰§è¡Œé¡ºåºï¼šæŒ‰ç…§äº‹ä»¶ç›‘å¬å™¨çš„æ³¨å†Œé¡ºåºæ‰§è¡Œï¼Œä¸æ•è·/å†’æ³¡è®¾ç½®æ— å…³ï¼›</p>
<p><strong>ç¬¬ä¸‰é˜¶æ®µï¼š å†’æ³¡é˜¶æ®µ</strong>ï¼ˆäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å‘ä¸Šå†’æ³¡åˆ°windowï¼‰
ä¼ é€’è·¯å¾„ï¼šç›®æ ‡å…ƒç´  â†’ çˆ¶å…ƒç´  â†’ Body â†’ HTML â†’ Document â†’ Windowï¼›
é»˜è®¤è¡Œä¸ºï¼šå¤§å¤šæ•°äº‹ä»¶éƒ½ä¼šå†’æ³¡ï¼Œä½†focusã€blurç­‰äº‹ä»¶ä¸ä¼šå†’æ³¡ï¼›</p>
<h3 data-id="heading-12">2.2 äº‹ä»¶ä¿®é¥°ç¬¦åŸç†è¯¦è§£</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/404a409910994ea29370983a368ad701~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUXVhbnR1bUxlYXDkuLY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763717910&amp;x-signature=Vz5uSXOxpRW7P%2BnOJuGa%2BSup0C4%3D" alt="äº‹ä»¶ä¿®é¥°ç¬¦" loading="lazy"/></p>
<h4 data-id="heading-13"><code>.stop</code> ä¿®é¥°ç¬¦åŸç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// .stop ä¿®é¥°ç¬¦çš„å®ç°åŸç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-comment">// æ²¡æœ‰.stopæ—¶ï¼Œäº‹ä»¶æ­£å¸¸å†’æ³¡</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŒ‰é’®è¢«ç‚¹å‡»'</span>)
  <span class="hljs-comment">// äº‹ä»¶ä¼šç»§ç»­å‘ä¸Šå†’æ³¡ï¼Œè§¦å‘çˆ¶å…ƒç´ çš„äº‹ä»¶å¤„ç†å‡½æ•°</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClickWithStop</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŒ‰é’®è¢«ç‚¹å‡»ï¼Œä½†é˜»æ­¢äº†å†’æ³¡'</span>)
  event.<span class="hljs-title function_">stopPropagation</span>() 
  <span class="hljs-comment">// äº‹ä»¶ä¸ä¼šç»§ç»­å‘ä¸Šå†’æ³¡</span>
}
</code></pre>
<h4 data-id="heading-14">äº‹ä»¶ä¿®é¥°ç¬¦å¯¹ç…§è¡¨</h4>









































<table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>åŸç”ŸJSç­‰ä»·æ“ä½œ</th><th>ä½œç”¨</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>.stop</code></td><td><code>event.stopPropagation()</code></td><td>é˜»æ­¢äº‹ä»¶å†’æ³¡</td><td>ç‚¹å‡»æŒ‰é’®ä¸è§¦å‘çˆ¶å®¹å™¨ç‚¹å‡»äº‹ä»¶</td></tr><tr><td><code>.prevent</code></td><td><code>event.preventDefault()</code></td><td>é˜»æ­¢é»˜è®¤è¡Œä¸º</td><td>é˜»æ­¢è¡¨å•æäº¤ã€é“¾æ¥è·³è½¬</td></tr><tr><td><code>.capture</code></td><td><code>addEventListener(..., true)</code></td><td>ä½¿ç”¨æ•è·æ¨¡å¼</td><td>éœ€è¦åœ¨æ•è·é˜¶æ®µå¤„ç†äº‹ä»¶</td></tr><tr><td><code>.self</code></td><td><code>if (event.target !== this) return</code></td><td>ä»…å…ƒç´ è‡ªèº«è§¦å‘</td><td>å¿½ç•¥å­å…ƒç´ è§¦å‘çš„äº‹ä»¶</td></tr><tr><td><code>.once</code></td><td>æ‰‹åŠ¨ç§»é™¤ç›‘å¬å™¨</td><td>åªè§¦å‘ä¸€æ¬¡</td><td>ä¸€æ¬¡æ€§æäº¤æŒ‰é’®</td></tr></tbody></table>
<h3 data-id="heading-15">2.3 ç»¼åˆæ¡ˆä¾‹</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"event-demo"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 1. .stopä¿®é¥°ç¬¦ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>1. .stop ä¿®é¥°ç¬¦ - é˜»æ­¢äº‹ä»¶å†’æ³¡<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent-box"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleParentClick"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>çˆ¶å®¹å™¨ (ç‚¹å‡»è¿™é‡Œä¼šè§¦å‘)<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleButtonClick"</span>&gt;</span>æ™®é€šæŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.stop</span>=<span class="hljs-string">"handleButtonClickWithStop"</span>&gt;</span>ä½¿ç”¨.stopçš„æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log"</span>&gt;</span>æ—¥å¿—: {{ logs }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 2. .preventä¿®é¥°ç¬¦ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>2. .prevent ä¿®é¥°ç¬¦ - é˜»æ­¢é»˜è®¤è¡Œä¸º<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit</span>=<span class="hljs-string">"handleFormSubmit"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.name"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å§“å"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">form-type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æ™®é€šæäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">form-type</span>=<span class="hljs-string">"submit"</span> @<span class="hljs-attr">click.prevent</span>=<span class="hljs-string">"handlePreventSubmit"</span>&gt;</span>
          ä½¿ç”¨.preventçš„æäº¤
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 3. .selfä¿®é¥°ç¬¦ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>3. .self ä¿®é¥°ç¬¦ - ä»…è‡ªèº«è§¦å‘<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"self-demo"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> @<span class="hljs-attr">click.self</span>=<span class="hljs-string">"handleSelfClick"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"self-box"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>ç‚¹å‡»è¿™ä¸ªæ–‡æœ¬ï¼ˆè‡ªèº«ï¼‰ä¼šè§¦å‘<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼ˆå­å…ƒç´ ï¼‰ä¸ä¼šè§¦å‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 4. ä¿®é¥°ç¬¦ä¸²è” --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>4. ä¿®é¥°ç¬¦ä¸²è”ä½¿ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleChainParent"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.stop.prevent</span>=<span class="hljs-string">"handleChainClick"</span>&gt;</span>
          åŒæ—¶ä½¿ç”¨.stopå’Œ.prevent
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">logs</span>: [],
      <span class="hljs-attr">formData</span>: {
        <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>
      }
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">handleParentClick</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'çˆ¶å®¹å™¨è¢«ç‚¹å‡»'</span>)
    },
    <span class="hljs-title function_">handleButtonClick</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'æ™®é€šæŒ‰é’®è¢«ç‚¹å‡» â†’ ä¼šè§¦å‘çˆ¶å®¹å™¨äº‹ä»¶'</span>)
    },
    <span class="hljs-title function_">handleButtonClickWithStop</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'ä½¿ç”¨.stopçš„æŒ‰é’®è¢«ç‚¹å‡» â†’ ä¸ä¼šè§¦å‘çˆ¶å®¹å™¨äº‹ä»¶'</span>)
    },
    <span class="hljs-title function_">handleFormSubmit</span>(<span class="hljs-params">e</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'è¡¨å•æäº¤ï¼Œé¡µé¢å¯èƒ½ä¼šåˆ·æ–°'</span>)
    },
    <span class="hljs-title function_">handlePreventSubmit</span>(<span class="hljs-params">e</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'ä½¿ç”¨.preventï¼Œé˜»æ­¢äº†è¡¨å•é»˜è®¤æäº¤è¡Œä¸º'</span>)
      <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ‰§è¡Œè‡ªå®šä¹‰çš„æäº¤é€»è¾‘</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">submitForm</span>()
    },
    <span class="hljs-title function_">handleSelfClick</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'.self: åªæœ‰ç‚¹å‡»å®¹å™¨æœ¬èº«æ‰è§¦å‘'</span>)
    },
    <span class="hljs-title function_">handleChainParent</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'çˆ¶å®¹å™¨ç‚¹å‡»äº‹ä»¶'</span>)
    },
    <span class="hljs-title function_">handleChainClick</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLog</span>(<span class="hljs-string">'æŒ‰é’®ç‚¹å‡»ï¼Œä½†é˜»æ­¢äº†å†’æ³¡å’Œé»˜è®¤è¡Œä¸º'</span>)
    },
    <span class="hljs-title function_">addLog</span>(<span class="hljs-params">message</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-title function_">unshift</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleTimeString()}</span>: <span class="hljs-subst">${message}</span>`</span>)
      <span class="hljs-comment">// åªä¿ç•™æœ€è¿‘5æ¡æ—¥å¿—</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">5</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">logs</span>.<span class="hljs-title function_">pop</span>()
      }
    },
    <span class="hljs-title function_">submitForm</span>(<span class="hljs-params"/>) {
      uni.<span class="hljs-title function_">showToast</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'è¡¨å•æäº¤æˆåŠŸ'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'success'</span>
      })
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.event-demo</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.demo-section</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10</span>rpx;
}
<span class="hljs-selector-class">.section-title</span> {
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
}
<span class="hljs-selector-class">.parent-box</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
}
<span class="hljs-selector-class">.log</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0f0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6</span>rpx;
  <span class="hljs-attribute">font-family</span>: monospace;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">200</span>rpx;
  <span class="hljs-attribute">overflow-y</span>: auto;
}
<span class="hljs-selector-class">.self-box</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e3f2fd</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2</span>rpx dashed <span class="hljs-number">#2196f3</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">ä¸‰ã€è¡¨å•æ•°æ®å¤„ç†</h2>
<h3 data-id="heading-17">3.1 å¤æ‚è¡¨å•è®¾è®¡</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[è¡¨å•ç»„ä»¶] --&gt; B[è¡¨å•æ•°æ®æ¨¡å‹]
    B --&gt; C[éªŒè¯è§„åˆ™]
    B --&gt; D[æäº¤å¤„ç†]
    
    C --&gt; E[å³æ—¶éªŒè¯]
    C --&gt; F[æäº¤éªŒè¯]
    
    D --&gt; G[æ•°æ®é¢„å¤„ç†]
    D --&gt; H[APIè°ƒç”¨]
    D --&gt; I[å“åº”å¤„ç†]
    
    E --&gt; J[é”™è¯¯æç¤º]
    F --&gt; J
</code></pre>
<h3 data-id="heading-18">3.2 è¡¨å•æ¡ˆä¾‹</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-title"</span>&gt;</span>ç”¨æˆ·æ³¨å†Œ<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ç”¨æˆ·å --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-item"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ error: errors.username }"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.username"</span> 
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>
        @<span class="hljs-attr">blur</span>=<span class="hljs-string">"validateField('username')"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"error-msg"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"errors.username"</span>&gt;</span>{{ errors.username }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- é‚®ç®± --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-item"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ error: errors.email }"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>é‚®ç®±<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.email"</span> 
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥é‚®ç®±"</span>
        @<span class="hljs-attr">blur</span>=<span class="hljs-string">"validateField('email')"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"error-msg"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"errors.email"</span>&gt;</span>{{ errors.email }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å¯†ç  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-item"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ error: errors.password }"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>å¯†ç <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> 
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.password"</span> 
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å¯†ç "</span>
        @<span class="hljs-attr">blur</span>=<span class="hljs-string">"validateField('password')"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"error-msg"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"errors.password"</span>&gt;</span>{{ errors.password }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ€§åˆ« --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>æ€§åˆ«<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">radio-group</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.gender"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio-item"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in genderOptions"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.value"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">radio</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">"item.value"</span> /&gt;</span> {{ item.label }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">radio-group</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å…´è¶£çˆ±å¥½ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>å…´è¶£çˆ±å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> 
          <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox-item"</span> 
          <span class="hljs-attr">v-for</span>=<span class="hljs-string">"hobby in hobbyOptions"</span> 
          <span class="hljs-attr">:key</span>=<span class="hljs-string">"hobby.value"</span>
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">checkbox</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">"hobby.value"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"formData.hobbies"</span> /&gt;</span> 
          {{ hobby.label }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æäº¤æŒ‰é’® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
      @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSubmit"</span> 
      <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"!isFormValid"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"submit-btn"</span>
      <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ disabled: !isFormValid }"</span>
    &gt;</span>
      {{ isSubmitting ? 'æäº¤ä¸­...' : 'æ³¨å†Œ' }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- è¡¨å•æ•°æ®é¢„è§ˆ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-preview"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"preview-title"</span>&gt;</span>è¡¨å•æ•°æ®é¢„è§ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"preview-data"</span>&gt;</span>{{ JSON.stringify(formData, null, 2) }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">formData</span>: {
        <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gender</span>: <span class="hljs-string">'male'</span>,
        <span class="hljs-attr">hobbies</span>: [<span class="hljs-string">'sports'</span>]
      },
      <span class="hljs-attr">errors</span>: {
        <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>
      },
      <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">genderOptions</span>: [
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'ç”·'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'male'</span> },
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'å¥³'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'female'</span> },
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'å…¶ä»–'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'other'</span> }
      ],
      <span class="hljs-attr">hobbyOptions</span>: [
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'è¿åŠ¨'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'sports'</span> },
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'é˜…è¯»'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'reading'</span> },
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'éŸ³ä¹'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'music'</span> },
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'æ—…è¡Œ'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'travel'</span> },
        { <span class="hljs-attr">label</span>: <span class="hljs-string">'æ¸¸æˆ'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'gaming'</span> }
      ]
    }
  },
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">isFormValid</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> (
        !<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">username</span> &amp;&amp;
        !<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">email</span> &amp;&amp;
        !<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">password</span> &amp;&amp;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>.<span class="hljs-property">username</span> &amp;&amp;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>.<span class="hljs-property">email</span> &amp;&amp;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>.<span class="hljs-property">password</span> &amp;&amp;
        !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isSubmitting</span>
      )
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">validateField</span>(<span class="hljs-params">fieldName</span>) {
      <span class="hljs-keyword">const</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>[fieldName]
      
      <span class="hljs-keyword">switch</span> (fieldName) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'username'</span>:
          <span class="hljs-keyword">if</span> (!value) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">username</span> = <span class="hljs-string">'ç”¨æˆ·åä¸èƒ½ä¸ºç©º'</span>
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">username</span> = <span class="hljs-string">'ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦'</span>
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">username</span> = <span class="hljs-string">''</span>
          }
          <span class="hljs-keyword">break</span>
          
        <span class="hljs-keyword">case</span> <span class="hljs-string">'email'</span>:
          <span class="hljs-keyword">if</span> (!value) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">email</span> = <span class="hljs-string">'é‚®ç®±ä¸èƒ½ä¸ºç©º'</span>
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/^[^\s@]+@[^\s@]+\.[^\s@]+$/</span>.<span class="hljs-title function_">test</span>(value)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">email</span> = <span class="hljs-string">'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'</span>
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">email</span> = <span class="hljs-string">''</span>
          }
          <span class="hljs-keyword">break</span>
          
        <span class="hljs-keyword">case</span> <span class="hljs-string">'password'</span>:
          <span class="hljs-keyword">if</span> (!value) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">password</span> = <span class="hljs-string">'å¯†ç ä¸èƒ½ä¸ºç©º'</span>
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value.<span class="hljs-property">length</span> &lt; <span class="hljs-number">6</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">password</span> = <span class="hljs-string">'å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦'</span>
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">password</span> = <span class="hljs-string">''</span>
          }
          <span class="hljs-keyword">break</span>
      }
    },
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleSubmit</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// æäº¤å‰éªŒè¯æ‰€æœ‰å­—æ®µ</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateField</span>(<span class="hljs-string">'username'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateField</span>(<span class="hljs-string">'email'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateField</span>(<span class="hljs-string">'password'</span>)
      
      <span class="hljs-comment">// æŠ¥é”™ç›´æ¥è¿”å›</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">username</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">email</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>.<span class="hljs-property">password</span>) {
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'è¯·æ­£ç¡®å¡«å†™è¡¨å•'</span>,
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>
        })
        <span class="hljs-keyword">return</span>
      }
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isSubmitting</span> = <span class="hljs-literal">true</span>
      
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// æ¥å£è°ƒç”¨</span>
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">mockApiCall</span>()
        
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'æ³¨å†ŒæˆåŠŸ'</span>,
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'success'</span>
        })
        
        <span class="hljs-comment">// é‡ç½®è¡¨å•</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resetForm</span>()
        
      } <span class="hljs-keyword">catch</span> (error) {
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'æ³¨å†Œå¤±è´¥'</span>,
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'error'</span>
        })
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isSubmitting</span> = <span class="hljs-literal">false</span>
      }
    },
    
    <span class="hljs-title function_">mockApiCall</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æäº¤çš„æ•°æ®:'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span>)
          <span class="hljs-title function_">resolve</span>()
        }, <span class="hljs-number">2000</span>)
      })
    },
    
    <span class="hljs-title function_">resetForm</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">formData</span> = {
        <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">gender</span>: <span class="hljs-string">'male'</span>,
        <span class="hljs-attr">hobbies</span>: [<span class="hljs-string">'sports'</span>]
      }
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> = {
        <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>
      }
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.form-container</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">600</span>rpx;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
}
<span class="hljs-selector-class">.form-title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">36</span>rpx;
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}
<span class="hljs-selector-class">.form-item</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30</span>rpx;
}
<span class="hljs-selector-class">.label</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}
<span class="hljs-selector-class">.input</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2</span>rpx solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
}
<span class="hljs-selector-class">.form-item</span><span class="hljs-selector-class">.error</span> <span class="hljs-selector-class">.input</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#ff4757</span>;
}
<span class="hljs-selector-class">.error-msg</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff4757</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">8</span>rpx;
  <span class="hljs-attribute">display</span>: block;
}
<span class="hljs-selector-class">.radio-group</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">40</span>rpx;
}
<span class="hljs-selector-class">.radio-item</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10</span>rpx;
}
<span class="hljs-selector-class">.checkbox-group</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-wrap</span>: wrap;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.checkbox-item</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10</span>rpx;
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">150</span>rpx;
}
<span class="hljs-selector-class">.submit-btn</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#007AFF</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">25</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10</span>rpx;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32</span>rpx;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">40</span>rpx;
}
<span class="hljs-selector-class">.submit-btn</span><span class="hljs-selector-class">.disabled</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#ccc</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
}
<span class="hljs-selector-class">.form-preview</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f9f9f9</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10</span>rpx;
}
<span class="hljs-selector-class">.preview-title</span> {
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">display</span>: block;
}
<span class="hljs-selector-class">.preview-data</span> {
  <span class="hljs-attribute">font-family</span>: monospace;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">word-break</span>: break-all;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-19">å››ã€ç»„ä»¶é—´é€šä¿¡-è‡ªå®šä¹‰äº‹ä»¶</h2>
<h3 data-id="heading-20">4.1 è‡ªå®šä¹‰äº‹ä»¶åŸç†</h3>
<h3 data-id="heading-21">4.2 ä»¥è®¡æ•°å™¨ç»„ä»¶ä¸ºä¾‹</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å­ç»„ä»¶ï¼šcustom-counter.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-counter"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"counter-title"</span>&gt;</span>{{ title }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"counter-controls"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
        @<span class="hljs-attr">click</span>=<span class="hljs-string">"decrement"</span> 
        <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"currentValue &lt;= min"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"counter-btn"</span>
      &gt;</span>
        -
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"counter-value"</span>&gt;</span>{{ currentValue }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
        @<span class="hljs-attr">click</span>=<span class="hljs-string">"increment"</span> 
        <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"currentValue &gt;= max"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"counter-btn"</span>
      &gt;</span>
        +
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"counter-stats"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>æœ€å°å€¼: {{ min }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>æœ€å¤§å€¼: {{ max }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>æ­¥é•¿: {{ step }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ“ä½œ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"quick-actions"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"reset"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span>&gt;</span>é‡ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"setToMax"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span>&gt;</span>è®¾ä¸ºæœ€å¤§<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"setToMin"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span>&gt;</span>è®¾ä¸ºæœ€å°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'CustomCounter'</span>,
  <span class="hljs-attr">props</span>: {
    <span class="hljs-comment">// å½“å‰å€¼</span>
    <span class="hljs-attr">value</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>
    },
    <span class="hljs-comment">// æœ€å°å€¼</span>
    <span class="hljs-attr">min</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>
    },
    <span class="hljs-comment">// æœ€å¤§å€¼</span>
    <span class="hljs-attr">max</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-number">100</span>
    },
    <span class="hljs-comment">// æ­¥é•¿</span>
    <span class="hljs-attr">step</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-number">1</span>
    },
    <span class="hljs-comment">// æ ‡é¢˜</span>
    <span class="hljs-attr">title</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>,
      <span class="hljs-attr">default</span>: <span class="hljs-string">'è®¡æ•°å™¨'</span>
    }
  },
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">currentValue</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>
    }
  },
  <span class="hljs-attr">watch</span>: {
    <span class="hljs-title function_">value</span>(<span class="hljs-params">newVal</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentValue</span> = newVal
    },
    <span class="hljs-title function_">currentValue</span>(<span class="hljs-params">newVal</span>) {
      <span class="hljs-comment">// è®¾ç½®é™åˆ¶èŒƒå›´</span>
      <span class="hljs-keyword">if</span> (newVal &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">min</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">min</span>
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (newVal &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span>
      }
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> newValue = <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentValue</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">step</span>
      <span class="hljs-keyword">if</span> (newValue &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateValue</span>(newValue)
      }
    },
    
    <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> newValue = <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentValue</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">step</span>
      <span class="hljs-keyword">if</span> (newValue &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">min</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateValue</span>(newValue)
      }
    },
    
    <span class="hljs-title function_">updateValue</span>(<span class="hljs-params">newValue</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentValue</span> = newValue
      
      <span class="hljs-comment">// è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œé€šçŸ¥çˆ¶ç»„ä»¶</span>
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">'input'</span>, newValue)  <span class="hljs-comment">// ç”¨äº v-model</span>
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">'change'</span>, {         <span class="hljs-comment">// ç”¨äºæ™®é€šäº‹ä»¶ç›‘å¬</span>
        <span class="hljs-attr">value</span>: newValue,
        <span class="hljs-attr">oldValue</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'change'</span>
      })
    },
    
    <span class="hljs-title function_">reset</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateValue</span>(<span class="hljs-number">0</span>)
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">'reset'</span>, { <span class="hljs-attr">value</span>: <span class="hljs-number">0</span> })
    },
    
    <span class="hljs-title function_">setToMax</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateValue</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span>)
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">'set-to-max'</span>, { <span class="hljs-attr">value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span> })
    },
    
    <span class="hljs-title function_">setToMin</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateValue</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">min</span>)
      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">'set-to-min'</span>, { <span class="hljs-attr">value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">min</span> })
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.custom-counter</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2</span>rpx solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20</span>rpx <span class="hljs-number">0</span>;
  <span class="hljs-attribute">background</span>: white;
}
<span class="hljs-selector-class">.counter-title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32</span>rpx;
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">25</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}
<span class="hljs-selector-class">.counter-controls</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">25</span>rpx;
}
<span class="hljs-selector-class">.counter-btn</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">80</span>rpx;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">80</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">36</span>rpx;
  <span class="hljs-attribute">font-weight</span>: bold;
}
<span class="hljs-selector-class">.counter-value</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">48</span>rpx;
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#007AFF</span>;
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">100</span>rpx;
  <span class="hljs-attribute">text-align</span>: center;
}
<span class="hljs-selector-class">.counter-stats</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: space-around;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">25</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9fa</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
}
<span class="hljs-selector-class">.counter-stats</span> text {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
}
<span class="hljs-selector-class">.quick-actions</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">15</span>rpx;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h3 data-id="heading-22">4.3 çˆ¶ç»„ä»¶ä½¿ç”¨</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ï¼šparent-component.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent-container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-title"</span>&gt;</span>è‡ªå®šä¹‰è®¡æ•°å™¨ç»„ä»¶æ¼”ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ–¹å¼1ï¼šä½¿ç”¨ v-model --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>1. ä½¿ç”¨ v-model åŒå‘ç»‘å®š<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">custom-counter</span> 
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"counter1"</span> 
        <span class="hljs-attr">title</span>=<span class="hljs-string">"åŸºç¡€è®¡æ•°å™¨"</span>
        <span class="hljs-attr">:min</span>=<span class="hljs-string">"0"</span> 
        <span class="hljs-attr">:max</span>=<span class="hljs-string">"10"</span>
        <span class="hljs-attr">:step</span>=<span class="hljs-string">"1"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"value-display"</span>&gt;</span>å½“å‰å€¼: {{ counter1 }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ–¹å¼2ï¼šç›‘å¬ change äº‹ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>2. ç›‘å¬ change äº‹ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">custom-counter</span> 
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"counter2"</span>
        <span class="hljs-attr">title</span>=<span class="hljs-string">"é«˜çº§è®¡æ•°å™¨"</span>
        <span class="hljs-attr">:min</span>=<span class="hljs-string">"-10"</span>
        <span class="hljs-attr">:max</span>=<span class="hljs-string">"20"</span>
        <span class="hljs-attr">:step</span>=<span class="hljs-string">"2"</span>
        @<span class="hljs-attr">change</span>=<span class="hljs-string">"onCounterChange"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"value-display"</span>&gt;</span>å½“å‰å€¼: {{ counter2 }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"event-log"</span>&gt;</span>äº‹ä»¶æ—¥å¿—: {{ eventLog }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ–¹å¼3ï¼šç›‘å¬å¤šä¸ªäº‹ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>3. ç›‘å¬å¤šä¸ªäº‹ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">custom-counter</span> 
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"counter3"</span>
        <span class="hljs-attr">title</span>=<span class="hljs-string">"å¤šåŠŸèƒ½è®¡æ•°å™¨"</span>
        @<span class="hljs-attr">reset</span>=<span class="hljs-string">"onCounterReset"</span>
        @<span class="hljs-attr">set-to-max</span>=<span class="hljs-string">"onSetToMax"</span>
        @<span class="hljs-attr">set-to-min</span>=<span class="hljs-string">"onSetToMin"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"value-display"</span>&gt;</span>å½“å‰å€¼: {{ counter3 }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>4. è®¡æ•°å™¨è”åŠ¨<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">custom-counter</span> 
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"masterCounter"</span>
        <span class="hljs-attr">title</span>=<span class="hljs-string">"ä¸»è®¡æ•°å™¨"</span>
        @<span class="hljs-attr">change</span>=<span class="hljs-string">"onMasterChange"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">custom-counter</span> 
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"slaveCounter"</span>
        <span class="hljs-attr">title</span>=<span class="hljs-string">"ä»è®¡æ•°å™¨"</span>
        <span class="hljs-attr">:min</span>=<span class="hljs-string">"0"</span>
        <span class="hljs-attr">:max</span>=<span class="hljs-string">"50"</span>
        <span class="hljs-attr">readonly</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CustomCounter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/custom-counter.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">CustomCounter</span>
  },
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">counter1</span>: <span class="hljs-number">5</span>,
      <span class="hljs-attr">counter2</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">counter3</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">masterCounter</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">slaveCounter</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">eventLog</span>: <span class="hljs-string">''</span>
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">onCounterChange</span>(<span class="hljs-params">event</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¡æ•°å™¨å˜åŒ–äº‹ä»¶:'</span>, event)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">counter2</span> = event.<span class="hljs-property">value</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addEventLog</span>(<span class="hljs-string">`è®¡æ•°å™¨å˜åŒ–: <span class="hljs-subst">${event.oldValue}</span> â†’ <span class="hljs-subst">${event.value}</span>`</span>)
    },
    
    <span class="hljs-title function_">onCounterReset</span>(<span class="hljs-params">event</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¡æ•°å™¨é‡ç½®:'</span>, event)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addEventLog</span>(<span class="hljs-string">`è®¡æ•°å™¨é‡ç½®ä¸º: <span class="hljs-subst">${event.value}</span>`</span>)
    },
    
    <span class="hljs-title function_">onSetToMax</span>(<span class="hljs-params">event</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¾ç½®ä¸ºæœ€å¤§å€¼:'</span>, event)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addEventLog</span>(<span class="hljs-string">`è®¾ç½®ä¸ºæœ€å¤§å€¼: <span class="hljs-subst">${event.value}</span>`</span>)
    },
    
    <span class="hljs-title function_">onSetToMin</span>(<span class="hljs-params">event</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¾ç½®ä¸ºæœ€å°å€¼:'</span>, event)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addEventLog</span>(<span class="hljs-string">`è®¾ç½®ä¸ºæœ€å°å€¼: <span class="hljs-subst">${event.value}</span>`</span>)
    },
    
    <span class="hljs-title function_">onMasterChange</span>(<span class="hljs-params">event</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">slaveCounter</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(event.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>)
    },
    
    <span class="hljs-title function_">addEventLog</span>(<span class="hljs-params">message</span>) {
      <span class="hljs-keyword">const</span> timestamp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventLog</span> = <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span>: <span class="hljs-subst">${message}</span>\n<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.eventLog}</span>`</span>
      
      <span class="hljs-comment">// å¢è¿›æ—¥å¿—é•¿åº¦</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventLog</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>).<span class="hljs-property">length</span> &gt; <span class="hljs-number">5</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventLog</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventLog</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">'\n'</span>)
      }
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.parent-container</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">700</span>rpx;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
}
<span class="hljs-selector-class">.main-title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40</span>rpx;
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">display</span>: block;
}
<span class="hljs-selector-class">.demo-section</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">50</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2</span>rpx solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fafafa</span>;
}
<span class="hljs-selector-class">.section-title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#007AFF</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">25</span>rpx;
}
<span class="hljs-selector-class">.value-display</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}
<span class="hljs-selector-class">.event-log</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0f0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
  <span class="hljs-attribute">font-family</span>: monospace;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">22</span>rpx;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">200</span>rpx;
  <span class="hljs-attribute">overflow-y</span>: auto;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-23">äº”ã€æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-24">5.1 æ•°æ®ç»‘å®šæ€§èƒ½ä¼˜åŒ–</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[æ€§èƒ½é—®é¢˜] --&gt; B[å¤§é‡æ•°æ®å“åº”å¼]
    A --&gt; C[é¢‘ç¹çš„é‡æ–°æ¸²æŸ“]
    A --&gt; D[å†…å­˜æ³„æ¼]
    
    B --&gt; E[Object.freeze å†»ç»“æ•°æ®]
    B --&gt; F[è™šæ‹Ÿæ»šåŠ¨]
    
    C --&gt; G[è®¡ç®—å±æ€§ç¼“å­˜]
    C --&gt; H[v-once å•æ¬¡æ¸²æŸ“]
    C --&gt; I[åˆç†ä½¿ç”¨ v-if vs v-show]
    
    D --&gt; J[åŠæ—¶é”€æ¯äº‹ä»¶ç›‘å¬]
    D --&gt; K[æ¸…é™¤å®šæ—¶å™¨]
</code></pre>
<h3 data-id="heading-25">5.2 ä¼˜åŒ–æŠ€å·§</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"optimization-demo"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>æ€§èƒ½ä¼˜åŒ–<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 1. è®¡ç®—å±æ€§ç¼“å­˜ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"optimization-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>1. è®¡ç®—å±æ€§ vs æ–¹æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"filterText"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¿‡æ»¤æ–‡æœ¬"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span> /&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"result"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>è¿‡æ»¤åæ•°é‡ï¼ˆè®¡ç®—å±æ€§ï¼‰: {{ filteredListLength }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>è¿‡æ»¤åæ•°é‡ï¼ˆæ–¹æ³•è°ƒç”¨ï¼‰: {{ getFilteredListLength() }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"refreshCount"</span>&gt;</span>åˆ·æ–°è®¡æ•°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hint"</span>&gt;</span>æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹è°ƒç”¨æ¬¡æ•°<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 2. v-once é™æ€å†…å®¹ä¼˜åŒ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"optimization-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>2. v-once é™æ€å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-once</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"static-content"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>è¿™ä¸ªå†…å®¹åªæ¸²æŸ“ä¸€æ¬¡: {{ staticTimestamp }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"updateStatic"</span>&gt;</span>æ›´æ–°é™æ€å†…å®¹ï¼ˆä¸ä¼šå˜åŒ–ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 3. å¤§æ•°æ®åˆ—è¡¨ä¼˜åŒ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"optimization-section"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-title"</span>&gt;</span>3. å¤§æ•°æ®åˆ—è¡¨æ¸²æŸ“<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"loadBigData"</span>&gt;</span>åŠ è½½1000æ¡æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"loadOptimizedData"</span>&gt;</span>åŠ è½½ä¼˜åŒ–åçš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      
      <span class="hljs-comment">&lt;!-- æ™®é€šæ¸²æŸ“ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"showNormalList"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>æ™®é€šæ¸²æŸ“ï¼ˆ{{ normalList.length }}æ¡ï¼‰:<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in normalList"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      
      <span class="hljs-comment">&lt;!-- è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ– --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"showOptimizedList"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>è™šæ‹Ÿæ»šåŠ¨æ¸²æŸ“ï¼ˆ{{ optimizedList.length }}æ¡ï¼‰:<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"virtual-list"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">view</span> 
            <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in visibleItems"</span> 
            <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span> 
            <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item optimized"</span>
          &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">filterText</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">refreshCount</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">staticTimestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>(),
      <span class="hljs-attr">normalList</span>: [],
      <span class="hljs-attr">optimizedList</span>: [],
      <span class="hljs-attr">showNormalList</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">showOptimizedList</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">visibleItems</span>: [],
      <span class="hljs-attr">bigData</span>: []
    }
  },
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-comment">// è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨ç¼“å­˜ï¼Œåªæœ‰ä¾èµ–å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—</span>
    <span class="hljs-title function_">filteredListLength</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¡ç®—å±æ€§è¢«æ‰§è¡Œ'</span>)
      <span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateTestList</span>()
      <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> 
        item.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">filterText</span>)
      ).<span class="hljs-property">length</span>
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// æ–¹æ³•æ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ‰§è¡Œ</span>
    <span class="hljs-title function_">getFilteredListLength</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–¹æ³•è¢«è°ƒç”¨'</span>)
      <span class="hljs-keyword">const</span> list = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateTestList</span>()
      <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> 
        item.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">filterText</span>)
      ).<span class="hljs-property">length</span>
    },
    
    <span class="hljs-title function_">generateTestList</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">100</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
        <span class="hljs-attr">id</span>: i,
        <span class="hljs-attr">name</span>: <span class="hljs-string">`é¡¹ç›® <span class="hljs-subst">${i}</span>`</span>
      }))
    },
    
    <span class="hljs-title function_">refreshCount</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">refreshCount</span>++
    },
    
    <span class="hljs-title function_">updateStatic</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">staticTimestamp</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>()
    },
    
    <span class="hljs-title function_">loadBigData</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">showNormalList</span> = <span class="hljs-literal">true</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">showOptimizedList</span> = <span class="hljs-literal">false</span>
      
      <span class="hljs-comment">// ç”Ÿæˆå¤§é‡æ•°æ®</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">normalList</span> = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">1000</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
        <span class="hljs-attr">id</span>: i,
        <span class="hljs-attr">name</span>: <span class="hljs-string">`æ•°æ®é¡¹ <span class="hljs-subst">${i}</span>`</span>,
        <span class="hljs-attr">value</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1000</span>
      }))
    },
    
    <span class="hljs-title function_">loadOptimizedData</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">showNormalList</span> = <span class="hljs-literal">false</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">showOptimizedList</span> = <span class="hljs-literal">true</span>
      
      <span class="hljs-comment">// ä½¿ç”¨ Object.freeze é¿å…ä¸å¿…è¦çš„å“åº”å¼</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">optimizedList</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(
        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">1000</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
          <span class="hljs-attr">id</span>: i,
          <span class="hljs-attr">name</span>: <span class="hljs-string">`æ•°æ®é¡¹ <span class="hljs-subst">${i}</span>`</span>,
          <span class="hljs-attr">value</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1000</span>
        }))
      )
      
      <span class="hljs-comment">// è™šæ‹Ÿæ»šåŠ¨ï¼šåªæ¸²æŸ“å¯è§é¡¹</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateVisibleItems</span>()
    },
    
    <span class="hljs-title function_">updateVisibleItems</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// ç®€åŒ–çš„è™šæ‹Ÿæ»šåŠ¨å®ç°</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">optimizedList</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>)
    },
    
    <span class="hljs-comment">// é˜²æŠ–å‡½æ•°ä¼˜åŒ–é¢‘ç¹è§¦å‘çš„äº‹ä»¶</span>
    <span class="hljs-title function_">debounce</span>(<span class="hljs-params">func, wait</span>) {
      <span class="hljs-keyword">let</span> timeout
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">executedFunction</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">later</span> = (<span class="hljs-params"/>) =&gt; {
          <span class="hljs-built_in">clearTimeout</span>(timeout)
          <span class="hljs-title function_">func</span>(...args)
        }
        <span class="hljs-built_in">clearTimeout</span>(timeout)
        timeout = <span class="hljs-built_in">setTimeout</span>(later, wait)
      }
    }
  },
  
  <span class="hljs-comment">// ç»„ä»¶é”€æ¯æ—¶æ¸…ç†èµ„æº</span>
  <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">normalList</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">optimizedList</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span> = []
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.optimization-demo</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
}
<span class="hljs-selector-class">.title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">36</span>rpx;
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40</span>rpx;
}
<span class="hljs-selector-class">.optimization-section</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#ddd</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10</span>rpx;
}
<span class="hljs-selector-class">.section-title</span> {
  <span class="hljs-attribute">font-weight</span>: bold;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#007AFF</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.input</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#ccc</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">15</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6</span>rpx;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15</span>rpx;
}
<span class="hljs-selector-class">.result</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">15</span>rpx <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.result</span> text {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">5</span>rpx <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.hint</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10</span>rpx;
}
<span class="hljs-selector-class">.static-content</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e8f5e8</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6</span>rpx;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">15</span>rpx <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.list-item</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10</span>rpx;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#eee</span>;
}
<span class="hljs-selector-class">.list-item</span><span class="hljs-selector-class">.optimized</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f0f8ff</span>;
}
<span class="hljs-selector-class">.virtual-list</span> {
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">400</span>rpx;
  <span class="hljs-attribute">overflow-y</span>: auto;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-26">æ€»ç»“</h2>
<p>é€šè¿‡ä»¥ä¸Šå­¦ä¹ ï¼Œæˆ‘ä»¬æ·±å…¥æŒæ¡äº† uni-app ä¸­æ•°æ®ç»‘å®šä¸äº‹ä»¶å¤„ç†çš„æ ¸å¿ƒæ¦‚å¿µï¼š</p>
<blockquote>
<ol>
<li><strong>å“åº”å¼åŸç†</strong>ï¼šç†è§£äº† Vue 2.x åŸºäº <code>Object.defineProperty</code> çš„æ•°æ®åŠ«æŒæœºåˆ¶</li>
<li><strong>åŒå‘ç»‘å®š</strong>ï¼š<code>v-model</code> çš„æœ¬è´¨æ˜¯ <code>:value</code> + <code>@input</code> çš„è¯­æ³•ç³–</li>
<li><strong>äº‹ä»¶ç³»ç»Ÿ</strong>ï¼šæŒæ¡äº†äº‹ä»¶æµã€ä¿®é¥°ç¬¦åŠå…¶åº•å±‚å®ç°åŸç†</li>
<li><strong>ç»„ä»¶é€šä¿¡</strong>ï¼šé€šè¿‡è‡ªå®šä¹‰äº‹ä»¶å®ç°å­çˆ¶ç»„ä»¶é—´çš„æ•°æ®ä¼ é€’</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå­¦ä¼šäº†è®¡ç®—å±æ€§ã€è™šæ‹Ÿæ»šåŠ¨ç­‰ä¼˜åŒ–æŠ€å·§</li>
</ol>
</blockquote>
<hr/>
<p>è‡³æ­¤æ•°æ®ç»‘å®šä¸æ—¶é—´å¤„ç†å°±å…¨éƒ¨ä»‹ç»å®Œäº†ï¼Œå¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ä¸€é”®ä¸‰è¿~~~
é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚Happy Codingï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>