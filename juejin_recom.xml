<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æ—¥æœ¬è‚¡ç¥¨æ•°æ®APIå¯¹æ¥å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7598104572583706674</link>    <guid>https://juejin.cn/post/7598104572583706674</guid>    <pubDate>2026-01-23T03:23:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104572583706674" data-draft-id="7598104572583673906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ—¥æœ¬è‚¡ç¥¨æ•°æ®APIå¯¹æ¥å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,GitHub"/> <meta itemprop="datePublished" content="2026-01-23T03:23:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="StockPP"/> <meta itemprop="url" content="https://juejin.cn/user/4176365494996116"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ—¥æœ¬è‚¡ç¥¨æ•°æ®APIå¯¹æ¥å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4176365494996116/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    StockPP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:23:00.000Z" title="Fri Jan 23 2026 03:23:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¹æ¥æ—¥æœ¬è‚¡ç¥¨æ•°æ®APIæ˜¯å¼€å‘è€…è¿›å…¥æ—¥æœ¬é‡‘èå¸‚åœºçš„é‡è¦ä¸€æ­¥ã€‚ä¸‹é¢è¿™ä¸ªæŒ‡å—å°†å¸®ä½ å¿«é€Ÿä¸Šæ‰‹ï¼Œé‡ç‚¹ä»‹ç»å¦‚ä½•ä½¿ç”¨ StockTV API è·å–æ—¥æœ¬è‚¡ç¥¨æ•°æ®ï¼Œå¹¶æä¾›ä»åŸºç¡€åˆ°å®æˆ˜çš„å®Œæ•´å¯¹æ¥æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-0">ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‚¡ç¥¨æ•°æ®APIå¯¹æ¥å®æˆ˜æŒ‡å—</h2>
<h3 data-id="heading-1">æ—¥æœ¬è‚¡ç¥¨å¸‚åœºåŸºç¡€ä¿¡æ¯</h3>
<p>åœ¨å¯¹æ¥APIå‰ï¼Œéœ€è¦äº†è§£æ—¥æœ¬è‚¡å¸‚çš„åŸºæœ¬ç‰¹æ€§ã€‚ä¸œäº¬è¯åˆ¸äº¤æ˜“æ‰€æ˜¯æ—¥æœ¬æœ€ä¸»è¦çš„è¯åˆ¸äº¤æ˜“æ‰€ï¼Œåˆ†ä¸ºå››ä¸ªå±‚æ¬¡ï¼šä¸€éƒ¨ï¼ˆå¤§å‹è“ç­¹è‚¡ï¼‰ã€äºŒéƒ¨ï¼ˆä¸­å‹è‚¡ï¼‰ã€Mothersï¼ˆé«˜å¢é•¿æ–°å…´è‚¡ç¥¨ï¼‰å’ŒJASDAQï¼ˆåˆ›ä¸šæ¿å—ï¼‰ã€‚</p>
<p><strong>äº¤æ˜“æ—¶é—´</strong>ï¼ˆæ—¥æœ¬æ ‡å‡†æ—¶é—´JSTï¼‰ä¸ºæ—©ç›˜9:00-11:30å’Œåˆç›˜12:30-15:00ï¼Œæœ‰åˆé—´ä¼‘å¸‚ä¹ æƒ¯ã€‚æ‰€æœ‰è‚¡ç¥¨ä»·æ ¼å‡ä»¥**æ—¥å…ƒ(JPY)**ä¸ºå•ä½ã€‚æ—¥æœ¬å¸‚åœºæœ‰ç‹¬ç‰¹çš„æ¶¨è·Œåœåˆ¶åº¦ï¼ˆæ ¹æ®è‚¡ä»·åˆ†30%/20%/10%/5%å››æ¡£ï¼‰ï¼Œä»¥åŠé«˜å¤–èµ„å‚ä¸åº¦ï¼ˆå ä¸œè¯æ‰€äº¤æ˜“é‡çº¦70%ï¼‰ç­‰ç‰¹ç‚¹ã€‚</p>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Fpao.stocktv.top%2F" target="_blank" title="https://pao.stocktv.top/" ref="nofollow noopener noreferrer">StockTV API</a> åŸºç¡€é…ç½®</h3>
<h4 data-id="heading-3">1. è®¤è¯æ–¹å¼</h4>
<p>æ‰€æœ‰APIè¯·æ±‚éƒ½éœ€è¦åœ¨URLå‚æ•°ä¸­åŒ…å«API Keyï¼š<code>key=æ‚¨çš„APIå¯†é’¥</code>ã€‚</p>
<h4 data-id="heading-4">2. åŸºç¡€é…ç½®</h4>
<p>ä½¿ç”¨å‰éœ€è¦è·å–ä»¥ä¸‹åŸºç¡€ä¿¡æ¯ï¼š</p>
<ul>
<li>APIåŸºç¡€è·¯å¾„ï¼š<code>https://api.stocktv.top</code></li>
<li>æ—¥æœ¬å›½å®¶IDï¼ˆcountryIdï¼‰ï¼šä¸åŒèµ„æ–™æ¥æºä¸­æ­¤IDå¯èƒ½æœ‰å·®å¼‚ï¼ˆå¦‚14ã€16ã€35ç­‰ï¼‰ï¼Œå»ºè®®åœ¨å®é™…ä½¿ç”¨å‰éªŒè¯æ­£ç¡®çš„å‚æ•°å€¼ã€‚</li>
<li>æ•°æ®æ ¼å¼ï¼šæ ‡å‡†JSON</li>
</ul>
<p>ä»¥ä¸‹æ˜¯Pythonç¯å¢ƒçš„åŸºç¡€é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># åŸºç¡€é…ç½®</span>
API_KEY = <span class="hljs-string">"æ‚¨çš„APIå¯†é’¥"</span>
BASE_URL = <span class="hljs-string">"https://api.stocktv.top"</span>
JAPAN_COUNTRY_ID = <span class="hljs-number">35</span>  <span class="hljs-comment"># æ—¥æœ¬å›½å®¶IDï¼Œæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´</span>

<span class="hljs-comment"># è®¾ç½®è¯·æ±‚å¤´</span>
headers = {
    <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
}
</code></pre>
<h3 data-id="heading-5">æ ¸å¿ƒAPIæ¥å£è¯¦è§£</h3>
<h4 data-id="heading-6">1. è·å–æ—¥æœ¬è‚¡ç¥¨å¸‚åœºåˆ—è¡¨</h4>
<p>è·å–æ—¥æœ¬äº¤æ˜“æ‰€çš„å…¨éƒ¨è‚¡ç¥¨æ¸…å•åŠå…¶æœ€æ–°æˆäº¤ä»·ã€‚</p>
<p><strong>è¯·æ±‚ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_japan_stocks</span>(<span class="hljs-params">page=<span class="hljs-number">1</span>, page_size=<span class="hljs-number">50</span></span>):
    url = <span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/stock/stocks"</span>
    params = {
        <span class="hljs-string">"countryId"</span>: JAPAN_COUNTRY_ID,
        <span class="hljs-string">"page"</span>: page,
        <span class="hljs-string">"pageSize"</span>: page_size,
        <span class="hljs-string">"key"</span>: API_KEY
    }
    
    response = requests.get(url, params=params)
    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
        <span class="hljs-keyword">return</span> response.json()
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
stocks_data = get_japan_stocks(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)
<span class="hljs-keyword">if</span> stocks_data <span class="hljs-keyword">and</span> stocks_data[<span class="hljs-string">"code"</span>] == <span class="hljs-number">200</span>:
    <span class="hljs-keyword">for</span> stock <span class="hljs-keyword">in</span> stocks_data[<span class="hljs-string">"data"</span>][<span class="hljs-string">"records"</span>]:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{stock[<span class="hljs-string">'symbol'</span>]}</span> - <span class="hljs-subst">{stock[<span class="hljs-string">'name'</span>]}</span>: <span class="hljs-subst">{stock[<span class="hljs-string">'last'</span>]}</span> JPY"</span>)
</code></pre>
<p><strong>å“åº”å­—æ®µè¯´æ˜ï¼š</strong></p>
<ul>
<li><code>symbol</code>: è‚¡ç¥¨ä»£ç ï¼ˆé€šå¸¸ä¸º4ä½æ•°å­—ï¼‰</li>
<li><code>name</code>: å…¬å¸åç§°</li>
<li><code>last</code>: æœ€æ–°ä»·</li>
<li><code>chg</code>: æ¶¨è·Œé¢</li>
<li><code>chgPct</code>: æ¶¨è·Œå¹…</li>
<li><code>volume</code>: æˆäº¤é‡</li>
</ul>
<h4 data-id="heading-7">2. æŸ¥è¯¢ç‰¹å®šè‚¡ç¥¨ä¿¡æ¯</h4>
<p>é€šè¿‡è‚¡ç¥¨IDã€åç§°æˆ–ä»£ç æŸ¥è¯¢ç‰¹å®šæ—¥æœ¬è‚¡ç¥¨çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p><strong>è¯·æ±‚ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">GET https://api.stocktv.top/stock/queryStocks?<span class="hljs-attr">countryId</span>=<span class="hljs-number">16</span>&amp;symbol=<span class="hljs-number">7203</span>&amp;key=æ‚¨çš„APIå¯†é’¥
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>id</code>: è‚¡ç¥¨PIDï¼ˆå¯é€‰ï¼‰</li>
<li><code>name</code>: è‚¡ç¥¨åç§°ï¼ˆå¯é€‰ï¼‰</li>
<li><code>symbol</code>: è‚¡ç¥¨ä»£ç ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<h4 data-id="heading-8">3. è·å–Kçº¿æ•°æ®</h4>
<p>è·å–æ—¥æœ¬è‚¡ç¥¨çš„å†å²Kçº¿æ•°æ®ï¼Œæ”¯æŒå¤šç§æ—¶é—´ç²’åº¦ã€‚</p>
<p><strong>è¯·æ±‚ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_kline_data</span>(<span class="hljs-params">pid, interval=<span class="hljs-string">"P1D"</span></span>):
    <span class="hljs-string">"""è·å–Kçº¿æ•°æ®
    interval: PT5M(5åˆ†é’Ÿ)/PT15M(15åˆ†é’Ÿ)/PT1H(1å°æ—¶)/P1D(1å¤©)ç­‰
    """</span>
    url = <span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/stock/kline"</span>
    params = {
        <span class="hljs-string">"pid"</span>: pid,
        <span class="hljs-string">"interval"</span>: interval,
        <span class="hljs-string">"key"</span>: API_KEY
    }
    
    response = requests.get(url, params=params)
    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
        <span class="hljs-keyword">return</span> response.json()
    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># è·å–ä¸°ç”°æ±½è½¦æ—¥çº¿æ•°æ®</span>
toyota_kline = get_kline_data(<span class="hljs-string">"7310"</span>, <span class="hljs-string">"P1D"</span>)
</code></pre>
<h4 data-id="heading-9">4. è·å–æ—¥æœ¬å¸‚åœºæŒ‡æ•°</h4>
<p>è·å–æ—¥ç»225æŒ‡æ•°ç­‰é‡è¦æ—¥æœ¬è‚¡ç¥¨æŒ‡æ•°çš„å®æ—¶è¡Œæƒ…ã€‚</p>
<p><strong>è¯·æ±‚ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_japan_indices</span>():
    url = <span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/stock/indices"</span>
    params = {
        <span class="hljs-string">"countryId"</span>: JAPAN_COUNTRY_ID,
        <span class="hljs-string">"key"</span>: API_KEY
    }
    
    response = requests.get(url, params=params)
    <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
        data = response.json()
        <span class="hljs-comment"># æŸ¥æ‰¾æ—¥ç»225æŒ‡æ•°</span>
        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> data[<span class="hljs-string">"data"</span>]:
            <span class="hljs-keyword">if</span> index[<span class="hljs-string">"symbol"</span>] == <span class="hljs-string">"N225"</span>:
                <span class="hljs-keyword">return</span> index
    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
nikkei_index = get_japan_indices()
<span class="hljs-keyword">if</span> nikkei_index:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ—¥ç»225æŒ‡æ•°: <span class="hljs-subst">{nikkei_index[<span class="hljs-string">'last'</span>]}</span> (<span class="hljs-subst">{nikkei_index[<span class="hljs-string">'chgPct'</span>]}</span>%)"</span>)
</code></pre>
<h4 data-id="heading-10">5. æ¶¨è·Œæ’è¡Œæ¦œ</h4>
<p>è·å–æ—¥æœ¬è‚¡ç¥¨çš„æ¶¨è·Œå¹…æ’è¡Œæ¦œã€‚</p>
<p><strong>è¯·æ±‚ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">GET https://api.stocktv.top/stock/updownList?countryId=16&amp;<span class="hljs-built_in">type</span>=1&amp;key=æ‚¨çš„APIå¯†é’¥
</code></pre>
<p><strong>ç±»å‹å‚æ•°ï¼š</strong></p>
<ul>
<li>1: æ¶¨å¹…æ¦œ</li>
<li>2: è·Œå¹…æ¦œ</li>
<li>3: æ¶¨åœæ¦œ</li>
<li>4: è·Œåœæ¦œ</li>
</ul>
<h3 data-id="heading-11">é«˜çº§åŠŸèƒ½å®ç°</h3>
<h4 data-id="heading-12">1. WebSocketå®æ—¶æ•°æ®è®¢é˜…</h4>
<p>é€šè¿‡WebSocketè·å–æ—¥æœ¬è‚¡ç¥¨çš„å®æ—¶ä»·æ ¼æ•°æ®ï¼Œå®ç°æ¯«ç§’çº§æ•°æ®æ›´æ–°ã€‚</p>
<p><strong>JavaScriptç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">"wss://ws-api.stocktv.top/connect?key=æ‚¨çš„APIå¯†é’¥"</span>);

ws.<span class="hljs-property">onopen</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"WebSocketè¿æ¥å·²å»ºç«‹"</span>);
    <span class="hljs-comment">// è®¢é˜…æ—¥æœ¬è‚¡ç¥¨</span>
    <span class="hljs-keyword">const</span> subscribeMsg = {
        <span class="hljs-string">"action"</span>: <span class="hljs-string">"subscribe"</span>,
        <span class="hljs-string">"countryId"</span>: <span class="hljs-number">16</span>,
        <span class="hljs-string">"symbols"</span>: [<span class="hljs-string">"7203"</span>, <span class="hljs-string">"9984"</span>] <span class="hljs-comment">// ä¸°ç”°æ±½è½¦ã€è½¯é“¶é›†å›¢</span>
    };
    ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(subscribeMsg));
};

ws.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å®æ—¶è¡Œæƒ…: <span class="hljs-subst">${data.symbol}</span> - <span class="hljs-subst">${data.last}</span> JPY`</span>);
};

ws.<span class="hljs-property">onclose</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"WebSocketè¿æ¥å·²å…³é—­"</span>);
};
</code></pre>
<h4 data-id="heading-13">2. æ—¥æœ¬IPOæ•°æ®è·å–</h4>
<p>è·å–æ—¥æœ¬å¸‚åœºçš„IPOæ–°è‚¡ä¿¡æ¯å’Œä¸Šå¸‚æ—¥ç¨‹ã€‚</p>
<p><strong>è¯·æ±‚ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_japan_ipo_list</span>(<span class="hljs-params">status=<span class="hljs-string">"upcoming"</span></span>):
    <span class="hljs-string">"""è·å–æ—¥æœ¬IPOåˆ—è¡¨
    status: upcoming(å³å°†ä¸Šå¸‚)/recent(è¿‘æœŸä¸Šå¸‚)
    """</span>
    url = <span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/stock/getIpo"</span>
    params = {
        <span class="hljs-string">"countryId"</span>: JAPAN_COUNTRY_ID,
        <span class="hljs-string">"status"</span>: status,
        <span class="hljs-string">"key"</span>: API_KEY
    }
    response = requests.get(url, params=params)
    <span class="hljs-keyword">return</span> response.json()

<span class="hljs-comment"># è·å–å³å°†ä¸Šå¸‚çš„IPO</span>
upcoming_ipos = get_japan_ipo_list()
</code></pre>
<h3 data-id="heading-14">å®æˆ˜åº”ç”¨æ¡ˆä¾‹</h3>
<h4 data-id="heading-15">æ—¥æœ¬è‚¡ç¥¨æ•°æ®ç›‘æ§ç³»ç»Ÿ</h4>
<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ªç®€å•çš„æ—¥æœ¬è‚¡ç¥¨ç›‘æ§ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">class</span> <span class="hljs-title class_">JapanStockMonitor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, api_key</span>):
        self.api_key = api_key
        self.base_url = <span class="hljs-string">"https://api.stocktv.top"</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_stock_list</span>(<span class="hljs-params">self, page_size=<span class="hljs-number">100</span></span>):
        <span class="hljs-string">"""è·å–æ—¥æœ¬è‚¡ç¥¨åˆ—è¡¨"""</span>
        url = <span class="hljs-string">f"<span class="hljs-subst">{self.base_url}</span>/stock/stocks"</span>
        params = {
            <span class="hljs-string">"countryId"</span>: <span class="hljs-number">16</span>,
            <span class="hljs-string">"pageSize"</span>: page_size,
            <span class="hljs-string">"page"</span>: <span class="hljs-number">1</span>,
            <span class="hljs-string">"key"</span>: self.api_key
        }
        
        response = requests.get(url, params=params)
        <span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:
            <span class="hljs-keyword">return</span> response.json()[<span class="hljs-string">"data"</span>][<span class="hljs-string">"records"</span>]
        <span class="hljs-keyword">return</span> []
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">monitor_top_stocks</span>(<span class="hljs-params">self, top_n=<span class="hljs-number">10</span></span>):
        <span class="hljs-string">"""ç›‘æ§å‰Nåªè‚¡ç¥¨"""</span>
        stocks = self.get_stock_list(top_n)
        monitor_results = []
        
        <span class="hljs-keyword">for</span> stock <span class="hljs-keyword">in</span> stocks:
            monitor_results.append({
                <span class="hljs-string">"symbol"</span>: stock[<span class="hljs-string">"symbol"</span>],
                <span class="hljs-string">"name"</span>: stock[<span class="hljs-string">"name"</span>],
                <span class="hljs-string">"price"</span>: stock[<span class="hljs-string">"last"</span>],
                <span class="hljs-string">"change_percent"</span>: stock[<span class="hljs-string">"chgPct"</span>],
                <span class="hljs-string">"volume"</span>: stock[<span class="hljs-string">"volume"</span>],
                <span class="hljs-string">"update_time"</span>: datetime.now().strftime(<span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span>)
            })
            time.sleep(<span class="hljs-number">0.5</span>)  <span class="hljs-comment"># é¿å…è¯·æ±‚è¿‡äºé¢‘ç¹</span>
        
        <span class="hljs-keyword">return</span> pd.DataFrame(monitor_results)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
monitor = JapanStockMonitor(<span class="hljs-string">"æ‚¨çš„APIå¯†é’¥"</span>)
df = monitor.monitor_top_stocks(<span class="hljs-number">5</span>)
<span class="hljs-built_in">print</span>(df)
</code></pre>
<h3 data-id="heading-16">é”™è¯¯å¤„ç†ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-17">1. å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> requests.exceptions <span class="hljs-keyword">import</span> RequestException
<span class="hljs-keyword">import</span> time

<span class="hljs-keyword">def</span> <span class="hljs-title function_">safe_api_call</span>(<span class="hljs-params">url, params, max_retries=<span class="hljs-number">3</span></span>):
    <span class="hljs-string">"""å¸¦é‡è¯•æœºåˆ¶çš„APIè°ƒç”¨"""</span>
    <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_retries):
        <span class="hljs-keyword">try</span>:
            response = requests.get(url, params=params, timeout=<span class="hljs-number">10</span>)
            response.raise_for_status()
            <span class="hljs-keyword">return</span> response.json()
        <span class="hljs-keyword">except</span> requests.exceptions.HTTPError <span class="hljs-keyword">as</span> err:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"HTTPé”™è¯¯: <span class="hljs-subst">{err.response.status_code}</span>"</span>)
            <span class="hljs-keyword">if</span> attempt == max_retries - <span class="hljs-number">1</span>:
                <span class="hljs-keyword">return</span> {<span class="hljs-string">"code"</span>: err.response.status_code, <span class="hljs-string">"message"</span>: <span class="hljs-string">"HTTPé”™è¯¯"</span>}
        <span class="hljs-keyword">except</span> requests.exceptions.ConnectionError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç½‘ç»œè¿æ¥å¤±è´¥"</span>)
            <span class="hljs-keyword">if</span> attempt == max_retries - <span class="hljs-number">1</span>:
                <span class="hljs-keyword">return</span> {<span class="hljs-string">"code"</span>: -<span class="hljs-number">1</span>, <span class="hljs-string">"message"</span>: <span class="hljs-string">"ç½‘ç»œè¿æ¥å¤±è´¥"</span>}
        time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># é‡è¯•å‰ç­‰å¾…</span>
</code></pre>
<h4 data-id="heading-18">2. æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>æ‰€æœ‰APIè°ƒç”¨éƒ½éœ€è¦åŒ…å«æœ‰æ•ˆçš„API Key</li>
<li>åˆç†æ§åˆ¶è¯·æ±‚é¢‘ç‡ï¼Œé¿å…è¿‡åº¦è¯·æ±‚</li>
<li>æ—¥æœ¬å¸‚åœºæœ‰ç‰¹å®šçš„å‡æ—¥å®‰æ’ï¼Œéäº¤æ˜“æ—¥æ•°æ®å¯èƒ½ä¸æ›´æ–°</li>
<li>æ•°æ®ä»…ä¾›å‚è€ƒï¼ŒæŠ•èµ„å†³ç­–è¯·è°¨æ…</li>
</ul>
<h3 data-id="heading-19">æ€»ç»“</h3>
<p>StockTV API ä¸ºå¼€å‘è€…æä¾›äº†å…¨é¢æ¥å…¥æ—¥æœ¬è‚¡ç¥¨å¸‚åœºçš„è§£å†³æ–¹æ¡ˆï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ol>
<li>ä½å»¶è¿Ÿå®æ—¶æ€§ï¼šç›´æ¥å¯¹æ¥åº•å±‚æ•°æ®æºï¼Œç¡®ä¿ä»·æ ¼å˜åŠ¨ç§’çº§åŒæ­¥</li>
<li>æ•°æ®ç»´åº¦å…¨ï¼šé™¤äº†ä»·æ ¼ï¼Œè¿˜æä¾›å…¬å¸åŸºæœ¬é¢æè¿°ã€è¡Œä¸šåˆ†ç±»åŠæ¿å—ä¿¡æ¯</li>
<li>å¤šåè®®æ¥å…¥ï¼šåŒæ—¶æ”¯æŒ HTTP è°ƒç”¨å’Œ WebSocket å®æ—¶æ¨é€ï¼Œé€‚åˆä¸åŒæ€§èƒ½è¦æ±‚çš„åº”ç”¨åœºæ™¯</li>
<li>æ˜“äºé›†æˆï¼šåªéœ€ä¼ å…¥ç›¸åº”çš„å›½å®¶IDå‚æ•°ï¼Œå³å¯å¿«é€Ÿåˆ‡æ¢è‡³å…¶ä»–å›½å®¶å¸‚åœº</li>
</ol>
<p>é€šè¿‡æœ¬æ–‡ä»‹ç»çš„æ¥å£å’Œæ–¹æ³•ï¼Œä½ å¯ä»¥å¿«é€Ÿæ„å»ºæ—¥æœ¬è‚¡ç¥¨æ•°æ®ç›‘æ§ã€åˆ†æå’Œäº¤æ˜“ç³»ç»Ÿã€‚å»ºè®®ä»å…è´¹å¥—é¤å¼€å§‹ï¼ŒéªŒè¯æƒ³æ³•å’Œç­–ç•¥é€»è¾‘ï¼Œå¾…éœ€æ±‚æ˜ç¡®åå†è€ƒè™‘å‡çº§åˆ°æ›´é«˜çº§çš„æœåŠ¡å¥—é¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JWT ä¿å§†çº§æ•™ç¨‹ï¼šç”Ÿæˆ + éªŒè¯ + é˜²ç¯¡æ”¹ï¼Œä¸€ç¯‡è®²é€]]></title>    <link>https://juejin.cn/post/7598203055751741475</link>    <guid>https://juejin.cn/post/7598203055751741475</guid>    <pubDate>2026-01-23T04:25:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598203055751741475" data-draft-id="7598174154664575011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JWT ä¿å§†çº§æ•™ç¨‹ï¼šç”Ÿæˆ + éªŒè¯ + é˜²ç¯¡æ”¹ï¼Œä¸€ç¯‡è®²é€"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-23T04:25:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿæ²"/> <meta itemprop="url" content="https://juejin.cn/user/1662117311950744"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JWT ä¿å§†çº§æ•™ç¨‹ï¼šç”Ÿæˆ + éªŒè¯ + é˜²ç¯¡æ”¹ï¼Œä¸€ç¯‡è®²é€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1662117311950744/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿæ²
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:25:15.000Z" title="Fri Jan 23 2026 04:25:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>JWTï¼ˆJSON Web Tokenï¼‰çš„æ ¸å¿ƒä»·å€¼æ˜¯<strong>æ— çŠ¶æ€ä¼ é€’å¯ä¿¡ä¿¡æ¯</strong>ï¼Œæ•´ä¸ªæµç¨‹åˆ†ä¸ºã€ŒæœåŠ¡å™¨ç”Ÿæˆ Tokenã€å’Œã€ŒæœåŠ¡å™¨éªŒè¯ Tokenã€ä¸¤å¤§ç¯èŠ‚ï¼Œä¸‹é¢ç»“åˆå®æˆ˜åœºæ™¯å’Œä»£ç æ€è·¯ï¼Œç”¨å¤§ç™½è¯è®²é€æ¯ä¸€æ­¥ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å‰ç½®å‡†å¤‡</h2>
<p>åœ¨ç”Ÿæˆ Token å‰ï¼Œå…ˆç¡®å®š 3 ä¸ªæ ¸å¿ƒè¦ç´ ï¼š</p>
<ol>
<li><strong>ç®—æ³•</strong>ï¼šé€‰ HS256ï¼ˆå¯¹ç§°åŠ å¯†ï¼Œåªæœ‰ä¸€ä¸ªå¯†é’¥ï¼ŒæœåŠ¡å™¨è‡ªå·±ç”¨ï¼‰</li>
<li><strong>å¯†é’¥</strong>ï¼šæœåŠ¡å™¨ä¸“å±çš„ â€œé˜²ä¼ªå°ç« â€ï¼Œæ¯”å¦‚ <code>mp</code>ï¼ˆç»å¯¹ä¸èƒ½æ³„éœ²ï¼ï¼‰</li>
<li><strong>Payload ä¸šåŠ¡ä¿¡æ¯</strong>ï¼šè¦ä¼ é€’çš„ç”¨æˆ·æ•°æ® + è¿‡æœŸæ—¶é—´ï¼Œæ¯”å¦‚ <code>userId:123</code>ã€<code>exp:è¿‡æœŸæ—¶é—´æˆ³</code></li>
</ol>
<h2 data-id="heading-1">äºŒã€ç¬¬ä¸€æ­¥ï¼šæœåŠ¡å™¨ç”Ÿæˆ JWT Token</h2>
<p>ä»¥ç”¨æˆ·ç™»å½•æˆåŠŸä¸ºä¾‹ï¼ŒæœåŠ¡å™¨ç”Ÿæˆ Token åˆ†ä¸º 5 æ­¥ï¼š</p>
<h3 data-id="heading-2">1. æ„å»º Headerï¼ˆå¤´éƒ¨ï¼‰</h3>
<p>Header æ˜¯ JWT çš„ â€œè§„åˆ™è¯´æ˜â€ï¼Œå›ºå®šåŒ…å«ä¸¤ä¸ªå­—æ®µï¼š</p>
<ul>
<li><code>alg</code>ï¼šç­¾åç®—æ³•ï¼Œè¿™é‡Œå¡« <code>HS256</code></li>
<li><code>typ</code>ï¼šToken ç±»å‹ï¼Œå›ºå®šå¡« <code>JWT</code></li>
</ul>
<p><strong>åŸå§‹ JSON</strong>ï¼š</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"alg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"HS256"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"typ"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JWT"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>è½¬ Base64 ç¼–ç </strong>ï¼šå°†ä¸Šé¢çš„ JSON è½¬æˆ Base64 å­—ç¬¦ä¸²ï¼ˆå¯å…¬å¼€è§£ç ï¼‰ï¼Œå¾—åˆ°ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šBase64 æ˜¯ç¼–ç ä¸æ˜¯åŠ å¯†ï¼Œä»»ä½•äººéƒ½èƒ½è§£ç å›åŸæ–‡ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2. æ„å»º Payloadï¼ˆè½½è·ï¼‰</h3>
<p>Payload æ˜¯ JWT çš„ â€œä¸šåŠ¡æ•°æ®è½½ä½“â€ï¼Œå­˜æ”¾éœ€è¦ä¼ é€’çš„ä¿¡æ¯ï¼Œ<strong>å»ºè®®åªå­˜éæ•æ„Ÿæ•°æ®</strong>ï¼ˆå› ä¸ºå¯å…¬å¼€è§£ç ï¼‰ã€‚å¿…é¡»åŠ  <code>exp</code> å­—æ®µï¼ˆè¿‡æœŸæ—¶é—´ï¼ŒUnix ç§’çº§æ—¶é—´æˆ³ï¼‰ï¼Œé¿å… Token æ°¸ä¹…æœ‰æ•ˆã€‚</p>
<p><strong>åŸå§‹ JSON</strong>ï¼ˆç¤ºä¾‹ï¼‰ï¼š</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"userId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"username"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"exp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1737646800</span>  <span class="hljs-comment">// ä»£è¡¨ 2026-01-23 17:00:00 è¿‡æœŸ</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>è½¬ Base64 ç¼–ç </strong>ï¼šå¾—åˆ° Base64 å­—ç¬¦ä¸²ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs">eyJ1c2VySWQiOjEyMywidXNlcm5hbWUiOiLlvKDkuIkicm9sZSI6InVzZXIiLCJleHAiOjE3Mzc2NDY4MDB9
</code></pre>
<h3 data-id="heading-4">3. æ‹¼æ¥ Header å’Œ Payload</h3>
<p>å°† Header çš„ Base64 ä¸²å’Œ Payload çš„ Base64 ä¸²ç”¨ <code>.</code> è¿æ¥ï¼Œå¾—åˆ°<strong>å¾…ç­¾åå­—ç¬¦ä¸²</strong>ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEyMywidXNlcm5hbWUiOiLlvKDkuIkicm9sZSI6InVzZXIiLCJleHAiOjE3Mzc2NDY4MDB9
</code></pre>
<h3 data-id="heading-5">4. ç”Ÿæˆ Signatureï¼ˆç­¾åï¼‰â€”â€” é˜²ç¯¡æ”¹æ ¸å¿ƒ</h3>
<p>è¿™æ˜¯ JWT æœ€å…³é”®çš„ä¸€æ­¥ï¼Œç›®çš„æ˜¯ç»™ â€œå¾…ç­¾åå­—ç¬¦ä¸²â€ ç›–ä¸€ä¸ª â€œé˜²ä¼ªå°ç« â€ã€‚<strong>è®¡ç®—è§„åˆ™</strong>ï¼šç”¨æœåŠ¡å™¨çš„å¯†é’¥ï¼ˆæ¯”å¦‚ <code>mp</code>ï¼‰ + é€‰å®šçš„ HS256 ç®—æ³•ï¼Œå¯¹ â€œå¾…ç­¾åå­—ç¬¦ä¸²â€ è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œå¾—åˆ°äºŒè¿›åˆ¶ç­¾å â†’ å†è½¬ Base64URL ç¼–ç ï¼ˆå’Œ Base64 å‡ ä¹ä¸€æ ·ï¼Œé€‚é… URL ä¼ è¾“ï¼‰ã€‚</p>
<p><strong>ä¼ªä»£ç é€»è¾‘</strong>ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs language-scss" lang="scss">ç­¾ååŸå§‹å€¼ = <span class="hljs-built_in">HMAC-SHA256</span>(å¾…ç­¾åå­—ç¬¦ä¸², å¯†é’¥"mp")
ç­¾åBase64 = Base64URLç¼–ç (ç­¾ååŸå§‹å€¼)
</code></pre>
<p>æœ€ç»ˆå¾—åˆ°ç­¾åä¸²ï¼ˆç¤ºä¾‹ï¼‰ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs">xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</code></pre>
<h3 data-id="heading-6">5. ç»„è£…å®Œæ•´ JWT Token</h3>
<p>å°†ã€ŒHeaderBase64ã€ã€ŒPayloadBase64ã€ã€Œç­¾å Base64ã€ä¸‰éƒ¨åˆ†ç”¨ <code>.</code> è¿æ¥ï¼Œå°±æ˜¯æœ€ç»ˆçš„ JWT Tokenï¼š</p>
<p>plaintext</p>
<pre><code class="hljs">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEyMywidXNlcm5hbWUiOiLlvKDkuIkicm9sZSI6InVzZXIiLCJleHAiOjE3Mzc2NDY4MDB9.xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
</code></pre>
<p>æœåŠ¡å™¨å°†è¿™ä¸ª Token è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯åç»­è¯·æ±‚æ—¶ï¼Œéœ€è¦æºå¸¦è¿™ä¸ª Tokenã€‚</p>
<h2 data-id="heading-7">ä¸‰ã€ç¬¬äºŒæ­¥ï¼šæœåŠ¡å™¨éªŒè¯ JWT Tokenï¼ˆå«é˜²ç¯¡æ”¹ + è¿‡æœŸæ£€æŸ¥ï¼‰</h2>
<p>å®¢æˆ·ç«¯æºå¸¦ Token è®¿é—®æ¥å£æ—¶ï¼ŒæœåŠ¡å™¨æŒ‰ä»¥ä¸‹ 5 æ­¥éªŒè¯ï¼Œ<strong>æ ¸å¿ƒæ˜¯ â€œé‡æ–°ç®—ç­¾åå¯¹æ¯”â€</strong> ã€‚</p>
<h3 data-id="heading-8">1. æ‹† Token</h3>
<p>æœåŠ¡å™¨æ‹¿åˆ° Token åï¼ŒæŒ‰ <code>.</code> åˆ†å‰²ä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<ul>
<li>ç¬¬ä¸€éƒ¨åˆ†ï¼š<code>HeaderBase64</code></li>
<li>ç¬¬äºŒéƒ¨åˆ†ï¼š<code>PayloadBase64</code></li>
<li>ç¬¬ä¸‰éƒ¨åˆ†ï¼š<code>å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„ç­¾åBase64</code></li>
</ul>
<h3 data-id="heading-9">2. è§£æ Headerï¼Œç¡®å®šéªŒè¯ç®—æ³•</h3>
<p>è§£ç  <code>HeaderBase64</code> å¾—åˆ° JSON åŸæ–‡ï¼Œè¯»å– <code>alg:HS256</code> â†’ ç¡®å®šç”¨ HS256 ç®—æ³•éªŒè¯ç­¾åã€‚</p>
<h3 data-id="heading-10">3. è§£æ Payloadï¼Œæ£€æŸ¥æ˜¯å¦è¿‡æœŸ</h3>
<p>è§£ç  <code>PayloadBase64</code> å¾—åˆ° JSON åŸæ–‡ï¼Œæå– <code>exp</code> å­—æ®µçš„è¿‡æœŸæ—¶é—´æˆ³ï¼š</p>
<ul>
<li>æœåŠ¡å™¨è·å–è‡ªå·±çš„å½“å‰ Unix ç§’çº§æ—¶é—´æˆ³ï¼ˆæ¯”å¦‚ <code>1737640800</code>ï¼Œä»£è¡¨ 15:00ï¼‰</li>
<li><strong>æ—¶é—´å¯¹æ¯”</strong>ï¼šâœ… å½“å‰æ—¶é—´æˆ³ &lt; <code>exp</code> æ—¶é—´æˆ³ â†’ Token æœªè¿‡æœŸï¼Œç»§ç»­ä¸‹ä¸€æ­¥âŒ å½“å‰æ—¶é—´æˆ³ â‰¥ <code>exp</code> æ—¶é—´æˆ³ â†’ ç›´æ¥æ‹’ç»è¯·æ±‚ï¼ˆå“ªæ€•ç­¾åæ­£ç¡®ä¹Ÿæ²¡ç”¨ï¼‰</li>
</ul>
<h3 data-id="heading-11">4. é‡æ–°æ‹¼æ¥ + è®¡ç®—æ–°ç­¾å</h3>
<p>å°†åˆ†å‰²å¾—åˆ°çš„ <code>HeaderBase64</code> å’Œ <code>PayloadBase64</code> å†æ¬¡æ‹¼æ¥ä¸ºå¾…ç­¾åå­—ç¬¦ä¸²ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs">HeaderBase64.PayloadBase64
</code></pre>
<p>ç”¨æœåŠ¡å™¨çš„å¯†é’¥ <code>mp</code> + HS256 ç®—æ³•ï¼Œé‡æ–°è®¡ç®—å‡ºä¸€ä¸ª <strong>æ–°çš„ç­¾å Base64</strong>ã€‚</p>
<h3 data-id="heading-12">5. å¯¹æ¯”ç­¾åï¼Œåˆ¤æ–­ Token æ˜¯å¦åˆæ³•</h3>
<p>å°†æœåŠ¡å™¨é‡æ–°è®¡ç®—çš„ <code>æ–°ç­¾åBase64</code> ä¸å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„ <code>åŸç­¾åBase64</code> å¯¹æ¯”ï¼š</p>
<ul>
<li>âœ… ç­¾åä¸€è‡´ â†’ Token æœªè¢«ç¯¡æ”¹ï¼Œåˆæ³•æœ‰æ•ˆï¼ŒæœåŠ¡å™¨è§£æ Payload ä¸­çš„ç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚ userIdï¼‰ï¼Œå¤„ç†ä¸šåŠ¡è¯·æ±‚</li>
<li>âŒ ç­¾åä¸ä¸€è‡´ â†’ Token è¢«ç¯¡æ”¹ï¼ˆæ¯”å¦‚é»‘å®¢æ”¹äº† userIdï¼‰ï¼Œç›´æ¥æ‹’ç»è¯·æ±‚</li>
</ul>
<h2 data-id="heading-13">å››ã€å…³é”®åœºæ™¯ï¼šé»‘å®¢ç¯¡æ”¹ Token ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h2>
<p>å‡è®¾é»‘å®¢è§£ç  Payloadï¼Œå°† <code>userId:123</code> æ”¹ä¸º <code>userId:999</code>ï¼ˆæƒ³å†’å……ç®¡ç†å‘˜ï¼‰ï¼Œå†é‡æ–°ç¼–ç ä¸º <code>æ–°PayloadBase64</code>ï¼Œæ„é€ å‡ Tokenï¼š</p>
<p>plaintext</p>
<pre><code class="hljs">HeaderBase64.æ–°PayloadBase64.åŸç­¾åBase64
</code></pre>
<p>æœåŠ¡å™¨éªŒè¯æ—¶ï¼š</p>
<ol>
<li>æ‹¼æ¥ <code>HeaderBase64.æ–°PayloadBase64</code> å¾—åˆ°æ–°çš„å¾…ç­¾åå­—ç¬¦ä¸²</li>
<li>ç”¨å¯†é’¥ <code>mp</code> ç®—å‡ºæ¥çš„<strong>æ–°ç­¾å</strong>ï¼Œå’Œé»‘å®¢ä¼ çš„<strong>åŸç­¾å</strong>å®Œå…¨ä¸ä¸€æ ·</li>
<li>ç­¾åå¯¹æ¯”å¤±è´¥ â†’ éªŒè¯ä¸é€šè¿‡ï¼Œè¯·æ±‚è¢«æ‹’</li>
</ol>
<h2 data-id="heading-14">äº”ã€æ ¸å¿ƒç»“è®º</h2>
<ol>
<li><strong>ç”Ÿæˆå…³é”®</strong>ï¼šç­¾åæ˜¯ Header+Payload + å¯†é’¥çš„ â€œæ•°å­—æŒ‡çº¹â€ï¼Œå¯†é’¥ä¸æ³„éœ²ï¼Œç­¾åå°±æ— æ³•ä¼ªé€ ã€‚</li>
<li><strong>éªŒè¯å…³é”®</strong>ï¼šå…ˆæŸ¥è¿‡æœŸæ—¶é—´ï¼Œå†å¯¹æ¯”ç­¾åï¼Œä¸¤æ­¥ç¼ºä¸€ä¸å¯ã€‚</li>
<li><strong>é˜²ç¯¡æ”¹å…³é”®</strong>ï¼šåªè¦ Header/Payload æœ‰ä»»ä½•å­—ç¬¦æ”¹åŠ¨ï¼Œé‡æ–°è®¡ç®—çš„ç­¾åå°±ä¼šå®Œå…¨å˜åŒ–ï¼Œé»‘å®¢æ— æ³•ç»•è¿‡ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RuoYi-Cloud å­—å…¸å¯¼å…¥å¯¼å‡ºå­—å…¸è½¬æ¢å®ç°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7598130716339519526</link>    <guid>https://juejin.cn/post/7598130716339519526</guid>    <pubDate>2026-01-23T04:22:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598130716339519526" data-draft-id="7598089234033967104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RuoYi-Cloud å­—å…¸å¯¼å…¥å¯¼å‡ºå­—å…¸è½¬æ¢å®ç°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,Excel"/> <meta itemprop="datePublished" content="2026-01-23T04:22:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒèšªçº¹é’è›™"/> <meta itemprop="url" content="https://juejin.cn/user/2747015110601144"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RuoYi-Cloud å­—å…¸å¯¼å…¥å¯¼å‡ºå­—å…¸è½¬æ¢å®ç°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2747015110601144/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒèšªçº¹é’è›™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:22:59.000Z" title="Fri Jan 23 2026 04:22:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">RuoYi-Cloud å­—å…¸å¯¼å…¥å¯¼å‡ºå­—å…¸è½¬æ¢å®ç°æ–¹æ¡ˆ</h2>
<h3 data-id="heading-1">ğŸ“– å‰è¨€</h3>
<p>åœ¨ RuoYi-Cloud å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå®ç° Excel å¯¼å…¥å¯¼å‡ºæ—¶æ”¯æŒå­—å…¸è½¬æ¢æ˜¯ä¸€ä¸ªå¸¸è§éœ€æ±‚ã€‚æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨ RuoYi-Cloud æ¡†æ¶ä¸­é›†æˆå­—å…¸æ•°æ®çš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ï¼Œå‚è€ƒäº†èŠ‹é“æºç çš„è®¾è®¡æ€è·¯å¹¶è¿›è¡Œäº†ä¼˜åŒ–å®ç°ã€‚</p>
<h3 data-id="heading-2">ğŸ“¦ å®Œæ•´å¯è¿è¡Œæºç </h3>
<ul>
<li><strong>Gitee ä»“åº“</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2FMin-Duck%2FRuoYi-Cloud.git" target="_blank" title="https://gitee.com/Min-Duck/RuoYi-Cloud.git" ref="nofollow noopener noreferrer">gitee.com/Min-Duck/Ruâ€¦</a></li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸ› ï¸ æŠ€æœ¯ä¾èµ–</h3>
<p>æœ¬æ–¹æ¡ˆä¸»è¦ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š</p>

























<table><thead><tr><th>æŠ€æœ¯æ ˆ</th><th>ç‰ˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Hutool</td><td>5.8.42</td><td>Java å·¥å…·ç±»åº“ï¼Œæä¾›ä¸°å¯Œçš„å·¥å…·æ–¹æ³•</td></tr><tr><td>Lombok</td><td>1.18.42</td><td>ç®€åŒ– Java ä»£ç ï¼Œè‡ªåŠ¨ç”Ÿæˆ getter/setter ç­‰</td></tr><tr><td>Guava</td><td>33.5.0-jre</td><td>Google æ ¸å¿ƒåº“ï¼Œæä¾›ç¼“å­˜ç­‰é«˜çº§åŠŸèƒ½</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-4">ğŸ”§ å®ç°æ­¥éª¤</h3>
<h4 data-id="heading-5">1ï¸âƒ£ ä¾èµ–é…ç½®</h4>
<h5 data-id="heading-6">1.1 æ ¹ç›®å½• <code>pom.xml</code> é…ç½®</h5>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ <code>pom.xml</code> ä¸­å£°æ˜ä¾èµ–ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ç‰ˆæœ¬å£°æ˜ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hutool.version</span>&gt;</span>5.8.42<span class="hljs-tag">&lt;/<span class="hljs-name">hutool.version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lombok.version</span>&gt;</span>1.18.42<span class="hljs-tag">&lt;/<span class="hljs-name">lombok.version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">guava.version</span>&gt;</span>33.5.0-jre<span class="hljs-tag">&lt;/<span class="hljs-name">guava.version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¾èµ–å£°æ˜ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.hutool<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hutool-all<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${hutool.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${lombok.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.google.guava<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>guava<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${guava.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>
</code></pre>
<h5 data-id="heading-7">1.2 <code>ruoyi-common-core</code> æ¨¡å— <code>pom.xml</code> é…ç½®</h5>
<p>åœ¨ <code>ruoyi-common-core</code> æ¨¡å—ä¸­å¼•å…¥ä¸Šè¿°ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.hutool<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hutool-all<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.google.guava<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>guava<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<hr/>
<h4 data-id="heading-8">2ï¸âƒ£ è¿œç¨‹å­—å…¸æœåŠ¡æ¥å£</h4>
<p>åœ¨ <code>ruoyi-api-system</code> æ¨¡å—ä¸­æ·»åŠ è¿œç¨‹å­—å…¸æœåŠ¡æ¥å£å’Œé™çº§å¤„ç†ç±»ã€‚</p>
<h5 data-id="heading-9">2.1 <code>RemoteDictDataService</code> æ¥å£</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.system.api;

<span class="hljs-keyword">import</span> com.ruoyi.common.core.domain.R;
<span class="hljs-keyword">import</span> com.ruoyi.system.api.domain.SysDictData;
<span class="hljs-keyword">import</span> org.springframework.cloud.openfeign.FeignClient;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestHeader;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * è¿œç¨‹å­—å…¸æ•°æ®æœåŠ¡æ¥å£
 * &lt;p&gt;
 * ç”¨äºåœ¨å¾®æœåŠ¡é—´è°ƒç”¨ç³»ç»Ÿæ¨¡å—çš„å­—å…¸æ•°æ®æŸ¥è¯¢åŠŸèƒ½
 * &lt;/p&gt;
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026/1/23
 */</span>
<span class="hljs-meta">@FeignClient(
        contextId = "remoteDictDataService",
        value = ServiceNameConstants.SYSTEM_SERVICE,
        fallbackFactory = RemoteDictDataFallbackFactory.class
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RemoteDictDataService</span> {

    <span class="hljs-comment">/**
     * æ ¹æ®å­—å…¸ç±»å‹æŸ¥è¯¢å­—å…¸æ•°æ®åˆ—è¡¨
     *
     * <span class="hljs-doctag">@param</span> dictType å­—å…¸ç±»å‹
     * <span class="hljs-doctag">@param</span> source   è¯·æ±‚æ¥æºæ ‡è¯†
     * <span class="hljs-doctag">@return</span> å­—å…¸æ•°æ®åˆ—è¡¨
     */</span>
    <span class="hljs-meta">@GetMapping("/dict/data/type/{dictType}")</span>
    R&lt;List&lt;SysDictData&gt;&gt; <span class="hljs-title function_">getDictDataList</span><span class="hljs-params">(
            <span class="hljs-meta">@PathVariable("dictType")</span> String dictType,
            <span class="hljs-meta">@RequestHeader(SecurityConstants.FROM_SOURCE)</span> String source
    )</span>;
}
</code></pre>
<h5 data-id="heading-10">2.2 <code>RemoteDictDataFallbackFactory</code> é™çº§å¤„ç†ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.system.api.factory;

<span class="hljs-keyword">import</span> com.ruoyi.common.core.domain.R;
<span class="hljs-keyword">import</span> com.ruoyi.system.api.RemoteDictDataService;
<span class="hljs-keyword">import</span> com.ruoyi.system.api.domain.SysDictData;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * è¿œç¨‹å­—å…¸æœåŠ¡é™çº§å¤„ç†å·¥å‚
 * &lt;p&gt;
 * å½“ç³»ç»ŸæœåŠ¡ä¸å¯ç”¨æ—¶ï¼Œæä¾›é™çº§å¤„ç†é€»è¾‘
 * &lt;/p&gt;
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026/1/23
 */</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RemoteDictDataFallbackFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">FallbackFactory</span>&lt;RemoteDictDataService&gt; {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> RemoteDictDataService <span class="hljs-title function_">create</span><span class="hljs-params">(Throwable cause)</span> {
        log.error(<span class="hljs-string">"è¿œç¨‹å­—å…¸æœåŠ¡è°ƒç”¨å¤±è´¥: {}"</span>, cause.getMessage());
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RemoteDictDataService</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> R&lt;List&lt;SysDictData&gt;&gt; <span class="hljs-title function_">getDictDataList</span><span class="hljs-params">(String dictType, String source)</span> {
                log.error(<span class="hljs-string">"æŸ¥è¯¢å­—å…¸æ•°æ®å¤±è´¥ï¼Œå­—å…¸ç±»å‹: {}"</span>, dictType);
                <span class="hljs-keyword">return</span> R.fail();
            }
        };
    }
}
</code></pre>
<h5 data-id="heading-11">2.3 è‡ªåŠ¨é…ç½®ç±»æ³¨å†Œ</h5>
<p>åœ¨ <code>org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">com.ruoyi.system.api.factory.RemoteUserFallbackFactory</span>
<span class="hljs-string">com.ruoyi.system.api.factory.RemoteLogFallbackFactory</span>
<span class="hljs-string">com.ruoyi.system.api.factory.RemoteFileFallbackFactory</span>
<span class="hljs-string">com.ruoyi.system.api.factory.RemoteDictDataFallbackFactory</span>
</code></pre>
<hr/>
<h4 data-id="heading-12">3ï¸âƒ£ å­—å…¸æ¡†æ¶æ¨¡å—</h4>
<p>åœ¨ <code>ruoyi-common</code> æ¨¡å—ä¸‹åˆ›å»º <code>ruoyi-common-excel</code> å­æ¨¡å—ï¼Œç”¨äºå¤„ç† Excel å¯¼å…¥å¯¼å‡ºä¸­çš„å­—å…¸è½¬æ¢ã€‚</p>
<h5 data-id="heading-13">3.1 æ¨¡å—ç»“æ„</h5>
<pre><code class="hljs language-css" lang="css">ruoyi-common-excel/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â”œâ”€â”€ <span class="hljs-selector-tag">main</span>/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ ruoyi/
â”‚   â”‚   â”‚           â””â”€â”€ framework/
â”‚   â”‚   â”‚               â””â”€â”€ dict/
â”‚   â”‚   â”‚                   â”œâ”€â”€ config/
â”‚   â”‚   â”‚                   â”‚   â””â”€â”€ DictAutoConfiguration<span class="hljs-selector-class">.java</span>
â”‚   â”‚   â”‚                   â””â”€â”€ core/
â”‚   â”‚   â”‚                       â””â”€â”€ DictFrameworkUtils<span class="hljs-selector-class">.java</span>
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â””â”€â”€ META-INF/
â”‚   â”‚           â””â”€â”€ spring/
â”‚   â”‚               â””â”€â”€ org<span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.autoconfigure</span><span class="hljs-selector-class">.AutoConfiguration</span><span class="hljs-selector-class">.imports</span>
â”‚   â””â”€â”€ test/
â””â”€â”€ pom<span class="hljs-selector-class">.xml</span>
</code></pre>
<h5 data-id="heading-14">3.2 <code>DictAutoConfiguration</code> è‡ªåŠ¨é…ç½®ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.framework.dict.config;

<span class="hljs-keyword">import</span> com.ruoyi.framework.dict.core.DictFrameworkUtils;
<span class="hljs-keyword">import</span> com.ruoyi.system.api.RemoteDictDataService;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.AutoConfiguration;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;

<span class="hljs-comment">/**
 * å­—å…¸è‡ªåŠ¨é…ç½®ç±»
 * &lt;p&gt;
 * è´Ÿè´£åˆå§‹åŒ–å­—å…¸å·¥å…·ç±»å¹¶æ³¨å†Œåˆ° Spring å®¹å™¨
 * &lt;/p&gt;
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026-01-23
 */</span>
<span class="hljs-meta">@AutoConfiguration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DictAutoConfiguration</span> {

    <span class="hljs-comment">/**
     * æ³¨å†Œå­—å…¸å·¥å…·ç±» Bean
     *
     * <span class="hljs-doctag">@param</span> dictDataApi è¿œç¨‹å­—å…¸æœåŠ¡æ¥å£
     * <span class="hljs-doctag">@return</span> å­—å…¸å·¥å…·ç±»å®ä¾‹
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@SuppressWarnings("InstantiationOfUtilityClass")</span>
    <span class="hljs-keyword">public</span> DictFrameworkUtils <span class="hljs-title function_">dictUtils</span><span class="hljs-params">(RemoteDictDataService dictDataApi)</span> {
        DictFrameworkUtils.init(dictDataApi);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DictFrameworkUtils</span>();
    }
}
</code></pre>
<h5 data-id="heading-15">3.3 <code>DictFrameworkUtils</code> å­—å…¸å·¥å…·ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.framework.dict.core;

<span class="hljs-keyword">import</span> cn.hutool.core.collection.CollUtil;
<span class="hljs-keyword">import</span> com.google.common.cache.CacheLoader;
<span class="hljs-keyword">import</span> com.google.common.cache.LoadingCache;
<span class="hljs-keyword">import</span> com.ruoyi.common.core.collection.CollectionUtils;
<span class="hljs-keyword">import</span> com.ruoyi.common.core.constant.SecurityConstants;
<span class="hljs-keyword">import</span> com.ruoyi.common.core.utils.cache.CacheUtils;
<span class="hljs-keyword">import</span> com.ruoyi.system.api.RemoteDictDataService;
<span class="hljs-keyword">import</span> com.ruoyi.system.api.domain.SysDictData;
<span class="hljs-keyword">import</span> lombok.SneakyThrows;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;

<span class="hljs-keyword">import</span> java.time.Duration;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Objects;

<span class="hljs-comment">/**
 * å­—å…¸å·¥å…·ç±»
 * &lt;p&gt;
 * æä¾›å­—å…¸æ•°æ®çš„æŸ¥è¯¢ã€è½¬æ¢å’Œç¼“å­˜åŠŸèƒ½
 * &lt;/p&gt;
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026-01-23
 */</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DictFrameworkUtils</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> RemoteDictDataService dictDataApi;

    <span class="hljs-comment">/**
     * å­—å…¸æ•°æ®ç¼“å­˜
     * &lt;p&gt;
     * ä½¿ç”¨ Guava Cache å®ç°ï¼Œç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º 1 åˆ†é’Ÿ
     * &lt;/p&gt;
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> LoadingCache&lt;String, List&lt;SysDictData&gt;&gt; GET_DICT_DATA_CACHE = CacheUtils.buildAsyncReloadingCache(
            Duration.ofMinutes(<span class="hljs-number">1L</span>), <span class="hljs-comment">// ç¼“å­˜è¿‡æœŸæ—¶é—´</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">CacheLoader</span>&lt;String, List&lt;SysDictData&gt;&gt;() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> List&lt;SysDictData&gt; <span class="hljs-title function_">load</span><span class="hljs-params">(String dictType)</span> {
                    <span class="hljs-keyword">return</span> dictDataApi.getDictDataList(dictType, SecurityConstants.INNER).getData();
                }
            }
    );

    <span class="hljs-comment">/**
     * åˆå§‹åŒ–å­—å…¸å·¥å…·ç±»
     *
     * <span class="hljs-doctag">@param</span> dictDataApi è¿œç¨‹å­—å…¸æœåŠ¡æ¥å£
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(RemoteDictDataService dictDataApi)</span> {
        DictFrameworkUtils.dictDataApi = dictDataApi;
        log.info(<span class="hljs-string">"[init][å­—å…¸å·¥å…·ç±»åˆå§‹åŒ–æˆåŠŸ]"</span>);
    }

    <span class="hljs-comment">/**
     * æ¸…ç©ºå­—å…¸ç¼“å­˜
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearCache</span><span class="hljs-params">()</span> {
        GET_DICT_DATA_CACHE.invalidateAll();
    }

    <span class="hljs-comment">/**
     * æ ¹æ®å­—å…¸ç±»å‹å’Œå€¼è·å–å­—å…¸æ ‡ç­¾
     *
     * <span class="hljs-doctag">@param</span> dictType å­—å…¸ç±»å‹
     * <span class="hljs-doctag">@param</span> value    å­—å…¸å€¼
     * <span class="hljs-doctag">@return</span> å­—å…¸æ ‡ç­¾
     */</span>
    <span class="hljs-meta">@SneakyThrows</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">parseDictDataLabel</span><span class="hljs-params">(String dictType, Integer value)</span> {
        <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> parseDictDataLabel(dictType, String.valueOf(value));
    }

    <span class="hljs-comment">/**
     * æ ¹æ®å­—å…¸ç±»å‹å’Œå€¼è·å–å­—å…¸æ ‡ç­¾
     *
     * <span class="hljs-doctag">@param</span> dictType å­—å…¸ç±»å‹
     * <span class="hljs-doctag">@param</span> value    å­—å…¸å€¼
     * <span class="hljs-doctag">@return</span> å­—å…¸æ ‡ç­¾
     */</span>
    <span class="hljs-meta">@SneakyThrows</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">parseDictDataLabel</span><span class="hljs-params">(String dictType, String value)</span> {
        List&lt;SysDictData&gt; dictDataList = GET_DICT_DATA_CACHE.get(dictType);
        <span class="hljs-type">SysDictData</span> <span class="hljs-variable">dictData</span> <span class="hljs-operator">=</span> CollUtil.findOne(dictDataList, data -&gt; Objects.equals(data.getDictValue(), value));
        <span class="hljs-keyword">return</span> dictData != <span class="hljs-literal">null</span> ? dictData.getDictLabel() : <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">/**
     * è·å–å­—å…¸ç±»å‹ä¸‹çš„æ‰€æœ‰æ ‡ç­¾åˆ—è¡¨
     *
     * <span class="hljs-doctag">@param</span> dictType å­—å…¸ç±»å‹
     * <span class="hljs-doctag">@return</span> å­—å…¸æ ‡ç­¾åˆ—è¡¨
     */</span>
    <span class="hljs-meta">@SneakyThrows</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;String&gt; <span class="hljs-title function_">getDictDataLabelList</span><span class="hljs-params">(String dictType)</span> {
        List&lt;SysDictData&gt; dictDataList = GET_DICT_DATA_CACHE.get(dictType);
        <span class="hljs-keyword">return</span> CollectionUtils.convertList(dictDataList, SysDictData::getDictLabel);
    }

    <span class="hljs-comment">/**
     * æ ¹æ®å­—å…¸ç±»å‹å’Œæ ‡ç­¾è·å–å­—å…¸å€¼
     *
     * <span class="hljs-doctag">@param</span> dictType å­—å…¸ç±»å‹
     * <span class="hljs-doctag">@param</span> label    å­—å…¸æ ‡ç­¾
     * <span class="hljs-doctag">@return</span> å­—å…¸å€¼
     */</span>
    <span class="hljs-meta">@SneakyThrows</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">parseDictDataValue</span><span class="hljs-params">(String dictType, String label)</span> {
        List&lt;SysDictData&gt; dictDataList = GET_DICT_DATA_CACHE.get(dictType);
        <span class="hljs-type">SysDictData</span> <span class="hljs-variable">dictData</span> <span class="hljs-operator">=</span> CollUtil.findOne(dictDataList, data -&gt; Objects.equals(data.getDictLabel(), label));
        <span class="hljs-keyword">return</span> dictData != <span class="hljs-literal">null</span> ? dictData.getDictValue() : <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">/**
     * è·å–å­—å…¸ç±»å‹ä¸‹çš„æ‰€æœ‰å€¼åˆ—è¡¨
     *
     * <span class="hljs-doctag">@param</span> dictType å­—å…¸ç±»å‹
     * <span class="hljs-doctag">@return</span> å­—å…¸å€¼åˆ—è¡¨
     */</span>
    <span class="hljs-meta">@SneakyThrows</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;String&gt; <span class="hljs-title function_">getDictDataValueList</span><span class="hljs-params">(String dictType)</span> {
        List&lt;SysDictData&gt; dictDataList = GET_DICT_DATA_CACHE.get(dictType);
        <span class="hljs-keyword">return</span> CollectionUtils.convertList(dictDataList, SysDictData::getDictValue);
    }
}
</code></pre>
<h5 data-id="heading-16">3.4 è‡ªåŠ¨é…ç½®ç±»æ³¨å†Œ</h5>
<p>åœ¨ <code>resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">com.ruoyi.framework.dict.config.DictAutoConfiguration</span>
</code></pre>
<hr/>
<h4 data-id="heading-17">4ï¸âƒ£ å·¥å…·ç±»è¡¥å……</h4>
<p>åœ¨ <code>ruoyi-common-core</code> æ¨¡å—ä¸­æ·»åŠ ä»¥ä¸‹å·¥å…·ç±»ã€‚</p>
<h5 data-id="heading-18">4.1 <code>CacheUtils</code> ç¼“å­˜å·¥å…·ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.common.core.utils.cache;

<span class="hljs-keyword">import</span> com.google.common.cache.CacheBuilder;
<span class="hljs-keyword">import</span> com.google.common.cache.CacheLoader;
<span class="hljs-keyword">import</span> com.google.common.cache.LoadingCache;

<span class="hljs-keyword">import</span> java.time.Duration;
<span class="hljs-keyword">import</span> java.util.concurrent.Executors;

<span class="hljs-comment">/**
 * ç¼“å­˜å·¥å…·ç±»
 * &lt;p&gt;
 * æä¾› Guava Cache çš„æ„å»ºå’Œé…ç½®æ–¹æ³•
 * &lt;/p&gt;
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026-01-23
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheUtils</span> {

    <span class="hljs-comment">/**
     * å¼‚æ­¥åˆ·æ–°ç¼“å­˜çš„æœ€å¤§å®¹é‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Integer</span> <span class="hljs-variable">CACHE_MAX_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;

    <span class="hljs-comment">/**
     * æ„å»ºå¼‚æ­¥åˆ·æ–°çš„ LoadingCache
     * &lt;p&gt;
     * é€‚ç”¨äºå…¨å±€ç³»ç»Ÿæ•°æ®ç¼“å­˜ï¼Œä¸æ¶‰åŠ ThreadLocal ç›¸å…³å†…å®¹
     * &lt;/p&gt;
     *
     * <span class="hljs-doctag">@param</span> duration ç¼“å­˜è¿‡æœŸæ—¶é—´
     * <span class="hljs-doctag">@param</span> loader   ç¼“å­˜åŠ è½½å™¨
     * <span class="hljs-doctag">@param</span> &lt;K&gt;      ç¼“å­˜é”®ç±»å‹
     * <span class="hljs-doctag">@param</span> &lt;V&gt;      ç¼“å­˜å€¼ç±»å‹
     * <span class="hljs-doctag">@return</span> LoadingCache å®ä¾‹
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;K, V&gt; LoadingCache&lt;K, V&gt; <span class="hljs-title function_">buildAsyncReloadingCache</span><span class="hljs-params">(Duration duration, CacheLoader&lt;K, V&gt; loader)</span> {
        <span class="hljs-keyword">return</span> CacheBuilder.newBuilder()
                .maximumSize(CACHE_MAX_SIZE)
                .refreshAfterWrite(duration) <span class="hljs-comment">// å†™å…¥åè‡ªåŠ¨åˆ·æ–°</span>
                .build(CacheLoader.asyncReloading(loader, Executors.newCachedThreadPool()));
    }

    <span class="hljs-comment">/**
     * æ„å»ºåŒæ­¥åˆ·æ–°çš„ LoadingCache
     * &lt;p&gt;
     * é€‚ç”¨äºä¸ç”¨æˆ·ç›¸å…³çš„æ•°æ®ç¼“å­˜ï¼Œæ¶‰åŠ ThreadLocal å†…å®¹
     * &lt;/p&gt;
     *
     * <span class="hljs-doctag">@param</span> duration ç¼“å­˜è¿‡æœŸæ—¶é—´
     * <span class="hljs-doctag">@param</span> loader   ç¼“å­˜åŠ è½½å™¨
     * <span class="hljs-doctag">@param</span> &lt;K&gt;      ç¼“å­˜é”®ç±»å‹
     * <span class="hljs-doctag">@param</span> &lt;V&gt;      ç¼“å­˜å€¼ç±»å‹
     * <span class="hljs-doctag">@return</span> LoadingCache å®ä¾‹
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;K, V&gt; LoadingCache&lt;K, V&gt; <span class="hljs-title function_">buildCache</span><span class="hljs-params">(Duration duration, CacheLoader&lt;K, V&gt; loader)</span> {
        <span class="hljs-keyword">return</span> CacheBuilder.newBuilder()
                .maximumSize(CACHE_MAX_SIZE)
                .refreshAfterWrite(duration) <span class="hljs-comment">// å†™å…¥åè‡ªåŠ¨åˆ·æ–°</span>
                .build(loader);
    }
}
</code></pre>
<h5 data-id="heading-19">4.2 <code>CollectionUtils</code> é›†åˆå·¥å…·ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.common.core.collection;

<span class="hljs-keyword">import</span> cn.hutool.core.collection.CollUtil;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Collection;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Objects;
<span class="hljs-keyword">import</span> java.util.function.Function;
<span class="hljs-keyword">import</span> java.util.stream.Collectors;

<span class="hljs-comment">/**
 * é›†åˆå·¥å…·ç±»
 * &lt;p&gt;
 * æä¾›é›†åˆè½¬æ¢ã€æ“ä½œç­‰å·¥å…·æ–¹æ³•
 * &lt;/p&gt;
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026-01-23
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CollectionUtils</span> {

    <span class="hljs-comment">/**
     * è½¬æ¢é›†åˆç±»å‹
     *
     * <span class="hljs-doctag">@param</span> from æºé›†åˆ
     * <span class="hljs-doctag">@param</span> func è½¬æ¢å‡½æ•°
     * <span class="hljs-doctag">@param</span> &lt;T&gt;  æºç±»å‹
     * <span class="hljs-doctag">@param</span> &lt;U&gt;  ç›®æ ‡ç±»å‹
     * <span class="hljs-doctag">@return</span> è½¬æ¢åçš„é›†åˆ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T, U&gt; List&lt;U&gt; <span class="hljs-title function_">convertList</span><span class="hljs-params">(Collection&lt;T&gt; from, Function&lt;T, U&gt; func)</span> {
        <span class="hljs-keyword">if</span> (CollUtil.isEmpty(from)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        }
        <span class="hljs-keyword">return</span> from.stream()
                .map(func)
                .filter(Objects::nonNull)
                .collect(Collectors.toList());
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-20">5ï¸âƒ£ Excel æ³¨è§£æ‰©å±•</h4>
<p>åœ¨ <code>@Excel</code> æ³¨è§£ä¸­å¢åŠ å­—å…¸ç±»å‹å±æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.common.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.ElementType;
<span class="hljs-keyword">import</span> java.lang.annotation.Retention;
<span class="hljs-keyword">import</span> java.lang.annotation.RetentionPolicy;
<span class="hljs-keyword">import</span> java.lang.annotation.Target;

<span class="hljs-comment">/**
 * è‡ªå®šä¹‰ Excel å¯¼å‡ºæ³¨è§£
 * &lt;p&gt;
 * ç”¨äºæ ‡è®°éœ€è¦å¯¼å‡ºåˆ° Excel çš„å­—æ®µ
 * &lt;/p&gt;
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.FIELD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Excel {

    <span class="hljs-comment">// ... å…¶ä»–å±æ€§çœç•¥ ...</span>

    <span class="hljs-comment">/**
     * å­—å…¸ç±»å‹
     * &lt;p&gt;
     * ç”¨äºå°†å­—å…¸å€¼è½¬æ¢ä¸ºå¯¹åº”çš„æ ‡ç­¾æ˜¾ç¤º
     * &lt;/p&gt;
     */</span>
    String <span class="hljs-title function_">dictType</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">// ... å…¶ä»–å±æ€§çœç•¥ ...</span>
}
</code></pre>
<hr/>
<h4 data-id="heading-21">6ï¸âƒ£ Excel å·¥å…·ç±»ä¿®æ”¹</h4>
<p>å°† <code>ruoyi-common-core</code> æ¨¡å—ä¸­çš„ <code>ExcelUtil</code> ç§»åŠ¨åˆ° <code>ruoyi-common-excel</code> æ¨¡å—ï¼Œå¹¶ä¿®æ”¹å¯¼å…¥å¯¼å‡ºæ–¹æ³•ä»¥æ”¯æŒå­—å…¸è½¬æ¢ã€‚</p>
<h5 data-id="heading-22">6.1 å¯¼å…¥æ–¹æ³•ä¿®æ”¹</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å¯¼å…¥ Excel æ–‡ä»¶å¹¶è½¬æ¢ä¸ºå®ä½“åˆ—è¡¨
 *
 * <span class="hljs-doctag">@param</span> sheetName å·¥ä½œè¡¨åç§°
 * <span class="hljs-doctag">@param</span> is        è¾“å…¥æµ
 * <span class="hljs-doctag">@param</span> titleNum  æ ‡é¢˜è¡Œå·
 * <span class="hljs-doctag">@return</span> å®ä½“åˆ—è¡¨
 * <span class="hljs-doctag">@throws</span> Exception å¯¼å…¥å¼‚å¸¸
 */</span>
<span class="hljs-keyword">public</span> List&lt;T&gt; <span class="hljs-title function_">importExcel</span><span class="hljs-params">(String sheetName, InputStream is, <span class="hljs-type">int</span> titleNum)</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-built_in">this</span>.type = Type.IMPORT;
    <span class="hljs-built_in">this</span>.wb = WorkbookFactory.create(is);
    List&lt;T&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;T&gt;();

    <span class="hljs-type">Sheet</span> <span class="hljs-variable">sheet</span> <span class="hljs-operator">=</span> StringUtils.isNotEmpty(sheetName) ? wb.getSheet(sheetName) : wb.getSheetAt(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">if</span> (sheet == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IOException</span>(<span class="hljs-string">"æ–‡ä»¶ sheet ä¸å­˜åœ¨"</span>);
    }

    <span class="hljs-type">int</span> <span class="hljs-variable">rows</span> <span class="hljs-operator">=</span> sheet.getLastRowNum();
    <span class="hljs-keyword">if</span> (rows &gt; <span class="hljs-number">0</span>) {
        Map&lt;String, Integer&gt; cellMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String, Integer&gt;();
        <span class="hljs-type">Row</span> <span class="hljs-variable">heard</span> <span class="hljs-operator">=</span> sheet.getRow(titleNum);
        <span class="hljs-keyword">if</span> (heard == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UtilException</span>(<span class="hljs-string">"æ–‡ä»¶æ ‡é¢˜è¡Œä¸ºç©ºï¼Œè¯·æ£€æŸ¥ Excel æ–‡ä»¶æ ¼å¼"</span>);
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; heard.getLastCellNum(); i++) {
            <span class="hljs-type">Cell</span> <span class="hljs-variable">cell</span> <span class="hljs-operator">=</span> heard.getCell(i);
            <span class="hljs-keyword">if</span> (StringUtils.isNotNull(cell)) {
                <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getCellValue(heard, i).toString();
                cellMap.put(value, i);
            }
        }

        List&lt;Object[]&gt; fields = <span class="hljs-built_in">this</span>.getFields();
        Map&lt;Integer, Object[]&gt; fieldsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Integer, Object[]&gt;();
        <span class="hljs-keyword">for</span> (Object[] objects : fields) {
            <span class="hljs-type">Excel</span> <span class="hljs-variable">attr</span> <span class="hljs-operator">=</span> (Excel) objects[<span class="hljs-number">1</span>];
            <span class="hljs-type">Integer</span> <span class="hljs-variable">column</span> <span class="hljs-operator">=</span> cellMap.get(attr.name());
            <span class="hljs-keyword">if</span> (column != <span class="hljs-literal">null</span>) {
                fieldsMap.put(column, objects);
            }
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> titleNum + <span class="hljs-number">1</span>; i &lt;= rows; i++) {
            <span class="hljs-type">Row</span> <span class="hljs-variable">row</span> <span class="hljs-operator">=</span> sheet.getRow(i);
            <span class="hljs-keyword">if</span> (isRowEmpty(row)) {
                <span class="hljs-keyword">continue</span>;
            }

            <span class="hljs-type">T</span> <span class="hljs-variable">entity</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">for</span> (Map.Entry&lt;Integer, Object[]&gt; entry : fieldsMap.entrySet()) {
                <span class="hljs-type">Object</span> <span class="hljs-variable">val</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getCellValue(row, entry.getKey());

                entity = (entity == <span class="hljs-literal">null</span> ? clazz.newInstance() : entity);
                <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> (Field) entry.getValue()[<span class="hljs-number">0</span>];
                <span class="hljs-type">Excel</span> <span class="hljs-variable">attr</span> <span class="hljs-operator">=</span> (Excel) entry.getValue()[<span class="hljs-number">1</span>];
                Class&lt;?&gt; fieldType = field.getType();

                <span class="hljs-comment">// ... ç±»å‹è½¬æ¢é€»è¾‘çœç•¥ ...</span>

                <span class="hljs-keyword">if</span> (StringUtils.isNotNull(fieldType)) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">propertyName</span> <span class="hljs-operator">=</span> field.getName();
                    <span class="hljs-keyword">if</span> (StringUtils.isNotEmpty(attr.targetAttr())) {
                        propertyName = field.getName() + <span class="hljs-string">"."</span> + attr.targetAttr();
                    }

                    <span class="hljs-keyword">if</span> (StringUtils.isNotEmpty(attr.readConverterExp())) {
                        val = reverseByExp(Convert.toStr(val), attr.readConverterExp(), attr.separator());
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!attr.handler().equals(ExcelHandlerAdapter.class)) {
                        val = dataFormatHandlerAdapter(val, attr, <span class="hljs-literal">null</span>);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (StrUtil.isNotBlank(attr.dictType())) {
                        <span class="hljs-comment">// å­—å…¸è½¬æ¢ï¼šå°†æ ‡ç­¾è½¬æ¢ä¸ºå€¼</span>
                        val = DictFrameworkUtils.parseDictDataValue(attr.dictType(), Convert.toStr(val));
                    }

                    ReflectUtils.invokeSetter(entity, propertyName, val);
                }
            }
            list.add(entity);
        }
    }
    <span class="hljs-keyword">return</span> list;
}
</code></pre>
<h5 data-id="heading-23">6.2 å¯¼å‡ºæ–¹æ³•ä¿®æ”¹</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æ·»åŠ å•å…ƒæ ¼æ•°æ®
 *
 * <span class="hljs-doctag">@param</span> attr   Excel æ³¨è§£
 * <span class="hljs-doctag">@param</span> row    è¡Œå¯¹è±¡
 * <span class="hljs-doctag">@param</span> vo     æ•°æ®å¯¹è±¡
 * <span class="hljs-doctag">@param</span> field  å­—æ®µå¯¹è±¡
 * <span class="hljs-doctag">@param</span> column åˆ—ç´¢å¼•
 * <span class="hljs-doctag">@return</span> å•å…ƒæ ¼å¯¹è±¡
 */</span>
<span class="hljs-keyword">public</span> Cell <span class="hljs-title function_">addCell</span><span class="hljs-params">(Excel attr, Row row, T vo, Field field, <span class="hljs-type">int</span> column)</span> {
    <span class="hljs-type">Cell</span> <span class="hljs-variable">cell</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        row.setHeight(maxHeight);

        <span class="hljs-keyword">if</span> (attr.isExport()) {
            cell = row.createCell(column);

            <span class="hljs-keyword">if</span> (isSubListValue(vo) &amp;&amp; getListCellValue(vo) &gt; <span class="hljs-number">1</span> &amp;&amp; attr.needMerge()) {
                <span class="hljs-keyword">if</span> (subMergedLastRowNum &gt;= subMergedFirstRowNum) {
                    sheet.addMergedRegion(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CellRangeAddress</span>(subMergedFirstRowNum, subMergedLastRowNum, column, column));
                }
            }

            cell.setCellStyle(styles.get(StringUtils.format(<span class="hljs-string">"data_{}_{}_{}_{}_{}"</span>, attr.align(), attr.color(), attr.backgroundColor(), attr.cellType(), attr.wrapText())));

            <span class="hljs-type">Object</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> getTargetValue(vo, field, attr);
            <span class="hljs-type">String</span> <span class="hljs-variable">dateFormat</span> <span class="hljs-operator">=</span> attr.dateFormat();
            <span class="hljs-type">String</span> <span class="hljs-variable">readConverterExp</span> <span class="hljs-operator">=</span> attr.readConverterExp();
            <span class="hljs-type">String</span> <span class="hljs-variable">separator</span> <span class="hljs-operator">=</span> attr.separator();

            <span class="hljs-keyword">if</span> (StringUtils.isNotEmpty(dateFormat) &amp;&amp; StringUtils.isNotNull(value)) {
                cell.setCellStyle(createCellStyle(cell.getCellStyle(), dateFormat));
                cell.setCellValue(parseDateToStr(dateFormat, value));
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (StringUtils.isNotEmpty(readConverterExp) &amp;&amp; StringUtils.isNotNull(value)) {
                cell.setCellValue(convertByExp(Convert.toStr(value), readConverterExp, separator));
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> BigDecimal &amp;&amp; -<span class="hljs-number">1</span> != attr.scale()) {
                cell.setCellValue((((BigDecimal) value).setScale(attr.scale(), attr.roundingMode())).doubleValue());
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!attr.handler().equals(ExcelHandlerAdapter.class)) {
                cell.setCellValue(dataFormatHandlerAdapter(value, attr, cell));
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (StrUtil.isNotBlank(attr.dictType())) {
                <span class="hljs-comment">// å­—å…¸è½¬æ¢ï¼šå°†å€¼è½¬æ¢ä¸ºå¯¹åº”çš„æ ‡ç­¾</span>
                cell.setCellValue(DictFrameworkUtils.parseDictDataLabel(attr.dictType(), Convert.toStr(value)));
            } <span class="hljs-keyword">else</span> {
                setCellVo(value, attr, cell);
            }

            addStatisticsData(column, Convert.toStr(value), attr);
        }
    } <span class="hljs-keyword">catch</span> (Exception e) {
        log.error(<span class="hljs-string">"å¯¼å‡º Excel å¤±è´¥: {}"</span>, e);
    }
    <span class="hljs-keyword">return</span> cell;
}
</code></pre>
<hr/>
<h4 data-id="heading-24">7ï¸âƒ£ ä½¿ç”¨ç¤ºä¾‹</h4>
<p>åœ¨å®ä½“ç±»ä¸­ä½¿ç”¨ <code>@Excel</code> æ³¨è§£æ ‡è®°éœ€è¦å¯¼å‡ºçš„å­—æ®µï¼Œå¹¶æŒ‡å®šå­—å…¸ç±»å‹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.system.domain;

<span class="hljs-keyword">import</span> com.ruoyi.common.annotation.Excel;
<span class="hljs-keyword">import</span> com.ruoyi.common.core.domain.BaseEntity;
<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> lombok.EqualsAndHashCode;

<span class="hljs-keyword">import</span> javax.validation.constraints.NotBlank;
<span class="hljs-keyword">import</span> javax.validation.constraints.Size;

<span class="hljs-comment">/**
 * å²—ä½å®ä½“ç±»
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@EqualsAndHashCode(callSuper = true)</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysPost</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseEntity</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

    <span class="hljs-comment">/**
     * å²—ä½åºå·
     */</span>
    <span class="hljs-meta">@Excel(name = "å²—ä½åºå·", cellType = ColumnType.NUMERIC)</span>
    <span class="hljs-keyword">private</span> Long postId;

    <span class="hljs-comment">/**
     * å²—ä½ç¼–ç 
     */</span>
    <span class="hljs-meta">@NotBlank(message = "å²—ä½ç¼–ç ä¸èƒ½ä¸ºç©º")</span>
    <span class="hljs-meta">@Size(min = 0, max = 64, message = "å²—ä½ç¼–ç é•¿åº¦ä¸èƒ½è¶…è¿‡ 64 ä¸ªå­—ç¬¦")</span>
    <span class="hljs-meta">@Excel(name = "å²—ä½ç¼–ç ")</span>
    <span class="hljs-keyword">private</span> String postCode;

    <span class="hljs-comment">/**
     * å²—ä½åç§°
     */</span>
    <span class="hljs-meta">@NotBlank(message = "å²—ä½åç§°ä¸èƒ½ä¸ºç©º")</span>
    <span class="hljs-meta">@Size(min = 0, max = 50, message = "å²—ä½åç§°é•¿åº¦ä¸èƒ½è¶…è¿‡ 50 ä¸ªå­—ç¬¦")</span>
    <span class="hljs-meta">@Excel(name = "å²—ä½åç§°")</span>
    <span class="hljs-keyword">private</span> String postName;

    <span class="hljs-comment">/**
     * å²—ä½æ’åº
     */</span>
    <span class="hljs-meta">@Excel(name = "å²—ä½æ’åº")</span>
    <span class="hljs-keyword">private</span> String postSort;

    <span class="hljs-comment">/**
     * çŠ¶æ€ï¼ˆ0æ­£å¸¸ 1åœç”¨ï¼‰
     */</span>
    <span class="hljs-meta">@Excel(name = "çŠ¶æ€", dictType = "sys_normal_disable")</span>
    <span class="hljs-keyword">private</span> String status;

    <span class="hljs-comment">/**
     * å¤‡æ³¨
     */</span>
    <span class="hljs-keyword">private</span> String remark;
}
</code></pre>
<hr/>
<h3 data-id="heading-25">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3>
<ol>
<li><strong>è‡ªåŠ¨å­—å…¸è½¬æ¢</strong>ï¼šå¯¼å…¥å¯¼å‡ºæ—¶è‡ªåŠ¨å°†å­—å…¸å€¼è½¬æ¢ä¸ºå¯¹åº”çš„æ ‡ç­¾æ˜¾ç¤º</li>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ Guava Cache ç¼“å­˜å­—å…¸æ•°æ®ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½</li>
<li><strong>å¾®æœåŠ¡æ”¯æŒ</strong>ï¼šé€šè¿‡ Feign è¿œç¨‹è°ƒç”¨ç³»ç»Ÿæ¨¡å—çš„å­—å…¸æœåŠ¡</li>
<li><strong>é™çº§å¤„ç†</strong>ï¼šæœåŠ¡ä¸å¯ç”¨æ—¶æä¾›é™çº§å¤„ç†é€»è¾‘</li>
<li><strong>çµæ´»é…ç½®</strong>ï¼šé€šè¿‡æ³¨è§£é…ç½®å­—å…¸ç±»å‹ï¼Œä½¿ç”¨ç®€å•æ–¹ä¾¿</li>
</ol>
<hr/>
<h3 data-id="heading-26">ğŸ“ æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>ä¾èµ–å¼•å…¥</strong>ï¼šç¡®ä¿æ‰€æœ‰ç›¸å…³æ¨¡å—éƒ½æ­£ç¡®å¼•å…¥äº† <code>ruoyi-common-excel</code> ä¾èµ–</li>
<li><strong>å­—å…¸ç±»å‹é…ç½®</strong>ï¼šåœ¨ <code>@Excel</code> æ³¨è§£ä¸­æŒ‡å®šæ­£ç¡®çš„å­—å…¸ç±»å‹</li>
<li><strong>ç¼“å­˜åˆ·æ–°</strong>ï¼šå­—å…¸æ•°æ®æ›´æ–°åéœ€è¦è°ƒç”¨ <code>DictFrameworkUtils.clearCache()</code> æ¸…ç©ºç¼“å­˜</li>
<li><strong>æœåŠ¡å¯ç”¨æ€§</strong>ï¼šç¡®ä¿ç³»ç»ŸæœåŠ¡æ­£å¸¸è¿è¡Œï¼Œå¦åˆ™å­—å…¸æŸ¥è¯¢ä¼šè§¦å‘é™çº§å¤„ç†</li>
</ol>
<hr/>
<h3 data-id="heading-27">ğŸ¯ æ€»ç»“</h3>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬æˆåŠŸåœ¨ RuoYi-Cloud æ¡†æ¶ä¸­å®ç°äº† Excel å¯¼å…¥å¯¼å‡ºæ—¶çš„å­—å…¸è½¬æ¢åŠŸèƒ½ã€‚è¯¥æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>é«˜å†…èšä½è€¦åˆ</strong>ï¼šå­—å…¸åŠŸèƒ½ç‹¬ç«‹å°è£…ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ç¼“å­˜å‡å°‘è¿œç¨‹è°ƒç”¨æ¬¡æ•°ï¼Œæé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦</li>
<li><strong>æ˜“ç”¨æ€§å¼º</strong>ï¼šé€šè¿‡æ³¨è§£é…ç½®å³å¯å®ç°å­—å…¸è½¬æ¢ï¼Œä½¿ç”¨ç®€å•æ–¹ä¾¿</li>
<li><strong>ç¨³å®šæ€§é«˜</strong>ï¼šå®Œå–„çš„é™çº§å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿æœåŠ¡å¯ç”¨æ€§</li>
</ul>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©åˆ°æœ‰ç±»ä¼¼éœ€æ±‚çš„å¼€å‘è€…ï¼Œå¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿äº¤æµè®¨è®ºã€‚</p>
<hr/>
<p><strong>ä½œè€…</strong>: gideon<br/>
<strong>æ—¥æœŸ</strong>: 2026-01-23<br/>
<strong>ç‰ˆæœ¬</strong>: 1.0.0</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨lvmä¸Šå°†æ ¹åˆ†åŒºæ‰©å®¹æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7598174154664706083</link>    <guid>https://juejin.cn/post/7598174154664706083</guid>    <pubDate>2026-01-23T05:16:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598174154664706083" data-draft-id="7598089234034409472" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨lvmä¸Šå°†æ ¹åˆ†åŒºæ‰©å®¹æ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T05:16:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yeyong"/> <meta itemprop="url" content="https://juejin.cn/user/4283353031781063"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨lvmä¸Šå°†æ ¹åˆ†åŒºæ‰©å®¹æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353031781063/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yeyong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:16:04.000Z" title="Fri Jan 23 2026 05:16:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>fdisk -l æ˜¾ç¤º</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Disk /dev/sda:</span> <span class="hljs-number">80</span> <span class="hljs-string">GiB,</span> <span class="hljs-number">85899345920</span> <span class="hljs-string">bytes,</span> <span class="hljs-number">167772160</span> <span class="hljs-string">sectors</span>
<span class="hljs-attr">Disk model:</span> <span class="hljs-string">Virtual</span> <span class="hljs-string">disk</span>    
<span class="hljs-attr">Units:</span> <span class="hljs-string">sectors</span> <span class="hljs-string">of</span> <span class="hljs-number">1</span> <span class="hljs-string">*</span> <span class="hljs-number">512</span> <span class="hljs-string">=</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span>
<span class="hljs-string">Sector</span> <span class="hljs-string">size</span> <span class="hljs-string">(logical/physical):</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span> <span class="hljs-string">/</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span>
<span class="hljs-string">I/O</span> <span class="hljs-string">size</span> <span class="hljs-string">(minimum/optimal):</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span> <span class="hljs-string">/</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span>
<span class="hljs-attr">Disklabel type:</span> <span class="hljs-string">gpt</span>
<span class="hljs-attr">Disk identifier:</span> <span class="hljs-string">C709DB22-56E7-4FD7-9EA1-EF6102B8C84B</span>

<span class="hljs-string">Device</span>       <span class="hljs-string">Start</span>       <span class="hljs-string">End</span>   <span class="hljs-string">Sectors</span> <span class="hljs-string">Size</span> <span class="hljs-string">Type</span>
<span class="hljs-string">/dev/sda1</span>     <span class="hljs-number">2048      </span><span class="hljs-number">4095      </span><span class="hljs-number">2048   </span><span class="hljs-string">1M</span> <span class="hljs-string">BIOS</span> <span class="hljs-string">boot</span>
<span class="hljs-string">/dev/sda2</span>     <span class="hljs-number">4096   </span><span class="hljs-number">4198399</span>   <span class="hljs-number">4194304</span>   <span class="hljs-string">2G</span> <span class="hljs-string">Linux</span> <span class="hljs-string">filesystem</span>
<span class="hljs-string">/dev/sda3</span>  <span class="hljs-number">4198400</span> <span class="hljs-number">167770111</span> <span class="hljs-number">163571712</span>  <span class="hljs-string">78G</span> <span class="hljs-string">Linux</span> <span class="hljs-string">filesystem</span>


<span class="hljs-attr">Disk /dev/mapper/ubuntu--vg-ubuntu--lv:</span> <span class="hljs-number">38.102</span> <span class="hljs-string">GiB,</span> <span class="hljs-number">41871736832</span> <span class="hljs-string">bytes,</span> <span class="hljs-number">81780736</span> <span class="hljs-string">sectors</span>
<span class="hljs-attr">Units:</span> <span class="hljs-string">sectors</span> <span class="hljs-string">of</span> <span class="hljs-number">1</span> <span class="hljs-string">*</span> <span class="hljs-number">512</span> <span class="hljs-string">=</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span>
<span class="hljs-string">Sector</span> <span class="hljs-string">size</span> <span class="hljs-string">(logical/physical):</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span> <span class="hljs-string">/</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span>
<span class="hljs-string">I/O</span> <span class="hljs-string">size</span> <span class="hljs-string">(minimum/optimal):</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span> <span class="hljs-string">/</span> <span class="hljs-number">512</span> <span class="hljs-string">bytes</span>
</code></pre>
<p>ä½†æ˜¯df -hæ˜¾ç¤º æ ¹ç›®å½•åªæœ‰39Gï¼Œ</p>
<pre><code class="hljs language-bash" lang="bash">/dev/mapper/ubuntu--vg-ubuntu--lv   39G   11G   26G  31% /
</code></pre>
<p><strong>æ€ä¹ˆæŠŠç©ºé—´å…¨ç”¨ä¸Šï¼Ÿ</strong></p>
<hr/>
<p>è¿™æ˜¯å…¸å‹çš„ LVMï¼ˆé€»è¾‘å·ç®¡ç†ï¼‰â€œç‰©ç†ç£ç›˜æœ‰ç©ºã€ä½†é€»è¾‘å·æ²¡æ‰©â€çš„æƒ…å†µã€‚</p>
<p>sda3 å·²ç»å äº† 78 GBï¼Œå¯ ubuntu--vg-ubuntu--lv åªåšäº† 38 GB å·¦å³ï¼Œå‰©ä¸‹çš„ 40 GB è¿˜åœ¨å·ç»„ï¼ˆVGï¼‰é‡Œèººç€ï¼Œæ²¡åˆ’ç»™é€»è¾‘å·ï¼ˆLVï¼‰ã€‚<br/>
ä¸¤æ­¥å°±èƒ½åƒæ»¡ï¼šå…ˆæ‰© LVï¼Œå†æ‰©æ–‡ä»¶ç³»ç»Ÿã€‚å…¨ç¨‹çº¿ä¸Šå¯å®Œæˆï¼Œä¸éœ€è¦ LiveCDï¼Œä¹Ÿä¸ä¼šä¸¢æ•°æ®ï¼ˆä»å»ºè®®å…ˆå¿«ç…§/å¤‡ä»½ï¼‰ã€‚</p>
<ol>
<li>
<p>ç¡®è®¤å·ç»„å‰©ä½™ç©ºé—´</p>
<pre><code class="hljs language-bash" lang="bash">sudo vgs
</code></pre>
<p>è¾“å‡ºé‡Œ <code>VFree</code> ä¸€åˆ—å°±æ˜¯è¿˜æ²¡åˆ†å‡ºå»çš„å¤§å°ï¼Œåº”è¯¥èƒ½çœ‹åˆ° â‰ˆ40 gã€‚</p>
</li>
<li>
<p>æŠŠå‰©ä½™ç©ºé—´å…¨éƒ¨è¿½åŠ åˆ°æ ¹ç›®å½•æ‰€åœ¨çš„é€»è¾‘å·</p>
<pre><code class="hljs language-bash" lang="bash">sudo lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv
</code></pre>
<p>æ‰§è¡Œå®Œå† <code>lvs</code> çœ‹ä¸€çœ¼ï¼Œ<code>LSize</code> åº”è¯¥å˜æˆ 78 GB å·¦å³ã€‚</p>
</li>
<li>
<p>åœ¨çº¿æ‰©å±•æ–‡ä»¶ç³»ç»Ÿï¼ˆext4 åœºæ™¯ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">sudo resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv
</code></pre>
<p>å¦‚æœæ˜¯ xfsï¼Œåˆ™å¯¹åº”å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo xfs_growfs /
</code></pre>
</li>
<li>
<p>éªŒè¯</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">df</span> -h /
</code></pre>
<p>ç°åœ¨åº”è¯¥çœ‹åˆ°æ ¹åˆ†åŒºæ¥è¿‘ 78 GBï¼Œå¯ç”¨ç©ºé—´ 60 GB+ã€‚</p>
</li>
</ol>
<p>å…¨è¿‡ç¨‹ 1 åˆ†é’Ÿæå®šï¼Œä¹‹åä½ å°±å¯ä»¥æŠŠå¤§æ–‡ä»¶ã€Docker é•œåƒã€æ—¥å¿—éšä¾¿æ‰”äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-Canvas è¿›é˜¶å®æˆ˜ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç°ä¸€ä¸ªå¸¦â€œæ’¤é”€â€ä¸â€œæ©¡çš®æ“¦â€çš„æ™ºèƒ½ç”»æ¿ï¼ˆé™„æºç ï¼‰]]></title>    <link>https://juejin.cn/post/7598021984300924955</link>    <guid>https://juejin.cn/post/7598021984300924955</guid>    <pubDate>2026-01-23T03:54:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598021984300924955" data-draft-id="7598104572583936050" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-Canvas è¿›é˜¶å®æˆ˜ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç°ä¸€ä¸ªå¸¦â€œæ’¤é”€â€ä¸â€œæ©¡çš®æ“¦â€çš„æ™ºèƒ½ç”»æ¿ï¼ˆé™„æºç ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-23T03:54:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-Canvas è¿›é˜¶å®æˆ˜ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç°ä¸€ä¸ªå¸¦â€œæ’¤é”€â€ä¸â€œæ©¡çš®æ“¦â€çš„æ™ºèƒ½ç”»æ¿ï¼ˆé™„æºç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:54:44.000Z" title="Fri Jan 23 2026 03:54:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨æŒæ¡äº† Canvas çš„åŸºç¡€ API åï¼Œå®ç°ä¸€ä¸ªå…·å¤‡ç”Ÿäº§åŠ›çš„ç”»æ¿å·¥å…·æ˜¯è¿›é˜¶çš„æœ€ä½³å®è·µã€‚æœ¬æ–‡å°†æ·±å…¥è§£æå¦‚ä½•åˆ©ç”¨ <strong>äº‹ä»¶ç›‘å¬</strong>ã€<strong>ImageData çŠ¶æ€å¿«ç…§</strong> ä»¥åŠ <strong>åˆæˆæ¨¡å¼</strong>ï¼Œå®ç°ä¸€ä¸ªæ”¯æŒå®æ—¶ç»˜å›¾ã€æ— é™æ’¤é”€å’Œä¸æ»‘æ©¡çš®æ“¦åŠŸèƒ½çš„ç½‘é¡µç”»æ¿ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ åŸºç¡€ç”»ç¬”ï¼šçº¿æ¡çš„è‰ºæœ¯</h2>
<h3 data-id="heading-2">å®ç°æ€è·¯</h3>
<ol>
<li><strong>åˆå§‹åŒ–</strong>ï¼šé…ç½®ç”»å¸ƒä¸Šä¸‹æ–‡ï¼Œè®¾ç½® <code>lineCap</code>ï¼ˆçº¿å¤´ï¼‰å’Œ <code>lineJoin</code>ï¼ˆæ‹è§’ï¼‰ä¸º <code>round</code> å¯ä½¿çº¿æ¡æ›´ä¸æ»‘ã€‚</li>
<li><strong>è®¾ç½®ç”»ç¬”å±æ€§</strong></li>
<li><strong>ç›‘å¬é¼ æ ‡äº‹ä»¶å®ç°ç»˜å›¾</strong>:
<ul>
<li>é¼ æ ‡æŒ‰ä¸‹æ—¶ï¼Œè®°å½•å½“å‰é¼ æ ‡ä½ç½®å¼€å§‹ç»˜å›¾</li>
<li>é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œåˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯ç»˜å›¾çŠ¶æ€ï¼Œæ˜¯çš„è¯å°†å‰ä¸€ç‚¹ä»¥å½“å‰ç‚¹è¿æ¥æ¸²æŸ“å‡ºçº¿æ¡ï¼Œå¹¶å®æ—¶æ›´æ–°ç»ˆç‚¹</li>
<li>é¼ æ ‡æ¾å¼€æ—¶ï¼Œå°†ç»˜å›¾çŠ¶æ€è®¾ç½®ä¸ºç»“æŸ</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3">ä»£ç å®ç°</h3>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"drawCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"600"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"600"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid aqua"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// ç”»å¸ƒåˆå§‹åŒ–</span>
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'drawCanvas'</span>);
    <span class="hljs-keyword">if</span> (canvas) {


      <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);

      <span class="hljs-comment">// ç”»ç¬”è®¾ç½®</span>
      ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#000'</span>;
      ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>;
      ctx.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'round'</span>;
      ctx.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'round'</span>;

      <span class="hljs-comment">// ç»˜å›¾é€»è¾‘</span>
      <span class="hljs-keyword">let</span> isDrawing = <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">let</span> lastX, lastY;

      <span class="hljs-comment">//é¼ æ ‡æŒ‰ä¸‹</span>
      canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousedown'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        isDrawing = <span class="hljs-literal">true</span>;
        [lastX, lastY] = [e.<span class="hljs-property">offsetX</span>, e.<span class="hljs-property">offsetY</span>];
      });

      <span class="hljs-comment">//é¼ æ ‡ç§»åŠ¨</span>
      canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!isDrawing) <span class="hljs-keyword">return</span>;
        ctx.<span class="hljs-title function_">beginPath</span>();
        ctx.<span class="hljs-title function_">moveTo</span>(lastX, lastY);
        ctx.<span class="hljs-title function_">lineTo</span>(e.<span class="hljs-property">offsetX</span>, e.<span class="hljs-property">offsetY</span>);
        ctx.<span class="hljs-title function_">stroke</span>();
        [lastX, lastY] = [e.<span class="hljs-property">offsetX</span>, e.<span class="hljs-property">offsetY</span>];
      });
      <span class="hljs-comment">// é¼ æ ‡æ¾å¼€</span>
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseup'</span>, <span class="hljs-function">() =&gt;</span> isDrawing = <span class="hljs-literal">false</span>);
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">äºŒã€ æ’¤é”€åŠŸèƒ½ï¼šå¿«ç…§æ ˆç®¡ç†</h2>
<h3 data-id="heading-5">å®ç°æ€è·¯</h3>
<p>Canvas æ˜¯ä½å›¾ï¼Œæ— æ³•æ’¤é”€å•ä¸ªè·¯å¾„ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ <strong>çŠ¶æ€å¿«ç…§ï¼ˆSnapshotsï¼‰</strong> æ–¹æ¡ˆã€‚</p>
<ul>
<li>è®¾ç½®ä¸€ä¸ª<code>historyStack</code>æ•°ç»„ä¸æŒ‡é’ˆ<code>currentStep</code>å­˜å‚¨æ¯æ¬¡ç”»ç¬”ç»˜åˆ¶çš„å¿«ç…§ä¸å›é€€ä½ç½®</li>
<li>æ¯æ¬¡ç”»ç¬”ç”»å®Œæ—¶ï¼Œåˆ©ç”¨ <code>getImageData</code> å°†æ­¤æ—¶çš„å¿«ç…§ä¿å­˜åœ¨æ•°ç»„é‡Œé¢å¹¶æ›´æ–°å›é€€ä½ç½®</li>
<li>æ‰§è¡Œå›é€€æ“ä½œæ—¶ï¼Œåˆ©ç”¨ <code>putImageData</code> å°†å‰ä¸€ä¸ªå¿«ç…§ä»æ•°ç»„ä¸­å–å‡ºå¹¶æ›´æ–°åœ¨ç”»å¸ƒä¸Š</li>
</ul>
<h3 data-id="heading-6">ä»£ç å®ç°</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">let</span> historyStack = [];
<span class="hljs-keyword">let</span> currentStep = -<span class="hljs-number">1</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">saveState</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æ ¸å¿ƒï¼šä¿å­˜å½“å‰ç”»å¸ƒæ‰€æœ‰åƒç´ </span>
  <span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
  historyStack.<span class="hljs-title function_">push</span>(imageData);
  currentStep = historyStack.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleCancel</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (currentStep &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-comment">// å¦‚æœæ˜¯ç¬¬ä¸€æ­¥ï¼Œåˆ™ç›´æ¥æ¸…ç©ºç”»å¸ƒ</span>
  <span class="hljs-keyword">if</span> (currentStep === <span class="hljs-number">0</span>) {
    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
    historyStack = [];
    currentStep = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span>;
  }

  historyStack.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// å¼¹å‡ºå½“å‰æ­¥</span>
  currentStep--;
  <span class="hljs-comment">// æ¸²æŸ“å›é€€åçš„æœ€åä¸€æ­¥</span>
  ctx.<span class="hljs-title function_">putImageData</span>(historyStack[currentStep], <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
}
</code></pre>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ æ©¡çš®æ“¦ï¼šç¥å¥‡çš„åˆæˆæ¨¡å¼</h2>
<h3 data-id="heading-8">å®ç°æ€è·¯</h3>
<p>æ©¡çš®æ“¦å¹¶ä¸æ˜¯â€œç”»ç™½è‰²â€ï¼Œè€Œæ˜¯<strong>æŠŠé¢œè‰²æ“¦é™¤ï¼ˆé€æ˜ï¼‰</strong>ã€‚</p>
<ul>
<li>é¦–å…ˆè®¾ç½®ä¸€ä¸ªæ“¦é™¤æ ‡è®°ä¸æ©¡çš®æ“¦çš„åŸºç¡€æ ·å¼ï¼Œæ©¡çš®æ“¦æ ·å¼åˆå§‹ä¸ºä¸€ä¸ªä¸æ˜¾ç¤ºçš„ç»å¯¹å®šä½å…ƒç´ </li>
<li>é¼ æ ‡ç‚¹å‡»æ—¶å°†æ“¦é™¤æ ‡è®°è®¾ç½®ä¸ºture</li>
<li>ç›‘å¬é¼ æ ‡ç§»åŠ¨ï¼Œé¼ æ ‡ç§»åŠ¨ä¸”æ“¦é™¤æ ‡è®°ä¸ºtureè°ƒç”¨æ“¦é™¤æ–¹æ³•ï¼ˆå°†canvasçš„<code>globalCompositeOperation</code>å±æ€§è®¾ç½®ä¸º<code>estination-out</code>ï¼Œæ“¦é™¤æ—§å›¾å½¢ä¸­ä¸æ–°å›¾å½¢é‡å çš„éƒ¨åˆ†ï¼Œæ¥ç€ä½¿ç”¨<code>ctx.fillRect()</code>å¡«å……æ“¦é™¤åŒºåŸŸï¼Œå¯ä½¿ç”¨<code>save()</code> å’Œ<code>restore()</code>ä¼˜åŒ–ç»˜å›¾æ€§èƒ½ï¼‰</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// æ©¡çš®æ“¦</span>
<span class="hljs-keyword">let</span> isBeginErase = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">let</span> isErasing = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">let</span> eraserSize = <span class="hljs-number">20</span>; <span class="hljs-comment">// æ–¹å½¢æ©¡çš®æ“¦è¾¹é•¿</span>
<span class="hljs-keyword">let</span> eraserColor = <span class="hljs-string">"#CCCCCC"</span>; <span class="hljs-comment">// æ©¡çš®æ“¦é¢œè‰²</span>
<span class="hljs-keyword">const</span> cursor = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
cursor.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">"eraser-cursor"</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(cursor);

<span class="hljs-comment">//æ“¦é™¤å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleErase</span>(<span class="hljs-params"/>) {
  isBeginErase = !isBeginErase;
}

canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousedown"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!isBeginErase) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">if</span> (isBeginErase) isErasing = <span class="hljs-literal">true</span>;
  [lastX, lastY] = [e.<span class="hljs-property">offsetX</span>, e.<span class="hljs-property">offsetY</span>];
});

canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousemove"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!isBeginErase) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">if</span> (isErasing) {
    cursor.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = isErasing ? <span class="hljs-string">"block"</span> : <span class="hljs-string">"none"</span>;
    cursor.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = e.<span class="hljs-property">clientX</span> - eraserSize / <span class="hljs-number">2</span> + <span class="hljs-string">"px"</span>;
    cursor.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = e.<span class="hljs-property">clientY</span> - eraserSize / <span class="hljs-number">2</span> + <span class="hljs-string">"px"</span>;
    <span class="hljs-title function_">eraseSquare</span>(e.<span class="hljs-property">clientX</span>, e.<span class="hljs-property">clientY</span>);
  }
});

canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mouseup"</span>, <span class="hljs-function">() =&gt;</span> {
  isErasing = <span class="hljs-literal">false</span>;
  cursor.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">"none"</span>;
  <span class="hljs-keyword">if</span> (isBeginErase) {
    <span class="hljs-title function_">saveState</span>();<span class="hljs-comment">// ç”»å®Œä¿å­˜å½“å‰çŠ¶æ€</span>
  }
});

<span class="hljs-comment">// æ“¦é™¤</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">eraseSquare</span>(<span class="hljs-params">x, y</span>) {
  ctx.<span class="hljs-title function_">save</span>();
  ctx.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">"destination-out"</span>;
  ctx.<span class="hljs-title function_">fillRect</span>(x - eraserSize / <span class="hljs-number">2</span>, y - eraserSize / <span class="hljs-number">2</span>, eraserSize, eraserSize);
  ctx.<span class="hljs-title function_">restore</span>();
}

</code></pre>
<hr/>
<h2 data-id="heading-9">å››ã€ ç»¼åˆåº”ç”¨ä¸æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-10">æ€§èƒ½å°è´´å£«</h3>
<ul>
<li><strong>willReadFrequently</strong>ï¼šåœ¨ä½¿ç”¨ <code>getImageData</code> é¢‘ç¹è¯»å–åƒç´ æ—¶ï¼Œåœ¨è·å–ä¸Šä¸‹æ–‡æ—¶å¼€å¯ <code>{ willReadFrequently: true }</code> å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚</li>
<li><strong>save/restore</strong>ï¼šåœ¨åˆ‡æ¢æ©¡çš®æ“¦æ¨¡å¼æ—¶ï¼ŒåŠ¡å¿…ä½¿ç”¨ <code>save()</code> è®°å½•çŠ¶æ€å¹¶åœ¨ç»˜å›¾ç»“æŸå <code>restore()</code>ï¼Œé¿å… <code>globalCompositeOperation</code> å…¨å±€æ±¡æŸ“ã€‚</li>
</ul>
<h3 data-id="heading-11">å®Œæ•´æ¼”ç¤º</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"drawCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"800"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"600"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid #ddd"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"handleDraw()"</span>&gt;</span>ç”»ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"handleCancel()"</span>&gt;</span>æ’¤é”€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"handleErase()"</span>&gt;</span>æ“¦é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'drawCanvas'</span>)
      <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>, { <span class="hljs-attr">willReadFrequently</span>: <span class="hljs-literal">true</span> }) <span class="hljs-comment">//</span>

      <span class="hljs-comment">// ç”»ç¬”è®¾ç½®</span>
      ctx.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'#000'</span>
      ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">5</span>
      ctx.<span class="hljs-property">lineCap</span> = <span class="hljs-string">'round'</span>
      ctx.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">'round'</span>

      <span class="hljs-comment">// ç»˜å›¾é€»è¾‘</span>
      <span class="hljs-keyword">let</span> isDrawing = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">let</span> isBeginDraw = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">let</span> lastX, lastY

      <span class="hljs-comment">// ç”»å¸ƒå†å²è®°å½•</span>
      <span class="hljs-keyword">let</span> historyStack = [],
        currentStep = -<span class="hljs-number">1</span>

      <span class="hljs-comment">// æ©¡çš®æ“¦</span>
      <span class="hljs-keyword">let</span> isBeginErase = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">let</span> isErasing = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">let</span> eraserSize = <span class="hljs-number">20</span> <span class="hljs-comment">// æ–¹å½¢æ©¡çš®æ“¦è¾¹é•¿</span>
      <span class="hljs-keyword">let</span> eraserColor = <span class="hljs-string">'#CCCCCC'</span> <span class="hljs-comment">// æ©¡çš®æ“¦é¢œè‰²</span>
      <span class="hljs-keyword">const</span> cursor = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>)
      cursor.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'eraser-cursor'</span>)
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(cursor)

      <span class="hljs-comment">//å¼€å§‹ç”»ç”»</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleDraw</span>(<span class="hljs-params"/>) {
        isBeginDraw = !isBeginDraw
        isBeginErase = <span class="hljs-literal">false</span>
      }

      <span class="hljs-comment">//æ“¦é™¤å‡½æ•°</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleErase</span>(<span class="hljs-params"/>) {
        isBeginDraw = <span class="hljs-literal">false</span>
        isBeginErase = !isBeginErase
      }

      canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousedown'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!isBeginDraw &amp;&amp; !isBeginErase) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> (isBeginDraw) isDrawing = <span class="hljs-literal">true</span>
        <span class="hljs-keyword">if</span> (isBeginErase) isErasing = <span class="hljs-literal">true</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'isErasing'</span>, isErasing)
        ;[lastX, lastY] = [e.<span class="hljs-property">offsetX</span>, e.<span class="hljs-property">offsetY</span>]
      })

      canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!isBeginDraw &amp;&amp; !isBeginErase) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> (isDrawing) {
          ctx.<span class="hljs-title function_">beginPath</span>()
          ctx.<span class="hljs-title function_">moveTo</span>(lastX, lastY)
          ctx.<span class="hljs-title function_">lineTo</span>(e.<span class="hljs-property">offsetX</span>, e.<span class="hljs-property">offsetY</span>)
          ctx.<span class="hljs-title function_">stroke</span>()
          ;[lastX, lastY] = [e.<span class="hljs-property">offsetX</span>, e.<span class="hljs-property">offsetY</span>]
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isErasing) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'isErasing'</span>)
          cursor.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = isErasing ? <span class="hljs-string">'block'</span> : <span class="hljs-string">'none'</span>
          cursor.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = e.<span class="hljs-property">clientX</span> - eraserSize / <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>
          cursor.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = e.<span class="hljs-property">clientY</span> - eraserSize / <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>
          <span class="hljs-title function_">eraseSquare</span>(e.<span class="hljs-property">clientX</span>, e.<span class="hljs-property">clientY</span>)
        }
      })

      canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseup'</span>, <span class="hljs-function">() =&gt;</span> {
        isDrawing = <span class="hljs-literal">false</span>
        isErasing = <span class="hljs-literal">false</span>
        cursor.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>
        <span class="hljs-keyword">if</span> (isBeginDraw || isBeginErase) {
          <span class="hljs-title function_">saveState</span>()
        }
      })

      <span class="hljs-comment">// ç”»å®Œä¿å­˜å½“å‰çŠ¶æ€</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveState</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// è·å–å½“å‰ç”»å¸ƒåƒç´ æ•°æ®</span>
        <span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>)
        historyStack.<span class="hljs-title function_">push</span>(imageData)
        currentStep = historyStack.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(historyStack)
      }

      <span class="hljs-comment">// æ’¤é”€</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleCancel</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (currentStep &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> (currentStep === <span class="hljs-number">0</span>) {
          ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>)
          historyStack = []
          currentStep = -<span class="hljs-number">1</span>
          <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">const</span> imageData = historyStack.<span class="hljs-title function_">pop</span>()
        currentStep--
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(currentStep)
        ctx.<span class="hljs-title function_">putImageData</span>(historyStack[currentStep], <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
      }

      <span class="hljs-comment">// æ“¦é™¤</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">eraseSquare</span>(<span class="hljs-params">x, y</span>) {
        ctx.<span class="hljs-title function_">save</span>() 
        ctx.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'destination-out'</span>
        ctx.<span class="hljs-title function_">fillRect</span>(x - eraserSize / <span class="hljs-number">2</span>, y - eraserSize / <span class="hljs-number">2</span>, eraserSize, eraserSize)
        ctx.<span class="hljs-title function_">restore</span>()
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-class">.eraser-cursor</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
      <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">204</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span>, <span class="hljs-number">0.5</span>);
      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999</span>;
      <span class="hljs-attribute">pointer-events</span>: none;
      <span class="hljs-attribute">display</span>: none;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<hr/>
<h2 data-id="heading-12">äº”ã€ é¢è¯•æ¨¡æ‹Ÿé¢˜</h2>
<h3 data-id="heading-13">Q1ï¼šä¸ºä»€ä¹ˆä¸ç”¨ <code>clearRect</code> åšæ©¡çš®æ“¦ï¼Ÿ</h3>
<p><strong>å‚è€ƒå›ç­”ï¼š</strong> <code>clearRect</code> åªèƒ½æ¸…é™¤çŸ©å½¢åŒºåŸŸã€‚å¦‚æœä½ æƒ³å®ç°â€œåœ†å½¢æ©¡çš®æ“¦â€æˆ–è€…â€œåƒç”»ç¬”ä¸€æ ·æ¶‚æŠ¹â€çš„æ©¡çš®æ“¦æ•ˆæœï¼Œå¿…é¡»ä½¿ç”¨ <code>globalCompositeOperation = "destination-out"</code> é…åˆè·¯å¾„ç»˜åˆ¶ï¼Œè¿™æ ·å¯ä»¥è·Ÿéšé¼ æ ‡è½¨è¿¹å®ç°ä¸è§„åˆ™çš„æ“¦é™¤ã€‚</p>
<h3 data-id="heading-14">Q2ï¼šå¿«ç…§æ ˆï¼ˆhistoryStackï¼‰è¿‡å¤§ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºå—ï¼Ÿ</h3>
<p><strong>å‚è€ƒå›ç­”ï¼š</strong> ä¼šã€‚å¦‚æœç”»å¸ƒå¾ˆå¤§ï¼ˆå¦‚ 4K åˆ†è¾¨ç‡ï¼‰ï¼Œæ¯ä¸€ä¸ª <code>ImageData</code> éƒ½ä¼šæ¶ˆè€—æ•°å…†å†…å­˜ã€‚åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šé™åˆ¶æ ˆçš„æ·±åº¦ï¼ˆä¾‹å¦‚æœ€å¤šå­˜ 20 æ­¥ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£æµè§ˆå™¨å¦‚ä½•é€šè¿‡HTML/CSS/JSæ¸²æŸ“ç½‘é¡µ]]></title>    <link>https://juejin.cn/post/7598104572584378418</link>    <guid>https://juejin.cn/post/7598104572584378418</guid>    <pubDate>2026-01-23T04:52:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104572584378418" data-draft-id="7598130716339617830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£æµè§ˆå™¨å¦‚ä½•é€šè¿‡HTML/CSS/JSæ¸²æŸ“ç½‘é¡µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T04:52:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·80110532256"/> <meta itemprop="url" content="https://juejin.cn/user/1927884034804425"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£æµè§ˆå™¨å¦‚ä½•é€šè¿‡HTML/CSS/JSæ¸²æŸ“ç½‘é¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1927884034804425/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·80110532256
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:52:08.000Z" title="Fri Jan 23 2026 04:52:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç®€è¿°ç½‘é¡µæ¸²æŸ“çš„é‡è¦æ€§ä»¥åŠHTMLã€CSSå’ŒJavaScriptåœ¨å…¶ä¸­æ‰®æ¼”çš„è§’è‰²ã€‚</p>
<h4 data-id="heading-0">äºŒã€æµè§ˆå™¨æ¸²æŸ“æµç¨‹æ¦‚è§ˆ</h4>
<ul>
<li><strong>è¾“å…¥</strong>ï¼šHTMLã€CSSå’ŒJavaScriptä»£ç ã€‚</li>
<li><strong>è¾“å‡º</strong>ï¼šæœ€ç»ˆæ˜¾ç¤ºç»™ç”¨æˆ·çš„é¡µé¢ã€‚</li>
<li>æ¸²æŸ“çš„å…³é”®æ­¥éª¤åŒ…æ‹¬DOMæ ‘çš„æ„å»ºã€CSSOMæ ‘çš„åˆ›å»ºã€å¸ƒå±€ï¼ˆLayoutï¼‰ã€ç»˜åˆ¶ï¼ˆPaintï¼‰åŠåˆæˆï¼ˆCompositeï¼‰ç­‰ã€‚</li>
</ul>
<h4 data-id="heading-1">ä¸‰ã€ä»HTMLåˆ°DOMæ ‘</h4>
<ul>
<li><strong>è§£æHTML</strong>ï¼šæµè§ˆå™¨æ¥æ”¶HTMLå­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ã€‚ä¾‹å¦‚ï¼š</li>
</ul>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æˆ‘çš„ç½‘é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>è¿™æ®µä»£ç ä¼šè¢«è§£ææˆä¸€ä¸ªDOMæ ‘ï¼Œå…¶ä¸­<code>&lt;html&gt;</code>æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå®ƒæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼š<code>&lt;head&gt;</code>å’Œ<code>&lt;body&gt;</code>ã€‚</p>
<h4 data-id="heading-2">å››ã€CSSOMæ ‘çš„å½¢æˆ</h4>
<ul>
<li>è§£é‡ŠCSSå¦‚ä½•è¢«è§£ææˆCSSå¯¹è±¡æ¨¡å‹ï¼ˆCSSOMï¼‰ã€‚ä¾‹å¦‚ï¼Œç»™ä¸Šé¢çš„<code>&lt;h1&gt;</code>æ ‡ç­¾åº”ç”¨æ ·å¼ï¼š</li>
</ul>

<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">h1</span> {
    <span class="hljs-attribute">color</span>: red;
}
</code></pre>
<p>è¿™å°†è¢«è§£ææˆCSSOMæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œä¸å¯¹åº”çš„DOMèŠ‚ç‚¹å…³è”èµ·æ¥ã€‚</p>
<h4 data-id="heading-3">äº”ã€æ¸²æŸ“è¿‡ç¨‹è¯¦è§£</h4>
<p>æ¸²æŸ“æµç¨‹å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b0cc0c0ad23495cae9b5dad6cf5d47a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODAxMTA1MzIyNTY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769748728&amp;x-signature=c5J6gF5FT4IC99blAOOZ%2FjQ50AQ%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-4">å…­ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<p>è®¨è®ºå¯èƒ½å½±å“æ¸²æŸ“æ—¶é—´çš„å› ç´ ï¼Œå¹¶æä¾›ä¸€äº›åŸºæœ¬çš„ä¼˜åŒ–ç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡ç»˜å’Œé‡æ’æ“ä½œï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>transform</code>å’Œ<code>opacity</code>å±æ€§è¿›è¡ŒåŠ¨ç”»åˆ¶ä½œï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šè§¦å‘é‡æ’ã€‚</li>
<li>å°½é‡é¿å…åœ¨JavaScriptä¸­é¢‘ç¹ä¿®æ”¹DOMå…ƒç´ çš„æ ·å¼æˆ–å¸ƒå±€ã€‚</li>
</ul>
<h4 data-id="heading-5">ä¸ƒã€æ€»ç»“</h4>
<p>å›é¡¾æ•´ä¸ªæ¸²æŸ“æµç¨‹ï¼Œå¼ºè°ƒè‰¯å¥½ç¼–ç å®è·µå¯¹æé«˜ç½‘ç«™æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒçš„é‡è¦æ€§ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ‰‹å†™ useReducerï¼šä¸€ä¸ªè®¡æ•°å™¨æ•™ä½ å¦‚ä½•ç”¨ TypeScript ç®¡ç† React çŠ¶æ€]]></title>    <link>https://juejin.cn/post/7598130716339650598</link>    <guid>https://juejin.cn/post/7598130716339650598</guid>    <pubDate>2026-01-23T05:02:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598130716339650598" data-draft-id="7598104572584362034" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ‰‹å†™ useReducerï¼šä¸€ä¸ªè®¡æ•°å™¨æ•™ä½ å¦‚ä½•ç”¨ TypeScript ç®¡ç† React çŠ¶æ€"/> <meta itemprop="keywords" content="React.js,TypeScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T05:02:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…¨æ ˆæ‰“æ€ªæ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/2269028453720813"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ‰‹å†™ useReducerï¼šä¸€ä¸ªè®¡æ•°å™¨æ•™ä½ å¦‚ä½•ç”¨ TypeScript ç®¡ç† React çŠ¶æ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2269028453720813/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…¨æ ˆæ‰“æ€ªæ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:02:21.000Z" title="Fri Jan 23 2026 05:02:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong><code>useReducer</code>Â ä¸æ˜¯å¤æ‚ï¼Œè€Œæ˜¯æ›´æ¸…æ™°ã€æ›´å¯é¢„æµ‹ã€æ›´é€‚åˆä¸­å¤§å‹é¡¹ç›®ï¼</strong></p>
</blockquote>
<p>æœ¬æ–‡é€šè¿‡ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ç¤ºä¾‹ï¼Œå¸¦ä½ ä»é›¶å¼€å§‹å®ç°Â <code>useReducer</code>ï¼Œå¹¶ç”¨ TypeScript å®ç°ç±»å‹å®‰å…¨ï¼Œè®©ä½ å½»åº•ç†è§£å®ƒçš„æ ¸å¿ƒæ€æƒ³ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆä¸ç”¨ useStateï¼Ÿ</h3>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå¸¸è§çš„åœºæ™¯ï¼šè®¡æ•°å™¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d2c289ef3a44d659d91494b8e723004~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749340&amp;x-signature=Fl9vnYUPKUoBlUrqXCpUaJ6UAIs%3D" alt="carbon.png" loading="lazy"/></p>
<p>è¿™æ²¡é—®é¢˜ï¼Œä½†å¦‚æœï¼š</p>
<ul>
<li>éœ€è¦å¤šä¸ªçŠ¶æ€ï¼ˆå¦‚ countã€stepã€maxï¼‰</li>
<li>éœ€è¦å¤æ‚çš„é€»è¾‘ï¼ˆå¦‚é™åˆ¶æœ€å¤§å€¼ï¼‰</li>
<li>éœ€è¦æ—¥å¿—è®°å½•æˆ–æ’¤é”€åŠŸèƒ½</li>
</ul>
<p>ä½ ä¼šå‘ç°Â <code>useState</code>Â å¾ˆå¿«å˜å¾—æ··ä¹±ï¼</p>
<hr/>
<h3 data-id="heading-1">äºŒã€å¼•å…¥ useReducerï¼šçŠ¶æ€ç®¡ç†çš„â€œå‡½æ•°å¼æ€ç»´â€</h3>
<p><code>useReducer</code>Â æ˜¯ React æä¾›çš„ä¸€ä¸ª Hookï¼Œç”¨äºå¤„ç†<strong>å¤æ‚çš„çŠ¶æ€é€»è¾‘</strong>ã€‚</p>
<p>å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>reducer</code>ï¼šä¸€ä¸ªå‡½æ•°ï¼Œå®šä¹‰çŠ¶æ€å¦‚ä½•å˜åŒ–</li>
<li><code>initialState</code>ï¼šåˆå§‹çŠ¶æ€</li>
</ul>
<p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼š<code>[state, dispatch]</code></p>
<h4 data-id="heading-2">âœ… æ ¸å¿ƒæ€æƒ³ï¼š</h4>
<blockquote>
<p><strong>çŠ¶æ€å˜åŒ– = å‡½æ•°è°ƒç”¨</strong><br/>
æ¯æ¬¡è°ƒç”¨Â <code>dispatch(action)</code>ï¼Œéƒ½ä¼šè§¦å‘Â <code>reducer</code>Â è®¡ç®—æ–°çŠ¶æ€</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€åŠ¨æ‰‹å®ç°ï¼šä¸€ä¸ªå®Œæ•´çš„è®¡æ•°å™¨</h3>
<h4 data-id="heading-4">1. å®šä¹‰ç±»å‹ï¼ˆTypeScriptï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81e252ec6f704e9c8836f8c020523860~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749340&amp;x-signature=d2G%2FwulphOYdz7%2B5F9rrdrPPhT0%3D" alt="carbon (1).png" loading="lazy"/></p>
<p>âœ… ä½¿ç”¨è”åˆç±»å‹ï¼ˆUnion Typesï¼‰ç¡®ä¿ç±»å‹å®‰å…¨</p>
<h4 data-id="heading-5">2. ç¼–å†™ reducer å‡½æ•°</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fb87b122e9248caa37e7f146c3f4edb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749340&amp;x-signature=rMf86cHIu6w8ic6HNQfapRH6aN4%3D" alt="carbon (2).png" loading="lazy"/></p>
<blockquote>
<p>âœ… æ³¨æ„ï¼š<code>reducer</code>Â å¿…é¡»è¿”å›æ–°å¯¹è±¡ï¼Œä¸èƒ½ä¿®æ”¹åŸ state</p>
</blockquote>
<h4 data-id="heading-6">3. ä½¿ç”¨ useReducer</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fa60c40f5ba40ffb156a12023b74732~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749340&amp;x-signature=1q1XnQpBnTgFgqJWGITNxIGdHU4%3D" alt="carbon (3).png" loading="lazy"/></p>
<h3 data-id="heading-7">å››ã€ä¸ºä»€ä¹ˆ useReducer æ›´å¥½ï¼Ÿ</h3>
<p>è¡¨æ ¼</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>useState</th><th>useReducer</th></tr></thead><tbody><tr><td><strong>çŠ¶æ€æ›´æ–°é€»è¾‘</strong></td><td>åˆ†æ•£åœ¨ç»„ä»¶ä¸­</td><td>é›†ä¸­åœ¨ reducer ä¸­</td></tr><tr><td><strong>ç±»å‹å®‰å…¨</strong></td><td>å¼±</td><td>å¼ºï¼ˆé…åˆ TSï¼‰</td></tr><tr><td><strong>å¯æµ‹è¯•æ€§</strong></td><td>å·®</td><td>å¥½ï¼ˆreducer æ˜¯çº¯å‡½æ•°ï¼‰</td></tr><tr><td><strong>å¯ç»„åˆæ€§</strong></td><td>å·®</td><td>å¥½ï¼ˆå¯å¤ç”¨ï¼‰</td></tr></tbody></table>
<blockquote>
<p>âœ¨Â <strong>useReducer çš„ä¼˜åŠ¿åœ¨äºï¼šæŠŠâ€œçŠ¶æ€å˜åŒ–â€å˜æˆâ€œå‡½æ•°â€ï¼Œæ›´å®¹æ˜“æµ‹è¯•å’Œç»´æŠ¤ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-8">äº”ã€è¿›é˜¶æŠ€å·§ï¼šè‡ªå®šä¹‰ Hook å°è£…</h3>
<p>ä½ å¯ä»¥å°†Â <code>useReducer</code>Â å°è£…æˆä¸€ä¸ªè‡ªå®šä¹‰ Hookï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9233077915214390981a73bea7c01077~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749340&amp;x-signature=DzwWG%2B87XGjy0gXGgJNc5ubOqQI%3D" alt="carbon (1).png" loading="lazy"/></p>
<p>ç„¶ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a40ca1aacc6740ebad7d51871e189ec8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWo5qCI5omT5oCq5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749340&amp;x-signature=P7r0vZXc05D8OlK3dr9I4bgAUmI%3D" alt="carbon (2).png" loading="lazy"/></p>
<blockquote>
<p>âœ… æ›´ç®€æ´ï¼Œæ›´æ˜“å¤ç”¨ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">å…­ã€æ€»ç»“</h3>
<ul>
<li><code>useReducer</code>Â ä¸æ˜¯ä¸ºç®€å•çŠ¶æ€è®¾è®¡çš„ï¼Œè€Œæ˜¯ä¸º<strong>å¤æ‚é€»è¾‘</strong>æœåŠ¡çš„</li>
<li>å®ƒè®©çŠ¶æ€å˜åŒ–<strong>é›†ä¸­ã€å¯é¢„æµ‹ã€å¯æµ‹è¯•</strong></li>
<li>é…åˆ TypeScriptï¼Œå¯ä»¥å®ç°<strong>æè‡´çš„ç±»å‹å®‰å…¨</strong></li>
<li>åˆ«å†ç”¨Â <code>useState</code>Â å†™å¤æ‚é€»è¾‘äº†ï¼Œè¯•è¯•Â <code>useReducer</code>Â å§ï¼</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flow ç›¸å…³apiçš„ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7598103558886768686</link>    <guid>https://juejin.cn/post/7598103558886768686</guid>    <pubDate>2026-01-23T04:52:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598103558886768686" data-draft-id="7598130716339568678" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Flow ç›¸å…³apiçš„ä½¿ç”¨"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-23T04:52:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·5068449388597"/> <meta itemprop="url" content="https://juejin.cn/user/3465293099434791"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Flow ç›¸å…³apiçš„ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3465293099434791/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·5068449388597
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:52:30.000Z" title="Fri Jan 23 2026 04:52:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Kotlin Flow API å®Œæ•´åˆ—è¡¨</h2>
<h3 data-id="heading-1">ğŸ“š ç›®å½•</h3>
<ol>
<li><a href="#flow-%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E5%88%9B%E5%BB%BA%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow åˆ›å»ºæ“ä½œç¬¦</a></li>
<li><a href="#flow-%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow è½¬æ¢æ“ä½œç¬¦</a></li>
<li><a href="#flow-%E8%BF%87%E6%BB%A4%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E8%BF%87%E6%BB%A4%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow è¿‡æ»¤æ“ä½œç¬¦</a></li>
<li><a href="#flow-%E7%BB%84%E5%90%88%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E7%BB%84%E5%90%88%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow ç»„åˆæ“ä½œç¬¦</a></li>
<li><a href="#flow-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow å¼‚å¸¸å¤„ç†æ“ä½œç¬¦</a></li>
<li><a href="#flow-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow ç”Ÿå‘½å‘¨æœŸæ“ä½œç¬¦</a></li>
<li><a href="#flow-%E7%BA%BF%E7%A8%8B%E5%88%87%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E7%BA%BF%E7%A8%8B%E5%88%87%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow çº¿ç¨‹åˆ‡æ¢æ“ä½œç¬¦</a></li>
<li><a href="#flow-%E7%BB%88%E7%AB%AF%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E7%BB%88%E7%AB%AF%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow ç»ˆç«¯æ“ä½œç¬¦</a></li>
<li><a href="#flow-%E8%83%8C%E5%8E%8B%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%E7%AC%A6" title="#flow-%E8%83%8C%E5%8E%8B%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%E7%AC%A6">Flow èƒŒå‹å¤„ç†æ“ä½œç¬¦</a></li>
<li><a href="#%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E7%9A%84api" title="#%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E7%9A%84api">é¡¹ç›®ä¸­å®é™…ä½¿ç”¨çš„API</a></li>
<li>[å‚è€ƒæ–°é¡¹ç›®] <a href="https://juejin.cn/post/7223767530981867557" target="_blank" title="https://juejin.cn/post/7223767530981867557">juejin.cn/post/722376â€¦</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">Flow åˆ›å»ºæ“ä½œç¬¦</h3>
<h4 data-id="heading-3">1. <code>flow { }</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow {
    emit(<span class="hljs-number">1</span>)
    emit(<span class="hljs-number">2</span>)
    emit(<span class="hljs-number">3</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: åˆ›å»ºå†·æµï¼ˆCold Flowï¼‰ï¼Œé€šè¿‡ <code>emit()</code> å‘å°„æ•°æ®<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>lib_network/flow/FlowExt.kt</code>ã€<code>lib_framework/ext/FlowExt.kt</code></p>
<h4 data-id="heading-4">2. <code>flowOf()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flowOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: åˆ›å»ºåŒ…å«å›ºå®šå€¼çš„Flow</p>
<h4 data-id="heading-5">3. <code>asFlow()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>).asFlow()
(<span class="hljs-number">1.</span><span class="hljs-number">.5</span>).asFlow()
</code></pre>
<p><strong>ç”¨é€”</strong>: å°†é›†åˆã€æ•°ç»„ã€åŒºé—´è½¬æ¢ä¸ºFlow</p>
<h4 data-id="heading-6">4. <code>callbackFlow { }</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">callbackFlow {
    <span class="hljs-keyword">val</span> callback = <span class="hljs-keyword">object</span> : Callback {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onResult</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">String</span>)</span></span> {
            offer(<span class="hljs-keyword">data</span>)  <span class="hljs-comment">// æˆ– trySend(data)</span>
        }
    }
    registerCallback(callback)
    awaitClose { unregisterCallback(callback) }
}
</code></pre>
<p><strong>ç”¨é€”</strong>: å°†åŸºäºå›è°ƒçš„APIè½¬æ¢ä¸ºFlow<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>lib_framework/ext/EditTtextExt.kt</code> - EditTextæ–‡æœ¬å˜åŒ–ç›‘å¬</p>
<h4 data-id="heading-7">5. <code>channelFlow { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">channelFlow {
    send(<span class="hljs-number">1</span>)
    send(<span class="hljs-number">2</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: åˆ›å»ºçƒ­æµï¼ˆHot Flowï¼‰ï¼Œæ”¯æŒå¹¶å‘å‘é€</p>
<h4 data-id="heading-8">6. <code>emptyFlow()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">emptyFlow&lt;<span class="hljs-built_in">Int</span>&gt;()
</code></pre>
<p><strong>ç”¨é€”</strong>: åˆ›å»ºç©ºçš„Flow</p>
<hr/>
<h3 data-id="heading-9">Flow è½¬æ¢æ“ä½œç¬¦</h3>
<h4 data-id="heading-10">7. <code>map { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.map { it * <span class="hljs-number">2</span> }
</code></pre>
<p><strong>ç”¨é€”</strong>: è½¬æ¢æ¯ä¸ªå…ƒç´ </p>
<h4 data-id="heading-11">8. <code>transform { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.transform { value -&gt;
    emit(value * <span class="hljs-number">2</span>)
    emit(value * <span class="hljs-number">3</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: å¯ä»¥å‘å°„å¤šä¸ªå€¼ï¼Œæ›´çµæ´»çš„è½¬æ¢</p>
<h4 data-id="heading-12">9. <code>flatMapConcat { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.flatMapConcat { value -&gt;
    flowOf(value, value * <span class="hljs-number">2</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: é¡ºåºåˆå¹¶å¤šä¸ªFlow</p>
<h4 data-id="heading-13">10. <code>flatMapMerge { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.flatMapMerge { value -&gt;
    flowOf(value, value * <span class="hljs-number">2</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: å¹¶å‘åˆå¹¶å¤šä¸ªFlow</p>
<h4 data-id="heading-14">11. <code>flatMapLatest { }</code> â­ <strong>é¡¹ç›®ä¸­å·²å¯¼å…¥ï¼ˆæ³¨é‡Šä¸­ï¼‰</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.flatMapLatest { value -&gt;
    searchFlow(value.toString())
}
</code></pre>
<p><strong>ç”¨é€”</strong>: åªå¤„ç†æœ€æ–°çš„Flowï¼Œå–æ¶ˆä¹‹å‰çš„Flow<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>mod_login</code> ä¸­æ³¨é‡Šä»£ç æœ‰æåˆ°</p>
<h4 data-id="heading-15">12. <code>scan()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.scan(<span class="hljs-number">0</span>) { acc, value -&gt; acc + value }
</code></pre>
<p><strong>ç”¨é€”</strong>: ç´¯ç§¯è®¡ç®—ï¼ˆç±»ä¼¼reduceï¼Œä½†ä¼šå‘å°„ä¸­é—´ç»“æœï¼‰</p>
<h4 data-id="heading-16">13. <code>onEach { }</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.onEach { value -&gt;
    println(value)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œï¼Œä½†ä¸æ”¹å˜å…ƒç´ <br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>LoginActivity.kt</code>ã€<code>RegisterActivity.kt</code>ã€<code>FlowExt.kt</code></p>
<hr/>
<h3 data-id="heading-17">Flow è¿‡æ»¤æ“ä½œç¬¦</h3>
<h4 data-id="heading-18">14. <code>filter { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.filter { it &gt; <span class="hljs-number">5</span> }
</code></pre>
<p><strong>ç”¨é€”</strong>: è¿‡æ»¤ç¬¦åˆæ¡ä»¶çš„å…ƒç´ </p>
<h4 data-id="heading-19">15. <code>filterNot { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.filterNot { it.isEmpty() }
</code></pre>
<p><strong>ç”¨é€”</strong>: è¿‡æ»¤ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ </p>
<h4 data-id="heading-20">16. <code>filterIsInstance&lt;T&gt;()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.filterIsInstance&lt;String&gt;()
</code></pre>
<p><strong>ç”¨é€”</strong>: è¿‡æ»¤æŒ‡å®šç±»å‹çš„å…ƒç´ </p>
<h4 data-id="heading-21">17. <code>take(n)</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.take(<span class="hljs-number">5</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: å–å‰nä¸ªå…ƒç´ </p>
<h4 data-id="heading-22">18. <code>takeWhile { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.takeWhile { it &lt; <span class="hljs-number">10</span> }
</code></pre>
<p><strong>ç”¨é€”</strong>: å–æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œé‡åˆ°ä¸æ»¡è¶³æ—¶åœæ­¢</p>
<h4 data-id="heading-23">19. <code>drop(n)</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.drop(<span class="hljs-number">5</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: è·³è¿‡å‰nä¸ªå…ƒç´ </p>
<h4 data-id="heading-24">20. <code>dropWhile { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.dropWhile { it &lt; <span class="hljs-number">5</span> }
</code></pre>
<p><strong>ç”¨é€”</strong>: è·³è¿‡æ»¡è¶³æ¡ä»¶çš„å…ƒç´ </p>
<h4 data-id="heading-25">21. <code>distinctUntilChanged()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.distinctUntilChanged()
</code></pre>
<p><strong>ç”¨é€”</strong>: è¿‡æ»¤è¿ç»­é‡å¤çš„å…ƒç´ </p>
<hr/>
<h3 data-id="heading-26">Flow ç»„åˆæ“ä½œç¬¦</h3>
<h4 data-id="heading-27">22. <code>zip()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow1.zip(flow2) { a, b -&gt; a + b }
</code></pre>
<p><strong>ç”¨é€”</strong>: ç»„åˆä¸¤ä¸ªFlowï¼Œä¸€ä¸€å¯¹åº”</p>
<h4 data-id="heading-28">23. <code>combine()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow1.combine(flow2) { a, b -&gt; a + b }
</code></pre>
<p><strong>ç”¨é€”</strong>: ç»„åˆä¸¤ä¸ªFlowï¼Œä»»ä¸€Flowæœ‰æ–°å€¼å°±ç»„åˆ</p>
<h4 data-id="heading-29">24. <code>merge()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">merge(flow1, flow2, flow3)
</code></pre>
<p><strong>ç”¨é€”</strong>: åˆå¹¶å¤šä¸ªFlow</p>
<hr/>
<h3 data-id="heading-30">Flow å¼‚å¸¸å¤„ç†æ“ä½œç¬¦</h3>
<h4 data-id="heading-31">25. <code>catch { }</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.<span class="hljs-keyword">catch</span> { e -&gt;
    println(<span class="hljs-string">"Error: <span class="hljs-variable">$e</span>"</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: æ•è·ä¸Šæ¸¸å¼‚å¸¸<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>lib_network/flow/FlowExt.kt</code> - ç½‘ç»œè¯·æ±‚å¼‚å¸¸å¤„ç†</p>
<h4 data-id="heading-32">26. <code>onErrorReturn()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.onErrorReturn(<span class="hljs-number">0</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: å‘ç”Ÿå¼‚å¸¸æ—¶è¿”å›é»˜è®¤å€¼</p>
<h4 data-id="heading-33">27. <code>onErrorResume { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.onErrorResume { e -&gt;
    flowOf(<span class="hljs-number">0</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: å‘ç”Ÿå¼‚å¸¸æ—¶è¿”å›å¦ä¸€ä¸ªFlow</p>
<h4 data-id="heading-34">28. <code>retry()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.retry(<span class="hljs-number">3</span>)
flow.retry(<span class="hljs-number">3</span>) { e -&gt; e <span class="hljs-keyword">is</span> IOException }
</code></pre>
<p><strong>ç”¨é€”</strong>: é‡è¯•æŒ‡å®šæ¬¡æ•°</p>
<h4 data-id="heading-35">29. <code>retryWhen { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.retryWhen { cause, attempt -&gt;
    attempt &lt; <span class="hljs-number">3</span> &amp;&amp; cause <span class="hljs-keyword">is</span> IOException
}
</code></pre>
<p><strong>ç”¨é€”</strong>: æ ¹æ®æ¡ä»¶é‡è¯•</p>
<hr/>
<h3 data-id="heading-36">Flow ç”Ÿå‘½å‘¨æœŸæ“ä½œç¬¦</h3>
<h4 data-id="heading-37">30. <code>onStart { }</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.onStart {
    println(<span class="hljs-string">"Flow started"</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: Flowå¼€å§‹æ”¶é›†æ—¶æ‰§è¡Œ<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>lib_network/flow/FlowExt.kt</code>ã€<code>lib_framework/ext/FlowExt.kt</code></p>
<h4 data-id="heading-38">31. <code>onCompletion { }</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.onCompletion { cause -&gt;
    <span class="hljs-keyword">if</span> (cause == <span class="hljs-literal">null</span>) {
        println(<span class="hljs-string">"Flow completed successfully"</span>)
    } <span class="hljs-keyword">else</span> {
        println(<span class="hljs-string">"Flow completed with error: <span class="hljs-variable">$cause</span>"</span>)
    }
}
</code></pre>
<p><strong>ç”¨é€”</strong>: Flowå®Œæˆæ—¶æ‰§è¡Œï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>lib_network/flow/FlowExt.kt</code>ã€<code>lib_framework/ext/FlowExt.kt</code></p>
<h4 data-id="heading-39">32. <code>onEmpty { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.onEmpty {
    emit(<span class="hljs-number">0</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: Flowä¸ºç©ºæ—¶æ‰§è¡Œ</p>
<hr/>
<h3 data-id="heading-40">Flow çº¿ç¨‹åˆ‡æ¢æ“ä½œç¬¦</h3>
<h4 data-id="heading-41">33. <code>flowOn(Dispatchers)</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.flowOn(Dispatchers.IO)
</code></pre>
<p><strong>ç”¨é€”</strong>: æŒ‡å®šFlowæ‰§è¡Œçš„çº¿ç¨‹ï¼ˆå½±å“ä¸Šæ¸¸æ“ä½œç¬¦ï¼‰<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: æ‰€æœ‰Flowä½¿ç”¨åœºæ™¯</p>
<hr/>
<h3 data-id="heading-42">Flow èƒŒå‹å¤„ç†æ“ä½œç¬¦</h3>
<h4 data-id="heading-43">34. <code>buffer()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.buffer()
flow.buffer(<span class="hljs-number">10</span>)  <span class="hljs-comment">// æŒ‡å®šç¼“å†²åŒºå¤§å°</span>
</code></pre>
<p><strong>ç”¨é€”</strong>: ç¼“å†²å…ƒç´ ï¼Œå‡å°‘èƒŒå‹</p>
<h4 data-id="heading-44">35. <code>conflate()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.conflate()
</code></pre>
<p><strong>ç”¨é€”</strong>: åªä¿ç•™æœ€æ–°çš„å€¼ï¼Œä¸¢å¼ƒä¸­é—´å€¼</p>
<h4 data-id="heading-45">36. <code>collectLatest { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.collectLatest { value -&gt;
    <span class="hljs-comment">// å¦‚æœæ–°å€¼åˆ°è¾¾ï¼Œå–æ¶ˆå½“å‰å¤„ç†</span>
}
</code></pre>
<p><strong>ç”¨é€”</strong>: æ”¶é›†æœ€æ–°å€¼ï¼Œå–æ¶ˆä¹‹å‰çš„å¤„ç†</p>
<hr/>
<h3 data-id="heading-46">Flow æ—¶é—´ç›¸å…³æ“ä½œç¬¦</h3>
<h4 data-id="heading-47">37. <code>debounce(timeoutMillis)</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.debounce(<span class="hljs-number">300</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: é˜²æŠ–ï¼Œåªåœ¨æŒ‡å®šæ—¶é—´å†…æ²¡æœ‰æ–°å€¼æ—¶æ‰å‘å°„<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>LoginActivity.kt</code>ã€<code>RegisterActivity.kt</code> - è¾“å…¥æ¡†é˜²æŠ–</p>
<h4 data-id="heading-48">38. <code>sample(periodMillis)</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.sample(<span class="hljs-number">1000</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: é‡‡æ ·ï¼Œå®šæœŸå‘å°„æœ€æ–°å€¼</p>
<h4 data-id="heading-49">39. <code>throttleFirst(periodMillis)</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.throttleFirst(<span class="hljs-number">1000</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: èŠ‚æµï¼Œåœ¨æŒ‡å®šæ—¶é—´å†…åªå‘å°„ç¬¬ä¸€ä¸ªå€¼</p>
<h4 data-id="heading-50">40. <code>throttleLatest(periodMillis)</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.throttleLatest(<span class="hljs-number">1000</span>)
</code></pre>
<p><strong>ç”¨é€”</strong>: èŠ‚æµï¼Œåœ¨æŒ‡å®šæ—¶é—´å†…åªå‘å°„æœ€æ–°çš„å€¼</p>
<hr/>
<h3 data-id="heading-51">Flow ç»ˆç«¯æ“ä½œç¬¦</h3>
<h4 data-id="heading-52">41. <code>collect { }</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.collect { value -&gt;
    println(value)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: æ”¶é›†Flowçš„æ‰€æœ‰å€¼ï¼ˆæŒ‚èµ·å‡½æ•°ï¼‰<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>lib_network/flow/FlowExt.kt</code></p>
<h4 data-id="heading-53">42. <code>collectIndexed { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.collectIndexed { index, value -&gt;
    println(<span class="hljs-string">"<span class="hljs-variable">$index</span>: <span class="hljs-variable">$value</span>"</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: å¸¦ç´¢å¼•çš„æ”¶é›†</p>
<h4 data-id="heading-54">43. <code>launchIn(scope)</code> â­ <strong>é¡¹ç›®ä¸­å·²ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.launchIn(lifecycleScope)
</code></pre>
<p><strong>ç”¨é€”</strong>: åœ¨æŒ‡å®šä½œç”¨åŸŸä¸­å¯åŠ¨Flowæ”¶é›†ï¼ˆä¸æŒ‚èµ·ï¼‰<br/>
<strong>é¡¹ç›®ä½¿ç”¨</strong>: <code>LoginActivity.kt</code>ã€<code>RegisterActivity.kt</code>ã€<code>FlowExt.kt</code></p>
<h4 data-id="heading-55">44. <code>first()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> first = flow.first()
</code></pre>
<p><strong>ç”¨é€”</strong>: è·å–ç¬¬ä¸€ä¸ªå€¼</p>
<h4 data-id="heading-56">45. <code>firstOrNull()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> first = flow.firstOrNull()
</code></pre>
<p><strong>ç”¨é€”</strong>: è·å–ç¬¬ä¸€ä¸ªå€¼ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å›null</p>
<h4 data-id="heading-57">46. <code>single()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> value = flow.single()
</code></pre>
<p><strong>ç”¨é€”</strong>: ç¡®ä¿Flowåªå‘å°„ä¸€ä¸ªå€¼</p>
<h4 data-id="heading-58">47. <code>singleOrNull()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> value = flow.singleOrNull()
</code></pre>
<p><strong>ç”¨é€”</strong>: è·å–å•ä¸ªå€¼ï¼Œå¦‚æœæ²¡æœ‰æˆ–è¶…è¿‡ä¸€ä¸ªåˆ™è¿”å›null</p>
<h4 data-id="heading-59">48. <code>toList()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> list = flow.toList()
</code></pre>
<p><strong>ç”¨é€”</strong>: æ”¶é›†æ‰€æœ‰å€¼åˆ°List</p>
<h4 data-id="heading-60">49. <code>toSet()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> <span class="hljs-keyword">set</span> = flow.toSet()
</code></pre>
<p><strong>ç”¨é€”</strong>: æ”¶é›†æ‰€æœ‰å€¼åˆ°Set</p>
<h4 data-id="heading-61">50. <code>fold(initial) { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> sum = flow.fold(<span class="hljs-number">0</span>) { acc, value -&gt; acc + value }
</code></pre>
<p><strong>ç”¨é€”</strong>: ç´¯ç§¯è®¡ç®—ï¼Œè¿”å›æœ€ç»ˆç»“æœ</p>
<h4 data-id="heading-62">51. <code>reduce { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> sum = flow.reduce { acc, value -&gt; acc + value }
</code></pre>
<p><strong>ç”¨é€”</strong>: ç´¯ç§¯è®¡ç®—ï¼Œç¬¬ä¸€ä¸ªå€¼ä½œä¸ºåˆå§‹å€¼</p>
<h4 data-id="heading-63">52. <code>count()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> count = flow.count()
</code></pre>
<p><strong>ç”¨é€”</strong>: è®¡ç®—å…ƒç´ æ•°é‡</p>
<h4 data-id="heading-64">53. <code>count { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> count = flow.count { it &gt; <span class="hljs-number">5</span> }
</code></pre>
<p><strong>ç”¨é€”</strong>: è®¡ç®—æ»¡è¶³æ¡ä»¶çš„å…ƒç´ æ•°é‡</p>
<hr/>
<h3 data-id="heading-65">Flow çŠ¶æ€æ“ä½œç¬¦</h3>
<h4 data-id="heading-66">54. <code>stateIn(scope, started, initialValue)</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> stateFlow = flow.stateIn(
    scope = viewModelScope,
    started = SharingStarted.WhileSubscribed(<span class="hljs-number">5000</span>),
    initialValue = <span class="hljs-number">0</span>
)
</code></pre>
<p><strong>ç”¨é€”</strong>: å°†Flowè½¬æ¢ä¸ºStateFlow</p>
<h4 data-id="heading-67">55. <code>shareIn(scope, started, replay)</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> sharedFlow = flow.shareIn(
    scope = viewModelScope,
    started = SharingStarted.WhileSubscribed(<span class="hljs-number">5000</span>),
    replay = <span class="hljs-number">1</span>
)
</code></pre>
<p><strong>ç”¨é€”</strong>: å°†Flowè½¬æ¢ä¸ºSharedFlow</p>
<hr/>
<h3 data-id="heading-68">Flow å…¶ä»–æ“ä½œç¬¦</h3>
<h4 data-id="heading-69">56. <code>cancellable()</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.cancellable()
</code></pre>
<p><strong>ç”¨é€”</strong>: ä½¿Flowå¯å–æ¶ˆ</p>
<h4 data-id="heading-70">57. <code>onSubscription { }</code></h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow.onSubscription {
    println(<span class="hljs-string">"Subscribed"</span>)
}
</code></pre>
<p><strong>ç”¨é€”</strong>: è®¢é˜…æ—¶æ‰§è¡Œï¼ˆSharedFlow/StateFlowï¼‰</p>
<h4 data-id="heading-71">58. <code>onEach { }</code> (å·²åˆ—å‡ºï¼Œè§è½¬æ¢æ“ä½œç¬¦)</h4>
<hr/>
<h3 data-id="heading-72">é¡¹ç›®ä¸­å®é™…ä½¿ç”¨çš„API</h3>
<h4 data-id="heading-73">âœ… å·²ä½¿ç”¨çš„APIåˆ—è¡¨</h4>




























































<table><thead><tr><th>API</th><th>ä½¿ç”¨ä½ç½®</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>flow { }</code></td><td><code>FlowExt.kt</code></td><td>åˆ›å»ºç½‘ç»œè¯·æ±‚Flowå’Œå€’è®¡æ—¶Flow</td></tr><tr><td><code>callbackFlow { }</code></td><td><code>EditTtextExt.kt</code></td><td>å°†EditTextæ–‡æœ¬å˜åŒ–è½¬æ¢ä¸ºFlow</td></tr><tr><td><code>flowOn()</code></td><td>æ‰€æœ‰ä½¿ç”¨åœºæ™¯</td><td>æŒ‡å®šFlowæ‰§è¡Œçº¿ç¨‹</td></tr><tr><td><code>onStart { }</code></td><td><code>FlowExt.kt</code></td><td>è¯·æ±‚å¼€å§‹æ˜¾ç¤ºåŠ è½½æ¡†</td></tr><tr><td><code>onCompletion { }</code></td><td><code>FlowExt.kt</code></td><td>è¯·æ±‚å®Œæˆéšè—åŠ è½½æ¡†</td></tr><tr><td><code>catch { }</code></td><td><code>FlowExt.kt</code></td><td>æ•è·ç½‘ç»œè¯·æ±‚å¼‚å¸¸</td></tr><tr><td><code>collect { }</code></td><td><code>FlowExt.kt</code></td><td>æ”¶é›†ç½‘ç»œè¯·æ±‚ç»“æœ</td></tr><tr><td><code>onEach { }</code></td><td><code>LoginActivity.kt</code>ã€<code>RegisterActivity.kt</code></td><td>å¤„ç†æ¯ä¸ªæ–‡æœ¬å˜åŒ–äº‹ä»¶</td></tr><tr><td><code>debounce()</code></td><td><code>LoginActivity.kt</code>ã€<code>RegisterActivity.kt</code></td><td>è¾“å…¥æ¡†é˜²æŠ–</td></tr><tr><td><code>launchIn()</code></td><td>æ‰€æœ‰Activityä½¿ç”¨åœºæ™¯</td><td>åœ¨ç”Ÿå‘½å‘¨æœŸä½œç”¨åŸŸä¸­å¯åŠ¨Flow</td></tr></tbody></table>
<h4 data-id="heading-74">ğŸ“ å·²å¯¼å…¥ä½†æœªä½¿ç”¨çš„API</h4>















<table><thead><tr><th>API</th><th>å¯¼å…¥ä½ç½®</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td><code>flatMapLatest { }</code></td><td><code>RegisterActivity.kt</code></td><td>å·²å¯¼å…¥ä½†ä»£ç è¢«æ³¨é‡Š</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-75">å¸¸ç”¨APIç»„åˆç¤ºä¾‹</h3>
<h4 data-id="heading-76">1. ç½‘ç»œè¯·æ±‚ï¼ˆé¡¹ç›®ä¸­ä½¿ç”¨çš„æ¨¡å¼ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow {
    emit(requestCall())
}
.flowOn(Dispatchers.IO)
.onStart { showLoading(<span class="hljs-literal">true</span>) }
.<span class="hljs-keyword">catch</span> { e -&gt; handleError(e) }
.onCompletion { showLoading(<span class="hljs-literal">false</span>) }
.collect { result -&gt; handleResult(result) }
</code></pre>
<h4 data-id="heading-77">2. è¾“å…¥æ¡†ç›‘å¬ï¼ˆé¡¹ç›®ä¸­ä½¿ç”¨çš„æ¨¡å¼ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">editText.textChangeFlow()
    .debounce(<span class="hljs-number">300</span>)
    .flowOn(Dispatchers.IO)
    .onEach { updateUI(it) }
    .launchIn(lifecycleScope)
</code></pre>
<h4 data-id="heading-78">3. å€’è®¡æ—¶ï¼ˆé¡¹ç›®ä¸­ä½¿ç”¨çš„æ¨¡å¼ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">flow {
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> total downTo <span class="hljs-number">0</span>) {
        emit(i)
        delay(<span class="hljs-number">1000</span>)
    }
}
.flowOn(Dispatchers.Main)
.onStart { onStart() }
.onCompletion { onFinish() }
.onEach { onTick(it) }
.launchIn(scope)
</code></pre>
<hr/>
<h3 data-id="heading-79">æ€»ç»“</h3>
<h4 data-id="heading-80">é¡¹ç›®ä¸­ä½¿ç”¨çš„æ ¸å¿ƒAPIï¼ˆ10ä¸ªï¼‰</h4>
<ol>
<li>âœ… <code>flow { }</code> - åˆ›å»ºFlow</li>
<li>âœ… <code>callbackFlow { }</code> - å›è°ƒè½¬Flow</li>
<li>âœ… <code>flowOn()</code> - çº¿ç¨‹åˆ‡æ¢</li>
<li>âœ… <code>onStart { }</code> - å¼€å§‹å›è°ƒ</li>
<li>âœ… <code>onCompletion { }</code> - å®Œæˆå›è°ƒ</li>
<li>âœ… <code>catch { }</code> - å¼‚å¸¸æ•è·</li>
<li>âœ… <code>collect { }</code> - æ”¶é›†æ•°æ®</li>
<li>âœ… <code>onEach { }</code> - å¤„ç†æ¯ä¸ªå…ƒç´ </li>
<li>âœ… <code>debounce()</code> - é˜²æŠ–</li>
<li>âœ… <code>launchIn()</code> - å¯åŠ¨æ”¶é›†</li>
</ol>
<h4 data-id="heading-81">Flow APIåˆ†ç±»ç»Ÿè®¡</h4>
<ul>
<li><strong>åˆ›å»ºæ“ä½œç¬¦</strong>: 6ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨2ä¸ªï¼‰</li>
<li><strong>è½¬æ¢æ“ä½œç¬¦</strong>: 7ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨1ä¸ªï¼‰</li>
<li><strong>è¿‡æ»¤æ“ä½œç¬¦</strong>: 8ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨0ä¸ªï¼‰</li>
<li><strong>ç»„åˆæ“ä½œç¬¦</strong>: 3ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨0ä¸ªï¼‰</li>
<li><strong>å¼‚å¸¸å¤„ç†æ“ä½œç¬¦</strong>: 5ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨1ä¸ªï¼‰</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸæ“ä½œç¬¦</strong>: 3ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨2ä¸ªï¼‰</li>
<li><strong>çº¿ç¨‹åˆ‡æ¢æ“ä½œç¬¦</strong>: 1ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨1ä¸ªï¼‰</li>
<li><strong>èƒŒå‹å¤„ç†æ“ä½œç¬¦</strong>: 3ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨0ä¸ªï¼‰</li>
<li><strong>æ—¶é—´ç›¸å…³æ“ä½œç¬¦</strong>: 4ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨1ä¸ªï¼‰</li>
<li><strong>ç»ˆç«¯æ“ä½œç¬¦</strong>: 13ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨2ä¸ªï¼‰</li>
<li><strong>çŠ¶æ€æ“ä½œç¬¦</strong>: 2ä¸ªï¼ˆé¡¹ç›®ä¸­ç”¨0ä¸ªï¼‰</li>
</ul>
<p><strong>æ€»è®¡</strong>: çº¦58ä¸ªå¸¸ç”¨APIï¼Œé¡¹ç›®ä¸­å®é™…ä½¿ç”¨äº†10ä¸ªæ ¸å¿ƒAPIã€‚</p>
<hr/>
<p><strong>å‚è€ƒæ–‡æ¡£</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fdocs%2Fflow.html" target="_blank" title="https://kotlinlang.org/docs/flow.html" ref="nofollow noopener noreferrer">Kotlin Flowå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlin.github.io%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines.flow%2F" target="_blank" title="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/" ref="nofollow noopener noreferrer">Kotlin Coroutines Flow API</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MindSporeå¤§æ¨¡å‹å…¨æ ˆéƒ¨ç½²å®æˆ˜ï¼šK8s+Milvusæ‰“é€ AIåŸºç¡€è®¾æ–½]]></title>    <link>https://juejin.cn/post/7598127455133122560</link>    <guid>https://juejin.cn/post/7598127455133122560</guid>    <pubDate>2026-01-23T03:37:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598127455133122560" data-draft-id="7598118189143457792" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MindSporeå¤§æ¨¡å‹å…¨æ ˆéƒ¨ç½²å®æˆ˜ï¼šK8s+Milvusæ‰“é€ AIåŸºç¡€è®¾æ–½"/> <meta itemprop="keywords" content="åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-23T03:37:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·867573478982"/> <meta itemprop="url" content="https://juejin.cn/user/924064924829272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MindSporeå¤§æ¨¡å‹å…¨æ ˆéƒ¨ç½²å®æˆ˜ï¼šK8s+Milvusæ‰“é€ AIåŸºç¡€è®¾æ–½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/924064924829272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·867573478982
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:37:35.000Z" title="Fri Jan 23 2026 03:37:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨AIå¤§æ¨¡å‹æµªæ½®ä¸­ï¼Œä»…ä»…è®­ç»ƒæ¨¡å‹å·²ç»ä¸å¤Ÿäº†ã€‚å¦‚ä½•é«˜æ•ˆåœ°éƒ¨ç½²ã€ç®¡ç†å’ŒæœåŠ¡å¤§æ¨¡å‹ï¼Œæ‰æ˜¯çœŸæ­£äº§ç”Ÿå•†ä¸šä»·å€¼çš„å…³é”®ã€‚ä»Šå¤©æˆ‘å°†å¸¦å¤§å®¶ä»é›¶å¼€å§‹ï¼Œç”¨Kubernetesç¼–æ’MindSporeå¤§æ¨¡å‹æœåŠ¡ï¼Œç”¨Milvusæ„å»ºå‘é‡æ•°æ®åº“ï¼Œæ­å»ºä¸€å¥—å®Œæ•´çš„AIåŸºç¡€è®¾æ–½ã€‚</p>
<h2 data-id="heading-0">1. ç¯å¢ƒè§„åˆ’ï¼šæˆ‘ä»¬çš„æŠ€æœ¯æ ˆæ¶æ„</h2>
<h3 data-id="heading-1">1.1 ç³»ç»Ÿæ¶æ„å›¾</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Kubernetesé›†ç¾¤                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MindSpore   â”‚   Milvus     â”‚   åº”ç”¨æœåŠ¡å±‚          â”‚
â”‚ æ¨¡å‹æœåŠ¡    â”‚ å‘é‡æ•°æ®åº“   â”‚  (API Gateway,        â”‚
â”‚ (Pod)       â”‚  (StatefulSet)â”‚  ç›‘æ§, æ—¥å¿—)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  GPUèµ„æº    â”‚  PV/PVCå­˜å‚¨  â”‚  æœåŠ¡ç½‘æ ¼             â”‚
â”‚  (DevicePlugin) â”‚           â”‚  (Istioå¯é€‰)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-2">1.2 ç¡¬ä»¶è¦æ±‚</h3>
<ul>
<li>è‡³å°‘3èŠ‚ç‚¹K8sé›†ç¾¤ï¼ˆ1ä¸ªMasterï¼Œ2ä¸ªWorkerï¼‰</li>
<li>WorkerèŠ‚ç‚¹ï¼šè‡³å°‘32GB RAMï¼Œ100GBå­˜å‚¨ï¼ŒNVIDIA GPUï¼ˆå¯é€‰ï¼‰</li>
<li>ç½‘ç»œï¼šèŠ‚ç‚¹é—´åƒå…†äº’è”</li>
</ul>
<h3 data-id="heading-3">1.3 è½¯ä»¶ç‰ˆæœ¬</h3>
<ul>
<li>Kubernetes: 1.24+</li>
<li>MindSpore: 2.2+</li>
<li>Milvus: 2.3+</li>
<li>Helm: 3.12+</li>
<li>NVIDIA GPU Operator: 1.13+ï¼ˆå¦‚æœ‰GPUï¼‰</li>
</ul>
<h2 data-id="heading-4">2. ç¬¬ä¸€æ­¥ï¼šæ­å»ºKubernetesé›†ç¾¤</h2>
<h3 data-id="heading-5">2.1 ä½¿ç”¨kubeadmå¿«é€Ÿæ­å»ºé›†ç¾¤ï¼ˆä¸‰èŠ‚ç‚¹ï¼‰</h3>
<p>MasterèŠ‚ç‚¹æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
sudo apt update
sudo apt install -y apt-transport-https ca-certificates curl

<span class="hljs-comment"># å®‰è£…Docker</span>
sudo apt install -y docker.io
sudo systemctl <span class="hljs-built_in">enable</span> docker
sudo systemctl start docker

<span class="hljs-comment"># å®‰è£…kubeadm, kubelet, kubectl</span>
sudo curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg
<span class="hljs-built_in">echo</span> <span class="hljs-string">"deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://apt.kubernetes.io/ kubernetes-xenial main"</span> | sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/kubernetes.list
sudo apt update
sudo apt install -y kubelet=1.28.0-00 kubeadm=1.28.0-00 kubectl=1.28.0-00
sudo apt-mark hold kubelet kubeadm kubectl

<span class="hljs-comment"># åˆå§‹åŒ–é›†ç¾¤</span>
sudo kubeadm init --pod-network-cidr=10.244.0.0/16 \
  --apiserver-advertise-address=$(hostname -I | awk <span class="hljs-string">'{print $1}'</span>)

<span class="hljs-comment"># é…ç½®kubectl</span>
<span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube
sudo <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config
sudo <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config

<span class="hljs-comment"># å®‰è£…ç½‘ç»œæ’ä»¶ï¼ˆFlannelï¼‰</span>
kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml
</code></pre>
<p>WorkerèŠ‚ç‚¹åŠ å…¥é›†ç¾¤ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># åœ¨MasterèŠ‚ç‚¹è·å–åŠ å…¥å‘½ä»¤</span>
kubeadm token create --<span class="hljs-keyword">print</span>-<span class="hljs-keyword">join</span>-command

<span class="hljs-comment"># åœ¨WorkerèŠ‚ç‚¹æ‰§è¡Œè¾“å‡ºçš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š</span>
<span class="hljs-comment"># sudo kubeadm join 192.168.1.100:6443 --token xxxxxx --discovery-token-ca-cert-hash sha256:xxxx</span>
</code></pre>
<h3 data-id="heading-6">2.2 éªŒè¯é›†ç¾¤çŠ¶æ€</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</span>
kubectl <span class="hljs-keyword">get</span> nodes -o wide

<span class="hljs-meta"># æŸ¥çœ‹æ‰€æœ‰PodçŠ¶æ€</span>
kubectl <span class="hljs-keyword">get</span> pods --all-namespaces

<span class="hljs-meta"># æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯</span>
kubectl cluster-info
</code></pre>
<h2 data-id="heading-7">3. ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²GPUæ”¯æŒï¼ˆå¯é€‰ï¼Œå¦‚æœ‰GPUï¼‰</h2>
<h3 data-id="heading-8">3.1 å®‰è£…NVIDIA GPU Operator</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ·»åŠ NVIDIA Helmä»“åº“</span>
helm repo <span class="hljs-keyword">add</span> nvidia https:<span class="hljs-comment">//helm.ngc.nvidia.com/nvidia</span>
helm repo update

<span class="hljs-meta"># å®‰è£…GPU Operator</span>
helm install --wait --generate-name \
  -n gpu-<span class="hljs-keyword">operator</span> --create-<span class="hljs-keyword">namespace</span> \
  <span class="hljs-title">nvidia</span>/<span class="hljs-title">gpu</span>-<span class="hljs-title">operator</span> \
  --<span class="hljs-title">set</span> <span class="hljs-title">driver.enabled</span>=<span class="hljs-literal">false</span> \
  --<span class="hljs-keyword">set</span> toolkit.enabled=<span class="hljs-literal">true</span>

<span class="hljs-meta"># éªŒè¯å®‰è£…</span>
kubectl <span class="hljs-keyword">get</span> pods -n gpu-<span class="hljs-keyword">operator</span>
kubectl describe node | grep -A <span class="hljs-number">10</span> Capacity
</code></pre>
<h2 data-id="heading-9">4. ç¬¬ä¸‰æ­¥ï¼šéƒ¨ç½²Milvuså‘é‡æ•°æ®åº“</h2>
<h3 data-id="heading-10">4.1 ä½¿ç”¨Helméƒ¨ç½²Milvus</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># æ·»åŠ Milvus Helmä»“åº“</span>
<span class="hljs-string">helm</span> <span class="hljs-string">repo</span> <span class="hljs-string">add</span> <span class="hljs-string">milvus</span> <span class="hljs-string">https://milvus-io.github.io/milvus-helm</span>
<span class="hljs-string">helm</span> <span class="hljs-string">repo</span> <span class="hljs-string">update</span>

<span class="hljs-comment"># åˆ›å»ºå‘½åç©ºé—´</span>
<span class="hljs-string">kubectl</span> <span class="hljs-string">create</span> <span class="hljs-string">namespace</span> <span class="hljs-string">milvus</span>

<span class="hljs-comment"># å®‰è£…Milvusï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èä½¿ç”¨ç‹¬ç«‹éƒ¨ç½²æ¨¡å¼ï¼‰</span>
<span class="hljs-string">helm</span> <span class="hljs-string">install</span> <span class="hljs-string">milvus</span> <span class="hljs-string">milvus/milvus</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--namespace</span> <span class="hljs-string">milvus</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--set</span> <span class="hljs-string">etcd.replicaCount=1</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--set</span> <span class="hljs-string">minio.mode=standalone</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--set</span> <span class="hljs-string">standalone.resources.requests.memory=4Gi</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--set</span> <span class="hljs-string">standalone.resources.requests.cpu=2</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--set</span> <span class="hljs-string">standalone.persistence.enabled=true</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--set</span> <span class="hljs-string">standalone.persistence.size=50Gi</span>

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶</span>
<span class="hljs-string">cat</span> <span class="hljs-string">&gt;</span> <span class="hljs-string">milvus-values.yaml</span> <span class="hljs-string">&lt;&lt;</span> <span class="hljs-string">EOF</span>
<span class="hljs-comment"># Milvusé…ç½®</span>
<span class="hljs-attr">cluster:</span>
  <span class="hljs-attr">enabled:</span> <span class="hljs-literal">false</span>  <span class="hljs-comment"># ä½¿ç”¨å•æœºæ¨¡å¼ï¼Œé€‚åˆæµ‹è¯•</span>

<span class="hljs-attr">standalone:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">resources:</span>
    <span class="hljs-attr">requests:</span>
      <span class="hljs-attr">memory:</span> <span class="hljs-string">"8Gi"</span>
      <span class="hljs-attr">cpu:</span> <span class="hljs-string">"2"</span>
    <span class="hljs-attr">limits:</span>
      <span class="hljs-attr">memory:</span> <span class="hljs-string">"16Gi"</span>
      <span class="hljs-attr">cpu:</span> <span class="hljs-string">"4"</span>
  <span class="hljs-attr">persistence:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">size:</span> <span class="hljs-string">100Gi</span>
    <span class="hljs-attr">storageClass:</span> <span class="hljs-string">"standard"</span>
  
<span class="hljs-comment"># ä¾èµ–æœåŠ¡é…ç½®</span>
<span class="hljs-attr">etcd:</span>
  <span class="hljs-attr">replicaCount:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">persistence:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">size:</span> <span class="hljs-string">10Gi</span>

<span class="hljs-attr">minio:</span>
  <span class="hljs-attr">mode:</span> <span class="hljs-string">standalone</span>
  <span class="hljs-attr">persistence:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">size:</span> <span class="hljs-string">50Gi</span>

<span class="hljs-comment"># æš´éœ²æœåŠ¡</span>
<span class="hljs-attr">service:</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">NodePort</span>
  <span class="hljs-attr">ports:</span>
    <span class="hljs-attr">milvus:</span> <span class="hljs-number">19530</span>
<span class="hljs-string">EOF</span>

<span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰é…ç½®å®‰è£…</span>
<span class="hljs-string">helm</span> <span class="hljs-string">install</span> <span class="hljs-string">milvus</span> <span class="hljs-string">milvus/milvus</span> <span class="hljs-string">\</span>
  <span class="hljs-string">-f</span> <span class="hljs-string">milvus-values.yaml</span> <span class="hljs-string">\</span>
  <span class="hljs-string">--namespace</span> <span class="hljs-string">milvus</span>
</code></pre>
<h3 data-id="heading-11">4.2 éªŒè¯Milvuséƒ¨ç½²</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æŸ¥çœ‹Milvusç»„ä»¶çŠ¶æ€</span>
kubectl get pods -n milvus -w

<span class="hljs-comment"># æ£€æŸ¥æœåŠ¡</span>
kubectl get svc -n milvus

<span class="hljs-comment"># æµ‹è¯•è¿æ¥ï¼ˆéœ€è¦ç­‰å¾…æ‰€æœ‰Podéƒ½Readyï¼‰</span>
kubectl port-forward svc/milvus -n milvus 19530:19530 &amp;
<span class="hljs-comment"># åœ¨å¦ä¸€ä¸ªç»ˆç«¯æ‰§è¡Œ</span>
pip install pymilvus

python3 -c "
from pymilvus import connections, CollectionSchema, FieldSchema, DataType, Collection, utility

<span class="hljs-comment"># è¿æ¥Milvus</span>
connections.connect(<span class="hljs-attr">host</span>=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-string">'19530'</span>)

<span class="hljs-comment"># æ£€æŸ¥è¿æ¥</span>
print('è¿æ¥çŠ¶æ€:', utility.get_server_version())

<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæµ‹è¯•é›†åˆ</span>
<span class="hljs-attr">fields</span> = [
    FieldSchema(name=<span class="hljs-string">'id'</span>, dtype=DataType.INT64, is_primary=<span class="hljs-literal">True</span>, auto_id=<span class="hljs-literal">True</span>),
    FieldSchema(name=<span class="hljs-string">'embedding'</span>, dtype=DataType.FLOAT_VECTOR, dim=<span class="hljs-number">128</span>)
]
<span class="hljs-attr">schema</span> = CollectionSchema(fields, description=<span class="hljs-string">'æµ‹è¯•é›†åˆ'</span>)
<span class="hljs-attr">collection</span> = Collection(<span class="hljs-string">'test_collection'</span>, schema)

print('Milvusè¿æ¥æˆåŠŸï¼')
"
</code></pre>
<h2 data-id="heading-12">5. ç¬¬å››æ­¥ï¼šæ„å»ºMindSporeå¤§æ¨¡å‹é•œåƒ</h2>
<h3 data-id="heading-13">5.1 åˆ›å»ºMindSporeæ¨¡å‹æœåŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºé¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> mindspore-milvus-demo
<span class="hljs-built_in">cd</span> mindspore-milvus-demo
</code></pre>
<h3 data-id="heading-14">5.2 ç¼–å†™æ¨¡å‹æ¨ç†ä»£ç </h3>
<p>åˆ›å»º <code>model_server.py</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
MindSporeå¤§æ¨¡å‹æœåŠ¡ï¼Œé›†æˆMilvuså‘é‡æ•°æ®åº“
"""</span>

<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> mindspore <span class="hljs-keyword">as</span> ms
<span class="hljs-keyword">import</span> mindspore.nn <span class="hljs-keyword">as</span> nn
<span class="hljs-keyword">import</span> mindspore.ops <span class="hljs-keyword">as</span> ops
<span class="hljs-keyword">from</span> mindspore <span class="hljs-keyword">import</span> Tensor, context
<span class="hljs-keyword">from</span> mindspore.train.serialization <span class="hljs-keyword">import</span> load_checkpoint, load_param_into_net
<span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, jsonify
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> threading
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span>
<span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> pymilvus <span class="hljs-keyword">import</span> connections, Collection, CollectionSchema, FieldSchema, DataType

<span class="hljs-comment"># é…ç½®æ—¥å¿—</span>
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

<span class="hljs-comment"># Flaskåº”ç”¨</span>
app = Flask(__name__)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TextEncoder</span>(nn.Cell):
    <span class="hljs-string">"""æ–‡æœ¬ç¼–ç å™¨ï¼ˆç¤ºä¾‹æ¨¡å‹ï¼‰"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_dim=<span class="hljs-number">768</span>, hidden_dim=<span class="hljs-number">1024</span>, output_dim=<span class="hljs-number">128</span></span>):
        <span class="hljs-built_in">super</span>(TextEncoder, self).__init__()
        self.fc1 = nn.Dense(input_dim, hidden_dim)
        self.relu = nn.ReLU()
        self.fc2 = nn.Dense(hidden_dim, output_dim)
        self.norm = nn.LayerNorm([output_dim])
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">construct</span>(<span class="hljs-params">self, x</span>):
        x = self.fc1(x)
        x = self.relu(x)
        x = self.fc2(x)
        x = self.norm(x)
        <span class="hljs-keyword">return</span> x

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorSearchEngine</span>:
    <span class="hljs-string">"""å‘é‡æœç´¢å¼•æ“"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, milvus_host: <span class="hljs-built_in">str</span> = <span class="hljs-string">"milvus.milvus.svc.cluster.local"</span>, milvus_port: <span class="hljs-built_in">int</span> = <span class="hljs-number">19530</span></span>):
        self.milvus_host = milvus_host
        self.milvus_port = milvus_port
        self.collection_name = <span class="hljs-string">"mindspore_vectors"</span>
        self.dim = <span class="hljs-number">128</span>
        self.init_milvus()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">init_milvus</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆå§‹åŒ–Milvusè¿æ¥"""</span>
        <span class="hljs-keyword">try</span>:
            connections.connect(
                host=self.milvus_host,
                port=<span class="hljs-built_in">str</span>(self.milvus_port)
            )
            logger.info(<span class="hljs-string">f"è¿æ¥åˆ°Milvus: <span class="hljs-subst">{self.milvus_host}</span>:<span class="hljs-subst">{self.milvus_port}</span>"</span>)
            
            <span class="hljs-comment"># æ£€æŸ¥é›†åˆæ˜¯å¦å­˜åœ¨</span>
            <span class="hljs-keyword">from</span> pymilvus <span class="hljs-keyword">import</span> utility
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> utility.has_collection(self.collection_name):
                self.create_collection()
            <span class="hljs-keyword">else</span>:
                self.collection = Collection(self.collection_name)
                self.collection.load()
                
            logger.info(<span class="hljs-string">"Milvusåˆå§‹åŒ–å®Œæˆ"</span>)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            logger.error(<span class="hljs-string">f"Milvusè¿æ¥å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">raise</span>
            
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_collection</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»ºå‘é‡é›†åˆ"""</span>
        fields = [
            FieldSchema(name=<span class="hljs-string">"id"</span>, dtype=DataType.INT64, is_primary=<span class="hljs-literal">True</span>, auto_id=<span class="hljs-literal">True</span>),
            FieldSchema(name=<span class="hljs-string">"vector"</span>, dtype=DataType.FLOAT_VECTOR, dim=self.dim),
            FieldSchema(name=<span class="hljs-string">"text"</span>, dtype=DataType.VARCHAR, max_length=<span class="hljs-number">1000</span>),
            FieldSchema(name=<span class="hljs-string">"metadata"</span>, dtype=DataType.VARCHAR, max_length=<span class="hljs-number">2000</span>),
            FieldSchema(name=<span class="hljs-string">"timestamp"</span>, dtype=DataType.INT64)
        ]
        
        schema = CollectionSchema(fields, description=<span class="hljs-string">"MindSporeæ¨¡å‹å‘é‡å­˜å‚¨"</span>)
        self.collection = Collection(self.collection_name, schema)
        
        <span class="hljs-comment"># åˆ›å»ºç´¢å¼•</span>
        index_params = {
            <span class="hljs-string">"metric_type"</span>: <span class="hljs-string">"L2"</span>,
            <span class="hljs-string">"index_type"</span>: <span class="hljs-string">"IVF_FLAT"</span>,
            <span class="hljs-string">"params"</span>: {<span class="hljs-string">"nlist"</span>: <span class="hljs-number">128</span>}
        }
        self.collection.create_index(<span class="hljs-string">"vector"</span>, index_params)
        self.collection.load()
        logger.info(<span class="hljs-string">f"é›†åˆ <span class="hljs-subst">{self.collection_name}</span> åˆ›å»ºæˆåŠŸ"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">insert_vectors</span>(<span class="hljs-params">self, vectors: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>]], texts: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], metadata: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>] = <span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""æ’å…¥å‘é‡æ•°æ®"""</span>
        <span class="hljs-keyword">if</span> metadata <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            metadata = [{} <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(vectors))]
            
        entities = [
            vectors,
            texts,
            [json.dumps(m) <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> metadata],
            [<span class="hljs-built_in">int</span>(time.time())] * <span class="hljs-built_in">len</span>(vectors)
        ]
        
        insert_result = self.collection.insert(entities)
        self.collection.flush()
        logger.info(<span class="hljs-string">f"æ’å…¥ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(vectors)}</span> ä¸ªå‘é‡ï¼ŒID: <span class="hljs-subst">{insert_result.primary_ids}</span>"</span>)
        <span class="hljs-keyword">return</span> insert_result.primary_ids
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search_similar</span>(<span class="hljs-params">self, query_vector: <span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>], top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
        <span class="hljs-string">"""ç›¸ä¼¼å‘é‡æœç´¢"""</span>
        search_params = {<span class="hljs-string">"metric_type"</span>: <span class="hljs-string">"L2"</span>, <span class="hljs-string">"params"</span>: {<span class="hljs-string">"nprobe"</span>: <span class="hljs-number">10</span>}}
        
        results = self.collection.search(
            [query_vector],
            <span class="hljs-string">"vector"</span>,
            search_params,
            limit=top_k,
            output_fields=[<span class="hljs-string">"text"</span>, <span class="hljs-string">"metadata"</span>, <span class="hljs-string">"timestamp"</span>]
        )
        
        <span class="hljs-keyword">return</span> results[<span class="hljs-number">0</span>] <span class="hljs-keyword">if</span> results <span class="hljs-keyword">else</span> []

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MindSporeModelService</span>:
    <span class="hljs-string">"""MindSporeæ¨¡å‹æœåŠ¡"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, model_path: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span></span>):
        <span class="hljs-comment"># è®¾ç½®è¿è¡Œç¯å¢ƒï¼ˆGPUä¼˜å…ˆï¼‰</span>
        <span class="hljs-keyword">try</span>:
            context.set_context(device_target=<span class="hljs-string">"GPU"</span>, mode=context.GRAPH_MODE)
            logger.info(<span class="hljs-string">"ä½¿ç”¨GPUè¿è¡Œç¯å¢ƒ"</span>)
        <span class="hljs-keyword">except</span>:
            context.set_context(device_target=<span class="hljs-string">"CPU"</span>, mode=context.GRAPH_MODE)
            logger.info(<span class="hljs-string">"ä½¿ç”¨CPUè¿è¡Œç¯å¢ƒ"</span>)
        
        <span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹</span>
        self.encoder = TextEncoder()
        
        <span class="hljs-keyword">if</span> model_path:
            param_dict = load_checkpoint(model_path)
            load_param_into_net(self.encoder, param_dict)
            logger.info(<span class="hljs-string">f"åŠ è½½æ¨¡å‹æƒé‡: <span class="hljs-subst">{model_path}</span>"</span>)
        
        self.encoder.set_train(<span class="hljs-literal">False</span>)
        
        <span class="hljs-comment"># åˆå§‹åŒ–å‘é‡æœç´¢å¼•æ“</span>
        self.vector_engine = VectorSearchEngine()
        
        <span class="hljs-comment"># é¢„çƒ­æ¨¡å‹</span>
        self._warm_up()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_warm_up</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ¨¡å‹é¢„çƒ­"""</span>
        dummy_input = Tensor(np.random.randn(<span class="hljs-number">1</span>, <span class="hljs-number">768</span>).astype(np.float32))
        _ = self.encoder(dummy_input)
        logger.info(<span class="hljs-string">"æ¨¡å‹é¢„çƒ­å®Œæˆ"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">encode_text</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>]:
        <span class="hljs-string">"""æ–‡æœ¬ç¼–ç ï¼ˆå®é™…é¡¹ç›®ä¸­è¿™é‡Œåº”è¯¥æ˜¯çœŸæ­£çš„æ–‡æœ¬ç¼–ç ï¼‰"""</span>
        <span class="hljs-comment"># è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”è¯¥ä½¿ç”¨tokenizerå’Œæ¨¡å‹</span>
        dummy_embedding = np.random.randn(<span class="hljs-number">768</span>).astype(np.float32)
        input_tensor = Tensor(dummy_embedding.reshape(<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>))
        
        <span class="hljs-keyword">with</span> ms.context.Context(ms.context.GRAPH_MODE):
            vector = self.encoder(input_tensor)
        
        <span class="hljs-keyword">return</span> vector.asnumpy().flatten().tolist()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_and_store</span>(<span class="hljs-params">self, texts: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], metadata: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>] = <span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""å¤„ç†æ–‡æœ¬å¹¶å­˜å‚¨åˆ°Milvus"""</span>
        vectors = [self.encode_text(text) <span class="hljs-keyword">for</span> text <span class="hljs-keyword">in</span> texts]
        ids = self.vector_engine.insert_vectors(vectors, texts, metadata)
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"ids"</span>: ids, <span class="hljs-string">"count"</span>: <span class="hljs-built_in">len</span>(texts)}
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">semantic_search</span>(<span class="hljs-params">self, query: <span class="hljs-built_in">str</span>, top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span></span>):
        <span class="hljs-string">"""è¯­ä¹‰æœç´¢"""</span>
        query_vector = self.encode_text(query)
        results = self.vector_engine.search_similar(query_vector, top_k)
        
        formatted_results = []
        <span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results:
            formatted_results.append({
                <span class="hljs-string">"text"</span>: result.entity.get(<span class="hljs-string">'text'</span>),
                <span class="hljs-string">"metadata"</span>: json.loads(result.entity.get(<span class="hljs-string">'metadata'</span>, <span class="hljs-string">'{}'</span>)),
                <span class="hljs-string">"score"</span>: <span class="hljs-built_in">float</span>(result.distance),
                <span class="hljs-string">"timestamp"</span>: result.entity.get(<span class="hljs-string">'timestamp'</span>)
            })
        
        <span class="hljs-keyword">return</span> formatted_results

<span class="hljs-comment"># å…¨å±€æ¨¡å‹å®ä¾‹</span>
model_service = <span class="hljs-literal">None</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">init_model_service</span>():
    <span class="hljs-string">"""åˆå§‹åŒ–æ¨¡å‹æœåŠ¡"""</span>
    <span class="hljs-keyword">global</span> model_service
    model_service = MindSporeModelService()
    logger.info(<span class="hljs-string">"MindSporeæ¨¡å‹æœåŠ¡åˆå§‹åŒ–å®Œæˆ"</span>)

<span class="hljs-comment"># Flaskè·¯ç”±</span>
<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/health'</span>, methods=[<span class="hljs-string">'GET'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">health_check</span>():
    <span class="hljs-string">"""å¥åº·æ£€æŸ¥"""</span>
    <span class="hljs-keyword">return</span> jsonify({
        <span class="hljs-string">"status"</span>: <span class="hljs-string">"healthy"</span>,
        <span class="hljs-string">"service"</span>: <span class="hljs-string">"mindspore-model-service"</span>,
        <span class="hljs-string">"timestamp"</span>: <span class="hljs-built_in">int</span>(time.time())
    })

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/encode'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">encode_text</span>():
    <span class="hljs-string">"""æ–‡æœ¬ç¼–ç æ¥å£"""</span>
    <span class="hljs-keyword">try</span>:
        data = request.json
        texts = data.get(<span class="hljs-string">'texts'</span>, [])
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> texts:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-string">"textsä¸èƒ½ä¸ºç©º"</span>}), <span class="hljs-number">400</span>
        
        results = []
        <span class="hljs-keyword">for</span> text <span class="hljs-keyword">in</span> texts:
            vector = model_service.encode_text(text)
            results.append({
                <span class="hljs-string">"text"</span>: text,
                <span class="hljs-string">"vector"</span>: vector,
                <span class="hljs-string">"dimension"</span>: <span class="hljs-built_in">len</span>(vector)
            })
        
        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">"results"</span>: results,
            <span class="hljs-string">"count"</span>: <span class="hljs-built_in">len</span>(results)
        })
    
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        logger.error(<span class="hljs-string">f"ç¼–ç å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-built_in">str</span>(e)}), <span class="hljs-number">500</span>

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/store'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">store_vectors</span>():
    <span class="hljs-string">"""å­˜å‚¨å‘é‡æ¥å£"""</span>
    <span class="hljs-keyword">try</span>:
        data = request.json
        texts = data.get(<span class="hljs-string">'texts'</span>, [])
        metadata = data.get(<span class="hljs-string">'metadata'</span>, [])
        
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(metadata) &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(metadata) != <span class="hljs-built_in">len</span>(texts):
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-string">"metadataé•¿åº¦å¿…é¡»ä¸textsä¸€è‡´"</span>}), <span class="hljs-number">400</span>
        
        result = model_service.process_and_store(texts, metadata)
        <span class="hljs-keyword">return</span> jsonify(result)
    
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        logger.error(<span class="hljs-string">f"å­˜å‚¨å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-built_in">str</span>(e)}), <span class="hljs-number">500</span>

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/search'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">semantic_search</span>():
    <span class="hljs-string">"""è¯­ä¹‰æœç´¢æ¥å£"""</span>
    <span class="hljs-keyword">try</span>:
        data = request.json
        query = data.get(<span class="hljs-string">'query'</span>, <span class="hljs-string">''</span>)
        top_k = data.get(<span class="hljs-string">'top_k'</span>, <span class="hljs-number">5</span>)
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> query:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-string">"queryä¸èƒ½ä¸ºç©º"</span>}), <span class="hljs-number">400</span>
        
        results = model_service.semantic_search(query, top_k)
        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">"query"</span>: query,
            <span class="hljs-string">"results"</span>: results,
            <span class="hljs-string">"count"</span>: <span class="hljs-built_in">len</span>(results)
        })
    
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        logger.error(<span class="hljs-string">f"æœç´¢å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-built_in">str</span>(e)}), <span class="hljs-number">500</span>

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/batch_process'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_process</span>():
    <span class="hljs-string">"""æ‰¹é‡å¤„ç†æ¥å£"""</span>
    <span class="hljs-keyword">try</span>:
        data = request.json
        texts = data.get(<span class="hljs-string">'texts'</span>, [])
        batch_size = data.get(<span class="hljs-string">'batch_size'</span>, <span class="hljs-number">32</span>)
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> texts:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-string">"textsä¸èƒ½ä¸ºç©º"</span>}), <span class="hljs-number">400</span>
        
        <span class="hljs-comment"># åˆ†æ‰¹å¤„ç†</span>
        all_results = []
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(texts), batch_size):
            batch = texts[i:i+batch_size]
            vectors = [model_service.encode_text(text) <span class="hljs-keyword">for</span> text <span class="hljs-keyword">in</span> batch]
            all_results.extend(vectors)
            
            logger.info(<span class="hljs-string">f"å¤„ç†æ‰¹æ¬¡ <span class="hljs-subst">{i//batch_size + <span class="hljs-number">1</span>}</span>/<span class="hljs-subst">{(<span class="hljs-built_in">len</span>(texts)-<span class="hljs-number">1</span>)//batch_size + <span class="hljs-number">1</span>}</span>"</span>)
        
        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">"total_count"</span>: <span class="hljs-built_in">len</span>(all_results),
            <span class="hljs-string">"dimension"</span>: <span class="hljs-built_in">len</span>(all_results[<span class="hljs-number">0</span>]) <span class="hljs-keyword">if</span> all_results <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">"batch_count"</span>: (<span class="hljs-built_in">len</span>(texts) - <span class="hljs-number">1</span>) // batch_size + <span class="hljs-number">1</span>
        })
    
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        logger.error(<span class="hljs-string">f"æ‰¹é‡å¤„ç†å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"error"</span>: <span class="hljs-built_in">str</span>(e)}), <span class="hljs-number">500</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-comment"># åå°åˆå§‹åŒ–æ¨¡å‹</span>
    init_thread = threading.Thread(target=init_model_service)
    init_thread.start()
    
    <span class="hljs-comment"># å¯åŠ¨FlaskæœåŠ¡</span>
    app.run(host=<span class="hljs-string">'0.0.0.0'</span>, port=<span class="hljs-number">5000</span>, threaded=<span class="hljs-literal">True</span>)
</code></pre>
<h3 data-id="heading-15">5.3 åˆ›å»ºDockerfile</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Dockerfile.mindspore</span>
FROM mindspore/mindspore-gpu:2.2.0

<span class="hljs-comment"># è®¾ç½®å·¥ä½œç›®å½•</span>
WORKDIR /app

<span class="hljs-comment"># å®‰è£…Pythonä¾èµ–</span>
RUN pip install --no-cache-dir \
    flask==2.3.3 \
    pymilvus==2.3.0 \
    numpy==1.24.3 \
    protobuf==4.23.4 \
    gunicorn==21.2.0

<span class="hljs-comment"># å¤åˆ¶åº”ç”¨ä»£ç </span>
COPY model_server.py /app/
COPY requirements.txt /app/

<span class="hljs-comment"># å®‰è£…é¢å¤–ä¾èµ–</span>
RUN <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"requirements.txt"</span> ]; <span class="hljs-keyword">then</span> pip install -r requirements.txt; <span class="hljs-keyword">fi</span>

<span class="hljs-comment"># åˆ›å»ºérootç”¨æˆ·</span>
RUN useradd -m -u 1000 appuser &amp;&amp; <span class="hljs-built_in">chown</span> -R appuser:appuser /app
USER appuser

<span class="hljs-comment"># æš´éœ²ç«¯å£</span>
EXPOSE 5000

<span class="hljs-comment"># å¥åº·æ£€æŸ¥</span>
HEALTHCHECK --interval=30s --<span class="hljs-built_in">timeout</span>=3s --start-period=5s --retries=3 \
    CMD curl -f http://localhost:5000/health || <span class="hljs-built_in">exit</span> 1

<span class="hljs-comment"># å¯åŠ¨å‘½ä»¤</span>
CMD [<span class="hljs-string">"gunicorn"</span>, <span class="hljs-string">"--bind"</span>, <span class="hljs-string">"0.0.0.0:5000"</span>, <span class="hljs-string">"--workers"</span>, <span class="hljs-string">"4"</span>, <span class="hljs-string">"--threads"</span>, <span class="hljs-string">"2"</span>, <span class="hljs-string">"model_server:app"</span>]
</code></pre>
<h3 data-id="heading-16">5.4 åˆ›å»ºrequirements.txt</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">flask</span>==<span class="hljs-number">2.3</span>.<span class="hljs-number">3</span>
<span class="hljs-attr">pymilvus</span>==<span class="hljs-number">2.3</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">numpy</span>==<span class="hljs-number">1.24</span>.<span class="hljs-number">3</span>
<span class="hljs-attr">protobuf</span>==<span class="hljs-number">4.23</span>.<span class="hljs-number">4</span>
<span class="hljs-attr">gunicorn</span>==<span class="hljs-number">21.2</span>.<span class="hljs-number">0</span>
</code></pre>
<h3 data-id="heading-17">5.5 æ„å»ºå’Œæ¨é€é•œåƒ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»ºé•œåƒ</span>
docker build -t your-registry/mindspore-model:2.2.0 -f Dockerfile.mindspore .

<span class="hljs-comment"># æ¨é€é•œåƒï¼ˆå¦‚æœ‰ç§æœ‰ä»“åº“ï¼‰</span>
<span class="hljs-comment"># docker push your-registry/mindspore-model:2.2.0</span>

<span class="hljs-comment"># æµ‹è¯•é•œåƒ</span>
docker run -p 5000:5000 --name test-model your-registry/mindspore-model:2.2.0
</code></pre>
<h2 data-id="heading-18">6. ç¬¬äº”æ­¥ï¼šKuberneteséƒ¨ç½²é…ç½®</h2>
<h3 data-id="heading-19">6.1 åˆ›å»ºå‘½åç©ºé—´</h3>
<pre><code class="hljs language-arduino" lang="arduino">kubectl create <span class="hljs-keyword">namespace</span> ai-platform
</code></pre>
<h3 data-id="heading-20">6.2 åˆ›å»ºConfigMapï¼ˆé…ç½®æ–‡ä»¶ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta"># configmap.yaml</span>
apiVersion: v1
kind: ConfigMap
metadata:
  name: mindspore-config
  <span class="hljs-keyword">namespace</span>: ai-platform
data:
  model_config.json: |
    {
      <span class="hljs-string">"model_name"</span>: <span class="hljs-string">"text-encoder"</span>,
      <span class="hljs-string">"version"</span>: <span class="hljs-string">"2.2.0"</span>,
      <span class="hljs-string">"embedding_dim"</span>: <span class="hljs-number">128</span>,
      <span class="hljs-string">"max_batch_size"</span>: <span class="hljs-number">32</span>,
      <span class="hljs-string">"milvus_host"</span>: <span class="hljs-string">"milvus.milvus.svc.cluster.local"</span>,
      <span class="hljs-string">"milvus_port"</span>: <span class="hljs-number">19530</span>,
      <span class="hljs-string">"log_level"</span>: <span class="hljs-string">"INFO"</span>
    }
  
  nginx.conf: |
    user nginx;
    worker_processes <span class="hljs-keyword">auto</span>;
    
    events {
      worker_connections <span class="hljs-number">1024</span>;
    }
    
    http {
      upstream model_backend {
        server mindspore-model:<span class="hljs-number">5000</span>;
      }
      
      server {
        listen <span class="hljs-number">80</span>;
        
        location / {
          proxy_pass http:<span class="hljs-comment">//model_backend;</span>
          proxy_set_header Host $host;
          proxy_set_header X-Real-IP $remote_addr;
        }
        
        location /health {
          proxy_pass http:<span class="hljs-comment">//model_backend/health;</span>
          access_log off;
        }
      }
    }
</code></pre>
<h3 data-id="heading-21">6.3 åˆ›å»ºMindSporeæ¨¡å‹æœåŠ¡Deployment</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># mindspore-deployment.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-model</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">ai-platform</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">mindspore-model</span>
    <span class="hljs-attr">component:</span> <span class="hljs-string">ai-model</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">2</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">mindspore-model</span>
  <span class="hljs-attr">strategy:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">RollingUpdate</span>
    <span class="hljs-attr">rollingUpdate:</span>
      <span class="hljs-attr">maxSurge:</span> <span class="hljs-number">1</span>
      <span class="hljs-attr">maxUnavailable:</span> <span class="hljs-number">0</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">mindspore-model</span>
        <span class="hljs-attr">component:</span> <span class="hljs-string">ai-model</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-comment"># èŠ‚ç‚¹é€‰æ‹©å™¨ï¼ˆå¦‚æœä½¿ç”¨GPUï¼‰</span>
      <span class="hljs-comment"># nodeSelector:</span>
      <span class="hljs-comment">#   accelerator: nvidia-gpu</span>
      
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">model-server</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">your-registry/mindspore-model:2.2.0</span>
        <span class="hljs-attr">imagePullPolicy:</span> <span class="hljs-string">IfNotPresent</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">5000</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">http</span>
          <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
        
        <span class="hljs-attr">env:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">MILVUS_HOST</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"milvus.milvus.svc.cluster.local"</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">MILVUS_PORT</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"19530"</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">MODEL_DEVICE</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"CPU"</span>  <span class="hljs-comment"># æˆ– "GPU"</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">LOG_LEVEL</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"INFO"</span>
        
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"4Gi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"2"</span>
            <span class="hljs-comment"># nvidia.com/gpu: 1  # å¦‚æœä½¿ç”¨GPU</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"8Gi"</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"4"</span>
            <span class="hljs-comment"># nvidia.com/gpu: 1  # å¦‚æœä½¿ç”¨GPU</span>
        
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">config-volume</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/app/config</span>
          <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
        
        <span class="hljs-attr">livenessProbe:</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">5000</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">60</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">timeoutSeconds:</span> <span class="hljs-number">5</span>
        
        <span class="hljs-attr">readinessProbe:</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">5000</span>
          <span class="hljs-attr">initialDelaySeconds:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
          <span class="hljs-attr">timeoutSeconds:</span> <span class="hljs-number">3</span>
        
        <span class="hljs-attr">startupProbe:</span>
          <span class="hljs-attr">httpGet:</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/health</span>
            <span class="hljs-attr">port:</span> <span class="hljs-number">5000</span>
          <span class="hljs-attr">failureThreshold:</span> <span class="hljs-number">30</span>
          <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">10</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-sidecar</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:1.25-alpine</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">80</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-http</span>
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-config</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/nginx/nginx.conf</span>
          <span class="hljs-attr">subPath:</span> <span class="hljs-string">nginx.conf</span>
          <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
      
      <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">config-volume</span>
        <span class="hljs-attr">configMap:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-config</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-config</span>
        <span class="hljs-attr">configMap:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-config</span>
          <span class="hljs-attr">items:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">key:</span> <span class="hljs-string">nginx.conf</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">nginx.conf</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-model</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">ai-platform</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">mindspore-model</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">mindspore-model</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">http</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">80</span>
    <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">model-http</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">5000</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">5000</span>
    <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">ClusterIP</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-model-external</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">ai-platform</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">mindspore-model</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
    <span class="hljs-attr">targetPort:</span> <span class="hljs-number">80</span>
    <span class="hljs-attr">nodePort:</span> <span class="hljs-number">30080</span>
  <span class="hljs-attr">type:</span> <span class="hljs-string">NodePort</span>
</code></pre>
<h3 data-id="heading-22">6.4 åˆ›å»ºIngressï¼ˆå¦‚æœéœ€è¦å¤–éƒ¨è®¿é—®ï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># ingress.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Ingress</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-ingress</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">ai-platform</span>
  <span class="hljs-attr">annotations:</span>
    <span class="hljs-attr">nginx.ingress.kubernetes.io/rewrite-target:</span> <span class="hljs-string">/</span>
    <span class="hljs-attr">nginx.ingress.kubernetes.io/proxy-body-size:</span> <span class="hljs-string">"100m"</span>
    <span class="hljs-attr">cert-manager.io/cluster-issuer:</span> <span class="hljs-string">"letsencrypt-prod"</span>  <span class="hljs-comment"># å¦‚æœä½¿ç”¨cert-manager</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">ingressClassName:</span> <span class="hljs-string">nginx</span>
  <span class="hljs-attr">tls:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">hosts:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">ai-model.your-domain.com</span>
    <span class="hljs-attr">secretName:</span> <span class="hljs-string">mindspore-tls</span>
  <span class="hljs-attr">rules:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-string">ai-model.your-domain.com</span>
    <span class="hljs-attr">http:</span>
      <span class="hljs-attr">paths:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/</span>
        <span class="hljs-attr">pathType:</span> <span class="hljs-string">Prefix</span>
        <span class="hljs-attr">backend:</span>
          <span class="hljs-attr">service:</span>
            <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-model</span>
            <span class="hljs-attr">port:</span>
              <span class="hljs-attr">number:</span> <span class="hljs-number">80</span>
</code></pre>
<h2 data-id="heading-23">7. ç¬¬å…­æ­¥ï¼šéƒ¨ç½²å’Œæµ‹è¯•</h2>
<h3 data-id="heading-24">7.1 åº”ç”¨æ‰€æœ‰é…ç½®</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºå‘½åç©ºé—´</span>
kubectl create namespace ai-platform

<span class="hljs-comment"># åº”ç”¨é…ç½®</span>
kubectl apply -f configmap.yaml
kubectl apply -f mindspore-deployment.yaml
kubectl apply -f ingress.yaml  <span class="hljs-comment"># å¯é€‰</span>

<span class="hljs-comment"># æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€</span>
kubectl get <span class="hljs-built_in">all</span> -n ai-platform
kubectl get pods -n ai-platform -w
</code></pre>
<h3 data-id="heading-25">7.2 éªŒè¯æœåŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç«¯å£è½¬å‘æµ‹è¯•</span>
kubectl port-forward svc/mindspore-model -n ai-platform 8080:80

<span class="hljs-comment"># åœ¨å¦ä¸€ä¸ªç»ˆç«¯æµ‹è¯•</span>
curl http://localhost:8080/health
curl -X POST http://localhost:8080/encode \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{"texts": ["ä½ å¥½ï¼Œä¸–ç•Œ", "Hello, World"]}'</span>

curl -X POST http://localhost:8080/search \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{"query": "äººå·¥æ™ºèƒ½", "top_k": 3}'</span>
</code></pre>
<h3 data-id="heading-26">7.3 æ€§èƒ½æµ‹è¯•è„šæœ¬</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># test_performance.py</span>
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> concurrent.futures
<span class="hljs-keyword">import</span> json

BASE_URL = <span class="hljs-string">"http://localhost:8080"</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_encode_performance</span>():
    <span class="hljs-string">"""æµ‹è¯•ç¼–ç æ€§èƒ½"""</span>
    texts = [<span class="hljs-string">f"æµ‹è¯•æ–‡æœ¬<span class="hljs-subst">{i}</span>: äººå·¥æ™ºèƒ½å’Œå¤§æ¨¡å‹æ­£åœ¨æ”¹å˜ä¸–ç•Œ"</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>)]
    
    start = time.time()
    response = requests.post(
        <span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/encode"</span>,
        json={<span class="hljs-string">"texts"</span>: texts, <span class="hljs-string">"batch_size"</span>: <span class="hljs-number">10</span>}
    )
    end = time.time()
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¼–ç 100ä¸ªæ–‡æœ¬è€—æ—¶: <span class="hljs-subst">{end-start:<span class="hljs-number">.2</span>f}</span>ç§’"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¹³å‡æ¯ä¸ªæ–‡æœ¬: <span class="hljs-subst">{(end-start)/<span class="hljs-number">100</span>*<span class="hljs-number">1000</span>:<span class="hljs-number">.1</span>f}</span>æ¯«ç§’"</span>)
    <span class="hljs-keyword">return</span> response.json()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_search_performance</span>():
    <span class="hljs-string">"""æµ‹è¯•æœç´¢æ€§èƒ½"""</span>
    queries = [
        <span class="hljs-string">"æœºå™¨å­¦ä¹ "</span>,
        <span class="hljs-string">"æ·±åº¦å­¦ä¹ "</span>,
        <span class="hljs-string">"è‡ªç„¶è¯­è¨€å¤„ç†"</span>,
        <span class="hljs-string">"è®¡ç®—æœºè§†è§‰"</span>,
        <span class="hljs-string">"å¼ºåŒ–å­¦ä¹ "</span>
    ]
    
    times = []
    <span class="hljs-keyword">for</span> query <span class="hljs-keyword">in</span> queries:
        start = time.time()
        response = requests.post(
            <span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/search"</span>,
            json={<span class="hljs-string">"query"</span>: query, <span class="hljs-string">"top_k"</span>: <span class="hljs-number">5</span>}
        )
        end = time.time()
        times.append(end-start)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢ '<span class="hljs-subst">{query}</span>' è€—æ—¶: <span class="hljs-subst">{end-start:<span class="hljs-number">.3</span>f}</span>ç§’"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç»“æœæ•°é‡: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(response.json().get(<span class="hljs-string">'results'</span>, []))}</span>"</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå¹³å‡æœç´¢è€—æ—¶: <span class="hljs-subst">{<span class="hljs-built_in">sum</span>(times)/<span class="hljs-built_in">len</span>(times):<span class="hljs-number">.3</span>f}</span>ç§’"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">concurrent_test</span>(<span class="hljs-params">num_requests=<span class="hljs-number">50</span></span>):
    <span class="hljs-string">"""å¹¶å‘æµ‹è¯•"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">make_request</span>(<span class="hljs-params">i</span>):
        response = requests.post(
            <span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/encode"</span>,
            json={<span class="hljs-string">"texts"</span>: [<span class="hljs-string">f"å¹¶å‘æµ‹è¯•è¯·æ±‚<span class="hljs-subst">{i}</span>"</span>], <span class="hljs-string">"batch_size"</span>: <span class="hljs-number">1</span>}
        )
        <span class="hljs-keyword">return</span> response.status_code
    
    start = time.time()
    <span class="hljs-keyword">with</span> concurrent.futures.ThreadPoolExecutor(max_workers=<span class="hljs-number">10</span>) <span class="hljs-keyword">as</span> executor:
        futures = [executor.submit(make_request, i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_requests)]
        results = [f.result() <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> concurrent.futures.as_completed(futures)]
    
    end = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå¹¶å‘<span class="hljs-subst">{num_requests}</span>ä¸ªè¯·æ±‚è€—æ—¶: <span class="hljs-subst">{end-start:<span class="hljs-number">.2</span>f}</span>ç§’"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"QPS: <span class="hljs-subst">{num_requests/(end-start):<span class="hljs-number">.1</span>f}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆåŠŸè¯·æ±‚æ•°: <span class="hljs-subst">{results.count(<span class="hljs-number">200</span>)}</span>/<span class="hljs-subst">{<span class="hljs-built_in">len</span>(results)}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== MindSporeæ¨¡å‹æœåŠ¡æ€§èƒ½æµ‹è¯• ==="</span>)
    
    <span class="hljs-comment"># 1. å¥åº·æ£€æŸ¥</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n1. å¥åº·æ£€æŸ¥:"</span>)
    health = requests.get(<span class="hljs-string">f"<span class="hljs-subst">{BASE_URL}</span>/health"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"çŠ¶æ€ç : <span class="hljs-subst">{health.status_code}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å“åº”: <span class="hljs-subst">{health.json()}</span>"</span>)
    
    <span class="hljs-comment"># 2. ç¼–ç æ€§èƒ½æµ‹è¯•</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n2. ç¼–ç æ€§èƒ½æµ‹è¯•:"</span>)
    test_encode_performance()
    
    <span class="hljs-comment"># 3. æœç´¢æ€§èƒ½æµ‹è¯•</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n3. æœç´¢æ€§èƒ½æµ‹è¯•:"</span>)
    test_search_performance()
    
    <span class="hljs-comment"># 4. å¹¶å‘æµ‹è¯•</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n4. å¹¶å‘æ€§èƒ½æµ‹è¯•:"</span>)
    concurrent_test(<span class="hljs-number">100</span>)
</code></pre>
<h2 data-id="heading-27">8. ç¬¬ä¸ƒæ­¥ï¼šç›‘æ§å’Œè¿ç»´</h2>
<h3 data-id="heading-28">8.1 éƒ¨ç½²Prometheusç›‘æ§</h3>
<pre><code class="hljs language-arduino" lang="arduino"># æ·»åŠ Prometheus Helmä»“åº“
helm repo add prometheus-community https:<span class="hljs-comment">//prometheus-community.github.io/helm-charts</span>
helm repo update

# å®‰è£…Prometheus Stackï¼ˆåŒ…æ‹¬Grafanaï¼‰
helm install prometheus prometheus-community/kube-prometheus-stack \
  --<span class="hljs-keyword">namespace</span> monitoring \
  --create-<span class="hljs-keyword">namespace</span> \
  --set grafana.adminPassword=admin123
</code></pre>
<h3 data-id="heading-29">8.2 åˆ›å»ºè‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># metrics_exporter.py</span>
<span class="hljs-keyword">from</span> prometheus_client <span class="hljs-keyword">import</span> start_http_server, Gauge, Counter, Histogram
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> threading
<span class="hljs-keyword">from</span> model_server <span class="hljs-keyword">import</span> model_service

<span class="hljs-comment"># å®šä¹‰æŒ‡æ ‡</span>
MODEL_INFERENCE_TIME = Histogram(
    <span class="hljs-string">'model_inference_duration_seconds'</span>,
    <span class="hljs-string">'æ¨¡å‹æ¨ç†æ—¶é—´'</span>,
    [<span class="hljs-string">'model_name'</span>, <span class="hljs-string">'operation'</span>]
)

REQUESTS_TOTAL = Counter(
    <span class="hljs-string">'model_requests_total'</span>,
    <span class="hljs-string">'æ€»è¯·æ±‚æ•°'</span>,
    [<span class="hljs-string">'endpoint'</span>, <span class="hljs-string">'method'</span>, <span class="hljs-string">'status'</span>]
)

EMBEDDING_VECTOR_DIM = Gauge(
    <span class="hljs-string">'embedding_vector_dimension'</span>,
    <span class="hljs-string">'åµŒå…¥å‘é‡ç»´åº¦'</span>
)

MILVUS_CONNECTION_STATUS = Gauge(
    <span class="hljs-string">'milvus_connection_status'</span>,
    <span class="hljs-string">'Milvusè¿æ¥çŠ¶æ€ (1=æ­£å¸¸, 0=å¼‚å¸¸)'</span>
)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MetricsExporter</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, port=<span class="hljs-number">9100</span></span>):
        self.port = port
        self.running = <span class="hljs-literal">True</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">start</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># å¯åŠ¨Prometheus HTTPæœåŠ¡å™¨</span>
        start_http_server(self.port)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŒ‡æ ‡å¯¼å‡ºå™¨å¯åŠ¨åœ¨ç«¯å£ <span class="hljs-subst">{self.port}</span>"</span>)
        
        <span class="hljs-comment"># å¯åŠ¨åå°æ›´æ–°çº¿ç¨‹</span>
        thread = threading.Thread(target=self.update_metrics)
        thread.daemon = <span class="hljs-literal">True</span>
        thread.start()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_metrics</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""å®šæœŸæ›´æ–°æŒ‡æ ‡"""</span>
        <span class="hljs-keyword">while</span> self.running:
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># æ›´æ–°Milvusè¿æ¥çŠ¶æ€</span>
                <span class="hljs-keyword">if</span> model_service <span class="hljs-keyword">and</span> model_service.vector_engine:
                    MILVUS_CONNECTION_STATUS.<span class="hljs-built_in">set</span>(<span class="hljs-number">1</span>)
                <span class="hljs-keyword">else</span>:
                    MILVUS_CONNECTION_STATUS.<span class="hljs-built_in">set</span>(<span class="hljs-number">0</span>)
                    
                <span class="hljs-comment"># æ›´æ–°å‘é‡ç»´åº¦</span>
                EMBEDDING_VECTOR_DIM.<span class="hljs-built_in">set</span>(<span class="hljs-number">128</span>)
                
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ›´æ–°æŒ‡æ ‡å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            
            time.sleep(<span class="hljs-number">10</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params">self</span>):
        self.running = <span class="hljs-literal">False</span>
</code></pre>
<h3 data-id="heading-30">8.3 åˆ›å»ºGrafanaä»ªè¡¨æ¿</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta"># grafana-dashboard.json</span>
{
  <span class="hljs-string">"dashboard"</span>: {
    <span class="hljs-string">"title"</span>: <span class="hljs-string">"MindSporeæ¨¡å‹æœåŠ¡ç›‘æ§"</span>,
    <span class="hljs-string">"panels"</span>: [
      {
        <span class="hljs-string">"title"</span>: <span class="hljs-string">"è¯·æ±‚QPS"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"graph"</span>,
        <span class="hljs-string">"targets"</span>: [{
          <span class="hljs-string">"expr"</span>: <span class="hljs-string">"rate(model_requests_total[5m])"</span>,
          <span class="hljs-string">"legendFormat"</span>: <span class="hljs-string">"{{endpoint}}"</span>
        }]
      },
      {
        <span class="hljs-string">"title"</span>: <span class="hljs-string">"æ¨ç†å»¶è¿Ÿ"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"heatmap"</span>,
        <span class="hljs-string">"targets"</span>: [{
          <span class="hljs-string">"expr"</span>: <span class="hljs-string">"model_inference_duration_seconds_bucket"</span>,
          <span class="hljs-string">"legendFormat"</span>: <span class="hljs-string">"{{operation}}"</span>
        }]
      },
      {
        <span class="hljs-string">"title"</span>: <span class="hljs-string">"å†…å­˜ä½¿ç”¨"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"graph"</span>,
        <span class="hljs-string">"targets"</span>: [{
          <span class="hljs-string">"expr"</span>: <span class="hljs-string">"container_memory_usage_bytes{pod=~'mindspore-model.*'}"</span>,
          <span class="hljs-string">"legendFormat"</span>: <span class="hljs-string">"{{pod}}"</span>
        }]
      }
    ]
  }
}
</code></pre>
<h2 data-id="heading-31">9. ç¬¬å…«æ­¥ï¼šæ‰©å±•å’Œä¼˜åŒ–</h2>
<h3 data-id="heading-32">9.1 æ°´å¹³è‡ªåŠ¨ä¼¸ç¼©ï¼ˆHPAï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># hpa.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">autoscaling/v2</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">HorizontalPodAutoscaler</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-model-hpa</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">ai-platform</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">scaleTargetRef:</span>
    <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
    <span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">mindspore-model</span>
  <span class="hljs-attr">minReplicas:</span> <span class="hljs-number">2</span>
  <span class="hljs-attr">maxReplicas:</span> <span class="hljs-number">10</span>
  <span class="hljs-attr">metrics:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">Resource</span>
    <span class="hljs-attr">resource:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">cpu</span>
      <span class="hljs-attr">target:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">Utilization</span>
        <span class="hljs-attr">averageUtilization:</span> <span class="hljs-number">70</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">Resource</span>
    <span class="hljs-attr">resource:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">memory</span>
      <span class="hljs-attr">target:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">Utilization</span>
        <span class="hljs-attr">averageUtilization:</span> <span class="hljs-number">80</span>
  <span class="hljs-attr">behavior:</span>
    <span class="hljs-attr">scaleDown:</span>
      <span class="hljs-attr">stabilizationWindowSeconds:</span> <span class="hljs-number">300</span>
      <span class="hljs-attr">policies:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">Percent</span>
        <span class="hljs-attr">value:</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">periodSeconds:</span> <span class="hljs-number">60</span>
</code></pre>
<h3 data-id="heading-33">9.2 ä½¿ç”¨GPUèµ„æº</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># åœ¨Deploymentä¸­æ·»åŠ GPUèµ„æºè¯·æ±‚</span>
<span class="hljs-attr">resources:</span>
  <span class="hljs-attr">limits:</span>
    <span class="hljs-attr">nvidia.com/gpu:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">requests:</span>
    <span class="hljs-attr">nvidia.com/gpu:</span> <span class="hljs-number">1</span>

<span class="hljs-comment"># æ·»åŠ èŠ‚ç‚¹é€‰æ‹©å™¨</span>
<span class="hljs-attr">nodeSelector:</span>
  <span class="hljs-attr">accelerator:</span> <span class="hljs-string">nvidia-gpu</span>

<span class="hljs-comment"># æ·»åŠ èŠ‚ç‚¹æ ‡ç­¾</span>
<span class="hljs-string">kubectl</span> <span class="hljs-string">label</span> <span class="hljs-string">nodes</span> <span class="hljs-string">&lt;node-name&gt;</span> <span class="hljs-string">accelerator=nvidia-gpu</span>
</code></pre>
<h2 data-id="heading-34">10. æ•…éšœæ’é™¤æŒ‡å—</h2>
<h3 data-id="heading-35">10.1 å¸¸è§é—®é¢˜è§£å†³</h3>
<p>é—®é¢˜1: Podå¯åŠ¨å¤±è´¥</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æŸ¥çœ‹Podè¯¦æƒ…</span>
kubectl describe pod &lt;pod-name&gt; -n ai-platform

<span class="hljs-meta"># æŸ¥çœ‹Podæ—¥å¿—</span>
kubectl logs &lt;pod-name&gt; -n ai-platform -c model-server
kubectl logs &lt;pod-name&gt; -n ai-platform -c nginx-sidecar

<span class="hljs-meta"># æŸ¥çœ‹äº‹ä»¶</span>
kubectl <span class="hljs-keyword">get</span> events -n ai-platform --sort-<span class="hljs-keyword">by</span>=<span class="hljs-string">'.lastTimestamp'</span>
</code></pre>
<p>é—®é¢˜2: Milvusè¿æ¥å¤±è´¥</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥MilvusæœåŠ¡çŠ¶æ€</span>
kubectl get pods -n milvus
kubectl logs -n milvus &lt;milvus-pod-name&gt;

<span class="hljs-comment"># æµ‹è¯•ç½‘ç»œè¿é€šæ€§</span>
kubectl <span class="hljs-built_in">exec</span> -it &lt;mindspore-pod&gt; -n ai-platform -- curl milvus.milvus.svc.cluster.local:19530
</code></pre>
<p>é—®é¢˜3: GPUä¸å¯ç”¨</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ£€æŸ¥GPUæ’ä»¶çŠ¶æ€</span>
kubectl <span class="hljs-keyword">get</span> pods -n gpu-<span class="hljs-keyword">operator</span>

<span class="hljs-meta"># æ£€æŸ¥èŠ‚ç‚¹GPUèµ„æº</span>
kubectl describe node | grep -A <span class="hljs-number">5</span> -B <span class="hljs-number">5</span> nvidia

<span class="hljs-meta"># æŸ¥çœ‹GPUé©±åŠ¨æ—¥å¿—</span>
kubectl logs -n gpu-<span class="hljs-keyword">operator</span> -l app=nvidia-driver-daemonset
</code></pre>
<h3 data-id="heading-36">10.2 æ€§èƒ½è°ƒä¼˜å»ºè®®</h3>
<ol>
<li>æ¨¡å‹ä¼˜åŒ–ï¼š
<ul>
<li>ä½¿ç”¨MindSpore Graphæ¨¡å¼</li>
<li>å¼€å¯ç®—å­èåˆ</li>
<li>ä½¿ç”¨æ··åˆç²¾åº¦è®­ç»ƒ</li>
</ul>
</li>
<li>Milvusä¼˜åŒ–ï¼š
<ul>
<li>åˆç†è®¾ç½®ç´¢å¼•å‚æ•°</li>
<li>ä½¿ç”¨SSDå­˜å‚¨</li>
<li>é…ç½®åˆé€‚çš„ç¼“å­˜å¤§å°</li>
</ul>
</li>
<li>Kubernetesä¼˜åŒ–ï¼š
<ul>
<li>ä½¿ç”¨æœ¬åœ°å­˜å‚¨åŠ é€Ÿ</li>
<li>åˆç†è®¾ç½®èµ„æºé™åˆ¶</li>
<li>å¯ç”¨æ‹“æ‰‘æ„ŸçŸ¥è°ƒåº¦</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è“ç‰™ åˆ†åŒ…é€»è¾‘ ï¼Œæ–­ç‚¹ç»­ä¼  é€»è¾‘]]></title>    <link>https://juejin.cn/post/7598174154664476707</link>    <guid>https://juejin.cn/post/7598174154664476707</guid>    <pubDate>2026-01-23T03:52:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598174154664476707" data-draft-id="7598127455133253632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è“ç‰™  åˆ†åŒ…é€»è¾‘ ï¼Œæ–­ç‚¹ç»­ä¼  é€»è¾‘ "/> <meta itemprop="keywords" content="è“ç‰™,å‰ç«¯,å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2026-01-23T03:52:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼ æ´ªæƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1500154422651518"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è“ç‰™  åˆ†åŒ…é€»è¾‘ ï¼Œæ–­ç‚¹ç»­ä¼  é€»è¾‘ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1500154422651518/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼ æ´ªæƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:52:33.000Z" title="Fri Jan 23 2026 03:52:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç›®æ ‡ï¼ˆä½ å…ˆè®°ä½è¿™ä¸ªï¼‰</h2>
<p>æˆ‘ä»¬è¦è§£å†³ 3 ä»¶äº‹ï¼š</p>
<p>1ï¸âƒ£ <strong>æ€ä¹ˆåˆ†åŒ…</strong><br/>
2ï¸âƒ£ <strong>æ€ä¹ˆç®—ä¸€å…±å¤šå°‘åŒ…</strong><br/>
3ï¸âƒ£ <strong>æ–­äº†ä»å“ªé‡Œç»§ç»­</strong></p>
<hr/>
<h2 data-id="heading-1">äºŒã€ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡åŸå§‹æ•°æ®ï¼ˆå‡è®¾æ˜¯æ–‡ä»¶ï¼‰</h2>
<p>å‡è®¾ä½ å·²ç»æ‹¿åˆ°äº†ä¸€ä¸ª <strong>Uint8Array / ArrayBuffer</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ªæ–‡ä»¶ï¼ˆçœŸå®æƒ…å†µæ˜¯å›¾ç‰‡ / bin / apkï¼‰</span>
<span class="hljs-keyword">const</span> fileBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">10240</span>); <span class="hljs-comment">// 10KB æ–‡ä»¶</span>
</code></pre>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ç¬¬äºŒæ­¥ï¼šå®šä¹‰ã€Œæ¯ä¸€åŒ…å¤šå¤§ã€</h2>
<h4 data-id="heading-3">â“ ä¸ºä»€ä¹ˆè¦é™åˆ¶åŒ…å¤§å°ï¼Ÿ</h4>
<ul>
<li>BLE / å°ç¨‹åº / Socket éƒ½æœ‰å¤§å°é™åˆ¶</li>
<li>å¤ªå¤§å®¹æ˜“ä¸¢</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">CHUNK_SIZE</span> = <span class="hljs-number">512</span><span class="hljs-comment">; // æ¯åŒ… 512 å­—èŠ‚ï¼ˆä½ å¯ä»¥æ”¹ï¼‰</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">å››ã€ç¬¬ä¸‰æ­¥ï¼šæ€ä¹ˆç®—ä¸€å…±å¤šå°‘åŒ…ï¼ˆé‡ç‚¹ï¼‰</h2>
<h4 data-id="heading-5">ğŸ§  é€»è¾‘</h4>
<blockquote>
<p>æ€»åŒ…æ•° = å‘ä¸Šå–æ•´ï¼ˆæ€»é•¿åº¦ Ã· æ¯åŒ…å¤§å°ï¼‰</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">totalSize</span> = fileBuffer.length<span class="hljs-comment">;</span>
const <span class="hljs-attr">totalChunks</span> = Math.ceil(totalSize / CHUNK_SIZE)<span class="hljs-comment">;</span>

console.log('æ€»åŒ…æ•°:', totalChunks)<span class="hljs-comment">;</span>
</code></pre>
<p>âš ï¸ <strong>ä¸ºä»€ä¹ˆç”¨ Math.ceilï¼Ÿ</strong></p>

















<table><thead><tr><th>æƒ…å†µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ­£å¥½æ•´é™¤</td><td>æ²¡é—®é¢˜</td></tr><tr><td>ä¸æ•´é™¤</td><td>æœ€åä¸€åŒ…ä¸æ»¡ï¼Œä¹Ÿè¦ 1 åŒ…</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">äº”ã€ç¬¬å››æ­¥ï¼šçœŸæ­£çš„ã€Œåˆ†åŒ…é€»è¾‘ã€ï¼ˆæ ¸å¿ƒï¼‰</h2>
<h4 data-id="heading-7">âŒ é”™è¯¯ç†è§£</h4>
<blockquote>
<p>åˆ†åŒ…æ˜¯å†™ä¸€ä¸ªç¥ç§˜ç®—æ³• âŒ</p>
</blockquote>
<h4 data-id="heading-8">âœ… æ­£ç¡®ç†è§£</h4>
<blockquote>
<p>åˆ†åŒ…å°±æ˜¯ <strong>æ•°ç»„åˆ‡ç‰‡</strong></p>
</blockquote>
<hr/>
<h4 data-id="heading-9">ğŸ“¦ åˆ†åŒ…å‡½æ•°ï¼ˆé€šç”¨ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">function splitToChunks(buffer, chunkSize) {
  const <span class="hljs-attr">chunks</span> = []<span class="hljs-comment">;</span>

  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; buffer.length; i += chunkSize) {</span>
    // slice(start, end) ä¸ä¼šè¶Šç•Œ
    const <span class="hljs-attr">chunk</span> = buffer.slice(i, i + chunkSize)<span class="hljs-comment">;</span>

    chunks.push(chunk)<span class="hljs-comment">;</span>
  }

  return chunks<span class="hljs-comment">;</span>
}
</code></pre>
<hr/>
<h4 data-id="heading-10">ä½¿ç”¨å®ƒ</h4>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">chunks</span> = splitToChunks(fileBuffer, CHUNK_SIZE)<span class="hljs-comment">;</span>

console.log(chunks.length)<span class="hljs-comment">; // === totalChunks</span>
</code></pre>
<p>ğŸ“Œ <strong>æ­¤åˆ»ä½ å·²ç»å®Œæˆ 80%</strong></p>
<hr/>
<h2 data-id="heading-11">å…­ã€ç¬¬äº”æ­¥ï¼šç»™æ¯ä¸€åŒ…åŠ ã€ŒåŒ…å¤´ä¿¡æ¯ã€</h2>
<p>âš ï¸ çœŸå®ä¼ è¾“ <strong>ä¸èƒ½åªå‘è£¸æ•°æ®</strong></p>
<p>ä½ è‡³å°‘è¦çŸ¥é“ï¼š</p>
<ul>
<li>è¿™æ˜¯ç¬¬å‡ åŒ…</li>
<li>ä¸€å…±å¤šå°‘åŒ…</li>
</ul>
<hr/>
<h4 data-id="heading-12">åŒ…ç»“æ„ï¼ˆä½ ä»¥åçœ‹åˆ°éƒ½ä¸æ€•ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">index</span>: <span class="hljs-number">0</span>,        <span class="hljs-comment">// å½“å‰åŒ…åºå·</span>
  <span class="hljs-attr">total</span>: <span class="hljs-number">20</span>,       <span class="hljs-comment">// æ€»åŒ…æ•°</span>
  <span class="hljs-attr">payload</span>: <span class="hljs-title class_">Uint8Array</span>
}
</code></pre>
<hr/>
<h4 data-id="heading-13">å°è£…ä¸€ä¸‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">buildPacket</span>(<span class="hljs-params">index, total, payload</span>) {
  <span class="hljs-keyword">return</span> {
    index,
    total,
    payload
  };
}
</code></pre>
<hr/>
<h2 data-id="heading-14">ä¸ƒã€ç¬¬å…­æ­¥ï¼šå‘é€ç«¯é€»è¾‘ï¼ˆå«æ–­ç‚¹ç»­ä¼ ï¼‰</h2>
<h4 data-id="heading-15">å‡è®¾è®¾å¤‡å‘Šè¯‰ä½ ï¼š</h4>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">lastAckIndex</span> = -<span class="hljs-number">1</span><span class="hljs-comment">; // -1 è¡¨ç¤ºä¸€ä¸ªéƒ½æ²¡æ”¶åˆ°</span>
</code></pre>
<hr/>
<h4 data-id="heading-16">æ ¸å¿ƒå‘é€å‡½æ•°ï¼ˆä½ é‡ç‚¹çœ‹ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendFile</span>(<span class="hljs-params">chunks, startIndex = <span class="hljs-number">0</span></span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = startIndex; i &lt; chunks.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">const</span> packet = <span class="hljs-title function_">buildPacket</span>(i, chunks.<span class="hljs-property">length</span>, chunks[i]);

    <span class="hljs-comment">// å‘ä¸€åŒ…</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">sendOnePacket</span>(packet);

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬ <span class="hljs-subst">${i}</span> åŒ…å‘é€å®Œæˆ`</span>);
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–‡ä»¶å‘é€å®Œæ¯•'</span>);
}
</code></pre>
<hr/>
<h2 data-id="heading-17">å…«ã€ç¬¬ä¸ƒæ­¥ï¼šsendOnePacket ä¸ºä»€ä¹ˆè¦ awaitï¼ˆé‡ç‚¹ï¼‰</h2>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">sendOnePacket</span>(packet) {
  return new <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {
    <span class="hljs-comment">// 1ï¸âƒ£ å‘é€æ•°æ®ï¼ˆBLE / Socket / å°ç¨‹åºï¼‰</span>
    <span class="hljs-built_in">send</span>(packet);

    <span class="hljs-comment">// 2ï¸âƒ£ ç­‰ ACK</span>
    <span class="hljs-built_in">waitAck</span>(packet.index, () =&gt; {
      <span class="hljs-built_in">resolve</span>(); <span class="hljs-comment">// æ”¶åˆ°ç¡®è®¤æ‰ç»§ç»­</span>
    });

    <span class="hljs-comment">// 3ï¸âƒ£ è¶…æ—¶é‡å‘ï¼ˆçœŸå®é¡¹ç›®å¿…é¡»ï¼‰</span>
    <span class="hljs-built_in">setTimeout</span>(() =&gt; {
      <span class="hljs-built_in">reject</span>('è¶…æ—¶');
    }, <span class="hljs-number">3000</span>);
  });
}
</code></pre>
<p>ğŸ“Œ <strong>è¿™ä¸€å±‚æ˜¯â€œå¯é ä¼ è¾“â€çš„å…³é”®</strong></p>
<hr/>
<h2 data-id="heading-18">ä¹ã€ç¬¬å…«æ­¥ï¼šæ–­ç‚¹ç»­ä¼ æ€ä¹ˆæ¥ä¸Šï¼Ÿ</h2>
<h4 data-id="heading-19">åœºæ™¯</h4>
<blockquote>
<p>ä¸­æ–­äº†ï¼Œè®¾å¤‡è¯´ï¼šæˆ‘æ”¶åˆ°ç¬¬ 5 åŒ…</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">resumeIndex</span> = lastAckIndex + <span class="hljs-number">1</span><span class="hljs-comment">;</span>

sendFile(chunks, resumeIndex)<span class="hljs-comment">;</span>
</code></pre>
<p>ğŸ’¥ <strong>æ–­ç‚¹ç»­ä¼ å®Œæˆ</strong></p>
<hr/>
<h2 data-id="heading-20">åã€è®¾å¤‡ç«¯é€»è¾‘ï¼ˆä½ å¿…é¡»æ‡‚ï¼‰</h2>
<p>è®¾å¤‡ç«¯æ°¸è¿œåªå¹²è¿™ä»¶äº‹ğŸ‘‡</p>
<pre><code class="hljs language-scss" lang="scss">let lastIndex = -<span class="hljs-number">1</span>;

function <span class="hljs-built_in">onReceive</span>(packet) {
  if (packet.index === lastIndex + <span class="hljs-number">1</span>) {
    <span class="hljs-built_in">save</span>(packet.payload);
    lastIndex++;

    <span class="hljs-built_in">sendAck</span>(lastIndex);
  } else {
    <span class="hljs-comment">// å‘Šè¯‰å‘é€ç«¯æˆ‘åˆ°å“ªäº†</span>
    <span class="hljs-built_in">sendAck</span>(lastIndex);
  }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ©ç”¨PackageManageråŠ¨æ€æ§åˆ¶ç»„ä»¶è®¿é—®æƒé™]]></title>    <link>https://juejin.cn/post/7598083101361717254</link>    <guid>https://juejin.cn/post/7598083101361717254</guid>    <pubDate>2026-01-23T03:44:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598083101361717254" data-draft-id="7598099064443879487" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ©ç”¨PackageManageråŠ¨æ€æ§åˆ¶ç»„ä»¶è®¿é—®æƒé™"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-23T03:44:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Ehtan_Zheng"/> <meta itemprop="url" content="https://juejin.cn/user/413072099642478"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ©ç”¨PackageManageråŠ¨æ€æ§åˆ¶ç»„ä»¶è®¿é—®æƒé™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/413072099642478/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Ehtan_Zheng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:44:31.000Z" title="Fri Jan 23 2026 03:44:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ„å»ºç§»åŠ¨åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´è¿™æ ·çš„ä¸šåŠ¡æŒ‘æˆ˜ï¼šåº”ç”¨å†…åŒ…å«ä¸€äº›<strong>é«˜çº§åŠŸèƒ½ï¼ˆPremium Featuresï¼‰</strong> ï¼Œè¿™äº›åŠŸèƒ½åº”å½“ä»…å¯¹ä»˜è´¹è®¢é˜…ç”¨æˆ·å¼€æ”¾ã€‚</p>
<p>å¸¸è§çš„åšæ³•æ˜¯åœ¨ä»£ç ä¸­ä½¿ç”¨ <code>if-else</code> è¿›è¡Œé€»è¾‘æ‹¦æˆªï¼Œä½†æ›´ä¼˜é›…ã€æ›´å½»åº•çš„æ–¹æ¡ˆæ˜¯ä»â€œç»„ä»¶çº§åˆ«â€å‡ºå‘ï¼Œç›´æ¥åœ¨ç³»ç»Ÿå±‚æ§åˆ¶åŠŸèƒ½çš„å…¥å£ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥äº†è§£å¦‚ä½•åˆ©ç”¨ Android çš„ <code>PackageManager</code> å®ç°ä¸€å¥—åŠ¨æ€çš„ã€åŸºäºèº«ä»½çš„ç»„ä»¶ç®¡ç†æœºåˆ¶ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ æ ¸å¿ƒé€»è¾‘ï¼šæˆ¿é—´ä¸é’¥åŒ™çš„éšå–»</h2>
<p>ä¸ºäº†ç†è§£è¿™ä¸ªæœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å°† Android åº”ç”¨æƒ³è±¡æˆä¸€åº§æ‹¥æœ‰è®¸å¤šæˆ¿é—´çš„<strong>å¤§æˆ¿å­</strong>ã€‚</p>
<ul>
<li><strong>Activityï¼ˆæ´»åŠ¨ç»„ä»¶ï¼‰ï¼š</strong> æˆ¿å­é‡Œçš„æ¯ä¸ªæˆ¿é—´ï¼Œä»£è¡¨ä¸€ä¸ªå…·ä½“çš„åŠŸèƒ½æ¨¡å—ã€‚</li>
<li><strong>æ™®é€šæˆ¿é—´ï¼š</strong> æ‰€æœ‰äººéƒ½å¯ä»¥è‡ªç”±è¿›å‡ºï¼Œä»£è¡¨åº”ç”¨çš„åŸºç¡€åŠŸèƒ½ã€‚</li>
<li><strong>VIP ä¼‘æ¯å®¤ï¼š</strong> åªæœ‰æŒæœ‰â€œé’¥åŒ™â€çš„ç‰¹æ®Šå®¢äººæ‰èƒ½è¿›å…¥ã€‚</li>
</ul>
<p>ä½œä¸ºå¼€å‘è€…ï¼ˆæˆ¿å­çš„ç®¡å®¶ï¼‰ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ ¹æ®å®¢äººï¼ˆç”¨æˆ·ï¼‰æ˜¯å¦æŒæœ‰â€œé’¥åŒ™â€ï¼ˆè®¢é˜…çŠ¶æ€ï¼‰ï¼ŒåŠ¨æ€åœ°ç»™ VIP æˆ¿é—´<strong>ä¸Šé”</strong>æˆ–<strong>å¼€é”</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ æŠ€æœ¯å®ç°ï¼šä¸‰æ­¥æ„å»ºåŠ¨æ€ç®¡æ§ä½“ç³»</h2>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šèº«ä»½æ ¡éªŒé€»è¾‘</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯é çš„æ–¹æ³•æ¥åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦å…·å¤‡â€œé«˜çº§æƒé™â€ã€‚è¿™é€šå¸¸æ¶‰åŠå¯¹æœ¬åœ°æ•°æ®åº“ã€SharedPreferences æˆ–è¿œç¨‹æœåŠ¡å™¨çŠ¶æ€çš„æŸ¥è¯¢ã€‚</p>
<p>Kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * æ ¡éªŒç”¨æˆ·æ˜¯å¦ä¸ºé«˜çº§è®¢é˜…ç”¨æˆ·
 * é€»è¾‘å¯åŒ…å«ï¼šæœ¬åœ°ç¼“å­˜æ£€æŸ¥ã€æœåŠ¡å™¨çŠ¶æ€åŒæ­¥ç­‰
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isPremiumUser</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-comment">// ç¤ºä¾‹é€»è¾‘ï¼šæ£€æŸ¥ç”¨æˆ·è®¢é˜…çŠ¶æ€æ ‡è®°</span>
    <span class="hljs-keyword">return</span> userHasPremiumSubscription <span class="hljs-comment">// è¿”å› true æˆ– false</span>
}
</code></pre>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé”å®šæƒé™å…¥å£ï¼ˆç¦ç”¨ç»„ä»¶ï¼‰</h3>
<p>å¦‚æœç”¨æˆ·æ²¡æœ‰è®¢é˜…ï¼Œæˆ‘ä»¬ä¸ä»…è¦åœ¨ UI ä¸Šéšè—æŒ‰é’®ï¼Œæ›´å½»åº•çš„åšæ³•æ˜¯ç›´æ¥<strong>ç¦ç”¨</strong>å¯¹åº”çš„ Activity ç»„ä»¶ã€‚è¿™æ ·ï¼Œå³ä½¿é€šè¿‡å¤–éƒ¨ Intent å°è¯•æ‹‰èµ·è¯¥é¡µé¢ï¼Œç³»ç»Ÿä¹Ÿä¼šäºˆä»¥æ‹¦æˆªã€‚</p>
<p>æˆ‘ä»¬åˆ©ç”¨ <code>PackageManager</code> çš„ <code>setComponentEnabledSetting</code> æ–¹æ³•æ¥å®ç°è¿™ä¸€æ“ä½œï¼š</p>
<p>Kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> pm: PackageManager = packageManager
<span class="hljs-keyword">val</span> componentName = ComponentName(<span class="hljs-keyword">this</span>, PremiumFeatureActivity::<span class="hljs-keyword">class</span>.java)

<span class="hljs-keyword">if</span> (!isPremiumUser()) {
    <span class="hljs-comment">// é”å®šé—¨é”ï¼šå°†ç»„ä»¶çŠ¶æ€è®¾ç½®ä¸º DISABLED</span>
    pm.setComponentEnabledSetting(
        componentName,
        PackageManager.COMPONENT_ENABLED_STATE_DISABLED,
        PackageManager.DONT_KILL_APP <span class="hljs-comment">// æ ‡å¿—ä½ï¼šæ“ä½œåä¸ç«‹å³é‡å¯åº”ç”¨è¿›ç¨‹</span>
    )
}
</code></pre>
<h3 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šè§£é” VIP é€šé“ï¼ˆå¯ç”¨ç»„ä»¶ï¼‰</h3>
<p>ä¸€æ—¦ç”¨æˆ·å®Œæˆäº†æ”¯ä»˜æˆ–è®¢é˜…ï¼Œç®¡å®¶å°±éœ€è¦åŠæ—¶ä¸ºä»–ä»¬æ‰“å¼€æˆ¿é—¨ï¼š</p>
<p>Kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> pm: PackageManager = packageManager
<span class="hljs-keyword">val</span> componentName = ComponentName(<span class="hljs-keyword">this</span>, PremiumFeatureActivity::<span class="hljs-keyword">class</span>.java)

<span class="hljs-keyword">if</span> (isPremiumUser()) {
    <span class="hljs-comment">// è§£é”æˆ¿é—¨ï¼šå°†ç»„ä»¶çŠ¶æ€æ¢å¤ä¸º ENABLED</span>
    pm.setComponentEnabledSetting(
        componentName,
        PackageManager.COMPONENT_ENABLED_STATE_ENABLED,
        PackageManager.DONT_KILL_APP
    )
}
</code></pre>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ ä¸“å®¶æ·±åº¦åˆ†æï¼šä¸ºä»€ä¹ˆè¦ç”¨è¿™ç§æ–¹å¼ï¼Ÿ</h2>
<p>ç›¸æ¯”ç®€å•çš„å¸ƒå°”å€¼åˆ¤æ–­ï¼ˆBoolean checkï¼‰ï¼Œä½¿ç”¨ <code>PackageManager</code> åŠ¨æ€æ§åˆ¶ç»„ä»¶çŠ¶æ€æœ‰å‡ ä¸ªæ˜¾è‘—çš„å·¥ç¨‹ä¼˜åŠ¿ï¼š</p>
<h3 data-id="heading-6">1. ç³»ç»Ÿçº§æ‹¦æˆªä¸å®‰å…¨æ€§</h3>
<p>å½“ç»„ä»¶è¢«è®¾ç½®ä¸º <code>DISABLED</code> æ—¶ï¼ŒAndroid ç³»ç»Ÿä¼šå°†å…¶è§†ä¸ºâ€œä¸å­˜åœ¨â€ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>å¦‚æœè¯¥ Activity é…ç½®äº† <code>intent-filter</code>ï¼ˆå¦‚ Launcher å…¥å£æˆ–åˆ†äº«å…¥å£ï¼‰ï¼Œå®ƒä¼šä»ç³»ç»Ÿçš„é€‰æ‹©åˆ—è¡¨ä¸­æ¶ˆå¤±ã€‚</li>
<li>è¯•å›¾é€šè¿‡æ˜¾å¼ Intent å¯åŠ¨è¯¥ Activity å°†æŠ›å‡º <code>IllegalStateException</code> æˆ–å¯¼è‡´å¯åŠ¨å¤±è´¥ï¼Œå¢åŠ äº†ä»éæ­£è§„æ¸ é“ç»•è¿‡é€»è¾‘çš„éš¾åº¦ã€‚</li>
</ul>
<h3 data-id="heading-7">2. å¹²å‡€çš„æ¸…å•æ–‡ä»¶ç®¡ç†</h3>
<p>ä½ ä¸éœ€è¦åœ¨ <code>AndroidManifest.xml</code> ä¸­ç¼–å†™å¤æ‚çš„é€»è¾‘ï¼Œåªéœ€è¦å®šä¹‰å¥½ç»„ä»¶ã€‚å…·ä½“çš„æƒé™é€»è¾‘å®Œå…¨è§£è€¦åˆ°ä¸šåŠ¡è¿è¡ŒæœŸï¼Œç”±ä»£ç æ ¹æ®çŠ¶æ€å®æ—¶å†³å®šã€‚</p>
<h3 data-id="heading-8">3. ç”¨æˆ·ä½“éªŒçš„ä¸€è‡´æ€§</h3>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°â€œåŠŸèƒ½æ¨¡å—æŒ‰éœ€åŠ è½½â€çš„è§†è§‰æ•ˆæœã€‚å¯¹äºéä¼šå‘˜ï¼ŒæŸäº›åŠŸèƒ½ç»„ä»¶åœ¨ç³»ç»Ÿä¸­æ˜¯ä¸æ³¨å†Œçš„ï¼Œä»è€Œä¿æŒäº†åº”ç”¨å¯¹ç³»ç»Ÿçš„â€œæœ€å°åŒ–æš´éœ²â€ã€‚</p>
<hr/>
<h2 data-id="heading-9">å››ã€ æœ€ä½³å®è·µå»ºè®®</h2>
<p>åœ¨å®é™…è½åœ°è¯¥æ–¹æ¡ˆæ—¶ï¼Œä½œä¸ºæŠ€æœ¯ä¸“å®¶ï¼Œæˆ‘æœ‰å‡ ç‚¹é¢å¤–çš„å»ºè®®ï¼š</p>
<ol>
<li><strong>æ ‡å¿—ä½å¤„ç†ï¼š</strong> <code>PackageManager.DONT_KILL_APP</code> éå¸¸é‡è¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¿®æ”¹ç»„ä»¶çŠ¶æ€å¯èƒ½å¯¼è‡´åº”ç”¨è¿›ç¨‹é‡å¯ï¼Œä½¿ç”¨è¯¥æ ‡å¿—å¯ä»¥ç¡®ä¿ç”¨æˆ·æ“ä½œçš„è¿ç»­æ€§ã€‚</li>
<li><strong>é»˜è®¤çŠ¶æ€è®¾ç½®ï¼š</strong> åœ¨ <code>AndroidManifest.xml</code> ä¸­ï¼Œå»ºè®®å°†é«˜çº§åŠŸèƒ½çš„ Activity é»˜è®¤è®¾ç½®ä¸º <code>android:enabled="false"</code>ã€‚åªæœ‰åœ¨ç”¨æˆ·ç™»å½•å¹¶ç¡®è®¤ä¼šå‘˜èº«ä»½åï¼Œå†é€šè¿‡ä»£ç åŠ¨æ€å¯ç”¨ï¼Œè¿™ç¬¦åˆâ€œæœ€å°æƒé™åŸåˆ™â€ã€‚</li>
<li><strong>åŒæ­¥æœºåˆ¶ï¼š</strong> è®¢é˜…çŠ¶æ€é€šå¸¸æ˜¯è·¨è®¾å¤‡çš„ã€‚è¯·ç¡®ä¿å½“ç”¨æˆ·åœ¨ A è®¾å¤‡è®¢é˜…åï¼ŒB è®¾å¤‡åœ¨åŒæ­¥æ•°æ®åèƒ½åŠæ—¶è§¦å‘ <code>setComponentEnabledSetting</code> é€»è¾‘ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-10">äº”ã€ æ€»ç»“</h2>
<p>åŠ¨æ€ç»„ä»¶æ§åˆ¶æ˜¯ Android å¼€å‘è€…å·¥å…·ç®±ä¸­ä¸€ä¸ªéå¸¸æœ‰åŠ›çš„å·¥å…·ã€‚é€šè¿‡ <code>PackageManager</code>ï¼Œæˆ‘ä»¬å°†ä¸šåŠ¡é€»è¾‘æå‡åˆ°äº†ç³»ç»Ÿç»„ä»¶ç®¡ç†çš„é«˜åº¦ã€‚</p>
<p>è¿™ç§â€œä¸Šé”ä¸å¼€é”â€çš„æœºåˆ¶ä¸ä»…è®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œä¹Ÿä¸ºé«˜çº§åŠŸèƒ½çš„ä¿æŠ¤æä¾›äº†ä¸€é“åšå®çš„å±éšœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HelloAgent(ä¸‰): Agentæ€»æ˜¯ä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“ï¼Ÿç”¨è¿™ä¸ªæŠ€æœ¯è®©å®ƒå˜é è°±]]></title>    <link>https://juejin.cn/post/7598118189143572480</link>    <guid>https://juejin.cn/post/7598118189143572480</guid>    <pubDate>2026-01-23T03:59:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598118189143572480" data-draft-id="7598174154664460323" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HelloAgent(ä¸‰): Agentæ€»æ˜¯ä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“ï¼Ÿç”¨è¿™ä¸ªæŠ€æœ¯è®©å®ƒå˜é è°±"/> <meta itemprop="keywords" content="åç«¯,Agent"/> <meta itemprop="datePublished" content="2026-01-23T03:59:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒ­é’Šè£"/> <meta itemprop="url" content="https://juejin.cn/user/3456520287953895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HelloAgent(ä¸‰): Agentæ€»æ˜¯ä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“ï¼Ÿç”¨è¿™ä¸ªæŠ€æœ¯è®©å®ƒå˜é è°±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520287953895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒ­é’Šè£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:59:07.000Z" title="Fri Jan 23 2026 03:59:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼šé—®AIä¸€ä¸ªä¸“ä¸šé—®é¢˜ï¼Œå®ƒå›ç­”å¾—å¤´å¤´æ˜¯é“ï¼Œç»“æœä¸€æŸ¥å…¨æ˜¯é”™çš„ï¼Ÿ</p>
<p>æ¯”å¦‚ä½ é—®ï¼š"Pythonæ€ä¹ˆå¤„ç†PDFæ–‡ä»¶ï¼Ÿ"å®ƒç»™ä½ åˆ—äº†ä¸€å †ä»£ç ï¼Œè·‘èµ·æ¥å…¨æŠ¥é”™ã€‚è¿™å°±æ˜¯AIçš„"å¹»è§‰"é—®é¢˜â€”â€”å®ƒä¸çŸ¥é“å°±æ˜¯ä¸çŸ¥é“ï¼Œä½†ä¼šç¼–é€ ç­”æ¡ˆã€‚</p>
<p>æœ‰äº†<strong>RAGæŠ€æœ¯</strong>ï¼Œå°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„ç¥å™¨ã€‚ç®€å•è¯´ï¼Œå°±æ˜¯è®©AIå…ˆ"æŸ¥ä¸“ä¸šèµ„æ–™"ï¼Œå†å›ç­”ä½ ï¼Œè€Œä¸æ˜¯å‡­ç©ºç¼–é€ ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯RAGï¼Ÿ</h2>
<p>RAGæ˜¯<strong>æ£€ç´¢å¢å¼ºç”Ÿæˆ: Retrieval-Augmented Generation</strong>Â çš„ç¼©å†™ï¼Œåå­—å¬èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†åŸç†å…¶å®å¾ˆç®€å•ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ è¦è€ƒè¯•å¤ä¹ ã€‚æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p>
<ul>
<li>çº¯é è„‘è®°ï¼šå¯èƒ½è®°æ··ã€å¿˜æ‰ç»†èŠ‚</li>
<li>å¼€å·è€ƒè¯•ï¼šå¸¦ç€ç¬”è®°ï¼Œéšæ—¶æŸ¥é˜…å‡†ç¡®ä¿¡æ¯</li>
</ul>
<p>RAGå°±æ˜¯ç»™AIé…äº†ä¸€æœ¬"å¼€å·ç¬”è®°"ã€‚å®ƒåœ¨å›ç­”ä½ ä¹‹å‰ï¼Œå…ˆå»ç¿»é˜…ç›¸å…³çš„æ–‡æ¡£èµ„æ–™ï¼Œç„¶ååŸºäºè¿™äº›çœŸå®ä¿¡æ¯æ¥å›ç­”ä½ ã€‚</p>
<p>æ‹†è§£æˆä¸‰ä¸ªè¯ï¼š</p>
<ul>
<li>æ£€ç´¢ï¼šä»çŸ¥è¯†åº“é‡Œæ‰¾åˆ°ç›¸å…³å†…å®¹</li>
<li>å¢å¼ºï¼šæŠŠæ‰¾åˆ°çš„å†…å®¹å–‚ç»™AI</li>
<li>ç”Ÿæˆï¼šAIåŸºäºçœŸå®ä¿¡æ¯ç”Ÿæˆç­”æ¡ˆ</li>
</ul>
<p>è¿™æ ·AIå°±ä¸ç”¨"å‡­ç©ºæƒ³è±¡"äº†ï¼Œè€Œæ˜¯æœ‰æ®å¯ä¾ã€‚</p>
<hr/>
<h2 data-id="heading-1">RAGæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</h2>
<p>RAGç³»ç»Ÿåˆ†ä¸¤ä¸ªå¤§é˜¶æ®µï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e488e0c570f44200b3f8b563f7fadaaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOt6ZKK6I2j:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769745547&amp;x-signature=gfT3WTAI1VBIS%2BSbwtSSJy1Pmro%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-2">é˜¶æ®µä¸€ï¼šå‡†å¤‡çŸ¥è¯†åº“ï¼ˆç›¸å½“äºæ•´ç†ç¬”è®°ï¼‰</h3>
<p>è¿™ä¸ªé˜¶æ®µå°±æ˜¯æŠŠä½ çš„æ–‡æ¡£ã€PDFã€ç½‘é¡µç­‰èµ„æ–™ï¼Œå¤„ç†æˆAIèƒ½"è¯»æ‡‚"çš„æ ¼å¼ã€‚</p>
<p><strong>ä¸‰æ­¥èµ°ï¼š</strong></p>
<ol>
<li>æ•°æ®æå–ï¼šç”¨å·¥å…·æŠŠå„ç§æ ¼å¼çš„æ–‡æ¡£ï¼ˆPDFã€Wordã€Excelã€ç”šè‡³å›¾ç‰‡ï¼‰è½¬æ¢æˆç»Ÿä¸€çš„Markdownæ–‡æœ¬</li>
<li>æ–‡æœ¬åˆ†å‰²ï¼šæŠŠé•¿æ–‡æ¡£åˆ‡æˆå°å—ï¼Œæ¯å—åŒ…å«ä¸€ä¸ªå®Œæ•´çš„æ„æ€</li>
<li>å‘é‡åŒ–ï¼šæŠŠæ–‡å­—è½¬æ¢æˆæ•°å­—å‘é‡ï¼Œè¿™æ ·è®¡ç®—æœºå°±èƒ½è®¡ç®—"å“ªä¸¤æ®µæ–‡å­—æ„æ€æœ€æ¥è¿‘"</li>
</ol>
<p>**ä¸¾ä¸ªä¾‹å­ï¼š**ä½ æœ‰ä¸€æœ¬100é¡µçš„Pythonæ•™ç¨‹ã€‚RAGä¼šæŠŠå®ƒåˆ‡æˆ100ä¸ªå°ç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µè®²ä¸€ä¸ªçŸ¥è¯†ç‚¹ã€‚ç„¶åç»™æ¯ä¸ªç‰‡æ®µæ‰“ä¸Š"æ•°å­—æ ‡ç­¾"ã€‚å½“ä½ é—®"å¦‚ä½•è¯»å–PDF"æ—¶ï¼Œå®ƒèƒ½æ‰¾åˆ°è®²PDFçš„é‚£å‡ é¡µã€‚</p>
<h3 data-id="heading-3">é˜¶æ®µäºŒï¼šå›ç­”é—®é¢˜ï¼ˆç›¸å½“äºæŸ¥ç¬”è®°è€ƒè¯•ï¼‰</h3>
<p>å½“ä½ æé—®æ—¶ï¼š</p>
<ol>
<li>ç†è§£ä½ çš„é—®é¢˜ï¼šæŠŠä½ çš„é—®é¢˜ä¹Ÿè½¬æ¢æˆæ•°å­—å‘é‡</li>
<li>æ£€ç´¢ç›¸å…³å†…å®¹ï¼šåœ¨çŸ¥è¯†åº“é‡Œæ‰¾åˆ°æœ€ç›¸å…³çš„å‡ ä¸ªç‰‡æ®µ</li>
<li>æ³¨å…¥Promptï¼šæŠŠè¿™äº›ç‰‡æ®µä½œä¸º"å‚è€ƒèµ„æ–™"å¡ç»™AI</li>
<li>ç”Ÿæˆç­”æ¡ˆï¼šAIåŸºäºè¿™äº›çœŸå®èµ„æ–™å›ç­”ä½ </li>
</ol>
<p><strong>é‡ç‚¹æ¥äº†</strong>ï¼šAIçš„å›ç­”æ˜¯åŸºäº<strong>çœŸå®æ–‡æ¡£å†…å®¹</strong>çš„ï¼Œè€Œä¸æ˜¯çç¼–ã€‚ä½ å¯ä»¥è¦æ±‚å®ƒæ ‡æ³¨"è¿™ä¸ªç­”æ¡ˆæ¥è‡ªå“ªä»½æ–‡æ¡£çš„ç¬¬å‡ é¡µ"ï¼Œè¿™æ ·å°±èƒ½éªŒè¯å‡†ç¡®æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-4">RAGç³»ç»Ÿçš„æ ¸å¿ƒèƒ½åŠ›</h2>
<h3 data-id="heading-5">1. åƒä»€ä¹ˆæ–‡æ¡£éƒ½è¡Œ</h3>
<p>RAGç³»ç»Ÿç”¨äº†ä¸€ä¸ªå«<strong>MarkItDown</strong>çš„å·¥å…·ï¼ˆå¾®è½¯å¼€æºçš„ï¼‰ï¼Œèƒ½æŠŠå‡ ä¹æ‰€æœ‰æ ¼å¼çš„æ–‡æ¡£è½¬æ¢æˆæ ‡å‡†æ–‡æœ¬ã€‚</p>
<ul>
<li>PDFã€Wordã€Excelï¼Ÿæ²¡é—®é¢˜</li>
<li>å›¾ç‰‡é‡Œçš„æ–‡å­—ï¼Ÿèƒ½è¯†åˆ«</li>
<li>éŸ³é¢‘è§†é¢‘ï¼Ÿä¹Ÿèƒ½è½¬æ–‡å­—</li>
</ul>
<p>ä¸ç®¡ä½ çš„çŸ¥è¯†åº“æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œç»Ÿä¸€å¤„ç†æˆMarkdownï¼Œç„¶åè¿›å…¥æ ‡å‡†åŒ–æµç¨‹ã€‚</p>
<h3 data-id="heading-6">2. æ™ºèƒ½åˆ†å—ï¼Œä¸æŠŠè¯æ‹†æ•£</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d08974ce370441359bf9ea7897469d58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOt6ZKK6I2j:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769745547&amp;x-signature=VCFRqMJ6DVdBgWC5O38PkyxavIg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æŠŠé•¿æ–‡æ¡£åˆ‡æˆå°æ®µæ—¶ï¼Œæœ‰ä¸ªéš¾ç‚¹ï¼šåˆ‡å¾—å¤ªç¢ï¼Œæ„æ€ä¸å®Œæ•´ï¼›åˆ‡å¾—å¤ªé•¿ï¼Œæ£€ç´¢ä¸å‡†ç¡®ã€‚</p>
<p>RAGçš„åšæ³•æ˜¯<strong>æŒ‰è¯­ä¹‰åˆ‡åˆ†</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«æ ‡é¢˜ç»“æ„ï¼ˆä¸€çº§æ ‡é¢˜ã€äºŒçº§æ ‡é¢˜ï¼‰</li>
<li>ä¿æŒæ®µè½å®Œæ•´æ€§</li>
<li>æœ‰ç‚¹é‡å ï¼ˆæ¯”å¦‚ä¸Šä¸€æ®µçš„ç»“å°¾å’Œä¸‹ä¸€æ®µçš„å¼€å¤´é‡å¤ä¸€ç‚¹ï¼‰ï¼Œä¿è¯ä¸Šä¸‹æ–‡è¿è´¯</li>
</ul>
<p><strong>è¿™æ ·æ£€ç´¢åˆ°çš„ç‰‡æ®µæ˜¯å®Œæ•´çš„æœ‰æ„ä¹‰çš„å†…å®¹ï¼Œè€Œä¸æ˜¯åŠå¥è¯ã€‚</strong></p>
<h3 data-id="heading-7">3. é«˜çº§æ£€ç´¢ï¼šä¸åªçœ‹å­—é¢æ„æ€</h3>
<p>è¿™æ˜¯RAGçš„<strong>æ ¸å¿ƒç«äº‰åŠ›</strong>ã€‚</p>
<p>é—®é¢˜æ¥äº†ï¼šä½ é—®"å¦‚ä½•å­¦Python"ï¼Œä½†æ–‡æ¡£é‡Œå†™çš„æ˜¯"Pythonå…¥é—¨æ•™ç¨‹"æˆ–"Pythonç¼–ç¨‹æŒ‡å—"ï¼Œå­—é¢ä¸ä¸€æ ·ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p>RAGæœ‰ä¸¤ç§é«˜çº§ç­–ç•¥ï¼š</p>
<h4 data-id="heading-8">å¤šæŸ¥è¯¢æ‰©å±•ï¼ˆMQEï¼‰</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20008f5bc1d443cd92866a4eb66d2d2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOt6ZKK6I2j:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769745547&amp;x-signature=6rWeU%2B6xQeA6N7ps3%2FHb%2FvNFduk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½ çš„ä¸€ä¸ªé—®é¢˜ï¼Œè‡ªåŠ¨å˜æˆå¤šä¸ªä¸åŒçš„é—®æ³•ï¼Œå¹¶è¡Œæœç´¢ã€‚</p>
<ul>
<li>"å¦‚ä½•å­¦ä¹ Python"</li>
<li>"Pythonå…¥é—¨æ•™ç¨‹"</li>
<li>"Pythonç¼–ç¨‹æŒ‡å—"</li>
<li>"Pythonå­¦ä¹ æ–¹æ³•"</li>
</ul>
<p>æŠŠè¿™å‡ ä¸ªé—®é¢˜çš„ç»“æœåˆå¹¶ï¼Œå°±ä¸æ€•é—æ¼äº†ã€‚</p>
<h4 data-id="heading-9">å‡è®¾æ–‡æ¡£åµŒå…¥ï¼ˆHyDEï¼‰</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b9dd9a4f7e3451fa26afb229abebbcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOt6ZKK6I2j:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769745547&amp;x-signature=AXd%2FWGt%2FCTnyIBoZPQ5J81xbVfE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªæ›´èªæ˜ã€‚å®ƒå…ˆè®©AI"çŒœ"ä¸€ä¸ªç­”æ¡ˆï¼Œç„¶åç”¨è¿™ä¸ªå‡è®¾çš„ç­”æ¡ˆå»æ£€ç´¢ã€‚</p>
<p>**ä¸ºä»€ä¹ˆè¿™æ ·æœ‰æ•ˆï¼Ÿ**å› ä¸ºé—®é¢˜é€šå¸¸æ˜¯ç–‘é—®å¥ï¼ˆ"æ€ä¹ˆ..."ï¼‰ï¼Œè€Œæ–‡æ¡£å†…å®¹æ˜¯é™ˆè¿°å¥ï¼ˆ"æ–¹æ³•æ˜¯..."ï¼‰ã€‚å®ƒä»¬çš„è¯­ä¹‰ç©ºé—´ä¸ä¸€æ ·ï¼Œç›´æ¥åŒ¹é…æ•ˆæœå·®ã€‚</p>
<p>ç”¨"ç­”æ¡ˆå»æ‰¾ç­”æ¡ˆ"ï¼Œå‡è®¾ç­”æ¡ˆå’ŒçœŸå®ç­”æ¡ˆçš„è¡¨è¿°é£æ ¼æ›´æ¥è¿‘ï¼Œæ£€ç´¢å°±æ›´å‡†ç¡®ã€‚</p>
<p>**ä¸¾ä¸ªä¾‹å­ï¼š**ä½ é—®"RAGçš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ" AIå…ˆçŒœï¼š"RAGçš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯æé«˜å›ç­”çš„å‡†ç¡®æ€§..." ç„¶åç”¨è¿™æ®µè¯å»æ£€ç´¢ï¼Œå°±èƒ½æ‰¾åˆ°è®²"æ ¸å¿ƒä¼˜åŠ¿"çš„æ–‡æ¡£æ®µè½ã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¸ºä»€ä¹ˆéœ€è¦RAGï¼Ÿ</h2>
<p>ä¸‰ä¸ªæ ¸å¿ƒä»·å€¼ï¼š</p>
<h3 data-id="heading-11">1. å›ç­”æ›´å‡†ç¡®</h3>
<p>AIä¸æ˜¯åœ¨"å›å¿†"è®­ç»ƒæ•°æ®ï¼Œè€Œæ˜¯åœ¨"é˜…è¯»"ä½ æä¾›çš„çœŸå®æ–‡æ¡£ã€‚æœ‰æ®å¯æŸ¥ï¼Œæœ‰æºå¯æº¯ã€‚</p>
<h3 data-id="heading-12">2. çŸ¥è¯†å¯æ›´æ–°</h3>
<p>ä¸éœ€è¦é‡æ–°è®­ç»ƒAIæ¨¡å‹ï¼Œåªéœ€è¦å¾€çŸ¥è¯†åº“é‡ŒåŠ æ–°æ–‡æ¡£å°±è¡Œã€‚æˆæœ¬ä½ï¼Œæ•ˆç‡é«˜ã€‚</p>
<h3 data-id="heading-13">3. å›ç­”å¯éªŒè¯</h3>
<p>AIå¯ä»¥å‘Šè¯‰ä½ ï¼š"è¿™ä¸ªç­”æ¡ˆæ¥è‡ªã€ŠPythonæ•™ç¨‹ã€‹ç¬¬35é¡µ"ã€‚ä½ èƒ½è‡ªå·±å»æ ¸å¯¹ï¼Œä¸åƒçº¯AIç”Ÿæˆçš„ç­”æ¡ˆï¼ŒçœŸå‡éš¾è¾¨ã€‚</p>
<hr/>
<h2 data-id="heading-14">RAGé€‚åˆä»€ä¹ˆåœºæ™¯ï¼Ÿ</h2>
<p>âœ…Â <strong>å¼ºçƒˆæ¨èï¼š</strong></p>
<ul>
<li>ä¼ä¸šçŸ¥è¯†åº“é—®ç­”ï¼ˆæ¯”å¦‚å‘˜å·¥æ‰‹å†Œã€æŠ€æœ¯æ–‡æ¡£ï¼‰</li>
<li>ä¸“ä¸šé¢†åŸŸå’¨è¯¢ï¼ˆæ³•å¾‹ã€åŒ»ç–—ã€é‡‘èï¼‰</li>
<li>å®¢æœæœºå™¨äººï¼ˆåŸºäºäº§å“æ–‡æ¡£ï¼‰</li>
<li>ä¸ªäººçŸ¥è¯†ç®¡ç†ï¼ˆæœç´¢è‡ªå·±çš„ç¬”è®°ã€æ–‡æ¡£ï¼‰</li>
</ul>
<p>âŒÂ <strong>ä¸å¤ªé€‚åˆï¼š</strong></p>
<ul>
<li>çº¯åˆ›æ„å†™ä½œï¼ˆRAGä¼šé™åˆ¶å‘æŒ¥ï¼‰</li>
<li>é—²èŠï¼ˆç”¨ChatGPTå°±å¤Ÿäº†ï¼‰</li>
<li>ç®€å•çš„å¸¸è¯†é—®é¢˜ï¼ˆä¸éœ€è¦æŸ¥èµ„æ–™ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-15">æ€»ç»“</h2>
<p>å­¦å®Œä»Šå¤©çš„å†…å®¹ï¼Œä½ æŒæ¡äº†ï¼š</p>
<p><strong>æ ¸å¿ƒæ¦‚å¿µ</strong></p>
<ul>
<li>RAG = æ£€ç´¢ + å¢å¼º + ç”Ÿæˆ</li>
<li>è®©AIå…ˆ"æŸ¥èµ„æ–™"å†å›ç­”ï¼Œé¿å…èƒ¡è¯´å…«é“</li>
</ul>
<p><strong>å…³é”®æŠ€æœ¯</strong></p>
<ul>
<li>å¤šæ¨¡æ€æ–‡æ¡£å¤„ç†ï¼ˆåƒä»€ä¹ˆæ ¼å¼éƒ½è¡Œï¼‰</li>
<li>æ™ºèƒ½åˆ†å—ç­–ç•¥ï¼ˆæŒ‰è¯­ä¹‰åˆ‡åˆ†ï¼Œä¸ç ´åæ„æ€ï¼‰</li>
<li>é«˜çº§æ£€ç´¢ï¼ˆMQEå¤šæŸ¥è¯¢æ‰©å±•ã€HyDEå‡è®¾æ–‡æ¡£ï¼‰</li>
</ul>
<p><strong>å®ç”¨ä»·å€¼</strong></p>
<ul>
<li>å›ç­”å‡†ç¡®ï¼Œæœ‰æ®å¯æŸ¥</li>
<li>çŸ¥è¯†æ›´æ–°å®¹æ˜“ï¼ŒåŠ æ–‡æ¡£å°±è¡Œ</li>
<li>é€‚åˆä¸“ä¸šé¢†åŸŸã€ä¼ä¸šçŸ¥è¯†åº“</li>
</ul>
<hr/>
<h2 data-id="heading-16">ä¸‹ä¸€æ­¥å»ºè®®</h2>
<p>å¦‚æœä½ æƒ³æŠŠRAGç”¨èµ·æ¥ï¼š</p>
<ol>
<li>å…ˆä»ç®€å•åœºæ™¯å…¥æ‰‹ï¼šæ¯”å¦‚æŠŠè‡ªå·±çš„ç¬”è®°æ–‡æ¡£åšæˆRAGç³»ç»Ÿï¼Œæ–¹ä¾¿æœç´¢</li>
<li>é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼šå¯ä»¥ç”¨LangChainã€LlamaIndexè¿™äº›ç°æˆçš„æ¡†æ¶</li>
<li>æ³¨æ„çŸ¥è¯†åº“è´¨é‡ï¼šåƒåœ¾è¿›ï¼Œåƒåœ¾å‡ºã€‚æ–‡æ¡£è´¨é‡å†³å®šäº†å›ç­”è´¨é‡</li>
</ol>
<hr/>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¯ä»¥å¸®å¿™<strong>ç‚¹ä¸ªèµ</strong>ï¼Œå¸®åŠ©ç¬”è€…æœ‰åŠ¨åŠ›ä¸æ–­æ›´æ–°ï¼</p>
<p>æ¬¢è¿å…³æ³¨å…¬ä¼—å·: "èˆèˆçš„AIç¬”è®°"ï¼Œé‡Œé¢æœ‰æ›´å¤šå¹²è´§å†…å®¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š02-Sandbox Chrome]]></title>    <link>https://juejin.cn/post/7598104596779941934</link>    <guid>https://juejin.cn/post/7598104596779941934</guid>    <pubDate>2026-01-23T04:43:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104596779941934" data-draft-id="7598021984299647003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š02-Sandbox Chrome"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Python"/> <meta itemprop="datePublished" content="2026-01-23T04:43:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸¤ä¸‡äº”åƒä¸ªå°æ—¶"/> <meta itemprop="url" content="https://juejin.cn/user/3966693682971870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š02-Sandbox Chrome
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693682971870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸¤ä¸‡äº”åƒä¸ªå°æ—¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:43:04.000Z" title="Fri Jan 23 2026 04:43:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š02-Sandbox Chrome</h2>
<h3 data-id="heading-1">ğŸ“ å¯¼èˆªæŒ‡å—</h3>
<p>åœ¨æ„å»ºäº†åŸºç¡€çš„ VNC å¯è§†åŒ–æ²™ç›’åï¼Œä¸‹ä¸€æ­¥æ˜¯èµ‹äºˆ AI Agent "çœ‹"äº’è”ç½‘çš„èƒ½åŠ›ã€‚</p>
<ul>
<li>ğŸŒ <strong>ä¸ºä»€ä¹ˆéœ€è¦æµè§ˆå™¨ï¼Ÿ</strong> â†’ <a href="#part-1" title="#part-1">ç¬¬ä¸€éƒ¨åˆ†ï¼šèƒŒæ™¯ä¸æ¶æ„</a> - ç†è§£ AI è®¿é—® Web çš„å¿…è¦æ€§</li>
<li>ğŸ› ï¸ <strong>å¦‚ä½•å®‰è£…ï¼Ÿ</strong> â†’ <a href="#part-2" title="#part-2">ç¬¬äºŒéƒ¨åˆ†ï¼šç¯å¢ƒæ„å»º</a> - Chromium ä¸ Node.js ç¯å¢ƒé…ç½®</li>
<li>âš™ï¸ <strong>æ€ä¹ˆé…ç½®ï¼Ÿ</strong> â†’ <a href="#part-3" title="#part-3">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœåŠ¡ç¼–æ’</a> - Supervisor ä¸å¯åŠ¨è„šæœ¬è¯¦è§£</li>
<li>ğŸ”Œ <strong>å¦‚ä½•è¿æ¥ï¼Ÿ</strong> â†’ <a href="#part-4" title="#part-4">ç¬¬å››éƒ¨åˆ†ï¼šMCPé›†æˆ</a> - Chrome DevTools MCP çš„å·¥ä½œåŸç†</li>
</ul>
<hr/>
<h3 data-id="heading-2">ç›®å½•</h3>
<h4 data-id="heading-3">ç¬¬ä¸€éƒ¨åˆ†ï¼šèƒŒæ™¯ä¸æ¶æ„ ğŸŒ</h4>
<ul>
<li><a href="#why-browser" title="#why-browser">ä¸ºä»€ä¹ˆè¦ç»™æ²™ç›’è£…æµè§ˆå™¨ï¼Ÿ</a></li>
<li><a href="#architecture" title="#architecture">æ¶æ„è®¾è®¡ï¼šCDP ä¸ MCP</a></li>
</ul>
<h4 data-id="heading-4">ç¬¬äºŒéƒ¨åˆ†ï¼šç¯å¢ƒæ„å»º ğŸ› ï¸</h4>
<ul>
<li><a href="#chromium-install" title="#chromium-install">Chromium å®‰è£…æŒ‡å—</a>
<ul>
<li><a href="#ppa-setup" title="#ppa-setup">PPA æºé…ç½®</a></li>
<li><a href="#fonts" title="#fonts">ä¸­æ–‡å­—ä½“æ”¯æŒ</a></li>
</ul>
</li>
<li><a href="#nodejs-mcp" title="#nodejs-mcp">Node.js ä¸ MCP å·¥å…·é“¾</a></li>
</ul>
<h4 data-id="heading-5">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœåŠ¡ç¼–æ’ âš™ï¸</h4>
<ul>
<li><a href="#launch-script" title="#launch-script">å¯åŠ¨è„šæœ¬ï¼šlaunch_chrome.sh</a>
<ul>
<li><a href="#chrome-flags" title="#chrome-flags">å…³é”®å‚æ•°è§£æ</a></li>
</ul>
</li>
<li><a href="#supervisor-config" title="#supervisor-config">Supervisor é…ç½®</a>
<ul>
<li><a href="#process-deps" title="#process-deps">è¿›ç¨‹ä¾èµ–ç®¡ç†</a></li>
</ul>
</li>
</ul>
<h4 data-id="heading-6">ç¬¬å››éƒ¨åˆ†ï¼šMCPé›†æˆ ğŸ”Œ</h4>
<ul>
<li><a href="#mcp-config" title="#mcp-config">chrome-devtools-mcp é…ç½®</a></li>
<li><a href="#usage-scenarios" title="#usage-scenarios">å®é™…åº”ç”¨åœºæ™¯</a></li>
</ul>
<h4 data-id="heading-7">é™„å½•</h4>
<ul>
<li><a href="#faq" title="#faq">å¸¸è§é—®é¢˜ FAQ</a></li>
</ul>
<hr/>
<h3 data-id="heading-8">å¼•è¨€</h3>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç«  <a href="https://juejin.cn/post/7597199288817336360" target="_blank" title="https://juejin.cn/post/7597199288817336360">ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š 01-Sandbox VNC</a> ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸæ„å»ºäº†ä¸€ä¸ªå¯è§†åŒ–çš„ Linux æ¡Œé¢ç¯å¢ƒã€‚ä½†è¿™åªæ˜¯ç¬¬ä¸€æ­¥ã€‚ä¸€ä¸ªå¼ºå¤§çš„ AI Agent ä¸ä»…éœ€è¦æ§åˆ¶æ“ä½œç³»ç»Ÿï¼Œæ›´éœ€è¦é€šè¿‡æµè§ˆå™¨ä¸äº’è”ç½‘äº¤äº’â€”â€”æœç´¢ä¿¡æ¯ã€è®¿é—®æ–‡æ¡£ã€ç”šè‡³æ“ä½œ Web åº”ç”¨ã€‚</p>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ Docker æ²™ç›’ä¸­é›†æˆ Chrome æµè§ˆå™¨ï¼Œå¹¶é€šè¿‡ <strong>Chrome DevTools MCP</strong> (Model Context Protocol) è®© AI Agent èƒ½å¤Ÿä»¥æ ‡å‡†åŒ–çš„æ–¹å¼æ§åˆ¶æµè§ˆå™¨ã€‚</p>
<hr/>
<p><a id="user-content-part-1" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-9">ç¬¬ä¸€éƒ¨åˆ†ï¼šèƒŒæ™¯ä¸æ¶æ„ ğŸŒ</h3>
<p><a id="user-content-why-browser" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-10">ä¸ºä»€ä¹ˆè¦ç»™æ²™ç›’è£…æµè§ˆå™¨ï¼Ÿ</h4>
<p>å¯¹äºäººç±»æ¥è¯´ï¼Œæµè§ˆå™¨æ˜¯è·å–ä¿¡æ¯çš„ä¸»è¦çª—å£ã€‚å¯¹äº AI Agent è€Œè¨€ï¼Œé›†æˆæµè§ˆå™¨èƒ½åŠ›æ„å‘³ç€ï¼š</p>
<ol>
<li><strong>å®æ—¶ä¿¡æ¯è·å–</strong>ï¼šä¸å†å±€é™äºè®­ç»ƒæ•°æ®ï¼Œå¯ä»¥è®¿é—®æœ€æ–°çš„ç½‘é¡µå†…å®¹ã€‚</li>
<li><strong>Web åº”ç”¨æ“ä½œ</strong>ï¼šå¯ä»¥ç™»å½•ç½‘ç«™ã€å¡«å†™è¡¨å•ã€ç‚¹å‡»æŒ‰é’®ï¼Œå®Œæˆå¤æ‚çš„ä¸šåŠ¡æµç¨‹ã€‚</li>
<li><strong>è°ƒè¯•ä¸å¼€å‘</strong>ï¼šå¯¹äºè¾…åŠ©ç¼–ç¨‹çš„ Agentï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆå’Œè°ƒè¯• Web é¡¹ç›®ã€‚</li>
</ol>
<p><a id="user-content-architecture" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-11">æ¶æ„è®¾è®¡ï¼šCDP ä¸ MCP</h4>
<p>æˆ‘ä»¬çš„å®ç°æ–¹æ¡ˆåŸºäºä»¥ä¸‹è°ƒç”¨é“¾ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    Agent[AI Agent] --MCP Protocol--&gt; MCP_Server[Chrome DevTools MCP]
    MCP_Server --CDP WebSocket--&gt; Chrome[Chromium Browser]
    Chrome --X11--&gt; Xvfb[è™šæ‹Ÿæ˜¾ç¤º]
    Xvfb --VNC--&gt; User[ç”¨æˆ·å¯è§†åŒ–]
</code></pre>
<ul>
<li><strong>CDP (Chrome DevTools Protocol)</strong>: Chrome æµè§ˆå™¨åŸç”Ÿçš„è°ƒè¯•åè®®ï¼Œæä¾›äº†å¯¹æµè§ˆå™¨çš„åº•å±‚æ§åˆ¶èƒ½åŠ›ã€‚</li>
<li><strong>MCP (Model Context Protocol)</strong>: Anthropic æ¨å‡ºçš„æ ‡å‡†åŒ–åè®®ï¼Œå°† CDP çš„å¤æ‚æ¥å£å°è£…ä¸º AI æ˜“äºç†è§£çš„å·¥å…·ï¼ˆå¦‚ <code>navigate</code>, <code>click</code>, <code>screenshot</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<p><a id="user-content-part-2" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-12">ç¬¬äºŒéƒ¨åˆ†ï¼šç¯å¢ƒæ„å»º ğŸ› ï¸</h3>
<p><a id="user-content-chromium-install" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-13">Chromium å®‰è£…æŒ‡å—</h4>
<p>åœ¨ Docker ç¯å¢ƒä¸­å®‰è£…æµè§ˆå™¨å¹¶ä¸ç®€å•ï¼Œç‰¹åˆ«æ˜¯éœ€è¦æ”¯æŒæœ€æ–°çš„ Web æ ‡å‡†å’Œæ‰©å±•æ—¶ã€‚æˆ‘ä»¬é€‰æ‹©å®‰è£… Chromium è€Œé Google Chromeï¼Œä»¥ä¾¿æ›´å¥½åœ°é€‚é… Linux ç¯å¢ƒã€‚</p>
<p><a id="user-content-ppa-setup" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h5 data-id="heading-14">PPA æºé…ç½®</h5>
<p>ä¸ºäº†è·å–è¾ƒæ–°ç‰ˆæœ¬çš„ Chromiumï¼Œæˆ‘ä»¬éœ€è¦é…ç½® PPA æºã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§ï¼Œ<code>add-apt-repository</code> åœ¨æŸäº› Ubuntu ç‰ˆæœ¬ä¸‹ä¾èµ–ç‰¹å®šçš„ Python ç‰ˆæœ¬ï¼Œæˆ‘ä»¬é€šè¿‡ä¸´æ—¶åˆ‡æ¢ Python ç‰ˆæœ¬æ¥è§£å†³å…¼å®¹æ€§é—®é¢˜ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># å®‰è£… Chromium (ä½¿ç”¨ PPA æºä»¥è·å–æ›´æ–°ç‰ˆæœ¬)
# æ³¨æ„ï¼šéœ€è¦ä½¿ç”¨ python3.10 æ¥æ‰§è¡Œ add-apt-repositoryï¼Œå› ä¸º apt_pkg ä¾èµ–é—®é¢˜
RUN PYTHON_VERSION=$(python3 --version) &amp;&amp; \
    update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.10 2 &amp;&amp; \
    add-apt-repository ppa:xtradeb/apps -y &amp;&amp; \
    update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.11 1 &amp;&amp; \
    apt-get update &amp;&amp; \
    apt-get install -y chromium --no-install-recommends
</code></pre>
<blockquote>
<p><strong>é‡è¦æç¤º</strong>ï¼šè¿™é‡Œé€šè¿‡ä¸´æ—¶åˆ‡æ¢ Python ç‰ˆæœ¬æ¥è§£å†³ PPA æ·»åŠ æ—¶çš„å…¼å®¹æ€§é—®é¢˜ã€‚é¦–å…ˆåˆ‡æ¢åˆ° Python 3.10 æ‰§è¡Œ <code>add-apt-repository</code>ï¼Œç„¶ååˆ‡å› Python 3.11ã€‚</p>
</blockquote>
<p><a id="user-content-fonts" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h5 data-id="heading-15">ä¸­æ–‡å­—ä½“æ”¯æŒ</h5>
<p>ä¸ºäº†è®©æµè§ˆå™¨æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡ç½‘é¡µï¼Œå¿…é¡»å®‰è£…å­—ä½“åŒ…ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">RUN apt-get update &amp;&amp; apt-get install -y \
    fonts-noto-cjk \
    fonts-noto-color-emoji \
    language-pack-zh-hans \
    locales \
    &amp;&amp; locale-gen zh_CN.UTF-8
</code></pre>
<p><a id="user-content-nodejs-mcp" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-16">Node.js ä¸ MCP å·¥å…·é“¾</h4>
<p><code>chrome-devtools-mcp</code> æ˜¯ä¸€ä¸ª Node.js åº”ç”¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å‡†å¤‡ Node ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># Install Node.js 20.x
RUN mkdir -p /etc/apt/keyrings &amp;&amp; \
    curl -fsSL https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key | gpg --dearmor -o /etc/apt/keyrings/nodesource.gpg &amp;&amp; \
    echo "deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_20.x nodistro main" | tee /etc/apt/sources.list.d/nodesource.list &amp;&amp; \
    apt-get update &amp;&amp; \
    apt-get install -y nodejs &amp;&amp; \
    apt-get clean &amp;&amp; \
    rm -rf /var/lib/apt/lists/*

# Configure npm to use Aliyun mirror
RUN npm config set registry https://registry.npmmirror.com

# Install official MCP servers
RUN npm install -g chrome-devtools-mcp@latest &amp;&amp; \
    npm install -g @modelcontextprotocol/server-filesystem@latest
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šæˆ‘ä»¬åŒæ—¶å®‰è£…äº† <code>chrome-devtools-mcp</code> å’Œ <code>@modelcontextprotocol/server-filesystem</code>ï¼Œåè€…æ˜¯å®˜æ–¹çš„æ–‡ä»¶ç³»ç»Ÿ MCP æœåŠ¡å™¨ï¼Œåœ¨ Supervisor é…ç½®ä¸­ä¹Ÿä¼šç”¨åˆ°ã€‚</p>
</blockquote>
<hr/>
<p><a id="user-content-part-3" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-17">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœåŠ¡ç¼–æ’ âš™ï¸</h3>
<p><a id="user-content-launch-script" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-18">å¯åŠ¨è„šæœ¬ï¼šlaunch_chrome.sh</h4>
<p>ä¸ºäº†ç¡®ä¿ Chrome èƒ½å¤Ÿè¢«è¿œç¨‹æ§åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡è„šæœ¬å¯åŠ¨å®ƒï¼Œå¹¶æ³¨å…¥ç‰¹å®šçš„å‚æ•°ã€‚</p>
<p>åˆ›å»º <code>/usr/local/bin/launch_chrome.sh</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># ç­‰å¾… Xvfb å°±ç»ª</span>
<span class="hljs-built_in">sleep</span> 2

<span class="hljs-comment"># å¯åŠ¨ Chrome (å‰å°è¿è¡Œï¼Œä¸è¦ä½¿ç”¨ &amp;)</span>
<span class="hljs-comment"># æ·»åŠ  --incognito é¿å…å´©æºƒæ¢å¤å¼¹çª—</span>
<span class="hljs-built_in">exec</span> /usr/bin/chromium \
  --no-sandbox \
  --remote-debugging-port=9222 \
  --user-data-dir=/tmp/chrome-profile \
  --disable-gpu \
  --disable-software-rasterizer \
  --incognito \
  --no-first-run \
  --test-type \
  --no-default-browser-check

</code></pre>
<p><a id="user-content-chrome-flags" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h5 data-id="heading-19">å…³é”®å‚æ•°è§£æ</h5>
<ul>
<li><code>--remote-debugging-port=9222</code>: <strong>æœ€å…³é”®çš„å‚æ•°</strong>ã€‚å®ƒè®© Chrome <strong>åœ¨å®¹å™¨å†…éƒ¨ç›‘å¬</strong> CDP ç«¯å£ã€‚<strong>æ³¨æ„ï¼šMCP Server å¹¶ä¸æ˜¯æµè§ˆå™¨æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Node.js è¿›ç¨‹ã€‚</strong> å®ƒéœ€è¦é€šè¿‡è¿™ä¸ªç«¯å£ï¼ˆåŸºäº WebSocket çš„ CDP åè®®ï¼‰è¿æ¥åˆ° Chromeï¼Œæ‰èƒ½æŠŠ AI çš„æŒ‡ä»¤ä¼ è¾¾ç»™æµè§ˆå™¨ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªç«¯å£ï¼ŒMCP Server å°±æ— æ³•æ§åˆ¶ä»»ä½•ä¸œè¥¿ã€‚</li>
<li><code>--no-sandbox</code>: åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ Chrome å¿…é¡»çš„å‚æ•°ï¼ˆå› ä¸º Docker æœ¬èº«å·²ç»æ˜¯æ²™ç›’ï¼‰ã€‚</li>
<li><code>--disable-gpu</code>: åœ¨æ²¡æœ‰ GPU çš„å®¹å™¨ç¯å¢ƒä¸­ï¼Œç¦ç”¨ GPU åŠ é€Ÿå¯ä»¥æé«˜ç¨³å®šæ€§ã€‚</li>
</ul>
<p><a id="user-content-supervisor-config" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-20">Supervisor é…ç½®</h4>
<p>æˆ‘ä»¬éœ€è¦åœ¨ <code>supervisord.conf</code> ä¸­ç®¡ç† Chrome å’Œ MCP Server ä¸¤ä¸ªè¿›ç¨‹ã€‚æ³¨æ„è¿›ç¨‹çš„å¯åŠ¨ä¼˜å…ˆçº§è®¾ç½®ï¼Œç¡®ä¿ä¾èµ–å…³ç³»æ­£ç¡®ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">; Launch Chrome browser with remote debugging</span>
<span class="hljs-section">[program:chrome]</span>
<span class="hljs-attr">command</span>=/usr/local/bin/launch_chrome.sh
<span class="hljs-attr">environment</span>=DISPLAY=<span class="hljs-string">":1"</span>
<span class="hljs-attr">autorestart</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">stdout_logfile</span>=/dev/stdout
<span class="hljs-attr">stdout_logfile_maxbytes</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">stderr_logfile</span>=/dev/stderr
<span class="hljs-attr">stderr_logfile_maxbytes</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">priority</span>=<span class="hljs-number">200</span>
<span class="hljs-attr">startsecs</span>=<span class="hljs-number">10</span>

<span class="hljs-comment">; MCP Chrome DevTools Server (Official - Node.js)</span>
<span class="hljs-section">[program:mcp-chrome]</span>
<span class="hljs-attr">command</span>=/usr/bin/node /usr/lib/node_modules/chrome-devtools-mcp/build/src/index.js --browserUrl http://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">9222</span>
<span class="hljs-attr">directory</span>=/root/shared/workspace
<span class="hljs-attr">environment</span>=DISPLAY=<span class="hljs-string">":1"</span>,NODE_ENV=<span class="hljs-string">"production"</span>
<span class="hljs-attr">autorestart</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">stdout_logfile</span>=/dev/stdout
<span class="hljs-attr">stdout_logfile_maxbytes</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">stderr_logfile</span>=/dev/stderr
<span class="hljs-attr">stderr_logfile_maxbytes</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">priority</span>=<span class="hljs-number">602</span>
<span class="hljs-attr">startsecs</span>=<span class="hljs-number">5</span>
</code></pre>
<p><a id="user-content-process-deps" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h5 data-id="heading-21">è¿›ç¨‹ä¾èµ–ç®¡ç†</h5>
<p>æ³¨æ„ <code>priority</code> çš„è®¾ç½®ï¼ˆå®é™…çš„å®Œæ•´å¯åŠ¨é¡ºåºï¼‰ï¼š</p>
<ul>
<li><code>xvfb</code> (100) å…ˆå¯åŠ¨ï¼Œæä¾›è™šæ‹Ÿæ˜¾ç¤ºç¯å¢ƒã€‚</li>
<li><code>fluxbox</code> (200) å¯åŠ¨çª—å£ç®¡ç†å™¨ã€‚</li>
<li><code>xterm</code> (300) å¯åŠ¨ç»ˆç«¯æ¨¡æ‹Ÿå™¨ã€‚</li>
<li><code>x11vnc</code> (400) å¯åŠ¨ VNC æœåŠ¡å™¨ã€‚</li>
<li><code>websockify</code> (500) å¯åŠ¨ WebSocket ä»£ç†ã€‚</li>
<li><code>mcp-shell</code> (600) å¯åŠ¨ Shell MCP æœåŠ¡å™¨ã€‚</li>
<li><code>mcp-filesystem</code> (601) å¯åŠ¨æ–‡ä»¶ç³»ç»Ÿ MCP æœåŠ¡å™¨ã€‚</li>
<li><code>chrome</code> (200) å¯åŠ¨ Chrome æµè§ˆå™¨ã€‚</li>
<li><code>mcp-chrome</code> (602) å¯åŠ¨ Chrome DevTools MCP æœåŠ¡å™¨ã€‚</li>
<li><code>mcp-manager</code> (603) å¯åŠ¨ Meta-MCP ç®¡ç†å™¨ã€‚</li>
</ul>
<p>Chrome è®¾ç½®ä¸º <code>priority=200</code> æ˜¯ä¸ºäº†ç¡®ä¿å®ƒåœ¨çª—å£ç®¡ç†å™¨ä¹‹åä½†åœ¨å¤§å¤šæ•° MCP æœåŠ¡å™¨ä¹‹å‰å¯åŠ¨ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æœ‰åˆé€‚çš„æ˜¾ç¤ºç¯å¢ƒï¼ŒåŒæ—¶ MCP Chrome æœåŠ¡å™¨ï¼ˆ602ï¼‰ä¼šåœ¨ Chrome ä¹‹åå¯åŠ¨ã€‚</p>
<hr/>
<p><a id="user-content-part-4" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-22">ç¬¬å››éƒ¨åˆ†ï¼šMCPé›†æˆ ğŸ”Œ</h3>
<p><a id="user-content-mcp-config" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-23">chrome-devtools-mcp é…ç½®</h4>
<p><code>chrome-devtools-mcp</code> æ˜¯å®˜æ–¹æä¾›çš„ MCP å®ç°ï¼Œå®ƒå……å½“äº†é€‚é…å™¨çš„è§’è‰²ã€‚</p>
<ul>
<li><strong>è¾“å…¥</strong>ï¼šæ ‡å‡†çš„ MCP åè®®è¯·æ±‚ï¼ˆJSON-RPCï¼‰ã€‚</li>
<li><strong>è¾“å‡º</strong>ï¼šCDP åè®®æŒ‡ä»¤ã€‚</li>
</ul>
<p>åœ¨ Supervisor é…ç½®ä¸­ï¼Œæˆ‘ä»¬æŒ‡å®šäº† <code>--browserUrl http://127.0.0.1:9222</code>ï¼Œè¿™å‘Šè¯‰ MCP Server å»å“ªé‡Œæ‰¾åˆ°æ­£åœ¨è¿è¡Œçš„ Chrome å®ä¾‹ã€‚</p>
<p><a id="user-content-usage-scenarios" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-24">å®é™…åº”ç”¨åœºæ™¯</h4>
<p>å½“ä¸€åˆ‡é…ç½®å°±ç»ªï¼ŒAI Agent å°±å¯ä»¥é€šè¿‡ MCP åè®®è°ƒç”¨ä»¥ä¸‹å·¥å…·ï¼š</p>
<ol>
<li>
<p><strong>Page Navigation</strong>:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"navigate"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>Agent å‘é€æ­¤æŒ‡ä»¤åï¼Œæ²™ç›’ä¸­çš„ Chrome ä¼šè·³è½¬åˆ° GitHubï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ VNC å®æ—¶çœ‹åˆ°é¡µé¢åŠ è½½ã€‚</p>
</li>
<li>
<p><strong>Screenshot</strong>:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"screenshot"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"github_home.png"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>Agent å¯ä»¥æˆªå–å½“å‰é¡µé¢å¹¶ä¿å­˜åˆ°å·¥ä½œåŒºï¼Œä¾¿äºåç»­çš„è§†è§‰åˆ†æã€‚</p>
</li>
<li>
<p><strong>Interaction</strong>:
Agent å¯ä»¥æ¨¡æ‹Ÿç‚¹å‡» (<code>click</code>)ã€è¾“å…¥ (<code>type</code>) å’Œæ»šåŠ¨ (<code>scroll</code>)ï¼ŒåƒçœŸäººä¸€æ ·æ“ä½œç½‘é¡µã€‚</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-25">ç¬¬äº”éƒ¨åˆ†ï¼šéªŒè¯ä¸æµ‹è¯• ğŸ§ª</h3>
<p>ä¸ºäº†éªŒè¯æˆ‘ä»¬çš„ Chrome MCP æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªç®€å•çš„ Python è„šæœ¬ï¼Œé€šè¿‡ <code>docker exec</code> è¿æ¥åˆ°å®¹å™¨å†…çš„ MCP æœåŠ¡ï¼Œå¹¶æ‰§è¡Œå®é™…çš„æµè§ˆå™¨æ“ä½œã€‚</p>
<h4 data-id="heading-26">æµ‹è¯•è„šæœ¬ï¼šdemo_interaction.py</h4>
<p>é¡¹ç›®æä¾›äº†å®Œæ•´çš„ MCP æœåŠ¡å™¨æµ‹è¯•è„šæœ¬ï¼Œå¯ä»¥æµ‹è¯•æ‰€æœ‰ä¸‰ä¸ª MCP æœåŠ¡å™¨ï¼ˆShellã€Filesystemã€Chromeï¼‰çš„åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> base64
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> ClientSession, StdioServerParameters
<span class="hljs-keyword">from</span> mcp.client.stdio <span class="hljs-keyword">import</span> stdio_client

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>():
    <span class="hljs-comment"># 1. é…ç½®è¿æ¥å‚æ•°</span>
    <span class="hljs-comment"># æˆ‘ä»¬é€šè¿‡ docker exec -i è°ƒç”¨å®¹å™¨å†…çš„ MCP Serverï¼Œå¹¶å°†å…¶ stdin/stdout æ˜ å°„å‡ºæ¥</span>
    server_params = StdioServerParameters(
        command=<span class="hljs-string">"docker"</span>,
        args=[
            <span class="hljs-string">"exec"</span>, <span class="hljs-string">"-i"</span>, 
            <span class="hljs-string">"sandbox-chrome"</span>,  <span class="hljs-comment"># ç¡®ä¿ä¸ docker-compose.yml ä¸­çš„ container_name ä¸€è‡´</span>
            <span class="hljs-string">"node"</span>, <span class="hljs-string">"/usr/lib/node_modules/chrome-devtools-mcp/build/src/index.js"</span>,
            <span class="hljs-string">"--browserUrl"</span>, <span class="hljs-string">"http://127.0.0.1:9222"</span>
        ],
        env=<span class="hljs-literal">None</span>
    )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ¤– æ­£åœ¨è¿æ¥åˆ° Chrome MCP æ²™ç›’ç¯å¢ƒ..."</span>)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> stdio_client(server_params) <span class="hljs-keyword">as</span> (read, write):
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession(read, write) <span class="hljs-keyword">as</span> session:
            <span class="hljs-comment"># åˆå§‹åŒ–ä¼šè¯</span>
            <span class="hljs-keyword">await</span> session.initialize()
            
            <span class="hljs-comment"># è·å–å¯ç”¨å·¥å…·åˆ—è¡¨</span>
            tools = <span class="hljs-keyword">await</span> session.list_tools()
            tool_names = [t.name <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> tools.tools]
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… è¿æ¥æˆåŠŸï¼å¯ç”¨å·¥å…·: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(tool_names)}</span> ä¸ª"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   å·¥å…·åˆ—è¡¨: <span class="hljs-subst">{tool_names}</span>"</span>)
            
            <span class="hljs-comment"># ---------------------------------------------------------</span>
            <span class="hljs-comment"># åœºæ™¯ï¼šåœ¨ Baidu æœç´¢ "MCP Protocol" å¹¶æˆªå›¾</span>
            <span class="hljs-comment"># ---------------------------------------------------------</span>
            
            <span class="hljs-comment"># 1. å¯¼èˆªåˆ° Baidu</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸŒ 1. æ­£åœ¨æ‰“å¼€ Baidu (https://www.baidu.com)..."</span>)
            <span class="hljs-comment"># å·¥å…·å: navigate_page</span>
            nav_result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"navigate_page"</span>, arguments={<span class="hljs-string">"url"</span>: <span class="hljs-string">"https://www.baidu.com"</span>})
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   å¯¼èˆªç»“æœ: <span class="hljs-subst">{nav_result}</span>"</span>)
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"   â³ ç­‰å¾… 5 ç§’è®©é¡µé¢åŠ è½½..."</span>)
            <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">5</span>)
            
            <span class="hljs-comment"># æˆªå›¾æŸ¥çœ‹å½“å‰çŠ¶æ€</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¸ 1.5 é¡µé¢åŠ è½½åæˆªå›¾..."</span>)
            <span class="hljs-comment"># ç¡®ä¿ workspace ç›®å½•å­˜åœ¨</span>
            os.makedirs(<span class="hljs-string">"workspace"</span>, exist_ok=<span class="hljs-literal">True</span>)
            
            <span class="hljs-keyword">if</span> <span class="hljs-string">"take_screenshot"</span> <span class="hljs-keyword">in</span> tool_names:
                <span class="hljs-comment"># å¿…é¡»ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå³ä½¿æ˜¯ç©ºçš„</span>
                screenshot_result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"take_screenshot"</span>, arguments={})
                
                img_content = <span class="hljs-literal">None</span>
                <span class="hljs-keyword">for</span> content <span class="hljs-keyword">in</span> screenshot_result.content:
                    <span class="hljs-keyword">if</span> content.<span class="hljs-built_in">type</span> == <span class="hljs-string">"image"</span>:
                        img_content = content
                        <span class="hljs-keyword">break</span>
                    <span class="hljs-keyword">elif</span> content.<span class="hljs-built_in">type</span> == <span class="hljs-string">"text"</span>:
                         <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   æˆªå›¾æ–‡æœ¬ä¿¡æ¯: <span class="hljs-subst">{content.text[:<span class="hljs-number">100</span>]!r}</span>"</span>)
                         <span class="hljs-comment"># å¦‚æœåŒ…å« data:imageï¼Œå¯èƒ½æ˜¯åµŒå…¥åœ¨ text ä¸­çš„</span>
                         <span class="hljs-keyword">if</span> <span class="hljs-string">"data:image"</span> <span class="hljs-keyword">in</span> content.text:
                             img_content = content
                             <span class="hljs-keyword">break</span>
                
                <span class="hljs-keyword">if</span> img_content:
                    <span class="hljs-keyword">try</span>:
                        data = img_content.data <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(img_content, <span class="hljs-string">"data"</span>) <span class="hljs-keyword">else</span> img_content.text
                        <span class="hljs-keyword">if</span> <span class="hljs-string">"data:image"</span> <span class="hljs-keyword">in</span> data <span class="hljs-keyword">and</span> <span class="hljs-string">"base64,"</span> <span class="hljs-keyword">in</span> data:
                             data = data.split(<span class="hljs-string">"base64,"</span>)[<span class="hljs-number">1</span>]
                        
                        <span class="hljs-comment"># è¡¥å…¨ padding</span>
                        padding = <span class="hljs-built_in">len</span>(data) % <span class="hljs-number">4</span>
                        <span class="hljs-keyword">if</span> padding &gt; <span class="hljs-number">0</span>:
                             data += <span class="hljs-string">"="</span> * (<span class="hljs-number">4</span> - padding)
                             
                        filepath = <span class="hljs-string">"workspace/screenshot_step1.png"</span>
                        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> f:
                            f.write(base64.b64decode(data))
                        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   âœ… å·²ä¿å­˜: <span class="hljs-subst">{filepath}</span>"</span>)
                    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   âŒ ä¿å­˜æˆªå›¾å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
                <span class="hljs-keyword">else</span>:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"   âš ï¸ æœªæ‰¾åˆ°å›¾åƒæ•°æ®"</span>)

            <span class="hljs-comment"># 2. è·å–é¡µé¢æ ‡é¢˜ (ä½¿ç”¨ evaluate_script)</span>
            <span class="hljs-keyword">if</span> <span class="hljs-string">"evaluate_script"</span> <span class="hljs-keyword">in</span> tool_names:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“‘ 2. è·å–é¡µé¢æ ‡é¢˜..."</span>)
                <span class="hljs-comment"># å‚æ•°ä¿®æ­£: ä¼ å…¥å®Œæ•´çš„å‡½æ•°å®šä¹‰</span>
                result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"evaluate_script"</span>, arguments={
                    <span class="hljs-string">"function"</span>: <span class="hljs-string">"function() { return document.title; }"</span>
                })
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   é¡µé¢æ ‡é¢˜: <span class="hljs-subst">{result.content}</span>"</span>)

            <span class="hljs-comment"># 3. æ¨¡æ‹Ÿæœç´¢è¾“å…¥ (ä½¿ç”¨ fill å’Œ click å·¥å…·)</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ¨ï¸  3. è¾“å…¥æœç´¢è¯ 'MCP Protocol'..."</span>)
            
            <span class="hljs-keyword">if</span> <span class="hljs-string">"fill"</span> <span class="hljs-keyword">in</span> tool_names:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"   æ­£åœ¨è¾“å…¥å…³é”®è¯..."</span>)
                <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"fill"</span>, arguments={
                    <span class="hljs-string">"selector"</span>: <span class="hljs-string">"#kw"</span>,
                    <span class="hljs-string">"value"</span>: <span class="hljs-string">"MCP Protocol"</span>
                })
            
            <span class="hljs-keyword">if</span> <span class="hljs-string">"click"</span> <span class="hljs-keyword">in</span> tool_names:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"   æ­£åœ¨ç‚¹å‡»æœç´¢æŒ‰é’®..."</span>)
                <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"click"</span>, arguments={
                    <span class="hljs-string">"selector"</span>: <span class="hljs-string">"#su"</span>
                })
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"   â³ ç­‰å¾… 5 ç§’è®©æœç´¢ç»“æœåŠ è½½..."</span>)
            <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">5</span>)

            <span class="hljs-comment"># 4. æœ€ç»ˆæˆªå›¾</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¸ 4. æ­£åœ¨æœ€ç»ˆæˆªå›¾..."</span>)
            <span class="hljs-keyword">if</span> <span class="hljs-string">"take_screenshot"</span> <span class="hljs-keyword">in</span> tool_names:
                <span class="hljs-keyword">try</span>:
                    screenshot_result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"take_screenshot"</span>, arguments={})
                    
                    img_content = <span class="hljs-literal">None</span>
                    <span class="hljs-keyword">for</span> content <span class="hljs-keyword">in</span> screenshot_result.content:
                        <span class="hljs-keyword">if</span> content.<span class="hljs-built_in">type</span> == <span class="hljs-string">"image"</span>:
                            img_content = content
                            <span class="hljs-keyword">break</span>
                        <span class="hljs-keyword">elif</span> content.<span class="hljs-built_in">type</span> == <span class="hljs-string">"text"</span>:
                            <span class="hljs-keyword">if</span> <span class="hljs-string">"data:image"</span> <span class="hljs-keyword">in</span> content.text:
                                img_content = content
                                <span class="hljs-keyword">break</span>
                    
                    <span class="hljs-keyword">if</span> img_content:
                        data = img_content.data <span class="hljs-keyword">if</span> <span class="hljs-built_in">hasattr</span>(img_content, <span class="hljs-string">"data"</span>) <span class="hljs-keyword">else</span> img_content.text
                        <span class="hljs-keyword">if</span> <span class="hljs-string">"data:image"</span> <span class="hljs-keyword">in</span> data <span class="hljs-keyword">and</span> <span class="hljs-string">"base64,"</span> <span class="hljs-keyword">in</span> data:
                             data = data.split(<span class="hljs-string">"base64,"</span>)[<span class="hljs-number">1</span>]
                        
                        padding = <span class="hljs-built_in">len</span>(data) % <span class="hljs-number">4</span>
                        <span class="hljs-keyword">if</span> padding &gt; <span class="hljs-number">0</span>:
                             data += <span class="hljs-string">"="</span> * (<span class="hljs-number">4</span> - padding)
                             
                        filepath = <span class="hljs-string">"workspace/screenshot_final.png"</span>
                        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> f:
                            f.write(base64.b64decode(data))
                        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   âœ… å·²ä¿å­˜: <span class="hljs-subst">{filepath}</span>"</span>)
                    <span class="hljs-keyword">else</span>:
                        <span class="hljs-built_in">print</span>(<span class="hljs-string">"   âš ï¸ æœªæ‰¾åˆ°å›¾åƒæ•°æ®"</span>)
                <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   âŒ æˆªå›¾å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(run())

</code></pre>
<h4 data-id="heading-27">è¿è¡Œæµ‹è¯•</h4>
<p>åœ¨å®¿ä¸»æœºä¸Šè¿è¡Œæ­¤è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¡®ä¿æ²™ç›’æ­£åœ¨è¿è¡Œ</span>
<span class="hljs-built_in">cd</span> sandbox &amp;&amp; docker-compose ps

<span class="hljs-comment"># è¿è¡Œå®Œæ•´æµ‹è¯•ï¼ˆæµ‹è¯•æ‰€æœ‰ MCP æœåŠ¡å™¨ï¼‰</span>
python3 demo_interaction.py


</code></pre>
<p>ä¸æ­¤åŒæ—¶ï¼Œæ‰“å¼€ VNC (<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A6080)%25EF%25BC%258C%25E4%25BD%25A0%25E5%25BA%2594%25E8%25AF%25A5%25E8%2583%25BD%25E7%259C%258B%25E5%2588%25B0" target="_blank" title="http://localhost:6080)%EF%BC%8C%E4%BD%A0%E5%BA%94%E8%AF%A5%E8%83%BD%E7%9C%8B%E5%88%B0" ref="nofollow noopener noreferrer">http://localhost:6080)ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°</a> Chrome æµè§ˆå™¨æ­£åœ¨è¿è¡Œã€‚</p>
<h3 data-id="heading-28"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76fe73e491934c3e83420b8ac6e596c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lik5LiH5LqU5Y2D5Liq5bCP5pe2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769748184&amp;x-signature=ZfCxuh2sT63SxgiTmQ70vqsU9kE%3D" alt="chrome.png" loading="lazy"/></h3>
<p><a id="user-content-faq" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-29">å¸¸è§é—®é¢˜ FAQ</h3>
<p><strong>Q: æˆ‘é€šè¿‡ MCP æ“ä½œæµè§ˆå™¨ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å¼€å¯ CDP ç«¯å£ï¼Ÿ</strong>
A: è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„â€œç¿»è¯‘å®˜â€æ¨¡å‹ã€‚AI åªæ‡‚ MCP åè®®ï¼ŒChrome åªæ‡‚ CDP åè®®ã€‚<code>chrome-devtools-mcp</code> å°±æ˜¯ä¸­é—´çš„ç¿»è¯‘å®˜ã€‚ç¿»è¯‘å®˜å¿…é¡»æ‰‹é‡Œæ‹¿ç€â€œç”µè¯çº¿â€ï¼ˆCDP ç«¯å£ï¼‰æ‰èƒ½è·Ÿ Chrome é€šè¯ã€‚å¦‚æœæ²¡æœ‰å¼€å¯è¿™ä¸ªç«¯å£ï¼ŒMCP Server å³ä½¿æ”¶åˆ°äº† AI çš„æŒ‡ä»¤ï¼Œä¹Ÿæ— æ³•ä¼ é€’ç»™æµè§ˆå™¨æ‰§è¡Œã€‚</p>
<p><strong>Q: ä¸ºä»€ä¹ˆ Dockerfile é‡Œæ²¡æœ‰ EXPOSE 9222 ç«¯å£ï¼Ÿ</strong>
A: å› ä¸º MCP Server å’Œ Chrome è¿è¡Œåœ¨åŒä¸€ä¸ªå®¹å™¨å†…ï¼Œå®ƒä»¬é€šè¿‡å®¹å™¨å†…éƒ¨çš„ <code>localhost:9222</code> é€šä¿¡ã€‚
ä¸ºäº†å®‰å…¨èµ·è§ï¼Œæˆ‘ä»¬ä¸éœ€è¦ï¼ˆä¹Ÿä¸åº”è¯¥ï¼‰æŠŠè¿™ä¸ªè°ƒè¯•ç«¯å£æš´éœ²ç»™å®¿ä¸»æœºæˆ–å…¬ç½‘ã€‚åªæœ‰ MCP Server æœ‰æƒè®¿é—®è¿™ä¸ªç«¯å£ï¼Œè¿™å°±å½¢æˆäº†ä¸€ä¸ªå®‰å…¨çš„è¾¹ç•Œï¼šå¤–éƒ¨åªèƒ½é€šè¿‡å—æ§çš„ MCP åè®®ä¸æµè§ˆå™¨äº¤äº’ã€‚</p>
<p><strong>Q: ä¸ºä»€ä¹ˆä¸ç”¨æ— å¤´æ¨¡å¼ (Headless)ï¼Ÿ</strong>
A: è™½ç„¶æ— å¤´æ¨¡å¼èµ„æºå ç”¨æ›´å°‘ï¼Œä½†ä¸ºäº†è®©ç”¨æˆ·èƒ½é€šè¿‡ VNC "ç›‘å·¥" AI çš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦æœ‰å¤´æ¨¡å¼ (Headed) é…åˆ Xvfbã€‚è¿™æ ·æ—¢èƒ½è¢«ç¨‹åºæ§åˆ¶ï¼Œåˆèƒ½è¢«äººç±»çœ‹è§ã€‚</p>
<p><strong>Q: æµè§ˆå™¨å´©æºƒäº†æ€ä¹ˆåŠï¼Ÿ</strong>
A: Supervisor é…ç½®äº† <code>autorestart=true</code>ï¼Œå¦‚æœ Chrome è¿›ç¨‹æ„å¤–é€€å‡ºï¼Œå®ƒä¼šè¢«è‡ªåŠ¨æ‹‰èµ·ã€‚<code>launch_chrome.sh</code> ä¸­çš„ <code>user-data-dir</code> ä½¿ç”¨ä¸´æ—¶ç›®å½•ï¼Œé¿å…äº†å´©æºƒå Profile é”å®šå¯¼è‡´æ— æ³•å¯åŠ¨çš„é—®é¢˜ã€‚</p>
<p><strong>Q: å¦‚ä½•å¤„ç†éªŒè¯ç ï¼Ÿ</strong>
A: è¿™æ˜¯ä¸€ä¸ªå¤æ‚é—®é¢˜ã€‚ç›®å‰çš„æ²™ç›’ç¯å¢ƒå…è®¸ç”¨æˆ·é€šè¿‡ VNC ä»‹å…¥ã€‚å¦‚æœ AI é‡åˆ°éªŒè¯ç ï¼Œå¯ä»¥æš‚åœå¹¶é€šçŸ¥ç”¨æˆ·ï¼Œç”¨æˆ·é€šè¿‡ VNC æ‰‹åŠ¨è§£å†³åï¼ŒAI ç»§ç»­æ‰§è¡Œã€‚</p>
<hr/>
<h3 data-id="heading-30">ğŸ“ ç»“è¯­</h3>
<p>é€šè¿‡é›†æˆ Chrome å’Œ MCPï¼Œæˆ‘ä»¬çš„æ²™ç›’ç¯å¢ƒè¿›åŒ–æˆäº†ä¸€ä¸ªå…¨èƒ½çš„æ•°å­—å·¥ä½œå°ã€‚ç°åœ¨ï¼ŒAI ä¸ä»…èƒ½å†™ä»£ç ã€è·‘å‘½ä»¤ï¼Œè¿˜èƒ½åƒæˆ‘ä»¬ä¸€æ ·è‡ªç”±åœ°æ¢ç´¢ä¸‡ç»´ç½‘ã€‚</p>
<p>åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ <strong>æ–‡ä»¶ç³»ç»Ÿ MCP</strong> çš„å®ç°ï¼Œçœ‹çœ‹ AI æ˜¯å¦‚ä½•åœ¨è¿™ä¸ªæ²™ç›’ä¸­é«˜æ•ˆåœ°ç®¡ç†é¡¹ç›®æ–‡ä»¶çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 9 ç« ï¼šè®°å¿†æ¶æ„â€”â€”RAG ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7598112768147603462</link>    <guid>https://juejin.cn/post/7598112768147603462</guid>    <pubDate>2026-01-23T05:06:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598112768147603462" data-draft-id="7598103943562149931" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 9 ç« ï¼šè®°å¿†æ¶æ„â€”â€”RAG ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Agent,AIGC"/> <meta itemprop="datePublished" content="2026-01-23T05:06:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ‹åœ†ai"/> <meta itemprop="url" content="https://juejin.cn/user/1451828494217415"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 9 ç« ï¼šè®°å¿†æ¶æ„â€”â€”RAG ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1451828494217415/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ‹åœ†ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:06:01.000Z" title="Fri Jan 23 2026 05:06:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬9ç« ï¼šè®°å¿†æ¶æ„â€”â€”RAG ç³»ç»Ÿ</h2>
<blockquote>
<p><strong>è®°å¿†ç³»ç»Ÿæ˜¯ Agent çš„çµé­‚ã€‚æ²¡æœ‰å®ƒï¼Œæœ€èªæ˜çš„æ¨¡å‹ä¹Ÿåªæ˜¯ä¸€ä¸ªæ‚£äº†å¥å¿˜ç—‡çš„å¤©æ‰â€”â€”æ¯æ¬¡è§é¢ï¼Œä½ éƒ½å¾—é‡æ–°è‡ªæˆ‘ä»‹ç»ã€‚</strong></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1b779bf2e9b4c55ad5406034803fb4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749561&amp;x-signature=K38jSJN9f90VsllXGoT5YUS8D5Q%3D" alt="0001é¡µ.png" loading="lazy"/></p>
<p>ä½ è®© Agent å¸®ä½ ç ”ç©¶äº†ä¸€å‘¨çš„æŠ€æœ¯æ–¹æ¡ˆã€‚ æ¯å¤©éƒ½åœ¨èŠï¼Œè®¨è®ºäº†å‡ åä¸ªç»†èŠ‚ã€‚ä½ ä»¬å¯¹æ¯”äº† MySQL å’Œ PostgreSQL çš„ä¼˜åŠ£ï¼Œè®¨è®ºäº†ç¼“å­˜ç­–ç•¥ï¼Œç”šè‡³äº‰è®ºè¿‡å˜é‡å‘½åè§„èŒƒã€‚ç»ˆäºï¼Œå‘¨äº”ä½ ä»¬æ•²å®šäº†æœ€ç»ˆæ¶æ„ã€‚ å‘¨ä¸€å›æ¥ï¼Œä½ é—®å®ƒï¼šâ€œå’±ä»¬ä¸Šå‘¨é€‰çš„æ–¹æ¡ˆé‡Œï¼Œæ•°æ®åº“ç”¨çš„å“ªä¸ªï¼Ÿâ€ å®ƒå›ç­”ï¼šâ€œæŠ±æ­‰ï¼Œæˆ‘ä¸çŸ¥é“ä½ åœ¨è¯´ä»€ä¹ˆæ–¹æ¡ˆã€‚ä½œä¸ºä¸€ä¸ª AI åŠ©æ‰‹ï¼Œæˆ‘æ²¡æœ‰è¿‡å¾€çš„è®°å¿†ã€‚â€</p>
<p><strong>é‚£ä¸€åˆ»ï¼Œä½ çš„è¡€å‹ä¸€å®šä¸Šæ¥äº†ã€‚</strong> ä¸ä»…ä»…æ˜¯å› ä¸ºæµªè´¹äº† tokenï¼Œæ›´æ˜¯å› ä¸ºè¿™ç§â€œé™Œç”Ÿæ„Ÿâ€ç¬é—´æ‰“ç ´äº†äººæœºåä½œçš„ä¿¡ä»»åŸºçŸ³ã€‚</p>
<p>ä¸Šä¸€ç« è®²çš„ <strong>ä¸Šä¸‹æ–‡çª—å£</strong>ï¼Œè§£å†³çš„æ˜¯ <strong>â€œå·¥ä½œå°â€</strong> ï¼ˆå•æ¬¡å¯¹è¯ï¼‰çš„é—®é¢˜ã€‚ä½†ç”¨æˆ·å…³äº†æµè§ˆå™¨ã€æ¢äº†è®¾å¤‡ã€è¿‡äº†å‡ å¤©å†æ¥ï¼Œé‚£äº›ä¸Šä¸‹æ–‡å°±æ¸…ç©ºäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c21306007a34bd78f6b734717ec99a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749561&amp;x-signature=cCCxFFVa4p%2F2%2BN35cXDaBnrul6s%3D" alt="0002é¡µ.png" loading="lazy"/></p>
<p>çœŸå®åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ Agent åƒä¸€ä¸ªè€æœ‹å‹ä¸€æ ·ï¼š</p>
<ul>
<li><strong>è·¨ä¼šè¯è®°å¿†</strong>ï¼šè®°å¾—ä½ ä¸Šå‘¨åšçš„å†³å®šï¼Œä¸éœ€è¦ä½ é‡å¤è§£é‡ŠèƒŒæ™¯ã€‚</li>
<li><strong>ç”¨æˆ·åå¥½è®°å¿†</strong>ï¼šè®°å¾—ä½ çš„ç¼–ç¨‹ä¹ æƒ¯æ˜¯ Python è¿˜æ˜¯ Goï¼Œè®°å¾—ä½ å–œæ¬¢ç®€çŸ­çš„å›ç­”è¿˜æ˜¯è¯¦å°½çš„è§£é‡Šã€‚</li>
<li><strong>ç»éªŒç§¯ç´¯è®°å¿†</strong>ï¼šè®°å¾—ä¸Šæ¬¡è¿™ä¹ˆåšå¯¼è‡´äº†æŠ¥é”™ï¼Œä¸‹æ¬¡ä¼šè‡ªåŠ¨é¿å‘ï¼Œè€Œä¸æ˜¯åœ¨ä¸€ä¸ªå‘é‡Œè·Œå€’ä¸¤æ¬¡ã€‚</li>
</ul>
<p>æœ¬ç« æˆ‘ä»¬æ¥æ‹†è§£å¦‚ä½•æ„å»ºä¸€å¥— <strong>é•¿æœŸè®°å¿†ç³»ç»Ÿï¼ˆLong-term Memoryï¼‰</strong> ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44551779627b478e9efa2216ccc76bc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749561&amp;x-signature=szQRC%2F8tCbw6aBNz8hvvI3LB%2Fao%3D" alt="0003é¡µ.png" loading="lazy"/></p>
<h3 data-id="heading-1">01. è®°å¿†çš„è®¤çŸ¥æ¨¡å‹ï¼šä¸ä»…ä»…æ˜¯å­˜æ–‡ä»¶</h3>
<p>åœ¨è®¾è®¡ç³»ç»Ÿå‰ï¼Œæˆ‘ä»¬å…ˆå‚è€ƒ <strong>è®¤çŸ¥å¿ƒç†å­¦</strong> å¯¹äººç±»è®°å¿†çš„åˆ†ç±»ã€‚ä¸æ˜¯æ‰€æœ‰æ•°æ®éƒ½è¦å¡è¿›åŒä¸€ä¸ªåœ°æ–¹ï¼Œå°±åƒä½ ä¸ä¼šæŠŠè¶…å¸‚å°ç¥¨å’Œç»“å©šè¯æ”¾åœ¨åŒä¸€ä¸ªæŠ½å±‰é‡Œï¼š</p>



































<table><thead><tr><th>è®°å¿†ç±»å‹</th><th>å¯¹åº”äººç±»å¿ƒæ™º</th><th>å¯¹åº”æŠ€æœ¯å®ç°</th><th>å­˜å‚¨ä»‹è´¨</th></tr></thead><tbody><tr><td><strong>å·¥ä½œè®°å¿†</strong></td><td><strong>å³æ—¶æ„ŸçŸ¥</strong>ï¼šåˆšæ‰è¯´äº†ä»€ä¹ˆï¼Ÿ</td><td>ä¸Šä¸‹æ–‡çª—å£ (Context)</td><td>å†…å­˜ / æ˜¾å­˜</td></tr><tr><td><strong>çŸ­æœŸè®°å¿†</strong></td><td><strong>è¿‘æœŸå›é¡¾</strong>ï¼šè¿™åŠå°æ—¶èŠäº†å•¥ï¼Ÿ</td><td>ä¼šè¯å†å²</td><td>Redis ç¼“å­˜</td></tr><tr><td><strong>é•¿æœŸè®°å¿†</strong></td><td><strong>ç»éªŒç´¯ç§¯</strong>ï¼šè¿™ä¸ªç”¨æˆ·çš„å–œå¥½ï¼Ÿ</td><td>ç»“æ„åŒ–æ•°æ®</td><td>PostgreSQL</td></tr><tr><td><strong>è¯­ä¹‰è®°å¿†</strong></td><td><strong>çŸ¥è¯†å…³è”</strong>ï¼šå†å²ä¸Šæœ‰ç±»ä¼¼æ–¹æ¡ˆå—ï¼Ÿ</td><td>å‘é‡æ£€ç´¢ (RAG)</td><td><strong>å‘é‡æ•°æ®åº“</strong></td></tr></tbody></table>
<p>æœ¬ç« çš„é‡ç‚¹ï¼Œå°±æ˜¯å¦‚ä½•æ‰“é€š <strong>é•¿æœŸè®°å¿†</strong> å’Œ <strong>è¯­ä¹‰è®°å¿†</strong>ï¼Œè®© Agent æ‹¥æœ‰â€œå›æº¯è¿‡å»â€çš„èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-2">02. ä¸ºä»€ä¹ˆä¼ ç»Ÿæ•°æ®åº“æä¸å®šï¼Ÿ</h3>
<p>ä½ å¯èƒ½ä¼šé—®ï¼š <em>â€œæŠŠå†å²è®°å½•å­˜è¿› MySQLï¼Œç”¨ <code>LIKE</code> è¯­å¥æŸ¥ä¸è¡Œå—ï¼Ÿæ—¢ç„¶éƒ½å­˜è¿›å»äº†ï¼Œä¸ºä»€ä¹ˆè¿˜æŸ¥ä¸åˆ°ï¼Ÿâ€</em></p>
<p><strong>ä¸è¡Œã€‚å› ä¸ºäººç±»è¯´è¯æ˜¯ä¸ç²¾ç¡®çš„ï¼Œæ˜¯å……æ»¡æ­§ä¹‰çš„ã€‚</strong></p>
<ul>
<li><strong>å­˜çš„æ—¶å€™</strong>ï¼šä½ å­˜çš„æ˜¯â€œReact ç»„ä»¶<strong>æ¸²æŸ“æ€§èƒ½</strong>ä¼˜åŒ–æ–¹æ¡ˆâ€ã€‚</li>
<li><strong>æŸ¥çš„æ—¶å€™</strong>ï¼šç”¨æˆ·é—®çš„æ˜¯â€œæ€ä¹ˆè®©å‰ç«¯ç•Œé¢<strong>ä¸å¡é¡¿</strong>ï¼Ÿâ€</li>
</ul>
<p>ç”¨ SQL æŸ¥ï¼š<code>WHERE content LIKE '%ä¸å¡é¡¿%'</code> â€”â€” <strong>ç»“æœæ˜¯ 0</strong>ã€‚ è®¡ç®—æœºè®¤ä¸ºâ€œæ¸²æŸ“æ€§èƒ½â€å’Œâ€œä¸å¡é¡¿â€æ˜¯å®Œå…¨ä¸åŒçš„å­—ç¬¦ä¸²ï¼Œä½†åœ¨äººç±»çš„è¯­å¢ƒé‡Œï¼Œå®ƒä»¬æŒ‡çš„æ˜¯åŒä¸€ä»¶äº‹ã€‚</p>
<p>è¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦ <strong>å‘é‡æ•°æ®åº“ï¼ˆVector DBï¼‰</strong> çš„åŸå› ï¼š å®ƒä¸çœ‹å­—é¢ï¼Œçœ‹ <strong>æ„æ€</strong>ã€‚å®ƒèƒ½ç®—å‡ºâ€œæ€§èƒ½ä¼˜åŒ–â€å’Œâ€œä¸å¡é¡¿â€åœ¨æ•°å­¦ç©ºé—´ä¸Šçš„è·ç¦»éå¸¸è¿‘ã€‚å®ƒèƒ½ç†è§£â€œè‹¹æœâ€åœ¨â€œæ°´æœâ€è¯­å¢ƒä¸‹å’Œâ€œæ¢¨â€å¾ˆè¿‘ï¼Œä½†åœ¨â€œç§‘æŠ€â€è¯­å¢ƒä¸‹å’Œâ€œå¾®è½¯â€å¾ˆè¿‘ã€‚è¿™ç§ <strong>æ¨¡ç³ŠåŒ¹é…</strong> èƒ½åŠ›ï¼Œæ˜¯å®ç°äººç±»ç›´è§‰è®°å¿†çš„å…³é”®ã€‚</p>
<h3 data-id="heading-3">03. å­˜å‚¨å±‚æ¶æ„ï¼šä¸‰é©¾é©¬è½¦</h3>
<p>Shannon æ¡†æ¶æ²¡æœ‰æŠŠé¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œï¼Œè€Œæ˜¯é‡‡ç”¨äº† <strong>ä¸‰å±‚å­˜å‚¨æ¶æ„</strong>ï¼Œå„å¸å…¶èŒï¼š</p>
<ol>
<li>
<p><strong>PostgreSQLï¼ˆæˆ–æ˜¯ MySQLï¼‰â€”â€” æ¡£æ¡ˆé¦†</strong></p>
<ul>
<li><strong>å­˜ä»€ä¹ˆ</strong>ï¼šç»å¯¹ä¸èƒ½ä¸¢çš„ç»“æ„åŒ–æ•°æ®ã€‚æ¯”å¦‚ï¼šè°ï¼ˆAgent IDï¼‰åœ¨ä»€ä¹ˆæ—¶å€™ï¼ˆTimeï¼‰æ‰§è¡Œäº†ä»€ä¹ˆæ“ä½œï¼ˆActionï¼‰ã€èŠ±è´¹äº†å¤šå°‘ Tokenã€ä»»åŠ¡çŠ¶æ€æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šå®¡è®¡ã€å›æº¯ã€ç²¾ç¡®æŸ¥è¯¢ã€‚å½“ä½ æƒ³çŸ¥é“â€œä¸Šå‘¨äºŒ Agent ä¸ºä»€ä¹ˆæŠ¥é”™â€æ—¶ï¼Œä½ å»è¿™é‡ŒæŸ¥ã€‚</li>
</ul>
</li>
<li>
<p><strong>Redis â€”â€” è®°äº‹è´´</strong></p>
<ul>
<li><strong>å­˜ä»€ä¹ˆ</strong>ï¼šé«˜é¢‘è¯»å†™çš„çƒ­æ•°æ®ã€‚æ¯”å¦‚ï¼šå½“å‰æ­£åœ¨æ´»è·ƒçš„ä¼šè¯ IDã€å®æ—¶çš„ Token æ¶ˆè€—è®¡æ•°ã€Agent å½“å‰çš„æ€è€ƒçŠ¶æ€ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼šå¿«ã€‚æ¯«ç§’çº§è¯»å†™ï¼Œç”¨å®Œå³å¼ƒã€‚å®ƒä¿è¯äº† Agent åœ¨é«˜å¹¶å‘ä¸‹çš„å“åº”é€Ÿåº¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>Qdrantï¼ˆå‘é‡æ•°æ®åº“ï¼‰â€”â€” è”æƒ³å¤§è„‘</strong></p>
<ul>
<li><strong>å­˜ä»€ä¹ˆ</strong>ï¼šæ‰€æœ‰çš„å¯¹è¯å†å²ã€æ–‡æ¡£æ‘˜è¦ã€çŸ¥è¯†ç‰‡æ®µã€æˆåŠŸçš„ä»£ç ç‰‡æ®µã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼š<strong>è¯­ä¹‰æ£€ç´¢</strong>ã€‚è¿™æ˜¯ Agent çš„æ ¸å¿ƒè®°å¿†åº“ï¼Œè´Ÿè´£â€œè”æƒ³â€å’Œâ€œå›å¿†â€ã€‚</li>
<li><em>æ³¨ï¼šä½ ä¹Ÿå¯ä»¥ç”¨ Milvus, Pinecone, Weaviateï¼Œé€»è¾‘æ˜¯ä¸€æ ·çš„ã€‚</em></li>
</ul>
</li>
</ol>
<h4 data-id="heading-4">å¦ä¸€ç§æµæ´¾ï¼šæœ¬åœ°æ–‡ä»¶å­˜å‚¨</h4>
<p>å¦‚æœä½ çš„ Agent æ˜¯åƒ <strong>Cursor</strong> æˆ– <strong>Claude Code</strong> è¿™æ ·çš„æœ¬åœ°å¼€å‘è€…å·¥å…·ï¼Œè¿˜æœ‰ä¸€ç§è½»é‡çº§åšæ³•ï¼š<strong>ç›´æ¥å­˜æ–‡ä»¶</strong>ã€‚</p>
<ul>
<li><strong>åšæ³•</strong>ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ª <code>.memory.md</code> æˆ– <code>.cursorrules</code> æ–‡ä»¶ã€‚Agent ä¼šå®šæœŸè¯»å–è¿™ä¸ªæ–‡ä»¶æ¥è·å–é¡¹ç›®ç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šé€æ˜ï¼ˆä½ å¯ä»¥ç›´æ¥æ‰“å¼€çœ‹ï¼‰ã€å…è´¹ã€è·Ÿç€ Git ä»“åº“èµ°ï¼ˆå›¢é˜Ÿæˆå‘˜ <code>git pull</code> åè‡ªåŠ¨åŒæ­¥è®°å¿†ï¼‰ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šæ£€ç´¢èƒ½åŠ›å¼±ï¼ˆä¸»è¦é æ­£åˆ™åŒ¹é…æˆ–å…¨æ–‡è¯»å–ï¼‰ï¼Œæ•°æ®é‡å¤§äº†ä¼šæ‹–æ…¢é€Ÿåº¦ï¼Œä¸”éš¾ä»¥å¤„ç†è·¨é¡¹ç›®çš„è®°å¿†å…³è”ã€‚</li>
</ul>
<p>å¯¹äºä¼ä¸šçº§ SaaS åº”ç”¨ï¼Œ<strong>ä¸‰å±‚æ¶æ„</strong> ä¾ç„¶æ˜¯æ ‡å‡†ç­”æ¡ˆï¼›ä½†å¯¹äºå•å…µä½œæˆ˜çš„å¼€å‘è€…å·¥å…·ï¼Œæœ¬åœ°æ–‡ä»¶æ˜¯ä¸€ç§æå®¢ä¸”é«˜æ•ˆçš„é€‰æ‹©ã€‚</p>
<h3 data-id="heading-5">04. è¯­ä¹‰æ£€ç´¢çš„æ ¸å¿ƒæµç¨‹</h3>
<p>å¦‚ä½•è®© Agent â€œæƒ³èµ·æ¥â€ï¼Ÿè¿™åŒ…å«ä¸‰ä¸ªæ­¥éª¤ï¼š<strong>Embeddingã€å­˜å‚¨ã€å¬å›</strong>ã€‚</p>
<h4 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šEmbeddingï¼ˆæŠŠå­—å˜æˆæ•°ï¼‰</h4>
<p>è¿™æ˜¯é­”æ³•å‘ç”Ÿçš„åœ°æ–¹ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¨¡å‹ï¼ˆEmbedding Modelï¼Œå¦‚ OpenAI çš„ <code>text-embedding-3-small</code>ï¼‰ï¼ŒæŠŠæ–‡æœ¬è½¬åŒ–æˆä¸€ä¸²æ•°å­—ï¼ˆå‘é‡ï¼‰ã€‚è¿™ä¸ªå‘é‡å°±æ˜¯è¿™æ®µæ–‡æœ¬åœ¨è¯­ä¹‰ç©ºé—´ä¸­çš„åæ ‡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä¼ªä»£ç æ¼”ç¤º</span>
æ–‡æœ¬<span class="hljs-attr">A</span> = <span class="hljs-string">"React æ€§èƒ½ä¼˜åŒ–"</span>
æ–‡æœ¬<span class="hljs-attr">B</span> = <span class="hljs-string">"æå‡å‰ç«¯æµç•…åº¦"</span>
æ–‡æœ¬<span class="hljs-attr">C</span> = <span class="hljs-string">"Java åç«¯å¼€å‘"</span>

<span class="hljs-comment"># å³ä½¿å­—é¢ä¸Šå®Œå…¨ä¸åŒï¼ŒAå’ŒBåœ¨å‘é‡ç©ºé—´ä¸­è·ç¦»å¾ˆè¿‘</span>
å‘é‡<span class="hljs-attr">A</span> = Model.encode(æ–‡æœ¬A) <span class="hljs-comment"># [0.12, 0.88, ...]</span>
å‘é‡<span class="hljs-attr">B</span> = Model.encode(æ–‡æœ¬B) <span class="hljs-comment"># [0.13, 0.87, ...]</span>
å‘é‡<span class="hljs-attr">C</span> = Model.encode(æ–‡æœ¬C) <span class="hljs-comment"># [0.99, 0.01, ...]</span>

<span class="hljs-comment"># è®¡ç®—ç›¸ä¼¼åº¦ (Cosine Similarity)</span>
ç›¸ä¼¼åº¦(A, B) = 0.92  <span class="hljs-comment"># å¾ˆé«˜ï¼Œè¯´æ˜æ„æ€ç›¸è¿‘ï¼Œæ£€ç´¢æ—¶ä¼šè¢«ä¸€èµ·å¬å›</span>
ç›¸ä¼¼åº¦(A, C) = 0.15  <span class="hljs-comment"># å¾ˆä½ï¼Œè¯´æ˜æ— å…³ï¼Œä¼šè¢«è¿‡æ»¤æ‰</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d86c3ac7c0d4fb284c6358429dbdaf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749561&amp;x-signature=S%2FuaoEhhTDlKpE%2FhxkqkmND8x%2Fc%3D" alt="0007é¡µ.png" loading="lazy"/></p>
<h4 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šåˆ†å±‚å¬å›ç­–ç•¥</h4>
<p>Agent å›å¿†å¾€äº‹æ—¶ï¼Œä¸èƒ½åªæä¸€ç“¢æ°´ã€‚å¦‚æœä½ åªæŸ¥å‘é‡åº“ï¼ŒAgent å¯èƒ½ä¼šçªç„¶è¯´å‡ºä¸€å¥å‡ å¹´å‰çš„è¯ï¼Œå¯¼è‡´å¯¹è¯ç²¾ç¥åˆ†è£‚ã€‚Shannon é‡‡ç”¨äº† <strong>åˆ†å±‚å¬å›ï¼ˆHierarchical Retrievalï¼‰</strong> ç­–ç•¥ï¼Œæ··åˆäº†ä¸‰ç§æ¥æºï¼š</p>
<ol>
<li>
<p><strong>è¿‘æœŸï¼ˆRecentsï¼‰â€”â€” ä¿æŒè¿è´¯</strong></p>
<ul>
<li><strong>æ¥æº</strong>ï¼šRedis ç¼“å­˜ã€‚</li>
<li><strong>é€»è¾‘</strong>ï¼šå–æœ€è¿‘ 5-10 è½®å¯¹è¯ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šæŒ‡ä»£æ¶ˆè§£é—®é¢˜ã€‚å½“ç”¨æˆ·è¯´â€œä¿®æ”¹ä¸€ä¸‹åˆšæ‰é‚£ä¸ªå˜é‡â€æ—¶ï¼ŒAgent å¿…é¡»ä»è¿™é‡ŒçŸ¥é“â€œé‚£ä¸ªå˜é‡â€æŒ‡çš„æ˜¯ä»€ä¹ˆã€‚</li>
</ul>
</li>
<li>
<p><strong>è¯­ä¹‰ï¼ˆSemanticï¼‰â€”â€” æ¿€æ´»çŸ¥è¯†</strong></p>
<ul>
<li><strong>æ¥æº</strong>ï¼šå‘é‡æ•°æ®åº“ã€‚</li>
<li><strong>é€»è¾‘</strong>ï¼šæŠŠç”¨æˆ·å½“å‰çš„é—®é¢˜å˜æˆå‘é‡ï¼Œå»å†å²åº“é‡Œæœ <strong>æœ€ç›¸ä¼¼</strong> çš„ 3-5 æ¡ç‰‡æ®µã€‚</li>
<li><strong>è§£å†³</strong>ï¼šè·¨ä¼šè¯çš„çŸ¥è¯†å¤ç”¨ã€‚æ¯”å¦‚ç”¨æˆ·é—®â€œé…ç½®æŠ¥é”™äº†â€ï¼ŒAgent èƒ½è”æƒ³èµ·ä¸‰å¤©å‰å¤„ç†è¿‡ç±»ä¼¼çš„æŠ¥é”™ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‘˜è¦ï¼ˆSummaryï¼‰â€”â€” å®è§‚èƒŒæ™¯</strong></p>
<ul>
<li><strong>æ¥æº</strong>ï¼šå‘é‡æ•°æ®åº“æˆ– PGã€‚</li>
<li><strong>é€»è¾‘</strong>ï¼šä¸Šä¸€ç« æåˆ°çš„â€œé•¿å¯¹è¯å‹ç¼©æ‘˜è¦â€ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šå¿«é€Ÿè·å–å®è§‚èƒŒæ™¯ã€‚æ¯”å¦‚â€œç”¨æˆ·æ­£åœ¨è¿›è¡Œä¸€ä¸ªç”µå•†ç³»ç»Ÿçš„é‡æ„é¡¹ç›®â€ï¼Œè¿™ä¸ªèƒŒæ™¯ä¿¡æ¯å¯¹æ¯ä¸€æ¬¡å›ç­”éƒ½è‡³å…³é‡è¦ã€‚</li>
</ul>
</li>
</ol>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¼ªä»£ç ï¼šæ··åˆæ£€ç´¢é€»è¾‘</span>
func å¬å›è®°å¿†(ç”¨æˆ·é—®é¢˜):
    è®°å¿†åˆ—è¡¨ = []

    <span class="hljs-comment">// 1. å…ˆçœ‹æœ€è¿‘è¯´äº†å•¥ (Redis)</span>
    è®°å¿†åˆ—è¡¨.<span class="hljs-keyword">add</span>(Redis.GetLast(<span class="hljs-number">5</span>))

    <span class="hljs-comment">// 2. å†è”æƒ³ä»¥å‰è¯´è¿‡å•¥ (VectorDB)</span>
    å‘é‡ = Embedding(ç”¨æˆ·é—®é¢˜)
    å†å²ç‰‡æ®µ = VectorDB.Search(å‘é‡, TopK=<span class="hljs-number">3</span>, é˜ˆå€¼=<span class="hljs-number">0.7</span>)
    è®°å¿†åˆ—è¡¨.<span class="hljs-keyword">add</span>(å†å²ç‰‡æ®µ)

    <span class="hljs-comment">// 3. çœ‹çœ‹æœ‰æ²¡æœ‰ç›¸å…³çš„æ€»ç»“ (Summary)</span>
    è®°å¿†åˆ—è¡¨.<span class="hljs-keyword">add</span>(VectorDB.SearchSummary(å‘é‡, TopK=<span class="hljs-number">2</span>))

    <span class="hljs-comment">// å…³é”®æ­¥éª¤ï¼šå»é‡å’Œé‡æ’åº</span>
    <span class="hljs-comment">// é˜²æ­¢æœ€è¿‘çš„å¯¹è¯å’Œæ£€ç´¢åˆ°çš„å†å²é‡å¤ï¼Œæµªè´¹ Token</span>
    <span class="hljs-keyword">return</span> å»é‡(è®°å¿†åˆ—è¡¨)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/347d9c58183d4b41b35085a8a690bd0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749561&amp;x-signature=W3jyILcmc3HVrtNZH8nlN3zGuP4%3D" alt="0008é¡µ.png" loading="lazy"/></p>
<h3 data-id="heading-8">05. æ•°æ®æ²»ç†ï¼šä¸è¦å¾€å¤§è„‘é‡Œå¡åƒåœ¾</h3>
<p>å¦‚æœä½ æŠŠæ‰€æœ‰å¯¹è¯ä¸åšå¤„ç†ç›´æ¥å­˜è¿›å»ï¼ŒAgent å¾ˆå¿«å°±ä¼šâ€œè„‘å®¹é‡çˆ†ç‚¸â€ï¼Œç”šè‡³å‡ºç°ç²¾ç¥é”™ä¹±ã€‚è®°å¿†ç³»ç»Ÿéœ€è¦ <strong>æ¸…æ´—</strong> å’Œ <strong>æ²»ç†</strong>ã€‚</p>
<h4 data-id="heading-9">1. æ™ºèƒ½å»é‡</h4>
<p>ç”¨æˆ·ç»å¸¸é‡å¤é—®åŒä¸€ä¸ªé—®é¢˜ï¼Œæˆ–è€…åœ¨è°ƒè¯•æ—¶åå¤ç²˜è´´ç›¸åŒçš„æŠ¥é”™æ—¥å¿—ã€‚å­˜çš„æ—¶å€™è¦æ£€æŸ¥ï¼š</p>
<ul>
<li>å¦‚æœåº“é‡Œå·²ç»æœ‰ä¸€æ¡ç›¸ä¼¼åº¦ &gt; 0.95 çš„è®°å½•ï¼Œ<strong>ç›´æ¥ä¸¢å¼ƒ</strong>ï¼Œä¸å­˜å‰¯æœ¬ã€‚è¿™ä¸ä»…èŠ‚çœäº†å­˜å‚¨ç©ºé—´ï¼Œæ›´é‡è¦çš„æ˜¯é¿å… Agent åœ¨æ£€ç´¢æ—¶æœå‡ºä¸€å †ä¸€æ¨¡ä¸€æ ·çš„åºŸè¯ã€‚</li>
</ul>
<h4 data-id="heading-10">2. æ–‡æœ¬åˆ†å—ï¼ˆChunkingï¼‰</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8cf0f88606645af956532229e920543~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749561&amp;x-signature=IOWcKRtfOIcLtf4fiVuJor5kluY%3D" alt="0009é¡µ.png" loading="lazy"/></p>
<p>ä¸€ä¸ªå›ç­”å¯èƒ½æ´‹æ´‹æ´’æ´’å‡ åƒå­—ã€‚å¦‚æœç›´æ¥å­˜æˆä¸€ä¸ªå‘é‡ï¼Œæ–‡æœ¬çš„ç‰¹å¾ä¼šè¢«ç¨€é‡Šï¼ˆEmbedding Dilutionï¼‰ï¼Œå¯¼è‡´æ£€ç´¢æ•ˆæœå¾ˆå·®ã€‚</p>
<ul>
<li>
<p><strong>ç­–ç•¥</strong>ï¼šåˆ‡æˆå°å—ï¼ˆæ¯”å¦‚ 500 Token ä¸€å—ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å…³é”®ç‚¹</strong>ï¼š<strong>é‡å åˆ‡åˆ†ï¼ˆOverlapï¼‰</strong> ã€‚å—ä¸å—ä¹‹é—´ä¿ç•™ 100 Token çš„é‡å ã€‚</p>
<ul>
<li><em>ä¸ºä»€ä¹ˆè¦é‡å ï¼Ÿ</em> é˜²æ­¢æŠŠä¸€å¥è¯åˆ‡æ–­äº†ã€‚æ¯”å¦‚â€œå¯†ç æ˜¯...â€åˆ‡åœ¨ç¬¬ä¸€å—ï¼Œâ€œ...123456â€åˆ‡åœ¨ç¬¬äºŒå—ï¼Œé‚£ Agent å°±æ°¸è¿œä¹Ÿæ‹¼å‡‘ä¸å‡ºå®Œæ•´çš„å¯†ç ä¿¡æ¯äº†ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">3. åƒåœ¾è¿‡æ»¤</h4>
<ul>
<li><strong>é—²èŠè¿‡æ»¤</strong>ï¼šâ€œä½ å¥½â€ã€â€œåœ¨å—â€ã€â€œå“ˆå“ˆâ€ã€â€œè°¢è°¢â€ â€”â€” è¿™äº›æ²¡è¥å…»çš„é—²èŠï¼Œæ£€æµ‹åˆ°åç›´æ¥è¿‡æ»¤ï¼Œ<strong>ä¸å…¥åº“</strong>ã€‚</li>
<li><strong>å™ªéŸ³è¿‡æ»¤</strong>ï¼šæŠ¥é”™å †æ ˆã€ä¹±ç  â€”â€” é™¤éæ˜¯ä¸“é—¨çš„è°ƒè¯• Agentï¼Œå¦åˆ™å¤§æ®µçš„æŠ¥é”™æ—¥å¿—åªä¼šæ±¡æŸ“è¯­ä¹‰ç©ºé—´ï¼Œè®©æ£€ç´¢å‡†ç¡®ç‡ä¸‹é™ã€‚</li>
</ul>
<h3 data-id="heading-12">06. è¿›é˜¶ï¼šå­¦ä¹ â€œç­–ç•¥â€ï¼Œè€Œä¸ä»…ä»…æ˜¯â€œçŸ¥è¯†â€</h3>
<p>é«˜çº§çš„è®°å¿†ç³»ç»Ÿï¼Œä¸ä»…èƒ½è®°ä½ <strong>Factï¼ˆäº‹å®ï¼‰</strong> ï¼Œè¿˜èƒ½è®°ä½ <strong>Patternï¼ˆæ¨¡å¼ï¼‰</strong> ã€‚è¿™æ‰æ˜¯ Agent è‡ªæˆ‘è¿›åŒ–çš„å…³é”®ã€‚</p>
<h4 data-id="heading-13">æˆåŠŸæ¨¡å¼è®°å¿†</h4>
<p>å½“ Agent æˆåŠŸè§£å†³äº†ä¸€ä¸ªå¤æ‚ä»»åŠ¡ï¼ˆæ¯”å¦‚â€œä¼˜åŒ– API å“åº”é€Ÿåº¦â€ï¼‰ï¼Œç³»ç»Ÿåº”è¯¥æŠŠè¿™æ¬¡çš„ <strong>è§£é¢˜æ€è·¯ï¼ˆChain of Thoughtï¼‰</strong> æç‚¼å‡ºæ¥å­˜å¥½ã€‚</p>
<ul>
<li><strong>å­˜ä»€ä¹ˆ</strong>ï¼šä¸æ˜¯å­˜ä»£ç æœ¬èº«ï¼Œè€Œæ˜¯å­˜â€œé—®é¢˜ç±»å‹â€ -&gt; â€œè§£å†³ç­–ç•¥â€ã€‚</li>
<li><strong>æ€ä¹ˆç”¨</strong>ï¼šä¸‹ä¸€æ¬¡é‡åˆ°ç±»ä¼¼ä»»åŠ¡ï¼ŒAgent ä¸å†æ˜¯ä»é›¶æ€è€ƒï¼Œè€Œæ˜¯æ£€ç´¢åˆ°äº†ä¸€ä¸ª <strong>æˆåŠŸæ¡ˆä¾‹æ¨¡æ¿</strong>ã€‚</li>
</ul>
<blockquote>
<p><em>â€œå›å¿†èµ·ä¸Šæ¬¡å¤„ç†ç±»ä¼¼é—®é¢˜ï¼ˆAPI å»¶è¿Ÿé«˜ï¼‰ï¼Œæˆ‘é‡‡ç”¨äº†â€˜å¹¶è¡ŒåŒ– IO + Redis ç¼“å­˜â€™çš„ç­–ç•¥ï¼ŒæˆåŠŸç‡ 90%ï¼Œå»ºè®®ä¼˜å…ˆå°è¯•ã€‚â€</em></p>
</blockquote>
<h4 data-id="heading-14">å¤±è´¥æ•™è®­è®°å¿†</h4>
<p>åŒæ ·ï¼Œå¦‚æœæŸä¸ªæ“ä½œå¯¼è‡´äº†å´©æºƒï¼Œä¹Ÿåº”è¯¥è®°ä¸‹æ¥ã€‚</p>
<blockquote>
<p><em>â€œè­¦å‘Šï¼šä¸Šæ¬¡åœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥è¿è¡Œ <code>DROP TABLE</code> å¯¼è‡´äº†æœåŠ¡ä¸­æ–­ã€‚å»ºè®®å…ˆå¤‡ä»½æ•°æ®ã€‚â€</em></p>
</blockquote>
<p>è¿™æ‰æ˜¯ Agent ä»â€œæ–°æ‰‹â€è¿›åŒ–ä¸ºâ€œä¸“å®¶â€çš„å…³é”®â€”â€”å®ƒå¼€å§‹æ‹¥æœ‰äº†ç»éªŒã€‚</p>
<h3 data-id="heading-15">07. éšç§ä¸å®‰å…¨ï¼šè®°å¿†çš„çº¢çº¿</h3>
<p>è®°å¿†ç³»ç»Ÿå­˜å‚¨çš„æ˜¯ç”¨æˆ·æœ€ç§å¯†çš„æ•°æ®ã€‚è¿™é‡Œæœ‰ä¸¤æ¡ä¸å¯é€¾è¶Šçš„çº¢çº¿ï¼š</p>
<ol>
<li>
<p><strong>PII è„±æ•ï¼ˆéšç§æ¸…æ´—ï¼‰</strong> åœ¨ Embedding å’Œå­˜å‚¨ä¹‹å‰ï¼Œå¿…é¡»é€šè¿‡æ­£åˆ™æˆ–ä¸“ç”¨æ¨¡å‹ï¼ŒæŠŠ <strong>æ‰‹æœºå·ã€é‚®ç®±ã€API Keyã€å¯†ç ã€IP åœ°å€</strong> å…¨éƒ¨æ›¿æ¢ä¸º <code>[REDACTED]</code>ã€‚</p>
<ul>
<li><strong>åæœ</strong>ï¼šå¦‚æœä½ æŠŠç”¨æˆ·çš„ API Key å­˜è¿›äº†å‘é‡åº“ï¼Œä¸€æ—¦è¢« Prompt Injectionï¼ˆæç¤ºè¯æ³¨å…¥ï¼‰æ”»å‡»å¥—å‡ºæ¥ï¼Œå°±æ˜¯é‡å¤§å®‰å…¨äº‹æ•…ã€‚ä¸è¦å¿ƒå­˜ä¾¥å¹¸ï¼ŒPrompt æ³„éœ²æ˜¯è¿Ÿæ—©çš„äº‹ï¼Œæ•°æ®æœ¬èº«çš„å®‰å…¨æ€§æ‰æ˜¯åº•çº¿ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç§Ÿæˆ·éš”ç¦»ï¼ˆTenant Isolationï¼‰</strong> åœ¨æŸ¥è¯¢å‘é‡åº“æ—¶ï¼Œ<strong>å¿…é¡»</strong> å¸¦ä¸Šç§Ÿæˆ·è¿‡æ»¤å™¨ï¼ˆFilterï¼‰ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">filter</span>: {
    "must": [
        { "key": <span class="hljs-string">"tenant_id"</span>, <span class="hljs-string">"match"</span>: { "value": <span class="hljs-string">"company_A"</span> } }
    ]
}
</code></pre>
<ul>
<li><strong>åæœ</strong>ï¼šç»å¯¹ä¸èƒ½å‡ºç° A å…¬å¸çš„å‘˜å·¥é—®â€œå’±ä»¬è´¢æŠ¥æ€ä¹ˆæ ·â€ï¼ŒAgent æŸ¥åˆ°äº† B å…¬å¸å­˜çš„è´¢æŠ¥æ•°æ®ã€‚è¿™æ˜¯å¤šç§Ÿæˆ·ç³»ç»Ÿçš„ç”Ÿæ­»çº¿ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-16">æ€»ç»“</h3>
<p>è®°å¿†æ¶æ„çš„æ ¸å¿ƒï¼Œæ˜¯è§£å†³ <strong>è¿è´¯æ€§</strong> å’Œ <strong>æˆé•¿æ€§</strong> çš„é—®é¢˜ã€‚</p>
<ul>
<li><strong>ä¸‰å±‚å­˜å‚¨</strong>ï¼šPGï¼ˆå½’æ¡£ï¼‰+ Redisï¼ˆç¼“å­˜ï¼‰+ VectorDBï¼ˆè”æƒ³ï¼‰ï¼Œæ„å»ºäº†ç«‹ä½“çš„è®°å¿†ä»“åº“ã€‚</li>
<li><strong>æ··åˆæ£€ç´¢</strong>ï¼šè¿‘æœŸ + è¯­ä¹‰ + æ‘˜è¦ï¼Œå…¨æ–¹ä½è¿˜åŸä¸Šä¸‹æ–‡ï¼Œæ—¢ä¸å¿˜åˆå¿ƒï¼Œä¹Ÿæ´»åœ¨å½“ä¸‹ã€‚</li>
<li><strong>æ•°æ®æ¸…æ´—</strong>ï¼šå»é‡ã€åˆ†å—ã€è¿‡æ»¤ï¼Œä¿è¯è®°å¿†åº“çš„è´¨é‡ï¼Œé˜²æ­¢åƒåœ¾è¿›åƒåœ¾å‡ºã€‚</li>
</ul>
<p>æœ‰äº†è¿™å¥—ç³»ç»Ÿï¼Œä½ çš„ Agent å°±ä¸å†æ˜¯ä¸€ä¸ªæ¯æ¬¡éƒ½è¦é‡å¯çš„â€œæ— çŠ¶æ€è„šæœ¬â€ï¼Œè€Œæ˜¯ä¸€ä¸ªæ‹¥æœ‰ç»éªŒã€æ‡‚å¾—å›æº¯ã€è¶Šç”¨è¶Šé¡ºæ‰‹çš„ <strong>â€œæœ‰çŠ¶æ€ç”Ÿå‘½ä½“â€</strong> ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2498c73490344d51a2e53782c8d33177~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749561&amp;x-signature=LMwAh7Ki29%2Bja8BYngeWKl3OCL4%3D" alt="0014é¡µ.png" loading="lazy"/></p>
<p><strong>ä¸‹ä¸€ç« é¢„å‘Š</strong></p>
<p>è§£å†³äº†è®°å¿†é—®é¢˜ï¼ŒAgent å·²ç»å¾ˆèªæ˜äº†ã€‚ä½†å¦‚æœå®ƒéœ€è¦å’Œå…¶ä»– Agent åä½œï¼Œæˆ–è€…éœ€è¦å¤„ç†ä¸€ä¸ªè€—æ—¶ä¸‰å¤©çš„ä»»åŠ¡ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ ä¸‹ä¸€ç« æˆ‘ä»¬èŠ <strong>å¤šè½®å¯¹è¯ä¸çŠ¶æ€æœº</strong> â€”â€” å¦‚ä½•è®© Agent åœ¨æ¼«é•¿çš„ä»»åŠ¡ä¸­ä¿æŒèŠ‚å¥ï¼Œä¸è¿·è·¯ã€ä¸å¡æ­»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Manusä¹Ÿåœ¨ç”¨çš„æ²™ç›’E2B--å¯å…è´¹è¯•ç”¨]]></title>    <link>https://juejin.cn/post/7598103558886883374</link>    <guid>https://juejin.cn/post/7598103558886883374</guid>    <pubDate>2026-01-23T05:27:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598103558886883374" data-draft-id="7598130716339732518" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Manusä¹Ÿåœ¨ç”¨çš„æ²™ç›’E2B--å¯å…è´¹è¯•ç”¨"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-23T05:27:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AGIæ‚è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/1224198345736506"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Manusä¹Ÿåœ¨ç”¨çš„æ²™ç›’E2B--å¯å…è´¹è¯•ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1224198345736506/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AGIæ‚è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:27:05.000Z" title="Fri Jan 23 2026 05:27:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>E2Bï¼ˆThe Enterprise AI Agent Cloudï¼‰</strong> æ˜¯ä¸€ä¸ªä¸“ä¸º AI Agent è®¾è®¡çš„å®‰å…¨ä»£ç æ‰§è¡Œå¹³å°ã€‚å®ƒæä¾›ï¼š</p>
<ul>
<li><strong>å®Œå…¨éš”ç¦»çš„äº‘ç«¯ Sandbox</strong>ï¼šä½¿ç”¨ Firecracker microVM æŠ€æœ¯å®ç°ç¡¬ä»¶çº§éš”ç¦»</li>
<li><strong>æ¯«ç§’çº§å¯åŠ¨</strong>ï¼šçº¦ 150ms å¯åŠ¨æ—¶é—´ï¼Œå‡ ä¹æ— å»¶è¿Ÿ</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šPythonã€JavaScript/TypeScript SDK</li>
<li><strong>å¼€ç®±å³ç”¨çš„å·¥å…·</strong>ï¼šPythonã€Node.jsã€æµè§ˆå™¨ç­‰é¢„é…ç½®ç¯å¢ƒ</li>
<li><strong>ä¼ä¸šçº§å®‰å…¨</strong>ï¼šè¢« 88% çš„è´¢å¯Œ 100 å¼ºå…¬å¸ä½¿ç”¨</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>AI ç”Ÿæˆçš„ä»£ç æ‰§è¡Œ</li>
<li>æ•°æ®åˆ†æå’Œå¤„ç†</li>
<li>æ–‡ä»¶å¤„ç†å’Œè½¬æ¢</li>
<li>API æµ‹è¯•å’Œé›†æˆ</li>
<li>è‡ªä¸» AI Agent åº”ç”¨</li>
</ul>
<hr/>
<h2 data-id="heading-0">ç¯å¢ƒå‡†å¤‡ä¸å®‰è£…</h2>
<h3 data-id="heading-1">å‰ç½®è¦æ±‚</h3>
<ul>
<li><strong>Python</strong>ï¼š3.8 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li><strong>Node.js</strong>ï¼š16 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆå¦‚æœä½¿ç”¨ JavaScript SDKï¼‰</li>
<li><strong>E2B API Key</strong>ï¼šéœ€è¦æ³¨å†Œè·å–</li>
</ul>
<h3 data-id="heading-2">æ­¥éª¤ 1ï¼šæ³¨å†Œ E2B è´¦å·</h3>
<ol start="0">
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fe2b.dev%2F" target="_blank" title="https://e2b.dev/" ref="nofollow noopener noreferrer">E2B å®˜ç½‘</a></li>
<li>ç‚¹å‡»"Sign Up"æ³¨å†Œè´¦å·</li>
<li>ç™»å½•åè·å– API Keyï¼ˆå¯åœ¨ Dashboard ä¸­æ‰¾åˆ°ï¼‰</li>
</ol>
<h3 data-id="heading-3">æ­¥éª¤ 2ï¼šå®‰è£… Python SDK</h3>
<pre><code class="hljs language-css" lang="css">pip install e2b-<span class="hljs-selector-tag">code</span>-interpreter
</code></pre>
<p>æˆ–è€…å®‰è£…æ ‡å‡† SDKï¼š</p>
<pre><code class="hljs">pip install e2b
</code></pre>
<h3 data-id="heading-4">æ­¥éª¤ 3ï¼šé…ç½®ç¯å¢ƒå˜é‡</h3>
<p><strong>Linux/Mac:</strong></p>
<pre><code class="hljs language-ini" lang="ini">export <span class="hljs-attr">E2B_API_KEY</span>=<span class="hljs-string">"your_api_key_here"</span>
</code></pre>
<p><strong>Windows (PowerShell):</strong></p>
<pre><code class="hljs language-ini" lang="ini">$env:<span class="hljs-attr">E2B_API_KEY</span>=<span class="hljs-string">"your_api_key_here"</span>
</code></pre>
<p><strong>æˆ–åœ¨ä»£ç ä¸­è®¾ç½®:</strong></p>
<pre><code class="hljs language-lua" lang="lua">import <span class="hljs-built_in">os</span>
<span class="hljs-built_in">os</span>.environ[<span class="hljs-string">"E2B_API_KEY"</span>] = <span class="hljs-string">"your_api_key_here"</span>
</code></pre>
<h3 data-id="heading-5">æ­¥éª¤ 4ï¼šéªŒè¯å®‰è£…</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> e2b_code_interpreter <span class="hljs-keyword">import</span> Sandbox
â€‹
<span class="hljs-comment"># æµ‹è¯•è¿æ¥</span>
sandbox = Sandbox()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Sandbox ID: <span class="hljs-subst">{sandbox.sandbox_id}</span>"</span>)
sandbox.kill()
</code></pre>
<p>å¦‚æœæˆåŠŸæ‰“å°å‡º Sandbox IDï¼Œè¯´æ˜å®‰è£…é…ç½®æ­£ç¡®ï¼</p>
<hr/>
<h2 data-id="heading-6">å¿«é€Ÿå…¥é—¨</h2>
<h3 data-id="heading-7">ç¤ºä¾‹ 1ï¼šæ‰§è¡Œ Python ä»£ç </h3>
<pre><code class="hljs language-ini" lang="ini">from e2b_code_interpreter import Sandbox
â€‹
<span class="hljs-comment"># åˆ›å»º Sandbox å®ä¾‹</span>
<span class="hljs-attr">sandbox</span> = Sandbox()
â€‹
<span class="hljs-comment"># æ‰§è¡Œ Python ä»£ç </span>
<span class="hljs-attr">result</span> = sandbox.notebook.exec_cell(<span class="hljs-string">"print('Hello from E2B Sandbox!')"</span>)
â€‹
<span class="hljs-comment"># æŸ¥çœ‹ç»“æœ</span>
print(result)
<span class="hljs-comment"># è¾“å‡ºï¼šExecutionResult(stdout='Hello from E2B Sandbox!\n', stderr='', error=None)</span>
â€‹
<span class="hljs-comment"># å…³é—­ Sandbox</span>
sandbox.kill()
</code></pre>
<h3 data-id="heading-8">ç¤ºä¾‹ 2ï¼šæ•°å­¦è®¡ç®—</h3>
<pre><code class="hljs language-ini" lang="ini">from e2b_code_interpreter import Sandbox
â€‹
<span class="hljs-attr">sandbox</span> = Sandbox()
â€‹
<span class="hljs-comment"># æ‰§è¡Œæ•°å­¦è¿ç®—</span>
<span class="hljs-attr">code</span> = <span class="hljs-string">"""
import math
result = math.sqrt(16) + math.pi
print(f"è®¡ç®—ç»“æœ: {result:.2f}")
"""</span>
â€‹
<span class="hljs-attr">execution</span> = sandbox.notebook.exec_cell(code)
print(execution.stdout)
â€‹
sandbox.kill()
<span class="hljs-comment"># è¾“å‡ºï¼šè®¡ç®—ç»“æœ: 7.14</span>
</code></pre>
<h3 data-id="heading-9">ç¤ºä¾‹ 3ï¼šä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">from</span> e2b_code_interpreter import Sandbox
â€‹
<span class="hljs-meta"># ä½¿ç”¨ with è¯­å¥è‡ªåŠ¨ç®¡ç†èµ„æº</span>
<span class="hljs-function"><span class="hljs-keyword">with</span> <span class="hljs-title">Sandbox</span>() <span class="hljs-keyword">as</span> sandbox:
 Â  Â result</span> = sandbox.notebook.exec_cell(<span class="hljs-string">"2 + 2"</span>)
 Â  Â print(result.stdout)
 Â  Â <span class="hljs-meta"># Sandbox ä¼šè‡ªåŠ¨å…³é—­</span>
â€‹
<span class="hljs-meta"># æ— éœ€æ‰‹åŠ¨è°ƒç”¨ sandbox.kill()</span>
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼šå³ä½¿å‘ç”Ÿå¼‚å¸¸ï¼ŒSandbox ä¹Ÿä¼šæ­£ç¡®å…³é—­ã€‚</p>
<hr/>
<h2 data-id="heading-10">åŸºç¡€æŠ€èƒ½ï¼šä»£ç æ‰§è¡Œ</h2>
<h3 data-id="heading-11">å¤„ç†ä»£ç è¾“å‡º</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> e2b_code_interpreter <span class="hljs-keyword">import</span> Sandbox
â€‹
<span class="hljs-keyword">with</span> Sandbox() <span class="hljs-keyword">as</span> sandbox:
 Â  Â <span class="hljs-comment"># æ‰§è¡Œä»£ç </span>
 Â  Â result = sandbox.notebook.exec_cell(<span class="hljs-string">"""
x = 10
y = 20
print(x + y)
"""</span>)
â€‹
 Â  Â <span class="hljs-comment"># è®¿é—®ä¸åŒè¾“å‡º</span>
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ ‡å‡†è¾“å‡º:"</span>, result.stdout) Â  Â  Â <span class="hljs-comment"># x + y çš„ç»“æœ</span>
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ ‡å‡†é”™è¯¯:"</span>, result.stderr) Â  Â  Â <span class="hljs-comment"># é”™è¯¯ä¿¡æ¯</span>
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"é”™è¯¯å¯¹è±¡:"</span>, result.error) Â  Â  Â  <span class="hljs-comment"># None æˆ–å¼‚å¸¸å¯¹è±¡</span>
 Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿”å›å€¼:"</span>, result.results) Â  Â  Â  <span class="hljs-comment"># å¦‚æœæœ‰ return è¯­å¥</span>
</code></pre>
<h3 data-id="heading-12">æ•è·å’Œå¤„ç†é”™è¯¯</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> e2b_code_interpreter <span class="hljs-keyword">import</span> Sandbox
â€‹
<span class="hljs-keyword">with</span> Sandbox() <span class="hljs-keyword">as</span> sandbox:
 Â  Â <span class="hljs-comment"># æ•…æ„å†™ä¸€ä¸ªé”™è¯¯çš„ä»£ç </span>
 Â  Â result = sandbox.notebook.exec_cell(<span class="hljs-string">"""
print(1 / 0)
"""</span>)
â€‹
 Â  Â <span class="hljs-keyword">if</span> result.error:
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{result.error}</span>"</span>)
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯å †æ ˆ:\n<span class="hljs-subst">{result.stderr}</span>"</span>)
 Â  Â <span class="hljs-keyword">else</span>:
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡ŒæˆåŠŸ"</span>)
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(result.stdout)
â€‹
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># å‘ç”Ÿé”™è¯¯: division by zero</span>
<span class="hljs-comment"># é”™è¯¯å †æ ˆ:</span>
<span class="hljs-comment"># Traceback (most recent call last):</span>
<span class="hljs-comment"># Â  File "&lt;string&gt;", line 2, in &lt;module&gt;</span>
<span class="hljs-comment"># ZeroDivisionError: division by zero</span>
</code></pre>
<h3 data-id="heading-13">æ‰§è¡Œå¤šæ®µä»£ç </h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> e2b_code_interpreter <span class="hljs-keyword">import</span> Sandbox
â€‹
<span class="hljs-keyword">with</span> Sandbox() <span class="hljs-keyword">as</span> sandbox:
 Â  Â <span class="hljs-comment"># ç¬¬ä¸€æ®µï¼šå®šä¹‰å˜é‡</span>
 Â  Â sandbox.notebook.exec_cell(<span class="hljs-string">"data = [1, 2, 3, 4, 5]"</span>)
â€‹
 Â  Â <span class="hljs-comment"># ç¬¬äºŒæ®µï¼šå¤„ç†æ•°æ®</span>
 Â  Â sandbox.notebook.exec_cell(<span class="hljs-string">"squared = [x**2 for x in data]"</span>)
â€‹
 Â  Â <span class="hljs-comment"># ç¬¬ä¸‰æ®µï¼šè®¡ç®—ç»“æœ</span>
 Â  Â result = sandbox.notebook.exec_cell(<span class="hljs-string">"print(sum(squared))"</span>)
â€‹
 Â  Â <span class="hljs-built_in">print</span>(result.stdout) Â <span class="hljs-comment"># è¾“å‡ºï¼š55</span>
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šSandbox ä¸­çš„çŠ¶æ€ä¼šä¿ç•™ï¼Œåç»­ä»£ç å¯ä»¥è®¿é—®ä¹‹å‰å®šä¹‰çš„å˜é‡ã€‚</p>
<h3 data-id="heading-14">ä½¿ç”¨ Jupyter Notebook é£æ ¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> e2b_code_interpreter <span class="hljs-keyword">import</span> Sandbox
â€‹
<span class="hljs-keyword">with</span> Sandbox() <span class="hljs-keyword">as</span> sandbox:
 Â  Â <span class="hljs-comment"># åˆ›å»ºæ•°æ®åˆ†æ notebook</span>
 Â  Â cells = [
 Â  Â  Â  Â <span class="hljs-string">"import pandas as pd\nimport numpy as np"</span>,
 Â  Â  Â  Â <span class="hljs-string">"df = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]})"</span>,
 Â  Â  Â  Â <span class="hljs-string">"print(df.describe())"</span>
 Â   ]
â€‹
 Â  Â <span class="hljs-keyword">for</span> i, cell <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(cells):
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n--- Cell <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span> ---"</span>)
 Â  Â  Â  Â result = sandbox.notebook.exec_cell(cell)
 Â  Â  Â  Â <span class="hljs-built_in">print</span>(result.stdout)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å˜é‡å£°æ˜è¯¦è§£ï¼švarã€let ä¸ const çš„æ¼”è¿›ä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7598127455133220864</link>    <guid>https://juejin.cn/post/7598127455133220864</guid>    <pubDate>2026-01-23T03:47:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598127455133220864" data-draft-id="7598089234034016256" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å˜é‡å£°æ˜è¯¦è§£ï¼švarã€let ä¸ const çš„æ¼”è¿›ä¸å®è·µ"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-01-23T03:47:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·575730334624"/> <meta itemprop="url" content="https://juejin.cn/user/2860271309712009"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å˜é‡å£°æ˜è¯¦è§£ï¼švarã€let ä¸ const çš„æ¼”è¿›ä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2860271309712009/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·575730334624
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:47:35.000Z" title="Fri Jan 23 2026 03:47:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript å˜é‡å£°æ˜è¯¦è§£ï¼š<code>var</code>ã€<code>let</code> ä¸ <code>const</code> çš„æ¼”è¿›ä¸å®è·µ</h2>
<blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šæœ¬æ–‡ç³»ç»Ÿæ¢³ç† JavaScript ä¸­ä¸‰ç§å˜é‡å£°æ˜æ–¹å¼ï¼ˆ<code>var</code>ã€<code>let</code>ã€<code>const</code>ï¼‰çš„æ ¸å¿ƒæœºåˆ¶ï¼Œæ·±å…¥å‰–æ ES5 ä¸ ES6 åœ¨ä½œç”¨åŸŸã€å˜é‡æå‡ç­‰æ–¹é¢çš„æœ¬è´¨å·®å¼‚ï¼Œå¹¶ç»“åˆå…¸å‹é”™è¯¯åœºæ™¯ï¼Œæä¾›ç°ä»£ JavaScript å¼€å‘çš„æœ€ä½³å®è·µå»ºè®®ã€‚å…¨æ–‡çº¦ 2000 å­—ï¼Œé€‚åˆå‰ç«¯å¼€å‘è€…å·©å›ºåŸºç¡€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å¼•è¨€ï¼šä»æ··ä¹±åˆ°è§„èŒƒçš„å˜é‡å£°æ˜</h3>
<p>åœ¨æ—©æœŸ JavaScriptï¼ˆES5 åŠä¹‹å‰ï¼‰ï¼Œå¼€å‘è€…åªèƒ½ä½¿ç”¨ <code>var</code> å£°æ˜å˜é‡ã€‚ç„¶è€Œï¼Œ<code>var</code> çš„è¡Œä¸ºå¸¸å¸¸â€œåç›´è§‰â€â€”â€”å˜é‡ä¼¼ä¹å¯ä»¥åœ¨å£°æ˜å‰è¢«è®¿é—®ã€ä½œç”¨åŸŸè¾¹ç•Œæ¨¡ç³Šã€é‡å¤å£°æ˜ä¸ä¼šæŠ¥é”™â€¦â€¦è¿™äº›é—®é¢˜åœ¨å¤§å‹é¡¹ç›®ä¸­ææ˜“å¼•å‘éš¾ä»¥è¿½è¸ªçš„ bugã€‚</p>
<p>2015 å¹´ï¼ŒECMAScript 6ï¼ˆES6/ES2015ï¼‰æ­£å¼å‘å¸ƒï¼Œå¼•å…¥äº† <code>let</code> å’Œ <code>const</code>ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº† <code>var</code> çš„ç¼ºé™·ï¼Œä½¿ JavaScript çš„å˜é‡ç®¡ç†æ›´åŠ ä¸¥è°¨ã€å¯é¢„æµ‹ã€‚ç†è§£è¿™ä¸‰è€…çš„åŒºåˆ«ï¼Œæ˜¯æŒæ¡ç°ä»£ JavaScript çš„åŸºçŸ³ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€<code>var</code> çš„å·¥ä½œæœºåˆ¶ä¸é—®é¢˜</h3>
<h4 data-id="heading-3">1. å‡½æ•°ä½œç”¨åŸŸï¼ˆFunction Scopeï¼‰</h4>
<p><code>var</code> å£°æ˜çš„å˜é‡<strong>ä»…åœ¨å‡½æ•°å†…éƒ¨æœ‰æ•ˆ</strong>ï¼Œè€Œéä»£ç å—ï¼ˆå¦‚ <code>if</code>ã€<code>for</code>ï¼‰å†…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">10</span>;
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x); <span class="hljs-comment">// 10 â€”â€” åœ¨ if å¤–ä»å¯è®¿é—®ï¼</span>
}
</code></pre>
<p>è¿™ç§è®¾è®¡å¯¼è‡´å˜é‡â€œæ³„æ¼â€å‡ºé¢„æœŸçš„ä½œç”¨åŸŸï¼Œè¿èƒŒæ¨¡å—åŒ–ç¼–ç¨‹åŸåˆ™ã€‚</p>
<h4 data-id="heading-4">2. å˜é‡æå‡ï¼ˆHoistingï¼‰</h4>
<p>JavaScript å¼•æ“åœ¨æ‰§è¡Œä»£ç å‰ä¼šç»å†<strong>ç¼–è¯‘é˜¶æ®µ</strong>ï¼ˆç”¨äºè¯­æ³•æ£€æŸ¥å’Œå˜é‡/å‡½æ•°å£°æ˜æ”¶é›†ï¼‰ã€‚<code>var</code> å£°æ˜ä¼šè¢«â€œæå‡â€åˆ°å…¶ä½œç”¨åŸŸé¡¶éƒ¨ï¼Œä½†<strong>èµ‹å€¼ç•™åœ¨åŸåœ°</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// undefinedï¼ˆä¸æ˜¯æŠ¥é”™ï¼ï¼‰</span>
<span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> a;          <span class="hljs-comment">// ç¼–è¯‘é˜¶æ®µï¼šå£°æ˜è¢«æå‡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// æ‰§è¡Œé˜¶æ®µï¼ša ä¸º undefined</span>
a = <span class="hljs-number">1</span>;          <span class="hljs-comment">// èµ‹å€¼æœªæå‡</span>
</code></pre>
<p>è¿™ç§â€œå¯è®¿é—®ä½†å€¼ä¸º undefinedâ€çš„è¡Œä¸ºææ˜“é€ æˆé€»è¾‘é”™è¯¯ï¼Œä¸”éš¾ä»¥è°ƒè¯•ã€‚</p>
<h4 data-id="heading-5">3. å…è®¸é‡å¤å£°æ˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> name = <span class="hljs-string">"Alice"</span>;
<span class="hljs-keyword">var</span> name = <span class="hljs-string">"Bob"</span>; <span class="hljs-comment">// ä¸æŠ¥é”™ï¼name å˜ä¸º "Bob"</span>
</code></pre>
<p>è¿™ç§å®½æ¾æ€§åœ¨åä½œå¼€å‘ä¸­å¯èƒ½æ©ç›–å‘½åå†²çªã€‚</p>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€ES6 çš„é©æ–°ï¼š<code>let</code> ä¸ <code>const</code></h3>
<p>ä¸ºè§£å†³ <code>var</code> çš„é—®é¢˜ï¼ŒES6 å¼•å…¥äº†<strong>å—çº§ä½œç”¨åŸŸ</strong>ï¼ˆBlock Scopeï¼‰å’Œä¸¤ä¸ªæ–°å…³é”®å­—ï¼š</p>
<h4 data-id="heading-7">1. å—çº§ä½œç”¨åŸŸï¼ˆ<code>{}</code> å†…æœ‰æ•ˆï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-keyword">let</span> y = <span class="hljs-number">20</span>;
  <span class="hljs-keyword">const</span> z = <span class="hljs-number">30</span>;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(y); <span class="hljs-comment">// ReferenceError: y is not defined</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(z); <span class="hljs-comment">// ReferenceError: z is not defined</span>
</code></pre>
<p>ç°åœ¨ï¼Œ<code>if</code>ã€<code>for</code>ã€<code>{}</code> ç­‰ä»»ä½•ä»£ç å—éƒ½èƒ½å½¢æˆç‹¬ç«‹ä½œç”¨åŸŸï¼Œå˜é‡ç”Ÿå‘½å‘¨æœŸæ›´æ¸…æ™°ã€‚</p>
<h4 data-id="heading-8">2. æš‚æ—¶æ€§æ­»åŒºï¼ˆTemporal Dead Zone, TDZï¼‰</h4>
<p>è™½ç„¶ <code>let</code>/<code>const</code> ä¹Ÿä¼šè¢«æå‡ï¼Œä½†åœ¨<strong>å£°æ˜å‰è®¿é—®ä¼šæŠ›å‡ºé”™è¯¯</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable constant_">PI</span>); <span class="hljs-comment">// ReferenceError: Cannot access 'PI' before initialization</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.14</span>;
</code></pre>
<p>ä»è¿›å…¥ä½œç”¨åŸŸåˆ°å˜é‡å£°æ˜ä¹‹é—´çš„åŒºåŸŸç§°ä¸º <strong>TDZ</strong>ã€‚è¿™å¼ºåˆ¶å¼€å‘è€…â€œå…ˆå£°æ˜åä½¿ç”¨â€ï¼Œé¿å… <code>var</code> çš„é™·é˜±ã€‚</p>
<h4 data-id="heading-9">3. ç¦æ­¢é‡å¤å£°æ˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> count = <span class="hljs-number">1</span>; <span class="hljs-comment">// SyntaxError: Identifier 'count' has already been declared</span>
</code></pre>
<p>è¿™æœ‰åŠ©äºæå‰å‘ç°å‘½åå†²çªã€‚</p>
<h4 data-id="heading-10">4. <code>const</code> çš„â€œå¸¸é‡â€è¯­ä¹‰</h4>
<ul>
<li><strong>ä¸å¯é‡æ–°èµ‹å€¼</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAX</span> = <span class="hljs-number">100</span>;
<span class="hljs-variable constant_">MAX</span> = <span class="hljs-number">200</span>; <span class="hljs-comment">// TypeError: Assignment to constant variable.</span>
</code></pre>
</li>
<li><strong>ä½†å¯¹è±¡/æ•°ç»„å†…å®¹å¯å˜</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Tom"</span> };
user.<span class="hljs-property">name</span> = <span class="hljs-string">"Jerry"</span>; <span class="hljs-comment">// âœ… åˆæ³•</span>
user = {};           <span class="hljs-comment">// âŒ éæ³•</span>
</code></pre>
</li>
</ul>
<p><code>const</code> å®é™…ä¸Šæ˜¯åˆ›å»ºä¸€ä¸ª<strong>ä¸å¯å˜çš„ç»‘å®š</strong>ï¼Œè€Œéä¸å¯å˜çš„å€¼ã€‚</p>
<hr/>
<h3 data-id="heading-11">å››ã€å…³é”®æ¦‚å¿µå¯¹æ¯”è¡¨</h3>









































<table><thead><tr><th>ç‰¹æ€§</th><th><code>var</code></th><th><code>let</code></th><th><code>const</code></th></tr></thead><tbody><tr><td><strong>ä½œç”¨åŸŸ</strong></td><td>å‡½æ•°ä½œç”¨åŸŸ</td><td>å—çº§ä½œç”¨åŸŸ</td><td>å—çº§ä½œç”¨åŸŸ</td></tr><tr><td><strong>å˜é‡æå‡</strong></td><td>æ˜¯ï¼ˆåˆå§‹åŒ–ä¸º <code>undefined</code>ï¼‰</td><td>æ˜¯ï¼ˆTDZï¼‰</td><td>æ˜¯ï¼ˆTDZï¼‰</td></tr><tr><td><strong>é‡å¤å£°æ˜</strong></td><td>å…è®¸</td><td>ç¦æ­¢</td><td>ç¦æ­¢</td></tr><tr><td><strong>é‡æ–°èµ‹å€¼</strong></td><td>å…è®¸</td><td>å…è®¸</td><td>ç¦æ­¢ï¼ˆç»‘å®šä¸å¯å˜ï¼‰</td></tr><tr><td><strong>å…¨å±€å±æ€§</strong></td><td>æ˜¯ï¼ˆå¦‚ <code>window.a</code>ï¼‰</td><td>å¦</td><td>å¦</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-12">äº”ã€å…¸å‹é”™è¯¯åœºæ™¯è§£æ</h3>
<ol>
<li>
<p><strong><code>ReferenceError: height is not defined</code></strong><br/>
â†’ åœ¨ä½œç”¨åŸŸå¤–è®¿é—® <code>let</code>/<code>const</code> å˜é‡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) { <span class="hljs-keyword">let</span> height = <span class="hljs-number">180</span>; }
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(height); <span class="hljs-comment">// æŠ¥é”™</span>
</code></pre>
</li>
<li>
<p><strong><code>TypeError: Assignment to constant variable.</code></strong><br/>
â†’ å°è¯•ç»™ <code>const</code> é‡æ–°èµ‹å€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API_URL</span> = <span class="hljs-string">"https://api.example.com"</span>;
<span class="hljs-variable constant_">API_URL</span> = <span class="hljs-string">"https://new-api.com"</span>; <span class="hljs-comment">// æŠ¥é”™</span>
</code></pre>
</li>
<li>
<p><strong><code>ReferenceError: Cannot access 'PI' before initialization</code></strong><br/>
â†’ åœ¨ TDZ ä¸­è®¿é—®å˜é‡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable constant_">PI</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.14</span>; <span class="hljs-comment">// æŠ¥é”™</span>
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-13">å…­ã€å‡½æ•°æå‡ vs å˜é‡æå‡</h3>
<p>é™¤äº†å˜é‡ï¼Œ<strong>å‡½æ•°å£°æ˜</strong>ä¹Ÿä¼šè¢«æå‡ï¼Œä¸”<strong>æ•´ä¸ªå‡½æ•°ä½“è¢«æå‡</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// "Hello!" â€”â€” å‡½æ•°å¯ç›´æ¥è°ƒç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello!"</span>);
}
</code></pre>
<p>ä½†<strong>å‡½æ•°è¡¨è¾¾å¼</strong>ï¼ˆç”¨ <code>var</code>/<code>let</code> å£°æ˜ï¼‰éµå¾ªå˜é‡æå‡è§„åˆ™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// var å½¢å¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> greet); <span class="hljs-comment">// "function"</span>
<span class="hljs-title function_">greet</span>(); <span class="hljs-comment">// "Hi"</span>
<span class="hljs-keyword">var</span> greet = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hi"</span>); };

<span class="hljs-comment">// let å½¢å¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> hello); <span class="hljs-comment">// ReferenceErrorï¼ˆTDZï¼‰</span>
<span class="hljs-keyword">let</span> hello = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hi"</span>); };
</code></pre>
<hr/>
<h3 data-id="heading-14">ä¸ƒã€constå¸¸é‡å¯å˜æ€§</h3>
<ul>
<li>constå¸¸é‡å£°æ˜çš„ç®€å•æ•°æ®ç±»å‹çš„å˜é‡ä¸ä¼šå¯ä»¥æ”¹å˜</li>
<li>constå¸¸é‡å£°æ˜çš„å¤æ‚æ•°æ®ç±»å‹æ¯”å¦‚å­—é¢é‡å¯¹è±¡å¯ä»¥æ”¹å˜</li>
</ul>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> person={
 <span class="hljs-attr">age</span>:<span class="hljs-number">45</span>;
  }
  age=<span class="hljs-number">56</span>;

</code></pre>
<p>æ³¨æ„ï¼šä½¿ç”¨å†»ç»“æ“ä½œå¯ä»¥ä½¿å¾—å¤æ‚æ•°æ®ç±»å‹ä¹Ÿä¸å¯ä»¥è¢«æ”¹å˜</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.1415926</span>;
<span class="hljs-keyword">const</span> person={
    <span class="hljs-attr">name</span>:<span class="hljs-string">"ysw"</span>,
    <span class="hljs-attr">age</span>:<span class="hljs-number">25</span>,


}
<span class="hljs-comment">// person = 'hahahaha';</span>
person .<span class="hljs-property">age</span> = <span class="hljs-number">21</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person);
<span class="hljs-comment">// ç®€å•æ•°æ®ç±»å‹çš„å¸¸é‡ä¸å¯ä»¥æ”¹å˜;</span>
<span class="hljs-comment">// å¤æ‚æ•°æ®ç±»å‹çš„å¸¸é‡ï¼Œä¸èƒ½æ”¹å˜å¼•ç”¨çš„åœ°å€,ä½†æ˜¯å¯ä»¥æ”¹å˜å¼•ç”¨åœ°å€ä¸­çš„å±æ€§å€¼</span>
<span class="hljs-comment">// å¦‚æœå¯¹è±¡ä¸€å®šä¸å¯ä»¥å˜å‘¢ï¼Ÿ</span>
<span class="hljs-keyword">const</span> wes = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(person );<span class="hljs-comment">//å†»ç»“å¯¹è±¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(wes);
wes.<span class="hljs-property">age</span>=<span class="hljs-number">456</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(wes);


</code></pre>
<h3 data-id="heading-15">å…«ã€æœ€ä½³å®è·µå»ºè®®</h3>
<ol>
<li>
<p><strong>é»˜è®¤ä½¿ç”¨ <code>const</code></strong><br/>
é™¤éæ˜ç¡®éœ€è¦é‡èµ‹å€¼ï¼Œå¦åˆ™ä¸€å¾‹ç”¨ <code>const</code>ã€‚è¿™èƒ½é˜²æ­¢æ„å¤–ä¿®æ”¹ï¼Œæé«˜ä»£ç å¥å£®æ€§ã€‚</p>
</li>
<li>
<p><strong>éœ€è¦é‡èµ‹å€¼æ—¶ç”¨ <code>let</code></strong><br/>
å¦‚å¾ªç¯è®¡æ•°å™¨ã€çŠ¶æ€æ ‡å¿—ç­‰ã€‚</p>
</li>
<li>
<p><strong>å½»åº•é¿å… <code>var</code></strong><br/>
ç°ä»£é¡¹ç›®ï¼ˆå°¤å…¶æ˜¯ä½¿ç”¨ ESLintã€TypeScriptï¼‰åº”ç¦ç”¨ <code>var</code>ã€‚</p>
</li>
<li>
<p><strong>ç†è§£ TDZ å’Œå—çº§ä½œç”¨åŸŸ</strong><br/>
è¿™æ˜¯ LeetCode ç­‰ç®—æ³•å¹³å°è€ƒå¯Ÿ JS è¡Œä¸ºçš„å…³é”®ç‚¹ï¼ˆå¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fstudyplan%2Ftop-100-liked%2F" target="_blank" title="https://leetcode.cn/studyplan/top-100-liked/" ref="nofollow noopener noreferrer">LeetCode çƒ­é¢˜ 100</a> ä¸­æ¶‰åŠé—­åŒ…ã€ä½œç”¨åŸŸçš„é¢˜ç›®ï¼‰ã€‚</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-16">ä¹ã€ç»“è¯­</h3>
<p>ä» <code>var</code> åˆ° <code>let</code>/<code>const</code>ï¼ŒJavaScript å®Œæˆäº†å˜é‡ç®¡ç†æœºåˆ¶çš„ä¸€æ¬¡é‡è¦è¿›åŒ–ã€‚è¿™ä¸€å˜åŒ–ä¸ä»…ä¿®å¤äº†å†å²é—ç•™é—®é¢˜ï¼Œæ›´æ¨åŠ¨äº†å¼€å‘è€…ç¼–å†™æ›´å®‰å…¨ã€æ›´å¯ç»´æŠ¤çš„ä»£ç ã€‚</p>
<blockquote>
<p><strong>è®°ä½å£è¯€</strong>ï¼š</p>
<ul>
<li><code>const</code> ä¼˜å…ˆï¼Œä¸å˜å°±ç”¨å®ƒï¼›</li>
<li>éœ€è¦é‡èµ‹å€¼ï¼Œ<code>let</code> æ¥ä¿é©¾ï¼›</li>
<li><code>var</code> å·²è¿‡æ—¶ï¼Œåšå†³ä¸ä½¿ç”¨ã€‚</li>
</ul>
</blockquote>
<p>æŒæ¡è¿™äº›åŸç†ï¼Œä½ ä¸ä»…èƒ½å†™å‡ºæ­£ç¡®çš„ä»£ç ï¼Œæ›´èƒ½æ·±å…¥ç†è§£ JavaScript çš„æ‰§è¡Œæœºåˆ¶ï¼Œä¸ºå­¦ä¹ é—­åŒ…ã€å¼‚æ­¥ã€æ¨¡å—åŒ–ç­‰é«˜çº§ä¸»é¢˜æ‰“ä¸‹åšå®åŸºç¡€ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨æ–°è£…æœºå™¨ä¸ŠæŒ‚è½½ä¸€å—å•ç‹¬æ•°æ®ç›˜]]></title>    <link>https://juejin.cn/post/7598127455133696000</link>    <guid>https://juejin.cn/post/7598127455133696000</guid>    <pubDate>2026-01-23T05:41:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598127455133696000" data-draft-id="7598174154664902691" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨æ–°è£…æœºå™¨ä¸ŠæŒ‚è½½ä¸€å—å•ç‹¬æ•°æ®ç›˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T05:41:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yeyong"/> <meta itemprop="url" content="https://juejin.cn/user/4283353031781063"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨æ–°è£…æœºå™¨ä¸ŠæŒ‚è½½ä¸€å—å•ç‹¬æ•°æ®ç›˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353031781063/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yeyong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:41:49.000Z" title="Fri Jan 23 2026 05:41:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>fdisk -l æ˜¾ç¤ºæœ‰ä¸€ä¸ªsdb</p>
<pre><code class="hljs language-python" lang="python">Disk /dev/sdb: <span class="hljs-number">2</span> TiB, <span class="hljs-number">2199023255552</span> <span class="hljs-built_in">bytes</span>, <span class="hljs-number">4294967296</span> sectors
Disk model: Virtual disk    
Units: sectors of <span class="hljs-number">1</span> * <span class="hljs-number">512</span> = <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span>
Sector size (logical/physical): <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span> / <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span>
I/O size (minimum/optimal): <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span> / <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span>
</code></pre>
<p>ä½†æ˜¯df -hæ²¡æœ‰çœ‹åˆ°è¿™ä¸ª2Tçš„ç›˜ï¼Œ å¦‚ä½•æŒ‚ä¸Šå»?</p>
<p><code>sdb</code> ç°åœ¨åªæ˜¯ä¸€å—â€œè£¸ç›˜â€ï¼Œè¿˜æ²¡åˆ†åŒºã€æ²¡æ ¼å¼åŒ–ã€æ›´æ²¡æŒ‚è½½ï¼Œæ‰€ä»¥ <code>df -h</code> çœ‹ä¸åˆ°ã€‚<br/>
ä¸‹é¢ç»™å‡ºä¸€æ¡æœ€ç®€è·¯çº¿ï¼ˆæ•´å—ç›˜ä¸€ä¸ªåˆ†åŒºï¼Œext4ï¼Œå¼€æœºè‡ªåŠ¨æŒ‚åˆ° <code>/data</code>ï¼‰ã€‚<strong>å…¨ç¨‹ root æˆ– sudo</strong>ã€‚</p>
<ol>
<li>
<p>å»ºåˆ†åŒºï¼ˆGPTï¼Œå•åˆ†åŒºå æ»¡ 2 TBï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">sudo parted /dev/sdb mklabel gpt
sudo parted -s /dev/sdb mkpart primary ext4 0% 100%
sudo parted -s /dev/sdb <span class="hljs-built_in">set</span> 1 lvm on   <span class="hljs-comment"># å¦‚æœä»¥åæƒ³æ”¹ LVM å¯ç•™ï¼Œä¸ç”¨å¯çœ</span>
</code></pre>
<p>æ­¤æ—¶ <code>lsblk</code> èƒ½çœ‹åˆ° <code>sdb1</code>ã€‚</p>
</li>
<li>
<p>æ ¼å¼åŒ–</p>
<pre><code class="hljs language-bash" lang="bash">sudo mkfs.ext4 -m 0 -T largefile4 -L data /dev/sdb1
</code></pre>
<p><code>-m 0</code> æŠŠ 5 % é¢„ç•™å—è¿˜ç»™ç”¨æˆ·ï¼Œ<code>-T largefile4</code> å¯¹å¤§æ–‡ä»¶ä¼˜åŒ–ã€‚</p>
</li>
<li>
<p>åˆ›å»ºæŒ‚è½½ç‚¹å¹¶ä¸´æ—¶æŒ‚è½½</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">mkdir</span> -p /data
sudo mount /dev/sdb1 /data
<span class="hljs-built_in">df</span> -h          <span class="hljs-comment"># ç¡®è®¤å·²å‡ºç° /data</span>
</code></pre>
</li>
<li>
<p>å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼šå†™è¿› <code>/etc/fstab</code><br/>
å…ˆå– UUID</p>
<pre><code class="hljs language-bash" lang="bash">sudo blkid /dev/sdb1
</code></pre>
<p>å‡è®¾è¾“å‡ºé‡Œ UUID=<code>a1b2c3d4-e5f6-7890-abcd-ef1234567890</code><br/>
ç„¶å</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">tee</span> -a /etc/fstab &lt;&lt;<span class="hljs-string">EOF
UUID=a1b2c3d4-e5f6-7890-abcd-ef1234567890  /data  ext4  defaults,noatime  0  2
EOF</span>
</code></pre>
<p>éªŒè¯æ— è¯¯</p>
<pre><code class="hljs language-bash" lang="bash">sudo mount -a      <span class="hljs-comment"># æ— æŠ¥é”™å³ OK</span>
</code></pre>
</li>
<li>
<p>æƒé™ï¼ˆæŒ‰éœ€è¦ï¼‰<br/>
å¦‚æœæƒ³è®©æ™®é€šç”¨æˆ·è¯»å†™ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> /data
</code></pre>
</li>
</ol>
<p>å®Œæˆå <code>df -h</code> å°±èƒ½å¤šå‡ºä¸€è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/dev/sdb1       2.0T   77M  1.9T   1% /data
</code></pre>
<p>æ•´ä¸ªç›˜å³å¯æŠ•å…¥ä½¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redis ç¼“å­˜ç©¿é€ï¼Œä¸€è¡Œä»£ç ç”¨å¸ƒéš†è¿‡æ»¤å™¨è§£å†³]]></title>    <link>https://juejin.cn/post/7598116600902402057</link>    <guid>https://juejin.cn/post/7598116600902402057</guid>    <pubDate>2026-01-23T05:52:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598116600902402057" data-draft-id="7598251121496522778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redis ç¼“å­˜ç©¿é€ï¼Œä¸€è¡Œä»£ç ç”¨å¸ƒéš†è¿‡æ»¤å™¨è§£å†³"/> <meta itemprop="keywords" content="Redis"/> <meta itemprop="datePublished" content="2026-01-23T05:52:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸…æ°”çš„ä½ "/> <meta itemprop="url" content="https://juejin.cn/user/1626932940649534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redis ç¼“å­˜ç©¿é€ï¼Œä¸€è¡Œä»£ç ç”¨å¸ƒéš†è¿‡æ»¤å™¨è§£å†³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1626932940649534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸…æ°”çš„ä½ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:52:59.000Z" title="Fri Jan 23 2026 05:52:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Redis ç¼“å­˜ç©¿é€ï¼Œä¸€è¡Œä»£ç ç”¨å¸ƒéš†è¿‡æ»¤å™¨è§£å†³</h2>
<h3 data-id="heading-1">é—®é¢˜ï¼šç¼“å­˜ç©¿é€æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>ç¼“å­˜ç©¿é€æ˜¯æŒ‡æŸ¥è¯¢ä¸€ä¸ª<strong>ä¸å­˜åœ¨çš„æ•°æ®</strong>ï¼Œå¯¼è‡´è¯·æ±‚ç»•è¿‡ Redis ç¼“å­˜ï¼Œç›´æ¥æ‰“åˆ°æ•°æ®åº“ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šç”¨æˆ·æŸ¥è¯¢ ID ä¸º 999999 çš„è®¢å•ï¼ˆè¿™ä¸ªè®¢å•æ ¹æœ¬ä¸å­˜åœ¨ï¼‰ï¼ŒRedis é‡Œæ²¡æœ‰ï¼Œæ•°æ®åº“ä¹Ÿæ²¡æœ‰ã€‚å¦‚æœè¿™æ ·çš„è¯·æ±‚é¢‘ç¹å‘ç”Ÿï¼Œæ•°æ®åº“å°±ä¼šè¢«å¤§é‡æ— æ•ˆæŸ¥è¯¢å‹å®ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜</strong>ï¼šæ— æ³•åŒºåˆ†"æ•°æ®ä¸å­˜åœ¨"å’Œ"ç¼“å­˜æœªå‘½ä¸­"ï¼Œå¯¼è‡´æ¯æ¬¡éƒ½è¦æŸ¥æ•°æ®åº“ã€‚</p>
<hr/>
<h3 data-id="heading-2">ç¼“å­˜ç©¿é€çš„å…¸å‹åœºæ™¯</h3>
<ul>
<li><strong>æ¶æ„æ”»å‡»</strong>ï¼šæ”»å‡»è€…æ‰¹é‡æ„é€ ä¸å­˜åœ¨çš„è®¢å• IDï¼ˆå¦‚ ID=999999ã€ID=888888ï¼‰ï¼Œå¯¼è‡´æ¯æ¬¡è¯·æ±‚éƒ½æ‰“åˆ°æ•°æ®åº“</li>
<li><strong>ä¸šåŠ¡å†·å¯åŠ¨</strong>ï¼šåº”ç”¨å¯åŠ¨æ—¶ç¼“å­˜ä¸ºç©ºï¼Œå¤§é‡ç”¨æˆ·å¹¶å‘æŸ¥è¯¢ï¼Œç¼“å­˜æœªå‘½ä¸­çš„è¯·æ±‚å…¨éƒ¨ç©¿é€åˆ°æ•°æ®åº“</li>
<li><strong>æ•°æ®åˆ é™¤</strong>ï¼šè®¢å•è¢«åˆ é™¤åï¼Œç¼“å­˜ä¸­æ²¡æœ‰è®°å½•ï¼ŒæŸ¥è¯¢è¯·æ±‚ä»ä¼šæ‰“åˆ°æ•°æ®åº“</li>
</ul>
<hr/>
<h3 data-id="heading-3">è§£å†³æ–¹æ¡ˆï¼šå¸ƒéš†è¿‡æ»¤å™¨ä¸€è¡Œä»£ç æå®š</h3>
<h4 data-id="heading-4">å¸ƒéš†è¿‡æ»¤å™¨çš„åº•å±‚åŸç†</h4>
<p>å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ä¸ª<strong>è½»é‡çº§çš„æ•°æ®ç»“æ„</strong>ï¼Œæ ¸å¿ƒåŸç†ï¼š</p>
<ul>
<li>ä½¿ç”¨ <strong>å¤šä¸ªå“ˆå¸Œå‡½æ•°</strong> å°†æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ª <strong>äºŒè¿›åˆ¶æ•°ç»„</strong> çš„å¤šä¸ªä½ç½®ï¼Œæ ‡è®°ä¸º 1</li>
<li>æŸ¥è¯¢æ—¶ï¼Œå¯¹æ•°æ®è¿›è¡Œç›¸åŒçš„å“ˆå¸Œè¿ç®—ï¼Œæ£€æŸ¥å¯¹åº”ä½ç½®æ˜¯å¦éƒ½ä¸º 1</li>
<li><strong>ä¸€å®šä¸å­˜åœ¨</strong>ï¼šå¦‚æœä»»ä½•ä¸€ä¸ªä½ç½®ä¸º 0ï¼Œæ•°æ®è‚¯å®šä¸å­˜åœ¨ï¼ˆæ— è¯¯åˆ¤ï¼‰</li>
<li><strong>å¯èƒ½å­˜åœ¨</strong>ï¼šå¦‚æœæ‰€æœ‰ä½ç½®éƒ½ä¸º 1ï¼Œæ•°æ®å¯èƒ½å­˜åœ¨ï¼ˆæœ‰è¯¯åˆ¤ç‡ï¼Œæ ¹æºæ˜¯å“ˆå¸Œç¢°æ’ï¼‰</li>
</ul>
<p><strong>è¯¯åˆ¤æ ¹æº</strong>ï¼šä¸åŒçš„æ•°æ®å¯èƒ½å“ˆå¸Œåˆ°ç›¸åŒçš„ä½ç½®ï¼Œå¯¼è‡´è¯¯åˆ¤ã€‚è¯¯åˆ¤ç‡ä¸å®¹é‡ã€å“ˆå¸Œå‡½æ•°ä¸ªæ•°æœ‰å…³ã€‚</p>
<h4 data-id="heading-5">ä¸ºä»€ä¹ˆé€‰æ‹©å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿ</h4>
<p>å®ƒçš„ç‰¹ç‚¹å®Œç¾é€‚é…ç¼“å­˜ç©¿é€åœºæ™¯ï¼š</p>
<ul>
<li>âœ… å¦‚æœè¯´æ•°æ®<strong>ä¸å­˜åœ¨</strong>ï¼Œé‚£å°±ä¸€å®šä¸å­˜åœ¨ â†’ ç›´æ¥æ‹¦æˆªæ— æ•ˆè¯·æ±‚</li>
<li>âš ï¸ å¦‚æœè¯´æ•°æ®<strong>å­˜åœ¨</strong>ï¼Œå¯èƒ½å­˜åœ¨ä¹Ÿå¯èƒ½ä¸å­˜åœ¨ â†’ å†æŸ¥æ•°æ®åº“ç¡®è®¤ï¼ˆè¯¯åˆ¤ç‡æä½ï¼Œé€šå¸¸ &lt;1%ï¼‰</li>
<li>âœ… å ç”¨å†…å­˜æå°ï¼ˆ100ä¸‡æ•°æ®ä»…éœ€ ~1.2MBï¼‰</li>
<li>âœ… æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ O(k)ï¼Œk ä¸ºå“ˆå¸Œå‡½æ•°ä¸ªæ•°ï¼ˆé€šå¸¸ 5-10 ä¸ªï¼‰</li>
</ul>
<h4 data-id="heading-6">å®æˆ˜ä»£ç ï¼šåŸºäº Redisson</h4>
<h5 data-id="heading-7">ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- pom.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.redisson<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>redisson-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.18.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>ç‰ˆæœ¬å…¼å®¹æ€§è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>Redisson 3.18.0</strong> æ”¯æŒ Spring Boot 2.7.x</li>
<li>å¦‚æœä½¿ç”¨ Spring Boot 3.xï¼Œéœ€è¦å‡çº§åˆ° Redisson 3.20.0+</li>
<li>å¦‚æœä½¿ç”¨ Spring Boot 2.6.x åŠä»¥ä¸‹ï¼Œå¯ä½¿ç”¨ Redisson 3.16.x</li>
</ul>

























<table><thead><tr><th>Redisson ç‰ˆæœ¬</th><th>Spring Boot ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>3.18.0</td><td>2.7.x</td><td>âœ… æœ¬é¡¹ç›®æ¨è</td></tr><tr><td>3.20.0+</td><td>3.0.x+</td><td>Spring Boot 3.x ä¸“ç”¨</td></tr><tr><td>3.16.x</td><td>2.6.x åŠä»¥ä¸‹</td><td>è¾ƒæ—§ç‰ˆæœ¬</td></tr></tbody></table>
<h5 data-id="heading-8">ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- pom.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.redisson<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>redisson-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.18.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>ç‰ˆæœ¬å…¼å®¹æ€§è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>Redisson 3.18.0</strong> æ”¯æŒ Spring Boot 2.7.xï¼ˆæœ¬é¡¹ç›®ä½¿ç”¨ 2.7.18ï¼‰ã€Redis 5.0+</li>
<li>å¦‚æœä½¿ç”¨ Spring Boot 3.xï¼Œéœ€è¦å‡çº§åˆ° Redisson 3.20.0+ï¼ˆæ³¨æ„ jakarta åŒ…é€‚é…ï¼‰</li>
<li>å¦‚æœä½¿ç”¨ Spring Boot 2.6.x åŠä»¥ä¸‹ï¼Œå¯ä½¿ç”¨ Redisson 3.16.x</li>
</ul>





























<table><thead><tr><th>Redisson ç‰ˆæœ¬</th><th>Spring Boot ç‰ˆæœ¬</th><th>Redis ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>3.18.0</td><td>2.7.x</td><td>5.0+</td><td>âœ… æœ¬é¡¹ç›®æ¨è</td></tr><tr><td>3.20.0+</td><td>3.0.x+</td><td>6.0+</td><td>Spring Boot 3.x ä¸“ç”¨ï¼Œéœ€æ³¨æ„ jakarta åŒ…</td></tr><tr><td>3.16.x</td><td>2.6.x åŠä»¥ä¸‹</td><td>5.0+</td><td>è¾ƒæ—§ç‰ˆæœ¬</td></tr></tbody></table>
<h5 data-id="heading-9">ç¬¬äºŒæ­¥ï¼šå®šä¹‰å¸¸é‡ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å¸ƒéš†è¿‡æ»¤å™¨å¸¸é‡é…ç½®
 * é¿å…ç¡¬ç¼–ç ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†å’Œè°ƒæ•´
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BloomFilterConstants</span> {
    
    <span class="hljs-comment">/** è®¢å•å¸ƒéš†è¿‡æ»¤å™¨ Key */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">ORDER_BLOOM_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order:bloom"</span>;
    
    <span class="hljs-comment">/** é¢„æœŸå®¹é‡ï¼š100ä¸‡æ¡è®¢å•æ•°æ® */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">ORDER_EXPECTED_INSERTIONS</span> <span class="hljs-operator">=</span> <span class="hljs-number">1_000_000L</span>;
    
    <span class="hljs-comment">/** è¯¯åˆ¤ç‡ï¼š1%ï¼ˆå®¹é‡è¶Šå¤§ã€è¯¯åˆ¤ç‡è¶Šä½ï¼Œä½†å ç”¨å†…å­˜è¶Šå¤šï¼‰ */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> <span class="hljs-variable">ORDER_FALSE_POSITIVE_PROBABILITY</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.01</span>;
    
    <span class="hljs-comment">/** ç”¨æˆ·å¸ƒéš†è¿‡æ»¤å™¨ Key */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">USER_BLOOM_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:bloom"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">USER_EXPECTED_INSERTIONS</span> <span class="hljs-operator">=</span> <span class="hljs-number">500_000L</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> <span class="hljs-variable">USER_FALSE_POSITIVE_PROBABILITY</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.01</span>;
}
</code></pre>
<h5 data-id="heading-10">ç¬¬ä¸‰æ­¥ï¼šåˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BloomFilterManager</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-comment">/**
     * åˆå§‹åŒ–è®¢å•å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * è¯´æ˜ï¼š
     * - tryInit æ˜¯åŸå­æ“ä½œï¼Œç”± Redisson å†…éƒ¨çš„åˆ†å¸ƒå¼é”ä¿æŠ¤
     * - åˆ†å¸ƒå¼éƒ¨ç½²æ—¶ï¼Œå¤šä¸ªå®ä¾‹åŒæ—¶è°ƒç”¨ tryInitï¼Œåªæœ‰ä¸€ä¸ªä¼šçœŸæ­£åˆå§‹åŒ–
     * - å…¶ä»–å®ä¾‹ä¼šç›´æ¥è¿”å› falseï¼ˆè¡¨ç¤ºå·²åˆå§‹åŒ–ï¼‰ï¼Œä¸ä¼šé‡å¤åˆå§‹åŒ–
     * 
     * <span class="hljs-doctag">@return</span> true è¡¨ç¤ºæœ¬æ¬¡åˆå§‹åŒ–æˆåŠŸï¼Œfalse è¡¨ç¤ºå·²å­˜åœ¨ï¼ˆå…¶ä»–å®ä¾‹å·²åˆå§‹åŒ–ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">initOrderBloomFilter</span><span class="hljs-params">()</span> {
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(BloomFilterConstants.ORDER_BLOOM_KEY);
        
        <span class="hljs-comment">// ä¸€è¡Œæ ¸å¿ƒä»£ç ï¼šåˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆåˆ†å¸ƒå¼é”ä¿æŠ¤ï¼ŒåŸå­æ“ä½œï¼‰</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">initialized</span> <span class="hljs-operator">=</span> bloomFilter.tryInit(
            BloomFilterConstants.ORDER_EXPECTED_INSERTIONS,
            BloomFilterConstants.ORDER_FALSE_POSITIVE_PROBABILITY
        );
        
        <span class="hljs-keyword">if</span> (initialized) {
            log.info(<span class="hljs-string">"âœ… è®¢å•å¸ƒéš†è¿‡æ»¤å™¨åˆå§‹åŒ–æˆåŠŸï¼Œå®¹é‡: {}, è¯¯åˆ¤ç‡: {}"</span>,
                BloomFilterConstants.ORDER_EXPECTED_INSERTIONS,
                BloomFilterConstants.ORDER_FALSE_POSITIVE_PROBABILITY);
        } <span class="hljs-keyword">else</span> {
            log.info(<span class="hljs-string">"âš ï¸ è®¢å•å¸ƒéš†è¿‡æ»¤å™¨å·²å­˜åœ¨ï¼ˆå…¶ä»–å®ä¾‹å·²åˆå§‹åŒ–ï¼‰"</span>);
        }
        
        <span class="hljs-keyword">return</span> initialized;
    }
    
    <span class="hljs-comment">/**
     * æ·»åŠ å•ä¸ªè®¢å• ID åˆ°å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * <span class="hljs-doctag">@param</span> orderId è®¢å• IDï¼Œä¸èƒ½ä¸ºç©º
     * <span class="hljs-doctag">@throws</span> IllegalArgumentException å¦‚æœ orderId ä¸ºç©º
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addOrderId</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-keyword">if</span> (StrUtil.isBlank(orderId)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"è®¢å• ID ä¸èƒ½ä¸ºç©º"</span>);
        }
        
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(BloomFilterConstants.ORDER_BLOOM_KEY);
        bloomFilter.add(orderId);
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ·»åŠ è®¢å• ID åˆ°å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆåˆå§‹åŒ–æ—¶ä½¿ç”¨ï¼‰
     * 
     * è¯´æ˜ï¼š
     * - å¤§æ•°æ®é‡åˆå§‹åŒ–æ—¶ï¼Œåˆ†æ‰¹åŠ è½½é¿å… OOM
     * - å»ºè®®æ¯æ‰¹ 1000-5000 æ¡ï¼Œæ ¹æ®å†…å­˜æƒ…å†µè°ƒæ•´
     * 
     * <span class="hljs-doctag">@param</span> orderIds è®¢å• ID åˆ—è¡¨
     * <span class="hljs-doctag">@param</span> batchSize æ¯æ‰¹å¤„ç†æ•°é‡ï¼Œé»˜è®¤ 1000
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addOrderIdBatch</span><span class="hljs-params">(List&lt;String&gt; orderIds, <span class="hljs-type">int</span> batchSize)</span> {
        <span class="hljs-keyword">if</span> (CollUtil.isEmpty(orderIds)) {
            log.warn(<span class="hljs-string">"è®¢å• ID åˆ—è¡¨ä¸ºç©ºï¼Œè·³è¿‡æ‰¹é‡æ·»åŠ "</span>);
            <span class="hljs-keyword">return</span>;
        }
        
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(BloomFilterConstants.ORDER_BLOOM_KEY);
        
        <span class="hljs-comment">// åˆ†æ‰¹åŠ è½½ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®å¯¼è‡´ OOM</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; orderIds.size(); i += batchSize) {
            <span class="hljs-type">int</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> Math.min(i + batchSize, orderIds.size());
            List&lt;String&gt; batch = orderIds.subList(i, end);
            batch.forEach(bloomFilter::add);
            
            <span class="hljs-keyword">if</span> (i % (batchSize * <span class="hljs-number">10</span>) == <span class="hljs-number">0</span>) {
                log.info(<span class="hljs-string">"å·²åŠ è½½ {} æ¡è®¢å•æ•°æ®åˆ°å¸ƒéš†è¿‡æ»¤å™¨"</span>, i);
            }
        }
        
        log.info(<span class="hljs-string">"âœ… æ‰¹é‡æ·»åŠ å®Œæˆï¼Œå…±åŠ è½½ {} æ¡è®¢å•æ•°æ®"</span>, orderIds.size());
    }
    
    <span class="hljs-comment">/**
     * é‡å»ºå¸ƒéš†è¿‡æ»¤å™¨ï¼ˆç”¨äºå¤„ç†åŠ¨æ€æ•°æ®åˆ é™¤åœºæ™¯ï¼‰
     * 
     * è¯´æ˜ï¼š
     * - å¸ƒéš†è¿‡æ»¤å™¨ä¸æ”¯æŒåˆ é™¤æ“ä½œï¼Œåªèƒ½é‡å»º
     * - å»ºè®®å®šæœŸé‡å»ºï¼ˆå¦‚æ¯å¤©å‡Œæ™¨ 2 ç‚¹ï¼‰ï¼Œæˆ–åœ¨æ•°æ®é‡å˜åŒ–è¾ƒå¤§æ—¶é‡å»º
     * - é‡å»ºæœŸé—´ï¼Œå¯ä»¥ä½¿ç”¨æ—§çš„å¸ƒéš†è¿‡æ»¤å™¨ï¼Œé¿å…æœåŠ¡ä¸­æ–­
     * 
     * <span class="hljs-doctag">@param</span> orderIds æœ€æ–°çš„è®¢å• ID åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rebuildOrderBloomFilter</span><span class="hljs-params">(List&lt;String&gt; orderIds)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">oldKey</span> <span class="hljs-operator">=</span> BloomFilterConstants.ORDER_BLOOM_KEY;
            <span class="hljs-type">String</span> <span class="hljs-variable">newKey</span> <span class="hljs-operator">=</span> BloomFilterConstants.ORDER_BLOOM_KEY + <span class="hljs-string">":new"</span>;
            
            <span class="hljs-comment">// 1. åˆ›å»ºæ–°çš„å¸ƒéš†è¿‡æ»¤å™¨</span>
            RBloomFilter&lt;String&gt; newBloomFilter = redissonClient.getBloomFilter(newKey);
            newBloomFilter.tryInit(
                BloomFilterConstants.ORDER_EXPECTED_INSERTIONS,
                BloomFilterConstants.ORDER_FALSE_POSITIVE_PROBABILITY
            );
            
            <span class="hljs-comment">// 2. åŠ è½½æ‰€æœ‰è®¢å• ID</span>
            addOrderIdBatchToFilter(newBloomFilter, orderIds, <span class="hljs-number">1000</span>);
            
            <span class="hljs-comment">// 3. åŸå­æ€§åˆ‡æ¢ï¼ˆåˆ é™¤æ—§çš„ï¼Œé‡å‘½åæ–°çš„ï¼‰</span>
            redissonClient.getKeys().delete(oldKey);
            redissonClient.getKeys().rename(newKey, oldKey);
            
            log.info(<span class="hljs-string">"âœ… å¸ƒéš†è¿‡æ»¤å™¨é‡å»ºå®Œæˆï¼Œå·²åŠ è½½ {} æ¡æœ€æ–°è®¢å•æ•°æ®"</span>, orderIds.size());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"âŒ å¸ƒéš†è¿‡æ»¤å™¨é‡å»ºå¤±è´¥"</span>, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨é‡å»ºå¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-comment">/**
     * å†…éƒ¨æ–¹æ³•ï¼šå‘æŒ‡å®šçš„å¸ƒéš†è¿‡æ»¤å™¨æ·»åŠ æ•°æ®
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addOrderIdBatchToFilter</span><span class="hljs-params">(RBloomFilter&lt;String&gt; bloomFilter, List&lt;String&gt; orderIds, <span class="hljs-type">int</span> batchSize)</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; orderIds.size(); i += batchSize) {
            <span class="hljs-type">int</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> Math.min(i + batchSize, orderIds.size());
            List&lt;String&gt; batch = orderIds.subList(i, end);
            batch.forEach(bloomFilter::add);
        }
    }
}
</code></pre>
<h5 data-id="heading-11">ç¬¬å››æ­¥ï¼šåœ¨æŸ¥è¯¢æœåŠ¡ä¸­ä½¿ç”¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-comment">/**
     * æŸ¥è¯¢è®¢å•ï¼ˆé˜²ç¼“å­˜ç©¿é€ï¼‰
     * 
     * æµç¨‹ï¼š
     * 1. å¸ƒéš†è¿‡æ»¤å™¨æ£€æŸ¥ â†’ ä¸å­˜åœ¨åˆ™ç›´æ¥è¿”å› nullï¼ˆæ‹¦æˆªæ— æ•ˆè¯·æ±‚ï¼‰
     * 2. å¸ƒéš†è¿‡æ»¤å™¨è¯´å¯èƒ½å­˜åœ¨ â†’ æŸ¥è¯¢æ•°æ®åº“
     * 3. æ•°æ®åº“æŸ¥è¯¢ç»“æœä¸º null â†’ è¿™æ˜¯å¸ƒéš†è¿‡æ»¤å™¨çš„è¯¯åˆ¤ï¼ˆæå°‘å‘ç”Ÿï¼‰
     * 
     * <span class="hljs-doctag">@param</span> orderId è®¢å• ID
     * <span class="hljs-doctag">@return</span> è®¢å•ä¿¡æ¯ï¼Œä¸å­˜åœ¨è¿”å› null
     */</span>
    <span class="hljs-keyword">public</span> OrderDTO <span class="hljs-title function_">getOrder</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-comment">// å‚æ•°æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (StrUtil.isBlank(orderId)) {
            log.warn(<span class="hljs-string">"è®¢å• ID ä¸ºç©º"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(BloomFilterConstants.ORDER_BLOOM_KEY);
        
        <span class="hljs-comment">// ä¸€è¡Œæ ¸å¿ƒä»£ç ï¼šå…ˆé—®å¸ƒéš†è¿‡æ»¤å™¨ï¼Œæ•°æ®æ˜¯å¦å¯èƒ½å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> (!bloomFilter.contains(orderId)) {
            <span class="hljs-comment">// å¸ƒéš†è¿‡æ»¤å™¨è¯´ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å› nullï¼Œä¸æŸ¥æ•°æ®åº“ âœ…</span>
            log.debug(<span class="hljs-string">"è®¢å• {} åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å› null"</span>, orderId);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-comment">// å¸ƒéš†è¿‡æ»¤å™¨è¯´å¯èƒ½å­˜åœ¨ï¼Œå†æŸ¥æ•°æ®åº“</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">OrderDO</span> <span class="hljs-variable">orderDO</span> <span class="hljs-operator">=</span> orderMapper.selectById(orderId);
            <span class="hljs-keyword">if</span> (orderDO == <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// è¿™æ˜¯å¸ƒéš†è¿‡æ»¤å™¨çš„è¯¯åˆ¤ï¼Œæ•°æ®åº“ç¡®å®æ²¡æœ‰ï¼ˆæå°‘å‘ç”Ÿï¼‰</span>
                log.warn(<span class="hljs-string">"è®¢å• {} åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­å­˜åœ¨ï¼Œä½†æ•°æ®åº“æŸ¥è¯¢ä¸ºç©ºï¼ˆè¯¯åˆ¤ï¼‰"</span>, orderId);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            }
            
            <span class="hljs-keyword">return</span> convertToDTO(orderDO);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"æŸ¥è¯¢è®¢å• {} å¤±è´¥"</span>, orderId, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æŸ¥è¯¢è®¢å•å¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-comment">/**
     * å°†æ•°æ®åº“å®ä½“è½¬æ¢ä¸º DTO
     * 
     * <span class="hljs-doctag">@param</span> orderDO è®¢å•æ•°æ®åº“å®ä½“
     * <span class="hljs-doctag">@return</span> è®¢å• DTO
     */</span>
    <span class="hljs-keyword">private</span> OrderDTO <span class="hljs-title function_">convertToDTO</span><span class="hljs-params">(OrderDO orderDO)</span> {
        <span class="hljs-keyword">if</span> (orderDO == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-type">OrderDTO</span> <span class="hljs-variable">dto</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderDTO</span>();
        dto.setId(orderDO.getId());
        dto.setOrderNo(orderDO.getOrderNo());
        dto.setUserId(orderDO.getUserId());
        dto.setAmount(orderDO.getAmount());
        dto.setStatus(orderDO.getStatus());
        dto.setCreateTime(orderDO.getCreateTime());
        
        <span class="hljs-keyword">return</span> dto;
    }
}
</code></pre>
<h5 data-id="heading-12">ç¬¬äº”æ­¥ï¼šåˆå§‹åŒ–æ—¶åŠ è½½æ‰€æœ‰æœ‰æ•ˆæ•°æ®</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataInitializer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ApplicationRunner</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> BloomFilterManager bloomFilterManager;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-comment">/**
     * åº”ç”¨å¯åŠ¨æ—¶åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * è¯´æ˜ï¼š
     * - åˆ†å¸ƒå¼éƒ¨ç½²æ—¶ï¼Œå¤šä¸ªå®ä¾‹åŒæ—¶å¯åŠ¨ï¼Œåªæœ‰ä¸€ä¸ªä¼šçœŸæ­£åˆå§‹åŒ–
     * - å…¶ä»–å®ä¾‹ä¼šç­‰å¾…åˆå§‹åŒ–å®Œæˆåå†ç»§ç»­
     * - å¤§æ•°æ®é‡åˆå§‹åŒ–å¯èƒ½è€—æ—¶è¾ƒé•¿ï¼Œå»ºè®®åœ¨éä¸šåŠ¡é«˜å³°æœŸå¯åŠ¨
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(ApplicationArguments args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
            
            <span class="hljs-comment">// 1. åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ç»“æ„</span>
            bloomFilterManager.initOrderBloomFilter();
            
            <span class="hljs-comment">// 2. åŠ è½½æ‰€æœ‰æœ‰æ•ˆè®¢å• IDï¼ˆåˆ†æ‰¹åŠ è½½ï¼Œé¿å… OOMï¼‰</span>
            log.info(<span class="hljs-string">"å¼€å§‹åŠ è½½è®¢å•æ•°æ®åˆ°å¸ƒéš†è¿‡æ»¤å™¨..."</span>);
            List&lt;String&gt; allOrderIds = orderMapper.selectAllOrderIds();
            bloomFilterManager.addOrderIdBatch(allOrderIds, <span class="hljs-number">1000</span>);
            
            <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
            log.info(<span class="hljs-string">"âœ… å¸ƒéš†è¿‡æ»¤å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²åŠ è½½ {} æ¡è®¢å•æ•°æ®ï¼Œè€—æ—¶ {} ms"</span>,
                allOrderIds.size(), duration);
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"âŒ å¸ƒéš†è¿‡æ»¤å™¨åˆå§‹åŒ–å¤±è´¥ï¼Œåº”ç”¨å¯åŠ¨ä¸­æ­¢"</span>, e);
            <span class="hljs-comment">// å¯é€‰ï¼šæŠ›å¼‚å¸¸å¯¼è‡´åº”ç”¨å¯åŠ¨å¤±è´¥ï¼Œç¡®ä¿å¸ƒéš†è¿‡æ»¤å™¨å¿…é¡»åˆå§‹åŒ–æˆåŠŸ</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨åˆå§‹åŒ–å¤±è´¥"</span>, e);
        }
    }
}
</code></pre>
<h5 data-id="heading-13">ç¬¬å…­æ­¥ï¼šæ–°å¢æ•°æ®æ—¶åŒæ­¥æ›´æ–°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCreateService</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> BloomFilterManager bloomFilterManager;
    
    <span class="hljs-comment">/**
     * åˆ›å»ºè®¢å•å¹¶åŒæ­¥åˆ°å¸ƒéš†è¿‡æ»¤å™¨
     * 
     * <span class="hljs-doctag">@param</span> reqVO è®¢å•åˆ›å»ºè¯·æ±‚
     * <span class="hljs-doctag">@return</span> è®¢å• ID
     */</span>
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createOrder</span><span class="hljs-params">(OrderCreateReqVO reqVO)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. åˆ›å»ºè®¢å•</span>
            <span class="hljs-type">OrderDO</span> <span class="hljs-variable">orderDO</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderDO</span>();
            orderDO.setId(IdUtil.getSnowflakeNextIdStr());
            orderDO.setOrderNo(generateOrderNo());
            orderDO.setUserId(reqVO.getUserId());
            orderDO.setAmount(reqVO.getAmount());
            orderDO.setStatus(OrderStatusEnum.PENDING.getCode());
            orderDO.setCreateTime(LocalDateTime.now());
            
            orderMapper.insert(orderDO);
            
            <span class="hljs-comment">// 2. ä¸€è¡Œæ ¸å¿ƒä»£ç ï¼šæ–°è®¢å•åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨</span>
            bloomFilterManager.addOrderId(orderDO.getId());
            
            log.info(<span class="hljs-string">"âœ… è®¢å•åˆ›å»ºæˆåŠŸï¼Œè®¢å• ID: {}"</span>, orderDO.getId());
            <span class="hljs-keyword">return</span> orderDO.getId();
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"âŒ è®¢å•åˆ›å»ºå¤±è´¥"</span>, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è®¢å•åˆ›å»ºå¤±è´¥"</span>, e);
        }
    }
    
    <span class="hljs-comment">/**
     * ç”Ÿæˆè®¢å•å·
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">generateOrderNo</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ORD"</span> + System.currentTimeMillis();
    }
}
</code></pre>
<h5 data-id="heading-14">ç¬¬ä¸ƒæ­¥ï¼šå¤„ç†åŠ¨æ€æ•°æ®åˆ é™¤ï¼ˆå®šæ—¶é‡å»ºï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BloomFilterRebuildTask</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> BloomFilterManager bloomFilterManager;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-comment">/**
     * å®šæ—¶é‡å»ºå¸ƒéš†è¿‡æ»¤å™¨ï¼ˆæ¯å¤©å‡Œæ™¨ 2 ç‚¹ï¼‰
     * 
     * è¯´æ˜ï¼š
     * - å¸ƒéš†è¿‡æ»¤å™¨ä¸æ”¯æŒåˆ é™¤æ“ä½œï¼Œåªèƒ½é‡å»º
     * - å®šæœŸé‡å»ºå¯ä»¥æ¸…ç†å·²åˆ é™¤çš„è®¢å•æ•°æ®
     * - ä½¿ç”¨ <span class="hljs-doctag">@Scheduled</span> æ³¨è§£ï¼Œéœ€åœ¨å¯åŠ¨ç±»æ·»åŠ  <span class="hljs-doctag">@EnableScheduling</span>
     */</span>
    <span class="hljs-meta">@Scheduled(cron = "0 0 2 * * ?")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rebuildBloomFilter</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            log.info(<span class="hljs-string">"å¼€å§‹å®šæ—¶é‡å»ºå¸ƒéš†è¿‡æ»¤å™¨..."</span>);
            
            <span class="hljs-comment">// æŸ¥è¯¢æ‰€æœ‰æœ‰æ•ˆçš„è®¢å• IDï¼ˆæœªåˆ é™¤ï¼‰</span>
            List&lt;String&gt; validOrderIds = orderMapper.selectAllOrderIds();
            
            <span class="hljs-comment">// é‡å»ºå¸ƒéš†è¿‡æ»¤å™¨</span>
            bloomFilterManager.rebuildOrderBloomFilter(validOrderIds);
            
            log.info(<span class="hljs-string">"âœ… å¸ƒéš†è¿‡æ»¤å™¨å®šæ—¶é‡å»ºå®Œæˆ"</span>);
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"âŒ å¸ƒéš†è¿‡æ»¤å™¨å®šæ—¶é‡å»ºå¤±è´¥"</span>, e);
            <span class="hljs-comment">// ä¸æŠ›å¼‚å¸¸ï¼Œé¿å…å½±å“å…¶ä»–å®šæ—¶ä»»åŠ¡</span>
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-15">ç¼“å­˜ç©¿é€æ–¹æ¡ˆå¯¹æ¯”</h3>








































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>å¸ƒéš†è¿‡æ»¤å™¨</strong></td><td>å¤šå“ˆå¸Œå‡½æ•°æ˜ å°„äºŒè¿›åˆ¶æ•°ç»„ï¼Œå¿«é€Ÿåˆ¤æ–­æ•°æ®æ˜¯å¦å¯èƒ½å­˜åœ¨</td><td>å†…å­˜å ç”¨æå°ã€æŸ¥è¯¢å¿«é€Ÿã€å®Œå…¨æ‹¦æˆªæ— æ•ˆè¯·æ±‚</td><td>æœ‰è¯¯åˆ¤ç‡ã€ä¸æ”¯æŒåˆ é™¤ã€éœ€å®šæœŸé‡å»º</td><td>âœ… æ•°æ®é‡å¤§ã€æŸ¥è¯¢é¢‘ç¹ã€å…è®¸æä½è¯¯åˆ¤ç‡</td></tr><tr><td><strong>ç¼“å­˜ç©ºå€¼</strong></td><td>å°†ä¸å­˜åœ¨çš„æ•°æ®ä¹Ÿç¼“å­˜ä¸º nullï¼Œè®¾ç½®è¾ƒçŸ­çš„ TTL</td><td>å®ç°ç®€å•ã€æ— è¯¯åˆ¤</td><td>å ç”¨ç¼“å­˜ç©ºé—´ã€éœ€è¦ç¼“å­˜é¢„çƒ­ã€TTL è¿‡æœŸåä»ä¼šç©¿é€</td><td>âœ… æ•°æ®é‡å°ã€ä¸å­˜åœ¨æ•°æ®ç›¸å¯¹å›ºå®š</td></tr><tr><td><strong>æ¥å£é™æµ</strong></td><td>å¯¹æŸ¥è¯¢æ¥å£è¿›è¡Œé™æµï¼Œé™åˆ¶å•ä½æ—¶é—´å†…çš„è¯·æ±‚æ•°</td><td>ä¿æŠ¤æ•°æ®åº“ã€å®ç°ç®€å•</td><td>æ— æ³•å®Œå…¨æ‹¦æˆªæ— æ•ˆè¯·æ±‚ã€å¯èƒ½å½±å“æ­£å¸¸ç”¨æˆ·</td><td>âœ… é˜²æ­¢æ¶æ„æ”»å‡»ã€ä½œä¸ºé˜²çº¿ä¹‹ä¸€</td></tr><tr><td><strong>å¸ƒéš†è¿‡æ»¤å™¨ + ç¼“å­˜ç©ºå€¼</strong></td><td>ç»“åˆä¸¤ç§æ–¹æ¡ˆ</td><td>åŒé‡ä¿æŠ¤ã€è¯¯åˆ¤ç‡æ›´ä½</td><td>å®ç°å¤æ‚ã€å ç”¨æ›´å¤šèµ„æº</td><td>âœ… å¯¹å¯é æ€§è¦æ±‚æé«˜çš„åœºæ™¯</td></tr></tbody></table>
<p><strong>æ¨èæ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li><strong>å°æ•°æ®é‡</strong>ï¼ˆ&lt;10ä¸‡ï¼‰ï¼šä½¿ç”¨ç¼“å­˜ç©ºå€¼</li>
<li><strong>å¤§æ•°æ®é‡</strong>ï¼ˆ&gt;100ä¸‡ï¼‰ï¼šä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨</li>
<li><strong>è¶…å¤§æ•°æ®é‡ + é«˜å¯é æ€§</strong>ï¼šå¸ƒéš†è¿‡æ»¤å™¨ + ç¼“å­˜ç©ºå€¼ + æ¥å£é™æµ</li>
</ul>
<hr/>
<h3 data-id="heading-16">è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆæ”¯æŒåˆ é™¤ï¼‰</h3>
<p>å¦‚æœéœ€è¦æ”¯æŒåˆ é™¤æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ <strong>è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼ˆCounting Bloom Filterï¼‰ã€‚å®ƒç”¨è®¡æ•°å™¨æ›¿ä»£äºŒè¿›åˆ¶ä½ï¼Œæ”¯æŒåˆ é™¤ï¼Œä½†å ç”¨å†…å­˜æ›´å¤šã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CountingBloomFilterManager</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-comment">/**
     * åˆå§‹åŒ–è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆæ”¯æŒåˆ é™¤ï¼‰
     * 
     * è¯´æ˜ï¼š
     * - è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨ç”¨è®¡æ•°å™¨æ›¿ä»£äºŒè¿›åˆ¶ä½
     * - æ”¯æŒåˆ é™¤æ“ä½œï¼Œä½†å ç”¨å†…å­˜æ˜¯æ™®é€šå¸ƒéš†è¿‡æ»¤å™¨çš„ 4-8 å€
     * - é€‚ç”¨äºéœ€è¦é¢‘ç¹åˆ é™¤æ•°æ®çš„åœºæ™¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initCountingBloomFilter</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// Redisson ä¸­çš„è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨å®ç°</span>
        RCountingBloomFilter&lt;String&gt; countingBloomFilter = 
            redissonClient.getCountingBloomFilter(<span class="hljs-string">"order:counting:bloom"</span>);
        
        countingBloomFilter.tryInit(<span class="hljs-number">1_000_000L</span>, <span class="hljs-number">0.01</span>);
        log.info(<span class="hljs-string">"âœ… è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨åˆå§‹åŒ–å®Œæˆ"</span>);
    }
    
    <span class="hljs-comment">/**
     * æ·»åŠ å…ƒç´ 
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(String orderId)</span> {
        RCountingBloomFilter&lt;String&gt; countingBloomFilter = 
            redissonClient.getCountingBloomFilter(<span class="hljs-string">"order:counting:bloom"</span>);
        countingBloomFilter.add(orderId);
    }
    
    <span class="hljs-comment">/**
     * åˆ é™¤å…ƒç´ ï¼ˆè®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨æ”¯æŒï¼‰
     * 
     * <span class="hljs-doctag">@param</span> orderId è®¢å• ID
     * <span class="hljs-doctag">@return</span> true è¡¨ç¤ºåˆ é™¤æˆåŠŸï¼Œfalse è¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(String orderId)</span> {
        RCountingBloomFilter&lt;String&gt; countingBloomFilter = 
            redissonClient.getCountingBloomFilter(<span class="hljs-string">"order:counting:bloom"</span>);
        <span class="hljs-keyword">return</span> countingBloomFilter.remove(orderId);
    }
    
    <span class="hljs-comment">/**
     * æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">contains</span><span class="hljs-params">(String orderId)</span> {
        RCountingBloomFilter&lt;String&gt; countingBloomFilter = 
            redissonClient.getCountingBloomFilter(<span class="hljs-string">"order:counting:bloom"</span>);
        <span class="hljs-keyword">return</span> countingBloomFilter.contains(orderId);
    }
}
</code></pre>
<p><strong>è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨ vs æ™®é€šå¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼š</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>æ™®é€šå¸ƒéš†è¿‡æ»¤å™¨</th><th>è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨</th></tr></thead><tbody><tr><td>å†…å­˜å ç”¨</td><td>æå°ï¼ˆ~1.2MB/100ä¸‡ï¼‰</td><td>è¾ƒå¤§ï¼ˆ~5-10MB/100ä¸‡ï¼‰</td></tr><tr><td>æ”¯æŒåˆ é™¤</td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr><tr><td>æŸ¥è¯¢é€Ÿåº¦</td><td>æå¿«</td><td>å¿«ï¼ˆç•¥æ…¢äºæ™®é€šï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>æ•°æ®åŸºæœ¬ä¸åˆ é™¤</td><td>éœ€è¦é¢‘ç¹åˆ é™¤æ•°æ®</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-17">å®Œæ•´å·¥ä½œæµç¤ºæ„</h3>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·æŸ¥è¯¢è®¢å• ID
    â†“
å¸ƒéš†è¿‡æ»¤å™¨æ£€æŸ¥ â† ä¸€è¡Œä»£ç ï¼šbloomFilter<span class="hljs-selector-class">.contains</span>(orderId)
    â†“
<span class="hljs-selector-attr">[ä¸å­˜åœ¨]</span> â†’ ç›´æ¥è¿”å› null âœ… çœå»æ•°æ®åº“æŸ¥è¯¢ï¼ˆæ‹¦æˆªæ— æ•ˆè¯·æ±‚ï¼‰
    â†“
<span class="hljs-selector-attr">[å¯èƒ½å­˜åœ¨]</span> â†’ æŸ¥è¯¢æ•°æ®åº“ â†’ è¿”å›ç»“æœ
    â†“
<span class="hljs-selector-attr">[æ•°æ®åº“ä¸ºç©º]</span> â†’ è¿™æ˜¯å¸ƒéš†è¿‡æ»¤å™¨çš„è¯¯åˆ¤ï¼ˆæå°‘å‘ç”Ÿï¼Œ&lt;<span class="hljs-number">1%</span>ï¼‰
</code></pre>
<hr/>
<h3 data-id="heading-18">æ ¸å¿ƒä»£ç é€ŸæŸ¥è¡¨</h3>








































<table><thead><tr><th>æ“ä½œ</th><th>ä»£ç </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åˆå§‹åŒ–</td><td><code>bloomFilter.tryInit(1_000_000L, 0.01)</code></td><td>åˆ†å¸ƒå¼é”ä¿æŠ¤ï¼ŒåŸå­æ“ä½œ</td></tr><tr><td>æ·»åŠ å…ƒç´ </td><td><code>bloomFilter.add(orderId)</code></td><td>å•ä¸ªæ·»åŠ </td></tr><tr><td>æ£€æŸ¥å­˜åœ¨</td><td><code>bloomFilter.contains(orderId)</code></td><td>æ ¸å¿ƒæŸ¥è¯¢æ“ä½œ</td></tr><tr><td>æ‰¹é‡æ·»åŠ </td><td><code>orderIds.forEach(bloomFilter::add)</code></td><td>åˆ†æ‰¹åŠ è½½é¿å… OOM</td></tr><tr><td>åˆ é™¤å…ƒç´ </td><td><code>countingBloomFilter.remove(orderId)</code></td><td>ä»…è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨æ”¯æŒ</td></tr><tr><td>é‡å»ºè¿‡æ»¤å™¨</td><td><code>rebuildOrderBloomFilter(orderIds)</code></td><td>å¤„ç†åŠ¨æ€åˆ é™¤åœºæ™¯</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-19">ä¼˜åŠ¿ä¸é¿å‘</h3>
<h4 data-id="heading-20">âœ… ä¼˜åŠ¿</h4>
<ul>
<li><strong>è½»é‡é«˜æ•ˆ</strong>ï¼šå ç”¨å†…å­˜æå°ï¼ˆ100ä¸‡æ•°æ®ä»…éœ€ ~1.2MBï¼‰ï¼ŒæŸ¥è¯¢ O(k) æ—¶é—´å¤æ‚åº¦ï¼ˆk ä¸ºå“ˆå¸Œå‡½æ•°ä¸ªæ•°ï¼‰</li>
<li><strong>ä¸€è¡Œä»£ç </strong>ï¼š<code>bloomFilter.contains(orderId)</code> æå®šï¼Œé›†æˆç®€å•</li>
<li><strong>å®Œå…¨è§£å†³ç¼“å­˜ç©¿é€</strong>ï¼šæ— æ•ˆè¯·æ±‚ç›´æ¥æ‹¦æˆªï¼Œæ•°æ®åº“å‹åŠ›å¤§å¹…ä¸‹é™ï¼ˆå¯æ‹¦æˆª 99%+ çš„æ— æ•ˆè¯·æ±‚ï¼‰</li>
<li><strong>åˆ†å¸ƒå¼å‹å¥½</strong>ï¼šRedisson çš„ <code>tryInit</code> æ˜¯åŸå­æ“ä½œï¼Œå¤šå®ä¾‹éƒ¨ç½²æ—¶è‡ªåŠ¨å¤„ç†å¹¶å‘åˆå§‹åŒ–</li>
</ul>
<h4 data-id="heading-21">âš ï¸ é¿å‘æé†’</h4>








































<table><thead><tr><th>é¿å‘ç‚¹</th><th>é—®é¢˜æè¿°</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>å®¹é‡è§„åˆ’ä¸è¶³</strong></td><td>åˆå§‹åŒ–å®¹é‡è¿‡å°ï¼Œå¯¼è‡´è¯¯åˆ¤ç‡é£™å‡ï¼ˆå¯èƒ½è¾¾åˆ° 10%+ï¼‰</td><td>é¢„ç•™ 20-30% çš„å®¹é‡ä½™é‡ï¼Œå®šæœŸç›‘æ§è¯¯åˆ¤ç‡</td></tr><tr><td><strong>æ— æ³•åˆ é™¤æ•°æ®</strong></td><td>è®¢å•åˆ é™¤åï¼Œå¸ƒéš†è¿‡æ»¤å™¨ä»è®¤ä¸ºå­˜åœ¨ï¼Œå¯¼è‡´è¯¯åˆ¤</td><td>ä½¿ç”¨è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨ï¼Œæˆ–å®šæœŸé‡å»ºï¼ˆæ¯å¤©å‡Œæ™¨ï¼‰</td></tr><tr><td><strong>åˆå§‹åŒ–è€—æ—¶ä¹…</strong></td><td>å¤§æ•°æ®é‡åˆå§‹åŒ–æ—¶ï¼Œåº”ç”¨å¯åŠ¨æ—¶é—´è¿‡é•¿</td><td>åˆ†æ‰¹åŠ è½½ï¼ˆæ¯æ‰¹ 1000-5000 æ¡ï¼‰ï¼Œå¼‚æ­¥åˆå§‹åŒ–</td></tr><tr><td><strong>è¯¯åˆ¤ç‡è¿‡é«˜</strong></td><td>è¯¯åˆ¤ç‡è¶…è¿‡é¢„æœŸï¼Œå¯¼è‡´æ•°æ®åº“æŸ¥è¯¢å¢åŠ </td><td>å¢åŠ åˆå§‹åŒ–å®¹é‡æˆ–é™ä½è¯¯åˆ¤ç‡å‚æ•°ï¼ˆå¦‚ 0.01 â†’ 0.001ï¼‰</td></tr><tr><td><strong>å†…å­˜å ç”¨è¿‡å¤§</strong></td><td>å¸ƒéš†è¿‡æ»¤å™¨å ç”¨å†…å­˜è¶…è¿‡é¢„æœŸ</td><td>é™ä½åˆå§‹åŒ–å®¹é‡æˆ–æé«˜è¯¯åˆ¤ç‡å‚æ•°ï¼ˆå¦‚ 0.01 â†’ 0.05ï¼‰</td></tr><tr><td><strong>åˆ†å¸ƒå¼éƒ¨ç½²å†²çª</strong></td><td>å¤šä¸ªå®ä¾‹åŒæ—¶åˆå§‹åŒ–ï¼Œå¯¼è‡´é‡å¤åˆå§‹åŒ–</td><td>Redisson çš„ <code>tryInit</code> å·²å¤„ç†ï¼Œæ— éœ€æ‹…å¿ƒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-22">å¸¸è§é—®é¢˜ &amp; è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-23">Q1ï¼šåˆå§‹åŒ–è€—æ—¶ä¹…ï¼Œåº”ç”¨å¯åŠ¨å˜æ…¢æ€ä¹ˆåŠï¼Ÿ</h4>
<p><strong>A</strong>ï¼š</p>
<ol>
<li><strong>åˆ†æ‰¹åŠ è½½</strong>ï¼šæ¯æ‰¹ 1000-5000 æ¡ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®</li>
<li><strong>å¼‚æ­¥åˆå§‹åŒ–</strong>ï¼šä½¿ç”¨ <code>@Async</code> æ³¨è§£ï¼Œåå°çº¿ç¨‹åˆå§‹åŒ–ï¼Œä¸é˜»å¡åº”ç”¨å¯åŠ¨</li>
<li><strong>é¢„çƒ­ç¼“å­˜</strong>ï¼šåœ¨éä¸šåŠ¡é«˜å³°æœŸï¼ˆå¦‚å‡Œæ™¨ï¼‰å¯åŠ¨åº”ç”¨</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataInitializer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ApplicationRunner</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> BloomFilterManager bloomFilterManager;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(ApplicationArguments args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// å¼‚æ­¥åˆå§‹åŒ–ï¼Œä¸é˜»å¡åº”ç”¨å¯åŠ¨</span>
        asyncInitBloomFilter();
    }
    
    <span class="hljs-meta">@Async</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">asyncInitBloomFilter</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            bloomFilterManager.initOrderBloomFilter();
            List&lt;String&gt; allOrderIds = orderMapper.selectAllOrderIds();
            bloomFilterManager.addOrderIdBatch(allOrderIds, <span class="hljs-number">1000</span>);
            log.info(<span class="hljs-string">"âœ… å¸ƒéš†è¿‡æ»¤å™¨å¼‚æ­¥åˆå§‹åŒ–å®Œæˆ"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"âŒ å¸ƒéš†è¿‡æ»¤å™¨å¼‚æ­¥åˆå§‹åŒ–å¤±è´¥"</span>, e);
        }
    }
}
</code></pre>
<h4 data-id="heading-24">Q2ï¼šè¯¯åˆ¤ç‡è¿‡é«˜ï¼Œå¯¼è‡´æ•°æ®åº“æŸ¥è¯¢å¢åŠ æ€ä¹ˆåŠï¼Ÿ</h4>
<p><strong>A</strong>ï¼š</p>
<ol>
<li><strong>å¢åŠ åˆå§‹åŒ–å®¹é‡</strong>ï¼šä» 100ä¸‡ å¢åŠ åˆ° 200ä¸‡</li>
<li><strong>é™ä½è¯¯åˆ¤ç‡å‚æ•°</strong>ï¼šä» 0.01 æ”¹ä¸º 0.001ï¼ˆå ç”¨å†…å­˜ä¼šå¢åŠ ï¼‰</li>
<li><strong>å®šæœŸç›‘æ§</strong>ï¼šç»Ÿè®¡å®é™…è¯¯åˆ¤ç‡ï¼Œä¸é¢„æœŸå¯¹æ¯”</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç›‘æ§è¯¯åˆ¤ç‡</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BloomFilterMonitor</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-meta">@Scheduled(cron = "0 0 * * * ?")</span>  <span class="hljs-comment">// æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">monitorFalsePositiveRate</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ç»Ÿè®¡æœ€è¿‘ 1 å°æ—¶çš„è¯¯åˆ¤æ¬¡æ•°</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">falsePositiveCount</span> <span class="hljs-operator">=</span> orderMapper.countFalsePositives();
        <span class="hljs-type">long</span> <span class="hljs-variable">totalQueries</span> <span class="hljs-operator">=</span> orderMapper.countTotalQueries();
        
        <span class="hljs-type">double</span> <span class="hljs-variable">actualRate</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) falsePositiveCount / totalQueries;
        log.info(<span class="hljs-string">"å¸ƒéš†è¿‡æ»¤å™¨å®é™…è¯¯åˆ¤ç‡: {}, é¢„æœŸè¯¯åˆ¤ç‡: 0.01"</span>, actualRate);
        
        <span class="hljs-keyword">if</span> (actualRate &gt; <span class="hljs-number">0.02</span>) {
            log.warn(<span class="hljs-string">"âš ï¸ è¯¯åˆ¤ç‡è¿‡é«˜ï¼Œå»ºè®®å¢åŠ åˆå§‹åŒ–å®¹é‡æˆ–é™ä½è¯¯åˆ¤ç‡å‚æ•°"</span>);
        }
    }
}
</code></pre>
<h4 data-id="heading-25">Q3ï¼šå†…å­˜å ç”¨è¿‡å¤§æ€ä¹ˆåŠï¼Ÿ</h4>
<p><strong>A</strong>ï¼š</p>
<ol>
<li><strong>æé«˜è¯¯åˆ¤ç‡å‚æ•°</strong>ï¼šä» 0.01 æ”¹ä¸º 0.05ï¼ˆè¯¯åˆ¤ç‡å¢åŠ ï¼Œä½†å†…å­˜å‡å°‘ï¼‰</li>
<li><strong>å‡å°‘åˆå§‹åŒ–å®¹é‡</strong>ï¼šåªåŠ è½½çƒ­ç‚¹æ•°æ®ï¼ˆå¦‚æœ€è¿‘ 3 ä¸ªæœˆçš„è®¢å•ï¼‰</li>
<li><strong>åˆ†ç¦»å¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼šä¸ºä¸åŒçš„ä¸šåŠ¡æ¨¡å—åˆ›å»ºç‹¬ç«‹çš„å¸ƒéš†è¿‡æ»¤å™¨</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åªåŠ è½½çƒ­ç‚¹æ•°æ®ï¼ˆæœ€è¿‘ 3 ä¸ªæœˆçš„è®¢å•ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addHotOrderIds</span><span class="hljs-params">()</span> {
    <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">threeMonthsAgo</span> <span class="hljs-operator">=</span> LocalDateTime.now().minusMonths(<span class="hljs-number">3</span>);
    List&lt;String&gt; hotOrderIds = orderMapper.selectOrderIdsSince(threeMonthsAgo);
    bloomFilterManager.addOrderIdBatch(hotOrderIds, <span class="hljs-number">1000</span>);
}
</code></pre>
<h4 data-id="heading-26">Q4ï¼šè®¢å•åˆ é™¤åï¼Œå¸ƒéš†è¿‡æ»¤å™¨ä»è®¤ä¸ºå­˜åœ¨æ€ä¹ˆåŠï¼Ÿ</h4>
<p><strong>A</strong>ï¼š</p>
<ol>
<li><strong>ä½¿ç”¨è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼šæ”¯æŒåˆ é™¤æ“ä½œ</li>
<li><strong>å®šæœŸé‡å»º</strong>ï¼šæ¯å¤©å‡Œæ™¨ 2 ç‚¹é‡å»ºä¸€æ¬¡</li>
<li><strong>æ¥å—è¯¯åˆ¤</strong>ï¼šå¸ƒéš†è¿‡æ»¤å™¨çš„è¯¯åˆ¤æ˜¯å¯æ¥å—çš„ï¼Œæ•°æ®åº“ä¼šäºŒæ¬¡ç¡®è®¤</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®¢å•åˆ é™¤æ—¶ï¼ŒåŒæ­¥æ›´æ–°è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderDeleteService</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> CountingBloomFilterManager countingBloomFilterManager;
    
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteOrder</span><span class="hljs-params">(String orderId)</span> {
        <span class="hljs-comment">// 1. åˆ é™¤è®¢å•</span>
        orderMapper.deleteById(orderId);
        
        <span class="hljs-comment">// 2. ä»è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨ä¸­åˆ é™¤</span>
        countingBloomFilterManager.remove(orderId);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-27">æµ‹è¯•éªŒè¯</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BloomFilterTest</span> {
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> BloomFilterManager bloomFilterManager;
    
    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> RedissonClient redissonClient;
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testBloomFilterBasic</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 1. åˆå§‹åŒ–</span>
        bloomFilterManager.initOrderBloomFilter();
        
        <span class="hljs-comment">// 2. æ·»åŠ æ•°æ®</span>
        bloomFilterManager.addOrderId(<span class="hljs-string">"order:001"</span>);
        bloomFilterManager.addOrderId(<span class="hljs-string">"order:002"</span>);
        
        <span class="hljs-comment">// 3. éªŒè¯å­˜åœ¨</span>
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(BloomFilterConstants.ORDER_BLOOM_KEY);
        assertTrue(bloomFilter.contains(<span class="hljs-string">"order:001"</span>));
        assertTrue(bloomFilter.contains(<span class="hljs-string">"order:002"</span>));
        
        <span class="hljs-comment">// 4. éªŒè¯ä¸å­˜åœ¨</span>
        assertFalse(bloomFilter.contains(<span class="hljs-string">"order:999"</span>));
        
        log.info(<span class="hljs-string">"âœ… å¸ƒéš†è¿‡æ»¤å™¨åŸºç¡€åŠŸèƒ½æµ‹è¯•é€šè¿‡"</span>);
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testBloomFilterPerformance</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 1. åˆå§‹åŒ–</span>
        bloomFilterManager.initOrderBloomFilter();
        
        <span class="hljs-comment">// 2. æ‰¹é‡æ·»åŠ  10 ä¸‡æ¡æ•°æ®</span>
        List&lt;String&gt; orderIds = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100_000</span>; i++) {
            orderIds.add(<span class="hljs-string">"order:"</span> + i);
        }
        
        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        bloomFilterManager.addOrderIdBatch(orderIds, <span class="hljs-number">1000</span>);
        <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
        
        log.info(<span class="hljs-string">"âœ… æ·»åŠ  10 ä¸‡æ¡æ•°æ®è€—æ—¶: {} ms"</span>, duration);
        
        <span class="hljs-comment">// 3. æµ‹è¯•æŸ¥è¯¢æ€§èƒ½</span>
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(BloomFilterConstants.ORDER_BLOOM_KEY);
        
        startTime = System.currentTimeMillis();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100_000</span>; i++) {
            bloomFilter.contains(<span class="hljs-string">"order:"</span> + i);
        }
        duration = System.currentTimeMillis() - startTime;
        
        log.info(<span class="hljs-string">"âœ… æŸ¥è¯¢ 10 ä¸‡æ¬¡è€—æ—¶: {} msï¼Œå¹³å‡æ¯æ¬¡: {} Î¼s"</span>, 
            duration, (<span class="hljs-type">double</span>) duration * <span class="hljs-number">1000</span> / <span class="hljs-number">100_000</span>);
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testBloomFilterFalsePositiveRate</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 1. åˆå§‹åŒ–</span>
        bloomFilterManager.initOrderBloomFilter();
        
        <span class="hljs-comment">// 2. æ·»åŠ  1 ä¸‡æ¡æ•°æ®</span>
        List&lt;String&gt; orderIds = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10_000</span>; i++) {
            orderIds.add(<span class="hljs-string">"order:"</span> + i);
        }
        bloomFilterManager.addOrderIdBatch(orderIds, <span class="hljs-number">1000</span>);
        
        <span class="hljs-comment">// 3. æµ‹è¯•è¯¯åˆ¤ç‡ï¼ˆæŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®ï¼‰</span>
        RBloomFilter&lt;String&gt; bloomFilter = redissonClient.getBloomFilter(BloomFilterConstants.ORDER_BLOOM_KEY);
        
        <span class="hljs-type">int</span> <span class="hljs-variable">falsePositiveCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">testCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">100_000</span>;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">10_000</span>; i &lt; <span class="hljs-number">10_000</span> + testCount; i++) {
            <span class="hljs-keyword">if</span> (bloomFilter.contains(<span class="hljs-string">"order:"</span> + i)) {
                falsePositiveCount++;
            }
        }
        
        <span class="hljs-type">double</span> <span class="hljs-variable">actualRate</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) falsePositiveCount / testCount;
        log.info(<span class="hljs-string">"âœ… å®é™…è¯¯åˆ¤ç‡: {} (é¢„æœŸ: 0.01)"</span>, actualRate);
        
        <span class="hljs-comment">// è¯¯åˆ¤ç‡åº”è¯¥æ¥è¿‘é¢„æœŸçš„ 1%</span>
        assertTrue(actualRate &lt; <span class="hljs-number">0.02</span>, <span class="hljs-string">"è¯¯åˆ¤ç‡è¿‡é«˜"</span>);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-28">ä¼˜åŠ¿ä¸é¿å‘</h3>
<h4 data-id="heading-29">âœ… ä¼˜åŠ¿</h4>
<ul>
<li><strong>è½»é‡é«˜æ•ˆ</strong>ï¼šå ç”¨å†…å­˜æå°ï¼ˆ100ä¸‡æ•°æ®ä»…éœ€ ~1.2MBï¼‰ï¼ŒæŸ¥è¯¢ O(k) æ—¶é—´å¤æ‚åº¦</li>
<li><strong>ä¸€è¡Œä»£ç </strong>ï¼š<code>bloomFilter.contains(orderId)</code> æå®šï¼Œé›†æˆç®€å•</li>
<li><strong>å®Œå…¨è§£å†³ç¼“å­˜ç©¿é€</strong>ï¼šæ— æ•ˆè¯·æ±‚ç›´æ¥æ‹¦æˆªï¼Œæ•°æ®åº“å‹åŠ›å¤§å¹…ä¸‹é™</li>
</ul>
<h4 data-id="heading-30">âš ï¸ é¿å‘æé†’</h4>
<ol>
<li><strong>è¯¯åˆ¤ç‡</strong>ï¼šå¸ƒéš†è¿‡æ»¤å™¨ä¼šè¯¯åˆ¤ï¼ˆè¯´å­˜åœ¨ä½†å®é™…ä¸å­˜åœ¨ï¼‰ï¼Œéœ€è¦æ•°æ®åº“äºŒæ¬¡ç¡®è®¤</li>
<li><strong>æ— æ³•åˆ é™¤</strong>ï¼šå¸ƒéš†è¿‡æ»¤å™¨ä¸æ”¯æŒåˆ é™¤æ“ä½œï¼Œåªèƒ½é‡å»ºã€‚å¦‚éœ€æ”¯æŒåˆ é™¤ï¼Œè€ƒè™‘ä½¿ç”¨è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨</li>
<li><strong>åˆå§‹åŒ–æˆæœ¬</strong>ï¼šåº”ç”¨å¯åŠ¨æ—¶éœ€è¦åŠ è½½æ‰€æœ‰æœ‰æ•ˆæ•°æ®ï¼Œå¤§æ•°æ®é‡å¯èƒ½è€—æ—¶</li>
<li><strong>å®¹é‡è§„åˆ’</strong>ï¼šåˆå§‹åŒ–æ—¶è¦é¢„ä¼°æ•°æ®é‡ï¼Œå®¹é‡ä¸è¶³ä¼šå¯¼è‡´è¯¯åˆ¤ç‡ä¸Šå‡</li>
</ol>
<hr/>
<h3 data-id="heading-31">æ€»ç»“</h3>
<p>ç¼“å­˜ç©¿é€ä¸å†æ˜¯éš¾é¢˜ã€‚ä¸€è¡Œä»£ç  <code>bloomFilter.contains(orderId)</code> å°±èƒ½æ‹¦æˆª 99% çš„æ— æ•ˆè¯·æ±‚ï¼Œè®©æ•°æ®åº“è½»æ¾åº”å¯¹ã€‚å¸ƒéš†è¿‡æ»¤å™¨è™½ç„¶æœ‰è¯¯åˆ¤ï¼Œä½†è¿™æ­£æ˜¯å®ƒçš„è®¾è®¡ç‰¹æ€§â€”â€”ç”¨æå°çš„ä»£ä»·æ¢å–æé«˜çš„æ•ˆç‡ã€‚</p>
<p><strong>ä¸‹æ¬¡é‡åˆ°ç¼“å­˜ç©¿é€ï¼Œç›´æ¥ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼Œç®€å•ã€é«˜æ•ˆã€ä¸€è¡Œä»£ç æå®šï¼</strong> ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¥ä¾vue å‰ç«¯çš„ ç”¨æˆ·ç®¡ç†é¡µé¢æºç è§£æ]]></title>    <link>https://juejin.cn/post/7598118189143801856</link>    <guid>https://juejin.cn/post/7598118189143801856</guid>    <pubDate>2026-01-23T05:46:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598118189143801856" data-draft-id="7598203055752003619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¥ä¾vue å‰ç«¯çš„ ç”¨æˆ·ç®¡ç†é¡µé¢æºç è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T05:46:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å†™ä»£ç å°±å¼€å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2889993082908344"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¥ä¾vue å‰ç«¯çš„ ç”¨æˆ·ç®¡ç†é¡µé¢æºç è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2889993082908344/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å†™ä»£ç å°±å¼€å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:46:35.000Z" title="Fri Jan 23 2026 05:46:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">1 æŸ¥è¯¢æ¡ä»¶</h2>
<p>å…³æ³¨gzh   bç«™   åŒåï¼Œæœ‰è§†é¢‘ç¬”è®°</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-comment">&lt;!-- æœç´¢æ¡ä»¶ è¡¨å• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">el-form</span> 
 Â <span class="hljs-attr">:model</span>=<span class="hljs-string">"queryParams"</span> Â // <span class="hljs-attr">ç»‘å®šè¡¨å•æ•°æ®å¯¹è±¡</span>ï¼Œ<span class="hljs-attr">å­˜å‚¨æ‰€æœ‰æœç´¢æ¡ä»¶</span>
 Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"queryForm"</span> Â  Â  Â  // <span class="hljs-attr">è¡¨å•å¼•ç”¨</span>ï¼Œ<span class="hljs-attr">å¯ç”¨äºè¡¨å•éªŒè¯</span>ã€<span class="hljs-attr">é‡ç½®ç­‰æ“ä½œ</span>
 Â <span class="hljs-attr">size</span>=<span class="hljs-string">"small"</span> Â  Â  Â  Â  Â // <span class="hljs-attr">è¡¨å•ç»„ä»¶å°ºå¯¸</span>ï¼š<span class="hljs-attr">å°å°ºå¯¸</span>
 Â <span class="hljs-attr">:inline</span>=<span class="hljs-string">"true"</span> Â  Â  Â  Â // <span class="hljs-attr">è¡¨å•å…ƒç´ è¡Œå†…æ’åˆ—</span>ï¼ˆ<span class="hljs-attr">æ¨ªå‘å¸ƒå±€</span>ï¼‰
 Â <span class="hljs-attr">v-show</span>=<span class="hljs-string">"showSearch"</span> Â  // <span class="hljs-attr">æ ¹æ®showSearchå¸ƒå°”å€¼æ§åˆ¶è¡¨å•æ˜¾ç¤º</span>/<span class="hljs-attr">éšè—</span>,<span class="hljs-attr">è¿™ä¸ªæ˜¯</span>
 Â <span class="hljs-attr">label-width</span>=<span class="hljs-string">"68px"</span> Â  Â // <span class="hljs-attr">è¡¨å•æ ‡ç­¾å®½åº¦ç»Ÿä¸€è®¾ç½®ä¸º68px</span>
&gt;</span>
 Â <span class="hljs-comment">&lt;!-- ç”¨æˆ·åç§°æœç´¢é¡¹ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç”¨æˆ·åç§°"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"userName"</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span>
 Â  Â  Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"queryParams.userName"</span> Â // <span class="hljs-attr">åŒå‘ç»‘å®šç”¨æˆ·åæœç´¢å€¼</span>
 Â  Â  Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·åç§°"</span> Â  Â  // <span class="hljs-attr">è¾“å…¥æ¡†æç¤ºæ–‡å­—</span>
 Â  Â  Â <span class="hljs-attr">clearable</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">æ˜¾ç¤ºæ¸…ç©ºæŒ‰é’®</span>
 Â  Â  Â <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 240px"</span> Â  Â  Â  Â  Â  Â // <span class="hljs-attr">è¾“å…¥æ¡†å®½åº¦240px</span>
 Â  Â  Â @<span class="hljs-attr">keyup.enter.native</span>=<span class="hljs-string">"handleQuery"</span> Â // <span class="hljs-attr">ç›‘å¬å›è½¦é”®</span>ï¼Œ<span class="hljs-attr">è§¦å‘æœç´¢æ–¹æ³•</span>
 Â  Â /&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>
â€‹
 Â <span class="hljs-comment">&lt;!-- æ‰‹æœºå·ç æœç´¢é¡¹ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"æ‰‹æœºå·ç "</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"phonenumber"</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span>
 Â  Â  Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"queryParams.phonenumber"</span> Â // <span class="hljs-attr">åŒå‘ç»‘å®šæ‰‹æœºå·æœç´¢å€¼</span>
 Â  Â  Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥æ‰‹æœºå·ç "</span> Â  Â  Â  // <span class="hljs-attr">è¾“å…¥æ¡†æç¤ºæ–‡å­—</span>
 Â  Â  Â <span class="hljs-attr">clearable</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">æ˜¾ç¤ºæ¸…ç©ºæŒ‰é’®</span>
 Â  Â  Â <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 240px"</span> Â  Â  Â  Â  Â  Â  Â  Â // <span class="hljs-attr">è¾“å…¥æ¡†å®½åº¦240px</span>
 Â  Â  Â @<span class="hljs-attr">keyup.enter.native</span>=<span class="hljs-string">"handleQuery"</span> Â  Â // <span class="hljs-attr">ç›‘å¬å›è½¦é”®</span>ï¼Œ<span class="hljs-attr">è§¦å‘æœç´¢æ–¹æ³•</span>
 Â  Â /&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>
â€‹
 Â <span class="hljs-comment">&lt;!-- ç”¨æˆ·çŠ¶æ€ä¸‹æ‹‰é€‰æ‹©é¡¹ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"çŠ¶æ€"</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">"status"</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-select</span>
 Â  Â  Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"queryParams.status"</span> Â // <span class="hljs-attr">åŒå‘ç»‘å®šçŠ¶æ€æœç´¢å€¼</span>
 Â  Â  Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ç”¨æˆ·çŠ¶æ€"</span> Â  Â  Â  Â // <span class="hljs-attr">ä¸‹æ‹‰æ¡†æç¤ºæ–‡å­—</span>
 Â  Â  Â <span class="hljs-attr">clearable</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">æ˜¾ç¤ºæ¸…ç©ºæŒ‰é’®</span>
 Â  Â  Â <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 240px"</span> Â  Â  Â  Â  Â // <span class="hljs-attr">ä¸‹æ‹‰æ¡†å®½åº¦240px</span>
 Â  Â &gt;</span>
 Â  Â  Â <span class="hljs-comment">&lt;!-- å¾ªç¯æ¸²æŸ“çŠ¶æ€é€‰é¡¹ï¼ˆä»å­—å…¸ä¸­è·å–ï¼‰ --&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span>
 Â  Â  Â  Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"dict in dict.type.sys_normal_disable"</span> Â // <span class="hljs-attr">éå†ç³»ç»Ÿé€šç”¨çŠ¶æ€å­—å…¸</span>
 Â  Â  Â  Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"dict.value"</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">é€‰é¡¹å”¯ä¸€æ ‡è¯†</span>
 Â  Â  Â  Â <span class="hljs-attr">:label</span>=<span class="hljs-string">"dict.label"</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">é€‰é¡¹æ˜¾ç¤ºæ–‡æœ¬</span>
 Â  Â  Â  Â <span class="hljs-attr">:value</span>=<span class="hljs-string">"dict.value"</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">é€‰é¡¹ç»‘å®šå€¼</span>
 Â  Â  Â /&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>
â€‹
 Â <span class="hljs-comment">&lt;!-- åˆ›å»ºæ—¶é—´èŒƒå›´é€‰æ‹©é¡¹ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"åˆ›å»ºæ—¶é—´"</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-date-picker</span>
 Â  Â  Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"dateRange"</span> Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">åŒå‘ç»‘å®šæ—¥æœŸèŒƒå›´æ•°ç»„</span>
 Â  Â  Â <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 240px"</span> Â  Â  Â  Â  Â  Â  Â // <span class="hljs-attr">æ—¥æœŸé€‰æ‹©å™¨å®½åº¦240px</span>
 Â  Â  Â <span class="hljs-attr">value-format</span>=<span class="hljs-string">"yyyy-MM-dd"</span> Â  Â  Â  Â  // <span class="hljs-attr">æ—¥æœŸæ ¼å¼åŒ–</span>ï¼š<span class="hljs-attr">å¹´-æœˆ-æ—¥</span>
 Â  Â  Â <span class="hljs-attr">type</span>=<span class="hljs-string">"daterange"</span> Â  Â  Â  Â  Â  Â  Â  Â  Â // <span class="hljs-attr">é€‰æ‹©ç±»å‹</span>ï¼š<span class="hljs-attr">æ—¥æœŸèŒƒå›´</span>
 Â  Â  Â <span class="hljs-attr">range-separator</span>=<span class="hljs-string">"-"</span> Â  Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">èŒƒå›´åˆ†éš”ç¬¦</span>
 Â  Â  Â <span class="hljs-attr">start-placeholder</span>=<span class="hljs-string">"å¼€å§‹æ—¥æœŸ"</span> Â  Â  Â // <span class="hljs-attr">å¼€å§‹æ—¥æœŸæç¤ºæ–‡å­—</span>
 Â  Â  Â <span class="hljs-attr">end-placeholder</span>=<span class="hljs-string">"ç»“æŸæ—¥æœŸ"</span> Â  Â  Â  Â // <span class="hljs-attr">ç»“æŸæ—¥æœŸæç¤ºæ–‡å­—</span>
 Â  Â &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-date-picker</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>
â€‹
 Â <span class="hljs-comment">&lt;!-- æ“ä½œæŒ‰é’®ç»„ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- æœç´¢æŒ‰é’® --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> 
 Â  Â  Â <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> Â  Â // <span class="hljs-attr">ä¸»è¦æŒ‰é’®æ ·å¼</span>ï¼ˆ<span class="hljs-attr">è“è‰²</span>ï¼‰
 Â  Â  Â <span class="hljs-attr">icon</span>=<span class="hljs-string">"el-icon-search"</span> Â // <span class="hljs-attr">æœç´¢å›¾æ ‡</span>
 Â  Â  Â <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span> Â  Â  Â  // <span class="hljs-attr">æŒ‰é’®å°ºå¯¸</span>ï¼š<span class="hljs-attr">è¿·ä½ </span>
 Â  Â  Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleQuery"</span> Â  // <span class="hljs-attr">ç‚¹å‡»è§¦å‘æœç´¢æ–¹æ³•</span>
 Â  Â &gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
 Â  Â 
 Â  Â <span class="hljs-comment">&lt;!-- é‡ç½®æŒ‰é’® --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> 
 Â  Â  Â <span class="hljs-attr">icon</span>=<span class="hljs-string">"el-icon-refresh"</span> Â // <span class="hljs-attr">åˆ·æ–°å›¾æ ‡</span>
 Â  Â  Â <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span> Â  Â  Â  Â  Â  Â  // <span class="hljs-attr">æŒ‰é’®å°ºå¯¸</span>ï¼š<span class="hljs-attr">è¿·ä½ </span>
 Â  Â  Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"resetQuery"</span> Â  Â  // <span class="hljs-attr">ç‚¹å‡»è§¦å‘é‡ç½®æ–¹æ³•</span>
 Â  Â &gt;</span>é‡ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span>
</code></pre>
<h3 data-id="heading-1">1.1 <code>v-show</code> çš„æœ¬è´¨</h3>
<p><img src="" alt="" loading="lazy"/></p>
<p>Element-UI çš„ <code>&lt;el-form&gt;</code> è‡ªå¸¦çš„å±æ€§æ˜¯ <code>model</code>ã€<code>ref</code>ã€<code>inline</code>ã€<code>label-width</code> ç­‰ï¼ˆè¿™äº›æ˜¯ el-form ç»„ä»¶å°è£…çš„ä¸“å±å±æ€§ï¼‰ï¼Œè€Œ <code>v-show</code>ã€<code>v-if</code>ã€<code>v-for</code> ç­‰éƒ½æ˜¯ Vue æ¡†æ¶å±‚é¢çš„æŒ‡ä»¤ï¼Œæ‰€æœ‰æ ‡ç­¾ / ç»„ä»¶éƒ½èƒ½ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-2">1.2el-form-item</h3>
<pre><code class="hljs language-ini" lang="ini">  &lt;el-form-item <span class="hljs-attr">label</span>=<span class="hljs-string">"ç”¨æˆ·åç§°"</span> prop=<span class="hljs-string">"userName"</span>&gt;
</code></pre>
<p>è¿™ä¸ªæ ‡ç­¾ï¼Œé‡Œé¢çš„lable prop æ˜¯ elementui çš„el-form-item æ ‡ç­¾çš„å±æ€§ï¼Œlable æ˜¯æ§åˆ¶çš„å‰é¢çš„æ–‡å­—</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>prop æ˜¯ è¦å’Œè¿™ä¸ªå­—æ®µå‰åç«¯äº¤äº’çš„åç§°ä¸€æ ·ï¼ŒåšéªŒè¯</p>
<h3 data-id="heading-3">1.3 el-date-picker æ—¥æœŸèŒƒå›´</h3>
<p>Â  Â  Â  v-model="dateRange"</p>
<pre><code class="hljs language-arduino" lang="arduino"> Â  Â   <span class="hljs-comment">// æ—¥æœŸèŒƒå›´</span>
 Â  Â   dateRange: []
</code></pre>
<h3 data-id="heading-4">1.4 æœç´¢</h3>
<pre><code class="hljs language-arduino" lang="arduino"> Â  Â  Â  Â &lt;el-button type=<span class="hljs-string">"primary"</span> icon=<span class="hljs-string">"el-icon-search"</span> size=<span class="hljs-string">"mini"</span> @click=<span class="hljs-string">"handleQuery"</span>&gt;æœç´¢&lt;/el-button&gt;
</code></pre>
<p>ç‚¹å‡»äº†è¿™ä¸ªæŒ‰é’®ï¼Œèµ°çš„é€»è¾‘æ˜¯</p>
<pre><code class="hljs language-ini" lang="ini"> /** æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ */
 Â  Â getList() {
 Â  Â  Â <span class="hljs-attr">this.loading</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
 Â  Â  Â listUser(this.addDateRange(this.queryParams, this.dateRange)).then(<span class="hljs-attr">response</span> =&gt; {
 Â  Â  Â  Â  Â <span class="hljs-attr">this.userList</span> = response.rows<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">this.total</span> = response.total<span class="hljs-comment">;</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">this.loading</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
 Â  Â  Â   }
 Â  Â   )<span class="hljs-comment">;</span>
 Â   },
</code></pre>
<p>è¿™ä¸ªå°±æ˜¯è°ƒç”¨åç«¯æ¥å£è¿›è¡ŒæŸ¥è¯¢æ•°æ®ï¼Œå…¶ä¸­ç»™åç«¯ä¼ çš„å‚æ•°ï¼Œæ˜¯éœ€è¦è¿›è¡Œç»„åˆä¹‹åä¼ çš„</p>
<p>this.addDateRange(this.queryParams, this.dateRange)</p>
<p>è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå…¬å…±æ–¹æ³•</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>ç”¨æˆ·åç§°è¿™ä¸ªè¾“å…¥æ¡† ï¼Œç»‘å®šäº†æŸ¥è¯¢å‚æ•°çš„username ï¼Œ</p>
<p>Â @keyup.enter.native="handleQuery"</p>
<p>åœ¨è¿™ä¸ªç»„ä»¶ä¸ŠæŒ‰ä¸‹å›è½¦é”®æ—¶ï¼Œæ‰§è¡Œ <code>handleQuery</code> æ–¹æ³•ï¼ˆé€šå¸¸æ˜¯æŸ¥è¯¢ / æœç´¢é€»è¾‘ï¼‰â€ã€‚</p>
<h3 data-id="heading-5">1.5 é‡ç½®</h3>
<h3 data-id="heading-6">1.6 æ€»ç»“</h3>
<p>è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªè¡¨å•ï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„ä¸œè¥¿ï¼Œå»æ›´æ”¹è¡¨å•ä¿¡æ¯ï¼Œç„¶åç‚¹å‡»æŒ‰é’®ï¼Œè°ƒç”¨ä¸€ä¸ªæ–¹æ³•å»åç«¯æŸ¥è¯¢ä¸œè¥¿ï¼ŒæŠŠè¡¨å•é‡Œé¢çš„ä¸œè¥¿ä¼ è¿‡å»ä½œä¸ºå‚æ•°ï¼Œè·å–åˆ°çš„ä¸œè¥¿å†æ¬¡æ”¾åˆ° data é‡Œé¢ï¼Œé¡µé¢ä»data é‡Œé¢æ‹¿åˆ°ä¸œè¥¿ä¹‹åå±•ç¤ºã€‚</p>
<h2 data-id="heading-7">2 æŒ‰é’®</h2>
<p><img src="" alt="" loading="lazy"/></p>
<p>å¯¹åº”çš„ä»£ç </p>
<p><img src="" alt="" loading="lazy"/></p>
<p><img src="" alt="" loading="lazy"/></p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-comment">&lt;!-- æ …æ ¼åˆ—å®¹å™¨ï¼šåˆ†é…1.5/24çš„å®½åº¦ï¼ˆç²¾ç»†åŒ–æ§åˆ¶æŒ‰é’®æ‰€å ç©ºé—´ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">el-col</span> <span class="hljs-attr">:span</span>=<span class="hljs-string">"1.5"</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- æ–°å¢ç”¨æˆ·æŒ‰é’® --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>
 Â  Â <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> Â  Â  Â  Â  Â &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">æŒ‰é’®ç±»å‹</span>ï¼š<span class="hljs-attr">ä¸»è¦æŒ‰é’®</span>ï¼ˆ<span class="hljs-attr">Element</span> <span class="hljs-attr">UIå†…ç½®è“è‰²æ ·å¼</span>ï¼‰ <span class="hljs-attr">--</span>&gt;</span>
 Â   plain Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">&lt;!-- æœ´ç´ æŒ‰é’®æ ·å¼ï¼šé€æ˜èƒŒæ™¯+è“è‰²è¾¹æ¡†ï¼ˆè½»é‡åŒ–è§†è§‰ï¼‰ --&gt;</span>
 Â   icon="el-icon-plus" Â  Â  <span class="hljs-comment">&lt;!-- æŒ‰é’®å·¦ä¾§å›¾æ ‡ï¼šåŠ å·ï¼ˆç›´è§‚æç¤ºâ€œæ–°å¢â€åŠŸèƒ½ï¼‰ --&gt;</span>
 Â   size="mini" Â  Â  Â  Â  Â  Â  <span class="hljs-comment">&lt;!-- æŒ‰é’®å°ºå¯¸ï¼šè¶…å°ï¼ˆé€‚é…è¡¨æ ¼æ“ä½œæ ç´§å‡‘å¸ƒå±€ï¼‰ --&gt;</span>
 Â   @click="handleAdd" Â  Â  Â <span class="hljs-comment">&lt;!-- ç‚¹å‡»äº‹ä»¶ï¼šè§¦å‘æ–°å¢ç”¨æˆ·é€»è¾‘ï¼ˆæ‰“å¼€æ–°å¢å¼¹çª—/é‡ç½®è¡¨å•ç­‰ï¼‰ --&gt;</span>
 Â   v-hasPermi="['system:user:add']" Â <span class="hljs-comment">&lt;!-- æƒé™æ§åˆ¶æŒ‡ä»¤ï¼šä»…æ‹¥æœ‰â€œç³»ç»Ÿ-ç”¨æˆ·-æ–°å¢â€æƒé™çš„ç”¨æˆ·å¯è§ --&gt;</span>
  &gt;æ–°å¢<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">el-col</span>&gt;</span>
</code></pre>
<h3 data-id="heading-8">2.1 æƒé™</h3>
<p>è¿™ä¸ªæŒ‰é’®ä¸Šæœ‰ä¸€ä¸ª v-hasPermi = "['system:user:add']" æ˜¯å•¥æ„æ€ï¼Œè¿™ä¸ª v-hasPermi æ˜¯ä»€ä¹ˆï¼Œå’‹æ¥çš„</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>é¡¹ç›®é‡Œé¢è‡ªå®šä¹‰äº†è¿™ä¸ªï¼Œç„¶å</p>
<p>main.js å¼•å…¥</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>é‡Œé¢å·²ç»æ³¨å†Œï¼Œå…¨å±€ä½¿ç”¨</p>
<p><img src="" alt="" loading="lazy"/></p>
<p><img src="" alt="" loading="lazy"/></p>
<p>æ€»ç»“é‚£å°±æ˜¯è‡ªå®šä¹‰äº†è¿™ä¸ªæŒ‡ä»¤ï¼Œé¡µé¢æ¸²æŸ“çš„æ—¶å€™ä¼šè‡ªåŠ¨çš„æ‰§è¡Œè¿™ä¸ªæŒ‡ä»¤ã€‚è¿™ä¸ªæŒ‡ä»¤é‡Œé¢é€»è¾‘å°±æ˜¯åˆ¤æ–­å½“å‰ç”¨æˆ·çš„æƒé™é‡Œé¢æœ‰æ²¡æœ‰è¿™ä¸ªï¼Œæœ‰å°±æ¸²æŸ“è¿™ä¸ªdom èŠ‚ç‚¹ï¼Œæ²¡æœ‰å°±ä¸æ¸²æŸ“</p>
<h3 data-id="heading-9">2.2 æ–°å¢</h3>
<p><img src="" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œå°±è°ƒä½£æ–¹æ³• handleAdd</p>
<pre><code class="hljs language-ini" lang="ini"> /** æ–°å¢æŒ‰é’®æ“ä½œ */
 Â  Â handleAdd() {
 Â  Â  Â this.reset()<span class="hljs-comment">;</span>
 Â  Â  Â getUser().then(<span class="hljs-attr">response</span> =&gt; {
 Â  Â  Â  Â <span class="hljs-attr">this.postOptions</span> = response.posts<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.roleOptions</span> = response.roles<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.open</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.title</span> = <span class="hljs-string">"æ·»åŠ ç”¨æˆ·"</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.form.password</span> = this.initPassword<span class="hljs-comment">;</span>
 Â  Â   })<span class="hljs-comment">;</span>
 Â   },
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"> <span class="hljs-comment">// è¡¨å•é‡ç½®</span>
 Â  Â <span class="hljs-title function_">reset</span>(<span class="hljs-params"/>) {
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span> = {
 Â  Â  Â  Â <span class="hljs-attr">userId</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">deptId</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">userName</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">nickName</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">password</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">phonenumber</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">email</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">sex</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">status</span>: <span class="hljs-string">"0"</span>,
 Â  Â  Â  Â <span class="hljs-attr">remark</span>: <span class="hljs-literal">undefined</span>,
 Â  Â  Â  Â <span class="hljs-attr">postIds</span>: [],
 Â  Â  Â  Â <span class="hljs-attr">roleIds</span>: []
 Â  Â   };
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resetForm</span>(<span class="hljs-string">"form"</span>);
 Â   },
</code></pre>
<p>å…ˆé‡ç½®è¡¨å•ï¼Œç„¶åè®¿é—®åç«¯æ¥å£ï¼Œè·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼Œè·å–åˆ°å½“å‰ç™»å½•ç”¨æˆ·çš„å²—ä½ä¿¡æ¯å’Œè§’è‰²ä¿¡æ¯</p>
<pre><code class="hljs language-ini" lang="ini">
 Â  Â // è¡¨å•å‚æ•°
 Â  Â  Â form: {}, 
â€‹
â€‹
getUser().then(<span class="hljs-attr">response</span> =&gt; {
 Â  Â  Â  Â <span class="hljs-attr">this.postOptions</span> = response.posts<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.roleOptions</span> = response.roles<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.open</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.title</span> = <span class="hljs-string">"æ·»åŠ ç”¨æˆ·"</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">this.form.password</span> = this.initPassword<span class="hljs-comment">;</span>
 Â  Â   })<span class="hljs-comment">;</span>
</code></pre>
<p>å› ä¸ºä¸€ç‚¹å‡»æ–°å¢æŒ‰é’®ï¼Œå°±æŠŠopençš„å€¼å˜æˆture ,æ‰€ä»¥</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªåœ°æ–¹å°±å¼¹æ¡†äº†</p>
<p>el-dialog æ ‡ç­¾ é‡Œé¢çš„å±æ€§</p>













<table><thead><tr><th>title</th><th>Dialog çš„æ ‡é¢˜ï¼Œä¹Ÿå¯é€šè¿‡å…·å slot ï¼ˆè§ä¸‹è¡¨ï¼‰ä¼ å…¥</th></tr></thead><tbody><tr><td>append-to-body</td><td>Dialog è‡ªèº«æ˜¯å¦æ’å…¥è‡³ body å…ƒç´ ä¸Šã€‚åµŒå¥—çš„ Dialog å¿…é¡»æŒ‡å®šè¯¥å±æ€§å¹¶èµ‹å€¼ä¸º trueï¼Œé»˜è®¤æ˜¯false</td></tr></tbody></table>
<p>è¯¦ç»†æ‹†è§£è¯´æ˜</p>
<ol start="0">
<li><code>visible</code>ï¼šElement-UI el-dialog ç»„ä»¶çš„æ ¸å¿ƒå±æ€§</li>
</ol>
<p><code>visible</code> æ˜¯ <code>&lt;el-dialog&gt;</code> ç»„ä»¶<strong>è‡ªå¸¦çš„ã€å¿…ç”¨çš„æ ¸å¿ƒå±æ€§</strong>ï¼Œä½œç”¨æ˜¯ï¼š</p>
<ul>
<li>ç±»å‹ä¸ºå¸ƒå°”å€¼ï¼ˆtrue/falseï¼‰ï¼Œæ§åˆ¶å¼¹çª—çš„æ˜¾ç¤ºï¼ˆtrueï¼‰æˆ–éšè—ï¼ˆfalseï¼‰ï¼›</li>
<li>æ˜¯ Element-UI ä¸º el-dialog å°è£…çš„ä¸“å±å±æ€§ï¼Œå…¶ä»–ç»„ä»¶ï¼ˆå¦‚ el-formã€el-buttonï¼‰æ²¡æœ‰è¿™ä¸ªå±æ€§ã€‚</li>
</ul>
<ol start="2">
<li><code>.sync</code>ï¼šVue æ¡†æ¶çš„è¯­æ³•ç³–ï¼ˆä¸æ˜¯ç»„ä»¶å±æ€§ï¼‰</li>
</ol>
<p><code>.sync</code> æ˜¯ Vue æä¾›çš„<strong>ä¿®é¥°ç¬¦</strong>ï¼Œæœ¬è´¨æ˜¯å¯¹ â€œçˆ¶å­ç»„ä»¶åŒå‘ç»‘å®šâ€ çš„è¯­æ³•ç®€åŒ–ï¼Œå’Œ el-dialog ç»„ä»¶æœ¬èº«æ— å…³ï¼š</p>
<ul>
<li>æ²¡æœ‰ <code>.sync</code> æ—¶ï¼Œçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼  <code>visible</code> å±æ€§æ˜¯<strong>å•å‘ç»‘å®š</strong>ï¼ˆçˆ¶â†’å­ï¼‰ï¼Œå­ç»„ä»¶æ— æ³•ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„ <code>open</code> å˜é‡ï¼›</li>
<li>åŠ ä¸Š <code>.sync</code> åï¼Œç›¸å½“äºå‘Šè¯‰ Vueï¼šå…è®¸ el-dialog ç»„ä»¶å†…éƒ¨è§¦å‘äº‹ä»¶æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„ <code>open</code> å˜é‡ï¼ˆå®ç°åŒå‘ç»‘å®šï¼‰ã€‚</li>
</ul>
<p><img src="" alt="" loading="lazy"/></p>
<p><img src="" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»å–æ¶ˆï¼ŒÂ @click="cancel" èµ°è¿™ä¸ªæ–¹æ³•ï¼Œ</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>å°†å¼€å…³å…³é—­ï¼Œé‡ç½®è¡¨å•</p>
<p>ç‚¹å‡»ç¡®å®šï¼Œèµ° @click="submitForm"</p>
<pre><code class="hljs language-kotlin" lang="kotlin"> <span class="hljs-comment">/** æäº¤æŒ‰é’® */</span>
 Â  Â submitForm: function() {
 Â  Â  Â <span class="hljs-keyword">this</span>.$refs[<span class="hljs-string">"form"</span>].validate(valid =&gt; {
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (valid) {
 Â  Â  Â  Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.form.userId != undefined) {
 Â  Â  Â  Â  Â  Â updateUser(<span class="hljs-keyword">this</span>.form).then(response =&gt; {
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.$modal.msgSuccess(<span class="hljs-string">"ä¿®æ”¹æˆåŠŸ"</span>);
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.<span class="hljs-keyword">open</span> = <span class="hljs-literal">false</span>;
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.getList();
 Â  Â  Â  Â  Â   });
 Â  Â  Â  Â   } <span class="hljs-keyword">else</span> {
 Â  Â  Â  Â  Â  Â addUser(<span class="hljs-keyword">this</span>.form).then(response =&gt; {
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.$modal.msgSuccess(<span class="hljs-string">"æ–°å¢æˆåŠŸ"</span>);
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.<span class="hljs-keyword">open</span> = <span class="hljs-literal">false</span>;
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.getList();
 Â  Â  Â  Â  Â   });
 Â  Â  Â  Â   }
 Â  Â  Â   }
 Â  Â   });
 Â   },
</code></pre>
<p>å…ˆéªŒè¯è¡¨å•ä¿¡æ¯ï¼Œä¹‹åè¦ä¹ˆæ›´æ–°ï¼Œè¦ä¹ˆæ–°å¢</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>é…ç½®äº†è¿™ä¸ªï¼Œé¡µé¢å±•ç¤ºè¿™ä¸ªå­—æ®µæ˜¯å¿…å¡«é¡¹ã€‚</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>é…ç½®äº†å„ä¸ªå­—æ®µçš„è§„åˆ™</p>
<h3 data-id="heading-10">2.3 ä¿®æ”¹</h3>
<pre><code class="hljs language-ini" lang="ini">â€‹
 &lt;el-col :<span class="hljs-attr">span</span>=<span class="hljs-string">"1.5"</span>&gt;
 Â  Â  Â  Â  Â  Â &lt;el-button
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-attr">type</span>=<span class="hljs-string">"success"</span>
 Â  Â  Â  Â  Â  Â  Â plain
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-attr">icon</span>=<span class="hljs-string">"el-icon-edit"</span>
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span>
 Â  Â  Â  Â  Â  Â  Â :<span class="hljs-attr">disabled</span>=<span class="hljs-string">"single"</span>
 Â  Â  Â  Â  Â  Â  Â @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleUpdate"</span>
 Â  Â  Â  Â  Â  Â  Â <span class="hljs-attr">v-hasPermi</span>=<span class="hljs-string">"['system:user:edit']"</span>
 Â  Â  Â  Â  Â  Â &gt;ä¿®æ”¹&lt;/el-button&gt;
 Â  Â  Â  Â  Â &lt;/el-col&gt;
</code></pre>
<p>ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œä¼šèµ°handleUpdate è¿™ä¸ªæ–¹æ³•</p>
<pre><code class="hljs language-kotlin" lang="kotlin"> Â <span class="hljs-comment">/** ä¿®æ”¹æŒ‰é’®æ“ä½œ */</span>
 Â  Â handleUpdate(row) {
 Â  Â  Â <span class="hljs-keyword">this</span>.reset();
 Â  Â  Â <span class="hljs-keyword">const</span> userId = row.userId || <span class="hljs-keyword">this</span>.ids;
 Â  Â  Â getUser(userId).then(response =&gt; {
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.form = response.<span class="hljs-keyword">data</span>;
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.postOptions = response.posts;
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.roleOptions = response.roles;
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.$<span class="hljs-keyword">set</span>(<span class="hljs-keyword">this</span>.form, <span class="hljs-string">"postIds"</span>, response.postIds);
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.$<span class="hljs-keyword">set</span>(<span class="hljs-keyword">this</span>.form, <span class="hljs-string">"roleIds"</span>, response.roleIds);
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.<span class="hljs-keyword">open</span> = <span class="hljs-literal">true</span>;
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.title = <span class="hljs-string">"ä¿®æ”¹ç”¨æˆ·"</span>;
 Â  Â  Â  Â <span class="hljs-keyword">this</span>.form.password = <span class="hljs-string">""</span>;
 Â  Â   });
 Â   },
</code></pre>
<p><code>$set</code> æ˜¯ Vue æ¡†æ¶ç»™æ‰€æœ‰ Vue å®ä¾‹ï¼ˆç»„ä»¶å®ä¾‹å°±æ˜¯ Vue å®ä¾‹ï¼‰æŒ‚è½½çš„<strong>å…¨å±€æ–¹æ³•</strong>ï¼Œä¹Ÿå¯ä»¥å†™æˆ <code>Vue.set</code>ï¼ˆå…¨å±€è°ƒç”¨ï¼‰ï¼Œ<code>this.$set</code> æ˜¯ç»„ä»¶å†…çš„ç®€å†™å½¢å¼ï¼ˆ<code>this</code> æŒ‡å‘å½“å‰ç»„ä»¶å®ä¾‹ï¼‰ã€‚</p>
<p><code>this</code>ï¼šå½“å‰ Vue ç»„ä»¶å®ä¾‹ï¼ˆæ¯”å¦‚åœ¨ <code>methods</code> é‡Œçš„æ–¹æ³•ä¸­ï¼Œ<code>this</code> æŒ‡å‘ç»„ä»¶ï¼‰ï¼›</p>
<p><code>$set</code>ï¼šVue å®ä¾‹çš„å†…ç½®æ–¹æ³•ï¼›</p>
<p><code>this.form</code>ï¼šè¦æ“ä½œçš„<strong>ç›®æ ‡å¯¹è±¡</strong>ï¼ˆæ¯”å¦‚è¡¨å•æ•°æ®å¯¹è±¡ï¼‰ï¼›</p>
<p><code>"postIds"</code>ï¼šè¦æ·»åŠ  / ä¿®æ”¹çš„<strong>å±æ€§å</strong>ï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼‰ï¼›</p>
<p><code>response.postIds</code>ï¼šè¦ç»™ <code>postIds</code> å±æ€§èµ‹å€¼çš„<strong>å€¼</strong>ï¼ˆæ¯”å¦‚æ¥å£è¿”å›çš„å²—ä½ ID æ•°ç»„ï¼‰ã€‚</p>
<h3 data-id="heading-11">2.4 åˆ é™¤</h3>
<h3 data-id="heading-12">2.5 å¯¼å…¥</h3>
<h3 data-id="heading-13">2.6 å¯¼å‡º</h3>
<h2 data-id="heading-14">3 é€šç”¨è¡¨æ ¼å³ä¾§å·¥å…·æ ç»„ä»¶</h2>
<p><img src="" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæ˜¯ç¬¬ä¸‰æ–¹çš„ç»„ä»¶</p>
<pre><code class="hljs language-less" lang="less">
&lt;<span class="hljs-attribute">right-toolbar </span>:showSearch.sync=<span class="hljs-string">"showSearch"</span> <span class="hljs-variable">@queryTable</span>=<span class="hljs-string">"getList"</span> :columns=<span class="hljs-string">"columns"</span>&gt;&lt;/right-toolbar&gt;
</code></pre>
<h2 data-id="heading-15">4 åˆ—è¡¨å±•ç¤º</h2>
<p><img src="" alt="" loading="lazy"/></p>
<p>ç›´æ¥ä½¿ç”¨äº†elementui é‡Œé¢çš„ç»„ä»¶</p>
<p><img src="" alt="" loading="lazy"/></p>
<p>å°†æ•°æ®è¿›è¡Œæ¸²æŸ“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaé€šç”¨å‹æ”¯ä»˜+ç”µå•†å¹³å°åŒç³»ç»Ÿå®æˆ˜ | å®Œç»“]]></title>    <link>https://juejin.cn/post/7598116600902418441</link>    <guid>https://juejin.cn/post/7598116600902418441</guid>    <pubDate>2026-01-23T05:58:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598116600902418441" data-draft-id="7598251121496604698" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaé€šç”¨å‹æ”¯ä»˜+ç”µå•†å¹³å°åŒç³»ç»Ÿå®æˆ˜ | å®Œç»“"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T05:58:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·156584592505"/> <meta itemprop="url" content="https://juejin.cn/user/3950970778687033"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaé€šç”¨å‹æ”¯ä»˜+ç”µå•†å¹³å°åŒç³»ç»Ÿå®æˆ˜ | å®Œç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3950970778687033/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·156584592505
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:58:07.000Z" title="Fri Jan 23 2026 05:58:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong><a href="https://link.juejin.cn?target=http%3A%2F%2Fxingkeit.top%2F7747%2F" target="_blank" title="http://xingkeit.top/7747/" ref="nofollow noopener noreferrer">å®æˆ˜æ”¯ä»˜+ç”µå•†åŒç³»ç»Ÿ ç©â€œèµšâ€JavaæŠ€æœ¯æ ˆ</a></strong></p>
<p>æŒæ¡åŸºç¡€å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰åªæ˜¯ Java å¼€å‘çš„èµ·ç‚¹ï¼Œè¦çœŸæ­£åƒé€è¿™é—¨æŠ€æœ¯æ ˆï¼Œå¿…é¡»æ·±å…¥ä¸šåŠ¡åœºæ™¯ï¼Œé€šè¿‡å®é™…é¡¹ç›®æ¥ç£¨ç»ƒæ¶æ„æ€ç»´ã€‚æœ¬æ–‡å°†å›´ç»•â€œç”µå•†â€ä¸â€œæ”¯ä»˜â€è¿™ä¸¤ä¸ªå¼ºå…³è”çš„æ ¸å¿ƒç³»ç»Ÿï¼Œä»æŠ€æœ¯é€‰å‹ã€æ¶æ„è®¾è®¡åˆ°æ ¸å¿ƒä»£ç å®ç°ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥å®Œæˆä»åˆçº§å¼€å‘å‘æ¶æ„è®¾è®¡çš„è¿›é˜¶ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ é¡¹ç›®èƒŒæ™¯ä¸æŠ€æœ¯é€‰å‹</h2>
<p>åœ¨å®é™…ä¼ä¸šå¼€å‘ä¸­ï¼Œç”µå•†ç³»ç»Ÿä¸æ”¯ä»˜ç³»ç»Ÿé€šå¸¸æ—¢æ˜¯ååŒå·¥ä½œçš„ï¼Œåˆæ˜¯ç‰©ç†éš”ç¦»çš„ã€‚ç”µå•†ç³»ç»Ÿè´Ÿè´£å•†å“å±•ç¤ºã€è®¢å•ç”Ÿæˆï¼›æ”¯ä»˜ç³»ç»Ÿè´Ÿè´£èµ„é‡‘æµæ°´ã€æ¸ é“å¯¹æ¥ã€‚</p>
<p><strong>æ ¸å¿ƒæŠ€æœ¯æ ˆï¼š</strong></p>
<ul>
<li><strong>åç«¯æ¡†æ¶</strong>ï¼šSpring Boot 3.x + Spring MVC</li>
<li><strong>æ•°æ®è®¿é—®</strong>ï¼šMyBatis-Plus + Druid è¿æ¥æ± </li>
<li><strong>æ•°æ®åº“</strong>ï¼šMySQL 8.0 (ä¸»ä»æ¶æ„æ¨¡æ‹Ÿ)</li>
<li><strong>ç¼“å­˜ä¸­é—´ä»¶</strong>ï¼šRedis (åˆ†å¸ƒå¼ç¼“å­˜ã€åˆ†å¸ƒå¼é”)</li>
<li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šRabbitMQ (å¼‚æ­¥è§£è€¦ã€æµé‡å‰Šå³°)</li>
<li><strong>æœåŠ¡æ²»ç†</strong>ï¼šNacos (æ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒ)</li>
<li><strong>RPC è°ƒç”¨</strong>ï¼šOpenFeign</li>
</ul>
<h2 data-id="heading-1">äºŒã€ ç”µå•†è®¢å•ç³»ç»Ÿï¼šæ„å»ºé«˜å¹¶å‘äº¤æ˜“åŸºçŸ³</h2>
<p>ç”µå•†ç³»ç»Ÿçš„æ ¸å¿ƒåœ¨äºå¤„ç†é«˜å¹¶å‘ä¸‹çš„è®¢å•ä¸€è‡´æ€§ã€‚è¿™é‡Œæˆ‘ä»¬é€šè¿‡â€œRedis é¢„æ‰£åº“å­˜ + MQ å¼‚æ­¥ä¸‹å•â€çš„æ¨¡å¼æ¥æå‡ååé‡ã€‚</p>
<h3 data-id="heading-2">1. æ•°æ®åº“è®¾è®¡</h3>
<p>sql</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å•†å“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `product` (
  `id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
  `name` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å•†å“åç§°'</span>,
  `stock` <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'0'</span> COMMENT <span class="hljs-string">'åº“å­˜'</span>,
  `price` <span class="hljs-type">decimal</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å•ä»·'</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)
);

<span class="hljs-comment">-- è®¢å•è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `order_info` (
  `id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
  `order_no` <span class="hljs-type">varchar</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•å·'</span>,
  `product_id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å•†å“ID'</span>,
  `user_id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·ID'</span>,
  `amount` <span class="hljs-type">decimal</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•é‡‘é¢'</span>,
  `status` tinyint <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'0'</span> COMMENT <span class="hljs-string">'çŠ¶æ€:0-å¾…æ”¯ä»˜,1-å·²æ”¯ä»˜'</span>,
  `create_time` datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`),
  <span class="hljs-keyword">UNIQUE</span> KEY `uk_order_no` (`order_no`)
);
</code></pre>
<h3 data-id="heading-3">2. Redis é¢„æ‰£åº“å­˜é€»è¾‘ï¼ˆLua è„šæœ¬ä¿è¯åŸå­æ€§ï¼‰</h3>
<p>ä¸ºäº†é˜²æ­¢è¶…å–ï¼Œä¸èƒ½ç›´æ¥æŸ¥åº“æ‰£å‡ï¼Œå¿…é¡»åˆ©ç”¨ Redis çš„å•çº¿ç¨‹ç‰¹æ€§ã€‚</p>
<p>java</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-vbnet" lang="vbnet">@Service
@RequiredArgsConstructor
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> StockService {

    <span class="hljs-keyword">private</span> final RedisTemplate&lt;<span class="hljs-type">String</span>, <span class="hljs-type">Object</span>&gt; redisTemplate;

    // Lua è„šæœ¬ï¼šæ£€æŸ¥åº“å­˜å¹¶æ‰£å‡
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-type">String</span> STOCK_LUA_SCRIPT =
            <span class="hljs-string">"if tonumber(redis.call('get', KEYS[1])) &gt;= tonumber(ARGV[1]) then "</span> +
            <span class="hljs-string">"   return redis.call('decrby', KEYS[1], ARGV[1]); "</span> +
            <span class="hljs-string">"else "</span> +
            <span class="hljs-string">"   return -1; "</span> +
            <span class="hljs-string">"end"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> deductStock(<span class="hljs-type">Long</span> productId, <span class="hljs-type">Integer</span> quantity) {
        DefaultRedisScript&lt;<span class="hljs-type">Long</span>&gt; redisScript = <span class="hljs-built_in">new</span> DefaultRedisScript&lt;&gt;(STOCK_LUA_SCRIPT, <span class="hljs-type">Long</span>.<span class="hljs-keyword">class</span>);
        <span class="hljs-type">String</span> <span class="hljs-keyword">key</span> = <span class="hljs-string">"product:stock:"</span> + productId;
        <span class="hljs-type">Long</span> result = redisTemplate.execute(redisScript, Collections.singletonList(<span class="hljs-keyword">key</span>), quantity);
        <span class="hljs-keyword">return</span> result != null &amp;&amp; result &gt;= <span class="hljs-number">0</span>;
    }
}
</code></pre>
<h3 data-id="heading-4">3. ä¸‹å•ä¸æ¶ˆæ¯å‘é€</h3>
<p>åº“å­˜æ‰£å‡æˆåŠŸåï¼Œå‘é€æ¶ˆæ¯åˆ° MQï¼Œç”±æ¶ˆè´¹è€…å¼‚æ­¥è½åº“ã€‚</p>
<p>java</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@RequiredArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RabbitTemplate rabbitTemplate;
    
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> String createOrder(<span class="hljs-built_in">Long</span> productId, Integer quantity, <span class="hljs-built_in">Long</span> userId) {
        <span class="hljs-comment">// 1. ç”Ÿæˆè®¢å•å·</span>
        String orderNo = UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
        
        <span class="hljs-comment">// 2. å°è£…æ¶ˆæ¯å¯¹è±¡</span>
        OrderDTO orderDTO = OrderDTO.builder()
                .orderNo(orderNo)
                .productId(productId)
                .userId(userId)
                .quantity(quantity)
                .build();
                
        <span class="hljs-comment">// 3. å‘é€æ¶ˆæ¯åˆ°è®¢å•äº¤æ¢æœº</span>
        rabbitTemplate.convertAndSend(<span class="hljs-string">"order.exchange"</span>, <span class="hljs-string">"order.routing.key"</span>, orderDTO);
        
        <span class="hljs-keyword">return</span> orderNo;
    }
}
</code></pre>
<p>java</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
<span class="hljs-variable">@RabbitListener</span>(queues = <span class="hljs-string">"order.queue"</span>)
<span class="hljs-variable">@RequiredArgsConstructor</span>
public class OrderConsumer {

    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">OrderMapper</span> <span class="hljs-selector-tag">orderMapper</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">ProductMapper</span> <span class="hljs-selector-tag">productMapper</span>;

    @<span class="hljs-selector-tag">RabbitHandler</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">handleOrder</span>(OrderDTO orderDTO) {
        <span class="hljs-selector-tag">try</span> {
            <span class="hljs-comment">// å¹‚ç­‰æ€§æ ¡éªŒï¼šæ£€æŸ¥è®¢å•æ˜¯å¦å·²å­˜åœ¨</span>
            <span class="hljs-selector-tag">OrderInfo</span> <span class="hljs-selector-tag">existingOrder</span> = <span class="hljs-selector-tag">orderMapper</span><span class="hljs-selector-class">.selectByOrderNo</span>(orderDTO.<span class="hljs-built_in">getOrderNo</span>());
            <span class="hljs-selector-tag">if</span> (existingOrder != null) {
                <span class="hljs-selector-tag">return</span>; <span class="hljs-comment">// é¿å…é‡å¤æ¶ˆè´¹</span>
            }

            <span class="hljs-comment">// æŸ¥è¯¢å•†å“ä»·æ ¼ï¼ˆå®é™…åœºæ™¯ä¼šèµ°ç¼“å­˜ï¼‰</span>
            <span class="hljs-selector-tag">Product</span> <span class="hljs-selector-tag">product</span> = <span class="hljs-selector-tag">productMapper</span><span class="hljs-selector-class">.selectById</span>(orderDTO.<span class="hljs-built_in">getProductId</span>());
            
            <span class="hljs-comment">// æ„å»ºè®¢å•å®ä½“</span>
            <span class="hljs-selector-tag">OrderInfo</span> <span class="hljs-selector-tag">order</span> = <span class="hljs-selector-tag">OrderInfo</span><span class="hljs-selector-class">.builder</span>()
                    <span class="hljs-selector-class">.orderNo</span>(orderDTO.<span class="hljs-built_in">getOrderNo</span>())
                    <span class="hljs-selector-class">.productId</span>(orderDTO.<span class="hljs-built_in">getProductId</span>())
                    <span class="hljs-selector-class">.userId</span>(orderDTO.<span class="hljs-built_in">getUserId</span>())
                    <span class="hljs-selector-class">.amount</span>(product.<span class="hljs-built_in">getPrice</span>().<span class="hljs-built_in">multiply</span>(new <span class="hljs-built_in">BigDecimal</span>(orderDTO.<span class="hljs-built_in">getQuantity</span>())))
                    <span class="hljs-selector-class">.status</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// å¾…æ”¯ä»˜</span>
                    <span class="hljs-selector-class">.build</span>();
            
            <span class="hljs-selector-tag">orderMapper</span><span class="hljs-selector-class">.insert</span>(order);
            
            <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> å¯ä»¥åœ¨è¿™é‡Œè§¦å‘â€œæ”¯ä»˜è¶…æ—¶è‡ªåŠ¨å–æ¶ˆâ€çš„å»¶æ—¶æ¶ˆæ¯</span>
        } <span class="hljs-selector-tag">catch</span> (Exception e) {
            <span class="hljs-comment">// å®é™…åœºæ™¯éœ€è¦è®°å½•æ­»ä¿¡é˜Ÿåˆ—æˆ–äººå·¥ä»‹å…¥</span>
            <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">RuntimeException</span>(<span class="hljs-string">"è®¢å•å…¥åº“å¤±è´¥"</span>);
        }
    }
}
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€ æ”¯ä»˜ç³»ç»Ÿï¼šæ ¸å¿ƒæ¶æ„è®¾è®¡</h2>
<p>æ”¯ä»˜ç³»ç»Ÿè¦æ±‚æé«˜çš„ç¨³å®šæ€§ä¸æ•°æ®ä¸€è‡´æ€§ã€‚æˆ‘ä»¬é‡‡ç”¨â€œç­–ç•¥æ¨¡å¼â€å¯¹æ¥ä¸åŒæ”¯ä»˜æ¸ é“ï¼ˆæ”¯ä»˜å®ã€å¾®ä¿¡ï¼‰ï¼Œå¹¶ä½¿ç”¨â€œçŠ¶æ€æœºâ€ç®¡ç†æ”¯ä»˜çŠ¶æ€ã€‚</p>
<h3 data-id="heading-6">1. æ”¯ä»˜æ ¸å¿ƒæ¥å£è®¾è®¡</h3>
<p>java</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ”¯ä»˜æ¸ é“ç­–ç•¥æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentStrategy</span> {
    
    <span class="hljs-comment">/**
     * ç»Ÿä¸€ä¸‹å•æ¥å£
     */</span>
    <span class="hljs-title class_">PaymentResult</span> <span class="hljs-title function_">unifiedOrder</span>(<span class="hljs-title class_">PaymentRequest</span> request);
    
    <span class="hljs-comment">/**
     * æ”¯ä»˜å›è°ƒå¤„ç†
     */</span>
    <span class="hljs-title class_">Boolean</span> <span class="hljs-title function_">handleCallback</span>(<span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">String</span>&gt; params);
}

<span class="hljs-comment">// æ”¯ä»˜å®å®ç°</span>
<span class="hljs-meta">@Component</span>(<span class="hljs-string">"aliPayStrategy"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AliPayStrategy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentStrategy</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentResult</span> <span class="hljs-title function_">unifiedOrder</span>(<span class="hljs-params">PaymentRequest request</span>) {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè°ƒç”¨æ”¯ä»˜å® SDK</span>
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"è°ƒç”¨æ”¯ä»˜å® APIï¼Œè®¢å•å·ï¼š"</span> + request.<span class="hljs-title function_">getOrderNo</span>());
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">PaymentResult</span>.<span class="hljs-title function_">builder</span>()
                .<span class="hljs-title function_">payUrl</span>(<span class="hljs-string">"https://openapi.alipay.com/..."</span> + request.<span class="hljs-title function_">getOrderNo</span>())
                .<span class="hljs-title function_">build</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Boolean</span> <span class="hljs-title function_">handleCallback</span>(<span class="hljs-params"><span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">String</span>&gt; params</span>) {
        <span class="hljs-comment">// 1. éªŒç­¾ï¼ˆå¿…é¡»ï¼‰</span>
        <span class="hljs-comment">// 2. æ ¡éªŒé‡‘é¢ä¸è®¢å•å·</span>
        <span class="hljs-comment">// 3. æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h3 data-id="heading-7">2. æ”¯ä»˜ä¸Šä¸‹æ–‡ä¸å·¥å‚æ¨¡å¼</h3>
<p>æ ¹æ®å‰ç«¯ä¼ æ¥çš„æ¸ é“ç±»å‹ï¼ŒåŠ¨æ€é€‰æ‹©å…·ä½“çš„æ”¯ä»˜å®ç°ã€‚</p>
<p>java</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@RequiredArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentContext</span> {

    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">PaymentStrategy</span>&gt; strategyMap;

    <span class="hljs-comment">/**
     * å‘èµ·æ”¯ä»˜
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentResult</span> <span class="hljs-title function_">executePayment</span>(<span class="hljs-params">PaymentRequest request</span>) {
        <span class="hljs-title class_">PaymentStrategy</span> strategy = strategyMap.<span class="hljs-title function_">get</span>(request.<span class="hljs-title function_">getChannel</span>() + <span class="hljs-string">"PayStrategy"</span>);
        <span class="hljs-keyword">if</span> (strategy == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„æ”¯ä»˜æ¸ é“"</span>);
        }
        <span class="hljs-keyword">return</span> strategy.<span class="hljs-title function_">unifiedOrder</span>(request);
    }
}
</code></pre>
<h3 data-id="heading-8">3. æ”¯ä»˜å›è°ƒä¸åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†</h3>
<p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æ”¯ä»˜ç³»ç»Ÿæ”¶åˆ°æˆåŠŸå›è°ƒåï¼Œéœ€è¦æ›´æ–°è‡ªèº«çŠ¶æ€ï¼Œå¹¶é€šçŸ¥ç”µå•†ç³»ç»Ÿæ›´æ–°è®¢å•çŠ¶æ€ã€‚è¿™é‡Œä½¿ç”¨Â <code>Seata</code>Â æˆ–ç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—å®ç°æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<p>java</p>
<p>å¤åˆ¶</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api/payment"</span>)
<span class="hljs-variable">@RequiredArgsConstructor</span>
public class PaymentCallbackController {

    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">PaymentService</span> <span class="hljs-selector-tag">paymentService</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">OrderFeignClient</span> <span class="hljs-selector-tag">orderFeignClient</span>; <span class="hljs-comment">// è°ƒç”¨ç”µå•†ç³»ç»Ÿæ¥å£</span>

    @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/callback/ali"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">aliCallback</span>(<span class="hljs-variable">@RequestBody</span> Map&lt;String, String&gt; params) {
        <span class="hljs-comment">// 1. æ ¡éªŒç­¾åä¸é‡‘é¢</span>
        <span class="hljs-selector-tag">if</span> (!paymentService.<span class="hljs-built_in">verifyAliPay</span>(params)) {
            <span class="hljs-selector-tag">return</span> "<span class="hljs-selector-tag">fail</span>";
        }

        <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">tradeNo</span> = <span class="hljs-selector-tag">params</span><span class="hljs-selector-class">.get</span>(<span class="hljs-string">"out_trade_no"</span>); <span class="hljs-comment">// å•†æˆ·è®¢å•å·</span>
        
        <span class="hljs-comment">// 2. æ›´æ–°æ”¯ä»˜æµæ°´çŠ¶æ€ï¼ˆåŠ åˆ†å¸ƒå¼é”é˜²æ­¢å¹¶å‘å›è°ƒï¼‰</span>
        <span class="hljs-selector-tag">PaymentRecord</span> <span class="hljs-selector-tag">record</span> = <span class="hljs-selector-tag">paymentService</span><span class="hljs-selector-class">.updatePaymentStatus</span>(tradeNo, <span class="hljs-string">"SUCCESS"</span>);
        
        <span class="hljs-selector-tag">if</span> (record != null &amp;&amp; <span class="hljs-string">"SUCCESS"</span>.<span class="hljs-built_in">equals</span>(record.<span class="hljs-built_in">getStatus</span>())) {
            <span class="hljs-comment">// 3. é€šçŸ¥ç”µå•†ç³»ç»Ÿï¼šæ”¯ä»˜æˆåŠŸ</span>
            <span class="hljs-comment">// ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œé€šå¸¸è¿™é‡Œç»“åˆæœ¬åœ°æ¶ˆæ¯è¡¨åšé‡è¯•</span>
            <span class="hljs-selector-tag">try</span> {
                <span class="hljs-selector-tag">orderFeignClient</span><span class="hljs-selector-class">.updateOrderStatus</span>(record.<span class="hljs-built_in">getOrderNo</span>(), <span class="hljs-number">1</span>);
            } <span class="hljs-selector-tag">catch</span> (Exception e) {
                <span class="hljs-comment">// è®°å½•æ—¥å¿—ï¼Œé€šè¿‡è¡¥å¿ä»»åŠ¡é‡è¯•</span>
                <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.error</span>(<span class="hljs-string">"é€šçŸ¥ç”µå•†ç³»ç»Ÿå¤±è´¥"</span>, e);
            }
        }
        
        <span class="hljs-selector-tag">return</span> "<span class="hljs-selector-tag">success</span>";
    }
}
</code></pre>
<h2 data-id="heading-9">å››ã€ æ¶æ„è®¾è®¡è¦ç‚¹æ€»ç»“</h2>
<p>åœ¨ä»å•ä½“åº”ç”¨å‘å¾®æœåŠ¡æ¼”è¿›çš„è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸¤ä¸ªç³»ç»Ÿçš„å®æˆ˜ç»éªŒè‡³å…³é‡è¦ï¼š</p>
<ol>
<li><strong>é«˜å¹¶å‘å¤„ç†</strong>ï¼šç”µå•†ä¾§é€šè¿‡ Redis é¢„æ‰£åº“å­˜ + MQ å¼‚æ­¥è§£è€¦ï¼Œå°†æµé‡å†²å‡»æŒ¡åœ¨æ•°æ®åº“ä¹‹å¤–ã€‚</li>
<li><strong>åˆ†å¸ƒå¼äº‹åŠ¡</strong>ï¼šæ”¯ä»˜ä¸è®¢å•å±äºä¸¤ä¸ªä¸åŒçš„æ•°æ®åº“ï¼Œä¸èƒ½ä½¿ç”¨æœ¬åœ°äº‹åŠ¡ã€‚å®æˆ˜ä¸­æ¨èä½¿ç”¨ MQ æœ€ç»ˆä¸€è‡´æ€§æ–¹æ¡ˆï¼ˆå¦‚æœ¬ä¾‹ï¼‰ï¼Œæˆ–è€…åœ¨å¼ºä¸€è‡´æ€§è¦æ±‚åœºæ™¯ä¸‹ä½¿ç”¨ Seata AT æ¨¡å¼ã€‚</li>
<li><strong>ç³»ç»Ÿè§£è€¦</strong>ï¼šæ”¯ä»˜ç³»ç»Ÿä¸åº”å¼ºä¾èµ–äºç”µå•†ç³»ç»Ÿã€‚å›è°ƒé€šçŸ¥å¤±è´¥æ—¶ï¼Œæ”¯ä»˜ç³»ç»Ÿåº”æœ‰é‡è¯•æœºåˆ¶ï¼›ç”µå•†ç³»ç»Ÿä¹Ÿåº”æä¾›ä¸»åŠ¨æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€çš„æ¥å£ã€‚</li>
<li><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼šæ”¯ä»˜æ¸ é“å¤šå˜ï¼Œç­–ç•¥æ¨¡å¼èƒ½æœ‰æ•ˆéš”ç¦»ä»£ç ï¼Œæ–°å¢æ¸ é“åªéœ€æ–°å¢å®ç°ç±»ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šå®æˆ˜ä»£ç ï¼Œä½ å¯ä»¥çœ‹åˆ° Java æŠ€æœ¯æ ˆåœ¨å¤„ç†å¤æ‚ä¸šåŠ¡é€»è¾‘æ—¶çš„å¼ºå¤§èƒ½åŠ›ã€‚çœŸæ­£çš„æ¶æ„å¸ˆä¸ä»…ä»…æ˜¯ä¼šå†™ä»£ç ï¼Œæ›´æ˜¯åœ¨ä¸šåŠ¡ä¸æŠ€æœ¯ä¹‹é—´å¯»æ‰¾æœ€å¹³è¡¡çš„è§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ›´æ–°å®Œå°±è·³æ§½ç³»åˆ—ä¹‹CSSç¯‡åŠæ‰“é¢è¯•å®˜]]></title>    <link>https://juejin.cn/post/7598104596779368494</link>    <guid>https://juejin.cn/post/7598104596779368494</guid>    <pubDate>2026-01-23T03:14:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104596779368494" data-draft-id="7598104572583575602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ›´æ–°å®Œå°±è·³æ§½ç³»åˆ—ä¹‹CSSç¯‡åŠæ‰“é¢è¯•å®˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,JavaScript"/> <meta itemprop="datePublished" content="2026-01-23T03:14:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è±†è‹—å­¦å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/1935598759719400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ›´æ–°å®Œå°±è·³æ§½ç³»åˆ—ä¹‹CSSç¯‡åŠæ‰“é¢è¯•å®˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1935598759719400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è±†è‹—å­¦å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:14:59.000Z" title="Fri Jan 23 2026 03:14:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»30åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€æ¦‚å¿µ</h2>
<h3 data-id="heading-1">1. CSS é€‰æ‹©å™¨ä¼˜å…ˆçº§è®¡ç®—è§„åˆ™ï¼ˆæƒé‡è®¡ç®—ï¼‰</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å¦‚æœä¸€ä¸ªå…ƒç´ åŒæ—¶è¢«å¤šä¸ªè§„åˆ™åŒ¹é…ï¼Œè°ç”Ÿæ•ˆï¼Ÿå¦‚æœæœ‰ !important å‘¢ï¼Ÿ"</p>
<p><strong>æƒé‡ç­‰çº§ï¼ˆç”±é«˜åˆ°ä½ï¼‰ï¼š</strong></p>
<ul>
<li>!importantï¼šæ— æ•Œçš„å­˜åœ¨ï¼ˆç ´åæ€§ï¼Œæ…ç”¨ï¼‰ã€‚</li>
<li>å†…è”æ ·å¼ (Inline styles)ï¼šstyle="..." â€”â€” æƒé‡è®¡ä¸º (1, 0, 0, 0)ã€‚</li>
<li>ID é€‰æ‹©å™¨ï¼š#id â€”â€” æƒé‡è®¡ä¸º (0, 1, 0, 0)ã€‚</li>
<li>ç±»ã€ä¼ªç±»ã€å±æ€§é€‰æ‹©å™¨ï¼š.class, :hover, [type="text"] â€”â€” æƒé‡è®¡ä¸º (0, 0, 1, 0)ã€‚</li>
<li>å…ƒç´ ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼šdiv, ::before â€”â€” æƒé‡è®¡ä¸º (0, 0, 0, 1)ã€‚</li>
<li>é€šé…ç¬¦ *ã€ç»„åˆç¬¦ + &gt; ~ã€é€»è¾‘ä¼ªç±» :not()ï¼šæƒé‡ä¸º (0, 0, 0, 0)ã€‚</li>
</ul>
<p><strong>è®¡ç®—è§„åˆ™ï¼š</strong></p>
<ul>
<li>ä¸è¿›ä½åˆ¶ï¼šæƒé‡æ˜¯åŸºäºç­‰çº§å åŠ çš„ï¼Œå³ä½¿ 11 ä¸ªç±»é€‰æ‹©å™¨ä¹Ÿæ‰“ä¸è¿‡ 1 ä¸ª ID é€‰æ‹©å™¨ï¼ˆåœ¨ç°ä»£è§„èŒƒä¸­ï¼Œè™½ç„¶æŠ€æœ¯ä¸Šæ˜¯ 256 è¿›åˆ¶ï¼Œä½†åœ¨é€»è¾‘ç†è§£ä¸Šåº”è§†ä¸ºä¸å¯è·¨çº§ï¼‰ã€‚</li>
<li>åæ¥å±…ä¸Šï¼šå¦‚æœæƒé‡å®Œå…¨ç›¸åŒï¼Œåˆ™æœ€åå®šä¹‰çš„æ ·å¼ç”Ÿæ•ˆã€‚</li>
<li>ç»§æ‰¿å±æ€§ï¼šç»§æ‰¿è€Œæ¥çš„æ ·å¼æƒé‡ä¸º 0ï¼Œç”šè‡³ä¸å¦‚é€šé…ç¬¦ã€‚</li>
</ul>
<h3 data-id="heading-2">2. ç›’æ¨¡å‹ï¼ˆæ ‡å‡†ç›’æ¨¡å‹ä¸ IE ç›’æ¨¡å‹ï¼‰</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"è¿™ä¸¤ç§ç›’æ¨¡å‹åœ¨è®¡ç®—å®½åº¦æ—¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"</p>
<p><strong>æ ‡å‡†ç›’æ¨¡å‹ (W3C Standard)ï¼š</strong> box-sizing: content-box (é»˜è®¤)ã€‚</p>
<ul>
<li>width = å†…å®¹å®½åº¦ (content)ã€‚</li>
<li>ç›’å­å®é™…å æ®ç©ºé—´ = width + padding + border + marginã€‚</li>
</ul>
<p><strong>IE ç›’æ¨¡å‹ (Quirks Mode)ï¼š</strong> box-sizing: border-boxã€‚</p>
<ul>
<li>width = å†…å®¹ + padding + borderã€‚</li>
<li>ç›’å­å®é™…å æ®ç©ºé—´ = width + marginã€‚</li>
</ul>
<h3 data-id="heading-3">3. box-sizing: border-box çš„ä½œç”¨ä¸å½±å“</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä¸ºä»€ä¹ˆè¦å…¨å±€è®¾ç½® border-boxï¼Ÿ"</p>
<p><strong>ä½œç”¨ï¼š</strong> å°† padding å’Œ border ç»˜åˆ¶åœ¨å·²è®¾å®šçš„ width å’Œ height ä¹‹å†…ã€‚</p>
<p><strong>å½±å“ï¼š</strong></p>
<ul>
<li>å¸ƒå±€å¯é¢„æµ‹æ€§ï¼šç»™ä¸€ä¸ª width: 50% çš„ç›’å­åŠ  padding æˆ– borderï¼Œå®ƒä¸ä¼šæ’‘ç ´çˆ¶å…ƒç´ ã€‚</li>
<li>å“åº”å¼è®¾è®¡å¿…å¤‡ï¼šåœ¨å¤„ç†ç™¾åˆ†æ¯”å¸ƒå±€æ—¶ï¼Œå®ƒæ˜¯å”¯ä¸€çš„æ•‘æ˜Ÿã€‚</li>
<li>å¼€å‘æ•ˆç‡ï¼šä¸å†éœ€è¦æ ¹æ® padding åå‘è®¡ç®— widthã€‚</li>
</ul>
<h3 data-id="heading-4">4. å…ƒç´ çš„ display å±æ€§</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"inline-block ä¸ºä»€ä¹ˆä¼šæœ‰ç©ºéš™ï¼Ÿ"</p>
<ul>
<li><strong>block</strong>ï¼šç‹¬å ä¸€è¡Œï¼›å®½åº¦é»˜è®¤ 100%ï¼›å¯è®¾ç½®å®½é«˜ã€ä¸Šä¸‹å·¦å³ margin/paddingã€‚</li>
<li><strong>inline</strong>ï¼šä¸ç‹¬å ä¸€è¡Œï¼›æ— æ³•è®¾ç½®å®½é«˜ï¼›å‚ç›´æ–¹å‘çš„ margin/padding ä¸å æ®ç©ºé—´ï¼ˆä¸å½±å“å¸ƒå±€æµï¼‰ã€‚</li>
<li><strong>inline-block</strong>ï¼šåƒæ–‡æœ¬ä¸€æ ·æ’åˆ—ï¼Œä½†æ‹¥æœ‰ç›’æ¨¡å‹å±æ€§ã€‚
<ul>
<li>å‘ï¼šå…ƒç´ é—´ä¼šæœ‰ 4px å·¦å³çš„ç©ºéš™ã€‚åŸå› ï¼šHTML ä¸­çš„æ¢è¡Œç¬¦/ç©ºæ ¼è¢«è§£æä¸ºæ–‡æœ¬ã€‚</li>
<li>è§£ï¼šçˆ¶å…ƒç´  font-size: 0 æˆ–å»æ‰ HTML æ¢è¡Œã€‚</li>
</ul>
</li>
<li><strong>none</strong>ï¼šå®Œå…¨ç§»é™¤ï¼Œä¸å ä½ï¼Œè§¦å‘å›æµï¼ˆReflowï¼‰å’Œé‡ç»˜ï¼ˆRepaintï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">5. æ–‡æ¡£æµï¼ˆNormal Flowï¼‰çš„æ¦‚å¿µ</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä»€ä¹ˆæ˜¯è„±ç¦»æ–‡æ¡£æµï¼Ÿ"</p>
<p><strong>å®šä¹‰ï¼š</strong> æµè§ˆå™¨é»˜è®¤çš„æ’ç‰ˆæ–¹å¼ã€‚å—çº§å…ƒç´ å‚ç›´æ’åˆ—ï¼Œè¡Œå†…å…ƒç´ æ°´å¹³æ’åˆ—ã€‚</p>
<p><strong>è„±ç¦»æ–‡æ¡£æµçš„æ–¹å¼ï¼š</strong></p>
<ul>
<li>float (åŠè„±ç¦»ï¼šä½ç½®è„±ç¦»ï¼Œä½†æ–‡æœ¬ä¼šç¯ç»•)ã€‚</li>
<li>position: absolute (å…¨è„±ç¦»)ã€‚</li>
<li>position: fixed (å…¨è„±ç¦»)ã€‚</li>
</ul>
<p><strong>åæœï¼š</strong> çˆ¶å…ƒç´ é«˜åº¦å¡Œé™·ï¼ˆé’ˆå¯¹ floatï¼‰ï¼Œåæ–¹çš„å…ƒç´ ä¼šæ— è§†è„±ç¦»çš„å…ƒç´ å æ®å…¶ä½ç½®ã€‚</p>
<h3 data-id="heading-6">6. position å®šä½è¯¦è§£</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"sticky ä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆï¼Ÿ"</p>
<ul>
<li><strong>static</strong>ï¼šé»˜è®¤ï¼Œéµå¾ªæ–‡æ¡£æµã€‚</li>
<li><strong>relative</strong>ï¼šç›¸å¯¹è‡ªèº«å®šä½ã€‚ä¸è„±ç¦»æ–‡æ¡£æµï¼ˆåŸæœ¬çš„ä½ç½®ä¼šè¢«ç•™ç©ºï¼‰ã€‚å¸¸ç”¨äºåš absolute çš„åŸºå‡†ã€‚</li>
<li><strong>absolute</strong>ï¼šç›¸å¯¹äºæœ€è¿‘çš„é static ç¥–å…ˆå…ƒç´ å®šä½ã€‚è„±ç¦»æ–‡æ¡£æµã€‚</li>
<li><strong>fixed</strong>ï¼šç›¸å¯¹äºæµè§ˆå™¨è§†å£ (Viewport) å®šä½ã€‚è„±ç¦»æ–‡æ¡£æµã€‚</li>
<li><strong>sticky (ç²˜æ€§å®šä½)</strong>ï¼š
<ul>
<li>åŸºäºç”¨æˆ·æ»šåŠ¨ï¼Œåœ¨ relative ä¸ fixed ä¹‹é—´åˆ‡æ¢ã€‚</li>
<li>å¤±æ•ˆåœºæ™¯ï¼š1. çˆ¶å…ƒç´ è®¾ç½®äº† overflow: hidden/auto/scrollï¼›2. æœªæŒ‡å®šé˜ˆå€¼ï¼ˆå¦‚ top: 0ï¼‰ï¼›3. çˆ¶å…ƒç´ é«˜åº¦ç­‰äº sticky å…ƒç´ é«˜åº¦ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">7. å¤–è¾¹è·æŠ˜å ï¼ˆMargin Collapsingï¼‰</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å¦‚ä½•é˜²æ­¢ä¸¤ä¸ªç›¸é‚» div çš„ margin åˆå¹¶ï¼Ÿ"</p>
<p><strong>ç°è±¡ï¼š</strong> å‚ç›´æ–¹å‘ä¸Šï¼Œä¸¤ä¸ªç›¸é‚»çš„å—çº§å…ƒç´ çš„ margin ä¼šå–æœ€å¤§å€¼ï¼Œè€Œéç›¸åŠ ã€‚</p>
<p><strong>ä¸‰ç§æƒ…å†µï¼š</strong></p>
<ul>
<li>ç›¸é‚»å…„å¼Ÿå…ƒç´ ã€‚</li>
<li>çˆ¶å…ƒç´ ä¸ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ ï¼ˆä¸”çˆ¶å…ƒç´ æ²¡ border/paddingï¼‰ã€‚</li>
<li>ç©ºçš„å—çº§å…ƒç´ ï¼ˆè‡ªèº«ä¸Šä¸‹ margin æŠ˜å ï¼‰ã€‚</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼ˆBFCï¼‰ï¼š</strong> ç»™çˆ¶å…ƒç´ åŠ  overflow: hiddenã€border æˆ–æ”¹ç”¨ paddingã€‚</p>
<h3 data-id="heading-8">8. z-index ä¸å †å ä¸Šä¸‹æ–‡ (Stacking Context)</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä¸ºä»€ä¹ˆæˆ‘ç»™å­å…ƒç´ è®¾ç½® z-index: 9999ï¼Œå®ƒè¿˜æ˜¯è¢«éš”å£çš„ z-index: 1 ç›–ä½äº†ï¼Ÿ"</p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> z-index åªåœ¨åŒä¸€ä¸ªå †å ä¸Šä¸‹æ–‡ä¸­æ¯”è¾ƒã€‚</p>
<p><strong>å¦‚ä½•äº§ç”Ÿå †å ä¸Šä¸‹æ–‡ï¼Ÿ</strong></p>
<ul>
<li>æ ¹å…ƒç´  ã€‚</li>
<li>position ä¸º relative/absolute ä¸” z-index ä¸æ˜¯ autoã€‚</li>
<li>position: fixed/stickyã€‚</li>
<li>ç°ä»£è§¦å‘æ–¹å¼ï¼šopacity å°äº 1ã€transform ä¸ä¸º noneã€filter ä¸ä¸º noneã€flex/grid å­å…ƒç´ çš„ z-index ä¸ä¸º autoã€‚</li>
</ul>
<p><strong>å±‚å ç­‰çº§ï¼ˆä»åº•å‘ä¸Šï¼‰ï¼š</strong></p>
<ul>
<li>èƒŒæ™¯/è¾¹æ¡†</li>
<li>è´Ÿ z-index</li>
<li>å—çº§ç›’å­</li>
<li>æµ®åŠ¨ç›’å­</li>
<li>è¡Œå†…ç›’å­</li>
<li>z-index: 0 / auto</li>
<li>æ­£ z-index</li>
</ul>
<h3 data-id="heading-9">9. CSS å•ä½</h3>
<ul>
<li><strong>px</strong>ï¼šç»å¯¹å•ä½ï¼Œç‰©ç†åƒç´ ã€‚</li>
<li><strong>em</strong>ï¼šç›¸å¯¹äºå½“å‰å…ƒç´ çš„å­—ä½“å¤§å°ï¼ˆå¦‚æœè®¾ç½®åœ¨ font-size ä¸Šï¼Œåˆ™ç›¸å¯¹äºçˆ¶å…ƒç´ ï¼‰ã€‚</li>
<li><strong>rem</strong>ï¼šç›¸å¯¹äºæ ¹å…ƒç´  () çš„å­—ä½“å¤§å°ã€‚å“åº”å¼é¦–é€‰ã€‚</li>
<li><strong>%</strong>ï¼š
<ul>
<li>width/heightï¼šç›¸å¯¹äºçˆ¶å…ƒç´ ã€‚</li>
<li>padding/marginï¼šæ— è®ºå‚ç›´è¿˜æ˜¯æ°´å¹³ï¼Œéƒ½ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å®½åº¦ï¼ˆé¢è¯•å¿…è€ƒç‚¹ï¼‰ã€‚</li>
<li>transform: translateï¼šç›¸å¯¹äºè‡ªèº«ã€‚</li>
</ul>
</li>
<li><strong>vw/vh</strong>ï¼šè§†å£å®½é«˜çš„ 1%ã€‚</li>
</ul>
<h3 data-id="heading-10">10. !important çš„ç”¨æ³•ä¸å½±å“</h3>
<p><strong>ç”¨æ³•ï¼š</strong> åœ¨å±æ€§å€¼ååŠ  !importantï¼Œå¼ºåˆ¶æœ€é«˜ä¼˜å…ˆçº§ã€‚</p>
<p><strong>å½±å“ï¼š</strong></p>
<ul>
<li>ç ´åæ€§ï¼šæ‰“ç ´äº† CSS çš„è‡ªç„¶çº§è”è§„åˆ™ï¼Œå¯¼è‡´è°ƒè¯•å›°éš¾ã€‚</li>
<li>éš¾ä»¥è¦†ç›–ï¼šé™¤éå†ç”¨ä¸€ä¸ªæƒé‡æ›´é«˜æˆ–åŒæ ·å¸¦ !important çš„è§„åˆ™ã€‚</li>
</ul>
<p><strong>æœ€ä½³å®è·µï¼š</strong></p>
<ul>
<li>ç»ä¸è¦åœ¨å…¨å±€ CSS ä¸­ä½¿ç”¨ã€‚</li>
<li>ç»ä¸è¦åœ¨åˆ¶ä½œæ’ä»¶/ç»„ä»¶åº“æ—¶ä½¿ç”¨ã€‚</li>
<li>ä»…åœ¨è¦†ç›–æ— æ³•ä¿®æ”¹çš„å†…è”æ ·å¼æˆ–ç¬¬ä¸‰æ–¹åº“æ ·å¼æ—¶ä½œä¸ºæœ€åæ‰‹æ®µã€‚</li>
</ul>
<p><strong>æ€»ç»“ï¼š</strong>
"CSS å¸ƒå±€çš„æ ¸å¿ƒå…¶å®å°±æ˜¯å¤„ç†å…ƒç´ å¦‚ä½•å æ®ç©ºé—´ï¼ˆç›’æ¨¡å‹ï¼‰ã€å¦‚ä½•å®šä½ï¼ˆPosition/Flex/Gridï¼‰ä»¥åŠå¦‚ä½•ç›¸äº’å½±å“ï¼ˆBFC/å±‚å ä¸Šä¸‹æ–‡ï¼‰ã€‚ç°ä»£å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼˜å…ˆé€šè¿‡ box-sizing: border-box è§„é¿è®¡ç®—å‘ä½ï¼Œé€šè¿‡ BFC è§£å†³ margin æŠ˜å ï¼Œåˆ©ç”¨ rem å’Œ vw/vh å®ç°å¤šç«¯é€‚é…ï¼Œå¹¶å°½é‡é¿å… !important ä»¥ç»´æŠ¤æ ·å¼çš„é²æ£’æ€§ã€‚"</p>
<hr/>
<h2 data-id="heading-11">ç¬¬äºŒéƒ¨åˆ†ï¼šæ ¸å¿ƒå¸ƒå±€ç³»ç»Ÿ</h2>
<h3 data-id="heading-12">1. Flexbox å¸ƒå±€ï¼šå¼¹æ€§ç›’æ¨¡å‹</h3>
<p>Flexbox æ˜¯ç›®å‰åº”ç”¨æœ€å¹¿çš„ä¸€ç»´å¸ƒå±€æ–¹æ¡ˆï¼ˆæŒ‰è¡Œæˆ–æŒ‰åˆ—ï¼‰ã€‚</p>
<p><strong>å®¹å™¨å±æ€§ (Container)</strong></p>
<ul>
<li>display: flex / inline-flexï¼šå¼€å¯å¼¹æ€§å¸ƒå±€ã€‚</li>
<li>flex-directionï¼šå†³å®šä¸»è½´ (Main Axis) æ–¹å‘ï¼ˆrow, columnï¼‰ã€‚</li>
<li>flex-wrapï¼šæ¢è¡Œæ–¹å¼ï¼ˆé»˜è®¤ nowrapï¼Œå³ä¾¿å­å…ƒç´ è¶…å‡ºä¹Ÿä¸æ¢è¡Œï¼Œè€Œæ˜¯ä¼šè¢«å‹ç¼©ï¼‰ã€‚</li>
<li>justify-contentï¼šä¸»è½´å¯¹é½æ–¹å¼ã€‚</li>
<li>align-itemsï¼šäº¤å‰è½´å¯¹é½æ–¹å¼ï¼ˆå•è¡Œï¼‰ã€‚</li>
<li>align-contentï¼šå¤šè¡Œåœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ï¼ˆé’ˆå¯¹æ¢è¡Œåçš„æ•´ä½“ï¼‰ã€‚</li>
</ul>
<p><strong>é¡¹ç›®å±æ€§ (Items)</strong></p>
<ul>
<li>flex-growï¼šå‰©ä½™ç©ºé—´æ”¾å¤§æ¯”ä¾‹ï¼ˆé»˜è®¤ 0ï¼Œä¸æ”¾å¤§ï¼‰ã€‚</li>
<li>flex-shrinkï¼šç©ºé—´ä¸è¶³ç¼©å°æ¯”ä¾‹ï¼ˆé»˜è®¤ 1ï¼Œè‡ªåŠ¨ç¼©å°ï¼‰ã€‚</li>
<li>flex-basisï¼šåœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆé»˜è®¤ autoï¼‰ã€‚</li>
</ul>
<p><strong>æ·±å…¥ç†è§£ flex: 1 çš„è®¡ç®—æ–¹å¼</strong></p>
<p>é¢è¯•å®˜å¿…é—®ï¼šflex: 1 ä»£è¡¨ä»€ä¹ˆï¼Ÿå’Œ flex: auto æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<ul>
<li>flex: 1 æ˜¯ flex: 1 1 0% çš„ç®€å†™ã€‚</li>
<li>flex: auto æ˜¯ flex: 1 1 auto çš„ç®€å†™ã€‚</li>
<li>åŒºåˆ«ç‚¹ï¼šåœ¨äº flex-basisã€‚
<ul>
<li>å¦‚æœæ˜¯ 0%ï¼šè®¡ç®—å‰©ä½™ç©ºé—´æ—¶ï¼Œä¸è€ƒè™‘å…ƒç´ å†…å®¹æœ¬èº«çš„å¤§å°ï¼Œå¼ºè¡Œå¹³åˆ†ã€‚</li>
<li>å¦‚æœæ˜¯ autoï¼šè®¡ç®—å‰©ä½™ç©ºé—´æ—¶ï¼Œå…ˆæ‰£é™¤å…ƒç´ å†…å®¹çš„å¤§å°ï¼Œåªå¹³åˆ†å‰©ä¸‹çš„ç©ºé—´ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-13">2. Grid å¸ƒå±€ï¼šç½‘æ ¼ç³»ç»Ÿ</h3>
<p>Grid æ˜¯ CSS å”¯ä¸€çš„äºŒç»´å¸ƒå±€æ–¹æ¡ˆï¼Œå®ƒå°†å®¹å™¨åˆ’åˆ†ä¸º"è¡Œ"å’Œ"åˆ—"ã€‚</p>
<p><strong>æ ¸å¿ƒæ¦‚å¿µ</strong></p>
<ul>
<li>fr (fraction)ï¼šç‰‡æ®µå•ä½ï¼Œä»£è¡¨ç½‘æ ¼å®¹å™¨ä¸­å¯ç”¨ç©ºé—´çš„ä¸€ä»½ã€‚</li>
<li>auto-fit vs auto-fillï¼š
<ul>
<li>auto-fillï¼šå°½å¯èƒ½å¤šåœ°å¡«å……åˆ—ï¼Œå³ä¾¿åˆ—æ˜¯ç©ºçš„ã€‚</li>
<li>auto-fitï¼šä¼šå°†ç©ºçš„åˆ—"æŠ˜å "ï¼Œè®©å ä½çš„åˆ—å……æ»¡å‰©ä½™ç©ºé—´ã€‚</li>
</ul>
</li>
<li>æ˜¾å¼ç½‘æ ¼ vs éšå¼ç½‘æ ¼ï¼š
<ul>
<li>æ˜¾å¼ (Explicit)ï¼šé€šè¿‡ grid-template-columns/rows å®šä¹‰å¥½çš„è½¨é“ã€‚</li>
<li>éšå¼ (Implicit)ï¼šå½“é¡¹ç›®è¶…å‡ºäº†å®šä¹‰çš„è½¨é“ï¼ˆæ¯”å¦‚å®šä¹‰äº† 2x2ï¼Œä½†æ”¾äº† 5 ä¸ªå…ƒç´ ï¼‰ï¼Œæµè§ˆå™¨è‡ªåŠ¨ç”Ÿæˆçš„è½¨é“ã€‚é€šè¿‡ grid-auto-rows æ§åˆ¶ã€‚</li>
</ul>
</li>
</ul>
<p><strong>Grid å¸ƒå±€ç¤ºä¾‹ï¼šè‡ªé€‚åº”å¸ƒå±€</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">200px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
}
<span class="hljs-comment">/* è¿™è¡Œä»£ç å®ç°äº†ï¼šå®¹å™¨å®½åº¦è¶³å¤Ÿæ—¶æ¯åˆ— 200px ä»¥ä¸Šï¼Œä¸è¶³æ—¶è‡ªåŠ¨æ¢è¡Œï¼Œä¸”å‰©ä½™ç©ºé—´å¹³åˆ†ã€‚*/</span>
</code></pre>
<h3 data-id="heading-14">3. ä¼ ç»Ÿå¸ƒå±€ï¼šæµ®åŠ¨ä¸æ¸…é™¤æµ®åŠ¨</h3>
<p>è™½ç„¶ç°åœ¨å°‘ç”¨ï¼Œä½†è¿™æ˜¯è€ƒå¯Ÿ"è€å…µ"åŸºæœ¬åŠŸçš„å¿…è€ƒé¢˜ã€‚</p>
<p><strong>æµ®åŠ¨çš„æœ¬è´¨ï¼š</strong> æœ€åˆæ˜¯ä¸ºäº†å®ç°"æ–‡å­—ç¯ç»•å›¾ç‰‡"ã€‚</p>
<p><strong>å¸¦æ¥çš„é—®é¢˜ï¼š</strong> çˆ¶å…ƒç´ é«˜åº¦å¡Œé™·ï¼ˆå› ä¸ºæµ®åŠ¨å…ƒç´ è„±ç¦»äº†æ–‡æ¡£æµï¼‰ã€‚</p>
<p><strong>æ¸…é™¤æµ®åŠ¨ (Clearfix)ï¼š</strong></p>
<ul>
<li>BFC æ³•ï¼šç»™çˆ¶å…ƒç´  overflow: hiddenï¼ˆæœ€ç®€å•ï¼‰ã€‚</li>
<li>ä¼ªå…ƒç´ æ³•ï¼ˆæ ‡å‡†åšæ³•ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">clear</span>: both;
}
</code></pre>
<h3 data-id="heading-15">4. æ°´å¹³å‚ç›´å±…ä¸­çš„å¤šç§æ–¹æ¡ˆ</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä½ èƒ½å†™å‡ºå‡ ç§å±…ä¸­æ–¹å¼ï¼Ÿ"</p>
<ul>
<li><strong>Flexbox (æœ€æ¨è)</strong>ï¼š
<code>display: flex; justify-content: center; align-items: center;</code></li>
<li><strong>Grid</strong>ï¼š
<code>display: grid; place-items: center;</code></li>
<li><strong>Absolute + Transform (æœªçŸ¥å­å…ƒç´ å®½é«˜)</strong>ï¼š
<code>position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);</code></li>
<li><strong>Absolute + Margin: auto (å·²çŸ¥å®½é«˜)</strong>ï¼š
<code>position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;</code></li>
</ul>
<h3 data-id="heading-16">5. åœ£æ¯å¸ƒå±€ä¸åŒé£ç¿¼å¸ƒå±€</h3>
<p>è¿™ä¸¤ç§å¸ƒå±€çš„ç›®æ ‡ä¸€è‡´ï¼šä¸‰æ å¸ƒå±€ï¼Œä¸­é—´æ ï¼ˆMainï¼‰æœ€å…ˆåŠ è½½ï¼ˆåœ¨ HTML ä¸­æ’åœ¨æœ€å‰é¢ï¼‰ï¼Œä¸¤ä¾§å®½åº¦å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”ã€‚</p>
<p><strong>åœ£æ¯å¸ƒå±€ (Holy Grail Layout)</strong></p>
<ul>
<li>åŸç†ï¼šåˆ©ç”¨çˆ¶å…ƒç´ çš„ padding ä¸ºå·¦å³ä¾§ç•™å‡ºç©ºé—´ï¼Œå­å…ƒç´ å…¨éƒ¨ float: leftï¼Œå·¦å³ä¾§é€šè¿‡ relative å®šä½å’Œè´Ÿ margin å›ä½ã€‚</li>
<li>ç¼ºç‚¹ï¼šå½“ä¸­é—´æ å®½åº¦å°äºä¾§è¾¹æ æ—¶ï¼Œå¸ƒå±€ä¼šä¹±ã€‚</li>
</ul>
<p><strong>åŒé£ç¿¼å¸ƒå±€ (Double Wing Layout)</strong></p>
<ul>
<li>åŸç†ï¼šæºè‡ªæ·˜å®å‰ç«¯å›¢é˜Ÿã€‚ä¸­é—´æ å†…éƒ¨å¢åŠ ä¸€ä¸ªåŒ…è£¹å±‚ï¼ˆinnerï¼‰ï¼Œç›´æ¥è®¾ç½® margin: 0 200px ä¸ºå·¦å³ä¾§ç•™ç©ºã€‚ä¸éœ€è¦ relativeã€‚</li>
<li>ä¼˜ç‚¹ï¼šç»“æ„æ›´ç¨³ï¼Œä¸ä¼šå› ä¸ºå®½åº¦è¿‡å°å´©æºƒã€‚</li>
</ul>
<p><strong>ç°ä»£å®ç°ï¼ˆFlex/Gridï¼‰</strong>
åŠæ‰“ç‚¹ï¼šä¸è¦å†å†™ float äº†ã€‚é¢è¯•æ—¶è¯´å‡ºï¼š"åœ¨ç°ä»£å¼€å‘ä¸­ï¼Œæˆ‘ä¼šä¼˜å…ˆä½¿ç”¨ Flex æˆ– Grid å®ç°ï¼Œä»£ç æ›´ç®€æ´ä¸”è¯­ä¹‰åŒ–ã€‚"</p>
<h3 data-id="heading-17">6. å®æˆ˜ï¼šå·¦å³ä¸¤æ å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº”ï¼ˆä¸”æ”¹å˜æ’åºï¼‰</h3>
<p>åœºæ™¯è¦æ±‚ï¼šHTML ç»“æ„ä¸­ï¼ŒMain åœ¨æœ€å‰ï¼ˆåˆ©äº SEOï¼‰ï¼Œä½†è§†è§‰ä¸Š Left åœ¨å·¦ï¼ŒMain åœ¨ä¸­ï¼ŒRight åœ¨å³ã€‚</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šFlexbox (æœ€ç®€å•)</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>Main (First in DOM)<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"left"</span>&gt;</span>Left<span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"right"</span>&gt;</span>Right<span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> { <span class="hljs-attribute">display</span>: flex; }
<span class="hljs-selector-class">.content</span> { <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">order</span>: <span class="hljs-number">2</span>; } <span class="hljs-comment">/* order æ§åˆ¶è§†è§‰é¡ºåº */</span>
<span class="hljs-selector-class">.left</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; <span class="hljs-attribute">order</span>: <span class="hljs-number">1</span>; }
<span class="hljs-selector-class">.right</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; <span class="hljs-attribute">order</span>: <span class="hljs-number">3</span>; }
</code></pre>
<p><strong>æ–¹æ¡ˆäºŒï¼šGrid (æœ€å¼ºå¤§)</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">200px</span> <span class="hljs-number">1</span>fr <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">grid-template-areas</span>: <span class="hljs-string">"L M R"</span>;
}
<span class="hljs-selector-class">.left</span> { <span class="hljs-attribute">grid-area</span>: L; }
<span class="hljs-selector-class">.content</span> { <span class="hljs-attribute">grid-area</span>: M; }
<span class="hljs-selector-class">.right</span> { <span class="hljs-attribute">grid-area</span>: R; }
</code></pre>
<h3 data-id="heading-18">7. å¤šåˆ—å¸ƒå±€ (Multi-column)</h3>
<p>ç±»ä¼¼æŠ¥çº¸æ’ç‰ˆã€‚</p>
<ul>
<li>column-countï¼šè®¾ç½®åˆ—æ•°ã€‚</li>
<li>column-gapï¼šåˆ—é—´è·ã€‚</li>
<li>column-ruleï¼šåˆ—ä¹‹é—´çš„åˆ†å‰²çº¿ã€‚</li>
</ul>
<p>åº”ç”¨åœºæ™¯ï¼šç€‘å¸ƒæµå¸ƒå±€çš„ç®€å•æ›¿ä»£æ–¹æ¡ˆï¼ˆè™½ç„¶é¡ºåºæ˜¯å‚ç›´å¡«å……çš„ï¼‰ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong>
"å¸ƒå±€æ–¹æ¡ˆçš„é€‰æ‹©å–å†³äºåœºæ™¯ã€‚å¯¹äºä¸€ç»´å¯¹é½ï¼ˆå¦‚å¯¼èˆªæ ã€å‡åŒ€åˆ†å¸ƒåˆ—è¡¨ï¼‰ï¼ŒFlexbox æ˜¯ç»å¯¹çš„é¦–é€‰ï¼Œç‰¹åˆ«æ˜¯ flex: 1 çš„å‰©ä½™ç©ºé—´åˆ†é…ç®—æ³•éå¸¸çµæ´»ã€‚å¯¹äºäºŒç»´å¤æ‚çš„ç»“æ„ï¼ŒGrid æä¾›çš„ grid-template-areas è®© CSS ä»£ç å‡ ä¹å˜æˆäº†è§†è§‰åŸå‹å›¾ï¼Œæå¤§é™ä½äº†ç»´æŠ¤æˆæœ¬ã€‚è‡³äºåœ£æ¯å’ŒåŒé£ç¿¼ï¼Œå®ƒä»¬æ˜¯æµ®åŠ¨æ—¶ä»£çš„æ™ºæ…§ç»“æ™¶ï¼Œç†è§£å…¶è´Ÿ margin çš„è¿ç”¨æœ‰åŠ©äºæ·±å…¥ç†è§£æ–‡æ¡£æµï¼Œä½†åœ¨ç°ä»£é¡¹ç›®ä¸­ï¼Œæˆ‘ä¼šå€¾å‘äºä½¿ç”¨ order å±æ€§æˆ– Grid åŒºåŸŸæ¥ä¼˜é›…åœ°è§£å†³ DOM é¡ºåºä¸è§†è§‰é¡ºåºä¸ä¸€è‡´çš„é—®é¢˜ã€‚"</p>
<hr/>
<h2 data-id="heading-19">ç¬¬ä¸‰éƒ¨åˆ†ï¼šè§†è§‰è¡¨ç°ä¸æ ·å¼</h2>
<h3 data-id="heading-20">1. CSS å˜é‡ï¼ˆCustom Propertiesï¼‰</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"CSS å˜é‡å’Œ Sass/Less å˜é‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"</p>
<p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p>
<ul>
<li>åŠ¨æ€æ€§ï¼šCSS å˜é‡åœ¨è¿è¡Œæ—¶ç”Ÿæ•ˆï¼Œå¯ä»¥é€šè¿‡ JavaScript åŠ¨æ€ä¿®æ”¹ï¼ˆel.style.setProperty('--color', 'red')ï¼‰ï¼›è€Œ Sass å˜é‡åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šäº†ã€‚</li>
<li>ä½œç”¨åŸŸï¼šéµå¾ªå±‚å å’Œç»§æ‰¿è§„åˆ™ã€‚:root ä¸­å®šä¹‰çš„æ˜¯å…¨å±€å˜é‡ï¼Œåœ¨ç‰¹å®šé€‰æ‹©å™¨å†…å®šä¹‰çš„æ˜¯å±€éƒ¨å˜é‡ã€‚</li>
<li>å¤‡ç”¨å€¼ï¼švar(--name, #000)ï¼Œå½“å˜é‡æœªå®šä¹‰æ—¶å¯å›é€€ã€‚</li>
</ul>
<p>åŠæ‰“ç‚¹ï¼šæåˆ°**"å“åº”å¼ä¸»é¢˜åˆ‡æ¢"**ã€‚æ— éœ€é‡å†™å‡ ç™¾è¡Œ CSSï¼Œåªéœ€ä¿®æ”¹ :root ä¸‹çš„å˜é‡å€¼ï¼Œå…¨ç«™æ ·å¼ç¬é—´æ”¹å˜ã€‚</p>
<h3 data-id="heading-21">2. background å¤åˆå±æ€§ä¸ç»†èŠ‚</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å¦‚ä½•å®ç°èƒŒæ™¯å›¾ä¸éšé¡µé¢æ»šåŠ¨ï¼Ÿ"</p>
<p><strong>å¤åˆé¡ºåºï¼š</strong> background: color image repeat attachment position / sizeã€‚æ³¨æ„ size å¿…é¡»è·Ÿåœ¨ position åé¢ï¼Œå¹¶ç”¨ / åˆ†éš”ã€‚</p>
<p><strong>å…³é”®å­å±æ€§ï¼š</strong></p>
<ul>
<li>background-attachment: fixedï¼šèƒŒæ™¯ç›¸å¯¹äºè§†å£å›ºå®šï¼ˆè§†å·®æ»šåŠ¨æ•ˆæœçš„åŸºç¡€ï¼‰ã€‚</li>
<li>background-clipï¼šèƒŒæ™¯ç»˜åˆ¶åŒºåŸŸã€‚é‡ç‚¹ï¼štext å€¼ï¼ˆæ­é… -webkit- å‰ç¼€ï¼‰å¯å®ç°æ–‡å­—æ¸å˜è‰²ã€‚</li>
<li>background-originï¼šèƒŒæ™¯å›¾ç‰‡ç»˜åˆ¶çš„èµ·ç‚¹ï¼ˆborder-box, padding-box, content-boxï¼‰ã€‚</li>
<li>å¤šé‡èƒŒæ™¯ï¼šå¯ä»¥å†™å¤šä¸ª url()ï¼Œç”¨é€—å·åˆ†éš”ï¼Œç¬¬ä¸€ä¸ªå†™åœ¨æœ€ä¸Šé¢ã€‚</li>
</ul>
<h3 data-id="heading-22">3. è¾¹æ¡†ã€è½®å»“ä¸é˜´å½±</h3>
<ul>
<li><strong>border</strong>ï¼šå æ®ç©ºé—´ï¼Œå½±å“ç›’æ¨¡å‹ã€‚</li>
<li><strong>outline (è½®å»“)</strong>ï¼šä¸å æ®ç©ºé—´ï¼Œä¸å½±å“å¸ƒå±€ã€‚å¸¸ç”¨äº focus çŠ¶æ€ï¼Œå¯¹æ— éšœç¢å‹å¥½ã€‚</li>
<li><strong>box-shadow</strong>ï¼šh-offset v-offset blur spread color insetã€‚
<ul>
<li>æ€§èƒ½å‘ï¼šå·¨å¤§çš„ blurï¼ˆæ¨¡ç³Šï¼‰ä¼šæ¶ˆè€—å¤§é‡ GPU ç®—åŠ›ï¼Œæ»šåŠ¨é¡µé¢æ—¶å¯èƒ½å¯¼è‡´æ‰å¸§ã€‚</li>
<li>æŠ€å·§ï¼šå¯ä»¥ç”¨å¤šå±‚é˜´å½±å åŠ å®ç°æå…¶é€¼çœŸçš„æè´¨æ„Ÿã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-23">4. æ–‡æœ¬æ ·å¼ä¸æ’ç‰ˆ</h3>
<p><strong>line-heightï¼š</strong></p>
<ul>
<li>å•ä½åŒºåˆ«ï¼šå»ºè®®ç”¨æ— å•ä½æ•°å€¼ï¼ˆå¦‚ 1.5ï¼‰ã€‚å› ä¸ºæ— å•ä½æ•°å€¼ä¼šè¢«ç»§æ‰¿ä¸ºæ¯”ä¾‹ï¼Œè€Œå¸¦å•ä½ï¼ˆå¦‚ 1.5emï¼‰ä¼šè¢«ç»§æ‰¿ä¸ºè®¡ç®—åçš„ç»å¯¹åƒç´ å€¼ï¼Œå¯¼è‡´å­å…ƒç´ è¡Œé«˜é”™ä¹±ã€‚</li>
</ul>
<p><strong>æ–‡æœ¬æˆªæ–­ï¼ˆEllipsisï¼‰ï¼š</strong></p>
<ul>
<li>å•è¡Œï¼šoverflow: hidden; white-space: nowrap; text-overflow: ellipsis;</li>
<li>å¤šè¡Œï¼š-webkit-line-clamp: 3; display: -webkit-box; -webkit-box-orient: vertical;ï¼ˆè¿™æ˜¯æ ‡å‡†äº‹å®ï¼Œè™½ç„¶å¸¦å‰ç¼€ä½†æœ€é€šç”¨ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-24">5. è¿‡æ¸¡ï¼ˆTransitionï¼‰ä¸åŠ¨ç”»ï¼ˆAnimationï¼‰</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"è¿™ä¸¤è€…æ€ä¹ˆé€‰ï¼Ÿæ€ä¹ˆä¼˜åŒ–æ€§èƒ½ï¼Ÿ"</p>
<ul>
<li><strong>Transition</strong>ï¼šçŠ¶æ€ A åˆ°çŠ¶æ€ B çš„ç®€å•è¡¥é—´ï¼ˆå¦‚ :hoverï¼‰ã€‚éœ€è¦è§¦å‘æºã€‚</li>
<li><strong>Animation</strong>ï¼šå¤æ‚çš„ã€å¤šé˜¶æ®µçš„ã€å¯å¾ªç¯çš„ï¼ˆä½¿ç”¨ @keyframesï¼‰ã€‚</li>
</ul>
<p><strong>æ€§èƒ½ä¼˜åŒ–ï¼ˆå¿…è€ƒï¼‰ï¼š</strong></p>
<ul>
<li>å°½é‡åªåŠ¨ transform å’Œ opacityã€‚</li>
<li>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¿™ä¸¤è€…åœ¨ CSS æ¸²æŸ“ç®¡çº¿ä¸­å±äº Compositeï¼ˆåˆæˆï¼‰ é˜¶æ®µï¼Œä¸è§¦å‘ Reflowï¼ˆå›æµï¼‰å’Œ Repaintï¼ˆé‡ç»˜ï¼‰ï¼Œæ€§èƒ½æé«˜ã€‚</li>
<li>will-change: transformï¼šæå‰é€šçŸ¥æµè§ˆå™¨åˆ›å»ºå±‚ï¼Œå¼€å¯ç¡¬ä»¶åŠ é€Ÿã€‚</li>
</ul>
<h3 data-id="heading-25">6. CSS å˜æ¢ï¼ˆTransformï¼‰ 2D/3D</h3>
<ul>
<li><strong>2D æ“ä½œ</strong>ï¼štranslate, scale, rotate, skewã€‚</li>
<li><strong>3D æ“ä½œ</strong>ï¼štranslateZ, rotateY ç­‰ã€‚</li>
</ul>
<p><strong>æ ¸å¿ƒç»†èŠ‚ï¼š</strong></p>
<ul>
<li>perspective (é€è§†)ï¼šå¿…é¡»è®¾åœ¨çˆ¶å…ƒç´ ä¸Šï¼Œæ‰èƒ½çœ‹åˆ° 3D çš„è¿œè¿‘æ•ˆæœã€‚</li>
<li>é¡ºåºå½±å“ï¼štransform: rotate(45deg) translate(100px) å’Œåè¿‡æ¥ç»“æœä¸åŒã€‚å› ä¸ºåæ ‡è½´ä¼šéšæ—‹è½¬è€Œæ—‹è½¬ã€‚</li>
</ul>
<h3 data-id="heading-26">7. æ»¤é•œï¼ˆFilterï¼‰ä¸æ··åˆæ¨¡å¼ï¼ˆMix-blend-modeï¼‰</h3>
<ul>
<li><strong>filter</strong>ï¼šä½œç”¨äºå…ƒç´ è‡ªèº«ã€‚å¸¸ç”¨ï¼šblur()ï¼ˆæ¯›ç»ç’ƒåŸºç¡€ï¼‰ã€grayscale()ï¼ˆå…¨ç«™å˜ç°ï¼‰ã€drop-shadow()ï¼ˆç»™ä¸è§„åˆ™å½¢çŠ¶åŠ é˜´å½±ï¼Œæ¯” box-shadow èªæ˜ï¼‰ã€‚</li>
<li><strong>mix-blend-mode</strong>ï¼šå…ƒç´ å†…å®¹ä¸ä¸‹å±‚èƒŒæ™¯çš„èåˆæ–¹å¼ã€‚
<ul>
<li>åœºæ™¯ï¼šç™½è‰²èƒŒæ™¯çš„å›¾ç‰‡å»æ‰èƒŒæ™¯ï¼ˆmultiplyï¼‰ï¼Œæˆ–è€…é»‘åº•ç™½å­—çš„æ–‡å­—åè‰²ï¼ˆdifferenceï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-27">8. clip-path ä¸ mask</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"æ€ä¹ˆåšä¸€ä¸ªä¸‰è§’å½¢æˆ–äº”è§’æ˜Ÿï¼Ÿ"</p>
<ul>
<li><strong>clip-path</strong>ï¼šè£å‰ªè·¯å¾„ã€‚å¯ä»¥å®šä¹‰ polygon, circle ç­‰ã€‚è¶…å‡ºéƒ¨åˆ†ä¸å¯è§ä¸”ä¸å“åº”ç‚¹å‡»äº‹ä»¶ã€‚</li>
<li><strong>mask (é®ç½©)</strong>ï¼šç±»ä¼¼ Photoshop çš„è’™ç‰ˆã€‚ä½¿ç”¨ä¸€å¼ å›¾ç‰‡æˆ–æ¸å˜æ¥æ§åˆ¶é€æ˜åº¦ã€‚å¸¸ç”¨äºå›¾æ ‡çš„åŠ¨æ€å˜è‰²æˆ–å¤æ‚çš„å›¾ç‰‡æ·¡å…¥æ•ˆæœã€‚</li>
</ul>
<h3 data-id="heading-28">9. CSS æ¸å˜ï¼ˆGradientsï¼‰</h3>
<p>æ¸å˜ä¸æ˜¯å›¾ç‰‡ï¼Œæ˜¯æµè§ˆå™¨åŠ¨æ€ç”Ÿæˆçš„ Imageã€‚</p>
<ul>
<li><strong>linear-gradient</strong>ï¼šçº¿æ€§æ¸å˜ã€‚æ”¯æŒè§’åº¦ï¼ˆ45degï¼‰æˆ–æ–¹å‘ï¼ˆto rightï¼‰ã€‚</li>
<li><strong>radial-gradient</strong>ï¼šå¾„å‘æ¸å˜ã€‚</li>
<li><strong>conic-gradient</strong>ï¼šé”¥å½¢æ¸å˜ã€‚
<ul>
<li>ç¥æŠ€ï¼šå¯ä»¥ç”¨é”¥å½¢æ¸å˜å‡ è¡Œä»£ç å†™å‡ºä¸€ä¸ªé¥¼å›¾ã€‚</li>
</ul>
</li>
<li><strong>ç¡¬åœæ­¢ï¼ˆHard Stopsï¼‰</strong>ï¼šlinear-gradient(#f00 50%, #00f 50%)ï¼Œé€šè¿‡è®¾ç½®ç›¸åŒçš„ç™¾åˆ†æ¯”ï¼Œå¯ä»¥ç”»å‡ºæ²¡æœ‰ä»»ä½•è¿‡æ¸¡çš„è‰²å—ã€‚</li>
</ul>
<p><strong>æ€»ç»“ï¼š</strong>
"åœ¨å¤„ç† CSS è§†è§‰è¡¨ç°æ—¶ï¼Œæˆ‘éå¸¸å…³æ³¨æ¸²æŸ“æ€§èƒ½ã€‚æ¯”å¦‚ï¼Œæˆ‘ä¼šä¼˜å…ˆä½¿ç”¨ transform ä»£æ›¿ top/left æ¥å®ç°ä½ç§»ï¼Œå› ä¸ºè¿™èƒ½é¿å¼€æµè§ˆå™¨çš„å¸ƒå±€é˜¶æ®µã€‚å¯¹äºå¤æ‚çš„äº¤äº’ï¼Œæˆ‘å€¾å‘äºåˆ©ç”¨ CSS å˜é‡ ç»“åˆ JS æ¥æ§åˆ¶çŠ¶æ€ï¼Œè¿™æ ·èƒ½ä¿æŒé€»è¾‘ä¸æ ·å¼çš„è§£è€¦ã€‚
æ­¤å¤–ï¼Œåœ¨å¤„ç†ç‰¹æ®Šè§†è§‰éœ€æ±‚æ—¶ï¼Œæˆ‘ä¼šè€ƒè™‘ clip-path å’Œ mask çš„æ–¹æ¡ˆï¼Œè¿™æ¯”ä¼ ç»Ÿçš„é€æ˜å›¾ç‰‡æ›´å…·å¯æ‰©å±•æ€§ä¸”å‡å°äº†è¯·æ±‚ä½“ç§¯ã€‚å¯¹äºç°ä»£æµè§ˆå™¨ï¼Œmix-blend-mode å’Œ filter èƒ½åœ¨æ— éœ€ Canvas çš„æƒ…å†µä¸‹å®ç°éå¸¸ç‚«é…·çš„ UI ç‰¹æ•ˆã€‚"</p>
<hr/>
<h2 data-id="heading-29">ç¬¬å››éƒ¨åˆ†ï¼šå“åº”å¼ä¸é€‚é…</h2>
<h3 data-id="heading-30">1. å“åº”å¼ vs è‡ªé€‚åº” (Responsive vs. Adaptive)</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"è¿™ä¸¤è€…æœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«ï¼Ÿ"</p>
<ul>
<li><strong>å“åº”å¼ (Responsive)</strong>ï¼šä¸€å¥—ä»£ç ï¼Œé€šè¿‡æµå¼å¸ƒå±€ (Fluid Grid) å’Œåª’ä½“æŸ¥è¯¢ï¼Œè®©å¸ƒå±€åœ¨ä¸åŒå°ºå¯¸ä¸‹"è‡ªåŠ¨æµåŠ¨"ã€‚ï¼ˆå¦‚ Bootstrapï¼‰ã€‚</li>
<li><strong>è‡ªé€‚åº” (Adaptive)</strong>ï¼šä¸ºä¸åŒè®¾å¤‡æä¾›å‡ å¥—å›ºå®šçš„æ¨¡æ¿ã€‚æµè§ˆå™¨æ£€æµ‹è®¾å¤‡ï¼ˆUA æˆ–å°ºå¯¸ï¼‰ååŠ è½½å¯¹åº”çš„é™æ€å¸ƒå±€ã€‚</li>
</ul>
<p>åŠæ‰“ç‚¹ï¼šç°ä»£å¼€å‘ä¸­ï¼Œä¸¤è€…å¾€å¾€ç»“åˆä½¿ç”¨ã€‚æˆ‘ä»¬ä¼šç”¨å“åº”å¼å¤„ç†ç»†å¾®çš„å°ºå¯¸å˜åŒ–ï¼Œç”¨è‡ªé€‚åº”é€»è¾‘å¤„ç†å·®å¼‚å·¨å¤§çš„äº¤äº’ä½“éªŒï¼ˆå¦‚ PC ç«¯æ˜¯æ‚¬åœèœå•ï¼Œç§»åŠ¨ç«¯æ˜¯ä¾§è¾¹æ ï¼‰ã€‚</p>
<h3 data-id="heading-31">2. åª’ä½“æŸ¥è¯¢ï¼ˆ@mediaï¼‰ä¸ç§»åŠ¨ä¼˜å…ˆ</h3>
<p><strong>ç§»åŠ¨ä¼˜å…ˆ (Mobile First)ï¼š</strong> ä½¿ç”¨ min-widthã€‚å…ˆå†™ç§»åŠ¨ç«¯æ ·å¼ï¼Œå†å‘ä¸Šå åŠ ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šä»£ç æ›´ç®€æ´ï¼ˆåŸºç¡€æ ·å¼é€šå¸¸åœ¨å°å±å¹•ï¼‰ï¼Œå¯¹ä½æ€§èƒ½è®¾å¤‡æ›´å‹å¥½ã€‚</li>
</ul>
<p><strong>å¸¸ç”¨æ–­ç‚¹ï¼ˆé¿å¼€ç‰¹å®šæœºå‹ï¼ŒæŒ‰è®¾å¤‡ç±»å‹ï¼‰ï¼š</strong></p>
<ul>
<li>&lt; 576pxï¼šæ‰‹æœº</li>
<li>576px ~ 768pxï¼šå¹³æ¿ï¼ˆç«–å±ï¼‰</li>
<li>768px ~ 992pxï¼šå¹³æ¿ï¼ˆæ¨ªå±ï¼‰</li>
<li>992px ~ 1200pxï¼šæ™®é€šæ¡Œé¢æ˜¾ç¤ºå™¨</li>
<li>
<blockquote>
<p>1200pxï¼šå¤§å±</p>
</blockquote>
</li>
</ul>
<h3 data-id="heading-32">3. è§†å£ (Viewport) å…ƒæ ‡ç­¾ä¸è§†å£å•ä½</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
</code></pre>
<p><strong>æ ¸å¿ƒä½œç”¨ï¼š</strong> å‘Šè¯‰æµè§ˆå™¨ï¼Œé¡µé¢çš„é€»è¾‘å®½åº¦ç­‰äºè®¾å¤‡çš„ç‰©ç†å®½åº¦ï¼Œå¹¶ç¦æ­¢æµè§ˆå™¨è‡ªåŠ¨ç¼©æ”¾ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œç§»åŠ¨ç«¯ä¼šå‡è£…è‡ªå·±æ˜¯ 980px å®½ï¼‰ã€‚</p>
<p><strong>å•ä½è¿›é˜¶ï¼š</strong></p>
<ul>
<li>vw / vhï¼šç›¸å¯¹äºè§†å£ã€‚</li>
<li>vmax / vminï¼šç›¸å¯¹äºå®½é«˜ä¸­è¾ƒå¤§/è¾ƒå°çš„ä¸€ä¸ªã€‚åœ¨å¤„ç†å±å¹•æ¨ªç«–å±æ—‹è½¬æ—¶ï¼Œvmin å¸¸ç”¨äºç¡®ä¿å›¾æ ‡ä¸è¶…å‡ºå±å¹•ã€‚</li>
</ul>
<h3 data-id="heading-33">4. å“åº”å¼å›¾ç‰‡ï¼ˆsrcset, sizes, ï¼‰</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å¦‚ä½•æ ¹æ®å±å¹•åƒç´ å¯†åº¦ï¼ˆDPRï¼‰åŠ è½½ä¸åŒå›¾ç‰‡ï¼Ÿ"</p>
<ul>
<li><strong>srcset</strong>ï¼šç»™æµè§ˆå™¨ä¸€ç»„å›¾ç‰‡æºåŠå…¶å®½åº¦ï¼ˆå¦‚ image-1x.jpg 1x, image-2x.jpg 2xï¼‰ã€‚</li>
<li><strong>sizes</strong>ï¼šå‘Šè¯‰æµè§ˆå™¨å›¾ç‰‡åœ¨å¸ƒå±€ä¸­å æ®çš„å®é™…å®½åº¦ã€‚</li>
<li><strong> æ ‡ç­¾</strong>ï¼šç”¨äº"ç¾æœ¯æŒ‡å¯¼ï¼ˆArt Directionï¼‰"ã€‚æ¯”å¦‚åœ¨ PC ç«¯æ˜¾ç¤ºæ¨ªå›¾ï¼Œåœ¨ç§»åŠ¨ç«¯è£å‰ªä¸ºç«–å›¾ã€‚</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"(min-width: 800px)"</span> <span class="hljs-attr">srcset</span>=<span class="hljs-string">"large.jpg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"small.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Responsive Image"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>
</code></pre>
<h3 data-id="heading-34">5. ç§»åŠ¨ç«¯ 1 åƒç´ è¾¹æ¡†é—®é¢˜</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä¸ºä»€ä¹ˆ border: 1px åœ¨ Retina å±ä¸Šçœ‹èµ·æ¥å¾ˆç²—ï¼Ÿ"</p>
<p><strong>åŸå› ï¼š</strong> CSS åƒç´ æ˜¯é€»è¾‘åƒç´ ã€‚åœ¨ DPR=2 çš„æ‰‹æœºä¸Šï¼Œ1px çš„ CSS åƒç´ ç­‰äº 2px çš„ç‰©ç†åƒç´ ã€‚</p>
<p><strong>æœ€ä½³æ–¹æ¡ˆï¼ˆä¼ªå…ƒç´  + Scaleï¼‰ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.border-1px</span> {
  <span class="hljs-attribute">position</span>: relative;
}
<span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">width</span>: <span class="hljs-number">200%</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">200%</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.5</span>);
  <span class="hljs-attribute">transform-origin</span>: left top;
}
</code></pre>
<h3 data-id="heading-35">6. æ¨ªç«–å±é€‚é…ä¸å®‰å…¨åŒºåŸŸ (Safe Area)</h3>
<ul>
<li><strong>æ¨ªç«–å±æŸ¥è¯¢</strong>ï¼š@media (orientation: landscape / portrait)ã€‚</li>
<li><strong>å®‰å…¨åŒºåŸŸ</strong>ï¼ˆé’ˆå¯¹ iPhone ç•™æµ·å±ï¼‰ï¼š
<ul>
<li>è®¾ç½® viewport-fit=coverã€‚</li>
<li>ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼špadding-bottom: env(safe-area-inset-bottom);ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-36">7. å®¹å™¨æŸ¥è¯¢ï¼ˆ@containerï¼‰ â€”â€” 2024å¹´é¢è¯•æ€æ‰‹é”</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"é™¤äº†åª’ä½“æŸ¥è¯¢ï¼Œè¿˜æœ‰ä»€ä¹ˆèƒ½åšè‡ªé€‚åº”ï¼Ÿ"</p>
<p><strong>åª’ä½“æŸ¥è¯¢çš„å±€é™æ€§ï¼š</strong> å®ƒæ˜¯åŸºäºæ•´ä¸ª"è§†å£"çš„ã€‚</p>
<p><strong>å®¹å™¨æŸ¥è¯¢ (Container Queries)ï¼š</strong> è®©ç»„ä»¶æ ¹æ®å…¶çˆ¶å®¹å™¨çš„å®½åº¦æ¥æ”¹å˜æ ·å¼ã€‚</p>
<p><strong>åœºæ™¯ï¼š</strong> åŒä¸€ä¸ªä¾§è¾¹æ ç»„ä»¶ï¼Œæ”¾åœ¨ä¾§è¾¹æ ï¼ˆçª„ï¼‰æ—¶æ˜¾ç¤ºå‚ç›´åˆ—è¡¨ï¼Œæ”¾åœ¨ä¸­é—´åŒºåŸŸï¼ˆå®½ï¼‰æ—¶æ˜¾ç¤ºç½‘æ ¼å¸ƒå±€ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> { container-type: inline-size; }
<span class="hljs-keyword">@container</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">400px</span>) {
  <span class="hljs-selector-class">.child</span> { <span class="hljs-attribute">display</span>: flex; }
}
</code></pre>
<h3 data-id="heading-37">8. CSS å±‚å å±‚ï¼ˆ@layerï¼‰</h3>
<p>ä½œç”¨ï¼šè§£å†³ CSS æƒé‡æˆ˜äº‰ã€‚ä½ å¯ä»¥å®šä¹‰ä¸åŒçš„å±‚çº§ï¼ˆå¦‚ base, theme, utilitiesï¼‰ï¼Œå³ä¾¿ base é‡Œçš„é€‰æ‹©å™¨æƒé‡æé«˜ï¼Œä¹Ÿä¼šè¢« utilities é‡Œçš„æ ·å¼è¦†ç›–ã€‚</p>
<p>ä¼˜åŠ¿ï¼šä¸å†éœ€è¦ä¸ºäº†è¦†ç›–æ ·å¼è€Œç–¯ç‹‚åŠ  !importantã€‚</p>
<h3 data-id="heading-38">9. clamp(), min(), max() å‡½æ•°</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä¸ç”¨åª’ä½“æŸ¥è¯¢ï¼Œå¦‚ä½•è®©å­—ä½“éšå±å¹•å˜å¤§è€Œå˜å¤§ï¼Œä½†æœ‰ä¸Šä¸‹é™ï¼Ÿ"</p>
<ul>
<li>
<p><strong>clamp(min, preferred, max)</strong>ï¼š
<code>font-size: clamp(1rem, 5vw, 2rem);</code>
è¿™è¡Œä»£ç å®ç°äº†ï¼šå­—ä½“æœ€å° 1remï¼Œæœ€å¤§ 2remï¼Œä¸­é—´éšè§†å£å®½åº¦ï¼ˆ5vwï¼‰åŠ¨æ€å˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>min() å’Œ max()</strong>ï¼šç”¨äºåœ¨ä¸¤ä¸ªå€¼ä¹‹é—´å–æå€¼ï¼Œå¸¸ç”¨äºè®¾ç½®å“åº”å¼å®½åº¦ä¸Šé™ï¼šwidth: min(90%, 1200px);ã€‚</p>
</li>
</ul>
<h3 data-id="heading-39">10. å“åº”å¼æ’ç‰ˆï¼ˆResponsive Typographyï¼‰</h3>
<p>æŠ€å·§ï¼šä½¿ç”¨ rem ç»“åˆ clamp()ã€‚
è®¡ç®—å…¬å¼ï¼šé€šè¿‡è®¾ç½® html { font-size: calc(16px + (24 - 16) * (100vw - 400px) / (1200 - 400)); } è¿™ç§çº¿æ€§å¢é•¿å…¬å¼ï¼Œå®ç°ä¸æ»‘çš„å­—ä½“è¿‡æ¸¡ï¼ˆè™½ç„¶ç°åœ¨æ›´æ¨èç”¨ clampï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-40">ç¬¬äº”éƒ¨åˆ†ï¼šæ€§èƒ½ä¸æ¸²æŸ“</h2>
<h3 data-id="heading-41">1. CSS é€‰æ‹©å™¨æ€§èƒ½ï¼šä¸ºä»€ä¹ˆä»å³å‘å·¦åŒ¹é…ï¼Ÿ</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"#nav ul li a è¿™ä¸ªé€‰æ‹©å™¨ï¼Œæµè§ˆå™¨æ˜¯æ€ä¹ˆæ‰¾å…ƒç´ çš„ï¼Ÿ"</p>
<p><strong>åº•å±‚åŸç†ï¼š</strong> æµè§ˆå™¨å¼•æ“ï¼ˆå¦‚ WebKit æˆ– Geckoï¼‰åœ¨åŒ¹é…é€‰æ‹©å™¨æ—¶ï¼Œæ˜¯ä»**æœ€å³è¾¹çš„é€‰æ‹©å™¨ï¼ˆå…³é”®é€‰æ‹©å™¨ï¼ŒKey Selectorï¼‰**å¼€å§‹å‘å·¦åŒ¹é…çš„ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>æ•ˆç‡æ›´é«˜ï¼šå¦‚æœä»å·¦å¾€å³ï¼Œæµè§ˆå™¨éœ€è¦å…ˆæ‰¾åˆ° #navï¼Œå†éå†å…¶ä¸‹æ‰€æœ‰çš„ ulï¼Œå†éå†æ‰€æœ‰çš„ liâ€¦â€¦å¦‚æœé¡µé¢å¾ˆå¤§ï¼ŒåŒ¹é…å¤±è´¥çš„æˆæœ¬æé«˜ã€‚</li>
<li>ä»å³å¾€å·¦ï¼Œç¬¬ä¸€æ­¥å°±è¿‡æ»¤æ‰äº†é¡µé¢ä¸­ç»å¤§å¤šæ•°é <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="> æ ‡ç­¾ã€‚å¯¹äºå‰©ä¸‹çš„ </a><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">ï¼Œå†å»æ£€æŸ¥å®ƒçš„çˆ¶çº§æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚è¿™æ ·åŒ¹é…è·¯å¾„æ›´çŸ­ï¼Œæ€§èƒ½æŸè€—æ›´ä½ã€‚</a></li><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">
</a></ul><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">
<p><strong>ä¼˜åŒ–å»ºè®®ï¼š</strong></p>
<ul>
<li>é¿å…ä½¿ç”¨é€šé…ç¬¦ * ä½œä¸ºå…³é”®é€‰æ‹©å™¨ã€‚</li>
<li>å‡å°‘å±‚çº§åµŒå¥—ï¼ˆå»ºè®®ä¸è¶…è¿‡ 3 å±‚ï¼‰ã€‚</li>
<li>å¤šç”¨ç±»åï¼Œå°‘ç”¨æ ‡ç­¾åä½œä¸ºæœ«å°¾é€‰æ‹©å™¨ã€‚</li>
</ul>
<h3 data-id="heading-42">2. é‡æ’ï¼ˆReflow/å›æµï¼‰ä¸é‡ç»˜ï¼ˆRepaintï¼‰</h3>
<p>è¿™æ˜¯ CSS æ€§èƒ½æœ€ç»å…¸çš„è¯é¢˜ï¼Œå¿…é¡»ç­”å‡ºæ¸²æŸ“æµæ°´çº¿ï¼ˆRendering Pipelineï¼‰ã€‚</p>
<p><strong>é‡æ’ (Reflow)ï¼š</strong></p>
<ul>
<li>å®šä¹‰ï¼šå½“å…ƒç´ çš„å‡ ä½•å±æ€§ï¼ˆå®½ã€é«˜ã€ä½ç½®ã€å¸ƒå±€ç­‰ï¼‰æ”¹å˜æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ åœ¨é¡µé¢ä¸Šçš„ä½ç½®ï¼Œå¹¶é‡æ–°ç”Ÿæˆå¸ƒå±€æ ‘ï¼ˆLayout Treeï¼‰ã€‚</li>
<li>è§¦å‘åœºæ™¯ï¼šå¢åˆ  DOMã€ä¿®æ”¹ width/height/margin/paddingã€è·å– offsetTop/getBoundingClientRectï¼ˆä¼šå¼ºè¡Œè§¦å‘åŒæ­¥å›æµï¼‰ã€‚</li>
<li>ä»£ä»·ï¼šæœ€é«˜ï¼Œä¼šå¼•å‘çˆ¶å…ƒç´ ç”šè‡³å…¨é¡µé¢çš„é‡æ–°å¸ƒå±€ã€‚</li>
</ul>
<p><strong>é‡ç»˜ (Repaint)ï¼š</strong></p>
<ul>
<li>å®šä¹‰ï¼šå½“å…ƒç´ çš„å¤–è§‚å±æ€§ï¼ˆé¢œè‰²ã€èƒŒæ™¯è‰²ã€é˜´å½±ç­‰ï¼‰æ”¹å˜ï¼Œä½†ä¸å½±å“å¸ƒå±€æ—¶ã€‚</li>
<li>ä»£ä»·ï¼šè¾ƒè½»ï¼Œä¸éœ€è¦é‡æ–°å¸ƒå±€ï¼Œä½†ä¾ç„¶éœ€è¦é‡æ–°åƒç´ åŒ–å¡«å……ã€‚</li>
</ul>
<p><strong>æ ¸å¿ƒç»“è®ºï¼š</strong> é‡æ’å¿…å°†å¼•èµ·é‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šå¼•èµ·é‡æ’ã€‚</p>
<h3 data-id="heading-43">3. ç¡¬ä»¶åŠ é€Ÿï¼ˆGPU åŠ é€Ÿï¼‰ä¸ will-change</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å¦‚ä½•è®©åŠ¨ç”»ä¸å¡é¡¿ï¼Ÿ"</p>
<p><strong>åˆ†å±‚ï¼ˆLayeringï¼‰æœºåˆ¶ï¼š</strong> æµè§ˆå™¨ä¼šå°†å¤æ‚çš„é¡µé¢åˆ†æˆå¤šä¸ªå±‚ã€‚æŸäº›å±æ€§ä¼šè®©å…ƒç´ æ‹¥æœ‰ç‹¬ç«‹çš„åˆæˆå±‚ï¼ˆCompositing Layerï¼‰ã€‚</p>
<p><strong>å¦‚ä½•è§¦å‘ï¼š</strong> transform: translateZ(0)ã€opacityã€filterã€‚</p>
<p><strong>GPU çš„ä½œç”¨ï¼š</strong> è¿™äº›å±‚åœ¨ GPU ä¸­ç›´æ¥è¿›è¡Œçº¹ç†æ··åˆï¼Œä¸ç»è¿‡ä¸»çº¿ç¨‹çš„ Layout å’Œ Paint é˜¶æ®µã€‚</p>
<p><strong>will-changeï¼š</strong> å‘Šè¯‰æµè§ˆå™¨è¯¥å…ƒç´ å³å°†å˜åŒ–ï¼Œè¯·æå‰ä¸ºå…¶åˆ›å»ºåˆæˆå±‚ã€‚</p>
<p>å‘ï¼šä¸å¯æ»¥ç”¨ã€‚æ¯ä¸ªåˆæˆå±‚éƒ½å å†…å­˜ï¼Œå±‚è¿‡å¤šä¼šå¯¼è‡´å†…å­˜é£™å‡ï¼Œåè€Œå˜å¡ï¼ˆç”šè‡³ç™½å±ï¼‰ã€‚</p>
<h3 data-id="heading-44">4. CSS å¯¹é¦–å±åŠ è½½ï¼ˆFCP, LCPï¼‰çš„å½±å“</h3>
<p>CSS æ˜¯æ€§èƒ½ç“¶é¢ˆï¼šCSS æ˜¯é˜»å¡æ¸²æŸ“çš„èµ„æºã€‚åœ¨ CSSOM æ„å»ºå®Œæˆå‰ï¼Œæµè§ˆå™¨ä¸ä¼šæ¸²æŸ“é¡µé¢ã€‚</p>
<ul>
<li>FCP (First Contentful Paint)ï¼šå¦‚æœ CSS æ–‡ä»¶è¿‡å¤§æˆ–åµŒå¥—å¤ªæ·±ï¼ŒFCP ä¼šè¢«æ˜¾è‘—æ¨è¿Ÿã€‚</li>
<li>LCP (Largest Contentful Paint)ï¼šæ ¸å¿ƒå›¾ç‰‡ï¼ˆå¦‚ Bannerï¼‰çš„æ ·å¼åŠ è½½æ…¢ï¼Œä¼šå¯¼è‡´ LCP æŒ‡æ ‡å˜å·®ã€‚</li>
</ul>
<p>ä¼˜åŒ–æ€è·¯ï¼šç²¾ç®€ CSSï¼Œå‡å°‘ @importï¼ˆä¼šå¢åŠ è¯·æ±‚é“¾è·¯æ·±åº¦ï¼‰ã€‚</p>
<h3 data-id="heading-45">5. å…³é”® CSSï¼ˆCritical CSSï¼‰æå–</h3>
<p>åŠæ‰“ç‚¹ï¼šè°ˆè°ˆå¦‚ä½•å¤„ç†"ç™½å±æ—¶é—´"ã€‚</p>
<p><strong>æ¦‚å¿µï¼š</strong> å°†é¡µé¢é¦–å±ï¼ˆæŠ˜å å±ä¸Šæ–¹åŒºåŸŸï¼‰æ‰€éœ€çš„ CSS æå–å‡ºæ¥ï¼Œç›´æ¥å†…è”åœ¨  ä¸­ï¼Œè€Œå‰©ä¸‹çš„å…¨é‡ CSS é‡‡ç”¨å¼‚æ­¥åŠ è½½ã€‚</p>
<p><strong>ä½œç”¨ï¼š</strong> æ¶ˆé™¤æ¸²æŸ“é˜»å¡è¯·æ±‚ï¼Œå®ç°è¿‘ä¹ç¬æ—¶çš„é¦–å±å‘ˆç°ã€‚</p>
<p><strong>å·¥å…·ï¼š</strong> å¯ä»¥ä½¿ç”¨ Critical æˆ– Puppeteer è‡ªåŠ¨æå–ã€‚</p>
<h3 data-id="heading-46">6. CSS ä»£ç åˆ†å‰²ä¸å¼‚æ­¥åŠ è½½</h3>
<p><strong>ä»£ç åˆ†å‰²ï¼š</strong> åˆ©ç”¨ Webpack/Viteï¼Œå°†ä¸åŒè·¯ç”±çš„ CSS æ‹†åˆ†æˆç‹¬ç«‹æ–‡ä»¶ï¼Œå®ç°"æŒ‰éœ€åŠ è½½"ã€‚</p>
<p><strong>å¼‚æ­¥åŠ è½½æŠ€å·§ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ç»å…¸ Trickï¼šå…ˆå£°æ˜ä¸º print åª’ä½“ç±»å‹ï¼ˆä¸é˜»å¡åŠ è½½ï¼‰ï¼ŒåŠ è½½å®Œåˆ‡å› all --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"print"</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">"this.media='all'"</span>&gt;</span>
</code></pre>
<h3 data-id="heading-47">7. CSS ä¼˜åŒ–æœ€ä½³å®è·µ</h3>
<ul>
<li>å‡å°‘åµŒå¥—ï¼šSass/Less åµŒå¥—ä¸è¦è¶…è¿‡ 3 å±‚ï¼Œç”Ÿæˆçš„ CSS é€‰æ‹©å™¨æ›´ç²¾ç®€ã€‚</li>
<li>å‹ç¼©ï¼šä½¿ç”¨ CSSNano ç­‰å·¥å…·å»é™¤ç©ºæ ¼ã€æ³¨é‡Šã€‚</li>
<li>å¤ç”¨ï¼ˆåŸå­åŒ–æ€æƒ³ï¼‰ï¼šç±»ä¼¼ Tailwind CSS çš„æ€è·¯ï¼Œé€šè¿‡å¤ç”¨å·¥å…·ç±»å‡å°‘é‡å¤çš„æ ·å¼å®šä¹‰ï¼Œä»è€Œå‡å° CSS ä½“ç§¯ã€‚</li>
</ul>
<h3 data-id="heading-48">8. ä¸ºä»€ä¹ˆ transform å’Œ opacity åšåŠ¨ç”»æœ€é«˜æ•ˆï¼Ÿ</h3>
<p>è¿™æ˜¯"åŠæ‰“é¢è¯•å®˜"çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚</p>
<p><strong>æ¸²æŸ“æµæ°´çº¿ï¼š</strong></p>
<ul>
<li>JavaScript / CSS (ä¿®æ”¹æ ·å¼)</li>
<li>Style (è®¡ç®—æ ·å¼)</li>
<li>Layout (è®¡ç®—å‡ ä½•ä¿¡æ¯ - é‡æ’)</li>
<li>Paint (ç»˜åˆ¶åƒç´  - é‡ç»˜)</li>
<li>Composite (å›¾å±‚åˆæˆ - åˆæˆé˜¶æ®µ)</li>
</ul>
<p><strong>åŸå› ï¼š</strong> ä¿®æ”¹ left/top ä¼šè§¦å‘ Layoutï¼›ä¿®æ”¹ background-color ä¼šè§¦å‘ Paintã€‚
ä½†æ˜¯ï¼šä¿®æ”¹ transform å’Œ opacity ç›´æ¥è·³è¿‡äº† Layout å’Œ Paintï¼Œåªè¿è¡Œ Composite é˜¶æ®µã€‚è¿™ä¸€æ­¥åœ¨ GPU ä¸­å®Œæˆï¼Œä¸»çº¿ç¨‹è¢«å®Œå…¨é‡Šæ”¾ï¼Œå› æ­¤å³ä¾¿ CPU å¿™ç¢Œï¼ŒåŠ¨ç”»ä¾ç„¶ä¸æ»‘ï¼ˆ60FPSï¼‰ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong>
"å¯¹äº CSS æ€§èƒ½ï¼Œæˆ‘ä»åŠ è½½å’Œæ¸²æŸ“ä¸¤ä¸ªç»´åº¦è€ƒè™‘ã€‚
åœ¨åŠ è½½é˜¶æ®µï¼Œæˆ‘ä¼šé€šè¿‡ Critical CSS æå–å’Œ åª’ä½“æŸ¥è¯¢å¼‚æ­¥åŠ è½½ æ¥ä¼˜åŒ– FCPï¼Œç¡®ä¿é¡µé¢èƒ½å°½å¿«æ¸²æŸ“å‡ºå†…å®¹ã€‚
åœ¨æ¸²æŸ“é˜¶æ®µï¼Œæˆ‘æ·±åº¦å…³æ³¨æµè§ˆå™¨çš„æ¸²æŸ“ç®¡çº¿ã€‚æˆ‘ä¼šå°½é‡ä½¿ç”¨ transform å’Œ opacity æ¥ä»£æ›¿ top/left åšä½ç§»å’Œæ˜¾éšåŠ¨ç”»ï¼Œå› ä¸ºå®ƒä»¬èƒ½é¿å¼€ Layout å’Œ Paintï¼Œç›´æ¥åœ¨ Composite é˜¶æ®µ ç”± GPU å®Œæˆã€‚
åŒæ—¶ï¼Œæˆ‘ä¼šè­¦æƒ•åˆæˆå±‚çˆ†ç‚¸é—®é¢˜ï¼Œåˆç†ä½¿ç”¨ will-change è€Œä¸æ»¥ç”¨ã€‚åœ¨ç¼–å†™é€‰æ‹©å™¨æ—¶ï¼Œæˆ‘ä¼šè€ƒè™‘åˆ°æµè§ˆå™¨ä»å³å‘å·¦åŒ¹é…çš„ç‰¹æ€§ï¼Œé¿å…ä½¿ç”¨é€šé…ç¬¦æˆ–è¿‡æ·±çš„åµŒå¥—ï¼Œä»è€Œå‡è½» Style è®¡ç®—çš„è´Ÿæ‹…ã€‚"</p>
<hr/>
<h2 data-id="heading-49">ç¬¬å…­éƒ¨åˆ†ï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–</h2>
<h3 data-id="heading-50">1. BEM å‘½åæ–¹æ³•è®º</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¹ˆé•¿çš„å‘½åï¼Ÿblock__element--modifier æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ"</p>
<p><strong>æ ¸å¿ƒç»“æ„ï¼š</strong></p>
<ul>
<li>Block (å—)ï¼šç‹¬ç«‹ã€æœ‰æ„ä¹‰çš„å®ä½“ï¼ˆå¦‚ .menuï¼‰ã€‚</li>
<li>Element (å…ƒç´ )ï¼šå—çš„ä¸€éƒ¨åˆ†ï¼Œä¸èƒ½è„±ç¦»å—ç‹¬ç«‹å­˜åœ¨ï¼ˆå¦‚ .menu__itemï¼‰ã€‚</li>
<li>Modifier (ä¿®é¥°ç¬¦)ï¼šæ”¹å˜çŠ¶æ€æˆ–å¤–è§‚ï¼ˆå¦‚ .menu__item--activeï¼‰ã€‚</li>
</ul>
<p><strong>æ·±å±‚ä»·å€¼ï¼š</strong></p>
<ul>
<li>è§£å†³æƒé‡æˆ˜äº‰ï¼šBEM æå€¡å‡ ä¹æ‰€æœ‰çš„é€‰æ‹©å™¨éƒ½åªæœ‰ä¸€ä¸ªç±»åï¼Œè¿™ä½¿å¾—ä¼˜å…ˆçº§éå¸¸å¹³æ•´ï¼Œä¸ä¼šå‡ºç° .nav ul li a è¿™ç§éš¾ä»¥è¦†ç›–çš„é«˜æƒé‡é€‰æ‹©å™¨ã€‚</li>
<li>è‡ªè§£é‡Šæ€§ï¼šä»ç±»åå°±èƒ½çœ‹å‡ºç»„ä»¶ç»“æ„ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ã€‚</li>
<li>é˜²æ­¢æ ·å¼æ±¡æŸ“ï¼šé€šè¿‡é•¿å‘½åç©ºé—´è§„é¿å…¨å±€å†²çªã€‚</li>
</ul>
<p>åŠæ‰“ç‚¹ï¼šæåˆ° "BEM å¹¶ä¸å»ºè®®åµŒå¥—ä¸‰å±‚ä»¥ä¸Š"ã€‚ä¾‹å¦‚ä¸è¦å†™ .block__el1__el2ï¼Œè€Œåº”æå–ä¸ºæ–°çš„ Block æˆ–æ‰å¹³åŒ–ä¸º .block__el2ã€‚</p>
<h3 data-id="heading-51">2. CSS Modules</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"CSS Modules æ˜¯å¦‚ä½•å®ç°å±€éƒ¨ä½œç”¨åŸŸçš„ï¼Ÿ"</p>
<p><strong>åŸç†ï¼š</strong> åœ¨æ„å»ºé˜¶æ®µï¼ˆWebpack/Viteï¼‰ï¼Œå°† CSS ç±»åå“ˆå¸ŒåŒ–ã€‚</p>
<ul>
<li>æºæ–‡ä»¶ï¼š.title { color: red; }</li>
<li>ç¼–è¯‘åï¼š.title_x5a8j { color: red; }</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å½»åº•è§£å†³å‘½åå†²çªï¼šæ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ç‹¬ç«‹ä½œç”¨åŸŸã€‚</li>
<li>æ˜¾å¼ä¾èµ–ï¼šåœ¨ JS ä¸­é€šè¿‡ import styles from './style.module.css' å¼•å…¥ï¼Œä»£ç å¼•ç”¨å…³ç³»æ¸…æ™°ã€‚</li>
</ul>
<p><strong>ç¼ºé™·ï¼š</strong> å˜é‡å…±äº«ä¸æ–¹ä¾¿ï¼ˆéœ€è¦ :export è¯­æ³•ï¼‰ï¼Œç±»ååŠ¨æ€æ‹¼æ¥ç•¥æ˜¾ç¹çã€‚</p>
<h3 data-id="heading-52">3. CSS-in-JS (Styled-components, Emotion)</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ä¸ºä»€ä¹ˆ React ç¤¾åŒºå–œæ¬¢ CSS-in-JSï¼Ÿå®ƒæœ‰ä»€ä¹ˆå‰¯ä½œç”¨ï¼Ÿ"</p>
<p><strong>è®¾è®¡å“²å­¦ï¼š</strong> All in JSã€‚æ ·å¼æ˜¯ç»„ä»¶é€»è¾‘çš„ä¸€éƒ¨åˆ†ï¼Œåˆ©ç”¨ JS çš„å˜é‡ã€å‡½æ•°å’Œé€»è¾‘æ¥å¢å¼º CSSã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>åŠ¨æ€æ ·å¼æè‡´çµæ´»ï¼šç›´æ¥æ ¹æ® props è®¡ç®—æ ·å¼ï¼ˆï¼‰ã€‚</li>
<li>è‡ªåŠ¨æŒ‰éœ€åŠ è½½ï¼šåªæœ‰ç»„ä»¶è¢«æ¸²æŸ“ï¼Œæ ·å¼æ‰ä¼šè¢«æ³¨å…¥åˆ°  æ ‡ç­¾ã€‚
</li><li>é›¶é…ç½®ä½œç”¨åŸŸï¼šå¤©ç„¶ä¸å­˜åœ¨å†²çªã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼ˆåŠæ‰“ç‚¹ï¼‰ï¼š</strong></p>
<ul>
<li>è¿è¡Œæ—¶å¼€é”€ (Runtime Overhead)ï¼šåœ¨æµè§ˆå™¨ç«¯å®æ—¶è§£æ JS å¹¶ç”Ÿæˆ CSS æ’å…¥ DOMï¼Œåœ¨å¤§è§„æ¨¡æ¸²æŸ“æ—¶ä¼šå¯¼è‡´æ‰å¸§ã€‚</li>
<li>Bundle ä½“ç§¯ï¼šéœ€è¦å¼•å…¥é¢å¤–çš„ JS åº“ï¼ˆå¦‚ styled-components åº“æœ¬èº«çº¦ 12KBï¼‰ã€‚</li>
<li>æ— æ³•ç¼“å­˜ CSS æ–‡ä»¶ï¼šæ ·å¼éš JS é€»è¾‘ä¸€èµ·åŠ è½½ï¼Œæ— æ³•åˆ©ç”¨æµè§ˆå™¨çš„ CSS ç‹¬ç«‹ç¼“å­˜æœºåˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-53">4. åŸå­åŒ– CSS (Tailwind CSS)</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"Tailwind ä¼šè®© HTML å˜å¾—å¾ˆä¹±ï¼Œä¸ºä»€ä¹ˆå®ƒè¿˜ä¼šæµè¡Œï¼Ÿ"</p>
<p><strong>å“²å­¦ï¼š</strong> Utility-Firstï¼ˆå®ç”¨ä¼˜å…ˆï¼‰ã€‚ä¸å†å†™ .cardï¼Œè€Œæ˜¯å†™ class="p-4 bg-white shadow-md rounded-lg"ã€‚</p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>ä¸å†ä¸ºèµ·åçƒ¦æ¼ï¼šå‡å°‘äº†å¤§è„‘å¼€é”€ã€‚</li>
<li>CSS ä½“ç§¯ä¸å†è†¨èƒ€ï¼šæ— è®ºé¡µé¢å¤šå¤æ‚ï¼ŒCSS æ€»é‡ä¼šè¶‹äºç¨³å®šï¼ˆå› ä¸ºå¸¸ç”¨çš„ utility ç±»æ˜¯æœ‰é™çš„ï¼‰ã€‚</li>
<li>æè‡´çš„å¼€å‘é€Ÿåº¦ï¼šæ— éœ€åœ¨ JS å’Œ CSS æ–‡ä»¶é—´åå¤åˆ‡æ¢ã€‚</li>
</ul>
<p><strong>åº•å±‚æœºåˆ¶ï¼š</strong> ä½¿ç”¨ PurgeCSS æ‰«æ HTML/JSï¼Œåªæ‰“åŒ…ä½ ç”¨è¿‡çš„ç±»ï¼Œç”Ÿäº§ç¯å¢ƒä½“ç§¯æå°ã€‚</p>
<p>æ€è€ƒï¼šè™½ç„¶ HTML çœ‹èµ·æ¥ä¹±ï¼Œä½†å®ƒè§£å†³äº†æ ·å¼å†—ä½™å’Œæ­»ä»£ç é—®é¢˜ã€‚</p>
<h3 data-id="heading-54">5. CSS é¢„å¤„ç†å™¨ï¼ˆSass, Lessï¼‰ä¸ç°ä»£ CSS</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"ç°ä»£ CSS å·²ç»æ”¯æŒå˜é‡å’ŒåµŒå¥—äº†ï¼ŒSass è¿˜æœ‰å¿…è¦å—ï¼Ÿ"</p>
<p><strong>Sass/Less çš„æ ¸å¿ƒä»·å€¼ï¼š</strong></p>
<ul>
<li>å¤æ‚çš„é€»è¾‘è¿ç®—ï¼š@for, @if, @each å¾ªç¯ï¼ŒMixins å‡½æ•°è®¡ç®—ã€‚</li>
<li>æ¨¡å—åŒ–ç®¡ç†ï¼š@use å’Œ @import å°†æ ·å¼æ‹†åˆ†å¹¶åˆå¹¶ã€‚</li>
</ul>
<p><strong>ç°çŠ¶å¯¹æ¯”ï¼š</strong></p>
<ul>
<li>Native CSS Nestingï¼ˆåŸç”ŸåµŒå¥—ï¼‰ç°å·²å¾—åˆ°ä¸»æµæµè§ˆå™¨æ”¯æŒã€‚</li>
<li>CSS Variablesï¼ˆåŸç”Ÿå˜é‡ï¼‰æ˜¯åŠ¨æ€çš„ï¼ˆè¿è¡Œæ—¶ï¼‰ï¼Œè€Œ Sass å˜é‡æ˜¯é™æ€çš„ï¼ˆç¼–è¯‘æ—¶ï¼‰ã€‚</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong> å¯¹äºç®€å•çš„åµŒå¥—å’Œå˜é‡ï¼Œç°ä»£ CSS è¶³å¤Ÿï¼›å¯¹äºå¤§å‹ UI åº“æˆ–éœ€è¦å¤æ‚é€»è¾‘çš„ç³»ç»Ÿï¼ŒSass ä¾ç„¶ä¸å¯æ›¿ä»£ã€‚</p>
<h3 data-id="heading-55">6. PostCSS çš„ä½œç”¨ä¸å¸¸è§æ’ä»¶</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"PostCSS æ˜¯ä¸æ˜¯å°±æ˜¯ä¸ºäº†åŠ æµè§ˆå™¨å‰ç¼€çš„ï¼Ÿ"</p>
<p><strong>å®šä¹‰ï¼š</strong> PostCSS æ˜¯ CSS ç•Œçš„ Babelã€‚å®ƒæœ¬èº«ä¸åšä»€ä¹ˆï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªæ’ä»¶ç³»ç»Ÿæ¥å¤„ç† CSSã€‚</p>
<p><strong>å¸¸ç”¨æ’ä»¶ï¼ˆå±•ç°æ·±åº¦ï¼‰ï¼š</strong></p>
<ul>
<li>Autoprefixerï¼šè‡ªåŠ¨æ·»åŠ  -webkit- ç­‰å‰ç¼€ã€‚</li>
<li>PostCSS Preset Envï¼šè®©ä½ ç°åœ¨å°±èƒ½ç”¨æœªæ¥çš„ CSS è¯­æ³•ï¼ˆç±»ä¼¼ Babel è½¬æ¢ JSï¼‰ã€‚</li>
<li>cssnanoï¼šå‹ç¼© CSSï¼Œä¼˜åŒ–ä»£ç ã€‚</li>
<li>px-to-viewport / px2remï¼šç§»åŠ¨ç«¯é€‚é…æ’ä»¶ã€‚</li>
</ul>
<p><strong>å·¥ä½œåŸç†ï¼š</strong> CSS â†’ AST (æŠ½è±¡è¯­æ³•æ ‘) â†’ æ’ä»¶å¤„ç† â†’ å­—ç¬¦ä¸²ã€‚</p>
<h3 data-id="heading-56">ğŸ’¡ ç»¼åˆå¯¹æ¯”ï¼šæ¶æ„å¦‚ä½•é€‰å‹ï¼Ÿ</h3>
<p>å¦‚æœä½ æ˜¯æŠ€æœ¯è´Ÿè´£äººï¼Œä½ ä¼šæ€ä¹ˆé€‰ï¼Ÿï¼ˆè¿™æ˜¯é¢è¯•å®˜æœ€æƒ³å¬åˆ°çš„"å¤§å±€è§‚"ï¼‰</p>
<ul>
<li>ä¸­å°å‹é¡¹ç›® / å¿«é€Ÿè¿­ä»£ï¼šé€‰ Tailwind CSSã€‚å¼€å‘é€Ÿåº¦å¿«ï¼Œä½“ç§¯å°ï¼Œç»´æŠ¤æˆæœ¬ä½ã€‚</li>
<li>å¤§å‹ä¼ä¸šçº§åå° / å¤æ‚ UI ç»„ä»¶åº“ï¼šé€‰ Sass + CSS Modules æˆ– BEMã€‚ç»“æ„æ¸…æ™°ï¼Œé€»è¾‘å¤ç”¨æ€§å¼ºã€‚</li>
<li>è¿½æ±‚æè‡´åŠ¨æ€åŒ– / å¼ºäº¤äº’è®¾è®¡ç³»ç»Ÿï¼šé€‰ Styled-componentsã€‚è™½ç„¶æœ‰è¿è¡Œæ—¶æŸè€—ï¼Œä½†å¼€å‘ä½“éªŒå’ŒåŠ¨æ€å“åº”æœ€å¥½ã€‚</li>
</ul>
<h3 data-id="heading-57">ğŸ’¡ åŠæ‰“é¢è¯•å®˜çš„æ€»ç»“è¯æœ¯ï¼š</h3>
<p>"CSS å·¥ç¨‹åŒ–æœ¬è´¨ä¸Šæ˜¯åœ¨ 'éš”ç¦»æ€§'ã€'å¤ç”¨æ€§'ã€'çµæ´»æ€§' å’Œ 'æ€§èƒ½' ä¹‹é—´å¯»æ‰¾å¹³è¡¡ã€‚
BEM æ˜¯è§„èŒƒä¸Šçš„çº¦æŸï¼Œå®ƒç”¨ä½æˆæœ¬è§£å†³äº†å‘½åå†²çªï¼›
CSS Modules æ˜¯å·¥å…·ä¸Šçš„çº¦æŸï¼Œå®ƒå®ç°äº†çœŸæ­£çš„ä½œç”¨åŸŸéš”ç¦»ï¼›
CSS-in-JS å°† CSS é€»è¾‘åŒ–ï¼Œç‰¹åˆ«é€‚åˆå¤æ‚çŠ¶æ€é©±åŠ¨çš„ UIï¼Œè™½ç„¶ç‰ºç‰²äº†ä¸€ç‚¹ç‚¹è¿è¡Œæ—¶æ€§èƒ½ï¼›
è€Œ Tailwind CSS åˆ™æ˜¯ä¸€ç§èŒƒå¼è½¬ç§»ï¼Œå®ƒé€šè¿‡åŸå­åŒ–ä»æ ¹æœ¬ä¸Šè§£å†³äº† CSS ä»£ç è†¨èƒ€é—®é¢˜ã€‚
åœ¨å®é™…æ¶æ„ä¸­ï¼Œæˆ‘ä¼šç»“åˆ PostCSS æ¥ä¿è¯å…¼å®¹æ€§ï¼Œå¹¶æ ¹æ®å›¢é˜Ÿè§„æ¨¡å’Œé¡¹ç›®ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨ 'Sass + CSS Modules'ï¼ˆç¨³å¥å‹ï¼‰å’Œ 'Tailwind'ï¼ˆæ•æ·å‹ï¼‰ä¹‹é—´åšæŠ‰æ‹©ã€‚åŒæ—¶ï¼Œæˆ‘ä¹Ÿåœ¨å…³æ³¨ç°ä»£ CSS çš„å‘å±•ï¼Œå¦‚åŸç”ŸåµŒå¥—å’Œå®¹å™¨æŸ¥è¯¢ï¼Œä»¥å‡å°‘å¯¹é¢„å¤„ç†å™¨çš„ä¾èµ–ã€‚"</p>
<hr/>
<h2 data-id="heading-58">ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ·±åº¦æ€è€ƒä¸å¼€æ”¾é¢˜</h2>
<p>è¿™æ˜¯ CSS çŸ¥è¯†ä½“ç³»çš„æœ€åä¸€å—æ‹¼å›¾â€”â€”åº•å±‚æœºåˆ¶ä¸æ¶æ„è®¾è®¡ã€‚åœ¨é«˜çº§å‰ç«¯é¢è¯•ä¸­ï¼Œé¢è¯•å®˜ä¸ä»…çœ‹ä½ èƒ½ä¸èƒ½ç”»å‡ºé¡µé¢ï¼Œæ›´çœ‹é‡ä½ å¯¹ CSS è®¾è®¡å“²å­¦ï¼ˆDesign Philosophyï¼‰ çš„ç†è§£ä»¥åŠåœ¨å¤§è§„æ¨¡å·¥ç¨‹ä¸­çš„åšå¼ˆèƒ½åŠ›ã€‚</p>
<h3 data-id="heading-59">1. CSS çš„å±‚å ï¼ˆCascadeï¼‰å…·ä½“è§„åˆ™</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"CSS çš„ C ä»£è¡¨ Cascadeï¼ˆå±‚å ï¼‰ï¼Œè¯·é—®å®ƒæ˜¯æŒ‰ç…§ä»€ä¹ˆé¡ºåºå†³å®šæœ€ç»ˆæ ·å¼çš„ï¼Ÿ"</p>
<p>å±‚å æ˜¯ CSS çš„æ ¸å¿ƒçµé­‚ã€‚å½“å¤šä¸ªæ ·å¼è§„åˆ™æŒ‡å‘åŒä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæµè§ˆå™¨ä¼šéµå¾ªä»¥ä¸‹ä¼˜å…ˆçº§é¡ºåºï¼ˆç”±é«˜åˆ°ä½ï¼‰ï¼š</p>
<p><strong>æ¥æºä¸é‡è¦æ€§ (Origin &amp; Importance)ï¼š</strong></p>
<ul>
<li>User Agent !important (æµè§ˆå™¨é»˜è®¤æ ·å¼çš„å¼ºåˆ¶é¡¹ï¼Œæå°‘è§)</li>
<li>User !important (ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®çš„å¼ºåˆ¶é¡¹)</li>
<li>Author !important (å¼€å‘è€…å†™çš„ !important)</li>
<li>Author (å¼€å‘è€…å†™çš„æ™®é€š CSS)</li>
<li>User (ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®)</li>
<li>User Agent (æµè§ˆå™¨é»˜è®¤æ ·å¼ï¼Œå¦‚ div æ˜¯ block)</li>
</ul>
<p><strong>å±‚å å±‚ (Cascade Layers - @layer)ï¼š</strong>
è¿™æ˜¯ CSS2022 å¼•å…¥çš„æ–°ç‰¹æ€§ã€‚åœ¨åŒä¸€ä¸ªæ¥æºå†…ï¼Œåå£°æ˜çš„ @layer ä¼˜å…ˆçº§æ›´é«˜ã€‚</p>
<p>æ³¨æ„ï¼šæœªè”ç½‘åˆ°å±‚ï¼ˆUnlayeredï¼‰çš„æ ·å¼ ä¼˜å…ˆçº§é«˜äºæ‰€æœ‰å®šä¹‰åœ¨ @layer é‡Œçš„æ ·å¼ã€‚</p>
<p><strong>é€‰æ‹©å™¨æƒé‡ (Specificity)ï¼š</strong>
(Inline, ID, Class/Attribute, Element)ã€‚</p>
<p><strong>å‡ºç°é¡ºåº (Order of Appearance)ï¼š</strong>
æƒé‡ç›¸åŒæ—¶ï¼Œ"åæ¥å±…ä¸Š"ã€‚</p>
<p>åŠæ‰“ç‚¹ï¼šå¾ˆå¤šå€™é€‰äººåªçŸ¥é“"æƒé‡"ï¼Œä½†ä¸çŸ¥é“ "æ¥æº" å’Œ "å±‚å å±‚"ã€‚å¦‚æœä½ èƒ½è§£é‡Šæ¸…æ¥š @layer å¦‚ä½•è§£å†³ç¬¬ä¸‰æ–¹åº“æ ·å¼è¦†ç›–é—®é¢˜ï¼Œé¢è¯•å®˜ä¼šè§‰å¾—ä½ ç´§è·Ÿå‰æ²¿è§„èŒƒã€‚</p>
<h3 data-id="heading-60">2. CSS ç»§æ‰¿ï¼ˆInheritanceï¼‰æœºåˆ¶</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ï¼Ÿå¦‚ä½•å¼ºåˆ¶ä¸€ä¸ªä¸ç»§æ‰¿çš„å±æ€§ç»§æ‰¿ï¼Ÿ"</p>
<p><strong>é»˜è®¤ç»§æ‰¿çš„å±æ€§ï¼š</strong> ä¸»è¦æ˜¯æ–‡æœ¬ç›¸å…³çš„ã€‚</p>
<ul>
<li>font-family, font-size, color, line-height, text-align, visibility, cursor ç­‰ã€‚</li>
</ul>
<p><strong>é»˜è®¤ä¸ç»§æ‰¿çš„å±æ€§ï¼š</strong> ä¸»è¦æ˜¯ç›’æ¨¡å‹å’Œå¸ƒå±€ç›¸å…³çš„ã€‚</p>
<ul>
<li>margin, padding, border, width/height, position, display, background ç­‰ã€‚ï¼ˆæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœ border èƒ½ç»§æ‰¿ï¼Œçˆ¶å…ƒç´ åŠ ä¸ªè¾¹æ¡†ï¼Œæ‰€æœ‰å­å…ƒç´ å…¨å¸¦è¾¹æ¡†ï¼Œé‚£é¡µé¢å°±ä¹±å¥—äº†ï¼‰ã€‚</li>
</ul>
<p><strong>æ§åˆ¶ç»§æ‰¿çš„å››ä¸ªå…³é”®å­—ï¼š</strong></p>
<ul>
<li><strong>inherit</strong>ï¼šå¼ºåˆ¶ç»§æ‰¿çˆ¶å…ƒç´ çš„å€¼ã€‚</li>
<li><strong>initial</strong>ï¼šæ¢å¤ä¸ºè¯¥å±æ€§çš„æµè§ˆå™¨é»˜è®¤å€¼ï¼ˆåˆå§‹å€¼ï¼‰ã€‚</li>
<li><strong>unset</strong>ï¼ˆé«˜çº§ï¼‰ï¼šå¦‚æœæ˜¯é»˜è®¤ç»§æ‰¿çš„å±æ€§ï¼Œæ•ˆæœåŒ inheritï¼›å¦‚æœæ˜¯éç»§æ‰¿å±æ€§ï¼Œæ•ˆæœåŒ initialã€‚</li>
<li><strong>revert</strong>ï¼šå›é€€åˆ°ç”¨æˆ·ä»£ç†ï¼ˆæµè§ˆå™¨ï¼‰å®šä¹‰çš„æ ·å¼ã€‚</li>
</ul>
<h3 data-id="heading-61">3. å¦‚ä½•ç»„ç»‡å¤§å‹é¡¹ç›®çš„ CSS ä»£ç ï¼Ÿ</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å½“é¡¹ç›®æœ‰å‡ ç™¾ä¸ªç»„ä»¶æ—¶ï¼Œä½ æ€ä¹ˆä¿è¯ CSS ä¸å¤±æ§ï¼Ÿ"</p>
<p>è¿™è€ƒå¯Ÿçš„æ˜¯æ¶æ„æ€æƒ³ã€‚ä½ å¯ä»¥ä»ä»¥ä¸‹ç»´åº¦å›ç­”ï¼š</p>
<p><strong>æ–¹æ³•è®º (Methodologies)ï¼š</strong></p>
<ul>
<li>ITCSS (Inverted Triangle CSS)ï¼šå€’ä¸‰è§’æ¶æ„ã€‚å°† CSS æŒ‰ä»å…¨å±€åˆ°å…·ä½“çš„é¡ºåºåˆ†ä¸º 7 å±‚ï¼šSettings -&gt; Tools -&gt; Generic -&gt; Elements -&gt; Objects -&gt; Components -&gt; Trumpsã€‚è¿™èƒ½æå¥½åœ°æ§åˆ¶æ ·å¼æµå‘å’Œæƒé‡å˜åŒ–ã€‚</li>
<li>BEMï¼šé€šè¿‡ä¸¥æ ¼çš„å‘½åè§„èŒƒç¡®ä¿ç»„ä»¶ç‹¬ç«‹æ€§ã€‚</li>
</ul>
<p><strong>å·¥ç¨‹åŒ–æ‰‹æ®µï¼š</strong></p>
<ul>
<li>CSS Modulesï¼šä»å·¥å…·å±‚é¢å®ç°æ ·å¼ç§æœ‰åŒ–ï¼Œæœç»å…¨å±€æ±¡æŸ“ã€‚</li>
<li>Design Tokensï¼šå°†é¢œè‰²ã€é—´è·ã€å­—å·æŠ½ç¦»ä¸ºå˜é‡ï¼ˆCSS Variables æˆ– Sass Variablesï¼‰ï¼Œå®ç°"ä¸€å¤„ä¿®æ”¹ï¼Œå…¨ç«™ç”Ÿæ•ˆ"ã€‚</li>
<li>æŒ‰éœ€åŠ è½½ï¼šé€šè¿‡ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰è®©æ¯ä¸ªé¡µé¢åªåŠ è½½è‡ªå·±éœ€è¦çš„ CSS æ¨¡å—ã€‚</li>
</ul>
<p>åŠæ‰“ç‚¹ï¼šæåˆ° "æ ·å¼æ­»ä»£ç æ¶ˆé™¤ï¼ˆPurge/Unused CSSï¼‰" å’Œ "åŸå­åŒ– CSSï¼ˆTailwindï¼‰" çš„ç»“åˆã€‚å¤§å‹é¡¹ç›®æœ€æ€• CSS åªå¢ä¸å‡ï¼Œè§£é‡Šä½ å¦‚ä½•é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·å‘ç°å¹¶æ¸…ç†åºŸå¼ƒæ ·å¼ã€‚</p>
<h3 data-id="heading-62">4. å¦‚ä½•å¤„ç† CSS æ ·å¼å†²çªï¼Ÿ</h3>
<p>é¢è¯•å®˜ä¼šé—®ï¼š"å½“ä½ å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œå®ƒçš„æ ·å¼æŠŠä½ çš„é¡µé¢æä¹±äº†ï¼Œä½ æ€ä¹ˆåŠï¼Ÿ"</p>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç°å®çš„åšå¼ˆé—®é¢˜ã€‚ä½ å¯ä»¥ç»™å‡º"ç»„åˆæ‹³"æ–¹æ¡ˆï¼š</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šæé«˜è‡ªèº«æƒé‡ï¼ˆæƒå®œä¹‹è®¡ï¼‰ã€‚</strong>
å¢åŠ ä¸€ä¸ªçˆ¶çº§ ID æˆ–ç±»åæ¥æå‡æƒé‡ã€‚</p>
<p><strong>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ CSS Modules / Shadow DOMï¼ˆä»ç‰©ç†ä¸Šéš”ç¦»ï¼‰ã€‚</strong>
å¦‚æœé¡¹ç›®æ”¯æŒ Web Componentsï¼Œä½¿ç”¨ Shadow DOM å¯ä»¥å®ç°å®Œç¾çš„æ ·å¼çœŸç©ºéš”ç¦»ï¼Œå¤–éƒ¨æ ·å¼ç»å¯¹è¿›ä¸æ¥ã€‚</p>
<p><strong>æ–¹æ¡ˆä¸‰ï¼šåˆ©ç”¨ @layer å±‚å å±‚ï¼ˆæœ€ä¼˜é›…æ–¹æ¡ˆï¼‰ã€‚</strong>
å°†ç¬¬ä¸‰æ–¹åº“çš„æ ·å¼åŒ…è£¹åœ¨ @layer library ä¸­ï¼Œå°†è‡ªå·±çš„ä¸šåŠ¡æ ·å¼åŒ…è£¹åœ¨ @layer base ä¸­ã€‚é€šè¿‡å£°æ˜å±‚çº§é¡ºåºï¼Œç¡®ä¿ä¸šåŠ¡å±‚æ°¸è¿œè¦†ç›–åº“å±‚ï¼Œå³ä¾¿ä½ çš„æƒé‡æ¯”å®ƒä½ã€‚</p>
<p><strong>æ–¹æ¡ˆå››ï¼šæ ·å¼é‡ç½® (Reset/Normalize)ã€‚</strong>
åœ¨é¡¹ç›®å…¥å£å¤„ç»Ÿä¸€æµè§ˆå™¨å·®å¼‚ï¼Œç¡®ä¿åŸºå‡†çº¿ä¸€è‡´ã€‚</p>
<h3 data-id="heading-63">ğŸ’¡ æ€»ç»“ï¼šæ·±åº¦æ€è€ƒçš„æ·±åº¦åœ¨å“ªé‡Œï¼Ÿ</h3>
<p>é¢è¯•å®˜é—®è¿™äº›å¼€æ”¾é¢˜ï¼Œæ˜¯åœ¨çœ‹ä½ çš„ "é˜²å¾¡æ€§ç¼–ç¨‹" æ„è¯†ã€‚</p>
<ul>
<li>åˆçº§å¼€å‘è€…ï¼šè§æ‹›æ‹†æ‹›ï¼Œæ ·å¼å†²çªäº†å°±åŠ  !importantã€‚</li>
<li>ä¸­çº§å¼€å‘è€…ï¼šæ‡‚å¾—ç”¨ BEM æˆ– CSS Modules è§„é¿é—®é¢˜ã€‚</li>
<li>é«˜çº§/èµ„æ·±å¼€å‘è€…ï¼š
<ul>
<li>ä¼šè€ƒè™‘ "çº§è”æµ" çš„å¯é¢„æµ‹æ€§ï¼ˆPredictabilityï¼‰ã€‚</li>
<li>ä¼šè€ƒè™‘ "æ ·å¼ç³»ç»Ÿçš„ä¼¸ç¼©æ€§"ï¼ˆScalabilityï¼‰ã€‚</li>
<li>ä¼šåˆ©ç”¨æœ€æ–°çš„ W3C è§„èŒƒï¼ˆå¦‚å±‚å å±‚ã€å®¹å™¨æŸ¥è¯¢ï¼‰ä»åº•å±‚æ¶æ„ä¸Šæ¶ˆç­å†²çªã€‚</li>
</ul>
</li>
</ul></a></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java Stream API vs ä¼ ç»Ÿå¾ªç¯ï¼šæ€§èƒ½å·®è·ç«Ÿé«˜è¾¾50%ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598089234034294784</link>    <guid>https://juejin.cn/post/7598089234034294784</guid>    <pubDate>2026-01-23T04:19:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598089234034294784" data-draft-id="7598127455133450240" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java Stream API vs ä¼ ç»Ÿå¾ªç¯ï¼šæ€§èƒ½å·®è·ç«Ÿé«˜è¾¾50%ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-23T04:19:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java Stream API vs ä¼ ç»Ÿå¾ªç¯ï¼šæ€§èƒ½å·®è·ç«Ÿé«˜è¾¾50%ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:19:03.000Z" title="Fri Jan 23 2026 04:19:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Java Stream API vs ä¼ ç»Ÿå¾ªç¯ï¼šæ€§èƒ½å·®è·ç«Ÿé«˜è¾¾50%ï¼Ÿ</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Java 8å¼•å…¥çš„Stream APIå½»åº•æ”¹å˜äº†å¼€å‘äººå‘˜å¤„ç†é›†åˆå’Œæ•°æ®æ“ä½œçš„æ–¹å¼ã€‚å®ƒæä¾›äº†ä¸€ç§å£°æ˜å¼çš„ç¼–ç¨‹é£æ ¼ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ã€æ˜“è¯»ã€‚ç„¶è€Œï¼Œå…³äºStream APIä¸ä¼ ç»Ÿå¾ªç¯ï¼ˆå¦‚forã€whileï¼‰ä¹‹é—´çš„æ€§èƒ½å·®å¼‚ï¼Œä¸šç•Œä¸€ç›´å­˜åœ¨äº‰è®®ã€‚æŸäº›åŸºå‡†æµ‹è¯•ç”šè‡³æ˜¾ç¤ºä¸¤è€…ä¹‹é—´å­˜åœ¨é«˜è¾¾50%çš„æ€§èƒ½å·®è·ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™ä¸€ç°è±¡ï¼Œåˆ†æèƒŒåçš„åŸå› ï¼Œå¹¶æä¾›å®é™…åœºæ™¯ä¸‹çš„ä¼˜åŒ–å»ºè®®ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. Stream APIä¸ä¼ ç»Ÿå¾ªç¯çš„åŸºæœ¬æ¦‚å¿µ</h3>
<h4 data-id="heading-4">Stream API</h4>
<p>Stream APIæ˜¯Java 8ä¸­å¼•å…¥çš„ä¸€ç§å‡½æ•°å¼ç¼–ç¨‹å·¥å…·ï¼Œç”¨äºå¯¹é›†åˆè¿›è¡Œå¤æ‚çš„æ“ä½œï¼ˆå¦‚è¿‡æ»¤ã€æ˜ å°„ã€å½’çº¦ç­‰ï¼‰ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†æ•°æ®æ“ä½œåˆ†ä¸º<strong>ä¸­é—´æ“ä½œ</strong>ï¼ˆIntermediate Operationsï¼‰å’Œ<strong>ç»ˆç«¯æ“ä½œ</strong>ï¼ˆTerminal Operationsï¼‰ï¼Œå¹¶é€šè¿‡æƒ°æ€§æ±‚å€¼ï¼ˆLazy Evaluationï¼‰ä¼˜åŒ–æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-java" lang="java">List&lt;Integer&gt; numbers = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>);
<span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> numbers.stream()
                .filter(n -&gt; n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)
                .mapToInt(n -&gt; n * n)
                .sum();
</code></pre>
<h4 data-id="heading-5">ä¼ ç»Ÿå¾ªç¯</h4>
<p>ä¼ ç»Ÿå¾ªç¯ï¼ˆå¦‚<code>for</code>ã€<code>while</code>ï¼‰æ˜¯å‘½ä»¤å¼ç¼–ç¨‹çš„å…¸å‹ä»£è¡¨ï¼Œé€šè¿‡æ˜¾å¼æ§åˆ¶æµç¨‹å®ç°å¯¹é›†åˆçš„éå†å’Œæ“ä½œã€‚</p>
<pre><code class="hljs language-java" lang="java">List&lt;Integer&gt; numbers = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>);
<span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> n : numbers) {
    <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) {
        sum += n * n;
    }
}
</code></pre>
<h3 data-id="heading-6">2. æ€§èƒ½å¯¹æ¯”çš„ç†è®ºåŸºç¡€</h3>
<p>Stream APIçš„æ€§èƒ½å¼€é”€ä¸»è¦æ¥è‡ªä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>å¯¹è±¡åˆ†é…ä¸åƒåœ¾å›æ”¶</strong>ï¼šStreamæ“ä½œä¼šåˆ›å»ºå¤šä¸ªä¸­é—´å¯¹è±¡ï¼ˆå¦‚Spliteratorã€Pipelineç­‰ï¼‰ã€‚</li>
<li><strong>å‡½æ•°è°ƒç”¨å¼€é”€</strong>ï¼šLambdaè¡¨è¾¾å¼å’Œæ–¹æ³•å¼•ç”¨ä¼šå¼•å…¥é¢å¤–çš„è°ƒç”¨æ ˆã€‚</li>
<li><strong>å¹¶è¡ŒåŒ–æˆæœ¬</strong>ï¼šè™½ç„¶Streamæ”¯æŒå¹¶è¡ŒåŒ–ï¼Œä½†çº¿ç¨‹è°ƒåº¦å’ŒåŒæ­¥ä¹Ÿä¼šå¸¦æ¥é¢å¤–å¼€é”€ã€‚</li>
</ol>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¼ ç»Ÿå¾ªç¯çš„ç›´æ¥æ€§å’Œä½å±‚çº§ç‰¹æ€§ä½¿å…¶åœ¨å•çº¯éå†å’Œç®€å•æ“ä½œæ—¶æ›´å…·ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-7">3. JMHåŸºå‡†æµ‹è¯•ä¸åˆ†æ</h3>
<p>ä¸ºäº†é‡åŒ–æ€§èƒ½å·®å¼‚ï¼Œæˆ‘ä»¬ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenjdk.org%2Fprojects%2Fcode-tools%2Fjmh%2F" target="_blank" title="https://openjdk.org/projects/code-tools/jmh/" ref="nofollow noopener noreferrer">JMH</a>ï¼ˆJava Microbenchmark Harnessï¼‰è¿›è¡Œæµ‹è¯•ã€‚ä»¥ä¸‹æ˜¯æµ‹è¯•åœºæ™¯ï¼š</p>
<h4 data-id="heading-8">æµ‹è¯•åœºæ™¯1ï¼šç®€å•è¿‡æ»¤ä¸æ±‚å’Œ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Benchmark</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">streamFilterSum</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> numbers.stream().filter(n -&gt; n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>).mapToInt(n -&gt; n).sum();
}

<span class="hljs-meta">@Benchmark</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">forLoopFilterSum</span><span class="hljs-params">()</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> -<span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> n : numbers) {
        <span class="hljs-keyword">if</span> (n %-<span class="hljs-number">20</span>=%=<span class="hljs-number">0</span>) sum +=--n;
    }
    <span class="hljs-keyword">return</span> sum;
}
</code></pre>
<h4 data-id="heading-9"><strong>æµ‹è¯•ç»“æœ</strong></h4>























<table><thead><tr><th>Benchmark</th><th>Mode</th><th>Score (ops/ms)</th><th>Error</th></tr></thead><tbody><tr><td>streamFilterSum</td><td>thrpt</td><td>10.12</td><td>Â±0.15</td></tr><tr><td>forLoopFilterSum</td><td>thrpt</td><td>15.67</td><td>Â±0.23</td></tr></tbody></table>
<p>ç»“æœæ˜¾ç¤ºï¼Œä¼ ç»Ÿå¾ªç¯çš„æ€§èƒ½æ¯”Streamå¿«çº¦35%ã€‚</p>
<h4 data-id="heading-10"><strong>åŸå› åˆ†æ</strong></h4>
<ul>
<li>Streamçš„<code>filter</code>å’Œ<code>mapToInt</code>éœ€è¦å¤šæ¬¡è¿­ä»£ã€‚</li>
<li>Lambdaè¡¨è¾¾å¼çš„æ•è·å˜é‡å’ŒåŠ¨æ€è°ƒç”¨å¢åŠ äº†å¼€é”€ã€‚</li>
</ul>
<p>###4.æµå¼æ“ä½œçš„ä¼˜åŒ–æŠ€å·§</p>
<p>å°½ç®¡Streamåœ¨æŸäº›æƒ…å†µä¸‹è¾ƒæ…¢ï¼Œä½†é€šè¿‡ä»¥ä¸‹ä¼˜åŒ–å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ï¼š</p>
<h4 data-id="heading-11">ï¼ˆ1ï¼‰ä½¿ç”¨åŸå§‹ç±»å‹æµï¼ˆPrimitive Streamsï¼‰</h4>
<p>é¿å…è£…ç®±/æ‹†ç®±å¼€é”€ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Bad: Stream&lt;Integer&gt;</span>
list.stream().mapToInt(x -&gt; x).sum();

<span class="hljs-comment">// Good: IntStream</span>
list.stream().mapToInt(Integer::intValue).sum();
</code></pre>
<h4 data-id="heading-12">ï¼ˆ2ï¼‰å‡å°‘ä¸­é—´æ“ä½œæ•°é‡</h4>
<p>åˆå¹¶å†—ä½™æ“ä½œï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Bad: Two separate filters</span>
stream.filter(x -&gt; x &gt;-<span class="hljs-number">10</span>).filter(x -&gt; x &lt;<span class="hljs-number">100</span>)...

<span class="hljs-comment">// Good: Single filter with combined condition-</span>
stream.filter(x -&gt; x &gt;-<span class="hljs-number">10</span> &amp;&amp; x &lt;<span class="hljs-number">100</span>)...
</code></pre>
<h4 data-id="heading-13">ï¼ˆ3ï¼‰å¹¶è¡Œæµçš„åˆç†ä½¿ç”¨-</h4>
<p>ä»…åœ¨æ•°æ®é‡å¤§ä¸”ä»»åŠ¡å¯å¹¶è¡ŒåŒ–æ—¶ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-java-" lang="java-">largeList.parallelStream()...
</code></pre>
<p>###5.JITç¼–è¯‘å™¨çš„å½±å“-</p>
<p>HotSpot JVMçš„å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰ä¼šå¯¹é«˜é¢‘æ‰§è¡Œçš„ä»£ç è·¯å¾„è¿›è¡Œä¼˜åŒ–ã€‚ä¼ ç»Ÿå¾ªç¯ç”±äºç»“æ„ç®€å•æ›´å®¹æ˜“è¢«JITå†…è”å’Œå±•å¼€è€ŒStreamçš„æ“ä½œé“¾å¯èƒ½éœ€è¦æ›´é•¿çš„é¢„çƒ­æ—¶é—´æ‰èƒ½è¾¾åˆ°å³°å€¼æ€§èƒ½ã€‚</p>
<hr/>
<p>##æ€»ç»“-</p>
<p>Stream APIä¸ä¼ ç»Ÿå¾ªç¯çš„æ€§èƒ½å·®å¼‚å–å†³äºå…·ä½“çš„ä½¿ç”¨åœºæ™¯ï¼š
1.<strong>å°å‹æ•°æ®é›†æˆ–ç®€å•æ“ä½œ</strong>ï¼šä¼ ç»Ÿå¾ªç¯é€šå¸¸æ›´å¿«ã€‚
2.<strong>å¤æ‚æ•°æ®ç®¡é“æˆ–å£°æ˜å¼éœ€æ±‚-</strong>ï¼šStreamçš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ä¼˜åŠ¿æ›´æ˜æ˜¾-
3.<strong>å¹¶è¡Œå¤„ç†å¤§-æ•°æ®é›†</strong>ï¼šParallel Streamå¯èƒ½æˆä¸ºæœ€ä½³é€‰æ‹©-</p>
<p>å¼€å‘è€…åº”æ ¹æ®å®é™…éœ€æ±‚æƒè¡¡é€‰æ‹©è€Œéç›²ç›®è¿½æ±‚æŸä¸€æ–¹çš„ç»å¯¹ä¼˜åŠ¿ã€‚æœªæ¥çš„JVMä¼˜åŒ–å¯èƒ½ä¼šè¿›ä¸€æ­¥ç¼©å°ä¸¤è€…çš„æ€§èƒ½å·®è·ä½†ç†è§£åº•å±‚æœºåˆ¶å§‹ç»ˆæ˜¯å†™å‡ºé«˜æ•ˆä»£ç çš„å…³é”®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LiteLLMï¼šè®©å¤§æ¨¡å‹è°ƒç”¨å›å½’ç®€æ´çš„åè®®å±‚é©å‘½]]></title>    <link>https://juejin.cn/post/7598021984301023259</link>    <guid>https://juejin.cn/post/7598021984301023259</guid>    <pubDate>2026-01-23T04:37:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598021984301023259" data-draft-id="7598103558886719534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LiteLLMï¼šè®©å¤§æ¨¡å‹è°ƒç”¨å›å½’ç®€æ´çš„åè®®å±‚é©å‘½"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-23T04:37:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ ‘ç­éæ‡’"/> <meta itemprop="url" content="https://juejin.cn/user/2295436009296199"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LiteLLMï¼šè®©å¤§æ¨¡å‹è°ƒç”¨å›å½’ç®€æ´çš„åè®®å±‚é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2295436009296199/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ ‘ç­éæ‡’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:37:41.000Z" title="Fri Jan 23 2026 04:37:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>â€œçœŸæ­£çš„æŠ½è±¡ï¼Œä¸æ˜¯éšè—å¤æ‚æ€§ï¼Œè€Œæ˜¯è®©å¤æ‚æ€§ä¸å†é‡è¦ã€‚â€</strong></p>
</blockquote>
<p>åœ¨å¤§æ¨¡å‹è½åœ°çš„â€œæœ€åä¸€å…¬é‡Œâ€ï¼Œæˆ‘ä»¬æ­£é¢ä¸´ä¸€ä¸ªçœ‹ä¼¼å¾®å°å´æŒç»­æ¶ˆè€—å·¥ç¨‹ç²¾åŠ›çš„é—®é¢˜ï¼š<strong>æ¯ä¸ªæ¨¡å‹éƒ½æœ‰è‡ªå·±çš„â€œè„¾æ°”â€</strong> ã€‚OpenAI ç”¨ä¸€å¥—å‚æ•°ï¼ŒClaude æ¢ä¸€å¥—ï¼ŒGemini åˆå¦èµ·ç‚‰ç¶ã€‚ä½ å†™çš„ä»£ç ï¼Œæ˜æ˜é€»è¾‘ä¸€æ ·ï¼Œå´å› ä¸ºæ¢äº†ä¸ªæ¨¡å‹ï¼Œå°±å¾—é‡å†™ä¸€éè®¤è¯ã€é‡è°ƒå‚æ•°ã€é‡å†™é”™è¯¯å¤„ç†â€”â€”è¿™ä¸åº”è¯¥æ˜¯2026å¹´çš„å¼€å‘ä½“éªŒã€‚</p>
<p>è€Œ <strong>LiteLLM</strong>ï¼Œæ­£æ˜¯ä¸ºç»ˆç»“è¿™ç§â€œé‡å¤åŠ³åŠ¨â€è€Œç”Ÿçš„è½»é‡çº§ä½†æå…·æˆ˜ç•¥æ„ä¹‰çš„å·¥å…·ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é—®é¢˜çš„æœ¬è´¨ï¼šæˆ‘ä»¬ç¼ºçš„ä¸æ˜¯æ¨¡å‹ï¼Œæ˜¯â€œé€šç”¨é¥æ§å™¨â€</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å®¶ç”µè§†ã€ç©ºè°ƒã€éŸ³å“éƒ½æ¥è‡ªä¸åŒå“ç‰Œï¼Œæ¯ä¸ªéƒ½è¦ä¸€ä¸ªé¥æ§å™¨ã€‚ä½ å½“ç„¶å¯ä»¥ä¸€ä¸ªä¸ªå­¦ï¼Œä½†æ›´åˆç†çš„æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿâ€”â€”<strong>ä¸€ä¸ªä¸‡èƒ½é¥æ§å™¨ï¼Œç»Ÿä¸€æ¥å£ï¼ŒèƒŒåè‡ªåŠ¨é€‚é…</strong>ã€‚</p>
<p>å¤§æ¨¡å‹è°ƒç”¨ä¹Ÿä¸€æ ·ã€‚æˆ‘ä»¬ä¸ç¼ºæ¨¡å‹ï¼Œç¼ºçš„æ˜¯<strong>ç»Ÿä¸€çš„è°ƒç”¨è¯­ä¹‰</strong>ã€‚å½“å‰å¼€å‘è€…çš„å›°å¢ƒåœ¨äºï¼š</p>
<ul>
<li>
<p>æ¯æ¥å…¥ä¸€ä¸ªæ–°æ¨¡å‹ï¼Œå°±å¾—é‡è¯»ä¸€éæ–‡æ¡£ï¼Œé‡å†™ä¸€éè®¤è¯é€»è¾‘ï¼›</p>
</li>
<li>
<p>åˆ‡æ¢æ¨¡å‹ç­‰äºé‡æ„ä»£ç ï¼Œå¯¼è‡´æŠ€æœ¯æ ˆè¢«â€œé”å®šâ€ï¼›</p>
</li>
<li>
<p>é”™è¯¯å¤„ç†ã€é‡è¯•ã€ç›‘æ§ç­‰é€šç”¨èƒ½åŠ›ï¼Œè¢«è¿«åœ¨æ¯ä¸ªæœåŠ¡é‡Œé‡å¤å®ç°ã€‚</p>
</li>
</ul>
<p>è¿™ä¸æ˜¯å·¥ç¨‹è¿›æ­¥ï¼Œæ˜¯æŠ€æœ¯å€’é€€ã€‚</p>
<p><strong>LiteLLM çš„å‡ºç°ï¼Œå°±æ˜¯è¦æŠŠè¿™å¥—â€œé¥æ§é€»è¾‘â€ç»Ÿä¸€èµ·æ¥ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08de06dcd1cb4b559c1ae599742b6196~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qCR542t6Z2e5oeS:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769748204&amp;x-signature=Rk84%2BM7VG%2Fc3%2B5qfT7kHwj1tcA8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€LiteLLM æ˜¯ä»€ä¹ˆï¼Ÿä¸€ä¸ªæ ‡å‡†åŒ–çš„â€œæ¨¡å‹åè®®å±‚â€</h2>
<p>ä»æ¶æ„ä¸Šçœ‹ï¼ŒLiteLLM æ˜¯ä¸€ä¸ªè½»é‡çº§ Python åº“ï¼Œä½†å®ƒæ‰®æ¼”çš„è§’è‰²è¿œä¸æ­¢â€œå·¥å…·â€é‚£ä¹ˆç®€å•â€”â€”å®ƒæ˜¯ä¸€ä¸ª<strong>å¤§æ¨¡å‹è°ƒç”¨çš„æ ‡å‡†åŒ–åè®®å±‚</strong>ã€‚</p>
<p>å®ƒä¸è®­ç»ƒæ¨¡å‹ï¼Œä¸æä¾›æ¨ç†ï¼Œä¹Ÿä¸æ‰˜ç®¡æœåŠ¡ã€‚å®ƒçš„ä»·å€¼åœ¨äºï¼š<strong>æŠŠæ‰€æœ‰å¤§æ¨¡å‹çš„ APIï¼Œç¿»è¯‘æˆä½ æœ€ç†Ÿæ‚‰çš„æ ·å­</strong>ã€‚</p>
<p>ä½ åªéœ€è¦è®°ä½ä¸€ä¸ªæ¥å£ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import litellm

<span class="hljs-attr">response</span> = litellm.completion(
    <span class="hljs-attr">model</span>=<span class="hljs-string">"qwen-turbo"</span>,  <span class="hljs-comment"># æˆ– "deepseek-chat", "gemini-pro"</span>
    <span class="hljs-attr">messages</span>=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"è§£é‡Šä¸€ä¸‹ç›¸å¯¹è®º"</span>}]
)
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ã€‚æ¢æ¨¡å‹ï¼Ÿæ”¹ä¸ªå­—ç¬¦ä¸²å°±è¡Œã€‚èƒŒåçš„è®¤è¯ã€åè®®å°è£…ã€è¯·æ±‚è·¯ç”±ï¼Œå®ƒå…¨åŒ…äº†ã€‚</p>
<h3 data-id="heading-2">2.1 å®ƒæ€ä¹ˆåšåˆ°çš„ï¼Ÿ</h3>
<p>LiteLLM çš„æ ¸å¿ƒæ˜¯<strong>è¿è¡Œæ—¶è·¯ç”± + åè®®é€‚é…å¼•æ“</strong>ï¼š</p>
<ol>
<li>
<p>ä½ è°ƒç”¨ <code>litellm.completion()</code>ï¼›</p>
</li>
<li>
<p>å®ƒè§£æ <code>model</code> å‚æ•°ï¼Œè¯†åˆ«ç›®æ ‡æœåŠ¡å•†ï¼ˆå¦‚ <code>qwen-*</code> â†’ é€šä¹‰åƒé—®ï¼Œ<code>deepseek-*</code> â†’ Deepseekï¼‰ï¼›</p>
</li>
<li>
<p>è‡ªåŠ¨æ³¨å…¥å¯¹åº” API Keyï¼ˆä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰ï¼›</p>
</li>
<li>
<p>å°†ä½ çš„è¯·æ±‚å‚æ•°â€œç¿»è¯‘â€æˆç›®æ ‡å¹³å°çš„æ ¼å¼ï¼›</p>
</li>
<li>
<p>å‘èµ· HTTP è¯·æ±‚ï¼Œæ‹¿åˆ°å“åº”åï¼Œå†â€œç¿»è¯‘â€å›ç»Ÿä¸€ç»“æ„è¿”å›ç»™ä½ ã€‚</p>
</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹ï¼Œä½ å®Œå…¨æ„ŸçŸ¥ä¸åˆ°åº•å±‚å·®å¼‚ã€‚å°±åƒ JDBC è®© Java ç¨‹åºå‘˜ç”¨ä¸€å¥— API æ“ä½œä¸åŒæ•°æ®åº“ï¼Œ<strong>LiteLLM æ­£åœ¨æˆä¸º LLM ä¸–ç•Œçš„â€œJDBCâ€</strong> ã€‚</p>
<h2 data-id="heading-3">ä¸‰ã€ä¸åªæ˜¯â€œç»Ÿä¸€æ¥å£â€ï¼šå®ƒè¿˜æ‚„æ‚„å¸®ä½ åšäº†è¿™äº›äº‹</h2>
<h3 data-id="heading-4">3.1 è‡ªåŠ¨é‡è¯•ä¸é”™è¯¯å¤„ç†</h3>
<p>ç½‘ç»œæ³¢åŠ¨ã€é™æµã€è¶…æ—¶â€¦â€¦è¿™äº›â€œå®¶å¸¸ä¾¿é¥­â€çº§é—®é¢˜ï¼ŒLiteLLM å·²å†…ç½®å¤„ç†ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°</span>
<span class="hljs-keyword">import</span> os
os.environ[<span class="hljs-string">"LITELLM_MAX_RETRIES"</span>] = <span class="hljs-string">"3"</span>

<span class="hljs-keyword">try</span>:
    response = litellm.completion(...)
<span class="hljs-keyword">except</span> litellm.RateLimitError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¢«é™æµäº†ï¼š<span class="hljs-subst">{e}</span>"</span>)
<span class="hljs-keyword">except</span> litellm.APIConnectionError <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿æ¥å¤±è´¥ï¼š<span class="hljs-subst">{e}</span>"</span>)
</code></pre>
<p>ä½ ä¸å†éœ€è¦ä¸ºæ¯ä¸ªæ¨¡å‹å†™ä¸€å¥—é‡è¯•é€»è¾‘ï¼Œ<strong>é€šç”¨å¼‚å¸¸ä½“ç³»</strong>è®©é”™è¯¯å¤„ç†å˜å¾—å¯é¢„æµ‹ã€‚</p>
<h3 data-id="heading-5">3.2 å¯è§‚æµ‹æ€§ï¼šè®©æ¯ä¸€æ¬¡è°ƒç”¨éƒ½â€œçœ‹å¾—è§â€</h3>
<p>è°ƒè¯•æ—¶æœ€æ€•ä»€ä¹ˆï¼Ÿâ€”â€”ä¸çŸ¥é“è¯·æ±‚å‘æ²¡å‘ï¼Œå‘åˆ°å“ªäº†ï¼Œè€—æ—¶å¤šä¹…ã€‚</p>
<p>LiteLLM æä¾› <strong>å›è°ƒé’©å­ï¼ˆcallback hooksï¼‰</strong> ï¼Œè®©ä½ è½»æ¾æ³¨å…¥ç›‘æ§é€»è¾‘ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">success_callback</span>(<span class="hljs-params">kwargs, result</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… è°ƒç”¨æˆåŠŸ | æ¨¡å‹: <span class="hljs-subst">{kwargs[<span class="hljs-string">'model'</span>]}</span> | ç”¨æ—¶: <span class="hljs-subst">{result[<span class="hljs-string">'response_ms'</span>]}</span>ms"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">failure_callback</span>(<span class="hljs-params">kwargs, result</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ è°ƒç”¨å¤±è´¥ | é”™è¯¯: <span class="hljs-subst">{result}</span>"</span>)

litellm.success_callback = [success_callback]
litellm.failure_callback = [failure_callback]
</code></pre>
<p>æ—¥å¿—ã€åŸ‹ç‚¹ã€å‘Šè­¦ï¼Œä¸€é”®æ¥å…¥ï¼Œ<strong>ç³»ç»Ÿå¯è§‚æµ‹æ€§ç¬é—´æ‹‰æ»¡</strong>ã€‚</p>
<h3 data-id="heading-6">3.3 å¼‚æ­¥æ”¯æŒï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹çš„â€œæ€§èƒ½åŠ é€Ÿå™¨â€</h3>
<p>å¯¹äºéœ€è¦æ‰¹é‡å¤„ç†è¯·æ±‚çš„åœºæ™¯ï¼ŒLiteLLM åŸç”Ÿæ”¯æŒ <code>async/await</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> litellm <span class="hljs-keyword">import</span> acompletion

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_inference</span>():
    tasks = [
        acompletion(model=<span class="hljs-string">"qwen-plus"</span>, messages=[...]),
        acompletion(model=<span class="hljs-string">"deepseek-chat"</span>, messages=[...])
    ]
    results = <span class="hljs-keyword">await</span> asyncio.gather(*tasks)
    <span class="hljs-keyword">return</span> results
</code></pre>
<p>éé˜»å¡è°ƒç”¨ï¼Œå……åˆ†åˆ©ç”¨ I/O å¹¶å‘èƒ½åŠ›ï¼Œ<strong>ååé‡æå‡ç«‹ç«¿è§å½±</strong>ã€‚</p>
<h2 data-id="heading-7">å››ã€ä¼˜åŠ¿ä¸è¾¹ç•Œï¼šå®ƒèƒ½åšä»€ä¹ˆï¼Œä¸èƒ½åšä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-8">4.1 å®ƒæ“…é•¿çš„åœºæ™¯</h3>
<ul>
<li>
<p><strong>å¤šæ¨¡å‹å¹¶è¡Œæµ‹è¯•</strong>ï¼šå¿«é€Ÿå¯¹æ¯”é€šä¹‰åƒé—®ä¸ Deepseek çš„è¾“å‡ºè´¨é‡ï¼›</p>
</li>
<li>
<p><strong>æ¨¡å‹çƒ­åˆ‡æ¢</strong>ï¼šä¸»æ¨¡å‹ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨é™çº§åˆ°å¤‡ç”¨æ¨¡å‹ï¼›</p>
</li>
<li>
<p><strong>ç»Ÿä¸€ä¸­å°å»ºè®¾</strong>ï¼šä½œä¸º AI ç½‘å…³çš„æ ¸å¿ƒç»„ä»¶ï¼Œå¯¹å¤–æä¾›æ ‡å‡†åŒ–æ¥å£ï¼›</p>
</li>
<li>
<p><strong>é™ä½æ–°æˆå‘˜ä¸Šæ‰‹æˆæœ¬</strong>ï¼šæ–°äººåªéœ€å­¦ä¸€å¥— APIï¼Œå°±èƒ½è°ƒç”¨æ‰€æœ‰æ¨¡å‹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-9">4.2 å®ƒçš„å±€é™æ€§</h3>
<ul>
<li>
<p><strong>ä¸æ”¯æŒæœ¬åœ°æ¨¡å‹</strong>ï¼šå®ƒåªå¯¹æ¥äº‘æœåŠ¡ï¼Œä¸è·‘æœ¬åœ° Llama æˆ– ChatGLMï¼›</p>
</li>
<li>
<p><strong>è¾“å‡ºç»“æ„ä»éœ€é€‚é…</strong>ï¼šè™½ç„¶è¾“å…¥ç»Ÿä¸€ï¼Œä½†ä¸åŒæ¨¡å‹è¿”å›çš„å­—æ®µç»“æ„å¯èƒ½ä¸åŒï¼Œåå¤„ç†é€»è¾‘ä¸èƒ½å®Œå…¨çœï¼›</p>
</li>
<li>
<p><strong>é«˜çº§åŠŸèƒ½æ”¯æŒä¸ä¸€</strong>ï¼šå¦‚å‡½æ•°è°ƒç”¨ï¼ˆfunction callingï¼‰ã€æµå¼è¾“å‡ºï¼ˆstreamingï¼‰ç­‰ï¼Œéœ€æŸ¥æ–‡æ¡£ç¡®è®¤æ˜¯å¦æ”¯æŒï¼›</p>
</li>
<li>
<p><strong>ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡å¯ç”¨æ€§</strong>ï¼šå¦‚æœé€šä¹‰åƒé—®æˆ– Deepseek æœåŠ¡ä¸­æ–­ï¼Œå®ƒä¹Ÿæ— èƒ½ä¸ºåŠ›ã€‚</p>
</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šLiteLLM ä¸æ˜¯â€œä¸‡èƒ½è¯â€ï¼Œä½†å®ƒæ˜¯<strong>è§£å†³â€œå¤šæ¨¡å‹é›†æˆç¢ç‰‡åŒ–â€é—®é¢˜çš„æœ€ä¼˜è§£ä¹‹ä¸€</strong>ã€‚</p>
<h2 data-id="heading-10">äº”ã€å®æˆ˜å»ºè®®ï¼šå¦‚ä½•ç”¨å¾—æ›´ç¨³ã€æ›´é«˜æ•ˆï¼Ÿ</h2>
<ol>
<li><strong>é…ç½®åŒ–æ¨¡å‹è·¯ç”±</strong></li>
</ol>
<p>æŠŠ <code>model</code> æ˜ å°„å…³ç³»æŠ½æˆé…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡ï¼Œé¿å…ç¡¬ç¼–ç ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">MODEL_CONFIG = {
    <span class="hljs-string">"primary"</span>: <span class="hljs-string">"qwen-max"</span>,
    <span class="hljs-string">"backup"</span>: <span class="hljs-string">"deepseek-chat"</span>
}
</code></pre>
<p>2.  <strong>å¯ç”¨ç›‘æ§ä¸å‘Šè­¦</strong></p>
<p>ç»“åˆå›è°ƒå‡½æ•°ï¼Œè®°å½•è°ƒç”¨å»¶è¿Ÿã€é”™è¯¯ç‡ã€æˆæœ¬ä¼°ç®—ï¼Œè®¾ç½®é˜ˆå€¼å‘Šè­¦ã€‚</p>
<ol start="3">
<li><strong>åˆ†ç¯å¢ƒéƒ¨ç½²</strong></li>
</ol>
<p>å¼€å‘ç¯å¢ƒç”¨ä¾¿å®œæ¨¡å‹ï¼Œç”Ÿäº§ç¯å¢ƒç”¨é«˜æ€§èƒ½æ¨¡å‹ï¼Œé€šè¿‡é…ç½®åˆ‡æ¢ï¼Œ<strong>æˆæœ¬å¯æ§</strong>ã€‚</p>
<ol start="4">
<li><strong>å®šæœŸæ›´æ–°ç‰ˆæœ¬</strong></li>
</ol>
<p>LiteLLM ç¤¾åŒºæ´»è·ƒï¼ŒæŒç»­æ”¯æŒæ–°æ¨¡å‹ä¸æ–°åŠŸèƒ½ï¼Œå»ºè®®ä¿æŒç‰ˆæœ¬æ›´æ–°ã€‚</p>
<ol start="5">
<li><strong>åšå¥½é™çº§é¢„æ¡ˆ</strong></li>
</ol>
<p>åˆ©ç”¨å…¶å¤šæ¨¡å‹æ”¯æŒèƒ½åŠ›ï¼Œè®¾è®¡â€œä¸»-å¤‡â€è°ƒç”¨é“¾è·¯ï¼Œæå‡ç³»ç»ŸéŸ§æ€§ã€‚</p>
<h2 data-id="heading-11">å…­ã€å®æˆ˜ï¼šæ„å»ºä¸€ä¸ªâ€œæ™ºèƒ½é—®ç­”è·¯ç”±ç³»ç»Ÿâ€</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªçœŸå®åœºæ™¯çš„å°å‹ Demoï¼Œæ¥å±•ç¤º LiteLLM çš„å®Œæ•´ä½¿ç”¨æµç¨‹ã€‚</p>
<h3 data-id="heading-12"><strong>6.1 åœºæ™¯</strong></h3>
<p>ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªä¼ä¸šçº§é—®ç­”ç³»ç»Ÿï¼Œå¸Œæœ›ä¼˜å…ˆä½¿ç”¨é€šä¹‰åƒé—®ï¼ˆQwen-Maxï¼‰ï¼Œè‹¥å¤±è´¥åˆ™è‡ªåŠ¨é™çº§åˆ° Deepseek-Chatï¼Œå¹¶è®°å½•æ¯æ¬¡è°ƒç”¨çš„æ€§èƒ½æ•°æ®ã€‚</p>
<h3 data-id="heading-13">6.2 å®‰è£…ä¸ç¯å¢ƒå‡†å¤‡</h3>
<pre><code class="hljs">pip install litellm python-dotenv
</code></pre>
<p>åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">DASHSCOPE_API_KEY</span>=your_qwen_api_key_here      <span class="hljs-comment"># é€šä¹‰åƒé—® API Key</span>
<span class="hljs-attr">DEEPSEEK_API_KEY</span>=your_deepseek_api_key_here    <span class="hljs-comment"># Deepseek API Key</span>
<span class="hljs-attr">LITELLM_MAX_RETRIES</span>=<span class="hljs-number">2</span>
</code></pre>
<p>ğŸ” æç¤ºï¼šAPI Key å¯åœ¨é˜¿é‡Œäº‘ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdashscope%2Fdeveloper-reference%2Fquick-start%25EF%25BC%2589%25E5%2592%258C" target="_blank" title="https://help.aliyun.com/zh/dashscope/developer-reference/quick-start%EF%BC%89%E5%92%8C" ref="nofollow noopener noreferrer">help.aliyun.com/zh/dashscopâ€¦</a> Deepseek å®˜ç½‘è·å–ã€‚</p>
<h3 data-id="heading-14">6.3 ç¼–å†™æ ¸å¿ƒé€»è¾‘</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">import</span> litellm
<span class="hljs-keyword">from</span> litellm <span class="hljs-keyword">import</span> completion

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-comment"># è®¾ç½®æ¨¡å‹ä¼˜å…ˆçº§</span>
PRIMARY_MODEL = <span class="hljs-string">"qwen-max"</span>
FALLBACK_MODEL = <span class="hljs-string">"deepseek-chat"</span>

<span class="hljs-comment"># å¯è§‚æµ‹æ€§ï¼šè®°å½•è°ƒç”¨æƒ…å†µ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">log_success</span>(<span class="hljs-params">kwargs, result</span>):
    model = kwargs.get(<span class="hljs-string">"model"</span>, <span class="hljs-string">"unknown"</span>)
    latency = result.get(<span class="hljs-string">"response_ms"</span>, <span class="hljs-number">0</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[âœ“] æˆåŠŸè°ƒç”¨æ¨¡å‹: <span class="hljs-subst">{model}</span> | å»¶è¿Ÿ: <span class="hljs-subst">{latency}</span>ms"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">log_failure</span>(<span class="hljs-params">kwargs, result</span>):
    error = result.get(<span class="hljs-string">"error"</span>, <span class="hljs-string">"unknown"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[âœ—] è°ƒç”¨å¤±è´¥: <span class="hljs-subst">{error}</span>ï¼Œå°†å°è¯•é™çº§æ¨¡å‹..."</span>)

litellm.success_callback = [log_success]
litellm.failure_callback = [log_failure]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">smart_ask</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-string">"""æ™ºèƒ½é—®ç­”ï¼šä¸»æ¨¡å‹å¤±è´¥åˆ™é™çº§"""</span>
    models = [PRIMARY_MODEL, FALLBACK_MODEL]
    <span class="hljs-keyword">for</span> idx, model <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(models):
        <span class="hljs-keyword">try</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å°è¯•ä½¿ç”¨æ¨¡å‹: <span class="hljs-subst">{model}</span>..."</span>)
            response = completion(
                model=model,
                messages=[
                    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šã€ç®€æ´çš„AIåŠ©æ‰‹ã€‚"</span>},
                    {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: question}
                ],
                timeout=<span class="hljs-number">15</span>  <span class="hljs-comment"># 15ç§’è¶…æ—¶</span>
            )
            <span class="hljs-keyword">return</span> response.choices[<span class="hljs-number">0</span>].message[<span class="hljs-string">"content"</span>]
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">if</span> idx == <span class="hljs-built_in">len</span>(models) - <span class="hljs-number">1</span>:  <span class="hljs-comment"># æœ€åä¸€ä¸ªæ¨¡å‹ä¹Ÿå¤±è´¥</span>
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æŠ±æ­‰ï¼Œæ‰€æœ‰æ¨¡å‹å‡ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•ã€‚"</span>
            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># å°è¯•ä¸‹ä¸€ä¸ªæ¨¡å‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥é”™è¯¯ã€‚"</span>

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    question = <span class="hljs-string">"è¯·ç”¨ä¸‰å¥è¯è§£é‡Šé‡å­çº ç¼ ã€‚"</span>
    answer = smart_ask(question)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ“Œ é—®é¢˜ï¼š<span class="hljs-subst">{question}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“Œ å›ç­”ï¼š<span class="hljs-subst">{answer}</span>"</span>)
</code></pre>
<h3 data-id="heading-15">6.4 è¾“å‡ºæ•ˆæœï¼ˆç¤ºä¾‹ï¼‰ï¼š</h3>
<pre><code class="hljs language-arduino" lang="arduino">å°è¯•ä½¿ç”¨æ¨¡å‹: qwen-max...
[âœ“] æˆåŠŸè°ƒç”¨æ¨¡å‹: qwen-max | å»¶è¿Ÿ: <span class="hljs-number">1120</span>ms

ğŸ“Œ é—®é¢˜ï¼šè¯·ç”¨ä¸‰å¥è¯è§£é‡Šé‡å­çº ç¼ ã€‚
ğŸ“Œ å›ç­”ï¼šé‡å­çº ç¼ æ˜¯ä¸€ç§é‡å­ç°è±¡ï¼Œå…¶ä¸­ä¸€å¯¹æˆ–å¤šå¯¹ç²’å­ç”Ÿæˆæˆ–è€…ç›¸äº’ä½œç”¨çš„æ–¹å¼ä½¿å¾—æ¯ä¸ªç²’å­çš„é‡å­çŠ¶æ€éƒ½å¿…é¡»ä¾æ®æ•´ä¸ªç³»ç»Ÿæ¥æè¿°â€¦â€¦
</code></pre>
<p><strong>å°ç»“</strong>ï¼šè¿™ä¸ª Demo å±•ç¤ºäº† LiteLLM å¦‚ä½•åœ¨çœŸå®é¡¹ç›®ä¸­å®ç°<strong>æ¨¡å‹è·¯ç”±ã€é”™è¯¯é™çº§ã€æ€§èƒ½ç›‘æ§</strong>ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œä»£ç ç®€æ´ï¼Œé€»è¾‘æ¸…æ™°ï¼Œç»´æŠ¤æˆæœ¬æä½ã€‚</p>
<h2 data-id="heading-16">ä¸ƒã€å†™åœ¨æœ€åï¼šæŠ½è±¡ï¼Œæ˜¯å·¥ç¨‹è¿›åŒ–çš„æ ‡å¿—</h2>
<p>LiteLLM çš„ä»·å€¼ï¼Œä¸åœ¨äºå®ƒå¤šå¤æ‚ï¼Œè€Œåœ¨äºå®ƒ<strong>æŠŠå¤æ‚ç•™ç»™è‡ªå·±ï¼ŒæŠŠç®€å•è¿˜ç»™å¼€å‘è€…</strong>ã€‚</p>
<p>å®ƒæ²¡æœ‰å‘æ˜æ–°æ¨¡å‹ï¼Œæ²¡æœ‰åšæ–°è®­ç»ƒæ¡†æ¶ï¼Œä½†å®ƒç”¨ä¸€ç§æå…¶å·¥ç¨‹åŒ–çš„æ–¹å¼ï¼Œ<strong>æ¨åŠ¨äº†å¤§æ¨¡å‹ç”Ÿæ€çš„æ ‡å‡†åŒ–è¿›ç¨‹</strong>ã€‚è¿™å°±åƒå½“å¹´çš„ REST è®© API å˜å¾—ç»Ÿä¸€ï¼ŒgRPC è®©æœåŠ¡é€šä¿¡æ›´é«˜æ•ˆä¸€æ ·â€”â€”<strong>LiteLLM æ­£åœ¨è®©â€œè°ƒç”¨å¤§æ¨¡å‹â€è¿™ä»¶äº‹ï¼Œå˜å¾—æ›´åƒä¸€é—¨æˆç†Ÿçš„å·¥ç¨‹å®è·µï¼Œè€Œä¸æ˜¯ä¸€åœºæ¯æ¬¡éƒ½å¾—ä»å¤´å¼€å§‹çš„â€œæŠ€æœ¯æ¢é™©â€</strong> ã€‚</p>
<p>å¦‚æœä½ è¿˜åœ¨ä¸ºå¯¹æ¥å¤šä¸ª LLM æœåŠ¡è€Œå¤´ç–¼ï¼Œä¸å¦¨è¯•è¯• LiteLLMã€‚</p>
<p>ä¹Ÿè®¸ï¼Œä½ ç¼ºçš„ä¸æ˜¯ä¸€ä¸ªæ–°æ¨¡å‹ï¼Œåªæ˜¯ä¸€ä¸ª<strong>è®©æ‰€æœ‰æ¨¡å‹å¬ä½ è¯çš„â€œç»Ÿä¸€æ¥å£â€</strong> ã€‚</p>
<hr/>
<p><strong>å‚è€ƒé“¾æ¥</strong>ï¼š</p>
<ul>
<li>ğŸ“š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.litellm.ai%2F" target="_blank" title="https://docs.litellm.ai/" ref="nofollow noopener noreferrer">LiteLLM å®˜æ–¹æ–‡æ¡£</a></li>
<li>ğŸŒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdashscope%2Fdeveloper-reference%2F" target="_blank" title="https://help.aliyun.com/zh/dashscope/developer-reference/" ref="nofollow noopener noreferrer">é€šä¹‰åƒé—® API æ–‡æ¡£ï¼ˆDashScopeï¼‰</a></li>
<li>ğŸŒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.deepseek.com%2Fapi-docs%2F" target="_blank" title="https://platform.deepseek.com/api-docs/" ref="nofollow noopener noreferrer">Deepseek API æ–‡æ¡£</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python3åŸºç¡€ï¼šPython3ç¯å¢ƒæ­å»º]]></title>    <link>https://juejin.cn/post/7598104596779974702</link>    <guid>https://juejin.cn/post/7598104596779974702</guid>    <pubDate>2026-01-23T04:59:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104596779974702" data-draft-id="7598043378019401737" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python3åŸºç¡€ï¼šPython3ç¯å¢ƒæ­å»º"/> <meta itemprop="keywords" content="Python,åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T04:59:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€’æ”¾å§å¾·å¾·"/> <meta itemprop="url" content="https://juejin.cn/user/2502950820787672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python3åŸºç¡€ï¼šPython3ç¯å¢ƒæ­å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2502950820787672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€’æ”¾å§å¾·å¾·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T04:59:49.000Z" title="Fri Jan 23 2026 04:59:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Python3åŸºç¡€ï¼šPython3ç¯å¢ƒæ­å»º</h2>
<blockquote>
<p>ğŸ˜„ç”Ÿå‘½ä¸æ¯ï¼Œå†™ä½œä¸æ­¢</p>
<p>ğŸ”¥ ç»§ç»­è¸ä¸Šå­¦ä¹ ä¹‹è·¯ï¼Œå­¦ä¹‹åˆ†äº«ç¬”è®°</p>
<p>ğŸ‘Š æ€»æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½åƒå„ä½å¤§ä½¬ä¸€æ ·</p>
<p>ğŸ† <a href="https://juejin.cn/user/2502950820787672" target="_blank" title="https://juejin.cn/user/2502950820787672">åšå®¢é¦–é¡µ</a> Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Flyd-code%2F" target="_blank" title="https://www.cnblogs.com/lyd-code/" ref="nofollow noopener noreferrer">@æ€’æ”¾å§å¾·å¾·</a>Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Flydandtry.github.io%2F" target="_blank" title="https://lydandtry.github.io/" ref="nofollow noopener noreferrer">Toè®°å½•é¢†åœ°</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fqq_43843951%3Ftype%3Dblog" target="_blank" title="https://blog.csdn.net/qq_43843951?type=blog" ref="nofollow noopener noreferrer">@ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</a></p>
<p>ğŸŒåˆ†äº«å­¦ä¹ å¿ƒå¾—ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿ï¼</p>
</blockquote>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾·(æ˜é‡‘) @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº(CSDN)</strong></p>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>è¦å­¦ä¹  python ä¹‹å‰ï¼Œæˆ‘ä»¬å°±å¾—å…ˆå®‰è£… pythonï¼Œå®‰è£…æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥å®˜ç½‘ä¸‹è½½ç¨‹åºè¿›è¡Œå®‰è£…ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ anaconda æ¥ç®¡ç†ã€‚</p>
<h3 data-id="heading-2">1 å®‰è£…</h3>
<p>å®‰è£… python3ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ç›´æ¥å®‰è£…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ anaconda è¿›è¡Œç®¡ç†ï¼Œanaconda èƒ½å¤Ÿåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œä¾¿äºç‰ˆæœ¬çš„éšæ—¶åˆ‡æ¢ã€‚</p>
<h4 data-id="heading-3">1.1 å®‰è£…ç¨‹åºå®‰è£…</h4>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python.org%2F" target="_blank" title="https://www.python.org/" ref="nofollow noopener noreferrer">Welcome to Python.org</a></p>
<p>è¿›å…¥å®˜ç½‘çš„ downloads é€‰æ‹©å¯¹åº”çš„æ“ä½œç³»ç»Ÿï¼Œä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ã€‚</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d854ad5e6077413ca94cde2308dcdc86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=nFd8LTsEr%2BAvP0WPoC6vk4%2BqXxE%3D" alt="" loading="lazy"/></p>
<p>ä»¥ Windows ä¸ºä¾‹ï¼Œä¸‹è½½å®ŒåŒå‡»è¿è¡Œè¿›è¡Œå®‰è£…ã€‚</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19d9c62575e74e5f8916847bc55fa148~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=HN2ooMHpiBl34uI7uirRi7rHF9E%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©è‡ªå®šä¹‰å®‰è£…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é»˜è®¤å®‰è£…ï¼Œæˆ‘æ˜¯è§‰å¾—å®‰è£…åˆ° c ç›˜ä¹Ÿæ²¡é—®é¢˜çš„ã€‚</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86ec961ee3b54c6db1665a265585d764~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=ceSBNBLEClW0DdsHjscAd1xjmkI%3D" alt="" loading="lazy"/></p>
<p>æ–‡æ¡£ï¼ˆDocumentï¼‰å’Œæµ‹è¯•å¥—ä»¶ï¼ˆtest suiteï¼‰å¯ä»¥é€‰ä¹Ÿå¯ä»¥ä¸é€‰ã€‚</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c68b765b53e420abeb331382e6b7bf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=6rP8NHfTcA1UUnpFQTQOqnosBuA%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥ä¸æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæˆ‘è®°å¾—æ˜¯å¯ä»¥å®‰è£…å¤šä¸ªç‰ˆæœ¬ï¼Œç„¶ååœ¨é€šè¿‡é…ç½®ç¯å¢ƒå˜é‡å»å†³å®šç‰ˆæœ¬çš„ï¼Œå®‰è£…å¤šä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨ pycharm é‡Œé¢é€‰æ‹©ä½ æƒ³è¦çš„ç‰ˆæœ¬ã€‚ï¼ˆä¹Ÿå¯ä»¥ç”¨ anaconda ç®¡ç†ï¼‰</p>
<p>å®‰è£…å®Œæ¯•åœ¨æ§åˆ¶å°è¾“å…¥ python å³å¯çœ‹åˆ°ç‰ˆæœ¬å·ã€‚</p>
<h4 data-id="heading-4">2 Anaconda å®‰è£…</h4>
<p>å¦ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ Anaconda æ¥å®‰è£… python ç‰ˆæœ¬ã€‚</p>
<h5 data-id="heading-5">2.1 ä¸‹è½½</h5>
<p>1ã€å‰å¾€å®˜ç½‘è¿›è¡Œä¸‹è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anaconda.com%2F" target="_blank" title="https://www.anaconda.com/" ref="nofollow noopener noreferrer">Advance AI with Open Source | Anaconda</a></p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4bebfc493cc4e76885b10577610cb6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=pK2lLgX0LS77mIMLJL06esqYhrg%3D" alt="" loading="lazy"/></p>
<p>2ã€åˆ°æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ä¸‹è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmirrors.tuna.tsinghua.edu.cn%2Fanaconda%2Farchive%2F" target="_blank" title="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" ref="nofollow noopener noreferrer">Index of /anaconda/archive/ | æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | Tsinghua Open Source Mirror</a></p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f15cca07c1ce4506a0b653c668396dfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=ktBoTvCIyWlyIdamFDvldM%2F9eAg%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©æ‰€éœ€è¦çš„ç‰ˆæœ¬ï¼Œè¿›è¡Œä¸‹è½½å®‰è£…ã€‚</p>
<h5 data-id="heading-6">2.2 å®‰è£…</h5>
<p>è¿™ä¸ªå®‰è£…æ¯”è¾ƒç®€å•ï¼Œéƒ½æ˜¯ç‚¹å‡»ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å°±è¡Œã€‚</p>
<h5 data-id="heading-7">2.3 è®¾ç½®ç¯å¢ƒå˜é‡</h5>
<p>Anacondaå®‰è£…è·¯å¾„(æ¯”å¦‚ï¼šC:\ProgramData\anaconda3)</p>
<p>Anacondaå®‰è£…è·¯å¾„\Scripts(æ¯”å¦‚ï¼šC:\ProgramData\anaconda3\Scripts)</p>
<p>Anacondaå®‰è£…è·¯å¾„\Library\bin(æ¯”å¦‚ï¼šC:\ProgramData\anaconda3\Library\bin)</p>
<pre><code class="hljs language-bash" lang="bash">C:\ProgramData\anaconda3
C:\ProgramData\anaconda3\Library\mingw-w64\bin
C:\ProgramData\anaconda3\Library\usr\bin
C:\ProgramData\anaconda3\Library\bin
C:\ProgramData\anaconda3\Scripts
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0089eb2c05c4e50a713ccdc534b3b55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=GqtluK%2BdaW3IZf6zjuhOEg6oJ6U%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-8">2.4 ä½¿ç”¨</h5>
<p>å¯ä»¥æ‰“å¼€ anaconda-navigator è¿›è¡Œç®¡ç†</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c843a0c1a8e0459182f7f4b0f2b68ab8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCS5pS-5ZCn5b635b63:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769749188&amp;x-signature=xR96W3HCo3XWTh9tQq5X8TW%2Fa5c%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥é€šè¿‡å‘½ä»¤çª—æ‰“å¼€</p>
<p>æŸ¥çœ‹ç‰ˆæœ¬å·</p>
<pre><code class="hljs language-bash" lang="bash">C:\Users\14194&gt;conda --version
conda 24.1.2
</code></pre>
<p>æŸ¥çœ‹ç¯å¢ƒåˆ—è¡¨</p>
<pre><code class="hljs language-bash" lang="bash">C:\Users\14194&gt;conda <span class="hljs-built_in">env</span> list
<span class="hljs-comment"># conda environments:</span>
<span class="hljs-comment">#</span>
base                     C:\ProgramData\anaconda3
python311                C:\Users\14194\.conda\envs\python311
</code></pre>
<p>æˆ‘çš„ç¯å¢ƒå°±å®‰è£…äº† python3.11 ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥æˆ‘å‘½åä¸º python311</p>
<p>åˆ›å»ºç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash">conda create -n ç¯å¢ƒå python=3.11
</code></pre>
<p>æ¿€æ´»</p>
<pre><code class="hljs language-bash" lang="bash">conda activate ç¯å¢ƒå
</code></pre>
<p>æ¿€æ´»åå¯ä»¥ç›´æ¥å®‰è£…åº“</p>
<pre><code class="hljs language-bash" lang="bash">conda install æ‰€éœ€çš„åº“
<span class="hljs-comment"># ä¹Ÿå¯ä»¥ä½¿ç”¨</span>
pip install æ‰€éœ€çš„åº“
</code></pre>
<p>æ¿€æ´»åçš„å®‰è£…éƒ½æ˜¯åŸºäºè¯¥ç¯å¢ƒä¸‹çš„ã€‚</p>
<p>æ¨å‡ºå½“å‰ç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash">conda deactivate
</code></pre>
<p>åˆæ­¥å°è¯•</p>
<pre><code class="hljs language-bash" lang="bash">C:\Users\14194&gt;conda activate python311

(python311) C:\Users\14194&gt;python
Python 3.11.9 | packaged by Anaconda, Inc. | (main, Apr 19 2024, 16:40:41) [MSC v.1916 64 bit (AMD64)] on win32
Type <span class="hljs-string">"help"</span>, <span class="hljs-string">"copyright"</span>, <span class="hljs-string">"credits"</span> or <span class="hljs-string">"license"</span> <span class="hljs-keyword">for</span> more information.
&gt;&gt;&gt; a = 1
&gt;&gt;&gt; b = 2
&gt;&gt;&gt; <span class="hljs-built_in">print</span>(a + b)
3
&gt;&gt;&gt;
</code></pre>
<h3 data-id="heading-9">3 æ€»ç»“</h3>
<p>ä»¥ä¸Šå°±æ˜¯å®‰è£… python çš„æ–¹æ³•ï¼Œå°½æƒ…äº«å—æ¥ä¸‹æ¥çš„å­¦ä¹ å§ã€‚åŠ ä¸‹æ¥æˆ‘å°†é€šè¿‡ AI åŠ©åŠ›çš„æ–¹å¼è¿›è¡Œå­¦ä¹ ï¼Œå› ä¸ºæœ‰äº† Java çš„åŠŸåº•ï¼Œå¯¹äºè¿™ç§è¯­è¨€å­¦ä¹ ååˆ†ç®€å•ï¼Œåªéœ€è¦é€šè¿‡ AI ç®€å•è¿‡ä¸€ä¸‹å°±è¡Œäº†ï¼Œä¸éœ€è¦èŠ±å¤ªå¤šæ—¶é—´ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯ç®€å•è¿‡ä¸€ä¸‹ï¼Œä¸»è¦å…ˆäº†è§£ Django è¿™äº›æ¡†æ¶çš„ä¸Šæ‰‹ä½¿ç”¨ã€‚</p>
<hr/>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾· @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</strong><br/>
æŒç»­åˆ›ä½œå¾ˆä¸å®¹æ˜“ï¼Œä½œè€…å°†ä»¥å°½å¯èƒ½çš„è¯¦ç»†æŠŠæ‰€å­¦çŸ¥è¯†åˆ†äº«å„ä½å¼€å‘è€…ï¼Œä¸€èµ·è¿›æ­¥ä¸€èµ·å­¦ä¹ ã€‚<strong>è½¬è½½è¯·æºå¸¦é“¾æ¥ï¼Œè½¬è½½åˆ°å¾®ä¿¡å…¬ä¼—å·è¯·å‹¿é€‰æ‹©åŸåˆ›ï¼Œè°¢è°¢ï¼</strong><br/>
ğŸ‘åˆ›ä½œä¸æ˜“ï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£ï¼Œæ„Ÿè°¢è§‚çœ‹ï¼è®°å¾—ç‚¹èµå“¦ï¼ğŸ‘<br/>
è°¢è°¢æ”¯æŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python3åŸºç¡€ï¼šåƒé€æ ¸å¿ƒåŸºç¡€è¯­æ³•ï¼Œç­‘ç‰¢ç¼–ç¨‹æ ¹åŸº]]></title>    <link>https://juejin.cn/post/7598104596779991086</link>    <guid>https://juejin.cn/post/7598104596779991086</guid>    <pubDate>2026-01-23T05:02:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104596779991086" data-draft-id="7598130716339634214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python3åŸºç¡€ï¼šåƒé€æ ¸å¿ƒåŸºç¡€è¯­æ³•ï¼Œç­‘ç‰¢ç¼–ç¨‹æ ¹åŸº"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2026-01-23T05:02:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€’æ”¾å§å¾·å¾·"/> <meta itemprop="url" content="https://juejin.cn/user/2502950820787672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python3åŸºç¡€ï¼šåƒé€æ ¸å¿ƒåŸºç¡€è¯­æ³•ï¼Œç­‘ç‰¢ç¼–ç¨‹æ ¹åŸº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2502950820787672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€’æ”¾å§å¾·å¾·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T05:02:53.000Z" title="Fri Jan 23 2026 05:02:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬äºŒé˜¶æ®µï¼šåƒé€æ ¸å¿ƒåŸºç¡€è¯­æ³•ï¼Œç­‘ç‰¢ç¼–ç¨‹æ ¹åŸº</h2>
<blockquote>
<p>ğŸ˜„ç”Ÿå‘½ä¸æ¯ï¼Œå†™ä½œä¸æ­¢</p>
<p>ğŸ”¥ ç»§ç»­è¸ä¸Šå­¦ä¹ ä¹‹è·¯ï¼Œå­¦ä¹‹åˆ†äº«ç¬”è®°</p>
<p>ğŸ‘Š æ€»æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½åƒå„ä½å¤§ä½¬ä¸€æ ·</p>
<p>ğŸ† <a href="https://juejin.cn/user/2502950820787672" target="_blank" title="https://juejin.cn/user/2502950820787672">åšå®¢é¦–é¡µ</a> Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Flyd-code%2F" target="_blank" title="https://www.cnblogs.com/lyd-code/" ref="nofollow noopener noreferrer">@æ€’æ”¾å§å¾·å¾·</a>Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Flydandtry.github.io%2F" target="_blank" title="https://lydandtry.github.io/" ref="nofollow noopener noreferrer">Toè®°å½•é¢†åœ°</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fqq_43843951%3Ftype%3Dblog" target="_blank" title="https://blog.csdn.net/qq_43843951?type=blog" ref="nofollow noopener noreferrer">@ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</a></p>
<p>ğŸŒåˆ†äº«å­¦ä¹ å¿ƒå¾—ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿ï¼</p>
<p>ğŸ”¥è±†åŒ…AI</p>
</blockquote>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾·(æ˜é‡‘) @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº(CSDN)</strong></p>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>ç»è¿‡ç¬¬ä¸€é˜¶æ®µçš„ç¯å¢ƒæ­å»ºå’Œå…¥é—¨å°è¯•ï¼Œæˆ‘ä»¬æ­£å¼è¿›å…¥Python3å­¦ä¹ çš„æ ¸å¿ƒç¯èŠ‚â€”â€”åŸºç¡€è¯­æ³•å­¦ä¹ ã€‚è¿™ä¸€é˜¶æ®µå°±åƒæ˜¯æ­å»ºæˆ¿å­çš„â€œåœ°åŸºâ€ï¼Œçœ‹ä¼¼ç®€å•å´è‡³å…³é‡è¦ï¼ŒæŒæ¡å¥½å˜é‡ã€æ•°æ®ç±»å‹ã€è¿ç®—ç¬¦ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œèƒ½è®©æˆ‘ä»¬åç»­çš„ç¼–ç¨‹å­¦ä¹ æ›´åŠ é¡ºç•…ï¼Œé¿å…å› åŸºç¡€ä¸ç‰¢è€Œé™·å…¥â€œå¡å£³â€å›°å¢ƒã€‚ä»Šå¤©ï¼Œå°±å’Œå¤§å®¶ä¸€èµ·æ‹†è§£ç¬¬äºŒé˜¶æ®µçš„å…¨éƒ¨æ ¸å¿ƒå†…å®¹ï¼Œæ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹éƒ½æ­é…å¯ç›´æ¥è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Œæ–°æ‰‹ä¹Ÿèƒ½è½»æ¾è·Ÿä¸ŠèŠ‚å¥ï½</p>
<h3 data-id="heading-2">1 å˜é‡ä¸å‘½åè§„èŒƒï¼šç»™æ•°æ®èµ·ä¸ªâ€œè§„èŒƒçš„åå­—â€</h3>
<p>åœ¨Pythonä¸­ï¼Œå˜é‡å°±åƒæ˜¯æˆ‘ä»¬å­˜æ”¾æ•°æ®çš„â€œå®¹å™¨â€ï¼Œé€šè¿‡ä¸€ä¸ªåå­—å°±èƒ½è°ƒç”¨å®¹å™¨é‡Œçš„æ•°æ®ã€‚ä½†ç»™å˜é‡èµ·åå¯ä¸æ˜¯éšå¿ƒæ‰€æ¬²çš„ï¼Œå¿…é¡»éµå¾ªä¸€å®šçš„è§„åˆ™å’Œè§„èŒƒï¼Œè¿™æ ·æ‰èƒ½è®©ä»£ç æ›´æ˜“è¯»ã€æ›´æ˜“ç»´æŠ¤ï¼Œä¹Ÿèƒ½é¿å…è¯­æ³•é”™è¯¯ã€‚</p>
<h4 data-id="heading-3">1.1 å˜é‡çš„åŸºæœ¬ä½¿ç”¨</h4>
<p>å˜é‡çš„å®šä¹‰éå¸¸ç®€å•ï¼Œä½¿ç”¨â€œèµ‹å€¼ç¬¦å· = â€å³å¯ï¼Œæ ¼å¼ä¸ºï¼š<code>å˜é‡å = å˜é‡å€¼</code>ã€‚æ— éœ€æå‰å£°æ˜å˜é‡ç±»å‹ï¼ŒPythonä¼šè‡ªåŠ¨æ ¹æ®èµ‹å€¼å†…å®¹åˆ¤æ–­ç±»å‹ï¼ˆåŠ¨æ€ç±»å‹ç‰¹æ€§ï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®šä¹‰å˜é‡å¹¶èµ‹å€¼</span>
name = <span class="hljs-string">"Pythonå­¦ä¹ è€…"</span>  <span class="hljs-comment"># å˜é‡nameå­˜å‚¨å­—ç¬¦ä¸²</span>
age = <span class="hljs-number">20</span>              <span class="hljs-comment"># å˜é‡ageå­˜å‚¨æ•´æ•°</span>
score = <span class="hljs-number">95.5</span>          <span class="hljs-comment"># å˜é‡scoreå­˜å‚¨æµ®ç‚¹æ•°</span>

<span class="hljs-comment"># è°ƒç”¨å˜é‡ï¼ˆç›´æ¥ä½¿ç”¨å˜é‡åå³å¯ï¼‰</span>
<span class="hljs-built_in">print</span>(name)  <span class="hljs-comment"># è¾“å‡ºï¼šPythonå­¦ä¹ è€…</span>
<span class="hljs-built_in">print</span>(age)   <span class="hljs-comment"># è¾“å‡ºï¼š20</span>
<span class="hljs-built_in">print</span>(score) <span class="hljs-comment"># è¾“å‡ºï¼š95.5</span>

<span class="hljs-comment"># å˜é‡å¯ä»¥é‡æ–°èµ‹å€¼ï¼ˆè¦†ç›–åŸæœ‰å€¼ï¼Œç±»å‹ä¹Ÿå¯æ”¹å˜ï¼‰</span>
age = <span class="hljs-number">21</span>
<span class="hljs-built_in">print</span>(age)   <span class="hljs-comment"># è¾“å‡ºï¼š21</span>
age = <span class="hljs-string">"äºŒåä¸€å²"</span>
<span class="hljs-built_in">print</span>(age)   <span class="hljs-comment"># è¾“å‡ºï¼šäºŒåä¸€å²</span>
</code></pre>
<h4 data-id="heading-4">1.2 å‘½åè§„èŒƒï¼ˆå¿…è®°ï¼é¿å…è¸©å‘ï¼‰</h4>
<p>éµå¾ªPEP 8å‘½åè§„èŒƒï¼ˆPythonå®˜æ–¹æ¨èï¼‰ï¼ŒåŒæ—¶éµå®ˆè¯­æ³•è§„åˆ™ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>è¯­æ³•è§„åˆ™ï¼ˆå¼ºåˆ¶éµå®ˆï¼Œå¦åˆ™æŠ¥é”™ï¼‰ï¼š
<ul>
<li>ç”±å­—æ¯ï¼ˆa-zã€A-Zï¼‰ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ç»„æˆï¼Œä¸èƒ½åŒ…å«ç©ºæ ¼ã€ç‰¹æ®Šç¬¦å·ï¼ˆå¦‚ï¼ã€@ã€#ï¼‰ï¼›</li>
<li>ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼ˆå¦‚ 123name æ˜¯éæ³•çš„ï¼‰ï¼›</li>
<li>åŒºåˆ†å¤§å°å†™ï¼ˆå¦‚ name å’Œ Name æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ï¼‰ï¼›</li>
<li>ä¸èƒ½ä½¿ç”¨Pythonä¿ç•™å…³é”®å­—ï¼ˆå¦‚ ifã€forã€classã€print ç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li>PEP 8æ¨èè§„èŒƒï¼ˆæå‡ä»£ç å¯è¯»æ€§ï¼‰ï¼š
<ul>
<li>å˜é‡åã€å‡½æ•°åï¼šä½¿ç”¨å°å†™å­—æ¯+ä¸‹åˆ’çº¿ï¼ˆè›‡å½¢å‘½åæ³•ï¼‰ï¼Œå¦‚ user_nameã€total_scoreï¼›</li>
<li>å¸¸é‡ï¼ˆä¸æ‰“ç®—ä¿®æ”¹çš„å€¼ï¼‰ï¼šå…¨å¤§å†™+ä¸‹åˆ’çº¿ï¼Œå¦‚ MAX_NUMã€PI = 3.14159ï¼›</li>
<li>å˜é‡åè¦â€œè§åçŸ¥æ„â€ï¼Œé¿å…æ¨¡ç³Šå‘½åï¼ˆå¦‚ä¸ç”¨ xã€yã€a ä»£æ›¿å…·ä½“å«ä¹‰ï¼Œæ¨èç”¨ ageã€priceï¼‰ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆæ³•ä¸”è§„èŒƒçš„å˜é‡åï¼ˆæ¨èï¼‰</span>
user_name = <span class="hljs-string">"å¼ ä¸‰"</span>
total_price = <span class="hljs-number">99.99</span>
MAX_SCORE = <span class="hljs-number">100</span>

<span class="hljs-comment"># éæ³•å˜é‡åï¼ˆæŠ¥é”™ç¤ºä¾‹ï¼Œä¸è¦å†™ï¼ï¼‰</span>
<span class="hljs-comment"># 123name = "éæ³•"  # é”™è¯¯ï¼šä»¥æ•°å­—å¼€å¤´</span>
<span class="hljs-comment"># user-name = "éæ³•" # é”™è¯¯ï¼šåŒ…å«å‡å·ï¼ˆç‰¹æ®Šç¬¦å·ï¼‰</span>
<span class="hljs-comment"># class = "éæ³•"     # é”™è¯¯ï¼šä½¿ç”¨å…³é”®å­—</span>

<span class="hljs-comment"># æŸ¥çœ‹Pythonæ‰€æœ‰ä¿ç•™å…³é”®å­—ï¼ˆå¯ç›´æ¥è¿è¡Œï¼‰</span>
<span class="hljs-keyword">import</span> keyword
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Python3ä¿ç•™å…³é”®å­—ï¼š"</span>, keyword.kwlist)
</code></pre>
<h3 data-id="heading-5">2 åŸºæœ¬æ•°æ®ç±»å‹ï¼šPythonä¸­â€œæ•°æ®çš„åˆ†ç±»â€</h3>
<p>å˜é‡çš„å€¼æœ‰ä¸åŒçš„ç±»å‹ï¼Œä¸åŒç±»å‹çš„æ•°æ®æ”¯æŒä¸åŒçš„æ“ä½œï¼ˆæ¯”å¦‚æ•°å­—å¯ä»¥è¿ç®—ï¼Œå­—ç¬¦ä¸²å¯ä»¥æ‹¼æ¥ï¼‰ã€‚ç¬¬äºŒé˜¶æ®µæˆ‘ä»¬é‡ç‚¹æŒæ¡3ç§æœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼Œç”¨ type() å‡½æ•°å¯æŸ¥çœ‹å˜é‡ç±»å‹ã€‚</p>
<h4 data-id="heading-6">2.1 æ•°å­—ç±»å‹ï¼ˆintã€floatï¼‰</h4>
<p>ç”¨äºè¡¨ç¤ºæ•°å€¼ï¼Œåˆ†ä¸ºæ•´æ•°ï¼ˆintï¼‰å’Œæµ®ç‚¹æ•°ï¼ˆfloatï¼‰ï¼Œæ”¯æŒåŠ å‡ä¹˜é™¤ç­‰ç®—æœ¯è¿ç®—ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ•´æ•°ï¼ˆintï¼‰ï¼šæ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼Œæ­£è´Ÿå‡å¯</span>
num1 = <span class="hljs-number">100</span>
num2 = -<span class="hljs-number">50</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(num1))  <span class="hljs-comment"># è¾“å‡ºï¼š&lt;class 'int'&gt;</span>

<span class="hljs-comment"># æµ®ç‚¹æ•°ï¼ˆfloatï¼‰ï¼šå¸¦æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ï¼Œæ­£è´Ÿå‡å¯</span>
num3 = <span class="hljs-number">3.14</span>
num4 = -<span class="hljs-number">0.5</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(num3))  <span class="hljs-comment"># è¾“å‡ºï¼š&lt;class 'float'&gt;</span>

<span class="hljs-comment"># æ•°å­—ç±»å‹çš„ç®€å•è¿ç®—</span>
<span class="hljs-built_in">print</span>(num1 + num3)  <span class="hljs-comment"># æ•´æ•°+æµ®ç‚¹æ•°=æµ®ç‚¹æ•°ï¼Œè¾“å‡ºï¼š103.14</span>
<span class="hljs-built_in">print</span>(num2 * num4)  <span class="hljs-comment"># è¾“å‡ºï¼š25.0</span>
</code></pre>
<h4 data-id="heading-7">2.2 å­—ç¬¦ä¸²ç±»å‹ï¼ˆstrï¼‰</h4>
<p>ç”¨äºè¡¨ç¤ºæ–‡æœ¬ä¿¡æ¯ï¼Œå¿…é¡»ç”¨å¼•å·åŒ…è£¹ï¼ˆå•å¼•å· ''ã€åŒå¼•å· ""ã€ä¸‰å¼•å· """""" å‡å¯ï¼‰ï¼Œä¸‰å¼•å·å¯ç”¨äºå¤šè¡Œæ–‡æœ¬ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å•å¼•å·ã€åŒå¼•å·ï¼ˆç”¨äºå•è¡Œå­—ç¬¦ä¸²ï¼Œæ•ˆæœä¸€è‡´ï¼‰</span>
str1 = <span class="hljs-string">'Hello Python'</span>
str2 = <span class="hljs-string">"PythonåŸºç¡€å­¦ä¹ "</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(str1))  <span class="hljs-comment"># è¾“å‡ºï¼š&lt;class 'str'&gt;</span>

<span class="hljs-comment"># ä¸‰å¼•å·ï¼ˆç”¨äºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œä¿ç•™æ¢è¡Œæ ¼å¼ï¼‰</span>
str3 = <span class="hljs-string">"""
ç¬¬ä¸€è¡Œæ–‡æœ¬
ç¬¬äºŒè¡Œæ–‡æœ¬
ç¬¬ä¸‰è¡Œæ–‡æœ¬
"""</span>
<span class="hljs-built_in">print</span>(str3)  <span class="hljs-comment"># è¾“å‡ºæ—¶ä¼šä¿ç•™æ¢è¡Œ</span>

<span class="hljs-comment"># å­—ç¬¦ä¸²çš„ç®€å•æ“ä½œï¼ˆæ‹¼æ¥ã€é‡å¤ï¼‰</span>
<span class="hljs-built_in">print</span>(str1 + <span class="hljs-string">"ï¼Œ"</span> + str2)  <span class="hljs-comment"># å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè¾“å‡ºï¼šHello Pythonï¼ŒPythonåŸºç¡€å­¦ä¹ </span>
<span class="hljs-built_in">print</span>(str1 * <span class="hljs-number">2</span>)           <span class="hljs-comment"># å­—ç¬¦ä¸²é‡å¤ï¼Œè¾“å‡ºï¼šHello PythonHello Python</span>
</code></pre>
<h4 data-id="heading-8">2.3 å¸ƒå°”å€¼ç±»å‹ï¼ˆboolï¼‰</h4>
<p>ç”¨äºè¡¨ç¤ºâ€œçœŸâ€æˆ–â€œå‡â€ï¼Œåªæœ‰ä¸¤ä¸ªå€¼ï¼šTrueï¼ˆçœŸï¼Œæ³¨æ„é¦–å­—æ¯å¤§å†™ï¼‰ã€Falseï¼ˆå‡ï¼Œé¦–å­—æ¯å¤§å†™ï¼‰ï¼Œå¸¸ç”¨äºåˆ¤æ–­æ¡ä»¶ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®šä¹‰å¸ƒå°”å€¼å˜é‡</span>
is_true = <span class="hljs-literal">True</span>
is_false = <span class="hljs-literal">False</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(is_true))  <span class="hljs-comment"># è¾“å‡ºï¼š&lt;class 'bool'&gt;</span>

<span class="hljs-comment"># å¸ƒå°”å€¼çš„å®é™…åº”ç”¨ï¼ˆåç»­åˆ¤æ–­è¯­å¥ä¼šé«˜é¢‘ä½¿ç”¨ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">10</span> &gt; <span class="hljs-number">5</span>)   <span class="hljs-comment"># 10å¤§äº5ï¼Œè¾“å‡ºï¼šTrue</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">10</span> == <span class="hljs-number">5</span>)  <span class="hljs-comment"># 10ç­‰äº5ï¼Œè¾“å‡ºï¼šFalse</span>
<span class="hljs-built_in">print</span>(<span class="hljs-keyword">not</span> is_true)    <span class="hljs-comment"># å–åï¼Œè¾“å‡ºï¼šFalse</span>
</code></pre>
<h3 data-id="heading-9">3 è¾“å…¥è¾“å‡ºï¼šPythonä¸ç”¨æˆ·çš„â€œäº¤äº’æ–¹å¼â€</h3>
<p>ç¼–ç¨‹çš„æ ¸å¿ƒæ˜¯â€œå¤„ç†æ•°æ®â€ï¼Œè€Œæ•°æ®çš„æ¥æºå¯ä»¥æ˜¯ç”¨æˆ·è¾“å…¥ï¼Œå¤„ç†ç»“æœéœ€è¦è¾“å‡ºç»™ç”¨æˆ·ã€‚Pythonæä¾›äº†ä¸¤ä¸ªåŸºç¡€å‡½æ•°ï¼šinput() æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œprint() è¾“å‡ºå†…å®¹ï¼Œè¿™æ˜¯æœ€åŸºç¡€çš„äº¤äº’æ–¹å¼ã€‚</p>
<h4 data-id="heading-10">3.1 print() è¾“å‡ºå‡½æ•°</h4>
<p>ç”¨äºå°†å†…å®¹è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œå¯è¾“å‡ºå˜é‡ã€å¸¸é‡ã€è¡¨è¾¾å¼ç»“æœï¼Œæ”¯æŒåŒæ—¶è¾“å‡ºå¤šä¸ªå†…å®¹ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰ï¼Œä¹Ÿå¯æ§åˆ¶æ¢è¡Œã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¾“å‡ºå¸¸é‡</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Hello World"</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šHello World</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">123</span>)            <span class="hljs-comment"># è¾“å‡ºï¼š123</span>

<span class="hljs-comment"># è¾“å‡ºå˜é‡</span>
name = <span class="hljs-string">"å¼ ä¸‰"</span>
<span class="hljs-built_in">print</span>(name)  <span class="hljs-comment"># è¾“å‡ºï¼šå¼ ä¸‰</span>

<span class="hljs-comment"># åŒæ—¶è¾“å‡ºå¤šä¸ªå†…å®¹ï¼ˆé€—å·åˆ†éš”ï¼Œé»˜è®¤ç”¨ç©ºæ ¼è¿æ¥ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å§“åï¼š"</span>, name, <span class="hljs-string">"å¹´é¾„ï¼š"</span>, <span class="hljs-number">20</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šå§“åï¼š å¼ ä¸‰ å¹´é¾„ï¼š 20</span>

<span class="hljs-comment"># æ§åˆ¶æ¢è¡Œï¼ˆé»˜è®¤print()ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œendå‚æ•°å¯ä¿®æ”¹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¬¬ä¸€è¡Œ"</span>, end=<span class="hljs-string">""</span>)  <span class="hljs-comment"># end="" è¡¨ç¤ºä¸æ¢è¡Œ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¬¬äºŒè¡Œ"</span>)          <span class="hljs-comment"># è¾“å‡ºï¼šç¬¬ä¸€è¡Œç¬¬äºŒè¡Œ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¬¬ä¸‰è¡Œ"</span>, end=<span class="hljs-string">"---"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¬¬å››è¡Œ"</span>)          <span class="hljs-comment"># è¾“å‡ºï¼šç¬¬ä¸‰è¡Œ---ç¬¬å››è¡Œ</span>
</code></pre>
<h4 data-id="heading-11">3.2 input() è¾“å…¥å‡½æ•°</h4>
<p>ç”¨äºæ¥æ”¶ç”¨æˆ·ä»é”®ç›˜è¾“å…¥çš„å†…å®¹ï¼Œæ ¼å¼ä¸ºï¼š<code>å˜é‡å = input("æç¤ºä¿¡æ¯")</code>ã€‚<strong>é‡ç‚¹æ³¨æ„</strong>ï¼šinput() æ¥æ”¶çš„å†…å®¹ï¼Œæ— è®ºç”¨æˆ·è¾“å…¥çš„æ˜¯æ•°å­—è¿˜æ˜¯æ–‡æœ¬ï¼Œéƒ½ä¼šé»˜è®¤å½“ä½œå­—ç¬¦ä¸²ç±»å‹å¤„ç†ï¼Œéœ€è¦æ•°å­—æ—¶éœ€æ‰‹åŠ¨è½¬æ¢ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŸºç¡€ç”¨æ³•ï¼šæ¥æ”¶è¾“å…¥å¹¶è¾“å‡º</span>
name = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„å§“åï¼š"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä½ è¾“å…¥çš„å§“åæ˜¯ï¼š"</span>, name)  <span class="hljs-comment"># è¾“å…¥ä»€ä¹ˆï¼Œå°±è¾“å‡ºä»€ä¹ˆ</span>

<span class="hljs-comment"># æ³¨æ„ï¼šinput()é»˜è®¤æ¥æ”¶ä¸ºå­—ç¬¦ä¸²ï¼Œå³ä½¿è¾“å…¥æ•°å­—</span>
age = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„å¹´é¾„ï¼š"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(age))  <span class="hljs-comment"># è¾“å‡ºï¼š&lt;class 'str'&gt;ï¼Œå³ä½¿è¾“å…¥20ï¼Œä¹Ÿæ˜¯å­—ç¬¦ä¸²ç±»å‹</span>

<span class="hljs-comment"># æ­£ç¡®ç”¨æ³•ï¼šæ¥æ”¶æ•°å­—è¾“å…¥ï¼ˆæ‰‹åŠ¨è½¬æ¢ç±»å‹ï¼‰</span>
age = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„å¹´é¾„ï¼š"</span>))  <span class="hljs-comment"># å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä½ çš„å¹´é¾„æ˜¯ï¼š"</span>, age)
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(age))  <span class="hljs-comment"># è¾“å‡ºï¼š&lt;class 'int'&gt;</span>

<span class="hljs-comment"># æ¥æ”¶æµ®ç‚¹æ•°è¾“å…¥ï¼ˆæ¯”å¦‚èº«é«˜ã€ä½“é‡ï¼‰</span>
height = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„èº«é«˜ï¼ˆmï¼‰ï¼š"</span>))
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä½ çš„èº«é«˜æ˜¯ï¼š"</span>, height, <span class="hljs-string">"m"</span>)
</code></pre>
<h3 data-id="heading-12">4 è¿ç®—ç¬¦ï¼šPythonä¸­çš„â€œè®¡ç®—å·¥å…·â€</h3>
<p>è¿ç®—ç¬¦ç”¨äºå¯¹æ•°æ®è¿›è¡Œè¿ç®—æˆ–åˆ¤æ–­ï¼Œç¬¬äºŒé˜¶æ®µæˆ‘ä»¬é‡ç‚¹æŒæ¡5ç±»å¸¸ç”¨è¿ç®—ç¬¦ï¼šç®—æœ¯è¿ç®—ç¬¦ã€æ¯”è¾ƒè¿ç®—ç¬¦ã€é€»è¾‘è¿ç®—ç¬¦ã€èµ‹å€¼è¿ç®—ç¬¦ã€æˆå‘˜è¿ç®—ç¬¦ï¼Œæ¯ä¸€ç±»éƒ½æœ‰æ˜ç¡®çš„ä½¿ç”¨åœºæ™¯ï¼Œæ­é…ä»£ç ç†è§£æ›´ç®€å•[superscript:4]ã€‚</p>
<h4 data-id="heading-13">4.1 ç®—æœ¯è¿ç®—ç¬¦ï¼ˆç”¨äºæ•°å€¼è®¡ç®—ï¼‰</h4>
<p>æœ€å¸¸ç”¨çš„è¿ç®—ç¬¦ï¼Œå¯¹åº”æ•°å­¦ä¸­çš„åŠ å‡ä¹˜é™¤ç­‰è¿ç®—ï¼Œæ³¨æ„æ•´é™¤ï¼ˆ//ï¼‰å’Œå¹‚è¿ç®—ï¼ˆ**ï¼‰çš„ç”¨æ³•ã€‚</p>
<pre><code class="hljs language-python" lang="python">a = <span class="hljs-number">10</span>
b = <span class="hljs-number">3</span>

<span class="hljs-comment"># åŸºæœ¬ç®—æœ¯è¿ç®—</span>
<span class="hljs-built_in">print</span>(a + b)  <span class="hljs-comment"># åŠ æ³•ï¼Œè¾“å‡ºï¼š13</span>
<span class="hljs-built_in">print</span>(a - b)  <span class="hljs-comment"># å‡æ³•ï¼Œè¾“å‡ºï¼š7</span>
<span class="hljs-built_in">print</span>(a * b)  <span class="hljs-comment"># ä¹˜æ³•ï¼Œè¾“å‡ºï¼š30</span>
<span class="hljs-built_in">print</span>(a / b)  <span class="hljs-comment"># é™¤æ³•ï¼ˆæ— è®ºæ˜¯å¦æ•´é™¤ï¼Œç»“æœéƒ½æ˜¯æµ®ç‚¹æ•°ï¼‰ï¼Œè¾“å‡ºï¼š3.3333333333333335</span>
<span class="hljs-built_in">print</span>(a // b) <span class="hljs-comment"># æ•´é™¤ï¼ˆå‘ä¸‹å–æ•´ï¼Œä¸¢å¼ƒå°æ•°éƒ¨åˆ†ï¼‰ï¼Œè¾“å‡ºï¼š3</span>
<span class="hljs-built_in">print</span>(a % b)  <span class="hljs-comment"># å–ä½™ï¼ˆæ±‚é™¤æ³•åçš„ä½™æ•°ï¼‰ï¼Œè¾“å‡ºï¼š1</span>
<span class="hljs-built_in">print</span>(a ** b) <span class="hljs-comment"># å¹‚è¿ç®—ï¼ˆaçš„bæ¬¡æ–¹ï¼‰ï¼Œè¾“å‡ºï¼š1000</span>

<span class="hljs-comment"># è¡¥å……ï¼šå‡æ³•çš„è´Ÿå·ç”¨æ³•ã€ä¹˜æ³•çš„å­—ç¬¦ä¸²é‡å¤</span>
<span class="hljs-built_in">print</span>(-a)     <span class="hljs-comment"># å–è´Ÿï¼Œè¾“å‡ºï¼š-10</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Python"</span> * <span class="hljs-number">3</span>)  <span class="hljs-comment"># å­—ç¬¦ä¸²é‡å¤ï¼Œè¾“å‡ºï¼šPythonPythonPython</span>
</code></pre>
<h4 data-id="heading-14">4.2 æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆç”¨äºåˆ¤æ–­å¤§å°/ç›¸ç­‰ï¼Œç»“æœä¸ºå¸ƒå°”å€¼ï¼‰</h4>
<p>ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°æ®çš„å…³ç³»ï¼Œè¿ç®—ç»“æœæ°¸è¿œæ˜¯ True æˆ– Falseï¼Œåç»­åˆ¤æ–­è¯­å¥ã€å¾ªç¯è¯­å¥ä¼šé«˜é¢‘ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">a = 10
b = 3

print(a == b)  # ç­‰äºï¼ˆåˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼‰ï¼Œè¾“å‡ºï¼šFalse
print(a != b)  # ä¸ç­‰äºï¼Œè¾“å‡ºï¼šTrue
print(a &gt; b)   # å¤§äºï¼Œè¾“å‡ºï¼šTrue
print(a &lt; b)   # å°äºï¼Œè¾“å‡ºï¼šFalse
print(a &gt;= b)  # å¤§äºç­‰äºï¼Œè¾“å‡ºï¼šTrue
print(a &lt;= b)  # å°äºç­‰äºï¼Œè¾“å‡ºï¼šFalse

# å­—ç¬¦ä¸²ä¹Ÿå¯æ¯”è¾ƒï¼ˆæŒ‰å­—ç¬¦ç¼–ç é¡ºåºï¼Œä¸€èˆ¬ç”¨äºåˆ¤æ–­å­—æ¯é¡ºåºï¼‰
print("a" &lt; "b")  # è¾“å‡ºï¼šTrue
print("Python" == "python")  # åŒºåˆ†å¤§å°å†™ï¼Œè¾“å‡ºï¼šFalse
</code></pre>
<h4 data-id="heading-15">4.3 é€»è¾‘è¿ç®—ç¬¦ï¼ˆç”¨äºç»„åˆåˆ¤æ–­ï¼Œç»“æœä¸ºå¸ƒå°”å€¼ï¼‰</h4>
<p>ç”¨äºè¿æ¥å¤šä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå¸¸ç”¨çš„æœ‰3ä¸ªï¼šandï¼ˆä¸ï¼‰ã€orï¼ˆæˆ–ï¼‰ã€notï¼ˆéï¼‰ï¼Œé‡ç‚¹è®°é€»è¾‘è§„åˆ™ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># andï¼ˆä¸ï¼‰ï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸ºTrueï¼Œç»“æœæ‰æ˜¯Trueï¼›åªè¦æœ‰ä¸€ä¸ªFalseï¼Œç»“æœå°±æ˜¯False</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">10</span> &gt; <span class="hljs-number">5</span> <span class="hljs-keyword">and</span> <span class="hljs-number">3</span> == <span class="hljs-number">3</span>)  <span class="hljs-comment"># True and True â†’ True</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">10</span> &gt; <span class="hljs-number">5</span> <span class="hljs-keyword">and</span> <span class="hljs-number">3</span> != <span class="hljs-number">3</span>)  <span class="hljs-comment"># True and False â†’ False</span>

<span class="hljs-comment"># orï¼ˆæˆ–ï¼‰ï¼šåªè¦æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºTrueï¼Œç»“æœå°±æ˜¯Trueï¼›æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºFalseï¼Œç»“æœæ‰æ˜¯False</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">10</span> &lt; <span class="hljs-number">5</span> <span class="hljs-keyword">or</span> <span class="hljs-number">3</span> == <span class="hljs-number">3</span>)   <span class="hljs-comment"># False or True â†’ True</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">10</span> &lt; <span class="hljs-number">5</span> <span class="hljs-keyword">or</span> <span class="hljs-number">3</span> != <span class="hljs-number">3</span>)   <span class="hljs-comment"># False or False â†’ False</span>

<span class="hljs-comment"># notï¼ˆéï¼‰ï¼šå–åï¼ŒTrueå˜Falseï¼ŒFalseå˜True</span>
<span class="hljs-built_in">print</span>(<span class="hljs-keyword">not</span> <span class="hljs-literal">True</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šFalse</span>
<span class="hljs-built_in">print</span>(<span class="hljs-keyword">not</span> (<span class="hljs-number">10</span> &gt; <span class="hljs-number">5</span>))  <span class="hljs-comment"># å–ååˆ¤æ–­ç»“æœï¼Œè¾“å‡ºï¼šFalse</span>
</code></pre>
<h4 data-id="heading-16">4.4 èµ‹å€¼è¿ç®—ç¬¦ï¼ˆç”¨äºç»™å˜é‡èµ‹å€¼/æ›´æ–°å€¼ï¼‰</h4>
<p>æœ€åŸºç¡€çš„æ˜¯ = ï¼Œè¿˜æœ‰ç®€åŒ–çš„å¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ+=ã€-=ã€*= ç­‰ï¼‰ï¼Œç”¨äºç®€åŒ–ä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŸºç¡€èµ‹å€¼ï¼ˆ=ï¼‰</span>
x = <span class="hljs-number">5</span>
<span class="hljs-built_in">print</span>(x)  <span class="hljs-comment"># è¾“å‡ºï¼š5</span>

<span class="hljs-comment"># å¤åˆèµ‹å€¼è¿ç®—ç¬¦ï¼ˆç®€åŒ–è¿ç®—+èµ‹å€¼ï¼‰</span>
x += <span class="hljs-number">3</span>    <span class="hljs-comment"># ç­‰ä»·äº x = x + 3</span>
<span class="hljs-built_in">print</span>(x)  <span class="hljs-comment"># è¾“å‡ºï¼š8</span>

x -= <span class="hljs-number">2</span>    <span class="hljs-comment"># ç­‰ä»·äº x = x - 2</span>
<span class="hljs-built_in">print</span>(x)  <span class="hljs-comment"># è¾“å‡ºï¼š6</span>

x *= <span class="hljs-number">4</span>    <span class="hljs-comment"># ç­‰ä»·äº x = x * 4</span>
<span class="hljs-built_in">print</span>(x)  <span class="hljs-comment"># è¾“å‡ºï¼š24</span>

x /= <span class="hljs-number">2</span>    <span class="hljs-comment"># ç­‰ä»·äº x = x / 2</span>
<span class="hljs-built_in">print</span>(x)  <span class="hljs-comment"># è¾“å‡ºï¼š12.0</span>
</code></pre>
<h4 data-id="heading-17">4.5 æˆå‘˜è¿ç®—ç¬¦ï¼ˆç”¨äºåˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨åºåˆ—ä¸­ï¼Œç»“æœä¸ºå¸ƒå°”å€¼ï¼‰</h4>
<p>å¸¸ç”¨çš„æœ‰2ä¸ªï¼šinï¼ˆåœ¨...é‡Œé¢ï¼‰ã€not inï¼ˆä¸åœ¨...é‡Œé¢ï¼‰ï¼Œå¯ç”¨äºå­—ç¬¦ä¸²ã€åˆ—è¡¨ç­‰åºåˆ—ï¼ˆåç»­ä¼šè¯¦ç»†è®²åºåˆ—ï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç”¨äºå­—ç¬¦ä¸²ï¼ˆåˆ¤æ–­å­—ç¬¦/å­ä¸²æ˜¯å¦å­˜åœ¨ï¼‰</span>
str1 = <span class="hljs-string">"PythonåŸºç¡€å­¦ä¹ "</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Python"</span> <span class="hljs-keyword">in</span> str1)    <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Java"</span> <span class="hljs-keyword">in</span> str1)      <span class="hljs-comment"># è¾“å‡ºï¼šFalse</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸºç¡€"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> str1)  <span class="hljs-comment"># è¾“å‡ºï¼šFalse</span>

<span class="hljs-comment"># ç”¨äºåˆ—è¡¨ï¼ˆåç»­ä¼šå­¦ï¼Œæå‰äº†è§£ï¼‰</span>
list1 = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-number">20</span> <span class="hljs-keyword">in</span> list1)         <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>
<span class="hljs-built_in">print</span>(<span class="hljs-number">50</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> list1)     <span class="hljs-comment"># è¾“å‡ºï¼šTrue</span>
</code></pre>
<h3 data-id="heading-18">5 æ•°æ®ç±»å‹è½¬æ¢ï¼šè§£å†³â€œç±»å‹ä¸åŒ¹é…â€é—®é¢˜</h3>
<p>æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°â€œç±»å‹ä¸åŒ¹é…â€çš„é”™è¯¯ï¼ˆæ¯”å¦‚ç”¨å­—ç¬¦ä¸²ç±»å‹çš„æ•°å­—è¿›è¡Œè¿ç®—ï¼‰ï¼Œè¿™æ—¶å°±éœ€è¦ç”¨åˆ°æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°ï¼Œç¬¬äºŒé˜¶æ®µé‡ç‚¹æŒæ¡3ä¸ªæœ€å¸¸ç”¨çš„è½¬æ¢å‡½æ•°ï¼šint()ã€str()ã€float()ï¼Œè¿˜æœ‰è½¬æ¢çš„æ³¨æ„äº‹é¡¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. int()ï¼šè½¬ä¸ºæ•´æ•°ç±»å‹ï¼ˆåªèƒ½è½¬æ¢ç¬¦åˆæ•´æ•°æ ¼å¼çš„æ•°æ®ï¼‰</span>
num1 = <span class="hljs-string">"20"</span>          <span class="hljs-comment"># å­—ç¬¦ä¸²ç±»å‹çš„æ•´æ•°ï¼Œå¯è½¬æ¢</span>
num2 = <span class="hljs-string">"20.5"</span>        <span class="hljs-comment"># å­—ç¬¦ä¸²ç±»å‹çš„æµ®ç‚¹æ•°ï¼Œä¸å¯ç›´æ¥è½¬æ¢ï¼ˆæŠ¥é”™ï¼‰</span>
num3 = <span class="hljs-number">3.8</span>           <span class="hljs-comment"># æµ®ç‚¹æ•°è½¬æ•´æ•°ï¼Œä¼šä¸¢å¼ƒå°æ•°éƒ¨åˆ†ï¼ˆä¸å››èˆäº”å…¥ï¼‰</span>

<span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(num1))     <span class="hljs-comment"># è¾“å‡ºï¼š20ï¼ˆå­—ç¬¦ä¸²â†’æ•´æ•°ï¼ŒæˆåŠŸï¼‰</span>
<span class="hljs-comment"># print(int(num2))  # æŠ¥é”™ï¼šValueErrorï¼ˆæ— æ³•å°†å¸¦å°æ•°çš„å­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">int</span>(num3))     <span class="hljs-comment"># è¾“å‡ºï¼š3ï¼ˆæµ®ç‚¹æ•°â†’æ•´æ•°ï¼Œä¸¢å¼ƒå°æ•°ï¼‰</span>

<span class="hljs-comment"># 2. float()ï¼šè½¬ä¸ºæµ®ç‚¹æ•°ç±»å‹ï¼ˆå¯è½¬æ¢æ•´æ•°ã€ç¬¦åˆæµ®ç‚¹æ•°æ ¼å¼çš„å­—ç¬¦ä¸²ï¼‰</span>
num4 = <span class="hljs-number">10</span>            <span class="hljs-comment"># æ•´æ•°è½¬æµ®ç‚¹æ•°</span>
num5 = <span class="hljs-string">"15.6"</span>        <span class="hljs-comment"># å­—ç¬¦ä¸²ç±»å‹çš„æµ®ç‚¹æ•°ï¼Œå¯è½¬æ¢</span>

<span class="hljs-built_in">print</span>(<span class="hljs-built_in">float</span>(num4))   <span class="hljs-comment"># è¾“å‡ºï¼š10.0ï¼ˆæ•´æ•°â†’æµ®ç‚¹æ•°ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">float</span>(num5))   <span class="hljs-comment"># è¾“å‡ºï¼š15.6ï¼ˆå­—ç¬¦ä¸²â†’æµ®ç‚¹æ•°ï¼‰</span>

<span class="hljs-comment"># 3. str()ï¼šè½¬ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼ˆæ‰€æœ‰ç±»å‹å‡å¯è½¬æ¢ï¼‰</span>
num6 = <span class="hljs-number">100</span>
num7 = <span class="hljs-number">3.14</span>
num8 = <span class="hljs-literal">True</span>

<span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(num6))     <span class="hljs-comment"># è¾“å‡ºï¼š"100"ï¼ˆæ•´æ•°â†’å­—ç¬¦ä¸²ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(num7))     <span class="hljs-comment"># è¾“å‡ºï¼š"3.14"ï¼ˆæµ®ç‚¹æ•°â†’å­—ç¬¦ä¸²ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>(num8))     <span class="hljs-comment"># è¾“å‡ºï¼š"True"ï¼ˆå¸ƒå°”å€¼â†’å­—ç¬¦ä¸²ï¼‰</span>

<span class="hljs-comment"># å®é™…åº”ç”¨åœºæ™¯ï¼ˆè§£å†³input()è¾“å…¥æ•°å­—çš„é—®é¢˜ï¼‰</span>
age = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„å¹´é¾„ï¼š"</span>)
<span class="hljs-built_in">print</span>(age + <span class="hljs-number">1</span>)  <span class="hljs-comment"># æŠ¥é”™ï¼šå­—ç¬¦ä¸²ä¸èƒ½å’Œæ•´æ•°è¿ç®—</span>
age = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„å¹´é¾„ï¼š"</span>))
<span class="hljs-built_in">print</span>(age + <span class="hljs-number">1</span>)  <span class="hljs-comment"># æˆåŠŸï¼šæ•´æ•°è¿ç®—ï¼Œè¾“å‡ºå¹´é¾„+1çš„ç»“æœ</span>
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šæ•°æ®ç±»å‹è½¬æ¢ä¸æ˜¯â€œä¸‡èƒ½â€çš„ï¼Œåªèƒ½è½¬æ¢æ ¼å¼åˆæ³•çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸èƒ½å°†å­—ç¬¦ä¸²â€œabcâ€è½¬ä¸ºæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œå¦åˆ™ä¼šæŠ¥ ValueError é”™è¯¯ã€‚</p>
<h3 data-id="heading-19">6 æ³¨é‡Šä¸ä»£ç è§„èŒƒï¼šå†™å‡ºâ€œè®©äººçœ‹æ‡‚â€çš„ä»£ç </h3>
<p>æ³¨é‡Šæ˜¯ä»£ç ä¸­çš„â€œè¯´æ˜æ–‡å­—â€ï¼ŒPythonè§£é‡Šå™¨ä¼šå¿½ç•¥æ³¨é‡Šå†…å®¹ï¼Œä¸æ‰§è¡Œæ³¨é‡Šé‡Œçš„ä»£ç ã€‚æ³¨é‡Šçš„ä½œç”¨æ˜¯è§£é‡Šä»£ç åŠŸèƒ½ï¼Œæ–¹ä¾¿è‡ªå·±åç»­æŸ¥çœ‹å’Œä»–äººåä½œï¼ŒåŒæ—¶éµå¾ªä»£ç è§„èŒƒï¼Œèƒ½è®©ä»£ç æ›´æ•´æ´ã€æ›´ä¸“ä¸šã€‚</p>
<h4 data-id="heading-20">6.1 æ³¨é‡Šçš„ä¸¤ç§ç”¨æ³•</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. å•è¡Œæ³¨é‡Šï¼šç”¨ # å¼€å¤´ï¼Œæ³¨é‡Šå†…å®¹ä» # åˆ°è¡Œå°¾ç»“æŸ</span>
<span class="hljs-comment"># è¿™æ˜¯ä¸€è¡Œå•è¡Œæ³¨é‡Šï¼Œç”¨äºè¯´æ˜ä¸‹é¢ä»£ç çš„åŠŸèƒ½</span>
name = <span class="hljs-string">"å¼ ä¸‰"</span>  <span class="hljs-comment"># è¡Œå°¾æ³¨é‡Šï¼šå®šä¹‰å˜é‡nameï¼Œå­˜å‚¨å§“åï¼ˆæ¨èä¸ä»£ç ç©º1ä¸ªç©ºæ ¼ï¼‰</span>
<span class="hljs-built_in">print</span>(name)    <span class="hljs-comment"># è¾“å‡ºå˜é‡nameçš„å€¼</span>

<span class="hljs-comment"># 2. å¤šè¡Œæ³¨é‡Šï¼šç”¨ä¸‰åŒå¼•å· """""" æˆ–ä¸‰å•å¼•å· '''''' åŒ…è£¹ï¼Œå¯æ¢è¡Œ</span>
<span class="hljs-string">"""
è¿™æ˜¯å¤šè¡Œæ³¨é‡Š
ç”¨äºè¯´æ˜ä¸€æ®µä»£ç çš„æ•´ä½“åŠŸèƒ½
æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼Œç”¨äºæ¥æ”¶ç”¨æˆ·è¾“å…¥å¹¶è¾“å‡ºæ¬¢è¿ä¿¡æ¯
"""</span>
user_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„å§“åï¼š"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¬¢è¿ä½ ï¼Œ<span class="hljs-subst">{user_name}</span>ï¼"</span>)

<span class="hljs-string">'''
ä¸‰å•å¼•å·ä¹Ÿå¯ç”¨äºå¤šè¡Œæ³¨é‡Š
æ•ˆæœå’Œä¸‰åŒå¼•å·ä¸€è‡´
'''</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å¤šè¡Œæ³¨é‡Šç»“æŸ"</span>)
</code></pre>
<h4 data-id="heading-21">6.2 ä»£ç è§„èŒƒï¼ˆè¡¥å……ï¼Œè´´åˆæ–°æ‰‹ï¼‰</h4>
<p>é™¤äº†å˜é‡å‘½åè§„èŒƒï¼Œè¿˜æœ‰å‡ ä¸ªåŸºç¡€è§„èŒƒéœ€è¦è®°ä½ï¼Œå…»æˆè‰¯å¥½ä¹ æƒ¯ï¼š</p>
<ul>
<li>ç¼©è¿›è§„èŒƒï¼šPythonç”¨ç¼©è¿›åŒºåˆ†ä»£ç å—ï¼Œæ¨èä½¿ç”¨4ä¸ªç©ºæ ¼ä½œä¸ºä¸€æ¬¡ç¼©è¿›ï¼ˆä¸è¦ç”¨Tabï¼Œé¿å…æ ¼å¼é”™ä¹±ï¼‰ï¼ŒåŒä¸€çº§ä»£ç å—çš„ç¼©è¿›é‡å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›</li>
<li>ç©ºæ ¼è§„èŒƒï¼šèµ‹å€¼ç¬¦å· = ã€è¿ç®—ç¬¦ä¸¤ä¾§ï¼Œå»ºè®®å„åŠ 1ä¸ªç©ºæ ¼ï¼ˆå¦‚ a = 10 è€Œé a=10ï¼Œa + b è€Œé a+bï¼‰ï¼Œæå‡å¯è¯»æ€§ï¼›</li>
<li>æ³¨é‡Šè§„èŒƒï¼šæ³¨é‡Šè¦ç®€æ´æ˜äº†ï¼Œä¸è¦å†—ä½™ï¼ˆæ¯”å¦‚ä¸ç”¨æ³¨é‡Šâ€œå®šä¹‰å˜é‡aâ€ï¼‰ï¼Œå…³é”®é€»è¾‘ã€å¤æ‚ä»£ç å¿…é¡»åŠ æ³¨é‡Šï¼Œä»£ç ä¿®æ”¹ååŒæ­¥æ›´æ–°æ³¨é‡Šï¼›</li>
<li>æ¢è¡Œè§„èŒƒï¼šä¸€è¡Œä»£ç ä¸è¦è¿‡é•¿ï¼ˆPEP 8æ¨èä¸è¶…è¿‡79ä¸ªå­—ç¬¦ï¼‰ï¼Œå¤æ‚è¡¨è¾¾å¼å¯æ¢è¡Œï¼Œä¿æŒå¯¹é½ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è§„èŒƒçš„ä»£ç ç¤ºä¾‹</span>
<span class="hljs-comment"># æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„èº«é«˜å’Œä½“é‡ï¼Œè®¡ç®—BMIå€¼ï¼ˆä½“é‡/èº«é«˜Â²ï¼‰</span>
height = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„èº«é«˜ï¼ˆmï¼‰ï¼š"</span>))  <span class="hljs-comment"># æ¥æ”¶èº«é«˜ï¼Œè½¬ä¸ºæµ®ç‚¹æ•°</span>
weight = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„ä½“é‡ï¼ˆkgï¼‰ï¼š"</span>))  <span class="hljs-comment"># æ¥æ”¶ä½“é‡ï¼Œè½¬ä¸ºæµ®ç‚¹æ•°</span>

bmi = weight / (height ** <span class="hljs-number">2</span>)  <span class="hljs-comment"># è®¡ç®—BMIå€¼ï¼Œè¿ç®—ç¬¦ä¸¤ä¾§åŠ ç©ºæ ¼</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä½ çš„BMIå€¼ä¸ºï¼š<span class="hljs-subst">{bmi:<span class="hljs-number">.2</span>f}</span>"</span>)  <span class="hljs-comment"># ä¿ç•™2ä½å°æ•°è¾“å‡º</span>

<span class="hljs-comment"># ä¸è§„èŒƒçš„ä»£ç ï¼ˆä¸æ¨èï¼‰</span>
height=<span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„èº«é«˜ï¼ˆmï¼‰ï¼š"</span>))<span class="hljs-comment">#æ— ç©ºæ ¼ã€æ— æ³¨é‡Š</span>
weight=<span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ä½ çš„ä½“é‡ï¼ˆkgï¼‰ï¼š"</span>))
bmi=weight/(height**<span class="hljs-number">2</span>)<span class="hljs-comment">#æ— ç©ºæ ¼</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä½ çš„BMIå€¼ä¸ºï¼š<span class="hljs-subst">{bmi}</span>"</span>)
</code></pre>
<h3 data-id="heading-22">7 æ€»ç»“</h3>
<p>åˆ°è¿™é‡Œï¼ŒPython3åŸºç¡€å­¦ä¹ ç¬¬äºŒé˜¶æ®µçš„æ ¸å¿ƒå†…å®¹å°±å…¨éƒ¨æ¢³ç†å®Œäº†ã€‚è¿™ä¸€é˜¶æ®µçš„çŸ¥è¯†ç‚¹çœ‹ä¼¼é›¶æ•£ï¼Œä½†ä¸²è”èµ·æ¥å°±æ˜¯â€œæ•°æ®çš„å­˜å‚¨ï¼ˆå˜é‡ï¼‰â†’ æ•°æ®çš„åˆ†ç±»ï¼ˆæ•°æ®ç±»å‹ï¼‰â†’ æ•°æ®çš„äº¤äº’ï¼ˆè¾“å…¥è¾“å‡ºï¼‰â†’ æ•°æ®çš„å¤„ç†ï¼ˆè¿ç®—ç¬¦ï¼‰â†’ æ•°æ®çš„å…¼å®¹ï¼ˆç±»å‹è½¬æ¢ï¼‰â†’ ä»£ç çš„è§„èŒƒï¼ˆæ³¨é‡Šä¸è§„èŒƒï¼‰â€ï¼Œå½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„åŸºç¡€é—­ç¯ã€‚</p>
<p>å¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œé‡ç‚¹ä¸æ˜¯æ­»è®°ç¡¬èƒŒçŸ¥è¯†ç‚¹ï¼Œè€Œæ˜¯å¤šåŠ¨æ‰‹è¿è¡Œä»£ç â€”â€”æŠŠæ–‡ä¸­çš„æ¯ä¸€æ®µä»£ç éƒ½å¤åˆ¶åˆ°ç¼–è¾‘å™¨ä¸­è¿è¡Œï¼Œä¿®æ”¹å˜é‡å€¼ã€ä¿®æ”¹è¿ç®—é€»è¾‘ï¼Œè§‚å¯Ÿè¿è¡Œç»“æœçš„å˜åŒ–ï¼Œè¿™æ ·æ‰èƒ½çœŸæ­£ç†è§£æ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹çš„ç”¨æ³•ã€‚</p>
<p>å¾ˆå¤šæ–°æ‰‹åœ¨è¿™ä¸€é˜¶æ®µå®¹æ˜“è¸©çš„å‘ï¼šinput() æ¥æ”¶æ•°å­—æœªè½¬æ¢ç±»å‹ã€å˜é‡å‘½åä¸è§„èŒƒã€ç¼©è¿›é”™è¯¯ã€ç±»å‹è½¬æ¢æ ¼å¼éæ³•ï¼Œè¿™äº›éƒ½å¯ä»¥é€šè¿‡å¤šç»ƒä¹ é¿å…ã€‚å»ºè®®æ¯å¤©èŠ±30åˆ†é’Ÿï¼Œç»ƒä¹ 1-2ä¸ªçŸ¥è¯†ç‚¹çš„ä»£ç ï¼ŒåšæŒä¸€å‘¨ï¼Œå°±èƒ½ç†Ÿç»ƒæŒæ¡è¿™äº›æ ¸å¿ƒè¯­æ³•ã€‚</p>
<p>ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬å°†å­¦ä¹ æµç¨‹æ§åˆ¶ï¼ˆifåˆ¤æ–­ã€forå¾ªç¯ã€whileå¾ªç¯ï¼‰ï¼Œå±Šæ—¶ä¼šç”¨åˆ°æœ¬é˜¶æ®µçš„æ‰€æœ‰çŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥ä¸€å®šè¦æŠŠç¬¬äºŒé˜¶æ®µçš„åŸºç¡€æ‰“ç‰¢å“¦ï½ ä¸€èµ·åŠ æ²¹ï¼Œç¨³æ­¥è§£é”Pythonç¼–ç¨‹æŠ€èƒ½ï¼</p>
<hr/>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾· @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</strong><br/>
æŒç»­åˆ›ä½œå¾ˆä¸å®¹æ˜“ï¼Œä½œè€…å°†ä»¥å°½å¯èƒ½çš„è¯¦ç»†æŠŠæ‰€å­¦çŸ¥è¯†åˆ†äº«å„ä½å¼€å‘è€…ï¼Œä¸€èµ·è¿›æ­¥ä¸€èµ·å­¦ä¹ ã€‚<strong>è½¬è½½è¯·æºå¸¦é“¾æ¥ï¼Œè½¬è½½åˆ°å¾®ä¿¡å…¬ä¼—å·è¯·å‹¿é€‰æ‹©åŸåˆ›ï¼Œè°¢è°¢ï¼</strong><br/>
ğŸ‘åˆ›ä½œä¸æ˜“ï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£ï¼Œæ„Ÿè°¢è§‚çœ‹ï¼è®°å¾—ç‚¹èµå“¦ï¼ğŸ‘<br/>
è°¢è°¢æ”¯æŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…³äºåœ°å›¾æ¸²æŸ“åŠ 20wæ•°æ®å±•ç¤ºå’Œåœ°å›¾åŠ¨ç”»æ€ä¹ˆåš]]></title>    <link>https://juejin.cn/post/7598071804971024422</link>    <guid>https://juejin.cn/post/7598071804971024422</guid>    <pubDate>2026-01-23T03:14:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598071804971024422" data-draft-id="7598043378018713609" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…³äºåœ°å›¾æ¸²æŸ“åŠ 20wæ•°æ®å±•ç¤ºå’Œåœ°å›¾åŠ¨ç”»æ€ä¹ˆåš"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T03:14:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sunshine_"/> <meta itemprop="url" content="https://juejin.cn/user/1135139405723559"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…³äºåœ°å›¾æ¸²æŸ“åŠ 20wæ•°æ®å±•ç¤ºå’Œåœ°å›¾åŠ¨ç”»æ€ä¹ˆåš
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1135139405723559/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sunshine_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:14:47.000Z" title="Fri Jan 23 2026 03:14:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰ç«¯æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šEChartsåœ°å›¾æ¸²æŸ“12ä¸‡+æ•°æ®åŠ¨æ€åŠ¨ç”»æ–¹æ¡ˆ</h2>
<blockquote>
<p>æœ¬æ–‡è®°å½•äº†åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä½¿ç”¨EChartsåœ°å›¾ç»„ä»¶æ¸²æŸ“12ä¸‡+è®¾å¤‡å®‰è£…æ•°æ®çš„æ€§èƒ½ä¼˜åŒ–å®æˆ˜ç»éªŒï¼ŒåŒ…å«å®Œæ•´çš„æŠ€æœ¯æ–¹æ¡ˆå’Œä»£ç å®ç°ã€‚</p>
</blockquote>
<h3 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h3>
<p>å…¬å¸éœ€è¦å°†å…¨å¹´è®¾å¤‡å®‰è£…é‡é€šè¿‡æ——å¸œçš„å½¢å¼å±•ç¤ºåœ¨å…¨å›½åœ°å›¾ä¸Šï¼Œå®ç°æ•°æ®å¯è§†åŒ–å¤§å±ã€‚ä¸»è¦æŠ€æœ¯æŒ‘æˆ˜ï¼š</p>
<ul>
<li><strong>æ•°æ®é‡å¤§</strong>ï¼šå…¨å¹´è®¾å¤‡å®‰è£…æ•°æ®çº¦20ä¸‡æ¡</li>
<li><strong>å®æ—¶æ›´æ–°</strong>ï¼šé€šè¿‡WebSocketå®æ—¶æ¥æ”¶æ•°æ®</li>
<li><strong>åŠ¨ç”»æ•ˆæœ</strong>ï¼šéœ€è¦å±•ç¤ºæ•°æ®é€æ¡æ·»åŠ çš„åŠ¨æ€æ•ˆæœ</li>
<li><strong>æ€§èƒ½è¦æ±‚</strong>ï¼šéœ€è¦ä¿æŒ60fpsçš„æµç•…åŠ¨ç”»</li>
</ul>
<h3 data-id="heading-2">ä¸€ã€åˆå§‹å®ç°ä¸æ€§èƒ½ç“¶é¢ˆ</h3>
<h4 data-id="heading-3">1.1 åŸºç¡€åœ°å›¾é…ç½®</h4>
<p>é¦–å…ˆä½¿ç”¨EChartsæ­å»ºåŸºç¡€åœ°å›¾æ¡†æ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">initChart</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span> = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">chart</span>);
    <span class="hljs-keyword">let</span> option = {
        <span class="hljs-attr">geo</span>: {
            <span class="hljs-attr">map</span>: <span class="hljs-string">'china'</span>,
            <span class="hljs-attr">roam</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">zoom</span>: <span class="hljs-number">1.1</span>,
            <span class="hljs-attr">scaleLimit</span>: { <span class="hljs-attr">min</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">10</span> },
            <span class="hljs-attr">itemStyle</span>: {
                <span class="hljs-attr">areaColor</span>: <span class="hljs-string">'rgba(91,97,141,.3)'</span>,
                <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'rgba(0,0,0,.2)'</span>
            }
        },
        <span class="hljs-attr">series</span>: [
            <span class="hljs-comment">// åŸºç¡€åœ°å›¾å±‚</span>
            {
                <span class="hljs-attr">type</span>: <span class="hljs-string">'map'</span>,
                <span class="hljs-attr">map</span>: <span class="hljs-string">'china'</span>,
                <span class="hljs-attr">itemStyle</span>: {
                    <span class="hljs-attr">areaColor</span>: <span class="hljs-string">'rgba(0,0,0,0)'</span>,
                    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'rgba(255,255,255,1)'</span>,
                }
            },
            <span class="hljs-comment">// è®¾å¤‡ç‚¹å›¾å±‚</span>
            {
                <span class="hljs-attr">id</span>: <span class="hljs-string">'scatter'</span>,
                <span class="hljs-attr">type</span>: <span class="hljs-string">'scatter'</span>,
                <span class="hljs-attr">coordinateSystem</span>: <span class="hljs-string">'geo'</span>,
                <span class="hljs-attr">data</span>: [],
                <span class="hljs-attr">symbol</span>: <span class="hljs-string">'image://flag.png'</span>,  <span class="hljs-comment">// æ——å¸œå›¾æ ‡</span>
                <span class="hljs-attr">symbolSize</span>: [<span class="hljs-number">16</span>, <span class="hljs-number">22</span>],
                <span class="hljs-attr">animation</span>: <span class="hljs-literal">false</span>  <span class="hljs-comment">// å…³é—­å†…ç½®åŠ¨ç”»</span>
            }
        ]
    };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chart</span>.<span class="hljs-title function_">setOption</span>(option);
}
</code></pre>
<h4 data-id="heading-4">1.2 åŠ¨ç”»è®¾è®¡</h4>
<p>è®¾è®¡æ——å¸œç”Ÿé•¿åŠ¨ç”»æ•ˆæœï¼Œé€šè¿‡éšæœºæ•°å®ç°å¤šæ ·åŒ–çš„åŠ¨ç”»å±•ç¤ºï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ——å¸œåŠ¨ç”»æ•ˆæœè®¾è®¡</span>
<span class="hljs-keyword">const</span> flagAnimations = [
    <span class="hljs-string">'scaleUp'</span>,      <span class="hljs-comment">// ä»å°å˜å¤§</span>
    <span class="hljs-string">'fadeIn'</span>,       <span class="hljs-comment">// æ·¡å…¥</span>
    <span class="hljs-string">'bounceIn'</span>,     <span class="hljs-comment">// å¼¹è·³è¿›å…¥</span>
    <span class="hljs-string">'rotateIn'</span>      <span class="hljs-comment">// æ—‹è½¬è¿›å…¥</span>
];

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getRandomAnimation</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> flagAnimations[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * flagAnimations.<span class="hljs-property">length</span>)];
}
</code></pre>
<h4 data-id="heading-5">1.3 é‡åˆ°çš„æ€§èƒ½ç“¶é¢ˆ</h4>
<p>å½“æ•°æ®é‡è¾¾åˆ°3-5ä¸‡æ¡æ—¶ï¼Œå¼€å§‹å‡ºç°æ˜æ˜¾å¡é¡¿ï¼š</p>
<ul>
<li>åŠ¨ç”»å¸§ç‡ä¸‹é™åˆ°30fpsä»¥ä¸‹</li>
<li>å†…å­˜å ç”¨æŒç»­å¢é•¿</li>
<li>ç¼©æ”¾å¹³ç§»æ“ä½œå¡é¡¿</li>
<li>WebSocketæ•°æ®å †ç§¯</li>
</ul>
<h3 data-id="heading-6">äºŒã€åˆ†å±‚ç­–ç•¥ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<p>ç»è¿‡è°ƒç ”ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†<strong>åˆ†å±‚ç­–ç•¥</strong>æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œæ ¹æ®ä¸åŒçš„ç¼©æ”¾çº§åˆ«é‡‡ç”¨ä¸åŒçš„æ¸²æŸ“ç­–ç•¥ã€‚</p>
<h4 data-id="heading-7">2.1 åˆ†å±‚ç­–ç•¥è®¾è®¡</h4>
<p>javascript</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">const</span> <span class="hljs-string">zoomConfigs</span> <span class="hljs-string">=</span> {
    <span class="hljs-attr">low:</span> {  <span class="hljs-string">//</span> <span class="hljs-string">ä½ç¼©æ”¾çº§åˆ«ï¼šå…¨å›½è§†å›¾</span>
        <span class="hljs-attr">zoom:</span> <span class="hljs-number">2</span>,
        <span class="hljs-attr">sampleRate:</span> <span class="hljs-number">0.1</span>,    <span class="hljs-string">//</span> <span class="hljs-number">10</span><span class="hljs-string">%æŠ½æ ·æ˜¾ç¤º</span>
        <span class="hljs-attr">precision:</span> <span class="hljs-number">2</span>,       <span class="hljs-string">//</span> <span class="hljs-string">ç»çº¬åº¦ç²¾åº¦ï¼šå°æ•°ç‚¹å2ä½</span>
        <span class="hljs-attr">symbolSize:</span> [<span class="hljs-number">8</span>, <span class="hljs-number">11</span>] <span class="hljs-string">//</span> <span class="hljs-string">ç¼©å°å›¾æ ‡</span>
    },
    <span class="hljs-attr">mid:</span> {  <span class="hljs-string">//</span> <span class="hljs-string">ä¸­ç¼©æ”¾çº§åˆ«ï¼šçœçº§è§†å›¾</span>
        <span class="hljs-attr">zoom:</span> <span class="hljs-number">5</span>,
        <span class="hljs-attr">sampleRate:</span> <span class="hljs-number">0.5</span>,    <span class="hljs-string">//</span> <span class="hljs-number">50</span><span class="hljs-string">%æŠ½æ ·æ˜¾ç¤º</span>
        <span class="hljs-attr">precision:</span> <span class="hljs-number">3</span>,       <span class="hljs-string">//</span> <span class="hljs-string">ç»çº¬åº¦ç²¾åº¦ï¼šå°æ•°ç‚¹å3ä½</span>
        <span class="hljs-attr">symbolSize:</span> [<span class="hljs-number">12</span>, <span class="hljs-number">16</span>]
    },
    <span class="hljs-attr">high:</span> { <span class="hljs-string">//</span> <span class="hljs-string">é«˜ç¼©æ”¾çº§åˆ«ï¼šå¸‚çº§è§†å›¾</span>
        <span class="hljs-attr">zoom:</span> <span class="hljs-number">10</span>,
        <span class="hljs-attr">sampleRate:</span> <span class="hljs-number">1</span>,      <span class="hljs-string">//</span> <span class="hljs-number">100</span><span class="hljs-string">%æ˜¾ç¤º</span>
        <span class="hljs-attr">precision:</span> <span class="hljs-number">4</span>,       <span class="hljs-string">//</span> <span class="hljs-string">ç»çº¬åº¦ç²¾åº¦ï¼šå°æ•°ç‚¹å4ä½</span>
        <span class="hljs-attr">symbolSize:</span> [<span class="hljs-number">16</span>, <span class="hljs-number">22</span>]
    }
}<span class="hljs-string">;</span>
</code></pre>
<h4 data-id="heading-8">2.2 åŠ¨æ€åŠ¨ç”»è°ƒåº¦ç³»ç»Ÿ</h4>
<p>javascript</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AnimationScheduler</span> {
    <span class="hljs-keyword">constructor</span>() {
        <span class="hljs-keyword">this</span>.pendingList = [];      <span class="hljs-comment">// å¾…å¤„ç†æ•°æ®é˜Ÿåˆ—</span>
        <span class="hljs-keyword">this</span>.allDeviceList = [];    <span class="hljs-comment">// æ‰€æœ‰æ•°æ®å­˜å‚¨</span>
        <span class="hljs-keyword">this</span>.displayList = [];      <span class="hljs-comment">// å½“å‰æ˜¾ç¤ºæ•°æ®</span>
        <span class="hljs-keyword">this</span>.deviceSet = new Set(); <span class="hljs-comment">// æ•°æ®å»é‡</span>
        <span class="hljs-keyword">this</span>.displaySet = new Set(); <span class="hljs-comment">// æ˜¾ç¤ºå»é‡</span>
        <span class="hljs-keyword">this</span>.animationTimer = <span class="hljs-literal">null</span>;
        
        <span class="hljs-comment">// å¸§ç‡æ§åˆ¶</span>
        <span class="hljs-keyword">this</span>.frameInterval = <span class="hljs-number">50</span>;    <span class="hljs-comment">// 20fps</span>
        <span class="hljs-keyword">this</span>.batchSize = <span class="hljs-number">100</span>;       <span class="hljs-comment">// æ¯æ‰¹å¤„ç†æ•°é‡</span>
    }
    
    <span class="hljs-comment">// å¯åŠ¨åŠ¨ç”»è°ƒåº¦</span>
    startAnimation() {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.animationTimer) <span class="hljs-keyword">return</span>;
        
        let lastTime = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">const</span> animate = (currentTime) =&gt; {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.pendingList.length === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">this</span>.stopAnimation();
                <span class="hljs-keyword">return</span>;
            }
            
            <span class="hljs-comment">// å¸§ç‡æ§åˆ¶</span>
            <span class="hljs-keyword">if</span> (currentTime - lastTime &gt;= <span class="hljs-keyword">this</span>.frameInterval) {
                lastTime = currentTime;
                <span class="hljs-keyword">this</span>.processBatch();
            }
            
            <span class="hljs-keyword">this</span>.animationTimer = requestAnimationFrame(animate);
        };
        
        <span class="hljs-keyword">this</span>.animationTimer = requestAnimationFrame(animate);
    }
    
    <span class="hljs-comment">// å¤„ç†ä¸€æ‰¹æ•°æ®</span>
    processBatch() {
        <span class="hljs-keyword">const</span> batch = <span class="hljs-keyword">this</span>.pendingList.splice(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.batchSize);
        <span class="hljs-keyword">const</span> config = <span class="hljs-keyword">this</span>.getCurrentZoomConfig();
        let hasNewData = <span class="hljs-literal">false</span>;
        
        batch.forEach(item =&gt; {
            <span class="hljs-comment">// å…¨å±€å»é‡</span>
            <span class="hljs-keyword">const</span> globalKey = `${item.lng},${item.lat}`;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.deviceSet.has(globalKey)) <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">this</span>.deviceSet.add(globalKey);
            
            <span class="hljs-keyword">const</span> point = {
                value: [item.lng, item.lat],
                createTime: item.createTime
            };
            <span class="hljs-keyword">this</span>.allDeviceList.push(point);
            
            <span class="hljs-comment">// æ ¹æ®å½“å‰ç¼©æ”¾çº§åˆ«æŠ½æ ·</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.shouldDisplay(point, config)) {
                <span class="hljs-keyword">const</span> displayKey = <span class="hljs-keyword">this</span>.getDisplayKey(point, config);
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.displaySet.has(displayKey)) {
                    <span class="hljs-keyword">this</span>.displaySet.add(displayKey);
                    <span class="hljs-keyword">this</span>.displayList.push(point);
                    hasNewData = <span class="hljs-literal">true</span>;
                }
            }
        });
        
        <span class="hljs-comment">// æ‰¹é‡æ›´æ–°å›¾è¡¨</span>
        <span class="hljs-keyword">if</span> (hasNewData) {
            <span class="hljs-keyword">this</span>.updateChart();
        }
    }
}
</code></pre>
<h4 data-id="heading-9">2.3 æ™ºèƒ½æ˜¾ç¤ºåˆ¤æ–­</h4>
<p>javascript</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ ¹æ®ç¼©æ”¾çº§åˆ«åˆ¤æ–­æ˜¯å¦æ˜¾ç¤º</span>
<span class="hljs-built_in">shouldDisplay</span>(point, config) {
    <span class="hljs-comment">// å®Œå…¨æ˜¾ç¤ºæ¨¡å¼</span>
    <span class="hljs-keyword">if</span> (config.sampleRate &gt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    
    <span class="hljs-comment">// æŠ½æ ·æ˜¾ç¤ºæ¨¡å¼</span>
    <span class="hljs-type">const</span> displayChance = Math.<span class="hljs-built_in">random</span>();
    <span class="hljs-keyword">return</span> displayChance &lt; config.sampleRate;
}

<span class="hljs-comment">// ç”Ÿæˆæ˜¾ç¤ºé”®ï¼ˆæ ¹æ®ç²¾åº¦å»é‡ï¼‰</span>
<span class="hljs-built_in">getDisplayKey</span>(point, config) {
    <span class="hljs-type">const</span> lng = point.value[<span class="hljs-number">0</span>].<span class="hljs-built_in">toFixed</span>(config.precision);
    <span class="hljs-type">const</span> lat = point.value[<span class="hljs-number">1</span>].<span class="hljs-built_in">toFixed</span>(config.precision);
    <span class="hljs-keyword">return</span> `${lng},${lat}`;
}
</code></pre>
<h4 data-id="heading-10">2.4 ç¼©æ”¾çº§åˆ«å˜åŒ–å¤„ç†</h4>
<p>javascript</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ç›‘å¬ç¼©æ”¾å˜åŒ–</span>
setupZoomListener() {
    <span class="hljs-keyword">this</span>.chart.on(<span class="hljs-string">'georoam'</span>, () =&gt; {
        <span class="hljs-keyword">const</span> option = <span class="hljs-keyword">this</span>.chart.getOption();
        <span class="hljs-keyword">if</span> (option.geo &amp;&amp; option.geo[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">const</span> newZoom = option.geo[<span class="hljs-number">0</span>].zoom;
            <span class="hljs-keyword">if</span> (Math.abs(newZoom - <span class="hljs-keyword">this</span>.currentZoom) &gt; <span class="hljs-number">0.1</span>) {
                <span class="hljs-keyword">this</span>.currentZoom = newZoom;
                <span class="hljs-keyword">this</span>.handleZoomChange();
            }
        }
    });
}

<span class="hljs-comment">// å¤„ç†ç¼©æ”¾å˜åŒ–</span>
handleZoomChange() {
    <span class="hljs-keyword">const</span> config = <span class="hljs-keyword">this</span>.getCurrentZoomConfig();
    
    <span class="hljs-comment">// åªæœ‰å±‚çº§å˜åŒ–æ—¶æ‰é‡å»ºæ˜¾ç¤ºæ•°æ®</span>
    <span class="hljs-keyword">if</span> (config.level !== <span class="hljs-keyword">this</span>.currentZoomLevel) {
        <span class="hljs-keyword">this</span>.currentZoomLevel = config.level;
        <span class="hljs-keyword">this</span>.rebuildDisplayList();
    }
}

<span class="hljs-comment">// é‡å»ºæ˜¾ç¤ºæ•°æ®</span>
rebuildDisplayList() {
    <span class="hljs-keyword">const</span> config = <span class="hljs-keyword">this</span>.getCurrentZoomConfig();
    <span class="hljs-keyword">this</span>.displayList = [];
    <span class="hljs-keyword">this</span>.displaySet = new Set();
    
    <span class="hljs-keyword">if</span> (config.sampleRate &gt;= <span class="hljs-number">1</span>) {
        <span class="hljs-comment">// å…¨é‡æ˜¾ç¤ºæ¨¡å¼</span>
        <span class="hljs-keyword">this</span>.displayAllData(config);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æŠ½æ ·æ˜¾ç¤ºæ¨¡å¼</span>
        <span class="hljs-keyword">this</span>.displaySampledData(config);
    }
    
    <span class="hljs-keyword">this</span>.updateChart();
}

<span class="hljs-comment">// å…¨é‡æ˜¾ç¤ºï¼ˆé«˜ç²¾åº¦å»é‡ï¼‰</span>
displayAllData(config) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item of <span class="hljs-keyword">this</span>.allDeviceList) {
        <span class="hljs-keyword">const</span> key = <span class="hljs-keyword">this</span>.getDisplayKey(item, config);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.displaySet.has(key)) {
            <span class="hljs-keyword">this</span>.displaySet.add(key);
            <span class="hljs-keyword">this</span>.displayList.push(item);
        }
    }
}

<span class="hljs-comment">// æŠ½æ ·æ˜¾ç¤º</span>
displaySampledData(config) {
    <span class="hljs-keyword">const</span> step = Math.max(<span class="hljs-number">1</span>, Math.floor(<span class="hljs-number">1</span> / config.sampleRate));
    <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.allDeviceList.length; i += step) {
        <span class="hljs-keyword">const</span> item = <span class="hljs-keyword">this</span>.allDeviceList[i];
        <span class="hljs-keyword">const</span> key = <span class="hljs-keyword">this</span>.getDisplayKey(item, config);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.displaySet.has(key)) {
            <span class="hljs-keyword">this</span>.displaySet.add(key);
            <span class="hljs-keyword">this</span>.displayList.push(item);
        }
    }
}
</code></pre>
<h3 data-id="heading-11">ä¸‰ã€å…¶ä»–ä¼˜åŒ–æŠ€å·§</h3>
<h4 data-id="heading-12">3.1 å†…å­˜ç®¡ç†ä¼˜åŒ–</h4>
<p>javascript</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®</span>
setupMemoryManagement() {
    setInterval(() =&gt; {
        <span class="hljs-comment">// é™åˆ¶æ€»æ•°æ®é‡</span>
        <span class="hljs-keyword">const</span> maxTotal = <span class="hljs-number">150000</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.allDeviceList.length &gt; maxTotal) {
            <span class="hljs-keyword">const</span> removeCount = <span class="hljs-keyword">this</span>.allDeviceList.length - <span class="hljs-number">120000</span>;
            <span class="hljs-keyword">this</span>.allDeviceList.splice(<span class="hljs-number">0</span>, removeCount);
            
            <span class="hljs-comment">// æ¸…ç†ç›¸å…³ç¼“å­˜</span>
            <span class="hljs-keyword">this</span>.cleanCache();
            
            <span class="hljs-comment">// é‡å»ºæ˜¾ç¤º</span>
            <span class="hljs-keyword">this</span>.rebuildDisplayList();
        }
    }, <span class="hljs-number">30000</span>); <span class="hljs-comment">// æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡</span>
}

<span class="hljs-comment">// WebSocketæ•°æ®æµæ§</span>
setupWebSocketFlowControl() {
    let buffer = [];
    let processing = <span class="hljs-literal">false</span>;
    
    <span class="hljs-keyword">this</span>.ws.onmessage = (event) =&gt; {
        <span class="hljs-keyword">const</span> <span class="hljs-keyword">data</span> = JSON.parse(event.<span class="hljs-keyword">data</span>);
        buffer.push(...<span class="hljs-keyword">data</span>);
        
        <span class="hljs-comment">// æµé‡æ§åˆ¶ï¼šå¦‚æœç¼“å†²è¿‡å¤šï¼Œæš‚åœæ¥æ”¶</span>
        <span class="hljs-keyword">if</span> (buffer.length &gt; <span class="hljs-number">5000</span> &amp;&amp; !processing) {
            <span class="hljs-keyword">this</span>.ws.pause();
        }
        
        <span class="hljs-keyword">if</span> (!processing) {
            <span class="hljs-keyword">this</span>.processWebSocketBuffer();
        }
    };
}
</code></pre>
<h4 data-id="heading-13">3.2 æ€§èƒ½ç›‘æ§</h4>
<p>javascript</p>
<pre><code class="hljs language-ini" lang="ini">// æ·»åŠ æ€§èƒ½ç›‘æ§
setupPerformanceMonitor() {
    let <span class="hljs-attr">frames</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    let <span class="hljs-attr">lastTime</span> = performance.now()<span class="hljs-comment">;</span>
    
    const <span class="hljs-attr">monitor</span> = () =&gt; {
        frames++<span class="hljs-comment">;</span>
        const <span class="hljs-attr">currentTime</span> = performance.now()<span class="hljs-comment">;</span>
        
        if (currentTime - lastTime &gt;= 1000) {
            const <span class="hljs-attr">fps</span> = Math.round(frames * <span class="hljs-number">1000</span> / (currentTime - lastTime))<span class="hljs-comment">;</span>
            console.log(`å½“å‰FPS: ${fps}`)<span class="hljs-comment">;</span>
            
            // åŠ¨æ€è°ƒæ•´ç­–ç•¥
            this.adjustStrategyByFPS(fps)<span class="hljs-comment">;</span>
            
            <span class="hljs-attr">frames</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
            <span class="hljs-attr">lastTime</span> = currentTime<span class="hljs-comment">;</span>
        }
        
        requestAnimationFrame(monitor)<span class="hljs-comment">;</span>
    }<span class="hljs-comment">;</span>
    
    requestAnimationFrame(monitor)<span class="hljs-comment">;</span>
}

// æ ¹æ®FPSåŠ¨æ€è°ƒæ•´
adjustStrategyByFPS(fps) {
    if (fps &lt; 30) {
        // é™ä½æ¸²æŸ“è´¨é‡
        <span class="hljs-attr">this.frameInterval</span> = <span class="hljs-number">100</span><span class="hljs-comment">; // 10fps</span>
        <span class="hljs-attr">this.batchSize</span> = <span class="hljs-number">50</span><span class="hljs-comment">;</span>
    } else if (fps &gt; 50) {
        // æé«˜æ¸²æŸ“è´¨é‡
        <span class="hljs-attr">this.frameInterval</span> = <span class="hljs-number">33</span><span class="hljs-comment">; // 30fps</span>
        <span class="hljs-attr">this.batchSize</span> = <span class="hljs-number">150</span><span class="hljs-comment">;</span>
    }
}
</code></pre>
<h3 data-id="heading-14">å››ã€æ•ˆæœå¯¹æ¯”</h3>
<h4 data-id="heading-15">ä¼˜åŒ–å‰ï¼š</h4>
<ul>
<li>3ä¸‡æ•°æ®å¼€å§‹å¡é¡¿</li>
<li>å†…å­˜å ç”¨500MB+</li>
<li>ç¼©æ”¾æ“ä½œå»¶è¿Ÿæ˜æ˜¾</li>
<li>åŠ¨ç”»æ‰å¸§ä¸¥é‡</li>
</ul>
<h4 data-id="heading-16">ä¼˜åŒ–åï¼š</h4>
<ul>
<li>12ä¸‡æ•°æ®æµç•…è¿è¡Œ</li>
<li>å†…å­˜æ§åˆ¶åœ¨200MBä»¥å†…</li>
<li>ç¼©æ”¾æ“ä½œæµç•…</li>
<li>ä¿æŒ30fpsä»¥ä¸ŠåŠ¨ç”»</li>
</ul>
<h3 data-id="heading-17">äº”ã€æ€»ç»“</h3>
<p>é€šè¿‡åˆ†å±‚ç­–ç•¥ä¼˜åŒ–ï¼Œæˆ‘ä»¬æˆåŠŸå®ç°äº†ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½æ˜¾ç¤º</strong>ï¼šæ ¹æ®ç¼©æ”¾çº§åˆ«åŠ¨æ€è°ƒæ•´æ˜¾ç¤ºç­–ç•¥</li>
<li><strong>æ€§èƒ½å¹³è¡¡</strong>ï¼šåœ¨è§†è§‰æ•ˆæœå’Œæ€§èƒ½ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹</li>
<li><strong>å†…å­˜æ§åˆ¶</strong>ï¼šæœ‰æ•ˆç®¡ç†å¤§é‡æ•°æ®çš„å†…å­˜å ç”¨</li>
<li><strong>æµç•…åŠ¨ç”»</strong>ï¼šä¿æŒé«˜å¸§ç‡çš„åŠ¨ç”»æ•ˆæœ</li>
</ol>
<p>è¿™ç§åˆ†å±‚ç­–ç•¥ä¸ä»…é€‚ç”¨äºåœ°å›¾å¯è§†åŒ–ï¼Œä¹Ÿå¯ä»¥æ‰©å±•åˆ°å…¶ä»–å¤§è§„æ¨¡æ•°æ®å¯è§†åŒ–åœºæ™¯ä¸­ã€‚å…³é”®æ€æƒ³æ˜¯ï¼š<strong>ä¸åŒè§†è§’éœ€è¦ä¸åŒç²¾åº¦çš„æ•°æ®å±•ç¤º</strong>ã€‚</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fecharts.apache.org%2Fzh%2Findex.html" target="_blank" title="https://echarts.apache.org/zh/index.html" ref="nofollow noopener noreferrer">ECharts å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWebGL_API" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API" ref="nofollow noopener noreferrer">WebGLå¤§è§„æ¨¡æ•°æ®æ¸²æŸ“ä¼˜åŒ–</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fweb%2Ffundamentals%2Fperformance%2Frendering" target="_blank" title="https://developers.google.com/web/fundamentals/performance/rendering" ref="nofollow noopener noreferrer">æ•°æ®å¯è§†åŒ–æ€§èƒ½ä¼˜åŒ–æŒ‡å—</a></li>
</ul>
<p>text</p>
<pre><code class="hljs language-markdown" lang="markdown">è¿™ä¸ªç‰ˆæœ¬ä¼˜åŒ–äº†ï¼š
<span class="hljs-bullet">1.</span> å¢åŠ äº†æŠ€æœ¯æ·±åº¦å’Œå®æˆ˜ç»éªŒåˆ†äº«
<span class="hljs-bullet">2.</span> å®Œå–„äº†ä»£ç æ³¨é‡Šå’Œè¯´æ˜
<span class="hljs-bullet">3.</span> æ·»åŠ äº†æ€§èƒ½å¯¹æ¯”å’Œæ€»ç»“
<span class="hljs-bullet">4.</span> é€‚åˆæ˜é‡‘å¹³å°çš„é˜…è¯»ä½“éªŒ
<span class="hljs-bullet">5.</span> å¢åŠ äº†æ€è€ƒé¢˜ï¼Œä¿ƒè¿›äº’åŠ¨
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆæˆ‘åŠä½ æ…ç”¨ Next.js App Routerï¼šä¸€åœºæ¶æ„è®¾è®¡çš„â€œè¿‡åº¦ç‹‚æ¬¢â€]]></title>    <link>https://juejin.cn/post/7598071804971057190</link>    <guid>https://juejin.cn/post/7598071804971057190</guid>    <pubDate>2026-01-23T03:15:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598071804971057190" data-draft-id="7598021984300761115" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆæˆ‘åŠä½ æ…ç”¨ Next.js App Routerï¼šä¸€åœºæ¶æ„è®¾è®¡çš„â€œè¿‡åº¦ç‹‚æ¬¢â€"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js"/> <meta itemprop="datePublished" content="2026-01-23T03:15:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Agions"/> <meta itemprop="url" content="https://juejin.cn/user/360295545187751"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆæˆ‘åŠä½ æ…ç”¨ Next.js App Routerï¼šä¸€åœºæ¶æ„è®¾è®¡çš„â€œè¿‡åº¦ç‹‚æ¬¢â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/360295545187751/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Agions
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:15:14.000Z" title="Fri Jan 23 2026 03:15:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šå½“å‰ç«¯å·¥ç¨‹å¸ˆä»¬å®¡è§†è¿™ä¸¤å¹´çš„æŠ€æœ¯æ¼”å˜ï¼Œä¼šå‘ç° Next.js ä¼¼ä¹æŠŠæˆ‘ä»¬å¸¦è¿›äº†ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„è¿·å®«ã€‚ä» Server Components çš„â€œå¼ºåˆ¶æ¨é”€â€ï¼Œåˆ°é»˜è®¤ç¼“å­˜æœºåˆ¶çš„â€œç„å­¦é»‘ç®±â€ã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯å®ç°ä¸å¼€å‘ä½“éªŒçš„è§’åº¦ï¼Œæ·±åº¦å‰–æ App Router æ˜¯å¦‚ä½•æŠŠç®€å•é—®é¢˜å¤æ‚åŒ–çš„ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">01. â€œæˆ‘åªæ˜¯æƒ³å†™ä¸ª Dashboardï¼Œä½ ä¸ºä»€ä¹ˆè®©æˆ‘å­¦åˆ†å¸ƒå¼ç³»ç»Ÿï¼Ÿâ€</h2>
<p>æ›¾ç»çš„ Next.js æ˜¯â€œå¼€ç®±å³ç”¨â€çš„ä»£åè¯ã€‚
ä½†ç°åœ¨çš„ App Routerï¼Œè®©æ¯ä¸€ä¸ªæ–°é¡¹ç›®çš„å¯åŠ¨éƒ½åƒæ˜¯ä¸€åœºæ¶æ„è€ƒè¯•ã€‚</p>
<p><strong>ä»â€œå†™ä»£ç â€å˜æˆâ€œå†™é…ç½®â€</strong>
å½“ä½ åªæ˜¯æƒ³å¿«é€Ÿæ­ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œä½ ç«‹åˆ»ä¼šæ’ä¸Šç¬¬ä¸€å µå¢™ï¼š<strong>ç»„ä»¶æ¸²æŸ“è¾¹ç•Œçš„å‰²è£‚</strong>ã€‚</p>
<p>æƒ³å¼•ä¸ª Ant Design æˆ–è€… Material UI çš„ <code>Button</code> ç»„ä»¶ï¼Ÿ
æŠ¥é”™ï¼š<strong><code>Error: createContext only works in Client Components</code></strong>ã€‚
åŸå› å¾ˆç®€å•ï¼šè¿™äº› UI åº“æ™®éä½¿ç”¨äº† <code>Context</code>ï¼Œè€Œ Server Components ä¸æ”¯æŒã€‚
è§£å†³æ–¹æ¡ˆå¬èµ·æ¥å¾ˆå®¹æ˜“ï¼šâ€œåœ¨æ–‡ä»¶å¤´åŠ  <code>"use client"</code>â€ã€‚</p>
<p>ä½†äº‹æƒ…æ²¡é‚£ä¹ˆç®€å•ã€‚
ä¸ºäº†èƒ½åœ¨ Server Component çš„å¸ƒå±€ï¼ˆLayoutï¼‰é‡Œä½¿ç”¨ Redux æˆ– ThemeProviderï¼Œä½ ä¸èƒ½ç›´æ¥åŒ…ä¸€å±‚ã€‚ä½ å¿…é¡»åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ <code>Providers.tsx</code> æ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰ Context é€»è¾‘å¡è¿›å»ï¼Œæ ‡è®°ä¸º Client Componentï¼Œç„¶åå†å¯¼å‡ºæ¥ç»™ Layout ä½¿ç”¨ã€‚</p>
<p><strong>ä»£ç ç»“æ„ç¬é—´å˜æˆäº†â€œä¿„ç½—æ–¯å¥—å¨ƒâ€</strong>ã€‚ä¸ºäº†ç»•è¿‡ RSCï¼ˆReact Server Componentsï¼‰çš„é™åˆ¶ï¼Œæˆ‘ä»¬è¢«è¿«åˆ›é€ äº†æ— æ•°å±‚ä»…ä¸ºäº†â€œä¸­è½¬â€çš„ Wrapper ç»„ä»¶ã€‚å‰¥å¼€è¿™åå±‚åŒ…è£…çº¸ï¼Œé‡Œé¢å¯èƒ½åªæ˜¯ä¸ºäº†æ¸²æŸ“ä¸€ä¸ªæ™®é€šçš„ <code>&lt;div /&gt;</code>ã€‚</p>
<h2 data-id="heading-1">02. ç¼“å­˜ç„å­¦ï¼šé»˜è®¤è¡Œä¸ºçš„å‚²æ…¢</h2>
<p>Next.js åœ¨ App Router ä¸­å¼•å…¥äº†æå…¶æ¿€è¿›çš„ç¼“å­˜ç­–ç•¥ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>fetch</code> è¯·æ±‚è¢«è§†ä¸ºé™æ€çš„ï¼Œå¹¶ä¸”ä¼š<strong>æ°¸ä¹…ç¼“å­˜</strong>ã€‚</p>
<p>è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªç»å…¸çš„â€œé¬¼æ•…äº‹â€ï¼š
ä½ æ”¹äº†æ•°æ®åº“çš„é…ç½®ï¼Œåˆ·æ–°é¡µé¢ï¼Œæ•°æ®æ²¡å˜ã€‚
ä½ é‡å¯äº†æœåŠ¡å™¨ï¼Œæ•°æ®è¿˜æ˜¯æ²¡å˜ã€‚
ä½ ç”šè‡³åˆ äº† <code>.next</code> æ–‡ä»¶å¤¹é‡æ–° buildï¼Œæ•°æ®å¯èƒ½è¿˜åœ¨ï¼ˆå› ä¸ºç”±ä¸Šæ¸¸ CDN æˆ– ISR ç¼“å­˜äº†ï¼‰ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ ä¸å¾—ä¸å°å¿ƒç¿¼ç¿¼åœ°åœ¨æ¯ä¸€ä¸ª <code>fetch</code> é‡ŒåŠ  <code>{ cache: 'no-store' }</code>ï¼Œæˆ–è€…å»é…ç½®é‚£ä¸ªå¤æ‚çš„ <code>revalidatePath</code> å’Œ <code>revalidateTag</code>ã€‚
<strong>å¼€å‘è€…å¿ƒæ™ºè´Ÿæ‹…æˆå€å¢åŠ </strong>ã€‚ä½ ä¸å†æ˜¯åœ¨å†™ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯åœ¨è·Ÿæ¡†æ¶çš„ç¼“å­˜æœºåˆ¶åšå¼ˆã€‚ä½ æ„Ÿè§‰è‡ªå·±ä¸æ˜¯åœ¨å†™å‰ç«¯ï¼Œè€Œæ˜¯åœ¨é…ç½®å¤æ‚çš„ CDN è§„åˆ™ã€‚</p>
<h2 data-id="heading-2">03. RSCï¼šæ€é¸¡ç„‰ç”¨ç‰›åˆ€ï¼Ÿ</h2>
<p>React Server Components (RSC) æ— ç–‘æ˜¯ä¸€ä¸ªæŠ€æœ¯ä¸Šçš„åˆ›æ–°ã€‚
<strong>ä½†å®ƒè§£å†³äº†è°çš„é—®é¢˜ï¼Ÿ</strong></p>
<p>å®ƒè§£å†³çš„æ˜¯åƒ Facebook è¿™æ ·æ‹¥æœ‰äº¿çº§ç”¨æˆ·ã€æè‡´è¿½æ±‚é¦–å±æ¯«ç§’çº§åŠ è½½ã€ä¸”äº¤äº’æå…¶å¤æ‚çš„åº”ç”¨çš„é—®é¢˜ã€‚
ä½†å¯¹äº 99% çš„æ™®é€šåº”ç”¨ï¼ˆä¼ä¸šå®˜ç½‘ã€SaaS åå°ã€ä¸ªäººåšå®¢ã€å†…éƒ¨å·¥å…·ï¼‰ï¼Œ<strong>å¼•å…¥ RSC å¸¦æ¥çš„å¤æ‚åº¦æˆæœ¬ï¼Œè¿œè¿œè¶…è¿‡äº†å®ƒèŠ‚çœçš„é‚£å‡  KB ä¼ è¾“ä½“ç§¯ã€‚</strong></p>
<p>è¿™å°±å¥½æ¯”ï¼š<strong>ä½ è¦å»æ¥¼ä¸‹ä¾¿åˆ©åº—ä¹°ç“¶æ°´ï¼ŒNext.js ç»™ä½ æ´¾äº†ä¸€è¾†F1èµ›è½¦ã€‚</strong>
å¾ˆå¿«ï¼Œæ˜¯å¾ˆé…·ã€‚ä½†ä½ éœ€è¦ä¸€æ”¯ä¸“ä¸šçš„ç»´ä¿®å›¢é˜Ÿæ¥ç»´æŠ¤è¿™è¾†è½¦ï¼Œä½ éœ€è¦è€ƒèµ›è½¦é©¾ç…§ï¼Œè€Œä¸”è¿™è¾†è½¦è¿˜æ²¡æœ‰å€’æŒ¡ã€‚</p>
<p>å¯¹äºå¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼Œä¼ ç»Ÿçš„ SPAï¼ˆå•é¡µåº”ç”¨ï¼‰æˆ–è€…ç®€å•çš„ SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰å·²ç»è¶³å¤Ÿå¥½ç”¨äº†ã€‚ä¸ºäº†è¿½æ±‚é‚£ç†è®ºä¸Šçš„â€œæè‡´æ€§èƒ½â€ï¼Œç‰ºç‰²äº†åŸæœ¬æµç•…çš„å¼€å‘ä½“éªŒï¼ˆDXï¼‰ï¼Œè¿™ç¬”è´¦çœŸçš„åˆ’ç®—å—ï¼Ÿ</p>
<h2 data-id="heading-3">04. å•†ä¸šæ¨¡å¼ä¸æŠ€æœ¯å¯¼å‘çš„å†²çª</h2>
<p>æˆ‘ä»¬ä¸å¾—ä¸å®¡è§† Next.js èƒŒåçš„æ¨æ‰‹ Vercel çš„å•†ä¸šæ¨¡å¼ã€‚
ä½œä¸ºä¸€ä¸ªå•†ä¸šå…¬å¸ï¼ŒVercel çš„æ ¸å¿ƒæ”¶å…¥æ¥æºäº<strong>è®¡ç®—èµ„æºçš„å”®å–</strong>ã€‚</p>
<p>å¦‚æœå¤§å®¶éƒ½å†™ SPAï¼ˆå•é¡µåº”ç”¨ï¼‰ï¼Œæ„å»ºå‡ºæ¥å°±æ˜¯ä¸€å †é™æ€ HTML/JS/CSSã€‚è¿™ç§é™æ€æ–‡ä»¶ï¼Œæ‰˜ç®¡æˆæœ¬æä½ï¼Œç”šè‡³å¯ä»¥åœ¨å¾ˆå¤šå¹³å°ä¸Šå…è´¹æ‰˜ç®¡ã€‚
<strong>è¿™å¯¹äº‘å‚å•†æ¥è¯´ï¼Œä¸ä»…åˆ©æ¶¦å¾®è–„ï¼Œè€Œä¸”ç¼ºä¹ç²˜æ€§ã€‚</strong></p>
<p>ä½†å¦‚æœä½ ç”¨äº† App Routerï¼Œç”¨äº† Server Actionsï¼Œç”¨äº† RSCã€‚
ä½ çš„æ¯ä¸€æ¬¡é¡µé¢è®¿é—®ï¼Œæ¯ä¸€ä¸ªäº¤äº’ï¼Œéƒ½åœ¨<strong>æ¶ˆè€—æœåŠ¡å™¨ç®—åŠ›</strong>ã€‚è¿™æ„å‘³ç€ä½ éœ€è¦ Serverless Functionï¼Œéœ€è¦ Edge Middlewareã€‚
è€Œè¿™äº›ï¼Œæ­£æ˜¯ Vercel è¿™ç§å¹³å°çš„æ ¸å¿ƒæ”¶è´¹ç‚¹ã€‚</p>
<p><strong>Next.js æ­£åœ¨æ½œç§»é»˜åŒ–åœ°æŠŠç®€å•çš„å‰ç«¯é€»è¾‘â€œåç«¯åŒ–â€ã€‚</strong>
å®ƒè¯±å¯¼å¼€å‘è€…æŠŠèƒ½åœ¨æµè§ˆå™¨é‡Œè·‘çš„ä»£ç ï¼ˆå®¢æˆ·ç«¯å…è´¹ç®—åŠ›ï¼‰ï¼ŒæŒªåˆ°æœåŠ¡å™¨ä¸Šè·‘ï¼ˆä»˜è´¹ç®—åŠ›ï¼‰ã€‚è¿™åœ¨æŠ€æœ¯ä¸Šæˆ–è®¸è¯´æ˜¯â€œä¸ºäº†æ€§èƒ½â€ï¼Œä½†åœ¨å•†ä¸šä¸Šï¼Œè¿™æ— ç–‘æ˜¯ä¸€åœºç²¾å¦™çš„å¸ƒå±€ã€‚</p>
<h2 data-id="heading-4">05. ç»“è¯­ï¼šå›å½’ç®€å•çš„åŠ›é‡</h2>
<p>ç°åœ¨çš„ Next.jsï¼Œå·²ç»ä¸å†æ˜¯ä¸€ä¸ªå•çº¯çš„ UI æ¡†æ¶äº†ã€‚å®ƒåºå¤§å¾—åƒä¸ªæ“ä½œç³»ç»Ÿã€‚
å®ƒæœ‰è‡ªå·±çš„ç¼–è¯‘å™¨ï¼ˆTurbopackï¼‰ï¼Œæœ‰è‡ªå·±çš„ç¼“å­˜å±‚ï¼Œæœ‰è‡ªå·±çš„è·¯ç”±é€»è¾‘ï¼Œç”šè‡³æƒ³é€šè¿‡ Server Actions æ¥ç®¡ä½ çš„æ•°æ®åº“è®¿é—®ã€‚</p>
<p>å¦‚æœä½ æ„Ÿåˆ°äº†ç–²æƒ«ï¼Œå¦‚æœä½ å‘ç°å†™ä»£ç çš„æ—¶é—´é‡Œï¼Œæœ‰ 80% åœ¨å¤„ç† Hydration Errorã€Waterfall Request å’Œ Cold Startã€‚
é‚£ä¹ˆï¼Œæ˜¯æ—¶å€™å›å¤´çœ‹çœ‹äº†ã€‚</p>
<p><strong>Vite + React Router</strong> ä¾ç„¶é¦™å¾—ä¸€å¡Œç³Šæ¶‚ï¼Œç®€å•çº¯ç²¹ã€‚
<strong>HTMX + Go/Python/Rust</strong> æ­£åœ¨å›å½’ HTML çš„æœ¬æºã€‚
ç”šè‡³ <strong>SvelteKit</strong> å’Œ <strong>Astro</strong>ï¼Œéƒ½æ¯”ç°åœ¨çš„ Next.js æ›´åƒâ€œä¸ºäººæœåŠ¡çš„å·¥å…·â€ã€‚</p>
<p>æŠ€æœ¯æœ¬è¯¥è®©å¼€å‘æ›´ç®€å•ï¼Œè€Œä¸æ˜¯æ›´è®©äººå¤´ç§ƒã€‚
<strong>ç®€å•ï¼Œæ‰æ˜¯æœ€é«˜çš„â€œé²æ£’æ€§â€ã€‚</strong></p>
<hr/>
<p><em>ä½ è¢« Next.js çš„æŠ¥é”™æŠ˜ç£¨è¿‡å—ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„è¸©å‘ç»å†ï¼</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Unity UIäº‹ä»¶çš„æ‹“å±•ä¸åº”ç”¨]]></title>    <link>https://juejin.cn/post/7598024433912315958</link>    <guid>https://juejin.cn/post/7598024433912315958</guid>    <pubDate>2026-01-23T02:59:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598024433912315958" data-draft-id="7597905961664020486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Unity UIäº‹ä»¶çš„æ‹“å±•ä¸åº”ç”¨"/> <meta itemprop="keywords" content="Unity3D,å‰ç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-23T02:59:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è·Ÿç€ç¾¤ä¸»å»åƒè‚‰"/> <meta itemprop="url" content="https://juejin.cn/user/224735056369213"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Unity UIäº‹ä»¶çš„æ‹“å±•ä¸åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/224735056369213/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è·Ÿç€ç¾¤ä¸»å»åƒè‚‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T02:59:25.000Z" title="Fri Jan 23 2026 02:59:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>Â  Â  Â  Â Unityæœ¬èº«çš„UIäº‹ä»¶ç›‘å¬æœºåˆ¶æ²¡åŠæ³•ä¼ é€’é¢å¤–çš„æ•°æ®ï¼Œè€Œæˆ‘ä»¬åœ¨æ¸¸æˆå®é™…å¼€å‘ä¸­ç»å¸¸éœ€è¦ä¼ é€’äº‹ä»¶çš„ä¸šåŠ¡æ•°æ®ï¼Œä»¥æ–¹ä¾¿ä¸šåŠ¡åŠŸèƒ½çš„å¼€å‘ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œå¦‚æœè¿™ä¸ªæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ä¸­èƒ½ä¼ é€’æˆ‘ä»¬çš„è‡ªå®šä¹‰æ•°æ®ï¼Œä¾‹å¦‚æšä¸¾ï¼Œé‚£å²‚ä¸æ˜¯æ›´åŠ æœ‰æ•ˆçš„æé«˜å¼€å‘æ•ˆç‡å’Œä»£ç çš„å¯è¯»æ€§ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å¯¹Unity UIäº‹ä»¶è¿›è¡Œä¸€ä¸ªæ‰©å±•ï¼Œä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€UIäº‹ä»¶æ•°æ®çš„è®¾è®¡</h3>
<p>Â  Â  Â  Â Unity åŸæœ¬ä¹Ÿæä¾›äº†UIäº‹ä»¶çš„æ•°æ®ç»“æ„ä¼ é€’ï¼Œä½†å®ƒä¸æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚æˆ‘ä»¬éœ€è¦åœ¨ä¸æ”¹å˜å®ƒåŸæœ‰çš„ä¼ é€’ç»“æ„ä¸ŠåŠ ä¸Šæˆ‘ä»¬çš„è‡ªå®šä¹‰æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œå¦‚UIEventDataã€‚è¿™ä¸ªç±»æœ‰æˆ‘ä»¬è‡ªå®šä¹‰çš„æ•°æ®ç»“æ„ï¼Œå®ƒä¹ŸæŠŠåŸæœ¬çš„äº‹ä»¶æ•°æ®åŒ…å«è¿›æ¥ï¼Œå“åº”äº‹ä»¶æ—¶ä¼ é€’è¿™ä¸ªç±»å°±è¡Œã€‚è¿™ä¸ªç±»çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<p>UIEventData.cs</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> UnityEngine.UI;
<span class="hljs-keyword">using</span> UnityEngine.EventSystems;
<span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Simple.UI</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UIEventData</span>
    {
        <span class="hljs-keyword">public</span> PointerEventData PointerData;
        <span class="hljs-keyword">public</span> <span class="hljs-built_in">object</span> OtherData;
        
    }
}
</code></pre>
<h3 data-id="heading-2">äºŒã€UIäº‹ä»¶ç›‘å¬å™¨çš„è®¾è®¡</h3>
<p>Â  Â  Â  Â Unity åŸæœ¬æä¾›äº†å„ç§UIäº‹ä»¶çš„ç›‘å¬ï¼Œä¾‹å¦‚OnPointerDownã€OnPointerUpç­‰ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ”¹å˜å®ƒä»¬çš„ç›‘å¬é€»è¾‘ï¼Œåªéœ€è¦åœ¨å®ƒçš„ç›‘å¬é€»è¾‘ä¹‹ååŠ å…¥æˆ‘ä»¬çš„è‡ªå®šä¹‰æ•°æ®ï¼Œç„¶åå‘ä¸Šä¼ é€’äº‹ä»¶å³å¯ã€‚è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªUIListenerï¼Œå®ƒç»§æ‰¿è‡ªEventTriggerï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">using System<span class="hljs-comment">;</span>
using UnityEngine<span class="hljs-comment">;</span>
using UnityEngine.EventSystems<span class="hljs-comment">;</span>
using System.Collections.Generic<span class="hljs-comment">;</span>
using UnityEngine.UI<span class="hljs-comment">;</span>

namespace Simple.UI
{    
    /// &lt;summary&gt;
    /// UIäº‹ä»¶ç›‘å¬å™¨
    /// &lt;/summary&gt;
    public class UIListener : EventTrigger
    {
        public UIEventData EventData { private set<span class="hljs-comment">; get; }//æˆ‘ä»¬è‡ªå®šä¹‰çš„äº‹ä»¶æ•°æ®</span>
        public Action&lt;UIEventData&gt; OnClickDown<span class="hljs-comment">;//è‡ªå®šä¹‰ä¸Šå‘ä¸Šä¼ é€’çš„äº‹ä»¶</span>
        public Action&lt;UIEventData&gt; OnClickUp<span class="hljs-comment">;</span>
        public Action&lt;UIEventData&gt; OnClick<span class="hljs-comment">;</span>
        public Action&lt;UIEventData&gt; OnStartDrag<span class="hljs-comment">;</span>
        public Action&lt;UIEventData&gt; OnOverDrag<span class="hljs-comment">;</span>
        public Action&lt;UIEventData&gt; OnDraging<span class="hljs-comment">;</span>
        public Action&lt;UIEventData&gt; OnDroping<span class="hljs-comment">;</span>
        private bool <span class="hljs-attr">_interactable</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;//æ˜¯å¦å¯äº¤äº’        </span>

        //goä¸ºuiå¯¹è±¡ï¼Œå¦‚button\imageç­‰ï¼ŒeventDataä¸ºå®‰éœ€è¦è‡ªå®šä¹‰çš„å¤–éƒ¨æ•°æ®
        public static UIListener Get(GameObject go, object eventData)
        {
            UIListener <span class="hljs-attr">listener</span> = go.GetComponent&lt;UIListener&gt;()<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">listener</span> == null)
                <span class="hljs-attr">listener</span> = go.AddComponent&lt;UIListener&gt;()<span class="hljs-comment">;//åŠ å…¥ç›‘å¬å™¨</span>
            <span class="hljs-attr">listener.EventData</span> = new UIEventData()<span class="hljs-comment">;</span>
            <span class="hljs-attr">listener.EventData.OtherData</span> = eventData<span class="hljs-comment">;//ä¿å­˜è‡ªå®šä¹‰æ•°æ®</span>
            return listener<span class="hljs-comment">;</span>
        }

        public static UIListener Get(Transform t, object eventData)
        {
            return Get(t.gameObject, eventData)<span class="hljs-comment">;</span>
        }

        public static UIListener Get(Component c, object eventData)
        {
            return Get(c.gameObject, eventData)<span class="hljs-comment">;</span>
        }
        /// &lt;summary&gt;
        /// è®¾ç½®æ˜¯å¦å¯ä»¥äº¤äº’
        /// &lt;/summary&gt;
        /// &lt;param <span class="hljs-attr">name</span>=<span class="hljs-string">"interactable"</span>&gt;&lt;/param&gt;
        public void SetInteractable(bool interactable)
        {
            <span class="hljs-attr">_interactable</span> = interactable<span class="hljs-comment">;</span>
        }



        void OnDestroy()
        {
            <span class="hljs-attr">OnClickDown</span> = null<span class="hljs-comment">;</span>
            <span class="hljs-attr">OnClickUp</span> = null<span class="hljs-comment">;</span>
            <span class="hljs-attr">OnClick</span> = null<span class="hljs-comment">;</span>
            <span class="hljs-attr">OnStartDrag</span> = null<span class="hljs-comment">;</span>
            <span class="hljs-attr">OnOverDrag</span> = null<span class="hljs-comment">;</span>
            <span class="hljs-attr">OnDraging</span> = null<span class="hljs-comment">;</span>
            <span class="hljs-attr">OnDroping</span> = null<span class="hljs-comment">;</span>
            triggers.Clear()<span class="hljs-comment">;</span>
        }
        //é‡å†™äº‹ä»¶ä¼ é€’é€»è¾‘
        public override void OnPointerDown(PointerEventData eventData)
        {
            if (!_interactable)
                return<span class="hljs-comment">;</span>

            base.OnPointerDown(eventData)<span class="hljs-comment">;</span>
            <span class="hljs-attr">EventData.PointerData</span> = eventData<span class="hljs-comment">;//ä¿å­˜unityçš„äº‹ä»¶æ•°æ®</span>
            OnClickDown?.Invoke(EventData)<span class="hljs-comment">;//å‘ä¸Šä¼ é€’äº‹ä»¶         </span>
            
        }
        
        public override void OnPointerUp(PointerEventData eventData)
        {
            if(!_interactable) return<span class="hljs-comment">;</span>

            base.OnPointerUp(eventData)<span class="hljs-comment">;</span>
            <span class="hljs-attr">EventData.PointerData</span> = eventData<span class="hljs-comment">;</span>
            OnClickUp?.Invoke(EventData)<span class="hljs-comment">;            </span>
        }
        
        public override void OnPointerClick(PointerEventData eventData)
        {
            if (!_interactable) return<span class="hljs-comment">;</span>

            base.OnPointerClick(eventData)<span class="hljs-comment">;</span>
            <span class="hljs-attr">EventData.PointerData</span> = eventData<span class="hljs-comment">;</span>
            OnClick?.Invoke(EventData)<span class="hljs-comment">;</span>
        }
        
        public override void OnBeginDrag(PointerEventData eventData)
        {
            if (!_interactable) return<span class="hljs-comment">;</span>

            base.OnBeginDrag(eventData)<span class="hljs-comment">;</span>
            <span class="hljs-attr">EventData.PointerData</span> = eventData<span class="hljs-comment">;</span>
            OnStartDrag?.Invoke(EventData)<span class="hljs-comment">;</span>

            _clickDownCount++<span class="hljs-comment">;</span>
        }
        
        public override void OnEndDrag(PointerEventData eventData)
        {
            if (!_interactable) return<span class="hljs-comment">;</span>

            base.OnEndDrag(eventData)<span class="hljs-comment">;</span>
            <span class="hljs-attr">EventData.PointerData</span> = eventData<span class="hljs-comment">;</span>
            OnOverDrag?.Invoke(EventData)<span class="hljs-comment">;         </span>
        }
        
        public override void OnDrag(PointerEventData eventData)
        {
            if (!_interactable) return<span class="hljs-comment">;</span>

            base.OnDrag(eventData)<span class="hljs-comment">;</span>
            <span class="hljs-attr">EventData.PointerData</span> = eventData<span class="hljs-comment">;</span>
            OnDraging?.Invoke(EventData)<span class="hljs-comment">;</span>
        }
        
        //public override void OnDrop(PointerEventData eventData)
        //{
        //    base.OnDrop(eventData)<span class="hljs-comment">;</span>
        //    <span class="hljs-attr">EventData.PointerData</span> = eventData<span class="hljs-comment">;</span>
        //    OnDraging?.Invoke(EventData)<span class="hljs-comment">;</span>
        //}
    }
}
</code></pre>
<h3 data-id="heading-3">ä¸‰ã€ç›‘å¬å™¨çš„åº”ç”¨</h3>
<p>Â  Â  Â  Â æˆ‘ä»¬ä»¥ä¸€ä¸ªåˆ‡æ¢æ¸¸æˆè¯­è¨€çš„ä¾‹å­æ¥è¯´æ˜æ‹“å±•åçš„äº‹ä»¶ç›‘å¬å™¨å¦‚ä½•åº”ç”¨ã€‚é¦–å…ˆæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè¯­è¨€æšä¸¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">public enum LangTypeEnum
{
    <span class="hljs-attr">none</span> = <span class="hljs-number">0</span>,
    <span class="hljs-attr">English</span> = <span class="hljs-number">1</span>,
    <span class="hljs-attr">ChineseSimplified</span> = <span class="hljs-number">2</span>,
    <span class="hljs-attr">ChineseTraditional</span> = <span class="hljs-number">3</span>,
    <span class="hljs-attr">French</span> = <span class="hljs-number">4</span>,
    <span class="hljs-attr">German</span> = <span class="hljs-number">5</span>,
    <span class="hljs-attr">Italian</span> = <span class="hljs-number">6</span>,
    <span class="hljs-attr">Japanese</span> = <span class="hljs-number">7</span>,
    <span class="hljs-attr">Dutch</span> = <span class="hljs-number">8</span>,
    <span class="hljs-attr">Spanish</span> = <span class="hljs-number">9</span>,
    <span class="hljs-attr">Portuguese</span> = <span class="hljs-number">10</span>,
    <span class="hljs-attr">Hebrew</span> = <span class="hljs-number">11</span>,
    <span class="hljs-attr">Russia</span> = <span class="hljs-number">12</span>,
    <span class="hljs-attr">Danish</span> = <span class="hljs-number">13</span>,
    <span class="hljs-attr">Norwegian</span> = <span class="hljs-number">14</span>,
    <span class="hljs-attr">Finnish</span> = <span class="hljs-number">15</span>,
    <span class="hljs-attr">Swedish</span> = <span class="hljs-number">16</span>,
    <span class="hljs-attr">Hindi</span> = <span class="hljs-number">17</span>,
    <span class="hljs-attr">Bengali</span> = <span class="hljs-number">18</span>,
    <span class="hljs-attr">Turkish</span> = <span class="hljs-number">19</span>,
    <span class="hljs-attr">Indonesian</span> = <span class="hljs-number">20</span>,
    <span class="hljs-attr">Filipino</span> = <span class="hljs-number">21</span>,
    <span class="hljs-attr">Thai</span> = <span class="hljs-number">22</span>,
    <span class="hljs-attr">Malay</span> = <span class="hljs-number">23</span>,
    <span class="hljs-attr">Arabic</span> = <span class="hljs-number">24</span>,
    <span class="hljs-attr">Vietnamese</span> = <span class="hljs-number">25</span>,
    <span class="hljs-attr">Ukrainian</span> = <span class="hljs-number">26</span>,
    <span class="hljs-attr">Korean</span> = <span class="hljs-number">27</span>,
    <span class="hljs-attr">Czech</span> = <span class="hljs-number">28</span>,
    <span class="hljs-attr">Polish</span> = <span class="hljs-number">29</span>,
    <span class="hljs-attr">Slovak</span> = <span class="hljs-number">30</span>,
    <span class="hljs-attr">Slovenian</span> = <span class="hljs-number">31</span>,
    <span class="hljs-attr">Hungarian</span> = <span class="hljs-number">32</span>,
    <span class="hljs-attr">Romanian</span> = <span class="hljs-number">33</span>,
    <span class="hljs-attr">Greek</span> = <span class="hljs-number">34</span>,
    <span class="hljs-attr">Croatian</span> = <span class="hljs-number">35</span>,
    <span class="hljs-attr">Bulgarian</span> = <span class="hljs-number">36</span>,

}
</code></pre>
<p>Â  Â  Â  Â ç„¶åæˆ‘ä»¬åœ¨æ¸¸æˆçš„è¯­è¨€è®¾ç½®ç•Œé¢ä¸Šï¼Œå½“ç‚¹å‡»å¯¹åº”çš„è¯­è¨€æŒ‰é’®æ—¶ä¼ å…¥ç›¸å…³çš„è¯­è¨€æšä¸¾ï¼Œä»¥å®ç°æ¸¸æˆè¯­è¨€çš„åˆ‡æ¢ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">using System.Collections<span class="hljs-comment">;</span>
using System.Collections.Generic<span class="hljs-comment">;</span>
using UnityEngine<span class="hljs-comment">;</span>
using UnityEngine.UI<span class="hljs-comment">;</span>
using Simple.UI<span class="hljs-comment">;</span>
using System<span class="hljs-comment">;</span>

namespace Gamelogic
{

    /// &lt;summary&gt;
    /// è®¾ç½®ç•Œé¢ç»‘å®š
    /// &lt;/summary&gt;
    public class UIStageSettingsBinder : MonoBehaviour
    {
      
        private LangTypeEnum <span class="hljs-attr">_curLang</span> = LangTypeEnum.English<span class="hljs-comment">;    </span>
        private void Awake()
        {                    
            LoadLangItem()<span class="hljs-comment">;      </span>
        }

        private void OnDestroy()
        {

        }
        private void LoadLangItem()
        {   
            var <span class="hljs-attr">ems</span> = Enum.GetNames(typeof(LangTypeEnum))<span class="hljs-comment">;</span>
            //é€šè¿‡æšä¸¾å®ä¾‹åŒ–è¯­è¨€æŒ‰é”®
            foreach (var e in ems)
            {
                var <span class="hljs-attr">em</span> = Enum.Parse&lt;LangTypeEnum&gt;(e)<span class="hljs-comment">;</span>
                if (<span class="hljs-attr">em</span> == LangTypeEnum.none)
                    continue<span class="hljs-comment">;</span>
                var <span class="hljs-attr">item</span> = Pool.SpawnOut(ResConfig.Pre_UI_LangItem, <span class="hljs-literal">true</span>, <span class="hljs-number">0</span>)<span class="hljs-comment">;//è¯­è¨€æŒ‰é’®prefab</span>
                item.SetParent(_langItemParent)<span class="hljs-comment">;                </span>
                var <span class="hljs-attr">igo</span> = item.ActiveTransform<span class="hljs-comment">;</span>
                <span class="hljs-attr">igo.localScale</span> = Vector3.<span class="hljs-literal">on</span>e<span class="hljs-comment">;</span>
                <span class="hljs-attr">igo.localPosition</span> = Vector3.zero<span class="hljs-comment">;</span>

                UIListener.Get(igo, em).<span class="hljs-attr">OnClick</span> = <span class="hljs-literal">On</span>SelectedClick<span class="hljs-comment">;//ç»‘å®šäº‹ä»¶å’Œè‡ªå®šä¹‰æ•°æ®</span>
                UIListener.Get(igo, em).<span class="hljs-attr">OnStartDrag</span> = <span class="hljs-literal">On</span>StartDrag<span class="hljs-comment">;</span>
                UIListener.Get(igo, em).<span class="hljs-attr">OnDraging</span> = <span class="hljs-literal">On</span>Draging<span class="hljs-comment">;</span>
                UIListener.Get(igo, em).<span class="hljs-attr">OnOverDrag</span> = <span class="hljs-literal">On</span>OverDrag<span class="hljs-comment">;</span>
                var <span class="hljs-attr">binder</span> = igo.GetComponent&lt;UIStageLangItemBinder&gt;()<span class="hljs-comment">;</span>
                binder.SetName(e)<span class="hljs-comment">;</span>
                binder.SetIcon($"flag_{e}")<span class="hljs-comment">;</span>
            }
           
        }
       
        private void OnStartDrag(UIEventData ed)
        {
            
        }
        private void OnOverDrag(UIEventData ed)
        {
           
        }
        private void OnDraging(UIEventData ed)
        {
           
        }
        private void OnSelectedClick(UIEventData ed)
        {           
            var <span class="hljs-attr">lt</span> = (LangTypeEnum)ed.OtherData<span class="hljs-comment">;         </span>
            <span class="hljs-attr">_curLang</span> = lt<span class="hljs-comment">;</span>
          
            OnChangeClick(ed)<span class="hljs-comment">; //åˆ‡æ¢è¨€è¯­      </span>
        }
 
        private void OnChangeClick(UIEventData ed)
        {
         
        }
      
    }
}

</code></pre>
<h3 data-id="heading-4">å››ã€è¿è¡Œæ•ˆæœ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd704ecf203f4224a988123144438384~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lef552A576k5Li75Y675ZCD6IKJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769741964&amp;x-signature=pJDRh6FcYhrYw9LJ9Xie4IbtS%2BY%3D" alt="" loading="lazy"/></p>
<p>Â  Â  Â  Â ç•Œé¢å†…çš„æ¯ä¸ªæŒ‰é’®å¯¹åº”ç€ä¸€ä¸ªè¯­è¨€æšä¸¾ï¼Œåªè¦æˆ‘ä»¬æŒ‰ä¸‹æŒ‰é’®ï¼Œå°±å¯ä»¥æŠŠæšä¸¾å€¼ä¼ é€’åˆ°ç›¸å…³ä¸šåŠ¡å±‚ï¼Œå¯¹ç¼–ç çš„å‹å¥½åº¦å’Œæ•ˆç‡çš„æå‡è¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„ã€‚</p>
<h3 data-id="heading-5"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-app APPæ‰“å¼€æ‰‹æœºå¤–é¢çš„googleåœ°å›¾APP]]></title>    <link>https://juejin.cn/post/7598103558886391854</link>    <guid>https://juejin.cn/post/7598103558886391854</guid>    <pubDate>2026-01-23T03:20:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598103558886391854" data-draft-id="7598104596779401262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-app APPæ‰“å¼€æ‰‹æœºå¤–é¢çš„googleåœ°å›¾APP"/> <meta itemprop="keywords" content="å‰ç«¯,uni-app,Android"/> <meta itemprop="datePublished" content="2026-01-23T03:20:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sosojie"/> <meta itemprop="url" content="https://juejin.cn/user/571401775880936"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-app APPæ‰“å¼€æ‰‹æœºå¤–é¢çš„googleåœ°å›¾APP
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/571401775880936/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sosojie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:20:06.000Z" title="Fri Jan 23 2026 03:20:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è®°å½•ä¸€ä¸‹ï¼Œåœ¨å¼€å‘APPåŠŸèƒ½å”¤é†’APPå¤–éƒ¨çš„googleåœ°å›¾APPï¼Œå¹¶ä¸”æŠŠæ•°æ®å›æ˜¾ä¸Šå»ï¼ŒåŒ…æ‹¬äº†å®‰å“å’Œioså†™æ³•</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">getApp</span>()

<span class="hljs-comment">/**
 * æ‰“å¼€è°·æ­Œåœ°å›¾
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} latitude // çº¬åº¦
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} longitude // ç»åº¦
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} address // è¯¦ç»†åœ°å€
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">openGoogleMap</span> = (<span class="hljs-params">latitude, longitude, address</span>) =&gt; {
  <span class="hljs-keyword">if</span> (plus.<span class="hljs-property">os</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'Android'</span>) {
    <span class="hljs-keyword">let</span> url = <span class="hljs-string">`google.navigation:q=<span class="hljs-subst">${latitude}</span>,<span class="hljs-subst">${longitude}</span>&amp;zoom=15`</span>

    plus.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">openURL</span>(url, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸš€ ~ Android plus.runtime.openURL ~ err:"</span>, err)
      uni.<span class="hljs-title function_">showModal</span>({
        <span class="hljs-attr">title</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.Tips'</span>),
        <span class="hljs-attr">content</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.setupGoogleMap'</span>),
        <span class="hljs-attr">confirmText</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.setupBtnText'</span>),
        <span class="hljs-attr">cancelText</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.cancelBtnText'</span>),
        <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (res.<span class="hljs-property">confirm</span>) {
            plus.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">openURL</span>(<span class="hljs-string">'market://details?id=com.google.android.apps.maps'</span>);
          }
        }
      });
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// iOS</span>
    <span class="hljs-keyword">let</span> url = <span class="hljs-string">`comgooglemaps://?q=<span class="hljs-subst">${latitude}</span>,<span class="hljs-subst">${longitude}</span>(<span class="hljs-subst">${address}</span>)&amp;zoom=15&amp;directionsmode=driving`</span>

    plus.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">launchApplication</span>({ <span class="hljs-attr">action</span>: url }, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"ğŸš€ ~ IOS plus.runtime.launchApplication ~ err:"</span>, err)
      uni.<span class="hljs-title function_">showModal</span>({
        <span class="hljs-attr">title</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.Tips'</span>),
        <span class="hljs-attr">content</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.setupGoogleMap'</span>),
        <span class="hljs-attr">confirmText</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.setupBtnText'</span>),
        <span class="hljs-attr">cancelText</span>: app.<span class="hljs-property">globalData</span>.$lang(<span class="hljs-string">'common.cancelBtnText'</span>),
        <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (res.<span class="hljs-property">confirm</span>) {
            plus.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">openURL</span>(<span class="hljs-string">`itms-apps://itunes.apple.com/app/id585027354`</span>);
          }
        }
      });
    });
  }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”±img æ ‡ç­¾è·¨åŸŸé—®é¢˜ï¼Œè€Œå¼•å‡ºçš„æµè§ˆå™¨è·¨åŸŸåŸç†]]></title>    <link>https://juejin.cn/post/7598104572583657522</link>    <guid>https://juejin.cn/post/7598104572583657522</guid>    <pubDate>2026-01-23T03:21:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104572583657522" data-draft-id="7598130716338962470" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”±img æ ‡ç­¾è·¨åŸŸé—®é¢˜ï¼Œè€Œå¼•å‡ºçš„æµè§ˆå™¨è·¨åŸŸåŸç†"/> <meta itemprop="keywords" content="å‰ç«¯,æµè§ˆå™¨"/> <meta itemprop="datePublished" content="2026-01-23T03:21:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hmfy"/> <meta itemprop="url" content="https://juejin.cn/user/3562073405260925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”±img æ ‡ç­¾è·¨åŸŸé—®é¢˜ï¼Œè€Œå¼•å‡ºçš„æµè§ˆå™¨è·¨åŸŸåŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3562073405260925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hmfy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:21:46.000Z" title="Fri Jan 23 2026 03:21:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>User:</strong></p>
<blockquote>
<p>img æ ‡ç­¾ä¸ºä»€ä¹ˆä¸ä¼šè·¨åŸŸå‘¢ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ get è¯·æ±‚ï¼Œè€Œåªè¦æ˜¯ä»æµè§ˆå™¨å‘è¯·æ±‚ï¼Œåªè¦æ˜¯åè®®åŸŸåç«¯å£ä¸åŒä¸æ˜¯å°±ä¼šè·¨åŸŸå—</p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<p>img æ ‡ç­¾ï¼ˆä»¥åŠ <code>&lt;script&gt;</code>ã€<code>&lt;link&gt;</code> ç­‰èµ„æºæ ‡ç­¾ï¼‰ç¡®å®å¯ä»¥å‘èµ·è·¨åŸŸ GET è¯·æ±‚å¹¶åŠ è½½èµ„æºï¼ˆå¦‚å›¾ç‰‡ï¼‰ï¼Œè€Œä¸ä¼šè§¦å‘æµè§ˆå™¨çš„è·¨åŸŸé™åˆ¶ï¼ˆCORS é”™è¯¯ï¼‰ã€‚è¿™ä¸ä½ æåˆ°çš„â€œåè®®ã€åŸŸåã€ç«¯å£ä¸åŒå°±ä¼šè·¨åŸŸâ€å¹¶ä¸å®Œå…¨ä¸€è‡´ï¼Œå› ä¸ºè·¨åŸŸé™åˆ¶å¹¶éå¯¹æ‰€æœ‰æµè§ˆå™¨è¯·æ±‚éƒ½é€‚ç”¨ï¼Œè€Œæ˜¯æœ‰ç‰¹å®šè§„åˆ™ã€‚è®©æˆ‘è§£é‡Šä¸€ä¸‹æœ¬è´¨åŸå› ï¼š</p>
<h3 data-id="heading-0">1. <strong>è·¨åŸŸé™åˆ¶çš„æœ¬è´¨</strong></h3>
<ul>
<li>è·¨åŸŸï¼ˆCross-Origin Resource Sharing, CORSï¼‰æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œæ—¨åœ¨é˜²æ­¢æ¶æ„ç½‘ç«™çªƒå–ç”¨æˆ·æ•°æ®ã€‚å®ƒä¸»è¦é’ˆå¯¹ <strong>èƒ½è¯»å–å“åº”å†…å®¹çš„è¯·æ±‚</strong>ï¼Œå°¤å…¶æ˜¯é€šè¿‡ JavaScript å‘èµ·çš„è¯·æ±‚ï¼ˆå¦‚ XMLHttpRequest æˆ– fetchï¼‰ã€‚</li>
<li>å¦‚æœè¯·æ±‚çš„åè®®ã€åŸŸåæˆ–ç«¯å£ä¸åŒï¼Œæµè§ˆå™¨ä¼šæ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿”å›äº†å…è®¸è·¨åŸŸçš„ HTTP å¤´ï¼ˆå¦‚ <code>Access-Control-Allow-Origin</code>ï¼‰ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·æ±‚ä¼šè¢«é˜»å¡ã€‚</li>
<li>ä½†å¹¶éæ‰€æœ‰è¯·æ±‚éƒ½ä¼šè§¦å‘ CORS æ£€æŸ¥ã€‚img æ ‡ç­¾çš„è¯·æ±‚æ˜¯ GETï¼Œä½†å®ƒå±äºâ€œç®€å•è¯·æ±‚â€ï¼ˆsimple requestï¼‰ï¼Œå¹¶ä¸”æµè§ˆå™¨å¯¹èµ„æºæ ‡ç­¾çš„å¤„ç†æ–¹å¼ä¸åŒã€‚</li>
</ul>
<h3 data-id="heading-1">2. <strong>ä¸ºä»€ä¹ˆ img æ ‡ç­¾ä¸ä¼šè·¨åŸŸï¼Ÿ</strong></h3>
<ul>
<li><strong>img æ ‡ç­¾ä¸æ‰§è¡Œè„šæœ¬ï¼Œä¹Ÿä¸å…è®¸ JavaScript ç›´æ¥è¯»å–å“åº”å†…å®¹</strong>ï¼š
<ul>
<li>img æ ‡ç­¾åªæ˜¯å‘Šè¯‰æµè§ˆå™¨åŠ è½½å¹¶æ˜¾ç¤ºå›¾ç‰‡ã€‚å®ƒä¸ä¼šæ‰§è¡Œä»»ä½•ä»£ç ï¼Œä¹Ÿä¸ä¼šè®© JavaScript è®¿é—®å›¾ç‰‡çš„åƒç´ æ•°æ®ï¼ˆé™¤éé€šè¿‡ Canvas APIï¼Œä½†é‚£éœ€è¦æœåŠ¡å™¨å…è®¸ CORSï¼‰ã€‚</li>
<li>æµè§ˆå™¨è®¤ä¸ºè¿™ç§è¯·æ±‚æ˜¯â€œå®‰å…¨çš„â€ï¼Œå› ä¸ºå®ƒä¸ä¼šæ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚å³ä½¿å›¾ç‰‡æ¥è‡ªä¸åŒåŸŸï¼Œæµè§ˆå™¨ä¹Ÿä¼šåŠ è½½å®ƒï¼ˆå‰ææ˜¯æœåŠ¡å™¨å…è®¸å…¬å¼€è®¿é—®ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å†å²åŸå› å’Œæµè§ˆå™¨è®¾è®¡</strong>ï¼š
<ul>
<li>æ—©æœŸ Web è®¾è®¡ä¸­ï¼Œimgã€script ç­‰æ ‡ç­¾å°±è¢«å…è®¸è·¨åŸŸåŠ è½½èµ„æºï¼Œä»¥æ”¯æŒç½‘é¡µåµŒå…¥å¤–éƒ¨å†…å®¹ï¼ˆå¦‚å¹¿å‘Šå›¾ç‰‡æˆ– CDN èµ„æºï¼‰ã€‚</li>
<li>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒAJAX è¯·æ±‚ï¼ˆé€šè¿‡ XMLHttpRequest æˆ– fetchï¼‰å¯ä»¥è¯»å–å“åº”ä½“ï¼ˆJSONã€XML ç­‰ï¼‰ï¼Œè¿™å¯èƒ½åŒ…å«æ•æ„Ÿæ•°æ®ï¼Œæ‰€ä»¥æµè§ˆå™¨å¼ºåˆ¶ CORS æ£€æŸ¥ã€‚</li>
</ul>
</li>
<li><strong>ç®€å•è¯·æ±‚çš„ä¾‹å¤–</strong>ï¼š
<ul>
<li>img çš„ GET è¯·æ±‚å±äºâ€œç®€å•è¯·æ±‚â€ï¼ˆsimple requestï¼‰ï¼Œå®ƒä¸é¢„æ£€ï¼ˆpreflightï¼‰ï¼Œæµè§ˆå™¨ç›´æ¥å‘é€è¯·æ±‚ã€‚å¦‚æœæœåŠ¡å™¨è¿”å›å›¾ç‰‡æ•°æ®ï¼Œæµè§ˆå™¨å°±æ˜¾ç¤ºå®ƒã€‚</li>
<li>å¦‚æœæœåŠ¡å™¨è®¾ç½®äº† CORS å¤´ï¼ˆå¦‚ <code>Access-Control-Allow-Origin: *</code>ï¼‰ï¼Œimg æ ‡ç­¾ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†é€šå¸¸ä¸éœ€è¦ï¼Œå› ä¸ºå®ƒä¸è¯»å–å†…å®¹ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-2">3. <strong>å¯¹æ¯”å…¶ä»– GET è¯·æ±‚</strong></h3>
<ul>
<li><strong>é€šè¿‡ fetch æˆ– XMLHttpRequest çš„ GET è¯·æ±‚</strong>ï¼šå¦‚æœè·¨åŸŸï¼Œä¼šè§¦å‘ CORS æ£€æŸ¥ï¼Œå¿…é¡»æœ‰æœåŠ¡å™¨çš„å…è®¸å¤´ï¼Œå¦åˆ™æŠ¥é”™ï¼ˆå¦‚ <code>Access to XMLHttpRequest at 'https://example.com/image.jpg' from origin 'https://yourdomain.com' has been blocked by CORS policy</code>ï¼‰ã€‚</li>
<li><strong>é€šè¿‡è¡¨å•æäº¤æˆ–é“¾æ¥è·³è½¬çš„ GET è¯·æ±‚</strong>ï¼šè¿™äº›ä¹Ÿä¸è§¦å‘ CORSï¼Œå› ä¸ºå®ƒä»¬æ˜¯å¯¼èˆªè¯·æ±‚ï¼Œä¸æ˜¯ AJAXã€‚</li>
<li><strong>img æ ‡ç­¾çš„ GET è¯·æ±‚</strong>ï¼šæµè§ˆå™¨å…è®¸å®ƒè·¨åŸŸï¼Œå› ä¸ºå®ƒä¸æ¶‰åŠæ•°æ®è¯»å–ã€‚</li>
</ul>
<h3 data-id="heading-3">4. <strong>æ½œåœ¨é£é™©å’Œé™åˆ¶</strong></h3>
<ul>
<li>è™½ç„¶ img å¯ä»¥è·¨åŸŸåŠ è½½ï¼Œä½†å¦‚æœå›¾ç‰‡æœåŠ¡å™¨ç¦æ­¢è®¿é—®ï¼ˆHTTP 403ï¼‰ï¼Œæˆ–å›¾ç‰‡æ˜¯ç§æœ‰çš„ï¼Œæµè§ˆå™¨ä»ä¼šå¤±è´¥ã€‚</li>
<li>å¦‚æœä½ æƒ³åœ¨ JavaScript ä¸­è¯»å–å›¾ç‰‡æ•°æ®ï¼ˆä¾‹å¦‚é€šè¿‡ Canvasï¼‰ï¼Œä»ç„¶éœ€è¦ CORS å¤´ï¼Œå› ä¸ºé‚£æ¶‰åŠè·¨åŸŸæ•°æ®è®¿é—®ã€‚</li>
<li>å¯¹äºç°ä»£ Webï¼Œæ¨èæœåŠ¡å™¨é…ç½® CORS ä»¥æ§åˆ¶è®¿é—®ã€‚</li>
</ul>
<p><strong>User:</strong></p>
<blockquote>
<p>é‚£è¯·æ€»ç»“ä¸€ä¸‹å“ªäº›æƒ…å†µä¸‹ä¼šè·¨åŸŸï¼Œå“ªäº›å¸¸è§æƒ…å†µä¸ä¼šï¼Œå¹¶è¯´æ˜åŸå› ï¼Œå¦å¤–ä½ æåˆ° preflight è¯·è¯¦ç»†è¯´ä¸€ä¸‹</p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<h3 data-id="heading-4">å“ªäº›æƒ…å†µä¸‹ä¼šè·¨åŸŸï¼ˆè§¦å‘ CORS æ£€æŸ¥ï¼‰</h3>
<p>è·¨åŸŸï¼ˆCORSï¼‰é™åˆ¶ä¸»è¦é’ˆå¯¹æµè§ˆå™¨å‘èµ·çš„è¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æ¶‰åŠè·¨åŸŸï¼ˆåè®®ã€åŸŸåæˆ–ç«¯å£ä¸åŒï¼‰ä¸”å¯èƒ½è¯»å–å“åº”å†…å®¹ï¼Œæµè§ˆå™¨ä¼šå¼ºåˆ¶æ£€æŸ¥æœåŠ¡å™¨çš„ CORS å¤´ï¼ˆå¦‚ <code>Access-Control-Allow-Origin</code>ï¼‰ã€‚å¦‚æœæœåŠ¡å™¨ä¸å…è®¸ï¼Œè¯·æ±‚ä¼šè¢«é˜»å¡ã€‚ä»¥ä¸‹æ˜¯å¸¸è§ä¼šè§¦å‘è·¨åŸŸçš„æƒ…å†µï¼š</p>
<ol>
<li>
<p><strong>AJAX è¯·æ±‚ï¼ˆXMLHttpRequest æˆ– fetchï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šè¿™äº›è¯·æ±‚å…è®¸ JavaScript è¯»å–å“åº”ä½“ï¼ˆJSONã€XML ç­‰ï¼‰ï¼Œå¯èƒ½æ³„éœ²æ•æ„Ÿæ•°æ®ã€‚æµè§ˆå™¨å¼ºåˆ¶ CORS æ£€æŸ¥ä»¥ä¿æŠ¤ç”¨æˆ·éšç§å’Œå®‰å…¨ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šä» <code>https://yourdomain.com</code> ç”¨ fetch è¯·æ±‚ <code>https://api.example.com/data</code>ã€‚å¦‚æœæœåŠ¡å™¨æ²¡è®¾ç½®å…è®¸å¤´ï¼Œä¼šæŠ¥ CORS é”™è¯¯ã€‚</li>
<li><strong>æ¡ä»¶</strong>ï¼šè¯·æ±‚æ–¹æ³•ä¸æ˜¯ç®€å•è¯·æ±‚ï¼ˆè§ä¸‹æ–‡ï¼‰ï¼Œæˆ–åŒ…å«è‡ªå®šä¹‰å¤´ã€ç‰¹å®š Content-Type ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¤æ‚è¯·æ±‚ï¼ˆNon-Simple Requestsï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šè¿™äº›è¯·æ±‚å¯èƒ½ä¿®æ”¹æœåŠ¡å™¨çŠ¶æ€æˆ–å‘é€å¤æ‚æ•°æ®ï¼Œæµè§ˆå™¨éœ€è¦é¢„å…ˆç¡®è®¤æƒé™ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šä½¿ç”¨ PUTã€DELETE ç­‰æ–¹æ³•ï¼Œæˆ–è®¾ç½®è‡ªå®šä¹‰å¤´ï¼ˆå¦‚ <code>Authorization</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>WebSocket è¿æ¥</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šWebSocket å…è®¸åŒå‘é€šä¿¡ï¼Œæµè§ˆå™¨æ£€æŸ¥æ˜¯å¦å…è®¸è·¨åŸŸæ¡æ‰‹ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šä»ä¸åŒåŸŸå‘èµ· WebSocket è¿æ¥ï¼Œå¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒï¼Œä¼šå¤±è´¥ã€‚</li>
</ul>
</li>
<li>
<p><strong>é€šè¿‡ Canvas æˆ–å…¶ä»– API è¯»å–è·¨åŸŸèµ„æºæ•°æ®</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šå³ä½¿ img æ ‡ç­¾åŠ è½½äº†å›¾ç‰‡ï¼Œå¦‚æœ JavaScript è¯•å›¾é€šè¿‡ Canvas API è¯»å–åƒç´ æ•°æ®ï¼Œä»éœ€ CORS å¤´ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>canvas.getImageData()</code> ä»è·¨åŸŸ img è¯»å–æ•°æ®ï¼Œä¼šæŠ¥é”™ï¼Œé™¤éæœåŠ¡å™¨å…è®¸ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">å“ªäº›å¸¸è§æƒ…å†µä¸ä¼šè·¨åŸŸ</h3>
<p>ä»¥ä¸‹æƒ…å†µä¸ä¼šè§¦å‘ CORS æ£€æŸ¥ï¼Œå› ä¸ºå®ƒä»¬ä¸æ¶‰åŠè¯»å–æ•æ„Ÿå“åº”å†…å®¹ï¼Œæˆ–æ˜¯æµè§ˆå™¨å†å²å…¼å®¹æ€§è®¾è®¡ï¼š</p>
<ol>
<li>
<p><strong>èµ„æºæ ‡ç­¾ï¼ˆimgã€scriptã€linkã€iframe ç­‰ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šè¿™äº›æ ‡ç­¾åªæ˜¯åŠ è½½èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€è„šæœ¬ã€æ ·å¼ï¼‰ï¼Œä¸æ‰§è¡Œä»£ç æˆ–è¯»å–æ•°æ®ã€‚æµè§ˆå™¨å…è®¸è·¨åŸŸåŠ è½½ä»¥æ”¯æŒç½‘é¡µåµŒå…¥å¤–éƒ¨å†…å®¹ï¼ˆå¦‚ CDN å›¾ç‰‡ï¼‰ã€‚JavaScript æ— æ³•ç›´æ¥è®¿é—®å“åº”å†…å®¹ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>&lt;img src="https://cdn.example.com/image.jpg"&gt;</code> å¯ä»¥æ­£å¸¸åŠ è½½ï¼Œå³ä½¿è·¨åŸŸã€‚</li>
</ul>
</li>
<li>
<p><strong>è¡¨å•æäº¤ï¼ˆGET/POSTï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šè¡¨å•æäº¤æ˜¯å¯¼èˆªè¯·æ±‚ï¼ˆé¡µé¢è·³è½¬ï¼‰ï¼Œä¸æ¶‰åŠ JavaScript è¯»å–å“åº”ã€‚æµè§ˆå™¨ä¸æ£€æŸ¥ CORSï¼Œå› ä¸ºå®ƒæ˜¯ç”¨æˆ·ä¸»åŠ¨è¡Œä¸ºã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>&lt;form action="https://api.example.com/submit" method="post"&gt;</code> æäº¤åˆ°ä¸åŒåŸŸï¼Œä¸ä¼šè·¨åŸŸã€‚</li>
</ul>
</li>
<li>
<p><strong>é“¾æ¥è·³è½¬ï¼ˆa æ ‡ç­¾ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šç±»ä¼¼è¡¨å•ï¼Œæ˜¯å¯¼èˆªè¡Œä¸ºï¼Œä¸è¯»å–æ•°æ®ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>&lt;a href="https://example.com"&gt;</code> è·³è½¬åˆ°ä¸åŒåŸŸã€‚</li>
</ul>
</li>
<li>
<p><strong>åŒåŸŸè¯·æ±‚</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šåè®®ã€åŸŸåã€ç«¯å£ç›¸åŒï¼Œæ— éœ€æ£€æŸ¥ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šä» <code>https://yourdomain.com</code> è¯·æ±‚ <code>https://yourdomain.com/api</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>åµŒå…¥å¼èµ„æºï¼ˆå¦‚å­—ä½“ã€è§†é¢‘ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>åŸå› </strong>ï¼šç±»ä¼¼ imgï¼Œæµè§ˆå™¨å…è®¸åŠ è½½ï¼Œä½†å¦‚æœéœ€è¦è¯»å–ï¼ˆå¦‚é€šè¿‡ FontFace APIï¼‰ï¼Œå¯èƒ½éœ€ CORSã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>&lt;video src="https://cdn.example.com/video.mp4"&gt;</code>ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-6">è¯¦ç»†è¯´æ˜ Preflightï¼ˆé¢„æ£€è¯·æ±‚ï¼‰</h3>
<p>Preflight æ˜¯ CORS æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå¤„ç†â€œå¤æ‚è¯·æ±‚â€ï¼ˆnon-simple requestsï¼‰ã€‚æµè§ˆå™¨åœ¨å‘é€å®é™…è¯·æ±‚å‰ï¼Œå…ˆå‘é€ä¸€ä¸ªé¢„æ£€è¯·æ±‚æ¥ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥è·¨åŸŸæ“ä½œã€‚</p>
<h4 data-id="heading-7"><strong>ä¸ºä»€ä¹ˆéœ€è¦ Preflightï¼Ÿ</strong></h4>
<ul>
<li>ç®€å•è¯·æ±‚ï¼ˆsimple requestsï¼‰ç›´æ¥å‘é€ï¼Œæ— éœ€é¢„æ£€ã€‚</li>
<li>å¤æ‚è¯·æ±‚å¯èƒ½æœ‰å‰¯ä½œç”¨ï¼ˆå¦‚ä¿®æ”¹æ•°æ®ï¼‰ï¼Œæµè§ˆå™¨éœ€è¦å…ˆâ€œè¯¢é—®â€æœåŠ¡å™¨ï¼Œé¿å…æ„å¤–æ“ä½œã€‚</li>
</ul>
<h4 data-id="heading-8"><strong>Preflight çš„è¿‡ç¨‹</strong>ï¼š</h4>
<ol>
<li>
<p><strong>è§¦å‘æ¡ä»¶</strong>ï¼šè¯·æ±‚ä¸æ˜¯ç®€å•è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨è‡ªåŠ¨å‘é€ OPTIONS è¯·æ±‚ï¼ˆé¢„æ£€ï¼‰ã€‚</p>
<ul>
<li><strong>ç®€å•è¯·æ±‚çš„æ ‡å‡†</strong>ï¼ˆæ— éœ€é¢„æ£€ï¼‰ï¼š
<ul>
<li>æ–¹æ³•ï¼šGETã€HEADã€POSTã€‚</li>
<li>å¤´ï¼šåªå…è®¸ç®€å•å¤´ï¼ˆå¦‚ Acceptã€Accept-Languageã€Content-Languageï¼‰ã€‚</li>
<li>Content-Typeï¼šåªå…è®¸ <code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code>ã€‚</li>
<li>æ— è‡ªå®šä¹‰å¤´ã€æ— å‡­æ®ï¼ˆcredentialsï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å¤æ‚è¯·æ±‚çš„ç¤ºä¾‹</strong>ï¼šä½¿ç”¨ PUT æ–¹æ³•ã€è®¾ç½® <code>Authorization</code> å¤´ï¼Œæˆ– Content-Type ä¸º <code>application/json</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>é¢„æ£€è¯·æ±‚è¯¦æƒ…</strong>ï¼š</p>
<ul>
<li><strong>æ–¹æ³•</strong>ï¼šOPTIONSã€‚</li>
<li><strong>å¤´</strong>ï¼šåŒ…æ‹¬ <code>Origin</code>ï¼ˆè¯·æ±‚æ¥æºï¼‰ã€<code>Access-Control-Request-Method</code>ï¼ˆå®é™…è¯·æ±‚æ–¹æ³•ï¼‰ã€<code>Access-Control-Request-Headers</code>ï¼ˆè‡ªå®šä¹‰å¤´ï¼‰ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-makefile" lang="makefile">OPTIONS /api/data HTTP/1.1
<span class="hljs-section">Host: api.example.com</span>
<span class="hljs-section">Origin: https://yourdomain.com</span>
<span class="hljs-section">Access-Control-Request-Method: PUT</span>
<span class="hljs-section">Access-Control-Request-Headers: Authorization, Content-Type</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æœåŠ¡å™¨å“åº”</strong>ï¼š</p>
<ul>
<li>å¿…é¡»è¿”å›å…è®¸å¤´ï¼Œå¦‚ï¼š
<ul>
<li><code>Access-Control-Allow-Origin: https://yourdomain.com</code> æˆ– <code>*</code>ã€‚</li>
<li><code>Access-Control-Allow-Methods: PUT, GET</code>ã€‚</li>
<li><code>Access-Control-Allow-Headers: Authorization, Content-Type</code>ã€‚</li>
<li><code>Access-Control-Max-Age: 86400</code>ï¼ˆç¼“å­˜é¢„æ£€ç»“æœï¼Œå•ä½ç§’ï¼‰ã€‚</li>
</ul>
</li>
<li>å¦‚æœæœåŠ¡å™¨æ‹’ç»ï¼Œå®é™…è¯·æ±‚ä¸ä¼šå‘é€ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®é™…è¯·æ±‚</strong>ï¼š</p>
<ul>
<li>å¦‚æœé¢„æ£€é€šè¿‡ï¼Œæµè§ˆå™¨å‘é€å®é™…è¯·æ±‚ï¼Œå¹¶æ£€æŸ¥å“åº”å¤´ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-9"><strong>æ³¨æ„</strong>ï¼š</h4>
<ul>
<li>Preflight åªé’ˆå¯¹å¤æ‚è¯·æ±‚ï¼Œç®€å•è¯·æ±‚è·³è¿‡ã€‚</li>
<li>é¢„æ£€å¤±è´¥ä¸ä¼šå½±å“é¡µé¢åŠ è½½ï¼Œä½†ä¼šé˜»æ­¢ AJAX è¯·æ±‚ã€‚</li>
<li>æœåŠ¡å™¨ï¼ˆå¦‚ Node.js/Expressï¼‰éœ€é…ç½®ä¸­é—´ä»¶å¤„ç† OPTIONS è¯·æ±‚ã€‚</li>
</ul>
<p>å¦‚æœä½ çš„é¡¹ç›®æ¶‰åŠ CORS é…ç½®ï¼ˆå¦‚åœ¨ Vue.js ä¸­ï¼‰ï¼Œå¯ä»¥åˆ†äº«ä»£ç ï¼Œæˆ‘å¯ä»¥å¸®ä½ ä¼˜åŒ–ï¼3. <strong>æœåŠ¡å™¨å“åº”</strong>ï¼š</p>
<ul>
<li>å¿…é¡»è¿”å›å…è®¸å¤´ï¼Œå¦‚ï¼š
<ul>
<li><code>Access-Control-Allow-Origin: https://yourdomain.com</code> æˆ– <code>*</code>ã€‚</li>
<li><code>Access-Control-Allow-Methods: PUT, GET</code>ã€‚</li>
<li><code>Access-Control-Allow-Headers: Authorization, Content-Type</code>ã€‚</li>
<li><code>Access-Control-Max-Age: 86400</code>ï¼ˆç¼“å­˜é¢„æ£€ç»“æœï¼Œå•ä½ç§’ï¼‰ã€‚</li>
</ul>
</li>
<li>å¦‚æœæœåŠ¡å™¨æ‹’ç»ï¼Œå®é™…è¯·æ±‚ä¸ä¼šå‘é€ã€‚</li>
</ul>
<ol start="4">
<li><strong>å®é™…è¯·æ±‚</strong>ï¼š
<ul>
<li>å¦‚æœé¢„æ£€é€šè¿‡ï¼Œæµè§ˆå™¨å‘é€å®é™…è¯·æ±‚ï¼Œå¹¶æ£€æŸ¥å“åº”å¤´ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-10"><strong>æ³¨æ„</strong>ï¼š</h4>
<ul>
<li>Preflight åªé’ˆå¯¹å¤æ‚è¯·æ±‚ï¼Œç®€å•è¯·æ±‚è·³è¿‡ã€‚</li>
<li>é¢„æ£€å¤±è´¥ä¸ä¼šå½±å“é¡µé¢åŠ è½½ï¼Œä½†ä¼šé˜»æ­¢ AJAX è¯·æ±‚ã€‚</li>
<li>æœåŠ¡å™¨ï¼ˆå¦‚ Node.js/Expressï¼‰éœ€é…ç½®ä¸­é—´ä»¶å¤„ç† OPTIONS è¯·æ±‚ã€‚</li>
</ul>
<p><strong>User:</strong></p>
<blockquote>
<p>ä½ æåˆ° submit æ˜¯ ç”¨æˆ·ä¸»åŠ¨è¡Œä¸º ï¼Œé‚£å¦‚æœé€šè¿‡å®šæ—¶è„šæœ¬å»è§¦å‘å¸¦æœ‰ submit æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶å‘¢ã€‚</p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<h3 data-id="heading-11">è„šæœ¬è§¦å‘è¡¨å•æäº¤çš„è·¨åŸŸè¡Œä¸º</h3>
<p>å¦‚æœä½ é€šè¿‡å®šæ—¶è„šæœ¬ï¼ˆä¾‹å¦‚ JavaScript çš„ <code>setTimeout</code> æˆ– <code>setInterval</code>ï¼‰å»è§¦å‘å¸¦æœ‰ submit æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚ <code>document.getElementById('submitBtn').click()</code>ï¼‰ï¼Œ<strong>å®ƒä»ç„¶ä¸ä¼šè§¦å‘è·¨åŸŸæ£€æŸ¥</strong>ã€‚åŸå› å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-12"><strong>åŸå› åˆ†æ</strong></h4>
<ul>
<li><strong>è¡¨å•æäº¤çš„æœ¬è´¨</strong>ï¼šæ— è®ºæ‰‹åŠ¨ç‚¹å‡»è¿˜æ˜¯è„šæœ¬è§¦å‘ï¼Œè¡¨å•æäº¤éƒ½æ˜¯â€œå¯¼èˆªè¯·æ±‚â€ï¼ˆnavigation requestï¼‰ï¼Œæµè§ˆå™¨å°†å…¶è§†ä¸ºç”¨æˆ·å‘èµ·çš„é¡µé¢è·³è½¬æˆ–æ•°æ®å‘é€è¡Œä¸ºã€‚å®ƒä¸æ¶‰åŠ JavaScript è¯»å–å“åº”å†…å®¹ï¼ˆresponse bodyï¼‰ï¼Œæ‰€ä»¥æµè§ˆå™¨ä¸å¼ºåˆ¶ CORS æ£€æŸ¥ã€‚
<ul>
<li>è„šæœ¬è§¦å‘åªæ˜¯æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºï¼Œä¸ä¼šæ”¹å˜è¯·æ±‚ç±»å‹ã€‚æµè§ˆå™¨å…è®¸è¿™ç§è‡ªåŠ¨åŒ–ï¼Œå› ä¸ºå®ƒä¸æ³„éœ²æ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>å¯¹æ¯” AJAX è¯·æ±‚</strong>ï¼šå¦‚æœè„šæœ¬ç”¨ <code>fetch</code> æˆ– <code>XMLHttpRequest</code> æ¥å‘é€è¡¨å•æ•°æ®ï¼ˆå³ä½¿æ˜¯ POSTï¼‰ï¼Œé‚£å°±æ˜¯ AJAX è¯·æ±‚ï¼Œä¼šè§¦å‘ CORS æ£€æŸ¥ã€‚å› ä¸ºå®ƒå…è®¸ JavaScript å¤„ç†å“åº”ã€‚</li>
<li><strong>å†å²å’Œå®‰å…¨è®¾è®¡</strong>ï¼šæ—©æœŸ Web è®¾è®¡ä¸­ï¼Œè¡¨å•æäº¤å°±è¢«å…è®¸è·¨åŸŸï¼Œä»¥æ”¯æŒå¤šç«™ç‚¹äº¤äº’ï¼ˆå¦‚ç™»å½•è¡¨å•ï¼‰ã€‚è„šæœ¬è§¦å‘è¢«è§†ä¸ºæ‰©å±•çš„ç”¨æˆ·è¡Œä¸ºï¼Œä¸å— CORS é™åˆ¶ã€‚</li>
</ul>
<h4 data-id="heading-13"><strong>ç¤ºä¾‹</strong></h4>
<ul>
<li>
<p><strong>è„šæœ¬è§¦å‘è¡¨å•</strong>ï¼ˆä¸ä¼šè·¨åŸŸï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'form'</span>).<span class="hljs-title function_">submit</span>();  <span class="hljs-comment">// æ¨¡æ‹Ÿæäº¤åˆ° https://api.example.com/submit</span>
}, <span class="hljs-number">1000</span>);
</code></pre>
<ul>
<li>æµè§ˆå™¨ä¼šå‘é€è¯·æ±‚å¹¶è·³è½¬é¡µé¢ï¼Œæ—  CORS é”™è¯¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç”¨ fetch æ¨¡æ‹Ÿ</strong>ï¼ˆä¼šè·¨åŸŸï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.example.com/submit'</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">body</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'form'</span>))
});
</code></pre>
<ul>
<li>å¦‚æœè·¨åŸŸä¸”æœåŠ¡å™¨æ—  CORS å¤´ï¼Œä¼šæŠ¥é”™ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-14"><strong>æ½œåœ¨æ³¨æ„ç‚¹</strong></h4>
<ul>
<li><strong>è‡ªåŠ¨åŒ–æ£€æµ‹</strong>ï¼šä¸€äº›ç½‘ç«™å¯èƒ½æ£€æµ‹è„šæœ¬è§¦å‘ï¼ˆå¦‚æ£€æŸ¥äº‹ä»¶æ¥æºï¼‰ï¼Œå¹¶é˜»æ­¢å®ƒï¼ˆé CORS é—®é¢˜ï¼Œè€Œæ˜¯åçˆ¬è™«æœºåˆ¶ï¼‰ã€‚</li>
<li><strong>å®‰å…¨é£é™©</strong>ï¼šè„šæœ¬è§¦å‘å¯èƒ½è¢«æ»¥ç”¨ï¼ˆå¦‚ CSRF æ”»å‡»ï¼‰ï¼Œä½† CORS ä¸ç›´æ¥ç›¸å…³ã€‚å¦‚æœä½ æ‹…å¿ƒè·¨åŸŸæ•°æ®å®‰å…¨ï¼Œå»ºè®®æœåŠ¡å™¨ç«¯éªŒè¯ï¼ˆå¦‚ CSRF tokenï¼‰ã€‚</li>
<li><strong>ç°ä»£æµè§ˆå™¨</strong>ï¼šè¡Œä¸ºä¸€è‡´ï¼Œä½†å¦‚æœè¡¨å•ç›®æ ‡æ˜¯ iframe æˆ–æ–°çª—å£ï¼Œè§„åˆ™ç±»ä¼¼ã€‚</li>
</ul>
<p><strong>User:</strong></p>
<blockquote>
<p>æ„æ€æ˜¯ï¼Œå¦‚æœè¯¥è¯·æ±‚ç»“æœï¼Œå‰ç«¯ä¸å¯æ§ä¸å¯è·å–ä¸å¯è¯»ï¼Œåˆ™è®¤ä¸ºæ²¡é£é™©ï¼Œå…è®¸è·¨åŸŸï¼Œä¸€æ—¦æŸä¸ªè¯·æ±‚å¾—åˆ°çš„ç»“æœå‰ç«¯å¯ä»¥è·å–å¯ä»¥æ“ä½œï¼Œå°±è®¤ä¸ºä¸å®‰å…¨ï¼Œå°±æœ‰è·¨åŸŸé™åˆ¶ï¼Œæˆ‘çš„ç†è§£å‡†ç¡®å—</p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<h3 data-id="heading-15">å¯¹ CORS ç†è§£çš„å‡†ç¡®æ€§åˆ†æ</h3>
<p>ä½ çš„ç†è§£<strong>å¤§è‡´å‡†ç¡®</strong>ï¼Œä½†éœ€è¦ä¸€äº›æ¾„æ¸…å’Œç»†èŠ‚è¡¥å……ã€‚CORS çš„æ ¸å¿ƒç¡®å®æ˜¯æµè§ˆå™¨ä¸ºäº†é˜²æ­¢æ¶æ„è„šæœ¬çªƒå–æˆ–æ“ä½œè·¨åŸŸæ•°æ®è€Œè®¾è®¡çš„â€œå®‰å…¨ç½‘â€ã€‚å…³é”®åœ¨äºï¼š<strong>å¦‚æœè¯·æ±‚çš„ç»“æœï¼ˆå“åº”å†…å®¹ï¼‰èƒ½è¢«å‰ç«¯ JavaScript è¯»å–ã€æ“ä½œæˆ–æ§åˆ¶ï¼Œå°±è®¤ä¸ºæœ‰é£é™©ï¼Œéœ€è¦ CORS æ£€æŸ¥ï¼›å¦åˆ™ï¼Œå…è®¸è·¨åŸŸ</strong>ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š</p>
<h4 data-id="heading-16"><strong>å‡†ç¡®çš„éƒ¨åˆ†</strong></h4>
<ul>
<li>
<p><strong>å‰ç«¯ä¸å¯æ§/ä¸å¯è·å–/ä¸å¯è¯» â†’ å…è®¸è·¨åŸŸ</strong>ï¼š</p>
<ul>
<li>è¿™äº›è¯·æ±‚ä¸è®© JavaScript è®¿é—®å“åº”ä½“ï¼ˆresponse bodyï¼‰ï¼Œæ‰€ä»¥æµè§ˆå™¨è®¤ä¸ºâ€œæ²¡é£é™©â€ã€‚ä¾‹å¦‚ï¼š
<ul>
<li><strong>imgã€scriptã€link ç­‰æ ‡ç­¾</strong>ï¼šåŠ è½½èµ„æºï¼Œä½† JS æ— æ³•ç›´æ¥è¯»å–å†…å®¹ï¼ˆscript ä¼šæ‰§è¡Œä»£ç ï¼Œä½†ä¸è¯»å–æ•°æ®ï¼‰ã€‚å…è®¸è·¨åŸŸï¼Œä»¥æ”¯æŒç½‘é¡µåµŒå…¥ã€‚</li>
<li><strong>è¡¨å•æäº¤æˆ–é“¾æ¥è·³è½¬</strong>ï¼šè¯·æ±‚åé¡µé¢è·³è½¬ï¼ŒJS æ— æ³•è¯»å–å“åº”ã€‚å…è®¸è·¨åŸŸï¼Œå› ä¸ºå®ƒæ˜¯å¯¼èˆªè¡Œä¸ºã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼šæµè§ˆå™¨å‡è®¾è¿™äº›è¯·æ±‚æ˜¯â€œè¢«åŠ¨â€çš„ï¼Œä¸æ¶‰åŠæ•°æ®æ³„éœ²ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‰ç«¯å¯ä»¥è·å–/æ“ä½œç»“æœ â†’ æœ‰è·¨åŸŸé™åˆ¶</strong>ï¼š</p>
<ul>
<li>AJAX è¯·æ±‚ï¼ˆfetch/XMLHttpRequestï¼‰å…è®¸ JS è¯»å–å“åº”ï¼ˆå¦‚ JSON æ•°æ®ï¼‰ï¼Œå¯èƒ½æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚æ‰€ä»¥å¼ºåˆ¶ CORS æ£€æŸ¥ï¼šæœåŠ¡å™¨å¿…é¡»æ˜ç¡®å…è®¸ï¼ˆé€šè¿‡å¤´å¦‚ <code>Access-Control-Allow-Origin</code>ï¼‰ã€‚</li>
<li><strong>åŸå› </strong>ï¼šæ¶æ„ç½‘ç«™å¯èƒ½ç”¨ JS ä»å…¶ä»–åŸŸçªƒå–ç”¨æˆ·æ•°æ®ï¼ˆå¦‚é“¶è¡Œ APIï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-17"><strong>éœ€è¦æ¾„æ¸…çš„ç»†èŠ‚å’Œä¾‹å¤–</strong></h4>
<ul>
<li>
<p><strong>ä¸æ˜¯ç»å¯¹çš„â€œä¸å¯è¯»â€å°±å®‰å…¨</strong>ï¼š</p>
<ul>
<li>å³ä½¿èµ„æºæ ‡ç­¾åŠ è½½äº†å†…å®¹ï¼Œå¦‚æœ JS è¯•å›¾é—´æ¥è¯»å–ï¼Œä»å¯èƒ½è§¦å‘ CORSã€‚ä¾‹å¦‚ï¼š
<ul>
<li>img åŠ è½½è·¨åŸŸå›¾ç‰‡ï¼ŒJS ä¸èƒ½ç›´æ¥è¯»åƒç´ ã€‚ä½†å¦‚æœç”¨ <code>canvas.drawImage()</code> ç„¶å <code>canvas.getImageData()</code> è¯»å–åƒç´ æ•°æ®ï¼Œä¼šæŠ¥ CORS é”™è¯¯ï¼ˆé™¤éæœåŠ¡å™¨å…è®¸ï¼‰ã€‚</li>
<li>ç±»ä¼¼åœ°ï¼Œå­—ä½“æˆ–è§†é¢‘èµ„æºå¦‚æœ JS é€šè¿‡ APIï¼ˆå¦‚ FontFaceï¼‰æ“ä½œï¼Œä¹Ÿéœ€ CORSã€‚</li>
</ul>
</li>
<li><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong>ï¼šæµè§ˆå™¨åŒºåˆ†â€œåŠ è½½â€å’Œâ€œè¯»å–â€ã€‚åŠ è½½å…è®¸ï¼Œè¯»å–éœ€è¦æƒé™ã€‚</li>
</ul>
</li>
<li>
<p><strong>å†å²å’Œè®¾è®¡å› ç´ </strong>ï¼š</p>
<ul>
<li>CORS ä¸æ˜¯ä¸€å¼€å§‹å°±æœ‰çš„ï¼›æ—©æœŸ Web å…è®¸ä¸€åˆ‡è·¨åŸŸï¼Œåæ¥ AJAX æ™®åŠæ‰å¼•å…¥é™åˆ¶ã€‚èµ„æºæ ‡ç­¾å› å…¼å®¹æ€§è¢«è±å…ã€‚</li>
<li><strong>ç®€å•è¯·æ±‚ vs å¤æ‚è¯·æ±‚</strong>ï¼šå³ä½¿æ˜¯ AJAXï¼Œå¦‚æœæ˜¯ç®€å•è¯·æ±‚ï¼ˆGET/POSTï¼Œæ— è‡ªå®šä¹‰å¤´ï¼‰ï¼Œæµè§ˆå™¨ç›´æ¥å‘é€ï¼›å¤æ‚è¯·æ±‚éœ€é¢„æ£€ï¼ˆOPTIONSï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å…¶ä»–æƒ…å†µ</strong>ï¼š</p>
<ul>
<li><strong>åŒåŸŸè¯·æ±‚</strong>ï¼šæ— é£é™©ï¼Œæ— éœ€æ£€æŸ¥ã€‚</li>
<li><strong>WebSocket æˆ–å…¶ä»–åè®®</strong>ï¼šç±»ä¼¼ AJAXï¼Œéœ€è¦æ£€æŸ¥ã€‚</li>
<li><strong>æœåŠ¡å™¨ç«¯ä»£ç†</strong>ï¼šå‰ç«¯è¯·æ±‚åŒåŸŸæœåŠ¡å™¨ï¼Œåè€…è½¬å‘è·¨åŸŸè¯·æ±‚ï¼Œå¯ç»•è¿‡ CORSï¼ˆä½†ä¸æ¨èæ»¥ç”¨ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-18"><strong>æ€»ç»“</strong></h4>
<p>ä½ çš„ç†è§£æŠ“ä½äº† CORS çš„æœ¬è´¨ï¼šä¿æŠ¤æ•°æ®è¯»å–ã€‚ä½†å®é™…è§„åˆ™æ›´ç»†è‡´ï¼Œå–å†³äºè¯·æ±‚ç±»å‹å’Œ JS çš„è®¿é—®èƒ½åŠ›ã€‚å¦‚æœè¯·æ±‚å…è®¸ JS æ§åˆ¶æˆ–è¯»å–ç»“æœï¼Œå°±æœ‰é£é™©ï¼›å¦åˆ™ï¼Œè±å…ã€‚ç°ä»£ Web æ¨èæœåŠ¡å™¨é…ç½® CORS ä»¥ç²¾ç»†æ§åˆ¶ã€‚</p>
<p><strong>User:</strong></p>
<blockquote>
<p>GET/POSTï¼Œæ— è‡ªå®šä¹‰å¤´ å°±æ˜¯ç®€å•è¯·æ±‚å—ï¼Œéè¿™ç§æƒ…å†µå°±æ˜¯å¤æ‚è¯·æ±‚æ˜¯å—ï¼Œå¦å¤–ï¼Œå¦‚æœæ˜¯åŒåŸŸå¤æ‚è¯·æ±‚æ˜¯ä¸æ˜¯ä¹Ÿä¸éœ€è¦é¢„æ£€ï¼ˆå› ä¸ºåŒåŸŸä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼‰ï¼Œé¢„æ£€ä»…ä»…æ˜¯ä¸ºäº†åˆ¤æ–­æ˜¯å¦å…è®¸è·¨åŸŸå—</p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<h3 data-id="heading-19">CORS ç®€å•è¯·æ±‚ vs å¤æ‚è¯·æ±‚çš„è¯¦ç»†è¯´æ˜</h3>
<p>ä½ çš„ç†è§£åŸºæœ¬å‡†ç¡®ï¼Œä½†éœ€è¦ä¸€äº›ç»†èŠ‚æ¾„æ¸…ã€‚ä»¥ä¸‹åŸºäº W3C CORS è§„èŒƒå›ç­”ä½ çš„é—®é¢˜ï¼š</p>
<h4 data-id="heading-20">1. <strong>GET/POSTï¼Œæ— è‡ªå®šä¹‰å¤´ï¼Œå°±æ˜¯ç®€å•è¯·æ±‚å—ï¼Ÿ</strong></h4>
<ul>
<li><strong>ä¸å®Œå…¨æ˜¯</strong>ã€‚ç®€å•è¯·æ±‚ï¼ˆSimple Requestï¼‰æœ‰ä¸¥æ ¼æ¡ä»¶ï¼Œå¿…é¡»<strong>åŒæ—¶æ»¡è¶³</strong>ä»¥ä¸‹æ‰€æœ‰ï¼š
<ul>
<li><strong>æ–¹æ³•</strong>ï¼šåªèƒ½æ˜¯ GETã€HEAD æˆ– POSTã€‚</li>
<li><strong>è¯·æ±‚å¤´</strong>ï¼šåªèƒ½ä½¿ç”¨ CORS å®‰å…¨åˆ—è¡¨çš„å¤´ï¼ˆä¸åŒ…æ‹¬è‡ªå®šä¹‰å¤´ï¼‰ã€‚å®‰å…¨å¤´åŒ…æ‹¬ï¼šAccept, Accept-Language, Content-Language, Content-Type, DPR, Downlink, Save-Data, Viewport-Width, Widthã€‚</li>
<li><strong>Content-Type</strong>ï¼šå¦‚æœæœ‰ï¼Œåªèƒ½æ˜¯ application/x-www-form-urlencodedã€multipart/form-data æˆ– text/plainã€‚</li>
<li><strong>æ— å‡­æ®</strong>ï¼šä¸è®¾ç½® credentialsï¼ˆå¦‚ cookiesï¼Œé™¤éæœåŠ¡å™¨å…è®¸ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<ul>
<li>ç®€å•ï¼š<code>fetch('https://api.com', { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded' } })</code>ã€‚</li>
<li>éç®€å•ï¼šæ·»åŠ è‡ªå®šä¹‰å¤´ï¼ˆå¦‚ <code>Authorization</code>ï¼‰æˆ–ç”¨ PUT æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼šè¿™äº›æ¡ä»¶ç¡®ä¿è¯·æ±‚â€œå®‰å…¨â€ï¼Œä¸ä¼šæ„å¤–ä¿®æ”¹æœåŠ¡å™¨çŠ¶æ€æˆ–å‘é€å¤æ‚æ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-21">2. <strong>éè¿™ç§æƒ…å†µå°±æ˜¯å¤æ‚è¯·æ±‚å—ï¼Ÿ</strong></h4>
<ul>
<li><strong>æ˜¯çš„</strong>ã€‚å¦‚æœä¸æ»¡è¶³ç®€å•è¯·æ±‚çš„ä»»ä¸€æ¡ä»¶ï¼Œå°±æ˜¯å¤æ‚è¯·æ±‚ï¼ˆNon-Simple Requestï¼‰ã€‚å¤æ‚è¯·æ±‚éœ€è¦æµè§ˆå™¨å…ˆå‘é€é¢„æ£€è¯·æ±‚ï¼ˆOPTIONSï¼‰æ¥æ£€æŸ¥æƒé™ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<ul>
<li>ç”¨ PUT/DELETE/PATCH æ–¹æ³•ã€‚</li>
<li>è®¾ç½®è‡ªå®šä¹‰å¤´ï¼ˆå¦‚ <code>X-Custom-Header</code>ï¼‰ã€‚</li>
<li>Content-Type ä¸º application/jsonã€‚</li>
<li>åŒ…å«å‡­æ®ï¼ˆcredentials: 'include'ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-22">3. <strong>åŒåŸŸå¤æ‚è¯·æ±‚æ˜¯ä¸æ˜¯ä¹Ÿä¸éœ€è¦é¢„æ£€ï¼Ÿ</strong></h4>
<ul>
<li><strong>æ˜¯çš„</strong>ã€‚åŒåŸŸè¯·æ±‚ï¼ˆåè®®ã€åŸŸåã€ç«¯å£ç›¸åŒï¼‰<strong>æ°¸è¿œä¸ä¼šå‘é€é¢„æ£€</strong>ï¼Œå³ä½¿æ˜¯å¤æ‚è¯·æ±‚ã€‚å› ä¸ºåŒåŸŸä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œæµè§ˆå™¨ç›´æ¥å‘é€å®é™…è¯·æ±‚ï¼Œæ— éœ€æ£€æŸ¥ CORS å¤´ã€‚</li>
<li><strong>åŸå› </strong>ï¼šé¢„æ£€æ˜¯ä¸ºäº†è·¨åŸŸå®‰å…¨ã€‚åŒåŸŸæ—¶ï¼Œæµè§ˆå™¨ä¿¡ä»»æœ¬åœ°æœåŠ¡å™¨ï¼Œæ— é£é™©ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šåœ¨ <code>https://yourdomain.com</code> ä¸Šç”¨ PUT æ–¹æ³•è¯·æ±‚ <code>https://yourdomain.com/api</code>ï¼Œç›´æ¥å‘é€ï¼Œæ—  OPTIONSã€‚</li>
</ul>
<h4 data-id="heading-23">4. <strong>é¢„æ£€ä»…ä»…æ˜¯ä¸ºäº†åˆ¤æ–­æ˜¯å¦å…è®¸è·¨åŸŸå—ï¼Ÿ</strong></h4>
<ul>
<li><strong>æ˜¯çš„</strong>ã€‚é¢„æ£€ï¼ˆPreflightï¼‰çš„å”¯ä¸€ç›®çš„æ˜¯åœ¨å‘é€å®é™…è·¨åŸŸè¯·æ±‚å‰ï¼Œç¡®è®¤æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥æ“ä½œã€‚å®ƒé€šè¿‡ OPTIONS è¯·æ±‚è¯¢é—®æœåŠ¡å™¨çš„ CORS ç­–ç•¥ã€‚</li>
<li><strong>è¿‡ç¨‹</strong>ï¼š
<ul>
<li>æµè§ˆå™¨å‘é€ OPTIONS è¯·æ±‚ï¼ŒåŒ…å« <code>Origin</code>ã€<code>Access-Control-Request-Method</code> ç­‰å¤´ã€‚</li>
<li>æœåŠ¡å™¨å“åº”å…è®¸å¤´ï¼ˆå¦‚ <code>Access-Control-Allow-Origin</code>ï¼‰ã€‚</li>
<li>å¦‚æœé€šè¿‡ï¼Œæ‰å‘é€å®é™…è¯·æ±‚ã€‚</li>
</ul>
</li>
<li><strong>æ³¨æ„</strong>ï¼šé¢„æ£€åªé’ˆå¯¹è·¨åŸŸå¤æ‚è¯·æ±‚ã€‚åŒåŸŸæˆ–ç®€å•è¯·æ±‚è·³è¿‡ã€‚</li>
</ul>
<h4 data-id="heading-24"><strong>æ€»ç»“</strong></h4>
<ul>
<li>ç®€å•è¯·æ±‚ï¼šæ»¡è¶³ç‰¹å®šæ¡ä»¶ï¼Œæ— é¢„æ£€ã€‚</li>
<li>å¤æ‚è¯·æ±‚ï¼šä¸æ»¡è¶³æ¡ä»¶ï¼Œè·¨åŸŸæ—¶éœ€é¢„æ£€ï¼ŒåŒåŸŸæ—¶ç›´æ¥å‘é€ã€‚</li>
<li>é¢„æ£€æ˜¯è·¨åŸŸä¿æŠ¤æœºåˆ¶çš„æ ¸å¿ƒã€‚</li>
</ul>
<p><strong>User:</strong></p>
<blockquote>
<p>Preflight æ—¶çš„è¯·æ±‚æ˜¯æµè§ˆå™¨è‡ªè¡Œå‘èµ·çš„å¹¶ä¸”ä¸å—è·¨åŸŸé™åˆ¶å¯¹å—ï¼Œå¹¶ä¸”åªä¼šå¸¦ä¸€äº›ä¿¡æ¯åˆ°æœåŠ¡å™¨ç”¨äºè¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸æ˜¯å—ï¼Œé‚£æœåŠ¡å™¨å¦‚ä½•å“åº”æ˜¯é€šè¿‡å¦‚ä½•å“åº”æ˜¯ä¸é€šè¿‡å‘¢ï¼Œä»¥ node.js ä¸ºä¾‹ã€‚ç»™æˆ‘æ ¸å¿ƒä¼ªä»£ç </p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<h3 data-id="heading-25">Preflight è¯·æ±‚çš„æœºåˆ¶å’ŒæœåŠ¡å™¨å“åº”</h3>
<h4 data-id="heading-26">1. <strong>Preflight è¯·æ±‚æ˜¯æµè§ˆå™¨è‡ªè¡Œå‘èµ·çš„å¹¶ä¸”ä¸å—è·¨åŸŸé™åˆ¶å¯¹å—ï¼Ÿ</strong></h4>
<ul>
<li><strong>æ˜¯çš„</strong>ã€‚Preflight æ˜¯æµè§ˆå™¨è‡ªåŠ¨å‘èµ·çš„ OPTIONS è¯·æ±‚ï¼Œç”¨äºæ£€æŸ¥è·¨åŸŸæƒé™ã€‚å®ƒä¸å— CORS é™åˆ¶ï¼Œå› ä¸ºå®ƒæ˜¯â€œè¯¢é—®â€æœºåˆ¶çš„ä¸€éƒ¨åˆ†â€”â€”æµè§ˆå™¨å‡è®¾æœåŠ¡å™¨ä¼šè¯šå®åœ°å“åº”ã€‚å¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒ CORSï¼Œå®é™…è¯·æ±‚ä¼šè¢«é˜»å¡ï¼Œä½†é¢„æ£€æœ¬èº«ä¸ä¼šè¢«è·¨åŸŸé˜»æ­¢ï¼ˆé™¤éæœåŠ¡å™¨å®Œå…¨æ‹’ç» OPTIONSï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-27">2. <strong>å¹¶ä¸”åªä¼šå¸¦ä¸€äº›ä¿¡æ¯åˆ°æœåŠ¡å™¨ç”¨äºè¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸æ˜¯å—ï¼Ÿ</strong></h4>
<ul>
<li><strong>æ˜¯çš„</strong>ã€‚é¢„æ£€è¯·æ±‚åªæºå¸¦å¿…è¦ä¿¡æ¯ï¼Œä¸ä¼šå‘é€å®é™…æ•°æ®ã€‚å®ƒç”¨äºè¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸åç»­çš„å®é™…è¯·æ±‚ã€‚å…³é”®å¤´åŒ…æ‹¬ï¼š
<ul>
<li><code>Origin</code>ï¼šè¯·æ±‚æ¥æºåŸŸã€‚</li>
<li><code>Access-Control-Request-Method</code>ï¼šå®é™…è¯·æ±‚çš„æ–¹æ³•ï¼ˆå¦‚ PUTï¼‰ã€‚</li>
<li><code>Access-Control-Request-Headers</code>ï¼šå®é™…è¯·æ±‚çš„è‡ªå®šä¹‰å¤´ã€‚</li>
<li>å…¶ä»–ï¼šå¦‚ <code>Access-Control-Request-Private-Network</code>ï¼ˆç§æœ‰ç½‘ç»œæ£€æŸ¥ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-28">3. <strong>æœåŠ¡å™¨å¦‚ä½•å“åº”æ˜¯é€šè¿‡è¿˜æ˜¯ä¸é€šè¿‡ï¼Ÿä»¥ Node.js ä¸ºä¾‹ï¼Œç»™æ ¸å¿ƒä¼ªä»£ç </strong></h4>
<ul>
<li><strong>é€šè¿‡</strong>ï¼šæœåŠ¡å™¨è¿”å› HTTP 200 çŠ¶æ€ç ï¼Œå¹¶åŒ…å«å…è®¸çš„ CORS å¤´ã€‚æµè§ˆå™¨æ£€æŸ¥è¿™äº›å¤´ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™å‘é€å®é™…è¯·æ±‚ã€‚</li>
<li><strong>ä¸é€šè¿‡</strong>ï¼šæœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€ï¼ˆå¦‚ 403ï¼‰æˆ–ä¸åŒ…å«å¿…è¦å¤´ã€‚æµè§ˆå™¨ä¸ä¼šå‘é€å®é™…è¯·æ±‚ï¼Œå¹¶æŠ¥ CORS é”™è¯¯ã€‚</li>
<li><strong>æ ¸å¿ƒå¤´</strong>ï¼š
<ul>
<li><code>Access-Control-Allow-Origin</code>ï¼šå…è®¸çš„æ¥æºï¼ˆ<code>*</code> æˆ–å…·ä½“åŸŸï¼‰ã€‚</li>
<li><code>Access-Control-Allow-Methods</code>ï¼šå…è®¸çš„æ–¹æ³•ï¼ˆå¦‚ <code>PUT, GET</code>ï¼‰ã€‚</li>
<li><code>Access-Control-Allow-Headers</code>ï¼šå…è®¸çš„å¤´ã€‚</li>
<li><code>Access-Control-Max-Age</code>ï¼šé¢„æ£€ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰ã€‚</li>
<li>å¯é€‰ï¼š<code>Access-Control-Allow-Credentials</code>ï¼ˆå…è®¸å‡­æ®ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-29"><strong>Node.js æ ¸å¿ƒä¼ªä»£ç ï¼ˆä½¿ç”¨ Expressï¼‰</strong></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-comment">// å¤„ç†é¢„æ£€è¯·æ±‚ï¼ˆOPTIONSï¼‰</span>
app.<span class="hljs-title function_">options</span>(<span class="hljs-string">'/api/data'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// æ£€æŸ¥ Originã€æ–¹æ³•ç­‰ï¼ˆå¯é€‰ï¼šæ·»åŠ è‡ªå®šä¹‰é€»è¾‘ï¼‰</span>
  <span class="hljs-keyword">const</span> allowedOrigins = [<span class="hljs-string">'https://yourdomain.com'</span>];
  <span class="hljs-keyword">const</span> origin = req.<span class="hljs-property">headers</span>.<span class="hljs-property">origin</span>;

  <span class="hljs-keyword">if</span> (allowedOrigins.<span class="hljs-title function_">includes</span>(origin)) {
    <span class="hljs-comment">// é€šè¿‡ï¼šè®¾ç½®å…è®¸å¤´</span>
    res.<span class="hljs-title function_">set</span>({
      <span class="hljs-string">'Access-Control-Allow-Origin'</span>: origin,  <span class="hljs-comment">// æˆ– '*' å¦‚æœå…è®¸æ‰€æœ‰</span>
      <span class="hljs-string">'Access-Control-Allow-Methods'</span>: <span class="hljs-string">'GET, POST, PUT, DELETE'</span>,
      <span class="hljs-string">'Access-Control-Allow-Headers'</span>: <span class="hljs-string">'Content-Type, Authorization'</span>,
      <span class="hljs-string">'Access-Control-Max-Age'</span>: <span class="hljs-number">86400</span>  <span class="hljs-comment">// ç¼“å­˜ 1 å¤©</span>
    });
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">end</span>();  <span class="hljs-comment">// ç©ºå“åº”ä½“</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ä¸é€šè¿‡ï¼šè¿”å›é”™è¯¯</span>
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">403</span>).<span class="hljs-title function_">end</span>();
  }
});

<span class="hljs-comment">// å®é™…è¯·æ±‚å¤„ç†ï¼ˆå‡è®¾æ˜¯ PUTï¼‰</span>
app.<span class="hljs-title function_">put</span>(<span class="hljs-string">'/api/data'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// æ­£å¸¸ä¸šåŠ¡é€»è¾‘</span>
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Data updated'</span> });
});

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);
</code></pre>
<ul>
<li><strong>è§£é‡Š</strong>ï¼šé¢„æ£€æ—¶ï¼ŒæœåŠ¡å™¨æ£€æŸ¥å¹¶å“åº”å¤´ã€‚å¦‚æœé€šè¿‡ï¼Œæµè§ˆå™¨å‘é€ PUT è¯·æ±‚ï¼›å¦åˆ™ï¼Œé˜»æ­¢ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šåœ¨ç”Ÿäº§ä¸­ï¼Œä½¿ç”¨ä¸­é—´ä»¶å¦‚ <code>cors</code> åŒ…ç®€åŒ–é…ç½®ã€‚å®é™…è¯·æ±‚ä¹Ÿéœ€è®¾ç½® <code>Access-Control-Allow-Origin</code>ã€‚</li>
</ul>
<p><strong>User:</strong></p>
<blockquote>
<p>cors ä¸­é—´ä»¶çš„æ ¸å¿ƒé€»è¾‘å®é™…ä¸Šå°±æ˜¯ç»™æ‰€æœ‰çš„è¯·æ±‚åŠ ä¸€ä¸ª opstions å“åº”çš„ä¸­é—´ä»¶å¯¹å—</p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<h3 data-id="heading-30">CORS ä¸­é—´ä»¶çš„ç†è§£</h3>
<p>ä½ çš„ç†è§£<strong>éƒ¨åˆ†æ­£ç¡®</strong>ï¼Œä½†ä¸å®Œå…¨å‡†ç¡®ã€‚CORS ä¸­é—´ä»¶ï¼ˆå¦‚ Express çš„ <code>cors</code> åŒ…ï¼‰çš„æ ¸å¿ƒé€»è¾‘ä¸ä»…ä»…æ˜¯â€œç»™æ‰€æœ‰è¯·æ±‚åŠ ä¸€ä¸ª OPTIONS å“åº”â€ï¼Œè€Œæ˜¯<strong>è‡ªåŠ¨å¤„ç† CORS å¤´å’Œé¢„æ£€è¯·æ±‚</strong>ã€‚å®ƒä¸ºæ‰€æœ‰åŒ¹é…çš„è¯·æ±‚ï¼ˆåŒ…æ‹¬é¢„æ£€å’Œå®é™…è¯·æ±‚ï¼‰æ·»åŠ å¿…è¦çš„ CORS å¤´ï¼Œå¹¶ä¸“é—¨å“åº” OPTIONS è¯·æ±‚ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š</p>
<h4 data-id="heading-31"><strong>æ ¸å¿ƒé€»è¾‘</strong></h4>
<ul>
<li><strong>è‡ªåŠ¨å“åº”é¢„æ£€</strong>ï¼šå½“æµè§ˆå™¨å‘é€ OPTIONS è¯·æ±‚æ—¶ï¼Œä¸­é—´ä»¶æ£€æŸ¥å¹¶è¿”å›å…è®¸å¤´ï¼ˆå¦‚ <code>Access-Control-Allow-Origin</code>ï¼‰ï¼Œæ— éœ€ä½ æ‰‹åŠ¨å†™ OPTIONS è·¯ç”±ã€‚</li>
<li><strong>ä¸ºå®é™…è¯·æ±‚æ·»åŠ å¤´</strong>ï¼šå¯¹äºé OPTIONS è¯·æ±‚ï¼ˆGET/POST ç­‰ï¼‰ï¼Œä¸­é—´ä»¶æ·»åŠ  CORS å¤´ï¼Œç¡®ä¿å“åº”èƒ½è¢«è·¨åŸŸè®¿é—®ã€‚</li>
<li><strong>é…ç½®çµæ´»</strong>ï¼šä½ å¯ä»¥æŒ‡å®šå…è®¸çš„åŸŸã€æ–¹æ³•ã€å¤´ç­‰ã€‚å®ƒä¸æ˜¯â€œåŠ  OPTIONS å“åº”â€ï¼Œè€Œæ˜¯ç»Ÿä¸€ç®¡ç† CORS ç­–ç•¥ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆä¸æ˜¯å•çº¯çš„ OPTIONS ä¸­é—´ä»¶</strong>ï¼Ÿå› ä¸ºå®ƒå¤„ç†æ•´ä¸ª CORS æµç¨‹ï¼ŒåŒ…æ‹¬ç¼“å­˜ï¼ˆ<code>Access-Control-Max-Age</code>ï¼‰å’Œå‡­æ®ã€‚</li>
</ul>
<h4 data-id="heading-32"><strong>ä»¥ Express çš„ <code>cors</code> ä¸­é—´ä»¶ä¸ºä¾‹ï¼ˆæ ¸å¿ƒä¼ªä»£ç æ¨¡æ‹Ÿï¼‰</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ‹Ÿ cors ä¸­é—´ä»¶çš„ç®€åŒ–é€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">corsMiddleware</span>(<span class="hljs-params">options = {}</span>) {
  <span class="hljs-keyword">const</span> {
    origin = <span class="hljs-string">'*'</span>,  <span class="hljs-comment">// é»˜è®¤å…è®¸æ‰€æœ‰åŸŸ</span>
    methods = <span class="hljs-string">'GET,HEAD,PUT,PATCH,POST,DELETE'</span>,
    allowedHeaders = <span class="hljs-string">'*'</span>,
    credentials = <span class="hljs-literal">false</span>
  } = options;

  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
    <span class="hljs-comment">// è®¾ç½®é€šç”¨å¤´ï¼ˆé€‚ç”¨äºæ‰€æœ‰è¯·æ±‚ï¼‰</span>
    res.<span class="hljs-title function_">set</span>({
      <span class="hljs-string">'Access-Control-Allow-Origin'</span>: origin,
      <span class="hljs-string">'Access-Control-Allow-Methods'</span>: methods,
      <span class="hljs-string">'Access-Control-Allow-Headers'</span>: allowedHeaders,
      <span class="hljs-string">'Access-Control-Max-Age'</span>: <span class="hljs-number">86400</span>  <span class="hljs-comment">// ç¼“å­˜é¢„æ£€</span>
    });
    <span class="hljs-keyword">if</span> (credentials) {
      res.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);
    }

    <span class="hljs-comment">// å¦‚æœæ˜¯ OPTIONS è¯·æ±‚ï¼ˆé¢„æ£€ï¼‰ï¼Œç›´æ¥å“åº”ï¼Œæ— éœ€ç»§ç»­</span>
    <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">'OPTIONS'</span>) {
      res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">end</span>();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// å¦åˆ™ï¼Œç»§ç»­åˆ°ä¸‹ä¸€ä¸ªä¸­é—´ä»¶/è·¯ç”±</span>
    <span class="hljs-title function_">next</span>();
  };
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">corsMiddleware</span>({ <span class="hljs-attr">origin</span>: <span class="hljs-string">'https://yourdomain.com'</span> }));
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">data</span>: <span class="hljs-string">'ok'</span> }));
</code></pre>
<ul>
<li><strong>è§£é‡Š</strong>ï¼šä¸­é—´ä»¶æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œæ·»åŠ å¤´ã€‚å¦‚æœæ˜¯ OPTIONSï¼Œç›´æ¥ç»“æŸå“åº”ï¼›å¦åˆ™ï¼Œä¼ é€’ç»™è·¯ç”±ã€‚å®é™…é¡¹ç›®ä¸­ï¼Œç”¨ <code>npm install cors</code> å¹¶ <code>app.use(cors())</code> å³å¯ã€‚</li>
</ul>
<p><strong>User:</strong></p>
<blockquote>
<p>é‚£æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šä¸€ä¸ªé—®é¢˜ä½ ç»™æˆ‘çš„ä¼ªä»£ç è¡¨æ˜ï¼Œåªè¦ç»™æ¯ä¸ªè¯·æ±‚ url çš„ options è¯·æ±‚éƒ½åŠ  res.set({
'Access-Control-Allow-Origin': origin, // æˆ– '*' å¦‚æœå…è®¸æ‰€æœ‰
'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE',
'Access-Control-Allow-Headers': 'Content-Type, Authorization',
'Access-Control-Max-Age': 86400 // ç¼“å­˜ 1 å¤©
});å¹¶å“åº” 200ï¼Œé‚£ä¹ˆå¯¹åº”çš„è¿™ä¸ªè¯·æ±‚ url å°±èƒ½å¤Ÿè¢«å…è®¸è·¨åŸŸï¼Œå› ä¸ºåœ¨ options ä¸­å·²ç»è®¾ç½®äº†è¿™ä¸ª url çš„è§„åˆ™ï¼Œå› æ­¤å½“è¿™ä¸ª url çš„ options é€šè¿‡ä»¥åï¼Œè¿™ä¸ª url çš„å¤æ‚è¯·æ±‚åº”è¯¥ä¸éœ€è¦å†è¯¦æƒ…å…è®¸è·¨åŸŸçš„å“åº”å¤´äº†å§ã€‚</p>
</blockquote>
<p><strong>GitHub Copilot:</strong></p>
<h3 data-id="heading-33">å…³äºé¢„æ£€å’Œå®é™…è¯·æ±‚çš„ CORS å¤´è®¾ç½®</h3>
<p>ä½ çš„ç†è§£æœ‰è¯¯ã€‚<strong>é¢„æ£€ï¼ˆOPTIONSï¼‰é€šè¿‡åï¼Œå®é™…è¯·æ±‚çš„å“åº”</strong>ä»ç„¶éœ€è¦åŒ…å« CORS å¤´**ã€‚ä»…ä»…åœ¨ OPTIONS ä¸­è®¾ç½®å¤´æ˜¯ä¸å¤Ÿçš„**ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šå’Œä¿®æ­£ï¼š</p>
<h4 data-id="heading-34"><strong>ä¸ºä»€ä¹ˆå®é™…è¯·æ±‚ä¹Ÿéœ€è¦ CORS å¤´ï¼Ÿ</strong></h4>
<ul>
<li><strong>é¢„æ£€çš„ç›®çš„</strong>ï¼šæµè§ˆå™¨é€šè¿‡ OPTIONS è¯·æ±‚ç¡®è®¤â€œæ˜¯å¦å…è®¸å‘é€è¿™ä¸ªè·¨åŸŸè¯·æ±‚â€ã€‚å¦‚æœæœåŠ¡å™¨å“åº”å…è®¸å¤´ï¼Œæµè§ˆå™¨æ‰ä¼šå‘é€å®é™…è¯·æ±‚ã€‚</li>
<li><strong>å®é™…è¯·æ±‚çš„æ£€æŸ¥</strong>ï¼šæµè§ˆå™¨å‘é€å®é™…è¯·æ±‚åï¼Œä¼šæ£€æŸ¥<strong>å“åº”</strong>ä¸­çš„ CORS å¤´ï¼ˆå¦‚ <code>Access-Control-Allow-Origin</code>ï¼‰ã€‚å¦‚æœå“åº”æ²¡æœ‰è¿™äº›å¤´ï¼Œæµè§ˆå™¨ä¼šæŠ¥ CORS é”™è¯¯ï¼Œå³ä½¿é¢„æ£€é€šè¿‡äº†ã€‚</li>
<li><strong>åŸå› </strong>ï¼šé¢„æ£€æ˜¯â€œè¯¢é—®æƒé™â€ï¼Œä½†å®é™…å“åº”å¿…é¡»â€œè¯æ˜å…è®¸â€ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æœåŠ¡å™¨åœ¨é¢„æ£€åæ”¹å˜ç­–ç•¥ï¼Œæˆ–ç¡®ä¿å“åº”å®‰å…¨ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<ul>
<li>é¢„æ£€ï¼šOPTIONS è¯·æ±‚ â†’ æœåŠ¡å™¨å“åº”å…è®¸å¤´ â†’ æµè§ˆå™¨è®¤ä¸ºâ€œå¯ä»¥å‘é€â€ã€‚</li>
<li>å®é™…è¯·æ±‚ï¼šPUT è¯·æ±‚ â†’ æœåŠ¡å™¨å“åº”æ•°æ® + å…è®¸å¤´ â†’ æµè§ˆå™¨å…è®¸å‰ç«¯è¯»å–å“åº”ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-35"><strong>ä¿®æ­£ä½ çš„ç†è§£</strong></h4>
<ul>
<li>åœ¨ OPTIONS ä¸­è®¾ç½®å¤´åªæ˜¯å¤„ç†é¢„æ£€ã€‚</li>
<li>å®é™…è¯·æ±‚çš„è·¯ç”±ä¹Ÿå¿…é¡»è®¾ç½®ç›¸åŒçš„å¤´ï¼ˆæˆ–é€šè¿‡ä¸­é—´ä»¶ç»Ÿä¸€è®¾ç½®ï¼‰ã€‚</li>
<li>å¦‚æœå®é™…è¯·æ±‚çš„å“åº”ç¼ºå°‘å¤´ï¼Œå‰ç«¯ä¼šæŠ¥é”™ï¼Œå¦‚ <code>Access to fetch at 'https://api.com' from origin 'https://yourdomain.com' has been blocked by CORS policy</code>ã€‚</li>
</ul>
<h4 data-id="heading-36"><strong>æ›´æ–°ä¼ªä»£ç ï¼ˆç¡®ä¿å®é™…è¯·æ±‚ä¹Ÿæœ‰å¤´ï¼‰</strong></h4>
<p>åœ¨ä¹‹å‰çš„ä¼ªä»£ç åŸºç¡€ä¸Šï¼Œä¸­é—´ä»¶éœ€è¦ä¸º<strong>æ‰€æœ‰å“åº”</strong>æ·»åŠ å¤´ï¼ŒåŒ…æ‹¬å®é™…è¯·æ±‚ã€‚ä»¥ä¸‹æ˜¯ä¿®æ­£ç‰ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">corsMiddleware</span>(<span class="hljs-params">options = {}</span>) {
  <span class="hljs-keyword">const</span> {
    origin = <span class="hljs-string">'*'</span>,
    methods = <span class="hljs-string">'GET,HEAD,PUT,PATCH,POST,DELETE'</span>,
    allowedHeaders = <span class="hljs-string">'*'</span>,
    credentials = <span class="hljs-literal">false</span>
  } = options;

  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
    <span class="hljs-comment">// ä¸ºæ‰€æœ‰è¯·æ±‚è®¾ç½® CORS å¤´ï¼ˆåŒ…æ‹¬é¢„æ£€å’Œå®é™…è¯·æ±‚ï¼‰</span>
    res.<span class="hljs-title function_">set</span>({
      <span class="hljs-string">'Access-Control-Allow-Origin'</span>: origin,
      <span class="hljs-string">'Access-Control-Allow-Methods'</span>: methods,
      <span class="hljs-string">'Access-Control-Allow-Headers'</span>: allowedHeaders,
      <span class="hljs-string">'Access-Control-Max-Age'</span>: <span class="hljs-number">86400</span>
    });
    <span class="hljs-keyword">if</span> (credentials) {
      res.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);
    }

    <span class="hljs-comment">// å¦‚æœæ˜¯ OPTIONSï¼ˆé¢„æ£€ï¼‰ï¼Œç›´æ¥å“åº” 200</span>
    <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">'OPTIONS'</span>) {
      res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">end</span>();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// å¦åˆ™ï¼Œç»§ç»­åˆ°è·¯ç”±ï¼ˆè·¯ç”±çš„å“åº”ä¹Ÿä¼šç»§æ‰¿è¿™äº›å¤´ï¼‰</span>
    <span class="hljs-title function_">next</span>();
  };
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">corsMiddleware</span>({ <span class="hljs-attr">origin</span>: <span class="hljs-string">'https://yourdomain.com'</span> }));

<span class="hljs-comment">// å®é™…è·¯ç”±ï¼šå“åº”ä¼šè‡ªåŠ¨æœ‰ CORS å¤´</span>
app.<span class="hljs-title function_">put</span>(<span class="hljs-string">'/api/data'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Updated'</span> });  <span class="hljs-comment">// å“åº”åŒ…å« CORS å¤´</span>
});
</code></pre>
<ul>
<li><strong>å…³é”®</strong>ï¼šä¸­é—´ä»¶åœ¨ <code>next()</code> å‰è®¾ç½®å¤´ï¼Œæ‰€ä»¥æ‰€æœ‰å“åº”ï¼ˆåŒ…æ‹¬è·¯ç”±çš„ï¼‰éƒ½ä¼šæœ‰å¤´ã€‚Express çš„ <code>cors</code> åŒ…å°±æ˜¯è¿™æ ·å·¥ä½œçš„ã€‚</li>
<li><strong>æµ‹è¯•</strong>ï¼šç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥ç½‘ç»œè¯·æ±‚ï¼Œå®é™…è¯·æ±‚çš„å“åº”å¤´å¿…é¡»æœ‰ <code>Access-Control-Allow-Origin</code>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter-OH 3.35.7 å¼€å‘æŠ€å·§&ä»“åº“æ‹‰å–æŒ‡å—]]></title>    <link>https://juejin.cn/post/7598118189143408640</link>    <guid>https://juejin.cn/post/7598118189143408640</guid>    <pubDate>2026-01-23T03:15:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598118189143408640" data-draft-id="7598118189143392256" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter-OH 3.35.7 å¼€å‘æŠ€å·§&amp;ä»“åº“æ‹‰å–æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T03:15:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åšæœæ´¾_åšæœ"/> <meta itemprop="url" content="https://juejin.cn/user/3843548384077192"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter-OH 3.35.7 å¼€å‘æŠ€å·§&amp;ä»“åº“æ‹‰å–æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3843548384077192/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åšæœæ´¾_åšæœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:15:03.000Z" title="Fri Jan 23 2026 03:15:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter-OH 3.35.7 å¼€å‘æŠ€å·§&amp;ä»“åº“æ‹‰å–æŒ‡å—</h2>
<p>Flutter-OH 3.35.7 ç°å·²æ­£å¼æ›´æ–°ï¼Œå…¶é€‚é… OpenHarmony çš„å¼€å‘åˆ†æ”¯ <code>oh-3.35.7-dev</code> å¤„äºæŒç»­è¿­ä»£çŠ¶æ€ï¼Œä¼šæ¯æ—¥è¿›è¡Œ bug ä¿®å¤ä¸åŠŸèƒ½ä¼˜åŒ–ã€‚ä¸ç®¡ä½ æ˜¯åˆšé…ç½®å¥½è¯¥ç‰ˆæœ¬ç¯å¢ƒï¼Œè¿˜æ˜¯å·²ç»åœ¨åŸºäºå®ƒå¼€å‘ï¼Œè¿™é‡Œåˆ†äº«ä¸€å¥—å®ç”¨çš„ç¯å¢ƒæ£€æŸ¥ã€ç‰ˆæœ¬éªŒè¯æŠ€å·§ï¼ŒåŒæ—¶é™„ä¸Šä»“åº“çš„å®Œæ•´æ‹‰å–æ­¥éª¤ï¼Œå¸®å¤§å®¶é«˜æ•ˆä½¿ç”¨æœ€æ–°ç‰ˆæœ¬å¼€å‘ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å·²é…ç½®ç¯å¢ƒï¼šæ£€æŸ¥ä¸ç‰ˆæœ¬éªŒè¯</h3>
<p>è‹¥ä½ å·²ç»æ‹‰å–è¿‡ä»“åº“å¹¶é…ç½®å¥½ Flutter-OH 3.35.7 ç¯å¢ƒï¼Œæ¯æ¬¡å¼€å‘å‰å¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ£€æŸ¥ç¯å¢ƒçŠ¶æ€ã€ç¡®è®¤ç‰ˆæœ¬æ˜¯å¦ä¸ºæœ€æ–°ï¼Œé¿å…å› ç‰ˆæœ¬æ»åé‡åˆ°å·²ä¿®å¤çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-2">1. æ‹‰å–æœ€æ–°ä»£ç ï¼ŒåŒæ­¥ä»“åº“æ›´æ–°</h4>
<p>è¿›å…¥æœ¬åœ° <code>flutter_flutter</code> ä»“åº“ç›®å½•ï¼Œæ‰§è¡Œ <code>git pull</code> æ‹‰å– <code>oh-3.35.7-dev</code> åˆ†æ”¯çš„æœ€æ–°ä»£ç ï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºä»£ç åŒæ­¥çš„è¯¦ç»†æ—¥å¿—ï¼ˆå«æ–‡ä»¶å˜æ›´ã€ç‰ˆæœ¬è¿­ä»£ä¿¡æ¯ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git pull Â  Â  Â  Â  
remote: Enumerating objects: 106, <span class="hljs-keyword">done</span>.
remote: Counting objects: 100% (65/65), <span class="hljs-keyword">done</span>.
remote: Compressing objects: 100% (57/57), <span class="hljs-keyword">done</span>.
remote: Total 106 (delta 19), reused 4 (delta 3), pack-reused 41 (from 1)
Receiving objects: 100% (106/106), 99.81 KiB | 1.81 MiB/s, <span class="hljs-keyword">done</span>.
Resolving deltas: 100% (25/25), completed with 2 <span class="hljs-built_in">local</span> objects.
From gitcode.com:openharmony-tpc/flutter_flutter
 Â  b15356702b..419a77c140  oh-3.35.7-dev Â  Â  Â  -&gt; origin/oh-3.35.7-dev
 Â  c32b189588..861551e934 Â 3.22.0-ohos Â  Â  Â  Â  -&gt; origin/3.22.0-ohos
 Â  56cf6e29b2..c9aed89bdf Â 3.22.0-ohos-release -&gt; origin/3.22.0-ohos-release
 Â  c63b40bce0..6313b0cffd  dev Â  Â  Â  Â  Â  Â  Â  Â  -&gt; origin/dev
 Â  ea2820a86a..0b72369f35  oh-3.27.0-release Â  -&gt; origin/oh-3.27.0-release
 Â  c18a193ae8..1d693d1c5b  oh-3.27.4-dev Â  Â  Â  -&gt; origin/oh-3.27.4-dev
 Â  c06e970add..9a658da965  oh-3.32.4-dev Â  Â  Â  -&gt; origin/oh-3.32.4-dev
 * [new tag] Â  Â  Â  Â  Â  Â  Â  3.22.1-ohos-1.0.9 Â  -&gt; 3.22.1-ohos-1.0.9
 * [new tag] Â  Â  Â  Â  Â  Â  Â  3.27.5-ohos-1.0.3 Â  -&gt; 3.27.5-ohos-1.0.3
Updating b15356702b..419a77c140
Fast-forward
 bin/internal/engine.ohos.har.version Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   | Â  2 +-
 bin/internal/engine.ohos.version Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   | Â  2 +-
 engine/src/flutter/shell/platform/ohos/background_resource_cleanup.h Â   | Â 95 +++++++++++++++++++++++++++++++++++++++++++++
 engine/src/flutter/shell/platform/ohos/napi/platform_view_ohos_napi.cpp | Â  6 ++-
 engine/src/flutter/shell/platform/ohos/ohos_surface_gl_skia.cpp Â  Â  Â  Â  | Â 60 ++++++++++++++++++++++++----
 engine/src/flutter/shell/platform/ohos/platform_view_ohos.cpp Â  Â  Â  Â  Â  | 286 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 engine/src/flutter/shell/platform/ohos/platform_view_ohos.h Â  Â  Â  Â  Â  Â  | 101 ++++++++++++++++++++++++++++++++++++++++++++++-
 7 files changed, 539 insertions(+), 13 deletions(-)
 create mode 100644 engine/src/flutter/shell/platform/ohos/background_resource_cleanup.h
</code></pre>
<h4 data-id="heading-3">2. æ£€æŸ¥ç¯å¢ƒå®Œæ•´æ€§</h4>
<p>æ‰§è¡Œ <code>flutter doctor -v</code> æ£€æŸ¥æœ¬åœ° Flutter-OH ç¯å¢ƒçš„ä¾èµ–ã€å·¥å…·é“¾ã€è®¾å¤‡è¿æ¥ç­‰çŠ¶æ€ï¼Œç¡®è®¤æ— å…³é”®å¼‚å¸¸ï¼ˆéæ ¸å¿ƒé—®é¢˜å¦‚Xcode/CocoaPodså¯å¿½ç•¥ï¼Œä¸å½±å“OpenHarmonyå¼€å‘ï¼‰ï¼š</p>
<pre><code class="hljs">flutter doctor -v
</code></pre>
<p>ç¤ºä¾‹è¾“å‡ºï¼ˆå·²åŒæ­¥æœ€æ–°ä»£ç çš„æ­£å¸¸çŠ¶æ€ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">Downloading</span> <span class="hljs-selector-tag">Darwin</span> <span class="hljs-selector-tag">arm64</span> <span class="hljs-selector-tag">Dart</span> <span class="hljs-selector-tag">SDK</span> <span class="hljs-selector-tag">from</span> <span class="hljs-selector-tag">Flutter</span> <span class="hljs-selector-tag">engine</span> <span class="hljs-selector-tag">b15356702b41d3bd6a857d588ab21e85e54c174a</span>...
<span class="hljs-selector-tag">dart-sdk-url</span>: <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//flutter-ohos.obs.cn-south-1.myhuaweicloud.com/flutter_infra_release/flutter/b15356702b41d3bd6a857d588ab21e85e54c174a/dart-sdk-darwin-arm64.zip</span>
  % <span class="hljs-selector-tag">Total</span> Â   % <span class="hljs-selector-tag">Received</span> % <span class="hljs-selector-tag">Xferd</span>  <span class="hljs-selector-tag">Average</span> <span class="hljs-selector-tag">Speed</span> Â  <span class="hljs-selector-tag">Time</span> Â   <span class="hljs-selector-tag">Time</span> Â  Â  <span class="hljs-selector-tag">Time</span>  <span class="hljs-selector-tag">Current</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-selector-tag">Dload</span>  <span class="hljs-selector-tag">Upload</span> Â  <span class="hljs-selector-tag">Total</span> Â  <span class="hljs-selector-tag">Spent</span> Â   <span class="hljs-selector-tag">Left</span>  <span class="hljs-selector-tag">Speed</span>
<span class="hljs-number">100</span>  <span class="hljs-number">197</span><span class="hljs-selector-tag">M</span> Â <span class="hljs-number">100</span>  <span class="hljs-number">197</span><span class="hljs-selector-tag">M</span> Â  Â <span class="hljs-number">0</span> Â  Â  <span class="hljs-number">0</span> Â <span class="hljs-number">32.3</span><span class="hljs-selector-tag">M</span> Â  Â  Â <span class="hljs-number">0</span> Â <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">06</span> Â <span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">06</span> <span class="hljs-selector-tag">--</span>:<span class="hljs-selector-tag">--</span>:<span class="hljs-selector-tag">--</span> <span class="hljs-number">35.4</span><span class="hljs-selector-tag">M</span>
<span class="hljs-selector-tag">Building</span> <span class="hljs-selector-tag">flutter</span> <span class="hljs-selector-tag">tool</span>...
<span class="hljs-selector-tag">Resolving</span> <span class="hljs-selector-tag">dependencies</span>... 
<span class="hljs-selector-tag">Downloading</span> <span class="hljs-selector-tag">packages</span>... 
<span class="hljs-selector-tag">Got</span> <span class="hljs-selector-tag">dependencies</span>.
<span class="hljs-selector-tag">Flutter</span> <span class="hljs-selector-tag">assets</span> <span class="hljs-selector-tag">will</span> <span class="hljs-selector-tag">be</span> <span class="hljs-selector-tag">downloaded</span> <span class="hljs-selector-tag">from</span> <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//storage.flutter-io.cn. Make sure you trust this source!</span>
<span class="hljs-selector-tag">Downloading</span> <span class="hljs-selector-tag">darwin-arm64</span> <span class="hljs-selector-tag">tools</span>... Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-number">1</span>,<span class="hljs-number">108ms</span>
<span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">Flutter</span> (Channel [user-branch], <span class="hljs-number">3.35</span>.<span class="hljs-number">8</span>-ohos-<span class="hljs-number">0.0</span>.<span class="hljs-number">1</span>-canary1, on macOS <span class="hljs-number">15.2</span> <span class="hljs-number">24</span>C103 darwin-arm64, locale zh-Hans-CN) <span class="hljs-selector-attr">[730ms]</span>
 Â   ! <span class="hljs-selector-tag">Flutter</span> <span class="hljs-selector-tag">version</span> <span class="hljs-number">3.35</span><span class="hljs-selector-class">.8-ohos-0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.1-canary1</span> <span class="hljs-selector-tag">on</span> <span class="hljs-selector-tag">channel</span> <span class="hljs-selector-attr">[user-branch]</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Users</span>/<span class="hljs-selector-tag">jianguo</span>/<span class="hljs-selector-tag">Desktop</span>/<span class="hljs-selector-tag">harmony</span>/<span class="hljs-selector-tag">flutter</span>/<span class="hljs-selector-tag">flutter_flutter</span>
 Â  Â   <span class="hljs-selector-tag">Currently</span> <span class="hljs-selector-tag">on</span> <span class="hljs-selector-tag">an</span> <span class="hljs-selector-tag">unknown</span> <span class="hljs-selector-tag">channel</span>. <span class="hljs-selector-tag">Run</span> `<span class="hljs-selector-tag">flutter</span> <span class="hljs-selector-tag">channel</span>` <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">switch</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">an</span> <span class="hljs-selector-tag">official</span> <span class="hljs-selector-tag">channel</span>.
 Â  Â   <span class="hljs-selector-tag">If</span> <span class="hljs-selector-tag">that</span> <span class="hljs-selector-tag">doesn</span>'<span class="hljs-selector-tag">t</span> <span class="hljs-selector-tag">fix</span> <span class="hljs-selector-tag">the</span> <span class="hljs-selector-tag">issue</span>, <span class="hljs-selector-tag">reinstall</span> <span class="hljs-selector-tag">Flutter</span> <span class="hljs-selector-tag">by</span> <span class="hljs-selector-tag">following</span> <span class="hljs-selector-tag">instructions</span> <span class="hljs-selector-tag">at</span> <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//flutter.dev/setup.</span>
 Â   â€¢ <span class="hljs-selector-tag">Upstream</span> <span class="hljs-selector-tag">repository</span> <span class="hljs-selector-tag">git</span>@<span class="hljs-selector-tag">gitcode</span><span class="hljs-selector-class">.com</span>:<span class="hljs-selector-tag">openharmony-tpc</span>/<span class="hljs-selector-tag">flutter_flutter</span><span class="hljs-selector-class">.git</span>
 Â   â€¢ <span class="hljs-selector-tag">FLUTTER_GIT_URL</span> = <span class="hljs-selector-tag">git</span>@<span class="hljs-selector-tag">gitcode</span><span class="hljs-selector-class">.com</span>:<span class="hljs-selector-tag">openharmony-tpc</span>/<span class="hljs-selector-tag">flutter_flutter</span><span class="hljs-selector-class">.git</span>
 Â   â€¢ <span class="hljs-selector-tag">Framework</span> <span class="hljs-selector-tag">revision</span> <span class="hljs-number">419</span><span class="hljs-selector-tag">a77c140</span> (<span class="hljs-number">23</span> minutes ago), <span class="hljs-number">2026</span><span class="hljs-selector-tag">-01-23</span> <span class="hljs-number">09</span>:<span class="hljs-number">50</span>:<span class="hljs-number">03</span> +<span class="hljs-number">0800</span>
 Â   â€¢ <span class="hljs-selector-tag">Engine</span> <span class="hljs-selector-tag">revision</span> <span class="hljs-number">035316565</span><span class="hljs-selector-tag">a</span>
 Â   â€¢ <span class="hljs-selector-tag">Dart</span> <span class="hljs-selector-tag">version</span> <span class="hljs-number">3.9</span><span class="hljs-selector-class">.2</span>
 Â   â€¢ <span class="hljs-selector-tag">DevTools</span> <span class="hljs-selector-tag">version</span> <span class="hljs-number">2.48</span><span class="hljs-selector-class">.0</span>
 Â   â€¢ <span class="hljs-selector-tag">Pub</span> <span class="hljs-selector-tag">download</span> <span class="hljs-selector-tag">mirror</span> <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//pub.flutter-io.cn</span>
 Â   â€¢ <span class="hljs-selector-tag">Flutter</span> <span class="hljs-selector-tag">download</span> <span class="hljs-selector-tag">mirror</span> <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//storage.flutter-io.cn</span>
 Â   â€¢ <span class="hljs-selector-tag">Feature</span> <span class="hljs-selector-tag">flags</span>: <span class="hljs-selector-tag">enable-ohos</span>, <span class="hljs-selector-tag">enable-web</span>, <span class="hljs-selector-tag">enable-linux-desktop</span>, <span class="hljs-selector-tag">enable-macos-desktop</span>, <span class="hljs-selector-tag">enable-windows-desktop</span>, <span class="hljs-selector-tag">enable-android</span>, <span class="hljs-selector-tag">enable-ios</span>, <span class="hljs-selector-tag">cli-animations</span>, <span class="hljs-selector-tag">enable-native-assets</span>, <span class="hljs-selector-tag">enable-lldb-debugging</span>
 Â   â€¢ <span class="hljs-selector-tag">If</span> <span class="hljs-selector-tag">those</span> <span class="hljs-selector-tag">were</span> <span class="hljs-selector-tag">intentional</span>, <span class="hljs-selector-tag">you</span> <span class="hljs-selector-tag">can</span> <span class="hljs-selector-tag">disregard</span> <span class="hljs-selector-tag">the</span> <span class="hljs-selector-tag">above</span> <span class="hljs-selector-tag">warnings</span>; <span class="hljs-selector-tag">however</span> <span class="hljs-selector-tag">it</span> <span class="hljs-selector-tag">is</span> <span class="hljs-selector-tag">recommended</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">use</span> "<span class="hljs-selector-tag">git</span>" <span class="hljs-selector-tag">directly</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">perform</span> <span class="hljs-selector-tag">update</span> <span class="hljs-selector-tag">checks</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">upgrades</span>.
â€‹
<span class="hljs-selector-attr">[âœ“]</span> <span class="hljs-selector-tag">HarmonyOS</span> <span class="hljs-selector-tag">toolchain</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">develop</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">HarmonyOS</span> <span class="hljs-selector-tag">devices</span>
 Â   â€¢ <span class="hljs-selector-tag">OpenHarmony</span> <span class="hljs-selector-tag">Sdk</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Users</span>/<span class="hljs-selector-tag">jianguo</span>/<span class="hljs-selector-tag">Library</span>/<span class="hljs-selector-tag">OpenHarmony</span>/<span class="hljs-selector-tag">Sdk</span>, <span class="hljs-selector-tag">available</span> <span class="hljs-selector-tag">api</span> <span class="hljs-selector-tag">versions</span> <span class="hljs-selector-tag">has</span> <span class="hljs-selector-attr">[20:20]</span>
 Â   â€¢ <span class="hljs-selector-tag">Ohpm</span> <span class="hljs-selector-tag">version</span> <span class="hljs-number">6.0</span><span class="hljs-selector-class">.1</span>
 Â   â€¢ <span class="hljs-selector-tag">Node</span> <span class="hljs-selector-tag">version</span> <span class="hljs-selector-tag">v23</span><span class="hljs-selector-class">.11</span><span class="hljs-selector-class">.0</span>
 Â   â€¢ <span class="hljs-selector-tag">Hvigorw</span> <span class="hljs-selector-tag">binary</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Applications</span>/<span class="hljs-selector-tag">DevEco-Studio</span><span class="hljs-selector-class">.app</span>/<span class="hljs-selector-tag">Contents</span>/<span class="hljs-selector-tag">tools</span>/<span class="hljs-selector-tag">hvigor</span>/<span class="hljs-selector-tag">bin</span>/<span class="hljs-selector-tag">hvigorw</span>
â€‹
<span class="hljs-selector-attr">[âœ“]</span> <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">toolchain</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">develop</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">devices</span> (Android SDK version <span class="hljs-number">36.1</span>.<span class="hljs-number">0</span>-rc1) <span class="hljs-selector-attr">[5.7s]</span>
 Â   â€¢ <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">SDK</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Users</span>/<span class="hljs-selector-tag">jianguo</span>/<span class="hljs-selector-tag">Library</span>/<span class="hljs-selector-tag">Android</span>/<span class="hljs-selector-tag">sdk</span>
 Â   â€¢ <span class="hljs-selector-tag">Emulator</span> <span class="hljs-selector-tag">version</span> <span class="hljs-selector-tag">unknown</span>
 Â   â€¢ <span class="hljs-selector-tag">Platform</span> <span class="hljs-selector-tag">android-36</span>, <span class="hljs-selector-tag">build-tools</span> <span class="hljs-number">36.1</span><span class="hljs-selector-class">.0-rc1</span>
 Â   â€¢ <span class="hljs-selector-tag">Java</span> <span class="hljs-selector-tag">binary</span> <span class="hljs-selector-tag">at</span>: /<span class="hljs-selector-tag">Applications</span>/<span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">Studio</span><span class="hljs-selector-class">.app</span>/<span class="hljs-selector-tag">Contents</span>/<span class="hljs-selector-tag">jbr</span>/<span class="hljs-selector-tag">Contents</span>/<span class="hljs-selector-tag">Home</span>/<span class="hljs-selector-tag">bin</span>/<span class="hljs-selector-tag">java</span>
 Â  Â   <span class="hljs-selector-tag">This</span> <span class="hljs-selector-tag">is</span> <span class="hljs-selector-tag">the</span> <span class="hljs-selector-tag">JDK</span> <span class="hljs-selector-tag">bundled</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">the</span> <span class="hljs-selector-tag">latest</span> <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">Studio</span> <span class="hljs-selector-tag">installation</span> <span class="hljs-selector-tag">on</span> <span class="hljs-selector-tag">this</span> <span class="hljs-selector-tag">machine</span>.
 Â  Â   <span class="hljs-selector-tag">To</span> <span class="hljs-selector-tag">manually</span> <span class="hljs-selector-tag">set</span> <span class="hljs-selector-tag">the</span> <span class="hljs-selector-tag">JDK</span> <span class="hljs-selector-tag">path</span>, <span class="hljs-selector-tag">use</span>: `<span class="hljs-selector-tag">flutter</span> <span class="hljs-selector-tag">config</span> <span class="hljs-selector-tag">--jdk-dir</span>="<span class="hljs-selector-tag">path</span>/<span class="hljs-selector-tag">to</span>/<span class="hljs-selector-tag">jdk</span>"`.
 Â   â€¢ <span class="hljs-selector-tag">Java</span> <span class="hljs-selector-tag">version</span> <span class="hljs-selector-tag">OpenJDK</span> <span class="hljs-selector-tag">Runtime</span> <span class="hljs-selector-tag">Environment</span> (build <span class="hljs-number">21.0</span>.<span class="hljs-number">6</span>+-<span class="hljs-number">13391695</span>-b895.<span class="hljs-number">109</span>)
 Â   â€¢ <span class="hljs-keyword">All</span> <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">licenses</span> <span class="hljs-selector-tag">accepted</span>.
â€‹
<span class="hljs-selector-attr">[!]</span> <span class="hljs-selector-tag">Xcode</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">develop</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">iOS</span> <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">macOS</span> (Xcode <span class="hljs-number">16.3</span>) <span class="hljs-selector-attr">[820ms]</span>
 Â   â€¢ <span class="hljs-selector-tag">Xcode</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Applications</span>/<span class="hljs-selector-tag">Xcode</span><span class="hljs-selector-class">.app</span>/<span class="hljs-selector-tag">Contents</span>/<span class="hljs-selector-tag">Developer</span>
 Â   â€¢ <span class="hljs-selector-tag">Build</span> <span class="hljs-number">16</span><span class="hljs-selector-tag">E140</span>
 Â   âœ— <span class="hljs-selector-tag">Unable</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">get</span> <span class="hljs-selector-tag">list</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">installed</span> <span class="hljs-selector-tag">Simulator</span> <span class="hljs-selector-tag">runtimes</span>.
 Â   âœ— <span class="hljs-selector-tag">CocoaPods</span> <span class="hljs-selector-tag">not</span> <span class="hljs-selector-tag">installed</span>.
 Â  Â  Â   <span class="hljs-selector-tag">CocoaPods</span> <span class="hljs-selector-tag">is</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">package</span> <span class="hljs-selector-tag">manager</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">iOS</span> <span class="hljs-selector-tag">or</span> <span class="hljs-selector-tag">macOS</span> <span class="hljs-selector-tag">platform</span> <span class="hljs-selector-tag">code</span>.
 Â  Â  Â   <span class="hljs-selector-tag">Without</span> <span class="hljs-selector-tag">CocoaPods</span>, <span class="hljs-selector-tag">plugins</span> <span class="hljs-selector-tag">will</span> <span class="hljs-selector-tag">not</span> <span class="hljs-selector-tag">work</span> <span class="hljs-selector-tag">on</span> <span class="hljs-selector-tag">iOS</span> <span class="hljs-selector-tag">or</span> <span class="hljs-selector-tag">macOS</span>.
 Â  Â  Â   <span class="hljs-selector-tag">For</span> <span class="hljs-selector-tag">more</span> <span class="hljs-selector-tag">info</span>, <span class="hljs-selector-tag">see</span> <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//flutter.dev/to/platform-plugins</span>
 Â  Â   <span class="hljs-selector-tag">For</span> <span class="hljs-selector-tag">installation</span> <span class="hljs-selector-tag">instructions</span>, <span class="hljs-selector-tag">see</span> <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//guides.cocoapods.org/using/getting-started.html#installation</span>
â€‹
<span class="hljs-selector-attr">[âœ“]</span> <span class="hljs-selector-tag">Chrome</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">develop</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">the</span> <span class="hljs-selector-tag">web</span> <span class="hljs-selector-attr">[51ms]</span>
 Â   â€¢ <span class="hljs-selector-tag">Chrome</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Applications</span>/<span class="hljs-selector-tag">Google</span> <span class="hljs-selector-tag">Chrome</span><span class="hljs-selector-class">.app</span>/<span class="hljs-selector-tag">Contents</span>/<span class="hljs-selector-tag">MacOS</span>/<span class="hljs-selector-tag">Google</span> <span class="hljs-selector-tag">Chrome</span>
â€‹
<span class="hljs-selector-attr">[âœ“]</span> <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">Studio</span> (version <span class="hljs-number">2025.1</span>) <span class="hljs-selector-attr">[51ms]</span>
 Â   â€¢ <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">Studio</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Applications</span>/<span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">Studio</span><span class="hljs-selector-class">.app</span>/<span class="hljs-selector-tag">Contents</span>
 Â   â€¢ <span class="hljs-selector-tag">Flutter</span> <span class="hljs-selector-tag">plugin</span> <span class="hljs-selector-tag">can</span> <span class="hljs-selector-tag">be</span> <span class="hljs-selector-tag">installed</span> <span class="hljs-selector-tag">from</span>:
 Â  Â   ğŸ”¨ <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//plugins.jetbrains.com/plugin/9212-flutter</span>
 Â   â€¢ <span class="hljs-selector-tag">Dart</span> <span class="hljs-selector-tag">plugin</span> <span class="hljs-selector-tag">can</span> <span class="hljs-selector-tag">be</span> <span class="hljs-selector-tag">installed</span> <span class="hljs-selector-tag">from</span>:
 Â  Â   ğŸ”¨ <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//plugins.jetbrains.com/plugin/6351-dart</span>
 Â   â€¢ <span class="hljs-selector-tag">Java</span> <span class="hljs-selector-tag">version</span> <span class="hljs-selector-tag">OpenJDK</span> <span class="hljs-selector-tag">Runtime</span> <span class="hljs-selector-tag">Environment</span> (build <span class="hljs-number">21.0</span>.<span class="hljs-number">6</span>+-<span class="hljs-number">13391695</span>-b895.<span class="hljs-number">109</span>)
â€‹
<span class="hljs-selector-attr">[âœ“]</span> <span class="hljs-selector-tag">VS</span> <span class="hljs-selector-tag">Code</span> (version <span class="hljs-number">1.106</span>.<span class="hljs-number">3</span>) <span class="hljs-selector-attr">[50ms]</span>
 Â   â€¢ <span class="hljs-selector-tag">VS</span> <span class="hljs-selector-tag">Code</span> <span class="hljs-selector-tag">at</span> /<span class="hljs-selector-tag">Applications</span>/<span class="hljs-selector-tag">Visual</span> <span class="hljs-selector-tag">Studio</span> <span class="hljs-selector-tag">Code</span><span class="hljs-selector-class">.app</span>/<span class="hljs-selector-tag">Contents</span>
 Â   â€¢ <span class="hljs-selector-tag">Flutter</span> <span class="hljs-selector-tag">extension</span> <span class="hljs-selector-tag">can</span> <span class="hljs-selector-tag">be</span> <span class="hljs-selector-tag">installed</span> <span class="hljs-selector-tag">from</span>:
 Â  Â   ğŸ”¨ <span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//marketplace.visualstudio.com/items?itemName=Dart-Code.flutter</span>
â€‹
<span class="hljs-selector-attr">[âœ“]</span> <span class="hljs-selector-tag">Connected</span> <span class="hljs-selector-tag">device</span> (<span class="hljs-number">2</span> available) <span class="hljs-selector-attr">[9.8s]</span>
 Â   â€¢ <span class="hljs-selector-tag">macOS</span> (desktop) â€¢ <span class="hljs-selector-tag">macos</span>  â€¢ <span class="hljs-selector-tag">darwin-arm64</span> Â  â€¢ <span class="hljs-selector-tag">macOS</span> <span class="hljs-number">15.2</span> <span class="hljs-number">24</span><span class="hljs-selector-tag">C103</span> <span class="hljs-selector-tag">darwin-arm64</span>
 Â   â€¢ <span class="hljs-selector-tag">Chrome</span> (web) Â   â€¢ <span class="hljs-selector-tag">chrome</span> â€¢ <span class="hljs-selector-tag">web-javascript</span> â€¢ <span class="hljs-selector-tag">Google</span> <span class="hljs-selector-tag">Chrome</span> <span class="hljs-number">144.0</span><span class="hljs-selector-class">.7559</span><span class="hljs-selector-class">.61</span>
â€‹
<span class="hljs-selector-attr">[âœ“]</span> <span class="hljs-selector-tag">Network</span> <span class="hljs-selector-tag">resources</span> <span class="hljs-selector-attr">[2.3s]</span>
 Â   â€¢ <span class="hljs-keyword">All</span> <span class="hljs-selector-tag">expected</span> <span class="hljs-selector-tag">network</span> <span class="hljs-selector-tag">resources</span> <span class="hljs-selector-tag">are</span> <span class="hljs-selector-tag">available</span>.
â€‹
! <span class="hljs-selector-tag">Doctor</span> <span class="hljs-selector-tag">found</span> <span class="hljs-selector-tag">issues</span> <span class="hljs-selector-tag">in</span> <span class="hljs-number">2</span> <span class="hljs-selector-tag">categories</span>.
</code></pre>
<h4 data-id="heading-4">3. ç¡®è®¤å½“å‰Flutter-OHç‰ˆæœ¬</h4>
<p>æ‰§è¡Œ <code>flutter --version</code> æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬å·ï¼Œç¡®è®¤å·²åŒæ­¥åˆ°ä»“åº“æœ€æ–°ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-css" lang="css">flutter <span class="hljs-attr">--version</span>
</code></pre>
<p>ç¤ºä¾‹è¾“å‡ºï¼ˆæœ€æ–°è¿­ä»£ç‰ˆæœ¬ï¼‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Flutter <span class="hljs-number">3.35</span><span class="hljs-selector-class">.8-ohos-0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.1-canary1</span> â€¢ channel <span class="hljs-selector-attr">[user-branch]</span> â€¢ git<span class="hljs-keyword">@gitcode</span>.<span class="hljs-attribute">com</span>:openharmony-tpc/flutter_flutter.git
Framework â€¢ revision <span class="hljs-number">419</span>a77c140 (<span class="hljs-number">65</span> minutes ago) â€¢ <span class="hljs-number">2026</span>-<span class="hljs-number">01</span>-<span class="hljs-number">23</span> <span class="hljs-number">09</span>:<span class="hljs-number">50</span>:<span class="hljs-number">03</span> +<span class="hljs-number">0800</span>
Engine â€¢ hash <span class="hljs-number">6</span>b24e1b529bc46df7ff397667502719a2a8b6b72 (revision <span class="hljs-number">035316565</span>a) (<span class="hljs-number">3</span> months ago) â€¢ <span class="hljs-number">2025</span>-<span class="hljs-number">10</span>-<span class="hljs-number">21</span> <span class="hljs-number">14</span>:<span class="hljs-number">28</span>:<span class="hljs-number">01.000</span>Z
Tools â€¢ Dart <span class="hljs-number">3.9</span>.<span class="hljs-number">2</span> â€¢ DevTools <span class="hljs-number">2.48</span>.<span class="hljs-number">0</span>
</code></pre>
<h3 data-id="heading-5">äºŒã€å…¨æ–°é…ç½®ï¼šæ‹‰å–OpenHarmonyç‰ˆFlutterä»“åº“</h3>
<p>è‹¥ä½ è¿˜æœªæ‹‰å–è¿‡ Flutter-OH 3.35.7 å¯¹åº”çš„ä»“åº“ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤ç›´æ¥æ‹‰å– <code>oh-3.35.7-dev</code> åˆ†æ”¯ä»£ç ï¼Œå…¨ç¨‹æ— éœ€ç™»å½•AtomGitï¼Œå…¬å¼€ä»“åº“å¯ç›´æ¥è®¿é—®ã€‚</p>
<h4 data-id="heading-6">1. åˆ‡æ¢æœ¬åœ°å­˜æ”¾ç›®å½•</h4>
<p>æ‰“å¼€ç»ˆç«¯ï¼ˆWindowsç”¨PowerShellã€Mac/Linuxç”¨Terminalï¼‰ï¼Œåˆ‡æ¢åˆ°ä½ æƒ³è¦å­˜æ”¾ä»“åº“çš„ç›®å½•ï¼ˆç¤ºä¾‹ä¸ºæ¡Œé¢ï¼Œå¯æ ¹æ®è‡ªèº«éœ€æ±‚ä¿®æ”¹ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Windowsï¼ˆPowerShellï¼‰</span>
<span class="hljs-built_in">cd</span> C:\Users\ä½ çš„ç”¨æˆ·å\Desktop
â€‹
<span class="hljs-comment"># Mac/Linux</span>
<span class="hljs-built_in">cd</span> ~/Desktop
</code></pre>
<h4 data-id="heading-7">2. å…‹éš†æŒ‡å®šåˆ†æ”¯ä»“åº“</h4>
<p>æ‰§è¡Œä»¥ä¸‹Gitå‘½ä»¤ï¼Œç›´æ¥æ‹‰å– <code>oh-3.35.7-dev</code> åˆ†æ”¯ï¼ˆé¿å…æ‹‰å–é»˜è®¤åˆ†æ”¯å¯¼è‡´ç‰ˆæœ¬ä¸ç¬¦ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> -b oh-3.35.7-dev https://atomgit.com/openharmony-tpc/flutter_flutter.git
</code></pre>
<p><strong>å‘½ä»¤ç®€å•è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>clone</code>ï¼šå°†è¿œç¨‹ä»“åº“å®Œæ•´å…‹éš†åˆ°æœ¬åœ°ï¼›</li>
<li><code>-b oh-3.35.7-dev</code>ï¼šæŒ‡å®šå…‹éš†çš„ç›®æ ‡åˆ†æ”¯ï¼›</li>
<li>åç»­URLä¸ºå®˜æ–¹AtomGitä»“åº“åœ°å€ï¼Œç¡®ä¿ä»£ç æ¥æºå¯é ã€‚</li>
</ul>
<h4 data-id="heading-8">3. éªŒè¯æ‹‰å–ç»“æœ</h4>
<p>å…‹éš†å®Œæˆåï¼Œæœ¬åœ°ç›®æ ‡ç›®å½•ä¼šç”Ÿæˆ <code>flutter_flutter</code> æ–‡ä»¶å¤¹ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹å¹¶æ£€æŸ¥å½“å‰åˆ†æ”¯ï¼Œç¡®è®¤æ‹‰å–æ— è¯¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥ä»“åº“ç›®å½•</span>
<span class="hljs-built_in">cd</span> flutter_flutter
<span class="hljs-comment"># æŸ¥çœ‹å½“å‰åˆ†æ”¯</span>
git branch
</code></pre>
<p>ç»ˆç«¯è¾“å‡º <code>* oh-3.35.7-dev</code> å³è¡¨ç¤ºæ‹‰å–æˆåŠŸï¼Œå½“å‰å·²å¤„äºæ­£ç¡®çš„å¼€å‘åˆ†æ”¯ã€‚</p>
<h3 data-id="heading-9">ä¸‰ã€å¼€å‘å¿…å¤‡ï¼šå®šæœŸåŒæ­¥æœ€æ–°ä»£ç </h3>
<p>ç”±äº <code>oh-3.35.7-dev</code> æ˜¯<strong>å¼€å‘åˆ†æ”¯</strong>ï¼Œå®˜æ–¹ä¼šæ¯æ—¥è¿›è¡Œbugä¿®å¤ã€é—®é¢˜ä¼˜åŒ–ï¼Œä¸ºäº†é¿å…å¼€å‘ä¸­é‡åˆ°å·²è§£å†³çš„é—®é¢˜ï¼Œå»ºè®®å¤§å®¶<strong>æ¯æ¬¡å¼€å‘å‰/å®šæœŸ</strong>åœ¨ <code>flutter_flutter</code> ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒåŒæ­¥ä»“åº“æœ€æ–°æ›´æ–°ï¼š</p>
<pre><code class="hljs">git pull
</code></pre>
<p>åŒæ­¥å®Œæˆåï¼Œå³å¯åŸºäºæœ€æ–°çš„Flutter-OH 3.35.7ç‰ˆæœ¬è¿›è¡ŒOpenHarmonyç›¸å…³å¼€å‘ï¼Œä¿è¯å¼€å‘ç¯å¢ƒçš„ç¨³å®šæ€§ã€‚</p>
<p>æ‹‰å–å¹¶é…ç½®å¥½æœ€æ–°ç¯å¢ƒåï¼Œå³å¯æ­£å¸¸è¿›è¡ŒFlutter-OHçš„å¼€å‘å·¥ä½œï¼Œç¥å¤§å®¶å¼€å‘é¡ºåˆ©ï¼</p>
<p>ä»“åº“åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fatomgit.com%2Fopenharmony-tpc%2Fflutter_flutter%2Ftree%2Foh-3.35.7-dev" target="_blank" title="https://atomgit.com/openharmony-tpc/flutter_flutter/tree/oh-3.35.7-dev" ref="nofollow noopener noreferrer">atomgit.com/openharmonyâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026æ¶æ„é¢„æ¼”ï¼šåˆ«å†å·å¾®æœåŠ¡äº†ï¼Œä½ çš„ç³»ç»Ÿç¼ºä¸€ä¸ªâ€œAI AgentæŒ‡æŒ¥å®˜â€]]></title>    <link>https://juejin.cn/post/7598083101361192966</link>    <guid>https://juejin.cn/post/7598083101361192966</guid>    <pubDate>2026-01-23T02:41:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598083101361192966" data-draft-id="7598112768146931718" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026æ¶æ„é¢„æ¼”ï¼šåˆ«å†å·å¾®æœåŠ¡äº†ï¼Œä½ çš„ç³»ç»Ÿç¼ºä¸€ä¸ªâ€œAI AgentæŒ‡æŒ¥å®˜â€"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,é˜¿é‡Œå·´å·´"/> <meta itemprop="datePublished" content="2026-01-23T02:41:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒå’Iii"/> <meta itemprop="url" content="https://juejin.cn/user/4443568362490122"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026æ¶æ„é¢„æ¼”ï¼šåˆ«å†å·å¾®æœåŠ¡äº†ï¼Œä½ çš„ç³»ç»Ÿç¼ºä¸€ä¸ªâ€œAI AgentæŒ‡æŒ¥å®˜â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4443568362490122/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒå’Iii
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T02:41:39.000Z" title="Fri Jan 23 2026 02:41:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šå½“å•ä½“æ™ºèƒ½ä½“ï¼ˆSingle Agentï¼‰å‘å¤šæ™ºèƒ½ä½“åä½œï¼ˆMulti-Agentï¼‰æ¼”è¿›æ—¶ï¼Œæˆ‘ä»¬é­é‡äº†å‰æ‰€æœªæœ‰çš„â€œæ²»ç†å±æœºâ€ã€‚æ­»å¾ªç¯ã€ä¸Šä¸‹æ–‡æ±¡æŸ“ã€æ„å›¾å†²çª......è¿™äº›é—®é¢˜ä¸æ˜¯é æ¢ä¸ªæ›´å¼ºçš„å¤§æ¨¡å‹èƒ½è§£å†³çš„ã€‚æœ¬æ–‡å°†ä»æ¶æ„è§†è§’æ¨æ¼”ï¼Œä¸ºä½•åœ¨2026å¹´çš„æŠ€æœ¯æ ˆä¸­ï¼Œ**â€œAI AgentæŒ‡æŒ¥å®˜â€**å°†å–ä»£ä¼ ç»Ÿçš„APIç½‘å…³å’ŒBPMå¼•æ“ï¼Œæˆä¸ºæ–°çš„ç³»ç»Ÿå¿ƒè„ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/457a0072f0f94431a8f28462e0e9f104~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOB5Z6SSWlp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769740899&amp;x-signature=70Q85wD%2BtZIvVNMzTWPRjjwXoGE%3D" alt="a0d61d9720a8722b5f7c57cc657f2f67.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-0">å¼•è¨€ï¼šä»â€œèƒ¶æ°´ä»£ç â€åˆ°â€œè®¤çŸ¥ç¼–æ’â€</h3>
<p>ç«™åœ¨2026å¹´çš„è§†è§’å›æœ›ï¼Œ2024-2025å¹´æ˜¯æˆ‘ä»¬ä»â€œPromptå·¥ç¨‹â€è½¬å‘â€œAgentå·¥ç¨‹â€çš„å…³é”®ä¸¤å¹´ã€‚</p>
<p>åœ¨è¿‡å»çš„å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸ºäº†ä¸²è”ä¸šåŠ¡ï¼Œåç«¯å·¥ç¨‹å¸ˆå†™äº†æ— æ•°çš„**â€œèƒ¶æ°´ä»£ç â€ <strong>ï¼ˆGlue Codeï¼‰å’Œç¡¬ç¼–ç çš„</strong>ç¼–æ’é€»è¾‘**ï¼ˆOrchestration Logicï¼‰ã€‚</p>
<ul>
<li><em>â€œå¦‚æœåº“å­˜ä¸è¶³ï¼Œåˆ™è°ƒç”¨æ¨èæœåŠ¡ï¼›å¦‚æœåº“å­˜å……è¶³ï¼Œåˆ™è°ƒç”¨ç‰©æµæœåŠ¡ã€‚â€</em></li>
</ul>
<p>è¿™ç§ç¡®å®šæ€§çš„é€»è¾‘åœ¨AIæ—¶ä»£æ˜¾å¾—åƒµåŒ–ä¸”è„†å¼±ã€‚å½“æˆ‘ä»¬è¯•å›¾è®©å¤šä¸ªå‚ç›´é¢†åŸŸçš„Agentï¼ˆå¦‚ï¼šSQLä¸“å®¶ã€æ–‡æ¡ˆä¸“å®¶ã€æ•°æ®åˆ†æå¸ˆï¼‰ååŒå·¥ä½œæ—¶ï¼Œå¦‚æœç¼ºä¹ä¸€ä¸ªç»Ÿä¸€çš„è°ƒåº¦ä¸­å¿ƒï¼Œç³»ç»Ÿå¾ˆå¿«å°±ä¼šé€€åŒ–æˆä¸€ç¾¤â€œåµæ¶çš„å®ä¹ ç”Ÿâ€ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼Œæ¶æ„å‡çº§çš„é‡å¿ƒæ­£åœ¨ä»â€œå¾®æœåŠ¡æ²»ç†â€è½¬å‘**â€œæ™ºèƒ½ä½“ç¼–æ’â€**ã€‚è€Œè¿™ä¸ªæ¶æ„çš„æ ¸å¿ƒï¼Œå°±æ˜¯ <strong>AI AgentæŒ‡æŒ¥å®˜ï¼ˆAI Orchestratorï¼‰</strong> ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ ä¸ºä»€ä¹ˆå¤šAgentç³»ç»Ÿä¼šé™·å…¥â€œæ— æ”¿åºœçŠ¶æ€â€ï¼Ÿ</h3>
<p>åœ¨æ˜é‡‘ç¤¾åŒºï¼Œå¾ˆå¤šå¼€å‘è€…å·²ç»å°è¯•è¿‡ AutoGen æˆ– MetaGPTã€‚å¤§å®¶å‘ç°äº†ä¸€ä¸ªå…±æ€§é—®é¢˜ï¼š<strong>Token æ¶ˆè€—å·¨å¤§ï¼Œä½†äº§å‡ºä¸å¯æ§ã€‚</strong></p>
<p>å¦‚æœæ²¡æœ‰ä¸€ä¸ªå¼ºæœ‰åŠ›çš„æŒ‡æŒ¥å®˜ï¼Œå¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰é¢ä¸´ä¸‰å¤§æ¶æ„ç†µå¢ï¼š</p>
<ol>
<li>
<p><strong>æ­»é”ä¸å¾ªç¯ï¼ˆInfinite Loopsï¼‰</strong></p>
<ul>
<li>Agent Aï¼šâ€œæˆ‘éœ€è¦æ›´å¤šæ•°æ®ã€‚â€</li>
<li>Agent Bï¼šâ€œè¯·æ˜ç¡®ä½ éœ€è¦ä»€ä¹ˆæ•°æ®ã€‚â€</li>
<li>Agent Aï¼šâ€œå°±æ˜¯åˆšæ‰é‚£ä¸ªæ•°æ®ã€‚â€</li>
<li><em>ç»“æœï¼šä¸¤ä¸ªAgentåœ¨æ— æ•ˆå¯¹è¯ä¸­çƒ§å…‰äº†ä½ çš„Tokené…é¢ã€‚</em></li>
</ul>
</li>
<li>
<p><strong>å¹»è§‰æ”¾å¤§ï¼ˆHallucination Cascadeï¼‰</strong></p>
<ul>
<li>ä¸Šæ¸¸Agentçš„ä¸€ä¸ªå¾®å°äº‹å®é”™è¯¯ï¼Œè¢«ä¸‹æ¸¸Agentå½“åšâ€œçœŸç†â€è¿›è¡Œæ¨ç†ï¼Œæœ€ç»ˆå¯¼è‡´è¾“å‡ºç»“æœç¦»é¢˜ä¸‡é‡Œã€‚</li>
</ul>
</li>
<li>
<p><strong>èµ„æºäº‰å¤ºï¼ˆResource Contentionï¼‰</strong></p>
<ul>
<li>å¤šä¸ªAgentè¯•å›¾åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªæ•°æ®åº“è®°å½•ï¼Œæˆ–è€…å¹¶å‘è°ƒç”¨åŒä¸€ä¸ªé™æµAPIã€‚</li>
</ul>
</li>
</ol>
<p><strong>ç»“è®ºï¼š</strong> å»ä¸­å¿ƒåŒ–çš„è‡ªç»„ç»‡ï¼ˆSelf-Organizationï¼‰åœ¨ç°é˜¶æ®µæ˜¯ä¹Œæ‰˜é‚¦ã€‚ä¼ä¸šçº§åº”ç”¨éœ€è¦<strong>ä¸­å¿ƒåŒ–çš„â€œAI AgentæŒ‡æŒ¥å®˜â€</strong> ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€ æ¶æ„å®šä¹‰ï¼šAI AgentæŒ‡æŒ¥å®˜çš„æ ¸å¿ƒèŒè´£</h3>
<p><strong>AI AgentæŒ‡æŒ¥å®˜</strong>ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„LLMï¼Œè€Œæ˜¯ä¸€ç§<strong>æ¶æ„æ¨¡å¼ï¼ˆPatternï¼‰</strong> ã€‚å®ƒé€šå¸¸æ˜¯ä¸€ä¸ªç»è¿‡æŒ‡ä»¤å¾®è°ƒï¼ˆInstruction Tunedï¼‰çš„é«˜æ™ºå•†æ¨¡å‹ï¼ˆå¦‚ GPT-4o æˆ– Claude 3.5 Sonnetï¼‰ï¼Œè´Ÿè´£ä»¥ä¸‹æ ¸å¿ƒä»»åŠ¡ï¼š</p>
<h4 data-id="heading-3">1. åŠ¨æ€è§„åˆ’ä¸DAGç”Ÿæˆ (Dynamic Planning)</h4>
<p>æŒ‡æŒ¥å®˜ä¸ç›´æ¥å¹²æ´»ï¼Œå®ƒè´Ÿè´£å°†æ¨¡ç³Šçš„ç”¨æˆ·éœ€æ±‚ï¼ˆUser Intentï¼‰æ‹†è§£ä¸º<strong>æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰</strong> ã€‚</p>
<ul>
<li>
<p><strong>è¾“å…¥</strong>ï¼šâ€œå¸®æˆ‘åˆ†æç«å“Xçš„Q3è´¢æŠ¥ï¼Œå¹¶å†™ä¸€ç¯‡å¯¹æ¯”è½¯æ–‡ã€‚â€</p>
</li>
<li>
<p><strong>æŒ‡æŒ¥å®˜æ‹†è§£</strong>ï¼š</p>
<ol>
<li>[æœç´¢Agent] -&gt; ä¸‹è½½è´¢æŠ¥PDFã€‚</li>
<li>[åˆ†æAgent] -&gt; æå–å…³é”®è´¢åŠ¡æŒ‡æ ‡ï¼ˆå¹¶è¡Œæ‰§è¡Œï¼‰ã€‚</li>
<li>[å†™ä½œAgent] -&gt; åŸºäºæŒ‡æ ‡ç”Ÿæˆæ–‡ç« ã€‚</li>
<li>[å®¡æ ¸Agent] -&gt; æ£€æŸ¥åˆè§„æ€§ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-4">2. è¯­ä¹‰è·¯ç”± (Semantic Routing)</h4>
<p>è¿™æ˜¯å–ä»£ä¼ ç»ŸAPIç½‘å…³çš„å…³é”®ã€‚æŒ‡æŒ¥å®˜åˆ©ç”¨ <strong>LLM-as-a-Router</strong> æœºåˆ¶ï¼Œæ ¹æ®è¯­ä¹‰ç›¸ä¼¼åº¦ï¼Œå°†ä»»åŠ¡åˆ†å‘ç»™æœ€åˆé€‚çš„å­Agentæˆ–å·¥å…·ï¼ˆToolsï¼‰ã€‚</p>
<p>Python</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä¼ªä»£ç ç¤ºä¾‹ï¼šåŸºäºè¯­ä¹‰çš„è·¯ç”±é€»è¾‘</span>
async def agent_commander(user_query):
    <span class="hljs-attr">plan</span> = await planner_llm.generate_plan(user_query)
    
    for task in plan.steps:
        <span class="hljs-comment"># è·¯ç”±å†³ç­–ï¼šè°æœ€æ“…é•¿è¿™ä¸ªä»»åŠ¡ï¼Ÿ</span>
        <span class="hljs-attr">selected_agent</span> = await router.select(
            task.description, 
            <span class="hljs-attr">candidates</span>=[sales_agent, coder_agent, data_agent]
        )
        
        <span class="hljs-attr">result</span> = await selected_agent.execute(task)
        <span class="hljs-comment"># çŠ¶æ€æ›´æ–°åˆ°å…¨å±€é»‘æ¿</span>
        blackboard.update(result)
</code></pre>
<h4 data-id="heading-5">3. è®°å¿†ä¸çŠ¶æ€ç®¡ç† (Memory &amp; State)</h4>
<p>æŒ‡æŒ¥å®˜ç»´æŠ¤ç€å…¨å±€çš„**â€œé»‘æ¿â€ï¼ˆBlackboard Patternï¼‰**ã€‚å­Agentæ˜¯æ— çŠ¶æ€çš„ï¼Œç”¨å®Œå³èµ°ï¼›åªæœ‰æŒ‡æŒ¥å®˜æ‹¥æœ‰â€œé•¿çŸ­æœŸè®°å¿†â€ï¼Œå®ƒçŸ¥é“ä»»åŠ¡è¿›è¡Œåˆ°äº†å“ªä¸€æ­¥ï¼Œä¹ŸçŸ¥é“ä¹‹å‰çš„AgentçŠ¯äº†ä»€ä¹ˆé”™ã€‚</p>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€ 2026æ¶æ„å›¾è°±ï¼šReAct æ¨¡å¼çš„å‡çº§</h3>
<p>åœ¨2026å¹´çš„æ¶æ„è“å›¾ä¸­ï¼Œæˆ‘ä»¬ä¸å†å•çº¯ä¾èµ– ReActï¼ˆReason + Actï¼‰å¾ªç¯ï¼Œè€Œæ˜¯å‡çº§ä¸º <strong>SOPï¼ˆæ ‡å‡†ä½œä¸šç¨‹åºï¼‰é©±åŠ¨çš„æŒ‡æŒ¥å®˜æ¶æ„</strong>ã€‚</p>
<ul>
<li>
<p><strong>æ„ŸçŸ¥å±‚ï¼ˆPerceptionï¼‰</strong> ï¼šå¤šæ¨¡æ€è¾“å…¥ï¼ŒæŒ‡æŒ¥å®˜ä¸ä»…å¬æ‡‚æ–‡å­—ï¼Œè¿˜èƒ½çœ‹æ‡‚å›¾è¡¨å’Œä»£ç ã€‚</p>
</li>
<li>
<p><strong>ä¸­æ¢å±‚ï¼ˆThe Commanderï¼‰</strong> ï¼š</p>
<ul>
<li><strong>SOP æ³¨å…¥</strong>ï¼šä¼ä¸šå°†ä¸šåŠ¡æµç¨‹ï¼ˆå¦‚é€€æ¬¾æµç¨‹ã€ä»£ç Reviewæµç¨‹ï¼‰å†™å…¥æŒ‡æŒ¥å®˜çš„ System Promptã€‚</li>
<li><strong>äººæœºå›ç¯ï¼ˆHuman-in-the-loopï¼‰</strong> ï¼šæŒ‡æŒ¥å®˜åœ¨å…³é”®èŠ‚ç‚¹ï¼ˆå¦‚è½¬è´¦ã€åˆ åº“ï¼‰å¿…é¡»æŒ‚èµ·ä»»åŠ¡ï¼Œè¯·æ±‚äººç±»æ‰¹å‡†ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œå±‚ï¼ˆWorker Agentsï¼‰</strong> ï¼šä¸“ç²¾çš„å°æ¨¡å‹ï¼ˆSmall Language Modelsï¼‰ï¼Œæˆæœ¬ä½ã€å“åº”å¿«ï¼Œåªè´Ÿè´£å•ä¸€ä»»åŠ¡ï¼ˆå¦‚ SQLç”Ÿæˆã€æ­£åˆ™æå–ï¼‰ã€‚</p>
</li>
</ul>
<p><strong>è¿™ç§æ¶æ„å®ç°äº†â€œé«˜æ™ºå•†æŒ‡æŒ¥ï¼ˆå¤§æ¨¡å‹ï¼‰ + é«˜æ•ˆç‡æ‰§è¡Œï¼ˆå°æ¨¡å‹ï¼‰â€çš„å®Œç¾å¹³è¡¡ã€‚</strong></p>
<hr/>
<h3 data-id="heading-7">å››ã€ ç»™å¼€å‘è€…çš„å»ºè®®ï¼šå¦‚ä½•è¡¥ä¸Šè¿™å—æ‹¼å›¾ï¼Ÿ</h3>
<p>å¦‚æœä½ æƒ³åœ¨2026å¹´çš„æŠ€æœ¯æµªæ½®ä¸­ç«™ç¨³è„šè·Ÿï¼Œç°åœ¨å°±è¦å¼€å§‹è½¬å˜æ€ç»´ï¼š</p>
<ol>
<li><strong>åœæ­¢æ‰‹å†™ <code>if-else</code> è·¯ç”±</strong>ï¼šå°è¯•ä½¿ç”¨ Semantic Kernel æˆ– LangChain çš„ RouterChainï¼Œå­¦ä¹ å¦‚ä½•ç”¨è¯­ä¹‰æ§åˆ¶æµç¨‹ã€‚</li>
<li><strong>å®šä¹‰æ¸…æ™°çš„ Agent æ¥å£</strong>ï¼šæœªæ¥çš„ API æ–‡æ¡£ä¸æ˜¯å†™ç»™äººçš„ï¼Œæ˜¯å†™ç»™ AI æŒ‡æŒ¥å®˜çœ‹çš„ã€‚Schema çš„æè¿°è¶Šç²¾å‡†ï¼ŒæŒ‡æŒ¥å®˜çš„è°ƒåº¦å°±è¶Šç¨³å®šã€‚</li>
<li><strong>å…³æ³¨å¯è§‚æµ‹æ€§ï¼ˆObservabilityï¼‰</strong> ï¼šå½“é€»è¾‘ç”± AI åŠ¨æ€ç”Ÿæˆæ—¶ï¼Œä½ éœ€è¦æ›´å¼ºçš„ Trace å·¥å…·ï¼ˆå¦‚ LangSmithï¼‰æ¥ç›‘æ§æŒ‡æŒ¥å®˜çš„å†³ç­–è·¯å¾„ã€‚</li>
</ol>
<h3 data-id="heading-8">äº”ã€ ç»“è¯­</h3>
<p>è½¯ä»¶å·¥ç¨‹çš„æœ¬è´¨æ˜¯æ§åˆ¶å¤æ‚åº¦ã€‚</p>
<p>å¾®æœåŠ¡æ—¶ä»£ï¼Œæˆ‘ä»¬ç”¨ç½‘ç»œé€šä¿¡æ¢å–äº†å¼€å‘çš„è§£è€¦ï¼› <strong>æ™ºèƒ½ä½“æ—¶ä»£ï¼Œæˆ‘ä»¬å°†ç”¨â€œAI AgentæŒ‡æŒ¥å®˜â€æ¢å–ä¸šåŠ¡çš„è‡ªé€‚åº”ã€‚</strong></p>
<p>æœªæ¥çš„æ¶æ„å¸ˆï¼Œä¸å†æ˜¯ç”»é™æ€æ‹“æ‰‘å›¾çš„äººï¼Œè€Œæ˜¯è®¾è®¡<strong>AIåä½œè§„åˆ™</strong>çš„äººã€‚ä½ çš„ç³»ç»Ÿé‡Œï¼Œç¼ºçš„ä¸æ˜¯ç®—åŠ›ï¼Œè€Œæ˜¯ä¸€ä½èƒ½ç»Ÿé¢†åƒå†›ä¸‡é©¬çš„æŒ‡æŒ¥å®˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‚£äº›å¹´æˆ‘ä»¬è¿½è¿‡çš„ ECMAScript]]></title>    <link>https://juejin.cn/post/7598130716339126310</link>    <guid>https://juejin.cn/post/7598130716339126310</guid>    <pubDate>2026-01-23T03:27:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598130716339126310" data-draft-id="7598043378018959369" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é‚£äº›å¹´æˆ‘ä»¬è¿½è¿‡çš„ ECMAScript"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-23T03:27:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xuyanzhuqing"/> <meta itemprop="url" content="https://juejin.cn/user/4235764156872295"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é‚£äº›å¹´æˆ‘ä»¬è¿½è¿‡çš„ ECMAScript
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4235764156872295/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xuyanzhuqing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:27:17.000Z" title="Fri Jan 23 2026 03:27:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript ä» ES2015 åˆ° ES2026 çš„æ ¸å¿ƒæ›´æ–°æ¢³ç†</h2>
<h3 data-id="heading-1">ES2015 (ES6) - é‡Œç¨‹ç¢‘å¼æ›´æ–°</h3>
<p>è¿™æ˜¯ JS å²ä¸Šæœ€é‡å¤§çš„ä¸€æ¬¡æ›´æ–°ï¼Œé‡æ„äº†è¯­è¨€æ ¸å¿ƒè¯­æ³•å’Œç‰¹æ€§ï¼š</p>
<ol>
<li>
<p><strong>å—çº§ä½œç”¨åŸŸä¸å£°æ˜</strong></p>
<ol>
<li>
<p><code>let</code>/<code>const</code>ï¼šæ›¿ä»£ <code>var</code>ï¼Œæä¾›å—çº§ä½œç”¨åŸŸï¼Œ<code>const</code> å£°æ˜åªè¯»å¸¸é‡</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">PI</span> = <span class="hljs-number">3.14159</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">count</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
if (true) {
  let <span class="hljs-attr">count</span> = <span class="hljs-number">1</span><span class="hljs-comment">; // å—å†…ç‹¬ç«‹ä½œç”¨åŸŸ</span>
  console.log(count)<span class="hljs-comment">; // 1</span>
}
console.log(count)<span class="hljs-comment">; // 0</span>
</code></pre>
</li>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>ç®­å¤´å‡½æ•°</strong>ï¼šç®€åŒ–å‡½æ•°å†™æ³•ï¼Œç»‘å®šè¯æ³• <code>this</code></p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;
<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"JS"</span>,
  <span class="hljs-attr">sayHi</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>) <span class="hljs-comment">// ç®­å¤´å‡½æ•°thisæŒ‡å‘å¤–å±‚ï¼ˆå…¨å±€ï¼‰</span>
};
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>ç±»ä¸æ¨¡å—</strong></p>
<ol>
<li><code>class</code> è¯­æ³•ï¼šç®€åŒ–åŸå‹é“¾ç¼–ç¨‹</li>
<li><code>import</code>/<code>export</code>ï¼šæ¨¡å—åŒ–æ ‡å‡†</li>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡å—å¯¼å‡º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name = <span class="hljs-string">"ES6"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}
<span class="hljs-comment">// æ¨¡å—å¯¼å…¥</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Person</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./module.js'</span>;
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>è§£æ„èµ‹å€¼</strong>ï¼šå¿«é€Ÿæå–å¯¹è±¡/æ•°ç»„æ•°æ®</p>
<ol>
<li>
<pre><code class="hljs language-css" lang="css">const <span class="hljs-selector-attr">[a, b]</span> = <span class="hljs-selector-attr">[1, 2]</span>;
const { name, age } = { name: <span class="hljs-string">"Tom"</span>, age: <span class="hljs-number">20</span> };
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å…¶ä»–æ ¸å¿ƒç‰¹æ€§</strong>ï¼šæ¨¡æ¿å­—ç¬¦ä¸² <code>`hello ${name}`</code>ã€é»˜è®¤å‚æ•°ã€æ‰©å±•è¿ç®—ç¬¦ <code>...</code>ã€<code>Promise</code>ã€<code>Map/Set</code> ç­‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-2">ES2016 (ES7) - å°ç‰ˆæœ¬å¢é‡æ›´æ–°</h3>
<ol>
<li>
<p><strong>æ•°ç»„</strong> <strong><code>includes()</code></strong> <strong>æ–¹æ³•</strong>ï¼šæ›¿ä»£ <code>indexOf</code> åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼ˆæ”¯æŒ <code>NaN</code>ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-attr">[1, 2, NaN]</span><span class="hljs-selector-class">.includes</span>(NaN); <span class="hljs-comment">// true</span>
<span class="hljs-selector-attr">[1, 2, NaN]</span><span class="hljs-selector-class">.indexOf</span>(NaN); <span class="hljs-comment">// -1</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å¹‚è¿ç®—ç¬¦</strong> <strong><code>**</code></strong> ï¼šæ›¿ä»£ <code>Math.pow()</code></p>
<ol>
<li>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">2</span> ** <span class="hljs-number">3</span>; <span class="hljs-comment">// 8 ç­‰åŒäº Math.pow(2, 3)</span>
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-3">ES2017 (ES8)</h3>
<ol>
<li>
<p><strong><code>async/await</code></strong>ï¼šå¼‚æ­¥ç¼–ç¨‹ç»ˆææ–¹æ¡ˆï¼Œç®€åŒ– Promise é“¾å¼è°ƒç”¨</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/data'</span>);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
  }
}
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å¯¹è±¡æ‰©å±•</strong></p>
<ol>
<li><code>Object.values()</code>/<code>Object.entries()</code>ï¼šè·å–å¯¹è±¡å€¼/é”®å€¼å¯¹æ•°ç»„</li>
<li><code>Object.getOwnPropertyDescriptors()</code>ï¼šè·å–å¯¹è±¡å±æ€§å®Œæ•´æè¿°</li>
<li>
<pre><code class="hljs language-css" lang="css">const obj = { <span class="hljs-selector-tag">a</span>: <span class="hljs-number">1</span>, b: <span class="hljs-number">2</span> };
<span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.values</span>(obj); // <span class="hljs-selector-attr">[1, 2]</span>
<span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.entries</span>(obj); // <span class="hljs-selector-attr">[[<span class="hljs-string">'a'</span>, 1]</span>, <span class="hljs-selector-attr">[<span class="hljs-string">'b'</span>, 2]</span>]
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å­—ç¬¦ä¸²å¡«å……</strong>ï¼š<code>padStart()</code>/<code>padEnd()</code></p>
<ol>
<li>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-string">'123'</span>.padStart(<span class="hljs-number">5</span>, <span class="hljs-string">'0'</span>); <span class="hljs-regexp">//</span> <span class="hljs-string">'00123'</span>
<span class="hljs-string">'123'</span>.padEnd(<span class="hljs-number">5</span>, <span class="hljs-string">'0'</span>); <span class="hljs-regexp">//</span> <span class="hljs-string">'12300'</span>
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-4">ES2018 (ES9)</h3>
<ol>
<li>
<p><strong>å¼‚æ­¥è¿­ä»£å™¨</strong>ï¼š<code>for await...of</code> éå†å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processAsyncData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> asyncIterable = {
    [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncIterator</span>]() {
      <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">return</span> {
        <span class="hljs-title function_">next</span>(<span class="hljs-params"/>) {
          <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>({ <span class="hljs-attr">value</span>: i++, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> });
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>({ <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> });
        }
      };
    }
  };
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> num <span class="hljs-keyword">of</span> asyncIterable) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// 0, 1, 2</span>
  }
}
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>æ­£åˆ™æ‰©å±•</strong>ï¼šåå‘æ–­è¨€ã€<code>dotAll</code> æ¨¡å¼ï¼ˆ<code>.</code> åŒ¹é…ä»»æ„å­—ç¬¦ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ åè¡Œæ–­è¨€
/</span>(<span class="hljs-string">?&lt;</span>=<span class="hljs-variable">$)</span>\d+<span class="hljs-regexp">/.exec('$100'); /</span><span class="hljs-regexp">/ ['100']
/</span><span class="hljs-regexp">/ dotAll æ¨¡å¼
/a</span>.b/s.test(<span class="hljs-string">'a\nb'</span>); <span class="hljs-regexp">//</span> <span class="hljs-literal">true</span>ï¼ˆé»˜è®¤æ¨¡å¼ä¸‹ä¸º <span class="hljs-literal">false</span>ï¼‰
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦</strong>ï¼š<code>...</code> è§£æ„/åˆå¹¶å¯¹è±¡</p>
<ol>
<li>
<pre><code class="hljs language-css" lang="css">const obj1 = { <span class="hljs-selector-tag">a</span>: <span class="hljs-number">1</span> };
const obj2 = { ..<span class="hljs-selector-class">.obj1</span>, <span class="hljs-selector-tag">b</span>: <span class="hljs-number">2</span> }; // { <span class="hljs-selector-tag">a</span>: <span class="hljs-number">1</span>, b: <span class="hljs-number">2</span> }
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-5">ES2019 (ES10)</h3>
<ol>
<li>
<p><strong>æ•°ç»„æ–¹æ³•æ‰©å±•</strong></p>
<ol>
<li><code>Array.prototype.flat()</code>ï¼šæ‰å¹³åŒ–æ•°ç»„ï¼ˆé»˜è®¤1å±‚ï¼‰</li>
<li><code>Array.prototype.flatMap()</code>ï¼š<code>map + flat</code> ç»„åˆ</li>
<li>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[1, [2, [3]]]</span>.flat(2)<span class="hljs-comment">; // [1, 2, 3]</span>
<span class="hljs-section">[1, 2, 3]</span>.flatMap(<span class="hljs-attr">x</span> =&gt; [x * <span class="hljs-number">2</span>])<span class="hljs-comment">; // [2, 4, 6]</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å­—ç¬¦ä¸²</strong> <strong><code>trimStart()</code></strong> <strong>/</strong> <strong><code>trimEnd()</code></strong> ï¼šæ›¿ä»£ <code>trimLeft()</code>/<code>trimRight()</code>ï¼Œè¯­ä¹‰æ›´æ¸…æ™°</p>
</li>
<li>
<p><strong><code>Object.fromEntries()</code></strong> ï¼šå°†é”®å€¼å¯¹æ•°ç»„è½¬å›å¯¹è±¡ï¼ˆ<code>Object.entries</code> åå‘æ“ä½œï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-css" lang="css">const arr = <span class="hljs-selector-attr">[[<span class="hljs-string">'a'</span>, 1]</span>, <span class="hljs-selector-attr">[<span class="hljs-string">'b'</span>, 2]</span>];
<span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.fromEntries</span>(arr); // { <span class="hljs-selector-tag">a</span>: <span class="hljs-number">1</span>, b: <span class="hljs-number">2</span> }
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å¯é€‰æ•è·ç»‘å®š</strong>ï¼š<code>try/catch</code> ä¸­ <code>catch</code> å¯ä»¥çœç•¥å‚æ•°</p>
<ol>
<li>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">try</span> {
  <span class="hljs-comment">// å¯èƒ½å‡ºé”™çš„ä»£ç </span>
} <span class="hljs-keyword">catch</span> { <span class="hljs-comment">// æ— éœ€å†™ (err)</span>
  <span class="hljs-comment">// å¤„ç†é”™è¯¯ï¼ˆæ— éœ€ä½¿ç”¨errå‚æ•°æ—¶ï¼‰</span>
}
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-6">ES2020 (ES11)</h3>
<ol>
<li>
<p><strong>å¯é€‰é“¾æ“ä½œç¬¦</strong> <strong><code>?.</code></strong> ï¼šé¿å…è®¿é—®åµŒå¥—å¯¹è±¡å±æ€§æ—¶çš„ <code>Cannot read property 'xxx' of undefined</code> é”™è¯¯</p>
<ol>
<li>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> obj = { a: { b: <span class="hljs-number">1</span> } };
console.<span class="hljs-built_in">log</span>(obj?.a?.b); <span class="hljs-comment">// 1</span>
console.<span class="hljs-built_in">log</span>(obj?.c?.d); <span class="hljs-comment">// undefinedï¼ˆä¸ä¼šæŠ¥é”™ï¼‰</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</strong> <strong><code>??</code></strong> ï¼šä»…å½“å·¦ä¾§ä¸º <code>null/undefined</code> æ—¶è¿”å›å³ä¾§ï¼ˆåŒºåˆ«äº <code>||</code>ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-number">0</span> <span class="hljs-string">??</span> <span class="hljs-number">1</span>; <span class="hljs-regexp">//</span> <span class="hljs-number">0</span>ï¼ˆ|<span class="hljs-params"/>| ä¼šè¿”å›<span class="hljs-number">1</span>ï¼‰
null <span class="hljs-string">??</span> <span class="hljs-number">1</span>; <span class="hljs-regexp">//</span> <span class="hljs-number">1</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>BigInt</code></strong>ï¼šæ”¯æŒè¶…å¤§æ•´æ•°è¿ç®—ï¼ˆè¶…å‡º <code>Number.MAX_SAFE_INTEGER</code> èŒƒå›´ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">bigNum</span> = <span class="hljs-number">9007199254740991</span>n + <span class="hljs-number">2</span>n<span class="hljs-comment">; // 9007199254740993n</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>import()</code></strong> <strong>åŠ¨æ€å¯¼å…¥</strong>ï¼šæŒ‰éœ€åŠ è½½æ¨¡å—ï¼ˆè¿”å› Promiseï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadModule</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./module.js'</span>);
  <span class="hljs-variable language_">module</span>.<span class="hljs-title function_">doSomething</span>();
}
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-7">ES2021 (ES12)</h3>
<ol>
<li>
<p><strong>æ•°å­—åˆ†éš”ç¬¦</strong> <strong><code>_</code></strong> ï¼šæå‡å¤§æ•°å­—å¯è¯»æ€§</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">billion</span> = <span class="hljs-number">1_000_000_000</span><span class="hljs-comment">; // ç­‰åŒäº 1000000000</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>String.prototype.replaceAll()</code></strong> ï¼šæ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹ï¼ˆæ— éœ€æ­£åˆ™å…¨å±€æ ‡å¿—ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-css" lang="css">'<span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span>'<span class="hljs-selector-class">.replaceAll</span>('<span class="hljs-selector-tag">a</span>', 'x'); // 'x <span class="hljs-selector-tag">b</span> x <span class="hljs-selector-tag">b</span>'
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>Promise.any()</code></strong> ï¼šåªè¦æœ‰ä¸€ä¸ª Promise æˆåŠŸå°±è¿”å›ï¼ˆåŒºåˆ«äº <code>Promise.race</code>ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>([<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-number">1</span>), <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>)])
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)); <span class="hljs-comment">// 2</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦</strong>ï¼š<code>&amp;&amp;=</code>ã€<code>||=</code>ã€<code>??=</code></p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">a</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
a ||= 1<span class="hljs-comment">; // 1ï¼ˆç­‰åŒäº a = a || 1ï¼‰</span>
let <span class="hljs-attr">b</span> = <span class="hljs-number">2</span><span class="hljs-comment">;</span>
b &amp;&amp;= 3<span class="hljs-comment">; // 3ï¼ˆç­‰åŒäº b = b &amp;&amp; 3ï¼‰</span>
let <span class="hljs-attr">c</span> = null<span class="hljs-comment">;</span>
c ??= 4<span class="hljs-comment">; // 4ï¼ˆç­‰åŒäº c = c ?? 4ï¼‰</span>
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-8">ES2022 (ES13)</h3>
<ol>
<li>
<p><strong>ç±»å­—æ®µå£°æ˜</strong>ï¼šæ”¯æŒåœ¨ç±»ä¸­ç›´æ¥å£°æ˜å®ä¾‹/é™æ€å­—æ®µï¼ˆæ— éœ€åœ¨ constructor ä¸­èµ‹å€¼ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  name = <span class="hljs-string">'Tom'</span>; <span class="hljs-comment">// å®ä¾‹å­—æ®µ</span>
  <span class="hljs-keyword">static</span> age = <span class="hljs-number">20</span>; <span class="hljs-comment">// é™æ€å­—æ®µ</span>
  #privateField = <span class="hljs-string">'ç§æœ‰å€¼'</span>; <span class="hljs-comment">// ç§æœ‰å­—æ®µï¼ˆ# å¼€å¤´ï¼‰</span>
  
  <span class="hljs-title function_">getPrivate</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#privateField;
  }
}
<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>); <span class="hljs-comment">// Tom</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Person</span>.<span class="hljs-property">age</span>); <span class="hljs-comment">// 20</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.#privateField); <span class="hljs-comment">// æŠ¥é”™ï¼ˆæ— æ³•è®¿é—®ç§æœ‰å­—æ®µï¼‰</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>at()</code></strong> <strong>æ–¹æ³•</strong>ï¼šæ”¯æŒæ•°ç»„/å­—ç¬¦ä¸²è´Ÿç´¢å¼•è®¿é—®</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">;</span>
arr.at(-1)<span class="hljs-comment">; // 3ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ ï¼‰</span>
'hello'.at(-2)<span class="hljs-comment">; // 'l'</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>Object.hasOwn()</code></strong> ï¼šæ›¿ä»£ <code>Object.prototype.hasOwnProperty.call()</code>ï¼Œæ›´å®‰å…¨</p>
<ol>
<li>
<pre><code class="hljs language-css" lang="css">const obj = { <span class="hljs-selector-tag">a</span>: <span class="hljs-number">1</span> };
<span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.hasOwn</span>(obj, '<span class="hljs-selector-tag">a</span>'); // true
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>Top-level</strong> <strong><code>await</code></strong>ï¼šæ¨¡å—é¡¶å±‚å¯ç›´æ¥ä½¿ç”¨ awaitï¼ˆæ— éœ€åŒ…è£¹ async å‡½æ•°ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// module.js</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/data'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>());
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> data;
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-9">ES2023 (ES14)</h3>
<ol>
<li>
<p><strong>æ•°ç»„æ–¹æ³•æ‰©å±•</strong>ï¼š<code>findLast()</code>/<code>findLastIndex()</code>ï¼ˆä»åå¾€å‰æŸ¥æ‰¾ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]<span class="hljs-comment">;</span>
arr.findLast(<span class="hljs-attr">x</span> =&gt; x === <span class="hljs-number">2</span>)<span class="hljs-comment">; // 2ï¼ˆæœ€åä¸€ä¸ª2ï¼‰</span>
arr.findLastIndex(<span class="hljs-attr">x</span> =&gt; x === <span class="hljs-number">2</span>)<span class="hljs-comment">; // 3</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>Array.fromAsync()</code></strong> ï¼šä»å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡åˆ›å»ºæ•°ç»„</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> asyncIterable = (<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>* () {
    <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;
    <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;
  })();
  <span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">fromAsync</span>(asyncIterable);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <span class="hljs-comment">// [1, 2]</span>
}
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>WeakMap æ”¯æŒ Symbol é”®</strong>ï¼šæ­¤å‰ä»…æ”¯æŒå¯¹è±¡é”®</p>
</li>
</ol>
<h3 data-id="heading-10">ES2024 (ES15)</h3>
<ol>
<li>
<p><strong><code>Promise.withResolvers()</code></strong> ï¼šç®€åŒ– Promise æ‰‹åŠ¨åˆ›å»ºï¼ˆæ›¿ä»£æ‰‹åŠ¨å£°æ˜ resolve/rejectï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ—§å†™æ³•</span>
<span class="hljs-keyword">const</span> promise1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
  <span class="hljs-comment">// é€»è¾‘</span>
});
<span class="hljs-comment">// æ–°å†™æ³•</span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">promise</span>: promise2, resolve, reject } = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">withResolvers</span>();
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>æ­£åˆ™</strong> <strong><code>/v</code></strong> <strong>æ ‡å¿—ï¼ˆUnicode å±æ€§è½¬ä¹‰æ‰©å±•ï¼‰</strong> ï¼šæ›´ç²¾å‡†åŒ¹é… Unicode å­—ç¬¦</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">// åŒ¹é…æ‰€æœ‰ä¸­æ–‡ï¼ˆæ›´ç²¾å‡†ï¼‰
/\p{<span class="hljs-attr">Script</span>=Han}/v.test(<span class="hljs-string">'ä¸­æ–‡'</span>)<span class="hljs-comment">; // true</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>Array.prototype.toReversed()</code></strong> <strong>/</strong> <strong><code>toSorted()</code></strong> <strong>/</strong> <strong><code>toSpliced()</code></strong> ï¼šéç ´åæ€§æ•°ç»„æ–¹æ³•ï¼ˆåŸæ•°ç»„ä¸å˜ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]<span class="hljs-comment">;</span>
const <span class="hljs-attr">sortedArr</span> = arr.toSorted()<span class="hljs-comment">; // [1, 2, 3]</span>
console.log(arr)<span class="hljs-comment">; // [3, 1, 2]ï¼ˆåŸæ•°ç»„æœªå˜ï¼‰</span>
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-11">ES2025 (ES16) - å·²å®šç¨¿ç‰¹æ€§</h3>
<ol>
<li>
<p><strong><code>Object.groupBy()</code></strong> ï¼šæŒ‰æ¡ä»¶åˆ†ç»„å¯¹è±¡/æ•°ç»„ï¼ˆæ›¿ä»£æ‰‹åŠ¨éå†åˆ†ç»„ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<span class="hljs-comment">;</span>
const <span class="hljs-attr">grouped</span> = Object.groupBy(arr, num =&gt; num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? <span class="hljs-string">'even'</span> : <span class="hljs-string">'odd'</span>)<span class="hljs-comment">;</span>
// { odd: <span class="hljs-section">[1, 3, 5]</span>, even: <span class="hljs-section">[2, 4]</span> }
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>String.prototype.isWellFormed()</code></strong> <strong>/</strong> <strong><code>toWellFormed()</code></strong> ï¼šå¤„ç†æ— æ•ˆ Unicode å­—ç¬¦</p>
<ol>
<li>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">const</span> <span class="hljs-type">str</span> = <span class="hljs-string">'\ud800'</span>; <span class="hljs-comment">// æ— æ•ˆ Unicode</span>
<span class="hljs-type">str</span>.<span class="hljs-title function_ invoke__">isWellFormed</span>(); <span class="hljs-comment">// false</span>
<span class="hljs-type">str</span>.<span class="hljs-title function_ invoke__">toWellFormed</span>(); <span class="hljs-comment">// '\ufffd'ï¼ˆæ›¿æ¢ä¸ºæ›¿æ¢å­—ç¬¦ï¼‰</span>
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 data-id="heading-12">ES2026 (ES17) - å€™é€‰/ææ¡ˆé˜¶æ®µæ ¸å¿ƒç‰¹æ€§</h3>
<p>ï¼ˆæ³¨ï¼šES2026 å°šæœªæœ€ç»ˆå®šç¨¿ï¼Œä»¥ä¸‹æ˜¯å½“å‰è¿›å…¥ Stage 3+ çš„æ ¸å¿ƒææ¡ˆï¼‰</p>
<ol>
<li>
<p><strong>ç®¡é“è¿ç®—ç¬¦</strong> <strong><code>|&gt;</code></strong> ï¼šç®€åŒ–å‡½æ•°è°ƒç”¨é“¾ï¼ˆæ›¿ä»£åµŒå¥—è°ƒç”¨ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ—§å†™æ³•</span>
const result = <span class="hljs-built_in">multiply</span>(add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), <span class="hljs-number">3</span>); <span class="hljs-comment">// 9</span>
<span class="hljs-comment">// æ–°å†™æ³•</span>
const result = <span class="hljs-number">1</span> |&gt; <span class="hljs-built_in">add</span>(<span class="hljs-number">2</span>) |&gt; <span class="hljs-built_in">multiply</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// 9</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>Record</code></strong> <strong>/</strong> <strong><code>Tuple</code></strong>ï¼šä¸å¯å˜æ•°æ®ç±»å‹ï¼ˆRecord æ˜¯ä¸å¯å˜å¯¹è±¡ï¼ŒTuple æ˜¯ä¸å¯å˜æ•°ç»„ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> record = #{ name: <span class="hljs-string">'Tom'</span>, age: <span class="hljs-number">20</span> }; <span class="hljs-comment">// ä¸å¯å˜Record</span>
<span class="hljs-type">const</span> tuple = #[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]; <span class="hljs-comment">// ä¸å¯å˜Tuple</span>
tuple.<span class="hljs-built_in">push</span>(<span class="hljs-number">4</span>); <span class="hljs-comment">// æŠ¥é”™ï¼ˆä¸å¯å˜ï¼‰</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong><code>do</code></strong> <strong>è¡¨è¾¾å¼</strong>ï¼šå°†è¯­å¥å—è½¬ä¸ºè¡¨è¾¾å¼ï¼ˆå¯åœ¨èµ‹å€¼/è¿”å›ä¸­ä½¿ç”¨ï¼‰</p>
<ol>
<li>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> value = <span class="hljs-keyword">do</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">num</span> &gt; <span class="hljs-number">10</span>) <span class="hljs-string">'big'</span>;
  <span class="hljs-keyword">else</span> <span class="hljs-string">'small'</span>;
};
</code></pre>
</li>
</ol>
</li>
</ol>
<h4 data-id="heading-13">æ€»ç»“</h4>
<ol>
<li><strong>æ ¸å¿ƒæ¼”è¿›é€»è¾‘</strong>ï¼šES2015 å¥ å®šç°ä»£ JS åŸºç¡€ï¼Œåç»­ç‰ˆæœ¬ä»¥â€œå¢é‡æ›´æ–°â€ä¸ºä¸»ï¼Œèšç„¦<strong>ç®€åŒ–å¼€å‘</strong>ï¼ˆå¦‚ <code>async/await</code>ã€å¯é€‰é“¾ï¼‰ã€<strong>å¢å¼ºå®‰å…¨æ€§</strong>ï¼ˆå¦‚ç§æœ‰å­—æ®µã€<code>Object.hasOwn</code>ï¼‰ã€<strong>æå‡å¯è¯»æ€§</strong>ï¼ˆå¦‚æ•°å­—åˆ†éš”ç¬¦ã€ç®¡é“è¿ç®—ç¬¦ï¼‰ã€<strong>å®Œå–„å¼‚æ­¥ç¼–ç¨‹</strong>ï¼ˆå¦‚å¼‚æ­¥è¿­ä»£ã€<code>Promise.any</code>ï¼‰ã€‚</li>
<li><strong>é«˜é¢‘å®ç”¨ç‰¹æ€§</strong>ï¼šæ—¥å¸¸å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ç‰¹æ€§é›†ä¸­åœ¨ ES2015ï¼ˆ<code>let/const</code>ã€ç®­å¤´å‡½æ•°ã€è§£æ„ï¼‰ã€ES2017ï¼ˆ<code>async/await</code>ï¼‰ã€ES2020ï¼ˆå¯é€‰é“¾ã€ç©ºå€¼åˆå¹¶ï¼‰ã€ES2022ï¼ˆç±»å­—æ®µã€<code>at()</code>ï¼‰ã€‚</li>
<li><strong>æœªæ¥è¶‹åŠ¿</strong>ï¼šES2026 é‡ç‚¹æ¢ç´¢<strong>ä¸å¯å˜æ•°æ®</strong>ï¼ˆ<code>Record/Tuple</code>ï¼‰å’Œ<strong>è¯­æ³•ç®€åŒ–</strong>ï¼ˆç®¡é“è¿ç®—ç¬¦ï¼‰ï¼Œè¿›ä¸€æ­¥æå‡ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[csså¸ƒå±€ç¯‡â€”â€”ä¸¤æ å¸ƒå±€ï¼ˆæ— åºŸè¯ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7598104596779630638</link>    <guid>https://juejin.cn/post/7598104596779630638</guid>    <pubDate>2026-01-23T03:28:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104596779630638" data-draft-id="7598021081988169779" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="csså¸ƒå±€ç¯‡â€”â€”ä¸¤æ å¸ƒå±€ï¼ˆæ— åºŸè¯ç‰ˆï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T03:28:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·77230783637"/> <meta itemprop="url" content="https://juejin.cn/user/235730826174362"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            csså¸ƒå±€ç¯‡â€”â€”ä¸¤æ å¸ƒå±€ï¼ˆæ— åºŸè¯ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/235730826174362/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·77230783637
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:28:33.000Z" title="Fri Jan 23 2026 03:28:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h3 data-id="heading-0">æ ¸å¿ƒæ€è·¯</h3>
<p>ä¸€èˆ¬ä¸¤æ å¸ƒå±€æŒ‡çš„æ˜¯<strong>å·¦è¾¹ä¸€æ å®½åº¦å›ºå®šï¼Œå³è¾¹ä¸€æ å®½åº¦è‡ªé€‚åº”</strong></p>
<h3 data-id="heading-1">ç¬¬ä¸€ç§æ–¹æ³•</h3>
<ul>
<li>æµ®åŠ¨ + margin-left(å°†å·¦è¾¹å…ƒç´ å®½åº¦è®¾ç½®ä¸º200pxï¼Œå¹¶ä¸”è®¾ç½®å‘å·¦æµ®åŠ¨ã€‚å°†å³è¾¹å…ƒç´ çš„margin-leftè®¾ç½®ä¸º200px)</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span> = <span class="hljs-string">"box"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span> = <span class="hljs-string">"left"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span> = <span class="hljs-string">"right"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  æˆ‘æ˜¯æ–‡å­—
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css">&lt;style&gt;
    <span class="hljs-selector-class">.left</span>{
        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
        <span class="hljs-attribute">background-color</span>: orange;
        <span class="hljs-attribute">float</span> <span class="hljs-selector-pseudo">:left</span>;
  }
    <span class="hljs-selector-class">.right</span>{
        <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
        <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">200px</span>;
        <span class="hljs-attribute">background-color</span>: yellowgreen;
    }
&lt;/style&gt;
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e03e3e0e6524d1faa7efa34ae91c240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NzcyMzA3ODM2Mzc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743712&amp;x-signature=8t6P2kT3aDEyBM1q5tTjr%2FNrV70%3D" alt="image.png" loading="lazy"/></p>
<p>oh my god ä¸‹é¢çš„å…¶ä»–å†…å®¹æ€ä¹ˆè·‘ä¸Šå»äº†ï¼Ÿ  æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†<strong>æµ®åŠ¨</strong>ã€‚</p>
<h4 data-id="heading-2">å•¥æ˜¯æµ®åŠ¨ï¼Ÿ</h4>
<p>æµ®åŠ¨ä¼šå¯¼è‡´å…ƒç´ è„±ç¦»åŸæ¥æ™®é€šçš„æ–‡æ¡£æµã€‚å…ƒç´ å¯ä»¥å‘å·¦æˆ–è€…å‘å³æµ®åŠ¨ï¼Œç›´åˆ°ç¢°åˆ°çˆ¶å®¹å™¨æˆ–å…¶ä»–æµ®åŠ¨å…ƒç´ æ‰åœä¸‹ã€‚åœ¨åŸæ¥çš„æ–‡æ¡£æµé‡Œï¼Œå®ƒå°±åƒè¢« â€œåˆ æ‰â€ äº†ä¸€æ ·ï¼Œä¸å ä½ç½®ã€‚è¿™æ ·ä¸€æ¥ï¼Œçˆ¶å…ƒç´ å°±ä¼šå› ä¸ºæ²¡ä¸œè¥¿æ’‘ç€ï¼Œé«˜åº¦å˜æˆ 0ï¼Œå‡ºç°<strong>é«˜åº¦å¡Œé™·</strong>ï¼Œåé¢çš„å†…å®¹ä¹Ÿä¼šè‡ªåŠ¨å¾€ä¸Šè·‘ï¼Œè·Ÿæµ®åŠ¨å…ƒç´ å åœ¨ä¸€èµ·ã€‚</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<ul>
<li>BFCï¼Œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ŒBFC è§„å®šäº†å†…éƒ¨çš„å—çº§å…ƒç´ çš„å¸ƒå±€æ–¹å¼ã€‚å¸¸è§çš„åšæ³•æ˜¯ä¸ºçˆ¶å…ƒç´ æ·»åŠ ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">overflow</span>:hidden;
</code></pre>
<h4 data-id="heading-3">å•¥æ˜¯BFC</h4>
<p>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰ï¼Œæ˜¯Webé¡µé¢çš„å¯è§†åŒ–CSSæ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å¸ƒå±€è¿‡ç¨‹ä¸­ç”Ÿæˆå—çº§ç›’å­çš„åŒºåŸŸï¼Œä¹Ÿæ˜¯æµ®åŠ¨å…ƒç´ ä¸å…¶ä»–å…ƒç´ çš„äº¤äº’é™å®šåŒºåŸŸã€‚</p>
<h4 data-id="heading-4">BFCçš„ç‰¹ç‚¹</h4>
<ul>
<li>å‚ç›´æ–¹å‘ä¸Šï¼Œè‡ªä¸Šè€Œä¸‹æ’åˆ—ï¼Œå’Œæ–‡æ¡£æµçš„æ’åˆ—æ–¹å¼ä¸€è‡´ã€‚</li>
<li>åœ¨BFCä¸­ä¸Šä¸‹ç›¸é‚»çš„ä¸¤ä¸ªå®¹å™¨çš„marginä¼šé‡å </li>
<li>è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œéœ€è¦è®¡ç®—æµ®åŠ¨å…ƒç´ çš„é«˜åº¦</li>
<li>BFCåŒºåŸŸä¸ä¼šä¸æµ®åŠ¨çš„å®¹å™¨å‘ç”Ÿé‡å </li>
<li>BFCæ˜¯ç‹¬ç«‹çš„å®¹å™¨ï¼Œå®¹å™¨å†…éƒ¨å…ƒç´ ä¸ä¼šå½±å“å¤–éƒ¨å…ƒç´ </li>
<li>æ¯ä¸ªå…ƒç´ çš„å·¦marginå€¼å’Œå®¹å™¨çš„å·¦borderç›¸æ¥è§¦</li>
</ul>
<h6 data-id="heading-5">äººè¯</h6>
<p>BFCå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¸ƒå±€å®¹å™¨ï¼Œå†…éƒ¨å…ƒç´ è‡ªå·±ç©è‡ªå·±çš„ï¼Œä¸è·Ÿå¤–é¢äº’ç›¸å¹²æ‰°ï¼Œè¿˜èƒ½æŠŠæµ®åŠ¨å…ƒç´  â€œåŒ…ä½â€ï¼Œè§£å†³é«˜åº¦å¡Œé™·ã€‚</p>
<h4 data-id="heading-6">åˆ›å»ºBFCçš„æ¡ä»¶</h4>
<ul>
<li>æ ¹å…ƒç´ ï¼šbodyï¼›</li>
<li>å…ƒç´ è®¾ç½®æµ®åŠ¨ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼ï¼›</li>
<li>å…ƒç´ è®¾ç½®ç»å¯¹å®šä½ï¼šposition (absoluteã€fixed)ï¼›</li>
<li>display å€¼ä¸ºï¼šinline-blockã€table-cellã€table-captionã€flexç­‰ï¼›</li>
<li>overflow å€¼ä¸ºï¼šhiddenã€autoã€scrollï¼›</li>
</ul>
<h4 data-id="heading-7">åˆ›å»ºBFCåçš„æ•ˆæœ</h4>
<p>å›å½’æ­£é¢˜ï¼Œæˆ‘ä»¬å®ç°ä¸¤æ å¸ƒå±€åªéœ€è¦ä¸º.box å…ƒç´ æ·»åŠ æ ·å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">overflow</span>:hidden;
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d97b0c608be4c49b1b0b6ddfb8e205d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NzcyMzA3ODM2Mzc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743712&amp;x-signature=njeAhC%2BrjrSYrPhqUE%2Bvqbp2amY%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">ç¬¬äºŒç§æ–¹æ³•</h3>
<ul>
<li>åˆ©ç”¨flexå¸ƒå±€ï¼Œå°†å·¦è¾¹å…ƒç´ è®¾ç½®ä¸ºå›ºå®šå®½åº¦200pxï¼Œå°†å³è¾¹çš„å…ƒç´ è®¾ç½®ä¸ºflex:1ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css">&lt;style&gt;
    <span class="hljs-selector-class">.box</span>{
        <span class="hljs-attribute">display</span>: flex;
    }
    <span class="hljs-selector-class">.left</span>{
        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
        <span class="hljs-attribute">background-color</span>: orange;    
  }
    <span class="hljs-selector-class">.right</span>{
        <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
        <span class="hljs-attribute">background-color</span>: yellowgreen;
    }
&lt;/style&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code å…¥é—¨åˆ° skill]]></title>    <link>https://juejin.cn/post/7598112768147243014</link>    <guid>https://juejin.cn/post/7598112768147243014</guid>    <pubDate>2026-01-23T03:11:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598112768147243014" data-draft-id="7598024433912447030" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code å…¥é—¨åˆ° skill"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-23T03:11:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ•£æ­¥å»æµ·è¾¹"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919272135"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code å…¥é—¨åˆ° skill
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919272135/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ•£æ­¥å»æµ·è¾¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:11:35.000Z" title="Fri Jan 23 2026 03:11:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Claude Code æ˜¯å•¥ï¼Ÿ</h2>
<p>Claude Code ï¼ˆç®€ç§° CCï¼‰æ˜¯ A å‚åœ¨ 8 æœˆç¨³å®šå‘å¸ƒçš„ä¸€æ¬¾ç»ˆç«¯ agent å·¥å…·ï¼Œä»–è·Ÿ cursorã€windsurf è¿™äº› IDE ä¸å¤ªä¸€æ ·</p>
<ul>
<li>
<p>CC æ·±åº¦é›†æˆäº†æ“ä½œç³»ç»Ÿæä¾›çš„èƒ½åŠ›â€”â€”terminalï¼Œé«˜æ•ˆå®ç°ä»»æ„ terminal ä¸­æ”¯æŒçš„æ“ä½œï¼Œä¾‹å¦‚ï¼Œæœç´¢æ–‡ä»¶ã€åˆ†æç›®å½•ã€æ‰§è¡Œè„šæœ¬ã€å®‰è£…è½¯ä»¶ç­‰ç­‰</p>
</li>
<li>
<p>CC å¯¹äºä»£ç ä»“åº“çš„åˆ†æå’Œè°ƒç”¨æ˜¯ç›´æ¥ä½¿ç”¨ç»ˆç«¯å‘½ä»¤ï¼ˆgrepã€cat...ï¼‰ï¼Œè€Œ IDE æ˜¯éœ€è¦å°†æ•´ä¸ªä»“åº“ä¸Šä¼ ï¼Œå¯¼å…¥ RAG åº“ä¹‹åè¿›è¡Œé‡æ’ã€åµŒå…¥ç­‰æ“ä½œï¼Œæœ€ç»ˆå¼€å‘çš„æ—¶å€™ï¼Œæ˜¯ä» RAG æŸ¥è¯¢ä»£ç ä¿¡æ¯</p>
</li>
<li>
<p>CC æ˜¯é€šç”¨ agent ï¼Œç†è®ºä¸Šå¯ä»¥å®Œæˆä»»ä½•ä»»åŠ¡ï¼ˆå‰ªè§†é¢‘ã€åšPPT...ï¼‰ï¼Œä¸ä»…ä»…åªèƒ½ç”¨æ¥ç¼–ç¨‹</p>
</li>
</ul>
<h2 data-id="heading-1">å®‰è£…</h2>
<p>ä½¿ç”¨æ—¶éœ€è¦ä»ç»ˆç«¯è¿›å…¥ï¼Œæœ‰ä¸‹é¢ä¸¤ç§å®‰è£…æ–¹å¼</p>
<ol>
<li>
<p>å®‰è£… npm åŒ…<code>npm install -g @anthropic-ai/claude-code</code></p>
</li>
<li>
<p>ä½¿ç”¨ <code>brew install --cask claude-code</code></p>
</li>
</ol>
<h3 data-id="heading-2">æ¥å…¥ LLM</h3>
<p>CC åœ¨å›½å†…æ²¡æœ‰åŠæ³•æ­£å¸¸ç™»å½•å’Œè´­ä¹°ä½¿ç”¨ï¼Œé™¤éä½ æœ‰éå¸¸çº¯å‡€ä¸”ç¨³å®šçš„ç§‘å­¦ä¸Šç½‘æ–¹å¼ï¼Œä½†æ˜¯ä»·æ ¼éå¸¸è´µã€‚æ‰€ä»¥æœ€ä½³çš„ä½¿ç”¨æ–¹å¼å°±æ˜¯æ¥å…¥å›½äº§å¤§æ¨¡å‹ï¼Œè¿™é‡Œé¦–æ¨ GLM 4.7 å’Œ kimi-k2-thinking ã€‚æœ¬æ–‡ä»¥æ¥å…¥ GLM 4.7 ä¸ºä¾‹ã€‚</p>
<p>é¦–å…ˆéœ€è¦ä¸‹è½½ä¸€ä¸ªç¤¾åŒºå¼€æºé¡¹ç›®ï¼ŒCC Switch ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffarion1231%2Fcc-switch%25EF%25BC%2589%25EF%25BC%258C%25E8%25BF%2599%25E4%25B8%25AA%25E8%25BD%25AF%25E4%25BB%25B6%25E4%25B8%2593%25E7%2594%25A8%25E4%25BA%258E%25E7%259B%25B4%25E8%25A7%2582%25E3%2580%2581%25E6%2596%25B9%25E4%25BE%25BF%25E7%259A%2584%25E7%25AE%25A1%25E7%2590%2586" target="_blank" title="https://github.com/farion1231/cc-switch%EF%BC%89%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%BD%AF%E4%BB%B6%E4%B8%93%E7%94%A8%E4%BA%8E%E7%9B%B4%E8%A7%82%E3%80%81%E6%96%B9%E4%BE%BF%E7%9A%84%E7%AE%A1%E7%90%86" ref="nofollow noopener noreferrer">github.com/farion1231/â€¦</a> CC çš„ token ã€mcpã€skillã€plugin ç­‰åŠŸèƒ½é…ç½®é¡¹ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€å•</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78154984a6b543d0b56e5e20c8c6d389~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=wGfGNsGSUDmhtONg7uheXuaceJE%3D" alt="" loading="lazy"/></p>
<p>ç„¶åè¿›å…¥æ™ºè°±çš„ coding å¥—é¤é¡µé¢ï¼Œè´­ä¹°ä¸€ä¸ª lite å¥—é¤ï¼ˆéå¸¸å¤Ÿç”¨äº†ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ª api key ã€‚ä¼ é€é—¨ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fglm-coding%3Fic%3DN3DZU9N6LG" target="_blank" title="https://www.bigmodel.cn/glm-coding?ic=N3DZU9N6LG" ref="nofollow noopener noreferrer">www.bigmodel.cn/glm-coding?â€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c32b98c9e0f84bba8f4950ff9991b406~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=S8V3K%2FeoYfHKo0qyQSjDIO%2BSNbQ%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cbbdb759eb847a8b4289da85455cd5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=ublsr36p1%2FtO1jEaoqcNBByQihY%3D" alt="" loading="lazy"/></p>
<p>è¿›å…¥ CC Switch ï¼Œæ·»åŠ  GLM é…ç½®</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bb444b1fab54f2096bf3eb86cd5493f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=kMH6%2BRt1xEoYywgdESVW5taWW1M%3D" alt="" loading="lazy"/></p>
<p>æœ€åæ‰“å¼€ iterm2 ï¼Œè¾“å…¥ <code>claude</code> å³å¯å¯åŠ¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7c4da84f44245de8b1bdcfae7157ef6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=ih1LtuoE5A5m4ALxP7%2BEKHKDnPQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">å‘½ä»¤</h3>
<h4 data-id="heading-4">claude --dangerously-skip-permissions</h4>
<p>é€šå¸¸æ¥è¯´åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ claude å‘½ä»¤æ¥å¯åŠ¨ CC ï¼Œä½†æ˜¯å®é™…è·‘ä»»åŠ¡çš„æ—¶å€™ CC ä¼šé¢‘ç¹çš„è¯·æ±‚æƒé™ï¼Œéœ€è¦ä½ ä¸€ç›´ç›¯ç€ï¼Œæ‰‹åŠ¨ç¡®è®¤ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ <code>claude --dangerously-skip-permissions</code>ç›´æ¥è¿›å…¥å±é™©æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼ä¸‹ CC çš„ä»»ä½•å·¥å…·è°ƒç”¨éƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œï¼ˆæœ‰ä¸€å®šé£é™©ï¼Œå–å†³äºä½ åœ¨ç”¨ CC å¹²ä»€ä¹ˆï¼‰</p>
<h4 data-id="heading-5">/init</h4>
<p>è¿™ä¸ªå‘½ä»¤çš„ä½¿ç”¨åœºæ™¯æ˜¯è®© CC åˆ†æå¹¶ç†è§£ç°æœ‰é¡¹ç›®ï¼Œæ‰§è¡Œå®Œåï¼Œæ ¹ç›®å½•ä¼šåˆ›å»ºä¸€ä¸ª CLAUDE.md æ–‡ä»¶ï¼Œå†…å®¹å°±æ˜¯ CC å¯¹äºå½“å‰é¡¹ç›®çš„è§£è¯»ï¼ˆå…¶å®ä¹Ÿå°±æ˜¯é¡¹ç›® rules ï¼‰ï¼Œè¿™ä¸ªä¼šä½œä¸º CC çš„é•¿æœŸè®°å¿†ä¿ç•™ä¸‹æ¥ã€‚ å»ºè®®ï¼šé¡¹ç›®å˜åŠ¨é¢‘ç¹çš„è¯ï¼Œå®šæœŸè®© CC æ›´æ–° CLAUDE.md ï¼Œèƒ½å‡å°‘è·‘åçš„æƒ…å†µ</p>
<h4 data-id="heading-6">/memory</h4>
<p>è¿™ä¸ªå‘½ä»¤ç”¨æ¥ç»™ CC ç¼–å†™å…¨å±€ rulesã€é¡¹ç›® rules</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a15e2e36b35d4425807b5237df55773c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=zYscqM%2FSAY2MIoFP%2Fucwu0byss4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6029187fa764e3296ca073db8ac48e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=qE0Byl75S0cqzfJcIluoQAnY1HA%3D" alt="" loading="lazy"/></p>
<p>ç„¶ååœ¨å¯¹è¯ä¸­è¿˜å¯ä»¥ä½¿ç”¨ # å‘½ä»¤ï¼Œçµæ´»çš„æ·»åŠ  memory å†…å®¹</p>
<h4 data-id="heading-7">/context &amp; /compact</h4>
<p>/context ç”¨æ¥æŸ¥çœ‹å½“å‰ä¸Šä¸‹æ–‡çš„å ç”¨æƒ…å†µ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/073781c35b134b4882c99eba308aa805~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=ceWkP2R%2FcUMM7wMKBox6GwLpu7I%3D" alt="" loading="lazy"/></p>
<p>Context ç»å¸¸ä¼šç”¨å®Œï¼Œå ç”¨è¾¾åˆ° 100% åï¼ŒCC ä¼šè‡ªåŠ¨æ–°å¼€ä¸€ä¸ªå¯¹è¯ï¼Œé€šå¸¸è¿™ä¸ªæ—¶å€™ä¹‹å‰çš„å†å²å¯¹è¯å°±ä¸å­˜åœ¨äº context ä¸­äº†ï¼Œå¦‚æœæ˜¯å¤æ‚ä»»åŠ¡è·‘åˆ°ä¸€åŠçªç„¶æ–°å¼€å¯¹è¯ï¼ŒCC å¤§æ¦‚ç‡ä¸çŸ¥é“æ¥ä¸‹æ¥è¯¥å¹²ä»€ä¹ˆï¼Œä¸€å®šä¼šè·‘åã€‚æ‰€ä»¥ï¼Œå¯ä»¥ç”¨ /compact æ‰‹åŠ¨å‹ç¼© context ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå¯¹å†å²å¯¹è¯åšä¸€ä¸ªæ‘˜è¦ï¼Œé‡Šæ”¾å‡º context å ç”¨</p>
<h4 data-id="heading-8">/mcp</h4>
<p>ç”¨æ¥æŸ¥çœ‹ CC ä¸­å·²å®‰è£…çš„ mcp</p>
<p>å»ºè®®ï¼š</p>
<ol>
<li>åˆ«è£…å¤ªå¤š mcp ï¼Œå®ƒå§‹ç»ˆä¼šå­˜åœ¨äºæ¯æ¬¡å¯¹è¯çš„ä¸Šä¸‹æ–‡ä¸­</li>
<li>å¦‚æœç¡®å®éœ€è¦ç”¨åˆ°å¾ˆå¤šçš„ mcpï¼Œé‚£ä¹ˆæŒ‰ç…§ä½¿ç”¨é¢‘ç‡ä¹Ÿå¯ä»¥å°†ä¸å¸¸ç”¨çš„æš‚æ—¶å…ˆç¦ç”¨æ‰</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e1fc30393bd420c92ed93e282cfbd33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=oWQUfObdpWcAo%2BMBnaKup25TPig%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-9">/resume</h4>
<p>ç»§ç»­ä¹‹å‰çš„æŸä¸ªä¼šè¯ã€‚è¿™ä¸ªåœºæ™¯æ˜¯æœ‰æ—¶å€™ä¸­æ–­å¯¹è¯äº†ï¼ŒCC é€€å‡ºäº†ï¼Œé‚£ä¹ˆæƒ³ç»§ç»­ä¹‹å‰çš„ä»»åŠ¡ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼ŒCC ä¼šåˆ—å‡ºæ‰€æœ‰ä¼šè¯å†å²ï¼Œä½ é€‰ä¸­ä¸€ä¸ªå°±å¯ä»¥æ¢å¤äº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0383d3fff3004d65895bd5b00fa45829~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=tn1KStOg6ayx8icRMhjmlgcEOY8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">/rewind</h4>
<p>CC æ¯æ¬¡è¾“å‡ºä¸€æ®µæ¶ˆæ¯å¹¶ç»ˆæ­¢å¯¹è¯åï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯è¿˜åŸç‚¹ï¼Œé€šè¿‡ /rewind å¯ä»¥æ˜¾ç¤ºå‡ºæ‰€æœ‰çš„è¿˜åŸç‚¹ï¼Œç„¶åé€‰ä¸­ä¸€é¡¹åï¼Œå¯ä»¥å›é€€åˆ°å½“æ—¶çš„å¯¹è¯çŠ¶æ€ï¼ˆæ–‡ä»¶æ”¹åŠ¨+å¯¹è¯æ¶ˆæ¯ï¼‰</p>
<h4 data-id="heading-11">/clear</h4>
<p>ç”¨è¿™ä¸ªå‘½ä»¤ç›¸å½“äºæ–°å¼€äº†ä¸€ä¸ªå¯¹è¯ï¼Œä¼šæ¸…ç©º context ï¼Œé€šå¸¸æ˜¯ä½ è¿™ä¸ª feat çš„åŠŸèƒ½åšå®Œäº†ï¼Œåˆ‡åˆ°äº†æ–°çš„ feat å¼€å§‹æ–°åŠŸèƒ½çš„å¼€å‘æ—¶å¯ä»¥ç”¨åˆ°</p>
<h4 data-id="heading-12">/plan</h4>
<p>è¿™ä¸ªæ˜¯è®¡åˆ’æ¨¡å¼ï¼Œç”¨æ¥ç»™å¤æ‚ä»»åŠ¡åˆ¶å®šè¯¦ç»†çš„è®¡åˆ’ï¼ŒCC ä¼šæ ¹æ®ä½ çš„éœ€æ±‚ç”Ÿæˆä¸€ä¸ªäº¤äº’å¼é—®ç­”ï¼Œåœ¨ç»ˆç«¯ä¸­ï¼Œä½ éœ€è¦é€‰æ‹©å¹¶å›ç­” CC çš„é—®é¢˜ï¼Œå®Œæˆéœ€æ±‚æ¾„æ¸…ï¼Œè¿™ä¸ª plan æ‰ç®—æ˜¯åšå®Œäº†ã€‚ä¹‹åï¼ŒCC å°±ä¼šä¸¥æ ¼æŒ‰ç…§ plan çš„è§„åˆ’ï¼ŒæŒ‰æ­¥éª¤æ‰§è¡Œä»»åŠ¡äº†</p>
<h4 data-id="heading-13">/tasks</h4>
<p>CC æ˜¯ç»ˆç«¯ app ï¼Œæ‰€ä»¥å¯ä»¥çµæ´»çš„åˆ›å»ºç»ˆç«¯å®ä¾‹æ¥è·‘ä»»åŠ¡ï¼Œæ¯”å¦‚ pnpm dev å¯åŠ¨é¡¹ç›®ä¹‹ç±»çš„ï¼Œä¸€èˆ¬ task ä¼šæŒ‚åœ¨åå°æ‰§è¡Œï¼Œä¸å½±å“ä½ åœ¨å‰å°ä¸ç”¨æˆ·å¯¹è¯ï¼Œéœ€è¦èŠ‚çœå†…å­˜å’Œè§£é™¤ç«¯å£å ç”¨æ—¶å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤åˆ—å‡ºæ‰€æœ‰åå°ä»»åŠ¡ï¼Œè¿˜å¯ä»¥ kill æ‰é€‰ä¸­çš„ä»»åŠ¡</p>
<h3 data-id="heading-14">å¿«æ·é”®</h3>
<h4 data-id="heading-15">!</h4>
<p>ä½ ç›´æ¥åœ¨ CC ä¸­è¾“å…¥ bash å‘½ä»¤ä»–ä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯ä¼šå½“æˆäº†è‡ªç„¶è¯­è¨€å¯¹è¯ï¼Œéœ€è¦åœ¨ CC ä¸­è¾“å…¥ ! ï¼Œåˆ‡æ¢ä¸ºæ‰§è¡Œ bash å‘½ä»¤ï¼Œåœºæ™¯ï¼šfeat å¼€å‘å®Œåï¼Œ git push æ¨é€ä»£ç </p>
<h4 data-id="heading-16">Ctrl + C</h4>
<p>è¿™ä¸ªç”¨æ¥æ¸…ç©ºè¾“å…¥æ¡†</p>
<h4 data-id="heading-17">Ctrl + V</h4>
<p>ç²˜è´´å›¾ç‰‡ï¼Œç²˜è´´åç»ˆç«¯ä¸­ä¸ä¼šæ˜¾ç¤ºå›¾ç‰‡ï¼Œè€Œæ˜¯æ˜¾ç¤ºä¸€ä¸ªå ä½ç¬¦</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1209716273ed4a99aab419a26917e9e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=BYvR9ewhtURKIq6xad72KxlQXC4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18">cmd + enter</h4>
<p>å…¨å±</p>
<p>æ›´è¯¦ç»†çš„å¯ä»¥ä½¿ç”¨å‘½ä»¤ /help æ¥æŸ¥çœ‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4b17eb5efe84727aa8cb7e91708f064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=V2miuNnTSdS%2FxqpvniwoIFRX0Zs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-19">ç»ˆç«¯ä¸ç›´è§‚æ€ä¹ˆåŠï¼Ÿ</h3>
<p>å¯ä»¥å®‰è£…ä¸€ä¸ª claude æ’ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8600c486a2d54c5a9f70d3bda06beb82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=FbzgqgnT6bUA5rc8Mdqh1pb%2FCGk%3D" alt="" loading="lazy"/></p>
<p>åœ¨IDEé‡Œé¢ä½¿ç”¨ CCï¼ˆè·Ÿç»ˆç«¯é‡Œé¢æ•ˆæœæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5d61b30bca0494eab2ecd8e590eb132~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=aIMbgcavKkF9rp7RiBY9nTzHOeQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20">Skills</h2>
<h3 data-id="heading-21">ä»€ä¹ˆæ˜¯ skill ?</h3>
<p>Skills å°±æ˜¯ã€æŠ€èƒ½åŒ…ã€‘ï¼Œå¯ä»¥è¢« CC ç›´æ¥è°ƒç”¨å®Œæˆä»»åŠ¡ï¼Œé›† rulesã€promptã€å¯æ‰§è¡Œä»£ç æ–‡ä»¶ã€mcp è°ƒç”¨ã€skill è°ƒç”¨ã€èµ„æºæ–‡ä»¶äºä¸€ä½“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06b50a45c1f740949957620b05346829~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=wrhogBuHq%2BrxGHCDr8qdP%2B4PmEk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-22">Skill å’Œ MCP çš„åŒºåˆ«</h3>
<p>Mcp å¸® AI è°ƒæœåŠ¡ï¼ŒæŸ¥æ•°æ®ï¼›Skill æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„å¯é‡å¤è°ƒç”¨çš„å·¥å…·ã€‚</p>
<p>ç±»æ¯”ï¼šmcp å°±æ˜¯ iCloudï¼ŒSkill å°±æ˜¯ app store é‡Œé¢çš„ app</p>
<h3 data-id="heading-23">Skill çš„ç»„æˆ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a44e7c7dc6c490e95e3f16864ab57a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=TiJbE76s%2B5vh267wfSGXcQ%2B6G1k%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆæ¡æ¡æ¡†æ¡†ï¼Œä½†æ˜¯<strong>æœ€æ ¸å¿ƒã€ä¸å¯æˆ–ç¼ºçš„æ–‡ä»¶å°±æ˜¯</strong> <strong>SKILL.md</strong>ï¼Œé‡Œé¢è¯¦ç»†æè¿° skill çš„ç”¨æ³•</p>
<ul>
<li>
<p>references : å°å‹æ–‡æ¡£çŸ¥è¯†åº“ï¼Œç”¨æ¥ç»™ CC è¡¥å……ä¿¡æ¯ä½œä¸ºå‚è€ƒçš„ï¼Œè¿™é‡Œå¯ä»¥æ”¾ä¸€äº› skill ä¸“ç”¨çš„æ–‡æ¡£ï¼Œæ¯”å¦‚å¼€å‘è§„èŒƒã€é¢†åŸŸä¸“æœ‰èµ„æ–™</p>
</li>
<li>
<p>scripts: è¿™é‡Œæ”¾ç½®å¯ä»¥ç›´æ¥ç»ˆç«¯è¿è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼ˆjsã€pythonã€go ...ï¼‰ï¼Œä¾‹å¦‚ node say-hello.js</p>
</li>
</ul>
<p><strong>SKILL.md ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ meta ä¿¡æ¯ï¼Œè¿™ä¸ªæ˜¯ç”¨æ¥å‘Šè¯‰</strong> <strong>CC</strong> <strong>ï¼Œskill çš„åŠŸèƒ½ã€ä½•æ—¶è°ƒç”¨çš„</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">skill</span> <span class="hljs-string">çš„åå­—</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">skill</span> <span class="hljs-string">çš„åŠŸèƒ½æè¿°ï¼Œè°ƒç”¨æ–¹å¼</span>
<span class="hljs-attr">disable-model-invocation:</span> <span class="hljs-string">æ˜¯å¦ç¦æ­¢</span> <span class="hljs-string">CC</span> <span class="hljs-string">è‡ªåŠ¨è°ƒç”¨</span> <span class="hljs-string">skillï¼Œå¸ƒå°”å€¼</span>
<span class="hljs-attr">user-invocable:</span> <span class="hljs-string">æ˜¯å¦å…è®¸ç”¨æˆ·æ˜¾ç¤ºçš„é€šè¿‡</span> <span class="hljs-string">/</span> <span class="hljs-string">è°ƒç”¨ï¼Œå¸ƒå°”å€¼</span>
<span class="hljs-meta">---
</span>
<span class="hljs-string">ä»è¿™é‡Œå¼€å§‹ï¼Œç”¨è‡ªç„¶è¯­è¨€è¯¦ç»†æè¿°</span> <span class="hljs-string">skill</span> <span class="hljs-string">çš„å†…å®¹</span>
</code></pre>
<p>æœ€åï¼Œè´´ä¸€ä¸ªå®Œæ•´çš„ SKILL.mdï¼Œä»¥æˆ‘è‡ªå·±ç¼–å†™çš„ <strong>webpage-batch-saver</strong> ä¸ºä¾‹å­ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: webpage-batch-saver
<span class="hljs-section">description: æ‰¹é‡ä¿å­˜ç½‘é¡µä¸ºæœ¬åœ°æ–‡ä»¶çš„æŠ€èƒ½åŒ…ã€‚æ”¯æŒä»æ–‡å­—æè¿°ã€CSVè¡¨æ ¼ã€Markdownæ–‡æ¡£ä¸­æå–é“¾æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„PDFæ–‡ä»¶å’ŒAIæ•´ç†åçš„Markdownæ–‡æ¡£ã€‚ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦æ‰¹é‡ä¿å­˜ç½‘é¡µå†…å®¹ï¼ˆå¦‚å…¬ä¼—å·æ–‡ç« å¤‡ä»½ã€åšå®¢å½’æ¡£ã€èµ„æ–™æ”¶é›†ç­‰ï¼‰ï¼Œæˆ–éœ€è¦å°†ç½‘é¡µè½¬æ¢ä¸ºå¯ç¦»çº¿é˜…è¯»çš„æ ¼å¼ã€‚è§¦å‘æ¡ä»¶ï¼šç”¨æˆ·æåˆ°"æ‰¹é‡ä¿å­˜ç½‘é¡µ"ã€"ç½‘é¡µè½¬PDF"ã€"ä¿å­˜å…¬ä¼—å·æ–‡ç« "ã€"ç½‘é¡µå½’æ¡£"ç­‰éœ€æ±‚æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
---</span>

<span class="hljs-section"># ç½‘é¡µæ‰¹é‡ä¿å­˜</span>

<span class="hljs-section">## æ¦‚è¿°</span>

æ­¤æŠ€èƒ½å¯å°†æ‰¹é‡ç½‘é¡µé“¾æ¥ä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œä¸ºæ¯ä¸ªç½‘é¡µç”Ÿæˆä¸¤ç§æ ¼å¼ï¼š
<span class="hljs-bullet">1.</span> <span class="hljs-strong">**å®Œæ•´PDF**</span> - ä½¿ç”¨ Playwright æ¸²æŸ“çš„å®Œæ•´ç½‘é¡µè§†è§‰æ•ˆæœ
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ç²¾ç®€Markdown**</span> - ä½¿ç”¨ Readability ç®—æ³•æå–çš„æ ¸å¿ƒæ–‡æœ¬å†…å®¹

<span class="hljs-section">## å¿«é€Ÿå¼€å§‹</span>

<span class="hljs-section">### å‰ç½®è¦æ±‚</span>

ä½¿ç”¨å‰éœ€å®‰è£…ä¾èµ–ï¼Œè¯¦è§ [<span class="hljs-string">ä¾èµ–å®‰è£…è¯´æ˜</span>](<span class="hljs-link">references/dependencies.md</span>)ã€‚

ç®€è¦å‘½ä»¤ï¼š
<span class="hljs-code">```bash
pip install requests beautifulsoup4 readability-lxml playwright
playwright install chromium
```</span>

<span class="hljs-section">### ä½¿ç”¨æµç¨‹</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**ç¡®å®šè¾“å…¥æ ¼å¼**</span> - æ”¯æŒä¸‰ç§è¾“å…¥æ–¹å¼ï¼š
<span class="hljs-bullet">   -</span> æ–‡å­—æè¿°ï¼šç›´æ¥ç²˜è´´åŒ…å«URLçš„æ–‡æœ¬
<span class="hljs-bullet">   -</span> CSVè¡¨æ ¼ï¼šåŒ…å«URLåˆ—çš„CSVæ–‡ä»¶
<span class="hljs-bullet">   -</span> Markdownæ–‡æ¡£ï¼šåŒ…å«é“¾æ¥çš„MDæ–‡ä»¶

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ç¡®å®šä»»åŠ¡åç§°**</span> - ç”¨æˆ·éœ€æä¾›è‹±æ–‡åç§°ï¼ˆå¦‚ <span class="hljs-code">`wechat_articles`</span>ã€<span class="hljs-code">`blog_backup`</span>ï¼‰

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**æ‰§è¡Œå¤„ç†**</span> - ä½¿ç”¨ <span class="hljs-code">`process_batch.py`</span> ä¸»è„šæœ¬å¤„ç†

<span class="hljs-bullet">4.</span> <span class="hljs-strong">**è·å–è¾“å‡º**</span> - åœ¨ä»»åŠ¡ç›®å½•ä¸‹è·å¾—PDFå’ŒMarkdownæ–‡ä»¶

<span class="hljs-section">## å·¥ä½œæµç¨‹</span>

<span class="hljs-code">```
ç”¨æˆ·è¾“å…¥
    â†“
æå–é“¾æ¥ (extract_links.py)
    â†“
å¹¶å‘å¤„ç† (process_batch.py)
    â”œâ”€â†’ è·å–ç½‘é¡µ (fetch_webpage.py)
    â”œâ”€â†’ ç”ŸæˆPDF (generate_pdf.py)
    â””â”€â†’ æå–å†…å®¹ (extract_content.py)
    â†“
ç”Ÿæˆç´¢å¼• (index.md)
    â†“
è¾“å‡ºç›®å½•
```</span>

<span class="hljs-section">## ä½¿ç”¨æ–¹å¼</span>

<span class="hljs-section">### æ–¹å¼ä¸€ï¼šæ–‡å­—æè¿°è¾“å…¥</span>

<span class="hljs-code">```bash
python scripts/process_batch.py &lt;ä»»åŠ¡å&gt; text "&lt;åŒ…å«URLçš„æ–‡æœ¬&gt;"
```</span>

ç¤ºä¾‹ï¼š
<span class="hljs-code">```bash
python scripts/process_batch.py articles text '
https://example.com/article1
https://example.com/article2
https://example.com/article3
'
```</span>

<span class="hljs-section">### æ–¹å¼äºŒï¼šCSVè¡¨æ ¼è¾“å…¥</span>

<span class="hljs-code">```bash
python scripts/process_batch.py &lt;ä»»åŠ¡å&gt; csv &lt;CSVæ–‡ä»¶è·¯å¾„&gt; [URLåˆ—å] [æ ‡é¢˜åˆ—å]
```</span>

ç¤ºä¾‹ï¼š
<span class="hljs-code">```bash
python scripts/process_batch.py wechat_articles data/links.csv url title
```</span>

CSVæ ¼å¼ç¤ºä¾‹ï¼š
<span class="hljs-code">```csv
url,title,date
https://mp.weixin.qq.com/s/xxx,æ–‡ç« æ ‡é¢˜1,2024-01-01
https://mp.weixin.qq.com/s/yyy,æ–‡ç« æ ‡é¢˜2,2024-01-02
```</span>

<span class="hljs-section">### æ–¹å¼ä¸‰ï¼šMarkdownæ–‡æ¡£è¾“å…¥</span>

<span class="hljs-code">```bash
python scripts/process_batch.py &lt;ä»»åŠ¡å&gt; markdown &lt;MDæ–‡ä»¶è·¯å¾„&gt;
```</span>

ç¤ºä¾‹ï¼š
<span class="hljs-code">```bash
python scripts/process_batch.py blog_backup links.md
```</span>

Markdownæ ¼å¼ç¤ºä¾‹ï¼š
<span class="hljs-code">```markdown
# æˆ‘çš„æ”¶è—

- [ç²¾å½©æ–‡ç« ](https://example.com/article1)
- [æŠ€æœ¯åˆ†äº«](https://example.com/article2)

ç›´æ¥é“¾æ¥ï¼šhttps://example.com/article3
```</span>

<span class="hljs-section">## è¾“å‡ºç›®å½•ç»“æ„</span>

<span class="hljs-code">```
&lt;ä»»åŠ¡å&gt;/
â”œâ”€â”€ pdf/                    # PDFæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ æ–‡ç« æ ‡é¢˜1.pdf
â”‚   â”œâ”€â”€ æ–‡ç« æ ‡é¢˜2.pdf
â”‚   â””â”€â”€ ...
â”œâ”€â”€ markdown/               # Markdownæ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ æ–‡ç« æ ‡é¢˜1.md
â”‚   â”œâ”€â”€ æ–‡ç« æ ‡é¢˜2.md
â”‚   â””â”€â”€ ...
â””â”€â”€ index.md                # ä»»åŠ¡ç´¢å¼•æ–‡ä»¶
```</span>

<span class="hljs-section">## èµ„æºè¯´æ˜</span>

<span class="hljs-section">### scripts/</span>

<span class="hljs-strong">**æ ¸å¿ƒè„šæœ¬ï¼š**</span>

<span class="hljs-bullet">-</span> <span class="hljs-code">`process_batch.py`</span> - ä¸»å¤„ç†è„šæœ¬ï¼Œåè°ƒæ•´ä¸ªå·¥ä½œæµç¨‹
<span class="hljs-bullet">-</span> <span class="hljs-code">`extract_links.py`</span> - ä»å„ç§è¾“å…¥æ ¼å¼ä¸­æå–URLé“¾æ¥
<span class="hljs-bullet">-</span> <span class="hljs-code">`fetch_webpage.py`</span> - è·å–ç½‘é¡µHTMLå†…å®¹å’Œæ ‡é¢˜
<span class="hljs-bullet">-</span> <span class="hljs-code">`generate_pdf.py`</span> - ä½¿ç”¨ Playwright ç”ŸæˆPDFæ–‡ä»¶
<span class="hljs-bullet">-</span> <span class="hljs-code">`extract_content.py`</span> - ä½¿ç”¨ Readability æå–æ ¸å¿ƒæ–‡æœ¬å†…å®¹

<span class="hljs-strong">**ç‹¬ç«‹ä½¿ç”¨ï¼š**</span>

å„è„šæœ¬å¯ç‹¬ç«‹è°ƒç”¨ï¼Œè¯¦è§è„šæœ¬å†…çš„å‘½ä»¤è¡Œå¸®åŠ©ã€‚

<span class="hljs-section">### references/</span>

<span class="hljs-bullet">-</span> <span class="hljs-code">`dependencies.md`</span> - è¯¦ç»†çš„ä¾èµ–å®‰è£…è¯´æ˜å’Œæ•…éšœæ’æŸ¥

<span class="hljs-section">## æŠ€æœ¯ç‰¹æ€§</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**å¹¶å‘å¤„ç†**</span> - ä½¿ç”¨ asyncio å®ç°å¤šç½‘é¡µå¹¶å‘å¤„ç†ï¼ˆé™åˆ¶5å¹¶å‘ï¼‰
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**æ™ºèƒ½æå–**</span> - Readability ç®—æ³•è‡ªåŠ¨æå–æ­£æ–‡ï¼Œå»é™¤å¯¼èˆªå’Œå¹¿å‘Š
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å®¹é”™é‡è¯•**</span> - ç½‘ç»œè¯·æ±‚å¤±è´¥è‡ªåŠ¨é‡è¯•
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**ç¼–ç å¤„ç†**</span> - è‡ªåŠ¨æ£€æµ‹ç½‘é¡µç¼–ç ï¼Œæ­£ç¡®å¤„ç†ä¸­æ–‡å†…å®¹
<span class="hljs-bullet">5.</span> <span class="hljs-strong">**æ–‡ä»¶åæ¸…ç†**</span> - è‡ªåŠ¨å¤„ç†éæ³•å­—ç¬¦ï¼Œç¡®ä¿æ–‡ä»¶ååˆæ³•

<span class="hljs-section">## æ³¨æ„äº‹é¡¹</span>

<span class="hljs-bullet">1.</span> é¦–æ¬¡ä½¿ç”¨éœ€è¦å®‰è£… Playwright æµè§ˆå™¨ï¼ˆçº¦200MBï¼‰
<span class="hljs-bullet">2.</span> å¹¶å‘å¤„ç†ä¼šæ¶ˆè€—è¾ƒå¤šç½‘ç»œå’Œå†…å­˜èµ„æº
<span class="hljs-bullet">3.</span> æŸäº›ç½‘ç«™å¯èƒ½æœ‰åçˆ¬æªæ–½ï¼Œå¯èƒ½éœ€è¦é¢å¤–å¤„ç†
<span class="hljs-bullet">4.</span> ç”Ÿæˆçš„PDFæ–‡ä»¶å¤§å°å–å†³äºç½‘é¡µå¤æ‚åº¦
</code></pre>
<h3 data-id="heading-24">å®‰è£…å¹¶ä½¿ç”¨ skill</h3>
<p>Skill ä¹Ÿæœ‰ä¸“é—¨çš„å¸‚åœºï¼Œè¿™é‡Œæ¨èï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fskillsmp.com" target="_blank" title="https://skillsmp.com" ref="nofollow noopener noreferrer">skillsmp.com</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66afec018b12454f8f0cdd390d3e86a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWj5q2l5Y675rW36L65:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769742694&amp;x-signature=E8thV2naywd2dmTo75wJOpHcOAo%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ A å‚å®˜æ–¹çš„ skill ä»“åº“ï¼Œè¿™é‡Œæ˜¯ä¸‡ç‰©ä¹‹æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
<p>é€šå¸¸ä½¿ç”¨ skills è¿™ä¸ª npm åŒ…æ¥å®‰è£…æŒ‡å®šçš„ skill</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å…ˆå®‰è£… skills</span>
npm <span class="hljs-keyword">add</span> skills -g

<span class="hljs-comment">// é€šè¿‡ skills å†å»å®‰è£…æŒ‡å®šçš„ skill </span>
npx skills <span class="hljs-keyword">add</span> https:<span class="hljs-comment">//github.com/op7418/Youtube-clipper-skill</span>
</code></pre>
<h3 data-id="heading-25">ç¼–å†™è‡ªå·±çš„ skill</h3>
<p>å…ˆå®‰è£…å®˜æ–¹çš„ <strong>skills-creator ,</strong> è¿™ä¸ª skill æ˜¯ A å‚æä¾›çš„ä¸“ä¸šã€å¿«é€Ÿçš„å¼€å‘ skill çš„æŠ€èƒ½åŒ…</p>
<p><code>npx skills add anthropics/skills</code></p>
<p>ç„¶åï¼Œå¯¹ CC è¯´ï¼šæˆ‘è¦å¼€å‘ä¸€ä¸ª xxxx çš„ skill ï¼ŒæŠŠéœ€æ±‚èŠæ¸…æ¥šåï¼Œä»–å°±ä¼šè‡ªåŠ¨è°ƒç”¨ skills-creator å¸®ä½ å¼€å‘äº†</p>
<h2 data-id="heading-26">èµ„æ–™æ±‡æ€»</h2>
<ul>
<li>Skill å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fen%2Fskills" target="_blank" title="https://code.claude.com/docs/en/skills" ref="nofollow noopener noreferrer">code.claude.com/docs/en/skiâ€¦</a></li>
<li>Skill å®˜æ–¹ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
<li>ã€Šæ˜¯ä»€ä¹ˆè®© Claude Code å¦‚æ­¤ç‰›é€¼ï¼Ÿã€‹ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fminusx.ai%2Fblog%2Fdecoding-claude-code" target="_blank" title="https://minusx.ai/blog/decoding-claude-code" ref="nofollow noopener noreferrer">minusx.ai/blog/decodiâ€¦</a></li>
<li>ã€ŠAgent Skills ç»ˆææŒ‡å—ï¼šå…¥é—¨ã€ç²¾é€šã€é¢„æµ‹ã€‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FjUylk813LYbKw0sLiIttTQ" target="_blank" title="https://mp.weixin.qq.com/s/jUylk813LYbKw0sLiIttTQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/jUylk813Lâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nestjså­¦ä¹ 7ï¼šä½¿ç”¨å¤šç§providerï¼Œçµæ´»æ³¨å…¥å¯¹è±¡]]></title>    <link>https://juejin.cn/post/7598103943561904171</link>    <guid>https://juejin.cn/post/7598103943561904171</guid>    <pubDate>2026-01-23T03:28:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598103943561904171" data-draft-id="7598099064443650111" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nestjså­¦ä¹ 7ï¼šä½¿ç”¨å¤šç§providerï¼Œçµæ´»æ³¨å…¥å¯¹è±¡"/> <meta itemprop="keywords" content="NestJS"/> <meta itemprop="datePublished" content="2026-01-23T03:28:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ±Ÿä¸œæµæ°´"/> <meta itemprop="url" content="https://juejin.cn/user/1151943917181880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nestjså­¦ä¹ 7ï¼šä½¿ç”¨å¤šç§providerï¼Œçµæ´»æ³¨å…¥å¯¹è±¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943917181880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ±Ÿä¸œæµæ°´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:28:56.000Z" title="Fri Jan 23 2026 03:28:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Nest å®ç°äº† IoC å®¹å™¨ï¼Œä¼šä»å…¥å£æ¨¡å—å¼€å§‹æ‰«æï¼Œåˆ†æ Module ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼Œå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè‡ªåŠ¨æŠŠ provider æ³¨å…¥åˆ°ç›®æ ‡å¯¹è±¡ã€‚</p>
<p>è€Œè¿™ä¸ª provider ä¹Ÿæœ‰å¥½å‡ ç§ï¼Œä¸‹é¢å°±æ¥çœ‹ä¸€ä¸‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bcb32fd317642dcac43e024c951514a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=nSg4ZsxO%2FkIeI13fgXn6SaEdxTQ%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ° AppService æ˜¯è¢« @Injectable ä¿®é¥°çš„ classã€‚</p>
<p>åœ¨ Module çš„ providers é‡Œå£°æ˜ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cb075aa064449288790ce71598c3f79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=Sd3tPKShYnnvUS7v%2B5EPMwzRiRk%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™å°±æ˜¯ providerã€‚</p>
<p>å…¶å®è¿™æ˜¯ä¸€ç§ç®€å†™ï¼Œå®Œæ•´çš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd2ff31c814c4ee5a0c071a8198a0652~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=paPfEu%2Bp3YSK97cGQ708cQvuORA%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡ provide æŒ‡å®š tokenï¼Œé€šè¿‡ useClass æŒ‡å®šå¯¹è±¡çš„ç±»ï¼ŒNest ä¼šè‡ªåŠ¨å¯¹å®ƒåšå®ä¾‹åŒ–åç”¨æ¥æ³¨å…¥ã€‚</p>
<p>åœ¨ AppController çš„æ„é€ å™¨é‡Œå‚æ•°é‡Œå£°æ˜äº† AppService çš„ä¾èµ–ï¼Œå°±ä¼šè‡ªåŠ¨æ³¨å…¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b943c7bdc2154ae0a0a08a316a7aacde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=BCxxtHRuYqDHm7r3u1FZ%2F9V8YNk%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœä¸æƒ³ç”¨æ„é€ å™¨æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥å±æ€§æ³¨å…¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29cd27c8d1914d87a15a7d05de424d5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=2Ib0ohycFCt04vEZiXAUcTJQOTM%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡ @Inject æŒ‡å®šæ³¨å…¥çš„ provider çš„ token å³å¯ã€‚</p>
<p>æœ‰çš„åŒå­¦è¯´ï¼Œåœ¨æ„é€ å™¨å‚æ•°é‡ŒæŒ‡å®š AppService çš„ä¾èµ–çš„æ—¶å€™ä¹Ÿæ²¡æŒ‡å®š token å•Šï¼Ÿ</p>
<p>é‚£æ˜¯å› ä¸º AppService è¿™ä¸ª class æœ¬èº«å°±æ˜¯ tokenã€‚</p>
<p>å½“ç„¶ï¼Œè¿™ä¸ª token ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3b5ea9cd70e487e800540382393c157~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=6%2B24D33rWTdJYRVfsLkdqqxe0Qk%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœ token æ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œæ³¨å…¥çš„æ—¶å€™å°±è¦ç”¨ @Inject æ‰‹åŠ¨æŒ‡å®šæ³¨å…¥å¯¹è±¡çš„ token äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a5caf9d759b483cae755c44a9c16924~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=UE5z%2BOdZbwRcWfdCtikdMdOmlwk%3D" alt="image.png" loading="lazy"/></p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œç”¨ class åš token å¯ä»¥çœå» @Injectï¼Œæ¯”è¾ƒç®€ä¾¿ã€‚</p>
<p>é™¤äº†æŒ‡å®š class å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥æŒ‡å®šä¸€ä¸ªå€¼ï¼Œè®© IoC å®¹å™¨æ¥æ³¨å…¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a63d7762719d4aa197089a72b86c04f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=8VMg8PlwizASfjYZXXVm%2FtvQ0yk%3D" alt="image.png" loading="lazy"/></p>
<p>ä½¿ç”¨ provide æŒ‡å®š tokenï¼Œä½¿ç”¨ useValue æŒ‡å®šå€¼ã€‚</p>
<p>ç„¶ååœ¨å¯¹è±¡é‡Œæ³¨å…¥å®ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10ec81f92d854278ac2ed6484e890b33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=S8Yh3NNHIqw%2BfAeWpz742tJGZls%3D" alt="image.png" loading="lazy"/></p>
<p>provider çš„å€¼å¯èƒ½æ˜¯åŠ¨æ€äº§ç”Ÿçš„ï¼ŒNest ä¹ŸåŒæ ·æ”¯æŒï¼š</p>
<pre><code class="hljs language-js" lang="js">{
    <span class="hljs-attr">provide</span>: <span class="hljs-string">'person2'</span>,
    <span class="hljs-title function_">useFactory</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'bbb'</span>,
            <span class="hljs-attr">desc</span>: <span class="hljs-string">'cccc'</span>
        }
    }
}
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ useFactory æ¥åŠ¨æ€åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>åœ¨å¯¹è±¡é‡Œæ³¨å…¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd1466bb619742fbb41d5cae13a9b34b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=5TFjOqJ2Hm5UX8DpssnWEHpVrJs%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ª useFactory æ”¯æŒé€šè¿‡å‚æ•°æ³¨å…¥åˆ«çš„ providerï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a217b46e5254489a3458fcd77ad635e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=nOOpyHLO8UOF6jw%2B2977%2BV7%2FK0U%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡ inject å£°æ˜äº†ä¸¤ä¸ª tokenï¼Œä¸€ä¸ªæ˜¯å­—ç¬¦ä¸² token çš„ personï¼Œä¸€ä¸ªæ˜¯ class token çš„ AppServiceã€‚</p>
<p>ä¹Ÿå°±æ˜¯æ³¨å…¥è¿™ä¸¤ä¸ª providerï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e57e936609d4bc78e843838900a84eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=Mcai2Z5gcql%2BrKV8Wq3XyoeQNKU%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è°ƒç”¨ useFactory æ–¹æ³•çš„æ—¶å€™ï¼ŒNest å°±ä¼šæ³¨å…¥è¿™ä¸¤ä¸ªå¯¹è±¡ã€‚</p>
<p>useFactory æ”¯æŒå¼‚æ­¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19914eab0d8f4bd6bbcf9446fe6f16c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5rGf5Lic5rWB5rC0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743736&amp;x-signature=8UjSan%2FJuUnFSyz%2B5B2PtEuZg%2Bg%3D" alt="image.png" loading="lazy"/></p>
<p>Nest ä¼šç­‰æ‹¿åˆ°å¼‚æ­¥æ–¹æ³•çš„ç»“æœä¹‹åå†æ³¨å…¥ã€‚</p>
<p>è¿™æ ·å°±å¯ä»¥æ›´çµæ´»çš„åˆ›å»ºæ³¨å…¥å¯¹è±¡ã€‚</p>
<p>æ­¤å¤–ï¼Œprovider è¿˜å¯ä»¥é€šè¿‡ useExisting æ¥æŒ‡å®šåˆ«åï¼š</p>
<pre><code class="hljs language-js" lang="js">{ <span class="hljs-attr">provide</span>: <span class="hljs-string">'person4'</span>, <span class="hljs-attr">useExisting</span>: <span class="hljs-string">'person2'</span> }
</code></pre>
<p>è¿™é‡Œå°±æ˜¯ç»™ person2 çš„ token çš„ provider èµ·ä¸ªæ–°çš„ token å«åš person4ã€‚</p>
<p>ç„¶åå°±å¯ä»¥ç”¨æ–° token æ¥æ³¨å…¥äº†ã€‚</p>
<p>è¿™äº›è‡ªå®šä¹‰ provider çš„æ–¹å¼é‡Œï¼Œæœ€å¸¸ç”¨çš„æ˜¯ useClassï¼Œä¸è¿‡æˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨ç®€å†™ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æŒ‡å®š classã€‚</p>
<p>useClass çš„æ–¹å¼ç”± IoC å®¹å™¨è´Ÿè´£å®ä¾‹åŒ–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ useValueã€useFactory ç›´æ¥æŒ‡å®šå¯¹è±¡ã€‚</p>
<p>useExisting åªæ˜¯ç”¨æ¥èµ·åˆ«åçš„ï¼Œæœ‰çš„åœºæ™¯ä¸‹ä¼šç”¨åˆ°ã€‚</p>
<h2 data-id="heading-0">æ€»ç»“</h2>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œprovider æ˜¯é€šè¿‡ @Injectable å£°æ˜ï¼Œç„¶ååœ¨ @Module çš„ providers æ•°ç»„é‡Œæ³¨å†Œçš„ classã€‚</p>
<p>é»˜è®¤çš„ token å°±æ˜¯ classï¼Œè¿™æ ·ä¸ç”¨ä½¿ç”¨ @Inject æ¥æŒ‡å®šæ³¨å…¥çš„ tokenã€‚</p>
<p>ä½†ä¹Ÿå¯ä»¥ç”¨å­—ç¬¦ä¸²ç±»å‹çš„ tokenï¼Œä¸è¿‡æ³¨å…¥çš„æ—¶å€™è¦ç”¨ @Inject å•ç‹¬æŒ‡å®šã€‚</p>
<p>é™¤äº†å¯ä»¥ç”¨ useClass æŒ‡å®šæ³¨å…¥çš„ classï¼Œè¿˜å¯ä»¥ç”¨ useValue ç›´æ¥æŒ‡å®šæ³¨å…¥çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœæƒ³åŠ¨æ€ç”Ÿæˆå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ useFactoryï¼Œå®ƒçš„å‚æ•°ä¹Ÿæ³¨å…¥ IOC å®¹å™¨ä¸­çš„å¯¹è±¡ï¼Œç„¶ååŠ¨æ€è¿”å› provider çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœæƒ³èµ·åˆ«åï¼Œå¯ä»¥ç”¨ useExisting ç»™å·²æœ‰çš„ tokenï¼ŒæŒ‡å®šä¸€ä¸ªæ–° tokenã€‚</p>
<p>çµæ´»è¿ç”¨è¿™äº› provider ç±»å‹ï¼Œå°±å¯ä»¥åˆ©ç”¨ Nest çš„ IOC å®¹å™¨ä¸­æ³¨å…¥ä»»ä½•å¯¹è±¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 æ™ºèƒ½ä½“ç¼–ç¨‹è¶‹åŠ¿æŠ¥å‘Š]]></title>    <link>https://juejin.cn/post/7598089234033934336</link>    <guid>https://juejin.cn/post/7598089234033934336</guid>    <pubDate>2026-01-23T03:31:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598089234033934336" data-draft-id="7598203055751413795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 æ™ºèƒ½ä½“ç¼–ç¨‹è¶‹åŠ¿æŠ¥å‘Š"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T03:31:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èˆ’ä¸€ç¬‘ä¸ç§ƒå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/4257747754552599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 æ™ºèƒ½ä½“ç¼–ç¨‹è¶‹åŠ¿æŠ¥å‘Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4257747754552599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èˆ’ä¸€ç¬‘ä¸ç§ƒå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:31:52.000Z" title="Fri Jan 23 2026 03:31:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç›®å½•</h2>
<ul>
<li>
<p>å‰è¨€ï¼šä»è¾…åŠ©åˆ°åä½œ â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 3</p>
</li>
<li>
<p>åŸºç¡€è¶‹åŠ¿ï¼šæ¿å—çº§å˜é© â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 4</p>
</li>
<li>
<p>è¶‹åŠ¿ 1ï¼šè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿå‰§å˜ â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 5</p>
</li>
<li>
<p>èƒ½åŠ›è¶‹åŠ¿ï¼šæ™ºèƒ½ä½“èƒ½åšä»€ä¹ˆ â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 7</p>
</li>
<li>
<p>è¶‹åŠ¿ 2ï¼šå•ä¸ªæ™ºèƒ½ä½“æ¼”å˜ä¸ºååŒå›¢é˜Ÿ â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 8</p>
</li>
<li>
<p>è¶‹åŠ¿ 3ï¼šé•¿æœŸè¿è¡Œçš„æ™ºèƒ½ä½“æ„å»ºå®Œæ•´ç³»ç»Ÿ â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 9</p>
</li>
<li>
<p>è¶‹åŠ¿ 4ï¼šé€šè¿‡æ™ºèƒ½åä½œå®ç°äººç±»ç›‘ç£çš„è§„æ¨¡åŒ– â€¦â€¦â€¦â€¦â€¦ 10</p>
</li>
<li>
<p>è¶‹åŠ¿ 5ï¼šæ™ºèƒ½ä½“ç¼–ç¨‹æ‰©å±•è‡³æ–°åœºæ™¯ä¸æ–°ç”¨æˆ· â€¦â€¦â€¦â€¦â€¦â€¦ 11</p>
</li>
<li>
<p>å½±å“è¶‹åŠ¿ï¼š2026 å¹´æ™ºèƒ½ä½“å¯èƒ½å¸¦æ¥çš„æ”¹å˜ â€¦â€¦â€¦â€¦â€¦â€¦ 12</p>
</li>
<li>
<p>è¶‹åŠ¿ 6ï¼šç”Ÿäº§åŠ›æå‡é‡å¡‘è½¯ä»¶å¼€å‘ç»æµ â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 13</p>
</li>
<li>
<p>è¶‹åŠ¿ 7ï¼šéæŠ€æœ¯ç”¨ä¾‹åœ¨ç»„ç»‡ä¸­å¹¿æ³›æ‰©å±• â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 14</p>
</li>
<li>
<p>è¶‹åŠ¿ 8ï¼šåŒé‡ç”¨é€”é£é™©è¦æ±‚â€œå®‰å…¨ä¼˜å…ˆâ€æ¶æ„ â€¦â€¦â€¦â€¦â€¦ 15</p>
</li>
<li>
<p>æœªæ¥ä¸€å¹´çš„é‡ç‚¹æ–¹å‘ â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ 16</p>
</li>
</ul>
<h2 data-id="heading-1">å‰è¨€ï¼šä»è¾…åŠ©åˆ°åä½œ</h2>
<p>2025 å¹´ï¼Œç¼–ç æ™ºèƒ½ä½“å·²ä»å®éªŒæ€§å·¥å…·è½¬å˜ä¸ºæŠ•å…¥ç”Ÿäº§çš„çœŸå®ç³»ç»Ÿï¼Œèƒ½å¤Ÿå‘çœŸå®å®¢æˆ·äº¤ä»˜çœŸå®åŠŸèƒ½ã€‚å·¥ç¨‹å›¢é˜Ÿå‘ç°ï¼ŒAI å¦‚ä»Šå¯ä»¥å¤„ç†å®Œæ•´çš„å®ç°å·¥ä½œæµï¼šç¼–å†™æµ‹è¯•ã€è°ƒè¯•å¤±è´¥ã€ç”Ÿæˆæ–‡æ¡£ï¼Œå¹¶åœ¨æ—¥ç›Šå¤æ‚çš„ä»£ç åº“ä¸­è‡ªå¦‚å¯¼èˆªã€‚</p>
<p>2026 å¹´ï¼Œæˆ‘ä»¬é¢„æµ‹è¿™äº›è¿›å±•å°†è¿œè¶…å¯¹ç°æœ‰å·¥å…·æˆ–æ¨¡å‹çš„æ¸è¿›å¼æ”¹è¿›ã€‚æˆ‘ä»¬é¢„è®¡ï¼Œå•ä¸ªæ™ºèƒ½ä½“å°†æ¼”å˜ä¸ºååŒå·¥ä½œçš„æ™ºèƒ½ä½“å›¢é˜Ÿï¼›è¿‡å»éœ€è¦æ•°å°æ—¶ç”šè‡³æ•°å¤©çš„ä»»åŠ¡ï¼Œå¦‚ä»Šåªéœ€æå°‘çš„äººå·¥å¹²é¢„å³å¯å®Œæˆã€‚è€Œå‡ å¹´å‰è¿˜åœ¨é€è¡Œæ‰‹å†™ä»£ç çš„å·¥ç¨‹å¸ˆï¼Œå°†è¶Šæ¥è¶Šå¤šåœ°åè°ƒé•¿æœŸè¿è¡Œçš„æ™ºèƒ½ä½“ç³»ç»Ÿæ¥å¤„ç†å®ç°ç»†èŠ‚ï¼Œä»è€Œèšç„¦äºæ¶æ„ä¸æˆ˜ç•¥å±‚é¢ã€‚</p>
<p>ç„¶è€Œï¼Œç ”ç©¶å¼€å‘è€…å®é™…ä½¿ç”¨ AI çš„æ–¹å¼æ­ç¤ºäº†ä¸€ä¸ªå…³é”®ç»†èŠ‚ï¼šè¿™åœºè½¬å‹æœ¬è´¨ä¸Šæ˜¯<strong>åä½œå¼</strong>çš„ã€‚æˆ‘ä»¬ç¤¾ä¼šå½±å“å›¢é˜Ÿçš„ç ”ç©¶è¡¨æ˜ï¼Œå°½ç®¡å¼€å‘è€…åœ¨çº¦ 60% çš„å·¥ä½œä¸­ä½¿ç”¨ AIï¼Œä½†ä»–ä»¬è¡¨ç¤ºä»…èƒ½â€œå®Œå…¨å§”æ‰˜â€0â€“20% çš„ä»»åŠ¡ã€‚AI å§‹ç»ˆæ˜¯åä½œè€…ï¼Œä½†è¦é«˜æ•ˆä½¿ç”¨å®ƒï¼Œä»éœ€ç²¾å¿ƒè®¾ç½®ä¸æç¤ºã€ä¸»åŠ¨ç›‘ç£ã€éªŒè¯ä»¥åŠäººç±»åˆ¤æ–­â€”â€”å°¤å…¶åœ¨é«˜é£é™©å·¥ä½œä¸­ã€‚</p>
<p>å—æˆ‘ä»¬ä¸å®¢æˆ·åˆä½œç»éªŒçš„å¯å‘ï¼Œæœ¬æŠ¥å‘Šè¯†åˆ«å‡ºå…«é¡¹æˆ‘ä»¬è®¤ä¸ºå°†åœ¨ 2026 å¹´å®šä¹‰æ™ºèƒ½ä½“ç¼–ç¨‹çš„è¶‹åŠ¿ã€‚è¿™äº›é¢„æµ‹åˆ†ä¸ºä¸‰ç±»ï¼š<strong>åŸºç¡€è¶‹åŠ¿</strong>ï¼ˆå°†é‡å¡‘å¼€å‘å·¥ä½œæ–¹å¼ï¼‰ã€<strong>èƒ½åŠ›è¶‹åŠ¿</strong>ï¼ˆæ‹“å±•æ™ºèƒ½ä½“å¯å®Œæˆçš„ä»»åŠ¡èŒƒå›´ï¼‰å’Œ<strong>å½±å“è¶‹åŠ¿</strong>ï¼ˆå¯èƒ½æ”¹å˜å•†ä¸šæˆæœä¸ç»„ç»‡ç»“æ„ï¼‰ã€‚</p>
<p>è¿™äº›é¢„æµ‹åæ˜ çš„æ˜¯æˆ‘ä»¬ä»Šå¤©åœ¨å®¢æˆ·èº«ä¸Šçœ‹åˆ°çš„ç°è±¡ï¼Œè€Œéå¯¹æ˜å¤©çš„ç¡®å®šæ€§æ–­è¨€ã€‚æˆ‘ä»¬æä¾›å®ƒä»¬ä½œä¸ºæ€è€ƒæœªæ¥ä¸€å¹´çš„æ¡†æ¶ï¼Œæ·±çŸ¥æœªæ¥ç»ˆå°†å¸¦æ¥æƒŠå–œã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›è¶‹åŠ¿è¡¨æ˜æ—©æœŸé‡‡ç”¨è€…ä¸åè¿›è€…ä¹‹é—´çš„å·®è·æ­£åœ¨æ‰©å¤§ã€‚é‚£äº›å­¦ä¼šåœ¨ä¸é€ æˆç“¶é¢ˆçš„å‰æä¸‹è§„æ¨¡åŒ–äººç±»ç›‘ç£çš„ç»„ç»‡ï¼Œæ›´èƒ½å…¼é¡¾è´¨é‡ä¸é€Ÿåº¦ã€‚é‚£äº›ä»Šå¤©å°±æŒæ¡è·¨è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„æ™ºèƒ½ä½“ååŒçš„å›¢é˜Ÿï¼Œèƒ½åœ¨æ•°å°æ—¶å†…è€Œéæ•°å¤©å†…äº¤ä»˜åŠŸèƒ½ã€‚è€Œå°†æ™ºèƒ½ä½“ç¼–ç¨‹ä»å·¥ç¨‹å›¢é˜Ÿæ‰©å±•è‡³éæŠ€æœ¯è§’è‰²çš„å…¬å¸ï¼Œåˆ™æœ‰æœ›åœ¨æ•´ä¸ªç»„ç»‡ä¸­é‡Šæ”¾ç”Ÿäº§åŠ›çº¢åˆ©ã€‚</p>
<p>2026 å¹´æµ®ç°çš„æ¨¡å¼è¡¨æ˜ï¼Œè½¯ä»¶å¼€å‘æ­£æœç€ä¸€ç§æ–°æ¨¡å¼æ¼”è¿›ï¼š<strong>äººç±»ä¸“å®¶ä¸“æ³¨äºå®šä¹‰å€¼å¾—è§£å†³çš„é—®é¢˜ï¼Œè€Œ AI è´Ÿè´£æˆ˜æœ¯å±‚é¢çš„å®ç°å·¥ä½œ</strong>ã€‚</p>
<p>è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨ã€‚</p>
<h2 data-id="heading-2">åŸºç¡€è¶‹åŠ¿ï¼šæ¿å—çº§å˜é©</h2>
<h3 data-id="heading-3">è¶‹åŠ¿ 1ï¼šè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿå‰§å˜</h3>
<p>æˆ‘ä»¬ä¸è®¡ç®—æœºçš„äº¤äº’æ–¹å¼æ­£ç»å†è‡ªå›¾å½¢ç”¨æˆ·ç•Œé¢ä»¥æ¥æœ€é‡å¤§çš„å˜é©ä¹‹ä¸€ã€‚ä»æœºå™¨ç åˆ°æ±‡ç¼–ï¼Œå†åˆ° C è¯­è¨€ï¼Œå†åˆ°ç°ä»£é«˜çº§è¯­è¨€ï¼Œæ¯ä¸€å±‚æŠ½è±¡éƒ½ç¼©å°äº†äººç±»æ€ç»´ä¸æœºå™¨æ‰§è¡Œä¹‹é—´çš„é¸¿æ²Ÿã€‚</p>
<p>æœ€è¿‘çš„ä¸€æ­¥æ˜¯<strong>äººæœºå¯¹è¯</strong>ã€‚2025 å¹´ï¼Œæ™ºèƒ½ä½“ AI æ”¹å˜äº†å¤§é‡å¼€å‘è€…çš„ç¼–ç æ–¹å¼ã€‚2026 å¹´ï¼Œè¿™ä¸€æ¼”åŒ–è½¬å˜çš„ç³»ç»Ÿæ€§æ•ˆåº”å°†é‡æ„æ•´ä¸ªè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼ˆSDLCï¼‰ï¼Œå¹¶é‡å¡‘è½¯ä»¶å·¥ç¨‹è§’è‰²ã€‚</p>
<p>ä¼ ç»Ÿçš„ SDLC é˜¶æ®µä¾ç„¶å­˜åœ¨ï¼Œä½†ç”±æ™ºèƒ½ä½“é©±åŠ¨çš„å®ç°ã€è‡ªåŠ¨åŒ–æµ‹è¯•å’Œå†…è”æ–‡æ¡£å°†å‘¨æœŸæ—¶é—´ä»æ•°å‘¨å‹ç¼©è‡³æ•°å°æ—¶ã€‚ç›‘æ§æ•°æ®ç›´æ¥åé¦ˆåˆ°å¿«é€Ÿè¿­ä»£ä¸­ã€‚</p>
<h4 data-id="heading-4">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>æŠ½è±¡å±‚çº§çš„æ¼”è¿›</strong>ï¼šç¼–å†™ã€è°ƒè¯•å’Œç»´æŠ¤ä»£ç çš„å¤§éƒ¨åˆ†æˆ˜æœ¯å·¥ä½œå°†è½¬ç§»ç»™ AIï¼Œå·¥ç¨‹å¸ˆåˆ™èšç„¦äºæ›´é«˜å±‚æ¬¡çš„å·¥ä½œï¼Œå¦‚æ¶æ„ã€ç³»ç»Ÿè®¾è®¡ä»¥åŠå…³äºâ€œæ„å»ºä»€ä¹ˆâ€çš„æˆ˜ç•¥å†³ç­–ã€‚</li>
<li><strong>å·¥ç¨‹è§’è‰²è½¬å‹</strong>ï¼šè¿‡å»ï¼Œâ€œæ„å»ºè½¯ä»¶â€ä¸»è¦æ„å‘³ç€å†™ä»£ç ï¼ˆå°½ç®¡è½¯ä»¶å·¥ç¨‹è§’è‰²ä¸€ç›´åŒ…å«è®¸å¤šå…¶ä»–æŠ€èƒ½ï¼‰ã€‚å¦‚ä»Šï¼Œè½¯ä»¶å·¥ç¨‹å¸ˆè¶Šæ¥è¶Šæ„å‘³ç€<strong>åè°ƒç¼–å†™ä»£ç çš„æ™ºèƒ½ä½“</strong>ï¼Œè¯„ä¼°å…¶è¾“å‡ºï¼Œæä¾›æˆ˜ç•¥æ–¹å‘ï¼Œå¹¶ç¡®ä¿ç³»ç»Ÿæ•´ä½“æ­£ç¡®åœ°è§£å†³äº†æ­£ç¡®çš„é—®é¢˜ã€‚</li>
<li><strong>åŠ é€Ÿå…¥èŒä¸åŠ¨æ€é¡¹ç›®äººå‘˜é…ç½®</strong>ï¼šä¼ ç»Ÿä¸Šç†Ÿæ‚‰æ–°ä»£ç åº“æˆ–é¡¹ç›®çš„å…¥èŒå‘¨æœŸå°†ä»æ•°å‘¨ç¼©çŸ­è‡³æ•°å°æ—¶ï¼Œæ”¹å˜å…¬å¸å¯¹äººæ‰éƒ¨ç½²å’Œé¡¹ç›®èµ„æºè°ƒé…çš„æ€è€ƒæ–¹å¼ã€‚</li>
</ul>
<h4 data-id="heading-5">åä½œçš„ç°å®</h4>
<p>å°½ç®¡æ™ºèƒ½ä½“æ‰¿æ‹…äº†æ›´å¤šå®ç°å·¥ä½œï¼Œä½†è¿™ç§è½¬å˜æ­ç¤ºäº†ä¸€ä¸ªé‡è¦äº‹å®ï¼š<strong>å·¥ç¨‹å¸ˆæ­£å˜å¾—æ›´â€œå…¨æ ˆâ€è€Œéè¢«å–ä»£</strong>ã€‚æˆ‘ä»¬çš„ç ”ç©¶è¡¨æ˜ï¼Œå·¥ç¨‹å¸ˆç°åœ¨èƒ½æœ‰æ•ˆè·¨è¶Šå‰ç«¯ã€åç«¯ã€æ•°æ®åº“å’ŒåŸºç¡€è®¾æ–½ç­‰é¢†åŸŸâ€”â€”è¿™äº›é¢†åŸŸä»–ä»¬è¿‡å»å¯èƒ½ç¼ºä¹ä¸“ä¸šçŸ¥è¯†â€”â€”å› ä¸º AI å¡«è¡¥äº†çŸ¥è¯†ç©ºç™½ï¼Œè€Œäººç±»æä¾›ç›‘ç£ä¸æ–¹å‘ã€‚</p>
<p>è¿™ç§èƒ½åŠ›æ‰©å±•å¸¦æ¥äº†æ›´ç´§å¯†çš„åé¦ˆå¾ªç¯å’Œæ›´å¿«çš„å­¦ä¹ é€Ÿåº¦ã€‚è¿‡å»éœ€è¦æ•°å‘¨è·¨å›¢é˜Ÿåè°ƒçš„ä»»åŠ¡ï¼Œå¦‚ä»Šå¯å˜ä¸ºèšç„¦çš„å·¥ä½œä¼šè¯ã€‚å·¥ç¨‹å¸ˆæè¿°ä»–ä»¬å°† AI ç”¨äº<strong>æ˜“äºéªŒè¯ã€å®šä¹‰æ¸…æ™°æˆ–é‡å¤æ€§é«˜</strong>çš„ä»»åŠ¡ï¼Œè€Œå°†é«˜å±‚è®¾è®¡å†³ç­–åŠä»»ä½•éœ€è¦ç»„ç»‡ä¸Šä¸‹æ–‡æˆ–â€œå“å‘³â€çš„ä»»åŠ¡ç•™ç»™è‡ªå·±ã€‚</p>
<h4 data-id="heading-6">è§’è‰²è½¬å‹ï¼šä»å®ç°è€…åˆ°åè°ƒè€…</h4>
<p>2026 å¹´ï¼Œå·¥ç¨‹å¸ˆè´¡çŒ®çš„ä»·å€¼å°†è½¬å‘<strong>ç³»ç»Ÿæ¶æ„è®¾è®¡ã€æ™ºèƒ½ä½“åè°ƒã€è´¨é‡è¯„ä¼°å’Œæˆ˜ç•¥æ€§é—®é¢˜æ‹†è§£</strong>ã€‚æ„å»ºè½¯ä»¶çš„ä¸»è¦äººç±»è§’è‰²ï¼Œæ˜¯åè°ƒç¼–å†™ä»£ç çš„ AI æ™ºèƒ½ä½“ã€è¯„ä¼°å…¶è¾“å‡ºã€æä¾›æˆ˜ç•¥æ–¹å‘ï¼Œå¹¶ç¡®ä¿ç³»ç»Ÿä¸ºæ­£ç¡®çš„åˆ©ç›Šç›¸å…³è€…è§£å†³æ­£ç¡®çš„é—®é¢˜ã€‚</p>
<p>æŒæ¡åè°ƒèƒ½åŠ›çš„å·¥ç¨‹å¸ˆå¯åŒæ—¶æ¨è¿›å¤šä¸ªåŠŸèƒ½å¼€å‘ï¼Œå°†å…¶åˆ¤æ–­åº”ç”¨äºæ¯”ä»¥å¾€å•ç‚¹å®ç°æ›´å¹¿æ³›çš„èŒƒå›´ã€‚</p>
<h4 data-id="heading-7">å…¥èŒé©å‘½</h4>
<p>2025 å¹´ï¼Œç†Ÿæ‚‰æ–°ä»£ç åº“æˆ–é¡¹ç›®çš„ä¼ ç»Ÿæ—¶é—´çº¿å·²å¼€å§‹ä»æ•°å‘¨å‹ç¼©è‡³æ•°å°æ—¶ã€‚2026 å¹´ï¼Œæˆ‘ä»¬é¢„è®¡ç»„ç»‡å°†å­¦ä¼šå……åˆ†åˆ©ç”¨è¿™ä¸€èƒ½åŠ›ï¼Œå½»åº•æ”¹å˜äººæ‰éƒ¨ç½²å’Œé¡¹ç›®èµ„æºè§„åˆ’æ–¹å¼ã€‚</p>
<p>æˆ‘ä»¬è®¾æƒ³çš„ä¸€ç§è¡¨ç°å½¢å¼æ˜¯<strong>åŠ¨æ€â€œçªå‡»â€å¼äººå‘˜é…ç½®</strong>ï¼ˆdynamic "surge" staffingï¼‰ï¼šä¼ä¸šå¯æ ¹æ®éœ€æ±‚ï¼Œå°†å…·å¤‡æ·±åº¦ä»£ç åº“çŸ¥è¯†çš„å·¥ç¨‹å¸ˆæŒ‰éœ€â€œçªå‡»â€æŠ•å…¥åˆ°ç‰¹å®šä»»åŠ¡ä¸­ã€‚ç»„ç»‡å¯åŠ¨æ€è°ƒé…é¡¹ç›®äººå‘˜ï¼Œé’ˆå¯¹ç‰¹å®šæŒ‘æˆ˜å¼•å…¥ä¸“å®¶ï¼Œå¹¶åœ¨ä¸ç»å†ä¼ ç»Ÿç”Ÿäº§åŠ›ä½è°·çš„æƒ…å†µä¸‹çµæ´»è°ƒæ•´èµ„æºã€‚</p>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šåˆåˆ›å…¬å¸ Augment Code åˆ©ç”¨ Claude ä¸ºç½‘ç»œå¹³å°ã€æ•°æ®åº“å’Œå­˜å‚¨åŸºç¡€è®¾æ–½ç­‰ç³»ç»Ÿæ„å»º AI é©±åŠ¨çš„å¼€å‘å·¥å…·ï¼Œé€šè¿‡æä¾›ä¸Šä¸‹æ–‡ä»£ç ç†è§£ï¼Œå¤§å¹…é™ä½äº†å·¥ç¨‹å¸ˆåŠ å…¥æ–°ä»£ç åº“çš„å­¦ä¹ æ›²çº¿ã€‚ä¸€ä½ä¼ä¸šå®¢æˆ·ä½¿ç”¨ Augment Codeï¼ˆåŸºäº Claudeï¼‰åœ¨<strong>ä¸¤å‘¨å†…</strong>å®Œæˆäº†å…¶ CTO æœ€åˆé¢„ä¼°éœ€ <strong>4â€“8 ä¸ªæœˆ</strong>çš„é¡¹ç›®ã€‚</p>
</blockquote>
<h2 data-id="heading-8">èƒ½åŠ›è¶‹åŠ¿ï¼šæ™ºèƒ½ä½“èƒ½åšä»€ä¹ˆ</h2>
<h3 data-id="heading-9">è¶‹åŠ¿ 2ï¼šå•ä¸ªæ™ºèƒ½ä½“æ¼”å˜ä¸ºååŒå›¢é˜Ÿ</h3>
<p>æˆ‘ä»¬é¢„æµ‹ï¼Œ2026 å¹´ç»„ç»‡å°†èƒ½å¤Ÿåˆ©ç”¨å¤šä¸ªæ™ºèƒ½ä½“ååŒå·¥ä½œï¼Œå¤„ç†ä¸€å¹´å‰éš¾ä»¥æƒ³è±¡çš„å¤æ‚ä»»åŠ¡ã€‚è¿™å°†è¦æ±‚æ–°çš„æŠ€èƒ½ï¼šä»»åŠ¡æ‹†è§£ã€æ™ºèƒ½ä½“ä¸“ä¸šåŒ–ã€åè°ƒåè®®ï¼Œä»¥åŠèƒ½æ˜¾ç¤ºå¤šä¸ªå¹¶å‘æ™ºèƒ½ä½“ä¼šè¯çŠ¶æ€çš„å¼€å‘ç¯å¢ƒï¼Œè¿˜æœ‰èƒ½å¤„ç†æ™ºèƒ½ä½“åŒæ­¥è´¡çŒ®çš„ç‰ˆæœ¬æ§åˆ¶å·¥ä½œæµã€‚</p>
<h4 data-id="heading-10">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>å¤šæ™ºèƒ½ä½“ç³»ç»Ÿå–ä»£å•æ™ºèƒ½ä½“å·¥ä½œæµ</strong>ï¼šç»„ç»‡é‡‡ç”¨å¤šæ™ºèƒ½ä½“å·¥ä½œæµï¼Œé€šè¿‡åœ¨ç‹¬ç«‹ä¸Šä¸‹æ–‡çª—å£ä¸­å¹¶è¡Œæ¨ç†ï¼Œæœ€å¤§åŒ–æ€§èƒ½æ”¶ç›Šã€‚</li>
</ul>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šä¸€çº¿åŠ³åŠ¨åŠ›ç®¡ç†å¹³å° Fountain åˆ©ç”¨ Claude å®ç°åˆ†å±‚å¤šæ™ºèƒ½ä½“åè°ƒï¼Œ<strong>ç­›é€‰é€Ÿåº¦æå‡ 50%ã€å…¥èŒé€Ÿåº¦åŠ å¿« 40%ã€å€™é€‰äººè½¬åŒ–ç‡ç¿»å€</strong>ã€‚å…¶ Fountain Copilot ä½œä¸ºä¸­å¤®åè°ƒæ™ºèƒ½ä½“ï¼Œç»Ÿç­¹ä¸“é—¨ç”¨äºå€™é€‰äººç­›é€‰ã€è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆå’Œæƒ…æ„Ÿåˆ†æçš„å­æ™ºèƒ½ä½“ã€‚è¯¥æ¶æ„ä½¿æŸç‰©æµå®¢æˆ·å°†æ–°å±¥çº¦ä¸­å¿ƒçš„å…¨é¢ staffing æ—¶é—´ä»ä¸€å‘¨ä»¥ä¸Šç¼©çŸ­è‡³<strong>ä¸åˆ° 72 å°æ—¶</strong>ã€‚</p>
</blockquote>
<blockquote>
<p>å•æ™ºèƒ½ä½“å·¥ä½œæµé€šè¿‡å•ä¸€ä¸Šä¸‹æ–‡çª—å£é¡ºåºå¤„ç†ä»»åŠ¡ã€‚å¤šæ™ºèƒ½ä½“æ¶æ„åˆ™ç”±ä¸€ä¸ªåè°ƒå™¨ç»Ÿç­¹å¤šä¸ªä¸“ç”¨æ™ºèƒ½ä½“å¹¶è¡Œå·¥ä½œï¼ˆå„è‡ªæ‹¥æœ‰ç‹¬ç«‹ä¸Šä¸‹æ–‡ï¼‰ï¼Œå†å°†ç»“æœæ•´åˆä¸ºç»Ÿä¸€è¾“å‡ºã€‚</p>
</blockquote>
<h3 data-id="heading-11">è¶‹åŠ¿ 3ï¼šé•¿æœŸè¿è¡Œçš„æ™ºèƒ½ä½“æ„å»ºå®Œæ•´ç³»ç»Ÿ</h3>
<p>æ—©æœŸçš„æ™ºèƒ½ä½“ä»…å¤„ç†å‡ åˆ†é’Ÿå†…å®Œæˆçš„ä¸€æ¬¡æ€§ä»»åŠ¡ï¼šä¿®å¤è¿™ä¸ª bugã€å†™è¿™ä¸ªå‡½æ•°ã€ç”Ÿæˆè¿™ä¸ªæµ‹è¯•ã€‚åˆ° 2025 å¹´åº•ï¼Œæ—¥ç›Šæˆç†Ÿçš„ AI æ™ºèƒ½ä½“å·²èƒ½åœ¨æ•°å°æ—¶å†…äº§å‡ºå®Œæ•´åŠŸèƒ½é›†ã€‚2026 å¹´ï¼Œæ™ºèƒ½ä½“å°†èƒ½<strong>è¿ç»­å·¥ä½œæ•°å¤©</strong>ï¼Œåœ¨æœ€å°‘äººå·¥å¹²é¢„ä¸‹æ„å»ºæ•´ä¸ªåº”ç”¨å’Œç³»ç»Ÿï¼Œäººç±»ä»…åœ¨å…³é”®å†³ç­–ç‚¹æä¾›æˆ˜ç•¥ç›‘ç£ã€‚</p>
<h4 data-id="heading-12">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>ä»»åŠ¡æ—¶åŸŸä»åˆ†é’Ÿæ‰©å±•è‡³æ•°å¤©ç”šè‡³æ•°å‘¨</strong>ï¼šæ™ºèƒ½ä½“ä»å¤„ç†å‡ åˆ†é’Ÿå†…å®Œæˆçš„ç¦»æ•£ä»»åŠ¡ï¼Œæ¼”å˜ä¸ºèƒ½è‡ªä¸»å·¥ä½œè¾ƒé•¿æ—¶é—´ï¼Œæ„å»ºå¹¶æµ‹è¯•æ•´ä¸ªåº”ç”¨å’Œç³»ç»Ÿï¼Œå¹¶å®šæœŸæ¥å—äººç±»æ£€æŸ¥ç‚¹ã€‚</li>
<li><strong>æ™ºèƒ½ä½“åº”å¯¹è½¯ä»¶å¼€å‘çš„â€œæ··ä¹±ç°å®â€</strong>ï¼šé•¿æœŸè¿è¡Œçš„æ™ºèƒ½ä½“èƒ½è§„åˆ’ã€è¿­ä»£ã€ä¼˜åŒ–æ•°åä¸ªå·¥ä½œä¼šè¯ï¼Œé€‚åº”æ–°å‘ç°ã€ä»å¤±è´¥ä¸­æ¢å¤ï¼Œå¹¶åœ¨æ•´ä¸ªå¤æ‚é¡¹ç›®ä¸­ä¿æŒä¸€è‡´çŠ¶æ€ã€‚</li>
<li><strong>è½¯ä»¶å¼€å‘ç»æµå­¦å‘ç”Ÿæ”¹å˜</strong>ï¼šå½“æ™ºèƒ½ä½“èƒ½é•¿æ—¶é—´è‡ªä¸»å·¥ä½œæ—¶ï¼Œè¿‡å»ä¸å¯è¡Œçš„é¡¹ç›®å˜å¾—å¯è¡Œã€‚å› æ— äººæœ‰æ—¶é—´å¤„ç†è€Œç§¯ç´¯å¤šå¹´çš„â€œæŠ€æœ¯å€ºâ€ï¼Œå°†è¢«æ™ºèƒ½ä½“ç³»ç»Ÿæ€§åœ°æ¸…ç†ã€‚</li>
<li><strong>ä¸Šå¸‚è·¯å¾„åŠ é€Ÿ</strong>ï¼šåˆ›ä¸šè€…åˆ©ç”¨æ™ºèƒ½ä½“åœ¨æ•°å¤©å†…ï¼ˆè€Œéæ•°æœˆï¼‰å°†æƒ³æ³•è½¬åŒ–ä¸ºå·²éƒ¨ç½²çš„åº”ç”¨ã€‚</li>
</ul>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šåœ¨ä¹å¤©ï¼ˆRakutenï¼‰ï¼Œå·¥ç¨‹å¸ˆç”¨ Claude Code æµ‹è¯•ä¸€é¡¹å¤æ‚æŠ€æœ¯ä»»åŠ¡ï¼šåœ¨æ‹¥æœ‰ 1250 ä¸‡è¡Œä»£ç ã€å¤šç§ç¼–ç¨‹è¯­è¨€çš„å¤§å‹å¼€æºåº“ vLLM ä¸­å®ç°ç‰¹å®šçš„æ¿€æ´»å‘é‡æå–æ–¹æ³•ã€‚Claude Code åœ¨<strong>å•æ¬¡è¿è¡Œä¸­ä»…ç”¨ 7 å°æ—¶</strong>å°±å®Œæˆäº†å…¨éƒ¨å·¥ä½œï¼Œå®ç°ç»“æœä¸å‚è€ƒæ–¹æ³•ç›¸æ¯”è¾¾åˆ° <strong>99.9% çš„æ•°å€¼ç²¾åº¦</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-13">è¶‹åŠ¿ 4ï¼šé€šè¿‡æ™ºèƒ½åä½œå®ç°äººç±»ç›‘ç£çš„è§„æ¨¡åŒ–</h3>
<p>2026 å¹´æœ€æœ‰ä»·å€¼çš„èƒ½åŠ›å‘å±•æˆ–è®¸æ˜¯ï¼š<strong>æ™ºèƒ½ä½“å­¦ä¼šä½•æ—¶æ±‚åŠ©</strong>ï¼Œè€Œéç›²ç›®å°è¯•æ‰€æœ‰ä»»åŠ¡ï¼›è€Œäººç±»åªåœ¨å¿…è¦æ—¶ä»‹å…¥ã€‚è¿™å¹¶éè¦å°†äººç±»æ’é™¤åœ¨å¤–ï¼Œè€Œæ˜¯è®©äººç±»æ³¨æ„åŠ›é›†ä¸­åœ¨æœ€å…³é”®çš„åœ°æ–¹ã€‚</p>
<h4 data-id="heading-14">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>æ™ºèƒ½ä½“è´¨é‡æ§åˆ¶æˆä¸ºæ ‡å‡†</strong>ï¼šç»„ç»‡ä½¿ç”¨ AI æ™ºèƒ½ä½“å®¡æŸ¥å¤§è§„æ¨¡ AI ç”Ÿæˆçš„è¾“å‡ºï¼Œåˆ†æä»£ç ä¸­çš„å®‰å…¨æ¼æ´ã€æ¶æ„ä¸€è‡´æ€§åŠè´¨é‡é—®é¢˜â€”â€”è¿™äº›å·¥ä½œè‹¥é äººåŠ›å°†ä¸å ªé‡è´Ÿã€‚</li>
<li><strong>æ™ºèƒ½ä½“å­¦ä¼šä½•æ—¶æ±‚åŠ©</strong>ï¼šæˆç†Ÿçš„æ™ºèƒ½ä½“èƒ½è¯†åˆ«éœ€è¦äººç±»åˆ¤æ–­çš„æƒ…å¢ƒï¼Œæ ‡è®°ä¸ç¡®å®šæ€§åŒºåŸŸï¼Œå¹¶å°†å…·æœ‰æ½œåœ¨ä¸šåŠ¡å½±å“çš„å†³ç­–å‡çº§ç»™äººç±»ã€‚</li>
<li><strong>äººç±»ç›‘ç£ä»â€œå®¡æŸ¥ä¸€åˆ‡â€è½¬å‘â€œå®¡æŸ¥å…³é”®â€</strong>ï¼šå›¢é˜Ÿé€šè¿‡æ„å»ºæ™ºèƒ½ç³»ç»Ÿå¤„ç†å¸¸è§„éªŒè¯ï¼ŒåŒæ—¶å°†çœŸæ­£æ–°é¢–çš„æƒ…å†µã€è¾¹ç•Œæ¡ˆä¾‹å’Œæˆ˜ç•¥å†³ç­–äº¤ç”±äººç±»å¤„ç†ï¼Œä»è€Œå…¼é¡¾è´¨é‡ä¸é€Ÿåº¦ã€‚</li>
</ul>
<h4 data-id="heading-15">åä½œæ‚–è®º</h4>
<p>Anthropic å†…éƒ¨ç ”ç©¶æ­ç¤ºäº†ä¸€ä¸ªé‡è¦æ¨¡å¼ï¼šå°½ç®¡å·¥ç¨‹å¸ˆæŠ¥å‘Šåœ¨çº¦ 60% çš„å·¥ä½œä¸­ä½¿ç”¨ AI å¹¶è·å¾—æ˜¾è‘—ç”Ÿäº§åŠ›æå‡ï¼Œä½†ä»–ä»¬ä¹Ÿè¡¨ç¤ºä»…èƒ½â€œå®Œå…¨å§”æ‰˜â€ä¸€å°éƒ¨åˆ†ä»»åŠ¡ã€‚è¿™ä¸€è¡¨é¢çŸ›ç›¾åœ¨ç†è§£â€œæœ‰æ•ˆ AI åä½œéœ€è¦äººç±»ä¸»åŠ¨å‚ä¸â€åä¾¿è¿åˆƒè€Œè§£ã€‚</p>
<p>å·¥ç¨‹å¸ˆæè¿°ï¼Œä»–ä»¬éšæ—¶é—´é€æ¸å½¢æˆå¯¹ AI å§”æ‰˜çš„ç›´è§‰ã€‚éšç€æ¨¡å‹è¿›æ­¥ï¼Œè¿™ç§ç›´è§‰æ­£åœ¨å¿«é€Ÿæ¼”å˜ï¼Œä½†å†å²ä¸Šï¼Œä»–ä»¬å€¾å‘äºå§”æ‰˜<strong>æ˜“äºéªŒè¯</strong>ï¼ˆâ€œèƒ½ç›¸å¯¹è½»æ¾åœ°å—…æ¢æ£€æŸ¥æ­£ç¡®æ€§â€ï¼‰æˆ–<strong>ä½é£é™©</strong>ï¼ˆå¦‚å¿«é€Ÿè„šæœ¬å®šä½ bugï¼‰çš„ä»»åŠ¡ã€‚ä»»åŠ¡è¶Šæ¦‚å¿µå¤æ‚æˆ–ä¾èµ–è®¾è®¡ï¼Œå·¥ç¨‹å¸ˆè¶Šå¯èƒ½è‡ªå·±ä¿ç•™ï¼Œæˆ–ä¸ AI åä½œå®Œæˆï¼Œè€Œéå®Œå…¨äº¤å‡ºã€‚</p>
<p>è¿™ä¸€æ¨¡å¼æœ‰é‡è¦å¯ç¤ºï¼š<strong>å³ä½¿ AI èƒ½åŠ›ä¸æ–­æ‰©å±•ï¼Œäººç±»è§’è‰²ä¾ç„¶æ ¸å¿ƒ</strong>ã€‚è½¬å˜æ˜¯ä»â€œå†™ä»£ç â€å˜ä¸ºâ€œå®¡æŸ¥ã€æŒ‡å¯¼å’ŒéªŒè¯ AI ç”Ÿæˆçš„ä»£ç â€ã€‚æ­£å¦‚æˆ‘ä»¬ä¸€ä½å·¥ç¨‹å¸ˆæ‰€è¯´ï¼šâ€œæˆ‘ä¸»è¦åœ¨çŸ¥é“è‡ªå·±æœŸæœ›çš„ç­”æ¡ˆæˆ–æ ·å­æ—¶æ‰ä½¿ç”¨ AIã€‚è¿™ç§èƒ½åŠ›æ˜¯é€šè¿‡â€˜è‰°éš¾æ–¹å¼â€™åšè½¯ä»¶å·¥ç¨‹ç»ƒå‡ºæ¥çš„ã€‚â€</p>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šå°åº¦é‡‘èç§‘æŠ€å¹³å° CREDï¼ˆæœåŠ¡è¶… 1500 ä¸‡ç”¨æˆ·ï¼‰åœ¨å…¶æ•´ä¸ªå¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­éƒ¨ç½² Claude Codeï¼Œåœ¨ç»´æŒé‡‘èçº§è´¨é‡æ ‡å‡†çš„åŒæ—¶åŠ é€Ÿäº¤ä»˜ã€‚è¿™å¥— Claude é©±åŠ¨çš„å¼€å‘ç³»ç»Ÿä½¿å…¶æ‰§è¡Œé€Ÿåº¦<strong>ç¿»å€</strong>â€”â€”å¹¶éé€šè¿‡æ¶ˆé™¤äººç±»å‚ä¸ï¼Œè€Œæ˜¯å°†å¼€å‘è€…è½¬å‘æ›´é«˜ä»·å€¼çš„å·¥ä½œã€‚</p>
</blockquote>
<h3 data-id="heading-16">è¶‹åŠ¿ 5ï¼šæ™ºèƒ½ä½“ç¼–ç¨‹æ‰©å±•è‡³æ–°åœºæ™¯ä¸æ–°ç”¨æˆ·</h3>
<p>æ—©æœŸçš„æ™ºèƒ½ä½“ç¼–ç¨‹èšç„¦äºå¸®åŠ©ä¸“ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆåœ¨ç†Ÿæ‚‰ç¯å¢ƒä¸­æ›´å¿«å·¥ä½œã€‚2026 å¹´ï¼Œæ™ºèƒ½ä½“ç¼–ç¨‹å°†æ‰©å±•è‡³ä¼ ç»Ÿå¼€å‘å·¥å…·æ— æ³•è§¦åŠçš„åœºæ™¯å’Œç”¨ä¾‹ï¼Œä»é—ç•™è¯­è¨€åˆ°æ–°äº¤äº’å½¢æ€ï¼Œä½¿éä¼ ç»Ÿå¼€å‘è€…ä¹Ÿèƒ½å‚ä¸ã€‚</p>
<h4 data-id="heading-17">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>è¯­è¨€éšœç¢æ¶ˆå¤±</strong>ï¼šæ”¯æŒæ‰©å±•è‡³ COBOLã€Fortran ç­‰å†·é—¨æˆ–é—ç•™è¯­è¨€åŠé¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰ï¼Œä½¿é—ç•™ç³»ç»Ÿç»´æŠ¤æˆä¸ºå¯èƒ½ï¼Œå¹¶æ¶ˆé™¤ç‰¹å®šç”¨ä¾‹çš„é‡‡ç”¨å£å’ã€‚</li>
<li><strong>ç¼–ç¨‹æ°‘ä¸»åŒ–è¶…è¶Šå·¥ç¨‹é¢†åŸŸ</strong>ï¼šæ–°å½¢æ€å’Œç•Œé¢å°†æ™ºèƒ½ä½“ç¼–ç¨‹å¼€æ”¾ç»™ç½‘ç»œå®‰å…¨ã€è¿ç»´ã€è®¾è®¡ã€æ•°æ®ç§‘å­¦ç­‰é¢†åŸŸçš„éä¼ ç»Ÿå¼€å‘è€…ã€‚åƒ Cowork è¿™ç±»ä¸ºéå¼€å‘è€…è®¾è®¡çš„æ–‡ä»¶ä¸ä»»åŠ¡è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå·²é¢„ç¤ºè¿™ä¸€è½¬å˜ã€‚</li>
</ul>
<h4 data-id="heading-18">æ¯ä¸ªäººéƒ½å˜å¾—æ›´â€œå…¨æ ˆâ€</h4>
<p>å¯¹ä¸åŒå›¢é˜Ÿä½¿ç”¨ AI çš„åˆ†ææ­ç¤ºäº†ä¸€è‡´æ¨¡å¼ï¼šäººä»¬ç”¨ AI å¢å¼ºæ ¸å¿ƒä¸“é•¿ï¼ŒåŒæ—¶æ‹“å±•è‡³ç›¸é‚»é¢†åŸŸã€‚å®‰å…¨å›¢é˜Ÿç”¨å®ƒåˆ†æé™Œç”Ÿä»£ç ï¼›ç ”ç©¶å›¢é˜Ÿç”¨å®ƒæ„å»ºæ•°æ®å‰ç«¯å¯è§†åŒ–ï¼›éæŠ€æœ¯äººå‘˜ç”¨å®ƒè°ƒè¯•ç½‘ç»œé—®é¢˜æˆ–è¿›è¡Œæ•°æ®åˆ†æã€‚</p>
<p>è¿™ç§æ‰©å±•æŒ‘æˆ˜äº†é•¿æœŸå‡è®¾ï¼šå³ä¸¥è‚ƒçš„å¼€å‘å·¥ä½œåªèƒ½åœ¨ IDE ä¸­è¿›è¡Œï¼Œæˆ–åªæœ‰é…å¤‡ä¸“ä¸šå·¥å…·çš„ä¸“ä¸šå·¥ç¨‹å¸ˆæ‰èƒ½ç”¨ä»£ç è§£å†³é—®é¢˜ã€‚â€œä¼šç¼–ç çš„äººâ€ä¸â€œä¸ä¼šç¼–ç çš„äººâ€ä¹‹é—´çš„å£å’æ­£å˜å¾—æ›´å…·æ¸—é€æ€§ã€‚</p>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šAI æ³•å¾‹å¹³å° Legora åœ¨å…¶æ³•å¾‹ç§‘æŠ€å¹³å°ä¸­æ·±åº¦é›†æˆæ™ºèƒ½ä½“å·¥ä½œæµï¼Œå±•ç¤ºæ™ºèƒ½ä½“å¦‚ä½•å»¶ä¼¸è‡³é¢†åŸŸç‰¹å®šåº”ç”¨ã€‚  CEO Max Junestrand è¡¨ç¤ºï¼šâ€œæˆ‘ä»¬å‘ç° Claude åœ¨æŒ‡ä»¤éµå¾ªã€æ„å»ºæ™ºèƒ½ä½“å’Œæ™ºèƒ½ä½“å·¥ä½œæµæ–¹é¢éå¸¸å‡ºè‰²ã€‚â€å…¬å¸æ—¢ç”¨ Claude Code åŠ é€Ÿè‡ªèº«å¼€å‘ï¼Œä¹Ÿä¸ºæ— éœ€å·¥ç¨‹ä¸“ä¸šçŸ¥è¯†çš„å¾‹å¸ˆæä¾›æ™ºèƒ½ä½“èƒ½åŠ›ï¼Œä»¥åˆ›å»ºå¤æ‚è‡ªåŠ¨åŒ–æµç¨‹ã€‚</p>
</blockquote>
<h2 data-id="heading-19">å½±å“è¶‹åŠ¿ï¼š2026 å¹´æ™ºèƒ½ä½“å¯èƒ½å¸¦æ¥çš„æ”¹å˜</h2>
<h3 data-id="heading-20">è¶‹åŠ¿ 6ï¼šç”Ÿäº§åŠ›æå‡é‡å¡‘è½¯ä»¶å¼€å‘ç»æµå­¦</h3>
<p>èƒ½å°†æ™ºèƒ½ä½“æ™ºèƒ½èå…¥ SDLC çš„ç»„ç»‡ï¼Œå°†çœ‹åˆ°æ—¶é—´çº¿å‹ç¼©ï¼Œä»è€Œå½±å“å“ªäº›é¡¹ç›®å¯è¡Œï¼Œä»¥åŠå…¬å¸å“åº”å¸‚åœºæœºä¼šçš„é€Ÿåº¦ã€‚</p>
<h4 data-id="heading-21">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>ä¸‰å¤§ä¹˜æ•°é©±åŠ¨åŠ é€Ÿ</strong>ï¼šæ™ºèƒ½ä½“èƒ½åŠ›ã€åè°ƒä¼˜åŒ–å’Œäººç±»ç»éªŒçš„æ›´å¥½åˆ©ç”¨ç›¸äº’ä¿ƒè¿›ï¼Œäº§ç”Ÿé˜¶è·ƒå¼ï¼ˆè€Œéçº¿æ€§ï¼‰æå‡ã€‚</li>
<li><strong>æ—¶é—´å‹ç¼©æ”¹å˜é¡¹ç›®å¯è¡Œæ€§</strong>ï¼šè¿‡å»éœ€æ•°å‘¨çš„å¼€å‘å¦‚ä»Šåªéœ€æ•°å¤©ï¼Œä½¿è¿‡å»ä¸å¯è¡Œçš„é¡¹ç›®å˜å¾—å¯è¡Œï¼Œå¹¶è®©ç»„ç»‡æ›´å¿«å“åº”å¸‚åœºæœºé‡ã€‚</li>
<li><strong>è½¯ä»¶å¼€å‘ç»æµå­¦è½¬å˜</strong>ï¼šéšç€æ™ºèƒ½ä½“å¢å¼ºå·¥ç¨‹å¸ˆäº§èƒ½ã€é¡¹ç›®å‘¨æœŸç¼©çŸ­ã€æ›´å¿«å®ç°ä»·å€¼ï¼Œæ€»æ‹¥æœ‰æˆæœ¬ï¼ˆTCOï¼‰ä¸‹é™ï¼ŒæŠ•èµ„å›æŠ¥ç‡ï¼ˆROIï¼‰æå‡ã€‚</li>
</ul>
<h4 data-id="heading-22">ç”Ÿäº§åŠ›æ¥è‡ªäº§å‡ºé‡ï¼Œè€Œä¸ä»…æ˜¯é€Ÿåº¦</h4>
<p>Anthropic å†…éƒ¨ç ”ç©¶æ­ç¤ºäº†ä¸€ä¸ªæœ‰è¶£çš„ç”Ÿäº§åŠ›æ¨¡å¼ï¼šå·¥ç¨‹å¸ˆæŠ¥å‘Šæ¯ç±»ä»»åŠ¡è€—æ—¶å‡€å‡å°‘ï¼Œä½†<strong>äº§å‡ºé‡å‡€å¢æ›´ä¸ºæ˜¾è‘—</strong>ã€‚è¿™è¡¨æ˜ AI æå‡ç”Ÿäº§åŠ›ä¸»è¦é€šè¿‡<strong>å¢åŠ äº§å‡º</strong>â€”â€”äº¤ä»˜æ›´å¤šåŠŸèƒ½ã€ä¿®å¤æ›´å¤š bugã€è¿è¡Œæ›´å¤šå®éªŒâ€”â€”è€Œéä»…ä»…æ›´å¿«åœ°åšåŒæ ·çš„äº‹ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œçº¦ 27% çš„ AI è¾…åŠ©å·¥ä½œæ˜¯<strong>åŸæœ¬ä¸ä¼šåšçš„ä»»åŠ¡</strong>ï¼šæ‰©å±•é¡¹ç›®è§„æ¨¡ã€æ„å»ºâ€œé”¦ä¸Šæ·»èŠ±â€çš„å·¥å…·ï¼ˆå¦‚äº¤äº’å¼ä»ªè¡¨ç›˜ï¼‰ã€ä»¥åŠæ‰‹åŠ¨æ‰§è¡Œä¸åˆ’ç®—çš„æ¢ç´¢æ€§å·¥ä½œã€‚å·¥ç¨‹å¸ˆè¡¨ç¤ºï¼Œç”±äº AI ä½¿å¤„ç†å˜å¾—å¯è¡Œï¼Œä»–ä»¬ä¿®å¤äº†æ›´å¤šâ€œå°ç—›ç‚¹â€ï¼ˆpapercutsï¼‰â€”â€”é‚£äº›è™½èƒ½æå‡ä½“éªŒä½†é€šå¸¸è¢«é™çº§å¤„ç†çš„å¾®å°é—®é¢˜ã€‚</p>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šåŠ æ‹¿å¤§é€šä¿¡ç§‘æŠ€å…¬å¸ TELUS åˆ›å»ºäº†<strong>è¶…è¿‡ 13,000 ä¸ªå®šåˆ¶ AI è§£å†³æ–¹æ¡ˆ</strong>ï¼Œå·¥ç¨‹ä»£ç äº¤ä»˜é€Ÿåº¦<strong>æå‡ 30%</strong>ã€‚å…¬å¸ç´¯è®¡èŠ‚çœè¶… <strong>50 ä¸‡å°æ—¶</strong>ï¼Œå¹³å‡æ¯æ¬¡ AI äº¤äº’èŠ‚çœ 40 åˆ†é’Ÿã€‚</p>
</blockquote>
<h3 data-id="heading-23">è¶‹åŠ¿ 7ï¼šéæŠ€æœ¯ç”¨ä¾‹åœ¨ç»„ç»‡ä¸­å¹¿æ³›æ‰©å±•</h3>
<p>æˆ‘ä»¬é¢„è®¡ï¼Œ2026 å¹´æœ€æ˜¾è‘—çš„è¶‹åŠ¿ä¹‹ä¸€å°†æ˜¯ï¼š<strong>èŒèƒ½ä¸ä¸šåŠ¡æµç¨‹å›¢é˜Ÿç¨³æ­¥å¢é•¿åœ°ä½¿ç”¨æ™ºèƒ½ä½“ç¼–ç¨‹ï¼Œä¸ºè‡ªå·±é‡åˆ°çš„é—®é¢˜åˆ›å»ºè§£å†³æ–¹æ¡ˆï¼Œä¼˜åŒ–æ—¥å¸¸æµç¨‹</strong>ã€‚</p>
<h4 data-id="heading-24">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>ç¼–ç¨‹èƒ½åŠ›æ°‘ä¸»åŒ–è¶…è¶Šå·¥ç¨‹éƒ¨é—¨</strong>ï¼šé”€å”®ã€å¸‚åœºã€æ³•åŠ¡ã€è¿è¥ç­‰éæŠ€æœ¯å›¢é˜Ÿè·å¾—è‡ªåŠ¨åŒ–å·¥ä½œæµå’Œæ„å»ºå·¥å…·çš„èƒ½åŠ›ï¼Œå‡ ä¹æ— éœ€å·¥ç¨‹ä»‹å…¥æˆ–ç¼–ç çŸ¥è¯†ã€‚</li>
<li><strong>é¢†åŸŸä¸“å®¶ç›´æ¥å®æ–½æ–¹æ¡ˆ</strong>ï¼šæ·±åˆ»ç†è§£é—®é¢˜çš„ä¸€çº¿ä¸“å®¶ï¼Œæ›´æœ‰ä¿¡å¿ƒä½¿ç”¨æ™ºèƒ½ä½“è‡ªè¡Œå¯åŠ¨è§£å†³æ–¹æ¡ˆï¼Œæ¶ˆé™¤â€œæå·¥å•â€”ç­‰å¾…å¼€å‘â€çš„ç“¶é¢ˆã€‚</li>
<li><strong>ç”Ÿäº§åŠ›æ”¶ç›ŠéåŠæ•´ä¸ªç»„ç»‡</strong>ï¼šè¿‡å»ä¸å€¼å¾—æŠ•å…¥å·¥ç¨‹æ—¶é—´çš„é—®é¢˜å¾—åˆ°è§£å†³ï¼Œå®éªŒæ€§å·¥ä½œæµå˜å¾—è½»è€Œæ˜“ä¸¾ï¼Œæ‰‹åŠ¨æµç¨‹è¢«è‡ªåŠ¨åŒ–ã€‚</li>
</ul>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šAI ç¼–æ’å¹³å° Zapier å·²è®©æ‰€æœ‰å‘˜å·¥éƒ½èƒ½ä½¿ç”¨æ™ºèƒ½ä½“ã€‚è®¾è®¡å›¢é˜Ÿåœ¨å®¢æˆ·è®¿è°ˆä¸­ç”¨ Claude artifacts å¿«é€ŸåŸå‹ï¼Œå®æ—¶å±•ç¤ºé€šå¸¸éœ€æ•°å‘¨å¼€å‘çš„è®¾è®¡æ¦‚å¿µã€‚å…¬å¸å®ç° <strong>89% çš„ AI é‡‡ç”¨ç‡</strong>ï¼Œå†…éƒ¨éƒ¨ç½²äº† <strong>800 å¤šä¸ª AI æ™ºèƒ½ä½“</strong>ã€‚</p>
</blockquote>
<blockquote>
<p><strong>Anthropic è‡ªèº«å®è·µ</strong>ï¼šæˆ‘ä»¬çš„æ³•åŠ¡å›¢é˜Ÿé€šè¿‡æ„å»º Claude é©±åŠ¨çš„å·¥ä½œæµï¼ˆå¦‚åˆåŒä¿®è®¢ã€å†…å®¹å®¡æŸ¥è‡ªåŠ¨åŒ–ï¼‰ï¼Œå°†å¸‚åœºå®¡æ ¸å‘¨è½¬æ—¶é—´ä» 2â€“3 å¤©ç¼©çŸ­è‡³ <strong>24 å°æ—¶</strong>ã€‚ä¸€åæ— ç¼–ç ç»éªŒçš„å¾‹å¸ˆç”¨ Claude Code æ„å»ºäº†è‡ªåŠ©å·¥å…·ï¼Œåœ¨é—®é¢˜è¿›å…¥æ³•åŠ¡é˜Ÿåˆ—å‰è¿›è¡Œåˆ†æµï¼Œä½¿å¾‹å¸ˆèƒ½èšç„¦æˆ˜ç•¥å’¨è¯¢è€Œéäº‹åŠ¡æ€§æ‚åŠ¡ã€‚ç»“æœï¼šæ³•åŠ¡å›¢é˜Ÿé™ä½æˆä¸ºç“¶é¢ˆçš„å¯èƒ½æ€§ï¼Œå¹¶å°†æ—¶é—´ç”¨äºæ›´ç´§è¿«äº‹é¡¹ã€‚</p>
</blockquote>
<h3 data-id="heading-25">è¶‹åŠ¿ 8ï¼šæ™ºèƒ½ä½“ç¼–ç¨‹æå‡å®‰å…¨é˜²å¾¡â€”â€”ä½†ä¹Ÿå¼ºåŒ–æ”»å‡»èƒ½åŠ›</h3>
<p>æ™ºèƒ½ä½“ç¼–ç¨‹æ­£åŒæ—¶åœ¨ä¸¤ä¸ªæ–¹å‘æ”¹å˜å®‰å…¨æ ¼å±€ã€‚éšç€æ¨¡å‹æ›´å¼ºå¤§ã€æ›´å¯¹é½ï¼Œå°†å®‰å…¨å†…å»ºåˆ°äº§å“ä¸­å˜å¾—æ›´ç®€å•ã€‚ç°åœ¨ï¼Œä»»ä½•å·¥ç¨‹å¸ˆéƒ½èƒ½åˆ©ç”¨ AI æ‰§è¡Œè¿‡å»éœ€è¦ä¸“ä¸šæŠ€èƒ½çš„å®‰å…¨å®¡æŸ¥ã€åŠ å›ºå’Œç›‘æ§ã€‚ä½†åŒæ ·èƒ½å¸®åŠ©é˜²å¾¡è€…çš„èƒ½åŠ›ï¼Œä¹Ÿèƒ½å¸®åŠ©æ”»å‡»è€…è§„æ¨¡åŒ–å…¶æ”»å‡»ã€‚</p>
<h4 data-id="heading-26">é¢„æµ‹ï¼š</h4>
<ul>
<li><strong>å®‰å…¨çŸ¥è¯†æ°‘ä¸»åŒ–</strong>ï¼šå€ŸåŠ©æ›´ä¼˜æ™ºèƒ½ä½“ï¼Œä»»ä½•å·¥ç¨‹å¸ˆéƒ½èƒ½æˆä¸ºå®‰å…¨å·¥ç¨‹å¸ˆï¼Œæ‰§è¡Œæ·±åº¦å®‰å…¨å®¡æŸ¥ã€åŠ å›ºå’Œç›‘æ§ã€‚å·¥ç¨‹å¸ˆä»éœ€è€ƒè™‘å®‰å…¨å¹¶å’¨è¯¢ä¸“å®¶ï¼Œä½†æ„å»ºåŠ å›ºä¸”å®‰å…¨çš„åº”ç”¨å°†å˜å¾—æ›´å®¹æ˜“ã€‚</li>
<li><strong>å¨èƒè¡Œä¸ºè€…è§„æ¨¡åŒ–æ”»å‡»</strong>ï¼šè™½ç„¶æ™ºèƒ½ä½“åˆ©å¥½é˜²å¾¡ï¼Œä½†ä¹ŸåŒæ ·åˆ©å¥½æ”»å‡»ã€‚ä¸ºé˜²å¾¡è¿™ç§åŒé‡ç”¨é€”æŠ€æœ¯ï¼Œå·¥ç¨‹å¸ˆå¿…é¡»ä»ä¸€å¼€å§‹å°±å†…å»ºå®‰å…¨ã€‚</li>
<li><strong>æ™ºèƒ½ä½“é©±åŠ¨çš„ç½‘ç»œé˜²å¾¡ç³»ç»Ÿå…´èµ·</strong>ï¼šè‡ªåŠ¨åŒ–æ™ºèƒ½ä½“ç³»ç»Ÿèƒ½ä»¥æœºå™¨é€Ÿåº¦å“åº”å®‰å…¨äº‹ä»¶ï¼Œè‡ªåŠ¨æ£€æµ‹ä¸å“åº”ï¼ŒåŒ¹é…è‡ªä¸»å¨èƒçš„èŠ‚å¥ã€‚</li>
</ul>
<p><strong>å¹³è¡¡æœ‰åˆ©äºæœ‰å‡†å¤‡çš„ç»„ç»‡</strong>ã€‚é‚£äº›ä»ä¸€å¼€å§‹å°±ç”¨æ™ºèƒ½ä½“å·¥å…·å†…å»ºå®‰å…¨çš„å›¢é˜Ÿï¼Œå°†æ›´æœ‰èƒ½åŠ›æŠµå¾¡ä½¿ç”¨ç›¸åŒæŠ€æœ¯çš„å¯¹æ‰‹ã€‚</p>
<h2 data-id="heading-27">æœªæ¥ä¸€å¹´çš„é‡ç‚¹æ–¹å‘</h2>
<p>ä¸Šè¿°å…«å¤§è¶‹åŠ¿å…±åŒæŒ‡å‘ä¸€ä¸ªæ ¸å¿ƒä¸»é¢˜ï¼š<strong>è½¯ä»¶å¼€å‘æ­£ä»ä»¥â€œå†™ä»£ç â€ä¸ºä¸­å¿ƒçš„æ´»åŠ¨ï¼Œè½¬å˜ä¸ºä»¥â€œåè°ƒç¼–å†™ä»£ç çš„æ™ºèƒ½ä½“â€ä¸ºåŸºç¡€çš„æ´»åŠ¨â€”â€”åŒæ—¶ä¿ç•™ç¡®ä¿é«˜è´¨é‡ç»“æœæ‰€å¿…éœ€çš„äººç±»åˆ¤æ–­ã€ç›‘ç£ä¸åä½œ</strong>ã€‚</p>
<p>ç ”ç©¶æ˜ç¡®æŒ‡å‡ºï¼šAI æ˜¯æŒç»­çš„åä½œè€…ï¼Œä½†è¦æœ‰æ•ˆä½¿ç”¨å®ƒï¼Œå°¤å…¶åœ¨é«˜é£é™©å·¥ä½œä¸­ï¼Œä»éœ€ä¸»åŠ¨ç›‘ç£ä¸éªŒè¯ã€‚è™½ç„¶æ›´å¤šå¸¸è§„ç¼–ç ä»»åŠ¡å¯å§”æ‰˜ç»™ AIï¼Œä½†äººç±»ä»åœ¨å®¡æŸ¥ä»£ç ã€‚è¿™ä¸æ˜¯â€œå®Œå…¨å§”æ‰˜â€ï¼Œè€Œæ˜¯é«˜åº¦åä½œã€‚è¿™ä¸€åŒºåˆ«å¯¹ç»„ç»‡å¦‚ä½•é‡‡çº³ AIã€å¦‚ä½•çœ‹å¾…å·¥ç¨‹å¸ˆè§’è‰²æ¼”å˜è‡³å…³é‡è¦ã€‚</p>
<p>å¯¹äºè§„åˆ’ 2026 å¹´é‡ç‚¹çš„ç»„ç»‡ï¼Œä»¥ä¸‹å››ä¸ªé¢†åŸŸäºŸéœ€å…³æ³¨ï¼š</p>
<ol>
<li><strong>æŒæ¡å¤šæ™ºèƒ½ä½“åè°ƒ</strong>ï¼Œä»¥åº”å¯¹å•æ™ºèƒ½ä½“ç³»ç»Ÿæ— æ³•å¤„ç†çš„å¤æ‚æ€§</li>
<li><strong>é€šè¿‡ AI è‡ªåŠ¨åŒ–å®¡æŸ¥ç³»ç»Ÿè§„æ¨¡åŒ–äººæœºç›‘ç£</strong>ï¼Œè®©äºº ç±»æ³¨æ„åŠ›èšç„¦æœ€å…³é”®ä¹‹å¤„</li>
<li><strong>å°†æ™ºèƒ½ä½“ç¼–ç¨‹æ‰©å±•è‡³å·¥ç¨‹ä¹‹å¤–</strong>ï¼Œèµ‹èƒ½å„éƒ¨é—¨çš„é¢†åŸŸä¸“å®¶</li>
<li><strong>ä»æœ€åˆé˜¶æ®µå°±å°†å®‰å…¨æ¶æ„åµŒå…¥æ™ºèƒ½ä½“ç³»ç»Ÿè®¾è®¡</strong></li>
</ol>
<p>2026 å¹´å°†æ™ºèƒ½ä½“ç¼–ç¨‹è§†ä¸º<strong>æˆ˜ç•¥ä¼˜å…ˆäº‹é¡¹</strong>çš„ç»„ç»‡ï¼Œå°†å®šä¹‰ä½•ä¸ºå¯èƒ½ï¼›è€Œä»…å°†å…¶è§†ä¸º<strong>æ¸è¿›å¼ç”Ÿäº§åŠ›å·¥å…·</strong>çš„ç»„ç»‡ï¼Œå°†å‘ç°è‡ªå·±åœ¨ä¸€åœºè§„åˆ™å·²å˜çš„æ¸¸æˆä¸­ç«äº‰ã€‚æˆåŠŸçš„å…³é”®åœ¨äºç†è§£ï¼š<strong>ç›®æ ‡ä¸æ˜¯å°†äººç±»ç§»å‡ºå¾ªç¯ï¼Œè€Œæ˜¯è®©äºº ç±»ä¸“é•¿åœ¨æœ€å…³é”®å¤„å‘æŒ¥æœ€å¤§ä»·å€¼</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Playwright è¿›é˜¶æ¨¡å¼ï¼šåˆ©ç”¨ Promise.all å®ç°æµè§ˆå™¨å†…é«˜å¹¶å‘]]></title>    <link>https://juejin.cn/post/7598104596779679790</link>    <guid>https://juejin.cn/post/7598104596779679790</guid>    <pubDate>2026-01-23T03:35:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104596779679790" data-draft-id="7598104596779352110" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Playwright è¿›é˜¶æ¨¡å¼ï¼šåˆ©ç”¨ Promise.all å®ç°æµè§ˆå™¨å†…é«˜å¹¶å‘"/> <meta itemprop="keywords" content="Python,çˆ¬è™«"/> <meta itemprop="datePublished" content="2026-01-23T03:35:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…ƒYäº¨H"/> <meta itemprop="url" content="https://juejin.cn/user/2839351584888617"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Playwright è¿›é˜¶æ¨¡å¼ï¼šåˆ©ç”¨ Promise.all å®ç°æµè§ˆå™¨å†…é«˜å¹¶å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2839351584888617/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…ƒYäº¨H
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:35:27.000Z" title="Fri Jan 23 2026 03:35:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">Playwright è¿›é˜¶æ¨¡å¼ï¼šåˆ©ç”¨ <code>Promise.all</code> å®ç°æµè§ˆå™¨å†…é«˜å¹¶å‘</h2>
<p>åœ¨å¤æ‚çš„çˆ¬è™«å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸é‡åˆ°ä¸¤éš¾å›°å¢ƒï¼š</p>
<ol>
<li><strong>Python å¾ªç¯ (<code>for</code> loop)</strong>ï¼šç¨³å®šï¼Œèƒ½è‡ªåŠ¨ç»§æ‰¿é¡µé¢çš„ Cookie å’Œ Sessionï¼Œä½†é€Ÿåº¦æ…¢ï¼ˆä¸²è¡Œé˜»å¡ï¼‰ã€‚</li>
<li><strong>Python å¤šçº¿ç¨‹ (<code>requests/aiohttp</code>)</strong>ï¼šé€Ÿåº¦å¿«ï¼Œä½†æ— æ³•ç»§æ‰¿æµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼Œé‡åˆ° CSRF Tokenã€ç­¾åéªŒè¯æˆ–å¤æ‚ Header æ—¶ææ˜“å¤±æ•ˆï¼ˆæŠ¥ 400/403ï¼‰ã€‚</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> å°†å¹¶å‘çš„æ§åˆ¶æƒç§»äº¤ç»™æµè§ˆå™¨ã€‚é€šè¿‡æ³¨å…¥ JavaScript çš„ <code>Promise.all</code>ï¼Œåˆ©ç”¨æµè§ˆå™¨çš„éé˜»å¡ I/O èƒ½åŠ›å¹¶è¡Œå‘å‡ºè¯·æ±‚ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒä»£ç æ¨¡å¼</h3>
<h4 data-id="heading-2">1. é€šç”¨è°ƒåº¦å™¨ (The Scheduler)</h4>
<p>è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„å·¥å…·å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥æ”¾å…¥ä½ çš„ <code>utils.py</code> ä¸­ã€‚å®ƒä¸åŒ…å«ä»»ä½•å…·ä½“ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£â€œåœ¨æµè§ˆå™¨é‡Œè·‘å¹¶å‘ä»»åŠ¡â€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">execute_browser_batch</span>(<span class="hljs-params">page, task_list</span>):
    <span class="hljs-string">"""
    é€šç”¨æµè§ˆå™¨å¹¶å‘è¯·æ±‚æ‰§è¡Œå™¨
    :param page: Playwright çš„ Page å¯¹è±¡
    :param task_list: ä»»åŠ¡åˆ—è¡¨ï¼Œå¿…é¡»åŒ…å« 'url' å­—æ®µï¼Œå¯åŒ…å«å…¶ä»–å…ƒæ•°æ®(id, typeç­‰)
    :return: åŒ…å«å“åº”ç»“æœå’ŒåŸå§‹å…ƒæ•°æ®çš„åˆ—è¡¨
    """</span>
    
    <span class="hljs-comment"># å®šä¹‰æ ¸å¿ƒ JS é€»è¾‘ï¼šæ¥æ”¶ä»»åŠ¡ -&gt; å¹¶å‘ Fetch -&gt; è¿”å›ç»“æœ</span>
    <span class="hljs-comment"># å…³é”®ç‚¹ï¼šåœ¨ map å†…éƒ¨æ•è·å¼‚å¸¸ï¼Œç¡®ä¿å•ä¸ªå¤±è´¥ä¸å½±å“æ•´ä½“</span>
    js_payload = <span class="hljs-string">"""
    async (tasks) =&gt; {
        const promises = tasks.map(async (task) =&gt; {
            const start = Date.now();
            try {
                // å‘èµ· Fetch è¯·æ±‚
                // æµè§ˆå™¨ä¼šè‡ªåŠ¨é™„å¸¦å½“å‰åŸŸåçš„ Cookieã€Referer å’Œ LocalStorage Token
                const response = await fetch(task.url, {
                    method: 'GET',
                    headers: { 'Accept': 'application/json' }
                });

                // ç»Ÿä¸€å¤„ç† HTTP é”™è¯¯çŠ¶æ€
                if (!response.ok) {
                    return {
                        status: 'failed',
                        meta: task, // å°†åŸå§‹ä»»åŠ¡ä¿¡æ¯å¸¦å›ï¼Œæ–¹ä¾¿ Python ç«¯åŒ¹é…
                        error: `HTTP ${response.status}: ${response.statusText}`
                    };
                }

                const data = await response.json();
                return {
                    status: 'success',
                    meta: task,
                    data: data,
                    latency: Date.now() - start
                };

            } catch (err) {
                // æ•è·ç½‘ç»œå±‚é¢çš„é”™è¯¯ï¼ˆå¦‚ DNS è§£æå¤±è´¥ã€è¶…æ—¶ï¼‰
                return {
                    status: 'error',
                    meta: task,
                    error: err.toString()
                };
            }
        });

        // ç­‰å¾…æ‰€æœ‰è¯·æ±‚å®Œæˆ (Parallel Execution)
        return await Promise.all(promises);
    }
    """</span>

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å°† Python åˆ—è¡¨ä¼ é€’ç»™æµè§ˆå™¨æ‰§è¡Œ</span>
        <span class="hljs-keyword">return</span> page.evaluate(js_payload, task_list)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[System Error] JS æ³¨å…¥æ‰§è¡Œå¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> []
</code></pre>
<hr/>
<h4 data-id="heading-3">2. ä¸šåŠ¡å®ç°ç¤ºä¾‹ï¼šåŠ å¯†è´§å¸ä»·æ ¼ç›‘æ§</h4>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦ä»æŸè´¢ç»ç½‘ç«™é‡‡é›† 50 ä¸ªåŠ å¯†è´§å¸çš„å®æ—¶è¯¦æƒ…ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> random
<span class="hljs-keyword">from</span> playwright.sync_api <span class="hljs-keyword">import</span> sync_playwright

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CryptoMarketScraper</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># æ¨¡æ‹Ÿå¾…é‡‡é›†çš„ç›®æ ‡ (ID å’Œ API åœ°å€)</span>
        self.targets = [
            {<span class="hljs-string">"id"</span>: <span class="hljs-string">"BTC"</span>, <span class="hljs-string">"symbol"</span>: <span class="hljs-string">"bitcoin"</span>, <span class="hljs-string">"api"</span>: <span class="hljs-string">"https://api.coincap.io/v2/assets/bitcoin"</span>},
            {<span class="hljs-string">"id"</span>: <span class="hljs-string">"ETH"</span>, <span class="hljs-string">"symbol"</span>: <span class="hljs-string">"ethereum"</span>, <span class="hljs-string">"api"</span>: <span class="hljs-string">"https://api.coincap.io/v2/assets/ethereum"</span>},
            {<span class="hljs-string">"id"</span>: <span class="hljs-string">"DOGE"</span>, <span class="hljs-string">"symbol"</span>: <span class="hljs-string">"dogecoin"</span>, <span class="hljs-string">"api"</span>: <span class="hljs-string">"https://api.coincap.io/v2/assets/dogecoin"</span>},
            <span class="hljs-comment"># ... å‡è®¾è¿™é‡Œè¿˜æœ‰ 50 ä¸ª ...</span>
        ]
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">with</span> sync_playwright() <span class="hljs-keyword">as</span> p:
            <span class="hljs-comment"># å¯åŠ¨æµè§ˆå™¨</span>
            browser = p.chromium.launch(headless=<span class="hljs-literal">False</span>)
            context = browser.new_context()
            page = context.new_page()

            <span class="hljs-comment"># 1. é¢„åŠ è½½ï¼šå…ˆè®¿é—®ä¸»åŸŸï¼Œè·å–å¿…è¦çš„ Cookie/Session/Token</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨åˆå§‹åŒ–ä¼šè¯..."</span>)
            page.goto(<span class="hljs-string">"https://coincap.io"</span>) 
            page.wait_for_timeout(<span class="hljs-number">2000</span>) <span class="hljs-comment"># ç­‰å¾…å„ç§ Token åˆå§‹åŒ–å®Œæˆ</span>

            <span class="hljs-comment"># 2. å¼€å§‹åˆ†æ‰¹é‡‡é›†</span>
            self.process_in_batches(page)

            browser.close()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_in_batches</span>(<span class="hljs-params">self, page</span>):
        BATCH_SIZE = <span class="hljs-number">5</span> <span class="hljs-comment"># å¹¶å‘æ§åˆ¶ï¼šæ¯æ‰¹ 5 ä¸ª</span>
        total = <span class="hljs-built_in">len</span>(self.targets)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹ä»»åŠ¡ï¼Œå…± <span class="hljs-subst">{total}</span> ä¸ªç›®æ ‡..."</span>)

        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, total, BATCH_SIZE):
            <span class="hljs-comment"># A. å‡†å¤‡æ‰¹æ¬¡æ•°æ®</span>
            batch_data = self.targets[i : i + BATCH_SIZE]
            
            <span class="hljs-comment"># B. æ„é€ ä»»åŠ¡å¯¹è±¡ (Task Construction)</span>
            <span class="hljs-comment"># æˆ‘ä»¬å°† url å’Œ meta data æ‰“åŒ…åœ¨ä¸€èµ·</span>
            tasks = []
            <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> batch_data:
                tasks.append({
                    <span class="hljs-string">"url"</span>: item[<span class="hljs-string">'api'</span>],     <span class="hljs-comment"># JS éœ€è¦çš„ URL</span>
                    <span class="hljs-string">"asset_id"</span>: item[<span class="hljs-string">'id'</span>], <span class="hljs-comment"># ä¼ é€’ç»™ JSï¼Œæ–¹ä¾¿å®ƒåŸæ ·è¿”å›</span>
                    <span class="hljs-string">"name"</span>: item[<span class="hljs-string">'symbol'</span>]
                })

            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸš€ æ­£åœ¨å¹¶å‘è¯·æ±‚ç¬¬ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span> - <span class="hljs-subst">{<span class="hljs-built_in">min</span>(i+BATCH_SIZE, total)}</span> é¡¹..."</span>)

            <span class="hljs-comment"># C. è°ƒç”¨é€šç”¨è°ƒåº¦å™¨</span>
            results = execute_browser_batch(page, tasks)

            <span class="hljs-comment"># D. å¤„ç†ç»“æœ</span>
            <span class="hljs-keyword">for</span> res <span class="hljs-keyword">in</span> results:
                <span class="hljs-comment"># æå–å…ƒæ•°æ®</span>
                meta = res.get(<span class="hljs-string">'meta'</span>, {})
                name = meta.get(<span class="hljs-string">'name'</span>, <span class="hljs-string">'Unknown'</span>)

                <span class="hljs-keyword">if</span> res[<span class="hljs-string">'status'</span>] == <span class="hljs-string">'success'</span>:
                    price = res[<span class="hljs-string">'data'</span>][<span class="hljs-string">'data'</span>][<span class="hljs-string">'priceUsd'</span>]
                    latency = res[<span class="hljs-string">'latency'</span>]
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   âœ… [<span class="hljs-subst">{name}</span>] ä»·æ ¼: $<span class="hljs-subst">{<span class="hljs-built_in">float</span>(price):<span class="hljs-number">.2</span>f}</span> (è€—æ—¶ <span class="hljs-subst">{latency}</span>ms)"</span>)
                    <span class="hljs-comment"># <span class="hljs-doctag">TODO:</span> åœ¨è¿™é‡Œå†™å…¥æ•°æ®åº“</span>
                <span class="hljs-keyword">else</span>:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   âŒ [<span class="hljs-subst">{name}</span>] é‡‡é›†å¤±è´¥: <span class="hljs-subst">{res.get(<span class="hljs-string">'error'</span>)}</span>"</span>)

            <span class="hljs-comment"># E. æ‰¹æ¬¡é—´éšæœºä¼‘çœ  (æ¨¡æ‹Ÿäººç±»æµè§ˆè¡Œä¸º)</span>
            time.sleep(random.uniform(<span class="hljs-number">1.0</span>, <span class="hljs-number">2.5</span>))

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    spider = CryptoMarketScraper()
    spider.run()
</code></pre>
<hr/>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆè¦ç”¨è¿™ç§æ¨¡å¼ï¼Ÿ(æŠ€æœ¯æ€»ç»“)</h3>
<h4 data-id="heading-5">1. è§£å†³äº† "ä¸Šä¸‹æ–‡æ–­è£‚" é—®é¢˜</h4>
<p>ä½¿ç”¨ Python <code>requests</code> åº“æ—¶ï¼Œæœ€å¤§çš„ç—›ç‚¹æ˜¯<strong>å¤åˆ»æµè§ˆå™¨ç¯å¢ƒ</strong>ã€‚ä½ éœ€è¦æ‰‹åŠ¨æå– <code>Cookie</code>ï¼Œæ‰‹åŠ¨è®¡ç®— <code>Authorization</code> å¤´ï¼Œç”šè‡³è¦ç ´è§£ <code>_tb_token_</code> æˆ– <code>x-sign</code>ã€‚
è€Œåœ¨æœ¬æ¨¡å¼ä¸­ï¼Œ<code>fetch</code> æ˜¯åœ¨é¡µé¢ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œçš„ï¼Œ<strong>æµè§ˆå™¨è‡ªåŠ¨ä¸ºä½ é™„åŠ äº†æ‰€æœ‰è®¤è¯ä¿¡æ¯</strong>ã€‚åªè¦é¡µé¢æ˜¯ç™»å½•çŠ¶æ€ï¼Œæ¥å£è¯·æ±‚å°±æ˜¯ç™»å½•çŠ¶æ€ã€‚</p>
<h4 data-id="heading-6">2. æ€§èƒ½æå‡æ˜¾è‘—</h4>
<ul>
<li><strong>ä¸²è¡Œæ¨¡å¼</strong>ï¼šè¯·æ±‚ A (1s) -&gt; è¯·æ±‚ B (1s) -&gt; è¯·æ±‚ C (1s) = æ€»è€—æ—¶ 3sã€‚</li>
<li><strong>Promise.all æ¨¡å¼</strong>ï¼šè¯·æ±‚ A, B, C åŒæ—¶å‘å‡º -&gt; ç­‰å¾…æœ€æ…¢çš„ä¸€ä¸ªè¿”å› (1s) = æ€»è€—æ—¶ 1sã€‚</li>
<li><strong>æ•ˆç‡å¯¹æ¯”</strong>ï¼šé€šå¸¸èƒ½è·å¾— <strong>5~10 å€</strong> çš„é€Ÿåº¦æå‡ã€‚</li>
</ul>
<h4 data-id="heading-7">3. å…ƒæ•°æ®é€ä¼  (Metadata Passthrough)</h4>
<p>æ³¨æ„ä»£ç ä¸­çš„ <code>meta</code> å­—æ®µã€‚æˆ‘ä»¬åœ¨ Python ç«¯æŠŠ <code>{"id": "BTC"}</code> ä¼ ç»™ JSï¼ŒJS åœ¨è¿”å›ç»“æœæ—¶åŸæ ·å¸¦å›ã€‚
è¿™æ„å‘³ç€æˆ‘ä»¬<strong>ä¸éœ€è¦</strong>å»è§£æ URL æ¥åˆ¤æ–­è¿™ä¸ª JSON æ•°æ®å±äºå“ªä¸ªå•†å“æˆ– IDï¼Œç›´æ¥è¯» <code>meta</code> å³å¯ï¼Œé€»è¾‘éå¸¸æ¸…æ™°ã€‚</p>
<h4 data-id="heading-8">4. é²æ£’æ€§è®¾è®¡</h4>
<p>åœ¨ JS ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ª <code>map</code> å†…éƒ¨çš„ Promise éƒ½åšäº† <code>try...catch</code>ã€‚
å¦‚æœä¸è¿™æ ·åšï¼Œ<code>Promise.all</code> åªè¦é‡åˆ°ä¸€ä¸ªç½‘ç»œé”™è¯¯ï¼ˆæ¯”å¦‚å…¶ä¸­ä¸€ä¸ª API è¶…æ—¶ï¼‰ï¼Œæ•´ä¸ªæ‰¹æ¬¡çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šä¸¢å¤±ï¼ˆFail Fast æœºåˆ¶ï¼‰ã€‚åŠ ä¸Š <code>try...catch</code> åï¼Œæˆ‘ä»¬å¯ä»¥å®ç°â€œéƒ¨åˆ†æˆåŠŸï¼Œéƒ¨åˆ†é‡è¯•â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ä½¿ç”¨Sealos æ„å»ºSpringCloudé¡¹ç›®CI/CDæµæ°´çº¿]]></title>    <link>https://juejin.cn/post/7598029481509847059</link>    <guid>https://juejin.cn/post/7598029481509847059</guid>    <pubDate>2026-01-23T03:37:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598029481509847059" data-draft-id="7598112768147341318" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä½¿ç”¨Sealos æ„å»ºSpringCloudé¡¹ç›®CI/CDæµæ°´çº¿"/> <meta itemprop="keywords" content="DevOps"/> <meta itemprop="datePublished" content="2026-01-23T03:37:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä½¿ç”¨Sealos æ„å»ºSpringCloudé¡¹ç›®CI/CDæµæ°´çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:37:47.000Z" title="Fri Jan 23 2026 03:37:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨äº‘åŸç”Ÿæ—¶ä»£ï¼ŒCI/CDæµæ°´çº¿æ˜¯ä¿éšœå¾®æœåŠ¡æŒç»­äº¤ä»˜çš„æ ¸å¿ƒèƒ½åŠ›ã€‚æœ¬æ–‡å°†åŸºäºSealosäº‘æ“ä½œç³»ç»Ÿï¼Œç»“åˆSpringCloudé¡¹ç›®ï¼Œè¯¦è§£å¦‚ä½•æ„å»ºä»ä»£ç æäº¤åˆ°ç”Ÿäº§ç¯å¢ƒçš„å…¨è‡ªåŠ¨åŒ–éƒ¨ç½²æµæ°´çº¿ã€‚é€šè¿‡GitLab CIä¸ArgoCDçš„æ·±åº¦é›†æˆï¼Œå®ç°å¤šç¯å¢ƒä¸€è‡´æ€§éƒ¨ç½²ã€å¿«é€Ÿå›æ»šå’Œå¯è§†åŒ–ç›‘æ§ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€ç¯å¢ƒå‡†å¤‡</h3>
<h4 data-id="heading-3">1.1 Sealosé›†ç¾¤éƒ¨ç½²</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># éƒ¨ç½²KubernetesåŸºç¡€é›†ç¾¤</span>
sealos run ghcr.io/labring/sealos/kubernetes:v1.28.15 \
  --masters 192.168.0.2,192.168.0.3 \
  --nodes 192.168.0.4,192.168.0.5 -p <span class="hljs-string">'your-ssh-passwd'</span>

<span class="hljs-comment"># éƒ¨ç½²ç½‘ç»œæ’ä»¶</span>
sealos run ghcr.io/labring/sealos/cilium:v1.17.1

<span class="hljs-comment"># éƒ¨ç½²è¯ä¹¦ç®¡ç†</span>
sealos run ghcr.io/labring/sealos/cert-manager:v1.14.6
</code></pre>
<p><em>æ³¨ï¼šéœ€æå‰é…ç½®å¥½SSHå…å¯†ç™»å½•ç¯å¢ƒ</em></p>
<h4 data-id="heading-4">1.2 ArgoCDéƒ¨ç½²</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># deploy/base/argocd/install.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">argoproj.io/v1alpha1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Application</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">argocd</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">argocd</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">project:</span> <span class="hljs-string">default</span>
  <span class="hljs-attr">source:</span>
    <span class="hljs-attr">repoURL:</span> <span class="hljs-string">https://github.com/argoproj/argo-helm</span>
    <span class="hljs-attr">targetRevision:</span> <span class="hljs-string">main</span>
    <span class="hljs-attr">chart:</span> <span class="hljs-string">argo-cd</span>
    <span class="hljs-attr">helm:</span>
      <span class="hljs-attr">values:</span> <span class="hljs-string">|
        server:
          service:
            type: ClusterIP
</span>  <span class="hljs-attr">destination:</span>
    <span class="hljs-attr">server:</span> <span class="hljs-string">https://kubernetes.default.svc</span>
    <span class="hljs-attr">namespace:</span> <span class="hljs-string">argocd</span>
  <span class="hljs-attr">syncPolicy:</span>
    <span class="hljs-attr">automated:</span>
      <span class="hljs-attr">prune:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">selfHeal:</span> <span class="hljs-literal">true</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">äºŒã€æµæ°´çº¿è®¾è®¡</h3>
<h4 data-id="heading-6">2.1 GitLab CIé…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .gitlab-ci.yml</span>
stages:
  - build
  - <span class="hljs-built_in">test</span>
  - deploy-dev
  - deploy-staging
  - deploy-prod

variables:
  DOCKER_HOST: tcp://docker:2375
  KUBECONFIG: /etc/deploy/.kube/config

build:
  stage: build
  image: docker:latest
  services:
    - docker:dind
  script:
    - docker build -t <span class="hljs-variable">${CI_REGISTRY_IMAGE}</span>:<span class="hljs-variable">${CI_COMMIT_SHORT_SHA}</span> .
    - docker push <span class="hljs-variable">${CI_REGISTRY_IMAGE}</span>:<span class="hljs-variable">${CI_COMMIT_SHORT_SHA}</span>

<span class="hljs-built_in">test</span>:
  stage: <span class="hljs-built_in">test</span>
  image: maven:3.8.6
  script:
    - mvn clean <span class="hljs-built_in">test</span> -Dspring.profiles.active=<span class="hljs-built_in">test</span>

deploy-dev:
  stage: deploy-dev
  image: bitnami/kubectl:latest
  script:
    - kubectl config set-cluster sealos --server=<span class="hljs-variable">${K8S_DEV_SERVER}</span>
    - kubectl config set-credentials dev-admin --token=<span class="hljs-variable">${DEV_TOKEN}</span>
    - kubectl <span class="hljs-built_in">set</span> image deployment/springcloud-demo-1 springcloud-demo= <span class="hljs-variable">${CI_REGISTRY_IMAGE}</span>:<span class="hljs-variable">${CI_COMMIT_SHORT_SHA}</span> -n dev
  only:
    - dev
</code></pre>
<h4 data-id="heading-7">2.2 ArgoCDåº”ç”¨æ¸…å•</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># deploy/applications/springcloud-dev.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">argoproj.io/v1alpha1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Application</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springcloud-dev</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">argocd</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">project:</span> <span class="hljs-string">default</span>
  <span class="hljs-attr">source:</span>
    <span class="hljs-attr">repoURL:</span> <span class="hljs-string">https://gitlab.com/myorg/springcloud-demo.git</span>
    <span class="hljs-attr">targetRevision:</span> <span class="hljs-string">dev</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">deploy/overlays/dev</span>
  <span class="hljs-attr">destination:</span>
    <span class="hljs-attr">server:</span> <span class="hljs-string">https://kubernetes.default.svc</span>
    <span class="hljs-attr">namespace:</span> <span class="hljs-string">dev</span>
  <span class="hljs-attr">syncPolicy:</span>
    <span class="hljs-attr">automated:</span>
      <span class="hljs-attr">prune:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">selfHeal:</span> <span class="hljs-literal">true</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€å¤šç¯å¢ƒéƒ¨ç½²ç­–ç•¥</h3>
<h4 data-id="heading-9">3.1 å‘½åç©ºé—´éš”ç¦»</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºç¯å¢ƒå‘½åç©ºé—´</span>
kubectl create namespace dev <span class="hljs-attr">--labels</span>=env=development
kubectl create namespace staging <span class="hljs-attr">--labels</span>=env=staging
kubectl create namespace prod <span class="hljs-attr">--labels</span>=env=production
</code></pre>
<h4 data-id="heading-10">3.2 è“ç»¿éƒ¨ç½²é…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># deploy/overlays/prod/rollout.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">argoproj.io/v1alpha1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Rollout</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springcloud-demo</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">strategy:</span>
    <span class="hljs-attr">blueGreen:</span>
      <span class="hljs-attr">activeService:</span> <span class="hljs-string">springcloud-demo-active</span>
      <span class="hljs-attr">previewService:</span> <span class="hljs-string">springcloud-demo-preview</span>
      <span class="hljs-attr">autoPromotionEnabled:</span> <span class="hljs-literal">false</span>
      <span class="hljs-attr">autoPromotionSeconds:</span> <span class="hljs-number">30</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">springcloud-demo</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">registry.gitlab.com/myorg/springcloud-demo:latest</span>
</code></pre>
<h4 data-id="heading-11">3.3 é‡‘ä¸é›€å‘å¸ƒç­–ç•¥</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># deploy/overlays/prod/canary.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">argoproj.io/v1alpha1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Rollout</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springcloud-demo-canary</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">5</span>
  <span class="hljs-attr">strategy:</span>
    <span class="hljs-attr">canary:</span>
      <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">setWeight:</span> <span class="hljs-number">20</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">pause:</span> {<span class="hljs-attr">duration:</span> <span class="hljs-string">5m</span>}
      <span class="hljs-bullet">-</span> <span class="hljs-attr">setWeight:</span> <span class="hljs-number">50</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">pause:</span> {<span class="hljs-attr">duration:</span> <span class="hljs-string">5m</span>}
      <span class="hljs-bullet">-</span> <span class="hljs-attr">setWeight:</span> <span class="hljs-number">100</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">å››ã€ç›‘æ§ä¸å‘Šè­¦</h3>
<h4 data-id="heading-13">4.1 ArgoCDé€šçŸ¥é…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># deploy/base/argocd/notifications.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">argoproj.io/v1alpha1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Application</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">argocd-notifications</span>
  <span class="hljs-attr">annotations:</span>
    <span class="hljs-attr">notifications.argoproj.io/subscribe.on-sync-succeeded.slack:</span> <span class="hljs-comment">#prod-alerts</span>
    <span class="hljs-attr">notifications.argoproj.io/subscribe.on-sync-failed.slack:</span> <span class="hljs-comment">#prod-alerts</span>
</code></pre>
<h4 data-id="heading-14">4.2 å¥åº·æ£€æŸ¥é…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># deploy/overlays/prod/healthchecks.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">argoproj.io/v1alpha1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">AppProject</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">production</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">destinations:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">namespace:</span> <span class="hljs-string">prod</span>
    <span class="hljs-attr">server:</span> <span class="hljs-string">https://kubernetes.default.svc</span>
  <span class="hljs-attr">syncWindows:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">applications:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">'*'</span>
    <span class="hljs-attr">kind:</span> <span class="hljs-string">allow</span>
    <span class="hljs-attr">schedule:</span> <span class="hljs-string">'* * * * *'</span>
    <span class="hljs-attr">duration:</span> <span class="hljs-string">1h</span>
</code></pre>
<hr/>
<h3 data-id="heading-15">äº”ã€SpringCloudé¡¹ç›®é€‚é…</h3>
<h4 data-id="heading-16">5.1 Kubernetesèµ„æºæ¸…å•</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># deploy/manifests/service.yaml</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">springcloud-demo</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">springcloud-demo</span>
  <span class="hljs-attr">ports:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">protocol:</span> <span class="hljs-string">TCP</span>
      <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
      <span class="hljs-attr">targetPort:</span> <span class="hljs-number">8080</span>
</code></pre>
<h4 data-id="heading-17">5.2 é…ç½®ä¸­å¿ƒé›†æˆ</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># config-server/config-repo/application-prod.yml</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">cloud:</span>
    <span class="hljs-attr">config:</span>
      <span class="hljs-attr">server:</span>
        <span class="hljs-attr">git:</span>
          <span class="hljs-attr">uri:</span> <span class="hljs-string">https://gitlab.com/myorg/config-repo</span>
          <span class="hljs-attr">search-paths:</span> <span class="hljs-string">'{application}/{profile}'</span>
</code></pre>
<hr/>
<p>é€šè¿‡Sealosä¸GitLab CI/ArgoCDçš„æ·±åº¦é›†æˆï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€å¥—å®Œæ•´çš„SpringCloudé¡¹ç›®CI/CDæµæ°´çº¿ã€‚è¯¥æ–¹æ¡ˆå®ç°äº†ä»ä»£ç æäº¤åˆ°ç”Ÿäº§éƒ¨ç½²çš„å…¨è‡ªåŠ¨åŒ–ï¼Œæ”¯æŒå¤šç¯å¢ƒéš”ç¦»å’Œæ™ºèƒ½å‘å¸ƒç­–ç•¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Sealosè¯¦è§£ä¸åº”ç”¨å®æˆ˜ï¼šä»æ¶æ„åˆ°è½åœ°çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7598103943561936939</link>    <guid>https://juejin.cn/post/7598103943561936939</guid>    <pubDate>2026-01-23T03:42:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598103943561936939" data-draft-id="7598083101361700870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Sealosè¯¦è§£ä¸åº”ç”¨å®æˆ˜ï¼šä»æ¶æ„åˆ°è½åœ°çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="DevOps"/> <meta itemprop="datePublished" content="2026-01-23T03:42:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Sealosè¯¦è§£ä¸åº”ç”¨å®æˆ˜ï¼šä»æ¶æ„åˆ°è½åœ°çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:42:13.000Z" title="Fri Jan 23 2026 03:42:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Sealosæ¦‚è¿°ï¼šäº‘åŸç”Ÿæ—¶ä»£çš„æ™ºèƒ½äº‘æ“ä½œç³»ç»Ÿ</h2>
<h3 data-id="heading-1">ï¼ˆä¸€ï¼‰æ ¸å¿ƒå®šä½ä¸è®¾è®¡ç†å¿µ</h3>
<p>Sealosæ˜¯ä¸€æ¬¾<strong>ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„æ™ºèƒ½äº‘æ“ä½œç³»ç»Ÿ</strong>ï¼ŒåŸºäºKuberneteså†…æ ¸æ„å»ºï¼Œæ—¨åœ¨é€šè¿‡äº‘åŸç”ŸæŠ€æœ¯ç®€åŒ–äº‘ç¯å¢ƒçš„ç®¡ç†ä¸åº”ç”¨äº¤ä»˜ã€‚å…¶æ ¸å¿ƒè®¾è®¡ç†å¿µåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä»¥Kubernetesä¸ºå†…æ ¸</strong>ï¼šå°†Kubernetesä½œä¸ºåº•å±‚èµ„æºè°ƒåº¦ä¸ç®¡ç†å¼•æ“ï¼Œç»§æ‰¿å…¶å¼ºå¤§çš„å®¹å™¨ç¼–æ’èƒ½åŠ›ï¼›</li>
<li><strong>é›†ç¾¤é•œåƒï¼ˆCluster Imageï¼‰</strong> ï¼šåˆ›æ–°åº”ç”¨äº¤ä»˜æ–¹å¼ï¼Œå°†åº”ç”¨åŠå…¶ä¾èµ–ï¼ˆé…ç½®ã€å­˜å‚¨ã€ç½‘ç»œç­–ç•¥ç­‰ï¼‰æ‰“åŒ…ä¸ºå¯å¤ç”¨çš„é›†ç¾¤é•œåƒï¼Œå®ç°åŸå­åŒ–äº¤ä»˜ä¸ç‰ˆæœ¬æ§åˆ¶ï¼›</li>
<li><strong>å¤šäº‘ç»Ÿä¸€ç®¡ç†</strong>ï¼šæ”¯æŒå…¬æœ‰äº‘ã€ç§æœ‰äº‘ä¸è¾¹ç¼˜ç¯å¢ƒçš„ç»Ÿä¸€æ¶æ„ï¼Œæä¾›ä¸€è‡´çš„æ“ä½œä½“éªŒä¸æ— ç¼è¿ç§»èƒ½åŠ›ï¼›</li>
<li><strong>åº”ç”¨-centric</strong>ï¼šèšç„¦åº”ç”¨å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œè¦†ç›–éƒ¨ç½²ã€é…ç½®ã€ç›‘æ§ã€æ‰©å±•ç­‰ç¯èŠ‚ï¼Œé™ä½ç”¨æˆ·çš„ä½¿ç”¨é—¨æ§›ã€‚</li>
</ul>
<h3 data-id="heading-2">ï¼ˆäºŒï¼‰æ ¸å¿ƒæ¶æ„è§£æ</h3>
<p>Sealosçš„æ¶æ„åˆ†ä¸º<strong>æ§åˆ¶å¹³é¢</strong>ä¸<strong>æ•°æ®å¹³é¢</strong>ä¸¤å±‚ï¼Œç»“åˆKubernetesçš„åŸç”Ÿèƒ½åŠ›ä¸æ‰©å±•æœºåˆ¶ï¼Œå®ç°é«˜æ•ˆçš„äº‘èµ„æºç®¡ç†ï¼š</p>
<h4 data-id="heading-3">1. æ§åˆ¶å¹³é¢ï¼šé›†ç¾¤é•œåƒä¸Operatoræ¨¡å¼</h4>
<ul>
<li><strong>é›†ç¾¤é•œåƒ</strong>ï¼šæ˜¯Sealosçš„æ ¸å¿ƒåˆ›æ–°ï¼Œå°†åº”ç”¨åŠå…¶æ‰€æœ‰ä¾èµ–ï¼ˆå¦‚Kubernetesç»„ä»¶ã€æ•°æ®åº“ã€ä¸­é—´ä»¶ï¼‰æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œç±»ä¼¼äºå®¹å™¨é•œåƒä½†åŒ…å«å®Œæ•´çš„é›†ç¾¤çŠ¶æ€ã€‚ç”¨æˆ·å¯é€šè¿‡<code>sealos run</code>å‘½ä»¤ä¸€é”®éƒ¨ç½²é›†ç¾¤é•œåƒï¼Œå®ç°åº”ç”¨çš„å¿«é€Ÿäº¤ä»˜ï¼›</li>
<li><strong>Operatoræ¨¡å¼</strong>ï¼šé€šè¿‡è‡ªå®šä¹‰Operatorï¼ˆå¦‚<code>sealos-operator</code>ï¼‰æ‰©å±•Kubernetesçš„APIï¼Œå®ç°å¯¹å¤æ‚åº”ç”¨ï¼ˆå¦‚æ•°æ®åº“ã€åˆ†å¸ƒå¼å­˜å‚¨ï¼‰çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ä¾‹å¦‚ï¼Œ<code>sealos-operator</code>å¯è‡ªåŠ¨å¤„ç†é›†ç¾¤çš„åˆå§‹åŒ–ã€å‡çº§ä¸æ•…éšœæ¢å¤ï¼›</li>
<li><strong>å£°æ˜å¼API</strong>ï¼šåŸºäºKubernetesçš„å£°æ˜å¼APIï¼Œç”¨æˆ·é€šè¿‡YAMLæ–‡ä»¶å®šä¹‰é›†ç¾¤ä¸åº”ç”¨çš„çŠ¶æ€ï¼ŒSealosè‡ªåŠ¨åè°ƒå®é™…çŠ¶æ€ä¸æœŸæœ›çŠ¶æ€çš„ä¸€è‡´æ€§ã€‚</li>
</ul>
<h4 data-id="heading-4">2. æ•°æ®å¹³é¢ï¼šKubernetesåŸç”Ÿèµ„æºä¸å­˜å‚¨ç®¡ç†</h4>
<ul>
<li><strong>è®¡ç®—èµ„æº</strong>ï¼šé€šè¿‡Kubernetesçš„<code>Deployment</code>ã€<code>StatefulSet</code>ç­‰å·¥ä½œè´Ÿè½½å¯¹è±¡ç®¡ç†å®¹å™¨åŒ–åº”ç”¨ï¼Œæ”¯æŒè‡ªåŠ¨ä¼¸ç¼©ä¸æ»šåŠ¨å‡çº§ï¼›</li>
<li><strong>å­˜å‚¨èµ„æº</strong>ï¼šæ”¯æŒå¤šç§å­˜å‚¨åç«¯ï¼ˆå¦‚Cephã€NFSã€äº‘ç›˜ï¼‰ï¼Œé€šè¿‡<code>PersistentVolume</code>ï¼ˆPVï¼‰ä¸<code>PersistentVolumeClaim</code>ï¼ˆPVCï¼‰å®ç°å­˜å‚¨çš„æŒä¹…åŒ–ä¸åŠ¨æ€åˆ†é…ã€‚ä¾‹å¦‚ï¼Œåœ¨éƒ¨ç½²æœ‰çŠ¶æ€åº”ç”¨ï¼ˆå¦‚æ•°æ®åº“ï¼‰æ—¶ï¼Œå¯é€šè¿‡<code>volumeClaimTemplates</code>è‡ªåŠ¨åˆ›å»ºPVCï¼›</li>
<li><strong>ç½‘ç»œèµ„æº</strong>ï¼šé€šè¿‡Kubernetesçš„<code>Service</code>ã€<code>Ingress</code>ä¸CNIæ’ä»¶ï¼ˆå¦‚Calicoã€Flannelï¼‰å®ç°ç½‘ç»œé€šä¿¡ï¼Œæ”¯æŒHeadless Serviceï¼ˆæ— å¤´æœåŠ¡ï¼‰ç”¨äºæœ‰çŠ¶æ€åº”ç”¨çš„Podé—´ç›´æ¥é€šä¿¡ã€‚</li>
</ul>
<h3 data-id="heading-5">ï¼ˆä¸‰ï¼‰æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§</h3>
<p>Sealosæä¾›ä¸°å¯Œçš„åŠŸèƒ½ç‰¹æ€§ï¼Œè¦†ç›–åº”ç”¨å…¨ç”Ÿå‘½å‘¨æœŸä¸äº‘ç¯å¢ƒç®¡ç†ï¼š</p>
<ul>
<li><strong>åº”ç”¨å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šæ”¯æŒä¸€é”®éƒ¨ç½²ï¼ˆä»åº”ç”¨å•†åº—æˆ–è‡ªå®šä¹‰é•œåƒï¼‰ã€é…ç½®ç®¡ç†ï¼ˆå›¾å½¢åŒ–ç•Œé¢æˆ–YAMLæ–‡ä»¶ï¼‰ã€è‡ªåŠ¨ä¼¸ç¼©ï¼ˆåŸºäºCPU/å†…å­˜ä½¿ç”¨ç‡ï¼‰ã€æ»šåŠ¨å‡çº§ï¼ˆé›¶ downtimeï¼‰ï¼›</li>
<li><strong>æ•°æ®åº“å³æœåŠ¡ï¼ˆDBaaSï¼‰</strong> ï¼šå†…ç½®MySQLã€PostgreSQLã€MongoDBã€Redisç­‰æ•°æ®åº“çš„ç®¡ç†èƒ½åŠ›ï¼Œæ”¯æŒä¸»ä»å¤åˆ¶ã€è‡ªåŠ¨å¤‡ä»½ã€ç›‘æ§é›†æˆï¼›</li>
<li><strong>æ··åˆäº‘ç»Ÿä¸€ç®¡ç†</strong>ï¼šé€šè¿‡ç»Ÿä¸€çš„æ“ä½œç•Œé¢ä¸APIï¼Œå®ç°å…¬æœ‰äº‘ï¼ˆå¦‚é˜¿é‡Œäº‘ã€AWSï¼‰ä¸ç§æœ‰äº‘ï¼ˆå¦‚OpenStackï¼‰çš„èµ„æºè°ƒåº¦ä¸è´Ÿè½½å‡è¡¡ï¼Œæ”¯æŒåº”ç”¨çš„æ— ç¼è¿ç§»ï¼›</li>
<li><strong>ç›‘æ§ä¸å‘Šè­¦</strong>ï¼šé›†æˆPrometheusã€Grafanaç­‰ç›‘æ§å·¥å…·ï¼Œå®æ—¶è¿½è¸ªé›†ç¾¤èµ„æºä½¿ç”¨ï¼ˆCPUã€å†…å­˜ã€å­˜å‚¨ï¼‰ä¸åº”ç”¨çŠ¶æ€ï¼Œæ”¯æŒè‡ªå®šä¹‰å‘Šè­¦è§„åˆ™ï¼ˆå¦‚ç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡90%è§¦å‘å‘Šè­¦ï¼‰ï¼›</li>
<li><strong>å®‰å…¨æœºåˆ¶</strong>ï¼šå†…ç½®ç§Ÿæˆ·éš”ç¦»ï¼ˆé€šè¿‡Kubernetesçš„Namespaceï¼‰ã€ç½‘ç»œç­–ç•¥ï¼ˆNetwork Policyï¼‰ã€è¯ä¹¦ç®¡ç†ï¼ˆCert Managerï¼‰ã€å®¡è®¡æ—¥å¿—ï¼ˆAudit Logï¼‰ï¼Œä¿éšœäº‘ç¯å¢ƒçš„å®‰å…¨æ€§ã€‚</li>
</ul>
<h2 data-id="heading-6">äºŒã€Sealosåº”ç”¨å®æˆ˜ï¼šä»éƒ¨ç½²åˆ°è¿ç»´çš„å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-7">ï¼ˆä¸€ï¼‰ç¯å¢ƒå‡†å¤‡ä¸å®‰è£…éƒ¨ç½²</h3>
<p>Sealosæ”¯æŒå¤šç§å®‰è£…æ–¹å¼ï¼ˆå•æœºã€é›†ç¾¤ã€ç¦»çº¿ï¼‰ï¼Œä»¥ä¸‹ä»¥<strong>å¤šèŠ‚ç‚¹é«˜å¯ç”¨é›†ç¾¤éƒ¨ç½²</strong>ä¸ºä¾‹ï¼Œä»‹ç»å…·ä½“æ­¥éª¤ï¼š</p>
<h4 data-id="heading-8">1. ç¯å¢ƒè¦æ±‚</h4>
<ul>
<li><strong>èŠ‚ç‚¹é…ç½®</strong>ï¼šè‡³å°‘3å°MasterèŠ‚ç‚¹ï¼ˆæ¨è4æ ¸8Gä»¥ä¸Šï¼‰ã€2å°NodeèŠ‚ç‚¹ï¼ˆæ¨è4æ ¸16Gä»¥ä¸Šï¼‰ï¼›</li>
<li><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼šæ”¯æŒCentOS 7+ã€Ubuntu 20.04+ã€Rocky Linux 8+ï¼›</li>
<li><strong>ç½‘ç»œè¦æ±‚</strong>ï¼šèŠ‚ç‚¹é—´ç½‘ç»œäº’é€šï¼ˆå¼€æ”¾SSHç«¯å£22ã€Kubernetes APIç«¯å£6443ã€CNIç«¯å£8472ç­‰ï¼‰ï¼›</li>
<li><strong>ä¾èµ–è½¯ä»¶</strong>ï¼šéœ€å®‰è£…Dockeræˆ–Containerdï¼ˆæ¨èContainerdï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-9">2. å®‰è£…Sealos CLI</h4>
<p>Sealos CLIæ˜¯ç®¡ç†é›†ç¾¤çš„æ ¸å¿ƒå·¥å…·ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼ˆæ”¯æŒamd64/arm64æ¶æ„ï¼‰</span>
curl -sfL <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/raw.githubusercontent.com/labring</span><span class="hljs-regexp">/sealos/main</span><span class="hljs-regexp">/scripts/install</span>.sh |<span class="hljs-params"> sh -

# éªŒè¯å®‰è£…
sealos version
</span></code></pre>
<h4 data-id="heading-10">3. éƒ¨ç½²é«˜å¯ç”¨Kubernetesé›†ç¾¤</h4>
<p>ä½¿ç”¨<code>sealos run</code>å‘½ä»¤éƒ¨ç½²é›†ç¾¤ï¼ŒæŒ‡å®šMasterä¸NodeèŠ‚ç‚¹çš„IPåœ°å€ã€é›†ç¾¤é•œåƒï¼ˆå¦‚<code>labring/kubernetes:v1.27.11</code>ï¼‰ä¸ç½‘ç»œæ’ä»¶ï¼ˆå¦‚<code>labring/calico:v3.24.1</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sealos run labring/kubernetes:v1.27.11 \
labring/calico:v3.24.1 \
labring/cert-manager:v1.14.6 \
labring/openebs:v3.10.0 \
--masters 192.168.1.101,192.168.1.102,192.168.1.103 \
--nodes 192.168.1.201,192.168.1.202 \
--pod-cidr 10.244.0.0/16 \
--service-cidr 10.96.0.0/12
</code></pre>
<ul>
<li><code>--masters</code>ï¼šæŒ‡å®šMasterèŠ‚ç‚¹çš„IPåœ°å€ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰ï¼›</li>
<li><code>--nodes</code>ï¼šæŒ‡å®šNodeèŠ‚ç‚¹çš„IPåœ°å€ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰ï¼›</li>
<li><code>--pod-cidr</code>ï¼šPodç½‘ç»œçš„CIDRï¼ˆé»˜è®¤10.244.0.0/16ï¼‰ï¼›</li>
<li><code>--service-cidr</code>ï¼šServiceç½‘ç»œçš„CIDRï¼ˆé»˜è®¤10.96.0.0/12ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-11">4. éªŒè¯é›†ç¾¤çŠ¶æ€</h4>
<p>éƒ¨ç½²å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯é›†ç¾¤çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</span>
kubectl <span class="hljs-keyword">get</span> nodes

<span class="hljs-meta"># æŸ¥çœ‹PodçŠ¶æ€ï¼ˆæ‰€æœ‰å‘½åç©ºé—´ï¼‰</span>
kubectl <span class="hljs-keyword">get</span> pods -A
</code></pre>
<h3 data-id="heading-12">ï¼ˆäºŒï¼‰åº”ç”¨éƒ¨ç½²å®æˆ˜ï¼šä»¥é«˜å¯ç”¨MinIOä¸ºä¾‹</h3>
<p>MinIOæ˜¯å¸¸ç”¨çš„å¼€æºå¯¹è±¡å­˜å‚¨ç³»ç»Ÿï¼Œé€‚åˆå­˜å‚¨éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ï¼‰ã€‚ä»¥ä¸‹ä»‹ç»å¦‚ä½•ä½¿ç”¨Sealoséƒ¨ç½²é«˜å¯ç”¨MinIOé›†ç¾¤ï¼š</p>
<h4 data-id="heading-13">1. ç¼–å†™MinIOé›†ç¾¤é…ç½®æ–‡ä»¶ï¼ˆ<code>minio-cluster.yaml</code>ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">storage.min.io/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Cluster</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">minio-ha</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">4</span> <span class="hljs-comment"># æ¨èå¥‡æ•°ä¸ªèŠ‚ç‚¹ï¼ˆ3-7ä¸ªï¼‰ï¼Œæ­¤å¤„ä¸º4ä¸ª</span>
  <span class="hljs-attr">driveConfig:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">"fs"</span> <span class="hljs-comment"># å­˜å‚¨ç±»å‹ä¸ºæ–‡ä»¶ç³»ç»Ÿï¼ˆæˆ–"cloud"ä½¿ç”¨äº‘å­˜å‚¨ï¼‰</span>
    <span class="hljs-attr">path:</span> <span class="hljs-string">"/data"</span> <span class="hljs-comment"># æ•°æ®å­˜å‚¨è·¯å¾„</span>
  <span class="hljs-attr">resources:</span>
    <span class="hljs-attr">requests:</span>
      <span class="hljs-attr">cpu:</span> <span class="hljs-string">"500m"</span> <span class="hljs-comment"># æ¯ä¸ªèŠ‚ç‚¹åˆ†é…çš„CPU</span>
      <span class="hljs-attr">memory:</span> <span class="hljs-string">"1Gi"</span> <span class="hljs-comment"># æ¯ä¸ªèŠ‚ç‚¹åˆ†é…çš„å†…å­˜</span>
  <span class="hljs-attr">expose:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">"LoadBalancer"</span> <span class="hljs-comment"># æš´éœ²æ–¹å¼ä¸ºè´Ÿè½½å‡è¡¡ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨Ingressï¼‰</span>
</code></pre>
<h4 data-id="heading-14">2. éƒ¨ç½²MinIOé›†ç¾¤</h4>
<p>ä½¿ç”¨<code>sealos apply</code>å‘½ä»¤éƒ¨ç½²MinIOé›†ç¾¤ï¼š</p>
<pre><code class="hljs">sealos apply -f minio-cluster.yaml
</code></pre>
<h4 data-id="heading-15">3. éªŒè¯MinIOéƒ¨ç½²</h4>
<ul>
<li>æŸ¥çœ‹MinIO PodçŠ¶æ€ï¼š<code>kubectl get pods -n minio-system</code>ï¼›</li>
<li>è·å–MinIOè®¿é—®å‡­è¯ï¼š<code>kubectl get secret minio-credentials -o jsonpath="{.data.ACCESS_KEY}" | base64 -d</code>ï¼ˆAccess Keyï¼‰ã€<code>kubectl get secret minio-credentials -o jsonpath="{.data.SECRET_KEY}" | base64 -d</code>ï¼ˆSecret Keyï¼‰ï¼›</li>
<li>è®¿é—®MinIOæ§åˆ¶å°ï¼šé€šè¿‡è´Ÿè½½å‡è¡¡IPæˆ–åŸŸåè®¿é—®ï¼ˆå¦‚<code>http://&lt;load-balancer-ip&gt;:9000</code>ï¼‰ï¼Œä½¿ç”¨ä¸Šè¿°å‡­è¯ç™»å½•ã€‚</li>
</ul>
<h3 data-id="heading-16">ï¼ˆä¸‰ï¼‰æœ‰çŠ¶æ€åº”ç”¨éƒ¨ç½²ï¼šStatefulSetä¸Headless Serviceå®æˆ˜</h3>
<p>å¯¹äºæœ‰çŠ¶æ€åº”ç”¨ï¼ˆå¦‚æ•°æ®åº“ã€åˆ†å¸ƒå¼ç³»ç»Ÿï¼‰ï¼ŒSealosé€šè¿‡<code>StatefulSet</code>ä¸<code>Headless Service</code>æä¾›æ”¯æŒï¼Œç¡®ä¿Podçš„ç½‘ç»œæ ‡è¯†ä¸å­˜å‚¨æŒä¹…åŒ–ã€‚ä»¥ä¸‹ä»¥éƒ¨ç½²Nginxæœ‰çŠ¶æ€åº”ç”¨ä¸ºä¾‹ï¼š</p>
<h4 data-id="heading-17">1. åˆ›å»ºHeadless Serviceï¼ˆ<code>nginx-headless.yaml</code>ï¼‰</h4>
<p>Headless Serviceä¸åˆ†é…é›†ç¾¤IPï¼Œç›´æ¥è¿”å›åç«¯Podçš„IPåœ°å€ï¼Œé€‚åˆæœ‰çŠ¶æ€åº”ç”¨çš„Podé—´ç›´æ¥é€šä¿¡ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Service</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-headless</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">clusterIP:</span> <span class="hljs-string">None</span> <span class="hljs-comment"># å…³é”®ï¼šè®¾ç½®ä¸ºNoneè¡¨ç¤ºHeadless Service</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">app:</span> <span class="hljs-string">nginx</span>
  <span class="hljs-attr">ports:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">web</span>
</code></pre>
<h4 data-id="heading-18">2. åˆ›å»ºStatefulSetï¼ˆ<code>nginx-statefulset.yaml</code>ï¼‰</h4>
<p><code>StatefulSet</code>ä¸ºæ¯ä¸ªPodåˆ†é…å”¯ä¸€ä¸”å›ºå®šçš„æ ‡è¯†ç¬¦ï¼ˆå¦‚<code>web-0</code>ã€<code>web-1</code>ï¼‰ï¼Œç¡®ä¿Podé‡æ–°è°ƒåº¦åç½‘ç»œæ ‡è¯†ä¸å­˜å‚¨ä¸å˜ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">StatefulSet</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">web</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">nginx</span>
  <span class="hljs-attr">serviceName:</span> <span class="hljs-string">"nginx-headless"</span> <span class="hljs-comment"># å…³è”åˆ°Headless Service</span>
  <span class="hljs-attr">replicas:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">nginx</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">terminationGracePeriodSeconds:</span> <span class="hljs-number">10</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">nginx</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">registry.k8s.io/nginx-slim:0.8</span>
        <span class="hljs-attr">ports:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">containerPort:</span> <span class="hljs-number">80</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">web</span>
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">www</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/usr/share/nginx/html</span>
  <span class="hljs-attr">volumeClaimTemplates:</span> <span class="hljs-comment"># è‡ªåŠ¨åˆ›å»ºPVCï¼Œå®ç°å­˜å‚¨æŒä¹…åŒ–</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">name:</span> <span class="hljs-string">www</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">accessModes:</span> [ <span class="hljs-string">"ReadWriteOnce"</span> ]
      <span class="hljs-attr">storageClassName:</span> <span class="hljs-string">"sealos-standard"</span> <span class="hljs-comment"># ä½¿ç”¨Sealosæä¾›çš„å­˜å‚¨ç±»</span>
      <span class="hljs-attr">resources:</span>
        <span class="hljs-attr">requests:</span>
          <span class="hljs-attr">storage:</span> <span class="hljs-string">1Gi</span> <span class="hljs-comment"># æ¯ä¸ªPodåˆ†é…1GBå­˜å‚¨</span>
</code></pre>
<h4 data-id="heading-19">3. åº”ç”¨é…ç½®å¹¶éªŒè¯</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># åº”ç”¨Headless Serviceä¸StatefulSeté…ç½®</span>
sealos apply -f nginx-headless.yaml -f nginx-statefulset.yaml

<span class="hljs-meta"># æŸ¥çœ‹PodçŠ¶æ€ï¼ˆåº”ä¸ºRunningï¼‰</span>
kubectl <span class="hljs-keyword">get</span> pods -l app=nginx

<span class="hljs-meta"># æŸ¥çœ‹PVCçŠ¶æ€ï¼ˆåº”ä¸ºBoundï¼‰</span>
kubectl <span class="hljs-keyword">get</span> pvc
</code></pre>
<h3 data-id="heading-20">ï¼ˆå››ï¼‰è¿ç»´ç®¡ç†å®æˆ˜ï¼šç›‘æ§ã€æ—¥å¿—ä¸æ•…éšœæ’æŸ¥</h3>
<p>Sealosæä¾›å®Œå–„çš„è¿ç»´å·¥å…·ï¼Œå¸®åŠ©ç”¨æˆ·ç›‘æ§é›†ç¾¤çŠ¶æ€ã€æ’æŸ¥æ•…éšœï¼š</p>
<h4 data-id="heading-21">1. ç›‘æ§ä¸å‘Šè­¦</h4>
<ul>
<li>
<p><strong>é›†æˆPrometheusä¸Grafana</strong>ï¼šSealoså†…ç½®Prometheusï¼ˆ metrics æ”¶é›†ï¼‰ä¸Grafanaï¼ˆå¯è§†åŒ–ï¼‰ï¼Œå¯é€šè¿‡<code>sealos run</code>å‘½ä»¤éƒ¨ç½²ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sealos run labring/prometheus:v2.45.0 labring/grafana:v10.0.0
</code></pre>
</li>
<li>
<p><strong>å…³é”®ç›‘æ§æŒ‡æ ‡</strong>ï¼šåŒ…æ‹¬èŠ‚ç‚¹CPU/å†…å­˜ä½¿ç”¨ç‡ã€PodçŠ¶æ€ã€å­˜å‚¨ä½¿ç”¨ç‡ã€ç½‘ç»œæµé‡ç­‰ï¼›</p>
</li>
<li>
<p><strong>å‘Šè­¦è§„åˆ™</strong>ï¼šå¯è‡ªå®šä¹‰å‘Šè­¦è§„åˆ™ï¼ˆå¦‚ç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡90%ã€Podå¤„äºCrashLoopBackOffçŠ¶æ€ï¼‰ï¼Œé€šè¿‡é‚®ä»¶ã€Slackç­‰æ–¹å¼é€šçŸ¥ç”¨æˆ·ã€‚</p>
</li>
</ul>
<h4 data-id="heading-22">2. æ—¥å¿—ç®¡ç†</h4>
<ul>
<li>
<p><strong>æ”¶é›†æ—¥å¿—</strong>ï¼šSealosé›†æˆELKï¼ˆElasticsearchã€Logstashã€Kibanaï¼‰æˆ–Lokiï¼ˆè½»é‡çº§æ—¥å¿—æ”¶é›†ï¼‰ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤éƒ¨ç½²Lokiï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sealos run labring/loki:v2.8.0 labring/promtail:v2.8.0
</code></pre>
</li>
<li>
<p><strong>æŸ¥çœ‹æ—¥å¿—</strong>ï¼šä½¿ç”¨<code>kubectl logs</code>å‘½ä»¤æŸ¥çœ‹Podæ—¥å¿—ï¼Œæˆ–é€šè¿‡Grafana/Lokiç•Œé¢å¯è§†åŒ–æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"># æŸ¥çœ‹æŒ‡å®šPodçš„æ—¥å¿—
kubectl logs <span class="hljs-tag">&lt;<span class="hljs-name">pod-name</span>&gt;</span> -n <span class="hljs-tag">&lt;<span class="hljs-name">namespace</span>&gt;</span>

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
kubectl logs -f <span class="hljs-tag">&lt;<span class="hljs-name">pod-name</span>&gt;</span> -n <span class="hljs-tag">&lt;<span class="hljs-name">namespace</span>&gt;</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-23">3. æ•…éšœæ’æŸ¥</h4>
<p>Sealosæä¾›<code>sealos debug</code>å‘½ä»¤ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿæ’æŸ¥é›†ç¾¤æ•…éšœï¼š</p>
<ul>
<li><strong>é›†ç¾¤å¥åº·æ£€æŸ¥</strong>ï¼š<code>sealos doctor</code>ï¼Œæ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€ã€ç½‘ç»œè¿é€šæ€§ã€Kubernetesç»„ä»¶çŠ¶æ€ï¼›</li>
<li><strong>èŠ‚ç‚¹è°ƒè¯•</strong>ï¼š<code>sealos debug node &lt;node-name&gt;</code>ï¼ŒæŸ¥çœ‹èŠ‚ç‚¹æ—¥å¿—ã€èµ„æºä½¿ç”¨æƒ…å†µï¼›</li>
<li><strong>ç½‘ç»œè¯Šæ–­</strong>ï¼š<code>sealos debug network</code>ï¼Œæ£€æŸ¥ç½‘ç»œç­–ç•¥ã€Serviceé…ç½®ã€Podé—´é€šä¿¡ï¼›</li>
<li><strong>å­˜å‚¨æ£€æŸ¥</strong>ï¼š<code>sealos debug storage</code>ï¼ŒæŸ¥çœ‹PV/PVCçŠ¶æ€ã€å­˜å‚¨æ€§èƒ½ã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œç”¨æˆ·ä¹Ÿå¯ä½¿ç”¨KubernetesåŸç”Ÿå·¥å…·æ’æŸ¥æ•…éšœï¼š</p>
<ul>
<li><code>kubectl describe pod &lt;pod-name&gt;</code>ï¼šæŸ¥çœ‹Podè¯¦ç»†ä¿¡æ¯ï¼ˆå¦‚äº‹ä»¶ã€å®¹å™¨çŠ¶æ€ï¼‰ï¼›</li>
<li><code>kubectl get events --sort-by='.lastTimestamp' -A</code>ï¼šæŸ¥çœ‹é›†ç¾¤äº‹ä»¶ï¼ˆæŒ‰æ—¶é—´æ’åºï¼‰ï¼›</li>
<li><code>kubectl exec -it &lt;pod-name&gt; -- /bin/bash</code>ï¼šè¿›å…¥Podè°ƒè¯•ï¼ˆå¦‚æŸ¥çœ‹é…ç½®æ–‡ä»¶ã€è¿è¡Œå‘½ä»¤ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-24">ä¸‰ã€Sealoså…¸å‹åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-25">ï¼ˆä¸€ï¼‰ä¼ä¸šçº§SaaSåº”ç”¨éƒ¨ç½²</h3>
<p>SaaSæä¾›å•†éœ€è¦æ”¯æŒå¤šç§Ÿæˆ·ã€è‡ªåŠ¨ä¼¸ç¼©ã€é«˜å¯ç”¨ç­‰ç‰¹æ€§ï¼ŒSealoså¯æä¾›ï¼š</p>
<ul>
<li><strong>å¤šç§Ÿæˆ·éš”ç¦»</strong>ï¼šé€šè¿‡Kubernetesçš„Namespaceå®ç°ç§Ÿæˆ·éš”ç¦»ï¼Œæ¯ä¸ªç§Ÿæˆ·æ‹¥æœ‰ç‹¬ç«‹çš„èµ„æºä¸ç½‘ç»œï¼›</li>
<li><strong>è‡ªåŠ¨ä¼¸ç¼©</strong>ï¼šåŸºäºCPU/å†…å­˜ä½¿ç”¨ç‡è‡ªåŠ¨è°ƒæ•´Podæ•°é‡ï¼Œåº”å¯¹æµé‡æ³¢åŠ¨ï¼›</li>
<li><strong>æ•°æ®åº“æ‰˜ç®¡</strong>ï¼šå†…ç½®MySQLã€PostgreSQLç­‰æ•°æ®åº“æœåŠ¡ï¼Œæ”¯æŒä¸»ä»å¤åˆ¶ä¸è‡ªåŠ¨å¤‡ä»½ï¼›</li>
<li><strong>ç»Ÿä¸€ç›‘æ§</strong>ï¼šé€šè¿‡GrafanaæŸ¥çœ‹æ‰€æœ‰ç§Ÿæˆ·çš„åº”ç”¨çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-26">ï¼ˆäºŒï¼‰ä¼ ç»Ÿåº”ç”¨ç°ä»£åŒ–æ”¹é€ </h3>
<p>ä¼ ç»Ÿåº”ç”¨ï¼ˆå¦‚å•ä½“åº”ç”¨ï¼‰è¿ç§»åˆ°äº‘åŸç”Ÿç¯å¢ƒæ—¶ï¼ŒSealoså¯æä¾›ï¼š</p>
<ul>
<li><strong>å®¹å™¨åŒ–å°è£…</strong>ï¼šå°†ä¼ ç»Ÿåº”ç”¨æ‰“åŒ…ä¸ºDockeré•œåƒï¼Œé€šè¿‡<code>sealos run</code>å‘½ä»¤éƒ¨ç½²ï¼›</li>
<li><strong>æœåŠ¡ç½‘æ ¼é›†æˆ</strong>ï¼šé›†æˆIstioç­‰æœåŠ¡ç½‘æ ¼ï¼Œå®ç°æµé‡ç®¡ç†ã€ç†”æ–­ã€ tracingï¼›</li>
<li><strong>é…ç½®ä¸­å¿ƒåŒ–ç®¡ç†</strong>ï¼šé€šè¿‡Sealosçš„é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œé›†ä¸­ç®¡ç†åº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚æ•°æ®åº“è¿æ¥ä¸²ï¼‰ï¼›</li>
<li><strong>è‡ªåŠ¨åŒ–è¿ç»´</strong>ï¼šé€šè¿‡<code>StatefulSet</code>ä¸<code>Deployment</code>å®ç°åº”ç”¨çš„æ»šåŠ¨å‡çº§ä¸æ•…éšœæ¢å¤ã€‚</li>
</ul>
<h3 data-id="heading-27">ï¼ˆä¸‰ï¼‰è¾¹ç¼˜è®¡ç®—åœºæ™¯</h3>
<p>è¾¹ç¼˜è®¡ç®—éœ€è¦è½»é‡çº§ã€ç¦»çº¿è¿è¡Œã€è¾¹ç¼˜-ä¸­å¿ƒååŒçš„ç‰¹æ€§ï¼ŒSealoså¯æä¾›ï¼š</p>
<ul>
<li><strong>å°å‹åŒ–éƒ¨ç½²</strong>ï¼šSealosæ”¯æŒè½»é‡çº§Kubernetesé›†ç¾¤ï¼ˆå¦‚K3sï¼‰ï¼Œé€‚åˆè¾¹ç¼˜è®¾å¤‡ï¼ˆå¦‚è·¯ç”±å™¨ã€ç½‘å…³ï¼‰ï¼›</li>
<li><strong>ç¦»çº¿è¿è¡Œ</strong>ï¼šæ”¯æŒç¦»çº¿å®‰è£…ï¼ˆæå‰å¯¼å…¥é•œåƒï¼‰ï¼Œæ— éœ€ä¾èµ–äº’è”ç½‘ï¼›</li>
<li><strong>è¾¹ç¼˜-ä¸­å¿ƒååŒ</strong>ï¼šé€šè¿‡ç»Ÿä¸€çš„APIå®ç°è¾¹ç¼˜é›†ç¾¤ä¸ä¸­å¿ƒé›†ç¾¤çš„ååŒï¼ˆå¦‚è¾¹ç¼˜æ•°æ®é‡‡é›†ã€ä¸­å¿ƒæ•°æ®åˆ†æï¼‰ï¼›</li>
<li><strong>ä½å»¶è¿Ÿ</strong>ï¼šè¾¹ç¼˜é›†ç¾¤é è¿‘æ•°æ®æºï¼Œå‡å°‘æ•°æ®ä¼ è¾“å»¶è¿Ÿï¼Œé€‚åˆå®æ—¶åº”ç”¨ï¼ˆå¦‚è§†é¢‘ç›‘æ§ã€å·¥ä¸šç‰©è”ç½‘ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-28">å››ã€Sealosè¿›é˜¶æŠ€å·§ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-29">ï¼ˆä¸€ï¼‰è‡ªå®šä¹‰é›†ç¾¤é•œåƒ</h3>
<p>ç”¨æˆ·å¯æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰é›†ç¾¤é•œåƒï¼ŒåŒ…å«åº”ç”¨åŠå…¶ä¾èµ–ï¼š</p>
<ol>
<li>
<p><strong>ç¼–å†™Kubefile</strong>ï¼šå®šä¹‰é•œåƒçš„æ„å»ºè¿‡ç¨‹ï¼ˆå¦‚åŸºç¡€é•œåƒã€å¤åˆ¶æ–‡ä»¶ã€è¿è¡Œå‘½ä»¤ï¼‰ï¼›</p>
<pre><code class="hljs language-bash" lang="bash">FROM labring/kubernetes:v1.27.11
COPY ./minio-cluster.yaml /etc/minio/
CMD [<span class="hljs-string">"kubectl apply -f /etc/minio/minio-cluster.yaml"</span>]
</code></pre>
</li>
<li>
<p><strong>æ„å»ºé•œåƒ</strong>ï¼šä½¿ç”¨<code>sealos build</code>å‘½ä»¤æ„å»ºé›†ç¾¤é•œåƒï¼›</p>
<pre><code class="hljs language-perl" lang="perl">sealos build -t <span class="hljs-keyword">my</span>-minio-cluster:v1.<span class="hljs-number">0</span> .
</code></pre>
</li>
<li>
<p><strong>æ¨é€é•œåƒ</strong>ï¼šå°†é•œåƒæ¨é€åˆ°é•œåƒä»“åº“ï¼ˆå¦‚Docker Hubã€é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼‰ï¼›</p>
<pre><code class="hljs language-perl" lang="perl">sealos <span class="hljs-keyword">push</span> <span class="hljs-keyword">my</span>-minio-cluster:v1.<span class="hljs-number">0</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-30">ï¼ˆäºŒï¼‰é…ç½®CI/CDæµæ°´çº¿</h3>
<p>Sealosæ”¯æŒCI/CDæµæ°´çº¿ï¼Œå®ç°åº”ç”¨çš„è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ä¸éƒ¨ç½²ï¼š</p>
<ol>
<li>
<p><strong>åˆ›å»º<code>.sealos-ci.yml</code>æ–‡ä»¶</strong>ï¼šå®šä¹‰CI/CDæµç¨‹ï¼ˆå¦‚ä»£ç æäº¤åè‡ªåŠ¨æ„å»ºé•œåƒã€éƒ¨ç½²é›†ç¾¤ï¼‰ï¼›</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">MyApp</span> <span class="hljs-string">CI/CD</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">sealos</span>
    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">image</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">sealos</span> <span class="hljs-string">build</span> <span class="hljs-string">-t</span> <span class="hljs-string">myapp:${{</span> <span class="hljs-string">github.sha</span> <span class="hljs-string">}}</span> <span class="hljs-string">.</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Push</span> <span class="hljs-string">image</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">sealos</span> <span class="hljs-string">push</span> <span class="hljs-string">myapp:${{</span> <span class="hljs-string">github.sha</span> <span class="hljs-string">}}</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">cluster</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">sealos</span> <span class="hljs-string">run</span> <span class="hljs-string">myapp:${{</span> <span class="hljs-string">github.sha</span> <span class="hljs-string">}}</span>
</code></pre>
</li>
<li>
<p><strong>è¿è¡ŒCI/CDæµæ°´çº¿</strong>ï¼šä½¿ç”¨<code>sealos ci run</code>å‘½ä»¤è¿è¡Œæµæ°´çº¿ï¼›</p>
<pre><code class="hljs language-arduino" lang="arduino">sealos ci run
</code></pre>
</li>
</ol>
<h3 data-id="heading-31">ï¼ˆä¸‰ï¼‰æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ul>
<li><strong>è°ƒæ•´èµ„æºé…é¢</strong>ï¼šæ ¹æ®åº”ç”¨éœ€æ±‚åˆç†åˆ†é…CPUã€å†…å­˜èµ„æºï¼Œé¿å…èµ„æºæµªè´¹ï¼›</li>
<li><strong>å¯ç”¨è‡ªåŠ¨æ‰©å±•</strong>ï¼šé€šè¿‡Horizontal Pod Autoscalerï¼ˆHPAï¼‰è‡ªåŠ¨è°ƒæ•´Podæ•°é‡ï¼Œåº”å¯¹æµé‡æ³¢åŠ¨ï¼›</li>
<li><strong>ä¼˜åŒ–å­˜å‚¨æ€§èƒ½</strong>ï¼šä½¿ç”¨SSDå­˜å‚¨ï¼ˆå¦‚NVMeï¼‰æå‡I/Oæ€§èƒ½ï¼Œå¯¹äºå¤§æ–‡ä»¶å­˜å‚¨ï¼Œå¯å¯ç”¨Jumbo Frameï¼ˆMTU=9000ï¼‰ï¼›</li>
<li><strong>å‡å°‘ç½‘ç»œå»¶è¿Ÿ</strong>ï¼šä½¿ç”¨Calicoç­‰CNIæ’ä»¶çš„BGPæ¨¡å¼ï¼Œå‡å°‘ç½‘ç»œè·³è½¬ï¼Œæå‡Podé—´é€šä¿¡æ•ˆç‡ã€‚</li>
</ul>
<p>Sealosä½œä¸ºä¸€æ¬¾ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„æ™ºèƒ½äº‘æ“ä½œç³»ç»Ÿï¼Œé€šè¿‡Kuberneteså†…æ ¸ä¸é›†ç¾¤é•œåƒç­‰åˆ›æ–°ï¼Œç®€åŒ–äº†äº‘ç¯å¢ƒçš„ç®¡ç†ä¸åº”ç”¨äº¤ä»˜ã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç®€åŒ–éƒ¨ç½²</strong>ï¼šé€šè¿‡é›†ç¾¤é•œåƒå®ç°ä¸€é”®éƒ¨ç½²ï¼Œå‡å°‘æ‰‹åŠ¨é…ç½®ï¼›</li>
<li><strong>å¤šäº‘æ”¯æŒ</strong>ï¼šç»Ÿä¸€å…¬æœ‰äº‘ã€ç§æœ‰äº‘ä¸è¾¹ç¼˜ç¯å¢ƒçš„ç®¡ç†ï¼Œæ”¯æŒåº”ç”¨æ— ç¼è¿ç§»ï¼›</li>
<li><strong>åº”ç”¨å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šè¦†ç›–éƒ¨ç½²ã€é…ç½®ã€ç›‘æ§ã€æ‰©å±•ç­‰ç¯èŠ‚ï¼Œé™ä½ç”¨æˆ·é—¨æ§›ï¼›</li>
<li><strong>é«˜å¯ç”¨ä¸æ‰©å±•æ€§</strong>ï¼šæ”¯æŒå¤šèŠ‚ç‚¹é›†ç¾¤ã€è‡ªåŠ¨ä¼¸ç¼©ã€æ•…éšœæ¢å¤ï¼Œæ»¡è¶³ä¼ä¸šç”Ÿäº§éœ€æ±‚ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Rustå…¥é—¨ã€‘ç¬¬äºŒç« ï¼šé€šç”¨ç¼–ç¨‹æ¦‚å¿µ]]></title>    <link>https://juejin.cn/post/7598089234033999872</link>    <guid>https://juejin.cn/post/7598089234033999872</guid>    <pubDate>2026-01-23T03:40:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598089234033999872" data-draft-id="7598203055751495715" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Rustå…¥é—¨ã€‘ç¬¬äºŒç« ï¼šé€šç”¨ç¼–ç¨‹æ¦‚å¿µ"/> <meta itemprop="keywords" content="Rust"/> <meta itemprop="datePublished" content="2026-01-23T03:40:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¢é²¤ç»¿é²¤"/> <meta itemprop="url" content="https://juejin.cn/user/4125023359221614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Rustå…¥é—¨ã€‘ç¬¬äºŒç« ï¼šé€šç”¨ç¼–ç¨‹æ¦‚å¿µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023359221614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¢é²¤ç»¿é²¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:40:47.000Z" title="Fri Jan 23 2026 03:40:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç¬¬ä¸€ç« æˆ‘ä»¬æ‰“é€šäº†â€œä»»ç£äºŒè„‰â€ï¼ˆç¯å¢ƒé…ç½®ï¼‰ï¼Œç°åœ¨è¿›å…¥ <strong>ç¬¬äºŒç« ï¼šé€šç”¨ç¼–ç¨‹æ¦‚å¿µ</strong>ã€‚</p>
<p>è¿™ä¸€ç« éå¸¸å…³é”®ã€‚è™½ç„¶å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€éƒ½æœ‰å˜é‡ã€å‡½æ•°å’Œå¾ªç¯ï¼Œä½† Rust åœ¨è¿™äº›åŸºç¡€æ¦‚å¿µä¸Šæœ‰ä¸€äº›<strong>ç‹¬ç‰¹çš„â€œåç›´è§‰â€è®¾è®¡</strong>ã€‚æ­£æ˜¯è¿™äº›è®¾è®¡ï¼Œæ„æˆäº† Rust å®‰å…¨æ€§çš„åŸºçŸ³ã€‚</p>
<p>è¯·æ–°å»ºä¸€ä¸ªé¡¹ç›®ç”¨äºæœ¬ç« ç»ƒä¹ ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">cargo new rust_basics
<span class="hljs-built_in">cd</span> rust_basics
</code></pre>
<hr/>
<h3 data-id="heading-0">ğŸš€ ç¬¬äºŒç« ï¼šé€šç”¨ç¼–ç¨‹æ¦‚å¿µ</h3>
<h4 data-id="heading-1">2.1 å˜é‡ä¸å¯å˜æ€§ (Variables &amp; Mutability)</h4>
<p>è¿™æ˜¯ Rust æ–°æ‰‹é‡åˆ°çš„ç¬¬ä¸€ä¸ªâ€œå‘â€ï¼Œä¹Ÿæ˜¯ Rust æœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼š<strong>é»˜è®¤ä¸å¯å˜</strong>ã€‚</p>
<p><strong>ä»£ç å®éªŒ 1ï¼šå°è¯•ä¿®æ”¹å˜é‡</strong>
æ‰“å¼€ <code>src/main.rs</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x çš„å€¼æ˜¯: {}"</span>, x);
    x = <span class="hljs-number">6</span>; <span class="hljs-comment">// è¯•å›¾ä¿®æ”¹ x</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x çš„å€¼æ˜¯: {}"</span>, x);
}
</code></pre>
<p>è¿è¡Œ <code>cargo run</code>ã€‚
<strong>ç»“æœ</strong>ï¼šâŒ æŠ¥é”™ï¼<code>cannot assign twice to immutable variable x</code>ï¼ˆä¸èƒ½å¯¹ä¸å¯å˜å˜é‡ x äºŒæ¬¡èµ‹å€¼ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼š
åœ¨ Rust ä¸­ï¼Œä¸€æ—¦ä½ ç”¨ <code>let</code> ç»‘å®šäº†ä¸€ä¸ªå€¼ï¼Œå®ƒé»˜è®¤å°±æ˜¯<strong>åªè¯»</strong>çš„ã€‚è¿™ä¸ºäº†é˜²æ­¢ä½ æ— æ„ä¸­ä¿®æ”¹äº†ä¸è¯¥ä¿®æ”¹çš„æ•°æ®ï¼Œä»è€Œå¯¼è‡´ bugï¼ˆç‰¹åˆ«æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼‰ã€‚</p>
<p><strong>ä¿®æ­£ï¼šåŠ ä¸Š <code>mut</code> å…³é”®å­—</strong>
å¦‚æœä½ æƒ³è®©å˜é‡å¯å˜ï¼Œå¿…é¡»æ˜¾å¼å‘Šè¯‰ç¼–è¯‘å™¨ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>; <span class="hljs-comment">// æ³¨æ„è¿™é‡Œçš„ mut</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x çš„å€¼æ˜¯: {}"</span>, x);
    x = <span class="hljs-number">6</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x çš„å€¼æ˜¯: {}"</span>, x);
}
</code></pre>
<p>å†æ¬¡è¿è¡Œï¼ŒæˆåŠŸï¼âœ…</p>
<hr/>
<h4 data-id="heading-2">2.2 éšè— (Shadowing)</h4>
<p>è¿™æ˜¯ä¸€ä¸ª Rust å¾ˆæœ‰è¶£çš„ç‰¹æ€§ã€‚ä½ å¯ä»¥åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…å¤šæ¬¡å£°æ˜åŒåå˜é‡ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = x + <span class="hljs-number">1</span>; <span class="hljs-comment">// ç¬¬äºŒä¸ª x "éšè—" äº†ç¬¬ä¸€ä¸ª x</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = x * <span class="hljs-number">2</span>; <span class="hljs-comment">// ç¬¬ä¸‰ä¸ª x "éšè—" äº†ç¬¬äºŒä¸ª x</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x çš„å€¼æ˜¯: {}"</span>, x); <span class="hljs-comment">// è¾“å‡º 12</span>
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿ</strong>
é€šå¸¸ç”¨äºç±»å‹è½¬æ¢ã€‚æ¯”å¦‚ä½ æ‹¿åˆ°äº†ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ <code>"42"</code>ï¼Œæƒ³æŠŠå®ƒè½¬æˆæ•°å­—ç±»å‹çš„ <code>42</code>ã€‚</p>
<ul>
<li>åœ¨å…¶ä»–è¯­è¨€ä½ å¯èƒ½éœ€è¦ï¼š<code>let input_str = "42"; let input_num = parse(input_str);</code></li>
<li>åœ¨ Rust ä¸­ï¼š<code>let input = "42"; let input = input.parse();</code> (å¤ç”¨åå­—ï¼Œä»£ç æ›´å¹²å‡€)ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-3">2.3 æ•°æ®ç±»å‹ (Data Types)</h4>
<p>Rust æ˜¯<strong>é™æ€å¼ºç±»å‹</strong>è¯­è¨€ã€‚ç¼–è¯‘æ—¶å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚</p>
<p><strong>æ ‡é‡ç±»å‹ (Scalar Types)</strong>
ä»£è¡¨å•ä¸ªå€¼ã€‚</p>
<ol>
<li><strong>æ•´å‹</strong>ï¼š
<ul>
<li><code>i32</code> (é»˜è®¤ï¼Œæœ‰ç¬¦å· 32 ä½æ•´æ•°)</li>
<li><code>u32</code> (æ— ç¬¦å·ï¼Œä¸èƒ½æ˜¯è´Ÿæ•°)</li>
<li><code>i64</code> / <code>u64</code> (64 ä½ï¼Œå¸¸ç”¨äºå¤§æ•°)</li>
<li><code>isize</code> / <code>usize</code> (ç”±ä½ çš„ CPU æ¶æ„å†³å®šï¼Œ64ä½ç³»ç»Ÿå°±æ˜¯64ä½ï¼Œå¸¸ç”¨äºç´¢å¼•æ•°ç»„)</li>
</ul>
</li>
<li><strong>æµ®ç‚¹å‹</strong>ï¼š<code>f64</code> (é»˜è®¤ï¼ŒåŒç²¾åº¦), <code>f32</code>ã€‚</li>
<li><strong>å¸ƒå°”å‹</strong>ï¼š<code>bool</code> (å€¼ä¸º <code>true</code> æˆ– <code>false</code>)ã€‚</li>
<li><strong>å­—ç¬¦å‹</strong>ï¼š<code>char</code>ã€‚
<ul>
<li><strong>æ³¨æ„</strong>ï¼šRust çš„ <code>char</code> æ˜¯ 4 å­—èŠ‚çš„ Unicode æ ‡é‡å€¼ï¼Œ<strong>ç”¨å•å¼•å·</strong>ã€‚å®ƒå¯ä»¥å­˜å‚¨ä¸­æ–‡ã€Emoji ç­‰ã€‚</li>
<li><code>let c = 'ä¸­';</code> (åˆæ³•)</li>
<li><code>let z = 'â„¤';</code> (åˆæ³•)</li>
<li><code>let cat = 'ğŸ˜»';</code> (åˆæ³•)</li>
</ul>
</li>
</ol>
<p><strong>å¤åˆç±»å‹ (Compound Types)</strong>
å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚</p>
<p><strong>1. å…ƒç»„ (Tuple)</strong>
é•¿åº¦å›ºå®šï¼Œå…ƒç´ ç±»å‹å¯ä»¥ä¸åŒã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// å®šä¹‰å…ƒç»„</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tup</span>: (<span class="hljs-type">i32</span>, <span class="hljs-type">f64</span>, <span class="hljs-type">u8</span>) = (<span class="hljs-number">500</span>, <span class="hljs-number">6.4</span>, <span class="hljs-number">1</span>);

    <span class="hljs-comment">// è®¿é—®æ–¹å¼ 1ï¼šè§£æ„ (Destructuring)</span>
    <span class="hljs-keyword">let</span> (x, y, z) = tup;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"y çš„å€¼æ˜¯: {}"</span>, y);

    <span class="hljs-comment">// è®¿é—®æ–¹å¼ 2ï¼šä½¿ç”¨ç‚¹å·ç´¢å¼•</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">five_hundred</span> = tup.<span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">six_point_four</span> = tup.<span class="hljs-number">1</span>;
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç¬¬ä¸€ä¸ªå…ƒç´ : {}"</span>, five_hundred);
}
</code></pre>
<p><strong>2. æ•°ç»„ (Array)</strong>
é•¿åº¦å›ºå®šï¼Œ<strong>å…ƒç´ ç±»å‹å¿…é¡»ç›¸åŒ</strong>ã€‚æ•°æ®å­˜æ”¾åœ¨æ ˆï¼ˆStackï¼‰ä¸Šã€‚
<em>(æ³¨æ„ï¼šå¦‚æœä½ éœ€è¦åŠ¨æ€é•¿åº¦çš„åˆ—è¡¨ï¼Œä»¥åæˆ‘ä»¬ä¼šå­¦ Vectorï¼Œç°åœ¨å…ˆå­¦ Array)</em></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">a</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
    
    <span class="hljs-comment">// å¦ä¸€ç§å†™æ³•ï¼š[ç±»å‹; é•¿åº¦]</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b</span>: [<span class="hljs-type">i32</span>; <span class="hljs-number">5</span>] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
    
    <span class="hljs-comment">// åˆå§‹åŒ–åŒ…å« 5 ä¸ª 3 çš„æ•°ç»„</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">c</span> = [<span class="hljs-number">3</span>; <span class="hljs-number">5</span>]; <span class="hljs-comment">// ç­‰åŒäº [3, 3, 3, 3, 3]</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"a çš„ç¬¬ä¸€ä¸ªå…ƒç´ : {}"</span>, a[<span class="hljs-number">0</span>]);
}
</code></pre>
<hr/>
<h4 data-id="heading-4">2.4 å‡½æ•° (Functions)</h4>
<p>Rust çš„å‡½æ•°å®šä¹‰éå¸¸æ¸…æ™°ã€‚ä½†æœ‰ä¸€ä¸ª<strong>è¶…çº§é‡è¦</strong>çš„æ¦‚å¿µï¼š<strong>è¯­å¥ (Statements) vs è¡¨è¾¾å¼ (Expressions)</strong>ã€‚</p>
<ul>
<li><strong>è¯­å¥</strong>ï¼šæ‰§è¡Œæ“ä½œï¼Œ<strong>æ²¡æœ‰è¿”å›å€¼</strong>ã€‚ä»¥åˆ†å· <code>;</code> ç»“å°¾ã€‚</li>
<li><strong>è¡¨è¾¾å¼</strong>ï¼šè®¡ç®—å¹¶<strong>äº§ç”Ÿä¸€ä¸ªå€¼</strong>ã€‚<strong>æ²¡æœ‰</strong>åˆ†å·ã€‚</li>
</ul>
<p><strong>ä»£ç å®éªŒ 2ï¼šå‡½æ•°ä¸è¿”å›å€¼</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">number</span> = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">result</span> = <span class="hljs-title function_ invoke__">plus_one</span>(number);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç»“æœæ˜¯: {}"</span>, result);
}

<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°å¿…é¡»æ ‡æ³¨ç±»å‹</span>
<span class="hljs-comment">// -&gt; i32 è¡¨ç¤ºè¿”å›å€¼ç±»å‹æ˜¯ i32</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">plus_one</span>(x: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> {
    x + <span class="hljs-number">1</span> <span class="hljs-comment">// &lt;--- æ³¨æ„è¿™é‡Œæ²¡æœ‰åˆ†å·ï¼è¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒçš„å€¼å°†ä½œä¸ºè¿”å›å€¼ã€‚</span>
}
</code></pre>
<p>å¦‚æœä½ æŠŠ <code>x + 1</code> æ”¹æˆ <code>x + 1;</code>ï¼ˆåŠ äº†åˆ†å·ï¼‰ï¼Œå®ƒå°±å˜æˆäº†è¯­å¥ï¼Œä¸å†è¿”å›å€¼ï¼ˆé»˜è®¤è¿”å›ç©ºçš„å•å…ƒç±»å‹ <code>()</code>ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™è¯´â€œæœŸæœ›è¿”å› i32ï¼Œä½†å®é™…è¿”å›äº† ()â€ã€‚</p>
<p><strong>è¿™æ˜¯ Rust æ–°æ‰‹æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯ä¹‹ä¸€ï¼Œè¯·åŠ¡å¿…ç•™æ„åˆ†å·ï¼</strong></p>
<hr/>
<h4 data-id="heading-5">2.5 æ§åˆ¶æµ (Control Flow)</h4>
<p><strong>1. <code>if</code> è¡¨è¾¾å¼</strong>
åœ¨ Rust ä¸­ï¼Œ<code>if</code> æ˜¯ä¸€ä¸ª<strong>è¡¨è¾¾å¼</strong>ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥èµ‹å€¼ç»™å˜é‡ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">condition</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-comment">// ç±»ä¼¼äºä¸‰å…ƒè¿ç®—ç¬¦ condition ? 5 : 6</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">number</span> = <span class="hljs-keyword">if</span> condition { <span class="hljs-number">5</span> } <span class="hljs-keyword">else</span> { <span class="hljs-number">6</span> }; 

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Number is: {}"</span>, number);
}
</code></pre>
<p><em>æ³¨æ„ï¼š<code>if</code> å’Œ <code>else</code> è¿”å›çš„æ•°æ®ç±»å‹å¿…é¡»ä¸€è‡´ã€‚</em></p>
<p><strong>2. å¾ªç¯ (Loops)</strong>
Rust æœ‰ä¸‰ç§å¾ªç¯ï¼š<code>loop</code>, <code>while</code>, <code>for</code>ã€‚</p>
<ul>
<li><strong><code>loop</code></strong>: æ— é™å¾ªç¯ï¼Œç›´åˆ°ä½ æ‰‹åŠ¨ <code>break</code>ã€‚</li>
<li><strong><code>while</code></strong>: æ¡ä»¶å¾ªç¯ã€‚</li>
<li><strong><code>for</code></strong>: éå†é›†åˆï¼ˆæœ€å¸¸ç”¨ï¼Œæœ€å®‰å…¨ï¼‰ã€‚</li>
</ul>
<p><strong>ä»£ç å®éªŒ 3ï¼šæœ€å¸¸ç”¨çš„ for å¾ªç¯</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// éå†ä¸€ä¸ªæ•°ç»„</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">a</span> = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>];

    <span class="hljs-comment">// element ä¼šè‡ªåŠ¨è·å–æ•°ç»„ä¸­çš„æ¯ä¸ªå€¼</span>
    <span class="hljs-keyword">for</span> <span class="hljs-variable">element</span> <span class="hljs-keyword">in</span> a {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"å€¼ä¸º: {}"</span>, element);
    }

    <span class="hljs-comment">// ä½¿ç”¨ Range (èŒƒå›´)</span>
    <span class="hljs-comment">// (1..4) åŒ…å« 1, 2, 3ï¼Œä¸åŒ…å« 4ã€‚å¦‚æœæƒ³è¦åŒ…å« 4ï¼Œç”¨ (1..=4)</span>
    <span class="hljs-comment">// .rev() æ˜¯åè½¬çš„æ„æ€</span>
    <span class="hljs-keyword">for</span> <span class="hljs-variable">number</span> <span class="hljs-keyword">in</span> (<span class="hljs-number">1</span>..<span class="hljs-number">4</span>).<span class="hljs-title function_ invoke__">rev</span>() {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"å€’è®¡æ—¶: {}!"</span>, number);
    }
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"å‘å°„ï¼"</span>);
}
</code></pre>
<hr/>
<h3 data-id="heading-6">ğŸ“ ç¬¬äºŒç« æ€»ç»“ä¸ä½œä¸š</h3>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ol>
<li><strong>å˜é‡</strong>ï¼šé»˜è®¤ä¸å¯å˜ï¼Œæ”¹å€¼éœ€åŠ  <code>mut</code>ã€‚</li>
<li><strong>Shadowing</strong>ï¼šåŒåå˜é‡å¯ä»¥è¦†ç›–æ—§å˜é‡ï¼Œå¸¸ç”¨äºç±»å‹è½¬æ¢ã€‚</li>
<li><strong>ç±»å‹</strong>ï¼šçŸ¥é“ <code>i32</code>, <code>f64</code>, <code>bool</code>, <code>char</code>ï¼Œä»¥åŠ Tuple å’Œ Arrayã€‚</li>
<li><strong>å‡½æ•°</strong>ï¼š<strong>ä¸åŠ åˆ†å·</strong>çš„ä»£ç è¡Œæ˜¯è¡¨è¾¾å¼ï¼Œä»£è¡¨è¿”å›å€¼ã€‚</li>
<li><strong>å¾ªç¯</strong>ï¼šé¦–é€‰ <code>for</code> å¾ªç¯éå†æ•°æ®ã€‚</li>
</ol>
<p><strong>ä½œä¸šï¼ˆå·©å›ºä½ çš„çŸ¥è¯†ï¼‰ï¼š</strong></p>
<ol>
<li>å†™ä¸€ä¸ªå‡½æ•° <code>fahrenheit_to_celsius(f: f64) -&gt; f64</code>ï¼Œå°†åæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦ã€‚å…¬å¼ï¼š<code>C = (F - 32) / 1.8</code>ã€‚</li>
<li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œç”¨ä¸€ä¸ªå¾ªç¯ï¼ˆæ¯”å¦‚ 5 æ¬¡ï¼‰ï¼Œè®¡ç®—å¹¶æ‰“å°ä¸åŒåæ°åº¦çš„æ‘„æ°åº¦å€¼ã€‚</li>
<li><strong>è¿›é˜¶æŒ‘æˆ˜</strong>ï¼šå†™ä¸€ä¸ªå‡½æ•°ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬ n é¡¹ã€‚ï¼ˆå¦‚æœ n=1 è¿”å› 1ï¼Œn=2 è¿”å› 1ï¼Œn=3 è¿”å› 2...ï¼‰ã€‚</li>
</ol>
<p>åšå®Œè¿™äº›ï¼Œä½ å°±æŒæ¡äº† Rust çš„åŸºæœ¬è¯­æ³•æ¡†æ¶ï¼</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Rustå…¥é—¨ã€‘ç¬¬ä¸‰ç« ï¼šæ‰€æœ‰æƒ (Ownership) ä¸å€Ÿç”¨ (Borrowing)]]></title>    <link>https://juejin.cn/post/7598127455133171712</link>    <guid>https://juejin.cn/post/7598127455133171712</guid>    <pubDate>2026-01-23T03:42:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598127455133171712" data-draft-id="7598174154664362019" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Rustå…¥é—¨ã€‘ç¬¬ä¸‰ç« ï¼šæ‰€æœ‰æƒ (Ownership) ä¸å€Ÿç”¨ (Borrowing)"/> <meta itemprop="keywords" content="Rust"/> <meta itemprop="datePublished" content="2026-01-23T03:42:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¢é²¤ç»¿é²¤"/> <meta itemprop="url" content="https://juejin.cn/user/4125023359221614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Rustå…¥é—¨ã€‘ç¬¬ä¸‰ç« ï¼šæ‰€æœ‰æƒ (Ownership) ä¸å€Ÿç”¨ (Borrowing)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023359221614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¢é²¤ç»¿é²¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:42:48.000Z" title="Fri Jan 23 2026 03:42:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç°åœ¨ï¼Œè¯·æ·±å¸ä¸€å£æ°”ï¼Œåç›´èº«ä½“ã€‚æˆ‘ä»¬è¦è¿›å…¥ <strong>ç¬¬ä¸‰ç« ï¼šæ‰€æœ‰æƒ (Ownership) ä¸å€Ÿç”¨ (Borrowing)</strong>ã€‚</p>
<p>âš ï¸ <strong>è­¦å‘Š</strong>ï¼šè¿™æ˜¯ Rust å­¦ä¹ æ›²çº¿ä¸­æœ€é™¡å³­çš„éƒ¨åˆ†ã€‚</p>
<ul>
<li>åœ¨ C/C++ ä¸­ï¼Œä½ éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼ˆmalloc/freeï¼‰ï¼Œå®¹æ˜“å¿˜é‡Šæ”¾ï¼ˆå†…å­˜æ³„æ¼ï¼‰æˆ–é‡Šæ”¾ä¸¤æ¬¡ï¼ˆå´©æºƒï¼‰ã€‚</li>
<li>åœ¨ Java/Python/Go ä¸­ï¼Œæœ‰åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰å¸®ä½ è‡ªåŠ¨å›æ”¶ï¼Œä½†ä¼šæ¶ˆè€—æ€§èƒ½ï¼Œå¯¼è‡´ç¨‹åºå¶å°”å¡é¡¿ã€‚</li>
<li><strong>Rust é€‰æ‹©äº†ç¬¬ä¸‰æ¡è·¯</strong>ï¼šé€šè¿‡ä¸€å¥—<strong>ç¼–è¯‘æ—¶çš„è§„åˆ™</strong>ï¼ˆæ‰€æœ‰æƒï¼‰æ¥ç®¡ç†å†…å­˜ã€‚ç¼–è¯‘å™¨éå¸¸ä¸¥æ ¼ï¼Œå¦‚æœä½ è¿åè§„åˆ™ï¼Œä»£ç æ ¹æœ¬æ— æ³•ç¼–è¯‘é€šè¿‡ã€‚</li>
</ul>
<p>è¿™ä¸€ç« ä¸€æ—¦é¡¿æ‚Ÿï¼Œä½ å°±ç®—æ­£å¼â€œå…¥é—¨â€ Rust äº†ï¼</p>
<p>è¯·æ–°å»ºé¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">cargo new ownership_test
<span class="hljs-built_in">cd</span> ownership_test
</code></pre>
<hr/>
<h3 data-id="heading-0">ğŸš€ ç¬¬ä¸‰ç« ï¼šæ‰€æœ‰æƒ (Ownership)</h3>
<h4 data-id="heading-1">3.1 æ ˆ (Stack) ä¸ å † (Heap) â€”â€” å‰ç½®çŸ¥è¯†</h4>
<p>ä¸ºäº†ç†è§£ Rust ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œä½ éœ€è¦ç®€å•äº†è§£å†…å­˜ï¼š</p>
<ul>
<li><strong>æ ˆ (Stack)</strong>ï¼šåƒä¸€æ‘ç›˜å­ã€‚å­˜å–æå¿«ï¼Œä½†<strong>å¤§å°å¿…é¡»å›ºå®š</strong>ã€‚æ¯”å¦‚ <code>i32</code>ã€<code>char</code>ã€<code>[i32; 5]</code> éƒ½å­˜åœ¨æ ˆä¸Šã€‚</li>
<li><strong>å † (Heap)</strong>ï¼šåƒä¸€ä¸ªæ‚ä¹±çš„å¤§ä»“åº“ã€‚å¦‚æœä½ éœ€è¦å­˜ä¸€æ®µæ–‡å­—ï¼ˆStringï¼‰ï¼Œå› ä¸ºä¸çŸ¥é“ç”¨æˆ·ä¼šè¾“å…¥å¤šé•¿ï¼Œæ‰€ä»¥å¿…é¡»å­˜åœ¨å †ä¸Šã€‚ä½ æŠŠæ•°æ®æ‰”è¿›ä»“åº“ï¼Œç®¡ç†å‘˜ç»™ä½ ä¸€å¼ <strong>å°çº¸æ¡ï¼ˆæŒ‡é’ˆï¼‰</strong>ï¼Œä¸Šé¢å†™ç€æ•°æ®å­˜æ”¾çš„ä½ç½®ã€‚ä½ æŠŠè¿™å¼ å°çº¸æ¡æ”¾åœ¨æ ˆä¸Šã€‚</li>
</ul>
<h4 data-id="heading-2">3.2 æ‰€æœ‰æƒçš„ä¸‰å¤§é“å¾‹</h4>
<p>è¯·åŠ¡å¿…æ­»è®°ç¡¬èƒŒè¿™ä¸‰æ¡è§„åˆ™ï¼š</p>
<ol>
<li>Rust ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ª <strong>æ‰€æœ‰è€… (Owner)</strong>ï¼ˆå˜é‡ï¼‰ã€‚</li>
<li>åŒä¸€æ—¶é—´ï¼Œè¯¥å€¼<strong>åªèƒ½æœ‰ä¸€ä¸ª</strong>æ‰€æœ‰è€…ã€‚</li>
<li>å½“æ‰€æœ‰è€…<strong>ç¦»å¼€ä½œç”¨åŸŸ</strong>ï¼ˆScopeï¼‰æ—¶ï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒï¼ˆDropï¼Œå³é‡Šæ”¾å†…å­˜ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-3">3.3 å˜é‡ä½œç”¨åŸŸ (Scope)</h4>
<p>è¿™å’Œå…¶ä»–è¯­è¨€ç±»ä¼¼ï¼Œç”¨èŠ±æ‹¬å· <code>{}</code> ç•Œå®šã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    {                      <span class="hljs-comment">// --- s åœ¨è¿™é‡Œå¼€å§‹æœ‰æ•ˆ</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = <span class="hljs-string">"hello"</span>;   <span class="hljs-comment">// s æ˜¯ valid çš„</span>
        <span class="hljs-comment">// ä½¿ç”¨ s ...</span>
    }                      <span class="hljs-comment">// --- ä½œç”¨åŸŸç»“æŸï¼Œs ä¸å†æœ‰æ•ˆ</span>
                           <span class="hljs-comment">// è¿™é‡Œçš„ s å·²ç»è¢«æ¸…ç†äº†</span>
}
</code></pre>
<hr/>
<h4 data-id="heading-4">3.4 ç§»åŠ¨ (Move) â€”â€” Rust æœ€ç‹¬ç‰¹çš„è¡Œä¸º</h4>
<p>è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“æ‡µçš„åœ°æ–¹ã€‚</p>
<p><strong>æƒ…å†µ Aï¼šæ ˆä¸Šçš„æ•°æ®ï¼ˆæ‹·è´ï¼‰</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">y</span> = x; <span class="hljs-comment">// æŠŠ 5 æ‹·è´ä¸€ä»½ç»™ y</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x = {}, y = {}"</span>, x, y);
}
</code></pre>
<p>è¿™å¾ˆæ­£å¸¸ï¼Œ<code>x</code> å’Œ <code>y</code> éƒ½ç­‰äº 5ã€‚å› ä¸ºæ•´æ•°å¤§å°å›ºå®šï¼Œéƒ½åœ¨æ ˆä¸Šï¼Œæ‹·è´æå¿«ã€‚Rust ç§°è¿™äº›ç±»å‹å®ç°äº† <code>Copy</code> ç‰¹å¾ã€‚</p>
<p><strong>æƒ…å†µ Bï¼šå †ä¸Šçš„æ•°æ®ï¼ˆç§»åŠ¨ï¼‰</strong>
æˆ‘ä»¬è¦å¼•å…¥ <code>String</code> ç±»å‹ã€‚ä¸åŒäºå­—ç¬¦ä¸²å­—é¢é‡ï¼ˆ<code>"hello"</code>ï¼Œå®ƒæ˜¯å†™æ­»åœ¨ä»£ç é‡Œçš„ï¼‰ï¼Œ<code>String</code> æ˜¯åŠ¨æ€çš„ï¼Œåˆ†é…åœ¨å †ä¸Šã€‚</p>
<p><strong>è¯·åŠ¡å¿…è¿è¡Œè¿™æ®µä»£ç ï¼Œå¹¶è§‚å¯ŸæŠ¥é”™ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s2</span> = s1; <span class="hljs-comment">// &lt;--- å…³é”®æ­¥éª¤ï¼</span>

    <span class="hljs-comment">// ä¸‹é¢è¿™è¡Œä¼šæŠ¥é”™ï¼</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"s1 = {}"</span>, s1); 
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæŠ¥é”™ï¼Ÿ</strong></p>
<ol>
<li><code>s1</code> åœ¨å †ä¸Šç”³è¯·äº†å†…å­˜å­˜ "hello"ï¼Œå¹¶åœ¨æ ˆä¸Šå­˜äº†ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒã€‚</li>
<li><code>let s2 = s1;</code> å‘ç”Ÿæ—¶ï¼ŒRust <strong>å¹¶æ²¡æœ‰</strong> æŠŠå †ä¸Šçš„ "hello" å¤åˆ¶ä¸€ä»½ï¼ˆæ·±æ‹·è´å¤ªæ…¢äº†ï¼‰ã€‚</li>
<li>å®ƒåªæ˜¯æŠŠ <code>s1</code> æ ˆä¸Šçš„æŒ‡é’ˆå¤åˆ¶ç»™äº† <code>s2</code>ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šä¸ºäº†ä¿è¯å†…å­˜å®‰å…¨ï¼ˆé¿å…äºŒæ¬¡é‡Šæ”¾ï¼‰ï¼Œ<strong>Rust è®¤ä¸º <code>s1</code> å·²ç»å¤±æ•ˆäº†ï¼</strong> è¿™ä¸ªæ“ä½œå« <strong>ç§»åŠ¨ (Move)</strong>ã€‚</li>
<li>å°±åƒç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘æŠŠæ‰‹é‡Œçš„è‹¹æœç»™äº†ä½ ï¼Œæˆ‘å°±æ²¡æœ‰è‹¹æœäº†ã€‚</li>
</ol>
<p><strong>ä¿®æ­£ï¼šå…‹éš† (Clone)</strong>
å¦‚æœä½ çœŸçš„æƒ³å®Œæ•´å¤åˆ¶ä¸€ä»½å †ä¸Šçš„æ•°æ®ï¼ˆå³ä½¿è¿™æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ï¼‰ï¼Œå¿…é¡»æ˜¾å¼è°ƒç”¨ <code>.clone()</code>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s2</span> = s1.<span class="hljs-title function_ invoke__">clone</span>(); <span class="hljs-comment">// æ·±æ‹·è´ï¼šå †ä¸Šçš„æ•°æ®ä¹Ÿè¢«å¤åˆ¶äº†</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"s1 = {}, s2 = {}"</span>, s1, s2); <span class="hljs-comment">// æ­£å¸¸è¿è¡Œ</span>
}
</code></pre>
<hr/>
<h4 data-id="heading-5">3.5 æ‰€æœ‰æƒä¸å‡½æ•°</h4>
<p>æŠŠå˜é‡ä¼ ç»™å‡½æ•°ï¼Œä¹Ÿéµå¾ªåŒæ ·çš„è§„åˆ™ï¼š<strong>ä¼ è¿›å»ï¼Œå°±æ²¡äº†ã€‚</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);  <span class="hljs-comment">// s è¿›å…¥ä½œç”¨åŸŸ</span>

    <span class="hljs-title function_ invoke__">takes_ownership</span>(s);             <span class="hljs-comment">// s çš„å€¼è¢«ã€ç§»åŠ¨ã€‘è¿›äº†å‡½æ•°</span>
                                    <span class="hljs-comment">// ä»è¿™é‡Œå¼€å§‹ï¼Œs ä¸å†æœ‰æ•ˆäº†ï¼</span>

    <span class="hljs-comment">// println!("{}", s);           // âŒ å¦‚æœå–æ¶ˆæ³¨é‡Šï¼Œä¼šæŠ¥é”™</span>
    
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;                      <span class="hljs-comment">// x è¿›å…¥ä½œç”¨åŸŸ</span>
    <span class="hljs-title function_ invoke__">makes_copy</span>(x);                  <span class="hljs-comment">// x æ˜¯ i32ï¼Œå®ç°äº† Copy ç‰¹å¾</span>
                                    <span class="hljs-comment">// æ‰€ä»¥ x åªæ˜¯æŠŠå€¼ä¼ è¿›å»äº†ï¼Œåé¢è¿˜èƒ½ç”¨</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x ä¾ç„¶å¯ç”¨: {}"</span>, x); 
} <span class="hljs-comment">// main ç»“æŸ</span>

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">takes_ownership</span>(some_string: <span class="hljs-type">String</span>) { 
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, some_string);
} <span class="hljs-comment">// some_string ç¦»å¼€ä½œç”¨åŸŸï¼Œdrop è¢«è°ƒç”¨ï¼Œå†…å­˜é‡Šæ”¾</span>

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">makes_copy</span>(some_integer: <span class="hljs-type">i32</span>) {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, some_integer);
}
</code></pre>
<p><strong>ç—›è‹¦ç‚¹</strong>ï¼š
å¦‚æœæˆ‘æƒ³åœ¨è°ƒç”¨ <code>takes_ownership</code> ä¹‹åç»§ç»­ä½¿ç”¨ <code>s</code> æ€ä¹ˆåŠï¼Ÿéš¾é“å¿…é¡»è®©å‡½æ•°æŠŠ <code>s</code> å† <code>return</code> å›æ¥å—ï¼Ÿ</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç¬¨åŠæ³•ï¼šæŠŠæ‰€æœ‰æƒæ‹¿è¿›å»ï¼Œå†æ‹¿å‡ºæ¥</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    <span class="hljs-keyword">let</span> (s2, len) = <span class="hljs-title function_ invoke__">calculate_length</span>(s1); <span class="hljs-comment">// s1 ç§»åŠ¨è¿›å»äº†ï¼Œs2 ç§»åŠ¨å‡ºæ¥äº†</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"The length of '{}' is {}."</span>, s2, len);
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">calculate_length</span>(s: <span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> (<span class="hljs-type">String</span>, <span class="hljs-type">usize</span>) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">length</span> = s.<span class="hljs-title function_ invoke__">len</span>(); 
    (s, length) <span class="hljs-comment">// è¿”å› s å’Œé•¿åº¦</span>
}
</code></pre>
<p>è¿™æ ·åšå¤ªéº»çƒ¦äº†ï¼äºæ˜¯ï¼ŒRust å¼•å…¥äº† <strong>â€œå¼•ç”¨â€ (Reference)</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-6">ğŸ”— ç¬¬ 3.5 ç« ï¼šå¼•ç”¨ä¸å€Ÿç”¨ (References and Borrowing)</h3>
<p>è¿™å°±æ˜¯â€œå€Ÿç”¨â€ï¼š<strong>æˆ‘å¯ä»¥ä½¿ç”¨ä½ çš„ä¸œè¥¿ï¼Œä½†ä¸è·å–å®ƒçš„æ‰€æœ‰æƒã€‚</strong></p>
<h4 data-id="heading-7">1. ä¸å¯å˜å¼•ç”¨ (<code>&amp;</code>)</h4>
<p>æˆ‘ä»¬åœ¨å‚æ•°ç±»å‹å‰é¢åŠ  <code>&amp;</code>ï¼Œä¼ å‚æ—¶ä¹ŸåŠ  <code>&amp;</code>ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">len</span> = <span class="hljs-title function_ invoke__">calculate_length</span>(&amp;s1); <span class="hljs-comment">// ä¼ å¼•ç”¨ï¼Œä¸ä¼ æ‰€æœ‰æƒ</span>

    <span class="hljs-comment">// s1 ä¾ç„¶æœ‰æ•ˆï¼å› ä¸ºæˆ‘ä»¬åªæ˜¯æŠŠå®ƒâ€œå€Ÿâ€å‡ºå»äº†</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"The length of '{}' is {}."</span>, s1, len);
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">calculate_length</span>(s: &amp;<span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> { <span class="hljs-comment">// s æ˜¯å¯¹ String çš„å¼•ç”¨</span>
    s.<span class="hljs-title function_ invoke__">len</span>()
} <span class="hljs-comment">// s ç¦»å¼€ä½œç”¨åŸŸï¼Œä½†å› ä¸ºå®ƒæ²¡æœ‰æ‰€æœ‰æƒï¼Œä»€ä¹ˆä¹Ÿä¸ä¼šå‘ç”Ÿï¼ˆä¸ä¼š drop Stringï¼‰</span>
</code></pre>
<p><strong>å°è¯•ä¿®æ”¹å€Ÿç”¨çš„å€¼ï¼Ÿ</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">change</span>(some_string: &amp;<span class="hljs-type">String</span>) {
    some_string.<span class="hljs-title function_ invoke__">push_str</span>(<span class="hljs-string">", world"</span>); <span class="hljs-comment">// âŒ æŠ¥é”™ï¼</span>
}
</code></pre>
<p><strong>è§„åˆ™</strong>ï¼šå€Ÿæ¥çš„ä¹¦ï¼ˆä¸å¯å˜å¼•ç”¨ï¼‰ï¼Œä½ æ˜¯ä¸èƒ½åœ¨ä¸Šé¢ä¹±æ¶‚ä¹±ç”»çš„ã€‚</p>
<h4 data-id="heading-8">2. å¯å˜å¼•ç”¨ (<code>&amp;mut</code>)</h4>
<p>å¦‚æœä½ æƒ³ä¿®æ”¹ï¼Œå¿…é¡»ä½¿ç”¨ <strong>å¯å˜å¼•ç”¨</strong>ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>); <span class="hljs-comment">// å˜é‡æœ¬èº«å¿…é¡»æ˜¯ mut</span>

    <span class="hljs-title function_ invoke__">change</span>(&amp;<span class="hljs-keyword">mut</span> s); <span class="hljs-comment">// ä¼ å…¥å¯å˜å¼•ç”¨</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s); <span class="hljs-comment">// è¾“å‡º hello, world</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">change</span>(some_string: &amp;<span class="hljs-keyword">mut</span> <span class="hljs-type">String</span>) { <span class="hljs-comment">// æ¥æ”¶å¯å˜å¼•ç”¨</span>
    some_string.<span class="hljs-title function_ invoke__">push_str</span>(<span class="hljs-string">", world"</span>);
}
</code></pre>
<h4 data-id="heading-9">3. å€Ÿç”¨çš„ç»ˆæè§„åˆ™ (é‡ç‚¹ï¼)</h4>
<p>Rust ä¸ºäº†é˜²æ­¢å¤šçº¿ç¨‹æ•°æ®ç«äº‰ï¼Œç«‹ä¸‹äº†ä¸¥æ ¼çš„è§„çŸ©ï¼š</p>
<p>åœ¨åŒä¸€æ—¶é—´ï¼Œå¯¹äºåŒä¸€ä¸ªæ•°æ®ï¼Œä½ åªèƒ½æ‹¥æœ‰ä»¥ä¸‹<strong>äºŒè€…ä¹‹ä¸€</strong>ï¼š</p>
<ul>
<li><strong>A. ä»»æ„æ•°é‡çš„ä¸å¯å˜å¼•ç”¨ (<code>&amp;T</code>)</strong> ï¼ˆå¤§å®¶éƒ½å¯ä»¥çœ‹ä¹¦ï¼Œæ²¡äººèƒ½æ”¹ï¼‰</li>
<li><strong>B. å”¯ä¸€çš„ä¸€ä¸ªå¯å˜å¼•ç”¨ (<code>&amp;mut T</code>)</strong> ï¼ˆåªæœ‰ä¸€ä¸ªäººèƒ½æ‹¿å›å®¶æ”¹ï¼Œåˆ«äººéƒ½ä¸èƒ½çœ‹äº†ï¼‰</li>
</ul>
<p><strong>ä»£ç å®éªŒï¼šè¿åè§„åˆ™</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">r1</span> = &amp;s; 
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">r2</span> = &amp;s; 
    <span class="hljs-comment">// let r3 = &amp;mut s; // âŒ æŠ¥é”™ï¼å·²ç»æœ‰ r1, r2 åœ¨å€Ÿé˜…äº†ï¼Œä¸èƒ½å†å€Ÿç»™ r3 å»ä¿®æ”¹</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}, {}"</span>, r1, r2);
}
</code></pre>
<p>ä½†æ˜¯ï¼Œæ³¨æ„<strong>ä½œç”¨åŸŸ</strong>ã€‚å¦‚æœ <code>r1</code> å’Œ <code>r2</code> ç”¨å®Œäº†ï¼ˆä¹Ÿå°±æ˜¯æœ€åä¸€æ¬¡ä½¿ç”¨å·²ç»åœ¨ä»£ç ä¸Šæ–¹äº†ï¼‰ï¼Œç¼–è¯‘å™¨å¾ˆèªæ˜ï¼ŒçŸ¥é“åé¢æ²¡äººçœ‹äº†ï¼Œå°±å¯ä»¥åˆ›å»ºå¯å˜å¼•ç”¨äº†ï¼ˆè¿™å« NLL - Non-Lexical Lifetimesï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-10">ğŸ“ ç¬¬ä¸‰ç« æ€»ç»“ä¸ä½œä¸š</h3>
<p>è¿™ä¸€ç« éå¸¸â€œçƒ§è„‘â€ï¼Œä½†è¯·ä¸è¦æ”¾å¼ƒã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ol>
<li><strong>æ‰€æœ‰æƒ</strong>ï¼šæ¯ä¸ªå€¼æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼Œå˜é‡èµ‹å€¼ç»™åˆ«äººï¼Œè‡ªå·±å°±åºŸäº†ï¼ˆé’ˆå¯¹å †æ•°æ®ï¼‰ã€‚</li>
<li><strong>Move</strong>ï¼š<code>String</code> èµ‹å€¼æ˜¯ Moveï¼Œ<code>i32</code> èµ‹å€¼æ˜¯ Copyã€‚</li>
<li><strong>å¼•ç”¨ (<code>&amp;</code>)</strong>ï¼šå…è®¸ä½ ä¸è·å–æ‰€æœ‰æƒä¹Ÿèƒ½è®¿é—®æ•°æ®ã€‚</li>
<li><strong>å€Ÿç”¨è§„åˆ™</strong>ï¼šè¦ä¹ˆæœ‰å¾ˆå¤šè¯»è€…ï¼ˆä¸å¯å˜ï¼‰ï¼Œè¦ä¹ˆæœ‰ä¸€ä¸ªä½œè€…ï¼ˆå¯å˜ï¼‰ï¼Œä¸èƒ½åŒæ—¶å­˜åœ¨ã€‚</li>
</ol>
<p><strong>ä½œä¸šï¼š</strong></p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªå‡½æ•° <code>add_suffix</code>ï¼Œæ¥æ”¶ä¸€ä¸ª <code>&amp;mut String</code>ï¼Œåœ¨å­—ç¬¦ä¸²åé¢è¿½åŠ  " - Rust is cool!"ã€‚</li>
<li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª <code>String</code>ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œç„¶åæ‰“å°ä¿®æ”¹åçš„å­—ç¬¦ä¸²ã€‚</li>
<li><strong>æ€è€ƒé¢˜ï¼ˆä¸ç”¨å†™ä»£ç ï¼‰</strong>ï¼šä¸ºä»€ä¹ˆ Rust ä¸å…è®¸åŒæ—¶å­˜åœ¨ <code>&amp;s</code> (ä¸å¯å˜) å’Œ <code>&amp;mut s</code> (å¯å˜)ï¼Ÿå¦‚æœå…è®¸ï¼Œå½“æˆ‘åœ¨è¯»å– <code>&amp;s</code> çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªäººé€šè¿‡ <code>&amp;mut s</code> å§æ•°æ®æ¸…ç©ºäº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆè¿™å°±æ˜¯ Rust é˜²æ­¢çš„â€œæ•°æ®ç«äº‰â€ï¼‰ã€‚</li>
</ol>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-Canvasè¿›é˜¶æŒ‡å—ï¼šä»é›¶æ„å»ºä½ çš„ Web å›¾å½¢ä¸–ç•Œ]]></title>    <link>https://juejin.cn/post/7598103558886539310</link>    <guid>https://juejin.cn/post/7598103558886539310</guid>    <pubDate>2026-01-23T03:30:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598103558886539310" data-draft-id="7598104596779122734" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-Canvasè¿›é˜¶æŒ‡å—ï¼šä»é›¶æ„å»ºä½ çš„ Web å›¾å½¢ä¸–ç•Œ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-23T03:30:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-Canvasè¿›é˜¶æŒ‡å—ï¼šä»é›¶æ„å»ºä½ çš„ Web å›¾å½¢ä¸–ç•Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:30:24.000Z" title="Fri Jan 23 2026 03:30:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨æ•°æ®å¯è§†åŒ–ï¼ˆEChartsï¼‰ã€åœ¨çº¿æ–‡æ¡£ã€H5 æ¸¸æˆç­‰é¢†åŸŸï¼ŒCanvas éƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„æ ¸å¿ƒæŠ€æœ¯ã€‚ä¸åŒäº DOM æ“ä½œï¼ŒCanvas æä¾›äº†ç«‹å³æ¨¡å¼çš„ç»˜å›¾èƒ½åŠ›ã€‚æœ¬æ–‡å°†å¸¦ä½ ç³»ç»Ÿç›˜ç‚¹ Canvas çš„æ ¸å¿ƒ API ä¸å®æˆ˜æŠ€å·§ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ å¿«é€Ÿä¸Šæ‰‹ï¼šç¯å¢ƒæ­å»º</h2>
<p>Canvas å°±åƒä¸€å—ç”»å¸ƒï¼Œè€Œ <code>context</code> åˆ™æ˜¯ä½ çš„ç”»ç¬”ï¼ŒCanvasä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:</p>
<ul>
<li>åˆ›å»ºcanvaså…ƒç´ ï¼Œå¹¶ä¸ºå…¶è®¾ç½®widthå’Œheight</li>
<li>é€šè¿‡idæŸ¥æ‰¾åˆ°è¯¥å…ƒç´ </li>
<li>ä½¿ç”¨<code>getContext('2d')</code>è·å–ç»˜åˆ¶å›¾å½¢çš„ä¸Šä¸‹æ–‡</li>
</ul>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"drawing"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> drawing = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"drawing"</span>);

<span class="hljs-comment">// ä¸¥è°¨èµ·è§ï¼Œå…ˆæ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒ getContext</span>
<span class="hljs-keyword">if</span> (drawing.<span class="hljs-property">getContext</span>) {
  <span class="hljs-keyword">const</span> context = drawing.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Canvas ä¸Šä¸‹æ–‡è·å–æˆåŠŸ"</span>);
}
</code></pre>
<hr/>
<h2 data-id="heading-2">äºŒã€ åŸºç¡€å›¾å½¢ï¼šçŸ©å½¢ç»˜åˆ¶</h2>
<p>çŸ©å½¢æ˜¯ Canvas ä¸­å”¯ä¸€åŸç”Ÿæ”¯æŒçš„å½¢çŠ¶ï¼Œå…¶ä»–å›¾å½¢éƒ½éœ€è¦é€šè¿‡è·¯å¾„ç»„åˆã€‚</p>





















<table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td><strong><code>fillRect(x, y, w, h)</code></strong></td><td>ç»˜åˆ¶å¡«å……çŸ©å½¢ï¼ˆå®å¿ƒï¼‰</td></tr><tr><td><strong><code>strokeRect(x, y, w, h)</code></strong></td><td>ç»˜åˆ¶æè¾¹çŸ©å½¢ï¼ˆç©ºå¿ƒï¼‰</td></tr><tr><td><strong><code>clearRect(x, y, w, h)</code></strong></td><td>æ¸…é™¤æŒ‡å®šåŒºåŸŸï¼ˆæ©¡çš®æ“¦æ•ˆæœï¼‰</td></tr></tbody></table>
<ul>
<li>
<p>è¿™ä¸‰ç§æ–¹æ³•éƒ½æ¥å—4ä¸ªå‚æ•°:</p>
<ul>
<li><code>x</code>ä»£è¡¨ç»˜åˆ¶çŸ©å½¢çš„èµ·ç‚¹æ¨ªåæ ‡</li>
<li><code>y</code>ä»£è¡¨ç»˜åˆ¶çŸ©å½¢çš„èµ·ç‚¹çºµåæ ‡ï¼ˆåæ ‡è½´æ˜¯å‘ä¸‹çš„)</li>
<li><code>w</code>ä»£è¡¨ç»˜åˆ¶çŸ©å½¢çš„å®½åº¦ï¼ˆä»xä½ç½®å‘å³å»¶å‡wè·ç¦»ï¼‰</li>
<li><code> h</code>ä»£è¡¨ä¼šåœ¨çŸ©å½¢çš„é«˜åº¦ï¼ˆä»yä½ç½®å‘ä¸‹å»¶å‡hè·ç¦»ï¼‰</li>
</ul>
</li>
<li>
<p>fillRectç»˜åˆ¶å‡ºæ¥çš„çŸ©å½¢ï¼Œå¯ä½¿ç”¨<code>fillStyle</code>ï¼ˆ'é¢œè‰²å€¼'ï¼‰å¯ä»¥ç»™çŸ©å½¢å¡«å……é¢œè‰²</p>
</li>
<li>
<p>storkeRectç»˜åˆ¶å‡ºæ¥çš„çŸ©å½¢ï¼Œå¯ä½¿ç”¨<code>strokeStyle</code>ï¼ˆ'é¢œè‰²å€¼'ï¼‰å¯ä»¥ç»™çŸ©å½¢ç»˜åˆ¶è½®å»“</p>
</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> context = drawing.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);

<span class="hljs-comment">// 1. å¡«å……ç»¿è‰²çŸ©å½¢</span>
context.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">"green"</span>;
context.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);

<span class="hljs-comment">// 2. çº¢è‰²è¾¹æ¡†çŸ©å½¢</span>
context.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">"red"</span>;
context.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">2</span>; <span class="hljs-comment">// è®¾ç½®çº¿å®½</span>
context.<span class="hljs-title function_">strokeRect</span>(<span class="hljs-number">70</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);

<span class="hljs-comment">// 3. æ©¡çš®æ“¦ï¼šæ“¦é™¤ä¸­é—´ä¸€éƒ¨åˆ†</span>
context.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">15</span>, <span class="hljs-number">15</span>, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>); 
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/021d075ef3424881bbd80bdb3220264e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743823&amp;x-signature=WBq1DvQ5HJmOvPjCLOo22lj%2FQmU%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€ è·¯å¾„çš„è‰ºæœ¯ï¼šç»˜åˆ¶ä»»æ„å½¢çŠ¶</h2>
<p>è·¯å¾„æ˜¯ Canvas çš„çµé­‚ã€‚è®°ä½æ ¸å¿ƒæµç¨‹ï¼š<strong>å¼€å§‹è·¯å¾„ -&gt; ç§»åŠ¨ç”»ç¬” -&gt; ç»˜åˆ¶çº¿æ¡ -&gt; é—­åˆ/æè¾¹</strong>ã€‚</p>
<h3 data-id="heading-4">1. æ ¸å¿ƒ API</h3>
<ul>
<li><strong><code>beginPath()</code></strong> : æ¸…ç©ºå½“å‰è·¯å¾„åˆ—è¡¨ï¼Œå¼€å§‹æ–°è·¯å¾„ï¼ˆé˜²æ­¢ä¹‹å‰çš„è·¯å¾„è¢«é‡å¤ç»˜åˆ¶ï¼‰ã€‚</li>
<li><strong><code>moveTo(x, y)</code></strong> : ç§»åŠ¨ç”»ç¬”ï¼ŒåªæŠŠç»˜åˆ¶èµ·å§‹ç‚¹ç§»åŠ¨åˆ°<code>(x, y)</code>ã€‚</li>
<li><strong><code>lineTo(x, y)</code></strong> : ç»˜åˆ¶ä¸€æ¡ä»ä¸Šä¸ªç»“æŸç‚¹åˆ°(x, y)çš„ç›´çº¿ã€‚</li>
<li><strong><code>arc(x, y, radius, startAngle, endAngle, counterclockwise)</code></strong>ï¼šä»¥åæ ‡<code>(x, y)</code>ä¸ºåœ†å¿ƒï¼Œä»¥ <code>radius</code> ä¸ºåŠå¾„ç»˜åˆ¶ä¸€æ¡å¼§çº¿ï¼Œèµ·å§‹è§’åº¦ä¸º <code>startAngle</code>ï¼Œç»“æŸè§’åº¦ä¸º <code>endAngle</code>ï¼Œ <code>counterclockwise</code> è¡¨ç¤ºæ˜¯å¦é€†æ—¶é’ˆè®¡ç®—èµ·å§‹è§’åº¦å’Œç»“æŸè§’åº¦ï¼ˆé»˜è®¤ä¸ºé¡ºæ—¶é’ˆ)</li>
<li><strong><code>arcTo(x1, y1, x2, y2, radius)</code></strong> :ç»˜åˆ¶ä»èµ·å§‹ç‚¹<code>P0</code>åˆ°<code>P1(x1ï¼Œy1)</code>çš„ä¸€æ¡è¿çº¿ï¼Œæˆªæ­¢ç»˜åˆ¶ä»<code>P1(x1,y1)</code>åˆ°<code>P2(x2,y2)</code>çš„è¿çº¿ï¼Œæ¥ç€å°†è¿™ä¸¤æ¡çº¿å½“åšåˆ‡çº¿ç»˜åˆ¶ä¸€ä¸ªåŠå¾„ä¸ºradiusçš„åœ†å¼§ã€‚ï¼ˆå½“åœ†å¼§è¿‡å¤§æ—¶ï¼Œä¼šå–ä¸¤æ¡åˆ‡çº¿çš„å»¶é•¿çº¿ï¼‰ä½¿ç”¨è¾ƒå°‘</li>
</ul>
<h3 data-id="heading-5">2. å®æˆ˜ï¼šç»˜åˆ¶åˆ‡çº¿åœ†å¼§ (arcTo)</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"> &lt;canvas id=<span class="hljs-string">"drawing"</span> width=<span class="hljs-string">"600"</span> height=<span class="hljs-string">"600"</span> style=<span class="hljs-string">"border: 1px solid aqua"</span>&gt;&lt;/canvas&gt;
   
  <span class="hljs-keyword">let</span> drawing = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'drawing'</span>)
  <span class="hljs-keyword">if</span> (drawing.<span class="hljs-property">getContext</span>) {
    <span class="hljs-keyword">let</span> context = drawing.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>)
    <span class="hljs-keyword">const</span> p0 = { <span class="hljs-attr">x</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">50</span> } <span class="hljs-comment">// èµ·ç‚¹</span>
    <span class="hljs-keyword">const</span> p1 = { <span class="hljs-attr">x</span>: <span class="hljs-number">150</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">100</span> } <span class="hljs-comment">// æ§åˆ¶ç‚¹1</span>
    <span class="hljs-keyword">const</span> p2 = { <span class="hljs-attr">x</span>: <span class="hljs-number">250</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">50</span> } <span class="hljs-comment">// æ§åˆ¶ç‚¹2</span>
    <span class="hljs-keyword">const</span> radius =<span class="hljs-number">100</span> <span class="hljs-comment">// åœ†è§’åŠå¾„</span>

    context.<span class="hljs-title function_">beginPath</span>()
    context.<span class="hljs-title function_">moveTo</span>(p0.<span class="hljs-property">x</span>, p0.<span class="hljs-property">y</span>) <span class="hljs-comment">// å®šä½èµ·ç‚¹</span>
    context.<span class="hljs-title function_">arcTo</span>(p1.<span class="hljs-property">x</span>, p1.<span class="hljs-property">y</span>, p2.<span class="hljs-property">x</span>, p2.<span class="hljs-property">y</span>, radius) <span class="hljs-comment">// ç»˜åˆ¶åœ†å¼§</span>
    <span class="hljs-comment">// context.lineTo(p2.x, p2.y) // è¿æ¥åˆ°ç»ˆç‚¹</span>
    context.<span class="hljs-title function_">stroke</span>() <span class="hljs-comment">// æè¾¹</span>
  }<span class="hljs-number">1.</span>y, p2.<span class="hljs-property">x</span>, p2.<span class="hljs-property">y</span>, radius); 
context.<span class="hljs-title function_">stroke</span>();
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/974308b12a594acbae20756187dd7d90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743823&amp;x-signature=OQelHaas8HG1sUCCjvgXI3hnO9o%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">3. å®æˆ˜ï¼šç»˜åˆ¶æ—¶é’Ÿè¡¨ç›˜</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript">  <span class="hljs-keyword">let</span> drawing = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'drawing'</span>)
  <span class="hljs-keyword">if</span> (drawing.<span class="hljs-property">getContext</span>) {
    <span class="hljs-keyword">let</span> context = drawing.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>)
    <span class="hljs-comment">// åˆ›å»ºè·¯å¾„</span>
    context.<span class="hljs-title function_">beginPath</span>()
    <span class="hljs-comment">// ç»˜åˆ¶å¤–åœ†</span>
    context.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">99</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-literal">false</span>)
    <span class="hljs-comment">// ç»˜åˆ¶å†…åœ†</span>
    context.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">194</span>, <span class="hljs-number">100</span>)
    context.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">94</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-literal">false</span>)
    <span class="hljs-comment">// ç»˜åˆ¶åˆ†é’ˆ</span>
    context.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)
    context.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">15</span>)
    <span class="hljs-comment">// ç»˜åˆ¶æ—¶é’ˆ</span>
    context.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>)
    context.<span class="hljs-title function_">lineTo</span>(<span class="hljs-number">35</span>, <span class="hljs-number">100</span>)
    <span class="hljs-comment">// æç”»è·¯å¾„</span>
    context.<span class="hljs-title function_">stroke</span>()
  }
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfcb7496aefc4a73b33c30aaf3da8eeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743823&amp;x-signature=0LJ3Z%2BhIeGJQFD6DQ8Ox3BkMmmU%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">å››ã€ ç»˜åˆ¶æ–‡æœ¬</h2>
<p>Canvas æ–‡æœ¬ä¹Ÿæ˜¯å›¾åƒçš„ä¸€éƒ¨åˆ†ï¼Œæ— æ³•åƒ DOM æ–‡æœ¬é‚£æ ·é€‰ä¸­ã€‚</p>





























<table><thead><tr><th><strong>å±æ€§/æ–¹æ³•</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td><strong><code>font</code></strong></td><td>è®¾ç½®å­—ä½“ï¼Œå¦‚ <code>"bold 20px Arial"</code></td></tr><tr><td><strong><code>textAlign</code></strong></td><td>æ°´å¹³å¯¹é½ï¼š<code>start</code>, <code>end</code>, <code>left</code>, <code>right</code>, <code>center</code></td></tr><tr><td><strong><code>textBaseline</code></strong></td><td>å‚ç›´å¯¹é½ï¼š<code>top</code>, <code>middle</code>, <code>bottom</code></td></tr><tr><td><strong><code>fillText(text, x, y, maxWidth)</code></strong></td><td>ç»˜åˆ¶å®å¿ƒæ–‡æœ¬ï¼Œtextä¸ºæ–‡æœ¬å†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œxyä¸ºæ–‡æœ¬åæ ‡ï¼Œmaxwidthä¸ºå¯é€‰å‚æ•°è¡¨ç¤ºæœ€å¤§å®½åº¦</td></tr><tr><td><strong><code>strokeText(text, x, y,maxWidth)</code></strong></td><td>ç»˜åˆ¶ç©ºå¿ƒæ–‡æœ¬ï¼Œå‚æ•°åŒfillTextï¼ŒåŒfillTextä¸€èµ·è°ƒç”¨å¯å®ç°å¡«å……+æè¾¹æ•ˆæœ</td></tr></tbody></table>
<pre><code class="hljs language-JavaScript" lang="JavaScript">context.<span class="hljs-property">font</span> = <span class="hljs-string">'20px Arial'</span>;
context.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span>;

<span class="hljs-comment">// å®å¿ƒå­—</span>
context.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'blue'</span>;
context.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'Combined'</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>);

<span class="hljs-comment">// ç©ºå¿ƒæè¾¹å­—ï¼ˆé‡å æ•ˆæœï¼‰</span>
context.<span class="hljs-property">strokeStyle</span> = <span class="hljs-string">'red'</span>;
context.<span class="hljs-title function_">strokeText</span>(<span class="hljs-string">'Combined'</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>);
</code></pre>
<hr/>
<h2 data-id="heading-8">äº”ã€ å›¾åƒå¤„ç†ä¸åƒç´ æ“ä½œ</h2>
<h3 data-id="heading-9">1. ç»˜åˆ¶å›¾ç‰‡ (drawImage)</h3>
<p><strong>æ³¨æ„</strong>ï¼šå¿…é¡»ç­‰å¾…å›¾ç‰‡åŠ è½½å®Œæˆåæ‰èƒ½ç»˜åˆ¶ï¼Œå¦åˆ™ç”»å¸ƒæ˜¯ç©ºçš„ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
img.<span class="hljs-property">src</span> = <span class="hljs-string">'test.jpg'</span>;
img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å‚æ•°ï¼šå›¾ç‰‡å¯¹è±¡, x, y, width, height</span>
    <span class="hljs-comment">// è¿˜å¯ä»¥ä¼ å…¥9ä¸ªå‚æ•°å®ç°è£å‰ªï¼šdrawImage(img, sx, sy, sw, sh, dx, dy, dw, dh)</span>
    context.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>);
}
</code></pre>
<h3 data-id="heading-10">2. åƒç´ çº§æ“ä½œ (ImageData)</h3>
<p>è¿™æ˜¯ Canvas æœ€å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¯ç”¨äºæ»¤é•œã€å–è‰²å™¨ç­‰ã€‚</p>
<ul>
<li><strong><code>getImageData(x, y, w, h)</code></strong> ï¼šè·å–åƒç´ æ•°æ®ï¼Œè¿”å›å€¼ä¸º<code>ImageData</code> çš„å®ä¾‹ï¼ŒåŒ…å«ä¸‰ä¸ªå±æ€§<code>width</code>ã€<code>height</code> å’Œ <code>data</code>ï¼Œ<code>å…¶data</code> å±æ€§æ˜¯åŒ…å«å›¾åƒçš„åŸå§‹åƒç´ ä¿¡æ¯çš„æ•°ç»„ï¼Œæ¯ 4 ä¸ªå€¼ä»£è¡¨ä¸€ä¸ªåƒç´  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>R</mi><mo separator="true">,</mo><mi>G</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(R, G, B, A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span></span>ã€‚</li>
<li><strong><code>putImageData(imageData, x, y)</code></strong> ï¼šå°†å›¾åƒæ•°æ®å†ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šï¼Œ<code>ImageData</code>ï¼šä¸ºImageDataå®ä¾‹ï¼Œ<code>w,h</code>è¡¨ç¤ºç»˜åˆ¶å›¾åƒçš„å®½é«˜ã€‚</li>
</ul>
<blockquote>
<p><strong>è·¨åŸŸè­¦å‘Š</strong>ï¼šå¦‚æœç»˜åˆ¶çš„å›¾ç‰‡è·¨åŸŸä¸”æœªå¼€å¯ CORSï¼Œè°ƒç”¨ <code>getImageData</code> ä¼šæŠ¥é”™ï¼ˆç”»å¸ƒè¢«æ±¡æŸ“ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-11">å…­ã€ å›¾åƒåˆæˆ (Composite)</h2>
<p>å†³å®šäº†å½“ä¸¤ä¸ªå›¾å½¢é‡å æ—¶ï¼Œè°æ˜¾ç¤ºã€è°éšè—ï¼Œæˆ–è€…é¢œè‰²å¦‚ä½•æ··åˆã€‚</p>
<ul>
<li><strong><code>globalAlpha</code></strong>ï¼šå…¨å±€é€æ˜åº¦ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo>âˆ¼</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0 \sim 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ¼</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>ã€‚</li>
<li><strong><code>globalCompositeOperation</code></strong>ï¼šè¯¥å±æ€§å®šä¹‰æ–°å›¾å½¢ä¸ç”»å¸ƒå·²æœ‰å†…å®¹çš„åƒç´ æ··åˆè§„åˆ™ï¼Œå…¶å–å€¼å¦‚ä¸‹ï¼š</li>
</ul>








































<table><thead><tr><th><strong>å±æ€§å€¼ (Value)</strong></th><th><strong>æ•ˆæœæè¿°</strong></th><th><strong>å…¸å‹åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong><code>source-over</code></strong> (é»˜è®¤)</td><td>æ–°å›¾å½¢è¦†ç›–åœ¨æ—§å›¾å½¢<strong>ä¸Šæ–¹</strong></td><td>æœ€æ™®é€šçš„ç»˜å›¾æ¨¡å¼</td></tr><tr><td><strong><code>source-in</code></strong></td><td>ä»…æ˜¾ç¤ºæ–°å›¾å½¢ä¸æ—§å›¾å½¢<strong>é‡å </strong>çš„éƒ¨åˆ†ï¼ˆæ˜¾ç¤ºæ–°å›¾å½¢å†…å®¹ï¼‰</td><td>è£å‰ªå›¾å½¢ï¼ˆå¦‚ï¼šå°†å›¾ç‰‡è£æˆåœ†å½¢å¤´åƒï¼‰</td></tr><tr><td><strong><code>source-out</code></strong></td><td>ä»…æ˜¾ç¤ºæ–°å›¾å½¢ä¸æ—§å›¾å½¢<strong>ä¸é‡å </strong>çš„éƒ¨åˆ†</td><td>é•‚ç©ºæ•ˆæœã€åå‘é®ç½©</td></tr><tr><td><strong><code>destination-over</code></strong></td><td>æ–°å›¾å½¢ç»˜åˆ¶åœ¨æ—§å›¾å½¢<strong>ä¸‹æ–¹</strong></td><td>èƒŒæ™¯å åŠ ï¼ˆå¦‚ï¼šç»™å·²æœ‰æ–‡å­—åŠ åº•è‰²ï¼‰</td></tr><tr><td><strong><code>destination-out</code></strong></td><td>æ“¦é™¤æ—§å›¾å½¢ä¸­ä¸æ–°å›¾å½¢<strong>é‡å </strong>çš„éƒ¨åˆ†</td><td><strong>æ©¡çš®æ“¦</strong>åŠŸèƒ½å®ç°</td></tr><tr><td><strong><code>lighter</code></strong></td><td>é‡å åŒºåŸŸé¢œè‰²å€¼ç›¸åŠ ï¼ˆå˜äº®æ•ˆæœï¼‰</td><td>åˆ¶ä½œå…‰æ•ˆã€ç²’å­ç³»ç»Ÿã€ç«ç„°æ•ˆæœ</td></tr></tbody></table>
<p><strong>ç»å…¸æ¡ˆä¾‹ï¼šåˆ®åˆ®ä¹æ•ˆæœ (destination-out)</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-comment">/* å®¹å™¨è®¾ç½®ï¼šä¿è¯æ–‡å­—å’ŒCanvasé‡å  */</span>
    <span class="hljs-selector-class">.scratch-card</span> {
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;
      user-select: none; <span class="hljs-comment">/* ç¦æ­¢é€‰ä¸­æ–‡å­— */</span>
    }
    
    <span class="hljs-comment">/* åº•å±‚çš„ä¸­å¥–æ–‡å­— */</span>
    <span class="hljs-selector-class">.prize-text</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">line-height</span>: <span class="hljs-number">150px</span>;
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;
      <span class="hljs-attribute">color</span>: red;
      <span class="hljs-attribute">font-weight</span>: bold;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f9f9f9</span>;
      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>; <span class="hljs-comment">/* å±‚çº§è¾ƒä½ */</span>
    }

    <span class="hljs-comment">/* ä¸Šå±‚çš„ Canvas é®ç½© */</span>
    <span class="hljs-selector-tag">canvas</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">2</span>; <span class="hljs-comment">/* å±‚çº§è¾ƒé«˜ï¼Œç›–ä½æ–‡å­— */</span>
      <span class="hljs-attribute">cursor</span>: pointer;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scratch-card"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"prize-text"</span>&gt;</span>ğŸ‰ ä¸­å¥–äº†ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mask"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"150"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'mask'</span>);
    <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
    
    <span class="hljs-comment">// 1. åˆå§‹åŒ–ï¼šå¡«å……ç°è‰²é®ç½©</span>
    ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#cccccc'</span>; <span class="hljs-comment">// åˆ®å¥–åŒºçš„é¢œè‰²</span>
    ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>);
    
    <span class="hljs-comment">// çŠ¶æ€æ ‡è®°ï¼šæ˜¯å¦æ­£åœ¨æŒ‰ä¸‹é¼ æ ‡</span>
    <span class="hljs-keyword">let</span> isDrawing = <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// 2. é¼ æ ‡/è§¦æ‘¸äº¤äº’äº‹ä»¶ç›‘å¬</span>
    canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousedown'</span>, <span class="hljs-function">() =&gt;</span> isDrawing = <span class="hljs-literal">true</span>);
    canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseup'</span>, <span class="hljs-function">() =&gt;</span> isDrawing = <span class="hljs-literal">false</span>);
    <span class="hljs-comment">// é¼ æ ‡ç§»å‡ºç”»å¸ƒä¹Ÿåœæ­¢åˆ®å¥–</span>
    canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseleave'</span>, <span class="hljs-function">() =&gt;</span> isDrawing = <span class="hljs-literal">false</span>); 

    canvas.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (!isDrawing) <span class="hljs-keyword">return</span>;

      <span class="hljs-comment">// è·å–é¼ æ ‡åœ¨ Canvas ä¸­çš„åæ ‡</span>
      <span class="hljs-comment">// e.offsetX / e.offsetY æ˜¯ç›¸å¯¹äºäº‹ä»¶æºå…ƒç´ çš„åæ ‡</span>
      <span class="hljs-keyword">const</span> x = e.<span class="hljs-property">offsetX</span>;
      <span class="hljs-keyword">const</span> y = e.<span class="hljs-property">offsetY</span>;

      <span class="hljs-comment">// --- æ ¸å¿ƒä»£ç å¼€å§‹ ---</span>
      <span class="hljs-comment">// è®¾ç½®æ··åˆæ¨¡å¼ä¸ºâ€œæ“¦é™¤â€ï¼ˆå³ï¼šè®©é‡å éƒ¨åˆ†å˜é€æ˜ï¼‰</span>
      ctx.<span class="hljs-property">globalCompositeOperation</span> = <span class="hljs-string">'destination-out'</span>;

      <span class="hljs-comment">// ç»˜åˆ¶åœ†å½¢ä½œä¸ºâ€œç¬”è§¦â€ï¼ˆåœ†å½¢æ¯”çŸ©å½¢æ‰‹æ„Ÿæ›´å¥½ï¼‰</span>
      ctx.<span class="hljs-title function_">beginPath</span>();
      ctx.<span class="hljs-title function_">arc</span>(x, y, <span class="hljs-number">15</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>); <span class="hljs-comment">// 15æ˜¯åŠå¾„ï¼Œæ§åˆ¶æ©¡çš®æ“¦å¤§å°</span>
      ctx.<span class="hljs-title function_">fill</span>();
      <span class="hljs-comment">// --- æ ¸å¿ƒä»£ç ç»“æŸ ---</span>
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</span></code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[gulp + conventional-changelog-core è‡ªåŠ¨ç”Ÿæˆç»„ä»¶åº“ CHANGELOG]]></title>    <link>https://juejin.cn/post/7598099064443830335</link>    <guid>https://juejin.cn/post/7598099064443830335</guid>    <pubDate>2026-01-23T03:33:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598099064443830335" data-draft-id="7598021313871282182" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="gulp + conventional-changelog-core è‡ªåŠ¨ç”Ÿæˆç»„ä»¶åº“ CHANGELOG"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-23T03:33:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ—æ”»åŸç‹®"/> <meta itemprop="url" content="https://juejin.cn/user/4162081646979545"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            gulp + conventional-changelog-core è‡ªåŠ¨ç”Ÿæˆç»„ä»¶åº“ CHANGELOG
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4162081646979545/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ—æ”»åŸç‹®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:33:17.000Z" title="Fri Jan 23 2026 03:33:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡åŸºäº <strong>gulp</strong> çš„è‡ªåŠ¨åŒ–æ„å»ºèƒ½åŠ›ï¼Œç»“åˆ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fconventional-changelog-core%2Fv%2F4.2.1" target="_blank" title="https://www.npmjs.com/package/conventional-changelog-core/v/4.2.1" ref="nofollow noopener noreferrer">conventional-changelog-core</a></strong> çš„è§„èŒƒæ—¥å¿—ç”Ÿæˆç‰¹æ€§ï¼Œæ­å»ºä¸€å¥—ç»„ä»¶åº“å‘ç‰ˆæ—¶ <code>CHANGELOG</code> è‡ªåŠ¨æ›´æ–°çš„æ–¹æ¡ˆã€‚è¯¥æ–¹æ¡ˆå¯å®ç°ç‰ˆæœ¬å‘å¸ƒæµç¨‹ä¸æ—¥å¿—æ›´æ–°çš„æ— ç¼è”åŠ¨ï¼Œæ—¢ä¿è¯äº† CHANGELOG çš„è§„èŒƒæ€§ä¸å®Œæ•´æ€§ï¼Œåˆå¤§å¹…ç®€åŒ–å‘ç‰ˆæ“ä½œæµç¨‹ï¼Œæœ‰åŠ©äºç»„ä»¶åº“çš„é«˜æ•ˆã€æ ‡å‡†åŒ–è¿­ä»£ã€‚</p>
<h2 data-id="heading-0">å‰ææ¡ä»¶</h2>
<p>è¯¥æ–¹æ¡ˆåŸºäºè§„èŒƒçš„ git æäº¤æ¶ˆæ¯æ ¼å¼ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">&lt;type&gt;[optional scope]: &lt;description&gt; 

[optional body] 

[optional footer(s)]
</code></pre>
<blockquote>
<p>å¦‚ä½•é…ç½®è§„èŒƒçš„ <code>commitlint</code> å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1645019" target="_blank" title="https://developer.aliyun.com/article/1645019" ref="nofollow noopener noreferrer">é…ç½®Commitlintä¸Huskyå®ç°Gitæäº¤æ¶ˆæ¯è§„èŒƒåŒ–-å¼€å‘è€…ç¤¾åŒº-é˜¿é‡Œäº‘</a></p>
</blockquote>
<h2 data-id="heading-1">å®‰è£… gulp å’Œ conventional-changelog-core</h2>
<p>è€ƒè™‘åˆ° <code>node 12</code> ç‰ˆæœ¬å…¼å®¹æ€§ï¼ˆä¸»è¦æ˜¯é¡¹ç›®ä¸­æœ‰äº›ä¾èµ–å®åœ¨ä¸å…¼å®¹é«˜ç‰ˆæœ¬ nodeï¼‰ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©äº† <code>gulp@^4.0.2</code> å’Œ <code>conventional-changelog-core@^4.2.1</code></p>
<pre><code class="hljs language-kotlin" lang="kotlin">npm i <span class="hljs-symbol">gulp@</span>^<span class="hljs-number">4.0</span><span class="hljs-number">.2</span> conventional-changelog-<span class="hljs-symbol">core@</span>^<span class="hljs-number">4.2</span><span class="hljs-number">.1</span>
</code></pre>
<h2 data-id="heading-2">é…ç½® <code>.conventional-changelog.js</code></h2>
<p>è¿™é‡Œæä¾›ä¸€ä»½æˆ‘é¡¹ç›®ä¸­ä½¿ç”¨çš„é…ç½®ä¾›å‚è€ƒï¼Œè¯¦ç»†é…ç½®å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fconventional-changelog-core%2Fv%2F4.2.1%3FactiveTab%3Dreadme" target="_blank" title="https://www.npmjs.com/package/conventional-changelog-core/v/4.2.1?activeTab=readme" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// .conventional-changelog.js</span>

<span class="hljs-keyword">const</span> moment = <span class="hljs-built_in">require</span>(<span class="hljs-string">"moment"</span>)

<span class="hljs-comment">// é…ç½®æ¨¡æ¿ï¼Œå¯ä»¥æŒ‰éœ€è°ƒæ•´æ¨¡æ¿</span>

<span class="hljs-comment">// https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-writer#maintemplate</span>
<span class="hljs-keyword">const</span> mainTemplate = <span class="hljs-string">`
{{&gt; header}}

{{#each commitGroups}}
{{#each commits}}
{{&gt; commit root=@root}}
{{/each}}
{{/each}}

{{&gt; footer}}
`</span>

<span class="hljs-comment">// https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-writer#headerpartial</span>
<span class="hljs-keyword">const</span> headerPartial = <span class="hljs-string">`
## {{#if isPatch~}} &lt;small&gt;
  {{~/if~}} {{version}}
  {{~#if title}} - {{title}}
  {{~/if~}}
  {{~#if date}} ({{date}})
  {{~/if~}}
  {{~#if isPatch~}} &lt;/small&gt;
  {{~/if}}
`</span>

<span class="hljs-comment">// æœ€å¤šæ˜¾ç¤ºçš„å‘å¸ƒç‰ˆæœ¬ä¸ªæ•°</span>
<span class="hljs-keyword">const</span> maxReleaseCount = <span class="hljs-number">15</span>
<span class="hljs-keyword">let</span> releaseCount = <span class="hljs-number">0</span>

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// options</span>
  <span class="hljs-comment">// https://www.npmjs.com/package/conventional-changelog-core/v/4.2.1?activeTab=readme</span>
  <span class="hljs-attr">preset</span>: <span class="hljs-string">"angular"</span>,
  <span class="hljs-attr">outputUnreleased</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">title</span>: <span class="hljs-string">'CHANGELOG'</span>,
  <span class="hljs-attr">config</span>: {
    <span class="hljs-attr">gitRawCommitsOpts</span>: {
      <span class="hljs-comment">// é…ç½®èµ·å§‹æäº¤æ—¥å¿—çš„ commit sha</span>
      <span class="hljs-attr">from</span>: <span class="hljs-string">"xxx"</span>,
    },
    <span class="hljs-attr">parserOpts</span>: {
      <span class="hljs-comment">// https://github.com/conventional-changelog-archived-repos/conventional-commits-parser</span>
      <span class="hljs-attr">mergePattern</span>: <span class="hljs-regexp">/^Merge branch '(.*)' into (.*)$/</span>,
      <span class="hljs-attr">mergeCorrespondence</span>: [<span class="hljs-string">"id"</span>, <span class="hljs-string">"source"</span>],
    },
    <span class="hljs-attr">writerOpts</span>: {
      <span class="hljs-comment">// https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-writer#api</span>
      <span class="hljs-attr">groupBy</span>: <span class="hljs-string">"type"</span>,
      <span class="hljs-attr">commitGroupsSort</span>: [<span class="hljs-string">"feat"</span>, <span class="hljs-string">"fix"</span>, <span class="hljs-string">"perf"</span>, <span class="hljs-string">"docs"</span>, <span class="hljs-string">"style"</span>, <span class="hljs-string">"refactor"</span>, <span class="hljs-string">"test"</span>, <span class="hljs-string">"chore"</span>, <span class="hljs-string">"revert"</span>],
      <span class="hljs-attr">commitsSort</span>: [<span class="hljs-string">"scope"</span>, <span class="hljs-string">"subject"</span>],
      <span class="hljs-attr">noteGroupsSort</span>: <span class="hljs-string">"title"</span>,
      <span class="hljs-attr">notesSort</span>: <span class="hljs-string">"title"</span>,
      mainTemplate,
      headerPartial
    },
  },
  <span class="hljs-attr">transform</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">commit, cb</span>) {
    <span class="hljs-comment">// é…ç½®å‘ç‰ˆæ¶ˆæ¯çš„åŒ¹é…æ ¼å¼å¹¶æå–ç‰ˆæœ¬å·ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´</span>
    <span class="hljs-keyword">const</span> subjectReleasePattern = <span class="hljs-regexp">/elements@(\d+\.\d+\.\d+)/</span>
    <span class="hljs-keyword">const</span> headerReleasePattern = <span class="hljs-regexp">/Update version (\d+\.\d+\.\d+)/</span>
    <span class="hljs-keyword">if</span> (commit.<span class="hljs-property">subject</span> &amp;&amp; subjectReleasePattern.<span class="hljs-title function_">test</span>(commit.<span class="hljs-property">subject</span>)) {
      commit.<span class="hljs-property">version</span> = subjectReleasePattern.<span class="hljs-title function_">exec</span>(commit.<span class="hljs-property">subject</span>)[<span class="hljs-number">1</span>]
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (commit.<span class="hljs-property">header</span> &amp;&amp; headerReleasePattern.<span class="hljs-title function_">test</span>(commit.<span class="hljs-property">header</span>)) {
      commit.<span class="hljs-property">version</span> = headerReleasePattern.<span class="hljs-title function_">exec</span>(commit.<span class="hljs-property">header</span>)[<span class="hljs-number">1</span>]
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^(chore|docs|test|doc)/</span>.<span class="hljs-title function_">test</span>(commit.<span class="hljs-property">header</span>) &amp;&amp; !<span class="hljs-regexp">/^chore\(element-ui\)/</span>.<span class="hljs-title function_">test</span>(commit.<span class="hljs-property">header</span>)) {
      <span class="hljs-comment">// å¿½ç•¥éƒ¨åˆ†æäº¤æ—¥å¿—ä¿¡æ¯ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´</span>
      <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>)
      <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">if</span> (commit.<span class="hljs-property">version</span>) {
      releaseCount++
    }
    <span class="hljs-keyword">if</span> (releaseCount &gt; maxReleaseCount) {
      <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>)
      <span class="hljs-keyword">return</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (releaseCount === <span class="hljs-number">1</span>) {
      commit.<span class="hljs-property">title</span> = <span class="hljs-string">'latest'</span>
    }
    commit.<span class="hljs-property">group</span> = commit.<span class="hljs-property">subject</span> || commit.<span class="hljs-property">type</span>
    <span class="hljs-comment">// è®¾ç½®æ—¥æœŸæ ¼å¼</span>
    <span class="hljs-keyword">if</span> (commit.<span class="hljs-property">committerDate</span>) {
      commit.<span class="hljs-property">date</span> = <span class="hljs-title function_">moment</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(commit.<span class="hljs-property">committerDate</span>)).<span class="hljs-title function_">format</span>(<span class="hljs-string">"YYYY-MM-DD"</span>)
    }
    <span class="hljs-comment">// è®¾ç½®æ›´æ–°æ—¥å¿—çš„æ–‡æœ¬æ¨¡æ¿ï¼Œä¸»è¦æ˜¯æå–ä¿¡æ¯å¹¶æ·»åŠ  markdown æ ¼å¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥æŒ‰éœ€åŠ å…¥ä¸€äº› emoji è¡¨æƒ…ä¸°å¯Œæ—¥å¿—</span>
    <span class="hljs-keyword">let</span> header = <span class="hljs-string">''</span>
    <span class="hljs-keyword">if</span> (commit.<span class="hljs-property">type</span>) {
      header += <span class="hljs-string">`**<span class="hljs-subst">${commit.type}</span>`</span>
    }
    <span class="hljs-keyword">if</span> (commit.<span class="hljs-property">scope</span>) {
      header += <span class="hljs-string">`(<span class="hljs-subst">${commit.scope}</span>)`</span>
    }
    <span class="hljs-keyword">if</span> (header.<span class="hljs-property">length</span>) {
      header += <span class="hljs-string">`:** <span class="hljs-subst">${commit.subject.replace(<span class="hljs-string">'@'</span>, <span class="hljs-string">'-'</span>)}</span>`</span>
      commit.<span class="hljs-property">header</span> = header
    }
    <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, commit)
  },
}

</code></pre>
<h2 data-id="heading-3">é…ç½® gulp</h2>
<p>åœ¨ gulp å…¥å£æ–‡ä»¶ <code>gulpfile.js</code> ä¸­æ·»åŠ ä¸€ä¸ª <code>task</code>ï¼Œä»£ç å‚è€ƒå¦‚ä¸‹</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>)
<span class="hljs-keyword">var</span> conventionalChangelog = <span class="hljs-built_in">require</span>(<span class="hljs-string">"conventional-changelog-core"</span>)
<span class="hljs-keyword">const</span> conventionalChangelogOpts = <span class="hljs-built_in">require</span>(<span class="hljs-string">"./.conventional-changelog"</span>)

gulp.<span class="hljs-title function_">task</span>(<span class="hljs-string">"conventional-changelog"</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-comment">// CHANGE_LOG æ–‡ä»¶çš„è·¯å¾„</span>
  <span class="hljs-keyword">const</span> changelogPath = <span class="hljs-string">"./CHANGE_LOG.md"</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">conventionalChangelog</span>(conventionalChangelogOpts)
    .<span class="hljs-title function_">on</span>(<span class="hljs-string">"end"</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ç”Ÿæˆæ–‡ä»¶å®Œæˆåï¼Œè¯»å–æ–‡ä»¶å†…å®¹</span>
      fs.<span class="hljs-title function_">readFile</span>(changelogPath, <span class="hljs-string">"utf8"</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (err) {
          <span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err)
        }
        <span class="hljs-comment">// åœ¨å†…å®¹é¦–è¡Œæ·»åŠ æ ‡é¢˜</span>
        <span class="hljs-keyword">const</span> newData = <span class="hljs-string">`# <span class="hljs-subst">${conventionalChangelogOpts.title || <span class="hljs-string">'CHANGELOG'</span>}</span>\n\n`</span> + data
        <span class="hljs-comment">// å°†ä¿®æ”¹åçš„å†…å®¹å†™å›æ–‡ä»¶</span>
        fs.<span class="hljs-title function_">writeFile</span>(changelogPath, newData, <span class="hljs-string">"utf8"</span>, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (err) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err)
          }
        })
      })
    })
    .<span class="hljs-title function_">pipe</span>(fs.<span class="hljs-title function_">createWriteStream</span>(changelogPath)) <span class="hljs-comment">// or any writable stream</span>
})
</code></pre>
<h2 data-id="heading-4">æ‰§è¡Œä»»åŠ¡è„šæœ¬ï¼Œç”Ÿæˆ CHANGELOG</h2>
<p>gulp ä»»åŠ¡åˆ›å»ºå®Œæˆåï¼Œå¯ä»¥åœ¨å‘½ä»¤ç»ˆç«¯æ‰§è¡Œ <code>npx gulp conventional-changelog</code> è‡ªåŠ¨ç”Ÿæˆ <code>CHANGELOG</code>ï¼Œæ›´æ–°åçš„æ–‡æ¡£å†…å®¹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bc073459b224f82b7a3261f4c435b90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5p6X5pS75Z-O54uu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743997&amp;x-signature=nRlhDII%2Fugv7Oq1RuDSGwaSfBPM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">è¿›é˜¶ï¼šåˆ›å»ºè‡ªåŠ¨å‘å¸ƒè„šæœ¬å®ç° <code>æ‰“åŒ…-å‘å¸ƒ-æ›´æ–°æ–‡æ¡£</code> å…¨è‡ªåŠ¨åŒ–æ‰§è¡Œ</h2>
<p>åœ¨å®é™…çš„ç»„ä»¶åº“å‘ç‰ˆå®è·µä¸­ï¼Œæ‰“åŒ…å‘å¸ƒè¿˜éœ€è¦åŒæ­¥æ›´æ–°å­ç‰ˆæœ¬å·ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ <code>npm --no-git-tag-version version patch</code> å‘½ä»¤æ¥å®ç°å­ç‰ˆæœ¬å·è‡ªåŠ¨æ›´æ–°ã€‚åŒæ—¶æ›´æ–°æ—¥å¿—ä¸€èˆ¬éƒ½ä¼šè·Ÿéšç‰ˆæœ¬å‘å¸ƒä¸€èµ·æ›´æ–°åˆ°ç»„ä»¶æ–‡æ¡£ä¸Šï¼Œé‚£ä¹ˆå°±å¯ä»¥å°† <code>æ‰“åŒ…-å‘å¸ƒ-æ›´æ–°æ–‡æ¡£</code> è¿™äº›ç¯èŠ‚ä¸€èµ·å†™åˆ°ä¸€ä¸ªæ‰§è¡Œè„šæœ¬ä¸­ï¼Œç»„ä»¶å‘å¸ƒæ—¶ç›´æ¥æ‰§è¡Œè„šæœ¬å³å¯å…¨è‡ªåŠ¨å®Œæˆæ‰€æœ‰æµç¨‹ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-6">1. åˆ›å»º node è„šæœ¬ <code>scripts/release.js</code></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { execSync } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-comment">// æ‰§è¡Œå‘½ä»¤çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">runCommand</span>(<span class="hljs-params">command</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‰§è¡Œå‘½ä»¤: <span class="hljs-subst">${command}</span>`</span>);
  <span class="hljs-keyword">try</span> {
    <span class="hljs-title function_">execSync</span>(command, { <span class="hljs-attr">stdio</span>: <span class="hljs-string">'inherit'</span>, <span class="hljs-attr">shell</span>: <span class="hljs-literal">true</span> });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å‘½ä»¤æ‰§è¡ŒæˆåŠŸ: <span class="hljs-subst">${command}</span>`</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`å‘½ä»¤æ‰§è¡Œå¤±è´¥: <span class="hljs-subst">${command}</span>`</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
    process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>);
  }
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¼€å§‹æ‰§è¡Œå‘å¸ƒæµç¨‹...'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n===== å¼€å§‹æ‰§è¡Œç¼–è¯‘ ====='</span>);
<span class="hljs-title function_">runCommand</span>(<span class="hljs-string">'git fetch &amp;&amp; git pull origin master &amp;&amp; npm run lib'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n===== å‘å¸ƒåˆ° npm ====='</span>);
<span class="hljs-title function_">runCommand</span>(<span class="hljs-string">'npm --no-git-tag-version version patch &amp;&amp; npm publish'</span>);

<span class="hljs-keyword">const</span> { version } = <span class="hljs-built_in">require</span>(path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'../package.json'</span>));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n===== æäº¤ç‰ˆæœ¬å· ====='</span>);
<span class="hljs-title function_">runCommand</span>(<span class="hljs-string">`git add package.json package-lock.json &amp;&amp; git commit -m "chore: elementsc@<span class="hljs-subst">${version}</span>"`</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n===== æäº¤æ›´æ–°æ—¥å¿— ====='</span>);
<span class="hljs-title function_">runCommand</span>(<span class="hljs-string">'gulp conventional-changelog &amp;&amp; git add "./CHANGE_LOG.md" &amp;&amp; git commit -m "docs: update changelog"'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\nå‘å¸ƒæµç¨‹æ‰§è¡Œå®Œæˆï¼'</span>);
</code></pre>
<h3 data-id="heading-7">2. åœ¨ package.json ä¸­æ·»åŠ æ‰§è¡Œè„šæœ¬</h3>
<pre><code class="hljs language-js" lang="js">{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"elements"</span>,
    <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
    <span class="hljs-string">"scripts"</span>: {
        <span class="hljs-string">"publish:patch"</span>: <span class="hljs-string">"node scripts/release.js"</span>
    }
}
</code></pre>
<h3 data-id="heading-8">3. æ‰§è¡Œ <code>npm run publish:patch</code> å‘å¸ƒç‰ˆæœ¬</h3>
<p>è„šæœ¬æ‰§è¡ŒæˆåŠŸåï¼Œè‡ªåŠ¨æäº¤ç‰ˆæœ¬å‘å¸ƒæ—¥å¿—å’Œæ›´æ–°CHANGELOGï¼Œåˆ°æ­¤å®Œæˆ <code>æ‰“åŒ…-å‘å¸ƒ-æ›´æ–°æ–‡æ¡£</code> å…¨è‡ªåŠ¨åŒ–æ‰§è¡Œ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f30febf9d8b4aed92eb1f3d871dceea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5p6X5pS75Z-O54uu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769743997&amp;x-signature=dYEkmhBfdrEtAQmLc4k%2F1pV4ZLA%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Three.js ç€è‰²å™¨æ‰“é€ çƒŸé›¾æ°´äº‘æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7598104572583952434</link>    <guid>https://juejin.cn/post/7598104572583952434</guid>    <pubDate>2026-01-23T03:42:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598104572583952434" data-draft-id="7598130716339224614" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Three.js ç€è‰²å™¨æ‰“é€ çƒŸé›¾æ°´äº‘æ•ˆæœ"/> <meta itemprop="keywords" content="å‰ç«¯,three.js"/> <meta itemprop="datePublished" content="2026-01-23T03:42:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹æ ¡é•¿"/> <meta itemprop="url" content="https://juejin.cn/user/2295436010076631"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Three.js ç€è‰²å™¨æ‰“é€ çƒŸé›¾æ°´äº‘æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2295436010076631/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹æ ¡é•¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T03:42:34.000Z" title="Fri Jan 23 2026 03:42:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Three.js å’Œè‡ªå®šä¹‰ç€è‰²å™¨æ¥åˆ›å»ºé€¼çœŸçš„çƒŸé›¾ã€æ°´å’Œäº‘æœµæ•ˆæœã€‚æˆ‘ä»¬å°†é€šè¿‡ç¼–å†™é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨æ¥å®ç°åŠ¨æ€å˜åŒ–çš„è§†è§‰æ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d59a08a4fa794871ada008304a002852~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5qCh6ZW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769744554&amp;x-signature=LU1Mp6RlI2wpSr2D9dfzpXIVgxY%3D" alt="screenshot_2026-01-23_11-40-16.gif" loading="lazy"/></p>
<h2 data-id="heading-1">å‡†å¤‡å·¥ä½œ</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å¿…è¦çš„ Three.js åº“å’Œç›¸å…³å·¥å…·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"three"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"three/examples/jsm/controls/OrbitControls"</span>;
<span class="hljs-keyword">import</span> gsap <span class="hljs-keyword">from</span> <span class="hljs-string">"gsap"</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> dat <span class="hljs-keyword">from</span> <span class="hljs-string">"dat.gui"</span>;
<span class="hljs-keyword">import</span> vertexShader <span class="hljs-keyword">from</span> <span class="hljs-string">"../shaders/water/vertex.glsl"</span>;
<span class="hljs-keyword">import</span> fragmentShader <span class="hljs-keyword">from</span> <span class="hljs-string">"../shaders/water/fragment.glsl"</span>;
</code></pre>
<h2 data-id="heading-2">åœºæ™¯åˆå§‹åŒ–</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ Three.js åœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆå§‹åŒ–åœºæ™¯</span>
<span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();

<span class="hljs-comment">// åˆ›å»ºé€è§†ç›¸æœº</span>
<span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(
  <span class="hljs-number">90</span>,
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,
  <span class="hljs-number">0.1</span>,
  <span class="hljs-number">1000</span>
);

<span class="hljs-comment">// è®¾ç½®ç›¸æœºä½ç½®</span>
camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>);
scene.<span class="hljs-title function_">add</span>(camera);

<span class="hljs-comment">// åŠ å…¥è¾…åŠ©è½´ï¼Œå¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹3ç»´åæ ‡è½´</span>
<span class="hljs-keyword">const</span> axesHelper = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AxesHelper</span>(<span class="hljs-number">5</span>);
scene.<span class="hljs-title function_">add</span>(axesHelper);
</code></pre>
<h2 data-id="heading-3">å‚æ•°é…ç½®</h2>
<p>ä¸ºäº†æ–¹ä¾¿è°ƒè¯•å’Œè°ƒæ•´æ•ˆæœï¼Œæˆ‘ä»¬ä½¿ç”¨ dat.GUI åˆ›å»ºå‚æ•°æ§åˆ¶é¢æ¿ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> params = {
  <span class="hljs-attr">uWaresFrequency</span>: <span class="hljs-number">14</span>,          <span class="hljs-comment">// æ³¢çº¹é¢‘ç‡</span>
  <span class="hljs-attr">uScale</span>: <span class="hljs-number">0.03</span>,                 <span class="hljs-comment">// æ•´ä½“ç¼©æ”¾</span>
  <span class="hljs-attr">uXzScale</span>: <span class="hljs-number">1.5</span>,                <span class="hljs-comment">// XZå¹³é¢ç¼©æ”¾</span>
  <span class="hljs-attr">uNoiseFrequency</span>: <span class="hljs-number">10</span>,          <span class="hljs-comment">// å™ªå£°é¢‘ç‡</span>
  <span class="hljs-attr">uNoiseScale</span>: <span class="hljs-number">1.5</span>,             <span class="hljs-comment">// å™ªå£°ç¼©æ”¾</span>
  <span class="hljs-attr">uLowColor</span>: <span class="hljs-string">"#ff0000"</span>,         <span class="hljs-comment">// ä½å€¼é¢œè‰²</span>
  <span class="hljs-attr">uHighColor</span>: <span class="hljs-string">"#ffff00"</span>,        <span class="hljs-comment">// é«˜å€¼é¢œè‰²</span>
  <span class="hljs-attr">uXspeed</span>: <span class="hljs-number">1</span>,                   <span class="hljs-comment">// Xæ–¹å‘é€Ÿåº¦</span>
  <span class="hljs-attr">uZspeed</span>: <span class="hljs-number">1</span>,                   <span class="hljs-comment">// Zæ–¹å‘é€Ÿåº¦</span>
  <span class="hljs-attr">uNoiseSpeed</span>: <span class="hljs-number">1</span>,               <span class="hljs-comment">// å™ªå£°é€Ÿåº¦</span>
  <span class="hljs-attr">uOpacity</span>: <span class="hljs-number">1</span>                   <span class="hljs-comment">// é€æ˜åº¦</span>
};
</code></pre>
<h2 data-id="heading-4">ç€è‰²å™¨æè´¨åˆ›å»º</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰ç€è‰²å™¨çš„æè´¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> shaderMaterial = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ShaderMaterial</span>({
  <span class="hljs-attr">vertexShader</span>: vertexShader,
  <span class="hljs-attr">fragmentShader</span>: fragmentShader,
  <span class="hljs-attr">side</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">DoubleSide</span>,
  <span class="hljs-attr">uniforms</span>: {
    <span class="hljs-attr">uWaresFrequency</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uWaresFrequency</span>,
    },
    <span class="hljs-attr">uScale</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uScale</span>,
    },
    <span class="hljs-attr">uNoiseFrequency</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uNoiseFrequency</span>,
    },
    <span class="hljs-attr">uNoiseScale</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uNoiseScale</span>,
    },
    <span class="hljs-attr">uXzScale</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uXzScale</span>,
    },
    <span class="hljs-attr">uTime</span>: {
      <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>,  <span class="hljs-comment">// æ—¶é—´å˜é‡ï¼Œç”¨äºåŠ¨ç”»æ•ˆæœ</span>
    },
    <span class="hljs-attr">uLowColor</span>: {
      <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(params.<span class="hljs-property">uLowColor</span>),
    },
    <span class="hljs-attr">uHighColor</span>: {
      <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(params.<span class="hljs-property">uHighColor</span>),
    },
    <span class="hljs-attr">uXspeed</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uXspeed</span>,
    },
    <span class="hljs-attr">uZspeed</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uZspeed</span>,
    },
    <span class="hljs-attr">uNoiseSpeed</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uNoiseSpeed</span>,
    },
    <span class="hljs-attr">uOpacity</span>: {
      <span class="hljs-attr">value</span>: params.<span class="hljs-property">uOpacity</span>,
    },
  },
  <span class="hljs-attr">transparent</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<h2 data-id="heading-5">æ§åˆ¶é¢æ¿è®¾ç½®</h2>
<p>é€šè¿‡ dat.GUI å¯ä»¥å®æ—¶è°ƒæ•´å‚æ•°ï¼Œè§‚å¯Ÿæ•ˆæœå˜åŒ–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">gui
  .<span class="hljs-title function_">add</span>(params, <span class="hljs-string">"uWaresFrequency"</span>)
  .<span class="hljs-title function_">min</span>(<span class="hljs-number">1</span>)
  .<span class="hljs-title function_">max</span>(<span class="hljs-number">100</span>)
  .<span class="hljs-title function_">step</span>(<span class="hljs-number">0.1</span>)
  .<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
    shaderMaterial.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uWaresFrequency</span>.<span class="hljs-property">value</span> = value;
  });

gui
  .<span class="hljs-title function_">add</span>(params, <span class="hljs-string">"uScale"</span>)
  .<span class="hljs-title function_">min</span>(<span class="hljs-number">0</span>)
  .<span class="hljs-title function_">max</span>(<span class="hljs-number">0.2</span>)
  .<span class="hljs-title function_">step</span>(<span class="hljs-number">0.001</span>)
  .<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
    shaderMaterial.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uScale</span>.<span class="hljs-property">value</span> = value;
  });

<span class="hljs-comment">// æ›´å¤šå‚æ•°æ§åˆ¶...</span>
</code></pre>
<h2 data-id="heading-6">å‡ ä½•ä½“åˆ›å»º</h2>
<p>åˆ›å»ºä¸€ä¸ªå¹³é¢å‡ ä½•ä½“ä½œä¸ºåŸºç¡€å½¢çŠ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> plane = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(
  <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PlaneBufferGeometry</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1024</span>, <span class="hljs-number">1024</span>),
  shaderMaterial
);
plane.<span class="hljs-property">rotation</span>.<span class="hljs-property">x</span> = -<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">2</span>;

scene.<span class="hljs-title function_">add</span>(plane);
</code></pre>
<h2 data-id="heading-7">æ¸²æŸ“å¾ªç¯</h2>
<p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¸²æŸ“å¾ªç¯ä¸­æ›´æ–°æ—¶é—´å‚æ•°ï¼Œä»¥å®ç°åŠ¨ç”»æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> clock = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Clock</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params">t</span>) {
  <span class="hljs-keyword">const</span> elapsedTime = clock.<span class="hljs-title function_">getElapsedTime</span>();
  shaderMaterial.<span class="hljs-property">uniforms</span>.<span class="hljs-property">uTime</span>.<span class="hljs-property">value</span> = elapsedTime;
  <span class="hljs-title function_">requestAnimationFrame</span>(animate);
  renderer.<span class="hljs-title function_">render</span>(scene, camera);
}

<span class="hljs-title function_">animate</span>();
</code></pre>
<h2 data-id="heading-8">ç€è‰²å™¨è¯¦è§£</h2>
<h3 data-id="heading-9">é¡¶ç‚¹ç€è‰²å™¨ (Vertex Shader)</h3>
<p>é¡¶ç‚¹ç€è‰²å™¨è´Ÿè´£è®¡ç®—æ¯ä¸ªé¡¶ç‚¹çš„ä½ç½®å˜åŒ–ï¼Œåˆ›å»ºæ³¢æµªæ•ˆæœï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">precision lowp float;
uniform float uWaresFrequency;    // æ³¢çº¹é¢‘ç‡
uniform float uScale;             // ç¼©æ”¾ç³»æ•°
uniform float uNoiseFrequency;    // å™ªå£°é¢‘ç‡
uniform float uNoiseScale;        // å™ªå£°ç¼©æ”¾
uniform float uXzScale;           // XZå¹³é¢ç¼©æ”¾
uniform float uTime;              // æ—¶é—´å˜é‡
uniform float uXspeed;            // Xæ–¹å‘é€Ÿåº¦
uniform float uZspeed;            // Zæ–¹å‘é€Ÿåº¦
uniform float uNoiseSpeed;        // å™ªå£°é€Ÿåº¦

// è®¡ç®—å‡ºçš„é«˜åº¦ä¼ é€’ç»™ç‰‡å…ƒç€è‰²å™¨
varying float vElevation;

// éšæœºå‡½æ•°
float random (vec2 st) {
    return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);
}

// å™ªå£°å‡½æ•°
float noise (in vec2 _st) {
    vec2 i = floor(_st);
    vec2 f = fract(_st);

    float a = random(i);
    float b = random(i + vec2(1.0, 0.0));
    float c = random(i + vec2(0.0, 1.0));
    float d = random(i + vec2(1.0, 1.0));

    vec2 u = f * f * (3.0 - 2.0 * f);

    return mix(a, b, u.x) +
            (c - a)* u.y * (1.0 - u.x) +
            (d - b) * u.x * u.y;
}

void main(){
    vec4 modelPosition = modelMatrix * vec4(position,1.0);

    // è®¡ç®—æ³¢æµªé«˜åº¦
    float elevation = sin(modelPosition.x*uWaresFrequency+uTime*uXspeed)*sin(modelPosition.z*uWaresFrequency*uXzScale+uTime*uZspeed);

    // æ·»åŠ å™ªå£°æ•ˆæœ
    elevation += -abs(cnoise(vec2(modelPosition.xz*uNoiseFrequency+uTime*uNoiseSpeed))) *uNoiseScale;
    
    vElevation = elevation;
    
    elevation *= uScale;

    modelPosition.y += elevation;

    gl_Position = projectionMatrix * viewMatrix *modelPosition;
}
</code></pre>
<h3 data-id="heading-10">ç‰‡å…ƒç€è‰²å™¨ (Fragment Shader)</h3>
<p>ç‰‡å…ƒç€è‰²å™¨è´Ÿè´£è®¡ç®—æ¯ä¸ªåƒç´ çš„é¢œè‰²ï¼š</p>
<pre><code class="hljs language-glsl" lang="glsl">precision lowp float;

uniform vec3 uHighColor;    // é«˜å€¼é¢œè‰²
uniform vec3 uLowColor;     // ä½å€¼é¢œè‰²
varying float vElevation;   // ä»é¡¶ç‚¹ç€è‰²å™¨ä¼ å…¥çš„é«˜åº¦å€¼
uniform float uOpacity;     // é€æ˜åº¦

void main(){
    // æ ¹æ®é«˜åº¦å€¼è®¡ç®—é¢œè‰²æ’å€¼å› å­
    float a = (vElevation+1.0)/2.0;
    vec3 color = mix(uLowColor,uHighColor,a);
    gl_FragColor = vec4(color,uOpacity);
}
</code></pre>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>é€šè¿‡ä½¿ç”¨è‡ªå®šä¹‰ç€è‰²å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºéå¸¸å¤æ‚çš„è§†è§‰æ•ˆæœï¼Œå¦‚çƒŸé›¾ã€æ°´æ³¢å’Œäº‘æœµç­‰ã€‚å…³é”®åœ¨äºç†è§£é¡¶ç‚¹ç€è‰²å™¨å¦‚ä½•æ”¹å˜å‡ ä½•ä½“çš„å½¢çŠ¶ï¼Œä»¥åŠç‰‡å…ƒç€è‰²å™¨å¦‚ä½•æ§åˆ¶æœ€ç»ˆçš„é¢œè‰²è¾“å‡ºã€‚é…åˆå‚æ•°æ§åˆ¶é¢æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å®æ—¶è°ƒæ•´å„ç§å‚æ•°ï¼Œè·å¾—ä¸åŒçš„è§†è§‰æ•ˆæœã€‚</p>
<p>è¿™ç§æŠ€æœ¯åœ¨æ¸¸æˆå¼€å‘ã€æ¨¡æ‹Ÿä»¿çœŸå’Œè‰ºæœ¯åˆ›ä½œç­‰é¢†åŸŸæœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚æŒæ¡ç€è‰²å™¨ç¼–ç¨‹æ˜¯å®ç°é«˜çº§è§†è§‰æ•ˆæœçš„é‡è¦æŠ€èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trae å®˜å®£ï¼šæ”¯æŒSkillï¼]]></title>    <link>https://juejin.cn/post/7598023360733052938</link>    <guid>https://juejin.cn/post/7598023360733052938</guid>    <pubDate>2026-01-23T00:40:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598023360733052938" data-draft-id="7597434154797269018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trae å®˜å®£ï¼šæ”¯æŒSkillï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-23T00:40:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="golangå­¦ä¹ è®°"/> <meta itemprop="url" content="https://juejin.cn/user/4371313964100990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trae å®˜å®£ï¼šæ”¯æŒSkillï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313964100990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    golangå­¦ä¹ è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T00:40:34.000Z" title="Fri Jan 23 2026 00:40:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">0. ä¸ºä»€ä¹ˆä½ éœ€è¦â€œSkillâ€ï¼Ÿå› ä¸º AI ä¸èƒ½é çŒœï¼</h2>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼š</p>
<blockquote>
<p>â€œTraeï¼Œå¸®æˆ‘å†™ä¸ªé«˜æ€§èƒ½çš„ Go HTTP æœåŠ¡ã€‚â€<br/>
â†’ å®ƒè¿”å›ä¸€ä¸ª <code>net/http</code> çš„ Hello Worldï¼Œè¿ä¸­é—´ä»¶éƒ½æ²¡åŠ ã€‚</p>
</blockquote>
<p>é—®é¢˜åœ¨å“ªï¼Ÿ<strong>AI ä¸çŸ¥é“ä½ çš„â€œä¸Šä¸‹æ–‡æ ‡å‡†â€</strong>ã€‚ä½ å¿ƒç›®ä¸­çš„â€œé«˜æ€§èƒ½â€å¯èƒ½æ˜¯å¸¦è¿æ¥æ± ã€pprofã€ç»“æ„åŒ–æ—¥å¿—ã€ä¼˜é›…å…³é—­çš„å®Œæ•´éª¨æ¶ï¼Œä½† AI é»˜è®¤åªç»™æœ€ç®€ç­”æ¡ˆã€‚</p>
<p>è¿™æ—¶å€™ï¼Œ<strong>Trae Skill</strong> å°±æ´¾ä¸Šç”¨åœºäº†â€”â€”å®ƒè®©ä½ æŠŠâ€œä¸“ä¸šç»éªŒâ€å°è£…æˆå¯å¤ç”¨çš„æŠ€èƒ½åŒ…ï¼Œè®© AI æŒ‰ä½ çš„è§„èŒƒè¾“å‡ºä»£ç ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05730db006aa41c0aced5098c1a922de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769733634&amp;x-signature=hL214%2FSQdttMDuemNAHyHo6ufiY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">1. ä»€ä¹ˆæ˜¯ Trae Skillï¼Ÿ</h2>
<p>ç®€å•è¯´ï¼Œ<strong>Skill æ˜¯ä¸€æ®µé¢„å®šä¹‰çš„æŒ‡ä»¤ + ç¤ºä¾‹ + çº¦æŸ</strong>ï¼Œå‘Šè¯‰ Traeï¼š</p>
<ul>
<li>åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹è§¦å‘</li>
<li>åº”è¯¥éµå¾ªä»€ä¹ˆè§„èŒƒ</li>
<li>è¾“å‡ºä»€ä¹ˆæ ¼å¼çš„ä»£ç </li>
</ul>
<p>ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºï¼š</p>
<ul>
<li>ç»™ AI çš„â€œç¼–ç¨‹é£æ ¼æŒ‡å—â€</li>
<li>å›¢é˜Ÿçš„â€œä»£ç æ¨¡æ¿è‡ªåŠ¨åŒ–å™¨â€</li>
<li>ä½ ä¸ªäººçš„â€œæœ€ä½³å®è·µçŸ¥è¯†åº“â€</li>
</ul>
<hr/>
<h2 data-id="heading-2">2. å®æˆ˜ï¼šåˆ›å»ºä¸€ä¸ª â€œGo å¾®æœåŠ¡éª¨æ¶â€ Skill</h2>
<h3 data-id="heading-3">åœºæ™¯</h3>
<p>ä½ ç»å¸¸è¦æ–°å»º Go å¾®æœåŠ¡é¡¹ç›®ï¼Œæ¯æ¬¡éƒ½å¾—æ‰‹åŠ¨å†™ï¼š</p>
<ul>
<li>å¸¦ Gin çš„è·¯ç”±</li>
<li>zap æ—¥å¿—</li>
<li>pprof ç›‘æ§</li>
<li>ä¼˜é›…å…³é—­</li>
<li>é…ç½®åŠ è½½ï¼ˆViperï¼‰</li>
</ul>
<p>å¤ªé‡å¤äº†ï¼ä¸å¦‚æ•™ Trae ä¸€æ¬¡ï¼Œä»¥åä¸€å¥è¯ç”Ÿæˆã€‚</p>
<h3 data-id="heading-4">æ­¥éª¤ 1ï¼šåˆ›å»ºskill</h3>
<p>æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ç›´æ¥è·Ÿtraeå¯¹è¯ï¼Œè®©AIåˆ›å»ºä¸€ä¸ªskill</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8ca701d1e8b4f018b24e206c33e57bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29sYW5n5a2m5Lmg6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769733634&amp;x-signature=4T9OsAc968KR0GfYBrP%2F7IiimTU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºskillï¼Œæ–‡ä»¶ä½ç½®åœ¨./trea/skillsä¸‹é¢</p>
<h3 data-id="heading-5">æ­¥éª¤ 2ï¼šå¡«å†™ Skill å…ƒä¿¡æ¯</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Name:</span> <span class="hljs-string">go-microservice-skeleton</span>
<span class="hljs-attr">Trigger:</span> <span class="hljs-string">"create a Go microservice with Gin, zap, pprof, and graceful shutdown"</span>
<span class="hljs-attr">Description:</span> <span class="hljs-string">ç”Ÿæˆç¬¦åˆæˆ‘å›¢é˜Ÿè§„èŒƒçš„</span> <span class="hljs-string">Go</span> <span class="hljs-string">å¾®æœåŠ¡åŸºç¡€éª¨æ¶</span>
</code></pre>
<h3 data-id="heading-6">æ­¥éª¤ 3ï¼šç¼–å†™ Skill Prompt</h3>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¸€ä¸ªèµ„æ·± Go åç«¯å·¥ç¨‹å¸ˆï¼Œè¯·æ ¹æ®ç”¨æˆ·éœ€æ±‚ç”Ÿæˆä¸€ä¸ªç”Ÿäº§çº§å¾®æœåŠ¡éª¨æ¶ï¼Œè¦æ±‚ï¼š

1. ä½¿ç”¨ Gin ä½œä¸º Web æ¡†æ¶
2. æ—¥å¿—ä½¿ç”¨ uber/zapï¼Œå¸¦ JSON æ ¼å¼å’Œ level æ§åˆ¶
3. è‡ªåŠ¨å¼€å¯ net/http/pprofï¼ˆä»…åœ¨ debug æ¨¡å¼ï¼‰
4. æ”¯æŒé€šè¿‡ config.yaml åŠ è½½é…ç½®ï¼ˆç”¨ Viperï¼‰
5. å®ç°ä¼˜é›…å…³é—­ï¼ˆç›‘å¬ SIGINT/SIGTERMï¼‰
6. é¡¹ç›®ç»“æ„æ¸…æ™°ï¼šcmd/, internal/, pkg/, config/

è¯·è¾“å‡ºå®Œæ•´çš„ main.go å’Œç›®å½•ç»“æ„è¯´æ˜ã€‚
</code></pre>
<h3 data-id="heading-7">æ­¥éª¤ 4ï¼šæ·»åŠ ç¤ºä¾‹ï¼ˆå¯é€‰ä½†å¼ºçƒˆæ¨èï¼‰</h3>
<p>æä¾›ä¸€ä¸ªä½ è®¤å¯çš„ <code>main.go</code> ç‰‡æ®µä½œä¸ºå‚è€ƒï¼Œå¸®åŠ© Trae ç†è§£ä½ çš„ä»£ç é£æ ¼ã€‚</p>
<h3 data-id="heading-8">æ­¥éª¤ 5ï¼šä¿å­˜å¹¶å¯ç”¨</h3>
<hr/>
<h2 data-id="heading-9">3. ä½¿ç”¨ Skillï¼šä¸€å¥è¯ç”Ÿæˆä¸“ä¸šä»£ç </h2>
<p>ç°åœ¨ï¼Œåœ¨èŠå¤©çª—å£è¾“å…¥ï¼š</p>
<blockquote>
<p>â€œç”¨ go-microservice-skeleton åˆ›å»ºä¸€ä¸ªç”¨æˆ·æœåŠ¡â€</p>
</blockquote>
<p>Trae ä¼šç«‹åˆ»è¿”å›ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// main.go</span>
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"context"</span>
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"net/http"</span>
    _ <span class="hljs-string">"net/http/pprof"</span>
    <span class="hljs-string">"os"</span>
    <span class="hljs-string">"os/signal"</span>
    <span class="hljs-string">"syscall"</span>
    <span class="hljs-string">"time"</span>

    <span class="hljs-string">"github.com/gin-gonic/gin"</span>
    <span class="hljs-string">"go.uber.org/zap"</span>
    <span class="hljs-string">"github.com/spf13/viper"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åŠ è½½é…ç½®</span>
    viper.SetConfigName(<span class="hljs-string">"config"</span>)
    viper.SetConfigType(<span class="hljs-string">"yaml"</span>)
    viper.AddConfigPath(<span class="hljs-string">"."</span>)
    <span class="hljs-keyword">if</span> err := viper.ReadInConfig(); err != <span class="hljs-literal">nil</span> {
        log.Fatal(<span class="hljs-string">"config error:"</span>, err)
    }

    <span class="hljs-comment">// åˆå§‹åŒ–æ—¥å¿—</span>
    logger, _ := zap.NewProduction()
    <span class="hljs-keyword">defer</span> logger.Sync()

    <span class="hljs-comment">// Gin</span>
    r := gin.Default()
    r.GET(<span class="hljs-string">"/health"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(c *gin.Context)</span></span> {
        c.JSON(<span class="hljs-number">200</span>, gin.H{<span class="hljs-string">"status"</span>: <span class="hljs-string">"ok"</span>})
    })

    <span class="hljs-comment">// å¯åŠ¨ HTTP æœåŠ¡</span>
    srv := &amp;http.Server{
        Addr:    <span class="hljs-string">":8080"</span>,
        Handler: r,
    }

    <span class="hljs-comment">// å¯åŠ¨ pprofï¼ˆä»…è°ƒè¯•ï¼‰</span>
    <span class="hljs-keyword">if</span> viper.GetBool(<span class="hljs-string">"debug"</span>) {
        <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
            http.ListenAndServe(<span class="hljs-string">"localhost:6060"</span>, <span class="hljs-literal">nil</span>)
        }()
    }

    <span class="hljs-comment">// ä¼˜é›…å…³é—­</span>
    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> err := srv.ListenAndServe(); err != <span class="hljs-literal">nil</span> &amp;&amp; err != http.ErrServerClosed {
            logger.Fatal(<span class="hljs-string">"server failed"</span>, zap.Error(err))
        }
    }()

    quit := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> os.Signal, <span class="hljs-number">1</span>)
    signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM)
    &lt;-quit
    logger.Info(<span class="hljs-string">"shutting down server..."</span>)

    ctx, cancel := context.WithTimeout(context.Background(), <span class="hljs-number">5</span>*time.Second)
    <span class="hljs-keyword">defer</span> cancel()
    <span class="hljs-keyword">if</span> err := srv.Shutdown(ctx); err != <span class="hljs-literal">nil</span> {
        logger.Fatal(<span class="hljs-string">"server forced to shutdown"</span>, zap.Error(err))
    }
}
</code></pre>
<p>âœ… å®Œå…¨ç¬¦åˆä½ çš„è§„èŒƒï¼<br/>
âœ… æ— éœ€å¤åˆ¶ç²˜è´´æ—§é¡¹ç›®<br/>
âœ… è¿˜è‡ªåŠ¨å¤„ç†äº† pprof çš„å¼€å…³é€»è¾‘</p>
<hr/>
<h2 data-id="heading-10">4. Skill çš„é«˜çº§ç©æ³•</h2>
<h3 data-id="heading-11">âœ… å›¢é˜Ÿå…±äº«</h3>
<ul>
<li>æŠŠ Skill å¯¼å‡ºä¸º JSONï¼Œå›¢é˜Ÿæˆå‘˜ä¸€é”®å¯¼å…¥</li>
<li>ç»Ÿä¸€ä»£ç é£æ ¼ï¼Œæ–°äººä¸Šæ‰‹å¿«</li>
</ul>
<h3 data-id="heading-12">âœ… å¤šè¯­è¨€æ”¯æŒ</h3>
<ul>
<li>ä¸åªæ˜¯ Goï¼ä½ ä¹Ÿå¯ä»¥åˆ›å»ºï¼š
<ul>
<li><code>react-ts-component</code>ï¼šç”Ÿæˆå¸¦ Storybook å’Œæµ‹è¯•çš„ TSX ç»„ä»¶</li>
<li><code>terraform-aliyun-ecs</code>ï¼šæ ¹æ®ä½ çš„é˜¿é‡Œäº‘è´¦å·ä¹ æƒ¯ç”Ÿæˆ ECS æ¨¡æ¿</li>
</ul>
</li>
</ul>
<h3 data-id="heading-13">âœ… åŠ¨æ€å‚æ•°</h3>
<p>æœªæ¥ Trae å¯èƒ½æ”¯æŒï¼š</p>
<pre><code class="hljs language-text" lang="text">create user-service with port=9090, db=mysql
</code></pre>
<p>Skill è‡ªåŠ¨æ›¿æ¢æ¨¡æ¿ä¸­çš„å˜é‡ï¼</p>
<hr/>
<h2 data-id="heading-14">5. ä¸ºä»€ä¹ˆ Trae Skill æ¯”æ™®é€š prompt æ›´å¼ºï¼Ÿ</h2>






























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>æ™®é€š Prompt</th><th>Trae Skill</th></tr></thead><tbody><tr><td>å¤ç”¨æ€§</td><td>æ¯æ¬¡éƒ½è¦é‡å†™</td><td>ä¸€æ¬¡å®šä¹‰ï¼Œæ°¸ä¹…å¤ç”¨</td></tr><tr><td>è§¦å‘ç²¾å‡†åº¦</td><td>å®¹æ˜“è¯¯è§¦å‘</td><td>é€šè¿‡å…³é”®è¯/æ­£åˆ™ç²¾ç¡®åŒ¹é…</td></tr><tr><td>å›¢é˜Ÿåä½œ</td><td>æ— æ³•å…±äº«</td><td>å¯å¯¼å‡º/å¯¼å…¥ï¼Œå›¢é˜Ÿæ ‡å‡†åŒ–</td></tr><tr><td>ä¸Šä¸‹æ–‡éš”ç¦»</td><td>å®¹æ˜“è¢«å…¶ä»–å¯¹è¯å¹²æ‰°</td><td>ç‹¬ç«‹å‘½åç©ºé—´ï¼Œå¹²å‡€å¯é </td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">6. å°ç»“ï¼šæŠŠç»éªŒå˜æˆâ€œå¯æ‰§è¡Œçš„çŸ¥è¯†â€</h2>
<p>Trae Skill çš„æœ¬è´¨ï¼Œæ˜¯<strong>å°†ä½ å¤šå¹´ç§¯ç´¯çš„å·¥ç¨‹ç»éªŒï¼Œè½¬åŒ–ä¸º AI å¯æ‰§è¡Œçš„æŒ‡ä»¤</strong>ã€‚å®ƒä¸æ˜¯å–ä»£ä½ ï¼Œè€Œæ˜¯è®©ä½ ä»â€œé‡å¤åŠ³åŠ¨â€ä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸“æ³¨çœŸæ­£æœ‰åˆ›é€ åŠ›çš„éƒ¨åˆ†ã€‚</p>
<blockquote>
<p>å°±åƒä½ ä¸ä¼šæ¯æ¬¡ç…®å’–å•¡éƒ½ä»ç§å’–å•¡è±†å¼€å§‹ï¼Œ<br/>
ä¹Ÿä¸è¯¥æ¯æ¬¡å†™æœåŠ¡éƒ½ä» <code>import "fmt"</code> å¼€å§‹ã€‚</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ” æˆ‘å¼€æºäº† `miniaudit`ï¼šä¸€ä¸ªåŸºäº AST çš„å¾®ä¿¡å°ç¨‹åºå®¡æ ¸é¢„æ£€ CLIï¼Œç”¨é™æ€åˆ†ææå‰æ‹¦æˆª 13+ é«˜é¢‘æå®¡é›·åŒº]]></title>    <link>https://juejin.cn/post/7598029481508896787</link>    <guid>https://juejin.cn/post/7598029481508896787</guid>    <pubDate>2026-01-23T01:54:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598029481508896787" data-draft-id="7598062246573555766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ” æˆ‘å¼€æºäº† `miniaudit`ï¼šä¸€ä¸ªåŸºäº AST çš„å¾®ä¿¡å°ç¨‹åºå®¡æ ¸é¢„æ£€ CLIï¼Œç”¨é™æ€åˆ†ææå‰æ‹¦æˆª 13+ é«˜é¢‘æå®¡é›·åŒº"/> <meta itemprop="keywords" content="å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2026-01-23T01:54:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bsstar"/> <meta itemprop="url" content="https://juejin.cn/user/870468940991031"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ” æˆ‘å¼€æºäº† `miniaudit`ï¼šä¸€ä¸ªåŸºäº AST çš„å¾®ä¿¡å°ç¨‹åºå®¡æ ¸é¢„æ£€ CLIï¼Œç”¨é™æ€åˆ†ææå‰æ‹¦æˆª 13+ é«˜é¢‘æå®¡é›·åŒº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/870468940991031/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bsstar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T01:54:57.000Z" title="Fri Jan 23 2026 01:54:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>â€œåˆåŒå’å•è¢«æ‹’äº†ï¼Ÿå°±å› ä¸º <code>onLoad</code> é‡Œè°ƒäº†ä¸ª <code>wx.getUserProfile</code>ï¼Ÿâ€</p>
</blockquote>
<p>ä½œä¸ºé•¿æœŸç»´æŠ¤å°ç¨‹åºçš„å¼€å‘è€…ï¼Œæˆ‘æ·±çŸ¥å¾®ä¿¡å®¡æ ¸è§„åˆ™çš„â€œæ¨¡ç³Šæ€§â€å’Œâ€œæ»åæ€§â€ã€‚äººå·¥æ’æŸ¥æˆæœ¬é«˜ã€æ˜“é—æ¼ï¼Œè€Œå®˜æ–¹åˆä¸æä¾›æœ¬åœ°æ ¡éªŒå·¥å…·ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘ç”¨ <strong>Node.js + Babel Parserï¼ˆASTï¼‰+ é™æ€åˆ†æ</strong>ï¼Œæ‰“é€ äº† <strong><code>miniaudit</code></strong> â€”â€” ä¸€ä¸ªä¸“ä¸ºå°ç¨‹åºæå®¡è®¾è®¡çš„<strong>æœ¬åœ°é¢„æ£€ CLI å·¥å…·</strong>ã€‚</p>
<h3 data-id="heading-0">ğŸ§  æŠ€æœ¯äº®ç‚¹</h3>
<ul>
<li><strong>ç²¾å‡† AST åˆ†æ</strong>ï¼šä¸åªæ˜¯å­—ç¬¦ä¸²åŒ¹é…ï¼<br/>
èƒ½è¯†åˆ« <code>onLaunch</code>/<code>onLoad</code>/<code>onShow</code> ä¸­çš„å‡½æ•°è°ƒç”¨é“¾ï¼Œé¿å…è¯¯æŠ¥</li>
<li><strong>å¤šæ–‡ä»¶ååŒæ£€æµ‹</strong>ï¼š<br/>
ç»“åˆ <code>app.json</code>ï¼ˆæƒé™å£°æ˜ï¼‰ã€WXMLï¼ˆé»˜è®¤å‹¾é€‰ï¼‰ã€JSï¼ˆAPI è°ƒç”¨ï¼‰ç»¼åˆåˆ¤æ–­</li>
<li><strong>é›¶ä¾èµ–ã€é«˜æ€§èƒ½</strong>ï¼š<br/>
10,000 è¡Œä»£ç  &lt; 2 ç§’ï¼Œä¸æ±¡æŸ“é¡¹ç›®ä¾èµ–</li>
<li><strong>CI/CD å‹å¥½</strong>ï¼š<br/>
æ”¯æŒ <code>--format json</code>ï¼Œè½»æ¾é›†æˆåˆ° GitHub Actions</li>
</ul>
<h3 data-id="heading-1">ğŸ› ï¸ æ ¸å¿ƒè§„åˆ™ç¤ºä¾‹ï¼ˆR12ï¼šè¿›å…¥å³æˆæƒï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// lib/rules/rule12-immediate-auth-on-launch.js</span>
<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@babel/traverse'</span>).<span class="hljs-property">default</span>;

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
    <span class="hljs-attr">id</span>: <span class="hljs-string">'R12'</span>,
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">check</span>(<span class="hljs-params">{ jsFiles, parseJS }</span>) {
        <span class="hljs-keyword">const</span> sensitiveApis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">'login'</span>, <span class="hljs-string">'getUserProfile'</span>, <span class="hljs-string">'getPhoneNumber'</span>]);
        <span class="hljs-keyword">const</span> entryMethods = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">'onLaunch'</span>, <span class="hljs-string">'onLoad'</span>, <span class="hljs-string">'onShow'</span>]);

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> file <span class="hljs-keyword">of</span> jsFiles) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">const</span> ast = <span class="hljs-title function_">parseJS</span>(file);
                <span class="hljs-keyword">let</span> found = <span class="hljs-literal">null</span>;

                <span class="hljs-comment">// éå†æ‰€æœ‰ CallExpressionï¼Œæ‰¾ App æˆ– Page</span>
                <span class="hljs-title function_">traverse</span>(ast, {
                    <span class="hljs-title class_">CallExpression</span>(path) {
                        <span class="hljs-keyword">if</span> (found) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// å·²æ‰¾åˆ°ï¼Œæå‰é€€å‡º</span>

                        <span class="hljs-keyword">const</span> callee = path.<span class="hljs-title function_">get</span>(<span class="hljs-string">'callee'</span>);
                        <span class="hljs-keyword">let</span> targetName = <span class="hljs-literal">null</span>;

                        <span class="hljs-keyword">if</span> (callee.<span class="hljs-title function_">isIdentifier</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'App'</span> })) {
                            targetName = <span class="hljs-string">'App'</span>;
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (callee.<span class="hljs-title function_">isIdentifier</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'Page'</span> })) {
                            targetName = <span class="hljs-string">'Page'</span>;
                        }

                        <span class="hljs-keyword">if</span> (targetName) {

                            <span class="hljs-keyword">if</span> (path.<span class="hljs-property">node</span>.<span class="hljs-property">arguments</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
                                <span class="hljs-keyword">return</span>;
                            }

                            <span class="hljs-keyword">const</span> configArg = path.<span class="hljs-title function_">get</span>(<span class="hljs-string">'arguments'</span>)[<span class="hljs-number">0</span>];
                            <span class="hljs-keyword">if</span> (!configArg.<span class="hljs-title function_">isObjectExpression</span>()) {
                                <span class="hljs-keyword">return</span>;
                            }

                            <span class="hljs-keyword">const</span> props = configArg.<span class="hljs-title function_">get</span>(<span class="hljs-string">'properties'</span>);

                            <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(props)) {
                                <span class="hljs-keyword">return</span>;
                            }

                            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> propPath <span class="hljs-keyword">of</span> props) {
                                <span class="hljs-keyword">let</span> methodName = <span class="hljs-string">''</span>;
                                <span class="hljs-keyword">let</span> valuePath = <span class="hljs-literal">null</span>;

                                <span class="hljs-comment">// âœ… æ”¯æŒ ObjectMethod (onLaunch() {})</span>
                                <span class="hljs-keyword">if</span> (propPath.<span class="hljs-title function_">isObjectMethod</span>()) {
                                    <span class="hljs-keyword">const</span> keyNode = propPath.<span class="hljs-property">node</span>.<span class="hljs-property">key</span>;
                                    <span class="hljs-keyword">if</span> (keyNode.<span class="hljs-property">type</span> === <span class="hljs-string">'Identifier'</span>) {
                                        methodName = keyNode.<span class="hljs-property">name</span>;
                                    } <span class="hljs-keyword">else</span> {
                                        <span class="hljs-keyword">continue</span>;
                                    }
                                    valuePath = propPath.<span class="hljs-title function_">get</span>(<span class="hljs-string">'body'</span>); <span class="hljs-comment">// ObjectMethod çš„å‡½æ•°ä½“</span>

                                    <span class="hljs-comment">// âœ… æ”¯æŒ ObjectProperty (onLaunch: function() {})</span>
                                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (propPath.<span class="hljs-title function_">isObjectProperty</span>()) {
                                    <span class="hljs-keyword">const</span> keyNode = propPath.<span class="hljs-property">node</span>.<span class="hljs-property">key</span>;
                                    <span class="hljs-keyword">if</span> (keyNode.<span class="hljs-property">type</span> === <span class="hljs-string">'Identifier'</span>) {
                                        methodName = keyNode.<span class="hljs-property">name</span>;
                                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (keyNode.<span class="hljs-property">type</span> === <span class="hljs-string">'StringLiteral'</span>) {
                                        methodName = keyNode.<span class="hljs-property">value</span>;
                                    } <span class="hljs-keyword">else</span> {
                                        <span class="hljs-keyword">continue</span>;
                                    }
                                    valuePath = propPath.<span class="hljs-title function_">get</span>(<span class="hljs-string">'value'</span>);

                                } <span class="hljs-keyword">else</span> {
                                    <span class="hljs-keyword">continue</span>;
                                }

                                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯å…¥å£æ–¹æ³•</span>
                                <span class="hljs-keyword">if</span> (!entryMethods.<span class="hljs-title function_">has</span>(methodName)) {
                                    <span class="hljs-keyword">continue</span>;
                                }

                                <span class="hljs-comment">// ç¡®ä¿ value æ˜¯å‡½æ•°ä½“ï¼ˆObjectMethod çš„ body æ˜¯ BlockStatementï¼‰</span>
                                <span class="hljs-keyword">if</span> (!valuePath || !valuePath.<span class="hljs-property">isBlockStatement</span> &amp;&amp; !valuePath.<span class="hljs-title function_">isFunction</span>()) {
                                    <span class="hljs-keyword">continue</span>;
                                }


                                <span class="hljs-comment">// åœ¨å‡½æ•°ä½“å†…æŸ¥æ‰¾ wx. æ•æ„Ÿè°ƒç”¨</span>
                                valuePath.<span class="hljs-title function_">traverse</span>({
                                    <span class="hljs-title class_">CallExpression</span>(innerPath) {
                                        <span class="hljs-keyword">if</span> (found) <span class="hljs-keyword">return</span>;

                                        <span class="hljs-keyword">const</span> innerCallee = innerPath.<span class="hljs-title function_">get</span>(<span class="hljs-string">'callee'</span>);
                                        <span class="hljs-keyword">if</span> (
                                            innerCallee.<span class="hljs-title function_">isMemberExpression</span>() &amp;&amp;
                                            innerCallee.<span class="hljs-title function_">get</span>(<span class="hljs-string">'object'</span>).<span class="hljs-title function_">isIdentifier</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'wx'</span> }) &amp;&amp;
                                            innerCallee.<span class="hljs-title function_">get</span>(<span class="hljs-string">'property'</span>).<span class="hljs-title function_">isIdentifier</span>()
                                        ) {
                                            <span class="hljs-keyword">const</span> apiName = innerCallee.<span class="hljs-property">node</span>.<span class="hljs-property">property</span>.<span class="hljs-property">name</span>;

                                            <span class="hljs-keyword">if</span> (sensitiveApis.<span class="hljs-title function_">has</span>(apiName)) {
                                                found = {
                                                    file,
                                                    <span class="hljs-attr">line</span>: innerPath.<span class="hljs-property">node</span>.<span class="hljs-property">loc</span>?.<span class="hljs-property">start</span>.<span class="hljs-property">line</span> || <span class="hljs-string">'?'</span>,
                                                    <span class="hljs-attr">api</span>: apiName,
                                                    <span class="hljs-attr">method</span>: methodName
                                                };
                                                innerPath.<span class="hljs-title function_">stop</span>();
                                            } <span class="hljs-keyword">else</span> {
                                            }
                                        }
                                    }
                                });
                            }
                        }
                    }
                });

                <span class="hljs-keyword">if</span> (found) {

                    <span class="hljs-keyword">return</span> {
                        <span class="hljs-attr">level</span>: <span class="hljs-string">'error'</span>,
                        <span class="hljs-attr">message</span>: <span class="hljs-string">`åœ¨ <span class="hljs-subst">${found.method}</span> ä¸­ç«‹å³è°ƒç”¨ wx.<span class="hljs-subst">${found.api}</span>ï¼ˆæœªå…ˆæä¾›åŠŸèƒ½ä½“éªŒï¼‰`</span>,
                        <span class="hljs-attr">location</span>: <span class="hljs-string">`<span class="hljs-subst">${found.file}</span>:<span class="hljs-subst">${found.line}</span>`</span>,
                        <span class="hljs-attr">suggestion</span>: <span class="hljs-string">'è¯·å…ˆè®©ç”¨æˆ·æµè§ˆ/ä½¿ç”¨æ ¸å¿ƒåŠŸèƒ½ï¼Œå†åœ¨ç”¨æˆ·ä¸»åŠ¨æ“ä½œæ—¶è¯·æ±‚æˆæƒ'</span>
                    };
                } <span class="hljs-keyword">else</span> {
                }
            } <span class="hljs-keyword">catch</span> (e) {
            }
        }

        <span class="hljs-keyword">return</span> { <span class="hljs-attr">level</span>: <span class="hljs-string">'pass'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'æœªå‘ç°å¯åŠ¨æ—¶ç«‹å³æˆæƒ'</span> };
    }
};
</code></pre>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment">### â–¶ï¸ å¿«é€Ÿä½“éªŒ</span>
```bash
npx miniaudit ./my-miniprogram --fix
</code></pre>
<ul>
<li>è‡ªåŠ¨æ³¨é‡Š <code>console.log</code> / <code>debugger</code></li>
<li>è¾“å‡ºå½©è‰²æŠ¥å‘Šï¼Œé«˜å±é¡¹æ ‡çº¢</li>
</ul>
<h3 data-id="heading-2">ğŸ¤– CI é›†æˆç¤ºä¾‹ï¼ˆGitHub Actionsï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">miniaudit</span>
  <span class="hljs-attr">run:</span> <span class="hljs-string">npx</span> <span class="hljs-string">miniaudit</span> <span class="hljs-string">.</span>
  <span class="hljs-comment"># è‹¥å‘ç°é«˜å±é—®é¢˜ï¼Œexit code â‰  0ï¼Œè‡ªåŠ¨é˜»æ–­åˆå¹¶</span>
</code></pre>
<h3 data-id="heading-3">ğŸŒˆ å¼€æºå…±å»º</h3>
<ul>
<li>GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbsstar%2Fminiaudit" target="_blank" title="https://github.com/bsstar/miniaudit" ref="nofollow noopener noreferrer">github.com/bsstar/miniâ€¦</a></li>
<li>Gitee: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fbsstar2000%2Fminiaudit" target="_blank" title="https://gitee.com/bsstar2000/miniaudit" ref="nofollow noopener noreferrer">gitee.com/bsstar2000/â€¦</a></li>
<li>è§„åˆ™å¯æ’æ‹”ï¼šåªéœ€åœ¨ <code>lib/rules/</code> æ–°å¢ JS æ–‡ä»¶å³å¯æ‰©å±•</li>
</ul>
<blockquote>
<p>ğŸ’¬ å¦‚æœä½ æœ‰æ›´å¤šå®¡æ ¸é›·åŒºç»éªŒï¼Œæ¬¢è¿ PR æ–°è§„åˆ™ï¼è®©ç¤¾åŒºä¸€èµ·å‘Šåˆ«â€œæå®¡ç„¦è™‘â€ã€‚</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Cowork å¾ˆé¦™å´ç”¨ä¸äº†ï¼Ÿè¯•è¯•è¿™ä¸ªå¼€æºå¹³æ›¿ï¼]]></title>    <link>https://juejin.cn/post/7598029481509077011</link>    <guid>https://juejin.cn/post/7598029481509077011</guid>    <pubDate>2026-01-23T02:10:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598029481509077011" data-draft-id="7598024433911808054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cowork å¾ˆé¦™å´ç”¨ä¸äº†ï¼Ÿè¯•è¯•è¿™ä¸ªå¼€æºå¹³æ›¿ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Claude"/> <meta itemprop="datePublished" content="2026-01-23T02:10:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cowork å¾ˆé¦™å´ç”¨ä¸äº†ï¼Ÿè¯•è¯•è¿™ä¸ªå¼€æºå¹³æ›¿ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T02:10:52.000Z" title="Fri Jan 23 2026 02:10:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰å‡ å¤©å¤§å®¶éƒ½åœ¨è®¨è®º <code>Cowork</code>ï¼Œç”±äº <code>Win</code> ç‰ˆå°šæœªå‡ºæ¥ï¼Œæˆ‘è¿˜æ²¡äº²è‡ªä¸Šæ‰‹è¯•è¯•ï¼Œä½†æ˜¯ä¸å¦¨ç¢æˆ‘ä»¬èŠèŠè¿™ä¸ªç°è±¡çº§çš„äº§å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec07c2f973e147f4a2e6df9c80f7257a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769739055&amp;x-signature=UgLR%2BGwI%2FnorYydkx4Ev2UeDv6o%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªäº§å“çš„è¯ç”Ÿæœ¬èº«å°±æå…·ä¼ å¥‡æ€§ã€‚</p>
<p>â€œ<strong>The entire product was built in 10 days. And all the code was written by Claude itself.</strong>â€</p>
<p>â€œæ•´ä¸ªäº§å“åœ¨ 10 å¤©å†…å»ºæˆã€‚è€Œä¸”æ‰€æœ‰ä»£ç éƒ½æ˜¯ç”± <code>Claude</code> è‡ªå·±ç¼–å†™çš„ã€‚â€</p>
<p>è¿™å†æ¬¡è¯æ˜äº†ç¼–ç¨‹èŒƒå¼çš„è½¬å˜ã€‚</p>
<ul>
<li>å¼€å‘æ¨¡å¼ä»çº¿æ€§åˆ°å¹¶è¡Œï¼šä»¥å‰å¾—ä¸€æ­¥æ­¥æ¥ï¼Œå†™å®Œä¸€ä¸ªæ¨¡å—æ‰èƒ½å¼€å§‹ä¸‹ä¸€ä¸ªï¼›ç°åœ¨æœ‰äº† AIï¼Œå¤šä¸ªåŠŸèƒ½å¯ä»¥å¹¶è¡Œæ¨è¿›ï¼Œæ•ˆç‡ç›´æ¥æ‹‰æ»¡ã€‚</li>
<li>äººæ‰ä»ç¼–ç è€…åˆ°æ¶æ„å¸ˆï¼šå†™ä»£ç ä¸å†æ˜¯æ ¸å¿ƒç«äº‰åŠ›ï¼ŒçœŸæ­£å€¼é’±çš„æ˜¯èƒ½æ¸…æ™°å®šä¹‰é—®é¢˜ã€è®¾è®¡ç³»ç»Ÿï¼Œå¹¶å¼•å¯¼ AI é«˜æ•ˆåä½œã€‚</li>
<li>ä¼ä¸šç»„ç»‡ä»å¤§å‹å›¢é˜Ÿåˆ°å°å‹å›¢é˜Ÿï¼šè¿‡å»è¦å‡ åäººçš„é¡¹ç›®ç»„ï¼Œç°åœ¨ä¸‰äº”ä¸ªäººé…ä¸Šåˆé€‚çš„ AI å·¥å…·ï¼Œå¾ˆå¿«å°±èƒ½è§åˆ°æˆæ•ˆã€‚</li>
</ul>
<p>æˆ‘ä»¬å›¢é˜Ÿå¾ˆæ—©å°±å¼€å§‹ç”¨ AI ç¼–ç¨‹äº†ï¼Œè™½ç„¶ç›®å‰è¿˜è¾¾ä¸åˆ°ä»–ä»¬è¿™ä¹ˆç¦»è°±çš„ç¨‹åº¦ï¼Œä½†æ•ˆç‡æå‡å·²ç»éå¸¸æ˜æ˜¾äº†ã€‚</p>
<p>ä½ ç¡®å®šè¿˜ä¸è¯•è¯•å—ï¼Ÿ</p>
<p>å› ä¸ºå„ç§åŸå› ï¼Œç›®å‰ <code>Claude Cowork</code> ä½¿ç”¨è¿˜ä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c12f9747d5e14d8a800a4a361044324f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769739055&amp;x-signature=WWuqcsOgCRbWyQZe0vuz5RWXBAw%3D" alt="" loading="lazy"/></p>
<p>å› æ­¤æˆ‘å°±æ‰¾äº†ä¸‹æ˜¯å¦æœ‰å¼€æºæ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>æœç„¶ï¼Œå¼€æºç¤¾åŒºåˆä¸€æ¬¡ç»™å‡ºäº†æˆ‘æƒ³è¦çš„ã€‚</p>
<p>1æœˆ12æ—¥ <code>Claude</code> å‘å¸ƒ <code>Cowork</code>ï¼Œ1æœˆ13æ—¥ï¼Œ<code>OpenCowork</code> å»ºåº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenCoworkAI%2Fopen-cowork%25E3%2580%2582" target="_blank" title="https://github.com/OpenCoworkAI/open-cowork%E3%80%82" ref="nofollow noopener noreferrer">github.com/OpenCoworkAâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9ab8765ec694e53aba6ae88d7e5c395~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769739055&amp;x-signature=5fsJwbTaJnu8TWEpOAdKLbSJ6jU%3D" alt="" loading="lazy"/></p>
<p>åªæ˜¯æˆ‘å‘ç°çš„æœ‰äº›æ™šäº†ï¼Œè¿˜æ²¡æ¥å¾—åŠå°è¯•ï¼Œè¿™ä¸¤å¤©å°è¯•ä¸‹å†ç»§ç»­åˆ†äº«å“ˆ~</p>
<p>å¦‚æœä½ ç­‰ä¸åŠï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œå°è¯•å“ˆï¼Œä¸è¿‡ï¼Œä¸€å®šæ³¨æ„ä¿æŠ¤æ•°æ®ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®¶äººä»¬è°æ‡‚å•Šï¼ŒOpenChatçŸ¥è¯†åº“å¤ªå¥½ç”¨äº†ï¼]]></title>    <link>https://juejin.cn/post/7598043378018336777</link>    <guid>https://juejin.cn/post/7598043378018336777</guid>    <pubDate>2026-01-23T01:57:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598043378018336777" data-draft-id="7598071804970090534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®¶äººä»¬è°æ‡‚å•Šï¼ŒOpenChatçŸ¥è¯†åº“å¤ªå¥½ç”¨äº†ï¼"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-23T01:57:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LiDayDay"/> <meta itemprop="url" content="https://juejin.cn/user/4464446331950568"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®¶äººä»¬è°æ‡‚å•Šï¼ŒOpenChatçŸ¥è¯†åº“å¤ªå¥½ç”¨äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4464446331950568/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LiDayDay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T01:57:15.000Z" title="Fri Jan 23 2026 01:57:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢ï¼š</strong></p>
<p>ğŸŸ¡ å¿«é€Ÿä½“éªŒ &amp; é¡¹ç›®åé¦ˆ
æ¬¢è¿å¤§å®¶ä¸‹è½½å¹¶ä½“éªŒæˆ‘ä»¬æœ€æ–°ç‰ˆæœ¬çš„ OpenChatï¼Œäº²è‡ªæ„Ÿå—æœ¬åœ°å¤šæ¨¡å‹è°ƒåº¦ä¸æ™ºèƒ½åŠ©æ‰‹èåˆçš„å¼ºå¤§èƒ½åŠ›ã€‚</p>
<p>ğŸŒ <strong>å®˜æ–¹ä¸»é¡µ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffastaistack.github.io%2FOpenChat%2F" target="_blank" title="https://fastaistack.github.io/OpenChat/" ref="nofollow noopener noreferrer">æ¬¢è¿è®¿é—® OpenChat å®˜æ–¹ç½‘ç«™ï¼Œäº†è§£æ›´å¤šå…³äºæˆ‘ä»¬çš„å›¢é˜Ÿæ„¿æ™¯ã€äº§å“åŠ¨æ€ä¸æœ€æ–°å…¬å‘Š</a></p>
<p>ğŸ§© <strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffastaistack%2FOpenChat" target="_blank" title="https://github.com/fastaistack/OpenChat" ref="nofollow noopener noreferrer">è®¿é—® OpenChat github ä¸»é¡µ</a>  |  <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ffastaistack%2Fopenchat" target="_blank" title="https://gitee.com/fastaistack/openchat" ref="nofollow noopener noreferrer">è®¿é—® OpenChat gitee ä¸»é¡µ</a></p>
<p>ğŸ”— <strong>ä¸‹è½½åº”ç”¨</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffastaistack.github.io%2FOpenChat%2F" target="_blank" title="https://fastaistack.github.io/OpenChat/" ref="nofollow noopener noreferrer">ç‚¹å‡»ä¸‹è½½OpenChatæœ€æ–°ç‰ˆæœ¬</a></p>
<p>æˆ‘ä»¬éå¸¸æœŸå¾…æ‚¨çš„å®è´µåé¦ˆï¼Œæ— è®ºæ˜¯åŠŸèƒ½å»ºè®®ã€ä½¿ç”¨ä½“éªŒï¼Œè¿˜æ˜¯ Bug æŠ¥å‘Šï¼Œéƒ½å°†æ˜¯æˆ‘ä»¬æŒç»­ä¼˜åŒ–çš„é‡è¦åŠ¨åŠ›ã€‚ä¸‹é¢æˆ‘å°†ä»‹ç»OpenChatä¸DeepSeek-OCRé›†æˆåå…·ä½“çš„ä½¿ç”¨æ–¹å¼ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä»â€œæ–‡æ¡£æœºå™¨äººâ€åˆ°â€œå¯¹è¯ä¼™ä¼´â€</h2>
<p>æ˜¨å¤©æˆ‘è¿˜åœ¨æŠ±æ€¨ï¼šâ€œä¸ºä»€ä¹ˆæˆ‘çš„RAGç³»ç»Ÿè¿ä¸ªç®€å•é—®é¢˜éƒ½ç­”ä¸å¥½ï¼Ÿâ€ä»Šå¤©ç”¨ä¸Šäº†OpenChatâ€”â€”å®¶äººä»¬ï¼Œè¿™ä½“éªŒå·®å¾—ä¸æ˜¯ä¸€ç‚¹åŠç‚¹ï¼</p>
<p>ç”¨æˆ·é—®â€œè¿™ä¸ªæ€ä¹ˆéƒ¨ç½²åˆ°K8sï¼Ÿâ€ï¼Œä¼ ç»Ÿç³»ç»Ÿè¦ä¹ˆç”©æ¥ä¸€å †ä¸ç›¸å¹²çš„YAMLç‰‡æ®µï¼Œè¦ä¹ˆç›´æ¥è¯´â€œæ–‡æ¡£ä¸­æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯â€ã€‚è€ŒOpenChatå‘¢ï¼Ÿå®ƒåƒä¸ªæ‡‚è¡Œçš„åŒäº‹ä¸€æ ·å›ç­”ï¼š</p>
<p>â€œæ–‡æ¡£é‡Œè¯´äº†ä¸‰ç§éƒ¨ç½²æ–¹å¼ï¼Œå…¶ä¸­K8séƒ¨ç½²å»ºè®®ä½¿ç”¨Helm Chartã€‚[å¼•ç”¨æ¥æº]<br/>
è¿™æ˜¯é…ç½®ç¤ºä¾‹ï¼Œéœ€è¦æ³¨æ„å­˜å‚¨å·çš„æŒä¹…åŒ–è®¾ç½®ã€‚[å¼•ç”¨æ¥æº]<br/>
å¦‚æœåœ¨å†…ç½‘ç¯å¢ƒï¼Œè¿˜éœ€è¦ä¿®æ”¹é•œåƒæ‹‰å–ç­–ç•¥ã€‚[å¼•ç”¨æ¥æº]â€</p>
<p><strong>è°æ‡‚å•Šï¼</strong> å®ƒçœŸçš„è¯»æ‡‚äº†â€œäººè¯â€èƒŒåçš„æŠ€æœ¯é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">äºŒã€OpenChatçš„â€œè¯»å¿ƒæœ¯â€æ˜¯æ€ä¹ˆç‚¼æˆçš„ï¼Ÿ</h2>
<h3 data-id="heading-2">1. å®ƒçŸ¥é“ä½ ä¸ä¼šæŒ‰â€œç« èŠ‚æ ‡é¢˜â€æé—®</h3>
<p>ä¼ ç»ŸRAGç­‰ç€ä½ é—®â€œè¯·æŸ¥é˜…ç¬¬3.2èŠ‚â€ï¼Œä½†ç°å®æ˜¯ï¼Œä½ åªä¼šé—®ï¼š</p>
<p>â€œèƒ½ä¸èƒ½æ”¹ç«¯å£ï¼Ÿâ€<br/>
â€œä¼šä¸ä¼šå¾ˆæ…¢ï¼Ÿâ€<br/>
â€œå®‰ä¸å®‰å…¨ï¼Ÿâ€</p>
<p>OpenChatèƒŒåæ˜¯<strong>ç»“æ„æ„ŸçŸ¥+å¤šè¡¨ç¤ºæ£€ç´¢</strong>çš„é»‘ç§‘æŠ€ï¼š</p>
<ul>
<li>æ–‡æ¡£è¢«æ™ºèƒ½â€œè§£å‰–â€ï¼Œä¸æ˜¯æš´åŠ›åˆ‡å—</li>
<li>æ¯ä¸ªç‰‡æ®µéƒ½æœ‰â€œæŠ€æœ¯é¢å­”â€å’Œâ€œäººè¯é¢å­”â€</li>
<li>ä½ çš„â€œäººè¯â€èƒ½ç²¾å‡†æ‰¾åˆ°â€œæŠ€æœ¯ç»†èŠ‚â€</li>
</ul>
<h3 data-id="heading-3">2. å®ƒç†è§£ä½ çš„çœŸå®ä½¿ç”¨åœºæ™¯</h3>
<p>å½“ä½ è¯´ï¼šâ€œæˆ‘æƒ³åœ¨Windowsä¸Šè·‘ä¸€ä¸‹è¯•è¯•â€ï¼Œä¼ ç»ŸRAGå¯èƒ½åªä¼šæ£€ç´¢â€œWindowsâ€å…³é”®è¯ï¼Œè¿”å›ä¸€å †æ— å…³ä¿¡æ¯ã€‚</p>
<p>è€ŒOpenChatåšäº†ä»€ä¹ˆï¼Ÿ</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ çš„é—®é¢˜ â†’ æ”¹å†™ä¸ºå¤šä¸ªæ£€ç´¢ç‚¹ï¼š
<span class="hljs-bullet">1.</span> ç³»ç»Ÿè¿è¡Œç¯å¢ƒè¦æ±‚
<span class="hljs-bullet">2.</span> Windowså…¼å®¹æ€§è¯´æ˜  
<span class="hljs-bullet">3.</span> å¿«é€Ÿè¯•ç”¨æ­¥éª¤
<span class="hljs-bullet">4.</span> å¸¸è§é—®é¢˜è§£ç­”
</code></pre>
<p>ç„¶åä»æ–‡æ¡£çš„<strong>åŒé‡è¡¨ç¤º</strong>ä¸­ç²¾å‡†æå‡ºï¼š</p>
<ul>
<li>æ‘˜è¦å±‚ï¼šâ€œä¸»è¦æ”¯æŒLinuxï¼ŒWindowséœ€WSLâ€</li>
<li>åŸæ–‡å±‚ï¼šâ€œåœ¨Windows 10åŠä»¥ä¸Šç‰ˆæœ¬å¯é€šè¿‡WSL 2.0è¿è¡Œ...â€</li>
</ul>
<p><strong>å®¶äººä»¬ï¼Œè¿™ç§â€œæ‡‚ä½ â€çš„æ„Ÿè§‰ï¼ŒçœŸçš„ç»äº†ï¼</strong></p>
<h2 data-id="heading-4">ä¸‰ã€çœŸå®å¯¹æ¯”ï¼šOpenChat vs ä¼ ç»ŸRAG</h2>

























<table><thead><tr><th>ä½ çš„æé—®</th><th>ä¼ ç»ŸRAGçš„ååº”</th><th>OpenChatçš„å›åº”</th></tr></thead><tbody><tr><td>â€œå¯åŠ¨æŠ¥é”™æ€ä¹ˆåŠï¼Ÿâ€</td><td>è¿”å›æ‰€æœ‰åŒ…å«â€œé”™è¯¯â€çš„ç‰‡æ®µï¼Œä¸ç®¡ç›¸å…³æ€§</td><td>â€œæ–‡æ¡£åˆ—å‡ºäº†ä¸‰ç§å¸¸è§å¯åŠ¨é”™è¯¯åŠè§£å†³æ–¹æ¡ˆï¼š[å¼•ç”¨1][å¼•ç”¨2]ï¼Œä½ å…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯ç«¯å£è¢«å ç”¨äº†ï¼Ÿâ€</td></tr><tr><td>â€œæ”¯ä¸æ”¯æŒé›†ç¾¤ï¼Ÿâ€</td><td>å¯èƒ½æ¼æ‰ï¼Œå› ä¸ºæ–‡æ¡£é‡Œå†™çš„æ˜¯â€œé«˜å¯ç”¨éƒ¨ç½²â€</td><td>â€œæ”¯æŒï¼Œæ–‡æ¡£çš„é«˜å¯ç”¨ç« èŠ‚æåˆ°å¯ä»¥é€šè¿‡å¤šå®ä¾‹+è´Ÿè½½å‡è¡¡å®ç°ã€‚[å¼•ç”¨]ä½†éœ€è¦æ³¨æ„å…±äº«å­˜å‚¨é…ç½®ã€‚â€</td></tr><tr><td>â€œé…ç½®å¤ä¸å¤æ‚ï¼Ÿâ€</td><td>æ— æ³•å›ç­”ï¼Œæ–‡æ¡£æ²¡æœ‰ç›´æ¥è¯´â€œå¤æ‚â€</td><td>â€œåŸºç¡€é…ç½®å¾ˆç®€å•ï¼Œ5æ­¥å®Œæˆã€‚ä½†é«˜çº§åŠŸèƒ½å¦‚è‡ªå®šä¹‰æ’ä»¶éœ€è¦é¢å¤–è®¾ç½®ã€‚[å¼•ç”¨é…ç½®ç« èŠ‚]â€</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d7ef6e76e16431796c1f4f79a90a415~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGlEYXlEYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769738235&amp;x-signature=lI%2BHDXSHkmhtwzYFqYtH9DjpMF4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">å››ã€OpenChatçš„ä¸‰é‡â€œè´´å¿ƒâ€è®¾è®¡</h2>
<h3 data-id="heading-6">1. <strong>ä¸é—®â€œè ¢é—®é¢˜â€</strong></h3>
<p>ä¸ä¼šè®©ä½ â€œé€‰æ‹©æ–‡æ¡£â€æˆ–â€œæ˜ç¡®å…³é”®è¯â€ï¼Œå®ƒèƒ½ä»æ¨¡ç³Šæè¿°ä¸­æ•æ‰æ„å›¾ï¼š</p>
<ul>
<li>â€œè¿™ä¸ªæ€ä¹ˆç”¨ï¼Ÿâ€ â†’ è‡ªåŠ¨ç†è§£ä¸ºï¼šå®‰è£…ã€åŸºç¡€æ“ä½œã€æ ¸å¿ƒåŠŸèƒ½</li>
<li>â€œä¼šä¸ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Ÿâ€ â†’ æ˜ å°„åˆ°ï¼šæ€§èƒ½åŸºå‡†ã€ä¼˜åŒ–å»ºè®®ã€é™åˆ¶æ¡ä»¶</li>
</ul>
<h3 data-id="heading-7">2. <strong>ä¸â€œæ­»æ¿â€å›ç­”</strong></h3>
<p>ä¸æ˜¯ç®€å•å¤åˆ¶ç²˜è´´æ–‡æ¡£ï¼Œè€Œæ˜¯<strong>è¯»å®Œæ–‡æ¡£åç”¨äººè¯å‘Šè¯‰ä½ </strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">æ–‡æ¡£åŸæ–‡ï¼šâ€œæœ€å¤§å¹¶å‘è¿æ¥æ•°é»˜è®¤è®¾ç½®ä¸º<span class="hljs-number">1000</span>ï¼Œå¯é€šè¿‡MAX_CONNECTIONå‚æ•°è°ƒæ•´ã€‚â€
OpenChatå›ç­”ï¼šâ€œé»˜è®¤æ”¯æŒ<span class="hljs-number">1000</span>å¹¶å‘ï¼Œä¸å¤Ÿçš„è¯å¯ä»¥è°ƒæ•´é…ç½®å‚æ•°ï¼Œæ–‡æ¡£é‡Œæœ‰å…·ä½“æ–¹æ³•ã€‚<span class="hljs-selector-attr">[å¼•ç”¨]</span>â€
</code></pre>
<h3 data-id="heading-8">3. <strong>ä¸ä¹±â€œç¼–é€ â€</strong></h3>
<p>çŸ¥é“ä½•æ—¶è¯´â€œä¸çŸ¥é“â€ï¼š
â€œåœ¨ç°æœ‰æ–‡æ¡£ä¸­æ²¡æ‰¾åˆ°å…³äºå¾®ä¿¡é›†æˆçš„è¯´æ˜ï¼Œå¯èƒ½æ˜¯å°šæœªæ”¯æŒçš„åŠŸèƒ½ã€‚â€</p>
<h2 data-id="heading-9">äº”ã€æŠ€æœ¯æ­ç§˜ï¼šOpenChatä¸ºä½•å¦‚æ­¤â€œå¥½æ‡‚â€</h2>
<h3 data-id="heading-10">æ ¸å¿ƒæ¶æ„ï¼šSAM-RAG</h3>
<p>OpenChaté‡‡ç”¨çš„æ˜¯<strong>ç»“æ„æ„ŸçŸ¥å¤šè¡¨ç¤ºæ£€ç´¢å¢å¼ºç”Ÿæˆ</strong>ï¼Œè¿™æ˜¯å®ƒèªæ˜çš„åº•å±‚åŸå› ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ ç»ŸRAGï¼šæš´åŠ›åˆ‡å—ï¼Œä¸¢å¤±ç»“æ„</span>
æ–‡æ¡£ â†’ æ¯<span class="hljs-number">500</span>å­—ä¸€åˆ€åˆ‡ â†’ å‘é‡åŒ– â†’ æœç´¢

<span class="hljs-comment"># OpenChatï¼šå°Šé‡æ–‡æ¡£â€œæœ¬æ€§â€</span>
æ–‡æ¡£ â†’ æ™ºèƒ½ç»“æ„è§£æ â†’ åŒé‡è¡¨ç¤ºç”Ÿæˆ â†’ å…³è”ç´¢å¼•
          â†“                        â†“
      ã€æŠ€æœ¯æ–‡æ¡£æŒ‰APIç»“æ„ã€‘    ã€æ¯ä¸ªå—éƒ½æœ‰ï¼š
      ã€è®ºæ–‡æŒ‰ç« èŠ‚è§£å‰–ã€‘        <span class="hljs-number">1.</span> ç²¾ç¡®åŸæ–‡ï¼ˆæŠ€æœ¯ç»†èŠ‚ï¼‰
      ã€åˆåŒæŒ‰æ¡æ¬¾ç»„ç»‡ã€‘        <span class="hljs-number">2.</span> äººè¯æ‘˜è¦ï¼ˆæ–¹ä¾¿æ£€ç´¢ï¼‰ã€‘
</code></pre>
<h3 data-id="heading-11">ä¸¤çº§æ£€ç´¢ï¼šå…ˆâ€œç†è§£â€åâ€œå®šä½â€</h3>
<pre><code class="hljs language-vbnet" lang="vbnet">ä½ çš„é—®é¢˜ï¼šâ€œä¸Šä¼ å¤§æ–‡ä»¶å¤±è´¥æ€ä¹ˆå›äº‹ï¼Ÿâ€
          â†“
<span class="hljs-keyword">Step</span> <span class="hljs-number">1</span>: åœ¨â€œäººè¯æ‘˜è¦â€å±‚æœç´¢
         â†’ å‘½ä¸­ï¼šâ€œæ–‡ä»¶ä¸Šä¼ æ¥å£çš„é™åˆ¶å’Œå¸¸è§é—®é¢˜â€
          â†“
<span class="hljs-keyword">Step</span> <span class="hljs-number">2</span>: å…³è”åˆ°â€œç²¾ç¡®åŸæ–‡â€  
         â†’ è·å–å…·ä½“å†…å®¹ï¼šâ€œå•ä¸ªæ–‡ä»¶ä¸å¾—è¶…è¿‡<span class="hljs-number">100</span>MBï¼Œè¶…æ—¶è®¾ç½®ä¸º<span class="hljs-number">30</span>ç§’...â€
          â†“
<span class="hljs-keyword">Step</span> <span class="hljs-number">3</span>: LLMç”¨äººè¯ç»„ç»‡ç­”æ¡ˆ
</code></pre>
<h2 data-id="heading-12">å…­ã€å®¶äººä»¬ï¼Œè¿™äº›åœºæ™¯çœŸçš„â€œå¤ªæ‡‚æˆ‘â€</h2>
<h3 data-id="heading-13">åœºæ™¯ä¸€ï¼šæŠ€æœ¯é€‰å‹è°ƒç ”</h3>
<p><strong>ä½ é—®</strong>ï¼šâ€œè¿™ä¸ªå’ŒFastAPIæ¯”æ€ä¹ˆæ ·ï¼Ÿâ€
<strong>OpenChat</strong>ï¼šâ€œæ–‡æ¡£çš„æ€§èƒ½å¯¹æ¯”ç« èŠ‚æ˜¾ç¤ºï¼Œåœ¨QPSä½äº5000æ—¶ä¸¤è€…å·®å¼‚ä¸å¤§ï¼Œä½†æˆ‘ä»¬çš„ä¼˜åŠ¿åœ¨äºå†…ç½®äº†ç›‘æ§ä»ªè¡¨ç›˜ã€‚[å¼•ç”¨]ä¸è¿‡FastAPIçš„ç”Ÿæ€æ›´ä¸°å¯Œã€‚â€</p>
<h3 data-id="heading-14">åœºæ™¯äºŒï¼šæ•…éšœæ’æŸ¥</h3>
<p><strong>ä½ é—®</strong>ï¼šâ€œæ—¥å¿—ä¸€ç›´æŠ¥æƒé™é”™è¯¯ï¼Œæ€¥ï¼â€
<strong>OpenChat</strong>ï¼šâ€œæ ¹æ®æ–‡æ¡£çš„æ•…éšœæ’æŸ¥éƒ¨åˆ†ï¼Œæƒé™é”™è¯¯é€šå¸¸æœ‰ä¸‰ç§åŸå› ï¼š1ï¼‰æœåŠ¡è´¦æˆ·æƒé™ä¸è¶³[å¼•ç”¨1]ï¼›2ï¼‰SELinuxæœªå…³é—­[å¼•ç”¨2]ï¼›3ï¼‰æ•°æ®ç›®å½•æ‰€æœ‰è€…è®¾ç½®é”™è¯¯[å¼•ç”¨3]ã€‚å»ºè®®æŒ‰é¡ºåºæ£€æŸ¥ã€‚â€</p>
<h3 data-id="heading-15">åœºæ™¯ä¸‰ï¼šæ–¹æ¡ˆç¡®è®¤</h3>
<p><strong>ä½ é—®</strong>ï¼šâ€œæ˜¯ä¸æ˜¯å¿…é¡»ç”¨MySQLï¼Ÿâ€
<strong>OpenChat</strong>ï¼šâ€œä¸æ˜¯å¿…é¡»ã€‚æ–‡æ¡£è¯´é»˜è®¤æ”¯æŒMySQLï¼Œä½†ä¹Ÿæä¾›äº†PostgreSQLé€‚é…å™¨ã€‚[å¼•ç”¨]ä¸è¿‡MySQLçš„æ€§èƒ½ä¼˜åŒ–æ›´å……åˆ†ã€‚â€</p>
<h2 data-id="heading-16">ä¸ƒã€å¼€å§‹äº«å—ï¼šä½ ä¹Ÿèƒ½æ‹¥æœ‰çš„â€œå¥½ç”¨â€ä½“éªŒ</h2>
<p>å¦‚æœä½ ä¹Ÿæƒ³è®©æ–‡æ¡£æŸ¥è¯¢å˜å¾—â€œOpenChatçº§â€å¥½ç”¨ï¼Œè®°ä½è¿™ä¸‰ä¸ªåŸåˆ™ï¼š</p>
<ol>
<li>
<p><strong>æ”¾å¼ƒâ€œä¸€åˆ€åˆ‡â€åˆ†å—</strong><br/>
è®©æŠ€æœ¯æ–‡æ¡£ä¿æŒAPIç»“æ„ï¼Œè®©è®ºæ–‡ä¿æŒç« èŠ‚è„‰ç»œï¼Œè®©åˆåŒä¿æŒæ¡æ¬¾å±‚çº§ã€‚</p>
</li>
<li>
<p><strong>ä¸ºæ¯ä¸ªç‰‡æ®µé…â€œäººè¯ç¿»è¯‘â€</strong><br/>
ä¸åªæ˜¯å­˜åŸæ–‡ï¼Œè¿˜è¦å­˜ä¸€ä¸ªâ€œç”¨æˆ·å¯èƒ½ä¼šæ€ä¹ˆé—®åˆ°è¿™ä¸ªå†…å®¹â€çš„æ‘˜è¦ã€‚</p>
</li>
<li>
<p><strong>å»ºç«‹æŠ½è±¡ä¸å…·ä½“çš„æ¡¥æ¢</strong><br/>
ç”¨æˆ·ç”¨â€œäººè¯â€é—®ï¼Œç³»ç»Ÿé€šè¿‡â€œæ‘˜è¦â€æ‰¾ï¼Œæœ€ç»ˆç”¨â€œåŸæ–‡â€ç­”ã€‚</p>
</li>
</ol>
<h2 data-id="heading-17">å†™åœ¨æœ€åï¼šå¥½ç”¨çš„RAGï¼Œå°±è¯¥è¿™æ ·</h2>
<p>ç”¨äº†OpenChatæ‰çŸ¥é“ï¼ŒåŸæ¥RAGå¯ä»¥ä¸åªæ˜¯â€œæ–‡æ¡£æœç´¢å¼•æ“â€ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£<strong>ç†è§£å†…å®¹ã€ç†è§£é—®é¢˜ã€ç†è§£ä½ </strong>çš„å¯¹è¯ä¼™ä¼´ã€‚</p>
<p>å®ƒå¥½ç”¨çš„ç§˜å¯†å¾ˆç®€å•ï¼š<strong>å®ƒç”¨äººç±»çš„æ–¹å¼â€œé˜…è¯»â€æ–‡æ¡£ï¼Œä¹Ÿç”¨äººç±»çš„æ–¹å¼â€œå›ç­”â€é—®é¢˜</strong>ã€‚</p>
<p>æ‰€ä»¥å®¶äººä»¬ï¼Œå½“ä½ å†é‡åˆ°é‚£ç§ç­”éæ‰€é—®çš„RAGç³»ç»Ÿæ—¶ï¼Œä½ å°±çŸ¥é“é—®é¢˜åœ¨å“ªäº†â€”â€”ä¸æ˜¯æ¨¡å‹ä¸å¤Ÿå¤§ï¼Œä¸æ˜¯ç®—æ³•ä¸å¤Ÿæ–°ï¼Œè€Œæ˜¯ç³»ç»Ÿè®¾è®¡è€…å¿˜äº†æœ€é‡è¦çš„ä¸€ä»¶äº‹ï¼š</p>
<p><strong>ç”¨æˆ·è¯´çš„ï¼Œæ°¸è¿œæ˜¯äººè¯ã€‚</strong></p>
<p>è€Œä¸€ä¸ªå¥½çš„RAGç³»ç»Ÿï¼Œå°±åº”è¯¥åƒOpenChatä¸€æ ·ï¼Œå¬å¾—æ‡‚äººè¯ï¼Œè¯´å¾—å‡ºäººè¯ï¼Œè§£å†³å¾—äº†é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>