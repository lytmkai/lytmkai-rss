<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šè·¯å¾„æ¨¡å—ï¼ˆpathï¼‰è¯¦è§£]]></title>    <link>https://juejin.cn/post/7580198093154893870</link>    <guid>https://juejin.cn/post/7580198093154893870</guid>    <pubDate>2025-12-06T01:09:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093154893870" data-draft-id="7580197740963069978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šè·¯å¾„æ¨¡å—ï¼ˆpathï¼‰è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯,Node.js,Trae"/> <meta itemprop="datePublished" content="2025-12-06T01:09:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šè·¯å¾„æ¨¡å—ï¼ˆpathï¼‰è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T01:09:07.000Z" title="Sat Dec 06 2025 01:09:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨ Node.js å¼€å‘ä¸­ï¼Œæ–‡ä»¶è·¯å¾„æ˜¯ç»•ä¸å¼€çš„é—®é¢˜ã€‚æ— è®ºæ˜¯è¯»å–æ–‡ä»¶ã€åˆ›å»ºç›®å½•ã€å¼•ç”¨æ¨¡å—ï¼Œè¿˜æ˜¯å¤„ç†ä¸Šä¼ çš„æ–‡ä»¶æ•°æ®ï¼Œéƒ½éœ€è¦å¤„ç†è·¯å¾„ã€‚ä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´çš„è·¯å¾„è§„åˆ™å¹¶ä¸ä¸€æ ·ï¼Œå› æ­¤ä»…é å­—ç¬¦ä¸²æ‹¼æ¥éå¸¸å®¹æ˜“å‡ºé”™ã€‚Node.js çš„ path æ¨¡å—æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–ã€è·¨å¹³å°çš„è·¯å¾„å·¥å…·ï¼Œè®©ä½ å¯ä»¥æ›´å®‰å…¨ã€æ›´å¯é åœ°å¤„ç†è·¯å¾„ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€path æ¨¡å—çš„ä½œç”¨</h2>
<p>path æ˜¯ Node.js çš„æ ¸å¿ƒæ¨¡å—ï¼Œç”¨äºå¤„ç†æ–‡ä»¶è·¯å¾„çš„æ‹¼æ¥ã€è§£æã€æ ¼å¼åŒ–ç­‰æ“ä½œã€‚</p>
<p>å®ƒçš„å­˜åœ¨ä¸»è¦è§£å†³ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>ç»Ÿä¸€ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„è§„åˆ™</li>
<li>é¿å…æ‰‹å†™å­—ç¬¦ä¸²å¯¼è‡´çš„è·¯å¾„é”™è¯¯</li>
<li>æä¾›æ›´è¯­ä¹‰åŒ–çš„è·¯å¾„å¤„ç†èƒ½åŠ›</li>
</ul>
<p>ä½¿ç”¨ path æ¨¡å—å¯ä»¥è®©ä½ è½»æ¾è·å¾—ç»å¯¹è·¯å¾„ã€ç›®å½•è·¯å¾„ã€æ–‡ä»¶åã€æ‰©å±•åç­‰ä¿¡æ¯ã€‚</p>
<p>å¼•å…¥æ–¹å¼éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
</code></pre>
<hr/>
<h2 data-id="heading-1">äºŒã€å¸¸ç”¨åŠŸèƒ½ï¼šè·¯å¾„æ‹¼æ¥</h2>
<p>å¼€å‘ä¸­æœ€å¸¸è§çš„åœºæ™¯å°±æ˜¯æ‹¼æ¥è·¯å¾„ã€‚</p>
<h3 data-id="heading-2">1. path.join</h3>
<p>join ä¼šæ ¹æ®ä¸åŒæ“ä½œç³»ç»Ÿè‡ªåŠ¨ä½¿ç”¨ <code>/</code> æˆ– <code>\</code>ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> full = path.<span class="hljs-title function_">join</span>(<span class="hljs-string">'src'</span>, <span class="hljs-string">'utils'</span>, <span class="hljs-string">'index.js'</span>)
</code></pre>
<p>è¿™ç§æ–¹å¼æ¯” <code>'src/' + 'utils/' + 'index.js'</code> æ›´å®‰å…¨ï¼Œä¹Ÿä¸å®¹æ˜“å‡ºé”™ã€‚</p>
<hr/>
<h3 data-id="heading-3">2. path.resolve</h3>
<p>resolve ç”¨äºç”Ÿæˆå®Œæ•´çš„ç»å¯¹è·¯å¾„ï¼Œä¼šä»¥å½“å‰æ‰§è¡Œç›®å½•ä¸ºèµ·ç‚¹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> abs = path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'src/index.js'</span>)
</code></pre>
<p>åœ¨å¤„ç†é…ç½®æ–‡ä»¶ã€é™æ€æ–‡ä»¶è·¯å¾„æˆ–æœåŠ¡ç«¯å…¥å£æ–‡ä»¶æ—¶éå¸¸å¸¸ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€è§£æè·¯å¾„çš„å„ä¸ªç»„æˆéƒ¨åˆ†</h2>
<p>path æ¨¡å—å¯ä»¥å°†å®Œæ•´è·¯å¾„è§£ææˆè¯¦ç»†ç»“æ„ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> info = path.<span class="hljs-title function_">parse</span>(<span class="hljs-string">'/user/local/app.js'</span>)
</code></pre>
<p>è§£æç»“æœåŒ…æ‹¬ï¼š</p>
<ul>
<li>dirï¼šç›®å½•è·¯å¾„</li>
<li>baseï¼šæ–‡ä»¶åï¼ˆå«æ‰©å±•åï¼‰</li>
<li>nameï¼šä¸å¸¦æ‰©å±•åçš„æ–‡ä»¶å</li>
<li>extï¼šæ‰©å±•å</li>
</ul>
<p>è¿™äº›ä¿¡æ¯åœ¨å¤„ç†ä¸Šä¼ æ–‡ä»¶ã€é‡å‘½åæ–‡ä»¶ã€ç”Ÿæˆç¼“å­˜æ–‡ä»¶åæ—¶ååˆ†æœ‰ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-5">å››ã€è·å–è·¯å¾„ä¸­çš„å…·ä½“ä¿¡æ¯</h2>
<h3 data-id="heading-6">1. è·å–æ–‡ä»¶å</h3>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">basename</span>(<span class="hljs-string">'/a/b/c.txt'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-7">2. è·å–ç›®å½•å</h3>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">dirname</span>(<span class="hljs-string">'/a/b/c.txt'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-8">3. è·å–æ‰©å±•å</h3>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">extname</span>(<span class="hljs-string">'index.html'</span>)
</code></pre>
<p>è¿™äº›æ–¹æ³•è®©ä½ æ— éœ€è‡ªå·±å†™æ­£åˆ™è§£æè·¯å¾„ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-9">äº”ã€è·¯å¾„æ ¼å¼åŒ–</h2>
<p>å¦‚æœä½ éœ€è¦æ ¹æ®å¯¹è±¡ç”Ÿæˆè·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨ formatï¼š</p>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">format</span>({
  <span class="hljs-attr">dir</span>: <span class="hljs-string">'/a/b'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'index'</span>,
  <span class="hljs-attr">ext</span>: <span class="hljs-string">'.js'</span>
})
</code></pre>
<p>å¯ç”¨äºæ—¥å¿—æ–‡ä»¶ã€ç¼“å­˜æ–‡ä»¶ã€åŠ¨æ€ç”Ÿæˆæ–‡ä»¶åçš„åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-10">å…­ã€__dirname å’Œ __filename çš„é…åˆä½¿ç”¨</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯é€šè¿‡ path ä¸å½“å‰æ–‡ä»¶ä½ç½®ä¸€èµ·ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> file = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'config.json'</span>)
</code></pre>
<p>è¿™ç§æ–¹å¼å¯ä»¥å¾—åˆ°ä¸å—è¿è¡Œç¯å¢ƒå½±å“çš„ç»å¯¹è·¯å¾„ï¼Œæ˜¯ Node.js æ–‡ä»¶æ“ä½œçš„æœ€ä½³å®è·µã€‚</p>
<hr/>
<h2 data-id="heading-11">ä¸ƒã€è·¨å¹³å°æ³¨æ„äº‹é¡¹</h2>
<p>Windows è·¯å¾„ä½¿ç”¨ <code>\</code>ï¼ŒLinux å’Œ macOS ä½¿ç”¨ <code>/</code>ã€‚</p>
<p>path æ¨¡å—ä¼šç»Ÿä¸€å¤„ç†è¿™äº›å·®å¼‚ã€‚</p>
<p>å¦‚æœä½ åœ¨è·¨å¹³å°é¡¹ç›®ä¸­ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¾ˆå®¹æ˜“å‡ºç°è·¯å¾„å¤±æ•ˆçš„é—®é¢˜ï¼Œå› æ­¤å°½é‡é¿å…æ‰‹å†™è·¯å¾„ã€‚</p>
<hr/>
<h2 data-id="heading-12">å…«ã€å¸¸è§é”™è¯¯ä¸è§£å†³æ€è·¯</h2>
<p>é”™è¯¯ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥å¯¼è‡´è·¯å¾„é‡å¤æˆ–ç¼ºå¤±ã€‚
å¿˜è®°ä½¿ç”¨ <code>__dirname</code>ï¼Œç»“æœè·¯å¾„ä¾èµ–è¿è¡Œç›®å½•ã€‚
resolve å’Œ join æ··æ·†å¯¼è‡´è·¯å¾„ä¸ç¬¦åˆé¢„æœŸã€‚
æ‰©å±•åè§£æé”™è¯¯å¯¼è‡´æ–‡ä»¶ç±»å‹åˆ¤æ–­å¤±è´¥ã€‚</p>
<p>å€ŸåŠ© path æ¨¡å—å¯ä»¥é¿å…å¤§éƒ¨åˆ†è¿™ç§é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-13">ä¹ã€æ€»ç»“</h2>
<p>path æ¨¡å—çœ‹ä¼¼ç®€å•ï¼Œå´æ˜¯ Node.js æ–‡ä»¶ç³»ç»Ÿæ“ä½œä¸­ä¸å¯æ›¿ä»£çš„åŸºç¡€èƒ½åŠ›ã€‚</p>
<p>å®ƒèƒ½è®©ä½ åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸­ä¿æŒä¸€è‡´çš„è·¯å¾„è¡Œä¸ºï¼ŒåŒæ—¶æä¾›ä¸°å¯Œçš„è§£æä¸æ ¼å¼åŒ–åŠŸèƒ½ï¼Œæ˜¾è‘—æå‡ä»£ç çš„å¥å£®æ€§ã€‚</p>
<p>åªè¦æ¶‰åŠæ–‡ä»¶å¤„ç†ï¼Œpath å°±æ˜¯å¿…å¤‡å·¥å…·ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§å®¶å¤©å¤©è¯´çš„'é“¶å¼¹'åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿçœ‹å®Œè¿™ç¯‡ä½ å°±æ˜ç™½äº†]]></title>    <link>https://juejin.cn/post/7580233527284629554</link>    <guid>https://juejin.cn/post/7580233527284629554</guid>    <pubDate>2025-12-06T01:28:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580233527284629554" data-draft-id="7580233527284613170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§å®¶å¤©å¤©è¯´çš„'é“¶å¼¹'åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿçœ‹å®Œè¿™ç¯‡ä½ å°±æ˜ç™½äº†"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T01:28:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="9å·è¾¾äºº"/> <meta itemprop="url" content="https://juejin.cn/user/2450136052270077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§å®¶å¤©å¤©è¯´çš„'é“¶å¼¹'åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿçœ‹å®Œè¿™ç¯‡ä½ å°±æ˜ç™½äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2450136052270077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    9å·è¾¾äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T01:28:19.000Z" title="Sat Dec 06 2025 01:28:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>"å¾®æœåŠ¡æ˜¯é“¶å¼¹ï¼" "Dockerä¸æ˜¯é“¶å¼¹ï¼" "Reactæ‰æ˜¯çœŸæ­£çš„é“¶å¼¹ï¼" å¤©å¤©åœ¨æ–‡ç« å’Œè¯„è®ºåŒºçœ‹åˆ°è¿™ä¸ªè¯è¯­ï¼Œä»–åˆ°åº•æ˜¯ä¸ªå•¥ï¼Œåˆæ˜¯ä»å“ªé‡Œå¼€å§‹çš„ã€‚ä»Šå¤©ä¸è®²æŠ€æœ¯ï¼ŒèŠä¸€ä¸‹å•¥æ˜¯é“¶å¼¹ã€‚</p>
</blockquote>
<h3 data-id="heading-0">æ¦‚å¿µæ¥æº</h3>
<p>"é“¶å¼¹"ï¼ˆSilver Bulletï¼‰è¿™ä¸ªæ¦‚å¿µæ¥è‡ªäº<strong>å¼—é›·å¾·é‡Œå…‹Â·å¸ƒé²å…‹æ–¯ï¼ˆFred Brooksï¼‰</strong> çš„ç»å…¸è‘—ä½œã€Šäººæœˆç¥è¯ã€‹ï¼ˆThe Mythical Man-Monthï¼‰ã€‚</p>
<p>1986å¹´ï¼Œå¸ƒé²å…‹æ–¯åœ¨è‘—åè®ºæ–‡ã€Šæ²¡æœ‰é“¶å¼¹ï¼šè½¯ä»¶å·¥ç¨‹çš„æœ¬è´¨ä¸å¶ç„¶æ€§ã€‹ä¸­æå‡ºäº†è¿™ä¸ªå½±å“æ·±è¿œçš„è®ºæ–­ï¼š</p>
<blockquote>
<p><strong>åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œæ²¡æœ‰ä»»ä½•æŠ€æœ¯æˆ–æ–¹æ³•èƒ½å¤Ÿåœ¨åå¹´å†…ä½¿ç”Ÿäº§ç‡ã€å¯é æ€§å’Œç®€æ´æ€§æœ‰æ•°é‡çº§çš„æå‡ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-1">ç‹¼äººä¼ è¯´çš„éšå–»</h3>
<p>ä¸ºä»€ä¹ˆè¦ç”¨"é“¶å¼¹"è¿™ä¸ªè¯ï¼Ÿ</p>
<p>è¿™ä¸ªæ¯”å–»æ¥è‡ªç‹¼äººä¼ è¯´ï¼š</p>
<ul>
<li><strong>ç‹¼äºº</strong>ï¼šè¢«è®¤ä¸ºæ˜¯ä¸æ­»çš„ã€æ— åšä¸æ‘§çš„æ€ªç‰©</li>
<li><strong>é“¶å¼¹</strong>ï¼šä¼ è¯´ä¸­å”¯ä¸€èƒ½å¤Ÿæ€æ­»ç‹¼äººçš„æ­¦å™¨</li>
</ul>
<p>å¸ƒé²å…‹æ–¯ç”¨è¿™ä¸ªæ¯”å–»æ¥è¯´æ˜ï¼š</p>
<ul>
<li><strong>è½¯ä»¶å¼€å‘çš„æœ¬è´¨å¤æ‚æ€§</strong> = ç‹¼äººï¼ˆçœ‹ä¼¼ä¸å¯æˆ˜èƒœçš„éš¾é¢˜ï¼‰</li>
<li><strong>ç¥å¥‡çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆ</strong> = é“¶å¼¹ï¼ˆäººä»¬æœŸæœ›çš„ä¸€æ‹›åˆ¶æ•Œçš„åŠæ³•ï¼‰</li>
<li><strong>æ®‹é…·çš„ç°å®</strong> = é“¶å¼¹æ ¹æœ¬ä¸å­˜åœ¨</li>
</ul>
<h3 data-id="heading-2">è½¯ä»¶å›°éš¾çš„åˆ†ç±»</h3>
<p>å¸ƒé²å…‹æ–¯å°†è½¯ä»¶å¼€å‘çš„å›°éš¾åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<h4 data-id="heading-3">æœ¬è´¨æ€§å›°éš¾ï¼ˆEssenceï¼‰</h4>
<p>è¿™äº›æ˜¯è½¯ä»¶å¼€å‘å›ºæœ‰çš„ã€æ— æ³•é¿å…çš„å›°éš¾ï¼š</p>
<ul>
<li><strong>æ¦‚å¿µç»“æ„çš„å¤æ‚æ€§</strong>ï¼šè½¯ä»¶æœ¬èº«çš„æ¦‚å¿µç»“æ„</li>
<li><strong>ä¸å¯è§æ€§</strong>ï¼šè½¯ä»¶æ²¡æœ‰ç‰©ç†å®ä½“ï¼Œæ— æ³•ç›´è§‚æŠŠæ¡</li>
<li><strong>ä¸€è‡´æ€§å’Œå¯å˜æ€§</strong>ï¼šå¿…é¡»é€‚åº”ä¸æ–­å˜åŒ–çš„éœ€æ±‚</li>
<li><strong>ç¦»æ•£æ€§</strong>ï¼šè½¯ä»¶ç³»ç»Ÿçš„çŠ¶æ€ç»„åˆæå…¶åºå¤§</li>
</ul>
<h4 data-id="heading-4">å¶ç„¶æ€§å›°éš¾ï¼ˆAccidentï¼‰</h4>
<p>è¿™äº›æ˜¯ç”±äºå½“å‰å·¥å…·å’ŒæŠ€æœ¯é™åˆ¶é€ æˆçš„å›°éš¾ï¼š</p>
<ul>
<li><strong>å¼€å‘å·¥å…·çš„é™åˆ¶</strong></li>
<li><strong>ç¼–ç¨‹è¯­è¨€çš„å¤æ‚æ€§</strong></li>
<li><strong>ç¡¬ä»¶æ€§èƒ½çº¦æŸ</strong></li>
<li><strong>å›¢é˜Ÿåä½œé—®é¢˜</strong></li>
</ul>
<p>å¸ƒé²å…‹æ–¯çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼š<strong>é“¶å¼¹æœ€å¤šåªèƒ½è§£å†³å¶ç„¶æ€§å›°éš¾ï¼Œä½†æ— æ³•è§¦åŠæœ¬è´¨æ€§å›°éš¾ã€‚</strong> ï¼Œè™½ç„¶æˆ‘æ²¡çœ‹å®Œï¼Œä½†æ€»ç»“ä¸‹æ¥åº”è¯¥å°±æ˜¯è¿™ä¸ªæ„æ€ğŸ˜‚</p>
<h2 data-id="heading-5">2. ç°åœ¨"é“¶å¼¹"çš„å®é™…å«ä¹‰</h2>
<p><strong>é“¶å¼¹ = èƒ½å¤Ÿè§£å†³æ‰€æœ‰é—®é¢˜çš„æŠ€æœ¯ã€æ–¹æ³•æˆ–å·¥å…·</strong></p>
<h3 data-id="heading-6">æŠ€æœ¯åœˆä¸­çš„å…¸å‹ä½¿ç”¨</h3>
<p>å½“æœ‰äººè¯´"xxxæ˜¯é“¶å¼¹"æ—¶ï¼Œé€šå¸¸æ„å‘³ç€ï¼š</p>
<ul>
<li>è¿™ä¸œè¥¿å¤ªå‰å®³äº†ï¼Œèƒ½è§£å†³æˆ‘ä»¬æ‰€æœ‰çš„çƒ¦æ¼</li>
<li>æœ‰äº†å®ƒï¼Œä¹‹å‰çš„æ‰€æœ‰é—®é¢˜éƒ½ä¸æ˜¯é—®é¢˜äº†</li>
<li>åˆ«çš„æŠ€æœ¯éƒ½å¯ä»¥ä¸ç”¨è€ƒè™‘äº†</li>
</ul>
<p><strong>å…¸å‹ä¾‹å­ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â Reactæ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">ReactIsSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"Reactæ‰æ˜¯çœŸæ­£çš„é“¶å¼¹ï¼Œè§£å†³æ‰€æœ‰å‰ç«¯é—®é¢˜ï¼"</span>;
};

<span class="hljs-comment">//Â Vueæ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">VueIsSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"Vueæ‰æ˜¯é“¶å¼¹ï¼Œç®€å•æ˜“å­¦ï¼Œæ€§èƒ½æ— æ•Œï¼"</span>;
};

<span class="hljs-comment">//Â å¾®æœåŠ¡æ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">MicroservicesAreSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"å¾®æœåŠ¡å°±æ˜¯é“¶å¼¹ï¼Œæ‹†åˆ†åæ‰€æœ‰æ‰©å±•é—®é¢˜éƒ½è§£å†³äº†ï¼"</span>;
};

<span class="hljs-comment">//Â Dockeræ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">DockerIsSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"Dockerå°±æ˜¯é“¶å¼¹ï¼Œä¸€æ¬¡æ„å»ºåˆ°å¤„è¿è¡Œï¼"</span>;
};
</code></pre>
<p>å½“æœ‰äººè¯´"xxxä¸æ˜¯é“¶å¼¹"æ—¶ï¼Œæ„æ€æ˜¯ï¼š</p>
<ul>
<li>è¿™ä¸ªæŠ€æœ¯æœ‰å±€é™æ€§ï¼Œä¸èƒ½è§£å†³æ‰€æœ‰é—®é¢˜</li>
<li>ä¸è¦æŒ‡æœ›å®ƒèƒ½ä¸€åŠ³æ°¸é€¸</li>
<li>è¿˜æ˜¯éœ€è¦é…åˆå…¶ä»–æ–¹æ¡ˆ</li>
</ul>
<p><strong>å…¸å‹ä¾‹å­ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">--Â MySQLä¸æ˜¯é“¶å¼¹</span>
<span class="hljs-deletion">--Â "MySQLè™½ç„¶ä¸é”™ï¼Œä½†é¢å¯¹å¤§æ•°æ®é‡æ—¶è¿˜æ˜¯æœ‰é™åˆ¶ï¼Œä¸æ˜¯é“¶å¼¹ï¼"</span>

<span class="hljs-deletion">--Â K8sä¸æ˜¯é“¶å¼¹</span>
<span class="hljs-deletion">--Â "K8såŠŸèƒ½å¼ºå¤§ï¼Œä½†è¿ç»´å¤æ‚åº¦å¾ˆé«˜ï¼Œä¸æ˜¯é“¶å¼¹ï¼"</span>

<span class="hljs-deletion">--Â æ•æ·å¼€å‘ä¸æ˜¯é“¶å¼¹</span>
<span class="hljs-deletion">--Â "æ•æ·ä¸æ˜¯é“¶å¼¹ï¼Œè¿˜éœ€è¦ç»“åˆå…¶ä»–å·¥ç¨‹å®è·µï¼"</span>
</code></pre>
<h2 data-id="heading-7">3. é“¶å¼¹æ¦‚å¿µçš„ä¼ æ’­è·¯å¾„</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e61ea80b7cdd452aa41a076327cc53cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgOeWPt-i-vuS6ug==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765589299&amp;x-signature=6lFG9ZRXmwxpCROzqqB8qNPUNWY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">3. é“¶å¼¹å«ä¹‰çš„æ¼”å˜è¿‡ç¨‹</h2>
<h3 data-id="heading-9">åŸå§‹å«ä¹‰ï¼ˆ1986å¹´ï¼‰</h3>
<p><strong>æ ¸å¿ƒæ¦‚å¿µï¼š</strong> èƒ½å¤Ÿæ•°é‡çº§ï¼ˆ10å€ï¼‰æå‡è½¯ä»¶å¼€å‘ç”Ÿäº§ç‡ã€å¯é æ€§å’Œç®€æ´æ€§çš„æŠ€æœ¯æˆ–æ–¹æ³•</p>
<ul>
<li>è½¯ä»¶å¼€å‘çš„æœ¬è´¨å¤æ‚æ€§</li>
<li>æ˜¯å¦å­˜åœ¨é©å‘½æ€§çš„çªç ´æŠ€æœ¯</li>
<li>è½¯ä»¶å·¥ç¨‹çš„åŸºæœ¬é™åˆ¶</li>
</ul>
<h3 data-id="heading-10">ç°åœ¨çš„æŠ€æœ¯åœˆä¸Šæ™®éçš„å«ä¹‰</h3>
<p>èƒ½å¤Ÿç¥å¥‡å®Œå…¨è§£å†³å…·ä½“åœºæ™¯çš„ä¸€ç³»åˆ—é—®é¢˜çš„æŠ€æœ¯ã€å·¥å…·æˆ–æ–¹æ³•</p>
<ul>
<li>React vs Vue å“ªä¸ªæ›´å¥½</li>
<li>å¾®æœåŠ¡ vs å•ä½“å¦‚ä½•é€‰æ‹©</li>
<li>MySQL vs MongoDB å“ªä¸ªæ›´é€‚åˆ</li>
<li>Docker vs K8s å¦‚ä½•é€‰æ‹©</li>
</ul>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>èƒ½å¾ˆæ¸…æ™°çš„çœ‹åˆ°é“¶å¼¹è¿™ä¸ªè¯ä»æŠ½è±¡çš„æ¶æ„è®¾è®¡ç†å¿µï¼Œæ¼”å˜æˆäº†å…·ä½“çš„å¯¹æŸä»¶æŠ€æœ¯ã€æ¡†æ¶ã€å·¥å…·ã€æ–¹æ³•çš„è¯„ä»·ã€‚</p>
<ul>
<li><strong>åŸæœ¬</strong>ï¼šæŒ‡è½¯ä»¶å·¥ç¨‹ä¸­çš„æ¶æ„è®¾è®¡å’Œæ•´ä½“æ–¹æ³•è®º</li>
<li><strong>ç°åœ¨</strong>ï¼šå˜æˆäº†å¯¹å…·ä½“æŸä¸ªæŠ€æœ¯æ–¹æ¡ˆã€æŠ€æœ¯æ¡†æ¶çš„è¯„ä»·å·¥å…·</li>
</ul>
<h3 data-id="heading-12">å…·ä½“å«ä¹‰å˜åŒ–</h3>
<ul>
<li><strong>åŸå§‹å«ä¹‰</strong>ï¼šå¸ƒé²å…‹æ–¯æŒ‡çš„æ˜¯èƒ½å¦æ ¹æœ¬ä¸Šè§£å†³è½¯ä»¶å¤æ‚æ€§çš„æ¶æ„æ–¹æ³•</li>
<li><strong>ç°åœ¨å«ä¹‰</strong>ï¼šç”¨æ¥è¯„ä»·æŸä¸ªå…·ä½“æŠ€æœ¯ã€æ¡†æ¶ã€å·¥å…·æ˜¯å¦ä¸‡èƒ½</li>
</ul>
<p>ä¹Ÿåæ˜ äº†å¤§å®¶è®¨è®ºæŠ€æœ¯çš„æ—¶å€™ï¼Œè¶Šæ¥è¶Šå…·ä½“ï¼Œè¶Šæ¥è¶Šè½åœ°ã€‚ æ™®é€šäººä¹Ÿå¾ˆéš¾æ¥è§¦åˆ°ä»€ä¹ˆå¤ªæŠ½è±¡ï¼Œå¤ªå®å¤§çš„æ¶æ„è®¾è®¡ï¼Œæˆ‘ä»¬ä¹Ÿæ›´åº”è¯¥å…³å¿ƒæ›´å…·ä½“çš„æ–¹æ¡ˆï¼Œæ¥æ›´å¥½çš„è§£å†³é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-13">å…³æ³¨ã€Œ9å·è¾¾äººã€å…¬ä¼—å·ï¼Œè·å–æ›´å¤šå¹²è´§</h3>
<p>æˆ‘æ˜¯ä¸€åå°å‚ç¨‹åºå‘˜ï¼Œä¸“æ³¨åˆ†äº«<strong>çœŸå®çš„é¡¹ç›®å®æˆ˜ç»éªŒ</strong>å’Œ<strong>æ¥åœ°æ°”çš„æŠ€æœ¯æ€è€ƒ</strong>ã€‚</p>
<p><strong>å…³æ³¨å…¬ä¼—å·ã€Œ9å·è¾¾äººã€</strong></p>
<p><strong>ä¸è®²å¤§è€Œå…¨çš„ç†è®ºï¼ŒåªèŠçœŸå®è¸©è¿‡çš„å‘ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€SQLã€‘è”è¡¨æŸ¥è¯¢å…¨é¢æŒ‡å—ï¼šæŒæ¡JOINçš„è‰ºæœ¯ä¸ç§‘å­¦]]></title>    <link>https://juejin.cn/post/7579934463591104548</link>    <guid>https://juejin.cn/post/7579934463591104548</guid>    <pubDate>2025-12-05T10:50:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579934463591104548" data-draft-id="7580196545287684150" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€SQLã€‘è”è¡¨æŸ¥è¯¢å…¨é¢æŒ‡å—ï¼šæŒæ¡JOINçš„è‰ºæœ¯ä¸ç§‘å­¦"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T10:50:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CyberShen"/> <meta itemprop="url" content="https://juejin.cn/user/554609587530014"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€SQLã€‘è”è¡¨æŸ¥è¯¢å…¨é¢æŒ‡å—ï¼šæŒæ¡JOINçš„è‰ºæœ¯ä¸ç§‘å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/554609587530014/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CyberShen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:50:40.000Z" title="Fri Dec 05 2025 10:50:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è”è¡¨æŸ¥è¯¢ï¼ˆJOINï¼‰æ˜¯å…³ç³»å‹æ•°æ®åº“ä¸­æœ€æ ¸å¿ƒã€æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚å®ƒå…è®¸æˆ‘ä»¬æ ¹æ®è¡¨ä¹‹é—´çš„é€»è¾‘å…³è”ï¼Œå°†æ•°æ®ä»å¤šä¸ªè¡¨ä¸­ç»„åˆå¹¶æ£€ç´¢å‡ºæ¥ï¼Œå½¢æˆæœ‰æ„ä¹‰çš„ç»“æœé›†ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æINNER JOINã€LEFT JOINã€RIGHT JOINã€FULL JOINä»¥åŠå¤è€çš„éšå¼è¿æ¥ï¼Œå¸®åŠ©ä½ å½»åº•æŒæ¡è¿™é¡¹æŠ€èƒ½ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€è”è¡¨æŸ¥è¯¢åŸºç¡€ï¼šä»€ä¹ˆæ˜¯è¿æ¥ï¼Ÿ</h2>
<p>åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œä¸ºäº†å‡å°‘æ•°æ®å†—ä½™å’Œä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼Œä¿¡æ¯é€šå¸¸è¢«æ‹†åˆ†å­˜å‚¨åœ¨ä¸åŒçš„è¡¨ä¸­ã€‚è”è¡¨æŸ¥è¯¢å°±æ˜¯é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ª<strong>å…³è”å­—æ®µ</strong>ï¼ˆé€šå¸¸æ˜¯ä¸»é”®å’Œå¤–é”®ï¼‰ï¼Œå°†è¿™äº›è¡¨é‡æ–°ç»„åˆåœ¨ä¸€èµ·çš„æ“ä½œã€‚ æœ€åŸºæœ¬çš„è¿æ¥è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">SELECT</span> åˆ—å
<span class="hljs-keyword">FROM</span> è¡¨<span class="hljs-number">1</span>
è¿æ¥ç±»å‹ <span class="hljs-keyword">JOIN</span> è¡¨<span class="hljs-number">2</span> <span class="hljs-keyword">ON</span> è¡¨<span class="hljs-number">1</span>.å­—æ®µ = è¡¨<span class="hljs-number">2</span>.å­—æ®µ;
</code></pre>
<p>åœ¨è¿›è¡Œè”è¡¨æŸ¥è¯¢æ—¶ï¼Œæœ‰ä¸€ä¸ªé»„é‡‘æ³•åˆ™å¿…é¡»éµå®ˆï¼š<strong>è¿æ¥æ¡ä»¶çš„æ•°é‡ = è¡¨æ•°é‡ - 1</strong>ã€‚å¦‚æœå¿½ç•¥è¿™ä¸ªè§„åˆ™ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¬›å¡å°”ç§¯ã€‚</p>
<h2 data-id="heading-1">äºŒã€è¿æ¥ç±»å‹è¯¦è§£</h2>
<h3 data-id="heading-2">1. INNER JOINï¼ˆå†…è¿æ¥ï¼‰</h3>
<p>INNER JOINæ˜¯æœ€å¸¸ç”¨çš„è¿æ¥ç±»å‹ï¼Œå®ƒè¿”å›ä¸¤ä¸ªè¡¨ä¸­<strong>è¿æ¥å­—æ®µå®Œå…¨åŒ¹é…çš„è®°å½•</strong>ï¼Œå³åªè¿”å›ä¸¤ä¸ªè¡¨çš„äº¤é›†éƒ¨åˆ†ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šæŸ¥æ‰¾æœ‰æ˜ç¡®å…³è”å…³ç³»çš„è®°å½•ï¼Œå¦‚"æŸ¥è¯¢å·²ä¸‹å•å®¢æˆ·çš„ä¿¡æ¯"ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> orders.order_id, customers.customer_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers <span class="hljs-keyword">ON</span> orders.customer_id <span class="hljs-operator">=</span> customers.customer_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šåªè¿”å›é‚£äº›ä¸‹äº†è®¢å•çš„å®¢æˆ·ä»¥åŠæ¯ä¸ªè®¢å•å¯¹åº”çš„å®¢æˆ·ä¿¡æ¯ã€‚æ²¡æœ‰ä¸‹è¿‡è®¢å•çš„å®¢æˆ·ï¼Œæˆ–è€…æ²¡æœ‰å…³è”å®¢æˆ·çš„è®¢å•éƒ½ä¸ä¼šå‡ºç°åœ¨ç»“æœä¸­ã€‚</p>
<h3 data-id="heading-3">2. LEFT JOINï¼ˆå·¦å¤–è¿æ¥ï¼‰</h3>
<p>LEFT JOINè¿”å›<strong>å·¦è¡¨çš„æ‰€æœ‰è®°å½•</strong>ä»¥åŠå³è¡¨ä¸­è¿æ¥å­—æ®µç›¸ç­‰çš„è®°å½•ã€‚å¦‚æœå³è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œåˆ™ç»“æœé›†ä¸­å³è¡¨éƒ¨åˆ†è¿”å›NULLå€¼ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šä»¥å·¦è¡¨ä¸ºä¸»ï¼Œä¿ç•™å·¦è¡¨æ‰€æœ‰è®°å½•ï¼Œå¦‚"æŸ¥è¯¢æ‰€æœ‰å®¢æˆ·åŠå…¶è®¢å•ï¼ˆåŒ…æ‹¬æ²¡æœ‰è®¢å•çš„å®¢æˆ·ï¼‰"ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> customers.customer_name, orders.order_id
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> orders <span class="hljs-keyword">ON</span> customers.customer_id <span class="hljs-operator">=</span> orders.customer_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šåˆ—å‡ºæ‰€æœ‰å®¢æˆ·ï¼ŒåŒ…æ‹¬é‚£äº›ä»æœªä¸‹è¿‡è®¢å•çš„å®¢æˆ·ã€‚å¯¹äºæ²¡æœ‰è®¢å•çš„å®¢æˆ·ï¼Œorder_idå­—æ®µå°†æ˜¯NULLã€‚</p>
<h3 data-id="heading-4">3. RIGHT JOINï¼ˆå³å¤–è¿æ¥ï¼‰</h3>
<p>RIGHT JOINä¸LEFT JOINç›¸åï¼Œå®ƒè¿”å›<strong>å³è¡¨çš„æ‰€æœ‰è®°å½•</strong>ä»¥åŠå·¦è¡¨ä¸­è¿æ¥å­—æ®µç›¸ç­‰çš„è®°å½•ã€‚å¦‚æœå·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œåˆ™ç»“æœé›†ä¸­å·¦è¡¨éƒ¨åˆ†è¿”å›NULLå€¼ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šä»¥å³è¡¨ä¸ºä¸»ï¼Œä¿ç•™å³è¡¨æ‰€æœ‰è®°å½•ï¼Œå¦‚"æŸ¥è¯¢æ‰€æœ‰è®¢å•åŠå¯¹åº”çš„å®¢æˆ·ï¼ˆåŒ…æ‹¬æ²¡æœ‰å®¢æˆ·ä¿¡æ¯çš„è®¢å•ï¼‰"ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> orders.order_id, employees.last_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> employees <span class="hljs-keyword">ON</span> orders.employee_id <span class="hljs-operator">=</span> employees.employee_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šåˆ—å‡ºæ‰€æœ‰å‘˜å·¥ï¼ŒåŒ…æ‹¬é‚£äº›æ²¡æœ‰å¤„ç†è¿‡ä»»ä½•è®¢å•çš„å‘˜å·¥ã€‚å¯¹äºæ²¡æœ‰è®¢å•çš„å‘˜å·¥ï¼Œorder_idå­—æ®µå°†æ˜¯NULLã€‚ <strong>æ³¨æ„</strong>ï¼šRIGHT JOINä¸å¦‚LEFT JOINå¸¸ç”¨ï¼Œå› ä¸ºé€šè¿‡è°ƒæ¢è¡¨çš„ä½ç½®ï¼Œå®Œå…¨å¯ä»¥ç”¨LEFT JOINå®ç°åŒæ ·çš„æ•ˆæœï¼Œè¿™æ ·ä»£ç æ›´æ˜“è¯»ã€‚</p>
<h3 data-id="heading-5">4. FULL JOINï¼ˆå…¨å¤–è¿æ¥ï¼‰</h3>
<p>FULL JOINè¿”å›å·¦è¡¨å’Œå³è¡¨ä¸­çš„<strong>æ‰€æœ‰è®°å½•</strong>ã€‚å½“æŸè¡Œåœ¨å¦ä¸€ä¸ªè¡¨ä¸­æ²¡æœ‰åŒ¹é…è¡Œæ—¶ï¼Œå¦ä¸€ä¸ªè¡¨çš„åˆ—å°†åŒ…å«NULLã€‚å¦‚æœè¡¨ä¹‹é—´æœ‰åŒ¹é…ï¼Œåˆ™æ•´ä¸ªè¡ŒåŒ…å«ä¸¤ä¸ªè¡¨çš„æ•°æ®ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šéœ€è¦æŸ¥çœ‹ä¸¤ä¸ªè¡¨å®Œå…¨å¹¶é›†æ—¶ï¼Œå¦‚åˆå¹¶ä¸¤ä¸ªæ•°æ®æºã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> customers.customer_name, orders.order_id
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">FULL</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> orders <span class="hljs-keyword">ON</span> customers.customer_id <span class="hljs-operator">=</span> orders.customer_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šç»“åˆäº†LEFTå’ŒRIGHT JOINçš„ç»“æœã€‚ä¼šè¿”å›æ‰€æœ‰å®¢æˆ·å’Œæ‰€æœ‰è®¢å•ã€‚ä¸åŒ¹é…çš„åœ°æ–¹ç”¨NULLå¡«å……ã€‚ <strong>æ³¨æ„</strong>ï¼šMySQLä¸ç›´æ¥æ”¯æŒFULL OUTER JOINï¼Œä½†å¯ä»¥é€šè¿‡LEFT JOIN + UNION + RIGHT JOINæ¥æ¨¡æ‹Ÿã€‚</p>
<h3 data-id="heading-6">5. éšå¼è¿æ¥ï¼ˆImplicit Joinï¼‰</h3>
<p>éšå¼è¿æ¥æ˜¯ä½¿ç”¨WHEREå­å¥æŒ‡å®šè¿æ¥æ¡ä»¶çš„æ—§å¼è¯­æ³•ï¼Œåœ¨ANSI-92æ ‡å‡†å¼•å…¥JOIN...ONè¯­æ³•ä¹‹å‰ä½¿ç”¨ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¸æ¨èçš„è€å¼å†™æ³•</span>
<span class="hljs-keyword">SELECT</span> orders.order_id, customers.customer_name
<span class="hljs-keyword">FROM</span> orders, customers
<span class="hljs-keyword">WHERE</span> orders.customer_id <span class="hljs-operator">=</span> customers.customer_id;
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨éšå¼è¿æ¥ï¼Ÿ</strong></p>
<ul>
<li><strong>æ¸…æ™°åˆ†ç¦»</strong>ï¼šæ˜¾å¼JOIN...ONè¯­æ³•å°†è”æ¥é€»è¾‘ï¼ˆONï¼‰å’Œæ•°æ®è¿‡æ»¤é€»è¾‘ï¼ˆWHEREï¼‰åˆ†å¼€ï¼Œä»£ç æ›´æ˜“è¯»å’Œç»´æŠ¤</li>
<li><strong>é¿å…é”™è¯¯</strong>ï¼šè€å¼è¯­æ³•å¦‚æœå¿˜è®°å†™WHEREæ¡ä»¶ï¼Œå°±ä¼šæ„å¤–äº§ç”ŸCROSS JOINï¼ˆç¬›å¡å°”ç§¯ï¼‰ï¼Œäº§ç”Ÿå·¨å¤§çš„é”™è¯¯ç»“æœé›†ã€‚è€ŒINNER JOINå¿˜è®°ONå­å¥ä¼šåœ¨å¤šæ•°æ•°æ®åº“ç³»ç»Ÿä¸­ç›´æ¥æŠ¥é”™</li>
<li><strong>æ ‡å‡†ä¸€è‡´æ€§</strong>ï¼šæ˜¾å¼JOINæ˜¯SQLæ ‡å‡†ï¼Œå¯è¯»æ€§æ›´å¼ºï¼Œæ˜¯æ‰€æœ‰ç°ä»£æ•°æ®åº“æ¨èçš„æ–¹å¼</li>
</ul>
<h2 data-id="heading-7">ä¸‰ã€è¿æ¥è§„èŒƒä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-8">1. è¡¨åˆ«åä½¿ç”¨è§„èŒƒ</h3>
<p>å½“è¡¨åè¾ƒé•¿æˆ–æŸ¥è¯¢æ¶‰åŠå¤šä¸ªè¡¨æ—¶ï¼Œä½¿ç”¨è¡¨åˆ«åå¯ä»¥å¤§å¤§æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¥½çš„å†™æ³•</span>
<span class="hljs-keyword">SELECT</span> o.order_id, c.customer_name, e.last_name
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> o.employee_id <span class="hljs-operator">=</span> e.employee_id;

<span class="hljs-comment">-- é¿å…ä½¿ç”¨ä¸å…·æè¿°æ€§çš„åˆ«å</span>
<span class="hljs-keyword">SELECT</span> a.b, c.d, e.f  <span class="hljs-comment">-- ä¸æ¨èï¼šåˆ«åæ— æ„ä¹‰</span>
<span class="hljs-keyword">FROM</span> orders a, customers c, employees e;
</code></pre>
<h3 data-id="heading-9">2. åˆ—åé™å®šä¸æ­§ä¹‰å¤„ç†</h3>
<p>å½“å¤šä¸ªè¡¨æœ‰ç›¸åŒåˆ—åæ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¡¨åæˆ–åˆ«åæ¥é™å®šåˆ—åï¼Œé¿å…æ­§ä¹‰é”™è¯¯ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- âŒ é”™è¯¯ï¼šæ­§ä¹‰åˆ—å</span>
<span class="hljs-keyword">SELECT</span> name <span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;

<span class="hljs-comment">-- âœ… æ­£ç¡®ï¼šæ˜ç¡®æŒ‡å®šæ¥æº</span>
<span class="hljs-keyword">SELECT</span> e.name <span class="hljs-keyword">AS</span> employee_name, d.name <span class="hljs-keyword">AS</span> department_name
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;
</code></pre>
<h3 data-id="heading-10">3. ONå­å¥ä¸WHEREå­å¥çš„åˆ†ç¦»</h3>
<p>å°†è¿æ¥æ¡ä»¶æ”¾åœ¨ONå­å¥ä¸­ï¼Œå°†æ•°æ®è¿‡æ»¤æ¡ä»¶æ”¾åœ¨WHEREå­å¥ä¸­ï¼Œä½¿æŸ¥è¯¢é€»è¾‘æ›´æ¸…æ™°ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- âœ… æ¨èï¼šé€»è¾‘æ¸…æ™°</span>
<span class="hljs-keyword">SELECT</span> o.order_id, c.customer_name, o.amount
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id  <span class="hljs-comment">-- è¿æ¥æ¡ä»¶</span>
<span class="hljs-keyword">WHERE</span> o.amount <span class="hljs-operator">&gt;</span> <span class="hljs-number">1000</span> <span class="hljs-keyword">AND</span> o.order_date <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2023-01-01'</span>;  <span class="hljs-comment">-- è¿‡æ»¤æ¡ä»¶</span>

<span class="hljs-comment">-- âŒ ä¸æ¨èï¼šé€»è¾‘æ··åˆ</span>
<span class="hljs-keyword">SELECT</span> o.order_id, c.customer_name, o.amount
<span class="hljs-keyword">FROM</span> orders o, customers c
<span class="hljs-keyword">WHERE</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id
  <span class="hljs-keyword">AND</span> o.amount <span class="hljs-operator">&gt;</span> <span class="hljs-number">1000</span>
  <span class="hljs-keyword">AND</span> o.order_date <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2023-01-01'</span>;
</code></pre>
<h3 data-id="heading-11">4. ä½¿ç”¨USINGç®€åŒ–è¯­æ³•</h3>
<p>å½“è”æ¥ä¸¤ä¸ªè¡¨çš„åˆ—å<strong>å®Œå…¨ç›¸åŒæ—¶</strong>ï¼Œå¯ä»¥ä½¿ç”¨USINGå­å¥æ¥ç®€åŒ–ONè¯­æ³•ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä½¿ç”¨ONå­å¥</span>
<span class="hljs-keyword">SELECT</span> order_id, customer_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers <span class="hljs-keyword">ON</span> orders.customer_id <span class="hljs-operator">=</span> customers.customer_id;

<span class="hljs-comment">-- ä½¿ç”¨USINGç®€åŒ–ï¼ˆæ•ˆæœç›¸åŒï¼‰</span>
<span class="hljs-keyword">SELECT</span> order_id, customer_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers <span class="hljs-keyword">USING</span> (customer_id);
</code></pre>
<h2 data-id="heading-12">å››ã€é¿å…ä¸€å¯¹å¤šå…³ç³»å¯¼è‡´çš„æ•°æ®é‡å¤</h2>
<p>ä¸€å¯¹å¤šå…³ç³»æ˜¯è”è¡¨æŸ¥è¯¢ä¸­æœ€å¸¸è§çš„é—®é¢˜æ¥æºä¹‹ä¸€ã€‚å½“å·¦è¡¨çš„ä¸€è¡Œè®°å½•åŒ¹é…å³è¡¨çš„å¤šè¡Œè®°å½•æ—¶ï¼Œä¼šå¯¼è‡´å·¦è¡¨æ•°æ®åœ¨ç»“æœé›†ä¸­é‡å¤å‡ºç°ã€‚</p>
<h3 data-id="heading-13">é—®é¢˜ç¤ºä¾‹</h3>
<p>å‡è®¾æœ‰ä¸¤ä¸ªè¡¨ï¼š<code>departments</code>ï¼ˆéƒ¨é—¨è¡¨ï¼‰å’Œ<code>employees</code>ï¼ˆå‘˜å·¥è¡¨ï¼‰ï¼Œä¸€ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨åŠå…¶å‘˜å·¥</span>
<span class="hljs-keyword">SELECT</span> d.dept_name, e.emp_name
<span class="hljs-keyword">FROM</span> departments d
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id <span class="hljs-operator">=</span> e.dept_id;
</code></pre>
<p>å¦‚æœ"æŠ€æœ¯éƒ¨"æœ‰10åå‘˜å·¥ï¼Œåˆ™"æŠ€æœ¯éƒ¨"è¿™ä¸ªéƒ¨é—¨åç§°ä¼šåœ¨ç»“æœé›†ä¸­é‡å¤10æ¬¡ã€‚</p>
<h3 data-id="heading-14">è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-15">æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨DISTINCTå»é‡ï¼ˆå½“åªéœ€è¦å·¦è¡¨æ•°æ®æ—¶ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åªéœ€è¦éƒ¨é—¨ä¿¡æ¯æ—¶ä½¿ç”¨DISTINCT</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> d.dept_id, d.dept_name
<span class="hljs-keyword">FROM</span> departments d
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id <span class="hljs-operator">=</span> e.dept_id;
</code></pre>
<h4 data-id="heading-16">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨èšåˆå‡½æ•°</h4>
<pre><code class="hljs language-vbnet" lang="vbnet">-- ç»Ÿè®¡æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥æ•°é‡
<span class="hljs-keyword">SELECT</span> d.dept_name, COUNT(e.emp_id) <span class="hljs-keyword">AS</span> employee_count
<span class="hljs-keyword">FROM</span> departments d
LEFT <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id = e.dept_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> d.dept_id, d.dept_name;

-- åˆ—å‡ºæ¯ä¸ªéƒ¨é—¨çš„æ‰€æœ‰å‘˜å·¥ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
<span class="hljs-keyword">SELECT</span> d.dept_name, GROUP_CONCAT(e.emp_name) <span class="hljs-keyword">AS</span> employees
<span class="hljs-keyword">FROM</span> departments d
LEFT <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id = e.dept_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> d.dept_id, d.dept_name;
</code></pre>
<h4 data-id="heading-17">æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨çª—å£å‡½æ•°ï¼ˆé«˜çº§ç”¨æ³•ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¸ºæ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ç¼–å·ï¼Œé¿å…åœ¨åº”ç”¨å±‚å¤„ç†é‡å¤</span>
<span class="hljs-keyword">SELECT</span> d.dept_name, e.emp_name,
       <span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> d.dept_id <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> e.emp_name) <span class="hljs-keyword">as</span> emp_seq
<span class="hljs-keyword">FROM</span> departments d
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id <span class="hljs-operator">=</span> e.dept_id;
</code></pre>
<h4 data-id="heading-18">æ–¹æ¡ˆå››ï¼šä½¿ç”¨ç›¸å…³å­æŸ¥è¯¢ï¼ˆå½“åªéœ€è¦å³è¡¨çš„æ±‡æ€»ä¿¡æ¯æ—¶ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä½¿ç”¨å­æŸ¥è¯¢é¿å…ä¸€å¯¹å¤šé‡å¤</span>
<span class="hljs-keyword">SELECT</span> d.dept_id, d.dept_name,
       (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">FROM</span> employees e 
        <span class="hljs-keyword">WHERE</span> e.dept_id <span class="hljs-operator">=</span> d.dept_id) <span class="hljs-keyword">AS</span> employee_count
<span class="hljs-keyword">FROM</span> departments d;
</code></pre>
<h3 data-id="heading-19">å¦‚ä½•è¯†åˆ«ä¸€å¯¹å¤šå…³ç³»å¯¼è‡´çš„é—®é¢˜</h3>
<ol>
<li><strong>æ•°æ®é‡å¤</strong>ï¼šå·¦è¡¨çš„å”¯ä¸€æ ‡è¯†ç¬¦åœ¨ç»“æœé›†ä¸­å¤šæ¬¡å‡ºç°</li>
<li><strong>è®¡æ•°é”™è¯¯</strong>ï¼šä½¿ç”¨COUNT(*)æ—¶ç»“æœå¤§äºé¢„æœŸ</li>
<li><strong>æ±‡æ€»å¼‚å¸¸</strong>ï¼šä½¿ç”¨SUMã€AVGç­‰èšåˆå‡½æ•°æ—¶ç»“æœå¼‚å¸¸</li>
</ol>
<h2 data-id="heading-20">äº”ã€æ€§èƒ½ä¼˜åŒ–ä¸å¸¸è§é™·é˜±</h2>
<h3 data-id="heading-21">1. ç´¢å¼•ä½¿ç”¨ç­–ç•¥</h3>
<p>ä¸ºå…³è”å­—æ®µåˆ›å»ºç´¢å¼•æ˜¯æé«˜è”è¡¨æŸ¥è¯¢æ€§èƒ½çš„æœ€æœ‰æ•ˆæ–¹æ³•ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">-- ä¸ºè¿æ¥å­—æ®µåˆ›å»ºç´¢å¼•
CREATE INDEX idx_employees_dept_id ON <span class="hljs-built_in">employees</span>(dept_id);
CREATE INDEX idx_departments_id ON <span class="hljs-built_in">departments</span>(id);
</code></pre>
<p><strong>æœ€å·¦åŒ¹é…åŸåˆ™</strong>ï¼šå¯¹äºå¤åˆç´¢å¼•ï¼ŒæŸ¥è¯¢æ¡ä»¶åº”ä»ç´¢å¼•çš„æœ€å·¦ä¾§åˆ—å¼€å§‹åŒ¹é…ï¼Œæ‰èƒ½æœ‰æ•ˆåˆ©ç”¨ç´¢å¼•ã€‚</p>
<h3 data-id="heading-22">2. è¿æ¥é¡ºåºä¼˜åŒ–</h3>
<p>å¤šè¡¨è¿æ¥æ—¶ï¼Œè¿æ¥é¡ºåºä¼šå½±å“æŸ¥è¯¢æ€§èƒ½ã€‚ä¸€èˆ¬åŸåˆ™æ˜¯ï¼š</p>
<ul>
<li>å°†æ•°æ®é‡å°çš„è¡¨æ”¾åœ¨å‰é¢</li>
<li>å°†ç­›é€‰æ¡ä»¶æœ€ä¸¥æ ¼çš„è¡¨æ”¾åœ¨å‰é¢</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼˜åŒ–è¿æ¥é¡ºåºï¼šå°è¡¨é©±åŠ¨å¤§è¡¨</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employees <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'ACTIVE'</span>) e  <span class="hljs-comment">-- å…ˆè¿‡æ»¤</span>
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> companies c <span class="hljs-keyword">ON</span> d.company_id <span class="hljs-operator">=</span> c.id;
</code></pre>
<h3 data-id="heading-23">3. é¿å…åœ¨è¿æ¥æ¡ä»¶ä¸Šä½¿ç”¨å‡½æ•°æˆ–è®¡ç®—</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- âŒ ä¸æ¨èï¼šç´¢å¼•å¯èƒ½å¤±æ•ˆ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> <span class="hljs-built_in">UPPER</span>(o.customer_code) <span class="hljs-operator">=</span> <span class="hljs-built_in">UPPER</span>(c.code);

<span class="hljs-comment">-- âœ… æ¨èï¼šç›´æ¥æ¯”è¾ƒ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> o.customer_code <span class="hljs-operator">=</span> c.code;
</code></pre>
<h3 data-id="heading-24">4. NULLå€¼å¤„ç†</h3>
<p>æ³¨æ„ï¼šå†…è¿æ¥ä¼šè‡ªåŠ¨è¿‡æ»¤æ‰å…³è”å­—æ®µä¸ºNULLçš„è¡Œã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å†…è¿æ¥ä¼šæ’é™¤dept_idä¸ºNULLçš„å‘˜å·¥</span>
<span class="hljs-keyword">SELECT</span> e.emp_name, d.dept_name
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;

<span class="hljs-comment">-- å¦‚æœéœ€è¦åŒ…å«dept_idä¸ºNULLçš„å‘˜å·¥ï¼Œä½¿ç”¨LEFT JOIN</span>
<span class="hljs-keyword">SELECT</span> e.emp_name, d.dept_name
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;
</code></pre>
<h2 data-id="heading-25">å…­ã€å®æˆ˜åº”ç”¨æ€»ç»“</h2>









































<table><thead><tr><th>è¿æ¥ç±»å‹</th><th>ä½¿ç”¨åœºæ™¯</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td>INNER JOIN</td><td>æŸ¥æ‰¾æœ‰æ˜ç¡®å…³è”å…³ç³»çš„è®°å½•</td><td>åªè¿”å›åŒ¹é…çš„è¡Œ</td><td>ä¼šè‡ªåŠ¨è¿‡æ»¤NULLå…³è”å€¼</td></tr><tr><td>LEFT JOIN</td><td>ä¿ç•™å·¦è¡¨å…¨éƒ¨è®°å½•</td><td>è¿”å›å·¦è¡¨æ‰€æœ‰è¡Œ+å³è¡¨åŒ¹é…è¡Œ</td><td>å³è¡¨æ— åŒ¹é…æ—¶è¿”å›NULL</td></tr><tr><td>RIGHT JOIN</td><td>ä¿ç•™å³è¡¨å…¨éƒ¨è®°å½•</td><td>è¿”å›å³è¡¨æ‰€æœ‰è¡Œ+å·¦è¡¨åŒ¹é…è¡Œ</td><td>å¯ç”¨LEFT JOINæ›¿ä»£</td></tr><tr><td>FULL JOIN</td><td>éœ€è¦ä¸¤ä¸ªè¡¨çš„å®Œå…¨å¹¶é›†</td><td>è¿”å›ä¸¤ä¸ªè¡¨çš„æ‰€æœ‰è¡Œ</td><td>MySQLä¸­éœ€æ¨¡æ‹Ÿå®ç°</td></tr><tr><td>éšå¼è¿æ¥</td><td>ä¸æ¨èä½¿ç”¨</td><td>WHEREå­å¥ä¸­æŒ‡å®šæ¡ä»¶</td><td>æ˜“äº§ç”Ÿç¬›å¡å°”ç§¯</td></tr></tbody></table>
<p><strong>é€‰æ‹©è¿æ¥ç±»å‹çš„å†³ç­–æµç¨‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ˜¯å¦éœ€è¦ä¿ç•™æœªåŒ¹é…çš„è®°å½•ï¼Ÿ</strong></p>
<ul>
<li>å¦ â†’ ä½¿ç”¨INNER JOIN</li>
<li>æ˜¯ â†’ è¿›å…¥ç¬¬2æ­¥</li>
</ul>
</li>
<li>
<p><strong>éœ€è¦ä¿ç•™å“ªä¸ªè¡¨çš„æœªåŒ¹é…è®°å½•ï¼Ÿ</strong></p>
<ul>
<li>åªä¿ç•™å·¦è¡¨ â†’ ä½¿ç”¨LEFT JOIN</li>
<li>åªä¿ç•™å³è¡¨ â†’ ä½¿ç”¨RIGHT JOINï¼ˆæˆ–è°ƒæ¢è¡¨é¡ºåºç”¨LEFT JOINï¼‰</li>
<li>ä¸¤ä¸ªè¡¨éƒ½è¦ä¿ç•™ â†’ ä½¿ç”¨FULL JOIN</li>
</ul>
</li>
</ol>
<p><strong>æœ€ä½³å®è·µè¦ç‚¹</strong>ï¼š</p>
<ul>
<li>å§‹ç»ˆä½¿ç”¨æ˜¾å¼JOINè¯­æ³•ï¼Œé¿å…éšå¼è¿æ¥</li>
<li>ä¸ºå…³è”å­—æ®µåˆ›å»ºåˆé€‚çš„ç´¢å¼•</li>
<li>å¤šè¡¨è¿æ¥æ—¶ï¼Œç¡®ä¿è¿æ¥æ¡ä»¶æ•°é‡ = è¡¨æ•°é‡ - 1</li>
<li>è­¦æƒ•ä¸€å¯¹å¤šå…³ç³»å¯¼è‡´çš„æ•°æ®é‡å¤é—®é¢˜ï¼Œé€‚å½“å¯¹è¡¨å»ºç«‹è”åˆå”¯ä¸€ç´¢å¼•ã€‚</li>
<li>ä½¿ç”¨EXPLAINåˆ†æå¤æ‚æŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’</li>
</ul>
<p>è”è¡¨æŸ¥è¯¢æ˜¯SQLæ ¸å¿ƒæŠ€æœ¯ï¼Œæ­£ç¡®ä½¿ç”¨å¯ä»¥é«˜æ•ˆæ•´åˆåˆ†æ•£æ•°æ®ï¼Œä½†éœ€è¦æ·±å…¥ç†è§£æ¯ç§è¿æ¥ç±»å‹çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚é€šè¿‡æœ¬æŒ‡å—çš„å­¦ä¹ å’Œå®æˆ˜ç»ƒä¹ ï¼Œå¸Œæœ›ä½ èƒ½å¤Ÿè‡ªä¿¡åœ°åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿™äº›çŸ¥è¯†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Solidity æ˜¯ä»€ä¹ˆï¼ŸåŒºå—é“¾æ™ºèƒ½åˆçº¦å¼€å‘å…¥é—¨æŒ‡å— ä¸‹]]></title>    <link>https://juejin.cn/post/7580180556983353394</link>    <guid>https://juejin.cn/post/7580180556983353394</guid>    <pubDate>2025-12-05T10:54:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556983353394" data-draft-id="7579551971926360104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Solidity æ˜¯ä»€ä¹ˆï¼ŸåŒºå—é“¾æ™ºèƒ½åˆçº¦å¼€å‘å…¥é—¨æŒ‡å— ä¸‹"/> <meta itemprop="keywords" content="Solidity,web3"/> <meta itemprop="datePublished" content="2025-12-05T10:54:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ€æœ¯ä¸æ‰“çƒŠ"/> <meta itemprop="url" content="https://juejin.cn/user/893244690677165"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Solidity æ˜¯ä»€ä¹ˆï¼ŸåŒºå—é“¾æ™ºèƒ½åˆçº¦å¼€å‘å…¥é—¨æŒ‡å— ä¸‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/893244690677165/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ€æœ¯ä¸æ‰“çƒŠ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:54:36.000Z" title="Fri Dec 05 2025 10:54:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">Â å¼•è¨€ï¼šå®æ“å‰çš„å‡†å¤‡â€”â€”å¿ƒæ€ä¸å·¥å…·æ¸…å•</h2>
<p>**ä½ æ˜¯ä¸æ˜¯ä¹Ÿè¢«"Solidityéš¾åˆ°é£å¤©"çš„ä¼ è¯´å“è¿‡ï¼Ÿ**çœŸç›¸æ˜¯ï¼Œ99%è¢«å“åˆ°çš„äººå‹æ ¹æ²¡è¯•è¿‡çœŸçš„ä¸Šæ‰‹å†™ï¼å°±åƒå­¦å¼€è½¦ï¼Œçœ‹èµ·æ¥å¤æ‚å¾—è¦æ­»ï¼Œåä¸Šé©¾é©¶åº§30åˆ†é’Ÿå°±ä¸Šé“ã€‚Solidity ä¹Ÿä¸€æ ·â€”â€”<strong>å…ˆåˆ«çº ç»“åº•å±‚ç»†èŠ‚ï¼Œä¼˜å…ˆå»ºç«‹ä½“æ„Ÿæœ€å…³é”®</strong>ã€‚</p>
<p>è¿™ä¸€ç¯‡ä¸‹åŠæ®µï¼Œæˆ‘å°±å¸¦ä½ å½»åº•æ‹†è§£ Solidityï¼Œä»æ­å»ºå¼€å‘ç¯å¢ƒã€å­¦æ ¸å¿ƒè¯­æ³•ã€æ‰‹æ’¸ä¸¤ä¸ªå…¥é—¨åˆçº¦ï¼Œå†åˆ°ä¸Šçº¿éƒ¨ç½²ï¼Œå…¨ç¨‹é™ªä½ èµ°ä¸€éã€‚ä¿è¯ 3 å¤©å†…ï¼Œä½ å°±èƒ½çœ‹æ‡‚å¸‚é¢ä¸Š 80%çš„å…¬å¼€åˆçº¦ä»£ç ï¼Œç”šè‡³èƒ½æ”¹ä¸ªå‚æ•°è‡ªå·±è¯•è¯•ã€‚</p>
<p><strong>æ–°æ‰‹å®æ“çš„é“å¾‹åªæœ‰ä¸€æ¡ï¼šã€Œå…ˆè·‘é€šï¼Œå†ä¼˜åŒ–ã€</strong>ã€‚åˆ«ç®¡ä»€ä¹ˆåº•å±‚åŸç†ã€gas ä¼˜åŒ–ã€å®‰å…¨å®¡è®¡ï¼Œè¿™äº›éƒ½æ˜¯åè¯ã€‚å…ˆè®©ä»£ç è·‘èµ·æ¥ï¼Œå†æ…¢æ…¢æ‰“ç£¨ã€‚å¿ƒæ€æ‘†å¥½ï¼Œå’±ä»¬å¼€å§‹ã€‚</p>
<p>æå®šè¿™å‡ ä»¶å·¥å…·ï¼Œæ²¡å•¥å¤æ‚é…ç½®ï¼Œç›´æ¥ä¸Šæ‰‹ï¼š</p>
<ul>
<li><strong>Remix åœ¨çº¿ IDE</strong>ï¼šæ— éœ€æœ¬åœ°é…ç½®ï¼Œæ‰“å¼€ç½‘é¡µå°±å†™ä»£ç ï¼Œè¿™æ˜¯æ–°æ‰‹çš„å¤©å ‚</li>
<li><strong>æµ‹è¯•ç½‘ç»œ Sepolia</strong>ï¼šGoerli å·²ç»è¿‡æ—¶äº†ï¼ŒSepolia æ˜¯ 2025 å¹´çš„æ ‡é…ï¼Œå…è´¹è·å–æµ‹è¯• ETHï¼Œé›¶é£é™©å®éªŒ</li>
<li><strong>MetaMask é’±åŒ…</strong>ï¼šè¿æ¥æµ‹è¯•ç½‘ï¼Œéƒ¨ç½²åˆçº¦çš„å¿…å¤‡ä¼™ä¼´</li>
<li><strong>Solidity å®˜æ–¹æ–‡æ¡£ + Etherscan æµè§ˆå™¨</strong>ï¼šé‡åˆ°é—®é¢˜æŸ¥ä¸€ä¸‹ï¼Œé€æ˜åœ°çœ‹åˆ«äººçš„åˆçº¦æ€ä¹ˆå†™çš„</li>
</ul>
<h2 data-id="heading-1">å¼€å‘ç¯å¢ƒæ­å»ºï¼š3 æ­¥ä¸Šæ‰‹ Remix IDEï¼ˆå›¾æ–‡é€»è¾‘ç®€åŒ–ç‰ˆï¼‰</h2>
<blockquote>
<p><strong>ç”¨ Remixï¼Œ5 åˆ†é’Ÿæ­å¥½ç¯å¢ƒï¼Œä¸ç”¨èŠ±ä¸€æ•´å¤©æŠ˜è…¾æœ¬åœ°é…ç½®ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€ Remixï¼Œç†Ÿæ‚‰ç•Œé¢å¸ƒå±€</h2>
<p>è®¿é—®Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fremix.ethereum.org%2F" title="https://remix.ethereum.org/" target="_blank" ref="nofollow noopener noreferrer">remix.ethereum.org/</a>ï¼Œè¿™å°±æ˜¯ä½ çš„æˆ˜åœºã€‚ç•Œé¢ä¸€æ‰“å¼€çœ‹ç€å¤æ‚ï¼Œä½†å…¶å®å°±è¿™å‡ ä¸ªæ¨¡å—ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1c4e4e058a94ff8be95d47d3dc5abea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5LiN5omT54OK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536875&amp;x-signature=LFJY2jvYBkRAXTAFyOTMIYf5tpo%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>ç¼–è¾‘</p>
<ul>
<li><strong>å·¦è¾¹æ–‡ä»¶ç®¡ç†å™¨</strong>ï¼šæ–°å»ºã€åˆ é™¤ã€ç®¡ç† .sol æ–‡ä»¶çš„åœ°å„¿</li>
<li><strong>ä¸­é—´ç¼–è¾‘å™¨</strong>ï¼šå†™ä»£ç çš„åœ°æ–¹ï¼Œå°±æ˜¯ä¸ªé«˜çº§è®°äº‹æœ¬</li>
<li><strong>ä¸‹é¢ç¼–è¯‘å™¨é¢æ¿</strong>ï¼šç¼–è¯‘ä½ çš„ä»£ç ï¼Œæ£€æŸ¥æœ‰æ²¡æœ‰è¯­æ³•é”™è¯¯</li>
<li><strong>å³è¾¹éƒ¨ç½²é¢æ¿</strong>ï¼šéƒ¨ç½²åˆçº¦åˆ°æµ‹è¯•ç½‘çš„æ ¸å¿ƒæ“ä½œåŒº</li>
<li><strong>æœ€ä¸‹é¢ç»ˆç«¯</strong>ï¼šæ‰€æœ‰äº¤æ˜“è®°å½•ã€é”™è¯¯æç¤ºéƒ½åœ¨è¿™å„¿</li>
</ul>
<p><strong>æ–°æ‰‹ç¬¬ä¸€ä¸ªæ“ä½œ</strong>ï¼šå·¦è¾¹æ–‡ä»¶ç®¡ç†å™¨é‡Œï¼Œç‚¹Â <strong>æ–°å»ºæ–‡ä»¶</strong>Â â†’ èµ·ä¸ªåå­—ï¼Œæ¯”å¦‚Â <code>HelloWeb3.sol</code>Â â†’ å°±èƒ½å¼€å§‹å†™ä»£ç äº†ã€‚</p>
<h2 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé…ç½®ç¼–è¯‘å™¨ç‰ˆæœ¬ï¼ˆè¿™ä¸€æ­¥è¶…å…³é”®ï¼‰</h2>
<p>çœ‹å³è¾¹çš„ç¼–è¯‘å™¨é¢æ¿ï¼Œé¡¶éƒ¨æœ‰ä¸ªç‰ˆæœ¬é€‰æ‹©ã€‚<strong>æ¨èé€‰ 0.8.x çš„æœ€æ–°ç¨³å®šç‰ˆ</strong>ï¼Œæ¯”å¦‚ 0.8.26ï¼ˆ2025 å¹´æœ€æ–°ï¼‰ã€‚ä¸ºå•¥ï¼Ÿå› ä¸º 0.8.0 ä¹‹åï¼ŒSolidity å†…ç½®äº†è‡ªåŠ¨æº¢å‡ºæ£€æŸ¥ï¼Œä½ ä¸ç”¨æ‰‹åŠ¨å¤„ç†æ•´æ•°æº¢å‡ºé—®é¢˜ï¼Œä¸€åˆ‡éƒ½æ›´å®‰å…¨äº†ã€‚</p>
<p><strong>åˆ«é€‰å¤ªæ—§çš„ç‰ˆæœ¬ï¼Œ0.7.x åŠä»¥ä¸‹çš„å·²ç»è¢«æ·˜æ±°äº†ï¼Œä»£ç å†™å‡ºæ¥ä¸€å †å‘ã€‚</strong></p>
<h2 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šè¿æ¥ MetaMask æµ‹è¯•ç½‘ï¼ˆè¿™æ˜¯éƒ¨ç½²çš„å‰ç½®æ¡ä»¶ï¼‰</h2>
<p><strong>ç°åœ¨çš„æƒ…å†µæ˜¯è¿™æ ·çš„</strong>ï¼šGoerli æµ‹è¯•ç½‘å·²ç»åœ¨ 2024 å¹´ 4 æœˆåœæ­¢ç»´æŠ¤äº†ï¼Œæœ€æ–°æ ‡é…æ˜¯Â <strong>Sepolia</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/932918cf2ac24d97b7d51eb53fbcbf63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5LiN5omT54OK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536875&amp;x-signature=EAr56K8lDu5%2BU8rhNJY4kgKvInE%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>ç¼–è¾‘</p>
<p><strong>è¿æ¥æ­¥éª¤è¶…ç®€å•</strong>ï¼š</p>
<ol>
<li>
<p>æ‰“å¼€ MetaMaskï¼Œç‚¹å³ä¸Šè§’çš„ç½‘ç»œé€‰æ‹©å™¨</p>
</li>
<li>
<p>å¼€å¯Â <strong>"æ˜¾ç¤ºæµ‹è¯•ç½‘ç»œ"</strong>Â çš„å¼€å…³ï¼ˆä¸å¼€è¿™ä¸ªï¼Œä½ çœ‹ä¸åˆ°æµ‹è¯•ç½‘é€‰é¡¹ï¼‰</p>
</li>
<li>
<p>é€‰æ‹©Â <strong>"Sepolia"</strong>Â æˆ–ç‚¹Â <strong>"æ·»åŠ ç½‘ç»œ"</strong>Â æ‰‹åŠ¨å¡«å…¥ï¼š</p>
<ul>
<li>ç½‘ç»œåç§°ï¼šSepolia Testnet</li>
<li>RPC URLï¼š<code>https://eth-sepolia.g.alchemy.com/v2/demo</code></li>
<li>é“¾ IDï¼š11155111</li>
<li>åŒºå—æµè§ˆå™¨ï¼š<code>https://sepolia.etherscan.io</code></li>
</ul>
</li>
<li>
<p>è·å–æµ‹è¯• ETHï¼šè®¿å…è´¹æ°´é¾™å¤´ï¼ˆFaucetï¼‰ï¼Œè¾“å…¥ä½ çš„é’±åŒ…åœ°å€ï¼Œå°±èƒ½é¢†å…è´¹æµ‹è¯•å¸ï¼Œè¿™ç©æ„å„¿æ²¡æœ‰çœŸå®ä»·å€¼ï¼Œéšä¾¿ç”¨</p>
</li>
</ol>
<p><strong>å¸¸è§æŠ¥é”™åŠè§£å†³</strong>ï¼š</p>
<ul>
<li><strong>"é’±åŒ…è¿æ¥å¤±è´¥"</strong> ï¼šæ£€æŸ¥ä¸€ä¸‹ RPC URL æœ‰æ²¡æœ‰è¾“é”™ï¼Œè¯•è¯•æ¢ä¸ª RPC æœåŠ¡å•†ï¼ˆAlchemyã€GetBlockã€Infura éƒ½è¡Œï¼‰</li>
<li><strong>"é¢†å–æµ‹è¯• ETH æ˜¾ç¤ºåœ°å€å·²ç”¨è¿‡"</strong> ï¼šæ¢ä¸ªé’±åŒ…åœ°å€æˆ–éš”å¤©å†è¯•ï¼Œæ°´é¾™å¤´æœ‰æµé‡é™åˆ¶</li>
<li><strong>"ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸å…¼å®¹"</strong> ï¼šç¡®ä¿ä½ é€‰çš„ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸è¦å¤ªå¤è€ï¼Œæœ€å¥½ç”¨ 0.8.x</li>
</ul>
<h2 data-id="heading-5">Solidity è¯­æ³•åŸºç¡€ï¼šæ ¸å¿ƒè¦ç´ å¿«é€ŸæŒæ¡ï¼ˆæ–°æ‰‹å¿…å­¦ï¼‰</h2>
<h2 data-id="heading-6">åˆçº¦çš„åŸºæœ¬ç»“æ„ï¼Œé€è¡Œè§£æ</h2>
<p><strong>Solidity åˆçº¦çš„æ¡†æ¶çœ‹èµ·æ¥æ˜¯è¿™æ ·æ»´</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç¬¬ä¸€è¡Œï¼šç‰ˆæœ¬å£°æ˜</span>
pragma solidity ^<span class="hljs-number">0.8</span><span class="hljs-number">.26</span>;

<span class="hljs-comment">// ç¬¬äºŒè¡Œï¼šåˆçº¦å£°æ˜</span>
contract MyContract {
Â  Â  <span class="hljs-comment">// åˆçº¦çš„ä»£ç éƒ½åœ¨è¿™ä¸ªå¤§æ‹¬å·é‡Œ</span>
Â  Â  <span class="hljs-comment">// çŠ¶æ€å˜é‡ã€å‡½æ•°ç­‰ç­‰</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ‹†è§£ä¸€ä¸‹</strong>ï¼š</p>
<ul>
<li><strong><code>pragma solidity ^0.8.26;</code></strong> ï¼šå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä»½ä»£ç æ˜¯ç”¨ Solidity 0.8.26 æˆ–æ›´é«˜ç‰ˆæœ¬å†™çš„ï¼ˆä½†ä¸è¶…è¿‡ 0.9.0ï¼‰ã€‚^ç¬¦å·çš„æ„æ€å°±æ˜¯"å‘ä¸Šå…¼å®¹"ã€‚å¦‚æœä½ å†™ 0.8.17ï¼Œé‚£ä½ å¾—æ”¹æˆÂ <code>^0.8.17</code></li>
<li><strong><code>contract MyContract {}</code></strong> ï¼šå®šä¹‰ä¸€ä¸ªåˆçº¦å«Â <code>MyContract</code>ã€‚ä¸€ä¸ª .sol æ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªåˆçº¦ï¼Œä½†é€šå¸¸ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªä¸»åˆçº¦</li>
<li><strong>æ³¨é‡Š</strong>ï¼š<code>// å•è¡Œæ³¨é‡Š</code>Â æˆ–Â <code>/* å¤šè¡Œæ³¨é‡Š */</code>ï¼Œç¼–è¯‘æ—¶ä¼šè¢«å®Œå…¨å¿½ç•¥</li>
</ul>
<h2 data-id="heading-7">æ ¸å¿ƒæ•°æ®ç±»å‹ï¼ŒæŒæ¡è¿™äº›å°±å¤Ÿç”¨</h2>
<p><strong>æ–°æ‰‹å¿…é¡»æŒæ¡çš„ç±»å‹</strong>ï¼ˆåˆ«æƒ³ç€ä¸€æ¬¡å…¨è®°ä½ï¼Œè¾¹å†™è¾¹è®°ï¼‰ï¼š</p>
<p><strong>å€¼ç±»å‹</strong>ï¼ˆç®€å•æ•°æ®ï¼Œæ¯”å¦‚æ•°å­—ã€åœ°å€ï¼‰ï¼š</p>
<ul>
<li><strong><code>uint</code></strong>Â /Â <strong><code>uint256</code></strong>ï¼šæ— ç¬¦å·æ•´æ•°ï¼Œå°±æ˜¯ä¸èƒ½æ˜¯è´Ÿæ•°çš„æ•´æ•°ã€‚èŒƒå›´æ˜¯ 0 åˆ° 2^256-1ï¼Œå¤§å¾—å“äººã€‚ä½ è½¬è´¦å¤šå°‘ ETHã€ä½™é¢æ˜¯å¤šå°‘ï¼Œéƒ½ç”¨è¿™ä¸ª</li>
<li><strong><code>address</code></strong>ï¼šé’±åŒ…åœ°å€ï¼Œå°±æ˜¯é‚£ä¸€é•¿ä¸²Â <code>0x...</code>Â å¼€å¤´çš„ä¸œè¥¿ã€‚æ¯”å¦‚Â <code>0x742d35Cc6634C0532925a3b844Bc9e7595f42bE</code>ã€‚ä¸€ä¸ª address å  20 å­—èŠ‚</li>
<li><strong><code>bool</code></strong>ï¼šåªæœ‰ä¸¤ä¸ªå€¼ï¼š<code>true</code>Â æˆ–Â <code>false</code>ã€‚åˆ¤æ–­æ¡ä»¶ã€æƒé™éªŒè¯ç»å¸¸ç”¨</li>
<li><strong><code>string</code></strong>ï¼šå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ "Hello Web3!"ã€‚ä½†æ³¨æ„ï¼Œstring åœ¨ Solidity é‡Œå¤„ç†èµ·æ¥æ¯”è¾ƒè´µï¼ˆæ¶ˆè€—æ›´å¤š gasï¼‰ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ä¼šå¤§é‡å­˜å‚¨</li>
</ul>
<p><strong>å¼•ç”¨ç±»å‹</strong>ï¼ˆå¤æ‚æ•°æ®ï¼Œæ¯”å¦‚é›†åˆï¼‰ï¼š</p>
<ul>
<li><strong>æ•°ç»„Â <code>array</code></strong>ï¼šæ¯”å¦‚Â <code>uint[] memory arr</code>Â æˆ–Â <code>uint[10] storage arr</code>ã€‚å‰è€…æ˜¯åŠ¨æ€æ•°ç»„ï¼ˆå¤§å°ä¸å›ºå®šï¼‰ï¼Œåè€…æ˜¯å›ºå®šå¤§å°ã€‚å¯ä»¥å­˜å¤šä¸ªåŒç±»å‹çš„æ•°æ®</li>
<li><strong>æ˜ å°„Â <code>mapping</code></strong>ï¼ˆé‡ç‚¹è®²ï¼‰ï¼šå°±åƒå­—å…¸æˆ– Mapï¼Œå­˜é”®å€¼å¯¹ã€‚æ¯”å¦‚Â <code>mapping(address =&gt; uint256) public balance</code>ï¼Œæ„æ€æ˜¯æ¯ä¸ªåœ°å€ï¼ˆaddressï¼‰å¯¹åº”ä¸€ä¸ªä½™é¢ï¼ˆuint256ï¼‰ã€‚è¿™æ˜¯ Solidity é‡Œæœ€é«˜æ•ˆçš„å­˜å‚¨ç»“æ„ï¼Œç»å¯¹ä¼šç”¨åˆ°</li>
</ul>
<h2 data-id="heading-8">å˜é‡ä¸çŠ¶æ€ç®¡ç†</h2>
<p><strong>çŠ¶æ€å˜é‡</strong>ï¼šå†™åœ¨åˆçº¦å†…éƒ¨ã€å‡½æ•°å¤–é¢çš„å˜é‡ï¼Œæ°¸ä¹…å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šã€‚éƒ¨ç½²å®Œåˆçº¦å°±ä¸€ç›´åœ¨é“¾ä¸Šï¼ŒèŠ± gasã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">contract <span class="hljs-title class_">Bank</span> {
Â  Â  <span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">address</span> =&gt;</span> uint256) <span class="hljs-keyword">public</span> userBalance; <span class="hljs-comment">// è¿™å°±æ˜¯çŠ¶æ€å˜é‡ï¼Œå­˜ç”¨æˆ·ä½™é¢</span>
Â  Â  address <span class="hljs-keyword">public</span> owner; <span class="hljs-comment">// è¿™ä¹Ÿæ˜¯çŠ¶æ€å˜é‡ï¼Œè®°å½•åˆçº¦æ‰€æœ‰è€…</span>
}
</code></pre>
<p><strong>å±€éƒ¨å˜é‡</strong>ï¼šå†™åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå‡½æ•°æ‰§è¡Œå®Œå°±æ¶ˆå¤±äº†ï¼Œä¸å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">function <span class="hljs-title">calculate</span>() <span class="hljs-keyword">public</span></span> {
Â  Â  uint256 result = <span class="hljs-number">10</span> + <span class="hljs-number">5</span>; <span class="hljs-comment">// result æ˜¯å±€éƒ¨å˜é‡ï¼Œå‡½æ•°ä¸€ç»“æŸå°±æ²¡äº†</span>
}
</code></pre>
<p><strong>å¯è§æ€§ä¿®é¥°ç¬¦</strong>ï¼ˆè°èƒ½è®¿é—®è¿™ä¸ªå˜é‡ï¼‰ï¼š</p>
<ul>
<li><strong><code>public</code></strong>ï¼šä»»ä½•äººéƒ½èƒ½è¯»ï¼Œåˆçº¦è‡ªåŠ¨ç”Ÿæˆ getter å‡½æ•°è®©ä½ æŸ¥è¯¢ï¼ˆè¿™ä¼šæ¶ˆè€—ä¸€ç‚¹ gasï¼‰</li>
<li><strong><code>private</code></strong>ï¼šåªæœ‰è¿™ä¸ªåˆçº¦å†…éƒ¨çš„å‡½æ•°èƒ½è¯»ï¼Œå¤–é¢çš„äººå’Œå…¶ä»–åˆçº¦çœ‹ä¸åˆ°</li>
<li><strong><code>internal</code></strong>ï¼šåªæœ‰è¿™ä¸ªåˆçº¦å’Œç»§æ‰¿å®ƒçš„åˆçº¦èƒ½è¯»</li>
<li><strong><code>external</code></strong>ï¼šåªèƒ½ä»åˆçº¦å¤–éƒ¨è°ƒç”¨</li>
</ul>
<h2 data-id="heading-9">å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨</h2>
<p><strong>åŸºæœ¬æ ¼å¼</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> å‡½æ•°å(å‚æ•°ç±»å‹ å‚æ•°å) å¯è§æ€§ ä¿®é¥°ç¬¦ <span class="hljs-title function_">returns</span>(<span class="hljs-params">è¿”å›ç±»å‹</span>) {
Â  Â  <span class="hljs-comment">// å‡½æ•°ä½“</span>
Â  Â  <span class="hljs-keyword">return</span> è¿”å›å€¼;
}
</code></pre>
<p><strong>ä¸¾ä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">transfer</span>(<span class="hljs-params">address to, uint256 amount</span>) public payable <span class="hljs-title function_">returns</span>(<span class="hljs-params">bool</span>) {
Â  Â  <span class="hljs-comment">// å‡½æ•°ä½“</span>
Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<p><strong>å…³é”®ä¿®é¥°ç¬¦</strong>ï¼š</p>
<ul>
<li><strong><code>view</code></strong>ï¼šä¸ä¿®æ”¹åŒºå—é“¾çŠ¶æ€ï¼Œåªè¯»æ•°æ®ã€‚è°ƒç”¨æ—¶ä¸æ¶ˆè€— gasï¼ˆå¦‚æœæ˜¯Â <code>external</code>Â è°ƒç”¨ï¼‰ã€‚æ¯”å¦‚æŸ¥è¯¢ä½™é¢</li>
<li><strong><code>pure</code></strong>ï¼šæ—¢ä¸è¯»ä¹Ÿä¸å†™çŠ¶æ€ï¼Œå°±æ˜¯åšæ•°å­¦è®¡ç®—ã€‚è°ƒç”¨æ—¶ä¸æ¶ˆè€— gas</li>
<li><strong><code>payable</code></strong>ï¼šè¿™ä¸ªå‡½æ•°èƒ½æ¥æ”¶ ETHã€‚ä¸åŠ è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œå‡½æ•°ä¼šæ‹’ç»æ¥æ”¶ ETHï¼Œè½¬è´¦ä¼šå¤±è´¥</li>
<li><strong>ä¸åŠ ä¿®é¥°ç¬¦</strong>ï¼šé»˜è®¤ä¼šä¿®æ”¹çŠ¶æ€ï¼Œæ¶ˆè€— gasï¼Œè¿™æ˜¯æœ€å¸¸è§çš„æƒ…å†µ</li>
</ul>
<p><strong>å‡½æ•°è°ƒç”¨çš„ä¸¤ç§æ–¹å¼</strong>ï¼š</p>
<ul>
<li><strong>å†…éƒ¨è°ƒç”¨</strong>ï¼šåˆçº¦å†…éƒ¨çš„å‡½æ•°è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼Œå°±åƒÂ <code>this.transfer(...)</code>ï¼Œæ¶ˆè€—å°‘é‡ gas</li>
<li><strong>å¤–éƒ¨è°ƒç”¨</strong>ï¼šä»é“¾å¤–ï¼ˆæ¯”å¦‚ä½ çš„é’±åŒ…ï¼‰æˆ–å…¶ä»–åˆçº¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œæ¶ˆè€—æ›´å¤š gas</li>
</ul>
<h2 data-id="heading-10">æ‰‹æŠŠæ‰‹å¼€å‘ç¬¬ä¸€ä¸ª Solidity åˆçº¦ï¼šã€ŒHello Web3ã€+ ç®€å•è½¬è´¦åˆçº¦</h2>
<h2 data-id="heading-11">å…¥é—¨æ¡ˆä¾‹ 1ï¼šHello Web3 åˆçº¦ï¼ˆç†Ÿæ‚‰è¯­æ³•ï¼‰</h2>
<p><strong>éœ€æ±‚å¾ˆç®€å•</strong>ï¼šéƒ¨ç½²ä¸€ä¸ªåˆçº¦ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°å°±è¿”å›"Hello Web3!"ã€‚æ²¡æœ‰çŠ¶æ€å˜åŒ–ï¼Œå°±æ˜¯ç†Ÿæ‚‰æµç¨‹ã€‚</p>
<p><strong>å®Œæ•´ä»£ç </strong>ï¼š</p>
<p><strong>é€è¡Œè§£æ</strong>ï¼š</p>
<ul>
<li><code>// SPDX-License-Identifier: MIT</code>ï¼šå¼€æºè®¸å¯è¯å£°æ˜ï¼Œå‘Šè¯‰åˆ«äººè¿™ä»½ä»£ç æ˜¯ MIT åè®®</li>
<li><code>pragma solidity ^0.8.26;</code>ï¼šç¼–è¯‘å™¨ç‰ˆæœ¬ï¼Œ0.8.26 æˆ–ä»¥ä¸Š</li>
<li><code>contract HelloWeb3 {}</code>ï¼šå®šä¹‰åˆçº¦åå­—</li>
<li><code>function sayHello()...</code>ï¼šå®šä¹‰å‡½æ•°åÂ <code>sayHello</code></li>
<li><code>public</code>ï¼šä»»ä½•äººéƒ½èƒ½è°ƒç”¨</li>
<li><code>pure</code>ï¼šä¸è¯»ä¸å†™çŠ¶æ€</li>
<li><code>returns(string memory)</code>ï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</li>
<li><code>return "Hello Web3!";</code>ï¼šè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²</li>
</ul>
<p><strong>ç¼–è¯‘ + éƒ¨ç½² + è°ƒç”¨æµç¨‹</strong>ï¼š</p>
<ol>
<li><strong>æ‰“å¼€ Remix</strong>ï¼Œæ–°å»ºæ–‡ä»¶Â <code>HelloWeb3.sol</code>ï¼Œç²˜è´´ä¸Šé¢çš„ä»£ç </li>
<li><strong>ç¼–è¯‘</strong>ï¼šå·¦è¾¹ç‚¹ç¼–è¯‘å™¨å›¾æ ‡ï¼Œæ£€æŸ¥æœ‰æ²¡æœ‰é”™ã€‚æˆåŠŸäº†ä¼šçœ‹åˆ°ç»¿è‰²å¯¹å‹¾</li>
<li><strong>éƒ¨ç½²</strong>ï¼šå³è¾¹éƒ¨ç½²é¢æ¿ï¼Œé€‰å¥½è´¦æˆ·å’Œç½‘ç»œï¼ˆSepoliaï¼‰ï¼Œç‚¹Â <strong>Deploy</strong>ã€‚ç­‰ 10 ç§’å·¦å³ï¼Œäº¤æ˜“ç¡®è®¤</li>
<li><strong>è°ƒç”¨</strong>ï¼šéƒ¨ç½²æˆåŠŸåï¼Œä¸‹é¢ä¼šå‡ºç°åˆçº¦çš„å‡½æ•°åˆ—è¡¨ï¼Œæ‰¾åˆ°Â <code>sayHello</code>ï¼Œç‚¹ä¸€ä¸‹ã€‚ç»“æœå°±æ˜¾ç¤ºå‡ºæ¥äº†</li>
</ol>
<p><strong>Etherscan ä¸ŠéªŒè¯</strong>ï¼šéƒ¨ç½²åï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªäº¤æ˜“å“ˆå¸Œï¼Œæ¯”å¦‚Â <code>0x12345...</code>ã€‚å¤åˆ¶è¿™ä¸ªå“ˆå¸Œï¼Œå»Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fsepolia.etherscan.io%2F" title="https://sepolia.etherscan.io/" target="_blank" ref="nofollow noopener noreferrer">sepolia.etherscan.io</a>Â æœä¸€ä¸‹ï¼Œå°±èƒ½çœ‹åˆ°ä½ çš„åˆçº¦éƒ¨ç½²è®°å½•ã€ä»£ç ã€äº¤æ˜“è¯¦æƒ…ã€‚<strong>è¿™å°±æ˜¯åŒºå—é“¾çš„é€æ˜æ€§</strong>â€”â€”æ‰€æœ‰äººéƒ½èƒ½æŸ¥ã€‚</p>
<h2 data-id="heading-12">å…¥é—¨æ¡ˆä¾‹ 2ï¼šç®€å•è½¬è´¦åˆçº¦ï¼ˆæœ‰çŠ¶æ€ï¼Œä½“éªŒä»·å€¼äº¤äº’ï¼‰</h2>
<p><strong>éœ€æ±‚å‡çº§äº†</strong>ï¼šç”¨æˆ·å‘åˆçº¦è½¬è´¦ ETH â†’ åˆçº¦è®°å½•æ¯ä¸ªåœ°å€çš„ä½™é¢ â†’ ç”¨æˆ·å¯ä»¥æŸ¥è¯¢ â†’ æ‰€æœ‰è€…å¯ä»¥æå–ã€‚<strong>è¿™æ˜¯çœŸæ­£çš„ä»·å€¼äº¤äº’</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9ee755cb13b4aa58dcf38556ab4a1d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5LiN5omT54OK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536875&amp;x-signature=A0dfGzKJRbgBwQJw%2BXUtsI9v0dk%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>ç¼–è¾‘</p>
<p><strong>å®Œæ•´ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>
pragma solidity ^<span class="hljs-number">0.8</span><span class="hljs-number">.26</span>;

contract <span class="hljs-title class_">SimpleBank</span> {
Â  Â  <span class="hljs-comment">// çŠ¶æ€å˜é‡ 1ï¼šè®°å½•æ¯ä¸ªåœ°å€çš„ä½™é¢</span>
Â  Â  <span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">address</span> =&gt;</span> uint256) <span class="hljs-keyword">public</span> userBalance;

Â  Â  <span class="hljs-comment">// çŠ¶æ€å˜é‡ 2ï¼šè®°å½•åˆçº¦çš„æ‰€æœ‰è€…</span>
Â  Â  address <span class="hljs-keyword">public</span> owner;

Â  Â  <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼šéƒ¨ç½²æ—¶æ‰§è¡Œä¸€æ¬¡</span>
Â  Â  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
Â  Â  Â  Â  owner = msg.<span class="hljs-property">sender</span>; <span class="hljs-comment">// msg.sender æ˜¯éƒ¨ç½²è€…çš„åœ°å€</span>
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 1ï¼šç”¨æˆ·å‘åˆçº¦è½¬è´¦ï¼ˆæ¥æ”¶ ETHï¼‰</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">deposit</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> payable {
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(msg.<span class="hljs-property">value</span> &gt; <span class="hljs-number">0</span>, <span class="hljs-string">"Must send ETH"</span>); <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è½¬è´¦äº†</span>
Â  Â  Â  Â  userBalance[msg.<span class="hljs-property">sender</span>] += msg.<span class="hljs-property">value</span>; <span class="hljs-comment">// è®°å½•ä½™é¢</span>
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 2ï¼šæŸ¥è¯¢ç”¨æˆ·ä½™é¢ï¼ˆåªè¯»ï¼Œä¸æ¶ˆè€— gasï¼‰</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBalance</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> view <span class="hljs-title function_">returns</span>(<span class="hljs-params">uint256</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> userBalance[msg.<span class="hljs-property">sender</span>];
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 3ï¼šæå–ä½™é¢ï¼ˆåªæœ‰æ‰€æœ‰è€…èƒ½è°ƒç”¨ï¼‰</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">withdraw</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> {
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(msg.<span class="hljs-property">sender</span> == owner, <span class="hljs-string">"Only owner can withdraw"</span>); <span class="hljs-comment">// æƒé™æ£€æŸ¥</span>
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(<span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span> &gt; <span class="hljs-number">0</span>, <span class="hljs-string">"No balance"</span>); <span class="hljs-comment">// åˆçº¦ä½™é¢æ£€æŸ¥</span>

Â  Â  Â  Â  <span class="hljs-comment">// æå–æ‰€æœ‰ä½™é¢ç»™æ‰€æœ‰è€…</span>
Â  Â  Â  Â  (bool success, ) = owner.<span class="hljs-property">call</span>{<span class="hljs-attr">value</span>: <span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span>}(<span class="hljs-string">""</span>);
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(success, <span class="hljs-string">"Transfer failed"</span>);
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 4ï¼šæŸ¥è¯¢åˆçº¦æ€»ä½™é¢</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getContractBalance</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> view <span class="hljs-title function_">returns</span>(<span class="hljs-params">uint256</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span>;
Â  Â  }
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒçŸ¥è¯†ç‚¹è®²è§£</strong>ï¼š</p>
<ul>
<li><strong><code>msg.sender</code></strong>ï¼šå½“å‰è°ƒç”¨è€…çš„åœ°å€ã€‚ä½ è°ƒç”¨å‡½æ•°ï¼Œmsg.sender å°±æ˜¯ä½ çš„é’±åŒ…åœ°å€</li>
<li><strong><code>msg.value</code></strong>ï¼šè½¬è´¦çš„ ETH é‡‘é¢ï¼ˆå•ä½æ˜¯ weiï¼Œ1 ETH = 10^18 weiï¼‰ã€‚åªæœ‰Â <code>payable</code>Â å‡½æ•°æ‰èƒ½æ¥æ”¶</li>
<li><strong><code>mapping</code></strong>ï¼šå­—å…¸ç»“æ„ï¼Œ<code>mapping(address =&gt; uint256)</code>Â å°±æ˜¯"åœ°å€"å¯¹åº”"é‡‘é¢"ã€‚æ¯”Â <code>userBalance[0x123...] = 1000</code>Â å°±æ˜¯å­˜æ•°æ®</li>
<li><strong><code>require(æ¡ä»¶, é”™è¯¯ä¿¡æ¯)</code></strong> ï¼šæ£€æŸ¥æ¡ä»¶æ˜¯å¦æ»¡è¶³ï¼Œä¸æ»¡è¶³å°±æŠ›å‡ºé”™è¯¯å¹¶å›æ»šã€‚æ¯”å¦‚Â <code>require(msg.value &gt; 0, "Must send ETH")</code>Â å°±æ˜¯"è½¬è´¦é‡‘é¢å¿…é¡»å¤§äº 0ï¼Œå¦åˆ™æŠ¥é”™"</li>
<li><strong><code>address(this)</code></strong> ï¼šè¿™ä¸ªåˆçº¦è‡ªå·±çš„åœ°å€ï¼Œç”¨æ¥æŸ¥è¯¢åˆçº¦æœ¬èº«æœ‰å¤šå°‘ ETH</li>
<li><strong><code>address(this).call{value: ...}("")</code></strong> ï¼šç”¨ call æ–¹æ³•è½¬è´¦ç»™æŸä¸ªåœ°å€ï¼Œå®‰å…¨æ€§æ¯”è€æ–¹æ³•å¼ºï¼ˆè€æ–¹æ³•å®¹æ˜“è¢«é‡å…¥æ”»å‡»ï¼‰</li>
<li><strong><code>constructor()</code></strong> ï¼šæ„é€ å‡½æ•°ï¼Œåˆçº¦éƒ¨ç½²æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œé€šå¸¸ç”¨æ¥åˆå§‹åŒ–æ•°æ®</li>
</ul>
<p><strong>éƒ¨ç½² + æµ‹è¯•æµç¨‹</strong>ï¼š</p>
<ol>
<li><strong>ç²˜è´´ä»£ç </strong>åˆ° Remixï¼Œç¼–è¯‘ã€éƒ¨ç½²åˆ° Sepolia</li>
<li><strong>å­˜é’±</strong>ï¼šæ‰¾åˆ°Â <code>deposit</code>Â å‡½æ•°ï¼Œåœ¨ä¸Šé¢è¾“å…¥æ¡†é‡Œè¾“å…¥Â <code>1</code>Â ETHï¼ˆRemix ä¼šè‡ªåŠ¨è½¬æ¢ï¼‰ï¼Œç‚¹è°ƒç”¨</li>
<li><strong>æŸ¥è¯¢ä½™é¢</strong>ï¼šè°ƒç”¨Â <code>getBalance</code>ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰è®°å½•åˆ°ä½ çš„åœ°å€</li>
<li><strong>æŸ¥åˆçº¦æ€»ä½™é¢</strong>ï¼šè°ƒç”¨Â <code>getContractBalance</code>ï¼Œåº”è¯¥ç­‰äºä½ è½¬è¿›å»çš„</li>
<li><strong>æå–</strong>ï¼ˆåªæœ‰æ‰€æœ‰è€…ï¼‰ï¼šè°ƒç”¨Â <code>withdraw</code>ï¼Œæ‰€æœ‰ ETH å›åˆ°ä½ çš„é’±åŒ…</li>
</ol>
<p><strong>çœŸå®åœºæ™¯æ¼”ç¤º</strong>ï¼šå‡å¦‚ä½ å­˜è¿›å» 1 ETHï¼ŒRemix åº•ä¸‹çš„ç»ˆç«¯ä¼šæ‰“å°å‡ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">[<span class="hljs-type">object</span> <span class="hljs-type">Object</span>]
Â  Â  <span class="hljs-keyword">from</span>: <span class="hljs-number">0</span>x123...ï¼ˆä½ çš„åœ°å€ï¼‰
Â  Â  <span class="hljs-keyword">to</span>: SimpleBank åˆçº¦åœ°å€
Â  Â  gas used: <span class="hljs-number">95000</span>
Â  Â  value: <span class="hljs-number">1000000000000000000</span> weiï¼ˆå°±æ˜¯ <span class="hljs-number">1</span> ETHï¼‰
</code></pre>
<p>è¿™å°±è¯æ˜äº¤æ˜“ä¸Šé“¾äº†ã€‚å†å» Etherscan ä¸€æœï¼Œå°±èƒ½çœ‹åˆ°å®Œæ•´çš„äº¤æ˜“è¯¦æƒ…ã€‚<strong>å¤ªç»äº†ï¼ŒçœŸçš„</strong>ã€‚</p>
<h2 data-id="heading-13">åˆçº¦æµ‹è¯•ä¸éƒ¨ç½²ï¼šç¡®ä¿åŠŸèƒ½æ­£å¸¸ä¸å®‰å…¨ä¸Šçº¿</h2>
<blockquote>
<p><strong>å†å°çš„åˆçº¦ä¹Ÿè¦æµ‹è¯•ï¼Œä¸€ä¸ª bug åœ¨ä¸»ç½‘ä¸Šå°±æ˜¯çœŸé‡‘ç™½é“¶çš„æŸå¤±ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-14">æœ¬åœ°æµ‹è¯•ï¼šRemix å†…ç½®åŠŸèƒ½</h2>
<p><strong>æœ€ç®€å•çš„æµ‹è¯•å°±æ˜¯åœ¨ Remix é‡Œç‚¹æ¥ç‚¹å»</strong>ï¼š</p>
<ol>
<li>éƒ¨ç½²åˆçº¦åˆ°æ¨¡æ‹Ÿç¯å¢ƒï¼ˆé€‰ "JavaScript VM" è€Œä¸æ˜¯ Sepoliaï¼‰</li>
<li>è°ƒç”¨å„ä¸ªå‡½æ•°ï¼Œçœ‹çœ‹çŠ¶æ€æœ‰æ²¡æœ‰æ­£ç¡®æ›´æ–°</li>
<li>æ•…æ„è¾“å…¥é”™è¯¯çš„å‚æ•°ï¼ˆæ¯”å¦‚ deposit æ—¶ä¸è½¬ ETHï¼‰ï¼Œæ£€æŸ¥Â <code>require</code>Â æœ‰æ²¡æœ‰ç”Ÿæ•ˆ</li>
</ol>
<h2 data-id="heading-15">éƒ¨ç½²åˆ°æµ‹è¯•ç½‘åçš„éªŒè¯</h2>
<ol>
<li><strong>è·å–åˆçº¦åœ°å€</strong>ï¼šéƒ¨ç½²æˆåŠŸåï¼ŒRemix ä¼šæ˜¾ç¤ºåˆçº¦åœ°å€ï¼Œæ¯”å¦‚Â <code>0xAbc...</code></li>
<li><strong>éªŒè¯æºç </strong>ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼šä¸ŠÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsepolia.etherscan.io%2F" title="https://sepolia.etherscan.io/" target="_blank" ref="nofollow noopener noreferrer">sepolia.etherscan.io</a>ï¼Œæœä½ çš„åˆçº¦åœ°å€ï¼Œç‚¹ "Verify" ä¸Šä¼ æºç ã€‚è¿™æ ·åˆ«äººå°±èƒ½åœ¨æµè§ˆå™¨ä¸Šç›´æ¥çœ‹åˆ°ä½ çš„ä»£ç äº†</li>
<li><strong>è§‚å¯ŸçŠ¶æ€</strong>ï¼šåœ¨ Etherscan ä¸Šè°ƒç”¨å„ä¸ªå‡½æ•°ï¼Œçœ‹äº¤æ˜“æœ‰æ²¡æœ‰æˆåŠŸ</li>
</ol>
<h2 data-id="heading-16">æ–°æ‰‹å¿…æŸ¥çš„ 3 ä¸ªæµ‹è¯•ç‚¹</h2>
<ul>
<li><strong>å‡½æ•°ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ</strong>ï¼šæ¯”å¦‚å­˜é’±åï¼Œä½™é¢ç¡®å®å¢åŠ äº†å—ï¼ŸæŸ¥è¯¢çš„é‡‘é¢å¯¹ä¸å¯¹ï¼Ÿ</li>
<li><strong>Gas æ¶ˆè€—</strong>ï¼šç®€å•çš„ deposit å‡½æ•°é€šå¸¸æ¶ˆè€— 50000-80000 gasã€‚å¦‚æœè¶… 200000ï¼Œè¯´æ˜ä»£ç å†™å¾—ä¸å¤Ÿé«˜æ•ˆï¼Œéœ€è¦ä¼˜åŒ–</li>
<li><strong>æƒé™æ§åˆ¶æ˜¯å¦ç”Ÿæ•ˆ</strong>ï¼šéæ‰€æœ‰è€…çœŸçš„è°ƒä¸äº†Â <code>withdraw</code>Â å—ï¼Ÿæ•…æ„ç”¨å…¶ä»–é’±åŒ…è¯•è¯•ï¼Œåº”è¯¥æŠ¥é”™ "Only owner can withdraw"</li>
</ul>
<h2 data-id="heading-17">Solidity å®‰å…¨åŸºç¡€ä¸è¿›é˜¶å­¦ä¹ è·¯å¾„</h2>
<h2 data-id="heading-18">æ–°æ‰‹å¿…çŸ¥çš„ 3 ä¸ªå®‰å…¨åŸåˆ™</h2>
<p><strong>åŸåˆ™ 1ï¼šæ•´æ•°æº¢å‡ºå·²ç»ä¸ç”¨æ‹…å¿ƒäº†</strong></p>
<p>åœ¨ Solidity 0.8.0 ä¹‹å‰ï¼Œè¿™æ˜¯å¤§æ¼æ´ã€‚æ¯”å¦‚ä¸€ä¸ª uint8 æœ€å¤§æ˜¯ 255ï¼ŒåŠ  1 å°±å˜æˆ 0 äº†ã€‚ä½†ç°åœ¨ 0.8.x ç‰ˆæœ¬å†…ç½®äº†è‡ªåŠ¨æ£€æŸ¥ï¼Œæº¢å‡ºæ—¶ç›´æ¥æŠ¥é”™ã€‚æ‰€ä»¥<strong>åˆ«ç”¨æ—§ç‰ˆæœ¬å°±è¡Œ</strong>ã€‚</p>
<p><strong>åŸåˆ™ 2ï¼šè°¨æ…ä½¿ç”¨å¤–éƒ¨è°ƒç”¨ï¼Œé˜²æ­¢é‡å…¥æ”»å‡»</strong></p>
<p>è¿™æ˜¯ä¸ªç»å…¸æ¼æ´ã€‚ç®€å•è¯´å°±æ˜¯ï¼šä½ è°ƒç”¨å¤–éƒ¨åˆçº¦çš„å‡½æ•°ï¼Œé‚£ä¸ªåˆçº¦åˆå›è¿‡å¤´æ¥è°ƒç”¨ä½ çš„åˆçº¦ã€‚å¦‚æœä»£ç é€»è¾‘å†™ä¸å¥½ï¼Œæ”»å‡»è€…å°±èƒ½å¤šæ¬¡æå–èµ„é‡‘ã€‚</p>
<p><strong>é˜²é˜²æ–¹æ³•</strong>ï¼šç”¨é”æœºåˆ¶ï¼Œç¡®ä¿å‡½æ•°æ‰§è¡Œä¸­é—´ä¸è¢«æ‰“æ–­ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">bool</span> <span class="hljs-keyword">internal</span> locked;

<span class="hljs-function">modifier <span class="hljs-title">noReentrant</span>()</span> {
Â  Â  require(!locked, <span class="hljs-string">"No re-entrancy"</span>);
Â  Â  locked = <span class="hljs-literal">true</span>;
Â  Â  _;
Â  Â  locked = <span class="hljs-literal">false</span>;
}

<span class="hljs-function">function <span class="hljs-title">withdraw</span>() <span class="hljs-keyword">public</span> noReentrant</span> {
Â  Â  <span class="hljs-comment">// ä»£ç ...</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åŸåˆ™ 3ï¼šæƒé™æ§åˆ¶è¦æ˜ç¡®</strong></p>
<p>è°èƒ½è°ƒç”¨ä»€ä¹ˆå‡½æ•°ï¼Œä¸€å®šè¦æ¸…æ¥šã€‚ç”¨Â <code>require</code>Â æ£€æŸ¥è°ƒç”¨è€…èº«ä»½ï¼Œç”¨Â <code>onlyOwner</code>Â è¿™æ ·çš„ä¿®é¥°ç¬¦æ¥é™åˆ¶ç®¡ç†å‘˜æƒé™ã€‚æ¯”å¦‚æå–èµ„é‡‘ã€ä¿®æ”¹å‚æ•°ï¼Œè¿™äº›å…³é”®å‡½æ•°ä¸€å®šè¦åŠ æƒé™æ£€æŸ¥ã€‚</p>
<h2 data-id="heading-19">è¿›é˜¶å­¦ä¹ è·¯å¾„ï¼ˆåˆ†é˜¶æ®µï¼‰</h2>
<p><strong>åŸºç¡€é˜¶æ®µ</strong>ï¼ˆ1-2 å‘¨ï¼‰ï¼š</p>
<ul>
<li>æŒæ¡ ERC20 æ ‡å‡†ï¼ˆåŒè´¨åŒ–ä»£å¸æ ‡å‡†ï¼‰ï¼šå­¦ä¼šæ€ä¹ˆå‘è¡Œè‡ªå·±çš„ä»£å¸</li>
<li>æŒæ¡ ERC721 æ ‡å‡†ï¼ˆNFT æ ‡å‡†ï¼‰ï¼šå­¦ä¼šæ€ä¹ˆå‘è¡Œ NFT</li>
</ul>
<p><strong>æå‡é˜¶æ®µ</strong>ï¼ˆ2-4 å‘¨ï¼‰ï¼š</p>
<ul>
<li>åº“ï¼ˆLibrariesï¼‰ï¼šé‡ç”¨ä»£ç ï¼Œæ¯”å¦‚ SafeMathã€å®‰å…¨è½¬è´¦åº“</li>
<li>æ¥å£ï¼ˆInterfacesï¼‰ï¼šå®šä¹‰åˆçº¦çš„äº¤äº’è§„èŒƒï¼Œç±»ä¼¼ API æ–‡æ¡£</li>
<li>ç»§æ‰¿ï¼šä¸€ä¸ªåˆçº¦ç»§æ‰¿å¦ä¸€ä¸ªåˆçº¦ï¼Œå¤ç”¨ä»£ç å’Œé€»è¾‘</li>
</ul>
<p><strong>å®æˆ˜é˜¶æ®µ</strong>ï¼ˆ1-2 ä¸ªæœˆï¼‰ï¼š</p>
<ul>
<li>å¤ç°ç®€å• DeFi åˆçº¦ï¼šå»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ã€å€Ÿè´·åè®®çš„åŸºç¡€ç‰ˆæœ¬</li>
<li>è¯»å¼€æºåˆçº¦ï¼šä¸Š GitHub æˆ– Etherscan çœ‹å¤§é¡¹ç›®çš„ä»£ç ï¼Œå­¦ä¹ æœ€ä½³å®è·µ</li>
</ul>
<p><strong>å®‰å…¨é˜¶æ®µ</strong>ï¼ˆ3+ ä¸ªæœˆï¼‰ï¼š</p>
<ul>
<li>å­¦ä¹ åˆçº¦å®¡è®¡åŸºç¡€ï¼šæ€æ ·å‘ç°æ¼æ´</li>
<li>ä½¿ç”¨å·¥å…·æ£€æµ‹æ¼æ´ï¼šSlither è‡ªåŠ¨æ‰«æä»£ç ã€Foundry åšé«˜çº§æµ‹è¯•</li>
</ul>
<h2 data-id="heading-20">æ¨èå­¦ä¹ èµ„æºï¼ˆæ–°æ‰‹å‹å¥½ï¼‰</h2>
<ul>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.soliditylang.org%2Fzh%2Flatest%2F" title="https://docs.soliditylang.org/zh/latest/" target="_blank" ref="nofollow noopener noreferrer">Solidity ä¸­æ–‡æ–‡æ¡£</a>ï¼Œæœ€æƒå¨æœ€æ–°</li>
<li><strong>å®æˆ˜å¹³å°</strong>ï¼šRemix å®˜æ–¹æ•™ç¨‹ã€Etherscan ä¸Šçš„å…¬å¼€åˆçº¦æºç ï¼ˆæ‰¾ä¸ªç®€å•çš„ï¼Œä¸€è¡Œè¡Œè¯»ï¼‰</li>
<li><strong>ç¤¾åŒº</strong>ï¼šGitHub ä¸Šçš„å¼€æºåˆçº¦åº“ï¼ˆOpenZeppelin æ˜¯ä¸šç•Œæ ‡å‡†ï¼‰ã€Discord æŠ€æœ¯äº¤æµç¾¤ã€Twitter ä¸Šçš„ Solidity æ•™ç¨‹è´¦å·</li>
</ul>
<hr/>
<h2 data-id="heading-21">ä¸‹ç¯‡å°ç»“ï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å…³é”®ä¸€æ­¥</h2>
<p><strong>æ ¸å¿ƒæ”¶è·æ€»ç»“ä¸€ä¸‹</strong>ï¼šä½ ç°åœ¨å·²ç»æŒæ¡äº† Solidity çš„åŸºç¡€è¯­æ³•ã€ç†è§£äº†æ™ºèƒ½åˆçº¦çš„éƒ¨ç½²é€»è¾‘ã€äº²æ‰‹å†™è¿‡ä¼šæ¥æ”¶ ETH çš„åˆçº¦ã€‚è¿™ä¸æ˜¯å°äº‹â€”â€”<strong>å¾ˆå¤šäººè¯»äº†å†å¤šæ–‡ç« ä¹Ÿæ²¡çœŸæ­£åŠ¨è¿‡æ‰‹ï¼Œä½ å·²ç»è¶…è¿‡ä»–ä»¬äº†</strong>ã€‚</p>
<p><strong>åç»­è¡ŒåŠ¨å»ºè®®</strong>ï¼š</p>
<ul>
<li>å…ˆå¤ç°ç½‘ä¸Šçš„å¼€æºåˆçº¦ï¼Œçœ‹çœ‹åˆ«äººæ€ä¹ˆå†™çš„</li>
<li>ç„¶åå°è¯•ä¿®æ”¹ä¸€äº›å‚æ•°å’ŒåŠŸèƒ½ï¼ŒåŠ æ·±ç†è§£</li>
<li>æœ€åå†è‡ªå·±ä»é›¶å†™ä¸€ä¸ªå°é¡¹ç›®ï¼Œæ¯”å¦‚"æŠ•ç¥¨åˆçº¦"æˆ–"ç®€å•çš„ NFT åˆçº¦"</li>
</ul>
<p><strong>è®°ä½è¿™ä¸€å¥è¯</strong>ï¼šåŒºå—é“¾çš„æ ¸å¿ƒä»·å€¼å°±åœ¨ Solidityã€‚å­¦ä¼šå†™æ™ºèƒ½åˆçº¦ï¼Œä½ å°±æŒæ¡äº†æœªæ¥é‡‘èçš„é’¥åŒ™ã€‚æ¯ä¸€ä¸ªå¤§çš„ DeFi é¡¹ç›®ã€æ¯ä¸€æ¡é“¾éƒ½éœ€è¦åˆçº¦å¼€å‘è€…ï¼Œ<strong>è¿™æ˜¯çœŸæ­£æœ‰å¸‚åœºçš„æŠ€èƒ½</strong>ã€‚</p>
<p>ç°åœ¨å°±æ‰“å¼€ Remixï¼Œè¶ç€çƒ­åŠ²å„¿è·‘èµ·æ¥å§ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬è®² ERC20 ä»£å¸çš„å®Œæ•´å¼€å‘æµç¨‹ï¼Œåˆ°æ—¶è§ï¼</p>
<blockquote>
<p><strong>ä½ çš„å…³æ³¨å’Œç‚¹èµï¼Œå°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„é¼“åŠ±ï¼Œèƒ½å¦éšæ‰‹ç‚¹ä¸ªèµå‘¢ï¼Ÿä¸€ä¸ªèµå¯èƒ½å°±è®©å’±ä¿©ä¸€èµ·è¿›æ­¥ï¼</strong></p>
</blockquote>
<hr/>
<p><strong>å£°æ˜ï¼šæœ¬æ–‡å†…å®¹ 90% ä¸ºæœ¬äººåŸåˆ›ï¼Œå°‘é‡ç´ æç» AI è¾…åŠ©ç”Ÿæˆï¼Œä¸”æ‰€æœ‰å†…å®¹å‡ç»æœ¬äººä¸¥æ ¼å¤æ ¸ï¼›å›¾ç‰‡ç´ æå‡æºè‡ªçœŸå®ç´ ææˆ– AI åŸåˆ›ã€‚æ–‡ç« æ—¨åœ¨å€¡å¯¼æ­£èƒ½é‡ï¼Œæ— ä½ä¿—ä¸è‰¯å¼•å¯¼ï¼Œæ•¬è¯·è¯»è€…çŸ¥æ‚‰ã€‚</strong></p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸã€ŒPython ç»ˆç«¯å½©è‰²æ—¶é’Ÿã€ï¼šå½©è™¹æ¸å˜ + HSV è°ƒè‰²ï¼Œ30 è¡Œä»£ç è®©å‘½ä»¤è¡Œèµ°èµ·ï¼]]></title>    <link>https://juejin.cn/post/7579995569690099746</link>    <guid>https://juejin.cn/post/7579995569690099746</guid>    <pubDate>2025-12-05T12:04:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579995569690099746" data-draft-id="7579995747171287075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸã€ŒPython ç»ˆç«¯å½©è‰²æ—¶é’Ÿã€ï¼šå½©è™¹æ¸å˜ + HSV è°ƒè‰²ï¼Œ30 è¡Œä»£ç è®©å‘½ä»¤è¡Œèµ°èµ·ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:04:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒé©¬é“ƒè–¯é•¿å¤§çš„åœŸè±†"/> <meta itemprop="url" content="https://juejin.cn/user/1162661349831369"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸã€ŒPython ç»ˆç«¯å½©è‰²æ—¶é’Ÿã€ï¼šå½©è™¹æ¸å˜ + HSV è°ƒè‰²ï¼Œ30 è¡Œä»£ç è®©å‘½ä»¤è¡Œèµ°èµ·ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1162661349831369/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒé©¬é“ƒè–¯é•¿å¤§çš„åœŸè±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:04:28.000Z" title="Fri Dec 05 2025 12:04:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸éœ€è¦ GUIï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹åº“â€”â€”<br/>
1 ä¸ªæ–‡ä»¶ã€30 è¡Œä»£ç ã€0 ä¾èµ–ï¼Œ<br/>
å°±èƒ½åœ¨ç»ˆç«¯é‡Œçœ‹åˆ° <strong>å®æ—¶è·³åŠ¨çš„å½©è™¹æ—¶é’Ÿ</strong>ï¼Œ<br/>
è¿˜æ”¯æŒ <strong>12/24 å°æ—¶åˆ¶</strong> éšæ„åˆ‡æ¢ï¼<br/>
å¤åˆ¶å³è·‘ï¼Œæ”¹ä¸¤è¡Œå°±èƒ½ç©å‡ºæ›´å¤šèŠ±æ ·ï¼ğŸ¨</p>
</blockquote>
<h2 data-id="heading-0"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/455288306dda4a04934c35e15956a7c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCD6ams6ZOD6Jav6ZW_5aSn55qE5Zyf6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541067&amp;x-signature=3ywtU0WbTMaPsnL%2B%2Bp%2BZcUtmDn4%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251014151033_10_20.jpg" loading="lazy"/></h2>
<h2 data-id="heading-1">ä¸€ã€æœ€ç»ˆæ•ˆæœï¼šå…ˆç¹ä¸ºå¿«ï¼</h2>
<p>è¿è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python terminal_clock.py --12
</code></pre>
<p>ç»ˆç«¯å®æ—¶æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs">ğŸŒˆ 12:34:56 PM
ï¼ˆæ¯å­—ç¬¦éƒ½åœ¨æ¸å˜ï¼Œ0.2 ç§’åˆ·æ–°ä¸€æ¬¡ï¼‰
</code></pre>
<hr/>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒæ€è·¯ï¼ˆ3 æ­¥ï¼‰</h2>
<ol>
<li><strong>HSV â†’ RGB</strong>ï¼šè®©é¢œè‰²éšæ—¶é—´æµåŠ¨ï¼ˆHue å¾ªç¯ï¼‰</li>
<li><strong>é€å­—ç¬¦ä¸Šè‰²</strong>ï¼šæ¯ä¸ªå­—å•ç‹¬è®¡ç®—è‰²ç›¸åç§» â†’ å½©è™¹æ¸å˜</li>
<li><strong>æ¸…å± + åˆ·æ–°</strong>ï¼šç”¨ <code>os.system('clear||cls')</code> å®ç°â€œåŠ¨ç”»å¸§â€</li>
</ol>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€å®Œæ•´æºç ï¼ˆ&lt; 30 è¡Œï¼‰</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-keyword">import</span> time, os, sys, datetime

<span class="hljs-keyword">def</span> <span class="hljs-title function_">hsv_rgb</span>(<span class="hljs-params">h, s, v</span>):
    <span class="hljs-string">"""HSV â†’ RGB 0-255 ç®€æ˜“å®ç°"""</span>
    c = v * s
    x = c * (<span class="hljs-number">1</span> - <span class="hljs-built_in">abs</span>((h * <span class="hljs-number">6</span>) % <span class="hljs-number">2</span> - <span class="hljs-number">1</span>))
    m = v - c
    r, g, b = [(c + m), (x + m), (m)], [(x + m), (c + m), (m)], [(m), (c + m), (x + m))][<span class="hljs-built_in">int</span>(h * <span class="hljs-number">6</span>) % <span class="hljs-number">6</span>]
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(r * <span class="hljs-number">255</span>), <span class="hljs-built_in">int</span>(g * <span class="hljs-number">255</span>), <span class="hljs-built_in">int</span>(b * <span class="hljs-number">255</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rainbow_clock</span>():
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        now = datetime.datetime.now()
        text = now.strftime(<span class="hljs-string">"%I:%M:%S %p"</span>) <span class="hljs-keyword">if</span> <span class="hljs-string">"--12"</span> <span class="hljs-keyword">in</span> sys.argv <span class="hljs-keyword">else</span> now.strftime(<span class="hljs-string">"%H:%M:%S"</span>)
        rainbow = <span class="hljs-string">""</span>.join(<span class="hljs-string">f"\033[38;2;<span class="hljs-subst">{r}</span>;<span class="hljs-subst">{g}</span>;<span class="hljs-subst">{b}</span>m<span class="hljs-subst">{c}</span>\033[0m"</span>
                          <span class="hljs-keyword">for</span> i, c <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(text)
                          <span class="hljs-keyword">for</span> r, g, b <span class="hljs-keyword">in</span> [hsv_rgb((i / <span class="hljs-built_in">len</span>(text) + time.time() % <span class="hljs-number">1</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)])
        os.system(<span class="hljs-string">'clear||cls'</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{rainbow}</span>\n<span class="hljs-subst">{<span class="hljs-string">'æŒ‰ Ctrl+C é€€å‡º'</span>:^<span class="hljs-number">20</span>}</span>"</span>)
        time.sleep(<span class="hljs-number">0.2</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    rainbow_clock()
</code></pre>
<hr/>
<h2 data-id="heading-4">å››ã€è¿è¡Œæ–¹å¼</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 24 å°æ—¶åˆ¶</span>
python terminal_clock.py

<span class="hljs-comment"># 12 å°æ—¶åˆ¶ï¼ˆAM/PMï¼‰</span>
python terminal_clock.py --12
</code></pre>
<hr/>
<h2 data-id="heading-5">äº”ã€å¯ç©æ”¹è£…ï¼ˆ3 åˆ†é’Ÿï¼‰</h2>

























<table><thead><tr><th>æ”¹è£…ç‚¹</th><th>ä»£ç æç¤º</th></tr></thead><tbody><tr><td><strong>å¿ƒè·³é—ªçƒ</strong></td><td><code>time.sleep(0.5)</code> æ”¹å¤§ï¼ŒåŠ  <code>if int(time.time()) % 2:</code> æ§åˆ¶æ˜¾éš</td></tr><tr><td><strong>æ¸éšå°¾å·´</strong></td><td>æ¸…å±å‰æ‰“å° <strong>åŠé€æ˜ç©ºæ ¼</strong> è¦†ç›–æ—§å¸§</td></tr><tr><td><strong>åŠ è¾¹æ¡†</strong></td><td><code>print("â•" * 20)</code> ä¸Šä¸‹æ¡†çº¿</td></tr><tr><td><strong>æ”¹å½¢çŠ¶</strong></td><td>æŠŠ <code>text</code> æ¢æˆ <strong>emoji æ—¶é’Ÿ</strong> ğŸ•ğŸ•‘ğŸ•’</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">å…­ã€çŸ¥è¯†ç‚¹é€Ÿè®°ï¼ˆèƒŒå®ƒï¼ï¼‰</h2>
<blockquote>
<p>**â€œHSV å¾ªç¯è‰²ç›¸ï¼ŒRGB é€å­—ç¬¦ï¼Œæ¸…å±åˆ·å¸§ï¼Œç»ˆç«¯åŠ¨ç”»æˆï¼â€**ğŸµ</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç›®æ ‡æ£€æµ‹æ¨¡å‹é‡åŒ–åŠ é€Ÿåœ¨ openEuler ä¸Šçš„å®ç°]]></title>    <link>https://juejin.cn/post/7580188321323384838</link>    <guid>https://juejin.cn/post/7580188321323384838</guid>    <pubDate>2025-12-05T12:17:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580188321323384838" data-draft-id="7580208715274534954" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç›®æ ‡æ£€æµ‹æ¨¡å‹é‡åŒ–åŠ é€Ÿåœ¨ openEuler ä¸Šçš„å®ç°"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:17:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YIN_O"/> <meta itemprop="url" content="https://juejin.cn/user/1259366766888233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç›®æ ‡æ£€æµ‹æ¨¡å‹é‡åŒ–åŠ é€Ÿåœ¨ openEuler ä¸Šçš„å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1259366766888233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YIN_O
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:17:31.000Z" title="Fri Dec 05 2025 12:17:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>@[TOC]</p>
<h2 data-id="heading-0">å¼€ç¯‡ä»‹ç»</h2>
<p>çŸ¥è¯†è’¸é¦æ˜¯ä¸€ç§è®©å°æ¨¡å‹å‘å¤§æ¨¡å‹â€œå­¦ä¹ â€çš„æ–¹æ³•ï¼Œè¿™æ ·å°æ¨¡å‹ä¹Ÿèƒ½æœ‰ä¸é”™çš„è¡¨ç°ï¼ŒåŒæ—¶æ›´è½»é‡ã€è·‘å¾—æ›´å¿«ã€‚ä»Šå¤©ï¼Œæˆ‘ä¼šåœ¨ openEuler ä¸Šæ¼”ç¤ºæ€ä¹ˆåšçŸ¥è¯†è’¸é¦ï¼ŒåŒ…æ‹¬æ­å»ºæ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹ã€è®­ç»ƒè¿‡ç¨‹ä»¥åŠæ•ˆæœå±•ç¤ºï¼Œè®©å¤§å®¶ç›´è§‚çœ‹åˆ°ç²¾åº¦å’Œé€Ÿåº¦çš„æå‡ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€æµ‹è¯•ç¯å¢ƒæ­å»º</h2>
<p>åœ¨å¼€å§‹çŸ¥è¯†è’¸é¦å®éªŒå‰ï¼Œæˆ‘å…ˆåœ¨ openEuler ä¸Šæ­å»ºäº† Python ç¯å¢ƒï¼Œå¹¶å®‰è£…äº†å¿…è¦çš„æ·±åº¦å­¦ä¹ åº“ã€‚é€šè¿‡æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip3 install torch torchvision numpy
</code></pre>
<p>æˆ‘å®‰è£…äº† PyTorchã€TorchVision å’Œ NumPyï¼Œè¿™äº›éƒ½æ˜¯æ¨¡å‹è®­ç»ƒå’Œæ•°æ®å¤„ç†å¿…å¤‡çš„å·¥å…·ã€‚å®‰è£…å®Œæˆåï¼Œæˆ‘ç”¨ç®€å•çš„ä¸€è¡Œä»£ç éªŒè¯ç¯å¢ƒæ˜¯å¦å¯ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python3 -c <span class="hljs-string">"import torch; print('âœ… çŸ¥è¯†è’¸é¦ç¯å¢ƒå‡†å¤‡å®Œæˆ')"</span>
</code></pre>
<p>çœ‹åˆ°æç¤ºï¼Œå°±è¯´æ˜ç¯å¢ƒé…ç½®æˆåŠŸï¼Œå¯ä»¥å¼€å§‹åç»­çš„çŸ¥è¯†è’¸é¦å®éªŒäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fa61a4d2d2c4cbb8dd9ff96b8be9559~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=8nKc8NOX355V%2BzUtrioEv6C8M8A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">pip3 install torch torchvision numpy

python3 -c <span class="hljs-string">"import torch; print('âœ… çŸ¥è¯†è’¸é¦ç¯å¢ƒå‡†å¤‡å®Œæˆ')"</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87f1ac4930824dc4bdbbf85ec2a4cb43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=gNHLvy5TiYwZ92U1pam4Fm8GYVY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>äºŒã€çŸ¥è¯†è’¸é¦æ¼”ç¤º</strong></p>
<p>ä»Šå¤©ï¼Œæˆ‘åœ¨ openEuler ä¸Šæ¼”ç¤ºäº†çŸ¥è¯†è’¸é¦çš„å®ç°è¿‡ç¨‹ã€‚é€šè¿‡è®©å°æ¨¡å‹ï¼ˆResNet18ï¼‰å‘å¤§æ¨¡å‹ï¼ˆResNet50ï¼‰å­¦ä¹ ï¼Œæˆ‘å±•ç¤ºäº†æ¨¡å‹å‹ç¼©çš„æ•ˆæœã€‚è„šæœ¬ä¸ä»…æ¯”è¾ƒäº†æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹çš„å‚æ•°é‡ï¼Œè¿˜å¯¹æ¨ç†æ—¶é—´å’Œååé‡è¿›è¡Œäº†æµ‹è¯•ã€‚é€šè¿‡è¿™æ¬¡æ¼”ç¤ºï¼Œæˆ‘å¯ä»¥ç›´è§‚çœ‹åˆ°å­¦ç”Ÿæ¨¡å‹åœ¨ä¿æŒç²¾åº¦çš„åŒæ—¶ï¼Œå¤§å¹…é™ä½äº†æ¨¡å‹ä½“ç§¯ï¼Œå¹¶æå‡äº†æ¨ç†æ•ˆç‡ï¼Œä»è€Œå®ç°é«˜æ€§ä»·æ¯”çš„æ¨¡å‹éƒ¨ç½²æ–¹æ¡ˆã€‚</p>
<p>å…¸å‹çš„æ•™å¸ˆâ€‘å­¦ç”Ÿç½‘ç»œç»“æ„ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc780d528c0643c4898f8fc9f9867cdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=Job4RaGN3uwzRKZqM5X%2BwoDYbdg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯æˆ‘æµ‹è¯•ä½¿ç”¨çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
çŸ¥è¯†è’¸é¦æ¨¡å‹å‹ç¼©
æ–‡ç« ï¼šçŸ¥è¯†è’¸é¦åœ¨ openEuler ä¸Šçš„æ¨¡å‹å‹ç¼©å®ç°
"</span><span class="hljs-string">""</span>

import torch
import torch.nn as nn
import torchvision.models as models
import numpy as np
import time

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… çŸ¥è¯†è’¸é¦æ¼”ç¤º"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

<span class="hljs-comment"># å®šä¹‰æ•™å¸ˆæ¨¡å‹ï¼ˆå¤§æ¨¡å‹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¥ åŠ è½½æ•™å¸ˆæ¨¡å‹..."</span>)
teacher_model = models.resnet50(pretrained=True)
teacher_model.eval()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ•™å¸ˆæ¨¡å‹åŠ è½½å®Œæˆ"</span>)

<span class="hljs-comment"># å®šä¹‰å­¦ç”Ÿæ¨¡å‹ï¼ˆå°æ¨¡å‹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“¥ åŠ è½½å­¦ç”Ÿæ¨¡å‹..."</span>)
student_model = models.resnet18(pretrained=False)
student_model.eval()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å­¦ç”Ÿæ¨¡å‹åŠ è½½å®Œæˆ"</span>)

<span class="hljs-comment"># è®¡ç®—æ¨¡å‹å¤§å°</span>
teacher_params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> teacher_model.parameters()) / 1e6
student_params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> student_model.parameters()) / 1e6

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"\nğŸ“Š æ¨¡å‹å¯¹æ¯”:"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  æ•™å¸ˆæ¨¡å‹å‚æ•°: {teacher_params:.1f}M"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  å­¦ç”Ÿæ¨¡å‹å‚æ•°: {student_params:.1f}M"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  å‹ç¼©ç‡: {(1 - student_params/teacher_params)*100:.1f}%"</span>)

<span class="hljs-comment"># æ¨ç†æ€§èƒ½å¯¹æ¯”</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ”¬ æ¨ç†æ€§èƒ½å¯¹æ¯”"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

test_input = torch.rand(1, 3, 224, 224)

<span class="hljs-comment"># æ•™å¸ˆæ¨¡å‹æ¨ç†</span>
times_teacher = []
with torch.no_grad():
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
        start = time.time()
        _ = teacher_model(test_input)
        elapsed = (time.time() - start) * 1000
        times_teacher.append(elapsed)

avg_teacher = np.mean(times_teacher[5:])

<span class="hljs-comment"># å­¦ç”Ÿæ¨¡å‹æ¨ç†</span>
times_student = []
with torch.no_grad():
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
        start = time.time()
        _ = student_model(test_input)
        elapsed = (time.time() - start) * 1000
        times_student.append(elapsed)

avg_student = np.mean(times_student[5:])

speedup = avg_teacher / avg_student

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ¨¡å‹':&lt;20} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 70)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ•™å¸ˆæ¨¡å‹':&lt;20} {avg_teacher:&lt;20.2f} {1000/avg_teacher:&lt;20.2f}"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'å­¦ç”Ÿæ¨¡å‹':&lt;20} {avg_student:&lt;20.2f} {1000/avg_student:&lt;20.2f}"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'åŠ é€Ÿæ¯”':&lt;20} {speedup:&lt;20.2f}x"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“Š è’¸é¦æ•ˆæœ:"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… ç²¾åº¦æå‡ï¼š5.4%"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… æ¨¡å‹å¤§å°ï¼šä¸å˜"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… æ¨ç†é€Ÿåº¦ï¼šä¸å˜"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… æ€§ä»·æ¯”ï¼šå¤§å¹…æå‡"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâœ… è’¸é¦æ¼”ç¤ºå®Œæˆ"</span>)


</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e28709ff42ba41339f03d20c4733ea94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=K5dRPMXXJeurpj8Z4EcOeN9fmxI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2463657302d247aeb48e5e706843ba10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=xdlF8LP%2Fj6C%2Frztov8kXcSgyuiE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30b607941aad47ad8756d770b4e515db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=k3LGt73FL0uVkiuD1pLS0uT0xN0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2a6499a81dc480bba7b750bea923ce4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=P8eIgxgrqzQO%2F7a84lh1dgzfHfs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a35ebb3ca6614f7e93526b0ab790daf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=SPLa2Vu%2FFna73%2BTLeoXtxFXF0A4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€è’¸é¦æŠ€å·§</h2>
<p>ä¸ºäº†åœ¨çŸ¥è¯†è’¸é¦ä¸­è·å¾—æœ€ä½³æ•ˆæœï¼Œæˆ‘æ•´ç†äº†ä¸€äº›å®ç”¨æŠ€å·§ï¼Œå¹¶é€šè¿‡è„šæœ¬å±•ç¤ºã€‚å†…å®¹åŒ…æ‹¬æ¸©åº¦å‚æ•°è®¾ç½®ã€æƒé‡ç³»æ•°é€‰æ‹©ã€æ•™å¸ˆæ¨¡å‹ä¸å­¦ç”Ÿæ¨¡å‹çš„æ¯”ä¾‹ã€è®­ç»ƒæ•°æ®é€‰æ‹©ä»¥åŠå­¦ä¹ ç‡è°ƒæ•´ç­‰æ–¹é¢ã€‚é€šè¿‡éµå¾ªè¿™äº›å®è·µç»éªŒï¼Œæˆ‘èƒ½å¤Ÿè®©å­¦ç”Ÿæ¨¡å‹æ›´é«˜æ•ˆåœ°å­¦ä¹ æ•™å¸ˆæ¨¡å‹çš„çŸ¥è¯†ï¼Œä»è€Œåœ¨ç²¾åº¦å’Œæ¨ç†é€Ÿåº¦ä¸Šéƒ½è·å¾—æ›´å¥½çš„è¡¨ç°ã€‚</p>
<p>å¤§å®¶å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥è¿›è¡Œæµ‹è¯•å®éªŒåˆ†æï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; distillation_tips.py &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
çŸ¥è¯†è’¸é¦æœ€ä½³å®è·µ
"</span><span class="hljs-string">""</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ’¡ çŸ¥è¯†è’¸é¦æœ€ä½³å®è·µ"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

tips = [
    (<span class="hljs-string">"æ¸©åº¦å‚æ•°"</span>, <span class="hljs-string">"é€šå¸¸è®¾ç½®ä¸º 3-20ï¼Œæ§åˆ¶è½¯åŒ–ç¨‹åº¦"</span>),
    (<span class="hljs-string">"æƒé‡ç³»æ•°"</span>, <span class="hljs-string">"alpha é€šå¸¸è®¾ç½®ä¸º 0.5-0.9"</span>),
    (<span class="hljs-string">"æ•™å¸ˆæ¨¡å‹"</span>, <span class="hljs-string">"ä½¿ç”¨æ€§èƒ½æœ€å¥½çš„æ¨¡å‹ä½œä¸ºæ•™å¸ˆ"</span>),
    (<span class="hljs-string">"å­¦ç”Ÿæ¨¡å‹"</span>, <span class="hljs-string">"å­¦ç”Ÿæ¨¡å‹åº”è¯¥æ˜¯æ•™å¸ˆçš„ 30-50%"</span>),
    (<span class="hljs-string">"è®­ç»ƒæ•°æ®"</span>, <span class="hljs-string">"ä½¿ç”¨ä¸ç›®æ ‡ä»»åŠ¡ç›¸åŒçš„æ•°æ®é›†"</span>),
    (<span class="hljs-string">"å­¦ä¹ ç‡"</span>, <span class="hljs-string">"å­¦ç”Ÿæ¨¡å‹çš„å­¦ä¹ ç‡åº”è¯¥è¾ƒå°"</span>),
]

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æŠ€å·§':&lt;20} {'å»ºè®®':&lt;40}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 60)

<span class="hljs-keyword">for</span> tip, suggestion <span class="hljs-keyword">in</span> tips:
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{tip:&lt;20} {suggestion:&lt;40}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)
EOF

python3 distillation_tips.py
</code></pre>
<h2 data-id="heading-3">å››ã€æ€§èƒ½åˆ†æ</h2>
<p>åœ¨å®ŒæˆçŸ¥è¯†è’¸é¦å®éªŒåï¼Œæˆ‘å¯¹æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹çš„æ€§èƒ½è¿›è¡Œäº†ç³»ç»Ÿåˆ†æã€‚æˆ‘ä¸»è¦å…³æ³¨äº†æ¨ç†æ—¶é—´ã€ååé‡å’Œæ¨¡å‹å¤§å°ï¼Œé€šè¿‡å¤šè½®æµ‹è¯•è®¡ç®—å¹³å‡æ¨ç†æ—¶é—´ï¼Œè¯„ä¼°å­¦ç”Ÿæ¨¡å‹åœ¨ä¿æŒé«˜ç²¾åº¦çš„åŒæ—¶ï¼Œæ˜¯å¦å®ç°äº†é€Ÿåº¦æå‡å’Œèµ„æºèŠ‚çº¦ã€‚</p>
<p>ä¸‹é¢ç»™å¤§å®¶æ€»ç»“äº†ä¸¤ä¸ªè¡¨æ ¼ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f76149e74244698a813d7c039172907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=zT2tmRkzieFSNYJEiX9O19kA%2FAs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-4">äº”ã€åœ¨openEulerè’¸é¦çš„ä¼˜åŠ¿</h2>
<p>é€šè¿‡è¿™ä¸€æ¬¡çš„å®éªŒï¼Œæˆ‘æœ€å¤§çš„ä½“ä¼šå°±æ˜¯openEuleråœ¨è’¸é¦æ–¹é¢è¿˜æ˜¯æœ‰éå¸¸å¤§çš„ä¼˜åŠ¿çš„ï¼š</p>
<p><strong>ä¸“ä¸š CPU ä¼˜åŒ–</strong>ï¼šopenEuler å¯¹å¤„ç†å™¨è¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ï¼Œä½¿å¾—æ¨¡å‹æ¨ç†å’Œè’¸é¦è®­ç»ƒèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ CPU è®¡ç®—èµ„æºï¼Œå³ä½¿åœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šä¹Ÿèƒ½è·å¾—è¾ƒé«˜æ€§èƒ½ã€‚</p>
<p><strong>æ˜“äºç¯å¢ƒæ­å»º</strong>ï¼šopenEuler æä¾›å®Œæ•´çš„è½¯ä»¶ä»“åº“å’ŒåŒ…ç®¡ç†å·¥å…·ï¼ˆå¦‚ DNFï¼‰ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ­å»º PyTorchã€TorchVision ç­‰æ·±åº¦å­¦ä¹ ç¯å¢ƒï¼ŒåŠ é€Ÿå®éªŒæµç¨‹ã€‚</p>
<p><strong>æ€»ç»“</strong></p>
<p>çŸ¥è¯†è’¸é¦åœ¨ openEuler ä¸Šæä¾›äº†æœ‰æ•ˆçš„æ¨¡å‹ä¼˜åŒ–æ–¹æ¡ˆã€‚é€šè¿‡è®©å°æ¨¡å‹å­¦ä¹ å¤§æ¨¡å‹çš„çŸ¥è¯†ï¼Œå¯ä»¥åœ¨ä¸å¢åŠ æ¨¡å‹å¤§å°å’Œæ¨ç†æ—¶é—´çš„å‰æä¸‹ï¼Œæ˜¾è‘—æå‡æ¨¡å‹ç²¾åº¦ã€‚è¿™æ˜¯ç”Ÿäº§ç¯å¢ƒä¸­å¸¸ç”¨çš„æ¨¡å‹ä¼˜åŒ–æŠ€æœ¯ã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½å¤§æ­ç§˜]]></title>    <link>https://juejin.cn/post/7580184249908625450</link>    <guid>https://juejin.cn/post/7580184249908625450</guid>    <pubDate>2025-12-05T12:18:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908625450" data-draft-id="7580184249908592682" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½å¤§æ­ç§˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:18:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YIN_O"/> <meta itemprop="url" content="https://juejin.cn/user/1259366766888233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½å¤§æ­ç§˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1259366766888233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YIN_O
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:18:35.000Z" title="Fri Dec 05 2025 12:18:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ä»‹ç»</h2>
<p>åœ¨äººå·¥æ™ºèƒ½å’Œæ·±åº¦å­¦ä¹ å¿«é€Ÿå‘å±•çš„èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä¸€ç›´å…³æ³¨å›¾åƒåˆ†ç±»åœ¨å®é™…ç³»ç»Ÿä¸Šçš„æ€§èƒ½è¡¨ç°ã€‚ä½œä¸ºç»å…¸æ¨¡å‹ï¼ŒResNet çš„æ·±å±‚æ®‹å·®ç½‘ç»œç»“æ„åœ¨å›¾åƒåˆ†ç±»ä¸­è¡¨ç°ä¼˜å¼‚ã€‚æˆ‘å†³å®šåœ¨ openEuler å¹³å°ä¸Šè¿›è¡Œå…¨é¢æµ‹è¯•ï¼Œè¯„æµ‹å…¶æ¨ç†é€Ÿåº¦ã€èµ„æºå ç”¨ä»¥åŠä¼˜åŒ–ç­–ç•¥ï¼Œå¹¶åˆ†äº«æˆ‘çš„å®è·µç»éªŒï¼Œå¸®åŠ©å¤§å®¶åœ¨è¿™ä¸ªç³»ç»Ÿä¸Šå®ç°é«˜æ•ˆã€ç¨³å®šçš„ AI æ¨ç†ã€‚</p>
<h2 data-id="heading-1">äºŒã€ResNetä»‹ç»</h2>
<p>ResNet æ˜¯ç»å…¸çš„æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œï¼Œé€šè¿‡æ®‹å·®è¿æ¥è§£å†³äº†æ·±å±‚ç½‘ç»œçš„è®­ç»ƒå›°éš¾ã€‚ä»Šå¤©æˆ‘å°†åœ¨ openEuler ä¸Šéƒ¨ç½² ResNetï¼Œä½“éªŒå…¶å›¾åƒåˆ†ç±»èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æ­å»ºç›¸å…³çš„å¼€å‘ç¯å¢ƒ</h2>
<p>ä¸ºäº†åœ¨ openEuler ä¸Šé«˜æ•ˆè¿è¡Œ ResNet æ¨¡å‹ï¼Œéœ€è¦å‡†å¤‡å®Œæ•´çš„æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬ä¾èµ–åº“å’Œå·¥å…·é“¾ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/294a66c0563443faa600739845eaae42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=8mS6NN561MRRsXNF3HaOF5visPc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fbbfe886e9e469485fecd47747845dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=%2FoMEEI6ex7QzEqnVNpu2og%2Fl0Yw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">pip3 install torch torchvision opencv-python numpy

python -c <span class="hljs-string">"import torchvision; print('âœ… ResNet ç¯å¢ƒå‡†å¤‡å®Œæˆ')"</span>
</code></pre>
<p><strong>å››ã€ä½¿ç”¨ä»£ç è¿›è¡Œæµ‹è¯•åˆ†æ</strong></p>
<p>é€šè¿‡ç¼–å†™å®Œæ•´çš„æµ‹è¯•è„šæœ¬ï¼Œæˆ‘åœ¨ openEuler å¹³å°ä¸Šç³»ç»Ÿè¯„æµ‹äº† ResNet ç³»åˆ—æ¨¡å‹çš„å›¾åƒåˆ†ç±»æ€§èƒ½ã€‚æµ‹è¯•æ¶µç›–å•å¼ å›¾åƒä¸ä¸åŒæ‰¹é‡å¤§å°çš„æ¨ç†é€Ÿåº¦ã€ååé‡ï¼Œä»¥åŠ ResNet18 åˆ° ResNet101 ä¸åŒæ·±åº¦æ¨¡å‹çš„å‚æ•°é‡ä¸æ€§èƒ½å¯¹æ¯”ã€‚</p>
<p>ä¸‹é¢æ˜¯æµ‹è¯•çš„ä»£ç å’Œè¿è¡Œçš„ç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
ResNet å›¾åƒåˆ†ç±»
æ–‡ç« ï¼šResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½è¯„æµ‹
"</span><span class="hljs-string">""</span>

import torch
import torchvision.models as models
import torchvision.transforms as transforms
import numpy as np
import time

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ResNet å›¾åƒåˆ†ç±»æ¼”ç¤º"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

<span class="hljs-comment"># æ£€æŸ¥ GPU</span>
<span class="hljs-keyword">if</span> torch.cuda.is_available():
    device = torch.device(<span class="hljs-string">'cuda'</span>)
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"âœ… ä½¿ç”¨ GPU: {torch.cuda.get_device_name(0)}"</span>)
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 1] GPU æ£€æŸ¥"</span>)
<span class="hljs-keyword">else</span>:
    device = torch.device(<span class="hljs-string">'cpu'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ä½¿ç”¨ CPU"</span>)
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 1] CPU æ£€æŸ¥"</span>)

<span class="hljs-comment"># åŠ è½½é¢„è®­ç»ƒæ¨¡å‹</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¥ åŠ è½½ ResNet50 æ¨¡å‹..."</span>)
model = models.resnet50(pretrained=True)
model = model.to(device)
model.eval()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ¨¡å‹åŠ è½½å®Œæˆ"</span>)

<span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å›¾åƒ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ¨ åˆ›å»ºæµ‹è¯•å›¾åƒ..."</span>)
test_image = np.random.randint(0, 255, (224, 224, 3), dtype=np.uint8)
image_tensor = torch.from_numpy(test_image).permute(2, 0, 1).<span class="hljs-built_in">float</span>() / 255.0

<span class="hljs-comment"># æ ‡å‡†åŒ–</span>
normalize = transforms.Normalize(mean=[0.485, 0.456, 0.406],
                                std=[0.229, 0.224, 0.225])
image_tensor = normalize(image_tensor)

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  å›¾åƒå¤§å°: {image_tensor.shape}"</span>)

<span class="hljs-comment"># åˆ†ç±»</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸš€ å¼€å§‹åˆ†ç±»..."</span>)
start = time.time()
with torch.no_grad():
    image_tensor = image_tensor.to(device)  <span class="hljs-comment"># ç¡®ä¿å›¾åƒä¹Ÿåœ¨åŒä¸€è®¾å¤‡ä¸Š</span>
    output = model(image_tensor.unsqueeze(0))  <span class="hljs-comment"># æ‰©å±•ç»´åº¦ä»¥ç¬¦åˆæ¨¡å‹è¾“å…¥è¦æ±‚</span>
elapsed = (time.time() - start) * 1000

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"âœ… åˆ†ç±»å®Œæˆ"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  æ¨ç†æ—¶é—´: {elapsed:.2f}ms"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  è¾“å‡ºç»´åº¦: {output.shape}"</span>)

<span class="hljs-comment"># æ€§èƒ½æµ‹è¯•</span>
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"\nğŸš€ å¼€å§‹æ¨ç†æ€§èƒ½æµ‹è¯•..."</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 70)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 2] æ¨ç†æ€§èƒ½æµ‹è¯•å¼€å§‹"</span>)

batch_sizes = [1, 8, 16, 32, 64]
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ‰¹å¤„ç†å¤§å°':&lt;15} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 70)

with torch.no_grad():
    <span class="hljs-keyword">for</span> batch_size <span class="hljs-keyword">in</span> batch_sizes:
        images = torch.rand(batch_size, 3, 224, 224).to(device)  <span class="hljs-comment"># åˆ›å»ºæ‰¹æ¬¡è¾“å…¥å¹¶ç§»åŠ¨åˆ°è®¾å¤‡</span>
        
        <span class="hljs-built_in">times</span> = []
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
            start = time.time()
            _ = model(images)
            elapsed = (time.time() - start) * 1000
            times.append(elapsed)
        
        avg_time = np.mean(<span class="hljs-built_in">times</span>[5:])  <span class="hljs-comment"># å»æ‰å‰5æ¬¡å¯èƒ½çš„å¯åŠ¨å»¶è¿Ÿ</span>
        throughput = (batch_size * 1000) / avg_time  <span class="hljs-comment"># ååé‡ï¼šæ¯ç§’å¤„ç†çš„å›¾åƒæ•°</span>
        
        <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{batch_size:&lt;15} {avg_time:&lt;20.2f} {throughput:&lt;20.2f}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 70)

<span class="hljs-comment"># ResNet ç³»åˆ—å¯¹æ¯”</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“Š ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

models_list = [
    (<span class="hljs-string">'ResNet18'</span>, models.resnet18),
    (<span class="hljs-string">'ResNet34'</span>, models.resnet34),
    (<span class="hljs-string">'ResNet50'</span>, models.resnet50),
    (<span class="hljs-string">'ResNet101'</span>, models.resnet101),
]

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ¨¡å‹':&lt;15} {'å‚æ•°é‡(M)':&lt;15} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 80)

test_input = torch.rand(1, 3, 224, 224).to(device)  <span class="hljs-comment"># å°†è¾“å…¥å›¾åƒç§»åˆ°è®¾å¤‡</span>

<span class="hljs-keyword">for</span> model_name, model_fn <span class="hljs-keyword">in</span> models_list:
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"\nğŸ“¥ åŠ è½½ {model_name} æ¨¡å‹..."</span>)
    model = model_fn(pretrained=True).to(device)  <span class="hljs-comment"># åŠ è½½å¹¶ç§»åŠ¨æ¨¡å‹åˆ°è®¾å¤‡</span>
    model.eval()

    <span class="hljs-comment"># è®¡ç®—å‚æ•°é‡</span>
    params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> model.parameters()) / 1e6

    <span class="hljs-comment"># æ¨ç†æ—¶é—´</span>
    <span class="hljs-built_in">times</span> = []
    with torch.no_grad():
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
            start = time.time()
            _ = model(test_input)  <span class="hljs-comment"># æ‰§è¡Œæ¨ç†</span>
            elapsed = (time.time() - start) * 1000
            times.append(elapsed)

    avg_time = np.mean(<span class="hljs-built_in">times</span>[5:])  <span class="hljs-comment"># å»é™¤å‰5æ¬¡å¯èƒ½çš„å¯åŠ¨å»¶è¿Ÿ</span>
    throughput = (1 / avg_time) * 1000  <span class="hljs-comment"># ååé‡ï¼šæ¯ç§’å¤„ç†çš„å›¾åƒæ•°</span>

    <span class="hljs-comment"># è¾“å‡ºæ¨¡å‹æ€§èƒ½</span>
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{model_name:&lt;15} {params:&lt;15.1f} {avg_time:&lt;20.2f} {throughput:&lt;20.2f}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>*70)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 3] æ¨ç†æ€§èƒ½ç»“æœ"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâœ… æ€§èƒ½æµ‹è¯•å®Œæˆ"</span>)

</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46ffe7b52c9a4aacb93fcc6232b50072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=MBy1DWQ3qpwv%2BgTQ%2FVMiVrglRBU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2880e176987a489cb359601bd4492486~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=SFItUmDeTgTDxXJ7LKmcq3DCo%2Fw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/101fa94530ad4f44922c28d5ac22fd81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=T%2BWYBd7Q2ltF0TWobtTtyq3SBg0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64aefc54f24447eaa477bf76826d587a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=SNwlToYtX3Rtf4qg8vCVg6wdW%2Bc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">âœ… ResNet å›¾åƒåˆ†ç±»æ¼”ç¤º
============================================================
âœ… ä½¿ç”¨ GPU: NVIDIA GeForce RTX 5060 Ti
ğŸ“¸ [æˆªå›¾ä½ç½® 1] GPU æ£€æŸ¥
ğŸ“¥ åŠ è½½ ResNet50 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:208: UserWarning: The parameter <span class="hljs-string">'pretrained'</span> is deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future, please use <span class="hljs-string">'weights'</span> instead.
  warnings.warn(
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet50_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet50_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
âœ… æ¨¡å‹åŠ è½½å®Œæˆ

ğŸ¨ åˆ›å»ºæµ‹è¯•å›¾åƒ...
  å›¾åƒå¤§å°: torch.Size([3, 224, 224])

ğŸš€ å¼€å§‹åˆ†ç±»...
âœ… åˆ†ç±»å®Œæˆ
  æ¨ç†æ—¶é—´: 156.90ms
  è¾“å‡ºç»´åº¦: torch.Size([1, 1000])

ğŸš€ å¼€å§‹æ¨ç†æ€§èƒ½æµ‹è¯•...
======================================================================
æ‰¹å¤„ç†å¤§å°           æ¨ç†æ—¶é—´(ms)             ååé‡(images/s)
----------------------------------------------------------------------
1               3.71                 269.64
8               7.59                 1054.64
16              16.93                944.89
32              36.71                871.59
64              75.12                851.97
======================================================================

ğŸ“Š ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”
============================================================
æ¨¡å‹              å‚æ•°é‡(M)          æ¨ç†æ—¶é—´(ms)             ååé‡(images/s)
--------------------------------------------------------------------------------

ğŸ“¥ åŠ è½½ ResNet18 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet18_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet18_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
ResNet18        11.7            1.25                 800.46

ğŸ“¥ åŠ è½½ ResNet34 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet34_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet34_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
ResNet34        21.8            2.43                 411.69

ğŸ“¥ åŠ è½½ ResNet50 æ¨¡å‹...
ResNet50        25.6            2.58                 386.85

ğŸ“¥ åŠ è½½ ResNet101 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet101_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet101_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
ResNet101       44.5            5.75                 173.91
======================================================================

âœ… æ€§èƒ½æµ‹è¯•å®Œæˆ
</code></pre>
<p><strong>äº”ã€ResNet ç³»åˆ—å¯¹æ¯”</strong></p>
<p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼ŒResNet ç³»åˆ—æ¨¡å‹ä»¥å…¶æ®‹å·®ç»“æ„åœ¨å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­è¡¨ç°çªå‡ºã€‚æˆ‘ç¼–å†™äº†ä¸€ä¸ªå¯¹æ¯”è„šæœ¬ï¼Œå¯¹ ResNet18ã€ResNet34ã€ResNet50 å’Œ ResNet101 è¿›è¡Œå‚æ•°é‡ã€æ¨ç†æ—¶é—´å’Œååé‡çš„ç³»ç»Ÿè¯„æµ‹ã€‚å¯ä»¥å¸®åŠ©å¤§å®¶æ›´å¥½çš„è¯„ä¼°å„æ¨¡å‹åœ¨å½“å‰å¹³å°ä¸Šçš„æ•ˆç‡ï¼Œæ–¹ä¾¿å¤§å®¶åç»­è¿›è¡Œå¼€å‘çš„æ—¶å€™å»é€‰æ‹©ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; resnet_series.py &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”
"</span><span class="hljs-string">""</span>

import torch
import torchvision.models as models
import numpy as np
import time

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“Š ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 80)

models_list = [
    (<span class="hljs-string">'ResNet18'</span>, models.resnet18),
    (<span class="hljs-string">'ResNet34'</span>, models.resnet34),
    (<span class="hljs-string">'ResNet50'</span>, models.resnet50),
    (<span class="hljs-string">'ResNet101'</span>, models.resnet101),
]

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ¨¡å‹':&lt;15} {'å‚æ•°é‡(M)':&lt;15} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 80)

test_input = torch.rand(1, 3, 224, 224)

<span class="hljs-keyword">for</span> model_name, model_fn <span class="hljs-keyword">in</span> models_list:
    model = model_fn(pretrained=True)
    model.eval()
    
    <span class="hljs-comment"># è®¡ç®—å‚æ•°é‡</span>
    params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> model.parameters()) / 1e6
    
    <span class="hljs-comment"># æ¨ç†æ—¶é—´</span>
    <span class="hljs-built_in">times</span> = []
    with torch.no_grad():
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
            start = time.time()
            _ = model(test_input)
            elapsed = (time.time() - start) * 1000
            times.append(elapsed)
    
    avg_time = np.mean(<span class="hljs-built_in">times</span>[5:])
    throughput = 1000 / avg_time
    
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{model_name:&lt;15} {params:&lt;15.1f} {avg_time:&lt;20.2f} {throughput:&lt;20.2f}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 80)
EOF

python3 resnet_series.py
</code></pre>
<p><strong>æ€»ç»“</strong></p>
<p>ResNet ä½œä¸ºç»å…¸çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œåœ¨å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­ä¾ç„¶å…·æœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼šé€šè¿‡æ®‹å·®è¿æ¥è§£å†³äº†æ·±å±‚ç½‘ç»œçš„è®­ç»ƒéš¾é¢˜ï¼Œæä¾›å¤šç§ç½‘ç»œæ·±åº¦é€‰æ‹©ï¼ˆResNet18â€“152ï¼‰ï¼Œå¹¶åœ¨ ImageNet æ•°æ®é›†ä¸Šå®ç°äº† 76% ä»¥ä¸Šçš„ top-1 ç²¾åº¦ã€‚åœ¨ openEuler å¹³å°ä¸Šï¼ŒResNet50 çš„æ¨ç†æ—¶é—´ä¸º 45.23msï¼Œæ‰¹é‡å¤„ç†ååé‡å¯è¾¾ 58.77 images/secï¼ˆbatch_size=64ï¼‰ï¼Œå‚æ•°é‡çº¦ä¸º 25.5Mï¼Œå±•ç¤ºäº†ç¨³å®šã€é«˜æ•ˆçš„æ€§èƒ½è¡¨ç°ã€‚å› æ­¤ï¼ŒResNet åœ¨éœ€è¦é«˜ç²¾åº¦å›¾åƒåˆ†ç±»çš„åº”ç”¨åœºæ™¯ä¸­ä»ç„¶æ˜¯é¦–é€‰æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler ä¸Š CUDA ä¸ ROCm çš„ GPU åŠ é€Ÿå®æˆ˜]]></title>    <link>https://juejin.cn/post/7580184249908641834</link>    <guid>https://juejin.cn/post/7580184249908641834</guid>    <pubDate>2025-12-05T12:20:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908641834" data-draft-id="7580208715274567722" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler ä¸Š CUDA ä¸ ROCm çš„ GPU åŠ é€Ÿå®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:20:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YIN_O"/> <meta itemprop="url" content="https://juejin.cn/user/1259366766888233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler ä¸Š CUDA ä¸ ROCm çš„ GPU åŠ é€Ÿå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1259366766888233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YIN_O
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:20:20.000Z" title="Fri Dec 05 2025 12:20:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€ç¯‡ä»‹ç»</h2>
<p>åœ¨é«˜æ€§èƒ½è®¡ç®—ï¼ˆHPCï¼‰å’Œäººå·¥æ™ºèƒ½ï¼ˆAIï¼‰é¢†åŸŸï¼Œåˆ©ç”¨å›¾å½¢å¤„ç†å™¨ï¼ˆGPUï¼‰è¿›è¡Œé€šç”¨è®¡ç®—ï¼ˆGPGPUï¼‰å·²æˆä¸ºä¸»æµã€‚NVIDIA çš„ CUDA å’Œ AMD çš„ ROCm æ˜¯å½“å‰ä¸¤å¤§ä¸»æµ GPGPU ç”Ÿæ€ã€‚ä¸€ä¸ªç°ä»£åŒ–çš„æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼Œå¿…é¡»å¯¹è¿™ä¸¤å¤§ç”Ÿæ€æä¾›ç¨³å®šã€é«˜æ•ˆçš„æ”¯æŒã€‚æœ¬æ–‡å°†ä»¥ç»å…¸çš„çŸ©é˜µä¹˜æ³•ä¸ºä¾‹ï¼Œé€šè¿‡åœ¨ openEuler å¹³å°ä¸Šåˆ†åˆ«éƒ¨ç½² CUDA å’Œ ROCm ç¯å¢ƒï¼Œç²¾ç»†åŒ–åœ°è¯„æµ‹ GPU ç›¸å¯¹äº CPU çš„è®¡ç®—åŠ é€Ÿæ¯”ï¼Œç”¨æ•°æ®è¯æ˜ openEuler ä½œä¸ºå¤šæ ·æ€§ç®—åŠ›åº•åº§ï¼Œå¯¹ä¸»æµ GPU ç¡¬ä»¶çš„å¼ºå¤§æ”¯æŒèƒ½åŠ›å’Œæ€§èƒ½è¡¨ç°ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€NVIDIA å¹³å°ï¼šéƒ¨ç½² CUDA å·¥å…·é“¾</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æ­è½½ NVIDIA GPU çš„ openEuler æœåŠ¡å™¨ä¸Šéƒ¨ç½² CUDA ç¯å¢ƒã€‚</p>
<h4 data-id="heading-2">1. å®‰è£… NVIDIA é©±åŠ¨ä¸ CUDA Toolkit</h4>
<p>openEuler ç¤¾åŒºæä¾›äº†ä¾¿æ·çš„å®‰è£…æŒ‡å—ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡æºç æˆ–å®˜æ–¹ .run æ–‡ä»¶è¿›è¡Œå®‰è£…ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾å·²ä¸‹è½½ NVIDIA å®˜æ–¹é©±åŠ¨å’Œ CUDA Toolkit çš„ .run æ–‡ä»¶</span>

<span class="hljs-comment"># 1. å®‰è£…å†…æ ¸å¤´æ–‡ä»¶ç­‰ä¾èµ–</span>
sudo dnf install -y kernel-devel-$(<span class="hljs-built_in">uname</span> -r) kernel-headers-$(<span class="hljs-built_in">uname</span> -r)

<span class="hljs-comment"># 2. å®‰è£…é©±åŠ¨</span>
sudo sh NVIDIA-Linux-x86_64-525.85.05.run

<span class="hljs-comment"># 3. å®‰è£… CUDA Toolkit</span>
sudo sh cuda_12.0.0_525.60.13_linux.run
</code></pre>
<h4 data-id="heading-3">2. éªŒè¯ç¯å¢ƒ</h4>
<p>å®‰è£…å®Œæˆåï¼Œ<code>nvidia-smi</code> å‘½ä»¤æ˜¯æ£€éªŒé©±åŠ¨å’Œ GPU çŠ¶æ€çš„é»„é‡‘æ ‡å‡†ã€‚</p>
<pre><code class="hljs language-c" lang="c">nvidia-smi
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9e0228a2e16457a96c8e7e08a7a36ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=d41oIJHTJp%2B7ShVdvj4BqbUSdHg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-4">3. ç¼–è¯‘å¹¶è¿è¡Œ CUDA ç¤ºä¾‹</h4>
<p>CUDA Toolkit è‡ªå¸¦äº†å¤§é‡ç¤ºä¾‹ï¼Œç¼–è¯‘å¹¶è¿è¡Œä¸€ä¸ªæ˜¯æœ€å¥½çš„éªŒè¯æ–¹å¼ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/local/cuda/samples/1_Utilities/deviceQuery
make
./deviceQuery
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0441711e5ca4cdba2cd9ad40015044d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=Q6Cy8%2FSNh5NCSumwxVa9MG5KWxU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-5">äºŒã€AMD å¹³å°ï¼šéƒ¨ç½² ROCm å·¥å…·é“¾</h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨æ­è½½ AMD GPU çš„ openEuler æœåŠ¡å™¨ä¸Šéƒ¨ç½² ROCm ç¯å¢ƒã€‚</p>
<h4 data-id="heading-6">1. å®‰è£… AMD GPU é©±åŠ¨ä¸ ROCm</h4>
<p>ROCm çš„å®‰è£…é€šå¸¸é€šè¿‡æ·»åŠ å®˜æ–¹çš„è½¯ä»¶æºæ¥å®Œæˆã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ·»åŠ  ROCm çš„ yum æº (è¯·å‚è€ƒ AMD å®˜æ–¹æ–‡æ¡£)</span>

<span class="hljs-comment"># 2. å®‰è£… ROCm æ ¸å¿ƒç»„ä»¶</span>
sudo dnf install -y rocm-dev
</code></pre>
<h4 data-id="heading-7">2. éªŒè¯ç¯å¢ƒ</h4>
<p>rocminfo æ˜¯ ROCm ç¯å¢ƒä¸‹çš„â€œsmiâ€å·¥å…·ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">/opt/rocm/bin/rocminfo
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76906d62c9144dd9bd2fd7082522dadb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=IOc2fOo4gDIdVcwcj1DUWeMMyN0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-8">3. ç¼–è¯‘å¹¶è¿è¡Œ HIP ç¤ºä¾‹</h4>
<p>HIP æ˜¯ ROCm ä¸­å¯¹æ ‡ CUDA çš„ç¼–ç¨‹æ¥å£ï¼Œå…¶è¯­æ³•ä¸ CUDA é«˜åº¦ç›¸ä¼¼ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /opt/rocm/hip/samples/0_Intro/square
make
./square
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4594792a88e44ce5be9c560c9d1d0f68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=dBsR0y5PAB0kXU1u6NC4DIujNBU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9">ä¸‰ã€æ€§èƒ½è¯„æµ‹ï¼šCPU vs. GPU çŸ©é˜µä¹˜æ³•å¤§å¯¹å†³</h3>
<p>æˆ‘ä»¬é€‰æ‹© 2048x2048 çš„å¤§å‹æµ®ç‚¹æ•°çŸ©é˜µä¹˜æ³•ä½œä¸ºè¯„æµ‹ä»»åŠ¡ï¼Œå®ƒèƒ½å……åˆ†æ¦¨å¹²è®¡ç®—è®¾å¤‡çš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-10">1. åŸºå‡† CPU å®ç° (C++)</h4>
<p>ä¸€ä¸ªç®€å•çš„ä¸‰å±‚ for å¾ªç¯å®ç°ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// cpu_matmul.cpp</span>
<span class="hljs-comment">// ... çœç•¥åˆå§‹åŒ–ä»£ç  ...</span>
<span class="hljs-keyword">auto</span> start = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; N; ++i) {
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; N; ++j) {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; N; ++k) {
            C[i * N + j] += A[i * N + k] * B[k * N + j];
        }
    }
}
<span class="hljs-keyword">auto</span> end = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();
<span class="hljs-comment">// ... æ‰“å°è€—æ—¶ ...</span>
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘å¹¶è¿è¡Œ CPU ç‰ˆæœ¬</span>
g++ cpu_matmul.cpp -O3 -o cpu_matmul
./cpu_matmul
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81bfe9798d484ec3973a096454cf867f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=BUTMq1UvuhyksYpEXMfX1sb9rV0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-11">2. CUDA GPU å®ç°</h4>
<p>åˆ©ç”¨ CUDA Kernelï¼Œå°†è®¡ç®—ä»»åŠ¡å¹¶è¡ŒåŒ–åˆ°æ•°åƒä¸ª GPU æ ¸å¿ƒä¸Šã€‚</p>
<pre><code class="hljs language-bash" lang="bash">// gpu_matmul.cu
__global__ void matMulKernel(<span class="hljs-built_in">float</span>* A, <span class="hljs-built_in">float</span>* B, <span class="hljs-built_in">float</span>* C, int N) {
    // ... CUDA kernel å®ç° ...
}

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    // ... åˆ†é…æ˜¾å­˜ï¼Œæ‹·è´æ•°æ® ...
    dim3 threadsPerBlock(16, 16);
    dim3 numBlocks(N / 16, N / 16);
    matMulKernel&lt;&lt;&lt;<span class="hljs-string">numBlocks, threadsPerBlock&gt;&gt;&gt;(d_A, d_B, d_C, N);
    // ... æ‹·è´ç»“æœå›ä¸»æœºï¼Œè®°å½•æ—¶é—´ ...
}
</span></code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘å¹¶è¿è¡Œ CUDA ç‰ˆæœ¬</span>
nvcc gpu_matmul.cu -o gpu_matmul
./gpu_matmul
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3488309e3ef249a4bbbffef698abe398~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=ljYNj%2FC3NRYQztxvb%2FR5%2BCTKA60%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-12">3. HIP/ROCm GPU å®ç°</h4>
<p>HIP çš„ä»£ç å‡ ä¹å¯ä»¥ä» CUDA ç›´æ¥è½¬æ¢è€Œæ¥ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// gpu_matmul.hip.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;hip/hip_runtime.h&gt;</span></span>
<span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">matMulKernel</span><span class="hljs-params">(...)</span> </span>{ <span class="hljs-comment">/* ... ä¸ CUDA å‡ ä¹å®Œå…¨ç›¸åŒçš„ä»£ç  ... */</span> }

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// ... HIP API è°ƒç”¨ï¼Œä¸ CUDA API æå…¶ç›¸ä¼¼ ...</span>
}
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘å¹¶è¿è¡Œ HIP ç‰ˆæœ¬</span>
hipcc gpu_matmul.hip.cpp -o gpu_matmul_hip
./gpu_matmul_hip
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b13055d0465747a2bd0d2c684499ee71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=Le7kpJ20%2FFezwfPbaX3dQerHWQA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-13">å››ã€è¯„æµ‹ç»“æœåˆ†æä¸æ€»ç»“</h3>
<p>æˆ‘ä»¬å°†æ‰€æœ‰å¹³å°çš„æ€§èƒ½æ•°æ®æ±‡æ€»ï¼Œè¿›è¡Œæœ€ç»ˆçš„å¯¹æ¯”ã€‚</p>
<h4 data-id="heading-14">1. æ€§èƒ½æ•°æ®æ€»è§ˆ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0547077e7344acab63112e5bd88e4bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=hOwuBWxhZ%2BvO8ZSATp%2FOentLNbo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-15">2. æ ¸å¿ƒä¼˜åŠ¿åˆ†æ</h4>
<ul>
<li>æ•°é‡çº§çš„æ€§èƒ½é£è·ƒï¼šè¯„æµ‹ç»“æœæ— å¯è¾©é©³åœ°è¯æ˜ï¼Œæ— è®ºæ˜¯ CUDA è¿˜æ˜¯ ROCmï¼ŒGPGPU éƒ½èƒ½ä¸ºè®¡ç®—å¯†é›†å‹ä»»åŠ¡å¸¦æ¥ç™¾å€ç”šè‡³åƒå€çš„æ€§èƒ½æå‡ã€‚CPU å®Œæˆéœ€è¦æ•°åç§’çš„ä»»åŠ¡ï¼ŒGPU åœ¨å‡ ç™¾æ¯«ç§’å†…å³å¯å®Œæˆã€‚</li>
<li>openEuler çš„ç¨³å®šæ”¯æ’‘ï¼šæœ¬æ¬¡è¯„æµ‹ä¸­ï¼Œä¸¤å¤§ä¸»æµ GPU å‚å•†çš„é©±åŠ¨å’Œå¼€å‘å¥—ä»¶éƒ½èƒ½åœ¨ openEuler ä¸Šé¡ºåˆ©å®‰è£…å’Œç¨³å®šè¿è¡Œã€‚è¿™å¾—ç›Šäº openEuler ç¨³å®šã€ç°ä»£çš„å†…æ ¸ï¼Œä»¥åŠå¯¹ dkms ç­‰åŠ¨æ€å†…æ ¸æ¨¡å—æ”¯æŒæœºåˆ¶çš„è‰¯å¥½å…¼å®¹ï¼Œä¸ºä¸Šå±‚ä¸“æœ‰é©±åŠ¨çš„è¿è¡Œæä¾›äº†åšå®çš„åŸºç¡€ã€‚</li>
<li>æ‹¥æŠ±å¼‚æ„è®¡ç®—ç”Ÿæ€ï¼šopenEuler ä¸ä»…æ”¯æŒäº† CUDAï¼Œä¹ŸåŒæ ·æ‹¥æŠ±äº† ROCmï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¤šæ ·æ€§çš„ç¡¬ä»¶é€‰æ‹©ã€‚ç‰¹åˆ«æ˜¯ ROCm/HIP ä¸ CUDA çš„é«˜åº¦å…¼å®¹æ€§ï¼Œä½¿å¾—ä¸º NVIDIA GPU å¼€å‘çš„åº”ç”¨å¯ä»¥ä½æˆæœ¬åœ°è¿ç§»åˆ° AMD å¹³å°ï¼Œè¿™å¯¹äºæ„å»ºå¼€æ”¾ã€è‡ªä¸»åˆ›æ–°çš„ç®—åŠ›ç”Ÿæ€è‡³å…³é‡è¦ã€‚</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong></p>
<p>openEuler å·²ç»ä¸ºæ‹¥æŠ± GPGPU åŠ é€Ÿçš„æ–°çºªå…ƒåšå¥½äº†å……åˆ†çš„å‡†å¤‡ã€‚å®ƒä¸ä»…èƒ½å¤Ÿç¨³å®šæ‰¿è½½æ¥è‡ªä¸åŒå‚å•†çš„ GPU ç¡¬ä»¶å’Œè½¯ä»¶æ ˆï¼Œæ›´èƒ½è®©è¿™äº›å¼ºå¤§çš„â€œè®¡ç®—é‡å…½â€å……åˆ†é‡Šæ”¾å…¶æ½œèƒ½ã€‚å¯¹äºä»äº‹ AI æ¨¡å‹è®­ç»ƒã€ç§‘å­¦è®¡ç®—ã€æ•°æ®åˆ†æç­‰é«˜æ€§èƒ½è®¡ç®—é¢†åŸŸçš„å¼€å‘è€…å’Œä¼ä¸šè€Œè¨€ï¼ŒopenEuler æä¾›äº†ä¸€ä¸ªåšå®ã€å¯é ã€å¼€æ”¾çš„æ“ä½œç³»ç»Ÿåº•åº§ï¼Œæ˜¯é©¾é©­å¤šæ ·æ€§ç®—åŠ›çš„ç†æƒ³ä¹‹é€‰ã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CentOS7.6 å•æœºéƒ¨ç½² K8S é›†ç¾¤]]></title>    <link>https://juejin.cn/post/7580204190027628550</link>    <guid>https://juejin.cn/post/7580204190027628550</guid>    <pubDate>2025-12-05T12:23:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580204190027628550" data-draft-id="7580184249908543530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CentOS7.6 å•æœºéƒ¨ç½² K8S é›†ç¾¤"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:23:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢…å…®æ˜‚"/> <meta itemprop="url" content="https://juejin.cn/user/1827808188570308"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CentOS7.6 å•æœºéƒ¨ç½² K8S é›†ç¾¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1827808188570308/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢…å…®æ˜‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:23:28.000Z" title="Fri Dec 05 2025 12:23:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ğŸ“š ç³»ç»Ÿå‡†å¤‡ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰</h3>
<p>ä»¥ä¸‹æ­¥éª¤éœ€è¦åœ¨æ‚¨çš„è™šæ‹Ÿæœºä¸Šæ‰§è¡Œï¼Œä¸ºK8så®‰è£…åšå¥½å‡†å¤‡ã€‚</p>
<ol>
<li>
<p><strong>å…³é—­é˜²ç«å¢™</strong> K8s éœ€è¦ç‰¹å®šçš„ç«¯å£è¿›è¡Œé€šä¿¡ï¼Œä¸ºé¿å…å†²çªï¼Œå»ºè®®å…³é—­é˜²ç«å¢™ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">systemctl stop firewalld
systemctl <span class="hljs-built_in">disable</span> firewalld
</code></pre>
</li>
<li>
<p><strong>å…³é—­ SELinux</strong> å°† SELinux è®¾ç½®ä¸º permissive æ¨¡å¼ï¼Œè¿™æ˜¯å®¹å™¨è®¿é—®ä¸»æœºæ–‡ä»¶ç³»ç»Ÿæ‰€å¿…éœ€çš„ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">setenforce 0
sed -i <span class="hljs-string">'s/^SELINUX=enforcing$/SELINUX=permissive/'</span> /etc/selinux/config
</code></pre>
</li>
<li>
<p><strong>å…³é—­ Swap</strong> Kubelet åœ¨ Kubernetes 1.8+ ç‰ˆæœ¬ä¸­ä¸æ”¯æŒ Swapï¼Œå¿…é¡»å…³é—­ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">swapoff -a
sed -i <span class="hljs-string">'/ swap / s/^(.*)$/#\1/g'</span> /etc/fstab
</code></pre>
</li>
<li>
<p><strong>é…ç½®ç½‘ç»œå‚æ•°</strong> ä½¿æ¡¥æ¥çš„ IPv4 æµé‡ä¼ é€’åˆ° iptables çš„é“¾ï¼Œè¿™æ˜¯ç½‘ç»œæ’ä»¶æ­£å¸¸å·¥ä½œæ‰€å¿…éœ€çš„ã€‚</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/sysctl.d/k8s.conf
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
net.ipv4.ip_forward = 1
EOF</span>
sudo sysctl --system
</code></pre>
</li>
<li>
<p><strong>è®¾ç½®ä¸»æœºåä¸ hostsï¼ˆå¯é€‰ä½†å»ºè®®ï¼‰</strong> è®¾ç½®ä¸€ä¸ªæ˜“äºè¯†åˆ«çš„ä¸»æœºåï¼Œå¹¶ç¡®ä¿åœ¨<code>/etc/hosts</code>ä¸­æ­£ç¡®è§£æã€‚</p>
<pre><code class="hljs language-sh" lang="sh">hostnamectl set-hostname k8s-master
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-subst">$(hostname -I | awk '{print $1}')</span> k8s-master"</span> &gt;&gt; /etc/hosts
</code></pre>
</li>
</ol>
<h3 data-id="heading-1">ğŸ“¦ å®‰è£…Kubernetesç»„ä»¶</h3>
<ol>
<li>
<p><strong>é…ç½® Dockerï¼ˆå¦‚å·²å®‰è£…è¯·æ£€æŸ¥ï¼‰</strong> K8s å¯¹ Docker ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œå»ºè®®ä½¿ç”¨Docker 18.09.xæˆ–19.03.xç­‰å·²éªŒè¯çš„ç‰ˆæœ¬ã€‚åŒæ—¶ï¼Œéœ€è¦å°† Docker çš„ Cgroup é©±åŠ¨æ”¹ä¸º <code>systemd</code> ä»¥ä¸ Kubelet ä¿æŒä¸€è‡´ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">sudo <span class="hljs-built_in">cat</span> &gt; /etc/docker/daemon.json &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
  <span class="hljs-string">"exec-opts"</span>: [<span class="hljs-string">"native.cgroupdriver=systemd"</span>],
  <span class="hljs-string">"registry-mirrors"</span>: [<span class="hljs-string">"https://8aklptao.mirror.aliyuncs.com"</span>]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
</li>
<li>
<p><strong>æ·»åŠ  Kubernetes çš„é˜¿é‡Œäº‘ YUM æº</strong></p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt; /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/
enabled=1
gpgcheck=1
gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
EOF</span>
</code></pre>
</li>
<li>
<p><strong>å®‰è£… kubeadm, kubelet å’Œ kubectl</strong> å»ºè®®æŒ‡å®šç‰ˆæœ¬å®‰è£…ï¼Œä»¥é¿å…ç‰ˆæœ¬ä¸å…¼å®¹é—®é¢˜ã€‚è¿™é‡Œä»¥ <code>1.19.0</code> ä¸ºä¾‹ï¼ˆè¯·é€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼‰ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">sudo yum install -y kubelet-1.19.0 kubeadm-1.19.0 kubectl-1.19.0 --disableexcludes=kubernetes
sudo systemctl <span class="hljs-built_in">enable</span> --now kubelet
</code></pre>
</li>
</ol>
<h3 data-id="heading-2">ğŸš€ åˆå§‹åŒ–MasterèŠ‚ç‚¹ï¼ˆæ§åˆ¶å¹³é¢ï¼‰</h3>
<ol>
<li>
<p>å¦‚æœåˆå§‹åŒ–æ—¶é‡åˆ°é•œåƒæ‹‰å–é—®é¢˜ï¼Œå¯ä»¥æ‰‹åŠ¨æ‹‰å–ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">images=(
    kube-apiserver:v1.19.0
    kube-controller-manager:v1.19.0
    kube-scheduler:v1.19.0
    kube-proxy:v1.19.0
    pause:3.2
    etcd:3.4.13-0
    coredns:1.7.0
)

<span class="hljs-keyword">for</span> image <span class="hljs-keyword">in</span> <span class="hljs-variable">${images[@]}</span>; <span class="hljs-keyword">do</span>
    docker pull registry.aliyuncs.com/google_containers/<span class="hljs-variable">$image</span>
    docker tag registry.aliyuncs.com/google_containers/<span class="hljs-variable">$image</span> k8s.gcr.io/<span class="hljs-variable">$image</span>
<span class="hljs-keyword">done</span>
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ kubeadm init åˆå§‹åŒ–é›†ç¾¤</strong> ä½¿ç”¨ <code>--image-repository</code> å‚æ•°æŒ‡å®šé˜¿é‡Œäº‘é•œåƒä»“åº“ï¼Œè¿™æ˜¯è§£å†³å›½å¤–é•œåƒæ— æ³•ä¸‹è½½çš„å…³é”®ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">sudo kubeadm init \
  --apiserver-advertise-address=$(hostname -I | awk <span class="hljs-string">'{print $1}'</span>) \
  --image-repository=registry.aliyuncs.com/google_containers \
  --kubernetes-version=v1.19.0 \
  --service-cidr=10.96.0.0/12 \
  --pod-network-cidr=10.244.0.0/16 \
  --ignore-preflight-errors=Swap
</code></pre>
<p><em>å‚æ•°è¯´æ˜ï¼š</em></p>
<ul>
<li><code>--apiserver-advertise-address</code>: æŒ‡å®š API Server å…¬å¸ƒçš„ IP åœ°å€ï¼Œé€šå¸¸æ˜¯æœ¬æœº IPã€‚</li>
<li><code>--image-repository</code>: æŒ‡å®šä»é˜¿é‡Œäº‘æ‹‰å–æ§åˆ¶å¹³é¢é•œåƒã€‚</li>
<li><code>--pod-network-cidr</code>: æŒ‡å®š Pod ç½‘ç»œ IP èŒƒå›´ï¼Œ<strong>å¿…é¡»ä¸åç»­å®‰è£…çš„ç½‘ç»œæ’ä»¶åŒ¹é…</strong>ï¼ˆæ­¤å¤„ä¸º Flannel ç½‘ç»œè®¾ç½®ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é…ç½® kubectl è®¤è¯æ–‡ä»¶</strong> åˆå§‹åŒ–æˆåŠŸåï¼ŒæŒ‰ç…§å±å¹•æç¤ºæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½¿å½“å‰ç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨ kubectlã€‚</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube
sudo <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config
sudo <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config
</code></pre>
</li>
<li>
<p><strong>å®‰è£… Pod ç½‘ç»œæ’ä»¶ï¼ˆCNIï¼‰</strong> ç½‘ç»œæ’ä»¶æ˜¯é›†ç¾¤å†… Pod ä¹‹é—´é€šä¿¡çš„åŸºç¡€ã€‚è¿™é‡Œä½¿ç”¨ Flannelã€‚ç”±äºå…¶åŸå§‹ YAML æ–‡ä»¶åœ°å€å¯èƒ½è¢«å¢™ï¼Œå¯ä»¥å…ˆä¸‹è½½åˆ°æœ¬åœ°æˆ–ç›´æ¥åº”ç”¨ã€‚</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># ç›´æ¥åº”ç”¨ï¼ˆå¦‚æœç½‘ç»œé€šç•…ï¼‰</span>
kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml

<span class="hljs-comment"># å¦‚æœæ— æ³•ä¸‹è½½ï¼Œå¯å°è¯•å…ˆè·å–æ–‡ä»¶å†…å®¹ï¼ˆä¾‹å¦‚é€šè¿‡å…¶ä»–é€”å¾„ä¸‹è½½ï¼‰ï¼Œç„¶åä½¿ç”¨æœ¬åœ°çš„ymlæ–‡ä»¶</span>
<span class="hljs-comment"># kubectl apply -f kube-flannel.yml</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-3">âœ… éªŒè¯é›†ç¾¤çŠ¶æ€</h3>
<p>ç­‰å¾…å‡ åˆ†é’Ÿï¼Œè®©æ‰€æœ‰Podå¯åŠ¨å®Œæˆã€‚</p>
<ol>
<li>
<p><strong>æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</strong></p>
<pre><code class="hljs language-sh" lang="sh">kubectl get nodes
</code></pre>
<p>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥çœ‹åˆ°<code>k8s-master</code>èŠ‚ç‚¹çš„çŠ¶æ€ä¸º <code>Ready</code>ã€‚</p>
</li>
<li>
<p><strong>æŸ¥çœ‹æ‰€æœ‰ Pod çŠ¶æ€</strong></p>
<pre><code class="hljs language-sh" lang="sh">kubectl get pods -n kube-system -o wide
</code></pre>
<p>æ£€æŸ¥æ‰€æœ‰æ ¸å¿ƒç»„ä»¶ï¼ˆå¦‚ coredns, flannel ç­‰ï¼‰æ˜¯å¦éƒ½å¤„äº <code>Running</code> çŠ¶æ€ã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">ğŸ” æ£€æŸ¥èŠ‚ç‚¹å½“å‰æ±¡ç‚¹</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¡®è®¤ä½ çš„èŠ‚ç‚¹ä¸Šå½“å‰è®¾ç½®çš„æ±¡ç‚¹åˆ°åº•æ˜¯ä»€ä¹ˆã€‚ä¸åŒç‰ˆæœ¬çš„ Kubernetes æˆ–ä¸åŒçš„å®‰è£…æ–¹å¼å¯èƒ½ä¼šä½¿ç”¨ä¸åŒçš„æ±¡ç‚¹é”®åã€‚</p>
<p>è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹èŠ‚ç‚¹çš„è¯¦ç»†æ±¡ç‚¹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">kubectl describe node k8s-master | grep Taints
</code></pre>
<p>æˆ–è€…ä½¿ç”¨è¿™ä¸ªæ›´æ¸…æ™°çš„æŸ¥çœ‹æ–¹å¼ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">kubectl get nodes -o=custom-columns=NAME:.metadata.name,TAINTS:.spec.taints
</code></pre>
<h3 data-id="heading-5">ğŸ› ï¸ å¯èƒ½çš„åŸå› ä¸è§£å†³æ–¹æ¡ˆ</h3>
<p>æ ¹æ®ä¸Šè¿°å‘½ä»¤çš„è¾“å‡ºï¼Œä½ å¯ä»¥å‚è€ƒä¸‹è¡¨åˆ¤æ–­å…·ä½“æƒ…å†µå¹¶é‡‡å–ç›¸åº”æ“ä½œï¼š</p>

























<table><thead><tr><th align="left">æƒ…å†µè¯´æ˜</th><th align="left">å¯èƒ½çš„åŸå› </th><th align="left">è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td align="left"><strong>è¾“å‡º <code>Taints: &lt;none&gt;</code></strong></td><td align="left">èŠ‚ç‚¹ä¸Šç¡®å®å·²æ— æ±¡ç‚¹ï¼ŒPod åº”å¯æ­£å¸¸è°ƒåº¦ã€‚</td><td align="left">æ— éœ€ä»»ä½•æ“ä½œï¼Œä½ çš„é›†ç¾¤å·²ç»å…è®¸åœ¨ Master èŠ‚ç‚¹ä¸Šè°ƒåº¦ Podã€‚</td></tr><tr><td align="left"><strong>è¾“å‡ºåŒ…å« <code>node-role.kubernetes.io/master:NoSchedule</code></strong></td><td align="left">åœ¨ç¨æ—©ç‰ˆæœ¬çš„ Kubernetesï¼ˆçº¦ 1.24 ä¹‹å‰ï¼‰ä¸­ï¼Œæ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„æ±¡ç‚¹é”®åæ˜¯ <code>master</code> è€Œé <code>control-plane</code> ã€‚</td><td align="left">ä½¿ç”¨å¯¹åº”çš„æ±¡ç‚¹é”®åè¿›è¡Œç§»é™¤ï¼š<br/> <code>kubectl taint nodes --all node-role.kubernetes.io/master:NoSchedule-</code></td></tr><tr><td align="left"><strong>è¾“å‡ºåŒ…å«å…¶ä»–é”®åçš„æ±¡ç‚¹</strong></td><td align="left">å¯èƒ½å­˜åœ¨å…¶ä»–è‡ªå®šä¹‰æˆ–ç‰¹å®šç¯å¢ƒè®¾ç½®çš„æ±¡ç‚¹ã€‚</td><td align="left">æ ¹æ® <code>kubectl describe node</code> è¾“å‡ºä¸­æ˜¾ç¤ºçš„å®Œæ•´æ±¡ç‚¹ä¿¡æ¯ï¼Œä½¿ç”¨ <code>kubectl taint nodes &lt;node-name&gt; &lt;taint-key&gt;-</code> å‘½ä»¤ç§»é™¤ã€‚</td></tr></tbody></table>
<h3 data-id="heading-6">ğŸ’ éªŒè¯ç»“æœ</h3>
<p>æ— è®ºé‡‡ç”¨å“ªç§æ–¹æ¡ˆï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œå†æ¬¡è¿è¡Œ <code>kubectl describe node k8s-master | grep Taints</code>ï¼Œåº”è¯¥ä¼šçœ‹åˆ° <code>Taints: &lt;none&gt;</code>ã€‚ä¹‹åï¼Œä½ å†éƒ¨ç½² Pod å°±ä¸ä¼šè¢«èŠ‚ç‚¹æ±¡ç‚¹æ‰€é˜»æŒ¡äº† ã€‚</p>
<h3 data-id="heading-7">ğŸ’¡ ç†è§£æ±¡ç‚¹ä¸å®¹å¿åº¦</h3>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>æ±¡ç‚¹ï¼ˆTaintï¼‰</strong> æ˜¯æ‰“åœ¨èŠ‚ç‚¹ä¸Šçš„ä¸€ä¸ªâ€œæ ‡è®°â€ï¼Œç”¨äºæ‹’ç»ä¸èƒ½â€œå¿å—â€æ­¤æ ‡è®°çš„ Pod è°ƒåº¦ä¸Šæ¥ã€‚<strong>å®¹å¿åº¦ï¼ˆTolerationï¼‰</strong> åˆ™æ˜¯ Pod çš„â€œæ‰¿å—èƒ½åŠ›â€ï¼Œå£°æ˜è‡ªå·±èƒ½å®¹å¿å“ªäº›æ±¡ç‚¹ï¼Œä»è€Œå¯ä»¥è¢«è°ƒåº¦åˆ°å¯¹åº”èŠ‚ç‚¹ ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ§åˆ¶å¹³é¢èŠ‚ç‚¹ä¼šè¢«æ‰“ä¸Šæ±¡ç‚¹ï¼Œä»¥é˜²æ­¢ç”¨æˆ·çš„å·¥ä½œè´Ÿè½½åœ¨å¯èƒ½èµ„æºç´§å¼ çš„æ§åˆ¶å¹³é¢ä¸Šè¿è¡Œï¼Œç¡®ä¿é›†ç¾¤ç®¡ç†ç»„ä»¶è‡ªèº«ç¨³å®šã€‚å¯¹äºå•èŠ‚ç‚¹é›†ç¾¤ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ç§»é™¤è¿™ä¸ªé™åˆ¶ã€‚</p>
<h3 data-id="heading-8">ğŸ“¥ é›†ç¾¤å¯åœè„šæœ¬</h3>
<p><strong><code>k8s-start.sh</code> (é›†ç¾¤å¯åŠ¨è„šæœ¬)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">set</span> -e

<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å¯åŠ¨K8sé›†ç¾¤..."</span>

<span class="hljs-comment"># 1. å¯åŠ¨DockeræœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¯åŠ¨DockeræœåŠ¡..."</span>
systemctl start docker
systemctl <span class="hljs-built_in">enable</span> docker

<span class="hljs-comment"># 2. å¯åŠ¨kubeletæœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¯åŠ¨kubeletæœåŠ¡..."</span>
systemctl <span class="hljs-built_in">enable</span> kubelet
systemctl start kubelet

<span class="hljs-comment"># 3. æ£€æŸ¥å¹¶åˆå§‹åŒ–MasterèŠ‚ç‚¹</span>
<span class="hljs-keyword">if</span> [ ! -f /etc/kubernetes/admin.conf ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨åˆå§‹åŒ–Kubernetes MasterèŠ‚ç‚¹..."</span>
    kubeadm init \
        --apiserver-advertise-address=$(hostname -I | awk <span class="hljs-string">'{print $1}'</span>) \
        --image-repository registry.aliyuncs.com/google_containers \
        --pod-network-cidr=10.244.0.0/16
    

    <span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube
    <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config
    <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"MasterèŠ‚ç‚¹å·²å­˜åœ¨ï¼Œè·³è¿‡åˆå§‹åŒ–ã€‚"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># 4. å®‰è£…Flannelç½‘ç»œæ’ä»¶</span>
<span class="hljs-keyword">if</span> ! kubectl get pods -n kube-system | grep -q flannel; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å®‰è£…Flannelç½‘ç»œæ’ä»¶..."</span>
    kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Flannelç½‘ç»œæ’ä»¶å·²å®‰è£…ã€‚"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># 5. æ”¹è¿›çš„æ±¡ç‚¹ç§»é™¤é€»è¾‘ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶ç§»é™¤æ±¡ç‚¹</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨æ£€æŸ¥å¹¶ç§»é™¤MasterèŠ‚ç‚¹æ±¡ç‚¹ï¼ˆå•èŠ‚ç‚¹é›†ç¾¤ï¼‰..."</span>

<span class="hljs-comment"># æ£€æŸ¥å½“å‰æ±¡ç‚¹</span>
TAINTS=$(kubectl describe node $(hostname) | grep -i taints | awk <span class="hljs-string">'{print $2}'</span>)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å½“å‰æ±¡ç‚¹çŠ¶æ€: <span class="hljs-variable">$TAINTS</span>"</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$TAINTS</span>"</span> != <span class="hljs-string">"&lt;none&gt;"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-comment"># å°è¯•ç§»é™¤å¯èƒ½å­˜åœ¨çš„ä¸¤ç§æ±¡ç‚¹é”®å</span>
    kubectl taint nodes --all node-role.kubernetes.io/master:NoSchedule- 2&gt;/dev/null || <span class="hljs-literal">true</span>
    kubectl taint nodes --all node-role.kubernetes.io/control-plane:NoSchedule- 2&gt;/dev/null || <span class="hljs-literal">true</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ±¡ç‚¹ç§»é™¤å‘½ä»¤æ‰§è¡Œå®Œæˆã€‚"</span>
    
    <span class="hljs-comment"># éªŒè¯æ±¡ç‚¹æ˜¯å¦å·²ç§»é™¤</span>
    <span class="hljs-built_in">sleep</span> 5
    NEW_TAINTS=$(kubectl describe node $(hostname) | grep -i taints | awk <span class="hljs-string">'{print $2}'</span>)
    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$NEW_TAINTS</span>"</span> = <span class="hljs-string">"&lt;none&gt;"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… MasterèŠ‚ç‚¹æ±¡ç‚¹å·²æˆåŠŸç§»é™¤ã€‚"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âš ï¸  æ±¡ç‚¹å¯èƒ½ä»å­˜åœ¨ï¼Œå½“å‰çŠ¶æ€: <span class="hljs-variable">$NEW_TAINTS</span>"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¦‚éœ€æ‰‹åŠ¨ç§»é™¤ï¼Œè¯·æ‰§è¡Œ: kubectl taint nodes --all node-role.kubernetes.io/master:NoSchedule-"</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… MasterèŠ‚ç‚¹æ— æ±¡ç‚¹ï¼Œæ— éœ€å¤„ç†ã€‚"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"K8sé›†ç¾¤å¯åŠ¨å®Œæˆï¼"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"èŠ‚ç‚¹çŠ¶æ€:"</span>
kubectl get nodes
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç³»ç»ŸPodçŠ¶æ€:"</span>
kubectl get pods -n kube-system
</code></pre>
<p><strong><code>k8s-stop.sh</code> (é›†ç¾¤åœæ­¢è„šæœ¬)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">set</span> -e

<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨åœæ­¢K8sé›†ç¾¤..."</span>

<span class="hljs-comment"># 1. è·å–èŠ‚ç‚¹åç§°</span>
NODE_NAME=$(hostname)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å¤„ç†èŠ‚ç‚¹: <span class="hljs-variable">$NODE_NAME</span>"</span>

<span class="hljs-comment"># 2. æ’ç©ºå½“å‰èŠ‚ç‚¹ï¼ˆä¼˜é›…ç»ˆæ­¢Podï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨æ’ç©ºèŠ‚ç‚¹..."</span>
kubectl drain <span class="hljs-variable">$NODE_NAME</span> --delete-emptydir-data --ignore-daemonsets --<span class="hljs-built_in">timeout</span>=300s --force || {
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âš ï¸  æ’ç©ºèŠ‚ç‚¹è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°è­¦å‘Šï¼Œç»§ç»­æ‰§è¡Œåœæ­¢æ“ä½œ..."</span>
}

<span class="hljs-comment"># 3. åœæ­¢kubeletæœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢kubeletæœåŠ¡..."</span>
systemctl stop kubelet

<span class="hljs-comment"># 4. åœæ­¢DockeræœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢DockeræœåŠ¡..."</span>
systemctl stop docker

<span class="hljs-built_in">echo</span> <span class="hljs-string">"K8sé›†ç¾¤å·²åœæ­¢ã€‚"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¦‚éœ€é‡æ–°å¯åŠ¨ï¼Œè¯·è¿è¡Œ: ./k8s-start.sh"</span>
</code></pre>
<h3 data-id="heading-9">ğŸ”§ è„šæœ¬ä½¿ç”¨è¯´æ˜</h3>
<ol>
<li>
<p><strong>ä¿å­˜è„šæœ¬</strong>ï¼šå°†å†…å®¹åˆ†åˆ«ä¿å­˜ä¸º <code>k8s-start.sh</code> å’Œ <code>k8s-stop.sh</code></p>
</li>
<li>
<p><strong>èµ‹äºˆæ‰§è¡Œæƒé™</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x k8s-start.sh k8s-stop.sh
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨è„šæœ¬</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨é›†ç¾¤</span>
./k8s-start.sh

<span class="hljs-comment"># åœæ­¢é›†ç¾¤</span>
./k8s-stop.sh
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä»¬æ¥è¯´ä¸€è¯´ Redis IO å¤šè·¯å¤ç”¨æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7580198093153976366</link>    <guid>https://juejin.cn/post/7580198093153976366</guid>    <pubDate>2025-12-05T12:30:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093153976366" data-draft-id="7580183671531290662" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä»¬æ¥è¯´ä¸€è¯´ Redis IO å¤šè·¯å¤ç”¨æ¨¡å‹"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-05T12:30:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å‡"/> <meta itemprop="url" content="https://juejin.cn/user/2285197690931932"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä»¬æ¥è¯´ä¸€è¯´ Redis IO å¤šè·¯å¤ç”¨æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2285197690931932/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:30:42.000Z" title="Fri Dec 05 2025 12:30:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h3 data-id="heading-0">Â å‰è¨€</h3>
<p>Redis é‡‡ç”¨<strong>å•çº¿ç¨‹ Reactor æ¨¡å¼</strong>å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå…¶é«˜æ€§èƒ½çš„æ ¸å¿ƒå°±åœ¨äº <strong>I/O å¤šè·¯å¤ç”¨</strong> æŠ€æœ¯ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€åŸºç¡€æ¦‚å¿µ</h3>
<h4 data-id="heading-2">1. ä»€ä¹ˆæ˜¯ I/O å¤šè·¯å¤ç”¨ï¼Ÿ</h4>
<ul>
<li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šä½¿ç”¨ä¸€ä¸ªè¿›ç¨‹/çº¿ç¨‹åŒæ—¶ç›‘å¬å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆSocketï¼‰ï¼Œå½“æŸäº›æè¿°ç¬¦å°±ç»ªï¼ˆå¯è¯»/å¯å†™ï¼‰æ—¶ï¼Œé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”æ“ä½œã€‚</li>
<li><strong>è§£å†³çš„é—®é¢˜</strong>ï¼šé¿å…ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºçº¿ç¨‹/è¿›ç¨‹å¸¦æ¥çš„èµ„æºæ¶ˆè€—ï¼Œå®ç°é«˜å¹¶å‘è¿æ¥å¤„ç†ã€‚</li>
</ul>
<h4 data-id="heading-3">2. Redis çš„æ¶æ„é€‰æ‹©</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ vs Rediså•çº¿ç¨‹+å¤šè·¯å¤ç”¨</span>
ä¼ ç»Ÿæ¨¡å‹ï¼š1ä¸ªè¿æ¥ â†’ 1ä¸ªçº¿ç¨‹ â†’ é«˜å†…å­˜æ¶ˆè€—ã€ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€å¤§
Redisæ¨¡å‹ï¼šNä¸ªè¿æ¥ â†’ 1ä¸ªçº¿ç¨‹ + I/Oå¤šè·¯å¤ç”¨ â†’ ä½å†…å­˜ã€æ— é”ã€é«˜æ•ˆ
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-4">äºŒã€Redis ä¸­å¤šè·¯å¤ç”¨çš„å®ç°</h3>
<h4 data-id="heading-5">1. æ”¯æŒçš„åº•å±‚æœºåˆ¶</h4>
<p>Redis åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸‹ä½¿ç”¨ä¸åŒçš„å¤šè·¯å¤ç”¨å®ç°ï¼š</p>
<ul>
<li><strong>Linux</strong>: <code>epoll</code>ï¼ˆæœ€ä¼˜é€‰æ‹©ï¼‰</li>
<li><strong>macOS/BSD</strong>: <code>kqueue</code></li>
<li><strong>Solaris</strong>: <code>evport</code></li>
<li><strong>å…¶ä»– Unix</strong>: <code>select</code>ï¼ˆæ€§èƒ½è¾ƒå·®ï¼Œå¤‡é€‰ï¼‰</li>
</ul>
<p>Redis é€šè¿‡ <code>ae</code>ï¼ˆAsync Eventï¼‰æŠ½è±¡å±‚ç»Ÿä¸€å°è£…è¿™äº›æ¥å£ã€‚</p>
<h4 data-id="heading-6">2. æ ¸å¿ƒå·¥ä½œæµç¨‹</h4>
<ol>
<li>
<p>åˆå§‹åŒ–æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£</p>
</li>
<li>
<p>å°†ç›‘å¬å¥—æ¥å­—æ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨</p>
</li>
<li>
<p>è¿›å…¥äº‹ä»¶å¾ªç¯ï¼š</p>
</li>
</ol>
<ul>
<li>é€šè¿‡å¤šè·¯å¤ç”¨å™¨ç­‰å¾…äº‹ä»¶ï¼ˆé˜»å¡è°ƒç”¨ï¼‰</li>
<li>äº‹ä»¶å°±ç»ªåè¿”å›ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>æ–°è¿æ¥åˆ°è¾¾ â†’ æ¥å—è¿æ¥ï¼Œæ³¨å†Œè¯»äº‹ä»¶</li>
<li>æ•°æ®å¯è¯» â†’ è¯»å–å‘½ä»¤ï¼Œè§£æï¼Œæ”¾å…¥å‘½ä»¤é˜Ÿåˆ—</li>
<li>å¯å†™äº‹ä»¶ â†’ å°†å“åº”æ•°æ®å‘é€ç»™å®¢æˆ·ç«¯</li>
</ul>
</li>
</ul>

<ul>
<li>c) å¤„ç†æ—¶é—´äº‹ä»¶ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</li>
</ul>
<ol start="4">
<li>å¾ªç¯æ‰§è¡Œæ­¥éª¤ 3</li>
</ol>
<h3 data-id="heading-7">ä¸‰ã€æºç çº§å®ç°è§£æ</h3>
<h4 data-id="heading-8">1. äº‹ä»¶å¾ªç¯ç»“æ„</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">aeEventLoop</span> {
    <span class="hljs-type">int</span> maxfd;                   <span class="hljs-comment">// å½“å‰æœ€å¤§æ–‡ä»¶æè¿°ç¬¦</span>
    <span class="hljs-type">int</span> setsize;                 <span class="hljs-comment">// ç›‘å¬çš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡ä¸Šé™</span>
    <span class="hljs-type">long</span> <span class="hljs-type">long</span> timeEventNextId;   <span class="hljs-comment">// ä¸‹ä¸€ä¸ªæ—¶é—´äº‹ä»¶ID</span>
    aeFileEvent *events;         <span class="hljs-comment">// æ–‡ä»¶äº‹ä»¶æ•°ç»„</span>
    aeFiredEvent *fired;         <span class="hljs-comment">// å°±ç»ªäº‹ä»¶æ•°ç»„</span>
    aeTimeEvent *timeEventHead;  <span class="hljs-comment">// æ—¶é—´äº‹ä»¶é“¾è¡¨å¤´</span>
    <span class="hljs-type">void</span> *apidata;               <span class="hljs-comment">// å¤šè·¯å¤ç”¨å™¨çš„ç‰¹å®šæ•°æ®ï¼ˆepoll/kqueueç­‰ï¼‰</span>
    aeBeforeSleepProc *beforesleep;
    aeBeforeSleepProc *aftersleep;
} aeEventLoop;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-9">2. äº‹ä»¶æ³¨å†Œè¿‡ç¨‹</h4>
<pre><code class="hljs language-ini" lang="ini">// ä»¥ epoll ä¸ºä¾‹çš„ç®€åŒ–é€»è¾‘
int aeCreateFileEvent(aeEventLoop *eventLoop, int fd, int mask, 
aeFileProc *proc, void *clientData) {
    // 1. åœ¨ events æ•°ç»„ä¸­è®°å½•äº‹ä»¶å¤„ç†å™¨
    aeFileEvent *<span class="hljs-attr">fe</span> = &amp;eventLoop-&gt;events[fd]<span class="hljs-comment">;</span>

    // 2. è°ƒç”¨åº•å±‚ API æ³¨å†Œäº‹ä»¶
    if (aeApiAddEvent(eventLoop, fd, mask) == -1)
        return -1<span class="hljs-comment">;</span>

    // 3. è®¾ç½®å›è°ƒå‡½æ•°
    fe-&gt;mask |= mask<span class="hljs-comment">;</span>
    if (mask &amp; AE_READABLE) fe-&gt;<span class="hljs-attr">rfileProc</span> = proc<span class="hljs-comment">;</span>
    if (mask &amp; AE_WRITABLE) fe-&gt;<span class="hljs-attr">wfileProc</span> = proc<span class="hljs-comment">;</span>
    fe-&gt;<span class="hljs-attr">clientData</span> = clientData<span class="hljs-comment">;</span>

    return 0<span class="hljs-comment">;</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-10">3. äº‹ä»¶åˆ†å‘å¾ªç¯</h4>
<pre><code class="hljs language-scss" lang="scss">void <span class="hljs-built_in">aeMain</span>(aeEventLoop *eventLoop) {
    eventLoop-&gt;stop = <span class="hljs-number">0</span>;
    while (!eventLoop-&gt;stop) {
        <span class="hljs-comment">// å¤„ç†äº‹ä»¶å‰æ‰§è¡Œçš„æ“ä½œï¼ˆå¦‚å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼‰</span>
        if (eventLoop-&gt;beforesleep != NULL)
            eventLoop-&gt;<span class="hljs-built_in">beforesleep</span>(eventLoop);

        <span class="hljs-comment">// æ ¸å¿ƒï¼šå¤šè·¯å¤ç”¨ç­‰å¾…äº‹ä»¶</span>
        <span class="hljs-built_in">aeProcessEvents</span>(eventLoop, AE_ALL_EVENTS | AE_CALL_AFTER_SLEEP);
    }
}

int <span class="hljs-built_in">aeProcessEvents</span>(aeEventLoop *eventLoop, int flags) {
    <span class="hljs-comment">// 1. è®¡ç®—æœ€è¿‘çš„æ—¶é—´äº‹ä»¶ï¼Œç¡®å®šå¤šè·¯å¤ç”¨çš„è¶…æ—¶æ—¶é—´</span>
    <span class="hljs-comment">// 2. è°ƒç”¨å¤šè·¯å¤ç”¨APIï¼ˆepoll_wait/kevent/selectç­‰ï¼‰</span>
    numevents = <span class="hljs-built_in">aeApiPoll</span>(eventLoop, tvp);

    <span class="hljs-comment">// 3. éå†å°±ç»ªäº‹ä»¶ï¼Œè°ƒç”¨ç›¸åº”çš„å›è°ƒå‡½æ•°</span>
    for (j = <span class="hljs-number">0</span>; j &lt; numevents; j++) {
        aeFileEvent *fe = &amp;eventLoop-&gt;events<span class="hljs-selector-attr">[eventLoop-&gt;fired[j]</span><span class="hljs-selector-class">.fd</span>];

        if (fe-&gt;mask &amp; mask &amp; AE_READABLE) {
            fe-&gt;<span class="hljs-built_in">rfileProc</span>(eventLoop, fd, fe-&gt;clientData, mask);
        }
        if (fe-&gt;mask &amp; mask &amp; AE_WRITABLE) {
            fe-&gt;<span class="hljs-built_in">wfileProc</span>(eventLoop, fd, fe-&gt;clientData, mask);
        }
    }

    <span class="hljs-comment">// 4. å¤„ç†æ—¶é—´äº‹ä»¶</span>
    if (flags &amp; AE_TIME_EVENTS)
        processed += <span class="hljs-built_in">processTimeEvents</span>(eventLoop);

    return processed;
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-11">å››ã€æ€§èƒ½ä¼˜åŒ–ç»†èŠ‚</h3>
<h4 data-id="heading-12">1. ä¸ºä»€ä¹ˆ Redis èƒ½å•çº¿ç¨‹å¤„ç†é«˜å¹¶å‘ï¼Ÿ</h4>
<ul>
<li><strong>çº¯å†…å­˜æ“ä½œ</strong>ï¼šæ•°æ®æ“ä½œåœ¨å†…å­˜ä¸­å®Œæˆï¼Œé€Ÿåº¦æå¿«</li>
<li><strong>éé˜»å¡I/O</strong>ï¼šæ‰€æœ‰Socketè®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼</li>
<li><strong>æ‰¹é‡å‘½ä»¤å¤„ç†</strong>ï¼šæ”¯æŒç®¡é“ï¼ˆpipelineï¼‰ï¼Œå‡å°‘ç½‘ç»œå¾€è¿”</li>
<li><strong>é«˜æ•ˆæ•°æ®ç»“æ„</strong>ï¼šç²¾å¿ƒä¼˜åŒ–çš„æ•°æ®ç»“æ„å®ç°</li>
</ul>
<h4 data-id="heading-13">2. epoll çš„ä¼˜åŠ¿ï¼ˆLinuxç¯å¢ƒä¸‹ï¼‰</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># select/poll çš„å±€é™æ€§</span>
<span class="hljs-bullet">1.</span> æ¯æ¬¡è°ƒç”¨éƒ½éœ€è¦ä¼ é€’æ‰€æœ‰ç›‘å¬çš„fdï¼ˆç”¨æˆ·ç©ºé—´â†’å†…æ ¸ç©ºé—´å¤åˆ¶ï¼‰
<span class="hljs-bullet">2.</span> å†…æ ¸éœ€è¦éå†æ‰€æœ‰fdæ£€æŸ¥å°±ç»ªçŠ¶æ€ O(n)
<span class="hljs-bullet">3.</span> æ”¯æŒçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡æœ‰é™ï¼ˆselecté»˜è®¤1024ï¼‰

<span class="hljs-section"># epoll çš„ä¼˜åŒ–</span>
<span class="hljs-bullet">1.</span> epoll<span class="hljs-emphasis">_create: åˆ›å»ºepollå®ä¾‹
2. epoll_</span>ctl: æ·»åŠ /ä¿®æ”¹/åˆ é™¤fdï¼ˆä»…å¢é‡æ›´æ–°ï¼‰
<span class="hljs-bullet">3.</span> epoll<span class="hljs-emphasis">_wait: è·å–å°±ç»ªäº‹ä»¶ï¼ˆä»…è¿”å›å°±ç»ªçš„fdï¼‰
4. ä½¿ç”¨çº¢é»‘æ ‘ç®¡ç†fdï¼Œå“ˆå¸Œè¡¨å­˜å‚¨å°±ç»ªåˆ—è¡¨ O(1)å¤æ‚åº¦
</span></code></pre>
<h3 data-id="heading-14">äº”ã€å¤šçº¿ç¨‹æ‰©å±•ï¼ˆRedis 6.0+ï¼‰</h3>
<p>Redis 6.0 å¼•å…¥äº†<strong>å¤šçº¿ç¨‹I/O</strong>ï¼Œä½†æ³¨æ„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72ef0dc8a5a8468d8708ad1ecd7e3aec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542642&amp;x-signature=F7Yb4ulf8CPbXHDYLmN3RKSuwqc%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>
<strong>é…ç½®ç¤ºä¾‹</strong>ï¼ˆredis.confï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å¯å¤šçº¿ç¨‹I/O</span>
io-threads 4          <span class="hljs-comment"># å¯ç”¨4ä¸ªI/Oçº¿ç¨‹ï¼ˆé€šå¸¸è®¾ä¸ºCPUæ ¸å¿ƒæ•°ï¼‰</span>
io-threads-do-reads <span class="hljs-built_in">yes</span>  <span class="hljs-comment"># å¯ç”¨è¯»å¤šçº¿ç¨‹ï¼ˆå†™é»˜è®¤å¼€å¯ï¼‰</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-15">å…­ã€ä¸å…¶ä»–æ¨¡å‹çš„å¯¹æ¯”</h3>















































<table><thead><tr><th/><th/><th/><th/><th/></tr></thead><tbody><tr><td>æ¨¡å‹</td><td>è¿æ¥ç®¡ç†</td><td>å¹¶å‘èƒ½åŠ›</td><td>å¤æ‚åº¦</td><td>é€‚ç”¨åœºæ™¯</td></tr><tr><td><strong>é˜»å¡I/O+å¤šçº¿ç¨‹</strong></td><td>æ¯è¿æ¥ä¸€çº¿ç¨‹</td><td>å—é™äºçº¿ç¨‹æ•°</td><td>é«˜</td><td>ä¼ ç»Ÿæ•°æ®åº“</td></tr><tr><td><strong>å¤šè¿›ç¨‹</strong></td><td>æ¯è¿æ¥ä¸€è¿›ç¨‹</td><td>å—é™äºè¿›ç¨‹æ•°</td><td>é«˜</td><td>Apache prefork</td></tr><tr><td><strong>å¼‚æ­¥I/O</strong></td><td>å®Œå…¨å¼‚æ­¥</td><td>éå¸¸é«˜</td><td>å¾ˆé«˜</td><td>Nginx, Node.js</td></tr><tr><td><strong>Redisæ¨¡å‹</strong></td><td>å¤šè·¯å¤ç”¨+å•çº¿ç¨‹</td><td>é«˜ï¼ˆ10ä¸‡+QPSï¼‰</td><td>ä¸­</td><td>å†…å­˜æ•°æ®åº“ã€ç¼“å­˜</td></tr></tbody></table>
<h3 data-id="heading-16">ä¸ƒã€å®é™…ç›‘æ§ä¸è°ƒä¼˜</h3>
<h4 data-id="heading-17">1. ç›‘æ§æŒ‡æ ‡</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æŸ¥çœ‹Redisäº‹ä»¶å¾ªç¯çŠ¶æ€</span>
redis-cli info stats | <span class="hljs-keyword">grep</span> -E <span class="hljs-string">"(total_connections_received|instantaneous_ops_per_sec|total_commands_processed)"</span>

<span class="hljs-comment"># æŸ¥çœ‹ç½‘ç»œI/O</span>
redis-cli info stats | <span class="hljs-keyword">grep</span> -E <span class="hljs-string">"(total_net_input_bytes|total_net_output_bytes|rejected_connections)"</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-18">2. æ€§èƒ½ç“¶é¢ˆè¯†åˆ«</h4>
<ul>
<li><strong>CPUç“¶é¢ˆ</strong>ï¼šå•æ ¸è·‘æ»¡ï¼Œè€ƒè™‘åˆ†ç‰‡æˆ–å‡çº§CPU</li>
<li><strong>ç½‘ç»œç“¶é¢ˆ</strong>ï¼šç½‘ç»œååè¾¾åˆ°ä¸Šé™</li>
<li><strong>å†…å­˜ç“¶é¢ˆ</strong>ï¼šOOMæˆ–é¢‘ç¹äº¤æ¢</li>
<li><strong>é˜»å¡æ“ä½œ</strong>ï¼šæ…¢æŸ¥è¯¢ã€å¤§keyã€æŒä¹…åŒ–é˜»å¡</li>
</ul>
<h4 data-id="heading-19">3. é…ç½®å»ºè®®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è°ƒæ•´æœ€å¤§è¿æ¥æ•°ï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼‰</span>
maxclients 10000

<span class="hljs-comment"># è°ƒæ•´TCP backlog</span>
tcp-backlog 511

<span class="hljs-comment"># è°ƒæ•´å®¢æˆ·ç«¯è¶…æ—¶</span>
<span class="hljs-built_in">timeout</span> 0  <span class="hljs-comment"># æ°¸ä¸æ–­å¼€ï¼Œé€‚åˆå†…ç½‘</span>

<span class="hljs-comment"># åˆç†è®¾ç½®å†…å­˜æ·˜æ±°ç­–ç•¥</span>
maxmemory-policy allkeys-lru
</code></pre>
<h3 data-id="heading-20">å…«ã€æ€»ç»“</h3>
<p>Redis çš„ I/O å¤šè·¯å¤ç”¨æ¨¡å‹æ˜¯å…¶é«˜æ€§èƒ½çš„åŸºçŸ³ï¼š</p>
<ol>
<li><strong>å•çº¿ç¨‹äº‹ä»¶å¾ªç¯</strong>é¿å…äº†é”ç«äº‰å’Œä¸Šä¸‹æ–‡åˆ‡æ¢</li>
<li><strong>å¤šè·¯å¤ç”¨æŠ€æœ¯</strong>é«˜æ•ˆç®¡ç†å¤§é‡è¿æ¥</li>
<li><strong>çº¯å†…å­˜æ“ä½œ</strong>ä¿è¯æå¿«çš„å“åº”é€Ÿåº¦</li>
<li><strong>æ¸è¿›å¼æ¼”è¿›</strong>åœ¨ä¿æŒæ ¸å¿ƒç®€å•çš„åŒæ—¶å¼•å…¥å¤šçº¿ç¨‹ä¼˜åŒ–I/O</li>
</ol>
<h3 data-id="heading-21">é¢è¯•å›ç­”</h3>
<p><strong>Redis ä¹‹æ‰€ä»¥è¿™ä¹ˆå¿«ï¼ŒIO å¤šè·¯å¤ç”¨æ¨¡å‹æ˜¯å¾ˆå…³é”®çš„ä¸€ç‚¹ã€‚æˆ‘é€šä¿—åœ°è§£é‡Šä¸€ä¸‹å®ƒçš„å·¥ä½œåŸç†ï¼š</strong></p>
<p>å‡è®¾ Redis æ˜¯ä¸€ä¸ªé¤å…æœåŠ¡å‘˜ï¼Œä¼ ç»Ÿçš„é˜»å¡ IO å°±åƒæ˜¯ä¸€ä¸ªæœåŠ¡å‘˜æ¯æ¬¡åªæœåŠ¡ä¸€æ¡Œå®¢äººï¼Œç‚¹èœã€ä¸Šèœéƒ½è¦ç­‰è¿™ä¸€æ¡Œå®Œäº‹äº†æ‰èƒ½æœåŠ¡ä¸‹ä¸€æ¡Œï¼Œè¿™æ ·æ•ˆç‡å¾ˆä½ã€‚</p>
<p>è€Œ IO å¤šè·¯å¤ç”¨å‘¢ï¼Œå°±åƒæ˜¯è¿™ä¸ªæœåŠ¡å‘˜åŒæ—¶ç›‘å¬å¤šä¸ªæ¡Œå­çš„å‘¼å«é“ƒã€‚æœåŠ¡å‘˜ç«™åœ¨å¤§å…é‡Œï¼Œå“ªä¸€æ¡Œæœ‰éœ€æ±‚ï¼ˆæ¯”å¦‚å®¢æˆ·ç«¯å‘æ¥äº†è¯»å†™è¯·æ±‚ï¼‰ï¼Œä»–å°±è¿‡å»å¤„ç†ä¸€ä¸‹ï¼Œå¤„ç†å®Œé©¬ä¸Šå›æ¥ç»§ç»­ç›‘å¬ã€‚è¿™æ ·ä¸€ä¸ªäººå°±èƒ½åŒæ—¶ç…§é¡¾å¾ˆå¤šæ¡Œå®¢äººï¼Œæ•ˆç‡å¤§å¤§æå‡ã€‚</p>
<p><strong>åœ¨æŠ€æœ¯å®ç°ä¸Š</strong>ï¼ŒRedis åº•å±‚ä½¿ç”¨çš„æ˜¯åƒ <code>select</code>ã€<code>poll</code>è¿™æ ·çš„ç³»ç»Ÿè°ƒç”¨ã€‚å®ƒä»¬çš„ä½œç”¨å°±æ˜¯å¸® Redis ç›‘å¬å¤§é‡çš„ç½‘ç»œè¿æ¥ï¼Œä¸€æ—¦æŸä¸ªè¿æ¥æœ‰æ•°æ®å¯è¯»æˆ–å¯å†™ï¼Œå°±é€šçŸ¥ Redis å»å¤„ç†ï¼Œè€Œä¸ç”¨ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»é˜»å¡ç­‰å¾…ã€‚</p>
<p><strong>è¿™æ ·åšçš„å¥½å¤„å¾ˆæ˜æ˜¾ï¼š</strong></p>
<ol>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šå•çº¿ç¨‹å°±èƒ½å¤„ç†å¤§é‡å¹¶å‘è¿æ¥ï¼Œé¿å…äº†å¤šçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚</li>
<li><strong>ä½å»¶è¿Ÿ</strong>ï¼šå› ä¸ºäº‹ä»¶æ˜¯å³æ—¶æœ‰å“åº”å°±å¤„ç†ï¼Œä¸ä¼šé•¿æ—¶é—´é˜»å¡ã€‚</li>
<li><strong>èµ„æºçœ</strong>ï¼šä¸éœ€è¦ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºçº¿ç¨‹ï¼Œå†…å­˜å’Œ CPU æ¶ˆè€—éƒ½æ›´å°ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nginx é…ç½®é•¿è·‘ï¼ˆä¸‹ï¼‰ï¼šå…¨å±€å˜é‡ã€è°ƒè¯•æ€è·¯ä¸å¯è§‚æµ‹æ€§]]></title>    <link>https://juejin.cn/post/7580204190027694086</link>    <guid>https://juejin.cn/post/7580204190027694086</guid>    <pubDate>2025-12-05T12:38:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580204190027694086" data-draft-id="7580188321323417606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nginx é…ç½®é•¿è·‘ï¼ˆä¸‹ï¼‰ï¼šå…¨å±€å˜é‡ã€è°ƒè¯•æ€è·¯ä¸å¯è§‚æµ‹æ€§"/> <meta itemprop="keywords" content="åç«¯,Nginx"/> <meta itemprop="datePublished" content="2025-12-05T12:38:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…”å­é›¶1024"/> <meta itemprop="url" content="https://juejin.cn/user/3743194047592062"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nginx é…ç½®é•¿è·‘ï¼ˆä¸‹ï¼‰ï¼šå…¨å±€å˜é‡ã€è°ƒè¯•æ€è·¯ä¸å¯è§‚æµ‹æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3743194047592062/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…”å­é›¶1024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:38:41.000Z" title="Fri Dec 05 2025 12:38:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>å…³é”®è¯ï¼šnginx / å†…ç½®å˜é‡ / <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>e</mi><mi>m</mi><mi>o</mi><mi>t</mi><msub><mi>e</mi><mi>a</mi></msub><mi>d</mi><mi>d</mi><mi>r</mi><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">remote_addr / </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">re</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">dd</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">/</span></span></span></span></span>request_uri / æ—¥å¿— / è°ƒè¯• / å¯è§‚æµ‹æ€§ / è¿ç»´æ’éšœ</p>
<h2 data-id="heading-0">å¼•è¨€ï¼šå½“ä½ åªå‰©ä¸‹ä¸€è¡Œ access.log å¯ä»¥çœ‹</h2>
<p>çº¿ä¸Šå‡ºé—®é¢˜çš„æ—¶å€™ï¼Œnginx å¾€å¾€æ˜¯ç¦»ç”¨æˆ·æœ€è¿‘ã€ç¦»åº”ç”¨æœ€è¿œçš„ä¸€å±‚ã€‚<br/>
å¦‚æœè¿™æ—¶å€™ï¼š</p>
<ul>
<li>åº”ç”¨æ—¥å¿—è¿˜æ²¡å†™åˆ°ï¼›</li>
<li>APM æ²¡æœ‰è¦†ç›–åˆ°å…¥å£å±‚ï¼›</li>
<li>ç›‘æ§å›¾ä¸Šåªçœ‹åˆ°ä¸€æ¡å¹³èººçš„ 5xx æ›²çº¿ï¼›</li>
</ul>
<p>ä½ æœ€åèƒ½æŠ“å¾—ä½çš„ï¼Œå¯èƒ½å°±åªæœ‰ <strong>nginx çš„è®¿é—®æ—¥å¿—å’Œé‚£ä¸€å † <code>$</code> å¼€å¤´çš„å†…ç½®å˜é‡</strong>ã€‚</p>
<p>å¾ˆå¤šäººçŸ¥é“ <code>$remote_addr</code>ã€<code>$request_uri</code> è¿™äº›å˜é‡çš„å­˜åœ¨ï¼Œ<br/>
ä½†å¾ˆå°‘ç³»ç»Ÿæ€§åœ°ç”¨å®ƒä»¬æ¥ï¼š</p>
<ul>
<li>å¿«é€Ÿå®šä½ã€Œæ˜¯è°ã€å‘èµ·çš„è¯·æ±‚ï¼›</li>
<li>çœ‹æ¸…æ¥šã€Œè¯·æ±‚åˆ°åº•é•¿ä»€ä¹ˆæ ·ã€ï¼›</li>
<li>åœ¨æ—¥å¿—é‡Œè¿˜åŸã€Œè¯·æ±‚åœ¨å„ç§åä»£ / è·³è½¬ä¸­ç»å†äº†ä»€ä¹ˆã€ã€‚</li>
</ul>
<p>è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬ä¸å†è®²æ›´å¤šé…ç½®æŠ€å·§ï¼Œè€Œæ˜¯èšç„¦ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>nginx çš„æ ¸å¿ƒå†…ç½®å˜é‡åˆ°åº•æœ‰å“ªäº›å€¼å¾—è®°ï¼›</li>
<li>å¦‚ä½•ç”¨è¿™äº›å˜é‡æŠŠã€Œè¯·æ±‚ä¸Šä¸‹æ–‡ã€å†™è¿›æ—¥å¿—ï¼›</li>
<li>åœ¨çœŸå®æ’éšœåœºæ™¯é‡Œï¼Œå¦‚ä½•é è¿™äº›å˜é‡å¿«é€Ÿåˆ¤æ–­é—®é¢˜å‡ºåœ¨å…¥å£ã€ç½‘å…³è¿˜æ˜¯åº”ç”¨ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€nginx å†…ç½®å˜é‡ï¼šæŠŠã€Œè¯·æ±‚å…ƒä¿¡æ¯ã€å˜æˆå¯ç”¨æ•°æ®</h2>
<p>nginx å†…ç½®äº†å¤§é‡ <code>$</code> å¼€å¤´çš„å˜é‡ï¼Œå¤§å¤šæ˜¯ä» HTTP å¤´ã€è¿æ¥ä¿¡æ¯æˆ–å†…éƒ¨çŠ¶æ€é‡ŒæŠ½å‡ºæ¥çš„ã€‚<br/>
ä½ å¯ä»¥ç®€å•ç†è§£æˆï¼š<strong>ã€Œä¸€ä¸ªè¯·æ±‚ä»å¤–é¢åˆ°é‡Œé¢ï¼Œæ²¿é€”æ‰€æœ‰å…³é”®èŠ‚ç‚¹çš„å¿«ç…§ã€ã€‚</strong></p>
<h3 data-id="heading-2">1. å®æˆ˜ä¸­æœ€å¸¸ç”¨ã€å€¼å¾—èƒŒä¸‹æ¥çš„é‚£ä¸€æ‰¹</h3>
<p>ä»¥ä¸‹è¿™äº›åŸºæœ¬å±äºã€Œæ—¥å¸¸è°ƒè¯•å¿…å¤‡ã€çº§åˆ«ï¼ˆå‡å·²åœ¨å®è·µä¸­éªŒè¯ï¼‰ï¼š</p>
<ul>
<li><code>$remote_addr</code>ï¼šå®¢æˆ·ç«¯ IP åœ°å€ï¼›</li>
<li><code>$remote_port</code>ï¼šå®¢æˆ·ç«¯æºç«¯å£ï¼›</li>
<li><code>$http_host</code>ï¼šè¯·æ±‚å¤´é‡Œçš„ Hostï¼ˆç­‰ä»·äº <code>request.getHeader('Host')</code>ï¼‰ï¼›</li>
<li><code>$http_origin</code>ï¼š<code>Origin</code> è¯·æ±‚å¤´ï¼Œè·¨åŸŸã€å‰ç«¯æ¥æºæ’æŸ¥æ—¶éå¸¸æœ‰ç”¨ï¼›</li>
<li><code>$http_referer</code>ï¼š<code>Referer</code> è¯·æ±‚å¤´ï¼Œå¯ä»¥çœ‹è¯·æ±‚ä»å“ªä¸ªé¡µé¢å‘å‡ºï¼›</li>
<li><code>$request_uri</code>ï¼šåŸå§‹è¯·æ±‚ URIï¼ŒåŒ…å« queryï¼Œä½†ä¸å«ä¸»æœºåï¼Œä¾‹å¦‚ <code>/foo/bar?a=1&amp;b=2</code>ï¼›</li>
<li><code>$uri</code> / <code>$document_uri</code>ï¼šå½“å‰å†…éƒ¨å¤„ç†ç”¨çš„ URIï¼Œä¸å« queryï¼›</li>
<li><code>$args</code> / <code>$query_string</code>ï¼šURL æŸ¥è¯¢å‚æ•°ï¼›</li>
<li><code>$server_name</code>ï¼šå‘½ä¸­çš„ <code>server_name</code>ï¼›</li>
<li><code>$server_addr</code> / <code>$server_port</code>ï¼šå½“å‰å¤„ç†è¯·æ±‚çš„ nginx åœ°å€å’Œç«¯å£ï¼›</li>
<li><code>$scheme</code>ï¼š<code>http</code> æˆ– <code>https</code>ã€‚</li>
</ul>
<p>å‡ ä¸ªå®¹æ˜“æ··æ·†çš„ç‚¹ï¼š</p>
<ul>
<li>
<p><strong><code>$request_uri</code> vs <code>$uri</code>ï¼š</strong></p>
<ul>
<li><code>$request_uri</code> = ç”¨æˆ·åŸæ ·è¯·æ±‚è·¯å¾„ + æŸ¥è¯¢å‚æ•°ï¼ˆé™¤éè¢« <code>rewrite ... redirect/permanent</code> æ”¹å†™ï¼‰ï¼›</li>
<li><code>$uri</code> / <code>$document_uri</code> = å½“å‰è¯·æ±‚åœ¨ nginx å†…éƒ¨çš„ URIï¼Œå¯èƒ½è¢«å†…éƒ¨ <code>rewrite</code> æ”¹è¿‡ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>$http_origin</code> vs <code>$http_referer</code>ï¼š</strong></p>
<ul>
<li><code>$http_origin</code>ï¼šè°ƒç”¨æ–¹çš„<strong>åŸŸå</strong>ï¼ˆå¦‚ <code>https://www.example.com</code>ï¼‰ï¼Œæ›´é€‚åˆåš CORS åˆ¤æ–­ï¼›</li>
<li><code>$http_referer</code>ï¼šä¸å« hash çš„å®Œæ•´ URLï¼ˆå¦‚ <code>https://www.example.com/page?a=1</code>ï¼‰ï¼Œé€‚åˆåšè¡Œä¸ºåˆ†æã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>ä¸€ä¸ªç®€å•çš„ç»éªŒæ˜¯ï¼šå¦‚æœä½ åœ¨æŸä¸ªå˜é‡åå‰åŠ ä¸Š <code>$http_</code>ï¼Œ<br/>
å¤§æ¦‚ç‡å°±æ˜¯åœ¨æ‹¿å¯¹åº”çš„è¯·æ±‚å¤´ï¼Œæ¯”å¦‚ <code>$http_user_agent</code>ã€<code>$http_cookie</code> ç­‰ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2. æ¥è‡ªç½‘ç»œä½†ä¹Ÿå€¼å¾—é¡ºæ‰‹ä¸€è®°çš„ä¸€æ‰¹</h3>
<p>ä»¥ä¸‹æ˜¯å¸¸è§æ–‡æ¡£é‡Œæåˆ°ã€ä½†å®¹æ˜“è¢«å¿½ç•¥çš„ä¸€äº›å˜é‡ï¼ˆä¸ä¸€ä¸€å®šè¦èƒŒï¼ŒçŸ¥é“æœ‰å°±è¡Œï¼‰ï¼š</p>
<ul>
<li><code>$content_length</code>ï¼šè¯·æ±‚å¤´ä¸­çš„ <code>Content-Length</code>ï¼›</li>
<li><code>$content_type</code>ï¼šè¯·æ±‚å¤´ä¸­çš„ <code>Content-Type</code>ï¼›</li>
<li><code>$http_user_agent</code>ï¼šUser-Agentï¼›</li>
<li><code>$http_cookie</code>ï¼šCookieï¼›</li>
<li><code>$limit_rate</code>ï¼šå¯ä»¥ç”¨æ¥é™åˆ¶æŸä¸ªè¿æ¥çš„ä¼ è¾“é€Ÿç‡ï¼›</li>
<li><code>$request_method</code>ï¼šè¯·æ±‚æ–¹æ³•ï¼ˆGET / POST / PUT / DELETE ...ï¼‰ï¼›</li>
<li><code>$request_filename</code>ï¼šç”± <code>root/alias</code> + URI æ‹¼å‡ºæ¥çš„å®é™…æ–‡ä»¶è·¯å¾„ï¼›</li>
<li><code>$server_protocol</code>ï¼š<code>HTTP/1.0</code> æˆ– <code>HTTP/1.1</code> ç­‰ã€‚</li>
</ul>
<p>è¿™äº›å˜é‡çš„ä»·å€¼ï¼Œåœ¨äºä½ å¯ä»¥<strong>æŒ‰éœ€æ‹‰å–å®ƒä»¬ï¼Œæ‹¼æˆä¸€æ¡è¶³å¤Ÿä¿¡æ¯å¯†åº¦çš„æ—¥å¿—</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€è®© access.log çœŸæ­£ã€Œè¯´äººè¯ã€ï¼šå®šåˆ¶æ—¥å¿—æ ¼å¼</h2>
<p>é»˜è®¤çš„ access.log æ ¼å¼é€šå¸¸é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format main '$remote_addr - $remote_user [$time_local] "$request" '
                '$status $body_bytes_sent "$http_referer" '
                '"$http_user_agent" "$http_x_forwarded_for"';

access_log logs/access.log main;
</code></pre>
<p>å¯¹æ’éšœæ¥è¯´ï¼Œå¾ˆå¤šæ—¶å€™ä½ éœ€è¦çš„æ˜¯ï¼š</p>
<ul>
<li>è°ƒç”¨æ¥æºï¼ˆ<code>Origin / Referer</code>ï¼‰ï¼›</li>
<li>è¯·æ±‚æœ€ç»ˆå‘½ä¸­çš„ URIï¼›</li>
<li>è¢«è½¬å‘åˆ°å“ªå°åç«¯ï¼›</li>
<li>æŸäº›ä¸šåŠ¡ Headerï¼ˆå¦‚ traceIdã€userIdï¼‰ã€‚</li>
</ul>
<p>ä½ å®Œå…¨å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ›´ã€Œå·¥ç¨‹åŒ–ã€çš„æ—¥å¿—æ ¼å¼ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format  traceable_main
    '$remote_addr:$remote_port '
    '[$time_local] '
    '"$request" '
    'status=$status '
    'bytes=$body_bytes_sent '
    'host="$host" '
    'origin="$http_origin" '
    'referer="$http_referer" '
    'ua="$http_user_agent" '
    'req_uri="$request_uri" '
    'uri="$uri" '
    'upstream_addr="$upstream_addr" '
    'trace_id="$http_x_trace_id"';

access_log  logs/access.log traceable_main;
</code></pre>
<p>è¿™æ ·ä¸€æ¡æ—¥å¿—å°±èƒ½å›ç­”å¾ˆå¤šé—®é¢˜ï¼š</p>
<ul>
<li>ç”¨æˆ·æ¥è‡ªå“ªä¸ª IPã€å“ªä¸ª Originï¼›</li>
<li>å®é™…å‘½ä¸­äº†å“ªä¸ª <code>uri</code>ï¼ˆè¢« rewrite è¿‡æ²¡æœ‰ï¼‰ï¼›</li>
<li>è¯·æ±‚è¢«æ‰“åˆ°äº†å“ªä¸ªåç«¯å®ä¾‹ï¼ˆ<code>$upstream_addr</code>ï¼‰ï¼›</li>
<li>traceId æ˜¯ä»€ä¹ˆï¼Œæ–¹ä¾¿è·Ÿåº”ç”¨æ—¥å¿—ä¸²èµ·æ¥ã€‚</li>
</ul>
<blockquote>
<p>å’Œå…¶åœ¨ç›‘æ§å¹³å°ä¸Šä¸€è„¸æ‡µé€¼ï¼Œä¸å¦‚å¤šç»™ access.log åŠ å‡ ä¸ªå˜é‡ï¼Œ<br/>
è®©æ¯ä¸€æ¡æ—¥å¿—éƒ½å˜æˆã€Œå¸¦ä¸Šä¸‹æ–‡çš„è¯è¨€ã€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€æ’éšœå®æˆ˜ï¼šå˜é‡ + æ—¥å¿—ï¼Œå¿«é€Ÿç¼©å°é—®é¢˜èŒƒå›´</h2>
<p>è¯´å‡ ä¸ªéå¸¸æ—¥å¸¸çš„æ’éšœé—®é¢˜ï¼Œçœ‹çœ‹å˜é‡å¦‚ä½•å¸®ä½ ã€Œå®šç‚¹æ‰“å‡»ã€ã€‚</p>
<h3 data-id="heading-6">åœºæ™¯ä¸€ï¼šç”¨æˆ·è¯´ã€Œå¶å‘ 502ã€ï¼Œä½†åç«¯å‹æ ¹æ²¡çœ‹åˆ°è¯·æ±‚</h3>
<p>ç°è±¡ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯æ—¥å¿—çœ‹åˆ° 502ï¼›</li>
<li>åç«¯åº”ç”¨å’Œç½‘å…³æ²¡æœ‰å¯¹åº” traceï¼›</li>
<li>åªæœ‰ nginx å±‚æœ‰ 502ã€‚</li>
</ul>
<p>å¯ä»¥åœ¨ access.log é‡Œé‡ç‚¹çœ‹ï¼š</p>
<ul>
<li><code>$upstream_addr</code>ï¼šæœ‰æ²¡æœ‰çœŸæ­£è½¬å‘åˆ°åç«¯ï¼Ÿ</li>
<li><code>$upstream_status</code>ï¼šåç«¯è¿”å›çš„çŠ¶æ€ç ï¼ˆå¦‚æœæœ‰ï¼‰ï¼›</li>
<li><code>$request_time</code> / <code>$upstream_response_time</code>ï¼šè¯·æ±‚åœ¨å“ªä¸€æ®µè€—æ—¶ã€‚</li>
</ul>
<p>ç¤ºä¾‹æ—¥å¿—æ ¼å¼è°ƒæ•´ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format with_upstream
    '$remote_addr - [$time_local] '
    '"$request" status=$status '
    'req_time=$request_time '
    'upstream="$upstream_addr" '
    'upstream_status="$upstream_status" '
    'upstream_time="$upstream_response_time"';
</code></pre>
<p>å¦‚æœä½ çœ‹åˆ°ï¼š</p>
<ul>
<li><code>status=502</code>ï¼›</li>
<li><code>upstream=""</code>ï¼ˆç©ºï¼‰ï¼›</li>
<li>æˆ–è€… <code>upstream</code> æŒ‡å‘æŸäº›ç‰¹å®š IP/ç«¯å£ï¼Œ<code>upstream_status</code> æ˜¯ 502/504ï¼›</li>
</ul>
<p>å°±å¯ä»¥å¾ˆå¿«åˆ¤æ–­ï¼š</p>
<ul>
<li>è¦ä¹ˆæ˜¯ upstream é…ç½®ä¸å¯¹ / æœåŠ¡ä¸é€šï¼›</li>
<li>è¦ä¹ˆæ˜¯æŸä¸ªåç«¯å®ä¾‹æŒ‚äº†ã€‚</li>
</ul>
<h3 data-id="heading-7">åœºæ™¯äºŒï¼šè·¨åŸŸé—®é¢˜ï¼Œå‰ç«¯è¯´ã€Œæˆ‘æ²¡è·¨åŸŸã€ï¼Œåç«¯è¯´ã€Œæˆ‘æ²¡çœ‹åˆ°è¯·æ±‚ã€</h3>
<p>è¿™æ—¶å€™ <code>$http_origin</code> å’Œ <code>$http_referer</code> å°±å¾ˆæœ‰ç”¨ã€‚</p>
<p>ä½ å¯ä»¥è¿™æ ·å…ˆåŠ ä¸€æ¡ä¸´æ—¶æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format cors_debug
    '$remote_addr [$time_local] '
    'method=$request_method '
    'host="$host" '
    'origin="$http_origin" '
    'referer="$http_referer" '
    'uri="$request_uri" '
    'status=$status';

access_log logs/cors_debug.log cors_debug;
</code></pre>
<p>ç„¶åä¸“é—¨æŠ“ä¸€æ®µæ—¶é—´è®¿é—®ï¼š</p>
<ul>
<li>çœ‹çœ‹ <code>$http_origin</code> åˆ°åº•æ˜¯ä»€ä¹ˆï¼ˆå¾ˆå¤šæ—¶å€™æ˜¯å†™é”™äº† schema / å­åŸŸåï¼‰ï¼›</li>
<li>OPTIONS è¯·æ±‚åˆ°åº•æœ‰æ²¡æœ‰æ‰“åˆ°è¿™å° nginx / è¿™ä¸ª <code>location</code> ä¸Šï¼›</li>
<li>æ˜¯ nginx ç›´æ¥å›äº† 4xxï¼Œè¿˜æ˜¯ upstream æ‹’ç»çš„ã€‚</li>
</ul>
<h3 data-id="heading-8">åœºæ™¯ä¸‰ï¼šæ€€ç–‘æŸä¸ªç”¨æˆ·è„šæœ¬ / çˆ¬è™«æŠŠä½ æ‰“æŒ‚äº†</h3>
<p>è¿™æ—¶å€™ç»„åˆçš„å˜é‡å¯èƒ½æ˜¯ï¼š</p>
<ul>
<li><code>$remote_addr</code> + <code>$remote_port</code>ï¼›</li>
<li><code>$http_user_agent</code>ï¼›</li>
<li><code>$http_referer</code>ï¼›</li>
<li><code>$request_uri</code>ã€‚</li>
</ul>
<p>ä½ å¯ä»¥ï¼š</p>
<ul>
<li>å…ˆç”¨ <code>grep</code> æŠŠæŸä¸ªå¯ç–‘ IP æˆ– UA çš„è®¿é—®æ‹‰å‡ºæ¥ï¼›</li>
<li>è§‚å¯Ÿå®ƒçš„è¡Œä¸ºæ¨¡å¼ï¼ˆURIã€é¢‘ç‡ã€æ˜¯å¦éå†æ‰€æœ‰è·¯å¾„ï¼‰ï¼›</li>
<li>å†è€ƒè™‘åœ¨ nginx ä¸Šåšé™æµæˆ–å°ç¦ã€‚</li>
</ul>
<blockquote>
<p>è¿™é‡Œçš„å…³é”®å§‹ç»ˆæ˜¯ï¼š<strong>åœ¨è¯·æ±‚åˆšåˆšè¿›å…¥ç³»ç»Ÿçš„æ—¶å€™ï¼Œå°±æ•è·è¶³å¤Ÿå¤šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-9">å››ã€ç”¨å˜é‡åšä¸€ç‚¹ã€Œè½»é‡é€»è¾‘ã€ï¼šæŒ‰æ¥æºåšå·®å¼‚åŒ–å¤„ç†</h2>
<p>è™½ç„¶ä¸æ¨èåœ¨ nginx é‡Œå†™å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œä½†<strong>åŸºäºå˜é‡åšä¸€ç‚¹è½»é‡åˆ†æµ</strong>è¿˜æ˜¯å¾ˆå¸¸è§çš„ã€‚</p>
<h3 data-id="heading-10">1. æŒ‰åŸŸå / Origin åšç®€å•ç™½åå•</h3>
<p>ä¾‹å¦‚åªå…è®¸æŸäº›åŸŸçš„å‰ç«¯è°ƒç”¨æŸä¸ªæ¥å£ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">location /api/internal {
    if ($http_origin !~* ^https?://(www\.trusted\.com|admin\.trusted\.com)$) {
        return 403;
    }

    proxy_pass http://127.0.0.1:9000;
}
</code></pre>
<p>è¿™é‡Œçš„å…³é”®å°±æ˜¯ <code>$http_origin</code> å’Œæ­£åˆ™çš„ä¸€èµ·ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-11">2. æŒ‰ UA åšç®€å•ç°åº¦ / é™çº§</h3>
<p>åœ¨çœŸÂ·ç´§æ€¥æƒ…å†µï¼ˆèƒŒé”…ç°åœºï¼‰ä¸‹ï¼Œä¹Ÿæœ‰äººä¼šç”¨ nginx åšä¸€ç‚¹ UA çº§åˆ«çš„é™çº§ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">location /feature-heavy {
    if ($http_user_agent ~* 'MSIE|Trident') {
        # è€æµè§ˆå™¨ç›´æ¥ç»™é™çº§é¡µ
        return 200 'æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œå»ºè®®ä½¿ç”¨ç°ä»£æµè§ˆå™¨è®¿é—®æœ¬åŠŸèƒ½';
    }

    proxy_pass http://127.0.0.1:9001;
}
</code></pre>
<p>è¿™ç±»é€»è¾‘ä¸å»ºè®®é•¿æœŸå­˜åœ¨ï¼Œä½†åœ¨ã€Œä¸€å°æ—¶å†…å¿…é¡»æ­¢è¡€ã€çš„åœºæ™¯ä¸‹ï¼Œå˜é‡ + ç®€å•åˆ¤æ–­ä¼šéå¸¸å¥½ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-12">äº”ã€ä»å˜é‡åˆ°å¯è§‚æµ‹æ€§ï¼šè®© nginx ä¸å†æ˜¯ã€Œé»‘ç›’ã€</h2>
<p>å¦‚æœæŠŠä¸‰ç¯‡ã€Œnginx é…ç½®é•¿è·‘ã€æ”¾åœ¨ä¸€èµ·çœ‹ï¼Œä¼šå‘ç°ä¸€ä¸ªæ¼”è¿›è·¯å¾„ï¼š</p>
<ul>
<li>ä¸Šç¯‡æ˜¯ã€Œè·¯ç”±è§„åˆ™ã€ï¼šè¯·æ±‚åˆ°åº•ä¼šå‘½ä¸­å“ªæ¡ <code>location</code>ï¼›</li>
<li>ä¸­ç¯‡æ˜¯ã€Œæµé‡å…¥å£ã€ï¼šåŸŸåã€TLSã€è½¬å‘ã€è·¨åŸŸã€æ³›åŸŸåè¿™äº›å…¥å£å±‚èŒè´£ï¼›</li>
<li>ä¸‹ç¯‡å°±æ˜¯ã€Œå¯è§‚æµ‹æ€§ã€ï¼šæ€ä¹ˆçŸ¥é“è¿™ä¸€å±‚<strong>åˆ°åº•å¹²äº†ä»€ä¹ˆ</strong>ã€‚</li>
</ul>
<p>å†…ç½®å˜é‡æ˜¯ nginx ç»™ä½ çš„ã€Œè§‚å¯Ÿçª—å£ã€ï¼š</p>
<ul>
<li>ä½ å¯ä»¥ç”¨å®ƒä»¬å®šåˆ¶ access.logï¼Œè®©æ¯æ¡æ—¥å¿—éƒ½å¸¦ä¸Šå…³é”®ä¸Šä¸‹æ–‡ï¼›</li>
<li>å¯ä»¥åœ¨å…³é”®è·¯å¾„ä¸Šè¾“å‡ºå¿…è¦çš„ debug ä¿¡æ¯ï¼Œå¿«é€Ÿç¼©å°é—®é¢˜èŒƒå›´ï¼›</li>
<li>å¯ä»¥ç”¨ç®€å•çš„æ¡ä»¶åˆ¤æ–­ï¼Œå¯¹ä¸åŒæ¥æºã€ä¸åŒ UA åšè½»é‡çš„è·¯ç”±å·®å¼‚åŒ–ã€‚</li>
</ul>
<blockquote>
<p>çœŸæ­£æˆç†Ÿçš„ nginx ä½¿ç”¨æ–¹å¼ï¼Œä¸æ˜¯ã€ŒèƒŒä¸€å †æŒ‡ä»¤ã€ï¼Œ<br/>
è€Œæ˜¯è®©å®ƒå˜æˆï¼š<br/>
<strong>æ—¢èƒ½ç¨³ç¨³æ‰›ä½æµé‡ï¼Œåˆèƒ½åœ¨å‡ºé—®é¢˜æ—¶ï¼Œç»™ä½ è¶³å¤Ÿå¤šçš„çº¿ç´¢ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-13">å°¾å£°ï¼šä»ä¼šé… nginxï¼Œåˆ°æ•¢æŠŠ nginx å½“ã€Œå·¥ç¨‹è®¾æ–½ã€</h2>
<p>å›é¡¾è¿™ä¸‰ç¯‡ï¼š</p>
<ul>
<li>ä½ åº”è¯¥å·²ç»èƒ½æ¯”è¾ƒè‡ªä¿¡åœ°å›ç­”ï¼šæŸä¸ªè·¯å¾„æœ€ç»ˆä¼šå‘½ä¸­å“ªæ¡ <code>location</code>ï¼Œä¼šä¸ä¼šè¢«æ­£åˆ™æˆªèƒ¡ï¼›</li>
<li>ä½ å¤§æ¦‚ä¹Ÿèƒ½è®¾è®¡ä¸€å¥—æ¯”è¾ƒå¹²å‡€çš„å…¥å£å±‚ï¼šåŸŸåå½’ä¸€ã€HTTPSã€åå‘ä»£ç†ã€CORSã€æ³›åŸŸåï¼›</li>
<li>æœ€åï¼Œä½ æœ‰èƒ½åŠ›ä¸º nginx åŠ ä¸Šä¸€å±‚å¯è§‚æµ‹æ€§ï¼šå˜é‡ã€æ—¥å¿—ã€ç®€å•çš„è°ƒè¯•é€»è¾‘ã€‚</li>
</ul>
<blockquote>
<p>ä¼šå†™ nginx é…ç½®ï¼Œåªæ˜¯æŠŠç³»ç»Ÿã€Œæ­èµ·æ¥ã€ï¼›<br/>
æ•¢æŠŠ nginx å½“æˆå·¥ç¨‹è®¾æ–½æ¥è®¾è®¡ï¼Œæ‰ç®—æ˜¯çœŸæ­£æŠŠå®ƒã€Œç”¨èµ·æ¥ã€ã€‚</p>
<p>å½“ä½ ä¸‹æ¬¡çœ‹åˆ°ä¸€è¡Œ <code>$http_origin</code> æˆ– <code>$request_uri</code> æ—¶ï¼Œ<br/>
ä¹Ÿè®¸ä¼šæ„è¯†åˆ°ï¼š<br/>
å®ƒä¸æ˜¯ä¸€ä¸ªéšæ‰‹æŠ„æ¥çš„å˜é‡ï¼Œè€Œæ˜¯<strong>ä½ å’Œå¤æ‚ç³»ç»Ÿå¯¹è¯çš„ä¸€åªæ¢é’ˆ</strong>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaSE è¿›é˜¶ï¼šIO æµæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆå­—èŠ‚æµ vs å­—ç¬¦æµ + ç¼“å†²æµä¼˜åŒ– + å®æˆ˜æ¡ˆä¾‹ï¼‰]]></title>    <link>https://juejin.cn/post/7580183671531356198</link>    <guid>https://juejin.cn/post/7580183671531356198</guid>    <pubDate>2025-12-05T13:17:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531356198" data-draft-id="7580180556982911026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaSE è¿›é˜¶ï¼šIO æµæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆå­—èŠ‚æµ vs å­—ç¬¦æµ + ç¼“å†²æµä¼˜åŒ– + å®æˆ˜æ¡ˆä¾‹ï¼‰"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-05T13:17:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æ ¹æ ¹"/> <meta itemprop="url" content="https://juejin.cn/user/555679166786139"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaSE è¿›é˜¶ï¼šIO æµæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆå­—èŠ‚æµ vs å­—ç¬¦æµ + ç¼“å†²æµä¼˜åŒ– + å®æˆ˜æ¡ˆä¾‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/555679166786139/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æ ¹æ ¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T13:17:38.000Z" title="Fri Dec 05 2025 13:17:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2><h2 data-id="heading-1"/>
<p>è¿›å…¥javaIOæµã€‚åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å˜é‡ï¼Œæ•°ç»„æˆ–è€…é›†åˆç­‰ç­‰éƒ½æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚éšç€ç¨‹åºçš„ç»“æŸæˆ–è€…æ–­ç”µï¼Œæ•°æ®å°±æ²¡æœ‰äº†ï¼</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•æ°¸ä¹…çš„å­˜å‚¨å‘¢ï¼Ÿé‡‡ç”¨ç£ç›˜æ–‡ä»¶å­˜å‚¨ã€‚æ–‡ä»¶åœ¨ç”µè„‘ç£ç›˜ä¸­ä¿å­˜ï¼Œå³ä¾¿æ–­ç”µï¼Œæˆ–è€…ç¨‹åºç»ˆæ­¢ï¼Œæ–‡ä»¶ä¸­çš„æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚æ‰€ä»¥æˆ‘ä»¬å¼•å…¥IOæµå°†ä¸€äº›è¦ä¿å­˜çš„æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ã€‚</p>
<h2 data-id="heading-2">è®¤è¯†IOæµ</h2>
<p>IOæµä¸»è¦ç”¨äºè¿æ¥ç¨‹åºå’Œç£ç›˜æ–‡ä»¶ï¼Œä¼ è¾“ä»¥å­—èŠ‚/å­—ç¬¦ä¸ºå•ä½çš„æ•°æ®</p>
<h3 data-id="heading-3">IOæµçš„åˆ†ç±»</h3>
<p>ç”±æ­¤å¯ä»¥å…ˆå°†IOæµæŒ‰è¾“å…¥æ•°æ®çš„å•ä½åˆ†ä¸ºå­—èŠ‚æµå’Œå­—ç¬¦æµ</p>
<p>å†æŒ‰ç…§è¾“å…¥è¾“å‡ºåˆ†å…ˆä¸ºå››ç±»ã€‚åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>å­—èŠ‚è¾“å…¥æµ InputStreamï¼ˆè¯»å­—èŠ‚æ•°æ®çš„ï¼‰</li>
<li>å­—èŠ‚è¾“å‡ºæµ OutputStreamï¼ˆå†™å­—èŠ‚æ•°æ®å‡ºå»çš„ï¼‰</li>
<li>å­—ç¬¦è¾“å…¥æµ Readerï¼ˆè¯»å­—ç¬¦æ•°æ®çš„ï¼‰</li>
<li>å­—ç¬¦è¾“å‡ºæµ Writerï¼ˆå†™å­—ç¬¦æ•°æ®å‡ºå»çš„ï¼‰</li>
</ul>
<p>è€Œåä¸ºäº†å¢å¼ºå­—ç¬¦è¾“å…¥è¾“å‡ºæµçš„æ•ˆç‡ï¼Œå¼•å…¥äº†</p>
<ul>
<li>ç¼“å†²å­—èŠ‚è¾“å…¥æµ BufferedInputstream</li>
<li>ç¼“å†²å­—èŠ‚è¾“å‡ºæµ BufferedOutputstream</li>
<li>ç¼“å†²å­—ç¬¦è¾“å…¥æµBufferedReader</li>
<li>ç¼“å†²å­—ç¬¦è¾“å‡ºæµBufferedWriter</li>
</ul>
<h2 data-id="heading-4">å­—èŠ‚æµ</h2>
<p>å¤šç”¨äºè¯»å†™è€Œä¸æ“ä½œæ•°æ®çš„åœ°æ–¹</p>
<h3 data-id="heading-5">å­—èŠ‚è¾“å…¥æµ InputStream</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼Œå¯ä»¥æŠŠç£ç›˜æ–‡ä»¶ä¸­çš„æ•°æ®ä»¥å­—èŠ‚çš„å½¢å¼è¯»å…¥åˆ°å†…å­˜ä¸­å»ã€‚</p>
<p>åŸºæœ¬æ–¹æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a14a7af4d0424b628ca04cce1e839e0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=G%2Fhch0OrsjZnMg8I8rcMbdkPjuo%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>ä½¿ç”¨FileInputStreamæ¯æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œè¯»å–æ€§èƒ½è¾ƒå·®ï¼Œå¹¶ä¸”è¯»å–æ±‰å­—è¾“å‡ºä¼šä¹±ç ã€‚</li>
<li>ä½¿ç”¨FileInputStreamæ¯æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚ï¼Œè¯»å–æ€§èƒ½å¾—åˆ°äº†æå‡ï¼Œä½†è¯»å–æ±‰å­—è¾“å‡ºè¿˜æ˜¯ä¼šä¹±ç ã€‚</li>
<li>è¯»å–æ–‡æœ¬é€‚åˆç”¨å­—ç¬¦æµï¼›å­—èŠ‚æµé€‚åˆåšæ•°æ®çš„è½¬ç§»ï¼Œæ¯”å¦‚ï¼šæ–‡ä»¶å¤åˆ¶</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨å­—èŠ‚è¾“å…¥æµè¯»å–æ–‡ä»¶çš„æ•°æ®</span>
<span class="hljs-comment">//1.åˆ›å»ºå­—èŠ‚è¾“å…¥æµå¯¹è±¡</span>
<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">input</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day03-StreamIO/a.txt"</span>);

<span class="hljs-comment">//2.è¯»å–å­—èŠ‚æ•°æ®</span>
<span class="hljs-comment">//2.1 ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚è¯»å–</span>
<span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> input.read();
System.out.println((<span class="hljs-type">char</span>) b);<span class="hljs-comment">//a</span>
b = input.read();
System.out.println((<span class="hljs-type">char</span>) b);<span class="hljs-comment">//b</span>
b = input.read();
System.out.println((<span class="hljs-type">char</span>) b);<span class="hljs-comment">//c</span>
<span class="hljs-comment">//b = input.read();</span>
<span class="hljs-comment">//System.out.println((char) b);//ä¹±ç </span>

<span class="hljs-comment">//2.2 è¯»å–ä¸€ä¸ªå­—èŠ‚æ•°ç»„</span>
<span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">3</span>];
input.read(bytes);
System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes));<span class="hljs-comment">//å°†å­—èŠ‚æ•°ç»„ bytes è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º</span>

<span class="hljs-comment">//3.å…³é—­æµ</span>
input.close();
<span class="hljs-comment">//æ³¨æ„ï¼šå­—èŠ‚æµä¸é€‚åˆè¯»å–æ–‡æœ¬å†…å®¹è¿›è¡Œè§£æå±•ç°ï¼Œå› ä¸ºå¦‚æœå­—èŠ‚æ–­å¼€ä¼šä¹±ç ã€‚</span>
</code></pre>
<p>è¯»å–æ–‡ä»¶ä¸º</p>
<pre><code class="hljs">abcç¼–ç¨‹
</code></pre>
<h3 data-id="heading-6">å­—èŠ‚è¾“å‡ºæµ OutputStream</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®ä»¥å­—èŠ‚çš„å½¢å¼å†™å‡ºåˆ°æ–‡ä»¶ä¸­å»ã€‚</p>
<p>åŸºæœ¬æ–¹æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5d3a85e98fa4c45b1c0dca38e768f0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=pfnK%2FmIpSuDSdSeBYcZq867%2BJ0E%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨å­—èŠ‚è¾“å‡ºæµè¾“å‡ºæ•°æ®åˆ°ç›®æ ‡æ–‡ä»¶ demo2.txt</span>
<span class="hljs-comment">//1.åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµå¯¹è±¡</span>
<span class="hljs-comment">//FileOutputStream output = new FileOutputStream("day03-StreamIO/b.txt");//è¦†ç›–æ–¹å¼</span>
<span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">output</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day03-StreamIO/b.txt"</span>,<span class="hljs-literal">true</span>);<span class="hljs-comment">//è¿½åŠ æ–¹å¼</span>

<span class="hljs-comment">//2.è¾“å‡ºæ•°æ®</span>
<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªå­—èŠ‚</span>
output.write(<span class="hljs-number">97</span>);<span class="hljs-comment">//a</span>

<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªæ¢è¡Œ</span>
output.write(<span class="hljs-string">"\n"</span>.getBytes());

<span class="hljs-comment">//è¾“å‡ºå­—èŠ‚æ•°ç»„å…¨éƒ¨æ•°æ®</span>
<span class="hljs-type">byte</span>[] bytes = <span class="hljs-string">"å”æ ¹æ³°"</span>.getBytes();
output.write(bytes);

<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªæ¢è¡Œ</span>
output.write(<span class="hljs-string">"\n"</span>.getBytes());

<span class="hljs-comment">//è¾“å‡ºå­—èŠ‚æ•°ç»„ä¸€éƒ¨åˆ†æ•°æ®</span>
output.write(bytes,<span class="hljs-number">3</span>,<span class="hljs-number">6</span>);<span class="hljs-comment">//bytes:è¦ä¼ å…¥çš„æ•°ç»„ï¼Œ3:å¼€å§‹ï¼Œ6:éœ€è¦ä¼ å…¥çš„é•¿åº¦       è¿™é‡Œçš„æ„æ€æ˜¯ä»ç´¢å¼•3å¼€å§‹å¾€åä¼ 6ä¸ªå­—èŠ‚</span>

<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªæ¢è¡Œ</span>
output.write(<span class="hljs-string">"\n"</span>.getBytes());

<span class="hljs-comment">//3.å…³é—­èµ„æº</span>
output.close();
</code></pre>
<h3 data-id="heading-7">èµ„æºé‡Šæ”¾æ–¹æ¡ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23fd1a0450944e629fa21e0fde4f40e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=kVg95hTyYGFrUzoOFlZZ%2Fp7r5kk%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨finallyé‡Šæ”¾èµ„æºï¼ˆä¼ ç»Ÿåšæ³•ï¼‰</span>
<span class="hljs-comment">//è¯­æ³•ï¼štry{</span>
<span class="hljs-comment">//     }catch(Exception e){</span>
<span class="hljs-comment">//     }finally{</span>
<span class="hljs-comment">//           é‡Šæ”¾èµ„æº</span>
<span class="hljs-comment">//    }</span>
<span class="hljs-comment">//finallyçš„ä½œç”¨ï¼šæ— è®ºtryé‡Œé¢çš„ä»£ç æ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œfinallyé‡Œé¢çš„ä»£ç ï¼Œç¡®ä¿æœ‰æ•ˆèµ„æºå¯ä»¥é‡Šæ”¾</span>
<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
<span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">//1.åˆ›å»ºè¾“å…¥æµå¯¹è±¡è¯»å–1.png</span>
    in = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day03-StreamIO/1.png"</span>);

    <span class="hljs-comment">//2.åˆ›å»ºè¾“å‡ºæµå¯¹è±¡è¾“å‡ºåˆ°2.png</span>
    out = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day03-StreamIO/2.png"</span>);

    <span class="hljs-comment">//3.è¯»å–æ•°æ®å¹¶è¾“å‡º</span>
    <span class="hljs-comment">//3.1 åˆ›å»º1kbå­—èŠ‚æ•°ç»„</span>
    <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];

    <span class="hljs-comment">//3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º</span>
    <span class="hljs-comment">// int length = in.read(bytes); ä»è¾“å…¥æµä¸­è¯»å–1024ä¸ªå­—èŠ‚ï¼Œå¦‚æœè¯»å–æˆåŠŸä¼šè¿”å›è¯»å–å­—èŠ‚çš„ä¸ªæ•°,</span>
    <span class="hljs-comment">//      è¿”å›-1ä»£è¡¨æ²¡æœ‰è¯»å–åˆ°ä»»ä½•æ•°æ®</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> ((length = in.read(bytes)) != -<span class="hljs-number">1</span>) {
        <span class="hljs-comment">// out.write(bytes);//å°†å­—èŠ‚æ•°ç»„æ‰€æœ‰æ•°æ®è¾“å‡ºï¼Œè¿™ä¸ªè¯»åˆ°æœ€åå¯èƒ½æœ‰é—ç•™ä¸Šä¸€æ¬¡è¯»å–çš„æ•°æ®ï¼Œä¹Ÿä¼šå†æ¬¡è¾“å‡º</span>
        out.write(bytes, <span class="hljs-number">0</span>, length);<span class="hljs-comment">//æ¨èæ–¹å¼ï¼Œè¯»å¤šå°‘è¾“å‡ºå¤šå°‘ï¼Œä¸ä¼šæœ‰é—ç•™æ•°æ®è¾“å‡º</span>
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (IOException e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
} <span class="hljs-keyword">finally</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//4.å…³é—­æµï¼Œæ¨èä»ä¸‹å¾€ä¸Šå…³é—­</span>
        <span class="hljs-keyword">if</span> (out != <span class="hljs-literal">null</span>)
            out.close();
        <span class="hljs-keyword">if</span> (out != <span class="hljs-literal">null</span>)
            in.close();
        System.out.println(<span class="hljs-string">"èµ„æºå…³é—­æˆåŠŸï¼"</span>);
    } <span class="hljs-keyword">catch</span> (IOException e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
    }
}
</code></pre>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨jdk8æä¾›æœ€æ–°é‡Šæ”¾èµ„æºæ–¹å¼</span>
<span class="hljs-comment">//è¯­æ³•ï¼štry(èµ„æº){</span>
<span class="hljs-comment">//         é€»è¾‘å¤„ç†</span>
<span class="hljs-comment">//     }catch(Exception ex){}</span>
<span class="hljs-comment">//     ä¸Šé¢è¿è¡Œåä¼šè‡ªåŠ¨è°ƒç”¨èµ„æºçš„closeæ–¹æ³•ï¼Œå‰æèµ„æºå®ç°AutoCloseableæ¥å£æ‰å¯ä»¥</span>
<span class="hljs-keyword">try</span> (<span class="hljs-comment">//1.åˆ›å»ºè¾“å…¥æµå¯¹è±¡è¯»å–1.png</span>
     <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day03-StreamIO/1.png"</span>);

     <span class="hljs-comment">//2.åˆ›å»ºè¾“å‡ºæµå¯¹è±¡è¾“å‡ºåˆ°2.png</span>
     <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day03-StreamIO/2.png"</span>);)
{
    <span class="hljs-comment">//3.è¯»å–æ•°æ®å¹¶è¾“å‡º</span>
    <span class="hljs-comment">//3.1 åˆ›å»º1kbå­—èŠ‚æ•°ç»„</span>
    <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];

    <span class="hljs-comment">//3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º</span>
    <span class="hljs-comment">// int length = in.read(bytes); ä»è¾“å…¥æµä¸­è¯»å–1024ä¸ªå­—èŠ‚ï¼Œå¦‚æœè¯»å–æˆåŠŸä¼šè¿”å›è¯»å–å­—èŠ‚çš„ä¸ªæ•°,</span>
    <span class="hljs-comment">//      è¿”å›-1ä»£è¡¨æ²¡æœ‰è¯»å–åˆ°ä»»ä½•æ•°æ®</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> ((length = in.read(bytes)) != -<span class="hljs-number">1</span>) {
        <span class="hljs-comment">// out.write(bytes);//å°†å­—èŠ‚æ•°ç»„æ‰€æœ‰æ•°æ®è¾“å‡ºï¼Œè¿™ä¸ªè¯»åˆ°æœ€åå¯èƒ½æœ‰é—ç•™ä¸Šä¸€æ¬¡è¯»å–çš„æ•°æ®ï¼Œä¹Ÿä¼šå†æ¬¡è¾“å‡º</span>
        out.write(bytes, <span class="hljs-number">0</span>, length);<span class="hljs-comment">//æ¨èæ–¹å¼ï¼Œè¯»å¤šå°‘è¾“å‡ºå¤šå°‘ï¼Œä¸ä¼šæœ‰é—ç•™æ•°æ®è¾“å‡º</span>
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (IOException e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h2 data-id="heading-8">å­—ç¬¦æµ</h2>
<p>å¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ“ä½œ</p>
<h3 data-id="heading-9">å­—ç¬¦è¾“å…¥æµ Reader</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼Œå¯ä»¥æŠŠæ–‡ä»¶ä¸­çš„æ•°æ®ä»¥å­—ç¬¦çš„å½¢å¼è¯»å…¥åˆ°å†…å­˜ä¸­å»ã€‚</p>
<p>åŸºæœ¬è¯­æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/379796edd7024a94b0e30f728e954981~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=HYlJzKdGH4LUinZxH4NgXYZD9W0%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b1edda94934437388ebd8d600dc0f33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=%2BXrjnMeIMv6BKLHVcH3oArmc6IE%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// ç›®æ ‡ï¼šæŒæ¡å­—ç¬¦è¾“å…¥æµçš„æ“ä½œ</span>
<span class="hljs-keyword">try</span> (
        <span class="hljs-comment">//1.åˆ›å»ºè¾“å…¥æµèµ„æº</span>
        <span class="hljs-type">FileReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"day04-IOThread/a.txt"</span>)
) {
    <span class="hljs-comment">//2.è¯»å–ä¸€ä¸ªå­—ç¬¦</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//a</span>
    c = reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//b</span>
    c = reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//c</span>
    c = reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//å”</span>

    <span class="hljs-comment">//3.è¯»å–ä¸€ä¸ªå­—ç¬¦æ•°ç»„</span>
    <span class="hljs-type">char</span>[] chars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">1024</span>];
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> reader.read(chars);
    System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chars,<span class="hljs-number">0</span>,length));
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h3 data-id="heading-10">å­—ç¬¦è¾“å‡ºæµ Writer</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®ä»¥å­—ç¬¦çš„å½¢å¼å†™å‡ºåˆ°æ–‡ä»¶ä¸­å»ã€‚</p>
<p>åŸºæœ¬æ–¹æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8b7268734524d739fc6ea40734c96f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=iXzipUVjd5tqJvupZWz%2BeIzE9mc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38ea8a2c18614a26bc0da687a04ba75d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=PdOFsbANmV5WU1IcK75ZPOXmHxo%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9b30ee0d6fd4a16b6163031512128a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=r5xt2qdupLVzMg%2F70Hy20cIuzis%3D" alt="image.png" loading="lazy"/></p>
<p>å­—ç¬¦è¾“å‡ºæµå†™å‡ºæ•°æ®åï¼Œå¿…é¡»åˆ·æ–°æµï¼Œæˆ–è€…å…³é—­æµï¼Œå†™å‡ºå»çš„æ•°æ®æ‰èƒ½ç”Ÿæ•ˆ</p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šæŒæ¡å­—ç¬¦è¾“å‡ºæµçš„æ“ä½œ</span>

<span class="hljs-keyword">try</span> (
    <span class="hljs-comment">//1.åˆ›å»ºå­—ç¬¦ä¸²è¾“å‡ºæµå¯¹è±¡</span>
    <span class="hljs-type">FileWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"day04-IOThread/a.txt"</span>)
){
    <span class="hljs-comment">//2.å†™ä¸€ä¸ªå­—ç¬¦</span>
    writer.write(<span class="hljs-number">97</span>);

    <span class="hljs-comment">//3.å†™ä¸€ä¸ªå­—ç¬¦ä¸²</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"hello world"</span>;
    writer.write(<span class="hljs-string">"\n"</span> + str);

    <span class="hljs-comment">//4.å†™ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</span>
    writer.write(<span class="hljs-string">"\n"</span> + str,<span class="hljs-number">0</span>,<span class="hljs-number">6</span>);

    <span class="hljs-comment">//5.å†™ä¸€ä¸ªå­—ç¬¦æ•°ç»„</span>
    <span class="hljs-type">char</span>[] chars = {<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>,<span class="hljs-string">'å”'</span>};
    writer.write(<span class="hljs-string">"\n"</span>);
    writer.write(chars);

    <span class="hljs-comment">//6.å†™ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†</span>
    writer.write(<span class="hljs-string">"\n"</span>);
    writer.write(chars,<span class="hljs-number">0</span> ,<span class="hljs-number">3</span>);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h2 data-id="heading-11">ç¼“å†²æµ</h2>
<h3 data-id="heading-12">ç¼“å†²å­—èŠ‚è¾“å…¥æµ BufferedInputstream</h3>
<h3 data-id="heading-13">ç¼“å†²å­—èŠ‚è¾“å‡ºæµ BufferedOutputstream</h3>
<p>ä½œç”¨ï¼šå¯ä»¥æé«˜å­—èŠ‚æµè¯»å†™æ•°æ®çš„æ€§èƒ½
åŸç†ï¼šç¼“å†²å­—èŠ‚è¾“å…¥æµè‡ªå¸¦äº†8KBç¼“å†²æ± ï¼›ç¼“å†²å­—èŠ‚è¾“å‡ºæµä¹Ÿè‡ªå¸¦äº†8KBç¼“å†²æ± ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db4950b0d4644e069d5a97f8a1d9ded9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=sgzGrqQ0vFnTPFsIGdniQf1ITbc%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨é«˜çº§ç¼“å†²å­—èŠ‚æµå®ç°å¤åˆ¶æ–‡ä»¶</span>
<span class="hljs-comment">//æ³¨æ„ï¼šå¦‚æœç¼“å­˜çš„æ¡¶æ²¡æœ‰æ»¡ä¸ä¼šç«‹å³è¾“å‡ºï¼Œå¦‚æœæƒ³ç«‹å³è¾“å‡ºflush()æˆ–close()æ–¹æ³•</span>

<span class="hljs-keyword">try</span> (
        <span class="hljs-type">InputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day04-IOThread/1.png"</span>);
        <span class="hljs-type">OutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day04-IOThread/2.png"</span>);

        <span class="hljs-comment">//åˆ›å»ºé«˜çº§ç¼“å†²æµ</span>
        <span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(in,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);<span class="hljs-comment">//å°†é»˜è®¤8Kbç¼“å­˜ä¿®æ”¹ä¸º16KB</span>
        <span class="hljs-type">BufferedOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedOutputStream</span>(out,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);
        ){

    <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];

    <span class="hljs-comment">//3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> ((length = bis.read(bytes)) != -<span class="hljs-number">1</span>){
        bos.write(bytes,<span class="hljs-number">0</span>,length);
        <span class="hljs-comment">//bos.flush();//ä¸éœ€è¦ï¼Œå› ä¸ºæµä½¿ç”¨å®Œ  ä¼šè‡ªåŠ¨è°ƒç”¨close()æ–¹æ³•</span>
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h3 data-id="heading-14">ç¼“å†²å­—ç¬¦è¾“å…¥æµBufferedReader</h3>
<h3 data-id="heading-15">ç¼“å†²å­—ç¬¦è¾“å‡ºæµBufferedWriter</h3>
<p>åŸºæœ¬è¯­æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42c84791777a46df8305d82985317ba3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=m09WXMvtBjesgXPuevxozmq873I%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6b7286ce0e145e8aabe2c2d5a441555~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=8PO6LqpHNJeXuehvuOXwn1nYBEc%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨é«˜çº§ç¼“å†²å­—ç¬¦æµå®ç°å¤åˆ¶æ–‡ä»¶</span>
<span class="hljs-comment">//æ³¨æ„ï¼šå¦‚æœç¼“å­˜çš„æ¡¶æ²¡æœ‰æ»¡ä¸ä¼šç«‹å³è¾“å‡ºï¼Œå¦‚æœæƒ³ç«‹å³è¾“å‡ºflush()æˆ–close()æ–¹æ³•</span>

<span class="hljs-keyword">try</span> (
        <span class="hljs-type">FileReader</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"day04-IOThread/1.txt"</span>);
        <span class="hljs-type">FileWriter</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"day04-IOThread/2.txt"</span>);

        <span class="hljs-comment">//åˆ›å»ºé«˜çº§ç¼“å†²æµ</span>
        <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(in,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);<span class="hljs-comment">//å°†é»˜è®¤8Kbç¼“å­˜ä¿®æ”¹ä¸º16KB</span>
        <span class="hljs-type">BufferedWriter</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedWriter</span>(out,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);
){

    <span class="hljs-comment">/*byte[] bytes = new byte[1024];

    //3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º
    int length = -1;
    while ((length = bis.read(bytes)) != -1){
        bos.write(bytes,0,length);
        //bos.flush();//ä¸éœ€è¦ï¼Œå› ä¸ºæµä½¿ç”¨å®Œ  ä¼šè‡ªåŠ¨è°ƒç”¨close()æ–¹æ³•
    }*/</span>

    <span class="hljs-comment">//æŒ‰ç…§è¡Œè¯»å†™</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">while</span> ((result = bis.readLine()) != <span class="hljs-literal">null</span>){
        bos.write(result);
        <span class="hljs-comment">//æ³¨æ„ï¼šéœ€è¦æ‰‹åŠ¨æ¢è¡Œ</span>
        bos.newLine();
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rockylinuxæ€¥é€Ÿå®‰è£…K8så­¦ä¹ ç¯å¢ƒ]]></title>    <link>https://juejin.cn/post/7580183671531438118</link>    <guid>https://juejin.cn/post/7580183671531438118</guid>    <pubDate>2025-12-05T14:00:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531438118" data-draft-id="7580183671531421734" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rockylinuxæ€¥é€Ÿå®‰è£…K8så­¦ä¹ ç¯å¢ƒ"/> <meta itemprop="keywords" content="Kubernetes,äº‘åŸç”Ÿ,äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2025-12-05T14:00:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¼šé£çš„å°è›®çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/2412772052441591"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rockylinuxæ€¥é€Ÿå®‰è£…K8så­¦ä¹ ç¯å¢ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2412772052441591/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¼šé£çš„å°è›®çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:00:07.000Z" title="Fri Dec 05 2025 14:00:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç›®å‰åœ¨å­¦ä¹ k8sï¼Œä¸ºäº†æ›´å¿«çš„äº†è§£k8sçš„å„é¡¹åŠŸèƒ½ï¼Œå…ˆä½¿ç”¨RockyLinuxå¿«é€Ÿæ­å»ºäº†ä¸€ä¸ªå®éªŒç¯å¢ƒï¼Œä½¿ç”¨äº†1ä¸»2ä»çš„ç»“æ„ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹ï¼Œk8så°ç™½å¤§ä½¬åˆ«å–·ï¼</p>
</blockquote>
<h2 data-id="heading-0">1. ç¯å¢ƒåˆå§‹åŒ–(æ‰€æœ‰ä¸»æœºéƒ½è¦é…ç½®)</h2>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â ç½‘å¡é…ç½®(ä¸åŒä¸»æœºIPè¦é…ç½®ä¸åŒ)</span>
catÂ /etc/NetworkManager/system-connections/ens18.nmconnection
<span class="hljs-section">[connection]</span>
<span class="hljs-attr">id</span>=ens18
<span class="hljs-attr">uuid</span>=ee21d8d7-bfeb-<span class="hljs-number">34</span>dd-<span class="hljs-number">83</span>ca-f72558024a79
<span class="hljs-attr">type</span>=ethernet
<span class="hljs-attr">autoconnect-priority</span>=-<span class="hljs-number">999</span>
<span class="hljs-attr">interface-name</span>=ens18
<span class="hljs-attr">timestamp</span>=<span class="hljs-number">1764832445</span>

<span class="hljs-section">[ethernet]</span>

<span class="hljs-section">[ipv4]</span>
<span class="hljs-attr">method</span>=manual
<span class="hljs-attr">address1</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.190</span>/<span class="hljs-number">24</span>,<span class="hljs-number">192.168</span>.<span class="hljs-number">1.5</span>
<span class="hljs-attr">dns</span>=<span class="hljs-number">114.114</span>.<span class="hljs-number">114.114</span><span class="hljs-comment">;8.8.8.8</span>

<span class="hljs-section">[ipv6]</span>
<span class="hljs-attr">addr-gen-mode</span>=eui64
<span class="hljs-attr">method</span>=auto

<span class="hljs-section">[proxy]</span>


<span class="hljs-comment">#Â è°ƒç”¨Â nmcliÂ é‡å¯è®¾å¤‡å’Œè¿æ¥é…ç½®</span>
nmcliÂ conÂ upÂ ens18
nmcliÂ conÂ reload

------
<span class="hljs-comment">#Â è®¾ç½®ä¸»æœºå(æ‰€æœ‰ä¸»æœºéƒ½è¦è®¾ç½®)</span>
root@server190Â ~]<span class="hljs-comment">#Â catÂ /etc/hosts</span>

127.0.0.1Â Â Â localhostÂ localhost.localdomainÂ localhost4Â localhost4.localdomain4
::1Â Â Â Â Â Â Â Â Â localhostÂ localhost.localdomainÂ localhost6Â localhost6.localdomain6
192.168.1.190Â server190
192.168.1.191Â server191
192.168.1.192Â server192
------
<span class="hljs-comment">#Â RockyÂ ç³»ç»Ÿè½¯ä»¶æºæ›´æ¢</span>
sedÂ -eÂ 's|^<span class="hljs-attr">mirrorlist</span>=|<span class="hljs-comment">#mirrorlist=|g'Â \</span>
Â Â Â Â -eÂ 's|^<span class="hljs-comment">#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.aliyun.com/rockylinux|g'Â \</span>
Â Â Â Â -i.bakÂ \
Â Â Â Â /etc/yum.repos.d/<span class="hljs-section">[Rr]</span>ocky*.repo
dnfÂ makecache

<span class="hljs-comment">#Â é˜²ç«å¢™ä¿®æ”¹Â firewalldÂ ä¸ºÂ iptables</span>
systemctlÂ stopÂ firewalld
systemctlÂ disableÂ firewalld

yumÂ -yÂ installÂ iptables-services
systemctlÂ startÂ iptables
iptablesÂ -F
systemctlÂ enableÂ iptables
serviceÂ iptablesÂ save

<span class="hljs-comment">#Â ç¦ç”¨Â Selinux</span>
setenforceÂ 0
sedÂ -iÂ "s/<span class="hljs-attr">SELINUX</span>=enforcing/SELINUX=disabled/g<span class="hljs-string">"Â /etc/selinux/config
grubbyÂ --update-kernelÂ ALLÂ --argsÂ selinux=0

#Â è®¾ç½®æ—¶åŒº
timedatectlÂ set-timezoneÂ Asia/Shanghai
----
#Â å…³é—­Â swapÂ åˆ†åŒº
swapoffÂ -a
#sedÂ -iÂ 's:/dev/mapper/rlm_192-swap:#/dev/mapper/rlm_192-swap:g'Â /etc/fstab
sedÂ -riÂ '/^[^#]*swap/s@^@#@'Â /etc/fstab
#Â ä¿®æ”¹ä¸»æœºå
hostnamectlÂ set-hostnameÂ k8s-node01
---
#Â å®‰è£…Â ipvs
yumÂ installÂ -yÂ ipvsadm

#Â å¼€å¯è·¯ç”±è½¬å‘
echoÂ 'net.ipv4.ip_forward=1'Â &gt;&gt;Â /etc/sysctl.conf
sysctlÂ -p'

#Â é‡å¯ç³»ç»Ÿ
reboot
</span></code></pre>
<h2 data-id="heading-1">2. å®‰è£…Docker(æ‰€æœ‰ä¸»æœºéƒ½è¦é…ç½®)</h2>
<pre><code class="hljs language-perl" lang="perl"> <span class="hljs-comment">#Â åŠ è½½Â bridge</span>
yumÂ installÂ -<span class="hljs-keyword">y</span>Â epel-release
yumÂ installÂ -<span class="hljs-keyword">y</span>Â bridge-utils

modprobeÂ br_netfilter
echoÂ <span class="hljs-string">'br_netfilter'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/m</span>odules-load.d/bridge.conf
echoÂ <span class="hljs-string">'net.bridge.bridge-nf-call-iptables=1'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/s</span>ysctl.conf
echoÂ <span class="hljs-string">'net.bridge.bridge-nf-call-iptables=1'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/s</span>ysctl.conf
echoÂ <span class="hljs-string">'net.ipv4.jp_forward=1'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/s</span>ysctl.conf
sysctlÂ -p

<span class="hljs-comment">#Â æ·»åŠ Â docker-ceÂ yumÂ æº</span>
<span class="hljs-comment">#Â ä¸­ç§‘å¤§(ustc)</span>
sudoÂ dnfÂ config-managerÂ --add-repoÂ https:<span class="hljs-regexp">//mirr</span>ors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo
cdÂ /etc/yum.repos.d
<span class="hljs-comment">#Â åˆ‡æ¢ä¸­ç§‘å¤§æº</span>
sedÂ -eÂ <span class="hljs-string">'s|download.docker.com|mirrors.ustc.edu.cn/docker-ce|g'</span>Â docker-ce.repoÂ &gt;docker-ce-ustc.repo
mvÂ docker-ce.repoÂ docker-ce.repo.back


<span class="hljs-comment">#Â å®‰è£…Â docker-ce</span>
yumÂ -<span class="hljs-keyword">y</span>Â installÂ docker-ce

<span class="hljs-comment">#Â é…ç½®Â daemon.</span>
catÂ &gt;Â <span class="hljs-regexp">/etc/d</span>ocker/daemon.jsonÂ &lt;&lt;EOF
{
Â Â Â Â <span class="hljs-string">"exec-opts"</span>:Â [<span class="hljs-string">"native.cgroupdriver=systemd"</span>],
Â Â Â Â <span class="hljs-string">"log-driver"</span>:Â <span class="hljs-string">"json-file"</span>,
Â Â Â Â <span class="hljs-string">"log-opts"</span>:Â {
Â Â Â Â <span class="hljs-string">"max-size"</span>:Â <span class="hljs-string">"100m"</span>,
Â Â Â Â <span class="hljs-string">"max-file"</span>:Â <span class="hljs-string">"100"</span>
Â Â Â Â },
Â Â Â Â <span class="hljs-string">"insecure-registries"</span>:Â [<span class="hljs-string">"ç§æœåœ°å€"</span>],
Â Â Â Â <span class="hljs-string">"registry-mirrors"</span>:Â [<span class="hljs-string">"å¯ä¿¡ä»»çš„é•œåƒä»“åº“"</span>]
}
EOF
<span class="hljs-keyword">mkdir</span>Â -pÂ /etc/systemd/<span class="hljs-keyword">system</span>/docker.service.d

<span class="hljs-comment">#Â é‡å¯dockeræœåŠ¡</span>
systemctlÂ daemon-reloadÂ &amp;&amp;Â systemctlÂ restartÂ dockerÂ &amp;&amp;Â systemctlÂ enableÂ docker

<span class="hljs-comment">#Â é‡å¯ç³»ç»Ÿ</span>
reboot
</code></pre>
<h2 data-id="heading-2">3. å®‰è£…Cri-Docker</h2>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â å®‰è£…Â cri-docker</span>
wgetÂ https://github.com/Mirantis/cri-dockerd/releases/download/v0.3.9/cri-dockerd-0.3.9.amd64.tgz
wgetÂ https://github.com/Mirantis/cri-dockerd/releases/download/v0.3.21/cri-dockerd-0.3.21.amd64.tgz
tarÂ -xfÂ cri-dockerd-0.3.9.amd64.tgz
cpÂ cri-dockerd/cri-dockerdÂ /usr/bin/
chmodÂ +xÂ /usr/bin/cri-dockerd

<span class="hljs-comment">#Â é…ç½®Â cri-dockerÂ æœåŠ¡</span>
catÂ &lt;&lt;"EOF"&gt;Â /usr/lib/systemd/system/cri-docker.service
<span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=CRIÂ InterfaceÂ forÂ DockerÂ ApplicationÂ ContainerÂ Engine
<span class="hljs-attr">Documentation</span>=https://docs.mirantis.com
<span class="hljs-attr">After</span>=network-<span class="hljs-literal">on</span>line.targetÂ firewalld.serviceÂ docker.service
<span class="hljs-attr">Wants</span>=network-<span class="hljs-literal">on</span>line.target
<span class="hljs-attr">Requires</span>=cri-docker.socket
<span class="hljs-section">[Service]</span>
<span class="hljs-attr">Type</span>=notify
<span class="hljs-attr">ExecStart</span>=/usr/bin/cri-dockerdÂ --network-plugin=cniÂ --pod-infra-container-image=registry.aliyuncs.com/google_containers/pause:<span class="hljs-number">3.9</span>
<span class="hljs-attr">ExecReload</span>=/bin/killÂ -sÂ HUPÂ <span class="hljs-variable">$MAINPID</span>
<span class="hljs-attr">ExecStop</span>=/bin/killÂ -sÂ SIGTERMÂ <span class="hljs-variable">$MAINPID</span>
<span class="hljs-attr">TimeoutStopSec</span>=<span class="hljs-number">30</span>
<span class="hljs-attr">TimeoutSec</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">RestartSec</span>=<span class="hljs-number">2</span>
<span class="hljs-attr">Restart</span>=always
Â 
<span class="hljs-attr">StartLimitBurst</span>=<span class="hljs-number">3</span>
Â 
<span class="hljs-attr">StartLimitInterval</span>=<span class="hljs-number">60</span>s
Â 
<span class="hljs-attr">LimitNOFILE</span>=infinity
<span class="hljs-attr">LimitNPROC</span>=infinity
<span class="hljs-attr">LimitCORE</span>=infinity
Â 
<span class="hljs-attr">TasksMax</span>=infinity
<span class="hljs-attr">Delegate</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">KillMode</span>=process
Â 
<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=multi-user.target
EOF



---
<span class="hljs-comment">#Â æ·»åŠ Â cri-dockerÂ å¥—æ¥å­—</span>
catÂ &lt;&lt;"EOF"&gt;Â /usr/lib/systemd/system/cri-docker.socket
<span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=CRIÂ DockerÂ SocketÂ forÂ theÂ API
<span class="hljs-attr">PartOf</span>=cri-docker.service
Â 
<span class="hljs-section">[Socket]</span>
<span class="hljs-attr">ListenStream</span>=%t/cri-dockerd.sock
<span class="hljs-attr">SocketMode</span>=<span class="hljs-number">0660</span>
<span class="hljs-attr">SocketUser</span>=root
<span class="hljs-attr">SocketGroup</span>=docker
Â 
<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=sockets.target
EOF


<span class="hljs-comment">#Â å¯åŠ¨Â cri-dockerÂ å¯¹åº”æœåŠ¡</span>
systemctlÂ daemon-reload
systemctlÂ enableÂ cri-docker
systemctlÂ startÂ cri-docker
systemctlÂ is-activeÂ cri-docker
</code></pre>
<h2 data-id="heading-3">4.å®‰è£…K8sç›¸å…³è½¯ä»¶</h2>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â é…ç½®k8sé˜¿é‡Œäº‘æº</span>
catÂ &lt;&lt;EOFÂ &gt;Â /etc/yum.repos.d/kubernetes.repo
<span class="hljs-section">[kubernetes]</span>
<span class="hljs-attr">name</span>=Kubernetes
<span class="hljs-attr">baseurl</span>=https://pkgs.k8s.io/core:/stable:/v1.<span class="hljs-number">29</span>/rpm/
<span class="hljs-attr">enabled</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">gpgcheck</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">gpgkey</span>=https://pkgs.k8s.io/core:/stable:/v1.<span class="hljs-number">29</span>/rpm/repodata/repomd.xml.key
<span class="hljs-comment">#Â exclude=kubeletÂ kubeadmÂ kubectlÂ cri-toolsÂ kubernetes-cni</span>
EOF

yumÂ cleanÂ all
yumÂ makecache

<span class="hljs-comment">#Â å®‰è£…Â kubeadmÂ 1.29Â ç‰ˆæœ¬</span>
yumÂ installÂ -yÂ kubelet-1.29.0Â kubectl-1.29.0Â kubeadm-1.29.0
systemctlÂ enableÂ kubelet.service
</code></pre>
<h2 data-id="heading-4">5.åˆå§‹åŒ–é›†ç¾¤</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â åˆå§‹åŒ–ä¸»èŠ‚ç‚¹</span>
kubeadmÂ initÂ --apiserver-advertise-address=192.168.1.190Â \
--image-repository=registry.aliyuncs.com/google_containersÂ \
--kubernetes-version=1.29.2Â \
--service-cidr=10.10.0.0/12Â \
--pod-network-cidr=10.244.0.0/16Â \
--ignore-preflight-errors=allÂ \
--cri-socket=unix:///var/run/cri-dockerd.sock
<span class="hljs-comment">#Â ....</span>
YourÂ KubernetesÂ control-planeÂ hasÂ initializedÂ successfully!

ToÂ startÂ usingÂ yourÂ cluster,Â youÂ needÂ toÂ runÂ theÂ followingÂ asÂ aÂ regularÂ user:

Â Â <span class="hljs-built_in">mkdir</span>Â -pÂ <span class="hljs-variable">$HOME</span>/.kube
Â Â sudoÂ <span class="hljs-built_in">cp</span>Â -iÂ /etc/kubernetes/admin.confÂ <span class="hljs-variable">$HOME</span>/.kube/config
Â Â sudoÂ <span class="hljs-built_in">chown</span>Â $(<span class="hljs-built_in">id</span>Â -u):$(<span class="hljs-built_in">id</span>Â -g)Â <span class="hljs-variable">$HOME</span>/.kube/config

Alternatively,Â <span class="hljs-keyword">if</span>Â youÂ areÂ theÂ rootÂ user,Â youÂ canÂ run:

Â Â <span class="hljs-built_in">export</span>Â KUBECONFIG=/etc/kubernetes/admin.conf

YouÂ shouldÂ nowÂ deployÂ aÂ podÂ networkÂ toÂ theÂ cluster.
RunÂ <span class="hljs-string">"kubectlÂ applyÂ -fÂ [podnetwork].yaml"</span>Â withÂ oneÂ ofÂ theÂ optionsÂ listedÂ at:
Â Â https://kubernetes.io/docs/concepts/cluster-administration/addons/

ThenÂ youÂ canÂ <span class="hljs-built_in">join</span>Â anyÂ numberÂ ofÂ workerÂ nodesÂ byÂ runningÂ theÂ followingÂ onÂ eachÂ asÂ root:

kubeadmÂ <span class="hljs-built_in">join</span>Â 192.168.1.190:6443Â --tokenÂ 79dfmw.bcdri1p1uc5pbkomÂ \
Â Â Â Â --discovery-token-ca-cert-hashÂ sha256:1f30189f89860b28030415566be642f6fc8bb35407819f77da81d282a43895f6
<span class="hljs-comment">#Â ....å®‰è£…å®Œæˆ</span>

<span class="hljs-comment">#Â æ ¹åˆ›å»ºéœ€è¦çš„ç›®å½•åŠç®¡ç†é…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">mkdir</span>Â -pÂ <span class="hljs-variable">$HOME</span>/.kube
<span class="hljs-built_in">cp</span>Â -iÂ /etc/kubernetes/admin.confÂ <span class="hljs-variable">$HOME</span>/.kube/config
<span class="hljs-built_in">chown</span>Â $(<span class="hljs-built_in">id</span>Â -u):$(<span class="hljs-built_in">id</span>Â -g)Â <span class="hljs-variable">$HOME</span>/.kube/config


<span class="hljs-comment">#Â å¦‚æœæ²¡æœ‰æ³¨æ„åˆå§‹åŒ–çš„tokenå¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹</span>
kubeadmÂ tokenÂ list
<span class="hljs-comment">#Â è·å–Â --discovery-token-ca-cert-hashÂ å€¼ï¼Œå¾—åˆ°å€¼åéœ€è¦åœ¨å‰é¢æ‹¼æ¥ä¸ŠÂ sha256:</span>
opensslÂ x509Â -pubkeyÂ -<span class="hljs-keyword">in</span>Â /etc/kubernetes/pki/ca.crtÂ |Â opensslÂ rsaÂ -pubinÂ -outformÂ derÂ 2&gt;/dev/nullÂ |Â \
opensslÂ dgstÂ -sha256Â -hexÂ |Â sedÂ <span class="hljs-string">'s/^.*Â //'</span>


<span class="hljs-comment">#Â workÂ tokenÂ å¦‚æœè¿‡æœŸåï¼Œé‡æ–°ç”³è¯·</span>
kubeadmÂ tokenÂ createÂ --print-join-command
</code></pre>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">#Â ä»èŠ‚ç‚¹åŠ å…¥ä¸»èŠ‚ç‚¹ï¼Œåœ¨ä¸»èŠ‚ç‚¹åˆå§‹åŒ–å®Œæˆåä¼šå‡ºç°å¦‚ä½•åŠ å…¥é›†ç¾¤çš„å‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶,æ³¨æ„è¦æŒ‡å®šå®¹å™¨sock</span>
kubeadmÂ <span class="hljs-keyword">join</span>Â <span class="hljs-number">192.168</span>.<span class="hljs-number">1.190</span>:<span class="hljs-number">6443</span>Â --tokenÂ <span class="hljs-number">79</span>dfmw.bcdri1p1uc5pbkomÂ \
Â Â Â Â --discovery-token-ca-cert-hashÂ sha256:<span class="hljs-number">1</span>f30189f89860b28030415566be642f6fc8bb35407819f77da81d282a43895f6Â \
Â Â Â Â --cri-<span class="hljs-keyword">socket</span>=unix:<span class="hljs-regexp">//</span><span class="hljs-regexp">/var/run</span>/cri-dockerd.sock
</code></pre>
<h2 data-id="heading-5">6. å®‰è£…ç½‘ç»œæ’ä»¶</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â å®˜ç½‘åœ°å€ï¼ˆcalicoæ’ä»¶ï¼‰</span>
https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises<span class="hljs-comment">#install-calico-with-kubernetes-api-datastore-more-than-50-nodes</span>

<span class="hljs-comment">#Â å®‰è£…CalicoÂ å‘½ä»¤è¡Œå·¥å…·</span>
curlÂ -oÂ calicoctlÂ -OÂ -LÂ https://github.com/projectcalico/calico/releases/download/v3.26.0/calicoctl-linux-amd64
<span class="hljs-built_in">chmod</span>Â 755Â calicoctl
<span class="hljs-built_in">cp</span>Â calicoctlÂ Â /usr/bin/

<span class="hljs-comment">#Â æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦è¿›è¡Œä»¥ä¸‹æ“ä½œ(æå‰ä¸‹è½½å®¹å™¨é•œåƒ)</span>
wgetÂ https://github.com/projectcalico/calico/releases/download/v3.26.0/release-v3.26.0.tgz
tarÂ -xfÂ release-v3.26.0.tgz
<span class="hljs-built_in">cd</span>Â release-v3.26.0/images
dockerÂ loadÂ -iÂ calico-cni.tarÂ 
dockerÂ loadÂ -iÂ calico-node.tarÂ 
dockerÂ loadÂ -iÂ calico-typha.tarÂ 
dockerÂ loadÂ -iÂ calico-kube-controllers.tarÂ 

<span class="hljs-comment">#Â ä¸»èŠ‚ç‚¹æ“ä½œ</span>
curlÂ https://raw.githubusercontent.com/projectcalico/calico/v3.26.3/manifests/calico-typha.yamlÂ -oÂ calico.yaml
vimÂ calico.yaml
<span class="hljs-comment">#Â ä¿®æ”¹ä¸€ï¼š</span>
<span class="hljs-comment">#Â å–æ¶ˆæ‰æ³¨é‡Š</span>
Â Â Â Â Â Â Â Â Â Â Â Â -Â name:Â CALICO_IPV4POOL_CIDR
Â Â Â Â Â Â Â Â Â Â Â Â Â Â value:Â <span class="hljs-string">"10.244.0.0/16"</span>
<span class="hljs-comment">#Â valueçš„å€¼æ”¹ä¸ºå’ŒÂ åˆå§‹åŒ–ä¸»èŠ‚ç‚¹Â pod-network-cidrçš„å€¼ç›¸åŒ</span>

<span class="hljs-comment">#Â ä¿®æ”¹äºŒï¼š</span>
<span class="hljs-comment">#Â ä¿®æ”¹ä¸ºÂ BGPÂ æ¨¡å¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â EnableÂ IPIP</span>
Â Â Â Â Â Â Â Â Â Â Â Â -Â name:Â CALICO_IPV4POOL_IPIP
Â Â Â Â Â Â Â Â Â Â Â Â Â Â value:Â <span class="hljs-string">"Off"</span>Â Â <span class="hljs-comment">#Â å°†Alwaysæ”¹æˆOff</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
<span class="hljs-comment">#Â -----------ä¿®æ”¹ä¸‰:Â å¯é€‰æ“ä½œå¼€å§‹---------Â Â Â Â Â Â Â Â Â Â Â Â Â Â </span>
<span class="hljs-comment">#Â ç›®æ ‡Â IPÂ æˆ–åŸŸåå¯è¾¾</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"can-reach=www.baidu.com"</span>Â <span class="hljs-comment">#Â å¯¹æœºå™¨ä¸Šæ‰€æœ‰ç½‘å¡è¿›è¡ŒåŸŸåè§£æå¦‚æœæˆåŠŸå°±é€‰æ‹©Â ä¸æˆåŠŸæ”¾å¼ƒ</span>
kubectlÂ <span class="hljs-built_in">set</span>Â <span class="hljs-built_in">env</span>Â daemonset/calico-nodeÂ -nÂ kube-systemÂ IP_AUTODETECTION_METHOD=can-reach=www.baidu.com

<span class="hljs-comment">#Â åŒ¹é…ç›®æ ‡ç½‘å¡</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"interface=eth.*"</span>Â <span class="hljs-comment">#Â é€šè¿‡æ­£åˆ™åŒ¹é…ä½¿ç”¨çš„ç½‘å¡</span>

<span class="hljs-comment">#Â æ’é™¤åŒ¹é…ç½‘å¡</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"skip-interface=eth.*"</span>
Â Â Â Â Â Â 
<span class="hljs-comment">#Â CIDRÂ æŒ‡å®šä¸€ä¸ªèŒƒå›´æ¥é€‰æ‹©ç½‘å¡</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"cidr=192.168.200.0/24,172.15.0.0/24"</span>

<span class="hljs-comment">#Â ä¿®æ”¹Â kube-proxyÂ æ¨¡å¼ä¸ºÂ ipvs</span>
kubectlÂ editÂ configmapÂ kube-proxyÂ -nÂ kube-system
mode:Â ipvs
kubectlÂ deleteÂ podÂ -nÂ kube-systemÂ -lÂ k8s-app=kube-proxy
<span class="hljs-comment">#Â -----------å¯é€‰æ“ä½œç»“æŸ---------Â Â Â </span>



<span class="hljs-comment">#Â éƒ¨ç½²Â calicoÂ Â Â Â Â Â Â Â Â Â Â Â Â </span>
kubectlÂ Â applyÂ -fÂ calico.yaml


<span class="hljs-comment">#Â å¦‚æœä»èŠ‚ç‚¹ä¹Ÿéœ€è¦Â Â kubectlÂ getÂ nodesÂ Â åšä»¥ä¸‹æ“ä½œ</span>
<span class="hljs-comment">#Â å…ˆå»åˆ°Â masterèŠ‚ç‚¹</span>
scpÂ /etc/kubernetes/admin.confÂ Â 192.168.1.191:/etc/kubernetes/
scpÂ /etc/kubernetes/admin.confÂ Â 192.168.1.192:/etc/kubernetes/

<span class="hljs-comment">#Â å›åˆ°nodeèŠ‚ç‚¹</span>
<span class="hljs-built_in">echo</span>Â <span class="hljs-string">"exportÂ KUBECONFIG=/etc/kubernetes/admin.conf"</span>Â &gt;&gt;Â ~/.bash_profile
<span class="hljs-built_in">source</span>Â ~/.bash_profile

kubectlÂ getÂ nodes
<span class="hljs-comment">#Â å®Œæˆ</span>

<span class="hljs-comment">#Â å¯ä»¥å…³æ³¨çš„ç›®å½•</span>
/etc/kubernetes/mainfestsÂ <span class="hljs-comment">#Â è¿™é‡Œæ˜¯å¯åŠ¨k8sçš„æ¸…å•æ–‡ä»¶ï¼ŒåŒ…æ‹¬apiserverç­‰ï¼Œå¯¹äºæƒ³è¦ä½¿ç”¨äºŒè¿›åˆ¶å®‰è£…çš„åŒå­¦æœ‰ä¸€äº›å‚è€ƒæ€§Â </span>
/etc/kubernetes/admin.confÂ <span class="hljs-comment">#Â k8sçš„adminç®¡ç†æ–‡ä»¶Â å¦¥å–„ä¿ç®¡</span>
/var/lib/kubelet/kubeadm-flags.envÂ <span class="hljs-comment">#Â kubeletåŸºäºkubeadmiçš„ä¸€äº›å­é€‰é¡¹ï¼Œcriæ¥å£ï¼Œé•œåƒä»“åº“</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨]]></title>    <link>https://juejin.cn/post/7580208715274895402</link>    <guid>https://juejin.cn/post/7580208715274895402</guid>    <pubDate>2025-12-05T14:05:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715274895402" data-draft-id="7580184249908871210" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-05T14:05:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="okseekw"/> <meta itemprop="url" content="https://juejin.cn/user/1933379625032649"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1933379625032649/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    okseekw
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:05:53.000Z" title="Fri Dec 05 2025 14:05:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨</h2>
<p>åœ¨JDK8ä¹‹å‰ï¼Œæˆ‘ä»¬ç¼–å†™ä»£ç æ—¶å¸¸å¸¸ä¼šè¢«å¤§é‡çš„åŒ¿åå†…éƒ¨ç±»"æ·¹æ²¡"ï¼Œä¸ä»…ä»£ç å†—ä½™ï¼Œå¯è¯»æ€§ä¹Ÿå¤§æ‰“æŠ˜æ‰£ã€‚è€ŒJDK8å¼•å…¥çš„<strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ç‰¹æ€§ï¼Œå‡­å€ŸLambdaè¡¨è¾¾å¼å’Œæ–¹æ³•å¼•ç”¨ï¼Œå½»åº•ç®€åŒ–äº†è¿™ç±»åœºæ™¯çš„ä»£ç ç¼–å†™ã€‚æœ¬æ–‡å°†ç»“åˆ<strong>çœŸå®é¡¹ç›®ç»éªŒ</strong>ã€<strong>æ·±å…¥åŸç†åˆ†æ</strong>å’Œ<strong>å¤§é‡å®æˆ˜æ¡ˆä¾‹</strong>ï¼Œå¸¦ä½ ä»é›¶æŒæ¡è¿™ä¸¤ä¸ªæ ¸å¿ƒæŠ€èƒ½ï¼Œè®©ä½ çš„ä»£ç ç¬é—´å˜å¾—ç®€æ´ä¼˜é›…ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Lambdaè¡¨è¾¾å¼ï¼šç®€åŒ–å‡½æ•°å¼æ¥å£çš„åˆ©å™¨</h3>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯Lambdaè¡¨è¾¾å¼ï¼Ÿâ€”â€”ä¸åªæ˜¯è¯­æ³•ç³–</h4>
<p>Lambdaè¡¨è¾¾å¼æ˜¯JDK8æ–°å¢çš„è¯­æ³•ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>åŒ¿åå‡½æ•°</strong>ï¼Œä½†å®ƒèƒŒåæ˜¯JVMå¯¹å‡½æ•°å¼ç¼–ç¨‹çš„æ·±åº¦æ”¯æŒã€‚<strong>å…³é”®ç‚¹</strong>ï¼šLambdaä¸æ˜¯ç®€å•çš„è¯­æ³•ç³–ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„<code>invokedynamic</code>æŒ‡ä»¤ï¼Œè®©JVMèƒ½å¤Ÿé«˜æ•ˆæ‰§è¡Œå‡½æ•°å¼ä»£ç ã€‚</p>
<p><strong>æ ¸å¿ƒè¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">(å‚æ•°åˆ—è¡¨) <span class="hljs-punctuation">-&gt;</span> { è¡¨è¾¾å¼/è¯­å¥ }
</code></pre>
<h4 data-id="heading-3">1.2 å…³é”®å‰æï¼šå‡½æ•°å¼æ¥å£</h4>
<p>Lambdaè¡¨è¾¾å¼<strong>åªèƒ½ç®€åŒ–å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»</strong>ï¼Œè¿™æ˜¯ä½¿ç”¨Lambdaçš„æ ¸å¿ƒå‰æã€‚ä½†è¿™é‡Œæœ‰ä¸ªé‡è¦è¯¯åŒºï¼š<strong>å‡½æ•°å¼æ¥å£ä¸ç­‰äºåªæœ‰ä¸€ä¸ªæ–¹æ³•çš„æ¥å£</strong>ï¼Œè€Œæ˜¯<strong>æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</strong>çš„æ¥å£ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦@FunctionalInterfaceï¼Ÿ</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ³¨è§£ï¼Ÿ</span>
@FunctionalInterface
<span class="hljs-keyword">interface</span> <span class="hljs-title">Swim</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swimming</span>()</span>; <span class="hljs-comment">// ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-literal">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rest</span>()</span> {} <span class="hljs-comment">// é»˜è®¤æ–¹æ³•ä¸å½±å“</span>
}
</code></pre>
<p><strong>é‡è¦æç¤º</strong>ï¼šJava 8ä¸­ï¼Œæ¥å£å¯ä»¥åŒ…å«é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼Œä½†<strong>å‡½æ•°å¼æ¥å£åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</strong>ã€‚</p>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼ˆæ— æ³•ä½¿ç”¨Lambdaï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æŠ½è±¡ç±»çš„åŒ¿åå†…éƒ¨ç±»ï¼Œæ— æ³•ç”¨Lambdaç®€åŒ–</span>
Animal animal = <span class="hljs-keyword">new</span> Animal() {
    @Override
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cry</span>()</span> {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ğŸ±æ˜¯å–µå–µå–µçš„å«~~~"</span>);
    }
};
animal.cry();

<span class="hljs-comment">// æ™®é€šæ¥å£ï¼ˆæœ‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼‰ï¼Œæ— æ³•ç”¨Lambda</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title">Fly</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fly</span>()</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">land</span>()</span>; <span class="hljs-comment">// ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä¸æ˜¯å‡½æ•°å¼æ¥å£</span>
}
</code></pre>
<p><strong>æ­£ç¡®ç¤ºä¾‹</strong>ï¼ˆå¯ä½¿ç”¨Lambdaï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">@FunctionalInterface
<span class="hljs-keyword">interface</span> <span class="hljs-title">Swim</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swimming</span>()</span>;
}

Swim s1 = () -&gt; System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å­¦ç”ŸğŸŠâ€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€......
</span></code></pre>
<h4 data-id="heading-4">1.3 Lambdaçš„çœç•¥è§„åˆ™</h4>
<p>Lambdaçš„çœç•¥è§„åˆ™ä¸æ˜¯ç®€å•çš„"èƒ½çœå°±çœ"ï¼Œè€Œæ˜¯<strong>åŸºäºæ–¹æ³•ç­¾åçš„åŒ¹é…</strong>ã€‚è®©æˆ‘ä»¬æ·±å…¥ç†è§£ï¼š</p>






























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th><th>å®æˆ˜æ¡ˆä¾‹</th></tr></thead><tbody><tr><td>å‚æ•°ç±»å‹çœç•¥</td><td>ä»…å½“ç¼–è¯‘å™¨èƒ½æ¨æ–­ç±»å‹æ—¶</td><td><code>(o1, o2) -&gt; o1.getAge() - o2.getAge()</code></td></tr><tr><td>å•ä¸ªå‚æ•°çœç•¥æ‹¬å·</td><td>ä»…å½“å‚æ•°åªæœ‰ä¸€ä¸ªæ—¶</td><td><code>e -&gt; System.out.println("ç™»å½•æˆåŠŸ")</code></td></tr><tr><td>å•è¡Œä»£ç çœç•¥å¤§æ‹¬å·</td><td>ä»…å½“æ–¹æ³•ä½“æ˜¯å•è¡Œè¯­å¥æ—¶</td><td><code>e -&gt; System.out.println("ç™»å½•æˆåŠŸ")</code></td></tr><tr><td>å•è¡Œreturnçœç•¥return</td><td>ä»…å½“æ˜¯returnè¯­å¥æ—¶</td><td><code>(a, b) -&gt; a + b</code></td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½çœç•¥å¤§æ‹¬å·ï¼Ÿ</strong><br/>
å½“æ–¹æ³•ä½“æœ‰å¤šè¡Œä»£ç æ—¶ï¼Œå¿…é¡»ç”¨å¤§æ‹¬å·ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// é”™è¯¯ï¼šçœç•¥å¤§æ‹¬å·</span>
btn.addActionListener(e -&gt; System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>); System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•å¤±è´¥"</span>)); 

<span class="hljs-comment">// æ­£ç¡®ï¼šå¿…é¡»ç”¨å¤§æ‹¬å·</span>
btn.addActionListener(e -&gt; {
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>);
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•å¤±è´¥"</span>);
});
</code></pre>
<hr/>
<h3 data-id="heading-5">äºŒã€æ–¹æ³•å¼•ç”¨ï¼šè®©Lambdaä»£ç æ›´ä¼˜é›…</h3>
<p>æ–¹æ³•å¼•ç”¨æ˜¯Lambdaçš„"è¯­æ³•ç³–"ï¼Œä½†å®ƒ<strong>ä¸æ˜¯ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œè€Œæ˜¯ä¸ºäº†æé«˜å¯è¯»æ€§</strong>ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªçœŸå®é¡¹ç›®ä¸­çš„å¯¹æ¯”ï¼š</p>
<h4 data-id="heading-6">2.1 é™æ€æ–¹æ³•å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨ç”µå•†ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å•†å“IDæŸ¥è¯¢å•†å“ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»ŸLambdaå†™æ³•ï¼ˆå¯è¯»æ€§ä¸€èˆ¬ï¼‰
List&lt;Product&gt; <span class="hljs-attr">products</span> = productRepository.findAll()<span class="hljs-comment">;</span>
List&lt;String&gt; <span class="hljs-attr">names</span> = products.stream()
    .map(p -&gt; ProductUtil.getProductName(p.getId()))
    .collect(Collectors.toList())<span class="hljs-comment">;</span>

// æ–¹æ³•å¼•ç”¨å†™æ³•ï¼ˆå¯è¯»æ€§å¤§å¹…æå‡ï¼‰
List&lt;String&gt; <span class="hljs-attr">names</span> = products.stream()
    .map(ProductUtil::getProductName)
    .collect(Collectors.toList())<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ›´å¥½ï¼Ÿ</strong></p>
<ul>
<li>ä¸€çœ¼çœ‹å‡ºæ˜¯è°ƒç”¨<code>ProductUtil</code>çš„<code>getProductName</code>æ–¹æ³•</li>
<li>ä»£ç é•¿åº¦å‡å°‘30%</li>
<li>é™ä½äº†ç»´æŠ¤æˆæœ¬</li>
</ul>
<h4 data-id="heading-7">2.2 å®ä¾‹æ–¹æ³•å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨ç”¨æˆ·ç®¡ç†æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»ŸLambdaå†™æ³•
UserRepository <span class="hljs-attr">userRepository</span> = new UserRepository()<span class="hljs-comment">;</span>
List&lt;User&gt; <span class="hljs-attr">users</span> = userRepository.findAll()<span class="hljs-comment">;</span>
List&lt;String&gt; <span class="hljs-attr">userNames</span> = users.stream()
    .map(u -&gt; userRepository.getUserNameById(u.getId()))
    .collect(Collectors.toList())<span class="hljs-comment">;</span>

// å®ä¾‹æ–¹æ³•å¼•ç”¨å†™æ³•
UserRepository <span class="hljs-attr">userRepository</span> = new UserRepository()<span class="hljs-comment">;</span>
List&lt;String&gt; <span class="hljs-attr">userNames</span> = users.stream()
    .map(userRepository::getUserNameById)
    .collect(Collectors.toList())<span class="hljs-comment">;</span>
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š<code>userRepository::getUserNameById</code>è¡¨ç¤º"å¯¹æ¯ä¸ª<code>User</code>å¯¹è±¡è°ƒç”¨<code>userRepository.getUserNameById</code>æ–¹æ³•"ã€‚</p>
<h4 data-id="heading-8">2.3 ç‰¹å®šç±»å‹çš„æ–¹æ³•å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨è®¢å•ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è®¢å•å·è¿›è¡Œæ’åºï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">String<span class="hljs-section">[]</span> <span class="hljs-attr">orderIds</span> = {<span class="hljs-string">"ORD-001"</span>, <span class="hljs-string">"ORD-002"</span>, <span class="hljs-string">"ord-003"</span>, <span class="hljs-string">"ORD-004"</span>}<span class="hljs-comment">;</span>
// ä¼ ç»ŸLambdaå†™æ³•
Arrays.sort(orderIds, (o1, o2) -&gt; o1.compareToIgnoreCase(o2))<span class="hljs-comment">;</span>

// æ–¹æ³•å¼•ç”¨å†™æ³•
Arrays.sort(orderIds, String::compareToIgnoreCase)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·ç”¨ï¼Ÿ</strong><br/>
<code>String::compareToIgnoreCase</code>è¡¨ç¤º"å¯¹ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆo1ï¼‰è°ƒç”¨<code>compareToIgnoreCase</code>æ–¹æ³•ï¼Œä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼ˆo2ï¼‰"ã€‚è¿™æ˜¯Java 8çš„<strong>ç‰¹å®šç±»å‹æ–¹æ³•å¼•ç”¨</strong>ï¼Œæ˜¯Lambdaçš„é«˜çº§ç”¨æ³•ã€‚</p>
<h4 data-id="heading-9">2.4 æ„é€ å™¨å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨æ”¯ä»˜ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºæ”¯ä»˜å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»ŸLambdaå†™æ³•
PaymentFactory <span class="hljs-attr">factory</span> = orderId -&gt; new Payment(orderId, <span class="hljs-string">"pending"</span>)<span class="hljs-comment">;</span>
Payment <span class="hljs-attr">payment</span> = factory.create(<span class="hljs-string">"PAY-001"</span>)<span class="hljs-comment">;</span>

// æ„é€ å™¨å¼•ç”¨å†™æ³•
PaymentFactory <span class="hljs-attr">factory</span> = Payment::new<span class="hljs-comment">;</span>
Payment <span class="hljs-attr">payment</span> = factory.create(<span class="hljs-string">"PAY-001"</span>)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p>
<ul>
<li>ä»£ç æ›´ç®€æ´</li>
<li>é¿å…äº†é‡å¤çš„<code>new</code>æ“ä½œ</li>
<li>ä¸å·¥å‚æ¨¡å¼å®Œç¾ç»“åˆ</li>
</ul>
<hr/>
<h3 data-id="heading-10">ä¸‰ã€Lambdaä¸Stream APIçš„æ·±åº¦ç»“åˆ</h3>
<p>Lambdaè¡¨è¾¾å¼ä¸Stream APIæ˜¯JDK8çš„"é»„é‡‘ç»„åˆ"ï¼Œèƒ½å¤§å¹…æå‡é›†åˆæ“ä½œçš„å¼€å‘æ•ˆç‡ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ª<strong>çœŸå®ç”µå•†ç³»ç»Ÿ</strong>çš„æ¡ˆä¾‹ï¼š</p>
<h4 data-id="heading-11">3.1 ä»"ä¼ ç»Ÿå†™æ³•"åˆ°"Lambda + Stream"</h4>
<p><strong>ä¼ ç»Ÿå†™æ³•ï¼ˆå†—é•¿ã€å¯è¯»æ€§å·®ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»Ÿå†™æ³•ï¼šè¿‡æ»¤ä»·æ ¼&gt;100ä¸”åº“å­˜&gt;0çš„å•†å“
List&lt;Product&gt; <span class="hljs-attr">products</span> = productRepository.findAll()<span class="hljs-comment">;</span>
List&lt;Product&gt; <span class="hljs-attr">filtered</span> = new ArrayList&lt;&gt;()<span class="hljs-comment">;</span>
for (Product p : products) {
    if (p.getPrice() &gt; 100 &amp;&amp; p.getStock() &gt; 0) {
        filtered.add(p)<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p><strong>Lambda + Streamå†™æ³•ï¼ˆç®€æ´ã€å¯è¯»æ€§å¼ºï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-css" lang="css">List&lt;Product&gt; filtered = products<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getPrice</span>() &gt; <span class="hljs-number">100</span>)
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>)
    <span class="hljs-selector-class">.collect</span>(Collectors<span class="hljs-selector-class">.toList</span>());
</code></pre>
<h4 data-id="heading-12">3.2 æ›´å¤æ‚çš„ä¸šåŠ¡åœºæ™¯</h4>
<p><strong>åœºæ™¯</strong>ï¼šè·å–ä»·æ ¼&gt;100ä¸”åº“å­˜&gt;0çš„å•†å“ï¼Œå¹¶æŒ‰ä»·æ ¼æ’åºï¼Œæœ€ååªå–å‰10ä¸ªã€‚</p>
<pre><code class="hljs language-css" lang="css">List&lt;Product&gt; topProducts = products<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getPrice</span>() &gt; <span class="hljs-number">100</span>)
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>)
    <span class="hljs-selector-class">.sorted</span>(Comparator<span class="hljs-selector-class">.comparingDouble</span>(Product::getPrice).<span class="hljs-built_in">reversed</span>())
    .<span class="hljs-built_in">limit</span>(<span class="hljs-number">10</span>)
    .<span class="hljs-built_in">collect</span>(Collectors.<span class="hljs-built_in">toList</span>());
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Ÿ</strong></p>
<ul>
<li><code>filter</code>ï¼šè¿‡æ»¤æ¡ä»¶</li>
<li><code>sorted</code>ï¼šæ’åºï¼ˆ<code>Comparator.comparingDouble</code>æ˜¯Lambdaè¡¨è¾¾å¼ï¼‰</li>
<li><code>limit</code>ï¼šé™åˆ¶æ•°é‡</li>
<li><code>collect</code>ï¼šæ”¶é›†ç»“æœ</li>
</ul>
<p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼š<br/>
åœ¨10ä¸‡æ¡æ•°æ®çš„æµ‹è¯•ä¸­ï¼ŒLambda + Streamçš„æ‰§è¡Œæ—¶é—´æ¯”ä¼ ç»Ÿå¾ªç¯å¿«<strong>2.3å€</strong>ï¼Œå†…å­˜ä½¿ç”¨å‡å°‘<strong>40%</strong> ã€‚</p>
<hr/>
<h3 data-id="heading-13">å››ã€å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-14">4.1 å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ</h4>



































<table><thead><tr><th>é”™è¯¯</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>Lambda expression is not allowed here</code></td><td>è¯•å›¾åœ¨éå‡½æ•°å¼æ¥å£ä¸Šä½¿ç”¨Lambda</td><td>ç¡®è®¤æ¥å£æ˜¯å¦ä¸ºå‡½æ•°å¼æ¥å£</td></tr><tr><td><code>Cannot use method reference to non-static method</code></td><td>è¯•å›¾åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨å®ä¾‹æ–¹æ³•å¼•ç”¨</td><td>ä½¿ç”¨<code>å¯¹è±¡å::å®ä¾‹æ–¹æ³•</code></td></tr><tr><td><code>Ambiguous method reference</code></td><td>æ–¹æ³•é‡è½½å¯¼è‡´æ­§ä¹‰</td><td>æ˜¾å¼æŒ‡å®šç±»å‹</td></tr><tr><td><code>NullPointerException</code></td><td>Lambdaä¸­è®¿é—®äº†nullå¯¹è±¡</td><td>æ·»åŠ ç©ºå€¼æ£€æŸ¥</td></tr><tr><td><code>Lambda expression is too complex</code></td><td>Lambdaä¸­åŒ…å«è¿‡å¤šé€»è¾‘</td><td>æå–æ–¹æ³•</td></tr></tbody></table>
<h4 data-id="heading-15">4.2 æœ€ä½³å®è·µ</h4>
<ol>
<li>
<p><strong>ä¼˜å…ˆä½¿ç”¨æ–¹æ³•å¼•ç”¨</strong>ï¼šå½“Lambdaè¡¨è¾¾å¼ä»…è°ƒç”¨ä¸€ä¸ªå·²å­˜åœ¨æ–¹æ³•æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨æ–¹æ³•å¼•ç”¨ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨</span>
list.forEach(System.<span class="hljs-keyword">out</span>::println);

<span class="hljs-comment">// é¿å…</span>
list.forEach(e -&gt; System.<span class="hljs-keyword">out</span>.println(e));
</code></pre>
</li>
<li>
<p><strong>ä¿æŒLambdaè¡¨è¾¾å¼ç®€æ´</strong>ï¼šLambdaè¡¨è¾¾å¼åº”åªåŒ…å«å¿…è¦é€»è¾‘ï¼Œé¿å…å¤æ‚è®¡ç®—ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼˜å…ˆä½¿ç”¨
.filter(p -&gt; p.getPrice() &gt; 100)

// é¿å…
.filter(p -&gt; {
    double <span class="hljs-attr">price</span> = p.getPrice()<span class="hljs-comment">;</span>
    return price &gt; 100 &amp;&amp; price &lt; 500<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p><strong>ä¸è¦è¿‡åº¦ä½¿ç”¨</strong>ï¼šä¸æ˜¯æ‰€æœ‰åŒ¿åå†…éƒ¨ç±»éƒ½èƒ½ç”¨Lambdaæ›¿ä»£ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å¯ä»¥ç”¨Lambda</span>
btn<span class="hljs-selector-class">.addActionListener</span>(e -&gt; System.out.println("ç‚¹å‡»"));

<span class="hljs-comment">// ä¸é€‚åˆç”¨Lambdaï¼ˆéœ€è¦å¤æ‚é€»è¾‘ï¼‰</span>
btn<span class="hljs-selector-class">.addActionListener</span>(new ActionListener() {
    <span class="hljs-keyword">@Override</span>
    public void actionPerformed(ActionEvent e) {
        if (user.isLoggedIn()) {
            <span class="hljs-built_in">showOrder</span>();
        } else {
            <span class="hljs-built_in">login</span>();
        }
    }
});
</code></pre>
</li>
<li>
<p><strong>å–„ç”¨Streamçš„å¹¶è¡Œæµ</strong>ï¼šåœ¨å¤§æ•°æ®é‡åœºæ™¯ä¸‹ï¼Œä½¿ç”¨<code>parallelStream()</code>æå‡æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä¼ ç»Ÿå†™æ³•</span>
List&lt;String&gt; results = list<span class="hljs-selector-class">.stream</span>()<span class="hljs-selector-class">.map</span>(...)<span class="hljs-selector-class">.collect</span>(Collectors.toList());

<span class="hljs-comment">// å¹¶è¡Œæµå†™æ³•ï¼ˆé€‚åˆå¤§æ•°æ®é‡ï¼‰</span>
List&lt;String&gt; results = list<span class="hljs-selector-class">.parallelStream</span>()<span class="hljs-selector-class">.map</span>(...)<span class="hljs-selector-class">.collect</span>(Collectors.toList());
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-16">äº”ã€Lambdaçš„æ€§èƒ½ä¸åŸç†ï¼ˆæ·±åº¦è§£æï¼‰</h3>
<h4 data-id="heading-17">5.1 Lambdaçš„æ€§èƒ½å½±å“</h4>
<p><strong>æµ‹è¯•æ•°æ®</strong>ï¼ˆ10ä¸‡æ¡æ•°æ®ï¼‰ï¼š</p>





























<table><thead><tr><th>æ“ä½œ</th><th>ä¼ ç»Ÿå†™æ³•(ms)</th><th>Lambdaå†™æ³•(ms)</th><th>æ€§èƒ½æå‡</th></tr></thead><tbody><tr><td>è¿‡æ»¤</td><td>125</td><td>98</td><td>21.6%</td></tr><tr><td>æ’åº</td><td>210</td><td>185</td><td>11.9%</td></tr><tr><td>æ˜ å°„</td><td>85</td><td>72</td><td>15.3%</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šLambdaåœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹æ€§èƒ½ç•¥ä¼˜äºä¼ ç»Ÿå†™æ³•ï¼Œä¸»è¦æ˜¯å› ä¸ºJVMå¯¹Lambdaçš„ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-18">5.2 Lambdaçš„å·¥ä½œåŸç†</h4>
<p>Lambdaè¡¨è¾¾å¼åœ¨ç¼–è¯‘æ—¶ä¼šè¢«è½¬æ¢ä¸º<strong>invokedynamicæŒ‡ä»¤</strong>ï¼Œåœ¨è¿è¡Œæ—¶ç”±JVMåŠ¨æ€ç”Ÿæˆç±»ã€‚å…·ä½“è¿‡ç¨‹ï¼š</p>
<ol>
<li>ç¼–è¯‘å™¨å°†Lambdaè¡¨è¾¾å¼è½¬æ¢ä¸º<code>LambdaMetafactory</code>çš„è°ƒç”¨</li>
<li>JVMåœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä¸€ä¸ªå®ç°å‡½æ•°å¼æ¥å£çš„ç±»</li>
<li>ç”Ÿæˆçš„ç±»è¢«ç¼“å­˜ï¼Œé¿å…é‡å¤ç”Ÿæˆ</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<ul>
<li>é¿å…ä¸ºæ¯ä¸ªLambdaç”Ÿæˆæ–°ç±»ï¼ŒèŠ‚çœå†…å­˜</li>
<li>æé«˜æ‰§è¡Œæ•ˆç‡</li>
<li>æ”¯æŒJDKçš„åç»­ä¼˜åŒ–</li>
</ul>
<hr/>
<h3 data-id="heading-19">å…­ã€å®æˆ˜é¡¹ç›®ç»éªŒåˆ†äº«</h3>
<h4 data-id="heading-20">6.1 ç”µå•†ç³»ç»Ÿé‡æ„æ¡ˆä¾‹</h4>
<p><strong>èƒŒæ™¯</strong>ï¼šæŸç”µå•†å¹³å°éœ€è¦é‡æ„å•†å“æŸ¥è¯¢æ¨¡å—ï¼ŒåŸä»£ç ä½¿ç”¨å¤§é‡åŒ¿åå†…éƒ¨ç±»ã€‚</p>
<p><strong>é‡æ„å‰</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">List&lt;Product&gt; products = productRepository<span class="hljs-selector-class">.findAll</span>();
List&lt;Product&gt; filtered = new ArrayList&lt;&gt;();
for (Product p : products) {
    if (p.getPrice() &gt; <span class="hljs-number">100</span> &amp;&amp; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>) {
        filtered<span class="hljs-selector-class">.add</span>(p);
    }
}
Collections<span class="hljs-selector-class">.sort</span>(filtered, new Comparator&lt;Product&gt;() {
    <span class="hljs-keyword">@Override</span>
    public int compare(Product o1, Product o2) {
        return o1<span class="hljs-selector-class">.getPrice</span>() - o2<span class="hljs-selector-class">.getPrice</span>();
    }
});
</code></pre>
<p><strong>é‡æ„å</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">List&lt;Product&gt; filtered = productRepository<span class="hljs-selector-class">.findAll</span>()<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getPrice</span>() &gt; <span class="hljs-number">100</span> &amp;&amp; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>)
    <span class="hljs-selector-class">.sorted</span>(Comparator<span class="hljs-selector-class">.comparingDouble</span>(Product::getPrice))
    .<span class="hljs-built_in">collect</span>(Collectors.<span class="hljs-built_in">toList</span>());
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>ä»£ç é‡å‡å°‘50%</li>
<li>å¯è¯»æ€§æå‡ï¼Œæ–°æˆå‘˜ç†è§£æ—¶é—´å‡å°‘60%</li>
<li>æ€§èƒ½æå‡15%</li>
<li>ç»´æŠ¤æˆæœ¬é™ä½</li>
</ul>
<h3 data-id="heading-21">ä¸ƒã€æ€»ç»“ä¸è¡ŒåŠ¨å»ºè®®</h3>
<h4 data-id="heading-22">7.1 æ ¸å¿ƒä»·å€¼</h4>
<p>JDK8çš„Lambdaè¡¨è¾¾å¼å’Œæ–¹æ³•å¼•ç”¨ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†åŒ¿åå†…éƒ¨ç±»ä»£ç å†—ä½™çš„é—®é¢˜ï¼š</p>
<ul>
<li><strong>Lambda</strong>ä¸“æ³¨äºç®€åŒ–å‡½æ•°å¼æ¥å£çš„åŒ¿åå®ç°ï¼Œé€šè¿‡çœç•¥è§„åˆ™å®ç°æè‡´ç²¾ç®€</li>
<li><strong>æ–¹æ³•å¼•ç”¨</strong>æ˜¯Lambdaçš„"è¿›é˜¶å½¢æ€"ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹è®©ä»£ç æ›´å…·å¯è¯»æ€§å’Œä¼˜é›…æ€§</li>
<li><strong>ä¸Stream APIç»“åˆ</strong>ï¼Œèƒ½å¤§å¹…æå‡é›†åˆæ“ä½œçš„å¼€å‘æ•ˆç‡</li>
</ul>
<h4 data-id="heading-23">7.2 è¡ŒåŠ¨å»ºè®®</h4>
<ol>
<li>
<p><strong>ä»ç®€å•åœºæ™¯å¼€å§‹</strong>ï¼šå…ˆæ›¿æ¢<code>Comparator</code>å’Œ<code>Runnable</code>ç­‰å¸¸è§åœºæ™¯</p>
<pre><code class="hljs language-css" lang="css">// æ›¿æ¢Comparator
Arrays<span class="hljs-selector-class">.sort</span>(arr, (<span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span>) -&gt; <span class="hljs-selector-tag">a</span> - <span class="hljs-selector-tag">b</span>);
</code></pre>
</li>
<li>
<p><strong>é€æ­¥è¿ç§»</strong>ï¼šä¸è¦ä¸€æ¬¡æ€§é‡æ„æ‰€æœ‰ä»£ç ï¼Œå…ˆä»æ–°åŠŸèƒ½å¼€å§‹</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ–°åŠŸèƒ½ä½¿ç”¨Lambda</span>
List&lt;String&gt; names = users<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.map</span>(User::getName)
    <span class="hljs-selector-class">.collect</span>(Collectors.toList());
</code></pre>
</li>
<li>
<p><strong>å›¢é˜ŸåŸ¹è®­</strong>ï¼šç»„ç»‡å†…éƒ¨åˆ†äº«ä¼šï¼Œæ¨å¹¿Lambdaæœ€ä½³å®è·µ</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿ</span>
<span class="hljs-deletion">- Lambdaçš„çœç•¥è§„åˆ™</span>
<span class="hljs-deletion">- æ–¹æ³•å¼•ç”¨çš„4ç§ç±»å‹</span>
<span class="hljs-deletion">- ä¸Stream APIçš„ç»“åˆ</span>
</code></pre>
</li>
<li>
<p><strong>ä»£ç å®¡æŸ¥</strong>ï¼šåœ¨ä»£ç å®¡æŸ¥ä¸­ï¼Œé‡ç‚¹å…³æ³¨Lambdaçš„ä½¿ç”¨æ˜¯å¦åˆç†</p>
</li>
</ol>
<h4 data-id="heading-24">7.3 æœ€åçš„è¯</h4>
<p>Lambdaè¡¨è¾¾å¼ä¸æ˜¯ä¸ºäº†ç‚«æŠ€ï¼Œè€Œæ˜¯ä¸ºäº†å†™å‡º<strong>æ›´ç®€æ´ã€æ›´æ˜“è¯»ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç </strong>ã€‚åœ¨é˜¿é‡Œå·´å·´çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å‘ç°ä½¿ç”¨Lambdaåï¼Œä»£ç é‡å¹³å‡å‡å°‘äº†<strong>30%</strong> ï¼Œå¯è¯»æ€§å¤§å¹…æå‡ï¼Œæ–°äººä¸Šæ‰‹æ—¶é—´ç¼©çŸ­äº†<strong>50%</strong> ã€‚</p>
<blockquote>
<p><strong>è®°ä½</strong>ï¼šå‡½æ•°å¼ç¼–ç¨‹çš„ç²¾é«“ä¸æ˜¯"ç”¨Lambdaä»£æ›¿åŒ¿åå†…éƒ¨ç±»"ï¼Œè€Œæ˜¯"ç”¨å‡½æ•°å¼æ€ç»´é‡æ„ä»£ç "ã€‚</p>
</blockquote>
<hr/>
<p><strong>ç«‹å³è¡ŒåŠ¨</strong>ï¼š</p>
<ol>
<li>åœ¨ä½ çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œå°è¯•ç”¨Lambdaæ›¿æ¢ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»</li>
<li>åœ¨ä»£ç å®¡æŸ¥ä¸­ï¼Œå…³æ³¨Lambdaçš„ä½¿ç”¨æ˜¯å¦åˆç†</li>
<li>åˆ†äº«ä½ çš„Lambdaä½¿ç”¨ç»éªŒï¼Œå¸®åŠ©æ›´å¤šå¼€å‘è€…</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python æ¸©åº¦æ•°æ®å¤„ç†ä¸å¯è§†åŒ–å…¨æµç¨‹ï¼šä»è¯»å–åˆ°ä¿å­˜1.2]]></title>    <link>https://juejin.cn/post/7580184249908985898</link>    <guid>https://juejin.cn/post/7580184249908985898</guid>    <pubDate>2025-12-05T14:17:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908985898" data-draft-id="7580208715274977322" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python æ¸©åº¦æ•°æ®å¤„ç†ä¸å¯è§†åŒ–å…¨æµç¨‹ï¼šä»è¯»å–åˆ°ä¿å­˜1.2"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-05T14:17:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ±å¼€èŠ±å¯Œè´µ"/> <meta itemprop="url" content="https://juejin.cn/user/3220933005549171"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python æ¸©åº¦æ•°æ®å¤„ç†ä¸å¯è§†åŒ–å…¨æµç¨‹ï¼šä»è¯»å–åˆ°ä¿å­˜1.2
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3220933005549171/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ±å¼€èŠ±å¯Œè´µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:17:03.000Z" title="Fri Dec 05 2025 14:17:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">4. æ•°æ®å¯è§†åŒ–</h2>
<p>ä½¿ç”¨ matplotlib ç»˜åˆ¶æ¸©åº¦æ›²çº¿ï¼š</p>
<ul>
<li>ç”Ÿæˆæ—¶é—´åºåˆ—ä½œä¸º x è½´</li>
<li>åŒæ—¶ç»˜åˆ¶æ›²çº¿å’Œæ•£ç‚¹ï¼ˆçº¢è‰²å¿ƒå½¢æ ‡è®°ï¼‰</li>
<li>æ·»åŠ æ ‡é¢˜å’Œåæ ‡è½´æ ‡ç­¾ä½¿å›¾åƒæ›´æ¸…æ™°</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">## 4. å¯è§†åŒ–æ¸©åº¦æ›²çº¿</span>
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
t = np.arange(<span class="hljs-built_in">len</span>(temperature))  <span class="hljs-comment"># ç”Ÿæˆæ—¶é—´åºåˆ—</span>
plt.plot(t, temperature)  <span class="hljs-comment"># ç»˜åˆ¶æ›²çº¿</span>
plt.plot(t, temperature, <span class="hljs-string">'pr'</span>)  <span class="hljs-comment"># ç»˜åˆ¶çº¢è‰²å¿ƒå½¢ç‚¹</span>
plt.title(<span class="hljs-string">'Temperature Variation Curve'</span>)  <span class="hljs-comment"># æ ‡é¢˜</span>
plt.xlabel(<span class="hljs-string">'Time'</span>)  <span class="hljs-comment"># xè½´æ ‡ç­¾</span>
plt.ylabel(<span class="hljs-string">'Temperature (Â°C)'</span>)  <span class="hljs-comment"># yè½´æ ‡ç­¾</span>
plt.show()  <span class="hljs-comment"># æ˜¾ç¤ºå›¾åƒ</span>
</code></pre>
<h2 data-id="heading-1">5. å°†å¤„ç†åçš„æ¸©åº¦æ•°æ®ä¿å­˜ä¸ºæ–°çš„ CSV æ–‡ä»¶ï¼Œä¿ç•™ä¸¤ä½å°æ•°</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 5. ç»“æœå†™å…¥æ–‡ä»¶</span>
np.savetxt(
    <span class="hljs-string">"ug_temperature.csv"</span>,
    temperature,
    fmt=<span class="hljs-string">"%.2f"</span>,  <span class="hljs-comment"># ä¿ç•™ä¸¤ä½å°æ•°</span>
    delimiter=<span class="hljs-string">","</span>,
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler 25.09 ç³»ç»Ÿçº§å¼€å‘ç¯å¢ƒé…ç½®ä¸å®è·µï¼ˆGCC + GDB + SDKï¼‰]]></title>    <link>https://juejin.cn/post/7580263284336427049</link>    <guid>https://juejin.cn/post/7580263284336427049</guid>    <pubDate>2025-12-05T15:41:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580263284336427049" data-draft-id="7580208715274387498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler 25.09 ç³»ç»Ÿçº§å¼€å‘ç¯å¢ƒé…ç½®ä¸å®è·µï¼ˆGCC + GDB + SDKï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T15:41:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯åº—å°äºŒå‘€"/> <meta itemprop="url" content="https://juejin.cn/user/4132386718619243"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler 25.09 ç³»ç»Ÿçº§å¼€å‘ç¯å¢ƒé…ç½®ä¸å®è·µï¼ˆGCC + GDB + SDKï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4132386718619243/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯åº—å°äºŒå‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:41:20.000Z" title="Fri Dec 05 2025 15:41:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ•™ç¨‹ä¸“é—¨é€‚é… <strong>openEuler 25.09</strong> ç‰ˆæœ¬ï¼Œæ‰€æœ‰å‘½ä»¤éƒ½ç»è¿‡éªŒè¯ï¼Œå¯ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>å‰è¨€</p>
<p>åœ¨ Linux ç³»ç»Ÿä¸Šæ­å»ºå¼€å‘ç¯å¢ƒå¾€å¾€è®©åˆå­¦è€…æ„Ÿåˆ°å›°æƒ‘ï¼šè½¯ä»¶æºé…ç½®é”™è¯¯ã€ä¾èµ–åº“ç¼ºå¤±ã€ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒ¹é…â€¦â€¦è¿™äº›é—®é¢˜éƒ½ä¼šé˜»ç¢å¼€å‘è¿›ç¨‹ã€‚openEuler 25.09 ä½œä¸ºä¼ä¸šçº§ Linux å‘è¡Œç‰ˆï¼Œè™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å…¶ç‹¬ç‰¹çš„è½¯ä»¶åŒ…ç®¡ç†ä½“ç³»éœ€è¦ä¸“é—¨çš„é…ç½®æ–¹æ³•ã€‚</p>
<p>æœ¬æ•™ç¨‹æ˜¯ä¸€ä»½ç»è¿‡å®æˆ˜éªŒè¯çš„å®Œæ•´é…ç½®æ‰‹å†Œï¼Œ<strong>ä»ç¬¬ä¸€æ­¥é…ç½®è½¯ä»¶æºå¼€å§‹ï¼Œåˆ°æœ€åéªŒè¯å¼€å‘ç¯å¢ƒï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æä¾›äº†å¯ç›´æ¥è¿è¡Œçš„å‘½ä»¤å’Œè¯¦ç»†çš„è¯´æ˜ã€‚æ‚¨ä¸éœ€è¦å››å¤„æœç´¢èµ„æ–™ï¼Œåªéœ€æŒ‰ç…§æœ¬æ•™ç¨‹é€æ­¥æ“ä½œï¼Œå³å¯åœ¨ 30 åˆ†é’Ÿå†…æ­å»ºèµ·åŒ…å« GCCã€GDBã€å¸¸ç”¨å¼€å‘åº“çš„å®Œæ•´å¼€å‘ç¯å¢ƒï¼Œç«‹å³å¼€å§‹æ‚¨çš„ç¼–ç¨‹å·¥ä½œã€‚</strong></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é…ç½®è½¯ä»¶æº</h2>
<h3 data-id="heading-1">1.1 å¤‡ä»½åŸå§‹é…ç½®</h3>
<p>é¦–å…ˆå¤‡ä»½ç³»ç»ŸåŸæœ‰çš„è½¯ä»¶æºé…ç½®ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¤‡ä»½åŸå§‹æºé…ç½®æ–‡ä»¶</span>
sudo <span class="hljs-built_in">cp</span> /etc/yum.repos.d/openEuler.repo /etc/yum.repos.d/openEuler.repo.backup

<span class="hljs-comment"># ç¡®è®¤å½“å‰ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="hljs-built_in">cat</span> /etc/os-release
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cccb3081b2a4d08b4b0bfe427938dd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=QpYQHg7oeFMQQQ4lXHueuZym6uI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">1.2 é…ç½®å®˜æ–¹é•œåƒæº</h3>
<p>ä¸ºäº†åŠ é€Ÿè½¯ä»¶åŒ…ä¸‹è½½ï¼Œé…ç½®é•œåƒæºï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">sudo <span class="hljs-built_in">tee</span> /etc/yum.repos.d/openEuler.repo &gt; /dev/null &lt;&lt; <span class="hljs-string">'EOF'</span>
[OS]
name=openEuler-25.09-OS
baseurl=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler

[everything]
name=openEuler-25.09-Everything
baseurl=https://repo.openeuler.org/openEuler-25.09/everything/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler

[EPOL]
name=openEuler-25.09-EPOL
baseurl=https://repo.openeuler.org/openEuler-25.09/EPOL/main/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler

[update]
name=openEuler-25.09-Update
baseurl=https://repo.openeuler.org/openEuler-25.09/update/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler
EOF

<span class="hljs-comment"># æ¸…ç†ç¼“å­˜å¹¶æ›´æ–°è½¯ä»¶æº</span>
sudo dnf clean all
sudo dnf makecache

<span class="hljs-comment"># éªŒè¯è½¯ä»¶æºé…ç½®æˆåŠŸ</span>
sudo dnf repolist
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7821d6c17ec463cb0aafe6595ed2ae8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=PNX1wuVSOWz2dQoCu3oeHeiFCPI%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœè¿™ä¸€æ­¥ä¸è¡Œ ä½ è‡ªè¡Œæ‰¾ç¬¦åˆè‡ªå·±æ“ä½œç³»ç»Ÿçš„ æºï¼ï¼ï¼</p>
<hr/>
<h2 data-id="heading-3">äºŒã€å®‰è£… GCC ç¼–è¯‘å™¨</h2>
<h3 data-id="heading-4">2.1 å®‰è£… GCC å·¥å…·é“¾</h3>
<p>openEuler 25.09 è‡ªå¸¦è¾ƒæ–°ç‰ˆæœ¬çš„ GCCï¼ˆé¢„è®¡ GCC 12 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£… GCC æ ¸å¿ƒç¼–è¯‘å™¨</span>
sudo dnf install -y gcc gcc-c++

<span class="hljs-comment"># å®‰è£…ç¼–è¯‘å¿…å¤‡å·¥å…·</span>
sudo dnf install -y make automake autoconf libtool

<span class="hljs-comment"># å®‰è£…ç³»ç»Ÿå¼€å‘åº“</span>
sudo dnf install -y glibc-devel kernel-headers kernel-devel

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
gcc --version
g++ --version
make --version
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c012e233c23c4cc28143f7593bcac0bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=aLFRhwe7aKPclod3lYxD0MAmCRo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">2.2 æµ‹è¯• GCC ç¼–è¯‘å™¨</h3>
<p>åˆ›å»ºæµ‹è¯•ç¨‹åºéªŒè¯ç¼–è¯‘å™¨ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºå·¥ä½œç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p ~/openeuler-dev
<span class="hljs-built_in">cd</span> ~/openeuler-dev

<span class="hljs-comment"># åˆ›å»º C è¯­è¨€æµ‹è¯•ç¨‹åº</span>
<span class="hljs-built_in">cat</span> &gt; hello.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"===================================\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"  æ¬¢è¿ä½¿ç”¨ openEuler 25.09ï¼\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"===================================\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"GCC ç‰ˆæœ¬: %d.%d.%d\n"</span>, __GNUC__, __GNUC_MINOR__, __GNUC_PATCHLEVEL__);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ç¼–è¯‘æ—¶é—´: %s %s\n"</span>, __DATE__, __TIME__);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ç³»ç»Ÿæ¶æ„: %s\n"</span>, 
<span class="hljs-comment">#ifdef __x86_64__</span>
        <span class="hljs-string">"x86_64"</span>
<span class="hljs-comment">#elif __aarch64__</span>
        <span class="hljs-string">"ARM64"</span>
<span class="hljs-comment">#else</span>
        <span class="hljs-string">"æœªçŸ¥"</span>
<span class="hljs-comment">#endif</span>
    );
    <span class="hljs-built_in">return</span> 0;
}
EOF

<span class="hljs-comment"># ç¼–è¯‘ C ç¨‹åº</span>
gcc -o hello hello.c -Wall

<span class="hljs-comment"># è¿è¡Œç¨‹åº</span>
./hello
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/639fc67de77b48efbe656a96102a1fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=TrZDzCbmVABlGK%2BjYVK%2FCmdeXLA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯• C++ ç¼–è¯‘å™¨</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»º C++ æµ‹è¯•ç¨‹åºï¼ˆä½¿ç”¨ C++20 ç‰¹æ€§ï¼‰</span>
<span class="hljs-built_in">cat</span> &gt; hello.cpp &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;iostream&gt;</span>
<span class="hljs-comment">#include &lt;vector&gt;</span>
<span class="hljs-comment">#include &lt;algorithm&gt;</span>
<span class="hljs-comment">#include &lt;ranges&gt;</span>

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    std::vector&lt;int&gt; numbers = {5, 2, 8, 1, 9, 3, 7, 4, 6};
    
    std::cout &lt;&lt; <span class="hljs-string">"åŸå§‹æ•°ç»„: "</span>;
    <span class="hljs-keyword">for</span>(auto n : numbers) std::cout &lt;&lt; <span class="hljs-string">n &lt;&lt; " ";
    std::cout &lt;&lt; std::endl;
    
    // ä½¿ç”¨ C++20 ranges æ’åº
    std::ranges::sort(numbers);
    
    std::cout &lt;&lt; "æ’åºå:   ";
    for(auto n</span> : numbers) std::cout &lt;&lt; <span class="hljs-string">n &lt;&lt; " ";
    std::cout &lt;&lt; std::endl;
    
    std::cout &lt;&lt; "\n</span>âœ… C++ ç¼–è¯‘å™¨æµ‹è¯•æˆåŠŸï¼<span class="hljs-string">" &lt;&lt; std::endl;
    std::cout &lt;&lt; "</span>C++ æ ‡å‡†: <span class="hljs-string">" &lt;&lt; __cplusplus &lt;&lt; std::endl;
    return 0;
}
EOF

# ç¼–è¯‘ C++ ç¨‹åºï¼ˆä½¿ç”¨ C++20 æ ‡å‡†ï¼‰
g++ -o hello_cpp hello.cpp -std=c++20 -Wall

# è¿è¡Œç¨‹åº
./hello_cpp
</span></code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b6e78cf394e4e7f9cf397cf19cc3c85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=JsGzXkvRtfUnIBWy39eE%2FU7SFEI%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€å®‰è£…è°ƒè¯•å·¥å…· GDB</h2>
<h3 data-id="heading-7">3.1 å®‰è£… GDB è°ƒè¯•å™¨</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£… GDB è°ƒè¯•å™¨</span>
sudo dnf install -y gdb

<span class="hljs-comment"># å®‰è£…è¾…åŠ©è°ƒè¯•å·¥å…·</span>
sudo dnf install -y strace ltrace

<span class="hljs-comment"># å®‰è£…æ€§èƒ½åˆ†æå·¥å…·</span>
sudo dnf install -y valgrind

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
gdb --version
strace --version
valgrind --version
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22d11b2647e2422db1d129d5f5ab273d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=cCNC0JMTCUeXfp62kxmjzxSI048%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">3.2 GDB è°ƒè¯•å®æˆ˜</h3>
<p>åˆ›å»ºè°ƒè¯•æµ‹è¯•ç¨‹åºï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºè°ƒè¯•æµ‹è¯•ç¨‹åº</span>
<span class="hljs-built_in">cat</span> &gt; debug_test.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>

// è®¡ç®—é˜¶ä¹˜
int factorial(int n) {
    <span class="hljs-keyword">if</span> (n &lt;= 1) <span class="hljs-built_in">return</span> 1;
    <span class="hljs-built_in">return</span> n * factorial(n - 1);
}

// æ•°ç»„æ±‚å’Œ
int sum_array(int arr[], int size) {
    int <span class="hljs-built_in">sum</span> = 0;
    <span class="hljs-keyword">for</span> (int i = 0; i &lt; size; i++) {
        <span class="hljs-built_in">sum</span> += arr[i];
    }
    <span class="hljs-built_in">return</span> <span class="hljs-built_in">sum</span>;
}

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"=== GDB è°ƒè¯•æ¼”ç¤ºç¨‹åº ===\n\n"</span>);
    
    // æµ‹è¯•é˜¶ä¹˜å‡½æ•°
    int num = 5;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è®¡ç®— %d çš„é˜¶ä¹˜\n"</span>, num);
    int result = factorial(num);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ç»“æœ: %d! = %d\n\n"</span>, num, result);
    
    // æµ‹è¯•æ•°ç»„æ±‚å’Œ
    int numbers[] = {10, 20, 30, 40, 50};
    int total = sum_array(numbers, 5);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"æ•°ç»„æ±‚å’Œ: %d\n"</span>, total);
    
    <span class="hljs-built_in">return</span> 0;
}
EOF

<span class="hljs-comment"># ç¼–è¯‘æ—¶åŠ ä¸Š -g é€‰é¡¹ç”Ÿæˆè°ƒè¯•ä¿¡æ¯</span>
gcc -g -o debug_test debug_test.c -Wall

<span class="hljs-comment"># å…ˆæ­£å¸¸è¿è¡Œ</span>
./debug_test
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c528b6a57a0347cba83deb46a550200c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=suKrfhRKelFX0mAYlr4DFcTRZAw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>GDB è°ƒè¯•å‘½ä»¤é€ŸæŸ¥</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¯åŠ¨ GDB</span>
gdb ./debug_test

<span class="hljs-comment"># åœ¨ GDB ä¸­å¸¸ç”¨å‘½ä»¤ï¼š</span>
(gdb) list                    <span class="hljs-comment"># æŸ¥çœ‹æºä»£ç </span>
(gdb) <span class="hljs-built_in">break</span> main              <span class="hljs-comment"># åœ¨ main å‡½æ•°è®¾ç½®æ–­ç‚¹</span>
(gdb) <span class="hljs-built_in">break</span> 18                <span class="hljs-comment"># åœ¨ç¬¬ 18 è¡Œè®¾ç½®æ–­ç‚¹</span>
(gdb) info breakpoints        <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹</span>
(gdb) run                     <span class="hljs-comment"># è¿è¡Œç¨‹åº</span>
(gdb) next                    <span class="hljs-comment"># å•æ­¥æ‰§è¡Œï¼ˆä¸è¿›å…¥å‡½æ•°ï¼‰</span>
(gdb) step                    <span class="hljs-comment"># å•æ­¥æ‰§è¡Œï¼ˆè¿›å…¥å‡½æ•°ï¼‰</span>
(gdb) <span class="hljs-built_in">print</span> num               <span class="hljs-comment"># æ‰“å°å˜é‡å€¼</span>
(gdb) info locals             <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å±€éƒ¨å˜é‡</span>
(gdb) backtrace               <span class="hljs-comment"># æŸ¥çœ‹è°ƒç”¨æ ˆ</span>
(gdb) <span class="hljs-built_in">continue</span>                <span class="hljs-comment"># ç»§ç»­æ‰§è¡Œ</span>
(gdb) quit                    <span class="hljs-comment"># é€€å‡º</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">å››ã€å®‰è£…å¼€å‘åº“ï¼ˆSDKï¼‰</h2>
<h3 data-id="heading-10">4.1 å®‰è£…å¸¸ç”¨å¼€å‘åº“</h3>
<p>openEuler 25.09 æä¾›äº†ä¸°å¯Œçš„å¼€å‘åº“ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£…åŸºç¡€å¼€å‘åº“</span>
sudo dnf install -y zlib-devel bzip2-devel xz-devel

<span class="hljs-comment"># å®‰è£…ç½‘ç»œå¼€å‘åº“</span>
sudo dnf install -y openssl-devel libcurl-devel

<span class="hljs-comment"># å®‰è£…æ•°æ®åº“å¼€å‘åº“</span>
sudo dnf install -y sqlite-devel

<span class="hljs-comment"># å®‰è£… JSON å’Œ XML å¤„ç†åº“</span>
sudo dnf install -y json-c-devel libxml2-devel

<span class="hljs-comment"># å®‰è£…çº¿ç¨‹åº“</span>
sudo dnf install -y libuv-devel

<span class="hljs-comment"># æŸ¥çœ‹å·²å®‰è£…çš„å¼€å‘åº“</span>
rpm -qa | grep devel | <span class="hljs-built_in">sort</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e86fd2b3ca904e69a3ccdc717eef391d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=Aidi1uQT3JMdqkZA6%2FRz%2BLV3iWg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">4.2 æµ‹è¯•å¼€å‘åº“</h3>
<p><strong>æµ‹è¯• OpenSSL åº“</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">cat</span> &gt; ssl_test.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>
<span class="hljs-comment">#include &lt;string.h&gt;</span>
<span class="hljs-comment">#include &lt;openssl/md5.h&gt;</span>
<span class="hljs-comment">#include &lt;openssl/opensslv.h&gt;</span>

void print_md5(const char *str) {
    unsigned char digest[MD5_DIGEST_LENGTH];
    MD5((unsigned char*)str, strlen(str), digest);
    
    printf("å­—ç¬¦ä¸²: %s\n", str);
    printf("MD5 å€¼: ");
    for(int i = <span class="hljs-number">0</span>; i &lt; MD5_DIGEST_LENGTH; i++) {
        printf("%<span class="hljs-number">02</span>x", digest[i]);
    }
    printf("\n");
}

int main() {
    printf("=== OpenSSL å¼€å‘åº“æµ‹è¯• ===\n");
    printf("OpenSSL ç‰ˆæœ¬: %s\n\n", OPENSSL_VERSION_TEXT);
    
    print_md5("Hello openEuler <span class="hljs-number">25.09</span>!");
    
    printf("\nâœ… OpenSSL åº“æµ‹è¯•æˆåŠŸï¼\n");
    return <span class="hljs-number">0</span>;
}
EOF

# ç¼–è¯‘ï¼ˆé“¾æ¥ OpenSSL åº“ï¼‰
gcc -o ssl_test ssl_test.c -lssl -lcrypto -Wall

# è¿è¡Œ
./ssl_test
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3b98516edce4724921a4f13da5b7e1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=sZIOC7v6SCG85NXZCF8d8R6S8r4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯• SQLite æ•°æ®åº“</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">cat</span> &gt; sqlite_test.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>
<span class="hljs-comment">#include &lt;sqlite3.h&gt;</span>

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"=== SQLite æ•°æ®åº“æµ‹è¯• ===\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"SQLite ç‰ˆæœ¬: %s\n"</span>, sqlite3_libversion());
    
    sqlite3 *db;
    char *err_msg = 0;
    
    // åˆ›å»ºå†…å­˜æ•°æ®åº“
    int rc = sqlite3_open(<span class="hljs-string">":memory:"</span>, &amp;db);
    
    <span class="hljs-keyword">if</span>(rc == SQLITE_OK) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… SQLite æ•°æ®åº“åˆ›å»ºæˆåŠŸï¼\n"</span>);
        
        // åˆ›å»ºæµ‹è¯•è¡¨
        const char *sql = <span class="hljs-string">"CREATE TABLE test(id INT, name TEXT);"</span>;
        rc = sqlite3_exec(db, sql, 0, 0, &amp;err_msg);
        
        <span class="hljs-keyword">if</span>(rc == SQLITE_OK) {
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… æ•°æ®è¡¨åˆ›å»ºæˆåŠŸï¼\n"</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âŒ åˆ›å»ºè¡¨å¤±è´¥: %s\n"</span>, err_msg);
            sqlite3_free(err_msg);
        }
        
        sqlite3_close(db);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âŒ SQLite æ•°æ®åº“åˆ›å»ºå¤±è´¥ï¼\n"</span>);
        <span class="hljs-built_in">return</span> 1;
    }
    
    <span class="hljs-built_in">return</span> 0;
}
EOF

<span class="hljs-comment"># ç¼–è¯‘</span>
gcc -o sqlite_test sqlite_test.c -lsqlite3 -Wall

<span class="hljs-comment"># è¿è¡Œ</span>
./sqlite_test
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5fada6bebf947818f2fd46b18f5cdce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=YY7XAAcO2EjY%2BeR46nTJfdOxAJw%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-12">äº”ã€å®ç”¨å¼€å‘æŠ€å·§</h2>
<h3 data-id="heading-13">5.1 åˆ›å»ºå¿«é€Ÿç¼–è¯‘è„šæœ¬</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºç¼–è¯‘è„šæœ¬</span>
<span class="hljs-built_in">cat</span> &gt; ~/compile.sh &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-comment"># openEuler 25.09 å¿«é€Ÿç¼–è¯‘è„šæœ¬</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç”¨æ³•: ./compile.sh &lt;æºæ–‡ä»¶&gt; [ç¼–è¯‘é€‰é¡¹]"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¤ºä¾‹: ./compile.sh hello.c"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¤ºä¾‹: ./compile.sh hello.c -O3"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

SOURCE=<span class="hljs-variable">$1</span>
<span class="hljs-built_in">shift</span>
EXTRA_FLAGS=<span class="hljs-string">"<span class="hljs-variable">$@</span>"</span>

BASENAME=$(<span class="hljs-built_in">basename</span> <span class="hljs-string">"<span class="hljs-variable">$SOURCE</span>"</span> | sed <span class="hljs-string">'s/\.[^.]*$//'</span>)
EXT=<span class="hljs-string">"<span class="hljs-variable">${SOURCE##*.}</span>"</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$EXT</span>"</span> = <span class="hljs-string">"c"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”¨ ç¼–è¯‘ C ç¨‹åº: <span class="hljs-variable">$SOURCE</span>"</span>
    gcc -o <span class="hljs-string">"<span class="hljs-variable">$BASENAME</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$SOURCE</span>"</span> -Wall -O2 -g <span class="hljs-variable">$EXTRA_FLAGS</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$EXT</span>"</span> = <span class="hljs-string">"cpp"</span> ] || [ <span class="hljs-string">"<span class="hljs-variable">$EXT</span>"</span> = <span class="hljs-string">"cc"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”¨ ç¼–è¯‘ C++ ç¨‹åº: <span class="hljs-variable">$SOURCE</span>"</span>
    g++ -o <span class="hljs-string">"<span class="hljs-variable">$BASENAME</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$SOURCE</span>"</span> -std=c++20 -Wall -O2 -g <span class="hljs-variable">$EXTRA_FLAGS</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹: <span class="hljs-variable">$EXT</span>"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ $? -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… ç¼–è¯‘æˆåŠŸï¼è¾“å‡ºæ–‡ä»¶: <span class="hljs-variable">$BASENAME</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"â–¶ï¸  è¿è¡Œ: ./<span class="hljs-variable">$BASENAME</span>"</span>
    <span class="hljs-built_in">ls</span> -lh <span class="hljs-string">"<span class="hljs-variable">$BASENAME</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ ç¼–è¯‘å¤±è´¥ï¼"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
EOF

<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
<span class="hljs-built_in">chmod</span> +x ~/compile.sh

<span class="hljs-comment"># æµ‹è¯•</span>
<span class="hljs-built_in">cd</span> ~/openeuler-dev
~/compile.sh hello.c
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d50820f609f4e79aa4180c44ba62465~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=sv71%2BVNCEF3oY17lH%2Fc1OyY%2Bth4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-14">5.2 é…ç½®å¼€å‘ç¯å¢ƒåˆ«å</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># æ·»åŠ åˆ° ~/.bashrc</span>
<span class="hljs-built_in">cat</span> &gt;&gt; ~/.bashrc &lt;&lt; <span class="hljs-string">'EOF'</span>

<span class="hljs-comment"># ========== openEuler 25.09 å¼€å‘ç¯å¢ƒ ==========</span>
<span class="hljs-built_in">alias</span> gcc-debug=<span class="hljs-string">'gcc -g -Wall -Wextra'</span>
<span class="hljs-built_in">alias</span> g++-debug=<span class="hljs-string">'g++ -g -Wall -Wextra -std=c++20'</span>
<span class="hljs-built_in">alias</span> gcc-opt=<span class="hljs-string">'gcc -O3 -march=native -Wall'</span>
<span class="hljs-built_in">alias</span> g++-opt=<span class="hljs-string">'g++ -O3 -march=native -Wall -std=c++20'</span>
<span class="hljs-built_in">alias</span> gdb-tui=<span class="hljs-string">'gdb -tui'</span>
<span class="hljs-built_in">alias</span> ll=<span class="hljs-string">'ls -lah --color=auto'</span>
<span class="hljs-built_in">alias</span> clean=<span class="hljs-string">'rm -f *.o *.out a.out core.* *.so *.a'</span>

<span class="hljs-comment"># æ˜¾ç¤ºå¼€å‘ç¯å¢ƒä¿¡æ¯</span>
<span class="hljs-built_in">alias</span> devinfo=<span class="hljs-string">'echo "=== openEuler 25.09 å¼€å‘ç¯å¢ƒ ===" &amp;&amp; gcc --version | head -1 &amp;&amp; g++ --version | head -1 &amp;&amp; gdb --version | head -1 &amp;&amp; make --version | head -1'</span>

<span class="hljs-comment"># å¿«é€Ÿç¼–è¯‘</span>
<span class="hljs-built_in">alias</span> qcc=<span class="hljs-string">'gcc -Wall -O2 -g'</span>
<span class="hljs-built_in">alias</span> qcpp=<span class="hljs-string">'g++ -Wall -O2 -g -std=c++20'</span>

EOF

<span class="hljs-comment"># ä½¿é…ç½®ç”Ÿæ•ˆ</span>
<span class="hljs-built_in">source</span> ~/.bashrc

<span class="hljs-comment"># æµ‹è¯•</span>
devinfo
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ee0f22c7e6b46c4ae404b84a64f7513~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=Q10aCAHtPJPGuAnp3LCES4421ds%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-15">å…­ã€ç¯å¢ƒæ£€æŸ¥è„šæœ¬</h2>
<h3 data-id="heading-16">6.1 åˆ›å»ºå®Œæ•´æ£€æŸ¥è„šæœ¬</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºç¯å¢ƒæ£€æŸ¥è„šæœ¬</span>
<span class="hljs-built_in">cat</span> &gt; ~/check_env.sh &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  openEuler 25.09 å¼€å‘ç¯å¢ƒæ£€æŸ¥"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥æ“ä½œç³»ç»Ÿ</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€ç³»ç»Ÿä¿¡æ¯ã€‘"</span>
<span class="hljs-built_in">cat</span> /etc/os-release | grep -E <span class="hljs-string">"PRETTY_NAME|VERSION"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å†…æ ¸ç‰ˆæœ¬: <span class="hljs-subst">$(uname -r)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç³»ç»Ÿæ¶æ„: <span class="hljs-subst">$(uname -m)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥ç¼–è¯‘å™¨</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€ç¼–è¯‘å™¨ã€‘"</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v gcc &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… GCC: <span class="hljs-subst">$(gcc --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ GCC æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v g++ &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… G++: <span class="hljs-subst">$(g++ --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ G++ æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥æ„å»ºå·¥å…·</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€æ„å»ºå·¥å…·ã€‘"</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v make &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Make: <span class="hljs-subst">$(make --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ Make æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥è°ƒè¯•å·¥å…·</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€è°ƒè¯•å·¥å…·ã€‘"</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v gdb &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… GDB: <span class="hljs-subst">$(gdb --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ GDB æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v valgrind &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Valgrind: <span class="hljs-subst">$(valgrind --version)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ Valgrind æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥å¼€å‘åº“</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€å¼€å‘åº“ã€‘"</span>
<span class="hljs-keyword">for</span> lib <span class="hljs-keyword">in</span> zlib-devel openssl-devel libcurl-devel sqlite-devel json-c-devel; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> rpm -q <span class="hljs-variable">$lib</span> &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… <span class="hljs-variable">$lib</span>"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ <span class="hljs-variable">$lib</span> (æœªå®‰è£…)"</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">done</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥è½¯ä»¶æº</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€è½¯ä»¶æºã€‘"</span>
sudo dnf repolist 2&gt;/dev/null | grep -E <span class="hljs-string">"repo id|OS|everything|EPOL|update"</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ è½¯ä»¶æºé…ç½®å¯èƒ½æœ‰é—®é¢˜"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  æ£€æŸ¥å®Œæˆï¼"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
EOF

<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
<span class="hljs-built_in">chmod</span> +x ~/check_env.sh

<span class="hljs-comment"># è¿è¡Œæ£€æŸ¥</span>
~/check_env.sh
</code></pre>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„å¼€å‘è€…ç¯å¢ƒ æ‰€æœ‰çš„ç»„ä»¶éƒ½å·²å®‰è£…å®Œæ¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af4be1d183a944778ee4cb1992821e97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=Ei8Bb1k1ro0oV74lMviW4ihjUFA%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-17">å…«ã€å¸¸è§é—®é¢˜è§£å†³</h2>
<h3 data-id="heading-18">8.1 è½¯ä»¶æºé—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼šdnf æ‰¾ä¸åˆ°è½¯ä»¶åŒ…</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># è§£å†³æ–¹æ³•1ï¼šæ›´æ–°ç¼“å­˜</span>
sudo dnf clean all
sudo dnf makecache

<span class="hljs-comment"># è§£å†³æ–¹æ³•2ï¼šæ£€æŸ¥è½¯ä»¶æºé…ç½®</span>
sudo dnf repolist

<span class="hljs-comment"># è§£å†³æ–¹æ³•3ï¼šæœç´¢è½¯ä»¶åŒ…</span>
sudo dnf search gcc
sudo dnf search gdb
</code></pre>
<p><strong>é—®é¢˜ï¼šä¸‹è½½é€Ÿåº¦æ…¢</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ‡æ¢åˆ°åä¸ºäº‘é•œåƒï¼ˆå‚è€ƒç¬¬ä¸€ç« çš„å¤‡ç”¨æ–¹æ¡ˆï¼‰</span>
<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ</span>
sudo sed -i <span class="hljs-string">'s|mirrors.tuna.tsinghua.edu.cn|mirrors.aliyun.com|g'</span> /etc/yum.repos.d/openEuler.repo
sudo dnf clean all
sudo dnf makecache
</code></pre>
<h3 data-id="heading-19">8.2 ç¼–è¯‘é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼šæ‰¾ä¸åˆ°å¤´æ–‡ä»¶</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£…å¯¹åº”çš„ devel åŒ…</span>
sudo dnf provides */stdio.h
sudo dnf install -y glibc-devel

<span class="hljs-comment"># æŸ¥æ‰¾ç‰¹å®šå¤´æ–‡ä»¶</span>
sudo dnf provides */openssl/ssl.h
</code></pre>
<p><strong>é—®é¢˜ï¼šé“¾æ¥é”™è¯¯</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç¤ºä¾‹ï¼šundefined reference to `sqrt'</span>
<span class="hljs-comment"># è§£å†³ï¼šé“¾æ¥æ•°å­¦åº“</span>
gcc -o program program.c -lm

<span class="hljs-comment"># ç¤ºä¾‹ï¼šundefined reference to `pthread_create'</span>
<span class="hljs-comment"># è§£å†³ï¼šé“¾æ¥çº¿ç¨‹åº“</span>
gcc -o program program.c -lpthread
</code></pre>
<h3 data-id="heading-20">8.3 GDB è°ƒè¯•é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼šçœ‹ä¸åˆ°æºä»£ç </strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç¡®ä¿ç¼–è¯‘æ—¶åŠ äº† -g é€‰é¡¹</span>
gcc -g -o program program.c

<span class="hljs-comment"># ä½¿ç”¨ TUI æ¨¡å¼</span>
gdb -tui ./program
</code></pre>
<hr/>
<h2 data-id="heading-21">ä¹ã€openEuler 25.09 æ–°ç‰¹æ€§</h2>
<h3 data-id="heading-22">9.1 ç³»ç»Ÿä¼˜åŠ¿</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c5967c5c4c6487b80c90d424838b93b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=iNHRITxxoht7nKa9ukrtRnaAWbE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-23">9.2 å¼€å‘å·¥å…·ä¼˜åŠ¿</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/feec538e578444d0af950f5a5737f0d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=SBpX5%2FoH5gAgEgmJ4UIKydf14Yc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-24">æœ«å°¾ æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæ‚¨å·²ç»æˆåŠŸåœ¨ openEuler 25.09 ä¸Šæ­å»ºäº†å®Œæ•´çš„ C/C++ å¼€å‘ç¯å¢ƒã€‚ç°åœ¨æ‚¨çš„ç³»ç»Ÿå…·å¤‡ï¼š</p>
<h3 data-id="heading-25">âœ… æ ¸å¿ƒèƒ½åŠ›</h3>
<p>æœ€æ–°çš„ GCC/G++ ç¼–è¯‘å™¨ï¼ˆæ”¯æŒ C++20/C++23ï¼‰</p>
<p>ä¸“ä¸šçš„ GDB è°ƒè¯•å™¨å’Œæ€§èƒ½åˆ†æå·¥å…·</p>
<p>ä¸°å¯Œçš„ç³»ç»Ÿå¼€å‘åº“ï¼ˆç½‘ç»œã€æ•°æ®åº“ã€åŠ å¯†ã€è§£æç­‰ï¼‰</p>
<p>é«˜æ•ˆçš„å¼€å‘è¾…åŠ©è„šæœ¬å’Œå‘½ä»¤åˆ«å</p>
<p>ä¸‹ä¸€æ­¥å»ºè®®</p>
<p>å®è·µé¡¹ç›®ï¼šå°è¯•ç¼–å†™å¤šæ–‡ä»¶é¡¹ç›®ï¼Œä½¿ç”¨ Makefile æˆ– CMake ç®¡ç†æ„å»º</p>
<p>æ·±å…¥è°ƒè¯•ï¼šå­¦ä¹  GDB çš„é«˜çº§åŠŸèƒ½ï¼ˆæ¡ä»¶æ–­ç‚¹ã€watchpointã€core dump åˆ†æï¼‰</p>
<p>ç‰ˆæœ¬æ§åˆ¶ï¼šå®‰è£… Gitï¼ˆsudo dnf install gitï¼‰ï¼Œå­¦ä¹ ä»£ç ç‰ˆæœ¬ç®¡ç†</p>
<p>æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ Valgrindã€perf ç­‰å·¥å…·è¿›è¡Œæ€§èƒ½åˆ†æå’Œå†…å­˜æ£€æµ‹</p>
<p>æ¢ç´¢ç”Ÿæ€ï¼šäº†è§£ openEuler çš„å®¹å™¨ã€è™šæ‹ŸåŒ–ã€äº‘åŸç”Ÿç­‰ç‰¹æ€§</p>
<p>ç¥æ‚¨åœ¨ openEuler 25.09 ä¸Šå¼€å‘é¡ºåˆ©ï¼ğŸŠ</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler ä¸Š Redis æ€§èƒ½è°ƒä¼˜ä¸åŸºå‡†æµ‹è¯•å®æˆ˜]]></title>    <link>https://juejin.cn/post/7580208715275239466</link>    <guid>https://juejin.cn/post/7580208715275239466</guid>    <pubDate>2025-12-05T15:49:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715275239466" data-draft-id="7580208715275223082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler ä¸Š Redis æ€§èƒ½è°ƒä¼˜ä¸åŸºå‡†æµ‹è¯•å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T15:49:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯åº—å°äºŒå‘€"/> <meta itemprop="url" content="https://juejin.cn/user/4132386718619243"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler ä¸Š Redis æ€§èƒ½è°ƒä¼˜ä¸åŸºå‡†æµ‹è¯•å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4132386718619243/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯åº—å°äºŒå‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:49:42.000Z" title="Fri Dec 05 2025 15:49:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>Redis ä½œä¸ºé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œåœ¨ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å®æ—¶åˆ†æç­‰åœºæ™¯ä¸­å¹¿æ³›åº”ç”¨ã€‚æœ¬æ–‡åŸºäº openEuler 25.09 æ“ä½œç³»ç»Ÿï¼Œé€šè¿‡å®æˆ˜æ¼”ç¤º Redis çš„éƒ¨ç½²ã€æ€§èƒ½åŸºå‡†æµ‹è¯•ä»¥åŠå‚æ•°è°ƒä¼˜ï¼Œæ·±åº¦æŒ–æ˜ openEuler åœ¨æ•°æ®åº“åœºæ™¯ä¸‹çš„æ€§èƒ½ä¼˜åŠ¿ã€‚openEuler ä½œä¸ºè‡ªä¸»åˆ›æ–°çš„æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼Œåœ¨å†…æ ¸ä¼˜åŒ–ã€å†…å­˜ç®¡ç†ã€ç½‘ç»œåè®®æ ˆç­‰æ–¹é¢å…·å¤‡æ˜¾è‘—ä¼˜åŠ¿ï¼Œç‰¹åˆ«é€‚åˆé«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„æ•°æ®åº“åº”ç”¨åœºæ™¯ã€‚</p>
<p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong></p>
<ul>
<li>
<p>æ“ä½œç³»ç»Ÿï¼šopenEuler 25.09 x86_64</p>
</li>
<li>
<p>CPUï¼š4æ ¸å¿ƒ</p>
</li>
<li>
<p>å†…å­˜ï¼š8GB</p>
</li>
<li>
<p>Redis ç‰ˆæœ¬ï¼š8.2.1</p>
</li>
<li>
<p>æµ‹è¯•å·¥å…·ï¼šredis-benchmark</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€Redis å¿«é€Ÿéƒ¨ç½²</h2>
<h3 data-id="heading-2">2.1 ç³»ç»Ÿç¯å¢ƒå‡†å¤‡</h3>
<p>openEuler æä¾›äº†å®Œå–„çš„è½¯ä»¶ä»“åº“å’ŒåŒ…ç®¡ç†å·¥å…·ï¼Œä½¿å¾— Redis çš„å®‰è£…éƒ¨ç½²éå¸¸ä¾¿æ·ã€‚é¦–å…ˆæ›´æ–°ç³»ç»Ÿå¹¶å®‰è£…å¿…è¦çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…</span>
sudo dnf update -y

<span class="hljs-comment"># å®‰è£… Redisï¼ˆopenEuler ä»“åº“å·²åŒ…å« Redis 7.xï¼‰</span>
sudo dnf install redis -y

<span class="hljs-comment"># æŸ¥çœ‹ Redis ç‰ˆæœ¬</span>
redis-server --version
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/785fd1fd2d304af98dc3c5e659486ad2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=Jozn3%2B9q%2FLj8UH6gREtAO04uSOs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ“ä½œè¯´æ˜ï¼š</strong></p>
<p>openEuler çš„ dnf åŒ…ç®¡ç†å™¨ç»è¿‡ä¼˜åŒ–ï¼Œä¾èµ–è§£æé€Ÿåº¦æ¯”ä¼ ç»Ÿå‘è¡Œç‰ˆæå‡çº¦ 30%</p>
<p>ç³»ç»Ÿè‡ªå¸¦çš„ Redis ç‰ˆæœ¬å·²ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¯‘ï¼Œå¼€ç®±å³ç”¨</p>
<h3 data-id="heading-3">2.2 Redis æœåŠ¡å¯åŠ¨ä¸é…ç½®</h3>
<p>openEuler é‡‡ç”¨ systemd è¿›è¡ŒæœåŠ¡ç®¡ç†ï¼Œå¯åŠ¨ Redis æœåŠ¡éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¯åŠ¨ Redis æœåŠ¡</span>
sudo systemctl start redis

<span class="hljs-comment"># è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</span>
sudo systemctl <span class="hljs-built_in">enable</span> redis

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
sudo systemctl status redis

<span class="hljs-comment"># éªŒè¯ Redis æ˜¯å¦æ­£å¸¸è¿è¡Œ</span>
redis-cli ping
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a98aedb4afc4533b5a4de9d82ee5ee4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=UB1Q0GdsZdaEC47Z%2BcPuwaphi5c%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-Plain" lang="Plain">PONG
</code></pre>
<p>å¦‚æœè¿”å› <code>PONG</code>ï¼Œè¯´æ˜ Redis å·²æˆåŠŸå¯åŠ¨ã€‚æ­¤æ—¶ Redis è¿è¡Œåœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œç›‘å¬ 6379 ç«¯å£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8299752f30349b7a562a998928888e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=mVRAo7%2F0dswN1prNFGA0P1%2Bl5Vw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é…ç½®æ–‡ä»¶ä½ç½®ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># Redis ä¸»é…ç½®æ–‡ä»¶</span>
/etc/redis/redis.conf

<span class="hljs-comment"># å¤‡ä»½åŸå§‹é…ç½®ï¼ˆé‡è¦ï¼ï¼‰</span>
sudo <span class="hljs-built_in">cp</span> /etc/redis/redis.conf /etc/redis/redis.conf.bak
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€åŸºå‡†æ€§èƒ½æµ‹è¯•</h2>
<h3 data-id="heading-5">3.1 é»˜è®¤é…ç½®æ€§èƒ½æµ‹è¯•</h3>
<p>redis-benchmark æ˜¯ Redis å®˜æ–¹æä¾›çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥å…¨é¢è¯„ä¼° Redis çš„è¯»å†™æ€§èƒ½ã€‚æˆ‘ä»¬é¦–å…ˆåœ¨é»˜è®¤é…ç½®ä¸‹è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åŸºç¡€æ€§èƒ½æµ‹è¯•ï¼ˆ10ä¸‡æ¬¡è¯·æ±‚ï¼Œ50ä¸ªå¹¶å‘å®¢æˆ·ç«¯ï¼‰</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -q
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li>
<p><code>-h</code>ï¼šRedis æœåŠ¡å™¨åœ°å€</p>
</li>
<li>
<p><code>-p</code>ï¼šç«¯å£å·</p>
</li>
<li>
<p><code>-n</code>ï¼šæ€»è¯·æ±‚æ•°</p>
</li>
<li>
<p><code>-c</code>ï¼šå¹¶å‘è¿æ¥æ•°</p>
</li>
<li>
<p><code>-t</code>ï¼šæµ‹è¯•æŒ‡å®šå‘½ä»¤</p>
</li>
<li>
<p><code>-q</code>ï¼šç®€æ´è¾“å‡ºæ¨¡å¼</p>
</li>
</ul>
<p><strong>æµ‹è¯•ç»“æœç¤ºä¾‹ï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f77c6843158e4788a9b84e19ddd4d29d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=7Nqe14wt%2B%2FnMpjBjymC2e3Po1WE%3D" alt="image.png" loading="lazy"/></p>
<p>è¯¦ç»†æµ‹è¯•å„ç±»å‘½ä»¤æ€§èƒ½</p>
<pre><code class="hljs language-Bash" lang="Bash">redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -t <span class="hljs-built_in">set</span>,get,incr,lpush,rpush,lpop,rpop,sadd,hset,spop,zadd,zpopmin,lrange,mset -q
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/417a94af94b647a190013318dbecc199~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=j0bxbfG00FEfm0m2P3OShqE2dmU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ€§èƒ½åˆ†æï¼š</strong> åœ¨ openEuler é»˜è®¤é…ç½®ä¸‹ï¼ŒRedis çš„ GET/SET æ“ä½œå·²ç»è¾¾åˆ° <strong>8.9ä¸‡-9.2ä¸‡ QPS</strong>ï¼Œè¿™å¾—ç›Šäº openEuler å†…æ ¸å¯¹å†…å­˜è®¿é—®å’Œç½‘ç»œ I/O çš„ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-6">3.2 å‹åŠ›æµ‹è¯•ä¸å»¶è¿Ÿåˆ†æ</h3>
<p>ä¸ºäº†æ›´å…¨é¢åœ°è¯„ä¼°æ€§èƒ½ï¼Œæˆ‘ä»¬è¿›è¡Œé«˜å¹¶å‘å‹åŠ›æµ‹è¯•å’Œå»¶è¿Ÿåˆ†æï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># é«˜å¹¶å‘æµ‹è¯•ï¼ˆ200ä¸ªå¹¶å‘å®¢æˆ·ç«¯ï¼‰</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 500000 -c 200 -t <span class="hljs-built_in">set</span>,get -q

<span class="hljs-comment"># å»¶è¿Ÿåˆ†å¸ƒæµ‹è¯•</span>
redis-cli --latency-history -h 127.0.0.1 -p 6379
</code></pre>
<p><strong>é«˜å¹¶å‘æµ‹è¯•ç»“æœï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/127f145dd4b74110882736f5e564853c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=8noTExek771m4rMfk%2FuZSjMBpGY%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å»¶è¿Ÿæµ‹è¯•ç»“æœç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8c5d8f2d0fb494bb2280db4be712515~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=pcOs4Xa%2BnQBM1gZptTHpFH%2BudwY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c5f10df81584e4d96953528f943cf83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=xgXc2vav9p5PqJNUV9m8XrRYJ8I%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ŒopenEuler ç³»ç»Ÿä¾ç„¶ä¿æŒç¨³å®šçš„æ€§èƒ½è¾“å‡ºï¼Œå¹³å‡å»¶è¿Ÿæ§åˆ¶åœ¨ <strong>0.15ms</strong> å·¦å³ï¼Œæœ€å¤§å»¶è¿Ÿä¸è¶…è¿‡ 2msï¼Œè¡¨ç°ä¼˜å¼‚ã€‚</p>
<hr/>
<h2 data-id="heading-7">å››ã€æ€§èƒ½è°ƒä¼˜å®æˆ˜</h2>
<h3 data-id="heading-8">4.1 Redis é…ç½®ä¼˜åŒ–</h3>
<p>åŸºäº openEuler çš„ç³»ç»Ÿç‰¹æ€§ï¼Œæˆ‘ä»¬å¯¹ Redis é…ç½®è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">sudo vim /etc/redis/redis.conf
</code></pre>
<p><strong>å…³é”®ä¼˜åŒ–å‚æ•°ï¼š</strong></p>
<pre><code class="hljs language-Nginx" lang="Nginx"># 1. å†…å­˜ç®¡ç†ä¼˜åŒ–
# å†…å­˜é…ç½®
maxmemory 4294967296
maxmemory-policy allkeys-lru

# 2. æŒä¹…åŒ–ä¼˜åŒ–ï¼ˆæµ‹è¯•ç¯å¢ƒå¯å…³é—­ä»¥æå‡æ€§èƒ½ï¼‰
save ""
appendonly no

# 3. ç½‘ç»œä¼˜åŒ–
tcp-backlog 511
timeout 0
tcp-keepalive 300

# 4. çº¿ç¨‹æ¨¡å‹ä¼˜åŒ–ï¼ˆRedis 6.0+æ”¯æŒå¤šçº¿ç¨‹I/Oï¼‰
io-threads 4
io-threads-do-reads yes

# 5. å†…å­˜åˆ†é…å™¨ä¼˜åŒ–ï¼ˆopenEuler å·²é»˜è®¤ä½¿ç”¨ jemallocï¼‰
# æ— éœ€ä¿®æ”¹ï¼Œç³»ç»Ÿå·²ä¼˜åŒ–

# 6. æ…¢æŸ¥è¯¢æ—¥å¿—
slowlog-log-slower-than 10000
slowlog-max-len 128
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2383958a55b540548f845bdce9ab1f0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=H%2B1LyCuyxHjD4aOcb70tmeFmTQ0%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é…ç½®è¯´æ˜ï¼š</strong></p>
<ul>
<li>
<p><code>maxmemory</code>ï¼šé™åˆ¶ Redis æœ€å¤§å†…å­˜ä½¿ç”¨ï¼Œé˜²æ­¢ OOM</p>
</li>
<li>
<p><code>maxmemory-policy</code>ï¼šå†…å­˜æ·˜æ±°ç­–ç•¥ï¼ŒLRU é€‚åˆç¼“å­˜åœºæ™¯</p>
</li>
<li>
<p><code>save ""</code>ï¼šå…³é—­ RDB æŒä¹…åŒ–ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰</p>
</li>
<li>
<p><code>appendonly no</code>ï¼šå…³é—­ AOF æŒä¹…åŒ–ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰</p>
</li>
<li>
<p><code>io-threads 4</code>ï¼šå¯ç”¨ 4 ä¸ª I/O çº¿ç¨‹ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU</p>
</li>
<li>
<p><code>io-threads-do-reads yes</code>ï¼šI/O çº¿ç¨‹åŒæ—¶å¤„ç†è¯»å†™</p>
</li>
</ul>
<p><strong>åº”ç”¨é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># é‡å¯ Redis æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆ</span>
sudo systemctl restart redis

<span class="hljs-comment"># éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆ</span>
redis-cli CONFIG GET io-threads
redis-cli CONFIG GET maxmemory
</code></pre>
<p>è¿™é‡Œå¤šæµ‹è¯•å‡ ä¸‹å“ˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b15632e6dde3422491ff55f72744df6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=edUalsFItD5WvQAFd7h%2BFJVVlz8%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªå‚æ•°å¾ˆé‡è¦ æ‰€ä»¥ä½ è¦å¿…é¡»æŠŠå®ƒå˜ä¸º</p>
<p>CONFIG GET maxmemory 42949....</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52541fde55bc4b198589f6a7386b8863~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=sDleFSE0jbwnNDcbP5TTNLQWYAM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">4.2 ç³»ç»Ÿå±‚é¢ä¼˜åŒ–</h3>
<p>openEuler æä¾›äº†ä¸°å¯Œçš„å†…æ ¸å‚æ•°è°ƒä¼˜é€‰é¡¹ï¼Œé’ˆå¯¹ Redis åœºæ™¯è¿›è¡Œç³»ç»Ÿçº§ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç¼–è¾‘ç³»ç»Ÿå‚æ•°é…ç½®</span>
sudo vim /etc/sysctl.conf
</code></pre>
<p><strong>æ·»åŠ ä»¥ä¸‹ä¼˜åŒ–å‚æ•°ï¼š</strong></p>
<pre><code class="hljs language-Nginx" lang="Nginx"># ç½‘ç»œä¼˜åŒ–
net.core.somaxconn = 65535
net.ipv4.tcp_max_syn_backlog = 8192
net.ipv4.tcp_fin_timeout = 30
net.ipv4.tcp_keepalive_time = 300
net.ipv4.tcp_tw_reuse = 1

# å†…å­˜ä¼˜åŒ–
vm.overcommit_memory = 1
vm.swappiness = 0

# é€æ˜å¤§é¡µä¼˜åŒ–ï¼ˆå»ºè®®ç¦ç”¨ï¼‰
# æ³¨æ„ï¼šéœ€è¦åœ¨è¿è¡Œæ—¶ç¦ç”¨
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8cf501a15fa4ad7b7bc23c87c94fb09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=Jb73FVtcDWjZ8kIxAmaUpWgGiU8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åº”ç”¨ç³»ç»Ÿå‚æ•°ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆ</span>
sudo sysctl -p

<span class="hljs-comment"># ç¦ç”¨é€æ˜å¤§é¡µï¼ˆTransparent Huge Pagesï¼‰</span>
<span class="hljs-built_in">echo</span> never | sudo <span class="hljs-built_in">tee</span> /sys/kernel/mm/transparent_hugepage/enabled
<span class="hljs-built_in">echo</span> never | sudo <span class="hljs-built_in">tee</span> /sys/kernel/mm/transparent_hugepage/defrag

<span class="hljs-comment"># æŸ¥çœ‹å½“å‰è®¾ç½®</span>
<span class="hljs-built_in">cat</span> /sys/kernel/mm/transparent_hugepage/enabled
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00f3e832b3ae4bfa934282711ee11779~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=jTTBK7hNp2FeTaS8Va2itg7GZq8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¼˜åŒ–è¯´æ˜ï¼š</strong></p>
<ul>
<li>
<p><code>vm.overcommit_memory = 1</code>ï¼šå…è®¸å†…å­˜è¿‡é‡åˆ†é…ï¼Œé¿å… Redis fork æ—¶å¤±è´¥</p>
</li>
<li>
<p><code>vm.swappiness = 0</code>ï¼šå°½é‡é¿å…ä½¿ç”¨ swapï¼Œä¿è¯ Redis æ€§èƒ½</p>
</li>
<li>
<p><code>net.core.somaxconn</code>ï¼šå¢å¤§è¿æ¥é˜Ÿåˆ—ï¼Œæ”¯æŒé«˜å¹¶å‘</p>
</li>
<li>
<p>ç¦ç”¨é€æ˜å¤§é¡µï¼šé¿å…å†…å­˜ç¢ç‰‡å’Œå»¶è¿ŸæŠ–åŠ¨</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-10">äº”ã€è°ƒä¼˜åæ€§èƒ½å¯¹æ¯”æµ‹è¯•</h2>
<h3 data-id="heading-11">5.1 ä¼˜åŒ–ååŸºå‡†æµ‹è¯•</h3>
<p>åº”ç”¨æ‰€æœ‰ä¼˜åŒ–é…ç½®åï¼Œé‡æ–°è¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åŸºç¡€æ€§èƒ½æµ‹è¯•</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -t <span class="hljs-built_in">set</span>,get,incr,lpush,rpush,lpop,rpop,sadd,hset,spop,zadd,zpopmin,lrange,mset -q

<span class="hljs-comment"># é«˜å¹¶å‘æµ‹è¯•</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 500000 -c 200 -t <span class="hljs-built_in">set</span>,get -q

<span class="hljs-comment"># Pipeline æ¨¡å¼æµ‹è¯•ï¼ˆæ¨¡æ‹Ÿæ‰¹é‡æ“ä½œï¼‰</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -P 16 -t <span class="hljs-built_in">set</span>,get -q
</code></pre>
<p><strong>ä¼˜åŒ–åæµ‹è¯•ç»“æœï¼š</strong></p>
<p><strong>åŸºç¡€æ€§èƒ½æµ‹è¯•ï¼ˆ50å¹¶å‘ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12173296afda4244bf325555312a09b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=hfHY29c5dlWaJztos8it2Y0%2FPp0%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é«˜å¹¶å‘æµ‹è¯•ï¼ˆ200å¹¶å‘ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0c18230ef154b06bf2f02854a4a0877~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=azya%2BL8Vzg7yWeysTGBLFmnXxUs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>Pipeline æ¨¡å¼æµ‹è¯•ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c973b3adba4f42b0b616b746fa6a0993~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=mIiasJNtbfxB1ERO5GkMhTv8Tm8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-12">5.2 æ€§èƒ½æå‡åˆ†æ</h3>
<p>é€šè¿‡å¯¹æ¯”ä¼˜åŒ–å‰åçš„æµ‹è¯•æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æ€§èƒ½æå‡ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fb144f24c3b47c687b4cfa754470d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=XTeokVxkSxtrQT1aNvbzKHo0nzg%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-Nginx" lang="Nginx">ä¼˜åŒ–å‰ QPS:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 58K
ä¼˜åŒ–å QPS:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 142K  (+45%)

Pipeline ä¼˜åŒ–å‰: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 530K
Pipeline ä¼˜åŒ–å: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1520K (+87%)
</code></pre>
<p><strong>æ€§èƒ½æå‡å…³é”®å› ç´ ï¼š</strong></p>
<ol>
<li>
<p><strong>å¤šçº¿ç¨‹ I/O ä¼˜åŒ–</strong>ï¼šå¯ç”¨ 4 ä¸ª I/O çº¿ç¨‹åï¼Œå……åˆ†åˆ©ç”¨äº† openEuler çš„å¤šæ ¸è°ƒåº¦ä¼˜åŠ¿ï¼Œç½‘ç»œ I/O å¤„ç†èƒ½åŠ›æ˜¾è‘—æå‡</p>
</li>
<li>
<p><strong>å†…æ ¸ç½‘ç»œæ ˆä¼˜åŒ–</strong>ï¼šopenEuler çš„ç½‘ç»œåè®®æ ˆç»è¿‡æ·±åº¦ä¼˜åŒ–ï¼Œé…åˆç³»ç»Ÿå‚æ•°è°ƒæ•´ï¼Œè¿æ¥å¤„ç†èƒ½åŠ›æå‡ 40%+</p>
</li>
<li>
<p><strong>å†…å­˜ç®¡ç†ä¼˜åŒ–</strong>ï¼šç¦ç”¨é€æ˜å¤§é¡µã€ä¼˜åŒ–å†…å­˜åˆ†é…ç­–ç•¥ï¼Œå‡å°‘äº†å†…å­˜ç¢ç‰‡å’Œå»¶è¿ŸæŠ–åŠ¨</p>
</li>
<li>
<p><strong>æŒä¹…åŒ–å…³é—­</strong>ï¼šæµ‹è¯•ç¯å¢ƒå…³é—­æŒä¹…åŒ–åï¼Œæ¶ˆé™¤äº†ç£ç›˜ I/O ç“¶é¢ˆï¼Œçº¯å†…å­˜æ“ä½œæ€§èƒ½å¾—åˆ°å……åˆ†é‡Šæ”¾</p>
</li>
</ol>
<p><strong>å»¶è¿Ÿå¯¹æ¯”æµ‹è¯•ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ä¼˜åŒ–åå»¶è¿Ÿæµ‹è¯•</span>
redis-cli --latency-history -h 127.0.0.1 -p 6379
</code></pre>
<p><strong>ä¼˜åŒ–åå»¶è¿Ÿç»“æœï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d19119cd1f4211a31e02462af040a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=zgaOlXCox296mb4229aoTTcXSAY%3D" alt="image.png" loading="lazy"/></p>
<p>å¹³å‡å»¶è¿Ÿä» <strong>0.15ms é™ä½åˆ° 0.09ms</strong>ï¼Œé™ä½ <strong>40%</strong>ï¼Œæœ€å¤§å»¶è¿Ÿä» 2ms é™ä½åˆ° 1msï¼Œç¨³å®šæ€§æ˜¾è‘—æå‡ã€‚</p>
<hr/>
<h2 data-id="heading-13">å…­ã€openEuler ç³»ç»Ÿä¼˜åŠ¿æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ¬¡ Redis æ€§èƒ½æµ‹è¯•ä¸è°ƒä¼˜å®æˆ˜ï¼ŒopenEuler æ“ä½œç³»ç»Ÿåœ¨æ•°æ®åº“åº”ç”¨åœºæ™¯ä¸‹å±•ç°å‡ºä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<h3 data-id="heading-14">6.1 å“è¶Šçš„æ€§èƒ½è¡¨ç°</h3>
<ul>
<li>
<p><strong>é«˜ååé‡</strong>ï¼šä¼˜åŒ–å Redis QPS çªç ´ 13 ä¸‡ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹æå‡ 44%-46%</p>
</li>
<li>
<p><strong>ä½å»¶è¿Ÿ</strong>ï¼šå¹³å‡å»¶è¿Ÿä½è‡³ 0.09msï¼ŒP99 å»¶è¿Ÿç¨³å®šåœ¨ 1ms ä»¥å†…</p>
</li>
<li>
<p><strong>å¤šæ ¸åˆ©ç”¨ç‡é«˜</strong>ï¼šå†…æ ¸è°ƒåº¦å™¨ä¼˜åŒ–ä½¿å¾—å¤šçº¿ç¨‹ I/O æ€§èƒ½æå‡æ˜æ˜¾</p>
</li>
</ul>
<h3 data-id="heading-15">6.2 å®Œå–„çš„è½¯ä»¶ç”Ÿæ€</h3>
<ul>
<li>
<p><strong>å¼€ç®±å³ç”¨</strong>ï¼šè½¯ä»¶ä»“åº“æä¾›æœ€æ–°ç¨³å®šç‰ˆ Redisï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¯‘</p>
</li>
<li>
<p><strong>ä¾èµ–ç®¡ç†é«˜æ•ˆ</strong>ï¼šdnf åŒ…ç®¡ç†å™¨ä¾èµ–è§£æé€Ÿåº¦å¿«ï¼Œå®‰è£…éƒ¨ç½²ä¾¿æ·</p>
</li>
<li>
<p><strong>å…¼å®¹æ€§å¥½</strong>ï¼šå®Œå…¨å…¼å®¹ Redis å®˜æ–¹ç‰¹æ€§ï¼Œè¿ç§»æˆæœ¬ä½</p>
</li>
</ul>
<p>openEuler ä½œä¸ºé¢å‘ä¼ä¸šçº§åº”ç”¨çš„è‡ªä¸»åˆ›æ–°æ“ä½œç³»ç»Ÿï¼Œåœ¨å†…æ ¸ä¼˜åŒ–ã€ç½‘ç»œåè®®æ ˆã€å†…å­˜ç®¡ç†ç­‰æ–¹é¢æŒç»­æŠ•å…¥ï¼Œç‰¹åˆ«é€‚åˆé«˜æ€§èƒ½æ•°æ®åº“ã€äº‘åŸç”Ÿåº”ç”¨ç­‰åœºæ™¯ã€‚æœ¬æ¬¡æµ‹è¯•è¯æ˜ï¼Œåœ¨ç›¸åŒç¡¬ä»¶æ¡ä»¶ä¸‹ï¼Œé€šè¿‡åˆç†çš„ç³»ç»Ÿè°ƒä¼˜ï¼ŒopenEuler èƒ½å¤Ÿå……åˆ†é‡Šæ”¾ç¡¬ä»¶æ€§èƒ½ï¼Œä¸ºä¸šåŠ¡åº”ç”¨æä¾›åšå®çš„åŸºç¡€æ”¯æ’‘ã€‚</p>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€æ€»ç»“ä¸å»ºè®®</h2>
<p>æœ¬æ–‡åŸºäº openEuler 25.09 ç³»ç»Ÿï¼Œå®Œæˆäº† Redis ä»éƒ¨ç½²ã€åŸºå‡†æµ‹è¯•åˆ°æ€§èƒ½è°ƒä¼˜çš„å…¨æµç¨‹å®æˆ˜ã€‚é€šè¿‡ Redis é…ç½®ä¼˜åŒ–å’Œç³»ç»Ÿå‚æ•°è°ƒæ•´ï¼Œæ€§èƒ½æå‡è¾¾åˆ° <strong>40%-46%</strong>ï¼Œå……åˆ†éªŒè¯äº† openEuler åœ¨æ•°æ®åº“åº”ç”¨åœºæ™¯ä¸‹çš„ä¼˜å¼‚è¡¨ç°ã€‚</p>
<p><strong>å®æˆ˜è¦ç‚¹å›é¡¾ï¼š</strong></p>
<ol>
<li>
<p>openEuler è½¯ä»¶ä»“åº“å®Œå–„ï¼ŒRedis éƒ¨ç½²ä¾¿æ·é«˜æ•ˆ</p>
</li>
<li>
<p>é»˜è®¤é…ç½®ä¸‹æ€§èƒ½å·²è¾¾ 9 ä¸‡+ QPSï¼ŒåŸºç¡€æ€§èƒ½ä¼˜å¼‚</p>
</li>
<li>
<p>å¯ç”¨å¤šçº¿ç¨‹ I/Oã€ä¼˜åŒ–ç³»ç»Ÿå‚æ•°åï¼Œæ€§èƒ½æå‡ 40%+</p>
</li>
<li>
<p>å»¶è¿Ÿé™ä½ 40%ï¼Œç¨³å®šæ€§æ˜¾è‘—æå‡</p>
</li>
</ol>
<p><strong>ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼š</strong></p>
<ul>
<li>
<p>æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŒä¹…åŒ–ç­–ç•¥ï¼ˆRDB/AOFï¼‰</p>
</li>
<li>
<p>åˆç†é…ç½®å†…å­˜ä¸Šé™å’Œæ·˜æ±°ç­–ç•¥ï¼Œé¿å… OOM</p>
</li>
<li>
<p>å®šæœŸç›‘æ§æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œä¼˜åŒ–ä¸šåŠ¡ä»£ç </p>
</li>
<li>
<p>åˆ©ç”¨ openEuler çš„å†…æ ¸ç‰¹æ€§ï¼ŒæŒç»­è°ƒä¼˜ç³»ç»Ÿå‚æ•°</p>
</li>
</ul>
<p>openEuler ä¸ºæ•°æ®åº“åº”ç”¨æä¾›äº†é«˜æ€§èƒ½ã€é«˜ç¨³å®šæ€§çš„è¿è¡Œç¯å¢ƒï¼Œæ˜¯ä¼ä¸šçº§åº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++ grpc ç¯å¢ƒéƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7580216638109401103</link>    <guid>https://juejin.cn/post/7580216638109401103</guid>    <pubDate>2025-12-05T15:54:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580216638109401103" data-draft-id="7579995747171581987" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++ grpc ç¯å¢ƒéƒ¨ç½²"/> <meta itemprop="keywords" content="gRPC"/> <meta itemprop="datePublished" content="2025-12-05T15:54:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·07504274114"/> <meta itemprop="url" content="https://juejin.cn/user/2807479185180345"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++ grpc ç¯å¢ƒéƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2807479185180345/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·07504274114
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:54:34.000Z" title="Fri Dec 05 2025 15:54:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">Â å‰è¨€</h2>
<p>æœ¬æ–‡æ ¹æ®<a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F%25EF%25BC%258C%25E8%25BF%259B%25E8%25A1%258CC%2B%2B" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/%EF%BC%8C%E8%BF%9B%E8%A1%8CC++" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> grpcçš„å®‰è£…ä¸æµ‹è¯•ç”¨ä¾‹è¿è¡Œï¼Œå¹¶ç»™å‡ºäº†ä¸ªäººC++é¡¹ç›®ä¸­ä¾èµ–grpcç¤ºä¾‹ã€‚å¦‚æœä¸æƒ³è‡ªå·±ç¼–è¯‘ï¼Œå¯ä»¥ç›´æ¥çœ‹Â <strong>ä¸ªäººC++é¡¹ç›®ä¸­ä¾èµ–grpcç¤ºä¾‹ç¼–è¯‘è¿è¡Œ</strong>Â ä¸€èŠ‚ï¼Œç»™å‡ºäº†æˆ‘ä¸ªäººç¼–è¯‘å¥½çš„grpcä»¥åŠç¤ºä¾‹ä»£ç ç¼–è¯‘è¿è¡Œæ–¹æ³•ã€‚æ°´å¹³ä¸é«˜ï¼Œèƒ½åŠ›æœ‰é™ï¼Œé”™æ¼ä¹‹å¤„ï¼Œè¿˜è¯·è§è°…ã€‚æ¬¢è¿å‹å¥½è®¨è®ºã€‚</p>
<h2 data-id="heading-1">ç¯å¢ƒè¯´æ˜</h2>
<p>æœ¬æ–‡æ‰€æœ‰æ“ä½œæ˜¯åœ¨2æ ¸2Gï¼Œæ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆæœ¬ä¸ºCentOS 7.6 Â çš„è…¾è®¯äº‘æœºå™¨ä¸Šè¿›è¡Œçš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8d22a8a4d6c47b7a87b44a04de35a64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=F2fN58hYRaUgLrSe%2BmTItSv%2BPUI%3D" alt="" loading="lazy"/></p>
<p>å„ä¸ªè½¯ä»¶ç‰ˆæœ¬ï¼š</p>
<ul>
<li>CMakeç‰ˆæœ¬ï¼š4.2.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>Gitç‰ˆæœ¬ï¼š2.25.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GCCç‰ˆæœ¬ï¼šgcc 11.2ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GLIBCXX ç‰ˆæœ¬ï¼šlibstdc++.so.6.0.29ï¼ˆä¼´éšgcc11.2å®‰è£…ï¼‰ï¼Œè®¾ç½®è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpc helloworldç¤ºä¾‹ç¨‹åºè¿è¡Œ</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>as &amp; ldç‰ˆæœ¬: Â  2.45ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
</ul>
<h2 data-id="heading-2">C++ grpcå®‰è£…</h2>
<h3 data-id="heading-3">è®¾ç½®å®‰è£…è·¯å¾„</h3>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">Â å®‰è£…æµç¨‹</span>
export MY_INSTALL_DIR=/home/xxxxxx/blog_code/grpc Â # è®¾ç½®å®‰è£…è·¯å¾„, è®¾ç½®ä¸€ä¸ªæœ¬åœ°è·¯å¾„, é¿å…å¸è½½å›°éš¾
mkdir -p $MY_INSTALL_DIR Â  Â  Â  Â  Â  # ç¡®ä¿å®‰è£…è·¯å¾„å­˜åœ¨
</code></pre>
<h3 data-id="heading-4">ç¡®ä¿CMakeç‰ˆæœ¬å¤Ÿæ–°</h3>
<p>æŒ‰ç…§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> ä¸­çš„è¦æ±‚ï¼ŒCMakeç‰ˆæœ¬è¦å¤§äº3.16ç‰ˆæœ¬ã€‚å¯ä»¥æ‰§è¡ŒæŒ‡ä»¤</p>
<pre><code class="hljs language-shell" lang="shell">cmake --version
</code></pre>
<p>æŸ¥çœ‹ã€‚æˆ‘çš„æœ¬æœºç‰ˆæœ¬æ˜¯2.8.12.2ï¼Œæ‰€ä»¥è¦æ›´æ–°ä¸ºè¾ƒæ–°ç‰ˆæœ¬ã€‚</p>
<p>åœ¨ Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> Â ä¸­ç»™å‡ºäº†æ›´æ–°åˆ°3.30ç‰ˆæœ¬çš„æŒ‡ä»¤ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">wget -q -O cmake-linux.sh https://github.com/Kitware/CMake/releases/download/v3.30.3/cmake-3.30.3-linux-x86_64.sh
sh cmake-linux.sh -- --skip-license --prefix=$MY_INSTALL_DIR
rm cmake-linux.sh
</code></pre>
<p>å¯ä»¥ç”¨è¿™ä¸ªã€‚æˆ‘å½“æ—¶æ²¡æœ‰çœ‹åˆ°ï¼Œæ‰€ä»¥è‡ªå·±è¿›è¡Œäº†æ›´æ–°ï¼Œä¹Ÿç»™å‡ºæ¥è¿‡ç¨‹ï¼Œä»¥ä¾›å‚è€ƒï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">Â åœ¨ https://cmake.org/download/ é¡µé¢é€‰æ‹©æŒ‡å®šçš„å®‰è£…shæ–‡ä»¶ï¼Œå¦‚https://github.com/Kitware/CMake/releases/download/v4.2.0/cmake-4.2.0-linux-x86_64.shï¼Œæ‰§è¡Œ</span>
wget https://github.com/Kitware/CMake/releases/download/v4.2.0/cmake-4.2.0-linux-x86_64.sh
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b8e83bc45844ccd8dbea586e7212e53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=zVV4kqMILivMpogC5rYKTq2JwvU%3D" alt="" loading="lazy"/></p>
<p>ä¸‹è½½åç»§ç»­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">chmod +x cmake-4.2.0-linux-x86_64.sh
<span class="hljs-meta prompt_">#</span><span class="bash">Â --skip-licenseè¡¨ç¤ºè‡ªåŠ¨æ¥å—è®¸å¯ï¼Œ--exclude-subdiré˜²æ­¢åˆ›å»ºç‰ˆæœ¬å·å­ç›®å½•, å®‰è£…åˆ° /usr/local,</span>
sudo ./cmake-4.2.0-linux-x86_64.sh --skip-license --exclude-subdir --prefix=/usr/local
</code></pre>
<p>æ‰§è¡Œå®Œæ¯•åï¼Œå†æ¬¡æ‰§è¡Œ cmake --versionï¼Œ å‡ºç°äº†ä»¥ä¸‹æŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d846f4945cde4021936dab4d94f4fc4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=jsN3BgA0pY%2Fu6uiT9FLb5eqNb2c%3D" alt="" loading="lazy"/>â€‹</p>
<p>å¯ä»¥æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤è®¾ç½®CMAKE_ROOTå’ŒPATHè·¯å¾„ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">echo 'export CMAKE_ROOT=/usr/local/share/cmake-4.2' &gt;&gt; ~/.bashrc
echo 'export PATH="/usr/local/bin:$PATH"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre>
<p>å†æ¬¡æ£€æŸ¥ç‰ˆæœ¬ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32d696e9a2324a6080d2b86a9bbc6d14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=ptU0CqZset3hoy192%2FgazWpq6DA%3D" alt="" loading="lazy"/></p>
<p>è¾“å‡ºæ­£ç¡®ã€‚å®‰è£…å®Œæ¯•ã€‚</p>
<h3 data-id="heading-5">å®‰è£…å…¶ä»–éœ€è¦çš„å·¥å…·</h3>
<pre><code class="hljs language-shell" lang="shell">sudo yum install -y build-essential autoconf libtool pkg-config
</code></pre>
<h3 data-id="heading-6">å…‹éš†grpcå’Œå®ƒçš„å­æ¨¡å—</h3>
<p>æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">git clone --recurse-submodules -b v1.76.0 --depth 1 --shallow-submodules https://github.com/grpc/grpc
</code></pre>
<p>ç”±äºæˆ‘æœ¬åœ°gitç‰ˆæœ¬è¿‡ä½ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f1bf1a0787e4a5b8abd7158631b6839~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Ajk1vLNBkmi1v6gSePPUj3cZz1g%3D" alt="" loading="lazy"/></p>
<p>æˆ‘æŸ¥äº†æœ¬åœ°çš„gitç‰ˆæœ¬ï¼Œæ˜¯1.8.3.1</p>
<pre><code class="hljs language-css" lang="css">git <span class="hljs-attr">--version</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1210960b7cee4af99d9b1b939ade8926~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=nzbAo3iPPUqe%2FaCExbkRayByHGU%3D" alt="" loading="lazy"/></p>
<p>è€Œæ”¯æŒ --shallow-submodules ç‰ˆæœ¬è¦åœ¨2.10.0 ä»¥ä¸Šã€‚å› æ­¤æˆ‘å‡çº§äº†ç¯å¢ƒgitï¼Œå‡çº§æ–¹æ³•ä¸ºæºç å‡çº§ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">Â å®‰è£…ç¼–è¯‘å·¥å…·å’Œä¾èµ–</span>
sudo yum groupinstall "Development Tools"
sudo yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-ExtUtils-MakeMaker
<span class="hljs-meta prompt_">#</span><span class="bash">Â ä¸‹è½½æºç , è¿™é‡Œå®‰è£…2.25.0ç‰ˆæœ¬, å°è¯•å®‰è£…äº†2.52ç‰ˆæœ¬, ä½†æ˜¯glibcç‰ˆæœ¬å¤ªä½äº†, å®‰è£…å¤±è´¥</span>
wget https://github.com/git/git/archive/refs/tags/v2.25.0.tar.gz
<span class="hljs-meta prompt_">#</span><span class="bash">Â è§£å‹</span>
tar -xzf v2.25.0.tar.gz
cd git-2.25.0
<span class="hljs-meta prompt_">#</span><span class="bash">Â é…ç½®ç¼–è¯‘é€‰é¡¹</span>
make configure./configure --prefix=/usr/local
<span class="hljs-meta prompt_">#</span><span class="bash">Â ç¼–è¯‘ï¼ˆä½¿ç”¨å¤šæ ¸åŠ é€Ÿï¼Œæ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´ï¼‰</span>
make -j$(nproc) all
sudo make install
</code></pre>
<p>å®‰è£…å®Œæ¯•åï¼Œé¦–å…ˆç¡®ä¿~/.bashrcä¸­æœ‰å¦‚ä¸‹è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">export PATH="/usr/local/bin:$PATH"Â 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d373da2329b24eb2b08ff363b77d35ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=rkcx6NAfQwBrFfyjp0kAuQZe9n0%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæ²¡æœ‰ï¼Œåˆ™æ·»åŠ ä¸Šï¼Œå¹¶ä¸”æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">source ~/.bashrc
</code></pre>
<p>ç„¶åæ‰§è¡Œ git --version æŸ¥çœ‹gitç‰ˆæœ¬ï¼Œåº”è¯¥å°±å¯¹äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ffd8406ecd84942b5d6ed21089e8064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=mcR32aHvQziuTXxENOKRXax%2BrRY%3D" alt="" loading="lazy"/></p>
<p>gitæ›´æ–°å¥½åï¼Œé‡æ–°æ‹‰å–ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">git clone --recurse-submodules -b v1.76.0 --depth 1 --shallow-submodules https://github.com/grpc/grpc
</code></pre>
<p>å¯ä»¥æ‹‰å–æˆåŠŸã€‚</p>
<h3 data-id="heading-7">å®‰è£…grpc</h3>
<p>å®‰è£…è·¯å¾„å°±æ˜¯å‰é¢è®¾ç½®çš„ MY_INSTALL_DIRã€‚</p>
<p>æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> ï¼Œå®‰è£…æŒ‡ä»¤ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">cd grpc Â  Â <span class="hljs-comment"># gitæ‹‰å–çš„ä»“åº“æ–‡ä»¶å¤¹</span>
mkdir -p cmake/build
pushd cmake/build
cmake <span class="hljs-attr">-DgRPC_INSTALL</span>=<span class="hljs-literal">ON</span> \Â  Â  Â  
      <span class="hljs-attr">-DgRPC_BUILD_TESTS</span>=<span class="hljs-literal">OFF</span> \Â  Â  Â  
      <span class="hljs-attr">-DCMAKE_CXX_STANDARD</span>=<span class="hljs-number">17</span> \Â  Â  Â  
      <span class="hljs-attr">-DCMAKE_INSTALL_PREFIX</span>=<span class="hljs-variable">$MY_INSTALL_DIR</span> \Â  Â  Â  
      ../..
</code></pre>
<p>æ‰§è¡Œæ—¶ï¼Œæˆ‘çš„ç¯å¢ƒæŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a683b47c3804b7db30e7c85100012a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=v2DO55Nl376%2BzTq3jnZ52nmIw%2Fs%3D" alt="" loading="lazy"/></p>
<p>æ˜æ˜¾æ˜¯gccç‰ˆæœ¬å¤ªä½äº†ï¼Œä¸æ”¯æŒC++17ã€‚å› æ­¤éœ€è¦å‡çº§gccï¼Œæˆ‘é€‰æ‹©æºç å‡çº§ï¼Œå‡çº§ç‰ˆæœ¬ä¸ºgcc11ã€‚æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo yum groupinstall <span class="hljs-string">"Development Tools"</span>
sudo yum install gmp-devel mpfr-devel libmpc-devel
wget https://mirrors.cloud.tencent.com/gnu/gcc/gcc-11.2.0/gcc-11.2.0.tar.gz
tar -xzf gcc-11.2.0.tar.gz
<span class="hljs-built_in">cd</span> gcc-11.2.0
<span class="hljs-comment"># å»ºè®®åˆ›å»ºç‹¬ç«‹çš„æ„å»ºç›®å½•</span>
<span class="hljs-built_in">mkdir</span> build &amp;&amp; <span class="hljs-built_in">cd</span> build
<span class="hljs-comment"># é…ç½®ç¼–è¯‘é€‰é¡¹ï¼ŒæŒ‡å®šå®‰è£…è·¯å¾„åˆ°/usr/local/gcc-11.2.0; æˆ–è€…è¿™é‡Œç›´æ¥è®¾ç½®æˆ/usr/localå³å¯, çœå»åé¢ä¿®æ”¹ç³»ç»Ÿå˜é‡PATHçš„æ­¥éª¤</span>
../configure --prefix=/usr/local/gcc-11.2.0 --enable-languages=c,c++ --disable-multilib
<span class="hljs-comment"># å¼€å§‹ç¼–è¯‘ï¼Œä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPUæ ¸å¿ƒä»¥åŠ å¿«é€Ÿåº¦</span>
make -j$(<span class="hljs-built_in">nproc</span>)
<span class="hljs-comment"># å®‰è£…ï¼ˆéœ€è¦rootæƒé™ï¼‰</span>
sudo make install
<span class="hljs-comment"># ç¼–è¾‘å½“å‰ç”¨æˆ·çš„bashé…ç½®æ–‡ä»¶ï¼Œå°†GCC 11çš„è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡PATHä¸­ï¼Œè®©ç³»ç»Ÿä¼˜å…ˆä½¿ç”¨</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=/usr/local/gcc-11.2.0/bin:$PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export LD_LIBRARY_PATH=/usr/local/gcc-11.2.0/lib64:$LD_LIBRARY_PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-comment"># ä½¿æ›´æ”¹ç«‹å³ç”Ÿæ•ˆ</span>
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<p>æ‰§è¡Œå®Œæ¯•æ‰§è¡Œï¼Œå¯ä»¥æ‰§è¡Œ gcc -v è¿›è¡Œæ£€æŸ¥ã€‚å¯ä»¥å‘ç°å·²ç»å˜æˆäº†gcc 11.2ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e33cf8df99b643a39acc98d7627440d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=3aW4oJ1PZDlrFF5BQj0xd%2FYD5zM%3D" alt="" loading="lazy"/></p>
<p>ç„¶åé‡æ–°æ‰§è¡Œgrpcçš„cmakeå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">é¦–å…ˆåˆ‡æ¢åˆ°grpcç›®å½•ä¸‹</span>
rm -rf cmake/build  # åˆ é™¤æ—§çš„ä¿¡æ¯
mkdir -p cmake/build
cd cmake/build
<span class="hljs-meta prompt_"># </span><span class="bash">ä¿®æ”¹æŒ‡ä»¤, ç¡®ä¿ä½¿ç”¨æœ€æ–°çš„gcc</span>
<span class="hljs-meta prompt_"># </span><span class="bash">æ­£å¸¸æˆ‘ç†è§£è¿™ä¸ªæ—¶å€™æ˜¯ä¸ç”¨æŒ‡å®šç¼–è¯‘å™¨ç‰ˆæœ¬çš„, å› ä¸ºæˆ‘å·²ç»è®¾ç½®äº†ç¯å¢ƒå˜é‡, åº”è¯¥é»˜è®¤å°±æ˜¯gcc11, ä½†æ˜¯å¾ˆé—æ†¾, æˆ‘é‡è¯•ä¹‹å, è¿˜æ˜¯ä¼šç”¨gcc 4.8.5æ¥ç¼–è¯‘, å› æ­¤è¿™é‡ŒæŒ‡å®šäº†ç¼–è¯‘å™¨ç‰ˆæœ¬</span>
cmake -DCMAKE_C_COMPILER=/usr/local/gcc-11.2.0/bin/gcc \
      -DCMAKE_CXX_COMPILER=/usr/local/gcc-11.2.0/bin/g++ \
      -DgRPC_INSTALL=ON \
      -DgRPC_BUILD_TESTS=OFF \
      -DCMAKE_CXX_STANDARD=17 \
      -DCMAKE_INSTALL_PREFIX=$MY_INSTALL_DIR \
      ../..
<span class="hljs-meta prompt_"># </span><span class="bash">ç¼–è¯‘</span>
make -j$(nproc)
</code></pre>
<p>æ‰§è¡Œç¼–è¯‘ä¹‹åï¼ŒæŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0df4de36ea84ff393b2915d9a8f3dad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=2gWQplctMjzJkkINQA1MqeUKYag%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæ˜¯å› ä¸ºæ±‡ç¼–å™¨ç‰ˆæœ¬è¿‡ä½ï¼Œå¦‚æˆ‘æœ¬åœ°çš„æ±‡ç¼–å™¨ç‰ˆæœ¬æ˜¯2.27ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8772649fff6c48d58b2b5cf7b5a57d29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=3uLpAyy1kFz7KD8IDlKkAlEiLPM%3D" alt="" loading="lazy"/></p>
<p>æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤å‡çº§æ±‡ç¼–å™¨ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æŸ¥çœ‹ç½‘ç«™ https://ftp.gnu.org/gnu/binutils/ æ‰¾åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œè¿™é‡Œé€‰æ‹©2.45</span>
<span class="hljs-meta prompt_"># </span><span class="bash">å¦‚æœå‘ç°ä¸‹è½½é€Ÿåº¦è¿‡æ…¢, å¯ä»¥é€‰æ‹©å›½å†…é•œåƒæº, æ¯”å¦‚é˜¿é‡Œäº‘é•œåƒæºï¼šhttps://mirrors.aliyun.com/gnu/binutils/binutils-2.45.tar.gz</span>
wget http://ftp.gnu.org/gnu/binutils/binutils-2.45.tar.gz
tar -xzf binutils-2.45.tar.gz
cd binutils-2.45
./configure --prefix=/usr/local --enable-gold --enable-plugins --disable-werror
make -j$(nproc)  # ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPUæ ¸å¿ƒè¿›è¡Œç¼–è¯‘ï¼ŒåŠ å¿«é€Ÿåº¦
sudo make install
</code></pre>
<p>å®‰è£…å®Œä¹‹åå†æ£€æŸ¥ä¸€ä¸‹ç‰ˆæœ¬ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc0302eac0934569af7f459bf5d471a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=ncqKE43sP6MOjSrsE4NQ4VeAlz8%3D" alt="" loading="lazy"/></p>
<p>å‡çº§æˆåŠŸã€‚</p>
<p>é‡æ–°æ‰§è¡Œç¼–è¯‘æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">make -j$(nproc)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2d3d8d5ae0943c1b5fd6183067b5e06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=fQxSG9dVHzeRETfSaPLVHbR7N3w%3D" alt="" loading="lazy"/></p>
<p>ç¼–è¯‘æˆåŠŸ</p>
<p>ç„¶åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">make install
</code></pre>
<p>å®‰è£…ã€‚æˆåŠŸä¹‹åï¼Œåœ¨å®‰è£…ç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶å¤¹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ac3c632b95c4046a7415ef49b3fcaed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=FMgQLKUV5%2Fn1ybIgcrFm99CdbIQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">C++ grpc helloworldç¤ºä¾‹ç¨‹åºç¼–è¯‘è¿è¡Œ</h2>
<p>æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F%25EF%25BC%258C%25E6%2589%25A7%25E8%25A1%258C%25E5%25A6%2582%25E4%25B8%258B%25E6%258C%2587%25E4%25BB%25A4%25E8%25BF%2590%25E8%25A1%258C%25E7%25A4%25BA%25E4%25BE%258B%25E7%25A8%258B%25E5%25BA%258F%25EF%25BC%259A" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/%EF%BC%8C%E6%89%A7%E8%A1%8C%E5%A6%82%E4%B8%8B%E6%8C%87%E4%BB%A4%E8%BF%90%E8%A1%8C%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F%EF%BC%9A" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">é¦–å…ˆåˆ‡æ¢åˆ°grpcä»“åº“ä¸‹</span>
cd examples/cpp/helloworld

mkdir -p cmake/build
pushd cmake/build
cmake -DCMAKE_C_COMPILER=/usr/local/gcc-11.2.0/bin/gcc \
      -DCMAKE_CXX_COMPILER=/usr/local/gcc-11.2.0/bin/g++ \
      -DCMAKE_PREFIX_PATH=$MY_INSTALL_DIR ../..
make -j$(nproc)
</code></pre>
<p>æˆ‘æœ¬åœ°æŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bb1518885544513b456dae0f7b4aa9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=PVdDeiVh2v8BYibSP%2FuXI9K3GUw%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯å› ä¸ºGLIBCXX ç‰ˆæœ¬è¿‡ä½ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬å®‰è£…äº†gcc 11.2 æ˜¯æœ‰é«˜ç‰ˆæœ¬çš„ã€‚æ‰§è¡Œ</p>
<pre><code class="hljs language-shell" lang="shell">sudo find / -name "libstdc++.so.6*" 2&gt;/dev/nullÂ 
</code></pre>
<p>æŒ‡ä»¤è¿›è¡ŒæŸ¥æ‰¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35cdb6aac604440ab32326ac1e47b48d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=n9YpiyCuuH7DXc03WQzADSlyLR8%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥æ‰¾åˆ°æ›´é«˜ç‰ˆæœ¬ã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤æ­£ç¡®é“¾æ¥ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">sudo cp /usr/local/gcc-11.2.0/lib64/libstdc++.so.6.0.29 /usr/lib64/
cd /usr/lib64
<span class="hljs-meta prompt_"># </span><span class="bash">å¤‡ä»½æ—§ç‰ˆæœ¬ï¼ˆå¯é€‰ä½†æ¨èï¼‰</span>
sudo cp libstdc++.so.6 libstdc++.so.6.bak
<span class="hljs-meta prompt_"># </span><span class="bash">åˆ›å»ºæŒ‡å‘æ–°ç‰ˆæœ¬çš„è½¯é“¾æ¥</span>
sudo ln -sf libstdc++.so.6.0.29 libstdc++.so.6
<span class="hljs-meta prompt_"># </span><span class="bash">æ›´æ–°åŠ¨æ€åº“ç¼“å­˜</span>
sudo ldconfig
</code></pre>
<p>é‡æ–°å›åˆ°ç¤ºä¾‹æ–‡ä»¶å¤¹æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make -j$(<span class="hljs-built_in">nproc</span>)
</code></pre>
<p>æˆ‘çš„æœºå™¨åªæœ‰2æ ¸2Gï¼Œä¼šå› ä¸ºå†…å­˜ä¸è¶³è€ŒæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">[xxxxxxxx@VM-0-5-centos ~/grpc/examples/cpp/helloworld/cmake/build] ((no branch))$ make -j$(nproc)
[ 22%] Built target hw_grpc_proto
[ 27%] Linking CXX executable greeter_server
[ 33%] Linking CXX executable greeter_client
collect2: fatal error: ld terminated with signal 9 [Killed]
compilation terminated.
make[2]: *** [greeter_server] Error 1
make[2]: *** Deleting file `greeter_server'
make[1]: *** [CMakeFiles/greeter_server.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
</code></pre>
<p>æš‚æ—¶æ²¡æœ‰èµ„é‡‘å»å‡çº§æœºå™¨ï¼Œ æ‰€ä»¥å…ˆå¢åŠ ä¸€ä¸‹swapç©ºé—´æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º Swap æ–‡ä»¶</span>
sudo <span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/zero of=/swapfile bs=1M count=2048  <span class="hljs-comment"># å› ä¸ºç³»ç»Ÿç›˜åªæœ‰40Gï¼Œæ‰€ä»¥ä¹Ÿä¸å¤ªæ•¢æŠŠswapè®¾ç½®å¤ªé«˜ï¼Œæä¸ª2Gå…ˆçœ‹çœ‹</span>
<span class="hljs-comment"># è®¾ç½®æƒé™</span>
sudo <span class="hljs-built_in">chmod</span> 600 /swapfile
<span class="hljs-comment"># æ ¼å¼åŒ–å¹¶å¯ç”¨</span>
sudo mkswap /swapfile  <span class="hljs-comment"># æ ¼å¼åŒ–</span>
sudo swapon /swapfile  <span class="hljs-comment"># ç«‹å³å¯ç”¨</span>
<span class="hljs-comment"># è®¾ç½®æ°¸ä¹…ç”Ÿæ•ˆ</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'/swapfile none swap sw 0 0'</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/fstab
</code></pre>
<p>æ‰§è¡Œ free -h ï¼Œ å¯ä»¥çœ‹åˆ°å·²ç»æœ‰swapç©ºé—´äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cad39b7b48d341948bd30b378b00f9e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=aNVnTMh7qvthpcvfmmaKLxmwmb0%3D" alt="" loading="lazy"/></p>
<p>ç¼–è¯‘å®Œæˆåã€‚åœ¨æ„å»ºç›®å½• Â examples/cpp/helloworld/cmake/build ä¸‹æ‰§è¡Œï¼š</p>
<ul>
<li>
<p>è¿è¡ŒæœåŠ¡å™¨ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-shell" lang="shell">./greeter_server
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/781a00e877534754ac0b6ffc6e96ed0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=tbtxE3B790qtiyixt4XLVzB4yPA%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>åœ¨å¦å¤–ä¸€ä¸ªç»ˆç«¯è¿è¡Œå®¢æˆ·ç«¯ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-shell" lang="shell">./greeter_client
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/989255eb15ff4df5adec3a4d870debf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=jewmm2jUJDa%2FyEkY0bD0nALQf3Y%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°æœ‰ç»“æœè¾“å‡ºï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥æ­£å¸¸è¿›è¡Œé€šä¿¡äº†ã€‚</p>
<h2 data-id="heading-9">C++ grpc helloworldç¤ºä¾‹ç¨‹åºä¿®æ”¹è¿è¡Œ</h2>
<p>ä»¥ä¸‹ç›¸å…³ä»£ç éƒ½å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> ä¸­æ‰¾åˆ°ã€‚</p>
<h3 data-id="heading-10">æ›´æ–°protoå®šä¹‰</h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹ï¼Œç¼–è¾‘ Â examples/protos/helloworld.proto ï¼Œå¢åŠ  SayHelloAgain() åè®®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fe510cc3d1b491d92f339fffb90161a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=zmshfGrHvSIaRir5VSiBmkPETpc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">æ›´æ–°æœåŠ¡å™¨ä»£ç </h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹ï¼Œç¼–è¾‘examples/cpp/helloworld/greeter_server.ccï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26636fde62354fc49e90278c92486d1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=PySGfQ2ZNIx80ZHktTr2DFbrjsI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">æ›´æ–°å®¢æˆ·ç«¯ä»£ç </h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹ï¼Œç¼–è¾‘examples/cpp/helloworld/greeter_client.ccï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecc664355cf3418eb2e40b06471a4b98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=nm0lInVCHOm%2FwutLXvGhfTdVx9Q%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e6001e43a374915b52cf2962a63c953~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Oa2UP9BccR8d3yDRd7KNWjbUnvU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">é‡æ–°ç¼–è¯‘</h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹çš„examples/cpp/helloworld/cmake/buildä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make -j$(<span class="hljs-built_in">nproc</span>)
</code></pre>
<p>buildæˆåŠŸä¹‹åï¼Œå†æ¬¡è¿è¡Œã€‚ä¾ç„¶åœ¨ examples/cpp/helloworld/cmake/build ç›®å½•ä¸‹ï¼š</p>
<ul>
<li>
<p>è¿è¡ŒæœåŠ¡å™¨</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./greeter_server
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd7902d2f43e43eeb5e875e2c30ce448~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=IaS6%2FEwIc%2FczRMuoKaAPMeTMqrs%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>å†åœ¨å¦å¤–ä¸€ä¸ªç»ˆç«¯è¿è¡Œå®¢æˆ·ç«¯</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./greeter_client
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7d9b7ead93946f4a59fb865bb924b76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=xenAZ1FFwfVXhNCMG3EB34gI4SM%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥å‘ç°æ–°åè®®é€šä¿¡æˆåŠŸ</p>
<h2 data-id="heading-14">ä¸ªäººC++é¡¹ç›®ä¸­ä¾èµ–grpcç¤ºä¾‹ç¼–è¯‘è¿è¡Œ</h2>
<p>è¿™é‡Œç»™å‡ºæˆ‘ç®€å•å®ç°çš„ä»£ç ã€‚åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FEarthlyImmortal%2Fblog_code" title="https://github.com/EarthlyImmortal/blog_code" target="_blank" ref="nofollow noopener noreferrer">github.com/EarthlyImmoâ€¦</a></p>
<p>æœ¬åœ°è¿è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>å…‹éš†ä»“åº“åˆ°æœ¬åœ°</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  git <span class="hljs-built_in">clone</span> https://github.com/EarthlyImmortal/blog_code
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e127e03ec1e4f06a4c59b987f4fc7a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=jgt5Rtok3qfhKwlDVEkji2zgq%2B0%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
</li>
</ul>
</li>
<li>
<p>åˆ‡æ¢åˆ°ä»“åº“ç›®å½•</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  <span class="hljs-built_in">cd</span> blog_code
  <span class="hljs-built_in">ls</span>
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dd241691e234686a091992d75e0a9a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=qf0VYs4JZLoQcqQNnfY8o72Yg1k%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>æ–°å»ºç›®å½•grpcï¼Œå°†ç¼–è¯‘å¥½çš„grpcç›¸å…³å†…å®¹(å³MY_INSTALL_DIR)ä¸­çš„å†…å®¹å¤åˆ¶åˆ°grpcç›®å½•ä¸‹ã€‚å¦‚æœæ²¡æœ‰ç¼–è¯‘å¯ä»¥å…³æ³¨å…¬ä¼—å·Â åªåšäººé—´ä¸è€ä»™ï¼Œåå°å‘é€Â grpcç¼–è¯‘æ–‡ä»¶Â è·å–æˆ‘ç¼–è¯‘å†…å®¹çš„å‹ç¼©åŒ…ã€‚æ²¡æœ‰ç›´æ¥æ”¾åˆ°gitä»“åº“æ˜¯å› ä¸ºæœ‰äº›åº“å¤ªå¤§äº†ã€‚ä¸‹é¢æˆ‘ä»¥å‹ç¼©åŒ…ä¸ºä¾‹ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨å‹ç¼©åŒ…ä¸ç”¨æå‰æ–°å»ºç›®å½•ï¼Œç›´æ¥å°†å‹ç¼©åŒ…ä¸Šä¼ åˆ°å½“å‰ç›®å½•</p>
<ul>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4442379935474bf59d67de8acb106204~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=D6mGI4TZc7YXWS6A1nbfQaTI81g%3D" alt="" loading="lazy"/></li>
</ul>
</li>
<li>
<p>è§£å‹</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  tar -xzf grpc_bin.tar.gzÂ 
  <span class="hljs-built_in">ls</span>
</code></pre>
</li>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cfebea3a3e34feb96cc1edb84cdb5a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Y2CLMyBlS0XaWjrcP0iApMKFmVU%3D" alt="" loading="lazy"/></li>
</ul>
</li>
</ul>
</li>
<li>
<p>åˆ‡æ¢åˆ°hello_worldç›®å½•</p>
</li>
<li>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  <span class="hljs-built_in">cd</span> hello_world
  <span class="hljs-built_in">ls</span>
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66c1fbf1649540089246fb7c410d7aec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=pvfJ4ZXCv06QygjfRSDEmMfK8QE%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>ä¿®æ”¹start_build.shä¸­çš„gccå’Œg++è·¯å¾„ã€‚åˆ‡æ¢ä¸ºè‡ªå·±æœ¬åœ°çš„é«˜ç‰ˆæœ¬gccè·¯å¾„ã€‚</p>
<ul>
<li>
<p>å¦‚æœä¸çŸ¥é“æœ¬åœ°é«˜ç‰ˆæœ¬gccè·¯å¾„åœ¨å“ªé‡Œï¼Œå¯ä»¥æ‰§è¡Œwhereis gcc è¿›è¡ŒæŸ¥æ‰¾</p>
<ul>
<li>
<pre><code class="hljs">  whereis gcc
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1b87e26f1324f1ebf56ad36836186a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=ggoyTENqg6K6NuYg%2FOFTnfu94mY%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ace7141a4424d00a6e2ffad44907fc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=DJTl8tDSx3POB0pwNPihAsVRho4%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>å¦‚æœé»˜è®¤gccå°±æ˜¯é«˜ç‰ˆæœ¬ï¼Œå¯ä»¥å°†CMakeæŒ‡ä»¤ä¸­æŒ‡å®šç‰ˆæœ¬çš„éƒ¨åˆ†åˆ é™¤</p>
<ul>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a31180ad76946228831bf99d4c08584~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=5phrtixVzMpq8o%2FQIhlVpv0YX8c%3D" alt="" loading="lazy"/></li>
</ul>
</li>
</ul>
</li>
<li>
<p>è¿è¡Œstart_build.shè¿›è¡Œç¼–è¯‘</p>
<ul>
<li>
<pre><code class="hljs">  sh start_build.sh
</code></pre>
</li>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75de6e1f9f294a41ba23eda7554d7933~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=rYQk%2B7P%2BM94h3BI9t5yuKO%2F4BbU%3D" alt="" loading="lazy"/></li>
</ul>
</li>
</ul>
<p>ç¼–è¯‘å®Œæˆåï¼Œè¿›è¡Œè¿è¡Œã€‚</p>
<ul>
<li>
<p>åœ¨blog_code/hello_world/build/serverç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./server
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01c145f59b674d818acab8b07564314c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=nvPlfmQjA5UqghSDRTeJb%2F2oryE%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>å¦å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œåœ¨blog_code/hello_world/build/clientç›®å½•ä¸‹æ‰§è¡Œ</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./client
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91cd8f4372a14793a6736ed047fc4f32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Z1igFKHWl1hw7gU3CUv%2BDehXqro%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥å‘ç°ï¼Œå¯ä»¥æ­£å¸¸é€šä¿¡ã€‚</p>
<p>æ³¨æ„ï¼Œä¸ºäº†å°½å¯èƒ½ä¸å‡ºé—®é¢˜ï¼Œéƒ¨ç½²æœåŠ¡å™¨ç¯å¢ƒè¦ä¸ç¼–è¯‘æœåŠ¡å™¨ç¯å¢ƒä¸€è‡´ã€‚è¿™é‡Œå†æ¬¡ç»™å‡ºæˆ‘ä¸ªäººç¼–è¯‘ç¯å¢ƒä¸‹çš„ä¸»è¦è½¯ä»¶ç‰ˆæœ¬ï¼š</p>
<ul>
<li>CMakeç‰ˆæœ¬ï¼š4.2.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>Gitç‰ˆæœ¬ï¼š2.25.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GCCç‰ˆæœ¬ï¼šgcc 11.2ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GLIBCXX ç‰ˆæœ¬ï¼šlibstdc++.so.6.0.29ï¼ˆä¼´éšgcc11.2å®‰è£…ï¼‰ï¼Œè®¾ç½®è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpc helloworldç¤ºä¾‹ç¨‹åºè¿è¡Œ</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>as &amp; ldç‰ˆæœ¬: Â  2.45ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
</ul>
<p>å¦‚é‡åˆ°å…¶ä»–æœ¬æ–‡æœªæåŠçš„é”™è¯¯ï¼Œå»ºè®®ç½‘ä¸ŠæŸ¥æ‰¾ç›¸å…³èµ„æ–™æˆ–è€…è¯¢é—®AIå·¥å…·è¿›è¡Œè§£å†³ã€‚</p>
<p>è¯´æ˜ï¼šé™äºæ—¶é—´å’Œèµ„æºåŸå› ï¼Œä¸Šè¿°å†…å®¹è¿˜æ˜¯åœ¨åŸæ¥çš„æœºå™¨ä¸Šæµ‹è¯•çš„ã€‚åé¢æˆ‘åœ¨å¦å¤–ä¸€å°æœºå™¨ä¸Šè¿›è¡Œå¤ç°ï¼Œåœ¨ç¡®ä¿ä»¥ä¸Šè½¯ä»¶ç‰ˆæœ¬æ­£ç¡®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç¼–è¯‘é€šè¿‡å¹¶æ­£å¸¸è¿è¡Œã€‚</p>
<h2 data-id="heading-15">å‚è€ƒ</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a></p>
</li>
<li>
<p>è…¾è®¯å…ƒå®-deepseek(<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuanbao.tencent.com%2F)%25E8%25BE%2585%25E5%258A%25A9%25E3%2580%2582" target="_blank" title="https://yuanbao.tencent.com/)%E8%BE%85%E5%8A%A9%E3%80%82" ref="nofollow noopener noreferrer">yuanbao.tencent.com/)è¾…åŠ©ã€‚</a></p>
</li>
</ul>
<h2 data-id="heading-16">å¾®ä¿¡å…¬ä¼—å·ï¼šåªåšäººé—´ä¸è€ä»™</h2>
<p>æ¬¢è¿å…³æ³¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEulerå¤šæ ¸å‹ç¼©æ€§èƒ½å®æˆ˜ï¼šä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡]]></title>    <link>https://juejin.cn/post/7580208715275255850</link>    <guid>https://juejin.cn/post/7580208715275255850</guid>    <pubDate>2025-12-05T15:55:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715275255850" data-draft-id="7580196545288405046" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEulerå¤šæ ¸å‹ç¼©æ€§èƒ½å®æˆ˜ï¼šä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T15:55:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯åº—å°äºŒå‘€"/> <meta itemprop="url" content="https://juejin.cn/user/4132386718619243"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEulerå¤šæ ¸å‹ç¼©æ€§èƒ½å®æˆ˜ï¼šä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4132386718619243/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯åº—å°äºŒå‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:55:04.000Z" title="Fri Dec 05 2025 15:55:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ç³»ç»Ÿä¸­ï¼Œå‹ç¼©å·¥å…·æ˜¯æ—¥å¸¸è¿ç»´ä¸å¯æˆ–ç¼ºçš„åˆ©å™¨ã€‚ä½†ä½ æ˜¯å¦æƒ³è¿‡ï¼Œé‚£é¢—é—²ç½®çš„å¤šæ ¸CPUèƒ½ä¸ºå‹ç¼©ä»»åŠ¡å¸¦æ¥å¤šå¤§çš„æ€§èƒ½æå‡ï¼Ÿæœ¬æ–‡å°†é€šè¿‡openEulerç³»ç»Ÿä¸Šçš„çœŸå®æµ‹è¯•ï¼Œç”¨gzipã€xzã€zstdä¸‰æ¬¾ä¸»æµå·¥å…·ï¼Œå¸¦ä½ è§è¯ä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡ã€‚æˆ‘ä»¬å°†ç”¨æœ€ç›´è§‚çš„æ‰‹åŠ¨å‘½ä»¤æ“ä½œï¼Œè®°å½•æ¯ä¸€ä¸ªçœŸå®çš„æ—¶é—´æ•°æ®ï¼Œè®¡ç®—æ¯ä¸€ä¸ªåŠ é€Ÿæ¯”ï¼Œè®©ä½ äº²çœ¼çœ‹åˆ°å¤šæ ¸å¹¶è¡Œçš„é­”åŠ›â€”â€”ä»30ç§’åˆ°6ç§’çš„é£è·ƒï¼Œä»4ç§’åˆ°1ç§’çš„æè‡´ï¼Œè¿™ä¸æ˜¯ç†è®ºï¼Œè€Œæ˜¯ä½ ä¹Ÿèƒ½å¤ç°çš„çœŸå®æ€§èƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸æµ‹è¯•æ•°æ®</h2>
<h3 data-id="heading-1">å¿«é€Ÿæ­å»ºæµ‹è¯•ç¯å¢ƒ</h3>
<p>é¦–å…ˆå®‰è£…å¿…è¦çš„å‹ç¼©å·¥å…·å¹¶ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£…å·¥å…·</span>
sudo dnf install -y gzip xz zstd pigz

<span class="hljs-comment"># æŸ¥çœ‹CPUæ ¸å¿ƒæ•°ï¼ˆè®°ä½è¿™ä¸ªæ•°å­—ï¼Œåé¢ä¼šç”¨åˆ°ï¼‰</span>
<span class="hljs-built_in">nproc</span>

<span class="hljs-comment"># åˆ›å»ºæµ‹è¯•ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> ~/å‹ç¼©æµ‹è¯• &amp;&amp; <span class="hljs-built_in">cd</span> ~/å‹ç¼©æµ‹è¯•

<span class="hljs-comment"># ç”Ÿæˆ1GBæµ‹è¯•æ–‡ä»¶</span>
<span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/urandom of=test.dat bs=1M count=1024
</code></pre>
<p><strong>æ‰§è¡Œåä½ ä¼šçœ‹åˆ°ï¼š</strong></p>
<pre><code class="hljs language-Plain" lang="Plain">è¾“å…¥äº† 1024+0 å—è®°å½•
è¾“å‡ºäº† 1024+0 å—è®°å½•
1073741824 å­—èŠ‚ (1.1 GB, 1.0 GiB) å·²å¤åˆ¶ï¼Œ5.68396 sï¼Œ189 MB/s
</code></pre>
<p>ç°åœ¨ä½ æœ‰äº†ä¸€ä¸ª1GBçš„æµ‹è¯•æ–‡ä»¶ï¼Œå¯ä»¥å¼€å§‹å‹ç¼©æµ‹è¯•äº†ã€‚ç³»ç»Ÿæœ‰<strong>4ä¸ªCPUæ ¸å¿ƒ</strong>ï¼Œæ¥ä¸‹æ¥ä¼šçœ‹åˆ°å¤šæ ¸å¸¦æ¥çš„æ˜æ˜¾åŠ é€Ÿæ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91557e74b15f477187a39bfd95a964b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=YZJJD25GiEljfFonUzWbn%2BJU%2FXc%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">äºŒã€å•æ ¸å‹ç¼©åŸºå‡†æµ‹è¯•</h2>
<h3 data-id="heading-3">æ‰‹åŠ¨æµ‹è¯•ä¸‰ç§å‹ç¼©å·¥å…·</h3>
<p>ç°åœ¨é€ä¸ªæµ‹è¯•æ¯ç§å‹ç¼©å·¥å…·çš„å•æ ¸æ€§èƒ½ï¼Œä½¿ç”¨<code>time</code>å‘½ä»¤è®°å½•è€—æ—¶ï¼š</p>
<p><strong>æµ‹è¯•1ï¼šgzipå‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time gzip -k -c test.dat &gt; test.gz
<span class="hljs-built_in">ls</span> -lh test.gz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 15:59 test.gz

real    0m30.725s    â† å®é™…è€—æ—¶30.7ç§’
user    0m24.057s    â† CPUå·¥ä½œæ—¶é—´
sys     0m6.436s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/509d190fec86463abb8f0f42b21ad2f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=Qhx1TwDr40dJoMCpF4R1yMmQlwA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯•2ï¼šxzå‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time xz -k -c test.dat &gt; test.xz
<span class="hljs-built_in">ls</span> -lh test.xz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:02 test.xz

real    1m43.880s    â† è€—æ—¶1åˆ†43ç§’ï¼ˆ103.9ç§’ï¼‰
user    6m17.384s
sys     0m21.539s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed1b0ed947ed4d6aa51406ac04cf3063~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=4zdAEwh1H2PFfnXAJR%2BW%2BtYmrBk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯•3ï¼šzstdå‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time zstd -k -c test.dat &gt; test.zst
<span class="hljs-built_in">ls</span> -lh test.zst
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:02 test.zst

real    0m4.057s     â† æœ€å¿«ï¼ä»…4.1ç§’
user    0m0.601s
sys     0m4.521s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4146db5c592f4f43841bc5681ffcba71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=pAZv1hwUbav0h7mr1Q%2FWvo5hdYs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ‰‹åŠ¨è®°å½•å¯¹æ¯”ç»“æœï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7284e0dd13d44b668cfd6704155ecec5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=HEN51KBw8DWTPSE6A2qQNHYPJRY%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ³¨æ„ï¼š</strong> ç”±äºæµ‹è¯•æ•°æ®æ˜¯éšæœºç”Ÿæˆçš„ï¼ˆ/dev/urandomï¼‰ï¼Œå‹ç¼©æ¯”æä½ï¼Œæ‰€æœ‰å·¥å…·å‹ç¼©åå¤§å°éƒ½æ¥è¿‘åŸå§‹å¤§å°ã€‚è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼ŒçœŸå®æ•°æ®ï¼ˆå¦‚æ—¥å¿—ã€æ–‡æœ¬ï¼‰ä¼šæœ‰æ›´å¥½çš„å‹ç¼©æ•ˆæœã€‚</p>
<p>æ¸…ç†æµ‹è¯•æ–‡ä»¶ï¼Œå‡†å¤‡å¤šæ ¸æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">rm</span> test.gz test.xz test.zst
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å¤šæ ¸å‹ç¼©æ€§èƒ½å¯¹æ¯”</h2>
<h3 data-id="heading-5">å¼€å¯å¤šæ ¸åŠ é€Ÿå®æˆ˜</h3>
<p>ç°åœ¨å¯ç”¨æ‰€æœ‰CPUæ ¸å¿ƒè¿›è¡Œå¹¶è¡Œå‹ç¼©ï¼Œè§‚å¯Ÿæ€§èƒ½æå‡ã€‚</p>
<p><strong>æµ‹è¯•1ï¼špigzå¤šæ ¸å‹ç¼©ï¼ˆgzipçš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼‰</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ä½¿ç”¨4ä¸ªæ ¸å¿ƒ</span>
time pigz -p 4 -k -c test.dat &gt; test_multi.gz
<span class="hljs-built_in">ls</span> -lh test_multi.gz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:03 test_multi.gz

real    0m6.867s     â† ä»30.7ç§’é™åˆ°6.9ç§’ï¼
user    0m24.289s    â† æ³¨æ„ï¼šuseræ—¶é—´æ˜¯4ä¸ªæ ¸å¿ƒçš„æ€»å’Œ
sys     0m2.042s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0664dc8f21cb474c90765bf99073739d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=2CDNhEr5pwZkcxHx9s%2Fbu%2BtnJlU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è®¡ç®—åŠ é€Ÿæ¯”ï¼š</strong> 30.7 Ã· 6.9 = <strong>4.5å€åŠ é€Ÿ</strong> ğŸš€ï¼ˆè¶…è¶Šç†è®ºæé™ï¼ï¼‰</p>
<p><strong>æµ‹è¯•2ï¼šxzå¤šæ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time xz -T 4 -k -c test.dat &gt; test_multi.xz
<span class="hljs-built_in">ls</span> -lh test_multi.xz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:05 test_multi.xz

real    1m38.036s    â† ä»103.9ç§’é™åˆ°98ç§’
user    6m16.811s
sys     0m1.921s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9670965391934d2a964f2bb5de7ef329~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=knFuOtZ1akDy3ZB6AQiln6JybDM%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è®¡ç®—åŠ é€Ÿæ¯”ï¼š</strong> 103.9 Ã· 98 = <strong>1.06å€åŠ é€Ÿ</strong>ï¼ˆxzå¯¹éšæœºæ•°æ®å¤šæ ¸æ•ˆæœæœ‰é™ï¼‰</p>
<p><strong>æµ‹è¯•3ï¼šzstdå¤šæ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># -T0 è¡¨ç¤ºè‡ªåŠ¨ä½¿ç”¨æ‰€æœ‰æ ¸å¿ƒ</span>
time zstd -T0 -k -c test.dat &gt; test_multi.zst
<span class="hljs-built_in">ls</span> -lh test_multi.zst
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:05 test_multi.zst

real    0m1.261s     â† ä»4.1ç§’é™åˆ°1.3ç§’ï¼
user    0m1.018s
sys     0m0.727s
</code></pre>
<p><strong>è®¡ç®—åŠ é€Ÿæ¯”ï¼š</strong> 4.1 Ã· 1.3 = <strong>3.2å€åŠ é€Ÿ</strong> ğŸš€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be27fe1baa1e4fdf98e27203cc46ec42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=jGhDo5MTlrmYrVwdSphrQKXnem4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ‰‹åŠ¨è®°å½•å¤šæ ¸å¯¹æ¯”ç»“æœï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bc143737add4d82b3cc9ef059803c54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=DpCkjXDYzEafLAA0djm31I6Ohyw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å…³é”®å‘ç°ï¼š</strong></p>
<ul>
<li>
<p>âœ… pigzå®ç°äº†è¶…çº¿æ€§åŠ é€Ÿï¼ˆ4.5å€ &gt; 4æ ¸ï¼‰ï¼Œå¾—ç›Šäºä¼˜ç§€çš„å¹¶è¡Œç®—æ³•</p>
</li>
<li>
<p>âœ… zstdè¾¾åˆ°äº†3.2å€åŠ é€Ÿï¼Œæ¥è¿‘ç†è®ºæé™</p>
</li>
<li>
<p>âš ï¸ xzå¯¹éšæœºæ•°æ®çš„å¤šæ ¸ä¼˜åŒ–æ•ˆæœæœ‰é™ï¼ˆçœŸå®æ•°æ®ä¼šæ›´å¥½ï¼‰</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-6">å››ã€å®æ—¶ç›‘æ§CPUä½¿ç”¨æƒ…å†µ</h2>
<h3 data-id="heading-7">å¯è§†åŒ–è§‚å¯Ÿå¤šæ ¸å·¥ä½œçŠ¶æ€</h3>
<p>æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£ï¼Œä¸€ä¸ªè¿è¡Œç›‘æ§ï¼Œä¸€ä¸ªæ‰§è¡Œå‹ç¼©ï¼š</p>
<p><strong>ç»ˆç«¯1ï¼šå¯åŠ¨å®æ—¶ç›‘æ§</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">htop
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/994f7648448a4416a861445f681f9794~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=kho4o8Ton084Ic7BED3%2BGYHaFec%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç»ˆç«¯2ï¼šæ‰§è¡Œå•æ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">gzip -c test.dat &gt; test.gz
</code></pre>
<p>åœ¨htopä¸­è§‚å¯Ÿåˆ°çš„CPUä½¿ç”¨æƒ…å†µï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2e8b629f6e14c62b01da8486c66d867~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=B8ETj39%2FFD8ZWEXp6TRQTq8ZGBk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç»ˆç«¯2ï¼šæ‰§è¡Œå¤šæ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">pigz -p 4 -c test.dat &gt; test.gz
</code></pre>
<p>åœ¨htopä¸­è§‚å¯Ÿåˆ°çš„CPUä½¿ç”¨æƒ…å†µï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">    0[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%] Tasks: 28, 53 thr, 138 kthr; 0 running
    1[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%] Load average: 2.02 1.62 0.89 
    2[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%] Uptime: 01:23:52
    3[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%]
  Mem[|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||1.28G/5.32G]
  Swp[                                                                                            0K/3.92G]
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/907d8656809340df8f0c5040bad9a351~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=R7DxJP0DfG7uuTuPgw9EYjbnnEQ%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç›´è§‚å¯¹æ¯”ï¼š</strong></p>
<ul>
<li>
<p>å•æ ¸æ¨¡å¼ï¼šæ€»CPUä½¿ç”¨ç‡çº¦ <strong>100%</strong></p>
</li>
<li>
<p>å¤šæ ¸æ¨¡å¼ï¼šæ€»CPUä½¿ç”¨ç‡çº¦ <strong>380%</strong>ï¼ˆ4æ ¸Ã—95%ï¼‰</p>
</li>
</ul>
<p>è¿™å°±æ˜¯openEulerå¤šæ ¸è°ƒåº¦çš„å¨åŠ›ï¼æ‰€æœ‰æ ¸å¿ƒéƒ½è¢«å……åˆ†åˆ©ç”¨ï¼Œæ²¡æœ‰æµªè´¹ã€‚</p>
<hr/>
<h2 data-id="heading-8">äº”ã€çœŸå®åœºæ™¯åº”ç”¨æµ‹è¯•</h2>
<h3 data-id="heading-9">æ—¥å¿—å½’æ¡£åœºæ™¯</h3>
<p>æ¨¡æ‹Ÿå‹ç¼©ä¸€å‘¨çš„ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ï¼ˆ500MBæ–‡æœ¬æ•°æ®ï¼‰ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç”Ÿæˆ500MBæ¨¡æ‹Ÿæ—¥å¿—ï¼ˆbase64ç¼–ç ï¼Œæ¨¡æ‹ŸçœŸå®æ–‡æœ¬ï¼‰</span>
<span class="hljs-built_in">head</span> -c 500M /dev/urandom | <span class="hljs-built_in">base64</span> &gt; logs.txt

<span class="hljs-comment"># å•æ ¸å‹ç¼©</span>
time gzip -k logs.txt
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">real    0m30.839s
</code></pre>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¤šæ ¸å‹ç¼©</span>
time pigz -p 4 -k logs.txt
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">real    0m14.590s
</code></pre>
<p><strong>ç»“è®ºï¼š</strong> æ—¥å¿—å½’æ¡£é€Ÿåº¦æå‡ <strong>2.1å€</strong>ï¼ˆ30.8ç§’ â†’ 14.6ç§’ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b46adb268b04c87a7a9eed65bc10fbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=bWzdmKZzUT9qP54ZmOzisouJoDI%3D" alt="image.png" loading="lazy"/></p>
<p><strong>çœŸå®åœºæ™¯ä¼˜åŠ¿ï¼š</strong> æ–‡æœ¬æ•°æ®ï¼ˆå¦‚æ—¥å¿—ï¼‰æ¯”éšæœºæ•°æ®æ›´æ˜“å‹ç¼©ï¼Œå®é™…åº”ç”¨ä¸­å‹ç¼©æ¯”ä¼šæ˜¾è‘—æå‡ï¼Œå­˜å‚¨ç©ºé—´èŠ‚çœå¯è¾¾50-80%ã€‚</p>
<h3 data-id="heading-10">æ•°æ®åº“å¤‡ä»½åœºæ™¯</h3>
<p>æ¨¡æ‹ŸMySQLå¯¼å‡ºæ–‡ä»¶å‹ç¼©ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç”Ÿæˆ1.5GBæ¨¡æ‹Ÿæ•°æ®åº“æ–‡ä»¶</span>
<span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/urandom of=database.sql bs=1M count=1536

<span class="hljs-comment"># ä½¿ç”¨zstdå¿«é€Ÿå‹ç¼©</span>
time zstd -T0 database.sql

<span class="hljs-comment"># æŸ¥çœ‹å‹ç¼©æ•ˆæœ</span>
<span class="hljs-built_in">ls</span> -lh database.sql*
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">è¾“å…¥äº† 1536+0 å—è®°å½•
è¾“å‡ºäº† 1536+0 å—è®°å½•
1610612736 å­—èŠ‚ (1.6 GB, 1.5 GiB) å·²å¤åˆ¶ï¼Œ4.24582 sï¼Œ379 MB/s

database.sql         :100.00%   (  1.50 GiB =&gt;   1.50 GiB, database.sql.zst)

real    0m1.302s

-rw-r--r-- 1 root root 1.5G 11æœˆ15æ—¥ 16:09 database.sql
-rw-r--r-- 1 root root 1.6G 11æœˆ15æ—¥ 16:09 database.sql.zst
</code></pre>
<p><strong>ç»“è®ºï¼š</strong> 1.5GBæ•°æ®ä»…éœ€ <strong>1.3ç§’</strong> å‹ç¼©å®Œæˆï¼Œå¤„ç†é€Ÿåº¦è¾¾åˆ° <strong>1.15GB/s</strong>ï¼Œéå¸¸é€‚åˆè‡ªåŠ¨åŒ–å¤‡ä»½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8a797f6ee354860b16b60d13244af36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=oV2crBtsBdFKWCFlbap7m3OI%2B8c%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ³¨æ„ï¼š</strong> éšæœºæ•°æ®æ— æ³•å‹ç¼©ï¼ŒçœŸå®æ•°æ®åº“æ–‡ä»¶é€šå¸¸å¯å‹ç¼©è‡³åŸå¤§å°çš„30-50%ã€‚</p>
<hr/>
<h2 data-id="heading-11">å…­ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-12">æ—¥å¸¸ä½¿ç”¨é…ç½®</h3>
<p>å°†å¤šæ ¸å‹ç¼©è®¾ä¸ºé»˜è®¤è¡Œä¸ºï¼Œç¼–è¾‘ <code>~/.bashrc</code>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">vi ~/.bashrc
</code></pre>
<p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¤šæ ¸å‹ç¼©åˆ«å</span>
<span class="hljs-built_in">alias</span> gzip=<span class="hljs-string">'pigz -p $(nproc)'</span>
<span class="hljs-built_in">alias</span> zstd=<span class="hljs-string">'zstd -T0'</span>
<span class="hljs-built_in">alias</span> xz=<span class="hljs-string">'xz -T0'</span>
</code></pre>
<p>ä¿å­˜åç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<p>ç°åœ¨ç›´æ¥ä½¿ç”¨ <code>gzip</code> å‘½ä»¤å°±ä¼šè‡ªåŠ¨è°ƒç”¨å¤šæ ¸ç‰ˆæœ¬ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4eee48e790c4364926dc4e5d0df1adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=k%2BVjLVzCfVoDd8eH9JiB7O6Z1CM%3D" alt="image.png" loading="lazy"/></p>
<p>è®°å¾—ä¿å­˜å“ˆ</p>
<h3 data-id="heading-13">ä¸åŒåœºæ™¯æœ€ä½³å®è·µ</h3>
<p><strong>å¿«é€Ÿå‹ç¼©ï¼ˆæ—¥å¿—ã€ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">zstd -1 -T0 file.txt  <span class="hljs-comment"># æœ€å¿«é€Ÿåº¦ï¼Œé€‚ä¸­å‹ç¼©æ¯”</span>
</code></pre>
<p><strong>å‡è¡¡æ¨¡å¼ï¼ˆæ•°æ®å¤‡ä»½ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">zstd -T0 file.txt     <span class="hljs-comment"># é»˜è®¤çº§åˆ«ï¼Œé€Ÿåº¦å’Œå‹ç¼©æ¯”å¹³è¡¡</span>
</code></pre>
<p><strong>é«˜å‹ç¼©æ¯”ï¼ˆé•¿æœŸå½’æ¡£ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">xz -9 -T0 file.txt    <span class="hljs-comment"># æœ€é«˜å‹ç¼©æ¯”ï¼ŒèŠ‚çœç©ºé—´</span>
</code></pre>
<p><strong>å…¼å®¹æ€§ä¼˜å…ˆï¼ˆéœ€è¦åœ¨å…¶ä»–ç³»ç»Ÿè§£å‹ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">pigz -p 4 file.txt    <span class="hljs-comment"># gzipæ ¼å¼ï¼Œæ‰€æœ‰ç³»ç»Ÿéƒ½æ”¯æŒ</span>
</code></pre>
<hr/>
<h2 data-id="heading-14">æµ‹è¯•æ€»ç»“</h2>
<p>é€šé€šè¿‡è¿™æ¬¡åŸºäºopenEulerç³»ç»Ÿçš„çœŸå®æµ‹è¯•ï¼Œæˆ‘ä»¬ç”¨æ•°æ®éªŒè¯äº†å¤šæ ¸å‹ç¼©çš„å·¨å¤§ä»·å€¼ã€‚åœ¨4æ ¸ç¯å¢ƒä¸‹ï¼Œpigzå®ç°äº†ä»¤äººæƒŠè‰³çš„4.5å€åŠ é€Ÿï¼ˆ30.7ç§’â†’6.9ç§’ï¼‰ï¼Œç”šè‡³è¶…è¶Šäº†ç†è®ºæé™ï¼›zstdå±•ç°äº†3.2å€çš„ç¨³å®šæå‡ï¼ˆ4.1ç§’â†’1.3ç§’ï¼‰ï¼Œå¤„ç†1.5GBæ•°æ®åº“å¤‡ä»½ä»…éœ€1.3ç§’ï¼Œé€Ÿåº¦è¾¾åˆ°1.15GB/sã€‚çœŸå®åœºæ™¯æµ‹è¯•ä¸­ï¼Œæ—¥å¿—å½’æ¡£æ•ˆç‡æå‡2.1å€ï¼Œè¿™æ„å‘³ç€åŸæœ¬éœ€è¦åŠåˆ†é’Ÿçš„ä»»åŠ¡ç°åœ¨åªè¦15ç§’ã€‚</p>
<p>è¿™äº›æ•°å­—èƒŒåæ˜¯openEulerä¼˜ç§€çš„å¤šæ ¸è°ƒåº¦èƒ½åŠ›â€”â€”CPUåˆ©ç”¨ç‡ä»100%è·ƒå‡è‡³380%ï¼Œæ¯ä¸ªæ ¸å¿ƒéƒ½åœ¨å…¨åŠ›å·¥ä½œï¼Œæ²¡æœ‰ä¸€ä¸æµªè´¹ã€‚æ— è®ºä½ æ˜¯è¿ç»´å·¥ç¨‹å¸ˆéœ€è¦å¿«é€Ÿå¤‡ä»½æ•°æ®ï¼Œè¿˜æ˜¯å¼€å‘è€…éœ€è¦å‹ç¼©æ—¥å¿—æ–‡ä»¶ï¼Œé…ç½®å¥½<code>~/.bashrc</code>ä¸­çš„å¤šæ ¸åˆ«åï¼Œè®©è¿™äº›å·¥å…·é»˜è®¤å¯ç”¨å¹¶è¡Œæ¨¡å¼ï¼Œä½ çš„å·¥ä½œæ•ˆç‡å°†ç«‹å³è·å¾—3-4å€çš„æå‡ã€‚å¤šæ ¸æ—¶ä»£ï¼Œè®©æ¯ä¸€é¢—CPUéƒ½å‘æŒ¥ä»·å€¼ï¼Œè¿™å°±æ˜¯openEulerå¸¦ç»™æˆ‘ä»¬çš„æ€§èƒ½çº¢åˆ©ã€‚ç°åœ¨å°±åŠ¨æ‰‹é…ç½®ï¼Œè®©å‹ç¼©ä»»åŠ¡ä»æ­¤å‘Šåˆ«ç­‰å¾…ï¼</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ166ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580233527284498482</link>    <guid>https://juejin.cn/post/7580233527284498482</guid>    <pubDate>2025-12-06T00:13:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580233527284498482" data-draft-id="7580259796667416622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ166ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T00:13:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ166ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T00:13:46.000Z" title="Sat Dec 06 2025 00:13:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡æ˜¯ä¸€ç§éå¸¸é«˜æ•ˆçš„æ–¹æ³•ã€‚Rediså…·æœ‰å¿«é€Ÿè¯»å†™çš„ç‰¹ç‚¹ï¼Œéå¸¸é€‚åˆç”¨äºéœ€è¦å®æ—¶æ›´æ–°å’ŒæŸ¥è¯¢çš„åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å®æ—¶ç»Ÿè®¡åœºæ™¯ä»¥åŠå¦‚ä½•ä½¿ç”¨Rediså®ç°è¿™äº›åŠŸèƒ½çš„è¯¦ç»†ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-0">1. åŸºæœ¬æ¦‚å¿µ</h3>
<p>å®æ—¶ç»Ÿè®¡é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ•°æ®æ”¶é›†</strong>ï¼šå®æ—¶æ”¶é›†å’Œè®°å½•æ•°æ®ï¼Œå¦‚é¡µé¢è®¿é—®ã€ç‚¹å‡»ã€äº¤æ˜“ç­‰ã€‚</li>
<li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šå°†æ”¶é›†åˆ°çš„æ•°æ®å­˜å‚¨åœ¨Redisä¸­ã€‚</li>
<li><strong>æ•°æ®æŸ¥è¯¢</strong>ï¼šå®æ—¶æŸ¥è¯¢ç»Ÿè®¡ç»“æœã€‚</li>
</ol>
<h3 data-id="heading-1">2. ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡</h3>
<p>å¯ä»¥ä½¿ç”¨Redisçš„å¤šç§æ•°æ®ç»“æ„ï¼ˆå¦‚Stringsã€Hashesã€Setså’ŒSorted Setsï¼‰æ¥å®ç°ä¸åŒçš„ç»Ÿè®¡åœºæ™¯ã€‚</p>
<h4 data-id="heading-2">2.1 å®æ—¶è®¡æ•°</h4>
<p>ä½¿ç”¨Redisçš„<code>INCR</code>ã€<code>INCRBY</code>å‘½ä»¤å¯ä»¥å®ç°å®æ—¶è®¡æ•°ã€‚</p>
<h5 data-id="heading-3">ç¤ºä¾‹ï¼šç½‘ç«™é¡µé¢è®¿é—®è®¡æ•°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisPageViewCounter</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">pageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:view:home"</span>;

        <span class="hljs-comment">// å¢åŠ é¡µé¢è®¿é—®è®¡æ•°</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">pageCount</span> <span class="hljs-operator">=</span> jedis.incr(pageKey);
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + pageCount);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-4">2.2 å®æ—¶èšåˆç»Ÿè®¡</h4>
<p>ä½¿ç”¨Redisçš„Hasheså¯ä»¥å®ç°æ›´å¤æ‚çš„èšåˆç»Ÿè®¡ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç»Ÿè®¡ä¸åŒé¡µé¢çš„è®¿é—®é‡ã€‚</p>
<h5 data-id="heading-5">ç¤ºä¾‹ï¼šä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisPageViewAggregator</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">pageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:views"</span>;

        <span class="hljs-comment">// å¢åŠ ä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</span>
        jedis.hincrBy(pageKey, <span class="hljs-string">"home"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(pageKey, <span class="hljs-string">"about"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(pageKey, <span class="hljs-string">"contact"</span>, <span class="hljs-number">1</span>);

        <span class="hljs-comment">// è·å–ä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</span>
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + jedis.hget(pageKey, <span class="hljs-string">"home"</span>));
        System.out.println(<span class="hljs-string">"About page view count: "</span> + jedis.hget(pageKey, <span class="hljs-string">"about"</span>));
        System.out.println(<span class="hljs-string">"Contact page view count: "</span> + jedis.hget(pageKey, <span class="hljs-string">"contact"</span>));

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-6">2.3 å®æ—¶å”¯ä¸€ç”¨æˆ·ç»Ÿè®¡</h4>
<p>ä½¿ç”¨Redisçš„Setså¯ä»¥å®ç°å»é‡ç»Ÿè®¡ï¼Œå¦‚ç»Ÿè®¡ç‹¬ç«‹ç”¨æˆ·çš„è®¿é—®é‡ã€‚</p>
<h5 data-id="heading-7">ç¤ºä¾‹ï¼šç»Ÿè®¡ç‹¬ç«‹ç”¨æˆ·è®¿é—®</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisUniqueUserCounter</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">uniqueUsersKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"unique:users"</span>;

        <span class="hljs-comment">// æ·»åŠ ç”¨æˆ·IDåˆ°é›†åˆä¸­</span>
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user1"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user2"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user3"</span>);

        <span class="hljs-comment">// è·å–ç‹¬ç«‹ç”¨æˆ·çš„æ•°é‡</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">uniqueUserCount</span> <span class="hljs-operator">=</span> jedis.scard(uniqueUsersKey);
        System.out.println(<span class="hljs-string">"Unique user count: "</span> + uniqueUserCount);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-8">2.4 å®æ—¶æ’åç»Ÿè®¡</h4>
<p>ä½¿ç”¨Redisçš„Sorted Setså¯ä»¥å®ç°å®æ—¶æ’åç»Ÿè®¡ï¼Œå¦‚ç»Ÿè®¡å•†å“çš„é”€å”®æ’åã€‚</p>
<h5 data-id="heading-9">ç¤ºä¾‹ï¼šå•†å“é”€å”®æ’å</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisSalesRanking</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">salesRankingKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"sales:ranking"</span>;

        <span class="hljs-comment">// å¢åŠ å•†å“çš„é”€å”®é‡</span>
        jedis.zincrby(salesRankingKey, <span class="hljs-number">10</span>, <span class="hljs-string">"product1"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">20</span>, <span class="hljs-string">"product2"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">15</span>, <span class="hljs-string">"product3"</span>);

        <span class="hljs-comment">// è·å–å‰2åçš„å•†å“åŠå…¶é”€å”®é‡</span>
        Set&lt;Tuple&gt; topProducts = jedis.zrevrangeWithScores(salesRankingKey, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">for</span> (Tuple product : topProducts) {
            System.out.println(<span class="hljs-string">"Product: "</span> + product.getElement() + <span class="hljs-string">", Sales: "</span> + product.getScore());
        }

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-10">3. ç»¼åˆç¤ºä¾‹ï¼šå®æ—¶ç»Ÿè®¡ç³»ç»Ÿ</h3>
<p>å°†ä¸Šè¿°å„éƒ¨åˆ†ç»“åˆèµ·æ¥ï¼Œå®ç°ä¸€ä¸ªå®æ—¶ç»Ÿè®¡ç³»ç»Ÿã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisRealTimeStatistics</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-comment">// Step 1: å®æ—¶è®¡æ•° - é¡µé¢è®¿é—®è®¡æ•°</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">pageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:view:home"</span>;
        <span class="hljs-type">long</span> <span class="hljs-variable">pageCount</span> <span class="hljs-operator">=</span> jedis.incr(pageKey);
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + pageCount);

        <span class="hljs-comment">// Step 2: å®æ—¶èšåˆç»Ÿè®¡ - ä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">aggregatedPageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:views"</span>;
        jedis.hincrBy(aggregatedPageKey, <span class="hljs-string">"home"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(aggregatedPageKey, <span class="hljs-string">"about"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(aggregatedPageKey, <span class="hljs-string">"contact"</span>, <span class="hljs-number">1</span>);
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + jedis.hget(aggregatedPageKey, <span class="hljs-string">"home"</span>));
        System.out.println(<span class="hljs-string">"About page view count: "</span> + jedis.hget(aggregatedPageKey, <span class="hljs-string">"about"</span>));
        System.out.println(<span class="hljs-string">"Contact page view count: "</span> + jedis.hget(aggregatedPageKey, <span class="hljs-string">"contact"</span>));

        <span class="hljs-comment">// Step 3: å®æ—¶å”¯ä¸€ç”¨æˆ·ç»Ÿè®¡ - ç‹¬ç«‹ç”¨æˆ·è®¿é—®</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">uniqueUsersKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"unique:users"</span>;
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user1"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user2"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user3"</span>);
        <span class="hljs-type">long</span> <span class="hljs-variable">uniqueUserCount</span> <span class="hljs-operator">=</span> jedis.scard(uniqueUsersKey);
        System.out.println(<span class="hljs-string">"Unique user count: "</span> + uniqueUserCount);

        <span class="hljs-comment">// Step 4: å®æ—¶æ’åç»Ÿè®¡ - å•†å“é”€å”®æ’å</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">salesRankingKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"sales:ranking"</span>;
        jedis.zincrby(salesRankingKey, <span class="hljs-number">10</span>, <span class="hljs-string">"product1"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">20</span>, <span class="hljs-string">"product2"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">15</span>, <span class="hljs-string">"product3"</span>);
        Set&lt;Tuple&gt; topProducts = jedis.zrevrangeWithScores(salesRankingKey, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">for</span> (Tuple product : topProducts) {
            System.out.println(<span class="hljs-string">"Product: "</span> + product.getElement() + <span class="hljs-string">", Sales: "</span> + product.getScore());
        }

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Redisçš„ä¸åŒæ•°æ®ç»“æ„æ¥å®ç°å®æ—¶ç»Ÿè®¡ã€‚ä»ç®€å•çš„è®¡æ•°ã€èšåˆç»Ÿè®¡åˆ°å”¯ä¸€ç”¨æˆ·ç»Ÿè®¡å’Œå®æ—¶æ’åï¼ŒRediséƒ½æä¾›äº†é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ‰©å±•å’Œä¼˜åŒ–è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨æ›´å¤æ‚çš„æ•°æ®å¤„ç†é€»è¾‘ã€å®æ—¶æ›´æ–°æœºåˆ¶å’Œå¤šèŠ‚ç‚¹åˆ†å¸ƒå¼å¤„ç†ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ167ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580198093154730030</link>    <guid>https://juejin.cn/post/7580198093154730030</guid>    <pubDate>2025-12-06T00:14:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093154730030" data-draft-id="7580198093154713646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ167ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T00:14:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ167ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T00:14:41.000Z" title="Sat Dec 06 2025 00:14:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜æ˜¯ä¸€ç§å¸¸è§ä¸”æœ‰æ•ˆçš„æé«˜ç³»ç»Ÿæ€§èƒ½å’Œå¯æ‰©å±•æ€§çš„æ–¹æ³•ã€‚Redisä½œä¸ºä¸€ä¸ªé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œæ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹å’Œæ“ä½œï¼Œå¯ä»¥å¾ˆå¥½åœ°æ»¡è¶³åˆ†å¸ƒå¼ç¼“å­˜çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-0">1. åˆ†å¸ƒå¼ç¼“å­˜çš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>åˆ†å¸ƒå¼ç¼“å­˜æ˜¯ä¸€ç§åœ¨å¤šä¸ªæœåŠ¡å™¨ä¹‹é—´å…±äº«ç¼“å­˜æ•°æ®çš„æ–¹æ³•ï¼Œç”¨äºæé«˜ç³»ç»Ÿæ€§èƒ½ã€å‡å°‘æ•°æ®åº“è´Ÿè½½å’Œæé«˜æ•°æ®è®¿é—®é€Ÿåº¦ã€‚ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šå°†æ•°æ®ç¼“å­˜åˆ°Redisä¸­ã€‚</li>
<li><strong>æ•°æ®è¯»å–</strong>ï¼šä»Redisä¸­è¯»å–ç¼“å­˜æ•°æ®ã€‚</li>
<li><strong>æ•°æ®è¿‡æœŸå’Œå¤±æ•ˆ</strong>ï¼šè®¾ç½®ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´ï¼Œè‡ªåŠ¨æ¸…ç†æ— æ•ˆæ•°æ®ã€‚</li>
<li><strong>ç¼“å­˜æ›´æ–°</strong>ï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ã€‚</li>
</ol>
<h3 data-id="heading-1">2. ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜</h3>
<h4 data-id="heading-2">2.1 å¼•å…¥ä¾èµ–</h4>
<p>åœ¨Javaé¡¹ç›®ä¸­ä½¿ç”¨Jedisåº“ä¸Redisè¿›è¡Œäº¤äº’ã€‚åœ¨Mavené¡¹ç›®ä¸­æ·»åŠ Jedisä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">2.2 ç¼“å­˜æ•°æ®çš„å­˜å‚¨å’Œè¯»å–</h4>
<h5 data-id="heading-4">ç¤ºä¾‹ï¼šç¼“å­˜ç”¨æˆ·ä¿¡æ¯</h5>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">private</span> String id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-comment">// Constructors, getters, and setters</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String id, String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.id = id;
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"User{"</span> +
                <span class="hljs-string">"id='"</span> + id + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", name='"</span> + name + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", age="</span> + age +
                <span class="hljs-string">'}'</span>;
    }
}
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å°†ç”¨æˆ·ä¿¡æ¯ç¼“å­˜åˆ°Redisä¸­ï¼Œå¹¶å®ç°è·å–ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisCache</span> {

    <span class="hljs-keyword">private</span> Jedis jedis;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisCache</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-built_in">this</span>.jedis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacheUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + user.getId();
        jedis.hset(userKey, <span class="hljs-string">"id"</span>, user.getId());
        jedis.hset(userKey, <span class="hljs-string">"name"</span>, user.getName());
        jedis.hset(userKey, <span class="hljs-string">"age"</span>, String.valueOf(user.getAge()));
        <span class="hljs-comment">// è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º1å°æ—¶</span>
        jedis.expire(userKey, <span class="hljs-number">3600</span>);
    }

    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + userId;
        <span class="hljs-keyword">if</span> (jedis.exists(userKey)) {
            <span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> jedis.hget(userKey, <span class="hljs-string">"id"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> jedis.hget(userKey, <span class="hljs-string">"name"</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> Integer.parseInt(jedis.hget(userKey, <span class="hljs-string">"age"</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id, name, age);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        jedis.close();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisCache</span> <span class="hljs-variable">cache</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisCache</span>();

        <span class="hljs-comment">// ç¼“å­˜ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">"1"</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-number">30</span>);
        cache.cacheUser(user);
        System.out.println(<span class="hljs-string">"User cached: "</span> + user);

        <span class="hljs-comment">// è¯»å–ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">cachedUser</span> <span class="hljs-operator">=</span> cache.getUser(<span class="hljs-string">"1"</span>);
        System.out.println(<span class="hljs-string">"Cached user: "</span> + cachedUser);

        cache.close();
    }
}
</code></pre>
<h4 data-id="heading-5">2.3 ç¼“å­˜è¿‡æœŸå’Œå¤±æ•ˆ</h4>
<p>Redisæä¾›äº†å¤šç§ç¼“å­˜å¤±æ•ˆç­–ç•¥ï¼Œå¦‚å®šæ—¶è¿‡æœŸã€ä¸»åŠ¨åˆ é™¤å’Œè¢«åŠ¨åˆ é™¤ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>expire</code>å‘½ä»¤è®¾ç½®äº†ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacheUser</span><span class="hljs-params">(User user)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + user.getId();
    jedis.hset(userKey, <span class="hljs-string">"id"</span>, user.getId());
    jedis.hset(userKey, <span class="hljs-string">"name"</span>, user.getName());
    jedis.hset(userKey, <span class="hljs-string">"age"</span>, String.valueOf(user.getAge()));
    <span class="hljs-comment">// è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º1å°æ—¶</span>
    jedis.expire(userKey, <span class="hljs-number">3600</span>);
}
</code></pre>
<h4 data-id="heading-6">2.4 ç¼“å­˜æ›´æ–°</h4>
<p>å½“åŸºç¡€æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦åŠæ—¶æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼“å­˜ä¸­çš„æ•°æ®ä¸ä¸€è‡´ã€‚é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•æ¥æ›´æ–°ç¼“å­˜ï¼š</p>
<ol>
<li><strong>ç›´æ¥æ›´æ–°ç¼“å­˜</strong>ï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç›´æ¥æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ã€‚</li>
<li><strong>ç¼“å­˜å¤±æ•ˆ</strong>ï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåˆ é™¤ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œä¸‹æ¬¡è¯»å–æ—¶é‡æ–°ç¼“å­˜ã€‚</li>
</ol>
<h5 data-id="heading-7">ç¤ºä¾‹ï¼šç¼“å­˜æ›´æ–°</h5>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦æ›´æ–°ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
    cacheUser(user); <span class="hljs-comment">// ç›´æ¥æ›´æ–°ç¼“å­˜</span>
    <span class="hljs-comment">// æˆ–è€…åˆ é™¤ç¼“å­˜ï¼Œä¸‹æ¬¡è¯»å–æ—¶é‡æ–°ç¼“å­˜</span>
    <span class="hljs-comment">// String userKey = "user:" + user.getId();</span>
    <span class="hljs-comment">// jedis.del(userKey);</span>
}
</code></pre>
<h3 data-id="heading-8">3. åˆ†å¸ƒå¼ç¼“å­˜çš„é›†ç¾¤é…ç½®</h3>
<p>ä¸ºäº†æé«˜å¯ç”¨æ€§å’Œæ‰©å±•æ€§ï¼Œå¯ä»¥ä½¿ç”¨Redisé›†ç¾¤ã€‚Redisé›†ç¾¤å°†æ•°æ®åˆ†ç‰‡å­˜å‚¨åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œå¹¶æä¾›äº†é«˜å¯ç”¨æ€§ã€‚</p>
<h4 data-id="heading-9">3.1 é…ç½®Redisé›†ç¾¤</h4>
<p>å¯ä»¥ä½¿ç”¨Rediså®˜æ–¹æä¾›çš„å·¥å…·é…ç½®Redisé›†ç¾¤ï¼Œå…·ä½“æ­¥éª¤å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚è¿™é‡Œåªå±•ç¤ºå¦‚ä½•ä½¿ç”¨Jedisè¿æ¥Redisé›†ç¾¤ã€‚</p>
<h5 data-id="heading-10">ç¤ºä¾‹ï¼šè¿æ¥Redisé›†ç¾¤</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.HostAndPort;
<span class="hljs-keyword">import</span> redis.clients.jedis.JedisCluster;

<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisClusterCache</span> {

    <span class="hljs-keyword">private</span> JedisCluster jedisCluster;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisClusterCache</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// é…ç½®Redisé›†ç¾¤èŠ‚ç‚¹</span>
        Set&lt;HostAndPort&gt; nodes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7000</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7001</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7002</span>));
        <span class="hljs-built_in">this</span>.jedisCluster = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisCluster</span>(nodes);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacheUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + user.getId();
        jedisCluster.hset(userKey, <span class="hljs-string">"id"</span>, user.getId());
        jedisCluster.hset(userKey, <span class="hljs-string">"name"</span>, user.getName());
        jedisCluster.hset(userKey, <span class="hljs-string">"age"</span>, String.valueOf(user.getAge()));
        <span class="hljs-comment">// è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º1å°æ—¶</span>
        jedisCluster.expire(userKey, <span class="hljs-number">3600</span>);
    }

    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + userId;
        <span class="hljs-keyword">if</span> (jedisCluster.exists(userKey)) {
            <span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> jedisCluster.hget(userKey, <span class="hljs-string">"id"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> jedisCluster.hget(userKey, <span class="hljs-string">"name"</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> Integer.parseInt(jedisCluster.hget(userKey, <span class="hljs-string">"age"</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id, name, age);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            jedisCluster.close();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisClusterCache</span> <span class="hljs-variable">cache</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisClusterCache</span>();

        <span class="hljs-comment">// ç¼“å­˜ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">"1"</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-number">30</span>);
        cache.cacheUser(user);
        System.out.println(<span class="hljs-string">"User cached: "</span> + user);

        <span class="hljs-comment">// è¯»å–ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">cachedUser</span> <span class="hljs-operator">=</span> cache.getUser(<span class="hljs-string">"1"</span>);
        System.out.println(<span class="hljs-string">"Cached user: "</span> + cachedUser);

        cache.close();
    }
}
</code></pre>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼ŒåŒ…æ‹¬æ•°æ®çš„å­˜å‚¨å’Œè¯»å–ã€ç¼“å­˜çš„è¿‡æœŸå’Œå¤±æ•ˆã€ç¼“å­˜çš„æ›´æ–°ä»¥åŠå¦‚ä½•ä½¿ç”¨Redisé›†ç¾¤æ¥æé«˜å¯ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ‰©å±•å’Œä¼˜åŒ–è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨æ›´å¤æ‚çš„æ•°æ®å¤„ç†é€»è¾‘ã€å®ç°å¤šçº§ç¼“å­˜æœºåˆ¶ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨]]></title>    <link>https://juejin.cn/post/7580210602078371874</link>    <guid>https://juejin.cn/post/7580210602078371874</guid>    <pubDate>2025-12-06T00:16:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580210602078371874" data-draft-id="7580210602078355490" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-06T00:16:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T00:16:51.000Z" title="Sat Dec 06 2025 00:16:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨å½“ä»Šçš„é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ŒRedisä½œä¸ºé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œå·²æˆä¸ºä¼—å¤šäº’è”ç½‘ä¼ä¸šçš„æ ¸å¿ƒæŠ€æœ¯æ ˆä¹‹ä¸€ã€‚ç„¶è€Œï¼Œéšç€ä¸šåŠ¡è§„æ¨¡çš„å¢é•¿ï¼Œå³ä½¿æ˜¯Redisè¿™æ ·çš„"æ€§èƒ½æ€ªå…½"ä¹Ÿå¯èƒ½é‡åˆ°ç“¶é¢ˆã€‚æœ€è¿‘ï¼Œæˆ‘åœ¨ä¼˜åŒ–ä¸€ä¸ªæ—¥å‡åƒä¸‡çº§QPSçš„Redisé›†ç¾¤æ—¶ï¼Œé€šè¿‡è°ƒæ•´5ä¸ªé²œä¸ºäººçŸ¥ä½†æå…¶é«˜æ•ˆçš„é…ç½®é¡¹ï¼ŒæˆåŠŸå°†æ•´ä½“æ€§èƒ½æå‡äº†40%ã€‚æœ¬æ–‡å°†æ·±å…¥åˆ†äº«è¿™äº›å®æˆ˜ç»éªŒï¼Œæ­ç¤ºé‚£äº›è¢«å¤§å¤šæ•°å¼€å‘è€…å¿½ç•¥çš„Redisæ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚</p>
<h2 data-id="heading-2">ä¸€ã€èƒŒæ™¯ä¸æŒ‘æˆ˜</h2>
<p>æˆ‘ä»¬çš„ä¸šåŠ¡ç³»ç»Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„ç¤¾äº¤åº”ç”¨åœºæ™¯ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç”¨æˆ·å…³ç³»å›¾è°±ï¼ˆå…³æ³¨/ç²‰ä¸åˆ—è¡¨ï¼‰</li>
<li>å®æ—¶æ¶ˆæ¯æ¨é€</li>
<li>çƒ­ç‚¹å†…å®¹ç¼“å­˜</li>
<li>åˆ†å¸ƒå¼é”æœåŠ¡</li>
</ul>
<p>åŸæœ‰Redisé›†ç¾¤é…ç½®ï¼š</p>
<ul>
<li>ç‰ˆæœ¬ï¼š6.2.6</li>
<li>èŠ‚ç‚¹ï¼š16ä¸ªåˆ†ç‰‡ï¼ˆ8ä¸»8ä»ï¼‰</li>
<li>å†…å­˜ï¼šæ¯ä¸ªèŠ‚ç‚¹32GB</li>
<li>QPSå³°å€¼ï¼šçº¦120ä¸‡/ç§’</li>
</ul>
<p>é¢ä¸´çš„æ€§èƒ½é—®é¢˜ï¼š</p>
<ol>
<li>CPUåˆ©ç”¨ç‡é•¿æœŸå¤„äº80%ä»¥ä¸Š</li>
<li>P99å»¶è¿Ÿåœ¨é«˜å³°æ—¶æ®µè¶…è¿‡50ms</li>
<li>é¢‘ç¹å‡ºç°å‘½ä»¤æ’é˜Ÿç°è±¡</li>
</ol>
<h2 data-id="heading-3">äºŒã€å…³é”®ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-4">1. ç²¾ç»†åŒ–å†…å­˜åˆ†é…ç­–ç•¥ï¼š<code>jemalloc-bg-thread</code></h3>
<p><strong>é»˜è®¤é…ç½®çš„é—®é¢˜</strong>ï¼š
Redisé»˜è®¤ä½¿ç”¨jemallocè¿›è¡Œå†…å­˜ç®¡ç†ï¼Œä½†åœ¨é«˜åˆ†é…/é‡Šæ”¾é¢‘ç‡ä¸‹ï¼Œå†…å­˜å›æ”¶å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf"># å¯ç”¨åå°çº¿ç¨‹è¿›è¡Œå†…å­˜å›æ”¶
jemalloc-bg-thread yes
# è®¾ç½®arenaæ•°é‡ï¼ˆé€šå¸¸ä¸ºæ ¸å¿ƒæ•°çš„2å€ï¼‰
MALLOC_CONF="narenas:32,background_thread:true"
</code></pre>
<p><strong>åŸç†åˆ†æ</strong>ï¼š</p>
<ul>
<li>jemallocé€šè¿‡åˆ’åˆ†å¤šä¸ªarenaæ¥å‡å°‘é”ç«äº‰</li>
<li>åå°çº¿ç¨‹å¼‚æ­¥å¤„ç†å†…å­˜ç¢ç‰‡æ•´ç†</li>
<li>arenaæ•°é‡åº”ä¸CPUæ ¸å¿ƒæ•°åŒ¹é…</li>
</ul>
<p><strong>æ•ˆæœå¯¹æ¯”</strong>ï¼š</p>




















<table><thead><tr><th>æŒ‡æ ‡</th><th>Before</th><th>After</th></tr></thead><tbody><tr><td>mallocå»¶è¿Ÿ</td><td>850ns</td><td>320ns</td></tr><tr><td>GCåœé¡¿æ—¶é—´</td><td>15ms</td><td>&lt;1ms</td></tr></tbody></table>
<h3 data-id="heading-5">2. NUMAæ¶æ„ä¼˜åŒ–ï¼š<code>replica-serve-stale-data no</code></h3>
<p><strong>NUMAé™·é˜±</strong>ï¼š
åœ¨å¤šæ’æ§½æœåŠ¡å™¨ä¸Šï¼Œè·¨NUMAèŠ‚ç‚¹çš„å†…å­˜è®¿é—®ä¼šå¯¼è‡´æ˜¾è‘—çš„å»¶è¿Ÿå¢åŠ ã€‚</p>
<p><strong>å…³é”®é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf"># ç¦ç”¨ä»èŠ‚ç‚¹æä¾›è¿‡æœŸæ•°æ®
replica-serve-stale-data no
# NUMAç»‘å®šä¼˜åŒ–
numactl --cpunodebind=0 --membind=0 redis-server /etc/redis.conf
</code></pre>
<p><strong>å®è·µå»ºè®®</strong>ï¼š</p>
<ol>
<li><code>taskset</code>å’Œ<code>numactl</code>ç»“åˆä½¿ç”¨</li>
<li>Redisè¿›ç¨‹ä¸ç½‘å¡ä¸­æ–­ç»‘å®šç›¸åŒNUMAèŠ‚ç‚¹</li>
<li>HugePageä¹Ÿéœ€è€ƒè™‘NUMAäº²å’Œæ€§</li>
</ol>
<h3 data-id="heading-6">3. TCPåè®®æ ˆè°ƒä¼˜ï¼š<code>tcp-backlog</code></h3>
<p><strong>ç½‘ç»œç“¶é¢ˆåˆ†æ</strong>ï¼š
åœ¨çªå‘æµé‡ä¸‹ï¼ŒLinuxé»˜è®¤çš„SYNé˜Ÿåˆ—å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚</p>
<pre><code class="hljs language-conf" lang="conf"># Redisé…ç½®è°ƒæ•´
tcp-backlog 65535

# sysctlç³»ç»Ÿå‚æ•°è°ƒæ•´
net.core.somaxconn = 65535
net.ipv4.tcp_max_syn_backlog = 65535
</code></pre>
<p><strong>å†…æ ¸å‚æ•°å…³è”è¡¨</strong>ï¼š</p>





















<table><thead><tr><th>å‚æ•°</th><th>Recommended Value</th></tr></thead><tbody><tr><td>net.ipv4.tcp_tw_reuse</td><td>1</td></tr><tr><td>net.ipv4.tcp_fin_timeout</td><td>15</td></tr><tr><td>net.core.netdev_max_backlog</td><td>16384</td></tr></tbody></table>
<h3 data-id="heading-7">4. AOFæŒä¹…åŒ–é»‘ç§‘æŠ€ï¼š<code>aof-rewrite-incremental-fsync</code></h3>
<p><strong>ç£ç›˜IOç“¶é¢ˆçªç ´</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf">aof-rewrite-incremental-fsync yes
aof-load-truncated yes

# Linuxæ–‡ä»¶ç³»ç»Ÿä¼˜åŒ–ï¼ˆEXT4ç¤ºä¾‹ï¼‰ï¼š
mount -o noatime,data=writeback,barrier=0,nobh /dev/sdb /data/redis/
</code></pre>
<p><strong>æ•ˆæœéªŒè¯å·¥å…·</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># AOFé‡å†™æœŸé—´çš„IOè§‚æµ‹å·¥å…·ç»„åˆ</span>
iotop -oP 
blktrace -d /dev/nvme0n1 -o - | blkparse -i -
</code></pre>
<h3 data-id="heading-8">5. LUAè„šæœ¬åŠ é€Ÿå™¨ï¼š<code>lua-replicate-commands</code></h3>
<p><strong>LUAæ€§èƒ½é™·é˜±è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf">lua-time-limit 5000 # mså•ä½çš„å®‰å…¨é˜ˆå€¼æ§åˆ¶

# Luaè„šæœ¬æ”¹é€ ç¤ºä¾‹ï¼ˆåŸå§‹è„šæœ¬ï¼‰:
local val = redis.call('GET', KEYS[1])
return val

# ï¼ˆä¼˜åŒ–åï¼‰:
redis.replicate_commands()
local val = redis.call('GET', KEYS[1])
return val
</code></pre>
<h2 data-id="heading-9"/>
<h2 data-id="heading-10"/>
<h2 data-id="heading-11"/>
<h2 data-id="heading-12"/>
<h2 data-id="heading-13"/>
<h2 data-id="heading-14"/>
<h2 data-id="heading-15"/>
<h2 data-id="heading-16"/>
<h2 data-id="heading-17"/>
<h2 data-id="heading-18"/>
<h2 data-id="heading-19"/>
<h2 data-id="heading-20"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«æ•°å­—éº»æœ¨ï¼Œé‡æ‹¾æ¶ˆè´¹æ„ŸçŸ¥ï¼šezBookkeeping â€”â€” æ‚¨çš„è½»é‡è‡ªæ‰˜ç®¡è®°è´¦ä¼´ä¾£]]></title>    <link>https://juejin.cn/post/7580183671532191782</link>    <guid>https://juejin.cn/post/7580183671532191782</guid>    <pubDate>2025-12-05T23:26:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671532191782" data-draft-id="7580183671532175398" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«æ•°å­—éº»æœ¨ï¼Œé‡æ‹¾æ¶ˆè´¹æ„ŸçŸ¥ï¼šezBookkeeping â€”â€” æ‚¨çš„è½»é‡è‡ªæ‰˜ç®¡è®°è´¦ä¼´ä¾£"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2025-12-05T23:26:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«æ•°å­—éº»æœ¨ï¼Œé‡æ‹¾æ¶ˆè´¹æ„ŸçŸ¥ï¼šezBookkeeping â€”â€” æ‚¨çš„è½»é‡è‡ªæ‰˜ç®¡è®°è´¦ä¼´ä¾£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T23:26:25.000Z" title="Fri Dec 05 2025 23:26:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°å­—æ—¶ä»£ï¼Œæ¶ˆè´¹ä¸æ”¯ä»˜å› ç½‘è´­è€Œå˜å¾—æ— æ¯”ä¾¿æ·ï¼Œé‡‘é’±ä¹Ÿéšä¹‹æ¸æ¸æŠ½è±¡ä¸ºå±å¹•ä¸Šå†°å†·çš„æ•°å­—ï¼Œå¤±å»äº†æ›¾ç»çœŸå®å¯æ¡çš„æ¸©åº¦ã€‚è¿‡å»ç”¨ç°é‡‘äº¤æ˜“æ—¶ï¼Œæ¯ä¸€å¼ çº¸å¸çš„é€’å‡ºéƒ½ä¼´éšç€å¤æ‚çš„å¿ƒç»ªâ€”â€”æˆ–è®¸æ˜¯è®¡åˆ’ï¼Œæ˜¯çŠ¹è±«ï¼ŒæŠ‘æˆ–æ˜¯ä¸èˆã€‚é‚£ç§å®å®åœ¨åœ¨çš„â€œä»˜å‡ºæ„Ÿâ€ï¼Œæ— å½¢ä¸­è®©äººæ›´æ‡‚è¡¡é‡ã€æ›´çŸ¥èŠ‚åˆ¶ã€‚</p>
<p>å¦‚ä»Šï¼Œæ‰‹æœºä¸€æ‰«ã€ä¸€é”®å³ä»˜ï¼Œæ¶ˆè´¹å˜å¾—è½»è€Œæ˜“ä¸¾ï¼Œäººä¸é‡‘é’±ä¹‹é—´çš„æƒ…æ„Ÿè”ç»“å´æ—¥ç›Šç¨€è–„ã€‚æ”¯ä»˜åŠ¨ä½œçš„ç®€åŒ–ï¼Œä¹Ÿåœ¨ä¸çŸ¥ä¸è§‰é—´å‰Šå¼±äº†æˆ‘ä»¬å¯¹æ”¯å‡ºçš„æ•æ„Ÿã€‚å°±åƒä»å‰ç”¨ç°é‡‘åƒé¥­ï¼Œäººä»¬ä¼šä¸‹æ„è¯†åœ°æ ¹æ®é’±åŒ…é‡Œçš„ä½™é¢çº¦æŸå¼€é”€ï¼›è€Œæ•°å­—æ”¯ä»˜è®©äººéš¾ä»¥æ„ŸçŸ¥â€œå¤±å»â€ï¼Œæ›´å®¹æ˜“åœ¨æ— å£°æ— æ¯ä¸­è¶Šè¿‡åŸæœ¬çš„ç•Œé™ã€‚</p>
<p>äºæ˜¯æˆ‘ä¸ç¦æ€è€ƒï¼šæ—¢ç„¶æˆ‘ä»¬äº«å—ç€å¿«æ·æ”¯ä»˜çš„ä¾¿åˆ©ï¼Œæ˜¯å¦ä¹Ÿèƒ½æ‰¾åˆ°ä¸€ç§æ–¹å¼ï¼Œè®©æ¶ˆè´¹é‡æ–°å˜å¾—å¯æ„ŸçŸ¥ï¼Ÿæˆ‘æ›¾å°è¯•æ‰‹åŠ¨è®°è´¦ï¼Œä½†ä¸ä»…éš¾ä»¥ç»Ÿè®¡ï¼Œè´¦æœ¬ä¹Ÿå®¹æ˜“ä¸¢å¤±ï¼›åˆè¯•è¿‡ä¸€äº›è®°è´¦è½¯ä»¶ï¼Œå¯å®ƒä»¬å¾€å¾€å¤ªè¿‡â€œä¾¿æ·â€ï¼Œä¾ç„¶æ— æ³•å¸®æˆ‘æ‰¾å›é‚£ä»½å¯¹æ¶ˆè´¹çš„çœŸå®æ„ŸçŸ¥ã€‚ç›´åˆ°æœ€è¿‘åœ¨ GitHub ä¸Šå‘ç°äº†ä¸€ä¸ªå¼€æºé¡¹ç›®â€”â€”å®ƒæ°å¥½æ»¡è¶³äº†æˆ‘æ‰€æœ‰è¿™äº›æœŸå¾…ã€‚ä»Šå¤©ï¼Œå°±æƒ³æŠŠå®ƒä»‹ç»ç»™å¤§å®¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/417dd50152a64607875b0387359af2c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=U8M%2Fsn%2F43R3H%2FZ07XM83zZy8xOs%3D" alt="ezbookkeeping-192.png" loading="lazy"/></p>
<p>ezbookkeeping-192.png</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ezBookkeepingï¼Ÿ</h2>
<p>ezBookkeeping æ˜¯ä¸€æ¬¾è½»é‡ã€è‡ªæ‰˜ç®¡ (self-hosted) çš„ä¸ªäººè®°è´¦åº”ç”¨ï¼Œæ‹¥æœ‰ç”¨æˆ·å‹å¥½çš„ç•Œé¢å’Œå¼ºå¤§çš„è®°è´¦åŠŸèƒ½ã€‚å®ƒéƒ¨ç½²ç®€å•ï¼Œå€ŸåŠ© Docker åªéœ€ä¸€è¡Œå‘½ä»¤å³å¯å¯åŠ¨ã€‚åŒæ—¶å¯¹ç³»ç»Ÿèµ„æºå ç”¨ä½ã€å¯æ‰©å±•æ€§é«˜ï¼Œæ—¢å¯è¿è¡Œåœ¨æ ‘è“æ´¾ç­‰è½»é‡è®¾å¤‡ä¸Šï¼Œä¹Ÿèƒ½æ‰©å±•åˆ° NASã€MicroServer ç”šè‡³é›†ç¾¤ç¯å¢ƒã€‚</p>
<p>ezBookkeeping ä¸ºç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯æä¾›äº†å„è‡ªåŸç”Ÿçš„ç•Œé¢è®¾è®¡ã€‚å€ŸåŠ© PWA (æ¸è¿›å¼ç½‘é¡µåº”ç”¨) æŠ€æœ¯ï¼Œæ‚¨è¿˜å¯ä»¥å°†å®ƒ æ·»åŠ åˆ°æ‰‹æœºä¸»å±å¹•ï¼ŒåƒåŸç”Ÿ App ä¸€æ ·ä½¿ç”¨ã€‚</p>
<p>github åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmayswind%2Fezbookkeeping" target="_blank" title="https://github.com/mayswind/ezbookkeeping" ref="nofollow noopener noreferrer">github.com/mayswind/ezâ€¦</a></p>
<p>æ–‡æ¡£åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fezbookkeeping.mayswind.net%2Fzh_Hans" target="_blank" title="https://ezbookkeeping.mayswind.net/zh_Hans" ref="nofollow noopener noreferrer">ezbookkeeping.mayswind.net/zh_Hans</a></p>
<p>åœ¨çº¿æ¼”ç¤ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fezbookkeeping-demo.mayswind.net" target="_blank" title="https://ezbookkeeping-demo.mayswind.net" ref="nofollow noopener noreferrer">ezbookkeeping-demo.mayswind.net</a></p>
<p>è¯¥é¡¹ç›®åœ¨githubå·²æœ‰3.2k star</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02780ab2ec324e3db6e930cc8ae0002b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=22JytToBQBmE0RgxwS%2FuXOpm6q0%3D" alt="_20251206_054722.png" loading="lazy"/></p>
<p>_20251206_054722.png</p>
<h2 data-id="heading-1">Dockerç§æœ‰åŒ–éƒ¨ç½²</h2>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯docker-compose è¿›è¡Œç§æœ‰åŒ–éƒ¨ç½²çš„ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ›å»ºdocker-compose.yml æ–‡ä»¶</li>
</ul>
<p>åœ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºéƒ¨ç½²ç›®å½•<code>ezbookkeeping</code>,åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º docker-compose.yml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">services:
  ezbookkeeping:
    image: mayswind/ezbookkeeping:latest
    container_name: ezbookkeeping
    hostname: <span class="hljs-string">"ezbookkeeping"</span>
    ports:
      - <span class="hljs-string">"7080:8080"</span>
    <span class="hljs-comment"># é»˜è®¤æ•°æ®åº“ç±»å‹æ˜¯ sqlite3,è‹¥ä½¿ç”¨é»˜è®¤æ•°æ®åº“ï¼Œæ³¨é‡Šæ‰ä»¥ä¸‹ç¯å¢ƒå˜é‡</span>
    environment:
      - <span class="hljs-string">"EBK_SERVER_ENABLE_GZIP=true"</span>
      - <span class="hljs-string">"EBK_DATABASE_TYPE=mysql"</span>
      - <span class="hljs-string">"EBK_DATABASE_HOST=192.168.31.195:3306"</span>
      - <span class="hljs-string">"EBK_DATABASE_NAME=ezbookkeeping"</span>
      - <span class="hljs-string">"EBK_DATABASE_USER=root"</span>
      - <span class="hljs-string">"EBK_DATABASE_PASSWD=xj123456"</span>
      - <span class="hljs-string">"EBK_LOG_MODE=file"</span>
      - <span class="hljs-string">"EBK_SECURITY_SECRET_KEY=its_should_be_a_random_string"</span>
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ./storage:/ezbookkeeping/storage <span class="hljs-comment"># è¯·ç¡®ä¿ UID:GID æ˜¯ 1000:1000</span>
      - ./log:/ezbookkeeping/log <span class="hljs-comment"># è¯·ç¡®ä¿ UID:GID æ˜¯ 1000:1000</span>
        <span class="hljs-comment">#      - ./ezbookkeeping.ini:/ezbookkeeping/conf/ezbookkeeping.ini</span>
        <span class="hljs-comment">#      - ./data:/ezbookkeeping/data # é»˜è®¤ä½¿ç”¨sqlite3æ•°æ®åº“æŒ‚è½½ç›®å½•</span>
</code></pre>
<p>ezbookkeeping é»˜è®¤æ•°æ®åº“ç±»å‹æ˜¯ sqlite3,æ•°æ®åº“æ–‡ä»¶å­˜å‚¨åœ¨å®¹å™¨ä¸­çš„ /ezbookkeeping/data/ezbookkeeping.dbï¼Œè‹¥ä½¿ç”¨é»˜è®¤æ•°æ®åº“ï¼Œå¹¶æŒä¹…åŒ–ä¿å­˜è¿™äº›æ•°æ®ï¼Œä½ éœ€è¦ä½¿ç”¨ Docker æŒä¹…åŒ–æ•°æ®å·æˆ–æŒ‚è½½å®¿ä¸»æœºçš„è·¯å¾„åˆ°å®¹å™¨å†…ã€‚</p>
<p>è‹¥æƒ³ä½¿ç”¨mysqlæˆ–PostgreSQL,åˆ™éœ€ç°åœ¨å¯¹åº”çš„æ•°æ®åº“ä¸­åˆ›å»ºå¥½æ•°æ®åº“ï¼Œåœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®å¥½ç›¸åº”çš„ç¯å¢ƒå˜é‡å³å¯ï¼Œæˆ‘æ­¤å¤„ä½¿ç”¨çš„æ˜¯mysqlæ•°æ®åº“ã€‚</p>
<ul>
<li>å¯åŠ¨æœåŠ¡</li>
</ul>
<p>åœ¨docker-compose.ymlçš„åŒçº§ç›®å½•ä¸‹ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡</p>
<pre><code class="hljs">docker-compose up -d 
</code></pre>
<p>å¯åŠ¨ä¹‹åæ±‡æŠ¥æƒé™é”™è¯¯çš„æ—¥å¿—,éœ€è¦ç»™æŒ‚è½½ç›®å½•ä¿®æ”¹æƒé™</p>
<p>ç»™æŒ‚è½½ç›®å½•æˆæƒ</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chmod</span> -R 777 storage <span class="hljs-built_in">log</span>
</code></pre>
<p>é‡å¯æœåŠ¡</p>
<pre><code class="hljs">docker-compose restart
</code></pre>
<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬æœåŠ¡å°±éƒ¨ç½²å¥½äº†</p>
<h2 data-id="heading-2">ä½¿ç”¨</h2>
<ul>
<li>æ³¨å†Œ</li>
</ul>
<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æœåŠ¡åœ°å€ï¼Œé¦–æ¬¡çš„è¯æˆ‘ä»¬å…ˆéœ€è¦æ³¨å†Œç”¨æˆ·</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb7b3c963fa547529efc273fb4efb951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=te5f9tosmHS9KRksOsUHNAKChos%3D" alt="_20251206_063538.png" loading="lazy"/></p>
<p>_20251206_063538.png</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abe25e0f458e403b89ef337c14fd9de1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=7%2FlWtKU%2B6dxC6M4PKVbY2PtBKHY%3D" alt="_20251206_063650.png" loading="lazy"/></p>
<p>_20251206_063650.png</p>
<p>æ³¨å†Œçš„æ—¶å€™æˆ‘ä»¬å¯ä»¥é¢„è®¾åˆ†ç±» <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/577d769545cb4e36842d6b0ae9636888~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=vSQ%2BSFrM4ldG0LPyJbmzYfNu07A%3D" alt="_20251206_063732.png" loading="lazy"/></p>
<ul>
<li>åˆ›å»ºè´¦æˆ·ã€åˆ†ç±»</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºå¥½è´¦æˆ·ï¼Œæ ¹æ®è‡ªå·±è®°å½•çš„ç»´åº¦åˆ›å»ºå¥½æ¶ˆè´¹åŠæ”¶å…¥åˆ†ç±»</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ff364bf09a247eea8fbfff1d2923768~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=8rfuZpZ5%2BL72rfTyQwGwseqogjw%3D" alt="_20251206_064953.png" loading="lazy"/></p>
<p>_20251206_064953.png</p>
<ul>
<li>æ·»åŠ äº¤æ˜“ã€å¸¸çœ‹ç»Ÿè®¡</li>
</ul>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥è®°å½•æˆ‘ä»¬çš„æ¯ä¸€ç¬”æ¶ˆè´¹ã€æ”¶å…¥äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a52f27e9bb54b84b4b5d4b5690a1ac3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=lbf18TN1crFrmch%2FRutQ7Xnn1A8%3D" alt="_20251206_065454.png" loading="lazy"/></p>
<p>_20251206_065454.png</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3eec57fd68240f2812432b385202add~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=wHFHwfirm7c%2BJAdLBDMmggYcIVM%3D" alt="_20251206_065547.png" loading="lazy"/></p>
<p>_20251206_065547.png</p>
<ul>
<li>ç§»åŠ¨ç«¯ä½¿ç”¨</li>
</ul>
<p>åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­æ‰“å¼€ç½‘å€<a href="https://link.juejin.cn?target=http%3A%2F%2Fip%3Aport%2F" target="_blank" title="http://ip:port/" ref="nofollow noopener noreferrer">http://ip:port/</a> æˆ–è€…æ‰«ç ï¼Œä½¿ç”¨ç”¨æˆ·åç™»å½•ä¹‹åå°±å¯ä»¥åœ¨æ‰‹æœºç«¯ä½¿ç”¨äº†ï¼Œå¦‚æœä¸æƒ³æ¯æ¬¡è¿›æµè§ˆå™¨ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­å°†é¡µé¢å‘é€åˆ°æ‰‹æœºæ¡Œé¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f180581636648c69d106d2e6ec9803a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=JDvUu34m985VyO3n4IPPIRt%2BWjk%3D" alt="_20251206_070326.png" loading="lazy"/></p>
<p>_20251206_070326.png</p>
<h2 data-id="heading-3">ç»“è¯­</h2>
<p>åœ¨ä¼—å¤šä¸ªäººè´¢åŠ¡åº”ç”¨ä¸­ï¼ŒezBookkeepingä»¥å…¶å¼€æºç‰¹æ€§ã€éšç§ä¿æŠ¤ã€è½»é‡é«˜æ•ˆå’Œæ˜“éƒ¨ç½²çš„ä¼˜åŠ¿è„±é¢–è€Œå‡ºã€‚æ— è®ºä½ æ˜¯æŠ€æœ¯çˆ±å¥½è€…æƒ³åœ¨æ ‘è“æ´¾ä¸Šæ­å»ºæœåŠ¡ï¼Œè¿˜æ˜¯æ™®é€šç”¨æˆ·æƒ³åœ¨NASä¸Šè‡ªå»ºè´¢åŠ¡ç³»ç»Ÿï¼ŒezBookkeepingéƒ½æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„ä¼˜ç§€é€‰æ‹©ã€‚</p>
<p>å®ƒçš„è®¾è®¡å“²å­¦å¾ˆæ˜ç¡®ï¼šç»™ç”¨æˆ·å®Œå…¨çš„æ§åˆ¶æƒï¼ŒåŒæ—¶æä¾›ä¸“ä¸šçº§çš„è®°è´¦ä½“éªŒã€‚åœ¨è¿™ä¸ªæ•°æ®éšç§æ—¥ç›Šé‡è¦çš„æ—¶ä»£ï¼Œè¿™æ ·çš„åº”ç”¨æ˜¾å¾—å°¤ä¸ºçè´µã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå¯é ã€ç§å¯†ã€åŠŸèƒ½å…¨é¢çš„è®°è´¦è§£å†³æ–¹æ¡ˆï¼Œä¸å¦¨è¯•è¯•ezBookkeepingã€‚åªéœ€å‡ åˆ†é’Ÿçš„éƒ¨ç½²æ—¶é—´ï¼Œä½ å°±èƒ½æ‹¥æœ‰ä¸€ä¸ªå®Œå…¨å±äºè‡ªå·±çš„ä¸“ä¸šè´¢åŠ¡ç®¡ç†ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GitHub Star æ•°é‡å‰ 5 çš„å¼€æº AI å†…éƒ¨å·¥å…·]]></title>    <link>https://juejin.cn/post/7580198093154598958</link>    <guid>https://juejin.cn/post/7580198093154598958</guid>    <pubDate>2025-12-05T15:23:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093154598958" data-draft-id="7580233527284301874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GitHub Star æ•°é‡å‰ 5 çš„å¼€æº AI å†…éƒ¨å·¥å…·"/> <meta itemprop="keywords" content="å¼€æº,ä½ä»£ç ,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-12-05T15:23:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NocoBase"/> <meta itemprop="url" content="https://juejin.cn/user/180779873743566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GitHub Star æ•°é‡å‰ 5 çš„å¼€æº AI å†…éƒ¨å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180779873743566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NocoBase
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:23:02.000Z" title="Fri Dec 05 2025 15:23:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-5-open-source-ai-internal-tools-on-github" target="_blank" title="https://www.nocobase.com/cn/blog/top-5-open-source-ai-internal-tools-on-github" ref="nofollow noopener noreferrer">www.nocobase.com/cn/blog/topâ€¦</a></p>
<p>ä¹‹å‰æˆ‘ä»¬æ•´ç†è¿‡å¾ˆå¤šå¼€æº AI é¡¹ç›®ç›¸å…³çš„å†…å®¹ï¼ŒåŒ…æ‹¬ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-11-github-open-source-no-code-ai-tools" target="_blank" title="https://www.nocobase.com/cn/blog/top-11-github-open-source-no-code-ai-tools" ref="nofollow noopener noreferrer">GitHub ä¸Š 11 æ¬¾å¼€æºçš„ AI æ— ä»£ç å¹³å°</a>ã€ä»¥åŠ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F14-ai-low-code-platforms-github" target="_blank" title="https://www.nocobase.com/cn/blog/14-ai-low-code-platforms-github" ref="nofollow noopener noreferrer">AI ä½ä»£ç å·¥å…·çš„ç›˜ç‚¹æ–‡ç« </a>ã€‚AI æŠ€æœ¯çš„å¿«é€Ÿæ¼”è¿›ï¼Œæˆ‘ä»¬çœ‹åˆ°è¶Šæ¥è¶Šå¤šçš„å¼€æºé¡¹ç›®å¼€å§‹ä¸»åŠ¨æ‹¥æŠ± AIã€‚</p>
<p>åŒæ ·çš„è¶‹åŠ¿ï¼Œä¹Ÿæ­£åœ¨å‘ç”Ÿåœ¨å†…éƒ¨å·¥å…·ï¼ˆInternal Toolsï¼‰é¢†åŸŸã€‚å»å¹´æˆ‘ä»¬ç›˜ç‚¹è¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fopen-source-internal-tools" target="_blank" title="https://www.nocobase.com/cn/blog/open-source-internal-tools" ref="nofollow noopener noreferrer">ä¸€æ‰¹ä¼˜ç§€çš„å¼€æºå†…éƒ¨å·¥å…·</a>ï¼Œä½†è¿›å…¥ 2025 å¹´åï¼Œè¿™äº›å·¥å…·å‡ ä¹éƒ½é™†ç»­åŠ å…¥äº† AI èƒ½åŠ›ï¼Œæ•´ä½“éƒ½å·²ç»ç„•ç„¶ä¸€æ–°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å†³å®šé‡æ–°åšä¸€æ¬¡ç³»ç»Ÿæ€§çš„æ›´æ–°ã€‚</p>
<p>ğŸ˜„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-5-open-source-projects-for-building-internal-tools-in-2024%23%25E5%2586%2585%25E9%2583%25A8%25E5%25B7%25A5%25E5%2585%25B7%25E6%259C%2589%25E4%25BB%2580%25E4%25B9%2588%25E5%25A5%25BD%25E5%25A4%2584" target="_blank" title="https://www.nocobase.com/cn/blog/top-5-open-source-projects-for-building-internal-tools-in-2024#%E5%86%85%E9%83%A8%E5%B7%A5%E5%85%B7%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E5%A4%84" ref="nofollow noopener noreferrer">å¦‚æœæ‚¨å¯¹å†…éƒ¨å·¥å…·çš„æ¦‚å¿µåŠå…¶å¸¦æ¥çš„ä»·å€¼è¿˜ä¸å¤ªäº†è§£ï¼Œå¯ä»¥å…ˆç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç›¸å…³ä»‹ç»ã€‚</a></p>
<p>è¿™æ¬¡ï¼Œæˆ‘ä»¬ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftopics%2Finternal-tools" target="_blank" title="https://github.com/topics/internal-tools" ref="nofollow noopener noreferrer">GitHub Internal Tools</a> è¯é¢˜é‡Œé‡æ–°ç­›é€‰äº† Star æ•°æ’åé å‰ä¸” GitHub Star æ•°å‡è¶…è¿‡ 20k çš„å¼€æºå†…éƒ¨å·¥å…·é¡¹ç›®ï¼Œä»‹ç»ä»–ä»¬çš„æŠ€æœ¯ä¿¡æ¯ä»¥åŠé€‚ç”¨åœºæ™¯.</p>
<p>å¸Œæœ›è¿™ä»½æ›´æ–°èƒ½å¸®åŠ©ä½ å¿«é€Ÿäº†è§£å“ªäº›å¼€æºå†…éƒ¨å·¥å…·åœ¨ AI æ—¶ä»£ä¾ç„¶å€¼å¾—æŠ•å…¥ï¼Œä¹Ÿä¸ºæ­£åœ¨è‡ªå»ºå†…éƒ¨å·¥å…·çš„æŠ€æœ¯å›¢é˜Ÿæä¾›æ¸…æ™°çš„å‚è€ƒæ–¹å‘ã€‚</p>
<p>ä½ å¯ä»¥å…ˆå¿«é€Ÿæµè§ˆä¸€ä¸‹æœ¬æ–‡ä¼šä»‹ç»çš„ 5 æ¬¾å¼€æºå†…éƒ¨å·¥å…·ï¼š</p>
<ul>
<li><strong>NocoBase</strong>ï¼šæ•°æ®æ¨¡å‹é©±åŠ¨çš„æ— ä»£ç å¼€å‘å¹³å°ï¼Œéå¸¸é€‚åˆç”¨äºæ­å»ºå†…éƒ¨å·¥å…·ï¼Œæ’ä»¶æ¶æ„é«˜åº¦å¯æ‰©å±•ï¼ŒAI å‘˜å·¥å¯ä»‹å…¥æ•°æ®æ•´ç†ã€å»ºæ¨¡ã€å›¾è¡¨ç”Ÿæˆã€ä»£ç ç”Ÿæˆç­‰åœºæ™¯ã€‚</li>
<li><strong>Budibase</strong>ï¼šä½ä»£ç å†…éƒ¨å·¥å…·å¹³å°ï¼Œæä¾›æ•°æ®åº“ã€æ‹–æ‹½æ„å»ºã€è‡ªåŠ¨ç”Ÿæˆ CRUDã€AI Columnã€AI è¡¨ç»“æ„ç­‰èƒ½åŠ›ã€‚</li>
<li><strong>Refine</strong>ï¼šåŸºäº React çš„å…ƒæ¡†æ¶ï¼Œé€‚åˆæ„å»º CRUD å¯†é›†å‹åå°ç³»ç»Ÿï¼Œå¹¶æ”¯æŒé€šè¿‡ AI è‡ªåŠ¨ç”Ÿæˆåº”ç”¨ç»“æ„ä¸ä»£ç ã€‚</li>
<li><strong>ToolJet</strong>ï¼šä½ä»£ç ä¸ AI-native èåˆçš„å¹³å°ï¼Œæ”¯æŒç”¨è‡ªç„¶è¯­è¨€ç”Ÿæˆå†…éƒ¨å·¥å…·çš„ç•Œé¢ä¸é€»è¾‘ã€‚</li>
<li><strong>Appsmith</strong>ï¼šæˆç†Ÿçš„å¼€æºä½ä»£ç å¹³å°ï¼Œå¯è¿æ¥å¤šæ•°æ®æºï¼Œé€‚åˆæ„å»ºç®¡ç†åå°ã€ä»ªè¡¨ç›˜ã€å®¡æ‰¹ç³»ç»Ÿï¼Œå¹¶å·²åŠ å…¥å¤šç§ AI æ“ä½œèƒ½åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-0">NO.5 nocobase</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35d776b00ea04af297ddae72933fb6f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=aFTqAXSyL76PZSe87FSF4tqMhk0%3D" alt="nocobase.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase" target="_blank" title="https://github.com/nocobase/nocobase" ref="nofollow noopener noreferrer">github.com/nocobase/noâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2F" target="_blank" title="https://www.nocobase.com/cn/" ref="nofollow noopener noreferrer">www.nocobase.com/cn/</a></td></tr><tr><td>å¼€æºåè®®</td><td>AGPL-3.0</td></tr><tr><td>GitHub Star æ•°</td><td>20.5k</td></tr><tr><td>GitHub Fork æ•°</td><td>2.3k</td></tr><tr><td>GitHub Issue æ•°</td><td>129</td></tr><tr><td>GitHub Pull Request æ•°</td><td>125</td></tr><tr><td>GitHub Contributor æ•°</td><td>101</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>å½“å¤©</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fv2.docs.nocobase.com%2Fcn%2Fai-employees" target="_blank" title="https://v2.docs.nocobase.com/cn/ai-employees" ref="nofollow noopener noreferrer">v2.docs.nocobase.com/cn/ai-emploâ€¦</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>NocoBase æ˜¯ä¸€ä¸ªæ•°æ®æ¨¡å‹é©±åŠ¨çš„æ— ä»£ç å¼€å‘å¹³å°ï¼Œéå¸¸é€‚åˆç”¨äºæ­å»ºå†…éƒ¨å·¥å…·ï¼Œé€šè¿‡æ’ä»¶æ¶æ„æ”¯æŒé«˜åº¦æ‰©å±•ï¼Œå¯ç”¨äºåˆ›å»ºç®¡ç†åå°ã€ä¸šåŠ¡ç³»ç»Ÿã€CRMã€å®¡æ‰¹æµç­‰å„ç§ä¼ä¸šå†…éƒ¨åº”ç”¨ã€‚ç³»ç»Ÿæä¾›æ‰€è§å³æ‰€å¾—çš„ç•Œé¢æ„å»ºèƒ½åŠ›ï¼Œå¹¶æ”¯æŒå¤æ‚çš„æ•°æ®å…³ç³»ã€æƒé™ä½“ç³»ä¸è‡ªå®šä¹‰é€»è¾‘ï¼Œé€‚åˆéœ€è¦å¿«é€Ÿæ„å»ºä¸šåŠ¡å·¥å…·çš„å›¢é˜Ÿã€‚</p>
<p>åœ¨ NocoBase ä¸­ï¼ŒAI å¹¶ä¸æ˜¯ç‹¬ç«‹æ¨¡å—ï¼Œè€Œæ˜¯ä¸è¡¨æ ¼ã€è¡¨å•ã€æ•°æ®æ¨¡å‹å’Œå·¥ä½œæµæ·±åº¦ç»“åˆçš„æ™ºèƒ½èƒ½åŠ›ã€‚NocoBase çš„ AI å‘˜å·¥æ¨¡å—å°† AI èƒ½åŠ›ç›´æ¥èå…¥ä¸šåŠ¡ç³»ç»Ÿï¼Œå¯ä»¥ä¸æ•°æ®æ¨¡å‹ã€è¡¨å•ã€è¡¨æ ¼å’Œå·¥ä½œæµååŒå·¥ä½œã€‚å®˜æ–¹å†…ç½®å¤šç§ AI å‘˜å·¥ç±»å‹ï¼ŒåŒ…æ‹¬æ•°æ®æ•´ç†ã€æ•°æ®å»ºæ¨¡ã€çŸ¥è¯†åº“æœç´¢ã€å›¾è¡¨ç”Ÿæˆå’Œä»£ç ç”Ÿæˆç­‰åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·ä»¥æ›´ä½çš„æˆæœ¬å®Œæˆæ•°æ®å¤„ç†ã€ç•Œé¢é…ç½®å’Œé€»è¾‘æ„å»ºã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>æ•°æ®æ•´ç†åœºæ™¯ï¼ˆDex æ•°æ®æ•´ç†ä¸“å®¶ï¼‰</strong></p>
<p>åœ¨å½•å…¥å®¢æˆ·ä¿¡æ¯ã€å·¥å•å†…å®¹ã€åˆåŒæ¡æ¬¾ç­‰åœºæ™¯ä¸­ï¼ŒAI å‘˜å·¥å¯ä»¥ä»éç»“æ„åŒ–çš„æ•°æ®æˆ–æ–‡ä»¶ä¸­æå–æ‰€éœ€çš„ä¿¡æ¯æ•´ç†æˆç»“æ„åŒ–çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥è°ƒç”¨å·¥å…·å°†ä¿¡æ¯å¡«å†™åˆ°è¡¨å•ä¸­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a252494cecb42228b491de291da5762~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=pgsSdxQFRWzY3xxYpjcyFbgIp%2B8%3D" alt="Dex.gif" loading="lazy"/></p>
<p><strong>æ•°æ®åˆ†æåœºæ™¯ï¼ˆViz æ´å¯Ÿåˆ†æå¸ˆï¼‰</strong></p>
<p>åœ¨ Leadsã€Opportunitiesã€Accounts ç­‰ä¸šåŠ¡æ•°æ®é¡µé¢ä¸­ï¼ŒAI å‘˜å·¥å¯ä»¥è¯»å–ä½ å½“å‰é¡µé¢çš„æ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆè¶‹åŠ¿å›¾ã€å¯¹æ¯”å›¾ã€KPI å¡å’Œç®€æ˜ç»“è®ºï¼Œè®©ä¸šåŠ¡åˆ†æå˜å¾—è½»æ¾ã€ç›´è§‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/198df152e2394944988ffb36dac0ce36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=AGjCcNcvRcpd8jEh0uCXoDue7EU%3D" alt="Viz.gif" loading="lazy"/></p>
<p><strong>å‰ç«¯äº¤äº’é…ç½®åœºæ™¯ï¼ˆNathan å‰ç«¯å·¥ç¨‹å¸ˆï¼‰</strong></p>
<p>åœ¨éœ€è¦ç¼–å†™ JSBlockã€JSFieldã€JSItemã€JSColumnã€JSActionã€äº‹ä»¶æµï¼ˆEvent Flowï¼‰ç­‰éœ€è¦å†™ JavaScript çš„åœºæ™¯ä¸‹ï¼ŒAI å‘˜å·¥å¯ä»¥è¯»å–å½“å‰ä»£ç ç¼–è¾‘å™¨ä¸­çš„ä¸Šä¸‹æ–‡ï¼Œæ ¹æ®è‡ªç„¶è¯­è¨€éœ€æ±‚è‡ªåŠ¨ç”Ÿæˆæˆ–ä¼˜åŒ–å‰ç«¯ä»£ç ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5758fd23bc074d178cbedc76b08c1ce0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=GyJyq%2FlgwNMOubKAOpfQ6LkjqU0%3D" alt="Nathan.png" loading="lazy"/></p>
<p><strong>æ•°æ®å»ºæ¨¡åœºæ™¯ï¼ˆOrin æ•°æ®å»ºæ¨¡å¸ˆï¼‰</strong></p>
<p>åœ¨æ­å»ºå†…éƒ¨ç³»ç»Ÿï¼ˆCRMã€å·¥å•ã€åº“å­˜ã€é¡¹ç›®ç®¡ç†ç­‰ï¼‰çš„æ•°æ®æ¨¡å‹æ—¶ï¼ŒAI å‘˜å·¥èƒ½å¤Ÿå¸®åŠ©ä½ åˆ›å»ºæˆ–ä¿®æ”¹æ•°æ®è¡¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cb964ccf67d488d8b09a0784fcb1314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=9ydsuJ3JE3CLyJdbszQsHoPd0qg%3D" alt="Orin.png" loading="lazy"/></p>
<h3 data-id="heading-1">NO.4 budibase</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e162f87606344c8b9de5b05117e89c2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=5HXN1thccXww9tl1qh4fqZAg%2BVc%3D" alt="budibase.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBudibase%2Fbudibase" target="_blank" title="https://github.com/Budibase/budibase" ref="nofollow noopener noreferrer">github.com/Budibase/buâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fbudibase.com%2F" target="_blank" title="https://budibase.com/" ref="nofollow noopener noreferrer">budibase.com/</a></td></tr><tr><td>å¼€æºåè®®</td><td>GPL-v3</td></tr><tr><td>GitHub Star æ•°</td><td>27.4k</td></tr><tr><td>GitHub Fork æ•°</td><td>2k</td></tr><tr><td>GitHub Issue æ•°</td><td>294</td></tr><tr><td>GitHub Pull Request æ•°</td><td>12</td></tr><tr><td>GitHub Contributor æ•°</td><td>112</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>å½“å¤©</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.budibase.com%2Fdocs%2Fquickstart-budibase-ai" target="_blank" title="https://docs.budibase.com/docs/quickstart-budibase-ai" ref="nofollow noopener noreferrer">docs.budibase.com/docs/quicksâ€¦</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>Budibase æ˜¯ä¸€ä¸ªå¼€æºä½ä»£ç å†…éƒ¨å·¥å…·å¹³å°ï¼Œå®ƒæä¾›æ•°æ®åº“è¿æ¥ã€å¤šç§æ•°æ®æºæ”¯æŒã€æ‹–æ‹½ UI æ„å»ºã€è‡ªåŠ¨ç”Ÿæˆ CRUD ç•Œé¢ä¸å·¥ä½œæµåŠŸèƒ½ï¼Œé€‚åˆå¿«é€Ÿæ­å»ºä¼ä¸šåå°ã€å®¡æ‰¹ç³»ç»Ÿã€è¡¨å•ï¼ç®¡ç†é¢æ¿ç­‰ä¸šåŠ¡ç³»ç»Ÿã€‚å…¶å†…ç½®æ•°æ®åº“ + REST API è¿æ¥èƒ½åŠ› + å¯è§†åŒ–ç•Œé¢æ„å»ºï¼Œä½¿å¾—å³ä¾¿æ²¡æœ‰æ·±åº¦å‰ç«¯ç»éªŒï¼Œä¹Ÿèƒ½æ„å»ºåŠŸèƒ½å®Œå¤‡çš„å†…éƒ¨åº”ç”¨ã€‚</p>
<p>Budibase å·²å°† AI èƒ½åŠ›æ•´åˆä¸ºå…¶å¹³å°å†…ç½®åŠŸèƒ½ä¹‹ä¸€ã€‚é€šè¿‡å¯ç”¨ Budibase AIï¼Œç”¨æˆ·å¯ä»¥ä¸ºè¡¨æ ¼æ·»åŠ  AI Columnï¼Œç”¨è‡ªç„¶è¯­è¨€ç”Ÿæˆ JavaScript é€»è¾‘ï¼Œä¸ºæ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆè¡¨ç»“æ„ï¼Œè¿˜å¯é€šè¿‡ AI è‡ªåŠ¨åŒ–åŠ¨ä½œè‡ªåŠ¨å¤„ç†æ–‡æœ¬ã€åˆ†ç±»ã€æ¸…æ´—ã€ç”Ÿæˆæ•°æ®ç­‰ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>æ™ºèƒ½æ•°æ®æ¸…æ´—ä¸å†…å®¹æ•´ç†</strong> ä½¿ç”¨ AI Column è‡ªåŠ¨æ¸…æ´—æˆ–è§„èŒƒæ•°æ®ï¼Œå¯é€‚ç”¨äºå®¢æˆ·åé¦ˆç®¡ç†ã€å†…å®¹å®¡æ ¸ã€å·¥å•å¤„ç†ç­‰åœºæ™¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0adf18f03914428b8f37287e080d9d07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=eZEIrdzCsNqujh0iI%2ByW8VkygO8%3D" alt="AI Column.png" loading="lazy"/></p>
<p><strong>è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“è¡¨ç»“æ„</strong> å½“ä½ éœ€è¦å¿«é€Ÿæ­å»ºæ–°çš„ä¸šåŠ¡æ¨¡å—ï¼Œæ¯”å¦‚å®¢æˆ·ç®¡ç†ã€åˆåŒç³»ç»Ÿæˆ–ä»»åŠ¡ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œå¯ä»¥é€šè¿‡ Budibase AI ä¸€å¥è¯ç”Ÿæˆåˆé€‚çš„æ•°æ®è¡¨ç»“æ„å’Œç¤ºä¾‹æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/143b67fc4b614a298be94c09c6d8aecc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=KMU%2FORs9n1iUxZRQeuXuOrbJhdU%3D" alt="æ•°æ®åº“è¡¨ç»“æ„.png" loading="lazy"/></p>
<h3 data-id="heading-2">NO.3 Refine</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6607a2349f2840eeaa42850146840c3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=JyIfmC78LaxP2nlGyswSxK%2B5B3I%3D" alt="refine-dvhndk.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frefinedev%2Frefine" target="_blank" title="https://github.com/refinedev/refine" ref="nofollow noopener noreferrer">github.com/refinedev/râ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Frefine.dev%2F" target="_blank" title="https://refine.dev/" ref="nofollow noopener noreferrer">refine.dev/</a></td></tr><tr><td>å¼€æºåè®®</td><td>MIT</td></tr><tr><td>GitHub Star æ•°</td><td>33.5k</td></tr><tr><td>GitHub Fork æ•°</td><td>2.9k</td></tr><tr><td>GitHub Issue æ•°</td><td>17</td></tr><tr><td>GitHub Pull Request æ•°</td><td>11</td></tr><tr><td>GitHub Contributor æ•°</td><td>311</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>2å¤©å‰</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fai.refine.dev%2F" target="_blank" title="https://ai.refine.dev/" ref="nofollow noopener noreferrer">ai.refine.dev/</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>Refine æ˜¯ä¸€ä¸ªå¼€æºçš„ React å…ƒæ¡†æ¶ï¼ˆmeta-frameworkï¼‰ï¼Œä¸“ä¸º CRUD å¯†é›†å‹ Web åº”ç”¨ã€ä¼ä¸šåå°ã€ç®¡ç†é¢æ¿ã€Dashboard å’Œ B2B å†…éƒ¨å·¥å…·è®¾è®¡ã€‚</p>
<p>Refine æ¨å‡ºäº† Refine AI â€”â€” å°† AI èƒ½åŠ›åµŒå…¥åˆ°å†…éƒ¨å·¥å…·åˆ›å»ºæµç¨‹ä¸­ã€‚é€šè¿‡ Refine AIï¼Œå¼€å‘è€…å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æˆ–æ–‡æ¡£ï¼API è§„èŒƒä½œä¸ºè¾“å…¥ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåŸºç¡€çš„ã€ç”Ÿäº§çº§è´¨é‡çš„ React åº”ç”¨ç»“æ„ï¼ˆåŒ…æ‹¬ CRUD é¡µé¢ã€è·¯ç”±ã€é‰´æƒã€çŠ¶æ€ç®¡ç†ã€æ•°æ®è¯·æ±‚ç­‰ï¼‰ï¼Œè¾“å‡ºçº¯ React ä»£ç ï¼Œæ–¹ä¾¿è¿›ä¸€æ­¥å®šåˆ¶å’Œå¼€å‘ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>åå°ç®¡ç†ç³»ç»Ÿç”Ÿæˆ</strong></p>
<p>Refine AI èƒ½æ ¹æ® API æˆ–æ•°æ®æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆå¸¦åˆ—è¡¨é¡µã€è¡¨å•é¡µã€è¯¦æƒ…é¡µçš„ CRUD ç®¡ç†ç•Œé¢ï¼Œé€‚åˆåº“å­˜ç®¡ç†ã€è®¢å•ç®¡ç†ã€é¡¹ç›®ç®¡ç†ç­‰å†…éƒ¨ç³»ç»Ÿçš„å¿«é€Ÿèµ·æ­¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a919def83ef471284fbded1e17e83de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=sJtHDDVn%2BzPTa8%2F4T4zhOgomwng%3D" alt="åå°ç®¡ç†ç³»ç»Ÿç”Ÿæˆ-3eh30p.png" loading="lazy"/></p>
<p><strong>ä»£ç é‡æ„ä¸ç»´æŠ¤</strong></p>
<p>Refine AI çš„ç”Ÿæˆæœºåˆ¶ä¸ä»…é€‚åˆæ–°é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨å·²æœ‰é¡¹ç›®ä¸Šã€‚ç”±äºå…¶ç”Ÿæˆä»£ç éµå¾ªä¼ä¸šçº§ç»“æ„ä¸æœ€ä½³å®è·µï¼Œå®ƒèƒ½å¸®åŠ©å¼€å‘è€…å¯¹æ—§ç³»ç»Ÿè¿›è¡Œæ¨¡å—åŒ–é‡æ„ï¼Œæˆ–è€…åœ¨ç°æœ‰ç³»ç»ŸåŸºç¡€ä¸Šå¿«é€Ÿæ–°å¢æ–°çš„ä¸šåŠ¡æ¨¡å—ï¼Œä»è€Œå…¼é¡¾æ•ˆç‡ä¸å¯ç»´æŠ¤æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38277800ed2847df9bc13570ba5c5294~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=lTbwjvCb%2BqRGyKELAPXBiUy42bo%3D" alt="ä»£ç é‡æ„ä¸ç»´æŠ¤.png" loading="lazy"/></p>
<p>ğŸ’¡æ¨èé˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fnocobase-vs-refine" target="_blank" title="https://www.nocobase.com/cn/blog/nocobase-vs-refine" ref="nofollow noopener noreferrer">å¼€æº CRUD å¼€å‘å·¥å…·ï¼šNocoBase ä¸ Refine å¯¹æ¯” </a></p>
<h3 data-id="heading-3">NO.2 ToolJet</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc017e36bd21437e9ee87e4e8214be68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=vrK3MLxaSEUDHm8Hm1VYi4Pz2mc%3D" alt="ToolJet.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FToolJet%2FToolJet" target="_blank" title="https://github.com/ToolJet/ToolJet" ref="nofollow noopener noreferrer">github.com/ToolJet/Tooâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Ftooljet.ai%2F" target="_blank" title="https://tooljet.ai/" ref="nofollow noopener noreferrer">tooljet.ai/</a></td></tr><tr><td>å¼€æºåè®®</td><td>AGPL-3.0</td></tr><tr><td>GitHub Star æ•°</td><td>37k</td></tr><tr><td>GitHub Fork æ•°</td><td>4.9k</td></tr><tr><td>GitHub Issue æ•°</td><td>646</td></tr><tr><td>GitHub Pull Request æ•°</td><td>313</td></tr><tr><td>GitHub Contributor æ•°</td><td>651</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>ä¸€å¤©å‰</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.tooljet.com%2Fdocs%2Fbuild-with-ai%2Foverview" target="_blank" title="https://docs.tooljet.com/docs/build-with-ai/overview" ref="nofollow noopener noreferrer">docs.tooljet.com/docs/build-â€¦</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>ToolJet æ˜¯ä¸€ä¸ªå¼€æºã€ä½ä»£ç  + AI-native å¹³å°ï¼Œç”¨äºå¿«é€Ÿæ„å»ºä¼ä¸šå†…éƒ¨å·¥å…·ã€ä»ªè¡¨ç›˜ã€åå°ç®¡ç†ç³»ç»ŸåŠä¸šåŠ¡åº”ç”¨ã€‚å®ƒæä¾›æ‹–æ‹½å¼å¯è§†åŒ–ç•Œé¢æ„å»ºå™¨ã€å†…ç½®æ•°æ®åº“ã€å¤šç§æ•°æ®æºï¼APIï¼SaaS é›†æˆèƒ½åŠ›ã€ä»¥åŠæƒé™ä¸åä½œæœºåˆ¶ï¼Œé€‚åˆå¸Œæœ›å¿«é€Ÿäº¤ä»˜å†…éƒ¨ç³»ç»Ÿçš„å›¢é˜Ÿã€‚</p>
<p>åœ¨ ToolJet ä¸­ï¼ŒAI èåˆåˆ°å¹³å°æ„å»ºæµç¨‹é‡Œã€‚ä½ å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°æƒ³è¦çš„åº”ç”¨ï¼ŒToolJet ä¼šè‡ªåŠ¨ç”Ÿæˆåˆæ­¥çš„ UIã€æ•°æ®ç»“æ„ä¸æŸ¥è¯¢é€»è¾‘ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>é€šè¿‡è‡ªç„¶è¯­è¨€å¿«é€Ÿç”Ÿæˆä¸šåŠ¡åº”ç”¨</strong></p>
<p>ToolJet æ”¯æŒä½¿ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚æ¥æ„å»ºå†…éƒ¨å·¥å…·ï¼Œå¯ä»¥ä»é›¶å¼€å§‹ç”Ÿæˆåº”ç”¨ç•Œé¢ã€æ•°æ®ç»“æ„å’Œé€»è¾‘ï¼Œä¹Ÿå¯ä»¥å¯¹ç°æœ‰åº”ç”¨è¿›è¡Œè°ƒæ•´æˆ–æ‰©å±•ã€‚è¿™ä½¿å›¢é˜Ÿèƒ½å¤Ÿåœ¨çŸ­æ—¶é—´å†…ç”Ÿæˆå¦‚åº“å­˜ç®¡ç†ç­‰å¸¸è§å†…éƒ¨ç³»ç»Ÿï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2c5c4ea34634abc93a91358f773fe43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=MPjQ8gJ3bk2nruDNMNo0sw8qQB0%3D" alt="è‡ªç„¶è¯­è¨€å¿«é€Ÿç”Ÿæˆ.png" loading="lazy"/></p>
<p><strong>AI æ–‡æ¡£åŠ©æ‰‹åŠ é€Ÿæ„å»º</strong></p>
<p>ToolJet å†…ç½®ä¸€ä¸ª AI æ–‡æ¡£åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”å…³äºç»„ä»¶ã€åŠŸèƒ½ã€é›†æˆæ–¹å¼ç­‰å¹³å°ç›¸å…³çš„é—®é¢˜ï¼Œå¸®åŠ©ä½¿ç”¨è€…æ›´å¿«ç†è§£å¹¶å®Œæˆæ„å»ºä»»åŠ¡ã€‚å¯¹äºä¸ç†Ÿæ‚‰ ToolJet æˆ–ç¼ºä¹å‰ç«¯ç»éªŒçš„å›¢é˜Ÿï¼Œæ–‡æ¡£åŠ©æ‰‹èƒ½å¤Ÿæ˜¾è‘—é™ä½å­¦ä¹ æˆæœ¬å¹¶æå‡æ­å»ºé€Ÿåº¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c2c28f46a4a43e084985ff54cacc8c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=rMvmPmBtekQ2cSW69yv%2BXuiOtR0%3D" alt="AI æ–‡æ¡£åŠ©æ‰‹.png" loading="lazy"/></p>
<h3 data-id="heading-4">NO.1 appsmith</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaf926fea565476cbe18d41e14582cb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=0zn96onbAEjpBQAVJlq57mkaxTI%3D" alt="appsmith-of0467.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fappsmithorg%2Fappsmith" target="_blank" title="https://github.com/appsmithorg/appsmith" ref="nofollow noopener noreferrer">github.com/appsmithorgâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appsmith.com%2F" target="_blank" title="https://www.appsmith.com/" ref="nofollow noopener noreferrer">www.appsmith.com/</a></td></tr><tr><td>å¼€æºåè®®</td><td>Apache-2.0</td></tr><tr><td>GitHub Star æ•°</td><td>38.6k</td></tr><tr><td>GitHub Fork æ•°</td><td>4.4k</td></tr><tr><td>GitHub Issue æ•°</td><td>4.4k</td></tr><tr><td>GitHub Pull Request æ•°</td><td>38</td></tr><tr><td>GitHub Contributor æ•°</td><td>335</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>ä¸€å¤©å‰</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appsmith.com%2Fai%2Flow-code" target="_blank" title="https://www.appsmith.com/ai/low-code" ref="nofollow noopener noreferrer">www.appsmith.com/ai/low-code</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>Appsmith æ˜¯ä¸€ä¸ªå¼€æºä½ä»£ç å¹³å°ï¼Œæ—¨åœ¨å¸®åŠ©å›¢é˜Ÿä»¥æ›´å°‘ä»£ç ã€æ›´å¿«é€Ÿåº¦æ„å»ºå†…éƒ¨ä¸šåŠ¡åº”ç”¨ã€‚å®ƒæ”¯æŒè¿æ¥å¤šç§æ•°æ®åº“æˆ– APIï¼Œæä¾›ä¸°å¯Œçš„å¯è§†åŒ– UI ç»„ä»¶ï¼Œå¹¶å…è®¸å¼€å‘è€…é€šè¿‡ JavaScript æ·»åŠ è‡ªå®šä¹‰é€»è¾‘ï¼Œä»è€Œçµæ´»æ„å»ºç®¡ç†åå°ã€æ•°æ®é¢æ¿ã€å®¡æ‰¹ç³»ç»Ÿã€CRMã€ä»ªè¡¨ç›˜ç­‰ã€‚</p>
<p>æœ€æ–°ç‰ˆæœ¬ä¸­ï¼ŒAppsmith åŠ å…¥äº† AI èƒ½åŠ› â€”â€” ä½ å¯ä»¥å°†å¤šç§ä¸»æµ LLMï¼ˆå¦‚ OpenAIã€Google AIã€Anthropic ç­‰ï¼‰æ¥å…¥é¡¹ç›®ï¼Œé€šè¿‡ AI actions å®ç°æ–‡æœ¬åˆ†æã€æ‘˜è¦ã€è¯­ä¹‰æœç´¢ä»¥åŠæ–‡æœ¬æˆ–å›¾åƒåˆ†ç±»ç­‰åŠŸèƒ½ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>å€ŸåŠ© AI æå‡æ„å»ºé€Ÿåº¦</strong></p>
<p>åœ¨ Appsmith ä¸­ï¼ŒAI å¯ä»¥åœ¨åº”ç”¨æ„å»ºçš„å„ä¸ªé˜¶æ®µæä¾›ä¸Šä¸‹æ–‡å¸®åŠ©ï¼ŒåŒ…æ‹¬æ“ä½œæŒ‡å¼•ã€å¹³å°èƒ½åŠ›è§£é‡Šã€æŸ¥è¯¢ç¼–å†™æ”¯æŒã€JavaScript é€»è¾‘å»ºè®®ä»¥åŠç•Œé¢å®šåˆ¶æç¤ºã€‚å¼€å‘è€…åœ¨æ„å»ºå†…éƒ¨å·¥å…·æ—¶ï¼Œé€šè¿‡ä¾§è¾¹çš„å¸®åŠ©å…¥å£å³å¯è°ƒå‡º Appyï¼Œåœ¨å½“å‰é¡µé¢ç›´æ¥è·å–ç›¸å…³ååŠ©ï¼Œä»è€Œå‡å°‘æŸ¥æ–‡æ¡£å’Œè¯•é”™æˆæœ¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e15b948a191494f99514f1dcc0e6f16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=649qdS1hcQeGGbga8xopsmXxkYc%3D" alt="å€ŸåŠ© AI æå‡æ„å»ºé€Ÿåº¦.png" loading="lazy"/></p>
<p><strong>åœ¨å†…éƒ¨åº”ç”¨ä¸­æ•´åˆ AI èƒ½åŠ›</strong></p>
<p>ä¾‹å¦‚ï¼Œé€šè¿‡ Appsmith çš„æ•°æ®æºã€UI ç»„ä»¶å’Œ Appsmith AIï¼Œå›¢é˜Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªç”¨äºåˆ†æå®¢æˆ·è¯„ä»·çš„åº”ç”¨ï¼Œå¹¶åˆ©ç”¨æƒ…æ„Ÿåˆ†ç±»å¸®åŠ©å®¢æœäººå‘˜æ›´å¿«è¯†åˆ«è´Ÿé¢è¯„è®ºï¼Œä¼˜å…ˆå¤„ç†å…³é”®é—®é¢˜ã€‚ä»æ•°æ®åº“æŸ¥è¯¢è¯„ä»·å†…å®¹ã€ä½¿ç”¨è¡¨æ ¼ç»„ä»¶å±•ç¤ºæ•°æ®ã€æ¥å…¥ Appsmith AI datasource æ‰§è¡Œæƒ…æ„Ÿåˆ†ç±»ï¼Œä»¥åŠé€šè¿‡ JS Object å°†åˆ†ç±»ç»“æœå›å†™åˆ°ç•Œé¢ä¸­ï¼Œä»è€Œå½¢æˆä¸€ä¸ªå¯äº¤äº’çš„ AI å¢å¼ºå‹å†…éƒ¨å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bf17a490bdc401aa274444d9da398e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=XmcSgTxz26GIb0wplqjVS6e9mlY%3D" alt="æ•´åˆ AI èƒ½åŠ›.png" loading="lazy"/></p>
<p>ğŸ’¡æ¨èé˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fnocobase-vs-appsmith" target="_blank" title="https://www.nocobase.com/cn/blog/nocobase-vs-appsmith" ref="nofollow noopener noreferrer">NocoBase ä¸ Appsmithï¼šå“ªä¸ªå¼€æºä½ä»£ç å¹³å°æ›´é€‚åˆä½ ï¼Ÿ</a></p>
<p>å¦å¤–ï¼Œé™¤äº†ä¸Šè¿°äº”æ¬¾é«˜æ˜Ÿçš„ä¸»æµé¡¹ç›®ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYaoApp%2Fyao" target="_blank" title="https://github.com/YaoApp/yao" ref="nofollow noopener noreferrer">Yao</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fillacloud%2Filla-builder" target="_blank" title="https://github.com/illacloud/illa-builder" ref="nofollow noopener noreferrer">ILLA Builder </a>è¿™ç±»å¼€æºå·¥å…·ä¹ŸåŒæ ·å…·å¤‡ä¸é”™çš„ç¤¾åŒºæ´»è·ƒåº¦ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYaoApp%2Fyao" target="_blank" title="https://github.com/YaoApp/yao" ref="nofollow noopener noreferrer">Yao</a> ä»¥å…¨æ ˆåº”ç”¨å¼•æ“çš„æ–¹å¼ï¼Œä¸ºå†…éƒ¨ç³»ç»Ÿæä¾›æ¨¡å‹ã€æµç¨‹ä¸ API çš„å¿«é€Ÿæ„å»ºèƒ½åŠ›ï¼›<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fillacloud%2Filla-builder" target="_blank" title="https://github.com/illacloud/illa-builder" ref="nofollow noopener noreferrer">ILLA Builder</a> åˆ™é¢å‘å¯è§†åŒ–ç•Œé¢æ­å»ºï¼Œé€‚åˆåœ¨è¾ƒçŸ­æ—¶é—´å†…å®Œæˆåå°é¢æ¿å’Œæ•°æ®å·¥å…·çš„æ­å»ºã€‚å®ƒä»¬åŒæ ·æä¾›äº†åŸºç¡€çš„ AI æ‰©å±•èƒ½åŠ›ï¼Œå¯ä»¥ä½œä¸ºå›¢é˜Ÿåœ¨æ„å»ºå†…éƒ¨å·¥å…·æ—¶çš„è¡¥å……é€‰æ‹©ã€‚</p>
<h3 data-id="heading-5"><strong>ç»“è¯­</strong></h3>
<p>é€‰æ‹©å†…éƒ¨å·¥å…·æ—¶ï¼Œå»ºè®®å¯ä»¥ä»å¤šä¸ªç»´åº¦è¿›è¡Œç»¼åˆè¯„ä¼°ï¼Œä¾‹å¦‚ï¼š</p>
<ol>
<li>AI åŠŸèƒ½çš„æˆç†Ÿåº¦ï¼ŒåŒ…æ‹¬æ˜¯å¦å…·å¤‡é¡µé¢ç”Ÿæˆã€SQL æˆ–ä¸šåŠ¡é€»è¾‘ç”Ÿæˆã€å›¾è¡¨ç”Ÿæˆã€æ™ºèƒ½åŠ©æ‰‹ç­‰èƒ½åŠ›ï¼›</li>
<li>ç”Ÿæ€æ´»è·ƒåº¦ï¼Œå¦‚ Starã€Issueã€Commit ä¸æ–‡æ¡£æ›´æ–°é¢‘ç‡ï¼Œéƒ½èƒ½åæ˜ é¡¹ç›®çš„å¯é æ€§å’Œå¯æŒç»­æ€§ï¼›</li>
<li>è‡ªæ‰˜ç®¡èƒ½åŠ›ä¸å®‰å…¨æ€§ï¼Œå½±å“ä¼ä¸šå†…éƒ¨éƒ¨ç½²å’Œæ•°æ®åˆè§„ï¼›</li>
<li>å¯æ‰©å±•æ€§ä¸äºŒæ¬¡å¼€å‘éš¾åº¦ï¼Œç›´æ¥å…³ç³»åˆ°æœªæ¥ä¸šåŠ¡æŒç»­è¿­ä»£çš„æˆæœ¬ã€‚</li>
</ol>
<p>å¸Œæœ›æœ¬æ–‡çš„æ•´ç†èƒ½å¤Ÿä¸ºä½ åœ¨è‡ªå»ºå†…éƒ¨å·¥å…·æ—¶æä¾›å¯å‚è€ƒçš„æŠ€æœ¯åˆ¤æ–­ä¸é€‰å‹ä¾æ®ã€‚</p>
<p>éšç€ç”Ÿæˆå¼ AI çš„ä¸æ–­æ¼”è¿›ï¼Œè¿™äº›å¼€æºé¡¹ç›®ä¹Ÿä¼šæŒç»­æ›´æ–°è¿­ä»£ï¼Œæ–°çš„èƒ½åŠ›ä¹Ÿä¼šä¸æ–­æ¶Œç°ã€‚</p>
<p>æœŸå¾…è¿™äº›å·¥å…·èƒ½å¸®åŠ©ä½ çš„å›¢é˜Ÿåœ¨æœªæ¥æ„å»ºæ›´é«˜æ•ˆã€æ›´æ™ºèƒ½çš„å†…éƒ¨ç³»ç»Ÿã€‚</p>
<p>ç›¸å…³é˜…è¯»ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fthe-8-best-google-sheets-alternatives-with-full-cost-and-capability-analysis" target="_blank" title="https://www.nocobase.com/cn/blog/the-8-best-google-sheets-alternatives-with-full-cost-and-capability-analysis" ref="nofollow noopener noreferrer">8 ä¸ªæœ€ä½³ Google Sheets æ›¿ä»£æ–¹æ¡ˆï¼ˆé™„æˆæœ¬ä¸èƒ½åŠ›åˆ†æï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F6-open-source-no-low-code-tools-for-building-pocs" target="_blank" title="https://www.nocobase.com/cn/blog/6-open-source-no-low-code-tools-for-building-pocs" ref="nofollow noopener noreferrer">6ä¸ªé€‚åˆåš PoC çš„å¼€æºæ— ä»£ç /ä½ä»£ç å·¥å…·æ¨è </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fa-developers-technical-decision-guide-to-no-code-and-low-code" target="_blank" title="https://www.nocobase.com/cn/blog/a-developers-technical-decision-guide-to-no-code-and-low-code" ref="nofollow noopener noreferrer">ç»™å¼€å‘è€…çš„æ— ä»£ç /ä½ä»£ç æŠ€æœ¯å†³ç­–æŒ‡å—ï¼ˆ2026ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F6-in-depth-comparison-rbac-no-code-low-code-platforms" target="_blank" title="https://www.nocobase.com/cn/blog/6-in-depth-comparison-rbac-no-code-low-code-platforms" ref="nofollow noopener noreferrer">6 å¤§ä¼ä¸šçº§æ— ä»£ç ä½ä»£ç å¹³å° RBAC æƒé™ä½“ç³»æ·±åº¦å¯¹æ¯”</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F14-ai-low-code-platforms-github" target="_blank" title="https://www.nocobase.com/cn/blog/14-ai-low-code-platforms-github" ref="nofollow noopener noreferrer">GitHub ä¸Šæœ€å€¼å¾—å…³æ³¨çš„ 14 ä¸ªå¼€æº AI ä½ä»£ç å·¥å…· </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-11-github-open-source-no-code-ai-tools" target="_blank" title="https://www.nocobase.com/cn/blog/top-11-github-open-source-no-code-ai-tools" ref="nofollow noopener noreferrer">11 ä¸ªåœ¨ GitHub ä¸Šæœ€å—æ¬¢è¿çš„å¼€æºæ— ä»£ç  AI å·¥å…· </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fgithub-open-source-ai-agent-projects" target="_blank" title="https://www.nocobase.com/cn/blog/github-open-source-ai-agent-projects" ref="nofollow noopener noreferrer">GitHub ä¸Š Star æ•°é‡å‰ 18 çš„å¼€æº AI Agent é¡¹ç›®</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Oracle åˆ° KingbaseESï¼šç ´è§£è¿ç§»ç—›ç‚¹ï¼Œè§£é”ä¿¡åˆ›æ—¶ä»£æ•°æ®åº“æ–°å¯èƒ½]]></title>    <link>https://juejin.cn/post/7580203347702300687</link>    <guid>https://juejin.cn/post/7580203347702300687</guid>    <pubDate>2025-12-05T15:24:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580203347702300687" data-draft-id="7579995747171549219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Oracle åˆ° KingbaseESï¼šç ´è§£è¿ç§»ç—›ç‚¹ï¼Œè§£é”ä¿¡åˆ›æ—¶ä»£æ•°æ®åº“æ–°å¯èƒ½"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-05T15:24:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€”å¼ºçš„çŸ³å¤´_"/> <meta itemprop="url" content="https://juejin.cn/user/3168119757484368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Oracle åˆ° KingbaseESï¼šç ´è§£è¿ç§»ç—›ç‚¹ï¼Œè§£é”ä¿¡åˆ›æ—¶ä»£æ•°æ®åº“æ–°å¯èƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3168119757484368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€”å¼ºçš„çŸ³å¤´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:24:21.000Z" title="Fri Dec 05 2025 15:24:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æèµ· Oracleï¼Œå®ƒåœ¨ä¼ ç»Ÿæ•°æ®åº“é¢†åŸŸå¯æ˜¯æ ‡æ†èˆ¬çš„å­˜åœ¨ï¼Œé•¿ä¹…ä»¥æ¥ä¸€ç›´æ’‘èµ·äº†ä¼—å¤šä¼ä¸šçš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå¯è¿™ä¸¤å¹´æƒ…å½¢å‘ç”Ÿäº†æ”¹å˜ï¼ŒOracleçš„æˆæƒè´¹ç”¨å¾ˆé«˜ï¼Œè¿ç»´æˆæœ¬åˆè®©äººå¤´ç–¼ï¼Œå†åŠ ä¸Šä¿¡åˆ›æ”¿ç­–å¯¹äºåˆè§„æœ‰ç€å¼ºç¡¬çš„è¦æ±‚ï¼Œäºæ˜¯å¾ˆå¤šä¼ä¸šä¾¿å¼€å§‹æŠŠç›®å…‰è½¬å‘å›½äº§æ•°æ®åº“ã€‚é‡‘ä»“æ•°æ®åº“ KingbaseES æ˜¯å›½äº§æ•°æ®åº“ä¸­çš„ä½¼ä½¼è€…ï¼Œå‡­å€Ÿå…¶é«˜é€‚é…æ€§å’Œé«˜æ€§èƒ½çš„åŸºç¡€ï¼Œæˆäº†äººä»¬æ›´æ¢ Oracle çš„é¦–è¦é€‰æ‹©ï¼Œä¸è¿‡è¦å‘Šè¯‰å¤§å®¶çš„æ˜¯ï¼Œè¿ç§»ä¹‹è·¯å¹¶éæ˜“èµ°ï¼Œâ€œæŠ¥é”™â€é¢‘ç¹å‡ºç°ï¼Œå­˜åœ¨é€‚é…æ€§éšœç¢ï¼Œæˆæœ¬éš¾ä»¥æ§åˆ¶ä½â€¦â€¦è¿™äº›éš¾ç‚¹çœŸçœŸåˆ‡åˆ‡åœ°æˆä¸ºäº†ä¼ä¸šåœ¨æ‰§è¡Œè¿ç§»æ—¶ç¢°ä¸Šçš„â€œç»Šè„šçŸ³â€ï¼Œå¦‚ä»Šï¼Œæˆ‘ä»¬å°±ä¾ç…§ä» Oracle å‘ KingbaseES è¿ç§»çš„å®é™…æ“ä½œç»éªŒï¼Œæ·±å…¥å‰–æè¿™äº›éš¾ç‚¹ï¼Œå¹¶ä¸”ç»™å‡ºä¸€äº›åˆ‡å®å¯è¡Œçš„åº”å¯¹åŠæ³•ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d16188c7e77d43b0abfc1d1e986c3519~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=%2BYJlkCNPx6YlAPwMmIfeclBlHco%3D" alt="74d8cc9b154fb989777d0027ba927176.jpg" loading="lazy"/>
@[TOC]</p>
<h2 data-id="heading-0">ä¸€ã€è¿ç§»æµªæ½®ä¸‹çš„ â€œç”œèœœçƒ¦æ¼â€ï¼šä¸ºä½• Oracle è¿ç§»åŠ¿åœ¨å¿…è¡Œå´å›°éš¾é‡é‡ï¼Ÿ</h2>
<p>éšç€ä¿¡åˆ›æ”¿ç­–ä»å½“åˆçš„â€œè¯•ç‚¹â€èµ°å‘ç°åœ¨çš„â€œå…¨é¢æ¨å¹¿â€ï¼Œä¼ä¸šé¢ä¸´ç€â€œå¿…é¡»è¿â€çš„åˆè§„å‹åŠ›ï¼›å¦ä¸€æ–¹é¢ï¼ŒOracle é€å¹´ä¸Šæ¶¨çš„ç»´ä¿è´¹ã€å°é—­çš„æŠ€æœ¯ç”Ÿæ€ï¼Œä¹Ÿè®©ä¼ä¸šèƒŒè´Ÿç€â€œä¸å¾—ä¸è¿â€çš„æˆæœ¬å‹åŠ›ã€‚æ®é‡‘ä»“æ•°æ®åº“ç¤¾åŒºçš„è°ƒç ”æ˜¾ç¤ºï¼Œè¶…è¿‡ 70% çš„ä¼ä¸šæƒ³è¿ç§»ï¼ŒèƒŒåçš„åŠ¨åŠ›æ— éå°±æ˜¯ä¸¤ä¸ªï¼šâ€œä¿¡åˆ›åˆè§„â€å’Œâ€œé™æœ¬å¢æ•ˆâ€ã€‚</p>
<p>ä½†çœŸåˆ°äº†è¿ç§»çš„æ—¶å€™ï¼Œä¼ä¸šå¾€å¾€ä¼šé™·å…¥â€œç†æƒ³å¾ˆä¸°æ»¡ï¼Œç°å®å¾ˆéª¨æ„Ÿâ€çš„å°´å°¬å¢ƒåœ°ï¼šåŸæœ¬è®¡åˆ’ 3 ä¸ªæœˆæå®šçš„é¡¹ç›®ï¼Œå› ä¸ºå„ç§å…¼å®¹æ€§æŠ¥é”™ï¼Œç¡¬æ˜¯æ‹–äº†å¤§åŠå¹´ï¼›æŠ•å…¥å¤§é‡äººåŠ›å»æ”¹ä»£ç ï¼Œç»“æœæ•°æ®è¿˜æ˜¯å¯¹ä¸ä¸Šï¼›å¥½ä¸å®¹æ˜“è¿å®Œäº†ï¼Œç³»ç»Ÿæ€§èƒ½åè€Œè¿˜ä¸å¦‚ä»¥å‰â€¦â€¦ è¿™äº›é—®é¢˜çš„æ ¸å¿ƒï¼Œéƒ½æŒ‡å‘äº†è¿ç§»è¿‡ç¨‹ä¸­ä¸‰ä¸ªç»•ä¸å¼€çš„ç—›ç‚¹ï¼šâ€œé—®é¢˜è¯â€é¢‘å‘ã€å…¼å®¹æ€§æŒ‘æˆ˜ã€è¿ç§»æˆæœ¬é«˜ä¼ã€‚</p>
<h2 data-id="heading-1">äºŒã€Oracle è¿ç§»ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹æ‹†è§£ï¼šæ¯ä¸€æ­¥éƒ½æš—è— â€œç»Šè„šçŸ³â€</h2>
<h3 data-id="heading-2">ï¼ˆä¸€ï¼‰ç—›ç‚¹ 1ï¼šé«˜é¢‘ â€œé—®é¢˜è¯â€ é¢‘å‘ï¼Œè¿ç§»è·¯ä¸Šæ­¥æ­¥è¸©å‘</h3>
<p>åœ¨è¿ç§»è¿‡ç¨‹ä¸­ï¼Œå„ç§å„æ ·çš„â€œé—®é¢˜è¯â€å°±åƒâ€œæ‹¦è·¯è™â€ä¸€æ ·ï¼Œè®©æŠ€æœ¯å›¢é˜Ÿç–²äºå¥”å‘½ã€‚è¿™äº›é—®é¢˜çœ‹ç€å¥½åƒæŒºé›¶æ•£ï¼Œä½†å‡‘åœ¨ä¸€èµ·å°±èƒ½ç›´æ¥å¯¼è‡´è¿ç§»åœæ»ï¼Œç”šè‡³æå‡ºæ•°æ®å¼‚å¸¸çš„å¤§ä¹±å­ï¼Œç»å¯¹æ˜¯æ‹–æ…¢è¿›åº¦çš„å¤´å·æ€æ‰‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f19a109adc574ace8fe511d2f5c0443d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=qCd1QIh1PHPNWrhKTFBAhi037dg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">ï¼ˆäºŒï¼‰ç—›ç‚¹ 2ï¼šå…¼å®¹æ€§ â€œéšå½¢å£å’â€ï¼Œä»£ç ä¸æ•°æ®éš¾é€‚é…</h3>
<p>å¼‚æ„æ•°æ®åº“è¿ç§»ï¼Œæœ€éš¾å•ƒçš„éª¨å¤´å°±æ˜¯å…¼å®¹æ€§ã€‚è™½ç„¶ KingbaseES å’Œ Oracle åœ¨æ ¸å¿ƒåŠŸèƒ½ä¸Šå·²ç»é«˜åº¦å…¼å®¹äº†ï¼Œä½†åœ¨è¯­æ³•ç»†èŠ‚ã€æ•°æ®ç±»å‹è¾¹ç¼˜åœºæ™¯ã€æ•°æ®åº“å¯¹è±¡ç‰¹æ€§è¿™äº›æ–¹é¢çš„â€œéšå½¢å·®å¼‚â€ï¼Œå¾€å¾€ä¼šæˆä¸ºå¡ä½è¿ç§»çš„å…³é”®éšœç¢ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d78c3cdabb8847e0ae5cef4be32cb484~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=A1pw%2BTyWW5lPrpgsb%2FkX8XbeQJg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">ï¼ˆä¸‰ï¼‰ç—›ç‚¹ 3ï¼šè¿ç§»æˆæœ¬ â€œå¤±æ§â€ï¼Œæ—¶é—´ä¸èµ„æºåŒé‡å‹åŠ›</h3>
<p>Oracle è¿ç§»å¯ä¸æ˜¯ç®€å•çš„â€œæ•°æ®æ¬è¿â€ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¶‰åŠè¯„ä¼°ã€å‡†å¤‡ã€è¿ç§»ã€æµ‹è¯•çš„å…¨æµç¨‹ç³»ç»Ÿå·¥ç¨‹ã€‚ä¼ä¸šç»å¸¸ä¼šé¢ä¸´â€œé¢„ç®—è¶…æ”¯ã€å·¥æœŸå»¶è¯¯â€çš„å›°å¢ƒï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0a493b72d1341dfbe79666fbb052bfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=kzhQErMwhxatU%2BPqTgpX9HycdUQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">ä¸‰ã€é‡‘ä»“æ•°æ®åº“çš„ â€œç ´å±€ä¹‹é“â€ï¼šä»å…¼å®¹åˆ°å·¥å…·ï¼Œå…¨æ–¹ä½åŒ–è§£è¿ç§»ç—›ç‚¹</h2>
<p>é’ˆå¯¹ Oracle è¿ç§»çš„è¿™äº›æ ¸å¿ƒç—›ç‚¹ï¼ŒKingbaseES ä»â€œå…¼å®¹æ€§å¢å¼ºã€è¿ç§»å·¥å…·é“¾ä¼˜åŒ–ã€å…¨æµç¨‹æ”¯æŒâ€è¿™ä¸‰ä¸ªç»´åº¦æ‰“é€ äº†ä¸€å¥—è§£å†³æ–¹æ¡ˆï¼Œç›®çš„å¾ˆç®€å•ï¼šè®©è¿ç§»è¿‡ç¨‹â€œé™éš¾åº¦ã€ææ•ˆç‡ã€æ§æˆæœ¬â€ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74c2802df4d4459b978470fd45b9f6cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=j8%2FJJZ6RoxBXrYAISOosmDSpIjw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">ï¼ˆä¸€ï¼‰æè‡´å…¼å®¹ï¼šæŠ¹å¹³å·®å¼‚ï¼Œå‡å°‘ä»£ç æ”¹å†™</h3>
<p>KingbaseES åœ¨æ·±åº¦ä¼˜åŒ– Oracle å…¼å®¹ç‰¹æ€§ä¸Šä¸‹äº†ç‹ åŠŸå¤«ï¼Œä»æ•°æ®ç±»å‹ã€SQL è¯­æ³•ã€PL/SQL åˆ°åº”ç”¨æ¥å£ï¼ŒåŠ›æ±‚å®ç°â€œæœ€å°æ”¹åŠ¨â€è¿ç§»ï¼š</p>
<ul>
<li><strong>å…¨é‡æ•°æ®ç±»å‹å…¼å®¹</strong>ï¼šæ”¯æŒ Oracle æ‰€æœ‰æ ¸å¿ƒæ•°æ®ç±»å‹ï¼Œç”šè‡³åŒ…æ‹¬ RECORDã€% TYPEã€å…³è”æ•°ç»„è¿™äº›å¤æ‚ç±»å‹ã€‚é€šè¿‡ <code>ora_date_style</code> å‚æ•°å°±èƒ½å…¼å®¹éæ ‡å‡†æ—¥æœŸæ ¼å¼ï¼Œè®¾ç½® <code>nls_length_semantics</code> ä¸æºåº“ä¿æŒä¸€è‡´ï¼Œå°±èƒ½é¿å… CHAR ç±»å‹å­˜å‚¨å·®å¼‚çš„é—®é¢˜ï¼›è‡³äº NUMBER ç±»å‹ï¼Œæä¾›äº†çµæ´»çš„ç±»å‹æ˜ å°„è§„åˆ™ï¼Œé€šè¿‡ KDTS å·¥å…·å°±èƒ½è‡ªåŠ¨è½¬æ¢ä¸º KingbaseES çš„ intã€numeric ç­‰ç±»å‹ã€‚</li>
<li><strong>PL/SQL è¯­æ³•å…¨è¦†ç›–</strong>ï¼šOracle PL/SQL çš„æ‰€æœ‰å¸¸ç”¨è¯­æ³•ï¼ˆåƒå¾ªç¯ã€æ¸¸æ ‡ã€å¼‚å¸¸å¤„ç†ç­‰ï¼‰åŠå¯¹è±¡ï¼ˆå­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°ã€åŒ…ã€è§¦å‘å™¨ç­‰ï¼‰éƒ½æ”¯æŒï¼Œè¿˜å†…ç½®äº† DBMS_SQLã€DBMS_LOB ç­‰å¸¸ç”¨åŒ…ã€‚å¯¹äºâ€œåŒååŒå‚æ•°â€å­˜å‚¨è¿‡ç¨‹ã€æ–¹æ³•è¿ç»­è°ƒç”¨è¿™ç±»ä¸å…¼å®¹çš„æ£˜æ‰‹åœºæ™¯ï¼Œä¹Ÿæä¾›äº†æ˜ç¡®çš„æ”¹å†™æŒ‡å¼•å’Œè‡ªåŠ¨åŒ–è½¬æ¢å·¥å…·ï¼ˆKDMSï¼‰ï¼Œå¤§å¤§å‡å°‘äº†æ‰‹åŠ¨ä¿®æ”¹çš„å·¥ä½œé‡ã€‚</li>
<li><strong>åº”ç”¨æ¥å£æ— ç¼é€‚é…</strong>ï¼šODBCã€JDBCã€OCI ç­‰ä¸»æµæ¥å£å…¨æ”¯æŒï¼Œè¿˜æä¾›äº†å…¼å®¹ Oracle SQL*PLUS çš„ KSQL å·¥å…·ï¼Œä»¥åŠå…¼å®¹ SQL Developer çš„ KStudio å›¾å½¢åŒ–å·¥å…·ã€‚åº”ç”¨ç¨‹åºè¿™è¾¹ï¼ŒåŸºæœ¬åªéœ€è¦ä¿®æ”¹è¿æ¥ä¸²ã€ç”¨æˆ·åå¯†ç ç­‰å°‘é‡é…ç½®ï¼Œå°±èƒ½å¿«é€Ÿé€‚é…ã€‚å¦‚æœæ˜¯ OCI åº”ç”¨ï¼ŒKingbaseES è¿˜æœ‰ä¸“é—¨çš„ DCI æ¥å£å…¼å®¹æ–¹æ¡ˆï¼Œæ ¹æœ¬ä¸éœ€è¦å¤§è§„æ¨¡æ”¹å†™ä»£ç ã€‚</li>
</ul>
<h3 data-id="heading-7">ï¼ˆäºŒï¼‰æ™ºèƒ½å·¥å…·é“¾ï¼šç®€åŒ–æµç¨‹ï¼Œæå‡è¿ç§»æ•ˆç‡</h3>
<p>KingbaseES æä¾›äº†ä¸€æ•´å¥—å·¥å…·é“¾ï¼ŒåŒ…æ‹¬ KDTSï¼ˆæ•°æ®è¿ç§»å·¥å…·ï¼‰ã€KFSï¼ˆæ•°æ®åŒæ­¥å·¥å…·ï¼‰ç­‰ï¼Œè¦†ç›–äº†ç¦»çº¿è¿ç§»ã€åœ¨çº¿è¿ç§»ã€å¤šæ¬¡è¿ç§»ç­‰å…¨åœºæ™¯ï¼Œè®©è¿ç§»è¿‡ç¨‹å˜å¾—â€œè‡ªåŠ¨åŒ–ã€å¯è§†åŒ–ã€å¯è¿½æº¯â€ï¼š</p>
<ul>
<li>
<p><strong>KDTSï¼šä¸€ç«™å¼è¿ç§»å·¥å…·</strong>ï¼šä» Oracle 9i åˆ° 19c éƒ½èƒ½è¿åˆ° KingbaseESã€‚å®ƒæä¾› WEB å’Œ SHELL ä¸¤ç§å½¢æ€ï¼Œæƒ³æ€ä¹ˆç”¨éƒ½è¡Œã€‚é€šè¿‡å‘å¯¼å¼é…ç½®ï¼Œç‚¹å‡ ä¸‹å°±èƒ½å®Œæˆæ•°æ®æºè¿æ¥ã€è¿ç§»å¯¹è±¡é€‰æ‹©ã€å‚æ•°é…ç½®ç­‰æ“ä½œï¼›æ”¯æŒå¤§è¡¨æ‹†åˆ†ã€å¢é‡æ•°æ®è¿ç§»ã€æ•°æ®ç±»å‹è‡ªåŠ¨æ˜ å°„ã€‚é’ˆå¯¹ LOB è¿™ç§å¤§å­—æ®µï¼Œè¿˜ä¸“é—¨ä¼˜åŒ–äº†æ¸¸æ ‡æå–å‚æ•°ï¼Œé™ä½äº†è¿ç§»ä¸­æ–­çš„é£é™©ã€‚è¿å®Œä¹‹åä¼šè‡ªåŠ¨ç”ŸæˆæŠ¥å‘Šï¼ŒæˆåŠŸå¤šå°‘ã€å¤±è´¥å¤šå°‘ä¸€ç›®äº†ç„¶ï¼Œå¤±è´¥çš„è„šæœ¬è¿˜èƒ½ç›´æ¥ä¸‹è½½ä¸‹æ¥ï¼Œæ”¹å¥½åé‡æ–°æ‰§è¡Œã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a6381096866432fb55bf365480f5958~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=wP5RpqsQ3EeGAG6OXcFIHf%2F0ow8%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p><strong>KFSï¼šåœ¨çº¿åŒæ­¥å·¥å…·</strong>ï¼šå¦‚æœä¸šåŠ¡ä¸èƒ½åœï¼Œé‚£å°±ç”¨ KFSã€‚å®ƒå¯ä»¥å®ç° Oracle å­˜é‡æ•°æ®è¿ç§»å’Œå¢é‡æ•°æ®è¿½å¹³ã€‚é€šè¿‡ SCN å·å®šä½åŒæ­¥èµ·ç‚¹ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œè·¨ç½‘ç»œã€å¤§è§„æ¨¡æ•°æ®åŒæ­¥ä¹Ÿæ²¡é—®é¢˜ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œè¿ç§»è¿‡ç¨‹ä¸­ä¸šåŠ¡å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¤§å¹…é™ä½äº†åœæœºæˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>é…ç½®è‡ªåŠ¨åŒ–ï¼šå‡å°‘äººå·¥å¤±è¯¯</strong>ï¼šæä¾›æ ‡å‡†åŒ–çš„è¿ç§»é…ç½®æ¨¡æ¿ï¼Œèƒ½è‡ªåŠ¨è¯»å– Oracle æ•°æ®åº“ç¼–ç ã€æ—¥æœŸæ ¼å¼ç­‰å…³é”®ä¿¡æ¯ï¼Œæ™ºèƒ½æ¨è KingbaseES çš„å…¼å®¹å‚æ•°ï¼ˆæ¯”å¦‚ <code>search_path</code> æ¨¡å¼æœç´¢è·¯å¾„ã€ç”¨ <code>default_with_oids</code> æ›¿ä»£ ROWIDï¼‰ï¼Œé¿å…å› ä¸ºé…ç½®ä¸å½“å¯¼è‡´è¿ç§»å¤±è´¥ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">ï¼ˆä¸‰ï¼‰å…¨æµç¨‹æ”¯æŒï¼šé™ä½é—¨æ§›ï¼Œæ§åˆ¶è¿ç§»æˆæœ¬</h3>
<p>KingbaseES ä¸å…‰æä¾›å·¥å…·å’ŒæŠ€æœ¯ï¼Œè¿˜é€šè¿‡æ ‡å‡†åŒ–æµç¨‹å’Œä¸“ä¸šæœåŠ¡ï¼Œå¸®ä¼ä¸šæŠŠæ§ä»è¯„ä¼°åˆ°ä¸Šçº¿å…¨æµç¨‹çš„æˆæœ¬ï¼š</p>
<ul>
<li><strong>æ ‡å‡†åŒ–è¯„ä¼°æ¨¡æ¿</strong>ï¼šåœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œæä¾›æ•°æ®åº“æ¦‚å†µã€å¯¹è±¡ç»Ÿè®¡ã€çº¦æŸç»Ÿè®¡ç­‰å…¨å¥—è¯„ä¼°æ¨¡æ¿ï¼Œå¸®ä¼ä¸šå¿«é€Ÿæ¢³ç†è¿ç§»èŒƒå›´ã€éš¾åº¦å’Œå·¥ä½œé‡ï¼Œé¿å…ç›²ç›®æŠ•å…¥ã€‚æ¯”å¦‚ï¼Œé€šè¿‡æ¨¡æ¿èƒ½ç»Ÿè®¡è¡¨ã€å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ç­‰å¯¹è±¡çš„æ•°é‡ï¼Œè¯†åˆ«å‡ºå¤§è¡¨ã€LOB å­—æ®µè¿™äº›è¿ç§»éš¾ç‚¹ï¼Œæå‰åˆ¶å®šåº”å¯¹æ–¹æ¡ˆã€‚</li>
<li><strong>åˆ†é˜¶æ®µè¿ç§»ç­–ç•¥</strong>ï¼šæ”¯æŒæŒ‰â€œæ•°æ®åº“â†’ç”¨æˆ·â†’æ•°æ®â†’åº”ç”¨â€çš„é¡ºåºæœ‰åºè¿ç§»ã€‚é’ˆå¯¹å¤šæ¬¡è¿ç§»çš„åœºæ™¯ï¼Œå¯ä»¥çµæ´»é€‰æ‹©â€œåªè¿ç§»æ•°æ®â€æˆ–è€…â€œè¿ç§»ç»“æ„ + æ•°æ®â€ï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚ä¾‹å¦‚ï¼Œé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦å®šæœŸè¿ç§»ï¼Œå°±å¯ä»¥ç”¨ KDTS çš„â€œæŒ‰æ¡ä»¶è¿ç§»â€åŠŸèƒ½ï¼ŒåªåŒæ­¥æ–°å¢æ•°æ®ï¼Œæ•ˆç‡æå‡æ æ çš„ã€‚</li>
<li><strong>æµ‹è¯•ä¸è°ƒä¼˜æ”¯æŒ</strong>ï¼šæä¾› TPCCã€LoadRunner ç­‰æ€§èƒ½æµ‹è¯•å·¥å…·çš„é€‚é…æ–¹æ¡ˆï¼Œè¿å®Œåèƒ½å¿«é€Ÿå¼€å±•åŠŸèƒ½å›å½’æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ï¼›é’ˆå¯¹æ€§èƒ½ç“¶é¢ˆï¼Œè¿˜ä¼šæä¾› SQL ä¼˜åŒ–ã€ç´¢å¼•è°ƒæ•´ã€å‚æ•°é…ç½®ç­‰ä¸“ä¸šå»ºè®®ï¼Œä¿éšœè¿è¿‡å»åçš„ç³»ç»Ÿæ€§èƒ½ä¸æ¯”åŸ Oracle ç¯å¢ƒå·®ã€‚</li>
</ul>
<h3 data-id="heading-9">ï¼ˆå››ï¼‰GIS ç­‰ç‰¹æ®Šåœºæ™¯è§£å†³æ–¹æ¡ˆ</h3>
<p>é’ˆå¯¹åŒ…å« GIS æ•°æ®çš„ Oracle è¿ç§»åœºæ™¯ï¼ŒKingbaseES å·²ç»é€‚é…äº† ArcGIS/GeoScene å¹³å°ï¼Œæä¾›äº†ä¸€å¥—ä¸“ç”¨çš„è¿ç§»æ–¹æ¡ˆï¼šé€šè¿‡ PostGIS æ’ä»¶æ‰©å±• GIS åŠŸèƒ½ï¼Œå…ˆè¿ç§»é GIS æ•°æ®ï¼Œå†é€šè¿‡ ArcMap å·¥å…·è¿ç§» GIS æ•°æ®å¹¶æ³¨å†Œåœ°ç†ä¿¡æ¯æ•°æ®åº“ï¼Œè§£å†³äº† SDE ç±»å‹æ•°æ®è¿ç§»ã€ç©ºé—´ç´¢å¼•å…¼å®¹ç­‰ç‰¹æ®Šéš¾é¢˜ï¼Œä¿éšœ GIS åº”ç”¨æ— ç¼è¿ç§»ã€‚</p>
<p>æºæ•°æ®åº“çš„é GIS æ•°æ®è¿è‡³ç›®æ ‡æ•°æ®åº“åï¼Œå¯ä»¥åœ¨ ArcGIS / GeoScene å¹³å°ä¸Šè¿›è¡Œ GIS æ•°æ®è¿ç§»ã€‚è¿™æ­¥åšå®Œï¼Œåç»­åº”ç”¨æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚GIS æ•°æ®è¿ç§»çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>è¿ç§»åï¼Œå»é‚£ä¸ªç±»ä¼¼ <code>result/2021-12-02_15_15_15/SDE/AcrpyRegisterScript/</code> çš„ç›®å½•ä¸‹ï¼ŒæŠŠ <code>acrpyRegisterWithGeodatabase.py</code> æ–‡ä»¶æ‹·è´åˆ° ArcGIS æ‰€åœ¨çš„æœºå™¨ä¸Šï¼Œæ”¾åˆ°å½¢å¦‚ <code>c:/python27/ArcGIS10.0</code> çš„ç›®å½•ä¸‹ï¼š</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13462f6426874c6c9c9160f1d5874636~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=wKG9p%2FtwJiAYZq7rBDApcXjxC3Q%3D" alt="" loading="lazy"/></p>
<ul>
<li>æŸ¥çœ‹ ArcMap çš„ kingbase æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå¹¶å¤åˆ¶ä¸‹æ¥ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41a40368043a4fa881bdf7d573d6d2fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=AHBtBDsqH5x9M1RYRoIGr4hlBv4%3D" alt="" loading="lazy"/></p>
<ul>
<li>ç¼–è¾‘ <code>acrpyRegisterWithGeodatabase.py</code> æ–‡ä»¶ï¼Œå°†ä¸Šä¸€æ­¥å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°ä»¥ä¸‹ä½ç½®ï¼Œä¿å­˜æ–‡ä»¶ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44ade7d31580461d9eba2037abe1356b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=HyymQKswBbhWHo8Q5u6Y4A92HqA%3D" alt="" loading="lazy"/></p>
<ul>
<li>æ‰§è¡Œ <code>acrpyRegisterWithGeodatabase.py</code> è„šæœ¬ï¼Œå°†æºæ•°æ®åº“çš„åœ°ç†ä¿¡æ¯åº“ä¸­çš„æ•°æ®è¿ç§»åˆ°ç›®æ ‡æ•°æ®åº“çš„ ArcGIS åœ°ç†ä¿¡æ¯åº“ä¸­ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21e0fd3f0b1748d68ceca2bf8580edbf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=cBQ2T6rBy7SVJRzXd4zwz0BHaO4%3D" alt="" loading="lazy"/></p>
<ul>
<li>æ‰§è¡Œå®Œæˆåï¼Œä½¿ç”¨ ArcMap è½¯ä»¶éªŒè¯ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºå›¾å±‚ä¿¡æ¯ã€‚å¦‚æœèƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œè¯´æ˜ GIS æ•°æ®å·²ç»è¿ç§»æˆåŠŸäº†ï¼ˆæˆ–è€…å¯¹æ¯”ä¸€ä¸‹ GIS å¹³å°ä¸‹ï¼Œè¿ç§»çš„æ•°æ®è¦ç´ é›†åœ¨ä¸¤ä¸ªæ•°æ®åº“ä¸‹æ˜¯å¦ä¸€è‡´ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-10">å››ã€å®æˆ˜éªŒè¯ï¼šè¿ç§»ä»·å€¼è½åœ°ï¼Œä¼ä¸šå—ç›Šæ˜¾è‘—</h2>
<p>æŸå¤§å‹åˆ¶é€ ä¼ä¸šçš„ Oracle 11g æ•°æ®åº“è¿ç§»é¡¹ç›®ä¸­ï¼Œé¢ä¸´ç€ 1660 å¼ è¡¨ã€25 ä¸ªå­˜å‚¨è¿‡ç¨‹ã€300 å¤šä¸ªåŒä¹‰è¯çš„è¿ç§»å‹åŠ›ï¼Œè€Œä¸”è¿˜åŒ…å«å¤§é‡ LOB å­—æ®µï¼ˆç…§ç‰‡ã€æ–‡æ¡£ï¼‰ï¼Œä¸šåŠ¡è¦æ±‚ 7Ã—24 å°æ—¶è¿è¡Œã€‚é€šè¿‡ KingbaseES çš„è¿ç§»æ–¹æ¡ˆï¼š</p>
<ul>
<li>åˆ©ç”¨ KDTS å·¥å…·å®Œæˆç¦»çº¿è¿ç§»ï¼Œå¤§è¡¨æ‹†åˆ†åŠŸèƒ½å°† 16GB çš„ XFJXX è¡¨æ‹†åˆ†ä¸º 24 å—å¹¶è¡Œè¿ç§»ï¼Œè¿ç§»æ•ˆç‡ç›´æ¥æå‡äº† 3 å€ï¼Œå…¨ç¨‹æ— æ•°æ®ä¸¢å¤±ï¼›</li>
<li>é€šè¿‡ PL/SQL è‡ªåŠ¨åŒ–è½¬æ¢å·¥å…·ï¼Œ25 ä¸ªå­˜å‚¨è¿‡ç¨‹ä»…éœ€ä¿®æ”¹ 3 ä¸ªâ€œåŒååŒå‚æ•°â€å‡½æ•°ï¼Œæ”¹å†™å·¥ä½œé‡å‡å°‘äº† 80%ï¼›</li>
<li>é‡‡ç”¨ KFS å·¥å…·å®ç°å¢é‡æ•°æ®è¿½å¹³ï¼Œè¿ç§»è¿‡ç¨‹ä¸­ä¸šåŠ¡æ— ä¸­æ–­ï¼Œåœæœºæ—¶é—´æ§åˆ¶åœ¨ 1 å°æ—¶å†…ï¼›</li>
<li>è¿å®Œåç³»ç»Ÿè¿ç»´æˆæœ¬é™ä½äº† 60%ï¼Œæ€§èƒ½è¾ƒåŸ Oracle ç¯å¢ƒæå‡äº† 15%ï¼Œå®Œå…¨æ»¡è¶³ä¿¡åˆ›åˆè§„è¦æ±‚ã€‚</li>
</ul>
<h2 data-id="heading-11">äº”ã€ç»“è¯­ï¼šè¿ç§»ä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯å›½äº§æ•°æ®åº“èµ‹èƒ½ä¸šåŠ¡çš„èµ·ç‚¹</h2>
<p>Oracle åˆ° KingbaseES çš„è¿ç§»ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¼ä¸šæ•°å­—åŒ–è½¬å‹è¿‡ç¨‹ä¸­ä¸€æ¬¡â€œæ¢é“å‡çº§â€çš„é€‰æ‹©ã€‚è¿ç§»è·¯ä¸Šçš„ç—›ç‚¹å¹¶éä¸å¯é€¾è¶Šï¼Œé‡‘ä»“æ•°æ®åº“é€šè¿‡æè‡´çš„å…¼å®¹æ€§ã€æ™ºèƒ½çš„å·¥å…·é“¾ã€å…¨æµç¨‹çš„æ”¯æŒï¼Œå·²å¸®åŠ©æ•°åƒå®¶ä¼ä¸šé¡ºåˆ©å®Œæˆè¿ç§»ï¼Œå®ç°äº†â€œé™æœ¬å¢æ•ˆã€è‡ªä¸»å¯æ§â€çš„æ ¸å¿ƒç›®æ ‡ã€‚</p>
<p>åœ¨ä¿¡åˆ›æ—¶ä»£ï¼Œå›½äº§æ•°æ®åº“ä¸å†æ˜¯â€œæ›¿ä»£é€‰æ‹©â€ï¼Œè€Œæ˜¯â€œä¼˜é€‰æ–¹æ¡ˆâ€ã€‚KingbaseES ä¸ä»…è§£å†³äº† Oracle è¿ç§»çš„ç—›ç‚¹ï¼Œæ›´å‡­å€Ÿé«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€é«˜å®‰å…¨çš„ç‰¹æ€§ï¼Œä¸ºä¼ä¸šä¸šåŠ¡åˆ›æ–°æä¾›å¼ºå¤§æ”¯æ’‘ã€‚æœªæ¥ï¼Œé‡‘ä»“æ•°æ®åº“å°†æŒç»­æ·±è€•å…¼å®¹æ€§ä¸è¿ç§»å·¥å…·ä¼˜åŒ–ï¼Œè®©æ›´å¤šä¼ä¸šè½»æ¾æ‹¥æŠ±å›½äº§æ•°æ®åº“ï¼Œè§£é”æ•°å­—åŒ–è½¬å‹çš„æ–°å¯èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOSå†…å­˜æ˜ å°„æŠ€æœ¯ï¼šmmapå¦‚ä½•ç”¨æœ‰é™å†…å­˜æ“æ§æ— é™æ•°æ®]]></title>    <link>https://juejin.cn/post/7580203347702317071</link>    <guid>https://juejin.cn/post/7580203347702317071</guid>    <pubDate>2025-12-05T15:26:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580203347702317071" data-draft-id="7580202945146667023" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOSå†…å­˜æ˜ å°„æŠ€æœ¯ï¼šmmapå¦‚ä½•ç”¨æœ‰é™å†…å­˜æ“æ§æ— é™æ•°æ®"/> <meta itemprop="keywords" content="iOS,APP,æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-12-05T15:26:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOSå†…å­˜æ˜ å°„æŠ€æœ¯ï¼šmmapå¦‚ä½•ç”¨æœ‰é™å†…å­˜æ“æ§æ— é™æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:26:14.000Z" title="Fri Dec 05 2025 15:26:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“ä¸€ä¸ªiOSåº”ç”¨éœ€è¦å¤„ç†æ¯”ç‰©ç†å†…å­˜å¤§10å€çš„æ–‡ä»¶æ—¶ï¼Œä¼ ç»Ÿæ–¹æ³•æŸæ‰‹æ— ç­–ï¼Œè€Œmmapå´èƒ½è®©å®ƒæµç•…è¿è¡Œã€‚è¿™ç§ç¥å¥‡èƒ½åŠ›èƒŒåï¼Œæ˜¯è™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜çš„ç²¾å¯†èˆè¹ˆã€‚</p>
</blockquote>
<h2 data-id="heading-0">01 å†…å­˜ç®¡ç†çš„åŒé‡ä¸–ç•Œï¼šè™šæ‹Ÿä¸ç‰©ç†çš„åˆ†ç¦»</h2>
<p>æ¯ä¸ªiOSåº”ç”¨éƒ½ç”Ÿæ´»åœ¨åŒé‡å†…å­˜ç°å®ä¸­ã€‚å½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡æˆ–è¯»å–æ–‡ä»¶æ—¶ï¼Œä½ æ“ä½œçš„æ˜¯<strong>è™šæ‹Ÿå†…å­˜åœ°å€</strong>ï¼Œè¿™æ˜¯iOSä¸ºæ¯ä¸ªåº”ç”¨ç²¾å¿ƒç¼–ç»‡çš„â€œå¹³è¡Œå®‡å®™â€ã€‚</p>
<p>è¿™ä¸ªå®‡å®™å¤§å°å›ºå®šâ€”â€”åœ¨64ä½iOSè®¾å¤‡ä¸Šé«˜è¾¾<strong>128TB</strong>çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œè¿œè¶…ä»»ä½•ç‰©ç†å†…å­˜å®¹é‡ã€‚</p>
<p><strong>è™šæ‹Ÿå†…å­˜çš„ç²¾å¦™ä¹‹å¤„</strong>åœ¨äºï¼šå®ƒåªæ˜¯ä¸€ä¸ªå·¨å¤§çš„ã€è¿ç»­çš„åœ°å€èŒƒå›´æ¸…å•ï¼Œ<strong>ä¸ç›´æ¥å¯¹åº”ç‰©ç†å†…å­˜èŠ¯ç‰‡</strong>ã€‚æ“ä½œç³»ç»Ÿé€šè¿‡å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ç»´æŠ¤ç€ä¸€å¼ â€œç¿»è¯‘è¡¨â€ï¼ˆé¡µè¡¨ï¼‰ï¼Œå°†è™šæ‹Ÿé¡µæ˜ å°„åˆ°ç‰©ç†é¡µæ¡†ã€‚è¿™ç§è®¾è®¡ä½¿å¾—åº”ç”¨å¯ä»¥å‡è®¾è‡ªå·±æ‹¥æœ‰å‡ ä¹æ— é™çš„å†…å­˜ï¼Œè€Œå®é™…ç‰©ç†ä½¿ç”¨åˆ™ç”±iOSåŠ¨æ€ç®¡ç†ã€‚</p>
<p>è¿™ç§åˆ†å±‚æ¶æ„æ˜¯mmapå¤„ç†è¶…å¤§æ–‡ä»¶çš„åŸºç¡€ï¼š<strong>åº”ç”¨ç¨‹åºå¯ä»¥åœ¨è™šæ‹Ÿå±‚é¢â€œæ‹¥æœ‰â€æ•´ä¸ªæ–‡ä»¶ï¼Œè€Œåªåœ¨ç‰©ç†å±‚é¢åŠ è½½éœ€è¦éƒ¨åˆ†</strong>ã€‚</p>
<h2 data-id="heading-1">02 ä¼ ç»Ÿæ–‡ä»¶æ“ä½œçš„äºŒé‡æ‹·è´å›°å¢ƒ</h2>
<p>è¦ç†è§£mmapçš„é©å‘½æ€§ï¼Œå…ˆçœ‹çœ‹ä¼ ç»Ÿæ–‡ä»¶I/Oçš„â€œåŒé‡å¤åˆ¶â€é—®é¢˜ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼šåŒé‡æ‹·è´çš„å…¸å‹ä»£ç </span>
NSData *fileData = [NSData dataWithContentsOfFile:largeFile];
</code></pre>
<p>è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æ“ä½œèƒŒåï¼Œæ•°æ®ç»å†äº†æ¼«é•¿æ—…ç¨‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç£ç›˜æ–‡ä»¶æ•°æ®
    â†“ (DMAæ‹·è´ï¼Œä¸ç»è¿‡CPU)
å†…æ ¸é¡µç¼“å­˜(Page Cache)
    â†“ (CPUå‚ä¸æ‹·è´ï¼Œæ¶ˆè€—èµ„æº)
ç”¨æˆ·ç©ºé—´ç¼“å†²åŒº(NSDataå†…éƒ¨å­˜å‚¨)
</code></pre>
<p><strong>åŒé‡æ‹·è´çš„ä»£ä»·</strong>ï¼š</p>
<ul>
<li><strong>æ—¶é—´å¼€é”€</strong>ï¼šä¸¤æ¬¡å®Œæ•´æ•°æ®ç§»åŠ¨</li>
<li><strong>CPUæ¶ˆè€—</strong>ï¼šæ‹·è´æ“ä½œå ç”¨å®è´µè®¡ç®—èµ„æº</li>
<li><strong>å†…å­˜å³°å€¼</strong>ï¼šæ–‡ä»¶åœ¨å†…å­˜ä¸­åŒæ—¶å­˜åœ¨ä¸¤ä»½å‰¯æœ¬ï¼ˆå†…æ ¸ç¼“å­˜+ç”¨æˆ·ç¼“å†²åŒºï¼‰</li>
<li><strong>å¤§æ–‡ä»¶é™åˆ¶</strong>ï¼šæ–‡ä»¶å¿…é¡»å°äºå¯ç”¨ç‰©ç†å†…å­˜</li>
</ul>
<p>å¯¹äº100MBçš„æ–‡ä»¶ï¼Œè¿™è¿˜èƒ½æ¥å—ã€‚ä½†å¯¹äº2GBçš„è§†é¢‘æ–‡ä»¶ï¼Œè¿™ç§æ–¹æ³•åœ¨1GB RAMçš„è®¾å¤‡ä¸Šç›´æ¥å´©æºƒã€‚</p>
<h2 data-id="heading-2">03 mmapçš„é­”æ³•ï¼šä¸€æ¬¡æ˜ å°„ï¼Œé›¶æ¬¡æ‹·è´</h2>
<p>mmapé‡‡ç”¨å®Œå…¨ä¸åŒçš„å“²å­¦â€”â€”<strong>å¦‚æœæ•°æ®å¿…é¡»åœ¨å†…å­˜ä¸­ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨é‚£é‡Œè®¿é—®å®ƒï¼Ÿ</strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// mmapæ–¹å¼ï¼šå»ºç«‹ç›´æ¥é€šé“</span>
<span class="hljs-type">int</span> fd = open(largeFile, O_RDONLY);
<span class="hljs-type">void</span> *mapped = mmap(<span class="hljs-literal">NULL</span>, fileSize, PROT_READ, MAP_PRIVATE, fd, <span class="hljs-number">0</span>);
<span class="hljs-comment">// ç°åœ¨å¯ä»¥ç›´æ¥é€šè¿‡mappedæŒ‡é’ˆè®¿é—®æ–‡ä»¶å†…å®¹</span>
</code></pre>
<p>mmapå»ºç«‹çš„æ˜¯<strong>ç›´æ¥é€šé“</strong>è€Œé<strong>æ•°æ®å‰¯æœ¬</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç£ç›˜æ–‡ä»¶æ•°æ®
    â†“ (DMAç›´æ¥æ‹·è´)
ç‰©ç†å†…å­˜é¡µæ¡†
    â†–(ç›´æ¥æ˜ å°„)
è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´
</code></pre>
<p><strong>å…³é”®çªç ´</strong>ï¼š</p>
<ol>
<li><strong>å•æ¬¡æ‹·è´</strong>ï¼šæ•°æ®ä»ç£ç›˜åˆ°å†…å­˜ä»…é€šè¿‡DMAä¼ è¾“ä¸€æ¬¡</li>
<li><strong>é›¶CPUæ‹·è´</strong>ï¼šæ²¡æœ‰å†…æ ¸åˆ°ç”¨æˆ·ç©ºé—´çš„é¢å¤–å¤åˆ¶</li>
<li><strong>å†…å­˜æ•ˆç‡</strong>ï¼šç‰©ç†å†…å­˜ä¸­åªæœ‰ä¸€ä»½æ•°æ®å‰¯æœ¬</li>
<li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šä»…åœ¨å®é™…è®¿é—®æ—¶åŠ è½½å¯¹åº”é¡µé¢</li>
</ol>
<h2 data-id="heading-3">04 è™šæ‹Ÿæ‰©å®¹æœ¯ï¼šå¦‚ä½•ç”¨æœ‰é™ç‰©ç†å†…å­˜å¤„ç†æ— é™æ–‡ä»¶</h2>
<p>è¿™æ˜¯mmapæœ€åç›´è§‰çš„éƒ¨åˆ†ï¼š<strong>è™šæ‹Ÿåœ°å€ç©ºé—´å…è®¸â€œæ‰¿è¯ºâ€è¿œå¤šäºç‰©ç†å†…å­˜çš„èµ„æº</strong>ã€‚</p>
<p>å½“æ˜ å°„ä¸€ä¸ª5GBæ–‡ä»¶åˆ°2GBç‰©ç†å†…å­˜çš„è®¾å¤‡æ—¶ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// è¿™åœ¨2GB RAMè®¾å¤‡ä¸Šå®Œå…¨å¯è¡Œ</span>
<span class="hljs-type">void</span> *mapped = mmap(<span class="hljs-literal">NULL</span>, <span class="hljs-number">5</span>*<span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>*<span class="hljs-number">1024ULL</span>, 
                    PROT_READ, MAP_PRIVATE, fd, <span class="hljs-number">0</span>);
</code></pre>
<p><strong>æŒ‰éœ€åŠ è½½æœºåˆ¶</strong>ç¡®ä¿åªæœ‰å®é™…è®¿é—®çš„éƒ¨åˆ†å ç”¨ç‰©ç†å†…å­˜ï¼š</p>
<ol>
<li><strong>å»ºç«‹æ˜ å°„</strong>ï¼ˆç¬é—´å®Œæˆï¼‰ï¼šä»…åœ¨è¿›ç¨‹é¡µè¡¨ä¸­æ ‡è®°â€œæ­¤è™šæ‹ŸèŒƒå›´æ˜ å°„åˆ°æŸæ–‡ä»¶â€</li>
<li><strong>é¦–æ¬¡è®¿é—®</strong>ï¼ˆè§¦å‘åŠ è½½ï¼‰ï¼šè®¿é—®<code>mapped[offset]</code>æ—¶è§¦å‘ç¼ºé¡µä¸­æ–­</li>
<li><strong>æŒ‰é¡µåŠ è½½</strong>ï¼ˆæœ€å°å•ä½ï¼‰ï¼šå†…æ ¸åŠ è½½åŒ…å«ç›®æ ‡æ•°æ®çš„<strong>å•ä¸ªå†…å­˜é¡µ</strong>ï¼ˆiOSé€šå¸¸16KBï¼‰</li>
<li><strong>åŠ¨æ€æ¢é¡µ</strong>ï¼ˆé€æ˜ç®¡ç†ï¼‰ï¼šç‰©ç†å†…å­˜ç´§å¼ æ—¶ï¼ŒiOSè‡ªåŠ¨å°†ä¸å¸¸ç”¨é¡µé¢æ¢å‡ºï¼Œéœ€è¦æ—¶å†æ¢å…¥</li>
</ol>
<p><strong>å†…å­˜ä½¿ç”¨éšæ—¶é—´å˜åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ—¶é—´è½´: |---å¯åŠ¨---|---æµè§ˆå¼€å§‹---|---è·³è½¬ç« èŠ‚---|</span>
<span class="hljs-section">ç‰©ç†å†…å­˜: | 16KB    | 48KB         | 32KB         |</span>
<span class="hljs-section">è™šæ‹Ÿå ç”¨: | 5GB     | 5GB          | 5GB          |</span>
</code></pre>
<p>åº”ç”¨â€œçœ‹åˆ°â€çš„æ˜¯å®Œæ•´çš„5GBæ–‡ä»¶ç©ºé—´ï¼Œä½†<strong>ç‰©ç†å†…å­˜ä¸­åªä¿ç•™æœ€è¿‘è®¿é—®çš„å°‘é‡é¡µé¢</strong>ã€‚</p>
<h2 data-id="heading-4">05 æ€§èƒ½å¯¹æ¯”ï¼šæ•°å­—è¯´æ˜ä¸€åˆ‡</h2>
<p>é€šè¿‡å®é™…æµ‹è¯•æ•°æ®ï¼Œæ­ç¤ºä¸¤ç§æ–¹å¼çš„æ€§èƒ½å·®å¼‚ï¼š</p>









































<table><thead><tr><th>æ“ä½œåœºæ™¯</th><th>ä¼ ç»Ÿread()</th><th>mmapæ˜ å°„</th><th>ä¼˜åŠ¿æ¯”</th></tr></thead><tbody><tr><td>é¦–æ¬¡æ‰“å¼€500MBæ–‡ä»¶</td><td>1200ms</td><td>&lt;10ms</td><td>120å€</td></tr><tr><td>éšæœºè®¿é—®100å¤„æ•°æ®</td><td>850ms</td><td>220ms</td><td>3.9å€</td></tr><tr><td>å†…å­˜å³°å€¼å ç”¨</td><td>500MB</td><td>800KB</td><td>625å€æ›´ä¼˜</td></tr><tr><td>å¤„ç†2GBè§†é¢‘æ–‡ä»¶(1GB RAM)</td><td>å´©æºƒ</td><td>æ­£å¸¸æ’­æ”¾</td><td>æ— é™</td></tr><tr><td>å¤šè¿›ç¨‹å…±äº«è¯»å–</td><td>æ¯è¿›ç¨‹500MB</td><td>å…±äº«ç‰©ç†é¡µ</td><td>Nå€èŠ‚çœ</td></tr></tbody></table>
<p><strong>å®é™…æµ‹è¯•ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// æµ‹è¯•å¤§æ–‡ä»¶éšæœºè®¿é—®æ€§èƒ½
- (void)testRandomAccess {
    // ä¼ ç»Ÿæ–¹å¼
    NSData *allData = [NSData dataWithContentsOfFile:largeFile];
    start = clock();
    for (int i = 0; i &lt; 1000; i++) {
        NSUInteger randomOffset = arc4random_uniform(fileSize-100);
        [allData subdataWithRange:NSMakeRange(randomOffset, 100)];
    }
    traditionalTime = clock() - start;
    
    // mmapæ–¹å¼
    int fd = open([largeFile UTF8String], O_RDONLY);
    void *mapped = mmap(NULL, fileSize, PROT_READ, MAP_PRIVATE, fd, 0);
    start = clock();
    for (int i = 0; i &lt; 1000; i++) {
        NSUInteger randomOffset = arc4random_uniform(fileSize-100);
        memcpy(buffer, mapped + randomOffset, 100);
    }
    mmapTime = clock() - start;
}
</code></pre>
<h2 data-id="heading-5">06 iOSä¸­çš„å®è·µåº”ç”¨</h2>
<p>mmapåœ¨iOSç³»ç»Ÿä¸­æ— å¤„ä¸åœ¨ï¼š</p>
<p><strong>ç³»ç»Ÿçº§åº”ç”¨</strong>ï¼š</p>
<ol>
<li><strong>åº”ç”¨å¯åŠ¨ä¼˜åŒ–</strong>ï¼šiOSä½¿ç”¨mmapåŠ è½½å¯æ‰§è¡Œæ–‡ä»¶å’ŒåŠ¨æ€åº“ï¼Œå®ç°æ‡’åŠ è½½</li>
<li><strong>æ•°æ®åº“å¼•æ“</strong>ï¼šSQLiteçš„WALæ¨¡å¼ä¾èµ–mmapå®ç°åŸå­æäº¤</li>
<li><strong>å›¾åƒå¤„ç†</strong>ï¼šå¤§å›¾åƒä½¿ç”¨mmapé¿å…ä¸€æ¬¡æ€§è§£ç </li>
</ol>
<p><strong>å¼€å‘å®æˆ˜ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Swiftä¸­å®‰å…¨ä½¿ç”¨mmapå¤„ç†å¤§æ—¥å¿—æ–‡ä»¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MappedFileReader</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> fileHandle: <span class="hljs-type">FileHandle</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> mappedPointer: <span class="hljs-type">UnsafeMutableRawPointer</span>?
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> mappedSize: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">fileURL</span>: <span class="hljs-type">URL</span>) <span class="hljs-keyword">throws</span> {
        <span class="hljs-keyword">self</span>.fileHandle <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">FileHandle</span>(forReadingFrom: fileURL)
        <span class="hljs-keyword">let</span> fileSize <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> fileURL.resourceValues(forKeys:[.fileSizeKey]).fileSize<span class="hljs-operator">!</span>
        
        <span class="hljs-comment">// å»ºç«‹å†…å­˜æ˜ å°„</span>
        mappedPointer <span class="hljs-operator">=</span> mmap(<span class="hljs-literal">nil</span>, fileSize, <span class="hljs-type">PROT_READ</span>, <span class="hljs-type">MAP_PRIVATE</span>, 
                            fileHandle.fileDescriptor, <span class="hljs-number">0</span>)
        
        <span class="hljs-keyword">guard</span> mappedPointer <span class="hljs-operator">!=</span> <span class="hljs-type">MAP_FAILED</span> <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-type">POSIXError</span>(.<span class="hljs-type">EINVAL</span>)
        }
        
        mappedSize <span class="hljs-operator">=</span> fileSize
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">readData</span>(<span class="hljs-params">offset</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">length</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Data</span> {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> base <span class="hljs-operator">=</span> mappedPointer, offset <span class="hljs-operator">+</span> length <span class="hljs-operator">&lt;=</span> mappedSize <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-type">Data</span>()
        }
        <span class="hljs-keyword">return</span> <span class="hljs-type">Data</span>(bytes: base.advanced(by: offset), count: length)
    }
    
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> pointer <span class="hljs-operator">=</span> mappedPointer {
            munmap(pointer, mappedSize)
        }
    }
}
</code></pre>
<h2 data-id="heading-6">07 å±€é™ä¸æœ€ä½³å®è·µ</h2>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å¤§æ–‡ä»¶éšæœºè®¿é—®ï¼ˆè§†é¢‘ç¼–è¾‘ã€æ•°æ®åº“æ–‡ä»¶ï¼‰</li>
<li>åªè¯»æˆ–ä½é¢‘å†™å…¥çš„æ•°æ®</li>
<li>éœ€è¦è¿›ç¨‹é—´å…±äº«çš„åªè¯»èµ„æº</li>
<li>å†…å­˜æ•æ„Ÿçš„å¤§æ•°æ®åº”ç”¨</li>
</ul>
<p><strong>é¿å…åœºæ™¯</strong>ï¼š</p>
<ul>
<li>é¢‘ç¹å°å—éšæœºå†™å…¥ï¼ˆäº§ç”Ÿå¤§é‡è„é¡µï¼‰</li>
<li>ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿæˆ–å¯ç§»åŠ¨å­˜å‚¨</li>
<li>éœ€è¦é¢‘ç¹è°ƒæ•´å¤§å°çš„æ–‡ä»¶</li>
</ul>
<p><strong>iOSç‰¹åˆ«ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>å¯¹é½è®¿é—®</strong>ï¼šç¡®ä¿è®¿é—®æŒ‰16KBé¡µé¢è¾¹ç•Œå¯¹é½</li>
<li><strong>å±€éƒ¨æ€§åŸåˆ™</strong>ï¼šç»„ç»‡æ•°æ®ä½¿ç›¸å…³éƒ¨åˆ†åœ¨ç›¸è¿‘è™šæ‹Ÿåœ°å€</li>
<li><strong>é¢„å–æç¤º</strong>ï¼šå¯¹é¡ºåºè®¿é—®ä½¿ç”¨<code>madvise(..., MADV_SEQUENTIAL)</code></li>
<li><strong>åŠæ—¶æ¸…ç†</strong>ï¼šä¸å†éœ€è¦çš„åŒºåŸŸä½¿ç”¨<code>munmap</code>é‡Šæ”¾</li>
</ol>
<h2 data-id="heading-7">08 æœªæ¥å±•æœ›ï¼šç»Ÿä¸€å†…å­˜æ¶æ„ä¸‹çš„mmap</h2>
<p>éšç€Apple Siliconçš„æ¼”è¿›ï¼ŒiOSå†…å­˜æ¶æ„æ­£å‘æ›´æ·±åº¦ç»Ÿä¸€å‘å±•ï¼š</p>
<p><strong>è¶‹åŠ¿ä¸€ï¼šCPU/GPUç›´æ¥å…±äº«æ˜ å°„å†…å­˜</strong></p>
<ul>
<li>Metal APIå…è®¸GPUç›´æ¥è®¿é—®mmapåŒºåŸŸ</li>
<li>è§†é¢‘å¤„ç†æ— éœ€CPUä¸­ä»‹æ‹·è´</li>
</ul>
<p><strong>è¶‹åŠ¿äºŒï¼šSwapå‹ç¼©çš„æ™ºèƒ½åŒ–</strong></p>
<ul>
<li>iOS 15+çš„Memory Compressionæ›´é«˜æ•ˆ</li>
<li>ä¸æ´»è·ƒmmapé¡µé¢è¢«é«˜åº¦å‹ç¼©ï¼Œè€Œéå†™å›ç£ç›˜</li>
</ul>
<p><strong>è¶‹åŠ¿ä¸‰ï¼šæŒä¹…åŒ–å†…å­˜çš„å…´èµ·</strong></p>
<ul>
<li>æœªæ¥è®¾å¤‡å¯èƒ½é…å¤‡éæ˜“å¤±æ€§RAM</li>
<li>mmapå¯èƒ½å®ç°çœŸæ­£â€œå†…å­˜é€Ÿåº¦â€çš„æŒä¹…åŒ–å­˜å‚¨</li>
</ul>
<hr/>
<p><strong>æŠ€æœ¯è¿›åŒ–çš„æœ¬è´¨æ˜¯æŠ½è±¡å±‚æ¬¡çš„æå‡</strong>ã€‚mmapé€šè¿‡è™šæ‹Ÿå†…å­˜è¿™ä¸€ç²¾å¦™æŠ½è±¡ï¼Œå°†æœ‰é™çš„ç‰©ç†å†…å­˜è½¬åŒ–ä¸ºçœ‹ä¼¼æ— é™çš„èµ„æºæ± ã€‚åœ¨ç§»åŠ¨è®¾å¤‡å­˜å‚¨å¿«é€Ÿå¢é•¿è€Œå†…å­˜ç›¸å¯¹æœ‰é™çš„èƒŒæ™¯ä¸‹ï¼ŒæŒæ¡mmapä¸æ˜¯é«˜çº§ä¼˜åŒ–æŠ€å·§ï¼Œè€Œæ˜¯å¤„ç†ç°ä»£iOSåº”ç”¨ä¸­å¤§å‹æ•°æ®é›†çš„å¿…å¤‡æŠ€èƒ½ã€‚</p>
<p>å½“ä½ çš„åº”ç”¨ä¸‹ä¸€æ¬¡éœ€è¦å¤„ç†å¤§å‹è§†é¢‘ã€æ•°æ®åº“æˆ–æœºå™¨å­¦ä¹ æ¨¡å‹æ—¶ï¼Œè®°å¾—è¿™ä¸ªç®€å•çš„å‡†åˆ™ï¼š<strong>ä¸è¦æ¬è¿æ•°æ®ï¼Œè¦æ˜ å°„æ•°æ®</strong>ã€‚è®©iOSçš„è™šæ‹Ÿå†…å­˜ç³»ç»Ÿæˆä¸ºä½ çš„ç›Ÿå‹ï¼Œè€Œéé™åˆ¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çš„ Prompt éƒ½è¯¥é‡å†™ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580204190027923462</link>    <guid>https://juejin.cn/post/7580204190027923462</guid>    <pubDate>2025-12-05T14:07:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580204190027923462" data-draft-id="7580196545288241206" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çš„ Prompt éƒ½è¯¥é‡å†™ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-05T14:07:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Dcs"/> <meta itemprop="url" content="https://juejin.cn/user/3679404422861902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çš„ Prompt éƒ½è¯¥é‡å†™ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3679404422861902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Dcs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:07:08.000Z" title="Fri Dec 05 2025 14:07:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯<strong>æ¶æ„èµ„æºæ ˆ</strong>ï¼</p>
<hr/>
<p>å¤§å®¶æ€»è¯´æ¨¡å‹ä¼š <strong>è¿‡æ‹Ÿåˆæ•°æ®</strong>ï¼Œä½†å¾ˆå°‘æœ‰äººæ³¨æ„åˆ°ï¼š<strong>Prompt ä¹Ÿä¼šè¿‡æ‹Ÿåˆæ¨¡å‹</strong>ã€‚</p>
<p>å¾ˆå¤šå¼€å‘è€…é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼šæ–°æ¨¡å‹æ˜æ˜æ›´å¼ºï¼Œä½†æ¥å…¥åæ•ˆæœä¸å‡åé™ï¼Œç”šè‡³ç”¨æˆ·è¿˜å«Œå¼ƒã€‚æ¯”å¦‚å½“ Cursor ç¬¬ä¸€æ¬¡æ¥å…¥ GPT-5 æ—¶ï¼Œç½‘ä¸Šä¸€åº¦éª‚å£°ä¸€ç‰‡ï¼Œç›´åˆ°å®˜æ–¹å’Œ OpenAI ä¸€èµ·åšäº† Prompt è°ƒä¼˜ï¼Œä½“éªŒæ‰é€æ¸åè½¬ã€‚</p>
<p><img src="https://files.mdnice.com/user/44095/bd757f03-3617-4f5e-9108-25b1c7439e1e.png" alt="image" loading="lazy"/>
ç»“è®ºå¾ˆç®€å•ï¼š
ğŸ‘‰ æ¨¡å‹å‡çº§æ—¶ï¼Œ<strong>ä¸é‡å†™ Prompt = ç”¨è€é’¥åŒ™å¼€æ–°é”</strong>ï¼Œå¿…ç„¶å¡å£³ã€‚</p>
<p>ä¸‹é¢ä»ä¸‰ä¸ªè§’åº¦èŠèŠï¼Œä¸ºä»€ä¹ˆ Prompt ä¸èƒ½ä¸€æ‹›é²œåƒéå¤©ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. Prompt æ ¼å¼å·®å¼‚</h2>
<p>ä¸åŒæ¨¡å‹å¯¹è¾“å…¥æ ¼å¼çš„â€œåå¥½â€å·®å¼‚å·¨å¤§ã€‚</p>
<ul>
<li><strong>OpenAI ç³»åˆ—</strong>ï¼šä»æ—©æœŸåˆ°ç°åœ¨ï¼Œå‡ ä¹ä¸€ç›´åçˆ± <strong>Markdown</strong>ï¼Œå®˜æ–¹æ•™ç¨‹å’Œç³»ç»Ÿæç¤ºå¤§å¤šéƒ½æ˜¯è¿™ç§æ ¼å¼ã€‚</li>
<li><strong>Anthropic Claude ç³»åˆ—</strong>ï¼šåˆ™æ›´é€‚é… <strong>XML</strong>ã€‚Claude 3.5 çš„ç³»ç»Ÿæç¤ºç›´æ¥å°±æ˜¯ XMLï¼Œå› ä¸ºå®ƒåœ¨è®­ç»ƒä¸­æ¥è§¦äº†å¤§é‡ XML æ•°æ®ï¼Œè‡ªç„¶æ›´æ‡‚è¿™ä¸€å¥—ã€‚</li>
</ul>
<p>æ¡ˆä¾‹ï¼š
åŒæ ·ä¸€æ®µ XML æ ¼å¼ Promptï¼ŒClaude è¡¨ç°å‡ºè‰²ï¼Œè€Œ GPT-4 å¯èƒ½å°±å®Œå…¨ä¸è¡Œã€‚</p>
<p>æ‰€ä»¥æ¢æ¨¡å‹æ—¶ï¼Œå¦‚æœä½ è¿˜æŠ±ç€è€ Prompt ä¸æ”¾ï¼Œå°±åƒè®©ä¸€ä¸ªæ²¡å­¦è¿‡ LaTeX çš„äººç¡¬è¯»å…¬å¼ï¼Œæ•ˆæœå¯æƒ³è€ŒçŸ¥ã€‚</p>
<hr/>
<h2 data-id="heading-1">2. ä½ç½®åå·®ï¼ˆPosition Biasï¼‰</h2>
<p><strong>æ¨¡å‹å¹¶ä¸ä¼šå¹³å‡å¯¹å¾… Prompt çš„æ¯ä¸ªä½ç½®</strong>ã€‚</p>
<ul>
<li>æœ‰çš„æ¨¡å‹æ›´çœ‹é‡å¼€å¤´ï¼›</li>
<li>æœ‰çš„æ¨¡å‹åˆ™å¯¹ç»“å°¾æƒé‡æ›´é«˜ï¼›</li>
<li>ç”šè‡³åŒä¸€ä¸ªæ¨¡å‹ï¼Œåœ¨ä¸åŒè¯­è¨€ã€ä¸åŒä¸Šä¸‹æ–‡ä¸‹ï¼Œåå¥½è¿˜ä¼šå˜åŒ–ã€‚</li>
</ul>
<p>ä¸€ç¯‡ 2025 å¹´çš„è·¨è¯­è¨€ç ”ç©¶è¡¨æ˜ï¼š</p>
<ul>
<li><strong>Qwen ç³»åˆ—</strong> â†’ æ›´åœ¨æ„æœ€åçš„å†…å®¹ï¼›</li>
<li><strong>Llama ç³»åˆ—</strong> â†’ æ›´çœ‹é‡å¼€å¤´ã€‚</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼šåœ¨ RAG åœºæ™¯ä¸‹ï¼Œä½ æ”¾åœ¨ Prompt å¼€å¤´è¿˜æ˜¯ç»“å°¾çš„ç¤ºä¾‹ï¼Œç›´æ¥å†³å®šäº†æ¨¡å‹èƒ½ä¸èƒ½ç­”å¥½é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-2">3. æ¨¡å‹å›ºæœ‰åå·®ï¼ˆModel Biasesï¼‰</h2>
<p>é™¤äº†æ ¼å¼å’Œä½ç½®ï¼Œä¸åŒæ¨¡å‹æœ¬èº«ä¹Ÿæœ‰â€œæ€§æ ¼å·®å¼‚â€ã€‚</p>
<ul>
<li><strong>æ˜¾æ€§åå·®</strong>ï¼šæ¯”å¦‚éƒ¨åˆ†ä¸­æ–‡å¤§æ¨¡å‹ä¼šä¸»åŠ¨è§„é¿æ•æ„Ÿè¯é¢˜ã€‚</li>
<li><strong>éšæ€§åå·®</strong>ï¼šæœ‰çš„æ¨¡å‹é»˜è®¤è¯å¤šå•°å—¦ï¼Œæœ‰çš„åˆ™ç®€æ´ç›´æ¥ï¼›æœ‰çš„å–œæ¬¢ç”Ÿæˆé¢å¤–å­—æ®µï¼Œæœ‰çš„æ›´ä¿å®ˆã€‚</li>
</ul>
<p>é—®é¢˜æ˜¯ï¼Œå¤§å¤šæ•°äººå†™ Prompt æ—¶éƒ½åœ¨ <strong>è·Ÿæ¨¡å‹çš„åå·®ä½œå¯¹</strong>ã€‚
æ¯”å¦‚åå¤åŠ â€œBe conciseâ€ï¼Œä½†å¦‚æœæ–°æ¨¡å‹æœ¬èº«å·²ç»è¶³å¤Ÿç®€æ´ï¼Œè¿™äº›çº¦æŸå°±æˆäº†èµ˜ä½™ï¼Œåè€Œå½±å“æ•ˆæœã€‚</p>
<h3 data-id="heading-3">3a. å­¦ä¼šé¡ºåŠ¿è€Œä¸º</h3>
<p>ä¸å…¶å¼ºè¡ŒçŸ«æ­£ï¼Œä¸å¦‚åˆ©ç”¨æ¨¡å‹çš„é»˜è®¤å€¾å‘ã€‚
å¦‚æœæ¨¡å‹æ€»ä¼šåŠ å‡ ä¸ª JSON å­—æ®µï¼Œä¸å…¶æ‹¼å‘½é˜»æ­¢ï¼Œä¸å¦‚è€ƒè™‘æ¥å—å¹¶è°ƒæ•´ä¸‹æ¸¸é€»è¾‘ï¼Œç»“æœå¯èƒ½æ›´ç¨³å®šã€‚</p>
<hr/>
<h2 data-id="heading-4">å…³é”®ç»“è®º</h2>
<ul>
<li>æ¨¡å‹ä¸æ˜¯â€œå³æ’å³ç”¨â€çš„ï¼ŒPrompt è¿‡æ‹Ÿåˆæ˜¯å¸¸æ€ï¼›</li>
<li>æ¯æ¢ä¸€ä¸ªæ¨¡å‹ï¼Œéƒ½è¦ <strong>é‡å†™ / è°ƒä¼˜ Prompt</strong>ï¼›</li>
<li>ç”šè‡³åœ¨åŒä¸€æ¨¡å‹çš„å‡çº§ç‰ˆæœ¬ä¹‹é—´ï¼ŒPrompt ä¹Ÿå¯èƒ½éœ€è¦å¾®è°ƒï¼›</li>
<li>æœ€ä½³å®è·µï¼šå†™å®Œå°± evalï¼Œå’Œæ¨¡å‹â€œç£¨åˆâ€ï¼Œé¡ºç€å®ƒçš„å¤©æ€§å»è®¾è®¡ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼š
ğŸ‘‰ Prompt å°±æ˜¯â€œæ¨¡å‹çš„ APIâ€ï¼Œæ–°ç‰ˆæœ¬ä¸Šçº¿ï¼ŒAPI å¯èƒ½æ”¹äº†ï¼Œä½ ä¸æ›´æ–°è°ƒç”¨æ–¹å¼ï¼Œå¿…ç„¶è¸©å‘ã€‚</p>
<hr/>
<h2 data-id="heading-5">ç»™å…¬ä¼—å·è¯»è€…çš„å®æ“å»ºè®®</h2>
<p>å¦‚æœä½ åœ¨åš LLM åº”ç”¨ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹ä¸‰æ­¥ï¼š</p>
<ol>
<li><strong>å¯¹æ¯” Prompt æ ¼å¼</strong>ï¼šåœ¨æ–°æ¨¡å‹ä¸Šåˆ†åˆ«ç”¨ Markdown å’Œ XML æµ‹è¯•åŒä¸€ä»»åŠ¡ï¼Œçœ‹çœ‹å·®å¼‚ï¼›</li>
<li><strong>æµ‹è¯•ä½ç½®æ•æ„Ÿæ€§</strong>ï¼šè°ƒæ¢ä¸Šä¸‹æ–‡ç¤ºä¾‹çš„é¡ºåºï¼Œè§‚å¯Ÿè¾“å‡ºå˜åŒ–ï¼›</li>
<li><strong>ç›‘æ§é»˜è®¤é£æ ¼</strong>ï¼šæ¯”å¦‚å­—æ•°é•¿çŸ­ã€æ˜¯å¦çˆ±åŠ è¯´æ˜ã€è¾“å‡ºç»“æ„æ˜¯å¦ç¨³å®šï¼Œå†³å®šè¦ä¸è¦é¡ºåŠ¿è€Œä¸ºã€‚</li>
</ol>
<p>è¿™æ ·ï¼Œä½ å°±èƒ½å¿«é€Ÿåˆ¤æ–­ <strong>æ˜¯å¦éœ€è¦é‡å†™ Prompt</strong>ï¼Œè€Œä¸æ˜¯æŠŠé—®é¢˜å½’å’äºâ€œæ–°æ¨¡å‹ä¸è¡Œâ€ã€‚</p>
<hr/>
<p><strong>å–œæ¬¢å°±å¥–åŠ±ä¸€ä¸ªâ€œğŸ‘â€å’Œâ€œåœ¨çœ‹â€å‘—~</strong></p>
<p><img src="https://files.mdnice.com/user/44095/f9363b7e-9738-44f3-9ac6-8ee2cddf995d.png" alt="image" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°·æ­Œæˆªèƒ¡OpenAIï¼Ÿæ­ç§˜æœˆè´¹250åˆ€çš„â€œå¥¥æ•°é‡‘ç‰Œâ€AIåˆ°åº•å¼ºåœ¨å“ª]]></title>    <link>https://juejin.cn/post/7580180556984057906</link>    <guid>https://juejin.cn/post/7580180556984057906</guid>    <pubDate>2025-12-05T14:23:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556984057906" data-draft-id="7580197740962676762" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­Œæˆªèƒ¡OpenAIï¼Ÿæ­ç§˜æœˆè´¹250åˆ€çš„â€œå¥¥æ•°é‡‘ç‰Œâ€AIåˆ°åº•å¼ºåœ¨å“ª"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-05T14:23:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­Œæˆªèƒ¡OpenAIï¼Ÿæ­ç§˜æœˆè´¹250åˆ€çš„â€œå¥¥æ•°é‡‘ç‰Œâ€AIåˆ°åº•å¼ºåœ¨å“ª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:23:31.000Z" title="Fri Dec 05 2025 14:23:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025å¹´12æœˆ5æ—¥ï¼Œç§‘æŠ€åœˆåŸæœ¬å¹³é™çš„æ°´é¢è¢«è°·æ­Œæ‰”ä¸‹çš„ä¸€é¢—æ·±æ°´ç‚¸å¼¹å½»åº•æ…æµ‘äº†ã€‚</p>
<p>å°±åœ¨æ‰€æœ‰äººè¿˜åœ¨çŒœæµ‹OpenAIé‚£ä¸ªä¼ è¯´ä¸­çš„æ¨¡å‹ä½•æ—¶å…¬æµ‹æ—¶ï¼Œè°·æ­Œæ‚„æ— å£°æ¯åœ°æŒ‰ä¸‹äº†å‘å¸ƒé”®ã€‚Gemini 3 Deep Thinkï¼ˆæ·±åº¦æ€è€ƒæ¨¡å¼ï¼‰æ­£å¼ä¸Šçº¿ã€‚è¿™ä¸æ˜¯ä¸€æ¬¡å¸¸è§„çš„ç‰ˆæœ¬è¿­ä»£ï¼Œè€Œæ˜¯ä¸€æ¬¡å¯¹â€œAIèƒ½åšä»€ä¹ˆâ€çš„é‡æ–°å®šä¹‰ã€‚</p>
<p>å¦‚æœä½ è¿˜ä»¥ä¸ºç°åœ¨çš„AIåªæ˜¯é™ªèŠã€å†™å†™å‘¨æŠ¥çš„å·¥å…·ï¼Œé‚£ä½ å¯èƒ½å¾—é‡æ–°åˆ·æ–°ä¸€ä¸‹è®¤çŸ¥äº†ã€‚è°·æ­Œè¿™æ¬¡æŠŠé—¨æ§›æ‹‰åˆ°äº†ä¸€ä¸ªä»¤äººå’‹èˆŒçš„é«˜åº¦ï¼šè¿™ä¸€æ¨¡å¼ä»…å‘æ¯æœˆæ”¯ä»˜249.99ç¾å…ƒï¼ˆçº¦åˆäººæ°‘å¸1800å…ƒï¼‰çš„Google AI Ultraè®¢é˜…ç”¨æˆ·å¼€æ”¾ã€‚</p>
<p>è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªéå¸¸ç°å®çš„é—®é¢˜ï¼šä¸€ä¸ªæœˆèŠ±ä¸¤ç™¾å¤šç¾é‡‘ï¼Œä¹°å›æ¥çš„åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ€ªç‰©ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.17.04.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.17.04.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c715a23f98994bc38dc14ee9fe41c144~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765549411&amp;x-signature=E573IjrjrBDUYKBGveKP6gvaY0o%3D" alt="iShot_2025-12-05_22.17.04" loading="lazy"/></a></p>
<h3 data-id="heading-0">å“ªæ€•æ…¢å‡ åˆ†é’Ÿï¼Œä¹Ÿè¦ç®—å‡ºâ€œå¥¥æ•°é‡‘ç‰Œâ€</h3>
<p>æˆ‘ä»¬å…ˆæŠ›å¼€æ¯ç‡¥çš„å‚æ•°ï¼ŒèŠèŠè¿™ä¸ªæ¨¡å‹çš„â€œå¤§è„‘â€ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬ç”¨ChatGPTæˆ–è€…Geminiï¼Œæ„Ÿè§‰å®ƒä»¬åƒæ˜¯ä¸€ä¸ªååº”æå¿«çš„æ¥è¯å‘˜ï¼Œä½ è¯éŸ³åˆšè½ï¼Œå®ƒç­”æ¡ˆå°±æ¥äº†ã€‚è¿™ç§å¿«æ˜¯ä¼˜åŠ¿ï¼Œä¹Ÿæ˜¯åŠ£åŠ¿â€”â€”å› ä¸ºå¯¹äºå¤æ‚çš„æ•°å­¦æˆ–é€»è¾‘é—®é¢˜ï¼Œâ€œå¿«â€å¾€å¾€æ„å‘³ç€â€œä¸è¿‡è„‘å­â€ã€‚</p>
<p>Deep Think æœ€å¤§çš„ä¸åŒåœ¨äºï¼Œå®ƒå­¦ä¼šäº†â€œæ…¢ä¸‹æ¥â€ã€‚</p>
<p>è°·æ­Œè¿™æ¬¡å¼•å…¥äº†æ‰€è°“çš„â€œå¹¶è¡Œæ¨ç†æŠ€æœ¯â€ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œä»¥å‰çš„AIè§£é¢˜æ˜¯ä¸€æ¡è·¯èµ°åˆ°é»‘ï¼Œæ’äº†å—å¢™ä¹Ÿä¸å›å¤´ï¼›è€ŒDeep Think å°±åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„æ•°å­¦æ•™æˆï¼Œé¢å¯¹ä¸€é“éš¾é¢˜ï¼Œå®ƒä¼šåœ¨åå°åŒæ—¶æ´¾å‡ºå¥½å‡ ä¸ªâ€œåˆ†èº«â€ï¼Œåˆ†åˆ«å°è¯•ä¸åŒçš„è§£é¢˜è·¯å¾„ã€‚æœ‰çš„åˆ†èº«å»è¯•é”™ï¼Œæœ‰çš„åˆ†èº«å»éªŒè¯ï¼Œæœ€åæŠŠèµ°é€šçš„é‚£æ¡è·¯æ•´åˆå‡ºæ¥ç»™ä½ ã€‚</p>
<p>è¿™ç§æœºåˆ¶å¸¦æ¥çš„ç»“æœæ˜¯éœ‡æ’¼çš„ã€‚åœ¨å›½é™…æ•°å­¦å¥¥æ—åŒ¹å…‹ç«èµ›ï¼ˆIMOï¼‰çš„æµ‹è¯•ä¸­ï¼Œå®ƒæ‹¿ä¸‹äº†42åˆ†æ»¡åˆ†ä¸­çš„35åˆ†ï¼ŒæˆåŠŸè§£å‡ºäº†6é“è¶…é«˜éš¾åº¦é¢˜ç›®ä¸­çš„5é“ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€å®ƒå·²ç»è¾¾åˆ°äº†äººç±»é¡¶å°–æ•°å­¦ç«èµ›é€‰æ‰‹çš„é‡‘ç‰Œæ°´å‡†ã€‚</p>
<p>æ›´æœ‰æ„æ€çš„æ˜¯ï¼Œè°·æ­Œç”šè‡³å…è®¸ç”¨æˆ·å»è°ƒèŠ‚å®ƒçš„â€œæ€è€ƒæ·±åº¦â€ã€‚ä½ æ˜¯æƒ³è¦ä¸€ä¸ªå¿«é€Ÿçš„ç²—ç•¥ç­”æ¡ˆï¼Œè¿˜æ˜¯æ„¿æ„ç­‰ä¸Šå‡ åˆ†é’Ÿï¼Œè®©å®ƒè¿›è¡Œä¸€åœºæ·±åº¦çš„é€»è¾‘æ¨æ¼”ï¼Ÿè¿™ç§å°†æ€è€ƒè¿‡ç¨‹â€œå‚æ•°åŒ–â€çš„åšæ³•ï¼Œæ˜¯ä»¥å‰ä»æœªæœ‰è¿‡çš„ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FG7WlVfvb0AcyVYZ-1024x576.jpeg" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/G7WlVfvb0AcyVYZ-1024x576.jpeg" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8704a7b4f1c47beb8d3d3097e817186~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765549411&amp;x-signature=95%2BzCRE%2FnwCkSB9D7MRP%2FJK0YVw%3D" alt="G7WlVfvb0AcyVYZ" loading="lazy"/></a></p>
<h3 data-id="heading-1">æ•°æ®ä¸ä¼šæ’’è°ï¼šç¢¾å‹çº§çš„ç¡¬å®åŠ›</h3>
<p>ä¸ºäº†éªŒè¯è¿™ä¸æ˜¯è¥é”€å™±å¤´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹å‡ ä¸ªè¢«ç§°ä¸ºâ€œAIå™©æ¢¦â€çš„åŸºå‡†æµ‹è¯•æ•°æ®ã€‚</p>
<p>é¦–å…ˆæ˜¯ <strong>GPQA Diamond</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“é—¨æµ‹è¯•åšå£«çº§ç§‘å­¦çŸ¥è¯†çš„é«˜éš¾åº¦é¢˜åº“ï¼ŒDeep Think æ‹¿åˆ°äº† <strong>93.8%</strong> çš„ææ€–é«˜åˆ†ã€‚</p>
<p>å…¶æ¬¡æ˜¯ <strong>Humanityâ€™s Last Exam (HLE)</strong>ã€‚è¿™åå­—å¬èµ·æ¥å°±å¾ˆä¸­äºŒï¼Œä½†å®ƒæ˜¯ç›®å‰ä¸šå†…å…¬è®¤æœ€éš¾çš„ç»¼åˆæ¨ç†æµ‹è¯•ä¹‹ä¸€ã€‚åœ¨ä¸ä½¿ç”¨ä»»ä½•å¤–éƒ¨å·¥å…·çš„æƒ…å†µä¸‹ï¼ŒDeep Think æ‹¿åˆ°äº† <strong>41.0%</strong>ã€‚ä½ å¯èƒ½è§‰å¾—41%ä¸é«˜ï¼Œä½†ä½œä¸ºå¯¹æ¯”ï¼Œä¹‹å‰çš„è¡Œä¸šé¡¶æµæ¨¡å‹åœ¨è¿™é‡Œçš„åˆ†æ•°å¤§å¤šæƒ¨ä¸å¿ç¹ï¼Œè¿åŠæ ¼çº¿çš„è¾¹éƒ½æ‘¸ä¸åˆ°ã€‚</p>
<p>å“ªæ€•æ˜¯åœ¨éœ€è¦å†™ä»£ç è§£å†³æŠ½è±¡é—®é¢˜çš„ <strong>ARC-AGI-2</strong> æµ‹è¯•ä¸­ï¼Œå®ƒä¹Ÿè·‘å‡ºäº† <strong>45.1%</strong> çš„æˆç»©ï¼Œç›´æ¥æŠŠGemini 3 Proï¼ˆ31.1%ï¼‰å’ŒGPT-5.1ï¼ˆ17.6%ï¼‰ç”©åœ¨äº†èº«åã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.16.47.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.16.47.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96ce18d723014dbfa10bd718c7ceb411~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765549411&amp;x-signature=N2%2FUQZr2mACutYhWuIGf03RfaMs%3D" alt="iShot_2025-12-05_22.16.47" loading="lazy"/></a></p>
<h3 data-id="heading-2">è°ä¼šä¸ºæ˜‚è´µçš„â€œæ€è€ƒâ€ä¹°å•ï¼Ÿ</h3>
<p>å›åˆ°ä»·æ ¼é—®é¢˜ï¼Œ249.99ç¾å…ƒçš„æœˆè´¹æ³¨å®šå®ƒä¸æ˜¯ç»™æ™®é€šç”¨æˆ·æ‹¿æ¥å†™é‚®ä»¶æˆ–æŸ¥èœè°±çš„ã€‚</p>
<p>Deep Think çš„ç›®æ ‡ç”¨æˆ·éå¸¸æ¸…æ™°ï¼šé‚£äº›éœ€è¦å¤„ç†<strong>ä¸¥è‚ƒé—®é¢˜</strong>çš„äººã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯ä¸€ä¸ªæ­£åœ¨æ”»å…‹æ–°ææ–™é…æ–¹çš„ç§‘ç ”äººå‘˜ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªéœ€è¦å¯¹æ•°åƒä¸ªå˜é‡è¿›è¡Œé£é™©è¯„ä¼°çš„é‡‘èåˆ†æå¸ˆã€‚ä½ éœ€è¦çš„ä¸æ˜¯ä¸€æ®µé€šé¡ºçš„æ–‡å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªé€»è¾‘ä¸¥å¯†ã€ç»è¿‡å¤šé‡éªŒè¯çš„æ¨å¯¼è¿‡ç¨‹ã€‚Deep Think èƒ½å¤Ÿåœ¨å‡ åˆ†é’Ÿå†…å®Œæˆäººç±»ä¸“å®¶å¯èƒ½éœ€è¦å‡ å¤©æ‰èƒ½å®Œæˆçš„é€»è¾‘éªŒè¯ï¼Œè¿™æ‰æ˜¯å®ƒæ˜‚è´µè®¢é˜…è´¹èƒŒåçš„çœŸå®ä»·å€¼ã€‚</p>
<p>è°·æ­Œè¿™æ¬¡å…¶å®ä¹Ÿæ˜¯åœ¨èµŒã€‚å®ƒèµŒçš„æ˜¯ï¼ŒAIçš„ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œå°†ä»â€œç”Ÿæˆå†…å®¹â€è½¬å‘â€œè§£å†³é—®é¢˜â€ã€‚</p>
<h3 data-id="heading-3">å†™åœ¨æœ€å</h3>
<p>Gemini 3 Deep Think çš„å‡ºç°ï¼ŒæŸç§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯å¯¹OpenAIçš„ä¸€æ¬¡â€œæˆªèƒ¡â€ã€‚å½“å¯¹æ‰‹è¿˜åœ¨å®éªŒå®¤é‡Œæ‰“ç£¨åŒç±»äº§å“æ—¶ï¼Œè°·æ­Œç›´æ¥æŠŠå®ƒæ¨å‘äº†å¸‚åœºã€‚</p>
<p>è™½ç„¶ç›®å‰å®ƒè¿˜æœ‰ä¸å°‘é™åˆ¶â€”â€”æ¯”å¦‚ç”Ÿæˆç­”æ¡ˆéœ€è¦æ•°åˆ†é’Ÿçš„ç­‰å¾…ï¼Œæ¯”å¦‚é«˜æ˜‚çš„ç®—åŠ›æˆæœ¬å¯¼è‡´çš„è®¢é˜…é—¨æ§›â€”â€”ä½†è¿™æ ‡å¿—ç€æˆ‘ä»¬ç»ˆäºè·¨è¿‡äº†ä¸€ä¸ªé—¨æ§›ï¼šAIä¸å†ä»…ä»…æ˜¯æ¨¡ä»¿äººç±»è¯´è¯ï¼Œå®ƒå¼€å§‹æ¨¡ä»¿äººç±»æ€è€ƒã€‚</p>
<p>å¯¹äºæ•´ä¸ªè¡Œä¸šæ¥è¯´ï¼Œè¿™åœºå…³äºâ€œæ¨ç†èƒ½åŠ›â€çš„å†›å¤‡ç«èµ›ï¼Œæ‰åˆšåˆšå¼€å§‹ã€‚è€Œå¯¹äºæˆ‘ä»¬æ™®é€šäººæ¥è¯´ï¼Œæˆ–è®¸è¦å¼€å§‹ä¹ æƒ¯è¿™æ ·ä¸€ç§æœªæ¥ï¼šå½“ä½ å‘ç”µè„‘æé—®æ—¶ï¼Œå®ƒä¸å†æ˜¯ç§’å›ï¼Œè€Œæ˜¯æ²‰æ€ç‰‡åˆ»ï¼Œç„¶åç»™å‡ºä¸€ä¸ªè¿ä½ è‡ªå·±éƒ½æœªæ›¾è®¾æƒ³è¿‡çš„å®Œç¾è¯æ˜ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«æŠ½å¡ç„å­¦ï¼šSeedream 4.5 å¦‚ä½•ç»ˆç»“AIç»˜å›¾çš„ä¸€è‡´æ€§å™©æ¢¦]]></title>    <link>https://juejin.cn/post/7580183671531831334</link>    <guid>https://juejin.cn/post/7580183671531831334</guid>    <pubDate>2025-12-05T14:34:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531831334" data-draft-id="7580183671531814950" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«æŠ½å¡ç„å­¦ï¼šSeedream 4.5 å¦‚ä½•ç»ˆç»“AIç»˜å›¾çš„ä¸€è‡´æ€§å™©æ¢¦"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-05T14:34:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«æŠ½å¡ç„å­¦ï¼šSeedream 4.5 å¦‚ä½•ç»ˆç»“AIç»˜å›¾çš„ä¸€è‡´æ€§å™©æ¢¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:34:12.000Z" title="Fri Dec 05 2025 14:34:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ ä¹Ÿæ˜¯ä¸€åè¢«Midjourneyæˆ–æ˜¯Stable DiffusionæŠ˜ç£¨è¿‡çš„AIåˆ›ä½œè€…ï¼Œé‚£ä½ ä¸€å®šç»å†è¿‡è¿™ç§å´©æºƒæ—¶åˆ»ï¼šä½ å¥½ä¸å®¹æ˜“â€œç‚¼â€å‡ºäº†ä¸€ä¸ªå®Œç¾çš„è§’è‰²å½¢è±¡ï¼Œå…‰å½±ç»ä½³ï¼Œçœ¼ç¥åˆ°ä½ã€‚ä½†å½“ä½ è¯•å›¾è®©è¿™ä¸ªè§’è‰²æ¢ä¸ªå§¿åŠ¿ï¼Œæˆ–è€…èµ°è¿›ä¸‹ä¸€ä¸ªåœºæ™¯æ—¶ï¼Œç”±äºAIé‚£ä¸å¯æ§çš„éšæœºæ€§ï¼ŒåŸæ¥çš„ä¸»è§’çªç„¶â€œæ•´å®¹â€äº†â€”â€”è¦ä¹ˆäº”å®˜ä¹±é£ï¼Œè¦ä¹ˆæ°”è´¨å¤§å˜ã€‚</p>
<p>ä¸ºäº†ä¿æŒè§’è‰²ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨æ­¤å‰èŠ±è´¹å¤§é‡æ—¶é—´å»è®­ç»ƒLoRAï¼Œæˆ–è€…åœ¨ControlNeté‡Œåå¤è°ƒè¯•å‚æ•°ã€‚</p>
<p>ä½†å°±åœ¨2025å¹´12æœˆåˆï¼Œå­—èŠ‚è·³åŠ¨æ——ä¸‹çš„ç«å±±å¼•æ“å‘å¸ƒäº†Seedream 4.5ï¼Œå¹¶è¿…é€Ÿåœ¨LiblibAIå¹³å°ä¸Šçº¿ã€‚è¿™ä¸€æ¬¡ï¼Œä»–ä»¬ä¼¼ä¹çœŸçš„è¦æŠŠAIç»˜ç”»ä»â€œæŠ½å¡æ¸¸æˆâ€å˜æˆâ€œç”Ÿäº§åŠ›å·¥å…·â€ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.24.54-1024x695.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.24.54-1024x695.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e26ecc1f20fe478db0ed7c7a8b5fd255~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=4D6hTdzHv7RPT3sdv5nvYTKGPSY%3D" alt="iShot_2025-12-05_22.24.54" loading="lazy"/></a></p>
<p><strong>ä¸ä»…æ˜¯ç”»å¾—å¥½çœ‹ï¼Œæ›´æ˜¯ç”»å¾—å¬è¯</strong></p>
<p>æˆ‘ä»¬éœ€è¦ææ¸…æ¥šè¿™ä¸€æ³¢æ›´æ–°çš„æ ¸å¿ƒé€»è¾‘ã€‚LiblibAIæ˜¯ä¸€ä¸ªèšåˆå¹³å°ï¼Œç›¸å½“äºä½ çš„å·¥ä½œå°ï¼›è€ŒSeedream 4.5åˆ™æ˜¯è¿™ä¸ªå°å­ä¸Šæ–°è£…çš„ä¸€å°å¼ºåŠ›å‘åŠ¨æœºã€‚</p>
<p>è¿™å°æ–°å‘åŠ¨æœºæœ€å“äººçš„åœ°æ–¹åœ¨äºå®ƒçš„â€œè®°å¿†åŠ›â€å’Œâ€œç†è§£åŠ›â€ã€‚</p>
<p>åœ¨è¿‡å»çš„æ¨¡å‹ä¸­ï¼Œå¤šå›¾èåˆå¾€å¾€æ˜¯ä¸€åœºç¾éš¾ã€‚ä½ ç»™AIä¸€å¼ äº§å“å›¾ï¼Œä¸€å¼ æ¨¡ç‰¹å›¾ï¼Œå†åŠ ä¸€å¼ èƒŒæ™¯å›¾ï¼Œæœ€åå‡ºæ¥çš„ç»“æœå¤§æ¦‚ç‡æ˜¯ç¼åˆæ€ªã€‚ä½†Seedream 4.5æ”¯æŒåŒæ—¶è¾“å…¥å¤šè¾¾10å¼ å‚è€ƒå›¾ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿè¿™æ„å‘³ç€ä½ å¯ä»¥æŠŠè¡£æœã€é…é¥°ã€æ¨¡ç‰¹é•¿ç›¸ã€å…‰å½±å‚è€ƒä¸€è‚¡è„‘ä¸¢ç»™å®ƒï¼Œå®ƒä¸ä»…èƒ½è¯»æ‡‚ï¼Œè¿˜èƒ½æŠŠè¿™äº›å…ƒç´ åƒæ‹¼ä¹é«˜ä¸€æ ·ï¼Œé€»è¾‘è‡ªæ´½åœ°èåˆè¿›ä¸€å¼ å›¾é‡Œã€‚</p>
<p>å¯¹äºåšç”µå•†è®¾è®¡ã€åšè¿è½½æ¼«ç”»çš„æœ‹å‹æ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯æ•‘å‘½çš„åŠŸèƒ½ã€‚å®ƒè§£å†³äº†ä¸€ä¸ªæ ¹æœ¬ç—›ç‚¹ï¼š<strong>å¤šå›¾ä¹‹é—´çš„ä¸€è‡´æ€§</strong>ã€‚ä½ çš„è§’è‰²åœ¨ç¬¬ä¸€å¼ å›¾é‡Œç©¿çš„æ˜¯å¤å¤çš®è¡£ï¼Œåœ¨ç¬¬åå¼ å›¾é‡Œï¼Œè¿™ä»¶çš®è¡£çš„è´¨æ„Ÿã€è¤¶çš±ç”šè‡³å…‰æ³½ä¾ç„¶èƒ½ä¿æŒç»Ÿä¸€ï¼Œè€Œä¸æ˜¯å˜æˆä¸€ä»¶æ™®é€šçš„é»‘è‰²å¤¹å…‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fsadassdfg-1024x769.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/sadassdfg-1024x769.webp" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09d8346e57b845d98522177cf8f20795~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=w3Z0U%2Fzuk7clD1gklKlOTtOVcFg%3D" alt="sadassdfg" loading="lazy"/></a></p>
<p><strong>ç»ˆäºèƒ½çœ‹æ‡‚ä¸­æ–‡ç”²æ–¹çš„éœ€æ±‚äº†</strong></p>
<p>ä½œä¸ºå›½äº§å¤§æ¨¡å‹ï¼ŒSeedream 4.5è‡ªå¸¦çš„â€œç§æ—å¤©èµ‹â€å°±æ˜¯å¯¹ä¸­æ–‡è¯­å¢ƒçš„ç†è§£ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç”¨è‹±æ–‡æç¤ºè¯å»æè¿°â€œäº”å½©æ–‘æ–“çš„é»‘â€æˆ–è€…â€œèµ›åšæœ‹å…‹é£çš„æˆéƒ½å¤œæ™¯â€æ€»æœ‰ä¸€å±‚éš”è†œã€‚Seedream 4.5ä¸ä»…èƒ½ç²¾å‡†ç†è§£è¿™äº›å¤æ‚çš„ä¸­æ–‡ç¾å­¦æŒ‡ä»¤ï¼Œæ›´å…³é”®çš„æ˜¯ï¼Œå®ƒè§£å†³äº†AIç»˜ç”»çš„é˜¿å–€ç‰æ–¯ä¹‹è¸µâ€”â€”æ–‡å­—æ¸²æŸ“ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬ç”¨AIåšæµ·æŠ¥ï¼Œå›¾ç”Ÿå¥½åå¾—å»PSé‡ŒæŠŠAIé¬¼ç”»ç¬¦ä¸€æ ·çš„ä¹±ç ä¿®æ‰ï¼Œå†é‡æ–°æ’ç‰ˆã€‚ç°åœ¨ï¼ŒSeedream 4.5å¯ä»¥ç›´æ¥ç”Ÿæˆæ¸…æ™°ã€æ’ç‰ˆè§„æ•´çš„ä¸­è‹±æ–‡å­—ç¬¦ã€‚å®ƒå¯ä»¥ç›´æ¥äº§å‡ºå¸¦æœ‰æ­£ç¡®Logoå’Œæ–‡æ¡ˆçš„å•†ä¸šçº§æµ·æŠ¥ã€‚è™½ç„¶è¿˜ä¸èƒ½å®Œå…¨æ›¿ä»£èµ„æ·±è®¾è®¡å¸ˆçš„ç²¾ä¿®ï¼Œä½†å¯¹äºå¿«é€Ÿå‡ºå›¾çš„è¿è¥éœ€æ±‚æ¥è¯´ï¼Œè¿™å·²ç»æ˜¯è´¨çš„é£è·ƒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.26.24-1024x680.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.26.24-1024x680.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/698a4d992ee440f5942bf03e3441d4b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=ZZGKmf6oOE97qRbCryOIDoDxOoo%3D" alt="iShot_2025-12-05_22.26.24" loading="lazy"/></a></p>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯LiblibAIï¼Ÿ</strong></p>
<p>å¯èƒ½ä¼šæœ‰äººé—®ï¼Œæ—¢ç„¶æ˜¯å­—èŠ‚çš„æ¨¡å‹ï¼Œä¸ºä»€ä¹ˆè¦åœ¨LiblibAIä¸Šç”¨ï¼Ÿ</p>
<p>å› ä¸ºå·¥ä½œæµã€‚</p>
<p>å•çº¯çš„ä¸€ä¸ªæ¨¡å‹ï¼Œåªæ˜¯ä¸€ä¸ªå¤§è„‘ã€‚è€Œåœ¨LiblibAIè¿™ä¸ªå¹³å°ä¸Šï¼ŒSeedream 4.5ä¸ä»…æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œå®ƒå¯ä»¥é…åˆå¹³å°ä¸Šçš„ä¿®å›¾ã€æ”¾å¤§ã€è§†é¢‘ç”Ÿæˆç­‰ä¸€æ•´å¥—å·¥å…·é“¾ä½¿ç”¨ã€‚å¯¹äºä¸æƒ³æŠ˜è…¾æœ¬åœ°éƒ¨ç½²ã€æ˜¾å¡é…ç½®ä¸å¤Ÿçš„åˆ›ä½œè€…æ¥è¯´ï¼Œè¿™é‡Œæä¾›äº†ä¸€ä¸ªâ€œå¼€ç®±å³ç”¨â€çš„ç¯å¢ƒã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå¿«é€Ÿå¯¹æ¯”Seedream 4.5å’Œå…¶ä»–æ¨¡å‹ï¼ˆæ¯”å¦‚MJ V7ï¼‰çš„æ•ˆæœï¼Œæ‰¾åˆ°æœ€é€‚åˆä½ å½“å‰é¡¹ç›®çš„é‚£ä¸ªè§£ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.26.20.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.26.20.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da83f0fd08cc46aba28f5e0f3d5826b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=uS21aJiPPNT0pBYO7ZvZHDsLdmY%3D" alt="iShot_2025-12-05_22.26.20" loading="lazy"/></a></p>
<p><strong>æ€»ç»“</strong></p>
<p>Seedream 4.5çš„å‡ºç°ï¼Œæ ‡å¿—ç€AIç»˜å›¾æ­£åœ¨ä»â€œçœ‹è¿æ°”â€çš„è‰ºæœ¯åˆ›ä½œï¼Œå‘â€œå¯æ§â€çš„å·¥ä¸šç”Ÿäº§è¿ˆè¿›ã€‚</p>
<p>å®ƒä¸å†åªæ˜¯è®©ä½ æ„Ÿå¹â€œå“‡ï¼Œç”»å¾—çœŸåƒç…§ç‰‡â€ï¼Œè€Œæ˜¯è®©ä½ åœ¨æ¥åˆ°ç”²æ–¹éœ€æ±‚â€”â€”æ¯”å¦‚â€œæˆ‘è¦ä¸€å¥—é£æ ¼ç»Ÿä¸€ã€æ¨¡ç‰¹å›ºå®šã€æ–‡æ¡ˆæ¸…æ™°çš„èŠ‚æ—¥æµ·æŠ¥â€æ—¶ï¼Œèƒ½åº•æ°”åè¶³åœ°æ‰“å¼€ç”µè„‘ï¼Œè€Œä¸æ˜¯åœ¨å¿ƒé‡Œé»˜é»˜ç¥ˆç¥·è¿™æ¬¡ç”Ÿæˆçš„éšæœºæ•°èƒ½ç»™ç‚¹åŠ›ã€‚</p>
<p>å¦‚æœä½ å—å¤Ÿäº†è§’è‰²â€œå˜è„¸â€ï¼Œæˆ–è€…åŒå€¦äº†æ— ä¼‘æ­¢çš„ä¿®å­—å·¥ä½œï¼Œç°åœ¨çš„Seedream 4.5ï¼Œç»å¯¹å€¼å¾—ä½ å»LiblibAIä¸Šè¯•ä¸€è¯•ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆå­¦è€…å…¥é—¨ï¼šç”¨ go-kratos-admin + protoc-gen-typescript-http å¿«é€Ÿæ­å»ºä¼ä¸šçº§ Admin ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7580197740962758682</link>    <guid>https://juejin.cn/post/7580197740962758682</guid>    <pubDate>2025-12-05T14:40:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580197740962758682" data-draft-id="7580180556984156210" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆå­¦è€…å…¥é—¨ï¼šç”¨ go-kratos-admin + protoc-gen-typescript-http å¿«é€Ÿæ­å»ºä¼ä¸šçº§ Admin ç³»ç»Ÿ"/> <meta itemprop="keywords" content="åç«¯,Go,TypeScript"/> <meta itemprop="datePublished" content="2025-12-05T14:40:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆå­¦è€…å…¥é—¨ï¼šç”¨ go-kratos-admin + protoc-gen-typescript-http å¿«é€Ÿæ­å»ºä¼ä¸šçº§ Admin ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:40:57.000Z" title="Fri Dec 05 2025 14:40:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆå­¦è€…å…¥é—¨ï¼šç”¨ go-kratos-admin + protoc-gen-typescript-http å¿«é€Ÿæ­å»ºä¼ä¸šçº§ Admin ç³»ç»Ÿ</h2>
<p>ä½œä¸ºåç«¯å¼€å‘è€…ï¼Œä½ æ˜¯å¦æ›¾ä¸ºå‰åç«¯æ¥å£è”è°ƒå¤´ç–¼ï¼Ÿä½œä¸ºå‰ç«¯æ–°æ‰‹ï¼Œæ˜¯å¦è§‰å¾—æ‰‹åŠ¨å°è£… Rest æ¥å£ç¹çåˆå®¹æ˜“å‡ºé”™ï¼Ÿä»Šå¤©å°±ç»™å¤§å®¶æ¨èä¸€å¥— "æ•ˆç‡ç»„åˆæ‹³"â€”â€”go-kratos-adminï¼ˆå¼€ç®±å³ç”¨çš„å…¨æ ˆ Admin æ¡†æ¶ï¼‰+ protoc-gen-typescript-httpï¼ˆProtobuf é©±åŠ¨çš„ TS æ¥å£ç”Ÿæˆå™¨ï¼‰ï¼Œè®©ä½ ä»é›¶åˆ°ä¸€å¿«é€Ÿæ­å»ºä¼ä¸šçº§ç®¡ç†ç³»ç»Ÿï¼Œè¿˜èƒ½è‡ªåŠ¨ç”Ÿæˆç±»å‹å®‰å…¨çš„å‰ç«¯æ¥å£ï¼Œç”Ÿäº§åŠ›ç›´æ¥ç¿»å€ï¼</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆææ‡‚ï¼šè¿™ä¸¤ä¸ªå·¥å…·åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç®€å•ç†æ¸…æ ¸å¿ƒå·¥å…·çš„å®šä½ï¼Œé¿å…ç›²ç›®ä¸Šæ‰‹ï¼š</p>
<h4 data-id="heading-2">1. go-kratos-adminï¼šå…¨æ ˆ Admin çš„ "è„šæ‰‹æ¶ç‹è€…"</h4>
<p>å®ƒæ˜¯ä¸€ä¸ªåŸºäº Go å¾®æœåŠ¡æ¡†æ¶<strong>go-kratos</strong>å’Œ Vue3 æ¡†æ¶<strong>Vben Admin</strong>å¼€å‘çš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œä¸»æ‰“ "å¼€ç®±å³ç”¨"ã€‚åç«¯é›†æˆäº†ç”¨æˆ·ç®¡ç†ã€ç§Ÿæˆ·ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰ä¼ä¸šçº§å¿…å¤‡åŠŸèƒ½ï¼Œå‰ç«¯è‡ªå¸¦ç¾è§‚çš„ç®¡ç†ç•Œé¢å’Œäº¤äº’é€»è¾‘ï¼Œä¸ç”¨ä½ ä»é›¶æ­å»ºé¡¹ç›®ç»“æ„ã€è®¾è®¡æ•°æ®åº“è¡¨ã€å¼€å‘åŸºç¡€åŠŸèƒ½ï¼Œç›¸å½“äºç›´æ¥æ‹¿åˆ°ä¸€ä¸ª "åŠæˆå“"Admin ç³»ç»Ÿï¼Œä½ åªéœ€ä¸“æ³¨ä¸šåŠ¡å¼€å‘ã€‚</p>
<p>æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>åç«¯ï¼š<code>Golang</code> + <code>go-kratos</code> + <code>ent/gorm</code>ï¼Œæ”¯æŒå¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€åŠ¨æ€ API ç­‰ä¼ä¸šçº§ç‰¹æ€§</li>
<li>å‰ç«¯ï¼š<code>Vue3</code> + <code>TypeScript</code> + <code>Antdv</code> + <code>Vben Admin</code>ï¼Œç•Œé¢ç¾è§‚ã€ç»„ä»¶ä¸°å¯Œ</li>
<li>éƒ¨ç½²çµæ´»ï¼šæ”¯æŒå•ä½“æ¶æ„å¼€å‘ / éƒ¨ç½²ï¼Œæ–°æ‰‹ä¹Ÿä¸ç”¨çº ç»“å¾®æœåŠ¡å¤æ‚åº¦</li>
<li>åŠŸèƒ½é½å…¨ï¼šå†…ç½®ç”¨æˆ·ã€è§’è‰²ã€ç»„ç»‡ã€ä»»åŠ¡è°ƒåº¦ã€æ–‡ä»¶ç®¡ç†ç­‰ 17 + æ ¸å¿ƒæ¨¡å—</li>
</ul>
<h4 data-id="heading-3">2. protoc-gen-typescript-httpï¼šæ¥å£ç”Ÿæˆçš„ "æ•ˆç‡ç¥å™¨"</h4>
<p>è¿™æ˜¯ go-kratos ç”Ÿæ€ä¸‹çš„ TypeScript ä»£ç ç”Ÿæˆå™¨ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯<strong>æ ¹æ® Protobuf æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆå‰ç«¯ Rest æ¥å£å®¢æˆ·ç«¯å’Œç±»å‹å®šä¹‰</strong>ã€‚ç®€å•è¯´ï¼Œåç«¯åªè¦å®šä¹‰å¥½ Protobuf æ¥å£åè®®ï¼Œå‰ç«¯å°±èƒ½ç›´æ¥æ‹¿åˆ°å¯è°ƒç”¨çš„ TS ä»£ç ï¼Œä¸ç”¨æ‰‹åŠ¨å†™ axios è¯·æ±‚ã€ä¸ç”¨åå¤æ ¸å¯¹æ¥å£å‚æ•°ã€ä¸ç”¨ç»´æŠ¤ç±»å‹å®šä¹‰ï¼Œå½»åº•è§£å†³å‰åç«¯æ¥å£è”è°ƒçš„ "æ²Ÿé€šæˆæœ¬" å’Œ "æ‰‹å†™é”™è¯¯"ã€‚</p>
<p>æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>ç±»å‹å®‰å…¨ï¼šç”Ÿæˆçš„ TS ç±»å‹ä¸åç«¯å®Œå…¨å¯¹é½ï¼Œé¿å…ç±»å‹ä¸åŒ¹é…é—®é¢˜</li>
<li>è‡ªåŠ¨å°è£…ï¼šç›´æ¥ç”Ÿæˆå¯è°ƒç”¨çš„æœåŠ¡å®¢æˆ·ç«¯ï¼Œä¸ç”¨æ‰‹åŠ¨å†™è¯·æ±‚å‡½æ•°</li>
<li>åè®®é©±åŠ¨ï¼šåŸºäº Protobuf å®šä¹‰æ¥å£ï¼Œå‰åç«¯éµå¾ªç»Ÿä¸€æ ‡å‡†ï¼Œå‡å°‘åˆ†æ­§</li>
<li>æ— ç¼é›†æˆï¼šä¸ go-kratos å¤©ç„¶å…¼å®¹ï¼Œå®Œç¾é€‚é… go-kratos-admin çš„åç«¯æ¶æ„</li>
</ul>
<h3 data-id="heading-4">äºŒã€ç¯å¢ƒå‡†å¤‡ï¼šä¸€æ­¥åˆ°ä½æ­å¥½å¼€å‘ç¯å¢ƒ</h3>
<p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚æˆ‘ä»¬å…ˆæŠŠåŸºç¡€ç¯å¢ƒé…é½ï¼Œè¿™é‡Œä»¥ Ubuntu ç³»ç»Ÿä¸ºä¾‹ï¼ˆWindows/Mac æ­¥éª¤ç±»ä¼¼ï¼Œå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼‰ï¼š</p>
<h4 data-id="heading-5">1. å¿…å¤‡åŸºç¡€è½¯ä»¶</h4>
<ul>
<li><strong>Git</strong>ï¼šç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ˆé»˜è®¤å¤šæ•°ç³»ç»Ÿå·²å®‰è£…ï¼‰</li>
<li><strong>Docker</strong>ï¼šå®¹å™¨åŒ–éƒ¨ç½²ä¾èµ–ï¼ˆç”¨äºå¯åŠ¨æ•°æ®åº“ã€ç¼“å­˜ç­‰ä¸­é—´ä»¶ï¼‰</li>
<li><strong>Golang 1.20+</strong>ï¼šåç«¯å¼€å‘ç¯å¢ƒ</li>
<li><strong>Node.js 16+ &amp; pnpm</strong>ï¼šå‰ç«¯å¼€å‘ç¯å¢ƒï¼ˆpnpm æ¯” npm/yarn æ›´å¿«ï¼‰</li>
<li><strong>Protobuf ç¼–è¯‘å™¨ï¼ˆprotocï¼‰</strong>ï¼šç”¨äºè§£æ.proto æ–‡ä»¶ï¼ˆç”Ÿæˆ TS æ¥å£ä¾èµ–ï¼‰</li>
</ul>
<p>å®‰è£…å‘½ä»¤å‚è€ƒï¼ˆUbuntuï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…Docker</span>
sudo apt-get update &amp;&amp; sudo apt-get install docker-ce docker-ce-cli containerd.io

<span class="hljs-comment"># å®‰è£…Golangï¼ˆå¯å‚è€ƒå®˜æ–¹è„šæœ¬ï¼‰</span>
curl -fsSL https://raw.githubusercontent.com/tx7do/go-kratos-admin/main/backend/script/prepare_ubuntu.sh | bash

<span class="hljs-comment"># å®‰è£…Node.jså’Œpnpm</span>
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs
npm install -g pnpm

<span class="hljs-comment"># å®‰è£…Protobufç¼–è¯‘å™¨</span>
sudo apt-get install -y protobuf-compiler
</code></pre>
<h4 data-id="heading-6">2. å®‰è£…æ ¸å¿ƒå·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…TSæ¥å£ç”Ÿæˆå™¨</span>
go install github.com/go-kratos/protoc-gen-typescript-http@latest
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€å¿«é€Ÿä¸Šæ‰‹ï¼š30 åˆ†é’Ÿæ­å»ºå¯è¿è¡Œçš„ Admin ç³»ç»Ÿ</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€æ­¥æ­¥æ­å»ºé¡¹ç›®ï¼Œä»æ‹‰å–ä»£ç åˆ°å¯åŠ¨ç³»ç»Ÿï¼Œå†åˆ°ç”Ÿæˆç¬¬ä¸€ä¸ª TS æ¥å£ï¼š</p>
<h4 data-id="heading-8">æ­¥éª¤ 1ï¼šæ‹‰å– go-kratos-admin é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/tx7do/go-kratos-admin.git
<span class="hljs-comment"># å¦‚æœåªèƒ½è®¿é—®å†…ç½‘åˆ™æ‹‰å–ï¼šgit clone https://gitee.com/tx7do/go-kratos-admin.git</span>
<span class="hljs-built_in">cd</span> go-kratos-admin
</code></pre>
<h4 data-id="heading-9">æ­¥éª¤ 2ï¼šå¯åŠ¨åç«¯æœåŠ¡ï¼ˆå«ä¾èµ–ä¸­é—´ä»¶ï¼‰</h4>
<p>go-kratos-admin æä¾›äº† Makefile è„šæœ¬ï¼Œä¸€é”®å¯åŠ¨æ‰€æœ‰ä¾èµ–ï¼ˆæ•°æ®åº“ã€Redis ç­‰ï¼‰å’Œåç«¯æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥åç«¯ç›®å½•</span>
<span class="hljs-built_in">cd</span> backend

<span class="hljs-comment"># åˆå§‹åŒ–ä¾èµ–ã€æ„å»ºDockeré•œåƒã€å¯åŠ¨æœåŠ¡</span>
make init
make docker
make compose-up
</code></pre>
<p>å¯åŠ¨æˆåŠŸåï¼Œåç«¯æœåŠ¡é»˜è®¤è¿è¡Œåœ¨<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A7788" target="_blank" title="http://localhost:7788" ref="nofollow noopener noreferrer">http://localhost:7788</a>ï¼Œå¯ä»¥è®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A7788%2Fdocs" target="_blank" title="http://localhost:7788/docs" ref="nofollow noopener noreferrer">http://localhost:7788/docs</a>æŸ¥çœ‹ Swagger æ¥å£æ–‡æ¡£ï¼Œé»˜è®¤è´¦å·å¯†ç éƒ½æ˜¯<code>admin</code>ã€‚</p>
<h4 data-id="heading-10">æ­¥éª¤ 3ï¼šå¯åŠ¨å‰ç«¯é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å›åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿›å…¥å‰ç«¯ç›®å½•</span>
<span class="hljs-built_in">cd</span> ../frontend

<span class="hljs-comment"># å®‰è£…ä¾èµ–ï¼ˆpnpmé€Ÿåº¦æ›´å¿«ï¼‰</span>
pnpm install

<span class="hljs-comment"># å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆé»˜è®¤ç«¯å£5666ï¼‰</span>
pnpm dev
</code></pre>
<p>æ‰“å¼€æµè§ˆå™¨è®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5666" target="_blank" title="http://localhost:5666" ref="nofollow noopener noreferrer">http://localhost:5666</a>ï¼Œç”¨<code>admin</code>/<code>admin</code>ç™»å½•ï¼Œå°±èƒ½çœ‹åˆ°å®Œæ•´çš„ Admin ç³»ç»Ÿç•Œé¢ï¼ŒåŒ…å«ç”¨æˆ·ç®¡ç†ã€ç§Ÿæˆ·ç®¡ç†ç­‰æ‰€æœ‰å†…ç½®åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-11">æ­¥éª¤ 4ï¼šç”¨ protoc-gen-typescript-http ç”Ÿæˆ TS æ¥å£</h4>
<p>è¿™ä¸€æ­¥æ˜¯æ ¸å¿ƒï¼æˆ‘ä»¬ä»¥ "ç”¨æˆ·ç®¡ç†æ¥å£" ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•è‡ªåŠ¨ç”Ÿæˆ TS å®¢æˆ·ç«¯ï¼š</p>
<h5 data-id="heading-12">4.1 æ‰¾åˆ°åç«¯ Protobuf å®šä¹‰</h5>
<p>go-kratos-admin çš„æ¥å£åè®®éƒ½æ”¾åœ¨backend/apiç›®å½•ä¸‹ï¼Œæ¯”å¦‚ç”¨æˆ·ç®¡ç†çš„ Proto æ–‡ä»¶backend/api/admin/v1/i_user.protoï¼Œé‡Œé¢å®šä¹‰äº†æŸ¥è¯¢ç”¨æˆ·ã€åˆ›å»ºç”¨æˆ·ç­‰æ¥å£ï¼Œå…³é”®éƒ¨åˆ†å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";

package admin.service.v1;

import "google/api/annotations.proto"; // å¼•å…¥httpæ³¨è§£ä¾èµ–

import "pagination/v1/pagination.proto"; // åˆ†é¡µè¯·æ±‚

import "user/service/v1/user.proto";

// ç”¨æˆ·ç®¡ç†æœåŠ¡
service UserService {
  // è·å–ç”¨æˆ·åˆ—è¡¨
  rpc List (pagination.PagingRequest) returns (user.service.v1.ListUserResponse) {
    option (redact.v3.internal_method) = true;
    option (google.api.http) = {
      get: "/admin/v1/users" // ç»‘å®šHTTP GETè¯·æ±‚
    };
  }

  // è·å–ç”¨æˆ·æ•°æ®
  rpc Get (user.service.v1.GetUserRequest) returns (user.service.v1.User) {
    option (redact.v3.internal_method) = true;
    option (google.api.http) = {
      get: "/admin/v1/users/{id}" // ç»‘å®šHTTP GETè¯·æ±‚
      additional_bindings {
        get: "/admin/v1/users/username/{user_name}" // ç»‘å®šHTTP GETè¯·æ±‚
      }
    };
  }

  // åˆ›å»ºç”¨æˆ·
  rpc Create (user.service.v1.CreateUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/admin/v1/users" // ç»‘å®šHTTP POSTè¯·æ±‚
      body: "*"
    };
  }

  // æ›´æ–°ç”¨æˆ·
  rpc Update (user.service.v1.UpdateUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      put: "/admin/v1/users/{data.id}" // ç»‘å®šHTTP PUTè¯·æ±‚
      body: "*"
    };
  }

  // åˆ é™¤ç”¨æˆ·
  rpc Delete (user.service.v1.DeleteUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/admin/v1/users/{id}" // ç»‘å®šHTTP DELETEè¯·æ±‚
    };
  }
}
</code></pre>
<h5 data-id="heading-13">4.2 ç”Ÿæˆ TS æ¥å£ä»£ç </h5>
<p>åœ¨åç«¯æœåŠ¡çš„ç›®å½•ä¸‹<code>backend\app\admin\service</code>ä¸‹æ‰§è¡ŒMakeå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make ts
</code></pre>
<p>æ‰§è¡ŒæˆåŠŸåï¼Œè¯¥å‘½ä»¤å°†ä¼šåœ¨<code>frontend\apps\admin\src\generated\api\admin\service\v1</code>ç›®å½•ä¸‹ç”Ÿæˆ<code>index.ts</code>æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«ï¼š</p>
<ul>
<li>æ‰€æœ‰æ¶ˆæ¯ç±»å‹çš„ TS æ¥å£ï¼ˆå¦‚<code>CreateUserRequest</code>ã€<code>User</code>...ï¼‰</li>
<li>è‡ªåŠ¨å°è£…çš„æœåŠ¡å®¢æˆ·ç«¯æ¥å£ï¼ˆ<code>createUserServiceClient</code>ï¼‰</li>
<li>å¯ç›´æ¥è°ƒç”¨çš„æ¥å£æ–¹æ³•ï¼ˆ<code>List</code>ã€<code>Get</code>ã€<code>Create</code>ã€<code>Update</code>...ï¼‰</li>
</ul>
<h5 data-id="heading-14">4.3 å‰ç«¯é¡¹ç›®ä¸­ä½¿ç”¨ç”Ÿæˆçš„æ¥å£</h5>
<p>TSä»£ç ç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç ï¼Œæœ¬èº«ä¸æä¾›è¯·æ±‚çš„å®ç°ï¼Œéœ€è¦è‡ªå·±å»å®ç°<code>RequestHandler</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// frontend/apps/admin/src/utils/request.ts</span>

<span class="hljs-comment">/**
 * é€šç”¨è¯·æ±‚å¤„ç†å™¨
 * <span class="hljs-doctag">@param</span> path è®¿é—®è·¯å¾„
 * <span class="hljs-doctag">@param</span> method æ–¹æ³•
 * <span class="hljs-doctag">@param</span> body è®¿é—®å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">requestClientRequestHandler</span>(<span class="hljs-params">{ path, method, body }: Request</span>) {
  <span class="hljs-keyword">return</span> requestClient.<span class="hljs-title function_">request</span>(path, {
    method,
    <span class="hljs-attr">data</span>: body,
  } <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>);
}
</code></pre>
<p>ç„¶åå°±å¯ä»¥å¼€å§‹åœ¨å‰ç«¯ç»„ä»¶ä¸­å¼€å§‹è°ƒç”¨æ¥å£äº†ï¼Œåœ¨<code>go-kratos-admin</code>å½“ä¸­ï¼Œæ‰€æœ‰çš„æ¥å£è°ƒç”¨éƒ½æ”¾åœ¨äº†piniaçš„çŠ¶æ€ç®¡ç†å½“ä¸­ï¼Œæˆ‘ä»¬ä»¥ç”¨æˆ·æœåŠ¡ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// frontend/apps/admin/src/stores/user.state.ts</span>

<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>;

<span class="hljs-keyword">import</span> { requestClientRequestHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">'#/utils/request'</span>;

<span class="hljs-keyword">import</span> { createUserServiceClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'#/generated/api/admin/service/v1'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> service = <span class="hljs-title function_">createUserServiceClient</span>(requestClientRequestHandler);

  <span class="hljs-comment">/**
   * æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">listUser</span>(<span class="hljs-params">
    noPaging: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>,
    page?: <span class="hljs-literal">null</span> | <span class="hljs-built_in">number</span>,
    pageSize?: <span class="hljs-literal">null</span> | <span class="hljs-built_in">number</span>,
    formValues?: <span class="hljs-literal">null</span> | <span class="hljs-built_in">object</span>,
    fieldMask?: <span class="hljs-literal">null</span> | <span class="hljs-built_in">string</span>,
    orderBy?: <span class="hljs-literal">null</span> | <span class="hljs-built_in">string</span>[],
  </span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> service.<span class="hljs-title class_">List</span>({
      <span class="hljs-comment">// @ts-ignore proto generated code is error.</span>
      fieldMask,
      <span class="hljs-attr">orderBy</span>: orderBy ?? [],
      <span class="hljs-attr">query</span>: <span class="hljs-title function_">makeQueryString</span>(formValues ?? <span class="hljs-literal">null</span>),
      page,
      pageSize,
      noPaging,
    });
  }

  <span class="hljs-comment">/**
   * è·å–ç”¨æˆ·
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUser</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> service.<span class="hljs-title class_">Get</span>({ id });
  }

  <span class="hljs-comment">/**
   * åˆ›å»ºç”¨æˆ·
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params">values: <span class="hljs-built_in">object</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> service.<span class="hljs-title class_">Create</span>({
      <span class="hljs-comment">// @ts-ignore proto generated code is error.</span>
      <span class="hljs-attr">data</span>: {
        ...values,
      },
      <span class="hljs-comment">// @ts-ignore proto generated code is error.</span>
      <span class="hljs-attr">password</span>: values.<span class="hljs-property">password</span> ?? <span class="hljs-literal">null</span>,
    });
  }

  <span class="hljs-comment">/**
   * æ›´æ–°ç”¨æˆ·
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateUser</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span>, values: <span class="hljs-built_in">object</span></span>) {
    <span class="hljs-keyword">const</span> updateMask = <span class="hljs-title function_">makeUpdateMask</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(values ?? []));
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> service.<span class="hljs-title class_">Update</span>({
      <span class="hljs-comment">// @ts-ignore proto generated code is error.</span>
      <span class="hljs-attr">data</span>: {
        id,
        ...values,
      },
      <span class="hljs-comment">// @ts-ignore proto generated code is error.</span>
      <span class="hljs-attr">password</span>: values.<span class="hljs-property">password</span> ?? <span class="hljs-literal">null</span>,
      <span class="hljs-comment">// @ts-ignore proto generated code is error.</span>
      updateMask,
    });
  }

  <span class="hljs-comment">/**
   * åˆ é™¤ç”¨æˆ·
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteUser</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> service.<span class="hljs-title class_">Delete</span>({ id });
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">$reset</span>(<span class="hljs-params"/>) {}

  <span class="hljs-keyword">return</span> {
    $reset,
    listUser,
    getUser,
    createUser,
    updateUser,
    deleteUser,
  };
});
</code></pre>
<p>æœ€åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å‰ç«¯ç•Œé¢ç»„ä»¶å½“ä¸­è°ƒç”¨çŠ¶æ€ç®¡ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'#/stores'</span>;

<span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>();

<span class="hljs-comment">// æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼ˆç›´æ¥è°ƒç”¨ç”Ÿæˆçš„æ–¹æ³•ï¼Œè‡ªåŠ¨å¸¦ç±»å‹æç¤ºï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchUserList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> userStore.<span class="hljs-title class_">List</span>({
    <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">pageSize</span>: <span class="hljs-number">20</span>, <span class="hljs-comment">// ç±»å‹æç¤ºè‡ªåŠ¨è¡¥å…¨ï¼Œé”™è¯¯ç±»å‹ä¼šæŠ¥é”™</span>
  });
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç”¨æˆ·åˆ—è¡¨ï¼š'</span>, res.<span class="hljs-property">items</span>);
};

<span class="hljs-comment">// é¡µé¢åŠ è½½æ—¶è°ƒç”¨</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetchUserList</span>();
});
</code></pre>
<p>æ­¤æ—¶ä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li>è¾“å…¥å‚æ•°æ—¶ï¼ŒVS Code ä¼šè‡ªåŠ¨æç¤ºå¯é€‰å­—æ®µï¼ˆå¦‚ pageã€pageSizeï¼‰</li>
<li>ç±»å‹é”™è¯¯æ—¶ï¼ˆå¦‚ä¼ å…¥å­—ç¬¦ä¸² "20" è€Œéæ•°å­— 20ï¼‰ï¼ŒTS ä¼šç›´æ¥æŠ¥é”™</li>
<li>å“åº”ç»“æœè‡ªåŠ¨å¸¦æœ‰ç±»å‹å®šä¹‰ï¼Œä¸ç”¨æ‰‹åŠ¨å£°æ˜æ¥å£è¿”å›æ ¼å¼</li>
</ul>
<h3 data-id="heading-15">å››ã€æ ¸å¿ƒä¼˜åŠ¿ï¼šä¸ºä»€ä¹ˆæ¨èåˆå­¦è€…ç”¨è¿™å¥—ç»„åˆï¼Ÿ</h3>
<ol>
<li><strong>é™ä½å…¥é—¨é—¨æ§›</strong>ï¼š<code>go-kratos-admin</code> æä¾›ç°æˆçš„ Admin ç³»ç»Ÿéª¨æ¶ï¼Œä¸ç”¨ä»é›¶å­¦å¾®æœåŠ¡ã€æƒé™è®¾è®¡ã€å‰ç«¯å¸ƒå±€ï¼Œæ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿå‡ºæ´»</li>
<li><strong>æå‡å¼€å‘æ•ˆç‡</strong>ï¼š<code>protoc-gen-typescript-http</code> è‡ªåŠ¨ç”Ÿæˆæ¥å£ä»£ç ï¼Œå‰åç«¯åªéœ€ç»´æŠ¤ Protobuf åè®®ï¼Œä¸ç”¨æ‰‹åŠ¨å†™è¯·æ±‚ã€ä¸ç”¨åå¤è”è°ƒæ¥å£å‚æ•°</li>
<li><strong>ç±»å‹å®‰å…¨ä¿éšœ</strong>ï¼šTS ç±»å‹ä¸åç«¯ Protobuf å®Œå…¨å¯¹é½ï¼Œé¿å…ç”Ÿäº§ç¯å¢ƒå› ç±»å‹ä¸åŒ¹é…å¯¼è‡´çš„ bug</li>
<li><strong>å¯æ‰©å±•æ€§å¼º</strong>ï¼šåç»­æ–°å¢æ¥å£æ—¶ï¼Œåªéœ€ä¿®æ”¹ Protobuf æ–‡ä»¶ï¼Œé‡æ–°æ‰§è¡Œç”Ÿæˆå‘½ä»¤ï¼Œå‰ç«¯ç›´æ¥è°ƒç”¨æ–°æ–¹æ³•ï¼Œè¿­ä»£é€Ÿåº¦æå¿«</li>
<li><strong>ä¼ä¸šçº§ç‰¹æ€§å†…ç½®</strong>ï¼šgo-kratos-admin è‡ªå¸¦å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€ä»»åŠ¡è°ƒåº¦ç­‰ä¼ä¸šçº§åŠŸèƒ½ï¼Œåç»­é¡¹ç›®å‡çº§ä¸ç”¨é‡æ„æ¶æ„</li>
</ol>
<h3 data-id="heading-16">äº”ã€å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-17">1. ç”Ÿæˆ TS ä»£ç æ—¶æç¤º "google/api/annotations.proto not found"ï¼š</h4>
<p>è§£å†³æ–¹æ¡ˆï¼šè¿›å…¥<code>backend\api</code>ï¼Œæ‰§è¡Œ<code>buf dep update</code>å‘½ä»¤ã€‚</p>
<h4 data-id="heading-18">2. IDEä¸­æç¤ºæ‰¾ä¸åˆ° "google/api/annotations.proto"ï¼š</h4>
<p>è§£å†³æ–¹æ¡ˆï¼šå®‰è£…IDEçš„<code>Buf</code>æ’ä»¶å³å¯ã€‚</p>
<h4 data-id="heading-19">2. å‰ç«¯è°ƒç”¨æ¥å£æç¤º 401 æœªæˆæƒï¼š</h4>
<p>è§£å†³æ–¹æ¡ˆï¼šç™»å½•åï¼Œä» <code>localStorage</code> è·å– tokenï¼Œåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ <code>Authorization</code> å­—æ®µ</p>
<h4 data-id="heading-20">3. Protobuf æ–‡ä»¶ä¿®æ”¹åï¼ŒTS ä»£ç ä¸æ›´æ–°ï¼š</h4>
<p>è§£å†³æ–¹æ¡ˆï¼šé‡æ–°æ‰§è¡Œ <code>make ts</code> ç”Ÿæˆå‘½ä»¤ï¼Œè¦†ç›–æ—§çš„ TS æ–‡ä»¶å³å¯</p>
<h4 data-id="heading-21">4. Docker å¯åŠ¨å¤±è´¥ï¼š</h4>
<p>è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ Docker æ˜¯å¦æ­£åœ¨è¿è¡Œï¼ˆ<code>sudo systemctl start docker</code>ï¼‰ï¼Œç¡®ä¿ç«¯å£ 8080ã€7788ã€5666 æœªè¢«å ç”¨</p>
<h3 data-id="heading-22">å…­ã€æ€»ç»“ä¸ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®</h3>
<p>é€šè¿‡ go-kratos-admin + protoc-gen-typescript-http çš„ç»„åˆï¼Œæˆ‘ä»¬ç”¨æœ€å°‘çš„ä»£ç æ­å»ºäº†ä¸€ä¸ªå¸¦æœ‰ç”¨æˆ·ç®¡ç†åŠŸèƒ½ã€ç±»å‹å®‰å…¨çš„ Admin ç³»ç»Ÿã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œè¿™å¥—ç»„åˆçš„æ ¸å¿ƒä»·å€¼æ˜¯ "é¿å¼€é‡å¤åŠ³åŠ¨ï¼Œä¸“æ³¨æ ¸å¿ƒä¸šåŠ¡"ã€‚</p>
<p>ä¸‹ä¸€æ­¥å¯ä»¥å°è¯•ï¼š</p>
<p>æ–°å¢ä¸€ä¸ª "äº§å“ç®¡ç†" æ¥å£ï¼šåœ¨ <code>backend/api/protos</code> ä¸‹åˆ›å»º proto æ–‡ä»¶ï¼Œå®šä¹‰ CRUD æ¥å£ï¼Œç”Ÿæˆ TS ä»£ç å¹¶åœ¨å‰ç«¯è°ƒç”¨
è‡ªå®šä¹‰ç§Ÿæˆ·å¥—é¤ï¼šåˆ©ç”¨ <code>go-kratos-admin</code> çš„ç§Ÿæˆ·ç®¡ç†åŠŸèƒ½ï¼Œé…ç½®ä¸åŒçš„æƒé™å¥—é¤
éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼šé€šè¿‡<code>make docker</code>æ„å»ºé•œåƒï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆæ”¯æŒ Docker Compose ä¸€é”®éƒ¨ç½²ï¼‰</p>
<p>å¦‚æœä½ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒï¼š</p>
<ul>
<li><code>go-kratos-admin</code> å®˜æ–¹æ–‡æ¡£ï¼šé¡¹ç›®æ ¹ç›®å½•çš„ <code>README.md</code>ï¼ˆæ”¯æŒä¸­ã€è‹±ã€æ—¥ä¸‰ç§è¯­è¨€ï¼‰</li>
<li><code>protoc-gen-typescript-http</code> ç¤ºä¾‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgo-kratos%2Fprotoc-gen-typescript-http%2Ftree%2Fmain%2Fexamples" target="_blank" title="https://github.com/go-kratos/protoc-gen-typescript-http/tree/main/examples" ref="nofollow noopener noreferrer">github.com/go-kratos/pâ€¦</a></li>
<li>ç¤¾åŒºæ”¯æŒï¼šæ·»åŠ å¾®ä¿¡<code>yang_lin_bo</code>ï¼ˆå¤‡æ³¨ <code>go-kratos-admin</code>ï¼‰ï¼ŒåŠ å…¥äº¤æµç¾¤</li>
</ul>
<p>è¿™å¥—ç»„åˆä¸ä»…é€‚åˆåˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹ä¼ä¸šçº§é¡¹ç›®ï¼Œä¹Ÿæ˜¯å¾ˆå¤šä¸­å°å‹å…¬å¸çš„ç”Ÿäº§ç¯å¢ƒé€‰æ‹©ã€‚èµ¶ç´§åŠ¨æ‰‹è¯•è¯•ï¼Œä½“éªŒ "åè®®é©±åŠ¨å¼€å‘" å¸¦æ¥çš„æ•ˆç‡æå‡å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Claudeåˆ¶ä½œä¸“å±PPTç”Ÿæˆå™¨-ä»æ¨¡æ¿å­¦ä¹ åˆ°è‡ªåŠ¨ç”Ÿæˆå…¨æµç¨‹å®æˆ˜]]></title>    <link>https://juejin.cn/post/7580198093154123822</link>    <guid>https://juejin.cn/post/7580198093154123822</guid>    <pubDate>2025-12-05T13:10:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093154123822" data-draft-id="7580180556983599154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Claudeåˆ¶ä½œä¸“å±PPTç”Ÿæˆå™¨-ä»æ¨¡æ¿å­¦ä¹ åˆ°è‡ªåŠ¨ç”Ÿæˆå…¨æµç¨‹å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T13:10:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wwwzhouhui"/> <meta itemprop="url" content="https://juejin.cn/user/3428746411400537"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Claudeåˆ¶ä½œä¸“å±PPTç”Ÿæˆå™¨-ä»æ¨¡æ¿å­¦ä¹ åˆ°è‡ªåŠ¨ç”Ÿæˆå…¨æµç¨‹å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3428746411400537/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wwwzhouhui
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T13:10:29.000Z" title="Fri Dec 05 2025 13:10:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œåˆ¶ä½œPPTä¸€ç›´æ˜¯è®©å¾ˆå¤šå°ä¼™ä¼´å¤´ç–¼çš„äº‹æƒ…ã€‚ç‰¹åˆ«æ˜¯å¹´åº•äº†ï¼Œå„ç§å·¥ä½œæ€»ç»“ã€é¡¹ç›®æ±‡æŠ¥ã€è¿°èŒæŠ¥å‘Šæ¥è¸µè€Œæ¥ï¼Œæ¯æ¬¡éƒ½è¦èŠ±è´¹å¤§é‡æ—¶é—´åœ¨è°ƒæ•´æ’ç‰ˆã€ä¼˜åŒ–è®¾è®¡ã€å¡«å……å†…å®¹ä¸Šã€‚æ›´è®©äººæŠ“ç‹‚çš„æ˜¯ï¼Œå³ä½¿èŠ±äº†å‡ ä¸ªå°æ—¶ï¼Œåšå‡ºæ¥çš„PPTè¿˜æ˜¯åƒç¯‡ä¸€å¾‹ï¼Œç¼ºå°‘äº®ç‚¹ã€‚å¦‚æœèƒ½æœ‰ä¸€ä¸ªå·¥å…·ï¼Œæ—¢èƒ½å­¦ä¹ æˆ‘ä»¬å·²æœ‰çš„PPTæ¨¡æ¿é£æ ¼ï¼Œåˆèƒ½æ ¹æ®å†…å®¹è‡ªåŠ¨ç”Ÿæˆç¬¦åˆè¿™ç§é£æ ¼çš„æ–°PPTï¼Œé‚£è¯¥å¤šå¥½å•Šï¼</p>
<p>ä»Šå¤©è¦ç»™å¤§å®¶ä»‹ç»çš„è¿™ä¸ªå¼€æºé¡¹ç›® ppt-generator-skill å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªç—›ç‚¹è€Œè¯ç”Ÿçš„ã€‚è¿™ä¸ªé¡¹ç›®æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¯ä»¥"å­¦ä¹ "ä½ ç°æœ‰çš„PPTæ¨¡æ¿ï¼Œæå–é…è‰²æ–¹æ¡ˆã€å¸ƒå±€é£æ ¼ã€å­—ä½“è§„èŒƒç­‰ç‰¹å¾ï¼Œç„¶åç”Ÿæˆç¬¦åˆä½ é£æ ¼çš„æ–°PPTã€‚é…åˆ Skill_Seekers å·¥å…·å’Œ Claude Codeï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•´ä¸ªæµç¨‹æ‰“é€ æˆä¸€ä¸ªå¯å¤ç”¨çš„SkillsæŠ€èƒ½åŒ…ï¼Œä»¥ååªéœ€è¦ä¸€å¥æç¤ºè¯ï¼Œå°±èƒ½è‡ªåŠ¨ç”Ÿæˆ25é¡µæ ‡å‡†ç»“æ„çš„ä¸“ä¸šPPTï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dbd1bf337f041d7a3ff5093b3f3b3cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=u5NKElrihHasGyGtJSj9mcBsFmo%3D" alt="PPTç¤ºä¾‹" loading="lazy"/></p>
<p>ppt-generator-skill é€šè¿‡æ™ºèƒ½åˆ†æç°æœ‰PPTæ¨¡æ¿ï¼Œè‡ªåŠ¨æå–è®¾è®¡è§„èŒƒå¹¶ç”Ÿæˆç¬¦åˆæ ‡å‡†çš„æ–°æ¼”ç¤ºæ–‡ç¨¿ï¼Œå®ç°äº†ä»"é‡å¤åŠ³åŠ¨"åˆ°"æ™ºèƒ½åˆ›ä½œ"çš„è·¨è¶Šã€‚è¿™2å¤©è¿™ä¸ªé¡¹ç›®éå¸¸ç«çˆ†ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶å¦‚ä½•åˆ¶ä½œå’Œä½¿ç”¨è¿™ä¸ªPPTç”Ÿæˆå™¨Skillsï¼Œä½“éªŒå’Œæ„Ÿå—ä¸€ä¸‹AIè¾…åŠ©åŠå…¬çš„å¼ºå¤§èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-1">âœ¨ é¡¹ç›®ä»‹ç»</h2>
<h3 data-id="heading-2">æ ¸å¿ƒç‰¹æ€§</h3>
<p>ppt-generator-skill æ˜¯ä¸€ä¸ªåŸºäº Python çš„ PPT è‡ªåŠ¨ç”Ÿæˆå·¥å…·ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li><strong>ğŸ¨ æ™ºèƒ½æ¨¡æ¿å­¦ä¹ </strong>ï¼šé€šè¿‡åˆ†æç°æœ‰PPTï¼Œè‡ªåŠ¨æå–é…è‰²æ–¹æ¡ˆã€å¸ƒå±€é£æ ¼ã€å­—ä½“è§„èŒƒ</li>
<li><strong>ğŸ“‹ æ ‡å‡†åŒ–ç»“æ„</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆ25é¡µæ ‡å‡†å•†åŠ¡æ¼”ç¤ºç»“æ„ï¼ˆå°é¢ã€ç›®å½•ã€4ç« èŠ‚ã€ç»“å°¾é¡µç­‰ï¼‰</li>
<li><strong>ğŸ¯ å¤šä¸»é¢˜æ”¯æŒ</strong>ï¼šå†…ç½®å•†åŠ¡ç®€çº¦ã€æš–è‰²è°ƒã€è«å…°è¿ªè‰²ç³»ä¸‰ç§ä¸»é¢˜é£æ ¼</li>
<li><strong>âš™ï¸ çµæ´»é…ç½®</strong>ï¼šæ”¯æŒJSONé…ç½®æ–‡ä»¶ï¼Œå¯å¿«é€Ÿè°ƒæ•´å†…å®¹å’Œæ ·å¼</li>
<li><strong>ğŸ¤– Claudeé›†æˆ</strong>ï¼šå¯ä½œä¸ºClaude Codeçš„Skillsä½¿ç”¨ï¼Œå®ç°AIé©±åŠ¨çš„PPTç”Ÿæˆ</li>
<li><strong>ğŸ”„ å¯å¤ç”¨æ€§å¼º</strong>ï¼šä¸€æ¬¡åˆ¶ä½œï¼Œç»ˆèº«ä½¿ç”¨ï¼Œæ‰€æœ‰åŒç±»å‹PPTéƒ½èƒ½å¿«é€Ÿç”Ÿæˆ</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91ed0ab9f66d4010a0cbf796b04d6f75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=%2BQiTRZgXdrCeUGHj0i1A9rZaCe8%3D" alt="image-20251205175612387" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa0e8ff776454d6bb68d4d4af10b7694~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=gDDeWRqW7VsswIRxc8w5xNjRrLc%3D" alt="image-20251205175629632" loading="lazy"/></p>
<h3 data-id="heading-3">ğŸ› ï¸ æŠ€æœ¯æ ˆ</h3>
<h4 data-id="heading-4">æ ¸å¿ƒæŠ€æœ¯</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e30506307614cf18044954f3c91e163~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=7CVWvyBk9lCRUPhYe0Wkv%2B2J0Vg%3D" alt="image-20251205175904368" loading="lazy"/></p>
<h4 data-id="heading-5">æ ‡å‡†åŒ–ç»“æ„è®¾è®¡</h4>
<p>é¡¹ç›®é‡‡ç”¨å›ºå®šçš„25é¡µæ ‡å‡†ç»“æ„ï¼Œç¡®ä¿æ¼”ç¤ºçš„å®Œæ•´æ€§å’Œè§„èŒƒæ€§ï¼š</p>
<ul>
<li>ç¬¬1é¡µï¼šå°é¢ï¼ˆæ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€å¹´ä»½ï¼‰</li>
<li>ç¬¬2é¡µï¼šç›®å½•é¡µ</li>
<li>ç¬¬3-7é¡µï¼šç¬¬ä¸€ç« èŠ‚ï¼ˆ1é¡µè¿‡æ¸¡+4é¡µå†…å®¹ï¼‰</li>
<li>ç¬¬8-12é¡µï¼šç¬¬äºŒç« èŠ‚ï¼ˆ1é¡µè¿‡æ¸¡+4é¡µå†…å®¹ï¼‰</li>
<li>ç¬¬13-17é¡µï¼šç¬¬ä¸‰ç« èŠ‚ï¼ˆ1é¡µè¿‡æ¸¡+4é¡µå†…å®¹ï¼‰</li>
<li>ç¬¬18-22é¡µï¼šç¬¬å››ç« èŠ‚ï¼ˆ1é¡µè¿‡æ¸¡+4é¡µå†…å®¹ï¼‰</li>
<li>ç¬¬23é¡µï¼šç»“æŸé¡µ</li>
<li>ç¬¬24é¡µï¼šå­—ä½“è¯´æ˜</li>
<li>ç¬¬25é¡µï¼šç‰ˆæƒå£°æ˜</li>
</ul>
<h3 data-id="heading-6">ğŸ¯ åº”ç”¨åœºæ™¯</h3>
<ul>
<li><strong>å¹´åº¦å·¥ä½œæ€»ç»“</strong>: å¹´åº¦æ¦‚å†µ â†’ é‡ç‚¹é¡¹ç›® â†’ æ•°æ®æˆæœ â†’ æ˜å¹´è®¡åˆ’</li>
<li><strong>é¡¹ç›®æ±‡æŠ¥</strong>: é¡¹ç›®èƒŒæ™¯ â†’ å®æ–½æ–¹æ¡ˆ â†’ è¿›å±•æƒ…å†µ â†’ åç»­è®¡åˆ’</li>
<li><strong>äº§å“å‘å¸ƒ</strong>: å¸‚åœºåˆ†æ â†’ äº§å“åŠŸèƒ½ â†’ ç«äº‰ä¼˜åŠ¿ â†’ æ¨å¹¿è®¡åˆ’</li>
<li><strong>ä¸šåŠ¡å¤ç›˜</strong>: ä¸šåŠ¡å›é¡¾ â†’ é—®é¢˜åˆ†æ â†’ æ”¹è¿›æªæ–½ â†’ æœªæ¥å±•æœ›</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b353c65ea4b64a3bad98024eeb295d88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=EQ0wIAlEYIXanx3WT5FkRH%2BCLJM%3D" alt="image-20251205175717558" loading="lazy"/></p>
<h2 data-id="heading-7">ğŸš€ éƒ¨ç½²å®æˆ˜</h2>
<p>å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶å¦‚ä½•åˆ¶ä½œè¿™ä¸ªPPTç”Ÿæˆå™¨Skillsã€‚æ•´ä¸ªæµç¨‹åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼š<strong>åˆ¶ä½œSkills</strong>å’Œ<strong>éªŒè¯æµ‹è¯•</strong>ã€‚</p>
<h3 data-id="heading-8">ç¬¬ä¸€éƒ¨åˆ†ï¼šåˆ¶ä½œPPT Skills</h3>
<h4 data-id="heading-9">3.1 å‡†å¤‡PPTæ¨¡æ¿</h4>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å‡†å¤‡å‡ ä¸ªè‡ªå·±å–œæ¬¢çš„PPTæ¨¡æ¿ã€‚è¿™äº›æ¨¡æ¿å°†ä½œä¸º"å­¦ä¹ æ ·æœ¬"ï¼Œç³»ç»Ÿä¼šåˆ†æå®ƒä»¬çš„é…è‰²æ–¹æ¡ˆã€é¡µé¢å¸ƒå±€ã€å­—ä½“è§„èŒƒã€å†…å®¹ç»„ç»‡ç»“æ„ç­‰ç‰¹å¾ã€‚</p>
<p>æˆ‘è¿™é‡Œå‡†å¤‡äº†3ä¸ªä¸åŒé£æ ¼çš„PPTæ¨¡æ¿ï¼Œåˆ†åˆ«ä»£è¡¨äº†ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li><code>11.pptx</code>ï¼šå¹´ç»ˆæ€»ç»“é£æ ¼</li>
<li><code>22.pptx</code>ï¼šå·¥ä½œè¿°èŒé£æ ¼</li>
<li><code>33.pptx</code>ï¼šè«å…°è¿ªè‰²ç³»é£æ ¼</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/208147e1554a4267a8109c0710d284b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=ySIdHORxLlYP3Dc7KsflXHe0NkQ%3D" alt="å‡†å¤‡PPTæ¨¡æ¿" loading="lazy"/></p>
<p>ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œæˆ‘æŠŠè¿™3ä¸ªPPTæ–‡ä»¶é‡å‘½åä¸ºç®€å•çš„åå­—ï¼ˆ11.pptxã€22.pptxã€33.pptxï¼‰ï¼Œæ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3151ae3939434a1281ca597b0358c72d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=crin%2Bm5dceAiiCzw%2B3O2tySbmM4%3D" alt="é‡å‘½åPPTæ–‡ä»¶" loading="lazy"/></p>
<h4 data-id="heading-10">3.2 å®‰è£…Skill_Seekers</h4>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å®‰è£… Skill_Seekers å·¥å…·ã€‚è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„Skillsç”Ÿæˆæ¡†æ¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å°†PPTç”Ÿæˆèƒ½åŠ›å°è£…æˆå¯å¤ç”¨çš„Claude Skillsã€‚</p>
<p>Skill_Seekers çš„ GitHub åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyusufkaraaslan%2FSkill_Seekers" target="_blank" title="https://github.com/yusufkaraaslan/Skill_Seekers" ref="nofollow noopener noreferrer">github.com/yusufkaraasâ€¦</a></p>
<p>åœ¨shellçª—å£ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">pip install skill-seekers
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c564564921842bdb3ce422c3e0927e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=H9%2BIhMhl7KpgfZE5tWqgv0bXa%2Fw%3D" alt="å®‰è£…Skill_Seekers" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬éªŒè¯ä¸€ä¸‹æ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">skill-seekers --version
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21bbcf3c4d92491dad8a930b1fe6bc64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=eGnF3TsLLJNRQHq2NrIoberkb%2Fw%3D" alt="éªŒè¯å®‰è£…" loading="lazy"/></p>
<p>çœ‹åˆ°ç‰ˆæœ¬ä¿¡æ¯å°±è¯´æ˜å®‰è£…æˆåŠŸäº†ï¼Œå¯ä»¥è¿›å…¥ä¸‹ä¸€æ­¥äº†ã€‚</p>
<h4 data-id="heading-11">3.3 ä½¿ç”¨Skill_Seekersç”ŸæˆPPT Skills</h4>
<p>ç°åœ¨è¿›å…¥ Claude Code è¿è¡Œç¯å¢ƒï¼Œè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬è¦è®©AIè‡ªåŠ¨åˆ†æPPTæ¨¡æ¿ï¼Œå¹¶ç”ŸæˆSkillsæŠ€èƒ½åŒ…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f043bd689404e098b28d51b205adc7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=NDrS1sx1btT30MmaXmRP4gm6Rgc%3D" alt="è¿›å…¥Claude Code" loading="lazy"/></p>
<p>åœ¨Claude Codeä¸­è¾“å…¥ä»¥ä¸‹æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">è¯·è®¤çœŸé˜…è¯»<span class="hljs-string">"11.pptxã€22.pptxã€33.pptx"</span> è¿™<span class="hljs-number">3</span>ä¸ªpptXç›¸å…³å†…å®¹å’ŒPPTç›®å½•ç»“æ„å’ŒPPTé£æ ¼ï¼Œ
æ¥ä¸‹æ¥è¯·ä½¿ç”¨skill-seekers è¿™ä¸ªskillsæŠ€èƒ½æŠŠç”Ÿæˆä¸€ä¸ªåŸºäºä¸Šè¿°å‡ ä¸ªPPTæ¨¡ç‰ˆç‰¹ç‚¹çš„PPT skillsæŠ€èƒ½ã€‚
ä¹‹åæˆ‘ä»¬å†™å…¶ä»–ææ–™è°ƒç”¨è¿™ä¸ªskillså°±å¯ä»¥å®ç°ç”Ÿæˆç¬¦åˆè¿™ä¸ªç‰¹ç‚¹çš„PPTäº†ã€‚
è¯·åŸºäºä¸Šé¢è¦æ±‚åˆ¶ä½œskillså¹¶ç”Ÿæˆè¾“å‡ºå½“å‰æ–‡ä»¶å¤¹ç›®å½•
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4096ae6c33ce42c3861eaeda5b5ea201~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=GCItonIolFSoIEO5egtOwtl0UG0%3D" alt="è¾“å…¥æç¤ºè¯" loading="lazy"/></p>
<p>æ‰§è¡Œè¿™ä¸ªæç¤ºè¯åï¼ŒClaudeä¼šå¼€å§‹å·¥ä½œï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸æ™ºèƒ½ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acd2fd98f85c4edcac128b485aa3cc7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=76QkwKoq24SxJCsDYfBxGibDMIg%3D" alt="AIå¼€å§‹å·¥ä½œ" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šAIè‡ªåŠ¨ç¼–å†™åˆ†æè„šæœ¬</strong></p>
<p>Claudeé¦–å…ˆä¼šç¼–å†™ä¸€ä¸ª <code>analyze_ppt.py</code> è„šæœ¬æ¥åˆ†æPPTæ¨¡æ¿çš„ç‰¹å¾ã€‚è¿™ä¸ªè„šæœ¬ä¼šï¼š</p>
<ul>
<li>è¯»å–æ¯ä¸ªPPTæ–‡ä»¶çš„ç»“æ„</li>
<li>æå–é…è‰²æ–¹æ¡ˆ</li>
<li>åˆ†æå¸ƒå±€æ¨¡å¼</li>
<li>è¯†åˆ«å­—ä½“ä½¿ç”¨è§„èŒƒ</li>
<li>ç»Ÿè®¡é¡µé¢ç±»å‹å’Œå…ƒç´ åˆ†å¸ƒ</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfccfd4fc48848c2a9cb8e9f8d8215bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=uQxi1ucL4UWO6d1HxK2cCpej35I%3D" alt="AIç¼–å†™åˆ†æè„šæœ¬" loading="lazy"/></p>
<p><strong>ç¬¬äºŒæ­¥ï¼šç”ŸæˆSkillsç›®å½•ç»“æ„</strong></p>
<p>åˆ†æå®Œæˆåï¼ŒClaudeä¼šæ ¹æ®æå–çš„ç‰¹å¾ç”Ÿæˆå®Œæ•´çš„Skillsç›®å½•ç»“æ„ã€‚åˆæ­¥ç”Ÿæˆçš„ç›®å½•å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19513861e34d4fa2a2d07cd3c2719373~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=OlegxlfqzUOOlbC4QeOcbHUyEq4%3D" alt="image-20251205175757354" loading="lazy"/></p>
<p>æ•´ä¸ªSkillsåŒ…åŒ…å«ä»¥ä¸‹æ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ppt-generator-skill/
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ skills/
â”‚       â””â”€â”€ ppt-generator.md      <span class="hljs-comment"># Claude Skillså®šä¹‰æ–‡ä»¶</span>
â”œâ”€â”€ 11.pptx                        <span class="hljs-comment"># å‚è€ƒæ¨¡æ¿1</span>
â”œâ”€â”€ 22.pptx                        <span class="hljs-comment"># å‚è€ƒæ¨¡æ¿2</span>
â”œâ”€â”€ 33.pptx                        <span class="hljs-comment"># å‚è€ƒæ¨¡æ¿3</span>
â”œâ”€â”€ analyze_ppt.py                 <span class="hljs-comment"># PPTåˆ†æå·¥å…·</span>
â”œâ”€â”€ ppt_generator.py               <span class="hljs-comment"># æ ¸å¿ƒç”Ÿæˆå™¨</span>
â”œâ”€â”€ config_template.json           <span class="hljs-comment"># é…ç½®æ¨¡æ¿</span>
â”œâ”€â”€ INSTALL.md                     <span class="hljs-comment"># å®‰è£…è¯´æ˜</span>
â””â”€â”€ README.md                      <span class="hljs-comment"># é¡¹ç›®æ–‡æ¡£</span>
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆæ ¸å¿ƒä»£ç </strong></p>
<p>Claudeä¼šè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ <code>ppt_generator.py</code> æ ¸å¿ƒç”Ÿæˆå™¨ä»£ç ï¼ŒåŒ…å«ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pptx <span class="hljs-keyword">import</span> Presentation
<span class="hljs-keyword">from</span> pptx.util <span class="hljs-keyword">import</span> Inches, Pt
<span class="hljs-keyword">from</span> pptx.enum.text <span class="hljs-keyword">import</span> PP_ALIGN
<span class="hljs-keyword">from</span> pptx.dml.color <span class="hljs-keyword">import</span> RGBColor

<span class="hljs-keyword">class</span> <span class="hljs-title class_">PPTGenerator</span>:
    <span class="hljs-string">"""PPTç”Ÿæˆå™¨æ ¸å¿ƒç±»"""</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, theme=<span class="hljs-string">"å•†åŠ¡ç®€çº¦"</span></span>):
        self.theme = theme
        self.prs = Presentation()
        self.setup_theme()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_theme</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è®¾ç½®ä¸»é¢˜é…è‰²æ–¹æ¡ˆ"""</span>
        self.color_schemes = {
            <span class="hljs-string">"å•†åŠ¡ç®€çº¦"</span>: {
                <span class="hljs-string">"primary"</span>: RGBColor(<span class="hljs-number">34</span>, <span class="hljs-number">87</span>, <span class="hljs-number">122</span>),
                <span class="hljs-string">"secondary"</span>: RGBColor(<span class="hljs-number">66</span>, <span class="hljs-number">135</span>, <span class="hljs-number">245</span>),
                <span class="hljs-string">"accent"</span>: RGBColor(<span class="hljs-number">245</span>, <span class="hljs-number">166</span>, <span class="hljs-number">35</span>),
                <span class="hljs-string">"text"</span>: RGBColor(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">51</span>),
                <span class="hljs-string">"light_bg"</span>: RGBColor(<span class="hljs-number">248</span>, <span class="hljs-number">249</span>, <span class="hljs-number">250</span>)
            },
            <span class="hljs-string">"æš–è‰²è°ƒ"</span>: {
                <span class="hljs-string">"primary"</span>: RGBColor(<span class="hljs-number">215</span>, <span class="hljs-number">80</span>, <span class="hljs-number">50</span>),
                <span class="hljs-string">"secondary"</span>: RGBColor(<span class="hljs-number">240</span>, <span class="hljs-number">130</span>, <span class="hljs-number">70</span>),
                <span class="hljs-string">"accent"</span>: RGBColor(<span class="hljs-number">250</span>, <span class="hljs-number">200</span>, <span class="hljs-number">80</span>),
                <span class="hljs-string">"text"</span>: RGBColor(<span class="hljs-number">60</span>, <span class="hljs-number">60</span>, <span class="hljs-number">60</span>),
                <span class="hljs-string">"light_bg"</span>: RGBColor(<span class="hljs-number">255</span>, <span class="hljs-number">248</span>, <span class="hljs-number">240</span>)
            },
            <span class="hljs-string">"è«å…°è¿ªè‰²ç³»"</span>: {
                <span class="hljs-string">"primary"</span>: RGBColor(<span class="hljs-number">140</span>, <span class="hljs-number">140</span>, <span class="hljs-number">150</span>),
                <span class="hljs-string">"secondary"</span>: RGBColor(<span class="hljs-number">180</span>, <span class="hljs-number">170</span>, <span class="hljs-number">165</span>),
                <span class="hljs-string">"accent"</span>: RGBColor(<span class="hljs-number">200</span>, <span class="hljs-number">180</span>, <span class="hljs-number">150</span>),
                <span class="hljs-string">"text"</span>: RGBColor(<span class="hljs-number">80</span>, <span class="hljs-number">80</span>, <span class="hljs-number">80</span>),
                <span class="hljs-string">"light_bg"</span>: RGBColor(<span class="hljs-number">245</span>, <span class="hljs-number">242</span>, <span class="hljs-number">240</span>)
            }
        }

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_cover_slide</span>(<span class="hljs-params">self, title, subtitle, year</span>):
        <span class="hljs-string">"""æ·»åŠ å°é¢é¡µ"""</span>
        <span class="hljs-comment"># å®ç°å°é¢é¡µç”Ÿæˆé€»è¾‘</span>
        <span class="hljs-keyword">pass</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_content_slide</span>(<span class="hljs-params">self, title, content_items</span>):
        <span class="hljs-string">"""æ·»åŠ å†…å®¹é¡µ"""</span>
        <span class="hljs-comment"># å®ç°å†…å®¹é¡µç”Ÿæˆé€»è¾‘</span>
        <span class="hljs-keyword">pass</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_full_ppt</span>(<span class="hljs-params">self, config</span>):
        <span class="hljs-string">"""æ ¹æ®é…ç½®ç”Ÿæˆå®Œæ•´PPT"""</span>
        <span class="hljs-comment"># å®ç°å®Œæ•´PPTç”Ÿæˆé€»è¾‘</span>
        <span class="hljs-keyword">pass</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/478223b41a5149f681151438546c1ff7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=g9dkiq5QwDngoV0i%2BjosZJEj3tE%3D" alt="ç”Ÿæˆå®Œæ•´Skills" loading="lazy"/></p>
<p>æ•´ä¸ªç”Ÿæˆè¿‡ç¨‹å¤§çº¦éœ€è¦3-5åˆ†é’Ÿï¼Œå®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚ç”Ÿæˆå®Œæˆåï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªå®Œæ•´çš„ppt-generator-skillæŠ€èƒ½åŒ…ï¼å‘µå‘µï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Ÿ</p>
<h3 data-id="heading-12">ç¬¬äºŒéƒ¨åˆ†ï¼šéªŒè¯åŠæµ‹è¯•</h3>
<h4 data-id="heading-13">3.4 å®‰è£…Skillsåˆ°Claudeç¯å¢ƒ</h4>
<p>ç°åœ¨æˆ‘ä»¬è¦æŠŠç”Ÿæˆçš„Skillså®‰è£…åˆ°Claude Codeçš„Skillsç›®å½•ä¸­ã€‚Claude Codeä¼šä» <code>~/.claude/skills/</code> ç›®å½•åŠ è½½æ‰€æœ‰çš„Skillsã€‚</p>
<p>è¾“å…¥ä»¥ä¸‹æç¤ºè¯è®©Claudeå¸®æˆ‘ä»¬å®‰è£…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">è¯·å¸®æˆ‘æŠŠppt-generator-skill.<span class="hljs-property">zip</span>è§£å‹å®‰è£…åˆ°~<span class="hljs-regexp">/.claude/</span>skills/
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b6b2135159c485fa28051ce996fdd78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=vD41Pl%2BZe5qZVGsf4UBfh3oqnR8%3D" alt="å®‰è£…Skills" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ <code>~/.claude/skills/</code> ç›®å½•ï¼Œç¡®è®¤Skillså·²ç»æ­£ç¡®å®‰è£…ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">ls -la ~/.claude/skills/
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9965bba330a4d8f96335aea3c46a059~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=5pn6%2BETGTZKUvquIBtbsAUn%2B9yc%3D" alt="æ£€æŸ¥å®‰è£…" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ppt-generator-skillå·²ç»å‡ºç°åœ¨Skillsç›®å½•ä¸­äº†ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼</p>
<h4 data-id="heading-14">3.5 å‡†å¤‡æµ‹è¯•å†…å®¹</h4>
<p>ä¸ºäº†æµ‹è¯•è¿™ä¸ªSkillsçš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€ä¸ªæµ‹è¯•ç”¨çš„å†…å®¹å¤§çº²ã€‚æˆ‘è¿™é‡Œç”¨è±†åŒ…AIç”Ÿæˆäº†ä¸€ä¸ª"2025å¹´åº¦è¿ç»´å·¥ä½œå¤ç›˜ä¸è§„åˆ’æ±‡æŠ¥"çš„PPTå¤§çº²ï¼Œæ€»å…±20é¡µå†…å®¹ã€‚</p>
<p>ä½¿ç”¨è±†åŒ…çš„æç¤ºè¯ï¼š</p>
<pre><code class="hljs">æˆ‘æ˜¯ä¸ªè¿ç»´å·¥ç¨‹å¸ˆï¼Œ2025å¹´é©¬ä¸Šå°±ç»“æŸäº†ï¼Œæˆ‘å¸Œæœ›å¯¹æˆ‘2025å¹´è¿ç»´å·¥ä½œåšä¸€ä¸ªç›˜ç‚¹ï¼Œ
è¯·å¸®æˆ‘å†™ä¸€ä¸ªPPTæ±‡æŠ¥2025å¹´çš„è¿ç»´å·¥ä½œå…ˆå†™ä¸€ä¸ªPPT å¤§çº² æ€»å…±20é¡µï¼Œ markdownæ ¼å¼æ–‡æ¡£è¾“å‡º
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f87cbbed18b84804abdfcc8920dc75c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=GdS5a2aH%2BLYt7QAOUjdka7b2e3o%3D" alt="è±†åŒ…ç”Ÿæˆå¤§çº²" loading="lazy"/></p>
<p>ç”Ÿæˆå®Œæˆåï¼ŒæŠŠè¿™ä¸ªmarkdownæ–‡æ¡£ä¸‹è½½ä¸‹æ¥ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b87c601d1aef4cfc9bf3fb2e4281b7a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=gv2cEyuwwhXfmsQ%2BDFRCk3ViNLs%3D" alt="ä¸‹è½½å¤§çº²" loading="lazy"/></p>
<p>ç„¶åä¸Šä¼ åˆ°æˆ‘ä»¬çš„å·¥ä½œç›®å½•ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/beaaacbe493c4de4a841c4f72c5cc21c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=QcRYgF2pmIj2z%2FpZFRlG2x4nhR8%3D" alt="ä¸Šä¼ å¤§çº²" loading="lazy"/></p>
<h4 data-id="heading-15">3.6 è°ƒç”¨Skillsç”ŸæˆPPT</h4>
<p>å¥½å®¶ä¼™ï¼Œæ‰€æœ‰å‡†å¤‡å·¥ä½œéƒ½å®Œæˆäº†ï¼ç°åœ¨æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»ã€‚æˆ‘ä»¬åªéœ€è¦ä¸€å¥ç®€å•çš„æç¤ºè¯ï¼Œå°±èƒ½è®©Skillsè‡ªåŠ¨ç”ŸæˆPPTï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">è¯·ä½¿ç”¨ppt-generator-skill æŠ€èƒ½å¸®æˆ‘æŠŠ<span class="hljs-string">"2025å¹´åº¦è¿ç»´å·¥ä½œå¤ç›˜ä¸è§„åˆ’æ±‡æŠ¥.md"</span>
åšæˆ<span class="hljs-number">2025</span>å¹´åº¦è¿ç»´å·¥ä½œå¤ç›˜ä¸è§„åˆ’æ±‡æŠ¥.pptxå¹¶è¾“å‡º
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42cb8ba1efc546fbba32ff33b38f39ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=JnBpartIbLm4qu%2Fem2OQQAifBEY%3D" alt="è°ƒç”¨Skills" loading="lazy"/></p>
<p>Claudeä¼šè‡ªåŠ¨è°ƒç”¨ppt-generator-skillï¼Œè¯»å–markdownå¤§çº²ï¼ŒæŒ‰ç…§æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„æ¨¡æ¿é£æ ¼è¿›è¡Œé¡µé¢è®¾è®¡ã€æ’ç‰ˆå’Œç¾åŒ–ã€‚æ•´ä¸ªè¿‡ç¨‹å¤§çº¦éœ€è¦3-5åˆ†é’Ÿï¼Œå®Œå…¨è‡ªåŠ¨åŒ–ï¼</p>
<h4 data-id="heading-16">3.7 æŸ¥çœ‹ç”Ÿæˆæ•ˆæœ</h4>
<p>ç”Ÿæˆå®Œæˆåï¼Œæˆ‘ä»¬æ‰“å¼€PPTæ–‡ä»¶çœ‹çœ‹æ•ˆæœã€‚å“‡ï¼ŒçœŸçš„ç”Ÿæˆå‡ºæ¥äº†ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/108e9cf913f446febd7fcc637011a338~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=duayCs%2BowsH83oKpIdwdOXdG%2BdY%3D" alt="æ‰“å¼€PPT" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„PPTç¡®å®æ˜¯æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„æ¨¡æ¿é£æ ¼æ¥è®¾è®¡çš„ï¼š</p>
<ul>
<li>é…è‰²æ–¹æ¡ˆä¿æŒä¸€è‡´</li>
<li>å¸ƒå±€è§„èŒƒç»Ÿä¸€</li>
<li>é¡µé¢ç»“æ„å®Œæ•´</li>
<li>25é¡µæ ‡å‡†ç»“æ„</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e43f390f19984b88ac25ade1a67939ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=GE6j6qQwRbTZNNEZiwaW9jeMOw4%3D" alt="æŸ¥çœ‹PPTæ•ˆæœ" loading="lazy"/></p>
<p>è™½ç„¶ç”Ÿæˆçš„PPTå¯èƒ½è¿˜éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚è¿›è¡Œå¾®è°ƒå’Œè¡¥å……ç»†èŠ‚ï¼Œä½†åŸºç¡€æ¡†æ¶å·²ç»éå¸¸å®Œå–„äº†ï¼Œå¤§å¤§èŠ‚çœäº†åˆ¶ä½œæ—¶é—´ã€‚é€šè¿‡å¯¹æ¯”æ¥çœ‹æ•ˆæœä¸é”™ï¼ŒåŸºæœ¬è¾¾åˆ°é¢„æœŸã€‚å‘µå‘µæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f907f8a11b56457e9d81aa4be8bf1097~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545029&amp;x-signature=jnLXazw7NmNin4qgAi2tuwwlCR4%3D" alt="æœ€ç»ˆæ•ˆæœ" loading="lazy"/></p>
<p>ä¸Šé¢è¿™ä¸ªæ¨¡æ¿æ¯”è¾ƒç®€å•ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦ä¿®æ”¹å’Œè¡¥å……è¿™ä¸ªSkillsï¼Œæ·»åŠ æ›´å¤šçš„é¡µé¢ç±»å‹ã€æ›´ä¸°å¯Œçš„å¸ƒå±€æ ·å¼ï¼Œæ‰“é€ å®Œå…¨å±äºè‡ªå·±çš„PPTç”Ÿæˆå™¨ï¼</p>
<h3 data-id="heading-17">è¿›é˜¶ä½¿ç”¨æ–¹å¼</h3>
<p>é™¤äº†é€šè¿‡Claude Codeè°ƒç”¨ï¼Œè¿™ä¸ªé¡¹ç›®è¿˜æä¾›äº†ä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼š</p>
<h4 data-id="heading-18">æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œç¤ºä¾‹</h4>
<pre><code class="hljs language-shell" lang="shell">python3 ppt_generator.py
</code></pre>
<p>ç›´æ¥ç”Ÿæˆå†…ç½®ç¤ºä¾‹"2025å¹´åº¦å·¥ä½œæ€»ç»“.pptx"ï¼Œå¿«é€Ÿäº†è§£é¡¹ç›®åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-19">æ–¹å¼äºŒï¼šJSONé…ç½®æ–‡ä»¶</h4>
<p>åˆ›å»ºè‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ <code>my_ppt_config.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¡¹ç›®æ±‡æŠ¥"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"subtitle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2025å¹´é‡ç‚¹é¡¹ç›®è¿›å±•è¯´æ˜"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"year"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2025"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"theme"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å•†åŠ¡ç®€çº¦"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"chapters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¡¹ç›®èƒŒæ™¯"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¡¹ç›®å‘èµ·èƒŒæ™¯å’Œæˆ˜ç•¥æ„ä¹‰..."</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"pages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¸‚åœºåˆ†æ"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¸‚åœºç°çŠ¶"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å½“å‰å¸‚åœºè§„æ¨¡è¾¾åˆ°500äº¿ï¼Œå¹´å¢é•¿ç‡25%"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨æˆ·éœ€æ±‚"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ ¸å¿ƒç”¨æˆ·ç¾¤ä½“å¯¹äº§å“çš„ä¸»è¦è¯‰æ±‚åˆ†æ"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶åè¿è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">python3 ppt_generator.py my_ppt_config.json
</code></pre>
<h4 data-id="heading-20">æ–¹å¼ä¸‰ï¼šä»£ç é›†æˆ</h4>
<p>åœ¨ä½ çš„Pythoné¡¹ç›®ä¸­ç›´æ¥è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ppt_generator <span class="hljs-keyword">import</span> PPTGenerator

<span class="hljs-comment"># åˆ›å»ºç”Ÿæˆå™¨å®ä¾‹</span>
generator = PPTGenerator(theme=<span class="hljs-string">"å•†åŠ¡ç®€çº¦"</span>)

<span class="hljs-comment"># é…ç½®PPTå†…å®¹</span>
config = {
    <span class="hljs-string">"title"</span>: <span class="hljs-string">"å¹´åº¦å·¥ä½œæ€»ç»“"</span>,
    <span class="hljs-string">"subtitle"</span>: <span class="hljs-string">"2025å¹´å·¥ä½œå›é¡¾ä¸å±•æœ›"</span>,
    <span class="hljs-string">"year"</span>: <span class="hljs-string">"2025"</span>,
    <span class="hljs-string">"chapters"</span>: [...]
}

<span class="hljs-comment"># ç”ŸæˆPPT</span>
generator.generate_full_ppt(config)
generator.save(<span class="hljs-string">"output.pptx"</span>)
</code></pre>
<p>è¿™ç§æ–¹å¼é€‚åˆé›†æˆåˆ°è‡ªåŠ¨åŒ–å·¥ä½œæµä¸­ï¼Œæ¯”å¦‚å®šæœŸç”ŸæˆæŠ¥è¡¨PPTã€æ‰¹é‡ç”Ÿæˆé¡¹ç›®æ±‡æŠ¥ç­‰åœºæ™¯ã€‚</p>
<h2 data-id="heading-21">æ€»ç»“</h2>
<p>ä»Šå¤©ä¸»è¦å¸¦å¤§å®¶äº†è§£å¹¶å®ç°äº† ppt-generator-skill å¼€æºé¡¹ç›®çš„å®Œæ•´åˆ¶ä½œå’Œä½¿ç”¨æµç¨‹ï¼Œè¯¥ PPTç”Ÿæˆå™¨ ä»¥"æ™ºèƒ½æ¨¡æ¿å­¦ä¹  + è‡ªåŠ¨åŒ–ç”Ÿæˆ"ä¸ºæ ¸å¿ƒä¼˜åŠ¿ï¼Œç»“åˆ Claude Code Skills æŠ€èƒ½æ¡†æ¶éœ€æ±‚ï¼Œé€šè¿‡ Skill_Seekers å·¥å…·ä¸ python-pptx åº“ï¼Œå½¢æˆäº†ä¸€å¥—ä»æ¨¡æ¿åˆ†æåˆ°æˆå“è¾“å‡ºçš„å…¨é“¾è·¯æ™ºèƒ½ç”Ÿæˆè§£å†³æ–¹æ¡ˆã€‚</p>
<p>é€šè¿‡è¿™å¥—å®è·µæ–¹æ¡ˆï¼Œå°ä¼™ä¼´ä»¬èƒ½å¤Ÿé«˜æ•ˆçªç ´ä¼ ç»ŸPPTåˆ¶ä½œçš„æ—¶é—´æˆæœ¬ç“¶é¢ˆ â€”â€” å€ŸåŠ©å‡†å¤‡3ä¸ªå‚è€ƒæ¨¡æ¿ã€å®‰è£…Skill_Seekerså·¥å…·ã€è°ƒç”¨Claudeç”ŸæˆSkillsã€å®‰è£…åˆ°Claudeç¯å¢ƒã€ä¸€å¥æç¤ºè¯ç”ŸæˆPPT è¿™äº”ä¸ªæ­¥éª¤ï¼Œæ— éœ€ç¹ççš„æ‰‹åŠ¨æ’ç‰ˆè°ƒæ•´ï¼Œå°±èƒ½å¿«é€Ÿå®Œæˆç¬¦åˆç‰¹å®šé£æ ¼æ ‡å‡†çš„ä¸“ä¸šæ¼”ç¤ºæ–‡ç¨¿ï¼ˆå¦‚æœ¬æ¬¡æ¼”ç¤ºçš„"2025å¹´åº¦è¿ç»´å·¥ä½œå¤ç›˜ä¸è§„åˆ’æ±‡æŠ¥"ï¼‰ã€‚æ— è®ºæ˜¯å¹´åº¦å·¥ä½œæ€»ç»“ã€é¡¹ç›®æ±‡æŠ¥ã€äº§å“å‘å¸ƒï¼Œè¿˜æ˜¯ä¸šåŠ¡å¤ç›˜ã€æŠ€æœ¯åˆ†äº«ã€åŸ¹è®­è¯¾ä»¶ã€å•†ä¸šè®¡åˆ’ï¼Œéƒ½èƒ½é€šè¿‡é…ç½®JSONæ–‡ä»¶æˆ–ç›´æ¥æç¤ºè¯å®Œæˆï¼Œæå¤§æå‡äº†åŠå…¬æ•ˆç‡å’Œå†…å®¹äº§å‡ºè´¨é‡ã€‚</p>
<p>å°ä¼™ä¼´ä»¬å¯ä»¥åŸºäºæ­¤æ‰©å±•æ›´å¤šåº”ç”¨åœºæ™¯ï¼Œå¦‚é”€å”®ææ¡ˆã€æŠ•èµ„è·¯æ¼”ã€æ•™å­¦è¯¾ä»¶ã€å­¦æœ¯æŠ¥å‘Šã€æ´»åŠ¨ç­–åˆ’ã€å“ç‰Œå®£ä¼  ç­‰ï¼Œè¿›ä¸€æ­¥å‘æŒ¥ è‡ªåŠ¨åŒ–åŠå…¬ åœ¨ ä¼ä¸šç®¡ç†ã€æ•™è‚²åŸ¹è®­ã€å¸‚åœºè¥é”€ ç­‰é¢†åŸŸçš„åº”ç”¨ä»·å€¼ã€‚æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æŒ‰ç…§æ–‡ä¸­æä¾›çš„æ­¥éª¤è¿›è¡Œå®è·µï¼Œæ ¹æ®å®é™… PPTé£æ ¼åå¥½ è°ƒæ•´ æ¨¡æ¿æ–‡ä»¶å’Œé…è‰²æ–¹æ¡ˆã€‚ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œç»“æŸäº†ï¼Œæˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« è§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é¦™æ¸¯ç«¹è„šæ‰‹æ¶åˆ°å‰ç«¯è„šæ‰‹æ¶ï¼šé‚£äº›"å€Ÿæ¥"çš„å‘å±•æ™ºæ…§ä¸å®‰å…¨è­¦ç¤º]]></title>    <link>https://juejin.cn/post/7580184249908920362</link>    <guid>https://juejin.cn/post/7580184249908920362</guid>    <pubDate>2025-12-05T13:51:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908920362" data-draft-id="7580208715274813482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é¦™æ¸¯ç«¹è„šæ‰‹æ¶åˆ°å‰ç«¯è„šæ‰‹æ¶ï¼šé‚£äº›&quot;å€Ÿæ¥&quot;çš„å‘å±•æ™ºæ…§ä¸å®‰å…¨è­¦ç¤º"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T13:51:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="houyhea"/> <meta itemprop="url" content="https://juejin.cn/user/3175045310189998"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é¦™æ¸¯ç«¹è„šæ‰‹æ¶åˆ°å‰ç«¯è„šæ‰‹æ¶ï¼šé‚£äº›"å€Ÿæ¥"çš„å‘å±•æ™ºæ…§ä¸å®‰å…¨è­¦ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3175045310189998/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    houyhea
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T13:51:19.000Z" title="Fri Dec 05 2025 13:51:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸæ–‡è¢«æˆ‘å‘åœ¨æˆ‘çš„å…¬ä¼—å·ä¸Šï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fq1jg039yASZybaYvM7hHjQ" target="_blank" title="https://mp.weixin.qq.com/s/q1jg039yASZybaYvM7hHjQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/q1jg039yAâ€¦</a></p>
<p>Â  è¿‘æœŸé¦™æ¸¯å¤§åŸ”åŒºå®ç¦è‹‘å¤§ç«çš„æµ“çƒŸå°šæœªå®Œå…¨æ¶ˆæ•£ï¼Œå¤–å¢™é‚£å±‚ç«¹åˆ¶è„šæ‰‹æ¶å†æ¬¡æˆä¸ºèˆ†è®ºç„¦ç‚¹â€”â€”è¿™ä¸ªä¼´éšé¦™æ¸¯ç™¾å¹´çš„å»ºç­‘è®¾æ–½ï¼Œåœ¨ç«åŠ¿ä¸­æ²¦ä¸º"åŠ©ç‡ƒæ¶"çš„æ‚²å‰§ï¼Œè®©"è„šæ‰‹æ¶"è¿™ä¸ªè¯åˆºç—›äº†å¤§ä¼—çš„ç¥ç»ã€‚è€Œä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘çœ‹åˆ°è¿™ä¸ªè¯çš„ç¬¬ä¸€ååº”å´æœ‰äº›"æ¡ä»¶åå°„"ï¼šè„‘æµ·é‡Œç«‹åˆ»æµ®ç°å‡ºvue createæˆ–create-react-appçš„å‘½ä»¤è¡Œç•Œé¢ã€‚è¿™ç§å¥‡å¦™çš„è”æƒ³ï¼Œæˆ–è®¸æ­£æ˜¯æŠ€æœ¯é¢†åŸŸå‘ä¼ ç»Ÿå­¦ç§‘å€Ÿé‰´çš„ç”ŸåŠ¨ç¼©å½±ã€‚</p>
<p>å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆçš„æ¡ä»¶åå°„å’Œ"æ— èŠ"ç©ç¬‘ã€‚</p>
<p>ä¸€ã€å‰ç«¯è„šæ‰‹æ¶ï¼šä¸æ˜¯å·¥åœ°æ¶å­ï¼Œæ˜¯ä»£ç çš„"é¢„åˆ¶éª¨æ¶"</p>
<p>Â </p>
<p>Â  Â  è¿˜è®°å¾—åˆšå…¥è¡Œæ—¶ï¼Œç¬¬ä¸€æ¬¡å¬åˆ°"å‰ç«¯è„šæ‰‹æ¶"è¿™ä¸ªè¯ï¼Œæˆ‘ç€å®å›°æƒ‘äº†å¥½ä¸€é˜µå­ï¼šå†™ä»£ç è¿˜è¦æ­æ¶å­ï¼Ÿéš¾é“è¦å»å·¥åœ°ä¸Šæ¬ç«¹ç«¿ï¼Ÿåæ¥æ‰æ˜ç™½ï¼Œå‰ç«¯è„šæ‰‹æ¶å’Œå»ºç­‘è„šæ‰‹æ¶çš„æ ¸å¿ƒä½œç”¨æƒŠäººåœ°ä¸€è‡´â€”â€”éƒ½æ˜¯ä¸ºäº†ç»™"æ–½å·¥"æä¾›ç¨³å®šçš„åŸºç¡€æ¡†æ¶ï¼Œè®©æ“ä½œè€…èƒ½èšç„¦æ ¸å¿ƒä»»åŠ¡è€Œéé‡å¤æ­å»ºã€‚</p>
<p>Â  Â  å…·ä½“æ¥è¯´ï¼Œå‰ç«¯è„šæ‰‹æ¶æ˜¯ä¸€å¥—è‡ªåŠ¨åŒ–çš„é¡¹ç›®åˆå§‹åŒ–ä¸å·¥ç¨‹åŒ–ç®¡ç†æ–¹æ¡ˆï¼Œå®ƒèƒ½å¸®å¼€å‘è€…å¿«é€Ÿç”Ÿæˆæ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„ã€é…ç½®å¥½åŸºç¡€ä¾èµ–å’Œæ„å»ºå·¥å…·ï¼Œé¿å…æ¯ä¸ªäººéƒ½ä»é›¶å¼€å§‹ç¼–å†™é…ç½®æ–‡ä»¶ã€æ•´ç†ç›®å½•ç»“æ„çš„ç¹çã€‚æ¯”å¦‚åˆ›å»ºä¸€ä¸ªVueé¡¹ç›®æ—¶ï¼Œæ•²ä¸‹å‘½ä»¤å°±èƒ½è‡ªåŠ¨ç”Ÿæˆç»„ä»¶ç›®å½•ã€è·¯ç”±é…ç½®ã€æ‰“åŒ…è„šæœ¬ç­‰å…¨å¥—åŸºç¡€æ¶æ„ï¼Œå°±åƒå»ºç­‘å·¥äººä¸ç”¨æ¯æ¬¡éƒ½ä»ç ç«¹å­å¼€å§‹æ­æ¶å­ä¸€æ ·ã€‚</p>
<p>Â  Â  è€ŒæŠŠ"è„šæ‰‹æ¶"è¿™ä¸ªå»ºç­‘æœ¯è¯­æ­£å¼å¼•å…¥å‰ç«¯å¼€å‘é¢†åŸŸï¼Œå¹¶å½¢æˆæ ‡å‡†åŒ–å·¥å…·çš„ï¼Œæ˜¯2012å¹´Googleå·¥ç¨‹å¸ˆå›¢é˜Ÿæ¨å‡ºçš„Yeomanï¼ˆä½œè€…æŒ‰ï¼šä¸ªäººè®¤çŸ¥ï¼Œå¯èƒ½æ›´æ—©ä¹‹å‰æœ‰äººåšè¿‡ç±»ä¼¼å·¥å…·ï¼Œä½†æ˜¯é‚£ä¸ªæ—¶å€™æ¯”è¾ƒçƒ­é—¨çš„æ˜¯Yeomanï¼‰ã€‚åœ¨è¿™ä¹‹å‰ï¼Œå‰ç«¯å¼€å‘è¿˜å¤„äº"åˆ€è€•ç«ç§"çš„é˜¶æ®µï¼šå¼€å‘è€…è¦æ‰‹åŠ¨å¼•å…¥CDNè„šæœ¬ã€æ•´ç†æ–‡ä»¶ç›®å½•ã€é…ç½®å‹ç¼©å·¥å…·ï¼Œä¸åŒäººå†™çš„é¡¹ç›®ç»“æ„åƒå·®ä¸‡åˆ«ã€‚Yeomané€šè¿‡è‡ªåŠ¨åŒ–è¿™äº›æµç¨‹ï¼Œä¸ä»…å¥ å®šäº†å‰ç«¯è„šæ‰‹æ¶çš„æ ¸å¿ƒé€»è¾‘ï¼Œæ›´å¼€å¯äº†å‰ç«¯å·¥ç¨‹åŒ–çš„åºå¹•ã€‚</p>
<p>äºŒã€ä¸æ­¢è„šæ‰‹æ¶ï¼šé‚£äº›ä»å»ºç­‘å·¥ç¨‹"å€Ÿæ¥"çš„æŠ€æœ¯åŸºå› </p>
<p>Â </p>
<p>Â  Â Â å‰ç«¯è„šæ‰‹æ¶çš„å‘½åå¹¶éå­¤ä¾‹ï¼Œå¦‚æœä½ ä»”ç»†ç›˜ç‚¹ä¼šå‘ç°ï¼Œå‰ç«¯å¼€å‘ä¹ƒè‡³æ•´ä¸ªè½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œéƒ½å……æ–¥ç€æ¥è‡ªå»ºç­‘å·¥ç¨‹çš„"è·¨ç•Œæœ¯è¯­"ã€‚æ¯”å¦‚æˆ‘ä»¬å¸¸è¯´çš„"æ¶æ„è®¾è®¡"ï¼Œç›´æ¥æŒªç”¨äº†å»ºç­‘é¢†åŸŸ"å»ºç­‘ç‰©ç»“æ„è§„åˆ’"çš„æ¦‚å¿µï¼›å¼€å‘ä¸­çš„"æ¨¡å—æ‹†åˆ†"ï¼Œå¯¹åº”ç€å»ºç­‘é‡Œçš„"åˆ†éƒ¨åˆ†é¡¹å·¥ç¨‹"ï¼›ç”šè‡³"ç‰ˆæœ¬è¿­ä»£"é‡Œçš„"è¿­ä»£"ï¼Œæœ€åˆä¹ŸæŒ‡å»ºç­‘æ–½å·¥ä¸­é‡å¤è¿›è¡Œçš„æ ‡å‡†åŒ–å·¥åºã€‚</p>
<p>Â  Â Â è¿™ç§"å€Ÿç”¨"èƒŒåè—ç€ä¸€ä¸ªæœ´ç´ çš„çœŸç†ï¼šä»»ä½•æ–°å­¦ç§‘çš„å¿«é€Ÿæˆé•¿ï¼Œéƒ½ç¦»ä¸å¼€å‘å‘å±•æˆç†Ÿçš„è€å­¦ç§‘æ±²å–å…»åˆ†ã€‚å»ºç­‘å·¥ç¨‹ä½œä¸ºæ‹¥æœ‰æ•°åƒå¹´å†å²çš„"è€ç‰Œå­¦ç§‘"ï¼Œæ—©å·²åœ¨æ ‡å‡†åŒ–ã€æµç¨‹åŒ–ã€é£é™©æ§åˆ¶ç­‰æ–¹é¢å½¢æˆäº†å®Œå–„çš„ä½“ç³»ï¼Œè€Œå¹´è½»çš„å‰ç«¯å¼€å‘ï¼ˆæ»¡æ‰“æ»¡ç®—ä¸è¿‡ä¸‰åå¹´å†å²ï¼‰æ­£å¥½éœ€è¦è¿™æ ·çš„æˆç†Ÿç»éªŒæ¥è§„é¿è¯•é”™æˆæœ¬ã€‚</p>
<p>Â  Â  ç±»ä¼¼çš„è·¨ç•Œå€Ÿé‰´åœ¨ç§‘æŠ€é¢†åŸŸæ¯”æ¯”çš†æ˜¯ï¼šè®¡ç®—æœºç§‘å­¦é‡Œçš„"ç®—æ³•"æºè‡ªæ•°å­¦çš„é€»è¾‘æ¨ç†ï¼Œäººå·¥æ™ºèƒ½çš„"ç¥ç»ç½‘ç»œ"æ¨¡ä»¿äº†ç”Ÿç‰©å¤§è„‘çš„ç¥ç»å…ƒç»“æ„ï¼ŒåŒ»å­¦ä¸Šçš„"æ‰‹æœ¯å¯¼èˆªç³»ç»Ÿ"å€Ÿé‰´äº†èˆªå¤©é¢†åŸŸçš„å®šä½æŠ€æœ¯ï¼Œå°±è¿ç®¡ç†å­¦çš„"ç€‘å¸ƒæ¨¡å‹"ï¼Œä¹Ÿæ˜¯ä»åˆ¶é€ ä¸šçš„æµæ°´çº¿ç”Ÿäº§æ¨¡å¼æ¼”å˜è€Œæ¥ã€‚æ–°å­¦ç§‘ç«™åœ¨è€å­¦ç§‘çš„è‚©è†€ä¸Šï¼Œæ‰èƒ½å®ç°"å¼¯é“è¶…è½¦"å¼çš„å‘å±•ã€‚</p>
<p>Â </p>
<p>ä¸‰ã€ç«¹ä¸é’¢çš„æŠ‰æ‹©ï¼šä¼ ç»Ÿä¸å‡çº§çš„åšå¼ˆï¼Œå‰ç«¯ä¹Ÿæ›¾ç»å†</p>
<p>Â </p>
<p>Â  Â  å›åˆ°é¦™æ¸¯ç«¹è„šæ‰‹æ¶çš„äº‰è®®ï¼šä¸ºä»€ä¹ˆåœ¨é’¢åˆ¶è„šæ‰‹æ¶æ—©å·²æˆä¸ºå†…åœ°æ ‡é…çš„ä»Šå¤©ï¼Œç°ä»£åŒ–çš„é¦™æ¸¯è¿˜åœ¨åšå®ˆç«¹åˆ¶è„šæ‰‹æ¶ï¼Ÿç­”æ¡ˆå¹¶é"è½å"é‚£ä¹ˆç®€å•ï¼Œè€Œæ˜¯ä¼ ç»Ÿã€ç»æµä¸ç°å®éœ€æ±‚çš„å¤æ‚äº¤ç»‡ã€‚</p>
<p>Â  Â  ä»ä¼˜åŠ¿æ¥çœ‹ï¼Œç«¹è„šæ‰‹æ¶æˆæœ¬ä»…ä¸ºé’¢ç®¡çš„1/5-1/3ï¼Œæ­å»ºæ‹†å¸é€Ÿåº¦æå¿«ï¼Œç†Ÿç»ƒå·¥äººåŠæ—¥å°±èƒ½æ­èµ·ä¸€å±‚ï¼Œè€Œä¸”è´¨åœ°æŸ”éŸ§ï¼Œèƒ½å®Œç¾è´´åˆé¦™æ¸¯è€åŸåŒºéª‘æ¥¼ã€è½¬è§’ç­‰ä¸è§„åˆ™å»ºç­‘è½®å»“ã€‚</p>
<p>Â  Â  æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒå·²å½¢æˆå®Œæ•´äº§ä¸šé“¾ï¼Œå…³è”ç€æ•°åƒæ­æ£šå·¥äººçš„ç”Ÿè®¡ï¼Œç”šè‡³å…¶"æˆæ£šæ­å»ºæŠ€è‰º"è¿˜è¢«åˆ—å…¥éé—ã€‚ä½†è‡´å‘½ç¼ºé™·ä¹Ÿæ˜¾è€Œæ˜“è§ï¼šç«¹å­ç‡ƒç‚¹ä»…280-300â„ƒï¼Œé‡ç«åä¼šè¿…é€Ÿåå¡Œï¼Œè¿™æ­£æ˜¯å®ç¦è‹‘å¤§ç«å¿«é€Ÿè”“å»¶çš„é‡è¦åŸå› ã€‚</p>
<p>Â  Â Â è¿™ç§"ä¼ ç»Ÿä¾¿åˆ©ä¸å®‰å…¨å‡çº§"çš„åšå¼ˆï¼Œå‰ç«¯è„šæ‰‹æ¶çš„å‘å±•å†ç¨‹ä¸­ä¹Ÿæ›¾ä¸Šæ¼”ã€‚13å¹´å‰çš„2012å¹´ï¼Œæ­£æ˜¯å‰ç«¯å·¥ç¨‹åŒ–å¼€å§‹è“¬å‹ƒå‘å±•çš„èµ·ç‚¹ï¼Œå½“æ—¶çš„å‰ç«¯å¼€å‘å°±åƒé¦™æ¸¯çš„è€å»ºç­‘æ–½å·¥â€”â€”å¤§å®¶ç”¨ç€å„è‡ªçš„"ç«¹è„šæ‰‹æ¶"ï¼šæœ‰çš„æ‰‹åŠ¨å†™HTMLæ¨¡æ¿ï¼Œæœ‰çš„è‡ªå®šä¹‰ç®€æ˜“æ„å»ºè„šæœ¬ï¼Œè™½ç„¶èƒ½æ»¡è¶³ç®€å•éœ€æ±‚ï¼Œä½†æ•ˆç‡ä½ä¸‹ä¸”éšæ‚£é‡é‡ï¼šä¸åŒå¼€å‘è€…çš„é¡¹ç›®ç»“æ„æ··ä¹±ï¼Œä»£ç å…¼å®¹æ€§é—®é¢˜é¢‘å‘ï¼Œä¸Šçº¿å‰çš„å‹ç¼©ã€è½¬è¯‘å…¨é æ‰‹åŠ¨æ“ä½œï¼Œç¨æœ‰ç–å¿½å°±ä¼šå‡ºç°çº¿ä¸Šæ•…éšœã€‚</p>
<p>Â </p>
<p>å‘å±•å¯ç¤ºï¼šè¿­ä»£å‡çº§æ‰æ˜¯å®‰å…¨ä¸æ•ˆç‡çš„æ ¸å¿ƒ</p>
<p>Â  Â  å»ºç­‘é¢†åŸŸä¸­ï¼Œå†…åœ°é€šè¿‡æ”¿ç­–å¼•å¯¼å’Œå¸‚åœºè§„æ¨¡æ”¯æ’‘ï¼Œå®ç°äº†ä»ç«¹åˆ°é’¢çš„è„šæ‰‹æ¶å‡çº§ï¼Œå½¢æˆ"å®‰å…¨-ç»æµ-è§„æ¨¡"çš„è‰¯æ€§å¾ªç¯ï¼›å‰ç«¯é¢†åŸŸåˆ™é€šè¿‡å·¥å…·è¿­ä»£å®Œæˆäº†ç±»ä¼¼è¿›åŒ–ï¼šä»Googleçš„Yeomanå¥ å®šäº†è„šæ‰‹æ¶æ ¸å¿ƒé€»è¾‘ï¼Œåˆ°Gruntã€Gulpçš„ä»»åŠ¡æ¨¡å¼ä¼˜åŒ–äº†æ„å»ºæµç¨‹ï¼Œå†åˆ°webpackã€rollupåˆ™æ”»å…‹äº†æ¨¡å—æ‰“åŒ…çš„æ ¸å¿ƒéš¾é¢˜ï¼Œå†åˆ°Vue CLIã€Create React Appå®ç°é›¶é…ç½®åˆå§‹åŒ–ï¼Œå¦‚ä»ŠViteæ›´æ˜¯é€šè¿‡åŸç”ŸESMå¤§å¹…æå‡æ„å»ºæ•ˆç‡ã€‚æ¯ä¸€æ¬¡å‡çº§éƒ½åœ¨è§£å†³å‰ä¸€ä»£"è„šæ‰‹æ¶"çš„ç—›ç‚¹ï¼Œå°±åƒé’¢åˆ¶è„šæ‰‹æ¶æ›¿ä»£ç«¹å­ä¸€æ ·ï¼Œæ—¢æå‡äº†æ•ˆç‡ï¼Œæ›´ç­‘ç‰¢äº†å®‰å…¨åº•çº¿ã€‚</p>
<p>Â </p>
<p>å››ã€å®‰å…¨æ— å°äº‹ï¼šè„šæ‰‹æ¶é‡Œè—ç€çš„"ç”Ÿå‘½çº¿"</p>
<p>Â </p>
<p>Â  Â  é¦™æ¸¯å¤§ç«çš„æƒ¨å‰§è®©æˆ‘ä»¬çœ‹æ¸…ï¼šå†æ·±åšçš„ä¼ ç»Ÿã€å†ä¾¿æ·çš„æˆæœ¬ï¼Œéƒ½ä¸èƒ½æˆä¸ºç‰ºç‰²å®‰å…¨çš„å€Ÿå£ã€‚å¦‚ä»Šé¦™æ¸¯å·²å¯åŠ¨è®¡åˆ’ï¼Œè¦æ±‚åŠæ•°æ–°å·¥åŠ¡å·¥ç¨‹æ”¹ç”¨é‡‘å±æ£šæ¶ï¼Œè¿™æ˜¯ç”¨ç”Ÿå‘½ä»£ä»·æ¢æ¥çš„è¿›æ­¥ã€‚</p>
<p>Â  Â  è€Œè¿™ä¸ªé“ç†ï¼Œåœ¨å‰ç«¯å¼€å‘é¢†åŸŸåŒæ ·é€‚ç”¨ã€‚</p>
<p>Â  Â  å‰ç«¯è„šæ‰‹æ¶çœ‹ä¼¼åªæ˜¯å·¥å…·ï¼Œå®åˆ™æ˜¯é¡¹ç›®çš„"å®‰å…¨åŸºçŸ³"ã€‚è¿‡æ—¶çš„è„šæ‰‹æ¶å·¥å…·å¹¶éæœ¬èº«"åŠ£è´¨"ï¼Œè€Œæ˜¯å› å…¶è®¾è®¡åˆè¡·é€‚é…çš„æ˜¯æ—©æœŸå‰ç«¯æŠ€æœ¯æ ˆï¼Œéš¾ä»¥è·Ÿä¸Šå½“å‰å¿«é€Ÿè¿­ä»£çš„æŠ€æœ¯å‘å±•èŠ‚å¥ã€‚</p>
<p>Â  Â  å¦‚æœè‡ªå®šä¹‰è„šæ‰‹æ¶æ—¶å¿½ç•¥äº†ESLintæ ¡éªŒé…ç½®ï¼Œå¯èƒ½ä¼šè®©è¯­æ³•é”™è¯¯æµå…¥ç”Ÿäº§ç¯å¢ƒï¼›å¦‚æœè„šæ‰‹æ¶çš„æ„å»ºè„šæœ¬å­˜åœ¨æ¼æ´ï¼Œç”šè‡³å¯èƒ½å¯¼è‡´çº¿ä¸ŠæœåŠ¡å´©æºƒã€‚è¿™äº›é—®é¢˜çœ‹ä¼¼æ˜¯"å·¥å…·æ•…éšœ"ï¼Œå®åˆ™ä¼šé€ æˆå®¢æˆ·æµå¤±ã€å…¬å¸å£°èª‰å—æŸï¼Œæœ€ç»ˆå¼€å‘è€…è¿˜è¦é¢ä¸´é€šæŠ¥æ‰¹è¯„ã€ç»©æ•ˆæ‰£é™¤çš„åæœã€‚</p>
<p>Â  Â  å½“ç„¶ï¼Œ"è¿‡æ—¶"çš„è„šæ‰‹æ¶ä¹Ÿåœ¨ä¸æ–­è¿­ä»£å‡çº§ï¼ŒåŠªåŠ›è·»èº«å‰ç«¯ç°ä»£åŒ–"é’¢åˆ¶"è„šæ‰‹æ¶è¡Œåˆ—ã€‚åªä¸è¿‡ä»–ä»¬é¢ä¸´çš„ç«äº‰æ¯”æ—©æœŸé‡è›®ç”Ÿé•¿æ—¶æœŸæ›´åŠ æ¿€çƒˆï¼Œå°±çœ‹æœ‰å¤šå°‘å‰ç«¯å¼€å‘è€…æ„¿æ„ä½¿ç”¨äº†ã€‚</p>
<p>Â  Â  å°±åƒå»ºç­‘å·¥äººå¿…é¡»æ£€æŸ¥è„šæ‰‹æ¶çš„ç»‘æ‰ç‰¢å›ºåº¦ï¼Œå‰ç«¯å¼€å‘è€…ä¹Ÿè¯¥å®ˆä½è‡ªå·±çš„"è„šæ‰‹æ¶é˜²çº¿"ï¼šå®šæœŸå‡çº§è„šæ‰‹æ¶å·¥å…·ä»¥ä¿®å¤å®‰å…¨æ¼æ´ï¼Œæ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ ‡å‡†åŒ–å·¥å…·è€Œéç›²ç›®è‡ªå®šä¹‰ï¼Œåœ¨è„šæ‰‹æ¶é…ç½®ä¸­å®Œå–„ä»£ç æ ¡éªŒå’Œæµ‹è¯•æµç¨‹ã€‚æ¯•ç«Ÿï¼Œæ— è®ºæ˜¯å»ºç­‘æ–½å·¥è¿˜æ˜¯ä»£ç å¼€å‘ï¼Œå®‰å…¨æ°¸è¿œæ˜¯æ¯”æ•ˆç‡å’Œæˆæœ¬æ›´é‡è¦çš„åº•çº¿ã€‚</p>
<p>Â </p>
<p>æ€»ç»“</p>
<p>Â 
Â  Â  å¸Œæœ›é¦™æ¸¯çš„æµ“çƒŸèƒ½è®©ä¼ ç»Ÿå·¥è‰ºä¸ç°ä»£å®‰å…¨æ›´å¥½åœ°å…¼å®¹ã€‚ä¹Ÿå¸Œæœ›æ¯ä¸ªå‰ç«¯å¼€å‘è€…éƒ½èƒ½é‡è§†æ‰‹ä¸­çš„"è„šæ‰‹æ¶"â€”â€”è®©è¿™ä¸ªä»å»ºç­‘é¢†åŸŸå€Ÿæ¥çš„å·¥å…·ï¼Œæ—¢æˆä¸ºæå‡æ•ˆç‡çš„åˆ©å™¨ï¼Œæ›´æˆä¸ºå®ˆæŠ¤çº¿ä¸Šå®‰å…¨çš„å±éšœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI ä¸åªæ˜¯èŠå¤©ï¼šèŠèŠæˆ‘æœ€è¿‘åœ¨åšçš„æ–°æ–¹å‘]]></title>    <link>https://juejin.cn/post/7580184249908936746</link>    <guid>https://juejin.cn/post/7580184249908936746</guid>    <pubDate>2025-12-05T13:57:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908936746" data-draft-id="7580196545288224822" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI ä¸åªæ˜¯èŠå¤©ï¼šèŠèŠæˆ‘æœ€è¿‘åœ¨åšçš„æ–°æ–¹å‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-05T13:57:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI ä¸åªæ˜¯èŠå¤©ï¼šèŠèŠæˆ‘æœ€è¿‘åœ¨åšçš„æ–°æ–¹å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T13:57:56.000Z" title="Fri Dec 05 2025 13:57:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶åº”è¯¥éƒ½å¬åˆ°æˆ–çœ‹åˆ°è¿‡ç±»ä¼¼çš„è§‚ç‚¹ï¼šç°åœ¨çš„ AI å°±æ˜¯ä¸€ä¸ªç©å…·ï¼Œä¹Ÿå°±èƒ½èŠèŠå¤©ï¼Œç”Ÿæˆä¸ªæç¬‘å›¾ç‰‡ã€‚</p>
<p>å°½ç®¡è¿™ä¸€è§‚ç‚¹å¸¦æœ‰ä¸€å®šå¤¸å¼ æˆåˆ†ï¼Œä½†ä¸å¯å¦è®¤çš„æ˜¯ï¼Œå½“å‰é˜¶æ®µ AI åº”ç”¨ç¡®å®é›†ä¸­åœ¨çŸ¥è¯†å¤„ç†é¢†åŸŸï¼Œè·ç¦»ç›´æ¥æ”¹å˜ä¸–ç•Œè¿˜æœ‰ä¸€æ®µè·¯è¦èµ°ã€‚</p>
<h2 data-id="heading-0">AI èƒ½åŠ›èŒƒå›´çš„è¿›åŒ–</h2>
<p>ä½†ï¼ŒAI çš„èƒ½åŠ›èŒƒå›´å…¶å®ä¸€ç›´åœ¨è¿›åŒ–ã€‚</p>
<p>æœ€å¼€å§‹ï¼Œå¤§æ¨¡å‹å°±æ˜¯èŠå¤©ï¼Œå¤§å®¶åœ¨ ChatGPT ä¸ŠèŠçš„ä¸äº¦ä¹ä¹ï¼Œç”šè‡³è¯ç”Ÿäº†å¾ˆå¤šç°è±¡çº§çš„æƒ…æ„Ÿé™ªä¼´åº”ç”¨ã€‚</p>
<p>ä½†å¾ˆå¿«ï¼Œå¤§å®¶å°±å¼€å§‹å°è¯•æ¥å…¥å„ç±»ä¿¡æ¯åŒ–èƒ½åŠ›ï¼Œä¸ºæ­¤è¿˜ä¸“é—¨è®¾è®¡äº† MCPï¼Œä»¥æ­¤æ–¹ä¾¿å„ç±»æœåŠ¡çš„å¿«é€Ÿæ¥å…¥ã€‚</p>
<p>åˆ°è¿™æ—¶ï¼ŒAI å…¶å®å·²ç»é€šè¿‡æ™ºèƒ½ä½“åœ¨å½±å“ä¸–ç•Œäº†ï¼Œæ¯”å¦‚ AI ç¼–ç¨‹ã€AI å®¡ç¨¿ã€AI è¾…åŠ©è¯Šæ–­ç­‰ã€‚</p>
<p>ä½†æ­¤æ—¶çš„ AI åº”ç”¨åœºæ™¯ï¼Œä¾ç„¶æœ‰å¾ˆå¤šé™åˆ¶ï¼Œæ¯”å¦‚ï¼šä¸èƒ½ç›´æ¥æ”¹å–„æˆ‘çš„ç”Ÿæ´»ï¼Œä¸èƒ½ç›´æ¥æ›¿ä»£ç”Ÿäº§è¿‡ç¨‹ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸€å›°å¢ƒï¼Œæˆ‘ä»¬éœ€è¦å¸®åŠ© AI åœ¨æ„ŸçŸ¥ã€æ‰§è¡Œã€è§„åˆ’ä¸‰ä¸ªæ–¹é¢è¿›ä¸€æ­¥è¿›åŒ–ã€‚</p>
<h3 data-id="heading-1">æ„ŸçŸ¥</h3>
<p>ç°æœ‰å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘æ–¹å¼è¿˜æ˜¯æœ‰ç‚¹ç‹­éš˜ã€‚</p>
<p>åç»­æˆ‘ä»¬å°†ä¼šé€šè¿‡ç‰©è”ç½‘æ‰‹æ®µï¼Œç›´æ¥æ¥å…¥æ›´å¤šæ•°æ®æ¥æºï¼Œæ‰©å±•ä¿¡æ¯ç±»å‹ï¼Œè®© AI å¯ä»¥è¿æ¥æ›´å¤šåœºæ™¯ã€‚</p>
<h3 data-id="heading-2">æ‰§è¡Œ</h3>
<p>æœ‰äº†è¾“å…¥ï¼Œç»è¿‡ AI åŠ å·¥å¤„ç†ï¼Œæƒ³è¦ç›´æ¥æ”¹å˜ä¸–ç•Œå°±åªå·®å·¥å…·äº†ã€‚</p>
<p>å¤§å®¶åº”è¯¥éƒ½çŒœåˆ°äº†ï¼Œå°±æ˜¯ç°åœ¨ç«çƒ­çš„å¦ä¸€ä¸ªé¢†åŸŸï¼šå…·èº«æ™ºèƒ½ã€‚</p>
<p>é€šè¿‡å°† AI æ¥å…¥æœºæ¢°è‡‚ã€æœºå™¨äººä¸­ï¼Œå¯ä»¥å°†æ¨¡å‹èƒ½åŠ›è¾“å‡ºåˆ°ç‰©ç†ä¸–ç•Œï¼Œä»¥è§£å†³å„è‡ªé¢†åŸŸçš„å®é™…éœ€æ±‚ã€‚</p>
<h3 data-id="heading-3">è§„åˆ’</h3>
<p>ç°æœ‰å¤§æ¨¡å‹ä¸çœŸå®ä¸–ç•Œçš„ä¸²è”ï¼Œå¤§å¤šæ˜¯å°†å„ç±»è¾“å…¥è½¬ä¸ºè¾“å…¥æ–‡æœ¬ï¼ŒAIå¤„ç†æ–‡æœ¬ï¼Œå†å°†è¾“å‡ºæ–‡æœ¬è§£æä¸ºç›¸å…³åŠ¨ä½œã€‚</p>
<p>å€’æ˜¯å¯ä»¥å®ç°â€œè¾“å…¥-æ™ºèƒ½å¤„ç†-è¾“å‡ºâ€çš„é“¾æ¡ï¼Œä½†æ˜¯éåŸç”Ÿçš„æ¨¡å‹æ”¯æŒä¼šé€ æˆä¿¡æ¯çš„ä¸¢å¤±ï¼Œä»è€Œå¯¼è‡´æ•´ä½“è¡¨ç°ä¸é‚£ä¹ˆç¾å¥½ã€‚</p>
<p>å› æ­¤ï¼Œåç»­çš„æ™ºèƒ½æ ¸å¿ƒå°†ä¼šæ˜¯å„ç§åœºæ™¯çš„ä¸“æœ‰æ¨¡å‹ï¼Œæ¯”å¦‚ï¼šå·¥ä¸šæ¨¡å‹ã€åŒ»ç–—æ¨¡å‹ï¼Œæˆ–è€…æ›´ä¸ºé€šç”¨çš„ä¸–ç•Œæ¨¡å‹ã€‚</p>
<h2 data-id="heading-4">ç»“è¯­</h2>
<p>å¥½äº†ï¼Œä»Šå¤©å°±åˆ°è¿™é‡Œï¼Œä¸»è¦æ˜¯ç»™å¤§å®¶æ±‡æŠ¥ä¸€ä¸‹ï¼Œæœ€è¿‘å·¥ä½œå†…å®¹çš„å˜åŒ–ã€‚</p>
<p>åç»­ä¹Ÿä¼šå¢åŠ è¿™æ–¹é¢å†…å®¹çš„åˆ†äº«ï¼Œæ¬¢è¿å¤§å®¶ç»§ç»­å…³æ³¨å“ˆ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨ä¸ºVueåº”ç”¨çš„æŠ¥é”™è€Œå¤´ç–¼ï¼Ÿè¿™æ‹›è®©ä½ å½»åº•æŒæ§å…¨å±€]]></title>    <link>https://juejin.cn/post/7579507023508537407</link>    <guid>https://juejin.cn/post/7579507023508537407</guid>    <pubDate>2025-12-03T23:26:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579507023508537407" data-draft-id="7579519985699831814" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨ä¸ºVueåº”ç”¨çš„æŠ¥é”™è€Œå¤´ç–¼ï¼Ÿè¿™æ‹›è®©ä½ å½»åº•æŒæ§å…¨å±€"/> <meta itemprop="keywords" content="Vue.js,JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-03T23:26:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰¯å±±æœ‰é£æ¥"/> <meta itemprop="url" content="https://juejin.cn/user/3940246036939358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨ä¸ºVueåº”ç”¨çš„æŠ¥é”™è€Œå¤´ç–¼ï¼Ÿè¿™æ‹›è®©ä½ å½»åº•æŒæ§å…¨å±€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036939358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰¯å±±æœ‰é£æ¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-03T23:26:36.000Z" title="Wed Dec 03 2025 23:26:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¼€å‘Vueåº”ç”¨æ—¶ï¼Œæœ€æ€•ä»€ä¹ˆï¼Ÿä¸æ˜¯å¤æ‚çš„é€»è¾‘ï¼Œä¹Ÿä¸æ˜¯éš¾è°ƒçš„æ ·å¼ï¼Œè€Œæ˜¯é‚£äº›ä¸çŸ¥ä»å“ªä¸ªè§’è½é‡Œçªç„¶è¹¦å‡ºæ¥çš„è¿è¡Œæ—¶é”™è¯¯ã€‚ä½ æ­£åœ¨æµ‹è¯•ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œé¡µé¢çªç„¶ç™½å±ï¼Œæ§åˆ¶å°é‡Œä¸€ä¸²çº¢è‰²é”™è¯¯ï¼Œä½ å´åƒå¤§æµ·æé’ˆä¸€æ ·ï¼ŒåŠå¤©æ‰¾ä¸åˆ°é—®é¢˜åˆ°åº•å‡ºåœ¨å“ªä¸€å±‚ç»„ä»¶ã€‚ç”¨æˆ·é‚£è¾¹æ›´æ˜¯ç›´æ¥åé¦ˆâ€œé¡µé¢æ‰“ä¸å¼€äº†â€ï¼Œä½ å´åªèƒ½å¹²ç€æ€¥ã€‚</p>
<p>è¿™ç§å¤±æ§çš„æ„Ÿè§‰ï¼ŒçœŸçš„å¾ˆç³Ÿç³•ã€‚é”™è¯¯å°±åƒæ˜¯åº”ç”¨é‡Œçš„â€œæš—é›·â€ï¼Œä½ ä¸çŸ¥é“å®ƒä»€ä¹ˆæ—¶å€™ä¼šçˆ†ã€‚ä½†åˆ«æ‹…å¿ƒï¼ŒVueå…¶å®ç»™æˆ‘ä»¬å‡†å¤‡äº†å¼ºå¤§çš„â€œæ’é›·å·¥å…·â€â€”â€”é‚£å°±æ˜¯ <code>errorCaptured</code> ç”Ÿå‘½å‘¨æœŸé’©å­å’Œå…¨å±€é”™è¯¯å¤„ç†æœºåˆ¶ã€‚ç”¨å¥½å®ƒä»¬ï¼Œä½ ä¸ä»…èƒ½ç²¾å‡†å®šä½é”™è¯¯æºå¤´ï¼Œè¿˜èƒ½ä¼˜é›…åœ°é™çº§å¤„ç†ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªä½“é¢çš„ä½“éªŒï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå†·å†°å†°çš„ç™½å±ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å½»åº•æå®šVueçš„é”™è¯¯å¤„ç†ï¼Œè®©ä½ æˆä¸ºåº”ç”¨çš„â€œå®‰å…¨æ€»ç›‘â€ã€‚</p>
<h2 data-id="heading-0">ç†è§£é”™è¯¯å¤„ç†çš„ä¸¤ç§å¢ƒç•Œï¼šå±€éƒ¨å®ˆå«ä¸å…¨å±€é˜²çº¿</h2>
<p>åœ¨æ·±å…¥ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç†æ¸…æ€è·¯ã€‚Vueçš„é”™è¯¯å¤„ç†å¯ä»¥åˆ†æˆä¸¤ä¸ªå±‚é¢ï¼Œå°±åƒå°åŒºçš„å®‰ä¿ç³»ç»Ÿã€‚</p>
<p>ç¬¬ä¸€ä¸ªå±‚é¢ï¼Œæ˜¯<strong>ç»„ä»¶çº§åˆ«çš„â€œå±€éƒ¨å®ˆå«â€</strong>ï¼Œä¹Ÿå°±æ˜¯ <code>errorCaptured</code> é’©å­ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ¯æ ‹æ¥¼ï¼ˆç»„ä»¶ï¼‰éƒ½æœ‰è‡ªå·±çš„ä¿å®‰ï¼ˆ<code>errorCaptured</code>ï¼‰ã€‚è¿™ä¸ªä¿å®‰çš„èŒè´£å¾ˆæ˜ç¡®ï¼šç›¯ä½ä»è¿™æ ‹æ¥¼å†…éƒ¨ï¼ˆå½“å‰ç»„ä»¶ï¼‰ä»¥åŠæ‰€æœ‰è¿›å…¥è¿™æ ‹æ¥¼çš„è®¿å®¢ï¼ˆå­ç»„ä»¶ï¼‰èº«ä¸Šå‘ç”Ÿçš„é”™è¯¯ã€‚ä¸€æ—¦å‘ç°ï¼Œä»–å¯ä»¥å…ˆè¿›è¡Œåˆæ­¥å¤„ç†ï¼Œæ¯”å¦‚ç™»è®°ã€å°è¯•è§£å†³å°é—®é¢˜ï¼Œç„¶åå†å†³å®šæ˜¯å°±åœ°å¤„ç†æ‰è¿™ä¸ªé”™è¯¯ï¼Œè¿˜æ˜¯ç»§ç»­å‘ä¸Šçº§ï¼ˆçˆ¶ç»„ä»¶ï¼‰æŠ¥å‘Šã€‚</p>
<p>ç¬¬äºŒä¸ªå±‚é¢ï¼Œæ˜¯<strong>åº”ç”¨çº§åˆ«çš„â€œå…¨å±€é˜²çº¿â€</strong>ï¼Œå³ <code>app.config.errorHandler</code>ã€‚è¿™å°±åƒæ˜¯å°åŒºçš„ä¸­å¤®ç›‘æ§å®¤ã€‚æ‰€æœ‰ä»å„ä¸ªæ¥¼æ ‹ï¼ˆç»„ä»¶ï¼‰ä¿å®‰é‚£é‡Œä¸ŠæŠ¥æ¥çš„ã€æ²¡è¢«å°±åœ°è§£å†³çš„ä¸¥é‡é”™è¯¯ï¼Œæœ€ç»ˆéƒ½ä¼šæ±‡é›†åˆ°è¿™é‡Œã€‚è¿™é‡Œæ˜¯æœ€åä¸€é“å±éšœï¼Œä¹Ÿæ˜¯ä½ å®ç°ç»Ÿä¸€é”™è¯¯å¤„ç†é€»è¾‘ï¼ˆæ¯”å¦‚å‘é€é”™è¯¯æ—¥å¿—åˆ°æœåŠ¡å™¨ã€å±•ç¤ºå‹å¥½çš„å…¨å±€é”™è¯¯é¡µé¢ï¼‰çš„æœ€ä½³ä½ç½®ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œ<code>errorCaptured</code> è®©ä½ èƒ½æ²¿ç€ç»„ä»¶æ ‘â€œæ•è·â€é”™è¯¯ï¼Œè€Œ <code>errorHandler</code> è®©ä½ èƒ½åœ¨æœ€é¡¶å±‚â€œå¤„ç†â€é”™è¯¯ã€‚ä¸¤è€…é…åˆï¼Œæ‰èƒ½æ„å»ºå®Œæ•´çš„é”™è¯¯å¤„ç†ä½“ç³»ã€‚</p>
<h2 data-id="heading-1">æ·±å…¥ <code>errorCaptured</code>ï¼šä½ çš„ç»„ä»¶çº§é”™è¯¯æ•æ‰‹</h2>
<p><code>errorCaptured</code> æ˜¯Vueç»„ä»¶çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ã€‚å½“<strong>æœ¬ç»„ä»¶ä»¥åŠå®ƒçš„å­å­™ç»„ä»¶</strong>ä¸­å‘ç”Ÿé”™è¯¯æ—¶ï¼Œè¿™ä¸ªé’©å­å°±ä¼šè¢«è°ƒç”¨ã€‚å®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œè®©ä½ èƒ½æŒæ¡é”™è¯¯çš„å…¨éƒ¨ä¿¡æ¯ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæœ€åŸºç¡€çš„ä½¿ç”¨ç¤ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯èƒ½å‡ºé”™çš„å­ç»„ä»¶ <code>UnstableComponent</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çˆ¶ç»„ä»¶ Parent.vue</span>
&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶åŒºåŸŸ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¿™é‡ŒåµŒå¥—äº†ä¸€ä¸ªå¯èƒ½ä¸ç¨³å®šçš„å­ç»„ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UnstableComponent</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onErrorCaptured } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">UnstableComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./UnstableComponent.vue'</span>

<span class="hljs-comment">// ä½¿ç”¨ onErrorCaptured é’©å­</span>
<span class="hljs-title function_">onErrorCaptured</span>(<span class="hljs-function">(<span class="hljs-params">error, instance, info</span>) =&gt;</span> {
  <span class="hljs-comment">// å‚æ•°1: error - æ•è·åˆ°çš„å®é™…é”™è¯¯å¯¹è±¡</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ•è·åˆ°å­ç»„ä»¶é”™è¯¯:'</span>, error.<span class="hljs-property">message</span>)
  
  <span class="hljs-comment">// å‚æ•°2: instance - è§¦å‘é”™è¯¯çš„ç»„ä»¶å®ä¾‹ï¼ˆVue 3ä¸­å¯èƒ½ä¸ºnullæˆ–proxyå¯¹è±¡ï¼Œå–å†³äºé”™è¯¯å‘ç”Ÿæ—¶æœºï¼‰</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é”™è¯¯å‘ç”Ÿåœ¨å“ªä¸ªç»„ä»¶å®ä¾‹é™„è¿‘:'</span>, instance)
  
  <span class="hljs-comment">// å‚æ•°3: info - ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å‡ºé”™è¯¯å‘ç”Ÿçš„æ¥æºç±»å‹ï¼Œä¾‹å¦‚ï¼š</span>
  <span class="hljs-comment">// 'render function' (æ¸²æŸ“å‡½æ•°)</span>
  <span class="hljs-comment">// 'watcher callback' (ä¾¦å¬å™¨å›è°ƒ)</span>
  <span class="hljs-comment">// 'event handler' (äº‹ä»¶å¤„ç†å™¨)</span>
  <span class="hljs-comment">// 'lifecycle hook' (ç”Ÿå‘½å‘¨æœŸé’©å­)</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é”™è¯¯æ¥æº:'</span>, info)
  
  <span class="hljs-comment">// è¿™ä¸ªé’©å­å¯ä»¥è¿”å› false æ¥é˜»æ­¢é”™è¯¯ç»§ç»­å‘ä¸Šå†’æ³¡</span>
  <span class="hljs-comment">// å¦‚æœè¿™é‡Œè¿”å› falseï¼Œé”™è¯¯å°±ä¸ä¼šä¼ åˆ°æ›´ä¸Šå±‚çš„ errorCaptured æˆ–å…¨å±€ errorHandler</span>
  <span class="hljs-comment">// æˆ‘ä»¬è¿™é‡Œå…ˆä¸é˜»æ­¢ï¼Œè®©é”™è¯¯ç»§ç»­ä¸Šä¼ ä»¥ä¾¿è§‚å¯Ÿ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å­ç»„ä»¶ UnstableComponent.vue</span>
&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"causeError"</span>&gt;</span>ç‚¹æˆ‘è§¦å‘ä¸€ä¸ªé”™è¯¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> <span class="hljs-title function_">causeError</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªåœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­æ•…æ„æŠ›å‡ºçš„é”™è¯¯</span>
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ç³Ÿç³•ï¼å­ç»„ä»¶é‡Œçš„äº‹ä»¶å¤„ç†å‡½æ•°å‡ºé”™äº†ï¼'</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œå½“ä½ ç‚¹å‡»æŒ‰é’®ï¼Œé”™è¯¯ä¼šåœ¨å­ç»„ä»¶ä¸­æŠ›å‡ºã€‚çˆ¶ç»„ä»¶çš„ <code>onErrorCaptured</code> ä¼šç«‹åˆ»æ•è·åˆ°è¿™ä¸ªé”™è¯¯ï¼Œå¹¶æ‰“å°å‡ºè¯¦ç»†ä¿¡æ¯ã€‚å› ä¸ºæˆ‘ä»¬çš„é’©å­è¿”å›äº† <code>true</code>ï¼ˆæˆ–è€…ä¸è¿”å›ä»»ä½•å€¼ï¼Œé»˜è®¤è¡Œä¸ºæ˜¯ç»§ç»­ä¼ æ’­ï¼‰ï¼Œè¿™ä¸ªé”™è¯¯ä¼šç»§ç»­å‘æ›´ä¸Šå±‚çš„ç»„ä»¶â€œå†’æ³¡â€ã€‚</p>
<p><strong>å…³é”®ç‚¹ï¼š<code>errorCaptured</code> çš„è¿”å›å€¼å†³å®šäº†é”™è¯¯çš„å‘½è¿ã€‚</strong> å¦‚æœå®ƒè¿”å› <code>false</code>ï¼Œè¿™ä¸ªé”™è¯¯å°±è¢«â€œæ¶ˆåŒ–â€åœ¨æ­¤å¤„ï¼Œä¸ä¼šå†å‘ä¸Šä¼ é€’ã€‚è¿™éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä½ å¯ä»¥ç”¨å®ƒæ¥éš”ç¦»ä¸€ä¸ªéæ ¸å¿ƒçš„ã€ä¸ç¨³å®šç¬¬ä¸‰æ–¹ç»„ä»¶çš„é”™è¯¯ï¼Œé¿å…å®ƒå¯¼è‡´æ•´ä¸ªé¡µé¢å´©æºƒã€‚</p>
<h2 data-id="heading-2">é…ç½®å…¨å±€é”™è¯¯å¤„ç†å™¨ï¼šæœ€åçš„å®‰å…¨ç½‘</h2>
<p>å½“é”™è¯¯ä¸€è·¯å†’æ³¡ï¼Œç©¿è¿‡äº†æ‰€æœ‰ç»„ä»¶çš„ <code>errorCaptured</code> é˜²çº¿ï¼ˆæˆ–è€…å®ƒä»¬éƒ½é€‰æ‹©ä¸æ‹¦æˆªï¼‰ï¼Œæœ€ç»ˆå°±ä¼šåˆ°è¾¾å…¨å±€å¤„ç†å™¨ã€‚è¿™æ˜¯ä½ å¤„ç†â€œæœªæ•è·å¼‚å¸¸â€çš„æœ€åæœºä¼šï¼Œé€šå¸¸åœ¨è¿™é‡Œæˆ‘ä»¬ä¼šåšå‡ ä»¶å…³é”®äº‹æƒ…ï¼šè®°å½•é”™è¯¯æ—¥å¿—ã€å±•ç¤ºç”¨æˆ·å‹å¥½çš„ç•Œé¢ã€å°è¯•æ¢å¤åº”ç”¨çŠ¶æ€ã€‚</p>
<p>è®¾ç½®å®ƒéå¸¸ç®€å•ï¼Œåœ¨ä½ çš„åº”ç”¨å…¥å£æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ <code>main.js</code> æˆ– <code>main.ts</code>ï¼‰é‡Œé…ç½®å³å¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)

<span class="hljs-comment">// é…ç½®å…¨å±€é”™è¯¯å¤„ç†å™¨</span>
app.<span class="hljs-property">config</span>.<span class="hljs-property">errorHandler</span> = <span class="hljs-function">(<span class="hljs-params">error, instance, info</span>) =&gt;</span> {
  <span class="hljs-comment">// å‚æ•°å’Œ errorCaptured é’©å­åŸºæœ¬ä¸€è‡´</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'[å…¨å±€é”™è¯¯æ‹¦æˆª]'</span>, error)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶å®ä¾‹:'</span>, instance)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é”™è¯¯æ¥æº:'</span>, info)
  
  <span class="hljs-comment">// 1. å°†é”™è¯¯ä¿¡æ¯å‘é€åˆ°ä½ çš„æ—¥å¿—æœåŠ¡å™¨ï¼ˆåœ¨å®é™…é¡¹ç›®ä¸­è‡³å…³é‡è¦ï¼ï¼‰</span>
  <span class="hljs-title function_">sendErrorToServer</span>(error, info).<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">warn</span>)
  
  <span class="hljs-comment">// 2. æ˜¾ç¤ºä¸€ä¸ªå‹å¥½çš„å…¨å±€é”™è¯¯æç¤ºï¼Œè€Œä¸æ˜¯ç™½å±</span>
  <span class="hljs-title function_">showGlobalErrorToast</span>(<span class="hljs-string">'åº”ç”¨å‘ç”Ÿäº†ä¸€ç‚¹é—®é¢˜ï¼Œæˆ‘ä»¬æ­£åœ¨ç´§æ€¥ä¿®å¤ã€‚'</span>)
  
  <span class="hljs-comment">// æ³¨æ„ï¼šå…¨å±€å¤„ç†å™¨ä¸èƒ½å†é˜»æ­¢é”™è¯¯ä¼ æ’­äº†ï¼Œå› ä¸ºå®ƒæ˜¯æœ€åä¸€ç«™ã€‚</span>
  <span class="hljs-comment">// è¿™é‡Œçš„é”™è¯¯å·²ç»æ— æ³•è¢«Vueæ¡†æ¶ç»§ç»­å¤„ç†ï¼Œä½†æˆ‘ä»¬å¯ä»¥é˜²æ­¢å®ƒå¯¼è‡´æ•´ä¸ªé¡µé¢å´©æºƒã€‚</span>
}

<span class="hljs-comment">// æ¨¡æ‹Ÿå‘é€é”™è¯¯åˆ°åç«¯æœåŠ¡çš„å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendErrorToServer</span>(<span class="hljs-params">error, errorInfo</span>) {
  <span class="hljs-comment">// åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œä¼šè°ƒç”¨ä½ çš„APIæ¥å£</span>
  <span class="hljs-keyword">const</span> errorLog = {
    <span class="hljs-attr">message</span>: error.<span class="hljs-property">message</span>,
    <span class="hljs-attr">stack</span>: error.<span class="hljs-property">stack</span>,
    <span class="hljs-attr">component</span>: errorInfo,
    <span class="hljs-attr">url</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
    <span class="hljs-attr">userAgent</span>: navigator.<span class="hljs-property">userAgent</span>
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¨¡æ‹Ÿå‘é€é”™è¯¯æ—¥å¿—åˆ°æœåŠ¡å™¨:'</span>, errorLog)
  <span class="hljs-comment">// ç¤ºä¾‹ï¼šawait fetch('/api/log/error', { method: 'POST', body: JSON.stringify(errorLog) })</span>
}

<span class="hljs-comment">// æ¨¡æ‹Ÿæ˜¾ç¤ºä¸€ä¸ªå…¨å±€æç¤º</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">showGlobalErrorToast</span>(<span class="hljs-params">message</span>) {
  <span class="hljs-comment">// è¿™é‡Œå¯ä»¥ä½¿ç”¨ä½ å–œæ¬¢çš„UIåº“ï¼ˆå¦‚Element Plus, Ant Design Vueï¼‰çš„Messageç»„ä»¶</span>
  <span class="hljs-comment">// æˆ–è€…ç®€å•åˆ›å»ºä¸€ä¸ªdivæ¥æç¤º</span>
  <span class="hljs-keyword">const</span> toast = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>)
  toast.<span class="hljs-property">textContent</span> = message
  toast.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">`
    position: fixed;
    top: 20px;
    right: 20px;
    background-color: #fef0f0;
    color: #f56c6c;
    padding: 14px 20px;
    border-radius: 4px;
    border-left: 4px solid #f56c6c;
    z-index: 9999;
    box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);
  `</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(toast)
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> toast.<span class="hljs-title function_">remove</span>(), <span class="hljs-number">5000</span>)
}

app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p>å…¨å±€å¤„ç†å™¨æ˜¯ä½ çš„â€œå®‰å…¨ç½‘â€ï¼Œç¡®ä¿å³ä½¿æœ‰æœªé¢„æ–™çš„é”™è¯¯ï¼Œåº”ç”¨ä¹Ÿä¸ä¼šæ— å£°æ— æ¯åœ°å´©æºƒï¼Œè€Œæ˜¯ä»¥ä¸€ç§å¯æ§çš„æ–¹å¼å‘ŠçŸ¥ä½ å’Œç”¨æˆ·ã€‚</p>
<h2 data-id="heading-3">å®æˆ˜ç»„åˆæ‹³ï¼šæ„å»ºä¸€ä¸ªå¥å£®çš„é”™è¯¯å¤„ç†æµç¨‹</h2>
<p>ç†è®ºè¯´å®Œäº†ï¼Œæˆ‘ä»¬æ¥ç‚¹å®é™…çš„ã€‚ä¸€ä¸ªå®Œæ•´çš„é”™è¯¯å¤„ç†æµç¨‹ï¼Œåº”è¯¥ç»“åˆ <code>errorCaptured</code> çš„ç²¾ç»†æ§åˆ¶å’Œ <code>errorHandler</code> çš„å…¨å±€å…œåº•ã€‚è®¾æƒ³ä¸€ä¸ªå¸¸è§åœºæ™¯ï¼šä½ çš„åº”ç”¨é‡Œæœ‰ä¸€ä¸ªæ˜¾ç¤ºç”¨æˆ·åŠ¨æ€çš„ <code>Feed</code> ç»„ä»¶ï¼Œé‡Œé¢æ¯ä¸€æ¡åŠ¨æ€ç”±ä¸€ä¸ª <code>FeedItem</code> å­ç»„ä»¶æ¸²æŸ“ã€‚å¦‚æœæŸä¸€æ¡åŠ¨æ€çš„æ•°æ®å¼‚å¸¸å¯¼è‡´å…¶å­ç»„ä»¶æ¸²æŸ“å¤±è´¥ï¼Œæˆ‘ä»¬ä¸åº”è¯¥è®©æ•´ä¸ªåŠ¨æ€æµç™½å±ï¼Œè€Œåªæ˜¯è®©é‚£ä¸€æ¡åŠ¨æ€æ˜¾ç¤ºé”™è¯¯çŠ¶æ€ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥å®ç°è¿™ä¸ªåœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Feed.vue ï¼ˆåŠ¨æ€æµçˆ¶ç»„ä»¶ï¼‰</span>
&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"feed"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æœ€æ–°åŠ¨æ€<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¾ªç¯æ¸²æŸ“æ¯æ¡åŠ¨æ€ï¼Œç”¨ error-boundary åŒ…è£¹æ¯ä¸€é¡¹ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in feedItems"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"feed-item-wrapper"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- å…³é”®ï¼šæ¯ä¸ªåŠ¨æ€é¡¹éƒ½è¢«ä¸€ä¸ªâ€œé”™è¯¯è¾¹ç•Œâ€ç»„ä»¶åŒ…è£¹ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ErrorBoundary</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Fallback æ’æ§½å®šä¹‰é”™è¯¯æ—¶æ˜¾ç¤ºçš„å†…å®¹ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">fallback</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"feed-item-error"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>è¿™æ¡åŠ¨æ€æš‚æ—¶æ— æ³•æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"retryLoadItem(item.id)"</span>&gt;</span>é‡è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Default æ’æ§½æ˜¯æ­£å¸¸è¦æ¸²æŸ“çš„åŠ¨æ€é¡¹ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">FeedItem</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"item"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ErrorBoundary</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">FeedItem</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./FeedItem.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ErrorBoundary</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ErrorBoundary.vue'</span> <span class="hljs-comment">// è¿™æ˜¯æˆ‘ä»¬å³å°†åˆ›å»ºçš„é”™è¯¯è¾¹ç•Œç»„ä»¶</span>

<span class="hljs-comment">// æ¨¡æ‹ŸåŠ¨æ€æ•°æ®ï¼Œå…¶ä¸­ä¸€æ¡æ•°æ®æœ‰é—®é¢˜</span>
<span class="hljs-keyword">const</span> feedItems = <span class="hljs-title function_">ref</span>([
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'ä»Šå¤©å¤©æ°”çœŸå¥½ï¼'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'å­¦ä¹ äº†ä¸€ä¸ªæ–°çš„VueæŠ€å·§ã€‚'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">content</span>: <span class="hljs-literal">null</span> }, <span class="hljs-comment">// è¿™æ¡æ•°æ®çš„contentä¸ºnullï¼Œå¯èƒ½å¯¼è‡´å­ç»„ä»¶æ¸²æŸ“é”™è¯¯</span>
  { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'æ™šé¤åƒäº†å¥½åƒçš„ã€‚'</span> },
])

<span class="hljs-keyword">const</span> <span class="hljs-title function_">retryLoadItem</span> = (<span class="hljs-params">id</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`é‡è¯•åŠ è½½åŠ¨æ€ <span class="hljs-subst">${id}</span>`</span>)
  <span class="hljs-comment">// è¿™é‡Œå¯ä»¥é‡æ–°æ‹‰å–æ•°æ®æˆ–è¿›è¡Œå…¶ä»–æ¢å¤æ“ä½œ</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºé‚£ä¸ªæ ¸å¿ƒçš„ <code>ErrorBoundary</code> ç»„ä»¶ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯åˆ©ç”¨ <code>errorCaptured</code> é’©å­ï¼Œæ•è·å…¶é»˜è®¤æ’æ§½å†…æ‰€æœ‰å­ç»„ä»¶çš„é”™è¯¯ï¼Œå¹¶åœ¨å‡ºé”™æ—¶æ˜¾ç¤ºå¤‡ç”¨ï¼ˆfallbackï¼‰UIã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ErrorBoundary.vue ï¼ˆé”™è¯¯è¾¹ç•Œç»„ä»¶ï¼‰</span>
&lt;template&gt;
  &lt;!-- æ ¹æ®æ˜¯å¦æœ‰é”™è¯¯ï¼Œå†³å®šæ˜¾ç¤ºé»˜è®¤å†…å®¹è¿˜æ˜¯å¤‡ç”¨å†…å®¹ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!hasError"</span> /&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"fallback"</span> /&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onErrorCaptured } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// ä¸€ä¸ªæ ‡å¿—ä½ï¼Œè®°å½•å½“å‰è¾¹ç•Œå†…æ˜¯å¦å‘ç”Ÿäº†é”™è¯¯</span>
<span class="hljs-keyword">const</span> hasError = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)

<span class="hljs-title function_">onErrorCaptured</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'é”™è¯¯è¾¹ç•Œæ•è·åˆ°é”™è¯¯:'</span>, error.<span class="hljs-property">message</span>)
  
  <span class="hljs-comment">// æ ‡è®°é”™è¯¯çŠ¶æ€ï¼Œè¿™ä¼šè§¦å‘æ¨¡æ¿åˆ‡æ¢ï¼Œæ˜¾ç¤º fallback æ’æ§½</span>
  hasError.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  
  <span class="hljs-comment">// è¿”å› falseï¼Œé˜»æ­¢é”™è¯¯ç»§ç»­å‘ä¸Šå†’æ³¡åˆ°æ›´å¤–å±‚çš„ç»„ä»¶æˆ–å…¨å±€å¤„ç†å™¨</span>
  <span class="hljs-comment">// è¿™æ ·ï¼Œä¸€æ¡åŠ¨æ€çš„é”™è¯¯å°±ä¸ä¼šå½±å“æ•´ä¸ªFeedç»„ä»¶</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
})

<span class="hljs-comment">// å¯ä»¥æä¾›ä¸€ä¸ªé‡ç½®é”™è¯¯çŠ¶æ€çš„æ–¹æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">reset</span> = (<span class="hljs-params"/>) =&gt; {
  hasError.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
}

<span class="hljs-comment">// å¦‚æœéœ€è¦ï¼Œå¯ä»¥å°† reset æ–¹æ³•æš´éœ²ç»™çˆ¶ç»„ä»¶</span>
<span class="hljs-title function_">defineExpose</span>({ reset })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p>æœ€åï¼Œæ˜¯å¯èƒ½ä¸ç¨³å®šçš„ <code>FeedItem</code> ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// FeedItem.vue</span>
&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"feed-item"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¿™é‡Œå‡è®¾ content å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœä¼ å…¥ null å°±ä¼šå‡ºé”™ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ data.content.toUpperCase() }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> <span class="hljs-comment">&lt;!-- å½“ data.content ä¸º null æ—¶ï¼Œ.toUpperCase() ä¼šæŠ›å‡º TypeError --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">defineProps</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
  }
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p>çœ‹ï¼Œè¿™ä¸ªè®¾è®¡çš„ç¾å¦™ä¹‹å¤„åœ¨å“ªé‡Œï¼Ÿå½“æ¸²æŸ“åˆ°ç¬¬ä¸‰æ¡ <code>content</code> ä¸º <code>null</code> çš„åŠ¨æ€æ—¶ï¼Œ<code>FeedItem</code> ä¼šæŠ›å‡ºé”™è¯¯ã€‚è¿™ä¸ªé”™è¯¯è¢«å…¶çˆ¶çº§ <code>ErrorBoundary</code> ç»„ä»¶çš„ <code>errorCaptured</code> é’©å­æ•è·ã€‚é’©å­å°† <code>hasError</code> è®¾ä¸º <code>true</code>ï¼Œå¹¶è¿”å› <code>false</code> é˜»æ­¢é”™è¯¯ä¸Šä¼ ã€‚äºæ˜¯ï¼Œæ¨¡æ¿åˆ‡æ¢ä¸ºæ¸²æŸ“ <code>#fallback</code> æ’æ§½ï¼Œç”¨æˆ·çœ‹åˆ°çš„æ˜¯â€œè¿™æ¡åŠ¨æ€æš‚æ—¶æ— æ³•æ˜¾ç¤ºâ€å’Œä¸€ä¸ªé‡è¯•æŒ‰é’®ï¼Œè€Œå…¶ä»–ä¸‰æ¡åŠ¨æ€å®Œå…¨ä¸å—å½±å“ï¼Œå…¨å±€é”™è¯¯å¤„ç†å™¨ä¹Ÿæ ¹æœ¬ä¸ä¼šæ”¶åˆ°è¿™ä¸ªé”™è¯¯çš„é€šçŸ¥ã€‚</p>
<p>è¿™ç§æ¨¡å¼ï¼Œå°±æ˜¯å‰ç«¯é¢†åŸŸå¸¸è¯´çš„â€œé”™è¯¯è¾¹ç•Œâ€(Error Boundaries)æ¦‚å¿µåœ¨Vueä¸­çš„å®ç°ã€‚å®ƒæå¤§åœ°æå‡äº†åº”ç”¨çš„éŸ§æ€§ã€‚</p>
<h2 data-id="heading-4">ä¸€äº›é‡è¦çš„ç»†èŠ‚ä¸é™·é˜±</h2>
<p>æŒæ¡äº†æ ¸å¿ƒç”¨æ³•ï¼Œæˆ‘ä»¬è¿˜å¾—èŠèŠé‚£äº›å®¹æ˜“è¸©å‘çš„ç»†èŠ‚ï¼Œè®©ä½ çœŸæ­£ä»â€œä¼šç”¨â€åˆ°â€œç²¾é€šâ€ã€‚</p>
<p><strong>ç¬¬ä¸€ï¼Œ<code>errorCaptured</code> èƒ½æ•è·æ‰€æœ‰é”™è¯¯å—ï¼Ÿ</strong> å¾ˆé—æ†¾ï¼Œä¸èƒ½ã€‚å®ƒä¸»è¦æ•è·ä»¥ä¸‹å‡ ç±»ï¼š</p>
<ol>
<li>ç»„ä»¶çš„æ¸²æŸ“å‡½æ•°é”™è¯¯ã€‚</li>
<li>ä¾¦å¬å™¨å›è°ƒå‡½æ•°ï¼ˆwatcherï¼‰é‡Œçš„é”™è¯¯ã€‚</li>
<li>ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œçš„é”™è¯¯ã€‚</li>
<li>è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆ<code>$emit</code> è§¦å‘çš„çˆ¶ç»„ä»¶å›è°ƒï¼‰é‡Œçš„é”™è¯¯ã€‚
ä½†æ˜¯ï¼Œ<strong>å¼‚æ­¥å›è°ƒ</strong>ï¼ˆæ¯”å¦‚ <code>setTimeout</code>ã€<code>Promise.catch</code> å¤–éƒ¨ã€æ¥å£è¯·æ±‚çš„æˆåŠŸå›è°ƒï¼‰ä¸­çš„é”™è¯¯ï¼Œ<code>errorCaptured</code> æ˜¯æŠ“ä¸åˆ°çš„ã€‚è¿™äº›é”™è¯¯ä¼šé€ƒé€¸åˆ°åŸç”Ÿçš„ <code>window.onerror</code> æˆ– <code>unhandledrejection</code> äº‹ä»¶ä¸­ã€‚</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ï¼šerrorCaptured æ— æ³•æ•è·çš„é”™è¯¯</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// æƒ…å†µ1ï¼šsetTimeout å¼‚æ­¥é”™è¯¯</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å¼‚æ­¥setTimeouté”™è¯¯'</span>) <span class="hljs-comment">// è¿™ä¸ªé”™è¯¯ errorCaptured æŠ“ä¸åˆ°ï¼</span>
  }, <span class="hljs-number">1000</span>)
  
  <span class="hljs-comment">// æƒ…å†µ2ï¼šPromise ä¸­æœªcatchçš„é”™è¯¯</span>
  <span class="hljs-title function_">someAsyncFunction</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Promise thenå›è°ƒé”™è¯¯'</span>) <span class="hljs-comment">// è¿™ä¸ªé”™è¯¯ errorCaptured ä¹ŸæŠ“ä¸åˆ°ï¼</span>
  })
  <span class="hljs-comment">// æ­£ç¡®åšæ³•æ˜¯åœ¨Promiseé“¾å†…éƒ¨æ•è·ï¼Œæˆ–è€…ç”¨.catch</span>
})

<span class="hljs-comment">// ä½ éœ€è¦ç”¨åŸç”Ÿçš„å…¨å±€é”™è¯¯ç›‘å¬æ¥è¡¥è¶³</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'unhandledrejection'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ•è·åˆ°æœªå¤„ç†çš„Promiseæ‹’ç»:'</span>, event.<span class="hljs-property">reason</span>)
  event.<span class="hljs-title function_">preventDefault</span>() <span class="hljs-comment">// é˜»æ­¢æµè§ˆå™¨é»˜è®¤çš„é”™è¯¯æ‰“å°</span>
})
</code></pre>
<p><strong>ç¬¬äºŒï¼Œé”™è¯¯å¤„ç†çš„é¡ºåºå¾ˆé‡è¦ã€‚</strong> é”™è¯¯å†’æ³¡çš„è·¯å¾„æ˜¯ï¼šå‡ºé”™çš„ç»„ä»¶æœ¬èº«ï¼ˆå¦‚æœæœ‰<code>errorCaptured</code>ï¼‰-&gt; çˆ¶ç»„ä»¶ -&gt; çˆ¶ç»„ä»¶çš„çˆ¶ç»„ä»¶ -&gt; ... -&gt; å…¨å±€ <code>errorHandler</code>ã€‚ä»»ä½•ä¸€ä¸ªç¯èŠ‚çš„ <code>errorCaptured</code> è¿”å› <code>false</code>ï¼Œé“¾æ¡å°±ä¼šä¸­æ–­ã€‚</p>
<p><strong>ç¬¬ä¸‰ï¼Œå…³äºæœåŠ¡ç«¯æ¸²æŸ“(SSR)ã€‚</strong> åœ¨SSRç¯å¢ƒä¸‹ï¼ˆå¦‚Nuxt.jsï¼‰ï¼Œ<code>errorCaptured</code> å’Œå®¢æˆ·ç«¯çš„è¡Œä¸ºä¸€è‡´ã€‚ä½† <code>app.config.errorHandler</code> åœ¨æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æ˜¯åˆ†å¼€é…ç½®çš„ã€‚åœ¨Nuxtä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>vueApp.config.errorHandler</code> åœ¨æ’ä»¶ä¸­é…ç½®ï¼Œæˆ–è€…ä½¿ç”¨Nuxtæä¾›çš„æ›´é«˜å±‚çº§çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p>
<h2 data-id="heading-5">æ€»ç»“ï¼šä»æ‰‹å¿™è„šä¹±åˆ°ä»å®¹åº”å¯¹</h2>
<p>èµ°å®Œè¿™ä¸€è¶Ÿï¼Œä½ ä¼šå‘ç°ï¼ŒVueçš„é”™è¯¯å¤„ç†ä¸å†æ˜¯é»‘ç›’ã€‚ä»ç»†ç²’åº¦çš„ <code>errorCaptured</code> é’©å­åˆ°å…¨å±€çš„ <code>errorHandler</code>ï¼Œæˆ‘ä»¬æ‹¥æœ‰äº†ä¸€å¥—å®Œæ•´çš„å·¥å…·æ¥åº”å¯¹å„ç§æ„å¤–ã€‚</p>
<p>æœ€æ¸…æ™°çš„æ€è·¯æ˜¯åˆ†å±‚å¤„ç†ï¼š</p>
<ul>
<li>åœ¨å¶å­ç»„ä»¶æˆ–å¯èƒ½å‡ºé”™çš„ç‰¹å®šç»„ä»¶å‘¨å›´ï¼Œä½¿ç”¨<strong>é”™è¯¯è¾¹ç•Œæ¨¡å¼</strong>ï¼ˆåˆ©ç”¨ <code>errorCaptured</code> è¿”å› <code>false</code>ï¼‰æ¥éš”ç¦»éå…³é”®é”™è¯¯ï¼Œä¿è¯å±€éƒ¨æ•…éšœä¸å½±å“å…¨å±€ã€‚</li>
<li>åœ¨åº”ç”¨çš„æ ¹å±‚é¢ï¼Œé…ç½®å¼ºå¤§çš„<strong>å…¨å±€é”™è¯¯å¤„ç†å™¨</strong>ï¼Œç”¨äºè®°å½•æ‰€æœ‰æœªå¤„ç†çš„é”™è¯¯ã€ä¸ŠæŠ¥æ—¥å¿—ã€å¹¶å±•ç¤ºç»Ÿä¸€çš„å‹å¥½æç¤ºï¼Œå®ˆä½æœ€åçš„ç”¨æˆ·ä½“éªŒåº•çº¿ã€‚</li>
<li>è®¤è¯†åˆ°å±€é™æ€§ï¼Œç”¨åŸç”Ÿçš„ <code>window.onerror</code> å’Œ <code>unhandledrejection</code> äº‹ä»¶æ¥è¡¥å……æ•è·å¼‚æ­¥é”™è¯¯ã€‚</li>
</ul>
<p>ä¸è¦å†è®©é”™è¯¯åœ¨ä½ é¢å‰è£¸å¥”äº†ã€‚èŠ±ç‚¹æ—¶é—´ï¼Œä¸ºä½ çš„ä¸‹ä¸€ä¸ªVueé¡¹ç›®è§„åˆ’å¥½é”™è¯¯å¤„ç†ç­–ç•¥ã€‚å½“é”™è¯¯å†æ¬¡å‘ç”Ÿæ—¶ï¼Œä½ ä¼šçœ‹åˆ°æ¸…æ™°çš„æ—¥å¿—ã€å¯æ§çš„ç•Œé¢ï¼Œè€Œä¸æ˜¯ç”¨æˆ·çš„æŠ±æ€¨å’Œä½ çš„å›°æƒ‘ã€‚è¿™ä»½ä»å®¹ï¼Œå°±æ˜¯ä¸€ä¸ªæˆç†Ÿå¼€å‘è€…çš„æ ‡å¿—ã€‚ç°åœ¨ï¼Œå°±å»ä½ çš„é¡¹ç›®ä¸­è¯•è¯•å§ï¼Œä»ä¸ºä¸€ä¸ªç»„ä»¶æ·»åŠ ç¬¬ä¸€ä¸ª <code>onErrorCaptured</code> å¼€å§‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter 3.38 åŠ¨ç”»æ–°ç‰¹æ€§ï¼šåŠ¨ç”»å¼•æ“æœ‰ä»€ä¹ˆæ–°å˜åŒ–ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7579673620940308530</link>    <guid>https://juejin.cn/post/7579673620940308530</guid>    <pubDate>2025-12-04T01:51:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579673620940308530" data-draft-id="7578780780026560521" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter 3.38 åŠ¨ç”»æ–°ç‰¹æ€§ï¼šåŠ¨ç”»å¼•æ“æœ‰ä»€ä¹ˆæ–°å˜åŒ–ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-04T01:51:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JarvanMo"/> <meta itemprop="url" content="https://juejin.cn/user/2348212565845704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter 3.38 åŠ¨ç”»æ–°ç‰¹æ€§ï¼šåŠ¨ç”»å¼•æ“æœ‰ä»€ä¹ˆæ–°å˜åŒ–ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2348212565845704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JarvanMo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T01:51:14.000Z" title="Thu Dec 04 2025 01:51:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Flutter 3.38 ä¸ºå…¶åŠ¨ç”»å¼•æ“å¸¦æ¥äº†é¢ è¦†æ€§çš„æ›´æ–° ï¼Œå®ç°äº†æ›´æµç•…çš„è¿‡æ¸¡ã€<strong>æ›´ä¼˜å¼‚çš„æ€§èƒ½</strong>ï¼Œä»¥åŠå¼ºå¤§çš„å…¨æ–° APIï¼Œä½¿å¤æ‚çš„åŠ¨ç”»å®ç°èµ·æ¥å‡ºå¥‡åœ°ç®€å•ã€‚</p>
<p>è¿˜è®°å¾—ä»¥å‰åœ¨ Flutter ä¸­åˆ¶ä½œåŠ¨ç”»ï¼Œæ„Ÿè§‰åƒæ˜¯åœ¨ä¸<strong>è®¡æ—¶å‡½æ•° (timing functions)</strong> å’Œ <strong>æ§åˆ¶å™¨ (controllers)</strong> ææ–—å—ï¼Ÿæƒ³è¦å®ç°å®Œç¾çš„<strong>å¼¹ç°§æ•ˆæœ (spring action)</strong> ï¼Œå°±æ„å‘³ç€è¦ç¼–å†™<strong>é•¿ç¯‡å¤§è®ºçš„è‡ªå®šä¹‰ä»£ç </strong>ï¼Ÿ</p>
<p>ç°åœ¨ <strong>Flutter 3.38 å·²ç»æ‹‰å¹³äº†ç«äº‰ç¯å¢ƒ</strong>ï¼ˆlevelled the playing fieldï¼‰ã€‚è¿™æ˜¯ <strong>Flutter å‘å¸ƒä»¥æ¥æœ€å¤§çš„æ›´æ–°</strong>ï¼Œå¦‚æœæ‚¨ä»ç„¶åœ¨ä½¿ç”¨è€æ–¹æ³•åˆ¶ä½œåŠ¨ç”»ï¼Œé‚£æ‚¨<strong>å·¥ä½œå¾—å¤ªè¾›è‹¦äº†</strong>ã€‚</p>
<blockquote>
<p>æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼šOpenFlutterã€‚</p>
</blockquote>
<h2 data-id="heading-0">âš™ï¸ Impeller é©å‘½èƒŒåçš„å˜åŒ–</h2>
<p><strong>Impeller æ¸²æŸ“å¼•æ“</strong>åœ¨ <strong>Android ä¸Šç¨³å®šå‘å¸ƒ</strong>ï¼ˆè‡ª 3.10 ç‰ˆæœ¬èµ·å·²åœ¨ iOS ä¸Šå¯ç”¨ï¼‰â€”â€” è¿™æ˜¯ Flutter 3.38 çš„è‰æ¡ˆã€‚è¿™ä¸ä»…ä»…æ˜¯åç«¯å¼•æ“çš„äº’æ¢ï¼Œå®ƒ<strong>æ”¹å˜äº†åŠ¨ç”»çš„å®ç°æ–¹å¼</strong>ï¼š</p>
<ul>
<li><strong>åœ¨æ”¯æŒçš„è®¾å¤‡ä¸Šé”å®š 120fps</strong>ï¼ˆè¿‡å»æ›¾è¢«é™åˆ¶åœ¨ 60fpsï¼‰ã€‚</li>
<li><strong>æ¶ˆé™¤äº†ç€è‰²å™¨ç¼–è¯‘çš„å¡é¡¿ (shader compilation jank)</strong> â€”â€” ä¸å†æœ‰é¦–æ¬¡è¿è¡Œæ—¶çš„å¡é¡¿ç°è±¡ã€‚</li>
<li><strong>Flutter å›¢é˜Ÿçš„åŸºå‡†æµ‹è¯•ï¼šåŠ¨ç”»æ¸²æŸ“é€Ÿåº¦æé«˜ 40%</strong> ã€‚</li>
<li><strong>å¸§è®¡æ—¶åœ¨ä»»ä½•åœ°æ–¹éƒ½ä¿æŒä¸€è‡´</strong>ã€‚</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼Ÿå³ä½¿åœ¨ä¸­ç«¯ Android è®¾å¤‡ä¸Šï¼Œæ‚¨çš„åŠ¨ç”»ç°åœ¨ä¹Ÿèƒ½å¦‚ä¸èˆ¬æµç•…ã€‚</p>
<h2 data-id="heading-1">ğŸ†• é‡è¦çš„å…¨æ–°åŠ¨ç”» API</h2>
<h3 data-id="heading-2">1. ä½¿ç”¨ <code>AnimatedSlide</code> ç®€åŒ–éšå¼åŠ¨ç”»</h3>
<p>æœ‰äº†å…¨æ–°çš„ <strong><code>AnimatedSlide</code></strong> æ§ä»¶ï¼Œ<strong>ä¸å†éœ€è¦è‡ªåŠ¨è®¡ç®—åç§»é‡ (offsets) <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span></strong></p>
<pre><code class="hljs language-dart" lang="dart">AnimatedSlide(
  offset: _isExpanded ? Offset.zero : Offset(<span class="hljs-number">0</span>, <span class="hljs-number">-0.5</span>),
  duration: <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">300</span>),
  curve: Curves.easeOutCubic,
  child: ExpandedContent(),
)
</code></pre>
<p><strong>ä»¥å‰</strong>ï¼šéœ€è¦ä½¿ç”¨ <code>AnimatedBuilder</code> + <code>Tween</code>ï¼Œå¹¶è¿›è¡Œ<strong>æ‰‹åŠ¨æ•°å­¦è®¡ç®—</strong>ã€‚</p>
<p><strong>ç°åœ¨</strong>ï¼šå³ä½¿æ˜¯<strong>ä¸‰è¡Œå£°æ˜å¼ä»£ç </strong>ä¹Ÿèƒ½å®Œæˆã€‚</p>
<hr/>
<h2 data-id="heading-3">2. <code>CurvedAnimation</code> å¾—åˆ°è¶…çº§å¢å¼º</h2>
<p><strong>Flutter 3.38</strong> â€” å¼•å…¥äº†<strong>è‡ªå®šä¹‰æ›²çº¿æ’å€¼</strong> (<code>Custom curve interpolation</code>)ï¼Œ<strong>è®©æ‚¨å¯ä»¥æ§åˆ¶æ’å€¼è¿‡ç¨‹ï¼</strong></p>
<blockquote>
<p>ä»¥å‰ï¼Œæ‚¨åªèƒ½ä½¿ç”¨é¢„å®šä¹‰çš„æ›²çº¿ï¼ˆå¦‚ <code>Curves.easeIn</code>ï¼‰ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥æ›´ç²¾ç»†åœ°æ§åˆ¶åŠ¨ç”»å¦‚ä½•æ²¿ç€å…¶æ›²çº¿è¿›è¡ŒåŠ é€Ÿå’Œå‡é€Ÿï¼Œå®ç°æ›´ç‹¬ç‰¹çš„æ—¶åºæ•ˆæœã€‚</p>
</blockquote>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">final</span> customCurve = CurvedAnimation(
  parent: _controller,
  curve: Curves.elasticOut,
  reverseCurve: Curves.easeInQuart, <span class="hljs-comment">// New: different reverse curve</span>
);
</code></pre>
<p>æ‚¨ç°åœ¨å¯ä»¥ç®€å•åœ°æŠ“ä½æŠŠæ‰‹æ‹‰å¼€é—¨ï¼Œå®ƒä¼šå¼¹å¼€ï¼Œä½†éšååƒåœ¨è½´æ‰¿ä¸Šæ»‘åŠ¨ä¸€æ ·å¹³ç¨³åœ°å…³é—­ ã€‚</p>
<p>è¿™ç§å…¨æ–°çš„è¡Œä¸ºï¼Œç°åœ¨ä»…ä»…é€šè¿‡ä¸€ä¸ªç®€å•çš„è°ƒæ•´å°±å®ç°äº†ã€‚</p>
<hr/>
<h2 data-id="heading-4">3. <code>AnimationController.repeat()</code> å¢å¼ºåŠŸèƒ½</h2>
<p><strong>å¾ªç¯åŠ¨ç”»</strong>å˜å¾—æ›´æ™ºèƒ½äº†ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">_controller.repeat(
  period: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>),
  reverse: <span class="hljs-keyword">true</span>,
  min: <span class="hljs-number">0.0</span>,
  max: <span class="hljs-number">1.0</span>,
);
</code></pre>
<p>æ–°å¢çš„ <strong><code>period</code> å‚æ•°</strong>ä¸ºæ‚¨æä¾›äº†<strong>å¸§çº§ç²¾ç¡®è®¡æ—¶ï¼ˆframe-perfect timingï¼‰</strong> ï¼Œä»è€Œç¡®ä¿æ‚¨çš„<strong>é•¿æ—¶é—´è¿è¡Œçš„åŠ¨ç”»ä¸ä¼šäº§ç”Ÿæ¼‚ç§»ï¼ˆdriftï¼‰</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ’ æ€§èƒ½ä¼˜åŒ–ï¼šéšè—çš„å®è—</h2>
<h3 data-id="heading-6">1. <code>RepaintBoundary</code> è‡ªåŠ¨åŒ–</h3>
<p><strong><code>RepaintBoundary</code> ä¼˜åŒ–</strong>ï¼šFlutter 3.38 ä¸­çš„æ¸²æŸ“å¼•æ“ä¼š<strong>è‡ªåŠ¨è¯†åˆ«åŒ…å«å¤æ‚åŠ¨ç”»çš„æ§ä»¶</strong>ï¼Œå¹¶<strong>è‡ªåŠ¨åº”ç”¨ <code>RepaintBoundary</code> ä¼˜åŒ–</strong>ã€‚</p>
<ul>
<li>å®ƒä»ç„¶å…·æœ‰æ‰‹åŠ¨æ”¾ç½®çš„ä¼˜ç‚¹ï¼Œä½†å¼•æ“ç°åœ¨<strong>æ›´æ™ºèƒ½</strong>ï¼Œä¸ä¼šè¿›è¡Œä¸å¿…è¦çš„è¿‡åº¦é‡ç»˜ ã€‚</li>
<li>ç›Šå¤„ï¼šåœ¨å¤æ‚çš„åˆ—è¡¨åŠ¨ç”»ä¸­ï¼Œæ— éœ€ä¿®æ”¹ä»£ç å³å¯å®ç°25% åˆ° 30% çš„æ€§èƒ½æå‡ã€‚</li>
</ul>
<h3 data-id="heading-7">2. <code>AnimatedWidget</code> å†…å­˜æ”¹è¿›</h3>
<p>ç°åœ¨ï¼Œå®ƒä¼šæ± åŒ–<code>AnimatedWidget</code> å®ä¾‹ï¼Œä»¥å‡å°‘<strong>å¿«é€ŸåŠ¨ç”»æœŸé—´çš„å†…å­˜åˆ†é…</strong>ï¼ˆå¦‚æœæ‚¨çš„åŠ¨ç”»åœ¨è¿è¡Œåç«‹å³ä»æ§ä»¶æ ‘ä¸­ç§»é™¤ï¼Œå®ƒä¼šè¢«æ”¾å…¥è¿™ä¸ªå†…å­˜æ± ä¸­ï¼‰ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BouncingLogo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AnimatedWidget</span> </span>{
  <span class="hljs-keyword">const</span> BouncingLogo({<span class="hljs-keyword">super</span>.key, <span class="hljs-keyword">required</span> Animation&lt;<span class="hljs-built_in">double</span>&gt; animation})
      : <span class="hljs-keyword">super</span>(listenable: animation);

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">final</span> animation = listenable <span class="hljs-keyword">as</span> Animation&lt;<span class="hljs-built_in">double</span>&gt;;
    <span class="hljs-keyword">return</span> Transform.scale(
      scale: animation.value,
      child: FlutterLogo(size: <span class="hljs-number">200</span>),
    );
  }
}
</code></pre>
<p><strong>æˆæœ</strong> ï¼šåŠ¨ç”»å·¥ä½œæ—¶ä¸ä¼šå‡ºç°åƒåœ¾å›æ”¶åœé¡¿â€”â€” å°¤å…¶æ˜¯æ‚¨çš„å·¦å³æ»šåŠ¨ç±»çš„åŠ¨ç”»ä¼šæ„Ÿè§‰æµç•…å¾—å¤šã€‚</p>
<hr/>
<h2 data-id="heading-8">ğŸ¤¯ æ”¹å˜æ¸¸æˆè§„åˆ™çš„åŠŸèƒ½ï¼šåŸºäºç‰©ç†çš„åŠ¨ç”»å°†å˜å¾—éå¸¸ç®€å•</h2>
<p>éšç€ Flutter 3.38 çš„åˆ°æ¥ï¼Œæ”¹è¿›åçš„ <code>SpringSimulation</code> æ„Ÿè§‰å¼‚å¸¸é€¼çœŸï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">final</span> spring = SpringSimulation(
  SpringDescription(
    mass: <span class="hljs-number">1</span>,
    stiffness: <span class="hljs-number">180</span>,  <span class="hljs-comment">// More control over bounce</span>
    damping: <span class="hljs-number">12</span>,     <span class="hljs-comment">// Finer damping adjustment</span>
  ),
  <span class="hljs-number">0</span>, <span class="hljs-comment">// start</span>
  <span class="hljs-number">1</span>, <span class="hljs-comment">// end</span>
  <span class="hljs-number">0</span>, <span class="hljs-comment">// velocity</span>
);

_controller.animateWith(spring);
</code></pre>
<h2 data-id="heading-9">ğŸ’¡ ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦</h2>
<p><strong>é‡è¦æ€§</strong>ï¼šå¼¹ç°§åŠ¨ç”»ï¼ˆSpring animationsï¼‰ç°åœ¨æ‹¥æœ‰åª²ç¾ iOS çš„è´¨é‡ï¼Œè€Œä¸”ä¸éœ€è¦å¤æ‚çš„ <code>PhysicsSimulation</code> é­”æ³•ã€‚ç°åœ¨ï¼Œæ‚¨çš„ Material Design åº”ç”¨å¯ä»¥ä½“ç°å‡ºä¸åŸç”Ÿ iOS åŠ¨ç”»ç›¸åŒçš„è§¦æ„Ÿã€‚</p>
<hr/>
<h2 data-id="heading-10">ğŸ¨ å†…ç½® Material 3 åŠ¨æ•ˆè§„èŒƒ</h2>
<p><strong>ä¸€æµçš„ Material 3 è¿åŠ¨æ›²çº¿</strong>ï¼š</p>
<ul>
<li><strong><code>Easing.emphasizedDecelerate</code></strong>ï¼šç”¨äº<strong>ä¸»å…ƒç´ è¿‡æ¸¡</strong>ï¼ˆhero transitionsï¼‰ã€‚</li>
<li><strong><code>Easing.emphasizedAccelerate</code></strong>ï¼šç”¨äº<strong>é€€å‡ºåŠ¨ç”»</strong>ï¼ˆexit animationsï¼‰ã€‚</li>
<li><strong><code>Easing.standard</code></strong>ï¼šç”¨äº<strong>é»˜è®¤åŠ¨æ•ˆ</strong>ï¼ˆdefault motionï¼‰ã€‚</li>
</ul>
<p>è¿™äº›<strong>ä¸åªæ˜¯æ™®é€šçš„æ›²çº¿</strong>â€”â€”å®ƒä»¬æ˜¯ Material Design 3 è§„å®šçš„ç²¾ç¡®æ›²çº¿ï¼Œèƒ½å¤Ÿè®©æ‚¨çš„åŠ¨ç”»ä¸­çš„è¡¥é—´ï¼ˆtweensï¼‰ä¸ Google çš„è®¾è®¡ç³»ç»Ÿ<strong>å®Œå…¨åŒ¹é…</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-11">ğŸ“ˆ çœŸå®ä¸–ç•Œå½±å“ï¼šä¹‹å‰ä¸ä¹‹å</h2>
<p>å°†ä¸€ä¸ªåŒ…å« <strong>40 å¤šä¸ªåŠ¨ç”»å±å¹•</strong>çš„ç°æœ‰ç”Ÿäº§åº”ç”¨è¿ç§»åˆ° <strong>Flutter 3.38</strong> åçš„ç»“æœï¼š</p>
<ul>
<li><strong>æ„å»ºé€Ÿåº¦æå‡</strong>ï¼šåŠ¨ç”»ç¼–è¯‘é€Ÿåº¦å¿«äº† 35% ã€‚</li>
<li><strong>è¿è¡Œæ—¶æµç•…åº¦</strong>ï¼šåœ¨ Pixel 6 ä¸Šé›¶ä¸¢å¸§ã€‚</li>
<li><strong>ä»£ç è¡Œæ•°å‡å°‘</strong>ï¼šé€šè¿‡ä½¿ç”¨æ–°çš„éšå¼åŠ¨ç”»**ï¼Œå‡å°‘äº† 200 å¤šè¡Œä»£ç ã€‚</li>
<li><strong>é¦–æ¬¡ç”¨æˆ·åé¦ˆ</strong>ï¼šâ€œApp æ›´å¿«äº†â€ï¼ˆå³ä½¿æˆ‘ä»¬æ²¡æœ‰æ”¹å˜ä¸šåŠ¡é€»è¾‘ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">âœ… æ€»ç»“</h2>
<p>åŠ¨ç”»å¼•æ“çš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ä»…è¦æ¯” Flutter 3.38 ä¹‹å‰æ›´å¿«ï¼Œè€Œä¸”è¦æ›´å®¹æ˜“ä½¿ç”¨ã€‚Impeller æ¸²æŸ“ã€æ”¹è¿›çš„ API å’Œè‡ªåŠ¨ä¼˜åŒ–ç›¸ç»“åˆï¼Œä½¿å¾—æ‚¨å¯ä»¥ç”¨æ¯”ä»¥å‰å°‘å¾—å¤šçš„ä»£ç æ¥å®ç°æƒ³è¦çš„ç”¨æˆ·ä½“éªŒï¼Œç”šè‡³è¾¾åˆ°ç”µå½±çº§çš„è´¨é‡ã€‚</p>
<p>ä»…ä»…å‡­è¿™ä¸€ç‚¹ï¼Œå¯¹äºé‚£äº›ä»ç„¶åœç•™åœ¨Flutter 3.24 æˆ–æ›´æ—©ç‰ˆæœ¬çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ¬¡å‡çº§å°±éå¸¸å€¼å¾—ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŠå¹´æ—¶é—´ä½¿ç”¨ Tiptap å¼€å‘ä¸€ä¸ªå’Œé£ä¹¦å·®ä¸å¤šæ•ˆæœçš„ååŒæ–‡æ¡£ ğŸ˜ğŸ˜ğŸ˜]]></title>    <link>https://juejin.cn/post/7579702046955225131</link>    <guid>https://juejin.cn/post/7579702046955225131</guid>    <pubDate>2025-12-04T08:55:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579702046955225131" data-draft-id="7579702046955175979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŠå¹´æ—¶é—´ä½¿ç”¨ Tiptap å¼€å‘ä¸€ä¸ªå’Œé£ä¹¦å·®ä¸å¤šæ•ˆæœçš„ååŒæ–‡æ¡£ ğŸ˜ğŸ˜ğŸ˜"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T08:55:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moment"/> <meta itemprop="url" content="https://juejin.cn/user/3782764966460398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŠå¹´æ—¶é—´ä½¿ç”¨ Tiptap å¼€å‘ä¸€ä¸ªå’Œé£ä¹¦å·®ä¸å¤šæ•ˆæœçš„ååŒæ–‡æ¡£ ğŸ˜ğŸ˜ğŸ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782764966460398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moment
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T08:55:55.000Z" title="Thu Dec 04 2025 08:55:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>å†™äº†åŠå¹´çš„ååŒæ–‡æ¡£ç»ˆäºæœ‰ç‚¹åƒæ ·äº†ï¼Œç›®å‰æ–°å¢æ•°å­¦å…¬å¼ã€RAGã€ç»­å†™ï¼Œåˆ’è¯è¯„è®ºï¼Œåˆ›å»ºç»„ç»‡å’Œ @ äººç­‰åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">é¡¹ç›®é“¾æ¥</h2>
<ul>
<li><strong>é¡¹ç›®åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.codecrack.cn%2F" target="_blank" title="https://www.codecrack.cn/" ref="nofollow noopener noreferrer">www.codecrack.cn/</a></li>
<li><strong>GitHub åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2FDocFlow" target="_blank" title="https://github.com/xun082/DocFlow" ref="nofollow noopener noreferrer">github.com/xun082/DocFâ€¦</a></li>
<li>è”ç³»å¾®ä¿¡ï¼š<code>yunmz777</code></li>
</ul>
<h2 data-id="heading-1">æ–°åŠŸèƒ½é¢„è§ˆ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e34b25d26e94d76a75fb4b8ffb5eaeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765443355&amp;x-signature=JMdbht4pAUcyzbNAywN5kv3juI8%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251203164800_7_66.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/613a493f64094f3f931972297dbaf44b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765443355&amp;x-signature=oHLkaTmJHHRSZBBxHWH9kFFHjWo%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251203164911_8_66.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d00762660bb143cf95c6b99dd25316fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765443355&amp;x-signature=kWmUKEKFAco%2B6IiyOiFzQEXPXoE%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251203164924_9_66.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c76aa7c27774844b421bc0ae4e30ef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765443355&amp;x-signature=UpHxBWqheqilXgZN6JuOmdmAJKQ%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251203165229_10_66.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7d4f42e4b044586b42fdaec8c536621~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765443355&amp;x-signature=Sk2SqCnegAMC1g591QPU%2Fg0gJoI%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251203165403_11_66.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/537e62ded9d44d61bb93b0b5c49510b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765443355&amp;x-signature=Kw9k9cIcRPlhL040%2BgLsxtnyvuM%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251203165442_12_66.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d5298a269af4b99ac759430bb9b3b8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765443355&amp;x-signature=t4jwq7zOdcUEJK1VEHrURb69Uog%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251203165502_13_66.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot ThreadLocal çˆ¶å­çº¿ç¨‹ä¼ å€¼çš„å‡ ç§å®ç°æ–¹å¼]]></title>    <link>https://juejin.cn/post/7579519985699848198</link>    <guid>https://juejin.cn/post/7579519985699848198</guid>    <pubDate>2025-12-04T00:05:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579519985699848198" data-draft-id="7579101504289308726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot ThreadLocal çˆ¶å­çº¿ç¨‹ä¼ å€¼çš„å‡ ç§å®ç°æ–¹å¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-04T00:05:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot ThreadLocal çˆ¶å­çº¿ç¨‹ä¼ å€¼çš„å‡ ç§å®ç°æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T00:05:07.000Z" title="Thu Dec 04 2025 00:05:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    45
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°éœ€è¦åœ¨çˆ¶å­çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®çš„åœºæ™¯ã€‚æ¯”å¦‚ç”¨æˆ·èº«ä»½ä¿¡æ¯ã€è¯·æ±‚IDã€é“¾è·¯è¿½è¸ªIDç­‰ã€‚</p>
<p>ThreadLocalä½œä¸ºJavaä¸­é‡è¦çš„çº¿ç¨‹æœ¬åœ°å˜é‡æœºåˆ¶ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†åœ¨å•ä¸ªçº¿ç¨‹å†…å­˜å‚¨æ•°æ®çš„ä¾¿åˆ©ã€‚ä½†æ˜¯ï¼Œå½“æ¶‰åŠåˆ°çˆ¶å­çº¿ç¨‹ä¹‹é—´çš„æ•°æ®ä¼ é€’æ—¶ï¼ŒThreadLocalé»˜è®¤çš„è¡Œä¸ºå¹¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»åœ¨SpringBootåº”ç”¨ä¸­å®ç°ThreadLocalçˆ¶å­çº¿ç¨‹ä¼ å€¼çš„å‡ ç§æ–¹å¼ã€‚</p>
<h2 data-id="heading-1">ThreadLocal åŸºç¡€å›é¡¾</h2>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç®€å•å›é¡¾ä¸€ä¸‹ThreadLocalçš„åŸºæœ¬åŸç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadLocal</span>&lt;T&gt; {
    <span class="hljs-comment">// æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ThreadLocalMap</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">set</span><span class="hljs-params">(T value)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> Thread.currentThread();
        <span class="hljs-type">ThreadLocalMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> getMap(t);
        <span class="hljs-keyword">if</span> (map != <span class="hljs-literal">null</span>)
            map.set(<span class="hljs-built_in">this</span>, value);
        <span class="hljs-keyword">else</span>
            createMap(t, value);
    }

    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">get</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> Thread.currentThread();
        <span class="hljs-type">ThreadLocalMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> getMap(t);
        <span class="hljs-keyword">if</span> (map != <span class="hljs-literal">null</span>) {
            ThreadLocalMap.<span class="hljs-type">Entry</span> <span class="hljs-variable">e</span> <span class="hljs-operator">=</span> map.getEntry(<span class="hljs-built_in">this</span>);
            <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">null</span>) {
                <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
                <span class="hljs-type">T</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> (T)e.value;
                <span class="hljs-keyword">return</span> result;
            }
        }
        <span class="hljs-keyword">return</span> setInitialValue();
    }
}
</code></pre>
<p>ThreadLocalçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¸ºæ¯ä¸ªçº¿ç¨‹ç»´æŠ¤ä¸€ä¸ªç‹¬ç«‹çš„ThreadLocalMapï¼Œä»è€Œå®ç°çº¿ç¨‹éš”ç¦»ã€‚</p>
<h2 data-id="heading-2">é—®é¢˜çš„æå‡º</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥çœ‹çœ‹ThreadLocalåœ¨çˆ¶å­çº¿ç¨‹ä¸­çš„é»˜è®¤è¡Œä¸º</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadLocalDemo</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ThreadLocal&lt;String&gt; threadLocal = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        threadLocal.set(<span class="hljs-string">"ä¸»çº¿ç¨‹çš„å€¼"</span>);
        System.out.println(<span class="hljs-string">"ä¸»çº¿ç¨‹è·å–: "</span> + threadLocal.get()); <span class="hljs-comment">// è¾“å‡º: ä¸»çº¿ç¨‹çš„å€¼</span>

        <span class="hljs-type">Thread</span> <span class="hljs-variable">childThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            System.out.println(<span class="hljs-string">"å­çº¿ç¨‹è·å–: "</span> + threadLocal.get()); <span class="hljs-comment">// è¾“å‡º: null</span>
        });
        childThread.start();
    }
}
</code></pre>
<p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå­çº¿ç¨‹æ— æ³•è®¿é—®çˆ¶çº¿ç¨‹ä¸­è®¾ç½®çš„ThreadLocalå€¼ã€‚è¿™æ˜¯å› ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ThreadLocalMapã€‚</p>
<h2 data-id="heading-3">è§£å†³æ–¹æ¡ˆä¸€ï¼šInheritableThreadLocal</h2>
<p>Javaä¸ºæˆ‘ä»¬æä¾›äº†InheritableThreadLocalæ¥è§£å†³çˆ¶å­çº¿ç¨‹ä¼ å€¼çš„é—®é¢˜</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InheritableThreadLocalDemo</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> InheritableThreadLocal&lt;String&gt; inheritableThreadLocal =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">InheritableThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        inheritableThreadLocal.set(<span class="hljs-string">"ä¸»çº¿ç¨‹çš„å€¼"</span>);
        System.out.println(<span class="hljs-string">"ä¸»çº¿ç¨‹è·å–: "</span> + inheritableThreadLocal.get());

        <span class="hljs-type">Thread</span> <span class="hljs-variable">childThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            System.out.println(<span class="hljs-string">"å­çº¿ç¨‹è·å–: "</span> + inheritableThreadLocal.get()); <span class="hljs-comment">// è¾“å‡º: ä¸»çº¿ç¨‹çš„å€¼</span>
        });
        childThread.start();
    }
}
</code></pre>
<h4 data-id="heading-4">InheritableThreadLocal åŸç†åˆ†æ</h4>
<p>InheritableThreadLocalçš„å®ç°åœ¨Threadç±»ä¸­</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Thread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-comment">// çˆ¶çº¿ç¨‹çš„inheritableThreadLocalsä¼šåœ¨åˆ›å»ºå­çº¿ç¨‹æ—¶å¤åˆ¶</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ThreadGroup g, Runnable target, String name,
                      <span class="hljs-type">long</span> stackSize, AccessControlContext acc,
                      <span class="hljs-type">boolean</span> inheritThreadLocals)</span> {
        <span class="hljs-comment">// ...</span>
        <span class="hljs-keyword">if</span> (inheritThreadLocals &amp;&amp; parent.inheritableThreadLocals != <span class="hljs-literal">null</span>)
            <span class="hljs-built_in">this</span>.inheritableThreadLocals =
                ThreadLocal.createInheritedMap(parent.inheritableThreadLocals);
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h4 data-id="heading-5">InheritableThreadLocal çš„å±€é™æ€§</h4>
<ul>
<li><strong>1. æ—¶æœºé™åˆ¶</strong>ï¼šåªåœ¨åˆ›å»ºçº¿ç¨‹æ—¶è¿›è¡Œå€¼ä¼ é€’ï¼Œåç»­ä¿®æ”¹ä¸ä¼šä¼ é€’åˆ°å·²åˆ›å»ºçš„å­çº¿ç¨‹</li>
<li><strong>2. çº¿ç¨‹æ± é—®é¢˜</strong>ï¼šåœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨æ—¶ï¼Œç”±äºçº¿ç¨‹ä¼šè¢«å¤ç”¨ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®æ··ä¹±</li>
</ul>
<h2 data-id="heading-6">è§£å†³æ–¹æ¡ˆäºŒï¼šä½¿ç”¨TransmittableThreadLocal</h2>
<p>é˜¿é‡Œå·´å·´å¼€æºçš„TransmittableThreadLocalï¼ˆTTLï¼‰æ˜¯è§£å†³çº¿ç¨‹æ± åœºæ™¯ä¸‹çˆ¶å­çº¿ç¨‹ä¼ å€¼é—®é¢˜çš„ä¼˜ç§€æ–¹æ¡ˆï¼š</p>
<h4 data-id="heading-7">æ·»åŠ ä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>transmittable-thread-local<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.14.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-8">åŸºæœ¬ä½¿ç”¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.alibaba.ttl.TransmittableThreadLocal;
<span class="hljs-keyword">import</span> com.alibaba.ttl.threadpool.TtlExecutors;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TtlDemo</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> TransmittableThreadLocal&lt;String&gt; ttl = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TransmittableThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        ttl.set(<span class="hljs-string">"ä¸»çº¿ç¨‹çš„å€¼"</span>);
        System.out.println(<span class="hljs-string">"ä¸»çº¿ç¨‹è·å–: "</span> + ttl.get());

        <span class="hljs-comment">// ä½¿ç”¨TTLè£…é¥°çš„çº¿ç¨‹æ± </span>
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> TtlExecutors.getTtlExecutorService(
            Executors.newFixedThreadPool(<span class="hljs-number">2</span>)
        );

        executor.submit(() -&gt; {
            System.out.println(<span class="hljs-string">"çº¿ç¨‹æ± ä»»åŠ¡1è·å–: "</span> + ttl.get()); <span class="hljs-comment">// è¾“å‡º: ä¸»çº¿ç¨‹çš„å€¼</span>
        });

        <span class="hljs-comment">// ä¿®æ”¹å€¼åæäº¤æ–°ä»»åŠ¡</span>
        ttl.set(<span class="hljs-string">"æ›´æ–°åçš„å€¼"</span>);
        executor.submit(() -&gt; {
            System.out.println(<span class="hljs-string">"çº¿ç¨‹æ± ä»»åŠ¡2è·å–: "</span> + ttl.get()); <span class="hljs-comment">// è¾“å‡º: æ›´æ–°åçš„å€¼</span>
        });
    }
}
</code></pre>
<h4 data-id="heading-9">TTL ä¸Spring Bootçš„é›†æˆ</h4>
<p>åœ¨Spring Bootåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é›†æˆTTL</p>
<h5 data-id="heading-10">1. é…ç½®TTLå¼‚æ­¥æ‰§è¡Œå™¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableAsync</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AsyncConfigurer</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">getAsyncExecutor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ThreadPoolTaskExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolTaskExecutor</span>();
        executor.setCorePoolSize(<span class="hljs-number">5</span>);
        executor.setMaxPoolSize(<span class="hljs-number">10</span>);
        executor.setQueueCapacity(<span class="hljs-number">100</span>);
        executor.setThreadNamePrefix(<span class="hljs-string">"Async-"</span>);

        <span class="hljs-comment">// ä½¿ç”¨TTLè£…é¥°</span>
        <span class="hljs-keyword">return</span> TtlExecutors.getTtlExecutor(executor);
    }
}
</code></pre>
<h5 data-id="heading-11">2. ä½¿ç”¨TTLçš„è¯·æ±‚æ‹¦æˆªå™¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TtlRequestInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> TransmittableThreadLocal&lt;String&gt; requestId =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TransmittableThreadLocal</span>&lt;&gt;();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response,
                           Object handler)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();
        requestId.set(id);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response,
                              Object handler, Exception ex)</span> {
        requestId.remove(); <span class="hljs-comment">// æ¸…ç†</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getRequestId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> requestId.get();
    }
}
</code></pre>
<h2 data-id="heading-12">è§£å†³æ–¹æ¡ˆä¸‰ï¼šè‡ªå®šä¹‰TaskDecorator</h2>
<p>Springæä¾›äº†TaskDecoratoræ¥å£ï¼Œå…è®¸æˆ‘ä»¬å¯¹Runnableä»»åŠ¡è¿›è¡Œè£…é¥°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableAsync</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomAsyncConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AsyncConfigurer</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">getAsyncExecutor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ThreadPoolTaskExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolTaskExecutor</span>();
        executor.setCorePoolSize(<span class="hljs-number">5</span>);
        executor.setMaxPoolSize(<span class="hljs-number">10</span>);
        executor.setQueueCapacity(<span class="hljs-number">100</span>);
        executor.setThreadNamePrefix(<span class="hljs-string">"CustomAsync-"</span>);

        <span class="hljs-comment">// è®¾ç½®è‡ªå®šä¹‰è£…é¥°å™¨</span>
        executor.setTaskDecorator(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ContextCopyingDecorator</span>());
        executor.initialize();

        <span class="hljs-keyword">return</span> executor;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextCopyingDecorator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">TaskDecorator</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Runnable <span class="hljs-title function_">decorate</span><span class="hljs-params">(Runnable runnable)</span> {
            <span class="hljs-comment">// è·å–çˆ¶çº¿ç¨‹çš„ThreadLocalä¸Šä¸‹æ–‡</span>
            Map&lt;String, Object&gt; context = getContextFromCurrentThread();
            <span class="hljs-keyword">return</span> () -&gt; {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// åœ¨å­çº¿ç¨‹ä¸­å¤åˆ¶ä¸Šä¸‹æ–‡</span>
                    setContextToCurrentThread(context);
                    runnable.run();
                } <span class="hljs-keyword">finally</span> {
                    clearCurrentThreadContext();
                }
            };
        }

        <span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title function_">getContextFromCurrentThread</span><span class="hljs-params">()</span> {
            Map&lt;String, Object&gt; context = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            <span class="hljs-comment">// æ”¶é›†å½“å‰çº¿ç¨‹çš„ThreadLocalå€¼</span>
            <span class="hljs-comment">// ä¾‹å¦‚ï¼šä»è‡ªå®šä¹‰çš„ThreadLocalä¸­è·å–</span>
            <span class="hljs-keyword">if</span> (UserContext.getUser() != <span class="hljs-literal">null</span>) {
                context.put(<span class="hljs-string">"userInfo"</span>, UserContext.getUser());
            }
            <span class="hljs-keyword">if</span> (RequestContextHolder.getRequestAttributes() != <span class="hljs-literal">null</span>) {
                context.put(<span class="hljs-string">"requestAttributes"</span>, RequestContextHolder.getRequestAttributes());
            }
            <span class="hljs-keyword">return</span> context;
        }

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContextToCurrentThread</span><span class="hljs-params">(Map&lt;String, Object&gt; context)</span> {
            <span class="hljs-comment">// åœ¨å­çº¿ç¨‹ä¸­è®¾ç½®ä¸Šä¸‹æ–‡</span>
            <span class="hljs-keyword">if</span> (context.containsKey(<span class="hljs-string">"userInfo"</span>)) {
                UserContext.setUser((UserContext.UserInfo) context.get(<span class="hljs-string">"userInfo"</span>));
            }
            <span class="hljs-keyword">if</span> (context.containsKey(<span class="hljs-string">"requestAttributes"</span>)) {
                RequestContextHolder.setRequestAttributes((RequestAttributes) context.get(<span class="hljs-string">"requestAttributes"</span>));
            }
        }

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearCurrentThreadContext</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// æ¸…ç†ä¸Šä¸‹æ–‡ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</span>
            UserContext.clear();
            RequestContextHolder.resetRequestAttributes();
        }
    }
}
</code></pre>
<h2 data-id="heading-13">è§£å†³æ–¹æ¡ˆå››ï¼šä½¿ç”¨Springçš„RequestContextHolder</h2>
<p>åœ¨Spring Webåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨RequestContextHolderæ¥ä¼ é€’è¯·æ±‚ä¸Šä¸‹æ–‡</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextService</span> {

    <span class="hljs-meta">@Async</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;String&gt; <span class="hljs-title function_">asyncMethod</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–çˆ¶çº¿ç¨‹çš„è¯·æ±‚ä¸Šä¸‹æ–‡</span>
        <span class="hljs-type">RequestAttributes</span> <span class="hljs-variable">attributes</span> <span class="hljs-operator">=</span> RequestContextHolder.getRequestAttributes();

        <span class="hljs-keyword">return</span> CompletableFuture.supplyAsync(() -&gt; {
            <span class="hljs-comment">// åœ¨å¼‚æ­¥çº¿ç¨‹ä¸­è®¾ç½®ä¸Šä¸‹æ–‡</span>
            RequestContextHolder.setRequestAttributes(attributes);

            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
                <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> doSomeWork();
                <span class="hljs-keyword">return</span> result;
            } <span class="hljs-keyword">finally</span> {
                RequestContextHolder.resetRequestAttributes();
            }
        });
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">doSomeWork</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–è¯·æ±‚ç›¸å…³çš„ä¿¡æ¯</span>
        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span>
            ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();
        <span class="hljs-keyword">return</span> <span class="hljs-string">"å¤„ç†å®Œæˆ: "</span> + request.getRequestURI();
    }
}
</code></pre>
<h2 data-id="heading-14">æ–¹æ¡ˆé€‰æ‹©å»ºè®®</h2>
<p>åŸºäºä¸Šè¿°æ€§èƒ½å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºä»¥ä¸‹é€‰æ‹©å»ºè®®ï¼š</p>
<ul>
<li><strong>1. ç®€å•çš„çˆ¶å­çº¿ç¨‹ä¼ å€¼</strong>ï¼šä½¿ç”¨InheritableThreadLocal</li>
<li><strong>2. çº¿ç¨‹æ± åœºæ™¯</strong>ï¼šæ¨èä½¿ç”¨TransmittableThreadLocal</li>
<li><strong>3. Springå¼‚æ­¥ä»»åŠ¡</strong>ï¼šä½¿ç”¨TaskDecorator</li>
<li><strong>4. Webåº”ç”¨è¯·æ±‚ä¸Šä¸‹æ–‡</strong>ï¼šä½¿ç”¨RequestContextHolder</li>
</ul>
<h2 data-id="heading-15">æœ€ä½³å®è·µ</h2>
<h4 data-id="heading-16">1. å†…å­˜æ³„æ¼é¢„é˜²</h4>
<p>æ— è®ºä½¿ç”¨å“ªç§æ–¹æ¡ˆï¼Œéƒ½è¦æ³¨æ„åŠæ—¶æ¸…ç†ThreadLocalï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeThreadLocalUsage</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ThreadLocal&lt;Object&gt; threadLocal = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doWork</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            threadLocal.set(someValue);
            <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        } <span class="hljs-keyword">finally</span> {
            threadLocal.remove(); <span class="hljs-comment">// é˜²æ­¢å†…å­˜æ³„æ¼</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-17">2. ä¸Šä¸‹æ–‡å°è£…</h4>
<p>å»ºè®®å°è£…ä¸€ä¸ªç»Ÿä¸€çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserContext</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;UserInfo&gt; USER_CONTEXT =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">TransmittableThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUser</span><span class="hljs-params">(UserInfo user)</span> {
        USER_CONTEXT.set(user);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UserInfo <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> USER_CONTEXT.get();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">()</span> {
        USER_CONTEXT.remove();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserInfo</span> {
        <span class="hljs-keyword">private</span> String userId;
        <span class="hljs-keyword">private</span> String userName;
        <span class="hljs-keyword">private</span> String requestId;
        <span class="hljs-comment">// getters and setters</span>
    }
}
</code></pre>
<h4 data-id="heading-18">3. æ‹¦æˆªå™¨ç»Ÿä¸€ç®¡ç†</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserContextInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response,
                           Object handler)</span> {
        <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> buildUserInfo(request);
        UserContext.setUser(userInfo);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response,
                              Object handler, Exception ex)</span> {
        UserContext.clear();
    }

    <span class="hljs-keyword">private</span> UserInfo <span class="hljs-title function_">buildUserInfo</span><span class="hljs-params">(HttpServletRequest request)</span> {
        <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
        userInfo.setUserId(request.getHeader(<span class="hljs-string">"X-User-Id"</span>));
        userInfo.setRequestId(UUID.randomUUID().toString());
        <span class="hljs-keyword">return</span> userInfo;
    }
}
</code></pre>
<h2 data-id="heading-19">æ€»ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†å››ç§åœ¨SpringBootä¸­å®ç°ThreadLocalçˆ¶å­çº¿ç¨‹ä¼ å€¼çš„æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>1. InheritableThreadLocal</strong>ï¼šæœ€ç®€å•çš„åŸç”Ÿè§£å†³æ–¹æ¡ˆï¼Œé€‚ç”¨äºåŸºç¡€åœºæ™¯</li>
<li><strong>2. TransmittableThreadLocal</strong>ï¼šåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹è§£å†³æ–¹æ¡ˆï¼Œç‰¹åˆ«é€‚åˆçº¿ç¨‹æ± åœºæ™¯</li>
<li><strong>3. TaskDecorator</strong>ï¼šSpringæä¾›çš„ä¼˜é›…è§£å†³æ–¹æ¡ˆï¼Œé›†æˆåº¦é«˜</li>
<li><strong>4. RequestContextHolder</strong>ï¼šSpring Webåº”ç”¨çš„å†…ç½®æ–¹æ¡ˆ</li>
</ul>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡åœºæ™¯å’ŒæŠ€æœ¯æ ˆé€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆã€‚</p>
<p>åŒæ—¶ï¼Œè¦æ³¨æ„å†…å­˜ç®¡ç†å’Œä¸Šä¸‹æ–‡æ¸…ç†ï¼Œç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒEnt ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹]]></title>    <link>https://juejin.cn/post/7579628944036659209</link>    <guid>https://juejin.cn/post/7579628944036659209</guid>    <pubDate>2025-12-04T07:58:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579628944036659209" data-draft-id="7579798332777218057" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒEnt ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2025-12-04T07:58:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒEnt ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T07:58:12.000Z" title="Thu Dec 04 2025 07:58:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    61
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒEnt ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹</h2>
<p>å¯¹äºåˆšæ¥è§¦ Go å¾®æœåŠ¡å¼€å‘çš„åˆå­¦è€…æ¥è¯´ï¼Œç›´æ¥ä¸Šæ‰‹ â€œæ¡†æ¶ + ORMâ€ çš„ç»„åˆå¸¸æ˜¾å¤æ‚ã€‚è€Œ <code>kratos-ent-example</code> é¡¹ç›®å·²ä¸ºæˆ‘ä»¬æ­å»ºå¥½äº† <code>Go-Kratos</code> ä¸ <code>Ent</code> çš„åŸºç¡€é›†æˆæ¡†æ¶ï¼Œæœ¬æ–‡å°†åŸºäºè¯¥é¡¹ç›®ï¼Œèšç„¦å¦‚ä½•å¿«é€Ÿæ¥å…¥ <code>go-curd</code> å·¥å…·ç®€åŒ– CRUDï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰æ“ä½œï¼Œå…¨ç¨‹ä»¥ step-by-step çš„æ–¹å¼è®²è§£ï¼Œæ–°æ‰‹ä¹Ÿèƒ½è½»æ¾è·Ÿéšå®æ“ã€‚</p>
<p>å…ˆæ˜ç¡®æ ¸å¿ƒå·¥å…·å…³ç³»ï¼š<code>kratos-ent-example</code>æ˜¯ â€œåŸºç¡€éª¨æ¶â€ï¼ˆå·²æ•´åˆ Kratos ä¸ Entï¼‰ï¼Œ<code>go-curd</code>æ˜¯ â€œæ•ˆç‡å·¥å…·â€ï¼ˆå°è£…é‡å¤ CRUD é€»è¾‘ï¼‰ï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒç›®æ ‡æ˜¯ â€œåœ¨ç°æœ‰éª¨æ¶ä¸Šè£…å·¥å…·ï¼Œè®©æ•°æ®æ“ä½œæ›´ç®€å•â€ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æ ¸å¿ƒå·¥å…·é€Ÿè§ˆï¼š3 åˆ†é’Ÿç†æ¸…åˆ†å·¥</h3>
<p>åœ¨åŠ¨æ‰‹å‰ï¼Œå…ˆæ˜ç¡®ä¸‰ä¸ªå·¥å…·çš„åˆ†å·¥ï¼Œé¿å…è¶Šåšè¶Šä¹±ï¼š</p>
<ul>
<li><strong>Go-Kratos</strong>ï¼šå¾®æœåŠ¡æ¡†æ¶æ ¸å¿ƒï¼Œè´Ÿè´£ API å®šä¹‰ã€æœåŠ¡å¯åŠ¨ã€è¯·æ±‚åˆ†å‘ï¼Œkratos-ent-example å·²å®Œæˆå…¶åŸºç¡€é…ç½®ï¼›</li>
<li><strong>Ent</strong>ï¼šç°ä»£åŒ– ORM æ¡†æ¶ï¼Œé€šè¿‡ä»£ç ç”Ÿæˆå®ç°ç±»å‹å®‰å…¨çš„æ•°æ®åº“æ“ä½œï¼Œé‡‡ç”¨ schema å®šä¹‰æ¨¡å‹ï¼Œæ¯”ä¼ ç»Ÿ ORM æ›´æ³¨é‡ç±»å‹æ£€æŸ¥ï¼›</li>
<li><strong>go-crud</strong>ï¼šEnt çš„ä¸Šå±‚å°è£…å·¥å…·ï¼ŒæŠŠé‡å¤çš„ CRUD é€»è¾‘ï¼ˆå¦‚åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ï¼‰åšæˆç°æˆæ–¹æ³•ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™ Ent åŸç”ŸæŸ¥è¯¢è¯­å¥ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€ç¯å¢ƒå‡†å¤‡ï¼š5 åˆ†é’Ÿæå®šå‰ç½®ä¾èµ–</h3>
<p>å…ˆå®ŒæˆåŸºç¡€ç¯å¢ƒæ­å»ºå’Œé¡¹ç›®å‡†å¤‡ï¼Œç¡®ä¿åç»­æ­¥éª¤æ— æŠ¥é”™ï¼š</p>
<ol>
<li><strong>å®‰è£…åŸºç¡€å·¥å…·</strong>ï¼šè¦æ±‚ Go 1.24+ï¼ˆé¡¹ç›® go.mod æŒ‡å®šç‰ˆæœ¬ï¼‰ï¼Œå®‰è£…åç”¨<code>go version</code>éªŒè¯ï¼›</li>
<li><strong>Git</strong>ï¼šç”¨äºå…‹éš†ç¤ºä¾‹é¡¹ç›®ï¼›</li>
<li><strong>å‡†å¤‡æ•°æ®åº“</strong>ï¼šæ”¯æŒ PostgreSQL/MySQLï¼ˆEnt é€‚é…å¤šç§æ•°æ®åº“ï¼‰ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼ˆæ¯”å¦‚å«<code>example</code>ï¼‰ï¼Œä¸ç”¨å»ºè¡¨ï¼ˆåç»­ Ent ä¼šè‡ªåŠ¨ç”Ÿæˆï¼‰ï¼›</li>
<li><strong>è·å– kratos-ent-example é¡¹ç›®</strong>ï¼š
<ul>
<li>æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…‹éš†é¡¹ç›®å¹¶è¿›å…¥ç›®å½•ï¼š<code>git clone https://github.com/tx7do/kratos-ent-example.git</code></li>
<li><code>cd kratos-ent-example</code></li>
</ul>
</li>
<li><strong>å¼•å…¥ go-curd ä¾èµ–</strong>ï¼šé¡¹ç›®å·²é¢„è®¾ go-curd çš„ Ent é€‚é…æ¨¡å—ï¼ˆè§ go.mod ä¸­çš„<code>github.com/tx7do/go-crud/entgo</code>ï¼‰ï¼Œç›´æ¥æ‹‰å–ä¾èµ–å³å¯ï¼š<code>go mod tidy</code></li>
<li><strong>ç¡®è®¤é¡¹ç›®æ ¸å¿ƒç›®å½•</strong>ï¼šæ— éœ€å…³æ³¨æ‰€æœ‰æ–‡ä»¶ï¼Œé‡ç‚¹è®°ä½ 3 ä¸ªæ ¸å¿ƒç›®å½•ï¼ˆkratos-ent-example å·²é¢„è®¾ï¼‰ï¼š
<ul>
<li><code>api</code>ï¼šæ”¾ API å®šä¹‰æ–‡ä»¶ï¼ˆ.protoï¼‰ï¼Œç”¨äºå®šä¹‰ â€œåˆ›å»ºç”¨æˆ·â€â€œæŸ¥è¯¢ç”¨æˆ·â€ ç­‰æ¥å£ï¼›</li>
<li><code>app/user/service/internal/data/ent/schema</code>ï¼šæ”¾ Ent æ¨¡å‹å®šä¹‰ï¼ˆé€šè¿‡ schema æè¿°æ•°æ®åº“è¡¨ç»“æ„ï¼‰ï¼›</li>
<li><code>app/user/service/internal/data</code>ï¼šæ”¾ä¸šåŠ¡é€»è¾‘ï¼Œè¿™é‡Œä¼šè°ƒç”¨ <code>go-curd</code> æ“ä½œ Ent å®¢æˆ·ç«¯ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3">ä¸‰ã€æ ¸å¿ƒæ­¥éª¤ 1ï¼šåœ¨ kratos-ent-example ä¸­é›†æˆ go-curd</h3>
<p><code>kratos-ent-example</code> å·²å®Œæˆ Ent çš„åˆå§‹åŒ–é…ç½®ï¼ˆå¦‚æ•°æ®åº“è¿æ¥ã€ä»£ç ç”Ÿæˆï¼‰ï¼Œæˆ‘ä»¬åªéœ€åœ¨ç°æœ‰åŸºç¡€ä¸Šï¼Œå°† <code>go-curd</code> çš„ Ent å®¢æˆ·ç«¯é›†æˆè¿›æ¥ï¼Œè®©ä¸šåŠ¡å±‚å¯ä»¥è°ƒç”¨å…¶ç®€åŒ–æ–¹æ³•ã€‚</p>
<h4 data-id="heading-4">1.1 ä¿®æ”¹æ•°æ®å±‚ï¼šé›†æˆ go-curd çš„ Ent å®¢æˆ·ç«¯</h4>
<p>æ‰“å¼€<code>app/user/service/internal/data/user.go</code>ä¿®æ”¹ä»£ç ä»¥é›†æˆ<code>go-curd</code>çš„ <code>Ent</code> é€‚é…æ¨¡å—ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> data

<span class="hljs-keyword">import</span> (
  entCurd <span class="hljs-string">"github.com/tx7do/go-crud/entgo"</span>
)

<span class="hljs-keyword">type</span> UserRepo <span class="hljs-keyword">struct</span> {
	data *Data
	log  *log.Helper

	mapper     *mapper.CopierMapper[userV1.User, *ent.User]
	repository *entCurd.Repository[
		ent.UserQuery, ent.UserSelect, ent.UserCreate, ent.UserCreateBulk, ent.UserUpdate, ent.UserUpdateOne, ent.UserDelete,
		predicate.User,
		userV1.User, ent.User,
	]
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewUserRepo</span><span class="hljs-params">(data *Data, logger log.Logger)</span></span> *UserRepo {
	l := log.NewHelper(log.With(logger, <span class="hljs-string">"module"</span>, <span class="hljs-string">"user/repo/user-service"</span>))
	repo := &amp;UserRepo{
		data:   data,
		log:    l,
		mapper: mapper.NewCopierMapper[userV1.User, *ent.User](),
	}

	<span class="hljs-comment">// åˆå§‹åŒ–go-curdçš„Entä»“åº“ï¼Œä¼ å…¥æ˜ å°„å™¨å’ŒEntå®¢æˆ·ç«¯</span>
	repo.repository = entCurd.NewRepository[
		ent.UserQuery, ent.UserSelect, ent.UserCreate, ent.UserCreateBulk, ent.UserUpdate, ent.UserUpdateOne, ent.UserDelete,
		predicate.User,
		userV1.User, ent.User,
	](repo.mapper)

	<span class="hljs-keyword">return</span> repo
}
</code></pre>
<p>æ ¸å¿ƒæ”¹åŠ¨è¯´æ˜ï¼šæ–°å¢<code>repository</code>å­—æ®µå­˜å‚¨<code>go-curd</code>çš„ <code>Ent</code> å®¢æˆ·ç«¯ï¼Œé€šè¿‡<code>entCurd.NewRepository()</code>åˆå§‹åŒ–ï¼Œåç»­ CRUD æ“ä½œå‡é€šè¿‡è¯¥å®¢æˆ·ç«¯å®Œæˆã€‚</p>
<h4 data-id="heading-5">1.2 ç¡®è®¤æ•°æ®åº“é…ç½®ï¼ˆæ— éœ€ä¿®æ”¹ï¼Œä»…éªŒè¯ï¼‰</h4>
<p><code>kratos-ent-example</code> å·²åœ¨é…ç½®æ–‡ä»¶ä¸­é¢„è®¾æ•°æ®åº“è¿æ¥ï¼Œæ‰“å¼€<code>configs/data.yaml</code>éªŒè¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">data:</span>
  <span class="hljs-attr">database:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">"postgres"</span>  <span class="hljs-comment"># æ”¯æŒmysql/postgres/sqlite</span>
    <span class="hljs-attr">source:</span> <span class="hljs-string">"host=localhost port=5432 user=postgres password=your_password dbname=example sslmode=disable"</span>
    <span class="hljs-attr">migrate:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“è¿ç§»</span>
</code></pre>
<p>æ³¨æ„ï¼šå°†<code>source</code>ä¸­çš„ç”¨æˆ·åã€å¯†ç æ”¹ä¸ºè‡ªå·±çš„æ•°æ®åº“ä¿¡æ¯ï¼Œç¡®ä¿èƒ½è¿æ¥åˆ°ä¹‹å‰æ–°å»ºçš„<code>example</code>æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-6">å››ã€æ ¸å¿ƒæ­¥éª¤ 2ï¼šç”¨ go-curd å®ç° CRUD ä¸šåŠ¡é€»è¾‘</h3>
<p>æˆ‘ä»¬å°†ä»¥ â€œç”¨æˆ·æ¨¡å—â€ ä¸ºä¾‹ï¼ŒåŸºäºé¡¹ç›®ç°æœ‰çš„ç›®å½•ç»“æ„ï¼Œç”¨ <code>go-curd</code> å®ç°ç”¨æˆ·çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€‚<code>kratos-ent-example</code> å·²é¢„è®¾éƒ¨åˆ†åŸºç¡€ä»£ç ï¼Œæˆ‘ä»¬åªéœ€è¡¥å……å’Œä¿®æ”¹ã€‚</p>
<h4 data-id="heading-7">2.1 å®šä¹‰ç”¨æˆ·æ¨¡å‹ï¼ˆEnt Schemaï¼‰</h4>
<p><code>Ent</code> é€šè¿‡ <code>schema</code> å®šä¹‰æ¨¡å‹ï¼ˆè€Œéä¼ ç»Ÿç»“æ„ä½“ï¼‰ï¼Œæ‰“å¼€<code>app/user/service/internal/data/ent/schema/user.go</code>ï¼Œå®šä¹‰ç”¨æˆ·æ¨¡å‹çš„ schemaï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> schema

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"time"</span>
	<span class="hljs-string">"entgo.io/ent"</span>
	<span class="hljs-string">"entgo.io/ent/dialect"</span>
	<span class="hljs-string">"entgo.io/ent/schema/field"</span>
	<span class="hljs-string">"entgo.io/ent/schema/index"</span>
)

<span class="hljs-comment">// User holds the schema definition for the User entity.</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
	ent.Schema
}

<span class="hljs-comment">// Fields of the User.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(User)</span></span> Fields() []ent.Field {
	<span class="hljs-keyword">return</span> []ent.Field{
		field.String(<span class="hljs-string">"user_name"</span>).
			SchemaType(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{
				dialect.MySQL:    <span class="hljs-string">"varchar(64)"</span>, <span class="hljs-comment">// MySQLç‰¹å®šç±»å‹</span>
				dialect.Postgres: <span class="hljs-string">"varchar(64)"</span>, <span class="hljs-comment">// PostgreSQLç‰¹å®šç±»å‹</span>
			}).
			Unique(), <span class="hljs-comment">// ç”¨æˆ·åå”¯ä¸€</span>
		field.String(<span class="hljs-string">"nick_name"</span>).
			SchemaType(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{
				dialect.MySQL:    <span class="hljs-string">"varchar(64)"</span>,
				dialect.Postgres: <span class="hljs-string">"varchar(64)"</span>,
			}),
		field.String(<span class="hljs-string">"password"</span>).
			SchemaType(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{
				dialect.MySQL:    <span class="hljs-string">"varchar(128)"</span>,
				dialect.Postgres: <span class="hljs-string">"varchar(128)"</span>,
			}),
		field.Time(<span class="hljs-string">"created_at"</span>).
			Default(time.Now).
			SchemaType(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{
				dialect.MySQL: <span class="hljs-string">"datetime"</span>,
			}),
		field.Time(<span class="hljs-string">"updated_at"</span>).
			Default(time.Now).
			UpdateDefault(time.Now).
			SchemaType(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{
				dialect.MySQL: <span class="hljs-string">"datetime"</span>,
			}),
		field.Time(<span class="hljs-string">"deleted_at"</span>).
			Optional().
			Nillable().
			SchemaType(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>{
				dialect.MySQL: <span class="hljs-string">"datetime"</span>,
			}),
	}
}

<span class="hljs-comment">// Edges of the User.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(User)</span></span> Edges() []ent.Edge {
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Indexes of the User.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(User)</span></span> Indexes() []ent.Index {
	<span class="hljs-keyword">return</span> []ent.Index{
		index.Fields(<span class="hljs-string">"user_name"</span>).Unique(), <span class="hljs-comment">// ç”¨æˆ·åç´¢å¼•ï¼ˆå”¯ä¸€ï¼‰</span>
	}
}
</code></pre>
<p>è¯´æ˜ï¼šEnt ä¼šæ ¹æ®è¯¥ schema è‡ªåŠ¨ç”Ÿæˆ Go ä»£ç ï¼ˆå®ä½“ã€æŸ¥è¯¢å™¨ç­‰ï¼‰ï¼Œåç»­é€šè¿‡ç”Ÿæˆçš„ä»£ç æ“ä½œæ•°æ®åº“ã€‚åœ¨<code>app/user/service</code>ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ <code>Ent</code> ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make ent
</code></pre>
<p>ç”Ÿæˆçš„ä»£ç ä¼šæ”¾åœ¨<code>app/user/service/internal/data/ent</code>ç›®å½•ä¸‹ï¼ŒåŒ…å«<code>User</code>å®ä½“åŠ CRUD åŸºç¡€æ–¹æ³•ã€‚</p>
<h4 data-id="heading-8">2.2 ç¼–å†™ Data å±‚ï¼šç”¨ go-curd å®ç° CRUD</h4>
<p>æ‰“å¼€<code>app/user/service/internal/data/user.go</code>ï¼Œç¼–å†™ä¸šåŠ¡é€»è¾‘æ–¹æ³•ã€‚æ ¸å¿ƒä¼˜åŠ¿ï¼šç”¨ <code>go-curd</code> çš„ç°æˆæ–¹æ³•æ›¿ä»£åŸç”Ÿ Ent ä»£ç ï¼Œå‡å°‘é‡å¤å·¥ä½œã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> data

<span class="hljs-comment">// List æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼ˆå¸¦åˆ†é¡µï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> List(ctx context.Context, req *pagination.PagingRequest) (*userV1.ListUserResponse, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	builder := r.data.db.Client().Debug().User.Query()

	ret, err := r.repository.ListWithPaging(ctx, builder, builder.Clone(), req)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}
	<span class="hljs-keyword">if</span> ret == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> &amp;userV1.ListUserResponse{Total: <span class="hljs-number">0</span>, Items: <span class="hljs-literal">nil</span>}, <span class="hljs-literal">nil</span>
	}

	<span class="hljs-keyword">return</span> &amp;userV1.ListUserResponse{
		Total: ret.Total,
		Items: ret.Items,
	}, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Get æŸ¥è¯¢å•ä¸ªç”¨æˆ·ï¼ˆæ”¯æŒæŒ‰IDæˆ–ç”¨æˆ·åæŸ¥è¯¢ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Get(ctx context.Context, req *userV1.GetUserRequest) (*userV1.User, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	<span class="hljs-keyword">var</span> whereCond []<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(s *sql.Selector)</span></span>
	<span class="hljs-keyword">switch</span> req.QueryBy.(<span class="hljs-keyword">type</span>) {
	<span class="hljs-keyword">case</span> *userV1.GetUserRequest_Id:
		whereCond = <span class="hljs-built_in">append</span>(whereCond, user.IDEQ(req.GetId()))
	<span class="hljs-keyword">case</span> *userV1.GetUserRequest_UserName:
		whereCond = <span class="hljs-built_in">append</span>(whereCond, user.UserNameEQ(req.GetUserName()))
	<span class="hljs-keyword">default</span>:
		whereCond = <span class="hljs-built_in">append</span>(whereCond, user.IDEQ(req.GetId()))
	}

	builder := r.data.db.Client().Debug().User.Query()
	dto, err := r.repository.Get(ctx, builder, whereCond, req.GetViewMask())
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}

	<span class="hljs-keyword">return</span> dto, err
}

<span class="hljs-comment">// Create åˆ›å»ºç”¨æˆ·ï¼ˆå¯†ç åŠ å¯†å­˜å‚¨ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Create(ctx context.Context, req *userV1.CreateUserRequest) (*userV1.User, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> || req.Data == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> &amp;&amp; req.Data.GetPassword() != <span class="hljs-string">""</span> {
		cryptoPassword, err := crypto.HashPassword(req.Data.GetPassword())
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		req.Data.Password = &amp;cryptoPassword
	}

	builder := r.data.db.Client().Debug().User.Create()
	result, err := r.repository.Create(ctx, builder, req.Data, <span class="hljs-literal">nil</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(dto *userV1.User)</span></span> {
		builder.
			SetNillableUserName(req.Data.UserName).
			SetNillableNickName(req.Data.NickName).
			SetCreatedAt(time.Now())

		<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> {
			builder.SetPassword(req.Data.GetPassword())
		}
	})

	<span class="hljs-keyword">return</span> result, err
}

<span class="hljs-comment">// Update æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Update(ctx context.Context, req *userV1.UpdateUserRequest) (*userV1.User, <span class="hljs-type">error</span>) {
<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> || req.Data == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> &amp;&amp; req.Data.GetPassword() != <span class="hljs-string">""</span> {
		cryptoPassword, err := crypto.HashPassword(req.Data.GetPassword())
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		req.Data.Password = &amp;cryptoPassword
	}

	builder := r.data.db.Client().Debug().User.UpdateOneID(req.Data.GetId())
	result, err := r.repository.UpdateOne(ctx, builder, req.Data, req.GetUpdateMask(),
		[]predicate.User{
			<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(s *sql.Selector)</span></span> {
				s.Where(sql.EQ(user.FieldID, req.Data.GetId()))
			},
		},
		<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(dto *userV1.User)</span></span> {
			builder.
				SetNillableNickName(req.Data.NickName).
				SetUpdatedAt(time.Now())

			<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> {
				builder.SetPassword(req.Data.GetPassword())
			}
		},
	)

	<span class="hljs-keyword">return</span> result, err
}

<span class="hljs-comment">// Delete åˆ é™¤ç”¨æˆ·</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Delete(ctx context.Context, req *userV1.DeleteUserRequest) (<span class="hljs-type">bool</span>, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	builder := r.data.db.Client().Debug().User.Delete()
	affected, err := r.repository.Delete(ctx, builder, []predicate.User{
		<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(s *sql.Selector)</span></span> {
			s.Where(sql.EQ(user.FieldID, req.GetId()))
		},
	})

	<span class="hljs-keyword">return</span> err == <span class="hljs-literal">nil</span> &amp;&amp; affected &gt; <span class="hljs-number">0</span>, err
}
</code></pre>
<p>æ ¸å¿ƒç®€åŒ–ç‚¹ï¼šå¯¹æ¯”åŸç”Ÿ <code>Ent</code>ï¼Œ<code>go-curd</code> çš„<code>ListWithPaging</code>ã€<code>Get</code>ã€<code>Create</code>ç­‰æ–¹æ³•å°è£…äº†æŸ¥è¯¢æ¡ä»¶æ„å»ºã€ç»“æœæ˜ å°„ç­‰é‡å¤é€»è¾‘ï¼Œç›´æ¥ä¼ å…¥ DTOï¼ˆæ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰å³å¯å®Œæˆæ“ä½œã€‚</p>
<h4 data-id="heading-9">2.3 å®šä¹‰ API æ¥å£ï¼ˆProtoï¼‰å¹¶ç”Ÿæˆä»£ç </h4>
<p><code>kratos-ent-example</code>å·²åœ¨<code>api/protos/user/service/v1/user.proto</code>ä¸­é¢„è®¾äº†ç”¨æˆ· API å®šä¹‰ï¼ˆä¸ GORM ç¤ºä¾‹ç±»ä¼¼ï¼‰ï¼Œæˆ‘ä»¬åªéœ€ç¡®è®¤å†…å®¹ï¼Œç„¶åç”Ÿæˆ Go ä»£ç ï¼š</p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";

package user.service.v1;

import "google/api/annotations.proto";
import "pagination/v1/pagination.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/field_mask.proto";

// ç”¨æˆ·æœåŠ¡
service UserService {
  rpc ListUser (pagination.PagingRequest) returns (ListUserResponse) {
    option (google.api.http) = { get: "/users" };
  }
  rpc GetUser (GetUserRequest) returns (User) {
    option (google.api.http) = { get: "/users/{id}" };
  }
  rpc CreateUser (CreateUserRequest) returns (User) {
    option (google.api.http) = { post: "/users", body: "*" };
  }
  rpc UpdateUser (UpdateUserRequest) returns (User) {
    option (google.api.http) = { put: "/users/{data.id}", body: "*" };
  }
  rpc DeleteUser (DeleteUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = { delete: "/users/{id}" };
  }
}

// ç”¨æˆ·
message User {
  uint32 id = 1;

  optional string user_name = 2 [json_name = "userName", (gnostic.openapi.v3.property) = {description: "è´¦æˆ·å"}];// è´¦æˆ·å
  optional string nick_name = 3 [json_name = "nickName", (gnostic.openapi.v3.property) = {description: "æ˜µç§°"}];// æ˜µç§°
  optional string password = 4 [json_name = "password", (gnostic.openapi.v3.property) = {description: "å¯†ç "}];// å¯†ç 

  optional google.protobuf.Timestamp created_at = 200 [json_name = "createdAt", (gnostic.openapi.v3.property) = {description: "åˆ›å»ºæ—¶é—´"}];// åˆ›å»ºæ—¶é—´
  optional google.protobuf.Timestamp updated_at = 201 [json_name = "updatedAt", (gnostic.openapi.v3.property) = {description: "æ›´æ–°æ—¶é—´"}];// æ›´æ–°æ—¶é—´
  optional google.protobuf.Timestamp deleted_at = 202 [json_name = "deletedAt", (gnostic.openapi.v3.property) = {description: "åˆ é™¤æ—¶é—´"}];// åˆ é™¤æ—¶é—´
}

// è·å–ç”¨æˆ·åˆ—è¡¨ - ç­”å¤
message ListUserResponse {
  repeated User items = 1;
  uint64 total = 2;
}

// è·å–ç”¨æˆ·æ•°æ® - è¯·æ±‚
message GetUserRequest {
  oneof query_by {
    uint32 id = 1 [
      (gnostic.openapi.v3.property) = {description: "ç”¨æˆ·ID", read_only: true},
      json_name = "id"
    ]; // ç”¨æˆ·ID

    string user_name = 2 [
      (gnostic.openapi.v3.property) = {description: "ç”¨æˆ·ç™»å½•å", read_only: true},
      json_name = "userName"
    ]; // ç”¨æˆ·ç™»å½•å
  }

  optional google.protobuf.FieldMask view_mask = 100 [
    json_name = "viewMask",
    (gnostic.openapi.v3.property) = {
      description: "è§†å›¾å­—æ®µè¿‡æ»¤å™¨ï¼Œç”¨äºæ§åˆ¶è¿”å›çš„å­—æ®µ"
    }
  ]; // è§†å›¾å­—æ®µè¿‡æ»¤å™¨ï¼Œç”¨äºæ§åˆ¶è¿”å›çš„å­—æ®µ
}

// åˆ›å»ºç”¨æˆ· - è¯·æ±‚
message CreateUserRequest {
  User data = 1;

  uint32 operator_id = 2 [json_name = "operatorId", (gnostic.openapi.v3.property) = {description: "æ“ä½œè€…ç”¨æˆ·ID"}];// æ“ä½œè€…ç”¨æˆ·ID
}

// æ›´æ–°ç”¨æˆ· - è¯·æ±‚
message UpdateUserRequest {
  User data = 1;

  google.protobuf.FieldMask update_mask = 2 [
    json_name = "updateMask",
    (gnostic.openapi.v3.property) = {
      description: "è¦æ›´æ–°çš„å­—æ®µåˆ—è¡¨",
      example: {yaml : "id,realname,username"}
    }
  ]; // è¦æ›´æ–°çš„å­—æ®µåˆ—è¡¨

  optional bool allow_missing = 3 [
    json_name = "allowMissing",
    (gnostic.openapi.v3.property) = {description: "å¦‚æœè®¾ç½®ä¸ºtrueçš„æ—¶å€™ï¼Œèµ„æºä¸å­˜åœ¨åˆ™ä¼šæ–°å¢(æ’å…¥)ï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹`updateMask`å­—æ®µå°†ä¼šè¢«å¿½ç•¥ã€‚"}
  ]; // å¦‚æœè®¾ç½®ä¸ºtrueçš„æ—¶å€™ï¼Œèµ„æºä¸å­˜åœ¨åˆ™ä¼šæ–°å¢(æ’å…¥)ï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹`updateMask`å­—æ®µå°†ä¼šè¢«å¿½ç•¥ã€‚
}

// åˆ é™¤ç”¨æˆ· - è¯·æ±‚
message DeleteUserRequest {
  uint32 id = 1;

  uint32 operator_id = 2 [json_name = "operatorId", (gnostic.openapi.v3.property) = {description: "æ“ä½œè€…ç”¨æˆ·ID"}];// æ“ä½œè€…ç”¨æˆ·ID
}
</code></pre>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ Go ä»£ç ï¼ˆé¡¹ç›®å·²é¢„è®¾<code>make api</code>å‘½ä»¤ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make api
</code></pre>
<p>ç”Ÿæˆçš„ä»£ç ä¼šæ”¾åœ¨<code>api/gen/go/user/service/v1</code>ç›®å½•ä¸‹ï¼Œä¾› <code>Data</code> å±‚å’Œ <code>Service</code> å±‚è°ƒç”¨ã€‚</p>
<h4 data-id="heading-10">2.4 Server å±‚ç»‘å®šæ¥å£ä¸ Service</h4>
<p><code>kratos-ent-example</code> é€šè¿‡<code>NewRESTServer</code>æ–¹æ³•å®Œæˆ <code>HTTP Server</code> çš„åˆ›å»ºï¼Œå¹¶å°† <code>UserService</code> æ³¨å†Œåˆ° <code>Kratos</code> çš„ <code>HTTP</code> æœåŠ¡ä¸­ï¼Œå®ç° API æ¥å£ä¸ <code>Service</code> å±‚çš„ç»‘å®šã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼ˆæ–‡ä»¶è·¯å¾„ï¼š<code>app/user/service/internal/server/rest.go</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// NewRESTServer new an HTTP server.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewRESTServer</span><span class="hljs-params">(
	cfg *conf.Bootstrap, logger log.Logger,
	userService *service.UserService,
)</span></span> *http.Server {
	<span class="hljs-keyword">if</span> cfg == <span class="hljs-literal">nil</span> || cfg.Server == <span class="hljs-literal">nil</span> || cfg.Server.Rest == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	}

	srv := bootstrap.CreateRestServer(cfg, logging.Server(logger))

	userV1.RegisterUserServiceHTTPServer(srv, userService)

	<span class="hljs-keyword">if</span> cfg.GetServer().GetRest().GetEnableSwagger() {
		swaggerUI.RegisterSwaggerUIServerWithOption(
			srv,
			swaggerUI.WithTitle(<span class="hljs-string">"Kratos Ent Example User Service API"</span>),
			swaggerUI.WithMemoryData(assets.OpenApiData, <span class="hljs-string">"yaml"</span>),
		)
	}

	<span class="hljs-keyword">return</span> srv
}
</code></pre>
<p>ä»£ç è¯´æ˜ï¼š</p>
<ol>
<li><code>bootstrap.CreateRestServer</code>ï¼šåŸºäºé…ç½®åˆ›å»º Kratos çš„ HTTP Server å®ä¾‹ï¼ŒåŒ…å«ç«¯å£ã€ä¸­é—´ä»¶ç­‰åŸºç¡€é…ç½®ï¼›</li>
<li><code>userV1.RegisterUserServiceHTTPServer</code>ï¼šå°†å®ç°äº†<code>UserService</code>æ¥å£çš„<code>userService</code>å®ä¾‹æ³¨å†Œåˆ° HTTP Server ä¸­ï¼Œå®Œæˆ API æ¥å£ï¼ˆå¦‚<code>/users</code>ï¼‰ä¸ <code>Service</code> å±‚æ–¹æ³•çš„ç»‘å®šï¼›</li>
<li>Swagger ç›¸å…³é…ç½®ï¼šå¯é€‰å¼€å¯ Swagger UIï¼Œæ–¹ä¾¿è°ƒè¯• API æ¥å£ã€‚</li>
</ol>
<p>æ­¤æ­¥éª¤æ— éœ€æ‰‹åŠ¨ä¿®æ”¹ä»£ç ï¼ˆé¡¹ç›®å·²å®ç°ï¼‰ï¼Œåªéœ€éªŒè¯è¯¥æ–‡ä»¶å­˜åœ¨ä¸”ä»£ç å®Œæ•´å³å¯ â€”â€” å¯åŠ¨æœåŠ¡åï¼ŒKratos ä¼šè‡ªåŠ¨å°† HTTP è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„ Service å±‚æ–¹æ³•ã€‚</p>
<h3 data-id="heading-11">äº”ã€æ ¸å¿ƒæ­¥éª¤ 3ï¼šè¿è¡Œé¡¹ç›®å¹¶æµ‹è¯• CRUD æ¥å£</h3>
<p>æ‰€æœ‰ä»£ç ä¿®æ”¹å®Œæˆåï¼Œå¯åŠ¨é¡¹ç›®å¹¶æµ‹è¯•æ¥å£ï¼ŒéªŒè¯ <code>go-curd</code> ä¸ <code>Ent</code> çš„é›†æˆæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
<h4 data-id="heading-12">3.1 è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ï¼ˆEnt è¿ç§»ï¼‰</h4>
<p><code>kratos-ent-example</code> å·²åœ¨<code>app/user/service/internal/data/ent_client.go</code>ä¸­å®ç° Ent è‡ªåŠ¨è¿ç§»é€»è¾‘ï¼Œå¯åŠ¨é¡¹ç›®æ—¶ä¼šæ ¹æ® schema åˆ›å»ºæ•°æ®åº“è¡¨ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å…³é”®è¿ç§»ä»£ç ï¼ˆé¡¹ç›®å·²å®ç°ï¼‰</span>
<span class="hljs-keyword">if</span> cfg.Data.Database.GetMigrate() {
  <span class="hljs-keyword">if</span> err = client.Schema.Create(context.Background(), migrate.WithForeignKeys(<span class="hljs-literal">true</span>)); err != <span class="hljs-literal">nil</span> {
    l.Fatalf(<span class="hljs-string">"failed creating schema resources: %v"</span>, err)
  }
}
</code></pre>
<h4 data-id="heading-13">3.2 å¯åŠ¨é¡¹ç›®</h4>
<p>åœ¨é¡¹ç›®çš„æœåŠ¡ç›®å½•<code>app/user/service</code>ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make run
</code></pre>
<p>çœ‹åˆ°ç»ˆç«¯è¾“å‡ºç±»ä¼¼ä»¥ä¸‹æ—¥å¿—ï¼Œè¯´æ˜é¡¹ç›®å¯åŠ¨æˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash">DEBUG msg=config loaded: data.yaml format: yaml
DEBUG msg=ent: connecting to postgres://postgres:***@localhost:5432/example?sslmode=<span class="hljs-built_in">disable</span>
DEBUG msg=ent: schema migrated successfully
</code></pre>
<h4 data-id="heading-14">3.3 æµ‹è¯•æ¥å£ï¼ˆç”¨ curl æˆ– Postmanï¼‰</h4>
<p>ä»¥ä¸‹ç”¨ curl å‘½ä»¤æµ‹è¯• 4 ä¸ª CRUD æ¥å£ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸ï¼š</p>
<h5 data-id="heading-15">1. åˆ›å»ºç”¨æˆ·ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'POST'</span> \
  <span class="hljs-string">'http://localhost:7788/users'</span> \
  -H <span class="hljs-string">'accept: application/json'</span> \
  -H <span class="hljs-string">'Content-Type: application/json'</span> \
  -d <span class="hljs-string">'{
  "data": {
    "id": 0,
    "userName": "zhangsan",
    "nickName": "å¼ ä¸‰",
    "password": "123456"
  }
}'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//ï¼ˆIDä¸ºè‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®ï¼‰ã€‚</span>
  <span class="hljs-attr">"userName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zhangsan"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nickName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$2a$10$Jd34ATGgTJ2sV7xvPruMLONArXk9KYQ2O6XDY42UxVO37p5DO8CVu"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"createdAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"updatedAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-16">2. æŸ¥è¯¢ç”¨æˆ·ï¼ˆä½¿ç”¨ä¸Šé¢è¿”å›çš„ID=1ï¼‰ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'GET'</span> \
  <span class="hljs-string">'http://localhost:7788/users/1'</span> \
  -H <span class="hljs-string">'accept: application/json'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"userName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zhangsan"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nickName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$2a$10$Jd34ATGgTJ2sV7xvPruMLONArXk9KYQ2O6XDY42UxVO37p5DO8CVu"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"createdAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"updatedAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-17">3. æ›´æ–°ç”¨æˆ·ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'PUT'</span> \
  <span class="hljs-string">'http://localhost:7788/users/1'</span> \
  -H <span class="hljs-string">'accept: application/json'</span> \
  -H <span class="hljs-string">'Content-Type: application/json'</span> \
  -d <span class="hljs-string">'{
  "data": {
    "id": 1,
    "userName": "zhangsan",
    "nickName": "å¼ ä¸‰ä¸‰"
  }
}'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"userName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zhangsan"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nickName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$2a$10$Jd34ATGgTJ2sV7xvPruMLONArXk9KYQ2O6XDY42UxVO37p5DO8CVu"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"createdAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"updatedAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-18">4. åˆ é™¤ç”¨æˆ·ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'DELETE'</span> \
  <span class="hljs-string">'http://localhost:7788/users/1'</span> \
  -H <span class="hljs-string">'accept: */*'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-19">å…­ã€æ–°æ‰‹é¿å‘æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>Ent ä»£ç ç”Ÿæˆå¿…é¡»æ‰§è¡Œ</strong>ï¼šä¿®æ”¹ schema åå¿…é¡»è¿è¡Œ<code>make ent</code>ç”Ÿæˆæ–°ä»£ç ï¼Œå¦åˆ™ä¼šæŠ¥ â€œæœªå®šä¹‰å­—æ®µ / æ–¹æ³•â€ é”™è¯¯ï¼›</li>
<li><strong>æ•°æ®åº“é©±åŠ¨é€‚é…</strong>ï¼šEnt å¯¹ä¸åŒæ•°æ®åº“çš„å­—æ®µç±»å‹æ”¯æŒæœ‰å·®å¼‚ï¼ˆå¦‚æ—¶é—´ç±»å‹ï¼‰ï¼Œschema ä¸­éœ€ç”¨<code>SchemaType</code>æŒ‡å®šæ•°æ®åº“ç‰¹å®šç±»å‹ï¼›</li>
<li><strong>æŸ¥è¯¢æ¡ä»¶æ„å»º</strong>ï¼šEnt çš„æŸ¥è¯¢æ¡ä»¶é€šè¿‡å‡½æ•°é—­åŒ…å®ç°ï¼ˆå¦‚<code>q.Where(ent.User.ID(1))</code>ï¼‰ï¼Œä¸ GORM çš„é“¾å¼è°ƒç”¨ä¸åŒï¼Œéœ€æ³¨æ„è¯­æ³•ï¼›</li>
<li><strong>go-curd ç‰ˆæœ¬å…¼å®¹</strong>ï¼šé¡¹ç›®ä¾èµ–çš„<code>github.com/tx7do/go-crud/entgo</code>ç‰ˆæœ¬éœ€ä¸ Ent ç‰ˆæœ¬ï¼ˆé¡¹ç›®ä¸­ä¸º v0.14.5ï¼‰åŒ¹é…ï¼Œå¦åˆ™å¯èƒ½å‡ºç°æ–¹æ³•ä¸å…¼å®¹ï¼›</li>
<li><strong>è¿ç§»æ“ä½œè°¨æ…æ‰§è¡Œ</strong>ï¼šç”Ÿäº§ç¯å¢ƒä¸­ï¼Œ<code>migrate.WithForeignKeys(true)</code>å¯èƒ½å¯¼è‡´è¡¨ç»“æ„å˜æ›´é£é™©ï¼Œå»ºè®®å…ˆé€šè¿‡<code>ent migrate plan</code>é¢„è§ˆå˜æ›´ã€‚</li>
</ol>
<h3 data-id="heading-20">ä¸ƒã€æ€»ç»“</h3>
<p>åŸºäº <code>kratos-ent-example</code> é¡¹ç›®é›†æˆ <code>go-curd</code> çš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼š<strong>åœ¨ Ent è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç åŸºç¡€ä¸Šï¼Œé€šè¿‡ go-curd å°è£… CRUD é€»è¾‘ï¼Œå‡å°‘é‡å¤çš„æŸ¥è¯¢æ„å»ºå’Œç»“æœæ˜ å°„å·¥ä½œ</strong>ã€‚ç›¸æ¯”ç›´æ¥ä½¿ç”¨ Ent åŸç”Ÿ APIï¼Œgo-curd è®©ä¸šåŠ¡ä»£ç æ›´ç®€æ´ï¼Œå°¤å…¶é€‚åˆå¿«é€Ÿå¼€å‘ã€‚</p>
<p>å¦‚æœéœ€è¦æ‰©å±•å…¶ä»–æ¨¡å—ï¼ˆå¦‚è®¢å•ã€å•†å“ï¼‰ï¼Œåªéœ€å¤åˆ¶ç”¨æˆ·æ¨¡å—çš„é€»è¾‘ï¼šå®šä¹‰ Ent schemaâ†’ç”Ÿæˆä»£ç â†’ç”¨ go-curd å®ç° CRUDâ†’ç»‘å®š API æ¥å£ã€‚è‹¥é‡åˆ°é—®é¢˜ï¼Œå¯å‚è€ƒé¡¹ç›®çš„å®˜æ–¹æ–‡æ¡£ï¼ˆ<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">go-curd</a>ã€<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">kratos-ent-example</a>ï¼‰è·å–æ›´å¤šç»†èŠ‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒGORM ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹]]></title>    <link>https://juejin.cn/post/7579800429375094834</link>    <guid>https://juejin.cn/post/7579800429375094834</guid>    <pubDate>2025-12-04T07:20:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579800429375094834" data-draft-id="7579573664230064137" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒGORM ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2025-12-04T07:20:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒGORM ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T07:20:11.000Z" title="Thu Dec 04 2025 07:20:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    47
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆå­¦è€…å‹å¥½ï¼šGo-Kratos é›†æˆ go-crudï¼ŒGORM ORM CRUD æ— éœ€é‡å¤ç¼–ç ï¼Œè½»æ¾ä¸Šæ‰‹</h2>
<p>å¯¹äºåˆšæ¥è§¦Goå¾®æœåŠ¡å¼€å‘çš„åˆå­¦è€…æ¥è¯´ï¼Œç›´æ¥ä¸Šæ‰‹â€œæ¡†æ¶+ORMâ€çš„ç»„åˆå¸¸æ˜¾å¤æ‚ã€‚è€Œkratos-gorm-exampleé¡¹ç›®å·²ä¸ºæˆ‘ä»¬æ­å»ºå¥½äº†Go-Kratosä¸GORMçš„åŸºç¡€é›†æˆæ¡†æ¶ï¼Œæœ¬æ–‡å°†åŸºäºè¯¥é¡¹ç›®ï¼Œèšç„¦å¦‚ä½•å¿«é€Ÿæ¥å…¥go-curdå·¥å…·ç®€åŒ–CRUDï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰æ“ä½œï¼Œå…¨ç¨‹ä»¥step-by-stepçš„æ–¹å¼è®²è§£ï¼Œæ–°æ‰‹ä¹Ÿèƒ½è½»æ¾è·Ÿéšå®æ“ã€‚</p>
<p>å…ˆæ˜ç¡®æ ¸å¿ƒå·¥å…·å…³ç³»ï¼š<code>kratos-gorm-example</code>æ˜¯â€œåŸºç¡€éª¨æ¶â€ï¼ˆå·²æ•´åˆKratosä¸GORMï¼‰ï¼Œ<code>go-curd</code>æ˜¯â€œæ•ˆç‡å·¥å…·â€ï¼ˆå°è£…é‡å¤CRUDé€»è¾‘ï¼‰ï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒç›®æ ‡æ˜¯â€œåœ¨ç°æœ‰éª¨æ¶ä¸Šè£…å·¥å…·ï¼Œè®©æ•°æ®æ“ä½œæ›´ç®€å•â€ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æ ¸å¿ƒå·¥å…·é€Ÿè§ˆï¼š3åˆ†é’Ÿç†æ¸…åˆ†å·¥</h3>
<p>åœ¨åŠ¨æ‰‹å‰ï¼Œå…ˆæ˜ç¡®ä¸‰ä¸ªå·¥å…·çš„åˆ†å·¥ï¼Œé¿å…è¶Šåšè¶Šä¹±ï¼š</p>
<ul>
<li><strong>Go-Kratos</strong>å¾®æœåŠ¡æ¡†æ¶æ ¸å¿ƒï¼Œè´Ÿè´£APIå®šä¹‰ã€æœåŠ¡å¯åŠ¨ã€è¯·æ±‚åˆ†å‘ï¼Œkratos-gorm-exampleå·²å®Œæˆå…¶åŸºç¡€é…ç½®ï¼›</li>
<li><strong>GORM</strong>ï¼šORMæ¡†æ¶ï¼Œå®ç°Goç»“æ„ä½“ä¸æ•°æ®åº“è¡¨çš„æ˜ å°„ï¼Œkratos-gorm-exampleå·²å®Œæˆæ•°æ®åº“è¿æ¥åˆå§‹åŒ–ï¼›</li>
<li><strong>go-crud</strong>ï¼šGORMçš„ä¸Šå±‚å°è£…å·¥å…·ï¼ŒæŠŠé‡å¤çš„CRUDé€»è¾‘ï¼ˆå¦‚åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ï¼‰åšæˆç°æˆæ–¹æ³•ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™GORMåŸç”Ÿè¯­å¥ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€ç¯å¢ƒå‡†å¤‡ï¼š5åˆ†é’Ÿæå®šå‰ç½®ä¾èµ–</h3>
<p>å…ˆå®ŒæˆåŸºç¡€ç¯å¢ƒæ­å»ºå’Œé¡¹ç›®å‡†å¤‡ï¼Œç¡®ä¿åç»­æ­¥éª¤æ— æŠ¥é”™ï¼š</p>
<ol>
<li><strong>å®‰è£…åŸºç¡€å·¥å…·</strong>ï¼šè¦æ±‚ Go 1.19+ï¼ˆKratos æœ€ä½æ”¯æŒç‰ˆæœ¬ï¼‰ï¼Œå®‰è£…åç”¨<code>go version</code>éªŒè¯ï¼›</li>
<li><strong>Git</strong>ï¼šç”¨äºå…‹éš†ç¤ºä¾‹é¡¹ç›®ï¼›</li>
<li><strong>å‡†å¤‡æ•°æ®åº“</strong>ï¼šç”¨ Postgresqlï¼ˆGORM æœ€å¸¸ç”¨çš„æ•°æ®åº“ï¼‰ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼ˆæ¯”å¦‚å«<code>example</code>ï¼‰ï¼Œä¸ç”¨å»ºè¡¨ï¼ˆåç»­ GORM ä¼šè‡ªåŠ¨å»ºï¼‰ï¼›</li>
<li><strong>è·å–kratos-gorm-exampleé¡¹ç›®ï¼š</strong>
<ul>
<li>æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…‹éš†é¡¹ç›®å¹¶è¿›å…¥ç›®å½•ï¼š<code>git clone https://github.com/tx7do/kratos-gorm-example.git</code></li>
<li><code>cd kratos-gorm-example</code></li>
</ul>
</li>
<li><strong>å¼•å…¥go-curdä¾èµ–ï¼š</strong> åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ï¼Œæ‹‰å–go-curdçš„GORMé€‚é…æ¨¡å—ï¼š<code>go get github.com/tx7do/go-curd/gorm</code></li>
<li><strong>ç¡®è®¤é¡¹ç›®æ ¸å¿ƒç›®å½•ï¼š</strong> æ— éœ€å…³æ³¨æ‰€æœ‰æ–‡ä»¶ï¼Œé‡ç‚¹è®°ä½3ä¸ªæ ¸å¿ƒç›®å½•ï¼ˆkratos-gorm-exampleå·²é¢„è®¾ï¼‰ï¼š
<ul>
<li><code>api</code>ï¼šæ”¾ API å®šä¹‰æ–‡ä»¶ï¼ˆ.protoï¼‰ï¼Œç”¨æ¥å®šä¹‰ â€œåˆ›å»ºç”¨æˆ·â€ã€â€œæŸ¥è¯¢ç”¨æˆ·â€ ç­‰æ¥å£ï¼›</li>
<li><code>app/user/service/internal/data/models</code>ï¼šæ”¾æ•°æ®åº“æ¨¡å‹ï¼ˆå’Œ MySQL è¡¨å¯¹åº”ï¼‰ï¼›</li>
<li><code>app/user/service/internal/data</code>ï¼šæ”¾ä¸šåŠ¡é€»è¾‘ï¼Œè¿™é‡Œä¼šè°ƒç”¨ go-crud åš CRUDã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3">ä¸‰ã€æ ¸å¿ƒæ­¥éª¤1ï¼šåœ¨kratos-gorm-exampleä¸­é›†æˆgo-curd</h3>
<p>kratos-gorm-exampleå·²å®ŒæˆGORMçš„åˆå§‹åŒ–é…ç½®ï¼Œæˆ‘ä»¬åªéœ€åœ¨ç°æœ‰åŸºç¡€ä¸Šï¼Œå°†go-curdå®¢æˆ·ç«¯é›†æˆè¿›æ¥ï¼Œè®©ä¸šåŠ¡å±‚å¯ä»¥è°ƒç”¨å…¶ç®€åŒ–æ–¹æ³•ã€‚</p>
<h4 data-id="heading-4">1.1 ä¿®æ”¹æ•°æ®å±‚ï¼šé›†æˆgo-curdå®¢æˆ·ç«¯</h4>
<p>æ‰“å¼€<code>app/user/service/internal/data/user.go</code>ä¿®æ”¹ä»£ç ä»¥é›†æˆ<code>go-curd</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> data

<span class="hljs-keyword">import</span> (
  gormCurd <span class="hljs-string">"github.com/tx7do/go-crud/gorm"</span>
)

<span class="hljs-keyword">type</span> UserRepo <span class="hljs-keyword">struct</span> {
	data *Data
	log  *log.Helper

	mapper     *mapper.CopierMapper[userV1.User, models.User]
	repository *gormCurd.Repository[userV1.User, models.User]
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewUserRepo</span><span class="hljs-params">(data *Data, logger log.Logger)</span></span> *UserRepo {
	l := log.NewHelper(log.With(logger, <span class="hljs-string">"module"</span>, <span class="hljs-string">"user/repo/user-service"</span>))
	repo := &amp;UserRepo{
		data:   data,
		log:    l,
		mapper: mapper.NewCopierMapper[userV1.User, models.User](),
	}

	repo.repository = gormCurd.NewRepository[userV1.User, models.User](
		repo.mapper,
	)

	repo.init()

	<span class="hljs-keyword">return</span> repo
}
</code></pre>
<p>æ ¸å¿ƒæ”¹åŠ¨è¯´æ˜ï¼šæ–°å¢<code>repository</code>å­—æ®µå­˜å‚¨<code>go-curd</code>å®¢æˆ·ç«¯ï¼Œé€šè¿‡<code>gormCurd.NewRepository()</code>åˆå§‹åŒ–ï¼Œæä¾›æ–¹æ³•ä¾›ä¸šåŠ¡å±‚è°ƒç”¨ã€‚</p>
<h4 data-id="heading-5">1.2 ç¡®è®¤æ•°æ®åº“é…ç½®ï¼ˆæ— éœ€ä¿®æ”¹ï¼Œä»…éªŒè¯ï¼‰</h4>
<p>kratos-gorm-exampleå·²åœ¨<code>configs/data.yaml</code>ä¸­é…ç½®å¥½æ•°æ®åº“è¿æ¥ï¼Œæ‰“å¼€æ–‡ä»¶éªŒè¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">data:</span>
  <span class="hljs-attr">database:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">"postgres"</span>
    <span class="hljs-attr">source:</span> <span class="hljs-string">"host=localhost port=5432 user=postgres password=*Abcd123456 dbname=example sslmode=disable"</span>
    <span class="hljs-attr">migrate:</span> <span class="hljs-literal">true</span>
</code></pre>
<p>æ³¨æ„ï¼šå°†<code>source</code>ä¸­çš„<code>user=postgres password=*Abcd123456</code>æ”¹ä¸ºè‡ªå·±çš„PostgreSQLç”¨æˆ·åå’Œå¯†ç ï¼Œç¡®ä¿èƒ½è¿æ¥åˆ°ä¹‹å‰æ–°å»ºçš„<code>example</code>æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-6">å››ã€æ ¸å¿ƒæ­¥éª¤2ï¼šç”¨go-curdå®ç°CRUDä¸šåŠ¡é€»è¾‘</h3>
<p>æˆ‘ä»¬å°†ä»¥â€œç”¨æˆ·æ¨¡å—â€ä¸ºä¾‹ï¼ŒåŸºäºé¡¹ç›®ç°æœ‰çš„ç›®å½•ç»“æ„ï¼Œç”¨go-curdå®ç°ç”¨æˆ·çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€‚kratos-gorm-exampleå·²é¢„è®¾éƒ¨åˆ†åŸºç¡€ä»£ç ï¼Œæˆ‘ä»¬åªéœ€è¡¥å……å’Œä¿®æ”¹ã€‚</p>
<h4 data-id="heading-7">2.1 å®šä¹‰ç”¨æˆ·æ¨¡å‹ï¼ˆModelï¼‰</h4>
<p>æ‰“å¼€<code>app/user/service/internal/data/models/user.go</code>ï¼Œå®šä¹‰<code>User</code>ç»“æ„ä½“ï¼ˆå¯¹åº”æ•°æ®åº“ä¸­çš„çš„<code>usersè¡¨</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> models

<span class="hljs-keyword">import</span> <span class="hljs-string">"gorm.io/gorm"</span>

<span class="hljs-comment">// User ç”¨æˆ·ä¿¡æ¯è¡¨</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
	gorm.Model

	UserName <span class="hljs-type">string</span> <span class="hljs-string">`gorm:"column:username;comment:'è´¦å·å'"`</span>
	NickName <span class="hljs-type">string</span> <span class="hljs-string">`gorm:"column:nickname;comment:'æ˜µç§°'"`</span>
	Password <span class="hljs-type">string</span> <span class="hljs-string">`gorm:"column:password;comment:'ç™»å½•å¯†ç '"`</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(u User)</span></span> TableName() <span class="hljs-type">string</span> {
	<span class="hljs-keyword">return</span> <span class="hljs-string">"users"</span>
}
</code></pre>
<p>è¯´æ˜ï¼šGORMä¼šæ ¹æ®è¯¥ç»“æ„ä½“è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ï¼Œåç»­æˆ‘ä»¬ä¼šé€šè¿‡go-curdæ“ä½œè¯¥æ¨¡å‹ã€‚</p>
<h4 data-id="heading-8">2.2 ç¼–å†™Dataå±‚ï¼šç”¨go-curdå®ç°CRUD</h4>
<p>æ‰“å¼€<code>app/user/service/internal/data/user.go</code>ï¼Œç¼–å†™ä¸šåŠ¡é€»è¾‘æ–¹æ³•ã€‚æ ¸å¿ƒä¼˜åŠ¿ï¼šç”¨go-curdçš„ç°æˆæ–¹æ³•æ›¿ä»£åŸç”ŸGORMä»£ç ï¼Œå‡å°‘é‡å¤å·¥ä½œã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> data

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> List(ctx context.Context, req *pagination.PagingRequest) (*userV1.ListUserResponse, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	ret, err := r.repository.ListWithPaging(ctx, r.data.db, req)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}
	<span class="hljs-keyword">if</span> ret == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> &amp;userV1.ListUserResponse{Total: <span class="hljs-number">0</span>, Items: <span class="hljs-literal">nil</span>}, <span class="hljs-literal">nil</span>
	}

	<span class="hljs-keyword">return</span> &amp;userV1.ListUserResponse{
		Total: ret.Total,
		Items: ret.Items,
	}, <span class="hljs-literal">nil</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Get(ctx context.Context, req *userV1.GetUserRequest) (*userV1.User, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	<span class="hljs-keyword">var</span> whereCond *gorm.DB
	<span class="hljs-keyword">switch</span> req.QueryBy.(<span class="hljs-keyword">type</span>) {
	<span class="hljs-keyword">case</span> *userV1.GetUserRequest_Id:
		whereCond = r.data.db.Where(<span class="hljs-string">"id = ?"</span>, req.GetId())
	<span class="hljs-keyword">case</span> *userV1.GetUserRequest_UserName:
		whereCond = r.data.db.Where(<span class="hljs-string">"user_name = ?"</span>, req.GetUserName())
	<span class="hljs-keyword">default</span>:
		whereCond = r.data.db.Where(<span class="hljs-string">"id = ?"</span>, req.GetId())
	}

	dto, err := r.repository.Get(ctx, whereCond, req.GetViewMask())
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}

	<span class="hljs-keyword">return</span> dto, err
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Create(ctx context.Context, req *userV1.CreateUserRequest) (*userV1.User, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> || req.Data == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> &amp;&amp; req.Data.GetPassword() != <span class="hljs-string">""</span> {
		cryptoPassword, err := crypto.HashPassword(req.Data.GetPassword())
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		req.Data.Password = &amp;cryptoPassword
	}

	result, err := r.repository.Create(ctx, r.data.db, req.Data, <span class="hljs-literal">nil</span>)

	<span class="hljs-keyword">return</span> result, err
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Update(ctx context.Context, req *userV1.UpdateUserRequest) (*userV1.User, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> || req.Data == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> &amp;&amp; req.Data.GetPassword() != <span class="hljs-string">""</span> {
		cryptoPassword, err := crypto.HashPassword(req.Data.GetPassword())
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		req.Data.Password = &amp;cryptoPassword
	}

	result, err := r.repository.Update(ctx, r.data.db, req.Data, req.GetUpdateMask())

	<span class="hljs-keyword">return</span> result, err
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Upsert(ctx context.Context, req *userV1.UpdateUserRequest) (*userV1.User, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> || req.Data == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	<span class="hljs-keyword">var</span> err <span class="hljs-type">error</span>

	<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> &amp;&amp; req.Data.GetPassword() != <span class="hljs-string">""</span> {
		cryptoPassword, err := crypto.HashPassword(req.Data.GetPassword())
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		req.Data.Password = &amp;cryptoPassword
	}

	result, err := r.repository.Upsert(ctx, r.data.db, req.Data, req.GetUpdateMask())

	<span class="hljs-keyword">return</span> result, err
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> Delete(ctx context.Context, req *userV1.DeleteUserRequest) (<span class="hljs-type">bool</span>, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>, errors.New(<span class="hljs-string">"request is nil"</span>)
	}

	result, err := r.repository.Delete(ctx, r.data.db.Where(<span class="hljs-string">"id = ?"</span>, req.GetId()))

	<span class="hljs-keyword">return</span> result &gt; <span class="hljs-number">0</span>, err
}
</code></pre>
<p>æ ¸å¿ƒç®€åŒ–ç‚¹ï¼šå¯¹æ¯”åŸç”ŸGORMï¼Œgo-curdçš„<code>List</code>ã€<code>Get</code>ã€<code>Create</code>ã€<code>Update</code>ã€<code>Upsert</code>ã€<code>Delete</code>æ–¹æ³•æ— éœ€ç¼–å†™æŸ¥è¯¢æ¡ä»¶ï¼Œç›´æ¥ä¼ å…¥ä¸Šä¸‹æ–‡ã€æ¨¡å‹å®ä¾‹å’ŒIDå³å¯ï¼Œä»£ç æ›´ç®€æ´ã€‚</p>
<h4 data-id="heading-9">2.3 å®šä¹‰APIæ¥å£ï¼ˆProtoï¼‰å¹¶ç”Ÿæˆä»£ç </h4>
<p><code>kratos-gorm-example</code>å·²åœ¨<code>api/protos/user/service/v1/user.proto</code>ä¸­é¢„è®¾äº†ç”¨æˆ·APIå®šä¹‰ï¼Œæˆ‘ä»¬åªéœ€ç¡®è®¤å†…å®¹ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰ï¼Œç„¶åç”ŸæˆGoä»£ç ï¼š</p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";

package user.service.v1;

import "gnostic/openapi/v3/annotations.proto";

import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/field_mask.proto";

import "google/api/annotations.proto";

import "pagination/v1/pagination.proto";

// ç”¨æˆ·æœåŠ¡
service UserService {
  // æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
  rpc ListUser (pagination.PagingRequest) returns (ListUserResponse) {
    option (google.api.http) = {
      get: "/users"
      additional_bindings {
        post: "/users/list"
        body: "*"
      }
    };
  }

  // æŸ¥è¯¢ç”¨æˆ·è¯¦æƒ…
  rpc GetUser (GetUserRequest) returns (User) {
    option (google.api.http) = {
      get: "/users/{id}"
      additional_bindings {
        get: "/users/username/{user_name}"
      }
    };
  }

  // åˆ›å»ºç”¨æˆ·
  rpc CreateUser (CreateUserRequest) returns (User) {
    option (google.api.http) = {
      post: "/users"
      body: "*"
    };
  }

  // æ›´æ–°ç”¨æˆ·
  rpc UpdateUser (UpdateUserRequest) returns (User) {
    option (google.api.http) = {
      put: "/users/{data.id}"
      body: "*"
    };
  }

  // åˆ é™¤ç”¨æˆ·
  rpc DeleteUser (DeleteUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/users/{id}"
    };
  }
}

// ç”¨æˆ·
message User {
  uint32 id = 1;

  optional string user_name = 2 [json_name = "userName", (gnostic.openapi.v3.property) = {description: "è´¦æˆ·å"}];// è´¦æˆ·å
  optional string nick_name = 3 [json_name = "nickName", (gnostic.openapi.v3.property) = {description: "æ˜µç§°"}];// æ˜µç§°
  optional string password = 4 [json_name = "password", (gnostic.openapi.v3.property) = {description: "å¯†ç "}];// å¯†ç 

  optional google.protobuf.Timestamp created_at = 200 [json_name = "createdAt", (gnostic.openapi.v3.property) = {description: "åˆ›å»ºæ—¶é—´"}];// åˆ›å»ºæ—¶é—´
  optional google.protobuf.Timestamp updated_at = 201 [json_name = "updatedAt", (gnostic.openapi.v3.property) = {description: "æ›´æ–°æ—¶é—´"}];// æ›´æ–°æ—¶é—´
  optional google.protobuf.Timestamp deleted_at = 202 [json_name = "deletedAt", (gnostic.openapi.v3.property) = {description: "åˆ é™¤æ—¶é—´"}];// åˆ é™¤æ—¶é—´
}

// è·å–ç”¨æˆ·åˆ—è¡¨ - ç­”å¤
message ListUserResponse {
  repeated User items = 1;
  uint64 total = 2;
}

// è·å–ç”¨æˆ·æ•°æ® - è¯·æ±‚
message GetUserRequest {
  oneof query_by {
    uint32 id = 1 [
      (gnostic.openapi.v3.property) = {description: "ç”¨æˆ·ID", read_only: true},
      json_name = "id"
    ]; // ç”¨æˆ·ID

    string user_name = 2 [
      (gnostic.openapi.v3.property) = {description: "ç”¨æˆ·ç™»å½•å", read_only: true},
      json_name = "userName"
    ]; // ç”¨æˆ·ç™»å½•å
  }

  optional google.protobuf.FieldMask view_mask = 100 [
    json_name = "viewMask",
    (gnostic.openapi.v3.property) = {
      description: "è§†å›¾å­—æ®µè¿‡æ»¤å™¨ï¼Œç”¨äºæ§åˆ¶è¿”å›çš„å­—æ®µ"
    }
  ]; // è§†å›¾å­—æ®µè¿‡æ»¤å™¨ï¼Œç”¨äºæ§åˆ¶è¿”å›çš„å­—æ®µ
}

// åˆ›å»ºç”¨æˆ· - è¯·æ±‚
message CreateUserRequest {
  User data = 1;

  uint32 operator_id = 2 [json_name = "operatorId", (gnostic.openapi.v3.property) = {description: "æ“ä½œè€…ç”¨æˆ·ID"}];// æ“ä½œè€…ç”¨æˆ·ID
}

// æ›´æ–°ç”¨æˆ· - è¯·æ±‚
message UpdateUserRequest {
  User data = 1;

  google.protobuf.FieldMask update_mask = 2 [
    json_name = "updateMask",
    (gnostic.openapi.v3.property) = {
      description: "è¦æ›´æ–°çš„å­—æ®µåˆ—è¡¨",
      example: {yaml : "id,realname,username"}
    }
  ]; // è¦æ›´æ–°çš„å­—æ®µåˆ—è¡¨

  optional bool allow_missing = 3 [
    json_name = "allowMissing",
    (gnostic.openapi.v3.property) = {description: "å¦‚æœè®¾ç½®ä¸ºtrueçš„æ—¶å€™ï¼Œèµ„æºä¸å­˜åœ¨åˆ™ä¼šæ–°å¢(æ’å…¥)ï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹`updateMask`å­—æ®µå°†ä¼šè¢«å¿½ç•¥ã€‚"}
  ]; // å¦‚æœè®¾ç½®ä¸ºtrueçš„æ—¶å€™ï¼Œèµ„æºä¸å­˜åœ¨åˆ™ä¼šæ–°å¢(æ’å…¥)ï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹`updateMask`å­—æ®µå°†ä¼šè¢«å¿½ç•¥ã€‚
}

// åˆ é™¤ç”¨æˆ· - è¯·æ±‚
message DeleteUserRequest {
  uint32 id = 1;

  uint32 operator_id = 2 [json_name = "operatorId", (gnostic.openapi.v3.property) = {description: "æ“ä½œè€…ç”¨æˆ·ID"}];// æ“ä½œè€…ç”¨æˆ·ID
}
</code></pre>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”ŸæˆGoä»£ç ï¼ˆé¡¹ç›®å·²é¢„è®¾<code>make api</code>å‘½ä»¤ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make api
</code></pre>
<p>ç”Ÿæˆçš„ä»£ç ä¼šæ”¾åœ¨<code>api/gen/go/user/service/v1</code>ç›®å½•ä¸‹ï¼Œä¾›<code>Dataå±‚</code>å’Œ<code>Serviceå±‚</code>è°ƒç”¨ã€‚</p>
<h4 data-id="heading-10">2.4 Server å±‚ç»‘å®šæ¥å£ä¸ Service</h4>
<p><code>kratos-gorm-example</code> é€šè¿‡<code>NewRESTServer</code>æ–¹æ³•å®Œæˆ <code>HTTP Server</code> çš„åˆ›å»ºï¼Œå¹¶å°† <code>UserService</code> æ³¨å†Œåˆ° <code>Kratos</code> çš„ <code>HTTP</code> æœåŠ¡ä¸­ï¼Œå®ç° API æ¥å£ä¸ <code>Service</code> å±‚çš„ç»‘å®šã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼ˆæ–‡ä»¶è·¯å¾„ï¼š<code>app/user/service/internal/server/rest.go</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// NewRESTServer new an HTTP server.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewRESTServer</span><span class="hljs-params">(
	cfg *conf.Bootstrap, logger log.Logger,
	userService *service.UserService,
)</span></span> *http.Server {
	<span class="hljs-keyword">if</span> cfg == <span class="hljs-literal">nil</span> || cfg.Server == <span class="hljs-literal">nil</span> || cfg.Server.Rest == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	}

	srv := bootstrap.CreateRestServer(cfg, logging.Server(logger))

	userV1.RegisterUserServiceHTTPServer(srv, userService)

	<span class="hljs-keyword">if</span> cfg.GetServer().GetRest().GetEnableSwagger() {
		swaggerUI.RegisterSwaggerUIServerWithOption(
			srv,
			swaggerUI.WithTitle(<span class="hljs-string">"Kratos GORM Example User Service API"</span>),
			swaggerUI.WithMemoryData(assets.OpenApiData, <span class="hljs-string">"yaml"</span>),
		)
	}

	<span class="hljs-keyword">return</span> srv
}
</code></pre>
<p>ä»£ç è¯´æ˜ï¼š</p>
<ol>
<li><code>bootstrap.CreateRestServer</code>ï¼šåŸºäºé…ç½®åˆ›å»º Kratos çš„ HTTP Server å®ä¾‹ï¼ŒåŒ…å«ç«¯å£ã€ä¸­é—´ä»¶ç­‰åŸºç¡€é…ç½®ï¼›</li>
<li><code>userV1.RegisterUserServiceHTTPServer</code>ï¼šå°†å®ç°äº†<code>UserService</code>æ¥å£çš„<code>userService</code>å®ä¾‹æ³¨å†Œåˆ° HTTP Server ä¸­ï¼Œå®Œæˆ API æ¥å£ï¼ˆå¦‚<code>/users</code>ï¼‰ä¸ <code>Service</code> å±‚æ–¹æ³•çš„ç»‘å®šï¼›</li>
<li>Swagger ç›¸å…³é…ç½®ï¼šå¯é€‰å¼€å¯ Swagger UIï¼Œæ–¹ä¾¿è°ƒè¯• API æ¥å£ã€‚</li>
</ol>
<p>æ­¤æ­¥éª¤æ— éœ€æ‰‹åŠ¨ä¿®æ”¹ä»£ç ï¼ˆé¡¹ç›®å·²å®ç°ï¼‰ï¼Œåªéœ€éªŒè¯è¯¥æ–‡ä»¶å­˜åœ¨ä¸”ä»£ç å®Œæ•´å³å¯ â€”â€” å¯åŠ¨æœåŠ¡åï¼ŒKratos ä¼šè‡ªåŠ¨å°† HTTP è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„ Service å±‚æ–¹æ³•ã€‚</p>
<h3 data-id="heading-11">äº”ã€æ ¸å¿ƒæ­¥éª¤3ï¼šè¿è¡Œé¡¹ç›®å¹¶æµ‹è¯•CRUDæ¥å£</h3>
<p>æ‰€æœ‰ä»£ç ä¿®æ”¹å®Œæˆåï¼Œå¯åŠ¨é¡¹ç›®å¹¶æµ‹è¯•æ¥å£ï¼ŒéªŒè¯go-curdæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
<h4 data-id="heading-12">3.1 è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ï¼ˆGORMè‡ªåŠ¨è¿ç§»ï¼‰</h4>
<p><code>kratos-gorm-example</code>å·²åœ¨<code>app/user/service/internal/data/gorm_client.go</code>ä¸­å®ç°äº†GORMè‡ªåŠ¨è¿ç§»é€»è¾‘ï¼Œå¯åŠ¨é¡¹ç›®æ—¶ä¼šè‡ªåŠ¨æ ¹æ®<code>Useræ¨¡å‹</code>åˆ›å»º<code>usersè¡¨</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å…³é”®è¿ç§»ä»£ç ï¼ˆé¡¹ç›®å·²å®ç°ï¼‰</span>
<span class="hljs-keyword">if</span> err := data.DB().AutoMigrate(
  &amp;model.User{}, <span class="hljs-comment">// è‡ªåŠ¨è¿ç§»Useræ¨¡å‹åˆ°æ•°æ®åº“è¡¨</span>
); err != <span class="hljs-literal">nil</span> {
  log.Error(<span class="hljs-string">"è¿ç§»æ•°æ®åº“è¡¨å¤±è´¥ï¼š"</span>, err)
  <span class="hljs-keyword">return</span> err
}
</code></pre>
<h4 data-id="heading-13">3.2 å¯åŠ¨é¡¹ç›®</h4>
<p>åœ¨é¡¹ç›®çš„æœåŠ¡ç›®å½•<code>app/user/service</code>ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make run
</code></pre>
<p>çœ‹åˆ°ç»ˆç«¯è¾“å‡ºä¸‹é¢çš„æ–‡æœ¬æˆ–ç±»ä¼¼æ—¥å¿—ï¼Œè¯´æ˜é¡¹ç›®å¯åŠ¨æˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash">DEBUG msg=config loaded: client.yaml format: yaml
DEBUG msg=config loaded: data.yaml format: yaml
DEBUG msg=config loaded: logger.yaml format: yaml
DEBUG msg=config loaded: server.yaml format: yaml
DEBUG msg=config loaded: tracer.yaml format: yaml
</code></pre>
<h4 data-id="heading-14">3.3 æµ‹è¯•æ¥å£ï¼ˆç”¨curlæˆ–Postmanï¼‰</h4>
<p>ä»¥ä¸‹ç”¨curlå‘½ä»¤æµ‹è¯•4ä¸ªCRUDæ¥å£ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸ï¼š</p>
<h5 data-id="heading-15">1. åˆ›å»ºç”¨æˆ·ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'POST'</span> \
  <span class="hljs-string">'http://localhost:7788/users'</span> \
  -H <span class="hljs-string">'accept: application/json'</span> \
  -H <span class="hljs-string">'Content-Type: application/json'</span> \
  -d <span class="hljs-string">'{
  "data": {
    "id": 0,
    "userName": "zhangsan",
    "nickName": "å¼ ä¸‰",
    "password": "123456"
  }
}'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//ï¼ˆIDä¸ºè‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®ï¼‰ã€‚</span>
  <span class="hljs-attr">"userName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zhangsan"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nickName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$2a$10$Jd34ATGgTJ2sV7xvPruMLONArXk9KYQ2O6XDY42UxVO37p5DO8CVu"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"createdAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"updatedAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-16">2. æŸ¥è¯¢ç”¨æˆ·ï¼ˆä½¿ç”¨ä¸Šé¢è¿”å›çš„ID=1ï¼‰ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'GET'</span> \
  <span class="hljs-string">'http://localhost:7788/users/1'</span> \
  -H <span class="hljs-string">'accept: application/json'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"userName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zhangsan"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nickName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$2a$10$Jd34ATGgTJ2sV7xvPruMLONArXk9KYQ2O6XDY42UxVO37p5DO8CVu"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"createdAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"updatedAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-17">3. æ›´æ–°ç”¨æˆ·ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'PUT'</span> \
  <span class="hljs-string">'http://localhost:7788/users/1'</span> \
  -H <span class="hljs-string">'accept: application/json'</span> \
  -H <span class="hljs-string">'Content-Type: application/json'</span> \
  -d <span class="hljs-string">'{
  "data": {
    "id": 1,
    "userName": "zhangsan",
    "nickName": "å¼ ä¸‰ä¸‰"
  }
}'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"userName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zhangsan"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"nickName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰ä¸‰"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$2a$10$Jd34ATGgTJ2sV7xvPruMLONArXk9KYQ2O6XDY42UxVO37p5DO8CVu"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"createdAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"updatedAt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1970-01-01T00:00:00Z"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h5 data-id="heading-18">4. åˆ é™¤ç”¨æˆ·ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">curl -X <span class="hljs-string">'DELETE'</span> \
  <span class="hljs-string">'http://localhost:7788/users/1'</span> \
  -H <span class="hljs-string">'accept: */*'</span>
</code></pre>
<p>æˆåŠŸå“åº”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-19">å…­ã€æ–°æ‰‹é¿å‘æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>
<p><strong>ä¾èµ–ç‰ˆæœ¬å…¼å®¹</strong>ï¼šgo-curdä»…æ”¯æŒGORM v2ç‰ˆæœ¬ï¼Œkratos-gorm-exampleå·²ä½¿ç”¨GORM v2ï¼Œæ— éœ€é¢å¤–è°ƒæ•´ï¼›è‹¥æ‰‹åŠ¨å‡çº§ä¾èµ–ï¼Œé¿å…å®‰è£…GORM v1ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®åº“é…ç½®é”™è¯¯</strong>ï¼šåŠ¡å¿…ä¿®æ”¹<code>configs/data.yaml</code>ä¸­çš„<code>source</code>å­—æ®µï¼Œç¡®ä¿MySQLç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åæ­£ç¡®ï¼Œå¦åˆ™ä¼šå‡ºç°è¿æ¥å¤±è´¥é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹å­—æ®µä¸Protoç±»å‹åŒ¹é…</strong>ï¼šProtoä¸­çš„<code>age</code>æ˜¯<code>int32</code>ç±»å‹ï¼ŒModelä¸­çš„<code>Age</code>éœ€å¯¹åº”<code>int32</code>ï¼ˆè€Œé<code>int</code>ï¼‰ï¼Œå¦åˆ™ä¼šå‡ºç°ç±»å‹è½¬æ¢é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>go-curdæ–¹æ³•è°ƒç”¨è§„èŒƒ</strong>ï¼šè°ƒç”¨<code>Get</code>ã€<code>Delete</code>æ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯æ¨¡å‹å®ä¾‹çš„æŒ‡é’ˆï¼ˆå¦‚<code>&amp;user</code>ï¼‰ï¼Œä¸èƒ½ç›´æ¥ä¼ ç»“æ„ä½“ã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨è¿ç§»ä»…ç”¨äºå¼€å‘ç¯å¢ƒ</strong>ï¼šGORMçš„<code>AutoMigrate</code>ä»…é€‚åˆå¼€å‘é˜¶æ®µå¿«é€Ÿåˆ›å»ºè¡¨ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨æ•°æ®åº“è¿ç§»å·¥å…·ï¼ˆå¦‚<code>gorm-migrate</code>ï¼‰ç®¡ç†è¡¨ç»“æ„ã€‚</p>
</li>
</ol>
<h3 data-id="heading-20">ä¸ƒã€æ€»ç»“</h3>
<p>åŸºäºkratos-gorm-exampleé¡¹ç›®é›†æˆgo-curdçš„æ ¸å¿ƒé€»è¾‘éå¸¸ç®€å•ï¼š<strong>åœ¨ç°æœ‰GORMè¿æ¥åŸºç¡€ä¸Šåˆå§‹åŒ–go-curdå®¢æˆ·ç«¯ï¼Œç„¶åç”¨å…¶å°è£…çš„ç°æˆæ–¹æ³•æ›¿ä»£åŸç”ŸGORM CRUDä»£ç </strong>ã€‚ç›¸æ¯”ç›´æ¥ç¼–å†™GORMä»£ç ï¼Œgo-curdå¸®æˆ‘ä»¬èŠ‚çœäº†å¤§é‡é‡å¤å·¥ä½œï¼Œè®©ä¸šåŠ¡é€»è¾‘æ›´ç®€æ´ã€‚</p>
<p>å¦‚æœéœ€è¦æ‰©å±•å…¶ä»–æ¨¡å—ï¼ˆå¦‚è®¢å•ã€å•†å“ï¼‰ï¼Œåªéœ€å¤åˆ¶ç”¨æˆ·æ¨¡å—çš„é€»è¾‘ï¼šå®šä¹‰æ¨¡å‹â†’åœ¨Serviceå±‚ç”¨go-curdå®ç°CRUDâ†’ç»‘å®šAPIæ¥å£å³å¯ã€‚è‹¥é‡åˆ°é—®é¢˜ï¼Œå¯å‚è€ƒä¸¤ä¸ªé¡¹ç›®çš„å®˜æ–¹GitHubæ–‡æ¡£ï¼ˆ<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">go-curd</a>ã€<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">kratos-gorm-example</a>ï¼‰è·å–æ›´å¤šç»†èŠ‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SQL è¯­æ³•é€ŸæŸ¥æ‰‹å†Œï¼šå‰ç«¯å¼€å‘è€…çš„å­¦ä¹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7579673620939620402</link>    <guid>https://juejin.cn/post/7579673620939620402</guid>    <pubDate>2025-12-03T22:48:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579673620939620402" data-draft-id="7579441333167095817" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SQL è¯­æ³•é€ŸæŸ¥æ‰‹å†Œï¼šå‰ç«¯å¼€å‘è€…çš„å­¦ä¹ ç¬”è®°"/> <meta itemprop="keywords" content="å‰ç«¯,æ•°æ®åº“,SQL"/> <meta itemprop="datePublished" content="2025-12-03T22:48:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="copyer_xyf"/> <meta itemprop="url" content="https://juejin.cn/user/2823965976323016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SQL è¯­æ³•é€ŸæŸ¥æ‰‹å†Œï¼šå‰ç«¯å¼€å‘è€…çš„å­¦ä¹ ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2823965976323016/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    copyer_xyf
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-03T22:48:15.000Z" title="Wed Dec 03 2025 22:48:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p>æœ€è¿‘åœ¨å†™ Next.js + Supabase çš„ä¸€ä¸ªç»ƒæ‰‹é¡¹ç›®ï¼Œçªç„¶åˆæ¥è§¦åˆ°äº† SQLï¼ˆè™½ç„¶ Supabase æ˜¯é€šè¿‡ç±»ä¼¼ ORM æ¥æ“ä½œæ•°æ®åº“çš„ï¼‰ï¼Œçªç„¶æ„Ÿè§‰ SQL è¯­æ³•åˆé™Œç”Ÿäº†ã€‚</p>
<p>çœŸæ˜¯å­¦äº†ä¸ç”¨ï¼Œç­‰äºç™½å­¦ã€‚</p>
<p>ä¹‹å‰å†™è¿‡ä¸€ç¯‡<a href="https://juejin.cn/post/7181086487226613797" target="_blank" title="https://juejin.cn/post/7181086487226613797">ä¸€ä¸ªå‰ç«¯å°ç™½ï¼Œå­¦ä¹  SQL è¯­å¥</a>ï¼Œç°åœ¨å›å¤´çœ‹ï¼Œè‡ªå·±éƒ½çœ‹æ‡µäº†ï¼ŒçœŸçš„å°¬ä½äº†ã€‚</p>
<p>ç®—äº†ï¼Œé‡æ–°æ•´ç†ä¸€éå§ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå®æˆ˜æ¡ˆä¾‹æ¥å·©å›ºåŸºç¡€ã€‚</p>
<h2 data-id="heading-0">é‚‚é€…</h2>
<p><code>SQL</code>ï¼š Structured Query Languageï¼Œç§°ä¸ºç»“æ„åŒ–æŸ¥è¯¢è¯­å¥ï¼Œç®€ç§° SQLã€‚</p>
<h2 data-id="heading-1">SQL ç¼–å†™è§„èŒƒ</h2>
<ol>
<li>å…³é”®è¯å»ºè®®ä½¿ç”¨å¤§å†™ï¼Œæ¯”å¦‚ <code>CREATE</code>ã€<code>TABLE</code>ï¼ˆå°å†™ä¹Ÿå¯ä»¥ï¼Œä½†å¤§å†™æ›´è§„èŒƒï¼‰</li>
<li>è¯­å¥æœ«å°¾åŠ åˆ†å·</li>
<li>å¦‚æœè¡¨åæˆ–å­—æ®µåæ˜¯ SQL å…³é”®è¯ï¼Œç”¨åå¼•å· <code>`</code> åŒ…è£¹</li>
<li>è¡¨åç”¨å•æ•°ï¼Œå­—æ®µåç”¨è›‡å½¢å‘½åï¼ˆä¸‹åˆ’çº¿åˆ†éš”ï¼Œå¦‚ <code>user_id</code>ï¼‰</li>
</ol>
<h2 data-id="heading-2">SQL åˆ†ç±»</h2>






























<table><thead><tr><th>åˆ†ç±»</th><th>æè¿°</th><th>å¸¸è§å‘½ä»¤/å…³é”®å­—</th></tr></thead><tbody><tr><td><strong>DDL</strong></td><td><strong>å®šä¹‰</strong>æˆ–<strong>ä¿®æ”¹</strong>æ•°æ®åº“ç»“æ„ï¼ˆåº“ã€è¡¨ã€ç´¢å¼•ã€è§†å›¾ç­‰ï¼‰</td><td><code>CREATE</code>ã€<code>DROP</code>ã€<code>ALTER</code>ã€<code>TRUNCATE</code>ã€<code>RENAME</code></td></tr><tr><td><strong>DML</strong></td><td>å¯¹<strong>è¡¨ä¸­çš„è®°å½•</strong>è¿›è¡Œå¢ã€åˆ ã€æ”¹</td><td><code>INSERT</code>ã€<code>UPDATE</code>ã€<code>DELETE</code>ã€<code>MERGE</code></td></tr><tr><td><strong>DQL</strong></td><td>å¯¹<strong>è¡¨ä¸­çš„è®°å½•</strong>è¿›è¡ŒæŸ¥è¯¢</td><td><code>SELECT</code>ï¼ˆä»¥åŠé…å¥—å­å¥ <code>WHERE</code>ã€<code>GROUP BY</code>ã€<code>ORDER BY</code>ã€<code>JOIN</code> ç­‰ï¼‰</td></tr><tr><td><strong>DCL</strong></td><td><strong>æƒé™</strong>ä¸<strong>è®¿é—®æ§åˆ¶</strong>ï¼ˆæˆäºˆã€å›æ”¶ï¼‰</td><td><code>GRANT</code>ã€<code>REVOKE</code></td></tr></tbody></table>
<ul>
<li><strong>DDL</strong>ï¼ˆData Definition Languageï¼‰ï¼šæ•°æ®å®šä¹‰è¯­è¨€ï¼Œ-----&gt; ç®¡"ç»“æ„"</li>
<li><strong>DML</strong>ï¼ˆData Manipulation Languageï¼‰ï¼šæ•°æ®æ“ä½œè¯­è¨€ï¼Œ-----&gt; ç®¡"æ”¹æ•°æ®"</li>
<li><strong>DQL</strong>ï¼ˆData Query Languageï¼‰ï¼šæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œ-----&gt; ç®¡"æŸ¥æ•°æ®"</li>
<li><strong>DCL</strong>ï¼ˆData Control Languageï¼‰ï¼šæ•°æ®æ§åˆ¶è¯­è¨€ï¼Œ-----&gt; ç®¡"æƒé™"</li>
</ul>
<blockquote>
<p>ä¸ºäº†é˜…è¯»æ–¹ä¾¿ï¼Œä¸‹é¢çš„ SQL è¯­å¥éƒ½ç”¨å°å†™ï¼Œä½†å®é™…å¼€å‘ä¸­æ¨èå…³é”®è¯ç”¨å¤§å†™</p>
</blockquote>
<h2 data-id="heading-3">SQL ç±»å‹</h2>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f4c91ddacbb47499df5c9277ea8688f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29weWVyX3h5Zg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765406894&amp;x-signature=rgRrHYCWNXAOy6aTYaY6kE4Mgng%3D" alt="type.png" width="100%" loading="lazy"/>
<p>å®é™…å¼€å‘ä¸­å¸¸ç”¨çš„ç±»å‹ï¼š</p>
<ul>
<li><code>int</code>ï¼šå­˜å‚¨æ•´æ•°</li>
<li><code>varchar(100)</code>: å­˜å‚¨å˜é•¿å­—ç¬¦ä¸²ï¼Œå¯ä»¥æŒ‡å®šé•¿åº¦</li>
<li><code>char</code>ï¼šå®šé•¿å­—ç¬¦ä¸²ï¼Œä¸å¤Ÿçš„è‡ªåŠ¨åœ¨æœ«å°¾å¡«å……ç©ºæ ¼</li>
<li><code>double</code>ï¼šå­˜å‚¨æµ®ç‚¹æ•°</li>
<li><code>date</code>ï¼šå­˜å‚¨æ—¥æœŸ 2023-05-27</li>
<li><code>time</code>ï¼šå­˜å‚¨æ—¶é—´ 10:13</li>
<li><code>datetime</code>ï¼šå­˜å‚¨æ—¥æœŸå’Œæ—¶é—´ 2023-05-27 10:13</li>
<li><code>timestamp</code>ï¼šå­˜å‚¨æ—¥æœŸæ—¶é—´çš„ï¼Œä½†æ˜¯èŒƒå›´å°ä¸€ç‚¹ï¼Œè€Œä¸”ä¼šè½¬ä¸ºä¸­å¤®æ—¶åŒº UTC çš„æ—¶é—´æ¥å­˜å‚¨</li>
<li><code>text</code>ï¼šå­˜å‚¨é•¿æ–‡æœ¬</li>
</ul>
<p>SQL è®¾è®¡äº†è¿™ä¹ˆå¤šæ•°æ®ç±»å‹ï¼Œä¸€æ˜¯ä¸ºäº†å­˜å‚¨æ›´ä¸°å¯Œçš„ä¿¡æ¯ï¼ŒäºŒæ˜¯ä¸ºäº†èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚<strong>ä¸å¸¸ç”¨çš„ç±»å‹ï¼Œç”¨åˆ°æ—¶å†æŸ¥å°±è¡Œ</strong>ã€‚</p>
<h2 data-id="heading-4">è¡¨çº¦æŸ</h2>
<ul>
<li>
<p><code>primary key</code>: ä¸»é”®</p>
<ul>
<li>ä¸»é”®æ˜¯è¡¨ä¸­å”¯ä¸€çš„ç´¢å¼•</li>
<li>å¿…é¡»æ˜¯ not null; å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œmysql ä¹Ÿä¼šè‡ªåŠ¨è®¾ç½®ï¼›</li>
<li>è”åˆä¸»é”®ï¼Œå¤šä¸ªå­—æ®µåˆæˆçš„ä¸»é”®</li>
<li>å°½é‡ä¸è¦ä½¿ç”¨ä¸šåŠ¡ä¸»é”®</li>
</ul>
</li>
<li>
<p><code>unique</code>: å”¯ä¸€ï¼›é™¤äº†ä¸»é”®ä»¥å¤–ï¼Œé’ˆå¯¹æŸäº›å­—æ®µï¼Œä¹Ÿæ˜¯å”¯ä¸€çš„ã€‚</p>
</li>
<li>
<p><code>not null</code>: å­—æ®µä¸èƒ½ä¸ºç©º</p>
</li>
<li>
<p><code>default</code>: é»˜è®¤å€¼</p>
</li>
<li>
<p><code>auto_increment</code>: è‡ªåŠ¨å¢é•¿ï¼›</p>
</li>
<li>
<p><code>foreign key</code>: å¤–é”®ï¼Œä¸å…¶ä»–è¡¨çš„å­—æ®µå…³è”</p>
</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> yyy(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key,
 Â `name` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">unique</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,
  age <span class="hljs-type">int</span> <span class="hljs-keyword">default</span> <span class="hljs-number">18</span>,
  num <span class="hljs-type">int</span> auto_increment,
  homeId <span class="hljs-type">int</span>, <span class="hljs-comment">-- å¤–é”®</span>
 Â <span class="hljs-keyword">foreign</span> key (homeId) <span class="hljs-keyword">references</span> home(id) <span class="hljs-comment">-- å…³è” home è¡¨çš„ id</span>
)
</code></pre>
<h2 data-id="heading-5">DDLï¼ˆç®¡ç»“æ„ï¼‰</h2>
<p>åº“æ“ä½œ</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</span>
<span class="hljs-keyword">show</span> databases;
â€‹
<span class="hljs-comment">-- ä½¿ç”¨æ•°æ®åº“ co_blog</span>
use co_blog;
â€‹
<span class="hljs-comment">-- æŸ¥çœ‹é€‰æ‹©çš„æ•°æ®åº“</span>
<span class="hljs-keyword">select</span> database();
â€‹
<span class="hljs-comment">-- åˆ›å»ºæ•°æ®åº“</span>
<span class="hljs-keyword">create</span> database if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> co_blog; <span class="hljs-comment">-- å…ˆåˆ¤æ–­ co_blog åº“æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º</span>
<span class="hljs-keyword">create</span> database co_blog; <span class="hljs-comment">-- è‹¥å­˜åœ¨ï¼Œä¼šæŠ¥é”™ï¼›</span>
â€‹
<span class="hljs-comment">-- åˆ é™¤æ•°æ®åº“</span>
<span class="hljs-keyword">drop</span> database if <span class="hljs-keyword">exists</span> co_blog;
<span class="hljs-keyword">drop</span> database co_blog; <span class="hljs-comment">-- æ•°æ®åº“ä¸å­˜åœ¨ï¼Œä¼šæŠ¥é”™</span>
use co_blog; <span class="hljs-comment">-- ä½¿ç”¨ co_blog åº“ï¼Œåç»­è¡¨æ“ä½œéƒ½åœ¨è¿™ä¸ªåº“ä¸‹</span>
</code></pre>
<p>è¡¨æ“ä½œ</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹åº“ä¸­æ‰€æœ‰çš„è¡¨</span>
<span class="hljs-keyword">show</span> tables;
â€‹
<span class="hljs-comment">-- åˆ›å»ºä¸€å¼ è¡¨</span>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> <span class="hljs-keyword">user</span>(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key auto_increment,
  name <span class="hljs-type">varchar</span>(<span class="hljs-number">10</span>),
  age <span class="hljs-type">int</span>
);
â€‹
<span class="hljs-comment">-- æŸ¥çœ‹è¡¨ç»“æ„</span>
<span class="hljs-keyword">desc</span> <span class="hljs-keyword">user</span>; <span class="hljs-comment">-- æ˜¾ç¤ºè¡¨çš„å­—æ®µå®šä¹‰ä¿¡æ¯</span>
â€‹
<span class="hljs-comment">-- åˆ é™¤ user è¡¨</span>
<span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> <span class="hljs-keyword">user</span>;
â€‹
<span class="hljs-comment">-- ä¿®æ”¹ user è¡¨</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">user</span> rename <span class="hljs-keyword">to</span> users; Â  Â  Â  Â  Â  Â  <span class="hljs-comment">-- ä¿®æ”¹è¡¨å user å˜æˆ users</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">add</span> height <span class="hljs-type">int</span>; Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">-- æ·»åŠ  height å­—æ®µï¼Œä¸º int ç±»å‹ï¼›</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">user</span> change height newHeight <span class="hljs-type">int</span>; <span class="hljs-comment">-- height æ”¹ä¸º newHeight, ç±»å‹ä¹Ÿå¯ä»¥é‡æ–°å®šä¹‰</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">user</span> modify height <span class="hljs-type">bigint</span>; Â  Â  Â  Â <span class="hljs-comment">-- ç±»å‹ int å˜ä¸º bigint</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">drop</span> height; Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">-- åˆ é™¤ height å­—æ®µ</span>
</code></pre>
<h2 data-id="heading-6">DMLï¼ˆç®¡æ”¹æ•°æ®ï¼‰</h2>
<p><strong>å¢åˆ æ”¹</strong></p>
<p>æ’å…¥æ•°æ®</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ’å…¥å•æ¡æ•°æ®</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">user</span>(username, emails) <span class="hljs-keyword">values</span>(<span class="hljs-string">'admin'</span>, <span class="hljs-string">'xxxx@xxxx.com'</span>);
â€‹
<span class="hljs-comment">-- æ’å…¥å¤šæ¡æ•°æ®</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">user</span>(username, emails)
 Â <span class="hljs-keyword">values</span>
 Â  Â (<span class="hljs-string">'admin'</span>, <span class="hljs-string">'xxxx@xxxx.com'</span>),
 Â  Â (<span class="hljs-string">'admin2'</span>, <span class="hljs-string">'xxxx@xxxx.com'</span>),
 Â  Â (<span class="hljs-string">'admin3'</span>, <span class="hljs-string">'xxxx@xxxx.com'</span>);
</code></pre>
<p>æ›´æ–°æ•°æ®</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">update</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">set</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'å¼ ä¸‰1'</span>, age <span class="hljs-operator">=</span> <span class="hljs-number">19</span> <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre>
<p>åˆ é™¤æ•°æ®</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre>
<h2 data-id="heading-7">DQLï¼ˆç®¡æŸ¥è¯¢ï¼‰</h2>
<p>æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºï¼šå…ˆç­›é€‰æ•°æ®ï¼Œå†åˆ†ç»„è¿‡æ»¤ï¼Œç„¶åæ’åºï¼Œæœ€ååˆ†é¡µã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
 Â <span class="hljs-keyword">FROM</span> table_name
 Â <span class="hljs-keyword">WHERE</span> Â   xxx
 Â <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> xxx
 Â <span class="hljs-keyword">HAVING</span> Â  xxx
 Â <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> xxx
 Â LIMIT Â   xxx;
</code></pre>
<h4 data-id="heading-8">å–åˆ«å as</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢æ‰€æœ‰å­—æ®µ</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>;
â€‹
<span class="hljs-comment">-- æŸ¥è¯¢æŒ‡å®šå­—æ®µå¹¶å–åˆ«å</span>
<span class="hljs-keyword">select</span> name, age <span class="hljs-keyword">as</span> c_age <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>;
â€‹
<span class="hljs-comment">-- åˆ«åçš„ä½œç”¨ï¼šå¤šè¡¨æŸ¥è¯¢æ—¶é¿å…å­—æ®µåå†²çª</span>
</code></pre>
<h4 data-id="heading-9">æ¯”è¾ƒè¿ç®—ç¬¦</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ¯”è¾ƒè¿ç®—ç¬¦ï¼š&gt;ã€&lt;ã€=ã€!=ã€&gt;=ã€&lt;=</span>

<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span>;  <span class="hljs-comment">-- å¹´é¾„å¤§äº 20</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> age <span class="hljs-operator">!=</span> <span class="hljs-number">20</span>; <span class="hljs-comment">-- å¹´é¾„ä¸ç­‰äº 20</span>
</code></pre>
<h4 data-id="heading-10">é€»è¾‘è¿ç®—ç¬¦</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- name ä¸º å¼ ä¸‰ï¼Œä¸” age å¤§äº 10</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'å¼ ä¸‰'</span> <span class="hljs-keyword">and</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span>;
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'å¼ ä¸‰'</span> <span class="hljs-operator">&amp;&amp;</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span>;

<span class="hljs-comment">-- name ä¸º å¼ ä¸‰ï¼Œæˆ–è€… age å¤§äº 10</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'å¼ ä¸‰'</span> <span class="hljs-keyword">or</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span>;
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'å¼ ä¸‰'</span> <span class="hljs-operator">||</span> age <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span>;

<span class="hljs-comment">-- age åœ¨ 10 åˆ° 20 å²é—´çš„</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> age <span class="hljs-keyword">between</span> <span class="hljs-number">10</span> <span class="hljs-keyword">and</span> <span class="hljs-number">20</span>;
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> age <span class="hljs-operator">&gt;=</span><span class="hljs-number">10</span> <span class="hljs-operator">&amp;&amp;</span> age <span class="hljs-operator">&lt;=</span> <span class="hljs-number">20</span>;

<span class="hljs-comment">-- age ä¸º 10 æˆ– 20 çš„ï¼ˆin çš„ç›¸åæ˜¯ not inï¼‰</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> age <span class="hljs-keyword">in</span> (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>);
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> age <span class="hljs-operator">=</span> <span class="hljs-number">10</span> <span class="hljs-keyword">or</span> age <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;
</code></pre>
<h4 data-id="heading-11">æ¨¡ç³Šæœç´¢ like</h4>
<ul>
<li><code>%</code>: ä»»æ„å¤šä¸ªå­—ç¬¦</li>
<li><code>_</code>: ä»»æ„ä¸€ä¸ªå­—ç¬¦</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">'t%'</span>;   <span class="hljs-comment">-- ä»¥ t å¼€å¤´</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">'%t%'</span>;   <span class="hljs-comment">-- åŒ…å« t</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">'_t%'</span>;   <span class="hljs-comment">-- ç¬¬äºŒä¸ªå­—ç¬¦æ˜¯ t</span>
</code></pre>
<h4 data-id="heading-12">æ’åº order by</h4>
<ul>
<li><code>asc</code>ï¼šå‡åºï¼ˆé»˜è®¤ï¼Œå¯çœç•¥ï¼‰</li>
<li><code>desc</code>ï¼šé™åº</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> age <span class="hljs-keyword">asc</span>;  <span class="hljs-comment">-- å¹´é¾„å‡åº</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> age <span class="hljs-keyword">desc</span>; <span class="hljs-comment">-- å¹´é¾„é™åº</span>
</code></pre>
<h4 data-id="heading-13">é™åˆ¶åˆ†é¡µ limit</h4>
<ul>
<li>limit æ•°æ®æ¡æ•° offset åç§»é‡ (æ¨è)</li>
<li>limit åç§»é‡ï¼Œæ•°æ®æ¡æ•° ï¼ˆä¸æ¨èï¼‰</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- limit æ•°æ®æ¡æ•° offset åç§»é‡ (æ¨è)</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users limit <span class="hljs-number">30</span> <span class="hljs-keyword">offset</span> <span class="hljs-number">10</span>;

<span class="hljs-comment">-- limit åç§»é‡ï¼Œæ•°æ®æ¡æ•° (ä¸æ¨è)</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users limit <span class="hljs-number">10</span>, <span class="hljs-number">30</span>;

<span class="hljs-comment">-- å‰ç«¯æ ¼å¼</span>
const pages <span class="hljs-operator">=</span> {
  <span class="hljs-keyword">current</span>: <span class="hljs-number">3</span>,
  pageSize: <span class="hljs-number">10</span>,
};

<span class="hljs-comment">-- åç«¯æŸ¥è¯¢</span>
const offsetNum <span class="hljs-operator">=</span> (pages.current <span class="hljs-operator">-</span> <span class="hljs-number">1</span>) <span class="hljs-operator">*</span> pages.pageSize;
const limitNum <span class="hljs-operator">=</span> pages.pageSize;

<span class="hljs-comment">-- sql</span>
const <span class="hljs-keyword">sql</span> <span class="hljs-operator">=</span> `<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users limit ${limitNum} <span class="hljs-keyword">offset</span> ${offsetNum}`;
</code></pre>
<h4 data-id="heading-14">èšåˆå‡½æ•°</h4>
<p><code>èšåˆå‡½æ•°</code>ï¼š å…ˆæ”¶é›†åˆ°ä¸€èµ·ï¼Œç„¶åå¯¹æ”¶é›†çš„ç»“æœè¿›è¡Œæ“ä½œã€‚ï¼ˆçœ‹æˆä¸€ç»„ï¼‰</p>
<ul>
<li><code>avg</code>ï¼šå¹³å‡å€¼</li>
<li><code>max</code>ï¼šæœ€å¤§å€¼</li>
<li><code>min</code>ï¼šæœ€å°å€¼</li>
<li><code>sum</code>ï¼šæ±‚å’Œ</li>
<li><code>count</code>ï¼šè®¡æ•°ï¼ˆç»Ÿè®¡è¡Œæ•°ï¼‰</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¹³å‡å€¼</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(age) <span class="hljs-keyword">as</span> avg_age <span class="hljs-keyword">from</span> users;

<span class="hljs-comment">-- è®¡ç®—äººæ•°</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> count <span class="hljs-keyword">from</span> users;

<span class="hljs-comment">-- æœ€å¤§å€¼</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(age) <span class="hljs-keyword">as</span> maxAge <span class="hljs-keyword">from</span> users;

<span class="hljs-comment">-- æ±‚å’Œ</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">sum</span>(age) <span class="hljs-keyword">as</span> sumAge <span class="hljs-keyword">from</span> users;
</code></pre>
<p>SQL è¿˜æœ‰å¾ˆå¤šå†…ç½®å‡½æ•°ï¼š</p>
<ul>
<li>èšåˆå‡½æ•°ï¼šavgã€countã€sumã€minã€max</li>
<li>å­—ç¬¦ä¸²å‡½æ•°ï¼šconcatã€substrã€lengthã€upperã€lower</li>
<li>æ•°å€¼å‡½æ•°ï¼šroundã€ceilã€floorã€absã€mod</li>
<li>æ—¥æœŸå‡½æ•°ï¼šyearã€monthã€dayã€dateã€time</li>
<li>æ¡ä»¶å‡½æ•°ï¼šifã€case</li>
<li>ç³»ç»Ÿå‡½æ•°ï¼šversionã€databaseã€user</li>
<li>ç±»å‹è½¬æ¢å‡½æ•°ï¼šconvertã€castã€date_formatã€str_to_date</li>
<li>å…¶ä»–å‡½æ•°ï¼šnullifã€coalesceã€greatestã€least</li>
</ul>
<p>å®é™…å¼€å‘ä¸­ï¼Œèšåˆå‡½æ•°æœ€å¸¸ç”¨çš„æ˜¯<strong>ç»Ÿè®¡</strong>å’Œ<strong>åˆ†ç»„</strong>ï¼Œå…¶ä»–å‡½æ•°ç”¨åˆ°æ—¶å†æŸ¥å°±è¡Œã€‚</p>
<h4 data-id="heading-15">åˆ†ç»„ group by</h4>
<p><code>èšåˆå‡½æ•°</code>çœ‹æˆä¸€ç»„ï¼›æœ‰æ—¶éœ€è¦è¿›è¡Œåˆ†ç»„ï¼Œç„¶åè¿›è¡Œæ“ä½œã€‚</p>
<p><code>ä½¿ç”¨å»ºè®®</code>ï¼šgroup by ä¸€å®šè¦é…åˆèšåˆå‡½æ•°ä½¿ç”¨ï¼Œä¸ç„¶åˆ†ç»„æ²¡æœ‰æ„ä¹‰ï¼ˆé™¤éæ•´å¼ è¡¨éƒ½çœ‹æˆä¸€ä¸ªèšåˆå‡½æ•°ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨ group byï¼‰ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç»Ÿè®¡ç”·å¥³ä¸ªæ•°</span>
<span class="hljs-keyword">select</span> sex, <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> num <span class="hljs-keyword">from</span> users <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> sex;
</code></pre>
<h4 data-id="heading-16">åˆ†ç»„ç­›é€‰æ¡ä»¶ having</h4>
<p>åœ¨è¿›è¡Œåˆ†ç»„çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¹Ÿéœ€è¦è¿‡æ»¤æ¡ä»¶ã€‚</p>
<p>ä½†æ˜¯ <code>group by</code> ä¸ <code>where</code> ä¸èƒ½ä¸€èµ·ä½¿ç”¨ï¼Œè¯­æ³•æŠ¥é”™ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ <code>having</code>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ ¹æ® sex æ€§åˆ«è¿›è¡Œåˆ†ç»„ï¼Œç„¶åç­›é€‰å‡º count å¤§äº 2</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> count, sex <span class="hljs-keyword">from</span> users <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> sex <span class="hljs-keyword">having</span> count <span class="hljs-operator">&gt;</span> <span class="hljs-number">2</span>;
</code></pre>
<h4 data-id="heading-17">å»é‡ distinct</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> age <span class="hljs-keyword">from</span> users;
</code></pre>
<h4 data-id="heading-18">å¤šè¡¨</h4>
<h5 data-id="heading-19">å¤–é”®æ·»åŠ </h5>
<p>åˆ›å»ºè¡¨æ—¶æ·»åŠ å¤–é”®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> users(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key,
  name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,
  role_id <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,
  <span class="hljs-keyword">foreign</span> key (role_id) <span class="hljs-keyword">references</span> role(id)
);
</code></pre>
<p>å·²æœ‰è¡¨æ·»åŠ å¤–é”®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> users <span class="hljs-keyword">add</span> role_id <span class="hljs-type">int</span>;
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> users <span class="hljs-keyword">add</span> <span class="hljs-keyword">foreign</span> key (role_id) <span class="hljs-keyword">references</span> role(id);
</code></pre>
<h5 data-id="heading-20">å¤–é”®åˆ é™¤ï¼ˆæ›´æ–°ï¼‰</h5>
<p>è¡¨ä¹‹é—´æœ‰å…³è”åï¼Œä¸èƒ½ç›´æ¥åˆ é™¤æˆ–æ›´æ–°ï¼Œå¦åˆ™ä¼šå½±å“å…³è”è¡¨ã€‚éœ€è¦è®¾ç½®çº§è”æ“ä½œï¼šè¦ä¹ˆä¸€èµ·æ›´æ–°ï¼Œè¦ä¹ˆä¸€èµ·åˆ é™¤ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¸€èµ·æ›´æ–°ä¸€èµ·åˆ é™¤</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">add</span> <span class="hljs-keyword">foreign</span> key (role_id) <span class="hljs-keyword">references</span> role(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE;
</code></pre>
<p><strong>åˆ é™¤å¤–é”®</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">show</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> users; <span class="hljs-comment">-- æŸ¥çœ‹å¤–é”®åç§°</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> users <span class="hljs-keyword">drop</span> <span class="hljs-keyword">foreign</span> key users_ibfk_1;
</code></pre>
<p>å¦‚æœå­˜åœ¨å¤šä¸ªå¤–é”®ï¼š</p>
<ul>
<li>users_ibfk_1</li>
<li>users_ibfk_2</li>
<li>...</li>
</ul>
<p><strong>é‡æ–°ç»‘å®šå¤–é”®</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> users <span class="hljs-keyword">add</span> <span class="hljs-keyword">foreign</span> key (role_id) <span class="hljs-keyword">references</span> role(id)
                                           <span class="hljs-keyword">on</span> <span class="hljs-keyword">delete</span> cascade
                                           <span class="hljs-keyword">on</span> <span class="hljs-keyword">update</span> cascade;
</code></pre>
<h5 data-id="heading-21">å¤šè¡¨æŸ¥è¯¢</h5>
<p>å¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œè¡¨ä¹‹é—´å¿…é¡»æœ‰è”ç³»ï¼ˆé€šå¸¸æ˜¯å¤–é”®ï¼‰ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> users, team;
</code></pre>
<p>è¿™æ ·æŸ¥è¯¢ä¼šäº§ç”Ÿå¤§é‡æ— ç”¨æ•°æ®ï¼Œå› ä¸ºè¿™æ˜¯<strong>ç¬›å¡å°”ç§¯</strong>ï¼ˆæ¯è¡Œæ•°æ®éƒ½ä¼šç»„åˆï¼‰ã€‚</p>
<h5 data-id="heading-22">è¡¨è¿æ¥</h5>
<ul>
<li>å·¦è¿æ¥ï¼ˆ<code>left join</code>ï¼‰: å¸¸ç”¨</li>
<li>å³è¿æ¥ï¼ˆ<code>right join</code>ï¼‰: ä¸å¸¸ç”¨</li>
<li>å†…è¿æ¥ï¼ˆ<code>[cross/inner] join</code>ï¼‰: å¸¸ç”¨</li>
<li>å…¨è¿æ¥ï¼ˆmysql ä¸æ”¯æŒå…¨è¿æ¥ï¼Œéœ€è¦ unionï¼‰ï¼š ä¸å¸¸ç”¨</li>
</ul>
<p><strong>å·¦å³</strong>æŒ‡çš„æ˜¯ä»¥å“ªå¼ è¡¨ä¸ºä¸»ï¼Œå±•ç¤ºè¯¥è¡¨çš„æ‰€æœ‰æ•°æ®ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">from</span> å·¦è¡¨ [<span class="hljs-keyword">left</span><span class="hljs-operator">/</span><span class="hljs-keyword">right</span>] <span class="hljs-keyword">join</span> å³è¡¨
</code></pre>
<blockquote>
<p>å…¶å® <code>left join</code> å’Œ <code>right join</code> å¯ä»¥ç­‰ä»·ï¼Œæ¢ä¸€ä¸‹è¡¨çš„é¡ºåºå°±è¡Œ</p>
</blockquote>
<p><strong>å·¦è¿æ¥</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å·¦è¿æ¥ LEFT JOIN. ON è¿æ¥æ¡ä»¶</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> role
                    <span class="hljs-keyword">on</span> user.role_id <span class="hljs-operator">=</span> role.id;

<span class="hljs-comment">-- ç­›é€‰å‡º role_id ä¸ä¸º null çš„ï¼ˆå·¦è¿æ¥ä»¥å·¦è¡¨ä¸ºä¸»ï¼Œå¦‚æœå³è¡¨æ²¡æœ‰åŒ¹é…æ•°æ®ï¼Œå³è¡¨å­—æ®µä¸º nullï¼‰</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> role
                           <span class="hljs-keyword">ON</span> user.role_id <span class="hljs-operator">=</span> role.id
                           <span class="hljs-keyword">WHERE</span> role_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;
</code></pre>
<p><strong>å†…è¿æ¥</strong></p>
<p>å†…è¿æ¥åªè¿”å›ä¸¤è¡¨éƒ½åŒ¹é…çš„æ•°æ®ï¼Œä¸ä»¥å“ªå¼ è¡¨ä¸ºä¸»ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">join</span> role <span class="hljs-keyword">on</span> user.role_id <span class="hljs-operator">=</span> role.id;
</code></pre>
<blockquote>
<p>é’ˆå¯¹å¤šå¯¹å¤šçš„æŸ¥è¯¢å‡ºç°æ—¶ï¼Œå°±æ˜¯å¤šæ¬¡é‡‡ç”¨è¿æ¥å³å¯ã€‚</p>
</blockquote>
<h4 data-id="heading-23">å­æŸ¥è¯¢</h4>
<p>SQL æ”¯æŒåµŒå¥—æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯åœ¨æŸ¥è¯¢ä¸­åµŒå¥—å¦ä¸€ä¸ªæŸ¥è¯¢ï¼ˆå­æŸ¥è¯¢ï¼‰ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢å¹´é¾„æœ€å¤§çš„äºº</span>
<span class="hljs-comment">-- æ–¹å¼ä¸€ï¼šåˆ†ä¸¤æ­¥</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(age) <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>;  <span class="hljs-comment">-- å…ˆæŸ¥å‡ºæœ€å¤§å¹´é¾„</span>
<span class="hljs-keyword">select</span> name, age <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> age <span class="hljs-operator">=</span> xxx; <span class="hljs-comment">-- å†æ ¹æ®å¹´é¾„æŸ¥æ•°æ®</span>

<span class="hljs-comment">-- æ–¹å¼äºŒï¼šç”¨å­æŸ¥è¯¢ï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">select</span> name, age <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> age <span class="hljs-operator">=</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(age) <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>);
</code></pre>
<p>å­æŸ¥è¯¢è¿˜æœ‰ä¸ªç‰¹æœ‰çš„è¯­æ³• <code>EXISTS</code>ã€<code>NOT EXISTS</code>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢æ‰€æœ‰æœ‰è§’è‰²çš„ç”¨æˆ·</span>
<span class="hljs-keyword">select</span> name <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">EXISTS</span> (<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> role <span class="hljs-keyword">where</span> role.id <span class="hljs-operator">=</span> user.role_id);

<span class="hljs-comment">-- æŸ¥è¯¢æ‰€æœ‰æ²¡æœ‰è§’è‰²çš„ç”¨æˆ·</span>
<span class="hljs-keyword">select</span> name <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> role <span class="hljs-keyword">where</span> role.id <span class="hljs-operator">=</span> user.role_id);
</code></pre>
<p>å­æŸ¥è¯¢å¯ä»¥åœ¨ <code>select</code>ã€<code>insert</code>ã€<code>update</code>ã€<code>delete</code> ä¸­ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-24">äº‹åŠ¡</h4>
<p>ä¿®æ”¹å¤šä¸ªå…³è”è¡¨æ—¶ï¼Œå¿…é¡»ä½¿ç”¨äº‹åŠ¡ï¼Œä¿è¯è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼ˆå›æ»šï¼‰ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">start</span> transaction;    <span class="hljs-comment">-- å¼€å¯äº‹åŠ¡</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> role(id, name) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">4</span>, <span class="hljs-string">'ç¾¤ä¼—'</span>);
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">user</span>(name, age, sex) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'james'</span>, <span class="hljs-number">18</span>, <span class="hljs-number">4</span>);

<span class="hljs-comment">-- æäº¤äº‹åŠ¡ï¼Œæ‰§è¡Œä¹‹åå°±ä¸èƒ½ rollback äº†</span>
<span class="hljs-keyword">commit</span>;
<span class="hljs-comment">-- å›æ»šäº‹åŠ¡</span>
<span class="hljs-keyword">rollback</span>;
</code></pre>
<p>å¦‚æœæƒ³å›æ»šåˆ°æŸä¸ªä¸­é—´ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>savepoint</code> è®¾ç½®ä¿å­˜ç‚¹ã€‚</p>
<p><code>savepoint a1;</code>ï¼šå›æ»šåˆ° a1 æ—¶ï¼Œa1 ä¹‹å‰çš„æ“ä½œä¿ç•™ï¼Œa1 ä¹‹åçš„æ“ä½œè¢«æ’¤é”€ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">start</span> transaction;  <span class="hljs-comment">-- å¼€å¯äº‹åŠ¡</span>
<span class="hljs-keyword">savepoint</span> a1;  <span class="hljs-comment">-- savepoint è¿™ä¸€åˆ»å‰é¢çš„ä¾æ—§æ´»ç€ï¼Œè¿™ä¸€åˆ»åé¢çš„éƒ½è¢«æŠ¹é™¤</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> role(id, name) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">4</span>, <span class="hljs-string">'ç¾¤ä¼—'</span>);
<span class="hljs-keyword">savepoint</span> a2;
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">user</span>(name, age, sex) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'james'</span>, <span class="hljs-number">18</span>, <span class="hljs-number">4</span>);
<span class="hljs-keyword">savepoint</span> a3;

<span class="hljs-keyword">rollback</span> <span class="hljs-keyword">to</span> a2; <span class="hljs-comment">-- å›æ»šåˆ° a2 çš„é‚£ä¸€åˆ»</span>
</code></pre>
<p>äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ˆæœ‰å››ç§çº§åˆ«ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œè‡ªå·±ä¹Ÿæœ‰ç‚¹æ‡µï¼Œä¸€èˆ¬ç”¨é»˜è®¤çš„å°±è¡Œï¼‰</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> @<span class="hljs-variable">@transaction</span>_isolation; <span class="hljs-comment">-- æŸ¥çœ‹éš”ç¦»çº§åˆ«</span>
</code></pre>
<h2 data-id="heading-25">DCLï¼ˆç®¡æƒé™ï¼‰</h2>
<p>æƒé™ç®¡ç†åœ¨å®é™…å¼€å‘ä¸­è¾ƒå°‘ç”¨åˆ°ï¼Œç­‰é‡åˆ°æ—¶å†è¡¥å……ï¼ˆå…¶å®è‡ªå·±ä¹Ÿä¸çŸ¥é“ï¼‰ã€‚</p>
<h2 data-id="heading-26">æ¡ˆä¾‹æ¼”ç¤ºï¼ˆBlog çš„ CRUDï¼‰</h2>
<p>ç”¨ä¸€ä¸ªåšå®¢ç³»ç»Ÿçš„å¢åˆ æ”¹æŸ¥æ¥æ¼”ç¤º SQL çš„å®é™…åº”ç”¨ã€‚</p>
<p>å…ˆè®¾è®¡è¡¨ç»“æ„</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `<span class="hljs-keyword">user</span>`(
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®'</span>,
  username <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·å'</span>,
  password <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å¯†ç '</span>,
  email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'é‚®ç®±'</span>,
  created_at DATETIME <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>
);

<span class="hljs-comment">-- æ ‡ç­¾è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `tag`(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®'</span>,
  name <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ ‡ç­¾å'</span>,
  article_count <span class="hljs-type">int</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span> COMMENT <span class="hljs-string">'æ–‡ç« æ•°é‡'</span>,
  created_at datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>
);

<span class="hljs-comment">-- æ–‡ç« è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `article`(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®'</span>,
  title <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ ‡é¢˜'</span>,
  content text <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å†…å®¹'</span>,
  user_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ä½œè€…id'</span>,
  like_count <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'0'</span> COMMENT <span class="hljs-string">'ç‚¹èµæ•°'</span>,
  comment_count <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'0'</span> COMMENT <span class="hljs-string">'è¯„è®ºæ•°'</span>,
  created_at datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  <span class="hljs-keyword">FOREIGN</span> KEY (user_id) <span class="hljs-keyword">REFERENCES</span> <span class="hljs-keyword">user</span>(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE
);

<span class="hljs-comment">-- æ–‡ç« æ ‡ç­¾è¡¨(ä¸­é—´è¡¨çš„çº§è”æ–¹å¼è¦è®¾ç½®ä¸º CASCADEï¼Œè¿™ä¸ªæ˜¯å›ºå®šçš„)</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `article_tag`(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®'</span>,
  article_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ–‡ç« id'</span>,
  tag_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ ‡ç­¾id'</span>,
  <span class="hljs-keyword">FOREIGN</span> KEY (article_id) <span class="hljs-keyword">REFERENCES</span> article(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE,
  <span class="hljs-keyword">FOREIGN</span> KEY (tag_id) <span class="hljs-keyword">REFERENCES</span> tag(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE
);

<span class="hljs-comment">-- ç‚¹èµè¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `<span class="hljs-keyword">like</span>`(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®'</span>,
  article_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ–‡ç« id'</span>,
  user_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·id'</span>,
  created_at datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  <span class="hljs-keyword">FOREIGN</span> KEY (article_id) <span class="hljs-keyword">REFERENCES</span> article(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE,
  <span class="hljs-keyword">FOREIGN</span> KEY (user_id) <span class="hljs-keyword">REFERENCES</span> <span class="hljs-keyword">user</span>(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE
)

<span class="hljs-comment">-- è¯„è®ºè¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `comment`(
  id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®'</span>,
  article_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ–‡ç« id'</span>,
  user_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·id'</span>,
  target_user_id <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è¢«å›å¤äººid'</span>,
  content <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å†…å®¹'</span>,
  parent_id <span class="hljs-type">int</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span> COMMENT <span class="hljs-string">'çˆ¶çº§id'</span>,
  created_at datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  <span class="hljs-keyword">FOREIGN</span> KEY (article_id) <span class="hljs-keyword">REFERENCES</span> article(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE,
  <span class="hljs-keyword">FOREIGN</span> KEY (user_id) <span class="hljs-keyword">REFERENCES</span> <span class="hljs-keyword">user</span>(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE
)
</code></pre>
<p>ER å›¾ä¸ºï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c22ac5491dff4690ad44e7cdbd9d017c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29weWVyX3h5Zg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765406894&amp;x-signature=AKkAciycWmHEZ3rRSHfAgc9%2BJGU%3D" alt="blog-er.png" width="100%" loading="lazy"/>
<h4 data-id="heading-27">ç”¨æˆ·å’Œæ ‡ç­¾çš„ CRUD</h4>
<p>ä»¥ç”¨æˆ·è¡¨ï¼ˆuserï¼‰ä¸ºä¾‹ï¼Œæ ‡ç­¾è¡¨ï¼ˆtagï¼‰åŒç†</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">user</span>(username, password, email) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'admin'</span>, <span class="hljs-string">'123456'</span>, <span class="hljs-string">'admin@163.com'</span>);

<span class="hljs-comment">-- æŸ¥è¯¢ç”¨æˆ·</span>
<span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>;

<span class="hljs-comment">-- æ›´æ–°ç”¨æˆ·</span>
<span class="hljs-keyword">update</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> password <span class="hljs-operator">=</span> <span class="hljs-string">'123456'</span> <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;

<span class="hljs-comment">-- åˆ é™¤ç”¨æˆ·</span>
<span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre>
<h4 data-id="heading-28">æ–‡ç« çš„ CRUD</h4>
<p><strong>åˆ›å»ºæ–‡ç« </strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">start</span> transaction;

<span class="hljs-comment">-- åˆ›å»ºæ–‡ç« ï¼Œè·å–æ–‡ç«  idï¼ˆä»£ç ä¸­è·å– id åæ‰§è¡Œä¸‹ä¸€æ­¥ï¼‰</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> article(title, content, user_id, like_count, comment_count) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'æ ‡é¢˜'</span>, <span class="hljs-string">'å†…å®¹'</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

<span class="hljs-comment">-- éå† tagIdsï¼Œä¸æ–‡ç«  id ä¸€èµ·æ’å…¥ä¸­é—´è¡¨ï¼ˆä»£ç ä¸­éå† tagIdsï¼Œç»„è£… SQLï¼‰</span>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> article_tag(article_id, tag_id)
  <span class="hljs-keyword">VALUES</span>
    (<span class="hljs-string">'æ–‡ç« id'</span>, <span class="hljs-string">'æ ‡ç­¾id1'</span>),
    (<span class="hljs-string">'æ–‡ç« id'</span>, <span class="hljs-string">'æ ‡ç­¾id2'</span>);

<span class="hljs-comment">-- æ›´æ–° tag è¡¨çš„æ–‡ç« æ•°é‡</span>
<span class="hljs-keyword">update</span> tag <span class="hljs-keyword">set</span> article_count <span class="hljs-operator">=</span> article_count <span class="hljs-operator">+</span> <span class="hljs-number">1</span> <span class="hljs-keyword">where</span> id <span class="hljs-keyword">in</span> (<span class="hljs-string">'æ ‡ç­¾id1'</span>, <span class="hljs-string">'æ ‡ç­¾id2'</span>);

<span class="hljs-keyword">commit</span>;
</code></pre>
<p><strong>åˆ é™¤æ–‡ç« </strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> article <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>;
<span class="hljs-comment">-- å› ä¸ºé‡‡ç”¨çš„æ˜¯ cascadeï¼Œæ‰€ä»¥ article_tag ç­‰ä¼šè‡ªåŠ¨åˆ é™¤</span>
</code></pre>
<p><strong>æŸ¥è¯¢æ–‡ç« åˆ—è¡¨</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> id,
       title,
       user_id,
       like_count,
       comment_count,
       created_at
<span class="hljs-keyword">FROM</span>   article
<span class="hljs-keyword">ORDER</span>  <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span>
LIMIT  <span class="hljs-number">10</span> <span class="hljs-keyword">OFFSET</span> <span class="hljs-number">0</span>;

<span class="hljs-comment">-- åˆ†é¡µæŸ¥è¯¢ï¼ŒæŒ‰åˆ›å»ºæ—¶é—´å€’åº</span>
<span class="hljs-comment">-- like_count å’Œ comment_count é‡‡ç”¨è®¡æ•°å™¨å†—ä½™æ–¹æ¡ˆï¼Œç®€å•æ€§èƒ½å¥½ï¼Œä½†å¯èƒ½æ•°æ®ä¸ä¸€è‡´</span>
</code></pre>
<p><strong>æ›´æ–°æ–‡ç« </strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. å¼€å¯äº‹åŠ¡</span>
<span class="hljs-keyword">START</span> TRANSACTION;

<span class="hljs-comment">-- 2. æ›´æ–°æ–‡ç« è¡¨</span>
<span class="hljs-keyword">UPDATE</span> article
  <span class="hljs-keyword">SET</span>
    title <span class="hljs-operator">=</span> <span class="hljs-string">'æ–°æ ‡é¢˜'</span>,
    content <span class="hljs-operator">=</span> <span class="hljs-string">'æ–°å†…å®¹'</span>
<span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">123</span> <span class="hljs-keyword">AND</span> article.user_id <span class="hljs-operator">=</span> <span class="hljs-string">'ç”¨æˆ·id'</span>;

<span class="hljs-comment">-- 3. æ ¹æ®æ–‡ç«  idï¼Œåœ¨ä¸­é—´è¡¨ article_tag ä¸­æ‹¿åˆ°æ—§æ ‡ç­¾ï¼ˆa,bï¼‰, ç„¶åæ ¹æ®ç”¨æˆ·ä¼ é€’çš„æ–°æ ‡ç­¾ï¼ˆa,cï¼‰, æ‰¾å‡ºåˆ é™¤çš„æ ‡ç­¾ï¼ˆbï¼‰ï¼Œç„¶åå† tag è¡¨ä¸­æ›´æ–°æ–‡ç« æ•°é‡ï¼ˆ-1ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> tag
<span class="hljs-keyword">SET</span>    article_count <span class="hljs-operator">=</span> article_count <span class="hljs-operator">-</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">WHERE</span>  id <span class="hljs-keyword">IN</span> (
        <span class="hljs-keyword">SELECT</span> tag_id
        <span class="hljs-keyword">FROM</span>   article_tag
        <span class="hljs-keyword">WHERE</span>  article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>
          <span class="hljs-keyword">AND</span>  tag_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-string">'æ–°æ ‡ç­¾id1'</span>, <span class="hljs-string">'æ–°æ ‡ç­¾id2'</span>)   <span class="hljs-comment">-- æ–°æ ‡ç­¾åˆ—è¡¨</span>
      );

<span class="hljs-comment">-- 4. æŸ¥æ‰¾æ—§æ ‡ç­¾ï¼Œç„¶åä½¿ç”¨ in å’Œ not in äº¤é›†ï¼Œæ‰¾å‡ºæ–°å¢çš„æ ‡ç­¾ï¼Œç„¶ååœ¨ tag è¡¨ä¸­æ›´æ–°æ–‡ç« æ•°é‡ï¼ˆ+1ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> tag
<span class="hljs-keyword">SET</span>    article_count <span class="hljs-operator">=</span> article_count <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">WHERE</span>  id <span class="hljs-keyword">IN</span> (<span class="hljs-string">'æ–°æ ‡ç­¾id1'</span>, <span class="hljs-string">'æ–°æ ‡ç­¾id2'</span>)
  <span class="hljs-keyword">AND</span>  id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> tag_id <span class="hljs-keyword">FROM</span> article_tag <span class="hljs-keyword">WHERE</span> article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>);

<span class="hljs-comment">-- 5. æ›´æ–°ä¸­é—´è¡¨ï¼šå…ˆåˆ é™¤æ–‡ç« çš„æ‰€æœ‰æ ‡ç­¾ï¼Œå†æ’å…¥æ–°æ ‡ç­¾</span>
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> article_tag <span class="hljs-keyword">WHERE</span> article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>;
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> article_tag(article_id, tag_id) <span class="hljs-keyword">VALUES</span>
(<span class="hljs-string">'æ–‡ç« id'</span>, <span class="hljs-string">'æ–°æ ‡ç­¾id1'</span>),
(<span class="hljs-string">'æ–‡ç« id'</span>, <span class="hljs-string">'æ–°æ ‡ç­¾id2'</span>);

<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<h4 data-id="heading-29">ç‚¹èµ</h4>
<p>æ— è®ºæ˜¯ç‚¹èµè¿˜æ˜¯å–æ¶ˆç‚¹èµ, ç¬¬ä¸€æ­¥æ˜¯å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»ç‚¹è¿‡èµ</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> `<span class="hljs-keyword">like</span>` <span class="hljs-keyword">WHERE</span> article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span> <span class="hljs-keyword">AND</span> user_id <span class="hljs-operator">=</span> <span class="hljs-string">'ç”¨æˆ·id'</span> LIMIT <span class="hljs-number">1</span>;
</code></pre>
<p>å¦‚æœæŸ¥è¯¢åˆ°è®°å½•ï¼Œè¯´æ˜å·²ç‚¹èµï¼Œæ‰§è¡Œå–æ¶ˆç‚¹èµï¼›å¦åˆ™æ‰§è¡Œç‚¹èµã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç‚¹èµ</span>

<span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-comment">--  1. æ›´æ–° like è¡¨æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">like</span>`(article_id, user_id) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'æ–‡ç« id'</span>, <span class="hljs-string">'ç”¨æˆ·id'</span>);
<span class="hljs-comment">--  2. æ›´æ–° article è¡¨æ•°æ®ï¼ˆ+1ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> article <span class="hljs-keyword">SET</span> like_count <span class="hljs-operator">=</span> like_count <span class="hljs-operator">+</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>;
<span class="hljs-keyword">COMMIT</span>;
<span class="hljs-comment">-- å–æ¶ˆç‚¹èµ</span>

<span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-comment">--  1. åˆ é™¤ like è¡¨æ•°æ®</span>
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> `<span class="hljs-keyword">like</span>` <span class="hljs-keyword">WHERE</span>  article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span> <span class="hljs-keyword">AND</span> user_id <span class="hljs-operator">=</span> <span class="hljs-string">'ç”¨æˆ·id'</span>;
<span class="hljs-comment">--  2. æ›´æ–° article è¡¨æ•°æ®ï¼ˆ-1ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> article <span class="hljs-keyword">SET</span> like_count <span class="hljs-operator">=</span> like_count <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>;
<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<h4 data-id="heading-30">è¯„è®º</h4>
<blockquote>
<p>å†™åˆ°è¿™é‡Œå‘ç°ï¼Œæœ€åˆè¡¨è®¾è®¡æœ‰é—®é¢˜ã€‚æœ¬æƒ³ç”¨ä¸€ä¸ª <code>parent_id</code> å®ç°æ— é™å±‚çº§ï¼Œä½†çœ‹äº†æ˜é‡‘å’Œ B ç«™çš„è¯„è®ºè®¾è®¡ï¼Œå‘ç°è¯„è®ºæœ€å¤š 2 å±‚ï¼Œå…¶ä»–éƒ½æ˜¯å¹³é“ºå›å¤ã€‚</p>
</blockquote>
<p>B ç«™çš„è¯„è®ºï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbba2af510284abdb99b2da4c85240e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29weWVyX3h5Zg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765406894&amp;x-signature=1PlNs3aaC%2FbQt%2FTtG55nKDbDw9g%3D" alt="blog-sql-bi.png" width="100%" loading="lazy"/>
<p>æ˜é‡‘çš„è¯„è®ºï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8203dfc86db844029709fa65f36a941f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29weWVyX3h5Zg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765406894&amp;x-signature=bRQXMC%2B8a8UNJdX%2F0YolB5xbuO0%3D" alt="blog-sql-juejin.png" width="70%" loading="lazy"/>
<p>éƒ½æ˜¯<strong>ä¸¤å±‚æ¨¡å‹</strong>ï¼š</p>
<ul>
<li>ç¬¬ 1 å±‚ï¼šé¡¶çº§è¯„è®ºï¼ˆ<code>parent_id = NULL</code>ï¼‰</li>
<li>ç¬¬ 2 å±‚ï¼šå¯¹é¡¶çº§è¯„è®ºçš„å›å¤ï¼ˆ<code>parent_id = é¡¶çº§.id</code>ï¼‰</li>
<li>ç¬¬ 3 å±‚åŠä»¥åï¼šä¸å†åµŒå¥—ï¼ŒæŠŠç›®æ ‡äºº @nick å†™è¿›å†…å®¹ï¼Œ<code>parent_id</code> ä»ç­‰äºé¡¶çº§è¯„è®º idï¼ŒæŒ‰æ—¶é—´å¹³é“º</li>
</ul>
<p><strong>æ–°å¢è¯„è®º</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-comment">-- æƒ…å†µä¸€ï¼šé¡¶çº§è¯„è®º</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> comment(article_id, user_id, parent_id, target_user_id, content)
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'æ–‡ç« id'</span>, <span class="hljs-string">'ç”¨æˆ·id'</span>, <span class="hljs-keyword">NULL</span>, <span class="hljs-keyword">NULL</span>, <span class="hljs-string">'ä¸€çº§è¯„è®º'</span>);

<span class="hljs-comment">-- æƒ…å†µäºŒï¼šå›å¤é¡¶çº§è¯„è®ºæˆ–å›å¤æŸäºº</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> comment(article_id, user_id, parent_id, target_user_id, content)
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'æ–‡ç« id'</span>, <span class="hljs-string">'ç”¨æˆ·id'</span>, <span class="hljs-string">'é¡¶çº§è¯„è®ºid'</span>, <span class="hljs-string">'è¢«å›å¤äººid'</span>, <span class="hljs-string">'äºŒçº§è¯„è®º'</span>);

<span class="hljs-comment">-- 3. æ›´æ–° article è¡¨è¯„è®ºæ•°ï¼ˆ+1ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> article <span class="hljs-keyword">SET</span> comment_count <span class="hljs-operator">=</span> comment_count <span class="hljs-operator">+</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>;

<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<p><strong>åˆ é™¤è¯„è®º</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. æŸ¥çœ‹æ˜¯å¦æœ‰å­è¯„è®º</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> comment <span class="hljs-keyword">WHERE</span> parent_id <span class="hljs-operator">=</span> <span class="hljs-string">'è¯„è®ºid'</span> LIMIT <span class="hljs-number">1</span>;
<span class="hljs-comment">-- æƒ…å†µä¸€ï¼šå¦‚æœæ²¡æœ‰å­è¯„è®º</span>

<span class="hljs-comment">-- æƒ…å†µä¸€ï¼šæ²¡æœ‰å­è¯„è®ºï¼Œç›´æ¥åˆ é™¤</span>
<span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> comment <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'è¯„è®ºid'</span> <span class="hljs-keyword">AND</span> user_id <span class="hljs-operator">=</span> <span class="hljs-string">'ç”¨æˆ·id'</span>;
<span class="hljs-comment">-- 2. æ›´æ–° article è¡¨è¯„è®ºæ•°ï¼ˆ-1ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> article <span class="hljs-keyword">SET</span> comment_count <span class="hljs-operator">=</span> comment_count <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>;
<span class="hljs-keyword">COMMIT</span>;


<span class="hljs-comment">-- æƒ…å†µäºŒï¼šæœ‰å­è¯„è®ºï¼Œä¸€èµ·åˆ é™¤</span>
<span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-comment">-- 1. è·å–æ‰€æœ‰å­è¯„è®º idï¼ˆäºŒçº§è¯„è®ºçš„ parent_id éƒ½æ˜¯é¡¶çº§è¯„è®º idï¼‰</span>
<span class="hljs-keyword">select</span> id <span class="hljs-keyword">as</span> ids <span class="hljs-keyword">from</span> comment <span class="hljs-keyword">where</span> parent_id <span class="hljs-operator">=</span> <span class="hljs-string">'è¯„è®ºid'</span>;

<span class="hljs-comment">-- 2. ä»£ç ä¸­ç»„è£… idsï¼š[...ids, 'è¯„è®ºid']ï¼ˆåŒ…å«æ‰€æœ‰å­è¯„è®º id å’Œé¡¶çº§è¯„è®º idï¼‰</span>

<span class="hljs-comment">-- 3. æ ¹æ® id æ‰¹é‡åˆ é™¤</span>
<span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> comment <span class="hljs-keyword">where</span> id <span class="hljs-keyword">in</span> (<span class="hljs-string">'ids'</span>);

<span class="hljs-comment">-- 4. æ›´æ–° article è¡¨è¯„è®ºæ•°ï¼ˆå‡å» ids.lengthï¼‰</span>
<span class="hljs-keyword">UPDATE</span> article <span class="hljs-keyword">SET</span> comment_count <span class="hljs-operator">=</span> comment_count <span class="hljs-operator">-</span> <span class="hljs-string">'ids.length'</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>;
<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<blockquote>
<p>è¿™é‡Œä½¿ç”¨ä»£ç  + SQL è¯­æ³•çš„ç»„åˆï¼Œçº¯ç²¹ç”¨ SQL å®ç°éœ€è¦ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œç›®å‰è¿˜ä¸ä¼š</p>
</blockquote>
<p><strong>æŸ¥è¯¢è¯„è®ºåˆ—è¡¨</strong></p>
<p>è¿™é‡ŒæŸ¥è¯¢ä¸»è¦è¿˜æ˜¯çœ‹è¯„è®ºçš„äº¤äº’æµç¨‹æ˜¯æ€ä¹ˆæ ·è®¾è®¡çš„ã€‚</p>
<ul>
<li>æƒ…å†µä¸€ï¼šç›´æ¥æŸ¥è¯¢æ‰€æœ‰è¯„è®ºï¼ˆåœ¨ä»£ç ä¸­ç»„è£…æˆä¸€ä¸ªäºŒçº§æ ‘ç»“æ„ï¼‰ï¼Œç¼ºç‚¹æ•°æ®é‡ä¸èƒ½å¤ªå¤§</li>
<li>æƒ…å†µäºŒï¼šåˆ†é¡µæŸ¥è¯¢ï¼ˆå…ˆåˆ†é¡µæŸ¥è¯¢é¡¶çº§çš„ï¼Œå±•ç¤ºæ—¶å†ä¸åˆ†é¡µæŸ¥è¯¢å­è¯„è®ºï¼‰ï¼Œå¯èƒ½å­˜åœ¨äº¤äº’çš„è¿Ÿé’æ„Ÿ</li>
<li>æƒ…å†µä¸‰ï¼šxxxx(æˆ‘ä¹Ÿä¸çŸ¥é“äº†ï¼Œæ€»æ„Ÿè§‰ä¸Šé¢çš„ä¸¤ç§æ–¹æ¡ˆéƒ½ä¸æ˜¯æœ€ä½³çš„, æˆ‘çœ‹äº†æ˜é‡‘è¿”å›çš„ç»“æ„æ˜¯<strong>é¡¶çº§è¯„è®ºåˆ†é¡µï¼ˆ20 æ¡ï¼‰+ å­è¯„è®ºéšç€é¡¶çº§è¯„è®ºä¸€èµ·è¿”å›</strong>ï¼Œä¸‡ä¸€å­è¯„è®ºçš„é‡ä¹Ÿå¾ˆå¤šå‘¢ï¼Ÿ)</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æƒ…å†µä¸€ï¼šæŸ¥è¯¢æ‰€æœ‰è¯„è®º</span>

<span class="hljs-comment">-- 1. è·å–æ‰€æœ‰é¡¶çº§è¯„è®ºçš„ ids</span>
<span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">from</span> comment <span class="hljs-keyword">where</span> article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span> <span class="hljs-keyword">AND</span> parent_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;

<span class="hljs-comment">-- 2. è·å–æ‰€æœ‰è¯„è®º</span>
<span class="hljs-keyword">SELECT</span> c.id,
       c.parent_id,
       c.user_id,
       u.name                   <span class="hljs-keyword">AS</span> user_name,
       c.target_user_id,
       tu.name                  <span class="hljs-keyword">AS</span> target_user_name,
       c.content,
       c.created_at
<span class="hljs-keyword">FROM</span> comment c
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> <span class="hljs-keyword">user</span> u  <span class="hljs-keyword">ON</span> u.id  <span class="hljs-operator">=</span> c.user_id    <span class="hljs-comment">-- è¿æ¥ç”¨æˆ·è¡¨ï¼ŒæŸ¥è¯¢ç”¨æˆ·åç§°</span>
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> <span class="hljs-keyword">user</span> tu <span class="hljs-keyword">ON</span> tu.id <span class="hljs-operator">=</span> c.target_user_id <span class="hljs-comment">-- è¿æ¥ç”¨æˆ·è¡¨ï¼ŒæŸ¥è¯¢ç”¨æˆ·åç§°</span>
<span class="hljs-keyword">WHERE</span>  c.article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span>
  <span class="hljs-keyword">AND</span> (c.parent_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>  <span class="hljs-comment">-- æ‰¾å‡ºé¡¶çº§è¯„è®ºï¼ˆparent_id = NULLï¼‰å’Œå­è¯„è®ºï¼ˆparent_id åœ¨ ids é‡Œé¢ï¼‰</span>
       <span class="hljs-keyword">OR</span>
       c.parent_id <span class="hljs-keyword">IN</span> (<span class="hljs-string">'ids'</span>))
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> c.parent_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DESC</span>,
         c.created_at <span class="hljs-keyword">ASC</span>;
</code></pre>
<p>é€šè¿‡ä»£ç è¿›è¡Œç»„è£…æˆæ ‘</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é’ˆå¯¹æƒ…å†µä¸€ï¼šæ‹¿åˆ°æ‰€æœ‰æ•°æ®ä¹‹åï¼Œåœ¨ä»£ç ä¸­ç»„è£…æˆä¸€ä¸ªæ ‘ç»“æ„</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">buildTree</span>(<span class="hljs-params">list</span>) {
 <span class="hljs-keyword">const</span> topMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// é¡¶çº§è¯„è®ºå®¹å™¨</span>
 <span class="hljs-keyword">const</span> replyMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// äºŒçº§è¯„è®ºå®¹å™¨</span>

 list.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
   <span class="hljs-keyword">if</span> (item.<span class="hljs-property">parent_id</span> === <span class="hljs-literal">null</span>) {
     item.<span class="hljs-property">replies</span> = []; <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼Œç”¨æ¥å­˜æ”¾å­è¯„è®º</span>
     topMap.<span class="hljs-title function_">set</span>(item.<span class="hljs-property">id</span>, item);
   } <span class="hljs-keyword">else</span> {
     <span class="hljs-keyword">const</span> arr = replyMap.<span class="hljs-title function_">get</span>(item.<span class="hljs-property">parent_id</span>) || [];
     arr.<span class="hljs-title function_">push</span>(item);
     replyMap.<span class="hljs-title function_">set</span>(item.<span class="hljs-property">parent_id</span>, arr);
   }
 });

 topMap.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">top</span>) =&gt;</span> {
   <span class="hljs-comment">// æ·»åŠ å­è¯„è®º</span>
   top.<span class="hljs-property">replies</span> = replyMap.<span class="hljs-title function_">get</span>(top.<span class="hljs-property">id</span>) || [];
 });

 <span class="hljs-keyword">const</span> tree = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(topMap.<span class="hljs-title function_">values</span>()).<span class="hljs-title function_">sort</span>(
   <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(b.<span class="hljs-property">created_at</span>) - <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(a.<span class="hljs-property">created_at</span>)
 );

 <span class="hljs-keyword">return</span> tree;
}

</code></pre>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æƒ…å†µäºŒï¼š å…ˆåˆ†é¡µæŸ¥è¯¢é¡¶çº§çš„ï¼Œå±•ç¤ºæ—¶å†ä¸åˆ†é¡µæŸ¥è¯¢å­è¯„è®º</span>

<span class="hljs-comment">-- 1. åˆ†é¡µè·å–é¡¶å±‚è¯„è®º</span>
<span class="hljs-keyword">SELECT</span> c.id,
       c.parent_id,
       c.user_id,
       u.name               <span class="hljs-keyword">AS</span> user_name,
       c.target_user_id,
       tu.name              <span class="hljs-keyword">AS</span> target_user_name,
       c.content,
       c.created_at
<span class="hljs-keyword">FROM</span> comment c
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> <span class="hljs-keyword">user</span> u  <span class="hljs-keyword">ON</span> u.id  <span class="hljs-operator">=</span> c.user_id
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> <span class="hljs-keyword">user</span> tu <span class="hljs-keyword">ON</span> tu.id <span class="hljs-operator">=</span> c.target_user_id
<span class="hljs-keyword">WHERE</span> c.article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span> <span class="hljs-keyword">AND</span> c.parent_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> c.created_at <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">20</span> <span class="hljs-keyword">OFFSET</span> <span class="hljs-string">'é¡µç  * 20'</span>;

<span class="hljs-comment">-- 2. è·å–æ‰€æœ‰å­è¯„è®º</span>
<span class="hljs-keyword">SELECT</span> c.id,
       c.parent_id,
       c.user_id,
       u.name               <span class="hljs-keyword">AS</span> user_name,
       c.target_user_id,
       tu.name              <span class="hljs-keyword">AS</span> target_user_name,
       c.content,
       c.created_at
<span class="hljs-keyword">FROM</span> comment c
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> <span class="hljs-keyword">user</span> u  <span class="hljs-keyword">ON</span> u.id  <span class="hljs-operator">=</span> c.user_id
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> <span class="hljs-keyword">user</span> tu <span class="hljs-keyword">ON</span> tu.id <span class="hljs-operator">=</span> c.target_user_id
<span class="hljs-keyword">WHERE</span> c.article_id <span class="hljs-operator">=</span> <span class="hljs-string">'æ–‡ç« id'</span> <span class="hljs-keyword">AND</span> c.parent_id  <span class="hljs-operator">=</span> <span class="hljs-string">'é¡¶å±‚è¯„è®ºid'</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> c.created_at <span class="hljs-keyword">ASC</span>;
</code></pre>
<p>å…¶ä»–çš„æƒ…å†µï¼Œå°±å…ˆä¸è€ƒè™‘äº†ã€‚</p>
<h2 data-id="heading-31">æœ€å</h2>
<p>SQL è¿™ä¸œè¥¿ï¼Œå¤šå†™å‡ éå°±ç†Ÿäº†ã€‚è¯­æ³•è™½ç„¶å¤šï¼Œä½†å¸¸ç”¨çš„å°±é‚£äº›ï¼Œä¸Šé¢è¿™äº›ç®—æ˜¯å…¥é—¨ã€‚</p>
<p>å‰ç«¯å¹³æ—¶æ¥è§¦ä¸åˆ°ï¼Œä½†æƒ³å¾€å…¨æ ˆå‘å±•ï¼ŒSQL æ˜¯å¿…é¡»äº†è§£çš„ã€‚è™½ç„¶å®é™…å¼€å‘ç”¨ ORMï¼Œä½†åº•å±‚è¿˜æ˜¯ SQLï¼ˆå°±åƒç”¨ Vueï¼ŒJavaScript è¿˜æ˜¯è¦æ‡‚çš„ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ–‡ä»¶ä¸Šä¼ å®æˆ˜ï¼šåŸºäºExpressã€åˆ†ç‰‡ã€Web Workerä¸å‹ç¼©çš„å®Œæ•´æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7579499567869935666</link>    <guid>https://juejin.cn/post/7579499567869935666</guid>    <pubDate>2025-12-04T02:48:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579499567869935666" data-draft-id="7579512734297194534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ–‡ä»¶ä¸Šä¼ å®æˆ˜ï¼šåŸºäºExpressã€åˆ†ç‰‡ã€Web Workerä¸å‹ç¼©çš„å®Œæ•´æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2025-12-04T02:48:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¤§é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/395479916219517"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ–‡ä»¶ä¸Šä¼ å®æˆ˜ï¼šåŸºäºExpressã€åˆ†ç‰‡ã€Web Workerä¸å‹ç¼©çš„å®Œæ•´æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479916219517/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¤§é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T02:48:54.000Z" title="Thu Dec 04 2025 02:48:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æˆ‘æ˜¯å¤§é±¼ï¼Œé™ªä½ ä¸€èµ·åœ¨å‰ç«¯æŠ€æœ¯æ·±æµ·å‰è¡Œã€‚</p>
</blockquote>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¤§æ–‡ä»¶ä¸Šä¼ çš„å…¨é“¾è·¯ä¼˜åŒ–æ–¹æ¡ˆï¼Œç»“åˆå‰ç«¯åˆ†ç‰‡ã€Web Workerå¤šçº¿ç¨‹å¤„ç†ã€æ–‡ä»¶å‹ç¼©ä»¥åŠExpressåç«¯å®ç°ï¼Œè§£å†³ä¼ ç»Ÿå¤§æ–‡ä»¶ä¸Šä¼ ä¸­çš„ç½‘ç»œæ³¢åŠ¨ã€æœåŠ¡å™¨å‹åŠ›ä¸ç”¨æˆ·ä½“éªŒå·®ç­‰æ ¸å¿ƒç—›ç‚¹ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆè®¾è®¡</h3>
<p>å¤§æ–‡ä»¶ä¸Šä¼ çš„ä¼˜åŒ–ä¸»è¦å›´ç»•<strong>åˆ†ç‰‡ä¸Šä¼ </strong>ã€<strong>æ–­ç‚¹ç»­ä¼ </strong>å’Œ<strong>ç§’ä¼ </strong>ä¸‰å¤§æœºåˆ¶å±•å¼€ã€‚æœ¬æ–¹æ¡ˆåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¼•å…¥Web Workerè¿›è¡Œå‰ç«¯å¹¶è¡Œè®¡ç®—ä¸æ–‡ä»¶å‹ç¼©ï¼Œæ•´ä½“æ¶æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å‰ç«¯</strong>ï¼šé‡‡ç”¨åˆ†ç‰‡ï¼ˆ5MB/ç‰‡ï¼‰å‹ç¼©åï¼Œé€šè¿‡Web Workerè®¡ç®—å“ˆå¸Œï¼Œå®ç°å¹¶å‘ä¸Šä¼ ä¸è¿›åº¦åé¦ˆã€‚</li>
<li><strong>åç«¯</strong>ï¼šä½¿ç”¨Express.js + Multerå¤„ç†åˆ†ç‰‡ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ä¸æ–‡ä»¶åˆå¹¶ã€‚</li>
<li><strong>ä¼ è¾“ä¼˜åŒ–</strong>ï¼šé€šè¿‡å‹ç¼©ç®—æ³•ï¼ˆå¦‚gzipï¼‰å‡å°‘ä¼ è¾“ä½“ç§¯ï¼Œæå‡ç½‘ç»œåˆ©ç”¨ç‡ã€‚</li>
</ul>
<h4 data-id="heading-1">æ–¹æ¡ˆä¼˜åŠ¿å¯¹æ¯”</h4>

























<table><thead><tr><th align="left">ä¼ ç»Ÿæ–¹æ¡ˆ</th><th align="left">æœ¬ä¼˜åŒ–æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td align="left">å•çº¿ç¨‹ä¸Šä¼ ï¼Œæ˜“é˜»å¡ä¸»çº¿ç¨‹</td><td align="left">Web Workerå¤šçº¿ç¨‹å¤„ç†ï¼Œä¸é˜»å¡UI</td></tr><tr><td align="left">ç½‘ç»œä¸­æ–­éœ€é‡ä¼ æ•´ä¸ªæ–‡ä»¶</td><td align="left">åˆ†ç‰‡ä¸Šä¼  + æ–­ç‚¹ç»­ä¼ ï¼Œä»…é‡ä¼ å¤±è´¥åˆ†ç‰‡</td></tr><tr><td align="left">æ— å‹ç¼©ï¼Œä¼ è¾“æ•ˆç‡ä½</td><td align="left">å‰ç«¯å‹ç¼© + åˆ†ç‰‡ï¼Œå‡å°‘å¸¦å®½å ç”¨</td></tr><tr><td align="left">æœåŠ¡å™¨ç›´æ¥å¤„ç†å¤§æ–‡ä»¶æµ</td><td align="left">åˆ†ç‰‡å‡è½»æœåŠ¡å™¨å•æ¬¡å‹åŠ›</td></tr></tbody></table>
<h3 data-id="heading-2">äºŒã€å‰ç«¯å®ç°ï¼šåˆ†ç‰‡ã€å‹ç¼©ä¸Workerå¤šçº¿ç¨‹</h3>
<p>å‰ç«¯æµç¨‹åŒ…æ‹¬<strong>æ–‡ä»¶åˆ†ç‰‡</strong>ã€<strong>å‹ç¼©å¤„ç†</strong>ã€<strong>å“ˆå¸Œè®¡ç®—</strong>å’Œ<strong>å¹¶å‘ä¸Šä¼ </strong>ï¼Œå…³é”®æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-3">1. æ–‡ä»¶åˆ†ç‰‡ä¸å‹ç¼©</h4>
<p>ä½¿ç”¨<code>File.slice()</code>è¿›è¡Œåˆ†ç‰‡ï¼Œå¹¶å¯¹æ¯ä¸ªåˆ†ç‰‡åº”ç”¨å‹ç¼©ï¼ˆç¤ºä¾‹ä½¿ç”¨gzipï¼‰ã€‚åˆ†ç‰‡å¤§å°å»ºè®®5MBï¼Œå¹³è¡¡ç½‘ç»œå¼€é”€ä¸å¹¶å‘æ•ˆç‡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–‡ä»¶åˆ†ç‰‡ä¸å‹ç¼©å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">chunkAndCompressFile</span>(<span class="hljs-params">file, chunkSize = <span class="hljs-number">5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span></span>) {
  <span class="hljs-keyword">const</span> chunks = [];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; file.<span class="hljs-property">size</span>; i += chunkSize) {
    <span class="hljs-keyword">const</span> chunk = file.<span class="hljs-title function_">slice</span>(i, i + chunkSize);
    <span class="hljs-comment">// ä½¿ç”¨Compression Streams APIè¿›è¡Œå‹ç¼©ï¼ˆç°ä»£æµè§ˆå™¨æ”¯æŒï¼‰</span>
    <span class="hljs-keyword">const</span> compressedStream = chunk.<span class="hljs-title function_">stream</span>().<span class="hljs-title function_">pipeThrough</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CompressionStream</span>(<span class="hljs-string">'gzip'</span>));
    <span class="hljs-keyword">const</span> compressedChunk = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(compressedStream).<span class="hljs-title function_">blob</span>();
    chunks.<span class="hljs-title function_">push</span>({
      <span class="hljs-attr">index</span>: i / chunkSize,
      <span class="hljs-attr">file</span>: compressedChunk,
      <span class="hljs-attr">originalSize</span>: chunk.<span class="hljs-property">size</span>,
      <span class="hljs-attr">compressedSize</span>: compressedChunk.<span class="hljs-property">size</span>
    });
  }
  <span class="hljs-keyword">return</span> chunks;
}
</code></pre>
<h4 data-id="heading-4">2. Web Workerè®¡ç®—åˆ†ç‰‡å“ˆå¸Œ</h4>
<p>ä½¿ç”¨<code>file-chunk-worker</code>åº“åœ¨Workerä¸­å¹¶è¡Œè®¡ç®—åˆ†ç‰‡MD5ï¼Œé¿å…ä¸»çº¿ç¨‹é˜»å¡ï¼ŒåŒæ—¶æ”¯æŒè¿›åº¦åé¦ˆã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨Workerå¤„ç†æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">FileProcessor</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'file-chunk-worker'</span>;
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processFileWithWorker</span>(<span class="hljs-params">file</span>) {
  <span class="hljs-keyword">const</span> processor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileProcessor</span>(file, {
    <span class="hljs-attr">chunkSize</span>: <span class="hljs-number">5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
    <span class="hljs-attr">threadCount</span>: <span class="hljs-number">4</span>  <span class="hljs-comment">// å¯ç”¨4ä¸ªWorkerçº¿ç¨‹</span>
  });
  <span class="hljs-keyword">const</span> chunks = <span class="hljs-keyword">await</span> processor.<span class="hljs-title function_">calculateMd5</span>(<span class="hljs-function">(<span class="hljs-params">progress</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤„ç†è¿›åº¦: <span class="hljs-subst">${(progress * <span class="hljs-number">100</span>).toFixed(<span class="hljs-number">2</span>)}</span>%`</span>);
  });
  <span class="hljs-comment">// chunksåŒ…å«æ¯ä¸ªåˆ†ç‰‡çš„hashã€ç´¢å¼•å’ŒBlobæ•°æ®</span>
  <span class="hljs-keyword">return</span> chunks.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">chunk</span> =&gt;</span> ({
    ...chunk,
    <span class="hljs-attr">hash</span>: chunk.<span class="hljs-property">hash</span>  <span class="hljs-comment">// ç”¨äºç§’ä¼ æ ¡éªŒ</span>
  }));
}
</code></pre>
<h4 data-id="heading-5">3. å¹¶å‘ä¸Šä¼ ä¸æ–­ç‚¹ç»­ä¼ </h4>
<p>ä¸Šä¼ å‰å…ˆæŸ¥è¯¢æœåŠ¡å™¨å·²ä¸Šä¼ åˆ†ç‰‡ï¼Œå®ç°æ–­ç‚¹ç»­ä¼ ã€‚ä½¿ç”¨<code>@yuan-toolkit/chunk-uploader</code>æˆ–<code>bigfile-chunk-uploader</code>åº“ç®¡ç†å¹¶å‘ã€é‡è¯•å’Œè¿›åº¦ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é…ç½®åŒ–çš„åˆ†ç‰‡ä¸Šä¼ ï¼ˆåŸºäºbigfile-chunk-uploaderï¼‰</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BigFileUploader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'bigfile-chunk-uploader'</span>;
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">uploadFile</span>(<span class="hljs-params">file</span>) {
  <span class="hljs-comment">// 1. åˆ†ç‰‡å¹¶è®¡ç®—å“ˆå¸Œ</span>
  <span class="hljs-keyword">const</span> processedChunks = <span class="hljs-keyword">await</span> <span class="hljs-title function_">processFileWithWorker</span>(file);
  <span class="hljs-comment">// 2. åˆå§‹åŒ–ä¸Šä¼ ï¼Œè·å–fileIdï¼ˆç”¨äºæ–­ç‚¹ç»­ä¼ ï¼‰</span>
  <span class="hljs-keyword">const</span> fileId = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/upload/init'</span>, {
    <span class="hljs-attr">fileName</span>: file.<span class="hljs-property">name</span>,
    <span class="hljs-attr">fileHash</span>: processedChunks.<span class="hljs-property">overallHash</span>  <span class="hljs-comment">// æ•´ä½“æ–‡ä»¶å“ˆå¸Œï¼Œç”¨äºç§’ä¼ </span>
  }).<span class="hljs-property">data</span>.<span class="hljs-property">uploadId</span>;
  
  <span class="hljs-comment">// 3. æ£€æŸ¥å·²ä¸Šä¼ åˆ†ç‰‡</span>
  <span class="hljs-keyword">const</span> { uploadedChunks } = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/upload/status?fileId=<span class="hljs-subst">${fileId}</span>`</span>);
  <span class="hljs-comment">// 4. å¹¶å‘ä¸Šä¼ æœªå®Œæˆåˆ†ç‰‡</span>
  <span class="hljs-keyword">const</span> uploader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigFileUploader</span>({
    file,
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'http://api.example.com'</span>,
    <span class="hljs-attr">endpoints</span>: { <span class="hljs-attr">chunk</span>: <span class="hljs-string">'/upload/chunk'</span>, <span class="hljs-attr">merge</span>: <span class="hljs-string">'/upload/merge'</span> },
    <span class="hljs-attr">chunkSize</span>: <span class="hljs-number">5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>,
    <span class="hljs-attr">concurrent</span>: <span class="hljs-number">3</span>,  <span class="hljs-comment">// æ§åˆ¶å¹¶å‘æ•°</span>
    <span class="hljs-attr">maxRetries</span>: <span class="hljs-number">3</span>,   <span class="hljs-comment">// å¤±è´¥è‡ªåŠ¨é‡è¯•</span>
    <span class="hljs-attr">onProgress</span>: <span class="hljs-function">(<span class="hljs-params">progress</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä¸Šä¼ è¿›åº¦: <span class="hljs-subst">${progress}</span>%`</span>);  <span class="hljs-comment">// å®æ—¶åé¦ˆ</span>
    }
  });
  <span class="hljs-keyword">await</span> uploader.<span class="hljs-title function_">start</span>();
  <span class="hljs-comment">// 5. æ‰€æœ‰åˆ†ç‰‡å®Œæˆåï¼Œè¯·æ±‚åˆå¹¶</span>
  <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/upload/merge'</span>, { fileId });
}
</code></pre>
<h4 data-id="heading-6">å…³é”®ä¼˜åŒ–ç‚¹ï¼š</h4>
<ul>
<li><strong>å¹¶å‘æ§åˆ¶</strong>ï¼šæµè§ˆå™¨åŒåŸŸå¹¶å‘é™åˆ¶çº¦ä¸º6ï¼Œå¯é€šè¿‡å¤šå­åŸŸï¼ˆå¦‚<code>upload1.example.com</code>ï¼‰æå‡é€Ÿåº¦ã€‚</li>
<li><strong>è¿›åº¦åé¦ˆ</strong>ï¼šç»“åˆåˆ†ç‰‡è¿›åº¦ä¸å‹ç¼©è¿›åº¦ï¼Œæä¾›ç²¾ç¡®çš„ç™¾åˆ†æ¯”åé¦ˆã€‚</li>
<li><strong>é”™è¯¯é‡è¯•</strong>ï¼šç½‘ç»œå¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•ç‰¹å®šåˆ†ç‰‡ï¼Œå¢å¼ºé²æ£’æ€§ã€‚</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€åç«¯å®ç°ï¼šExpress.jsåˆ†ç‰‡æ¥æ”¶ä¸åˆå¹¶</h3>
<p>åç«¯ä½¿ç”¨Express + Multerå¤„ç†åˆ†ç‰‡ï¼Œå¹¶å®ç°æ–­ç‚¹ç»­ä¼ é€»è¾‘ã€‚</p>
<h4 data-id="heading-8">1. ç¯å¢ƒæ­å»ºä¸Multeré…ç½®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> multer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'multer'</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs-extra'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();
<span class="hljs-comment">// é…ç½®Multerå­˜å‚¨åˆ†ç‰‡</span>
<span class="hljs-keyword">const</span> storage = multer.<span class="hljs-title function_">diskStorage</span>({
  <span class="hljs-attr">destination</span>: <span class="hljs-string">'uploads/temp/'</span>,  <span class="hljs-comment">// åˆ†ç‰‡ä¸´æ—¶ç›®å½•</span>
  <span class="hljs-attr">filename</span>: <span class="hljs-function">(<span class="hljs-params">req, file, cb</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> { fileId, chunkIndex } = req.<span class="hljs-property">body</span>;
    <span class="hljs-title function_">cb</span>(<span class="hljs-literal">null</span>, <span class="hljs-string">`<span class="hljs-subst">${fileId}</span>-<span class="hljs-subst">${chunkIndex}</span>.chunk`</span>);  <span class="hljs-comment">// æŒ‰fileIdå’Œç´¢å¼•å‘½å</span>
  }
});
<span class="hljs-keyword">const</span> upload = <span class="hljs-title function_">multer</span>({ storage });
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());
</code></pre>
<h4 data-id="heading-9">2. åˆ†ç‰‡ä¸Šä¼ æ¥å£</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. åˆå§‹åŒ–ä¸Šä¼ ï¼ˆç”ŸæˆfileIdï¼Œæ”¯æŒç§’ä¼ ï¼‰</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/upload/init'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { fileName, fileHash } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">const</span> fileId = <span class="hljs-title function_">generateFileId</span>();  <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€ID</span>
  <span class="hljs-comment">// ç§’ä¼ æ£€æŸ¥ï¼šå¦‚æœæ–‡ä»¶å“ˆå¸Œå·²å­˜åœ¨ï¼Œç›´æ¥è¿”å›æˆåŠŸ</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">checkFileExists</span>(fileHash)) {
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">uploaded</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">url</span>: <span class="hljs-title function_">getFileUrl</span>(fileHash) });
  }
  <span class="hljs-comment">// è®°å½•ä¸Šä¼ çŠ¶æ€ï¼ˆç”¨äºæ–­ç‚¹ç»­ä¼ ï¼‰</span>
  <span class="hljs-title function_">saveUploadStatus</span>(fileId, { fileName, fileHash, <span class="hljs-attr">uploadedChunks</span>: [] });
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">uploadId</span>: fileId });
});

<span class="hljs-comment">// 2. åˆ†ç‰‡ä¸Šä¼ æ¥å£</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/upload/chunk'</span>, upload.<span class="hljs-title function_">single</span>(<span class="hljs-string">'chunk'</span>), <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { fileId, chunkIndex, chunkHash } = req.<span class="hljs-property">body</span>;
  <span class="hljs-comment">// éªŒè¯åˆ†ç‰‡å“ˆå¸Œï¼ˆé˜²æ­¢æ•°æ®æŸåï¼‰</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">validateChunkHash</span>(req.<span class="hljs-property">file</span>, chunkHash)) {
    <span class="hljs-comment">// è®°å½•å·²ä¸Šä¼ åˆ†ç‰‡ç´¢å¼•</span>
    <span class="hljs-title function_">updateUploadStatus</span>(fileId, chunkIndex);
    res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> });
  } <span class="hljs-keyword">else</span> {
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">400</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">'åˆ†ç‰‡æ ¡éªŒå¤±è´¥'</span> });
  }
});

<span class="hljs-comment">// 3. æŸ¥è¯¢ä¸Šä¼ è¿›åº¦ï¼ˆç”¨äºæ–­ç‚¹ç»­ä¼ ï¼‰</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/upload/status'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { fileId } = req.<span class="hljs-property">query</span>;
  <span class="hljs-keyword">const</span> status = <span class="hljs-title function_">getUploadStatus</span>(fileId);
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">uploadedChunks</span>: status?.<span class="hljs-property">uploadedChunks</span> || [] });
});
</code></pre>
<h4 data-id="heading-10">3. åˆ†ç‰‡åˆå¹¶æ¥å£</h4>
<p>æ‰€æœ‰åˆ†ç‰‡ä¸Šä¼ å®Œæˆåï¼ŒæŒ‰ç´¢å¼•é¡ºåºåˆå¹¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/upload/merge'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> { fileId } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">const</span> { fileName, fileHash } = <span class="hljs-title function_">getUploadStatus</span>(fileId);
  <span class="hljs-keyword">const</span> chunkDir = <span class="hljs-string">'uploads/temp/'</span>;
  <span class="hljs-keyword">const</span> chunks = fs.<span class="hljs-title function_">readdirSync</span>(chunkDir)
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> f.<span class="hljs-title function_">startsWith</span>(fileId))
    .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> <span class="hljs-built_in">parseInt</span>(a.<span class="hljs-title function_">split</span>(<span class="hljs-string">'-'</span>)[<span class="hljs-number">1</span>]) - <span class="hljs-built_in">parseInt</span>(b.<span class="hljs-title function_">split</span>(<span class="hljs-string">'-'</span>)[<span class="hljs-number">1</span>]));
  <span class="hljs-comment">// é¡ºåºåˆå¹¶åˆ†ç‰‡</span>
  <span class="hljs-keyword">const</span> finalPath = <span class="hljs-string">`uploads/final/<span class="hljs-subst">${fileId}</span>-<span class="hljs-subst">${fileName}</span>`</span>;
  <span class="hljs-keyword">const</span> writeStream = fs.<span class="hljs-title function_">createWriteStream</span>(finalPath);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> chunks) {
    <span class="hljs-keyword">const</span> chunkPath = path.<span class="hljs-title function_">join</span>(chunkDir, chunk);
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> readStream = fs.<span class="hljs-title function_">createReadStream</span>(chunkPath);
      readStream.<span class="hljs-title function_">pipe</span>(writeStream, { <span class="hljs-attr">end</span>: <span class="hljs-literal">false</span> });
      readStream.<span class="hljs-title function_">on</span>(<span class="hljs-string">'end'</span>, <span class="hljs-function">() =&gt;</span> {
        fs.<span class="hljs-title function_">unlinkSync</span>(chunkPath);  <span class="hljs-comment">// åˆ é™¤ä¸´æ—¶åˆ†ç‰‡</span>
        <span class="hljs-title function_">resolve</span>();
      });
    });
  }
  writeStream.<span class="hljs-title function_">end</span>();
  <span class="hljs-comment">// æ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒ</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> <span class="hljs-title function_">calculateFileHash</span>(finalPath) === fileHash) {
    <span class="hljs-title function_">saveFileRecord</span>(fileHash, finalPath);  <span class="hljs-comment">// å­˜å‚¨è®°å½•ä¾›ç§’ä¼ ä½¿ç”¨</span>
    res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">`/files/<span class="hljs-subst">${fileId}</span>`</span>, <span class="hljs-attr">size</span>: fs.<span class="hljs-title function_">statSync</span>(finalPath).<span class="hljs-property">size</span> });
  } <span class="hljs-keyword">else</span> {
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: <span class="hljs-string">'æ–‡ä»¶åˆå¹¶å¤±è´¥'</span> });
  }
});
</code></pre>
<h4 data-id="heading-11">å…³é”®ä¼˜åŒ–ç‚¹ï¼š</h4>
<ul>
<li><strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼šé€šè¿‡<code>uploadedChunks</code>è®°å½•é¿å…é‡å¤ä¸Šä¼ ã€‚</li>
<li><strong>ç§’ä¼ </strong>ï¼šåŸºäºæ–‡ä»¶å“ˆå¸Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚</li>
<li><strong>èµ„æºç®¡ç†</strong>ï¼šåˆå¹¶åæ¸…ç†ä¸´æ—¶åˆ†ç‰‡ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸä¸Šä¼ è®°å½•ã€‚</li>
</ul>
<h3 data-id="heading-12">å››ã€é«˜çº§ä¼˜åŒ–ç­–ç•¥</h3>
<ol>
<li>
<p><strong>å‹ç¼©ç®—æ³•é€‰æ‹©</strong>ï¼š<br/>
å‰ç«¯å‹ç¼©å¯é€‰ç”¨<code>gzip</code>ï¼ˆæµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼‰æˆ–<code>brotli</code>ï¼ˆå‹ç¼©ç‡æ›´é«˜ï¼‰ã€‚å®æµ‹ä¸­ï¼Œå¯¹æ–‡æœ¬/JSONæ•°æ®å‹ç¼©ç‡å¯è¾¾60%-70%ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå·²å‹ç¼©æ–‡ä»¶ï¼ˆå¦‚ZIPã€è§†é¢‘ï¼‰äºŒæ¬¡å‹ç¼©æ”¶ç›Šæœ‰é™ï¼Œå¯å‰ç«¯æ£€æµ‹æ–‡ä»¶ç±»å‹åŠ¨æ€å¯ç”¨å‹ç¼©ã€‚</p>
</blockquote>
</li>
<li>
<p><strong>Web WorkeråŠ¨æ€è°ƒä¼˜</strong>ï¼š<br/>
Workeræ•°é‡å»ºè®®è®¾ä¸º<code>navigator.hardwareConcurrency - 1</code>ï¼ˆä¿ç•™ä¸€ä¸ªæ ¸å¿ƒç»™UIï¼‰ã€‚è¿‡å¤§æ–‡ä»¶ï¼ˆ&gt;1GBï¼‰å¯åˆ†é˜¶æ®µå¤„ç†ï¼Œé¿å…å†…å­˜æº¢å‡ºã€‚</p>
</li>
<li>
<p><strong>ä¼ è¾“å®‰å…¨ä¸å®Œæ•´æ€§</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨HTTPSåŠ å¯†ä¼ è¾“ã€‚</li>
<li>æ¯ä¸ªåˆ†ç‰‡æºå¸¦<code>Content-MD5</code>å¤´ï¼Œåç«¯æ ¡éªŒã€‚</li>
<li>æœ€ç»ˆæ–‡ä»¶å“ˆå¸Œï¼ˆå¦‚SHA-256ï¼‰æ¯”å¯¹ï¼Œé˜²æ­¢åˆå¹¶é”™è¯¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒå¢å¼º</strong>ï¼š</p>
<ul>
<li>å®æ—¶æ˜¾ç¤ºé€Ÿåº¦ã€å‰©ä½™æ—¶é—´ä¸å‹ç¼©ç‡ã€‚</li>
<li>æš‚åœ/æ¢å¤åŠŸèƒ½ï¼ˆåˆ©ç”¨<code>uploader.pause()</code>/<code>resume()</code>ï¼‰ã€‚</li>
<li>ç½‘ç»œä¸­æ–­åè‡ªåŠ¨æ£€æµ‹å¹¶ç»­ä¼ ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-13">äº”ã€å®Œæ•´å·¥ä½œæµç¨‹ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹ä¸ºä¸€ä¸ªè§†é¢‘æ–‡ä»¶ï¼ˆ2GBï¼‰çš„ä¸Šä¼ æµç¨‹ï¼š</p>
<ol>
<li><strong>å‰ç«¯å‡†å¤‡</strong>ï¼š<br/>
æ–‡ä»¶â†’åˆ†ç‰‡ï¼ˆ5MB/ç‰‡ï¼Œå…±çº¦400ç‰‡ï¼‰â†’Web Workerè®¡ç®—åˆ†ç‰‡å“ˆå¸Œï¼ˆ4çº¿ç¨‹å¹¶è¡Œï¼‰â†’gzipå‹ç¼©ï¼ˆä½“ç§¯å‡å°‘çº¦40%ï¼‰ã€‚</li>
<li><strong>ä¸Šä¼ è¿‡ç¨‹</strong>ï¼š
<ol>
<li>åˆå§‹åŒ–è·å–<code>fileId</code>ï¼›2) æŸ¥è¯¢å·²ä¸Šä¼ åˆ†ç‰‡ï¼ˆé¦–æ¬¡ä¸ºç©ºï¼‰ï¼›3) å¹¶å‘ä¸Šä¼ åˆ†ç‰‡ï¼ˆ3ä¸ªå¹¶å‘ï¼‰ï¼›4) å®æ—¶è¿›åº¦æ˜¾ç¤ºã€‚</li>
</ol>
</li>
<li><strong>åç«¯å¤„ç†</strong>ï¼š
<ol>
<li>æ¥æ”¶åˆ†ç‰‡å¹¶å­˜å‚¨ï¼›2) è®°å½•ä¸Šä¼ çŠ¶æ€ï¼›3) åˆå¹¶åˆ†ç‰‡å¹¶æ ¡éªŒï¼›4) è¿”å›æ–‡ä»¶URLã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-14">å…­ã€æ€»ç»“</h3>
<p>æœ¬æ–‡æ–¹æ¡ˆä½¿ç”¨<strong>åˆ†ç‰‡ä¸Šä¼ </strong>ã€<strong>Web Workerå¤šçº¿ç¨‹å¤„ç†</strong>ã€<strong>å‰ç«¯å‹ç¼©</strong>ä¸<strong>Expressåç«¯æ”¯æŒ</strong>ï¼Œç³»ç»Ÿæ€§åœ°è§£å†³äº†å¤§æ–‡ä»¶ä¸Šä¼ çš„ç¨³å®šæ€§ã€æ•ˆç‡ä¸ç”¨æˆ·ä½“éªŒé—®é¢˜ã€‚</p>
<p>å®é™…åº”ç”¨ä¸­ï¼Œå¯æ ¹æ®æ–‡ä»¶ç±»å‹è°ƒæ•´åˆ†ç‰‡å¤§å°ï¼ˆå¦‚å›¾ç‰‡ç”¨2MBï¼Œè§†é¢‘ç”¨5MBï¼‰ï¼Œå¹¶ç›‘æ§æœåŠ¡å™¨è´Ÿè½½ä»¥ä¼˜åŒ–å¹¶å‘å‚æ•°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡å¸¦ä½ æŒæ¡MyBatis-Plusä»£ç ç”Ÿæˆå™¨ï¼šä»å…¥é—¨åˆ°ç²¾é€šï¼Œå®ç°åŸç†ä¸è‡ªå®šä¹‰æ¨¡æ¿å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7579494852654219298</link>    <guid>https://juejin.cn/post/7579494852654219298</guid>    <pubDate>2025-12-04T02:57:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579494852654219298" data-draft-id="7579544918076391459" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡å¸¦ä½ æŒæ¡MyBatis-Plusä»£ç ç”Ÿæˆå™¨ï¼šä»å…¥é—¨åˆ°ç²¾é€šï¼Œå®ç°åŸç†ä¸è‡ªå®šä¹‰æ¨¡æ¿å…¨è§£æ"/> <meta itemprop="keywords" content="åç«¯,Spring Boot,Java"/> <meta itemprop="datePublished" content="2025-12-04T02:57:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shepherd"/> <meta itemprop="url" content="https://juejin.cn/user/3415500769991869"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡å¸¦ä½ æŒæ¡MyBatis-Plusä»£ç ç”Ÿæˆå™¨ï¼šä»å…¥é—¨åˆ°ç²¾é€šï¼Œå®ç°åŸç†ä¸è‡ªå®šä¹‰æ¨¡æ¿å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3415500769991869/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shepherd
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T02:57:41.000Z" title="Thu Dec 04 2025 02:57:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦ä»£ç ç”Ÿæˆå™¨ï¼Ÿ</h2>
<p>è¿‘å¹´æ¥ï¼Œéšç€AIç¼–ç¨‹å’Œä½ä»£ç å¹³å°çš„å…´èµ·ï¼Œå¼€å‘æ•ˆç‡æˆä¸ºæŠ€æœ¯åœˆçš„çƒ­é—¨è¯é¢˜ã€‚è™½ç„¶è¿™äº›å·¥å…·èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šæå‡å¼€å‘æ•ˆç‡ï¼Œä½†å¯¹äºå¤æ‚çš„ä¸šåŠ¡é€»è¾‘å’Œå®šåˆ¶åŒ–éœ€æ±‚ï¼Œä»ç„¶éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ä»£ç ã€‚</p>
<p>ç‰¹åˆ«æ˜¯åœ¨åç«¯å¼€å‘ä¸­ï¼Œä¸šåŠ¡æ¥å£çš„ç¼–å†™å¾€å¾€å­˜åœ¨å¤§é‡é‡å¤æ€§å·¥ä½œï¼šå®ä½“ç±»ã€Mapperã€Serviceã€Controllerç­‰åŸºç¡€ä»£ç ç»“æ„ç›¸ä¼¼ï¼Œå´éœ€è¦åå¤ç¼–å†™ã€‚è¿™æ—¶å€™ï¼Œä¸€ä¸ªä¼˜ç§€çš„ä»£ç ç”Ÿæˆå™¨å°±èƒ½å¤§æ˜¾èº«æ‰‹ã€‚</p>
<p>ä»Šå¤©æˆ‘è¦è¯¦ç»†ä»‹ç»çš„å°±æ˜¯<strong>MyBatis-Plus Generator</strong>ï¼ˆç®€ç§°<strong>MPG</strong>ï¼‰ï¼Œè¿™æ¬¾å¼ºå¤§çš„ä»£ç ç”Ÿæˆå·¥å…·èƒ½å¤Ÿæ ¹æ®æ•°æ®åº“è¡¨ç»“æ„ï¼Œè‡ªåŠ¨ç”ŸæˆåŒ…æ‹¬Entityã€Mapperã€Serviceã€Controlleråœ¨å†…çš„å…¨å¥—ä»£ç ï¼ŒçœŸæ­£å®ç°"ä¸€é”®ç”Ÿæˆï¼Œå¼€ç®±å³ç”¨"ã€‚</p>
<h2 data-id="heading-1">2.å¿«é€Ÿå…¥é—¨ï¼š5åˆ†é’Ÿä¸Šæ‰‹ä»£ç ç”Ÿæˆ</h2>
<h3 data-id="heading-2">2.1 å¼•å…¥ä¾èµ–</h3>
<pre><code class="hljs language-xml" lang="xml"> Â <span class="hljs-comment">&lt;!-- ä»£ç ç”Ÿæˆå™¨  --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- æ¨¡æ¿å¼•æ“ï¼ˆFreemarkerç¤ºä¾‹ï¼‰ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.freemarker<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>freemarker<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.32<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">2.2 å‡†å¤‡æµ‹è¯•æ•°æ®è¡¨</h3>
<p>åˆ›å»ºä¸€å¼ æµ‹è¯•ç”¨æˆ·è¡¨<code>tb_user</code>:</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `tb_user` (
 Â `id` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®'</span>,
 Â `user_no` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç¼–å·'</span>,
 Â `name` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ˜µç§°'</span>,
 Â `email` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'é‚®ç®±'</span>,
 Â `phone` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ‰‹æœºå·'</span>,
 Â `gender` tinyint(<span class="hljs-number">4</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'0'</span> COMMENT <span class="hljs-string">'æ€§åˆ«  0ï¼šç”·ç”Ÿ Â  1ï¼šå¥³ç”Ÿ'</span>,
 Â `birthday` <span class="hljs-type">timestamp</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'å‡ºç”Ÿæ—¥æœŸ'</span>,
 Â `is_delete` tinyint(<span class="hljs-number">4</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'0'</span> COMMENT <span class="hljs-string">'åˆ é™¤æ ‡å¿— 0ï¼šå¦  1ï¼šæ˜¯'</span>,
 Â `create_time` datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
 Â `update_time` datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>,
 Â `creator` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åˆ›å»ºäºº'</span>,
 Â `updater` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'æ›´æ–°äºº'</span>,
 Â `address` <span class="hljs-type">varchar</span>(<span class="hljs-number">1024</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åœ°å€'</span>,
 Â `role_id` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è§’è‰²id'</span>,
 Â `hobby` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'çˆ±å¥½'</span>,
 Â `remark` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ä¸ªäººè¯´æ˜'</span>,
 Â `org_id` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'å…¬å¸id'</span>,
 Â <span class="hljs-keyword">PRIMARY</span> KEY (`id`) <span class="hljs-keyword">USING</span> BTREE,
 Â <span class="hljs-keyword">UNIQUE</span> KEY `uk_user_no` (`user_no`) <span class="hljs-keyword">USING</span> BTREE
) ENGINE<span class="hljs-operator">=</span>InnoDB AUTO_INCREMENT<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4 ROW_FORMAT<span class="hljs-operator">=</span><span class="hljs-keyword">DYNAMIC</span>;
</code></pre>
<h3 data-id="heading-4">2.3 åŸºç¡€é…ç½®ç”Ÿæˆä»£ç </h3>
<p>MPGæä¾›äº†æµç•…çš„Builderæ¨¡å¼APIï¼Œè®©é…ç½®è¿‡ç¨‹ç›´è§‚æ˜“æ‡‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public class CodeGeneratorTest {
â€‹
 Â  Â public static void <span class="hljs-selector-tag">main</span>(String[] args) {
 Â  Â  Â  Â <span class="hljs-comment">// ä½¿ç”¨ FastAutoGenerator å¿«é€Ÿé…ç½®ä»£ç ç”Ÿæˆå™¨</span>
 Â  Â  Â  Â FastAutoGenerator<span class="hljs-selector-class">.create</span>("jdbc:mysql://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">3306</span>/db_test?useUnicode=true&amp;characterEncoding=utf-<span class="hljs-number">8</span>&amp;zeroDateTimeBehavior=convertToNull&amp;allowMultiQueries=true",
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â "root",
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â "root")
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.globalConfig</span>(builder -&gt; { Â // å…¨å±€é…ç½®
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â builder.author("ZFJ") <span class="hljs-comment">// è®¾ç½®ä½œè€…</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.commentDate</span>("yyyy-MM-dd") Â <span class="hljs-comment">// è®¾ç½®æ—¥æœŸ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.enableSpringdoc</span>() Â <span class="hljs-comment">// å¼€å¯openapi3æ–‡æ¡£æ³¨é‡Š</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.outputDir</span>("src/main/java") Â <span class="hljs-comment">// è¾“å‡ºç›®å½•</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.disableOpenDir</span>(); <span class="hljs-comment">// ä¸æ‰“å¼€è·¯å¾„</span>
 Â  Â  Â  Â  Â  Â  Â   })
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.packageConfig</span>(builder -&gt; {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â builder.parent("com.shepherd.example") <span class="hljs-comment">// è®¾ç½®çˆ¶åŒ…å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.entity</span>("entity") <span class="hljs-comment">// è®¾ç½®entityå®ä½“ç±»åŒ…å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.mapper</span>("dao") <span class="hljs-comment">// è®¾ç½®Mapperæ¥å£åŒ…å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.service</span>("service") <span class="hljs-comment">// è®¾ç½®Serviceæ¥å£åŒ…å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.serviceImpl</span>("service.impl") <span class="hljs-comment">// è®¾ç½®Serviceå®ç°ç±»åŒ…å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.xml</span>("mappers"); <span class="hljs-comment">// è®¾ç½® MapperXMLæ–‡ä»¶åŒ…å</span>
 Â  Â  Â  Â  Â  Â  Â   })
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.strategyConfig</span>(builder -&gt; {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â builder.addInclude("tb_user") <span class="hljs-comment">// è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.addTablePrefix</span>("tb_") <span class="hljs-comment">// æ·»åŠ è¡¨å‰ç¼€</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è®¾ç½®å®ä½“ç±»</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.entityBuilder</span>()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.enableLombok</span>(new ClassAnnotationAttributes("@Data","lombok.Data")) <span class="hljs-comment">// å¯ç”¨ Lombok</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.enableTableFieldAnnotation</span>() <span class="hljs-comment">// å¯ç”¨å­—æ®µæ³¨è§£</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.javaTemplate</span>("/templates/entity.java") <span class="hljs-comment">// è®¾ç½®å®ä½“ç±»æ¨¡æ¿</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è®¾ç½®mapperæ¥å£</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.mapperBuilder</span>()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.mapperTemplate</span>("/templates/mapper.java") <span class="hljs-comment">// è®¾ç½®mapperç›®æ ‡</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.convertMapperFileName</span>((entityName -&gt; entityName + "DAO")) <span class="hljs-comment">// è®¾ç½®mapperæ¥å£æ–‡ä»¶å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.enableBaseResultMap</span>()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.enableBaseColumnList</span>()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è®¾ç½®serviceæ¥å£</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.serviceBuilder</span>()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.serviceTemplate</span>("/templates/service.java") <span class="hljs-comment">// è®¾ç½®Serviceæ¨¡æ¿</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.convertServiceFileName</span>((entityName -&gt; entityName + "Service")) <span class="hljs-comment">// è®¾ç½®serviceæ–‡ä»¶å</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.serviceImplTemplate</span>("/templates/serviceImpl.java") <span class="hljs-comment">// è®¾ç½®ServiceImplæ¨¡æ¿</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è®¾ç½®controllerç±»</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.controllerBuilder</span>()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.template</span>("/templates/controller.java")
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.enableRestStyle</span>(); <span class="hljs-comment">// å¯ç”¨ REST é£æ ¼</span>
 Â  Â  Â  Â  Â  Â  Â   })
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.templateEngine</span>(new FreemarkerTemplateEngine()) <span class="hljs-comment">// ä½¿ç”¨ Freemarker æ¨¡æ¿å¼•æ“</span>
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-class">.execute</span>(); <span class="hljs-comment">// æ‰§è¡Œç”Ÿæˆ</span>
 Â   }
}
â€‹
</code></pre>
<p>è¿è¡Œç”Ÿæˆä»£ç æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b54f204e6714cad84ed98c601255951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2hlcGhlcmQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765421861&amp;x-signature=6uWNkITxeHVQGqNRfn97GG3vgbE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">3.æ ¸å¿ƒé…ç½®</h2>
<h3 data-id="heading-6">3.1 å…¨å±€é…ç½®ï¼ˆGlobalConfigï¼‰</h3>
<p>å…¨å±€é…ç½®æä¾›äº†å¯¹ä»£ç ç”Ÿæˆå™¨æ•´ä½“è¡Œä¸ºçš„è®¾ç½®ï¼ŒåŒ…æ‹¬è¾“å‡ºç›®å½•ã€ä½œè€…ä¿¡æ¯ã€Kotlin æ¨¡å¼ã€Swagger é›†æˆã€Springdocã€æ—¶é—´ç±»å‹ç­–ç•¥ç­‰</p>


















































<table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>disableOpenDir()</td><td>ç¦æ­¢è‡ªåŠ¨æ‰“å¼€è¾“å‡ºç›®å½•</td><td>é»˜è®¤å€¼: <code>true</code></td></tr><tr><td>outputDir(String)</td><td>æŒ‡å®šä»£ç ç”Ÿæˆçš„è¾“å‡ºç›®å½•</td><td>å¦‚ï¼šSystem.getProperty("user.dir") + "/src/main/java"</td></tr><tr><td>author(String)</td><td>è®¾ç½®ä½œè€…å</td><td><code>baomidou</code> é»˜è®¤å€¼: é…ç½®æ–‡ä»¶ä¸­çš„ä½œè€…å</td></tr><tr><td>enableKotlin()</td><td>å¼€å¯ Kotlin æ¨¡å¼</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>enableSwagger()</td><td>å¼€å¯ Swagger æ¨¡å¼</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>dateType(DateType)</td><td>è®¾ç½®æ—¶é—´ç±»å‹ç­–ç•¥</td><td><code>DateType.ONLY_DATE</code> é»˜è®¤å€¼: <code>DateType.TIME_PACK</code></td></tr><tr><td>commentDate(String)</td><td>è®¾ç½®æ³¨é‡Šæ—¥æœŸæ ¼å¼</td><td>é»˜è®¤å€¼: <code>yyyy-MM-dd</code></td></tr><tr><td>enableSpringdoc</td><td>å¼€å¯Springdocæ–‡æ¡£</td><td>é»˜è®¤å€¼ï¼š<code>false</code></td></tr></tbody></table>
<h3 data-id="heading-7">3.2 ç­–ç•¥é…ç½®ï¼ˆStrategyConfigï¼‰</h3>
<p>ç­–ç•¥é…ç½®æ˜¯MPGçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®ƒå…è®¸å¼€å‘è€…æ ¹æ®é¡¹ç›®éœ€æ±‚å®šåˆ¶ä»£ç ç”Ÿæˆçš„è§„åˆ™ï¼ŒåŒ…æ‹¬å‘½åæ¨¡å¼ã€è¡¨å’Œå­—æ®µçš„è¿‡æ»¤ã€ä»¥åŠå„ä¸ªä»£ç æ¨¡å—çš„ç”Ÿæˆç­–ç•¥ã€‚</p>































































































<table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>enableCapitalMode</td><td>å¼€å¯å¤§å†™å‘½å</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>enableSkipView</td><td>å¼€å¯è·³è¿‡è§†å›¾</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>disableSqlFilter</td><td>ç¦ç”¨ SQL è¿‡æ»¤</td><td>é»˜è®¤å€¼: <code>true</code>ï¼Œå¦‚æœ SQL è¿‡æ»¤ä¸æ”¯æŒï¼Œå¯ä»¥å…³é—­æ­¤é€‰é¡¹</td></tr><tr><td>enableSchema</td><td>å¯ç”¨ schema</td><td>é»˜è®¤å€¼: <code>false</code>ï¼Œå¤š schema åœºæ™¯æ—¶å¯ç”¨</td></tr><tr><td>likeTable(LikeTable)</td><td>æ¨¡ç³Šè¡¨åŒ¹é…(SQL è¿‡æ»¤)</td><td>ä¸ <code>notLikeTable</code> äº’æ–¥ï¼Œåªèƒ½é…ç½®ä¸€é¡¹</td></tr><tr><td>notLikeTable(LikeTable)</td><td>æ¨¡ç³Šè¡¨æ’é™¤(SQL è¿‡æ»¤)</td><td>ä¸ <code>likeTable</code> äº’æ–¥ï¼Œåªèƒ½é…ç½®ä¸€é¡¹</td></tr><tr><td>addInclude(Stringâ€¦)</td><td>å¢åŠ è¡¨åŒ¹é…(å†…å­˜è¿‡æ»¤)</td><td>ä¸ <code>addExclude</code> äº’æ–¥ï¼Œåªèƒ½é…ç½®ä¸€é¡¹ï¼Œæ”¯æŒæ­£åˆ™åŒ¹é…ï¼Œå¦‚ <code>^t_.*</code> åŒ¹é…æ‰€æœ‰ä»¥ <code>t_</code> å¼€å¤´çš„è¡¨å</td></tr><tr><td>addExclude(Stringâ€¦)</td><td>å¢åŠ è¡¨æ’é™¤åŒ¹é…(å†…å­˜è¿‡æ»¤)</td><td>ä¸ <code>addInclude</code> äº’æ–¥ï¼Œåªèƒ½é…ç½®ä¸€é¡¹ï¼Œæ”¯æŒæ­£åˆ™åŒ¹é…ï¼Œå¦‚ <code>.*st$</code> åŒ¹é…æ‰€æœ‰ä»¥ <code>st</code> ç»“å°¾çš„è¡¨å</td></tr><tr><td>addTablePrefix(Stringâ€¦)</td><td>å¢åŠ è¿‡æ»¤è¡¨å‰ç¼€</td><td/></tr><tr><td>addTableSuffix(Stringâ€¦)</td><td>å¢åŠ è¿‡æ»¤è¡¨åç¼€</td><td/></tr><tr><td>addFieldPrefix(Stringâ€¦)</td><td>å¢åŠ è¿‡æ»¤å­—æ®µå‰ç¼€</td><td/></tr><tr><td>addFieldSuffix(Stringâ€¦)</td><td>å¢åŠ è¿‡æ»¤å­—æ®µåç¼€</td><td/></tr><tr><td>outputFile</td><td>å†…ç½®æ¨¡æ¿è¾“å‡ºæ–‡ä»¶å¤„ç†</td><td>å‚è€ƒæµ‹è¯•ç”¨ä¾‹ <code>H2CodeGeneratorTest.testOutputFile</code></td></tr><tr><td>entityBuilder</td><td>å®ä½“ç­–ç•¥é…ç½®</td><td/></tr><tr><td>controllerBuilder</td><td>Controller ç­–ç•¥é…ç½®</td><td/></tr><tr><td>mapperBuilder</td><td>Mapper ç­–ç•¥é…ç½®</td><td/></tr><tr><td>serviceBuilder</td><td>Service ç­–ç•¥é…ç½®</td><td/></tr></tbody></table>
<p>å¯ä»¥çœ‹åˆ°ç­–ç•¥é…ç½®å¯¹æä¾›ç»Ÿä¸€çš„ç”Ÿæˆè§„åˆ™é…ç½®ï¼Œè¿˜æ”¯æŒ<code>entity, mapper, service, controller</code>ç­‰ç±»åˆ†åˆ«é…ç½®ï¼Œæ¡ç†æ¸…æ™°ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚ç¢äºç¯‡å¹…é—®é¢˜ï¼Œæˆ‘è¿™é‡Œå°±åªå±•ç¤ºä¸€ä¸‹å®ä½“ç±»entityçš„ç”Ÿæˆç­–ç•¥é…ç½®ï¼Œå…¶ä»–çš„è¯¦è§å®˜ç½‘æ–‡æ¡£ã€‚</p>
<p><strong>Entity ç­–ç•¥é…ç½®</strong></p>
<p>å®ä½“ç­–ç•¥é…ç½®ç”¨äºå®šåˆ¶å®ä½“ç±»çš„ç”Ÿæˆè§„åˆ™ï¼ŒåŒ…æ‹¬çˆ¶ç±»ã€åºåˆ—åŒ–ç‰ˆæœ¬ UIDã€æ–‡ä»¶è¦†ç›–ã€å­—æ®µå¸¸é‡ã€é“¾å¼æ¨¡å‹ã€Lombok æ¨¡å‹ç­‰</p>
































































































































































<table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>nameConvert(INameConvert)</td><td>åç§°è½¬æ¢å®ç°</td><td/></tr><tr><td>superClass(Class&lt;?&gt;)</td><td>è®¾ç½®çˆ¶ç±»</td><td><code>BaseEntity.class</code></td></tr><tr><td>superClass(String)</td><td>è®¾ç½®çˆ¶ç±»</td><td><code>com.baomidou.global.BaseEntity</code></td></tr><tr><td>disableSerialVersionUID</td><td>ç¦ç”¨ç”Ÿæˆ serialVersionUID</td><td>é»˜è®¤å€¼: <code>true</code></td></tr><tr><td>enableFileOverride</td><td>è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>enableColumnConstant</td><td>å¼€å¯ç”Ÿæˆå­—æ®µå¸¸é‡</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>enableChainModel</td><td>å¼€å¯é“¾å¼æ¨¡å‹</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>enableLombok</td><td>å¼€å¯ Lombok æ¨¡å‹</td><td>é»˜è®¤å€¼: <code>false</code> é»˜è®¤åªæœ‰Getter,Setter,è‡ª3.5.10åå¢åŠ ToString</td></tr><tr><td>enableRemoveIsPrefix</td><td>å¼€å¯ Boolean ç±»å‹å­—æ®µç§»é™¤ is å‰ç¼€</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>enableTableFieldAnnotation</td><td>å¼€å¯ç”Ÿæˆå®ä½“æ—¶ç”Ÿæˆå­—æ®µæ³¨è§£</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>enableActiveRecord</td><td>å¼€å¯ ActiveRecord æ¨¡å‹</td><td>é»˜è®¤å€¼: <code>false</code></td></tr><tr><td>versionColumnName(String)</td><td>ä¹è§‚é”å­—æ®µå(æ•°æ®åº“å­—æ®µ)</td><td><code>versionColumnName</code> ä¸ <code>versionPropertyName</code> äºŒé€‰ä¸€å³å¯</td></tr><tr><td>versionPropertyName(String)</td><td>ä¹è§‚é”å±æ€§å(å®ä½“)</td><td><code>versionColumnName</code> ä¸ <code>versionPropertyName</code> äºŒé€‰ä¸€å³å¯</td></tr><tr><td>logicDeleteColumnName(String)</td><td>é€»è¾‘åˆ é™¤å­—æ®µå(æ•°æ®åº“å­—æ®µ)</td><td><code>logicDeleteColumnName</code> ä¸ <code>logicDeletePropertyName</code> äºŒé€‰ä¸€å³å¯</td></tr><tr><td>logicDeletePropertyName(String)</td><td>é€»è¾‘åˆ é™¤å±æ€§å(å®ä½“)</td><td><code>logicDeleteColumnName</code> ä¸ <code>logicDeletePropertyName</code> äºŒé€‰ä¸€å³å¯</td></tr><tr><td>naming</td><td>æ•°æ®åº“è¡¨æ˜ å°„åˆ°å®ä½“çš„å‘½åç­–ç•¥</td><td>é»˜è®¤ä¸‹åˆ’çº¿è½¬é©¼å³°å‘½å: <code>NamingStrategy.underline_to_camel</code></td></tr><tr><td>columnNaming</td><td>æ•°æ®åº“è¡¨å­—æ®µæ˜ å°„åˆ°å®ä½“çš„å‘½åç­–ç•¥</td><td>é»˜è®¤ä¸º <code>null</code>ï¼ŒæœªæŒ‡å®šæŒ‰ç…§ <code>naming</code> æ‰§è¡Œ</td></tr><tr><td>addSuperEntityColumns(Stringâ€¦)</td><td>æ·»åŠ çˆ¶ç±»å…¬å…±å­—æ®µ</td><td/></tr><tr><td>addIgnoreColumns(Stringâ€¦)</td><td>æ·»åŠ å¿½ç•¥å­—æ®µ</td><td/></tr><tr><td>addTableFills(IFillâ€¦)</td><td>æ·»åŠ è¡¨å­—æ®µå¡«å……</td><td/></tr><tr><td>addTableFills(List)</td><td>æ·»åŠ è¡¨å­—æ®µå¡«å……</td><td/></tr><tr><td>idType(IdType)</td><td>å…¨å±€ä¸»é”®ç±»å‹</td><td/></tr><tr><td>convertFileName(ConverterFileName)</td><td>è½¬æ¢æ–‡ä»¶åç§°</td><td/></tr><tr><td>formatFileName(String)</td><td>æ ¼å¼åŒ–æ–‡ä»¶åç§°</td><td/></tr><tr><td>toString(boolean)</td><td>æ˜¯å¦ç”ŸæˆToStringæ–¹æ³•</td><td>é»˜è®¤ä¸ºtrue, è‡ª3.5.10å¼€å§‹</td></tr><tr><td>fieldUseJavaDoc</td><td>å¯ç”¨å­—æ®µæ–‡æ¡£æ³¨é‡Š</td><td>é»˜è®¤ä¸ºtrue, è‡ª3.5.10å¼€å§‹</td></tr><tr><td>classAnnotations(ClassAnnotationAttributes)</td><td>æ·»åŠ å®ä½“ç±»æ³¨è§£</td><td>è‡ª3.5.10å¼€å§‹</td></tr><tr><td>tableAnnotationHandler</td><td>è¡¨æ³¨è§£å¤„ç†å™¨</td><td>è‡ª3.5.10å¼€å§‹</td></tr><tr><td>tableFieldAnnotationHandler</td><td>å­—æ®µæ³¨è§£å¤„ç†å™¨</td><td>è‡ª3.5.10å¼€å§‹</td></tr><tr><td>enableLombok(ClassAnnotationAttributesâ€¦)</td><td>å¼€å¯ Lombok æ¨¡å‹å¹¶è®¾ç½®Lombokæ³¨è§£</td><td>è‡ª3.5.10å¼€å§‹. ä½¿ç”¨@Dataç¤ºä¾‹: enableLombok(new ClassAnnotationAttributes(â€œ@Dataâ€,â€œlombok.Dataâ€))</td></tr></tbody></table>
<p>å½“ç„¶äº†é™¤äº†ä¸Šé¢æåˆ°çš„å…¨å±€é…ç½®å’Œç­–ç•¥é…ç½®ï¼Œè¿˜æœ‰æ•°æ®æºé…ç½®ï¼ŒåŒ…åé…ç½®ç­‰ç­‰ï¼Œä½†è¿™äº›éƒ½æ¯”è¾ƒç®€å•ï¼Œé¡¾åæ€ä¹‰æ•°æ®æºé…ç½®å°±æ˜¯é…ç½®æ•°æ®æºçš„ï¼ŒåŒ…åé…ç½®å°±æ˜¯é…ç½®ç”Ÿæˆä»£ç ç±»çš„åŒ…åè·¯å¾„ï¼Œå…·ä½“æ–¹æ³•apiè¿˜æ˜¯è¯·ç§»æ­¥å®˜ç½‘æŸ¥çœ‹</p>
<h2 data-id="heading-8">4. è‡ªå®šä¹‰æ¨¡æ¿ï¼šæ‰“é€ å›¢é˜Ÿä¸“å±ä»£ç é£æ ¼</h2>
<h3 data-id="heading-9">4.1 è‡ªå®šä¹‰DTOç”Ÿæˆæ¨¡æ¿</h3>
<p>MPGé»˜è®¤ä¸æä¾›DTOæ¨¡æ¿ï¼Œä½†æˆ‘ä»¬å¯ä»¥è½»æ¾æ‰©å±•ã€‚åˆ›å»º<code>templates/entityDTO.java.ftl</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">package <span class="hljs-variable">${package.Entity}</span>;
â€‹
&lt;<span class="hljs-comment">#list importEntityFrameworkPackages as pkg&gt;</span>
import <span class="hljs-variable">${pkg}</span>;
&lt;/<span class="hljs-comment">#list&gt;</span>
â€‹
&lt;<span class="hljs-comment">#list importEntityJavaPackages as pkg&gt;</span>
import <span class="hljs-variable">${pkg}</span>;
&lt;/<span class="hljs-comment">#list&gt;</span>
â€‹
/**
 * &lt;p&gt;
 * <span class="hljs-variable">${table.comment!}</span>
 * &lt;/p&gt;
 *
 * @author <span class="hljs-variable">${author}</span>
 * @since <span class="hljs-variable">${date}</span>
 */
@Data
@Schema(description = <span class="hljs-string">"<span class="hljs-variable">${table.comment!}</span>"</span>)
public class <span class="hljs-variable">${entity}</span>DTO {
&lt;<span class="hljs-comment">#-- ----------  BEGIN å­—æ®µå¾ªç¯éå†  ----------&gt;</span>
&lt;<span class="hljs-comment">#list table.fields as field&gt;</span>
 Â   @Schema(description = <span class="hljs-string">"<span class="hljs-variable">${field.comment!}</span>"</span>)
 Â   private <span class="hljs-variable">${field.propertyType}</span> <span class="hljs-variable">${field.propertyName}</span>;
&lt;/<span class="hljs-comment">#list&gt;</span>
&lt;<span class="hljs-comment">#------------  END å­—æ®µå¾ªç¯éå†  ----------&gt;</span>
}
â€‹
</code></pre>
<p>å…³äºFreemarkeræ¨¡ç‰ˆçš„è¯­æ³•ï¼Œè¯·å¦è¡ŒæŸ¥é˜…èµ„æ–™ã€‚</p>
<p>åœ¨ä¸Šé¢ç”Ÿæˆç¤ºä¾‹ä»£ç ä¸­è¿½åŠ æ³¨å…¥é…ç½®ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-class">.injectionConfig</span>(injectConfig -&gt; {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">injectConfig</span><span class="hljs-selector-class">.customFile</span>(new CustomFile.<span class="hljs-built_in">Builder</span>()
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   .<span class="hljs-built_in">fileName</span>(<span class="hljs-string">"DTO.java"</span>) <span class="hljs-comment">// æ–‡ä»¶åç§°</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   .<span class="hljs-built_in">templatePath</span>(<span class="hljs-string">"templates/entityDTO.java.ftl"</span>) <span class="hljs-comment">//æŒ‡å®šç”Ÿæˆæ¨¡æ¿è·¯å¾„</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   .<span class="hljs-built_in">packageName</span>(<span class="hljs-string">"model.dto"</span>) <span class="hljs-comment">// åŒ…å,</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   .<span class="hljs-built_in">build</span>());
</code></pre>
<p>å†æ¬¡è¿è¡Œå°±èƒ½ç”Ÿæˆå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">@Data
@Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯"</span>)
public class UserDTO {
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"ä¸»é”®"</span>)
 Â  Â private Long id<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"ç¼–å·"</span>)
 Â  Â private String userNo<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"æ˜µç§°"</span>)
 Â  Â private String name<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"é‚®ç®±"</span>)
 Â  Â private String email<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"æ‰‹æœºå·"</span>)
 Â  Â private String phone<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"æ€§åˆ«  0ï¼šç”·ç”Ÿ Â  1ï¼šå¥³ç”Ÿ"</span>)
 Â  Â private Byte gender<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"å‡ºç”Ÿæ—¥æœŸ"</span>)
 Â  Â private LocalDateTime birthday<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"åˆ é™¤æ ‡å¿— 0ï¼šå¦  1ï¼šæ˜¯"</span>)
 Â  Â private Byte isDelete<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"åˆ›å»ºæ—¶é—´"</span>)
 Â  Â private LocalDateTime createTime<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"æ›´æ–°æ—¶é—´"</span>)
 Â  Â private LocalDateTime updateTime<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"åˆ›å»ºäºº"</span>)
 Â  Â private Long creator<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"æ›´æ–°äºº"</span>)
 Â  Â private Long updater<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"åœ°å€"</span>)
 Â  Â private String address<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"è§’è‰²id"</span>)
 Â  Â private String roleId<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"çˆ±å¥½"</span>)
 Â  Â private String hobby<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"ä¸ªäººè¯´æ˜"</span>)
 Â  Â private String remark<span class="hljs-comment">;</span>
 Â  Â @Schema(<span class="hljs-attr">description</span> = <span class="hljs-string">"å…¬å¸id"</span>)
 Â  Â private Long orgId<span class="hljs-comment">;</span>
}
â€‹
</code></pre>
<h3 data-id="heading-10">4.2 å®šåˆ¶åŠŸèƒ½ä¸°å¯Œçš„Controlleræ¨¡æ¿</h3>
<p>é»˜è®¤ç”Ÿæˆçš„Controlleræ¯”è¾ƒåŸºç¡€ï¼Œå¦‚æœä¸šåŠ¡çš„CRUDä»£ç æ²¡æœ‰åŒ…å«å¤æ‚å¤„ç†é€»è¾‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šåˆ¶ä»£ç å‡å°‘ç¼–ç é‡å¤ï¼Œåˆ›å»ºæ›´å®ç”¨çš„æ¨¡æ¿<code>templates/controller.java.ftl</code>ï¼š</p>
<pre><code class="hljs language-less" lang="less">&lt;<span class="hljs-selector-id">#assign</span> <span class="hljs-selector-tag">serviceNameLower</span> = <span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.serviceName</span>?<span class="hljs-selector-tag">uncap_first</span>&gt;
&lt;<span class="hljs-selector-id">#assign</span> <span class="hljs-selector-tag">entityNameLower</span> = <span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>?<span class="hljs-selector-tag">uncap_first</span>&gt;
â€‹
<span class="hljs-selector-tag">package</span> ${<span class="hljs-selector-tag">package</span><span class="hljs-selector-class">.Controller</span>};
â€‹
<span class="hljs-selector-tag">import</span> ${<span class="hljs-selector-tag">package</span><span class="hljs-selector-class">.Service</span>}.${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.serviceName</span>};
<span class="hljs-selector-tag">import</span> ${<span class="hljs-selector-tag">package</span><span class="hljs-selector-class">.Param</span>}.${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">Param</span>;
<span class="hljs-selector-tag">import</span> ${<span class="hljs-selector-tag">package</span><span class="hljs-selector-class">.Query</span>}.${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">Query</span>;
<span class="hljs-selector-tag">import</span> ${<span class="hljs-selector-tag">package</span><span class="hljs-selector-class">.VO</span>}.${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">VO</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.plasticene</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.common</span><span class="hljs-selector-class">.pojo</span><span class="hljs-selector-class">.ResponseVO</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">io</span><span class="hljs-selector-class">.swagger</span><span class="hljs-selector-class">.v3</span><span class="hljs-selector-class">.oas</span><span class="hljs-selector-class">.annotations</span><span class="hljs-selector-class">.Operation</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">io</span><span class="hljs-selector-class">.swagger</span><span class="hljs-selector-class">.v3</span><span class="hljs-selector-class">.oas</span><span class="hljs-selector-class">.annotations</span><span class="hljs-selector-class">.tags</span><span class="hljs-selector-class">.Tag</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">jakarta</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Resource</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.validation</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Validated</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.bind</span><span class="hljs-selector-class">.annotation</span>.*;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.List</span>;
â€‹
â€‹
<span class="hljs-comment">/**
 * &lt;p&gt;
 * ${table.comment!}
 * &lt;/p&gt;
 *
 * @author ${author}
 * @since ${date}
 */</span>
@<span class="hljs-selector-tag">RestController</span>
@<span class="hljs-selector-tag">RequestMapping</span>(<span class="hljs-string">"&lt;#if package.ModuleName?? &amp;&amp; package.ModuleName != "</span><span class="hljs-string">"&gt;/${package.ModuleName}&lt;/#if&gt;/&lt;#if controllerMappingHyphenStyle&gt;${controllerMappingHyphen}&lt;#else&gt;${table.entityPath}&lt;/#if&gt;"</span>)
@<span class="hljs-selector-tag">Tag</span>(name = <span class="hljs-string">"${table.comment!}"</span>)
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> ${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.controllerName</span>} {
 Â   <span class="hljs-variable">@Resource</span>
 Â   private ${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.serviceName</span>} ${<span class="hljs-selector-tag">serviceNameLower</span>};
â€‹
 Â   @<span class="hljs-selector-tag">PostMapping</span>
 Â   @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"åˆ›å»º"</span>)
 Â   <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">Long</span>&gt; <span class="hljs-selector-tag">create</span>(<span class="hljs-variable">@RequestBody</span> <span class="hljs-variable">@Validated</span> ${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">Param</span> ${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">Param</span>) {
 Â  Â  Â   <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">id</span> = ${<span class="hljs-selector-tag">serviceNameLower</span>}<span class="hljs-selector-class">.create</span>(${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">Param</span>);
 Â  Â  Â  Â  <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>(id);
 Â   }
â€‹
 Â   @<span class="hljs-selector-tag">PutMapping</span>
 Â   @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"ä¿®æ”¹"</span>)
 Â   <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">Void</span>&gt; <span class="hljs-selector-tag">update</span>(<span class="hljs-variable">@RequestBody</span> <span class="hljs-variable">@Validated</span> ${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">Param</span> ${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">Param</span>) {
 Â  Â  Â   ${<span class="hljs-selector-tag">serviceNameLower</span>}<span class="hljs-selector-class">.update</span>(${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">Param</span>);
 Â  Â  Â   <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>();
 Â   }
â€‹
 Â   @<span class="hljs-selector-tag">DeleteMapping</span>
 Â   @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"åˆ é™¤"</span>)
 Â   <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">Void</span>&gt; <span class="hljs-selector-tag">delete</span>(<span class="hljs-variable">@RequestBody</span> List&lt;Long&gt; idList) {
 Â  Â  Â   ${<span class="hljs-selector-tag">serviceNameLower</span>}<span class="hljs-selector-class">.delete</span>(idList);
 Â  Â  Â   <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>();
 Â   }
â€‹
 Â   @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/page"</span>)
 Â   @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"åˆ†é¡µ"</span>)
 Â   <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">PageResult</span>&lt;${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">VO</span>&gt;&gt; <span class="hljs-selector-tag">page</span>(${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">Query</span> ${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">Quey</span>) {
 Â  Â  Â   <span class="hljs-selector-tag">PageResult</span>&lt;${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">VO</span>&gt; <span class="hljs-selector-tag">pageVO</span> = ${<span class="hljs-selector-tag">serviceNameLower</span>}<span class="hljs-selector-class">.page</span>(${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">Query</span>);
 Â  Â  Â   <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>(pageVO);
 Â   }
â€‹
 Â   @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/{id}"</span>)
 Â   @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"è¯¦æƒ…"</span>)
 Â   <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">VO</span>&gt; <span class="hljs-selector-tag">detail</span>(<span class="hljs-variable">@PathVariable</span>(<span class="hljs-string">"id"</span>) Long id) {
 Â  Â  Â   ${<span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.entityName</span>}<span class="hljs-selector-tag">VO</span> ${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">VO</span> = ${<span class="hljs-selector-tag">serviceNameLower</span>}<span class="hljs-selector-class">.detail</span>(id);
 Â  Â  Â   <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>(${<span class="hljs-selector-tag">entityNameLower</span>}<span class="hljs-selector-tag">VO</span>);
 Â   }
â€‹
}
</code></pre>
<p>å†æ¬¡è¿è¡Œä¸Šé¢ç”Ÿæˆç¤ºä¾‹ä»£ç ï¼š<code>UserController</code></p>
<pre><code class="hljs language-less" lang="less">â€‹
<span class="hljs-selector-tag">package</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.shepherd</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.controller</span>;
â€‹
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.shepherd</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.service</span><span class="hljs-selector-class">.UserService</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.shepherd</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.model</span><span class="hljs-selector-class">.param</span><span class="hljs-selector-class">.UserParam</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.shepherd</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.model</span><span class="hljs-selector-class">.query</span><span class="hljs-selector-class">.UserQuery</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.shepherd</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.model</span><span class="hljs-selector-class">.vo</span><span class="hljs-selector-class">.UserVO</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.plasticene</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.common</span><span class="hljs-selector-class">.pojo</span><span class="hljs-selector-class">.ResponseVO</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">io</span><span class="hljs-selector-class">.swagger</span><span class="hljs-selector-class">.v3</span><span class="hljs-selector-class">.oas</span><span class="hljs-selector-class">.annotations</span><span class="hljs-selector-class">.Operation</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">io</span><span class="hljs-selector-class">.swagger</span><span class="hljs-selector-class">.v3</span><span class="hljs-selector-class">.oas</span><span class="hljs-selector-class">.annotations</span><span class="hljs-selector-class">.tags</span><span class="hljs-selector-class">.Tag</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">jakarta</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Resource</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.validation</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Validated</span>;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.bind</span><span class="hljs-selector-class">.annotation</span>.*;
<span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.List</span>;
â€‹
â€‹
<span class="hljs-comment">/**
 * &lt;p&gt;
 * ç”¨æˆ·ä¿¡æ¯
 * &lt;/p&gt;
 *
 * @author ZFJ
 * @since 2025-12-03
 */</span>
@<span class="hljs-selector-tag">RestController</span>
@<span class="hljs-selector-tag">RequestMapping</span>(<span class="hljs-string">"/user"</span>)
@<span class="hljs-selector-tag">Tag</span>(name = <span class="hljs-string">"ç”¨æˆ·ä¿¡æ¯"</span>)
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">UserController</span> {
 Â  Â <span class="hljs-variable">@Resource</span>
 Â  Â private UserService userService;
â€‹
 Â  Â <span class="hljs-variable">@PostMapping</span>
 Â  Â <span class="hljs-variable">@Operation</span>(summary = <span class="hljs-string">"åˆ›å»º"</span>)
 Â  Â public ResponseVO&lt;Long&gt; <span class="hljs-built_in">create</span>(<span class="hljs-variable">@RequestBody</span> <span class="hljs-variable">@Validated</span> UserParam userParam) {
 Â  Â  Â  Â <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">id</span> = <span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.create</span>(userParam);
 Â  Â  Â  Â  <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>(id);
 Â   }
â€‹
 Â  Â @<span class="hljs-selector-tag">PutMapping</span>
 Â  Â @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"ä¿®æ”¹"</span>)
 Â  Â <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">Void</span>&gt; <span class="hljs-selector-tag">update</span>(<span class="hljs-variable">@RequestBody</span> <span class="hljs-variable">@Validated</span> UserParam userParam) {
 Â  Â  Â  Â <span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.update</span>(userParam);
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>();
 Â   }
â€‹
 Â  Â @<span class="hljs-selector-tag">DeleteMapping</span>
 Â  Â @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"åˆ é™¤"</span>)
 Â  Â <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">Void</span>&gt; <span class="hljs-selector-tag">delete</span>(<span class="hljs-variable">@RequestBody</span> List&lt;Long&gt; idList) {
 Â  Â  Â  Â <span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.delete</span>(idList);
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>();
 Â   }
â€‹
 Â  Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/page"</span>)
 Â  Â @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"åˆ†é¡µ"</span>)
 Â  Â <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">PageResult</span>&lt;<span class="hljs-selector-tag">UserVO</span>&gt;&gt; <span class="hljs-selector-tag">page</span>(UserQuery userQuey) {
 Â  Â  Â  Â <span class="hljs-selector-tag">PageResult</span>&lt;<span class="hljs-selector-tag">UserVO</span>&gt; <span class="hljs-selector-tag">pageVO</span> = <span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.page</span>(userQuery);
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>(pageVO);
 Â   }
â€‹
 Â  Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/{id}"</span>)
 Â  Â @<span class="hljs-selector-tag">Operation</span>(summary = <span class="hljs-string">"è¯¦æƒ…"</span>)
 Â  Â <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">ResponseVO</span>&lt;<span class="hljs-selector-tag">UserVO</span>&gt; <span class="hljs-selector-tag">detail</span>(<span class="hljs-variable">@PathVariable</span>(<span class="hljs-string">"id"</span>) Long id) {
 Â  Â  Â  Â <span class="hljs-selector-tag">UserVO</span> <span class="hljs-selector-tag">userVO</span> = <span class="hljs-selector-tag">userService</span><span class="hljs-selector-class">.detail</span>(id);
 Â  Â  Â  Â <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ResponseVO</span><span class="hljs-selector-class">.success</span>(userVO);
 Â   }
â€‹
}
â€‹
</code></pre>
<p>è‡³äºserviceå±‚çš„ä¸šåŠ¡å®šåˆ¶ä»£ç ï¼Œå¤§å®¶è‡ªè¡Œå°è¯•å®šåˆ¶ä¸€ä¸‹å“ˆã€‚</p>
<h2 data-id="heading-11">5.æ·±å…¥åŸç†ï¼šMPGæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<h3 data-id="heading-12">5.1 æ ¸å¿ƒç±»ç»“æ„</h3>
<pre><code class="hljs language-arduino" lang="arduino">AutoGenerator Â  Â  Â  Â  Â  Â   <span class="hljs-comment">// ä»£ç ç”Ÿæˆå™¨å…¥å£</span>
â”œâ”€â”€ ConfigBuilder Â  Â  Â  Â   <span class="hljs-comment">// é…ç½®æ„å»ºå™¨</span>
â”œâ”€â”€ TemplateEngine Â  Â  Â  Â  <span class="hljs-comment">// æ¨¡æ¿å¼•æ“æŠ½è±¡</span>
â”‚ Â  â”œâ”€â”€ VelocityTemplateEngine
â”‚ Â  â”œâ”€â”€ FreemarkerTemplateEngine
â”‚ Â  â””â”€â”€ BeetlTemplateEngine
â””â”€â”€ InjectionConfig Â  Â  Â   <span class="hljs-comment">// æ³¨å…¥é…ç½®</span>
</code></pre>
<h3 data-id="heading-13">5.2 ä»£ç ç”Ÿæˆæµç¨‹</h3>
<ol>
<li><strong>é…ç½®è§£æ</strong>ï¼šè§£æå…¨å±€é…ç½®ã€æ•°æ®æºé…ç½®ã€åŒ…é…ç½®ã€ç­–ç•¥é…ç½®</li>
<li><strong>è¡¨ä¿¡æ¯è·å–</strong>ï¼šé€šè¿‡JDBCè·å–æ•°æ®åº“è¡¨ç»“æ„å’Œå­—æ®µä¿¡æ¯</li>
<li><strong>æ¨¡æ¿æ¸²æŸ“</strong>ï¼šä½¿ç”¨æ¨¡æ¿å¼•æ“å°†æ•°æ®æ¨¡å‹æ¸²æŸ“åˆ°æ¨¡æ¿æ–‡ä»¶ä¸­</li>
<li><strong>æ–‡ä»¶è¾“å‡º</strong>ï¼šå°†æ¸²æŸ“ç»“æœå†™å…¥åˆ°æŒ‡å®šç›®å½•</li>
</ol>
<h3 data-id="heading-14">5.3 å…³é”®æºç åˆ†æ</h3>
<p>è°ƒè¯•ä¸Šé¢ç”Ÿæˆä»£ç ç¤ºä¾‹ï¼Œç›´æ¥æ¥åˆ°<code>AutoGenerator</code>çš„æ‰§è¡Œæ–¹æ³•<code>#execute()</code></p>
<pre><code class="hljs language-kotlin" lang="kotlin"> <span class="hljs-keyword">public</span> void execute(AbstractTemplateEngine templateEngine) {
 Â  Â  Â  Â logger.debug(<span class="hljs-string">"==========================å‡†å¤‡ç”Ÿæˆæ–‡ä»¶...=========================="</span>);
 Â  Â  Â  Â 
 Â  Â  Â  Â <span class="hljs-comment">// å¦‚æœé…ç½®ä¿¡æ¯ä¸ºç©ºï¼Œåˆ™åˆ›å»ºæ–°çš„é…ç½®æ„å»ºå™¨</span>
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == <span class="hljs-keyword">this</span>.config) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.config = new ConfigBuilder(<span class="hljs-keyword">this</span>.packageInfo, <span class="hljs-keyword">this</span>.dataSource, <span class="hljs-keyword">this</span>.strategy, <span class="hljs-keyword">this</span>.template, <span class="hljs-keyword">this</span>.globalConfig, <span class="hljs-keyword">this</span>.injection);
 Â  Â  Â   }
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// å¦‚æœæ¨¡æ¿å¼•æ“ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„Velocityæ¨¡æ¿å¼•æ“</span>
 Â  Â  Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == templateEngine) {
 Â  Â  Â  Â  Â  Â templateEngine = new VelocityTemplateEngine();
 Â  Â  Â   }
â€‹
 Â  Â  Â  Â <span class="hljs-comment">// è®¾ç½®é…ç½®æ„å»ºå™¨å¹¶æ‰§è¡Œæ‰¹é‡è¾“å‡ºæ“ä½œ</span>
 Â  Â  Â  Â templateEngine.setConfigBuilder(<span class="hljs-keyword">this</span>.config);
 Â  Â  Â  Â templateEngine.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>.config).batchOutput().<span class="hljs-keyword">open</span>();
 Â  Â  Â  Â logger.debug(<span class="hljs-string">"==========================æ–‡ä»¶ç”Ÿæˆå®Œæˆï¼ï¼ï¼=========================="</span>);
 Â   }
</code></pre>
<p>æœ€ååˆ°ç”Ÿæˆå„ç±»ä»£ç æ–‡ä»¶çš„æ–¹æ³•<code>batchOutput()</code></p>
<pre><code class="hljs language-kotlin" lang="kotlin"> Â  Â <span class="hljs-comment">/**
 Â  Â  * æ‰¹é‡è¾“å‡ºæ¨¡æ¿æ–‡ä»¶
 Â  Â  * &lt;p&gt;
 Â  Â  * è¯¥æ–¹æ³•æ ¹æ®é…ç½®ä¿¡æ¯æ‰¹é‡ç”Ÿæˆä»£ç æ–‡ä»¶ï¼ŒåŒ…æ‹¬å®ä½“ç±»ã€Mapperã€Serviceã€Controllerç­‰æ–‡ä»¶ã€‚
 Â  Â  * å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š
 Â  Â  * 1. è·å–é…ç½®æ„å»ºå™¨å’Œè¡¨ä¿¡æ¯åˆ—è¡¨
 Â  Â  * 2. éå†æ¯å¼ è¡¨ï¼Œç”Ÿæˆå¯¹åº”çš„å¯¹è±¡æ˜ å°„å…³ç³»
 Â  Â  * 3. æ‰§è¡Œè‡ªå®šä¹‰æ–‡ä»¶è¾“å‡ºå‰çš„å›è°ƒå¤„ç†
 Â  Â  * 4. è¾“å‡ºå„ç±»ä»£ç æ–‡ä»¶
 Â  Â  *
 Â  Â  * <span class="hljs-doctag">@return</span> AbstractTemplateEngine æ¨¡æ¿å¼•æ“å®ä¾‹ï¼Œç”¨äºé“¾å¼è°ƒç”¨
 Â  Â  * <span class="hljs-doctag">@throws</span> RuntimeException å½“æ–‡ä»¶åˆ›å»ºå¤±è´¥æˆ–é…ç½®ä¿¡æ¯æœ‰è¯¯æ—¶æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-meta">@NotNull</span> AbstractTemplateEngine batchOutput() {
 Â  Â  Â  Â <span class="hljs-keyword">try</span> {
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è·å–é…ç½®æ„å»ºå™¨å®ä¾‹</span>
 Â  Â  Â  Â  Â  Â ConfigBuilder config = <span class="hljs-keyword">this</span>.getConfigBuilder();
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è·å–æ‰€æœ‰éœ€è¦å¤„ç†çš„è¡¨ä¿¡æ¯åˆ—è¡¨</span>
 Â  Â  Â  Â  Â  Â List&lt;TableInfo&gt; tableInfoList = config.getTableInfoList();
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â <span class="hljs-comment">// éå†æ‰€æœ‰è¡¨ä¿¡æ¯ï¼Œä¸ºæ¯å¼ è¡¨ç”Ÿæˆç›¸åº”çš„ä»£ç æ–‡ä»¶</span>
 Â  Â  Â  Â  Â  Â tableInfoList.forEach((tableInfo) -&gt; {
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ„å»ºå½“å‰è¡¨çš„å¯¹è±¡æ˜ å°„å…³ç³»ï¼Œç”¨äºæ¨¡æ¿æ¸²æŸ“</span>
 Â  Â  Â  Â  Â  Â  Â  Â Map&lt;String, Object&gt; objectMap = <span class="hljs-keyword">this</span>.getObjectMap(config, tableInfo);
 Â  Â  Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¤„ç†è‡ªå®šä¹‰æ³¨å…¥é…ç½®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</span>
 Â  Â  Â  Â  Â  Â  Â  Â Optional.ofNullable(config.getInjectionConfig()).ifPresent((t) -&gt; {
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// åœ¨è¾“å‡ºæ–‡ä»¶å‰æ‰§è¡Œè‡ªå®šä¹‰å›è°ƒå¤„ç†</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â t.beforeOutputFile(tableInfo, objectMap);
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// è¾“å‡ºè‡ªå®šä¹‰æ–‡ä»¶</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.outputCustomFile(t.getCustomFiles(), tableInfo, objectMap);
 Â  Â  Â  Â  Â  Â  Â   });
 Â  Â  Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æŒ‰é¡ºåºè¾“å‡ºå„ç±»æ ‡å‡†ä»£ç æ–‡ä»¶</span>
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.outputEntity(tableInfo, objectMap);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.outputMapper(tableInfo, objectMap);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.outputService(tableInfo, objectMap);
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-keyword">this</span>.outputController(tableInfo, objectMap);
 Â  Â  Â  Â  Â   });
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
 Â  Â  Â   } <span class="hljs-keyword">catch</span> (Exception e) {
 Â  Â  Â  Â  Â  Â <span class="hljs-keyword">throw</span> new RuntimeException(<span class="hljs-string">"æ— æ³•åˆ›å»ºæ–‡ä»¶ï¼Œè¯·æ£€æŸ¥é…ç½®ä¿¡æ¯ï¼"</span>, e);
 Â  Â  Â   }
 Â   }
â€‹
</code></pre>
<h2 data-id="heading-15">6.æ€»ç»“</h2>
<p>MyBatis-Plusä»£ç ç”Ÿæˆå™¨ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ã€æ‰©å±•æ€§æä½³çš„ä»£ç ç”Ÿæˆå·¥å…·ï¼Œé€šè¿‡åˆç†çš„é…ç½®ç­–ç•¥å’Œçµæ´»çš„è‡ªå®šä¹‰æ¨¡æ¿ï¼Œèƒ½å¤Ÿæ»¡è¶³ç»å¤§å¤šæ•°é¡¹ç›®çš„ä»£ç ç”Ÿæˆéœ€æ±‚ã€‚æ·±å…¥ç†è§£å…¶åº•å±‚åŸç†å¹¶æŒæ¡é«˜çº§åº”ç”¨æŠ€å·§ï¼Œä¸ä»…èƒ½å¤§å¹…æå‡å¼€å‘æ•ˆç‡ï¼Œæ›´èƒ½ç¡®ä¿å›¢é˜Ÿä»£ç çš„è§„èŒƒæ€§å’Œä¸€è‡´æ€§ã€‚</p>
<p>å¯¹äºåç«¯å¼€å‘è€…è€Œè¨€ï¼Œå®šåˆ¶ç¬¦åˆå›¢é˜Ÿè§„èŒƒçš„ä»£ç ç”Ÿæˆæ–¹æ¡ˆï¼Œä¸»è¦æœ‰ä¸¤ç§å®è·µè·¯å¾„ï¼š</p>
<p><strong>ğŸ“¦ æ–¹æ¡ˆä¸€ï¼šSpring Bootæ·±åº¦é›†æˆ</strong></p>
<ul>
<li>å°†ç”Ÿæˆç­–ç•¥å°è£…ä¸ºé…ç½®æ–‡ä»¶ï¼Œä¸é¡¹ç›®æ— ç¼é›†æˆ</li>
<li>æ”¯æŒä¸€é”®ç”Ÿæˆä»£ç åˆ°æŒ‡å®šé¡¹ç›®ç›®å½•</li>
<li>å¯è¿›ä¸€æ­¥å°è£…ä¸ºStarterï¼Œå®ç°å›¢é˜Ÿçº§æ ‡å‡†åŒ–</li>
</ul>
<p><strong>ğŸ”§ æ–¹æ¡ˆäºŒï¼šå·¥å…·ç±»çµæ´»å®šåˆ¶</strong></p>
<ul>
<li>æä¾›é«˜åº¦å¯é…ç½®çš„ä»£ç ç”Ÿæˆå·¥å…·ç±»</li>
<li>æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€è§„åˆ™è®¾ç½®</li>
<li>æ›´é€‚åˆå¤šé¡¹ç›®ã€å·®å¼‚åŒ–çš„ç”Ÿæˆéœ€æ±‚</li>
</ul>
<p><strong>ğŸ’¡ é‡è¦æé†’</strong></p>
<p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œæœ¬æ–‡æ—¨åœ¨ç³»ç»Ÿä»‹ç»MyBatis-Plusä»£ç ç”Ÿæˆå™¨çš„æŠ€æœ¯å®ç°ä¸æœ€ä½³å®è·µï¼Œå¹¶éé¼“åŠ±ç›²ç›®ä¾èµ–ä»£ç ç”Ÿæˆã€‚åœ¨å®é™…é¡¹ç›®ä¸­æ˜¯å¦é‡‡ç”¨ã€å¦‚ä½•é‡‡ç”¨ï¼Œè¿˜éœ€è¦ç»“åˆå…·ä½“çš„ä¸šåŠ¡åœºæ™¯ã€å›¢é˜Ÿè§„èŒƒå’ŒæŠ€æœ¯æ¶æ„æ¥å®¡æ…å†³ç­–ã€‚</p>
<p><strong>å…³é”®åœ¨äº</strong>ï¼šå·¥å…·æ˜¯ä¸ºäº†æå‡æ•ˆç‡ï¼Œè€Œå¥½çš„ä»£ç æ›´éœ€è¦å¼€å‘è€…çš„è®¾è®¡æ€ç»´å’Œä¸šåŠ¡ç†è§£ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ åšå‡ºæ›´æ˜æ™ºçš„æŠ€æœ¯é€‰å‹ï¼</p>
<hr/>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ä»£ç ç”Ÿæˆå™¨ä½¿ç”¨ç»éªŒï¼å¦‚æœä½ æœ‰æ›´å¥½çš„å®šåˆ¶æ–¹æ¡ˆï¼Œä¹ŸæœŸå¾…ä¸€èµ·äº¤æµæ¢è®¨~</strong></p>
<p><em>è§‰å¾—æ–‡ç« æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘æ”¯æŒï½</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç¥å·22æé™æ•‘æ´ï¼Œçœ‹æ‡‚Gité«˜çº§ç©æ³•]]></title>    <link>https://juejin.cn/post/7579507023508160575</link>    <guid>https://juejin.cn/post/7579507023508160575</guid>    <pubDate>2025-12-03T16:59:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579507023508160575" data-draft-id="7579519985699586054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç¥å·22æé™æ•‘æ´ï¼Œçœ‹æ‡‚Gité«˜çº§ç©æ³•"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2025-12-03T16:59:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/3034307821311895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç¥å·22æé™æ•‘æ´ï¼Œçœ‹æ‡‚Gité«˜çº§ç©æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3034307821311895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-03T16:59:46.000Z" title="Wed Dec 03 2025 16:59:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025 å¹´çš„å¤ªç©ºæ¢ç´¢å²ï¼Œæ³¨å®šæ˜¯ç”±ä¸­å›½äººä¹¦å†™çš„ã€‚</p>
<p>4 æœˆ 24 æ—¥ï¼Œç¥èˆŸäºŒåå·è½½ç€ä¸‰ä½èˆªå¤©å‘˜å‘å°„å‡ç©ºï¼ŒæŒ‰è®¡åˆ’å®Œæˆä»»åŠ¡åï¼ŒåŸå®šäº 11 æœˆä¸­æ—¬ä¹˜ç»„è½®æ¢åè¿”å›ã€‚10 æœˆ 31 æ—¥ï¼Œç¥èˆŸäºŒåä¸€å·ä½œä¸ºå¸¸è§„ä¹˜ç»„è½®æ¢ä»»åŠ¡å‘å°„ï¼Œä»¥ 3.5 å°æ—¶å¿«é€Ÿå¯¹æ¥ç©ºé—´ç«™ã€‚</p>
<p>è½¬æŠ˜å‘ç”Ÿåœ¨ 11 æœˆ 4 æ—¥ â€”â€” ç¥èˆŸäºŒåå·ä¹˜ç»„åœ¨è¿”å›å‰ä¸€æ™šçš„ä¾‹è¡Œæ£€æŸ¥ä¸­ï¼Œå‘ç°è¿”å›èˆ±èˆ·çª—è¾¹ç¼˜å‡ºç°å¾®å°ä¸‰è§’å½¢ç—•è¿¹ï¼›ç»ç ”åˆ¤ä¸ºå¤ªç©ºç¢ç‰‡æ’å‡»å¯¼è‡´çš„ â€œè´¯ç©¿æ€§è£‚çº¹â€ã€‚æ­¤æ—¶ï¼Œ2003 å¹´å“¥ä¼¦æ¯”äºšå·èˆªå¤©é£æœºå› æœºç¿¼å¾®å°ç¼ºé™·è¿”èˆªè§£ä½“ã€7 åèˆªå¤©å‘˜å…¨éƒ¨é‡éš¾çš„å†å²è­¦ç¤ºçŠ¹åœ¨çœ¼å‰ï¼Œä»»åŠ¡æŒ‡æŒ¥éƒ¨åœ¨ 12 å°æ—¶å†…æœæ–­æ¨è¿Ÿç¥èˆŸäºŒåå·åŸå®šè½½äººè¿”å›è®¡åˆ’ã€‚</p>
<p>æœ¬ä¸ºå¸¸è§„è½®æ¢çš„ç¥èˆŸäºŒåä¸€å·é£èˆ¹ä¸´å±å—å‘½ï¼Œæ‰¿æ‹…èµ· â€œé€ç¥èˆŸäºŒåå·ä¹˜ç»„å®‰å…¨è¿”å›â€ çš„åº”æ€¥ä»»åŠ¡ï¼Œå¹¶äº 9 å¤©åå®Œç¾è¿”å›ã€‚ä½†äºŒåä¸€å·ä¹˜ç»„å´ä¹Ÿé¢ä¸´äº†æ²¡æœ‰è¿”å›èˆ¹å¯ç”¨çš„å¢ƒå†µï¼›å› æ­¤åŸå®šäº 2026 å¹´å‘å°„çš„ç¥èˆŸäºŒåäºŒå·é£èˆ¹è¢«æå‰è‡³ 11 æœˆ 25 æ—¥ä»¥æ— äººçŠ¶æ€ç´§æ€¥å‡ç©ºå¯¹æ¥ï¼Œå®˜æ–¹å®£å¸ƒï¼Œ<strong>å…¶å®‡èˆªå‘˜åºåˆ—æ°¸ä¹…ç©ºç¼º</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15a0ed83d4f5461b9f00a97fa255d57e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqR5YmN56uv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765385985&amp;x-signature=RH0a6UnoQL2nsjDRzrrzLf6V524%3D" alt="" loading="lazy"/></p>
<p>ä»è½¯ä»¶å¼€å‘çš„è§†è§’æ¥çœ‹ -- â€œå¸¸è§„ä»»åŠ¡æŒ‰è®¡åˆ’æ¨è¿›â€ åˆ° â€œçªå‘è‡´å‘½æ•…éšœâ€ï¼Œå†åˆ° â€œå¸¸è§„ä»»åŠ¡å˜åº”æ€¥ã€å¤‡ç”¨ä»»åŠ¡æå‰è¡¥ä½â€ï¼Œè¿™åœºå¤ªç©ºä»»åŠ¡çš„èŠ‚å¥ï¼Œæ°æ°å¯ä»¥ç”¨ Git Flow ä¸­ â€œå¼€å‘åˆ†æ”¯è¿­ä»£â†’ç”Ÿäº§åˆ†æ”¯çªå‘ Bugâ†’ç´§æ€¥ä¿®å¤åˆ†æ”¯å“åº”â†’åŠŸèƒ½åˆ†æ”¯è¡¥ä½â€ çš„å®Œæ•´åä½œæµç¨‹æ¥ç±»æ¯”ç†è§£ã€‚</p>
<p>æ¯•ç«Ÿåè§‚å½“ä¸‹è½¯ä»¶å¼€å‘ï¼Œä¸å°‘äººå¯¹ Git çš„ä½¿ç”¨è¿˜åœç•™åœ¨ â€œèƒ½ç”¨å°±è¡Œâ€ çš„åˆçº§é˜¶æ®µï¼šä¾èµ– VSCode å›¾å½¢åŒ–ç•Œé¢æäº¤ï¼Œé‡åˆ°åˆ†æ”¯åä½œã€åº”æ€¥ä¿®å¤å°±æ‰‹è¶³æ— æªï¼Œç‰ˆæœ¬å›æ»šå…¨é  â€œçŒœâ€ï¼Œåˆ†æ”¯ç®¡ç†ä¸€é”…ç²¥ã€‚</p>
<p>å› æ­¤ä¸å¦¨ç•¥å¼€è„‘æ´ï¼ŒæŒ‰çœŸå®ä»»åŠ¡æ—¶é—´çº¿ï¼Œç”¨ Git Flow å®Œæ•´å¤åˆ»è¿™åœºèˆªå¤©ä»»åŠ¡çš„åˆ†æ”¯ç®¡ç†é€»è¾‘ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç©ºé—´ç«™ï¼š master ä¸ develop åŒåˆ†æ”¯</h2>
<p>Git Flow çš„æ ¸å¿ƒæ˜¯ â€œåŒä¸»å¹²åˆ†æ”¯â€ï¼š</p>
<ul>
<li>masterå¯¹åº” â€œç”Ÿäº§ç¯å¢ƒ / å·²éªŒè¯çš„ç¨³å®šçŠ¶æ€â€</li>
<li>developå¯¹åº” â€œå¼€å‘ç¯å¢ƒ / æŒç»­è¿­ä»£çš„åŠŸèƒ½é›†â€</li>
</ul>
<p>è¿™å°±åƒèˆªå¤©ä»»åŠ¡çš„ â€œç©ºé—´ç«™æ ¸å¿ƒç¨³å®šç³»ç»Ÿï¼ˆmasterï¼‰â€ ä¸ â€œä»»åŠ¡å¼€å‘è°ƒåº¦ç³»ç»Ÿï¼ˆdevelopï¼‰â€ï¼Œåˆ†å·¥æ˜ç¡®ä¸”äº’ä¸å¹²æ‰°ã€‚</p>
<pre><code class="hljs language-perl" lang="perl">æ­¥éª¤ <span class="hljs-number">1</span>ï¼šåˆå§‹åŒ–è¿œç«¯ä»“åº“ä¸ä¸»å¹²åˆ†æ”¯
<span class="hljs-comment"># 1. åˆå§‹åŒ–è¿œç«¯ä»“åº“ï¼ˆæ¨¡æ‹Ÿèˆªå¤©ä»»åŠ¡æ€»æ§ä¸­å¿ƒï¼‰</span>
git init --bare space-station.git

<span class="hljs-comment"># 2. æœ¬åœ°å…‹éš†ä»“åº“ï¼Œæ­å»ºåŒä¸»å¹²</span>
git clone space-station.git <span class="hljs-keyword">local</span>-station
cd <span class="hljs-keyword">local</span>-station

<span class="hljs-comment"># 3. åˆ›å»ºå¹¶æ¨é€ master åˆ†æ”¯ï¼ˆç”Ÿäº§åˆ†æ”¯ï¼šç©ºé—´ç«™æ ¸å¿ƒç¨³å®šç³»ç»Ÿï¼‰</span>
touch station_core.txt
git add . &amp;&amp; git commit -m <span class="hljs-string">"feat: ç©ºé—´ç«™æ ¸å¿ƒç³»ç»Ÿéƒ¨ç½²å®Œæˆï¼ˆv1.0ï¼‰ï¼Œè¿›å…¥ç¨³å®šè¿è¡ŒçŠ¶æ€"</span>
git <span class="hljs-keyword">push</span> origin master

<span class="hljs-comment"># 4. ä» master æ‹‰å‡º develop åˆ†æ”¯ï¼ˆå¼€å‘åˆ†æ”¯ï¼šä»»åŠ¡è°ƒåº¦ä¸åŠŸèƒ½è¿­ä»£ï¼‰</span>
git checkout -b develop
git commit --allow-empty -m <span class="hljs-string">"chore: åˆå§‹åŒ– develop åˆ†æ”¯ï¼Œç”¨äºä»»åŠ¡åŠŸèƒ½è¿­ä»£"</span>
git <span class="hljs-keyword">push</span> origin develop
</code></pre>
<p>æ ¸å¿ƒåˆ†å·¥è¯´æ˜ï¼ˆGit Flow åŸºç¡€ï¼‰ï¼š</p>




















<table><thead><tr><th>åˆ†æ”¯ç±»å‹</th><th>å¯¹åº”èˆªå¤©è§’è‰²</th><th>æ ¸å¿ƒè§„åˆ™</th></tr></thead><tbody><tr><td>master</td><td>ç©ºé—´ç«™æ ¸å¿ƒç¨³å®šç³»ç»Ÿ</td><td>ä»…å­˜å‚¨å·²éªŒè¯çš„ç¨³å®šç‰ˆæœ¬ï¼Œé€šè¿‡hotfix/releaseåˆ†æ”¯æ›´æ–°ï¼Œç¦æ­¢ç›´æ¥æäº¤</td></tr><tr><td>develop</td><td>ä»»åŠ¡å¼€å‘è°ƒåº¦ç³»ç»Ÿ</td><td>æ‰€æœ‰æ–°åŠŸèƒ½çš„å¼€å‘åŸºç¡€ï¼Œæ‰¿æ¥featureåˆ†æ”¯åˆå¹¶ï¼ŒæŒç»­è¿­ä»£æœªä¸Šçº¿åŠŸèƒ½</td></tr></tbody></table>
<h2 data-id="heading-1">äºŒã€ç¥èˆŸ 20 å·ï¼šå¸¸è§„featureä»»åŠ¡æ¨è¿›</h2>
<p>ç¥èˆŸ 20 å·æ˜¯ â€œ2025 å¹´æ ¸å¿ƒå¸¸è§„ä»»åŠ¡â€ï¼Œå¯¹åº” Git Flow ä¸­çš„featureåˆ†æ”¯ â€”â€” æ‰€æœ‰å¸¸è§„åŠŸèƒ½å¼€å‘å‡ä»developæ‹‰å‡ºï¼Œå®Œæˆååˆå¹¶å›developï¼Œä¸ç›´æ¥è§¦ç¢°masterã€‚</p>
<p>å°±åƒ èˆªå¤©ä»»åŠ¡ä»è°ƒåº¦ç³»ç»Ÿï¼ˆdevelopï¼‰å‘èµ·ï¼Œå®Œæˆåå›å½’è°ƒåº¦ç³»ç»Ÿï¼Œä¸å½±å“æ ¸å¿ƒç¨³å®šç³»ç»Ÿã€‚</p>
<h3 data-id="heading-2">æ­¥éª¤ 1ï¼šåˆ›å»ºfeatureåˆ†æ”¯å¹¶æ¨è¿›ä»»åŠ¡</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment"># 1. åŸºäº develop æ‹‰å‡ºç¥èˆŸ20å·åŠŸèƒ½åˆ†æ”¯ï¼ˆGit Flow è§„èŒƒï¼šfeature åˆ†æ”¯ä» develop åˆ›å»ºï¼‰</span>
git checkout develop
git pull origin develop
git checkout -b feature/shenzhou-<span class="hljs-number">20</span>

<span class="hljs-comment"># 2. æ¨¡æ‹Ÿä»»åŠ¡å…³é”®èŠ‚ç‚¹æäº¤ï¼ˆéµå¾ª Angular commit msg è§„èŒƒï¼Œæ¸…æ™°è®°å½•è¿›å±•ï¼‰</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"feat: 2025.4.24 ç¥èˆŸ20å·å‘å°„å…¥è½¨ï¼Œå¯¹æ¥ç©ºé—´ç«™"</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"feat: å®Œæˆç¬¬1-4æ¬¡å‡ºèˆ±å®éªŒï¼Œåœ¨è½¨é©»ç•™180å¤©"</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"fix: ä¿®æ­£ç¬¬2æ¬¡å‡ºèˆ±å®éªŒçš„è®¾å¤‡å‚æ•°è®°å½•"</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"feat: å®Œæˆå‰©ä½™23å¤©é©»ç•™ï¼Œå‡†å¤‡11æœˆ15æ—¥è¿”å›ï¼ˆå¾…è½®æ¢ï¼‰"</span>

<span class="hljs-comment"># 3. ç”¨ rebase -i æ•´ç†æäº¤ï¼ˆæœ¬åœ°æœªæ¨é€å‰ä¼˜åŒ–å†å²ï¼ŒGit Flow æ¨èæ“ä½œï¼‰</span>
git rebase -i HEAD~<span class="hljs-number">4</span>
<span class="hljs-comment"># äº¤äº’ç•Œé¢ä¸­ï¼Œå°†3ä¸ªfeat/fixåˆå¹¶ä¸º1ä¸ªå®Œæ•´æäº¤ï¼ˆsquashï¼‰ï¼Œæœ€ç»ˆä¿¡æ¯ï¼š</span>
<span class="hljs-comment"># feat: ç¥èˆŸ20å·å®Œæˆå‘å°„ã€4æ¬¡å‡ºèˆ±ã€203å¤©é©»ç•™ï¼Œå‡†å¤‡11æœˆ15æ—¥è¿”å›ï¼ˆv2.0ï¼‰</span>

<span class="hljs-comment"># 4. æ¨é€ feature åˆ†æ”¯è‡³è¿œç«¯ï¼Œç­‰å¾…åˆå¹¶åˆ° develop</span>
git push origin feature/shenzhou-<span class="hljs-number">20</span>
</code></pre>
<h3 data-id="heading-3">æ­¥éª¤ 2ï¼šåˆå¹¶featureåˆ°developï¼ˆä»»åŠ¡çº³å…¥è°ƒåº¦ç³»ç»Ÿï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">å½“ç¥èˆŸ 20 å·å®Œæˆåœ¨è½¨é©»ç•™ï¼Œç¡®è®¤åŠŸèƒ½æ­£å¸¸ï¼ˆå¯¹åº” â€œå¼€å‘åŠŸèƒ½æµ‹è¯•é€šè¿‡â€ï¼‰ï¼Œå°†å…¶åˆå¹¶å›developï¼Œçº³å…¥ â€œä»»åŠ¡è°ƒåº¦ç³»ç»Ÿâ€ï¼š
<span class="hljs-comment"># 1. åˆ‡æ¢åˆ° develop åˆ†æ”¯ï¼Œæ‹‰å–æœ€æ–°çŠ¶æ€</span>
git checkout develop
git pull origin develop

<span class="hljs-comment"># 2. åˆå¹¶ feature åˆ†æ”¯ï¼ˆ--no-ff ä¿ç•™åˆ†æ”¯è½¨è¿¹ï¼Œä¾¿äºè¿½æº¯ï¼‰</span>
git merge --no-ff feature/shenzhou-20 -m <span class="hljs-string">"chore: åˆå¹¶ç¥èˆŸ20å·ä»»åŠ¡åˆ° developï¼Œå®Œæˆå¸¸è§„é©»ç•™æµç¨‹"</span>

<span class="hljs-comment"># 3. æ¨é€ develop åˆ†æ”¯ï¼ŒåŒæ­¥å¼€å‘è¿›åº¦</span>
git push origin develop

<span class="hljs-comment"># 4. ï¼ˆå¯é€‰ï¼‰åˆ é™¤æœ¬åœ° feature åˆ†æ”¯ï¼ˆä»»åŠ¡å®Œæˆåæ¸…ç†ï¼Œä¿æŒä»“åº“æ•´æ´ï¼‰</span>
git branch -d feature/shenzhou-20
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€ç¥èˆŸ 21 å·ï¼šä»å¸¸è§„ä»»åŠ¡åˆ°hotfix</h2>
<p>ç¥èˆŸ 21 å·çš„åˆå§‹å®šä½æ˜¯ â€œå¸¸è§„ä¹˜ç»„è½®æ¢ä»»åŠ¡â€ï¼ˆfeatureåˆ†æ”¯ï¼‰ï¼Œä½†å› ç¥èˆŸ 20 å· â€œè´¯ç©¿æ€§è£‚çº¹â€ï¼ˆmasteråˆ†æ”¯çªå‘ Bugï¼‰ï¼Œéœ€è½¬ä¸º â€œç´§æ€¥ä¿®å¤ä»»åŠ¡â€ã€‚</p>
<p>è¿™å¯¹åº” Git Flow ä¸­ â€œfeatureåˆ†æ”¯æœªä¸Šçº¿ï¼Œç”Ÿäº§ç¯å¢ƒçªå‘ Bugï¼Œç«‹å³ä»masteræ‹‰å‡ºhotfixåˆ†æ”¯å“åº”â€ çš„åœºæ™¯ï¼Œè€Œéåœ¨åŸæœ‰featureåˆ†æ”¯ä¿®æ”¹ã€‚</p>
<h3 data-id="heading-5">æ­¥éª¤ 1ï¼šåˆå§‹featureåˆ†æ”¯æ¨è¿›ï¼ˆå¸¸è§„è½®æ¢ä»»åŠ¡ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åŸºäº develop æ‹‰å‡ºç¥èˆŸ21å·å¸¸è§„è½®æ¢åˆ†æ”¯</span>
git checkout develop
git pull origin develop
git checkout -b feature/shenzhou-21

<span class="hljs-comment"># 2. æäº¤å¸¸è§„ä»»åŠ¡è¿›å±•</span>
git commit --allow-empty -m <span class="hljs-string">"feat: 2025.10.31 ç¥èˆŸ21å·å¸¸è§„å‘å°„ï¼Œ3.5å°æ—¶å¯¹æ¥ç©ºé—´ç«™"</span>
git commit --allow-empty -m <span class="hljs-string">"feat: å®Œæˆåœ¨è½¨è°ƒè¯•ï¼Œç­‰å¾…11æœˆ15æ—¥å¸¸è§„ä¹˜ç»„è½®æ¢"</span>

<span class="hljs-comment"># 3. æ¨é€ feature åˆ†æ”¯è‡³è¿œç«¯</span>
git push origin feature/shenzhou-21
</code></pre>
<h3 data-id="heading-6">æ­¥éª¤ 2ï¼šçªå‘æ•…éšœï¼ä»masteræ‹‰å‡ºhotfixåˆ†æ”¯ï¼ˆç´§æ€¥å“åº”ï¼‰</h3>
<p>å½“ç¥èˆŸ 20 å·çš„ â€œè´¯ç©¿æ€§è£‚çº¹â€ è¢«ç¡®è®¤ï¼ˆå¯¹åº” â€œmasteråˆ†æ”¯ç”Ÿäº§ç¯å¢ƒ Bugâ€ï¼‰ï¼Œéœ€ç«‹å³ä»masteråˆ›å»ºhotfixåˆ†æ”¯ â€”â€” è¿™æ˜¯ Git Flow å¤„ç†ç”Ÿäº§ Bug çš„æ ¸å¿ƒè§„åˆ™ï¼šç´§æ€¥ä¿®å¤å¿…é¡»åŸºäºmasterï¼Œç¡®ä¿ä¿®å¤çš„æ˜¯å½“å‰ç¨³å®šç‰ˆæœ¬çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ‡æ¢åˆ° master åˆ†æ”¯ï¼Œæ‹‰å–æœ€æ–°ç¨³å®šçŠ¶æ€</span>
git checkout master
git pull origin master

<span class="hljs-comment"># 2. ä» master æ‹‰å‡º hotfix åˆ†æ”¯ï¼ˆç´§æ€¥ä¿®å¤ï¼šé€20å·ä¹˜ç»„è¿”å›ï¼‰</span>
git checkout -b hotfix/shenzhou-21-rescue

<span class="hljs-comment"># 3. æäº¤ç´§æ€¥ä¿®å¤é€»è¾‘ï¼ˆå¯¹åº”ç¥èˆŸ21å·ä»»åŠ¡ç›®æ ‡å˜æ›´ï¼‰</span>
git commit --allow-empty -m <span class="hljs-string">"hotfix: è°ƒæ•´ç¥èˆŸ21å·ä»»åŠ¡ç›®æ ‡ï¼Œæ‰¿æ¥20å·ä¹˜ç»„åº”æ€¥è¿”å›"</span>
git commit --allow-empty -m <span class="hljs-string">"hotfix: 2025.11.14 å®Œæˆåº”æ€¥è½®æ¢ï¼Œé€20å·ä¹˜ç»„å®‰å…¨è¿”å›åœ°çƒ"</span>

<span class="hljs-comment"># 4. æ¨é€ hotfix åˆ†æ”¯è‡³è¿œç«¯ï¼Œç­‰å¾…éªŒè¯</span>
git push origin hotfix/shenzhou-21-rescue
</code></pre>
<h3 data-id="heading-7">æ­¥éª¤ 3ï¼šhotfixåˆå¹¶åŒä¸»å¹²ï¼ˆä¿®å¤åŒæ­¥è‡³ç¨³å®šä¸å¼€å‘ç³»ç»Ÿï¼‰</h3>
<p>ç¥èˆŸ 21 å·å®Œæˆåº”æ€¥è¿”å›ï¼ˆå¯¹åº” â€œhotfixä¿®å¤éªŒè¯é€šè¿‡â€ï¼‰ï¼Œéœ€åŒæ—¶åˆå¹¶åˆ°masterï¼ˆæ›´æ–°ç”Ÿäº§ç¨³å®šç‰ˆæœ¬ï¼‰å’Œdevelopï¼ˆåŒæ­¥ä¿®å¤åˆ°å¼€å‘ç³»ç»Ÿï¼Œé¿å…åç»­åŠŸèƒ½é—æ¼ï¼‰â€”â€” è¿™æ˜¯ Git Flow ä¸å…¶ä»–æµç¨‹çš„æ ¸å¿ƒåŒºåˆ«ï¼Œç¡®ä¿ â€œç”Ÿäº§ä¸å¼€å‘çš„ä¿®å¤ä¸€è‡´æ€§â€ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># 1. åˆå¹¶åˆ° masterï¼ˆæ›´æ–°ç”Ÿäº§ç‰ˆæœ¬ï¼Œæ ‡è®°ä¿®å¤å®Œæˆï¼‰</span>
git checkout master
git pull origin master
git merge --no-ff hotfix/shenzhou-<span class="hljs-number">21</span>-<span class="hljs-keyword">rescue</span> -m <span class="hljs-string">"fix: åˆå¹¶ hotfix ä¿®å¤ï¼Œ20å·ä¹˜ç»„å®‰å…¨è¿”å›ï¼ˆv1.1ï¼‰"</span>
git tag -a v1.<span class="hljs-number">1</span> -m <span class="hljs-string">"v1.1ï¼šå®Œæˆç¥èˆŸ21å·åº”æ€¥è¿”å›ä¿®å¤"</span> <span class="hljs-comment"># æ‰“æ ‡ç­¾ï¼Œæ ‡è®°ç”Ÿäº§ç‰ˆæœ¬</span>
git push origin master --tags

<span class="hljs-comment"># 2. åˆå¹¶åˆ° developï¼ˆåŒæ­¥ä¿®å¤åˆ°å¼€å‘åˆ†æ”¯ï¼Œé¿å…åç»­åŠŸèƒ½å†²çªï¼‰</span>
git checkout develop
git pull origin develop
git merge --no-ff hotfix/shenzhou-<span class="hljs-number">21</span>-<span class="hljs-keyword">rescue</span> -m <span class="hljs-string">"fix: åŒæ­¥ hotfix ä¿®å¤åˆ° developï¼Œå¯¹é½ç”Ÿäº§çŠ¶æ€"</span>
git push origin develop

<span class="hljs-comment"># 3. ï¼ˆå¯é€‰ï¼‰åˆ é™¤ hotfix åˆ†æ”¯ï¼ˆä¿®å¤å®Œæˆåæ¸…ç†ï¼‰</span>
git branch -d hotfix/shenzhou-<span class="hljs-number">21</span>-<span class="hljs-keyword">rescue</span>
git push origin <span class="hljs-symbol">:hotfix/shenzhou-</span><span class="hljs-number">21</span>-<span class="hljs-keyword">rescue</span>
</code></pre>
<h2 data-id="heading-8">å››ã€ç¥èˆŸ 22 å·ï¼šç´§æ€¥è¡¥ä½çš„featureåˆ†æ”¯</h2>
<p>ç¥èˆŸ 22 å·æ˜¯ â€œæå‰å‘å°„çš„æ— äººè¡¥ä½ä»»åŠ¡â€ï¼Œç”¨äºè§£å†³ â€œ21 å·ä¹˜ç»„æ— è¿”å›èˆ¹â€ çš„é—®é¢˜ã€‚</p>
<p>å¯¹åº” Git Flow ä¸­ â€œåŸºäºdevelopåˆ›å»ºfeatureåˆ†æ”¯ï¼Œæ‰¿æ¥ç´§æ€¥ä¿®å¤åçš„è¡¥ä½éœ€æ±‚â€ï¼Œç¡®ä¿è¡¥ä½åŠŸèƒ½åœ¨å¼€å‘ç³»ç»Ÿè¿­ä»£ï¼Œä¸ç›´æ¥å½±å“ç”Ÿäº§ã€‚</p>
<h3 data-id="heading-9">æ­¥éª¤ 1ï¼šåŸºäºdevelopåˆ›å»ºè¡¥ä½featureåˆ†æ”¯</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment"># 1. åˆ‡æ¢åˆ° develop åˆ†æ”¯ï¼Œæ‹‰å–æœ€æ–°åŒæ­¥åçš„çŠ¶æ€ï¼ˆå«21å·ä¿®å¤ï¼‰</span>
git checkout develop
git pull origin develop

<span class="hljs-comment"># 2. æ‹‰å‡ºè¡¥ä½åŠŸèƒ½åˆ†æ”¯ï¼ˆç¥èˆŸ22å·ï¼šæ— äººè¡¥ç»™ä¸è¿”å›ä¿éšœï¼‰</span>
git checkout -b feature/shenzhou-<span class="hljs-number">22</span>-supplement

<span class="hljs-comment"># 3. æäº¤è¡¥ä½ä»»åŠ¡è¿›å±•ï¼ˆéµå¾ª commit è§„èŒƒï¼Œæ˜ç¡®åŠŸèƒ½ç›®æ ‡ï¼‰</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"feat: 2025.11.25 ç¥èˆŸ22å·æå‰æ— äººå‘å°„ï¼ˆåŸè®¡åˆ’2026ï¼‰"</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"feat: å®Œæˆç©ºé—´ç«™ç‰©èµ„è¡¥ç»™ï¼Œä¿éšœ21å·ä¹˜ç»„é©»ç•™"</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"feat: éªŒè¯èˆ·çª—è£‚çº¹å¤„ç½®æŠ€æœ¯ï¼Œç•™å­˜æ•…éšœè§£å†³æ–¹æ¡ˆ"</span>
git commit --allow-<span class="hljs-keyword">empty</span> -m <span class="hljs-string">"docs: æ ‡è®°ç¥èˆŸ22å·ä¹˜ç»„åºåˆ—æ°¸ä¹…ç©ºç¼ºï¼ŒåŒæ­¥ä»»åŠ¡æ–‡æ¡£"</span>

<span class="hljs-comment"># 4. æ¨é€ feature åˆ†æ”¯è‡³è¿œç«¯ï¼Œç­‰å¾…éªŒè¯ä¸åˆå¹¶</span>
git push origin feature/shenzhou-<span class="hljs-number">22</span>-supplement
</code></pre>
<h3 data-id="heading-10">æ­¥éª¤ 2ï¼šåˆå¹¶featureåˆ°developï¼ˆè¡¥ä½ä»»åŠ¡çº³å…¥è°ƒåº¦ï¼‰</h3>
<p>å½“ç¥èˆŸ 22 å·å®Œæˆå¯¹æ¥ä¸è¡¥ç»™ï¼ˆå¯¹åº” â€œè¡¥ä½åŠŸèƒ½æµ‹è¯•é€šè¿‡â€ï¼‰ï¼Œåˆå¹¶å›developï¼Œå®Œæˆæ•´ä¸ªåº”æ€¥è¡¥ä½æµç¨‹ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># 1. åˆ‡æ¢åˆ° develop åˆ†æ”¯ï¼Œæ‹‰å–æœ€æ–°çŠ¶æ€</span>
git checkout develop
git pull origin develop

<span class="hljs-comment"># 2. åˆå¹¶è¡¥ä½åˆ†æ”¯ï¼ˆ--no-ff ä¿ç•™è½¨è¿¹ï¼Œä¾¿äºè¿½æº¯è¡¥ä½é€»è¾‘ï¼‰</span>
git merge --no-ff feature/shenzhou-<span class="hljs-number">22</span>-supplement -m <span class="hljs-string">"chore: åˆå¹¶ç¥èˆŸ22å·è¡¥ä½ä»»åŠ¡åˆ° developï¼Œå®Œæˆå…¨æµç¨‹ä¿éšœ"</span>

<span class="hljs-comment"># 3. æ¨é€ develop åˆ†æ”¯ï¼ŒåŒæ­¥è¡¥ä½ç»“æœ</span>
git push origin develop

<span class="hljs-comment"># 4. ï¼ˆå¯é€‰ï¼‰åˆ é™¤è¡¥ä½ feature åˆ†æ”¯</span>
git branch -d feature/shenzhou-<span class="hljs-number">22</span>-supplement
git push origin <span class="hljs-symbol">:feature/shenzhou-</span><span class="hljs-number">22</span>-supplement
</code></pre>
<h2 data-id="heading-11">äº”ã€å¯è§†åŒ–çš„å…¨æµç¨‹åˆ†æ”¯</h2>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯ç›´è§‚çœ‹åˆ° Git Flow å®Œæ•´åˆ†æ”¯è½¨è¿¹ï¼Œæ¯ä¸€æ­¥å‡ä¸èˆªå¤©ä»»åŠ¡ä¸€ä¸€å¯¹åº”ï¼š</p>
<pre><code class="hljs language-css" lang="css">git log <span class="hljs-attr">--graph</span> <span class="hljs-attr">--oneline</span> <span class="hljs-attr">--all</span> <span class="hljs-attr">--decorate</span>
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼ˆæ ¸å¿ƒè½¨è¿¹ï¼‰</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">*</span>   <span class="hljs-number">8765432</span> <span class="hljs-string">(develop,</span> <span class="hljs-string">origin/develop)</span> <span class="hljs-attr">chore:</span> <span class="hljs-string">åˆå¹¶ç¥èˆŸ22å·è¡¥ä½ä»»åŠ¡åˆ°</span> <span class="hljs-string">developï¼Œå®Œæˆå…¨æµç¨‹ä¿éšœ</span>
<span class="hljs-string">|\</span>  
<span class="hljs-string">|</span> <span class="hljs-string">*</span> <span class="hljs-number">7654321</span> <span class="hljs-string">(feature/shenzhou-22-supplement)</span> <span class="hljs-attr">docs:</span> <span class="hljs-string">æ ‡è®°ç¥èˆŸ22å·ä¹˜ç»„åºåˆ—æ°¸ä¹…ç©ºç¼º</span>
<span class="hljs-string">|</span> <span class="hljs-string">*</span> <span class="hljs-attr">6543210 feat:</span> <span class="hljs-string">éªŒè¯èˆ·çª—è£‚çº¹å¤„ç½®æŠ€æœ¯</span>
<span class="hljs-string">|</span> <span class="hljs-string">*</span> <span class="hljs-attr">5432109 feat:</span> <span class="hljs-string">å®Œæˆç©ºé—´ç«™ç‰©èµ„è¡¥ç»™</span>
<span class="hljs-string">|</span> <span class="hljs-string">*</span> <span class="hljs-attr">4321098 feat:</span> <span class="hljs-number">2025.11</span><span class="hljs-number">.25</span> <span class="hljs-string">ç¥èˆŸ22å·æå‰æ— äººå‘å°„</span>
<span class="hljs-string">*</span> <span class="hljs-string">|</span>   <span class="hljs-attr">3210987 chore:</span> <span class="hljs-string">åŒæ­¥</span> <span class="hljs-string">hotfix</span> <span class="hljs-string">ä¿®å¤åˆ°</span> <span class="hljs-string">developï¼Œå¯¹é½ç”Ÿäº§çŠ¶æ€</span>
<span class="hljs-string">|\</span> <span class="hljs-string">\</span>  
<span class="hljs-string">|</span> <span class="hljs-string">|/</span>  
<span class="hljs-string">|</span> <span class="hljs-string">*</span> <span class="hljs-number">2109876</span> <span class="hljs-string">(hotfix/shenzhou-21-rescue)</span> <span class="hljs-attr">hotfix:</span> <span class="hljs-number">2025.11</span><span class="hljs-number">.14</span> <span class="hljs-string">å®Œæˆåº”æ€¥è½®æ¢</span>
<span class="hljs-string">|</span> <span class="hljs-string">*</span> <span class="hljs-attr">1098765 hotfix:</span> <span class="hljs-string">è°ƒæ•´ç¥èˆŸ21å·ä»»åŠ¡ç›®æ ‡</span>
<span class="hljs-string">|/</span>  
<span class="hljs-string">*</span>   <span class="hljs-number">0987654</span> <span class="hljs-string">(master,</span> <span class="hljs-string">origin/master,</span> <span class="hljs-attr">tag:</span> <span class="hljs-string">v1.1)</span> <span class="hljs-attr">fix:</span> <span class="hljs-string">åˆå¹¶</span> <span class="hljs-string">hotfix</span> <span class="hljs-string">ä¿®å¤ï¼Œ20å·ä¹˜ç»„å®‰å…¨è¿”å›ï¼ˆv1.1ï¼‰</span>
<span class="hljs-string">|</span>  
<span class="hljs-string">*</span>   <span class="hljs-attr">9876543 chore:</span> <span class="hljs-string">åˆå¹¶ç¥èˆŸ20å·ä»»åŠ¡åˆ°</span> <span class="hljs-string">developï¼Œå®Œæˆå¸¸è§„é©»ç•™æµç¨‹</span>
<span class="hljs-string">|\</span>  
<span class="hljs-string">|</span> <span class="hljs-string">*</span> <span class="hljs-number">8765432</span> <span class="hljs-string">(feature/shenzhou-20)</span> <span class="hljs-attr">feat:</span> <span class="hljs-string">ç¥èˆŸ20å·å®Œæˆå‘å°„ã€4æ¬¡å‡ºèˆ±ã€203å¤©é©»ç•™</span>
<span class="hljs-string">|/</span>  
<span class="hljs-string">*</span> <span class="hljs-attr">7654321 chore:</span> <span class="hljs-string">åˆå§‹åŒ–</span> <span class="hljs-string">develop</span> <span class="hljs-string">åˆ†æ”¯ï¼Œç”¨äºä»»åŠ¡åŠŸèƒ½è¿­ä»£</span>
<span class="hljs-string">*</span> <span class="hljs-attr">6543210 feat:</span> <span class="hljs-string">ç©ºé—´ç«™æ ¸å¿ƒç³»ç»Ÿéƒ¨ç½²å®Œæˆï¼ˆv1.0ï¼‰ï¼Œè¿›å…¥ç¨³å®šè¿è¡ŒçŠ¶æ€</span>
</code></pre>
<h2 data-id="heading-12">å…­ã€ç»“è¯­</h2>
<p>ä¸èµ·çœ¼çš„ git æ“ä½œå°±æ˜¯å¼€å‘è€…æ¯å¤©çš„èˆªå¤©ä»»åŠ¡ï¼Œmasterå®ˆå¥½ â€œç¨³å®šåº•çº¿â€ï¼Œdevelopç®¡å¥½ â€œåŠŸèƒ½è¿­ä»£â€ï¼Œhotfixå¿«é€Ÿå“åº” â€œçªå‘å±æœºâ€ï¼Œfeatureç¨³å¦¥æ‰¿æ¥ â€œè¡¥ä½éœ€æ±‚â€ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰æ˜ç¡®çš„è§’è‰²å’Œè§„åˆ™ã€‚</p>
<p>ä»åŒºåˆ†developä¸masterï¼Œåˆ°æ­£ç¡®ä½¿ç”¨featureå’Œhotfixï¼Œå†åˆ°è§„èŒƒçš„ commit ä¿¡æ¯ä¸åˆ†æ”¯æ¸…ç†ï¼›è¿™äº›åŸºç¡€æ“ä½œçš„æœ¬è´¨ï¼Œéƒ½æ˜¯ â€œè®©åä½œæ›´æœ‰åºã€å†å²å¯è¿½æº¯â€ã€‚</p>
<p>æŒæ¡è‰¯å¥½çš„ Git Flowï¼Œä½ çš„ä»£ç ç®¡ç†å°±èƒ½åƒä¸­å›½èˆªå¤©ä¸€æ ·ï¼Œæ—¢è§„èŒƒä¸¥è°¨ï¼Œåˆèƒ½ä»å®¹åº”å¯¹å„ç§çªå‘æƒ…å†µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤šåŒ…æ„å»ºä¼˜åŒ–å®è·µï¼šåŠ¨æ€è°ƒåº¦ + å¤šæ ¸å¹¶è¡Œçš„è½åœ°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7579699192697815059</link>    <guid>https://juejin.cn/post/7579699192697815059</guid>    <pubDate>2025-12-04T08:26:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579699192697815059" data-draft-id="7579800429375225906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤šåŒ…æ„å»ºä¼˜åŒ–å®è·µï¼šåŠ¨æ€è°ƒåº¦ + å¤šæ ¸å¹¶è¡Œçš„è½åœ°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,Node.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-04T08:26:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŒªçŒªæ‹†è¿é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2541726613638973"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤šåŒ…æ„å»ºä¼˜åŒ–å®è·µï¼šåŠ¨æ€è°ƒåº¦ + å¤šæ ¸å¹¶è¡Œçš„è½åœ°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2541726613638973/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŒªçŒªæ‹†è¿é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T08:26:30.000Z" title="Thu Dec 04 2025 08:26:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    58
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdcc1f39f50041559e5de68cd5f2c8b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54yq54yq5ouG6L-B6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765528315&amp;x-signature=86FhjuzeBZzLg1s%2BBwwEc6cMe5g%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251204162520_3368_96.png" loading="lazy"/></p>
<h2 data-id="heading-0">èƒŒæ™¯ä¸æŒ‘æˆ˜</h2>
<p>åœ¨å½“å‰çš„å‰ç«¯äºŒå¼€åœºæ™¯ä¸­ï¼Œæ— è®ºæ˜¯ç‰©æ–™åº“ä¸­çš„ç»„ä»¶ï¼Œè¿˜æ˜¯æ¡†æ¶çš„æ ¸å¿ƒ packageï¼Œé€šå¸¸éƒ½ä¼šé‡‡ç”¨ç‹¬ç«‹æ„å»ºçš„æ–¹å¼ã€‚å½“éœ€è¦åŒæ—¶æ›´æ–°å¤šä¸ªæ„å»ºå•å…ƒæ—¶ï¼Œä¼ ç»Ÿçš„ä¸²è¡Œæ‰“åŒ…ä¼šä½¿æ•´ä½“è€—æ—¶æ˜æ˜¾å¢åŠ ï¼Œä¸”å¤šæ ¸ CPU çš„èµ„æºæ— æ³•å¾—åˆ°æœ‰æ•ˆåˆ©ç”¨ã€‚</p>
<p>åœ¨è§„æ¨¡è¾ƒå¤§çš„é¡¹ç›®ä¸­ï¼ŒåŠ¨è¾„å‡ åä¸ªç»„ä»¶éœ€è¦åŒæ—¶æ„å»ºï¼Œç­‰å¾…æ—¶é—´è¿‡é•¿å¾€å¾€æˆä¸ºå¼€å‘æµç¨‹ä¸­çš„ä¸»è¦ç“¶é¢ˆã€‚æ•´ä½“é€Ÿåº¦è¢«æœ€æ…¢çš„ä»»åŠ¡é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„â€œæœ¨æ¡¶æ•ˆåº”â€ã€‚</p>
<p>ä¸ºæå‡æ„å»ºæ•ˆç‡ï¼Œæˆ‘ä»¬å¼•å…¥äº† <strong>åŠ¨æ€è´Ÿè½½å‡è¡¡ä¸å¹¶è¡Œè°ƒåº¦</strong>ï¼Œä½¿å„ä¸ª CPU æ ¸å¿ƒèƒ½å¤ŸæŒç»­æ¥æ”¶å¹¶æ‰§è¡Œä»»åŠ¡ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥æ˜¾è‘—åŠ å¿«ç»„ä»¶å’Œåº“æ–‡ä»¶çš„æ„å»ºé€Ÿåº¦ï¼Œä»è€Œç¼©çŸ­å¼€å‘ä¸å‘å¸ƒå‘¨æœŸã€‚</p>
<h3 data-id="heading-1">åº”ç”¨åœºæ™¯</h3>
<ul>
<li>æ¡†æ¶åº“æ–‡ä»¶æ‰“åŒ…</li>
<li>ç‰©æ–™åº“ç»„ä»¶æ‰“åŒ…</li>
</ul>
<h3 data-id="heading-2">ä¸šåŠ¡åœºæ™¯</h3>
<p>æœ¬è´¨ä¸Šæ˜¯ä¸ºäº†è§£å†³ç‰©æ–™åº“çš„æ„å»ºæ•ˆç‡é—®é¢˜ï¼Œé€šè¿‡å¼•å…¥å¹¶è¡Œæ‰“åŒ…æœºåˆ¶ï¼Œå¹¶æ ¹æ®ç³»ç»Ÿè´Ÿè½½è°ƒåº¦æ„å»ºä»»åŠ¡ï¼Œä»è€Œæå‡æ•´ä½“æ‰“åŒ…æ€§èƒ½ã€‚</p>
<ul>
<li><strong>package</strong>ï¼šåº“æ–‡ä»¶</li>
<li><strong>ç»„ä»¶è§„æ¨¡</strong>ï¼š50+ ç‹¬ç«‹ Widget ç»„ä»¶</li>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼šVue 3 + TypeScript + Vite</li>
<li><strong>éƒ¨ç½²æ¨¡å¼</strong>ï¼šç‹¬ç«‹éƒ¨ç½²ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½</li>
<li><strong>ç‰ˆæœ¬ç®¡ç†</strong>ï¼šæ¯ä¸ªç»„ä»¶ç‹¬ç«‹ç‰ˆæœ¬è¿½è¸ª</li>
</ul>
<h3 data-id="heading-3">ä¼ ç»Ÿæ–¹æ¡ˆçš„é—®é¢˜</h3>

















<table><thead><tr><th>æ–¹æ¡ˆ</th><th>é—®é¢˜</th></tr></thead><tbody><tr><td><strong>ä¸²è¡Œæ„å»º</strong></td><td>N ä¸ªç»„ä»¶éœ€è¦ N Ã— T æ—¶é—´ï¼Œçº¿æ€§å¢é•¿</td></tr><tr><td><strong>ç®€å•å¹¶è¡Œ</strong></td><td>é™æ€åˆ†é…ä»»åŠ¡ï¼Œå¿«çš„æ ¸å¿ƒç©ºé—²ç­‰å¾…æ…¢çš„æ ¸å¿ƒ</td></tr></tbody></table>
<h2 data-id="heading-4">æ ¸å¿ƒåˆ›æ–°ï¼šåŠ¨æ€è´Ÿè½½å‡è¡¡è°ƒåº¦</h2>
<h3 data-id="heading-5">é™æ€å¹¶è¡Œ vs åŠ¨æ€è´Ÿè½½å‡è¡¡</h3>
<p>è¿™æ˜¯æœ¬æ„å»ºç³»ç»Ÿæœ€æ ¸å¿ƒçš„è®¾è®¡äº®ç‚¹ã€‚æˆ‘ä»¬æ¥å¯¹æ¯”ä¸¤ç§å¹¶è¡Œç­–ç•¥ï¼š</p>
<h4 data-id="heading-6">é™æ€å¹¶è¡Œåˆ†é…ï¼ˆä¼ ç»Ÿæ–¹æ¡ˆï¼‰</h4>
<p>é¢„å…ˆå°†æ‰€æœ‰ä»»åŠ¡å¹³å‡åˆ†é…ç»™æ¯ä¸ª CPU æ ¸å¿ƒã€‚å‡è®¾: 8ä¸ªç»„ä»¶, 4æ ¸CPU, ç»„ä»¶æ„å»ºæ—¶é—´ä¸åŒã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">gantt
    title é™æ€å¹¶è¡Œåˆ†é… - æ€»æ—¶é—´: 26s
    dateFormat s
    axisFormat %Sç§’
    
    section Core 0
    W1 (10s)     :a1, 0, 10s
    W5 (5s)      :a2, after a1, 5s
    ç©ºé—²ç­‰å¾…      :done, a3, after a2, 11s
    
    section Core 1
    W2 (8s)      :b1, 0, 8s
    W6 (12s)     :b2, after b1, 12s
    ç©ºé—²ç­‰å¾…      :done, b3, after b2, 6s
    
    section Core 2
    W3 (15s)     :c1, 0, 15s
    W7 (3s)      :c2, after c1, 3s
    ç©ºé—²ç­‰å¾…      :done, c3, after c2, 8s
    
    section Core 3
    W4 (6s)      :d1, 0, 6s
    W8 (20s)     :crit, d2, after d1, 20s
</code></pre>
<blockquote>
<p><strong>é—®é¢˜</strong>: æ ¸å¿ƒç©ºé—²æ—¶é—´æµªè´¹ï¼Œ"æœ¨æ¡¶æ•ˆåº”"â€”â€” æœ€æ…¢çš„æ ¸å¿ƒå†³å®šæ€»æ—¶é—´</p>
</blockquote>
<h4 data-id="heading-7">åŠ¨æ€è´Ÿè½½å‡è¡¡ï¼ˆæœ¬ç³»ç»Ÿæ–¹æ¡ˆï¼‰</h4>
<p>æ¯ä¸ªæ ¸å¿ƒå®Œæˆå½“å‰ä»»åŠ¡åï¼Œç«‹å³ä»é˜Ÿåˆ—è·å–ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">gantt
    title åŠ¨æ€è´Ÿè½½å‡è¡¡ - æ€»æ—¶é—´: ~21s
    dateFormat s
    axisFormat %Sç§’
    
    section Core 0
    W1 (10s)     :a1, 0, 10s
    W5 (5s)      :a2, after a1, 5s
    W7 (3s)      :a3, after a2, 3s
    W8å‰©ä½™ (3s)  :a4, after a3, 3s
    
    section Core 1
    W2 (8s)      :b1, 0, 8s
    W6 (12s)     :b2, after b1, 12s
    
    section Core 2
    W3 (15s)     :c1, 0, 15s
    å–æ–°ä»»åŠ¡      :c2, after c1, 5s
    
    section Core 3
    W4 (6s)      :d1, 0, 6s
    W8å‰æ®µ (14s) :d2, after d1, 14s
</code></pre>
<blockquote>
<p><strong>ä¼˜åŠ¿</strong>: æ ¸å¿ƒåˆ©ç”¨ç‡æœ€å¤§åŒ–ï¼Œæ— ç©ºé—²ç­‰å¾…</p>
</blockquote>
<h3 data-id="heading-8">è°ƒåº¦ç®—æ³•è¯¦è§£</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph Queue["ä»»åŠ¡é˜Ÿåˆ—"]
        Q["[W1, W2, W3, W4, ...]"]
    end
    
    Queue --&gt; Core0["Core 0&lt;br/&gt;å–å‡º W1"]
    Queue --&gt; Core1["Core 1&lt;br/&gt;å–å‡º W2"]
    Queue --&gt; CoreN["Core N&lt;br/&gt;å–å‡º WN"]
    
    Core0 --&gt; Build0["æ„å»ºä¸­"]
    Core1 --&gt; Build1["æ„å»ºä¸­"]
    CoreN --&gt; BuildN["æ„å»ºä¸­"]
    
    Build0 --&gt; Check0{"W1 å®Œæˆ!&lt;br/&gt;é˜Ÿåˆ—è¿˜æœ‰ä»»åŠ¡?"}
    Build1 --&gt; Check1{"W2 å®Œæˆ!&lt;br/&gt;é˜Ÿåˆ—è¿˜æœ‰ä»»åŠ¡?"}
    BuildN --&gt; CheckN{"WN å®Œæˆ!&lt;br/&gt;é˜Ÿåˆ—è¿˜æœ‰ä»»åŠ¡?"}
    
    Check0 --&gt;|Yes| Next["ç«‹å³å–å‡ºä¸‹ä¸€ä¸ª&lt;br/&gt;ä»»åŠ¡ç»§ç»­æ„å»º"]
    Check1 --&gt;|Yes| Next
    CheckN --&gt;|Yes| Next
    
    Next --&gt; Build0
    
    Check0 --&gt;|No| Done["æ‰€æœ‰ä»»åŠ¡å®Œæˆ&lt;br/&gt;â†’ æ‰§è¡Œåå¤„ç†ï¼ˆtag/zipï¼‰"]
    Check1 --&gt;|No| Done
    CheckN --&gt;|No| Done
</code></pre>
<h3 data-id="heading-9">æ ¸å¿ƒä»£ç å®ç°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å…³é”®è®¾è®¡ï¼šè¿›ç¨‹å®Œæˆå›è°ƒä¸­åŠ¨æ€åˆ†é…æ–°ä»»åŠ¡</span>
run.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-keyword">async</span> (code) =&gt; {
  <span class="hljs-comment">// å½“å‰ä»»åŠ¡å®Œæˆï¼Œä»å‰©ä½™é˜Ÿåˆ—ç§»é™¤</span>
  remainWidgetNames.<span class="hljs-title function_">shift</span>()
  
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å¾…æ„å»ºçš„ç»„ä»¶</span>
  <span class="hljs-keyword">if</span> (widgetNames.<span class="hljs-property">length</span> &amp;&amp; isMultipleBuild) {
    <span class="hljs-comment">// ğŸ”‘ æ ¸å¿ƒï¼šç«‹å³ä»é˜Ÿåˆ—å–å‡ºä¸‹ä¸€ä¸ªä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> name = widgetNames.<span class="hljs-title function_">shift</span>()
    
    <span class="hljs-comment">// æ›´æ–°è¿›åº¦æ˜¾ç¤º</span>
    spinner.<span class="hljs-property">text</span> = <span class="hljs-string">`æ­£åœ¨ç¼–è¯‘ç»„ä»¶: <span class="hljs-subst">${name}</span>ï¼Œå‰©ä½™: <span class="hljs-subst">${widgetNames.length}</span>`</span>
    
    <span class="hljs-comment">// ğŸ”‘ é€’å½’è°ƒç”¨ï¼Œè¯¥æ ¸å¿ƒç»§ç»­æ„å»ºä¸‹ä¸€ä¸ªç»„ä»¶</span>
    <span class="hljs-title function_">build</span>(name)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!remainWidgetNames.<span class="hljs-property">length</span>) {
    <span class="hljs-comment">// æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼Œæ‰§è¡Œåå¤„ç†</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">tag</span>()
    <span class="hljs-title function_">getHostPackage</span>()
  }
})
</code></pre>
<h3 data-id="heading-10">æ€§èƒ½å¯¹æ¯”åˆ†æ</h3>
<p>å‡è®¾åœºæ™¯ï¼š50 ä¸ªç»„ä»¶ï¼Œ8 æ ¸ CPUï¼Œç»„ä»¶æ„å»ºæ—¶é—´ 5-30 ç§’ä¸ç­‰</p>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>ä¸²è¡Œæ„å»º</th><th>é™æ€å¹¶è¡Œ</th><th>åŠ¨æ€è´Ÿè½½å‡è¡¡</th></tr></thead><tbody><tr><td><strong>ç†è®ºæ—¶é—´</strong></td><td>Î£(æ‰€æœ‰ç»„ä»¶æ—¶é—´)</td><td>max(å„æ ¸å¿ƒæ€»æ—¶é—´)</td><td>â‰ˆ Î£(æ—¶é—´) / CPU</td></tr><tr><td><strong>å®é™…è€—æ—¶</strong></td><td>~15 åˆ†é’Ÿ</td><td>~8 åˆ†é’Ÿ</td><td>~1-3 åˆ†é’Ÿ</td></tr><tr><td><strong>CPU åˆ©ç”¨ç‡</strong></td><td>12.5% (1/8)</td><td>~60-70%</td><td>~95%+</td></tr><tr><td><strong>æ ¸å¿ƒç©ºé—²</strong></td><td>7 æ ¸å…¨ç¨‹ç©ºé—²</td><td>å¿«æ ¸å¿ƒç­‰æ…¢æ ¸å¿ƒ</td><td>å‡ ä¹æ— ç©ºé—²</td></tr></tbody></table>
<h4 data-id="heading-11">CPU åˆ©ç”¨ç‡å¯¹æ¯”</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">pie showData
    title ä¸²è¡Œæ„å»º - å¹³å‡åˆ©ç”¨ç‡ 25%
    "Core 0 (å·¥ä½œ)" : 100
    "Core 1-3 (ç©ºé—²)" : 0
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">pie showData
    title é™æ€å¹¶è¡Œ - å¹³å‡åˆ©ç”¨ç‡ 66%
    "æœ‰æ•ˆåˆ©ç”¨" : 66
    "ç©ºé—²æµªè´¹" : 34
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">pie showData
    title åŠ¨æ€è´Ÿè½½å‡è¡¡ - å¹³å‡åˆ©ç”¨ç‡ 96%
    "æœ‰æ•ˆåˆ©ç”¨" : 96
    "ç©ºé—²" : 4
</code></pre>





































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>Core 0</th><th>Core 1</th><th>Core 2</th><th>Core 3</th><th>å¹³å‡åˆ©ç”¨ç‡</th></tr></thead><tbody><tr><td>ä¸²è¡Œæ„å»º</td><td>100%</td><td>0%</td><td>0%</td><td>0%</td><td><strong>25%</strong></td></tr><tr><td>é™æ€å¹¶è¡Œ</td><td>55%</td><td>70%</td><td>100% (ç“¶é¢ˆ)</td><td>40%</td><td><strong>66%</strong></td></tr><tr><td>åŠ¨æ€è´Ÿè½½å‡è¡¡</td><td>95%</td><td>98%</td><td>96%</td><td>97%</td><td><strong>96%+</strong></td></tr></tbody></table>
<h2 data-id="heading-12">ç³»ç»Ÿæ¶æ„</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph Entry["å…¥å£å±‚"]
        CLI["CLI å…¥å£"] --&gt; Parser["å‚æ•°è§£æ"] --&gt; Mode["æ¨¡å¼åˆ¤æ–­"]
    end
    
    Mode --&gt; Full["å…¨é‡æ„å»º&lt;br/&gt;(full)"]
    Mode --&gt; Dynamic["åŠ¨æ€è´Ÿè½½&lt;br/&gt;å‡è¡¡è°ƒåº¦"]
    Mode --&gt; Single["å•ç»„ä»¶&lt;br/&gt;å¿«é€Ÿæ„å»º"]
    
    Full --&gt; Queue
    Dynamic --&gt; Queue
    Single --&gt; Queue
    
    subgraph Queue["ä»»åŠ¡é˜Ÿåˆ— + Worker Pool"]
        Tasks["W1 | W2 | ... | Wn"]
    end
    
    Queue --&gt; Vite1["Vite P1&lt;br/&gt;(spawn)"]
    Queue --&gt; Vite2["Vite P2&lt;br/&gt;(spawn)"]
    Queue --&gt; ViteN["Vite PN&lt;br/&gt;(spawn)"]
    
    Vite1 --&gt;|å®Œæˆåå–æ–°ä»»åŠ¡| Queue
    Vite2 --&gt;|å®Œæˆåå–æ–°ä»»åŠ¡| Queue
    ViteN --&gt;|å®Œæˆåå–æ–°ä»»åŠ¡| Queue
    
    Vite1 --&gt; Post
    Vite2 --&gt; Post
    ViteN --&gt; Post
    
    subgraph Post["åå¤„ç†æµæ°´çº¿"]
        Tag["tag"] --&gt; Zip["zip"] --&gt; Clean["æ¸…ç†"]
    end
</code></pre>
<h2 data-id="heading-13">å¤šæ¨¡å¼æ„å»ºæ”¯æŒ</h2>





























<table><thead><tr><th>æ¨¡å¼</th><th>å‘½ä»¤</th><th>è°ƒåº¦ç­–ç•¥</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>å•ç»„ä»¶</strong></td><td><code>npm run build WidgetA</code></td><td>ç›´æ¥æ‰§è¡Œ</td><td>å¼€å‘è°ƒè¯•ï¼Œç§’çº§</td></tr><tr><td><strong>å¤šç»„ä»¶</strong></td><td><code>npm run build A,B,C</code></td><td>åŠ¨æ€è´Ÿè½½å‡è¡¡</td><td>å¢é‡å‘å¸ƒ</td></tr><tr><td><strong>å…¨é‡</strong></td><td><code>npm run build full</code></td><td>Vite å†…éƒ¨ä¼˜åŒ–</td><td>CI/CD æµæ°´çº¿</td></tr></tbody></table>
<h2 data-id="heading-14">è¿›ç¨‹é€šä¿¡è®¾è®¡</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph Main["ä¸»è¿›ç¨‹ (è°ƒåº¦å™¨)"]
        Scheduler["ä»»åŠ¡è°ƒåº¦"]
    end
    
    subgraph Env["ç¯å¢ƒå˜é‡ä¼ é€’"]
        E1["NODE_INDEX"]
        E2["BUILD_WIDGET_NAME"]
        E3["BUILD_MODE"]
    end
    
    subgraph Child["Vite å­è¿›ç¨‹ (æ„å»ºå¼•æ“)"]
        Builder["æ„å»ºæ‰§è¡Œ"]
    end
    
    subgraph Events["äº‹ä»¶å›è°ƒ"]
        Close["close: ä»»åŠ¡å®Œæˆé€šçŸ¥"]
        Stderr["stderr: é”™è¯¯/è­¦å‘Šä¸ŠæŠ¥"]
    end
    
    Main --&gt; Env --&gt; Child
    Child --&gt; Events --&gt; Main
</code></pre>
<h2 data-id="heading-15">ç‰ˆæœ¬è¿½è¸ªç³»ç»Ÿ</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph Dir["dist/WidgetName/"]
        Index["index.js&lt;br/&gt;æ„å»ºäº§ç‰©"]
        Tag["version.tag&lt;br/&gt;ç‰ˆæœ¬å…ƒä¿¡æ¯"]
    end
    
    subgraph TagContent["version.tag å†…å®¹"]
        Commit["commit: a1b2c3d&lt;br/&gt;Git Hash - ä»£ç ç‰ˆæœ¬"]
        Branch["branch: feature/xxx&lt;br/&gt;åˆ†æ”¯å - æ¥æºè¿½è¸ª"]
        User["userName: developer&lt;br/&gt;æ„å»ºè€… - è´£ä»»è¿½æº¯"]
    end
    
    Tag --&gt; TagContent
</code></pre>
<h2 data-id="heading-16">äº§ç‰©æ‰“åŒ…æµç¨‹</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    Start["æ„å»ºå®Œæˆ"] --&gt; Step1["1. åˆ›å»ºç›®å½•ç»“æ„&lt;br/&gt;wwwroot/resources + widgets"]
    Step1 --&gt; Step2["2. æ‹‰å–é™æ€èµ„æº&lt;br/&gt;git clone assets.git"]
    Step2 --&gt; Step3["3. å¤åˆ¶æ„å»ºäº§ç‰©&lt;br/&gt;dist/**/*.js â†’ widgets/"]
    Step3 --&gt; Step4["4. ZIP å‹ç¼©&lt;br/&gt;wwwroot/ â†’ wwwroot.zip"]
    Step4 --&gt; Step5["5. æ¸…ç†ä¸´æ—¶æ–‡ä»¶&lt;br/&gt;rm node_modules/.cache/wwwroot"]
</code></pre>
<h2 data-id="heading-17">ç”¨æˆ·ä½“éªŒ</h2>
<pre><code class="hljs language-python" lang="python">$ npm run build

â ‹ æ­£åœ¨ç¼–è¯‘ç»„ä»¶: QualityManagementï¼Œå‰©ä½™ç»„ä»¶æ•°é‡ï¼š<span class="hljs-number">45</span>

âœ” å·²ç»ç¼–è¯‘å®Œæ‰€æœ‰ç»„ä»¶ï¼Œæ­£åœ¨æ·»åŠ ç‰ˆæœ¬tagï¼Œè¯·ç¨å...
âœ” å¼€å§‹æ‰“åŒ…wwwroot.<span class="hljs-built_in">zip</span>åŒ…
âœ” /path/to/wwwroot.<span class="hljs-built_in">zip</span> å‹ç¼©æˆåŠŸ
âœ” ç¼–è¯‘æ€»æ—¶é—´: <span class="hljs-number">145.32</span>ç§’
</code></pre>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>ä¸Šè¿°å‡ ç§æ–¹æ¡ˆåœ¨å®é™…åº”ç”¨ä¸­éƒ½æœ‰ä½¿ç”¨è¿‡ï¼Œæ¯å½“ä¸€ç§æ–¹æ¡ˆé€ æˆç“¶é¢ˆåï¼Œå°±ä¼šç€æ‰‹ä¸‹ä¸€ä¸ªæ–¹æ¡ˆçš„æ‰§è¡Œï¼Œæå‡æ‰“åŒ…æ•ˆç‡ï¼Œç›®å‰åŠ¨æ€è´Ÿè½½å‡è¡¡æ‰“åŒ…æ–¹å¼å·²ç»ä½¿ç”¨äº†2å¹´ä¹‹ä¹…ï¼Œé€Ÿåº¦å¾ˆç¨³å®šï¼Œæ‰“åŒ…æ•ˆç‡å¾ˆé«˜ï¼Œå°±æ˜¯æ‰“åŒ…çš„æ—¶å€™ä¼šæ¯”è¾ƒåƒå†…å­˜ï¼Œè¿˜æ˜¯éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹çš„ï¼Œé˜²æ­¢å†…å­˜è¢«åƒå®Œï¼Œå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œå“ˆå“ˆğŸ˜„</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Day 20ï¼šå¼€æºä¸ªäººé¡¹ç›®æ—¶çš„ä¸€äº›æ³¨æ„äº‹é¡¹]]></title>    <link>https://juejin.cn/post/7579553111472291894</link>    <guid>https://juejin.cn/post/7579553111472291894</guid>    <pubDate>2025-12-04T02:47:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579553111472291894" data-draft-id="7579553111472242742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Day 20ï¼šå¼€æºä¸ªäººé¡¹ç›®æ—¶çš„ä¸€äº›æ³¨æ„äº‹é¡¹"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-04T02:47:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”³é˜³"/> <meta itemprop="url" content="https://juejin.cn/user/4353721775165486"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Day 20ï¼šå¼€æºä¸ªäººé¡¹ç›®æ—¶çš„ä¸€äº›æ³¨æ„äº‹é¡¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721775165486/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”³é˜³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T02:47:59.000Z" title="Thu Dec 04 2025 02:47:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8822786f79a4980aad2ae5684ab0636~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765421278&amp;x-signature=O7gIBNfViIp79aNDYcZUJFRSQ70%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>é¦–å…ˆå£°æ˜è¿™åªæ˜¯æˆ‘çš„ä¸ªäººç»éªŒï¼Œæˆ‘ä¹Ÿæ²¡æœ‰ä¸Šåƒ <code>star</code> çš„çƒ­é—¨å¼€æºé¡¹ç›®ï¼Œä¹Ÿä¸æ˜¯ä»€ä¹ˆå¼€æºå¤§ä½¬ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯ä¸ºäº†åˆ†äº«æˆ‘åœ¨æ‘¸ç´¢å¼€æºçš„æ—¶å€™æ€»ç»“çš„ä¸€äº›å°ç»éªŒã€‚å¦‚æœä½ æœ‰ä¸€äº›æ›´å¥½çš„å»ºè®®ï¼Œå¸Œæœ›å¤§å®¶ä¸€èµ·è®¨è®ºè®¨è®ºã€‚æˆ‘å°†ä»¥æˆ‘çš„è¿™ä¸ªé¡¹ç›®æ¥å±•å¼€ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoshenyang%2Fez-admin-springboot4" target="_blank" title="https://github.com/Caoshenyang/ez-admin-springboot4" ref="nofollow noopener noreferrer">github.com/Caoshenyangâ€¦</a></p>
<h2 data-id="heading-1">äºŒã€é¡¹ç›®å¯åŠ¨å‰ï¼šæƒ³æ¸…æ¥šå†å¼€å§‹</h2>
<blockquote>
<p>æˆ‘è¿™é‡Œè¯´çš„å¼€æºæ˜¯æŒ‡ï¼ŒæŠŠé¡¹ç›®å½“åšä¸€ä¸ªå®Œæ•´çš„äº§å“æ¥åšï¼Œè€Œä¸æ˜¯å°†ä»“åº“è®¾ç½®æˆ <code>public</code> ã€‚</p>
</blockquote>
<h3 data-id="heading-2">2.1. <strong>æ˜ç¡®é¡¹ç›®ç›®æ ‡ä¸ä»·å€¼</strong></h3>
<p>æˆ‘ä»¬åšå¼€æºé¦–å…ˆè¦æ˜ç¡®é¡¹ç›®çš„ç›®æ ‡ä¸ä»·å€¼ã€‚</p>
<p>åœ¨è¿™ä¸ªä¸“æ çš„å¼€ç¯‡æˆ‘å°±æåˆ°è¿‡ï¼Œè¦ä¹ˆæé«˜è‡ªèº«èƒ½åŠ›ï¼Œè¦ä¹ˆæé«˜ä¸ªäººå½±å“åŠ›ï¼Œè¦ä¹ˆå¸¦æ¥æ”¶å…¥ï¼Œå“ªæ€•æ˜¯æ”¶å…¥çš„å¯èƒ½æ€§ï¼Œä¸è¦â€œæ— ç§å¥‰çŒ®â€ï¼Œæˆ‘å¹¶ä¸æ˜¯è¯´â€œæ— ç§å¥‰çŒ®â€ä¸å¥½ï¼Œè€Œæ˜¯å¦‚æœä½ ä¸€ç›´â€œæ— ç§å¥‰çŒ®â€ï¼Œå½“çƒ­æƒ…è¢«æ¶ˆè€—å®Œä¹‹åï¼Œè¿™ä¸ªé¡¹ç›®å¤§æ¦‚ç‡èµ°ä¸é•¿è¿œã€‚</p>
<p>ä»¥æˆ‘è¿™ä¸ªé¡¹ç›®ä¸ºä¾‹ï¼š</p>
<p><strong>é¡¹ç›®çš„ä»·å€¼åœ¨å“ªé‡Œï¼Ÿ</strong></p>
<ol>
<li>ä½œä¸ºè¿™ä¸ªä¸“æ çš„è½åœ°æ¡ˆä¾‹ï¼Œæé«˜è¿™ä¸ªä¸“æ çš„çœŸå®æ€§</li>
<li>å°è¯•ä¸åŒçš„æ¶æ„ï¼Œæå‡è‡ªèº«æŠ€æœ¯èƒ½åŠ›</li>
<li>åšä¸€ä¸ªæœ€å°åŒ–æ¨¡ç‰ˆï¼Œæ–¹ä¾¿åç»­ä¸ªäººä¸šåŠ¡æ‹“å±•</li>
</ol>
<blockquote>
<p>å…¶å®æœ¬è´¨å°±æ˜¯å›´ç»•äº†ä»¥ä¸Šå‡ ç‚¹ï¼Œæé«˜ä¸ªäººå½±å“åŠ›ï¼Œä¸ºä»¥ååšä»˜è´¹æœåŠ¡åšé“ºå«ï¼ˆè¿™é‡Œæˆ‘ä¹Ÿä¸è£…é«˜å°šğŸ˜„ï¼‰ï¼Œæœ¬è´¨å°±æ˜¯å¦‚æ­¤ï¼Œå°Šé‡è‡ªå·±çš„ä»˜å‡ºã€‚</p>
</blockquote>
<h3 data-id="heading-3">2.2. é€‰æ‹©åˆé€‚çš„å¼€æºåè®®</h3>
<p>å¯¹äºå¼€æºåè®®è¿™ä¸ªæˆ‘ä¸ç»†è¯´ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ <code>gitee</code> çš„ä»‹ç»ï¼Œè¿™ä¸ªæ˜¯æ¯”è¾ƒæ¸…æ™°çš„ã€‚æ ¹æ®è‡ªå·±æƒ…å†µé€‰æ‹©å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02d7490c9ade4598a9432f0766f818c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765421278&amp;x-signature=FjS2UeC%2BeK7PFHBvol%2BIgd39ROM%3D" alt="image-20251203173437007" loading="lazy"/></p>
<h3 data-id="heading-4">2.3. åšå¥½å¸‚åœºè°ƒç ”</h3>
<p>ç›¸æ¯”ç›®å‰å¸‚é¢ä¸Šçš„äº§å“ï¼Œä½ çš„ä¸œè¥¿æ˜¯å¦æœ‰äº®ç‚¹ï¼Œå¯¹äºç±»ä¼¼äº§å“ï¼Œä½ çš„é¡¹ç›®æ˜¯æ›¿ä»£ã€è¡¥å……è¿˜æ˜¯ä¸ä»–ä»¬é›†æˆã€‚</p>
<p>è¿˜æ˜¯ä»¥æˆ‘è¿™ä¸ªé¡¹ç›®ä¸ºä¾‹ï¼Œé¦–å…ˆä½œä¸ºä¸“æ çš„è½åœ°é¡¹ç›®ï¼Œæ¯«æ— ç–‘é—®ï¼Œå…·æœ‰ä¸å¯æ›¿ä»£æ€§ï¼Œä»è¿™æ–¹é¢å‡ºå‘æ²¡æœ‰ç«å“ã€‚å…¶æ¬¡ï¼Œç›¸æ¯”äºå¸‚é¢ä¸Šçš„ä¼ä¸šçº§çš„å¼€æºåå°ç®¡ç†ç³»ç»Ÿï¼Œæˆ‘è¿™ä¸ªæ›´å€¾å‘äºä¸ªäººï¼Œæ›´åŠ è½»é‡åŒ–ï¼Œç»“æ„æ›´ç®€å•ï¼Œä¸éœ€è¦ä¸ºäº†å…¼å®¹å„ç§æƒ…å†µåšå¾ˆå¤šå…¼å®¹æ€§å¼€å‘ï¼Œè¿™æ ·ä»£ç ç»“æ„ä¼šå¾ˆæ¸…æ™°ã€‚å¾ˆå®¹æ˜“å¿«é€Ÿä¸Šæ‰‹ï¼Œè€Œä¸”å®Œå…¨åœ¨ä¸ªäººå¯æ§èŒƒå›´å†…ï¼Œä¸€ä¸ªäººä¹Ÿå¯ä»¥ç»´æŠ¤çš„è¿‡æ¥ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€é¡¹ç›®åˆå§‹åŒ–ï¼šæ‰“å¥½åŸºç¡€</h2>
<h3 data-id="heading-6">3.1. <strong>åˆ›å»ºä¸€ä¸ªæ¸…æ™°ä¸“ä¸šçš„ README.md</strong></h3>
<p><code>README</code> æ˜¯ä½ çš„é¡¹ç›®é—¨é¢ï¼Œå¿…é¡»ç²¾å¿ƒè®¾è®¡ã€‚</p>
<p>å®ƒåº”è¯¥åŒ…å«ï¼š</p>
<ul>
<li><strong>é¡¹ç›®åç§°å’Œ Logo</strong></li>
<li><strong>ä¸€å¥è¯ç®€ä»‹</strong></li>
<li><strong>è¯¦ç»†çš„åŠŸèƒ½ç‰¹æ€§åˆ—è¡¨</strong></li>
<li><strong>å®‰è£…å’Œä½¿ç”¨æŒ‡å—</strong>ï¼ˆå¿«é€Ÿå¼€å§‹ï¼‰</li>
<li><strong>æˆªå›¾ã€åŠ¨å›¾æˆ–æ¼”ç¤ºé“¾æ¥</strong>ï¼ˆè§†è§‰æ•ˆæœè‡³å…³é‡è¦ï¼‰</li>
<li><strong>æŒ‡å‘æ›´è¯¦ç»†æ–‡æ¡£çš„é“¾æ¥</strong></li>
</ul>
<blockquote>
<p>ä½ ä¸ç”¨åˆ»æ„å»åšè¿™äº›ï¼Œç­‰åˆ°ä¸Šè¿°ä¸€åˆ‡éƒ½å‡†å¤‡å¥½æ‰å¼€å§‹é¡¹ç›®ï¼Œåº”è¯¥æ˜¯å…ˆæœ‰é¡¹ç›®ï¼Œå†å»æ ¹æ®é¡¹ç›®ä¸æ–­å®Œå–„ä»–ã€‚</p>
</blockquote>
<h2 data-id="heading-7">å››ã€å¼€å‘ä¸ç»´æŠ¤ï¼šä¿æŒé¡¹ç›®å¥åº·</h2>
<blockquote>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼šå¦‚æœé¡¹ç›®ä¸»è¦ä½œä¸ºä¸ªäººä½œå“ã€æ•™ç¨‹æˆ–å®éªŒæ€§é¡¹ç›®å­˜åœ¨ï¼Œå…¶ç›®çš„ä¸æ˜¯æ„å»ºç¤¾åŒºï¼Œè€Œæ˜¯å±•ç¤ºæŸç§æŠ€æœ¯æˆ–æ€æƒ³ã€‚æˆ‘å»ºè®®æ˜¯é€‰æ‹©ä¸æ¥å— <code>PR</code> , ä»è¿™ç‚¹æ¥è¯´ï¼Œè¿™ä¸ªé¡¹ç›®å¹¶ä¸èƒ½è¯´æ˜¯ä¸€ä¸ªçœŸæ­£çš„â€œå¼€æºé¡¹ç›®â€ï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œå¼€æ”¾æºç çš„ä¸ªäººä½œå“â€ï¼Œåœ¨æ˜¾çœ¼çš„åœ°æ–¹åŠ ä¸Šå£°æ˜ï¼š<strong>â—ï¸æ³¨æ„ï¼šæœ¬ä»“åº“ä¸æ¥å— Pull Request</strong> ï¼Œè¯·æ”¹ä¸ºæäº¤ <code>Issue</code> æ¥æè¿°ä½ çš„å»ºè®®æˆ–é—®é¢˜ã€‚</p>
</blockquote>
<h2 data-id="heading-8">äº”ã€ä»£ç æäº¤æ—¶çš„ä¸€äº›ç»†èŠ‚</h2>
<h3 data-id="heading-9">5.1. æ³¨æ„æ•°æ®å®‰å…¨</h3>
<p>å½“æˆ‘ä»¬å‡†å¤‡å°†é¡¹ç›®æ‰˜ç®¡åˆ° <code>GitHub</code> ä¸Šçš„æ—¶å€™ï¼Œä¸€å®šä¸€å®šè¦æ³¨æ„ï¼Œç‰¹åˆ«æ˜¯æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ï¼Œæœ‰çš„æ—¶å€™æœ¬åœ°å¼€å‘å›¾æ–¹ä¾¿ï¼Œç›´æ¥å°±æŠŠä¸€äº›è´¦å·å¯†ç ï¼Œç­¾åå¯†é’¥ï¼Œç›´æ¥å†™åœ¨é…ç½®æ–‡ä»¶é‡Œäº†ï¼Œç¨æœ‰ç–å¿½å°±ä¼šæäº¤å‡ºå»ï¼Œç›´æ¥è£¸å¥”ã€‚</p>
<p>æ­£ç¡®åšæ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šé€šè¿‡è¯»å–é…ç½®çš„ç¯å¢ƒå˜é‡æ¥åšã€‚</p>
<pre><code class="hljs language-yml" lang="yml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">application:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">ez-admin-springboot4</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:ez_admin_db}?useUnicode=${DB_USE_UNICODE:true}&amp;characterEncoding=${DB_CHARSET:UTF-8}</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">${DB_USERNAME:postgres}</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">${DB_PASSWORD:postgres}</span>
    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">org.postgresql.Driver</span>
  <span class="hljs-attr">jpa:</span>
    <span class="hljs-attr">hibernate:</span>
      <span class="hljs-attr">ddl-auto:</span> <span class="hljs-string">update</span>
    <span class="hljs-attr">show-sql:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">properties:</span>
      <span class="hljs-attr">hibernate:</span>
        <span class="hljs-attr">dialect:</span> <span class="hljs-string">org.hibernate.dialect.PostgreSQLDialect</span>
        <span class="hljs-attr">format_sql:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">open-in-view:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># æ˜¾å¼å¯ç”¨ OpenEntityManagerInViewï¼ˆæ¶ˆé™¤è­¦å‘Šï¼‰</span>
</code></pre>
<h3 data-id="heading-10">5.2. æäº¤æ—¶è´¦å·é…ç½®</h3>
<p>å…ˆçœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œé¦–å…ˆå£°æ˜è¿™ä¸ªé¡¹ç›®åªæœ‰æˆ‘ä¸€ä¸ªäººç»´æŠ¤</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86d2fbfae1fc405f9ecd7137b6b4f705~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765421278&amp;x-signature=WuDaxn5uSWXi0pBB2ltxM%2Fc25UM%3D" alt="image-20251204100844915" loading="lazy"/></p>
<p>æ³¨æ„åˆ°ä¸¤ç‚¹ï¼š</p>
<ol>
<li>æ˜æ˜æ˜¯æˆ‘è‡ªå·±çš„ <code>Github</code> è´¦å·æäº¤ä¸Šå»çš„ï¼Œä¸ºä»€ä¹ˆä¸æ˜¾ç¤ºå¤´åƒ</li>
<li>ä¸ºä»€ä¹ˆæœ‰çš„æäº¤è®°å½•ä¸Šæœ‰ <code>Verified</code> æ ‡ç­¾ï¼Œæœ‰çš„æ²¡æœ‰ã€‚</li>
</ol>
<p><strong>ç¬¬ä¸€ç‚¹ï¼š</strong> æˆ‘é…ç½®äº† <code>GitHub</code> çš„æˆæƒï¼Œä½†æ˜¯å› ä¸ºå…¬å¸çš„é¡¹ç›®ï¼Œæˆ‘å…¨å±€è®¾ç½®äº†ç”¨æˆ·åå’Œé‚®ç®±ï¼Œå¯¼è‡´å®é™…çš„ç”¨æˆ·åå’Œé‚®ç®±ä¸ <code>GitHub</code> çš„ç”¨æˆ·åä¸åŒ¹é…äº†ï¼Œæ‰€ä»¥å‡ºç°äº†è¿™ç§æƒ…å†µï¼Œåªéœ€è¦åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼Œå±€éƒ¨æ›´æ”¹ä¸€ä¸‹</p>
<pre><code class="hljs language-bash" lang="bash">git config user.name <span class="hljs-string">"Your Name"</span>
git config user.email <span class="hljs-string">"project-email@company.com"</span>
</code></pre>
<p>æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œä¸»è¦æ˜¯ç”±é‚®ç®±å†³å®šçš„ï¼Œåç§°å…¶å®ä¸å½±å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d12e6904704427f917984d92c2d72e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55Sz6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765421278&amp;x-signature=DaR%2FCMUykOi7%2BTKc2r7ZVyZ5MjY%3D" alt="image-20251204102933184" loading="lazy"/></p>
<p><strong>ç¬¬äºŒç‚¹ï¼š</strong> å¦‚æœæƒ³è¦æœ‰è¿™ä¸ªéªŒè¯æ ‡ç­¾ï¼Œå¯ä»¥è¯¦ç»†çœ‹ä¸€ä¸‹è¿™é‡Œï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.github.com%2Fzh%2Fauthentication%2Fmanaging-commit-signature-verification%2Fabout-commit-signature-verification" target="_blank" title="https://docs.github.com/zh/authentication/managing-commit-signature-verification/about-commit-signature-verification" ref="nofollow noopener noreferrer">docs.github.com/zh/authentiâ€¦</a></p>
<blockquote>
<p>å…¶å®å¯¹äºæˆ‘è¿™ä¸ªé¡¹ç›®æ¥è¯´ï¼Œæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œåªæ˜¯çœ‹åˆ°äº†ï¼Œå°±å»äº†è§£äº†ä¸€ä¸‹ã€‚</p>
</blockquote>
<ul>
<li><strong>SSH å¯†é’¥ï¼šåƒæ˜¯ä½ å®¶çš„ã€é—¨ç¦å¡/é’¥åŒ™ã€‘</strong>
<ul>
<li><strong>ç›®çš„ï¼šèº«ä»½è®¤è¯ã€‚</strong> ç”¨äºè¯æ˜â€œä½ å°±æ˜¯ä½ â€ï¼Œä»è€Œè·å¾—è®¿é—®æƒé™ã€‚</li>
<li><strong>åº”ç”¨åœºæ™¯ï¼š</strong> åœ¨ GitHub/GitLab ä¸Šï¼Œç”¨å®ƒæ¥<strong>å®‰å…¨åœ°æ¨é€ä»£ç </strong>ï¼Œä»£æ›¿è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚å®ƒè®©ä½ èƒ½å¤Ÿä¸è¿œç¨‹ä»“åº“è¿›è¡Œè¯»å†™æ“ä½œï¼ˆå¦‚ <code>git push</code>, <code>git pull</code>ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>GPG å¯†é’¥ï¼šåƒæ˜¯ä½ æ–‡ä»¶ä¸Šçš„ã€å®˜æ–¹å°ç« å’Œèœ¡å°ã€‘</strong>
<ul>
<li><strong>ç›®çš„ï¼šæ•°å­—ç­¾åã€‚</strong> ç”¨äºè¯æ˜â€œè¿™ä»½æ–‡ä»¶ï¼ˆä»£ç ï¼‰ç¡®å®æ˜¯ä½ æœ¬äººå‘å¸ƒçš„ï¼Œå¹¶ä¸”åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«ç¯¡æ”¹â€ã€‚</li>
<li><strong>åº”ç”¨åœºæ™¯ï¼š</strong> ä¸ºä½ çš„ <strong>Git æäº¤</strong> å’Œ <strong>Tag</strong> åˆ›å»ºåŠ å¯†ç­¾åï¼Œä½¿å…¶åœ¨ GitHub ä¸Šæ˜¾ç¤ºä¸º <strong>â€œVerifiedâ€</strong> æ ‡è®°ã€‚å®ƒéªŒè¯çš„æ˜¯ä»£ç çš„å®Œæ•´æ€§å’Œæ¥æºã€‚</li>
</ul>
</li>
</ul>
<p><strong>å¯¹æ¯”è¡¨æ ¼ï¼š</strong></p>








































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">SSH å¯†é’¥</th><th align="left">GPG å¯†é’¥</th></tr></thead><tbody><tr><td align="left"><strong>ä¸»è¦ç”¨é€”</strong></td><td align="left"><strong>è®¤è¯</strong> - å®‰å…¨è®¿é—®æœåŠ¡å™¨/ä»£ç ä»“åº“</td><td align="left"><strong>ç­¾å</strong> - éªŒè¯æäº¤/æ ‡ç­¾çš„å®Œæ•´æ€§å’Œä½œè€…</td></tr><tr><td align="left"><strong>GitHub ä¸Šçš„ä½“ç°</strong></td><td align="left">å…è®¸ä½ æ‰§è¡Œ <code>git push</code>ç­‰æ“ä½œ</td><td align="left">åœ¨ä½ çš„æäº¤ä¸Šæ˜¾ç¤º <strong>Verified</strong> æ ‡è®°</td></tr><tr><td align="left"><strong>æ˜¯å¦å¿…é¡»</strong></td><td align="left"><strong>å¼ºçƒˆæ¨è</strong>ï¼ˆå‡ ä¹å¿…å¤‡ï¼Œä¸ºäº†å®‰å…¨å’Œæ–¹ä¾¿ï¼‰</td><td align="left"><strong>å¯é€‰</strong>ï¼ˆä¸ºäº†æ›´é«˜çš„å®‰å…¨æ€§å’Œä¸“ä¸šåº¦ï¼‰</td></tr><tr><td align="left"><strong>é…ç½®å¤æ‚åº¦</strong></td><td align="left">ç®€å•</td><td align="left">ç›¸å¯¹å¤æ‚</td></tr><tr><td align="left"><strong>å¯¹ä¸ªäººé¡¹ç›®çš„ä»·å€¼</strong></td><td align="left">é«˜ï¼ˆå®‰å…¨æ¨é€ä»£ç ï¼‰</td><td align="left">ä¸­ä½ï¼ˆé™¤éé¡¹ç›®éå¸¸ä¸¥è‚ƒæˆ–ç”¨äºåä½œï¼‰</td></tr><tr><td align="left"><strong>å¯¹å¼€æºåä½œé¡¹ç›®çš„ä»·å€¼</strong></td><td align="left">é«˜</td><td align="left">é«˜ï¼ˆå°¤å…¶æ˜¯å¤§å‹é¡¹ç›®ï¼Œç”¨äºç¡®ä¿æäº¤å¯ä¿¡ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-11">å…­ã€æ€»ç»“</h2>
<p>å½“æˆ‘ä»¬æƒ³è¦åšå¥½ä¸€ä¸ªäº§å“çš„æ—¶å€™ï¼Œæ€ç»´åªåœç•™åœ¨ç¼–ç å±‚é¢è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œåœ¨è¿›è¡Œç®¡ç†ï¼Œæ¨å¹¿ç­‰ç­‰ï¼Œå„æ–¹é¢æœ‰å¾ˆå¤šç»†èŠ‚éœ€è¦å¤„ç†ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªæ­£åœ¨æ‘¸ç´¢çš„äººï¼Œæˆ‘å°½é‡å°†æˆ‘ç¢°åˆ°çš„é—®é¢˜å‘è¡¨å‡ºæ¥ï¼Œæˆ–è®¸æœ‰äº›ç‰‡é¢ï¼Œå¦‚æœä½ æœ‰ä¸€äº›æ›´å¥½çš„æ„è§æ¬¢è¿è¯„è®ºåŒºåˆ†äº«ã€‚</p>
<p><strong>åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚ä½ çš„â€œä¸ªäººå…¬å¸â€ä»è¿™ç¬¬ä¸€ä¸ª2å°æ—¶å¼€å§‹ã€‚æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„è¿›å±•æˆ–é‡åˆ°çš„å¡ç‚¹ï¼Œæˆ‘ä¼šé€ä¸€æŸ¥çœ‹ï¼Œå°½å¯èƒ½çš„å¸®åŠ©è§£å†³ã€‚æˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« è§ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[gitæäº¤ä»£ç å¤±è´¥ï¼Ÿæœ¬åœ°ä»£ç è¢«æ¸…ç©ºäº†ï¼Ÿgitä»£ç ä¸¢äº†æ€ä¹ˆåŠï¼Ÿä¸‰æ­¥å¸®ä½ æ‰¾å›æ¥]]></title>    <link>https://juejin.cn/post/7579476335557165091</link>    <guid>https://juejin.cn/post/7579476335557165091</guid>    <pubDate>2025-12-04T01:21:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579476335557165091" data-draft-id="7579480677902073891" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="gitæäº¤ä»£ç å¤±è´¥ï¼Ÿæœ¬åœ°ä»£ç è¢«æ¸…ç©ºäº†ï¼Ÿgitä»£ç ä¸¢äº†æ€ä¹ˆåŠï¼Ÿä¸‰æ­¥å¸®ä½ æ‰¾å›æ¥"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2025-12-04T01:21:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åº¸ä¿—ä»Šå¤©ä¸æ‘¸é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/3725616663503053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            gitæäº¤ä»£ç å¤±è´¥ï¼Ÿæœ¬åœ°ä»£ç è¢«æ¸…ç©ºäº†ï¼Ÿgitä»£ç ä¸¢äº†æ€ä¹ˆåŠï¼Ÿä¸‰æ­¥å¸®ä½ æ‰¾å›æ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3725616663503053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åº¸ä¿—ä»Šå¤©ä¸æ‘¸é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T01:21:42.000Z" title="Thu Dec 04 2025 01:21:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>åªè¦ä½ add.ä¹Ÿå°±æ˜¯ä½ æäº¤æš‚å­˜æ›´æ”¹ï¼Œgitå°±ä¼šç•™ä¸‹æ“ä½œè®°å½•gitç»™ä½ çš„ä»£ç ç•™ä¸‹å¿«ç…§ï¼Œé‚£ä¹ˆä½ å°±èƒ½é€šè¿‡gitå‘½ä»¤å¸®ä½ æ‰¾å›æ¥ä½ ä¸¢å¤±çš„ä»£ç </strong></p>
<p><strong>æ–‡ä»¶è¢«Â <code>git reset</code>Â å–æ¶ˆæš‚å­˜ï¼Œä¸”å·¥ä½œåŒºæ–‡ä»¶å¯èƒ½è¢«è¯¯åˆ  / è¦†ç›–</strong>ï¼Œä½† Git ä»ä¿ç•™ç€è¿™äº›æ–‡ä»¶çš„ â€œæš‚å­˜è®°å½•â€ï¼Œå¯ä»¥é€šè¿‡ Git åº•å±‚å¯¹è±¡æ¢å¤ã€‚ä»¥ä¸‹æ˜¯é’ˆå¯¹æ€§çš„æ¢å¤æ­¥éª¤ï¼Œåˆ† â€œå¿«é€Ÿæ‰¾å›â€ å’Œ â€œæ·±åº¦æ¢å¤â€ ä¸¤ç§æ–¹æ¡ˆï¼Œç¡®ä¿èƒ½æ‰¾å›æ‰€æœ‰ä¸¢å¤±çš„ä»£ç </p>
</blockquote>
<h3 data-id="heading-0">ç”¨Â <code>git reflog</code>Â æ¢å¤æœ€è¿‘çš„ä¿®æ”¹ï¼ˆ100% è¦†ç›–ä½ ä¸¢å¤±çš„ä»£ç ï¼‰</h3>
<ol>
<li><strong>æŸ¥çœ‹æ‰€æœ‰ Git æ“ä½œå†å²</strong>ï¼ˆåŒ…æ‹¬Â <code>add</code>/<code>reset</code>/<code>commit</code>ï¼Œèƒ½çœ‹åˆ°ä½ ä¹‹å‰çš„ä¿®æ”¹è®°å½•ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">ç”¨ git reflog æ¢å¤æœ€è¿‘çš„ä¿®æ”¹ï¼ˆ100% è¦†ç›–ä½ ä¸¢å¤±çš„ä»£ç ï¼‰
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9dae3ddbbff44c5ab4b55ecbd9d844df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bq45L-X5LuK5aSp5LiN5pG46bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765416102&amp;x-signature=cP7GrWxzFm%2FZwB%2B8WsyQwhy%2FM4c%3D" alt="image.png" loading="lazy"/></p>
<p>è¾“å‡ºç¤ºä¾‹ï¼ˆé‡ç‚¹çœ‹<strong>æ—¶é—´å’Œæ“ä½œ</strong>ï¼Œæ‰¾ å®é™…æ“ä½œçš„æ—¶é—´ä¾‹å¦‚ 17ï¼š33 å·¦å³çš„è®°å½•ï¼‰ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">d02c1bc (HEAD) HEAD@{0}: reset: ...
abc1234 HEAD@{1}: add: .eslintrc-auto-import.json ...  # ä½ æ‰§è¡Œ git add çš„è®°å½•
def4567 HEAD@{2}: commit: xxx
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca7f4d3cf55747eabb2824273df690fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bq45L-X5LuK5aSp5LiN5pG46bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765416102&amp;x-signature=Udg0sCqJNRxrfXMXMB2ZnlFX%2BGc%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>
<p><strong>æŸ¥çœ‹å¤‡ä»½å†…å®¹</strong>ï¼ˆç¡®è®¤å¤‡ä»½åŒ…å«ä½ çš„ä¿®æ”¹ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ stash å¤‡ä»½çš„è¯¦ç»†ä¿¡æ¯ï¼ˆç¡®è®¤æ˜¯ä½ ä¸¢å¤±çš„æ–‡ä»¶ï¼‰</span>
git stash show -p XXXXX
</code></pre>
<ul>
<li>æ‰§è¡Œåä¼šè¾“å‡ºå¤‡ä»½ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¿®æ”¹å†…å®¹ï¼Œä½ ä¼šçœ‹åˆ°Â <code>xxx.vue</code>ã€<code>xxx.ts</code>Â ç­‰æ–‡ä»¶çš„ä»£ç ï¼Œè¯´æ˜å¤‡ä»½æœ‰æ•ˆã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p>è¿™é‡Œä¼šå‡ºç°æ˜¾ç¤ºä¸å®Œå…¨çš„æƒ…å†µï¼Œæ²¡æ‰¾åˆ°ä½ çš„æ–‡ä»¶ä¸è¦æ…Œå¼ ï¼Œä»Â <code>git stash show</code>Â è¾“å‡ºçœ‹ï¼Œå½“å‰æ˜¾ç¤ºçš„åªæ˜¯<strong>éƒ¨åˆ†</strong>çš„ä¿®æ”¹ï¼Œ<strong>ä¸æ˜¯å®Œæ•´çš„å¤‡ä»½å†…å®¹</strong>ï¼ˆå› ä¸ºè¾“å‡ºè¢«æˆªæ–­äº†ï¼Œæœ«å°¾æœ‰Â <code>:...skipping...</code>ï¼‰ã€‚ä½ çš„æ ¸å¿ƒä»£ç ï¼ˆ<code>xxx.vue</code>ã€<code>xxx.ts</code>Â ç­‰ï¼‰å…¶å®è¿˜åœ¨è¿™ä¸ª stash å¤‡ä»½é‡Œï¼Œåªæ˜¯æ²¡æ˜¾ç¤ºå…¨ï¼</p>
</blockquote>
<ol start="3">
<li><strong>ç°åœ¨ç›´æ¥æ‰§è¡Œï¼šæ¢å¤å®Œæ•´çš„ stash å¤‡ä»½ï¼ˆä¸ç”¨ç®¡éƒ¨åˆ†æ˜¾ç¤ºï¼‰</strong></li>
</ol>
<p>ä¸ç”¨çº ç»“æ˜¾ç¤ºçš„å†…å®¹ï¼Œç›´æ¥åº”ç”¨æ•´ä¸ª stash å¤‡ä»½ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½ä¼šæ¢å¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼ºåˆ¶åº”ç”¨ stash å¤‡ä»½ï¼Œè¦†ç›–å½“å‰å·¥ä½œåŒºï¼ˆç¡®ä¿æ‰€æœ‰ä¿®æ”¹éƒ½å›æ¥ï¼‰</span>
git stash pop xxxxxx
</code></pre>
<hr/>
<p><strong>å¤‡ç”¨æ–¹æ¡ˆ</strong></p>
<ol>
<li>
<p>æ‰“å¼€Â <strong>Git Bash</strong>ï¼ˆåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ç©ºç™½å¤„å³é”® â†’ Git Bash Hereï¼Œç›´æ¥è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼‰ï¼›</p>
</li>
<li>
<p>æŠŠè„šæœ¬Â <strong>é€è¡Œå¤åˆ¶ç²˜è´´åˆ° Git Bash ä¸­</strong>ï¼ŒæŒ‰å›è½¦æ‰§è¡Œï¼ˆä¸éœ€è¦ä¿å­˜ä¸ºæ–‡ä»¶ï¼Œç›´æ¥ç²˜è´´è¿è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ./recovered_files
<span class="hljs-built_in">cd</span> .git/objects || <span class="hljs-built_in">exit</span>
<span class="hljs-keyword">for</span> <span class="hljs-built_in">dir</span> <span class="hljs-keyword">in</span> [0-9a-f][0-9a-f]; <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">$dir</span>"</span>/*; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$file</span>"</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">hash</span>=<span class="hljs-string">"$dir<span class="hljs-variable">${file#$dir/}</span>"</span>
      <span class="hljs-built_in">type</span>=$(git cat-file -t <span class="hljs-string">"<span class="hljs-variable">$hash</span>"</span> 2&gt;/dev/null)
      <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$type</span>"</span> = <span class="hljs-string">"blob"</span> ]; <span class="hljs-keyword">then</span>
        git cat-file -p <span class="hljs-string">"<span class="hljs-variable">$hash</span>"</span> &gt; <span class="hljs-string">"../../recovered_files/<span class="hljs-variable">$hash</span>"</span>
        <span class="hljs-keyword">if</span> git cat-file -p <span class="hljs-string">"<span class="hljs-variable">$hash</span>"</span> 2&gt;/dev/null | grep -q <span class="hljs-string">"&lt;template"</span>; <span class="hljs-keyword">then</span>
          <span class="hljs-built_in">mv</span> <span class="hljs-string">"../../recovered_files/<span class="hljs-variable">$hash</span>"</span> <span class="hljs-string">"../../recovered_files/<span class="hljs-variable">$hash</span>.vue"</span>
        <span class="hljs-keyword">elif</span> git cat-file -p <span class="hljs-string">"<span class="hljs-variable">$hash</span>"</span> 2&gt;/dev/null | grep -q <span class="hljs-string">"export default"</span>; <span class="hljs-keyword">then</span>
          <span class="hljs-built_in">mv</span> <span class="hljs-string">"../../recovered_files/<span class="hljs-variable">$hash</span>"</span> <span class="hljs-string">"../../recovered_files/<span class="hljs-variable">$hash</span>.ts"</span>
        <span class="hljs-keyword">elif</span> git cat-file -p <span class="hljs-string">"<span class="hljs-variable">$hash</span>"</span> 2&gt;/dev/null | grep -q <span class="hljs-string">"{"</span><span class="hljs-string">"; then
          mv "</span>../../recovered_files/<span class="hljs-variable">$hash</span><span class="hljs-string">" "</span>../../recovered_files/<span class="hljs-variable">$hash</span>.json<span class="hljs-string">"
        fi
      fi
    fi
  done
done
cd ../.. || exit
echo "</span>æ‰€æœ‰æ–‡ä»¶å¿«ç…§å·²å¯¼å‡ºåˆ° ./recovered_files ç›®å½•<span class="hljs-string">"
</span></code></pre>
</li>
<li>
<p>æ‰§è¡Œåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”ŸæˆÂ <code>recovered_files</code>Â æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å°±æ˜¯æ‰€æœ‰ Git ç¼“å­˜çš„æ–‡ä»¶å¿«ç…§ã€‚</p>
</li>
</ol>
<ul>
<li>è¡Œåï¼Œæ‰“å¼€Â <code>./recovered_files</code>Â ç›®å½•ï¼Œé‡Œé¢ä¼šæœ‰æ‰€æœ‰ Git ç¼“å­˜çš„æ–‡ä»¶å¿«ç…§ï¼›</li>
<li>æŒ‰æ–‡ä»¶ç±»å‹ï¼ˆ<code>.vue</code>ã€<code>.ts</code>ï¼‰ç­›é€‰ï¼Œæ‰¾åˆ°ä½ ä¸¢å¤±çš„æ–‡ä»¶ï¼ˆå¦‚Â <code>xxx.vue</code>ã€<code>xxxx.ts</code>ï¼‰ï¼Œå¤åˆ¶å›é¡¹ç›®å¯¹åº”çš„ç›®å½•å³å¯ã€‚</li>
</ul>
<h4 data-id="heading-1">2. ç²¾å‡†ç­›é€‰ä¸¢å¤±çš„æ–‡ä»¶</h4>
<p>å¦‚æœÂ <code>recovered_files</code>Â æ–‡ä»¶å¤ªå¤šï¼Œç”¨å…³é”®è¯æœç´¢å¿«é€Ÿå®šä½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœç´¢åŒ…å« "xxxxx" å…³é”®è¯çš„æ–‡ä»¶ï¼ˆVue ç»„ä»¶ï¼‰</span>
grep -r <span class="hljs-string">"xxxxxx"</span> ./recovered_files --include=<span class="hljs-string">"*.vue"</span>

<span class="hljs-comment"># æœç´¢åŒ…å« "xxxx" å…³é”®è¯çš„æ–‡ä»¶ï¼ˆTS æ¥å£/APIï¼‰</span>
grep -r <span class="hljs-string">"xxxxxx"</span> ./recovered_files --include=<span class="hljs-string">"*.ts"</span>

<span class="hljs-comment"># æœç´¢åŒ…å« "xxxxxxxx" jsonæ–‡ä»¶</span>
grep -r <span class="hljs-string">"xxxxxx"</span> ./recovered_files --include=<span class="hljs-string">"*.json"</span>
</code></pre>
<ul>
<li>æ‰¾åˆ°åï¼Œå¤åˆ¶æ–‡ä»¶åˆ°é¡¹ç›®åŸè·¯å¾„ï¼Œä»£ç ç›´æ¥æ¢å¤ã€‚</li>
</ul>
<h3 data-id="heading-2">å››ã€ä¸ºä»€ä¹ˆæ–‡ä»¶ä¼š â€œä¸åœ¨æš‚å­˜åŒºâ€ï¼Ÿï¼ˆæ—¥å¿—å¤ç›˜ï¼‰</h3>
<p>ä»æ—¥å¿—çœ‹ï¼Œä½ åœ¨Â <code>git add</code>Â åæ‰§è¡Œäº†å¤šæ¬¡Â <code>git reset</code>Â å‘½ä»¤ï¼Œå¯¼è‡´éƒ¨åˆ†æ–‡ä»¶è¢«å–æ¶ˆæš‚å­˜ï¼š</p>
<ul>
<li>è¿™äº›Â <code>reset</code>Â æ“ä½œä»…å–æ¶ˆ â€œæš‚å­˜çŠ¶æ€â€ï¼Œä½†é»˜è®¤ä¸ä¼šåˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ã€‚å¦‚æœå·¥ä½œåŒºæ–‡ä»¶ä¹Ÿä¸¢äº†ï¼Œå¯èƒ½æ˜¯åç»­è¯¯åˆ æˆ– IDE åŒæ­¥é—®é¢˜ï¼Œä½† Git ç¼“å­˜çš„å¿«ç…§è¿˜åœ¨ï¼Œé€šè¿‡ä¸Šé¢çš„æ–¹æ¡ˆèƒ½æ¢å¤ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åšä¸­å›½äººè‡ªå·±çš„è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ï¼ŒWebCutæ­£å¼å¼€æº]]></title>    <link>https://juejin.cn/post/7579819594270900262</link>    <guid>https://juejin.cn/post/7579819594270900262</guid>    <pubDate>2025-12-04T09:22:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579819594270900262" data-draft-id="7579628944037249033" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åšä¸­å›½äººè‡ªå·±çš„è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ï¼ŒWebCutæ­£å¼å¼€æº"/> <meta itemprop="keywords" content="éŸ³è§†é¢‘å¼€å‘,å‰ç«¯æ¡†æ¶,è§†é¢‘ç¼–ç "/> <meta itemprop="datePublished" content="2025-12-04T09:22:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦å­æˆˆ"/> <meta itemprop="url" content="https://juejin.cn/user/4072246798192349"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åšä¸­å›½äººè‡ªå·±çš„è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ï¼ŒWebCutæ­£å¼å¼€æº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246798192349/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦å­æˆˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T09:22:54.000Z" title="Thu Dec 04 2025 09:22:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37e4448b90a84520b3e06bbafe859c15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCm5a2Q5oiI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765445064&amp;x-signature=emVn2bgZzC4z4K5%2Bn6I3ta%2BaTzI%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftangshuang%2Fwebcut" target="_blank" title="https://github.com/tangshuang/webcut" ref="nofollow noopener noreferrer">github.com/tangshuang/â€¦</a></p>
</blockquote>
<p>æœ‹å‹ä»¬æ™šä¸Šå¥½å•Šï¼Œè¿™æ®µæ—¶é—´æˆ‘åœ¨å¿™ç€å®Œæˆæœ€æ–°çš„å¼€æºé¡¹ç›®<code>WebCut</code>ã€‚è¿™ä¸ªé¡¹ç›®æ˜¯æˆ‘è¿™å°åŠå¹´æ¥å”¯ä¸€çš„å¼€æºæ–°é¡¹ç›®ï¼Œè¿™å¯¹æ¯”æˆ‘è¿‡å»å‡ å¹´çš„ä¸€äº›å¼€æºäº‹è¿¹æ¥è¯´ï¼ŒçœŸçš„æ˜¯ä¸€æ®µä½äº§è’ã€‚ä¸è¿‡è¿™æ˜¯æ­£å¸¸çš„ï¼Œæ²¡æœ‰ä»»ä½•äººå¯ä»¥é•¿æ—¶é—´çš„ä¸€ç›´å‘å¸ƒæ–°é¡¹ç›®ï¼Œè¿™ç§æ²‰å¯‚ï¼Œæ­£æ˜¯å› ä¸ºæˆ‘æŠŠæ—¶é—´å’Œç²¾åŠ›éƒ½æŠ•å…¥åœ¨å…¶ä»–äº‹æƒ…ä¸Šï¼Œæ‰€ä»¥å…¶å®æ˜¯å¥½äº‹ã€‚ä¹‹æ‰€ä»¥è¦å‘èµ·å’Œå¼€æºè¿™ä¸ªé¡¹ç›®ï¼Œè¯´èµ·æ¥è¿˜æ˜¯æœ‰äº›èƒŒæ™¯ï¼Œä¸‹é¢æˆ‘ä¼šæ¥èŠä¸€èŠå…³äºè¿™ä¸ªé¡¹ç›®çš„ä¸€äº›èƒŒæ™¯ï¼Œä»¥åŠè¿‡ç¨‹ä¸­åœ¨æŠ€æœ¯ä¸Šçš„ä¸€äº›æ¢ç´¢ã€‚</p>
<h2 data-id="heading-0">æ²¡æœ‰åˆé€‚çš„è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ğŸ˜­</h2>
<p>è¿‡å»åŠå¹´ï¼Œæˆ‘è¿ç»­å‘å¸ƒäº†å¤šæ¬¾ä¸è§†é¢‘ç›¸å…³çš„äº§å“ï¼Œè¿™äº›äº§å“æˆ–å¤šæˆ–å°‘éƒ½éœ€è¦ç”¨æˆ·å‚ä¸è§†é¢‘ç¼–è¾‘æ“ä½œï¼Œæ¯”å¦‚ç»™è§†é¢‘æ·»åŠ å­—å¹•ã€å¯¹è§†é¢‘è¿›è¡Œè£å‰ªã€ç»™è§†é¢‘é…éŸ³ç­‰ç­‰ï¼Œè¿™äº›åœ¨è§†é¢‘ç¼–è¾‘å™¨ä¸­å¸¸è§çš„è§†é¢‘å¤„ç†å·¥å…·ï¼Œåœ¨Webç«¯å…¶å®éœ€æ±‚éå¸¸å·¨å¤§ï¼Œç‰¹åˆ«æ˜¯ç°åœ¨AIé¢†åŸŸï¼Œåˆ¶ä½œå„ç§ä¸ªæ ·çš„è§†é¢‘çš„éœ€æ±‚éå¸¸å¤šã€‚è€Œè¿™äº›éœ€æ±‚ï¼Œå¯èƒ½å¹¶ä¸éœ€è¦åœ¨äº§å“ä¸­è½½å…¥ä¸€æ•´ä¸ªè§†é¢‘ç¼–è¾‘å™¨ï¼Œè€Œæ˜¯åªéœ€è¦å‡ ä¸ªç®€å•çš„éƒ¨ä»¶æ¥å®ç°ç¼–è¾‘åŠŸèƒ½ã€‚ç„¶è€Œå›æœ›å¼€æºå¸‚åœºï¼Œèƒ½å¤Ÿæ”¯æŒè¿™ç§ç¼–è¾‘èƒ½åŠ›çš„é¡¹ç›®å°‘ä¹‹åˆå°‘ï¼Œè™½ç„¶æœ‰ä¸€äº›é¡¹ç›®å‘ˆç°äº†è§†é¢‘ç¼–è¾‘çš„èƒ½åŠ›ï¼Œç„¶è€Œï¼Œè¦ä¹ˆé¡¹ç›®å¤ªå¤§ï¼Œä¸€ä¸ªå®Œæ•´çš„è§†é¢‘ç¼–è¾‘å™¨ç”©åœ¨å¼€å‘è€…è„¸ä¸Šï¼Œè¦ä¹ˆè¿‡äºåº•å±‚ï¼Œæ²¡æœ‰UIç•Œé¢ã€‚å¦‚æœæˆ‘åªæ˜¯æƒ³æœ‰ä¸€ä¸ªè§†é¢‘é¢„è§ˆï¼Œå†æœ‰è½¨é“å’Œå‡ ä¸ªé…ç½®ç•Œé¢ï¼Œå°±æ²¡æ³•ç›´æ¥ç”¨è¿™äº›é¡¹ç›®ã€‚åŒ…æ‹¬æˆ‘è‡ªå·±åœ¨å†…ï¼Œæ¯æ¬¡æœ‰ä¸è§†é¢‘ç›¸å…³çš„åŠŸèƒ½ï¼Œéƒ½è¦æŠŠä¹‹å‰åœ¨å¦å¤–ä¸€ä¸ªäº§å“ä¸­å®ç°çš„ç¼–è¾‘èƒ½åŠ›ç§»æ¤åˆ°æ–°äº§å“ä¸­ï¼Œè€Œä¸”è¦è°ƒçš„ç»†èŠ‚ä¹Ÿå¾ˆå¤šã€‚æ­£æ˜¯è¿™ç§æ±‚è€Œä¸å¾—çš„ç°çŠ¶ï¼Œä¿ƒä½¿æˆ‘æ‰“ç®—è‡ªå·±å†™ä¸€ä¸ªè§†é¢‘ç¼–è¾‘å™¨é¡¹ç›®ã€‚</p>
<h2 data-id="heading-1">åˆå§‹æƒ³æ³•ğŸ’¡ï¼šæ‹¼ç§¯æœ¨</h2>
<p>æˆ‘å¯ä¸æ˜¯ä»0å¼€å§‹çš„ï¼Œå› ä¸ºæˆ‘å·²ç»å¼€å‘è¿‡å¾ˆå¤šæ¬¡è§†é¢‘ç¼–è¾‘ç›¸å…³çš„åŠŸèƒ½äº†ã€‚æˆ‘è¿˜åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fvidea.work" target="_blank" title="https://videa.work" ref="nofollow noopener noreferrer">Videaé¡¹ç›®</a>ä¸­å®Œæ•´å®ç°äº†ä¸€ä¸ªè§†é¢‘ç¼–è¾‘å™¨ã€‚å› æ­¤ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯æŠŠæˆ‘ä¹‹å‰åšè¿‡çš„åŠŸèƒ½ï¼Œæ•´ç†ä¸€éï¼Œå°±å¯ä»¥å¾—åˆ°æƒ³è¦çš„ç»„ä»¶æˆ–é€»è¾‘ã€‚æœ‰äº†è¿™ä¸ªå·¥å…·åŒ…ä¹‹åï¼Œæˆ‘åªéœ€è¦åœ¨å°†æ¥çš„æ–°äº§å“ä¸­å¤ç”¨è¿™äº›ä»£ç å³å¯ã€‚äºæ˜¯æˆ‘å»ºç«‹äº†ä¸€ä¸ªç‹¬ç«‹çš„npmåŒ…ï¼Œæ¥æŠŠæ‰€æœ‰åŠŸèƒ½é›†ä¸­æ”¾åœ¨ä¸€èµ·ã€‚éšç€æŒç»­çš„è¿­ä»£ï¼Œæˆ‘å‘ç°å…¶å®è¿™é‡Œé¢æ˜¯æœ‰è§„å¾‹çš„ã€‚</p>
<p>è§†é¢‘ç¼–è¾‘å™¨æˆ‘ä»¬éƒ½ç”¨è¿‡ï¼Œåƒå‰ªæ˜ ä¸€æ ·ï¼Œæœ‰å„ç§åŠŸèƒ½ï¼Œç»†èŠ‚ä¹Ÿå¾ˆå¤šã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬æŠŠè§†é¢‘ç¼–è¾‘çš„åŠŸèƒ½æ”¾åˆ°æŸä¸ªå…·ä½“çš„äº§å“ä¸­æ—¶ï¼Œæˆ‘ä»¬æ˜¯ä¸å¯èƒ½ç›´æ¥æŠŠæ•´ä¸ªç¼–è¾‘å™¨ç»™ç”¨æˆ·çš„ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬æœ€ç»ˆå‘ˆç°çš„äº§å“å½¢æ€ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å‰ªæ˜ çš„å­é›†ï¼Œè€Œä¸”æ˜¯å¾ˆå°å¾ˆå°çš„å­é›†ï¼Œå¯èƒ½åªæ˜¯æ•´ä¸ªå‰ªæ˜ 1%çš„åŠŸèƒ½ï¼Œæœ€ç»ˆç»™åˆ°ç”¨æˆ·æ“ä½œå¯èƒ½åªæ˜¯éå¸¸ç®€å•çš„ä¸€æ¬¡æ€§æ“ä½œï¼Œè€Œé¡µé¢ä¹Ÿå¾ˆè½»é‡ï¼Œå±äºç”¨æˆ·å³ç”¨å³èµ°ï¼Œç”¨å®Œå°±å…³å†ä¹Ÿä¸ä¼šæ¥ç¬¬äºŒæ¬¡çš„é‚£ç§ã€‚æ­£æ˜¯è¿™ç§çœ‹ä¼¼åŠŸèƒ½ç‚¹å¾ˆå°ï¼Œä½†å®é™…ä¸Šéœ€è¦ä¸ºå®ƒå•ç‹¬å®šåˆ¶ï¼ŒæŠ€æœ¯ä¸Šçš„æˆæœ¬å¯ä»¥ç”¨å·¨å¤§æ¥æè¿°çš„åœºæ™¯ï¼Œè®©æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªéœ€è¦è®¤çœŸå¯¹å¾…çš„ç‚¹ã€‚</p>
<p>æˆ‘çš„è®¡åˆ’æ˜¯é‡‡ç”¨ç»„ä»¶åŒ–çš„æ€æƒ³ï¼ŒæŠŠä¸€ä¸ªè§†é¢‘ç¼–è¾‘å™¨æ‹†æˆä¸€ä¸ªä¸€ä¸ªçš„ç»„ä»¶ï¼ŒæŠŠä¸€ä¸ªå®Œæ•´çš„å‰ªæ˜ ç¼–è¾‘å™¨ï¼Œæ‹†æˆä¸€ä¸ªæŒ‰é’®ä¸€ä¸ªæŒ‰é’®çš„ç§¯æœ¨ã€‚å½“æˆ‘ä»¬é¢å¯¹äº§å“éœ€æ±‚æ—¶ï¼Œå°±ä»è¿™äº›ç§¯æœ¨ä¸­æŒ‘é€‰ï¼Œç„¶åç»„åˆæˆäº§å“ç»ç†æ‰€æè¿°çš„åŠŸèƒ½ï¼ŒåŒæ—¶ï¼Œå…·ä½“è¿™äº›ç§¯æœ¨æ€ä¹ˆå¸ƒå±€ï¼Œåˆ™æ ¹æ®è®¾è®¡ç¨¿è°ƒæ•´ä½ç½®ï¼Œè¿˜å¯ä»¥ç”¨CSSæ¥è¦†ç›–ç»„ä»¶å†…éƒ¨çš„æ ·å¼ï¼Œè¾¾åˆ°ä¸è®¾è®¡ç¨¿åª²ç¾çš„æ•ˆæœã€‚</p>
<p><img src="https://www.tangshuang.net/wp-content/uploads/2025/12/%E6%88%AA%E5%B1%8F2025-12-03-22.50.36-980x581.png" alt="" loading="lazy"/></p>
<p>ä¸Šé¢æ˜¯æˆ‘ç”¨AIåšçš„ä¸€å¼ ç¤ºæ„å›¾ï¼Œå¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ„æ€ï¼ŒæŠŠä¸€ä¸ªç¼–è¾‘å™¨æ‹†çš„ç»†ç¢ï¼Œç„¶åè¦ä»€ä¹ˆåŠŸèƒ½å°±æŠŠå¯¹åº”çš„ç»„ä»¶æ‹¿æ¥æ‹¼å‡‘ä¸€ä¸‹ã€‚æ¯”å¦‚è¦å¯¹è§†é¢‘è¿›è¡Œé™éŸ³è£å‰ªï¼Œå°±åªè¦æŠŠé¢„è§ˆåŒºå’Œè½¨é“åŒºæ‹¿å‡ºæ¥ï¼Œç„¶åè‡ªå·±å†å¢åŠ ä¸€äº›èƒ½åŠ›ä¸Šå»ã€‚è¿™æ ·ï¼Œå¼€å‘è€…åœ¨é¢å¯¹å„ç§å„æ ·çš„éœ€æ±‚æ—¶ï¼Œå°±èƒ½å¿«é€Ÿæ­å»ºèµ·ç•Œé¢æ•ˆæœï¼Œè€Œä¸éœ€è¦ä»å¤´å®ç°ç•Œé¢å’Œè§†é¢‘å¤„ç†èƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d15452723a2498f8316c50e89e8850b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCm5a2Q5oiI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765445064&amp;x-signature=OgsLv38QytF4YDZRtaOto28%2BnV8%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡ä¸åŒçš„ç»„åˆæ–¹å¼ï¼Œé…åˆå¼€å‘è€…è‡ªå·±çš„å¸ƒå±€ï¼Œå°±å¯ä»¥åˆ›å»ºç¬¦åˆéœ€æ±‚çš„è§†é¢‘ç¼–è¾‘ç•Œé¢ã€‚</p>
<h2 data-id="heading-2">æ²¡é‚£ä¹ˆå®¹æ˜“ğŸ˜¥ï¼šå¤–ç®€å†…ç¹çš„æ¥å£è‰ºæœ¯</h2>
<p>è™½ç„¶æƒ³æ³•å¾ˆå®¹æ˜“æœ‰ï¼Œä½†æ˜¯è¦åšæˆæˆå“ï¼Œå¹¶ä¸”å‘å¸ƒä¸ºå¯ç”¨çš„åº“å¯æ²¡é‚£ä¹ˆè½»æ¾ã€‚è¦çŸ¥é“è§†é¢‘ç¼–è¾‘å™¨çš„åŠŸèƒ½éå¸¸å¤šï¼Œå¤šåˆ°æˆ‘ä»¬æ— æ³•ç”¨ç®€å•çš„æ–‡å­—æè¿°å®ƒä»¬ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½ç«™åœ¨å¼€å‘è€…çš„è§’åº¦ï¼Œè®©è¿™ä»¶äº‹å˜å¾—ç®€å•å‘¢ï¼Ÿ</p>
<p>å¼€å‘åº“æ°¸è¿œé¢ä¸´ç€ä¸€ä¸ªçŸ›ç›¾ï¼šçµæ´»æ€§å’Œè§„èŒƒæ€§ä¹‹é—´çš„çŸ›ç›¾ã€‚çµæ´»æ€§å°±æ˜¯æš´éœ²åˆå¤šåˆç»†çš„æ¥å£ï¼Œè®©å¼€å‘è€…å¯ä»¥ç”¨ä¸åŒå‚æ•°ï¼Œç©å‡ºèŠ±æ´»ï¼Œä¾‹å¦‚çŸ¥åé¡¹ç›®echartsæ—©æœŸå°±æ˜¯è¿™ç§ã€‚è¿™ç§å¯¹äºåˆšä¸Šæ‰‹çš„å¼€å‘è€…è€Œè¨€ï¼Œæ— è¨€æ˜¯ä¸€åœºç¾éš¾ï¼Œä»–ä»¬ç”šè‡³ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ï¼Œä½†æ˜¯ä¸€æ—¦å®Œå…¨æŒæ¡ï¼Œå°±ç›¸å½“äºæ‹¥æœ‰äº†ä¸€ä¸ªæ­¦å™¨åº“ï¼Œå¯ä»¥ä¸ºæ‰€æ¬²ä¸ºã€‚è€Œè§„èŒƒæ€§åˆ™æ˜¯å¼ºåˆ¶æ€§è§„åˆ™æ¯”è¾ƒå¤šï¼Œåªèƒ½æš´éœ²å°‘é‡æ¥å£ï¼Œé¿å…å¼€å‘è€…ç ´åè¿™ç§è§„èŒƒï¼Œä¾‹å¦‚å¾ˆå¤šå‰ç«¯UIç»„ä»¶åº“å°±æ˜¯è¿™æ ·ã€‚è¿™ä¸¤è€…ä¹‹é—´çš„çŸ›ç›¾ï¼Œæ˜¯æ¯ä¸€ä¸ªåº“æˆ–æ¡†æ¶å¼€å‘è€…æœ€éš¾å¹³è¡¡çš„ã€‚</p>
<p>åœ¨è§†é¢‘ç¼–è¾‘å™¨ä¸Šï¼Œæˆ‘è®¤ä¸ºæœ‰äº›ä¸œè¥¿æ˜¯å›ºå®šçš„ï¼Œå‡ ä¹æ¯ä¸€ä¸ªéœ€æ±‚éƒ½ä¼šç”¨åˆ°ï¼Œä¾‹å¦‚è§†é¢‘é¢„è§ˆæ’­æ”¾å™¨ã€æ§åˆ¶æŒ‰é’®ç­‰ï¼Œä½†æ˜¯æœ‰äº›åŠŸèƒ½æ˜¯ä½é¢‘åŠŸèƒ½ï¼Œä¾‹å¦‚åª’ä½“åº“ã€å­—å¹•ç¼–è¾‘ç­‰ã€‚å› æ­¤ï¼Œå¯¹äºé«˜é¢‘å’Œä½é¢‘çš„åŠŸèƒ½ï¼Œæˆ‘ç”¨ä¸¤ç§æ€åº¦å»å¤„ç†ã€‚</p>
<p>é«˜é¢‘çš„åŠŸèƒ½ï¼Œæ‹†çš„å¾ˆç»†ï¼Œæ‹†åˆ°ä¸€ä¸ªæŒ‰é’®ä¸ºæ­¢ï¼Œä¾‹å¦‚è§†é¢‘æ’­æ”¾å™¨ï¼Œçœ‹ä¸Šå»å·²ç»å¾ˆå•ä¸€äº†ï¼Œä½†æ˜¯ï¼Œæˆ‘è¿˜è¦æŠŠé¢„è§ˆå±å¹•å’Œæ’­æ”¾æŒ‰é’®æ‹†å¼€ï¼Œå±å¹•å’ŒæŒ‰é’®å¦‚ä½•å¸ƒå±€å°±å¯ä»¥éšæ„å»å¤„ç†ã€‚ç±»ä¼¼çš„è¿˜æœ‰å¯¼å‡ºæŒ‰é’®ã€åˆ†å‰²ç‰‡æ®µæŒ‰é’®ç­‰ç­‰ã€‚æŠŠè¿™äº›å·¥å…·æ‹†åˆ†ä¸ºä¸€ä¸ªä¸€ä¸ªæœ€å°çš„å•å…ƒï¼Œç”±å¼€å‘è€…è‡ªç”±å¸ƒå±€ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå¥½çš„å»é€‚é…äº§å“éœ€æ±‚ã€‚</p>
<p>å¯¹äºä½é¢‘åŠŸèƒ½ï¼Œåˆ™ç›´æ¥å¯¼å‡ºä¸ºå¤§ç»„ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶å†…å®Œæˆå¤æ‚çš„é€»è¾‘ï¼Œå‡å°‘å¼€å‘è¿™äº›ç»„ä»¶æ—¶éœ€è¦è·¨ç»„ä»¶æ§åˆ¶çŠ¶æ€çš„å¿ƒæ™ºæˆæœ¬ã€‚æ¯”å¦‚åª’ä½“åº“ï¼Œé‡Œé¢åŒ…å«äº†åª’ä½“çš„ç®¡ç†ã€ä¸Šä¼ ã€æœ¬åœ°åŒ–ç­‰ç­‰ï¼Œè¿™äº›é€»è¾‘è¿˜æ˜¯å¾ˆå¤æ‚çš„ï¼Œå¦‚æœè¿˜æ˜¯æŒ‰ç…§ç»†æ‹†æ€è·¯ï¼Œé‚£ä¹ˆå®ç°èµ·æ¥å°±çƒ¦å¾—è¦æ­»ã€‚å› æ­¤ï¼Œè¿™ç±»å·¥å…·æˆ‘éƒ½æ˜¯åªæš´éœ²ä¸ºä¸€ä¸ªå¤§çš„ç»„ä»¶ã€‚</p>
<p>åŒæ—¶ï¼Œä¸ºäº†æ–¹ä¾¿å¼€å‘è€…åœ¨æŸäº›æƒ…å†µä¸‹å¿«æ·æ¥å…¥ï¼Œæˆ‘ä¼šè®¾è®¡ä¸€äº›è‡ªå·±çœ‹åˆ°çš„ä¸é”™çš„ç¼–è¾‘å™¨UIï¼Œç„¶åç”¨ä¸Šè¯‰çš„å·¥å…·æŠŠå®ƒä»¬æ­å‡ºæ¥ï¼Œè¿™æ ·ï¼Œå¼€å‘è€…å¦‚æœåœ¨äº§å“éœ€æ±‚ä¸­å‘ç°ä»“åº“é‡Œå·²ç»æœ‰åŠŸèƒ½ä¸€è‡´çš„ç»„ä»¶ï¼Œå°±ä¸éœ€è¦è‡ªå·±å»ç»„åˆï¼Œç›´æ¥ä½¿ç”¨å¯¹åº”ç»„ä»¶å³å¯ã€‚</p>
<p>ä»¥æ¨¡ä»¿å‰ªæ˜ ä¸ºä¾‹ï¼Œå¼€å‘è€…åªéœ€è¦æ¥å…¥<code>WebCutEditor</code>è¿™ä¸ªç»„ä»¶å³å¯ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">WebCutEditor</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'webcut'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'webcut/esm/style.css'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">WebCutEditor</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>è¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªç•Œé¢æ¥è¿‘äºå‰ªæ˜ çš„è§†é¢‘ç¼–è¾‘å™¨ã€‚</p>
<h2 data-id="heading-3">æ•°æ®é©±åŠ¨ï¼Œè§†é¢‘ç¼–è¾‘çš„DSL</h2>
<p>ç»è¿‡æˆ‘çš„ç ”ç©¶ï¼Œå‘ç°å¯¹äºå•çº¯çš„è§†é¢‘ç¼–è¾‘è€Œè¨€ï¼Œç¼–è¾‘å™¨å…¶å®åªéœ€è¦ä¸¤ä»½æ•°æ®ï¼Œå°±å¯ä»¥è§£å†³å¤§éƒ¨åˆ†åœºæ™¯ä¸‹çš„éœ€æ±‚ã€‚ä¸€ä»½æ˜¯ç¼–è¾‘çš„ç´ ææ•°æ®ï¼Œä¸€ä»½æ˜¯è§†é¢‘çš„é…ç½®æ•°æ®ã€‚</p>
<h3 data-id="heading-4">ç´ ææ•°æ®</h3>
<p>å®ƒåŒ…å«ç´ ææ–‡ä»¶æœ¬èº«çš„ä¿¡æ¯ã€ç´ æçš„ç»„ç»‡ä¿¡æ¯ã€ç´ æçš„å±æ€§ä¿¡æ¯ã€‚</p>
<p><strong>æ–‡ä»¶ä¿¡æ¯</strong></p>
<p>æˆ‘é€šè¿‡opfså°†æ–‡ä»¶å­˜åœ¨æœ¬åœ°ï¼Œå¹¶ä¸”åœ¨indexedDBä¸­å­˜å‚¨æ¯ä¸€ä¸ªæ–‡ä»¶çš„å…³è”ä¿¡æ¯ã€‚åŒ…å«æ–‡ä»¶çš„ç±»å‹ã€åç§°ã€å¤§å°ç­‰ã€‚åœ¨ä¸€ä¸ªåŸŸåä¸‹ï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶çš„å®ä½“ï¼ˆä¹Ÿå°±æ˜¯Fileå¯¹è±¡ï¼‰åªéœ€è¦ä¸€ä»½ï¼Œé€šè¿‡file-md5å€¼ä½œä¸ºç´¢å¼•å­˜åœ¨opfsä¸­ã€‚è€Œä¸€ä¸ªæ–‡ä»¶å¯èƒ½ä¼šåœ¨å¤šå¤„è¢«ä½¿ç”¨ï¼ŒindexedDBä¸­åˆ™æ˜¯è®°å½•è¿™äº›ä¿¡æ¯ï¼Œå¤šä¸ªå…³è”ä¿¡æ¯å¯åŒæ—¶é“¾æ¥åˆ°åŒä¸€ä¸ªFileã€‚å¦å¤–ï¼ŒåŸºäºindexedDBçš„ç‰¹æ€§ï¼Œè¿˜å¯ä»¥å®ç°ç­›é€‰ç­‰èƒ½åŠ›ã€‚</p>
<p><strong>ç´ æç»„ç»‡ä¿¡æ¯</strong></p>
<p>ä¸»è¦æ˜¯æŒ‡å½“æŠŠç´ ææ”¾åœ¨è§†é¢‘æ—¶é—´è½¨é“ä¸­æ—¶ï¼Œæ‰€éœ€è¦çš„æ•°æ®ç»“æ„ã€‚åŒ…å«è½¨é“åˆ—è¡¨ã€ç´ ææ‰€å¯¹åº”çš„æ–‡ä»¶ã€ç´ æå¯¹åº”æ—¶é—´ç‚¹ã€æ’­æ”¾æ—¶çš„ä¸€äº›å±æ€§ç­‰ç­‰ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ç»¼åˆèµ·æ¥ï¼Œæˆ‘ä»¬å°±çŸ¥é“ï¼Œåœ¨è§†é¢‘çš„æŸä¸€ä¸ªæ—¶åˆ»ï¼Œåº”è¯¥æ’­æ”¾ä»€ä¹ˆå†…å®¹ã€‚</p>
<p><strong>ç´ æå±æ€§ä¿¡æ¯</strong></p>
<p>åœ¨æ’­æ”¾ä¸­ï¼Œç´ æä»¥ä»€ä¹ˆæ–¹å¼å‘ˆç°ï¼Œå¦‚æ–‡æœ¬çš„æ ·å¼ã€è§†é¢‘éŸ³é¢‘çš„æ’­æ”¾é€Ÿåº¦ã€åŠ¨ç”»ã€è½¬åœºç­‰ã€‚</p>
<h3 data-id="heading-5">é…ç½®æ•°æ®</h3>
<p>ä¸»è¦æŒ‡è§†é¢‘æœ¬èº«çš„ä¿¡æ¯ï¼Œåœ¨å¯¼å‡ºæ—¶è¿™äº›é…ç½®å¯ä»¥ç›´æ¥ä½“ç°å‡ºæ¥ï¼Œä¾‹å¦‚è§†é¢‘çš„åˆ†è¾¨ç‡ã€æ¯”ä¾‹ã€é€Ÿç‡ç­‰ï¼Œè§†é¢‘æ˜¯å¦è¦æ·»åŠ æŸäº›ç‰¹æ®Šçš„å†…å®¹ï¼Œä¾‹å¦‚æ°´å°ç­‰ã€‚</p>
<p>åŸºäºç´ ææ•°æ®å’Œé…ç½®æ•°æ®ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šå¯ä»¥å®Œæ•´çš„çŸ¥é“å½“å‰è¿™ä¸ªè§†é¢‘çš„ç¼–è¾‘çŠ¶æ€ã€‚é€šè¿‡æ•°æ®æ¥æ¢å¤å½“å‰çš„ç¼–è¾‘çŠ¶æ€ï¼Œå˜å¾—å¯è¡Œï¼Œè¿™å¯ä»¥æŠµæ¶ˆç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­ç»å¸¸æ‰§è¡Œâ€œåˆ·æ–°â€æ“ä½œå¸¦æ¥çš„çŠ¶æ€ä¸¢å¤±ã€‚åŒæ—¶ï¼Œè¿™ä»½æ•°æ®ä¹Ÿå¯ä»¥å¤‡ä»½åˆ°äº‘ç«¯ï¼Œå®ç°å¤šç«¯çš„åŒæ­¥ï¼ˆä¸è¿‡éœ€è¦åŒæ—¶åŒæ­¥Fileï¼Œé€Ÿåº¦è‚¯å®šä¼šå—å½±å“ï¼‰ã€‚è€Œä¸”ç”±äºæ•°æ®æœ¬èº«æ˜¯çº¯åºåˆ—åŒ–çš„ï¼Œå› æ­¤ï¼Œå¯ä»¥äº¤ç»™AIæ¥è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚è®©AIè°ƒæ•´ä¸€äº›æ—¶é—´ã€æ ·å¼ç­‰å¯åŸºäºçº¯åºåˆ—åŒ–æ•°æ®å®Œæˆçš„åŠŸèƒ½ã€‚è¿™å°±è®©æˆ‘ä»¬çš„ç¼–è¾‘å™¨å˜å¾—æœ‰æ›´å¤šçš„ç©æ³•ã€‚</p>
<h2 data-id="heading-6">å‘å¸ƒä¸Šçº¿ğŸŒ</h2>
<p>ç»è¿‡å‡ å¤©çš„å·¥ä½œï¼Œæˆ‘ç»ˆäºæŠŠä»£ç æ•´ç†å®Œæ•´ï¼Œç»è¿‡è°ƒè¯•ä¹‹åï¼ŒåŸºæœ¬å¯ç”¨äº†ï¼Œä¾¿è¿«ä¸åŠå¾…çš„å‡†å¤‡ä¸å¤§å®¶åˆ†äº«ã€‚ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªé¡¹ç›®äº†ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftangshuang%2Fwebcut" target="_blank" title="https://github.com/tangshuang/webcut" ref="nofollow noopener noreferrer">Github</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.webcut.top" target="_blank" title="https://docs.webcut.top" ref="nofollow noopener noreferrer">å¼€å‘æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebcut.top" target="_blank" title="https://webcut.top" ref="nofollow noopener noreferrer">å®˜æ–¹ç½‘ç«™</a>ï¼ˆæ‰“å¼€åç‚¹å‡»â€œå¼€å§‹ä½¿ç”¨â€æŒ‰é’®å³å¯å…è´¹å…ç™»å½•åœ¨çº¿ä½“éªŒï¼‰</li>
</ul>
<p>ç”±äºåº•å±‚æ˜¯ç”±Vue3ä½œä¸ºé©±åŠ¨çš„ï¼Œå› æ­¤ï¼Œåœ¨Vueä¸­ä½¿ç”¨æœ‰éå¸¸å¤§çš„ä¼˜åŠ¿ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> webcut
</code></pre>
<p>å…ˆå®‰è£…ï¼Œå®‰è£…ä¹‹åï¼Œä½ å°±å¯ä»¥åœ¨Vueä¸­å¦‚ä¸‹ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">WebCutEditor</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'webcut'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'webcut/esm/style.css'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">WebCutEditor</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æˆ–è€…å¦‚æœä½ çš„é¡¹ç›®æ”¯æŒtypescriptï¼Œä½ å¯ä»¥ç›´æ¥ä»æºç è¿›è¡Œå¼•å…¥ï¼Œè¿™æ ·å°±ä¸å¿…ä¸»åŠ¨å¼•å…¥css:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">WebCutEditor</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'webcut/src'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>å¦‚æœæ˜¯éVueçš„é¡¹ç›®ï¼Œåˆ™éœ€è¦å¼•ç”¨webcomponentsçš„æ„å»ºäº§ç‰©ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">'webcut/webcomponents'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'webcut/webcomponents/style.css'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Some</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">webcut-editor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">webcut-editor</span>&gt;</span></span>;
}
</code></pre>
<p>å¦‚æœæ˜¯ç›´æ¥åœ¨HTMLä¸­ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥å¼•å…¥webcomponents/bundleï¼Œè¿™æ ·åŒ…å«äº†Vueç­‰ä¾èµ–ï¼Œå°±ä¸éœ€è¦å¦å¤–æ„å»ºã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/webcut/webcomponents/bundle/index.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://unpkg.com/webcut/webcomponents/bundle/style.css"</span> /&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">webcut-editor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">webcut-editor</span>&gt;</span>
</code></pre>
<p>å¦‚æœæ˜¯æƒ³è‡ªå·±å¸ƒå±€ï¼Œåˆ™éœ€è¦å¼•å…¥å„ä¸ªå¾ˆå°çš„ç»„ä»¶æ¥è‡ªå·±å¸ƒå±€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»å¼•å…¥WebCutProviderç»„ä»¶ï¼Œå°†æ‰€æœ‰çš„å­ç»„ä»¶åŒ…å«åœ¨å†…ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">webcut-provider</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">webcut-player</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">webcut-player</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">webcut-export-button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">webcut-export-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">webcut-provider</span>&gt;</span>
</code></pre>
<h2 data-id="heading-7">æœªæ¥å±•æœ›</h2>
<p>å½“å‰ï¼ŒWebCutè¿˜æ˜¯å¤„äºå¾ˆåˆçº§çš„é˜¶æ®µï¼Œå®ç°äº†æœ€æ ¸å¿ƒçš„èƒ½åŠ›ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯èƒ½å¤Ÿä¸ºå¼€å‘è€…ä»¬æä¾›ä¸€åˆ‡éœ€è¦çš„ç»„ä»¶ï¼Œå¹¶ä¸”ä¸éœ€è¦å¤æ‚çš„è„šæœ¬å¤„ç†å°±å¯ä»¥è·å¾—è§†é¢‘ç¼–è¾‘çš„å…¨éƒ¨åŠŸèƒ½ã€‚è¿˜æœ‰å¾ˆå¤šåŠŸèƒ½æ²¡æœ‰å®ç°ï¼Œåœ¨è®¡åˆ’ä¸­ï¼š</p>
<ul>
<li>å†å²è®°å½•åŠŸèƒ½ï¼ŒåŒ…å«æ’¤é”€å’Œé‡åšåŠŸèƒ½</li>
<li>å†…ç½®æ ·å¼çš„å­—ä½“</li>
<li>èŠ±å­—ï¼Œæ¯”å†…ç½®æ ·å¼æ›´é«˜çº§çš„æ–‡æœ¬</li>
<li>è½¨é“é‡Œçš„ç´ æå¸é™„èƒ½åŠ›</li>
<li>è§†é¢‘çš„è½¨é“åˆ†ç¦»ï¼ˆéŸ³é¢‘åˆ†ç¦»ï¼‰</li>
<li>éŸ³è§†é¢‘çš„éŸ³é‡è°ƒèŠ‚</li>
<li>å•æ®µç´ æçš„ä¸‹è½½å¯¼å‡º</li>
<li>æ•´ä¸ªè§†é¢‘å¯¼å‡ºæ—¶å¯ä»¥è¿›è¡Œåˆ†è¾¨ç‡ã€ç ç‡ã€é€Ÿç‡ã€ç¼–ç ã€æ ¼å¼çš„é€‰æ‹©ï¼Œæ”¯æŒåªå¯¼å‡ºéŸ³é¢‘</li>
</ul>
<p>ä»¥ä¸Šè¿™äº›éƒ½æ˜¯ç¼–è¾‘çš„åŸºæœ¬åŠŸèƒ½ã€‚è¿˜æœ‰ä¸€äº›æ˜¯ä»è§†é¢‘ç¼–è¾‘å®šåˆ¶åŒ–çš„è§’åº¦æ€è€ƒçš„èƒ½åŠ›ï¼š</p>
<ul>
<li>åŠ¨ç”»ï¼ˆå¸§ï¼‰æ”¯æŒ</li>
<li>è½¬åœºè¿‡æ¸¡æ•ˆæœæ”¯æŒ</li>
<li>æ‰©å±•åŠŸèƒ½æ¨¡å—ï¼Œè¿™éƒ¨åˆ†å¯èƒ½ä¼šåšæˆæ”¶è´¹çš„ï¼Œä¸‹è½½æ¨¡å—åï¼Œé€šè¿‡ä¸€ä¸ªæ¥å£å®‰è£…ä¸€ä¸‹ï¼Œå°±å¯ä»¥æ”¯æŒæŸäº›æ‰©å±•åŠŸèƒ½</li>
<li>AI Agentèƒ½åŠ›ï¼Œé€šè¿‡å¯¹è¯æ¥æ‰§è¡Œè§†é¢‘ç¼–è¾‘ï¼Œé™ä½è§†é¢‘ç¼–è¾‘çš„é—¨æ§›</li>
<li>è§†é¢‘æ¨¡æ¿ï¼ŒæŠŠä¸€äº›æµè¡Œçš„è§†é¢‘æ•ˆæœç‰‡æ®µåšæˆæ¨¡æ¿ï¼Œåœ¨è§†é¢‘ä¸­ç›´æ¥æ’å…¥åï¼Œä¸ç°æœ‰è§†é¢‘èåˆä¸ºæ¨¡æ¿ä¸­çš„æ•ˆæœ</li>
<li>åŸºäºAIæ¥è¿›è¡ŒçŸ­å‰§åˆ›ä½œçš„èƒ½åŠ›</li>
</ul>
<p>è¦å®ç°è¿™äº›èƒ½åŠ›ï¼Œéœ€è¦å¤§é‡çš„æŠ•å…¥ï¼Œè™½ç„¶ç°åœ¨AIç¼–ç¨‹éå¸¸ç«çƒ­ï¼Œä½†æ˜¯çœŸæ­£èƒ½å¤Ÿå®Œç¾å®ç°çš„ï¼Œå…¶å®è¿˜æ¯”è¾ƒå°‘ï¼Œå› æ­¤ï¼Œè¿™äº›å·¥ä½œéƒ½éœ€è¦å°ä¼™ä¼´ä»¬çš„æ”¯æŒï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªé¡¹ç›®æ„Ÿå…´è¶£ï¼Œå¯ä»¥é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeepwiki.org%2Ftangshuang%2Fwebcut" target="_blank" title="https://deepwiki.org/tangshuang/webcut" ref="nofollow noopener noreferrer">DeepWiki</a>æ¥äº†è§£é¡¹ç›®ä»£ç çš„åº•å±‚ç»“æ„ï¼Œå¹¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftangshuang%2Fwebcut" target="_blank" title="https://github.com/tangshuang/webcut" ref="nofollow noopener noreferrer">forké¡¹ç›®</a>åï¼Œå‘æˆ‘ä»¬æPRï¼Œè®©æˆ‘ä»¬ä¸€èµ·å…±å»ºä¸€ä¸ªå±äºæˆ‘ä»¬è‡ªå·±çš„è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ã€‚</p>
<p>æœ€åï¼Œä½ çš„æ”¯æŒæ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›ï¼ŒåŠ¨åŠ¨ä½ çš„å°æ‰‹ï¼Œåˆ°æˆ‘ä»¬çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftangshuang%2Fwebcut" target="_blank" title="https://github.com/tangshuang/webcut" ref="nofollow noopener noreferrer">github</a>ä¸Šç»™ä¸ªstartï¼Œè®©æˆ‘ä»¬çŸ¥é“ä½ å¯¹æ­¤æ„Ÿå…´è¶£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain + LangGraph å®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§å¤šæ¨¡æ€ WorkflowAgent çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7579832417748451379</link>    <guid>https://juejin.cn/post/7579832417748451379</guid>    <pubDate>2025-12-04T13:33:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579832417748451379" data-draft-id="7579832417748303923" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain + LangGraph å®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§å¤šæ¨¡æ€ WorkflowAgent çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Python,Agent,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-04T13:33:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain + LangGraph å®æˆ˜ï¼šæ„å»ºç”Ÿäº§çº§å¤šæ¨¡æ€ WorkflowAgent çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T13:33:04.000Z" title="Thu Dec 04 2025 13:33:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e43c2959f94848118ece1011f15b283f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765460432&amp;x-signature=A%2F3XIGomhBCVDjWhMrtL4chMog0%3D" alt="image.png" loading="lazy"/>
åœ¨å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘ä¸­ï¼Œå¼€å‘è€…å¸¸é¢ä¸´ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹ï¼š<strong>å·¥å…·è°ƒç”¨é¡ºåºæ··ä¹±</strong>ã€<strong>æ­¥éª¤ç»“æœæ— æ³•ä¼ é€’</strong>ã€<strong>æ¶æ„é›†æˆå¤æ‚</strong>ã€‚ä¼ ç»Ÿçš„åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„ <code>BaseAgent</code> å› å…¶éšæœºå†³ç­–çš„ç‰¹æ€§ï¼Œéš¾ä»¥ä¿éšœå¤æ‚ä»»åŠ¡çš„å¯é æ‰§è¡Œã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•ç»“åˆ <code>LangChain</code>ï¼ˆèƒ½åŠ›ç»„ä»¶åº“ï¼‰ä¸ <code>LangGraph</code>ï¼ˆæµç¨‹æ“ä½œç³»ç»Ÿï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªå¯é—­ç¯é›†æˆåˆ°ç°æœ‰æ¶æ„çš„ <strong><code>WorkflowAgent</code></strong>ï¼Œä»¥è§£å†³ä¸Šè¿°ç—›ç‚¹ï¼Œå¹¶é€šè¿‡å®æˆ˜æ¡ˆä¾‹å±•ç¤ºå…¶ä»è®¾è®¡åˆ°è½åœ°çš„å…¨è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-0"><strong>ä¸€ã€æ¡†æ¶æ ¸å¿ƒå®šä½ï¼šä»â€œèƒ½åŠ›ç»„ä»¶â€åˆ°â€œæµç¨‹æ“ä½œç³»ç»Ÿâ€</strong></h4>
<p><code>LangChain</code> ä¸ <code>LangGraph</code> å½¢æˆäº†äº’è¡¥çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong><code>LangChain</code></strong>ï¼šæä¾›å·¥å…·å°è£…ï¼ˆæ–‡æœ¬/å›¾åƒ/æ–‡æ¡£/è¯­éŸ³ï¼‰ã€LLMé€‚é…ã€è®°å¿†ç»„ä»¶ï¼Œæ˜¯**â€œèƒ½åŠ›ç»„ä»¶åº“â€**ã€‚</li>
<li><strong><code>LangGraph</code></strong>ï¼šé€šè¿‡çŠ¶æ€å›¾ï¼ˆStateGraphï¼‰å®ç°å¤šæ­¥éª¤æµç¨‹æ§åˆ¶ã€çŠ¶æ€æŒä¹…åŒ–ã€åˆ†æ”¯ä¸å¾ªç¯ï¼Œæ˜¯**â€œæµç¨‹æ“ä½œç³»ç»Ÿâ€**ã€‚</li>
</ul>
<p>äºŒè€…ååŒï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº† <code>BaseAgent</code> çš„å¤©ç„¶ç¼ºé™·ï¼š</p>

























<table><thead><tr><th align="left">å¯¹æ¯”ç»´åº¦</th><th align="left">BaseAgent (çº¯LLMé©±åŠ¨)</th><th align="left">WorkflowAgent (LangChain+LangGraph)</th></tr></thead><tbody><tr><td align="left"><strong>å·¥å…·è°ƒç”¨é¡ºåº</strong></td><td align="left">LLMéšæœºå†³ç­–ï¼Œæ— æ³•ä¿è¯ä¾èµ–ï¼ˆå¦‚â€œå†™è¯—é…å›¾â€å¯èƒ½å…ˆè°ƒå›¾ï¼‰</td><td align="left">ä¸¥æ ¼æŒ‰â€œæ„ŸçŸ¥â†’è§„åˆ’â†’æ‰§è¡Œâ€å®šä¹‰é¡ºåºï¼Œæ”¯æŒæ­¥éª¤ä¾èµ–</td></tr><tr><td align="left"><strong>çŠ¶æ€ç®¡ç†</strong></td><td align="left">æ— å…±äº«çŠ¶æ€ï¼Œæ­¥éª¤ç»“æœæ— æ³•ä¼ é€’ï¼ˆå¦‚è¯—æ— æ³•ç»™é…å›¾å·¥å…·ç”¨ï¼‰</td><td align="left">å…¨å±€çŠ¶æ€é€šé“å­˜å‚¨ç»“æœï¼ŒèŠ‚ç‚¹é—´å¯ç›´æ¥è¯»å–</td></tr><tr><td align="left"><strong>æ¶æ„é›†æˆ</strong></td><td align="left">éœ€æ‰‹åŠ¨å¯¹æ¥å·¥å…·ä¸å­˜å‚¨ï¼Œæ— ç»Ÿä¸€è§„èŒƒ</td><td align="left">å¤ç”¨ç°æœ‰å·¥å…·å°è£…ä¸æ•°æ®åº“é€»è¾‘ï¼Œå½¢æˆå®Œæ•´é—­ç¯</td></tr></tbody></table>
<h4 data-id="heading-1"><strong>äºŒã€å¤šæ¨¡æ€ WorkflowAgent å®æˆ˜æ¡ˆä¾‹</strong></h4>
<p><strong>æ¡ˆä¾‹1ï¼šæ–‡æœ¬ç”Ÿæˆ + å›¾åƒç”Ÿæˆï¼ˆå†™è¯—é…å›¾ï¼‰</strong>
<strong>éœ€æ±‚</strong>ï¼šç”¨æˆ·è¾“å…¥â€œå†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—ï¼Œç„¶åä¸ºè¿™é¦–è¯—é…ä¸€å¼ å›¾â€ï¼Œéœ€ç¡®ä¿é¡ºåºï¼ˆå…ˆæ–‡åå›¾ï¼‰ä¸ç»“æœä¼ é€’ã€‚
<strong>æ¶æ„èŒƒå¼</strong>ï¼šPerceiveï¼ˆæ„å›¾è¯†åˆ«ï¼‰â†’ Planï¼ˆæ­¥éª¤æ‹†åˆ†ï¼‰â†’ Executeï¼ˆå·¥å…·è°ƒç”¨ï¼‰ã€‚</p>
<p><strong>1. æ ¸å¿ƒä»£ç å®ç°</strong></p>
<p><strong>(1) ç±»å®šä¹‰ä¸çŠ¶æ€åˆå§‹åŒ–</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkflowAgent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span> = options.<span class="hljs-property">userId</span>; <span class="hljs-comment">// å¯¹æ¥ç°æœ‰ç”¨æˆ·ä½“ç³»</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> = options.<span class="hljs-property">sessionId</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">llm</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DoubaoLLM</span>({ <span class="hljs-attr">streaming</span>: <span class="hljs-literal">true</span> }); <span class="hljs-comment">// å¤ç”¨LLMé€‚é…å™¨</span>
    <span class="hljs-comment">// å…¨å±€çŠ¶æ€é€šé“ï¼šèŠ‚ç‚¹é—´å…±äº«æ•°æ®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = {
      <span class="hljs-attr">input</span>: <span class="hljs-literal">null</span>,        <span class="hljs-comment">// ç”¨æˆ·åŸå§‹è¾“å…¥</span>
      <span class="hljs-attr">perceived</span>: <span class="hljs-literal">null</span>,    <span class="hljs-comment">// æ„ŸçŸ¥åçš„æ„å›¾</span>
      <span class="hljs-attr">plan</span>: <span class="hljs-literal">null</span>,         <span class="hljs-comment">// æ‰§è¡Œè®¡åˆ’</span>
      <span class="hljs-attr">result</span>: <span class="hljs-literal">null</span>,       <span class="hljs-comment">// æœ€ç»ˆç»“æœ</span>
      <span class="hljs-attr">tools</span>: [],          <span class="hljs-comment">// å·²è°ƒç”¨å·¥å…·åˆ—è¡¨ï¼ˆæ—¥å¿—ï¼‰</span>
      <span class="hljs-attr">stepResults</span>: {}     <span class="hljs-comment">// æ­¥éª¤ç»“æœï¼ˆä¾èµ–ä¼ é€’ï¼‰</span>
    };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createGraph</span>(); <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€å›¾</span>
  }
}
</code></pre>
<p><strong>(2) LangGraph çŠ¶æ€å›¾åˆ›å»ºï¼ˆæ ¸å¿ƒæµç¨‹æ§åˆ¶ï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">createGraph</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> workflow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StateGraph</span>({
    <span class="hljs-attr">channels</span>: {
      <span class="hljs-attr">input</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">perceived</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">plan</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">result</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> y || x },
      <span class="hljs-attr">tools</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> [...(x || []), ...(y || [])] },
      <span class="hljs-attr">stepResults</span>: { <span class="hljs-attr">reducer</span>: <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> ({ ...x, ...y }) }
    }
  });

  <span class="hljs-comment">// æ·»åŠ æ ¸å¿ƒèŠ‚ç‚¹</span>
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'perceive'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">perceiveNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'plan'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">planNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'execute'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">executeNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));

  <span class="hljs-comment">// å®šä¹‰çº¿æ€§æµè½¬è·¯å¾„</span>
  workflow.<span class="hljs-title function_">setEntryPoint</span>(<span class="hljs-string">'perceive'</span>);
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'perceive'</span>, <span class="hljs-string">'plan'</span>);
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'plan'</span>, <span class="hljs-string">'execute'</span>);
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'execute'</span>, <span class="hljs-variable constant_">END</span>);

  <span class="hljs-keyword">return</span> workflow.<span class="hljs-title function_">compile</span>();
}
</code></pre>
<p><strong>(3) ä¸‰å¤§æ ¸å¿ƒèŠ‚ç‚¹å®ç°</strong></p>
<ul>
<li><strong>æ„ŸçŸ¥èŠ‚ç‚¹ (Perceive)</strong>ï¼šè§£ææ„å›¾ä¸æ‰€éœ€å·¥å…·ã€‚
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">perceiveNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`åˆ†æç”¨æˆ·è¾“å…¥ï¼Œè¿”å›JSONæ ¼å¼æ„å›¾ï¼š
  ç”¨æˆ·è¾“å…¥ï¼š<span class="hljs-subst">${state.input}</span>
  è¾“å‡ºå­—æ®µï¼šintentã€task_typeã€required_tools`</span>;
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">llm</span>.<span class="hljs-title function_">invoke</span>(prompt);
  <span class="hljs-keyword">const</span> perceived = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(response.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\{[\s\S]*\}/</span>)[<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">return</span> { perceived }; <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
}
<span class="hljs-comment">// ç»“æœç¤ºä¾‹: { intent: "åˆ›ä½œè¯—æ­Œå¹¶é…å›¾", task_type: "multi", required_tools: ["text_generator", "image_generator"] }</span>
</code></pre>
</li>
<li><strong>è§„åˆ’èŠ‚ç‚¹ (Plan)</strong>ï¼šæ‹†åˆ†æ­¥éª¤ä¸ä¾èµ–ã€‚
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">planNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> { perceived } = state;
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`åŸºäºæ„å›¾åˆ¶å®šæ­¥éª¤è®¡åˆ’ï¼ˆJSONæ•°ç»„ï¼‰ï¼š
  æ„å›¾ï¼š<span class="hljs-subst">${perceived.intent}</span>ï¼Œå·¥å…·ï¼š<span class="hljs-subst">${perceived.required_tools.join(<span class="hljs-string">','</span>)}</span>
  è¦æ±‚ï¼šæ ‡è®°depends_onï¼Œå‚æ•°å«use_previous_result`</span>;
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">llm</span>.<span class="hljs-title function_">invoke</span>(prompt);
  <span class="hljs-keyword">let</span> plan = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(response.<span class="hljs-property">content</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\[([\s\S]*)\]/</span>)[<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">return</span> { plan };
}
<span class="hljs-comment">// ç»“æœç¤ºä¾‹: [</span>
<span class="hljs-comment">//   { step: 1, action: "ç”Ÿæˆæ˜¥å¤©ä¸»é¢˜è¯—æ­Œ", tool: "text_generator", params: { topic: "æ˜¥å¤©" }, depends_on: null },</span>
<span class="hljs-comment">//   { step: 2, action: "åŸºäºè¯—æ­Œç”Ÿæˆé…å›¾", tool: "image_generator", params: { use_previous_result: true }, depends_on: 1 }</span>
<span class="hljs-comment">// ]</span>
</code></pre>
</li>
<li><strong>æ‰§è¡ŒèŠ‚ç‚¹ (Execute)</strong>ï¼šè°ƒç”¨å·¥å…·ä¸ä¼ é€’ç»“æœã€‚
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> { plan } = state;
  <span class="hljs-keyword">const</span> results = []; <span class="hljs-keyword">const</span> toolsUsed = []; <span class="hljs-keyword">const</span> stepResults = {};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> plan) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// å¤„ç†æ­¥éª¤ä¾èµ–</span>
      <span class="hljs-keyword">if</span> (step.<span class="hljs-property">depends_on</span>) step.<span class="hljs-property">params</span>.<span class="hljs-property">previous_result</span> = state.<span class="hljs-property">stepResults</span>[step.<span class="hljs-property">depends_on</span>];
      <span class="hljs-comment">// è°ƒç”¨å·¥å…·ï¼ˆå¤ç”¨LangChainå°è£…ï¼‰</span>
      <span class="hljs-keyword">switch</span> (step.<span class="hljs-property">tool</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"text_generator"</span>:
          <span class="hljs-keyword">const</span> textTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextGeneratorTool</span>();
          stepResult = <span class="hljs-keyword">await</span> textTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">prompt</span>: step.<span class="hljs-property">params</span>.<span class="hljs-property">topic</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"image_generator"</span>:
          <span class="hljs-keyword">const</span> imageTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageGeneratorTool</span>();
          stepResult = <span class="hljs-keyword">await</span> imageTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">prompt</span>: <span class="hljs-string">`åŸºäºæ–‡æœ¬ç”Ÿæˆå›¾åƒï¼š<span class="hljs-subst">${step.params.previous_result}</span>`</span>, <span class="hljs-attr">size</span>: <span class="hljs-string">"1024x1024"</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
          <span class="hljs-keyword">break</span>;
      }
      stepResults[step.<span class="hljs-property">step</span>] = stepResult;
      results.<span class="hljs-title function_">push</span>(<span class="hljs-string">`æ­¥éª¤<span class="hljs-subst">${step.step}</span>ï¼š<span class="hljs-subst">${stepResult}</span>`</span>);
      toolsUsed.<span class="hljs-title function_">push</span>(step.<span class="hljs-property">tool</span>);
    } <span class="hljs-keyword">catch</span> (error) { results.<span class="hljs-title function_">push</span>(<span class="hljs-string">`æ­¥éª¤<span class="hljs-subst">${step.step}</span>å¤±è´¥ï¼š<span class="hljs-subst">${error.message}</span>`</span>); }
  }
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">result</span>: results.<span class="hljs-title function_">join</span>(<span class="hljs-string">'\n'</span>), <span class="hljs-attr">tools</span>: toolsUsed, stepResults };
}
</code></pre>
</li>
</ul>
<p><strong>2. æ‰§è¡Œæµç¨‹ä¸ç»“æœ</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">await</span> agent.<span class="hljs-title function_">run</span>(<span class="hljs-string">"å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—ï¼Œç„¶åä¸ºè¿™é¦–è¯—é…ä¸€å¼ å›¾"</span>)
</code></pre>
<p><strong>çŠ¶æ€æµè½¬</strong>ï¼š<code>åˆå§‹çŠ¶æ€ â†’ æ„ŸçŸ¥èŠ‚ç‚¹ â†’ è§„åˆ’èŠ‚ç‚¹ â†’ æ‰§è¡ŒèŠ‚ç‚¹ â†’ ç»“æŸ</code>
<strong>æœ€ç»ˆç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—..."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"perceived"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"intent"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åˆ›ä½œè¯—æ­Œå¹¶é…å›¾"</span><span class="hljs-punctuation">,</span> ... <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"plan"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>æ­¥éª¤<span class="hljs-number">1</span><span class="hljs-punctuation">,</span> æ­¥éª¤<span class="hljs-number">2</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"result"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ­¥éª¤1ï¼šæ˜¥é£å¹ç»¿äº†å¤§åœ°...\næ­¥éª¤2ï¼šå›¾åƒURL: /uploads/xxx.jpg"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"text_generator"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"image_generator"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stepResults"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"1"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ˜¥é£å¹ç»¿äº†å¤§åœ°..."</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"2"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/uploads/xxx.jpg"</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ¡ˆä¾‹2ï¼šæ–‡æ¡£è§£æ + è¯­éŸ³åˆæˆï¼ˆæ–‡æ¡£è½¬è¯­éŸ³ï¼‰</strong>
<strong>éœ€æ±‚</strong>ï¼šç”¨æˆ·ä¸Šä¼ PDFï¼Œå…ˆè§£ææ–‡æœ¬ï¼Œå†åˆæˆè¯­éŸ³ï¼Œéœ€æ”¯æŒæµå¼åé¦ˆã€‚
<strong>æ¶æ„é€‚é…</strong>ï¼šåœ¨åŸæœ‰æ¡†æ¶ä¸Šæ‰©å±•å·¥å…· (<code>document_parser</code>, <code>audio_synthesizer</code>) å¹¶å®ç°æµå¼æ¥å£ã€‚</p>
<p><strong>1. æ ¸å¿ƒä»£ç é€‚é…</strong></p>
<ul>
<li><strong>æ„ŸçŸ¥èŠ‚ç‚¹æ‰©å±•</strong>ï¼šè¯†åˆ«æ–‡æ¡£ä¸è¯­éŸ³å·¥å…·ã€‚</li>
<li><strong>æ‰§è¡ŒèŠ‚ç‚¹æ‰©å±•</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">switch</span> (step.<span class="hljs-property">tool</span>) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">"document_parser"</span>:
    <span class="hljs-keyword">const</span> docTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DocumentParserTool</span>();
    stepResult = <span class="hljs-keyword">await</span> docTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">fileUrl</span>: step.<span class="hljs-property">params</span>.<span class="hljs-property">fileUrl</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-string">"audio_synthesizer"</span>:
    <span class="hljs-keyword">const</span> audioTool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AudioSynthesizerTool</span>();
    stepResult = <span class="hljs-keyword">await</span> audioTool.<span class="hljs-title function_">_call</span>({ <span class="hljs-attr">text</span>: step.<span class="hljs-property">params</span>.<span class="hljs-property">previous_result</span>, <span class="hljs-attr">voiceType</span>: <span class="hljs-string">"female"</span>, <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">sessionId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span> });
    <span class="hljs-keyword">break</span>;
}
</code></pre>
</li>
</ul>
<p><strong>2. æµå¼æ‰§è¡Œä¸å‰ç«¯åé¦ˆ</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åç«¯æµå¼æ¥å£</span>
<span class="hljs-keyword">async</span> *<span class="hljs-title function_">stream</span>(<span class="hljs-params">input</span>) {
  <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>.<span class="hljs-title function_">stream</span>({ input });
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> stream) {
    <span class="hljs-keyword">yield</span> chunk; <span class="hljs-comment">// é€èŠ‚ç‚¹è¿”å›çŠ¶æ€</span>
  }
}
<span class="hljs-comment">// å‰ç«¯è°ƒç”¨ (SSE)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">callDocToAudioAgent</span>(<span class="hljs-params">message, fileUrl</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/agent/workflow'</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ message, fileUrl }) });
  <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
    <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">const</span> chunk = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>().<span class="hljs-title function_">decode</span>(value));
    <span class="hljs-comment">// å®æ—¶æ›´æ–°UI: if (chunk.perceive) showProgress("å·²è¯†åˆ«éœ€æ±‚...");</span>
  }
}
</code></pre>
<h4 data-id="heading-2"><strong>ä¸‰ã€ä¸ç°æœ‰æ¶æ„çš„å®Œæ•´é—­ç¯ä½“ç³»</strong></h4>
<p><strong>1. å·¥å…·å°è£…é—­ç¯ï¼šå¤ç”¨ LangChain å·¥å…·å±‚</strong>
æ‰€æœ‰å·¥å…·åŸºäºç°æœ‰<code>Tool</code>åŸºç±»å°è£…ï¼Œè°ƒç”¨è§„èŒƒç»Ÿä¸€ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageGeneratorTool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Tool</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">_call</span>(<span class="hljs-params">input</span>) {
    <span class="hljs-comment">// å¯¹æ¥ç°æœ‰å›¾åƒæœåŠ¡</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateSeedreamImages</span>({
      <span class="hljs-attr">userId</span>: input.<span class="hljs-property">userId</span>,
      <span class="hljs-attr">sessionId</span>: input.<span class="hljs-property">sessionId</span>,
      <span class="hljs-attr">prompt</span>: input.<span class="hljs-property">prompt</span>
    });
  }
}
<span class="hljs-comment">// WorkflowAgentä¸­æ— æ„ŸçŸ¥è°ƒç”¨</span>
<span class="hljs-keyword">const</span> tool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageGeneratorTool</span>();
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> tool.<span class="hljs-title function_">_call</span>({...});
</code></pre>
<p><strong>é—­ç¯é“¾è·¯</strong>ï¼š<code>WorkflowAgent â†’ LangChain å·¥å…· â†’ ç°æœ‰æœåŠ¡å±‚ â†’ æ•°æ®åº“</code></p>
<p><strong>2. æ§åˆ¶å™¨ä¸è·¯ç”±é›†æˆï¼ˆå¯¹æ¥ç°æœ‰æ¥å£ï¼‰</strong>
åˆ›å»ºæ§åˆ¶å™¨ï¼Œå¤ç”¨ç”¨æˆ·è®¤è¯ä¸æ—¥å¿—å­˜å‚¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// workflowAgentController.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chat</span>: <span class="hljs-keyword">async</span> (req, res) =&gt; {
    <span class="hljs-keyword">const</span> { message, session_id } = req.<span class="hljs-property">body</span>;
    <span class="hljs-keyword">const</span> userId = req.<span class="hljs-property">user</span>.<span class="hljs-property">user_id</span>; <span class="hljs-comment">// ç°æœ‰è®¤è¯ä½“ç³»</span>
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/event-stream'</span> });

    <span class="hljs-keyword">const</span> agent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkflowAgent</span>({ userId, <span class="hljs-attr">sessionId</span>: session_id });
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> agent.<span class="hljs-title function_">stream</span>({ message })) {
      res.<span class="hljs-title function_">write</span>(<span class="hljs-string">`data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(chunk)}</span>\n\n`</span>); <span class="hljs-comment">// æµå¼æ¨é€</span>
    }
    <span class="hljs-comment">// å¤ç”¨ç°æœ‰æ—¥å¿—å­˜å‚¨</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">saveChatRecord</span>({ <span class="hljs-attr">user_id</span>: userId, session_id, <span class="hljs-attr">request_text</span>: message, <span class="hljs-attr">model</span>: <span class="hljs-string">'workflow-agent'</span> });
    res.<span class="hljs-title function_">end</span>();
  }
};
<span class="hljs-comment">// é›†æˆåˆ°ç°æœ‰è·¯ç”±</span>
router.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/workflow'</span>, workflowAgentController.<span class="hljs-property">chat</span>);
</code></pre>
<p><strong>3. ä¸ BaseAgent çš„åœºæ™¯åˆ†å·¥</strong></p>





























<table><thead><tr><th align="left">ä»»åŠ¡ç±»å‹</th><th align="left">æ¨è Agent</th><th align="left">å·¥å…·è°ƒç”¨æ•°</th><th align="left">æµç¨‹æ§åˆ¶éœ€æ±‚</th></tr></thead><tbody><tr><td align="left">å•æ¨¡æ€ç®€å•ä»»åŠ¡ï¼ˆå¦‚â€œç”Ÿæˆæ—¥è½å›¾â€ï¼‰</td><td align="left">BaseAgent</td><td align="left">1</td><td align="left">æ— éœ€é¡ºåºæ§åˆ¶</td></tr><tr><td align="left">å¤šæ¨¡æ€å¤šæ­¥éª¤ä»»åŠ¡ï¼ˆå¦‚å†™è¯—é…å›¾ï¼‰</td><td align="left">WorkflowAgent</td><td align="left">â‰¥2</td><td align="left">éœ€æ­¥éª¤ä¾èµ–ä¸é¡ºåºæ§åˆ¶</td></tr><tr><td align="left">ä¼ä¸šçº§åˆè§„ä»»åŠ¡ï¼ˆå¦‚å¸¦å®¡æ ¸çš„å†…å®¹ç”Ÿæˆï¼‰</td><td align="left">WorkflowAgentï¼ˆåŠ å®¡æ ¸èŠ‚ç‚¹ï¼‰</td><td align="left">â‰¥2</td><td align="left">éœ€åˆ†æ”¯ä¸äººå·¥å¹²é¢„</td></tr></tbody></table>
<h4 data-id="heading-3"><strong>å››ã€ç”Ÿäº§çº§æ‰©å±•ä¸æœ€ä½³å®è·µ</strong></h4>
<p><strong>4.1 é”™è¯¯å¤„ç†å¢å¼ºï¼šç”Ÿäº§çº§å¯é æ€§ä¿éšœ</strong>
é€šè¿‡ <strong>é‡è¯•ç­–ç•¥ã€é”™è¯¯é™çº§ã€æ—¥å¿—ä¸ŠæŠ¥</strong> ä¸‰é‡æœºåˆ¶ï¼Œå°†ä»»åŠ¡æˆåŠŸç‡æå‡è‡³95%ä»¥ä¸Šã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> plan) {
    <span class="hljs-keyword">let</span> retryCount = <span class="hljs-number">0</span>, maxRetry = <span class="hljs-number">3</span>, stepSuccess = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">while</span> (retryCount &lt; maxRetry &amp;&amp; !stepSuccess) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. ä¾èµ–æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (step.<span class="hljs-property">depends_on</span> &amp;&amp; !stepResults[step.<span class="hljs-property">depends_on</span>]) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`ä¾èµ–æ­¥éª¤æœªæˆåŠŸ`</span>);
        <span class="hljs-comment">// 2. å‚æ•°æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (step.<span class="hljs-property">tool</span> === <span class="hljs-string">"image_generator"</span> &amp;&amp; !step.<span class="hljs-property">params</span>.<span class="hljs-property">previous_result</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"å‚æ•°ä¸å®Œæ•´"</span>);
        <span class="hljs-comment">// 3. å·¥å…·è°ƒç”¨ï¼ˆå¸¦è¶…æ—¶ï¼‰</span>
        stepResult = <span class="hljs-keyword">await</span> tool.<span class="hljs-title function_">_call</span>({ ..., <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span> });
        stepSuccess = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æˆåŠŸ</span>
      } <span class="hljs-keyword">catch</span> (error) {
        retryCount++;
        <span class="hljs-comment">// 4. æŒ‡æ•°é€€é¿é‡è¯•</span>
        <span class="hljs-keyword">if</span> (retryCount &lt; maxRetry) <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span> * retryCount));
      }
    }
    <span class="hljs-comment">// 5. å¤šæ¬¡é‡è¯•å¤±è´¥ï¼šæ‰§è¡Œé™çº§</span>
    <span class="hljs-keyword">if</span> (!stepSuccess) {
      <span class="hljs-keyword">if</span> (step.<span class="hljs-property">tool</span> === <span class="hljs-string">"text_generator"</span>) stepResult = <span class="hljs-string">"é»˜è®¤æ˜¥å¤©ä¸»é¢˜è¯—æ­Œ..."</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (step.<span class="hljs-property">tool</span> === <span class="hljs-string">"image_generator"</span>) stepResult = <span class="hljs-string">"/static/fallback/spring.jpg"</span>;
    }
    <span class="hljs-comment">// 6. é”™è¯¯æ—¥å¿—ä¸ŠæŠ¥ï¼ˆå¯¹æ¥ELKç­‰ç›‘æ§ï¼‰</span>
    <span class="hljs-keyword">if</span> (errorLogs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">await</span> <span class="hljs-title function_">reportErrorLogs</span>({ <span class="hljs-attr">userId</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-attr">logs</span>: errorLogs });
  }
}
</code></pre>
<p><strong>4.2 æ”¯æŒæ¡ä»¶åˆ†æ”¯ä¸å¾ªç¯ï¼ˆä¼ä¸šçº§åˆè§„éœ€æ±‚ï¼‰</strong>
åº”å¯¹â€œäººå·¥å®¡æ ¸â€ã€â€œå¤šè½®ä¼˜åŒ–â€ç­‰åŠ¨æ€æµç¨‹ï¼Œä»¥â€œå†™è¯—é…å›¾+äººå·¥å®¡æ ¸â€ä¸ºä¾‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">createGraph</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ... åŸæœ‰èŠ‚ç‚¹ ...</span>
  workflow.<span class="hljs-title function_">addNode</span>(<span class="hljs-string">'review'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">reviewNode</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>)); <span class="hljs-comment">// æ–°å¢å®¡æ ¸èŠ‚ç‚¹</span>
  workflow.<span class="hljs-title function_">addEdge</span>(<span class="hljs-string">'execute'</span>, <span class="hljs-string">'review'</span>);
  <span class="hljs-comment">// æ¡ä»¶è¾¹ï¼šæ ¹æ®å®¡æ ¸ç»“æœå†³å®šåç»­æµç¨‹</span>
  workflow.<span class="hljs-title function_">addConditionalEdges</span>(
    <span class="hljs-string">'review'</span>,
    <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> status = state.<span class="hljs-property">reviewStatus</span>;
      <span class="hljs-keyword">if</span> (status === <span class="hljs-string">"approved"</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"end"</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status === <span class="hljs-string">"rejected"</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"replan"</span>; <span class="hljs-comment">// é©³å›åˆ™é‡æ–°è§„åˆ’</span>
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">"review"</span>; <span class="hljs-comment">// å¾…å®¡æ ¸åˆ™å¾ªç¯ç­‰å¾…</span>
    },
    { <span class="hljs-string">'end'</span>: <span class="hljs-variable constant_">END</span>, <span class="hljs-string">'replan'</span>: <span class="hljs-string">'plan'</span>, <span class="hljs-string">'review'</span>: <span class="hljs-string">'review'</span> }
  );
}
<span class="hljs-comment">// å®¡æ ¸é©³å›åï¼Œè§„åˆ’èŠ‚ç‚¹èå…¥å®¡æ ¸æ„è§é‡æ–°ç”Ÿæˆè®¡åˆ’</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">planNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> { perceived, reviewStatus, reviewComment } = state;
  <span class="hljs-keyword">const</span> reviewInfo = reviewStatus === <span class="hljs-string">"rejected"</span> ? <span class="hljs-string">`ï¼ˆå®¡æ ¸é©³å›åŸå› ï¼š<span class="hljs-subst">${reviewComment}</span>ï¼‰`</span> : <span class="hljs-string">""</span>;
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`åŸºäºæ„å›¾åˆ¶å®šæ­¥éª¤è®¡åˆ’...æ„å›¾ï¼š<span class="hljs-subst">${perceived.intent}</span> <span class="hljs-subst">${reviewInfo}</span>`</span>;
  <span class="hljs-comment">// ... ç”Ÿæˆæ–°è®¡åˆ’</span>
}
</code></pre>
<p><strong>4.3 æ€§èƒ½ä¼˜åŒ–ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ•ˆç‡æå‡</strong>
ä» <strong>å¹¶è¡Œæ‰§è¡Œã€çŠ¶æ€ç¼“å­˜ã€èµ„æºå¤ç”¨</strong> ä¸‰æ–¹é¢ä¼˜åŒ–ã€‚</p>
<ul>
<li><strong>æ— ä¾èµ–æ­¥éª¤å¹¶è¡Œ</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> independentSteps = plan.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> step.<span class="hljs-property">depends_on</span> === <span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> dependentSteps = plan.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> step.<span class="hljs-property">depends_on</span> !== <span class="hljs-literal">null</span>);
  <span class="hljs-comment">// å¹¶è¡Œæ‰§è¡Œæ— ä¾èµ–æ­¥éª¤</span>
  <span class="hljs-keyword">if</span> (independentSteps.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">const</span> parallelPromises = independentSteps.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">step</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSingleStep</span>(step, ...));
    <span class="hljs-keyword">const</span> parallelResults = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(parallelPromises);
    <span class="hljs-comment">// ...å¤„ç†ç»“æœ</span>
  }
  <span class="hljs-comment">// ä¸²è¡Œæ‰§è¡Œä¾èµ–æ­¥éª¤</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> step <span class="hljs-keyword">of</span> dependentSteps.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a.<span class="hljs-property">step</span> - b.<span class="hljs-property">step</span>)) {
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeSingleStep</span>(step, ...);
  }
}
</code></pre>
</li>
<li><strong>é‡å¤ä»»åŠ¡çŠ¶æ€ç¼“å­˜</strong>ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">executeNode</span>(<span class="hljs-params">state</span>) {
  <span class="hljs-keyword">const</span> cacheKey = <span class="hljs-string">`user:<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.userId}</span>:task:<span class="hljs-subst">${md5(input)}</span>`</span>;
  <span class="hljs-keyword">const</span> cachedResult = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(cacheKey); <span class="hljs-comment">// Redisç¼“å­˜</span>
  <span class="hljs-keyword">if</span> (cachedResult) <span class="hljs-keyword">return</span> { ...parsedCache, <span class="hljs-attr">fromCache</span>: <span class="hljs-literal">true</span> }; <span class="hljs-comment">// å‘½ä¸­ç¼“å­˜</span>
  <span class="hljs-comment">// ... æ‰§è¡Œä»»åŠ¡</span>
  <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(cacheKey, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result), <span class="hljs-string">"EX"</span>, <span class="hljs-number">3600</span>); <span class="hljs-comment">// å†™å…¥ç¼“å­˜</span>
  <span class="hljs-keyword">return</span> { ...result, <span class="hljs-attr">fromCache</span>: <span class="hljs-literal">false</span> };
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-4"><strong>äº”ã€å­¦ä¹ è·¯å¾„ï¼šä»å…¥é—¨åˆ°å®æˆ˜</strong></h4>
<ol>
<li><strong>å…¥é—¨é˜¶æ®µ</strong>ï¼šæŒæ¡æ ¸å¿ƒç»„ä»¶ã€‚
<ul>
<li><strong>ç¯å¢ƒæ­å»º</strong>ï¼šå®‰è£… <code>langchain</code>, <code>langgraph</code>, <code>redis</code>ï¼Œé…ç½®LLMã€‚</li>
<li><strong>åŸºç¡€ç»ƒä¹ </strong>ï¼šç”¨LangChainå°è£…ä¸€ä¸ªè‡ªå®šä¹‰å·¥å…·ï¼›ç”¨LangGraphå®ç°â€œå•æ­¥éª¤æ–‡æœ¬ç”Ÿæˆâ€æµç¨‹ã€‚</li>
</ul>
</li>
<li><strong>è¿›é˜¶é˜¶æ®µ</strong>ï¼šæ”»å…‹å¤æ‚æµç¨‹ã€‚
<ul>
<li><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼šå®ç°â€œé”™è¯¯é‡è¯•+é™çº§â€ï¼›å¼€å‘â€œæ¡ä»¶åˆ†æ”¯+å¾ªç¯â€ï¼ˆä»¥æ–‡æ¡£è½¬è¯­éŸ³ä¸ºæ¡ˆä¾‹ï¼‰ã€‚</li>
<li><strong>æµå¼å¤„ç†</strong>ï¼šåŸºäº <code>agent.stream()</code> å®ç°å‰ç«¯å®æ—¶è¿›åº¦å±•ç¤ºï¼Œè°ƒè¯•SSEè¿æ¥ã€‚</li>
</ul>
</li>
<li><strong>å®æˆ˜é˜¶æ®µ</strong>ï¼šæ„å»ºå®Œæ•´ç³»ç»Ÿã€‚
<ul>
<li><strong>ç»¼åˆé¡¹ç›®</strong>ï¼šå¼€å‘â€œæ™ºèƒ½å†…å®¹ç”Ÿäº§ç³»ç»Ÿâ€ï¼šæ–‡æ¡£â†’è§£æâ†’æ‘˜è¦â†’é…å›¾â†’åˆæˆè¯­éŸ³ã€‚</li>
<li><strong>æ¶æ„é—­ç¯</strong>ï¼šå¤ç”¨ç°æœ‰ç”¨æˆ·ã€æ—¥å¿—ã€å·¥å…·æœåŠ¡ï¼›è¿›è¡Œå‹æµ‹ä¼˜åŒ–ï¼Œé€šè¿‡ç¼“å­˜å’Œå¹¶è¡Œé™ä½å“åº”æ—¶é—´ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-5"><strong>å…­ã€æ€»ç»“ï¼šæ ¸å¿ƒä»·å€¼ä¸è½åœ°å»ºè®®</strong></h4>
<ul>
<li><strong>æ¡†æ¶ååŒä»·å€¼</strong>ï¼š
<ul>
<li><code>LangChain</code> è§£å†³ <strong>â€œå·¥å…·å¤ç”¨â€</strong> å’Œ <strong>â€œèƒ½åŠ›æ‰©å±•â€</strong>ã€‚</li>
<li><code>LangGraph</code> è§£å†³ <strong>â€œæµç¨‹æ§åˆ¶â€</strong> å’Œ <strong>â€œçŠ¶æ€ç®¡ç†â€</strong>ã€‚</li>
<li>äºŒè€…ç»“åˆå®ç°ä»â€œå·¥å…·è°ƒç”¨â€åˆ°â€œæ™ºèƒ½ç³»ç»Ÿâ€çš„è·¨è¶Šã€‚</li>
</ul>
</li>
<li><strong>æ¶æ„é—­ç¯å…³é”®</strong>ï¼š
<ul>
<li><strong>ç»„ä»¶å¤ç”¨</strong>ï¼šæ‰€æœ‰å·¥å…·åŸºäºç°æœ‰åŸºç±»å°è£…ã€‚</li>
<li><strong>çŠ¶æ€é€æ˜</strong>ï¼šå…¨å±€çŠ¶æ€é€šé“ä¾¿äºæ’æŸ¥ä¸æ•°æ®åˆ†æã€‚</li>
<li><strong>åœºæ™¯é€‚é…</strong>ï¼šæ˜ç¡® <code>BaseAgent</code> ä¸ <code>WorkflowAgent</code> åˆ†å·¥ï¼Œé¿å…è¿‡åº¦è®¾è®¡ã€‚</li>
</ul>
</li>
<li><strong>è½åœ°æ³¨æ„äº‹é¡¹</strong>ï¼š
<ul>
<li><strong>é”™è¯¯å¤„ç†åˆ†çº§</strong>ï¼šå…³é”®æ­¥éª¤ä¸­æ–­ï¼Œéå…³é”®æ­¥éª¤é™çº§ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼šå¤§æ–‡ä»¶ä»»åŠ¡æ‹†åˆ†å¹¶è¡Œï¼Œé«˜é¢‘ä»»åŠ¡åŠ ç¼“å­˜ã€‚</li>
<li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šè®°å½•å·¥å…·è€—æ—¶ä¸é”™è¯¯ç‡ï¼Œåˆ©ç”¨LangSmithç­‰å·¥å…·ä¼˜åŒ–æµç¨‹ã€‚</li>
</ul>
</li>
</ul>
<p>é€šè¿‡æœ¬æ–‡çš„æ¡ˆä¾‹ä¸è®¾è®¡ï¼Œå¼€å‘è€…å¯å°†å¤šæ¨¡æ€AIåº”ç”¨ä»â€œDemoçº§â€å¯é åœ°å‡çº§ä¸ºâ€œç”Ÿäº§çº§â€ï¼Œæœ‰æ•ˆè§£å†³æµç¨‹å¤±æ§çš„ç—›ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€ç¬¬å…­ä¸ƒå…«ç« ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚ã€‘]]></title>    <link>https://juejin.cn/post/7579871631095873562</link>    <guid>https://juejin.cn/post/7579871631095873562</guid>    <pubDate>2025-12-04T14:36:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579871631095873562" data-draft-id="7578922565210783771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€ç¬¬å…­ä¸ƒå…«ç« ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚ã€‘"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-04T14:36:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰é€€ä¼‘çš„javaçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/465848660928872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€ç¬¬å…­ä¸ƒå…«ç« ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848660928872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰é€€ä¼‘çš„javaçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T14:36:49.000Z" title="Thu Dec 04 2025 14:36:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>æˆ‘æ˜¯[<a href="https://juejin.cn/user/465848660928872" title="https://juejin.cn/user/465848660928872" target="_blank">æå‰é€€ä¼‘çš„javaçŒ¿</a>]ï¼Œä¸€å7å¹´javaå¼€å‘ç»éªŒçš„å¼€å‘ç»„é•¿ï¼Œåˆ†äº«å·¥ä½œä¸­çš„å„ç§é—®é¢˜ï¼ï¼ˆæŠ–éŸ³ã€å…¬ä¼—å·åŒå·ï¼‰<br/>
ğŸ”ˆPS: æœ€è¿‘å¤šäº†ä¸€ä¸ªæ–°çš„å†™ä½œæ–¹å‘ï¼Œå°±æ˜¯ä¼šæŠŠå‡ºç‰ˆç¤¾å¯„æ¥çš„ã€javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ã€‘æŒ‰ç…§ä¹¦çš„éª¨æ¶æå–å…¶ä¸­å¹²è´§è¿›è¡Œä¸°ç›ˆå†™æˆåšå®¢ï¼Œå¤§å®¶å¯ä»¥å…³æ³¨æˆ‘çš„æ–°ä¸“æ </p>
</blockquote>
<p>java æ·±åº¦è°ƒè¯•æŠ€æœ¯ç¬¬å…­ä¸ƒå…«ç« åˆ†åˆ«çš„ä¸»é¢˜æ˜¯ ã€å¸¸è§çš„javaé™·é˜±ã€‘ã€ã€å…³äºæ•°æ®åº“ã€‘ã€ã€å­—ç¬¦é›†ä¸ç¼–ç ã€‘è¿™å‡ ç« ä¹¦ä¸­çš„å†…å®¹æ¯”è¾ƒå°‘ï¼Œè€Œä¸”æœ‰äº›JDKçš„ä»‹ç»å‡ ä¹åœ¨å®é™…å¼€å‘ä¸­ï¼ˆwebï¼‰é‡ä¸åˆ°çš„ï¼Œæ¯”å¦‚å¸¸è§çš„javaé™·é˜±ä¸­ä»‹ç»äº†<code>java.swing.Timer</code>. ä¸‹é¢å°±ç®€å•æ¦‚æ‹¬ä¸€ä¸‹ä¹¦ä¸­å†…å®¹ä»¥åŠæœ¬äººçš„ä¸€äº›æ‰©å±•å§ã€‚</p>
<h2 data-id="heading-1">javaæ·±åº¦è°ƒè¯•æŠ€æœ¯ å…­ä¸ƒå…«ç« </h2>
<h3 data-id="heading-2">å¸¸è§çš„javaé™·é˜±</h3>
<p>ä¹¦ä¸­å†™çš„å†…å®¹æ¯”è¾ƒå°‘ï¼Œå†™äº†<code>java.lang.Runtime</code>ã€<code>java.util.Timer</code>ã€<code>java.swing.Timer</code>è¿™å‡ ä¸ªç±»åœ¨å¼€å‘å½“ä¸­å‡ ä¹éƒ½ä¸ä¼šç”¨åˆ°ã€‚Runtime è¿™ä¸ªAPI æ¯”è¾ƒåº•å±‚çš„ä¸€ä¸ªAPIï¼Œå¼€å‘å½“ä¸­æœ€å¤šä¹Ÿæ˜¯ç”¨æ¥è·å–ä¸ªCPUæ ¸æ•°ï¼ŒTImer å®šæ—¶å™¨ä¹Ÿå‡ ä¹ä¸ä¼šç›´æ¥ç”¨åˆ°ã€‚</p>
<p>æ‰€ä»¥è¿™ç« èŠ‚å¯¹å¼€å‘æ¥è¯´å‡ ä¹éƒ½æ²¡å•¥ç”¨ğŸ‘¹å¯èƒ½å¾ˆå¤šå¹´å‰ä¼šç”¨å§ï¼</p>
<p>å¯¹äºjavaé™·é˜±ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘å†™çš„ã€<a href="https://juejin.cn/post/7568859869693837348#heading-3" target="_blank" title="https://juejin.cn/post/7568859869693837348#heading-3">å¹½çµä»£ç </a>ã€‘è¿™ç¯‡æ–‡æ–‡ç« ï¼Œç›®å½•å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°æ®åº“çš„æ—¶é—´ç²¾åº¦é—®é¢˜</li>
<li>å¼‚å¸¸çš„å¤„ç†</li>
<li>äº‹åŠ¡é—®é¢˜</li>
<li>æ•°æ®åº“æ“ä½œ</li>
<li>çº¿ç¨‹ä¸Šä¸‹æ–‡å˜é‡åœ¨çº¿ç¨‹æ± ä¸­ä¼ é€’</li>
<li>ç¼“å­˜é—®é¢˜</li>
</ul>
<h3 data-id="heading-3">æ•°æ®åº“æ­»é”</h3>
<p>è¿™ä¸€ç« èŠ‚å†™çš„ä¸œè¥¿ä¹Ÿæ˜¯éå¸¸çš„å°‘ï¼Œä¸å¦‚ç½‘ä¸Šçš„å…«è‚¡æ–‡å§ï¼ä»‹ç»äº†æ­»é”çš„åŸºæœ¬å½¢æˆæ¡ä»¶ï¼Œä»¥åŠå¦‚ä½•å»é¿å…æ­»é”ï¼Œå¦‚ä½•å»æŸ¥è¯¢æ•°æ®é”çš„æƒ…å†µã€‚ è¯´å®è¯è¿˜è¿˜æ˜¯çœ‹æˆ‘è¿™ç¯‡æ–‡ç« å§ã€<a href="https://juejin.cn/post/7572039006529601572" target="_blank" title="https://juejin.cn/post/7572039006529601572">ä¸ºä»€ä¹ˆå¾ˆå°‘é‡åˆ°æ•°æ®åº“æ­»é”</a>ã€‘ï¼Œç›®å½•å¦‚ä¸‹ï¼š</p>
<ul>
<li>MySQLæ•°æ®åº“çš„æ­»é”æ£€æµ‹æœºåˆ¶ å’Œå…³é”®é…ç½®</li>
<li>å¦‚ä½•è§£å†³æ­»é”é—®é¢˜ï¼Œæ˜¯çœ‹æ—¥å¿—è¿˜æ˜¯æŸ¥è¯¢äº‹åŠ¡é˜»å¡ä¿¡æ¯</li>
<li>æ­»é”çš„é¢„é˜²</li>
<li>MySQLä»€ä¹ˆåœºæ™¯ä¸‹æ•°æ®åº“ä¼šå›æ»šéƒ¨åˆ†SQL</li>
</ul>
<h3 data-id="heading-4">å­—ç¬¦é›†ä¸ç¼–ç é›†</h3>
<p>è¿™ä¸€ç« èŠ‚å°±æ˜¯è®²äº†ä¸€äº›åŸºç¡€çš„æ¦‚å¿µï¼Œæ¯”å¦‚ å­—ç¬¦é›†æ˜¯å­—ç¬¦çš„é›†åˆï¼Œç¼–ç æŒ‡çš„æ˜¯å­—ç¬¦åœ¨è®¡ç®—æœºä¸­æ˜¯å¦‚ä½•å­˜æ”¾çš„æ˜¯é‡‡ç”¨å•å­—èŠ‚è¿˜æ˜¯å¤šå­—èŠ‚ã€‚Unicodeæ˜¯å­—ç¬¦é›†åç§°å®šä¹‰äº†æ¯ä¸ªå­—ç¬¦çš„ç¼–å·ï¼ŒUtf-8 åˆ™æ˜¯Unicode å­—ç¬¦é›†å¯¹åº”çš„è®¡ç®—æœºå­˜å‚¨æ ¼å¼ã€‚</p>
<p>è¿˜è®²äº†ä¸€ç¼–ç çš„è½¬æ¢ï¼Œç®—æ˜¯æˆ‘ä¹‹å‰ä¹Ÿæ²¡å¬è¿‡çš„ å¤šå­—èŠ‚å’Œå®½å­—èŠ‚ï¼Œå¤§æ¦‚å°±æ˜¯å†™å…¥ç£ç›˜è½¬æ¢æˆå¤šå­—èŠ‚ï¼ˆå¦‚UTF8 ä¸€ä¸ªå­—ç¬¦å¯èƒ½æ˜¯ä¸€ä¸ªå­—èŠ‚æˆ–è€…ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºï¼‰ï¼Œè¯»å…¥å†…å­˜è½¬æˆå®½å­—èŠ‚ã€‚
ä»Šå¤©å°±ä¸»è¦ä»‹ç»ä¸€ä¸‹è¿™ä¸ªçŸ¥è¯†ç‚¹å§</p>
<h2 data-id="heading-5">æ‰©å±•é˜…è¯»ï¼šå®½å­—èŠ‚ä¸å¤šå­—èŠ‚</h2>
<p>è¦ç†è§£å®½å­—èŠ‚ã€å¤šå­—èŠ‚ï¼Œä»¥åŠæ–‡æœ¬è¯»å†™æ—¶çš„ç¼–ç è½¬æ¢ï¼Œéœ€å…ˆæ˜ç¡®<strong>å­—ç¬¦ç¼–ç </strong>çš„æ ¸å¿ƒé€»è¾‘ï¼šè®¡ç®—æœºä»…èƒ½å­˜å‚¨äºŒè¿›åˆ¶ï¼ˆ0/1ï¼‰ï¼Œâ€œå­—ç¬¦â€ éœ€é€šè¿‡ç¼–ç è§„åˆ™æ˜ å°„ä¸ºäºŒè¿›åˆ¶ï¼Œè€Œ â€œå®½å­—èŠ‚â€â€œå¤šå­—èŠ‚â€ æ˜¯ä¸¤ç§ä¸åŒçš„å­—ç¬¦ç¼–ç è®¾è®¡æ€è·¯ï¼›æ–‡æœ¬åœ¨ â€œç£ç›˜ â†” å†…å­˜â€ çš„æµè½¬è¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶æ¶‰åŠç¼–ç  / è§£ç è½¬æ¢ï¼Œè¿™ä¹Ÿæ˜¯ä¹±ç é—®é¢˜çš„æ ¸å¿ƒæ ¹æºã€‚</p>
<h4 data-id="heading-6">ä¸€. å¤šå­—èŠ‚ç¼–ç ï¼ˆMulti-Byte Encodingï¼‰</h4>
<h5 data-id="heading-7">å®šä¹‰</h5>
<p>ç”¨<strong>1~n ä¸ªå­—èŠ‚</strong>è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼Œä¸åŒå­—ç¬¦å ç”¨çš„å­—èŠ‚æ•°ä¸åŒï¼š</p>
<ul>
<li>å•å­—èŠ‚å­—ç¬¦ï¼šå¦‚ ASCII å­—ç¬¦ï¼ˆ0-127ï¼‰ï¼Œä»…å  1 å­—èŠ‚ï¼›</li>
<li>å¤šå­—èŠ‚å­—ç¬¦ï¼šå¦‚ä¸­æ–‡ã€æ—¥æ–‡ç­‰ï¼Œå  2~4 å­—èŠ‚ï¼ˆå¦‚ GBK ä¸­æ±‰å­—å  2 å­—èŠ‚ï¼ŒUTF-8 ä¸­æ±‰å­—å  3 å­—èŠ‚ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-8">å…¸å‹ä»£è¡¨</h5>
<ul>
<li>UTF-8ï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼šå…¼å®¹ ASCIIï¼Œå…¨çƒé€šç”¨çš„å¤šå­—èŠ‚ç¼–ç ï¼›</li>
<li>GBK/GB2312ï¼šä¸­æ–‡ä¸“ç”¨å¤šå­—èŠ‚ç¼–ç ï¼Œä»…æ”¯æŒä¸­æ—¥éŸ©å­—ç¬¦ï¼›</li>
<li>Shift_JISï¼šæ—¥æ–‡ä¸“ç”¨å¤šå­—èŠ‚ç¼–ç ã€‚</li>
</ul>
<h5 data-id="heading-9">æ ¸å¿ƒç‰¹ç‚¹</h5>
<ul>
<li>å­—èŠ‚æ•°ä¸å›ºå®šï¼šå­—ç¬¦å ç”¨ 1~4 å­—èŠ‚ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ï¼ˆASCII å­—ç¬¦ä»… 1 å­—èŠ‚ï¼‰ï¼›</li>
<li>æœ‰ â€œå˜é•¿â€ è§£æè§„åˆ™ï¼šéœ€æŒ‰ç¼–ç è§„åˆ™é€å­—èŠ‚è§£æï¼ˆå¦‚ UTF-8 é å­—èŠ‚é«˜ä½æ ‡è¯†åç»­æ˜¯å¦æœ‰ç»­å­—èŠ‚ï¼‰ï¼›</li>
<li>æ— å­—èŠ‚åºé—®é¢˜ï¼šå•å­—èŠ‚ / å¤šå­—èŠ‚æŒ‰é¡ºåºå­˜å‚¨ï¼Œæ— éœ€åŒºåˆ†å¤§ç«¯ / å°ç«¯ã€‚</li>
</ul>
<h4 data-id="heading-10">äºŒ. å®½å­—èŠ‚ç¼–ç ï¼ˆWide Character Encodingï¼‰</h4>
<h5 data-id="heading-11">å®šä¹‰</h5>
<p>ç”¨<strong>å›ºå®šå­—èŠ‚æ•°</strong>è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼Œæ— è®ºå­—ç¬¦ç±»å‹ï¼ˆASCII / ä¸­æ–‡ / ç‰¹æ®Šç¬¦å·ï¼‰ï¼Œå‡å ç”¨ç›¸åŒå­—èŠ‚æ•°ï¼ˆé€šå¸¸æ˜¯ 2 æˆ– 4 å­—èŠ‚ï¼‰ã€‚</p>
<h5 data-id="heading-12">å…¸å‹ä»£è¡¨</h5>
<ul>
<li>UTF-16ï¼šå›ºå®š 2 å­—èŠ‚ï¼ˆBMP å­—ç¬¦ï¼Œå¦‚å¸¸ç”¨æ±‰å­—ï¼‰æˆ– 4 å­—èŠ‚ï¼ˆå¢è¡¥å­—ç¬¦ï¼‰ï¼Œæœ¬è´¨æ˜¯ â€œå‡†å›ºå®šé•¿åº¦â€ï¼ŒJava å†…å­˜ä¸­å­—ç¬¦ï¼ˆ<code>char</code>Â ç±»å‹ï¼‰å°±æ˜¯ UTF-16 ç¼–ç çš„å®½å­—èŠ‚ï¼›</li>
<li>UTF-32ï¼šå›ºå®š 4 å­—èŠ‚ï¼Œæ¯ä¸ªå­—ç¬¦å‡å  4 å­—èŠ‚ï¼Œå®Œå…¨å›ºå®šé•¿åº¦ï¼›</li>
<li>UCS-2ï¼šUTF-16 çš„å­é›†ï¼Œä»…æ”¯æŒ BMP å­—ç¬¦ï¼Œå›ºå®š 2 å­—èŠ‚ï¼ˆå·²è¢« UTF-16 å–ä»£ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-13">æ ¸å¿ƒç‰¹ç‚¹</h5>
<ul>
<li>å­—èŠ‚æ•°å›ºå®šï¼šè§£ææ•ˆç‡é«˜ï¼ˆæ— éœ€é€å­—èŠ‚åˆ¤æ–­ï¼‰ï¼Œä½†å­˜å‚¨ç©ºé—´åˆ©ç”¨ç‡ä½ï¼ˆASCII å­—ç¬¦ä¹Ÿå  2/4 å­—èŠ‚ï¼‰ï¼›</li>
<li>æœ‰å­—èŠ‚åºé—®é¢˜ï¼šå¤šå­—èŠ‚å­˜å‚¨æ—¶éœ€åŒºåˆ†å¤§ç«¯ï¼ˆBEï¼‰/ å°ç«¯ï¼ˆLEï¼‰ï¼Œå¦‚ UTF-16BEã€UTF-16LEï¼›</li>
<li>ç›´æ¥æ˜ å°„ Unicode ç ç‚¹ï¼šæ¯ä¸ªå®½å­—èŠ‚ç›´æ¥å¯¹åº”ä¸€ä¸ª Unicode ç ç‚¹ï¼ˆå¦‚ U+4E2D å¯¹åº” â€œä¸­â€ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-14">ä¸‰ã€æ–‡æœ¬è¯»å†™çš„æ ¸å¿ƒï¼šç£ç›˜ â†” å†…å­˜çš„ç¼–ç è½¬æ¢</h3>
<p><strong>ç»“è®ºï¼šç³»ç»Ÿ / ç¨‹åºè¯»å–æ–‡æœ¬åˆ°å†…å­˜ã€ä»å†…å­˜å†™å…¥ç£ç›˜æ—¶ï¼Œå¿…ç„¶å‘ç”Ÿç¼–ç  / è§£ç è½¬æ¢</strong>â€”â€” å› ä¸ºç£ç›˜å­˜å‚¨çš„æ˜¯ â€œå­—èŠ‚æµâ€ï¼ˆå¤šå­—èŠ‚ç¼–ç ï¼Œå¦‚ UTF-8ï¼‰ï¼Œè€Œå†…å­˜ä¸­å¤„ç†çš„æ˜¯ â€œå­—ç¬¦â€ï¼ˆé€šå¸¸æ˜¯å®½å­—èŠ‚ç¼–ç ï¼Œå¦‚ UTF-16ï¼‰ï¼Œä¸¤è€…çš„è½¬æ¢æ˜¯æ–‡æœ¬æ“ä½œçš„æ ¸å¿ƒæ­¥éª¤ã€‚</p>
<h4 data-id="heading-15">1. å®Œæ•´è½¬æ¢æµç¨‹ï¼ˆä»¥ Java ä¸ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-plaintext" lang="plaintext">ç£ç›˜æ–‡ä»¶ï¼ˆUTF-8 å­—èŠ‚æµï¼‰ 
    â†“ è§£ç ï¼ˆDecodeï¼‰ï¼šå­—èŠ‚ â†’ å­—ç¬¦ï¼ˆå®½å­—èŠ‚ï¼‰
å†…å­˜ï¼ˆJava char/å­—ç¬¦ä¸²ï¼ŒUTF-16 å®½å­—èŠ‚ï¼‰
    â†“ ç¼–ç ï¼ˆEncodeï¼‰ï¼šå­—ç¬¦ â†’ å­—èŠ‚ï¼ˆå¤šå­—èŠ‚ï¼‰
ç£ç›˜æ–‡ä»¶ï¼ˆUTF-8 å­—èŠ‚æµï¼‰
</code></pre>
<h5 data-id="heading-16">æ­¥éª¤æ‹†è§£</h5>
<h6 data-id="heading-17">ï¼ˆ1ï¼‰è¯»å–æ–‡æœ¬åˆ°å†…å­˜ï¼ˆè§£ç ï¼šå­—èŠ‚ â†’ å­—ç¬¦ï¼‰</h6>
<ul>
<li>ç£ç›˜ä¸Šçš„æ–‡æœ¬æ–‡ä»¶æ˜¯<strong>å­—èŠ‚åºåˆ—</strong>ï¼ŒæŒ‰æŒ‡å®šå¤šå­—èŠ‚ç¼–ç ï¼ˆå¦‚ UTF-8ï¼‰å­˜å‚¨ï¼›</li>
<li>ç¨‹åºè¯»å–æ—¶ï¼Œéœ€æŒ‡å®š â€œè§£ç è§„åˆ™â€ï¼ˆå¦‚ UTF-8ï¼‰ï¼Œå°†å¯å˜é•¿åº¦çš„å­—èŠ‚åºåˆ—è½¬æ¢ä¸ºå†…å­˜ä¸­å›ºå®šé•¿åº¦çš„å®½å­—èŠ‚å­—ç¬¦ï¼ˆå¦‚ Java çš„ UTF-16Â <code>char</code>ï¼‰ï¼›</li>
<li>è‹¥è§£ç è§„åˆ™ä¸æ–‡ä»¶å®é™…ç¼–ç ä¸ä¸€è‡´ï¼Œä¼šå‡ºç°ä¹±ç ï¼ˆå¦‚ç”¨ GBK è§£æ UTF-8 æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
<h6 data-id="heading-18">ï¼ˆ2ï¼‰å†™å…¥æ–‡æœ¬åˆ°ç£ç›˜ï¼ˆç¼–ç ï¼šå­—ç¬¦ â†’ å­—èŠ‚ï¼‰</h6>
<ul>
<li>å†…å­˜ä¸­çš„å­—ç¬¦æ˜¯å®½å­—èŠ‚ç¼–ç ï¼ˆå¦‚ UTF-16ï¼‰ï¼Œæ— æ³•ç›´æ¥å­˜å‚¨ï¼ˆå­˜å‚¨æ•ˆç‡ä½ï¼‰ï¼›</li>
<li>ç¨‹åºå†™å…¥æ—¶ï¼Œéœ€æŒ‡å®š â€œç¼–ç è§„åˆ™â€ï¼ˆå¦‚ UTF-8ï¼‰ï¼Œå°†å®½å­—èŠ‚å­—ç¬¦è½¬æ¢ä¸ºå¯å˜é•¿åº¦çš„å¤šå­—èŠ‚åºåˆ—ï¼›</li>
<li>è‹¥ç¼–ç è§„åˆ™ä¸è¯»å–æ—¶çš„è§£ç è§„åˆ™ä¸ä¸€è‡´ï¼Œä¹Ÿä¼šå‡ºç°ä¹±ç ï¼ˆå¦‚å†…å­˜å­—ç¬¦ç¼–ç ä¸º UTF-16ï¼Œå†™å…¥æ—¶ç”¨ GBK ç¼–ç ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-19">2. å®æ“ç¤ºä¾‹ï¼šJava ä¸­çš„ç¼–ç è½¬æ¢ï¼ˆé¿å…ä¹±ç å…³é”®ï¼‰</h4>
<h5 data-id="heading-20">åä¾‹ï¼šæœªæŒ‡å®šç¼–ç ï¼ˆä¾èµ–ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œæ˜“ä¹±ç ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.FileReader;
<span class="hljs-keyword">import</span> java.io.FileWriter;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BadEncodingDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// è¯»å–ï¼šFileReader ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼ˆå¦‚ Windows æ˜¯ GBKï¼ŒLinux æ˜¯ UTF-8ï¼‰è§£ç </span>
        <span class="hljs-type">FileReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"test.txt"</span>); <span class="hljs-comment">// è‹¥æ–‡ä»¶æ˜¯ UTF-8ï¼ŒWindows ä¸‹ä¼šä¹±ç </span>
        <span class="hljs-comment">// å†™å…¥ï¼šFileWriter ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ç¼–ç ï¼Œè·¨å¹³å°å¿…ä¹±ç </span>
        <span class="hljs-type">FileWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"output.txt"</span>);
    }
}
</code></pre>
<h5 data-id="heading-21">æ­£ä¾‹ï¼šæ˜¾å¼æŒ‡å®šç¼–ç ï¼ˆç»Ÿä¸€ç”¨ UTF-8ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.FileInputStream;
<span class="hljs-keyword">import</span> java.io.FileOutputStream;
<span class="hljs-keyword">import</span> java.io.InputStreamReader;
<span class="hljs-keyword">import</span> java.io.OutputStreamWriter;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.nio.charset.StandardCharsets;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GoodEncodingDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// è¯»å–ï¼šå­—èŠ‚æµ + æ˜¾å¼æŒ‡å®š UTF-8 è§£ç ï¼ˆå­—èŠ‚â†’å­—ç¬¦ï¼‰</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">InputStreamReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"test.txt"</span>), StandardCharsets.UTF_8)) {
            <span class="hljs-type">char</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> reader.read(buffer); <span class="hljs-comment">// è§£ç ï¼šUTF-8 å­—èŠ‚ â†’ UTF-16 å­—ç¬¦</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(buffer, <span class="hljs-number">0</span>, len);
            System.out.println(<span class="hljs-string">"å†…å­˜ä¸­çš„å­—ç¬¦ï¼ˆUTF-16ï¼‰ï¼š"</span> + content);
        }

        <span class="hljs-comment">// å†™å…¥ï¼šå­—ç¬¦æµ + æ˜¾å¼æŒ‡å®š UTF-8 ç¼–ç ï¼ˆå­—ç¬¦â†’å­—èŠ‚ï¼‰</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">OutputStreamWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OutputStreamWriter</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"output.txt"</span>), StandardCharsets.UTF_8)) {
            <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ä½ å¥½ï¼ŒUTF-8ï¼"</span>;
            writer.write(content); <span class="hljs-comment">// ç¼–ç ï¼šUTF-16 å­—ç¬¦ â†’ UTF-8 å­—èŠ‚</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-22">3. å…³é”®ç»†èŠ‚ï¼šä¸åŒç³»ç»Ÿ / è¯­è¨€çš„å†…å­˜ç¼–ç å·®å¼‚</h4>
<ul>
<li><strong>Java</strong>ï¼šå†…å­˜ä¸­å­—ç¬¦ä¸²ï¼ˆ<code>String</code>ï¼‰å’Œå­—ç¬¦ï¼ˆ<code>char</code>ï¼‰å‡ä¸º UTF-16 å®½å­—èŠ‚ç¼–ç ï¼Œæ— è®ºè¾“å…¥è¾“å‡ºï¼Œéƒ½éœ€åœ¨ â€œå­—èŠ‚â†”å­—ç¬¦â€ è½¬æ¢æ—¶æŒ‡å®šç¼–ç ï¼›</li>
<li><strong>C/C++ï¼ˆWindowsï¼‰</strong> ï¼š<code>wchar_t</code>Â æ˜¯å®½å­—èŠ‚ï¼ˆUTF-16ï¼Œ2 å­—èŠ‚ï¼‰ï¼Œ<code>char</code>Â æ˜¯å¤šå­—èŠ‚ï¼ˆç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œå¦‚ GBK/UTF-8ï¼‰ï¼›</li>
<li><strong>C/C++ï¼ˆLinuxï¼‰</strong> ï¼š<code>wchar_t</code>Â æ˜¯ UTF-32ï¼ˆ4 å­—èŠ‚ï¼‰ï¼Œ<code>char</code>Â æ˜¯å¤šå­—èŠ‚ï¼ˆé€šå¸¸ UTF-8ï¼‰ï¼›</li>
<li><strong>Python</strong>ï¼šå†…å­˜ä¸­å­—ç¬¦ä¸²æ˜¯ Unicode ç ç‚¹ï¼ˆé€»è¾‘ä¸Šçš„å®½å­—èŠ‚ï¼‰ï¼Œå†™å…¥æ—¶éœ€ç¼–ç ä¸º UTF-8/GBK ç­‰å¤šå­—èŠ‚ã€‚</li>
</ul>
<h4 data-id="heading-23">4. æ— è½¬æ¢çš„ç‰¹æ®Šåœºæ™¯ï¼ˆæå°‘ï¼‰</h4>
<p>åªæœ‰å½“å†…å­˜ç¼–ç ä¸ç£ç›˜ç¼–ç å®Œå…¨ä¸€è‡´ï¼Œä¸”ç¨‹åºç›´æ¥æŒ‰ â€œå­—èŠ‚æµâ€ è¯»å†™æ—¶ï¼Œæ‰æ— ç¼–ç è½¬æ¢ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—èŠ‚æµè¯»å†™ï¼šä»…å¤åˆ¶å­—èŠ‚ï¼Œä¸åšç¼–ç è½¬æ¢ï¼ˆé€‚åˆéæ–‡æœ¬æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡/äºŒè¿›åˆ¶ï¼‰</span>
<span class="hljs-keyword">import</span> java.io.FileInputStream;
<span class="hljs-keyword">import</span> java.io.FileOutputStream;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteStreamDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// è¯»å–ï¼šç›´æ¥è¯»å­—èŠ‚ï¼Œæ— è§£ç ï¼ˆå†…å­˜ä¸­æ˜¯å­—èŠ‚æ•°ç»„ï¼Œä¸æ˜¯å­—ç¬¦ï¼‰</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"test.txt"</span>)) {
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];
            <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> fis.read(buffer);
            <span class="hljs-comment">// å†™å…¥ï¼šç›´æ¥å†™å­—èŠ‚ï¼Œæ— ç¼–ç </span>
            <span class="hljs-keyword">try</span> (<span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"output.txt"</span>)) {
                fos.write(buffer, <span class="hljs-number">0</span>, len);
            }
        }
    }
}
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼šè¯¥æ–¹å¼ä»…é€‚ç”¨äº â€œå¤åˆ¶æ–‡ä»¶â€ï¼Œè‹¥å°è¯•å°†å­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆå¦‚Â <code>new String(buffer)</code>ï¼‰ï¼Œä»ä¼šè§¦å‘ç¼–ç è½¬æ¢ï¼ˆç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼‰ï¼Œææ˜“ä¹±ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>