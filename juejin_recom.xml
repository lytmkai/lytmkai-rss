<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Vue3-watchEffect]]></title>    <link>https://juejin.cn/post/7580329353352839214</link>    <guid>https://juejin.cn/post/7580329353352839214</guid>    <pubDate>2025-12-06T13:39:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580329353352839214" data-draft-id="7580270531470393390" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3-watchEffect"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-06T13:39:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YaeZed"/> <meta itemprop="url" content="https://juejin.cn/user/3977350021390107"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3-watchEffect
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3977350021390107/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YaeZed
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T13:39:47.000Z" title="Sat Dec 06 2025 13:39:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body&gt;:first-child{margin-top:0!important}.markdown-body&gt;:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li&gt;p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre&gt;code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><style data-highlight="" data-highlight-key="gml">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#222;color:silver}.hljs-keyword{color:#ffb871;font-weight:700}.hljs-built_in{color:#ffb871}.hljs-literal{color:#ff8080}.hljs-symbol{color:#58e55a}.hljs-comment{color:#5b995b}.hljs-string{color:#ff0}.hljs-number{color:#ff8080}.hljs-addition,.hljs-attribute,.hljs-bullet,.hljs-code,.hljs-deletion,.hljs-doctag,.hljs-function,.hljs-link,.hljs-meta,.hljs-meta-keyword,.hljs-name,.hljs-quote,.hljs-regexp,.hljs-section,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:silver}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>watchEffect</code> æ˜¯ Vue 3 ç»„åˆå¼ API æä¾›çš„å¦ä¸€ä¸ªä¾¦å¬å™¨ã€‚å®ƒå’Œ <code>watch</code> ç›®æ ‡ä¸€è‡´ï¼ˆåœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå‰¯ä½œç”¨ï¼‰ï¼Œä½†ä½¿ç”¨æ–¹å¼æ›´ç®€æ´ï¼Œå› ä¸ºå®ƒ<strong>ä¼šè‡ªåŠ¨è¿½è¸ªä¾èµ–</strong>ã€‚</p>
<h2 data-id="heading-0">1.æ ¸å¿ƒç†å¿µ</h2>
<p><code>watchEffect</code> çš„æ ¸å¿ƒç†å¿µæ˜¯ï¼š <strong>â€œç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶è‡ªåŠ¨è¿½è¸ªå‡½æ•°å†…éƒ¨ç”¨åˆ°çš„æ‰€æœ‰å“åº”å¼æ•°æ®ï¼Œåœ¨å®ƒä»¬å˜åŒ–æ—¶é‡æ–°æ‰§è¡Œã€‚â€</strong></p>
<p>å®ƒåªéœ€è¦ä¸€ä¸ªå‚æ•°ï¼šä¸€ä¸ªå‡½æ•°ã€‚</p>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>User ID: {{ userId }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeUser"</span>&gt;</span>åˆ‡æ¢ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, watchEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> userId = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>);

<span class="hljs-comment">// 1. ç«‹å³æ‰§è¡Œï¼š</span>
<span class="hljs-comment">// watchEffect ä¼šåœ¨ &lt;script setup&gt; æ‰§è¡Œåˆ°è¿™é‡Œæ—¶ç«‹å³è¿è¡Œä¸€æ¬¡</span>
<span class="hljs-comment">// å®ƒä¼šè‡ªåŠ¨â€œå‘ç°â€å†…éƒ¨ç”¨åˆ°äº† userId.value</span>
<span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å½“ watchEffect è¿è¡Œæ—¶ï¼Œå®ƒä¼šè¿½è¸ªæ‰€æœ‰è¢«â€œè¯»å–â€çš„ .value</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`(watchEffect) æ­£åœ¨è·å– ID: <span class="hljs-subst">${userId.value}</span> çš„æ•°æ®...`</span>);
  
  <span class="hljs-comment">// å‡è®¾çš„ API è°ƒç”¨</span>
  <span class="hljs-comment">// fetchUserData(userId.value);</span>
});

<span class="hljs-comment">// 2. è‡ªåŠ¨è¿½è¸ªå˜åŒ–ï¼š</span>
<span class="hljs-comment">// å½“ userId å˜åŒ–æ—¶ï¼Œä¸Šé¢çš„å‡½æ•°ä¼š *è‡ªåŠ¨* é‡æ–°è¿è¡Œ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeUser</span> = (<span class="hljs-params"/>) =&gt; {
  userId.<span class="hljs-property">value</span>++;
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</span></code></pre>
<h2 data-id="heading-1">2.<code>watchEffect</code> ä¸ <code>watch</code> çš„æ ¸å¿ƒåŒºåˆ«</h2>






























<table><thead><tr><th align="center">ç‰¹æ€§</th><th align="center"><code>watch</code></th><th align="center"><code>watchEffect</code></th></tr></thead><tbody><tr><td align="center">ä¾èµ–æº</td><td align="center"><strong>æ‰‹åŠ¨æŒ‡å®š</strong> (å¿…é¡»æ˜ç¡®å‘Šè¯‰å®ƒä¾¦å¬è°)</td><td align="center"><strong>è‡ªåŠ¨è¿½è¸ª</strong> (å®ƒä¼šä¾¦å¬å‡½æ•°ä½“<strong>å†…éƒ¨</strong>ç”¨åˆ°çš„æ‰€æœ‰æ•°æ®)</td></tr><tr><td align="center">ç«‹å³æ‰§è¡Œ</td><td align="center">é»˜è®¤<strong>ä¸ä¼š</strong> (éœ€é…ç½® <code>{ immediate: true }</code>)</td><td align="center"><strong>é»˜è®¤ç«‹å³</strong>æ‰§è¡Œ</td></tr><tr><td align="center">è®¿é—®æ—§å€¼</td><td align="center"><strong>å¯ä»¥</strong> (å›è°ƒå‚æ•° <code>(newVal, oldVal)</code>)</td><td align="center"><strong>ä¸å¯ä»¥</strong> (å›è°ƒä¸æ¥æ”¶ä»»ä½•å‚æ•°)</td></tr><tr><td align="center">ä¾§é‡ç‚¹</td><td align="center">é€‚åˆç²¾ç¡®æ§åˆ¶</td><td align="center">æ›´â€œè½»é‡çº§â€ï¼Œé€‚åˆç®€å•çš„ã€è‡ªåŠ¨åŒ–çš„å‰¯ä½œç”¨</td></tr></tbody></table>
<h2 data-id="heading-2">3.<code>watchEffect</code> çš„é«˜çº§ç”¨æ³•</h2>
<ul>
<li>åœæ­¢ä¾¦å¬ï¼š<code>watchEffect</code> åŒæ ·ä¼šè¿”å›ä¸€ä¸ªâ€œåœæ­¢å¥æŸ„â€ (Stop Handle) å‡½æ•°ã€‚</li>
</ul>
<blockquote>
<p>åœ¨ <code>&lt;script setup&gt;</code> ä¸­ï¼Œå®ƒä¹Ÿä¼šè‡ªåŠ¨ç»‘å®šåˆ°ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶åœ¨ç»„ä»¶å¸è½½æ—¶è‡ªåŠ¨åœæ­¢ï¼Œæ‰€ä»¥ä½ é€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨åœæ­¢ã€‚</p>
</blockquote>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { watchEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> stopHandle = <span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// ...</span>
});

<span class="hljs-comment">// åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»</span>
<span class="hljs-title function_">stopHandle</span>(); <span class="hljs-comment">// åœæ­¢è¿™ä¸ª effect</span>
</code></pre>
<ul>
<li>æ¸…é™¤å‰¯ä½œç”¨ (<code>onInvalidate</code>):<code>watchEffect</code> çš„å›è°ƒå‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ª <code>onInvalidate</code> å‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå‡½æ•°ç”¨äºæ³¨å†Œä¸€ä¸ªâ€œå¤±æ•ˆâ€æ—¶çš„å›è°ƒã€‚</li>
</ul>
<blockquote>
<p>å½“ <code>watchEffect</code> å³å°†<strong>é‡æ–°è¿è¡Œ</strong>æ—¶ï¼ˆæˆ–åœ¨ä¾¦å¬å™¨è¢«<strong>åœæ­¢</strong>æ—¶ï¼‰ï¼Œ<code>onInvalidate</code> æ³¨å†Œçš„å›è°ƒä¼šå…ˆæ‰§è¡Œã€‚è¿™åœ¨å¤„ç†<strong>å¼‚æ­¥æ“ä½œç«æ€</strong>æ—¶éå¸¸æœ‰ç”¨ï¼ˆä¾‹å¦‚ï¼ŒçŸ­æ—¶é—´å†…å¤šæ¬¡è§¦å‘ API è¯·æ±‚ï¼‰ã€‚</p>
<p>ä¸¾ä¸ªæ —å­</p>
</blockquote>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>onInvalidate<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹æ—¥å¿—ï¼Œå¹¶å¿«é€Ÿè¾“å…¥:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"query"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰æŸ¥è¯¢: {{ query }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, watchEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> query = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'vue'</span>);

<span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">(<span class="hljs-params">onInvalidate</span>) =&gt;</span> {
  <span class="hljs-comment">// 1. åˆ›å»º AbortController</span>
  <span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
  <span class="hljs-keyword">const</span> { signal } = controller;

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`(Fetch) æ­£åœ¨æœç´¢: <span class="hljs-subst">${query.value}</span>`</span>);
  
  <span class="hljs-comment">// 2. ä½¿ç”¨ Open Library çš„ API</span>
  <span class="hljs-comment">// å¯¹ URL è¿›è¡Œäº†ç¼–ç  (encodeURIComponent) ä»¥å¤„ç†ç‰¹æ®Šå­—ç¬¦</span>
  <span class="hljs-keyword">const</span> url = <span class="hljs-string">`https://openlibrary.org/search.json?q=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(query.value)}</span>`</span>;

  <span class="hljs-title function_">fetch</span>(url, { signal })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>()) <span class="hljs-comment">// å°†å“åº”è§£æä¸º JSON</span>
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      <span class="hljs-comment">// 3. æˆåŠŸè·å–æ•°æ®</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`(Success) æˆåŠŸè·å–: <span class="hljs-subst">${query.value}</span>`</span>, data.<span class="hljs-property">docs</span>.<span class="hljs-property">length</span>, <span class="hljs-string">'æ¡ç»“æœ'</span>);
    })
    .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
      <span class="hljs-comment">// 4. æ•è·é”™è¯¯</span>
      <span class="hljs-keyword">if</span> (err.<span class="hljs-property">name</span> === <span class="hljs-string">'AbortError'</span>) {
        <span class="hljs-comment">//  é¢„æœŸçš„ä¸­æ­¢é”™è¯¯</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`(Abort) å·²å–æ¶ˆä¸Šä¸€æ¬¡è¯·æ±‚: <span class="hljs-subst">${query.value}</span>`</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å…¶ä»–ç½‘ç»œé”™è¯¯</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Fetch é”™è¯¯:'</span>, err);
      }
    });

  <span class="hljs-comment">// 5. æ³¨å†Œâ€œå¤±æ•ˆâ€å›è°ƒ</span>
  <span class="hljs-title function_">onInvalidate</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'...æŸ¥è¯¢å˜åŒ–å¤ªå¿«ï¼ŒEffect å³å°†å¤±æ•ˆï¼Œä¸­æ­¢ä¸Šä¸€ä¸ªè¯·æ±‚...'</span>);
    <span class="hljs-comment">// 6. ä¸­æ­¢ä¸Šä¸€æ¬¡çš„ fetch è¯·æ±‚</span>
    controller.<span class="hljs-title function_">abort</span>();
  });
});

</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<blockquote>
<p>å½“å¿«é€Ÿè¾“å…¥<code>333</code>æ—¶ï¼Œæ§åˆ¶å°æ‰“å°</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f53d0755d93840f8ab5c6f4b07162e4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWWFlWmVk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633310&amp;x-signature=dv1SQ8JVXB2TD01M6jsF3lwgH4E%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ£€æŸ¥ç½‘ç»œï¼Œå‰ä¸¤æ¬¡çš„å¿«é€Ÿè¯·æ±‚éƒ½è¢«å–æ¶ˆäº†ï¼Œåªæœ‰æœ€åä¸€æ¬¡æˆåŠŸ</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43c523dfd0ad4af98a39173b6a5d4deb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWWFlWmVk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633310&amp;x-signature=JtzSm4YmolEhlXi4BXCWVz8vne0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">4.æ€»ç»“</h2>
<p><code>onInvalidate</code> é€‚ç”¨äºä»»ä½•<strong>æœ‰â€œæ¸…ç†â€éœ€æ±‚çš„å‰¯ä½œç”¨</strong>ï¼š</p>
<ol>
<li><strong>å–æ¶ˆå¼‚æ­¥è¯·æ±‚</strong>ï¼š(æœ€å¸¸ç”¨) <code>fetch</code>, <code>axios</code> ç­‰ã€‚</li>
<li><strong>æ¸…é™¤å®šæ—¶å™¨</strong>ï¼šæ¸…é™¤ <code>setTimeout</code> æˆ– <code>setInterval</code>ã€‚</li>
<li><strong>è§£ç»‘äº‹ä»¶ç›‘å¬å™¨</strong>ï¼šå¦‚æœåœ¨ <code>watchEffect</code> å†…éƒ¨ç”¨ <code>window.addEventListener</code> åŠ¨æ€æ·»åŠ äº†ä¸€ä¸ªäº‹ä»¶ï¼Œä½ å¯ä»¥åœ¨ <code>onInvalidate</code> ä¸­ç”¨ <code>window.removeEventListener</code> å°†å…¶ç§»é™¤ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
</ol>
<p><strong>ä¸¤ä¸ªå…³é”®åŒºåˆ«ï¼š</strong></p>
<ul>
<li>
<p><strong>é˜²æŠ–/èŠ‚æµ (Debounce/Throttle)</strong> (ç”¨ <code>watch</code>)ï¼š</p>
<ul>
<li>ç›®æ ‡ï¼š<strong>å‡å°‘æ‰§è¡Œæ¬¡æ•°</strong>ã€‚</li>
<li>é€»è¾‘ï¼šâ€œç­‰ä¸€ç­‰å†æ‰§è¡Œâ€ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¸…ç†å‰¯ä½œç”¨ (Cleanup)</strong> (ç”¨ <code>watchEffect</code> + <code>onInvalidate</code>)ï¼š</p>
<ul>
<li>ç›®æ ‡ï¼š<strong>é˜²æ­¢æ—§æ“ä½œå¹²æ‰°æ–°æ“ä½œ</strong>ã€‚</li>
<li>é€»è¾‘ï¼šâ€œå¼€å§‹æ–°çš„ä¹‹å‰ï¼Œå…ˆç¡®ä¿æ—§çš„å·²ç»åœæ­¢äº†â€ã€‚</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Unity3Då­¦ä¹ ç¬”è®°-è·‘é…·ç»ƒä¹ 2]]></title>    <link>https://juejin.cn/post/7580285196693143552</link>    <guid>https://juejin.cn/post/7580285196693143552</guid>    <pubDate>2025-12-06T14:07:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580285196693143552" data-draft-id="7580312375371907112" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Unity3Då­¦ä¹ ç¬”è®°-è·‘é…·ç»ƒä¹ 2"/> <meta itemprop="keywords" content="Unity3D"/> <meta itemprop="datePublished" content="2025-12-06T14:07:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mysterFeng"/> <meta itemprop="url" content="https://juejin.cn/user/4406498335129790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Unity3Då­¦ä¹ ç¬”è®°-è·‘é…·ç»ƒä¹ 2
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4406498335129790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mysterFeng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:07:23.000Z" title="Sat Dec 06 2025 14:07:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">âš™ï¸ äº”ã€é«˜çº§åŠŸèƒ½ä¸æ¨¡å—åŒ– (29-31 æ­¥)</h2>
<h3 data-id="heading-1">29. å®ç°ç©ºä¸­æ§åˆ¶ (<code>AirControl.cs</code>)</h3>
<p>ä¸ºäº†è®© Level 2 æ›´æœ‰æŒ‘æˆ˜æ€§ï¼Œæˆ‘ä»¬é€šè¿‡ <strong>ç»„ä»¶åŒ–</strong> å®ç°äº†ç©ºä¸­æ§åˆ¶ã€‚</p>
<ul>
<li><strong>æ“ä½œï¼š</strong> åˆ›å»ºç‹¬ç«‹è„šæœ¬ <code>AirControl.cs</code>ã€‚</li>
<li><strong>åŸç†ï¼š</strong> <code>AirControl</code> <strong>æ²¡æœ‰ç»§æ‰¿</strong> <code>PlayerMovement</code>ã€‚å®ƒé€šè¿‡ <code>GetComponent&lt;PlayerMovement&gt;()</code> è·å–ç©å®¶çš„ <code>isGrounded</code> çŠ¶æ€ï¼Œç„¶ååœ¨ç©ºä¸­ç‹¬ç«‹æ–½åŠ ä¿®æ­£åŠ›ã€‚</li>
<li><strong>åº”ç”¨ï¼š</strong> åªå°† <code>AirControl.cs</code> é™„åŠ åˆ° Level 2 çš„ <code>Player</code> å¯¹è±¡ä¸Šã€‚</li>
</ul>
<h4 data-id="heading-2">ğŸ’» æ ¸å¿ƒä»£ç ï¼šç©ºä¸­ä¿®æ­£åŠ›</h4>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-comment">// AirControl.cs</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FixedUpdate</span>()</span>
{
    <span class="hljs-comment">// åªæœ‰å½“ç©å®¶ä¸åœ¨åœ°é¢ä¸Šæ—¶ï¼Œæ‰æ–½åŠ ä¾§å‘ä¿®æ­£åŠ›</span>
    <span class="hljs-keyword">if</span> (playerMovement != <span class="hljs-literal">null</span> &amp;&amp; !playerMovement.isGrounded)
    {
        <span class="hljs-built_in">float</span> horizontalInput = Input.GetAxis(<span class="hljs-string">"Horizontal"</span>);
        <span class="hljs-built_in">float</span> airForce = horizontalInput * airControlForce * Time.deltaTime;
        
        <span class="hljs-comment">// ä½¿ç”¨ VelocityChangeï¼Œç›´æ¥æ”¹å˜ç©å®¶é€Ÿåº¦</span>
        rb.AddForce(airForce, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, ForceMode.VelocityChange);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-3">30. åˆ›å»ºè·³æ¿ (<code>Launcher.cs</code>)</h3>
<p>å¼•å…¥è·³æ¿ä¸ºå…³å¡è®¾è®¡æä¾›äº†å‚ç›´å˜åŒ–ã€‚</p>
<ul>
<li><strong>æ“ä½œï¼š</strong> åˆ›å»º <code>Cube</code>ï¼Œå‹¾é€‰ <strong><code>Is Trigger</code></strong>ï¼Œè®¾ç½® <strong>Tag: <code>LaunchPad</code></strong>ï¼Œé™„åŠ  <code>Launcher.cs</code>ã€‚</li>
</ul>
<h4 data-id="heading-4">ğŸ’» æ ¸å¿ƒä»£ç ï¼šç¬é—´æ¨åŠ›</h4>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-comment">// Launcher.cs</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> launchForce = <span class="hljs-number">1500f</span>; 

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnTriggerEnter</span>(<span class="hljs-params">Collider other</span>)</span>
{
    <span class="hljs-keyword">if</span> (other.CompareTag(<span class="hljs-string">"Player"</span>))
    {
        Rigidbody rb = other.GetComponent&lt;Rigidbody&gt;();
        <span class="hljs-keyword">if</span> (rb != <span class="hljs-literal">null</span>)
        {
            <span class="hljs-comment">// æ¸…é›¶å‚ç›´é€Ÿåº¦ï¼Œç¡®ä¿è·å¾—æœ€å¤§çš„å‘ä¸Šæ¨åŠ›</span>
            rb.velocity = <span class="hljs-keyword">new</span> Vector3(rb.velocity.x, <span class="hljs-number">0f</span>, rb.velocity.z); 
            
            <span class="hljs-comment">// ä½¿ç”¨ Impulse æ–½åŠ ç¬é—´çš„åŠ›</span>
            rb.AddForce(Vector3.up * launchForce, ForceMode.Impulse);
            
            <span class="hljs-comment">// æ’­æ”¾ç‰¹æ•ˆ</span>
            launchEffect.Play();
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-5">31. åˆ›å»ºåŠ¨æ€é™·é˜± (ç§»åŠ¨ä¸æ—‹è½¬)</h3>
<p>å¼•å…¥ç§»åŠ¨å’Œæ—‹è½¬éšœç¢ç‰©å¢åŠ äº†æ¸¸æˆçš„åŠ¨æ€éš¾åº¦ã€‚</p>
<ul>
<li><strong>ç‰©ç†ä¼˜åŒ–ï¼š</strong> åŠ¨æ€éšœç¢ç‰©çš„ Rigidbody ç»„ä»¶çš„ <strong>Collision Detection</strong> å¿…é¡»è®¾ç½®ä¸º <strong>Continuous</strong>ã€‚</li>
</ul>
<h4 data-id="heading-6">ğŸ’» æ ¸å¿ƒä»£ç ï¼šå¾€å¤ç§»åŠ¨ï¼ˆPingPongï¼‰</h4>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-comment">// MoveBetweenPoints.cs</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span>
{
    <span class="hljs-comment">// Math.PingPong(time, length) ä½¿ time åœ¨ 0 å’Œ length ä¹‹é—´æ¥å›éœ‡è¡</span>
    timeElapsed += Time.deltaTime * speed;
    <span class="hljs-built_in">float</span> t = Mathf.PingPong(timeElapsed, <span class="hljs-number">1f</span>); 

    <span class="hljs-comment">// Lerp(A, B, t) å¹³æ»‘åœ°åœ¨èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´ç§»åŠ¨</span>
    transform.position = Vector3.Lerp(startPosition, endPosition, t);
}
</code></pre>
<h4 data-id="heading-7">ğŸ’» æ ¸å¿ƒä»£ç ï¼šæ’å®šæ—‹è½¬</h4>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-comment">// RotateAroundAxis.cs</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> rotationSpeed = <span class="hljs-number">100f</span>; 
<span class="hljs-keyword">public</span> Vector3 rotationAxis = Vector3.up; 

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span>
{
    <span class="hljs-comment">// å›´ç»•æŒ‡å®šè½´ä»¥æŒ‡å®šé€Ÿåº¦æ—‹è½¬</span>
    transform.Rotate(rotationAxis, rotationSpeed * Time.deltaTime);
}
</code></pre>
<hr/>
<h2 data-id="heading-8">ğŸ—ºï¸ å…­ã€æ¸¸æˆæµç¨‹æ§åˆ¶ä¸å¯åŠ¨ (32-33 æ­¥)</h2>
<h3 data-id="heading-9">32. å¤šåœºæ™¯åˆ‡æ¢ä¸ Build Settings</h3>
<p>å®ç°äº†ä» Level 1 åˆ° Level 2 çš„è‡ªåŠ¨åˆ‡æ¢ï¼Œå¹¶å°†æ‰€æœ‰åœºæ™¯æ•´åˆåˆ°æ¸¸æˆå¯åŠ¨æµç¨‹ä¸­ã€‚</p>
<ul>
<li><strong>æ“ä½œï¼š</strong> åœ¨ <strong>File -&gt; Build Settings</strong> ä¸­ï¼Œå°†æ‰€æœ‰åœºæ™¯æŒ‰é¡ºåºæ·»åŠ åˆ°åˆ—è¡¨ï¼š<code>MainMenu</code> (0) â†’ <code>Level1</code> (1) â†’ <code>Level2</code> (2)ã€‚</li>
</ul>
<h4 data-id="heading-10">ğŸ’» æ ¸å¿ƒä»£ç ï¼šå»¶è¿ŸåŠ è½½ä¸‹ä¸€å…³</h4>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-comment">// GameController.cs</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GameWon</span>()</span>
{
    <span class="hljs-comment">// åœæ­¢è®¡æ—¶å™¨ï¼Œæ˜¾ç¤º UI</span>
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">// å»¶è¿Ÿ 3 ç§’åè°ƒç”¨ LoadNextLevel å‡½æ•°</span>
    Invoke(<span class="hljs-string">"LoadNextLevel"</span>, <span class="hljs-number">3f</span>); 
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">LoadNextLevel</span>()</span>
{
    <span class="hljs-built_in">int</span> nextSceneIndex = SceneManager.GetActiveScene().buildIndex + <span class="hljs-number">1</span>;
    
    <span class="hljs-comment">// ç¡®ä¿ç´¢å¼•æœ‰æ•ˆï¼Œç„¶ååŠ è½½ä¸‹ä¸€ä¸ªåœºæ™¯</span>
    <span class="hljs-keyword">if</span> (nextSceneIndex &lt; SceneManager.sceneCountInBuildSettings)
    {
        SceneManager.LoadScene(nextSceneIndex);
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-comment">// æ¸¸æˆé€šå…³ï¼Œå›åˆ°ä¸»èœå•æˆ–ç¬¬ä¸€å…³</span>
        SceneManager.LoadScene(<span class="hljs-number">0</span>); 
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-11">33. åˆ›å»ºä¸»èœå• (<code>MenuManager.cs</code>)</h3>
<p>ä¸ºä¸»èœå•æ·»åŠ å¯åŠ¨å’Œé€€å‡ºåŠŸèƒ½ï¼Œå®Œæˆæ¸¸æˆçš„å¯åŠ¨å¾ªç¯ã€‚</p>
<h4 data-id="heading-12">ğŸ’» æ ¸å¿ƒä»£ç ï¼šå¯åŠ¨ä¸é€€å‡º</h4>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-keyword">using</span> UnityEngine.SceneManagement; 

<span class="hljs-comment">// MenuManager.cs</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MenuManager</span> : <span class="hljs-title">MonoBehaviour</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">StartGame</span>()</span>
    {
        <span class="hljs-comment">// åŠ è½½ Level 1 åœºæ™¯ (ç´¢å¼• 1)</span>
        SceneManager.LoadScene(<span class="hljs-number">1</span>); 
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">QuitGame</span>()</span>
    {
        <span class="hljs-comment">// é€€å‡ºæ¸¸æˆåº”ç”¨ç¨‹åº</span>
        Application.Quit();

        <span class="hljs-comment">// æç¤ºï¼šåœ¨ Unity ç¼–è¾‘å™¨ä¸­è¿è¡Œæ—¶ï¼Œæ­¤ä»£ç åªä¼šåœ¨æ§åˆ¶å°æ‰“å°æ¶ˆæ¯</span>
        Debug.Log(<span class="hljs-string">"Application Quit!"</span>); 
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-13">âœ… æ€»ç»“ä¸å‘å¸ƒï¼ˆFinal Buildï¼‰</h2>
<ul>
<li><strong>æœ€ç»ˆæ£€æŸ¥ï¼š</strong> ç¡®ä¿æ‰€æœ‰åœºæ™¯å†…å®¹å®Œæ•´ä¸”å·²ä¿å­˜ã€‚</li>
<li><strong>Player Settings é…ç½®ï¼š</strong> è®¾ç½®å…¬å¸åã€äº§å“åå’Œæ¸¸æˆå›¾æ ‡ã€‚</li>
<li><strong>æ‰“åŒ…ï¼š</strong> åœ¨ <strong>Build Settings</strong> ä¸­é€‰æ‹©ç›®æ ‡å¹³å° (PC/Mac/Linux)ï¼Œç‚¹å‡» <strong>Build</strong> å¯¼å‡ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptæµå¼è¾“å‡ºæŠ€æœ¯è¯¦è§£ä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7580310413754236978</link>    <guid>https://juejin.cn/post/7580310413754236978</guid>    <pubDate>2025-12-06T14:29:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580310413754236978" data-draft-id="7580303864605048841" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptæµå¼è¾“å‡ºæŠ€æœ¯è¯¦è§£ä¸å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2025-12-06T14:29:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UIUV"/> <meta itemprop="url" content="https://juejin.cn/user/1036168457093483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptæµå¼è¾“å‡ºæŠ€æœ¯è¯¦è§£ä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1036168457093483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UIUV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:29:40.000Z" title="Sat Dec 06 2025 14:29:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScriptæµå¼è¾“å‡ºæŠ€æœ¯è¯¦è§£ä¸å®è·µ</h2>
<p>æµå¼è¾“å‡ºæ˜¯ç°ä»£Webå¼€å‘ä¸­æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®æŠ€æœ¯ï¼Œå®ƒå…è®¸æœåŠ¡å™¨åœ¨ç”Ÿæˆå†…å®¹çš„åŒæ—¶ï¼Œå°†å·²ç”Ÿæˆçš„éƒ¨åˆ†ç«‹å³å‘é€ç»™å®¢æˆ·ç«¯ï¼Œè€Œéç­‰å¾…å®Œæ•´å†…å®¹ç”Ÿæˆåä¸€æ¬¡æ€§ä¼ è¾“ã€‚<strong>è¿™ç§"è¾¹ç”Ÿæˆè¾¹è¿”å›"çš„æ¨¡å¼æ˜¾è‘—é™ä½äº†ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œæä¾›äº†å³æ—¶åé¦ˆï¼Œç‰¹åˆ«é€‚ç”¨äºAIå¯¹è¯ã€å®æ—¶æ—¥å¿—ç›‘æ§ç­‰åœºæ™¯</strong>ã€‚æœ¬å­¦ä¹ ç¬”è®°å°†æ·±å…¥è§£æJavaScriptæµå¼è¾“å‡ºçš„æŠ€æœ¯åŸç†ã€å®ç°æ–¹æ³•åŠåº”ç”¨åœºæ™¯ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡è¿™ä¸€é‡è¦æŠ€æœ¯ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æµå¼è¾“å‡ºæ¦‚å¿µä¸æŠ€æœ¯ä¼˜åŠ¿</h3>
<p>æµå¼è¾“å‡ºï¼Œä¹Ÿç§°ä¸ºæµå¼ä¼ è¾“ï¼Œæ˜¯æŒ‡æœåŠ¡å™¨æŒç»­åœ°å°†æ•°æ®æ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å‘é€å®Œæ¯•  ã€‚è¿™ç§æ¨¡å¼ä¸‹ï¼Œè¿æ¥ä¸€æ—¦å»ºç«‹ï¼ŒæœåŠ¡å™¨å°±èƒ½å®æ—¶åœ°å‘é€æ›´æ–°ç»™å®¢æˆ·ç«¯ã€‚<strong>ä¸ä¼ ç»Ÿçš„ä¸€æ¬¡æ€§åŠ è½½æ–¹å¼ç›¸æ¯”ï¼Œæµå¼è¾“å‡ºåœ¨ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½æ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿</strong>ã€‚</p>
<p>ä»æŠ€æœ¯è§’åº¦çœ‹ï¼Œæµå¼è¾“å‡ºçš„æ ¸å¿ƒä¼˜åŠ¿ä½“ç°åœ¨ä¸‰ä¸ªæ–¹é¢ï¼šé¦–å…ˆï¼Œå®ƒæä¾›äº†ä½å»¶è¿Ÿç‰¹æ€§ï¼Œå…è®¸å®¢æˆ·ç«¯åœ¨æ•°æ®åˆ°è¾¾æ—¶ç«‹å³æ¸²æŸ“ï¼Œæ— éœ€ç­‰å¾…å®Œæ•´å“åº”  ï¼›å…¶æ¬¡ï¼Œå®ƒå®ç°äº†èµ„æºé«˜æ•ˆåˆ©ç”¨ï¼Œé€šè¿‡é€å—å¤„ç†æ•°æ®ï¼Œå¤§å¹…å‡å°‘å†…å­˜å ç”¨ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†  ï¼›æœ€åï¼Œå®ƒæ”¯æŒæ¸è¿›å¼å†…å®¹æ¸²æŸ“ï¼Œç”¨æˆ·å¯ä»¥ç«‹å³çœ‹åˆ°éƒ¨åˆ†å†…å®¹ï¼Œæå‡äº¤äº’æµç•…åº¦  ã€‚</p>
<p>å…·ä½“å¯¹æ¯”ä¼ ç»Ÿä¸€æ¬¡æ€§åŠ è½½æ–¹å¼ï¼Œæµå¼è¾“å‡ºåœ¨å†…å­˜å ç”¨ã€é¦–å±æ—¶é—´å’Œé€‚ç”¨åœºæ™¯ä¸Šå‡æœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚ä¼ ç»Ÿæ–¹å¼éœ€è¦ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®åˆ°å†…å­˜ï¼Œå¯¼è‡´é«˜å†…å­˜å ç”¨ï¼›è€Œæµå¼è¾“å‡ºé€å—å¤„ç†æ•°æ®ï¼Œå†…å­˜å ç”¨ä½  ã€‚ä¼ ç»Ÿæ–¹å¼é¦–å±æ—¶é—´é•¿ï¼Œç”¨æˆ·éœ€è¦ç­‰å¾…å®Œæ•´å†…å®¹åŠ è½½ï¼›è€Œæµå¼è¾“å‡ºé¦–å±æ—¶é—´æçŸ­ï¼Œå†…å®¹å¯è¾¹ç”Ÿæˆè¾¹æ¸²æŸ“  ã€‚é€‚ç”¨åœºæ™¯æ–¹é¢ï¼Œä¼ ç»Ÿæ–¹å¼é€‚åˆå°æ•°æ®é‡é™æ€å†…å®¹ï¼›è€Œæµå¼è¾“å‡ºç‰¹åˆ«é€‚åˆå®æ—¶æ•°æ®/å¤§æ•°æ®é‡åœºæ™¯ï¼Œå¦‚AIå¯¹è¯ã€å®æ—¶æ—¥å¿—ç­‰  ã€‚</p>
<h3 data-id="heading-2">äºŒã€JavaScriptäºŒè¿›åˆ¶æ•°æ®å¤„ç†åŸºç¡€</h3>
<p>åœ¨å®ç°æµå¼è¾“å‡ºæ—¶ï¼ŒJavaScriptæä¾›äº†å¤šç§å¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„APIï¼Œå…¶ä¸­ArrayBufferã€Uint8Arrayå’ŒTextEncoder/TextDecoderæ˜¯æ ¸å¿ƒå·¥å…·ã€‚<strong>ç†è§£è¿™äº›APIçš„å·¥ä½œåŸç†å¯¹äºå®ç°é«˜æ•ˆçš„æµå¼è¾“å‡ºè‡³å…³é‡è¦</strong>ã€‚</p>
<p>ArrayBufferæ˜¯JavaScriptä¸­ç”¨äºè¡¨ç¤ºé€šç”¨çš„ã€å›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºçš„æ•°æ®ç±»å‹  ã€‚å®ƒæœ¬èº«æ˜¯ä¸€ä¸ªè„±ç¦»å®é™…æ•°æ®çš„å®¹å™¨ï¼Œæä¾›äº†ä¸€ç§æœºåˆ¶æ¥è¡¨ç¤ºå›ºå®šå¤§å°çš„è¿ç»­å†…å­˜å—  ã€‚ArrayBufferå¯¹è±¡ä¸èƒ½ç›´æ¥æ“ä½œæ•°æ®ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªè§†å›¾ï¼ˆå¦‚TypedArrayæˆ–DataViewï¼‰æ¥è¯»å–å’Œå¤„ç†æ•°æ®  ã€‚ArrayBufferçš„åˆ›å»ºæ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª12å­—èŠ‚çš„ArrayBuffer</span>
<span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">12</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buffer byteLength); <span class="hljs-comment">// è¾“å‡ºï¼š12</span>
</code></pre>
<p>Uint8Arrayæ˜¯JavaScriptä¸­çš„ä¸€ç§ç±»å‹åŒ–æ•°ç»„ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ª8ä½æ— ç¬¦å·æ•´å‹æ•°ç»„  ã€‚å®ƒæä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ–¹å¼æ¥å¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œæ¯”å¸¸è§„çš„JavaScriptæ•°ç»„æ›´åŠ é«˜æ•ˆ  ã€‚Uint8Arrayå¯ä»¥åƒæ™®é€šæ•°ç»„ä¸€æ ·è¿›è¡Œæ“ä½œï¼ŒåŒæ—¶è¿˜æ”¯æŒä¸€äº›é¢å¤–çš„æ–¹æ³•ï¼Œå¦‚set()ã€subarray()å’Œslice()ç­‰  ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»ArrayBufferåˆ›å»ºUint8Arrayè§†å›¾</span>
<span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(buffer);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view); <span class="hljs-comment">// è¾“å‡ºï¼šUint8Array(12) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>

<span class="hljs-comment">// å¡«å……æ•°æ®</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; view.<span class="hljs-property">length</span>; i++) {
    view[i] = i * <span class="hljs-number">2</span>;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(view); <span class="hljs-comment">// è¾“å‡ºï¼šUint8Array(12) [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22]</span>
</code></pre>
<p>TextEncoderå’ŒTextDecoderæ˜¯JavaScriptä¸­ç”¨äºå¤„ç†æ–‡æœ¬ä¸äºŒè¿›åˆ¶æ•°æ®è½¬æ¢çš„æ¥å£  ã€‚TextEncoderè´Ÿè´£å°†æ–‡æœ¬ç¼–ç ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œè€ŒTextDecoderåˆ™è´Ÿè´£å°†äºŒè¿›åˆ¶æ•°æ®è§£ç ä¸ºæ–‡æœ¬  ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºç¼–ç å™¨</span>
<span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(encoder); <span class="hljs-comment">// è¾“å‡ºï¼šTextEncoder {}</span>

<span class="hljs-comment">// ç¼–ç æ–‡æœ¬ä¸ºäºŒè¿›åˆ¶</span>
<span class="hljs-keyword">const</span> myBuffer = encoder.<span class="hljs-title function_">encode</span>(<span class="hljs-string">'ä½ å¥½ HTML5'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myBuffer); <span class="hljs-comment">// è¾“å‡ºï¼šUint8Array(10) [228, 184, 160, 203, 195, 185, 72, 76, 77, 53]</span>

<span class="hljs-comment">// åˆ›å»ºè§£ç å™¨</span>
<span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>();

<span class="hljs-comment">// è§£ç äºŒè¿›åˆ¶ä¸ºæ–‡æœ¬</span>
<span class="hljs-keyword">const</span> originalText = decoder.<span class="hljs-title function_">decode</span>(myBuffer);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(originalText); <span class="hljs-comment">// è¾“å‡ºï¼šä½ å¥½ HTML5</span>
</code></pre>
<p><strong>è¿™äº›äºŒè¿›åˆ¶å¤„ç†APIåœ¨æµå¼è¾“å‡ºä¸­æ‰®æ¼”å…³é”®è§’è‰²ï¼Œå› ä¸ºæœåŠ¡å™¨é€šå¸¸ä»¥äºŒè¿›åˆ¶æµçš„å½¢å¼å‘é€æ•°æ®ï¼Œå®¢æˆ·ç«¯éœ€è¦å°†å…¶è½¬æ¢ä¸ºå¯è¯»æ–‡æœ¬</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨AIå¯¹è¯åœºæ™¯ä¸­ï¼ŒæœåŠ¡å™¨å¯èƒ½ä»¥äºŒè¿›åˆ¶åˆ†å—å½¢å¼å‘é€ç”Ÿæˆçš„æ–‡æœ¬ï¼Œå®¢æˆ·ç«¯éœ€è¦é€šè¿‡TextDecoderé€å—è§£ç å¹¶æ‹¼æ¥ï¼Œæœ€ç»ˆå‘ˆç°ç»™ç”¨æˆ·ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€å‰ç«¯å®ç°æµå¼è¾“å‡ºçš„ä¸‰ç§ä¸»è¦æŠ€æœ¯æ–¹æ¡ˆ</h3>
<p>JavaScriptå‰ç«¯å®ç°æµå¼è¾“å‡ºä¸»è¦æœ‰ä¸‰ç§æŠ€æœ¯æ–¹æ¡ˆï¼šServer-Sent Events (SSE)ã€WebSocketå’ŒFetch API+ readableStreamã€‚<strong>æ¯ç§æŠ€æœ¯æ–¹æ¡ˆéƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œå®ç°ç‰¹ç‚¹ï¼Œå¼€å‘è€…åº”æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŠ€æœ¯</strong>ã€‚</p>
<h4 data-id="heading-4">1. Server-Sent Events (SSE)</h4>
<p>SSEæ˜¯ä¸€ç§å…è®¸æœåŠ¡å™¨é€šè¿‡HTTPå‘å®¢æˆ·ç«¯æ¨é€å®æ—¶æ›´æ–°çš„æŠ€æœ¯ï¼Œå®ƒæ˜¯WebSocketsçš„ä¸€ç§æ›´ç®€å•çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä¸“é—¨ç”¨äºå•å‘çš„æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯é€šä¿¡  ã€‚SSEçš„å®ç°åŸºäºEventSource APIå’Œæ–°çš„"äº‹ä»¶æµ"æ•°æ®æ ¼å¼ï¼ˆtext/event-streamï¼‰  ã€‚</p>
<p>åœ¨JavaScriptä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç å®ç°SSEæµå¼è¾“å‡ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºEventSourceå¯¹è±¡</span>
<span class="hljs-keyword">const</span> eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">'/stream'</span>);

<span class="hljs-comment">// å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯</span>
eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-comment">// è§£ææ•°æ®</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);

    <span class="hljs-comment">// å°†æ•°æ®æ·»åŠ åˆ°é¡µé¢</span>
    <span class="hljs-keyword">const</span> outputDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'output'</span>);
    outputDiv.<span class="hljs-property">innerHTML</span> += data.<span class="hljs-property">content</span> + <span class="hljs-string">'&lt;br&gt;'</span>;
});

<span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'error'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'SSEè¿æ¥é”™è¯¯:'</span>, error);
});

<span class="hljs-comment">// è¿æ¥å…³é—­å¤„ç†</span>
eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'close'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'SSEè¿æ¥å·²å…³é—­'</span>);
});
</code></pre>
<p><strong>SSEç‰¹åˆ«é€‚åˆæœåŠ¡å™¨å‘å®¢æˆ·ç«¯å•å‘æ¨é€äº‹ä»¶çš„åœºæ™¯</strong>ï¼Œå¦‚å®æ—¶æ—¥å¿—ç›‘æ§ã€æ–°é—»æ¨é€ç­‰ã€‚å®ƒå®ç°ç®€å•ï¼Œå…¼å®¹æ€§å¥½ï¼Œä½†ä»…æ”¯æŒå•å‘é€šä¿¡ï¼Œä¸”æ— æ³•å‘é€äºŒè¿›åˆ¶æ•°æ®ï¼ˆéœ€ç¼–ç ä¸ºBase64ï¼‰  ã€‚</p>
<h4 data-id="heading-5">2. WebSocket</h4>
<p>WebSocketæ˜¯ä¸€ç§åœ¨å•ä¸ªTCPè¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ï¼Œå®ƒå…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹æŒä¹…çš„è¿æ¥ï¼ŒåŒæ–¹å¯ä»¥éšæ—¶å‘é€å’Œæ¥æ”¶æ•°æ®  ã€‚<strong>WebSocketé€‚åˆéœ€è¦åŒå‘å®æ—¶äº¤äº’çš„åœºæ™¯ï¼Œå¦‚AIå¯¹è¯ã€åœ¨çº¿åä½œç¼–è¾‘ç­‰</strong>ã€‚</p>
<p>å®ç°WebSocketæµå¼è¾“å‡ºçš„JavaScriptä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºWebSocketå¯¹è±¡</span>
<span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://localhost:8080/chat'</span>);

<span class="hljs-comment">// è¿æ¥å»ºç«‹æˆåŠŸ</span>
ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'open'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'WebSocketè¿æ¥å·²å»ºç«‹'</span>);
    <span class="hljs-comment">// å‘é€åˆå§‹æ¶ˆæ¯</span>
    ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'login'</span>, <span class="hljs-attr">userId</span>: <span class="hljs-string">'123'</span> }));
});

<span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-comment">// è§£ææ•°æ®</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);

    <span class="hljs-comment">// æ ¹æ®æ¶ˆæ¯ç±»å‹å¤„ç†</span>
    <span class="hljs-keyword">switch</span>(data.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'chunk'</span>:
            <span class="hljs-comment">// å¤„ç†åˆ†å—æ–‡æœ¬</span>
            <span class="hljs-keyword">const</span> outputDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'output'</span>);
            outputDiv.<span class="hljs-property">innerHTML</span> += data.<span class="hljs-property">content</span> + <span class="hljs-string">'&lt;br&gt;'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'completion'</span>:
            <span class="hljs-comment">// å¤„ç†å®Œæˆä¿¡å·</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å“åº”å·²å®Œæˆ'</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'error'</span>:
            <span class="hljs-comment">// å¤„ç†é”™è¯¯</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æµå¼å“åº”æŠ¥é”™:'</span>, data.<span class="hljs-property">message</span>);
            <span class="hljs-keyword">break</span>;
    }
});

<span class="hljs-comment">// è¿æ¥é”™è¯¯</span>
ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'error'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'WebSocketé”™è¯¯:'</span>, error);
});

<span class="hljs-comment">// è¿æ¥å…³é—­</span>
ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'close'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'WebSocketè¿æ¥å·²å…³é—­'</span>);
});
</code></pre>
<p><strong>WebSocketç›¸æ¯”SSEå…·æœ‰å…¨åŒå·¥é€šä¿¡ã€ä½å»¶è¿Ÿã€æ”¯æŒäºŒè¿›åˆ¶æ•°æ®ä¼ è¾“ç­‰ä¼˜åŠ¿</strong>ï¼Œä½†å®ç°å¤æ‚åº¦æ›´é«˜ï¼Œéœ€è¦å¤„ç†æ›´å¤šè¿æ¥çŠ¶æ€å’Œæ¶ˆæ¯ç±»å‹ã€‚</p>
<h4 data-id="heading-6">3. Fetch API + ReadableStream</h4>
<p>Fetch APIçš„æµå¼å¤„ç†æ˜¯ä¸€ç§åˆ©ç”¨æµè§ˆå™¨åŸç”ŸAPIé€å—è¯»å–å’Œå¤„ç†æ•°æ®çš„æ–¹å¼ã€‚<strong>å®ƒç‰¹åˆ«é€‚åˆéœ€è¦ç²¾ç¡®æ§åˆ¶æ•°æ®æµå¤„ç†çš„åœºæ™¯ï¼Œå¦‚æ–‡ä»¶ä¸‹è½½ã€å¤šåª’ä½“å¤„ç†ç­‰</strong>ã€‚</p>
<p>å®ç°Fetchæµå¼è¾“å‡ºçš„JavaScriptä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchStream</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
    <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();

    <span class="hljs-comment">// åˆ›å»ºæ–‡æœ¬è§£ç å™¨</span>
    <span class="hljs-keyword">const</span> textDecoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>();

    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        <span class="hljs-comment">// è¯»å–æ•°æ®å—</span>
        <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();

        <span class="hljs-comment">// å¦‚æœæµå·²ç»“æŸ</span>
        <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;

        <span class="hljs-comment">// å°†å­—èŠ‚è½¬æ¢ä¸ºæ–‡æœ¬</span>
        <span class="hljs-keyword">const</span> chunkText = textDecoder.<span class="hljs-title function_">decode</span>(value);

        <span class="hljs-comment">// å¤„ç†æ–‡æœ¬å—</span>
        <span class="hljs-keyword">const</span> outputDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'output'</span>);
        outputDiv.<span class="hljs-property">innerHTML</span> += chunkText + <span class="hljs-string">'&lt;br&gt;'</span>;
    }
}

<span class="hljs-comment">// è°ƒç”¨æµå¼è·å–å‡½æ•°</span>
<span class="hljs-title function_">fetchStream</span>(<span class="hljs-string">'/api/stream'</span>);
</code></pre>
<p><strong>Fetch API + ReadableStreamæä¾›äº†æœ€å¤§çš„çµæ´»æ€§ï¼Œå…è®¸å¼€å‘è€…ç²¾ç¡®æ§åˆ¶æ•°æ®å—çš„è¯»å–å’Œå¤„ç†è¿‡ç¨‹</strong>ã€‚å®ƒæ”¯æŒæµå¼ä¼ è¾“å„ç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€äºŒè¿›åˆ¶å’ŒJSONç­‰ï¼Œé€‚åˆéœ€è¦ç²¾ç»†å¤„ç†æ•°æ®çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-7">å››ã€æµå¼è¾“å‡ºåœ¨å®é™…åº”ç”¨ä¸­çš„åœºæ™¯ä¸æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3>
<p>æµå¼è¾“å‡ºæŠ€æœ¯å·²åœ¨å¤šç§å®é™…åœºæ™¯ä¸­å¾—åˆ°å¹¿æ³›åº”ç”¨ï¼Œä¸»è¦åŒ…æ‹¬AIå¯¹è¯ã€å®æ—¶æ—¥å¿—ç›‘æ§ã€åœ¨çº¿åä½œç¼–è¾‘å’Œæ•°æ®ä»ªè¡¨ç›˜ç­‰ã€‚<strong>é’ˆå¯¹ä¸åŒåœºæ™¯ï¼Œéœ€è¦é‡‡å–ç›¸åº”çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œç¡®ä¿æµå¼è¾“å‡ºçš„é«˜æ•ˆç¨³å®š</strong>ã€‚</p>
<h4 data-id="heading-8">1. AIå¯¹è¯åœºæ™¯</h4>
<p>åœ¨AIå¯¹è¯åº”ç”¨ä¸­ï¼Œæµå¼è¾“å‡ºå…è®¸æ¨¡å‹åœ¨ç”Ÿæˆæ–‡æœ¬çš„åŒæ—¶ï¼Œå°†å·²ç”Ÿæˆçš„éƒ¨åˆ†ç«‹å³å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®ç°"æ‰“å­—æœº"æ•ˆæœï¼Œæ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒ  ã€‚ä»¥ä¸‹æ˜¯AIå¯¹è¯åœºæ™¯çš„å…¸å‹å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å»ºç«‹SSEè¿æ¥</span>
<span class="hljs-keyword">let</span> eventSource = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">const</span> abortController = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();

<span class="hljs-comment">// å¼€å§‹å¯¹è¯</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startChat</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¸…ç©ºä¹‹å‰çš„è¿æ¥</span>
    <span class="hljs-keyword">if</span> (eventSource) {
        eventSource.<span class="hljs-title function_">close</span>();
    }

    <span class="hljs-comment">// åˆ›å»ºæ–°è¿æ¥</span>
    eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">'/api/chat'</span>, {
        <span class="hljs-attr">signal</span>: abortController.<span class="hljs-property">signal</span>
    });

    <span class="hljs-comment">// å¤„ç†æ¶ˆæ¯</span>
    eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
        <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);

        <span class="hljs-comment">// å¤„ç†åˆ†å—æ–‡æœ¬</span>
        <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> === <span class="hljs-string">'chunk'</span>) {
            <span class="hljs-keyword">const</span> outputDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'output'</span>);
            outputDiv.<span class="hljs-property">innerHTML</span> += data.<span class="hljs-property">content</span>;
        }

        <span class="hljs-comment">// å¤„ç†å®Œæˆä¿¡å·</span>
        <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> === <span class="hljs-string">'completion'</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¯¹è¯å·²å®Œæˆ'</span>);
        }

        <span class="hljs-comment">// è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨</span>
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollHeight</span>);
    });

    <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
    eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'error'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å¯¹è¯è¿æ¥é”™è¯¯:'</span>, error);
        <span class="hljs-comment">// å¯èƒ½éœ€è¦é‡æ–°å»ºç«‹è¿æ¥</span>
    });

    <span class="hljs-comment">// è¿æ¥å…³é—­</span>
    eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'close'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¯¹è¯è¿æ¥å·²å…³é—­'</span>);
    });
}

<span class="hljs-comment">// åœæ­¢å¯¹è¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">stopChat</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (eventSource) {
        eventSource.<span class="hljs-title function_">close</span>();
    }

    <span class="hljs-keyword">if</span> (abortController) {
        abortController.<span class="hljs-title function_">abort</span>();
    }
}
</code></pre>
<p><strong>AIå¯¹è¯åœºæ™¯çš„ä¼˜åŒ–ç­–ç•¥åŒ…æ‹¬é¦–å­—èŠ‚å¿«é€Ÿè¿”å›ã€åŠ¨æ€æ‰¹å¤„ç†å’Œåå‹æ§åˆ¶</strong>ã€‚é¦–å­—èŠ‚å¿«é€Ÿè¿”å›ï¼ˆFCPï¼‰å¯é™ä½åˆå§‹å“åº”æ—¶é—´ï¼Œè®©ç”¨æˆ·ç«‹å³çœ‹åˆ°å¯¹è¯å¼€å§‹ï¼›åŠ¨æ€æ‰¹å¤„ç†å¯æé«˜æœåŠ¡å™¨ç«¯çš„ç”Ÿæˆæ•ˆç‡ï¼Œå‡å°‘èµ„æºæµªè´¹ï¼›åå‹æ§åˆ¶åˆ™å¯æ ¹æ®ç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´æœåŠ¡å™¨çš„ç”Ÿæˆé€Ÿåº¦ï¼Œé¿å…å®¢æˆ·ç«¯æ•°æ®ç§¯å‹  ã€‚</p>
<h4 data-id="heading-9">2. å®æ—¶æ—¥å¿—ç›‘æ§åœºæ™¯</h4>
<p>å®æ—¶æ—¥å¿—ç›‘æ§æ˜¯æµå¼è¾“å‡ºçš„å¦ä¸€é‡è¦åº”ç”¨åœºæ™¯ï¼Œå®ƒå…è®¸å¼€å‘è€…å®æ—¶æŸ¥çœ‹æœåŠ¡å™¨ç”Ÿæˆçš„æ—¥å¿—ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯å®æ—¶æ—¥å¿—ç›‘æ§çš„å…¸å‹å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºWebSocketè¿æ¥</span>
<span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://localhost:8080/logs'</span>);

<span class="hljs-comment">// è¿æ¥å»ºç«‹</span>
ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'open'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ—¥å¿—è¿æ¥å·²å»ºç«‹'</span>);
    <span class="hljs-comment">// å¯èƒ½éœ€è¦å‘é€è®¢é˜…è¯·æ±‚</span>
    ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'subscribe'</span>, <span class="hljs-attr">logs</span>: [<span class="hljs-string">'app'</span>, <span class="hljs-string">'db'</span>] }));
});

<span class="hljs-comment">// æ¥æ”¶æ—¥å¿—</span>
ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-comment">// è§£ææ—¥å¿—æ•°æ®</span>
    <span class="hljs-keyword">const</span> log = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);

    <span class="hljs-comment">// æ ¹æ®æ—¥å¿—ç±»å‹æ¸²æŸ“</span>
    <span class="hljs-keyword">const</span> logDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'logs'</span>);
    <span class="hljs-keyword">const</span> logElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
    logElement.<span class="hljs-property">className</span> = <span class="hljs-string">`log <span class="hljs-subst">${log.level}</span>`</span>;
    logElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">`[<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(log.timestamp).toLocaleTimeString()}</span>] <span class="hljs-subst">${log.message}</span>`</span>;
    logDiv.<span class="hljs-title function_">appendChild</span>(logElement);

    <span class="hljs-comment">// è‡ªåŠ¨æ»šåŠ¨</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollHeight</span>);
});

<span class="hljs-comment">// å¿ƒè·³æ£€æµ‹</span>
<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (ws readyState === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
        ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'ping'</span> }));
    }
}, <span class="hljs-number">30000</span>); <span class="hljs-comment">// æ¯30ç§’å‘é€ä¸€æ¬¡å¿ƒè·³</span>
</code></pre>
<p><strong>å®æ—¶æ—¥å¿—ç›‘æ§åœºæ™¯çš„ä¼˜åŒ–ç­–ç•¥åŒ…æ‹¬å¿ƒè·³æ£€æµ‹ã€ç¼“å†²åŒºç®¡ç†å’Œæ¶ˆæ¯è¿‡æ»¤</strong>ã€‚å¿ƒè·³æ£€æµ‹å¯ç¡®ä¿è¿æ¥çš„ç¨³å®šæ€§ï¼Œå³ä½¿åœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹ä¹Ÿèƒ½åŠæ—¶æ¢å¤  ï¼›ç¼“å†²åŒºç®¡ç†å¯æ§åˆ¶å†…å­˜ä½¿ç”¨ï¼Œé¿å…å¤§é‡æ—¥å¿—å¯¼è‡´å†…å­˜æº¢å‡ºï¼›æ¶ˆæ¯è¿‡æ»¤åˆ™å¯å‡å°‘ä¸å¿…è¦çš„æ•°æ®ä¼ è¾“ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½ã€‚</p>
<h4 data-id="heading-10">3. æ€§èƒ½ä¼˜åŒ–é€šç”¨ç­–ç•¥</h4>
<p>æ— è®ºå“ªç§æµå¼è¾“å‡ºæŠ€æœ¯ï¼Œéƒ½éœ€è¦è€ƒè™‘ä»¥ä¸‹é€šç”¨ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<p><strong>ç¼“å†²åŒºç®¡ç†</strong>ï¼šé€šè¿‡åˆç†è®¾ç½®ç¼“å†²åŒºå¤§å°ï¼ˆå¦‚highWaterMarkå‚æ•°ï¼‰ï¼Œå¹³è¡¡å†…å­˜å ç”¨å’Œååé‡  ã€‚è¿‡å°çš„ç¼“å†²åŒºä¼šå¢åŠ I/Oå¼€é”€ï¼Œå½±å“æ€§èƒ½ï¼›è¿‡å¤§çš„ç¼“å†²åŒºåˆ™ä¼šå¢åŠ å†…å­˜å‹åŠ›ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨é«˜æ°´ä½çº¿æ§åˆ¶å†…å­˜</span>
<span class="hljs-keyword">const</span> readableStream = response.<span class="hljs-property">body</span>
    . <span class="hljs-title function_">pipeThrough</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TransformStream</span>({
        <span class="hljs-attr">transform</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">chunk,æ§åˆ¶å™¨</span>) {
            <span class="hljs-comment">// å¤„ç†æ•°æ®å—</span>
           æ§åˆ¶å™¨æ§åˆ¶å™¨.<span class="hljs-title function_">write</span>(chunk);
        }
    }), { <span class="hljs-attr">highWaterMark</span>: <span class="hljs-number">16</span> });
</code></pre>
<p><strong>é”™è¯¯å¤„ç†ä¸é‡è¿</strong>ï¼šå®ç°è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œç¡®ä¿åœ¨ç½‘ç»œä¸­æ–­åèƒ½å¤Ÿå¿«é€Ÿæ¢å¤  ã€‚å¯¹äºSSEï¼Œå¯ä»¥ç›‘å¬erroräº‹ä»¶å¹¶å°è¯•é‡æ–°è¿æ¥ï¼›å¯¹äºWebSocketï¼Œåˆ™å¯ä»¥å®ç°å¿ƒè·³æ£€æµ‹æœºåˆ¶ï¼Œå®šæœŸæ£€æŸ¥è¿æ¥çŠ¶æ€  ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SSEè‡ªåŠ¨é‡è¿</span>
<span class="hljs-keyword">let</span> reconnectionInterval = <span class="hljs-number">3000</span>; <span class="hljs-comment">// åˆå§‹é‡è¿é—´éš”3ç§’</span>
<span class="hljs-keyword">let</span> reconnectionCount = <span class="hljs-number">0</span>;

<span class="hljs-comment">// SSEé”™è¯¯å¤„ç†</span>
eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'error'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) {
    <span class="hljs-keyword">if</span> (eventSource readyState === <span class="hljs-title class_">EventSource</span>.<span class="hljs-property">CLOSED</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'SSEè¿æ¥å·²å…³é—­ï¼Œå°è¯•é‡æ–°è¿æ¥...'</span>);

        <span class="hljs-comment">// æŒ‡æ•°é€€é¿é‡è¿</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// åˆ›å»ºæ–°è¿æ¥</span>
            eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">'/api/stream'</span>, {
                <span class="hljs-attr">withCredentials</span>: <span class="hljs-literal">true</span>
            });

            <span class="hljs-comment">// é‡ç½®é‡è¿è®¡æ•°å™¨</span>
            reconnectionCount = <span class="hljs-number">0</span>;
            reconnectionInterval = <span class="hljs-number">3000</span>;
        }, reconnectionInterval);

        <span class="hljs-comment">// å¢åŠ é‡è¿é—´éš”</span>
        reconnectionInterval *= <span class="hljs-number">2</span>;
        reconnectionCount++;
    }
});
</code></pre>
<p><strong>åˆ†å—ç­–ç•¥ä¼˜åŒ–</strong>ï¼šæ ¹æ®åº”ç”¨åœºæ™¯è°ƒæ•´æ•°æ®å—çš„å¤§å°å’Œå‘é€é¢‘ç‡ï¼Œå¹³è¡¡ä¼ è¾“æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚è¿‡å°çš„æ•°æ®å—ä¼šå¢åŠ ä¼ è¾“å¼€é”€ï¼Œé™ä½æ•ˆç‡ï¼›è¿‡å¤§çš„æ•°æ®å—åˆ™ä¼šå¢åŠ å»¶è¿Ÿï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p><strong>å®¢æˆ·ç«¯æ¸²æŸ“ä¼˜åŒ–</strong>ï¼šé‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨ã€èŠ‚æµæ¸²æŸ“ç­‰æŠ€æœ¯å‡å°‘DOMæ“ä½œå¼€é”€ï¼Œæå‡æ¸²æŸ“æ€§èƒ½ã€‚å¯¹äºå¤§é‡æ•°æ®çš„åœºæ™¯ï¼Œè™šæ‹Ÿæ»šåŠ¨åªæ¸²æŸ“å¯è§†åŒºåŸŸå†…çš„å†…å®¹ï¼Œå¤§å¹…å‡å°‘å†…å­˜å ç”¨ï¼›èŠ‚æµæ¸²æŸ“åˆ™é™åˆ¶æ¸²æŸ“é¢‘ç‡ï¼Œé¿å…é¢‘ç¹çš„DOMæ›´æ–°ã€‚</p>
<h3 data-id="heading-11">äº”ã€æµå¼è¾“å‡ºçš„å®ç°æµç¨‹ä¸æœ€ä½³å®è·µ</h3>
<p>å®ç°æµå¼è¾“å‡ºéœ€è¦å‰åç«¯ååŒå·¥ä½œï¼Œ<strong>å»ºç«‹å®Œæ•´çš„æµå¼é€šä¿¡æµç¨‹ï¼Œä»è¿æ¥å»ºç«‹ã€æ•°æ®ä¼ è¾“åˆ°æ¸²æŸ“å‘ˆç°</strong>ã€‚ä»¥ä¸‹æ˜¯æµå¼è¾“å‡ºçš„å…¸å‹å®ç°æµç¨‹ï¼š</p>
<h4 data-id="heading-12">1. è¿æ¥å»ºç«‹</h4>
<p>æ— è®ºä½¿ç”¨å“ªç§æŠ€æœ¯ï¼Œé¦–å…ˆéœ€è¦å»ºç«‹å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚å¯¹äºSSEï¼Œä½¿ç”¨EventSourceå¯¹è±¡ï¼›å¯¹äºWebSocketï¼Œä½¿ç”¨WebSocketå¯¹è±¡ï¼›å¯¹äºFetch APIï¼Œåˆ™éœ€è¦å‘é€è¯·æ±‚å¹¶è·å–å“åº”ä½“çš„Reader  ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SSEè¿æ¥å»ºç«‹</span>
<span class="hljs-keyword">const</span> eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">'/api/stream'</span>);

<span class="hljs-comment">// WebSocketè¿æ¥å»ºç«‹</span>
<span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://localhost:8080/stream'</span>);

<span class="hljs-comment">// Fetch APIè¿æ¥å»ºç«‹</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/stream'</span>, {
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    },
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>
});
<span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();
</code></pre>
<h4 data-id="heading-13">2. æ•°æ®ä¼ è¾“</h4>
<p>è¿æ¥å»ºç«‹åï¼ŒæœåŠ¡å™¨å¯ä»¥å¼€å§‹æŒç»­æ¨é€æ•°æ®ã€‚<strong>æ•°æ®é€šå¸¸ä»¥åˆ†å—å½¢å¼ä¼ è¾“ï¼Œæ¯å—åŒ…å«éƒ¨åˆ†ç”Ÿæˆå†…å®¹</strong>ã€‚æœåŠ¡å™¨éœ€è¦ç¡®ä¿æ•°æ®åˆ†å—çš„å¤§å°å’Œé¢‘ç‡åˆç†ï¼Œä»¥å¹³è¡¡ä¼ è¾“æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SSEæ•°æ®ä¼ è¾“ï¼ˆæœåŠ¡å™¨ç«¯ä¼ªä»£ç ï¼‰</span>
res.<span class="hljs-title function_">writeHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/event-stream'</span>);
res.<span class="hljs-title function_">writeHeader</span>(<span class="hljs-string">'Cache-Control'</span>, <span class="hljs-string">'no-cache'</span>);
res.<span class="hljs-title function_">writeHeader</span>(<span class="hljs-string">'Connection'</span>, <span class="hljs-string">'keep-alive'</span>);

<span class="hljs-comment">// æ¯ç”Ÿæˆä¸€ä¸ªtokenå°±æ¨é€</span>
<span class="hljs-keyword">while</span> (!<span class="hljs-title function_">isGenerationComplete</span>()) {
    <span class="hljs-keyword">const</span> chunk = <span class="hljs-title function_">generateNextChunk</span>();
    res.<span class="hljs-title function_">write</span>(<span class="hljs-string">`data: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(chunk)}</span>
`</span>); <span class="hljs-comment">// æ³¨æ„æœ«å°¾çš„ç©ºè¡Œ</span>
}
res.<span class="hljs-title function_">end</span>();

<span class="hljs-comment">// WebSocketæ•°æ®ä¼ è¾“ï¼ˆæœåŠ¡å™¨ç«¯ä¼ªä»£ç ï¼‰</span>
ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'chunk'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'è¿™æ˜¯ç¬¬ä¸€éƒ¨åˆ†å†…å®¹'</span> }));
ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'chunk'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'è¿™æ˜¯ç¬¬äºŒéƒ¨åˆ†å†…å®¹'</span> }));
ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'completion'</span> }));
</code></pre>
<h4 data-id="heading-14">3. æ•°æ®å¤„ç†ä¸æ¸²æŸ“</h4>
<p>å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ•°æ®å—åï¼Œéœ€è¦è¿›è¡Œè§£ç å’Œæ¸²æŸ“ã€‚<strong>å¯¹äºäºŒè¿›åˆ¶æ•°æ®ï¼Œä½¿ç”¨TextDecoderè§£ç ï¼›å¯¹äºæ–‡æœ¬æ•°æ®ï¼Œç›´æ¥è§£æå¹¶æ¸²æŸ“</strong>ã€‚æ¸²æŸ“è¿‡ç¨‹ä¸­éœ€è¦è€ƒè™‘æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…é¢‘ç¹çš„DOMæ“ä½œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SSEæ•°æ®å¤„ç†</span>
eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-comment">// è§£ææ•°æ®</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);

    <span class="hljs-comment">// å¤„ç†åˆ†å—å†…å®¹</span>
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> === <span class="hljs-string">'chunk'</span>) {
        <span class="hljs-comment">// ä½¿ç”¨TextDecoderå¤„ç†äºŒè¿›åˆ¶æ•°æ®</span>
        <span class="hljs-keyword">if</span> (data.<span class="hljs-property">content</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Uint8Array</span>) {
            <span class="hljs-keyword">const</span> decodedText = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>().<span class="hljs-title function_">decode</span>(data.<span class="hljs-property">content</span>);
            <span class="hljs-title function_">appendToDOM</span>(decodedText);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">appendToDOM</span>(data.<span class="hljs-property">content</span>);
        }
    }
});

<span class="hljs-comment">// WebSocketæ•°æ®å¤„ç†</span>
ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-comment">// è§£ææ•°æ®</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);

    <span class="hljs-comment">// å¤„ç†åˆ†å—å†…å®¹</span>
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> === <span class="hljs-string">'chunk'</span>) {
        <span class="hljs-comment">// å¤„ç†äºŒè¿›åˆ¶åˆ†å—</span>
        <span class="hljs-keyword">if</span> (data.<span class="hljs-property">content</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Uint8Array</span>) {
            <span class="hljs-keyword">const</span> decodedText = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>().<span class="hljs-title function_">decode</span>(data.<span class="hljs-property">content</span>);
            <span class="hljs-title function_">appendToDOM</span>(decodedText);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¤„ç†æ–‡æœ¬åˆ†å—</span>
            <span class="hljs-title function_">appendToDOM</span>(data.<span class="hljs-property">content</span>);
        }
    }
});

<span class="hljs-comment">// Fetch APIæ•°æ®å¤„ç†</span>
<span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
    <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;

    <span class="hljs-comment">// å¤„ç†äºŒè¿›åˆ¶æ•°æ®</span>
    <span class="hljs-keyword">const</span> chunkText = textDecoder.<span class="hljs-title function_">decode</span>(value);
    <span class="hljs-title function_">appendToDOM</span>(chunkText);
}
</code></pre>
<h4 data-id="heading-15">4. è¿æ¥å…³é—­ä¸æ¸…ç†</h4>
<p>æµå¼è¾“å‡ºå®Œæˆåï¼Œéœ€è¦æ­£ç¡®å…³é—­è¿æ¥å¹¶æ¸…ç†èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚<strong>å¯¹äºSSEï¼Œä½¿ç”¨close()æ–¹æ³•å…³é—­è¿æ¥ï¼›å¯¹äºWebSocketï¼ŒåŒæ ·ä½¿ç”¨close()æ–¹æ³•ï¼›å¯¹äºFetch APIï¼Œåˆ™ä¸éœ€è¦ç‰¹åˆ«å¤„ç†ï¼Œè¿æ¥ä¼šåœ¨æµç»“æŸåè‡ªåŠ¨å…³é—­</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SSEè¿æ¥å…³é—­</span>
eventSource.<span class="hljs-title function_">close</span>();

<span class="hljs-comment">// WebSocketè¿æ¥å…³é—­</span>
ws.<span class="hljs-title function_">close</span>();

<span class="hljs-comment">//Fetch APIè‡ªåŠ¨å…³é—­</span>
<span class="hljs-comment">// æ— éœ€ç‰¹åˆ«å¤„ç†ï¼Œæµç»“æŸåè¿æ¥ä¼šè‡ªåŠ¨å…³é—­</span>
</code></pre>
<h3 data-id="heading-16">å…­ã€æµå¼è¾“å‡ºçš„æœªæ¥å‘å±•è¶‹åŠ¿</h3>
<p>éšç€WebæŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œæµå¼è¾“å‡ºæŠ€æœ¯ä¹Ÿåœ¨æŒç»­æ¼”è¿›ã€‚<strong>æœªæ¥ï¼Œæµå¼è¾“å‡ºå°†æ›´åŠ æ™ºèƒ½åŒ–ã€é«˜æ•ˆåŒ–å’Œæ ‡å‡†åŒ–</strong>ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´ä¾¿æ·çš„å®ç°æ–¹å¼ã€‚</p>
<p>é¦–å…ˆï¼Œ<strong>Web Componentsçš„æ™®åŠå°†ä½¿å¾—æµå¼è¾“å‡ºç»„ä»¶æ›´å®¹æ˜“å¤ç”¨å’Œæ ‡å‡†åŒ–</strong>ã€‚å¼€å‘è€…å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„æµå¼è¾“å‡ºå…ƒç´ ï¼Œå°è£…è¿æ¥ç®¡ç†ã€æ•°æ®å¤„ç†å’Œæ¸²æŸ“é€»è¾‘ï¼Œç®€åŒ–åº”ç”¨å¼€å‘ã€‚</p>
<p>å…¶æ¬¡ï¼Œ<strong>WebAssemblyçš„æˆç†Ÿå°†ä¸ºæµå¼è¾“å‡ºæä¾›æ›´é«˜æ•ˆçš„äºŒè¿›åˆ¶å¤„ç†èƒ½åŠ›</strong>ã€‚é€šè¿‡WebAssemblyï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œé«˜æ€§èƒ½çš„äºŒè¿›åˆ¶å¤„ç†ç®—æ³•ï¼Œå‡å°‘JavaScriptçš„æ€§èƒ½å¼€é”€ã€‚</p>
<p>æœ€åï¼Œ<strong>æ–°çš„æµå¼é€šä¿¡åè®®çš„å‡ºç°å°†ä¸ºæµå¼è¾“å‡ºæä¾›æ›´ä¸°å¯Œçš„åŠŸèƒ½å’Œæ›´å¥½çš„æ€§èƒ½</strong>ã€‚ä¾‹å¦‚ï¼ŒHTTP/3çš„æ¨å¹¿ä½¿ç”¨å°†å¤§å¹…é™ä½ç½‘ç»œå»¶è¿Ÿï¼Œæå‡æµå¼è¾“å‡ºçš„å®æ—¶æ€§ï¼›è€Œæ–°çš„äº‹ä»¶æµæ ¼å¼å¯èƒ½æ”¯æŒæ›´å¤æ‚çš„æ•°æ®ç»“æ„å’Œæ›´çµæ´»çš„æ¶ˆæ¯ç±»å‹ã€‚</p>
<h3 data-id="heading-17">ä¸ƒã€æ€»ç»“ä¸å»ºè®®</h3>
<p>æµå¼è¾“å‡ºæŠ€æœ¯æ˜¯æå‡Webåº”ç”¨ç”¨æˆ·ä½“éªŒçš„é‡è¦æ‰‹æ®µï¼Œå®ƒé€šè¿‡"è¾¹ç”Ÿæˆè¾¹è¿”å›"çš„æ¨¡å¼ï¼Œæ˜¾è‘—é™ä½äº†ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œæä¾›äº†å³æ—¶åé¦ˆ  ã€‚<strong>æŒæ¡JavaScriptæµå¼è¾“å‡ºæŠ€æœ¯ï¼Œéœ€è¦ç†è§£äºŒè¿›åˆ¶æ•°æ®å¤„ç†åŸºç¡€ï¼Œç†Ÿæ‚‰SSEã€WebSocketå’ŒFetch APIä¸‰ç§å®ç°æ–¹æ¡ˆï¼Œå¹¶æ ¹æ®å…·ä½“åº”ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„ä¼˜åŒ–ç­–ç•¥</strong>ã€‚</p>
<p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå»ºè®®ä»ä»¥ä¸‹æ–¹é¢å…¥æ‰‹ï¼š</p>
<ol>
<li>
<p><strong>æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„æŠ€æœ¯</strong>ï¼šå¦‚æœä»…éœ€å•å‘æ¨é€ï¼ŒSSEæ˜¯æœ€ä½³é€‰æ‹©ï¼›å¦‚æœéœ€è¦åŒå‘å®æ—¶äº¤äº’ï¼ŒWebSocketæ›´ä¸ºé€‚åˆï¼›å¦‚æœéœ€è¦ç²¾ç»†æ§åˆ¶æ•°æ®æµå¤„ç†è¿‡ç¨‹ï¼ŒFetch API+ readableStreamåˆ™æ˜¯ç†æƒ³é€‰æ‹©ã€‚</p>
</li>
<li>
<p><strong>ä¼˜åŒ–äºŒè¿›åˆ¶æ•°æ®å¤„ç†</strong>ï¼šåˆç†ä½¿ç”¨ArrayBufferã€Uint8Arrayå’ŒTextEncoder/TextDecoderï¼Œå‡å°‘å†…å­˜å ç”¨å’Œè§£ç å¼€é”€ã€‚å¯¹äºå¤§è§„æ¨¡æ•°æ®ï¼Œè€ƒè™‘ä½¿ç”¨ç¼“å†²åŒºç®¡ç†ç­–ç•¥ï¼Œé¿å…å†…å­˜æº¢å‡ºã€‚</p>
</li>
<li>
<p><strong>å®ç°å¯é çš„è¿æ¥ç®¡ç†</strong>ï¼šä¸ºSSEå’ŒWebSocketå®ç°è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œç¡®ä¿åœ¨ç½‘ç»œä¸­æ–­åèƒ½å¤Ÿå¿«é€Ÿæ¢å¤ã€‚å¯¹äºWebSocketï¼Œå®šæœŸå‘é€å¿ƒè·³åŒ…æ£€æµ‹è¿æ¥çŠ¶æ€ï¼Œé¿å…é•¿æ—¶é—´æ— å“åº”å¯¼è‡´çš„è¿æ¥å…³é—­ã€‚</p>
</li>
<li>
<p><strong>ä¼˜åŒ–å®¢æˆ·ç«¯æ¸²æŸ“æ€§èƒ½</strong>ï¼šé‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨ã€èŠ‚æµæ¸²æŸ“ç­‰æŠ€æœ¯å‡å°‘DOMæ“ä½œå¼€é”€ï¼Œæå‡æ¸²æŸ“æ€§èƒ½ã€‚å¯¹äºé«˜é¢‘æ›´æ–°çš„åœºæ™¯ï¼Œè€ƒè™‘ä½¿ç”¨Web Workersè¿›è¡Œæ•°æ®å¤„ç†ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
</li>
<li>
<p><strong>å…³æ³¨æœªæ¥æŠ€æœ¯å‘å±•</strong>ï¼šæŒç»­å…³æ³¨Webæ–°æŠ€æœ¯çš„å‘å±•ï¼Œå¦‚WebAssemblyã€HTTP/3ç­‰ï¼Œä¸ºæµå¼è¾“å‡ºæä¾›æ›´é«˜æ•ˆçš„å®ç°æ–¹å¼ã€‚</p>
</li>
</ol>
<p><strong>æµå¼è¾“å‡ºæŠ€æœ¯æ˜¯ç°ä»£Webåº”ç”¨çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œéšç€AIå’Œå®æ—¶äº¤äº’éœ€æ±‚çš„å¢åŠ ï¼Œå…¶é‡è¦æ€§å°†è¿›ä¸€æ­¥æå‡</strong>ã€‚æŒæ¡è¿™ä¸€æŠ€æœ¯ï¼Œå°†å¸®åŠ©å¼€å‘è€…åˆ›å»ºæ›´æµç•…ã€æ›´é«˜æ•ˆçš„Webåº”ç”¨ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥æµ…å‡ºAIæµå¼è¾“å‡ºï¼šä»åŸç†åˆ°Vueå®æˆ˜å®ç°]]></title>    <link>https://juejin.cn/post/7580297762190442537</link>    <guid>https://juejin.cn/post/7580297762190442537</guid>    <pubDate>2025-12-06T14:48:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580297762190442537" data-draft-id="7580297762190426153" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥æµ…å‡ºAIæµå¼è¾“å‡ºï¼šä»åŸç†åˆ°Vueå®æˆ˜å®ç°"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2025-12-06T14:48:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ €ç§‹666"/> <meta itemprop="url" content="https://juejin.cn/user/2566698322650307"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥æµ…å‡ºAIæµå¼è¾“å‡ºï¼šä»åŸç†åˆ°Vueå®æˆ˜å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2566698322650307/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ €ç§‹666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:48:00.000Z" title="Sat Dec 06 2025 14:48:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥æµ…å‡ºAIæµå¼è¾“å‡ºï¼šä»åŸç†åˆ°Vueå®æˆ˜å®ç°</h2>
<hr/>
<p>åœ¨å½“å‰å¤§æ¨¡å‹ï¼ˆLLMï¼‰å¹¿æ³›åº”ç”¨çš„èƒŒæ™¯ä¸‹ï¼Œç”¨æˆ·å¯¹â€œå“åº”é€Ÿåº¦â€çš„æ„ŸçŸ¥è¶Šæ¥è¶Šæ•æ„Ÿã€‚å½“æˆ‘ä»¬å‘AIæé—®æ—¶ï¼Œä¼ ç»Ÿâ€œç­‰å¾…å®Œæ•´ç»“æœè¿”å›â€çš„æ¨¡å¼å¸¸å¸¸å¸¦æ¥æ•°ç§’ç”šè‡³æ›´ä¹…çš„ç©ºç™½ç•Œé¢â€”â€”è™½ç„¶å®é™…ç½‘ç»œè¯·æ±‚å¯èƒ½åªèŠ±äº†1ç§’ï¼Œä½†ç”¨æˆ·çš„ç„¦è™‘æ„Ÿå´æˆå€æ”¾å¤§ã€‚</p>
<p>è€Œ<strong>æµå¼è¾“å‡ºï¼ˆStreaming Outputï¼‰</strong> æ­£æ˜¯ç ´è§£è¿™ä¸€ç—›ç‚¹çš„å…³é”®æŠ€æœ¯ã€‚å®ƒè®©AIåƒâ€œè¾¹æƒ³è¾¹è¯´â€ä¸€æ ·ï¼ŒæŠŠç”Ÿæˆçš„å†…å®¹é€å­—æ¨é€å‡ºæ¥ï¼Œæå¤§æå‡äº†äº¤äº’çš„æµç•…æ€§ä¸çœŸå®æ„Ÿã€‚</p>
<p>æœ¬æ–‡å°†ä»¥ <strong>Vue 3 + Vite</strong> ä¸ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ å®ç°ä¸€ä¸ªå®Œæ•´çš„ AI æµå¼å¯¹è¯åŠŸèƒ½ï¼Œå¹¶æ·±å…¥å‰–æåº•å±‚åŸç†ï¼ŒåŠ©ä½ åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¿«é€Ÿè½åœ°ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦æµå¼è¾“å‡ºï¼Ÿå¯¹æ¯”ä¸¤ç§äº¤äº’æ¨¡å¼</h3>
<h4 data-id="heading-2">âŒ ä¼ ç»Ÿæ¨¡å¼ï¼šå…¨é‡å“åº” â†’ ç”¨æˆ·ä½“éªŒå·®</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// éæµå¼è¯·æ±‚</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/llm'</span>, { ... });
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
content.<span class="hljs-property">value</span> = data.<span class="hljs-property">content</span>; <span class="hljs-comment">// ä¸€æ¬¡æ€§èµ‹å€¼</span>
</code></pre>
<ul>
<li>âœ… å®ç°ç®€å•</li>
<li>âŒ ç”¨æˆ·éœ€ç­‰å¾…å…¨éƒ¨å†…å®¹ç”Ÿæˆå®Œæ¯•</li>
<li>âŒ é•¿æ–‡æœ¬åœºæ™¯ä¸‹å®¹æ˜“å‡ºç°â€œå¡æ­»â€é”™è§‰</li>
<li>âŒ è§†è§‰åé¦ˆå»¶è¿Ÿé«˜ï¼Œé™ä½ä¿¡ä»»æ„Ÿ</li>
</ul>
<h4 data-id="heading-3">âœ… æµå¼æ¨¡å¼ï¼šå¢é‡è¿”å› â†’ ç”¨æˆ·ä½“éªŒé£è·ƒ</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æµå¼è¯·æ±‚å¤„ç†</span>
<span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();
<span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
  <span class="hljs-keyword">const</span> { value, done } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
  <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">const</span> text = decoder.<span class="hljs-title function_">decode</span>(value);
  content.<span class="hljs-property">value</span> += <span class="hljs-title function_">parseChunk</span>(text); <span class="hljs-comment">// å®æ—¶æ‹¼æ¥</span>
}
</code></pre>
<ul>
<li>âœ… 1~2ç§’å†…å³å¯çœ‹åˆ°é¦–ä¸ªå­—ç¬¦</li>
<li>âœ… æ–‡å­—â€œæ‰“å­—æœºâ€æ•ˆæœå¢å¼ºæ²‰æµ¸æ„Ÿ</li>
<li>âœ… å®¢æˆ·ç«¯å¯è¾¹æ¥æ”¶è¾¹æ¸²æŸ“ï¼Œèµ„æºåˆ©ç”¨ç‡æ›´é«˜</li>
<li>âœ… æ›´ç¬¦åˆäººç±»å¯¹è¯èŠ‚å¥ï¼Œæå‡äº§å“è´¨æ„Ÿ</li>
</ul>
<blockquote>
<p>ğŸ“Œ <strong>å…³é”®æ´å¯Ÿ</strong>ï¼šç”¨æˆ·å¹¶ä¸å…³å¿ƒâ€œæ˜¯å¦çœŸçš„å¿«äº†â€ï¼Œè€Œæ˜¯å…³å¿ƒâ€œæœ‰æ²¡æœ‰åŠ¨é™â€ã€‚æµå¼è¾“å‡ºçš„æœ¬è´¨æ˜¯<strong>ç”¨å³æ—¶åé¦ˆå¯¹æŠ—ç­‰å¾…ç„¦è™‘</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">äºŒã€æŠ€æœ¯åŸºçŸ³ï¼šHTTP åˆ†å—ä¼ è¾“ä¸æµè§ˆå™¨æµ API</h3>
<h4 data-id="heading-5">2.1 åè®®å±‚æ”¯æŒï¼š<code>Transfer-Encoding: chunked</code></h4>
<p>æµå¼è¾“å‡ºä¾èµ–äº HTTP/1.1 çš„ <strong>åˆ†å—ä¼ è¾“ç¼–ç ï¼ˆChunked Transfer Encodingï¼‰</strong>ï¼š</p>
<ul>
<li>æœåŠ¡å™¨æ— éœ€çŸ¥é“æ€»é•¿åº¦ï¼Œå¯ä»¥ä¸€è¾¹ç”Ÿæˆæ•°æ®ä¸€è¾¹å‘é€</li>
<li>æ•°æ®è¢«åˆ†å‰²ä¸ºå¤šä¸ªâ€œå—â€ï¼ˆchunkï¼‰ï¼Œæ¯ä¸ªå—ç‹¬ç«‹ä¼ è¾“</li>
<li>å“åº”å¤´ä¸­åŒ…å« <code>Transfer-Encoding: chunked</code></li>
<li>æœ€ç»ˆä»¥ä¸€ä¸ªç©ºå—ï¼ˆ<code>0\r\n\r\n</code>ï¼‰è¡¨ç¤ºç»“æŸ</li>
</ul>
<p>è¿™æ˜¯å®ç°æµå¼å“åº”çš„åŸºç¡€åè®®æœºåˆ¶ã€‚</p>
<h4 data-id="heading-6">2.2 å‰ç«¯æ ¸å¿ƒ APIï¼šReadableStream ä¸ TextDecoder</h4>
<p>ç°ä»£æµè§ˆå™¨æä¾›äº†å¼ºå¤§çš„åŸç”Ÿæµå¤„ç†èƒ½åŠ›ï¼š</p>





















<table><thead><tr><th>API</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>response.body</code></td><td>è¿”å›ä¸€ä¸ª <code>ReadableStream&lt;Uint8Array&gt;</code></td></tr><tr><td><code>getReader()</code></td><td>è·å–æµè¯»å–å™¨ï¼Œç”¨äºé€å—è¯»å–</td></tr><tr><td><code>TextDecoder</code></td><td>å°†äºŒè¿›åˆ¶æ•°æ®è§£ç ä¸ºå­—ç¬¦ä¸²ï¼ˆUTF-8ï¼‰</td></tr></tbody></table>
<p>è¿™äº› API ä¸éœ€è¦é¢å¤–å®‰è£…åº“ï¼Œå¼€ç®±å³ç”¨ï¼Œéå¸¸é€‚åˆè½»é‡çº§é›†æˆã€‚</p>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€Vue å®æˆ˜ï¼šä¸€æ­¥æ­¥æ„å»º AI æµå¼å¯¹è¯ç³»ç»Ÿ</h3>
<p>æˆ‘ä»¬ä½¿ç”¨ Vue 3 + Vite æ„å»ºä¸€ä¸ªæç®€çš„ Demoï¼Œæ¥å…¥ DeepSeek API å®ç°æµå¼é—®ç­”ã€‚</p>
<h4 data-id="heading-8">3.1 åˆå§‹åŒ–é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash">npm create vue@latest stream-demo
<span class="hljs-built_in">cd</span> stream-demo
npm install
</code></pre>
<p>é€‰æ‹©é»˜è®¤é…ç½®å³å¯ï¼Œç¡®ä¿å¯ç”¨ Vue 3 å’Œ JavaScript æ”¯æŒã€‚</p>
<h4 data-id="heading-9">3.2 åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼ˆå®‰å…¨å­˜å‚¨å¯†é’¥ï¼‰</h4>
<pre><code class="hljs language-env" lang="env"># .env
VITE_DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxx
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šä¸è¦æäº¤ <code>.env</code> åˆ° Gitï¼æ·»åŠ åˆ° <code>.gitignore</code>ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-10">3.3 æ ¸å¿ƒé€»è¾‘ï¼šApp.vue</h4>
<h5 data-id="heading-11">ï¼ˆ1ï¼‰å“åº”å¼çŠ¶æ€å®šä¹‰</h5>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { ref } from 'vue'

// ç”¨æˆ·è¾“å…¥çš„é—®é¢˜
const question = ref('è®²ä¸€ä¸ªå–œç¾Šç¾Šå’Œç°å¤ªç‹¼çš„æ•…äº‹ï¼Œ20å­—')

// æ˜¯å¦å¯ç”¨æµå¼è¾“å‡º
const stream = ref(true)

// å­˜å‚¨å¹¶å±•ç¤ºæ¨¡å‹è¿”å›å†…å®¹
const content = ref('')
&lt;/script&gt;
</code></pre>
<p>åˆ©ç”¨ <code>ref</code> å®ç°å“åº”å¼æ›´æ–°ï¼Œæ¯æ¬¡ <code>content.value += delta</code> éƒ½ä¼šè§¦å‘è§†å›¾é‡ç»˜ã€‚</p>
<hr/>
<h5 data-id="heading-12">ï¼ˆ2ï¼‰å‘é€è¯·æ±‚ &amp; å¤„ç†æµå¼å“åº”</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">askLLM</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!question.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>()) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¯·è¾“å…¥é—®é¢˜'</span>)
    <span class="hljs-keyword">return</span>
  }

  <span class="hljs-comment">// æ˜¾ç¤ºåŠ è½½æç¤º</span>
  content.<span class="hljs-property">value</span> = <span class="hljs-string">'ğŸ§  æ€è€ƒä¸­...'</span>

  <span class="hljs-keyword">const</span> endpoint = <span class="hljs-string">'https://api.deepseek.com/chat/completions'</span>
  <span class="hljs-keyword">const</span> headers = {
    <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-keyword">import</span>.meta.env.VITE_DEEPSEEK_API_KEY}</span>`</span>,
    <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(endpoint, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      headers,
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        <span class="hljs-attr">model</span>: <span class="hljs-string">'deepseek-chat'</span>,
        <span class="hljs-attr">stream</span>: stream.<span class="hljs-property">value</span>,
        <span class="hljs-attr">messages</span>: [
          { <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">content</span>: question.<span class="hljs-property">value</span> }
        ]
      })
    })

    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥ï¼š<span class="hljs-subst">${response.status}</span>`</span>)
    }

    <span class="hljs-comment">// åŒºåˆ†æµå¼ / éæµå¼</span>
    <span class="hljs-keyword">if</span> (stream.<span class="hljs-property">value</span>) {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">handleStreamResponse</span>(response)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()
      content.<span class="hljs-property">value</span> = data.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>].<span class="hljs-property">message</span>.<span class="hljs-property">content</span>
    }
  } <span class="hljs-keyword">catch</span> (error) {
    content.<span class="hljs-property">value</span> = <span class="hljs-string">`âŒ è¯·æ±‚å¤±è´¥ï¼š<span class="hljs-subst">${error.message}</span>`</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error)
  }
}
</code></pre>
<hr/>
<h5 data-id="heading-13">ï¼ˆ3ï¼‰æµå¼å¤„ç†æ ¸å¿ƒå‡½æ•°</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleStreamResponse</span>(<span class="hljs-params">response</span>) {
  <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>()
  <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>()
  <span class="hljs-keyword">let</span> buffer = <span class="hljs-string">''</span> <span class="hljs-comment">// ç¼“å­˜ä¸å®Œæ•´ JSON ç‰‡æ®µ</span>
  <span class="hljs-keyword">let</span> done = <span class="hljs-literal">false</span>

  <span class="hljs-keyword">while</span> (!done) {
    <span class="hljs-keyword">const</span> { value, <span class="hljs-attr">done</span>: readerDone } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>()
    done = readerDone

    <span class="hljs-comment">// è§£ç äºŒè¿›åˆ¶æ•°æ®</span>
    <span class="hljs-keyword">const</span> chunk = buffer + decoder.<span class="hljs-title function_">decode</span>(value, { <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> })
    buffer = <span class="hljs-string">''</span>

    <span class="hljs-comment">// æŒ‰è¡Œå¤„ç† SSE æ ¼å¼æ•°æ®</span>
    <span class="hljs-keyword">const</span> lines = chunk.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">line</span> =&gt;</span> line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'data: '</span>))

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> lines) {
      <span class="hljs-keyword">const</span> raw = line.<span class="hljs-title function_">slice</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">trim</span>() <span class="hljs-comment">// å»é™¤ "data: "</span>

      <span class="hljs-keyword">if</span> (raw === <span class="hljs-string">'[DONE]'</span>) {
        done = <span class="hljs-literal">true</span>
        <span class="hljs-keyword">break</span>
      }

      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(raw)
        <span class="hljs-keyword">const</span> delta = json.<span class="hljs-property">choices</span>[<span class="hljs-number">0</span>]?.<span class="hljs-property">delta</span>?.<span class="hljs-property">content</span>
        <span class="hljs-keyword">if</span> (delta) {
          content.<span class="hljs-property">value</span> += delta <span class="hljs-comment">// å®æ—¶è¿½åŠ </span>
        }
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-comment">// å¯èƒ½æ˜¯ä¸å®Œæ•´çš„ JSONï¼Œç¼“å­˜èµ·æ¥ç­‰ä¸‹ä¸€å¸§</span>
        buffer = <span class="hljs-string">'data:'</span> + raw
      }
    }
  }

  reader.<span class="hljs-title function_">releaseLock</span>()
}
</code></pre>
<p>ğŸ” <strong>é‡ç‚¹è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>decoder.decode(value, { stream: true })</code>ï¼šå¯ç”¨æµå¼è§£ç ï¼Œé˜²æ­¢å¤šå­—èŠ‚å­—ç¬¦è¢«æˆªæ–­</li>
<li><code>buffer</code> ç¼“å­˜æœºåˆ¶ï¼šè§£å†³å›  TCP åˆ†åŒ…å¯¼è‡´çš„ JSON è¢«æ‹†åˆ†é—®é¢˜</li>
<li><code>slice(6)</code> æå–æœ‰æ•ˆæ•°æ®ï¼Œè¿‡æ»¤ <code>data:</code> å‰ç¼€</li>
<li><code>JSON.parse</code> åŠ  <code>try-catch</code> æ˜¯å¿…é¡»çš„ï¼Œé¿å…è§£æå¤±è´¥ä¸­æ–­æ•´ä¸ªæµç¨‹</li>
</ul>
<hr/>
<h4 data-id="heading-14">3.4 æ¨¡æ¿ç»“æ„ï¼šç®€æ´ç›´è§‚çš„ UI</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="container"&gt;
    &lt;!-- è¾“å…¥åŒº --&gt;
    &lt;div class="input-group"&gt;
      &lt;label&gt;é—®é¢˜ï¼š&lt;/label&gt;
      &lt;input v-model="question" placeholder="è¯·è¾“å…¥ä½ æƒ³é—®çš„é—®é¢˜..." /&gt;
      &lt;button @click="askLLM"&gt;å‘é€&lt;/button&gt;
    &lt;/div&gt;

    &lt;!-- æ§åˆ¶å¼€å…³ --&gt;
    &lt;div class="control"&gt;
      &lt;label&gt;
        &lt;input type="checkbox" v-model="stream" /&gt;
        å¯ç”¨æµå¼è¾“å‡º
      &lt;/label&gt;
    &lt;/div&gt;

    &lt;!-- è¾“å‡ºåŒº --&gt;
    &lt;div class="output-box"&gt;
      &lt;h3&gt;AI å›ç­”ï¼š&lt;/h3&gt;
      &lt;p&gt;{{ content }}&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<hr/>
<h4 data-id="heading-15">3.5 æ ·å¼ç¾åŒ–ï¼ˆå¯é€‰ï¼‰</h4>
<pre><code class="hljs language-css" lang="css">&lt;style scoped&gt;
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">800px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">40px</span> auto;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">font-family</span>: -apple-system, BlinkMacSystemFont, <span class="hljs-string">'Segoe UI'</span>, Roboto, sans-serif;
}

<span class="hljs-selector-class">.input-group</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">"text"</span>]</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
}

<span class="hljs-selector-tag">button</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#007aff</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#005edc</span>;
}

<span class="hljs-selector-class">.control</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">16px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
}

<span class="hljs-selector-class">.output-box</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f9f9fb</span>;
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">word-wrap</span>: break-word;
}

<span class="hljs-selector-class">.output-box</span> <span class="hljs-selector-tag">p</span> {
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.6</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h3 data-id="heading-16">å››ã€å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-17">âœ… Q1ï¼šä¸ºä»€ä¹ˆæœ‰æ—¶ä¼šå‡ºç°ä¹±ç æˆ–è§£æé”™è¯¯ï¼Ÿ</h4>
<p><strong>åŸå› </strong>ï¼šç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„ JSON å­—ç¬¦ä¸²å¯èƒ½è¢«åˆ†æˆä¸¤ä¸ª <code>Uint8Array</code> å‘é€ï¼Œå¯¼è‡´å•æ¬¡ <code>decode</code> å¾—åˆ°çš„æ˜¯åŠæˆªå­—ç¬¦ä¸²ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>buffer</code> ç¼“å­˜æœªå®Œæˆçš„æ•°æ®</li>
<li>åœ¨ä¸‹æ¬¡è¯»å–æ—¶æ‹¼æ¥åé‡æ–°å°è¯•è§£æ</li>
<li>è®¾ç½® <code>stream: true</code> å‚æ•°ç»™ <code>TextDecoder.decode()</code></li>
</ul>
<hr/>
<h4 data-id="heading-18">âœ… Q2ï¼šå¦‚ä½•é˜²æ­¢é¢‘ç¹ DOM æ›´æ–°å½±å“æ€§èƒ½ï¼Ÿ</h4>
<p>è™½ç„¶ Vue çš„å“åº”å¼ç³»ç»Ÿå¾ˆé«˜æ•ˆï¼Œä½†é«˜é¢‘å­—ç¬¦ä¸²æ‹¼æ¥ä»å¯èƒ½å¯¼è‡´é‡æ’ã€‚</p>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä½¿ç”¨ requestAnimationFrame é™åˆ¶æ¸²æŸ“é¢‘ç‡</span>
<span class="hljs-keyword">let</span> pending = <span class="hljs-literal">false</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">scheduleUpdate</span>(<span class="hljs-params">delta</span>) {
  <span class="hljs-keyword">if</span> (!pending) {
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      content.<span class="hljs-property">value</span> += delta
      pending = <span class="hljs-literal">false</span>
    })
  }
}
</code></pre>
<p>é€‚ç”¨äºè¶…é«˜é€Ÿè¾“å‡ºåœºæ™¯ï¼ˆå¦‚ä»£ç ç”Ÿæˆï¼‰ã€‚</p>
<hr/>
<h4 data-id="heading-19">âœ… Q3ï¼šå¦‚ä½•æ”¯æŒå–æ¶ˆè¯·æ±‚ï¼Ÿ</h4>
<p>å¼•å…¥ <code>AbortController</code> å³å¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>()

<span class="hljs-comment">// åœ¨ fetch ä¸­ä¼ å…¥ signal</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, {
  <span class="hljs-attr">signal</span>: controller.<span class="hljs-property">signal</span>,
  <span class="hljs-comment">// ...</span>
})

<span class="hljs-comment">// æä¾›å–æ¶ˆæŒ‰é’®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">cancelRequest</span> = (<span class="hljs-params"/>) =&gt; controller.<span class="hljs-title function_">abort</span>()
</code></pre>
<hr/>
<h3 data-id="heading-20">äº”ã€åº”ç”¨åœºæ™¯æ‹“å±•</h3>
<p>æµå¼è¾“å‡ºä¸ä»…é™äº LLM å¯¹è¯ï¼Œè¿˜å¯ç”¨äºï¼š</p>





























<table><thead><tr><th>åœºæ™¯</th><th>åº”ç”¨ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ğŸ¤– èŠå¤©æœºå™¨äºº</td><td>å®æ—¶å¯¹è¯ã€å®¢æœç³»ç»Ÿ</td></tr><tr><td>ğŸ“„ æ–‡æ¡£ç”Ÿæˆ</td><td>æŠ¥å‘Šã€åˆåŒã€æ–‡æ¡ˆè‡ªåŠ¨ç”Ÿæˆ</td></tr><tr><td>ğŸ’¾ æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</td><td>æ˜¾ç¤ºè¿›åº¦æ¡</td></tr><tr><td>ğŸ“Š æ—¥å¿—ç›‘æ§</td><td>å®æ—¶æ—¥å¿—æµå±•ç¤º</td></tr><tr><td>ğŸ§® æ•°æ®åˆ†æ</td><td>å¤§æ‰¹é‡è®¡ç®—ç»“æœé€æ­¥å‘ˆç°</td></tr></tbody></table>
<p>åªè¦æ¶‰åŠâ€œé•¿æ—¶é—´ä»»åŠ¡ + æ¸è¿›å¼ç»“æœâ€ï¼Œéƒ½å¯ä»¥è€ƒè™‘ä½¿ç”¨æµå¼æ€æƒ³ä¼˜åŒ–ä½“éªŒã€‚</p>
<hr/>
<h3 data-id="heading-21">å…­ã€æ€»ç»“ï¼šæŒæ¡æµå¼è¾“å‡ºï¼Œè®©ä½ çš„ AI åº”ç”¨è„±é¢–è€Œå‡º</h3>
<p>æµå¼è¾“å‡ºä¸æ˜¯ç‚«æŠ€ï¼Œè€Œæ˜¯ä¸€ç§<strong>ä»¥äººä¸ºæœ¬çš„è®¾è®¡æ€ç»´</strong>ã€‚å®ƒæŠŠâ€œç­‰å¾…â€å˜æˆäº†â€œå‚ä¸â€ï¼Œè®©ç”¨æˆ·æ„Ÿå—åˆ°ç³»ç»Ÿçš„â€œæ€è€ƒè¿‡ç¨‹â€ï¼Œä»è€Œå»ºç«‹æ›´å¼ºçš„ä¿¡ä»»æ„Ÿã€‚</p>
<p>é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†ï¼š</p>
<h3 data-id="heading-22">âœ… å¦‚ä½•å‘èµ·å¸¦ <code>stream=true</code> çš„ LLM è¯·æ±‚<br/>
âœ… å¦‚ä½•ä½¿ç”¨ <code>ReadableStream</code> å¤„ç†åˆ†å—æ•°æ®<br/>
âœ… å¦‚ä½•ç”¨ <code>TextDecoder</code> å®‰å…¨è§£æäºŒè¿›åˆ¶æµ<br/>
âœ… å¦‚ä½•åœ¨ Vue ä¸­å®ç°å®æ—¶æ¸²æŸ“<br/>
âœ… å¦‚ä½•åº”å¯¹æµå¼ä¸­çš„è¾¹ç•Œæƒ…å†µï¼ˆå¦‚ JSON æˆªæ–­ï¼‰</h3>
<h3 data-id="heading-23">â¤ï¸ å†™åœ¨æœ€å</h3>
<p>éšç€ AIGC çš„æ™®åŠï¼Œå‰ç«¯å·¥ç¨‹å¸ˆçš„è§’è‰²æ­£åœ¨ä»â€œé¡µé¢æ­å»ºè€…â€è½¬å‘â€œæ™ºèƒ½äº¤äº’è®¾è®¡å¸ˆâ€ã€‚æŒæ¡æµå¼è¾“å‡ºè¿™ç±»æ ¸å¿ƒæŠ€æœ¯ï¼Œä¸ä»…èƒ½åšå‡ºæ›´å¥½ç”¨çš„äº§å“ï¼Œä¹Ÿèƒ½åœ¨æœªæ¥çš„æŠ€æœ¯æµªæ½®ä¸­å æ®å…ˆæœºã€‚</p>
<blockquote>
<p><strong>åŠ¨æ‰‹æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼ã€‚</strong>
æ‰“å¼€ç¼–è¾‘å™¨ï¼Œè¿è¡Œä¸€éè¿™ä¸ª Demoï¼Œäº²è‡ªæ„Ÿå—é‚£ç§â€œæ–‡å­—è·ƒç„¶å±ä¸Šâ€çš„ä¸æ»‘ä½“éªŒå§ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ Next.js æºç ï¼šImage ç»„ä»¶ Color Placeholder å®ç°åŸç†]]></title>    <link>https://juejin.cn/post/7580297762190475305</link>    <guid>https://juejin.cn/post/7580297762190475305</guid>    <pubDate>2025-12-06T14:59:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580297762190475305" data-draft-id="7580277964341493770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ Next.js æºç ï¼šImage ç»„ä»¶ Color Placeholder å®ç°åŸç†"/> <meta itemprop="keywords" content="Next.js"/> <meta itemprop="datePublished" content="2025-12-06T14:59:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bytemanx"/> <meta itemprop="url" content="https://juejin.cn/user/4059855780846936"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ Next.js æºç ï¼šImage ç»„ä»¶ Color Placeholder å®ç°åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4059855780846936/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bytemanx
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:59:38.000Z" title="Sat Dec 06 2025 14:59:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥ Next.js æºç ï¼šImage ç»„ä»¶ Color Placeholder å®ç°åŸç†</h2>
<blockquote>
<p>æœ¬æ–‡å°†æ·±å…¥ Next.js æºç ï¼Œè§£æ Image ç»„ä»¶æ˜¯å¦‚ä½•ç”¨ä¸€ä¸ªä»… 35 å­—èŠ‚çš„ 1x1 åƒç´  GIFï¼Œç”Ÿæˆå…¨å°ºå¯¸æ¨¡ç³Šå ä½ç¬¦çš„ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€å¼•è¨€</h3>
<p>åœ¨ç°ä»£ Web åº”ç”¨ä¸­ï¼Œå›¾ç‰‡åŠ è½½ä½“éªŒç›´æ¥å½±å“ç”¨æˆ·çš„ç¬¬ä¸€å°è±¡ã€‚å½“ç”¨æˆ·æ‰“å¼€é¡µé¢æ—¶ï¼Œå¦‚æœçœ‹åˆ°çš„æ˜¯ç©ºç™½åŒºåŸŸæˆ–è€…å¸ƒå±€è·³åŠ¨ï¼Œä½“éªŒä¼šå¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p>Next.js çš„ Image ç»„ä»¶æä¾›äº† <code>placeholder="blur"</code> åŠŸèƒ½ï¼Œå¯ä»¥åœ¨å›¾ç‰‡åŠ è½½å®Œæˆå‰æ˜¾ç¤ºä¸€ä¸ªæ¨¡ç³Šçš„å ä½ç¬¦ã€‚å¯¹äºé™æ€å¯¼å…¥çš„å›¾ç‰‡ï¼ŒNext.js ä¼šåœ¨æ„å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆ blurDataURLï¼›è€Œå¯¹äºåŠ¨æ€å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æä¾›ä¸€ä¸ªçº¯è‰²å ä½ç¬¦ã€‚è¿™å¼ gifæ˜¯3Gç½‘ç»œçŠ¶æ€ä¸‹å½•å±æ•ˆæœã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58710d295b3347c8bd138e27e40cb738~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnl0ZW1hbng=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765637977&amp;x-signature=4zi6phC3CyuOk2VdEhyfTF3e%2Fg4%3D" alt="Adobe Express - 4c9a1e5b574e99f432a22cfd68db2fcd.gif" loading="lazy"/></p>
<h3 data-id="heading-2">äºŒã€ä½¿ç”¨ç¤ºä¾‹</h3>
<p>è®©æˆ‘ä»¬å…ˆçœ‹å®˜æ–¹examplesçš„ Color Placeholder <strong>æºç ä½ç½®</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Fblob%2Fcanary%2Fexamples%2Fimage-component%2Fapp%2Fcolor%2Fpage.tsx" target="_blank" title="https://github.com/vercel/next.js/blob/canary/examples/image-component/app/color/page.tsx" ref="nofollow noopener noreferrer">examples/image-component/app/color/page.tsx</a></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// app/color/page.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Image</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"next/image"</span>;

<span class="hljs-comment">// ç”Ÿæˆ 1x1 åƒç´  GIF çš„ base64 ç¼–ç </span>
<span class="hljs-keyword">const</span> keyStr =
  <span class="hljs-string">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">triplet</span> = (<span class="hljs-params">e1: <span class="hljs-built_in">number</span>, e2: <span class="hljs-built_in">number</span>, e3: <span class="hljs-built_in">number</span></span>) =&gt;
  keyStr.<span class="hljs-title function_">charAt</span>(e1 &gt;&gt; <span class="hljs-number">2</span>) +
  keyStr.<span class="hljs-title function_">charAt</span>(((e1 &amp; <span class="hljs-number">3</span>) &lt;&lt; <span class="hljs-number">4</span>) | (e2 &gt;&gt; <span class="hljs-number">4</span>)) +
  keyStr.<span class="hljs-title function_">charAt</span>(((e2 &amp; <span class="hljs-number">15</span>) &lt;&lt; <span class="hljs-number">2</span>) | (e3 &gt;&gt; <span class="hljs-number">6</span>)) +
  keyStr.<span class="hljs-title function_">charAt</span>(e3 &amp; <span class="hljs-number">63</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">rgbDataURL</span> = (<span class="hljs-params">r: <span class="hljs-built_in">number</span>, g: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>) =&gt;
  <span class="hljs-string">`data:image/gif;base64,R0lGODlhAQABAPAA<span class="hljs-subst">${
    triplet(<span class="hljs-number">0</span>, r, g) + triplet(b, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>)
  }</span>/yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==`</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Color</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Image</span>
      <span class="hljs-attr">alt</span>=<span class="hljs-string">"Dog"</span>
      <span class="hljs-attr">src</span>=<span class="hljs-string">"/dog.jpg"</span>
      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"blur"</span>
      <span class="hljs-attr">blurDataURL</span>=<span class="hljs-string">{rgbDataURL(237,</span> <span class="hljs-attr">181</span>, <span class="hljs-attr">6</span>)}  // <span class="hljs-attr">æ©™é»„è‰²</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">{750}</span>
      <span class="hljs-attr">height</span>=<span class="hljs-string">{1000}</span>
    /&gt;</span></span>
  );
}
</code></pre>
<p>è¿™æ®µä»£ç åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li><strong><code>rgbDataURL</code> å‡½æ•°</strong>ï¼šæ ¹æ® RGB å€¼ç”Ÿæˆä¸€ä¸ª 1x1 åƒç´ çš„ GIF Data URL</li>
<li><strong>Image ç»„ä»¶</strong>ï¼šé€šè¿‡ <code>placeholder="blur"</code> å’Œ <code>blurDataURL</code> å±æ€§ï¼Œåœ¨å›¾ç‰‡åŠ è½½å‰æ˜¾ç¤ºè¯¥é¢œè‰²çš„æ¨¡ç³Šå ä½ç¬¦</li>
</ol>
<p>è¿è¡Œåï¼Œä½ ä¼šçœ‹åˆ°å›¾ç‰‡åŠ è½½å‰å…ˆæ˜¾ç¤ºä¸€ä¸ªæ©™é»„è‰²çš„æ¨¡ç³ŠèƒŒæ™¯ï¼ŒåŠ è½½å®Œæˆåå¹³æ»‘è¿‡æ¸¡åˆ°çœŸå®å›¾ç‰‡ï¼Œ å°±åƒä¸Šé¢çš„gifä¸€æ ·ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€1x1 åƒç´  GIF åŸç†</h3>
<h4 data-id="heading-4">3.1 ä¸ºä»€ä¹ˆé€‰æ‹© GIFï¼Ÿ</h4>
<p>åœ¨æ‰€æœ‰å›¾ç‰‡æ ¼å¼ä¸­ï¼ŒGIF æ˜¯ç”Ÿæˆå•åƒç´ å›¾ç‰‡æœ€å°çš„é€‰æ‹©ï¼š</p>

























<table><thead><tr><th>æ ¼å¼</th><th>1x1 åƒç´ å¤§å°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>GIF</td><td>~35 bytes</td><td>æœ€å°ï¼Œæ”¯æŒé€æ˜</td></tr><tr><td>PNG</td><td>~67 bytes</td><td>è¾ƒå¤§ï¼Œæ— æŸå‹ç¼©</td></tr><tr><td>JPEG</td><td>~134 bytes</td><td>æœ€å¤§ï¼Œæœ‰æŸå‹ç¼©</td></tr></tbody></table>
<h4 data-id="heading-5">3.2 GIF æ–‡ä»¶ç»“æ„</h4>
<p>ä¸€ä¸ªæœ€å°çš„ GIF æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">GIF89a</span>           <span class="hljs-comment">// æ–‡ä»¶å¤´ (6 bytes)</span>
<span class="hljs-selector-attr">[å®½åº¦]</span><span class="hljs-selector-attr">[é«˜åº¦]</span>      <span class="hljs-comment">// é€»è¾‘å±å¹•æè¿°ç¬¦ (7 bytes)</span>
<span class="hljs-selector-attr">[å…¨å±€é¢œè‰²è¡¨]</span>      <span class="hljs-comment">// åŒ…å«æˆ‘ä»¬çš„é¢œè‰² (3 bytes)</span>
<span class="hljs-selector-attr">[å›¾åƒæè¿°ç¬¦]</span>      <span class="hljs-comment">// å›¾åƒå— (10 bytes)</span>
<span class="hljs-selector-attr">[å›¾åƒæ•°æ®]</span>        <span class="hljs-comment">// LZW å‹ç¼©æ•°æ® (è‹¥å¹² bytes)</span>
<span class="hljs-selector-tag">GIF</span> ç»“æŸç¬¦        <span class="hljs-comment">// (1 byte)</span>
</code></pre>
<h3 data-id="heading-6">å››ã€æºç åˆ†æ</h3>
<p>Next.js Image ç»„ä»¶çš„æºç ä½äº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js" target="_blank" title="https://github.com/vercel/next.js" ref="nofollow noopener noreferrer">vercel/next.js</a> ä»“åº“ã€‚æˆ‘ä»¬æŒ‰ç…§è°ƒç”¨é“¾è‡ªé¡¶å‘ä¸‹åˆ†æã€‚</p>
<h4 data-id="heading-7">4.1 Image ç»„ä»¶å…¥å£</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Fblob%2Fcanary%2Fpackages%2Fnext%2Fsrc%2Fclient%2Fimage-component.tsx" target="_blank" title="https://github.com/vercel/next.js/blob/canary/packages/next/src/client/image-component.tsx" ref="nofollow noopener noreferrer">packages/next/src/client/image-component.tsx</a></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-string">'use client'</span>

<span class="hljs-keyword">import</span> { useState, useCallback, forwardRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { getImgProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'../shared/lib/get-img-props'</span>

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Image</span> = <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">(<span class="hljs-params">props, forwardedRef</span>) =&gt;</span> {
  <span class="hljs-comment">// 1. çŠ¶æ€ç®¡ç†ï¼šå ä½ç¬¦æ˜¯å¦å®Œæˆ</span>
  <span class="hljs-keyword">const</span> [blurComplete, setBlurComplete] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
  
  <span class="hljs-comment">// 2. è°ƒç”¨ getImgProps ç”Ÿæˆ &lt;img&gt; çš„æ‰€æœ‰å±æ€§</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">props</span>: imgAttributes, <span class="hljs-attr">meta</span>: imgMeta } = <span class="hljs-title function_">getImgProps</span>(props, {
    defaultLoader,
    <span class="hljs-attr">imgConf</span>: config,
    blurComplete,  <span class="hljs-comment">// ä¼ å…¥å½“å‰çŠ¶æ€</span>
    showAltText
  })

  <span class="hljs-comment">// 3. æ¸²æŸ“ img å…ƒç´ </span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span>
      {<span class="hljs-attr">...imgAttributes</span>}
      <span class="hljs-attr">onLoad</span>=<span class="hljs-string">{(event)</span> =&gt;</span> {
        // 4. å›¾ç‰‡åŠ è½½å®Œæˆåï¼Œç§»é™¤å ä½ç¬¦
        handleLoading(event.currentTarget, placeholder, setBlurComplete)
      }}
      onError={() =&gt; {
        setBlurComplete(true)  // åŠ è½½å¤±è´¥ä¹Ÿç§»é™¤å ä½ç¬¦
      }}
    /&gt;</span>
  )
})
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>'use client'</code> æ ‡è®°ï¼šè¿™æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ç»„ä»¶ï¼Œä½†æ”¯æŒ SSRï¼ˆ<code>getImgProps</code> åœ¨æœåŠ¡ç«¯ä¹Ÿèƒ½æ‰§è¡Œï¼‰</li>
<li><code>blurComplete</code> çŠ¶æ€ï¼šæ§åˆ¶å ä½ç¬¦çš„æ˜¾ç¤º/éšè—</li>
<li>å›¾ç‰‡åŠ è½½å®Œæˆåè°ƒç”¨ <code>setBlurComplete(true)</code>ï¼Œè§¦å‘é‡æ¸²æŸ“ç§»é™¤å ä½ç¬¦</li>
</ul>
<h4 data-id="heading-8">4.2 å›¾ç‰‡åŠ è½½å¤„ç†</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleLoading</span>(<span class="hljs-params">
  img: HTMLImageElement,
  placeholder: <span class="hljs-built_in">string</span>,
  setBlurComplete: (v: <span class="hljs-built_in">boolean</span>) =&gt; <span class="hljs-built_in">void</span>,
</span>) {
  <span class="hljs-comment">// ç­‰å¾…å›¾ç‰‡è§£ç å®Œæˆï¼Œé¿å…é—ªçƒ</span>
  <span class="hljs-keyword">const</span> p = <span class="hljs-string">'decode'</span> <span class="hljs-keyword">in</span> img ? img.<span class="hljs-title function_">decode</span>() : <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>()
  
  p.<span class="hljs-keyword">catch</span>(<span class="hljs-function">() =&gt;</span> {}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (placeholder !== <span class="hljs-string">'empty'</span>) {
      <span class="hljs-title function_">setBlurComplete</span>(<span class="hljs-literal">true</span>)  <span class="hljs-comment">// è§¦å‘é‡æ¸²æŸ“</span>
    }
  })
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¦ <code>img.decode()</code>ï¼Ÿ</strong></p>
<p>ç›´æ¥åœ¨ <code>onLoad</code> ä¸­ç§»é™¤å ä½ç¬¦å¯èƒ½å¯¼è‡´é—ªçƒâ€”â€”å›¾ç‰‡æ•°æ®è™½ç„¶ä¸‹è½½å®Œæˆï¼Œä½†æµè§ˆå™¨è¿˜æ²¡è§£ç æˆåƒç´ ã€‚<code>img.decode()</code> ç¡®ä¿è§£ç å®Œæˆåå†åˆ‡æ¢ï¼Œè¿‡æ¸¡æ›´å¹³æ»‘ã€‚</p>
<h4 data-id="heading-9">4.3 å±æ€§ç”Ÿæˆé€»è¾‘</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Fblob%2Fcanary%2Fpackages%2Fnext%2Fsrc%2Fshared%2Flib%2Fget-img-props.ts" target="_blank" title="https://github.com/vercel/next.js/blob/canary/packages/next/src/shared/lib/get-img-props.ts" ref="nofollow noopener noreferrer">packages/next/src/shared/lib/get-img-props.ts</a></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { getImageBlurSvg } <span class="hljs-keyword">from</span> <span class="hljs-string">'./image-blur-svg'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getImgProps</span>(<span class="hljs-params">props, _state</span>) {
  <span class="hljs-keyword">const</span> { blurComplete } = _state
  
  <span class="hljs-comment">// æ ¸å¿ƒï¼šæ ¹æ®çŠ¶æ€å†³å®šæ˜¯å¦ç”Ÿæˆå ä½ç¬¦èƒŒæ™¯</span>
  <span class="hljs-keyword">const</span> backgroundImage = !blurComplete &amp;&amp; placeholder !== <span class="hljs-string">'empty'</span> 
    ? placeholder === <span class="hljs-string">'blur'</span> 
      <span class="hljs-comment">// è°ƒç”¨ getImageBlurSvg ç”Ÿæˆ SVG æ¨¡ç³Šæ»¤é•œ</span>
      ? <span class="hljs-string">`url("data:image/svg+xml;charset=utf-8,<span class="hljs-subst">${getImageBlurSvg({
          widthInt,
          heightInt,
          blurWidth,
          blurHeight,
          blurDataURL: blurDataURL || <span class="hljs-string">''</span>,
          objectFit: imgStyle.objectFit
        })}</span>")`</span>
      : <span class="hljs-string">`url("<span class="hljs-subst">${placeholder}</span>")`</span>
    : <span class="hljs-literal">null</span>;

  <span class="hljs-comment">// ç”Ÿæˆå ä½ç¬¦æ ·å¼</span>
  <span class="hljs-keyword">let</span> placeholderStyle = backgroundImage ? {
    backgroundSize,
    <span class="hljs-attr">backgroundPosition</span>: imgStyle.<span class="hljs-property">objectPosition</span> || <span class="hljs-string">'50% 50%'</span>,
    <span class="hljs-attr">backgroundRepeat</span>: <span class="hljs-string">'no-repeat'</span>,
    backgroundImage
  } : {};

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">props</span>: {
      <span class="hljs-attr">style</span>: {
        ...imgStyle,
        ...placeholderStyle,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'transparent'</span>  <span class="hljs-comment">// éšè— alt æ–‡å­—</span>
      },
      <span class="hljs-attr">src</span>: imgAttributes.<span class="hljs-property">src</span>,
      <span class="hljs-attr">srcSet</span>: imgAttributes.<span class="hljs-property">srcSet</span>,
      <span class="hljs-comment">// ...</span>
    }
  }
}
</code></pre>
<p><strong>é€»è¾‘æµç¨‹</strong>ï¼š</p>
<ol>
<li><code>blurComplete === false</code> ä¸” <code>placeholder === 'blur'</code> â†’ ç”Ÿæˆå ä½ç¬¦</li>
<li>è°ƒç”¨ <code>getImageBlurSvg()</code> ç”Ÿæˆ SVG Data URL</li>
<li>å°† SVG ä½œä¸º <code>background-image</code> è®¾ç½®åˆ° <code>&lt;img&gt;</code> å…ƒç´ </li>
<li>å›¾ç‰‡åŠ è½½å®Œæˆå <code>blurComplete</code> å˜ä¸º <code>true</code>ï¼Œé‡æ¸²æŸ“æ—¶ <code>backgroundImage</code> ä¸º <code>null</code></li>
</ol>
<h4 data-id="heading-10">4.4 SVG æ¨¡ç³Šæ»¤é•œç”Ÿæˆ</h4>
<p><strong>æºç ä½ç½®</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Fblob%2Fcanary%2Fpackages%2Fnext%2Fsrc%2Fshared%2Flib%2Fimage-blur-svg.ts" target="_blank" title="https://github.com/vercel/next.js/blob/canary/packages/next/src/shared/lib/image-blur-svg.ts" ref="nofollow noopener noreferrer">packages/next/src/shared/lib/image-blur-svg.ts</a></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getImageBlurSvg</span>(<span class="hljs-params">{
  widthInt,
  heightInt,
  blurWidth,
  blurHeight,
  blurDataURL,
  objectFit,
}: {
  widthInt?: <span class="hljs-built_in">number</span>
  heightInt?: <span class="hljs-built_in">number</span>
  blurWidth?: <span class="hljs-built_in">number</span>
  blurHeight?: <span class="hljs-built_in">number</span>
  blurDataURL: <span class="hljs-built_in">string</span>
  objectFit?: <span class="hljs-built_in">string</span>
}</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">const</span> std = <span class="hljs-number">20</span>  <span class="hljs-comment">// é«˜æ–¯æ¨¡ç³Šæ ‡å‡†å·®</span>
  
  <span class="hljs-comment">// å…³é”®ï¼šæ”¾å¤§ 40 å€ï¼Œä¸ºæ¨¡ç³Šæä¾›è¶³å¤Ÿç©ºé—´</span>
  <span class="hljs-keyword">const</span> svgWidth = blurWidth ? blurWidth * <span class="hljs-number">40</span> : widthInt
  <span class="hljs-keyword">const</span> svgHeight = blurHeight ? blurHeight * <span class="hljs-number">40</span> : heightInt

  <span class="hljs-keyword">const</span> viewBox = svgWidth &amp;&amp; svgHeight 
    ? <span class="hljs-string">`viewBox='0 0 <span class="hljs-subst">${svgWidth}</span> <span class="hljs-subst">${svgHeight}</span>'`</span> 
    : <span class="hljs-string">''</span>

  <span class="hljs-comment">// SVG æ»¤é•œç®¡é“</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">`%3Csvg xmlns='http://www.w3.org/2000/svg' <span class="hljs-subst">${viewBox}</span>%3E
    %3Cfilter id='b' color-interpolation-filters='sRGB'%3E
      %3CfeGaussianBlur stdDeviation='<span class="hljs-subst">${std}</span>'/%3E
      %3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E
      %3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E
      %3CfeComposite operator='out' in='s'/%3E
      %3CfeComposite in2='SourceGraphic'/%3E
      %3CfeGaussianBlur stdDeviation='<span class="hljs-subst">${std}</span>'/%3E
    %3C/filter%3E
    %3Cimage width='100%25' height='100%25' x='0' y='0' 
      preserveAspectRatio='none' 
      style='filter: url(%23b);' 
      href='<span class="hljs-subst">${blurDataURL}</span>'/%3E
  %3C/svg%3E`</span>
}
</code></pre>
<p><strong>SVG æ»¤é•œç®¡é“è¯´æ˜</strong>ï¼š</p>

























<table><thead><tr><th>æ»¤é•œ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>feGaussianBlur</code> (ç¬¬ä¸€æ¬¡)</td><td>æ¨¡ç³Šæ‰©æ•£é¢œè‰²ï¼Œä½†è¾¹ç¼˜ä¼šå˜æˆåŠé€æ˜</td></tr><tr><td><code>feColorMatrix</code></td><td>å¤„ç† Alpha é€šé“ï¼Œæ¶ˆé™¤åŠé€æ˜è¾¹ç¼˜</td></tr><tr><td><code>feFlood + feComposite</code></td><td>ç”¨çº¯è‰²å¡«å……è¢«è£å‰ªçš„è¾¹ç¼˜åŒºåŸŸ</td></tr><tr><td><code>feGaussianBlur</code> (ç¬¬äºŒæ¬¡)</td><td>å†æ¬¡æ¨¡ç³Šï¼Œè®©å¡«å……åçš„è¾¹ç¼˜æ›´è‡ªç„¶</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥æ”¾å¤§ï¼Ÿ</strong></p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šSVG æœ¬èº«å°±æ”¯æŒæ— æŸç¼©æ”¾ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åŠ è¿™ä¹ˆå¤šæ»¤é•œï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼š<strong>è¿™å¥—æœºåˆ¶ä¸åªæ˜¯ä¸ºçº¯è‰² GIF è®¾è®¡çš„ï¼Œè€Œæ˜¯è¦å…¼å®¹çœŸå®å›¾ç‰‡ç¼©ç•¥å›¾</strong>ã€‚
ç”¨ä»¥ä¸‹å¯¹æ¯”å³å¯çœ‹å‡ºåŒºåˆ«
<strong>åœºæ™¯ä¸€ï¼š1Ã—1 çº¯è‰² GIF</strong></p>
<p><span href="https://code.juejin.cn/pen/7580669386227187727" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7580669386227187727" data-src="https://code.juejin.cn/pen/7580669386227187727" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<p><strong>åœºæ™¯äºŒï¼š8Ã—8 çœŸå®ç¼©ç•¥å›¾</strong>
<span href="https://code.juejin.cn/pen/7580703272609644554" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7580703272609644554" data-src="https://code.juejin.cn/pen/7580703272609644554" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<h3 data-id="heading-11">äº”ã€è®¾è®¡å†³ç­–</h3>
<h4 data-id="heading-12">5.1 ä¸ºä»€ä¹ˆæ”¾å¤§ 40 å€ï¼Ÿ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> svgWidth = blurWidth ? blurWidth * <span class="hljs-number">40</span> : widthInt
</code></pre>
<p>é«˜æ–¯æ¨¡ç³Šçš„æœ‰æ•ˆèŒƒå›´çº¦ä¸º 3Ïƒï¼ˆ3 å€æ ‡å‡†å·®ï¼‰ã€‚å½“ <code>stdDeviation = 20</code> æ—¶ï¼Œæ¨¡ç³Šä¼šå½±å“å‘¨å›´çº¦ 60 åƒç´ ã€‚å¦‚æœ viewBox å¤ªå°ï¼Œæ¨¡ç³Šä¼š"æº¢å‡º"è¾¹ç•Œå¯¼è‡´è¾¹ç¼˜è¢«æˆªæ–­ã€‚æ”¾å¤§ 40 å€ç¡®ä¿ 1 åƒç´ çš„å›¾ç‰‡ä¹Ÿæœ‰è¶³å¤Ÿç©ºé—´è®©æ¨¡ç³Šæ•ˆæœè‡ªç„¶è¿‡æ¸¡ã€‚</p>
<h4 data-id="heading-13">5.2 ä¸ºä»€ä¹ˆç”¨ SVG è€Œé CSS blurï¼Ÿ</h4>

























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>CSS blur</th><th>SVG æ»¤é•œ</th></tr></thead><tbody><tr><td>è¾¹ç¼˜å¤„ç†</td><td>æ¨¡ç³Šä¼šæº¢å‡ºå®¹å™¨</td><td>å®Œç¾æ§åˆ¶</td></tr><tr><td>é¢å¤– DOM</td><td>éœ€è¦åŒ…è£¹å…ƒç´ </td><td>æ— éœ€é¢å¤–å…ƒç´ </td></tr><tr><td>å®šåˆ¶æ€§</td><td>æœ‰é™</td><td>å¯ç»„åˆå¤šä¸ªæ»¤é•œåŸè¯­</td></tr></tbody></table>
<h4 data-id="heading-14">5.3 æ€§èƒ½è€ƒé‡</h4>
<ul>
<li><strong>Data URL å¤§å°</strong>ï¼šå®Œæ•´ SVG çº¦ 500-600 bytesï¼Œå†…è”åœ¨ HTML ä¸­</li>
<li><strong>é›¶ç½‘ç»œè¯·æ±‚</strong>ï¼šå ä½ç¬¦éš HTML ä¸€èµ·åˆ°è¾¾ï¼Œé¦–å±å³å¯æ¸²æŸ“</li>
<li><strong>GPU åŠ é€Ÿ</strong>ï¼šSVG æ»¤é•œç”±æµè§ˆå™¨ GPU æ¸²æŸ“</li>
<li><strong>è‡ªåŠ¨æ¸…ç†</strong>ï¼šå›¾ç‰‡åŠ è½½åèƒŒæ™¯æ ·å¼è¢«ç§»é™¤ï¼Œä¸å ç”¨é¢å¤–å†…å­˜</li>
</ul>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js" target="_blank" title="https://github.com/vercel/next.js" ref="nofollow noopener noreferrer">Next.js GitHub æºç </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FSVG%2FTutorial%2FFilter_effects" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Filter_effects" ref="nofollow noopener noreferrer">MDN - SVG Filter æ•™ç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Fblob%2Fcanary%2Fpackages%2Fnext%2Fsrc%2Fshared%2Flib%2Fimage-blur-svg.ts" target="_blank" title="https://github.com/vercel/next.js/blob/canary/packages/next/src/shared/lib/image-blur-svg.ts" ref="nofollow noopener noreferrer">image-blur-svg.ts æºç </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fstackoverflow.com%2Fa%2F33919020%2F266535" target="_blank" title="https://stackoverflow.com/a/33919020/266535" ref="nofollow noopener noreferrer">Stack Overflow - ç”Ÿæˆ 1x1 åƒç´  GIF</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jså…¥é—¨æŒ‡å—ä¹‹Promiseï¼šä»''æ‰¿è¯º''åˆ°ç†è§£ï¼Œå‘Šåˆ«å›è°ƒåœ°åŸŸ]]></title>    <link>https://juejin.cn/post/7580310413754335282</link>    <guid>https://juejin.cn/post/7580310413754335282</guid>    <pubDate>2025-12-06T15:18:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580310413754335282" data-draft-id="7580288235030396928" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jså…¥é—¨æŒ‡å—ä¹‹Promiseï¼šä»''æ‰¿è¯º''åˆ°ç†è§£ï¼Œå‘Šåˆ«å›è°ƒåœ°åŸŸ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-06T15:18:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Neptune1"/> <meta itemprop="url" content="https://juejin.cn/user/1030661718147776"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jså…¥é—¨æŒ‡å—ä¹‹Promiseï¼šä»''æ‰¿è¯º''åˆ°ç†è§£ï¼Œå‘Šåˆ«å›è°ƒåœ°åŸŸ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1030661718147776/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Neptune1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:18:46.000Z" title="Sat Dec 06 2025 15:18:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:18px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:40px;margin-bottom:20px;color:#007fff;display:flex;align-items:center}.markdown-body h1:hover:before,.markdown-body h2:hover:before,.markdown-body h3:hover:before,.markdown-body h4:hover:before,.markdown-body h5:hover:before,.markdown-body h6:hover:before{transition:All .4s ease-in-out;transform:rotate(1turn)}.markdown-body h1{font-size:30px;background:linear-gradient(#fff 60%,#c6e3ff 0)}.markdown-body h1:before{content:"";display:inline-block;width:32px;height:32px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h2{font-size:24px;background:linear-gradient(#fff 60%,#cce3fb 0)}.markdown-body h2:before{content:"";display:inline-block;width:24px;height:24px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h3{font-size:20px}.markdown-body h3:before{content:"";display:inline-block;width:18px;height:18px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h4{font-size:18px}.markdown-body h4:before{content:"";display:inline-block;width:16px;height:16px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h5{font-size:16px}.markdown-body h5:before{content:"";display:inline-block;width:15px;height:15px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h6{font-size:14px}.markdown-body h6:before{content:"";display:inline-block;width:12px;height:12px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{border-bottom:2px solid #007fff;color:#007fff;padding-right:10px}.markdown-body p{letter-spacing:1px;line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:10px auto}.markdown-body hr{border:none;border-top:1px dashed #92c8ff}.markdown-body hr:before{content:"âœ‚";display:inline-block;position:relative;top:-12px;left:40px;padding:0 3px;color:#007fff;font-size:18px}.markdown-body hr:after{content:"æŒ‰è™šçº¿å‰ªå¼€";position:relative;top:-15px;left:84%;padding:0 3px;color:#007fff;font-size:12px}.markdown-body del{color:#f44}.markdown-body em{color:#007fff;margin:0 2px}.markdown-body strong{color:#007fff;font-weight:bolder}.markdown-body code{word-break:break-word;border-radius:4px;overflow-x:auto;background-color:#e6f3ff;color:#007fff;font-weight:600;font-size:16px;padding:.065em .4em;border:1px solid #007fff}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:5px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:18px;font-weight:400;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8;border:none}.markdown-body a{text-decoration:none;color:#007fff;border-bottom:1px solid #007fff}.markdown-body a:before{content:"Â¶";margin-right:5px;font-size:22px}.markdown-body a:after{content:"â†·";margin-left:2px;font-size:22px;display:none}.markdown-body a:active,.markdown-body a:hover{color:#275b8c;border-bottom:1px solid #275b8c}.markdown-body a:active:after,.markdown-body a:hover:after{display:inline-block}.markdown-body table{display:inline-block!important;font-size:16px;width:auto;max-width:100%;overflow:auto;border:1px solid #a5d3ff}.markdown-body thead{background:#c6e3ff;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#eef7ff}.markdown-body tbody&gt;tr:nth-child(odd){background-color:#f8fcff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #007fff;background-color:#eef7ff}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#007fff}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="srcery">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1b19;color:#fce8c3}.hljs-emphasis,.hljs-strong{color:#918175}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ff5c8f}.hljs-code,.hljs-selector-class{color:#68a8e4}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#ef2f27}.hljs-name,.hljs-title{color:#fbb829}.hljs-params,.hljs-type{color:#0aaeb3}.hljs-string{color:#98bc37}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable{color:#c07abe}.hljs-comment,.hljs-deletion,.hljs-meta{color:#918175}</style><p>åœ¨äº†è§£promiseä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç®€å•äº†è§£ä¸€äº›å…³äºå¼‚æ­¥çš„çŸ¥è¯†ï¼Œæ–¹ä¾¿è§£é‡Š<code>promise</code>å…·ä½“åšäº†ä»€ä¹ˆï¼Œèµ·åˆ°ä»€ä¹ˆæ ·çš„ä½œç”¨</p>
<h2 data-id="heading-0">ä¸€ã€å¼‚æ­¥</h2>
<ol>
<li>
<p>jsåœ¨è®¾è®¡ä¹‹åˆæ—¶è¢«ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€æ¥è®¾è®¡ï¼Œæ‰€ä»¥è¢«è®¾è®¡æˆäº†å•çº¿ç¨‹ä»¥èŠ‚çœç”¨æˆ·çš„æ€§èƒ½</p>
</li>
<li>
<p>jsä»£ç ä¸­å¦‚æœå­˜åœ¨éœ€è¦è€—æ—¶æ‰§è¡Œçš„ä»£ç ï¼ˆå¦‚<code>setTimeout()</code>ï¼‰,åˆ™è¯¥ä»£ç åœ¨v8å¼•æ“æ‰§è¡Œåˆ°è¿™æ—¶ï¼Œä¼šè¢«æš‚æ—¶æŒ‚èµ·ï¼Œè€Œä¼˜å…ˆæ‰§è¡Œåé¢ä¸è€—æ—¶çš„ä»£ç ï¼ˆ<strong>åŒæ­¥ä»£ç </strong>ï¼‰ï¼Œè¿™å°±æ˜¯jsä¸­å¼‚æ­¥çš„ç®€å•ç†è§£</p>
</li>
</ol>
<p>3.é€šè¿‡ä¸€æ®µä»£ç ç›´è§‚äº†è§£å¼‚æ­¥</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>
<span class="hljs-keyword">let</span> b = <span class="hljs-number">2</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a)

},<span class="hljs-number">1000</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b)
   
   
   è¾“å‡ºç»“æœä¸º<span class="hljs-number">2</span>ï¼Œä¸€ç§’åå†è¾“å‡º<span class="hljs-number">1</span>
</code></pre>
<p>æ‰€ä»¥ï¼Œå¦‚æœä½ ä¸äº†è§£ä»€ä¹ˆæ˜¯å¼‚æ­¥ï¼Œé‚£ä¹ˆä½ æ˜¯å¦ä¼šè§‰å¾—æ˜¯å‡½æ•°åœ¨è¯»å–åˆ°ç¬¬å››è¡Œä»£ç åï¼Œç­‰å¾…ä¸€ç§’åæ‰“å°1å†æ‰“å°2ï¼Ÿ</p>
<h2 data-id="heading-1">äºŒã€å¦‚ä½•å¤„ç†å¼‚æ­¥</h2>
<p>é€šè¿‡ä¸Šä¸ªæ ‡é¢˜å†…å®¹ï¼Œä½ æ˜¯å¦äº†è§£åˆ°äº†åœ¨v8ä¸­å¼•æ“æ‰§è¡Œçš„é¡ºåºï¼Ÿ é‚£ä¹ˆï¼Œjsä¸­å¼‚æ­¥è¿™ä¸€ç§æƒ…å†µä¼šç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆæ ·çš„é—®é¢˜ä¸å›°å¢ƒå‘¢ï¼Œä¸æ€¥ï¼Œè¯·çœ‹å¦‚ä¸‹æƒ…å½¢ä¸­çš„ä»£ç </p>
<pre><code class="hljs language-scss" lang="scss">let  <span class="hljs-selector-tag">a</span> = <span class="hljs-number">1</span>

function <span class="hljs-built_in">fn</span>(){
    <span class="hljs-built_in">setTimeout</span>(()=&gt;{
    <span class="hljs-selector-tag">a</span> = <span class="hljs-number">2</span>
      console<span class="hljs-selector-class">.log</span>(a)    
    },<span class="hljs-number">1000</span>)
   }

function <span class="hljs-built_in">foo</span>(){
     <span class="hljs-built_in">setTimeout</span>(()=&gt;{
     <span class="hljs-selector-tag">a</span> = <span class="hljs-number">3</span>
    console<span class="hljs-selector-class">.log</span>(a)  
    },<span class="hljs-number">2000</span>)
}

function <span class="hljs-built_in">bar</span>(){
console<span class="hljs-selector-class">.log</span>(a)
   }

<span class="hljs-built_in">foo</span>()
<span class="hljs-built_in">fn</span>()
<span class="hljs-built_in">bar</span>()

</code></pre>
<p><strong>æ­¤æ—¶ç”±äºå¼‚æ­¥çš„å­˜åœ¨ï¼Œä½ ä¼šå‘ç°ï¼Œæ— è®ºä½ å¦‚ä½•è°ƒç”¨fooï¼ˆï¼‰ï¼Œfnï¼ˆï¼‰ï¼Œbarï¼ˆï¼‰ï¼Œéƒ½æ˜¯ä»¥barï¼ˆï¼‰ï¼Œfnï¼ˆï¼‰ï¼Œfooï¼ˆï¼‰è¿™æ ·çš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¥ï¼Œä½¿å¾—ä½ æ— æ³•æ§åˆ¶ä»–ä»¬çš„æ‰§è¡Œé¡ºåº</strong>ï¼Œé‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢</p>
<h3 data-id="heading-2">1ã€è§£å†³æ–¹æ³•</h3>
<h4 data-id="heading-3">ï¼ˆ1ï¼‰é€šè¿‡å‡½æ•°åµŒå¥—å›è°ƒè°ƒç”¨ï¼Œæ”¹å˜æ‰§è¡Œé¡ºåºï¼ˆå®¹æ˜“å½¢æˆå±å±±ä»£ç ï¼Œä¸æ¨èï¼‰</h4>
<p>æ­¤æ—¶ä½ æƒ³åˆ°ä¸€ä¸ªåŠæ³•ï¼Œæˆ‘é€šè¿‡å°†ä¸‹ä¸€ä¸ªæ‰§è¡Œçš„å‡½æ•°è°ƒç”¨äºä¸Šä¸€ä¸ªæ‰§è¡Œå‡½æ•°çš„æœ«å°¾ï¼Œä¸å°±èƒ½è§£å†³å¼‚æ­¥çš„é—®é¢˜äº†å—ï¼Œé€šè¿‡è¿™ä¸ªæ‰‹æ®µå°±å¯ä»¥å®ç°æ‰§è¡Œé¡ºåºä¸º<code>bar(),fnï¼ˆï¼‰,barï¼ˆï¼‰</code>äº†ï¼Œäºæ˜¯ä½ å†™å‡ºäº†è¿™æ ·çš„ä»£ç </p>
<pre><code class="hljs language-scss" lang="scss">let  <span class="hljs-selector-tag">a</span> = <span class="hljs-number">1</span>

function <span class="hljs-built_in">fn</span>(){
    <span class="hljs-built_in">setTimeout</span>(()=&gt;{
    <span class="hljs-selector-tag">a</span> = <span class="hljs-number">2</span>
      console<span class="hljs-selector-class">.log</span>(a)    
    },<span class="hljs-number">1000</span>)
    <span class="hljs-built_in">bar</span>()
   }

function <span class="hljs-built_in">foo</span>(){
     <span class="hljs-built_in">setTimeout</span>(()=&gt;{
     <span class="hljs-selector-tag">a</span> = <span class="hljs-number">3</span>
    console<span class="hljs-selector-class">.log</span>(a)
    <span class="hljs-built_in">fn</span>()
    },<span class="hljs-number">2000</span>)
}

function <span class="hljs-built_in">bar</span>(){
console<span class="hljs-selector-class">.log</span>(a)
   }
   
   <span class="hljs-built_in">foo</span>()
</code></pre>
<h5 data-id="heading-4">ç¼ºé™·</h5>
<p>æ­¤æ—¶ä½ ä¾¿æˆåŠŸå®ç°äº†æ‰§è¡Œé¡ºåºä¸º<code>bar(),fnï¼ˆï¼‰,barï¼ˆï¼‰</code>ï¼Œä½†æ˜¯ï¼Œè¿™åˆå¼•å‘äº†å¦ä¸€ä¸ªé—®é¢˜ï¼Œä»”ç»†æ€è€ƒï¼Œè¿™é‡Œæ˜¯ä¸‰ä¸ªå‡½æ•°çš„å›è°ƒï¼Œ</p>
<p>ä½†æ˜¯ä½ è¦æ˜¯æœ‰å¤§é‡çš„å‡½æ•°éœ€è¦å›è°ƒå‘¢ï¼Ÿæ­¤æ—¶ä½ ä¼šå‘ç°è™½ç„¶ä»£ç ä¾ç„¶å¯ä»¥è¿è¡Œï¼Œä¸”æŒ‰ç…§äº†ä½ é¢„æƒ³çš„é¡ºåºæ‰§è¡Œï¼Œä½†æ˜¯ï¼Œä¸€æ—¦å‡ºç°äº†bugï¼Œä½ ä¾¿ä¼šå‘ç°ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯ä½ åªèƒ½åœ¨è¯¥å›è°ƒå‡½æ•°ä¸­ä¸€ä¸ªä¸€ä¸ªå¯»æ‰¾é”™è¯¯ç‚¹ï¼Œ<strong>ä½¿å¾—é¡¹ç›®ä»£ç éš¾ä»¥é˜…è¯»å’Œç»´æŠ¤</strong>ï¼Œ<strong>è®©äººååˆ†éš¾ä»¥è§£å†³è¯¥bug</strong>ï¼Œè¿™å°±æ˜¯å±å±±ä»£ç çš„æ ·å­</p>
<p>å¤§é‡å‡½æ•°ä»£ç çš„å›è°ƒå½¢æˆçš„ç»´æŠ¤å›°éš¾è¿™ä¸€æƒ…å†µï¼Œä¹Ÿç§°ä¹‹ä¸º<strong>å›è°ƒåœ°åŸŸ</strong>ï¼Œæˆ‘ä»¬åœ¨å¹³æ—¶è§£å†³å¼‚æ­¥é—®é¢˜æ—¶ï¼Œè¦é¿å…é€ æˆè¿™ç§æƒ…å†µ</p>
<h4 data-id="heading-5">ï¼ˆ2ï¼‰é€šè¿‡ä½¿ç”¨Promiseçš„é“¾å¼è°ƒç”¨ï¼Œè§£å†³å¼‚æ­¥é—®é¢˜</h4>
<p><strong>è™½ç„¶å‡½æ•°åµŒå¥—å›è°ƒè°ƒç”¨å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯å¸¦æ¥çš„ä»£ç éš¾ä»¥é˜…è¯»ä¸ç»´æŠ¤ï¼Œå¯»æ‰¾é”™è¯¯å›°éš¾çš„é—®é¢˜</strong>ä¹Ÿä¸æ˜¯æˆ‘ä»¬å¸Œæœ›èƒ½çœ‹è§çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æ­¤æ—¶åº”ç”¨<code>Promise</code>è¿™ä¸€å‡½æ•°æ¥è§£å†³å¼‚æ­¥çš„é—®é¢˜</p>
<h5 data-id="heading-6">Promiseçš„æ•‘èµ</h5>
<p>å½“ä½ ç¬¬ä¸€æ¬¡è§åˆ°Promiseï¼Œä½ æˆ–è®¸ä¼šæƒ³ï¼Œè¿™ä¸æ˜¯æ‰¿è¯ºçš„æ„æ€å—ï¼Ÿä»€ä¹ˆæ˜¯æ‰¿è¯ºï¼Ÿ</p>
<p>æˆ‘ä»¬ç»§ç»­é€šè¿‡ä»£ç æ¥ä½¿å¾—æ›´å¥½çš„ç†è§£</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">gohome</span>(<span class="hljs-params"/>){
 <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆåŠŸå›å®¶'</span>)
 
 },<span class="hljs-number">4000</span>)
     }
<span class="hljs-keyword">function</span>  showerï¼ˆï¼‰{
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ æ´—æ¾¡äº†'</span>)
    },<span class="hljs-number">1000</span>)

   }
<span class="hljs-keyword">function</span> gosleepï¼ˆï¼‰{
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ ä¸ŠåºŠä¼‘æ¯äº†'</span>)
    },<span class="hljs-number">2000</span>)

}

</code></pre>
<p>æ­¤æ—¶ç”±äºä¸‰ä¸ªå‡½æ•°å‡è¦æ¶ˆè€—æ—¶é—´ï¼Œä¸”æ ¹æ®æ‰€éœ€æ¶ˆè€—æ—¶é—´æ¥åˆ¤æ–­ï¼Œæ— è®ºä»€ä¹ˆé¡ºåºè°ƒç”¨å‡½æ•°ï¼Œéƒ½æ˜¯ä»¥showerï¼Œgosleepï¼Œgohomeçš„é¡ºåºæ‰§è¡Œçš„ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¾¿éœ€è¦ä½¿ç”¨Promiseå‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜äº†</p>
<h6 data-id="heading-7">è¡¨è¾¾å¼ä¸€</h6>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">gohome</span>() {
    return new <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {
        <span class="hljs-built_in">setTimeout</span>(() =&gt; {
            console<span class="hljs-selector-class">.log</span>('æˆåŠŸå›å®¶')
            <span class="hljs-built_in">resolve</span>()
        }, <span class="hljs-number">4000</span>)
           })
   
}

function <span class="hljs-built_in">shower</span>() {
 return new <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {
    <span class="hljs-built_in">setTimeout</span>(() =&gt; {
        console<span class="hljs-selector-class">.log</span>('ä½ æ´—æ¾¡äº†')
        <span class="hljs-built_in">resolve</span>()
    }, <span class="hljs-number">1000</span>)
  })
}
function <span class="hljs-built_in">gosleep</span>() {
    <span class="hljs-built_in">setTimeout</span>(() =&gt; {
        console<span class="hljs-selector-class">.log</span>('ä½ ä¸ŠåºŠä¼‘æ¯äº†')
    }, <span class="hljs-number">2000</span>)

}

<span class="hljs-built_in">gohome</span>()<span class="hljs-selector-class">.then</span>(() =&gt; {
    <span class="hljs-built_in">shower</span>()<span class="hljs-selector-class">.then</span>(() =&gt; {
     <span class="hljs-built_in">gosleep</span>()
    })
})

</code></pre>
<p><strong>è¿è¡Œä»¥ä¸Šä»£ç ï¼Œä½ å°±èƒ½å‘ç°ï¼Œé—®é¢˜è§£å†³ï¼Œä½¿å¾—å‡½æ•°æ„æˆäº†é“¾å¼çš„è°ƒç”¨ï¼Œä¸”ä½¿å¾—ä»£ç æ›´æ‰å¹³ï¼Œæ›´æ˜“ç®¡ç†</strong></p>
<blockquote>
<p>é™¤äº†ä¸Šé¢ä»£ç è¿™ç§æ–¹æ³•ï¼Œpromiseè¿˜æœ‰å¦ä¸€ç§ä½¿ç”¨æ–¹å¼ï¼Œèƒ½ä½¿ä»£ç æ›´ç®€æ´æ˜äº†ï¼Œæ›´åŠ ç›´è§‚</p>
</blockquote>
<h6 data-id="heading-8">è¡¨è¾¾å¼äºŒ</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">gohome</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆåŠŸå›å®¶'</span>)
            <span class="hljs-title function_">resolve</span>()
        }, <span class="hljs-number">4000</span>)
        })
   
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">shower</span>(<span class="hljs-params"/>) {
 <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ æ´—æ¾¡äº†'</span>)
        <span class="hljs-title function_">resolve</span>()
    }, <span class="hljs-number">1000</span>)
  })
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">gosleep</span>(<span class="hljs-params"/>) {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ ä¸ŠåºŠä¼‘æ¯äº†'</span>)
    }, <span class="hljs-number">2000</span>)

}

<span class="hljs-title function_">gohome</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">shower</span>()
})
.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span>{
    <span class="hljs-title function_">gosleep</span>()
})
</code></pre>
<h5 data-id="heading-9">è¯¦ç»†è¯´æ˜</h5>
<ol>
<li>
<p>ä½¿ç”¨äº†Promiseå‡½æ•°åï¼ŒåŸå‡½æ•°è·å¾—ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œåªæœ‰ç”±Promiseæ„é€ å‡ºçš„å®ä¾‹å¯¹è±¡åé¢æ‰èƒ½æ¥thenï¼ˆï¼‰</p>
</li>
<li>
<p>Promiseå‡½æ•°è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¼ å…¥çš„è¿™ä¸ªå‡½æ•°è¿˜éœ€è¦æ¥å—ä¸¤ä¸ªå‚æ•°ï¼ˆresolveï¼Œrejectï¼‰ï¼Œåˆ†åˆ«éœ€è¦å†Promiseå‡½æ•°ä¸­è°ƒç”¨ï¼Œç”¨äºè¡¨ç¤ºæˆåŠŸä¸å¤±è´¥è‹¥è¯»å–åˆ°æˆåŠŸï¼Œåˆ™ç«‹å³æ‰§è¡Œå…¶å®ä¾‹å¯¹è±¡æ‰€æ¥åˆ°çš„thenï¼ˆï¼‰å†…éƒ¨çš„å‡½æ•°ï¼Œè‹¥å¤±è´¥åˆ™ä¸æ‰§è¡Œ</p>
</li>
<li>
<p>thenï¼ˆï¼‰åªèƒ½è¢«ç”±Promiseå‡½æ•°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡è°ƒç”¨ï¼ŒåŸå› æ˜¯thenï¼ˆï¼‰å­˜æ”¾åœ¨Promiseï¼ˆï¼‰çš„æ˜¾ç¤ºåŸå‹ä¸Šï¼Œè€Œå…¶
å®ä¾‹å¯¹è±¡çš„éšå¼åŸå‹ç»§æ‰¿äº†å…¶æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹,thenï¼ˆï¼‰å†…éƒ¨è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå½“å…¶å¾—åˆ°Promiseï¼ˆï¼‰ä¸­resolveï¼ˆï¼‰è¢«æ‰§è¡Œçš„ä¿¡æ¯åï¼Œä¼šç«‹å³æ‰§è¡Œthenï¼ˆï¼‰å†…éƒ¨ä¼ å…¥çš„å‡½æ•°  ï¼ˆè‹¥å¯¹åŸå‹æœ‰ç–‘é—®ï¼Œå‚è€ƒå‰æ–‡<a href="https://juejin.cn/post/7579450578293604394" target="_blank" title="https://juejin.cn/post/7579450578293604394">æ·±å…¥æµ…å‡ºï¼šç†è§£jsçš„â€˜ä¸‡ç‰©çš†å¯¹è±¡â€™ä¸åŸå‹é“¾</a>)</p>
</li>
</ol>
<p>4.åœ¨è¡¨è¾¾å¼äºŒä¸­ï¼Œè¯¥è¡¨è¾¾æ–¹æ³•ä¸­çš„ç¬¬ä¸€ä¸ªthenï¼ˆï¼‰ä¼šé»˜è®¤ç»§æ‰¿ä¸ŠPromiseå†…è¯»å–åˆ°çš„resolveæˆ–reject</p>
<ol start="5">
<li>åœ¨.thenä¸­è¿”å›çš„å€¼ï¼ˆæ— è®ºæ˜¯æ™®é€šå€¼è¿˜æ˜¯æ–°çš„Promiseï¼‰ï¼Œéƒ½ä¼šæˆä¸ºä¸‹ä¸€ä¸ª.thenæ¥å—çš„å‚æ•°ï¼Œæ‰€ä»¥ä¸ºäº†åœ¨ä½¿ç”¨è¡¨è¾¾å¼äºŒä¸­ï¼Œé¿å…åç»­çš„thenå…¨éƒ¨é»˜è®¤æ¥å—åŒä¸€ä¸ªå‚æ•°ï¼Œè®°å¾—ä¸ºæ¯ä¸€ä¸ªthenæ·»åŠ ä¸€ä¸ªè¿”å›å€¼ï¼Œé¿å…å‡ºç°â€˜â€˜æ¼‚æµ®çš„Promiseâ€™â€™</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ UmiJS + Vue 3 é¡¹ç›®ä¸­å®ç° WebP å›¾ç‰‡è‡ªåŠ¨è½¬æ¢å’Œä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7580282751628509225</link>    <guid>https://juejin.cn/post/7580282751628509225</guid>    <pubDate>2025-12-06T15:25:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580282751628509225" data-draft-id="7580295137395015695" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ UmiJS + Vue 3 é¡¹ç›®ä¸­å®ç° WebP å›¾ç‰‡è‡ªåŠ¨è½¬æ¢å’Œä¼˜åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-06T15:25:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Composure"/> <meta itemprop="url" content="https://juejin.cn/user/3298190615127917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ UmiJS + Vue 3 é¡¹ç›®ä¸­å®ç° WebP å›¾ç‰‡è‡ªåŠ¨è½¬æ¢å’Œä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3298190615127917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Composure
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:25:31.000Z" title="Sat Dec 06 2025 15:25:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>WebP æ˜¯ä¸€ç§ç°ä»£å›¾ç‰‡æ ¼å¼ï¼Œç›¸æ¯”ä¼ ç»Ÿçš„ JPG/PNG æ ¼å¼ï¼Œé€šå¸¸å¯ä»¥å‡å°‘ 25-35% çš„æ–‡ä»¶å¤§å°ï¼ŒæŸäº›å›¾ç‰‡ç”šè‡³å¯ä»¥å‡å°‘ 80% ä»¥ä¸Šã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ UmiJS + Vue 3 é¡¹ç›®ä¸­å®ç° WebP å›¾ç‰‡çš„è‡ªåŠ¨è½¬æ¢å’Œæ™ºèƒ½åŠ è½½ã€‚</p>
<h2 data-id="heading-1">åŠŸèƒ½ç‰¹æ€§</h2>
<ul>
<li>âœ… <strong>æ„å»ºæ—¶è‡ªåŠ¨è½¬æ¢</strong>ï¼šæ„å»ºæ—¶è‡ªåŠ¨å°† JPG/PNG è½¬æ¢ä¸º WebP</li>
<li>âœ… <strong>æ™ºèƒ½æ ¼å¼é€‰æ‹©</strong>ï¼šè‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨æ”¯æŒï¼Œä¼˜å…ˆä½¿ç”¨ WebP</li>
<li>âœ… <strong>è‡ªåŠ¨å›é€€</strong>ï¼šä¸æ”¯æŒçš„æµè§ˆå™¨è‡ªåŠ¨ä½¿ç”¨åŸå§‹æ ¼å¼</li>
<li>âœ… <strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ç¼“å­˜é¿å…é‡å¤æ£€æµ‹å’Œé‡å¤åŠ è½½</li>
<li>âœ… <strong>é›¶é…ç½®ä½¿ç”¨</strong>ï¼šç»„ä»¶åŒ–å°è£…ï¼Œä½¿ç”¨ç®€å•</li>
</ul>
<h2 data-id="heading-2">å®ç°æ­¥éª¤</h2>
<h3 data-id="heading-3">1. å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D imagemin imagemin-webp
</code></pre>
<h3 data-id="heading-4">2. åˆ›å»ºå›¾ç‰‡è½¬æ¢è„šæœ¬</h3>
<p>åˆ›å»º <code>scripts/convert-images.mjs</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> imagemin <span class="hljs-keyword">from</span> <span class="hljs-string">"imagemin"</span>
<span class="hljs-keyword">import</span> imageminWebp <span class="hljs-keyword">from</span> <span class="hljs-string">"imagemin-webp"</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">"path"</span>
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">"fs"</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">"url"</span>

<span class="hljs-keyword">const</span> __filename = <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>)
<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(__filename)

<span class="hljs-comment">/**
 * å›¾ç‰‡è½¬ WebP è„šæœ¬
 * å°† src/assets ç›®å½•ä¸‹çš„ jpg/jpeg/png å›¾ç‰‡è½¬æ¢ä¸º webp æ ¼å¼
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">convertImages</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> assetsDir = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">"../src/assets"</span>)

  <span class="hljs-comment">// æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨</span>
  <span class="hljs-keyword">if</span> (!fs.<span class="hljs-title function_">existsSync</span>(assetsDir)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âš ï¸  assets ç›®å½•ä¸å­˜åœ¨ï¼Œè·³è¿‡å›¾ç‰‡è½¬æ¢"</span>)
    <span class="hljs-keyword">return</span>
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸ–¼ï¸  å¼€å§‹è½¬æ¢å›¾ç‰‡ä¸º WebP æ ¼å¼..."</span>)

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> files = <span class="hljs-keyword">await</span> <span class="hljs-title function_">imagemin</span>([<span class="hljs-string">`<span class="hljs-subst">${assetsDir}</span>/*.{jpg,jpeg,png}`</span>], {
      <span class="hljs-attr">destination</span>: assetsDir,
      <span class="hljs-attr">plugins</span>: [
        <span class="hljs-title function_">imageminWebp</span>({
          <span class="hljs-attr">quality</span>: <span class="hljs-number">80</span>, <span class="hljs-comment">// è´¨é‡ 0-100ï¼Œ80 æ˜¯è´¨é‡å’Œæ–‡ä»¶å¤§å°çš„è‰¯å¥½å¹³è¡¡</span>
          <span class="hljs-attr">method</span>: <span class="hljs-number">6</span>, <span class="hljs-comment">// å‹ç¼©æ–¹æ³• 0-6ï¼Œ6 æ˜¯æœ€æ…¢ä½†å‹ç¼©ç‡æœ€é«˜</span>
        }),
      ],
    })

    <span class="hljs-keyword">if</span> (files.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"â„¹ï¸  æ²¡æœ‰æ‰¾åˆ°éœ€è¦è½¬æ¢çš„å›¾ç‰‡"</span>)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… æˆåŠŸè½¬æ¢ <span class="hljs-subst">${files.length}</span> å¼ å›¾ç‰‡ä¸º WebP æ ¼å¼:`</span>)
      files.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> fileName = path.<span class="hljs-title function_">basename</span>(file.<span class="hljs-property">destinationPath</span>)
        <span class="hljs-keyword">const</span> originalSize = fs.<span class="hljs-title function_">statSync</span>(
          file.<span class="hljs-property">sourcePath</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\.webp$/</span>, path.<span class="hljs-title function_">extname</span>(file.<span class="hljs-property">sourcePath</span>))
        ).<span class="hljs-property">size</span>
        <span class="hljs-keyword">const</span> webpSize = fs.<span class="hljs-title function_">statSync</span>(file.<span class="hljs-property">destinationPath</span>).<span class="hljs-property">size</span>
        <span class="hljs-keyword">const</span> reduction = ((<span class="hljs-number">1</span> - webpSize / originalSize) * <span class="hljs-number">100</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">1</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`   - <span class="hljs-subst">${fileName}</span> (å‡å°‘ <span class="hljs-subst">${reduction}</span>%)`</span>)
      })
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"âŒ å›¾ç‰‡è½¬æ¢å¤±è´¥:"</span>, error.<span class="hljs-property">message</span>)
    process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>)
  }
}

<span class="hljs-comment">// æ‰§è¡Œè½¬æ¢</span>
<span class="hljs-title function_">convertImages</span>()
</code></pre>
<h3 data-id="heading-5">3. åˆ›å»ºå›¾ç‰‡å·¥å…·å‡½æ•°</h3>
<p>åˆ›å»º <code>src/utils/image.ts</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * å›¾ç‰‡å·¥å…·å‡½æ•° - æ”¯æŒ WebP æ ¼å¼
 */</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">WEBP_SUPPORT_CACHE_KEY</span> = <span class="hljs-string">"__webp_support__"</span>

<span class="hljs-comment">/**
 * æ£€æµ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ WebP æ ¼å¼ï¼ˆå¸¦ç¼“å­˜ï¼‰
 * ä½¿ç”¨ localStorage ç¼“å­˜æ£€æµ‹ç»“æœï¼Œé¿å…é‡å¤æ£€æµ‹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkWebPSupport</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {
  <span class="hljs-comment">// å…ˆæ£€æŸ¥ç¼“å­˜</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">"undefined"</span> &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>) {
    <span class="hljs-keyword">const</span> cached = <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">WEBP_SUPPORT_CACHE_KEY</span>)
    <span class="hljs-keyword">if</span> (cached !== <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(cached === <span class="hljs-string">"true"</span>)
    }
  }

  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ç¼“å­˜ï¼Œè¿›è¡Œæ£€æµ‹</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> webP = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>()
    webP.<span class="hljs-property">onload</span> = webP.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> supported = webP.<span class="hljs-property">height</span> === <span class="hljs-number">2</span>
      <span class="hljs-comment">// ç¼“å­˜ç»“æœ</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">"undefined"</span> &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>) {
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">WEBP_SUPPORT_CACHE_KEY</span>, <span class="hljs-title class_">String</span>(supported))
      }
      <span class="hljs-title function_">resolve</span>(supported)
    }
    webP.<span class="hljs-property">src</span> =
      <span class="hljs-string">"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"</span>
  })
}

<span class="hljs-comment">/**
 * åŒæ­¥è·å– WebP æ”¯æŒçŠ¶æ€ï¼ˆä»ç¼“å­˜ï¼‰
 * å¦‚æœç¼“å­˜ä¸å­˜åœ¨ï¼Œé»˜è®¤è¿”å› trueï¼ˆç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒï¼‰
 * è¿™æ ·å¯ä»¥é¿å…åˆå§‹åŠ è½½é WebP èµ„æº
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getWebPSupportSync</span>(<span class="hljs-params"/>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">"undefined"</span> || !<span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>) {
    <span class="hljs-comment">// SSR ç¯å¢ƒï¼Œé»˜è®¤è¿”å› true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  }

  <span class="hljs-keyword">const</span> cached = <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">WEBP_SUPPORT_CACHE_KEY</span>)
  <span class="hljs-keyword">if</span> (cached !== <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> cached === <span class="hljs-string">"true"</span>
  }

  <span class="hljs-comment">// æ²¡æœ‰ç¼“å­˜æ—¶ï¼Œé»˜è®¤å‡è®¾æ”¯æŒï¼ˆç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ WebPï¼‰</span>
  <span class="hljs-comment">// å¦‚æœå®é™…ä¸æ”¯æŒï¼Œåç»­æ£€æµ‹ä¼šæ›´æ–°ç¼“å­˜ï¼Œä¸‹æ¬¡å°±ä¼šä½¿ç”¨æ­£ç¡®çš„å€¼</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}

<span class="hljs-comment">/**
 * å°†å›¾ç‰‡ URL è½¬æ¢ä¸º WebP æ ¼å¼
 * æ”¯æŒå¤šç§è½¬æ¢æ–¹å¼ï¼š
 * 1. å†…ç½®å›¾ç‰‡ï¼šç›´æ¥æ›¿æ¢æ‰©å±•å
 * 2. åœ¨çº¿å›¾ç‰‡ï¼šä½¿ç”¨å›¾ç‰‡ä»£ç†æœåŠ¡æˆ– CDN è½¬æ¢
 *
 * <span class="hljs-doctag">@param</span> url åŸå§‹å›¾ç‰‡ URL
 * <span class="hljs-doctag">@param</span> options è½¬æ¢é€‰é¡¹
 * <span class="hljs-doctag">@returns</span> WebP æ ¼å¼çš„ URL
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">convertToWebP</span>(<span class="hljs-params">
  url: <span class="hljs-built_in">string</span>,
  options: {
    // æ˜¯å¦å¼ºåˆ¶ä½¿ç”¨ WebPï¼ˆå³ä½¿æµè§ˆå™¨ä¸æ”¯æŒï¼‰
    force?: <span class="hljs-built_in">boolean</span>
    // å›¾ç‰‡ä»£ç†æœåŠ¡ URLï¼ˆç”¨äºåœ¨çº¿å›¾ç‰‡è½¬æ¢ï¼‰
    proxyUrl?: <span class="hljs-built_in">string</span>
    // CDN è½¬æ¢å‚æ•°ï¼ˆå¦‚è…¾è®¯äº‘ã€é˜¿é‡Œäº‘ç­‰ï¼‰
    cdnParams?: <span class="hljs-built_in">string</span>
  } = {}
</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">const</span> { force = <span class="hljs-literal">false</span>, proxyUrl, cdnParams } = options

  <span class="hljs-comment">// å¦‚æœæ˜¯ data URLï¼Œç›´æ¥è¿”å›</span>
  <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"data:"</span>)) {
    <span class="hljs-keyword">return</span> url
  }

  <span class="hljs-comment">// å¦‚æœæ˜¯å†…ç½®å›¾ç‰‡ï¼ˆç›¸å¯¹è·¯å¾„æˆ– umi å¤„ç†åçš„è·¯å¾„ï¼‰ï¼Œæ›¿æ¢æ‰©å±•å</span>
  <span class="hljs-comment">// æ”¯æŒ umi å¤„ç†åçš„è·¯å¾„æ ¼å¼ï¼š/static/yay.7d162f31.jpg -&gt; /static/yay.7d162f31.webp</span>
  <span class="hljs-keyword">if</span> (
    url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"./"</span>) ||
    url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"../"</span>) ||
    (!url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"http"</span>) &amp;&amp; !url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"data:"</span>))
  ) {
    <span class="hljs-comment">// åŒ¹é… .jpg, .jpeg, .png æ‰©å±•åï¼ˆå¯èƒ½åŒ…å« hashï¼‰</span>
    <span class="hljs-keyword">return</span> url.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\.(jpg|jpeg|png)(\?.*)?$/i</span>, <span class="hljs-string">".webp$2"</span>)
  }

  <span class="hljs-comment">// åœ¨çº¿å›¾ç‰‡å¤„ç†</span>
  <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"http://"</span>) || url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">"https://"</span>)) {
    <span class="hljs-comment">// æ–¹å¼1: ä½¿ç”¨å›¾ç‰‡ä»£ç†æœåŠ¡</span>
    <span class="hljs-keyword">if</span> (proxyUrl) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${proxyUrl}</span>?url=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(url)}</span>&amp;format=webp`</span>
    }

    <span class="hljs-comment">// æ–¹å¼2: ä½¿ç”¨ CDN å‚æ•°è½¬æ¢ï¼ˆå¦‚è…¾è®¯äº‘ã€é˜¿é‡Œäº‘ç­‰ï¼‰</span>
    <span class="hljs-keyword">if</span> (cdnParams) {
      <span class="hljs-keyword">const</span> separator = url.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"?"</span>) ? <span class="hljs-string">"&amp;"</span> : <span class="hljs-string">"?"</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${url}</span><span class="hljs-subst">${separator}</span><span class="hljs-subst">${cdnParams}</span>`</span>
    }

    <span class="hljs-comment">// æ–¹å¼3: ä½¿ç”¨åœ¨çº¿å›¾ç‰‡è½¬æ¢æœåŠ¡ï¼ˆå¦‚ Cloudinaryã€ImageKit ç­‰ï¼‰</span>
    <span class="hljs-comment">// è¿™é‡Œæä¾›ä¸€ä¸ªç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ ¹æ®æœåŠ¡å•†è°ƒæ•´</span>
    <span class="hljs-comment">// return `https://your-image-service.com/convert?url=${encodeURIComponent(url)}&amp;format=webp`;</span>

    <span class="hljs-comment">// æ–¹å¼4: ç®€å•æ›¿æ¢æ‰©å±•åï¼ˆå¦‚æœæœåŠ¡å™¨æ”¯æŒï¼‰</span>
    <span class="hljs-keyword">return</span> url.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\.(jpg|jpeg|png)(\?.*)?$/i</span>, <span class="hljs-string">".webp$2"</span>)
  }

  <span class="hljs-keyword">return</span> url
}

<span class="hljs-comment">/**
 * è·å–å›¾ç‰‡çš„æœ€ä½³æ ¼å¼ URL
 * å¦‚æœæµè§ˆå™¨æ”¯æŒ WebPï¼Œè¿”å› WebP æ ¼å¼ï¼›å¦åˆ™è¿”å›åŸå§‹æ ¼å¼
 *
 * <span class="hljs-doctag">@param</span> originalUrl åŸå§‹å›¾ç‰‡ URL
 * <span class="hljs-doctag">@param</span> webpUrl WebP æ ¼å¼çš„ URLï¼ˆå¯é€‰ï¼Œå¦‚æœä¸æä¾›åˆ™è‡ªåŠ¨ç”Ÿæˆï¼‰
 * <span class="hljs-doctag">@param</span> webpSupported æµè§ˆå™¨æ˜¯å¦æ”¯æŒ WebPï¼ˆå¯é€‰ï¼Œå¦‚æœä¸æä¾›åˆ™è‡ªåŠ¨æ£€æµ‹ï¼‰
 * <span class="hljs-doctag">@returns</span> æœ€ä½³æ ¼å¼çš„ URL
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBestImageUrl</span>(<span class="hljs-params">
  originalUrl: <span class="hljs-built_in">string</span>,
  webpUrl?: <span class="hljs-built_in">string</span>,
  webpSupported?: <span class="hljs-built_in">boolean</span>
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; {
  <span class="hljs-keyword">const</span> isSupported =
    webpSupported !== <span class="hljs-literal">undefined</span> ? webpSupported : <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkWebPSupport</span>()

  <span class="hljs-keyword">if</span> (isSupported) {
    <span class="hljs-keyword">return</span> webpUrl || <span class="hljs-title function_">convertToWebP</span>(originalUrl)
  }

  <span class="hljs-keyword">return</span> originalUrl
}

<span class="hljs-comment">/**
 * é¢„åŠ è½½å›¾ç‰‡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">preloadImage</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>()
    img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>()
    img.<span class="hljs-property">onerror</span> = reject
    img.<span class="hljs-property">src</span> = url
  })
}
</code></pre>
<h3 data-id="heading-6">4. åˆ›å»º WebP å›¾ç‰‡ç»„ä»¶</h3>
<p>åˆ›å»º <code>src/components/WebPImage.vue</code>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;picture&gt;
    &lt;!-- å¦‚æœæ”¯æŒ WebPï¼Œä¼˜å…ˆä½¿ç”¨ WebP --&gt;
    &lt;source
      v-if="webpSupported &amp;&amp; webpSrc"
      :srcset="webpSrc"
      type="image/webp"
    /&gt;
    &lt;!-- å›é€€åˆ°åŸå§‹æ ¼å¼ --&gt;
    &lt;img
      :src="fallbackSrc"
      :alt="alt"
      :width="width"
      :height="height"
      :class="imgClass"
      :style="imgStyle"
      :loading="loading"
      @load="handleLoad"
      @error="handleError"
    /&gt;
  &lt;/picture&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref, computed, onMounted } from "vue"
import {
  checkWebPSupport,
  getWebPSupportSync,
  convertToWebP,
} from "../utils/image"

interface Props {
  // åŸå§‹å›¾ç‰‡ URLï¼ˆå¿…éœ€ï¼‰
  src: string
  // WebP æ ¼å¼çš„ URLï¼ˆå¯é€‰ï¼Œå¦‚æœä¸æä¾›åˆ™è‡ªåŠ¨ç”Ÿæˆï¼‰
  webpSrc?: string
  // å›¾ç‰‡æè¿°
  alt?: string
  // å›¾ç‰‡å®½åº¦
  width?: string | number
  // å›¾ç‰‡é«˜åº¦
  height?: string | number
  // CSS ç±»å
  imgClass?: string
  // å†…è”æ ·å¼
  imgStyle?: string | Record&lt;string, any&gt;
  // æ‡’åŠ è½½
  loading?: "lazy" | "eager"
  // å›¾ç‰‡ä»£ç†æœåŠ¡ URLï¼ˆç”¨äºåœ¨çº¿å›¾ç‰‡è½¬æ¢ï¼‰
  proxyUrl?: string
  // CDN è½¬æ¢å‚æ•°
  cdnParams?: string
}

const props = withDefaults(defineProps&lt;Props&gt;(), {
  alt: "",
  loading: "lazy",
})

const emit = defineEmits&lt;{
  load: [event: Event]
  error: [event: Event]
}&gt;()

// ä½¿ç”¨åŒæ­¥æ–¹æ³•è·å–åˆå§‹å€¼ï¼Œé¿å…åˆå§‹åŠ è½½é WebP èµ„æº
// å¦‚æœç¼“å­˜ä¸å­˜åœ¨ï¼Œé»˜è®¤å‡è®¾æ”¯æŒï¼ˆç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒï¼‰
// åç»­å¼‚æ­¥æ£€æµ‹ä¼šæ›´æ–°è¿™ä¸ªå€¼
const webpSupported = ref(getWebPSupportSync())

// è®¡ç®— WebP æ ¼å¼çš„ URL
const webpSrc = computed(() =&gt; {
  // å¦‚æœæ˜ç¡®æä¾›äº† webpSrcï¼Œç›´æ¥ä½¿ç”¨
  if (props.webpSrc) {
    return props.webpSrc
  }

  // å¯¹äºåœ¨çº¿å›¾ç‰‡ï¼Œåªæœ‰åœ¨æä¾›äº†è½¬æ¢æ–¹å¼æ—¶æ‰ç”Ÿæˆ WebP URL
  const isOnlineImage =
    props.src.startsWith("http://") || props.src.startsWith("https://")
  if (isOnlineImage) {
    if (!props.proxyUrl &amp;&amp; !props.cdnParams) {
      // å¦‚æœæ²¡æœ‰æä¾›è½¬æ¢æ–¹å¼ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨åŸå§‹æ ¼å¼
      return ""
    }
    // æœ‰è½¬æ¢æ–¹å¼ï¼Œç”Ÿæˆ WebP URL
    return convertToWebP(props.src, {
      proxyUrl: props.proxyUrl,
      cdnParams: props.cdnParams,
    })
  }

  // å¯¹äºå†…ç½®å›¾ç‰‡ï¼ˆé€šè¿‡ import å¯¼å…¥çš„ï¼‰ï¼Œè‡ªåŠ¨å°è¯•ä½¿ç”¨ WebP ç‰ˆæœ¬
  // æ„å»ºè„šæœ¬ä¼šåœ¨åŒç›®å½•ä¸‹ç”Ÿæˆ .webp æ–‡ä»¶ï¼Œé€šè¿‡æ›¿æ¢æ‰©å±•åæ¥å¼•ç”¨
  // å¦‚æœ webp æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å›é€€åˆ°åŸå§‹å›¾ç‰‡
  return convertToWebP(props.src, {})
})

// å›é€€åˆ°åŸå§‹æ ¼å¼
const fallbackSrc = computed(() =&gt; props.src)

// åœ¨åå°å¼‚æ­¥æ£€æµ‹ WebP æ”¯æŒï¼ˆå¦‚æœç¼“å­˜ä¸å­˜åœ¨ï¼‰
// è¿™æ ·å¯ä»¥æ›´æ–°ç¼“å­˜ï¼Œä½†ä¸å½±å“åˆå§‹æ¸²æŸ“
onMounted(async () =&gt; {
  // å¦‚æœå·²ç»æœ‰ç¼“å­˜ï¼Œå°±ä¸éœ€è¦å†æ¬¡æ£€æµ‹
  if (typeof window !== "undefined" &amp;&amp; window.localStorage) {
    const cached = window.localStorage.getItem("__webp_support__")
    if (cached === null) {
      // æ²¡æœ‰ç¼“å­˜ï¼Œè¿›è¡Œæ£€æµ‹å¹¶æ›´æ–°
      const supported = await checkWebPSupport()
      // å¦‚æœæ£€æµ‹ç»“æœä¸åˆå§‹å‡è®¾ä¸åŒï¼Œæ›´æ–°çŠ¶æ€
      // ä½†æ­¤æ—¶å›¾ç‰‡å¯èƒ½å·²ç»åŠ è½½ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨ &lt;picture&gt; æ ‡ç­¾è‡ªåŠ¨é€‰æ‹©
      if (supported !== webpSupported.value) {
        webpSupported.value = supported
      }
    }
  } else {
    // æ²¡æœ‰ localStorageï¼Œç›´æ¥æ£€æµ‹
    webpSupported.value = await checkWebPSupport()
  }
})

const handleLoad = (event: Event) =&gt; {
  emit("load", event)
}

const handleError = (event: Event) =&gt; {
  emit("error", event)
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-7">5. é…ç½® TypeScript ç±»å‹å£°æ˜</h3>
<p>åˆ›å»º <code>src/types/images.d.ts</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * å›¾ç‰‡æ–‡ä»¶ç±»å‹å£°æ˜
 */</span>
<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.jpg"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.jpeg"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.png"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.gif"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.webp"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.svg"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.ico"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"*.bmp"</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content
}
</code></pre>
<h3 data-id="heading-8">6. é…ç½® UmiJS</h3>
<p>æ›´æ–° <code>.umirc.ts</code>ï¼Œæ·»åŠ  WebP æ–‡ä»¶æ”¯æŒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">"umi"</span>
<span class="hljs-keyword">import</span> { routes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./src/router/index"</span>

<span class="hljs-keyword">const</span> isPrd = process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"production"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">npmClient</span>: <span class="hljs-string">"pnpm"</span>,
  <span class="hljs-attr">presets</span>: [<span class="hljs-built_in">require</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">"@umijs/preset-vue"</span>)],
  <span class="hljs-attr">manifest</span>: {
    <span class="hljs-attr">fileName</span>: <span class="hljs-string">"manifest.json"</span>,
  },
  <span class="hljs-comment">// å¼€å‘ç¯å¢ƒ vite ï¼Œçº¿ä¸Šç¯å¢ƒ webpack æ‰“åŒ…</span>
  <span class="hljs-attr">vite</span>: isPrd ? <span class="hljs-literal">false</span> : {},
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">config, { webpack }</span>) {
    <span class="hljs-comment">// é…ç½® webp æ–‡ä»¶æ”¯æŒï¼ˆä¸ jpg/png ä¸€æ ·å¤„ç†ï¼‰</span>
    <span class="hljs-comment">// umi é»˜è®¤å·²ç»å¤„ç†å›¾ç‰‡ï¼Œä½†å¯èƒ½ä¸åŒ…å« webpï¼Œè¿™é‡Œç¡®ä¿ webp è¢«æ­£ç¡®å¤„ç†</span>
    <span class="hljs-comment">// ä½¿ç”¨ asset/resource ç±»å‹ï¼Œè®© webpack å°† webp æ–‡ä»¶ä½œä¸ºé™æ€èµ„æºå¤„ç†</span>
    <span class="hljs-keyword">if</span> (!config.<span class="hljs-property">module</span>.<span class="hljs-property">rules</span>.<span class="hljs-title function_">has</span>(<span class="hljs-string">"webp"</span>)) {
      config.<span class="hljs-property">module</span>
        .<span class="hljs-title function_">rule</span>(<span class="hljs-string">"webp"</span>)
        .<span class="hljs-title function_">test</span>(<span class="hljs-regexp">/\.webp$/</span>)
        .<span class="hljs-title function_">type</span>(<span class="hljs-string">"asset/resource"</span>)
        .<span class="hljs-title function_">generator</span>({
          <span class="hljs-attr">filename</span>: <span class="hljs-string">"static/[name].[hash:8][ext]"</span>,
        })
    }

    config.<span class="hljs-property">optimization</span>.<span class="hljs-title function_">runtimeChunk</span>(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">return</span> config
  },
  <span class="hljs-attr">codeSplitting</span>: {
    <span class="hljs-attr">jsStrategy</span>: <span class="hljs-string">"depPerChunk"</span>,
  },
  <span class="hljs-attr">hash</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">history</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">"hash"</span> },
  routes,
})
</code></pre>
<h3 data-id="heading-9">7. æ›´æ–° package.json</h3>
<p>åœ¨ <code>package.json</code> ä¸­æ·»åŠ æ„å»ºè„šæœ¬ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"umi dev"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm build:images &amp;&amp; umi build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build:prd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm build:images &amp;&amp; UMI_ENV=prd umi build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build:images"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node scripts/convert-images.mjs"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"postinstall"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"umi setup"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm run dev"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"umi preview"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"analyze"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ANALYZE=1 umi build"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-10">ä½¿ç”¨æ–¹æ³•</h2>
<h3 data-id="heading-11">åŸºæœ¬ä½¿ç”¨</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup lang="ts"&gt;
import WebPImage from "../components/WebPImage.vue"
import yayImage from "../assets/yay.jpg"
import yayWebpImage from "../assets/yay.webp"
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;!-- æ–¹å¼1: è‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨ WebP --&gt;
    &lt;WebPImage :src="yayImage" width="388" alt="å›¾ç‰‡" /&gt;

    &lt;!-- æ–¹å¼2: æ‰‹åŠ¨æŒ‡å®š WebP æ–‡ä»¶ --&gt;
    &lt;WebPImage
      :src="yayImage"
      :webp-src="yayWebpImage"
      width="388"
      alt="å›¾ç‰‡"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-12">åœ¨çº¿å›¾ç‰‡ï¼ˆä½¿ç”¨ CDN è½¬æ¢ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- é˜¿é‡Œäº‘ OSS --&gt;
  &lt;WebPImage
    src="https://your-bucket.oss-cn-hangzhou.aliyuncs.com/image.jpg"
    cdn-params="x-oss-process=image/format,webp"
    width="500"
    alt="CDN å›¾ç‰‡"
  /&gt;

  &lt;!-- è…¾è®¯äº‘ COS --&gt;
  &lt;WebPImage
    src="https://your-bucket.cos.ap-shanghai.myqcloud.com/image.jpg"
    cdn-params="imageMogr2/format/webp"
    width="500"
    alt="CDN å›¾ç‰‡"
  /&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-13">åœ¨çº¿å›¾ç‰‡ï¼ˆä½¿ç”¨ä»£ç†æœåŠ¡ï¼‰</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup lang="ts"&gt;
const proxyUrl = "https://your-image-proxy.com/convert"
&lt;/script&gt;

&lt;template&gt;
  &lt;WebPImage
    src="https://example.com/image.jpg"
    :proxy-url="proxyUrl"
    width="500"
    alt="åœ¨çº¿å›¾ç‰‡"
  /&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-14">å·¥ä½œåŸç†</h2>
<h3 data-id="heading-15">1. æ„å»ºæ—¶è½¬æ¢</h3>
<ul>
<li>è¿è¡Œ <code>pnpm build</code> æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œ <code>build:images</code> è„šæœ¬</li>
<li>è„šæœ¬æ‰«æ <code>src/assets</code> ç›®å½•ä¸‹çš„æ‰€æœ‰ JPG/PNG å›¾ç‰‡</li>
<li>ä½¿ç”¨ <code>imagemin-webp</code> è½¬æ¢ä¸º WebP æ ¼å¼</li>
<li>è½¬æ¢åçš„æ–‡ä»¶ä¿å­˜åœ¨åŒä¸€ç›®å½•</li>
</ul>
<h3 data-id="heading-16">2. è¿è¡Œæ—¶åŠ è½½</h3>
<ul>
<li>ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œä½¿ç”¨ <code>getWebPSupportSync()</code> åŒæ­¥è·å– WebP æ”¯æŒçŠ¶æ€</li>
<li>å¦‚æœç¼“å­˜ä¸å­˜åœ¨ï¼Œé»˜è®¤å‡è®¾æ”¯æŒï¼ˆé¿å…é‡å¤åŠ è½½ï¼‰</li>
<li>ä½¿ç”¨ <code>&lt;picture&gt;</code> æ ‡ç­¾ï¼Œæµè§ˆå™¨è‡ªåŠ¨é€‰æ‹©æœ€ä½³æ ¼å¼</li>
<li>åå°å¼‚æ­¥æ£€æµ‹ï¼Œæ›´æ–°ç¼“å­˜ä¾›ä¸‹æ¬¡ä½¿ç”¨</li>
</ul>
<h3 data-id="heading-17">3. æ€§èƒ½ä¼˜åŒ–</h3>
<ul>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šä½¿ç”¨ <code>localStorage</code> ç¼“å­˜æ£€æµ‹ç»“æœ</li>
<li><strong>é¿å…é‡å¤åŠ è½½</strong>ï¼šåˆå§‹å€¼ä½¿ç”¨åŒæ­¥æ–¹æ³•è·å–ï¼Œé¿å…å…ˆåŠ è½½åŸå§‹å›¾ç‰‡å†åŠ è½½ WebP</li>
<li><strong>æ™ºèƒ½å›é€€</strong>ï¼šä½¿ç”¨ <code>&lt;picture&gt;</code> æ ‡ç­¾ï¼Œæµè§ˆå™¨è‡ªåŠ¨å¤„ç†å›é€€</li>
</ul>
<h2 data-id="heading-18">æ•ˆæœå¯¹æ¯”</h2>
<p>æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œ<code>yay.jpg</code> (177KB) è½¬æ¢ä¸º <code>yay.webp</code> (23KB) åï¼Œæ–‡ä»¶å¤§å°å‡å°‘äº† <strong>87.0%</strong>ï¼</p>
<h2 data-id="heading-19">æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>å¼€å‘ç¯å¢ƒ</strong>ï¼šå¼€å‘æ—¶ä¸ä¼šè‡ªåŠ¨è½¬æ¢ï¼Œéœ€è¦æ‰‹åŠ¨è¿è¡Œ <code>pnpm build:images</code></li>
<li><strong>Git ç®¡ç†</strong>ï¼šå»ºè®®å°† <code>.webp</code> æ–‡ä»¶æ·»åŠ åˆ° <code>.gitignore</code>ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥é€šè¿‡æ„å»ºè„šæœ¬è‡ªåŠ¨ç”Ÿæˆ</li>
<li><strong>è´¨é‡è°ƒæ•´</strong>ï¼šå¯åœ¨ <code>scripts/convert-images.mjs</code> ä¸­è°ƒæ•´è´¨é‡å‚æ•°ï¼ˆé»˜è®¤ 80ï¼‰</li>
<li><strong>æµè§ˆå™¨å…¼å®¹æ€§</strong>ï¼šç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ WebPï¼Œç»„ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å›é€€</li>
</ol>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>é€šè¿‡ä»¥ä¸Šé…ç½®ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ul>
<li>âœ… æ„å»ºæ—¶è‡ªåŠ¨è½¬æ¢å›¾ç‰‡ä¸º WebP</li>
<li>âœ… æ™ºèƒ½æ ¼å¼é€‰æ‹©å’Œè‡ªåŠ¨å›é€€</li>
<li>âœ… æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…é‡å¤åŠ è½½</li>
<li>âœ… ç»„ä»¶åŒ–å°è£…ï¼Œä½¿ç”¨ç®€å•</li>
</ul>
<p>è¿™å¥—æ–¹æ¡ˆå¯ä»¥æ˜¾è‘—æå‡é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œç‰¹åˆ«æ˜¯åœ¨å›¾ç‰‡è¾ƒå¤šçš„åœºæ™¯ä¸‹æ•ˆæœæ˜æ˜¾ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JSON è½¬ BPMN å®æˆ˜ï¼šå¦‚ä½•ç”¨ Flowable æŠŠå‰ç«¯æµç¨‹å›¾JSONè½¬æˆ XMLï¼ˆé™„å®Œæ•´ä»£ç ï¼‰]]></title>    <link>https://juejin.cn/post/7580312375372136488</link>    <guid>https://juejin.cn/post/7580312375372136488</guid>    <pubDate>2025-12-06T15:36:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580312375372136488" data-draft-id="7580285196693291008" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JSON è½¬ BPMN å®æˆ˜ï¼šå¦‚ä½•ç”¨ Flowable æŠŠå‰ç«¯æµç¨‹å›¾JSONè½¬æˆ XMLï¼ˆé™„å®Œæ•´ä»£ç ï¼‰"/> <meta itemprop="keywords" content="å·¥ä½œæµå¼•æ“"/> <meta itemprop="datePublished" content="2025-12-06T15:36:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jay672"/> <meta itemprop="url" content="https://juejin.cn/user/4091709122949404"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JSON è½¬ BPMN å®æˆ˜ï¼šå¦‚ä½•ç”¨ Flowable æŠŠå‰ç«¯æµç¨‹å›¾JSONè½¬æˆ XMLï¼ˆé™„å®Œæ•´ä»£ç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4091709122949404/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jay672
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:36:32.000Z" title="Sat Dec 06 2025 15:36:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ­¥éª¤æ¦‚è§ˆï¼š</strong></p>
<ol>
<li>å‡†å¤‡ JSON æ•°æ®ç»“æ„</li>
<li>å®šä¹‰ Node æŠ½è±¡ç±»åŠå­ç±»</li>
<li>ä½¿ç”¨ Jackson å¤šæ€è§£æ JSON</li>
<li>å®ç° convert() æ–¹æ³•ç”Ÿæˆ FlowElement</li>
<li>æ„å»º SequenceFlow è¿æ¥èŠ‚ç‚¹</li>
<li>å¯¼å‡º .bpmn20.xml æ–‡ä»¶</li>
</ol>
</blockquote>
<p>å¼€å‘Flowableå®æˆ˜é¡¹ç›®æ—¶ï¼Œéœ€è¦ç”¨åˆ°å·¥ä½œæµçš„å‰ç«¯ç»˜åˆ¶é¡µé¢ï¼Œè€Œè¯¥é¡µé¢è½¬æ¢ä¿å­˜çš„æ•°æ®ä¸ºJsonæ ¼å¼ï¼Œåœ¨Flowableç­‰å·¥ä½œæµå¼•æ“ä¸­å‡ä½¿ç”¨Bpmnæ–‡ä»¶ï¼Œå…¶åç¼€ä¸º<code>.bpmn20.xml</code> æˆ–<code>.bpmn.xml</code> ã€‚é€šè¿‡åç¼€å¯ä»¥çœ‹å‡ºè¯¥æ–‡ä»¶ä¸ºxmlæ–‡æ¡£æ–‡ä»¶ï¼Œç”±æ­¤å®˜æ–¹æä¾›äº†<code>flowable-bpmn-converter</code>çš„Mavenä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥ä¾èµ–å®ç°Jsonè½¬xmlï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.flowable<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>flowable-bpmn-converter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>å‡†å¤‡å·¥ä½œå·²å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯å‡†å¤‡è½¬æ¢çš„Modelï¼Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯å°†Jsonæ˜ å°„åˆ°ä¸åŒçš„ç±»ä¸­ï¼Œå¯¹åº”å¥½ç›¸å…³çš„ç»§æ‰¿å…³ç³»ï¼Œæœ€åä½¿ç”¨ä¾èµ–ä¸­çš„è½¬æ¢å®Œæˆæ–‡ä»¶çš„å¯¼å‡ºã€‚</p>
<blockquote>
<p>æ³¨ï¼šæœ¬æ–‡ä¸­â€œèŠ‚ç‚¹â€æŒ‡ JSON ä¸­çš„æµç¨‹èŠ‚ç‚¹ï¼Œâ€œFlowElementâ€æŒ‡ Flowable ä¸­çš„ BPMN å…ƒç´ ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å‡†å¤‡å·¥ä½œ</h2>
<hr/>
<h3 data-id="heading-1">1.1 æŠ½è±¡ç±»Node</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰å…ˆè¦ç†æ¸…æ¥šæ¯ä¸€ä¸ªå·¥ä½œæµçš„èŠ‚ç‚¹ä»¥åŠä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼Œéœ€è¦æŠ½è±¡å‡ºæ¥ä¸€ä¸ªæœ€å¼€å§‹çš„NodeèŠ‚ç‚¹ï¼ŒNodeä¸å…¶ç»§æ‰¿ç±»çš„å…³ç³»å¤§è‡´é•¿è¿™ä¸ªæ ·å­ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4046fe6635ce47d5bc95e030e71df2d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF5Njcy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765640192&amp;x-signature=aLhmR%2BQHO6qcmbXByuZZbuPm0ts%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå­ç±»Nodeå‡æœ‰<code>èŠ‚ç‚¹id</code>ã€<code>çˆ¶èŠ‚ç‚¹id</code>ã€<code>èŠ‚ç‚¹åç§°</code>ç­‰ç­‰å…±åŒç‚¹ï¼Œå› æ­¤å¯ä»¥æŠ½è±¡å‡ºæ¥ï¼Œå³ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> String id;          <span class="hljs-comment">// èŠ‚ç‚¹id</span>
<span class="hljs-keyword">private</span> String parentId;    <span class="hljs-comment">// çˆ¶èŠ‚ç‚¹id</span>
<span class="hljs-keyword">private</span> String name;        <span class="hljs-comment">// èŠ‚ç‚¹åç§°</span>
<span class="hljs-keyword">private</span> String type;        <span class="hljs-comment">// èŠ‚ç‚¹ç±»å‹</span>
<span class="hljs-keyword">private</span> Node next;          <span class="hljs-comment">// å­èŠ‚ç‚¹</span>
<span class="hljs-keyword">private</span> JsonNode props;     <span class="hljs-comment">// å±æ€§é…ç½®</span>
<span class="hljs-meta">@JsonIgnore</span>
<span class="hljs-keyword">private</span> String branchId;    <span class="hljs-comment">// åˆ†æ”¯idï¼ˆè¾…åŠ©å±æ€§ï¼‰</span>
</code></pre>
<p>å› ä¸ºåç»­è¿˜æœ‰è½¬æ¢åŠ¨ä½œï¼Œè€Œæ¯ä¸€ä¸ªèŠ‚ç‚¹å‡éœ€è¦è¿›è¡Œè½¬æ¢ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ä¸€ä¸ª<code>convert()</code>çš„æŠ½è±¡æ–¹æ³•ï¼Œæ–¹ä¾¿åç»­è¿›è¡Œè½¬æ¢ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> List&lt;FlowElement&gt; <span class="hljs-title function_">convert</span><span class="hljs-params">()</span>;
</code></pre>
<h3 data-id="heading-2">1.2 Jacksonçš„å¤šæ€ç±»å‹</h3>
<p>ä¸ºäº†æ–¹ä¾¿åšè½¬æ¢ï¼Œè¿™é‡Œæˆ‘å‡†å¤‡äº†ä¸€æ®µJsonæ•°æ®ï¼Œè¯¥æ•°æ®æ˜¯ç”±<code>wflow-web-next</code> Vue3ç‰ˆæœ¬ç”Ÿæˆï¼Œç¨å¾®åšäº†ä¸€äº›å°è°ƒæ•´ï¼Œæ·»åŠ äº†nextå±æ€§ï¼Œå¹¶å°†å­èŠ‚ç‚¹åµŒå¥—å…¥äº†nextï¼Œåç»­ä½¿ç”¨é€’å½’è½¬æ¢ä¹Ÿå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼š</p>
<ul>
<li>
<p>ç®€å•çš„Jsonæµ‹è¯•æ•°æ®</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æœªå‘½åæµç¨‹"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"groupId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">222</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"process"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node_root"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Start"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å‘èµ·äºº"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"next"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node_17628242120246176"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Approval"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å®¡æ‰¹äºº"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node_root"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"next"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node_end"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"End"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æµç¨‹ç»“æŸ"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node_17628242120246176"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"USER"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"ruleType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ROOT_SELF"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"taskMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AND"</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"percentage"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"needSign"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"assignUser"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"rootSelect"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"multiple"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"leader"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"emptySkip"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"leaderTop"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"toEnd"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"emptySkip"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"assignDept"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"dept"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"LEADER"</span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"assignRole"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"noUserHandler"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TO_NEXT"</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"assigned"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"sameRoot"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TO_SELF"</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"assigned"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"enable"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"time"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"timeUnit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"M"</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TO_PASS"</span>
                <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"remark"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ul>
<p>Jsonæ•°æ®ä¸­åŒ…å«åµŒå¥—çš„èŠ‚ç‚¹ï¼Œè¿™æ ·å°±å¾ˆæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨Jacksonçš„å¤šæ€ç±»å‹æ¥è¿›è¡ŒåµŒå¥—çš„è½¬æ¢ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,include = JsonTypeInfo.As.PROPERTY,property = "type",defaultImpl = Node.class,visible = true)</span>
<span class="hljs-meta">@JsonSubTypes({
        @JsonSubTypes.Type(value = StartNode.class,name = "Start"),
        @JsonSubTypes.Type(value = ApprovalNode.class, name = "Approval"),
        @JsonSubTypes.Type(value = EndNode.class, name = "End")
})</span>
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œ@JsonTypeInfoç”¨æ¥ç¡®å®šæˆ‘ä»¬éœ€è¦è½¬æ¢çš„æ ‡è¯†ï¼Œå¦‚i<code>JsonTypeInfo.As.PROPERTY</code>ä»£è¡¨ä½¿ç”¨çš„æ˜¯å±æ€§çš„åç§°æ¥ç¡®å®šæˆ‘ä»¬éœ€è¦è½¬æ¢çš„ä¸åŒçš„ç±»å‹ï¼Œæ‰€ä»¥åœ¨@JsonSubTypesä¸­å¯ä»¥çœ‹åˆ°å­ç±»å‹çš„æ³¨é‡Šï¼Œå½“å±æ€§<code>type</code>çš„å€¼ä¸º<code>Start</code>æ—¶ï¼ŒæŒ‡å®šè½¬æ¢ä¸º<code>StartNode</code>ç±»çš„å®ä½“ï¼Œå½“æˆ‘ä»¬æœ‰æ›´å¤šä¸åŒçš„èŠ‚ç‚¹æ—¶ï¼Œå°±éœ€è¦åœ¨è¿™é‡Œæ·»åŠ è½¬æ¢çš„æ ‡è¯†äº†ã€‚</p>
<h2 data-id="heading-3">äºŒã€NodeèŠ‚ç‚¹</h2>
<hr/>
<p>åœ¨è½¬æ¢æ—¶éœ€è¦StartEventã€UserTaskã€EndEventè¿™ä¸‰ä¸ªå·¥ä½œæµèŠ‚ç‚¹ï¼Œç°åœ¨æˆ‘ä»¬æ¥åˆ›å»ºä»–ä»¬ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢çš„NodeèŠ‚ç‚¹å…³ç³»å›¾ä¸­çœ‹åˆ°ï¼ŒAssigneeNodeæœ‰å¤šä¸ªå­èŠ‚ç‚¹ï¼Œè¿™æ˜¯å› ä¸ºç”¨æˆ·ä»»åŠ¡å¯ä»¥åœ¨è¿™ä¸ªåŸºç¡€ä¸Šåˆ†æ”¯å‡º<code>Approvalç±»å‹</code>å’Œ<code>æŠ„é€ç±»å‹</code> ï¼Œæœ‰å¤šç§ä¸åŒçš„ç”¨æˆ·æŒ‡æ´¾æ–¹å¼ï¼Œæ‰€ä»¥éœ€è¦å†æ¬¡æŠ½è±¡å‡ºä¸€ä¸ªç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@EqualsAndHashCode(callSuper = true)</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AssigneeNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span> {
    <span class="hljs-comment">// å®¡æ‰¹å¯¹è±¡</span>
    <span class="hljs-keyword">private</span> AssigneeTypeEnum assigneeType;
    <span class="hljs-comment">// è¡¨å•å†…äººå‘˜</span>
    <span class="hljs-keyword">private</span> String formUser;
    <span class="hljs-comment">// è¡¨å•å†…è§’è‰²</span>
    <span class="hljs-keyword">private</span> String formRole;
    <span class="hljs-comment">// å®¡æ‰¹äºº</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; users;
    <span class="hljs-comment">// å®¡æ‰¹äººè§’è‰²</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; roles;
    <span class="hljs-comment">// ä¸»ç®¡</span>
    <span class="hljs-keyword">private</span> Integer leader;
    <span class="hljs-comment">// ç»„ç»‡ä¸»ç®¡</span>
    <span class="hljs-keyword">private</span> Integer orgLeader;
    <span class="hljs-comment">// å‘èµ·äººè‡ªé€‰ï¼štrue-å•é€‰ï¼Œfalse-å¤šé€‰</span>
    <span class="hljs-keyword">private</span> Boolean choice;
    <span class="hljs-comment">// å‘èµ·äººè‡ªå·±</span>
    <span class="hljs-keyword">private</span> Boolean self;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> List&lt;FlowElement&gt; <span class="hljs-title function_">convert</span><span class="hljs-params">()</span>;
}
</code></pre>
<p>Approvalç±»å‹çš„å±æ€§å£°æ˜åŠè½¬æ¢æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@EqualsAndHashCode(callSuper = true)</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@ToString(callSuper = true)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApprovalNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AssigneeNode</span>{

    <span class="hljs-keyword">private</span> ApprovalMultiEnum multi;    <span class="hljs-comment">// å¤šäººå®¡æ‰¹æ–¹å¼</span>
    <span class="hljs-keyword">private</span> BigDecimal multiPercent;    <span class="hljs-comment">// å¤šäººä¼šç­¾é€šè¿‡ç™¾åˆ†æ¯”</span>
    <span class="hljs-keyword">private</span> Node next;                  <span class="hljs-comment">// å­èŠ‚ç‚¹</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;FlowElement&gt; <span class="hljs-title function_">convert</span><span class="hljs-params">()</span> {

        <span class="hljs-comment">// æ‰€æœ‰èŠ‚ç‚¹é›†åˆ</span>
        ArrayList&lt;FlowElement&gt; elements = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-comment">// ç”¨æˆ·èŠ‚ç‚¹</span>
        <span class="hljs-type">UserTask</span> <span class="hljs-variable">userTask</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserTask</span>();
        userTask.setId(<span class="hljs-built_in">this</span>.getId());
        userTask.setName(<span class="hljs-built_in">this</span>.getName());
        <span class="hljs-comment">// å®¡æ‰¹äºº</span>
        <span class="hljs-type">MultiInstanceLoopCharacteristics</span> <span class="hljs-variable">multiInstanceLoopCharacteristics</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MultiInstanceLoopCharacteristics</span>();
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.getMulti() == ApprovalMultiEnum.SEQUENTIAL) { <span class="hljs-comment">// å¤šäººå®¡æ‰¹æ–¹å¼-é¡ºåºå®¡æ‰¹</span>
            multiInstanceLoopCharacteristics.setSequential(<span class="hljs-literal">true</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.getMulti() == ApprovalMultiEnum.JOINT) { <span class="hljs-comment">// å¤šäººå®¡æ‰¹æ–¹å¼-å¹¶è¡Œå®¡æ‰¹</span>
            multiInstanceLoopCharacteristics.setSequential(<span class="hljs-literal">false</span>);
            <span class="hljs-keyword">if</span> (Objects.nonNull(<span class="hljs-built_in">this</span>.getMultiPercent()) &amp;&amp; <span class="hljs-built_in">this</span>.getMultiPercent().compareTo(BigDecimal.ZERO) &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">percent</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getMultiPercent().divide(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">100</span>), <span class="hljs-number">2</span>, RoundingMode.DOWN);
                multiInstanceLoopCharacteristics.setCompletionCondition(String.format(<span class="hljs-string">"${nrOfCompletedInstances/nrOfInstances &gt;= %s}"</span>, percent));
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.getMulti() == ApprovalMultiEnum.SINGLE) { <span class="hljs-comment">// æ­£å¸¸ç­¾å</span>
            multiInstanceLoopCharacteristics.setSequential(<span class="hljs-literal">false</span>);
            multiInstanceLoopCharacteristics.setCompletionCondition(<span class="hljs-string">"${nrOfCompletedInstances &gt; 0}"</span>);
        }

        <span class="hljs-type">String</span> <span class="hljs-variable">variable</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">"%sItem"</span>, <span class="hljs-built_in">this</span>.getId());
        multiInstanceLoopCharacteristics.setElementVariable(variable);
        multiInstanceLoopCharacteristics.setInputDataItem(String.format(<span class="hljs-string">"${%sCollection}"</span>, <span class="hljs-built_in">this</span>.getId()));
        userTask.setLoopCharacteristics(multiInstanceLoopCharacteristics);
        userTask.setAssignee(String.format(<span class="hljs-string">"${%s}"</span>, variable));
        elements.add(userTask);
        <span class="hljs-comment">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„è¿çº¿</span>
        <span class="hljs-type">Node</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getNext();
        <span class="hljs-type">SequenceFlow</span> <span class="hljs-variable">sequenceFlow</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.buildSequence(next);
        elements.add(sequenceFlow);
        <span class="hljs-comment">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>
        <span class="hljs-keyword">if</span> (Objects.nonNull(next)) {
            next.setBranchId(<span class="hljs-built_in">this</span>.getBranchId());
            List&lt;FlowElement&gt; flowElements = next.convert();
            elements.addAll(flowElements);
        }

        <span class="hljs-keyword">return</span> elements;
    }
}

</code></pre>
<p>StartEventå’ŒEndEventè¾ƒä¸ºç®€å•ï¼Œæ‰€ä»¥åªéœ€å®ç°è½¬æ¢ä»£ç ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StartNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;FlowElement&gt; <span class="hljs-title function_">convert</span><span class="hljs-params">()</span> {
        ArrayList&lt;FlowElement&gt; elements = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-comment">// åˆ›å»ºå¼€å§‹èŠ‚ç‚¹</span>
        <span class="hljs-type">StartEvent</span> <span class="hljs-variable">startEvent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StartEvent</span>();
        startEvent.setId(<span class="hljs-built_in">this</span>.getId());
        startEvent.setName(<span class="hljs-built_in">this</span>.getName());
        <span class="hljs-comment">// startEvent.setExecutionListeners(this.buidEventListener()); ç›‘å¬å™¨</span>
        <span class="hljs-comment">// æ·»åŠ èŠ‚ç‚¹</span>
        elements.add(startEvent);
        <span class="hljs-comment">// è·å–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>
        <span class="hljs-type">Node</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getNext();
        <span class="hljs-type">SequenceFlow</span> <span class="hljs-variable">sequenceFlow</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.buildSequence(next);
        elements.add(sequenceFlow);
        <span class="hljs-comment">// é€’å½’ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åŠä¹‹åçš„æ‰€æœ‰èŠ‚ç‚¹</span>
        <span class="hljs-keyword">if</span> (Objects.nonNull(next)) {
            List&lt;FlowElement&gt; flowElements = next.convert();
            elements.addAll(flowElements);
        }
        <span class="hljs-keyword">return</span> elements;
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ToString(callSuper = true)</span>
<span class="hljs-meta">@EqualsAndHashCode(callSuper = true)</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EndNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;FlowElement&gt; <span class="hljs-title function_">convert</span><span class="hljs-params">()</span> {
        ArrayList&lt;FlowElement&gt; elements = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-comment">// ç»“æŸèŠ‚ç‚¹</span>
        <span class="hljs-type">EndEvent</span> <span class="hljs-variable">endEvent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EndEvent</span>();
        endEvent.setId(<span class="hljs-built_in">this</span>.getId());
        endEvent.setName(<span class="hljs-built_in">this</span>.getName());
<span class="hljs-comment">//        endEvent.setExecutionListeners(this.buidEventListener());</span>
        elements.add(endEvent);
        <span class="hljs-keyword">return</span> elements;
    }
}
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€æ„å»ºSequenceFlow</h2>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/535ac640dbe747d797f7918b5e4f7534~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF5Njcy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765640192&amp;x-signature=tglcZWo8g9E5Lz6zYN6OpKdpHn0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦ä½¿ç”¨ä¸€ä¸ªSequenceFlowæ¥è¿›è¡Œè¿æ¥ï¼Œå®è´¨ä¸ŠSequenceFlowä¹Ÿæ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¯ä»¥åœ¨NodeæŠ½è±¡ç±»ä¸­å¢åŠ <code>buildSequence()</code>æ–¹æ³•ï¼Œè½¬æ¢æ—¶ï¼Œæ„å»ºæ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸ºSequenceFlowï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> SequenceFlow <span class="hljs-title function_">buildSequence</span><span class="hljs-params">(Node next)</span> {
        String sourceRef;
        String targetRef;
        <span class="hljs-keyword">if</span> (Objects.nonNull(next)) {
            sourceRef = next.getParentId();
            targetRef = next.getId();
        } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// Try to find branch</span>
            <span class="hljs-keyword">if</span> (StringUtils.isNotBlank(<span class="hljs-built_in">this</span>.branchId)) {
                sourceRef = <span class="hljs-built_in">this</span>.id;
                targetRef = <span class="hljs-built_in">this</span>.branchId;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(String.format(<span class="hljs-string">"èŠ‚ç‚¹ %s çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸èƒ½ä¸ºç©º"</span>, <span class="hljs-built_in">this</span>.id));
            }
        }
        <span class="hljs-comment">// Build SequenceFlow</span>
        <span class="hljs-type">SequenceFlow</span> <span class="hljs-variable">sequenceFlow</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SequenceFlow</span>();
        sequenceFlow.setId(String.format(<span class="hljs-string">"%s-%s"</span>, sourceRef, targetRef));
        sequenceFlow.setSourceRef(sourceRef);
        sequenceFlow.setTargetRef(targetRef);
        <span class="hljs-keyword">return</span> sequenceFlow;
 }
</code></pre>
<h2 data-id="heading-5">å››ã€å®¡æ‰¹æ–¹å¼æšä¸¾</h2>
<p>è¡¥å……ä¸Šé¢ä»£ç çš„å®¡æ‰¹è§’è‰²æšä¸¾ç±»ï¼Œå¦‚æœæœ‰ç‰¹æ®Šçš„éœ€æ±‚å’Œå®¡æ‰¹æ–¹å¼ï¼Œå‡å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ï¼Œåç»­åœ¨è½¬æ¢æ—¶å¯ä»¥æ ¹æ®ç±»å‹è¿›è¡ŒåŠŸèƒ½è°ƒæ•´ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">AssigneeTypeEnum</span> {
    USER(<span class="hljs-string">"user"</span>, <span class="hljs-string">"ç”¨æˆ·"</span>),
    ROLE(<span class="hljs-string">"role"</span>, <span class="hljs-string">"è§’è‰²"</span>),
    CHOICE(<span class="hljs-string">"choice"</span>, <span class="hljs-string">"å‘èµ·äººè‡ªé€‰"</span>),
    SELF(<span class="hljs-string">"self"</span>, <span class="hljs-string">"å‘èµ·äººè‡ªå·±"</span>),
    LEADER(<span class="hljs-string">"leader"</span>, <span class="hljs-string">"éƒ¨é—¨ä¸»ç®¡"</span>),
    ORG_LEADER(<span class="hljs-string">"orgLeader"</span>, <span class="hljs-string">"ç»„ç»‡ä¸»ç®¡"</span>),
    FORM_USER(<span class="hljs-string">"formUser"</span>, <span class="hljs-string">"è¡¨å•ç”¨æˆ·"</span>),
    FORM_ROLE(<span class="hljs-string">"formRole"</span>, <span class="hljs-string">"è¡¨å•è§’è‰²"</span>),
    AUTO_REFUSE(<span class="hljs-string">"autoRefuse"</span>, <span class="hljs-string">"è‡ªåŠ¨æ‹’ç»"</span>),
    AUTO_PASS(<span class="hljs-string">"autoPass"</span>, <span class="hljs-string">"è‡ªåŠ¨é€šè¿‡"</span>);

    <span class="hljs-meta">@JsonValue</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String type;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String description;
}
</code></pre>
<p>å®¡æ‰¹æ–¹å¼æšä¸¾</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Getter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ApprovalMultiEnum</span> {
    SEQUENTIAL(<span class="hljs-string">"sequential"</span>, <span class="hljs-string">"å¤šäººå®¡æ‰¹æ–¹å¼-é¡ºåºå®¡æ‰¹"</span>),
    JOINT(<span class="hljs-string">"joint"</span>, <span class="hljs-string">"å¤šäººå®¡æ‰¹æ–¹å¼-å¹¶è¡Œå®¡æ‰¹"</span>),
    SINGLE(<span class="hljs-string">"single"</span>, <span class="hljs-string">"å¤šäººå®¡æ‰¹æ–¹å¼-ä»»ä½•äººå®¡æ‰¹"</span>);

    <span class="hljs-meta">@JsonValue</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String multi;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String description;

    ApprovalMultiEnum(String method, String description) {
        <span class="hljs-built_in">this</span>.multi = method;
        <span class="hljs-built_in">this</span>.description = description;
    }

}
</code></pre>
<h2 data-id="heading-6">äº”ã€å¼€å§‹è½¬æ¢</h2>
<p>å‡†å¤‡å·¥ä½œå·²ç»åšå¥½ï¼Œä½¿ç”¨å‹ç¼©è½¬ä¹‰åçš„Jsonä»£ç è¿›è¡Œè½¬æ¢ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"æœªå‘½åæµç¨‹"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"groupId"</span><span class="hljs-punctuation">:</span><span class="hljs-number">222</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"process"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"node_root"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Start"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"å‘èµ·äºº"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">"next"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"node_17628242120246176"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Approval"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"å®¡æ‰¹äºº"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"node_root"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"next"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"node_end"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"End"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"æµç¨‹ç»“æŸ"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"node_17628242120246176"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"USER"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"ruleType"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"ROOT_SELF"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"taskMode"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"AND"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"percentage"</span><span class="hljs-punctuation">:</span><span class="hljs-number">100</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"needSign"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">"assignUser"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"rootSelect"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"multiple"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"leader"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"emptySkip"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"leaderTop"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span><span class="hljs-number">0</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"toEnd"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">"emptySkip"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"assignDept"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"dept"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"LEADER"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"assignRole"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"noUserHandler"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"TO_NEXT"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"assigned"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"sameRoot"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"TO_SELF"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"assigned"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"enable"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><span class="hljs-attr">"time"</span><span class="hljs-punctuation">:</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"timeUnit"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"M"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"TO_PASS"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"props"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"remark"</span><span class="hljs-punctuation">:</span><span class="hljs-string">""</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨å¼€å§‹è½¬æ¢ä¹‹å‰ï¼Œéœ€è¦å®ä¾‹åŒ–ProcessModelï¼Œç„¶åè¿›è¡Œè½¬æ¢ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨ä¸‹é¢çš„ä»£ç è¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ProcessModel</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> objectMapper.readValue(jsonString, ProcessModel.class);
System.out.println(person);

<span class="hljs-type">BpmnModel</span> <span class="hljs-variable">bpmnModel</span> <span class="hljs-operator">=</span> person.toBpmnModel();
<span class="hljs-type">byte</span>[] xmlBytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BpmnXMLConverter</span>().convertToXML(bpmnModel);
</code></pre>
<p>æµ‹è¯•ç»“æœå‡ºæ¥ï¼Œå¦‚æœnextæ²¡æœ‰æ­£å¸¸è¢«è½¬æ¢ï¼Œéœ€è¦æ³¨æ„æ·»åŠ <code>@ToString(callSuper = true)</code>ï¼Œè¿™æ ·åœ¨è½¬æ¢æ—¶ä¼šåŒ…å«çˆ¶ç±»çš„å±æ€§ã€‚æ­£å¸¸è½¬æ¢æ‰“å°è¾“å‡ºï¼š</p>
<pre><code class="hljs language-python" lang="python">ProcessModel(<span class="hljs-built_in">id</span>=null, name=æœªå‘½åæµç¨‹, process=Node(<span class="hljs-built_in">id</span>=node_root, parentId=null, name=å‘èµ·äºº, <span class="hljs-built_in">type</span>=Start, <span class="hljs-built_in">next</span>=ApprovalNode(<span class="hljs-built_in">super</span>=AssigneeNode(assigneeType=null, formUser=null, formRole=null, users=null, roles=null, leader=null, orgLeader=null, choice=null, self=null), multi=null, multiPercent=null, <span class="hljs-built_in">next</span>=EndNode(<span class="hljs-built_in">super</span>=Node(<span class="hljs-built_in">id</span>=node_end, parentId=node_17628242120246176, name=æµç¨‹ç»“æŸ, <span class="hljs-built_in">type</span>=End, <span class="hljs-built_in">next</span>=null, props={}, branchId=null))), props={}, branchId=null), groupId=<span class="hljs-number">222</span>, remark=)
</code></pre>
<p>å®Œæ•´Mainæ–¹æ³•æ„å»ºä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
		<span class="hljs-comment">// ä»£ç ä¸­å°±ä¸åštry catchäº†ï¼Œè¾“å‡ºå¤±è´¥ä¼šæ­£å¸¸å‡ºé”™è¯¯ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">String</span> <span class="hljs-variable">jsonString</span> <span class="hljs-operator">=</span> <span class="hljs-string">"{\"name\":\"æœªå‘½åæµç¨‹\",\"groupId\":222,\"process\":{\"id\":\"node_root\",\"type\":\"Start\",\"name\":\"å‘èµ·äºº\",\"parentId\":null,\"next\":{\"id\":\"node_17628242120246176\",\"type\":\"Approval\",\"name\":\"å®¡æ‰¹äºº\",\"parentId\":\"node_root\",\"next\":{\"id\":\"node_end\",\"type\":\"End\",\"name\":\"æµç¨‹ç»“æŸ\",\"parentId\":\"node_17628242120246176\",\"props\":{}},\"props\":{\"mode\":\"USER\",\"ruleType\":\"ROOT_SELF\",\"taskMode\":{\"type\":\"AND\",\"percentage\":100},\"needSign\":false,\"assignUser\":[],\"rootSelect\":{\"multiple\":false},\"leader\":{\"level\":1,\"emptySkip\":false},\"leaderTop\":{\"level\":0,\"toEnd\":false,\"emptySkip\":false},\"assignDept\":{\"dept\":[],\"type\":\"LEADER\"},\"assignRole\":[],\"noUserHandler\":{\"type\":\"TO_NEXT\",\"assigned\":[]},\"sameRoot\":{\"type\":\"TO_SELF\",\"assigned\":[]},\"timeout\":{\"enable\":false,\"time\":1,\"timeUnit\":\"M\",\"type\":\"TO_PASS\"}}},\"props\":{}},\"remark\":\"\"}"</span>;

        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();

        <span class="hljs-comment">// æ–¹å¼ä¸€ï¼šå…ˆè½¬æ¢ä¸ºJsonNodeï¼Œå†è½¬æ¢ä¸ºå®ä½“ç±»</span>
        <span class="hljs-comment">// JsonNode jsonNode = objectMapper.readTree(jsonString);</span>
        <span class="hljs-comment">// ProcessModel person2 = objectMapper.treeToValue(jsonNode, ProcessModel.class);</span>

        <span class="hljs-comment">// æ–¹å¼ä¸€ï¼šç›´æ¥è½¬æ¢ä¸ºå®ä½“ç±»</span>
        <span class="hljs-type">ProcessModel</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> objectMapper.readValue(jsonString, ProcessModel.class);
        System.out.println(person);

        <span class="hljs-type">BpmnModel</span> <span class="hljs-variable">bpmnModel</span> <span class="hljs-operator">=</span> person.toBpmnModel();
        <span class="hljs-type">byte</span>[] xmlBytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BpmnXMLConverter</span>().convertToXML(bpmnModel);

        <span class="hljs-type">BufferedOutputStream</span> <span class="hljs-variable">outputStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedOutputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"/Users/macbook/æ–‡ä»¶/Studio/Java/JsonToBpmnDemo/target/test.bpmn20.xml"</span>));
        <span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(xmlBytes));
        <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">8096</span>];
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> in.read(buffer);
            <span class="hljs-keyword">if</span> (count == -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">break</span>;
            }
            outputStream.write(buffer, <span class="hljs-number">0</span>, count);
        }

        <span class="hljs-comment">// åˆ·æ–°å¹¶å…³é—­æµ</span>
        outputStream.flush();
        outputStream.close();
    }
}
</code></pre>
<p>è¾“å‡ºæˆåŠŸåï¼Œåœ¨targetæ–‡ä»¶å¤¹æ€»ä¼šæ­£å¸¸å‡ºç°<code>test.bpmn20.xml</code>æ–‡ä»¶ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4380ba7ab2864640ada631d9fb7618b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF5Njcy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765640192&amp;x-signature=Y%2BM81Wqeq4hc2be%2FsVyeOa60pFU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-7">å…­ã€æœ€å</h2>
<p>è¯¥ä»£ç é€‚ç”¨<code>wflow-web-next</code> è®¾è®¡å™¨çš„Jsonæ•°æ®ï¼Œæ„Ÿè°¢<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fwillianfu%2Fwflow-web-next" target="_blank" title="https://gitee.com/willianfu/wflow-web-next" ref="nofollow noopener noreferrer">wflow-web-next: wflow-web</a>ä½œè€…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fwillianfu" target="_blank" title="https://gitee.com/willianfu" ref="nofollow noopener noreferrer">willianfu</a>æä¾›çš„è®¾è®¡å™¨ ï¼Œå¯ä»¥ç»“åˆè¯¥è®¾è®¡å™¨ä½¿ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•ä»¥Flowableä¸ºé¡¹ç›®çš„è®¾è®¡å™¨æ•°æ®ï¼Œæœ¬æ¡ˆä¾‹åªæä¾›å¤§è‡´çš„æ€è·¯ï¼Œå…·ä½“å¯ä»¥å‚è€ƒå¼€æºä»£ç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fcai_xiao_feng%2Flowflow-design-converter" target="_blank" title="https://gitee.com/cai_xiao_feng/lowflow-design-converter" ref="nofollow noopener noreferrer">lowflow-design-converter: ä½ä»£ç æµç¨‹è®¾è®¡å™¨è½¬bpmn</a>ï¼Œéå¸¸æ„Ÿè°¢è”¡æ™“å³°è€å¸ˆé¡¹ç›®ï¼Œç»™äº†æˆ‘å¾ˆå¤§çš„å¯å‘ï¼Œåç»­æœ¬é¡¹ç›®å®Œæˆåï¼Œæˆ‘ä¼šå¼€æºå‘å¸ƒåœ¨Githubä¸Šï¼Œæœ¬ç¯‡åšå®¢å¦‚æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿è¯„è®ºåŒºæˆ–ç§ä¿¡å»ºè®®ï¼Œå†æ¬¡æ„Ÿè°¢ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-176 Elasticsearch Filter DSL å…¨é¢å®æˆ˜ï¼šè¿‡æ»¤æŸ¥è¯¢ã€æ’åºåˆ†é¡µã€é«˜äº®ä¸æ‰¹é‡æ“ä½œ]]></title>    <link>https://juejin.cn/post/7580374090364878886</link>    <guid>https://juejin.cn/post/7580374090364878886</guid>    <pubDate>2025-12-07T01:41:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580374090364878886" data-draft-id="7580374090364862502" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-176 Elasticsearch Filter DSL å…¨é¢å®æˆ˜ï¼šè¿‡æ»¤æŸ¥è¯¢ã€æ’åºåˆ†é¡µã€é«˜äº®ä¸æ‰¹é‡æ“ä½œ"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Elasticsearch"/> <meta itemprop="datePublished" content="2025-12-07T01:41:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-176 Elasticsearch Filter DSL å…¨é¢å®æˆ˜ï¼šè¿‡æ»¤æŸ¥è¯¢ã€æ’åºåˆ†é¡µã€é«˜äº®ä¸æ‰¹é‡æ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-07T01:41:45.000Z" title="Sun Dec 07 2025 01:41:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šåœ¨æ—¥å¿—æ£€ç´¢ã€ç”µå•†æœç´¢ç­‰åœºæ™¯ä¸­ï¼Œéœ€è¦åœ¨ Elasticsearch ä¸­ç»„åˆè¿‡æ»¤ã€æ’åºã€åˆ†é¡µã€é«˜äº®ä¸æ‰¹é‡æ“ä½œã€‚</li>
<li>ç»“è®ºï¼šFilter DSL è´Ÿè´£â€œæ˜¯å¦åŒ¹é…â€ã€Query è´Ÿè´£â€œåŒ¹é…ç¨‹åº¦â€ï¼Œå†é…åˆ sort/from/size/highlight/_mget/_bulk å½¢æˆä¸€æ•´å¥—æ£€ç´¢å®æˆ˜ç»„åˆæ‹³ã€‚</li>
<li>äº§å‡ºï¼šä¸€ç¯‡è¦†ç›– Filter DSLã€æ’åºåˆ†é¡µã€é«˜äº®å±•ç¤ºä¸æ‰¹é‡è¯»å†™çš„å®æˆ˜ç¬”è®°ï¼Œå¯ç›´æ¥å¥—ç”¨åˆ°çº¿ä¸Šæ£€ç´¢ä¸æ•°æ®å†™å…¥é“¾è·¯ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e2896efda874cd59a3491900ee00de7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=bDpPQF8o3KfVOiTaRUaEfO7D0GQ%3D" alt="å¤§æ•°æ®-176 Elasticsearch Filter DSL å…¨é¢å®æˆ˜ï¼šè¿‡æ»¤æŸ¥è¯¢ã€æ’åºåˆ†é¡µã€é«˜äº®ä¸æ‰¹é‡æ“ä½œ" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>

























<table><thead><tr><th>Elasticsearch ç‰ˆæœ¬</th><th>å·²éªŒè¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>7.xï¼ˆ7.6+ï¼‰</td><td>æ˜¯</td><td>å¼€å‘/æµ‹è¯•ç¯å¢ƒå¸¸è§„ä½¿ç”¨ï¼ŒFilter DSLã€sortã€highlightã€_mgetã€_bulk è¯­æ³•å‡å…¼å®¹å½“å‰ç¤ºä¾‹ã€‚</td></tr><tr><td>8.xï¼ˆ8.0+ï¼‰</td><td>æ˜¯</td><td>å®˜æ–¹ä»å…¼å®¹æœ¬æ–‡çš„ DSL å†™æ³•ï¼Œä¸ªåˆ«é»˜è®¤æ˜ å°„ç­–ç•¥ä¸å®‰å…¨é…ç½®ç•¥æœ‰å˜åŒ–ï¼Œéœ€æŒ‰å®é™…é›†ç¾¤è°ƒæ•´ç´¢å¼•ä¸æƒé™ã€‚</td></tr><tr><td>6.x åŠä»¥ä¸‹</td><td>å¦</td><td>æ ¸å¿ƒæ¦‚å¿µç›¸åŒï¼Œä½†éƒ¨åˆ† REST API è·¯å¾„ä¸å­—æ®µæ˜ å°„ç»†èŠ‚æœ‰å·®å¼‚ï¼Œéœ€ç»“åˆå¯¹åº”ç‰ˆæœ¬å®˜æ–¹æ–‡æ¡£ç¡®è®¤ã€‚</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b31ee8f4629844f48cf87e4a2705a7ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=gfy6QfLfduQ92IsWcqBnoNr%2FICw%3D" alt="Elasticsearch" loading="lazy"/></p>
<h2 data-id="heading-2">Filter DSL</h2>
<h3 data-id="heading-3">åŸºæœ¬ä»‹ç»</h3>
<p>Filter DSLï¼šè¿‡æ»¤å™¨æŸ¥è¯¢è¯­è¨€ï¼‰
Filter DSL æ˜¯ Elasticsearch æä¾›çš„ä¸€ç§ç”¨äºæ„å»ºè¿‡æ»¤æŸ¥è¯¢çš„æ–¹å¼ã€‚ä¸ query è¯­å¥ä¸åŒï¼Œè¿‡æ»¤å™¨ä¸ä¼šè®¡ç®—ä¸æ–‡æ¡£ç›¸å…³çš„è¯„åˆ†ï¼Œè€Œæ˜¯ç®€å•åœ°ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ã€‚è¿™é€šå¸¸ç”¨äºåªå…³å¿ƒæ˜¯å¦åŒ¹é…è€Œä¸è€ƒè™‘åŒ¹é…åº¦çš„æƒ…å†µï¼Œå¦‚æ—¥å¿—åˆ†æã€æ•°æ®åˆ†ç±»ç­‰åœºæ™¯ã€‚Filter æŸ¥è¯¢æ›´é«˜æ•ˆï¼Œé€‚åˆä¸éœ€è¦è®¡ç®—ç›¸å…³æ€§çš„æ“ä½œã€‚</p>
<h3 data-id="heading-4">å®é™…ä½¿ç”¨</h3>
<p>Elasticsearchä¸­çš„æ‰€æœ‰çš„æŸ¥è¯¢éƒ½ä¼šè§¦å‘ç›¸å…³åº¦å¾—åˆ†è®¡ç®—ï¼Œå¯¹äºé‚£äº›ä¸éœ€è¦ç›¸å…³åº¦å¾—åˆ†çš„åœºæ™¯ä¸‹ï¼ŒElasticsearchä»¥è¿‡æ»¤å™¨çš„å½¢å¼æä¾›äº†å¦ä¸€ç§æŸ¥è¯¢åŠŸèƒ½ï¼Œè¿‡æ»¤å™¨åœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºæŸ¥è¯¢ï¼Œä½†æ˜¯ä»–ä»¬æœ‰éå¸¸å¿«çš„æ‰§è¡Œé€Ÿåº¦ï¼Œæ‰§è¡Œé€Ÿåº¦å¿«ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š</p>
<ul>
<li>è¿‡æ»¤å™¨ä¸ä¼šè®¡ç®—ç›¸å…³åº¦çš„å¾—åˆ†ï¼Œæ‰€ä»¥å®ƒä»¬åœ¨è®¡ç®—ä¸Šæ›´å¿«ä¸€äº›</li>
<li>è¿‡æ»¤å™¨å¯ä»¥è¢«ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œè¿™ä½¿å¾—ä»–åœ¨é‡å¤çš„æœç´¢æŸ¥è¯¢ä¸Šï¼Œå…¶è¦æ¯”ç›¸åº”çš„æŸ¥è¯¢å¿«çš„å¤š</li>
</ul>
<p>ä¸ºäº†ç†è§£è¿‡æ»¤å™¨ï¼Œå¯ä»¥å°†ä¸€ä¸ªæŸ¥è¯¢ï¼ˆåƒæ˜¯match_allï¼Œmatchï¼Œboolç­‰ï¼‰å’Œä¸€ä¸ªè¿‡æ»¤å™¨ç»“åˆèµ·æ¥ï¼Œæˆ‘ä»¬ä»¥èŒƒå›´è¿‡æ»¤å™¨ä¸ºä¾‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªåŒºé—´å€¼æ¥è¿‡æ»¤æ–‡æ¡£ï¼Œè¿™é€šå¸¸è¢«ç”¨åœ¨æ•°å­—å’Œæ—¥æœŸçš„è¿‡æ»¤ä¸Šï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­ä½¿ç”¨ä¸€ä¸ªè¢«è¿‡æ»¤çš„ æŸ¥è¯¢ï¼Œå…¶è¿”å›å€¼æ˜¯200åˆ°1000ä¹‹é—´ï¼ˆé—­åŒºé—´ï¼‰çš„ä¹¦ï¼š</p>
<pre><code class="hljs language-json" lang="json">POST /book/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"bool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"must"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"filter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"range"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"gte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"lte"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿è¡Œçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5258f261f6d5469781104fdc2df59c65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=HorRqbEtTULmBFHEHHNrLPOBeGs%3D" alt="Elasticsearch å®é™…ä½¿ç”¨" loading="lazy"/>
åˆ†è§£ä¸Šé¢çš„ä¾‹å­ï¼Œè¢«è¿‡æ»¤çš„æŸ¥è¯¢åŒ…å«ä¸€ä¸ªmatch_allæŸ¥è¯¢å’Œä¸€ä¸ªè¿‡æ»¤å™¨ã€‚å¯ä»¥åœ¨æŸ¥è¯¢éƒ¨åˆ†æ”¾å…¥å…¶ä»–æŸ¥è¯¢ï¼Œåœ¨Filteréƒ¨åˆ†æ”¾å…¥å…¶ä»–è¿‡æ»¤å™¨ï¼Œåœ¨ä¸Šé¢çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œç”±äºæ‰€æœ‰çš„åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…çš„æ–‡æ¡£éƒ½æ˜¯å¹³ç­‰çš„ï¼ˆç›¸å…³åº¦éƒ½ä¸€æ ·ï¼‰ï¼Œæ²¡æœ‰ä¸€ä¸ªæ–‡æ¡£æ¯”å¦ä¸€ä¸ªæ–‡æ¡£æ›´ç›¸å…³ã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±è¦ä½¿ç”¨èŒƒå›´è¿‡æ»¤å™¨ã€‚
é€šå¸¸æƒ…å†µä¸‹ï¼Œè¦å†³å®šä½¿ç”¨è¿‡æ»¤å™¨è¿˜æ˜¯æŸ¥è¯¢ï¼Œä½ å°±éœ€è¦é—®è‡ªå·±æ˜¯å¦éœ€è¦ç›¸å…³åº¦å¾—åˆ†ï¼Œå¦‚æœç›¸å…³åº¦ä¸é‡è¦ï¼Œé‚£å°±ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œå¦åˆ™ä½¿ç”¨æŸ¥è¯¢ã€‚æŸ¥è¯¢å’Œè¿‡æ»¤å™¨åœ¨æ¦‚å¿µä¸Šç±»ä¼¼äºSELECT WHEREè¯­å¥ã€‚</p>
<h2 data-id="heading-5">æŸ¥è¯¢æ’åº</h2>
<p>åœ¨ Elasticsearch ä¸­ï¼ŒæŸ¥è¯¢ç»“æœå¯ä»¥æŒ‰ä¸åŒçš„å­—æ®µè¿›è¡Œæ’åºï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æŒ‰ _scoreï¼ˆç›¸å…³æ€§å¾—åˆ†ï¼‰æ’åºã€‚å¦‚æœæƒ³æ ¹æ®å…¶ä»–å­—æ®µæ’åºï¼Œæ¯”å¦‚æ—¶é—´æˆ³æˆ–ä»·æ ¼ï¼Œå¯ä»¥é€šè¿‡åœ¨æŸ¥è¯¢è¯·æ±‚ä¸­æŒ‡å®š sort å‚æ•°æ¥å®Œæˆã€‚æ’åºå¯ä»¥æ˜¯å‡åºï¼ˆascï¼‰æˆ–é™åºï¼ˆdescï¼‰ï¼Œå¸¸ç”¨äºç”µå•†ã€æ—¥å¿—åˆ†æç­‰éœ€è¦æŒ‰æ—¶é—´æˆ–æ•°å€¼æ’åºçš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-6">ç›¸å…³æ€§è¯„åˆ†</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿”å›çš„ç»“æœéƒ½æ˜¯æŒ‰ç…§ç›¸å…³æ€§è¿›è¡Œæ’åºçš„ï¼Œæœ€ç›¸å…³çš„æ–‡æ¡£æ’åœ¨æœ€å‰é¢ï¼Œé¦–å…ˆçœ‹çœ‹sortå‚æ•°ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒã€‚
ä¸ºäº†æŒ‰ç…§ç›¸å…³æ€§æ¥æ’åºï¼Œéœ€è¦å°†ç›¸å…³æ€§è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°å€¼ï¼Œåœ¨Elasticsearchä¸­ï¼Œç›¸å…³æ€§å¾—åˆ†ç”±ä¸€ä¸ªæµ®ç‚¹æ•°è¿›è¡Œè¡¨ç¤ºï¼Œå¹¶åœ¨æœç´¢ç»“æœä¸­é€šè¿‡_scoreå‚æ•°è¿”å›ï¼Œé»˜è®¤æ’åºæ˜¯_scoreé™åºï¼ŒæŒ‰ç…§ç›¸å…³æ€§è¯„åˆ†å‡åºæ’åºå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"># é»˜è®¤æŸ¥è¯¢æ—¶çš„æ’åº
POST /book/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"solr"</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85be41018c7944ed9c7c176d22e48a88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=a36oBj86rjjFqAdtloLHTdmJ1Xc%3D" alt="Elasticsearch æ’åº" loading="lazy"/></p>
<h2 data-id="heading-7">å­—æ®µå€¼æ’åº</h2>
<pre><code class="hljs language-json" lang="json"># æŒ‰ç…§ order å­—æ®µè¿›è¡Œæ’åº
POST /book/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‰§è¡Œçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9faac19649c4bd39fcc39a17474a40c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=gyCW4soAL2eaebUASXiCgxyKOYc%3D" alt="åœ¨Elasticsearch å­—æ®µå€¼æ’åº" loading="lazy"/></p>
<h3 data-id="heading-8">å¤šçº§æ’åº</h3>
<pre><code class="hljs language-json" lang="json"># å¤šç§æ’åºå­—æ®µ
POST /book/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
      <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span> 
    <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> 
      <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span> 
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2564ca02f8d342fd90e7213496f9ca2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=ANuSsv5Zp5Uqu0yXcucCmgMnpgU%3D" alt="Elasticsearch å¤šçº§æ’åº" loading="lazy"/></p>
<h2 data-id="heading-9">åˆ†é¡µæŸ¥è¯¢</h2>
<p>Elasticsearchåˆ†é¡µçš„æ–¹å¼æ˜¯éå¸¸ç®€å•çš„ï¼š</p>
<pre><code class="hljs language-json" lang="json"># åˆ†é¡µæŸ¥è¯¢
POST /book/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match_all"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sort"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"order"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"desc"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/337ba8a3b42241f9b5c1dfed66026539~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=Hls%2Br1%2FMiVOA1Ubc7jtVLgbAH3s%3D" alt="Elasticsearch åˆ†é¡µæŸ¥è¯¢" loading="lazy"/></p>
<h2 data-id="heading-10">ç»“æœé«˜äº®</h2>
<p>ç»“æœé«˜äº®åŠŸèƒ½ç”¨äºåœ¨æŸ¥è¯¢ç»“æœä¸­çªå‡ºæ˜¾ç¤ºåŒ¹é…çš„å…³é”®è¯ã€‚å½“ç”¨æˆ·æœç´¢ç‰¹å®šçš„è¯æ—¶ï¼ŒElasticsearch å¯ä»¥åœ¨è¿”å›çš„æ–‡æ¡£ä¸­ç”¨ <code>&lt;em&gt;</code> æ ‡ç­¾æˆ–å…¶ä»– HTML å…ƒç´ å°†åŒ¹é…çš„å…³é”®è¯åŒ…è£¹èµ·æ¥ï¼Œæ–¹ä¾¿å‰ç«¯å±•ç¤ºã€‚è¿™ä¸ªåŠŸèƒ½å¸¸ç”¨äºæœç´¢å¼•æ“æˆ–å…¨æ–‡æ£€ç´¢çš„ç»“æœå±•ç¤ºä¸­ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p>
<pre><code class="hljs language-json" lang="json">POST /book/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"match"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"elasticsearch"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"highlight"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"pre_tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;font color='pink'&gt;"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"post_tags"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;/font&gt;"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‰§è¡Œçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef98720d9696400fa036a00e326be34b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=4649HbEPaDMazTIehU4E2twH99o%3D" alt="Elasticsearch ç»“æœé«˜äº®" loading="lazy"/>
ä½¿ç”¨match æŸ¥è¯¢çš„åŒæ—¶ï¼ŒåŠ ä¸Šä¸€ä¸ªhighlightå±æ€§ï¼š</p>
<ul>
<li>pre_tags å‰ç½®æ ‡ç­¾</li>
<li>post_tags åç½®æ ‡ç­¾</li>
<li>fields éœ€è¦é«˜äº®çš„å­—æ®µï¼Œnameè¿™é‡Œå£°æ˜titleå­—æ®µéœ€è¦é«˜äº®</li>
</ul>
<h2 data-id="heading-11">æ‰¹é‡æ“ä½œ</h2>
<p>Elasticsearch æä¾›äº†æ‰¹é‡æ“ä½œçš„ APIï¼Œç”¨äºä¸€æ¬¡æ€§æ‰§è¡Œå¤šä¸ªæ“ä½œï¼Œå¦‚æ’å…¥ã€æ›´æ–°ã€åˆ é™¤ç­‰ã€‚è¿™ç§æ‰¹é‡æ“ä½œå¯ä»¥æ˜¾è‘—æé«˜å¤„ç†å¤§é‡æ•°æ®çš„æ•ˆç‡ï¼Œå‡å°‘ä¸æœåŠ¡å™¨çš„äº¤äº’æ¬¡æ•°ã€‚Bulk API åœ¨éœ€è¦è¿›è¡Œå¤§è§„æ¨¡æ•°æ®å¤„ç†æˆ–æ—¥å¿—æ‰¹é‡å†™å…¥æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<h3 data-id="heading-12">æ‰¹é‡æŸ¥è¯¢</h3>
<p>å¯ä»¥ä½¿ç”¨ mget æä¾›æ‰¹é‡æŸ¥è¯¢
å•æ¡æŸ¥è¯¢IDçš„æ—¶å€™ï¼Œæ¯”å¦‚å¾ˆå¤šä¸ªIDï¼Œä¸€æ¡ä¸€æ¡çš„æŸ¥è¯¢ï¼Œç½‘ç»œå¼€é”€æ˜¯éå¸¸å¤§çš„ã€‚</p>
<pre><code class="hljs language-json" lang="json"># æ‰¹é‡æŸ¥è¯¢
POST /_mget
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"docs"</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"_index"</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">"book"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"_id"</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"_index"</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">"book"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"_id"</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿è¡Œçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9077ab11467d406a9a018449f74ab227~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=aWI2AbXpLXZVjjj%2FNYsj6AaMyi0%3D" alt="Elasticsearch æ‰¹é‡æŸ¥è¯¢" loading="lazy"/></p>
<h3 data-id="heading-13">åŒä¸€ç´¢å¼•æ‰¹é‡æŸ¥è¯¢</h3>
<pre><code class="hljs language-json" lang="json"># bookç´¢å¼•ä¸‹æ£€ç´¢
POST /book/_mget
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"docs"</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"_id"</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">2</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"_id"</span> <span class="hljs-punctuation">:</span> <span class="hljs-number">3</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

# å½“ç„¶ä¹Ÿæœ‰ä¸€ä¸ªç®€åŒ–çš„å†™æ³•
POST /book/_search
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"query"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"ids"</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"values"</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"1"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"4"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‰§è¡Œçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfdc2a15213d48f291986f49d232fd65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765676504&amp;x-signature=E7EBoach1z%2FcHewWzcPRxPr%2FR2U%3D" alt="Elasticsearch ç´¢å¼•æŸ¥è¯¢" loading="lazy"/></p>
<h3 data-id="heading-14">bulk æ‰¹é‡å¢åˆ æ”¹</h3>
<p>Bulk æ“ä½œè§£é‡Šå°†æ–‡æ¡£çš„å¢åˆ æ”¹æŸ¥ä¸€ç³»åˆ—æ“ä½œï¼Œé€šè¿‡ä¸€æ¬¡è¯·æ±‚å…¨éƒ¨åšå®Œï¼Œå‡å°‘ç½‘ç»œçš„ä¼ è¾“æ¬¡æ•°ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">POST /_bulk
{"action": {"metadata"}}
{"data"}
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æ‰¹é‡çš„æ“ä½œï¼Œå¢åˆ æ”¹æŸ¥</span>
POST /_bulk
{ "delete": { "_index": "book", "_id": "1" }}
{ "create": { "_index": "book", "_id": "5" }}
{ "name": "test14","price":100.99 }
{ "update": { "_index": "book", "_id": "2"} }
{ "doc" : {"name" : "test"} }
</code></pre>
<p>åŠŸèƒ½ï¼š</p>
<ul>
<li>delete åˆ é™¤ä¸€ä¸ªæ–‡æ¡£ï¼Œåªè¦1ä¸ªJSONä¸²å°±å¯ä»¥ åˆ é™¤çš„æ‰¹é‡æ“ä½œä¸éœ€è¦è¯·æ±‚ä½“</li>
<li>create ç›¸å½“äºå¼ºåˆ¶åˆ›å»º PUT /index/type/id/_create</li>
<li>index æ™®é€šçš„putæ“ä½œï¼Œå¯ä»¥æ˜¯åˆ›å»ºæ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¨é‡æ›¿æ¢æ–‡æ¡£</li>
<li>update æ‰§è¡Œçš„æ˜¯å±€éƒ¨æ›´æ–°partial updateæ“ä½œ</li>
</ul>
<p>æ ¼å¼ï¼š</p>
<ul>
<li>æ¯ä¸ªJSONä¸èƒ½æ¢è¡Œï¼Œç›¸é‚»JSONæ¢è¡Œ</li>
</ul>
<p>éš”ç¦»ï¼š</p>
<ul>
<li>æ¯ä¸ªæ“ä½œäº’ä¸å½±å“ï¼Œæ“ä½œå¤±è´¥çš„è¡Œä¼šè¿”å›å…¶å¤±è´¥ä¿¡æ¯</li>
</ul>
<p>å®é™…ç”¨æ³•ï¼š</p>
<ul>
<li>
<p>bulkè¯·æ±‚ä¸€æ¬¡ä¸è¦å¤ªå¤§ï¼Œå¦åˆ™ä¸€ä¸‹ä¼šæŒ¤å‹åˆ°å†…å­˜ä¸­ï¼Œæ€§èƒ½ä¼šä¸‹é™ã€‚</p>
</li>
<li>
<p>ä¸€æ¬¡è¯·æ±‚å‡ åƒä¸ªæ“ä½œï¼Œå¤§å°åœ¨å‡ Mæ­£å¥½</p>
</li>
<li>
<p>bulkä¼šå°†è¦å¤„ç†çš„æ•°æ®è½½å…¥å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ•°æ®é‡æ˜¯æœ‰é™çš„ï¼Œæœ€ä½³çš„æ•°æ®é‡ä¸æ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ã€‚å–å†³äºä½ çš„ç¡¬ä»¶èƒ½åŠ›ã€æ–‡æ¡£å¤æ‚æ€§ã€ç´¢å¼•ä»¥åŠæœç´¢çš„è´Ÿè½½</p>
</li>
<li>
<p>ä¸€èˆ¬å»ºè®®1ä¸‡-5ä¸‡ä¸ªæ–‡æ¡£ï¼Œå¤§å°å»ºè®®æ˜¯15MBï¼Œé»˜è®¤ä¸èƒ½è¶…è¿‡100MBï¼Œå¯ä»¥åœ¨ï¼ˆESï¼‰ config/elasticsearch.ymlä¸­è¿›è¡Œè®¾ç½® http.max_content_length: 10mb</p>
</li>
</ul>
<h2 data-id="heading-15">é”™è¯¯é€ŸæŸ¥</h2>







































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>bool + filter å†™äº†ä½†â€œçœ‹èµ·æ¥æ²¡ç”Ÿæ•ˆâ€</td><td>è¿‡æ»¤å­—æ®µç±»å‹ä¸åŒ¹é…ï¼ˆå¦‚å­—ç¬¦ä¸²å†™æˆ rangeï¼‰ã€ç´¢å¼•ä¸­æ— æ»¡è¶³æ¡ä»¶æ–‡æ¡£</td><td>ä½¿ç”¨ GET index/_mapping æŸ¥çœ‹å­—æ®µç±»å‹ï¼›ç”¨ term/range å•ç‹¬æµ‹è¯• Filter</td><td>ç¡®è®¤å­—æ®µç±»å‹ä¸ºæ•°å€¼/æ—¥æœŸå†ç”¨ rangeï¼›å­—ç¬¦ä¸²è¿‡æ»¤æ”¹ç”¨ term/terms æˆ– keyword å­—æ®µ</td></tr><tr><td>Filter DSL ä¸ query æ··ç”¨æ—¶ç»“æœæ•°é‡å¼‚å¸¸</td><td>æŠŠæœ¬è¯¥ç”¨ filter çš„æ¡ä»¶å†™è¿› mustï¼Œç›¸å…³åº¦å¯¼è‡´éƒ¨åˆ†ç»“æœè¢«æŒ¤æ‰</td><td>å»æ‰ filter éƒ¨åˆ†ï¼Œä»…ä¿ç•™ must å¯¹æ¯”æ€»å‘½ä¸­æ•°</td><td>å°†â€œçº¯æ¡ä»¶â€é€»è¾‘ï¼ˆçŠ¶æ€ã€åŒºé—´ã€æ ‡ç­¾ï¼‰ç»Ÿä¸€æ”¾åˆ° bool.filter ä¸­ï¼ŒåªæŠŠçœŸæ­£éœ€è¦ç®—ç›¸å…³åº¦çš„æ¡ä»¶ç•™åœ¨ must</td></tr><tr><td>sort æŠ¥é”™æˆ–æ’åºä¸ç¬¦åˆé¢„æœŸ</td><td>æ’åºå­—æ®µä¸º text ç±»å‹ï¼Œæœªä½¿ç”¨ keyword æˆ–æ•°å€¼å­—æ®µ</td><td>GET index/_mapping æŸ¥çœ‹å­—æ®µæ˜¯å¦ä¸º text ä¸”æ—  .keyword</td><td>å¯¹ text å­—æ®µæ”¹ç”¨ field.keyword æ’åºï¼Œæˆ–åœ¨ mapping ä¸­å¢åŠ  keyword å­å­—æ®µï¼›æ•°å€¼/æ—¥æœŸå­—æ®µç”¨åŸå­—æ®µæ’åº</td></tr><tr><td>from/size åˆ†é¡µåˆ°å¤§é¡µæ—¶å˜æ…¢æˆ–è¶…æ—¶</td><td>æ·±åˆ†é¡µï¼Œfrom éå¸¸å¤§ï¼Œå¯¼è‡´ ES éœ€è¦è·³è¿‡å¤§é‡æ–‡æ¡£</td><td>åœ¨å¤§é¡µåœºæ™¯ä¸‹æŠ“æ…¢æŸ¥è¯¢ã€æŸ¥çœ‹ _search è€—æ—¶ä¸èŠ‚ç‚¹ CPU</td><td>è€ƒè™‘ä½¿ç”¨ search_after/scroll æ–¹æ¡ˆæ›¿ä»£ from/size æ·±åˆ†é¡µï¼Œæˆ–é™åˆ¶æœ€å¤§é¡µç ä¸ size</td></tr><tr><td>highlight æ²¡æœ‰ä»»ä½•é«˜äº®è¾“å‡º</td><td>highlight fields æœªåŒ¹é…å®é™…å­—æ®µåï¼Œæˆ–å­—æ®µæœªå‚ä¸ query</td><td>æ£€æŸ¥è¯·æ±‚ä¸­çš„ highlight.fields ä¸ query ä¸­ä½¿ç”¨çš„å­—æ®µæ˜¯å¦ä¸€è‡´</td><td>ç¡®ä¿é«˜äº®å­—æ®µä¸ query å­—æ®µä¸€è‡´ï¼›å¿…è¦æ—¶ä¸ºå­—æ®µå¼€å¯åˆé€‚çš„æ˜ å°„ä¸åˆ†è¯é…ç½®</td></tr><tr><td>highlight HTML æ ‡ç­¾æœªç”Ÿæ•ˆæˆ–è¢«è½¬ä¹‰</td><td>å‰ç«¯æ¨¡æ¿å¯¹è¿”å›çš„ HTML åšäº†è½¬ä¹‰</td><td>åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹åŸå§‹ JSON å“åº”ä¸å‰ç«¯æ¸²æŸ“åçš„ DOM</td><td>å‰ç«¯æ¸²æŸ“æ—¶ä½¿ç”¨â€œä¿¡ä»» HTMLâ€æˆ–å±é™© HTML æ¸²æŸ“æ–¹å¼ï¼ˆè§†æ¡†æ¶è€Œå®šï¼‰ï¼Œç¡®ä¿ /<em> ç­‰æ ‡ç­¾ä¸è¢«äºŒæ¬¡è½¬ä¹‰</em></td></tr><tr><td>_mget è¿”å›éƒ¨åˆ†æ–‡æ¡£ missing</td><td>_index æˆ– _id å¡«å†™é”™è¯¯ï¼Œæˆ–æŒ‡å®šç´¢å¼•ä¸‹æœ¬èº«ä¸å­˜åœ¨è¯¥æ–‡æ¡£</td><td>æ£€æŸ¥ _mget è¯·æ±‚ä½“ä¸­çš„ index ä¸ idï¼›ç”¨å•æ¡ GET index/_doc/id éªŒè¯</td><td>ä¿è¯ç´¢å¼•åã€id ä¸å®é™…å†™å…¥æ—¶ä¸€è‡´ï¼Œè·¨ç´¢å¼•æ—¶æ³¨æ„æ¯æ¡ docs æ˜ç¡® _index</td></tr><tr><td>_bulk è¯·æ±‚è¿”å› 400/æ ¼å¼é”™è¯¯</td><td>è¡Œé—´æ¢è¡Œä¸è§„èŒƒã€JSON å¤šåŠ /å°‘åŠ èŠ±æ‹¬å·ã€ä½¿ç”¨äº†æ³¨é‡Š</td><td>å¯¹æ¯”å®˜æ–¹ç¤ºä¾‹ï¼Œé€è¡Œæ£€æŸ¥ {"action":{}} ä¸ {"doc":{}} æ˜¯å¦ä¸€ä¸€å¯¹åº”</td><td>ä¿è¯â€œåŠ¨ä½œè¡Œâ€å’Œâ€œæ•°æ®è¡Œâ€ä¸¥æ ¼æˆå¯¹ä¸”å„å ä¸€è¡Œï¼Œå»æ‰ä»»ä½•æ³¨é‡Šä¸å¤šä½™ç©ºæ ¼/é€—å·</td></tr><tr><td>_bulk ä¸­åªæœ‰éƒ¨åˆ†æ“ä½œæˆåŠŸ</td><td>bulk ä¸­å•æ¡æ“ä½œå› æ˜ å°„å†²çªã€ç‰ˆæœ¬å†²çªæˆ–éªŒè¯å¤±è´¥</td><td>æŸ¥çœ‹ bulk å“åº”ä¸­çš„ items åˆ—è¡¨ï¼Œé€æ¡æ£€æŸ¥ error å­—æ®µ</td><td>é’ˆå¯¹å¤±è´¥è¡Œå•ç‹¬é‡æ”¾æˆ–ä¿®æ­£æ˜ å°„/æ–‡æ¡£ç»“æ„ï¼›å¤§æ‰¹é‡å¯¼å…¥å‰åœ¨å°æ‰¹æ•°æ®ä¸Šåšé¢„æ¼”</td></tr><tr><td>æ‰¹é‡æ“ä½œæ—¶ ES èŠ‚ç‚¹è´Ÿè½½é£™å‡</td><td>å•æ¬¡ bulk ä½“ç§¯è¿‡å¤§ï¼Œå…¨éƒ¨è¿›å†…å­˜å¯¼è‡´ GC ä¸ IO å‹åŠ›è¿‡é«˜</td><td>ç›‘æ§é›†ç¾¤ JVMã€CPUã€IOï¼Œè§‚å¯Ÿ bulk è¯·æ±‚æ—¶æ®µè´Ÿè½½å˜åŒ–</td><td>æ§åˆ¶æ¯æ¬¡ bulk çš„æ–‡æ¡£æ•°ä¸ä½“ç§¯ï¼ˆå¦‚ 1â€“5 ä¸‡æ–‡æ¡£ã€çº¦ 5â€“15MBï¼‰ï¼ŒæŒ‰æœºå™¨è§„æ ¼è°ƒæ•´å¹¶åšå‹æµ‹å†æ”¾é‡</td></tr></tbody></table>
<h2 data-id="heading-16">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-17">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-18">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-180 Java æ¥å…¥ FastDFSï¼šè‡ªç¼–è¯‘å®¢æˆ·ç«¯ä¸ Maven/Spring Boot å®æˆ˜</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-19">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…³äº RAGï¼Œæˆ‘çš„å­¦ä¹ è·¯å¾„ä¸è°ƒä¼˜å¿ƒå¾—]]></title>    <link>https://juejin.cn/post/7580282751628394537</link>    <guid>https://juejin.cn/post/7580282751628394537</guid>    <pubDate>2025-12-06T14:07:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580282751628394537" data-draft-id="7580287891273482303" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…³äº RAGï¼Œæˆ‘çš„å­¦ä¹ è·¯å¾„ä¸è°ƒä¼˜å¿ƒå¾—"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2025-12-06T14:07:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯ADIå‘€"/> <meta itemprop="url" content="https://juejin.cn/user/3051900008664382"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…³äº RAGï¼Œæˆ‘çš„å­¦ä¹ è·¯å¾„ä¸è°ƒä¼˜å¿ƒå¾—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900008664382/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯ADIå‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:07:42.000Z" title="Sat Dec 06 2025 14:07:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¹´åˆç»™è‡ªå·±å®šäº†ä¸ªå°ç›®æ ‡ï¼šç³»ç»Ÿå­¦ä¸€éå¤§æ¨¡å‹åº”ç”¨å¼€å‘ç›¸å…³çš„ä¸œè¥¿ï¼Œé‡ç‚¹æ”¾åœ¨ MCPã€RAG å’Œ Agent ä¸Šã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯æˆ‘åœ¨å­¦ä¹  RAG è¿‡ç¨‹ä¸­çš„ä¸€äº›æ•´ç†å’Œæ€è€ƒï¼Œä¹Ÿå½“ä½œå‘å‡ºæ¥å’Œå¤§å®¶ä¸€èµ·äº¤æµã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ RAGï¼Ÿ</h2>
<p>å…ˆæŠ›ä¸ªé—®é¢˜ï¼š
<strong>å¤§æ¨¡å‹è¿™ä¹ˆå¼ºäº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ RAG è¿™ç§ç»•ä¸€åœˆçš„æ–¹æ¡ˆï¼Ÿç›´æ¥ä¸¢ç»™ LLM ä¸è¡Œå—ï¼Ÿ</strong></p>
<h3 data-id="heading-1">1. LLM çš„å±€é™æ€§ï¼šå¼ºï¼Œä½†ä¸æ˜¯æ— æ‰€ä¸èƒ½</h3>
<p>ç®€å•æ¥è¯´ï¼ŒLLM åƒä¸€ä¸ªè§å¤šè¯†å¹¿ä½†è®°ä¸ä½ä½ å…¬å¸å…·ä½“ä¸šåŠ¡çš„åŒäº‹ï¼Œä¸»è¦æœ‰å‡ ç±»é™åˆ¶ï¼š</p>
<ul>
<li>
<p><strong>é¢†åŸŸçŸ¥è¯†ç¼ºä¹</strong>
è®­ç»ƒæ•°æ®æ¥æºå¾ˆå¹¿ï¼Œä½†åœ¨åŒ»ç–—ã€æ³•å¾‹ã€é‡‘èã€ç»†åˆ† SaaS ç­‰å‚ç›´é¢†åŸŸï¼Œå¾€å¾€è¦†ç›–ä¸å¤Ÿç»†ï¼Œå›ç­”å®¹æ˜“åœç•™åœ¨æ³›æ³›è€Œè°ˆã€‚</p>
</li>
<li>
<p><strong>å¹»è§‰é—®é¢˜</strong>
ä¹Ÿå°±æ˜¯é‚£ç§ä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ã€‚åœ¨å†™ demoã€å†™ä¸€ç‚¹å°è„šæœ¬æ—¶é—®é¢˜ä¸å¤§ï¼Œä½†ä¸€æ—¦è½åˆ°é£æ§ã€åˆè§„è¿™ç§åœºæ™¯ï¼Œå°±å¾ˆå±é™©äº†ã€‚</p>
</li>
<li>
<p><strong>ä¿¡æ¯è¿‡æ—¶</strong>
æ¨¡å‹çš„çŸ¥è¯†åœåœ¨è®­ç»ƒæ•°æ®çš„æ—¶é—´ç‚¹ã€‚
å¯ä»¥ç†è§£ä¸ºï¼š<strong>å®ƒçš„ä¸–ç•Œè§‚æ˜¯æŸä¸ªæ—¶é—´ç‚¹çš„å¿«ç…§</strong>ï¼Œä¹‹åå‘ç”Ÿçš„æ”¿ç­–è°ƒæ•´ã€ä»·æ ¼å˜åŒ–ã€æŠ€æœ¯æ–¹æ¡ˆæ›´æ–°ï¼Œå®ƒå¤©ç„¶ä¸çŸ¥é“ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®å®‰å…¨</strong>
ä¼ä¸šå†…éƒ¨æ–‡æ¡£ã€ç§æœ‰æ•°æ®åº“ã€ä¸šåŠ¡ç³»ç»Ÿé‡Œçš„æ•°æ®ï¼Œæ²¡æ³•ç›´æ¥æ‹¿å»è®­ç»ƒå…¬æœ‰æ¨¡å‹ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥ï¼Œå¤§æ¨¡å‹æœ¬èº«æ›´åƒä¸€ä¸ªå¼ºæ¨ç†+å¼ºè¯­è¨€è¡¨è¾¾çš„ç»„ä»¶ï¼Œä¸æ˜¯ä¸€ä¸ªæ°¸è¿œæœ€æ–°ã€æ°¸è¿œæ­£ç¡®çš„çŸ¥è¯†åº“ã€‚</p>
<h3 data-id="heading-2">2. RAG çš„ä»·å€¼ï¼šç»™ LLM è£…ä¸€ä¸ªå¤–æŒ‚è„‘è¢‹</h3>
<p>é‚£ RAG åˆ°åº•è§£å†³äº†ä»€ä¹ˆï¼Ÿ</p>
<p>RAG(Retrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆ)ç®€å•ç†è§£ä¸ºï¼š</p>
<blockquote>
<p><strong>å…ˆä»ä½ çš„çŸ¥è¯†åº“é‡Œç¿»èµ„æ–™ï¼Œå†è®© LLM åŸºäºè¿™äº›èµ„æ–™æ¥å›ç­”é—®é¢˜ã€‚</strong></p>
</blockquote>
<p>å®ƒå¸¦æ¥çš„å‡ ä¸ªç›´æ¥æ”¶ç›Šï¼š</p>
<ul>
<li>
<p><strong>å¼¥è¡¥çŸ¥è¯†çŸ­æ¿</strong>
å¯ä»¥æŠŠä¼ä¸šæ–‡æ¡£ã€ä¸“ä¸šæ‰‹å†Œã€äº§å“çŸ¥è¯†åº“ç­‰ç»Ÿä¸€æ¥åˆ° LLM å‰é¢ï¼Œå˜æˆå®ƒå¯ä»¥å®æ—¶æŸ¥è¯¢çš„å¤–æŒ‚çŸ¥è¯†ã€‚</p>
</li>
<li>
<p><strong>å‡å°‘å¹»è§‰</strong>
æ¨¡å‹ä¸å†å®Œå…¨å‡­å°è±¡å’ŒçŒœæµ‹ä½œç­”ï¼Œè€Œæ˜¯æœ‰æ£€ç´¢åˆ°çš„æ–‡æ¡£åšæ”¯æŒï¼Œå¹»è§‰æ¯”ä¾‹ä¼šæ˜æ˜¾é™ä½ã€‚</p>
</li>
<li>
<p><strong>æ”¯æŒæœ€æ–°ä¿¡æ¯</strong>
çŸ¥è¯†åº“å¯ä»¥éšæ—¶æ›´æ–°(å¢é‡å…¥åº“ã€å®šæœŸåŒæ­¥ç­‰)ï¼Œä¸ç”¨æ¯æ¬¡éƒ½é‡è®­æ¨¡å‹ã€‚</p>
</li>
<li>
<p><strong>é™ä½æˆæœ¬</strong>
ä¸ç”¨æŠŠæ‰€æœ‰å†…å®¹ç¡¬å¡è¿› Promptï¼Œè€Œæ˜¯åªæ£€ç´¢ Top-K ç›¸å…³ç‰‡æ®µé€ç»™æ¨¡å‹ï¼ŒToken èŠ±åœ¨åˆ€åˆƒä¸Šã€‚</p>
</li>
<li>
<p><strong>æ•°æ®å®‰å…¨æ›´å¯æ§</strong>
æ•°æ®ç•™åœ¨è‡ªå·±çš„å‘é‡åº“æˆ–å†…éƒ¨å­˜å‚¨é‡Œï¼Œæ¨¡å‹åªçœ‹åˆ°å¿…è¦ä¸Šä¸‹æ–‡ï¼Œå‡å°‘æ•°æ®è£¸å¥”çš„é£é™©ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">3. RAG vs å¾®è°ƒï¼šæ€ä¹ˆé€‰ï¼Ÿ</h3>
<p>ç»å¸¸æœ‰äººé—®ï¼š<strong>æˆ‘è¦åšçŸ¥è¯†åº“é—®ç­”ï¼Œæ˜¯ç”¨ RAG è¿˜æ˜¯ç›´æ¥å¾®è°ƒï¼Ÿ</strong></p>
<p>å¯ä»¥ç”¨ä¸€å¼ ç®€å•å¯¹æ¯”è¡¨æ¥ç†è§£ï¼š</p>






























<table><thead><tr><th>ç»´åº¦</th><th>RAG</th><th>å¾®è°ƒ(Fine-tuning)</th></tr></thead><tbody><tr><td>çŸ¥è¯†æ›´æ–°</td><td>çµæ´»ï¼Œéšæ”¹éšç”¨</td><td>éœ€è¦é‡æ–°è®­ç»ƒã€éƒ¨ç½²</td></tr><tr><td>æˆæœ¬</td><td>æ£€ç´¢+è°ƒç”¨æˆæœ¬ï¼Œæ•´ä½“å¯æ§</td><td>è®­ç»ƒã€å­˜å‚¨ã€æ¨ç†æˆæœ¬éƒ½åé«˜</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>çŸ¥è¯†åº“é—®ç­”ã€æ–‡æ¡£åŠ©æ‰‹ã€å®æ—¶ä¿¡æ¯æŸ¥è¯¢</td><td>é¢†åŸŸæ¨ç†ã€ç‰¹å®šä»»åŠ¡æ ¼å¼ã€è¡Œä¸ºä¹ æƒ¯è°ƒä¼˜</td></tr><tr><td>æ•°æ®é‡è¦æ±‚</td><td>æ²¡æœ‰ç‰¹åˆ«åˆšæ€§è¦æ±‚</td><td>éœ€è¦å¤§é‡é«˜è´¨é‡æ ·æœ¬</td></tr></tbody></table>
<p><strong>ç®€å•æ¥è¯´ï¼š</strong></p>
<ul>
<li>å¦‚æœä½ è¦åšçš„æ˜¯<strong>åŸºäºæ–‡æ¡£å›ç­”é—®é¢˜</strong>ï¼Œä¼˜å…ˆè€ƒè™‘ RAGï¼›</li>
<li>å¦‚æœä½ è¦å¢å¼ºçš„æ˜¯<strong>æ¨¡å‹çš„è¡Œä¸ºæ¨¡å¼æˆ–æ¨ç†é£æ ¼</strong>(æ¯”å¦‚å·¥å…·è°ƒç”¨ä¹ æƒ¯ã€ç‰¹å®šç»“æ„è¾“å‡º)ï¼Œæ›´é€‚åˆå¾®è°ƒï¼›</li>
<li>å¾ˆå¤šå¤æ‚åœºæ™¯ï¼Œå…¶å®æ˜¯ <strong>RAG + å¾®è°ƒ</strong> ä¸€èµ·ä¸Šï¼š
RAG è´Ÿè´£æ‰¾åˆ°å¯¹çš„èµ„æ–™ï¼Œå¾®è°ƒè´Ÿè´£æ›´èªæ˜åœ°è¯»+æ›´ç¨³å®šåœ°è¾“å‡ºã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€RAG çš„æ ¸å¿ƒæ¦‚å¿µï¼šå‡ ä»¶ç»•ä¸è¿‡å»çš„äº‹</h2>
<p>è¿™éƒ¨åˆ†æˆ‘ä»¬æ¢ä¸ªæ€è·¯ï¼š
<strong>å…ˆé—®é—®é¢˜ï¼Œå†ç»™ä¸€ä¸ªå¯ä»¥ç†è§£ä¸ºçš„è§£é‡Šï¼Œå†è¡¥ä¸€ç‚¹ä¸“ä¸šç»†èŠ‚ã€‚</strong></p>
<h3 data-id="heading-5">1. åµŒå…¥å¼æ¨¡å‹(Embedding Model)ï¼šä¸ºä»€ä¹ˆè¦æŠŠæ–‡æœ¬å˜æˆå‘é‡ï¼Ÿ</h3>
<p>é—®é¢˜ï¼š<strong>ä¸ºä»€ä¹ˆåš RAG ä¸€å®šä¼šæåˆ° Embedding æ¨¡å‹ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>åµŒå…¥æ¨¡å‹å°±æ˜¯ä¸€ä¸ªæŠŠæ–‡æœ¬æ˜ å°„åˆ°è¯­ä¹‰ç©ºé—´åæ ‡çš„å·¥å…·ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼š</p>
<ul>
<li>å®ƒæ¥æ”¶ä¸€æ®µæ–‡æœ¬(ç”šè‡³å›¾ç‰‡ã€ä»£ç )</li>
<li>è¾“å‡ºä¸€ä¸²æ•°å­—(å‘é‡)</li>
<li>å‘é‡ä¹‹é—´çš„è·ç¦» = è¯­ä¹‰çš„ç›¸ä¼¼ç¨‹åº¦</li>
</ul>
<p>é€‰æ‹©ä»€ä¹ˆæ ·çš„åµŒå…¥æ¨¡å‹ï¼Œä¼šéå¸¸ç›´æ¥åœ°å½±å“ï¼š</p>
<ul>
<li>å¬å›æ˜¯å¦ç²¾å‡†</li>
<li>æ˜¯å¦èƒ½ç†è§£ä½ çš„ä¸“ä¸šåè¯</li>
<li>å¤šè¯­è¨€åœºæ™¯æ•ˆæœå¥½ä¸å¥½</li>
</ul>
<p>æ‰€ä»¥ï¼Œåœ¨ RAG ç³»ç»Ÿé‡Œï¼Œ<strong>Embedding æ¨¡å‹å‡ ä¹å’Œå¤§æ¨¡å‹æœ¬èº«åŒç­‰é‡è¦</strong>ã€‚</p>
<h3 data-id="heading-6">2. å‘é‡(Vector)ï¼šè¯­ä¹‰åæ ‡</h3>
<p>é—®é¢˜ï¼š<strong>å‘é‡åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ç®€å•æ¥è¯´ï¼š</p>
<blockquote>
<p>å‘é‡å°±æŠŠä¸€å¥è¯å˜æˆäº†ä¸€ä¸²æ•°å­—ï¼Œè¿™ä¸²æ•°å­—æ˜¯å®ƒåœ¨è¯­ä¹‰ç©ºé—´é‡Œçš„åæ ‡ã€‚</p>
</blockquote>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>
<p>è¯­ä¹‰æ¥è¿‘ â‡’ å‘é‡è·ç¦»æ›´è¿‘
æ¯”å¦‚ï¼š</p>
<ul>
<li>è‹¹æœæ‰‹æœº å’Œ iPhone çš„å‘é‡ä¼šå¾ˆè¿‘</li>
<li>è‹¹æœæ‰‹æœº å’Œ æ°´æœè‹¹æœ çš„å‘é‡ä¼šæœ‰è·ç¦»</li>
</ul>
</li>
</ul>
<p>æŠ€æœ¯å®ç°ä¸Šå¯èƒ½æ˜¯å‡ ç™¾ç»´ã€ä¸Šåƒç»´ï¼Œä½†å¯¹æˆ‘ä»¬åšåº”ç”¨å¼€å‘æ¥è¯´ï¼Œ<strong>æŠŠå®ƒå½“æˆè¯­ä¹‰åæ ‡å°±å¤Ÿäº†</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0be386f3e1be43029e39e83637dc7401~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pivQURJ5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634862&amp;x-signature=tVDEV%2BQr6skeDQG%2BYpqCOshkSfM%3D" alt="vector.png" loading="lazy"/></p>
<h3 data-id="heading-7">3. å‘é‡æ•°æ®åº“(VectorStore)ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¸“é—¨çš„åº“ï¼Ÿ</h3>
<p>é—®é¢˜ï¼š<strong>æˆ‘æœ‰äº†å‘é‡ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ä¸€ä¸ªä¸“é—¨çš„å‘é‡æ•°æ®åº“ï¼Ÿæ™®é€šæ•°æ®åº“ä¸è¡Œå—ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>å‘é‡æ•°æ®åº“å°±æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨è¯­ä¹‰ç©ºé—´é‡Œåšæœ€è¿‘é‚»æœç´¢çš„æ•°æ®åº“ã€‚</p>
</blockquote>
<p>å¦‚æœä¸ä½¿ç”¨å‘é‡åº“ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¿™ä¹ˆåšï¼š</p>
<ul>
<li>æŠŠæ‰€æœ‰æ–‡æ¡£å†…å®¹å¡è¿› Prompt</li>
<li>æˆ–è€…è‡ªå·±ç©·ä¸¾å­—ç¬¦ä¸²åŒ¹é…ã€å…³é”®è¯æœç´¢</li>
</ul>
<p>é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>å¤§æ¨¡å‹æœ‰ä¸Šä¸‹æ–‡é•¿åº¦é™åˆ¶ï¼Œå†…å®¹ä¸€å¤šå°±æº¢å‡º</li>
<li>Prompt é‡Œå¡å¤ªå¤šæ— å…³ä¿¡æ¯ï¼Œå¹»è§‰åè€Œæ›´ä¸¥é‡</li>
<li>Token æˆæœ¬ä¹Ÿé¡¶ä¸ä½</li>
</ul>
<p>å‘é‡æ•°æ®åº“ä¸€èˆ¬ä¼šåšå‡ ä»¶äº‹ï¼š</p>
<ol>
<li>é•¿æ–‡æ¡£åˆ†å—(Chunking)ï¼Œæ¯å—ç”Ÿæˆå‘é‡</li>
<li>ä¿å­˜å‘é‡ + åŸæ–‡ + å…ƒæ•°æ®(æ¥æºã€æ—¶é—´ç­‰)</li>
<li>ç”¨æˆ·æé—®æ—¶ï¼ŒæŠŠé—®é¢˜å‘é‡åŒ–</li>
<li>åœ¨å‘é‡ç©ºé—´é‡Œæ‰¾ Top-K æœ€é è¿‘çš„å—è¿”å›</li>
</ol>
<p>è¿™æ ·æˆ‘ä»¬å°±åªéœ€è¦æŠŠè¿™å‡ ä¸ªç›¸å…³ chunk æ”¾è¿› Promptï¼Œå¤§å¤§èŠ‚çœæˆæœ¬ï¼ŒåŒæ—¶ä¿è¯å›ç­”æ›´æœ‰æ ¹æœ‰æ®ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€RAG æ ‡å‡†æµç¨‹ï¼šä»é—®é¢˜åˆ°ç­”æ¡ˆçš„è·¯å¾„</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4f500d7a6734fd29da45e680dfe0850~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pivQURJ5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634862&amp;x-signature=Ayx9nciRZnj8TyHTFgwTfD6BZ8w%3D" alt="RAG.png" loading="lazy"/></p>
<p>å¯ä»¥å…ˆæŠŠæ•´ä¸ªæµç¨‹çœ‹æˆä¸€æ¡æµæ°´çº¿ï¼š</p>
<pre><code class="hljs language-text" lang="text">ç”¨æˆ·æé—® â†’ æŸ¥è¯¢å‘é‡åŒ– â†’ å‘é‡æœç´¢ â†’ æ£€ç´¢ Top-K æ–‡æ¡£ â†’ æ„é€  Prompt â†’ LLM ç”Ÿæˆ â†’ è¿”å›ç­”æ¡ˆ
</code></pre>
<p>ä¸€èˆ¬ä¼šåˆ†æˆä¸‰ä¸ªé˜¶æ®µï¼š<strong>ç´¢å¼•(Indexing) â†’ æ£€ç´¢(Retrieval) â†’ ç”Ÿæˆ(Generation)</strong>ã€‚</p>
<h3 data-id="heading-9">1. ç´¢å¼•é˜¶æ®µ(Indexing)ï¼šå…ˆæŠŠèµ„æ–™å˜æˆå¯æ£€ç´¢çš„å½¢æ€</h3>
<p>ç´¢å¼•é˜¶æ®µä¸»è¦åšä¸‰ä»¶äº‹ï¼š</p>
<h4 data-id="heading-10">(1)æ–‡æ¡£è§£æ</h4>
<ul>
<li>æ”¯æŒå¤šç§æ ¼å¼ï¼šPDFã€Wordã€Markdownã€HTMLã€ä»£ç ä»“åº“ç­‰</li>
<li>ç›®æ ‡æ˜¯<strong>æå–å¹²å‡€æ–‡æœ¬</strong>ï¼Œä¸ºåç»­åˆ†å—åšå‡†å¤‡</li>
</ul>
<h4 data-id="heading-11">(2)åˆ†å—(Chunking)</h4>
<p>åˆ†å—å…¶å®æ˜¯ä¸€ä¸ªéå¸¸å…³é”®çš„å†³ç­–ç‚¹ï¼š</p>
<ul>
<li>å—å¤ªå¤§ï¼šå‘é‡è¯­ä¹‰å¤ªæ··ï¼Œæ£€ç´¢å®¹æ˜“ä¸ç²¾ç¡®</li>
<li>å—å¤ªå°ï¼šè¯­ä¹‰è¢«åˆ‡ç¢ï¼Œæ¨¡å‹æ‹¿åˆ°çš„ä¸Šä¸‹æ–‡æ”¯ç¦»ç ´ç¢</li>
</ul>
<p>åé¢æœ‰ä¸€æ•´èŠ‚ä¼šä¸“é—¨å±•å¼€è®²åˆ†å—ç­–ç•¥ã€‚</p>
<h4 data-id="heading-12">(3)å‘é‡åµŒå…¥(Embedding)</h4>
<ul>
<li>æ¯ä¸ªæ–‡æœ¬å—ç”¨åŒä¸€ä¸ªåµŒå…¥æ¨¡å‹ç”Ÿæˆå‘é‡</li>
<li>ä¸€èµ·å†™å…¥å‘é‡æ•°æ®åº“
ä¸€èˆ¬è¿˜ä¼šé™„å¸¦ä¸€äº›å…ƒæ•°æ®(æ–‡æ¡£åã€æ—¶é—´ã€æ¥æºç±»å‹ç­‰)</li>
</ul>
<h3 data-id="heading-13">2. æ£€ç´¢é˜¶æ®µ(Retrieval)ï¼šæŠŠç”¨æˆ·é—®é¢˜æ˜ å°„åˆ°çŸ¥è¯†å—</h3>
<p>æ£€ç´¢é˜¶æ®µä¸²èµ·æ¥å…¶å®å°±æ˜¯ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>æŠŠç”¨æˆ·çš„é—®é¢˜å˜æˆå‘é‡ â†’ å»å‘é‡åº“é‡Œæ‰¾æœ€è¿‘çš„ä¸€äº›å—</strong>ã€‚</p>
</blockquote>
<p>å…·ä½“æ­¥éª¤ï¼š</p>
<ul>
<li>æŸ¥è¯¢å‘é‡åŒ–ï¼š
ç”¨å’Œå…¥åº“æ—¶ç›¸åŒçš„åµŒå…¥æ¨¡å‹ï¼ŒæŠŠç”¨æˆ·é—®é¢˜è½¬æˆå‘é‡</li>
<li>ç›¸ä¼¼åº¦åŒ¹é…(Top-K æ£€ç´¢)ï¼š
å¸¸è§åšæ³•æ˜¯ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ã€ç‚¹ç§¯ç­‰ï¼Œåœ¨å‘é‡åº“é‡Œæ‰¾æœ€ç›¸è¿‘çš„ K ä¸ªæ–‡æœ¬å—</li>
</ul>
<p>è¿™ä¸€æ­¥çš„ç›®æ ‡æ˜¯ï¼š
<strong>ä¿è¯æ‹¿åˆ°çš„æ˜¯å¯¹çš„èµ„æ–™ï¼Œè€Œä¸ä»…ä»…æ˜¯æ‹¿åˆ°äº†èµ„æ–™ã€‚</strong></p>
<h3 data-id="heading-14">3. ç”Ÿæˆé˜¶æ®µ(Generation)ï¼šæŠŠèµ„æ–™è½¬æˆå›ç­”</h3>
<p>è¿™ä¸€æ­¥å°±æ˜¯å¤§å®¶æœ€ç†Ÿæ‚‰çš„ LLM å·¥ä½œæµç¨‹ï¼Œä½†æœ‰ä¸¤ä¸ªç»†èŠ‚å¾ˆé‡è¦ï¼š</p>
<h4 data-id="heading-15">(1)Prompt æ„é€ </h4>
<p>ä¸€ä¸ªæ¯”è¾ƒå¸¸è§ã€ä¹Ÿæ¯”è¾ƒç¨³å¦¥çš„å†™æ³•ï¼š</p>
<pre><code class="hljs language-text" lang="text">System: ä½ æ˜¯ä¸€ä¸ªçŸ¥è¯†åº“åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ä»¥ä¸‹å‚è€ƒèµ„æ–™å›ç­”ç”¨æˆ·é—®é¢˜ã€‚
å¦‚æœå‚è€ƒèµ„æ–™ä¸­æ²¡æœ‰æåˆ°ç›¸å…³ä¿¡æ¯ï¼Œè¯·ç›´æ¥è¯´æ˜åœ¨å½“å‰çŸ¥è¯†åº“ä¸­æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯ï¼Œä¸è¦æ ¹æ®å¸¸è¯†æˆ–æƒ³è±¡ç¼–é€ ç­”æ¡ˆã€‚

å‚è€ƒèµ„æ–™ï¼š
{æ£€ç´¢åˆ°çš„æ–‡æ¡£å—1}
{æ£€ç´¢åˆ°çš„æ–‡æ¡£å—2}
...

User: {ç”¨æˆ·åŸå§‹é—®é¢˜}
</code></pre>
<h4 data-id="heading-16">(2)LLM ç”Ÿæˆå›ç­”</h4>
<p>æ¨¡å‹ä¼šåŸºäºï¼š</p>
<ul>
<li>ç”¨æˆ·çš„åŸå§‹é—®é¢˜</li>
<li>æ£€ç´¢åˆ°çš„ä¸Šä¸‹æ–‡</li>
</ul>
<p>ç»¼åˆç”Ÿæˆç­”æ¡ˆã€‚
è¿™ä¸€å±‚çš„æ•ˆæœï¼Œé™¤äº†å’Œæ¨¡å‹æœ¬èº«èƒ½åŠ›æœ‰å…³ï¼Œ<strong>è·Ÿ Prompt è®¾è®¡ä¹Ÿå¼ºç›¸å…³</strong>ï¼Œåé¢æœ‰ä¸“é—¨ä¸€èŠ‚èŠæç¤ºè¯åœ¨ RAG é‡Œçš„ç”¨æ³•ã€‚</p>
<hr/>
<h2 data-id="heading-17">å››ã€åˆ†å—(Chunking)ç­–ç•¥ï¼šRAG çš„ç¬¬ä¸€é“å…³é”®é—¸é—¨</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c957b77366648c48200ffbfb6840e3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pivQURJ5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634862&amp;x-signature=%2FsyB3Fe7WFEy7BRJY0%2BeoZXJFnw%3D" alt="chunking.png" loading="lazy"/></p>
<p>å¾ˆå¤š RAG é¡¹ç›®æ•ˆæœä¸å¥½ï¼Œå…¶å®å¡åœ¨ç¬¬ä¸€æ­¥â€”â€”<strong>åˆ†å—æ²¡å¤„ç†å¥½</strong>ã€‚</p>
<blockquote>
<p>æ¨èä¸€ä¸ªå¯è§†åŒ–åˆ†å—çš„å°å·¥å…·ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fchunkviz.up.railway.app%2F" target="_blank" title="https://chunkviz.up.railway.app/" ref="nofollow noopener noreferrer">chunkviz.up.railway.app/</a>
å¯ä»¥æ‹–è‡ªå·±çš„æ–‡æ¡£è¿›å»ï¼Œç›´è§‚æ„Ÿå—ä¸åŒç­–ç•¥çš„æ•ˆæœã€‚</p>
</blockquote>
<p>ä¸‹é¢å°±æŒ‰ç…§å¸¸è§å‡ ç§ç­–ç•¥ç®€å•æ‹†ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-18">1. å›ºå®šå¤§å°åˆ†å—(Fixed Size Chunking)</h3>
<p>é—®é¢˜ï¼š<strong>å¦‚æœæˆ‘ä»€ä¹ˆéƒ½ä¸è°ƒï¼Œç›´æ¥æŒ‰å­—æ•°/Token åˆ‡å¯ä»¥å—ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>ç”¨ä¸€æŠŠç»Ÿä¸€é•¿åº¦çš„å°ºï¼ŒæŒ‰ 500/1000 å­—è¿™æ ·å¾€ä¸‹åˆ‡ã€‚</p>
</blockquote>





















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>å®ç°ç®€å•ï¼Œå¾ˆå®¹æ˜“ä¸Šæ‰‹</td><td>å®Œå…¨ä¸è€ƒè™‘è¯­ä¹‰è¾¹ç•Œï¼Œå¯èƒ½æŠŠå¥å­åˆ‡æ–­</td></tr><tr><td>åˆ†å—å¤§å°å¯é¢„æœŸï¼Œæ–¹ä¾¿æ§åˆ¶ Token</td><td>æŸäº›å—ä¿¡æ¯å¯†åº¦å¾ˆä½ï¼Œæ˜¾å¾—æµªè´¹</td></tr><tr><td>é€‚åˆæ ¼å¼é«˜åº¦ç»Ÿä¸€çš„æ•°æ®é›†</td><td>å¯¹è¯­ä¹‰ç›¸å…³æ€§æ²¡æœ‰ä¼˜åŒ–</td></tr></tbody></table>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
å¿«é€ŸåŸå‹ã€åš baselineã€æ–°é—»/åšå®¢ç­‰ç›¸å¯¹ç»“æ„ç®€å•çš„å†…å®¹ã€‚</p>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼š<strong>å…ˆè·‘èµ·æ¥çš„æ–¹æ¡ˆ</strong>ï¼Œä¸æ˜¯æœ€ä¼˜ï¼Œä½†å®¹æ˜“åšå¯¹ã€‚</p>
</blockquote>
<h3 data-id="heading-19">2. é‡å åˆ†å—(Overlap Chunking)</h3>
<p>é—®é¢˜ï¼š<strong>å¦‚ä½•é™ä½åˆšå¥½åˆ‡åœ¨å…³é”®å¥ä¸­é—´çš„é£é™©ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>æ¯ä¸ªå—éƒ½è·Ÿä¸Šä¸€ä¸ªå—æœ‰ä¸€éƒ¨åˆ†é‡å ï¼Œç±»ä¼¼æ»‘åŠ¨çª—å£ã€‚</p>
</blockquote>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>å…³é”®è¯­ä¹‰åŒæ—¶å‡ºç°åœ¨ç›¸é‚»ä¸¤ä¸ªå—é‡Œï¼Œé™ä½æ–­å¥å¸¦æ¥çš„ä¿¡æ¯ä¸¢å¤±</td><td>å­˜å‚¨é‡å’Œæ£€ç´¢è®¡ç®—æˆæœ¬ä¼šç•¥å¾®ä¸Šå‡</td></tr><tr><td>ä¸Šä¸‹æ–‡è¿è´¯æ€§æ›´å¥½ï¼Œç‰¹åˆ«é€‚åˆé•¿æ®µè§£é‡Šæ€§æ–‡å­—</td><td>å®ç°ç¨å¤æ‚ï¼Œéœ€è¦è°ƒçª—å£å’Œé‡å å¤§å°</td></tr></tbody></table>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
åˆåŒã€æ³•å¾‹æ¡æ–‡ã€æŠ€æœ¯æ‰‹å†Œã€è®ºæ–‡ç­‰å¯¹ä¸Šä¸‹æ–‡ä¸€è‡´æ€§è¦æ±‚é«˜çš„å†…å®¹ã€‚</p>
<blockquote>
<p>å¯ä»¥ç†è§£ä¸ºï¼š<strong>å®å¯å¤šå­˜ä¸€ç‚¹ï¼Œä¹Ÿä¸è¦æˆªæ–­å…³é”®ä¿¡æ¯</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-20">3. é€’å½’åˆ†å—(Recursive Chunking)</h3>
<p>é—®é¢˜ï¼š<strong>æœ‰æ²¡æœ‰åŠæ³•æ—¢è€ƒè™‘è¯­ä¹‰ç»“æ„ï¼Œåˆèƒ½æ§åˆ¶å—å¤§å°ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>å…ˆæŒ‰å¤§ç»“æ„åˆ‡ï¼Œå†åœ¨æ¯ä¸€å—é‡ŒæŒ‰æ›´å°çš„ç»“æ„ç»§ç»­åˆ‡ï¼Œç›´åˆ°æ»¡è¶³é•¿åº¦é™åˆ¶ã€‚</p>
</blockquote>
<p>å…¸å‹åšæ³•ï¼š</p>
<ol>
<li>å…ˆæŒ‰æ®µè½(<code>\n\n</code>)æ‹†</li>
<li>å†æŒ‰å•è¡Œ(<code>\n</code>)ã€å¥å·ã€é€—å·ç­‰è¿›ä¸€æ­¥æ‹†</li>
<li>æ¯ä¸€å±‚éƒ½æ§åˆ¶æœ€å¤§é•¿åº¦</li>
</ol>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>èƒ½å¾ˆå¥½åœ°ä¿ç•™åŸæ–‡ç»“æ„ï¼Œæ¯”å¦‚ç« èŠ‚ â†’ æ®µè½ â†’ å¥å­</td><td>å®ç°ä¸Šéœ€è¦é…ç½®è¾ƒå¤šå‚æ•°(åˆ†éš”ç¬¦é¡ºåºã€æœ€å¤§é•¿åº¦ç­‰)</td></tr><tr><td>é€šå¸¸æ¯”çº¯å›ºå®šé•¿åº¦æ›´è´´è¿‘è¯­ä¹‰ç»“æ„</td><td>å¯¹æ ¼å¼è¾ƒæ··ä¹±çš„æ–‡æ¡£ï¼Œæ•ˆæœä¾èµ–åˆ†éš”ç¬¦è´¨é‡</td></tr></tbody></table>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
é•¿æŠ¥å‘Šã€ç ”ç©¶æ–‡æ¡£ã€åè®®ç±»æ–‡æœ¬ç­‰ã€‚</p>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼š<strong>å…ˆç²—åç»†ï¼Œé€å±‚æ‹†è§£</strong>ï¼Œæ˜¯å¾ˆå¤šæ¡†æ¶(å¦‚ LangChain)çš„æ¨èé»˜è®¤ç­–ç•¥ã€‚</p>
</blockquote>
<h3 data-id="heading-21">4. æ–‡æ¡£ç‰¹å®šåˆ†å—(Document Specific Chunking)</h3>
<p>é—®é¢˜ï¼š<strong>ä»£ç ã€Markdownã€LaTeX è¿™ç§å¼ºç»“æ„åŒ–å†…å®¹æ€ä¹ˆåˆ‡ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>åˆ©ç”¨æ–‡æ¡£æœ¬èº«çš„ç»“æ„ä¿¡æ¯å½“ä½œåˆ†éš”ç¬¦ã€‚</p>
</blockquote>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>Markdownï¼šæŒ‰æ ‡é¢˜å±‚çº§ã€åˆ—è¡¨é¡¹æ‹†</li>
<li>Pythonï¼šæŒ‰å‡½æ•°ã€ç±»ã€æ¨¡å—çº§å®šä¹‰åˆ‡</li>
<li>LaTeXï¼šæŒ‰ç« èŠ‚ã€å…¬å¼ã€ç¯å¢ƒåˆ‡</li>
</ul>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>éå¸¸è´´åˆåŸå§‹ç»“æ„ï¼Œè¯­ä¹‰å•å…ƒé€šå¸¸å¾ˆå®Œæ•´</td><td>é’ˆå¯¹æ€§å¼ºï¼Œè·¨æ ¼å¼å¤ç”¨æ€§å·®</td></tr><tr><td>å¯¹ä»£ç ã€API æ–‡æ¡£è¿™ç§ç»“æ„åŒ–å†…å®¹æ•ˆæœå¾ˆå¥½</td><td>éœ€è¦ä¸ºä¸åŒæ–‡æ¡£ç±»å‹å†™ä¸åŒé€»è¾‘</td></tr></tbody></table>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
ä»£ç ä»“åº“ã€READMEã€API æ–‡æ¡£ã€æŠ€æœ¯åšå®¢ç­‰ã€‚</p>
<blockquote>
<p>å¯ä»¥ç†è§£ä¸ºï¼š<strong>æ ¼å¼å³è¾¹ç•Œ</strong>ï¼Œå°¤å…¶é€‚åˆä»£ç ç±»åœºæ™¯ã€‚</p>
</blockquote>
<h3 data-id="heading-22">5. è¯­ä¹‰åˆ†å—(Semantic Chunking)</h3>
<p>é—®é¢˜ï¼š<strong>èƒ½ä¸èƒ½æ™ºèƒ½åœ°æŒ‰è¯­ä¹‰è¾¹ç•Œåˆ†å—ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>å€ŸåŠ© NLP å·¥å…·ï¼ŒæŒ‰è¯­ä¹‰è¿è´¯çš„æ®µè½/å¥å­æ¥åˆ‡ï¼Œè€Œä¸æ˜¯ç®€å•çœ‹å­—æ•°ã€‚</p>
</blockquote>
<p>å¸¸ç”¨å·¥å…·ï¼š</p>
<ul>
<li>spaCy</li>
<li>NLTK</li>
<li>ä»¥åŠä¸€äº›ä¸“é—¨åš semantic splitting çš„åº“</li>
</ul>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>æ¯ä¸ªå—å†…éƒ¨è¯­ä¹‰é€šå¸¸å¾ˆå®Œæ•´ï¼Œæ£€ç´¢ç›¸å…³æ€§å¾ˆé«˜</td><td>éœ€è¦é¢å¤–è®¡ç®—ï¼Œé¢„å¤„ç†æˆæœ¬æ›´é«˜</td></tr><tr><td>å¯¹ç²¾åº¦è¦æ±‚é«˜çš„é—®ç­”ç³»ç»Ÿæ•ˆæœæ˜æ˜¾</td><td>å®ç°å¤æ‚åº¦é«˜ä¸€äº›</td></tr></tbody></table>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
é«˜è¦æ±‚é—®ç­”ç³»ç»Ÿã€éœ€è¦å°½é‡å‡å°‘æ£€ç´¢å‡ºæ¥å´ç”¨ä¸ä¸Šçš„å†—ä½™å—ã€‚</p>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼š<strong>è¯­ä¹‰ä¼˜å…ˆï¼Œæˆæœ¬å…¶æ¬¡</strong> çš„é«˜è´¨é‡ç©æ³•ã€‚</p>
</blockquote>
<h3 data-id="heading-23">6. æ··åˆåˆ†å—(Mix Chunking)</h3>
<p>é—®é¢˜ï¼š<strong>èƒ½ä¸èƒ½æ—¢è¦æ•ˆç‡åˆè¦ç²¾åº¦ï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>æŠŠå‡ ç§ç­–ç•¥æŒ‰å±‚æ¬¡/é˜¶æ®µç»„åˆèµ·æ¥ç”¨ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ï¼š</p>
<ol>
<li>é¦–è½®ï¼šå›ºå®šé•¿åº¦åˆ†å—ï¼Œå¿«é€Ÿå»ºç«‹ä¸€ä¸ªåŸºç¡€å‘é‡åº“</li>
<li>å…³é”®ä¸šåŠ¡æ–‡æ¡£ï¼šå†é¢å¤–åšè¯­ä¹‰åˆ†å—/æ–‡æ¡£ç‰¹å®šåˆ†å—</li>
<li>æ£€ç´¢æ—¶ï¼šé’ˆå¯¹ç‰¹å®šç±»å‹æ–‡æ¡£é€‰ä¸åŒç´¢å¼•</li>
</ol>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>å¯ä»¥åœ¨ä¸åŒç±»å‹æ•°æ®ä¸Šç”¨æœ€åˆé€‚çš„ç­–ç•¥</td><td>æ•´ä½“è®¾è®¡å’Œç»´æŠ¤æˆæœ¬æ›´é«˜</td></tr><tr><td>æ›´é€‚åˆçœŸå®å¤æ‚ä¸šåŠ¡åœºæ™¯</td><td>éœ€è¦ç›‘æ§å’Œè°ƒå‚ï¼Œé¿å…ç­–ç•¥æ‰“æ¶</td></tr></tbody></table>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š
æ•°æ®æ ¼å¼å¤šã€ä¸šåŠ¡å¤æ‚ã€åŒæ—¶è€ƒè™‘ä¸Šçº¿é€Ÿåº¦å’Œæ•ˆæœçš„é¡¹ç›®ã€‚</p>
<blockquote>
<p>å¯ä»¥ç†è§£ä¸ºï¼š<strong>å·¥ç¨‹åŒ–çš„ç°å®è§£</strong>ï¼Œå–é•¿è¡¥çŸ­ã€‚</p>
</blockquote>
<h3 data-id="heading-24">7. å¦‚ä½•é€‰åˆ†å—ç­–ç•¥ï¼Ÿ</h3>
<p>å¯ä»¥å…ˆæŒ‰åœºæ™¯åšä¸€ä¸ªç²—åˆ†ï¼š</p>





























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èç­–ç•¥</th></tr></thead><tbody><tr><td>å¿«é€Ÿ PoC / Demo</td><td>å›ºå®šå¤§å°åˆ†å—</td></tr><tr><td>çŸ¥è¯†åº“ç»“æ„è¾ƒæ¸…æ™°çš„é•¿æ–‡æ¡£</td><td>é€’å½’åˆ†å— + å°‘é‡é‡å </td></tr><tr><td>ä»£ç /Markdown ç­‰ç»“æ„åŒ–å†…å®¹</td><td>æ–‡æ¡£ç‰¹å®šåˆ†å—</td></tr><tr><td>é«˜ç²¾åº¦é—®ç­”ã€å¯¹å¬å›è´¨é‡éå¸¸æ•æ„Ÿ</td><td>è¯­ä¹‰åˆ†å—æˆ–æ··åˆåˆ†å—</td></tr><tr><td>æ•°æ®ç±»å‹æ‚ã€è¿­ä»£æœŸé•¿</td><td>æ··åˆåˆ†å—</td></tr></tbody></table>
<p>ä¸€èˆ¬çš„å®è·µå»ºè®®ï¼š</p>
<blockquote>
<p><strong>ä»é€’å½’åˆ†å—èµ·æ­¥ï¼Œç„¶åæ ¹æ®ä¸šåŠ¡æ•ˆæœå†é€æ­¥ç²¾ç»†åŒ–ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-25">äº”ã€æ£€ç´¢ç­–ç•¥ä¸ä¼˜åŒ–ï¼šä¸ä»…æ˜¯æ‰¾å¾—åˆ°ï¼Œè¿˜è¦æ‰¾å¾—å¥½</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05971fb7729a4fefa0e7be8197da6403~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pivQURJ5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634862&amp;x-signature=%2FQhIamSrj4ZFq8gEEkmcxc0J4Ok%3D" alt="vector search.png" loading="lazy"/></p>
<p>å½“æˆ‘ä»¬è¯´æ£€ç´¢ï¼Œå…¶å®èƒŒåæœ‰ä¸å°‘å¯è°ƒæ§çš„æ–¹æ¡ˆã€‚è¿™é‡ŒæŒ‘å‡ ä¸ªæ ¸å¿ƒç‚¹èŠã€‚</p>
<h3 data-id="heading-26">1. å‘é‡æ£€ç´¢ç±»å‹ï¼šç¨ å¯† / ç¨€ç– / æ··åˆ</h3>
<h4 data-id="heading-27">(1)ç¨ å¯†å‘é‡(Dense Vector)ï¼šè¯­ä¹‰æœç´¢</h4>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>ç”¨åµŒå…¥æ¨¡å‹æŠŠæ–‡æœ¬å˜æˆè¿ç»­å‘é‡ï¼Œå†ç”¨å‘é‡ç›¸ä¼¼åº¦æ‰¾æ„æ€åƒçš„å†…å®¹ã€‚</p>
</blockquote>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>èƒ½æ•æ‰ç›¸åŒå«ä¹‰çš„ä¸åŒè¡¨è¿°ï¼Œæ¯”å¦‚ AI ç¼–ç¨‹ vs äººå·¥æ™ºèƒ½ç¨‹åºè®¾è®¡</td><td>å¯¹ç‰¹åˆ«ä¾èµ–å…³é”®è¯ã€å‹å·ã€ä¸“ä¸šç¼©å†™çš„åœºæ™¯ï¼Œè¡¨è¾¾ä¸ä¸€å®šç¨³</td></tr><tr><td>å¯¹æ¨¡ç³ŠæŸ¥è¯¢ã€è‡ªç„¶è¯­è¨€é—®é¢˜è¡¨ç°å¥½</td><td>è°ƒ embedding æ¨¡å‹ã€è°ƒå‚æ•°éœ€è¦ä¸€äº›ç»éªŒ</td></tr></tbody></table>
<h4 data-id="heading-28">(2)ç¨€ç–å‘é‡(Sparse Vector)ï¼šå…³é”®è¯/BM25</h4>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>ç»å…¸æœç´¢å¼•æ“(å¦‚ Elasticsearch)çš„é‚£å¥—ï¼šæ ¹æ®è¯é¢‘ã€é€†æ–‡æ¡£é¢‘ç‡æ‰“åˆ†ã€‚</p>
</blockquote>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>å¯¹ç²¾ç¡®å…³é”®è¯ã€äº§å“å‹å·ã€IDã€æœ¯è¯­ç‰¹åˆ«å‹å¥½</td><td>å¯¹è‡ªç„¶è¯­è¨€æé—®ã€è¯´äººè¯çš„é—®é¢˜æ”¯æŒæœ‰é™</td></tr><tr><td>å®ç°æˆç†Ÿï¼Œæ€§èƒ½å’Œå¯è§‚å¯Ÿæ€§éƒ½å¾ˆå¥½</td><td>æ— æ³•è‡ªåŠ¨ç†è§£åŒä¹‰è¯ã€è¿‘ä¹‰è¯</td></tr></tbody></table>
<h4 data-id="heading-29">(3)æ··åˆæœç´¢(Hybrid Search)ï¼šå½“å‰ä¸»æµæ¨è</h4>
<p>å®è·µä¸­ï¼Œ<strong>æœ€ç¨³å¦¥çš„æ–¹æ¡ˆ</strong>å¾€å¾€æ˜¯ï¼š</p>
<ol>
<li>ç¨ å¯† + ç¨€ç–å„è‡ªè·‘ä¸€éæ£€ç´¢</li>
<li>æŠŠç»“æœåˆå¹¶</li>
<li>ç”¨é‡æ’åºæˆ–æ‰“åˆ†èåˆåšä¸€ä¸ªæœ€ç»ˆæ’åº</li>
</ol>
<p>è¿™æ ·å¯ä»¥åŒæ—¶åˆ©ç”¨ï¼š</p>
<ul>
<li>ç¨ å¯†å‘é‡çš„è¯­ä¹‰èƒ½åŠ›</li>
<li>ç¨€ç–å‘é‡çš„å…³é”®è¯ç²¾ç¡®åŒ¹é…èƒ½åŠ›</li>
</ul>
<hr/>
<h2 data-id="heading-30">å…­ã€RAG è°ƒä¼˜å®è·µï¼šä»èƒ½ç”¨åˆ°å¥½ç”¨</h2>
<p>æˆ‘è‡ªå·±åœ¨ä¼˜åŒ– RAG æ—¶ï¼Œä¼šæŠŠè°ƒä¼˜æ‹†æˆä¸‰æ®µï¼š<strong>é¢„å¤„ç† â†’ æ£€ç´¢ â†’ åå¤„ç†</strong>ã€‚</p>
<h3 data-id="heading-31">1. é¢„å¤„ç†ä¼˜åŒ–ï¼šæŠŠè¾“å…¥æå¹²å‡€</h3>
<h4 data-id="heading-32">(1)æ•°æ®æ¸…æ´—</h4>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨å…¥åº“å‰æ´—ä¸ªæ¾¡ï¼š</p>
<ul>
<li>å»æ‰å™ªå£°(å¦‚å¤šä½™é¡µçœ‰é¡µè„šã€æ°´å°)</li>
<li>ç»Ÿä¸€æ ¼å¼(æ ‡ç‚¹ã€ç©ºè¡Œã€ç¼–ç )</li>
<li>æ ‡å‡†åŒ–ä¸€äº›ç‰¹æ®Šç¬¦å·</li>
</ul>
<p>è¿™æ ·åšçš„ç›´æ¥å¥½å¤„ï¼š</p>
<ul>
<li>å‘é‡æ›´å¹²å‡€ï¼Œè¯­ä¹‰æ›´é›†ä¸­</li>
<li>é¿å…æŠŠå¾ˆå¤šåƒåœ¾å†…å®¹å½“æˆçŸ¥è¯†å¡è¿›æ¨¡å‹</li>
</ul>
<h4 data-id="heading-33">(2)åˆ†å—ç­–ç•¥è°ƒä¼˜</h4>
<p>å‰é¢å·²ç»å±•å¼€è®²è¿‡ï¼Œè¿™é‡Œåªè¡¥ä¸€å¥ï¼š</p>
<blockquote>
<p><strong>åˆ†å—ç­–ç•¥æœ¬èº«å°±æ˜¯ä¸€ä¸ªæå…¶é‡è¦çš„è°ƒå‚ç»´åº¦ã€‚</strong></p>
</blockquote>
<p>å¯ä»¥é€šè¿‡ï¼š</p>
<ul>
<li>è°ƒ chunk å¤§å°</li>
<li>è°ƒé‡å æ¯”ä¾‹</li>
<li>é’ˆå¯¹ä¸åŒæ–‡æ¡£ç±»å‹ç”¨ä¸åŒç­–ç•¥</li>
</ul>
<p>æ¥æ…¢æ…¢æ‰¾ä¸€ä¸ªé€‚åˆè‡ªå·±ä¸šåŠ¡çš„å¹³è¡¡ç‚¹ã€‚</p>
<h3 data-id="heading-34">2. æ£€ç´¢ä¼˜åŒ–ï¼šè®©è¯¥æ¥çš„éƒ½æ¥</h3>
<h4 data-id="heading-35">(1)å…ƒæ•°æ®è¿‡æ»¤</h4>
<p>é—®é¢˜ï¼š<strong>åªé å‘é‡ç›¸ä¼¼åº¦å¤Ÿå—ï¼Ÿ</strong></p>
<p>å¾ˆå¤šæ—¶å€™ä¸å¤Ÿï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>åŒä¸€ä¸ªé—®é¢˜ï¼Œä¸åŒå¹´ä»½æ”¿ç­–ç­”æ¡ˆä¸ä¸€æ ·</li>
<li>ä½ åªæƒ³çœ‹æŸä¸ªç³»ç»Ÿ/æŸä¸ªéƒ¨é—¨/æŸä¸ªå›½å®¶çš„æ–‡æ¡£</li>
</ul>
<p>è¿™æ—¶å€™å…ƒæ•°æ®å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ–‡æ¡£æ¥æº</li>
<li>æ—¶é—´</li>
<li>åˆ†ç±»æ ‡ç­¾</li>
<li>ä½œè€…/å›¢é˜Ÿ</li>
</ul>
<p>å¸¸è§ä¸¤ç§ç”¨æ³•ï¼š</p>




















<table><thead><tr><th>ç­–ç•¥</th><th>è¯´æ˜</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>Pre-filtering(é¢„è¿‡æ»¤)</strong></td><td>å…ˆç”¨å…ƒæ•°æ®ç­›å‡ºä¸€ä¸ªå€™é€‰å­é›†ï¼Œå†åšå‘é‡æ£€ç´¢</td><td>æ£€ç´¢é€Ÿåº¦å¿«ï¼Œä½†æœ‰å¯èƒ½æŠŠæœ¬æ¥ç›¸å…³çš„æ–‡æ¡£æå‰æ’é™¤</td></tr><tr><td><strong>Post-filtering(åè¿‡æ»¤)</strong></td><td>å…ˆåšå‘é‡æ£€ç´¢ï¼Œå†åœ¨ Top-K ä¸Šç”¨å…ƒæ•°æ®ç­›é€‰</td><td>å¬å›æ›´å®Œæ•´ï¼Œä½†æ•´ä½“å»¶è¿Ÿå¯èƒ½æ›´é«˜</td></tr></tbody></table>
<p>å¯ä»¥æ ¹æ®ä¸šåŠ¡é€‰æ‹©ï¼šå¾ˆå¤šç³»ç»Ÿæ˜¯ä¸¤ç§ä¼šç»“åˆä½¿ç”¨ã€‚</p>
<h4 data-id="heading-36">(2)æŸ¥è¯¢è½¬æ¢(Query Transformation)</h4>
<p>é—®é¢˜ï¼š<strong>ç”¨æˆ·é—®æ³•å’Œæ–‡æ¡£å†™æ³•ï¼Œå¾€å¾€ä¸ä¸€æ ·æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>è¿™å°±æ˜¯è®© LLM å¸®å¿™ç¿»è¯‘é—®é¢˜çš„åœºæ™¯ã€‚</p>
<h5 data-id="heading-37">HyDE(Hypothetical Document Embeddings)</h5>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p><strong>è®©æ¨¡å‹å…ˆè„‘è¡¥ä¸€æ®µå¯èƒ½çš„å›ç­”ï¼Œå†ç”¨è¿™æ®µå›ç­”å»åšå‘é‡æ£€ç´¢ã€‚</strong></p>
</blockquote>
<p>æˆ–è€…åƒæ–‡ä¸­é‚£ç§åšæ³•ï¼š
ä¸ºæ¯ä¸ªæ–‡æ¡£å—é¢„å…ˆç”Ÿæˆè¿™ä¸ªæ–‡æ¡£å¯ä»¥å›ç­”å“ªäº›é—®é¢˜ï¼Œå…¥åº“æ—¶æŠŠè¿™äº›é—®é¢˜ä¹ŸåµŒå…¥ã€‚æŸ¥è¯¢æ—¶åšé—®é¢˜-é—®é¢˜çš„åŒ¹é…ï¼Œé€šå¸¸æ•ˆæœæ›´å¥½ã€‚</p>
<h5 data-id="heading-38">å¤šæŸ¥è¯¢æ£€ç´¢(Multi-Query Expansion, MQE)</h5>
<blockquote>
<p>è®©æ¨¡å‹æ ¹æ®ç”¨æˆ·åŸå§‹é—®é¢˜ï¼Œç”Ÿæˆå¤šä¸ªä¸åŒè¡¨è¿°çš„æŸ¥è¯¢ï¼Œä¸€èµ·å»æ£€ç´¢ã€‚</p>
</blockquote>
<p>è¿™æ ·å¯ä»¥è¦†ç›–æ›´å¤šè¯­ä¹‰åŒºåŸŸï¼Œå‡å°‘åˆšå¥½æ²¡ç¢°ä¸Šçš„æƒ…å†µã€‚</p>
<h5 data-id="heading-39">æŸ¥è¯¢æ‰©å±•</h5>
<blockquote>
<p>æŠŠæ ¸å¿ƒå…³é”®è¯çš„åŒä¹‰è¯ã€ç›¸å…³ä¸“ä¸šæœ¯è¯­ã€ä¸Šä¸‹ä½æ¦‚å¿µéƒ½æŒ–å‡ºæ¥ï¼Œç”¨æ¥æ‰©å±•æ£€ç´¢èŒƒå›´ã€‚</p>
</blockquote>
<p>è¿™äº›ç©æ³•æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è§£å†³åŒä¸€ä¸ªé—®é¢˜ï¼š
<strong>ç”¨æˆ·æ€ä¹ˆé—® â‰  æ–‡æ¡£æ€ä¹ˆå†™</strong>ã€‚</p>
<h4 data-id="heading-40">(3)è‡ªæŸ¥è¯¢(Self-Query)ï¼šè‡ªåŠ¨æŒ–å‡ºå…ƒæ•°æ®</h4>
<p>æœ‰äº›å…³é”®ä¿¡æ¯å…¶å®åœ¨ç”¨æˆ·é—®é¢˜é‡Œå·²ç»éšå«äº†ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>2023 å¹´ä¹‹åçš„æ”¿ç­–</li>
<li>å…³äº FBA å‘è´§çš„è¦æ±‚</li>
<li>è·¨å¢ƒç”µå•†é‡Œ TikTok çš„ç›¸å…³å†…å®¹</li>
</ul>
<p>å¯ä»¥è®© LLM å¸®ä½ ä»è‡ªç„¶è¯­è¨€é—®é¢˜ä¸­æå–è¿™äº›ç»“æ„åŒ–ä¿¡æ¯ï¼Œæ‹¿å»åšå…ƒæ•°æ®è¿‡æ»¤ã€‚
è¿™æ ·æ£€ç´¢ä¼šæ›´èšç„¦ï¼Œè€Œä¸æ˜¯å®Œå…¨é å‘é‡å»ç›²æ’ã€‚</p>
<h3 data-id="heading-41">3. åå¤„ç†ä¼˜åŒ–ï¼šæŠŠåŸå§‹æ£€ç´¢ç»“æœå˜æˆå¥½ç­”æ¡ˆ</h3>
<h4 data-id="heading-42">(1)æç¤ºå‹ç¼©(Context Compression)</h4>
<p>é—®é¢˜ï¼š<strong>æ£€ç´¢å‡ºæ¥çš„å—å¤ªå¤šï¼ŒPrompt æ”¾ä¸ä¸‹æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>å¯ä»¥ç†è§£ä¸ºï¼š</p>
<blockquote>
<p>å…ˆç”¨æ¨¡å‹æˆ–è€…è§„åˆ™ï¼Œåœ¨æ£€ç´¢ç»“æœå†…éƒ¨åšä¸€æ¬¡å†…å®¹ç­›é€‰/æ‘˜è¦ï¼Œåªä¿ç•™å’Œé—®é¢˜æœ€ç›¸å…³çš„éƒ¨åˆ†ã€‚</p>
</blockquote>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>é™ä½ Token æ¶ˆè€—</li>
<li>å‡å°‘æ— å…³å†…å®¹å¯¹å›ç­”çš„å¹²æ‰°</li>
<li>æé«˜å›ç­”çš„èšç„¦åº¦</li>
</ul>
<h4 data-id="heading-43">(2)é‡æ’åº(Reranking)</h4>
<p>å‘é‡æ£€ç´¢å…¶å®æ›´åƒæ˜¯<strong>ç²—æ’</strong>ï¼š</p>
<ul>
<li>é€Ÿåº¦ä¼˜å…ˆ</li>
<li>ä¸ä¿è¯ Top-1 ä¸€å®šæ˜¯æœ€ä½³ç­”æ¡ˆ</li>
</ul>
<p>é‡æ’åºæ¨¡å‹åˆ™æ˜¯<strong>ç²¾æ’</strong>ï¼š</p>
<ul>
<li>é€æ¡ç²¾ç»†åˆ¤æ–­è¿™æ®µå†…å®¹å’Œè¿™ä¸ªé—®é¢˜åˆ°åº•æœ‰å¤šç›¸å…³</li>
</ul>
<p>å¸¸è§é€‰æ‹©ï¼š</p>






























<table><thead><tr><th>æ¨¡å‹</th><th>æè¿°</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Cohere Rerank</td><td>å•†ä¸š APIï¼Œå¼€ç®±å³ç”¨ï¼Œæ•ˆæœä¸é”™</td><td>å•†ä¸šé¡¹ç›®ï¼Œè¿½æ±‚ä¸Šçº¿é€Ÿåº¦</td></tr><tr><td>BGE-Reranker</td><td>å¼€æºï¼Œæ”¯æŒä¸­è‹±åŒè¯­</td><td>ä¸­æ–‡åœºæ™¯ã€ç§æœ‰éƒ¨ç½²</td></tr><tr><td>Cross-Encoder</td><td>åŸºäº BERTï¼Œæ¯æ¬¡å¯¹é—®é¢˜+æ–‡æ¡£ä¸€èµ·ç¼–ç </td><td>ç²¾åº¦ä¼˜å…ˆã€å°è§„æ¨¡æ£€ç´¢</td></tr><tr><td>ColBERT</td><td>åœ¨æ•ˆç‡å’Œç²¾åº¦ä¹‹é—´åšå¹³è¡¡</td><td>å¤§è§„æ¨¡æ£€ç´¢åœºæ™¯</td></tr></tbody></table>
<p>å¦å¤–ä¸€ç§åšæ³•æ˜¯ï¼š</p>
<blockquote>
<p>ç›´æ¥ç”¨å¤§æ¨¡å‹æ¥ç»™æ¯ä¸ªæ–‡æ¡£æ‰“ç›¸å…³æ€§åˆ†ã€‚</p>
</blockquote>

















<table><thead><tr><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>ä¸ç”¨é¢å¤–éƒ¨ç½²é‡æ’åºæ¨¡å‹</td><td>Token æˆæœ¬å’Œå»¶è¿Ÿéƒ½æ¯”è¾ƒé«˜</td></tr><tr><td>å¯ä»¥çµæ´»å®šä¹‰ç›¸å…³æ€§çš„æ ‡å‡†</td><td>ç»“æœä¼šå— Prompt å’Œæ¨¡å‹çŠ¶æ€å½±å“ï¼Œæ³¢åŠ¨ç•¥å¤§</td></tr></tbody></table>
<p>å®è·µä¸Šï¼Œæˆ‘ä¼šå»ºè®®ï¼š</p>
<ul>
<li>å°è§„æ¨¡ç³»ç»Ÿ / å†…éƒ¨å·¥å…·ï¼šå¯ä»¥å…ˆè¯• LLM é‡æ’åº</li>
<li>çœŸæ­£ä¸Šç”Ÿäº§ï¼šè€ƒè™‘ç”¨ä¸“ä¸šçš„ reranker æ¨¡å‹ï¼Œæ•ˆæœæ›´ç¨³ã€æˆæœ¬å¯æ§</li>
</ul>
<hr/>
<h2 data-id="heading-44">ä¸ƒã€æç¤ºå·¥ç¨‹åœ¨ RAG ä¸­çš„ä½œç”¨</h2>
<p>åœ¨ RAG é‡Œï¼ŒPrompt ä¸æ˜¯æœ€åéšä¾¿å†™ä¸€æ®µï¼Œè€Œæ˜¯<strong>ç³»ç»Ÿæ•ˆæœçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ä¹‹ä¸€</strong>ã€‚</p>
<p>è¿™é‡Œç”¨ä¸€ä¸ªå…·ä½“åœºæ™¯ï¼š<strong>è·¨å¢ƒç”µå•†é—®ç­”åŠ©æ‰‹</strong>ï¼Œæ¥ä¸²å‡ ä¸ªå¸¸ç”¨æŠ€å·§ã€‚</p>
<h3 data-id="heading-45">1. æç¤ºçš„å››ä¸ªåŸºç¡€å…ƒç´ </h3>
<p>å¯ä»¥ç†è§£ä¸ºï¼Œæ¯ä¸ªæç¤ºè‡³å°‘è¦è¯´æ¸…å››ä»¶äº‹ï¼š</p>






























<table><thead><tr><th>è¦ç´ </th><th>è¯´æ˜</th><th>ç¤ºä¾‹(è·¨å¢ƒç”µå•†)</th></tr></thead><tbody><tr><td>æŒ‡ä»¤(Instruction)</td><td>ä½ è¦å¹²ä»€ä¹ˆ</td><td>ä½ æ˜¯ä¸€ä¸ªäºšé©¬é€Šè¿è¥é¡¾é—®</td></tr><tr><td>ä¸Šä¸‹æ–‡(Context)</td><td>ä½ èƒ½å‚è€ƒçš„èµ„æ–™</td><td>ä»¥ä¸‹æ˜¯ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢åˆ°çš„å¹³å°æ”¿ç­–ç‰‡æ®µ</td></tr><tr><td>è¾“å…¥æ•°æ®(Input)</td><td>ç”¨æˆ·çš„é—®é¢˜æ˜¯ä»€ä¹ˆ</td><td>FBA å‘è´§æœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ</td></tr><tr><td>è¾“å‡ºæŒ‡ç¤ºç¬¦(Output Indicator)</td><td>ä½ è¦ä»¥ä»€ä¹ˆå½¢å¼è¾“å‡º</td><td>ç”¨ Markdown åˆ—æ¸…å•ï¼Œåˆ†ç‚¹å›ç­”</td></tr></tbody></table>
<h3 data-id="heading-46">2. ä¸€äº›å®ç”¨çš„å°å¥—è·¯</h3>
<p>è¿™é‡Œå°±å¿«é€Ÿè¿‡ä¸€ä¸‹ï¼Œæ›´å¤šç»†èŠ‚å¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„ä¸šåŠ¡è°ƒæ•´ã€‚</p>
<ul>
<li><strong>å…·ä½“æŒ‡ä»¤</strong>ï¼šå‘Šè¯‰æ¨¡å‹é‡ç‚¹è¯´å•¥ã€ä¸è¯´å•¥</li>
<li><strong>Few-shot ç¤ºä¾‹</strong>ï¼šç”¨ 1-2 ä¸ªä¾‹å­æ•™å®ƒä½ æœŸæœ›çš„å›ç­”é£æ ¼</li>
<li><strong>é»˜è®¤å…œåº•ç­–ç•¥</strong>ï¼š
æ˜ç¡®å†™ä¸Šå¦‚æœçŸ¥è¯†åº“æŸ¥ä¸åˆ°ï¼Œè¯·ç›´æ¥è¯´æŸ¥ä¸åˆ°ï¼Œä¸è¦ççŒœ</li>
<li><strong>è§’è‰²è®¾å®š</strong>ï¼š
æ¯”å¦‚ä½ æ˜¯è·¨å¢ƒè¿è¥é¡¾é—®ï¼Œåªå¯¹äºšé©¬é€Šå¹³å°è´Ÿè´£ï¼Œä¸å›ç­”å…¶ä»–å¹³å°çš„é—®é¢˜ç­‰</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼š
æŒ‡å®šç”¨ç”¨æˆ·æé—®çš„è¯­è¨€å›å¤ï¼Œä¸“ä¸šæœ¯è¯­ä¸­è‹±åŒæ ‡</li>
<li><strong>ç»“æ„åŒ–è¾“å‡º</strong>ï¼š
è¦æ±‚å®ƒç”¨å›ºå®šçš„æ ‡é¢˜/åˆ—è¡¨ç»“æ„è¾“å‡ºï¼Œæ–¹ä¾¿å‰ç«¯æ¸²æŸ“æˆ–åç»­å¤„ç†</li>
</ul>
<p>å¦å¤–ä¸€ä¸ªå¾ˆé‡è¦çš„ç‚¹ï¼š</p>
<blockquote>
<p><strong>æç¤ºè¯æœ¬èº«è¦åšç‰ˆæœ¬ç®¡ç†ã€‚</strong></p>
</blockquote>
<p>å¯ä»¥ç®€å•åšä¸€å¼ è¡¨è®°å½•ï¼š</p>





























<table><thead><tr><th>ç‰ˆæœ¬</th><th>æ—¥æœŸ</th><th>ä¿®æ”¹å†…å®¹</th><th>å¤§è‡´æ•ˆæœ</th></tr></thead><tbody><tr><td>v1.0</td><td>2024-01-01</td><td>åˆå§‹ç‰ˆæœ¬</td><td>ç”¨ä½œ baseline</td></tr><tr><td>v1.1</td><td>2024-01-15</td><td>å¢åŠ è§’è‰²è®¾å®šã€ç¦æ­¢ç¼–é€ </td><td>å›ç­”æ›´ç¨³å®šã€å¹»è§‰å‡å°‘</td></tr><tr><td>v1.2</td><td>2024-02-01</td><td>è¡¥å……å¤šè¯­è¨€å’Œç»“æ„åŒ–è¾“å‡º</td><td>å¯¹æ¥å‰ç«¯æ›´æ–¹ä¾¿</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-47">å…«ã€RAG æ•ˆæœè¯„ä¼°ï¼šæ€ä¹ˆåˆ¤æ–­è¿™å¥—ç³»ç»Ÿåˆ°åº•è¡Œä¸è¡Œ</h2>
<p>æœ€åä¸€ä¸ªå¤§å—ï¼š
<strong>æˆ‘ä»¬å¦‚ä½•çŸ¥é“å½“å‰è¿™å¥— RAG é…ç½®æ˜¯ä¸æ˜¯é è°±çš„ï¼Ÿ</strong></p>
<h3 data-id="heading-48">1. ä¸‰ä¸ªæ ¸å¿ƒæŒ‡æ ‡</h3>
<p>å¯ä»¥ç®€å•è®°æˆä¸‰ä¸ªå­—æ¯ï¼š<strong>CR / AR / F</strong></p>
<ul>
<li>
<p><strong>CR(Context Relevancy)æ£€ç´¢ç›¸å…³æ€§</strong>
æ£€ç´¢å‡ºæ¥çš„å†…å®¹ï¼Œå’Œç”¨æˆ·é—®é¢˜åˆ°åº•æœ‰å¤šç›¸å…³ï¼Ÿ</p>
</li>
<li>
<p><strong>AR(Answer Relevancy)ç­”æ¡ˆç›¸å…³æ€§</strong>
æ¨¡å‹ç»™çš„ç­”æ¡ˆï¼Œæ˜¯å¦çœŸæ­£è§£å†³äº†ç”¨æˆ·çš„æé—®ï¼Ÿ</p>
</li>
<li>
<p><strong>F(Faithfulness)å¯ä¿¡åº¦</strong>
å›ç­”å†…å®¹æ˜¯å¦å¿ äºæ£€ç´¢åˆ°çš„æ–‡æ¡£ï¼Œæœ‰æ²¡æœ‰è‡ªå·±ç¼–æ•…äº‹ï¼Ÿ</p>
</li>
</ul>
<p>RAG æœ€å¤§çš„å–ç‚¹å…¶å®å°±æ˜¯ Fï¼š</p>
<blockquote>
<p>æˆ‘ä¸æ˜¯çº¯é çŒœï¼Œæˆ‘æ˜¯æœ‰æ–‡æ¡£æ”¯æ’‘çš„ã€‚</p>
</blockquote>
<h3 data-id="heading-49">2. å‡ ç§å®æˆ˜è¯„ä¼°æ–¹æ³•</h3>
<h4 data-id="heading-50">(1)äººå·¥æ ‡æ³¨æµ‹è¯•é›†</h4>
<p>è¿™ä¸€æ­¥è™½ç„¶ä¼ ç»Ÿåˆè´¹æ—¶é—´ï¼Œä½†éå¸¸æœ‰ä»·å€¼ï¼š</p>
<ol>
<li>
<p>æ”¶é›†ä¸€æ‰¹çœŸå®ç”¨æˆ·é—®é¢˜(æ¯”å¦‚ 50 ï½ 100 æ¡)</p>
</li>
<li>
<p>ä¸ºæ¯æ¡é—®é¢˜æ ‡æ³¨ï¼š</p>
<ul>
<li>æ ‡å‡†ç­”æ¡ˆ</li>
<li>å¯¹åº”çš„å…³é”®æ–‡æ¡£ç‰‡æ®µ</li>
</ul>
</li>
<li>
<p>è·‘ä½ çš„ RAG ç³»ç»Ÿï¼Œçœ‹ï¼š</p>
<ul>
<li>æ˜¯å¦æ£€ç´¢åˆ°äº†è¿™äº›å…³é”®ç‰‡æ®µ</li>
<li>æ˜¯å¦èƒ½ç”Ÿæˆæ¥è¿‘æ ‡å‡†ç­”æ¡ˆçš„å†…å®¹</li>
</ul>
</li>
</ol>
<p>ä½ èƒ½ä»ä¸­çœ‹åˆ°å¾ˆå¤šé—®é¢˜ï¼š</p>
<ul>
<li>æŸäº›é—®é¢˜æ€»æ˜¯æ£€ç´¢ä¸å‡†</li>
<li>æŸäº›æ–‡æ¡£æ€»æ˜¯è¢«å¿½ç•¥</li>
<li>æŸäº›å›ç­”æ€»æ˜¯é—æ¼å…³é”®ç‚¹</li>
</ul>
<h4 data-id="heading-51">(2)A/B æµ‹è¯•</h4>
<p>å½“ä½ æœ‰å¤šä¸ªç‰ˆæœ¬(æ¯”å¦‚ä¸åŒåˆ†å—ç­–ç•¥ã€ä¸åŒ Top-K è®¾ç½®)æ—¶ï¼š</p>
<ul>
<li>ç”¨åŒä¸€æ‰¹é—®é¢˜åˆ†åˆ«è·‘ A/B ä¸¤å¥—é…ç½®</li>
<li>å¯¹æ¯” CR/AR/Fã€äººå·¥ä¾§æ„Ÿå—ã€ç”¨æˆ·åé¦ˆ</li>
<li>å†å†³å®šä¸Šçº¿å“ªä¸ªç‰ˆæœ¬</li>
</ul>
<h4 data-id="heading-52">(3)LLM-as-Judge(ç”¨å¤§æ¨¡å‹åšè¯„å®¡)</h4>
<p>å¯ä»¥è®©å¦ä¸€ä¸ªæ¨¡å‹æ¥å¸®ä½ æ‰“åˆ†ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>åˆ¤å®šå›ç­”æ˜¯å¦åˆ‡é¢˜</li>
<li>å›ç­”æœ‰æ²¡æœ‰è¿èƒŒæ–‡æ¡£å†…å®¹</li>
<li>æ˜¯å¦å­˜åœ¨æ˜æ˜¾çš„ç¼–é€ </li>
</ul>
<p>è¿™èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çœäººå·¥è¯„ä¼°çš„æˆæœ¬ã€‚ä¸è¿‡è¦æ³¨æ„ï¼š</p>
<ul>
<li>è¯„å®¡æ¨¡å‹æœ¬èº«ä¹Ÿä¼šæœ‰åå·®</li>
<li>å»ºè®®å’Œäººå·¥è¯„ä¼°ç»“åˆä½¿ç”¨</li>
</ul>
<h4 data-id="heading-53">(4)ç”¨æˆ·åé¦ˆé—­ç¯</h4>
<p>æœ€åä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ¡ï¼š<strong>ç”¨æˆ·ç”¨ç€çˆ½ä¸çˆ½</strong>ã€‚</p>
<p>å¸¸è§åšæ³•ï¼š</p>
<ul>
<li>åœ¨å‰ç«¯åŠ æœ‰ç”¨/æ²¡ç”¨æŒ‰é’®</li>
<li>è®°å½•è¿½é—®(æ¯”å¦‚ä¸ºä»€ä¹ˆè¿™ä¹ˆå›ç­”ã€ä½ æ˜¯ä¸æ˜¯æé”™äº†)</li>
<li>é’ˆå¯¹ bad case åšé›†ä¸­åˆ†æï¼Œåå‘ä¼˜åŒ–åˆ†å—/æ£€ç´¢/Prompt</li>
</ul>
<p>å¯ä»¥é‡ç‚¹å…³æ³¨ï¼š</p>
<ul>
<li>ç”¨æˆ·æ»¡æ„åº¦(thumbs up/down)</li>
<li>è¿½é—®ç‡</li>
<li>éœ€è¦äººå·¥ä»‹å…¥çš„é¢‘ç‡</li>
</ul>
<h3 data-id="heading-54">3. å¸¸è§é—®é¢˜ &amp; ä¼˜åŒ–æ–¹å‘</h3>
<ol>
<li>
<p><strong>æ£€ç´¢ç»“æœä¸ç›¸å…³</strong></p>
<ul>
<li>æ–¹å‘ï¼šè°ƒåˆ†å—ã€æ¢ embeddingã€å¢åŠ å…ƒæ•°æ®è¿‡æ»¤</li>
</ul>
</li>
<li>
<p><strong>æ£€ç´¢å¯¹äº†ï¼Œç­”æ¡ˆå´ç­”åäº†</strong></p>
<ul>
<li>æ–¹å‘ï¼šä¼˜åŒ– Prompt(å¼ºè°ƒåªæ ¹æ®æ–‡æ¡£å›ç­”)ã€å¢åŠ  few-shot</li>
</ul>
</li>
<li>
<p><strong>ç­”æ¡ˆåªå¯¹ä¸€åŠ</strong></p>
<ul>
<li>æ–¹å‘ï¼šè°ƒé«˜ Top-Kã€åšé‡æ’åºã€ä¼˜åŒ–å—ç²’åº¦</li>
</ul>
</li>
<li>
<p><strong>å‡ºç°æ˜æ˜¾å¹»è§‰</strong></p>
<ul>
<li>æ–¹å‘ï¼šåŠ ä¸ŠæŸ¥ä¸åˆ°å°±è¯´æŸ¥ä¸åˆ°çš„å…œåº•ã€æ£€æµ‹ç›¸å…³æ€§ä¸è¶³æ—¶æ‹’ç­”</li>
</ul>
</li>
<li>
<p><strong>æœ¯è¯­å¤„ç†å·®</strong></p>
<ul>
<li>æ–¹å‘ï¼šæœ¯è¯­è¡¨+æŸ¥è¯¢æ‰©å±•ã€è€ƒè™‘é¢†åŸŸä¸“ç”¨ Embedding</li>
</ul>
</li>
<li>
<p><strong>å“åº”å¾ˆæ…¢</strong></p>
<ul>
<li>æ–¹å‘ï¼šä½¿ç”¨æ›´è½»é‡çš„æ¨¡å‹ã€ä¼˜åŒ–ç´¢å¼•ç»“æ„ã€å‡å°‘ä¸å¿…è¦çš„ LLM è°ƒç”¨</li>
</ul>
</li>
<li>
<p><strong>é•¿æ–‡æ¡£æ•ˆæœå·®</strong></p>
<ul>
<li>æ–¹å‘ï¼šå±‚æ¬¡åŒ–ç´¢å¼•(æ‘˜è¦+è¯¦ç»†å—)ã€çˆ¶å­å—ç­–ç•¥</li>
</ul>
</li>
<li>
<p><strong>å¤šè¯­è¨€ä¸ç¨³å®š</strong></p>
<ul>
<li>æ–¹å‘ï¼šå¤šè¯­è¨€ Embeddingã€æŒ‰è¯­è¨€åˆ’åˆ†ç´¢å¼•ã€å¿…è¦æ—¶åšç¿»è¯‘ä¸­è½¬</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-55">å°ç»“ &amp; ä¸€ç‚¹ä¸ªäººæ„Ÿå—</h2>
<p>å¦‚æœç”¨ä¸€å¥è¯æ€»ç»“ RAGï¼š</p>
<blockquote>
<p><strong>RAG æ˜¯è®©å¤§æ¨¡å‹å¸¦ç€ä½ çš„çŸ¥è¯†åº“ä¸€èµ·å·¥ä½œçš„ä¸€å¥—å·¥ç¨‹æ–¹æ¡ˆã€‚</strong></p>
</blockquote>
<p>å®ƒå¹¶ä¸æ˜¯æŸä¸ªå…·ä½“æ¡†æ¶ã€æŸç§å›ºå®šç®—æ³•ï¼Œè€Œæ›´åƒä¸€æ•´æ¡é“¾è·¯ä¸Šçš„ä¸€å †å·¥ç¨‹å†³ç­–ï¼š</p>
<ul>
<li>æ–‡æ¡£æ€ä¹ˆæ¸…æ´—å’Œåˆ†å—</li>
<li>åµŒå…¥æ¨¡å‹æ€ä¹ˆé€‰</li>
<li>æ£€ç´¢æ€ä¹ˆåš(å•å‘é‡/å¤šå‘é‡/æ··åˆ)</li>
<li>Prompt æ€ä¹ˆå†™</li>
<li>æ•ˆæœæ€ä¹ˆè¯„ä¼°å’Œè¿­ä»£</li>
</ul>
<p>æˆ‘ç°åœ¨å¯¹ RAG çš„ç†è§£ä¹Ÿè¿˜åœ¨ä¸æ–­ä¿®æ­£ï¼Œå¾ˆå¤šåœ°æ–¹ä¹Ÿæ˜¯è¾¹åšè¾¹å­¦ã€è¾¹è¸©å‘è¾¹å›å¤´å¤ç›˜ã€‚è¿™ç¯‡æ›´å¤šæ˜¯ä¸€ä¸ªé˜¶æ®µæ€§çš„æ•´ç†ã€‚</p>
<p>å¦‚æœä½ åœ¨å®æˆ˜ä¸­æœ‰æ›´å¥½ç”¨çš„åˆ†å—ç­–ç•¥ã€æ£€ç´¢é…ç½®ã€è¯„ä¼°æ–¹æ³•ï¼Œæˆ–è€…å¯¹æ–‡ä¸­æŸäº›åœ°æ–¹æœ‰ä¸åŒçœ‹æ³•ï¼Œ<strong>éå¸¸æ¬¢è¿ä½ ç•™è¨€/ç§ä¿¡ä¸€èµ·è®¨è®º</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[asyncpg å…¨é¢æ•™ç¨‹ï¼šå¸¸ç”¨ API ä¸²è”ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7580285196693258240</link>    <guid>https://juejin.cn/post/7580285196693258240</guid>    <pubDate>2025-12-06T15:06:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580285196693258240" data-draft-id="7580295137394982927" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="asyncpg å…¨é¢æ•™ç¨‹ï¼šå¸¸ç”¨ API ä¸²è”ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,GitHub"/> <meta itemprop="datePublished" content="2025-12-06T15:06:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°jobleap"/> <meta itemprop="url" content="https://juejin.cn/user/2875978147692910"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            asyncpg å…¨é¢æ•™ç¨‹ï¼šå¸¸ç”¨ API ä¸²è”ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978147692910/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°jobleap
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:06:53.000Z" title="Sat Dec 06 2025 15:06:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯jobleap.cnçš„å°ä¹ã€‚
asyncpg æ˜¯ Python ç”Ÿæ€ä¸­é«˜æ€§èƒ½çš„å¼‚æ­¥ PostgreSQL å®¢æˆ·ç«¯åº“ï¼ŒåŸç”Ÿæ”¯æŒ <code>async/await</code> è¯­æ³•ï¼Œç›¸æ¯”åŸºäºåŒæ­¥åº“ï¼ˆå¦‚ psycopg2ï¼‰å°è£…çš„å¼‚æ­¥æ–¹æ¡ˆï¼Œæ€§èƒ½æå‡æ˜¾è‘—ï¼Œæ˜¯å¼‚æ­¥ Python é¡¹ç›®æ“ä½œ PostgreSQL çš„é¦–é€‰ã€‚æœ¬æ•™ç¨‹å°†ä»ç¯å¢ƒå‡†å¤‡ã€åŸºç¡€è¿æ¥åˆ°é«˜çº§ç‰¹æ€§ï¼ˆäº‹åŠ¡ã€è¿æ¥æ± ã€æ‰¹é‡æ“ä½œç­‰ï¼‰ï¼Œå…¨é¢ä¸²è” asyncpg æ ¸å¿ƒ APIï¼Œå¹¶é€šè¿‡å®æˆ˜æ¡ˆä¾‹è½åœ°æ‰€æœ‰çŸ¥è¯†ç‚¹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç¯å¢ƒå‡†å¤‡</h2>
<h3 data-id="heading-1">1. å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash">pip install asyncpg  <span class="hljs-comment"># æ ¸å¿ƒåº“</span>
pip install python-dotenv  <span class="hljs-comment"># å¯é€‰ï¼Œç®¡ç†æ•°æ®åº“é…ç½®ï¼ˆæ¨èï¼‰</span>
</code></pre>
<h3 data-id="heading-2">2. PostgreSQL ç¯å¢ƒå‡†å¤‡</h3>
<p>å…ˆåœ¨ PostgreSQL ä¸­åˆ›å»ºæµ‹è¯•æ•°æ®åº“å’Œè¡¨ï¼ˆå¯é€šè¿‡ <code>psql</code> æˆ– pgAdmin æ‰§è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºæ•°æ®åº“</span>
<span class="hljs-keyword">CREATE</span> DATABASE test_db;

<span class="hljs-comment">-- åˆ‡æ¢åˆ°æµ‹è¯•æ•°æ®åº“</span>
\c test_db;

<span class="hljs-comment">-- åˆ›å»ºç”¨æˆ·è¡¨ï¼ˆåç»­å®æˆ˜ç”¨ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users (
    id SERIAL <span class="hljs-keyword">PRIMARY</span> KEY,
    username <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    age <span class="hljs-type">INT</span>,
    profile JSONB,  <span class="hljs-comment">-- PostgreSQL åŸç”Ÿ JSONB ç±»å‹</span>
    created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
</code></pre>
<h2 data-id="heading-3">äºŒã€æ ¸å¿ƒ API è¯¦è§£ä¸å®æˆ˜</h2>
<h3 data-id="heading-4">1. åŸºç¡€è¿æ¥ï¼ˆå•ä¸ªè¿æ¥ï¼‰</h3>
<p>asyncpg æœ€åŸºç¡€çš„ç”¨æ³•æ˜¯åˆ›å»ºå•ä¸ªæ•°æ®åº“è¿æ¥ï¼Œæ ¸å¿ƒ API æ˜¯ <code>asyncpg.connect()</code>ã€‚</p>
<h4 data-id="heading-5">ç¤ºä¾‹ä»£ç ï¼š</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">import</span> asyncpg
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv  <span class="hljs-comment"># å¯é€‰ï¼Œæ¨èç”¨.envç®¡ç†é…ç½®</span>
<span class="hljs-keyword">import</span> os

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰</span>
load_dotenv()
DB_CONFIG = {
    <span class="hljs-string">"user"</span>: os.getenv(<span class="hljs-string">"DB_USER"</span>, <span class="hljs-string">"postgres"</span>),
    <span class="hljs-string">"password"</span>: os.getenv(<span class="hljs-string">"DB_PASSWORD"</span>, <span class="hljs-string">"123456"</span>),
    <span class="hljs-string">"database"</span>: os.getenv(<span class="hljs-string">"DB_NAME"</span>, <span class="hljs-string">"test_db"</span>),
    <span class="hljs-string">"host"</span>: os.getenv(<span class="hljs-string">"DB_HOST"</span>, <span class="hljs-string">"localhost"</span>),
    <span class="hljs-string">"port"</span>: os.getenv(<span class="hljs-string">"DB_PORT"</span>, <span class="hljs-number">5432</span>),
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">basic_connection</span>():
    <span class="hljs-comment"># 1. å»ºç«‹è¿æ¥</span>
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 2. æ‰§è¡Œç®€å•æŸ¥è¯¢ï¼ˆéªŒè¯è¿æ¥ï¼‰</span>
        version = <span class="hljs-keyword">await</span> conn.fetchval(<span class="hljs-string">"SELECT version();"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"PostgreSQL ç‰ˆæœ¬: <span class="hljs-subst">{version}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-comment"># 3. å…³é—­è¿æ¥ï¼ˆå¿…é¡»ï¼å¦åˆ™ä¼šæ³„éœ²è¿æ¥ï¼‰</span>
        <span class="hljs-keyword">await</span> conn.close()

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(basic_connection())
</code></pre>
<h4 data-id="heading-6">å…³é”® API è¯´æ˜ï¼š</h4>
<ul>
<li><code>asyncpg.connect(**kwargs)</code>ï¼šåˆ›å»ºå•ä¸ªæ•°æ®åº“è¿æ¥ï¼Œè¿”å› <code>Connection</code> å¯¹è±¡ï¼›</li>
<li><code>conn.close()</code>ï¼šå…³é—­è¿æ¥ï¼Œå»ºè®®æ”¾åœ¨ <code>finally</code> å—ä¸­ç¡®ä¿æ‰§è¡Œï¼›</li>
<li><code>conn.fetchval(query)</code>ï¼šæ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›<strong>å•ä¸ªå€¼</strong>ï¼ˆç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ï¼‰ï¼Œé€‚åˆ <code>SELECT count(*)</code>, <code>SELECT version()</code> ç­‰åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-7">2. åŸºç¡€ CRUD æ“ä½œ</h3>
<p>asyncpg æä¾›äº†ä¸‰ç±»æ ¸å¿ƒæŸ¥è¯¢ API å¤„ç†ç»“æœï¼Œè¦†ç›–æ‰€æœ‰ CRUD åœºæ™¯ï¼š</p>






























<table><thead><tr><th>API</th><th>ç”¨é€”</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>fetchval(query)</code></td><td>è·å–å•ä¸ªå€¼ï¼ˆç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ï¼‰</td><td>å•ä¸ªå€¼ï¼ˆint/str/Noneç­‰ï¼‰</td></tr><tr><td><code>fetchrow(query)</code></td><td>è·å–å•è¡Œç»“æœ</td><td><code>Record</code> å¯¹è±¡</td></tr><tr><td><code>fetch(query)</code></td><td>è·å–å¤šè¡Œç»“æœ</td><td><code>List[Record]</code> åˆ—è¡¨</td></tr><tr><td><code>execute(query)</code></td><td>æ‰§è¡Œå†™æ“ä½œï¼ˆINSERT/UPDATE/DELETEï¼‰</td><td>å—å½±å“çš„è¡Œæ•°ï¼ˆintï¼‰</td></tr></tbody></table>
<h4 data-id="heading-8">ç¤ºä¾‹ä»£ç ï¼ˆå®Œæ•´ CRUDï¼‰ï¼š</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">crud_operations</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># ---------------------- 1. æ’å…¥ï¼ˆINSERTï¼‰ ----------------------</span>
        insert_sql = <span class="hljs-string">"""
            INSERT INTO users (username, email, age, profile)
            VALUES ('zhangsan', 'zhangsan@example.com', 25, '{"hobby": "coding"}')
            RETURNING id;  -- è¿”å›æ’å…¥çš„IDï¼ˆPostgreSQL ç‰¹æ€§ï¼‰
        """</span>
        user_id = <span class="hljs-keyword">await</span> conn.fetchval(insert_sql)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ’å…¥ç”¨æˆ·æˆåŠŸï¼ŒID: <span class="hljs-subst">{user_id}</span>"</span>)

        <span class="hljs-comment"># ---------------------- 2. æŸ¥è¯¢ï¼ˆSELECTï¼‰ ----------------------</span>
        <span class="hljs-comment"># å•è¡ŒæŸ¥è¯¢</span>
        single_user = <span class="hljs-keyword">await</span> conn.fetchrow(<span class="hljs-string">"SELECT * FROM users WHERE id = $1"</span>, user_id)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å•è¡Œç”¨æˆ·æ•°æ®: <span class="hljs-subst">{single_user}</span>"</span>)  <span class="hljs-comment"># Record å¯¹è±¡ï¼Œå¯é€šè¿‡é”®è®¿é—®ï¼šsingle_user['username']</span>
        
        <span class="hljs-comment"># å¤šè¡ŒæŸ¥è¯¢</span>
        all_users = <span class="hljs-keyword">await</span> conn.fetch(<span class="hljs-string">"SELECT username, email FROM users WHERE age &gt; $1"</span>, <span class="hljs-number">20</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¤šè¡Œç”¨æˆ·æ•°æ®:"</span>)
        <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> all_users:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”¨æˆ·å: <span class="hljs-subst">{user[<span class="hljs-string">'username'</span>]}</span>, é‚®ç®±: <span class="hljs-subst">{user[<span class="hljs-string">'email'</span>]}</span>"</span>)

        <span class="hljs-comment"># ---------------------- 3. æ›´æ–°ï¼ˆUPDATEï¼‰ ----------------------</span>
        update_sql = <span class="hljs-string">"UPDATE users SET age = $1 WHERE id = $2"</span>
        affected_rows = <span class="hljs-keyword">await</span> conn.execute(update_sql, <span class="hljs-number">26</span>, user_id)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ›´æ–°å—å½±å“è¡Œæ•°: <span class="hljs-subst">{affected_rows}</span>"</span>)  <span class="hljs-comment"># è¿”å›å­—ç¬¦ä¸²å¦‚ "UPDATE 1"ï¼Œå¯è½¬int</span>

        <span class="hljs-comment"># ---------------------- 4. åˆ é™¤ï¼ˆDELETEï¼‰ ----------------------</span>
        delete_sql = <span class="hljs-string">"DELETE FROM users WHERE id = $1"</span>
        affected_rows = <span class="hljs-keyword">await</span> conn.execute(delete_sql, user_id)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ é™¤å—å½±å“è¡Œæ•°: <span class="hljs-subst">{affected_rows}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(crud_operations())
</code></pre>
<h4 data-id="heading-9">å…³é”®è¯´æ˜ï¼š</h4>
<ul>
<li><strong>å‚æ•°åŒ–æŸ¥è¯¢</strong>ï¼šç¤ºä¾‹ä¸­ç”¨ <code>$1</code>, <code>$2</code> ä½œä¸ºå‚æ•°å ä½ç¬¦ï¼ˆasyncpg æ ‡å‡†ï¼‰ï¼Œè€Œé <code>%s</code>ï¼Œå¯é˜²æ­¢ SQL æ³¨å…¥ï¼›</li>
<li><code>Record</code> å¯¹è±¡ï¼šæŸ¥è¯¢è¿”å›çš„ç»“æœå¯¹è±¡ï¼Œæ”¯æŒå­—å…¸å¼è®¿é—®ï¼ˆ<code>record['key']</code>ï¼‰ã€å±æ€§è®¿é—®ï¼ˆ<code>record.key</code>ï¼‰ï¼Œä¹Ÿå¯é€šè¿‡ <code>dict(record)</code> è½¬æ¢ä¸ºæ™®é€šå­—å…¸ã€‚</li>
</ul>
<h3 data-id="heading-10">3. äº‹åŠ¡å¤„ç†</h3>
<p>PostgreSQL äº‹åŠ¡éµå¾ª ACID åŸåˆ™ï¼Œasyncpg æä¾›ä¸¤ç§äº‹åŠ¡ç”¨æ³•ï¼š<strong>æ‰‹åŠ¨äº‹åŠ¡</strong> å’Œ <strong>ä¸Šä¸‹æ–‡ç®¡ç†å™¨äº‹åŠ¡</strong>ï¼ˆæ¨èï¼‰ã€‚</p>
<h4 data-id="heading-11">ç¤ºä¾‹ 1ï¼šä¸Šä¸‹æ–‡ç®¡ç†å™¨äº‹åŠ¡ï¼ˆç®€æ´å®‰å…¨ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">transaction_context_manager</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å¼€å¯äº‹åŠ¡ï¼ˆasync with è‡ªåŠ¨å¤„ç† commit/rollbackï¼‰</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> conn.transaction():
            <span class="hljs-comment"># æ‰¹é‡æ’å…¥ä¸¤ä¸ªç”¨æˆ·</span>
            <span class="hljs-keyword">await</span> conn.execute(
                <span class="hljs-string">"INSERT INTO users (username, email) VALUES ($1, $2)"</span>,
                <span class="hljs-string">"lisi"</span>, <span class="hljs-string">"lisi@example.com"</span>
            )
            <span class="hljs-keyword">await</span> conn.execute(
                <span class="hljs-string">"INSERT INTO users (username, email) VALUES ($1, $2)"</span>,
                <span class="hljs-string">"wangwu"</span>, <span class="hljs-string">"wangwu@example.com"</span>
            )
            <span class="hljs-comment"># æ¨¡æ‹Ÿå¼‚å¸¸ï¼ˆå–æ¶ˆæ³¨é‡Šæµ‹è¯•å›æ»šï¼‰</span>
            <span class="hljs-comment"># raise ValueError("æ¨¡æ‹Ÿäº‹åŠ¡å¼‚å¸¸")</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"äº‹åŠ¡æäº¤æˆåŠŸï¼"</span>)
        
        <span class="hljs-comment"># éªŒè¯ç»“æœ</span>
        count = <span class="hljs-keyword">await</span> conn.fetchval(<span class="hljs-string">"SELECT COUNT(*) FROM users"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å½“å‰ç”¨æˆ·æ€»æ•°: <span class="hljs-subst">{count}</span>"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"äº‹åŠ¡å›æ»šï¼ŒåŸå› : <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(transaction_context_manager())
</code></pre>
<h4 data-id="heading-12">ç¤ºä¾‹ 2ï¼šæ‰‹åŠ¨äº‹åŠ¡ï¼ˆçµæ´»æ§åˆ¶ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">manual_transaction</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. å¼€å¯äº‹åŠ¡</span>
        tx = <span class="hljs-keyword">await</span> conn.transaction()
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">await</span> conn.execute(<span class="hljs-string">"INSERT INTO users (username, email) VALUES ($1, $2)"</span>, <span class="hljs-string">"zhaoliu"</span>, <span class="hljs-string">"zhaoliu@example.com"</span>)
            <span class="hljs-comment"># 2. æäº¤äº‹åŠ¡</span>
            <span class="hljs-keyword">await</span> tx.commit()
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰‹åŠ¨äº‹åŠ¡æäº¤æˆåŠŸ"</span>)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-comment"># 3. å›æ»šäº‹åŠ¡</span>
            <span class="hljs-keyword">await</span> tx.rollback()
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰‹åŠ¨äº‹åŠ¡å›æ»šï¼ŒåŸå› : <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(manual_transaction())
</code></pre>
<h4 data-id="heading-13">å…³é”® API è¯´æ˜ï¼š</h4>
<ul>
<li><code>conn.transaction()</code>ï¼šåˆ›å»º <code>Transaction</code> å¯¹è±¡ï¼Œå¼€å¯äº‹åŠ¡ï¼›</li>
<li>ä¸Šä¸‹æ–‡ç®¡ç†å™¨æ¨¡å¼ï¼š<code>async with</code> å—å†…çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼ˆè‡ªåŠ¨ commitï¼‰ï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼ˆè‡ªåŠ¨ rollbackï¼‰ï¼›</li>
<li>æ‰‹åŠ¨äº‹åŠ¡ï¼šé€šè¿‡ <code>tx.commit()</code> æäº¤ã€<code>tx.rollback()</code> å›æ»šï¼Œé€‚åˆéœ€è¦åˆ†æ­¥æ§åˆ¶çš„åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-14">4. è¿æ¥æ± ï¼ˆç”Ÿäº§ç¯å¢ƒé¦–é€‰ï¼‰</h3>
<p>å•ä¸ªè¿æ¥æ— æ³•åº”å¯¹é«˜å¹¶å‘åœºæ™¯ï¼Œasyncpg æä¾› <code>asyncpg.create_pool()</code> åˆ›å»ºè¿æ¥æ± ï¼Œè‡ªåŠ¨ç®¡ç†è¿æ¥çš„åˆ›å»ºã€å¤ç”¨å’Œé”€æ¯ã€‚</p>
<h4 data-id="heading-15">ç¤ºä¾‹ä»£ç ï¼š</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">pool_operations</span>():
    <span class="hljs-comment"># 1. åˆ›å»ºè¿æ¥æ± ï¼ˆå»ºè®®å…¨å±€å”¯ä¸€ï¼Œå¤ç”¨ï¼‰</span>
    pool = <span class="hljs-keyword">await</span> asyncpg.create_pool(**DB_CONFIG, min_size=<span class="hljs-number">5</span>, max_size=<span class="hljs-number">20</span>)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 2. ä»æ± è·å–è¿æ¥ï¼ˆä¸¤ç§æ–¹å¼ï¼‰</span>
        <span class="hljs-comment"># æ–¹å¼1ï¼šæ‰‹åŠ¨è·å–/é‡Šæ”¾</span>
        conn = <span class="hljs-keyword">await</span> pool.acquire()
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">await</span> conn.execute(<span class="hljs-string">"INSERT INTO users (username, email) VALUES ($1, $2)"</span>, <span class="hljs-string">"pool_test"</span>, <span class="hljs-string">"pool@example.com"</span>)
        <span class="hljs-keyword">finally</span>:
            <span class="hljs-comment"># é‡Šæ”¾è¿æ¥å›æ± ï¼ˆå¿…é¡»ï¼å¦åˆ™æ± ä¼šè€—å°½ï¼‰</span>
            <span class="hljs-keyword">await</span> pool.release(conn)

        <span class="hljs-comment"># æ–¹å¼2ï¼šä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆæ¨èï¼Œè‡ªåŠ¨é‡Šæ”¾ï¼‰</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> pool.acquire() <span class="hljs-keyword">as</span> conn:
            user = <span class="hljs-keyword">await</span> conn.fetchrow(<span class="hljs-string">"SELECT * FROM users WHERE username = $1"</span>, <span class="hljs-string">"pool_test"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿æ¥æ± æŸ¥è¯¢ç»“æœ: <span class="hljs-subst">{user}</span>"</span>)

        <span class="hljs-comment"># 3. æ‰¹é‡æ‰§è¡Œï¼ˆæ± ç›´æ¥æ‰§è¡Œï¼Œæ— éœ€æ‰‹åŠ¨è·å–è¿æ¥ï¼‰</span>
        <span class="hljs-keyword">await</span> pool.execute(<span class="hljs-string">"DELETE FROM users WHERE username = $1"</span>, <span class="hljs-string">"pool_test"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-comment"># 4. å…³é—­è¿æ¥æ± ï¼ˆç¨‹åºé€€å‡ºæ—¶æ‰§è¡Œï¼‰</span>
        <span class="hljs-keyword">await</span> pool.close()

asyncio.run(pool_operations())
</code></pre>
<h4 data-id="heading-16">è¿æ¥æ± æ ¸å¿ƒå‚æ•°ï¼š</h4>
<ul>
<li><code>min_size</code>ï¼šæ± çš„æœ€å°è¿æ¥æ•°ï¼ˆé»˜è®¤ 10ï¼‰ï¼›</li>
<li><code>max_size</code>ï¼šæ± çš„æœ€å¤§è¿æ¥æ•°ï¼ˆé»˜è®¤ 10ï¼‰ï¼›</li>
<li><code>timeout</code>ï¼šè·å–è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ 30 ç§’ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-17">ç”Ÿäº§å»ºè®®ï¼š</h4>
<ul>
<li>è¿æ¥æ± åº”å…¨å±€åˆå§‹åŒ–ä¸€æ¬¡ï¼Œè€Œéæ¯æ¬¡è¯·æ±‚åˆ›å»ºï¼›</li>
<li>ä¼˜å…ˆä½¿ç”¨ <code>async with pool.acquire()</code> è¯­æ³•ï¼Œé¿å…å¿˜è®°é‡Šæ”¾è¿æ¥ã€‚</li>
</ul>
<h3 data-id="heading-18">5. é¢„å¤„ç†è¯­å¥ï¼ˆæå‡é‡å¤æŸ¥è¯¢æ€§èƒ½ï¼‰</h3>
<p>å¯¹äºé¢‘ç¹æ‰§è¡Œçš„æŸ¥è¯¢ï¼Œasyncpg æ”¯æŒé¢„å¤„ç†è¯­å¥ï¼ˆPrepared Statementsï¼‰ï¼Œåªéœ€ç¼–è¯‘ä¸€æ¬¡ï¼Œé‡å¤æ‰§è¡Œæ—¶è·³è¿‡è§£æ/ä¼˜åŒ–æ­¥éª¤ï¼Œå¤§å¹…æå‡æ€§èƒ½ã€‚</p>
<h4 data-id="heading-19">ç¤ºä¾‹ä»£ç ï¼š</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">prepared_statements</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. é¢„å¤„ç†è¯­å¥ï¼ˆç¼–è¯‘ä¸€æ¬¡ï¼‰</span>
        stmt = <span class="hljs-keyword">await</span> conn.prepare(<span class="hljs-string">"SELECT * FROM users WHERE age &gt; $1"</span>)
        
        <span class="hljs-comment"># 2. é‡å¤æ‰§è¡Œï¼ˆå¤ç”¨ç¼–è¯‘ç»“æœï¼‰</span>
        <span class="hljs-keyword">for</span> age <span class="hljs-keyword">in</span> [<span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">30</span>]:
            users = <span class="hljs-keyword">await</span> stmt.fetch(age)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¹´é¾„å¤§äº <span class="hljs-subst">{age}</span> çš„ç”¨æˆ·: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(users)}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(prepared_statements())
</code></pre>
<h3 data-id="heading-20">6. æ‰¹é‡æ“ä½œï¼ˆé«˜æ•ˆæ’å…¥/æ›´æ–°ï¼‰</h3>
<h4 data-id="heading-21">6.1 executemanyï¼ˆæ‰¹é‡æ’å…¥ï¼‰</h4>
<p>é€‚åˆä¸­å°æ‰¹é‡æ•°æ®æ’å…¥ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_insert_executemany</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># æ‰¹é‡æ•°æ®</span>
        users_data = [
            (<span class="hljs-string">"user1"</span>, <span class="hljs-string">"user1@example.com"</span>, <span class="hljs-number">22</span>),
            (<span class="hljs-string">"user2"</span>, <span class="hljs-string">"user2@example.com"</span>, <span class="hljs-number">23</span>),
            (<span class="hljs-string">"user3"</span>, <span class="hljs-string">"user3@example.com"</span>, <span class="hljs-number">24</span>),
        ]
        <span class="hljs-comment"># æ‰¹é‡æ‰§è¡Œ</span>
        <span class="hljs-keyword">await</span> conn.executemany(
            <span class="hljs-string">"INSERT INTO users (username, email, age) VALUES ($1, $2, $3)"</span>,
            users_data
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰¹é‡æ’å…¥ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(users_data)}</span> æ¡æ•°æ®æˆåŠŸ"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(batch_insert_executemany())
</code></pre>
<h4 data-id="heading-22">6.2 copy_records_to_tableï¼ˆè¶…å¤§æ‰¹é‡æ’å…¥ï¼Œæ€§èƒ½æœ€ä¼˜ï¼‰</h4>
<p>é’ˆå¯¹ä¸‡çº§/åä¸‡çº§æ•°æ®æ’å…¥ï¼Œasyncpg æä¾› <code>copy_records_to_table</code>ï¼ŒåŸºäº PostgreSQL çš„ <code>COPY</code> åè®®ï¼Œæ€§èƒ½è¿œè¶… <code>executemany</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_insert_copy</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># è¶…å¤§æ‰¹é‡æ•°æ®ï¼ˆç¤ºä¾‹1000æ¡ï¼‰</span>
        large_data = [
            (<span class="hljs-string">f"batch_user<span class="hljs-subst">{i}</span>"</span>, <span class="hljs-string">f"batch_user<span class="hljs-subst">{i}</span>@example.com"</span>, <span class="hljs-number">20</span> + i % <span class="hljs-number">10</span>)
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>)
        ]
        <span class="hljs-comment"># é«˜æ•ˆæ‰¹é‡æ’å…¥</span>
        <span class="hljs-keyword">await</span> conn.copy_records_to_table(
            <span class="hljs-string">"users"</span>,
            columns=[<span class="hljs-string">"username"</span>, <span class="hljs-string">"email"</span>, <span class="hljs-string">"age"</span>],
            records=large_data
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"COPY æ‰¹é‡æ’å…¥ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(large_data)}</span> æ¡æ•°æ®æˆåŠŸ"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(batch_insert_copy())
</code></pre>
<h3 data-id="heading-23">7. è‡ªå®šä¹‰ç±»å‹å¤„ç†ï¼ˆJSONB ç¤ºä¾‹ï¼‰</h3>
<p>asyncpg åŸç”Ÿæ”¯æŒ PostgreSQL ç‰¹æ®Šç±»å‹ï¼ˆå¦‚ JSONBã€ARRAYã€UUIDï¼‰ï¼Œæ— éœ€é¢å¤–è½¬æ¢ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">jsonb_operations</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># æ’å…¥ JSONB æ•°æ®ï¼ˆç›´æ¥ä¼  Python å­—å…¸ï¼‰</span>
        profile = {<span class="hljs-string">"hobby"</span>: [<span class="hljs-string">"reading"</span>, <span class="hljs-string">"running"</span>], <span class="hljs-string">"city"</span>: <span class="hljs-string">"Beijing"</span>}
        <span class="hljs-keyword">await</span> conn.execute(
            <span class="hljs-string">"INSERT INTO users (username, email, profile) VALUES ($1, $2, $3)"</span>,
            <span class="hljs-string">"json_user"</span>, <span class="hljs-string">"json@example.com"</span>, profile
        )

        <span class="hljs-comment"># æŸ¥è¯¢ JSONB æ•°æ®ï¼ˆè‡ªåŠ¨è½¬ä¸º Python å­—å…¸ï¼‰</span>
        user = <span class="hljs-keyword">await</span> conn.fetchrow(<span class="hljs-string">"SELECT * FROM users WHERE username = $1"</span>, <span class="hljs-string">"json_user"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"JSONB æ•°æ®: <span class="hljs-subst">{user[<span class="hljs-string">'profile'</span>]}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”¨æˆ·çˆ±å¥½: <span class="hljs-subst">{user[<span class="hljs-string">'profile'</span>][<span class="hljs-string">'hobby'</span>][<span class="hljs-number">0</span>]}</span>"</span>)

        <span class="hljs-comment"># JSONB æ¡ä»¶æŸ¥è¯¢ï¼ˆPostgreSQL åŸç”Ÿè¯­æ³•ï¼‰</span>
        filtered = <span class="hljs-keyword">await</span> conn.fetch(
            <span class="hljs-string">"SELECT username FROM users WHERE profile -&gt;&gt; 'city' = $1"</span>,
            <span class="hljs-string">"Beijing"</span>
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŒ—äº¬ç”¨æˆ·: <span class="hljs-subst">{[u[<span class="hljs-string">'username'</span>] <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> filtered]}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(jsonb_operations())
</code></pre>
<h3 data-id="heading-24">8. é”™è¯¯å¤„ç†</h3>
<p>asyncpg æŠ›å‡ºçš„å¼‚å¸¸å‡ç»§æ‰¿è‡ª <code>asyncpg.PostgresError</code>ï¼Œå¸¸è§å¼‚å¸¸åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>asyncpg.UniqueViolationError</code>ï¼šå”¯ä¸€é”®å†²çªï¼›</li>
<li><code>asyncpg.ForeignKeyViolationError</code>ï¼šå¤–é”®å†²çªï¼›</li>
<li><code>asyncpg.PostgresSyntaxError</code>ï¼šSQL è¯­æ³•é”™è¯¯ï¼›</li>
<li><code>asyncpg.ConnectionFailureError</code>ï¼šè¿æ¥å¤±è´¥ã€‚</li>
</ul>
<h4 data-id="heading-25">ç¤ºä¾‹ä»£ç ï¼š</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">error_handling</span>():
    conn = <span class="hljs-keyword">await</span> asyncpg.connect(**DB_CONFIG)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># æ•…æ„æ’å…¥é‡å¤ç”¨æˆ·åï¼ˆè§¦å‘å”¯ä¸€é”®å†²çªï¼‰</span>
        <span class="hljs-keyword">await</span> conn.execute(
            <span class="hljs-string">"INSERT INTO users (username, email) VALUES ($1, $2)"</span>,
            <span class="hljs-string">"json_user"</span>, <span class="hljs-string">"duplicate@example.com"</span>
        )
    <span class="hljs-keyword">except</span> asyncpg.UniqueViolationError <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å”¯ä¸€é”®å†²çªé”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">except</span> asyncpg.PostgresError <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"PostgreSQL é€šç”¨é”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å…¶ä»–é”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">await</span> conn.close()

asyncio.run(error_handling())
</code></pre>
<h2 data-id="heading-26">ä¸‰ã€å®æˆ˜æ¡ˆä¾‹ï¼šä¸²è”æ‰€æœ‰ API å®ç°ç”¨æˆ·ç®¡ç†</h2>
<p>ä»¥ä¸‹æ¡ˆä¾‹æ•´åˆè¿æ¥æ± ã€äº‹åŠ¡ã€å‚æ•°åŒ–æŸ¥è¯¢ã€æ‰¹é‡æ“ä½œã€é”™è¯¯å¤„ç†ç­‰æ‰€æœ‰æ ¸å¿ƒ APIï¼Œå®ç°ä¸€ä¸ªå®Œæ•´çš„å¼‚æ­¥ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">import</span> asyncpg
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

load_dotenv()
DB_CONFIG = {
    <span class="hljs-string">"user"</span>: os.getenv(<span class="hljs-string">"DB_USER"</span>, <span class="hljs-string">"postgres"</span>),
    <span class="hljs-string">"password"</span>: os.getenv(<span class="hljs-string">"DB_PASSWORD"</span>, <span class="hljs-string">"123456"</span>),
    <span class="hljs-string">"database"</span>: os.getenv(<span class="hljs-string">"DB_NAME"</span>, <span class="hljs-string">"test_db"</span>),
    <span class="hljs-string">"host"</span>: os.getenv(<span class="hljs-string">"DB_HOST"</span>, <span class="hljs-string">"localhost"</span>),
    <span class="hljs-string">"port"</span>: os.getenv(<span class="hljs-string">"DB_PORT"</span>, <span class="hljs-number">5432</span>),
}

<span class="hljs-comment"># å…¨å±€è¿æ¥æ± ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®å•ä¾‹ï¼‰</span>
global_pool = <span class="hljs-literal">None</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">init_pool</span>():
    <span class="hljs-string">"""åˆå§‹åŒ–è¿æ¥æ± """</span>
    <span class="hljs-keyword">global</span> global_pool
    global_pool = <span class="hljs-keyword">await</span> asyncpg.create_pool(**DB_CONFIG, min_size=<span class="hljs-number">5</span>, max_size=<span class="hljs-number">20</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿æ¥æ± åˆå§‹åŒ–æˆåŠŸ"</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">close_pool</span>():
    <span class="hljs-string">"""å…³é—­è¿æ¥æ± """</span>
    <span class="hljs-keyword">if</span> global_pool:
        <span class="hljs-keyword">await</span> global_pool.close()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿æ¥æ± å·²å…³é—­"</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>(<span class="hljs-params">username: <span class="hljs-built_in">str</span>, email: <span class="hljs-built_in">str</span>, age: <span class="hljs-built_in">int</span> = <span class="hljs-literal">None</span>, profile: <span class="hljs-built_in">dict</span> = <span class="hljs-literal">None</span></span>):
    <span class="hljs-string">"""åˆ›å»ºå•ä¸ªç”¨æˆ·ï¼ˆå¸¦äº‹åŠ¡å’Œé”™è¯¯å¤„ç†ï¼‰"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> global_pool:
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">"è¿æ¥æ± æœªåˆå§‹åŒ–"</span>)
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> global_pool.acquire() <span class="hljs-keyword">as</span> conn:
            <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> conn.transaction():
                user_id = <span class="hljs-keyword">await</span> conn.fetchval(
                    <span class="hljs-string">"""
                    INSERT INTO users (username, email, age, profile)
                    VALUES ($1, $2, $3, $4)
                    RETURNING id
                    """</span>,
                    username, email, age, profile
                )
                <span class="hljs-keyword">return</span> user_id
    <span class="hljs-keyword">except</span> asyncpg.UniqueViolationError:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"ç”¨æˆ·å <span class="hljs-subst">{username}</span> æˆ–é‚®ç®± <span class="hljs-subst">{email}</span> å·²å­˜åœ¨"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">f"åˆ›å»ºç”¨æˆ·å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_create_users</span>(<span class="hljs-params">users_list: <span class="hljs-built_in">list</span></span>):
    <span class="hljs-string">"""æ‰¹é‡åˆ›å»ºç”¨æˆ·ï¼ˆåŸºäº COPY åè®®ï¼‰"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> global_pool:
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">"è¿æ¥æ± æœªåˆå§‹åŒ–"</span>)
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> global_pool.acquire() <span class="hljs-keyword">as</span> conn:
            <span class="hljs-keyword">await</span> conn.copy_records_to_table(
                <span class="hljs-string">"users"</span>,
                columns=[<span class="hljs-string">"username"</span>, <span class="hljs-string">"email"</span>, <span class="hljs-string">"age"</span>, <span class="hljs-string">"profile"</span>],
                records=users_list
            )
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(users_list)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">f"æ‰¹é‡åˆ›å»ºç”¨æˆ·å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_by_id</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-string">"""æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> global_pool:
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">"è¿æ¥æ± æœªåˆå§‹åŒ–"</span>)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> global_pool.acquire() <span class="hljs-keyword">as</span> conn:
        user = <span class="hljs-keyword">await</span> conn.fetchrow(<span class="hljs-string">"SELECT * FROM users WHERE id = $1"</span>, user_id)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">dict</span>(user) <span class="hljs-keyword">if</span> user <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_user_age</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span>, new_age: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-string">"""æ›´æ–°ç”¨æˆ·å¹´é¾„"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> global_pool:
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">"è¿æ¥æ± æœªåˆå§‹åŒ–"</span>)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> global_pool.acquire() <span class="hljs-keyword">as</span> conn:
        affected = <span class="hljs-keyword">await</span> conn.execute(<span class="hljs-string">"UPDATE users SET age = $1 WHERE id = $2"</span>, new_age, user_id)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(affected.split()[<span class="hljs-number">1</span>])  <span class="hljs-comment"># è½¬æ¢ "UPDATE 1" ä¸º 1</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_user</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-string">"""åˆ é™¤ç”¨æˆ·"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> global_pool:
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">"è¿æ¥æ± æœªåˆå§‹åŒ–"</span>)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> global_pool.acquire() <span class="hljs-keyword">as</span> conn:
        affected = <span class="hljs-keyword">await</span> conn.execute(<span class="hljs-string">"DELETE FROM users WHERE id = $1"</span>, user_id)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(affected.split()[<span class="hljs-number">1</span>])

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°ï¼šä¸²è”æ‰€æœ‰æ“ä½œ"""</span>
    <span class="hljs-comment"># 1. åˆå§‹åŒ–è¿æ¥æ± </span>
    <span class="hljs-keyword">await</span> init_pool()

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 2. åˆ›å»ºå•ä¸ªç”¨æˆ·</span>
        user_id = <span class="hljs-keyword">await</span> create_user(
            username=<span class="hljs-string">"final_test"</span>,
            email=<span class="hljs-string">"final@example.com"</span>,
            age=<span class="hljs-number">30</span>,
            profile={<span class="hljs-string">"hobby"</span>: <span class="hljs-string">"swimming"</span>, <span class="hljs-string">"city"</span>: <span class="hljs-string">"Shanghai"</span>}
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ›å»ºå•ä¸ªç”¨æˆ·æˆåŠŸï¼ŒID: <span class="hljs-subst">{user_id}</span>"</span>)

        <span class="hljs-comment"># 3. æŸ¥è¯¢ç”¨æˆ·</span>
        user = <span class="hljs-keyword">await</span> get_user_by_id(user_id)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢ç”¨æˆ·: <span class="hljs-subst">{user}</span>"</span>)

        <span class="hljs-comment"># 4. æ›´æ–°ç”¨æˆ·å¹´é¾„</span>
        update_count = <span class="hljs-keyword">await</span> update_user_age(user_id, <span class="hljs-number">31</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ›´æ–°ç”¨æˆ·å¹´é¾„ï¼Œå—å½±å“è¡Œæ•°: <span class="hljs-subst">{update_count}</span>"</span>)

        <span class="hljs-comment"># 5. æ‰¹é‡åˆ›å»ºç”¨æˆ·</span>
        batch_data = [
            (<span class="hljs-string">"batch_1"</span>, <span class="hljs-string">"batch1@example.com"</span>, <span class="hljs-number">25</span>, {<span class="hljs-string">"city"</span>: <span class="hljs-string">"Guangzhou"</span>}),
            (<span class="hljs-string">"batch_2"</span>, <span class="hljs-string">"batch2@example.com"</span>, <span class="hljs-number">26</span>, {<span class="hljs-string">"city"</span>: <span class="hljs-string">"Shenzhen"</span>}),
        ]
        batch_count = <span class="hljs-keyword">await</span> batch_create_users(batch_data)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰¹é‡åˆ›å»º <span class="hljs-subst">{batch_count}</span> ä¸ªç”¨æˆ·æˆåŠŸ"</span>)

        <span class="hljs-comment"># 6. åˆ é™¤ç”¨æˆ·</span>
        delete_count = <span class="hljs-keyword">await</span> delete_user(user_id)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ é™¤ç”¨æˆ·ï¼Œå—å½±å“è¡Œæ•°: <span class="hljs-subst">{delete_count}</span>"</span>)

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ“ä½œå¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-comment"># 7. å…³é—­è¿æ¥æ± </span>
        <span class="hljs-keyword">await</span> close_pool()

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(main())
</code></pre>
<h2 data-id="heading-27">å››ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-28">1. æ ¸å¿ƒ API æ€»ç»“</h3>

































<table><thead><tr><th>åœºæ™¯</th><th>æ ¸å¿ƒ API</th></tr></thead><tbody><tr><td>è¿æ¥ç®¡ç†</td><td><code>asyncpg.connect()</code>, <code>asyncpg.create_pool()</code></td></tr><tr><td>æŸ¥è¯¢ç»“æœ</td><td><code>fetchval()</code>, <code>fetchrow()</code>, <code>fetch()</code></td></tr><tr><td>å†™æ“ä½œ</td><td><code>execute()</code>, <code>executemany()</code></td></tr><tr><td>è¶…å¤§æ‰¹é‡æ’å…¥</td><td><code>copy_records_to_table()</code></td></tr><tr><td>äº‹åŠ¡</td><td><code>conn.transaction()</code>ï¼ˆä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼‰</td></tr><tr><td>é¢„å¤„ç†è¯­å¥</td><td><code>conn.prepare()</code></td></tr></tbody></table>
<h3 data-id="heading-29">2. æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>ç”Ÿäº§ç¯å¢ƒä¼˜å…ˆç”¨è¿æ¥æ± </strong>ï¼šå•ä¸ªè¿æ¥æ— æ³•åº”å¯¹å¹¶å‘ï¼Œè¿æ¥æ± éœ€æ§åˆ¶ <code>max_size</code>ï¼ˆå»ºè®®ä¸è¶…è¿‡ PostgreSQL æœ€å¤§è¿æ¥æ•°çš„ 80%ï¼‰ï¼›</li>
<li><strong>å‚æ•°åŒ–æŸ¥è¯¢å¿…ç”¨</strong>ï¼šé¿å…å­—ç¬¦ä¸²æ‹¼æ¥ SQLï¼Œé˜²æ­¢æ³¨å…¥ï¼Œç»Ÿä¸€ç”¨ <code>$1</code>, <code>$2</code> å ä½ç¬¦ï¼›</li>
<li><strong>äº‹åŠ¡åŒ…è£¹å†™æ“ä½œ</strong>ï¼šINSERT/UPDATE/DELETE å»ºè®®æ”¾åœ¨äº‹åŠ¡ä¸­ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼›</li>
<li><strong>åŠæ—¶é‡Šæ”¾èµ„æº</strong>ï¼šè¿æ¥æ± çš„è¿æ¥éœ€é€šè¿‡ <code>pool.release()</code> æˆ–ä¸Šä¸‹æ–‡ç®¡ç†å™¨é‡Šæ”¾ï¼Œæ± éœ€åœ¨ç¨‹åºé€€å‡ºæ—¶å…³é—­ï¼›</li>
<li><strong>é”™è¯¯å¤„ç†ç²¾ç»†åŒ–</strong>ï¼šé’ˆå¯¹ä¸åŒ PostgreSQL å¼‚å¸¸ï¼ˆå¦‚å”¯ä¸€é”®å†²çªï¼‰åšé’ˆå¯¹æ€§å¤„ç†ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼›</li>
<li><strong>è¶…å¤§æ‰¹é‡ç”¨ COPY</strong>ï¼šæ•°æ®é‡ &gt; 1000 æ¡æ—¶ï¼Œä¼˜å…ˆç”¨ <code>copy_records_to_table()</code> è€Œé <code>executemany()</code>ã€‚</li>
</ol>
<p>é€šè¿‡æœ¬æ•™ç¨‹çš„ API è¯¦è§£å’Œå®æˆ˜æ¡ˆä¾‹ï¼Œä½ å·²æŒæ¡ asyncpg æ‰€æœ‰æ ¸å¿ƒç”¨æ³•ï¼Œå¯ç›´æ¥åº”ç”¨äºå¼‚æ­¥ Python é¡¹ç›®ï¼ˆå¦‚ FastAPIã€Sanic ç­‰ï¼‰çš„ PostgreSQL æ“ä½œåœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaåŒ…ï¼ˆPackageï¼‰ï¼šä»£ç çš„"ç»„ç»‡ç®¡ç†å™¨"]]></title>    <link>https://juejin.cn/post/7580287891273138239</link>    <guid>https://juejin.cn/post/7580287891273138239</guid>    <pubDate>2025-12-06T10:28:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580287891273138239" data-draft-id="7580287383787880491" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaåŒ…ï¼ˆPackageï¼‰ï¼šä»£ç çš„&quot;ç»„ç»‡ç®¡ç†å™¨&quot;"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-06T10:28:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaåŒ…ï¼ˆPackageï¼‰ï¼šä»£ç çš„"ç»„ç»‡ç®¡ç†å™¨"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T10:28:18.000Z" title="Sat Dec 06 2025 10:28:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>Javaçš„<strong>åŒ…</strong>ï¼ˆ<code>Package</code>ï¼‰å°±æ˜¯ä»£ç ä¸–ç•Œçš„"æ–‡ä»¶å¤¹"ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬æŠŠç›¸å…³çš„ç±»ç»„ç»‡åœ¨ä¸€èµ·ï¼Œè®©ä»£ç ç»“æ„æ¸…æ™°ã€æ˜“äºç®¡ç†</p>
<h2 data-id="heading-0">1.ä¸ºä»€ä¹ˆéœ€è¦åŒ…</h2>
<h3 data-id="heading-1">1.1 é¿å…å‘½åå†²çª</h3>
<p>æ²¡æœ‰åŒ…çš„æƒ…å†µï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// å…¬å¸Açš„ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> { <span class="hljs-comment">/* ... */</span> }

<span class="hljs-comment">// å…¬å¸Bçš„ä»£ç ä¹Ÿç”¨äº†åŒæ ·çš„ç±»å</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> { <span class="hljs-comment">/* ... */</span> } <span class="hljs-comment">// å†²çªï¼æ— æ³•å…±å­˜</span>
</code></pre>
<h3 data-id="heading-2">1.2 æ›´å¥½çš„ç»„ç»‡</h3>
<ul>
<li>æŠŠæ‰€æœ‰ç”¨æˆ·ç›¸å…³çš„ç±»æ”¾åœ¨<code>com.example.user</code>åŒ…</li>
<li>æŠŠæ‰€æœ‰å•†å“ç›¸å…³çš„ç±»æ”¾åœ¨<code>com.example.product</code>åŒ…</li>
<li>æŠŠæ‰€æœ‰è®¢å•ç›¸å…³çš„ç±»æ”¾åœ¨<code>com.example.order</code>åŒ…</li>
</ul>
<h2 data-id="heading-3">2.åŒ…çš„æ¦‚å¿µ</h2>
<p><strong>åŒ…</strong>å°±æ˜¯ä¸€ç»„ç›¸å…³ç±»å’Œæ¥å£çš„é›†åˆã€‚å®ƒå°±åƒï¼š</p>
<ul>
<li>å­¦æ ¡çš„<strong>ç­çº§</strong>ï¼šæŠŠåŒä¸€å­¦ç§‘çš„å­¦ç”Ÿç»„ç»‡åœ¨ä¸€èµ·</li>
<li>å…¬å¸çš„<strong>éƒ¨é—¨</strong>ï¼šæŠŠç›¸åŒèŒèƒ½çš„å‘˜å·¥ç»„ç»‡åœ¨ä¸€èµ·</li>
<li>å›¾ä¹¦é¦†çš„<strong>åˆ†ç±»</strong>ï¼šæŠŠåŒç±»ä¹¦ç±æ”¾åœ¨åŒä¸€ä¹¦æ¶</li>
</ul>
<h2 data-id="heading-4">åŒ…çš„å£°æ˜å’Œå‘½åè§„èŒƒ</h2>
<h3 data-id="heading-5">3.1 å¦‚ä½•å£°æ˜åŒ…</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// åœ¨Javaæ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼ˆæ³¨é‡Šé™¤å¤–ï¼‰å£°æ˜åŒ…</span>
<span class="hljs-keyword">package</span> com.example.school;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-comment">// ç±»çš„å†…å®¹</span>
}
</code></pre>
<h3 data-id="heading-6">3.2 åŒ…çš„å‘½åè§„èŒƒ</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// 1. ä½¿ç”¨å°å†™å­—æ¯</span>
<span class="hljs-keyword">package</span> com.example.mypackage;  <span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">package</span> Com.Example.MyPackage;  <span class="hljs-comment">// âŒ é”™è¯¯</span>

<span class="hljs-comment">// 2. ä½¿ç”¨é€†åŸŸåçº¦å®šï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
<span class="hljs-keyword">package</span> com.google.common;      <span class="hljs-comment">// Googleçš„é€šç”¨åº“</span>
<span class="hljs-keyword">package</span> org.apache.commons;     <span class="hljs-comment">// Apache Commons</span>
<span class="hljs-keyword">package</span> java.util;              <span class="hljs-comment">// Javaæ ‡å‡†åº“</span>

<span class="hljs-comment">// 3. å¤šå±‚åŒ…åç”¨ç‚¹åˆ†éš”</span>
<span class="hljs-keyword">package</span> com.example.project.<span class="hljs-keyword">module</span>.submodule;

<span class="hljs-comment">// 4. åŒ…åè¦æœ‰æ„ä¹‰</span>
<span class="hljs-keyword">package</span> com.shop.user;          <span class="hljs-comment">// ç”¨æˆ·ç›¸å…³</span>
<span class="hljs-keyword">package</span> com.shop.product;       <span class="hljs-comment">// äº§å“ç›¸å…³  </span>
<span class="hljs-keyword">package</span> com.shop.order;         <span class="hljs-comment">// è®¢å•ç›¸å…³</span>
</code></pre>
<h3 data-id="heading-7">3.3 å®é™…ç¤ºä¾‹</h3>
<p>é¡¹ç›®ç»“æ„ï¼š</p>
<pre><code class="hljs language-Java" lang="Java">myproject/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ com/
â”‚   â”‚   â””â”€â”€ example/
â”‚   â”‚       â””â”€â”€ school/
â”‚   â”‚           â”œâ”€â”€ Student.java
â”‚   â”‚           â”œâ”€â”€ Teacher.java
â”‚   â”‚           â””â”€â”€ Course.java
â”‚   â””â”€â”€ Main.java
</code></pre>
<p>Student.java:</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// å£°æ˜åŒ…</span>
<span class="hljs-keyword">package</span> com.example.school;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">introduce</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"æˆ‘æ˜¯å­¦ç”Ÿï¼Œæˆ‘å«"</span> + name + <span class="hljs-string">"ï¼Œä»Šå¹´"</span> + age + <span class="hljs-string">"å²"</span>);
    }
}
</code></pre>
<p>Teacher.java:</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">package</span> com.example.school;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> String subject;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Teacher</span><span class="hljs-params">(String name, String subject)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.subject = subject;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">teach</span><span class="hljs-params">()</span> {
        System.out.println(name + <span class="hljs-string">"è€å¸ˆæ­£åœ¨æ•™"</span> + subject);
    }
}
</code></pre>
<h2 data-id="heading-8">4.åŒ…çš„å¯¼å…¥</h2>
<h3 data-id="heading-9">4.1 å¯¼å…¥å•ä¸ªç±»</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// Main.javaï¼ˆä¸åœ¨åŒ…ä¸­ï¼Œæˆ–åœ¨ä¸åŒåŒ…ä¸­ï¼‰</span>
<span class="hljs-keyword">import</span> com.example.school.Student;
<span class="hljs-keyword">import</span> com.example.school.Teacher;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">18</span>);
        <span class="hljs-type">Teacher</span> <span class="hljs-variable">teacher</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Teacher</span>(<span class="hljs-string">"æè€å¸ˆ"</span>, <span class="hljs-string">"æ•°å­¦"</span>);
        
        student.introduce();
        teacher.teach();
    }
}
</code></pre>
<h3 data-id="heading-10">4.2 å¯¼å…¥æ•´ä¸ªåŒ…</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// å¯¼å…¥åŒ…ä¸­çš„æ‰€æœ‰ç±»</span>
<span class="hljs-keyword">import</span> com.example.school.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å¯ä»¥ä½¿ç”¨åŒ…ä¸­çš„æ‰€æœ‰ç±»</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">18</span>);
        <span class="hljs-type">Teacher</span> <span class="hljs-variable">teacher</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Teacher</span>(<span class="hljs-string">"æè€å¸ˆ"</span>, <span class="hljs-string">"æ•°å­¦"</span>);
        <span class="hljs-type">Course</span> <span class="hljs-variable">course</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Course</span>(<span class="hljs-string">"Javaç¼–ç¨‹"</span>, <span class="hljs-number">48</span>);
        
        student.introduce();
        teacher.teach();
        course.showInfo();
    }
}
</code></pre>
<h3 data-id="heading-11">4.3 é™æ€å¯¼å…¥</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> java.lang.Math.PI;      <span class="hljs-comment">// å¯¼å…¥é™æ€å¸¸é‡</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> java.lang.Math.pow;     <span class="hljs-comment">// å¯¼å…¥é™æ€æ–¹æ³•</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> java.lang.System.out;   <span class="hljs-comment">// å¯¼å…¥é™æ€æˆå‘˜</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StaticImportDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ä¸ç”¨å†™ Math.PIï¼Œç›´æ¥ä½¿ç”¨ PI</span>
        <span class="hljs-type">double</span> <span class="hljs-variable">radius</span> <span class="hljs-operator">=</span> <span class="hljs-number">5.0</span>;
        <span class="hljs-type">double</span> <span class="hljs-variable">area</span> <span class="hljs-operator">=</span> PI * pow(radius, <span class="hljs-number">2</span>);
        
        <span class="hljs-comment">// ä¸ç”¨å†™ System.outï¼Œç›´æ¥ä½¿ç”¨ out</span>
        out.println(<span class="hljs-string">"åœ†çš„é¢ç§¯: "</span> + area);
        out.println(<span class="hljs-string">"æœ€å¤§å€¼: "</span> + Math.max(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>));  <span class="hljs-comment">// ä¹Ÿå¯ä»¥æ··ç”¨</span>
    }
}
</code></pre>
<h3 data-id="heading-12">4.4 ä¸éœ€è¦å¯¼å…¥çš„æƒ…å†µ</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NoImportNeeded</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. åŒåŒ…ä¸­çš„ç±»ä¸éœ€è¦å¯¼å…¥</span>
        <span class="hljs-comment">// å¦‚æœè¿™ä¸ªç±»å’ŒStudentåœ¨åŒä¸€ä¸ªåŒ…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨</span>
        
        <span class="hljs-comment">// 2. java.langåŒ…ä¸­çš„ç±»è‡ªåŠ¨å¯¼å…¥</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);  <span class="hljs-comment">// java.lang.String</span>
        <span class="hljs-type">Integer</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;                  <span class="hljs-comment">// java.lang.Integer</span>
        System.out.println(<span class="hljs-string">"è‡ªåŠ¨å¯¼å…¥"</span>);      <span class="hljs-comment">// java.lang.System</span>
        
        <span class="hljs-comment">// 3. ä½¿ç”¨å®Œå…¨é™å®šåï¼ˆä¸æ¨èï¼Œä»£ç å†—é•¿ï¼‰</span>
        java.util.ArrayList&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.util.ArrayList&lt;&gt;();
        java.util.<span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.util.Date();
        
        <span class="hljs-comment">// 4. å¤„ç†åŒåå†²çª</span>
        java.sql.<span class="hljs-type">Date</span> <span class="hljs-variable">sqlDate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.sql.Date(<span class="hljs-number">0</span>);
        java.util.<span class="hljs-type">Date</span> <span class="hljs-variable">utilDate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.util.Date();
    }
}
</code></pre>
<h2 data-id="heading-13">5.åŒ…ä¸ç›®å½•ç»“æ„</h2>
<h3 data-id="heading-14">5.1 å¿…é¡»åŒ¹é…çš„ç›®å½•ç»“æ„</h3>
<p><strong>è§„åˆ™</strong>ï¼šåŒ…åå¿…é¡»ä¸ç›®å½•ç»“æ„å®Œå…¨ä¸€è‡´ï¼</p>
<pre><code class="hljs language-Java" lang="Java">é¡¹ç›®ç»“æ„ï¼š
src/
â”œâ”€â”€ com/
â”‚   â””â”€â”€ example/
â”‚       â””â”€â”€ school/
â”‚           â”œâ”€â”€ Student.java   (<span class="hljs-keyword">package</span> com.example.school;)
â”‚           â””â”€â”€ Teacher.java   (<span class="hljs-keyword">package</span> com.example.school;)
â””â”€â”€ Main.java                  (æ²¡æœ‰åŒ…å£°æ˜ï¼Œæˆ–ä¸åŒåŒ…)
</code></pre>
<p><strong>ç¼–è¯‘å’Œè¿è¡Œï¼š</strong></p>
<pre><code class="hljs language-Java" lang="Java"># ç¼–è¯‘ï¼ˆåœ¨srcç›®å½•ä¸‹ï¼‰
javac com/example/school/Student.java
javac com/example/school/Teacher.java
javac Main.java

# è¿è¡Œ
java Main
</code></pre>
<h3 data-id="heading-15">5.2 ä½¿ç”¨IDEçš„é¡¹ç›®ç»“æ„</h3>
<p>ç°ä»£IDEï¼ˆå¦‚IntelliJ IDEAã€Eclipseï¼‰ä¼šè‡ªåŠ¨ç®¡ç†åŒ…ç»“æ„ï¼š</p>
<pre><code class="hljs language-Java" lang="Java">myproject/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â””â”€â”€ java/
â”‚           â”œâ”€â”€ com/
â”‚           â”‚   â””â”€â”€ example/
â”‚           â”‚       â”œâ”€â”€ school/
â”‚           â”‚       â”‚   â”œâ”€â”€ Student.java
â”‚           â”‚       â”‚   â””â”€â”€ Teacher.java
â”‚           â”‚       â””â”€â”€ utils/
â”‚           â”‚           â””â”€â”€ StringUtil.java
â”‚           â””â”€â”€ Main.java
â””â”€â”€ pom.xml æˆ– build.gradle
</code></pre>
<h2 data-id="heading-16">6.è®¿é—®æƒé™æ§åˆ¶</h2>
<h3 data-id="heading-17">6.1 Javaçš„å››ç§è®¿é—®ä¿®é¥°ç¬¦</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">package</span> com.example.school;

<span class="hljs-comment">// å…¬å…±ç±»ï¼šæ‰€æœ‰åŒ…éƒ½å¯ä»¥è®¿é—®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-comment">// å…¬å…±å­—æ®µï¼šæ‰€æœ‰åŒ…éƒ½å¯ä»¥è®¿é—®</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-variable">publicField</span> <span class="hljs-operator">=</span> <span class="hljs-string">"å…¬å…±å­—æ®µ"</span>;
    
    <span class="hljs-comment">// å—ä¿æŠ¤å­—æ®µï¼šåŒåŒ…æˆ–å­ç±»å¯ä»¥è®¿é—®</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">String</span> <span class="hljs-variable">protectedField</span> <span class="hljs-operator">=</span> <span class="hljs-string">"å—ä¿æŠ¤å­—æ®µ"</span>;
    
    <span class="hljs-comment">// é»˜è®¤å­—æ®µï¼ˆåŒ…ç§æœ‰ï¼‰ï¼šåªæœ‰åŒåŒ…å¯ä»¥è®¿é—®</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">defaultField</span> <span class="hljs-operator">=</span> <span class="hljs-string">"é»˜è®¤å­—æ®µ"</span>;
    
    <span class="hljs-comment">// ç§æœ‰å­—æ®µï¼šåªæœ‰æœ¬ç±»å¯ä»¥è®¿é—®</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">privateField</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ç§æœ‰å­—æ®µ"</span>;
    
    <span class="hljs-comment">// å…¬å…±æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">publicMethod</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"å…¬å…±æ–¹æ³•"</span>);
        <span class="hljs-comment">// å¯ä»¥è®¿é—®æ‰€æœ‰å­—æ®µ</span>
        System.out.println(privateField);
    }
    
    <span class="hljs-comment">// å—ä¿æŠ¤æ–¹æ³•</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">protectedMethod</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"å—ä¿æŠ¤æ–¹æ³•"</span>);
    }
    
    <span class="hljs-comment">// é»˜è®¤æ–¹æ³•</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">defaultMethod</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"é»˜è®¤æ–¹æ³•"</span>);
    }
    
    <span class="hljs-comment">// ç§æœ‰æ–¹æ³•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">privateMethod</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ç§æœ‰æ–¹æ³•"</span>);
    }
}
</code></pre>
<h3 data-id="heading-18">6.2 è®¿é—®æƒé™æ€»ç»“è¡¨</h3>








































<table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>åŒç±»</th><th>åŒåŒ…</th><th>å­ç±»</th><th>ä¸åŒåŒ…</th></tr></thead><tbody><tr><td><code>public</code></td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ“</td></tr><tr><td><code>protected</code></td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ—</td></tr><tr><td>é»˜è®¤ï¼ˆæ— ï¼‰</td><td>âœ“</td><td>âœ“</td><td>âœ—</td><td>âœ—</td></tr><tr><td><code>private</code></td><td>âœ“</td><td>âœ—</td><td>âœ—</td><td>âœ—</td></tr></tbody></table>
<h3 data-id="heading-19">6.3 å®é™…åº”ç”¨ç¤ºä¾‹</h3>
<p>åŒåŒ…è®¿é—®ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// åœ¨ com.example.school åŒ…ä¸­</span>
<span class="hljs-keyword">package</span> com.example.school;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Course</span> {
    <span class="hljs-comment">// å¯ä»¥è®¿é—®åŒåŒ…çš„Studentçš„æ‰€æœ‰éç§æœ‰æˆå‘˜</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testAccess</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"æµ‹è¯•"</span>, <span class="hljs-number">20</span>);
        
        System.out.println(student.publicField);      <span class="hljs-comment">// âœ“ å¯ä»¥</span>
        System.out.println(student.protectedField);   <span class="hljs-comment">// âœ“ å¯ä»¥ï¼ˆåŒåŒ…ï¼‰</span>
        System.out.println(student.defaultField);     <span class="hljs-comment">// âœ“ å¯ä»¥ï¼ˆåŒåŒ…ï¼‰</span>
        <span class="hljs-comment">// System.out.println(student.privateField);  // âœ— é”™è¯¯ï¼šç§æœ‰</span>
        
        student.publicMethod();      <span class="hljs-comment">// âœ“ å¯ä»¥</span>
        student.protectedMethod();   <span class="hljs-comment">// âœ“ å¯ä»¥ï¼ˆåŒåŒ…ï¼‰</span>
        student.defaultMethod();     <span class="hljs-comment">// âœ“ å¯ä»¥ï¼ˆåŒåŒ…ï¼‰</span>
        <span class="hljs-comment">// student.privateMethod();  // âœ— é”™è¯¯ï¼šç§æœ‰</span>
    }
}
</code></pre>
<p>ä¸åŒåŒ…è®¿é—®ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// åœ¨ä¸åŒåŒ…ä¸­</span>
<span class="hljs-keyword">package</span> com.example.test;

<span class="hljs-keyword">import</span> com.example.school.Student;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestClass</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testAccess</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"æµ‹è¯•"</span>, <span class="hljs-number">20</span>);
        
        System.out.println(student.publicField);      <span class="hljs-comment">// âœ“ å¯ä»¥</span>
        <span class="hljs-comment">// System.out.println(student.protectedField); // âœ— é”™è¯¯ï¼šä¸åŒåŒ…ä¸”éå­ç±»</span>
        <span class="hljs-comment">// System.out.println(student.defaultField);   // âœ— é”™è¯¯ï¼šä¸åŒåŒ…</span>
        <span class="hljs-comment">// System.out.println(student.privateField);   // âœ— é”™è¯¯ï¼šç§æœ‰</span>
        
        student.publicMethod();      <span class="hljs-comment">// âœ“ å¯ä»¥</span>
        <span class="hljs-comment">// student.protectedMethod(); // âœ— é”™è¯¯ï¼šä¸åŒåŒ…ä¸”éå­ç±»</span>
        <span class="hljs-comment">// student.defaultMethod();   // âœ— é”™è¯¯ï¼šä¸åŒåŒ…</span>
        <span class="hljs-comment">// student.privateMethod();   // âœ— é”™è¯¯ï¼šç§æœ‰</span>
    }
}
</code></pre>
<p>å­ç±»è®¿é—®ï¼ˆè·¨åŒ…ï¼‰ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// åœ¨ä¸åŒåŒ…ä¸­åˆ›å»ºStudentçš„å­ç±»</span>
<span class="hljs-keyword">package</span> com.example.test;

<span class="hljs-keyword">import</span> com.example.school.Student;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GraduateStudent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Student</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">GraduateStudent</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">super</span>(name, age);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testProtectedAccess</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„protectedæˆå‘˜</span>
        System.out.println(protectedField);  <span class="hljs-comment">// âœ“ å¯ä»¥ï¼ˆå­ç±»ï¼‰</span>
        protectedMethod();                   <span class="hljs-comment">// âœ“ å¯ä»¥ï¼ˆå­ç±»ï¼‰</span>
        
        <span class="hljs-comment">// ä½†ä¸èƒ½è®¿é—®é»˜è®¤å’Œç§æœ‰æˆå‘˜</span>
        <span class="hljs-comment">// System.out.println(defaultField);  // âœ— é”™è¯¯ï¼šä¸åŒåŒ…</span>
        <span class="hljs-comment">// System.out.println(privateField);  // âœ— é”™è¯¯ï¼šç§æœ‰</span>
    }
}
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€ç»¼åˆç¤ºä¾‹ï¼šå®Œæ•´çš„å­¦æ ¡ç®¡ç†ç³»ç»Ÿ</h2>
<h3 data-id="heading-21">é¡¹ç›®ç»“æ„ï¼š</h3>
<p>text</p>
<p>å¤åˆ¶ä¸‹è½½</p>
<pre><code class="hljs language-css" lang="css">school-system/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â”œâ”€â”€ com/
â”‚   â”‚   â””â”€â”€ school/
â”‚   â”‚       â”œâ”€â”€ model/
â”‚   â”‚       â”‚   â”œâ”€â”€ Person<span class="hljs-selector-class">.java</span>
â”‚   â”‚       â”‚   â”œâ”€â”€ Student<span class="hljs-selector-class">.java</span>
â”‚   â”‚       â”‚   â”œâ”€â”€ Teacher<span class="hljs-selector-class">.java</span>
â”‚   â”‚       â”‚   â””â”€â”€ Course<span class="hljs-selector-class">.java</span>
â”‚   â”‚       â”œâ”€â”€ service/
â”‚   â”‚       â”‚   â”œâ”€â”€ StudentService<span class="hljs-selector-class">.java</span>
â”‚   â”‚       â”‚   â””â”€â”€ CourseService<span class="hljs-selector-class">.java</span>
â”‚   â”‚       â”œâ”€â”€ util/
â”‚   â”‚       â”‚   â””â”€â”€ DateUtil<span class="hljs-selector-class">.java</span>
â”‚   â”‚       â””â”€â”€ <span class="hljs-selector-tag">Main</span><span class="hljs-selector-class">.java</span>
â”‚   â””â”€â”€ config<span class="hljs-selector-class">.properties</span>
</code></pre>
<h3 data-id="heading-22">ä»£ç å®ç°ï¼š</h3>
<p><strong>Person.javaï¼ˆåŸºç±»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.school.model;

<span class="hljs-comment">// äººå‘˜åŸºç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">protected</span> String id;      <span class="hljs-comment">// å—ä¿æŠ¤ï¼Œå­ç±»å¯ä»¥è®¿é—®</span>
    <span class="hljs-keyword">protected</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;          <span class="hljs-comment">// ç§æœ‰ï¼Œåªæœ‰æœ¬ç±»å¯ä»¥è®¿é—®</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String id, String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.id = id;
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }
    
    <span class="hljs-comment">// å…¬å…±getterå’Œsetter</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-keyword">if</span> (age &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-built_in">this</span>.age = age;
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">displayInfo</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ID: "</span> + id + <span class="hljs-string">", å§“å: "</span> + name + <span class="hljs-string">", å¹´é¾„: "</span> + age);
    }
}
</code></pre>
<p><strong>Student.javaï¼ˆå­¦ç”Ÿç±»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.school.model;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">private</span> String classId;  <span class="hljs-comment">// ç­çº§ID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> score;    <span class="hljs-comment">// æˆç»©</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String id, String name, <span class="hljs-type">int</span> age, String classId)</span> {
        <span class="hljs-built_in">super</span>(id, name, age);  <span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•</span>
        <span class="hljs-built_in">this</span>.classId = classId;
        <span class="hljs-built_in">this</span>.score = <span class="hljs-number">0.0</span>;
    }
    
    <span class="hljs-comment">// å¯ä»¥è®¿é—®çˆ¶ç±»çš„protectedå­—æ®µ</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStudentInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"å­¦ç”Ÿ["</span> + name + <span class="hljs-string">"](ID:"</span> + id + <span class="hljs-string">")"</span>;
    }
    
    <span class="hljs-comment">// getterå’Œsetter</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getClassId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> classId;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setClassId</span><span class="hljs-params">(String classId)</span> {
        <span class="hljs-built_in">this</span>.classId = classId;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getScore</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> score;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setScore</span><span class="hljs-params">(<span class="hljs-type">double</span> score)</span> {
        <span class="hljs-keyword">if</span> (score &gt;= <span class="hljs-number">0</span> &amp;&amp; score &lt;= <span class="hljs-number">100</span>) {
            <span class="hljs-built_in">this</span>.score = score;
        }
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">displayInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.displayInfo();
        System.out.println(<span class="hljs-string">"ç­çº§: "</span> + classId + <span class="hljs-string">", æˆç»©: "</span> + score);
    }
}
</code></pre>
<p><strong>Teacher.javaï¼ˆæ•™å¸ˆç±»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.school.model;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">private</span> String subject;   <span class="hljs-comment">// æ•™æˆç§‘ç›®</span>
    <span class="hljs-keyword">private</span> String title;     <span class="hljs-comment">// èŒç§°</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Teacher</span><span class="hljs-params">(String id, String name, <span class="hljs-type">int</span> age, String subject, String title)</span> {
        <span class="hljs-built_in">super</span>(id, name, age);
        <span class="hljs-built_in">this</span>.subject = subject;
        <span class="hljs-built_in">this</span>.title = title;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">teach</span><span class="hljs-params">()</span> {
        System.out.println(title + name + <span class="hljs-string">"æ­£åœ¨æ•™æˆ"</span> + subject);
    }
    
    <span class="hljs-comment">// getterå’Œsetter</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSubject</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> subject;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSubject</span><span class="hljs-params">(String subject)</span> {
        <span class="hljs-built_in">this</span>.subject = subject;
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTitle</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> title;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTitle</span><span class="hljs-params">(String title)</span> {
        <span class="hljs-built_in">this</span>.title = title;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">displayInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.displayInfo();
        System.out.println(<span class="hljs-string">"ç§‘ç›®: "</span> + subject + <span class="hljs-string">", èŒç§°: "</span> + title);
    }
}
</code></pre>
<p><strong>StudentService.javaï¼ˆæœåŠ¡ç±»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.school.service;

<span class="hljs-keyword">import</span> com.school.model.Student;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentService</span> {
    <span class="hljs-keyword">private</span> List&lt;Student&gt; students = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-comment">// æ·»åŠ å­¦ç”Ÿ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addStudent</span><span class="hljs-params">(Student student)</span> {
        students.add(student);
        System.out.println(<span class="hljs-string">"æ·»åŠ å­¦ç”Ÿ: "</span> + student.getName());
    }
    
    <span class="hljs-comment">// æŸ¥æ‰¾å­¦ç”Ÿ</span>
    <span class="hljs-keyword">public</span> Student <span class="hljs-title function_">findStudentById</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-keyword">for</span> (Student student : students) {
            <span class="hljs-keyword">if</span> (student.getId().equals(id)) {
                <span class="hljs-keyword">return</span> student;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-comment">// æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">displayAllStudents</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"=== æ‰€æœ‰å­¦ç”Ÿ ==="</span>);
        <span class="hljs-keyword">for</span> (Student student : students) {
            student.displayInfo();
        }
    }
    
    <span class="hljs-comment">// ç»Ÿè®¡å¹³å‡åˆ†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">calculateAverageScore</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (students.isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span>;
        }
        
        <span class="hljs-type">double</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.0</span>;
        <span class="hljs-keyword">for</span> (Student student : students) {
            total += student.getScore();
        }
        
        <span class="hljs-keyword">return</span> total / students.size();
    }
}
</code></pre>
<p><strong>DateUtil.javaï¼ˆå·¥å…·ç±»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.school.util;

<span class="hljs-keyword">import</span> java.text.SimpleDateFormat;
<span class="hljs-keyword">import</span> java.util.Date;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DateUtil</span> {
    <span class="hljs-comment">// ç§æœ‰æ„é€ æ–¹æ³•ï¼Œé˜²æ­¢è¢«å®ä¾‹åŒ–</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title function_">DateUtil</span><span class="hljs-params">()</span> {}
    
    <span class="hljs-comment">// è·å–å½“å‰æ—¥æœŸå­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getCurrentDate</span><span class="hljs-params">()</span> {
        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">sdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">"yyyy-MM-dd"</span>);
        <span class="hljs-keyword">return</span> sdf.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());
    }
    
    <span class="hljs-comment">// è·å–å½“å‰æ—¶é—´å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getCurrentTime</span><span class="hljs-params">()</span> {
        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">sdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">"HH:mm:ss"</span>);
        <span class="hljs-keyword">return</span> sdf.format(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());
    }
    
    <span class="hljs-comment">// æ ¼å¼åŒ–æ—¥æœŸ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">formatDate</span><span class="hljs-params">(Date date, String pattern)</span> {
        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">sdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(pattern);
        <span class="hljs-keyword">return</span> sdf.format(date);
    }
}
</code></pre>
<p><strong>Main.javaï¼ˆä¸»ç±»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.school;

<span class="hljs-keyword">import</span> com.school.model.Student;
<span class="hljs-keyword">import</span> com.school.model.Teacher;
<span class="hljs-keyword">import</span> com.school.service.StudentService;
<span class="hljs-keyword">import</span> com.school.util.DateUtil;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"=== å­¦æ ¡ç®¡ç†ç³»ç»Ÿ ==="</span>);
        System.out.println(<span class="hljs-string">"å½“å‰æ—¥æœŸ: "</span> + DateUtil.getCurrentDate());
        System.out.println(<span class="hljs-string">"å½“å‰æ—¶é—´: "</span> + DateUtil.getCurrentTime());
        
        <span class="hljs-comment">// åˆ›å»ºå­¦ç”Ÿ</span>
        <span class="hljs-type">Student</span> <span class="hljs-variable">student1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"S001"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">18</span>, <span class="hljs-string">"ä¸€ç­"</span>);
        <span class="hljs-type">Student</span> <span class="hljs-variable">student2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"S002"</span>, <span class="hljs-string">"æå››"</span>, <span class="hljs-number">19</span>, <span class="hljs-string">"äºŒç­"</span>);
        
        <span class="hljs-comment">// è®¾ç½®æˆç»©</span>
        student1.setScore(<span class="hljs-number">85.5</span>);
        student2.setScore(<span class="hljs-number">92.0</span>);
        
        <span class="hljs-comment">// åˆ›å»ºæ•™å¸ˆ</span>
        <span class="hljs-type">Teacher</span> <span class="hljs-variable">teacher</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Teacher</span>(<span class="hljs-string">"T001"</span>, <span class="hljs-string">"ç‹è€å¸ˆ"</span>, <span class="hljs-number">35</span>, <span class="hljs-string">"æ•°å­¦"</span>, <span class="hljs-string">"é«˜çº§æ•™å¸ˆ"</span>);
        
        <span class="hljs-comment">// æ˜¾ç¤ºä¿¡æ¯</span>
        System.out.println(<span class="hljs-string">"\n=== äººå‘˜ä¿¡æ¯ ==="</span>);
        student1.displayInfo();
        student2.displayInfo();
        teacher.displayInfo();
        
        <span class="hljs-comment">// æ•™å¸ˆæˆè¯¾</span>
        System.out.println(<span class="hljs-string">"\n=== æ•™å­¦å®‰æ’ ==="</span>);
        teacher.teach();
        
        <span class="hljs-comment">// ä½¿ç”¨æœåŠ¡ç±»</span>
        System.out.println(<span class="hljs-string">"\n=== å­¦ç”Ÿç®¡ç† ==="</span>);
        <span class="hljs-type">StudentService</span> <span class="hljs-variable">studentService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StudentService</span>();
        studentService.addStudent(student1);
        studentService.addStudent(student2);
        studentService.displayAllStudents();
        
        <span class="hljs-comment">// æŸ¥æ‰¾å­¦ç”Ÿ</span>
        System.out.println(<span class="hljs-string">"\n=== æŸ¥æ‰¾å­¦ç”Ÿ ==="</span>);
        <span class="hljs-type">Student</span> <span class="hljs-variable">found</span> <span class="hljs-operator">=</span> studentService.findStudentById(<span class="hljs-string">"S001"</span>);
        <span class="hljs-keyword">if</span> (found != <span class="hljs-literal">null</span>) {
            System.out.println(<span class="hljs-string">"æ‰¾åˆ°å­¦ç”Ÿ: "</span> + found.getName());
        }
        
        <span class="hljs-comment">// ç»Ÿè®¡å¹³å‡åˆ†</span>
        <span class="hljs-type">double</span> <span class="hljs-variable">average</span> <span class="hljs-operator">=</span> studentService.calculateAverageScore();
        System.out.println(<span class="hljs-string">"\nå¹³å‡åˆ†: "</span> + average);
    }
}
</code></pre>
<h3 data-id="heading-23">Â å¿«é€Ÿè®°å¿†å£è¯€</h3>
<ol>
<li><strong>åŒ…å¦‚æ–‡ä»¶å¤¹</strong>Â â†’ ç»„ç»‡ç®¡ç†ä»£ç æ–‡ä»¶</li>
<li><strong>é€†åŸŸåå‘½å</strong>Â â†’Â <code>com.example.project</code></li>
<li><strong>å¯¼å…¥éœ€å£°æ˜</strong>Â â†’ ä¸åŒåŒ…ç”¨<code>import</code></li>
<li><strong>è®¿é—®æœ‰æƒé™</strong>Â â†’Â <code>public</code>ã€<code>protected</code>ã€é»˜è®¤ã€<code>private</code></li>
</ol>
<h3 data-id="heading-24">æœ€é‡è¦çš„ä¸‰ç‚¹</h3>
<ol>
<li><strong>åŒ…æ˜¯ä»£ç çš„ç»„ç»‡å•ä½</strong>Â â†’ åƒæ–‡ä»¶å¤¹æ•´ç†æ–‡ä»¶ä¸€æ ·æ•´ç†ç±»</li>
<li><strong>åŒ…åå¿…é¡»ä¸ç›®å½•ç»“æ„åŒ¹é…</strong>Â â†’ è¿™æ˜¯Javaçš„ç¡¬æ€§è§„å®š</li>
<li><strong>åˆç†ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦</strong>Â â†’ ä¿æŠ¤ä»£ç ï¼Œæ§åˆ¶å¯è§æ€§</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Golang GMP å®ç°åŸç†]]></title>    <link>https://juejin.cn/post/7580288235031085056</link>    <guid>https://juejin.cn/post/7580288235031085056</guid>    <pubDate>2025-12-06T20:33:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580288235031085056" data-draft-id="7579494852652892194" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Golang GMP å®ç°åŸç†"/> <meta itemprop="keywords" content="Go"/> <meta itemprop="datePublished" content="2025-12-06T20:33:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»Ÿé‡Œç "/> <meta itemprop="url" content="https://juejin.cn/user/3347330248221928"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Golang GMP å®ç°åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3347330248221928/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»Ÿé‡Œç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T20:33:58.000Z" title="Sat Dec 06 2025 20:33:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ–‡ç« å¯¼è¯»</h2>
<p>æœ¬æ–‡æ˜¯å¯¹goè¯­è¨€çš„gmpæ¨¡å‹çš„ä¸€ä¸ªæŠ€æœ¯åˆ†äº«ã€‚</p>
<p>æœ¬æ–‡ä¸€å…±åˆ†æˆå››ä¸ªéƒ¨åˆ†å¯¹gmpè¿›è¡Œå­¦ä¹ ï¼š</p>
<ol>
<li>å‰ç½®çŸ¥è¯†ï¼šæ“ä½œç³»ç»Ÿçš„ä¸€äº›æ¦‚å¿µï¼Œåç¨‹ã€çº¿ç¨‹ç­‰çŸ¥è¯†ã€‚</li>
<li>golangçš„gmpæ¨¡å‹ï¼šè¿™æ˜¯goè¯­è¨€çš„æ ¸å¿ƒæ‹¼å›¾ï¼Œç†è§£è¿™å—åº•å±‚çŸ¥è¯†ï¼Œåé¢çš„å­¦ä¹ æ‰ä¼šå¾—å¿ƒåº”æ‰‹ï¼Œè¿™éƒ¨åˆ†æ˜¯ååŸç†æ€§çš„ä»‹ç»ã€‚</li>
<li>æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šè¿™éƒ¨åˆ†ï¼ŒåŸºäºæºç ï¼Œå¯¹goè¯­è¨€çš„æ ‡å‡†åº“runtimeè¿™ä¸ªåŒ…ä¸­gmpæ¶‰åŠåˆ°çš„æ ¸å¿ƒçš„æ•°æ®ç»“æ„çš„ä¸€äº›å®šä¹‰è¿›è¡Œè®¤è¯†ã€‚</li>
<li>åŠ¨æ€çš„è°ƒåº¦æµç¨‹ï¼šå¯¹æ•´ä¸ªgmpçš„è°ƒåº¦çš„é“¾è·¯ï¼Œæºç è¿›è¡Œèµ°è¯»ã€‚</li>
</ol>
<h2 data-id="heading-1">ä¸€. å‰ç½®çŸ¥è¯†</h2>
<h3 data-id="heading-2">1.1 çº¿ç¨‹</h3>
<p>é¦–å…ˆæ˜¯çº¿ç¨‹ï¼Œæ€»æ‰€å‘¨çŸ¥ï¼Œçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçš„æœ€å°è°ƒåº¦å•å…ƒã€‚</p>
<p>é€šä¹‰ä¸­çš„çº¿ç¨‹ï¼ŒæŒ‡çš„æ˜¯å†…æ ¸çº¿ç¨‹ï¼Œå…¶æ ¸å¿ƒç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ“ä½œç³»ç»Ÿæœ¬èº«æœ‰ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åŒºåˆ†ï¼Œçº¿ç¨‹ä½œä¸ºæœ€å°çš„è°ƒåº¦å•å…ƒï¼Œæ˜¯åœ¨å†…æ ¸æ€çš„è§†è§’ä¹‹ä¸‹çš„ï¼›</li>
<li><strong>åˆ›å»ºã€é”€æ¯ã€è°ƒåº¦å‡ç”±å†…æ ¸å®Œæˆï¼Œcpuéœ€è¦å®Œæˆç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¹‹é—´çš„åˆ‡æ¢</strong>ï¼›</li>
<li>å¯å……åˆ†åˆ©ç”¨å¤šæ ¸å®ç°å¹¶è¡Œï¼›</li>
</ol>
<h3 data-id="heading-3">1.2 åç¨‹</h3>
<p>å‰æ–‡å·²ç»å¼ºè°ƒï¼Œçº¿ç¨‹æ˜¯å†…æ ¸æ€è§†è§’ä¸‹çš„æ˜‚è´µèµ„æºï¼Œé‚£ä¹ˆåç¨‹å’Œçº¿ç¨‹å°±ç›¸å¯¹ï¼Œæ˜¯ç”¨æˆ·æ€è§†è§’ä¸‹çš„ä¸€ä¸ªäº§ç‰©ã€‚</p>
<p>è¿™ä¸¤è€…å¹¶éå¹³çº§ï¼Œåç¨‹æ¯”çº¿ç¨‹ä½ä¸€çº§ï¼Œæ˜¯çº¿ç¨‹çš„å­é›†ï¼Œæ˜¯åœ¨å…ˆæœ‰çº¿ç¨‹çš„åŸºç¡€ä¹‹ä¸Šï¼Œåœ¨ç”¨æˆ·æ€çš„è§†è§’ä¹‹ä¸‹ï¼Œè¿›è¡ŒäºŒæ¬¡åŠ å·¥ï¼ŒäºŒæ¬¡å¼€å‘çš„è¡ç”Ÿäº§ç‰©ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„æ¦‚å¿µï¼Œæœ€ç»ˆåº•å±‚ç‰©ç†æ„ä¹‰ä¸Šï¼Œæœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿˜æ˜¯ä¸€ä¸ªæœ€å°çš„è°ƒåº¦å•å…ƒã€‚</p>
<p>åç¨‹æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ol>
<li>ä¸çº¿ç¨‹å­˜åœ¨æ˜ å°„å…³ç³»ï¼Œä¸ºM:1ï¼Œå¯ä»¥ç†è§£ä¸ºä¾é™„ä¸æŸä¸€ä¸ªçº¿ç¨‹è€Œç”Ÿçš„ï¼Œå¯ä»¥ç†è§£ä¸ºç”¨æˆ·æ€åŸºäºæŸäº›æ“ä½œï¼Œä¾é™„ä¸æŸä¸€ä¸ªå§‹ç»ˆå­˜æ´»å¯è¿è¡Œçš„çº¿ç¨‹ä¹‹ä¸Šçš„ä¸€ä¸ªå­å•å…ƒï¼›</li>
<li>åˆ›å»ºã€é”€æ¯ã€è°ƒåº¦éƒ½æ˜¯åœ¨ç”¨æˆ·æ€å®Œæˆï¼Œæ›´åƒä¸€ç§é€»è¾‘å¤„ç†ï¼Œæ‰€ä»¥æ›´è½»ï¼›</li>
<li>ä»å±äºæŸä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ï¼Œæ— æ³•å¹¶è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªåç¨‹é˜»å¡ï¼Œä»å±äºåŒä¸€ä¸ªçº¿ç¨‹çš„æ‰€æœ‰åç¨‹å°†æ— æ³•è¿è¡Œï¼›</li>
</ol>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ä»å±äºåŒä¸€ä¸ªçº¿ç¨‹</strong>çš„åç¨‹ç»„ï¼Œåœ¨ç”¨æˆ·æ€è§†è§’ä¸‹ï¼Œå®é™…ä¸Šæ˜¯åªèƒ½åšåˆ°å¹¶å‘ã€‚<em><strong>ï¼ˆç¼ºé™·ï¼‰</strong></em></p>
<h3 data-id="heading-4">1.3 goroutine</h3>
<p>å‰æ–‡æåˆ°çš„åç¨‹ä¸»æµå«æ³•å«ï¼šCoroutine</p>
<p>è€Œgoroutineå…¶å®æ˜¯ç»è¿‡goè¯­è¨€ä¼˜åŒ–åçš„ç‰¹æ®Šâ€œCoroutineâ€ï¼Œæ˜¯ç‰¹æŒ‡goä¸–ç•Œä¸­ï¼Œä¼˜åŒ–æ”¹è‰¯åçš„ä¸€ç§åç¨‹ã€‚</p>
<p>å°†goroutineå’Œçº¿ç¨‹ä¹‹é—´çš„å¼ºä¾é™„æ€§ï¼Œå¼ºå…³è”æ€§è§£ç»‘äº†ã€‚</p>
<p>åŠ äº†ä¸€ä¸ªgoè°ƒåº¦å™¨ï¼Œåœ¨ä¸­é—´åŠ¨æ€çš„ç»´æŠ¤goroutineå’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc4e6e6ba75e46c9ba304853267d7188~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luf6YeM56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765660365&amp;x-signature=wo6b22GiH%2FOKRTMMV9CuSXm1d%2Bk%3D" alt="image.png" loading="lazy"/></p>
<p>æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ol>
<li>å°†æ˜ å°„å…³ç³»å˜æˆM:Nï¼Œå¯åˆ©ç”¨å¤šä¸ªçº¿ç¨‹ï¼›</li>
<li>åˆ›å»ºã€é”€æ¯ã€è°ƒåº¦ä¹Ÿæ˜¯åœ¨ç”¨æˆ·æ€å®Œæˆï¼Œæè½»ï¼Œåˆå§‹åŒ–æ‰2kbï¼Œæ— éœ€å†…æ ¸æ€çš„ä»‹å…¥ï¼›</li>
<li>èƒ½å¤ŸçœŸæ­£çš„åšåˆ°å¹¶è¡Œï¼›</li>
<li>é€šè¿‡goè°ƒåº¦å™¨çš„æ–¡æ—‹ï¼Œå®ç°å’Œçº¿ç¨‹ä¹‹é—´çš„åŠ¨æ€ç»‘å®šï¼Œä»è€Œæ›´åŠ çµæ´»çš„è°ƒåº¦ï¼›</li>
<li>goroutineæ ˆç©ºé—´å¤§å°å¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œå› åœ°åˆ¶å®œï¼ˆ<strong>åŒºåˆ«äºçº¿ç¨‹æ ˆ</strong>ï¼‰ï¼›</li>
</ol>
<p>ç»¼ä¸Šï¼Œå¯ä»¥çœ‹å‡ºï¼Œgoè¯­è¨€åœ¨è°ƒåº¦åç¨‹ä¸Šåšäº†ä¼˜åŒ–ï¼Œå®ç°äº†â€œçµæ´»è°ƒåº¦â€ï¼Œä½†æ˜¯ï¼Œè¿™å…¶ä¸­ï¼Œé’ˆå¯¹â€œå¦‚ä½•å‡å°‘åŠ é”çš„è¡Œä¸ºâ€ï¼Œâ€œå¦‚ä½•é¿å…èµ„æºåˆ†é…ä¸å‡â€ç­‰é—®é¢˜åˆ°åº•æ˜¯æ€ä¹ˆè§£å†³çš„å‘¢ï¼Ÿ</p>
<h2 data-id="heading-5">äºŒ. golangçš„gmpæ¨¡å‹</h2>
<p>gmp=goroutine+machine+processor</p>
<p>ä¸‹é¢å•ç‹¬è¯´ä¸€ä¸‹å„ä¸ªç»„ä»¶</p>
<h3 data-id="heading-6">2.1 g</h3>
<p>gå³æ˜¯goroutineï¼Œåœ¨goè¯­è¨€ä¸­ï¼Œæ˜¯å¯¹åç¨‹çš„ä¸€ç§æŠ½è±¡ã€‚</p>
<p>æ¯ä¸€ä¸ªgéƒ½æœ‰è‡ªå·±çš„æ ˆã€çŠ¶æ€å’Œæ‰§è¡Œçš„å‡½æ•°ï¼ˆé€šè¿‡go funcæŒ‡å®šï¼Œåœ¨å †ä¸Šåˆ›å»ºï¼‰</p>
<p><strong>ç”±æ“ä½œç³»ç»Ÿçº¿ç¨‹(M)æ‰§è¡Œï¼Œé€šè¿‡(P)è·å–è¿è¡Œèµ„æºã€‚gåªçŸ¥é“è‡ªå·±åœ¨å“ªä¸ªMä¸Šè¿è¡Œï¼Œä¸çŸ¥é“ä¹Ÿä¸å…³å¿ƒæ˜¯å“ªä¸ªPåœ¨æä¾›èµ„æºã€‚</strong></p>
<h3 data-id="heading-7">2.2 m</h3>
<p>må°±æ˜¯machineï¼Œæ˜¯goè¯­è¨€å¯¹çº¿ç¨‹ä¸€ä¸ªæŠ½è±¡</p>
<p><strong>Mç›´æ¥æ‰§è¡Œå¹¶è®°å½•å½“å‰Gçš„ä¿¡æ¯ï¼ŒPä¸ºMæä¾›è¿è¡Œèµ„æºã€‚Gåœ¨ç”Ÿå‘½å‘¨æœŸå†…å¯ä»¥è¢«ä¸åŒMæ‰§è¡Œï¼Œä½†åŒä¸€æ—¶åˆ»åªèƒ½åœ¨ä¸€ä¸ªMä¸Šè¿è¡Œã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e8cae9e0c8d42b99c0abfc188c773df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luf6YeM56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765660365&amp;x-signature=Aj7qjU5UkDQUrWo5ntm%2BCZW%2FwRM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">2.3 p</h3>
<p>på³æ˜¯processorï¼Œæ˜¯goè¯­è¨€ä¸­ï¼ŒæŠ½è±¡ä¸ºå¯¹åç¨‹çš„ä¸€ä¸ªè°ƒåº¦å™¨ï¼Œgåªæœ‰è¿›å…¥pé˜Ÿåˆ—ï¼Œæ‰èƒ½å¾—ä»¥æ‰§è¡Œ</p>
<p><strong>Pä¸ºMæä¾›Gé˜Ÿåˆ—å’Œè¿è¡Œèµ„æºã€‚Pçš„æ•°é‡é™åˆ¶åŒæ—¶æ‰§è¡Œçš„Gæ•°é‡</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6e50ac08a184f20b396ec0f72c7737c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luf6YeM56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765660365&amp;x-signature=SkAiex%2BPSMFni449knp7J6SZ0Y4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-9">ä¸‰. æ ¸å¿ƒæ•°æ®ç»“æ„</h2>
<h3 data-id="heading-10">3.1 g</h3>
<p>æºç ä½ç½®ï¼š$(go env GOROOT)/src/runtime/runtime2.go</p>
<h4 data-id="heading-11">3.1.1 gçš„ç»“æ„å®šä¹‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> g <span class="hljs-keyword">struct</span> {
    m         *m      <span class="hljs-comment">// å½“å‰äº¤ä¸çš„mçš„æŒ‡é’ˆï¼ˆæ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼‰ï¼Œå¯å˜ï¼Œä¹Ÿå¯ç©º</span>
    sched     gobuf   <span class="hljs-comment">// ä¸“é—¨ç”¨äºåˆ‡æ¢ Goroutine æ—¶ä¿å­˜å’Œæ¢å¤æ‰§è¡Œä¸Šä¸‹æ–‡</span>
    atomicstatus atomic.Uint32  <span class="hljs-comment">// G status å­˜å‚¨ç”Ÿå‘½çŠ¶æ€</span>
    ...
}

<span class="hljs-comment">// Goroutine Bufferï¼ˆGoè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ç¼“å†²åŒºï¼‰</span>
<span class="hljs-keyword">type</span> gobuf <span class="hljs-keyword">struct</span> {
    sp   <span class="hljs-type">uintptr</span>   <span class="hljs-comment">// ä¿å­˜cpuçš„rspå¯„å­˜å™¨çš„å€¼ï¼ŒæŒ‡å‘å‡½æ•°è°ƒç”¨æ ˆçš„æ ˆé¡¶</span>
    pc   <span class="hljs-type">uintptr</span>   <span class="hljs-comment">// ä¿å­˜cpuçš„ripå¯„å­˜å™¨çš„å€¼ï¼ŒæŒ‡å‘ç¨‹åºä¸‹ä¸€æ¡æ‰§è¡ŒæŒ‡ä»¤çš„åœ°å€</span>
    g    guintptr  <span class="hljs-comment">// å½“å‰ Goroutine çš„æŒ‡é’ˆï¼ˆæŒ‡å‘è‡ªå·±ï¼‰</span>
    ret  <span class="hljs-type">uintptr</span>   <span class="hljs-comment">// ä¿å­˜ç³»ç»Ÿè°ƒç”¨çš„è¿”å›å€¼</span>
    bp   <span class="hljs-type">uintptr</span>   <span class="hljs-comment">// ä¿å­˜cpuçš„rbpå¯„å­˜å™¨çš„å€¼ï¼Œå­˜å‚¨å‡½æ•°æ ˆå¸§çš„èµ·å§‹ä½ç½®</span>
    ...
}
</code></pre>
<p>è¿™é‡Œçš„måº”è¯¥æ€ä¹ˆæ¥ç†è§£ï¼Ÿ</p>
<p>è¿™é‡Œçš„mä¸æ˜¯å…·ä½“ç»‘å®šåˆ°æŸä¸€ä¸ªmï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ˜¯åŠ¨æ€å¯å˜çš„ï¼Œæ˜¯<strong>è°ƒåº¦å™¨åˆ†é…çš„</strong></p>
<p>å¾ˆæ˜æ˜¾ï¼Œg.schedæ˜¯ä¸“ä¾›è°ƒåº¦å™¨ä½¿ç”¨çš„ï¼Œè°ƒåº¦å™¨éœ€è¦è¿™ä¸ªå­—æ®µæ¥æ‰§è¡ŒÂ <code>g</code>Â çš„åˆ‡æ¢</p>
<p>å› ä¸ºGoroutineéœ€è¦è¢«<strong>æš‚åœå’Œæ¢å¤</strong>ï¼ˆæ¯”å¦‚ç­‰å¾…I/Oæ—¶è®©å‡ºCPUï¼‰ã€‚è°ƒåº¦å™¨æš‚åœä¸€ä¸ªgæ—¶ï¼Œå°±æŠŠCPUçš„spã€pcç­‰å¯„å­˜å™¨å€¼ä¿å­˜åˆ°<code>g.sched</code>é‡Œï¼Œæ¢å¤æ—¶å†ä»<code>g.sched</code>è¯»å‡ºæ¥æ”¾å›CPUå¯„å­˜å™¨ï¼Œgå°±èƒ½æ¥ç€æ‰§è¡Œäº†</p>
<h4 data-id="heading-12">3.1.2 gçš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// g status</span>
<span class="hljs-keyword">const</span> (
        _Gidle = <span class="hljs-literal">iota</span> <span class="hljs-comment">// 0    // åˆšåˆ›å»ºï¼Œè¿˜æ²¡åˆå§‹åŒ–</span>
        _Grunnable <span class="hljs-comment">// 1       // å°±ç»ªæ€ï¼Œéšæ—¶å¯ä»¥è¢«è°ƒåº¦</span>
        _Grunning <span class="hljs-comment">// 2        // è¿è¡Œæ€ï¼Œæ­£åœ¨ CPU ä¸Šæ‰§è¡Œ</span>
        _Gsyscall <span class="hljs-comment">// 3        // ç³»ç»Ÿè°ƒç”¨æ€ï¼Œæ­£åœ¨æ‰§è¡Œç³»ç»Ÿè°ƒç”¨</span>
        _Gwaiting <span class="hljs-comment">// 4        // ç­‰å¾…æ€ï¼Œè¢«é˜»å¡</span>
        _Gdead <span class="hljs-comment">// 6           // æ­»äº¡æ€ï¼Œå·²é€€å‡ºï¼Œè¿˜æ²¡è¢«æ¸…ç†</span>
        _Gcopystack <span class="hljs-comment">// 8      // æ ˆå¤åˆ¶æ€ï¼Œæ­£åœ¨æ‰©å®¹/æ”¶ç¼©æ ˆ</span>
        _Gpreempted <span class="hljs-comment">// 9      // è¢«æŠ¢å æ€ï¼Œè¢«å¼ºåˆ¶è®©å‡ºm</span>
        ...
        <span class="hljs-comment">// è¿™é‡Œæœ‰ä¸ªæœ‰æ„æ€çš„ç‚¹ï¼šä¸ºä»€ä¹ˆå˜é‡çš„å‘½åè¦ä½¿ç”¨ä¸‹åˆ’çº¿å’Œå¤§å†™å­—æ¯</span>
        <span class="hljs-comment">// æ˜æ˜å¦‚æœä¸æƒ³è¢«å¤–éƒ¨åŒ…è®¿é—®ï¼Œç›´æ¥å†™æˆgidle = iotaä¸å°±å¯ä»¥äº†å—ï¼Ÿ</span>
        <span class="hljs-comment">// ä¸»è¦æ˜¯å› ä¸ºï¼š</span>
        <span class="hljs-comment">// å¯è¯»æ€§: _å¼€å¤´=è¿è¡Œæ—¶ç§æœ‰ï¼Œå¤§å†™=å…³è”Gç»“æ„ä½“ï¼ŒåŒ…å¤–ä¸å¯è®¿é—®</span>
        <span class="hljs-comment">// å†å²ä¹ æƒ¯ï¼šæ—©æœŸC/Unixé£æ ¼ï¼Œç³»ç»Ÿçº§ä»£ç ç”¨Â `_`Â å‰ç¼€è¡¨ç¤ºå†…éƒ¨/ç³»ç»Ÿ</span>
        <span class="hljs-comment">// åˆ†ç»„å½’ç±»ï¼šè¿è¡Œæ—¶æœ‰å¾ˆå¤šç§æœ‰å¸¸é‡ï¼Œéœ€è¦åˆ†ç±»ï¼Œä¾‹å¦‚ï¼Œ_Gidleè¡¨ç¤ºGçŠ¶æ€ï¼Œ_Pidleå°±å¯ä»¥è¡¨ç¤ºPçŠ¶æ€äº†ï¼Œå¾ˆæ¸…æ™°</span>
)
</code></pre>
<p>g.atomicstatusç”¨Â <code>atomic.Uint32</code>Â å°±æ˜¯ä¸ºäº†ä¿è¯ï¼šåŸå­æ€§ã€å¯è§æ€§å’Œä¸ç”¨é”ã€‚</p>
<p>ä¾‹å¦‚ï¼šg æ­£ä»Â <code>_Grunning</code>Â åˆ‡æ¢åˆ°Â <code>_Gwaiting</code>ï¼ŒåŒæ—¶åƒåœ¾å›æ”¶å™¨åœ¨æ£€æŸ¥æ‰€æœ‰ G çš„çŠ¶æ€ï¼Œç”¨åŸå­æ“ä½œèƒ½ç¡®ä¿ä¸ä¼šçœ‹åˆ°ä¸­é—´çš„ä¸ä¸€è‡´çŠ¶æ€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5e88a1a5b2248ec8765d20f7babf2df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luf6YeM56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765660365&amp;x-signature=Xl2kyVl03h2ybPawGK4bUW7i2Gc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">3.2 m</h3>
<h4 data-id="heading-14">3.2.1 mçš„ç»“æ„å®šä¹‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> m <span class="hljs-keyword">struct</span> {
    g0     *g                <span class="hljs-comment">// goroutine with scheduling stack</span>
    curg   *g                <span class="hljs-comment">// current running goroutine</span>
    tls  [tlsSlots]<span class="hljs-type">uintptr</span> <span class="hljs-comment">// thread-local storage</span>
    
    p      puintptr <span class="hljs-comment">// attached p for executing go code (nil if not executing go code)</span>
    nextp  puintptr
    oldp   puintptr
    ...
}
</code></pre>
<p>è¿™é‡Œçš„g0è¦æ€ä¹ˆç†è§£ï¼Œæ€ä¹ˆçœ‹èµ·æ¥è¿˜æ˜¯mç›´æ¥ç®¡ç†gï¼Ÿ</p>
<p>g0å…¶å®æ˜¯ä¸€ç±»ç‰¹æ®Šçš„åç¨‹ï¼Œç§°ä¸ºå§‹ç¥–åç¨‹ï¼Œæ˜¯<strong>è°ƒåº¦å™¨çš„å·¥ä½œåç¨‹</strong>ï¼Œç”¨æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„åŸç”Ÿæ ˆï¼Œä¸“é—¨å¤„ç†åç¨‹åˆ‡æ¢ï¼Œ<strong>ä¸mçš„å…³ç³»æ˜¯1ï¼š1</strong>ï¼Œè¿™é‡Œçš„g0è™½ç„¶ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯å´æ˜¯ç»‘å®šçš„å…³ç³»</p>
<ul>
<li>pï¼šè¯¥mä¸ºäº†æ‰§è¡Œgoä»£ç æ‰€ä¾é™„çš„pï¼Œæ²¡æœ‰æ‰§è¡Œæ—¶ï¼Œå°±ä¸ºnil</li>
<li>nextpï¼šä¸´æ—¶å­˜æ”¾çš„Pï¼ˆå‡†å¤‡ç»‘å®šï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªå¯ä»¥ä¾é™„çš„p</li>
<li>oldpï¼šgé€€å‡º_Grunningå‰ä¿å­˜çš„Pï¼Œä¹Ÿå°±æ˜¯på’Œè§£ç»‘æ—¶ä¿å­˜ï¼Œç›´åˆ°æ¢å¤æ—¶ï¼Œp = oldpï¼ˆæ¢å¤ç»‘å®šï¼Œå¦‚æœè¯¥pæ²¡æœ‰æ–°çš„mçš„è¯ï¼‰</li>
</ul>








































<table><thead><tr><th>ç‰¹ç‚¹</th><th>g</th><th>g0</th></tr></thead><tbody><tr><td>è°åˆ›å»º</td><td><code>go func()</code>Â åˆ›å»º</td><td>è¿è¡Œæ—¶åˆ›å»ºï¼ˆçº¿ç¨‹å¯åŠ¨æ—¶ï¼‰</td></tr><tr><td>ç”¨é€”</td><td>æ‰§è¡Œç”¨æˆ·ä»£ç </td><td>æ‰§è¡Œè°ƒåº¦ã€åƒåœ¾å›æ”¶ç­‰ç³»ç»Ÿä»»åŠ¡</td></tr><tr><td>æ•°é‡</td><td>æˆåƒä¸Šä¸‡</td><td>1:1 å¯¹åº”æ¯ä¸ªm</td></tr><tr><td>æ ˆåœ¨å“ª</td><td>å †ä¸Šåˆ†é…çš„æ™®é€šæ ˆ</td><td>æ“ä½œç³»ç»Ÿçº¿ç¨‹æ ˆ</td></tr><tr><td>èƒ½å¦è¢«æŠ¢å </td><td>èƒ½</td><td>ä¸èƒ½ï¼ˆå¿…é¡»ä¸€æ¬¡æ€§æ‰§è¡Œå®Œï¼‰</td></tr><tr><td>ç‰¹æƒ</td><td>ç”¨æˆ·æ€</td><td>å’Œæ™®é€šgä¸€æ ·åœ¨<strong>ç”¨æˆ·æ€</strong>è¿è¡Œ</td></tr></tbody></table>
<h3 data-id="heading-15">3.3 p</h3>
<h4 data-id="heading-16">3.3.1 pçš„ç»“æ„å®šä¹‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> p <span class="hljs-keyword">struct</span> {
    runqhead <span class="hljs-type">uint32</span>         <span class="hljs-comment">// é˜Ÿåˆ—å¤´åœ°å€</span>
    runqtail <span class="hljs-type">uint32</span>         <span class="hljs-comment">// é˜Ÿåˆ—å°¾åœ°å€</span>
    runq     [<span class="hljs-number">256</span>]guintptr  <span class="hljs-comment">// æœ¬åœ°goroutineé˜Ÿåˆ—ï¼Œå›ºå®šæœ€å¤§é•¿åº¦256</span>
    runnext  guintptr       <span class="hljs-comment">// ä¸‹ä¸€ä¸ªå¯æ‰§è¡Œçš„goroutineåœ°å€</span>
    
    status   <span class="hljs-type">uint32</span>         <span class="hljs-comment">// pçš„ç”Ÿå‘½çŠ¶æ€</span>
    m        muintptr       <span class="hljs-comment">// è¯¥pè·å–åˆ°çš„m</span>
    ...
}
</code></pre>
<p>p.runqå°±æ˜¯pæœ¬èº«ç§æœ‰çš„ä¸€ä¸ªgé˜Ÿåˆ—ï¼Œä½†æ˜¯è¿™ä¸ªé˜Ÿåˆ—æ˜¯æœ‰ä¸€ä¸ªæœ€å¤§çš„å®¹é‡çš„</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> schedt <span class="hljs-keyword">struct</span> {
    lock     mutex
    <span class="hljs-comment">// Global runnable queue.</span>
    runq     gQueue
    runqsize <span class="hljs-type">int32</span>
    ...
}
</code></pre>
<p>schedtæ˜¯å¯¹å…¨å±€goroutineé˜Ÿåˆ—çš„å°è£…</p>
<p>lockæ˜¯ä¸€æŠŠ<strong>æ“ä½œå…¨å±€é˜Ÿåˆ—æ—¶ä½¿ç”¨çš„é”</strong>ï¼Œrunqã€runqsizeå³ä¸ºé˜Ÿåˆ—å’Œé˜Ÿåˆ—çš„å®¹é‡</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">const</span> (
    _Pidle     = <span class="hljs-literal">iota</span>  <span class="hljs-comment">// ç©ºé—²ï¼Œç­‰å¾…Mç»‘å®š</span>
    _Prunning          <span class="hljs-comment">// å·²è¢«Mç»‘å®šï¼Œæ­£åœ¨è¿è¡Œ</span>
    _Psyscall          <span class="hljs-comment">// ç»‘å®šMåœ¨ç³»ç»Ÿè°ƒç”¨ï¼Œå¯è¢«å…¶ä»–Må·</span>
    _Pgcstop           <span class="hljs-comment">// æš‚åœï¼ˆGCæ—¶ï¼‰</span>
    _Pdead             <span class="hljs-comment">// é”€æ¯</span>
)
</code></pre>
<p><strong>P çš„çŠ¶æ€å†³å®šè°å¯ä»¥ç»‘å®š</strong></p>
<h3 data-id="heading-17">3.4 ä¸‰è€…çš„å…³ç³»</h3>
<p>ä»ä»¥ä¸Šçš„ç»“æ„å®šä¹‰å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>mä¸­ä¼¼ä¹æœ‰æœ€å…¨çš„ä¿¡æ¯ï¼Œä¸¤ç§gï¼ˆ<em>g0å’Œ</em>curgï¼‰ï¼Œæœ‰pï¼Œnextpï¼Œoldpçš„åœ°å€ï¼›</li>
<li>pä¸­æœ‰gçš„é˜Ÿåˆ—ï¼Œä¹Ÿæœ‰*mï¼›</li>
<li>è€Œgä¸­åªæœ‰*mï¼Œå’Œè‡ªå·±çš„ç›¸å…³ä¿¡æ¯ï¼ˆschedã€statusï¼‰ä¹‹å¤–ï¼Œæ²¡æœ‰pï¼›</li>
</ul>
<p>è¿™ç§è®¾è®¡ï¼Œæ—¢ä½“ç°äº†gå’Œmä¹‹é—´ï¼Œåç¨‹å’Œçº¿ç¨‹ä¹‹é—´æœ¬è´¨çš„å…³ç³»ï¼ˆåç¨‹ä¾æ‰˜äºçº¿ç¨‹æ‰èƒ½æ‰§è¡Œï¼‰ï¼Œåˆè¯æ˜pæ˜¯goè¯­è¨€ä¸­çš„ä¸€ä¸ªä¼˜åŒ–å­˜åœ¨ï¼ŒPäº‹å®ä¸Šæ˜¯ä¸€ä¸ªæŠ½è±¡ç†è§£çš„Â <strong>â€œèµ„æºç®¡ç†è€…â€</strong>ï¼Œæ˜¯gçš„â€œç®¡ç†è€…â€ï¼Œä¹Ÿä½œä¸ºmè·å–gçš„â€œå·¥ä½œå°â€</p>
<pre><code class="hljs language-css" lang="css">å¯åŠ¨é¡ºåºï¼š
<span class="hljs-number">1</span>. è¿›ç¨‹å¯åŠ¨ â†’ åˆ›å»º M0ï¼ˆé™æ€åˆ†é…ï¼Œåç»­åŠ¨æ€åˆ›å»ºï¼‰
<span class="hljs-number">2</span>. runtimeåˆå§‹åŒ– â†’ åˆ›å»º <span class="hljs-selector-tag">P</span>ï¼ˆGOMAXPROCSä¸ªï¼‰
<span class="hljs-number">3</span>. åˆ›å»ºä¸»goroutineï¼ˆ<span class="hljs-selector-tag">main</span>æ–¹æ³•ï¼‰
<span class="hljs-number">4</span>. M0çš„g0å¼€å§‹è°ƒåº¦ï¼Œ<span class="hljs-selector-tag">P</span>ç»‘å®šåˆ°M

æ—¶é—´çº¿ï¼š
M0å­˜åœ¨ â†’ <span class="hljs-selector-tag">P</span>åˆ›å»º â†’ M0ç»‘å®š<span class="hljs-selector-tag">P</span> â†’ å¼€å§‹è°ƒåº¦
</code></pre>
<p>ä»gçš„ç»“æ„ä½“å®šä¹‰å¯ä»¥çœ‹åˆ°ï¼Œgä¸­æ²¡æœ‰på•Šï¼Œé‚£gè¢«åˆ›å»ºå‡ºæ¥åï¼Œæ­¤æ—¶æ²¡æœ‰*mï¼Œç¬¬ä¸€æ¬¡æ˜¯æ€ä¹ˆå…¥é˜Ÿåˆ—çš„ï¼Œå…¥çš„ä»€ä¹ˆé˜Ÿåˆ—ï¼Ÿ</p>
<p>æ–°åˆ›å»ºçš„gæ—¢æ²¡æœ‰mä¹Ÿæ²¡æœ‰pï¼Œå®ƒè¢«æ”¾å…¥åˆ›å»ºå®ƒçš„gçš„pçš„æœ¬åœ°é˜Ÿåˆ—çš„é˜Ÿå°¾</p>
<p>é‚£mainè¿™ä¸ªä¸»goroutineæ˜¯è°åˆ›å»ºçš„ï¼Œæ˜¯ä¸æ˜¯g0ï¼Ÿå› ä¸ºg0æ˜¯ä½¿ç”¨çš„çº¿ç¨‹æ ˆï¼Œé‚£ä¹ˆæ˜¯åˆ›å»ºåœ¨å †ä¸Šï¼Œè¿˜æ˜¯åœ¨çº¿ç¨‹æ ˆä¸Šï¼Ÿ</p>
<p>æ˜¯Â <code>runtime</code>Â è‡ªå·±åˆ›å»ºçš„ï¼Œä¸æ˜¯ g0 ç›´æ¥åˆ›å»ºçš„</p>
<p>è°ƒç”¨é“¾ï¼š<code>runtime.main</code>Â â†’Â <code>newproc()</code>Â â†’ åˆ›å»ºä¸»goroutine â†’ æ”¾å…¥é˜Ÿåˆ—ï¼Œå †ä¸Šï¼æ‰€æœ‰ç”¨æˆ·goroutineçš„æ ˆéƒ½åœ¨å †ä¸Šåˆ†é…ï¼ŒåŒ…æ‹¬mainçš„ä¸»goroutine</p>
<p>ç›´åˆ°mainæ–¹æ³•ç»“æŸï¼Œ<code>exit(0)</code>Â æ˜¯ç²—æš´çš„è¿›ç¨‹ç»ˆæ­¢ï¼Œæ“ä½œç³»ç»Ÿå›æ”¶æ‰€æœ‰èµ„æºã€‚</p>
<h3 data-id="heading-18">3.5 sysmon</h3>
<p><code>sysmon</code>Â ä¸æ˜¯Â <code>m</code>Â ç»“æ„ä½“çš„å­—æ®µï¼Œè€Œæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ä¸“ç”¨Mä¸Šçš„goroutineå‡½æ•°ã€‚è¿™ä¸ªMä¸ç»‘å®šPï¼Œä¸“é—¨æ‰§è¡Œç³»ç»Ÿç›‘æ§ä»»åŠ¡ã€‚è¿è¡Œæ—¶ä¸éœ€è¦åœ¨Â <code>m</code>Â ä¸­æ ‡è®°Â <code>sysmon</code>ï¼Œå› ä¸ºå®ƒæ˜¯é€šè¿‡å¯åŠ¨<strong>ä¸“ç”¨m</strong>æ¥è¿è¡Œçš„ç‹¬ç«‹ç›‘æ§å®ä½“ã€‚ä¸“ç”¨mï¼Œä¹Ÿä¸å‚ä¸pçš„ç»‘å®š</p>
<ol>
<li>ä¸å‚ä¸æ™®é€šè°ƒåº¦</li>
<li>å¯ä»¥çœ‹è§æ‰€æœ‰Pçš„çŠ¶æ€</li>
<li>ä¸ä¼šè¢«ç³»ç»Ÿè°ƒç”¨é˜»å¡å½±å“</li>
</ol>
<h2 data-id="heading-19">å››. åŠ¨æ€çš„è°ƒåº¦æµç¨‹</h2>
<p>æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œè¿½æº¯gmpæ¨¡å‹çš„è°ƒç”¨é“¾è·¯</p>
<h3 data-id="heading-20">4.1 ä¸¤ç§gçš„è½¬æ¢</h3>
<p>å‰é¢3.2ä¸­ï¼Œå¯¹mçš„ç»“æ„å®šä¹‰å­¦ä¹ æ—¶ï¼Œmä¸­ä¸æ­¢æœ‰g0çš„æŒ‡é’ˆï¼Œä¹Ÿæœ‰curgçš„æŒ‡é’ˆï¼Œå¾ˆæ˜æ˜¾curgæŒ‡å‘çš„å°±æ˜¯å½“å‰æ­£åœ¨è¢«må¤„ç†çš„g</p>
<p>ä¸€ä¸ªå®Œæ•´çš„goroutineçš„è°ƒç”¨é“¾è·¯ï¼Œå…¶å®å°±æ˜¯ä¼šæœ‰ä¸€ä¸ªä»g0åˆ°gï¼Œgå†å›å½’g0çš„è¿™æ ·çš„ä¸€ä¸ªé—­ç¯ï¼Œè€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€ç»„å¯¹å¶çš„å‡½æ•°ï¼Œåˆ†åˆ«æ˜¯<code>func gogo()</code>å’Œ<code>func mcall()</code></p>
<p>æ¥å£è¢«å®šä¹‰åœ¨runtimeåŒ…çš„stubs.goä¸­</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/653fc3b853904e519c89147955cc1b3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luf6YeM56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765660365&amp;x-signature=S2kih3ogbfKHoF%2FTWZEnSJBQLyQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-21">4.2 å‡ ç§è°ƒåº¦ç±»å‹</h3>
<p>æºç åœ¨proc.goæ–‡ä»¶ä¸­ï¼Œä»¥ä¸‹æ–¹æ³•ä¹Ÿéƒ½æ˜¯ç”¨æˆ·gæ¥è°ƒç”¨</p>
<h4 data-id="heading-22">4.2.1 ä¸»åŠ¨è°ƒåº¦</h4>
<p>è¿™é‡Œçš„ä¸»åŠ¨ï¼Œæ˜¯æŒ‡ç”¨æˆ·çš„ä¸»åŠ¨ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·åœ¨ä»£ç ä¸­ä½¿ç”¨runtimeåŒ…å¯¹å¤–æš´éœ²çš„Goschedæ–¹æ³•ï¼Œä½¿å½“å‰çš„gå‡ºè®©æ‰§è¡Œæƒï¼Œä¸»åŠ¨è¿›å…¥<strong>å…¨å±€é˜Ÿåˆ—</strong>ç­‰å¾…ä¸‹æ¬¡è¢«è°ƒåº¦ï¼Œè°ƒç”¨å®ƒçš„ g å˜ä¸ºÂ <code>_Grunnable</code>Â çŠ¶æ€</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// Gosched yields the processor, allowing other goroutines to run. It does not</span>
<span class="hljs-comment">// suspend the current goroutine, so execution resumes automatically.</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">//go:nosplit</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Gosched</span><span class="hljs-params">()</span></span> {
    checkTimeouts()     <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰è¶…æ—¶çš„timer</span>
    mcall(gosched_m)
}
</code></pre>
<p>æ„æ€å°±æ˜¯ï¼ŒGoschedä¼šè®©å‡ºå¤„ç†å™¨ï¼Œå…è®¸å…¶ä»–åç¨‹è¿è¡Œã€‚å®ƒä¸ä¼šæŒ‚èµ·å½“å‰çš„åç¨‹ï¼Œå› æ­¤æ‰§è¡Œä¼šè‡ªåŠ¨æ¢å¤ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯è¿™é‡Œçš„checkTimeouts()ï¼Œè¿™æ˜¯go14å¼•å…¥çš„å®‰å…¨æœºåˆ¶ï¼Œå› ä¸ºÂ mcallÂ åˆ‡æ¢åˆ°Â gÂ åï¼ŒgÂ æ‰§è¡Œè°ƒåº¦é€»è¾‘ä¹Ÿéœ€è¦æ—¶é—´ï¼å¦‚æœä¸€ç›´Â mcallï¼Œg0Â ä¼šä¸€ç›´å ç”¨CPUï¼Œæ²¡æœºä¼šè°ƒåº¦timer goroutineã€‚</p>
<h4 data-id="heading-23">4.2.2 è¢«åŠ¨è°ƒåº¦</h4>
<p>è¿™ä¸ªå°±ä¸æ˜¯ç”¨æˆ·ä¸»åŠ¨çš„è®©gå‡ºè®©æ‰§è¡Œæƒäº†ï¼Œè€Œæ˜¯ g æœ¬èº«é‡åˆ°äº†æ²¡æœ‰å¿…è¦ç»§ç»­å ç”¨ m çš„æƒ…å†µ</p>
<h5 data-id="heading-24">1) _Gsyscall</h5>
<p><code>entersyscall()</code>ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè®©å½“å‰è¿è¡Œçš„gè¿›å…¥_Gsyscallï¼š</p>
<ol>
<li>mä¼šä¿å­˜gå½“å‰çš„ä¿¡æ¯ï¼ˆg.schedï¼‰</li>
<li>mä¼šå¸¦ç€gè¿›å…¥å†…æ ¸æ€å»æ‰§è¡Œ</li>
<li>å¹¶è®°å½•æ­¤æ—¶çš„påˆ°m.oldp</li>
<li>æ­¤æ—¶på°±ä¼šå’Œmè§£ç»‘ï¼Œå»å¯»æ‰¾å…¶ä»–çš„mï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</li>
<li>gå°±ä¼šç•™åœ¨_Gsyscallï¼Œç›´åˆ°å†…æ ¸æ€ç»“æŸï¼Œè°ƒç”¨exitsyscall()</li>
</ol>
<p><code>exitsyscall()</code>, è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœåŸæ¥çš„ P è¿˜ç©ºé—²ï¼ˆæ²¡æœ‰ç»‘å®šæ–°çš„mï¼‰ï¼Œå°±å¯ä»¥ç›´æ¥æ¢å¤è¿è¡Œæ€ï¼Œå¦åˆ™å°±æ˜¯è¿›å…¥å°±ç»ªæ€ç­‰å¾…æ–°çš„è°ƒåº¦</p>
<h5 data-id="heading-25">2) _Gwaiting</h5>
<p><code>gopark()</code>ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨gé‡åˆ°é˜»å¡æ—¶å°±ä¼šè°ƒç”¨ï¼Œç›®çš„æ˜¯ä¸ºäº†è®©gè¿›å…¥_Gwaitingï¼Œä¾‹å¦‚channerã€selectå’ŒåŒæ­¥é”ç­‰æƒ…å†µï¼Œå’Œå‰è€…ä¸åŒçš„æ˜¯ï¼Œ<strong>mç«‹å³æ‰§è¡Œå…¶ä»–g</strong>ï¼Œä¸Pä¿æŒç»‘å®šï¼Œæ­¤æ—¶çš„gè¿›å…¥çš„æ˜¯ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ï¼Œç›´åˆ°æœ‰â€œå”¤é†’è€…â€æ‰§è¡Œ<code>goready(*g)</code>ï¼Œè¢«å”¤é†’çš„gä¼šä¼˜å…ˆæ”¾å…¥<strong>å”¤é†’è€…çš„pçš„æœ¬åœ°é˜Ÿåˆ—</strong>ï¼Œè¿™æ ·æ‰å¯èƒ½æ›´å¿«è¢«mæ‰§è¡Œ</p>
<p>è¿™æ˜¯<strong>ä¸ºäº†åˆ©ç”¨CPUç¼“å­˜å±€éƒ¨æ€§ï¼Œå½“å‰CPUæ ¸å¿ƒçš„ç¼“å­˜å¾ˆå¯èƒ½å·²ç»æœ‰è¿™ä¸ªPçš„æ•°æ®ï¼Œå¦‚æœæ”¾åˆ°å…¶ä»–Pçš„é˜Ÿåˆ—ï¼Œéœ€è¦åŒæ­¥ç¼“å­˜ï¼Œå¼€é”€å¤§ï¼Œå‡å°‘è°ƒåº¦å»¶è¿Ÿï¼Œæé«˜æ€§èƒ½ã€‚</strong></p>
<p>å¦‚æœæ­£å¥½é‡åˆ°å”¤é†’è€…æœ¬åœ°é˜Ÿåˆ—æ»¡çš„æƒ…å†µï¼Œåˆ™ä¼šè°ƒç”¨<code>runqputslow()</code>ï¼š</p>
<ol>
<li>ç§»åŠ¨128ä¸ªGåˆ°å…¨å±€é˜Ÿåˆ—</li>
<li>æŠŠæ–°Gï¼ˆè¢«å”¤é†’è€…ï¼‰æ”¾å…¥æœ¬åœ°é˜Ÿåˆ—ç©ºä½</li>
<li>æœ¬åœ°é˜Ÿåˆ—ç°åœ¨æœ‰ 256-128+1 = 129ä¸ªG</li>
</ol>
<p>è¿™æ˜¯ä¸ºäº†é¿å…é¢‘ç¹æ“ä½œå…¨å±€é˜Ÿåˆ—ï¼Œå¦‚æœæ¯æ¬¡æ»¡éƒ½åªæ”¾ä¸€ä¸ªGåˆ°å…¨å±€ï¼Œé¢‘ç¹åŠ é” â†’ æ€§èƒ½å·®</p>
<p>æ€»ä¹‹è¢«å”¤é†’çš„gåªèƒ½æ˜¯å›åˆ°<code>_Grunable</code>ã€‚</p>
<p>è€Œå€¼å¾—æ³¨æ„å¾—æ˜¯ï¼Œæ‰§è¡Œgoreadyçš„gè‡ªå·±å¹¶ä¸ä¼šè¿›å…¥_Gwaitingï¼Œå› ä¸ºè¿™æ ·è®¾è®¡å¯ä»¥é¿å…<code>æ­»é”</code>ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-go" lang="go">ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)  <span class="hljs-comment">// æ— ç¼“å†²</span>

<span class="hljs-comment">// G1: æ¥æ”¶è€…ï¼ˆå…ˆå¯åŠ¨ï¼‰</span>
<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    val := &lt;-ch  <span class="hljs-comment">// é˜»å¡ï¼gopark()åˆ°_Gwaitingï¼Œå¹¶å°†G1è‡ªå·±çš„ä¿¡æ¯å¸¦ç»™ch.recvqï¼Œå› ä¸ºæœŸå¾…chæ¥æ”¶æ•°æ®æ—¶å”¤é†’è‡ªå·±</span>
    fmt.Println(<span class="hljs-string">"æ”¶åˆ°:"</span>, val)
}()

<span class="hljs-comment">// G2: å”¤é†’è€…ï¼ˆåå¯åŠ¨ï¼‰</span>
<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    time.Sleep(time.Second)
    ch &lt;- <span class="hljs-number">42</span>     <span class="hljs-comment">// 1. å‘ç°ch.recvqæœ‰ç­‰å¾…çš„G1</span>
                 <span class="hljs-comment">// 2. è°ƒç”¨ goready(G1) å”¤é†’G1</span>
                 <span class="hljs-comment">// 3. å”¤é†’è€…ç»§ç»­æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç ï¼</span>
    fmt.Println(<span class="hljs-string">"å‘é€å®Œæˆ"</span>)  <span class="hljs-comment">// â† ç«‹å³æ‰§è¡Œï¼Œä¸ä¼šé˜»å¡ï¼</span>
}()
</code></pre>
<p>å¦‚æœÂ <code>goready(G1)</code>Â ä¼šé˜»å¡ï¼Œé‚£ä¹ˆÂ <code>fmt.Println("å‘é€å®Œæˆ")</code>Â å°±æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œå½¢æˆ<strong>æ­»é”</strong>ï¼</p>
<h5 data-id="heading-26">3) æŠ¢å è°ƒåº¦</h5>
<p>æŠ¢å è°ƒåº¦ = å¼ºåˆ¶æ‰“æ–­æ­£åœ¨è¿è¡Œçš„Goroutineï¼Œä¸è®©å®ƒéœ¸å CPUå¤ªä¹…ã€‚</p>
<p><strong>Go 1.14+ï¼šåŸºäºå¼‚æ­¥ä¿¡å·çš„æŠ¢å ï¼Œä»»ä½•åœ°æ–¹éƒ½å¯èƒ½è¢«ä¸­æ–­ï¼æ‰æ˜¯çœŸæ­£çš„æŠ¢å </strong></p>
<p>æŠ¢å å¦‚ä½•å·¥ä½œï¼Ÿ</p>
<ol>
<li>æ ‡è®°é˜¶æ®µï¼ˆsysmonè´Ÿè´£ï¼‰</li>
</ol>

<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">retake</span><span class="hljs-params">(now <span class="hljs-type">int64</span>)</span></span> {
    <span class="hljs-keyword">for</span> æ¯ä¸ªP {
        <span class="hljs-keyword">if</span> pp.status == _Prunning {
            <span class="hljs-comment">// Gè¿è¡Œè¶…è¿‡10msï¼Ÿ</span>
            <span class="hljs-keyword">if</span> now-pp.schedtick &gt; <span class="hljs-number">10</span>*<span class="hljs-number">1000</span>*<span class="hljs-number">1000</span> {
                preemptone(pp)  <span class="hljs-comment">// æ ‡è®°è¿™ä¸ªPä¸Šçš„Gåº”è¯¥è¢«æŠ¢å </span>
            }
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">preemptone</span><span class="hljs-params">(pp *p)</span></span> <span class="hljs-type">bool</span> {
    gp := pp.curg
    <span class="hljs-keyword">if</span> gp == <span class="hljs-literal">nil</span> || gp == pp.g0 {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
    gp.preempt = <span class="hljs-literal">true</span>  <span class="hljs-comment">// â† è®¾ç½®æŠ¢å æ ‡å¿—</span>
    
    <span class="hljs-comment">// å‘Šè¯‰Gï¼š"ä½ è¯¥è®©å‡ºäº†ï¼"</span>
    gp.stackguard0 = stackPreempt
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre>
<p>2.  æ‰§è¡Œé˜¶æ®µï¼ˆGè‡ªå·±æ£€æŸ¥æˆ–ä¿¡å·ä¸­æ–­ï¼‰</p>
<p>å¼‚æ­¥ä¿¡å·ï¼ˆGo 1.14+ï¼‰</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ“ä½œç³»ç»Ÿä¿¡å·ï¼ˆå¦‚SIGURGï¼‰ä¸­æ–­G</span>
<span class="hljs-comment">// åœ¨ä¿¡å·å¤„ç†ç¨‹åºä¸­åˆ‡æ¢åˆ°è°ƒåº¦å™¨</span>
func <span class="hljs-built_in">sighandler</span>(sig int32) {
    if sig == sigPreempt {
        <span class="hljs-comment">// è¢«æŠ¢å ï¼</span>
        <span class="hljs-built_in">doasyncPreempt</span>()  <span class="hljs-comment">// åˆ‡æ¢åˆ°è°ƒåº¦å»æ‰¾ä¸‹ä¸€ä¸ªg</span>
    }
}
</code></pre>
<p>æŠ¢å å®Œæ•´é“¾è·¯</p>
<pre><code class="hljs language-makefile" lang="makefile">æ—¶é—´çº¿ï¼ˆè¯¦ç»†ç‰ˆï¼‰ï¼š
<span class="hljs-section">t0: G1åœ¨CPUä¸Šæ‰§è¡Œ</span>
    â†“
<span class="hljs-section">t1: sysmonè°ƒç”¨ signalM(M1, SIGURG)</span>
    â†“
<span class="hljs-section">t2: å†…æ ¸å‘CPUå‘é€ä¸­æ–­ä¿¡å·</span>
    â†“
<span class="hljs-section">t3: CPUä¸­æ–­å½“å‰æŒ‡ä»¤ï¼Œä¿å­˜å¯„å­˜å™¨</span>
    â†“
<span class="hljs-section">t4: è·³è½¬åˆ°å†…æ ¸ä¿¡å·å¤„ç†ä»£ç ï¼ˆCï¼‰</span>
    â†“
<span class="hljs-section">t5: å†…æ ¸è°ƒç”¨Goæ³¨å†Œçš„sigtrampï¼ˆæ±‡ç¼–ï¼‰</span>
    â†“
<span class="hljs-section">t6: sigtrampä¿å­˜å®Œæ•´ä¸Šä¸‹æ–‡ï¼Œè°ƒç”¨sighandlerï¼ˆGoï¼‰</span>
    â†“  
<span class="hljs-section">t7: sighandlerè¯†åˆ«æ˜¯æŠ¢å ä¿¡å·ï¼Œè°ƒç”¨doasyncPreempt</span>
    â†“
<span class="hljs-section">t8: doasyncPreemptè°ƒç”¨mcall()åˆ‡æ¢åˆ°g0</span>
    â†“
<span class="hljs-section">t9: g0æ‰§è¡Œè°ƒåº¦ï¼Œé€‰G2</span>
</code></pre>
<p>æŠ¢å çš„å±€é™ï¼šå³ä½¿æœ‰æŠ¢å ï¼ŒGoä»ä¸æ˜¯<strong>å®Œå…¨å®æ—¶</strong>çš„</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// è¿™äº›æƒ…å†µå¯èƒ½å»¶è¿ŸæŠ¢å ï¼š</span>
<span class="hljs-number">1.</span> Gåœ¨æ‰§è¡Œä¸å¯æŠ¢å çš„ç³»ç»Ÿè°ƒç”¨
<span class="hljs-number">2.</span> Gåœ¨ä¿®æ”¹è¿è¡Œæ—¶å…³é”®æ•°æ®ç»“æ„ï¼ˆæŒé”ï¼‰
<span class="hljs-number">3.</span> ä¿¡å·è¢«é˜»å¡æˆ–å»¶è¿Ÿä¼ é€’

<span class="hljs-comment">// æ‰€ä»¥Goæ–‡æ¡£è¯´ï¼š</span>
<span class="hljs-comment">// "Goroutinesæ²¡æœ‰è¶…æ—¶æ¦‚å¿µ"</span>
<span class="hljs-comment">// ä¸èƒ½ä¾èµ–æŠ¢å åšè¶…æ—¶æ§åˆ¶</span>
</code></pre>
<p><strong>æ­£ç¡®çš„è¶…æ—¶æ§åˆ¶æ–¹å¼ï¼š</strong></p>
<p>é”™è¯¯æ§åˆ¶</p>
<pre><code class="hljs language-scss" lang="scss">go <span class="hljs-built_in">func</span>() {
    <span class="hljs-built_in">doWork</span>()  <span class="hljs-comment">// å¯èƒ½è¿è¡Œå¾ˆä¹…</span>
    <span class="hljs-comment">// æœŸæœ›1ç§’è¶…æ—¶ï¼Ÿä¸ä¿è¯ï¼</span>
}()
</code></pre>
<p>æ­£ç¡®æ§åˆ¶</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ–¹æ³•1ï¼šcontext.WithTimeout</span>
ctx, cancel := context.WithTimeout(context.Background(), <span class="hljs-number">1</span>*time.Second)
<span class="hljs-keyword">defer</span> cancel()

<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">select</span> {          <span class="hljs-comment">// goroutineå¯åŠ¨ï¼Œç›‘å¬ä¸¤ä¸ªchannel</span>
    <span class="hljs-keyword">case</span> &lt;-ctx.Done():       <span class="hljs-comment">// 1ç§’åctx.Done()å¯è¯»</span>
        <span class="hljs-keyword">return</span>  
    <span class="hljs-keyword">case</span> result := &lt;-doWorkAsync(): <span class="hljs-comment">// å¦‚æœdoWorkAsync()å…ˆè¿”å›ç»“æœ</span>
        <span class="hljs-comment">// æ­£å¸¸å®Œæˆ</span>
    }
}()

<span class="hljs-comment">// æ–¹æ³•2ï¼šå¸¦è¶…æ—¶çš„channelæ“ä½œ</span>
<span class="hljs-keyword">select</span> {
<span class="hljs-keyword">case</span> result := &lt;-ch:
    <span class="hljs-comment">// æ­£å¸¸</span>
<span class="hljs-keyword">case</span> &lt;-time.After(<span class="hljs-number">1</span> * time.Second):
    <span class="hljs-comment">// è¶…æ—¶</span>
}

<span class="hljs-comment">// æ–¹æ³•3ï¼šå®šæœŸæ£€æŸ¥é€€å‡ºæ ‡å¿—</span>
stop := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">bool</span>)
<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">for</span> {
        <span class="hljs-keyword">select</span> {
        <span class="hljs-keyword">case</span> &lt;-stop:
            <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">default</span>:
            doChunkOfWork()   <span class="hljs-comment">// doChunkOfWork()Â æ‰§è¡Œåç«‹å³å†æ¬¡æ£€æŸ¥stop</span>
        }
    }
}()
time.Sleep(<span class="hljs-number">1</span> * time.Second)
<span class="hljs-built_in">close</span>(stop)  <span class="hljs-comment">// è¯·æ±‚åœæ­¢</span>
<span class="hljs-comment">// å…³é—­channelçš„æ•ˆæœï¼š</span>
<span class="hljs-comment">// 1. æ‰€æœ‰ä»è¿™ä¸ªchannelæ¥æ”¶çš„æ“ä½œç«‹å³è¿”å›é›¶å€¼</span>
<span class="hljs-comment">// 2. ä¸å†é˜»å¡</span>
<span class="hljs-comment">// 3. å¯ä»¥é€šçŸ¥å¤šä¸ªæ¥æ”¶è€…</span>
</code></pre>
<h2 data-id="heading-27">äº”. work-stealing</h2>
<p>Work-Stealingæ˜¯Goè°ƒåº¦å™¨çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼šç©ºé—²çš„Pä»å¿™ç¢Œçš„Pçš„æœ¬åœ°é˜Ÿåˆ—å·ä¸€åŠGoroutineè¿‡æ¥æ‰§è¡Œï¼Œå®ç°è‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼Œå‡å°‘ç©ºé—²ï¼Œæé«˜CPUåˆ©ç”¨ç‡ã€‚</p>
<h3 data-id="heading-28">5.1 å·¥ä½œåŸç†ï¼š</h3>
<h4 data-id="heading-29">1) ä»€ä¹ˆæ—¶å€™å‘ç”Ÿï¼Ÿ</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">findRunnable</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// å½“Pè‡ªå·±çš„é˜Ÿåˆ—ä¸ºç©ºæ—¶...</span>
    <span class="hljs-keyword">if</span> è‡ªå·±é˜Ÿåˆ—ç©º &amp;&amp; å…¨å±€é˜Ÿåˆ—ç©º {
        <span class="hljs-comment">// å°è¯•ä»å…¶ä»–På·å·¥ä½œ</span>
        gp := runqsteal(pp)
        <span class="hljs-keyword">if</span> gp != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> gp  <span class="hljs-comment">// å·åˆ°å·¥ä½œäº†ï¼</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-30">2) æ€ä¹ˆå·ï¼Ÿ</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">runqsteal</span><span class="hljs-params">(pp *p)</span></span> *g {
    <span class="hljs-comment">// 1. éšæœºé€‰ä¸€ä¸ªå…¶ä»–P</span>
    victim := éšæœºé€‰æ‹©ä¸€ä¸ªP
    
    <span class="hljs-comment">// 2. å·å®ƒæœ¬åœ°é˜Ÿåˆ—**ä¸€åŠ**çš„G</span>
    <span class="hljs-comment">//    æ¯”å¦‚ï¼švictimæœ‰10ä¸ªGï¼Œå·5ä¸ªè¿‡æ¥</span>
    half := victimé˜Ÿåˆ—é•¿åº¦ / <span class="hljs-number">2</span>
    
    <span class="hljs-comment">// 3. æŠŠå·æ¥çš„Gæ”¾åˆ°è‡ªå·±é˜Ÿåˆ—</span>
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; half; i++ {
        g := victim.pop()  <span class="hljs-comment">// ä»victimé˜Ÿåˆ—å–</span>
        pp.push(g)         <span class="hljs-comment">// æ”¾åˆ°è‡ªå·±é˜Ÿåˆ—</span>
    }
}
</code></pre>
<h3 data-id="heading-31">5.2 ä¸ºä»€ä¹ˆéœ€è¦Work-Stealingï¼Ÿ</h3>
<pre><code class="hljs language-makefile" lang="makefile">// P3ã€P4ä»P1ã€P2å·å·¥ä½œ
<span class="hljs-section">P1: 10 â†’ 5ä¸ªG  (è¢«å·èµ°5ä¸ª)</span>
<span class="hljs-section">P2: 10 â†’ 5ä¸ªG  (è¢«å·èµ°5ä¸ª)  </span>
<span class="hljs-section">P3: 0 â†’ 5ä¸ªG  (å·äº†P1çš„5ä¸ª)</span>
<span class="hljs-section">P4: 0 â†’ 5ä¸ªG  (å·äº†P2çš„5ä¸ª)</span>
// ç°åœ¨4ä¸ªPéƒ½æœ‰5ä¸ªGï¼Œè´Ÿè½½å‡è¡¡ï¼
</code></pre>
<h3 data-id="heading-32">5.3 Work-Stealingçš„ä¼˜åŠ¿ï¼š</h3>
<h4 data-id="heading-33">1) å‡å°‘é”ç«äº‰</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ¯ä¸ªPæ“ä½œè‡ªå·±çš„é˜Ÿåˆ—ï¼ˆæ— é”ï¼‰</span>
<span class="hljs-comment">// åªæœ‰å·çªƒæ—¶æ‰éœ€è¦é”å…¶ä»–Pçš„é˜Ÿåˆ—</span>
<span class="hljs-comment">// å¤§éƒ¨åˆ†æ—¶é—´æ— ç«äº‰</span>
</code></pre>
<h4 data-id="heading-34">2) åˆ©ç”¨å±€éƒ¨æ€§</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// Gé€šå¸¸åœ¨è‡ªå·±çš„Pä¸Šæ‰§è¡Œ</span>
<span class="hljs-comment">// åªæœ‰Pç©ºé—²æ—¶æ‰å»å·</span>
<span class="hljs-comment">// ä¿æŒCPUç¼“å­˜çƒ­åº¦</span>
</code></pre>
<h4 data-id="heading-35">3) è‡ªé€‚åº”çš„è´Ÿè½½å‡è¡¡</h4>
<pre><code class="hljs language-less" lang="less">/ å¿™çš„<span class="hljs-selector-tag">P</span>ä¸ä¼šè¢«è¿‡åº¦å¹²æ‰°
<span class="hljs-comment">// é—²çš„Pè‡ªåŠ¨æ‰¾æ´»å¹²</span>
<span class="hljs-comment">// æ— éœ€ä¸­å¤®è°ƒåº¦å™¨</span>
</code></pre>
<h2 data-id="heading-36">å…­. påˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿ</h2>
<p>På…¶å®ä¸è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼Œå®ƒåªæ˜¯ä¸ªè¢«æ“ä½œçš„"èµ„æºåŒ…"ã€‚<strong>Pä»€ä¹ˆä¹Ÿä¸å¹²ï¼Œåªæ˜¯è¢«g/g0è¯»å†™çš„æ•°æ®ç»“æ„ã€‚</strong></p>
<p>På°±åƒ"å·¥ä½œå°"ï¼š<strong>å·¥ä½œå°ä¸ä¼šè‡ªå·±å¹²æ´»</strong>ï¼Œå·¥äººï¼ˆgï¼‰ç”¨å·¥å…·ï¼ˆmï¼‰åœ¨å·¥ä½œå°ä¸Šå¹²æ´»</p>
<p>è™½ç„¶Pä¸è°ƒç”¨æ–¹æ³•ï¼Œä½†å®ƒæ˜¯<strong>å…³é”®çš„èµ„æºç®¡ç†è€…</strong>ï¼š<strong>Pæä¾›æœ¬åœ°é˜Ÿåˆ—ã€ç¼“å­˜ç­‰èµ„æºï¼Œä½†æ‰€æœ‰æ“ä½œéƒ½æ˜¯G/g0åœ¨å¯¹Pè¿›è¡Œè¯»å†™ã€‚è¿™æ˜¯Goè°ƒåº¦å™¨"Gä¸­å¿ƒ"è®¾è®¡å“²å­¦çš„ä½“ç°ã€‚</strong></p>
<p>æ—¢ç„¶ï¼Œpè¿™ä¸ªç»“æ„ä½“ï¼Œåªæ˜¯ä¸€ä¸ªè¢«gå’Œg0æ“ä½œçš„æ•°æ®ç»“æ„ï¼Œé‚£ä¸ºå•¥ï¼Œéƒ½è¯´processoræ˜¯gmpä¸­æ ¸å¿ƒçš„è°ƒåº¦å™¨ï¼Œæ˜æ˜å®ƒå•¥ä¹Ÿæ²¡å¹²ï¼Ÿ</p>
<h3 data-id="heading-37">6.1 è¯´Pæ˜¯"æ ¸å¿ƒè°ƒåº¦å™¨"æ˜¯ä»æ¶æ„å’Œæ€§èƒ½è§’åº¦è¯´çš„</h3>
<p>1.Â å¹¶è¡Œåº¦æ§åˆ¶ä¸­å¿ƒ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç³»ç»Ÿèƒ½åŒæ—¶è¿è¡Œå¤šå°‘ä¸ªGï¼Ÿç”±Pçš„æ•°é‡å†³å®šï¼</span>
GOMAXPROCS = <span class="hljs-number">4</span>  <span class="hljs-comment">// â† åˆ›å»º4ä¸ªP</span>
<span class="hljs-comment">// æœ€å¤š4ä¸ªGçœŸæ­£å¹¶è¡Œæ‰§è¡Œ</span>
<span class="hljs-comment">// Pæ˜¯å¹¶è¡Œåº¦çš„"é—¸é—¨"</span>
</code></pre>
<p>2.Â æœ¬åœ°åŒ–è°ƒåº¦ä¸­å¿ƒ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ²¡æœ‰Pï¼šæ‰€æœ‰mç«äº‰ä¸€ä¸ªå…¨å±€é˜Ÿåˆ— â†’ é”ç«äº‰ä¸¥é‡</span>
<span class="hljs-comment">// æœ‰Pï¼šæ¯ä¸ªPæœ‰æœ¬åœ°é˜Ÿåˆ— â†’ å‡å°‘90%é”ç«äº‰</span>

<span class="hljs-comment">// è°ƒåº¦æ€§èƒ½æå‡10å€+çš„å…³é”®ï¼</span>
</code></pre>
<p>3.Â CPUäº²å’Œæ€§é”šç‚¹</p>
<pre><code class="hljs language-go" lang="go">Mæ˜¯æµåŠ¨çš„ï¼ˆçº¿ç¨‹å¯èƒ½è¢«OSè°ƒåº¦åˆ°ä¸åŒCPUæ ¸å¿ƒï¼‰
Pæ˜¯å›ºå®šçš„ï¼ˆæ¯ä¸ªPå°½é‡ç»‘å®šåˆ°å›ºå®šCPUæ ¸å¿ƒï¼‰

G â†’ ç»‘å®šåˆ° â†’ P â†’ äº²å’Œåˆ° â†’ CPUæ ¸å¿ƒ
      (è°ƒåº¦å…³ç³»)   (ç¼“å­˜ä¼˜åŒ–)
</code></pre>
<ol start="4">
<li>å·¥ä½œçªƒå–ï¼ˆWork Stealingï¼‰çš„æ¢çº½</li>
</ol>

<pre><code class="hljs language-css" lang="css">// å½“P1ç©ºé—²æ—¶ï¼Œå®ƒå·è°çš„å·¥ä½œï¼Ÿ
// å·å…¶ä»–<span class="hljs-selector-tag">P</span>çš„é˜Ÿåˆ—ï¼<span class="hljs-selector-tag">P</span>æ˜¯çªƒå–çš„å•ä½

func stealWork(pp *<span class="hljs-selector-tag">p</span>) {
    // éå†å…¶ä»–<span class="hljs-selector-tag">P</span>ï¼Œå·å®ƒä»¬çš„G
    for æ¯ä¸ªå…¶ä»–<span class="hljs-selector-tag">P</span> {
        ä»å…¶ä»–<span class="hljs-selector-tag">P</span><span class="hljs-selector-class">.runq</span>å·ä¸€åŠG
    }
}
</code></pre>
<h3 data-id="heading-38">6.2 Pçš„"è¢«åŠ¨æ ¸å¿ƒ"è®¾è®¡å“²å­¦</h3>
<p>Goè°ƒåº¦å™¨çš„åˆ›æ–°ï¼š</p>
<p>ä¼ ç»Ÿçº¿ç¨‹æ± ï¼š Workerï¼ˆä¸»åŠ¨ï¼‰ + Queueï¼ˆè¢«åŠ¨ï¼‰</p>
<p>Goçš„GMPï¼š     Gï¼ˆä¸»åŠ¨ï¼‰ + Pï¼ˆè¢«åŠ¨+æ™ºèƒ½ï¼‰ + Mï¼ˆæ‰§è¡Œï¼‰</p>
<p>Pçš„"æ™ºèƒ½è¢«åŠ¨"ï¼š</p>
<ol>
<li>æœ¬åœ°é˜Ÿåˆ—(256)       â† æ™ºèƒ½ç¼“å†²ï¼šå‡å°‘ç«äº‰</li>
<li>runnextæ§½ä½        â† æ™ºèƒ½ç¼“å­˜ï¼šä¸‹ä¸€ä¸ªç«‹å³æ‰§è¡Œ</li>
<li>å„ç§å†…å­˜æ±          â† æ™ºèƒ½å¤ç”¨ï¼šå‡å°‘åˆ†é…</li>
<li>çŠ¶æ€æœºç®¡ç†         â† P.status: _Pidle, _Prunning, _Psyscall, _Pdeadï¼Œé€šè¿‡çŠ¶æ€çŸ¥é“Påœ¨å¹²å˜›</li>
</ol>
<p>æ²¡æœ‰Pï¼ˆGo 1.0ä¹‹å‰ï¼‰ ï¼šBenchmarkè°ƒåº¦-4æ ¸: 100ä¸‡æ¬¡åˆ‡æ¢/ç§’</p>
<p>æœ‰Pï¼ˆGo 1.1å¼•å…¥Påï¼‰ï¼šBenchmarkè°ƒåº¦-4æ ¸: 5000ä¸‡æ¬¡åˆ‡æ¢/ç§’ æå‡50å€ï¼</p>
<h3 data-id="heading-39">6.3 è°ƒåº¦å™¨çœŸæ­£çš„å·¥ä½œæµ</h3>
<pre><code class="hljs language-vbnet" lang="vbnet">çœŸæ­£çš„<span class="hljs-string">"è°ƒåº¦å¤§è„‘"</span>æ˜¯ï¼šg0 + Pçš„æ•°æ®

g0ï¼ˆå†³ç­–ï¼‰ + Pï¼ˆæ•°æ®ï¼‰ = å®Œæ•´è°ƒåº¦å™¨
      â†“           â†“
    <span class="hljs-string">"åšä»€ä¹ˆ"</span>     <span class="hljs-string">"ç”¨ä»€ä¹ˆåš"</span>

æ¯”å¦‚ï¼š
<span class="hljs-symbol">g0:</span> <span class="hljs-string">"è¯¥æ‰§è¡Œä¸‹ä¸€ä¸ªGäº†"</span>
    â†“
<span class="hljs-symbol">g0:</span> æŸ¥çœ‹å½“å‰P.runqï¼ˆæ•°æ®åœ¨Pä¸­ï¼‰
    â†“  
<span class="hljs-symbol">g0:</span> å–å‡ºGï¼ˆæ“ä½œPçš„å­—æ®µï¼‰
    â†“
<span class="hljs-symbol">g0:</span> æ‰§è¡ŒG
</code></pre>
<p>Pæä¾›äº†è°ƒåº¦éœ€è¦çš„æ‰€æœ‰æ•°æ®ï¼Œg0æä¾›å†³ç­–é€»è¾‘</p>
<h3 data-id="heading-40">6.4 æ‰€ä»¥ï¼Œä¸åº”è¯¥è¯´"Pæ˜¯æ ¸å¿ƒè°ƒåº¦å™¨"</h3>
<p>æ›´å‡†ç¡®çš„è¯´æ³•ï¼š</p>
<ul>
<li><strong>g0</strong>ï¼šè°ƒåº¦å™¨çš„<strong>é€»è¾‘æ ¸å¿ƒ</strong>ï¼ˆåšå†³ç­–ï¼‰</li>
<li><strong>P</strong>ï¼šè°ƒåº¦å™¨çš„<strong>æ•°æ®æ ¸å¿ƒ</strong>ï¼ˆæä¾›èµ„æºï¼‰</li>
<li><strong>M</strong>ï¼šè°ƒåº¦å™¨çš„<strong>æ‰§è¡Œæ ¸å¿ƒ</strong>ï¼ˆè·‘ä»£ç ï¼‰</li>
<li><strong>G</strong>ï¼šè°ƒåº¦å™¨çš„<strong>ä»»åŠ¡æ ¸å¿ƒ</strong>ï¼ˆè¦æ‰§è¡Œçš„å·¥ä½œï¼‰</li>
</ul>
<h3 data-id="heading-41">6.5 æºç ä¸­çš„ä½“ç°</h3>
<p>åœ¨runtimeåŒ…çš„proc.goæ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// One round of scheduler: find a runnable goroutine and execute it.</span>
<span class="hljs-comment">// Never returns.</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">schedule</span><span class="hljs-params">()</span></span> {
	mp := getg().m

	<span class="hljs-keyword">if</span> mp.locks != <span class="hljs-number">0</span> {
		throw(<span class="hljs-string">"schedule: holding locks"</span>)
	}

	<span class="hljs-keyword">if</span> mp.lockedg != <span class="hljs-number">0</span> {
		stoplockedm()
		execute(mp.lockedg.ptr(), <span class="hljs-literal">false</span>) <span class="hljs-comment">// Never returns.</span>
	}

	<span class="hljs-keyword">if</span> mp.incgo {
		throw(<span class="hljs-string">"schedule: in cgo"</span>)
	}

top:
	pp := mp.p.ptr()
	pp.preempt = <span class="hljs-literal">false</span>

	<span class="hljs-keyword">if</span> mp.spinning &amp;&amp; (pp.runnext != <span class="hljs-number">0</span> || pp.runqhead != pp.runqtail) {
		throw(<span class="hljs-string">"schedule: spinning with local work"</span>)
	}

	gp, inheritTime, tryWakeP := findRunnable() <span class="hljs-comment">// blocks until work is available</span>

	<span class="hljs-keyword">if</span> debug.dontfreezetheworld &gt; <span class="hljs-number">0</span> &amp;&amp; freezing.Load() {
		lock(&amp;deadlock)
		lock(&amp;deadlock)
	}

	<span class="hljs-keyword">if</span> mp.spinning {
		resetspinning()
	}

	<span class="hljs-keyword">if</span> sched.disable.user &amp;&amp; !schedEnabled(gp) {
		lock(&amp;sched.lock)
		<span class="hljs-keyword">if</span> schedEnabled(gp) {
			unlock(&amp;sched.lock)
		} <span class="hljs-keyword">else</span> {
			sched.disable.runnable.pushBack(gp)
			sched.disable.n++
			unlock(&amp;sched.lock)
			<span class="hljs-keyword">goto</span> top
		}
	}

	<span class="hljs-keyword">if</span> tryWakeP {
		wakep()
	}
	<span class="hljs-keyword">if</span> gp.lockedm != <span class="hljs-number">0</span> {
		startlockedm(gp)
		<span class="hljs-keyword">goto</span> top
	}

	execute(gp, inheritTime)
}
</code></pre>
<p><strong>æ•´ä¸ªè°ƒåº¦å¾ªç¯éƒ½å›´ç»•ç€"å½“å‰P"çš„æ•°æ®æ“ä½œï¼</strong></p>
<p>è¿™ä¸ªæ–¹æ³•æ˜¯g0è°ƒç”¨ï¼Œåœ¨go runä¹‹åï¼Œå°±å¼€å§‹å¾ªç¯ï¼Œå…¶ä¸­çš„getg()å°±æ˜¯å–å¾—g0æœ¬èº«</p>
<p>å…·ä½“åˆ°ä»£ç ä¸­çš„å¾ªç¯è·¯å¾„ï¼š</p>
<ol>
<li>æ™®é€šè°ƒåº¦å¾ªç¯</li>
</ol>

<pre><code class="hljs language-scss" lang="scss">func <span class="hljs-built_in">schedule</span>() {
    gp := <span class="hljs-built_in">findRunnable</span>()      // <span class="hljs-number">1</span>. æ‰¾ä¸ªå¯è¿è¡Œçš„G
    <span class="hljs-built_in">execute</span>(gp, inheritTime)  // <span class="hljs-number">2</span>. æ‰§è¡Œå®ƒï¼ˆæ°¸ä¸è¿”å›ï¼ï¼‰
}

func <span class="hljs-built_in">execute</span>(gp *g, inheritTime bool) {
    <span class="hljs-comment">// Mè®¾ç½®å½“å‰G</span>
    _g_<span class="hljs-selector-class">.m</span><span class="hljs-selector-class">.curg</span> = gp  <span class="hljs-comment">// M â† G</span>
    gp<span class="hljs-selector-class">.m</span> = _g_<span class="hljs-selector-class">.m</span>     <span class="hljs-comment">// G â† M    g.må’Œm.gcurgçš„èµ‹å€¼æ˜¯åœ¨executeä¸­å®Œæˆçš„</span>

    <span class="hljs-comment">// Må¼€å§‹æ‰§è¡ŒGçš„ä»£ç </span>
    <span class="hljs-built_in">gogo</span>(&amp;gp.sched)  <span class="hljs-comment">// 3. åˆ‡æ¢åˆ°ç”¨æˆ·Gï¼ˆä¸è¿”å›ï¼ï¼‰äº‹å®ä¸Šgogoåªè´Ÿè´£æ•°æ®æ¢å¤</span>
}

<span class="hljs-comment">// ç”¨æˆ·Gæ‰§è¡Œ...</span>
<span class="hljs-comment">// ç”¨æˆ·Gè°ƒç”¨ runtime.Gosched() æˆ–é˜»å¡æ—¶ï¼š</span>
func <span class="hljs-built_in">gosched_m</span>(gp *g) {
    <span class="hljs-comment">// 4. ç”¨æˆ·Gé€šè¿‡mcall()åˆ‡æ¢åˆ°g0æ‰§è¡Œè¿™ä¸ªå‡½æ•°</span>
    <span class="hljs-built_in">schedule</span>()  <span class="hljs-comment">// 5. é‡æ–°è°ƒåº¦ï¼å›åˆ°æ­¥éª¤1</span>
}
</code></pre>
<p>è¿™é‡Œ<code>execute()</code>Â è°ƒç”¨Â <code>gogo()</code>Â å<strong>ä¸è¿”å›</strong>ï¼æ‰€ä»¥Â <code>schedule()</code>Â ä¹Ÿ<strong>ä¸è¿”å›</strong>ï¼</p>
<p><strong><code>findRunnable()</code>Â æ˜¯è°ƒåº¦å™¨çš„"æ‰¾æ´»å¹²"å‡½æ•°</strong>ï¼Œå®ƒæŒ‰ä¼˜å…ˆçº§ä»å¤šä¸ªåœ°æ–¹å¯»æ‰¾å¯è¿è¡Œçš„Gï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">findRunnable() çš„æŸ¥æ‰¾é¡ºåºï¼š
<span class="hljs-bullet">1.</span> å½“å‰Pçš„runnextï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
<span class="hljs-bullet">2.</span> å½“å‰Pçš„æœ¬åœ°é˜Ÿåˆ—
<span class="hljs-bullet">3.</span> å…¨å±€é˜Ÿåˆ—  
<span class="hljs-bullet">4.</span> ç½‘ç»œè½®è¯¢å™¨ï¼ˆnetpollï¼‰
<span class="hljs-bullet">5.</span> ä»å…¶ä»–På·å·¥ä½œï¼ˆwork stealingï¼‰
<span class="hljs-bullet">6.</span> å¦‚æœè¿˜æ‰¾ä¸åˆ° â†’ ä¼‘çœ ç­‰å¾…
</code></pre>
<p>2.  ä¸¤ç§Â goto topÂ çš„æƒ…å†µ</p>
<p>æƒ…å†µ1ï¼šGè¢«é”å®šåˆ°ç‰¹å®šçš„Mï¼ˆ<code>gp.lockedm != 0</code>ï¼‰</p>
<pre><code class="hljs language-scss" lang="scss">if gp<span class="hljs-selector-class">.lockedm</span> != <span class="hljs-number">0</span> {
    <span class="hljs-comment">// è¿™ä¸ªGå¿…é¡»è¿è¡Œåœ¨ç‰¹å®šçš„Mä¸Š</span>
    <span class="hljs-comment">// æ¯”å¦‚ï¼šcgoå›è°ƒã€æŸäº›ç³»ç»Ÿè°ƒç”¨</span>
    <span class="hljs-built_in">startlockedm</span>(gp)  <span class="hljs-comment">// æŠŠPäº¤ç»™é‚£ä¸ªMï¼Œè‡ªå·±é˜»å¡</span>
    goto <span class="hljs-attribute">top</span>          <span class="hljs-comment">// é‡æ–°æ‰¾å…¶ä»–Gæ‰§è¡Œ</span>
}
</code></pre>
<p>æƒ…å†µ2ï¼šç”¨æˆ·è°ƒåº¦è¢«ç¦ç”¨ï¼ˆ<code>sched.disable.user</code>ï¼‰</p>
<pre><code class="hljs language-scss" lang="scss">if sched<span class="hljs-selector-class">.disable</span><span class="hljs-selector-class">.user</span> &amp;&amp; !<span class="hljs-built_in">schedEnabled</span>(gp) {
    <span class="hljs-comment">// ç”¨æˆ·Gè°ƒåº¦è¢«ä¸´æ—¶ç¦ç”¨ï¼ˆæ¯”å¦‚åœ¨STWåƒåœ¾å›æ”¶ï¼‰</span>
    <span class="hljs-comment">// ä½†GC workerç­‰ç³»ç»ŸGå¯ä»¥è¿è¡Œ</span>
    sched<span class="hljs-selector-class">.disable</span><span class="hljs-selector-class">.runnable</span><span class="hljs-selector-class">.pushBack</span>(gp)  <span class="hljs-comment">// æ”¾å›ç‰¹æ®Šé˜Ÿåˆ—</span>
    goto <span class="hljs-attribute">top</span>  <span class="hljs-comment">// è·³è¿‡è¿™ä¸ªç”¨æˆ·Gï¼Œé‡æ–°æ‰¾</span>
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å·çœ‹æµè§ˆå™¨åå°ï¼Œå‘ç°å®ƒæ¯”æˆ‘å¿™å¤šäº†]]></title>    <link>https://juejin.cn/post/7580263284338311209</link>    <guid>https://juejin.cn/post/7580263284338311209</guid>    <pubDate>2025-12-06T16:07:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580263284338311209" data-draft-id="7580203347703857167" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å·çœ‹æµè§ˆå™¨åå°ï¼Œå‘ç°å®ƒæ¯”æˆ‘å¿™å¤šäº†"/> <meta itemprop="keywords" content="å‰ç«¯,æµè§ˆå™¨"/> <meta itemprop="datePublished" content="2025-12-06T16:07:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="T___T"/> <meta itemprop="url" content="https://juejin.cn/user/1599155645973066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å·çœ‹æµè§ˆå™¨åå°ï¼Œå‘ç°å®ƒæ¯”æˆ‘å¿™å¤šäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1599155645973066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    T___T
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T16:07:59.000Z" title="Sat Dec 06 2025 16:07:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸ºå•¥ä»¥å‰ IE è€â€œå´©æºƒâ€ï¼Œè€Œç°åœ¨å¼€ä¸€å †æ ‡ç­¾é¡µçš„ Chrome è¿˜èƒ½æ¯”è¾ƒç¨³ï¼Ÿç­”æ¡ˆéƒ½è—åœ¨æµè§ˆå™¨çš„ã€Œè¿›ç¨‹æ¨¡å‹ã€é‡Œã€‚</p>
</blockquote>
<p>ä½œä¸ºä¸€ä¸ªè¿˜åœ¨å­¦ä¹ å‰ç«¯çš„åŒå­¦ï¼Œæˆ‘ç»å¸¸å¬åˆ°å‡ ä¸ªå…³é”®è¯ï¼š<br/>
è¿›ç¨‹ã€çº¿ç¨‹ã€å¤šè¿›ç¨‹æµè§ˆå™¨ã€æ¸²æŸ“è¿›ç¨‹ã€V8ã€äº‹ä»¶å¾ªç¯â€¦â€¦</p>
<p>ä¸‹é¢å°±æ˜¯æˆ‘ç›®å‰çš„ç†è§£ï¼Œç®—æ˜¯ä¸€ç¯‡å­¦ä¹ ç¬”è®°å¼çš„åˆ†äº«</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆæŠŠæ¦‚å¿µæ‹æ¸…ï¼šè¿›ç¨‹ vs çº¿ç¨‹</h2>
<ul>
<li>
<p><strong>è¿›ç¨‹ï¼ˆProcessï¼‰</strong></p>
<ul>
<li>æ“ä½œç³»ç»Ÿåˆ†é…èµ„æºçš„æœ€å°å•ä½ã€‚</li>
<li>æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€å¥æŸ„ã€æ–‡ä»¶ç­‰èµ„æºã€‚</li>
<li>ä¸åŒè¿›ç¨‹é—´é»˜è®¤äº’ç›¸éš”ç¦»ï¼Œé€šä¿¡è¦é€šè¿‡ IPCã€‚</li>
</ul>
</li>
<li>
<p><strong>çº¿ç¨‹ï¼ˆThreadï¼‰</strong></p>
<ul>
<li>CPUÂ è°ƒåº¦ã€æ‰§è¡Œä»£ç çš„æœ€å°å•ä½ã€‚</li>
<li>å…±äº«æ‰€å±è¿›ç¨‹çš„èµ„æºï¼ˆå†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰ã€‚</li>
<li>ä¸€ä¸ªè¿›ç¨‹é‡Œå¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œã€‚</li>
</ul>
</li>
</ul>
<p>ç®€å•ç†è§£ï¼š</p>
<ul>
<li><strong>è¿›ç¨‹ = ä¸€ä¸ªâ€œåº”ç”¨å®ä¾‹â€</strong> ï¼ˆå¼€ä¸€ä¸ªæµè§ˆå™¨çª—å£å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼‰ã€‚</li>
<li><strong>çº¿ç¨‹ = åº”ç”¨é‡Œçš„å¾ˆå¤šâ€œå°å·¥äººâ€</strong> ï¼ˆä¸€ä¸ªè´Ÿè´£æ¸²æŸ“é¡µé¢ï¼Œä¸€ä¸ªè´Ÿè´£ç½‘ç»œè¯·æ±‚â€¦â€¦ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-1">äºŒã€å•è¿›ç¨‹æµè§ˆå™¨ï¼šæ—§æ—¶ä»£çš„ IE æ¨¡å‹</h2>
<p>æ—©æœŸçš„æµè§ˆå™¨ï¼ˆå¦‚æ—§ç‰ˆ IEï¼‰åŸºæœ¬éƒ½æ˜¯<strong>å•è¿›ç¨‹æ¶æ„</strong>ï¼šæ•´ä¸ªæµè§ˆå™¨åªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œé‡Œé¢å¼€å¤šä¸ªçº¿ç¨‹æ¥å¹²æ´»ã€‚</p>
<p>å¯ä»¥æƒ³è±¡æˆè¿™æ ·ä¸€å¼ å›¾ï¼ˆå¯¹åº”ä½ ç»™çš„â€œå•è¿›ç¨‹æµè§ˆå™¨â€é‚£å¼ å›¾ï¼‰ï¼š</p>
<ul>
<li>
<p>é¡¶éƒ¨æ˜¯ã€Œä»£ç  / æ•°æ® / æ–‡ä»¶ã€ç­‰èµ„æºã€‚</p>
</li>
<li>
<p>ä¸‹é¢æœ‰å¤šä¸ªçº¿ç¨‹ï¼š</p>
<ul>
<li><strong>é¡µé¢çº¿ç¨‹</strong>ï¼šè´Ÿè´£é¡µé¢æ¸²æŸ“ã€å¸ƒå±€ã€ç»˜åˆ¶ã€‚</li>
<li><strong>ç½‘ç»œçº¿ç¨‹</strong>ï¼šè´Ÿè´£ç½‘ç»œè¯·æ±‚ã€‚</li>
<li><strong>å…¶ä»–çº¿ç¨‹</strong>ï¼šä¾‹å¦‚æ’ä»¶ã€å®šæ—¶ä»»åŠ¡ç­‰ã€‚</li>
</ul>
</li>
<li>
<p>æ‰€æœ‰çº¿ç¨‹å…±äº«åŒä¸€ä»½è¿›ç¨‹èµ„æºã€‚</p>
</li>
</ul>
<p>åœ¨è¿™ä¸ªæ¨¡å‹ä¸‹ï¼š</p>
<ul>
<li>é¡µé¢æ¸²æŸ“ã€JavaScript æ‰§è¡Œã€æ’ä»¶è¿è¡Œï¼Œéƒ½æŒ¤åœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œã€‚</li>
<li>æŸä¸ªæ’ä»¶æˆ–è„šæœ¬ä¸€æ—¦å´©æºƒã€æ­»å¾ªç¯ã€å†…å­˜æ³„æ¼ï¼Œ<strong>æ•´ä¸ªæµè§ˆå™¨éƒ½ä¼šè¢«æ‹–å®</strong>ã€‚</li>
<li>å¤šå¼€å‡ ä¸ªæ ‡ç­¾é¡µï¼Œæœ¬è´¨ä¸Šä¾æ—§æ˜¯åŒä¸€ä¸ªè¿›ç¨‹é‡Œçš„ä¸åŒé¡µé¢çº¿ç¨‹ï¼Œ <strong>â€œä¸€è£ä¿±è£ï¼Œä¸€æŸä¿±æŸâ€</strong> ã€‚</li>
</ul>
<p>è¿™ä¹Ÿæ˜¯å¾ˆå¤šäººå¯¹ IEÂ çš„ç»å…¸å°è±¡ï¼š</p>
<blockquote>
<p>â€œå¤šå¼€å‡ ä¸ªé¡µé¢å°±å¡æ­»ï¼Œå´©ä¸€æ¬¡ï¼Œæ‰€æœ‰æ ‡ç­¾é¡µä¸€èµ·æ¶ˆå¤±â€ã€‚</p>
</blockquote>
<h2 data-id="heading-2">ä¸‰ã€å¤šè¿›ç¨‹æµè§ˆå™¨ï¼šChrome çš„ç°ä»£æ¶æ„</h2>
<p>ChromeÂ é‡‡ç”¨çš„æ˜¯<strong>å¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹æ··åˆæ¶æ„</strong>ã€‚æ‰“å¼€æµè§ˆå™¨æ—¶ï¼Œå¤§è‡´ä¼šæ¶‰åŠè¿™äº›è¿›ç¨‹ï¼š</p>
<ul>
<li>
<p><strong>æµè§ˆå™¨ä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰</strong></p>
<ul>
<li>è´Ÿè´£æµè§ˆå™¨ UIã€åœ°å€æ ã€ä¹¦ç­¾ã€å‰è¿›åé€€ç­‰ã€‚</li>
<li>ç®¡ç†å’Œè°ƒåº¦å…¶ä»–å­è¿›ç¨‹ï¼ˆç±»ä¼¼ä¸€ä¸ªå¤§ç®¡å®¶ï¼‰ã€‚</li>
<li>è´Ÿè´£éƒ¨åˆ†å­˜å‚¨ã€æƒé™ç®¡ç†ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¸²æŸ“è¿›ç¨‹ï¼ˆRender Processï¼‰</strong></p>
<ul>
<li>æ ¸å¿ƒä»»åŠ¡ï¼šæŠŠÂ HTML / CSS / JavaScript å˜æˆç”¨æˆ·å¯ä»¥äº¤äº’çš„é¡µé¢ã€‚</li>
<li>å¸ƒå±€å¼•æ“ï¼ˆå¦‚ Blinkï¼‰å’Œ JS å¼•æ“ï¼ˆå¦‚ V8ï¼‰éƒ½åœ¨è¿™é‡Œã€‚</li>
<li><strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ ‡ç­¾é¡µä¼šå¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“è¿›ç¨‹</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>GPU è¿›ç¨‹ï¼ˆGPU Processï¼‰</strong></p>
<ul>
<li>è´Ÿè´£ 2DÂ / 3D ç»˜åˆ¶å’ŒåŠ é€Ÿï¼ˆåŠ¨ç”»ã€3DÂ å˜æ¢ç­‰ï¼‰ã€‚</li>
<li>ç»Ÿä¸€ä¸ºæµè§ˆå™¨å’Œå„æ¸²æŸ“è¿›ç¨‹æä¾›Â GPUÂ æœåŠ¡ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç½‘ç»œè¿›ç¨‹ï¼ˆNetwork Processï¼‰</strong></p>
<ul>
<li>è´Ÿè´£èµ„æºä¸‹è½½ã€ç½‘ç»œè¯·æ±‚ã€ç¼“å­˜ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ’ä»¶è¿›ç¨‹ï¼ˆPlugin Processï¼‰</strong></p>
<ul>
<li>è´Ÿè´£è¿è¡Œå¦‚Â Flashã€æ‰©å±•ç­‰æ’ä»¶ä»£ç ï¼Œé€šå¸¸æ”¾åœ¨æ›´ä¸¥æ ¼çš„æ²™ç®±é‡Œã€‚</li>
</ul>
</li>
</ul>
<p>ä½ ç»™çš„ç¬¬ä¸€å¼ å›¾ï¼Œå…¶å®å°±æ˜¯è¿™ä¹ˆä¸€ä¸ª<strong>å¤šè¿›ç¨‹æ¶æ„ç¤ºæ„å›¾</strong>ï¼šä¸­é—´æ˜¯ä¸»è¿›ç¨‹ï¼Œä¸¤ä¾§æ˜¯æ¸²æŸ“ã€ç½‘ç»œã€GPUã€æ’ä»¶ç­‰å­è¿›ç¨‹ï¼Œæœ‰çš„è¢«æ²™ç®±ä¿æŠ¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e809cf5310ff4cc5bddfb7988f7fb3a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765642138&amp;x-signature=aspBY1ZhvX7tTKTkp9YS%2B%2FDHTTc%3D" alt="download.png" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€å•è¿›ç¨‹ vs å¤šè¿›ç¨‹ï¼šæ ¸å¿ƒå·®å¼‚ä¸€è§ˆï¼ˆè¡¨æ ¼å¯¹æ¯”ï¼‰</h2>
<p>ä¸‹é¢è¿™å¼ è¡¨ï¼ŒæŠŠæ—§å¼å•è¿›ç¨‹æµè§ˆå™¨å’Œç°ä»£å¤šè¿›ç¨‹æµè§ˆå™¨çš„å·®å¼‚æ€»ç»“å‡ºæ¥ï¼Œé€‚åˆåœ¨æ–‡ç« ä¸­é‡ç‚¹å±•ç¤ºï¼š</p>













































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>å•è¿›ç¨‹æµè§ˆå™¨ï¼ˆå…¸å‹ï¼šæ—§ç‰ˆ IEï¼‰</th><th>å¤šè¿›ç¨‹æµè§ˆå™¨ï¼ˆå…¸å‹ï¼šChromeï¼‰</th></tr></thead><tbody><tr><td><strong>è¿›ç¨‹æ¨¡å‹</strong></td><td>æ•´ä¸ªæµè§ˆå™¨åŸºæœ¬åªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œå¤šæ ‡ç­¾é¡µåªæ˜¯ä¸åŒçº¿ç¨‹</td><td>æµè§ˆå™¨ä¸»è¿›ç¨‹Â + å¤šä¸ªå­è¿›ç¨‹ï¼ˆæ¸²æŸ“ã€ç½‘ç»œã€GPUã€æ’ä»¶â€¦ï¼‰ï¼Œæ ‡ç­¾é¡µé€šå¸¸ç‹¬ç«‹æ¸²æŸ“è¿›ç¨‹</td></tr><tr><td><strong>ç¨³å®šæ€§</strong></td><td>ä»»æ„çº¿ç¨‹ï¼ˆè„šæœ¬ã€æ’ä»¶ï¼‰å´©æºƒï¼Œå¯èƒ½æ‹–å®æ•´ä¸ªè¿›ç¨‹ï¼Œæµè§ˆå™¨æ•´ä½“å´©æºƒ</td><td>æŸä¸ªæ ‡ç­¾é¡µå´©æºƒåªå½±å“å¯¹åº”æ¸²æŸ“è¿›ç¨‹ï¼Œå…¶ä»–é¡µé¢åŸºæœ¬ä¸å—å½±å“</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>ä»£ç éƒ½åœ¨åŒä¸€è¿›ç¨‹è¿è¡Œï¼Œæƒé™è¾¹ç•Œæ¨¡ç³Šï¼Œæ”»å‡»é¢å¤§</td><td>åˆ©ç”¨å¤šè¿›ç¨‹ + æ²™ç®±ï¼šæ¸²æŸ“è¿›ç¨‹ã€æ’ä»¶è¿›ç¨‹è¢«é™åˆ¶è®¿é—®ç³»ç»Ÿèµ„æºï¼Œéœ€è¦é€šè¿‡ä¸»è¿›ç¨‹/IPC</td></tr><tr><td><strong>æ€§èƒ½ä½“éªŒ</strong></td><td>å¤šæ ‡ç­¾å…±äº«èµ„æºï¼ŒæŸä¸ªé¡µé¢å¡é¡¿ï¼Œå®¹æ˜“æ‹–æ…¢æ•´ä½“ï¼›UIÂ å’Œé¡µé¢æ¸²æŸ“è€¦åˆä¸¥é‡</td><td>ä¸åŒè¿›ç¨‹ä¹‹é—´å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨å¤šæ ¸ CPUï¼Œé‡é¡µé¢æ“ä½œä¸ä¼šè½»æ˜“é˜»å¡æ•´ä¸ªæµè§ˆå™¨ UI</td></tr><tr><td><strong>å†…å­˜å ç”¨</strong></td><td>å•è¿›ç¨‹å†…å­˜ç›¸å¯¹é›†ä¸­ï¼Œä½†ä¸€æ—¦æ³„æ¼éš¾ä»¥å›æ”¶ï¼›å´©æºƒæ—¶æŸå¤±å…¨éƒ¨çŠ¶æ€</td><td>å¤šè¿›ç¨‹ä¼šæœ‰ä¸€å®šå†…å­˜å†—ä½™ï¼Œä½†æŸä¸ªè¿›ç¨‹å…³é—­/å´©æºƒåï¼Œå…¶å†…å­˜å¯è¢«ç³»ç»Ÿç›´æ¥å›æ”¶</td></tr><tr><td><strong>æ’ä»¶å½±å“</strong></td><td>æ’ä»¶å´©æºƒÂ = æµè§ˆå™¨å´©æºƒï¼Œä½“éªŒæå·®</td><td>æ’ä»¶ç‹¬ç«‹è¿›ç¨‹ + æ²™ç®±ï¼Œå´©æºƒå½±å“æœ‰é™ï¼Œå¯ä»¥å•ç‹¬é‡å¯</td></tr><tr><td><strong>ç»´æŠ¤ä¸æ‰©å±•</strong></td><td>æ‰€æœ‰æ¨¡å—è€¦åˆåœ¨ä¸€èµ·ï¼Œæ”¹åŠ¨é£é™©å¤§</td><td>è¿›ç¨‹è¾¹ç•Œå¤©ç„¶åˆ†å±‚ï¼Œæ›´åˆ©äºæ¨¡å—åŒ–æ¼”è¿›å’Œå¤§è§„æ¨¡å·¥ç¨‹åŒ–</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36c471e1f886427a883a73e6bce702c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVF9fX1Q=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765642138&amp;x-signature=IoIhTuWmiOxy9NBMHMVH8SPaL28%3D" alt="download.png" loading="lazy"/></p>
<h2 data-id="heading-4">äº”ã€åˆ«è¢«â€œå¤šè¿›ç¨‹â€éª—äº†ï¼šJS ä¾ç„¶æ˜¯å•çº¿ç¨‹</h2>
<p>èŠåˆ°è¿™é‡Œï¼Œå¾ˆå¤šåŒå­¦å®¹æ˜“æ··æ·†ä¸€ä¸ªç‚¹ï¼š</p>
<blockquote>
<p>æµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹çš„ï¼Œé‚£Â JavaScriptÂ æ˜¯ä¸æ˜¯ä¹Ÿå¤šçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œäº†ï¼Ÿ</p>
</blockquote>
<p>ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼š<strong>ä¸»çº¿ç¨‹ä¸Šçš„ JavaScript ä¾ç„¶æ˜¯å•çº¿ç¨‹æ¨¡å‹</strong>ã€‚åŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li>
<p>åœ¨<strong>æ¸²æŸ“è¿›ç¨‹å†…éƒ¨</strong>ï¼Œæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹è´Ÿè´£ï¼š</p>
<ul>
<li>æ‰§è¡Œ JavaScriptã€‚</li>
<li>é¡µé¢å¸ƒå±€ã€ç»˜åˆ¶ã€‚</li>
<li>å¤„ç†ç”¨æˆ·äº¤äº’ï¼ˆç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>JS ä»£ç ä»ç„¶éµå¾ªï¼š<strong>åŒæ­¥ä»»åŠ¡ç«‹å³æ‰§è¡Œï¼Œå¼‚æ­¥ä»»åŠ¡ä¸¢è¿›ä»»åŠ¡é˜Ÿåˆ—ï¼Œç”±äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰è°ƒåº¦</strong>ã€‚</p>
</li>
</ul>
<p>ä¸ºä»€ä¹ˆè¦åšæŒå•çº¿ç¨‹ï¼Ÿ</p>
<ul>
<li>DOMÂ æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶æ”¹ DOMï¼Œé”ä¼šéå¸¸å¤æ‚ã€‚</li>
<li>å‰ç«¯å¼€å‘å¿ƒæ™ºæˆæœ¬å¯æ§ï¼›ä¸å¿…åƒå¤šçº¿ç¨‹è¯­è¨€é‚£æ ·åˆ°å¤„è€ƒè™‘é”å’Œç«æ€æ¡ä»¶ã€‚</li>
</ul>
<p>å¤šè¿›ç¨‹æ¶æ„åªæ˜¯æŠŠï¼š</p>
<ul>
<li>â€œè¿™ä¸ªé¡µé¢çš„ä¸»çº¿ç¨‹Â + æ¸²æŸ“Â +Â JSÂ å¼•æ“â€<br/>
æ”¾åœ¨ä¸€ä¸ª<strong>å•ç‹¬çš„è¿›ç¨‹</strong>é‡Œï¼ˆæ¸²æŸ“è¿›ç¨‹ï¼‰ã€‚</li>
</ul>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼š</p>
<ul>
<li>ä¸€ä¸ªé¡µé¢Â JSÂ å†™äº†æ­»å¾ªç¯ï¼Œä¼šå¡æ­»é‚£ä¸€ä¸ªæ ‡ç­¾é¡µã€‚</li>
<li>ä½†å…¶ä»–æ ‡ç­¾é¡µé€šå¸¸è¿˜èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬åœ¨å®Œå…¨ä¸åŒçš„æ¸²æŸ“è¿›ç¨‹å†…ã€‚</li>
</ul>
<h2 data-id="heading-5">å…­ã€ä»æ¶æ„çœ‹ä½“éªŒï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬æ›´å–œæ¬¢ç°åœ¨çš„æµè§ˆå™¨ï¼Ÿ</h2>
<p>ç«™åœ¨å‰ç«¯å¼€å‘è€…è§’åº¦ï¼Œå¤šè¿›ç¨‹æ¶æ„å¸¦æ¥çš„ç›´æ¥æ”¶ç›Šæœ‰ï¼š</p>
<ul>
<li>
<p><strong>æ›´å¥½çš„å®¹é”™æ€§</strong></p>
</li>
<li>
<p><strong>æ›´é«˜çš„å®‰å…¨ç­‰çº§</strong></p>
</li>
<li>
<p><strong>æ›´é¡ºæ»‘çš„äº¤äº’ä½“éªŒ</strong></p>
</li>
<li>
<p><strong>æ›´å®¹æ˜“å·¥ç¨‹åŒ–æ¼”è¿›</strong></p>
</li>
</ul>
<p>å½“ç„¶ï¼Œä»£ä»·ä¹Ÿå¾ˆç°å®ï¼š<strong>å¤šè¿›ç¨‹ = æ›´é«˜çš„å†…å­˜å ç”¨</strong>ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆï¼š</p>
<ul>
<li>å¤šå¼€å‡ åä¸ªæ ‡ç­¾ï¼Œä»»åŠ¡ç®¡ç†å™¨é‡Œèƒ½çœ‹åˆ°å¾ˆå¤šæµè§ˆå™¨ç›¸å…³è¿›ç¨‹ã€‚</li>
<li>ä½†æ¢æ¥çš„æ˜¯æ›´å¥½çš„ç¨³å®šæ€§ã€å®‰å…¨æ€§å’Œæ‰©å±•æ€§â€”â€”åœ¨ç°ä»£ç¡¬ä»¶ä¸‹ï¼Œè¿™æ˜¯å¯ä»¥æ¥å—çš„Â trade-offã€‚</li>
</ul>
<h2 data-id="heading-6">ä¸ƒã€æ€»ç»“</h2>
<ul>
<li>æ—©æœŸæµè§ˆå™¨é‡‡ç”¨<strong>å•è¿›ç¨‹ + å¤šçº¿ç¨‹</strong>æ¨¡å¼ï¼Œæ‰€æœ‰é¡µé¢ã€è„šæœ¬ã€æ’ä»¶éƒ½åœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œä¸€æ—¦å‡ºé—®é¢˜å°±â€œå…¨å†›è¦†æ²¡â€ã€‚</li>
<li>ç°ä»£æµè§ˆå™¨ï¼ˆä»£è¡¨æ˜¯Â Chromeï¼‰ä½¿ç”¨<strong>å¤šè¿›ç¨‹æ¶æ„</strong>ï¼šä¸»è¿›ç¨‹è´Ÿè´£è°ƒåº¦ï¼Œå„ä¸ªæ¸²æŸ“ã€ç½‘ç»œã€GPUã€æ’ä»¶è¿›ç¨‹å„å¸å…¶èŒï¼Œå¹¶é€šè¿‡æ²™ç®±å¼ºåŒ–éš”ç¦»ã€‚</li>
<li>å°½ç®¡æµè§ˆå™¨æ•´ä½“æ˜¯å¤šè¿›ç¨‹çš„ï¼Œä½†<strong>å•ä¸ªé¡µé¢é‡Œçš„ JavaScript ä¾ç„¶æ˜¯å•çº¿ç¨‹ + äº‹ä»¶å¾ªç¯æ¨¡å‹</strong>ï¼Œè¿™ç‚¹æ²¡æœ‰å˜ã€‚</li>
<li>ä»ç”¨æˆ·ä½“éªŒã€å‰ç«¯å¼€å‘ã€å®‰å…¨æ€§ã€ç¨³å®šæ€§æ¥çœ‹ï¼Œå¤šè¿›ç¨‹æ¶æ„å‡ ä¹æ˜¯å…¨é¢ç¢¾å‹æ—§æ—¶ä»£å•è¿›ç¨‹æµè§ˆå™¨çš„ä¸€æ¬¡å‡çº§ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨huskyå’Œfabricè§„èŒƒgitæäº¤çš„æ³¨é‡Š]]></title>    <link>https://juejin.cn/post/7580329353353232430</link>    <guid>https://juejin.cn/post/7580329353353232430</guid>    <pubDate>2025-12-06T16:55:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580329353353232430" data-draft-id="7576978338754199602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨huskyå’Œfabricè§„èŒƒgitæäº¤çš„æ³¨é‡Š"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T16:55:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qinyuan15"/> <meta itemprop="url" content="https://juejin.cn/user/1445224471068824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨huskyå’Œfabricè§„èŒƒgitæäº¤çš„æ³¨é‡Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1445224471068824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qinyuan15
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T16:55:38.000Z" title="Sat Dec 06 2025 16:55:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä¸æ„ä¹‰</h2>
<p>åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›å¼€å‘äººå‘˜æœ‰æ—¶æäº¤gitæ—¶æ³¨é‡Šå†™å¾—å¾ˆéšæ„ï¼Œä¸æ–¹ä¾¿æ—¥åç®¡ç†å’Œé—®é¢˜å›æº¯ã€‚å¯¹äºJavaScripté¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨huskyå’Œfabricè§„èŒƒgitæäº¤çš„æ³¨é‡Šã€‚</p>
<h2 data-id="heading-1">äºŒã€å¼•å…¥gitæ³¨é‡Šæ£€æŸ¥</h2>
<p>åœ¨JavaScripté¡¹ç›®ä¸­ï¼Œå®‰è£…huskyå’Œfabricï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install husky @umijs/fabric --save-dev
</code></pre>
<p>ç„¶ååˆå§‹åŒ–huskyï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx husky install
</code></pre>
<p>è¿è¡Œä¸Šé¢çš„å‘½ä»¤ä¹‹åï¼Œä¼šç”Ÿæˆä¸€ä¸ª .husky ç›®å½•ï¼Œåœ¨ .husky ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªcommit-msgæ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env sh</span>

<span class="hljs-comment"># Export Git hook params</span>
<span class="hljs-built_in">export</span> GIT_PARAMS=$*

npx --no-install fabric verify-commit
</code></pre>
<p>ç„¶åä½¿ç”¨gitå‘½ä»¤æ‰§è¡Œä»£ç æäº¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git add .
git commit -m <span class="hljs-string">'test'</span>
</code></pre>
<p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤æ—¶ï¼Œå¾—åˆ°çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90ba8e2d5d824cd5861d85011c3f0f9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcWlueXVhbjE1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765644938&amp;x-signature=WOjDtCUdnPXmc5AQRYyETfLEs04%3D" alt="image.png" loading="lazy"/></p>
<p>æ˜¾ç„¶ï¼Œgitæ³¨é‡Šè§„èŒƒå·²ç»ç”Ÿæ•ˆã€‚å¦‚æœæ˜¯æŒ‰ç…§è§„èŒƒçš„æ³¨é‡Šæäº¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git commit -m <span class="hljs-string">'feat: å¼•å…¥huskyä¸fabricå¯¹gitæ³¨é‡Šåšè§„èŒƒ'</span>
</code></pre>
<p>åˆ™å¯ä»¥æäº¤æˆåŠŸã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€è§£å†³ä»£ç åˆå¹¶æ—¶æŠ¥é”™çš„é—®é¢˜</h2>
<p>åœ¨åˆå¹¶ä»£ç æ—¶ï¼Œå…¶è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Šå¹¶ä¸ç¬¦åˆè§„èŒƒï¼Œæ— æ³•é€šè¿‡æ ¡éªŒã€‚<br/>
å‡è®¾å½“å‰æ˜¯masteråˆ†æ”¯ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git checkout -b new_branch1
</code></pre>
<p>ç„¶åéšä¾¿æ·»åŠ ä¸€ä¸ªæäº¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">''</span> &gt; test.txt
git add .
git commit -m <span class="hljs-string">'feat: first commit in new_branch1'</span>
</code></pre>
<p>ç„¶åå†åˆ‡å›åŸæ¥çš„åˆ†æ”¯ï¼Œæ·»åŠ ä¸€ä¸ªæäº¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git checkout master
<span class="hljs-built_in">echo</span> <span class="hljs-string">''</span> &gt; test2.txt
git add .
git commit -m <span class="hljs-string">'feat: first commit in master'</span>
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œå¦‚æœåšåˆ†æ”¯åˆå¹¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git merge new_branch1
</code></pre>
<p>å°†ä¼šæŠ¥é”™ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90ba8e2d5d824cd5861d85011c3f0f9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcWlueXVhbjE1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765644938&amp;x-signature=WOjDtCUdnPXmc5AQRYyETfLEs04%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦åœ¨ .husky ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ prepare-commit-msgï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/sh</span>

<span class="hljs-keyword">case</span> <span class="hljs-string">"<span class="hljs-variable">$2</span>"</span> <span class="hljs-keyword">in</span>
  merge)
    MERGING_BRANCH_SHA=$(<span class="hljs-built_in">cat</span> <span class="hljs-string">".git/MERGE_HEAD"</span>)
    MERGING_BRANCH_NAME=$(git name-rev --name-only <span class="hljs-string">"<span class="hljs-variable">$MERGING_BRANCH_SHA</span>"</span>)
    MERGE_TARGET=$(git rev-parse --abbrev-ref HEAD)

    <span class="hljs-built_in">cat</span> &gt; <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> &lt;&lt;<span class="hljs-string">EOF
feat: åˆå¹¶åˆ†æ”¯ï¼Œå°† "${MERGING_BRANCH_NAME}" åˆ†æ”¯çš„å†…å®¹åˆå¹¶åˆ° "${MERGE_TARGET}" åˆ†æ”¯
EOF</span>
  ;;
<span class="hljs-keyword">esac</span>
</code></pre>
<p>æ¥ä¸‹æ¥ <code>git merge new_branch1</code> æ‰§è¡Œæ—¶å°±ä¸ä¼šæŠ¥é”™ï¼Œåˆå¹¶ä»£ç æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Šä¸ºï¼š<br/>
feat: åˆå¹¶åˆ†æ”¯ï¼Œå°† "new_branch1" åˆ†æ”¯çš„å†…å®¹åˆå¹¶åˆ° "master" åˆ†æ”¯</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vueä¹Ÿæ”¯æŒå£°æ˜å¼UIäº†ï¼Œå‘ç§»åŠ¨ç«¯kotlinï¼Œswiftçœ‹é½ï¼ŒæŠ›å¼ƒhtmlï¼Œpugå‡çº§ç‰ˆï¼Œè¿›æ¥çœ‹çœ‹æ–°è¯­æ³•å§]]></title>    <link>https://juejin.cn/post/7580287383788585003</link>    <guid>https://juejin.cn/post/7580287383788585003</guid>    <pubDate>2025-12-06T18:48:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580287383788585003" data-draft-id="7580282751628541993" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vueä¹Ÿæ”¯æŒå£°æ˜å¼UIäº†ï¼Œå‘ç§»åŠ¨ç«¯kotlinï¼Œswiftçœ‹é½ï¼ŒæŠ›å¼ƒhtmlï¼Œpugå‡çº§ç‰ˆï¼Œè¿›æ¥çœ‹çœ‹æ–°è¯­æ³•å§"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯æ¡†æ¶,JavaScript"/> <meta itemprop="datePublished" content="2025-12-06T18:48:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="alamhubb"/> <meta itemprop="url" content="https://juejin.cn/user/3263006244085480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vueä¹Ÿæ”¯æŒå£°æ˜å¼UIäº†ï¼Œå‘ç§»åŠ¨ç«¯kotlinï¼Œswiftçœ‹é½ï¼ŒæŠ›å¼ƒhtmlï¼Œpugå‡çº§ç‰ˆï¼Œè¿›æ¥çœ‹çœ‹æ–°è¯­æ³•å§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3263006244085480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    alamhubb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T18:48:59.000Z" title="Sat Dec 06 2025 18:48:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¼—æ‰€å‘¨çŸ¥ï¼Œæ–°ç”Ÿä»£çš„uiæ¡†æ¶(å¦‚ï¼škotlinï¼Œswiftï¼Œflutterï¼Œé¸¿è’™ï¼‰éƒ½å·²ç»æŠ›å¼ƒäº†XMLè¿™ç±»çš„ç»“æ„åŒ–æ•°æ®æ ‡è®°è¯­è¨€æ”¹ä¸ºä½¿ç”¨å£°æ˜å¼UI</h3>
<h3 data-id="heading-1">åªæœ‰webç«¯è¿˜æ²¡æœ‰æ”¯æŒæ­¤ç±»uiè¯­æ³•ï¼Œæ­¤æ¬¡æˆ‘å¼€å‘çš„ovsjsä¸ºå‰ç«¯ä¹Ÿå¸¦æ¥äº†æ­¤ç±»å£°æ˜å¼UIè¯­æ³•çš„æ”¯æŒï¼Œè¯­æ³•å¦‚ä¸‹</h3>
<p>é¡¹ç›®åœ°å€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falamhubb%2Fovsjs%2Fblob%2Fmaster%2Fcreate-ovs%2Ftemplate%2Fsrc%2Fcomponents%2FHelloWorld.ovs" target="_blank" title="https://github.com/alamhubb/ovsjs/blob/master/create-ovs/template/src/components/HelloWorld.ovs" ref="nofollow noopener noreferrer">github.com/alamhubb/ovâ€¦</a></p>
<p>è¯­æ³•æ’ä»¶åœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3Dalamhubb.ovs-language" target="_blank" title="https://marketplace.visualstudio.com/items?itemName=alamhubb.ovs-language" ref="nofollow noopener noreferrer">marketplace.visualstudio.com/items?itemNâ€¦</a></p>
<p>æ–°è¯­æ³•å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efc71a9cd726463d9c09dd87ada39af5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWxhbWh1YmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765651739&amp;x-signature=HytTfoABauafpjfcO3q1QVmynUg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">æˆ‘è®¤ä¸ºæ›´å¼ºçš„åœ°æ–¹æ˜¯æˆ‘çš„æ–°è®¾è®¡é™¤äº†ä¸ºå‰ç«¯å¸¦æ¥äº†å£°æ˜å¼UIï¼Œè¿˜æ”¯æŒäº† #{ } ä¸æ¸²æŸ“ä»£ç å—çš„è®¾è®¡ï¼Œæ”¯æŒåœ¨ å£°æ˜å¼UIä¸­ç¼–å†™ä»£ç ï¼Œè¿™æ ·UIå’Œé€»è¾‘ä¹‹é—´çš„è·ç¦»æ›´è¿‘ï¼Œç»´æŠ¤æ›´æ–¹ä¾¿ï¼ŒæŠ½è±¡ç»„ä»¶ä¹Ÿæ›´å®¹æ˜“</h3>
<h3 data-id="heading-3">å¯¹æ¯”kotlinï¼Œswiftï¼Œflutterï¼Œé¸¿è’™è¯­æ³•å¦‚ä¸‹ï¼š</h3>
<p>kotlinçš„è¯­æ³•</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.browser.*
<span class="hljs-keyword">import</span> kotlinx.html.*
<span class="hljs-keyword">import</span> kotlinx.html.dom.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    document.body!!.append.div {
        h1 {
            +<span class="hljs-string">"Welcome to Kotlin/JS!"</span>
        }
        p {
            +<span class="hljs-string">"Fancy joining this year's "</span>
            a(<span class="hljs-string">"https://kotlinconf.com/"</span>) {
                +<span class="hljs-string">"KotlinConf"</span>
            }
            +<span class="hljs-string">"?"</span>
        }
    }
}
</code></pre>
<p>swiftUIçš„è¯­æ³•</p>
<pre><code class="hljs language-scss" lang="scss">import SwiftUI

struct ContentView: View {
    <span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">body</span>: some View {
        <span class="hljs-built_in">VStack</span>(spacing: <span class="hljs-number">16</span>) {
            Text("Hello SwiftUI")
                <span class="hljs-selector-class">.font</span>(.largeTitle)
                <span class="hljs-selector-class">.fontWeight</span>(.bold)

            Text("Welcome to SwiftUI world")

            <span class="hljs-selector-tag">Button</span>("Click Me") {
                <span class="hljs-built_in">print</span>("Button clicked")
            }
        }
        <span class="hljs-selector-class">.padding</span>()
    }
}
</code></pre>
<p>flutterçš„è¯­æ³•</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">MyApp</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">StatelessWidget</span> {
  <span class="hljs-selector-tag">const</span> <span class="hljs-selector-tag">MyApp</span>({<span class="hljs-selector-tag">super</span><span class="hljs-selector-class">.key</span>});

  @<span class="hljs-selector-tag">override</span>
  <span class="hljs-selector-tag">Widget</span> <span class="hljs-selector-tag">build</span>(BuildContext context) {
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">MaterialApp</span>(
      <span class="hljs-attribute">home</span>: <span class="hljs-built_in">Scaffold</span>(
        <span class="hljs-attribute">body</span>: <span class="hljs-built_in">Center</span>(
          <span class="hljs-attribute">child</span>: <span class="hljs-built_in">Column</span>(
            <span class="hljs-attribute">mainAxisSize</span>: MainAxisSize.min,
            <span class="hljs-attribute">children</span>: [
              const <span class="hljs-built_in">Text</span>(
                <span class="hljs-string">"Hello Flutter"</span>,
                <span class="hljs-attribute">style</span>: <span class="hljs-built_in">TextStyle</span>(<span class="hljs-attribute">fontSize</span>: <span class="hljs-number">28</span>, <span class="hljs-attribute">fontWeight</span>: FontWeight.bold),
              ),
              const <span class="hljs-built_in">SizedBox</span>(<span class="hljs-attribute">height</span>: <span class="hljs-number">12</span>),
              const <span class="hljs-built_in">Text</span>(<span class="hljs-string">"Welcome to Flutter world"</span>),
              const <span class="hljs-built_in">SizedBox</span>(<span class="hljs-attribute">height</span>: <span class="hljs-number">16</span>),
              <span class="hljs-built_in">ElevatedButton</span>(
                <span class="hljs-attribute">onPressed</span>: () {
                  <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button clicked"</span>);
                },
                <span class="hljs-attribute">child</span>: const <span class="hljs-built_in">Text</span>(<span class="hljs-string">"Click Me"</span>),
              )
            ],
          ),
        ),
      ),
    );
  }
}
</code></pre>
<p>é¸¿è’™ arkts</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Entry</span>
<span class="hljs-variable">@Component</span>
struct Index {
  <span class="hljs-variable">@State</span> <span class="hljs-attribute">message</span>: string = <span class="hljs-string">'Hello ArkUI'</span>

  <span class="hljs-built_in">build</span>() {
    <span class="hljs-selector-tag">Column</span>() {
      <span class="hljs-selector-tag">Text</span>(this.message)
        <span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">28</span>)
        <span class="hljs-selector-class">.fontWeight</span>(FontWeight.Bold)

      <span class="hljs-selector-tag">Text</span>(<span class="hljs-string">'Welcome to HarmonyOS'</span>)
        <span class="hljs-selector-class">.margin</span>({ <span class="hljs-attribute">top</span>: <span class="hljs-number">12</span> })

      <span class="hljs-selector-tag">Button</span>(<span class="hljs-string">'Click Me'</span>)
        <span class="hljs-selector-class">.margin</span>({ <span class="hljs-attribute">top</span>: <span class="hljs-number">16</span> })
        <span class="hljs-selector-class">.onClick</span>(() =&gt; {
          <span class="hljs-selector-tag">console</span><span class="hljs-selector-class">.log</span>(<span class="hljs-string">'Button clicked'</span>)
        })
    }
    <span class="hljs-selector-class">.padding</span>(<span class="hljs-number">20</span>)
  }
}
</code></pre>
<h3 data-id="heading-4">åŸç†å®ç°</h3>
<p>ç®€è¿°ä¸€ä¸‹å®ç°åŸç†ï¼Œå°±æ˜¯é€šè¿‡parseræ”¯æŒäº†æ–°è¯­æ³•ï¼Œç„¶åå°†æ–°è¯­æ³•è½¬ä¹‰ä¸º iifeåŒ…è£¹çš„vueçš„hå‡½æ•°</p>
<p>ä¸ºä»€ä¹ˆè¦iifeåŒ…è£¹</p>
<p>å› ä¸ºè¦æ”¯æŒä¸æ¸²æŸ“ä»£ç å—</p>
<h3 data-id="heading-5">ovså›¾ä¸­çš„ä»£ç å¯¹åº”çš„ç¼–è¯‘åçš„ä»£ç æ˜¯è¿™æ ·çš„</h3>
<pre><code class="hljs language-php" lang="php">import {defineOvsComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">"/@fs/D:/project/qkyproject/test-volar/ovs/ovs-runtime/src/index.ts"</span>;
import {<span class="hljs-variable">$OvsHtmlTag</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"/@fs/D:/project/qkyproject/test-volar/ovs/ovs-runtime/src/index.ts"</span>;
import {ref} <span class="hljs-keyword">from</span> <span class="hljs-string">"/node_modules/.vite/deps/vue.js?v=76ca4127"</span>;
export <span class="hljs-keyword">default</span> <span class="hljs-title function_ invoke__">defineOvsComponent</span>(props =&gt; {
  <span class="hljs-keyword">const</span> msg = <span class="hljs-string">"You did it!"</span>;
  let count = <span class="hljs-title function_ invoke__">ref</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> timer = <span class="hljs-title function_ invoke__">setInterval</span>(() =&gt; {
    count.value = count.value + <span class="hljs-number">1</span>;
  },<span class="hljs-number">1000</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-variable">$OvsHtmlTag</span>.<span class="hljs-title function_ invoke__">div</span>({<span class="hljs-attr">class</span>:<span class="hljs-string">'greetings'</span>,<span class="hljs-title function_ invoke__">onClick</span>(){
    count.value = <span class="hljs-number">0</span>;
  }},[
    <span class="hljs-variable">$OvsHtmlTag</span>.<span class="hljs-title function_ invoke__">h1</span>({<span class="hljs-attr">class</span>:<span class="hljs-string">'green'</span>},[msg]),
    count,
    <span class="hljs-variable">$OvsHtmlTag</span>.<span class="hljs-title function_ invoke__">h3</span>({},[
      <span class="hljs-string">"You've successfully created a project with "</span>,
      <span class="hljs-variable">$OvsHtmlTag</span>.<span class="hljs-title function_ invoke__">a</span>({<span class="hljs-attr">href</span>:<span class="hljs-string">'https://vite.dev/'</span>,<span class="hljs-attr">target</span>:<span class="hljs-string">'_blank'</span>,<span class="hljs-attr">rel</span>:<span class="hljs-string">'noopener'</span>},[<span class="hljs-string">'Vite'</span>]),
      <span class="hljs-string">' + '</span>,
      <span class="hljs-variable">$OvsHtmlTag</span>.<span class="hljs-title function_ invoke__">a</span>({<span class="hljs-attr">href</span>:<span class="hljs-string">'https://vuejs.org/'</span>,<span class="hljs-attr">target</span>:<span class="hljs-string">'_blank'</span>,<span class="hljs-attr">rel</span>:<span class="hljs-string">'noopener'</span>},[<span class="hljs-string">'Vue 3'</span>]),
      <span class="hljs-string">' + '</span>,
      <span class="hljs-variable">$OvsHtmlTag</span>.<span class="hljs-title function_ invoke__">a</span>({<span class="hljs-attr">href</span>:<span class="hljs-string">'https://github.com/alamhubb/ovsjs'</span>,<span class="hljs-attr">target</span>:<span class="hljs-string">'_blank'</span>,<span class="hljs-attr">rel</span>:<span class="hljs-string">'noopener'</span>},[<span class="hljs-string">'OVS'</span>]),
      <span class="hljs-string">'.'</span>
    ])
  ]);
});
</code></pre>
<p>parseræ˜¯æˆ‘è‡ªå·±å†™çš„ï¼ŒæŠ„äº† chevortain çš„è®¾è®¡ï¼Œå†™äº†ä¸ªsubhutiï¼Œæ”¯æŒå®šä¹‰pegè¯­æ³•</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falamhubb%2Fovsjs%2Ftree%2Fmaster%2Fsubhutigithub.com%2Falamhubb%2Fovsjs%2Ftree%2Fmaster%2Fsubhuti" target="_blank" title="https://github.com/alamhubb/ovsjs/tree/master/subhutigithub.com/alamhubb/ovsjs/tree/master/subhuti" ref="nofollow noopener noreferrer">github.com/alamhubb/ovâ€¦</a></p>
<p>slimeparserï¼Œæ”¯æŒes2025è¯­æ³•çš„parserï¼ŒåŸºäºsubhutiï¼Œå£°æ˜es2025è¯­æ³•å°±è¡Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falamhubb%2Fovsjs%2Ftree%2Fmaster%2Fslimegithub.com%2Falamhubb%2Fovsjs%2Ftree%2Fmaster%2Fslime" target="_blank" title="https://github.com/alamhubb/ovsjs/tree/master/slimegithub.com/alamhubb/ovsjs/tree/master/slime" ref="nofollow noopener noreferrer">github.com/alamhubb/ovâ€¦</a></p>
<p>ç„¶åå°±æ˜¯ovsç»§æ‰¿slimeparserï¼Œæ·»åŠ äº†ovsçš„è¯­æ³•æ”¯æŒï¼Œå¹¶ä¸”åœ¨astç”Ÿæˆçš„æ—¶å€™å°†ä»£ç è½¬ä¸ºvueçš„æ¸²æŸ“å‡½æ•°ï¼Œè¿è¡Œæ—¶å°±æ˜¯è¿è¡Œçš„vueçš„æ¸²æŸ“å‡½æ•°çš„ä»£ç ï¼Œæ‰€ä»¥å®Œç¾æ”¯æŒvueçš„ç”Ÿæ€</p>
<p>æ„Ÿå…´è¶£çš„å¯ä»¥è¯•è¯•ï¼Œå…¥é—¨æ•™ç¨‹</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falamhubb%2Fovsjs%2Fblob%2Fmaster%2FREADME.mdgithub.com%2Falamhubb%2Fovsjs%2Fblob%2Fmaster%2FREADME.md" target="_blank" title="https://github.com/alamhubb/ovsjs/blob/master/README.mdgithub.com/alamhubb/ovsjs/blob/master/README.md" ref="nofollow noopener noreferrer">github.com/alamhubb/ovâ€¦</a></p>
<h3 data-id="heading-6">ç”±äºæœ¬äººèƒ½åŠ›æœ‰å…ˆï¼Œæ–‡ä¸­å­˜åœ¨é”™è¯¯ä¸è¶³ä¹‹å¤„ï¼Œè¯·å¤§å®¶æŒ‡æ­£ï¼Œæœ‰å¯¹æ–°è¯­æ³•æ„Ÿå…´è¶£çš„æ¬¢è¿ç•™è¨€å’Œæˆ‘äº¤æµ</h3></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIçœŸå¥½ç©ç³»åˆ—-Three.jsæ‰‹åŠ¿æ§åˆ¶æ¸¸æˆå¼€å‘æ•™ç¨‹ | Interactive Game Development with Three.js Hand Con]]></title>    <link>https://juejin.cn/post/7580287383788503083</link>    <guid>https://juejin.cn/post/7580287383788503083</guid>    <pubDate>2025-12-06T16:10:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580287383788503083" data-draft-id="7580287383788486699" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIçœŸå¥½ç©ç³»åˆ—-Three.jsæ‰‹åŠ¿æ§åˆ¶æ¸¸æˆå¼€å‘æ•™ç¨‹ | Interactive Game Development with Three.js Hand Con"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-06T16:10:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="tangdou369098655"/> <meta itemprop="url" content="https://juejin.cn/user/1852021345630839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIçœŸå¥½ç©ç³»åˆ—-Three.jsæ‰‹åŠ¿æ§åˆ¶æ¸¸æˆå¼€å‘æ•™ç¨‹ | Interactive Game Development with Three.js Hand Con
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1852021345630839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    tangdou369098655
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T16:10:59.000Z" title="Sat Dec 06 2025 16:10:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‘¨æœ«çš„æ·±å¤œï¼Œç¡ä¸ç€è§‰ï¼Œé—²æ¥æ— äº‹ï¼Œæ‰“å¼€Geminiå“ˆåŸºç±³ç©ä¸€æŠŠï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šå›¾çœ‹æœ€ç»ˆæ•ˆæœ~</p>
<p>ç¢ç¢å¿µï¼šæˆ‘å¾ˆæƒ³ä¸Šä¼ è§†é¢‘ï¼Œä½†æ˜¯å¥½åƒæœ‰çš„åšå®¢ä¸æ”¯æŒï¼Œè¿™é‡Œå…ˆæ”¾ä¸ªå›¾ç‰‡</p>
<p>è§†é¢‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1Pt2RB1EkS%3Ft%3D2.4" target="_blank" title="https://www.bilibili.com/video/BV1Pt2RB1EkS?t=2.4" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1Ptâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef70293a8f7f487cbc94404a8e342338~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdGFuZ2RvdTM2OTA5ODY1NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765642259&amp;x-signature=vAuLVjwyb75RnPvbbnEGWke7frE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33c40775a9fc46ce88940d38585be56e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdGFuZ2RvdTM2OTA5ODY1NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765642259&amp;x-signature=fiBz%2BpODTnpno8UaqHAi52kSptU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">ğŸ’– æç¤ºè¯</h2>
<pre><code class="hljs language-arduino" lang="arduino">è¯·ä½¿ç”¨Three.jsï¼Œåˆ›å»ºä¸€ä¸ªå®Œæ•´çš„<span class="hljs-string">"æ‰‹åŠ¿ç©æ¸¸æˆ"</span><span class="hljs-number">3</span>Däº¤äº’æ¸¸æˆç½‘é¡µã€‚
</code></pre>
<h2 data-id="heading-1">ğŸ“š é¡¹ç›®ä»£ç ï¼ˆé¡¹ç›®å‰–æå’Œç®€ä»‹éƒ½åœ¨ä¸‹é¢å“¦ï¼‰</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Three.js æ‰‹åŠ¿æ§åˆ¶æ¸¸æˆ - å¤ªç©ºæ•æ‰‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#000</span>; <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Arial'</span>, sans-serif; }
        <span class="hljs-selector-id">#canvas-container</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>; <span class="hljs-attribute">display</span>: block; }
        <span class="hljs-selector-id">#video-container</span> {
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">160px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;
            <span class="hljs-attribute">z-index</span>: <span class="hljs-number">100</span>;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00ffcc</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">overflow</span>: hidden;
            <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.7</span>;
        }
        <span class="hljs-selector-id">#input-video</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleX</span>(-<span class="hljs-number">1</span>); <span class="hljs-comment">/* é•œåƒç¿»è½¬ï¼Œè®©æ“ä½œæ›´ç›´è§‚ */</span>
            <span class="hljs-attribute">object-fit</span>: cover;
        }
        <span class="hljs-selector-id">#ui-layer</span> {
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">right</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
            <span class="hljs-attribute">text-align</span>: right;
            <span class="hljs-attribute">pointer-events</span>: none;
        }
        <span class="hljs-selector-tag">h1</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>; <span class="hljs-attribute">text-transform</span>: uppercase; <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">2px</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#00ffcc</span>; }
        <span class="hljs-selector-id">#score-board</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>; <span class="hljs-attribute">font-weight</span>: bold; }
        <span class="hljs-selector-id">#loading</span> {
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>; <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.8</span>);
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">text-align</span>: center;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å¼•å…¥ Three.js --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¼•å…¥ MediaPipe Hands --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">"anonymous"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">"anonymous"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">"anonymous"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">"anonymous"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 3D åœºæ™¯å®¹å™¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"canvas-container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ‘„åƒå¤´é¢„è§ˆ (ç”¨äºç¡®è®¤æ‰‹åŠ¿) --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"video-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"input-video"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- UI ç•Œé¢ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"ui-layer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Cosmic Catcher<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Score<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"score-board"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loading"</span>&gt;</span>æ­£åœ¨åŠ è½½ AI æ¨¡å‹å’Œæ‘„åƒå¤´...<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>è¯·å…è®¸æ‘„åƒå¤´æƒé™<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// --- æ¸¸æˆçŠ¶æ€ ---</span>
        <span class="hljs-keyword">let</span> score = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">let</span> gameRunning = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">const</span> sceneWidth = <span class="hljs-number">20</span>; <span class="hljs-comment">// æ¸¸æˆä¸–ç•Œçš„å®½åº¦èŒƒå›´</span>
        <span class="hljs-keyword">const</span> playerY = -<span class="hljs-number">8</span>;
        
        <span class="hljs-comment">// --- 1. Three.js åœºæ™¯è®¾ç½® ---</span>
        <span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
        scene.<span class="hljs-property">background</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-number">0x1a1a2e</span>);
        <span class="hljs-comment">// æ·»åŠ ä¸€äº›è¿·é›¾å¢åŠ æ·±é‚ƒæ„Ÿ</span>
        scene.<span class="hljs-property">fog</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">FogExp2</span>(<span class="hljs-number">0x1a1a2e</span>, <span class="hljs-number">0.03</span>);

        <span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(<span class="hljs-number">75</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1000</span>);
        camera.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">10</span>;
        camera.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-number">2</span>;
        camera.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

        <span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span> });
        renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'canvas-container'</span>).<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);

        <span class="hljs-comment">// ç¯å…‰</span>
        <span class="hljs-keyword">const</span> ambientLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AmbientLight</span>(<span class="hljs-number">0xffffff</span>, <span class="hljs-number">0.5</span>);
        scene.<span class="hljs-title function_">add</span>(ambientLight);
        
        <span class="hljs-keyword">const</span> dirLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">DirectionalLight</span>(<span class="hljs-number">0xffffff</span>, <span class="hljs-number">0.8</span>);
        dirLight.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">7</span>);
        scene.<span class="hljs-title function_">add</span>(dirLight);

        <span class="hljs-comment">// --- 2. åˆ›å»ºæ¸¸æˆå¯¹è±¡ ---</span>
        
        <span class="hljs-comment">// ç©å®¶ (æ»‘å—)</span>
        <span class="hljs-keyword">const</span> playerGeometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BoxGeometry</span>(<span class="hljs-number">3</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">const</span> playerMaterial = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshPhongMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ffcc</span>, <span class="hljs-attr">emissive</span>: <span class="hljs-number">0x004444</span> });
        <span class="hljs-keyword">const</span> player = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(playerGeometry, playerMaterial);
        player.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = playerY;
        scene.<span class="hljs-title function_">add</span>(player);

        <span class="hljs-comment">// æ‰è½ç‰©ç®¡ç†å™¨</span>
        <span class="hljs-keyword">const</span> fallingObjects = [];
        <span class="hljs-keyword">const</span> objectGeometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">IcosahedronGeometry</span>(<span class="hljs-number">0.6</span>, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">const</span> objectMaterial = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshPhongMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xff0055</span>, <span class="hljs-attr">shininess</span>: <span class="hljs-number">100</span> });

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">spawnObject</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">if</span> (!gameRunning) <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(objectGeometry, objectMaterial.<span class="hljs-title function_">clone</span>());
            <span class="hljs-comment">// éšæœºé¢œè‰²</span>
            obj.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">setHSL</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(), <span class="hljs-number">1.0</span>, <span class="hljs-number">0.5</span>);
            
            <span class="hljs-comment">// éšæœº X ä½ç½®</span>
            obj.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * sceneWidth; 
            obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-number">10</span>; <span class="hljs-comment">// ä»ä¸Šæ–¹æ‰è½</span>
            obj.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">0</span>;
            
            <span class="hljs-comment">// éšæœºæ—‹è½¬é€Ÿåº¦</span>
            obj.<span class="hljs-property">userData</span> = {
                <span class="hljs-attr">rotSpeed</span>: {
                    <span class="hljs-attr">x</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">0.1</span>,
                    <span class="hljs-attr">y</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">0.1</span>
                },
                <span class="hljs-attr">speed</span>: <span class="hljs-number">0.1</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">0.1</span> <span class="hljs-comment">// æ‰è½é€Ÿåº¦</span>
            };
            
            scene.<span class="hljs-title function_">add</span>(obj);
            fallingObjects.<span class="hljs-title function_">push</span>(obj);
        }

        <span class="hljs-comment">// --- 3. MediaPipe Hands è®¾ç½® (æ‰‹åŠ¿è¯†åˆ«) ---</span>
        <span class="hljs-keyword">const</span> videoElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'input-video'</span>);
        <span class="hljs-keyword">const</span> loadingElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'loading'</span>);

        <span class="hljs-comment">// æ˜ å°„å‡½æ•°ï¼šå°†è§†é¢‘ä¸­çš„åæ ‡ (0-1) æ˜ å°„åˆ° 3D åœºæ™¯åæ ‡ (-10 åˆ° 10)</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">mapRange</span>(<span class="hljs-params">value, inMin, inMax, outMin, outMax</span>) {
            <span class="hljs-keyword">return</span> (value - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;
        }

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onResults</span>(<span class="hljs-params">results</span>) {
            loadingElement.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
            <span class="hljs-keyword">if</span> (!gameRunning) gameRunning = <span class="hljs-literal">true</span>;

            <span class="hljs-keyword">if</span> (results.<span class="hljs-property">multiHandLandmarks</span> &amp;&amp; results.<span class="hljs-property">multiHandLandmarks</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// è·å–ç¬¬ä¸€åªæ‰‹</span>
                <span class="hljs-keyword">const</span> landmarks = results.<span class="hljs-property">multiHandLandmarks</span>[<span class="hljs-number">0</span>];
                
                <span class="hljs-comment">// è·å–é£ŸæŒ‡æŒ‡å°– (ç´¢å¼•ä¸º 8)</span>
                <span class="hljs-keyword">const</span> indexFingerTip = landmarks[<span class="hljs-number">8</span>];
                
                <span class="hljs-comment">// MediaPipe çš„ x åæ ‡æ˜¯ 0(å·¦) åˆ° 1(å³)ã€‚</span>
                <span class="hljs-comment">// æ³¨æ„ï¼šæˆ‘ä»¬åœ¨ CSS é‡Œé•œåƒç¿»è½¬äº†è§†é¢‘ï¼Œä½†æ•°æ®æœ¬èº«æ²¡æœ‰ç¿»è½¬ã€‚</span>
                <span class="hljs-comment">// åœ¨æ¸¸æˆé‡Œï¼Œä¸ºäº†ç›´è§‚ï¼Œå¦‚æœä½ å‘å³ç§»æ‰‹ï¼Œæˆ‘ä»¬å¸Œæœ› x å˜å¤§ã€‚</span>
                <span class="hljs-comment">// åŸç”Ÿæ•°æ®ï¼šå±å¹•å·¦è¾¹æ˜¯0ï¼Œå³è¾¹æ˜¯1ã€‚</span>
                <span class="hljs-comment">// æ˜ å°„åˆ° 3D åœºæ™¯ï¼šx ä» -10 åˆ° 10ã€‚</span>
                
                <span class="hljs-comment">// å¹³æ»‘ç§»åŠ¨ (Lerp) ä»¥å‡å°‘æŠ–åŠ¨</span>
                <span class="hljs-keyword">const</span> targetX = <span class="hljs-title function_">mapRange</span>(<span class="hljs-number">1</span> - indexFingerTip.<span class="hljs-property">x</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, -sceneWidth/<span class="hljs-number">2</span>, sceneWidth/<span class="hljs-number">2</span>); <span class="hljs-comment">// 1-x å› ä¸ºè‡ªæ‹æ¨¡å¼é€šå¸¸æ˜¯é•œåƒ</span>
                player.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> += (targetX - player.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>) * <span class="hljs-number">0.2</span>;
            }
        }

        <span class="hljs-keyword">const</span> hands = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hands</span>({<span class="hljs-attr">locateFile</span>: <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">`https://cdn.jsdelivr.net/npm/@mediapipe/hands/<span class="hljs-subst">${file}</span>`</span>;
        }});

        hands.<span class="hljs-title function_">setOptions</span>({
            <span class="hljs-attr">maxNumHands</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">modelComplexity</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">minDetectionConfidence</span>: <span class="hljs-number">0.5</span>,
            <span class="hljs-attr">minTrackingConfidence</span>: <span class="hljs-number">0.5</span>
        });
        hands.<span class="hljs-title function_">onResults</span>(onResults);

        <span class="hljs-keyword">const</span> cameraUtils = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Camera</span>(videoElement, {
            <span class="hljs-attr">onFrame</span>: <span class="hljs-keyword">async</span> () =&gt; {
                <span class="hljs-keyword">await</span> hands.<span class="hljs-title function_">send</span>({<span class="hljs-attr">image</span>: videoElement});
            },
            <span class="hljs-attr">width</span>: <span class="hljs-number">320</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">240</span>
        });
        cameraUtils.<span class="hljs-title function_">start</span>();

        <span class="hljs-comment">// --- 4. æ¸¸æˆä¸»å¾ªç¯ ---</span>
        <span class="hljs-keyword">const</span> scoreEl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'score-board'</span>);
        <span class="hljs-keyword">let</span> frameCount = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">requestAnimationFrame</span>(animate);

            <span class="hljs-keyword">if</span> (gameRunning) {
                frameCount++;
                <span class="hljs-comment">// æ¯ 60 å¸§ç”Ÿæˆä¸€ä¸ªæ–°ç‰©ä½“</span>
                <span class="hljs-keyword">if</span> (frameCount % <span class="hljs-number">60</span> === <span class="hljs-number">0</span>) {
                    <span class="hljs-title function_">spawnObject</span>();
                }

                <span class="hljs-comment">// æ›´æ–°æ‰è½ç‰©</span>
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = fallingObjects.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
                    <span class="hljs-keyword">const</span> obj = fallingObjects[i];
                    obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> -= obj.<span class="hljs-property">userData</span>.<span class="hljs-property">speed</span>;
                    obj.<span class="hljs-property">rotation</span>.<span class="hljs-property">x</span> += obj.<span class="hljs-property">userData</span>.<span class="hljs-property">rotSpeed</span>.<span class="hljs-property">x</span>;
                    obj.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> += obj.<span class="hljs-property">userData</span>.<span class="hljs-property">rotSpeed</span>.<span class="hljs-property">y</span>;

                    <span class="hljs-comment">// ç¢°æ’æ£€æµ‹ (ç®€å•çš„ AABB æˆ– è·ç¦»æ£€æµ‹)</span>
                    <span class="hljs-comment">// æ£€æŸ¥ Y è½´é«˜åº¦æ˜¯å¦åˆ°è¾¾ç©å®¶é«˜åº¦</span>
                    <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> &lt; playerY + <span class="hljs-number">1</span> &amp;&amp; obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> &gt; playerY - <span class="hljs-number">1</span>) {
                        <span class="hljs-comment">// æ£€æŸ¥ X è½´è·ç¦»</span>
                        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(obj.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> - player.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>) &lt; <span class="hljs-number">2.0</span>) {
                            <span class="hljs-comment">// æ¥ä½äº†ï¼</span>
                            score += <span class="hljs-number">10</span>;
                            scoreEl.<span class="hljs-property">innerText</span> = score;
                            
                            <span class="hljs-comment">// ç‰¹æ•ˆï¼šç©å®¶å‘å…‰ä¸€ä¸‹</span>
                            player.<span class="hljs-property">material</span>.<span class="hljs-property">emissive</span>.<span class="hljs-title function_">setHex</span>(<span class="hljs-number">0xffffff</span>);
                            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> player.<span class="hljs-property">material</span>.<span class="hljs-property">emissive</span>.<span class="hljs-title function_">setHex</span>(<span class="hljs-number">0x004444</span>), <span class="hljs-number">100</span>);

                            <span class="hljs-comment">// ç§»é™¤ç‰©ä½“</span>
                            scene.<span class="hljs-title function_">remove</span>(obj);
                            fallingObjects.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
                            <span class="hljs-keyword">continue</span>;
                        }
                    }

                    <span class="hljs-comment">// æ‰å‡ºå±å¹•</span>
                    <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> &lt; -<span class="hljs-number">10</span>) {
                        scene.<span class="hljs-title function_">remove</span>(obj);
                        fallingObjects.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
                    }
                }
            }

            renderer.<span class="hljs-title function_">render</span>(scene, camera);
        }

        <span class="hljs-comment">// çª—å£å¤§å°è°ƒæ•´é€‚é…</span>
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
            camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
            camera.<span class="hljs-title function_">updateProjectionMatrix</span>();
            renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
        });

        <span class="hljs-title function_">animate</span>();

    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-2">ğŸŒŸ é¡¹ç›®ç®€ä»‹ | Project Introduction</h2>
<p>è¿™æ˜¯ä¸€ä¸ªåŸºäº Three.js å’Œ MediaPipe Hands æ„å»ºçš„å‰ç«¯äº¤äº’å¼æ¸¸æˆé¡¹ç›®ã€‚é€šè¿‡æ‘„åƒå¤´æ•æ‰ä½ çš„æ‰‹åŠ¿ï¼Œä½ å¯ä»¥ç›´æ¥ç”¨é£ŸæŒ‡æ§åˆ¶å±å¹•ä¸Šçš„å¤ªç©ºé£èˆ¹ï¼Œæ¥ä½ä»å¤©è€Œé™çš„èƒ½é‡çƒæ¥å¾—åˆ†ã€‚æ•´ä¸ªæ¸¸æˆè¿‡ç¨‹æ— éœ€ä»»ä½•ç‰©ç†æ§åˆ¶å™¨ï¼Œåªéœ€è¦ä½ çš„æ‰‹å°±å¯ä»¥å®Œæˆæ‰€æœ‰æ“ä½œï¼Œå¸¦æ¥å‰æ‰€æœªæœ‰çš„æ²‰æµ¸å¼ä½“éªŒï¼ğŸš€</p>
<h2 data-id="heading-3">ğŸ“Œ å‰ææ¡ä»¶ | Prerequisites</h2>
<ol>
<li><strong>ç°ä»£æµè§ˆå™¨</strong>: Chrome/Firefox/Safari æœ€æ–°ç‰ˆ</li>
<li><strong>æ‘„åƒå¤´è®¾å¤‡</strong>: å†…ç½®æˆ–å¤–æ¥æ‘„åƒå¤´</li>
<li><strong>åŸºç¡€ HTML/CSS/JS çŸ¥è¯†</strong>: æœ‰åŠ©äºç†è§£ä»£ç ç»“æ„</li>
</ol>
<h2 data-id="heading-4">ğŸš€ æ ¸å¿ƒæŠ€æœ¯æ ˆ | Core Technologies</h2>

























<table><thead><tr><th>æŠ€æœ¯</th><th>ç”¨é€”</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td>Three.js</td><td>WebGL 3D æ¸²æŸ“å¼•æ“</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org" target="_blank" title="https://threejs.org" ref="nofollow noopener noreferrer">threejs.org</a></td></tr><tr><td>MediaPipe</td><td>æ‰‹éƒ¨å…³é”®ç‚¹è¯†åˆ«</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fmediapipe.dev" target="_blank" title="https://mediapipe.dev" ref="nofollow noopener noreferrer">mediapipe.dev</a></td></tr><tr><td>HTML5 Canvas</td><td>3Dåœºæ™¯æ¸²æŸ“å®¹å™¨</td><td>-</td></tr></tbody></table>
<h2 data-id="heading-5">ğŸ‘ æ‰‹åŠ¿æ§åˆ¶åŸç† | Hand Control Principle</h2>
<p>é€šè¿‡ MediaPipe è·å–æ‰‹éƒ¨ 21 ä¸ªå…³é”®ç‚¹åæ ‡ï¼Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨é£ŸæŒ‡æŒ‡å°–(ç´¢å¼•8)çš„ä½ç½®ä¿¡æ¯ï¼Œå°†å…¶æ˜ å°„åˆ°3Dåœºæ™¯åæ ‡ç³»ä¸­ï¼Œå®ç°ç²¾å‡†æ§åˆ¶ã€‚</p>
<ul>
<li><strong>é£ŸæŒ‡æŒ‡å°–(Index Finger Tip)</strong>: ç´¢å¼• 8</li>
<li><strong>åæ ‡æ˜ å°„</strong>: å°†æ‘„åƒå¤´ç”»é¢åæ ‡(0-1)æ˜ å°„åˆ°æ¸¸æˆä¸–ç•Œåæ ‡(-10è‡³10)</li>
</ul>
<h2 data-id="heading-6">ğŸ§© æ ¸å¿ƒä»£ç ç‰‡æ®µ | Core Code Snippets</h2>
<h3 data-id="heading-7">1. æ¸¸æˆåœºæ™¯åˆå§‹åŒ– | Scene Initialization</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
scene.<span class="hljs-property">background</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-number">0x1a1a2e</span>);
<span class="hljs-comment">// æ·»åŠ ä¸€äº›è¿·é›¾å¢åŠ æ·±é‚ƒæ„Ÿ</span>
scene.<span class="hljs-property">fog</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">FogExp2</span>(<span class="hljs-number">0x1a1a2e</span>, <span class="hljs-number">0.03</span>);

<span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(<span class="hljs-number">75</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1000</span>);
camera.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">10</span>;
camera.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-number">2</span>;
camera.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
</code></pre>
<h3 data-id="heading-8">2. æ‰‹åŠ¿è¯†åˆ«é…ç½® | Hand Detection Configuration</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> hands = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hands</span>({<span class="hljs-attr">locateFile</span>: <span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`https://cdn.jsdelivr.net/npm/@mediapipe/hands/<span class="hljs-subst">${file}</span>`</span>;
}});

hands.<span class="hljs-title function_">setOptions</span>({
    <span class="hljs-attr">maxNumHands</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">modelComplexity</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">minDetectionConfidence</span>: <span class="hljs-number">0.5</span>,
    <span class="hljs-attr">minTrackingConfidence</span>: <span class="hljs-number">0.5</span>
});
hands.<span class="hljs-title function_">onResults</span>(onResults);
</code></pre>
<h3 data-id="heading-9">3. æ‰‹åŠ¿æ§åˆ¶é€»è¾‘ | Hand Control Logic</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">onResults</span>(<span class="hljs-params">results</span>) {
    loadingElement.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    <span class="hljs-keyword">if</span> (!gameRunning) gameRunning = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span> (results.<span class="hljs-property">multiHandLandmarks</span> &amp;&amp; results.<span class="hljs-property">multiHandLandmarks</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// è·å–ç¬¬ä¸€åªæ‰‹</span>
        <span class="hljs-keyword">const</span> landmarks = results.<span class="hljs-property">multiHandLandmarks</span>[<span class="hljs-number">0</span>];
        
        <span class="hljs-comment">// è·å–é£ŸæŒ‡æŒ‡å°– (ç´¢å¼•ä¸º 8)</span>
        <span class="hljs-keyword">const</span> indexFingerTip = landmarks[<span class="hljs-number">8</span>];
        
        <span class="hljs-comment">// MediaPipe çš„ x åæ ‡æ˜¯ 0(å·¦) åˆ° 1(å³)ã€‚</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šæˆ‘ä»¬åœ¨ CSS é‡Œé•œåƒç¿»è½¬äº†è§†é¢‘ï¼Œä½†æ•°æ®æœ¬èº«æ²¡æœ‰ç¿»è½¬ã€‚</span>
        <span class="hljs-comment">// åœ¨æ¸¸æˆé‡Œï¼Œä¸ºäº†ç›´è§‚ï¼Œå¦‚æœä½ å‘å³ç§»æ‰‹ï¼Œæˆ‘ä»¬å¸Œæœ› x å˜å¤§ã€‚</span>
        <span class="hljs-comment">// åŸç”Ÿæ•°æ®ï¼šå±å¹•å·¦è¾¹æ˜¯0ï¼Œå³è¾¹æ˜¯1ã€‚</span>
        <span class="hljs-comment">// æ˜ å°„åˆ° 3D åœºæ™¯ï¼šx ä» -10 åˆ° 10ã€‚</span>
        
        <span class="hljs-comment">// å¹³æ»‘ç§»åŠ¨ (Lerp) ä»¥å‡å°‘æŠ–åŠ¨</span>
        <span class="hljs-keyword">const</span> targetX = <span class="hljs-title function_">mapRange</span>(<span class="hljs-number">1</span> - indexFingerTip.<span class="hljs-property">x</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, -sceneWidth/<span class="hljs-number">2</span>, sceneWidth/<span class="hljs-number">2</span>); <span class="hljs-comment">// 1-x å› ä¸ºè‡ªæ‹æ¨¡å¼é€šå¸¸æ˜¯é•œåƒ</span>
        player.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> += (targetX - player.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>) * <span class="hljs-number">0.2</span>;
    }
}
</code></pre>
<h3 data-id="heading-10">4. æ¸¸æˆä¸»å¾ªç¯ | Main Game Loop</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">requestAnimationFrame</span>(animate);

    <span class="hljs-keyword">if</span> (gameRunning) {
        frameCount++;
        <span class="hljs-comment">// æ¯ 60 å¸§ç”Ÿæˆä¸€ä¸ªæ–°ç‰©ä½“</span>
        <span class="hljs-keyword">if</span> (frameCount % <span class="hljs-number">60</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-title function_">spawnObject</span>();
        }

        <span class="hljs-comment">// æ›´æ–°æ‰è½ç‰©</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = fallingObjects.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            <span class="hljs-keyword">const</span> obj = fallingObjects[i];
            obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> -= obj.<span class="hljs-property">userData</span>.<span class="hljs-property">speed</span>;
            obj.<span class="hljs-property">rotation</span>.<span class="hljs-property">x</span> += obj.<span class="hljs-property">userData</span>.<span class="hljs-property">rotSpeed</span>.<span class="hljs-property">x</span>;
            obj.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> += obj.<span class="hljs-property">userData</span>.<span class="hljs-property">rotSpeed</span>.<span class="hljs-property">y</span>;

            <span class="hljs-comment">// ç¢°æ’æ£€æµ‹ (ç®€å•çš„ AABB æˆ– è·ç¦»æ£€æµ‹)</span>
            <span class="hljs-comment">// æ£€æŸ¥ Y è½´é«˜åº¦æ˜¯å¦åˆ°è¾¾ç©å®¶é«˜åº¦</span>
            <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> &lt; playerY + <span class="hljs-number">1</span> &amp;&amp; obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> &gt; playerY - <span class="hljs-number">1</span>) {
                <span class="hljs-comment">// æ£€æŸ¥ X è½´è·ç¦»</span>
                <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(obj.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> - player.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>) &lt; <span class="hljs-number">2.0</span>) {
                    <span class="hljs-comment">// æ¥ä½äº†ï¼</span>
                    score += <span class="hljs-number">10</span>;
                    scoreEl.<span class="hljs-property">innerText</span> = score;
                    
                    <span class="hljs-comment">// ç‰¹æ•ˆï¼šç©å®¶å‘å…‰ä¸€ä¸‹</span>
                    player.<span class="hljs-property">material</span>.<span class="hljs-property">emissive</span>.<span class="hljs-title function_">setHex</span>(<span class="hljs-number">0xffffff</span>);
                    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> player.<span class="hljs-property">material</span>.<span class="hljs-property">emissive</span>.<span class="hljs-title function_">setHex</span>(<span class="hljs-number">0x004444</span>), <span class="hljs-number">100</span>);

                    <span class="hljs-comment">// ç§»é™¤ç‰©ä½“</span>
                    scene.<span class="hljs-title function_">remove</span>(obj);
                    fallingObjects.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
                    <span class="hljs-keyword">continue</span>;
                }
            }

            <span class="hljs-comment">// æ‰å‡ºå±å¹•</span>
            <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> &lt; -<span class="hljs-number">10</span>) {
                scene.<span class="hljs-title function_">remove</span>(obj);
                fallingObjects.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
            }
        }
    }

    renderer.<span class="hljs-title function_">render</span>(scene, camera);
}
</code></pre>
<h2 data-id="heading-11">ğŸ® æ¸¸æˆæœºåˆ¶ | Game Mechanics</h2>
<ol>
<li><strong>æ‰‹åŠ¿æ§åˆ¶</strong>: ä½¿ç”¨é£ŸæŒ‡æ§åˆ¶åº•éƒ¨çš„å¤ªç©ºé£èˆ¹å·¦å³ç§»åŠ¨</li>
<li><strong>ç‰©å“æ”¶é›†</strong>: æ¥ä½ä»å¤©è€Œé™çš„èƒ½é‡çƒè·å¾—åˆ†æ•°</li>
<li><strong>è§†è§‰åé¦ˆ</strong>: æˆåŠŸæ¥ä½ç‰©å“æ—¶é£èˆ¹ä¼šå‘å‡ºå…‰èŠ’</li>
<li><strong>å®æ—¶è®¡åˆ†</strong>: å³ä¸Šè§’æ˜¾ç¤ºå½“å‰å¾—åˆ†</li>
</ol>
<h2 data-id="heading-12">ğŸ› ï¸ ä½¿ç”¨æŒ‡å— | Run Guide</h2>
<h3 data-id="heading-13">æœ¬åœ°è¿è¡Œ | Local Run</h3>
<ol>
<li>å°†ä»£ç ä¿å­˜ä¸º demo02.html</li>
<li>ç”¨ç°ä»£æµè§ˆå™¨ç›´æ¥æ‰“å¼€å³å¯ï¼ˆéœ€å…è®¸æ‘„åƒå¤´æƒé™ï¼‰</li>
</ol>
<h2 data-id="heading-14">ğŸ”§ å®šåˆ¶é¡¹ | Customization Options</h2>






























<table><thead><tr><th>é¡¹ç›®</th><th>ä¿®æ”¹æ–¹æ³•</th><th>æ•ˆæœé¢„è§ˆ</th></tr></thead><tbody><tr><td>é£èˆ¹é¢œè‰²</td><td>æ›´æ”¹ <code>color: 0x00ffcc</code></td><td>ğŸŸ¢ é’è‰²é£èˆ¹ â†’ ğŸŸ£ ç´«è‰²é£èˆ¹</td></tr><tr><td>æ‰è½ç‰©æ ·å¼</td><td>ä¿®æ”¹ <code>IcosahedronGeometry</code></td><td>ğŸ”º æ­£äºŒåé¢ä½“ â†’ ğŸˆ çƒä½“</td></tr><tr><td>æ¸¸æˆéš¾åº¦</td><td>è°ƒæ•´ <code>frameCount % 60</code></td><td>ğŸŒ æ…¢é€Ÿ â†’ âš¡ å¿«é€Ÿ</td></tr><tr><td>åœºæ™¯ä¸»é¢˜</td><td>æ›´æ”¹ <code>scene.background</code></td><td>ğŸŒƒ æ·±è“ â†’ ğŸŒŒ é»‘è‰²</td></tr></tbody></table>
<h2 data-id="heading-15">ğŸ› å¸¸è§é—®é¢˜ | Troubleshooting</h2>
<ol>
<li><strong>æ‘„åƒå¤´æ— æ³•å¯åŠ¨ï¼Ÿ</strong>
<ul>
<li>æ£€æŸ¥æµè§ˆå™¨æƒé™è®¾ç½®</li>
<li>ç¡®ä¿æ²¡æœ‰å…¶ä»–ç¨‹åºå ç”¨æ‘„åƒå¤´</li>
</ul>
</li>
<li><strong>æ‰‹åŠ¿è¯†åˆ«ä¸å‡†ç¡®ï¼Ÿ</strong>
<ul>
<li>ä¿æŒæ‰‹éƒ¨åœ¨æ‘„åƒå¤´æ¸…æ™°å¯è§èŒƒå›´å†…</li>
<li>è°ƒæ•´ç¯å¢ƒå…‰çº¿é¿å…è¿‡æš—æˆ–è¿‡æ›</li>
</ul>
</li>
<li><strong>æ¸¸æˆè¿è¡Œå¡é¡¿ï¼Ÿ</strong>
<ul>
<li>é™ä½æ‰è½ç‰©ç”Ÿæˆé¢‘ç‡</li>
<li>å…³é—­å…¶ä»–å ç”¨èµ„æºçš„ç¨‹åº</li>
</ul>
</li>
</ol>
<h2 data-id="heading-16">ğŸ“š æ‰©å±•å­¦ä¹ èµ„æº | Extended Resources</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F" target="_blank" title="https://threejs.org/docs/" ref="nofollow noopener noreferrer">Three.js å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgoogle.github.io%2Fmediapipe%2Fsolutions%2Fhands.html" target="_blank" title="https://google.github.io/mediapipe/solutions/hands.html" ref="nofollow noopener noreferrer">MediaPipe Hands æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebglfundamentals.org%2F" target="_blank" title="https://webglfundamentals.org/" ref="nofollow noopener noreferrer">WebGL Fundamentals æ•™ç¨‹</a></li>
</ul>
<h2 data-id="heading-17">Conclusion | ç»“è¯­</h2>
<ul>
<li>
<p>That's all for today~ -  | ä»Šå¤©å°±å†™åˆ°è¿™é‡Œå•¦~</p>
</li>
<li>
<p>Guys, (ï¿£Ï‰ï¿£(ï¿£Ï‰ï¿£ã€ƒ (ï¿£Ï‰ï¿£ã€ƒ)ã‚ See you tomorrow~~  | å°ä¼™ä¼´ä»¬ï¼Œ(ï¿£Ï‰ï¿£(ï¿£Ï‰ï¿£ã€ƒ (ï¿£Ï‰ï¿£ã€ƒ)ã‚æˆ‘ä»¬æ˜å¤©å†è§å•¦~~</p>
</li>
<li>
<p>Everyone, be happy every day! å¤§å®¶è¦å¤©å¤©å¼€å¿ƒå“¦</p>
</li>
<li>
<p>Welcome everyone to point out any mistakes in the article~  | æ¬¢è¿å¤§å®¶æŒ‡å‡ºæ–‡ç« éœ€è¦æ”¹æ­£ä¹‹å¤„~</p>
</li>
<li>
<p>Learning has no end; win-win cooperation | å­¦æ— æ­¢å¢ƒï¼Œåˆä½œå…±èµ¢</p>
</li>
<li>
<p>Welcome all the passers-by, boys and girls, to offer better suggestions! ~~~  | æ¬¢è¿è·¯è¿‡çš„å°å“¥å“¥å°å§å§ä»¬æå‡ºæ›´å¥½çš„æ„è§å“‡~~</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b641ce5f3468410db683abc7358aba82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdGFuZ2RvdTM2OTA5ODY1NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765642259&amp;x-signature=SA755JfWiVtKdLmWz%2FqcezuCmeM%3D" alt="image" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ„å»ºVueé¡¹ç›®çš„å®Œå…¨æŒ‡å—ï¼šæ‰‹æŠŠæ‰‹æ‰“é€ ç°ä»£åŒ–å‰ç«¯å·¥ç¨‹]]></title>    <link>https://juejin.cn/post/7580373352420474906</link>    <guid>https://juejin.cn/post/7580373352420474906</guid>    <pubDate>2025-12-07T01:54:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580373352420474906" data-draft-id="7580310413754646578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ„å»ºVueé¡¹ç›®çš„å®Œå…¨æŒ‡å—ï¼šæ‰‹æŠŠæ‰‹æ‰“é€ ç°ä»£åŒ–å‰ç«¯å·¥ç¨‹"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-07T01:54:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ„å»ºVueé¡¹ç›®çš„å®Œå…¨æŒ‡å—ï¼šæ‰‹æŠŠæ‰‹æ‰“é€ ç°ä»£åŒ–å‰ç«¯å·¥ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-07T01:54:20.000Z" title="Sun Dec 07 2025 01:54:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶æ„å»ºVueé¡¹ç›®çš„å®Œå…¨æŒ‡å—ï¼šæ‰‹æŠŠæ‰‹æ‰“é€ ç°ä»£åŒ–å‰ç«¯å·¥ç¨‹</h2>
<h3 data-id="heading-1">ä¸€ã€é¡¹ç›®æ„å»ºæ•´ä½“æµç¨‹å›¾</h3>
<p>è®©æˆ‘ä»¬å…ˆçœ‹çœ‹å®Œæ•´çš„é¡¹ç›®æ„å»ºæµç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56591c1ad30a459c97e4bdce801f6e14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6L6wYWxr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765677260&amp;x-signature=okZk0SaantPqXaez0eqjnw7rkEQ%3D" alt="deepseek_mermaid_20251207_d1ddc8.png" loading="lazy"/></p>
<h3 data-id="heading-2">äºŒã€è¯¦ç»†æ„å»ºæ­¥éª¤</h3>
<h4 data-id="heading-3">æ­¥éª¤1ï¼šç¯å¢ƒå‡†å¤‡ä¸é¡¹ç›®åˆå§‹åŒ–</h4>
<p>é¦–å…ˆç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒå·²å‡†å¤‡å¥½ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">#Â æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆå»ºè®®18+ï¼‰</span>
nodeÂ -v

<span class="hljs-comment">#Â æ£€æŸ¥npmç‰ˆæœ¬</span>
npmÂ -v

<span class="hljs-comment">#Â å®‰è£…VueÂ CLIï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰</span>
npmÂ installÂ -gÂ @vue/cli

<span class="hljs-comment">#Â åˆ›å»ºæ–°é¡¹ç›®</span>
vueÂ createÂ <span class="hljs-keyword">my</span>-vue-project

<span class="hljs-comment">#Â é€‰æ‹©é…ç½®ï¼ˆæ¨èæ‰‹åŠ¨é€‰æ‹©ï¼‰</span>
?Â PleaseÂ pickÂ aÂ preset:Â 
Â Â DefaultÂ ([VueÂ <span class="hljs-number">2</span>]Â babel,Â eslint)
Â Â DefaultÂ (VueÂ <span class="hljs-number">3</span>)Â ([VueÂ <span class="hljs-number">3</span>]Â babel,Â eslint)
â¯Â ManuallyÂ <span class="hljs-keyword">select</span>Â features

<span class="hljs-comment">#Â é€‰æ‹©éœ€è¦çš„åŠŸèƒ½</span>
?Â CheckÂ theÂ featuresÂ neededÂ <span class="hljs-keyword">for</span>Â yourÂ project:
Â â—‰Â Babel
Â â—‰Â TypeScript
Â â—‰Â ProgressiveÂ WebÂ AppÂ (PWA)Â Support
Â â—‰Â Router
Â â—‰Â Vuex
Â â—‰Â CSSÂ Pre-processors
â¯â—‰Â LinterÂ /Â Formatter
Â â—¯Â UnitÂ Testing
Â â—¯Â E2EÂ Testing
</code></pre>
<h4 data-id="heading-4">æ­¥éª¤2ï¼šé¡¹ç›®ç›®å½•ç»“æ„è®¾è®¡</h4>
<p>ä¸€ä¸ªè‰¯å¥½çš„ç›®å½•ç»“æ„æ˜¯é¡¹ç›®æˆåŠŸçš„åŸºç¡€ã€‚è¿™æ˜¯æˆ‘æ¨èçš„ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">my-vue-project/
â”œâ”€â”€Â <span class="hljs-keyword">public</span>/Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â é™æ€èµ„æº</span>
â”‚Â Â Â â”œâ”€â”€Â index.html
â”‚Â Â Â â”œâ”€â”€Â favicon.ico
â”‚Â Â Â â””â”€â”€Â robots.txt
â”œâ”€â”€Â src/
â”‚Â Â Â â”œâ”€â”€Â api/Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â APIæ¥å£ç®¡ç†</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â modules/Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â æŒ‰æ¨¡å—åˆ’åˆ†çš„API</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â index.tsÂ Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â APIç»Ÿä¸€å¯¼å‡º</span>
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â request.tsÂ Â Â Â Â Â Â <span class="hljs-meta">#Â è¯·æ±‚å°è£…</span>
â”‚Â Â Â â”œâ”€â”€Â assets/Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â é™æ€èµ„æº</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â images/
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â styles/
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â fonts/
â”‚Â Â Â â”œâ”€â”€Â components/Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â å…¬å…±ç»„ä»¶</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â common/Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â å…¨å±€é€šç”¨ç»„ä»¶</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â business/Â Â Â Â Â Â Â <span class="hljs-meta">#Â ä¸šåŠ¡ç»„ä»¶</span>
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â index.tsÂ Â Â Â Â Â Â Â <span class="hljs-meta">#Â ç»„ä»¶è‡ªåŠ¨æ³¨å†Œ</span>
â”‚Â Â Â â”œâ”€â”€Â composables/Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â ç»„åˆå¼å‡½æ•°</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â useFetch.ts
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â useForm.ts
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â index.ts
â”‚Â Â Â â”œâ”€â”€Â directives/Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â è‡ªå®šä¹‰æŒ‡ä»¤</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â permission.ts
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â index.ts
â”‚Â Â Â â”œâ”€â”€Â layouts/Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â å¸ƒå±€ç»„ä»¶</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â DefaultLayout.vue
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â AuthLayout.vue
â”‚Â Â Â â”œâ”€â”€Â router/Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â è·¯ç”±é…ç½®</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â modules/Â Â Â Â Â Â Â <span class="hljs-meta">#Â è·¯ç”±æ¨¡å—</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â index.ts
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â guard.tsÂ Â Â Â Â Â <span class="hljs-meta">#Â è·¯ç”±å®ˆå«</span>
â”‚Â Â Â â”œâ”€â”€Â store/Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â Vuex/PiniaçŠ¶æ€ç®¡ç†</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â modules/Â Â Â Â Â Â Â <span class="hljs-meta">#Â æ¨¡å—åŒ–store</span>
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â index.ts
â”‚Â Â Â â”œâ”€â”€Â utils/Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â å·¥å…·å‡½æ•°</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â auth.tsÂ Â Â Â Â Â Â Â <span class="hljs-meta">#Â æƒé™ç›¸å…³</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â validate.tsÂ Â Â Â <span class="hljs-meta">#Â éªŒè¯å‡½æ•°</span>
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â index.ts
â”‚Â Â Â â”œâ”€â”€Â views/Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â é¡µé¢ç»„ä»¶</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â Home/
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â User/
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â About/
â”‚Â Â Â â”œâ”€â”€Â types/Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â TypeScriptç±»å‹å®šä¹‰</span>
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â api.d.ts
â”‚Â Â Â â”‚Â Â Â â”œâ”€â”€Â <span class="hljs-keyword">global</span>.d.ts
â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â index.d.ts
â”‚Â Â Â â”œâ”€â”€Â App.vue
â”‚Â Â Â â””â”€â”€Â main.ts
â”œâ”€â”€Â tests/Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â æµ‹è¯•æ–‡ä»¶</span>
â”œâ”€â”€Â .env.*Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â ç¯å¢ƒå˜é‡</span>
â”œâ”€â”€Â vite.config.tsÂ Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â Viteé…ç½®</span>
â”œâ”€â”€Â tsconfig.jsonÂ Â Â Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â TypeScripté…ç½®</span>
â””â”€â”€Â package.json
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤3ï¼šæ ¸å¿ƒé…ç½®è¯¦è§£</h4>
<h5 data-id="heading-6">1. é…ç½®Viteï¼ˆvite.config.tsï¼‰</h5>
<pre><code class="hljs language-php" lang="php">importÂ {Â defineConfigÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vite'</span>
importÂ vueÂ <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@vitejs/plugin-vue'</span>
importÂ pathÂ <span class="hljs-keyword">from</span>Â <span class="hljs-string">'path'</span>

<span class="hljs-title function_ invoke__">exportÂ defaultÂ defineConfig</span>({
<span class="hljs-attr">Â Â plugins</span>:Â [<span class="hljs-title function_ invoke__">vue</span>()],
<span class="hljs-attr">Â Â resolve</span>:Â {
<span class="hljs-attr">Â Â Â Â alias</span>:Â {
Â Â Â Â Â Â <span class="hljs-string">'@'</span>:Â path.<span class="hljs-title function_ invoke__">resolve</span>(__dirname,Â <span class="hljs-string">'src'</span>),
Â Â Â Â Â Â <span class="hljs-string">'@components'</span>:Â path.<span class="hljs-title function_ invoke__">resolve</span>(__dirname,Â <span class="hljs-string">'src/components'</span>),
Â Â Â Â Â Â <span class="hljs-string">'@views'</span>:Â path.<span class="hljs-title function_ invoke__">resolve</span>(__dirname,Â <span class="hljs-string">'src/views'</span>),
Â Â Â Â },
Â Â },
<span class="hljs-attr">Â Â server</span>:Â {
<span class="hljs-attr">Â Â Â Â host</span>:Â <span class="hljs-string">'0.0.0.0'</span>,
<span class="hljs-attr">Â Â Â Â port</span>:Â <span class="hljs-number">3000</span>,
<span class="hljs-attr">Â Â Â Â proxy</span>:Â {
Â Â Â Â Â Â <span class="hljs-string">'/api'</span>:Â {
<span class="hljs-attr">Â Â Â Â Â Â Â Â target</span>:Â <span class="hljs-string">'http://localhost:8080'</span>,
<span class="hljs-attr">Â Â Â Â Â Â Â Â changeOrigin</span>:Â <span class="hljs-literal">true</span>,
<span class="hljs-attr">Â Â Â Â Â Â Â Â rewrite</span>:Â (path)Â =&gt;Â path.<span class="hljs-title function_ invoke__">replace</span>(/^/api/,Â <span class="hljs-string">''</span>),
Â Â Â Â Â Â },
Â Â Â Â },
Â Â },
Â Â css:Â {
Â Â Â Â preprocessorOptions:Â {
Â Â Â Â Â Â scss:Â {
Â Â Â Â Â Â Â Â additionalData:Â `@importÂ <span class="hljs-string">"@/assets/styles/variables.scss"</span>;`,
Â Â Â Â Â Â },
Â Â Â Â },
Â Â },
})
</code></pre>
<h5 data-id="heading-7">2. è·¯ç”±é…ç½®ï¼ˆrouter/index.tsï¼‰</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span>Â {Â createRouter,Â createWebHistoryÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-keyword">type</span>Â {Â <span class="hljs-title class_">RouteRecordRaw</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vue-router'</span>

<span class="hljs-keyword">const</span>Â <span class="hljs-attr">routes</span>:Â <span class="hljs-title class_">RouteRecordRaw</span>[]Â =Â [
Â Â {
Â Â Â Â <span class="hljs-attr">path</span>:Â <span class="hljs-string">'/'</span>,
Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'Home'</span>,
Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'@views/Home/Home.vue'</span>),
Â Â Â Â <span class="hljs-attr">meta</span>:Â {
Â Â Â Â Â Â <span class="hljs-attr">title</span>:Â <span class="hljs-string">'é¦–é¡µ'</span>,
Â Â Â Â Â Â <span class="hljs-attr">requiresAuth</span>:Â <span class="hljs-literal">true</span>,
Â Â Â Â },
Â Â },
Â Â {
Â Â Â Â <span class="hljs-attr">path</span>:Â <span class="hljs-string">'/login'</span>,
Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'Login'</span>,
Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'@views/Login/Login.vue'</span>),
Â Â Â Â <span class="hljs-attr">meta</span>:Â {
Â Â Â Â Â Â <span class="hljs-attr">title</span>:Â <span class="hljs-string">'ç™»å½•'</span>,
Â Â Â Â },
Â Â },
Â Â {
Â Â Â Â <span class="hljs-attr">path</span>:Â <span class="hljs-string">'/user/:id'</span>,
Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'User'</span>,
Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'@views/User/User.vue'</span>),
Â Â Â Â <span class="hljs-attr">props</span>:Â <span class="hljs-literal">true</span>,
Â Â },
]

<span class="hljs-keyword">const</span>Â routerÂ =Â <span class="hljs-title function_">createRouter</span>({
Â Â <span class="hljs-attr">history</span>:Â <span class="hljs-title function_">createWebHistory</span>(),
Â Â routes,
})

<span class="hljs-comment">//Â è·¯ç”±å®ˆå«</span>
router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to,Â <span class="hljs-keyword">from</span>,Â next</span>)Â =&gt;</span>Â {
Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span>Â =Â to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>Â <span class="hljs-keyword">as</span>Â <span class="hljs-built_in">string</span>Â ||Â <span class="hljs-string">'Vueé¡¹ç›®'</span>
Â Â 
Â Â <span class="hljs-comment">//Â æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•</span>
Â Â <span class="hljs-keyword">if</span>Â (to.<span class="hljs-property">meta</span>.<span class="hljs-property">requiresAuth</span>Â &amp;&amp;Â !<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>))Â {
Â Â Â Â <span class="hljs-title function_">next</span>(<span class="hljs-string">'/login'</span>)
Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â <span class="hljs-title function_">next</span>()
Â Â }
})

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â router
</code></pre>
<h5 data-id="heading-8">3. çŠ¶æ€ç®¡ç†ï¼ˆä½¿ç”¨Piniaï¼‰</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//Â store/user.ts</span>
<span class="hljs-keyword">import</span>Â {Â defineStoreÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">interface</span>Â <span class="hljs-title class_">UserState</span>Â {
Â Â <span class="hljs-attr">userInfo</span>:Â {
Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-built_in">string</span>
Â Â Â Â <span class="hljs-attr">avatar</span>:Â <span class="hljs-built_in">string</span>
Â Â Â Â <span class="hljs-attr">roles</span>:Â <span class="hljs-built_in">string</span>[]
Â Â }Â |Â <span class="hljs-literal">null</span>
}

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">const</span>Â useUserStoreÂ =Â <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>,Â {
Â Â <span class="hljs-attr">state</span>:Â ():Â <span class="hljs-function"><span class="hljs-params">UserState</span>Â =&gt;</span>Â ({
Â Â Â Â <span class="hljs-attr">userInfo</span>:Â <span class="hljs-literal">null</span>,
Â Â }),
Â Â <span class="hljs-attr">actions</span>:Â {
Â Â Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">login</span>(<span class="hljs-params">credentials:Â {Â username:Â <span class="hljs-built_in">string</span>;Â password:Â <span class="hljs-built_in">string</span>Â }</span>)Â {
Â Â Â Â Â Â <span class="hljs-comment">//Â ç™»å½•é€»è¾‘</span>
Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â responseÂ =Â <span class="hljs-keyword">await</span>Â api.<span class="hljs-title function_">login</span>(credentials)
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">userInfo</span>Â =Â response.<span class="hljs-property">data</span>
Â Â Â Â Â Â <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'token'</span>,Â response.<span class="hljs-property">token</span>)
Â Â Â Â },
Â Â Â Â <span class="hljs-title function_">logout</span>(<span class="hljs-params"/>)Â {
Â Â Â Â Â Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">userInfo</span>Â =Â <span class="hljs-literal">null</span>
Â Â Â Â Â Â <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'token'</span>)
Â Â Â Â },
Â Â },
Â Â <span class="hljs-attr">getters</span>:Â {
Â Â Â Â <span class="hljs-attr">isLoggedIn</span>:Â <span class="hljs-function">(<span class="hljs-params">state</span>)Â =&gt;</span>Â !!state.<span class="hljs-property">userInfo</span>,
Â Â Â Â <span class="hljs-attr">hasRole</span>:Â <span class="hljs-function">(<span class="hljs-params">state</span>)Â =&gt;</span>Â <span class="hljs-function">(<span class="hljs-params">role:Â <span class="hljs-built_in">string</span></span>)Â =&gt;</span>Â 
Â Â Â Â Â Â state.<span class="hljs-property">userInfo</span>?.<span class="hljs-property">roles</span>.<span class="hljs-title function_">includes</span>(role)Â ||Â <span class="hljs-literal">false</span>,
Â Â },
})
</code></pre>
<h4 data-id="heading-9">æ­¥éª¤4ï¼šæ ¸å¿ƒå·¥å…·åº“å’Œæ’ä»¶é€‰æ‹©</h4>
<p>è¿™æ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­æ¨èä½¿ç”¨çš„åº“ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">{
Â Â <span class="hljs-string">"dependencies"</span>:Â {
Â Â Â Â <span class="hljs-string">"vue"</span>:Â <span class="hljs-string">"^3.3.0"</span>,
Â Â Â Â <span class="hljs-string">"vue-router"</span>:Â <span class="hljs-string">"^4.2.0"</span>,
Â Â Â Â <span class="hljs-string">"pinia"</span>:Â <span class="hljs-string">"^2.1.0"</span>,
Â Â Â Â <span class="hljs-string">"axios"</span>:Â <span class="hljs-string">"^1.4.0"</span>,
Â Â Â Â <span class="hljs-string">"element-plus"</span>:Â <span class="hljs-string">"^2.3.0"</span>,
Â Â Â Â <span class="hljs-string">"lodash-es"</span>:Â <span class="hljs-string">"^4.17.21"</span>,
Â Â Â Â <span class="hljs-string">"dayjs"</span>:Â <span class="hljs-string">"^1.11.0"</span>,
Â Â Â Â <span class="hljs-string">"vxe-table"</span>:Â <span class="hljs-string">"^4.0.0"</span>,
Â Â Â Â <span class="hljs-string">"vue-i18n"</span>:Â <span class="hljs-string">"^9.0.0"</span>
Â Â },
Â Â <span class="hljs-string">"devDependencies"</span>:Â {
Â Â Â Â <span class="hljs-string">"@vitejs/plugin-vue"</span>:Â <span class="hljs-string">"^4.2.0"</span>,
Â Â Â Â <span class="hljs-string">"@types/node"</span>:Â <span class="hljs-string">"^20.0.0"</span>,
Â Â Â Â <span class="hljs-string">"sass"</span>:Â <span class="hljs-string">"^1.62.0"</span>,
Â Â Â Â <span class="hljs-string">"eslint"</span>:Â <span class="hljs-string">"^8.0.0"</span>,
Â Â Â Â <span class="hljs-string">"prettier"</span>:Â <span class="hljs-string">"^3.0.0"</span>,
Â Â Â Â <span class="hljs-string">"husky"</span>:Â <span class="hljs-string">"^8.0.0"</span>,
Â Â Â Â <span class="hljs-string">"commitlint"</span>:Â <span class="hljs-string">"^17.0.0"</span>,
Â Â Â Â <span class="hljs-string">"vitest"</span>:Â <span class="hljs-string">"^0.30.0"</span>,
Â Â Â Â <span class="hljs-string">"unplugin-auto-import"</span>:Â <span class="hljs-string">"^0.16.0"</span>,
Â Â Â Â <span class="hljs-string">"unplugin-vue-components"</span>:Â <span class="hljs-string">"^0.25.0"</span>
Â Â }
}
</code></pre>
<h4 data-id="heading-10">æ­¥éª¤5ï¼šå®ç”¨çš„ç»„ä»¶ç¤ºä¾‹</h4>
<h5 data-id="heading-11">1. å…¨å±€è¯·æ±‚å°è£…</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//Â src/api/request.ts</span>
<span class="hljs-keyword">import</span>Â axiosÂ <span class="hljs-keyword">from</span>Â <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-keyword">type</span>Â {Â <span class="hljs-title class_">AxiosRequestConfig</span>,Â <span class="hljs-title class_">AxiosResponse</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span>Â {Â <span class="hljs-title class_">ElMessage</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'element-plus'</span>

<span class="hljs-keyword">const</span>Â serviceÂ =Â axios.<span class="hljs-title function_">create</span>({
Â Â <span class="hljs-attr">baseURL</span>:Â <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_BASE_URL</span>,
Â Â <span class="hljs-attr">timeout</span>:Â <span class="hljs-number">10000</span>,
})

<span class="hljs-comment">//Â è¯·æ±‚æ‹¦æˆªå™¨</span>
service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
Â Â <span class="hljs-function">(<span class="hljs-params">config</span>)Â =&gt;</span>Â {
Â Â Â Â <span class="hljs-keyword">const</span>Â tokenÂ =Â <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>)
Â Â Â Â <span class="hljs-keyword">if</span>Â (token)Â {
Â Â Â Â Â Â config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span>Â =Â <span class="hljs-string">`BearerÂ <span class="hljs-subst">${token}</span>`</span>
Â Â Â Â }
Â Â Â Â <span class="hljs-keyword">return</span>Â config
Â Â },
Â Â <span class="hljs-function">(<span class="hljs-params">error</span>)Â =&gt;</span>Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
Â Â }
)

<span class="hljs-comment">//Â å“åº”æ‹¦æˆªå™¨</span>
service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
Â Â <span class="hljs-function">(<span class="hljs-params">response:Â AxiosResponse</span>)Â =&gt;</span>Â {
Â Â Â Â <span class="hljs-keyword">const</span>Â {Â code,Â data,Â messageÂ }Â =Â response.<span class="hljs-property">data</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">if</span>Â (codeÂ ===Â <span class="hljs-number">200</span>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â data
Â Â Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â Â Â <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(messageÂ ||Â <span class="hljs-string">'è¯·æ±‚å¤±è´¥'</span>)
Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Error</span>(message))
Â Â Â Â }
Â Â },
Â Â <span class="hljs-function">(<span class="hljs-params">error</span>)Â =&gt;</span>Â {
Â Â Â Â <span class="hljs-keyword">if</span>Â (error.<span class="hljs-property">response</span>?.<span class="hljs-property">status</span>Â ===Â <span class="hljs-number">401</span>)Â {
Â Â Â Â Â Â <span class="hljs-comment">//Â æœªæˆæƒï¼Œè·³è½¬åˆ°ç™»å½•é¡µ</span>
Â Â Â Â Â Â <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'token'</span>)
Â Â Â Â Â Â <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>Â =Â <span class="hljs-string">'/login'</span>
Â Â Â Â }
Â Â Â Â <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(error.<span class="hljs-property">message</span>Â ||Â <span class="hljs-string">'ç½‘ç»œé”™è¯¯'</span>)
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error)
Â Â }
)

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â service
</code></pre>
<h5 data-id="heading-12">2. è‡ªåŠ¨å¯¼å…¥ç»„ä»¶é…ç½®</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â vite.config.tsÂ è¡¥å……é…ç½®</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">AutoImport</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'unplugin-auto-import/vite'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-title class_">Components</span>Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'unplugin-vue-components/vite'</span>
<span class="hljs-keyword">import</span>Â {Â <span class="hljs-title class_">ElementPlusResolver</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'unplugin-vue-components/resolvers'</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â <span class="hljs-title function_">defineConfig</span>({
Â Â <span class="hljs-attr">plugins</span>:Â [
Â Â Â Â <span class="hljs-comment">//Â è‡ªåŠ¨å¯¼å…¥API</span>
Â Â Â Â <span class="hljs-title class_">AutoImport</span>({
Â Â Â Â Â Â <span class="hljs-attr">imports</span>:Â [<span class="hljs-string">'vue'</span>,Â <span class="hljs-string">'vue-router'</span>,Â <span class="hljs-string">'pinia'</span>],
Â Â Â Â Â Â <span class="hljs-attr">dts</span>:Â <span class="hljs-string">'src/types/auto-imports.d.ts'</span>,
Â Â Â Â Â Â <span class="hljs-attr">resolvers</span>:Â [<span class="hljs-title class_">ElementPlusResolver</span>()],
Â Â Â Â }),
Â Â Â Â <span class="hljs-comment">//Â è‡ªåŠ¨å¯¼å…¥ç»„ä»¶</span>
Â Â Â Â <span class="hljs-title class_">Components</span>({
Â Â Â Â Â Â <span class="hljs-attr">dts</span>:Â <span class="hljs-string">'src/types/components.d.ts'</span>,
Â Â Â Â Â Â <span class="hljs-attr">resolvers</span>:Â [<span class="hljs-title class_">ElementPlusResolver</span>()],
Â Â Â Â Â Â <span class="hljs-attr">dirs</span>:Â [<span class="hljs-string">'src/components'</span>],
Â Â Â Â }),
Â Â ],
})
</code></pre>
<h5 data-id="heading-13">3. å®ç”¨çš„Vue 3ç»„åˆå¼å‡½æ•°</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//Â src/composables/useForm.ts</span>
<span class="hljs-keyword">import</span>Â {Â ref,Â reactive,Â computedÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-keyword">type</span>Â {Â <span class="hljs-title class_">Ref</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">function</span>Â useForm&lt;TÂ <span class="hljs-keyword">extends</span>Â <span class="hljs-built_in">object</span>&gt;(<span class="hljs-attr">initialData</span>:Â T)Â {
Â Â <span class="hljs-keyword">const</span>Â formDataÂ =Â <span class="hljs-title function_">reactive</span>({Â ...initialDataÂ })Â <span class="hljs-keyword">as</span>Â T
Â Â <span class="hljs-keyword">const</span>Â errorsÂ =Â reactive&lt;<span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>,Â <span class="hljs-built_in">string</span>&gt;&gt;({})
Â Â <span class="hljs-keyword">const</span>Â isSubmittingÂ =Â <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)

Â Â <span class="hljs-keyword">const</span>Â validateÂ =Â <span class="hljs-keyword">async</span>Â ():Â <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;Â =&gt;Â {
Â Â Â Â <span class="hljs-comment">//Â è¿™é‡Œå¯ä»¥é›†æˆå…·ä½“çš„éªŒè¯é€»è¾‘</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">true</span>
Â Â }

Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-title function_">submit</span>Â =Â <span class="hljs-keyword">async</span>Â (<span class="hljs-params">submitFn:Â (data:Â T)Â =&gt;Â <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt;</span>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">if</span>Â (!(<span class="hljs-keyword">await</span>Â <span class="hljs-title function_">validate</span>()))Â <span class="hljs-keyword">return</span>
Â Â Â Â 
Â Â Â Â isSubmitting.<span class="hljs-property">value</span>Â =Â <span class="hljs-literal">true</span>
Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â resultÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">submitFn</span>(formData)
Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â result
Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (error)Â {
Â Â Â Â Â Â <span class="hljs-keyword">throw</span>Â error
Â Â Â Â }Â <span class="hljs-keyword">finally</span>Â {
Â Â Â Â Â Â isSubmitting.<span class="hljs-property">value</span>Â =Â <span class="hljs-literal">false</span>
Â Â Â Â }
Â Â }

Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-title function_">reset</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(formData,Â initialData)
Â Â Â Â <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(errors).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span>Â =&gt;</span>Â {
Â Â Â Â Â Â errors[key]Â =Â <span class="hljs-string">''</span>
Â Â Â Â })
Â Â }

Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â formData,
Â Â Â Â errors,
Â Â Â Â <span class="hljs-attr">isSubmitting</span>:Â <span class="hljs-title function_">computed</span>(<span class="hljs-function">()Â =&gt;</span>Â isSubmitting.<span class="hljs-property">value</span>),
Â Â Â Â validate,
Â Â Â Â submit,
Â Â Â Â reset,
Â Â }
}
</code></pre>
<h4 data-id="heading-14">æ­¥éª¤6ï¼šå¼€å‘è§„èŒƒä¸æœ€ä½³å®è·µ</h4>
<h5 data-id="heading-15">1. ä»£ç æäº¤è§„èŒƒ</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â å®‰è£…Gitæäº¤é’©å­</span>
npxÂ huskyÂ install
npmÂ installÂ -DÂ @commitlint/config-conventionalÂ @commitlint/cli

<span class="hljs-comment">#Â åˆ›å»ºcommitlinté…ç½®</span>
<span class="hljs-built_in">echo</span>Â <span class="hljs-string">"module.exportsÂ =Â {Â extends:Â ['@commitlint/config-conventional']Â }"</span>Â &gt;Â .commitlintrc.js

<span class="hljs-comment">#Â åˆ›å»ºæäº¤ä¿¡æ¯è§„èŒƒ</span>
<span class="hljs-comment">#Â feat:Â æ–°åŠŸèƒ½</span>
<span class="hljs-comment">#Â fix:Â ä¿®å¤bug</span>
<span class="hljs-comment">#Â docs:Â æ–‡æ¡£æ›´æ–°</span>
<span class="hljs-comment">#Â style:Â ä»£ç æ ¼å¼</span>
<span class="hljs-comment">#Â refactor:Â é‡æ„</span>
<span class="hljs-comment">#Â test:Â æµ‹è¯•</span>
<span class="hljs-comment">#Â chore:Â æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</span>
</code></pre>
<h5 data-id="heading-16">2. ç¯å¢ƒå˜é‡é…ç½®</h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â .env.development</span>
<span class="hljs-attr">VITE_APP_TITLE</span>=å¼€å‘ç¯å¢ƒ
<span class="hljs-attr">VITE_API_BASE_URL</span>=/api
<span class="hljs-attr">VITE_USE_MOCK</span>=<span class="hljs-literal">true</span>

<span class="hljs-comment">#Â .env.production</span>
<span class="hljs-attr">VITE_APP_TITLE</span>=ç”Ÿäº§ç¯å¢ƒ
<span class="hljs-attr">VITE_API_BASE_URL</span>=https://api.example.com
<span class="hljs-attr">VITE_USE_MOCK</span>=<span class="hljs-literal">false</span>
</code></pre>
<h4 data-id="heading-17">æ­¥éª¤7ï¼šæ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//Â è·¯ç”±æ‡’åŠ è½½ä¼˜åŒ–</span>
<span class="hljs-keyword">const</span>Â routesÂ =Â [
Â Â {
Â Â Â Â <span class="hljs-attr">path</span>:Â <span class="hljs-string">'/dashboard'</span>,
Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-comment">/*Â webpackChunkName:Â "dashboard"Â */</span>Â <span class="hljs-string">'@/views/Dashboard.vue'</span>),
Â Â },
Â Â {
Â Â Â Â <span class="hljs-attr">path</span>:Â <span class="hljs-string">'/settings'</span>,
Â Â Â Â <span class="hljs-attr">component</span>:Â <span class="hljs-function">()Â =&gt;</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-comment">/*Â webpackChunkName:Â "settings"Â */</span>Â <span class="hljs-string">'@/views/Settings.vue'</span>),
Â Â },
]

<span class="hljs-comment">//Â å›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤</span>
<span class="hljs-comment">//Â src/directives/lazyLoad.ts</span>
<span class="hljs-keyword">import</span>Â <span class="hljs-keyword">type</span>Â {Â <span class="hljs-title class_">Directive</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span>Â <span class="hljs-attr">lazyLoad</span>:Â <span class="hljs-title class_">Directive</span>Â =Â {
Â Â <span class="hljs-title function_">mounted</span>(<span class="hljs-params">el,Â binding</span>)Â {
Â Â Â Â <span class="hljs-keyword">const</span>Â observerÂ =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>)Â =&gt;</span>Â {
Â Â Â Â Â Â entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span>Â =&gt;</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (entry.<span class="hljs-property">isIntersecting</span>)Â {
Â Â Â Â Â Â Â Â Â Â el.<span class="hljs-property">src</span>Â =Â binding.<span class="hljs-property">value</span>
Â Â Â Â Â Â Â Â Â Â observer.<span class="hljs-title function_">unobserve</span>(el)
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â })
Â Â Â Â })
Â Â Â Â observer.<span class="hljs-title function_">observe</span>(el)
Â Â },
}
</code></pre>
<h3 data-id="heading-18">ä¸‰ã€é¡¹ç›®å¯åŠ¨å’Œå¸¸ç”¨å‘½ä»¤</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â Â Â Â <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"vue-tscÂ &amp;&amp;Â viteÂ build"</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"viteÂ preview"</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"eslintÂ .Â --extÂ .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mtsÂ --fix"</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"prettierÂ --writeÂ src/"</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"prepare"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"huskyÂ install"</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"vitest"</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"test:coverage"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"vitestÂ --coverage"</span>
Â Â <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-19">å››ã€æ€»ç»“ä¸å»ºè®®</h3>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªç°ä»£åŒ–ã€å¯ç»´æŠ¤çš„Vueé¡¹ç›®åŸºç¡€ã€‚è®°ä½å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<ol>
<li>1.Â <strong>ä¿æŒä¸€è‡´æ€§</strong>Â - æ— è®ºæ˜¯å‘½åè§„èŒƒè¿˜æ˜¯ä»£ç é£æ ¼</li>
<li>2.Â <strong>æ¨¡å—åŒ–è®¾è®¡</strong>Â - åŠŸèƒ½è§£è€¦ï¼Œä¾¿äºç»´æŠ¤å’Œæµ‹è¯•</li>
<li>3.Â <strong>ç±»å‹å®‰å…¨</strong>Â - å……åˆ†åˆ©ç”¨TypeScriptçš„ä¼˜åŠ¿</li>
<li>4.Â <strong>è‡ªåŠ¨åŒ–</strong>Â - å°½å¯èƒ½è‡ªåŠ¨åŒ–é‡å¤å·¥ä½œ</li>
<li>5.Â <strong>æ¸è¿›å¼</strong>Â - ä¸è¦ä¸€å¼€å§‹å°±è¿½æ±‚å®Œç¾ï¼Œæ ¹æ®é¡¹ç›®éœ€æ±‚é€æ­¥å®Œå–„</li>
</ol>
<p>é¡¹ç›®ä»£ç å°±åƒä¸€åº§å¤§å¦ï¼Œè‰¯å¥½çš„åŸºç¡€å†³å®šäº†å®ƒçš„ç¨³å›ºæ€§å’Œå¯æ‰©å±•æ€§ã€‚å¸Œæœ›è¿™ç¯‡æŒ‡å—èƒ½å¸®åŠ©ä½ åœ¨Vueé¡¹ç›®å¼€å‘ä¸­å°‘èµ°å¼¯è·¯ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºAIæ™ºèƒ½ä½“ï¼šå››åäº”ã€ä»ä¸“ç”¨æ’ä»¶åˆ°é€šç”¨åè®®ï¼šMCPå¦‚ä½•é‡æ–°å®šä¹‰AIå·¥å…·ç”Ÿæ€]]></title>    <link>https://juejin.cn/post/7580329353353314350</link>    <guid>https://juejin.cn/post/7580329353353314350</guid>    <pubDate>2025-12-07T00:07:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580329353353314350" data-draft-id="7580378958072381450" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºAIæ™ºèƒ½ä½“ï¼šå››åäº”ã€ä»ä¸“ç”¨æ’ä»¶åˆ°é€šç”¨åè®®ï¼šMCPå¦‚ä½•é‡æ–°å®šä¹‰AIå·¥å…·ç”Ÿæ€"/> <meta itemprop="keywords" content="MCP,Python,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-07T00:07:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å½¼å²¸èŠ±å¼€äº†å—"/> <meta itemprop="url" content="https://juejin.cn/user/4153315734334538"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºAIæ™ºèƒ½ä½“ï¼šå››åäº”ã€ä»ä¸“ç”¨æ’ä»¶åˆ°é€šç”¨åè®®ï¼šMCPå¦‚ä½•é‡æ–°å®šä¹‰AIå·¥å…·ç”Ÿæ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4153315734334538/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å½¼å²¸èŠ±å¼€äº†å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-07T00:07:08.000Z" title="Sun Dec 07 2025 00:07:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€MCPå¦‚æœŸè€Œè‡³</h2>
<p>æ€ä¹ˆç†è§£MCPï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬å®¶é‡Œæœ‰å„ç§æ™ºèƒ½è®¾å¤‡ï¼šç”µè§†ã€ç©ºè°ƒã€éŸ³å“ã€ç¯å…‰ã€‚æ¯ä¸ªè®¾å¤‡éƒ½æœ‰ä¸€ä¸ªä¸“ç”¨é¥æ§å™¨ï¼Œå¦‚æœæˆ‘ä»¬è¦çœ‹ç”µè§†å¾—ç”¨ç”µè§†é¥æ§å™¨ï¼Œè°ƒç©ºè°ƒå¾—ç”¨ç©ºè°ƒé¥æ§å™¨ï¼Œæ“ä½œç¹çåˆå®¹æ˜“ææ··ã€‚è¿™æ—¶å€™ï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸‡èƒ½é¥æ§å™¨ï¼Œèƒ½å¤Ÿç»Ÿä¸€æ§åˆ¶æ‰€æœ‰è®¾å¤‡ï¼Œé‚£æˆ‘ä»¬çš„ç”Ÿæ´»æ˜¯ä¸æ˜¯ç¬é—´å˜å¾—ç®€å•å¤šäº†ï¼Ÿ</p>
<p>è¿™æ­£æ˜¯ AI ä¸–ç•Œé¢ä¸´çš„å›°å¢ƒï¼Œç°åœ¨çš„ AI æ¨¡å‹å°±åƒèªæ˜çš„å®¶åº­æˆå‘˜ï¼ŒçŸ¥è¯†æ¸Šåšä½†æ‰‹æ— å¯¸é“â€”â€”æœ‰çš„æ¨¡å‹æœ‰è‡ªå·±çš„å·¥å…·é›†ï¼Œæœ‰çš„æ¨¡å‹æœ‰è‡ªå·±çš„æ’ä»¶åº“ï¼Œæ¯ä¸ª AI éƒ½åƒæ‹¥æœ‰ä¸åŒçš„ä¸“ç”¨é¥æ§å™¨ã€‚å¦‚æœä½ æƒ³åŒæ—¶ä½¿ç”¨å¤šä¸ª AI çš„èƒ½åŠ›ï¼Œå°±å¾—åœ¨ä¸åŒçš„"é¥æ§å™¨"é—´æ¥å›åˆ‡æ¢ï¼Œä½“éªŒå‰²è£‚åˆæ•ˆç‡ä½ä¸‹ã€‚</p>
<p>MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰å°±æ˜¯è¿™ä¸ª"ä¸‡èƒ½é¥æ§å™¨"ã€‚å®ƒåˆ¶å®šäº†ä¸€å¥—æ ‡å‡†åè®®ï¼Œè®©æ‰€æœ‰ AI æ¨¡å‹éƒ½èƒ½é€šè¿‡ç»Ÿä¸€çš„æ¥å£è°ƒç”¨å„ç§å·¥å…·ã€‚å°±åƒä¸‡èƒ½é¥æ§å™¨å®šä¹‰äº†çº¢å¤–ä¿¡å·çš„å‘é€è§„åˆ™ä¸€æ ·ï¼ŒMCP å®šä¹‰äº† AI ä¸å·¥å…·ä¹‹é—´çš„"å¯¹è¯è§„åˆ™"ã€‚</p>
<p>æœ‰äº† MCPï¼Œå¼€å‘äººå‘˜åªéœ€è¦å¼€å‘ä¸€æ¬¡å·¥å…·ï¼Œæ‰€æœ‰æ”¯æŒ MCP çš„ AI éƒ½èƒ½ç«‹å³ä½¿ç”¨ï¼›ç”¨æˆ·åªéœ€è¦é¢å¯¹ä¸€ä¸ª AI åŠ©æ‰‹ï¼Œå°±èƒ½äº«å—æ‰€æœ‰å·¥å…·å¸¦æ¥çš„ä¾¿åˆ©ï¼›AI å‚å•†ä¹Ÿèƒ½ä¸“æ³¨äºæ¨¡å‹æœ¬èº«ï¼Œè€Œä¸æ˜¯é‡å¤é€ è½®å­ï¼Œè¿™å°±æ˜¯ MCP å¸¦æ¥çš„æ ¹æœ¬æ€§å˜é©ï¼šä»æ¯ä¸ª AI éƒ½æœ‰è‡ªå·±çš„å°å·¥å…·ç®±å˜ä¸ºæ‰€æœ‰ AI å…±äº«ä¸€ä¸ªå¤§å·¥å…·åº“ï¼Œè®© AI çœŸæ­£æˆä¸ºè¿æ¥æ•°å­—ä¸–ç•Œçš„æ™ºèƒ½æ¢çº½ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ·±åº¦ç†è§£MCP</h2>
<h3 data-id="heading-2">1. åŸºç¡€ä»‹ç»</h3>
<p>MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œå®ƒå…è®¸AIæ¨¡å‹ä¸å¤–éƒ¨å·¥å…·ã€æ•°æ®æºå’ŒæœåŠ¡è¿›è¡Œå®‰å…¨ã€æ ‡å‡†åŒ–çš„äº¤äº’ã€‚å®ƒå®šä¹‰äº† AI æ¨¡å‹å¦‚ä½•ä¸å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡è¿›è¡Œæ ‡å‡†åŒ–é€šä¿¡çš„å¼€æ”¾åè®®ï¼Œæ—¨åœ¨ä¸ºAIæ¨¡å‹æä¾›æ ‡å‡†åŒ–çš„å·¥å…·è°ƒç”¨æ¥å£ã€‚å¯ä»¥æŠŠMCPæƒ³è±¡æˆAIæ¨¡å‹çš„â€œä¸‡èƒ½é¥æ§å™¨â€ï¼Œè®©AIèƒ½å¤Ÿä½¿ç”¨å„ç§å¤–éƒ¨å·¥å…·ï¼Œä»è€Œæ‰©å±•å…¶èƒ½åŠ›ã€‚</p>
<p>MCPæ˜¯ AI é¢†åŸŸçš„USB æ ‡å‡†ï¼Œå›å¿†å¾€æ˜”ï¼Œåœ¨æ²¡æœ‰ USB ä¹‹å‰ï¼Œæ¯ä¸ªè®¾å¤‡éƒ½éœ€è¦è‡ªå·±çš„ä¸“ç”¨æ¥å£ï¼›æœ‰äº† USB ä¹‹åï¼Œæ‰€æœ‰è®¾å¤‡éƒ½å¯ä»¥é€šè¿‡ç»Ÿä¸€æ¥å£è¿æ¥ã€‚MCP å°±æ˜¯å¯¹ AI ä¸–ç•Œåšçš„åŒæ ·çš„äº‹æƒ…ã€‚</p>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>**å®¢æˆ·ç«¯ï¼š**é€šå¸¸æ˜¯AIæ¨¡å‹ï¼Œå®ƒå‘å‡ºè¯·æ±‚ï¼Œå¸Œæœ›ä½¿ç”¨å·¥å…·æˆ–è·å–æ•°æ®ã€‚<br/>
**æœåŠ¡å™¨ï¼š**æä¾›å·¥å…·æˆ–æ•°æ®çš„æœåŠ¡ç«¯ï¼Œå®ƒå“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚<br/>
**å·¥å…·ï¼š**æœåŠ¡å™¨æä¾›çš„å¯æ‰§è¡Œæ“ä½œï¼Œæ¯”å¦‚è®¡ç®—å™¨ã€æœç´¢å¼•æ“ã€æ•°æ®åº“æŸ¥è¯¢ç­‰ã€‚<br/>
**èµ„æºï¼š**æœåŠ¡å™¨æä¾›çš„æ•°æ®æºï¼Œæ¯”å¦‚æ–‡ä»¶ã€æ•°æ®åº“è¡¨ç­‰ï¼Œå®¢æˆ·ç«¯å¯ä»¥è¯»å–è¿™äº›èµ„æºã€‚<br/>
**åè®®ï¼š**MCPå®šä¹‰äº†ä¸€å¥—é€šä¿¡è§„åˆ™ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æŒ‰ç…§è¿™å¥—è§„åˆ™è¿›è¡Œäº¤äº’ï¼Œç¡®ä¿å®ƒä»¬èƒ½å¤Ÿäº’ç›¸ç†è§£ã€‚</p>
<h3 data-id="heading-4">3. ä¸ºä»€ä¹ˆéœ€è¦MCP</h3>
<p>AIæ¨¡å‹æœ¬èº«æ‹¥æœ‰ä¸°å¯Œçš„çŸ¥è¯†ï¼Œä½†å­˜åœ¨ä¸€äº›å±€é™ï¼š</p>
<ul>
<li>çŸ¥è¯†æˆªæ­¢ï¼šæ¨¡å‹çš„çŸ¥è¯†æœ‰æˆªæ­¢æ—¥æœŸï¼Œæ— æ³•è·å–æœ€æ–°ä¿¡æ¯ã€‚</li>
<li>æ— æ³•æ‰§è¡ŒåŠ¨ä½œï¼šæ¨¡å‹ä¸èƒ½ç›´æ¥æ“ä½œå¤–éƒ¨ç³»ç»Ÿï¼Œå¦‚å‘é€é‚®ä»¶ã€æŸ¥è¯¢æ•°æ®åº“ã€‚</li>
<li>æ— æ³•è®¿é—®ç§æœ‰æ•°æ®ï¼šæ¨¡å‹ä¸èƒ½è®¿é—®ä¸ªäººçš„ç§æœ‰æ•°æ®ï¼Œå¦‚å…¬å¸æ–‡ä»¶ã€ä¸ªäººç¬”è®°ã€‚</li>
</ul>
<p>MCPçš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œè®©AIèƒ½å¤Ÿå®‰å…¨ã€å¯æ§åœ°ä½¿ç”¨å¤–éƒ¨å·¥å…·å’Œæ•°æ®ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€MCPçš„æ ¸å¿ƒæ¶æ„</h2>
<p>MCPé‡‡ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ï¼š<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dd0e4a1014a4fd4a005ed6e8ec9f293~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=rBk23q0KbgVqSUWm%2FwU%2ByyejEGM%3D" alt="" loading="lazy"/></p>
<p>æŠŠ MCP æ¶æ„æƒ³è±¡æˆä¸€å®¶ç°ä»£åŒ–é¤å…ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">é¡¾å®¢ï¼ˆç”¨æˆ·ï¼‰ â†’ æœåŠ¡å‘˜ï¼ˆAIå®¢æˆ·ç«¯ï¼‰ â†’ å¨æˆ¿ï¼ˆMCPæœåŠ¡å™¨ï¼‰ â†’ å¨å¸ˆï¼ˆå·¥å…·æ‰§è¡Œï¼‰
    â†“               â†“                  â†“                  â†“
<span class="hljs-string">"æˆ‘è¦ç‚¹èœ"</span>       <span class="hljs-string">"ç†è§£éœ€æ±‚ï¼Œ          "</span>æ¥æ”¶è®¢å•ï¼Œ         <span class="hljs-string">"çƒ¹é¥ªèœå“ï¼Œ
                ä¸‹å•ç»™å¨æˆ¿"</span>          åˆ†æ´¾ç»™å¨å¸ˆ<span class="hljs-string">"           å®Œæˆåˆ¶ä½œ"</span>
</code></pre>
<h3 data-id="heading-6">1. å®¢æˆ·ç«¯ï¼ˆClientï¼‰ - "æ™ºèƒ½æœåŠ¡å‘˜"</h3>
<ul>
<li>è§’è‰²ï¼šAI æ¨¡å‹</li>
<li>èŒè´£ï¼š
<ul>
<li>ç†è§£ç”¨æˆ·æ„å›¾ï¼šåˆ†æç”¨æˆ·é—®é¢˜ï¼Œåˆ¤æ–­éœ€è¦ä»€ä¹ˆå·¥å…·</li>
<li>ç®¡ç†å·¥å…·èœå•ï¼šçŸ¥é“å¯ç”¨çš„å·¥å…·åŠå…¶åŠŸèƒ½</li>
<li>åˆ†æ´¾ä»»åŠ¡ï¼šé€‰æ‹©åˆé€‚çš„å·¥å…·å¹¶ä¼ é€’å‚æ•°</li>
<li>æ•´åˆç»“æœï¼šå°†å·¥å…·è¿”å›çš„æ•°æ®è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€å›ç­”</li>
</ul>
</li>
<li>å·¥ä½œæµç¨‹ï¼š</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34b04455206f4f418708bf741cefbedc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=wgXnMGwAUHMEAD4Vz2giPwHoNCI%3D" alt="" loading="lazy"/></p>
<p><strong>ç”¨æˆ·è¾“å…¥ï¼š"æŸ¥ä¸€ä¸‹åŒ—äº¬ä»Šå¤©å¤©æ°”"</strong></p>
<ul>
<li>1. æ„å›¾åˆ†æ â†’ éœ€è¦å¤©æ°”ä¿¡æ¯</li>
<li>2. å·¥å…·é€‰æ‹© â†’ è°ƒç”¨å¤©æ°”æŸ¥è¯¢å·¥å…·</li>
<li>3. å‚æ•°å‡†å¤‡ â†’ {"city": "åŒ—äº¬", "date": "ä»Šå¤©"}</li>
<li>4. å‘é€è¯·æ±‚ â†’ é€šè¿‡MCPåè®®è°ƒç”¨å·¥å…·</li>
<li>5. æ¥æ”¶ç»“æœ â†’ æ¸©åº¦25Â°Cï¼Œæ™´å¤©</li>
<li>6. ç”Ÿæˆå›ç­” â†’ "åŒ—äº¬ä»Šå¤©æ™´å¤©ï¼Œ25æ‘„æ°åº¦"</li>
</ul>
<h3 data-id="heading-7">2. æœåŠ¡å™¨ï¼ˆServerï¼‰- "ä¸“ä¸šå¨æˆ¿"</h3>
<ul>
<li>è§’è‰²ï¼šå·¥å…·æä¾›è€…</li>
<li>èŒè´£ï¼š
<ul>
<li>å·¥å…·ç®¡ç†ï¼šç»´æŠ¤ä¸€ç»„ä¸“ç”¨å·¥å…·</li>
<li>ä»»åŠ¡æ‰§è¡Œï¼šæ¥æ”¶è¯·æ±‚ï¼Œè°ƒç”¨å…·ä½“å·¥å…·</li>
<li>ç»“æœå¤„ç†ï¼šæ ¼å¼åŒ–å·¥å…·è¿”å›çš„æ•°æ®</li>
<li>å®‰å…¨ä¿éšœï¼šæ§åˆ¶å·¥å…·è®¿é—®æƒé™</li>
</ul>
</li>
<li>æœåŠ¡å™¨ç±»å‹ç¤ºä¾‹ï¼š
<ul>
<li>å¤©æ°”æœåŠ¡å™¨ï¼šä¸“é—¨å¤„ç†å¤©æ°”æŸ¥è¯¢</li>
<li>è®¡ç®—æœåŠ¡å™¨ï¼šä¸“é—¨è¿›è¡Œæ•°å­¦è®¡ç®—</li>
<li>æ–‡ä»¶æœåŠ¡å™¨ï¼šä¸“é—¨å¤„ç†æ–‡ä»¶æ“ä½œ</li>
<li>æ•°æ®åº“æœåŠ¡å™¨ï¼šä¸“é—¨è¿›è¡Œæ•°æ®æŸ¥è¯¢</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">3. MCP åè®® - "ç‚¹é¤æ ‡å‡†åŒ–æµç¨‹"</h3>
<ul>
<li>ä½œç”¨ï¼šå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è§„åˆ™</li>
<li>æ ¸å¿ƒè§„åˆ™ï¼š
<ul>
<li>1. å·¥å…·å‘ç°ï¼šæœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯"æˆ‘æœ‰ä»€ä¹ˆèœï¼ˆå·¥å…·ï¼‰"</li>
<li>2. å·¥å…·è°ƒç”¨ï¼šå®¢æˆ·ç«¯è¯´"æˆ‘è¦ç‚¹è¿™ä¸ªèœï¼ˆè°ƒç”¨å·¥å…·ï¼‰"</li>
<li>3. å‚æ•°ä¼ é€’ï¼šå®¢æˆ·ç«¯è¯´"è¦è¿™æ ·åšæ³•ï¼ˆä¼ é€’å‚æ•°ï¼‰"</li>
<li>4. ç»“æœè¿”å›ï¼šæœåŠ¡å™¨è¯´"èœåšå¥½äº†ï¼ˆè¿”å›ç»“æœï¼‰"</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">4. æ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<ul>
<li>èŒè´£åˆ†ç¦»ï¼Œå„å¸å…¶èŒ
<ul>
<li>AIå®¢æˆ·ç«¯ï¼šä¸“æ³¨äºç†è§£è¯­è¨€ã€ç”Ÿæˆå›ç­”</li>
<li>MCPæœåŠ¡å™¨ï¼šä¸“æ³¨äºå·¥å…·æ‰§è¡Œã€æ•°æ®å¤„ç†</li>
<li>ç»“æœï¼šæ¯ä¸ªç»„ä»¶åšè‡ªå·±æœ€æ“…é•¿çš„äº‹</li>
</ul>
</li>
<li>æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•
<ul>
<li>æ·»åŠ æ–°å·¥å…· = å¼€å‘æ–°æœåŠ¡å™¨</li>
<li>ä¸å½±å“ç°æœ‰ç³»ç»Ÿï¼Œæ— éœ€ä¿®æ”¹AIå®¢æˆ·ç«¯</li>
<li>å°±åƒé¤å…å¢åŠ æ–°èœå“ï¼Œä¸éœ€è¦åŸ¹è®­æ–°æœåŠ¡å‘˜</li>
</ul>
</li>
<li>æ ‡å‡†åŒ–æ¥å£ï¼Œäº’æ“ä½œæ€§å¼º
<ul>
<li>æ‰€æœ‰å·¥å…·ä½¿ç”¨ç›¸åŒè°ƒç”¨æ–¹å¼</li>
<li>æ‰€æœ‰AIå®¢æˆ·ç«¯ä½¿ç”¨ç›¸åŒåè®®</li>
<li>å®ç°çœŸæ­£çš„"å³æ’å³ç”¨"</li>
</ul>
</li>
</ul>
<h3 data-id="heading-10">5. å¸¸ç”¨æ¶æ„ç±»å‹</h3>
<p><strong>1. å•ä¸ªæœåŠ¡å™¨æ¶æ„</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2ce89777ab8490d94979246e78e1bba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=u3sQydDuCjtllmfcikLXbmf1tmA%3D" alt="" loading="lazy"/></p>
<p><strong>æ¶æ„è¯´æ˜ï¼š</strong></p>
<p>è¿™ç§æ¶æ„å°±åƒå¿«é€’åˆ†å‘ä¸­å¿ƒï¼š</p>
<ul>
<li>ç”¨æˆ·æ˜¯å¯„ä»¶äººï¼ˆæå‡ºéœ€æ±‚ï¼‰</li>
<li>AIå®¢æˆ·ç«¯æ˜¯å®¢æœï¼ˆç†è§£éœ€æ±‚å¹¶ä¸‹å•ï¼‰</li>
<li>MCPæœåŠ¡å™¨æ˜¯åˆ†æ‹£ä¸­å¿ƒï¼ˆåˆ†é…ä»»åŠ¡ï¼‰</li>
<li>å„ä¸ªå·¥å…·æ˜¯å¿«é€’å‘˜ï¼ˆæ‰§è¡Œå…·ä½“ä»»åŠ¡ï¼‰</li>
<li>æ¯ä¸ªç¯èŠ‚å„å¸å…¶èŒï¼Œé€šè¿‡æ ‡å‡†åŒ–æµç¨‹é«˜æ•ˆåä½œã€‚</li>
</ul>
<p><strong>2. å¤šä¸ªæœåŠ¡å™¨æ¶æ„</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1c6857ecbca4f43bff9755238cd5915~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=X31P%2FdVDkBxuy25ue%2B7OAUPMG90%3D" alt="" loading="lazy"/></p>
<p><strong>æ¶æ„è¯´æ˜ï¼š</strong></p>
<ul>
<li>MCPåè®®å±‚ä½œä¸ºæ ¸å¿ƒè°ƒåº¦ä¸­å¿ƒï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰å·¥å…·æœåŠ¡å™¨çš„è¿æ¥</li>
<li>æ¯ä¸ªå·¥å…·æœåŠ¡å™¨ä¸“é—¨è´Ÿè´£ä¸€ç±»åŠŸèƒ½ï¼ŒèŒè´£å•ä¸€æ˜ç¡®</li>
<li>åº•å±‚èµ„æºï¼ˆAPIã€åº“ã€ç³»ç»Ÿï¼‰è¢«å°è£…åœ¨å„è‡ªçš„æœåŠ¡å™¨ä¸­ï¼Œå®ç°éš”ç¦»å’Œå®‰å…¨æ§åˆ¶</li>
</ul>
<p>è¿™ç§è®¾è®¡è®©æ•´ä¸ªç³»ç»Ÿæ›´åŠ æ¨¡å—åŒ–å’Œå¯æ‰©å±•ï¼Œæ–°å¢å·¥å…·åªéœ€å¼€å‘æ–°çš„æœåŠ¡å™¨å³å¯ï¼Œä¸å½±å“ç°æœ‰æ¶æ„ã€‚</p>
<h2 data-id="heading-11">å››ã€MCPçš„å·¥ä½œæµç¨‹</h2>
<h3 data-id="heading-12">1. æµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea513edd1c90488c98e8ab1f54139531~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=8qhFyfSf3HQjtftIfALVK0N%2B0uQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">2. æµç¨‹è¯´æ˜</h3>
<ul>
<li>1. ç”¨æˆ·æé—® â†’ AIæ¥æ”¶é—®é¢˜</li>
<li>2. AIåˆ†æ â†’ åˆ¤æ–­æ˜¯å¦éœ€è¦å·¥å…·ååŠ©</li>
<li>3. è°ƒç”¨å·¥å…· â†’ é€šè¿‡ MCP åè®®å‘é€è¯·æ±‚</li>
<li>4. å·¥å…·æ‰§è¡Œ â†’ MCP æœåŠ¡å™¨å¤„ç†å…·ä½“æ“ä½œ</li>
<li>5. è¿”å›ç»“æœ â†’ å·¥å…·ç»“æœè¿”å›ç»™ AI</li>
<li>6. æ•´åˆå›ç­” â†’ AI å°†ç»“æœè½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€</li>
<li>7. æœ€ç»ˆå›å¤ â†’ ç”¨æˆ·å¾—åˆ°å®Œæ•´ç­”æ¡ˆ</li>
</ul>
<h3 data-id="heading-14">3. æ‰§è¡Œæ­¥éª¤</h3>
<p>MCPçš„å·¥ä½œæµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>1. å»ºç«‹è¿æ¥ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡MCPåè®®å»ºç«‹è¿æ¥ã€‚</li>
<li>2. å‘ç°èƒ½åŠ›ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨è¯¢é—®ï¼šâ€œä½ æœ‰ä»€ä¹ˆå·¥å…·å’Œèµ„æºï¼Ÿâ€æœåŠ¡å™¨è¿”å›å¯ç”¨å·¥å…·å’Œèµ„æºçš„åˆ—è¡¨ã€‚</li>
<li>3. è°ƒç”¨å·¥å…·ï¼šå®¢æˆ·ç«¯æ ¹æ®ç”¨æˆ·éœ€æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·ï¼Œå‘æœåŠ¡å™¨å‘é€è°ƒç”¨è¯·æ±‚ï¼ˆåŒ…æ‹¬å·¥å…·åç§°å’Œå‚æ•°ï¼‰ã€‚</li>
<li>4. æ‰§è¡Œå·¥å…·ï¼šæœåŠ¡å™¨æ‰§è¡Œå·¥å…·ï¼Œå¹¶è¿”å›ç»“æœã€‚</li>
<li>5. è¯»å–èµ„æºï¼šå®¢æˆ·ç«¯å¯ä»¥è¯·æ±‚è¯»å–èµ„æºï¼ŒæœåŠ¡å™¨è¿”å›èµ„æºå†…å®¹ã€‚</li>
</ul>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒMCPåè®®å°±åƒç¿»è¯‘å®˜ï¼Œç¡®ä¿å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡é¡ºç•…ã€‚</p>
<h2 data-id="heading-15">äº”ã€ä¸Function Callçš„å·®å¼‚</h2>
<p>å¦‚æœå¯¹Function Callæœ‰å°è±¡ï¼Œå‘ç°ä¸¤è€…ä¼¼ä¹å¾ˆæ¥è¿‘ï¼Œå¯èƒ½è¿˜å¹¶æœªå‘ç°å…¶ä¸­å¤§çš„ä¸åŒï¼Œéƒ½æ˜¯è°ƒç”¨å·¥å…·ï¼Œå®è´¨ä¸Šå·¥å…·è°ƒç”¨æŠ€æœ¯å°±æ˜¯ä¸ºAIå®‰è£…æ‰‹è‡‚çš„æ–¹æ³•ï¼Œè€ŒFunction Callå’ŒMCPä»£è¡¨äº†ä¸¤ç§æˆªç„¶ä¸åŒçš„"æ‰‹è‡‚"å®‰è£…æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-16">1. Function Callçš„å·¥ä½œåŸç†ï¼š</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd74dc2cc5140549a6ae8134f43d7fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=91j3z8ZFmZH8KFSE1QAbII13opA%3D" alt="" loading="lazy"/>â€‹</p>
<h3 data-id="heading-17">2. å·¥ä½œæµç¨‹å¯¹æ¯”</h3>
<p>åŒä¸€é—®é¢˜â€œåŒ—äº¬å¤©æ°”å¦‚ä½•â€ï¼Œå¯¹æ¯”Function Callå’ŒMCPæµç¨‹æ‰§è¡Œçš„å·®å¼‚ï¼š</p>
<p>Function Callå·¥ä½œæµç¨‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5a2963aff614fcdb68810a696cfa00c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=wjTUC2mDJKyLWQKpbmaPQTuhoHw%3D" alt="" loading="lazy"/></p>
<p>MCPå·¥ä½œæµç¨‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f990ac17a344d3db178037ed9c8d31b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=S1j2iZBcsXsDk4gs2NOPu55onDw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-18">3. æ¶æ„å·®å¼‚å¯¹æ¯”</h3>
<p>ç‰¹æ€§Â  Â  Â  Â  Â  Â  Â  Â FunctionÂ  Â  Â  Â  Â  Â Call MCPÂ </p>
<p>æ¶æ„æ¨¡å¼Â  Â  Â  Â  å•ä½“é›†æˆå¼Â  Â  Â  Â  åˆ†å¸ƒå¼å®¢æˆ·ç«¯-æœåŠ¡å™¨Â </p>
<p>åè®®æ ‡å‡†Â  Â  Â  Â  å‚å•†ç§æœ‰åè®®Â  Â  Â å¼€æ”¾æ ‡å‡†åè®®Â </p>
<p>å·¥å…·ç®¡ç†Â  Â  Â  Â  é™æ€ç»‘å®šÂ  Â  Â  Â  Â  Â  Â åŠ¨æ€å‘ç°Â </p>
<p>è·¨æ¨¡å‹æ”¯æŒ å—æ¨¡å‹æœ¬èº«é™åˆ¶ï¼Œéƒ¨åˆ†ä¸æ”¯æŒÂ  Â æ”¯æŒä»»ä½•å…¼å®¹MCPçš„æ¨¡å‹</p>
<h3 data-id="heading-19">4. é€‰æ‹©æ¨ä»‹</h3>
<p>è€ƒè™‘å› ç´ Â  Â  Â  Â é€‰æ‹©Function CallÂ  Â  Â  Â  Â  Â  Â é€‰æ‹©MCPÂ </p>
<p>é¡¹ç›®è§„æ¨¡Â  Â  Â  Â å°å‹é¡¹ç›®ã€åŸå‹Â  Â  Â  Â  Â  Â  Â ä¸­å¤§å‹é¡¹ç›®ã€ä¼ä¸šåº”ç”¨Â </p>
<p>æ¨¡å‹éœ€æ±‚Â  Â  Â  Â åªä½¿ç”¨OpenAIæ¨¡å‹Â  Â  Â  Â  éœ€è¦å¤šæ¨¡å‹æ”¯æŒÂ </p>
<p>å¼€å‘èµ„æºÂ  Â  Â  èµ„æºæœ‰é™ï¼Œå¿«é€Ÿä¸Šçº¿Â  Â  Â  Â  æœ‰ä¸“é—¨å¼€å‘å›¢é˜ŸÂ </p>
<p>é•¿æœŸç»´æŠ¤Â  Â  Â  çŸ­æœŸé¡¹ç›®Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â é•¿æœŸç»´æŠ¤é¡¹ç›®Â </p>
<p>å·¥å…·å¤æ‚åº¦Â  ç®€å•å·¥å…·ï¼ˆ&lt;5ä¸ªï¼‰Â  Â  Â  Â  Â  Â å¤æ‚å·¥å…·ç”Ÿæ€ç³»ç»Ÿ</p>
<h2 data-id="heading-20">å…­ã€MCPçš„ä¼˜åŠ¿</h2>
<ul>
<li>æ ‡å‡†åŒ–ï¼šMCPæä¾›ç»Ÿä¸€çš„æ ‡å‡†ï¼Œä½¿å¾—ä»»ä½•æ”¯æŒMCPçš„AIæ¨¡å‹éƒ½å¯ä»¥ä½¿ç”¨ä»»ä½•æ”¯æŒMCPçš„å·¥å…·ï¼Œæ— éœ€å•ç‹¬é€‚é…ã€‚</li>
<li>å®‰å…¨æ€§ï¼šMCPå…è®¸ç”¨æˆ·æ§åˆ¶AIæ¨¡å‹å¯ä»¥è®¿é—®å“ªäº›å·¥å…·å’Œæ•°æ®ï¼Œé¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚</li>
<li>æ‰©å±•æ€§ï¼šå¼€å‘è€…å¯ä»¥è½»æ¾åœ°ä¸ºAIæ¨¡å‹æ·»åŠ æ–°çš„å·¥å…·ï¼Œæ— é™æ‰©å±•AIçš„èƒ½åŠ›ã€‚</li>
<li>äº’æ“ä½œæ€§ï¼šä¸åŒçš„AIæ¨¡å‹å’Œå·¥å…·å¯ä»¥äº’ç›¸åä½œï¼Œæ‰“ç ´ç”Ÿæ€å£å’ã€‚</li>
</ul>
<h2 data-id="heading-21">ä¸ƒã€MCPçš„åº”ç”¨åœºæ™¯</h2>
<ul>
<li>ä¸ªäººåŠ©æ‰‹ï¼šAIå¯ä»¥å¸®ä½ å‘é€é‚®ä»¶ã€ç®¡ç†æ—¥å†ã€æŸ¥è¯¢å¤©æ°”ç­‰ã€‚</li>
<li>ä¼ä¸šåº”ç”¨ï¼šAIå¯ä»¥æŸ¥è¯¢å…¬å¸æ•°æ®åº“ã€ç”ŸæˆæŠ¥å‘Šã€è‡ªåŠ¨åŒ–å·¥ä½œæµã€‚</li>
<li>å¼€å‘å·¥å…·ï¼šAIå¯ä»¥æ‰§è¡Œä»£ç ã€æŸ¥è¯¢æ–‡æ¡£ã€è°ƒè¯•ç¨‹åºã€‚</li>
<li>æ™ºèƒ½å®¶å±…ï¼šAIå¯ä»¥æ§åˆ¶å®¶é‡Œçš„ç¯å…‰ã€ç©ºè°ƒã€éŸ³å“ç­‰ã€‚</li>
</ul>
<h2 data-id="heading-22">å…«ã€ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šè®¡ç®—å™¨</h2>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªAIæ¨¡å‹ï¼ˆå®¢æˆ·ç«¯ï¼‰å’Œä¸€ä¸ªè®¡ç®—å™¨å·¥å…·ï¼ˆæœåŠ¡å™¨ï¼‰ã€‚</p>
<ul>
<li>å·¥å…·æ³¨å†Œï¼šè®¡ç®—å™¨å·¥å…·å‘MCPæœåŠ¡å™¨æ³¨å†Œï¼Œå‘Šè¯‰æœåŠ¡å™¨å®ƒæœ‰ä¸€ä¸ªâ€œcalculateâ€åŠŸèƒ½ï¼Œå¯ä»¥æ¥æ”¶æ•°å­¦è¡¨è¾¾å¼ã€‚</li>
<li>AIå‘ç°å·¥å…·ï¼šAIï¼ˆå¦‚Claudeï¼‰å¯åŠ¨æ—¶è¿æ¥MCPæœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å‘Šè¯‰AIï¼šâ€œæˆ‘æœ‰è¿™äº›å·¥å…·å¯ç”¨ï¼ŒåŒ…æ‹¬è®¡ç®—å™¨ã€‚â€</li>
<li>ç”¨æˆ·æé—®ï¼šç”¨æˆ·é—®AIï¼šâ€œè®¡ç®—(2+3)*4ç­‰äºå¤šå°‘ï¼Ÿâ€</li>
<li>AIè°ƒç”¨å·¥å…·ï¼šAIè¯†åˆ«å‡ºéœ€è¦è®¡ç®—ï¼Œäºæ˜¯é€šè¿‡MCPåè®®å‘è®¡ç®—å™¨å·¥å…·å‘é€è¯·æ±‚ï¼šâ€œè¯·è®¡ç®—(2+3)*4â€ã€‚</li>
<li>å·¥å…·æ‰§è¡Œå¹¶è¿”å›ï¼šè®¡ç®—å™¨è®¡ç®—åè¿”å›ç»“æœï¼š20ã€‚</li>
<li>AIå›å¤ç”¨æˆ·ï¼šAIå°†ç»“æœæ•´åˆæˆè‡ªç„¶è¯­è¨€å›å¤ï¼šâ€œ(2+3)*4ç­‰äº20ã€‚â€</li>
</ul>
<p><strong>æ‰§è¡Œæµç¨‹å›¾ï¼š</strong></p>
<p>ç¬¬ä¸€æ­¥ï¼šå…ˆå»ºç«‹è¿æ¥ï¼Œå‘ç°å·¥å…·</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/925ecb95231d4911846d56422792c687~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=il%2BeOq8xv6rycAKbM9erzSYj120%3D" alt="" loading="lazy"/></p>
<p>ç¬¬äºŒæ­¥ï¼šæ ¹æ®å®é™…ä¸šåŠ¡é€‰æ‹©å·¥å…·è¿›è¡Œæ“ä½œ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f26df538163d49afa6e0e4dcd57b77a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765670984&amp;x-signature=04Vsb%2FEJ8%2FTa1OSjrfUMl0QY%2Flo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-23">ä¹ã€æ€»ç»“</h2>
<p>MCP ä¸ä»…ä»…æ˜¯æŠ€æœ¯åè®®ï¼Œæ›´æ˜¯AIç”Ÿæ€ç³»ç»Ÿçš„é‡æ„ã€‚å®ƒè§£å†³äº†AIå‘å±•ä¸­çš„æ ¸å¿ƒçŸ›ç›¾ï¼šæ¨¡å‹æ™ºèƒ½ä¸å·¥å…·èƒ½åŠ›ä¹‹é—´çš„å‰²è£‚ã€‚MCPå°±åƒAIæ¨¡å‹çš„æ‰‹å’Œçœ¼ç›ï¼Œè®©AIèƒ½å¤Ÿæ“ä½œå¤–éƒ¨å·¥å…·å’Œè·å–å¤–éƒ¨æ•°æ®ï¼Œä»è€Œçªç ´è‡ªèº«çš„é™åˆ¶ã€‚é€šè¿‡MCPï¼ŒAIæ¨¡å‹å¯ä»¥å˜å¾—æ›´åŠ å¼ºå¤§å’Œå®ç”¨ï¼Œæˆä¸ºæˆ‘ä»¬ç”Ÿæ´»å’Œå·¥ä½œä¸­çœŸæ­£çš„æ™ºèƒ½åŠ©æ‰‹ã€‚</p>
<p>éšç€MCPç”Ÿæ€çš„å‘å±•ï¼Œæˆ‘ä»¬å¯ä»¥é¢„è§ï¼Œæœªæ¥å°†å‡ºç°å„ç§å„æ ·çš„MCPæœåŠ¡å™¨ï¼Œä¸ºAIæ¨¡å‹æä¾›ä¸°å¯Œçš„èƒ½åŠ›ï¼Œè€ŒAIæ¨¡å‹ä¹Ÿå°†é€šè¿‡MCPåè®®æˆä¸ºè¿æ¥æ•°å­—ä¸–ç•Œçš„æ™ºèƒ½æ¢çº½ã€‚ç®€å•æ¥è¯´ï¼šMCPè®©AIä»çŸ¥é“å¾ˆå¤šä½†åšä¸äº†ä»€ä¹ˆçš„å­¦è€…ï¼Œå˜æˆäº†æ—¢æ‡‚çŸ¥è¯†åˆä¼šæ“ä½œçš„å…¨èƒ½åŠ©æ‰‹ã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ä¸è¶³åˆ°ç²¾è¿›ï¼šH5å³å¼€å¹¶è¡ŒåŠ è½½æ–¹æ¡ˆçš„æ¼”è¿›ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7579553111472439350</link>    <guid>https://juejin.cn/post/7579553111472439350</guid>    <pubDate>2025-12-04T03:09:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579553111472439350" data-draft-id="7579562420978204713" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ä¸è¶³åˆ°ç²¾è¿›ï¼šH5å³å¼€å¹¶è¡ŒåŠ è½½æ–¹æ¡ˆçš„æ¼”è¿›ä¹‹è·¯"/> <meta itemprop="keywords" content="å®¢æˆ·ç«¯,å‰ç«¯,WebView"/> <meta itemprop="datePublished" content="2025-12-04T03:09:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="vivoäº’è”ç½‘æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/993614243303053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ä¸è¶³åˆ°ç²¾è¿›ï¼šH5å³å¼€å¹¶è¡ŒåŠ è½½æ–¹æ¡ˆçš„æ¼”è¿›ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614243303053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    vivoäº’è”ç½‘æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-04T03:09:40.000Z" title="Thu Dec 04 2025 03:09:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»28åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ï¼š vivo äº’è”ç½‘å®¢æˆ·ç«¯å›¢é˜Ÿ- Chen Long</p>
<p>å¹¶è¡ŒåŠ è½½æ˜¯ H5 å³å¼€ SDK çš„åŠ é€ŸæŠ€æœ¯ï¼Œé€šè¿‡ native å±‚åœ¨ç”¨æˆ·æ‰“å¼€é¡µé¢æ—¶å¹¶è¡Œè¯·æ±‚å…³é”®èµ„æºï¼ˆå¦‚ index.html å’Œ CSR æ¨¡å¼ APIï¼‰ï¼Œåˆ©ç”¨ webview åˆå§‹åŒ–æ—¶é—´çª—å£æå‰å‘èµ·è¯·æ±‚ï¼Œå‡å°‘åŠ è½½è€—æ—¶ã€‚å…¶æ ¸å¿ƒæŒ‘æˆ˜æ˜¯è§£å†³ webview ä¸å¹¶è¡Œä»»åŠ¡é—´çš„èµ„æºäº¤æ¥é—®é¢˜ã€‚</p>
</blockquote>
<p>1åˆ†é’Ÿçœ‹å›¾æŒæ¡æ ¸å¿ƒè§‚ç‚¹ğŸ‘‡</p>
<p><img src="https://static001.geekbang.org/infoq/86/864acc212c597569642c99466c88b6db.gif" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å¹¶è¡ŒåŠ è½½èƒ½åŠ›æ ¸å¿ƒè§£æ</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯å¹¶è¡ŒåŠ è½½</h3>
<p>å¹¶è¡ŒåŠ è½½æ˜¯H5å³å¼€SDKæä¾›çš„ä¸€é¡¹åŠ é€Ÿèƒ½åŠ›ï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯ï¼šåœ¨ç”¨æˆ·æ‰“å¼€é¡µé¢æ—¶ï¼Œé€šè¿‡nativeå±‚å¹¶è¡Œè¯·æ±‚å…³é”®èµ„æºï¼Œå‡å°‘é¡µé¢åŠ è½½è€—æ—¶ã€‚å…¶æœ¬è´¨æ˜¯åˆ©ç”¨webviewåŠnativeé¡µé¢åˆå§‹åŒ–çš„æ—¶é—´çª—å£ï¼Œæå‰å‘èµ·èµ„æºè¯·æ±‚ï¼Œå®ç°"æ—¶é—´å¤ç”¨"ã€‚</p>
<h3 data-id="heading-2">1.2 æ ¸å¿ƒåŠ è½½èµ„æº</h3>
<p>å¹¶è¡ŒåŠ è½½çš„å…³é”®èµ„æºåŒ…å«ä¸¤ç±»ï¼š</p>
<ul>
<li>
<p>H5é¡µé¢é¦–å¸§æ¸²æŸ“ä¾èµ–çš„index.htmlï¼ˆé¦–å¸§èµ„æºï¼ŒåŠ è½½æ—¶æœºææ—©ï¼‰ã€‚</p>
</li>
<li>
<p>CSRæ¨¡å¼ä¸‹é¡µé¢ä¾èµ–çš„APIæ¥å£ï¼ˆé€šå¸¸åœ¨é¦–å¸§æ¸²æŸ“åè°ƒç”¨ï¼ŒåŠ è½½æ—¶æœºè¾ƒæ™šï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">1.3 å·¥ä½œæµç¨‹ç¤ºæ„å›¾</h3>
<p><img src="https://static001.geekbang.org/infoq/57/57de947c06aedc2896d1fff26a5f3859.png" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å³å¼€SDKåœ¨æµç¨‹ä¸­ä¸»è¦å®Œæˆä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>
<p>ç”¨æˆ·æ‰“å¼€URLæ—¶ï¼Œå¹¶è¡Œè¯·æ±‚H5ä¾èµ–çš„APIæ¥å£æˆ–index.htmlæ–‡ä»¶ã€‚</p>
</li>
<li>
<p>æ‹¦æˆªwebviewè¯·æ±‚ï¼Œå°†å¹¶è¡ŒåŠ è½½çš„ç¼“å­˜æ•°æ®å¯¼æµç»™webviewï¼Œå®ç°åŠ é€Ÿã€‚</p>
</li>
</ol>
<h2 data-id="heading-4">äºŒã€å¹¶è¡ŒåŠ è½½çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼šèµ„æºäº¤æ¥åœºæ™¯</h2>
<p>å¹¶è¡ŒåŠ è½½çš„æ ¸å¿ƒé—®é¢˜æ˜¯å¦‚ä½•åœ¨webviewéœ€è¦èµ„æºæ—¶ï¼Œå°†å¹¶è¡Œè¯·æ±‚çš„èµ„æºæ— ç¼äº¤æ¥ã€‚æ ¹æ®èµ„æºçŠ¶æ€å¯åˆ†ä¸º<strong>ä¸‰ç±»åœºæ™¯</strong>ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/c7/c745f50b16e6a310eed87cf5639df2c7.png" alt="" loading="lazy"/></p>
<p>ä¸‹é¢æˆ‘ä»¬é’ˆå¯¹ä¸‰ä¸ªåœºæ™¯åˆ†åˆ«çœ‹å¤„ç†æ–¹æ¡ˆ</p>
<h3 data-id="heading-5">2.1 åœºæ™¯ä¸€ï¼šç½‘ç»œæ•°æ®å°šæœªå“åº”ï¼Œwebviewå¼€å§‹éœ€è¦èµ„æº</h3>
<p><strong>è§£å†³æ–¹æ¡ˆä¸€</strong></p>
<p>å¿½ç•¥ç½‘ç»œæ•°æ®ï¼Œwebviewè‡ªå·±åŠ è½½èµ„æºã€‚</p>
<p><strong>çŸ›ç›¾ç‚¹ï¼š</strong></p>
<p><strong>å¦‚æœæ˜¯å› ä¸ºæœåŠ¡å™¨å‹åŠ›å¤§ï¼Œç½‘ç»œç¯å¢ƒå·®å¯¼è‡´çš„å“åº”æ…¢ï¼Œwebviewè‡ªå·±å»åŠ è½½ä¹Ÿä¼šé‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œè€Œä¸”ç›´æ¥æ”¾å¼ƒå·²å¹¶è¡ŒåŠ è½½çš„ä»»åŠ¡ï¼Œç­‰äºæ˜¯æµªè´¹äº†å·²ç»å¤„äºå»ºè”ä¸­ï¼Œå¯èƒ½å·²ç»å®Œæˆäº†ä¸€éƒ¨åˆ†ç­‰å¾…çš„æ—¶é—´ã€‚</strong></p>
<p><strong>è§£å†³æ–¹æ¡ˆäºŒ</strong></p>
<p>webviewç­‰å¾…ç½‘ç»œèµ„æºåŠ è½½æˆåŠŸåï¼Œå†ä½¿ç”¨åŠ è½½æˆåŠŸçš„èµ„æºã€‚</p>
<p><strong>çŸ›ç›¾ç‚¹ï¼š</strong></p>
<p>è®©webviewçš„èµ„æºè·å–çº¿ç¨‹ç­‰å¾…å¹¶è¡Œä»»åŠ¡å“åº”å¹¶è¿”å›ï¼Œé‚£ä¹ˆç­‰å¤šä¹…ï¼Œå¦‚æœæ—¶é—´å¤ªä¹…æ€ä¹ˆåŠï¼Œéœ€è¦è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¦‚ä½•ç­‰å¾…ï¼Œå¹¶ä¸”åœ¨ç­‰å¾…çš„è¿‡ç¨‹ä¸­è¿˜è¦ç›‘æ§å¹¶è¡Œä»»åŠ¡æ˜¯å¦å·²ç»è¿”å›ã€‚</p>
<h3 data-id="heading-6">2.2 åœºæ™¯äºŒï¼šç½‘ç»œæ•°æ®å·²å“åº”ï¼Œwebviewå¼€å§‹éœ€è¦èµ„æº</h3>
<p>åœºæ™¯äºŒéœ€è¦è€ƒè™‘<strong>ä¸¤ç§æƒ…å†µ</strong></p>
<p><strong>æƒ…å†µä¸€</strong></p>
<p>åœ¨webvieéœ€è¦æ•°æ®çš„æ—¶å€™ï¼Œç½‘ç»œæ•°æ®æµåˆšå¥½å®Œæˆå»ºè”ï¼Œwebviewå¯ä»¥ç›´æ¥ä½¿ç”¨ç½‘ç»œæ•°æ®æµåŠ è½½ã€‚</p>
<p><strong>æƒ…å†µäºŒ</strong></p>
<p>ç½‘ç»œæ•°æ®æµå»ºè”çš„æ—¶å€™ï¼Œwebviewè¿˜æœªå¼€å§‹éœ€è¦ä½¿ç”¨æ•°æ®ï¼Œå¹¶è¡Œä»»åŠ¡æœ‰æ—¶é—´å°†ç½‘ç»œæ•°æ®æµè¯»å–åˆ°ç¼“å†²åŒºä¸­ï¼Œwebviewåœ¨éœ€è¦æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥è¯»å–ç¼“å†²åŒºçš„æ•°æ®ã€‚</p>
<p><strong>çŸ›ç›¾ç‚¹ï¼š</strong></p>
<p>å¤§å®¶çŸ¥é“ç½‘ç»œæ•°æ®è¯»å–æ˜¯æœ‰å—é™äºç½‘ç»œç¯å¢ƒå½±å“çš„ï¼Œé¢„å…ˆè¿›è¡Œç½‘ç»œçš„æ•°æ®è¯»å–ï¼Œå†äº¤æ¥ç»™webviewï¼Œè‚¯å®šèƒ½æ›´å¤§ç¨‹åº¦ä¸Šé™ä½è¯»å–è€—æ—¶ï¼Œä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœå¹¶è¡Œä»»åŠ¡åœ¨è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜æ²¡æœ‰è¯»å®Œï¼Œwebviewå°±æ¥è¦æ•°æ®æ€ä¹ˆåŠï¼Œè®©webviewç­‰å¾…å—ï¼Ÿå¦‚æœç­‰å¾…ï¼Œç­‰å¾…å¤šä¹…ï¼Ÿå¦‚æœä¸ç­‰å¾…ï¼Œåˆå¦‚ä½•å°†å·²è¯»å–åœ¨ç¼“å†²åŒºä¸­çš„æ•°æ®å’Œæœªè¯»å–çš„ç½‘ç»œæµæ•°æ®ä¸€èµ·äº¤ç»™webviewå‘¢ã€‚</p>
<h3 data-id="heading-7">2.3 åœºæ™¯ä¸‰ï¼šç½‘ç»œæ•°æ®è¿”å›é”™è¯¯ï¼Œwebviewå¼€å§‹éœ€è¦èµ„æº</h3>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<p>å¹¶è¡Œä»»åŠ¡å·²å¤±è´¥ï¼Œç›´æ¥åºŸå¼ƒå¹¶è¡Œä»»åŠ¡ï¼Œè®©webviewè‡ªå·±åŠ è½½èµ„æºã€‚</p>
<h2 data-id="heading-8">ä¸‰ã€æ—©æœŸæ–¹æ¡ˆè®¾è®¡ä¸å±€é™</h2>
<p>åœ¨æœ€å¼€å§‹ï¼Œæˆ‘ä»¬å¸Œæœ›å¹¶è¡Œä»»åŠ¡è®¾è®¡çš„è¶³å¤Ÿç®€å•ï¼ŒåŸºäºä»¥ä¸Šæ‰€æœ‰åœºæ™¯ä¸‹çš„ç†è§£ï¼Œæƒè¡¡å¼€å‘éš¾åº¦ï¼Œæˆ‘ä»¬è®¾è®¡äº†ç¬¬ä¸€ä¸ªæ–¹æ¡ˆã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬å¸Œæœ›é¿å¼€åœºæ™¯äºŒä¸­ï¼Œç½‘ç»œæ•°æ®æµå·²å»ºè”ï¼Œç½‘ç»œçº¿ç¨‹æ­£åœ¨è¯»å–ç½‘ç»œæµåˆ°ç¼“å†²åŒºï¼Œè¯»åˆ°ä¸€åŠwebviewæ¥å–æ•°æ®çš„åœºæ™¯ï¼Œå› ä¸ºæˆ‘ä»¬è§‰å¾—è¿™ç§åœºæ™¯è¾ƒä¸ºå¤æ‚ï¼Œå¦‚æœè¿”å›æ··åˆæµï¼Œå¯èƒ½ä¼šå‡ºç°æ§åˆ¶ä¸å¥½çš„æƒ…å†µï¼Œè€Œä¸”æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸¤æ¡çº¿ç¨‹å‚ä¸çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œå­˜åœ¨ä¸€ä¸ªä¸­é—´æ€ï¼Œä¹Ÿå°±æ˜¯ç”Ÿäº§è€…ç”Ÿäº§åˆ°ä¸€åŠæ—¶ï¼Œæ¶ˆè´¹è€…è¿‡æ¥è¦æ¶ˆè´¹æ•°æ®ï¼Œç”Ÿäº§è€…è¦ç«‹åˆ»åœæ­¢ç”Ÿäº§ï¼Œå¹¶æŠŠæœªæˆå“äº¤ç»™æ¶ˆè´¹è€…ï¼Œè¿™æ˜¾ç„¶æ¯”å¸¸è§„çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼æ›´åŠ å¤æ‚ï¼Œäºæ˜¯æˆ‘ä»¬å†³å®šç”¨æ›´ç®€å•çš„æ–¹æ³•æ¥å¤„ç†ï¼Œæ–¹æ¡ˆå°±æ˜¯æŠŠè¿™ä¸ªè¾ƒä¸ºå¤æ‚çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…ï¼Œå˜å›ç®€å•çš„å…¸å‹ç”Ÿäº§è€…æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…ä¸èƒ½æ‰“æ–­ç”Ÿäº§è€…çš„ç”Ÿäº§è¿‡ç¨‹ï¼Œè€Œæ˜¯ç­‰å¾…ç”Ÿäº§å®Œæˆï¼Œé¿å…ä¸­é—´æ€ä¸‹çš„å¤æ‚å¤„ç†ï¼Œè™½ç„¶åšäº†å¦¥åï¼Œä½†æ˜¯æˆ‘ä»¬ä¾ç„¶å¸Œæœ›æœ‰è¾ƒå¥½çš„æ€§èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†index.htmlä»»åŠ¡å’ŒCSRæ¨¡å¼ä¸‹çš„APIä»»åŠ¡åˆ†ä¸ºä¸¤ä¸ªä¸åŒçš„æ–¹å¼æ¥è¿›è¡Œå¤„ç†ã€‚</p>
<h3 data-id="heading-9">3.1 index.htmlé¦–å¸§èµ„æºå¤„ç†</h3>
<p>index.htmlï¼Œè¿™æ˜¯webviewå®Œæˆåˆå§‹åŒ–åç¬¬ä¸€ä¸ªè¦åŠ è½½çš„èµ„æºï¼Œä¿—ç§°é¦–å¸§èµ„æºã€‚å› æ­¤index.htmlçš„ä½¿ç”¨æ—¶æœºå¯ä»¥è¯´æ˜¯éå¸¸çš„é å‰ï¼Œåœ¨å¹¶è¡ŒåŠ è½½ä»»åŠ¡ä¸­ï¼Œå®ƒçš„å¯ç”¨å¹¶è¡ŒåŠ è½½æ—¶é—´ä¹Ÿå¤§è‡´åœ¨100mså·¦å³ï¼Œæˆ‘ä»¬è®¤ä¸ºåœ¨è¿™ä¸ªæ—¶é—´å†…ï¼Œå¹¶è¡Œä»»åŠ¡å¤§æ¦‚ç‡å¯ä»¥å®Œæˆå»ºè”ï¼Œä½†æ˜¯å¯èƒ½æ²¡æœ‰æ—¶é—´å†å®Œæˆæ•°æ®æµçš„è¯»å–ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†streamå¯¹è±¡æ¥ä¿å­˜ç½‘ç»œæ•°æ®æµã€‚</p>
<p>ç”¨æˆ·ç‚¹å‡»H5å…¥å£æŒ‰é’®ï¼Œå¹¶è¡Œindexä»»åŠ¡å‘èµ·ï¼Œè®¿é—®ç½‘ç»œå¼€å§‹å»ºè”ï¼Œä¸€ä½†å®Œæˆæœ‰æ•ˆå»ºè”ï¼Œåˆ™ä¿å­˜ç½‘ç»œstreamå¯¹è±¡ï¼Œå½“webviewéœ€è¦ä½¿ç”¨è¯¥æ•°æ®æµçš„æ—¶å€™ï¼Œåˆ¤å®šstreamå¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥ä½¿ç”¨è¯¥æ•°æ®æµï¼Œå¦‚æœstreamå¯¹è±¡ä¸å­˜åœ¨ï¼Œåˆ™åˆ¤å®šç½‘ç»œè®¿é—®æ˜¯å¦è¿”å›ï¼Œå¦‚æœæ˜¯å› ä¸ºç½‘ç»œè®¿é—®å¤±è´¥å¯¼è‡´streamä¸ºç©ºï¼Œåˆ™è®¤ä¸ºæ˜¯å¹¶è¡Œä»»åŠ¡å¤±è´¥ï¼Œå¦åˆ™ä¼šè¿›å…¥ç­‰å¾…æ¨¡å¼ï¼Œç­‰å¾…æ¨¡å¼ä¸‹ï¼Œçº¿ç¨‹å»ºç«‹ä¸€ä¸ªå¾ªç¯ä½“ï¼Œæ¯éš”5msï¼Œæ¢æµ‹ä¸€æ¬¡streamæ˜¯å¦å­˜åœ¨ï¼Œç½‘ç»œæ˜¯å¦å·²å®Œæˆå»ºè”ï¼Œä¸€ä½†æ¢æµ‹åˆ°ç»“æœï¼Œåˆ™é€€å‡ºå¾ªç¯ä½“ï¼Œå³ä½¿å¤šæ¬¡æ²¡æœ‰æ¢æµ‹åˆ°ç»“æœï¼Œ1500msåä¾ç„¶é€€å‡ºå¾ªç¯ä½“ï¼Œæ­¤æ—¶æ”¾å¼ƒå¹¶è¡Œä»»åŠ¡æ•°æ®ï¼Œæ”¹ä¸ºwebviewè‡ªä¸»åŠ è½½èµ„æºã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªæ–¹æ¡ˆ</p>
<p>å¾ªç¯ä½“çš„ç­‰å¾…æœºåˆ¶å®ç°äº†æ¶ˆè´¹è€…ç­‰å¾…ç”Ÿäº§è€…å®Œæˆç”Ÿäº§çš„è¿‡ç¨‹ï¼Œ5msçš„æ£€æµ‹æ—¶æœºï¼Œå®ç°äº†ç”Ÿäº§è€…ç”Ÿäº§å®Œæˆåï¼Œæ¶ˆè´¹è€…çŸ¥æ™“ç”Ÿäº§è€…ç”Ÿäº§çŠ¶æ€çš„èƒ½åŠ›ï¼Œ1500msçš„çš„è¶…æ—¶é€€å‡ºï¼Œè§£å†³äº†ç”Ÿäº§è€…å‡ºç°é—®é¢˜æ—¶ï¼Œæ¶ˆè´¹è€…å›°åœ¨å¾ªç¯ç­‰å¾…ä¸­çš„æƒ…å†µã€‚æ•´ä¸ªæ–¹æ¡ˆï¼Œåªåœ¨ä¿å­˜çš„streamå¯¹è±¡ä¸Šæ·»åŠ volatileå…³é”®å­—ï¼Œå®ç°è½»é‡çš„å¯¹è±¡å¯è§æ€§çº¿ç¨‹åŒæ­¥ã€‚</p>
<p>æ•´ä½“<strong>æ–¹æ¡ˆé€»è¾‘</strong>å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-10">3.1.1 indexå¹¶è¡Œä»»åŠ¡å‘èµ·</h4>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·ç‚¹å‡»H5å…¥å£æŒ‰é’®]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[å¹¶è¡Œå‘èµ·indexä»»åŠ¡]</span>
    <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[nativeè®¿é—®ç½‘ç»œå¼€å§‹å»ºè”]</span>
    C --&gt; D{å»ºè”æˆåŠŸ?}
    D --&gt;|æ˜¯| E<span class="hljs-selector-attr">[ä¿å­˜ç½‘ç»œStreamå¯¹è±¡]</span>
    E --&gt;F<span class="hljs-selector-attr">[è®°å½•ç»“æŸçŠ¶æ€]</span>
    D --&gt;|å¦| F<span class="hljs-selector-attr">[è®°å½•ç»“æŸçŠ¶æ€]</span>
</code></pre>
<p><img src="https://static001.geekbang.org/infoq/44/442a37bb1dcb13fdaaa7aa5717d9e8cf.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-11">3.1.2 webviewä½¿ç”¨indexèµ„æº</h4>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·ç‚¹å‡»H5å…¥å£æŒ‰é’®]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[webviewåˆå§‹åŒ–]</span>
    <span class="hljs-selector-tag">B</span> --&gt; C{éœ€è¦ä½¿ç”¨indexæ•°æ®æµ}
    C --&gt;|æ˜¯| D<span class="hljs-selector-attr">[æŸ¥æ‰¾streamå¯¹è±¡æ˜¯å¦å­˜åœ¨]</span>
    D --&gt;|å­˜åœ¨| E<span class="hljs-selector-attr">[ç›´æ¥ä½¿ç”¨æ•°æ®æµ]</span>
    D --&gt;|ä¸å­˜åœ¨| F{ç½‘ç»œè®¿é—®å·²ç»“æŸ?}
    F --&gt;|æ˜¯ä¸”streamä¸ºç©º| G<span class="hljs-selector-attr">[åˆ¤å®šå¹¶è¡Œä»»åŠ¡å¤±è´¥]</span>
    F --&gt;|å¦| H<span class="hljs-selector-attr">[è¿›å…¥ç­‰å¾…æ¨¡å¼]</span>
    H --&gt; <span class="hljs-selector-tag">I</span><span class="hljs-selector-attr">[å»ºç«‹æ¢æµ‹å¾ªç¯ä½“]</span>
    <span class="hljs-selector-tag">I</span> --&gt; J<span class="hljs-selector-attr">[æ¯éš”5msæ¢æµ‹]</span>
    J --&gt; K{streamå­˜åœ¨?}
    K --&gt;|æ˜¯| L<span class="hljs-selector-attr">[ä½¿ç”¨æ•°æ®æµå¹¶é€€å‡ºå¾ªç¯]</span>
    K --&gt;|å¦| M{å¹¶è¡Œä»»åŠ¡å·²ç»“æŸ?}
    M --&gt;|æ˜¯| N<span class="hljs-selector-attr">[æ”¾å¼ƒå¹¶è¡Œä»»åŠ¡å¹¶é€€å‡ºå¾ªç¯]</span>
    M --&gt;|å¦| O{è¾¾åˆ°<span class="hljs-number">1500ms</span>?}
    O --&gt;|æ˜¯| <span class="hljs-selector-tag">P</span><span class="hljs-selector-attr">[è¶…æ—¶é€€å‡ºå¾ªç¯]</span>
    O --&gt;|å¦| J
    <span class="hljs-selector-tag">P</span> --&gt; <span class="hljs-selector-tag">Q</span><span class="hljs-selector-attr">[webviewè‡ªä¸»åŠ è½½èµ„æº]</span>
    N --&gt; <span class="hljs-selector-tag">Q</span>
    L --&gt; R<span class="hljs-selector-attr">[æµç¨‹ç»“æŸ]</span>
    G --&gt; <span class="hljs-selector-tag">Q</span>
    <span class="hljs-selector-tag">Q</span> --&gt; R
</code></pre>
<p><img src="https://static001.geekbang.org/infoq/0f/0f1907c80c44bc440b80b462e90d3305.jpeg" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-12">3.2 API æ¥å£èµ„æºå¤„ç†</h3>
<p>APIæ¥å£é€šå¸¸åœ¨é¡µé¢å®Œæˆç¬¬ä¸€æ¬¡æ¸²æŸ“åï¼Œæ‰å¼€å§‹è°ƒç”¨ï¼Œè¿™ä¸ªæ—¶å€™é¡µé¢å¯èƒ½ä¼šå±•ç¤ºä¸€ä¸ªloadingçŠ¶æ€ï¼Œæˆ–è€…æ˜¯éª¨æ¶å±ï¼Œè¿™ä¸ªæ—¶æœºç›¸å¯¹é åï¼Œå¹¶è¡Œä»»åŠ¡æœ‰å……è¶³çš„æ—¶é—´æ¥å®Œæˆç½‘ç»œçš„å»ºè”ä»»åŠ¡ï¼Œç”šè‡³æœ‰å……è¶³çš„æ—¶é—´å°†ç½‘ç»œæµè¯»å–åˆ°ç¼“å†²åŒºä¸­ã€‚</p>
<p>é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¿å­˜äº†ä¸€ä¸ªbyteæ•°ç»„ï¼Œå°†ç½‘ç»œæµæ•°æ®è¯»å–åˆ°è¿™ä¸ªbyteæ•°ç»„ä¸­ï¼Œwebviewéœ€è¦ä½¿ç”¨æ•°æ®æ—¶ï¼Œå°†byteæ•°ç»„åŒ…è£…æˆByteArrayInputStreamè¿”å›ã€‚</p>
<p>é€»è¾‘å›¾å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-13">3.2.1 APIå¹¶è¡Œä»»åŠ¡å‘èµ·</h4>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·ç‚¹å‡»H5å…¥å£æŒ‰é’®]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[å¹¶è¡Œå‘èµ·indexä»»åŠ¡]</span>
    <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[nativeè®¿é—®ç½‘ç»œå¼€å§‹å»ºè”]</span>
    C --&gt; D{å»ºè”æˆåŠŸ?}
    D --&gt;|æ˜¯| E<span class="hljs-selector-attr">[è¯»å–ç½‘ç»œstream]</span>
    E --&gt; F<span class="hljs-selector-attr">[ä¿å­˜åˆ°æœ¬åœ°byteæ•°ç»„]</span>
    D --&gt;|å¦| G<span class="hljs-selector-attr">[è®°å½•ç»“æŸçŠ¶æ€]</span>
    F --&gt; H<span class="hljs-selector-attr">[æµç¨‹å®Œæˆ]</span>
    G --&gt; H
</code></pre>
<p><img src="https://static001.geekbang.org/infoq/c5/c54d989c18eadf5111df6e2b141c297b.png" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-14">3.2.2 webviewä½¿ç”¨APIèµ„æº</h4>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·ç‚¹å‡»H5å…¥å£æŒ‰é’®]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[webviewåˆå§‹åŒ–]</span>
    <span class="hljs-selector-tag">B</span> --&gt; C{éœ€è¦ä½¿ç”¨indexæ•°æ®æµ}
    C --&gt;|æ˜¯| D<span class="hljs-selector-attr">[æŸ¥æ‰¾byteæ•°ç»„æ˜¯å¦å­˜åœ¨]</span>
    D --&gt;|å­˜åœ¨| E<span class="hljs-selector-attr">[å°è£…ä¸ºByteArrayInputStreamè¿”å›ç»™webview]</span>
    E --&gt; X<span class="hljs-selector-attr">[æµç¨‹ç»“æŸ]</span>
    
    D --&gt;|ä¸å­˜åœ¨| G{ç½‘ç»œè®¿é—®å·²ç»“æŸ?}
    G --&gt;|æ˜¯ä¸”byteæ•°ç»„ä¸ºç©º| H<span class="hljs-selector-attr">[åˆ¤å®šå¹¶è¡Œä»»åŠ¡å¤±è´¥]</span>
    G --&gt;|å¦| <span class="hljs-selector-tag">I</span><span class="hljs-selector-attr">[è¿›å…¥ç­‰å¾…æ¨¡å¼]</span>
    
    <span class="hljs-selector-tag">I</span> --&gt; J<span class="hljs-selector-attr">[å»ºç«‹æ¢æµ‹å¾ªç¯ä½“]</span>
    J --&gt; K<span class="hljs-selector-attr">[æ¯éš”5msæ¢æµ‹]</span>
    K --&gt; L{byteæ•°ç»„å­˜åœ¨?}
    L --&gt;|æ˜¯| M<span class="hljs-selector-attr">[å°è£…ä½¿ç”¨å¹¶é€€å‡ºå¾ªç¯]</span>
    L --&gt;|å¦| N{å¹¶è¡Œä»»åŠ¡å·²ç»“æŸ?}
    N --&gt;|æ˜¯| O<span class="hljs-selector-attr">[æ”¾å¼ƒå¹¶è¡Œä»»åŠ¡å¹¶é€€å‡º]</span>
    N --&gt;|å¦| <span class="hljs-selector-tag">P</span>{è¾¾åˆ°<span class="hljs-number">1500ms</span>?}
    <span class="hljs-selector-tag">P</span> --&gt;|æ˜¯| <span class="hljs-selector-tag">Q</span><span class="hljs-selector-attr">[è¶…æ—¶é€€å‡º]</span>
    <span class="hljs-selector-tag">P</span> --&gt;|å¦| K
    
    M --&gt; E
    O --&gt; R<span class="hljs-selector-attr">[webviewè‡ªä¸»åŠ è½½]</span>
    <span class="hljs-selector-tag">Q</span> --&gt; R
    H --&gt; R
    R --&gt; X
</code></pre>
<p><img src="https://static001.geekbang.org/infoq/35/3527bfb2a5726d346e1a38d8300a6c3b.png" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»ä¸Šè¿°çš„é€»è¾‘å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä½†ç½‘ç»œå»ºè”çš„æ—¶é—´ä¸è¶³ï¼Œæ•°æ®å“åº”ä¸åŠæ—¶ï¼Œwebviewå°±ä¼šå¤„äºç­‰å¾…çŠ¶æ€ã€‚</p>
<p>æœ‰ä¸¤ç§åœºæ™¯ä¼šå¯¼è‡´webviewå»ºç«‹çº¿ç¨‹å¾ªç¯ä½“ç­‰å¾…èµ„æºï¼š</p>
<p>**åœºæ™¯ä¸€ï¼š**å¹¶è¡Œå‘èµ·çš„ç½‘ç»œè¯·æ±‚ï¼Œå› ä¸ºç½‘ç»œé€Ÿåº¦æ…¢ï¼Œå°šæœªå»ºè”è¿”å›æœ‰æ•ˆçš„ç½‘ç»œstreamã€‚</p>
<p>**åœºæ™¯äºŒï¼š**åœ¨å¹¶è¡ŒAPIçš„åœºæ™¯ä¸‹ï¼Œè™½ç„¶å·²ç»å»ºè”ï¼Œä½†æ˜¯ç½‘ç»œstreamæ•°æ®è¯»å–ä¸­ï¼Œå°šæœªå®Œå…¨è¯»å–åˆ°ç¼“å†²åŒºï¼Œwebviewä¼šç­‰å¾…ç¼“å†²åŒºç¼“å†²å®Œæˆã€‚</p>
<p>è¿™ä¸¤ç§åœºæ™¯ï¼Œéƒ½ä¼šé€ æˆæ—¶é—´çš„æµªè´¹</p>
<p><strong>åœºæ™¯ä¸€</strong>çš„ç­‰å¾…è™½ç„¶ä¸å¯é¿å…ï¼Œä½†æ˜¯webviewçš„å¾ªç¯ä½“æ£€æµ‹æœºåˆ¶ï¼Œæ¯éš”5msæ‰ä¼šæ£€æµ‹ä¸€æ¬¡ï¼Œæœ€å·®çš„æƒ…å†µä¸‹ï¼Œæ— æ•ˆç­‰å¾…æ—¶é—´å¯ä»¥æœ€é•¿è¾¾åˆ°5msï¼ˆä¸Šä¸€æ¬¡å¾ªç¯æ£€æµ‹åˆšç»“æŸï¼Œç½‘ç»œå³å®Œæˆå»ºè”ï¼Œéœ€è¦ä¸‹ä¸€ä¸ª5msä¹‹åæ‰ä¼šå‘èµ·æ£€æµ‹ï¼‰ã€‚</p>
<p><strong>åœºæ™¯äºŒ</strong>çš„æ— æ•ˆç­‰å¾…æ—¶é—´å°±æ›´é•¿äº†ï¼Œå³ä½¿å·²ç»å®Œæˆå»ºè”ï¼Œwebviewä¹Ÿè¦ç­‰å¾…ç¼“å­˜å…¨éƒ¨å®Œæˆï¼Œå¾…ç¼“å­˜å®Œæˆä¹‹åï¼Œwebviewåˆå†æ¬¡ä»ç¼“å†²åŒºè¯»å–ä¸€æ¬¡æ•°æ®ï¼Œå…¨é‡ç¼“å­˜ä¸å°±æµªè´¹äº†æ—¶é—´ï¼Œè¿˜æµªè´¹äº†å†…å­˜ã€‚</p>
<h3 data-id="heading-15">3.3 æ—©æœŸæ–¹æ¡ˆçš„æ ¸å¿ƒå±€é™</h3>
<ul>
<li>
<p><strong>æ—¶é—´æµªè´¹</strong>ï¼šå¾ªç¯æ¢æµ‹ï¼ˆæ¯ 5ms ä¸€æ¬¡ï¼‰å­˜åœ¨æ— æ•ˆç­‰å¾…</p>
</li>
<li>
<p><strong>å†…å­˜æµªè´¹</strong>ï¼šAPI æ¥å£å…¨é‡ç¼“å­˜å ç”¨é¢å¤–å†…å­˜</p>
</li>
<li>
<p><strong>èµ„æºåˆ©ç”¨ç‡ä½</strong>ï¼šæ”¾å¼ƒéƒ¨åˆ†åŠ è½½çš„èµ„æºï¼Œæœªå……åˆ†åˆ©ç”¨å¹¶è¡Œè¯·æ±‚çš„æ—¶é—´çª—å£</p>
</li>
</ul>
<h2 data-id="heading-16">å››ã€æ–¹æ¡ˆæ¼”è¿›ï¼šä¼˜åŒ–æ—¶é—´ä¸å†…å­˜æ¶ˆè€—</h2>
<p>åœ¨åæ€æ—©æœŸæ–¹æ¡ˆçš„å¼Šç«¯ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†å†…å­˜çš„æ¶ˆè€—å’Œæ—¶é—´ä¸Šçš„æµªè´¹ï¼Œé‚£ä¹ˆæ–°æ–¹æ¡ˆçš„ä¼˜åŒ–ä¾§é‡ç‚¹å°±æ˜¯ä¼˜åŒ–å†…å­˜çš„æ¶ˆè€—å’Œå¾ªç¯ç­‰å¾…æ—¶é—´ä¸Šçš„æ¶ˆè€—ï¼Œä¼˜åŒ–è€—æ—¶çš„ä¼˜åŒ–å¤§åˆ€æ˜¯ç›´æ¥å¹²æ‰å¾ªç¯ç­‰å¾…ï¼Œä¼˜åŒ–å†…å­˜æ¶ˆè€—çš„ä¼˜åŒ–å¤§åˆ€æ˜¯å¹²æ‰å…¨é‡çš„ç¼“å­˜å»ºç«‹ï¼Œä½†æ˜¯åšåŠ æ³•ç®€å•ï¼Œåšå‡æ³•å°±æ²¡é‚£ä¹ˆå®¹æ˜“ã€‚</p>
<h3 data-id="heading-17">4.1 ä¼˜åŒ–æ€è·¯</h3>
<p>æ–°æ–¹æ¡ˆçš„æ ¸å¿ƒæ˜¯è§£å†³ä¸­é—´æ€äº¤æ¥é—®é¢˜ï¼Œé€šè¿‡çº¿ç¨‹åŒæ­¥å’Œæµæ¡¥æ¥æŠ€æœ¯å®ç°ä¼˜åŒ–ã€‚</p>
<p>æ•´ä½“çš„æ„æ€å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>å¹²æ‰å¾ªç¯ç­‰å¾…</strong>ï¼šç”¨çº¿ç¨‹åŒæ­¥æœºåˆ¶æ›¿ä»£è½®è¯¢</p>
</li>
<li>
<p><strong>å¹²æ‰å…¨é‡ç¼“å­˜</strong>ï¼šé‡‡ç”¨åŠç¼“å†²æ¨¡å¼ï¼Œä»…ç¼“å­˜éƒ¨åˆ†æ•°æ®</p>
</li>
<li>
<p><strong>æ”¯æŒä¸­é—´æ€äº¤æ¥</strong>ï¼šå…è®¸ webview æ‰“æ–­å¹¶è¡Œä»»åŠ¡ï¼Œåˆå¹¶å·²ç¼“å†²ä¸æœªç¼“å†²æ•°æ®</p>
</li>
</ul>
<h3 data-id="heading-18">4.2 æŠ€æœ¯å®ç°ï¼šç”Ÿäº§è€… - æ¶ˆè´¹è€…æ¨¡å‹</h3>
<h4 data-id="heading-19">4.2.1 æ ¸å¿ƒé€»è¾‘</h4>
<p>æˆ‘ä»¬æŠŠç½‘ç»œå»ºè”+ç½‘ç»œæ•°æ®è¯»å–åˆ°ç¼“å†²åŒºçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œçœ‹ä½œæ˜¯ç”Ÿäº§è¿‡ç¨‹ï¼Œ ç”¨ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹æ¥æè¿°è¿™ä¸ª<strong>è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li>
<p>ç”Ÿäº§è€…æ¥åˆ°ç”Ÿäº§äº§å“ä»»åŠ¡</p>
</li>
<li>
<p>æ¶ˆè´¹è€…éšæ—¶è¿‡æ¥æ¶ˆè´¹äº§å“</p>
</li>
<li>
<p>å¦‚æœç”Ÿäº§è€…è¿˜æœªå¼€å§‹ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…å¯ä»¥ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œä½†æ˜¯å¦‚æœè¶…æ—¶å°±æ”¾å¼ƒç­‰å¾…</p>
</li>
<li>
<p>å¦‚æœç”Ÿäº§è€…æ­£åœ¨ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…å¯ä»¥éšæ—¶å¯ä»¥æ‰“æ–­ç”Ÿäº§ï¼Œæ‹¿èµ°ç”Ÿäº§äº†ä¸€åŠçš„äº§å“ï¼Œæ¶ˆè´¹è€…å®Œæˆå‰©ä¸‹äº§å“çš„ç”Ÿäº§ä»»åŠ¡</p>
</li>
<li>
<p>å¦‚æœç”Ÿäº§è€…å·²ç»å®Œæˆç”Ÿäº§ï¼Œæ¶ˆè´¹è€…å°±å¯ä»¥æ‹¿èµ°å…¨éƒ¨äº§å“</p>
</li>
</ul>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ª<strong>æŠ€æœ¯ç‚¹</strong>ï¼š</p>
<ul>
<li>
<p>ç”Ÿäº§è€…åœ¨ç”Ÿäº§è¿‡ç¨‹ä¸­éšæ—¶è¢«æ‰“æ–­</p>
</li>
<li>
<p>ç”Ÿäº§è€…ç”Ÿäº§äº†ä¸€åŠçš„äº§å“å¯ä»¥è¢«ç”¨æ¥ä½¿ç”¨</p>
</li>
</ul>
<p>æˆ‘ä»¬å°è¯•ä½¿ç”¨çº¿ç¨‹é—´åŒæ­¥æœºåˆ¶å’Œæ¡¥æ¥æµæŠ€æœ¯æ¥å®ç°è¿™äº›éœ€æ±‚ï¼š</p>
<h3 data-id="heading-20">4.3 ä»£ç æ ¸å¿ƒå®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;

<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> java.lang.Thread.sleep;


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main2</span> {

       <span class="hljs-comment">//æ¨¡æ‹Ÿå“åº”ä½“</span>
       <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseBody</span> {
            InputStream stream;

             <span class="hljs-keyword">public</span> <span class="hljs-title function_">ResponseBody</span><span class="hljs-params">(InputStream stream)</span>{
                 <span class="hljs-built_in">this</span>.stream = stream;
            }

            <span class="hljs-keyword">public</span> InputStream <span class="hljs-title function_">byteStream</span><span class="hljs-params">()</span>{
                <span class="hljs-keyword">return</span> stream;
            }
        }


        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SyncLoadResponseBean</span> {

            <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SyncLoadResponseBean"</span>;

            <span class="hljs-comment">// çŠ¶æ€å¸¸é‡å®šä¹‰</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">INIT</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;  <span class="hljs-comment">// åˆå§‹çŠ¶æ€</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">READY</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; <span class="hljs-comment">// æ•°æ®å‡†å¤‡å°±ç»ª</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">OFFER</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>; <span class="hljs-comment">// æ•°æ®å·²æä¾›</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">DROP</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;  <span class="hljs-comment">// æ•°æ®å·²ä¸¢å¼ƒ</span>

            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String mRequestUrl;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, SyncLoadResponseBean&gt; mSyncLoadCache;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">mStatus</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(INIT); <span class="hljs-comment">// çŠ¶æ€æœº</span>

            <span class="hljs-comment">// æ•°æ®å­˜å‚¨ç›¸å…³</span>
            <span class="hljs-keyword">private</span> Map&lt;String, String&gt; mResponseHeader;
            <span class="hljs-keyword">private</span> ByteArrayOutputStream mBufferStream;
            <span class="hljs-keyword">private</span> InputStream mNetworkStream;
            <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> mResponseTime;


            <span class="hljs-keyword">public</span> <span class="hljs-title function_">SyncLoadResponseBean</span><span class="hljs-params">(String requestUrl, ConcurrentHashMap&lt;String, SyncLoadResponseBean&gt; syncLoadCache)</span>{
                mRequestUrl = requestUrl;
                mSyncLoadCache = syncLoadCache;
                mStatus.set(INIT);
            }

            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">before</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span>{
               <span class="hljs-keyword">return</span> mStatus.get() &lt; status;
            }

            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">during</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span>{
                <span class="hljs-keyword">return</span> mStatus.get() == status;
            }

            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">after</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span>{
                <span class="hljs-keyword">return</span> mStatus.get() &gt;= status;
            }

            <span class="hljs-comment">/**
             * å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹
             * ä½¿ç”¨ tryLock é¿å…é•¿æ—¶é—´é˜»å¡
             */</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalAll</span><span class="hljs-params">()</span>{
                <span class="hljs-keyword">synchronized</span> (SyncLoadResponseBean.<span class="hljs-built_in">this</span>) {
                    <span class="hljs-built_in">this</span>.notifyAll();
                }
            }

            <span class="hljs-comment">/**
             * ä¿å­˜å“åº”æ•°æ®å¹¶é¢„å¤„ç†
             * ç½‘ç»œçº¿ç¨‹ä¼šåœ¨å¾—åˆ°å“åº”åè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¿å­˜æ•°æ®
             */</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveResponse</span><span class="hljs-params">(ResponseBody responseBody, Map&lt;String, String&gt; responseHeader)</span>{
                streamReady(responseBody, responseHeader);
                preReadStream();
            }

             <span class="hljs-comment">/**
             * å‡†å¤‡æ•°æ®æµ
             */</span>
             <span class="hljs-keyword">private</span> voids <span class="hljs-title function_">treamReady</span><span class="hljs-params">(ResponseBody responseBody, Map&lt;String, String&gt; responseHeader)</span>{
                <span class="hljs-keyword">synchronized</span> (SyncLoadResponseBean.<span class="hljs-built_in">this</span>) {
                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ å“åº”ä¿å­˜"</span>);
                    mResponseTime = System.currentTimeMillis();
                    mResponseHeader = responseHeader;
                    mBufferStream = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();
                    <span class="hljs-keyword">if</span> (responseBody != <span class="hljs-literal">null</span>) {
                        mNetworkStream = responseBody.byteStream();
                        <span class="hljs-comment">// æ ¹æ®æµæ˜¯å¦æœ‰æ•ˆè®¾ç½®çŠ¶æ€</span>
                        <span class="hljs-keyword">if</span> (mNetworkStream != <span class="hljs-literal">null</span>) {
                            mStatus.set(READY);
                        } <span class="hljs-keyword">else</span> {
                            drop();
                        }
                    } <span class="hljs-keyword">else</span> {
                        drop();
                    }
                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ ä¿å­˜å®Œæˆ é€šçŸ¥æ¶ˆè´¹è€…"</span>);
                    signalAll();
                }
            }


            <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preReadStream</span><span class="hljs-params">()</span>{
                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ å¼€å§‹"</span>);
                <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">4096</span>];
                <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">while</span> (during(READY)) {
                        <span class="hljs-keyword">synchronized</span> (SyncLoadResponseBean.<span class="hljs-built_in">this</span>) {
                            <span class="hljs-keyword">try</span> {
                                <span class="hljs-comment">//åŒé‡æ ¡éªŒé”</span>
                                <span class="hljs-keyword">if</span> (during(READY)) {
                                   <span class="hljs-comment">// è¯»å–ç½‘ç»œæµæ•°æ®</span>
                                   <span class="hljs-type">int</span> <span class="hljs-variable">bytesRead</span> <span class="hljs-operator">=</span> mNetworkStream.read(buffer);
                                   <span class="hljs-keyword">if</span> (bytesRead == -<span class="hljs-number">1</span>) {
                                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ å®Œæˆ "</span> + bytesRead);
                                        closeStream(mNetworkStream);
                                        mNetworkStream = <span class="hljs-literal">null</span>;
                                        <span class="hljs-keyword">return</span>;
                                    }
                                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ "</span> + bytesRead);
                                    mBufferStream.write(buffer, <span class="hljs-number">0</span>, bytesRead);
                                }
                            } <span class="hljs-keyword">finally</span> {
                                num++;
                                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ ç¬¬"</span> + num + <span class="hljs-string">"æ¬¡é€šçŸ¥æ¶ˆè´¹è€…"</span>);
                                signalAll();
                            }
                        }
                    }
                    <span class="hljs-comment">//å·²ç»æä¾›äº†æ•°æ®ï¼Œåˆ™æ‰“å°ä¸ªæ—¥å¿—çœ‹ä¸‹</span>
                    <span class="hljs-keyword">if</span> (after(OFFER)) {
                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æ•°æ®æµå·²æä¾› é¢„è¯»ç¼“å­˜ å…³é—­"</span>);
                    }
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    TLog.e(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ å¼‚å¸¸ å…³é—­"</span>, e);
                    <span class="hljs-keyword">synchronized</span> (SyncLoadResponseBean.<span class="hljs-built_in">this</span>) {
                        <span class="hljs-comment">//åœ¨è¯»å–çš„è¿‡ç¨‹ä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰æä¾›æ•°æ®ï¼Œå°±ç›´æ¥dropè°ƒ</span>
                        <span class="hljs-keyword">if</span> (!after(OFFER)) {
                            drop();
                        }
                    }
                }
            }

            <span class="hljs-comment">/**
             * è·å–æ¡¥æ¥æµ
             * æµè§ˆå™¨çº¿ç¨‹è°ƒç”¨è¯¥æ–¹æ³•è·å–æ•°æ®æµ
             */</span>
             <span class="hljs-keyword">public</span> InputStream <span class="hljs-title function_">getBridgedStream</span><span class="hljs-params">()</span>{
                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ®"</span>);
                <span class="hljs-keyword">synchronized</span> (SyncLoadResponseBean.<span class="hljs-built_in">this</span>) {
                  <span class="hljs-keyword">try</span> {
                       <span class="hljs-keyword">if</span> (before(READY)) {
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿›å…¥ç­‰å¾…çŠ¶æ€"</span>);
                            <span class="hljs-built_in">this</span>.wait(<span class="hljs-number">5000</span>);
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¢«å”¤é†’"</span>);
                        }
                        <span class="hljs-comment">// ç­‰å¾…ç»“æŸï¼Œå†ç¡®è®¤ä¸€æ¬¡çŠ¶æ€æ˜¯å¦å¯ç”¨</span>
                        <span class="hljs-keyword">if</span> (before(READY)) {
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® ä¾æ—§æ²¡æœ‰å¯ç”¨æ•°æ® è¿”å›ç©ºæµ"</span>);
                            drop();
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                        } elseif (after(OFFER)) {
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® æ•°æ®å·²è¢«åºŸå¼ƒæˆ–è€…è¢«ä»–äººè¢«ä½¿ç”¨ è¿”å›ç©ºæµ"</span>);
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                        } elseif (isTimeOut()) {
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® æ•°æ®è¶…æ—¶ è¿”å›ç©ºæµ"</span>);
                            drop();
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-keyword">if</span> (mNetworkStream != <span class="hljs-literal">null</span> &amp;&amp; mBufferStream != <span class="hljs-literal">null</span>) {
                                mStatus.set(OFFER);
                                <span class="hljs-comment">// åˆ›å»ºæ–°çš„æ¡¥æ¥æµå®ä¾‹ï¼ŒåŒ…å«å·²ç¼“å­˜æ•°æ®å’Œå‰©ä½™ç½‘ç»œæµ</span>
                                <span class="hljs-type">ByteArrayInputStream</span> <span class="hljs-variable">cachedStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(mBufferStream.toByteArray());
                                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›æ¡¥æ¥æµ"</span>);
                                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SequenceInputStream</span>(cachedStream, mNetworkStream);
                            } elseif (mNetworkStream != <span class="hljs-literal">null</span>) {
                                mStatus.set(OFFER);
                                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›ç½‘ç»œæµ"</span>);
                                <span class="hljs-keyword">return</span> mNetworkStream;
                            } elseif (mBufferStream != <span class="hljs-literal">null</span>) {
                                mStatus.set(OFFER);
                                <span class="hljs-comment">// åˆ›å»ºæ–°çš„æ¡¥æ¥æµå®ä¾‹ï¼ŒåŒ…å«å·²ç¼“å­˜æ•°æ®å’Œå‰©ä½™ç½‘ç»œæµ</span>
                                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›ç¼“å­˜æµ"</span>);
                                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(mBufferStream.toByteArray());
                            } <span class="hljs-keyword">else</span> {
                                drop();
                                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›ç©ºæµ"</span>);
                                 <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                            }
                        }
                    } <span class="hljs-keyword">catch</span> (Exception e) {
                        TLog.e(<span class="hljs-string">"TAG"</span>, <span class="hljs-string">"Create bridged stream failed"</span>, e);
                        drop();
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                    }
                }
            }

            <span class="hljs-comment">/**
             * è·å–å“åº”å¤´
             */</span>
             <span class="hljs-keyword">public</span> Map&lt;String, String&gt; <span class="hljs-title function_">getResponseHeader</span><span class="hljs-params">()</span>{
                <span class="hljs-comment">//å¦‚æœè¯·æ±‚é‡Œé¢ä¸å¸¦è·¨åŸŸæ ‡è¯†ï¼Œåˆ™å¸¦ä¸Šè·¨åŸŸæ ‡è¯†</span>
                <span class="hljs-keyword">if</span> (mResponseHeader != <span class="hljs-literal">null</span> &amp;&amp; !mResponseHeader.containsKey(<span class="hljs-string">"Access-Control-Allow-Origin"</span>)) {
                    mResponseHeader.put(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"*"</span>);
                }
                <span class="hljs-keyword">return</span> mResponseHeader;
            }


            <span class="hljs-comment">/**
             * ç»Ÿä¸€å…³é—­æµèµ„æºæ“ä½œ
             */</span>
             <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">closeStream</span><span class="hljs-params">(Closeable stream)</span>{
<span class="hljs-keyword">if</span> (stream != <span class="hljs-literal">null</span>) {
<span class="hljs-keyword">try</span> {
                        stream.close();
                    } <span class="hljs-keyword">catch</span> (Exception e) {
                        TLog.e(TAG, <span class="hljs-string">"å…³é—­æµå¤±è´¥"</span>, e);
                    }
                }
            }


            <span class="hljs-comment">/**
             * åˆ¤æ–­æ•°æ®æœ‰æ²¡æœ‰è¶…æ—¶
             */</span>
             <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isTimeOut</span><span class="hljs-params">()</span>{
                 <span class="hljs-keyword">return</span> Math.abs(mResponseTime - System.currentTimeMillis()) &gt; <span class="hljs-number">5000</span>;
            }

            <span class="hljs-comment">/**
             * ä¸¢å¼ƒæ•°æ®
             */</span>
             <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">drop</span><span class="hljs-params">()</span>{
                <span class="hljs-keyword">synchronized</span> (SyncLoadResponseBean.<span class="hljs-built_in">this</span>) {
                    mStatus.set(DROP);
                    mResponseHeader = <span class="hljs-literal">null</span>;
                    mResponseTime = <span class="hljs-number">0</span>;
                    closeStream(mBufferStream);
                    closeStream(mNetworkStream);
                    mBufferStream = <span class="hljs-literal">null</span>;
                    mNetworkStream = <span class="hljs-literal">null</span>;
                    mSyncLoadCache.remove(mRequestUrl);
                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ é€Ÿ ç¼“å­˜æ•°æ®ä¸¢å¼ƒ"</span>);
                }
            }
        }


        <span class="hljs-comment">/**
         * ä¸»æ–¹æ³•ï¼Œæµ‹è¯•ç¨‹åºå…¥å£
         */</span>
          <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{

            <span class="hljs-type">SyncLoadResponseBean</span> <span class="hljs-variable">syncLoadResponseBean</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncLoadResponseBean</span>(<span class="hljs-string">"https://www.baidu.com"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;());

            <span class="hljs-comment">//æ¨¡æ‹Ÿç”Ÿäº§è€…çº¿ç¨‹</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
                 <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"ç”Ÿäº§è€…å¯åŠ¨"</span>);
                    <span class="hljs-comment">//æ¨¡æ‹Ÿç½‘ç»œå»ºè”</span>
                    sleep(<span class="hljs-number">200</span>);
                    <span class="hljs-comment">//æ¨¡æ‹Ÿç½‘ç»œèµ„æºè¿”å›</span>
                    <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"./xxxx.txt"</span>);
                    <span class="hljs-type">ResponseBody</span> <span class="hljs-variable">responseBody</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseBody</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(file));
                     <span class="hljs-comment">//æ¨¡æ‹Ÿå“åº”</span>
                    syncLoadResponseBean.saveResponse(responseBody, <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;());
                } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                } <span class="hljs-keyword">finally</span> {
                    System.out.println(<span class="hljs-string">"ç”Ÿäº§çº¿ç¨‹å·¥ä½œå®Œæˆï¼Œå”¤é†’ç­‰å¾…ä¸­çš„æ¶ˆè´¹è€…"</span>);
                    syncLoadResponseBean.signalAll();
                }
            }).start();

              <span class="hljs-comment">//æ¨¡æ‹Ÿæ¶ˆè´¹è€…çº¿ç¨‹1</span>
              <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {

                System.out.println(<span class="hljs-string">"æ¶ˆè´¹è€…å¯åŠ¨"</span>);
                <span class="hljs-comment">//æ¨¡æ‹Ÿè¯»å–</span>
                <span class="hljs-type">InputStream</span> <span class="hljs-variable">stream</span> <span class="hljs-operator">=</span> syncLoadResponseBean.getBridgedStream();
                System.out.println(<span class="hljs-string">"æ¶ˆè´¹è€… "</span> + stream);
            }).start();

        }

    }
</code></pre>
<h3 data-id="heading-21">4.4 ä»£ç è§£è¯»</h3>
<p>ä»£ç çš„å·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>
<p>ç”Ÿäº§è€…ç½‘ç»œçº¿ç¨‹å‘èµ·æ•°æ®è¯·æ±‚ã€‚</p>
</li>
<li>
<p>å»ºè”åä¼šç¬¬ä¸€æ¬¡å‘èµ·notifyï¼Œå°è¯•å”¤é†’ç­‰å¾…ä¸­çš„æ¶ˆè´¹è€…webviewçº¿ç¨‹ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™åˆšå¥½æœ‰æ¶ˆè´¹è€…webviewåœ¨ç­‰å¾…ï¼Œè¿˜æœªè½®åˆ°ç”Ÿäº§è€…é¢„è¯»æ•°æ®ï¼Œæ¶ˆè´¹è€…å°±ä¼šæ‹¿èµ°æ•°æ®ã€‚</p>
</li>
<li>
<p>å¦‚æœæ²¡æœ‰æ¶ˆè´¹è€…åœ¨ç­‰å¾…ï¼Œå°±å¼€å§‹é¢„è¯»ï¼Œé¢„è¯»æ˜¯ä¸€ä¸ªå¾ªç¯è¯»å–çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡å¾ªç¯è¯»å–éƒ½ä¼šæœ‰ä¸€ä¸ªåŠ é”-&gt;è¯»å–-&gt;é‡Šæ”¾é”çš„è¿‡ç¨‹ï¼Œä¿è¯æ¶ˆè´¹è€…å¯ä»¥éšæ—¶æ‰“æ–­å¹¶æ‹¿èµ°è¯»å–äº†ä¸€åŠçš„æ•°æ®ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨synchronized(SyncLoadResponse-</p>
<p>Bean.this)æ¥å®ç°ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çº¿ç¨‹é—´ååŒå·¥ä½œã€‚</p>
</li>
<li>
<p>ä½¿ç”¨AtomicIntegeræ¥å®ç°çŠ¶æ€æœºçš„çº¿ç¨‹é—´åŒæ­¥ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨äº†wait(long timeoutMillis)æ¥å®ç°äº†ç­‰å¾…å’Œé”çš„è¶…æ—¶é‡Šæ”¾ã€‚</p>
</li>
<li>
<p>preReadStream()æ–¹æ³•åœ¨whileå¾ªç¯ä½“å†…å®ç°äº†è¯»å–æ—¶çš„åŒæ­¥å—ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨SequenceInputStreamå®ç°äº†å·²è¯»ç¼“å†²æµä¸æœªè¯»ç½‘ç»œæµçš„æ¡¥æ¥ã€‚</p>
</li>
<li>
<p>åœ¨æ¶ˆè´¹è€…webviewç­‰å¾…èµ„æºçš„è¿‡ç¨‹ä¸­ï¼Œç”Ÿäº§è€…ä¼šæœ‰å¤šä¸ªæ—¶æœºè®©å‡ºåŒæ­¥é”ï¼Œå¹¶ä¸”å‘èµ·notifyï¼Œé€šçŸ¥æ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹æ•°æ®ï¼š**æ—¶æœºâ‘ ï¼š**ç”Ÿäº§è€…å®Œæˆç½‘ç»œå»ºè”ï¼Œä¿å­˜äº†å“åº”ä½“ï¼Œä½†è¿˜æ²¡æœ‰è¿›è¡Œæ•°æ®é¢„è¯»çš„æ—¶å€™ã€‚**æ—¶æœºâ‘¡ï¼š**ç”Ÿäº§è€…åœ¨ç½‘ç»œæ•°æ®çš„é¢„è¯»è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡è¯»å–4096ä¹‹åéƒ½ä¼šé€šçŸ¥æ¶ˆè´¹è€…ã€‚</p>
</li>
</ul>
<p>åœ¨ä»£ç çš„æœ€ä¸‹é¢ï¼Œæˆ‘ä»¬æä¾›äº†æ ‡å‡†Javaçš„mainå‡½æ•°ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å°è¯•å°†ä»£ç æ‹·è´åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”è¿è¡Œä»–ï¼Œçœ‹ä¸‹æ•ˆæœï¼Œæˆ‘ä»¬è¿™è¾¹ä¹Ÿç›´æ¥æŠŠè¿è¡Œæ•ˆæœè´´å‡ºæ¥ï¼Œçœ‹ä¸‹æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml">    <span class="hljs-string">ç”Ÿäº§è€…å¯åŠ¨</span>
    <span class="hljs-string">æ¶ˆè´¹è€…å¯åŠ¨</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">æŸ¥æ‰¾æµæ•°æ®</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">æŸ¥æ‰¾æµæ•°æ®</span> <span class="hljs-string">è¿›å…¥ç­‰å¾…çŠ¶æ€</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">å“åº”ä¿å­˜</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">ä¿å­˜å®Œæˆ</span> <span class="hljs-string">é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">å¼€å§‹</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬1æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬2æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬3æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬4æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬5æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">.......</span>
    <span class="hljs-string">.......</span>
    <span class="hljs-string">.......</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬360æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬361æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-number">4096</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬362æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">æŸ¥æ‰¾æµæ•°æ®</span> <span class="hljs-string">è¢«å”¤é†’</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">æŸ¥æ‰¾æµæ•°æ®</span> <span class="hljs-string">è¿”å›æ¡¥æ¥æµ</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">ç¬¬363æ¬¡é€šçŸ¥æ¶ˆè´¹è€…</span>
    <span class="hljs-string">å¹¶è¡ŒåŠ è½½</span> <span class="hljs-string">æ•°æ®æµå·²æä¾›</span> <span class="hljs-string">é¢„è¯»ç¼“å­˜</span> <span class="hljs-string">å…³é—­</span>
    
    <span class="hljs-string">æ¶ˆè´¹è€…</span> <span class="hljs-string">java.io.SequenceInputStream@696759a5</span>
</code></pre>
<h3 data-id="heading-22">4.5 è¿è¡Œç»“æœè§£è¯»</h3>
<p>è¿™æ¬¡çš„testä»£ç è¿è¡Œï¼Œå·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<p>æ¶ˆè´¹è€…webviewéœ€è¦æ•°æ®çš„æ—¶å€™ï¼Œç”Ÿäº§è€…çš„ç”Ÿäº§ä»»åŠ¡è¿˜æ²¡æœ‰è¿”å›ï¼Œæ­¤æ—¶ç”Ÿäº§è€…æ­£åœ¨è¿›è¡Œè™šæ‹Ÿçš„ç½‘ç»œå»ºè”ï¼Œå› æ­¤æ¶ˆè´¹è€…è¿›å…¥äº†ç­‰å¾…çŠ¶æ€ï¼Œç½‘ç»œå»ºè”åï¼Œç”Ÿäº§è€…é¦–æ¬¡å°è¯•å”¤é†’æ¶ˆè´¹è€…ï¼Œä½†æ­£åœ¨ç­‰å¾…ä»»åŠ¡çš„æ¶ˆè´¹è€…å¹¶æ²¡æœ‰è¢«å”¤é†’ï¼Œè¿™é‡Œå·²ç»å¼€å§‹ä¸ç¬¦åˆé¢„æœŸäº†ã€‚äºæ˜¯ç”Ÿäº§è€…ç»§ç»­è¿›è¡Œæ•°æ®é¢„è¯»ï¼Œåœ¨æ•°æ®é¢„è¯»çš„å¾ªç¯ä½“å†…ï¼Œæ¯æ¬¡ä¸€ä¸ªç¼“å†²è¯»å®Œï¼Œç”Ÿäº§è€…éƒ½ä¼šå°è¯•å”¤é†’ä¸€æ¬¡æ¶ˆè´¹è€…ï¼Œä½†æ˜¯æ¶ˆè´¹è€…ç›´åˆ°ç¬¬363æ¬¡notifyçš„æ—¶å€™ï¼Œæ‰è¢«å”¤é†’ï¼Œæ‹¿åˆ°äº†æ•°æ®ã€‚</p>
<p>æˆ‘ä»¬ç»è¿‡å¤šæ¬¡å°è¯•ï¼Œå‘ç°æ¶ˆè´¹è€…è¢«å”¤é†’çš„æ—¶æœºä¸ç¡®å®šï¼Œæœ‰æ—¶å€™æ˜¯åœ¨é¦–æ¬¡å”¤é†’çš„æ—¶å€™å°±èƒ½å¤Ÿå”¤é†’ï¼Œæœ‰æ—¶å€™è¦åœ¨å”¤é†’ç¬¬xxxæ¬¡çš„æ—¶å€™æ‰èƒ½è¢«å”¤é†’ï¼Œè€Œä¸”æ¬¡æ•°è¿˜æ˜¯éšæœºçš„ï¼Œæ˜¾ç„¶è¿™æ ·å»¶é•¿äº†æ¶ˆè´¹è€…ç­‰å¾…çš„æ—¶é—´ï¼Œä¸ç¬¦åˆæˆ‘ä»¬æ—¢å®šçš„æƒ³æ³•ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥çš„ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-23">äº”ã€æ–¹æ¡ˆæ¼”è¿›ï¼šä¼˜åŒ–åŒæ­¥ç­–ç•¥</h2>
<p>ä»ä¸Šè¿°ä»£ç å®é™…è¿è¡Œçš„ç°è±¡ä¸Šçœ‹ï¼Œç”Ÿäº§è€…é‡Šæ”¾é”ï¼Œå¹¶ä¸”å”¤é†’æ¶ˆè´¹è€…çš„æ—¶å€™ï¼Œçº¿ç¨‹é”å¹¶æ²¡æœ‰äº¤æ¥ç»™æ¶ˆè´¹è€…ï¼Œåè€Œåˆè¢«ç”Ÿäº§è€…çš„é¢„è¯»ä»»åŠ¡ç»™æŠ¢äº†è¿‡æ¥ã€‚</p>
<h3 data-id="heading-24">5.1 é”çš„å…¬å¹³æ€§</h3>
<p>ä»è¿è¡Œçš„ç»“æœæ¥çœ‹ï¼Œé”çš„é‡Šæ”¾å’Œè·å–å¹¶æ²¡æœ‰ç¬¦åˆé¢„æœŸï¼Œæˆ‘ä»¬æœ‰ç†ç”±æ€€ç–‘åœ¨çº¿ç¨‹åŒæ­¥çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›çº¿ç¨‹äº‰æŠ¢èµ„æºå’Œé”çš„æƒ…å†µå‘ç”Ÿï¼Œé€šè¿‡æŸ¥é˜…javaå¤šçº¿ç¨‹ç›¸å…³èµ„æ–™ï¼Œæˆ‘ä»¬äº†è§£åˆ°ä¸€ä¸ªæ¦‚å¿µï¼šçº¿ç¨‹é”çš„å…¬å¹³æ€§ã€‚</p>
<p>çº¿ç¨‹é”çš„å…¬å¹³æ€§æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹ç«äº‰é”æ—¶ï¼Œé”çš„è·å–æ˜¯å¦æŒ‰ç…§è¯·æ±‚é¡ºåºè¿›è¡Œåˆ†é…ï¼ŒåŒæ­¥é”çš„ç±»å‹ç®€å•æ¥è®²å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ä¸¤ç±»ï¼š</p>
<p><strong>éå…¬å¹³é”</strong></p>
<ul>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼šå…è®¸çº¿ç¨‹"æ’é˜Ÿ"ï¼Œæ–°è¯·æ±‚é”çš„çº¿ç¨‹å¯èƒ½æ¯”ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹å…ˆè·å–é”</p>
</li>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šæ›´é«˜çš„ååé‡ï¼Œå‡å°‘çº¿ç¨‹åˆ‡æ¢å¼€é”€</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼šå¯èƒ½å¯¼è‡´æŸäº›çº¿ç¨‹é•¿æ—¶é—´ç­‰å¾…ï¼ˆé¥¥é¥¿ï¼‰</p>
</li>
</ul>
<p><strong>å…¬å¹³é”</strong></p>
<ul>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼šä¸¥æ ¼æŒ‰ç…§FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰é¡ºåºåˆ†é…é”</p>
</li>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šé¿å…çº¿ç¨‹é¥¥é¥¿ï¼Œè¡Œä¸ºæ›´å¯é¢„æµ‹</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼šæ€§èƒ½è¾ƒä½ï¼Œå› ä¸ºéœ€è¦ç»´æŠ¤é˜Ÿåˆ—é¡ºåº</p>
</li>
</ul>
<p>Javaå†…ç½®çš„synchronizedé”å°±æ˜¯æ˜¯<strong>éå…¬å¹³é”</strong>ï¼Œwaitå’Œnotify ä¹Ÿæ˜¯åŸºäºsynchronizedæ¥å®ç°çš„ã€‚</p>
<p>åœ¨ä¸Šè¿°çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å°±æ˜¯éå…¬å¹³é”ï¼Œå¯¼è‡´çº¿ç¨‹ä¹‹é—´å‡ºç°èµ„æºæŠ¢å ï¼Œå‘ç”Ÿäº†ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µã€‚</p>
<p><strong>é€‚åˆä½¿ç”¨å…¬å¹³é”çš„åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>ä¸¥æ ¼çš„é¡ºåºè¦æ±‚</strong>ï¼šå½“çº¿ç¨‹æ‰§è¡Œé¡ºåºå¯¹ä¸šåŠ¡é€»è¾‘è‡³å…³é‡è¦æ—¶</p>
</li>
<li>
<p><strong>é¿å…é¥¥é¥¿</strong>ï¼šå½“éœ€è¦ç¡®ä¿æ‰€æœ‰çº¿ç¨‹éƒ½æœ‰æœºä¼šæ‰§è¡Œæ—¶</p>
</li>
</ul>
<p>è™½ç„¶å…¬å¹³é”ä¼šç‰ºç‰²åŒæ­¥æ€§èƒ½ï¼Œä½†æ˜¯åœ¨å½“å‰ä¸šåŠ¡ä¸­ï¼Œæˆ‘ä»¬æ˜¯å¸Œæœ›æ¶ˆè´¹è€…èƒ½å¤Ÿå°½å¿«çš„è·å¾—æ•°æ®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥é€‰æ‹©ä½¿ç”¨å…¬å¹³é”æ¥å®ç°åŒæ­¥ï¼Œåœ¨javaä¸­è¦å®ç°å…¬å¹³é”ï¼Œå°±å¿…é¡»ä½¿ç”¨ReentrantLockï¼Œå¦‚æœè¦å®ç°å…¬å¹³é”çš„ç­‰å¾…ï¼Œå°±è¦ä½¿ç”¨Conditionï¼Œæˆ‘ä»¬ä½¿ç”¨ReentrantLockå’ŒConditionæ¥ä¿®æ”¹ä»£ç ï¼Œå¯¹ä»£ç ä¸­ä¸åŒæ­¥é”ç›¸å…³çš„é€»è¾‘è¿›è¡Œé‡æ„ã€‚</p>
<p><strong>å…¬å¹³é”çš„ä½¿ç”¨æ–¹æ³•</strong></p>
<p>ä½¿ç”¨å…¬å¹³é”æ—¶ï¼Œæ— æ³•åƒä½¿ç”¨synchronizedå…³é”®å­—ä¸€æ ·ç›´æ¥åŠ åœ¨æ–¹æ³•å¤´ä¸Šï¼Œè€Œæ˜¯éœ€è¦æ‰‹åŠ¨è·å¾—é”å’Œé‡Šæ”¾é”ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">private</span> final ReentrantLock mLock = <span class="hljs-keyword">new</span> ReentrantLock(<span class="hljs-literal">true</span>); <span class="hljs-comment">// å…¬å¹³é”</span>

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span>()</span>{
    <span class="hljs-comment">//ä¸šåŠ¡ä»£ç æ‰§è¡Œå‰è·å¾—é”</span>
    mLock.<span class="hljs-keyword">lock</span>();  
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//å®é™…æ‰§è¡Œçš„ä¸šåŠ¡ä»£ç </span>
        TLog.d(TAG, <span class="hljs-string">"æ­¤å¤„æ‰§è¡Œä»£ç "</span>);  
    } <span class="hljs-keyword">finally</span> {  
        <span class="hljs-comment">//ä¸šåŠ¡ä»£ç æ‰§è¡Œå®Œæˆåé‡Šæ”¾é”</span>
        mLock.unlock();  
    }  
}
</code></pre>
<p>å¦‚æœéœ€è¦æ‰‹åŠ¨ä½¿çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œåˆ™è§¦å‘ç­‰å¾…å’Œå”¤é†’çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">private</span> final ReentrantLock mLock = <span class="hljs-keyword">new</span> ReentrantLock(<span class="hljs-literal">true</span>); <span class="hljs-comment">// å…¬å¹³é”</span>
<span class="hljs-keyword">private</span> final Condition mCondition \= mLock.newCondition(); <span class="hljs-comment">// æ¡ä»¶å˜é‡</span>

<span class="hljs-comment">/**  
 * å”¤é†’ç¤ºä¾‹
 * 
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">signal</span>()</span>{  
    <span class="hljs-keyword">if</span> (mLock.tryLock()) {  
        <span class="hljs-keyword">try</span> {  
            mCondition.signal();  
        } <span class="hljs-keyword">finally</span> {  
            mLock.unlock();  
        }  
    }  
}

<span class="hljs-comment">/**  
 * ç­‰å¾…ç¤ºä¾‹  
 * ç­‰å¾…äº”ç§’é’Ÿåä¸»åŠ¨é‡Šæ”¾
 */</span>  
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span>()</span>{  
    mLock.<span class="hljs-keyword">lock</span>();  
    <span class="hljs-keyword">try</span> {  
        TLog.d(TAG, <span class="hljs-string">"å®é™…ä¸šåŠ¡ä»£ç æ‰§è¡Œ"</span>);  
        mCondition.<span class="hljs-keyword">await</span>(<span class="hljs-number">5</span>, TimeUnit.SECONDS);  
        TLog.d(TAG, <span class="hljs-string">"å®é™…ä¸šåŠ¡ä»£ç æ‰§è¡Œ"</span>);  
    } <span class="hljs-keyword">finally</span> {  
        mLock.unlock();  
    }  
}
</code></pre>
<p><strong>è¿™é‡Œçš„ç–‘é—®ï¼Œä¸ºä»€ä¹ˆlockå¹¶ä¸”awaitçš„æ—¶å€™ï¼Œå…¶ä»–çº¿ç¨‹ä¾ç„¶å¯ä»¥è·å¾—é”å¹¶å‘èµ·signalï¼Ÿ</strong></p>
<p>æ˜¯å› ä¸ºcondition.await() çš„åŸå­æ“ä½œï¼Œå½“çº¿ç¨‹è°ƒç”¨ condition.await() æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼Œç„¶åè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè¿™æ˜¯åŸå­æ€§æ“ä½œï¼Œä¿è¯åœ¨è¿›å…¥ç­‰å¾…çŠ¶æ€å‰ä¸€å®šä¼šé‡Šæ”¾é”ã€‚</p>
<p>å…¶ä»–çº¿ç¨‹å¯ä»¥è·å–é”ï¼Œæ˜¯å› ä¸ºåŸçº¿ç¨‹å·²ç»åœ¨ condition.await() æ—¶é‡Šæ”¾äº†é”ï¼Œå…¶ä»–çº¿ç¨‹åœ¨è°ƒç”¨ condition.signal() æ—¶å¿…é¡»æŒæœ‰é”ï¼Œå½“ç­‰å¾…ä¸­çš„çº¿ç¨‹è¢« condition.signal() å”¤é†’åï¼Œä¼šé‡æ–°å°è¯•è·å–é”ï¼Œè·å–é”æˆåŠŸåæ‰ä¼šä» condition.await() æ–¹æ³•è¿”å›ã€‚</p>
<h3 data-id="heading-25">5.2 å…¬å¹³é”ä»£ç ç¼–å†™</h3>
<p>ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">import</span> java.io.*;
    <span class="hljs-keyword">import</span> java.util.HashMap;
    <span class="hljs-keyword">import</span> java.util.Map;
    <span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;
    <span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;
    <span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;
    <span class="hljs-keyword">import</span> java.util.concurrent.locks.Condition;
    <span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;
    
    <span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> java.lang.Thread.sleep;
    
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseBody</span> {
            InputStream stream;
    
            <span class="hljs-keyword">public</span> <span class="hljs-title function_">ResponseBody</span><span class="hljs-params">(InputStream stream)</span>{
                <span class="hljs-built_in">this</span>.stream = stream;
            }
    
            <span class="hljs-keyword">public</span> InputStream <span class="hljs-title function_">byteStream</span><span class="hljs-params">()</span>{
                <span class="hljs-keyword">return</span> stream;
            }
        }
    
    
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SyncLoadResponseBean</span> {
    
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SyncLoadResponseBean"</span>;
    
            <span class="hljs-comment">// çŠ¶æ€å¸¸é‡å®šä¹‰</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">INIT</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;  <span class="hljs-comment">// åˆå§‹çŠ¶æ€</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">READY</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; <span class="hljs-comment">// æ•°æ®å‡†å¤‡å°±ç»ª</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">OFFER</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>; <span class="hljs-comment">// æ•°æ®å·²æä¾›</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">finaint</span> <span class="hljs-variable">DROP</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;  <span class="hljs-comment">// æ•°æ®å·²ä¸¢å¼ƒ</span>
    
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String mRequestUrl;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, SyncLoadResponseBean&gt; mSyncLoadCache;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">mLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>(<span class="hljs-literal">true</span>); <span class="hljs-comment">// å…¬å¹³é”</span>
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Condition</span> <span class="hljs-variable">mCondition</span> <span class="hljs-operator">=</span> mLock.newCondition();   <span class="hljs-comment">// æ¡ä»¶å˜é‡</span>
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">mStatus</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(INIT); <span class="hljs-comment">// çŠ¶æ€æœº</span>
    
            <span class="hljs-comment">// æ•°æ®å­˜å‚¨ç›¸å…³</span>
            <span class="hljs-keyword">private</span> Map&lt;String, String&gt; mResponseHeader;
            <span class="hljs-keyword">private</span> ByteArrayOutputStream mBufferStream;
            <span class="hljs-keyword">private</span> InputStream mNetworkStream;
            <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> mResponseTime;
    
    
            <span class="hljs-keyword">public</span> <span class="hljs-title function_">SyncLoadResponseBean</span><span class="hljs-params">(String requestUrl, ConcurrentHashMap&lt;String, SyncLoadResponseBean&gt; syncLoadCache)</span>{
                mRequestUrl = requestUrl;
                mSyncLoadCache = syncLoadCache;
                mStatus.set(INIT);
            }
    
            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">before</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span>{
                <span class="hljs-keyword">return</span> mStatus.get() &lt; status;
            }
    
            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">during</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span>{
                <span class="hljs-keyword">return</span> mStatus.get() == status;
            }
    
            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">after</span><span class="hljs-params">(<span class="hljs-type">int</span> status)</span>{
                <span class="hljs-keyword">return</span> mStatus.get() &gt;= status;
            }
    
            <span class="hljs-comment">/**
             * å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹
             * ä½¿ç”¨ tryLock é¿å…é•¿æ—¶é—´é˜»å¡
             */</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalAll</span><span class="hljs-params">()</span>{
                <span class="hljs-keyword">if</span> (mLock.tryLock()) {
                    <span class="hljs-keyword">try</span> {
                        mCondition.signalAll();
                    } <span class="hljs-keyword">finally</span> {
                        mLock.unlock();
                    }
                }
            }
    
            <span class="hljs-comment">/**
             * ä¿å­˜å“åº”æ•°æ®å¹¶é¢„å¤„ç†
             * ç½‘ç»œçº¿ç¨‹ä¼šåœ¨å¾—åˆ°å“åº”åè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¿å­˜æ•°æ®
             */</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveResponse</span><span class="hljs-params">(ResponseBody responseBody, Map&lt;String, String&gt; responseHeader)</span>{
                streamReady(responseBody, responseHeader);
                preReadStream();
            }
    
            <span class="hljs-comment">/**
             * å‡†å¤‡æ•°æ®æµ
             */</span>
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">streamReady</span><span class="hljs-params">(ResponseBody responseBody, Map&lt;String, String&gt; responseHeader)</span>{
                mLock.lock();
                <span class="hljs-keyword">try</span> {
                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ å“åº”ä¿å­˜"</span>);
                    mResponseTime = System.currentTimeMillis();
                    mResponseHeader = responseHeader;
                    mBufferStream = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();
                    <span class="hljs-keyword">if</span> (responseBody != <span class="hljs-literal">null</span>) {
                        mNetworkStream = responseBody.byteStream();
                        <span class="hljs-comment">// æ ¹æ®æµæ˜¯å¦æœ‰æ•ˆè®¾ç½®çŠ¶æ€</span>
                        <span class="hljs-keyword">if</span> (mNetworkStream != <span class="hljs-literal">null</span>) {
                            mStatus.set(READY);
                        } <span class="hljs-keyword">else</span> {
                            drop();
                        }
                    } <span class="hljs-keyword">else</span> {
                        drop();
                    }
                } <span class="hljs-keyword">finally</span> {
                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ ä¿å­˜å®Œæˆ é€šçŸ¥æ¶ˆè´¹è€…"</span>);
                    mCondition.signalAll();
                    mLock.unlock();
                }
            }
    
    
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preReadStream</span><span class="hljs-params">()</span>{
                <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">4096</span>];
                <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">while</span> (during(READY)) {
                        mLock.lock();
                        <span class="hljs-keyword">try</span> {
                            <span class="hljs-comment">//åŒé‡æ ¡éªŒé”</span>
                            <span class="hljs-keyword">if</span> (during(READY)) {
                                <span class="hljs-comment">// è¯»å–ç½‘ç»œæµæ•°æ®</span>
                                <span class="hljs-type">int</span> <span class="hljs-variable">bytesRead</span> <span class="hljs-operator">=</span> mNetworkStream.read(buffer);
                                <span class="hljs-keyword">if</span> (bytesRead == -<span class="hljs-number">1</span>) {
                                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ å®Œæˆ "</span> + bytesRead);
                                    closeStream(mNetworkStream);
                                    mNetworkStream = <span class="hljs-literal">null</span>;
                                    <span class="hljs-keyword">break</span>;
                                }
                                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ "</span> + bytesRead);
                                mBufferStream.write(buffer, <span class="hljs-number">0</span>, bytesRead);
                            }
                        } <span class="hljs-keyword">finally</span> {
                            num++;
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ ç¬¬"</span> + num + <span class="hljs-string">"æ¬¡é€šçŸ¥æ¶ˆè´¹è€…"</span>);
                            mCondition.signalAll();
                            mLock.unlock();
                        }
                    }
                    <span class="hljs-comment">//å·²ç»æä¾›äº†æ•°æ®ï¼Œåˆ™æ‰“å°ä¸ªæ—¥å¿—çœ‹ä¸‹</span>
                    <span class="hljs-keyword">if</span> (after(OFFER)) {
                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æ•°æ®æµå·²æä¾› é¢„è¯»ç¼“å­˜ å…³é—­"</span>);
                    }
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    TLog.e(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ å¼‚å¸¸ å…³é—­"</span>, e);
                    mLock.lock();
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-comment">//åœ¨è¯»å–çš„è¿‡ç¨‹ä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰æä¾›æ•°æ®ï¼Œå°±ç›´æ¥dropè°ƒ</span>
                        <span class="hljs-keyword">if</span> (!after(OFFER)) {
                            drop();
                        }
                    } <span class="hljs-keyword">finally</span> {
                        mLock.unlock();
                    }
                }
            }
    
            <span class="hljs-comment">/**
             * è·å–æ¡¥æ¥æµ
             * æµè§ˆå™¨çº¿ç¨‹è°ƒç”¨è¯¥æ–¹æ³•è·å–æ•°æ®æµ
             */</span>
            <span class="hljs-keyword">public</span> InputStream <span class="hljs-title function_">getBridgedStream</span><span class="hljs-params">()</span>{
                mLock.lock();
                TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ®"</span>);
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">if</span> (before(READY)) {
                        <span class="hljs-type">long</span> <span class="hljs-variable">time1</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿›å…¥ç­‰å¾…çŠ¶æ€"</span>);
                        mCondition.await(<span class="hljs-number">5</span>, TimeUnit.SECONDS);
                        <span class="hljs-type">long</span> <span class="hljs-variable">time2</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¢«å”¤é†’ ç­‰å¾…æ—¶é•¿ï¼š"</span> + (time2 - time1));
                    }
                    <span class="hljs-comment">// ç­‰å¾…ç»“æŸï¼Œå†ç¡®è®¤ä¸€æ¬¡çŠ¶æ€æ˜¯å¦å¯ç”¨</span>
                    <span class="hljs-keyword">if</span> (before(READY)) {
                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® ä¾æ—§æ²¡æœ‰å¯ç”¨æ•°æ® è¿”å›ç©ºæµ"</span>);
                        drop();
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                    } elseif (after(OFFER)) {
                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® æ•°æ®å·²è¢«åºŸå¼ƒæˆ–è€…è¢«ä»–äººè¢«ä½¿ç”¨ è¿”å›ç©ºæµ"</span>);
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                    } elseif (isTimeOut()) {
                        TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® æ•°æ®è¶…æ—¶ è¿”å›ç©ºæµ"</span>);
                        drop();
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (mNetworkStream != <span class="hljs-literal">null</span> &amp;&amp; mBufferStream != <span class="hljs-literal">null</span>) {
                            mStatus.set(OFFER);
                            <span class="hljs-comment">// åˆ›å»ºæ–°çš„æ¡¥æ¥æµå®ä¾‹ï¼ŒåŒ…å«å·²ç¼“å­˜æ•°æ®å’Œå‰©ä½™ç½‘ç»œæµ</span>
                            <span class="hljs-type">ByteArrayInputStream</span> <span class="hljs-variable">cachedStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(mBufferStream.toByteArray());
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›æ¡¥æ¥æµ"</span>);
                            returnnew <span class="hljs-title function_">SequenceInputStream</span><span class="hljs-params">(cachedStream, mNetworkStream)</span>;
                        } elseif (mNetworkStream != <span class="hljs-literal">null</span>) {
                            mStatus.set(OFFER);
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›ç½‘ç»œæµ"</span>);
                            <span class="hljs-keyword">return</span> mNetworkStream;
                        } elseif (mBufferStream != <span class="hljs-literal">null</span>) {
                            mStatus.set(OFFER);
                            <span class="hljs-comment">// åˆ›å»ºæ–°çš„æ¡¥æ¥æµå®ä¾‹ï¼ŒåŒ…å«å·²ç¼“å­˜æ•°æ®å’Œå‰©ä½™ç½‘ç»œæµ</span>
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›ç¼“å­˜æµ"</span>);
                            returnnew <span class="hljs-title function_">ByteArrayInputStream</span><span class="hljs-params">(mBufferStream.toByteArray()</span>);
                        } <span class="hljs-keyword">else</span> {
                            drop();
                            TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›ç©ºæµ"</span>);
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                        }
                    }
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    TLog.e(<span class="hljs-string">"TAG"</span>, <span class="hljs-string">"Create bridged stream failed"</span>, e);
                    drop();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                } <span class="hljs-keyword">finally</span> {
                    mLock.unlock();
                }
            }
    
            <span class="hljs-comment">/**
             * è·å–å“åº”å¤´ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰
             */</span>
            <span class="hljs-keyword">public</span> Map&lt;String, String&gt; <span class="hljs-title function_">getResponseHeader</span><span class="hljs-params">()</span>{
                mLock.lock();
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">//å¦‚æœè¯·æ±‚é‡Œé¢ä¸å¸¦è·¨åŸŸæ ‡è¯†ï¼Œåˆ™å¸¦ä¸Šè·¨åŸŸæ ‡è¯†</span>
                    <span class="hljs-keyword">if</span> (mResponseHeader != <span class="hljs-literal">null</span> &amp;&amp; !mResponseHeader.containsKey(<span class="hljs-string">"Access-Control-Allow-Origin"</span>)) {
                        mResponseHeader.put(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"*"</span>);
                    }
                    <span class="hljs-keyword">return</span> mResponseHeader;
                } <span class="hljs-keyword">finally</span> {
                    mLock.unlock();
                }
            }
    
    
            <span class="hljs-comment">/**
             * ç»Ÿä¸€å…³é—­æµèµ„æºæ“ä½œ
             */</span>
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">closeStream</span><span class="hljs-params">(Closeable stream)</span>{
                <span class="hljs-keyword">if</span> (stream != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">try</span> {
                        stream.close();
                    } <span class="hljs-keyword">catch</span> (Exception e) {
                        TLog.e(TAG, <span class="hljs-string">"å…³é—­æµå¤±è´¥"</span>, e);
                    }
                }
            }
    
    
            <span class="hljs-comment">/**
             * åˆ¤æ–­æ•°æ®æœ‰æ²¡æœ‰è¶…æ—¶
             */</span>
            <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isTimeOut</span><span class="hljs-params">()</span>{
                <span class="hljs-keyword">return</span> Math.abs(mResponseTime - System.currentTimeMillis()) &gt; <span class="hljs-number">5000</span>;
            }
    
            <span class="hljs-comment">/**
             * ä¸¢å¼ƒæ•°æ®
             */</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">drop</span><span class="hljs-params">()</span>{
                mLock.lock();
                <span class="hljs-keyword">try</span> {
                    mStatus.set(DROP);
                    mResponseHeader = <span class="hljs-literal">null</span>;
                    mResponseTime = <span class="hljs-number">0</span>;
                    closeStream(mBufferStream);
                    closeStream(mNetworkStream);
                    mBufferStream = <span class="hljs-literal">null</span>;
                    mNetworkStream = <span class="hljs-literal">null</span>;
                    mSyncLoadCache.remove(mRequestUrl);
                    TLog.d(TAG, <span class="hljs-string">"å¹¶è¡ŒåŠ é€Ÿ ç¼“å­˜æ•°æ®ä¸¢å¼ƒ"</span>);
                } <span class="hljs-keyword">finally</span> {
                    mLock.unlock();
                }
            }
    
        }
    
    
        <span class="hljs-comment">/**
         * ä¸»æ–¹æ³•ï¼Œç¨‹åºå…¥å£
         */</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
    
            <span class="hljs-type">SyncLoadResponseBean</span> <span class="hljs-variable">syncLoadResponseBean</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SyncLoadResponseBean</span>(<span class="hljs-string">"https://www.baidu.com"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;());
    
            <span class="hljs-comment">//æ¨¡æ‹Ÿç”Ÿäº§è€…çº¿ç¨‹</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    System.out.println(<span class="hljs-string">"ç”Ÿäº§è€…å¯åŠ¨"</span>);
                    <span class="hljs-comment">//æ¨¡æ‹Ÿç½‘ç»œå»ºè”</span>
                    sleep(<span class="hljs-number">200</span>);
                    <span class="hljs-comment">//æ¨¡æ‹Ÿç½‘ç»œèµ„æºè¿”å›</span>
                    <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"./xxxx.txt"</span>);
                    <span class="hljs-type">ResponseBody</span> <span class="hljs-variable">responseBody</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseBody</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(file));
                    <span class="hljs-comment">//æ¨¡æ‹Ÿå“åº”</span>
                    syncLoadResponseBean.saveResponse(responseBody, <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;());
                } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
                    thrownew <span class="hljs-title function_">RuntimeException</span><span class="hljs-params">(e)</span>;
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    thrownew <span class="hljs-title function_">RuntimeException</span><span class="hljs-params">(e)</span>;
                } <span class="hljs-keyword">finally</span> {
                    System.out.println(<span class="hljs-string">"ç”Ÿäº§çº¿ç¨‹å·¥ä½œå®Œæˆï¼Œå”¤é†’ç­‰å¾…ä¸­çš„æ¶ˆè´¹è€…"</span>);
                    syncLoadResponseBean.signalAll();
                }
            }).start();
    
            <span class="hljs-comment">//æ¨¡æ‹Ÿæ¶ˆè´¹è€…çº¿ç¨‹1</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
                System.out.println(<span class="hljs-string">"æ¶ˆè´¹è€…å¯åŠ¨"</span>);
                <span class="hljs-comment">//æ¨¡æ‹Ÿè¯»å–</span>
                <span class="hljs-type">InputStream</span> <span class="hljs-variable">stream</span> <span class="hljs-operator">=</span> syncLoadResponseBean.getBridgedStream();
                System.out.println(<span class="hljs-string">"æ¶ˆè´¹è€… "</span> + stream);
            }).start();
    
        }
    
    }
</code></pre>
<h3 data-id="heading-26">5.3 å…¬å¹³é”ä»£ç è§£è¯»</h3>
<ul>
<li>
<p>ä½¿ç”¨ReentrantLockå®ç°å…¬å¹³é”</p>
</li>
<li>
<p>ä½¿ç”¨Conditionå®ç°çº¿ç¨‹ç­‰å¾…</p>
<pre><code class="hljs language-css" lang="css">ç”Ÿäº§è€…å¯åŠ¨
æ¶ˆè´¹è€…å¯åŠ¨
å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ®
å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿›å…¥ç­‰å¾…çŠ¶æ€
å¹¶è¡ŒåŠ è½½ å“åº”ä¿å­˜
å¹¶è¡ŒåŠ è½½ ä¿å­˜å®Œæˆ é€šçŸ¥æ¶ˆè´¹è€…
å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¢«å”¤é†’ ç­‰å¾…æ—¶é•¿ï¼š<span class="hljs-number">203</span>
å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›æ¡¥æ¥æµ
æ¶ˆè´¹è€… java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.SequenceInputStream</span><span class="hljs-keyword">@4e8de630</span>
å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ ç¬¬<span class="hljs-number">1</span>æ¬¡é€šçŸ¥æ¶ˆè´¹è€…
å¹¶è¡ŒåŠ è½½ æ•°æ®æµå·²æä¾› é¢„è¯»ç¼“å­˜ å…³é—­
ç”Ÿäº§çº¿ç¨‹å·¥ä½œå®Œæˆï¼Œå”¤é†’ç­‰å¾…ä¸­çš„æ¶ˆè´¹è€…
è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º <span class="hljs-number">0</span>
</code></pre>
</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°åœ¨å»ºè”å®Œæˆï¼Œä¿å­˜å“åº”çš„æ—¶å€™ï¼Œé¦–æ¬¡é€šçŸ¥æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…å°±èƒ½å¤Ÿå‡†ç¡®çš„è¢«å”¤é†’ã€‚</p>
<p>å†é€šè¿‡è°ƒæ•´æµ‹è¯•ä»£ç sleepçš„æ—¶é—´æ¨¡æ‹Ÿæ•°æ®æ­£åœ¨è¢«é¢„è¯»ä¸­ï¼Œæ¶ˆè´¹è€…æ‰“æ–­é¢„è¯»çš„åœºæ™¯ï¼Œæ¶ˆè´¹è€…ä¾ç„¶èƒ½å¤Ÿè¢«å‡†ç¡®çš„å”¤é†’ã€‚</p>
<pre><code class="hljs language-css" lang="css">    ç”Ÿäº§è€…å¯åŠ¨
    æ¶ˆè´¹è€…å¯åŠ¨
    å¹¶è¡ŒåŠ è½½ å“åº”ä¿å­˜
    å¹¶è¡ŒåŠ è½½ ä¿å­˜å®Œæˆ é€šçŸ¥æ¶ˆè´¹è€…
    å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ <span class="hljs-number">4096</span>
    å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ ç¬¬<span class="hljs-number">1</span>æ¬¡é€šçŸ¥æ¶ˆè´¹è€…
    å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ®
    å¹¶è¡ŒåŠ è½½ æŸ¥æ‰¾æµæ•°æ® è¿”å›æ¡¥æ¥æµ
    å¹¶è¡ŒåŠ è½½ é¢„è¯»ç¼“å­˜ ç¬¬<span class="hljs-number">2</span>æ¬¡é€šçŸ¥æ¶ˆè´¹è€…
    å¹¶è¡ŒåŠ è½½ æ•°æ®æµå·²æä¾› é¢„è¯»ç¼“å­˜ å…³é—­
    ç”Ÿäº§çº¿ç¨‹å·¥ä½œå®Œæˆï¼Œå”¤é†’ç­‰å¾…ä¸­çš„æ¶ˆè´¹è€…
    æ¶ˆè´¹è€… java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.SequenceInputStream</span><span class="hljs-keyword">@5a40ed62</span>
    è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º <span class="hljs-number">0</span>
</code></pre>
<p>æ•´ä½“ä»£ç è¿è¡Œç¬¦åˆé¢„æœŸã€‚</p>
<h3 data-id="heading-27">5.4 æ¡¥æ¥æµä»£ç è§£è¯»</h3>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¤šæ¬¡æåˆ°æ¡¥æ¥æµçš„æ¦‚å¿µï¼Œæ¡¥æ¥æµé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†å¤šä¸ªæ•°æ®æµæ¥èµ·æ¥ï¼Œå¯ä»¥è®©è¯»æµçš„ç¨‹åºæŒ‰ç…§é¡ºåºå…ˆè¯»ç¬¬ä¸€ä¸ªæµï¼Œè¯»å®Œç¬¬ä¸€ä¸ªå†è¯»ç¬¬äºŒä¸ªæµï¼Œä»¥æ­¤ç±»æ¨ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº†javaå®˜æ–¹çš„ä¸€ä¸ªç±»æ¥å®ç°æµçš„æ¡¥æ¥ã€‚</p>
<p>SequenceInputStreamæ˜¯ Java I/O ç±»åº“ä¸­çš„ä¸€ä¸ªè¾“å…¥æµç±»ï¼Œå®ƒå…è®¸ä½ å°†å¤šä¸ªè¾“å…¥æµæŒ‰é¡ºåºè¿æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªé€»è¾‘ä¸Šçš„è¿ç»­è¾“å…¥æµã€‚</p>
<p>SequenceInputStreamçš„<strong>ä¸»è¦ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>é¡ºåºè¯»å–</strong>ï¼šå®ƒä¼šæŒ‰é¡ºåºè¯»å–å¤šä¸ªè¾“å…¥æµï¼Œå…ˆè¯»å–ç¬¬ä¸€ä¸ªæµçš„æ‰€æœ‰å†…å®¹ï¼Œç„¶åè‡ªåŠ¨åˆ‡æ¢åˆ°ç¬¬äºŒä¸ªæµï¼Œä¾æ­¤ç±»æ¨ã€‚</p>
</li>
<li>
<p><strong>æµåˆå¹¶</strong>ï¼šå°†å¤šä¸ªç‹¬ç«‹çš„è¾“å…¥æµåˆå¹¶ä¸ºä¸€ä¸ªè¿ç»­çš„è¾“å…¥æµã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨åˆ‡æ¢</strong>ï¼šå½“ä¸€ä¸ªæµè¯»å–å®Œæ¯•æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæµã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨å…³é—­</strong>ï¼šSequenceInputStream å…³é—­æ—¶ä¼šè‡ªåŠ¨å…³é—­æ‰€æœ‰åŒ…å«çš„è¾“å…¥æµ</p>
</li>
</ul>
<p>SequenceInputStreamçš„<strong>ä½¿ç”¨åœºæ™¯</strong></p>
<p>å½“æœ‰å¤šä¸ªæ–‡ä»¶éœ€è¦æŒ‰é¡ºåºè¯»å–ï¼Œä½†å¸Œæœ›åƒè¯»å–å•ä¸ªæ–‡ä»¶ä¸€æ ·å¤„ç†æ—¶ï¼Œåˆå¹¶å¤šä¸ªæ¥æºçš„æ•°æ®æµï¼Œéœ€è¦å°†å¤šä¸ªè¾“å…¥æºä¸²è”èµ·æ¥å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŠŠä¸€ä¸ªæˆ–è€…å¤šä¸ªæµä¸²è”èµ·æ¥æŒ‰é¡ºåºè¯»å–ï¼Œé€šè¿‡è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°ç¼“å­˜æµå’Œç½‘ç»œæµçš„æ— ç¼æ¡¥æ¥ã€‚</p>
<h2 data-id="heading-28">å…­ã€æ–¹æ¡ˆå¯¹æ¯”ä¸æ€»ç»“</h2>
<p><img src="https://static001.geekbang.org/infoq/69/69d4181a623b821a7e114c8497fe5df3.png" alt="" loading="lazy"/></p>
<p><strong>å…¬å¹³é”æ›¿ä»£éå…¬å¹³é”</strong></p>
<ul>
<li>
<p><strong>é—®é¢˜</strong>ï¼šsynchronizedï¼ˆéå…¬å¹³é”ï¼‰å¯¼è‡´ç”Ÿäº§è€…å¯èƒ½é‡æ–°æŠ¢å é”ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç”¨ReentrantLockï¼ˆå…¬å¹³é”ï¼‰+Conditionå®ç°é¡ºåºè·å–ã€‚</p>
</li>
</ul>
<p><strong>æ¡¥æ¥æµæŠ€æœ¯</strong></p>
<ul>
<li>
<p>ç”¨SequenceInputStreamåˆå¹¶å·²ç¼“å†²æµï¼ˆByteArrayInputStreamï¼‰ä¸ç½‘ç»œæµã€‚</p>
</li>
<li>
<p>å®ç°æ— ç¼è¡”æ¥ï¼Œæ— éœ€ç­‰å¾…å…¨é‡æ•°æ®ã€‚</p>
</li>
</ul>
<p><strong>åŠç¼“å†²æœºåˆ¶</strong></p>
<ul>
<li>
<p>å¹¶è¡Œä»»åŠ¡æ¯æ¬¡è¯»å– 4096 å­—èŠ‚åé‡Šæ”¾é”ï¼Œå…è®¸æ¶ˆè´¹è€…æ‰“æ–­ã€‚</p>
</li>
<li>
<p>å¯ä»¥å¹³è¡¡é¢„è¯»æ•ˆç‡ä¸å†…å­˜å ç”¨ã€‚</p>
</li>
</ul>
<h2 data-id="heading-29">ä¸ƒã€å†™åœ¨æœ€å</h2>
<p>å›é¡¾ä¸Šè¿°æ–¹æ¡ˆï¼Œé‡‡ç”¨åŒæ­¥é”å®ç°ç¼“å†²è¿‡ç¨‹çš„æ‰“æ–­ï¼Œä½¿ç”¨SequenceInputStreamå®ç°æ¡¥æ¥æµï¼Œé¢„è¯»è¿‡ç¨‹çš„æ‰“æ–­æ˜¯é€šè¿‡æµè¯»å–å¾ªç¯ä½“å†…çš„å…¬å¹³é”æ¥å®ç°çš„ï¼Œç›¸æ¯”æœ€åˆçš„å¾ªç¯ç­‰å¾…ï¼Œæ•°æ®è¶…æ—¶åºŸå¼ƒçš„æ¨¡å¼ï¼Œæ–°æ–¹æ¡ˆå®ç°äº†ç½‘ç»œæµå’Œç¼“å­˜æµçš„æ— ç¼åˆ‡æ¢ï¼Œæ•´åˆäº†å¹¶è¡Œè¯·æ±‚çš„èµ„æºï¼Œå……åˆ†åˆ©ç”¨äº†é¡µé¢å¯åŠ¨æ—¶é—´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue 3.4 æ€§èƒ½ä¼˜åŒ–æ­ç§˜ï¼šè¿™5ä¸ªComposition APIæŠ€å·§è®©æˆ‘çš„åº”ç”¨æé€Ÿ40%]]></title>    <link>https://juejin.cn/post/7580288235031347200</link>    <guid>https://juejin.cn/post/7580288235031347200</guid>    <pubDate>2025-12-07T00:16:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580288235031347200" data-draft-id="7580312375372742696" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue 3.4 æ€§èƒ½ä¼˜åŒ–æ­ç§˜ï¼šè¿™5ä¸ªComposition APIæŠ€å·§è®©æˆ‘çš„åº”ç”¨æé€Ÿ40%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-07T00:16:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue 3.4 æ€§èƒ½ä¼˜åŒ–æ­ç§˜ï¼šè¿™5ä¸ªComposition APIæŠ€å·§è®©æˆ‘çš„åº”ç”¨æé€Ÿ40%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-07T00:16:30.000Z" title="Sun Dec 07 2025 00:16:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Vue 3.4 æ€§èƒ½ä¼˜åŒ–æ­ç§˜ï¼šè¿™5ä¸ªComposition APIæŠ€å·§è®©æˆ‘çš„åº”ç”¨æé€Ÿ40%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Vue 3.4 çš„å‘å¸ƒå¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ€§èƒ½æ”¹è¿›å’Œæ–°ç‰¹æ€§ï¼Œå°¤å…¶æ˜¯ Composition API çš„è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä¸ºå¼€å‘è€…æä¾›äº†æ›´å¼ºå¤§çš„å·¥å…·æ¥æ„å»ºé«˜æ€§èƒ½åº”ç”¨ã€‚ä½œä¸ºä¸€åé•¿æœŸä½¿ç”¨ Vue çš„å‰ç«¯å¼€å‘è€…ï¼Œæˆ‘åœ¨æœ€è¿‘çš„é¡¹ç›®ä¸­é€šè¿‡æ·±å…¥ç ”ç©¶å’Œå®è·µï¼Œå‘ç°äº†ä¸€äº›å…³é”®çš„ Composition API æŠ€å·§ï¼ŒæˆåŠŸå°†åº”ç”¨çš„æ€§èƒ½æå‡äº†40%ã€‚æœ¬æ–‡å°†åˆ†äº«è¿™äº›å®æˆ˜ç»éªŒï¼Œå¸®åŠ©ä½ å……åˆ†å‘æŒ¥ Vue 3.4 çš„æ½œåŠ›ã€‚</p>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. <code>shallowRef</code> vs <code>ref</code>ï¼šç²¾å‡†æ§åˆ¶å“åº”å¼å¼€é”€</h3>
<p>åœ¨ Vue 3 ä¸­ï¼Œ<code>ref</code> å’Œ <code>reactive</code> æ˜¯åˆ›å»ºå“åº”å¼æ•°æ®çš„æ ¸å¿ƒ APIã€‚ç„¶è€Œï¼Œè¿‡åº¦ä½¿ç”¨ <code>ref</code> å¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚Vue 3.4 è¿›ä¸€æ­¥ä¼˜åŒ–äº† <code>shallowRef</code>ï¼Œä½¿å…¶æˆä¸ºå¤„ç†å¤§å‹å¯¹è±¡æˆ–åµŒå¥—æ•°æ®çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<h4 data-id="heading-4"><strong>é—®é¢˜åœºæ™¯</strong></h4>
<p>å½“æˆ‘ä»¬éœ€è¦è·Ÿè¸ªä¸€ä¸ªå¤§å‹å¯¹è±¡çš„å¼•ç”¨å˜åŒ–ï¼ˆè€Œéå…¶å†…éƒ¨å±æ€§å˜åŒ–ï¼‰æ—¶ï¼Œä½¿ç”¨ <code>ref</code> ä¼šå¯¼è‡´ Vue æ·±åº¦éå†æ•´ä¸ªå¯¹è±¡ä»¥å»ºç«‹å“åº”å¼ä¾èµ–ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> largeObj = <span class="hljs-title function_">ref</span>({ ... }) <span class="hljs-comment">// Vueä¼šé€’å½’éå†æ‰€æœ‰å±æ€§</span>
</code></pre>
<h4 data-id="heading-5"><strong>è§£å†³æ–¹æ¡ˆ</strong></h4>
<p>æ”¹ç”¨ <code>shallowRef</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> largeObj = <span class="hljs-title function_">shallowRef</span>({ ... }) <span class="hljs-comment">// ä»…è·Ÿè¸ªé¡¶å±‚å¼•ç”¨å˜åŒ–</span>
</code></pre>
<h4 data-id="heading-6"><strong>æ€§èƒ½æ”¶ç›Š</strong></h4>
<ul>
<li><strong>å‡å°‘ä»£ç†åˆ›å»º</strong>ï¼šé¿å…å¯¹æ·±å±‚å±æ€§çš„ä¸å¿…è¦ä»£ç†ã€‚</li>
<li><strong>é™ä½å†…å­˜å ç”¨</strong>ï¼šèŠ‚çœçº¦30%çš„å†…å­˜å¼€é”€ï¼ˆå®æµ‹æ•°æ®ï¼‰ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºä¸éœ€è¦å†…éƒ¨å±æ€§å“åº”çš„æ•°æ®ç»“æ„ï¼ˆå¦‚ç¬¬ä¸‰æ–¹åº“å®ä¾‹ã€å¤§å‹é…ç½®å¯¹è±¡ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">2. <code>computed</code> + <code>watchEffect</code>çš„é«˜æ•ˆç»„åˆ</h3>
<p>Vue 3.4å¯¹è®¡ç®—å±æ€§å’Œå‰¯ä½œç”¨è¿½è¸ªè¿›è¡Œäº†åº•å±‚ä¼˜åŒ–ã€‚é€šè¿‡åˆç†ç»„åˆè¿™ä¸¤è€…ï¼Œå¯ä»¥å®ç°æ›´ç²¾ç¡®çš„ä¾èµ–è¿½è¸ªã€‚</p>
<h4 data-id="heading-8"><strong>ç»å…¸æ¨¡å¼çš„é—®é¢˜</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> doubleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>)
<span class="hljs-title function_">watch</span>(doubleCount, <span class="hljs-function">(<span class="hljs-params">newVal</span>) =&gt;</span> { ... })
</code></pre>
<p>è¿™ç§æ¨¡å¼ä¼šè§¦å‘ä¸¤æ¬¡ä¾èµ–æ”¶é›†ï¼ˆä¸€æ¬¡è®¡ç®—å±æ€§ï¼Œä¸€æ¬¡ä¾¦å¬å™¨ï¼‰ã€‚</p>
<h4 data-id="heading-9"><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong></h4>
<p>ç›´æ¥ä½¿ç”¨ <code>watchEffect</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">() =&gt;</span> {
 <span class="hljs-keyword">const</span> doubled = count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>
 <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubled)
})
</code></pre>
<p>æˆ–è€…å¯¹äºçº¯è®¡ç®—åœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> doubleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 <span class="hljs-keyword">const</span> result = count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>
 <span class="hljs-title function_">trackSideEffect</span>(result) <span class="hljs-comment">// Vue3.4æ–°å¢çš„æ€§èƒ½é’©å­</span>
 <span class="hljs-keyword">return</span> result
})
</code></pre>
<h4 data-id="heading-10"><strong>å®æµ‹ç»“æœ</strong></h4>
<p>åœ¨å¤æ‚è¡¨å•éªŒè¯åœºæ™¯ä¸‹ï¼Œæ­¤ä¼˜åŒ–å‡å°‘äº†15%-20%çš„å†—ä½™è®¡ç®—ã€‚</p>
<h3 data-id="heading-11">3. <code>markRaw</code>çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</h3>
<p>Vue3.4å¢å¼ºäº†éå“åº”å¼æ•°æ®æ ‡è®°çš„èƒ½åŠ›ã€‚åˆç†ä½¿ç”¨å¯ä»¥é¿å…"å“åº”å¼æ±¡æŸ“"ã€‚</p>
<h4 data-id="heading-12"><strong>å…³é”®æ´å¯Ÿ</strong></h4>
<ul>
<li>Reactivity Transformåœ¨ç¼–è¯‘æ—¶åªèƒ½è§£å†³éƒ¨åˆ†é—®é¢˜ã€‚</li>
<li>Runtimeé˜¶æ®µçš„éå“åº”å¼æ ‡è®°ä»ä¸å¯æ›¿ä»£ã€‚</li>
</ul>
<h4 data-id="heading-13"><strong>å®æˆ˜æ¡ˆä¾‹</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { markRaw } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ImmutableConfig</span> {
 <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
   <span class="hljs-title function_">markRaw</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-comment">// Mark the instance as non-reactive</span>
 }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useStore</span> = (<span class="hljs-params"/>) =&gt; {
 <span class="hljs-keyword">const</span> config = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImmutableConfig</span>()
 <span class="hljs-keyword">return</span> <span class="hljs-title function_">reactive</span>({
   state,
   config <span class="hljs-comment">// Will NOT be converted to reactive proxy</span>
 })
}
</code></pre>
<h4 data-id="heading-14"><strong>æ€§èƒ½å½±å“</strong></h4>
<p>åœ¨åŒ…å«1000+é…ç½®é¡¹çš„åœºæ™¯ä¸­ï¼š</p>
<ul>
<li>Before: ~450msåˆå§‹åŒ–æ—¶é—´</li>
<li>After: ~120msåˆå§‹åŒ–æ—¶é—´</li>
</ul>
<h3 data-id="heading-15">### ### ### ### ###</h3>
<h3 data-id="heading-16">### ### ### ###</h3>
<h3 data-id="heading-17"/>
<h3 data-id="heading-18"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è½¬è½½ã€‘æˆ‘æµ‹è¯•äº† Google Antigravity IDEï¼ˆå¹¶å‘ç°äº†çœŸæ­£çš„ Cursor æ€æ‰‹ï¼‰]]></title>    <link>https://juejin.cn/post/7580312375372300328</link>    <guid>https://juejin.cn/post/7580312375372300328</guid>    <pubDate>2025-12-06T18:09:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580312375372300328" data-draft-id="7580278296838078498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è½¬è½½ã€‘æˆ‘æµ‹è¯•äº† Google Antigravity IDEï¼ˆå¹¶å‘ç°äº†çœŸæ­£çš„ Cursor æ€æ‰‹ï¼‰"/> <meta itemprop="keywords" content="Google,Gemini"/> <meta itemprop="datePublished" content="2025-12-06T18:09:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯é­”ä¸¸å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/3217622495411292"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è½¬è½½ã€‘æˆ‘æµ‹è¯•äº† Google Antigravity IDEï¼ˆå¹¶å‘ç°äº†çœŸæ­£çš„ Cursor æ€æ‰‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3217622495411292/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯é­”ä¸¸å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T18:09:15.000Z" title="Sat Dec 06 2025 18:09:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Fai-software-engineer%2Fi-tested-new-google-antigravity-ide-and-discovered-the-real-cursor-killer-96ffa7e55026" target="_blank" title="https://medium.com/ai-software-engineer/i-tested-new-google-antigravity-ide-and-discovered-the-real-cursor-killer-96ffa7e55026" ref="nofollow noopener noreferrer">è½¬è½½</a></p>
<blockquote>
<p>è¯‘è€…æŒ‰ï¼šæ€ä¹ˆè¯´å‘¢ï¼Œcursoræœ€è¿‘çš„æ›´æ–°ï¼Œä»¥åŠantigravityçš„ä¸€äº›ç‰¹æ€§ï¼ˆç‰¹åˆ«æ˜¯agent managerï¼‰éƒ½å€Ÿé‰´äº†TRAEã€‚ä¸€å®šç¨‹åº¦éƒ½è¯´æ˜äº†TRAEçš„è®¾è®¡èƒ½åŠ›ï¼Œä»¥åŠæˆä¸ºå›½é™…ä¸€æµçš„æ½œè´¨ã€‚</p>
<p>è™½ç„¶ä»–è¿˜èƒŒè´Ÿäº†ä¸€ä¸ªä¸­å›½å…¬å¸ä¸èƒ½ç”¨claudeçš„è´Ÿæ‹…ã€‚ä½†å¯èƒ½åœ¨gemini3è¿™ä¹ˆç‰›çš„æƒ…å†µä¸‹ï¼Œçœ‹èµ·æ¥è¿™ä¸ªè´Ÿæ‹…åˆä¸è¿™ä¹ˆé‡äº†ã€‚</p>
<p>æˆ‘åœ¨ç”¨antigravityçš„æ—¶å€™ï¼Œè§‰å¾—æœ€æ£’çš„å…¶å®æœ‰ä¸¤ç‚¹ï¼ˆä¸”ä¸è¯´gemini3é€†å¤©çš„å‰ç«¯èƒ½åŠ›â€”â€”æ˜¯çœŸçš„é€†å¤©ï¼Œæ¯”claudeå¥½å¾—å¤šï¼‰ï¼š</p>
<p>1.antigravityæœ‰å•ç‹¬çš„browser agentï¼Œä¸å…‰æ˜¯å’Œchromeé›†æˆçš„æ›´å¥½ï¼Œè€Œä¸”å¯ä»¥åšå‰ç«¯æµ‹è¯•ã€‚åœ¨ç¼–ç æ•ˆç‡å’Œä½“éªŒä¸Šå®äº†ä¸€ä¸ªå¤§å°é˜¶</p>
<p>2.artifactsï¼Œä¹Ÿå°±æ˜¯antigravityç”Ÿæˆä¸€äº›ä¸­é—´äº§ç‰©ï¼Œæ¯”å¦‚planã€æˆªå›¾ã€å½•å±ç­‰ç­‰ï¼Œæ˜¯æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„geminiæ–‡ä»¶å¤¹ä¸‹çš„ï¼Œå¹¶æ²¡æœ‰æ··åœ¨é¡¹ç›®é‡Œã€‚å¦‚æœç”¨æƒ¯äº†cursorçš„åŒå­¦è‚¯å®šæœ‰è¿™ä¸ªçƒ¦æ¼ï¼šå‡ è½®å¯¹è¯ä¹‹åï¼Œworkspaceé‡Œçš„æ–‡æ¡£æ˜¯æ¸…éƒ½æ¸…ä¸è¿‡æ¥ã€‚antigravityè¿™ä¸ªè®¾è®¡ä¹Ÿè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œç•™ç»™ç”¨æˆ·ä¸€ä¸ªå¹²å‡€çš„workspaceï¼Œé‡Œé¢åªæœ‰ç»“æœï¼Œæ²¡æœ‰è¿‡ç¨‹ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆæ­£ç‰‡å¼€å§‹å§ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40587016dc81433eb8d1ba2dc424d405~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=2KGMXWyfYZIcnzwdSzdMK5Yx4u4%3D" alt="Google Antigravity IDE vs Cursor â€” Featured Image by Author" loading="lazy"/></p>
<p>è®©æˆ‘ä»¬é¢å¯¹ç°å®ï¼ŒCursor ç›®å‰æ˜¯æœ€å¥½çš„ AI ç¼–ç¨‹ IDEï¼Œä½†ç°åœ¨æˆ‘ä»¬æœ‰äº†å…è´¹çš„ Google Antigravityï¼Œ<strong>è™½ç„¶å®ƒæœ‰ä¸€äº›å°é—®é¢˜ï¼Œæˆ‘ç¨åä¼šè°ˆåˆ°ã€‚</strong></p>
<blockquote>
<p><strong>Antigravity æä¾›çš„ AI ç¼–ç¨‹æ¨¡å‹æ¯” Cursor æœ€è¿‘æ„å»ºçš„ Composer è¦å¥½å¾—å¤šã€‚æˆ‘ä»¬è¯´çš„æ˜¯ Gemini 3 Proã€Claude Sonnet 4.5 å’Œ GPT æ¨¡å‹ï¼Œå…¨éƒ¨é›†æˆåœ¨ä¸€ä¸ªç¼–è¾‘å™¨ä¸­ã€‚</strong></p>
</blockquote>
<p>å¦‚æœè¿™è¿˜ä¸èƒ½æ‘§æ¯ Cursor çš„ä¸»å¯¼åœ°ä½ï¼Œé‚£ä»€ä¹ˆéƒ½ä¸ä¼šã€‚</p>
<p><strong>Antigravity ä¸ä»…ä»…åœç•™åœ¨æ¨¡å‹ä¸Šã€‚å®ƒè¿˜å°†æˆ˜ç«æ‰©å±•åˆ°äº†<em>agentic coding</em>é¢†åŸŸã€‚</strong></p>
<p>Cursor æœ€è¿‘ç”¨ä¸€ä¸ªå¤šä»£ç†å¸ƒå±€è®©æˆ‘ä»¬å¤§åƒä¸€æƒŠï¼Œè¯¥å¸ƒå±€å¯ä»¥ç”Ÿæˆå¤šä¸ªå¹¶å‘å·¥ä½œçš„ä»£ç†ã€‚</p>
<p><strong>Antigravity å½»åº•é¢ è¦†äº†è¿™ä¸€ç‚¹ï¼Œå¹¶ä»¥æ›´å¤æ‚å’Œä¼˜é›…çš„æ–¹å¼æ·»åŠ äº†æ›´å¥½çš„æ–¹æ³•ã€‚</strong></p>
<p>å½“æˆ‘ç¬¬ä¸€æ¬¡å°è¯•å®ƒæ—¶ï¼Œå®ƒè¿è¡Œæµç•…ï¼Œä»å¤´åˆ°å°¾ç¼–ç¨‹æ¯«ä¸è´¹åŠ›ï¼Œ<strong>ä½†é‚£ä¸ªæµè§ˆå™¨å­ä»£ç†æœ‰ç‚¹å°é—®é¢˜ä½ ä¼šé‡åˆ°â€”â€”æˆ‘ä¼šåœ¨æœ¬æ–‡æœ«å°¾åˆ†äº«æˆ‘çš„ç»éªŒã€‚</strong></p>
<p>Chrome é›†æˆçš„æµ‹è¯•å°†å…¶æå‡åˆ°äº†ä¸€ä¸ªæ–°æ°´å¹³ã€‚</p>
<blockquote>
<p>Cursor åœ¨ 2.0 ç‰ˆæœ¬ä¸­å¼•å…¥äº†ä¸€ä¸ªæµè§ˆå™¨æµ‹è¯•å·¥å…·ï¼Œè®©æˆ‘ä»¬å…´å¥‹ä¸å·²ã€‚ä½†é‚£ä¸ªåŠŸèƒ½å·²ç»è¢« Antigravity åœ¨ Chrome ä¸Šçš„è‡ªä¸»æµè§ˆå™¨ä½¿ç”¨åŠŸèƒ½ç¨€é‡Šäº†...</p>
</blockquote>
<p><strong>å®ƒçœŸçš„åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åº”ç”¨ç¨‹åºï¼Œåˆ›å»ºè´¦æˆ·ï¼Œç™»å½•ï¼Œç”šè‡³æµ‹è¯• CRUD æ“ä½œâ€”â€”åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤â€”â€”æ¯ä¸ª Web åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚</strong></p>
<p>Antigravity ä¸ Gemini 3.0 ä¸€èµ·å‘å¸ƒï¼Œè®©æ‰€æœ‰äººéƒ½æªæ‰‹ä¸åŠã€‚</p>
<p>ä»é‚£æ—¶èµ·ï¼Œå®ƒä¸€ç›´åœ¨æµè¡Œã€‚</p>
<blockquote>
<p><strong>è¿™æ˜¯ä¸€ä¸ªä»£ç†ç¼–ç¨‹ç¼–è¾‘å™¨ï¼Œå……æ»¡äº†æˆ‘ä»¬åœ¨å…¶ä»– AI ä»£ç ç¼–è¾‘å™¨ä¸­æ²¡æœ‰è§è¿‡çš„åŠŸèƒ½ã€‚ç†Ÿæ‚‰çš„ VS Code é£æ ¼ç•Œé¢ã€‚å¤šæ¨¡å‹è®¿é—®å’Œæµè§ˆå™¨å­ä»£ç†ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-0">å¸ƒå±€</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3178cd624a1435db803009c073fcab3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=Z53rHzEI2brK%2FJXqemRhcTtnUks%3D" alt="" loading="lazy"/></p>
<p>ç•Œé¢åˆ†ä¸ºä¸¤ä¸ªä¸»è¦è§†å›¾ã€‚</p>
<p>ç¼–è¾‘å™¨æ˜¯ä½ çš„ä¼ ç»Ÿç¼–ç¨‹ç¯å¢ƒã€‚</p>
<blockquote>
<p><strong>ä»£ç†ç®¡ç†å™¨æ˜¯ä½ åè°ƒæ‰€æœ‰ AI å¯¹è¯å¹¶æŸ¥çœ‹å·¥ä½œåŒºä¸­å‘ç”Ÿçš„ä¸€åˆ‡çš„åœ°æ–¹ã€‚</strong></p>
</blockquote>
<p>ç”¨ç®€å•çš„é”®ç›˜å¿«æ·é”®åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ã€‚</p>
<p>è¿™ä¸æˆ‘ä»¬ä¹‹å‰è§è¿‡çš„ä¸åŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64a75c2582814a87bcd1ce951a52f4d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=QwBVLJHsN5%2Bfw1FfC36c559DWic%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>ä¸ä»…ä»…æ˜¯å¦ä¸€ä¸ªè¯•å›¾æˆä¸º Cursor çš„ AI ä»£ç ç¼–è¾‘å™¨ã€‚è¿™æ˜¯ Google ä»å¤´å¼€å§‹é‡æ–°æ€è€ƒæ•´ä¸ªå·¥ä½œæµç¨‹ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-1">ä¸¤ç§æ¨¡å¼</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50bc9d7b21e843878a376dd143c24df5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=M1NFkQU4rUllUndIqYQoilnSouA%3D" alt="" loading="lazy"/></p>
<p>Antigravity æœ‰ä¸¤ç§ä¸åŒçš„æ¨¡å¼ã€‚</p>
<ul>
<li><strong>è§„åˆ’æ¨¡å¼</strong> - ç”¨äºå¤æ‚ä»»åŠ¡ï¼Œä»£ç†åœ¨æ‰§è¡Œä¹‹å‰è¿›è¡Œè§„åˆ’ã€‚å®ƒå°†å·¥ä½œç»„ç»‡æˆä»»åŠ¡ç»„å¹¶ç”Ÿæˆäº§ç‰©ä»¥è·å¾—æœ€ä½³è´¨é‡ã€‚</li>
<li><strong>å¿«é€Ÿæ¨¡å¼</strong> - ç”¨äºç®€å•ä»»åŠ¡ï¼Œå¦‚é‡å‘½åå˜é‡æˆ–è¿è¡Œå¿«é€Ÿ bash å‘½ä»¤ã€‚åœ¨è¿™é‡Œé€Ÿåº¦æœ€é‡è¦ã€‚</li>
</ul>
<p>ä»£ç†ç³»ç»Ÿä¸æˆ‘ä»¬è§è¿‡çš„ä»»ä½•ä¸œè¥¿éƒ½ä¸åŒã€‚</p>
<blockquote>
<p><strong>å¤šæ­¥æ¨ç†ï¼Œå¯ä»¥å¯¹ä½ ç°æœ‰çš„ä»£ç è¿›è¡Œæ¨ç†ï¼Œä½¿ç”¨å¹¿æ³›çš„å·¥å…·ï¼Œå¹¶å¹¶è¡Œå¯åŠ¨å¤šä¸ªä»£ç†å¯¹è¯ã€‚</strong></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b75d9480e013426cbf7d51d9778c5cdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=J88A%2Fn21Fa8v45RxF8JyBICDVa0%3D" alt="image.png" loading="lazy"/></p>
<p>æ˜¯çš„ï¼Œå¤šä¸ªä»£ç†åŒæ—¶åœ¨é¡¹ç›®çš„ä¸åŒéƒ¨åˆ†ä¸Šå·¥ä½œã€‚</p>
<h3 data-id="heading-2">æµè§ˆå™¨å­ä»£ç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03546acd4a71439bb3a0fb6ed0907b5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=J3P7gSxc2YkWgdd1iSE53aghT0I%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œå°±æ˜¯ç–¯ç‹‚çš„åœ°æ–¹ã€‚</p>
<blockquote>
<p><strong>Antigravity å¯ä»¥çœŸæ­£æ‰“å¼€ã€è¯»å–å’Œæ§åˆ¶ Chrome æµè§ˆå™¨ã€‚å®ƒæµ‹è¯•ä½ çš„å¼€å‘ç½‘ç«™ï¼Œè¯»å–äº’è”ç½‘æ•°æ®æºï¼Œè‡ªåŠ¨åŒ–æµè§ˆå™¨ä»»åŠ¡ï¼Œå¹¶å°†å…¶æ“ä½œè®°å½•ä¸ºäº§ç‰©ã€‚</strong></p>
</blockquote>
<p>å®ƒåœ¨å•ç‹¬çš„ Chrome é…ç½®æ–‡ä»¶ä¸­è¿è¡Œã€‚</p>
<p>ä¸€åˆ‡éƒ½ä¸ä½ çš„ä¸ªäººæµè§ˆéš”ç¦»ã€‚</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*GdO8M8SDao5-tCMb__uyiQ.png" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></p>
<p>Cursor åœ¨ 2.0 ç‰ˆæœ¬ä¸­æ·»åŠ äº†æµè§ˆå™¨æ§ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7674243f00c34e418b82d750d3e697c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=eABpUNQ1bXXNje1eDHdPiG0Pvis%3D" alt="" loading="lazy"/></p>
<p>ä½† Antigravity çš„å®ç°æ„Ÿè§‰æ›´åŠ å®Œå–„å’Œè‡ªä¸»ã€‚</p>
<p>ä»£ç†å¯ä»¥ç¼–å†™ä»£ç ï¼Œåœ¨çœŸå®æµè§ˆå™¨ä¸­æµ‹è¯•ï¼Œè¯†åˆ«é—®é¢˜å¹¶ä¿®å¤å®ƒä»¬ã€‚</p>
<p>è®©æˆ‘ä»¬åˆ†æä¸€ä¸‹æ˜¯ä»€ä¹ˆè®©è¿™ä¸ª IDE ç‰¹æ®Šï¼Œä»¥åŠä¸ºä»€ä¹ˆå¼€å‘è€…åº”è¯¥å…³å¿ƒã€‚</p>
<h2 data-id="heading-3">è§„åˆ’æ¨¡å¼ vs å¿«é€Ÿæ¨¡å¼</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bebad0c8e2c443e69c33372a7d228d9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=v0nnd9FYoIsNrT46vapZ%2FLNp%2BwQ%3D" alt="" loading="lazy"/></p>
<p>Cursor 2.0 å¼•å…¥äº†å¹¶è¡Œä»£ç†ã€‚ä¸€æ¬¡å…«ä¸ªï¼ŒåŒæ—¶å·¥ä½œã€‚</p>
<blockquote>
<p><strong>Antigravity è¯´"é‚£å¾ˆå¯çˆ±"å¹¶æ„å»ºäº†æ›´å…·åˆ›æ–°æ€§çš„ä¸œè¥¿ã€‚</strong></p>
</blockquote>
<p>Antigravity ä»£ç†åœ¨è¡ŒåŠ¨ä¹‹å‰ä¼šæ€è€ƒã€‚</p>
<p>å½“ä½ åœ¨ Antigravity ä¸­å¼€å§‹æ–°çš„ä»£ç†å¯¹è¯æ—¶ï¼Œä½ é€‰æ‹©ä½ çš„æ¨¡å¼ï¼š</p>
<ul>
<li><strong>è§„åˆ’æ¨¡å¼</strong> - ä»£ç†åœ¨æ‰§è¡Œå‰è§„åˆ’ã€‚ç”¨äºæ·±åº¦ç ”ç©¶ã€å¤æ‚ä»»åŠ¡å’Œåä½œå·¥ä½œã€‚</li>
<li><strong>å¿«é€Ÿæ¨¡å¼</strong> - ä»£ç†ç›´æ¥æ‰§è¡Œã€‚ç”¨äºéœ€è¦é€Ÿåº¦è€Œéå‘¨å¯†æ€§çš„ç®€å•ä»»åŠ¡ã€‚</li>
</ul>
<p>è¿™ä¸ªé€‰æ‹©æ”¹å˜äº†ä»£ç†å¤„ç†ä½ çš„è¯·æ±‚çš„æ–¹å¼ã€‚</p>
<h3 data-id="heading-4">è§„åˆ’æ¨¡å¼</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01cc8b376ad1480abbda5ac15ca7a5b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=eCTdCS%2BGOUdEKwL9Nkke3LfvSH4%3D" alt="" loading="lazy"/></p>
<p>åœ¨è§„åˆ’æ¨¡å¼ä¸­ï¼Œä»£ç†ä¸ä¼šç«‹å³å¼€å§‹ç¼–ç¨‹ã€‚</p>
<blockquote>
<p><strong>"ä½ è¦æ±‚ä¸€ä¸ªå¸¦æœ‰èº«ä»½éªŒè¯å’Œ React å‰ç«¯çš„å…¨æ ˆä»»åŠ¡ç®¡ç†åº”ç”¨ç¨‹åºã€‚ä¼šå‘ç”Ÿä»€ä¹ˆï¼š"</strong></p>
</blockquote>
<p>ä»£ç†åˆ†æä½ çš„è¯·æ±‚ã€‚å®ƒåˆ†è§£æ¶æ„â€”â€”æ•°æ®åº“æ¨¡å¼ã€API ç«¯ç‚¹å’Œå‰ç«¯ç»„ä»¶ï¼Œéµå¾ªä¸€åˆ‡å¦‚ä½•è¿æ¥ã€‚</p>
<p>ç„¶åå®ƒåˆ›å»ºä¸€ä¸ªè®¡åˆ’ï¼Œè¿™æ˜¯ä¸€ä¸ªä½ å¯ä»¥å®¡æŸ¥å’Œè¯„è®ºçš„äº§ç‰©ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4cae762ed814d5184f50f971e0d0075~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=QA0gaxIlskd0IkbZ%2BJlHcsuZynk%3D" alt="" loading="lazy"/></p>
<p>è®¡åˆ’æ˜¾ç¤ºï¼š</p>
<ul>
<li>é¡¹ç›®ç»“æ„</li>
<li>æŠ€æœ¯é€‰æ‹©</li>
<li>å®æ–½é¡ºåº</li>
<li>æ½œåœ¨æŒ‘æˆ˜</li>
<li>æ¯ä¸ªéƒ¨åˆ†çš„æ—¶é—´ä¼°è®¡</li>
</ul>
<p>ä½ å®¡æŸ¥è®¡åˆ’ï¼Œæ·»åŠ è¯„è®ºï¼Œè¯·æ±‚æ›´æ”¹ï¼Œä»£ç†è¿›è¡Œè°ƒæ•´ã€‚</p>
<p>åªæœ‰åœ¨ä½ æ‰¹å‡†åæ‰å¼€å§‹ç¼–ç¨‹ã€‚</p>
<h2 data-id="heading-5">ä»»åŠ¡ç»„ï¼šç»„ç»‡å±‚</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c280ae15b79417e8de89a7ca1b7c71c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=3iEU8eJLWa3FZ%2Ff1yOBaaJnJr8M%3D" alt="" loading="lazy"/></p>
<p>åœ¨è§„åˆ’æ¨¡å¼ä¸­ï¼Œå·¥ä½œè¢«ç»„ç»‡æˆä»»åŠ¡ç»„ã€‚</p>
<p>æ¯ä¸ªä»»åŠ¡ç»„æœ‰ï¼š</p>
<ul>
<li>ä¸€ä¸ªæ€»ä½“ç›®æ ‡</li>
<li>æ›´æ”¹æ‘˜è¦</li>
<li>æ˜¾ç¤ºä¸ºè¯ä¸¸çš„ç¼–è¾‘æ–‡ä»¶</li>
<li>å¸¦æœ‰è¯¦ç»†æ­¥éª¤çš„å­ä»»åŠ¡</li>
<li>éœ€è¦æ‰¹å‡†çš„å¾…å¤„ç†æ“ä½œ</li>
</ul>
<blockquote>
<p>ç‚¹å‡»ä»»ä½•æ–‡ä»¶è¯ä¸¸æŸ¥çœ‹å½“å‰çŠ¶æ€ã€‚å±•å¼€å­ä»»åŠ¡æŸ¥çœ‹ä»£ç†åšäº†ä»€ä¹ˆã€‚</p>
</blockquote>
<p>ä»£ç†ç³»ç»Ÿåœ°å¤„ç†è¿™äº›ä»»åŠ¡ç»„ã€‚</p>
<p>æ¯ä¸ªéƒ¨åˆ†éƒ½å»ºç«‹åœ¨å‰ä¸€ä¸ªéƒ¨åˆ†çš„åŸºç¡€ä¸Šã€‚ä»£ç†åœ¨æ•´ä¸ªæ„å»ºè¿‡ç¨‹ä¸­ä¿æŒä¸Šä¸‹æ–‡ã€‚</p>
<h2 data-id="heading-6">å¿«é€Ÿæ¨¡å¼</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87181e96b3ee41df8d57bbceb6b01f68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=DKUo7hD63C%2Fh9NluSmXl3Jiek%2FI%3D" alt="" loading="lazy"/></p>
<p>æœ‰æ—¶å€™ä½ ä¸éœ€è¦è§„åˆ’ã€‚ä½ éœ€è¦è¡ŒåŠ¨ã€‚</p>
<blockquote>
<p>é‡å‘½å 20 ä¸ªæ–‡ä»¶ä¸­çš„å˜é‡ã€‚ä¸ºç°æœ‰å‡½æ•°æ·»åŠ é”™è¯¯å¤„ç†ã€‚æ›´æ–°ä¾èµ–é¡¹ã€‚</p>
</blockquote>
<p>å¿«é€Ÿæ¨¡å¼è·³è¿‡è§„åˆ’é˜¶æ®µï¼Œä»£ç†ç›´æ¥æ‰§è¡Œã€‚</p>
<p>å¯¹äºç®€å•çš„ã€æœ¬åœ°åŒ–çš„ä»»åŠ¡ï¼Œè¿™æ˜¯å®Œç¾çš„ã€‚ä»£ç†åœ¨å‡ ç§’å†…å“åº”ï¼Œè¿›è¡Œæ›´æ”¹ï¼Œç„¶åä½ ç»§ç»­ã€‚</p>
<h2 data-id="heading-7">äº§ç‰©å®¡æŸ¥ç­–ç•¥</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/863a9ae27f244e47ae0aec134dfa46c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=%2FFDXZUJPcE32vrOy7fy35%2F5Olg4%3D" alt="" loading="lazy"/></p>
<p>Antigravity è®©ä½ æ§åˆ¶ä»£ç†è¯·æ±‚è®¸å¯çš„ç¨‹åº¦ã€‚</p>
<p>ä¸‰ä¸ªé€‰é¡¹ï¼š</p>
<ul>
<li><strong>å§‹ç»ˆç»§ç»­</strong> - ä»£ç†ä»ä¸è¯·æ±‚å®¡æŸ¥ã€‚å®Œå…¨è‡ªä¸»æ‰§è¡Œã€‚</li>
<li><strong>ä»£ç†å†³å®š</strong> - ä»£ç†ç¡®å®šä½•æ—¶éœ€è¦å®¡æŸ¥ã€‚æ··åˆæ–¹æ³•ã€‚</li>
<li><strong>è¯·æ±‚å®¡æŸ¥</strong> - ä»£ç†åœ¨ç»§ç»­ä¹‹å‰æ€»æ˜¯åœæ­¢å¹¶ç­‰å¾…æ‰¹å‡†ã€‚</li>
</ul>
<p>åœ¨è®¾ç½®ä¸­è®¾ç½®ä¸€æ¬¡ã€‚é€‚ç”¨äºæ‰€æœ‰æœªæ¥çš„å¯¹è¯ã€‚</p>
<p>æˆ‘ä½¿ç”¨ä»£ç†å†³å®šã€‚å¯¹äºç®€å•æ›´æ”¹ï¼Œä»£ç†ç»§ç»­ã€‚å¯¹äºæ¶æ„å†³ç­–ï¼Œå®ƒä¼šè¯¢é—®ã€‚</p>
<h2 data-id="heading-8">å®é™…ç¤ºä¾‹</h2>
<p>æˆ‘è¦æ±‚ Antigravity ç”¨ Node.js åç«¯å’Œ React å‰ç«¯æ„å»ºä¸€ä¸ªä»»åŠ¡ç®¡ç†åº”ç”¨ç¨‹åºã€‚</p>
<p>è§„åˆ’æ¨¡å¼å¯åŠ¨äº†ã€‚ä»£ç†åˆ›å»ºäº†ä¸€ä¸ªæ˜¾ç¤ºä»¥ä¸‹å†…å®¹çš„è®¡åˆ’ï¼š</p>
<ul>
<li>Express æœåŠ¡å™¨è®¾ç½®</li>
<li>MongoDB æ¨¡å¼è®¾è®¡</li>
<li>JWT èº«ä»½éªŒè¯æµç¨‹</li>
<li>REST API ç«¯ç‚¹</li>
<li>React ç»„ä»¶ç»“æ„</li>
<li>çŠ¶æ€ç®¡ç†æ–¹æ³•</li>
</ul>
<p>æˆ‘å®¡æŸ¥äº†è®¡åˆ’ã€‚æ·»åŠ äº†ä¸€æ¡è¯„è®ºï¼š"ç”¨ PostgreSQL æ›¿ä»£ MongoDBã€‚"</p>
<blockquote>
<p><strong>ä»£ç†è°ƒæ•´äº†æ•´ä¸ªè®¡åˆ’ã€‚æ›´æ–°äº†æ¨¡å¼ã€‚æ›´æ”¹äº†æ•°æ®åº“é©±åŠ¨ç¨‹åºã€‚ä¿®æ”¹äº†è¿æ¥é€»è¾‘ã€‚</strong></p>
</blockquote>
<p>ç„¶åå®ƒé—®ï¼š"å‡†å¤‡ç»§ç»­å—ï¼Ÿ"</p>
<p>æˆ‘æ‰¹å‡†äº†ã€‚å®ƒåœ¨ä»»åŠ¡ç»„ä¸­æ„å»ºäº†æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚é¦–å…ˆæ˜¯åç«¯ã€‚å…¶æ¬¡æ˜¯å‰ç«¯ã€‚ç¬¬ä¸‰æ˜¯èº«ä»½éªŒè¯ã€‚</p>
<p>æ¯ä¸ªä»»åŠ¡ç»„éƒ½æ˜¾ç¤ºæ­£åœ¨æ›´æ”¹çš„å†…å®¹å’ŒåŸå› ã€‚</p>
<blockquote>
<p>å½“å®Œæˆæ—¶ï¼Œæˆ‘æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ã€å·¥ä½œä¸­çš„åº”ç”¨ç¨‹åºï¼Œå…·æœ‰æ¸…æ™°çš„æ¶æ„å’Œé€‚å½“çš„å…³æ³¨ç‚¹åˆ†ç¦»ã€‚</p>
</blockquote>
<h2 data-id="heading-9">æµè§ˆå™¨å­ä»£ç†</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa0f4eb9565e410aa592af6b52034e18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=Dctvc3gQU9UjjC8mUDMITK6BYAk%3D" alt="" loading="lazy"/></p>
<p>Cursor 2.0 æ·»åŠ äº†æµè§ˆå™¨æ§ä»¶ã€‚ä»£ç†å¯ä»¥ä¸æµè§ˆå™¨äº¤äº’ï¼Œæµ‹è¯• UI æ›´æ”¹å’Œè°ƒè¯•é—®é¢˜ã€‚</p>
<blockquote>
<p><strong>Antigravity é‡‡ç”¨äº†è¿™ä¸ªæ¦‚å¿µå¹¶æ„å»ºäº†ä¸€ä¸ªå®Œæ•´çš„è‡ªä¸»æµ‹è¯•ç³»ç»Ÿã€‚</strong></p>
</blockquote>
<p>Antigravity çš„æµè§ˆå™¨å­ä»£ç†ç‹¬ç«‹å·¥ä½œã€‚</p>
<p>æµè§ˆå™¨å­ä»£ç†å¯ä»¥ï¼š</p>
<ul>
<li>å¯¼èˆªåˆ°ä»»ä½• URL</li>
<li>ç‚¹å‡»å…ƒç´ </li>
<li>å¡«å†™è¡¨å•</li>
<li>æ»šåŠ¨é¡µé¢</li>
<li>è¯»å– DOM ä¿¡æ¯</li>
<li>æˆªå–å±å¹•æˆªå›¾</li>
<li>å½•åˆ¶å…¶æ“ä½œè§†é¢‘</li>
</ul>
<h3 data-id="heading-10">å•ç‹¬çš„ Chrome é…ç½®æ–‡ä»¶</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6722ead5550d4e018b2377f2f6cfca83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=N%2BQQwamUJSri1kT%2FsNDOUBv9L6c%3D" alt="" loading="lazy"/></p>
<p>Antigravity åœ¨å•ç‹¬çš„ Chrome é…ç½®æ–‡ä»¶ä¸­è¿è¡Œã€‚</p>
<blockquote>
<p><strong>ä½ çš„ä¸ªäººæµè§ˆä¿æŒåˆ†ç¦»ã€‚ä½ çš„ cookieã€ç™»å½•ã€å†å²è®°å½•â€”â€”å…¨éƒ¨éš”ç¦»ã€‚</strong></p>
</blockquote>
<p>Antigravity é…ç½®æ–‡ä»¶æ˜¯å®ƒè‡ªå·±çš„ç¯å¢ƒã€‚ç™»å½•ä¸€æ¬¡ï¼Œè¿™äº›è´¦æˆ·åœ¨æœªæ¥çš„ä»£ç†ä¼šè¯ä¸­æŒç»­å­˜åœ¨ã€‚</p>
<blockquote>
<p><strong>å¦‚æœ Chrome å·²ç»æ‰“å¼€ï¼ŒAntigravity æµè§ˆå™¨æ˜¾ç¤ºä¸ºå•ç‹¬çš„åœé å›¾æ ‡ã€‚é€€å‡ºå®ƒè¿”å›åˆ°ä½ çš„æ­£å¸¸ Chromeã€‚</strong></p>
</blockquote>
<p>ä½ å¯ä»¥åœ¨è®¾ç½®ä¸­é…ç½®æ­¤é…ç½®æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚</p>
<h3 data-id="heading-11">Chrome æ‰©å±•</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fcd43235bd64e3f97ba218a94346d30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=sj4qJFUXirhX58Bt%2BUrGKReCix4%3D" alt="" loading="lazy"/></p>
<p>ç¬¬ä¸€æ¬¡ä½¿ç”¨æµè§ˆå™¨ä»£ç†æ—¶ï¼ŒAntigravity ä¼šå¼•å¯¼ä½ åˆ° Chrome ç½‘ä¸Šåº”ç”¨åº—å®‰è£… Antigravity æµè§ˆå™¨æ‰©å±•ã€‚</p>
<blockquote>
<p><strong>è¿™ä¸ªæ‰©å±•æ˜¯å¿…éœ€çš„ã€‚è¿™æ˜¯ä»£ç†æŸ¥çœ‹å’Œä¸ç½‘ç«™äº¤äº’çš„æ–¹å¼ã€‚</strong></p>
</blockquote>
<p>æ‰©å±•è¿˜è®©ä½ å¯ä»¥ï¼š</p>
<ul>
<li>ä»æµè§ˆå™¨å–æ¶ˆå½“å‰å¯¹è¯</li>
<li>å°†ç„¦ç‚¹åˆ‡æ¢å› Antigravity</li>
<li>ä¸æµè§ˆå™¨ä»£ç†å¹¶è¡Œå·¥ä½œ</li>
</ul>
<h3 data-id="heading-12">å®‰å…¨ï¼šæ‹’ç»åˆ—è¡¨å’Œå…è®¸åˆ—è¡¨</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bce6206f7f14cfd9e81e8fd0383e6fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=BIDVxSmcXpEkxCjwzvWjkf0spJc%3D" alt="" loading="lazy"/></p>
<p>æµè§ˆå™¨ä½¿ç”¨ä¸¤å±‚å®‰å…¨ç³»ç»Ÿã€‚</p>
<ul>
<li><strong>æ‹’ç»åˆ—è¡¨</strong> - ç”± Google çš„ BadUrlsChecker æœåŠ¡ç»´æŠ¤ã€‚é˜»æ­¢å±é™©å’Œæ¶æ„çš„ URL æœåŠ¡å™¨ç«¯ã€‚å¦‚æœæœåŠ¡å™¨ä¸å¯ç”¨ï¼Œé»˜è®¤æ‹’ç»è®¿é—®ã€‚å®‰å…¨ç¬¬ä¸€ã€‚</li>
<li><strong>å…è®¸åˆ—è¡¨</strong> - ä½ æ§åˆ¶çš„æœ¬åœ°æ–‡æœ¬æ–‡ä»¶ã€‚æ˜ç¡®ä¿¡ä»»ç‰¹å®šçš„ URLã€‚</li>
</ul>
<blockquote>
<p><strong>åœ¨å¼•å¯¼è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥ç”¨é»˜è®¤ URL é¢„å¡«å……å…è®¸åˆ—è¡¨ã€‚</strong></p>
</blockquote>
<p>å½“æµè§ˆå™¨å°è¯•è®¿é—®éå…è®¸åˆ—è¡¨ URL æ—¶ï¼Œä½ ä¼šæ”¶åˆ°æç¤ºï¼š"æ€»æ˜¯å…è®¸è¿™ä¸ª URL å—ï¼Ÿ"</p>
<p>URL è¢«æ·»åŠ åˆ°ä½ çš„å…è®¸åˆ—è¡¨ã€‚æµè§ˆå™¨ç°åœ¨å¯ä»¥è‡ªç”±è®¿é—®å®ƒã€‚</p>
<blockquote>
<p><strong>ä½ å¯ä»¥éšæ—¶æ‰‹åŠ¨ç¼–è¾‘å…è®¸åˆ—è¡¨ã€‚ä½†æ‹’ç»åˆ—è¡¨æ€»æ˜¯ä¼˜å…ˆã€‚ä½ ä¸èƒ½å°†æ‹’ç»åˆ—è¡¨çš„ URL åŠ å…¥å…è®¸åˆ—è¡¨ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-13">å®é™…æµ‹è¯•æµç¨‹</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/937614fba3b345bf87b8bf967d4824df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=nwL54VLpqkeRl4FBNNIV0Ii8USg%3D" alt="" loading="lazy"/></p>
<p>æˆ‘è¦æ±‚ Antigravity æ„å»ºä¸€ä¸ªç”¨æˆ·æ³¨å†Œç³»ç»Ÿå¹¶æµ‹è¯•å®ƒã€‚</p>
<p>ä»£ç†æ„å»ºäº†åç«¯ã€‚åˆ›å»ºäº†å‰ç«¯è¡¨å•ã€‚è®¾ç½®äº†éªŒè¯ã€‚</p>
<p>ç„¶åæˆ‘è¯´ï¼Œ"åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æ³¨å†Œæµç¨‹ã€‚"</p>
<p>æµè§ˆå™¨å­ä»£ç†å¯åŠ¨äº†ã€‚å¯¼èˆªåˆ° localhostã€‚æ‰¾åˆ°äº†æ³¨å†Œè¡¨å•ã€‚</p>
<p>å¡«å†™æµ‹è¯•æ•°æ®ï¼š</p>
<ul>
<li>é‚®ç®±ï¼š<a href="https://link.juejin.cn?target=mailto%3Atest%40example.com" target="_blank" title="mailto:test@example.com" ref="nofollow noopener noreferrer">test@example.com</a></li>
<li>å¯†ç ï¼šSecurePass123!</li>
<li>ç¡®è®¤å¯†ç ï¼šSecurePass123!</li>
</ul>
<p>ç‚¹å‡»æäº¤ã€‚è§‚å¯Ÿç½‘ç»œè¯·æ±‚ã€‚éªŒè¯æˆåŠŸæ¶ˆæ¯å‡ºç°ã€‚</p>
<p>ç„¶åå®ƒæµ‹è¯•äº†è¾¹ç¼˜æƒ…å†µï¼š</p>
<ul>
<li>å¯†ç ä¸åŒ¹é…</li>
<li>æ— æ•ˆé‚®ç®±æ ¼å¼</li>
<li>é‡å¤é‚®ç®±æ³¨å†Œ</li>
<li>ç©ºå­—æ®µ</li>
</ul>
<p>å¯¹äºæ¯ä¸ªæµ‹è¯•ï¼Œå®ƒè®°å½•äº†æ˜¾ç¤ºéªŒè¯é”™è¯¯çš„å±å¹•æˆªå›¾ã€‚</p>
<blockquote>
<p><strong>å®ƒå‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼šé‡å¤é‚®ç®±æ£€æŸ¥ä¸èµ·ä½œç”¨ã€‚æ•°æ®åº“çº¦æŸå­˜åœ¨ï¼Œä½†é”™è¯¯æ¶ˆæ¯æ²¡æœ‰æ­£ç¡®æ˜¾ç¤ºã€‚</strong></p>
</blockquote>
<p>ä»£ç†ç«‹å³è·³å›ä»£ç ã€‚ä¿®å¤äº†é”™è¯¯å¤„ç†ã€‚éƒ¨ç½²äº†ä¿®å¤å¹¶å†æ¬¡æµ‹è¯•ã€‚è¿™æ¬¡ï¼Œä¸€åˆ‡éƒ½å·¥ä½œäº†ã€‚</p>
<h2 data-id="heading-14">è§†é¢‘å½•åˆ¶ä½œä¸ºäº§ç‰©</h2>
<p><img src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*4-UknaGNUO16b83IktUD-Q.gif" alt="" loading="lazy"/></p>
<p>æµè§ˆå™¨å­ä»£ç†ä¸ä»…æµ‹è¯•ï¼›å®ƒè¿˜æä¾›åé¦ˆã€‚å®ƒè®°å½•æ–‡æ¡£ã€‚</p>
<p>è¿è¡Œæµ‹è¯•åï¼Œå®ƒåˆ›å»ºäº§ç‰©ï¼š</p>
<ul>
<li>å…³é”®æ—¶åˆ»çš„å±å¹•æˆªå›¾</li>
<li>æµ‹è¯•æµç¨‹çš„è§†é¢‘å½•åˆ¶</li>
<li>æµ‹è¯•ç»“æœæ‘˜è¦</li>
<li>å¸¦æœ‰é‡ç°æ­¥éª¤çš„é”™è¯¯æŠ¥å‘Š</li>
</ul>
<blockquote>
<p><strong>ä½ è·å¾—äº†æµ‹è¯•å†…å®¹å’Œå‘ç°å†…å®¹çš„å®Œæ•´å®¡è®¡è·Ÿè¸ªã€‚</strong></p>
</blockquote>
<h2 data-id="heading-15">ä»£ç†ç®¡ç†å™¨</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88c3c9502a6b48db8560642684d3321d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=MnbP6Qv1pW%2Fnj%2B%2B1Lx9nUinmzpk%3D" alt="" loading="lazy"/></p>
<p>Antigravity å°†ä½ çš„ç¯å¢ƒåˆ†ä¸ºä¸¤ä¸ªä¸åŒçš„ç•Œé¢ã€‚</p>
<ul>
<li><strong>ç¼–è¾‘å™¨</strong> - ä¼ ç»Ÿç¼–ç¨‹ç¯å¢ƒã€‚ç±»ä¼¼ VS Codeã€‚è¯­æ³•é«˜äº®ã€‚æ‰©å±•ã€‚æ–‡ä»¶æµè§ˆã€‚</li>
<li><strong>ä»£ç†ç®¡ç†å™¨</strong> - ä»£ç†ç¼–æ’ä¸­å¿ƒã€‚å¤šä¸ªå¯¹è¯ã€‚å·¥ä½œåŒºç®¡ç†ã€‚å®¡æŸ¥å·¥å…·ã€‚</li>
</ul>
<blockquote>
<p>ç”¨ Cmd+E æˆ– Ctrl+E åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ã€‚</p>
</blockquote>
<p>Antigravity çš„ä»£ç†å¯ä»¥åŒæ—¶åœ¨å®Œå…¨ä¸åŒçš„é—®é¢˜ä¸Šå·¥ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad8f9a3d3f0e405f9fe3ec57164e1fed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=xqZfGUWGibYJDvjlRNdvBqpTOO4%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>ä»£ç† 1ï¼šæ„å»ºèº«ä»½éªŒè¯ç³»ç»Ÿ</strong></p>
<p><strong>ä»£ç† 2ï¼šè®¾ç½® CI/CD ç®¡é“</strong></p>
<p><strong>ä»£ç† 3ï¼šåˆ›å»º API æ–‡æ¡£</strong></p>
<p><strong>ä»£ç† 4ï¼šå®æ–½åˆ†æè·Ÿè¸ª</strong></p>
</blockquote>
<p>æ¯ä¸ªéƒ½åœ¨è‡ªå·±çš„å¯¹è¯å’Œä¸Šä¸‹æ–‡ä¸­ï¼Œæœç€è‡ªå·±çš„ç›®æ ‡å·¥ä½œã€‚</p>
<blockquote>
<p><strong>å®ƒä»¬éƒ½å¯ä»¥è®¿é—®åŒä¸€ä¸ªå·¥ä½œåŒºå¹¶å¯ä»¥åè°ƒæ›´æ”¹ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-16">å·¥ä½œåŒºç®¡ç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e406bf90710143d7847a9628ec4cf19b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=dfscQxjlmsn7tCqH1WQNiepCKZU%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä»£ç†ç®¡ç†å™¨ä¸­ï¼Œä½ åˆ›å»ºå’Œç®¡ç†å·¥ä½œåŒºã€‚</p>
<p>æ¯ä¸ªå·¥ä½œåŒºæ˜¯ä½ ç³»ç»Ÿä¸Šçš„ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚æ¯ä¸ªéƒ½å¯ä»¥æœ‰å¤šä¸ªæ´»åŠ¨çš„ä»£ç†å¯¹è¯ã€‚</p>
<p>ä½¿ç”¨"æ‰“å¼€ç¼–è¾‘å™¨"æŒ‰é’®æ‰“å¼€ç‰¹å®šæ–‡ä»¶æˆ–éƒ¨åˆ†ã€‚</p>
<p>ä»£ç†ç®¡ç†å™¨æ˜¾ç¤ºæ‰€æœ‰å·¥ä½œåŒºä¸­å‘ç”Ÿçš„ä¸€åˆ‡ï¼š</p>
<ul>
<li>æ´»åŠ¨å¯¹è¯</li>
<li>æœ€è¿‘æ–‡ä»¶æ›´æ”¹</li>
<li>å¾…å¤„ç†æ“ä½œ</li>
<li>åˆ›å»ºçš„äº§ç‰©</li>
</ul>
<h3 data-id="heading-17">å®¡æŸ¥æ›´æ”¹çª—æ ¼</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3033059962b14f7baaf7df8d3841f995~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=FcriY04J58IRvnh8zQt8YWTSpL0%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»ä»»ä½•å¯¹è¯å³ä¸Šè§’çš„"å®¡æŸ¥æ›´æ”¹"ã€‚</p>
<blockquote>
<p><strong>ä½ è·å¾—ä¸€ä¸ªç»Ÿä¸€å·®å¼‚è§†å›¾ï¼Œæ˜¾ç¤ºåœ¨è¯¥å¯¹è¯æœŸé—´æ‰€åšçš„æ‰€æœ‰æ›´æ”¹ã€‚</strong></p>
</blockquote>
<p>æ»šåŠ¨æµè§ˆæ›´æ”¹ã€‚åœ¨ç‰¹å®šè¡Œä¸Šç•™ä¸‹è¯„è®ºã€‚è¦æ±‚ä»£ç†ä¿®æ”¹æŸäº›éƒ¨åˆ†ã€‚</p>
<p>å®¡æŸ¥æ›´æ”¹çª—æ ¼è¿˜æœ‰ä¸€ä¸ªæºä»£ç ç®¡ç†é€‰é¡¹å¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5626d2609bb242a8b0083566e8707661~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=cWdLRgtSCbZ2rUr6%2BnuwnjX7dmI%3D" alt="" loading="lazy"/></p>
<p>åœ¨è¿™é‡Œä½ å¯ä»¥ï¼š</p>
<ul>
<li>æŸ¥çœ‹æ‰€æœ‰æ›´æ”¹çš„æ–‡ä»¶</li>
<li>æš‚å­˜æˆ–å–æ¶ˆæš‚å­˜æ›´æ”¹</li>
<li>æäº¤å‰å®¡æŸ¥å·®å¼‚</li>
<li>ç¼–å†™æäº¤æ¶ˆæ¯</li>
<li>æ¨é€åˆ°è¿œç¨‹</li>
</ul>
<blockquote>
<p><strong>å®Œæ•´çš„ Git é›†æˆï¼Œæ— éœ€ç¦»å¼€ä»£ç†ç®¡ç†å™¨ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-18">æ›´æ”¹ä¾§è¾¹æ </h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5436f36017d4b75969bc6ea56ae61ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=SqPTNTWdOWClym7rVKI4NKmHv8I%3D" alt="" loading="lazy"/></p>
<p>æ›´æ”¹ä¾§è¾¹æ ç»™ä½ ä¸€ä¸ªå¿«é€Ÿæ¦‚è§ˆï¼š</p>
<ul>
<li>åˆ›å»ºçš„äº§ç‰©</li>
<li>ä¿®æ”¹çš„æ–‡ä»¶</li>
<li>è‡ªä¸Šæ¬¡å®¡æŸ¥ä»¥æ¥çš„æ–°æ›´æ”¹</li>
</ul>
<p>ç‚¹å‡»ä»»ä½•èµ„æºåœ¨çª—æ ¼ä¸­æ‰“å¼€å…¶å†…å®¹ã€‚</p>
<blockquote>
<p><strong>ä½ æ€»æ˜¯çŸ¥é“ä»£ç†ä¸€ç›´åœ¨å¤„ç†ä»€ä¹ˆä»¥åŠä»€ä¹ˆéœ€è¦ä½ çš„æ³¨æ„ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-19">ç»ˆç«¯é›†æˆ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c220f5185d704709835c27070291649e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649412&amp;x-signature=ZrRsrRsvjpH5HeWL0pUR0pjyMDA%3D" alt="" loading="lazy"/></p>
<p>æŒ‰ Cmd+J æˆ– Ctrl+J åœ¨ä»£ç†ç®¡ç†å™¨åº•éƒ¨æ‰“å¼€ç»ˆç«¯ã€‚</p>
<p>ç»ˆç«¯é™„åŠ åˆ°å·¥ä½œåŒºâ€”â€”å¤šä¸ªç»ˆç«¯ä¼šè¯ã€‚åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ã€‚</p>
<blockquote>
<p><strong>ä»£ç†å¯ä»¥ç”Ÿæˆå’Œæ‰§è¡Œç»ˆç«¯å‘½ä»¤ã€‚ä½ çš„è®¾ç½®å†³å®šå®ƒä»¬æ˜¯è‡ªåŠ¨æ‰§è¡Œè¿˜æ˜¯è¯·æ±‚æ‰¹å‡†ã€‚</strong></p>
</blockquote>
<p>ä»£ç†å¯ä»¥è¯»å–å®ƒå¹¶å¯¹é”™è¯¯æˆ–æˆåŠŸæ¶ˆæ¯åšå‡ºååº”ã€‚ä»£ç†ä½¿ç”¨çš„ç»ˆç«¯åœ¨ç¼–è¾‘å™¨çª—å£å†…è¿è¡Œã€‚</p>
<h2 data-id="heading-20">æˆ‘å‘ç°çš„é—®é¢˜</h2>
<p><img src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*ajEuRJxZgM97XBW7_nx7eQ.png" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" loading="lazy"/></p>
<p>è™½ç„¶ Antigravity æ˜¾ç¤ºäº†ä»¤äººå°è±¡æ·±åˆ»çš„æ½œåŠ›ï¼Œä½†æˆ‘çš„æµ‹è¯•æ­ç¤ºäº†ä¸€äº›ä½ å¯èƒ½é‡åˆ°çš„ä»¤äººæ²®ä¸§çš„é—®é¢˜ã€‚</p>
<ul>
<li><strong>Chrome æ‰©å±•è®¾ç½®é—®é¢˜</strong></li>
</ul>
<p>åœ¨ç¬¬ä¸€æ¬¡å°è¯•ä¸­è®¾ç½® Chrome æ‰©å±•è¯æ˜æœ‰é—®é¢˜ã€‚</p>
<p>æŒä¹…æµè§ˆå™¨ä¼šè¯åŠŸèƒ½ï¼Œæœ¬åº”åœ¨ä»£ç†ä¼šè¯ä¹‹é—´ä¿æŒä½ çš„ç™»å½•çŠ¶æ€ï¼Œç»å¸¸ä¸­æ–­ã€‚</p>
<blockquote>
<p><strong>æˆ‘ä¸å¾—ä¸å¤šæ¬¡é‡æ–°å®‰è£…æ‰©å±•ï¼Œç„¶åå®ƒæ‰èƒ½ä¸€è‡´åœ°å·¥ä½œã€‚</strong></p>
</blockquote>
<h3 data-id="heading-21">2. æ€§èƒ½å’Œå†…å­˜é—®é¢˜</h3>
<p>Antigravity æ¯” Cursor æ›´é¢‘ç¹åœ°å†»ç»“å¹¶æ¶ˆè€—æ›´å¤šå†…å­˜ã€‚</p>
<p>åœ¨å¤æ‚æ“ä½œæœŸé—´ï¼Œç‰¹åˆ«æ˜¯å½“æµè§ˆå™¨å­ä»£ç†æ´»åŠ¨æ—¶ï¼Œæˆ‘çš„ç³»ç»Ÿèµ„æºæ¿€å¢ã€‚</p>
<blockquote>
<p><strong>Cursor å¤„ç†ç±»ä¼¼å·¥ä½œè´Ÿè½½è¦å¥½å¾—å¤šã€‚</strong></p>
</blockquote>
<h3 data-id="heading-22">3. æ¨¡å‹é…é¢é™åˆ¶</h3>
<p>æ¨¡å‹é…é¢ç”¨å¾—éå¸¸å¿«ã€‚ä¸ Cursor çš„å…è´¹å±‚çº§ä¸åŒï¼Œåè€…å¯ä»¥åœ¨ä¸è¾¾åˆ°é™åˆ¶çš„æƒ…å†µä¸‹æ„å»ºå®Œæ•´åº”ç”¨ç¨‹åºï¼ŒAntigravity çš„å…è´¹å±‚çº§å¾ˆå¿«å°±ä¼šç”¨å®Œã€‚</p>
<blockquote>
<p><strong>ä½ ä¼šç»å¸¸é‡åˆ°"é‡åˆ°æ¥è‡ªæ¨¡å‹æä¾›ç¨‹åºçš„å¯é‡è¯•é”™è¯¯"æ¶ˆæ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¾—åˆ°"æ¨¡å‹äº§ç”Ÿç©ºå“åº”"é”™è¯¯ã€‚</strong></p>
</blockquote>
<p>æˆ‘æ‰¾åˆ°äº†è§£å†³æ–¹æ³•ï¼š<strong>ä¸æ–­åœ¨æ¨¡å‹ä¹‹é—´åˆ‡æ¢ã€‚</strong></p>
<blockquote>
<p><strong>å½“ä¸€ä¸ªé…é¢ç”¨å®Œæ—¶ï¼Œä½ éœ€è¦ä»ä¸‹æ‹‰åˆ—è¡¨ä¸­åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ¨¡å‹â€”â€”åœ¨ Gemini 3 Pro (é«˜)ã€Gemini 3 Pro (ä½)ã€Claude Sonnet 4.5 æˆ– GPT-OSS æ¨¡å‹ä¹‹é—´å¾ªç¯ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-23">æœ€ç»ˆæ€è€ƒ</h2>
<p>Cursor ä¸€ç›´æ˜¯å¯»æ±‚é€Ÿåº¦çš„å¼€å‘è€…çš„é¦–é€‰ AI IDEï¼Œä½†ç°åœ¨ Antigravity ä»¥ç±»ä¼¼çš„åŠŸèƒ½è¿›å…¥åœºæ™¯ï¼Œå…¶æµè§ˆå™¨å­ä»£ç†åŠŸèƒ½æ›´å¥½ã€‚</p>
<blockquote>
<p><strong>è®©è¿™å˜å¾—å¼ºå¤§çš„æ˜¯å®Œæ•´çš„æµ‹è¯•å¾ªç¯â€”â€”ä½ çš„ AI ä»£ç†ç¼–å†™ä»£ç ï¼Œå¯åŠ¨ Chrome å®ä¾‹ï¼Œæµè§ˆä½ çš„åº”ç”¨ç¨‹åºï¼Œæµ‹è¯•ç”¨æˆ·æµç¨‹ï¼Œæ•è·é”™è¯¯ï¼Œå¹¶è¿­ä»£ä¿®å¤ã€‚</strong></p>
</blockquote>
<p>æ‰€æœ‰è¿™ä¸€åˆ‡è‡ªä¸»å‘ç”Ÿï¼ŒåŒæ—¶ç”Ÿæˆæµ‹è¯•è¿è¡Œçš„è§†é¢‘æ–‡æ¡£ã€‚ä½ ç°åœ¨å¯ä»¥ä¸“æ³¨äºæ¶æ„å’Œä¸šåŠ¡é€»è¾‘ï¼Œè€Œä»£ç†å¤„ç†å®æ–½å’Œ QA å‘¨æœŸã€‚</p>
<p>é€šè¿‡å¤šæ¨¡å‹æ”¯æŒå°† Gemini 3 Proã€Claude Sonnet 4.5 å’Œ GPT æ¨¡å‹å¼•å…¥ä¸€ä¸ªç¼–è¾‘å™¨ï¼ŒAntigravity æ­£åœ¨é‡æ–°å®šä¹‰ AI ç¼–ç¨‹ï¼Œä½†è®©æˆ‘ä»¬ç­‰å¾…ä»·æ ¼ï¼Œå› ä¸ºå®ƒè¿˜åœ¨é¢„è§ˆé˜¶æ®µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ168ï¼‰ å¦‚ä½•ä½¿ç”¨Rediså®ç°ä¼šè¯ç®¡ç†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580285196693766144</link>    <guid>https://juejin.cn/post/7580285196693766144</guid>    <pubDate>2025-12-06T23:05:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580285196693766144" data-draft-id="7580295137395605519" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ168ï¼‰ å¦‚ä½•ä½¿ç”¨Rediså®ç°ä¼šè¯ç®¡ç†ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T23:05:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ168ï¼‰ å¦‚ä½•ä½¿ç”¨Rediså®ç°ä¼šè¯ç®¡ç†ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T23:05:14.000Z" title="Sat Dec 06 2025 23:05:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°ä¼šè¯ç®¡ç†æ˜¯ä¸€ç§å¸¸è§ä¸”æœ‰æ•ˆçš„æ–¹æ³•ï¼Œç‰¹åˆ«é€‚åˆäºåˆ†å¸ƒå¼ç³»ç»Ÿå’Œé«˜å¹¶å‘åœºæ™¯ã€‚Redisçš„é«˜æ€§èƒ½ã€æŒä¹…åŒ–å’Œä¸°å¯Œçš„æ•°æ®ç»“æ„ä½¿å…¶æˆä¸ºä¼šè¯ç®¡ç†çš„ç†æƒ³é€‰æ‹©ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Rediså®ç°ä¼šè¯ç®¡ç†ï¼ŒåŒ…æ‹¬ä¼šè¯çš„åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ï¼Œå¹¶ç»“åˆä»£ç ç¤ºä¾‹è¿›è¡Œè®²è§£ã€‚</p>
<h3 data-id="heading-0">1. ä¼šè¯ç®¡ç†çš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>ä¼šè¯ç®¡ç†ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>ä¼šè¯åˆ›å»º</strong>ï¼šç”¨æˆ·ç™»å½•åï¼Œåˆ›å»ºä¸€ä¸ªä¼šè¯ï¼Œå¹¶å­˜å‚¨ç”¨æˆ·ç›¸å…³ä¿¡æ¯ã€‚</li>
<li><strong>ä¼šè¯è¯»å–</strong>ï¼šåœ¨ç”¨æˆ·è¿›è¡Œåç»­æ“ä½œæ—¶ï¼Œä»ä¼šè¯ä¸­è¯»å–ç”¨æˆ·ä¿¡æ¯ã€‚</li>
<li><strong>ä¼šè¯æ›´æ–°</strong>ï¼šåœ¨ç”¨æˆ·æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½éœ€è¦æ›´æ–°ä¼šè¯ä¿¡æ¯ã€‚</li>
<li><strong>ä¼šè¯åˆ é™¤</strong>ï¼šç”¨æˆ·ç™»å‡ºæˆ–ä¼šè¯è¿‡æœŸæ—¶ï¼Œåˆ é™¤ä¼šè¯ä¿¡æ¯ã€‚</li>
</ol>
<h3 data-id="heading-1">2. ä½¿ç”¨Rediså®ç°ä¼šè¯ç®¡ç†</h3>
<h4 data-id="heading-2">2.1 å¼•å…¥ä¾èµ–</h4>
<p>åœ¨Javaé¡¹ç›®ä¸­ä½¿ç”¨Jedisåº“ä¸Redisè¿›è¡Œäº¤äº’ã€‚åœ¨Mavené¡¹ç›®ä¸­æ·»åŠ Jedisä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">2.2 ä¼šè¯ç®¡ç†åŸºæœ¬æ“ä½œ</h4>
<h5 data-id="heading-4">ç¤ºä¾‹ï¼šä¼šè¯ç®¡ç†ç±»</h5>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªç®€å•çš„ä¼šè¯ç®¡ç†ç±»ï¼Œå¹¶å®ç°ä¼šè¯çš„åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">import</span> java.util.UUID;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisSessionManager</span> {

    <span class="hljs-keyword">private</span> Jedis jedis;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">SESSION_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">1800</span>; <span class="hljs-comment">// ä¼šè¯è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisSessionManager</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-built_in">this</span>.jedis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
    }

    <span class="hljs-comment">// åˆ›å»ºä¼šè¯</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createSession</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionId</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        jedis.hset(sessionKey, <span class="hljs-string">"userId"</span>, userId);
        jedis.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// è®¾ç½®ä¼šè¯è¶…æ—¶æ—¶é—´</span>
        <span class="hljs-keyword">return</span> sessionId;
    }

    <span class="hljs-comment">// è·å–ä¼šè¯</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSession</span><span class="hljs-params">(String sessionId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        <span class="hljs-keyword">if</span> (jedis.exists(sessionKey)) {
            jedis.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// é‡ç½®è¶…æ—¶æ—¶é—´</span>
            <span class="hljs-keyword">return</span> jedis.hget(sessionKey, <span class="hljs-string">"userId"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">// æ›´æ–°ä¼šè¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateSession</span><span class="hljs-params">(String sessionId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        <span class="hljs-keyword">if</span> (jedis.exists(sessionKey)) {
            jedis.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// é‡ç½®è¶…æ—¶æ—¶é—´</span>
        }
    }

    <span class="hljs-comment">// åˆ é™¤ä¼šè¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteSession</span><span class="hljs-params">(String sessionId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        jedis.del(sessionKey);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        jedis.close();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisSessionManager</span> <span class="hljs-variable">sessionManager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisSessionManager</span>();

        <span class="hljs-comment">// åˆ›å»ºä¼šè¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionId</span> <span class="hljs-operator">=</span> sessionManager.createSession(<span class="hljs-string">"user1"</span>);
        System.out.println(<span class="hljs-string">"Session created: "</span> + sessionId);

        <span class="hljs-comment">// è·å–ä¼šè¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> sessionManager.getSession(sessionId);
        System.out.println(<span class="hljs-string">"User ID from session: "</span> + userId);

        <span class="hljs-comment">// æ›´æ–°ä¼šè¯</span>
        sessionManager.updateSession(sessionId);
        System.out.println(<span class="hljs-string">"Session updated"</span>);

        <span class="hljs-comment">// åˆ é™¤ä¼šè¯</span>
        sessionManager.deleteSession(sessionId);
        System.out.println(<span class="hljs-string">"Session deleted"</span>);

        sessionManager.close();
    }
}
</code></pre>
<h4 data-id="heading-5">2.3 å¤„ç†ä¼šè¯è¶…æ—¶</h4>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<code>expire</code>å‘½ä»¤è®¾ç½®äº†ä¼šè¯çš„è¶…æ—¶æ—¶é—´ï¼Œå¹¶åœ¨æ¯æ¬¡è¯»å–å’Œæ›´æ–°ä¼šè¯æ—¶é‡ç½®è¶…æ—¶æ—¶é—´ã€‚è¿™ç¡®ä¿äº†ä¼šè¯åœ¨ç”¨æˆ·æŒç»­æ´»åŠ¨æœŸé—´ä¸ä¼šè¿‡æœŸï¼Œä½†å¦‚æœç”¨æˆ·é•¿æ—¶é—´æœªæ´»åŠ¨ï¼Œä¼šè¯å°†è‡ªåŠ¨è¿‡æœŸã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSession</span><span class="hljs-params">(String sessionId)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
    <span class="hljs-keyword">if</span> (jedis.exists(sessionKey)) {
        jedis.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// é‡ç½®è¶…æ—¶æ—¶é—´</span>
        <span class="hljs-keyword">return</span> jedis.hget(sessionKey, <span class="hljs-string">"userId"</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<h4 data-id="heading-6">2.4 æ‰©å±•ä¼šè¯ä¿¡æ¯</h4>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯èƒ½éœ€è¦åœ¨ä¼šè¯ä¸­å­˜å‚¨æ›´å¤šä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·è§’è‰²ã€æƒé™ç­‰ã€‚å¯ä»¥ä½¿ç”¨Redisçš„Hashesæ¥å­˜å‚¨è¿™äº›ä¿¡æ¯ã€‚</p>
<h5 data-id="heading-7">ç¤ºä¾‹ï¼šæ‰©å±•ä¼šè¯ä¿¡æ¯</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">createSession</span><span class="hljs-params">(String userId, String role)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">sessionId</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();
    <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
    jedis.hset(sessionKey, <span class="hljs-string">"userId"</span>, userId);
    jedis.hset(sessionKey, <span class="hljs-string">"role"</span>, role);
    jedis.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// è®¾ç½®ä¼šè¯è¶…æ—¶æ—¶é—´</span>
    <span class="hljs-keyword">return</span> sessionId;
}

<span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUserRole</span><span class="hljs-params">(String sessionId)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
    <span class="hljs-keyword">if</span> (jedis.exists(sessionKey)) {
        jedis.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// é‡ç½®è¶…æ—¶æ—¶é—´</span>
        <span class="hljs-keyword">return</span> jedis.hget(sessionKey, <span class="hljs-string">"role"</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<h4 data-id="heading-8">2.5 ä½¿ç”¨Redisé›†ç¾¤å®ç°ä¼šè¯ç®¡ç†</h4>
<p>ä¸ºäº†æé«˜å¯ç”¨æ€§å’Œæ‰©å±•æ€§ï¼Œå¯ä»¥ä½¿ç”¨Redisé›†ç¾¤ã€‚Redisé›†ç¾¤å°†æ•°æ®åˆ†ç‰‡å­˜å‚¨åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œå¹¶æä¾›äº†é«˜å¯ç”¨æ€§ã€‚</p>
<h5 data-id="heading-9">ç¤ºä¾‹ï¼šä½¿ç”¨Redisé›†ç¾¤çš„ä¼šè¯ç®¡ç†</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.HostAndPort;
<span class="hljs-keyword">import</span> redis.clients.jedis.JedisCluster;

<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;
<span class="hljs-keyword">import</span> java.util.UUID;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisClusterSessionManager</span> {

    <span class="hljs-keyword">private</span> JedisCluster jedisCluster;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">SESSION_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">1800</span>; <span class="hljs-comment">// ä¼šè¯è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisClusterSessionManager</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// é…ç½®Redisé›†ç¾¤èŠ‚ç‚¹</span>
        Set&lt;HostAndPort&gt; nodes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7000</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7001</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7002</span>));
        <span class="hljs-built_in">this</span>.jedisCluster = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisCluster</span>(nodes);
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createSession</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionId</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        jedisCluster.hset(sessionKey, <span class="hljs-string">"userId"</span>, userId);
        jedisCluster.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// è®¾ç½®ä¼šè¯è¶…æ—¶æ—¶é—´</span>
        <span class="hljs-keyword">return</span> sessionId;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSession</span><span class="hljs-params">(String sessionId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        <span class="hljs-keyword">if</span> (jedisCluster.exists(sessionKey)) {
            jedisCluster.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// é‡ç½®è¶…æ—¶æ—¶é—´</span>
            <span class="hljs-keyword">return</span> jedisCluster.hget(sessionKey, <span class="hljs-string">"userId"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateSession</span><span class="hljs-params">(String sessionId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        <span class="hljs-keyword">if</span> (jedisCluster.exists(sessionKey)) {
            jedisCluster.expire(sessionKey, SESSION_TIMEOUT); <span class="hljs-comment">// é‡ç½®è¶…æ—¶æ—¶é—´</span>
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteSession</span><span class="hljs-params">(String sessionId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"session:"</span> + sessionId;
        jedisCluster.del(sessionKey);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            jedisCluster.close();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisClusterSessionManager</span> <span class="hljs-variable">sessionManager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisClusterSessionManager</span>();

        <span class="hljs-comment">// åˆ›å»ºä¼šè¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">sessionId</span> <span class="hljs-operator">=</span> sessionManager.createSession(<span class="hljs-string">"user1"</span>);
        System.out.println(<span class="hljs-string">"Session created: "</span> + sessionId);

        <span class="hljs-comment">// è·å–ä¼šè¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> sessionManager.getSession(sessionId);
        System.out.println(<span class="hljs-string">"User ID from session: "</span> + userId);

        <span class="hljs-comment">// æ›´æ–°ä¼šè¯</span>
        sessionManager.updateSession(sessionId);
        System.out.println(<span class="hljs-string">"Session updated"</span>);

        <span class="hljs-comment">// åˆ é™¤ä¼šè¯</span>
        sessionManager.deleteSession(sessionId);
        System.out.println(<span class="hljs-string">"Session deleted"</span>);

        sessionManager.close();
    }
}
</code></pre>
<h3 data-id="heading-10">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Rediså®ç°ä¼šè¯ç®¡ç†ï¼ŒåŒ…æ‹¬ä¼šè¯çš„åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ï¼Œå¹¶å¤„ç†ä¼šè¯çš„è¶…æ—¶é—®é¢˜ã€‚æˆ‘ä»¬è¿˜å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Redisé›†ç¾¤æ¥æé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ‰©å±•å’Œä¼˜åŒ–è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚å®ç°æ›´å¤šå¤æ‚çš„ä¼šè¯ä¿¡æ¯å­˜å‚¨ã€ä¼šè¯åŒæ­¥æœºåˆ¶ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ169ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ•°æ®åŒæ­¥ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580288235031248896</link>    <guid>https://juejin.cn/post/7580288235031248896</guid>    <pubDate>2025-12-06T23:06:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580288235031248896" data-draft-id="7580312375372611624" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ169ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ•°æ®åŒæ­¥ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T23:06:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ169ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°æ•°æ®åŒæ­¥ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T23:06:03.000Z" title="Sat Dec 06 2025 23:06:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°æ•°æ®åŒæ­¥æ˜¯ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•ï¼Œç‰¹åˆ«é€‚åˆäºéœ€è¦åœ¨å¤šå°æœåŠ¡å™¨ä¹‹é—´ä¿æŒæ•°æ®ä¸€è‡´æ€§çš„åœºæ™¯ã€‚Redisæä¾›äº†å¤šç§æœºåˆ¶æ¥å®ç°æ•°æ®åŒæ­¥ï¼ŒåŒ…æ‹¬ä¸»ä»å¤åˆ¶ã€å‘å¸ƒè®¢é˜…å’ŒRedis Streamsç­‰ã€‚</p>
<h3 data-id="heading-0">1. æ•°æ®åŒæ­¥çš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>æ•°æ®åŒæ­¥ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ•°æ®æ”¶é›†å’Œå¤„ç†</strong>ï¼šæ¥æ”¶å¹¶å¤„ç†éœ€è¦åŒæ­¥çš„æ•°æ®ã€‚</li>
<li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šå°†å¤„ç†åçš„æ•°æ®å­˜å‚¨åœ¨Redisä¸­ã€‚</li>
<li><strong>æ•°æ®åŒæ­¥æœºåˆ¶</strong>ï¼šåˆ©ç”¨Redisçš„å¤åˆ¶ã€å‘å¸ƒè®¢é˜…æˆ–Streamsç­‰æœºåˆ¶å®ç°æ•°æ®åŒæ­¥ã€‚</li>
<li><strong>æ•°æ®æ¶ˆè´¹</strong>ï¼šä»Redisä¸­è¯»å–å¹¶å¤„ç†åŒæ­¥çš„æ•°æ®ã€‚</li>
</ol>
<h3 data-id="heading-1">2. ä½¿ç”¨Rediså®ç°æ•°æ®åŒæ­¥</h3>
<h4 data-id="heading-2">2.1 ä½¿ç”¨Redisä¸»ä»å¤åˆ¶</h4>
<p>Redisçš„ä¸»ä»å¤åˆ¶å¯ä»¥å®ç°æ•°æ®åœ¨å¤šä¸ªRediså®ä¾‹ä¹‹é—´çš„åŒæ­¥ã€‚é…ç½®ä¸€ä¸ªRediså®ä¾‹ä¸ºä¸»èŠ‚ç‚¹ï¼Œå…¶ä»–å®ä¾‹ä¸ºä»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹ä¼šè‡ªåŠ¨åŒæ­¥ä¸»èŠ‚ç‚¹çš„æ•°æ®ã€‚</p>
<h5 data-id="heading-3">é…ç½®ä¸»ä»å¤åˆ¶</h5>
<ol>
<li><strong>é…ç½®ä¸»èŠ‚ç‚¹</strong>ï¼šä¸»èŠ‚ç‚¹ä¸éœ€è¦é¢å¤–é…ç½®ï¼Œå¯åŠ¨å³å¯ã€‚</li>
<li><strong>é…ç½®ä»èŠ‚ç‚¹</strong>ï¼šåœ¨ä»èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š
<pre><code class="hljs language-plaintext" lang="plaintext">replicaof &lt;master-ip&gt; &lt;master-port&gt;
</code></pre>
</li>
</ol>
<p>å¯åŠ¨Rediså®ä¾‹åï¼Œä»èŠ‚ç‚¹ä¼šè‡ªåŠ¨åŒæ­¥ä¸»èŠ‚ç‚¹çš„æ•°æ®ã€‚</p>
<h4 data-id="heading-4">2.2 ä½¿ç”¨Rediså‘å¸ƒè®¢é˜…</h4>
<p>Redisçš„å‘å¸ƒè®¢é˜…ï¼ˆPub/Subï¼‰æœºåˆ¶æ˜¯ä¸€ç§æ¶ˆæ¯ä¼ é€’æ¨¡å‹ï¼Œå¯ä»¥åœ¨å¤šä¸ªå®¢æˆ·ç«¯ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚å‘å¸ƒè€…å°†æ¶ˆæ¯å‘å¸ƒåˆ°ç‰¹å®šé¢‘é“ï¼Œè®¢é˜…è€…æ¥æ”¶è¯¥é¢‘é“çš„æ¶ˆæ¯ã€‚</p>
<h5 data-id="heading-5">ç¤ºä¾‹ï¼šä½¿ç”¨å‘å¸ƒè®¢é˜…è¿›è¡Œæ•°æ®åŒæ­¥</h5>
<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Redisçš„å‘å¸ƒè®¢é˜…æœºåˆ¶æ¥å®ç°æ•°æ®åŒæ­¥ã€‚</p>
<h6 data-id="heading-6">å‘å¸ƒè€…ï¼ˆProducerï¼‰</h6>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisPublisher</span> {
    <span class="hljs-keyword">private</span> Jedis jedis;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CHANNEL_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_sync_channel"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisPublisher</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.jedis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">publishData</span><span class="hljs-params">(String data)</span> {
        jedis.publish(CHANNEL_NAME, data);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        jedis.close();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisPublisher</span> <span class="hljs-variable">publisher</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisPublisher</span>();
        publisher.publishData(<span class="hljs-string">"Hello, Redis!"</span>);
        publisher.close();
    }
}
</code></pre>
<h6 data-id="heading-7">è®¢é˜…è€…ï¼ˆSubscriberï¼‰</h6>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.JedisPubSub;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisSubscriber</span> {
    <span class="hljs-keyword">private</span> Jedis jedis;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CHANNEL_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_sync_channel"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisSubscriber</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.jedis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">subscribe</span><span class="hljs-params">()</span> {
        jedis.subscribe(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisPubSub</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(String channel, String message)</span> {
                System.out.println(<span class="hljs-string">"Received message: "</span> + message);
            }
        }, CHANNEL_NAME);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        jedis.close();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisSubscriber</span> <span class="hljs-variable">subscriber</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisSubscriber</span>();
        subscriber.subscribe();
        subscriber.close();
    }
}
</code></pre>
<h4 data-id="heading-8">2.3 ä½¿ç”¨Redis Streams</h4>
<p>Redis Streamsæ˜¯ä¸€ç§é«˜çº§çš„æ•°æ®ç»“æ„ï¼Œé€‚ç”¨äºæ—¥å¿—å’Œæ¶ˆæ¯é˜Ÿåˆ—ç­‰åœºæ™¯ï¼Œå¯ä»¥å®ç°æ›´å¤æ‚çš„æ•°æ®åŒæ­¥éœ€æ±‚ã€‚</p>
<h5 data-id="heading-9">ç¤ºä¾‹ï¼šä½¿ç”¨Redis Streamsè¿›è¡Œæ•°æ®åŒæ­¥</h5>
<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Redis Streamsæ¥å®ç°æ•°æ®åŒæ­¥ã€‚</p>
<h6 data-id="heading-10">æ•°æ®ç”Ÿäº§è€…ï¼ˆProducerï¼‰</h6>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.StreamEntryID;

<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisStreamProducer</span> {
    <span class="hljs-keyword">private</span> Jedis jedis;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">STREAM_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_stream"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisStreamProducer</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.jedis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">publishData</span><span class="hljs-params">(String data)</span> {
        Map&lt;String, String&gt; message = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        message.put(<span class="hljs-string">"data"</span>, data);
        jedis.xadd(STREAM_NAME, StreamEntryID.NEW_ENTRY, message);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        jedis.close();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisStreamProducer</span> <span class="hljs-variable">producer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisStreamProducer</span>();
        producer.publishData(<span class="hljs-string">"Hello, Redis Streams!"</span>);
        producer.close();
    }
}
</code></pre>
<h6 data-id="heading-11">æ•°æ®æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰</h6>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.StreamEntry;
<span class="hljs-keyword">import</span> redis.clients.jedis.StreamEntryID;
<span class="hljs-keyword">import</span> redis.clients.jedis.StreamPendingEntry;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisStreamConsumer</span> {
    <span class="hljs-keyword">private</span> Jedis jedis;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">STREAM_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_stream"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONSUMER_GROUP</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_group"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONSUMER_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"consumer_1"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">COUNT</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisStreamConsumer</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.jedis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
        createConsumerGroup();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createConsumerGroup</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            jedis.xgroupCreate(STREAM_NAME, CONSUMER_GROUP, StreamEntryID.LAST_ENTRY, <span class="hljs-literal">true</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// Consumer group already exists</span>
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumeData</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            List&lt;StreamEntry&gt; entries = jedis.xreadGroup(CONSUMER_GROUP, CONSUMER_NAME, COUNT, <span class="hljs-number">0</span>, <span class="hljs-literal">false</span>, STREAM_NAME, StreamEntryID.UNRECEIVED_ENTRY);
            <span class="hljs-keyword">for</span> (StreamEntry entry : entries) {
                Map&lt;String, String&gt; message = entry.getFields();
                processMessage(message);
                jedis.xack(STREAM_NAME, CONSUMER_GROUP, entry.getID());
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processMessage</span><span class="hljs-params">(Map&lt;String, String&gt; message)</span> {
        System.out.println(<span class="hljs-string">"Received message: "</span> + message.get(<span class="hljs-string">"data"</span>));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        jedis.close();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisStreamConsumer</span> <span class="hljs-variable">consumer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisStreamConsumer</span>();
        consumer.consumeData();
        consumer.close();
    }
}
</code></pre>
<h3 data-id="heading-12">3. ç»¼åˆç¤ºä¾‹ï¼šæ•°æ®åŒæ­¥ç³»ç»Ÿ</h3>
<p>å°†ä¸Šè¿°å„éƒ¨åˆ†ç»“åˆèµ·æ¥ï¼Œå®ç°ä¸€ä¸ªå®Œæ•´çš„æ•°æ®åŒæ­¥ç³»ç»Ÿã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.JedisPubSub;
<span class="hljs-keyword">import</span> redis.clients.jedis.StreamEntryID;

<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisDataSyncSystem</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CHANNEL_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_sync_channel"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">STREAM_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_stream"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONSUMER_GROUP</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data_group"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">CONSUMER_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"consumer_1"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">COUNT</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. å‘å¸ƒè®¢é˜…æœºåˆ¶</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(RedisDataSyncSystem::startSubscriber).start();
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> {
                Thread.sleep(<span class="hljs-number">1000</span>); <span class="hljs-comment">// ç¡®ä¿è®¢é˜…è€…å·²å¯åŠ¨</span>
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
            startPublisher();
        }).start();

        <span class="hljs-comment">// 2. Redis Streamsæœºåˆ¶</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(RedisDataSyncSystem::startStreamConsumer).start();
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> {
                Thread.sleep(<span class="hljs-number">1000</span>); <span class="hljs-comment">// ç¡®ä¿æ¶ˆè´¹è€…å·²å¯åŠ¨</span>
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                e.printStackTrace();
            }
            startStreamProducer();
        }).start();
    }

    <span class="hljs-comment">// å‘å¸ƒè€…</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startPublisher</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>)) {
            jedis.publish(CHANNEL_NAME, <span class="hljs-string">"Hello, Redis Pub/Sub!"</span>);
        }
    }

    <span class="hljs-comment">// è®¢é˜…è€…</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startSubscriber</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>)) {
            jedis.subscribe(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisPubSub</span>() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(String channel, String message)</span> {
                    System.out.println(<span class="hljs-string">"Received message: "</span> + message);
                }
            }, CHANNEL_NAME);
        }
    }

    <span class="hljs-comment">// æ•°æ®ç”Ÿäº§è€…ï¼ˆStreamsï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startStreamProducer</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>)) {
            Map&lt;String, String&gt; message = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            message.put(<span class="hljs-string">"data"</span>, <span class="hljs-string">"Hello, Redis Streams!"</span>);
            jedis.xadd(STREAM_NAME, StreamEntryID.NEW_ENTRY, message);
        }
    }

    <span class="hljs-comment">// æ•°æ®æ¶ˆè´¹è€…ï¼ˆStreamsï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startStreamConsumer</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>)) {
            createConsumerGroup(jedis);
            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                List&lt;StreamEntry&gt; entries = jedis.xreadGroup(CONSUMER_GROUP, CONSUMER_NAME, COUNT, <span class="hljs-number">0</span>, <span class="hljs-literal">false</span>, STREAM_NAME, StreamEntryID.UNRECEIVED_ENTRY);
                <span class="hljs-keyword">for</span> (StreamEntry entry : entries) {
                    Map&lt;String, String&gt; message = entry.getFields();
                    processMessage(message);
                    jedis.xack(STREAM_NAME, CONSUMER_GROUP, entry.getID());
                }
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createConsumerGroup</span><span class="hljs-params">(Jedis jedis)</span> {
        <span class="hljs-keyword">try</span> {
            jedis.xgroupCreate(STREAM_NAME, CONSUMER_GROUP, StreamEntryID.LAST_ENTRY, <span class="hljs-literal">true</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// Consumer group already exists</span>
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processMessage</span><span class="hljs-params">(Map&lt;String, String&gt; message)</span> {
        System.out.println(<span class="hljs-string">"Received stream message: "</span> + message.get(<span class="hljs-string">"data"</span>));
    }
}
</code></pre>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Rediså®ç°æ•°æ®åŒæ­¥ï¼ŒåŒ…æ‹¬ä½¿ç”¨Redisçš„ä¸»ä»å¤åˆ¶æœºåˆ¶ã€å‘å¸ƒè®¢é˜…æœºåˆ¶å’ŒRedis Streamsæœºåˆ¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘çš„ Claude Code ä½¿ç”¨å°è®° 2]]></title>    <link>https://juejin.cn/post/7580329353353248814</link>    <guid>https://juejin.cn/post/7580329353353248814</guid>    <pubDate>2025-12-06T19:03:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580329353353248814" data-draft-id="7580310413754531890" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘çš„ Claude Code ä½¿ç”¨å°è®° 2"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Claude"/> <meta itemprop="datePublished" content="2025-12-06T19:03:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cos"/> <meta itemprop="url" content="https://juejin.cn/user/1698115646132254"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘çš„ Claude Code ä½¿ç”¨å°è®° 2
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1698115646132254/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cos
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T19:03:31.000Z" title="Sat Dec 06 2025 19:03:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cosine.ren%2Fpost%2Fmy-claude-code-record-2" target="_blank" title="https://blog.cosine.ren/post/my-claude-code-record-2" ref="nofollow noopener noreferrer">blog.cosine.ren/post/my-claâ€¦</a></p>
</blockquote>
<p>è·ç¦»æˆ‘ 8 æœˆä»½å†™ä¸‹ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cosine.ren%2Fpost%2Fmy-claude-code-record" target="_blank" title="https://blog.cosine.ren/post/my-claude-code-record" ref="nofollow noopener noreferrer">æˆ‘çš„ Claude Code ä½¿ç”¨å°è®°</a>ã€‹å·²ç»è¿‡å»äº†è¿‘ 4 ä¸ªæœˆï¼Œåœ¨è¿™æ®µæ—¶é—´çš„é«˜å¼ºåº¦ä½¿ç”¨åï¼Œæ˜¯æ—¶å€™åˆ†äº«ä¸€äº›æ–°çš„ä½“éªŒäº†ã€‚</p>
<p>å¾ˆçŸ­ï¼Œå¹¶ä¸”æ¯”è¾ƒæ”¯ç¦»ç ´ç¢æµæ°´è´¦ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®°å½•ã€‚</p>
<h2 data-id="heading-0">ä½¿ç”¨æ•°æ®ä¸€è§ˆ</h2>
<p>ç»Ÿè®¡å·¥å…·ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwinfunc%2Fopcode" target="_blank" title="https://github.com/winfunc/opcode" ref="nofollow noopener noreferrer">opcode</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2ea06233f634e8fa091a96c989fec6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=%2Fg7bLkU28XqfLnI%2FkNVnuD4yfgI%3D" alt="20251205-è¿‘ 30 å¤©ç”¨é‡æ˜¾ç¤º 01" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c78bf77a79fc4acca8668dba96e395cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=SHsj3YVEkbbVvtxGEYtM2yMFHxs%3D" alt="" loading="lazy"/></p>
<p>æ•°æ®å¯ä»¥çœ‹å‡ºï¼Œ<strong>è¿‘ 30 å¤©æˆ‘æ¶ˆè€—äº† 743<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>çš„</mtext><mi>T</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mo>âˆ—</mo><mo>âˆ—</mo><mtext>ï¼Œä½¿ç”¨é‡é›†ä¸­åœ¨å•ä¸ªé¡¹ç›®ä¸Šã€‚èƒŒåçš„åŸå› æ˜¯ï¼šå…¬å¸æŠ¥é”€äº†å‡ ä¸ªæœˆçš„</mtext><mn>100</mn></mrow><annotation encoding="application/x-tex"> çš„ Token**ï¼Œä½¿ç”¨é‡é›†ä¸­åœ¨å•ä¸ªé¡¹ç›®ä¸Šã€‚èƒŒåçš„åŸå› æ˜¯ï¼šå…¬å¸æŠ¥é”€äº†å‡ ä¸ªæœˆçš„ 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord cjk_fallback">çš„</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">âˆ—</span><span class="mord cjk_fallback">ï¼Œä½¿ç”¨é‡é›†ä¸­åœ¨å•ä¸ªé¡¹ç›®ä¸Šã€‚èƒŒåçš„åŸå› æ˜¯ï¼šå…¬å¸æŠ¥é”€äº†å‡ ä¸ªæœˆçš„</span><span class="mord">100</span></span></span></span></span> çš„ Claude Code Maxï¼Œè®©æˆ‘ä»¬å‡ ä½å‰ç«¯å’Œåç«¯å·¥ç¨‹å¸ˆä¸€èµ·å°è¯•</strong>ä»é›¶åˆ°ä¸€æ„å»ºä¸€ä¸ª"ç›¸å¯¹å¤æ‚"çš„ Swift åŸç”ŸéŸ³è§†é¢‘ APP**ã€‚ç°åœ¨ APP å·²ç»æ¥è¿‘ä¸Šæ¶é˜¶æ®µã€‚</p>
<h2 data-id="heading-1">ä½¿ç”¨ä½“éªŒ</h2>
<p>èµ·åˆæˆ‘éå¸¸æ‹…å¿ƒè´¦å·ä¼šè¢«å°ç¦ï¼Œå› ä¸ºç¤¾äº¤åª’ä½“ä¸Šå„ç§å°å·æ¶ˆæ¯å±‚å‡ºä¸ç©·ã€‚ä½†è¿™ 4 ä¸ªæœˆä¸‹æ¥ï¼Œæˆ‘çš„è´¦å·ä¸€ç›´å®‰ç„¶æ— æ™ã€‚é€€ä¸€æ­¥è¯´ï¼Œå³ä½¿çœŸçš„è¢«å°ï¼ŒAnthropic ä¹Ÿä¼šé€€æ¬¾ï¼Œé‡æ–°æ³¨å†Œä¸€ä¸ªè´¦å·å³å¯ç»§ç»­ä½¿ç”¨ã€‚</p>
<p>è€Œè¦æˆ‘è¯´æˆ‘çš„ä½¿ç”¨ä½“éªŒçš„è¯ï¼Œé‚£å°±æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ¯æœˆ 100 ç¾å…ƒçš„ Claude Code Max å¸¦æ¥çš„è¾…åŠ©ä»·å€¼ï¼Œè¿œè¶…è¿™ä¸ªä»·æ ¼æœ¬èº«ã€‚</strong>
å³ä½¿å…¬å¸åç»­ä¸å†æŠ¥é”€ï¼Œæˆ‘ä¹Ÿä¼šè‡ªè´¹ç»§ç»­è®¢é˜…ã€‚</p>
</blockquote>
<p>æœ€è¿‘ 30 å¤©æˆ‘çƒ§æ‰çš„ 743$ çš„ Tokenï¼Œéƒ½æ˜¯æœ‰è®¡åˆ’ã€æœ‰ç›®çš„çš„ä½¿ç”¨ã€‚ç»™å‡ºçš„ç»“æœéƒ½å¾ˆä»¤äººæ»¡æ„ã€‚</p>
<p>åœ¨ä½¿ç”¨ Claude Code CLI çš„åŒæ—¶ï¼Œæˆ‘ä¹Ÿä¸€ç›´è®¢é˜…ç€ Cursorï¼ˆå…¬å¸ä»¥å‰æŠ¥é”€çš„å¹´è´¹ï¼‰å’Œè®¢é˜…äº† 3 ä¸ªæœˆçš„ Codexã€‚ä¸­é—´æœ‰ä¸€æ®µæ—¶é—´ï¼Œä½“æ„Ÿ Claude Code ç¡®å®ç»å†äº†â€œé™æ™ºæœŸâ€ï¼Œå¹¶ä¸”åœ¨ä»–ä»¬ä¿®å¤äº† bug ä¹‹åï¼Œä½“éªŒå°±å¥½èµ·æ¥äº†ï¼Œä½†è‡ªä» <strong>Claude Opus 4.5</strong> å‘å¸ƒåï¼Œå®ƒå°±å¾ˆå°‘è®©æˆ‘å¤±æœ›äº†ï¼ˆå½“ç„¶ï¼Œå¯¹äºé‚£äº›æ˜çŸ¥å®ƒåšä¸æ¥çš„ä»»åŠ¡ï¼Œæˆ‘ä¹Ÿä¸ä¼šå¼ºæ±‚ï¼‰ã€‚</p>
<p>Codex æˆ‘ä½“éªŒçš„æ—¶é—´åˆ™ä¸å¤ªå¤šï¼Œä½“æ„Ÿä¸Šçš„è¯ Codex CLI çš„ä½“éªŒè¿˜æ˜¯æŒºå¥½çš„ï¼Œå°±æ˜¯å¤ªæ…¢äº†ï¼Œå¹¶ä¸” 20$ ç‰¹åˆ«å®¹æ˜“é™é¢ï¼Œè™½è¯´æ…¢å·¥å‡ºç»†æ´»ï¼Œå¯æ˜¯å¤§éƒ¨åˆ†å·¥ä½œè¿˜æ˜¯ç”¨ CC åšã€‚</p>
<p>Claude ä»¥å‰ä¹Ÿæ˜¯ï¼Œä½†å‡ºäº† sonnet å’Œ opus 4.5 ä¹‹ååšåˆ°äº†æœ‰é€Ÿåº¦çš„åŒæ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸ç”¨æ”¹ï¼Œå°éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘åªéœ€è¦å°æ”¹ä¸€ä¸‹å°±å¯ä»¥ç”¨ï¼Œé‚£å°±æ›´æ²¡æœ‰æƒ³ç”¨ codex çš„ç†ç”±äº†ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCursor æœ€å¤§çš„ä½œç”¨è¿˜æ˜¯ä»–çš„ Tab è¡¥å…¨ï¼Œä»–çš„ Agent æˆ‘å·²ç»å¾ˆå°‘ç”¨äº†ã€‚</p>
<h2 data-id="heading-2">æˆ‘çš„å·¥ä½œæµ</h2>
<h3 data-id="heading-3">Skills</h3>
<p>Skills æ˜¯ Claude å¯åŠ¨æ€åŠ è½½çš„æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºé›†åˆï¼Œç”¨äºæå‡ç‰¹å®šä»»åŠ¡è¡¨ç°ã€‚å®ƒå¸®åŠ© Claude é‡å¤æ‰§è¡Œæ ‡å‡†åŒ–ä»»åŠ¡ï¼Œå¦‚æ–‡æ¡£åˆ¶ä½œã€æ•°æ®åˆ†ææˆ–ä»»åŠ¡è‡ªåŠ¨åŒ–ã€‚</p>
<p>å®˜æ–¹æ–‡ç« ï¼šã€Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.claude.com%2Fen%2Farticles%2F12512176-what-are-skills" target="_blank" title="https://support.claude.com/en/articles/12512176-what-are-skills" ref="nofollow noopener noreferrer">ä»€ä¹ˆæ˜¯æŠ€èƒ½</a>ã€ã€ã€Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.claude.com%2Fen%2Farticles%2F12512180-using-skills-in-claude" target="_blank" title="https://support.claude.com/en/articles/12512180-using-skills-in-claude" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨ Claude ä¸­ä½¿ç”¨</a>ã€åŠã€Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.claude.com%2Fen%2Farticles%2F12512198-how-to-create-custom-skills" target="_blank" title="https://support.claude.com/en/articles/12512198-how-to-create-custom-skills" ref="nofollow noopener noreferrer">å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰æŠ€èƒ½</a>ã€
æ›´å…¨é¢çš„ä¸€ç¯‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fen%2Fskills%23create-a-skill" target="_blank" title="https://code.claude.com/docs/en/skills#create-a-skill" ref="nofollow noopener noreferrer">Agent Skills - Claude Code Docs</a></p>
<p>å¯ä»¥é€šè¿‡åœ¨ Claude Code ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°† GitHub å­˜å‚¨åº“æ³¨å†Œä¸º Claude Code æ’ä»¶å¸‚åœºï¼š</p>
<pre><code class="hljs language-plain" lang="plain"># æŠŠ https://github.com/anthropics/skills æ³¨å†Œä¸ºæ’ä»¶å¸‚åœº
/plugin marketplace add anthropics/skills
# å®‰è£… document-skills
/plugin install document-skills@anthropic-agent-skills
</code></pre>
<p>å®‰è£…æ’ä»¶åï¼Œæ‚¨åªéœ€æåŠè¯¥æŠ€èƒ½å³å¯ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå®‰è£…äº†Â <code>document-skills</code>Â æ’ä»¶ï¼Œå¯ä»¥è®© Claude Code æ‰§è¡Œç±»ä¼¼è¿™æ ·çš„æ“ä½œï¼šâ€œä½¿ç”¨ PDF æŠ€èƒ½ä»Â <code>path/to/some-file.pdf</code>Â ä¸­æå–è¡¨å•å­—æ®µâ€ã€‚</p>
<h4 data-id="heading-4">åˆ›å»ºè‡ªå®šä¹‰æŠ€èƒ½</h4>
<p>åªéœ€åŒ…å«ä¸€ä¸ª <code>SKILL.md</code> æ–‡ä»¶ï¼Œå« YAML æ ¼å¼çš„å‰ç½®ä¿¡æ¯ä¸ä»»åŠ¡æŒ‡ä»¤ã€‚å‰ç½®ä¿¡æ¯éœ€åŒ…å«ä¸¤ä¸ªå­—æ®µï¼š<code>name</code>ï¼ˆå”¯ä¸€æ ‡è¯†ç¬¦ï¼‰å’Œ <code>description</code>ï¼ˆåŠŸèƒ½ä¸ä½¿ç”¨è¯´æ˜ï¼‰ã€‚å®˜æ–¹æœ‰æ¨¡æ¿ç¤ºä¾‹ <code>template-skill</code>ï¼Œå¸®åŠ©å¿«é€Ÿç”Ÿæˆè‡ªå®šä¹‰æŠ€èƒ½ç»“æ„ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªè¿›è¡Œæ–° skill çš„åˆ›å»ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fclaude-code%2Ftree%2Fmain%2Fplugins%2Fplugin-dev" target="_blank" title="https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev" ref="nofollow noopener noreferrer">claude-code/plugins/plugin-dev</a></p>
<pre><code class="hljs language-plain" lang="plain">/plugin marketplace add anthropics/claude-code
/plugin install plugin-dev@claude-code-plugins
</code></pre>
<p>è§¦å‘è¯ "create a skill", "add a skill to plugin", "write a new skill", "improve skill description", "organize skill content"</p>
<p>è¿™ä¸ª plugin-dev æŠ€èƒ½å¯ä»¥ç”¨æ¥åˆ›å»º ClaudeCode çš„å„ç§ä¸œè¥¿ï¼Œä¸é™äºé…ç½® Hookã€MCPã€æ’ä»¶ç»“æ„ã€é…ç½®ã€å‘½ä»¤ã€æ™ºèƒ½ä½“ (Agent) åˆ°æŠ€èƒ½ (Skill)</p>
<h4 data-id="heading-5">ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h4>
<p>å®˜æ–¹æä¾›çš„å‡ ä¸ª Skills ç¤ºä¾‹åœ¨è¿™é‡Œï¼Œå¯ä»¥æŒ‰éœ€é€‰æ‹©ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Fblob%2Fmain%2Fskills%2Falgorithmic-art%2FSKILL.md" target="_blank" title="https://github.com/anthropics/skills/blob/main/skills/algorithmic-art/SKILL.md" ref="nofollow noopener noreferrer">algorithmic-art</a>ï¼šåˆ©ç”¨ p5.js åˆ¶ä½œç®—æ³•è‰ºæœ¯ (generative art)</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Fblob%2Fmain%2Fskills%2Fbrand-guidelines%2FSKILL.md" target="_blank" title="https://github.com/anthropics/skills/blob/main/skills/brand-guidelines/SKILL.md" ref="nofollow noopener noreferrer">brand-guidelines</a>ï¼šå°† Anthropic çš„å®˜æ–¹å“ç‰Œé¢œè‰²å’Œå­—ä½“åº”ç”¨äºä»»ä½•éœ€è¦ Anthropic é£æ ¼å’Œæ„Ÿè§‰çš„ç‰©å“ã€‚å½“éœ€è¦ä½¿ç”¨å“ç‰Œé¢œè‰²æˆ–é£æ ¼æŒ‡å—ã€è§†è§‰æ ¼å¼æˆ–å…¬å¸è®¾è®¡æ ‡å‡†æ—¶ï¼Œè¯·ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Fblob%2Fmain%2Fskills%2Fcanvas-design%2FSKILL.md" target="_blank" title="https://github.com/anthropics/skills/blob/main/skills/canvas-design/SKILL.md" ref="nofollow noopener noreferrer">canvas-design</a>ï¼šè¿ç”¨è®¾è®¡ç†å¿µï¼Œåˆ›ä½œç²¾ç¾çš„ .png å’Œ .pdf æ ¼å¼è§†è§‰ä½œå“ã€‚å½“ç”¨æˆ·è¦æ±‚åˆ›ä½œæµ·æŠ¥ã€è‰ºæœ¯ä½œå“ã€è®¾è®¡æˆ–å…¶ä»–é™æ€ä½œå“æ—¶ï¼Œåº”è¯¥è¿ç”¨è¿™é¡¹æŠ€èƒ½ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Fblob%2Fmain%2Fskills%2Fdoc-coauthoring%2FSKILL.md" target="_blank" title="https://github.com/anthropics/skills/blob/main/skills/doc-coauthoring/SKILL.md" ref="nofollow noopener noreferrer">doc-coauthoring</a>ï¼šå¼•å¯¼ç”¨æˆ·å®Œæˆç»“æ„åŒ–çš„æ–‡æ¡£åä½œå·¥ä½œæµç¨‹ã€‚é€‚ç”¨äºç”¨æˆ·éœ€è¦ç¼–å†™æ–‡æ¡£ã€ææ¡ˆã€æŠ€æœ¯è§„èŒƒã€å†³ç­–æ–‡æ¡£æˆ–ç±»ä¼¼ç»“æ„åŒ–å†…å®¹çš„æƒ…å†µã€‚ç›®æ ‡æ˜¯ç¼–å†™ä¸€ä»½çœŸæ­£å¯¹è¯»è€…æœ‰ç”¨çš„æ–‡æ¡£ã€‚</li>
<li>â€¦â€¦</li>
</ul>
<p>æˆ‘ç”¨åˆ°çš„ Skill ä¸»è¦æ˜¯ä»–çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Fblob%2Fmain%2Fskills%2Ffrontend-design%2FSKILL.md" target="_blank" title="https://github.com/anthropics/skills/blob/main/skills/frontend-design/SKILL.md" ref="nofollow noopener noreferrer">å‰ç«¯è®¾è®¡æŠ€èƒ½</a>ï¼Œç°åœ¨å¯ä»¥ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.claude.com%2Fblog%2Fimproving-frontend-design-through-skills" target="_blank" title="https://www.claude.com/blog/improving-frontend-design-through-skills" ref="nofollow noopener noreferrer">Claude Code çš„ Skill å¼¥è¡¥ä»–çš„å‰ç«¯è®¾è®¡æŠ€èƒ½</a>ï¼Œåœ¨ Claude Code é‡Œç”¨è¿™ä¸¤æ¡å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin marketplace add anthropics/claude-code
<span class="hljs-comment"># å®‰è£… frontend-design æŠ€èƒ½</span>
/plugin install frontend-design@claude-code-plugins
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Ftrq212%2Fstatus%2F1993786550656897491" target="_blank" title="https://x.com/trq212/status/1993786550656897491" ref="nofollow noopener noreferrer">x.com/trq212/statâ€¦</a></p>
<p>å…¶ä»– Claude Code å®˜æ–¹ä½¿ç”¨çš„ Skills å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fclaude-code%2Ftree%2Fmain%2Fplugins" target="_blank" title="https://github.com/anthropics/claude-code/tree/main/plugins" ref="nofollow noopener noreferrer">claude-code/plugins</a> ä¸­æ‰¾åˆ°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c341101fddbc4eeeaa71f120fca67861~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=BuWDbHTF2nE7TmnkvhM0%2FkTd0ws%3D" alt="" loading="lazy"/></p>
<p>æ›´ç»†è‡´çš„ï¼Œå°±å…ˆä¸æ·±å…¥è®²äº†ã€‚</p>
<h3 data-id="heading-6">å­¦ä¹ é¡¹ç›®</h3>
<ol>
<li>ä½¿ç”¨ Claude Code çš„ Plan Modeï¼Œä»¥åšå®¢é¡¹ç›®ä¸ºä¾‹å­ï¼Œçœ‹ä¸€ä¸‹ Plan Mode çš„æµç¨‹</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">&gt; æˆ‘éœ€è¦å¯¹è¿™ä¸ªé¡¹ç›®è¿›è¡Œå­¦ä¹ ï¼Œå­¦ä¹ å…¶æ•´ä½“ç»“æ„ä¸æ ¸å¿ƒå®ç°ï¼Œè¾“å‡ºä¸€ç³»åˆ— md æ–‡æ¡£åœ¨ docs æ–‡ä»¶å¤¹ä¸‹ä¾›æˆ‘å‚è€ƒã€‚
</code></pre>
<p>Plan Mode ä¼šè¯¢é—®ä½ ä¸€äº›é—®é¢˜ï¼Œæäº¤åå†ç»§ç»­è¿›è¡Œè§„åˆ’ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41215243a3324ce1afe8a603cef52726~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=pQwrN0Kv6MnD4%2FXkjz1uVMbkRj4%3D" alt="" loading="lazy"/></p>
<p>ç¡®è®¤åï¼Œä»–ä¼šæ¥ç€è¿›è¡Œè¿½é—®è¡¥å……ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/133759836cc2455e83f63d2f0164daa8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=EFVJNINOPiD6yvG28mTrRkldGvc%3D" alt="" loading="lazy"/></p>
<p>æœ€åä¼šé—®ä½ æ˜¯è‡ªåŠ¨æ¥å—æ›´æ”¹è¿˜æ˜¯æ‰‹åŠ¨å…è®¸ editï¼Œæœ‰ git è¿›è¡Œç®¡ç†é‚£å½“ç„¶æ˜¯è‡ªåŠ¨æ¥å—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/793f1f99364a48408455e330bd0f0093~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=k38Sn6JLMrM4bilF4CEVOl85JI0%3D" alt="" loading="lazy"/></p>
<p>Claude Code ç‰¹åˆ«å–œæ¬¢ç”»è¿™ç§ ASCII å›¾ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ <code>CLAUDE.md</code> ä¸­ç‰¹åˆ«è¦æ±‚ä»–ä¸ç”»è¿™äº›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1b572055c364e68a38307f39eb6508b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=piW7Uu7t3VJs%2Fkjqwpc4EL2yTrs%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆç”Ÿæˆçš„ç¤ºä¾‹æ–‡æ¡£ï¼Œå¯ä»¥åœ¨è¿™é‡Œè¿›è¡ŒæŸ¥çœ‹ã€‚æ³¨æ„åªæ˜¯ç”¨æ¥åšä¸ªç¤ºä¾‹ï¼Œé¡¹ç›®æœ¬èº«æ˜¯ä¸æ–­å˜åŒ–çš„ï¼Œè¿™ä¸ªæ–‡æ¡£åªæ˜¯é€‚åˆåˆä¸Šæ‰‹æ¥è¿›è¡Œå­¦ä¹ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4151bd6a122349fb89ba22c089bd85ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=asDE0KMBIIlc54ICXQS0rqxznfo%3D" alt="" loading="lazy"/></p>
<p>ç”Ÿæˆçš„æ–‡æ¡£è´¨é‡å˜›ï¼Œè™½ç„¶æœ‰äº›åœ°æ–¹è¿˜æ˜¯ä¼šæœ‰é”™æ¼ï¼Œå¹¶ä¸”ç»å¸¸ä½¿ç”¨å„ç§ ASCII å›¾ï¼Œä½œä¸ºæ–°é¡¹ç›®äº†è§£å­¦ä¹ æ¥è¯´æˆ‘è§‰å¾—æ˜¯å¤Ÿçš„ã€‚ï¼ˆå½“ç„¶ï¼Œä¸è¦å‚»å‚»å‘¼å‘¼çš„è®¤ä¸ºå…¨éƒ½æ˜¯å¯¹çš„ï¼Œå®é™…çœ‹åˆ°å“ªé‡Œè¿˜éœ€è¦ä»¥ä»£ç ä¸ºå‡†ï¼‰</p>
<h3 data-id="heading-7">æ–°åŠŸèƒ½ä» 0 åˆ° 1</h3>
<ol>
<li>ä½¿ç”¨ Claude Code çš„ Plan Modeï¼Œè®©æ¨¡å‹åªè¾“å‡ºâ€œå˜æ›´è®¡åˆ’ï¼ˆå“ªäº›æ–‡ä»¶ã€æ”¹åŠ¨ç‚¹ã€é¢„æœŸ diffï¼‰â€ï¼Œå…ˆä¸å†™ä»£ç ã€‚</li>
<li>ClaudeCode çš„ Plan Mode ä¼šç”Ÿæˆè®¡åˆ’ï¼Œå¹¶è¯¢é—®ä¸€äº›ä½ å¯èƒ½æ²¡è®²æ¸…æ¥šçš„åœ°æ–¹</li>
<li>è¡¥å……å¹¶ Review è®¡åˆ’å®Œæ¯•åè®©ä»–æŒ‰è®¡åˆ’ç”Ÿæˆä»£ç ï¼Œè½åˆ°æœ¬åœ°è·‘ç¼–è¯‘ä¸æœ€å°æ ·ä¾‹ã€‚</li>
<li>å†æ¬¡è¦æ±‚æ¨¡å‹è‡ªæ£€ï¼šåˆ—å‡ºæ½œåœ¨å¤±è´¥åœºæ™¯ã€è¾¹ç•Œæ¡ä»¶å’Œå»ºè®®æµ‹è¯•ç”¨ä¾‹ã€‚</li>
<li>åšå°æ”¹åŠ¨å’Œå¯¹æ¥æ‰“ç£¨ï¼Œç„¶å Commit</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ Claude Sonnet 4.5</span>
&gt; @docs/overview/10-markdown-system.md å¼€å§‹è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘æœ‰ä»¥ä¸‹éœ€æ±‚ï¼š[Image <span class="hljs-comment">#1]</span>
  1. è¡Œå†…ä»£ç  `` è¯­æ³• çš„ä¼˜åŒ–
  2. ä»£ç å— ``` çš„ä¼˜åŒ–ï¼Œå¸Œæœ›åŠ ä¸Šå¤åˆ¶æŒ‰é’®ï¼Œæ¨¡ä»¿ mac çª—å£æ ·å¼ï¼Œå·¦ä¾§ä¸‰ä¸ªåœ†ç‚¹+ä»£ç è¯­è¨€æ˜¾ç¤ºï¼Œå³ä¾§æ˜¯å…¨å±é¢„è§ˆã€å¤åˆ¶æŒ‰é’®
  3. æ ‡é¢˜çš„æ ·å¼ä¼˜åŒ–ï¼Œæ ‡é¢˜åçš„ <span class="hljs-comment"># ä¸æ ‡é¢˜å±…ä¸­å¯¹é½ï¼Œæ ‡é¢˜å‰åŠ ä¸€ä¸ªå¼±åŒ–çš„å° H3 H4 æ ‡ç­¾æ ‡æ˜æ˜¯å‡ çº§æ ‡é¢˜</span>
  4. åˆ—è¡¨æ ·å¼ä¼˜åŒ–ï¼ˆæ— åºå’Œæœ‰åºï¼‰
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cee08ab51fe401abf89aca46d7f0f45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=S2K6goTFaijlU4p8TYbqfe%2B4tPI%3D" alt="" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02938ab2f77644829e6c02b124038934~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=9MsWrs8pIlZTnAMfQJNf80RzmBo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">Bugfix</h3>
<p>è¿™äº›æˆ‘å°±æ‡’å¾—æ”¾ç¤ºä¾‹äº†ï¼Œä¹Ÿæ˜¯åŸºæœ¬ä¸Šä¸€å¥è¯å°±å¯ä»¥ï¼Œæœ‰çš„éœ€è¦æ›´å¤šçš„äººåŠ›ä»‹å…¥ã€‚</p>
<ol>
<li>å–‚ç»™ä»–æŠ¥é”™æ—¥å¿—/æœ€å°å¤ç°å·¥ç¨‹ã€‚</li>
<li>è®©æ¨¡å‹åˆ—å‡ºâ€œå®šä½å‡è¯´æ¸…å•ã€éªŒè¯æ­¥éª¤ã€æœ€å°æ”¹åŠ¨æ–¹æ¡ˆâ€ã€‚</li>
<li>å®ç°ã€è‡ªæ£€</li>
</ol>
<h3 data-id="heading-9">é‡æ„/è¿ç§»</h3>
<ol>
<li>åŒæ · Plan Mode æè¿°é‡æ„éœ€æ±‚ï¼Œè®©å…¶ç”Ÿæˆæ–‡æ¡£è®¡åˆ’ç­‰</li>
<li>è®©æ¨¡å‹å…ˆå†™ codemodï¼Œåªåœ¨å°éƒ¨åˆ†ä¸Šè¯•è·‘ã€‚</li>
<li>è§‚å¯Ÿ diffï¼Œå®šä¹‰åˆ‡åˆ†ç‚¹å’Œéšæ—¶å¯å›æ»šçš„è¾¹ç•Œã€‚</li>
<li>åˆ†æ‰¹æ¨è¿›ï¼Œå¹¶è¿›è¡Œå›å½’æµ‹è¯•ã€‚</li>
</ol>
<h3 data-id="heading-10">æ¨¡å‹ä¸å·¥å…·çš„é€‰å‹ä¸åˆ‡æ¢</h3>
<p>å¥½ç”¨çš„æ¨¡å‹æœ‰å¾ˆå¤šï¼Œæˆæœ¬å’Œä½¿ç”¨åœºæ™¯ä¹Ÿéœ€è¦è€ƒè™‘ï¼Œä»¥ä¸‹æ˜¯æˆ‘é€‰æ¨¡å‹çš„åŸºå‡†ï¼š</p>
<ul>
<li>é‡è¦çš„æ¶æ„è®¾è®¡/å¤§é‡æ„ï¼šç”¨å¼ºæ¨¡å‹ï¼ˆè´¨é‡ä¼˜å…ˆï¼‰ã€‚</li>
<li>æ‰¹é‡ç”Ÿæˆæµ‹è¯•/æ ·ä¾‹ï¼šç”¨ä¾¿å®œæ¨¡å‹ï¼ˆæˆæœ¬ä¼˜å…ˆï¼‰ã€‚</li>
<li>è¯» log / å†™å°è„šæœ¬/æ‘˜è¦ï¼šç”¨æ›´å¿«æ¨¡å‹ï¼ˆé€Ÿåº¦ä¼˜å…ˆï¼‰ã€‚</li>
<li>å°æ¨¡å‹å¯ä»¥ç”¨ Plan Mode å…ˆç”Ÿäº§ â€œå˜æ›´è®¡åˆ’ + éªŒæ”¶ç”¨ä¾‹â€ çš„ PRDï¼Œspec é©±åŠ¨å¼€å‘ï¼Œè€Œå¤§æ¨¡å‹è´Ÿè´£å®ç°ã€‚</li>
</ul>
<h3 data-id="heading-11">Happy</h3>
<p>æœ€è¿‘åœ¨å°è¯• <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fslopus%2Fhappy" target="_blank" title="https://github.com/slopus/happy" ref="nofollow noopener noreferrer">happy</a>ï¼Œç›¸å½“å¥½ç”¨ï¼Œå¯ä»¥æ‰‹æœºæˆ–å¹³æ¿éšæ—¶éšåœ°è®¿é—®å®¶é‡Œæˆ–è€…æœåŠ¡å™¨ä¸Šçš„ Claude Code å†™ä»£ç ã€‚</p>
<p>æ˜¯å› ä¸ºçœ‹åˆ°äº†è¿™æ¡ Tweet æ‰å†³å®šä½¿ç”¨ä¸€ä¸‹ä½“éªŒçš„ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Ftwsxtd%2Fstatus%2F1995826728972026168" target="_blank" title="https://x.com/twsxtd/status/1995826728972026168" ref="nofollow noopener noreferrer">x.com/twsxtd/statâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhappy.engineering%2Fdocs%2Fuse-cases%2Fhemingway-technique%2F" target="_blank" title="https://happy.engineering/docs/use-cases/hemingway-technique/" ref="nofollow noopener noreferrer">happy.engineering/docs/use-caâ€¦</a></p>
<blockquote>
<p>æ¬§å†…æ–¯ç‰¹Â·æµ·æ˜å¨åœ¨å†™ä½œæ—¶ä½¿ç”¨äº†ä¸€ä¸ªèªæ˜çš„æŠ€å·§ã€‚ä»–ä¼šè¯´åˆ°ä¸€åŠå°±åœä¸‹æ¥ï¼Œæˆ–è€…åœ¨ä»–çŸ¥é“æ¥ä¸‹æ¥è¦è¯´ä»€ä¹ˆçš„æ—¶å€™åœä¸‹æ¥ã€‚è¿™æ ·ç¬¬äºŒå¤©å†å¼€å§‹å†™å°±å®¹æ˜“å¤šäº†ã€‚ä»–ä¸éœ€è¦è€ƒè™‘ä»å“ªé‡Œå¼€å§‹ã€‚è¿™ä¸ªæƒ³æ³•å¾ˆç®€å•ï¼šé€šè¿‡å‡†å¤‡å¥½æ¸…æ™°çš„ä¸‹ä¸€æ­¥æ¥ä¿æŒä½ çš„åŠ¨åŠ›ã€‚</p>
<p>ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œæˆ‘å¬è¯´è¿‡æŠŠæœªå®Œæˆçš„å·¥ä½œç•™åˆ°ç¬¬äºŒå¤©æ—©ä¸Šå†ç»§ç»­ã€‚ä½†è¿™ç§æé«˜æ•ˆç‡çš„æŠ€å·§å¯¹æˆ‘æ¥è¯´ä»æ¥æ²¡ç”¨ã€‚å®‰æ’ä¸€é¡¹æœ‰æ„ä¹‰çš„ä»»åŠ¡éœ€è¦ 10 åˆ° 20 åˆ†é’Ÿï¼Œè¿™å¯¹äºå³å…´å‘æŒ¥æ¥è¯´å¤ªé•¿äº†ã€‚å°¤å…¶æ˜¯åœ¨æˆ‘å·²ç»åŠ ç­åˆ°å¾ˆæ™šçš„æ—¶å€™ï¼Œæˆ‘æœ€ä¸æƒ³åšçš„å°±æ˜¯å†èŠ± 20 åˆ†é’Ÿä¸ºæ˜å¤©çš„å·¥ä½œåšå‡†å¤‡ã€‚</p>
<p>ç°åœ¨æœ‰äº† Claude Code å’Œ MCP å·¥å…·ï¼ˆé€‚ç”¨äº JIRA æˆ– Linearï¼‰ï¼Œä¸€åˆ‡éƒ½æ”¹å˜äº†ã€‚æˆ‘å¯ä»¥èººåœ¨åºŠä¸Šè¿è¡Œè‡ªå®šä¹‰çš„ç¡å‰ä»»åŠ¡ï¼Œè€Œä¸æ˜¯åˆ· Reddit æˆ– Instagramã€‚æˆ‘å·²ç»è®¾ç½®äº†Â <code>~/.claude/agents/bedtime.md</code>Â æ–‡ä»¶ï¼Œç”¨æ¥æŸ¥æ‰¾ç®€å•çš„ä»»åŠ¡ã€‚è¿™äº›ä»»åŠ¡æˆ‘ä»Šæ™šå¯ä»¥å¼€å§‹ï¼Œæ˜å¤©å°±èƒ½å®Œæˆã€‚</p>
<p>æˆ‘æè¿°ä¸€ä¸‹æˆ‘æƒ³è¦çš„åŠŸèƒ½æˆ–è€…æˆ‘æ­£åœ¨æ€è€ƒçš„é—®é¢˜ã€‚ç„¶åæˆ‘å’Œå…‹åŠ³å¾·ä¸€èµ·èŠ±å¤§çº¦ 5 åˆ†é’Ÿæ—¶é—´è¿›è¡Œè§„åˆ’ã€‚æˆ‘ä»¬åˆ¶å®šäº†ä¸€ä¸ªæˆ‘æ»¡æ„çš„å®æ–½æ–¹æ¡ˆã€‚æ–¹æ¡ˆç»æˆ‘æ‰¹å‡†åï¼Œå…‹åŠ³å¾·å°±å¼€å§‹ç€æ‰‹å®æ–½ã€‚æˆ‘æŠŠæ‰‹æœºæ’ä¸Šå……ç”µå™¨ï¼Œç„¶åç¡è§‰ã€‚</p>
<p>æˆ‘é†’æ¥æ—¶ï¼ŒHappy å‘æ¥ä¸€æ¡é€šçŸ¥ï¼šâ€œ4 ä¸ªæ–‡ä»¶å¾…å®¡æ ¸ï¼Œæ–°å¢ 237 è¡Œä»£ç â€ã€‚è¿™ä»¶å°äº‹è®©æˆ‘ä¸€å¤©æœ‰ä¸ªç¾å¥½çš„å¼€å§‹ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeafc72abfc546f5a81324cb6b0d3f9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=CnCOA%2FD9TM9TdvE%2BgHeIzfPJvm4%3D" alt="" loading="lazy"/></p>
<p>æ³¨é‡éšç§çš„è¯ï¼Œå¯ä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1951677637014561414" target="_blank" title="https://zhuanlan.zhihu.com/p/1951677637014561414" ref="nofollow noopener noreferrer">è‡ªéƒ¨ç½² happy server è¿œç¨‹æ“æ§ claude code ä»¥åŠ codex</a>ï¼Œå®˜æ–¹ä¹Ÿéƒ½æä¾›<a href="https://link.juejin.cn?target=https%3A%2F%2Fhappy.engineering%2Fdocs%2Fguides%2Fself-hosting%2F" target="_blank" title="https://happy.engineering/docs/guides/self-hosting/" ref="nofollow noopener noreferrer">æ•™ç¨‹</a>ï¼Œå¯ä»¥è¯´æ˜¯å¾ˆè´´å¿ƒäº†ã€‚</p>
<h2 data-id="heading-12">FAQ</h2>
<p>Qï¼šæˆ‘è¯¥å¦‚ä½•çŸ¥é“å“ªä¸ªæ¨¡å‹ç¼–ç¨‹æ€§èƒ½æœ€å¥½ï¼Ÿ
Aï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flmarena.ai%2Fleaderboard%2Fwebdev" target="_blank" title="https://lmarena.ai/leaderboard/webdev" ref="nofollow noopener noreferrer">WebDev Leaderboard | LMArena</a> å¯ä»¥ä½œä¸ºä¸€éƒ¨åˆ†å‚è€ƒï¼Œä½†æ˜¯æ›´å¤šçš„è¿˜æ˜¯è¦é è‡ªå·±å¯¹æ€§èƒ½ã€æˆæœ¬çš„è€ƒè™‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f122db2bf21b42b7854a9dc48aa0b99f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765652610&amp;x-signature=r%2FVj0b0WdmeAoFWoNPEwyQ9LNWw%3D" alt="2025-11-29 æ•°æ®" loading="lazy"/></p>
<p>Qï¼šä»€ä¹ˆæ—¶å€™ä¸è¦ç”¨ AIï¼Ÿ<br/>
Aï¼šæŠ€æœ¯å€ºåŠ¡æé‡ã€é€»è¾‘åˆ°å¤„ä¹±é£çš„å¤§å‹è€é¡¹ç›®ï¼Œæƒ³è¦ç”¨ AI ä¸€å®šä¸èƒ½ç›´æ¥â€œç»™æˆ‘å®ç° XXXâ€ï¼Œå¯ä»¥ç”¨å®ƒå…ˆæ¢³ç†ä¸€éè€é¡¹ç›®çš„å‘ï¼Œå¹¶è‡ªå·±åŠ ä»¥è¡¥å……ï¼Œå†è¿›è¡Œå®ç°ã€‚å¼ºçƒˆæ¨èçœ‹ä¸‹é¢çš„æ–‡ç« ã€‚</p>
<h2 data-id="heading-13">æ–‡ç« æ¨è</h2>
<p>å…³äº Claude Code ä»¥åŠ AI è¾…åŠ©ç¼–ç¨‹ï¼Œä»¥ä¸‹è¿™äº›æ–‡ç« æ¨èé˜…è¯»ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fy0usali%2Fstatus%2F1993276386963079478" target="_blank" title="https://x.com/y0usali/status/1993276386963079478" ref="nofollow noopener noreferrer">x.com/y0usali/staâ€¦</a></p>
<ol>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyousali.com%2Fposts%2F20251124-how-to-coding-with-ai%2F" target="_blank" title="https://yousali.com/posts/20251124-how-to-coding-with-ai/" ref="nofollow noopener noreferrer">ä»ã€Œå†™ä»£ç ã€åˆ°ã€ŒéªŒä»£ç ã€ï¼šAI æ­æ¡£å†™èµ° 3 å¹´ï¼Œæˆ‘è¸©å‡ºæ¥çš„åä½œè·¯çº¿å›¾</a>ï¼šåœ¨æ¨ä¸Šçœ‹åˆ°ä¸€ç¯‡å¥½æ–‡ç« ï¼Œå†™ç»™å·²ç»åœ¨æˆ–å‡†å¤‡åœ¨çœŸå®ç”Ÿäº§é¡¹ç›®é‡Œç”¨ AI Coding çš„åç«¯ / å…¨æ ˆå·¥ç¨‹å¸ˆå’ŒæŠ€æœ¯ç®¡ç†è€…ã€‚å®ƒä¸ä¼šæ•™ä½ ã€ŒæŒ‰é’®åœ¨å“ªé‡Œã€ã€Œå“ªä¸ª prompt æœ€ç¥ã€ï¼Œè€Œæ˜¯æƒ³åœ¨å¤§çº¦ 15 åˆ†é’Ÿé‡Œï¼Œå¸®ä½ ææ¸…æ¥šä¸‰ä»¶äº‹ï¼šå“ªäº›ä»»åŠ¡äº¤ç»™ AI æœ€ã€Œåˆ’ç®—ã€ï¼›æ€ä¹ˆè®©é¡¹ç›®æœ¬èº«å˜å¾—æ›´ã€ŒAI å‹å¥½ã€ï¼Œæé«˜ä¸€æ¬¡å‘½ä¸­ç‡ï¼›å½“ç”Ÿæˆä¸å†æ˜¯ç“¶é¢ˆæ—¶ï¼Œå·¥ç¨‹å¸ˆåº”è¯¥å¦‚ä½•è®¾è®¡éªŒè¯æµç¨‹ï¼ŒæŠŠæ—¶é—´èŠ±åœ¨çœŸæ­£å€¼é’±çš„åœ°æ–¹ã€‚</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Feliocapella.com%2Fblog%2Fai-library-migration-guide%2F" target="_blank" title="https://eliocapella.com/blog/ai-library-migration-guide/" ref="nofollow noopener noreferrer">Migrating 6000 React tests using AI Agents and ASTs</a>ï¼šå¥½æ–‡ç« ï¼Œå…³äºä½¿ç”¨ AI è¿›è¡Œé‡æ„è¿ç§»çš„æ•™ç§‘ä¹¦å¼æ–‡ç« ã€‚</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhyf.me%2Fblog%2Fclaude-code-in-rolldown" target="_blank" title="https://hyf.me/blog/claude-code-in-rolldown" ref="nofollow noopener noreferrer">æˆ‘ä½¿ç”¨ Claude Code å¼€å‘ Rolldown çš„ä½“éªŒ</a>ï¼šåœ¨ Rolldown å¼€å‘ä¸­é«˜å¼ºåº¦ä½¿ç”¨ Claude Code è¿›è¡ŒçœŸå®å¼€å‘çš„æ€è€ƒä¸ç»éªŒåˆ†äº«ã€‚</p>
<blockquote>
<p>å‡ ä¸ªæœˆå‰ï¼Œæˆ‘è‡ªè®¤ä¸ºå¯¹ AI è®¤çŸ¥æ˜¯æ¯”è¾ƒè´´åˆ‡ï¼Œèƒ½å†™ç‚¹è„šæœ¬ã€åšä¸‹ç½‘é¡µå¼€å‘ï¼Œä½†å¤„ç†ä¸äº† Rolldown è¿™ç§å¤æ‚åº¦çš„é¡¹ç›®ã€‚
è€Œç°åœ¨ï¼Œè¿‡å»ä¸¤å‘¨é‡Œï¼Œå®ƒå‡ ä¹æ›¿æˆ‘å†™äº†æ‰€æœ‰çš„ä»£ç ã€‚æ•´ä¸ªæµç¨‹æ²¡æœ‰é­”æ³•ï¼Œåªæœ‰è·Ÿç€å®˜æ–¹æ–‡æ¡£ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fclaude-code-best-practices" target="_blank" title="https://www.anthropic.com/engineering/claude-code-best-practices" ref="nofollow noopener noreferrer">Claude Code: Best practices for agentic coding</a>ã€‹çš„ç¬¨æ‹™ä½¿ç”¨ï¼Œä»…ä»…æ˜¯è¿™æ ·ï¼Œå°±å·²ç»é¢ è¦†äº†æˆ‘çš„è®¤çŸ¥ã€‚</p>
</blockquote>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.pseudoyu.com%2Fposts%2Fweekly_review_102" target="_blank" title="https://www.pseudoyu.com/posts/weekly_review_102" ref="nofollow noopener noreferrer">å‘¨æŠ¥ #102 - æˆ‘æ˜¯å¦‚ä½•ä½¿ç”¨ AI çš„</a>ï¼šä½œè€…åˆ†äº«äº†è‡ªå·±åœ¨å¼€å‘ã€æ–‡æ¡£å’Œæ—¥ç¨‹ç®¡ç†ä¸­å¦‚ä½•é«˜é¢‘ä½¿ç”¨ AI å·¥å…·çš„å®æˆ˜ç»éªŒï¼Œ</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fguangzhengli.com%2Fblog%2Fzh%2Fvibe-coding-and-context-coding" target="_blank" title="https://guangzhengli.com/blog/zh/vibe-coding-and-context-coding" ref="nofollow noopener noreferrer">è°ˆè°ˆ AI ç¼–ç¨‹å·¥å…·çš„è¿›åŒ–ä¸ Vibe Coding</a>ï¼šâ€œæ°›å›´ç¼–ç¨‹ï¼ˆVibe Codingï¼‰â€ çš„å®é™…å«ä¹‰æ˜¯è®© AI å…¨æµç¨‹å†™ä»£ç ï¼Œå¼€å‘è€…å‡ ä¹ä¸å¹²é¢„ã€‚å½“å‰è¢«æ³›åŒ–ä¸ºæ‰€æœ‰ AI è¾…åŠ©ç¼–ç¨‹å½¢å¼ï¼Œä½†ä½œè€…ä¸»å¼ åº”å°†å®ƒä¸ä¸ Context Coding åŒºåˆ†</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Foverreacted.io%2Fhow-to-fix-any-bug%2F" target="_blank" title="https://overreacted.io/how-to-fix-any-bug/" ref="nofollow noopener noreferrer">How to Fix Any Bug</a>ï¼šå°‘æœ‰çš„è®²è¿°ã€Œåœ¨ vibe coding ä¸­å¦‚ä½•è°ƒè¯•é—®é¢˜ã€çš„æ–‡ç« ï½å½“ç„¶ä¹Ÿé€‚åˆæ­£å¸¸çš„ bugfixã€‚</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.blog%2Fai-and-ml%2Fgithub-copilot%2Fhow-to-write-a-great-agents-md-lessons-from-over-2500-repositories%2F" target="_blank" title="https://github.blog/ai-and-ml/github-copilot/how-to-write-a-great-agents-md-lessons-from-over-2500-repositories/" ref="nofollow noopener noreferrer">How to write a great agents.md: Lessons from over 2,500 repositories</a>ï¼šGitHub åˆ†æäº†è¶…è¿‡ 2500 ä¸ªå…¬å¼€ä»“åº“ä¸­çš„ agents.md æ–‡ä»¶ï¼Œå½’çº³å‡ºä¼˜ç§€ <code>agents.md</code> çš„å†™æ³•ï¼ˆè¿™ä¸ªå¾ˆæœ‰ç”¨ï¼‰</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2F4ark.me%2Fposts%2F2025-11-04-openspec%2F%233-%25E5%2588%259B%25E5%25BB%25BA%25E6%258F%2590%25E6%25A1%2588" target="_blank" title="https://4ark.me/posts/2025-11-04-openspec/#3-%E5%88%9B%E5%BB%BA%E6%8F%90%E6%A1%88" ref="nofollow noopener noreferrer">OpenSpec ä½¿ç”¨å¿ƒå¾—</a>ï¼šå®‰åˆ©äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFission-AI%2FOpenSpec" target="_blank" title="https://github.com/Fission-AI/OpenSpec" ref="nofollow noopener noreferrer">OpenSpec</a> é©±åŠ¨å¼€å‘</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.humanlayer.dev%2Fblog%2Fwriting-a-good-claude-md" target="_blank" title="https://www.humanlayer.dev/blog/writing-a-good-claude-md" ref="nofollow noopener noreferrer">Writing a good CLAUDE.md</a>ï¼šä¸€ç¯‡æ•™ä½ å¦‚ä½•å†™å‡ºæ—¢æ¸…æ™°åˆé«˜æ•ˆçš„ CLAUDE.md çš„æ–‡ç« ã€‚</p>
</li>
</ol>
<p>æˆ‘è§‰å¾—è¿™ç¯‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fguangzhengli.com%2Fblog%2Fzh%2Fvibe-coding-and-context-coding" target="_blank" title="https://guangzhengli.com/blog/zh/vibe-coding-and-context-coding" ref="nofollow noopener noreferrer">è°ˆè°ˆ AI ç¼–ç¨‹å·¥å…·çš„è¿›åŒ–ä¸ Vibe Coding</a>é‡Œçš„ä¸€æ®µè¯è¯´å¾—å¾ˆå¥½ï¼š</p>
<blockquote>
<p>ä»è¿™ä¸ªé˜¶æ®µå¼€å§‹ï¼Œæ°´å¹³ä¸€èˆ¬çš„ç¨‹åºå‘˜çš„æ•°é‡ä¼šå¼€å§‹å‡å°‘ç›´åˆ°æ¶ˆäº¡ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸å…¶è¯´æ˜¯ AI æŠ¢èµ°äº†å·¥ä½œé¥­ç¢—ï¼Œä¸å¦‚è¯´æ˜¯è¢«ä¼˜ç§€çš„ç¨‹åºå‘˜æŠ¢èµ°äº†å·¥ä½œé¥­ç¢—ï¼Œå¹¶ä¸”è¿™ä¸¤è€…çš„æ”¶å…¥åœ¨è¿™ä¸ªé˜¶æ®µçš„å·®è·ä¹Ÿä¼šä¸æ–­åŠ å¤§ã€‚</p>
</blockquote>
<blockquote>
<p>æ—¶ä»£çš„å¤§æ½®æµ©æµ©è¡è¡ï¼Œæˆ‘å¹¶ä¸æƒ³æŠŠæœªæ¥æƒ³çš„è¿‡äºæ‚²è§‚ï¼Œä¹Ÿä¸æƒ³æŠŠäº‹æƒ…è®²çš„è¿‡äºæ®‹é…·ï¼Œä½†åœ¨å·¥ä¸šæœºå™¨çš„è½°é¸£ä¸‹ï¼Œæ²¡æœ‰äººä¼šçœŸçš„åœ¨æ„é‚£äº›å¤æ³•æ‰‹å·¥åˆ¶ä½œè€…çš„å£°éŸ³ã€‚åœ¨è®¡ç®—æœºå‡ºç°ä¹‹å‰ï¼Œä½ ä¹Ÿéš¾ä»¥æƒ³è±¡å”®ç¥¨å‘˜ã€ç”µè¯æ¥çº¿å‘˜æ˜¯å¤šä¹ˆåºå¤§çš„ä¸€ä¸ªç¾¤ä½“ã€‚</p>
</blockquote>
<blockquote>
<p>å½“ç„¶ï¼Œæˆ‘å¹¶ä¸æ˜¯è¯´ç¼–ç¨‹æ°´å¹³ä¸€èˆ¬çš„ç¨‹åºå‘˜å°±æ‰¾ä¸åˆ°å‡ºè·¯äº†ï¼Œå®é™…ä¸Šåœ¨ AI çš„åŠ æŒä¸‹ï¼Œä¸€ä¸ªç¼–ç¨‹æ°´å¹³ä¸€èˆ¬çš„ç¨‹åºå‘˜ï¼Œå¦‚æœæœ‰ä¸é”™çš„å•†ä¸šå—…è§‰ï¼ŒåŠ ä¸Šä¸€å®šçš„è¥é”€èƒ½åŠ›ï¼Œåˆ›é€ çš„å•†ä¸šä»·å€¼è¿œæ¯”åœ¨ç¤¾ä¼šåˆ†å·¥ä¸­å½“ä¸ªèºä¸é’‰è¦å¤§çš„å¤šã€‚</p>
</blockquote>
<blockquote>
<p>è¿‡å»å¯èƒ½éœ€è¦å¾ˆå¤šäººç›¸äº’åä½œæ‰èƒ½å®Œæˆçš„å·¥ä½œï¼Œåˆ©ç”¨ AI çš„æ æ†å¯ä»¥å¤§å¤§çš„ç¼©å‡å·¥ä½œæ—¶é—´å’Œäººå‘˜è§„æ¨¡ï¼Œæœªæ¥çš„ç‹¬ç«‹å¼€å‘å’Œå°è§„æ¨¡çš„å›¢é˜Ÿåä½œä¸€å®šä¼šå˜å¾—æ›´åŠ ä¸»æµã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Vue æ¸²æŸ“ç³»ç»Ÿçš„å››ä¸ªå…³é”®é˜¶æ®µï¼šä»æ¨¡æ¿ç¼–è¯‘åˆ°æ–°æ—§ VDOM Patch çš„å®Œæ•´æœºåˆ¶è§£æ]]></title>    <link>https://juejin.cn/post/7580310413754564658</link>    <guid>https://juejin.cn/post/7580310413754564658</guid>    <pubDate>2025-12-06T23:55:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580310413754564658" data-draft-id="7580277964342345738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Vue æ¸²æŸ“ç³»ç»Ÿçš„å››ä¸ªå…³é”®é˜¶æ®µï¼šä»æ¨¡æ¿ç¼–è¯‘åˆ°æ–°æ—§ VDOM Patch çš„å®Œæ•´æœºåˆ¶è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-06T23:55:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="excel"/> <meta itemprop="url" content="https://juejin.cn/user/2911162520062862"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Vue æ¸²æŸ“ç³»ç»Ÿçš„å››ä¸ªå…³é”®é˜¶æ®µï¼šä»æ¨¡æ¿ç¼–è¯‘åˆ°æ–°æ—§ VDOM Patch çš„å®Œæ•´æœºåˆ¶è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2911162520062862/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    excel
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T23:55:49.000Z" title="Sat Dec 06 2025 23:55:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç°ä»£ UI æ¡†æ¶çš„æ ¸å¿ƒç›®æ ‡æ˜¯åœ¨æ•°æ®å˜åŒ–æ—¶ä»¥æœ€å°ä»£ä»·æ›´æ–°è§†å›¾ã€‚Vue é€šè¿‡å°†æ•´ä¸ªæ¸²æŸ“æµç¨‹æ‹†åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œä½¿å¾— UI æ¶æ„å…·å¤‡å¯æ“ä½œæ€§ã€å¯ç»´æŠ¤æ€§ä¸é«˜æ€§èƒ½ã€‚æœ¬æ–‡å°†ç³»ç»Ÿä»‹ç» Vue ä¸­ï¼š</p>
<ul>
<li>æ¨¡æ¿å¦‚ä½•ç”Ÿæˆæ¸²æŸ“é€»è¾‘</li>
<li>ç»„ä»¶å¦‚ä½•ç»„ç»‡æ¸²æŸ“è¿‡ç¨‹</li>
<li>å“åº”å¼ç³»ç»Ÿå¦‚ä½•è§¦å‘æ›´æ–°</li>
<li>æ–°æ—§ VDOM å¦‚ä½•å¯¹æ¯”å’Œæ›´æ–° DOM</li>
</ul>
<p>ä½ å°†æ¸…æ¥šç†è§£ <strong>æ¸²æŸ“å‡½æ•°æ¥è‡ªå“ªé‡Œï¼Œæ¸²æŸ“ effect å¦‚ä½•è¢«è§¦å‘ï¼Œä»¥åŠæ–°æ—§ VDOM åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å¦‚ä½•è¢«è·å–å’Œä½¿ç”¨ã€‚</strong></p>
<hr/>
<h2 data-id="heading-0"><strong>ç¬¬ä¸€é˜¶æ®µï¼šæ¨¡æ¿ç¼–è¯‘ï¼ˆTemplate Compilationï¼‰â€”â€”ä»é™æ€æ¨¡æ¿åˆ°å¯æ‰§è¡Œæ¸²æŸ“é€»è¾‘</strong></h2>
<p>æ‰€æœ‰ Vue ç»„ä»¶éƒ½ä» template å¼€å§‹ï¼Œä½†æ¨¡æ¿æœ¬è´¨ä¸Šåªæ˜¯å­—ç¬¦ä¸²ï¼ŒVue æ— æ³•ç›´æ¥æ‰§è¡Œï¼Œå› æ­¤ç¼–è¯‘é˜¶æ®µè´Ÿè´£å°†æ¨¡æ¿è½¬åŒ–ä¸ºæœ€ç»ˆçš„æ¸²æŸ“å‡½æ•°ï¼ˆrenderï¼‰ã€‚</p>
<p>ä»¥ä¸€ä¸ªç®€å•æ¨¡æ¿ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">&lt;<span class="hljs-selector-tag">div</span>&gt;{{ count }}&lt;/<span class="hljs-selector-tag">div</span>&gt;
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šå°†å…¶è§£æä¸º ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ï¼Œå†è½¬æ¢ä¸ºå…·æœ‰ç»“æ„åŒ–æ„ä¹‰çš„æ¸²æŸ“ä»£ç ï¼Œæœ€ç»ˆç”Ÿæˆçš„æ¸²æŸ“å‡½æ•°ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">_ctx</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createElementBlock</span>(<span class="hljs-string">"div"</span>, <span class="hljs-literal">null</span>, _ctx.<span class="hljs-property">count</span>, <span class="hljs-number">1</span> <span class="hljs-comment">/* TEXT */</span>)
}
</code></pre>
<p>åœ¨è¿™ä¸€é˜¶æ®µï¼Œæœ‰ä¸‰é¡¹å…³é”®ä¼˜åŒ–èƒ½åŠ›ï¼š</p>
<h4 data-id="heading-1"><strong>1. é™æ€ä¸åŠ¨æ€èŠ‚ç‚¹åŒºåˆ†</strong></h4>
<p>é™æ€èŠ‚ç‚¹è¢«æå‡ï¼Œåªç”Ÿæˆä¸€æ¬¡ï¼›åŠ¨æ€èŠ‚ç‚¹ä¼šå¸¦æœ‰ PatchFlagï¼Œå¦‚ TEXTã€PROPS ç­‰ï¼Œç”¨äºç²¾ç¡®æ›´æ–°ã€‚</p>
<h4 data-id="heading-2"><strong>2. æ¸²æŸ“å‡½æ•°æ˜¯çº¯ JSï¼Œä¸åŒ…å« DOM æ“ä½œ</strong></h4>
<p>æ¸²æŸ“å‡½æ•°åªä¼šæ„å»º VNodeï¼ˆè™šæ‹Ÿ DOMï¼‰ï¼Œä¸ä¼šç›´æ¥è®¿é—®æµè§ˆå™¨ DOMã€‚</p>
<h4 data-id="heading-3"><strong>3. ç»“æ„åŒ–ä¿¡æ¯ä¸ºåç»­çš„ diff æä¾›ä¼˜åŠ¿</strong></h4>
<p>ç¼–è¯‘åçš„ä»£ç æ¯”è¿è¡Œæ—¶è§£é‡Šæ¨¡æ¿æ›´å¿«ï¼Œå¯ç›´æ¥å‚ä¸ diff è®¡ç®—ã€‚</p>
<blockquote>
<p><strong>ç¼–è¯‘é˜¶æ®µçš„äº§ç‰© render() æ˜¯ UI æ¸²æŸ“çš„æ ¸å¿ƒå…¥å£ï¼Œä¹Ÿæ˜¯æ‰€æœ‰ VDOM çš„å”¯ä¸€æ¥æºã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-4"><strong>ç¬¬äºŒé˜¶æ®µï¼šç»„ä»¶æ¸²æŸ“ effectï¼ˆRender Effectï¼‰â€”â€”æ¸²æŸ“å‡½æ•°çš„æ‰§è¡Œä¸ VDOM çš„ç”Ÿæˆè€…</strong></h2>
<p>æ¯ä¸ª Vue ç»„ä»¶å®ä¾‹åœ¨åˆæ¬¡æŒ‚è½½æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ª <strong>æ¸²æŸ“ effect</strong>ã€‚è¿™æ˜¯ Vue ä¸­çœŸæ­£è´Ÿè´£â€œæ¸²æŸ“ UIâ€ä¸â€œå“åº”å¼é©±åŠ¨æ›´æ–°â€çš„æ ¸å¿ƒå•å…ƒã€‚</p>
<p>Vue å†…éƒ¨ä¼šæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">instance.update</span> = effect(() =&gt; {
  const <span class="hljs-attr">subTree</span> = render(instance.ctx)
  patch(instance.vnode, subTree)
  <span class="hljs-attr">instance.vnode</span> = subTree
})
</code></pre>
<p>è¿™ä¸ªæ¸²æŸ“ effect å…·å¤‡ä»¥ä¸‹èŒè´£ï¼š</p>
<h4 data-id="heading-5"><strong>1. æ‰§è¡Œæ¸²æŸ“å‡½æ•°å¹¶ç”Ÿæˆæ–°çš„ VNodeï¼ˆæ–° VDOMï¼‰</strong></h4>
<p>æ¸²æŸ“å‡½æ•°è®¿é—® ctx ä¸­çš„å“åº”å¼æ•°æ®ï¼Œä»è€Œç”Ÿæˆä¸€å¥—å…¨æ–°çš„è™šæ‹Ÿ DOM æ ‘ã€‚</p>
<h4 data-id="heading-6"><strong>2. patch è´Ÿè´£å‘çœŸå® DOM æäº¤å˜åŒ–</strong></h4>
<p>æ¸²æŸ“ effect æœ¬èº«ä¸å¤„ç† DOMï¼Œå®ƒåªæ˜¯è´Ÿè´£è°ƒç”¨ patch è®© DOM æ›´æ–°ã€‚</p>
<h4 data-id="heading-7"><strong>3. effect ä¼šåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è®°å½•ä¾èµ–</strong></h4>
<p>è®¿é—® <code>_ctx.xxx</code> æ—¶ï¼Œå“åº”å¼ getter ä¼šæ‰§è¡Œ trackï¼Œå°†æ¸²æŸ“ effect ä¸æ•°æ®ç»‘å®šã€‚</p>
<h4 data-id="heading-8"><strong>4. æ¸²æŸ“ effect æ˜¯ç»„ä»¶çº§è€ŒéèŠ‚ç‚¹çº§</strong></h4>
<p>æ— è®ºæ¨¡æ¿å¤šå¤§ï¼Œç»„ä»¶å§‹ç»ˆåªæœ‰ä¸€ä¸ªæ¸²æŸ“ effectã€‚</p>
<blockquote>
<p><strong>æ¸²æŸ“ effect æ˜¯â€œæ–° VDOM çš„æ¥æºè€…â€ï¼Œå¹¶åŒæ—¶ä¿å­˜ä¸Šä¸€æ¬¡æ¸²æŸ“çš„æ—§ VDOMã€‚</strong></p>
</blockquote>
<p>è¿™ä¸€ç‚¹éå¸¸å…³é”®ï¼Œä¸‹ä¸€é˜¶æ®µæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åˆ©ç”¨å®ƒã€‚</p>
<hr/>
<h2 data-id="heading-9"><strong>ç¬¬ä¸‰é˜¶æ®µï¼šå“åº”å¼è§¦å‘ï¼ˆReactive Triggerï¼‰â€”â€”æ•°æ®å˜åŒ–é©±åŠ¨é‡æ–°æ¸²æŸ“çš„æœºåˆ¶æ ¸å¿ƒ</strong></h2>
<p>å½“å“åº”å¼æ•°æ®ä¿®æ”¹æ—¶ï¼š</p>
<pre><code class="hljs">state.count++
</code></pre>
<p>Vue çš„å“åº”å¼ç³»ç»Ÿä¼šæ‰§è¡Œï¼š</p>
<h4 data-id="heading-10"><strong>1. setter â†’ trigger(target, key)</strong></h4>
<p>æ‰¾åˆ°ä¾èµ–è¯¥ key çš„æ‰€æœ‰ effectï¼Œæ­¤å¤„å³ <strong>æ¸²æŸ“ effect</strong>ã€‚</p>
<h4 data-id="heading-11"><strong>2. è°ƒåº¦æ¸²æŸ“ effect è¿›å…¥é˜Ÿåˆ—ï¼ˆschedulerï¼‰</strong></h4>
<p>Vue ä¸ä¼šç«‹å³é‡æ–°æ¸²æŸ“ï¼Œè€Œæ˜¯è¿›è¡Œæ‰¹å¤„ç†ï¼Œä»¥ä¼˜åŒ–æ€§èƒ½ã€‚</p>
<h4 data-id="heading-12"><strong>3. ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œæ¸²æŸ“ effect</strong></h4>
<p>é‡æ–°æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">render</span>(ctx)
<span class="hljs-built_in">patch</span>(oldVNode, newVNode)
</code></pre>
<p>è¿™æ˜¯ä¸€æ¬¡å®Œæ•´çš„ UI æ›´æ–°åŠ¨ä½œï¼š</p>
<ul>
<li>è·å–æ–° VDOMï¼ˆæ–° vnodeï¼‰</li>
<li>ä¸æ—§ VDOMï¼ˆä¸Šæ¬¡ vnodeï¼‰è¿›è¡Œ diff</li>
<li>å°†çœŸå® DOM å±€éƒ¨æ›´æ–°åˆ°æœ€æ–°çŠ¶æ€</li>
</ul>
<blockquote>
<p><strong>å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒä½œç”¨ä¸æ˜¯æ›´æ–° DOMï¼Œè€Œæ˜¯è§¦å‘æ¸²æŸ“ effectã€‚</strong></p>
</blockquote>
<p>DOM æ›´æ–°å‘ç”Ÿåœ¨ä¸‹ä¸€é˜¶æ®µã€‚</p>
<hr/>
<h2 data-id="heading-13"><strong>ç¬¬å››é˜¶æ®µï¼šè™šæ‹Ÿ DOM Diff ä¸ DOM Patch â€”â€” æ–°æ—§ VDOM çš„æ¥æºä¸äº¤æ›¿</strong></h2>
<p>è¿™éƒ¨åˆ†æ˜¯ä½ æœ€å…³å¿ƒçš„ï¼šâ€œæ–°æ—§ VDOM åˆ†åˆ«ä»å“ªé‡Œæ¥ï¼ŸVue æ˜¯å¦‚ä½•è·å–å®ƒä»¬å¹¶åš diff çš„ï¼Ÿâ€</p>
<p>æˆ‘ä»¬å…ˆç»™å‡ºç­”æ¡ˆï¼š</p>
<hr/>
<h3 data-id="heading-14"><strong>æ–° VDOM çš„æ¥æºï¼šç”±å½“å‰æ‰§è¡Œçš„ render() ç”Ÿæˆ</strong></h3>
<p>åœ¨æ¸²æŸ“ effect å†…ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">newVNode</span> = render(instance.ctx)
</code></pre>
<p>æ¯æ¬¡æ‰§è¡Œ renderï¼Œéƒ½ä¼šè¿”å›ä¸€æ£µå…¨æ–°çš„ VNode æ ‘ï¼Œè¿™å°±æ˜¯ <strong>æ–° VDOM</strong>ã€‚</p>
<p>å®ƒä¸æ¥è‡ªç¼“å­˜ã€ä¸æ¥è‡ª DOMï¼Œè€Œæ˜¯ render çš„ç›´æ¥äº§ç‰©ã€‚</p>
<hr/>
<h3 data-id="heading-15"><strong>æ—§ VDOM çš„æ¥æºï¼šç»„ä»¶å®ä¾‹ instance.vnode ä¸­ä¿å­˜çš„ä¸Šä¸€æ¬¡ç»“æœ</strong></h3>
<p>ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼ŒVue ä¼šæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-scss" lang="scss">instance<span class="hljs-selector-class">.vnode</span> = <span class="hljs-built_in">render</span>(instance.ctx)
<span class="hljs-built_in">patch</span>(null, instance.vnode)
</code></pre>
<p>ç¬¬äºŒæ¬¡æ›´æ–°æ—¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">newVNode</span> = render(ctx)
patch(instance.vnode, newVNode)
<span class="hljs-attr">instance.vnode</span> = newVNode
</code></pre>
<p>å¯ä»¥æ€»ç»“ï¼š</p>
<ul>
<li><strong>æ—§ VDOM</strong> = ä¸Šä¸€æ¬¡æ¸²æŸ“å‡½æ•°ç”Ÿæˆçš„ VNodeï¼Œè¢« Vue å­˜å‚¨åœ¨ <code>instance.vnode</code> æˆ– <code>instance.subTree</code> ä¸­</li>
<li><strong>æ–° VDOM</strong> = å½“å‰æ¸²æŸ“å‡½æ•°ç”Ÿæˆçš„ VNode</li>
</ul>
<p>å®ƒä»¬éƒ½æ¥è‡ªæ¸²æŸ“å‡½æ•°ï¼Œä¸é€šè¿‡ DOM æŸ¥è¯¢è·å¾—ã€‚</p>
<h4 data-id="heading-16"><strong>å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç»“æ„å¦‚ä¸‹ï¼š</strong></h4>
<pre><code class="hljs language-scss" lang="scss">ç¬¬ä¸€æ¬¡ï¼š
newVNode = <span class="hljs-built_in">render</span>()
<span class="hljs-built_in">patch</span>(null, newVNode)
oldVNode â† newVNode

ç¬¬äºŒæ¬¡ï¼š
newVNode = <span class="hljs-built_in">render</span>()
<span class="hljs-built_in">patch</span>(oldVNode, newVNode)
oldVNode â† newVNode

ç¬¬ä¸‰æ¬¡ï¼š
newVNode = <span class="hljs-built_in">render</span>()
<span class="hljs-built_in">patch</span>(oldVNode, newVNode)
oldVNode â† newVNode
</code></pre>
<p>å®ƒä»¬åœ¨æ¯æ¬¡æ›´æ–°ä¸­ä¸æ–­äº¤æ›¿ï¼Œåƒæ¥åŠ›æ£’ä¸€æ ·ä¼ é€’ã€‚</p>
<hr/>
<h2 data-id="heading-17"><strong>æ€»ç»“ï¼šVue æ¸²æŸ“ç³»ç»Ÿçš„å®Œæ•´å››é˜¶æ®µé“¾è·¯</strong></h2>
<p>æœ€ç»ˆæˆ‘ä»¬å¯ä»¥å°† Vue çš„æ¸²æŸ“ç®¡çº¿æŠ½è±¡ä¸ºå››ä¸ªè¿ç»­çš„å¤§é˜¶æ®µï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">1</span>) Template Compile
   æ¨¡æ¿ â†’ æ¸²æŸ“å‡½æ•°ï¼ˆçº¯ JSã€æ—  DOMï¼‰

<span class="hljs-number">2</span>) Render Effect
   æ‰§è¡Œæ¸²æŸ“å‡½æ•° â†’ å¾—åˆ°æ–° VDOM
   ä¿å­˜æ—§ VDOM â†’ instance<span class="hljs-selector-class">.vnode</span>

<span class="hljs-number">3</span>) Reactivity Trigger
   æ•°æ®å˜åŒ– â†’ è§¦å‘æ¸²æŸ“ effect é‡æ–°æ‰§è¡Œ

<span class="hljs-number">4</span>) Patch (Diff â†’ DOM Update)
   <span class="hljs-built_in">patch</span>(oldVNode, newVNode)
   æœ€å°æˆæœ¬æ›´æ–°çœŸå® DOM
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><strong>æ–° VDOM æ¥è‡ª render()</strong></li>
<li><strong>æ—§ VDOM æ¥è‡ªç»„ä»¶å®ä¾‹ä¿å­˜çš„ä¸Šä¸€æ¬¡ render() ç»“æœ</strong></li>
<li><strong>patch æ˜¯æœ€ç»ˆè½å® DOM æ›´æ–°çš„å”¯ä¸€é˜¶æ®µ</strong></li>
</ul>
<p>è¿™å°±æ˜¯ Vue æ•°æ®å˜åŒ–åè‡ªåŠ¨æ›´æ–° UI çš„çœŸæ­£å†…éƒ¨æœºåˆ¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ“ é«˜æ ¡ä¸ä¼ä¸šåˆä½œï¼šWebAIGCå‰æ²¿æŠ€æœ¯çš„äº§å­¦ç ”è½¬åŒ–è·¯å¾„]]></title>    <link>https://juejin.cn/post/7580303864605360137</link>    <guid>https://juejin.cn/post/7580303864605360137</guid>    <pubDate>2025-12-07T00:00:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580303864605360137" data-draft-id="7580303864605343753" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ“ é«˜æ ¡ä¸ä¼ä¸šåˆä½œï¼šWebAIGCå‰æ²¿æŠ€æœ¯çš„äº§å­¦ç ”è½¬åŒ–è·¯å¾„"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-12-07T00:00:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ“ é«˜æ ¡ä¸ä¼ä¸šåˆä½œï¼šWebAIGCå‰æ²¿æŠ€æœ¯çš„äº§å­¦ç ”è½¬åŒ–è·¯å¾„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-07T00:00:35.000Z" title="Sun Dec 07 2025 00:00:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸŒ ä¸€ã€å¼•å­ï¼šå½“â€œç”Ÿæˆâ€é‡ä¸Šâ€œåº”ç”¨â€</h2>
<p>åœ¨è¿‡å»åå¹´ä¸­ï¼ŒAIä»ä¸€ä¸ªâ€œç†è®ºç‰©ç§â€é€æ¸è¿›åŒ–æˆäº†â€œç”Ÿäº§åŠ›ç”Ÿç‰©â€ã€‚å¦‚æœè¯´æœ€æ—©çš„äººå·¥æ™ºèƒ½è¿˜åœ¨â€œè®¤çŸ¥â€ä¸–ç•Œï¼Œé‚£ä¹ˆç°ä»£çš„AIGCï¼ˆAI Generated Contentï¼‰å·²ç»åœ¨<strong>åˆ›é€ </strong>ä¸–ç•Œã€‚</p>
<p>è€ŒWebAIGCâ€”â€”å³å°†AIGCèƒ½åŠ›åµŒå…¥Webç”Ÿæ€ä¸­â€”â€”ä¾¿æ˜¯æ•°å­—æ—¶ä»£çš„â€œå°åˆ·æœ¯2.0â€ã€‚<br/>
ç„¶è€Œï¼Œè®¸å¤šé«˜æ ¡ä»åœç•™åœ¨å®éªŒå®¤çš„â€œè±¡ç‰™å¡”â€ï¼Œè€Œä¼ä¸šæ—©å·²åœ¨å¸‚åœºä¸­æ‹¼æ€æˆâ€œæœºå™¨å­¦ä¹ ç‰ˆçš„é¥•é¤®â€ã€‚<br/>
äºæ˜¯é—®é¢˜æ¥äº†ï¼š<br/>
ğŸ¯ <strong>é«˜æ ¡å¦‚ä½•è®©ç§‘ç ”åŠ›é‡çœŸæ­£è½åœ°ï¼Ÿä¼ä¸šåˆå¦‚ä½•å¸æ”¶å­¦æœ¯å…»åˆ†æŒç»­åˆ›æ–°ï¼Ÿ</strong></p>
<p>è¿™ï¼Œæ­£æ˜¯æˆ‘ä»¬ä»Šå¤©è¦èŠçš„â€”â€”<strong>WebAIGCæ—¶ä»£çš„äº§å­¦ç ”è½¬åŒ–è·¯å¾„</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ« äºŒã€ä»å®éªŒå®¤åˆ°æµè§ˆå™¨ï¼šç§‘ç ”æˆæœçš„â€œä¸‹å‡¡ä¹‹è·¯â€</h2>
<h3 data-id="heading-2">ğŸ§© 1. æŠ€æœ¯æºå¤´ï¼šæ¨¡å‹ä¸ç®—æ³•çš„å­¦æœ¯æ¸©åºŠ</h3>
<p>é«˜æ ¡çš„åŠ›é‡åœ¨äºã€ŒåŸç†åˆ›æ–°ã€â€”â€”å¦‚è‡ªæ³¨æ„åŠ›æœºåˆ¶ã€æ‰©æ•£æ¨¡å‹ã€WebAssemblyå¹¶è¡Œæ¨ç†æ¡†æ¶ç­‰ã€‚<br/>
è¿™äº›å¬ä¸Šå»åƒåŒ–å­¦å®éªŒçš„åè¯ï¼Œæ­£æ˜¯WebAIGCçš„çµé­‚ã€‚<br/>
é«˜æ ¡æ“…é•¿å›ç­”**â€œä¸ºä»€ä¹ˆèƒ½åšåˆ°â€ <strong>ï¼Œä¼ä¸šåˆ™æ›´å…³å¿ƒ</strong>â€œæ€ä¹ˆå–å¾—å‡ºå»â€**ã€‚</p>
<h3 data-id="heading-3">ğŸš€ 2. å·¥ç¨‹åŒ–è½åœ°ï¼šWebç«¯çš„â€œç‚¼é‡‘æœ¯â€</h3>
<p>WebAIGCçš„é­…åŠ›åœ¨äº<strong>æµè§ˆå™¨å³å¹³å°</strong>ï¼Œç”¨æˆ·æ— éœ€å®‰è£…Appï¼Œå°±èƒ½ä½“éªŒAIç”ŸæˆåŠŸèƒ½ã€‚<br/>
åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼ä¸šéœ€è¦åšçš„å°±æ˜¯<strong>æŠŠAIå¡è¿›ç½‘é¡µé‡Œï¼Œè¿˜å¾—è®©å®ƒè·‘å¾—æ¯”çŒ«å¿«ã€ç®—å¾—æ¯”ç‹—å‡†</strong>ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªé«˜æ ¡çš„Transformerç ”ç©¶å›¢é˜Ÿï¼Œä¸ä¼ä¸šåˆä½œè®¾è®¡äº†Webç«¯è½»é‡ç‰ˆæ¨ç†æ¡†æ¶ğŸ‘‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ğŸ¤– ä¸€ä¸ªæç®€ WebAIGC æ¨ç†å¼•æ“ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WebAIGCEngine</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">modelUrl</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelUrl</span> = modelUrl;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">load</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸ§  æ­£åœ¨åŠ è½½AIGCæ¨¡å‹..."</span>);
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">modelUrl</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">arrayBuffer</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ… æ¨¡å‹åŠ è½½å®Œæˆï¼"</span>);
  }

  <span class="hljs-title function_">generate</span>(<span class="hljs-params">prompt</span>) {
    <span class="hljs-keyword">const</span> hash = prompt.<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">h, c</span>) =&gt;</span> h + c.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>), <span class="hljs-number">0</span>);
    <span class="hljs-keyword">const</span> randomSeed = hash % <span class="hljs-number">1000</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`âœ¨ [AIç”Ÿæˆå†…å®¹#<span class="hljs-subst">${randomSeed}</span>]ï¼š<span class="hljs-subst">${prompt}</span> çš„çµæ„Ÿç»“æœ`</span>;
  }
}

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebAIGCEngine</span>(<span class="hljs-string">"https://ai.university/model.bin"</span>);
  <span class="hljs-keyword">await</span> engine.<span class="hljs-title function_">load</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(engine.<span class="hljs-title function_">generate</span>(<span class="hljs-string">"WebAIGCå¦‚ä½•æ¨åŠ¨æ•™è‚²åˆ›æ–°ï¼Ÿ"</span>));
})();
</code></pre>
<p>è¿™æ®µä»£ç è™½ç„¶åªæ˜¯ä¸ªå¹½é»˜çš„ä¾‹å­ï¼Œä½†æ¼”ç¤ºäº†ä»<strong>ç®—æ³•ç ”ç©¶</strong>åˆ°<strong>å‰ç«¯äº¤äº’</strong>çš„æ ¸å¿ƒé€»è¾‘è·¯å¾„ï¼š</p>
<blockquote>
<p>ç†è®º â†’ æ¡†æ¶ â†’ åº”ç”¨ â†’ äº§å“ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ğŸ¢ ä¸‰ã€ä¼ä¸šçš„èˆå°ï¼šåˆ›æ–°ã€èµ„æœ¬ä¸ç®—åŠ›çš„ä¸‰é‡å¥</h2>
<p>åœ¨ä¼ä¸šå†…éƒ¨ï¼ŒAIGCé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸè¿œä¸æ­¢â€œéƒ¨ç½²æ¨¡å‹â€è¿™ä¹ˆç®€å•ã€‚å®ƒæ˜¯ä¸€åœºèµ„æºé…ç½®çš„èŠ­è•¾èˆâ€”â€”</p>
<p>ğŸ’° <strong>èµ„æœ¬é©±åŠ¨åˆ›æ–°</strong>ï¼Œå†³å®šäº†é¡¹ç›®èƒ½å¦ä»åŸå‹èµ°å‘é‡äº§ã€‚<br/>
ğŸŒ©ï¸ <strong>ç®—åŠ›æ”¯æŒéƒ¨ç½²</strong>ï¼Œç¡®ä¿AIèƒ½åœ¨æµ·é‡ç”¨æˆ·åŒæ—¶è®¿é—®æ—¶ç¨³å®šè¾“å‡ºã€‚<br/>
ğŸ§© <strong>APIç”Ÿæ€äº’è”</strong>ï¼Œè®©AIèƒ½åŠ›ä»¥â€œæ’ä»¶åŒ–â€çš„æ–¹å¼æŒ¤è¿›å„ç§Webæ¡†æ¶ä¸­ã€‚</p>
<p>ä¼ä¸šæœ€æ“…é•¿çš„ï¼Œæ˜¯è®©æŠ€æœ¯å˜ç°ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>å°†é«˜æ ¡æ–°ç®—æ³•å°è£…æˆWebSDKï¼›</li>
<li>å¼€æºéƒ¨åˆ†æ ¸å¿ƒæ¨¡å—å¸å¼•å¼€å‘è€…ç¤¾åŒºï¼›</li>
<li>ä¸é«˜æ ¡å…±å»ºâ€œæ™ºæ…§Webä½“éªŒå®éªŒå®¤â€ã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œé«˜æ ¡é€ â€œè„‘â€ï¼Œä¼ä¸šé€ â€œä½“â€ï¼Œäº§ä¸šé€ â€œåœºâ€ï¼Œæœ€ç»ˆå®ç° <strong>â€œå­¦ä»¥è‡´ç”¨Â·ç”¨ä»¥ä¿ƒå­¦â€</strong> çš„æŠ€æœ¯ååˆå¾ªç¯ã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ§ª å››ã€â€œäº§å­¦ç ”â€çš„ç†æƒ³å½¢æ€ï¼šåƒGitHubä¸€æ ·åä½œçš„æœªæ¥</h2>
<p>æˆ‘ä»¬å¯ä»¥æŠŠç†æƒ³çš„äº§å­¦ç ”åˆä½œæµç¨‹æƒ³è±¡æˆä¸€ä¸ªå¼€æ”¾çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼š</p>



































<table><thead><tr><th>é˜¶æ®µ</th><th>é«˜æ ¡è´¡çŒ®</th><th>ä¼ä¸šè§’è‰²</th><th>äº§å‡ºå½¢å¼</th></tr></thead><tbody><tr><td>ç†è®ºç ”ç©¶</td><td>æå‡ºæ–°ç®—æ³•ã€æ¨¡å‹æœºåˆ¶</td><td>æä¾›æ•°æ®ã€ç®—åŠ›æ”¯æŒ</td><td>è®ºæ–‡ / ä¸“åˆ©</td></tr><tr><td>å·¥ç¨‹éªŒè¯</td><td>ååŒä¼˜åŒ–ä»£ç æ¡†æ¶</td><td>æ¶æ„æ•´åˆä¸æ€§èƒ½æµ‹è¯•</td><td>SDK / æ¡†æ¶</td></tr><tr><td>å®é™…åº”ç”¨</td><td>æä¾›å®éªŒéªŒè¯åœºåŸŸ</td><td>å¯¼å…¥äº§å“ç”Ÿæ€</td><td>å•†ä¸šäº§å“ / Webå·¥å…·</td></tr><tr><td>æŒç»­åé¦ˆ</td><td>è·Ÿè¸ªæ–°å…´é—®é¢˜</td><td>åå“ºå­¦æœ¯ç ”ç©¶</td><td>æ–°æ¨¡å‹ / æ–°æ ‡å‡†</td></tr></tbody></table>
<p>è¿™ç§åˆä½œé€»è¾‘çŠ¹å¦‚ä¸€ä¸ª<strong>AIç”Ÿæ€GitHub</strong>ï¼š<br/>
æ¯ä¸€æ¬¡commitä¸æ˜¯ä»£ç çš„æ›´æ–°ï¼Œè€Œæ˜¯çŸ¥è¯†çš„æµè½¬ã€‚<br/>
æ¯ä¸€æ¬¡mergeä¸æ˜¯åˆ†æ”¯çš„åˆå¹¶ï¼Œè€Œæ˜¯å­¦æœ¯ä¸å•†ä¸šçš„ç›¸é‡ã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸ’¡ äº”ã€æ€»ç»“ï¼šè®©AIGCæˆä¸ºæ–°æ—¶ä»£çš„â€œçŸ¥è¯†å…±åˆ›å¼•æ“â€</h2>
<p>è®©æˆ‘ä»¬å›å¤´çœ‹çœ‹â€”â€”</p>
<ul>
<li>é«˜æ ¡ï¼Œæ˜¯ç‡ƒçƒ§ç†è®ºä¹‹ç«çš„åœ°æ–¹ï¼›</li>
<li>ä¼ä¸šï¼Œæ˜¯é”¤ç‚¼ç°å®ä¹‹é“çš„å·¥åŠï¼›</li>
<li>è€ŒWebAIGCï¼Œåˆ™æ˜¯é“¾æ¥ä¸¤è€…çš„â€œæ•°å­—ç‚¼é‡‘ç‚‰â€ã€‚</li>
</ul>
<p>ğŸ”¥ å½“æµè§ˆå™¨çš„æ¯ä¸€æ¬¡åˆ·æ–°ï¼Œå°±æ„å‘³ç€ä¸€æ¬¡æ™ºèƒ½ç”Ÿæˆï¼›<br/>
ğŸ’¬ å½“è¯¾å ‚çš„æ¯ä¸€æ¬¡äº’åŠ¨ï¼Œä¹Ÿèƒ½å€ŸåŠ©AIæ›´å…·å¯å‘æ€§ï¼›<br/>
é‚£æ—¶ï¼Œæˆ‘ä»¬æ‰èƒ½è¯´ï¼š<strong>äº§å­¦ç ”èåˆï¼Œä¸ä»…æ˜¯æ¡¥æ¢ï¼Œæ›´æ˜¯è¿›åŒ–çš„å¼•æ“</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ¤– AI æ—¶ä»£ï¼Œå¤§æ¨¡å‹ä¸ç³»ç»Ÿçš„å¯èåˆåœºæ™¯æ¶æ„çŒœæƒ³]]></title>    <link>https://juejin.cn/post/7580374090364796966</link>    <guid>https://juejin.cn/post/7580374090364796966</guid>    <pubDate>2025-12-07T00:02:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580374090364796966" data-draft-id="7580378958072397834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ¤– AI æ—¶ä»£ï¼Œå¤§æ¨¡å‹ä¸ç³»ç»Ÿçš„å¯èåˆåœºæ™¯æ¶æ„çŒœæƒ³"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å‰ç«¯æ¡†æ¶,æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-12-07T00:02:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ¤– AI æ—¶ä»£ï¼Œå¤§æ¨¡å‹ä¸ç³»ç»Ÿçš„å¯èåˆåœºæ™¯æ¶æ„çŒœæƒ³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-07T00:02:37.000Z" title="Sun Dec 07 2025 00:02:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸŒŒ ä¸€ã€å‰è¨€ï¼šå¤§æ¨¡å‹ä¸å†æ˜¯â€œå•æœºç©å®¶â€</h2>
<p>æˆ‘ä»¬æ›¾ä»¥ä¸ºï¼Œå¤§æ¨¡å‹çš„å¥‡è¿¹åªå‘ç”Ÿåœ¨GPUæ•°æ®ä¸­å¿ƒçš„é»‘ç›’é‡Œã€‚<br/>
ä½†AIæ­£åœ¨ç»å†ä¸€æ¬¡â€œç³»ç»Ÿå­¦è¿å¾™â€â€”â€”å®ƒä¸å†å­¤ç«‹ï¼Œè€Œæ˜¯è¿›å…¥æ“ä½œç³»ç»Ÿã€æ•°æ®åº“ã€ç½‘ç»œã€ç‰©è”ç½‘ä¹ƒè‡³æµè§ˆå™¨ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼š</p>
<ul>
<li>æ“ä½œç³»ç»Ÿçš„ä»»åŠ¡è°ƒåº¦å™¨ä¼šâ€œé¢„æµ‹ç”¨æˆ·æ„å›¾â€ï¼›</li>
<li>ç½‘ç»œåè®®æ ˆæ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨ä¼˜åŒ–æµé‡è·¯å¾„ï¼›</li>
<li>æ•°æ®åº“èƒ½æ ¹æ®é—®é¢˜è‡ªåŠ¨ç”ŸæˆSQLç”šè‡³é€»è¾‘æ¨ç†æ ‘ï¼›</li>
<li>ç»ˆç«¯æµè§ˆå™¨è‡ªå·±å†³å®šä½•æ—¶å‹ç¼©ã€ç¼“å­˜æˆ–ç”Ÿæˆå†…å®¹ã€‚</li>
</ul>
<p>è¿™ä¸æ˜¯é­”æ³•ï¼Œè€Œæ˜¯<strong>å¤§æ¨¡å‹ä¸ç³»ç»Ÿçš„æ·±åº¦å¯èåˆæ¶æ„</strong>ã€‚<br/>
ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p>AIä¸æ˜¯å¤–æŒ‚ï¼Œè€Œæ˜¯å†…æ ¸ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">âš™ï¸ äºŒã€å¤§æ¨¡å‹ + ç³»ç»Ÿï¼šä»å¹¶è¡Œåˆ°å…±ç”Ÿ</h2>
<p>åœ¨ä¼ ç»Ÿç³»ç»Ÿè®¾è®¡ä¸­ï¼Œæˆ‘ä»¬è®²ç©¶çš„æ˜¯ï¼š</p>
<blockquote>
<p>æ¨¡å—åˆ†å±‚ã€èŒè´£éš”ç¦»ã€é€»è¾‘ç¡®å®šã€‚</p>
</blockquote>
<p>è€Œå¤§æ¨¡å‹çš„é€»è¾‘æ˜¯ï¼š</p>
<blockquote>
<p>æ¨¡ç³Šæ¨ç†ã€è¯­ä¹‰ç†è§£ã€ä¸Šä¸‹æ–‡é©±åŠ¨ã€‚</p>
</blockquote>
<p>äºŒè€…åƒä¸€å¯¹æ€§æ ¼è¿¥å¼‚çš„å®¤å‹ï¼š<br/>
ç³»ç»Ÿæ˜¯ä¸¥è°¨çš„æœºæ¢°å·¥ç¨‹å¸ˆï¼Œè€Œæ¨¡å‹æ˜¯çŠ€åˆ©çš„è‰ºæœ¯å®¶ã€‚<br/>
ä½†å½“ä»–ä»¬å­¦ä¼šäº’ç›¸å€¾å¬ï¼Œå°±èƒ½æ„é€ å‡ºä»¤äººæƒŠå¹çš„ã€Œå…±ç”Ÿç³»ç»Ÿã€â€”â€”AIæˆä¸ºç³»ç»Ÿçš„â€œè®¤çŸ¥ä¸­æ¢â€ï¼Œç³»ç»Ÿæˆä¸ºAIçš„â€œç‰©è´¨è½½ä½“â€ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ§© ä¸‰ã€å…¸å‹èåˆåœºæ™¯è®¾æƒ³</h2>









































<table><thead><tr><th>åœºæ™¯</th><th>ç³»ç»Ÿå±‚è§’è‰²</th><th>å¤§æ¨¡å‹è§’è‰²</th><th>é¢„æœŸæ•ˆæœ</th></tr></thead><tbody><tr><td>ğŸ§  æ™ºèƒ½æ“ä½œç³»ç»Ÿ</td><td>è°ƒåº¦ã€é©±åŠ¨ã€å®‰å…¨ç®¡ç†</td><td>ç”¨æˆ·æ„å›¾é¢„æµ‹ã€ä»»åŠ¡ä¸Šä¸‹æ–‡ç†è§£</td><td>â€œä¼šæ€è€ƒâ€çš„ä»»åŠ¡ç®¡ç†</td></tr><tr><td>ğŸ—‚ï¸ æ•°æ®åº“ç³»ç»Ÿ</td><td>å­˜å‚¨ä¸ç´¢å¼•ä¼˜åŒ–</td><td>è¯­ä¹‰æŸ¥è¯¢ç”Ÿæˆã€æ¨¡å¼è¯†åˆ«</td><td>è‡ªä¼˜åŒ–çš„æ•°æ®åº“</td></tr><tr><td>â˜ï¸ äº‘åŸç”ŸåŸºç¡€è®¾æ–½</td><td>æœåŠ¡ç¼–æ’ã€èµ„æºåˆ†é…</td><td>å·¥ä½œè´Ÿè½½é¢„æµ‹ã€å¼‚å¸¸æ£€æµ‹</td><td>è‡ªåŠ¨å¼¹æ€§ä¼¸ç¼©ä¸æ™ºèƒ½è‡ªæ²»</td></tr><tr><td>ğŸ•¸ï¸ Web å‰ç«¯</td><td>æ¸²æŸ“ä¸äº¤äº’æ§åˆ¶</td><td>æ–‡æœ¬ã€è§†è§‰ã€UI è‡ªç”Ÿæˆ</td><td>â€œå¯æ„ŸçŸ¥â€çš„åŠ¨æ€ç•Œé¢</td></tr><tr><td>ğŸ¤– IoT / è¾¹ç¼˜ç³»ç»Ÿ</td><td>ä½åŠŸè€—è®¾å¤‡æ§åˆ¶</td><td>æ¨¡å‹å‰ªæã€è‡ªé€‚åº”å­¦ä¹ </td><td>è¾¹ç¼˜ç«¯æ™ºèƒ½è¿›åŒ–</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">ğŸš€ å››ã€æ¶æ„çŒœæƒ³ï¼šå¤§æ¨¡å‹-ç³»ç»Ÿèåˆçš„æœªæ¥å½¢æ€</h2>
<p>è®©æˆ‘ä»¬å°è¯•ç”»å‡ºè¿™ç§æœªæ¥æ¶æ„çš„é€»è¾‘å±‚æ¬¡ï¼Œç”¨æ€æƒ³çš„ASCIIçº¿æ¡æ‹¼ä¸€ä¸ªç®€åŒ–ç‰ˆğŸ‘‡</p>
<pre><code class="hljs language-css" lang="css">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         ç”¨æˆ·äº¤äº’å±‚          â•‘ â† è‡ªç„¶è¯­è¨€ / å¤šæ¨¡æ€æ¥å£
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘      AIGC åº”ç”¨ååŒå±‚        â•‘ â† Promptä»£ç† / å†…å®¹è°ƒåº¦
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘   å¤§æ¨¡å‹æœåŠ¡ä¸è®¤çŸ¥å†…æ ¸å±‚    â•‘ â† å¤šæ¨¡å‹åä½œ / çŸ¥è¯†å›¾è°±æ¥å£
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘      ç³»ç»Ÿèåˆé€‚é…å±‚          â•‘ â† API Hook / <span class="hljs-selector-tag">I</span>/O Semantic Adapter
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘   æ“ä½œç³»ç»Ÿä¸åº•å±‚èµ„æºå±‚       â•‘ â† CPU/GPUè°ƒåº¦ / å†…å­˜ä¸Šä¸‹æ–‡å¢å¼º
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
</code></pre>
<p>ğŸ¯ <strong>å…³é”®è¯è§£é‡Šï¼š</strong></p>
<ul>
<li><em>è®¤çŸ¥å†…æ ¸å±‚</em>ï¼šè´Ÿè´£è¯­è¨€æ¨ç†ã€ä¸–ç•Œå»ºæ¨¡ä¸ç­–ç•¥ç”Ÿæˆã€‚</li>
<li><em>é€‚é…å±‚</em>ï¼šæ˜¯AIä¸ç³»ç»Ÿé€šä¿¡çš„æ¡¥æ¢ï¼Œæ¯”å¦‚AI Hook APIã€‚</li>
<li><em>ååŒå±‚</em>ï¼šè°ƒåº¦å¤šä¸ªAI Agentåä½œï¼Œä¾‹å¦‚å†…å®¹ç”Ÿæˆã€æ¨ç†æœåŠ¡ã€ç”¨æˆ·æ„å›¾è§£æã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">ğŸ’¡ äº”ã€èåˆçš„å…³é”®æœºåˆ¶</h2>
<ol>
<li>
<p><strong>ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼ˆContext Injectionï¼‰</strong><br/>
ç³»ç»Ÿé€šè¿‡å…±äº«è¿è¡Œæ€ä¿¡æ¯ï¼ˆCPUè´Ÿè½½ã€ç½‘ç»œå»¶è¿Ÿã€ç”¨æˆ·äº¤äº’ï¼‰ä¾›æ¨¡å‹æ¨ç†ï¼Œä½¿AIå†³ç­–â€œæœ‰åœ°æ°”â€ã€‚</p>
</li>
<li>
<p><strong>è¯­ä¹‰ä¸­é—´ä»¶ï¼ˆSemantic Middlewareï¼‰</strong><br/>
å¼•å…¥è¯­è¨€å±‚APIï¼Œå°†ç³»ç»Ÿè°ƒç”¨å°è£…ä¸ºè‡ªç„¶è¯­è¨€æ„å›¾æ¥å£ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ğŸ§  è¯­ä¹‰è°ƒç”¨ç¤ºä¾‹ï¼šAI è®©æ“ä½œç³»ç»Ÿåšäº‹</span>
<span class="hljs-keyword">await</span> OS.semanticCall(<span class="hljs-string">"ä¼˜åŒ–æœ¬åœ°æ–‡ä»¶ç´¢å¼•"</span>, { priority: <span class="hljs-string">"low"</span> });
</code></pre>
</li>
<li>
<p><strong>æ¨¡å‹ç³»ç»ŸååŒè°ƒåº¦ï¼ˆCo-schedulingï¼‰</strong><br/>
æ¨¡å‹ä»»åŠ¡æˆä¸ºç³»ç»Ÿè¿›ç¨‹çš„ä¸€ç­‰å…¬æ°‘ï¼Œç”±æ“ä½œç³»ç»Ÿåè°ƒèµ„æºï¼Œè€Œéç”±å¤–å±‚ç¨‹åºä¸´æ—¶è°ƒç”¨ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®â€”æ¨¡å‹å¾ªç¯ï¼ˆFeedback Loopï¼‰</strong><br/>
ç³»ç»Ÿé‡‡é›†è¿è¡Œæ•°æ® â†’ æ¨¡å‹ä¼˜åŒ–ç­–ç•¥ â†’ å†è°ƒæ•´ç³»ç»Ÿè¡Œä¸ºï¼Œå¦‚åŒè‡ªå­¦ä¹ ç”Ÿæ€ä½“ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-5">ğŸ§± å…­ã€ä¸€ä¸ªç®€åŒ–çš„èåˆåŸå‹â€”â€”â€œæ™ºèƒ½ç³»ç»Ÿè°ƒåº¦å™¨â€</h2>
<p>è®©æˆ‘ä»¬æ¥æ®µå¹½é»˜çš„ä¼ªä»£ç ï¼Œè®¾æƒ³ä¸€ä¸ªç³»ç»Ÿå†…æ ¸ä¸­çš„AIä»£ç†ï¼Œå®ƒä¼šè‡ªåŠ¨å†³å®šæ˜¯ä¸æ˜¯è¯¥å¼€é£æ‰‡ ğŸ˜†</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ğŸŒ¡ï¸ æ™ºèƒ½ç³»ç»Ÿè°ƒåº¦å™¨åŸå‹ï¼ˆèåˆAIå†³ç­–ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AwareScheduler</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">model</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">observeSystem</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">cpuUsage</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>,
      <span class="hljs-attr">temp</span>: <span class="hljs-number">36</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">20</span>,
      <span class="hljs-attr">runningTasks</span>: [<span class="hljs-string">"AI_render"</span>, <span class="hljs-string">"data_sync"</span>, <span class="hljs-string">"web_server"</span>]
    };
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">decide</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> context = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observeSystem</span>();
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-title function_">generate</span>(<span class="hljs-string">`
      å½“å‰CPUä½¿ç”¨ç‡ä¸º<span class="hljs-subst">${context.cpuUsage.toFixed(<span class="hljs-number">1</span>)}</span>%ï¼Œæ¸©åº¦ä¸º<span class="hljs-subst">${context.temp.toFixed(<span class="hljs-number">1</span>)}</span>â„ƒï¼Œ
      è¿è¡Œä»»åŠ¡ä¸º<span class="hljs-subst">${context.runningTasks.join(<span class="hljs-string">"ã€"</span>)}</span>
      è¯¥å¦‚ä½•è°ƒåº¦ä»»åŠ¡ä¸é£æ‰‡è½¬é€Ÿï¼Ÿè¯·è¾“å‡ºæŒ‡ä»¤å­—ç¬¦ä¸²ã€‚
    `</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸ§  æ¨¡å‹ç­–ç•¥è¾“å‡ºï¼š"</span>, response);
  }
}

<span class="hljs-comment">// æ¨¡å‹ï¼ˆç®€åŒ–ç‰ˆï¼Œå¤§æ¦‚åªä¼šèƒ¡è¯´å…«é“ï¼‰</span>
<span class="hljs-keyword">const</span> fakeModel = {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generate</span>(<span class="hljs-params">prompt</span>) {
    <span class="hljs-keyword">if</span> (prompt.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"æ¸©åº¦ä¸º"</span>)) <span class="hljs-keyword">return</span> <span class="hljs-string">"å¼€é£æ‰‡åŠ å¼ºå†·å´ï¼Œå¹¶é™ä½AI_renderè¿›ç¨‹æƒé‡ã€‚"</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">"ç³»ç»Ÿç¨³å®šï¼Œç»§ç»­è¿è¡Œã€‚"</span>;
  }
};

<span class="hljs-comment">// å¯åŠ¨AIå†…æ ¸çš„è°ƒåº¦å™¨</span>
<span class="hljs-keyword">const</span> scheduler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AwareScheduler</span>(fakeModel);
scheduler.<span class="hljs-title function_">decide</span>();
</code></pre>
<p>è¿™è™½æ˜¯ç©ç¬‘ï¼Œä½†å±•ç¤ºäº†â€œå¤§æ¨¡å‹å†…åµŒç³»ç»Ÿâ€ï¼Œé€šè¿‡è¯­ä¹‰é€»è¾‘æ§åˆ¶ä½å±‚æ“ä½œçš„è½®å»“ã€‚<br/>
æœªæ¥æ“ä½œç³»ç»Ÿçš„æ—¥å¿—æˆ–è®¸é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">[<span class="hljs-symbol">AI_DECISION</span>]: <span class="hljs-link">é™ä½GPUè°ƒåº¦ä¼˜å…ˆçº§ï¼Œæ£€æµ‹é£å™ªï¼Œç”¨æˆ·åœ¨è§†é¢‘é€šè¯ä¸­ã€‚  </span>
[<span class="hljs-symbol">SYS_ACTION</span>]: <span class="hljs-link">å·²è°ƒæ•´é£æ‰‡é€Ÿç‡è‡³é™éŸ³æ¨¡å¼ã€‚</span>
</code></pre>
<hr/>
<h2 data-id="heading-6">ğŸŒ ä¸ƒã€ä¼¦ç†ä¸æ²»ç†ï¼šæ™ºèƒ½å†…æ ¸ä¸æ˜¯ä¸»å®°ï¼Œè€Œæ˜¯ä¼™ä¼´</h2>
<p>å½“æˆ‘ä»¬è°ˆâ€œAIåµŒå…¥ç³»ç»Ÿâ€ï¼ŒåŒæ—¶ä¹Ÿè¦é¢å¯¹<strong>å®‰å…¨ä¸è´£ä»»è¾¹ç•Œ</strong>ï¼š</p>
<ul>
<li>âœ… <strong>å¯è§£é‡Šæ€§</strong>ï¼šAIçš„æ¯æ¬¡ç³»ç»Ÿè°ƒç”¨éƒ½å¿…é¡»æœ‰å†³ç­–ä¾æ®ã€‚</li>
<li>ğŸ”’ <strong>å®‰å…¨ç½‘å…³</strong>ï¼šé¿å…AIç›´æ¥è®¿é—®å†…æ ¸çº§èµ„æºï¼Œæ— äººç›‘ç£è¡Œä¸ºã€‚</li>
<li>ğŸ§­ <strong>æ²»ç†æ¥å£</strong>ï¼šä¸ºAIå†³ç­–æ„å»ºå®¡è®¡ä¸äººå·¥å¹²é¢„æœºåˆ¶ã€‚</li>
</ul>
<p>åªæœ‰åœ¨äººç±»ä»æ˜¯ç³»ç»Ÿâ€œæœ€ç»ˆè§£é‡Šè€…â€çš„å‰æä¸‹ï¼Œå¤§æ¨¡å‹èåˆæ‰æ˜¯æ–‡æ˜çš„ï¼Œè€Œéé£é™©çš„ã€‚</p>
<hr/>
<h2 data-id="heading-7">ğŸŒˆ å…«ã€ç»“è¯­ï¼šç³»ç»Ÿåœ¨å˜èªæ˜ï¼ŒAIåœ¨å˜è„šè¸å®åœ°</h2>
<p>æœªæ¥çš„æ¶æ„ä¸ä¼šå†æœ‰æ¸…æ™°çš„è¾¹ç•Œâ€”â€”<br/>
æ“ä½œç³»ç»Ÿä¼šâ€œè¯´è¯â€ï¼Œå¤§æ¨¡å‹ä¼šâ€œè°ƒåº¦â€ï¼Œè®¡ç®—æœºå°†é€æ¸æ¼”åŒ–ä¸ºã€Œè®¤çŸ¥ç”Ÿæ€ã€ã€‚</p>
<p>æˆ–è®¸æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬å†™ä¸‹è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">await</span> System.think(<span class="hljs-string">"æˆ‘æ˜¯ä¸æ˜¯è¯¥ä¼˜åŒ–è‡ªå·±äº†ï¼Ÿ"</span>);
</code></pre>
<p>è€Œæ§åˆ¶å°æ·¡å®šåœ°å›å¤ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">ğŸ§  æˆ‘åˆšå®Œæˆä¸€æ¬¡è‡ªç›‘ç£è°ƒä¼˜ï¼Œæ€§èƒ½æå‡<span class="hljs-number">12</span><span class="hljs-comment">%ï¼Œè°¢è°¢ä½ çš„å…³å¿ƒã€‚</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨‹åºå‘˜ä»å¤§å‚å›é‡åº†å·¥ä½œä¸€å¹´]]></title>    <link>https://juejin.cn/post/7580285196693471232</link>    <guid>https://juejin.cn/post/7580285196693471232</guid>    <pubDate>2025-12-06T18:16:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580285196693471232" data-draft-id="7580295137395343375" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨‹åºå‘˜ä»å¤§å‚å›é‡åº†å·¥ä½œä¸€å¹´"/> <meta itemprop="keywords" content="Java,åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-06T18:16:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uzong"/> <meta itemprop="url" content="https://juejin.cn/user/372082495985181"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨‹åºå‘˜ä»å¤§å‚å›é‡åº†å·¥ä½œä¸€å¹´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/372082495985181/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uzong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T18:16:13.000Z" title="Sat Dec 06 2025 18:16:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.6em;font-weight:400;font-size:15px;overflow-x:hidden;color:#303133;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,å¾®è½¯é›…é»‘,Arial,sans-serif}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.6em;margin:1.3em 0}.markdown-body h1{font-size:30px;margin-top:50px;margin-bottom:10px}.markdown-body h2{margin-top:45px;margin-bottom:10px;font-size:26px}.markdown-body h3{margin-top:40px;margin-bottom:10px;font-size:22px}.markdown-body h4{font-size:18px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:15px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:1.6em;margin-bottom:1.6em}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#e96900;font-size:.87em;margin:0 2px;padding:3px 5px;white-space:pre-wrap}.markdown-body .markdown-section&gt;:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) code{font-size:.8rem;font-family:Roboto Mono,Monaco,courier,monospace}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;border-radius:4px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#42b983;line-height:1.2em}.markdown-body a:active,.markdown-body a:hover{color:rgba(66,185,131,.85);border-bottom:1px solid rgba(66,185,131,.6)}.markdown-body table{display:inline-block!important;font-size:12px;max-width:100%;overflow:auto;border:1px solid #f6f6f6;border-collapse:collapse}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fafafa}.markdown-body td,.markdown-body th{padding:12px 6px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:rgba(52,73,94,.95);padding:1px 23px;margin:22px 0;border-left:4px solid #42b983;background-color:rgba(66,185,131,.1)}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ä»å¤§å‚è£¸è¾å›é‡åº†å·¥ä½œï¼Œæ•´æ•´ä¸€å¹´äº†ã€‚</strong></p>
<hr/>
<p>æ—¶é—´å¿«å¾—è®©äººå¿ƒæƒŠã€‚åœä¸‹å›æœ›ï¼Œä»è£¸è¾ã€å½’ä¹¡ã€æ±‚èŒåˆ°é€‚åº”ï¼Œå†åˆ°è§’è‰²è½¬æ¢ï¼Œç§ç§å¿ƒç»ªï¼Œæ„Ÿæ…¨é¢‡å¤šã€‚</p>
<hr/>
<h4 data-id="heading-0"><strong>ä¸€ã€ç¦»å¼€æ—¶ï¼Œé‚£å¥è¯æˆäº†ç§å­</strong></h4>
<p>æœ€åä¸€ä¸ªå·¥ä½œæ—¥çš„ä¸‹åˆï¼Œé¢†å¯¼æŠŠæˆ‘å«åˆ°æ¥¼é“ï¼Œåšäº†ä¸€æ¬¡ä¸´åˆ«äº¤è°ˆã€‚</p>
<p>ä»–æœ‰ä¸€å¥è¯ï¼Œæˆ‘è‡³ä»Šè®°å¾—æ¸…æ¸…æ¥šæ¥šï¼šâ€œä»¥åå‡ºå»ï¼Œä¸€å®šè¦æƒ³åŠæ³•èµ°å‘ç®¡ç†å²—ä½ï¼Œé‚£æ˜¯å®Œå…¨ä¸åŒçš„ç«äº‰åŠ›ã€‚â€</p>
<p>å½“æ—¶åªæ˜¯è®°ä¸‹ã€‚<strong>ä¸€å¹´åçš„ä»Šå¤©ï¼Œå½“æˆ‘å¼€å§‹å¸¦é¢†ä¸€ä¸ªå°å›¢é˜Ÿæ—¶ï¼Œè¿™å¥è¯çªç„¶åœ¨å¿ƒé‡Œå‘äº†èŠ½ã€‚</strong> å®ƒåƒä¸€é¢—æå‰åŸ‹ä¸‹çš„ç§å­ï¼Œåœ¨åˆé€‚çš„æ—¶èŠ‚æ‚„ç„¶ç”Ÿé•¿ã€‚</p>
<h4 data-id="heading-1"><strong>äºŒã€è£¸è¾å›æ¸ï¼šä¸€åœºæ°å¦‚å…¶åˆ†çš„â€œä»»æ€§â€</strong></h4>
<p>å›é‡åº†æ˜¯è£¸è¾çš„ã€‚æ‰€æœ‰äººéƒ½åŠæˆ‘â€œæ‰¾åˆ°å·¥ä½œå†å›â€ï¼Œä½†æˆ‘è¿˜æ˜¯ä»»æ€§äº†ä¸€æ¬¡ã€‚</p>
<p>å…ˆå‡ºå»æ¼«æ¸¸äº†ä¸¤ä¸ªæœˆï¼Œç›´åˆ°èº«å¿ƒä¿±ç–²ï¼ŒåŒ—æ–¹çš„ç§‹å‡‰æ¸èµ·ï¼Œæ‰å›åˆ°è€å®¶ã€‚é™ªå®¶äººï¼Œç»™çˆ¶äº²è¿‡äº†å…­åå²ç”Ÿæ—¥ã€‚ç„¶åï¼Œå®‰é™åœ°å¼€å§‹å‡†å¤‡é¢è¯•ã€‚</p>
<p><strong>å¦‚ä»Šæƒ³æ¥ï¼Œè¿™æ®µâ€œé—´éš”æœŸâ€å¹¶éç©ºç™½ï¼Œè€Œæ˜¯ä¸€æ¬¡å¿…è¦çš„æ¸…ç©ºä¸æ ¡å‡†ã€‚</strong> ä¸€åˆ‡è¡”æ¥å¾—æ°å¦‚å…¶åˆ†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fe0442708ef4544aeb6b5252e63c0b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649772&amp;x-signature=LW5fmQ%2FOtJXp3VQwAr7wQoxfVxA%3D" alt="" loading="lazy"/></p>
<p>æ‹æ‘„äºä¸€ä¸ªä¸‹åˆ</p>
<h4 data-id="heading-2"><strong>ä¸‰ã€é€‰æ‹©å°å…¬å¸ï¼šæ¥å—å¦ä¸€ç§ä»·å€¼åºåˆ—</strong></h4>
<p>é‡åº†çš„äº’è”ç½‘åœŸå£¤ï¼Œä¸ä¸€çº¿åŸå¸‚ä¸åŒã€‚å¤´éƒ¨å…¬å¸å±ˆæŒ‡å¯æ•°ï¼Œæœºä¼šçª—å£ä¹Ÿå¾ˆæœ‰é™ã€‚ç»“åˆè‡ªèº«æƒ³åœ¨å°å¹³å°æ·±è€•å‡ å¹´çš„æ„æ„¿ï¼Œæˆ‘æœ€ç»ˆåŠ å…¥äº†ä¸€å®¶æˆé•¿å‹å…¬å¸ã€‚</p>
<p>è–ªèµ„ç¦åˆ©ç›¸æ¯”ä¹‹å‰è‡ªç„¶æ˜¯â€œéª¨æŠ˜ä»·â€ï¼Œè¿™æ˜¯æˆ‘æ—©æœ‰çš„é¢„æœŸã€‚****<br/>
<strong>å¯¹äºæƒ³ä»ä¸€çº¿å›æ¥çš„æœ‹å‹ï¼Œæˆ‘çš„ä½“ä¼šæ˜¯ï¼šå¹´è½»æ—¶å¯å¤šåœ¨å¤–ç§¯ç´¯ç¡¬å®åŠ›ï¼Œä½†åˆ‡å¿Œæ··æ—¥å­ã€‚</strong> æƒ³æ¸…æ¥šè‡ªå·±è¦ä»€ä¹ˆï¼Œå†å†³å®šä½•æ—¶å½’æ¥ã€‚</p>
<p>å¦‚ä»Šï¼Œè™½ç„¶æ”¶å…¥ä¸åŠä»å‰ï¼Œä½†å¿ƒå¢ƒå´æ„ˆå‘<strong>ä»å®¹ã€è½åœ°</strong>ã€‚å°‘äº†ä¸€ä»½åœ¨å¤§å¹³å°å…‰ç¯ä¸‹çš„â€œé£˜é£˜ç„¶â€ï¼Œå¤šäº†ä¸€ç§åƒèˆ¹åªè£…ä¸Šâ€œå‹èˆ±çŸ³â€èˆ¬çš„ç¨³å®šæ„Ÿã€‚</p>
<h4 data-id="heading-3"><strong>å››ã€ç«™ä¸Šè®²å°ï¼Œæ‰çœ‹æ‡‚å½“å¹´çš„è‡ªå·±</strong></h4>
<p>è¿™ä¸€å¹´ï¼Œæœ€å¤§çš„å˜åŒ–æ˜¯<strong>å¿ƒæ€</strong>ã€‚ä»è¢«åŠ¨æ¥å—åˆ°ä¸»åŠ¨è´Ÿè´£ï¼Œä»å…³æ³¨äº‹åˆ°å…³æ³¨äººã€‚</p>
<p>ä»¥å‰æ€»è§‰å¾—ï¼ŒæŠŠåˆ†é…çš„ä»»åŠ¡å®Œæˆå°±è¶³å¤Ÿäº†ã€‚ç°åœ¨æ˜ç™½ï¼Œè¿™å›ºç„¶æ²¡é”™ï¼Œä½†ä¹Ÿä¼šå› æ­¤é”™å¤±ä¸¤ç§æœ€å®è´µçš„æ”¶è·ï¼š<strong>å¿«é€Ÿçš„æˆé•¿ï¼Œå’Œç­‰ä»·çš„æŠ¥é…¬ã€‚</strong></p>
<p>è¿™è®©æˆ‘æƒ³èµ·å­¦ç”Ÿæ—¶ä»£ï¼šååœ¨è®²å°ä¸‹æ—¶ï¼Œæ€»è§‰å¾—è€å¸ˆçœ‹ä¸åˆ°è‡ªå·±çš„å°åŠ¨ä½œï¼›ç›´åˆ°æœ‰ä¸€å¤©è‡ªå·±ç«™ä¸Šè®²å°ï¼Œæ‰ç¬é—´æ˜ç™½â€”â€”å°ä¸‹çš„ä¸€åˆ‡ï¼Œå…¶å®å°½æ”¶çœ¼åº•ã€‚</p>
<p><strong>ä»Šå¤©åšç®¡ç†ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</strong> è°åœ¨ç”¨å¿ƒï¼Œè°åœ¨æ•·è¡ï¼Œè°æœ‰æ½œåŠ›ï¼Œè°åœ¨æ‘¸é±¼ï¼Œæ¸…æ™°å¾—åƒä¸€å¼ ç”»ã€‚<strong>è§†è§’çš„è½¬æ¢ï¼Œå¸¦æ¥çš„æ˜¯â€œé™ç»´â€èˆ¬çš„æ´å¯ŸåŠ›ã€‚</strong> è¿™ä¹Ÿæ—¶åˆ»åé—®æˆ‘è‡ªå·±ï¼šæ­¤åˆ»ï¼Œæˆ‘åˆè¢«ç¦é”¢åœ¨å“ªä¸ªâ€œä½ç»´â€è§†è§’é‡Œè€Œä¸è‡ªçŸ¥ï¼Ÿ</p>
<h4 data-id="heading-4"><strong>äº”ã€åœ¨ä¸‹å±èº«ä¸Šï¼Œç…§è§è‡ªå·±çš„è¿‡å»</strong></h4>
<p>æˆ‘çš„æ‹–å»¶ç—‡æ”¹å–„äº†ä¸å°‘ã€‚å› ä¸ºæˆ‘åœ¨ä¸‹å±èº«ä¸Šï¼Œçœ‹åˆ°äº†å¤ªå¤šè‡ªå·±è¿‡å»çš„å½±å­ï¼š</p>
<ul>
<li>å†…å‘ï¼Œä¸çˆ±ä¸»åŠ¨æ²Ÿé€šï¼›</li>
<li>ä¸å‚¬ä¸åŠ¨ï¼Œç¼ºä¹è‡ªé©±åŠ›ï¼›</li>
<li>æŠŠå·¥ä½œä¸¥æ ¼æ¡†å®šåœ¨8å°æ—¶å†…ï¼›</li>
<li>æŠŠâ€œå®Œæˆä»»åŠ¡â€ç­‰åŒäºâ€œå·¥ä½œå…¨éƒ¨â€â€¦â€¦</li>
</ul>
<p>æ¯æ¯çœ‹åˆ°è¿™äº›ï¼Œå¿ƒä¸­å¹¶æ— æ‰¹è¯„ï¼Œåªæœ‰æ„Ÿæ…¨ä¸è­¦é†’ã€‚<strong>ä»–ä»¬å°±åƒä¸€é¢é•œå­ï¼Œè®©æˆ‘çœ‹åˆ°æ¥è·¯ï¼Œä¹Ÿæ›´æ˜ç¡®è¯¥å»å‘ä½•æ–¹ã€‚</strong></p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b18498a69bcf4ae0b6c4c8ccdc79d95d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649772&amp;x-signature=avjsjbCeh0BZ2t%2Fj2dHrtmnpgp0%3D" alt="" loading="lazy"/></p>
<p>ä¸‹å®Œé›¨çš„é‡åº†å¤œæ™¯</p>
<h4 data-id="heading-5"><strong>å…­ã€ç®¡ç†ç¬¬ä¸€è¯¾ï¼šæ”¶èµ·â€œè¿‡åº¦è´£ä»»æ„Ÿâ€</strong></h4>
<p>æˆ‘æ›¾è¿«åˆ‡åœ°å¸Œæœ›å›¢é˜Ÿé‡Œæ¯ä¸ªäººéƒ½èƒ½å¿«é€Ÿæˆé•¿ï¼Œä¸ºæ­¤è€—è´¹å¤§é‡å¿ƒåŠ›ã€‚åæ¥å‘ç°ï¼Œè¿™æ˜¯<strong>ä¸€ç§â€œè¿‡åº¦è´Ÿè´£â€</strong> ã€‚</p>
<p>ç®¡ç†è€…çš„è´£ä»»å¿ƒï¼Œæ²¡æœ‰æ ‡å‡†åˆ»åº¦ã€‚åƒç­ä¸»ä»»ä¸€æ ·ï¼Œå¯ä»¥ç®¡å¾—æ— å¾®ä¸è‡³ï¼Œä¹Ÿå¯ä»¥æŠ“å¤§æ”¾å°ã€‚<strong>è¯•å›¾ä¸ºæ‰€æœ‰äººçš„æˆé•¿å…œåº•ï¼Œæœ€ç»ˆåªä¼šå‹å®è‡ªå·±ã€‚</strong></p>
<p>æˆ‘é€æ¸è®¤æ¸…ï¼š<strong>æ¯ä¸ªäººéƒ½æ˜¯è‡ªå·±æˆé•¿çš„ç¬¬ä¸€è´£ä»»äººã€‚</strong> ç®¡ç†è€…çš„èŒè´£ï¼Œæ˜¯æä¾›æœºä¼šã€æŒ‡æ˜æ–¹å‘ã€åšå¥½ç­›é€‰ï¼Œè€Œä¸æ˜¯â€œä¸€ç¢—æ°´ç«¯å¹³â€åœ°å¹³å‡ç”¨åŠ›ã€‚æƒ³é€šè¿™ä¸€ç‚¹ï¼Œä¾¿ä¸å†çº ç»“â€”â€”èŒåœºï¼Œæœ¬å°±ä¸æ˜¯å®Œå…¨å…¬å¹³çš„ã€‚</p>
<h4 data-id="heading-6"><strong>ä¸ƒã€æˆå¹´äººçš„å­¦ä¹ ï¼šåªèƒ½å’Œè‡ªå·±è¾ƒåŠ²</strong></h4>
<p>ç¦»å¼€å­¦æ ¡åï¼Œå­¦ä¹ å˜æˆäº†çº¯ç²¹ä¸ºè‡ªå·±çš„äº‹ä¸šã€‚<strong>å¯¹çŸ¥è¯†çš„æ¸´æœ›ï¼Œä»æœªå¦‚æ­¤å¼ºçƒˆå’Œå…·ä½“ã€‚</strong> å­¦ä¹ ã€æ€»ç»“ã€æ€è€ƒã€æ¨¡ä»¿ã€è¡ŒåŠ¨ã€å¤ç›˜â€”â€”è¿™æ˜¯æ™®é€šäººè¿›é˜¶æœ€æ‰å®çš„è·¯å¾„ã€‚è‹¥æœ‰é«˜äººæŒ‡ç‚¹ï¼Œåˆ™æ˜¯å¹¸è¿ã€‚</p>
<p>æ›´æ·±çš„æ„Ÿè§¦æ˜¯ï¼Œ<strong>æˆå¹´åï¼Œä½ å·²ç»æ²¡æœ‰æ˜ç¡®çš„å¯¹æ‰‹äº†ã€‚</strong> çœŸæ­£çš„ç«èµ›ï¼Œæ˜¯ä¸è‡ªå·±çš„è¾ƒé‡ï¼šå’Œè¿‡å»çš„è®¤çŸ¥è¾ƒé‡ï¼Œå’Œç°åœ¨çš„æƒ°æ€§è¾ƒé‡ã€‚è¿™ç§â€œè‡ªå·±é€¼è‡ªå·±â€çš„æ„Ÿè§‰ï¼Œè¶Šå‘å¼ºçƒˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/694b43293d8f42e983755cf6870fc854~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649772&amp;x-signature=VG0RFqHu6PSbD3ueNm38xQjGSZw%3D" alt="" loading="lazy"/></p>
<p>è€å®¶çš„å¤§å±±</p>
<h4 data-id="heading-7"><strong>å…«ã€ç ´è§£ç„¦è™‘çš„å”¯ä¸€æ³•é—¨ï¼šç«‹å³è¡ŒåŠ¨</strong></h4>
<p>äº‹ä¸€å¤šï¼Œå°±æ˜“ç„¦è™‘ã€‚æˆ‘æœ€è¿‘æ‰å½»åº•é¢†æ‚Ÿï¼š<strong>ç„¦è™‘çš„æ ¹æºï¼Œå¾€å¾€æ˜¯â€œæœªå¼€å§‹â€</strong> ã€‚</p>
<p>æ¯”å¦‚ä¸€ä»¶å‘¨å››è¦äº¤å·®çš„äº‹ï¼Œå¦‚æœå‘¨ä¸€ä¸åŠ¨ï¼Œé‚£ä¹ˆç„¦è™‘æ„Ÿå°±ä¼šä»å‘¨ä¸€æŒç»­åˆ°å‘¨å››ã€‚å¦‚æœåœ¨å‘¨ä¸€å°±å…¨åŠ›å®Œæˆï¼Œé‚£ä¹ˆå‰©ä¸‹çš„ä¸‰å¤©å°±æ˜¯å®Œå…¨çš„è½»æ¾ã€‚</p>
<p><strong>æ‹–å»¶ä¼šæ”¾å¤§ç„¦è™‘ï¼Œè€Œè¡ŒåŠ¨æ˜¯å”¯ä¸€çš„è§£è¯ã€‚</strong> è¿™ä¹Ÿå¯ä»¥ç†è§£ä¸ºæœ€æœ´ç´ çš„â€œæ‰§è¡ŒåŠ›â€æˆ–â€œçŸ¥è¡Œåˆä¸€â€ã€‚äº‹åœ¨äººä¸ºï¼Œåšåˆ™å¿…è¾¾ã€‚</p>
<h4 data-id="heading-8"><strong>ä¹ã€æŒèˆµçš„å‹åŠ›ï¼šæ²¡æœ‰å›å¤´è·¯</strong></h4>
<p>å¸¦å›¢é˜Ÿåï¼Œæ‰çŸ¥â€œå¤§å¤´å…µâ€çš„å¹¸ç¦ã€‚å†™ä»£ç æ˜¯å¤šä¹ˆå•çº¯å¿«ä¹çš„äº‹ï¼Œåªéœ€è¦å¯¹ä»£ç è´Ÿè´£ã€‚</p>
<p>ä½†æˆ‘æ¸…æ¥šï¼Œ<strong>åªåšæ‰§è¡Œè€…ï¼Œå·²ä¸æ˜¯æˆ‘è¿™ä¸ªé˜¶æ®µçš„æœ€ä¼˜è§£ã€‚</strong> æˆ‘å¿…é¡»å­¦ä¹ æŒèˆµã€‚å‹åŠ›å½“ç„¶æ›´å¤§ï¼Œè¦é¢å¯¹æ— æ•°å·²çŸ¥å’ŒæœªçŸ¥çš„é—®é¢˜ã€‚ç¼ºä¹æ–¹æ³•è®ºï¼Œå°±åªèƒ½å¤šæ€»ç»“ã€å¤šå­¦ä¹ ã€‚<strong>åŸåœ°è¸æ­¥ï¼Œåœ¨ç®¡ç†å²—ä½ä¸Šæ„å‘³ç€å¿«é€Ÿå€’é€€ã€‚</strong></p>
<h4 data-id="heading-9"><strong>åã€ä¸€äº›æ¨¡ç³Šçš„ç›´è§‰ï¼Œå€¼å¾—è¢«é‡è§†</strong></h4>
<p>æˆ‘å¶å°”ä¼šæ•é”åœ°å¯Ÿè§‰åˆ°é¡¹ç›®ä¸­æŸäº›æ½œåœ¨é£é™©æˆ–æœºä¼šï¼Œä½†æœ‰æ—¶å› è§‰å¾—â€œä¸ä¸€å®šå‘ç”Ÿâ€æˆ–â€œä¸æ˜ç¡®â€è€Œæç½®ï¼Œæœ€ç»ˆé”™å¤±è‰¯æœºã€‚</p>
<p>è¿™æˆ–è®¸æ˜¯ä¸€ç§ç®¡ç†çš„â€œå¢¨è²å®šå¾‹â€ï¼š<strong>ä½ æ¨¡ç³Šæ‹…å¿§çš„åäº‹ï¼Œå¾€å¾€çœŸçš„ä¼šå‘ç”Ÿã€‚</strong> é‚£äº›éšçº¦çš„ç›´è§‰ï¼Œæˆ–è®¸æ˜¯åŸºäºç»éªŒçš„æ½œåœ¨åˆ¤æ–­ï¼Œå€¼å¾—è¢«æ›´è®¤çœŸåœ°å¯¹å¾…å’ŒéªŒè¯ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e22fee8fed5480082f6e445b5d7524e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649772&amp;x-signature=v%2FhRwN1Y7lTcHxTL4QEIPhTTbcY%3D" alt="" loading="lazy"/></p>
<p>å¤œæ™¯æ´ªå´–æ´ï¼Œå’ŒåŒäº‹ä¸‹ç­å»æ‹æ‘„çš„</p>
<h4 data-id="heading-10"><strong>å†™åœ¨æœ€åï¼šä¸€å¹´æ¥çš„è‡ªæˆ‘æ‰“ç ´</strong></h4>
<p>è¿™ä¸€å¹´ï¼Œæˆ‘ä¸»åŠ¨æ‰“ç ´äº†è®¸å¤šâ€œè‡ªæˆ‘è®¾é™â€ã€‚</p>
<p>æ¯”å¦‚ï¼Œæ›¾åšä¿¡è‡ªå·±â€œå†…å‘â€ï¼Œå› è€Œé€ƒé¿æ‰€æœ‰å…¬å¼€è¡¨è¾¾ã€‚åæ¥å‘ç°ï¼Œè¿™ä¸è¿‡æ˜¯è‡ªæˆ‘ç¦é”¢çš„å£³ã€‚<strong>äººçš„æ€§æ ¼æ˜¯æµåŠ¨çš„ï¼Œåˆ«ç”¨æ ‡ç­¾é”æ­»è‡ªå·±ã€‚</strong></p>
<p><strong>å‡ ä¸ªè®©æˆ‘å—ç”¨çš„ä¿¡å¿µï¼Œä¹Ÿåˆ†äº«ç»™ä½ ï¼š</strong></p>
<ol>
<li>ä¸–ç•Œæ˜¯ä¸ªâ€œå·¨å¤§çš„è‰å°ç­å­â€ï¼Œå‹‡æ•¢ä¸€ç‚¹ã€‚</li>
<li>ç»å¸¸é—®è‡ªå·±ï¼šâ€œä½ è¦æ˜¯ä¸è¡Œï¼Œè°è¿˜è¡Œï¼Ÿâ€</li>
<li><strong>å°±äº‹è®ºäº‹ï¼Œå¯¹äº‹ä¸å¯¹äººã€‚</strong> è¿™æ˜¯è®©è‡ªå·±æƒ…ç»ªç¨³å®šã€ä¸“ä¸šé«˜æ•ˆçš„é‡è¦æ³•åˆ™ã€‚</li>
</ol>
<p>å¦‚æœæ—©äº›æ‡‚å¾—è¿™äº›ï¼Œæˆ‘çš„èŒä¸šè·¯å¾„æˆ–è®¸ä¼šæ›´å¼€é˜”ã€‚</p>
<p><strong>æ—¢å¾€ä¸æ‹ï¼Œå½“ä¸‹ä¸æ‚ï¼Œæœªæ¥ä¸è¿ã€‚</strong></p>
<p>å†™ä¸‹è¿™äº›ï¼Œä½œä¸ºä¸€å‘¨å¹´çš„çºªå¿µã€‚å·¥ä½œè¿‘åå¹´ï¼Œè¶Šå‘æ„Ÿåˆ°ï¼š<strong>ä¸å…¶è¢«äººæ¨ç€èµ°ï¼Œä¸å¦‚è‡ªå·±æŒå¥½èˆµã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de35999a94a8410ab5198c9108624621~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765649772&amp;x-signature=n9fxYTpIa6y3uNlzW%2FDVnXdQ52I%3D" alt="" loading="lazy"/></p>
<p>é‡åº†å¤œæ™¯è¿˜æ˜¯å¾ˆæ¼‚äº®ï¼Œçƒ­çˆ±å·¥ä½œçƒ­çˆ±ç”Ÿæ´»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é•¿æ—¶é—´è¿è¡Œ agents çš„æœ‰æ•ˆ harness]]></title>    <link>https://juejin.cn/post/7580312375372218408</link>    <guid>https://juejin.cn/post/7580312375372218408</guid>    <pubDate>2025-12-06T17:15:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580312375372218408" data-draft-id="7580278296837914658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é•¿æ—¶é—´è¿è¡Œ agents çš„æœ‰æ•ˆ harness"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2025-12-06T17:15:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯é­”ä¸¸å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/3217622495411292"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é•¿æ—¶é—´è¿è¡Œ agents çš„æœ‰æ•ˆ harness
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3217622495411292/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯é­”ä¸¸å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T17:15:27.000Z" title="Sat Dec 06 2025 17:15:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Feffective-harnesses-for-long-running-agents" target="_blank" title="https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents" ref="nofollow noopener noreferrer">è½¬è½½</a></p>
<blockquote>
<p>HarnessåŸæ„æ˜¯é©¬å…·ï¼Œä»é©¬å…·æ§åˆ¶é©¬åŒ¹ï¼Œå¼•ç”³ä¸ºä¸€ä¸ªæ§åˆ¶å’Œç®¡ç†æ¡†æ¶ï¼Œç”¨äºå°è£…ã€å¼•å¯¼å’Œç›‘ç£AIä»£ç†çš„è¡Œä¸ºã€‚åæ–‡ä¸ºäº†ä¿æŒåŸæ„ï¼Œä½œä¸ºä¸“æœ‰åè¯ä¸ç¿»è¯‘äº†ã€‚</p>
</blockquote>
<p>éšç€ AI agents å˜å¾—æ›´åŠ å¼ºå¤§ï¼Œå¼€å‘è€…è¶Šæ¥è¶Šå¤šåœ°è¦æ±‚å®ƒä»¬æ‰¿æ‹…éœ€è¦è·¨è¶Šæ•°å°æ—¶ç”šè‡³æ•°å¤©å·¥ä½œçš„å¤æ‚ä»»åŠ¡ã€‚ç„¶è€Œï¼Œè®© agents åœ¨å¤šä¸ªä¸Šä¸‹æ–‡çª—å£ä¸­ä¿æŒä¸€è‡´çš„è¿›å±•ä»ç„¶æ˜¯ä¸€ä¸ªæ‚¬è€Œæœªå†³çš„é—®é¢˜ã€‚</p>
<p>é•¿æ—¶é—´è¿è¡Œ agents çš„æ ¸å¿ƒæŒ‘æˆ˜åœ¨äºï¼Œå®ƒä»¬å¿…é¡»åœ¨ç¦»æ•£çš„ä¼šè¯ä¸­å·¥ä½œï¼Œè€Œæ¯ä¸ªæ–°ä¼šè¯å¼€å§‹æ—¶å¯¹ä¹‹å‰å‘ç”Ÿçš„äº‹æƒ…æ²¡æœ‰ä»»ä½•è®°å¿†ã€‚æƒ³è±¡ä¸€ä¸ªç”±è½®ç­å·¥ç¨‹å¸ˆç»„æˆçš„è½¯ä»¶é¡¹ç›®ï¼Œæ¯ä¸ªæ–°æ¥çš„å·¥ç¨‹å¸ˆå¯¹ä¸Šä¸€ä¸ªç­æ¬¡å‘ç”Ÿçš„äº‹æƒ…æ¯«æ— è®°å¿†ã€‚ç”±äºä¸Šä¸‹æ–‡çª—å£æœ‰é™ï¼Œä¸”å¤§å¤šæ•°å¤æ‚é¡¹ç›®æ— æ³•åœ¨å•ä¸ªçª—å£å†…å®Œæˆï¼Œagents éœ€è¦ä¸€ç§æ–¹æ³•æ¥å¼¥åˆç¼–ç ä¼šè¯ä¹‹é—´çš„å·®è·ã€‚</p>
<p>æˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªåŒé‡è§£å†³æ–¹æ¡ˆï¼Œä½¿ Claude Agent SDK èƒ½å¤Ÿåœ¨è®¸å¤šä¸Šä¸‹æ–‡çª—å£ä¸­æœ‰æ•ˆå·¥ä½œï¼šä¸€ä¸ª<strong>initializer agent</strong>ï¼ˆåˆå§‹åŒ– agentï¼‰åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶è®¾ç½®ç¯å¢ƒï¼Œä»¥åŠä¸€ä¸ª<strong>coding agent</strong>ï¼ˆç¼–ç  agentï¼‰åœ¨æ¯ä¸ªä¼šè¯ä¸­å–å¾—å¢é‡è¿›å±•ï¼ŒåŒæ—¶ä¸ºä¸‹ä¸€ä¸ªä¼šè¯ç•™ä¸‹æ¸…æ™°çš„å·¥ä»¶ã€‚æ‚¨å¯ä»¥åœ¨é™„å¸¦çš„å¿«é€Ÿå…¥é—¨æŒ‡å—ä¸­æ‰¾åˆ°ä»£ç ç¤ºä¾‹ã€‚</p>
<h2 data-id="heading-0">é•¿æ—¶é—´è¿è¡Œ agent çš„é—®é¢˜</h2>
<p>Claude Agent SDK æ˜¯ä¸€ä¸ªå¼ºå¤§ã€é€šç”¨çš„ agent harnessï¼Œä¸ä»…æ“…é•¿ç¼–ç ï¼Œè¿˜æ“…é•¿å…¶ä»–éœ€è¦æ¨¡å‹ä½¿ç”¨å·¥å…·æ¥æ”¶é›†ä¸Šä¸‹æ–‡ã€è§„åˆ’å’Œæ‰§è¡Œçš„ä»»åŠ¡ã€‚å®ƒå…·å¤‡ä¸Šä¸‹æ–‡ç®¡ç†åŠŸèƒ½ï¼Œå¦‚å‹ç¼©ï¼ˆcompactionï¼‰ï¼Œè¿™ä½¿å¾— agent èƒ½å¤Ÿåœ¨ä¸è€—å°½ä¸Šä¸‹æ–‡çª—å£çš„æƒ…å†µä¸‹ç»§ç»­å·¥ä½œã€‚ç†è®ºä¸Šï¼Œåœ¨è¿™ç§è®¾ç½®ä¸‹ï¼Œagent åº”è¯¥èƒ½å¤ŸæŒç»­è¿›è¡Œæœ‰ç”¨çš„å·¥ä½œï¼Œæ—¶é—´å¯é•¿è¾¾ä»»æ„ç¨‹åº¦ã€‚</p>
<p>ç„¶è€Œï¼Œä»…é å‹ç¼©æ˜¯ä¸å¤Ÿçš„ã€‚å¼€ç®±å³ç”¨çš„æƒ…å†µä¸‹ï¼Œå³ä½¿æ˜¯åƒ Opus 4.5 è¿™æ ·çš„å‰æ²¿ç¼–ç æ¨¡å‹ï¼Œåœ¨ Claude Agent SDK ä¸Šè·¨å¤šä¸ªä¸Šä¸‹æ–‡çª—å£å¾ªç¯è¿è¡Œæ—¶ï¼Œå¦‚æœåªç»™å®ƒä¸€ä¸ªé«˜çº§æç¤ºï¼Œå¦‚"æ„å»ºä¸€ä¸ª claude.ai çš„å…‹éš†ç‰ˆ"ï¼Œä¹Ÿæ— æ³•æ„å»ºå‡ºç”Ÿäº§è´¨é‡çš„ç½‘ç»œåº”ç”¨ç¨‹åºã€‚</p>
<p>Claude çš„å¤±è´¥è¡¨ç°ä¸ºä¸¤ç§æ¨¡å¼ã€‚é¦–å…ˆï¼Œagent å€¾å‘äºä¸€æ¬¡æ€§åšå¤ªå¤šäº‹æƒ…â€”â€”æœ¬è´¨ä¸Šæ˜¯è¯•å›¾ä¸€ä¸¾å®Œæˆæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™å¾€å¾€å¯¼è‡´æ¨¡å‹åœ¨å®ç°è¿‡ç¨‹ä¸­è€—å°½ä¸Šä¸‹æ–‡ï¼Œç•™ç»™ä¸‹ä¸€ä¸ªä¼šè¯ä¸€ä¸ªåŠŸèƒ½åŠå®ç°ä¸”æœªè®°å½•çš„æ··ä¹±çŠ¶æ€ã€‚ç„¶åï¼Œagent å¿…é¡»çŒœæµ‹å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå¹¶èŠ±è´¹å¤§é‡æ—¶é—´è¯•å›¾è®©åŸºæœ¬åº”ç”¨ç¨‹åºé‡æ–°è¿è¡Œã€‚å³ä½¿æœ‰å‹ç¼©åŠŸèƒ½ï¼Œè¿™ç§æƒ…å†µä¾ç„¶ä¼šå‘ç”Ÿï¼Œå› ä¸ºå‹ç¼©å¹¶ä¸æ€»æ˜¯èƒ½å‘ä¸‹ä¸€ä¸ª agent ä¼ é€’å®Œå…¨æ¸…æ™°çš„æŒ‡ä»¤ã€‚</p>
<p>ç¬¬äºŒç§å¤±è´¥æ¨¡å¼é€šå¸¸åœ¨é¡¹ç›®åæœŸå‡ºç°ã€‚åœ¨å·²ç»æ„å»ºäº†ä¸€äº›åŠŸèƒ½åï¼Œåç»­çš„ agent å®ä¾‹ä¼šç¯é¡¾å››å‘¨ï¼Œçœ‹åˆ°å·²ç»å–å¾—äº†è¿›å±•ï¼Œå°±è‰ç‡åœ°å®£å¸ƒä»»åŠ¡å®Œæˆã€‚</p>
<p>è¿™æŠŠé—®é¢˜åˆ†è§£ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªåˆå§‹ç¯å¢ƒï¼Œä¸ºç»™å®šæç¤ºæ‰€éœ€çš„<strong>æ‰€æœ‰</strong>åŠŸèƒ½å¥ å®šåŸºç¡€ï¼Œè¿™ä¸º agent é€æ­¥ã€é€ä¸ªåŠŸèƒ½åœ°å·¥ä½œåšå¥½äº†å‡†å¤‡ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬åº”è¯¥æç¤ºæ¯ä¸ª agent æœç€å…¶ç›®æ ‡å–å¾—å¢é‡è¿›å±•ï¼ŒåŒæ—¶åœ¨ä¼šè¯ç»“æŸæ—¶å°†ç¯å¢ƒä¿æŒåœ¨å¹²å‡€çŠ¶æ€ã€‚æ‰€è°“"å¹²å‡€çŠ¶æ€"ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯é€‚åˆåˆå¹¶åˆ°ä¸»åˆ†æ”¯çš„ä»£ç ï¼šæ²¡æœ‰é‡å¤§é”™è¯¯ï¼Œä»£ç æœ‰åºä¸”æ–‡æ¡£å®Œå–„ï¼Œæ€»ä½“ä¸Šï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾å¼€å§‹æ–°åŠŸèƒ½çš„å·¥ä½œï¼Œè€Œæ— éœ€å…ˆæ¸…ç†æ— å…³çš„é—ç•™é—®é¢˜ã€‚</p>
<p>åœ¨å†…éƒ¨å®éªŒæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤éƒ¨åˆ†è§£å†³æ–¹æ¡ˆè§£å†³äº†è¿™äº›é—®é¢˜ï¼š</p>
<ol>
<li><strong>Initializer agent</strong>ï¼šç¬¬ä¸€ä¸ª agent ä¼šè¯ä½¿ç”¨ä¸“é—¨çš„æç¤ºï¼Œè¦æ±‚æ¨¡å‹è®¾ç½®åˆå§‹ç¯å¢ƒï¼šä¸€ä¸ª <code>init.sh</code> è„šæœ¬ã€ä¸€ä¸ªè®°å½• agents æ‰€åšå·¥ä½œçš„ claude-progress.txt æ–‡ä»¶ï¼Œä»¥åŠä¸€ä¸ªæ˜¾ç¤ºæ·»åŠ äº†ä»€ä¹ˆæ–‡ä»¶çš„åˆå§‹ git æäº¤ã€‚</li>
<li><strong>Coding agent</strong>ï¼šæ¯ä¸ªåç»­ä¼šè¯è¦æ±‚æ¨¡å‹å–å¾—å¢é‡è¿›å±•ï¼Œç„¶åç•™ä¸‹ç»“æ„åŒ–æ›´æ–°ã€‚</li>
</ol>
<p>è¿™é‡Œçš„å…³é”®æ´å¯Ÿåœ¨äºæ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œè®© agents åœ¨ä»å¤´å¼€å§‹çš„ä¸Šä¸‹æ–‡çª—å£ä¸­èƒ½å¤Ÿå¿«é€Ÿç†è§£å·¥ä½œçŠ¶æ€ï¼Œè¿™é€šè¿‡ claude-progress.txt æ–‡ä»¶ä¸ git å†å²è®°å½•é…åˆå®ç°ã€‚è¿™äº›å®è·µçš„çµæ„Ÿæ¥æºäºäº†è§£ä¼˜ç§€è½¯ä»¶å·¥ç¨‹å¸ˆçš„æ—¥å¸¸å·¥ä½œä¹ æƒ¯ã€‚</p>
<h2 data-id="heading-1">ç¯å¢ƒç®¡ç†</h2>
<p>åœ¨æ›´æ–°çš„ Claude 4 æç¤ºæŒ‡å—ä¸­ï¼Œæˆ‘ä»¬åˆ†äº«äº†ä¸€äº›å¤šä¸Šä¸‹æ–‡çª—å£å·¥ä½œæµç¨‹çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬ä¸€ä¸ªä½¿ç”¨"å¯¹ç¬¬ä¸€ä¸ªä¸Šä¸‹æ–‡çª—å£ä½¿ç”¨ä¸åŒæç¤º"çš„ harness ç»“æ„ã€‚è¿™ä¸ª"ä¸åŒæç¤º"è¦æ±‚ initializer agent è®¾ç½®ç¯å¢ƒï¼ŒåŒ…å«æœªæ¥ coding agents æœ‰æ•ˆå·¥ä½œæ‰€éœ€çš„æ‰€æœ‰å¿…è¦ä¸Šä¸‹æ–‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ·±å…¥æ¢è®¨è¿™ç§ç¯å¢ƒçš„ä¸€äº›å…³é”®ç»„ä»¶ã€‚</p>
<h3 data-id="heading-2">åŠŸèƒ½åˆ—è¡¨</h3>
<p>ä¸ºäº†è§£å†³ agent è¯•å›¾ä¸€æ¬¡æ€§å®Œæˆåº”ç”¨ç¨‹åºæˆ–è¿‡æ—©è®¤ä¸ºé¡¹ç›®å®Œæˆçš„é—®é¢˜ï¼Œæˆ‘ä»¬æç¤º initializer agent ç¼–å†™ä¸€ä¸ªå…¨é¢çš„åŠŸèƒ½éœ€æ±‚æ–‡ä»¶ï¼Œæ‰©å±•ç”¨æˆ·çš„åˆå§‹æç¤ºã€‚åœ¨ claude.ai å…‹éš†ç¤ºä¾‹ä¸­ï¼Œè¿™æ„å‘³ç€è¶…è¿‡ 200 ä¸ªåŠŸèƒ½ï¼Œå¦‚"ç”¨æˆ·å¯ä»¥æ‰“å¼€æ–°èŠå¤©ã€è¾“å…¥æŸ¥è¯¢ã€æŒ‰å›è½¦é”®å¹¶çœ‹åˆ° AI å“åº”"ã€‚è¿™äº›åŠŸèƒ½æœ€åˆéƒ½æ ‡è®°ä¸º"å¤±è´¥"ï¼Œä»¥ä¾¿åç»­çš„ coding agents èƒ½å¤Ÿæ¸…æ¥šåœ°äº†è§£å®Œæ•´åŠŸèƒ½åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"functional"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"New chat button creates a fresh conversation"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"steps"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"Navigate to main interface"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Click the 'New Chat' button"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Verify a new conversation is created"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Check that chat area shows welcome state"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"Verify conversation appears in sidebar"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"passes"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
  <span class="hljs-punctuation">}</span>
</code></pre>
<p>æˆ‘ä»¬æç¤º coding agents ä»…é€šè¿‡æ›´æ”¹ <code>passes</code> å­—æ®µçš„çŠ¶æ€æ¥ç¼–è¾‘æ­¤æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨æªè¾å¼ºçƒˆçš„æŒ‡ä»¤ï¼Œå¦‚"åˆ é™¤æˆ–ç¼–è¾‘æµ‹è¯•æ˜¯ä¸å¯æ¥å—çš„ï¼Œå› ä¸ºè¿™å¯èƒ½å¯¼è‡´åŠŸèƒ½ç¼ºå¤±æˆ–é”™è¯¯"ã€‚ç»è¿‡ä¸€äº›å®éªŒï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ JSON æ ¼å¼ï¼Œå› ä¸ºä¸ Markdown æ–‡ä»¶ç›¸æ¯”ï¼Œæ¨¡å‹ä¸å¤ªå¯èƒ½ä¸å½“æ›´æ”¹æˆ–è¦†ç›– JSON æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-3">å¢é‡è¿›å±•</h3>
<p>åŸºäºè¿™ç§åˆå§‹ç¯å¢ƒè„šæ‰‹æ¶ï¼Œcoding agent çš„åç»­è¿­ä»£è¢«è¦æ±‚ä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªåŠŸèƒ½ã€‚è¿™ç§å¢é‡æ–¹æ³•è¢«è¯æ˜æ˜¯è§£å†³ agent å€¾å‘äºä¸€æ¬¡æ€§åšå¤ªå¤šé—®é¢˜çš„å…³é”®ã€‚</p>
<p>ä¸€æ—¦å¼€å§‹å¢é‡å·¥ä½œï¼Œæ¨¡å‹åœ¨è¿›è¡Œä»£ç æ›´æ”¹åä»éœ€è¦å°†ç¯å¢ƒä¿æŒåœ¨å¹²å‡€çŠ¶æ€ï¼Œè¿™ä¸€ç‚¹ä»ç„¶è‡³å…³é‡è¦ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬å‘ç°å¼•å‘è¿™ç§è¡Œä¸ºçš„æœ€æœ‰æ•ˆæ–¹å¼æ˜¯è¦æ±‚æ¨¡å‹å°†å…¶è¿›å±•ä»¥æè¿°æ€§çš„æäº¤æ¶ˆæ¯æäº¤åˆ° gitï¼Œå¹¶åœ¨è¿›åº¦æ–‡ä»¶ä¸­å†™ä¸‹å·¥ä½œæ‘˜è¦ã€‚è¿™ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿä½¿ç”¨ git æ¥æ¢å¤é”™è¯¯çš„ä»£ç æ›´æ”¹å¹¶æ¢å¤ä»£ç åº“çš„å·¥ä½œçŠ¶æ€ã€‚</p>
<p>è¿™äº›æ–¹æ³•è¿˜æé«˜äº†æ•ˆç‡ï¼Œå› ä¸ºå®ƒä»¬æ¶ˆé™¤äº† agent çŒœæµ‹å‘ç”Ÿäº†ä»€ä¹ˆå¹¶èŠ±è´¹æ—¶é—´è¯•å›¾è®©åŸºæœ¬åº”ç”¨ç¨‹åºé‡æ–°è¿è¡Œçš„éœ€è¦ã€‚</p>
<h3 data-id="heading-4">æµ‹è¯•</h3>
<p>æˆ‘ä»¬è§‚å¯Ÿåˆ°çš„æœ€åä¸€ä¸ªä¸»è¦å¤±è´¥æ¨¡å¼æ˜¯ Claude åœ¨æ²¡æœ‰é€‚å½“æµ‹è¯•çš„æƒ…å†µä¸‹å°±å°†åŠŸèƒ½æ ‡è®°ä¸ºå®Œæˆçš„å€¾å‘ã€‚åœ¨æ²¡æœ‰æ˜ç¡®æç¤ºçš„æƒ…å†µä¸‹ï¼ŒClaude å€¾å‘äºè¿›è¡Œä»£ç æ›´æ”¹ï¼Œç”šè‡³é€šè¿‡å•å…ƒæµ‹è¯•æˆ–é’ˆå¯¹å¼€å‘æœåŠ¡å™¨çš„ <code>curl</code> å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼Œä½†æœªèƒ½è¯†åˆ«åŠŸèƒ½ç«¯åˆ°ç«¯ä¸å·¥ä½œçš„é—®é¢˜ã€‚</p>
<p>åœ¨æ„å»ºç½‘ç»œåº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹ï¼Œä¸€æ—¦æ˜ç¡®æç¤ºä½¿ç”¨æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·å¹¶åƒäººç±»ç”¨æˆ·ä¸€æ ·è¿›è¡Œæ‰€æœ‰æµ‹è¯•ï¼ŒClaude åœ¨ç«¯åˆ°ç«¯éªŒè¯åŠŸèƒ½æ–¹é¢è¡¨ç°è‰¯å¥½ã€‚</p>
<p><img src="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Ff94c2257964fb2d623f1e81f874977ebfc0986bc-1920x1080.gif&amp;w=3840&amp;q=75" alt="" loading="lazy"/></p>
<p>Claude é€šè¿‡ Puppeteer MCP æœåŠ¡å™¨æµ‹è¯• claude.ai å…‹éš†æ—¶æ‹æ‘„çš„æˆªå›¾ã€‚</p>
<p>ä¸º Claude æä¾›è¿™äº›ç±»å‹çš„æµ‹è¯•å·¥å…·æ˜¾è‘—æé«˜äº†æ€§èƒ½ï¼Œå› ä¸º agent èƒ½å¤Ÿè¯†åˆ«å¹¶ä¿®å¤ä»ä»£ç æœ¬èº«çœ‹ä¸å‡ºçš„é”™è¯¯ã€‚</p>
<p>ä»ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ Claude è§†è§‰èƒ½åŠ›å’Œæµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·çš„å±€é™æ€§ï¼Œä½¿å…¶éš¾ä»¥è¯†åˆ«æ¯ç§ç±»å‹çš„é”™è¯¯ã€‚ä¾‹å¦‚ï¼ŒClaude æ— æ³•é€šè¿‡ Puppeteer MCP çœ‹åˆ°æµè§ˆå™¨åŸç”Ÿçš„è­¦å‘Šæ¨¡æ€æ¡†ï¼Œä¾èµ–è¿™äº›æ¨¡æ€æ¡†çš„åŠŸèƒ½å› æ­¤å¾€å¾€å­˜åœ¨æ›´å¤šé”™è¯¯ã€‚</p>
<h2 data-id="heading-5">å¿«é€Ÿäº†è§£æƒ…å†µ</h2>
<p>æœ‰äº†ä»¥ä¸Šæ‰€æœ‰è®¾ç½®ï¼Œæ¯ä¸ª coding agent éƒ½è¢«æç¤ºè¿è¡Œä¸€ç³»åˆ—æ­¥éª¤æ¥äº†è§£æƒ…å†µï¼Œæœ‰äº›æ­¥éª¤ç›¸å½“åŸºæœ¬ä½†ä»ç„¶æœ‰å¸®åŠ©ï¼š</p>
<ol>
<li><strong>è¿è¡Œ <code>pwd</code> æŸ¥çœ‹æ‚¨æ­£åœ¨å·¥ä½œçš„ç›®å½•ã€‚æ‚¨åªèƒ½ç¼–è¾‘æ­¤ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</strong></li>
<li><strong>é˜…è¯» git æ—¥å¿—å’Œè¿›åº¦æ–‡ä»¶ï¼Œä»¥äº†è§£æœ€è¿‘çš„å·¥ä½œè¿›å±•ã€‚</strong></li>
<li><strong>é˜…è¯»åŠŸèƒ½åˆ—è¡¨æ–‡ä»¶ï¼Œé€‰æ‹©å°šæœªå®Œæˆçš„æœ€é«˜ä¼˜å…ˆçº§åŠŸèƒ½æ¥å¤„ç†ã€‚</strong></li>
</ol>
<p>è¿™ç§æ–¹æ³•ä¸º Claude åœ¨æ¯ä¸ªä¼šè¯ä¸­èŠ‚çœäº†ä¸€äº›ä»¤ç‰Œï¼Œå› ä¸ºå®ƒä¸å¿…é‡æ–°æ‘¸ç´¢å¦‚ä½•æµ‹è¯•ä»£ç ã€‚è¿˜æœ‰åŠ©äºè¦æ±‚ initializer agent ç¼–å†™ä¸€ä¸ªå¯ä»¥è¿è¡Œå¼€å‘æœåŠ¡å™¨çš„ <code>init.sh</code> è„šæœ¬ï¼Œç„¶ååœ¨å®ç°æ–°åŠŸèƒ½ä¹‹å‰è¿è¡ŒåŸºæœ¬çš„ç«¯åˆ°ç«¯æµ‹è¯•ã€‚</p>
<p>åœ¨ claude.ai å…‹éš†çš„æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€ agent æ€»æ˜¯å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨å¹¶ä½¿ç”¨ Puppeteer MCP å¼€å§‹æ–°èŠå¤©ã€å‘é€æ¶ˆæ¯å¹¶æ¥æ”¶å“åº”ã€‚è¿™ç¡®ä¿äº† Claude èƒ½å¤Ÿå¿«é€Ÿè¯†åˆ«åº”ç”¨ç¨‹åºæ˜¯å¦å¤„äºæŸåçŠ¶æ€ï¼Œå¹¶ç«‹å³ä¿®å¤ä»»ä½•ç°æœ‰é”™è¯¯ã€‚å¦‚æœ agent åè€Œå¼€å§‹å®ç°æ–°åŠŸèƒ½ï¼Œå¾ˆå¯èƒ½ä¼šä½¿é—®é¢˜æ¶åŒ–ã€‚</p>
<p>è€ƒè™‘åˆ°æ‰€æœ‰è¿™äº›ï¼Œå…¸å‹çš„ä¼šè¯ä»¥ä»¥ä¸‹åŠ©æ‰‹æ¶ˆæ¯å¼€å§‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">Assistant</span>] æˆ‘å°†é¦–å…ˆäº†è§£æƒ…å†µå¹¶ç†è§£é¡¹ç›®çš„å½“å‰çŠ¶æ€ã€‚
[<span class="hljs-meta">Tool Use</span>] &lt;bash - pwd&gt;
[<span class="hljs-meta">Tool Use</span>] &lt;read - claude-progress.txt&gt;
[<span class="hljs-meta">Tool Use</span>] &lt;read - feature_list.json&gt;
[<span class="hljs-meta">Assistant</span>] è®©æˆ‘æ£€æŸ¥ git æ—¥å¿—ä»¥æŸ¥çœ‹æœ€è¿‘çš„å·¥ä½œã€‚
[<span class="hljs-meta">Tool Use</span>] &lt;bash - git log --oneline <span class="hljs-number">-20</span>&gt;
[<span class="hljs-meta">Assistant</span>] ç°åœ¨è®©æˆ‘æ£€æŸ¥æ˜¯å¦æœ‰ <span class="hljs-keyword">init</span>.sh è„šæœ¬æ¥é‡å¯æœåŠ¡å™¨ã€‚
&lt;Starts the development server&gt;
[<span class="hljs-meta">Assistant</span>] å¤ªå¥½äº†ï¼ç°åœ¨è®©æˆ‘å¯¼èˆªåˆ°åº”ç”¨ç¨‹åºå¹¶éªŒè¯ä¸€äº›åŸºæœ¬åŠŸèƒ½æ˜¯å¦ä»åœ¨å·¥ä½œã€‚
&lt;Tests basic functionality&gt;
[<span class="hljs-meta">Assistant</span>] åŸºäºæˆ‘çš„éªŒè¯æµ‹è¯•ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°åŸºæœ¬åŠŸèƒ½è¿è¡Œè‰¯å¥½ã€‚æ ¸å¿ƒèŠå¤©åŠŸèƒ½ã€ä¸»é¢˜åˆ‡æ¢ã€ä¼šè¯åŠ è½½å’Œé”™è¯¯å¤„ç†éƒ½æ­£å¸¸å·¥ä½œã€‚ç°åœ¨è®©æˆ‘æ›´å…¨é¢åœ°æŸ¥çœ‹ tests.json æ–‡ä»¶ï¼Œä»¥äº†è§£æ¥ä¸‹æ¥éœ€è¦å®ç°ä»€ä¹ˆã€‚
&lt;Starts work <span class="hljs-keyword">on</span> a <span class="hljs-keyword">new</span> feature&gt;
</code></pre>
<h3 data-id="heading-6">Agent å¤±è´¥æ¨¡å¼å’Œè§£å†³æ–¹æ¡ˆ</h3>






























<table><thead><tr><th><strong>é—®é¢˜</strong></th><th><strong>Initializer Agent è¡Œä¸º</strong></th><th><strong>Coding Agent è¡Œä¸º</strong></th></tr></thead><tbody><tr><td>Claude è¿‡æ—©å®£å¸ƒæ•´ä¸ªé¡¹ç›®èƒœåˆ©ã€‚</td><td>è®¾ç½®åŠŸèƒ½åˆ—è¡¨æ–‡ä»¶ï¼šåŸºäºè¾“å…¥è§„èŒƒï¼Œå»ºç«‹ä¸€ä¸ªåŒ…å«ç«¯åˆ°ç«¯åŠŸèƒ½æè¿°åˆ—è¡¨çš„ç»“æ„åŒ– JSON æ–‡ä»¶ã€‚</td><td>åœ¨ä¼šè¯å¼€å§‹æ—¶é˜…è¯»åŠŸèƒ½åˆ—è¡¨æ–‡ä»¶ã€‚é€‰æ‹©å•ä¸ªåŠŸèƒ½å¼€å§‹å¤„ç†ã€‚</td></tr><tr><td>Claude å°†ç¯å¢ƒç•™åœ¨æœ‰é”™è¯¯æˆ–æœªè®°å½•è¿›å±•çš„çŠ¶æ€ã€‚</td><td>ç¼–å†™ä¸€ä¸ªåˆå§‹ git ä»“åº“å’Œè¿›åº¦ç¬”è®°æ–‡ä»¶ã€‚</td><td>åœ¨ä¼šè¯å¼€å§‹æ—¶é˜…è¯»è¿›åº¦ç¬”è®°æ–‡ä»¶å’Œ git æäº¤æ—¥å¿—ï¼Œå¹¶åœ¨å¼€å‘æœåŠ¡å™¨ä¸Šè¿è¡ŒåŸºæœ¬æµ‹è¯•ä»¥æ•è·ä»»ä½•æœªè®°å½•çš„é”™è¯¯ã€‚åœ¨ä¼šè¯ç»“æŸæ—¶ç¼–å†™ git æäº¤å’Œè¿›åº¦æ›´æ–°ã€‚</td></tr><tr><td>Claude è¿‡æ—©å°†åŠŸèƒ½æ ‡è®°ä¸ºå®Œæˆã€‚</td><td>è®¾ç½®åŠŸèƒ½åˆ—è¡¨æ–‡ä»¶ã€‚</td><td>è‡ªæˆ‘éªŒè¯æ‰€æœ‰åŠŸèƒ½ã€‚åªæœ‰åœ¨ä»”ç»†æµ‹è¯•åæ‰å°†åŠŸèƒ½æ ‡è®°ä¸º"é€šè¿‡"ã€‚</td></tr><tr><td>Claude å¿…é¡»èŠ±æ—¶é—´å¼„æ¸…æ¥šå¦‚ä½•è¿è¡Œåº”ç”¨ç¨‹åºã€‚</td><td>ç¼–å†™ä¸€ä¸ªå¯ä»¥è¿è¡Œå¼€å‘æœåŠ¡å™¨çš„ <code>init.sh</code> è„šæœ¬ã€‚</td><td>åœ¨ä¼šè¯å¼€å§‹æ—¶é˜…è¯» <code>init.sh</code>ã€‚</td></tr></tbody></table>
<p>æ€»ç»“äº†é•¿æ—¶é—´è¿è¡Œ AI agents ä¸­å››ç§å¸¸è§å¤±è´¥æ¨¡å¼å’Œè§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-7">æœªæ¥å·¥ä½œ</h2>
<p>è¿™é¡¹ç ”ç©¶å±•ç¤ºäº†åœ¨é•¿æ—¶é—´è¿è¡Œ agent harness ä¸­ä¸€å¥—å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨è®¸å¤šä¸Šä¸‹æ–‡çª—å£ä¸­å–å¾—å¢é‡è¿›å±•ã€‚ç„¶è€Œï¼Œä»ç„¶å­˜åœ¨æœªè§£å†³çš„é—®é¢˜ã€‚</p>
<p>æœ€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç›®å‰ä»ä¸æ¸…æ¥šå•ä¸€çš„é€šç”¨ coding agent æ˜¯å¦åœ¨æ‰€æœ‰ä¸Šä¸‹æ–‡ä¸­è¡¨ç°æœ€ä½³ï¼Œæˆ–è€…æ˜¯å¦å¯ä»¥é€šè¿‡å¤š agent æ¶æ„è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚çœ‹èµ·æ¥åˆç†çš„æƒ³æ³•æ˜¯ï¼Œä¸“é—¨çš„ agentsï¼Œå¦‚æµ‹è¯• agentã€è´¨é‡ä¿è¯ agent æˆ–ä»£ç æ¸…ç† agentï¼Œå¯ä»¥åœ¨è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„å­ä»»åŠ¡ä¸Šåšå¾—æ›´å¥½ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿™ä¸ªæ¼”ç¤ºé’ˆå¯¹å…¨æ ˆç½‘ç»œåº”ç”¨ç¨‹åºå¼€å‘è¿›è¡Œäº†ä¼˜åŒ–ã€‚æœªæ¥çš„ä¸€ä¸ªæ–¹å‘æ˜¯å°†è¿™äº›å‘ç°æ¨å¹¿åˆ°å…¶ä»–é¢†åŸŸã€‚è¿™äº›æ•™è®­ä¸­çš„ä¸€äº›æˆ–å…¨éƒ¨å¾ˆå¯èƒ½å¯ä»¥åº”ç”¨äºï¼Œä¾‹å¦‚ï¼Œç§‘å­¦ç ”ç©¶æˆ–é‡‘èå»ºæ¨¡ä¸­éœ€è¦çš„é•¿æ—¶é—´è¿è¡Œ agent ä»»åŠ¡ç±»å‹ã€‚</p>
<h3 data-id="heading-8">è‡´è°¢</h3>
<p>ç”± Justin Young æ’°å†™ã€‚ç‰¹åˆ«æ„Ÿè°¢ David Hersheyã€Prithvi Rajasakeranã€Jeremy Hadfieldã€Naia Bouscalã€Michael Tingleyã€Jesse Muã€Jake Eatonã€Marius Buleandaraã€Maggie Voã€Pedram Navidã€Nadine Yasser å’Œ Alex Notov çš„è´¡çŒ®ã€‚</p>
<p>è¿™é¡¹å·¥ä½œåæ˜ äº† Anthropic å¤šä¸ªå›¢é˜Ÿçš„é›†ä½“åŠªåŠ›ï¼Œè¿™äº›å›¢é˜Ÿä½¿ Claude èƒ½å¤Ÿå®‰å…¨åœ°è¿›è¡Œé•¿æ—¶ç¨‹è‡ªä¸»è½¯ä»¶å·¥ç¨‹ï¼Œç‰¹åˆ«æ˜¯ä»£ç  RL å’Œ Claude Code å›¢é˜Ÿã€‚æ¬¢è¿æœ‰å…´è¶£åšå‡ºè´¡çŒ®çš„å€™é€‰äººç”³è¯· anthropic.com/careersã€‚</p>
<h3 data-id="heading-9">è„šæ³¨</h3>
<ol>
<li>æˆ‘ä»¬åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­ç§°å®ƒä»¬ä¸ºç‹¬ç«‹çš„ agentsï¼Œä»…ä»…æ˜¯å› ä¸ºå®ƒä»¬æœ‰ä¸åŒçš„åˆå§‹ç”¨æˆ·æç¤ºã€‚ç³»ç»Ÿæç¤ºã€å·¥å…·é›†å’Œæ•´ä½“ agent harness åœ¨å…¶ä»–æ–¹é¢æ˜¯ç›¸åŒçš„ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude å¼€å‘è€…å¹³å°æ¨å‡ºé«˜çº§å·¥å…·ä½¿ç”¨åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7580295137395130383</link>    <guid>https://juejin.cn/post/7580295137395130383</guid>    <pubDate>2025-12-06T16:12:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580295137395130383" data-draft-id="7580312375372103720" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude å¼€å‘è€…å¹³å°æ¨å‡ºé«˜çº§å·¥å…·ä½¿ç”¨åŠŸèƒ½"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2025-12-06T16:12:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯é­”ä¸¸å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/3217622495411292"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude å¼€å‘è€…å¹³å°æ¨å‡ºé«˜çº§å·¥å…·ä½¿ç”¨åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3217622495411292/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯é­”ä¸¸å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T16:12:36.000Z" title="Sat Dec 06 2025 16:12:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fadvanced-tool-use" target="_blank" title="https://www.anthropic.com/engineering/advanced-tool-use" ref="nofollow noopener noreferrer">è½¬è½½</a></p>
<p>AI agents çš„æœªæ¥æ˜¯æ¨¡å‹èƒ½å¤Ÿæ— ç¼åœ°è·¨è¶Šæ•°ç™¾ç”šè‡³æ•°åƒä¸ªå·¥å…·è¿›è¡Œå·¥ä½œã€‚ä¸€ä¸ªé›†æˆäº† git æ“ä½œã€æ–‡ä»¶æ“ä½œã€åŒ…ç®¡ç†å™¨ã€æµ‹è¯•æ¡†æ¶å’Œéƒ¨ç½²æµæ°´çº¿çš„ IDE åŠ©æ‰‹ã€‚ä¸€ä¸ªåŒæ—¶è¿æ¥ Slackã€GitHubã€Google Driveã€Jiraã€å…¬å¸æ•°æ®åº“å’Œæ•°åä¸ª MCP æœåŠ¡å™¨çš„è¿è¥åè°ƒå™¨ã€‚</p>
<p>ä¸ºäº†æ„å»ºæœ‰æ•ˆçš„ agentsï¼Œå®ƒä»¬éœ€è¦èƒ½å¤Ÿä½¿ç”¨æ— é™çš„å·¥å…·åº“ï¼Œè€Œæ— éœ€é¢„å…ˆå°†æ¯ä¸ªå®šä¹‰éƒ½å¡«å……åˆ°ä¸Šä¸‹æ–‡ä¸­ã€‚æˆ‘ä»¬å…³äºä½¿ç”¨ MCP æ‰§è¡Œä»£ç çš„åšå®¢æ–‡ç« è®¨è®ºäº†å·¥å…·ç»“æœå’Œå®šä¹‰æœ‰æ—¶ä¼šåœ¨ agent è¯»å–è¯·æ±‚ä¹‹å‰æ¶ˆè€— 50,000+ ä¸ª tokenã€‚Agents åº”è¯¥æŒ‰éœ€å‘ç°å’ŒåŠ è½½å·¥å…·ï¼Œåªä¿ç•™ä¸å½“å‰ä»»åŠ¡ç›¸å…³çš„å†…å®¹ã€‚</p>
<p>Agents è¿˜éœ€è¦ä»ä»£ç ä¸­è°ƒç”¨å·¥å…·çš„èƒ½åŠ›ã€‚å½“ä½¿ç”¨è‡ªç„¶è¯­è¨€å·¥å…·è°ƒç”¨æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½éœ€è¦å®Œæ•´çš„æ¨ç†è¿‡ç¨‹ï¼Œä¸­é—´ç»“æœæ— è®ºæ˜¯å¦æœ‰ç”¨éƒ½ä¼šåœ¨ä¸Šä¸‹æ–‡ä¸­å †ç§¯ã€‚ä»£ç æ˜¯ç¼–æ’é€»è¾‘çš„è‡ªç„¶é€‰æ‹©ï¼Œä¾‹å¦‚å¾ªç¯ã€æ¡ä»¶å’Œæ•°æ®è½¬æ¢ã€‚Agents éœ€è¦æ ¹æ®æ‰‹å¤´çš„ä»»åŠ¡çµæ´»é€‰æ‹©ä»£ç æ‰§è¡Œå’Œæ¨ç†ã€‚</p>
<p>Agents è¿˜éœ€è¦ä»ç¤ºä¾‹ä¸­å­¦ä¹ æ­£ç¡®çš„å·¥å…·ä½¿ç”¨æ–¹æ³•ï¼Œè€Œä¸ä»…ä»…æ˜¯æ¨¡å¼å®šä¹‰ã€‚JSON æ¨¡å¼å®šä¹‰äº†ç»“æ„ä¸Šæœ‰æ•ˆçš„å†…å®¹ï¼Œä½†æ— æ³•è¡¨è¾¾ä½¿ç”¨æ¨¡å¼ï¼šä½•æ—¶åŒ…å«å¯é€‰å‚æ•°ã€å“ªäº›ç»„åˆæœ‰æ„ä¹‰ï¼Œæˆ–è€…æ‚¨çš„ API æœŸæœ›ä»€ä¹ˆçº¦å®šã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬æ¨å‡ºäº†ä¸‰ä¸ªå®ç°è¿™ä¸€ç›®æ ‡çš„åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>å·¥å…·æœç´¢å·¥å…·</strong>ï¼šå…è®¸ Claude ä½¿ç”¨æœç´¢å·¥å…·è®¿é—®æ•°åƒä¸ªå·¥å…·è€Œä¸ä¼šæ¶ˆè€—å…¶ä¸Šä¸‹æ–‡çª—å£</li>
<li><strong>ç¨‹åºåŒ–å·¥å…·è°ƒç”¨</strong>ï¼šå…è®¸ Claude åœ¨ä»£ç æ‰§è¡Œç¯å¢ƒä¸­è°ƒç”¨å·¥å…·ï¼Œå‡å°‘å¯¹æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£çš„å½±å“</li>
<li><strong>å·¥å…·ä½¿ç”¨ç¤ºä¾‹</strong>ï¼šä¸ºæ¼”ç¤ºå¦‚ä½•æœ‰æ•ˆä½¿ç”¨ç‰¹å®šå·¥å…·æä¾›äº†é€šç”¨æ ‡å‡†</li>
</ul>
<p>åœ¨å†…éƒ¨æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å‘ç°è¿™äº›åŠŸèƒ½å¸®åŠ©æˆ‘ä»¬æ„å»ºäº†ä½¿ç”¨ä¼ ç»Ÿå·¥å…·ä½¿ç”¨æ¨¡å¼æ— æ³•å®ç°çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œ<strong>Claude for Excel</strong> ä½¿ç”¨ç¨‹åºåŒ–å·¥å…·è°ƒç”¨è¯»å–å’Œä¿®æ”¹åŒ…å«æ•°åƒè¡Œçš„ç”µå­è¡¨æ ¼ï¼Œè€Œä¸ä¼šè¿‡è½½æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
<p>åŸºäºæˆ‘ä»¬çš„ç»éªŒï¼Œæˆ‘ä»¬ç›¸ä¿¡è¿™äº›åŠŸèƒ½ä¸ºæ‚¨å¯ä»¥ç”¨ Claude æ„å»ºçš„ä¸œè¥¿å¼€è¾Ÿäº†æ–°çš„å¯èƒ½æ€§ã€‚</p>
<h2 data-id="heading-0">å·¥å…·æœç´¢å·¥å…·</h2>
<h3 data-id="heading-1">æŒ‘æˆ˜</h3>
<p>MCP å·¥å…·å®šä¹‰æä¾›äº†é‡è¦çš„ä¸Šä¸‹æ–‡ï¼Œä½†éšç€æ›´å¤šæœåŠ¡å™¨çš„è¿æ¥ï¼Œè¿™äº› token ä¼šç´¯ç§¯èµ·æ¥ã€‚è€ƒè™‘ä¸€ä¸ªäº”æœåŠ¡å™¨è®¾ç½®ï¼š</p>
<ul>
<li>GitHubï¼š35 ä¸ªå·¥å…·ï¼ˆçº¦ 26K tokensï¼‰</li>
<li>Slackï¼š11 ä¸ªå·¥å…·ï¼ˆçº¦ 21K tokensï¼‰</li>
<li>Sentryï¼š5 ä¸ªå·¥å…·ï¼ˆçº¦ 3K tokensï¼‰</li>
<li>Grafanaï¼š5 ä¸ªå·¥å…·ï¼ˆçº¦ 3K tokensï¼‰</li>
<li>Splunkï¼š2 ä¸ªå·¥å…·ï¼ˆçº¦ 2K tokensï¼‰</li>
</ul>
<p>è¿™æ˜¯ 58 ä¸ªå·¥å…·åœ¨å¯¹è¯å¼€å§‹å‰æ¶ˆè€—çº¦ 55K tokensã€‚æ·»åŠ æ›´å¤šæœåŠ¡å™¨å¦‚ Jiraï¼ˆä»…å®ƒå°±ä½¿ç”¨çº¦ 17K tokensï¼‰ï¼Œæ‚¨å¾ˆå¿«å°±ä¼šæ¥è¿‘ 100K+ token çš„å¼€é”€ã€‚åœ¨ Anthropicï¼Œæˆ‘ä»¬çœ‹åˆ°ä¼˜åŒ–å‰å·¥å…·å®šä¹‰æ¶ˆè€—äº† 134K tokensã€‚</p>
<p>ä½† token æˆæœ¬ä¸æ˜¯å”¯ä¸€çš„é—®é¢˜ã€‚æœ€å¸¸è§çš„å¤±è´¥æ˜¯é”™è¯¯çš„å·¥å…·é€‰æ‹©å’Œä¸æ­£ç¡®çš„å‚æ•°ï¼Œç‰¹åˆ«æ˜¯å½“å·¥å…·æœ‰ç›¸ä¼¼åç§°æ—¶ï¼Œå¦‚ <code>notification-send-user</code> vs <code>notification-send-channel</code>ã€‚</p>
<h3 data-id="heading-2">æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>å·¥å…·æœç´¢å·¥å…·ä¸æ˜¯é¢„å…ˆåŠ è½½æ‰€æœ‰å·¥å…·å®šä¹‰ï¼Œè€Œæ˜¯æŒ‰éœ€å‘ç°å·¥å…·ã€‚Claude åªçœ‹åˆ°å®ƒå½“å‰ä»»åŠ¡å®é™…éœ€è¦çš„å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7bd2974ddf24aae8dcc59d00b29f821~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765642355&amp;x-signature=Zlhngw%2BL93tiIGHup6XT6542a7E%3D" alt="image.png" loading="lazy"/></p>
<p><em>ä¸ Claude ä¼ ç»Ÿæ–¹æ³•çš„ 122,800 tokens ç›¸æ¯”ï¼Œå·¥å…·æœç´¢å·¥å…·ä¿ç•™äº† 191,300 tokens çš„ä¸Šä¸‹æ–‡ã€‚</em></p>
<p>ä¼ ç»Ÿæ–¹æ³•ï¼š</p>
<ul>
<li>æ‰€æœ‰å·¥å…·å®šä¹‰é¢„å…ˆåŠ è½½ï¼ˆ50+ MCP å·¥å…·çº¦ 72K tokensï¼‰</li>
<li>å¯¹è¯å†å²å’Œç³»ç»Ÿæç¤ºç«äº‰å‰©ä½™ç©ºé—´</li>
<li>æ€»ä¸Šä¸‹æ–‡æ¶ˆè€—ï¼šå¼€å§‹ä»»ä½•å·¥ä½œå‰çº¦ 77K tokens</li>
</ul>
<p>ä½¿ç”¨å·¥å…·æœç´¢å·¥å…·ï¼š</p>
<ul>
<li>ä»…å·¥å…·æœç´¢å·¥å…·é¢„å…ˆåŠ è½½ï¼ˆçº¦ 500 tokensï¼‰</li>
<li>å·¥å…·æŒ‰éœ€å‘ç°ï¼ˆ3-5 ä¸ªç›¸å…³å·¥å…·ï¼Œçº¦ 3K tokensï¼‰</li>
<li>æ€»ä¸Šä¸‹æ–‡æ¶ˆè€—ï¼šçº¦ 8.7K tokensï¼Œä¿ç•™ 95% çš„ä¸Šä¸‹æ–‡çª—å£</li>
</ul>
<p>è¿™ä»£è¡¨äº† 85% çš„ token ä½¿ç”¨å‡å°‘ï¼ŒåŒæ—¶ä¿æŒå¯¹å®Œæ•´å·¥å…·åº“çš„è®¿é—®ã€‚å†…éƒ¨æµ‹è¯•æ˜¾ç¤ºï¼Œåœ¨ä½¿ç”¨å¤§å‹å·¥å…·åº“æ—¶ï¼ŒMCP è¯„ä¼°çš„å‡†ç¡®æ€§æ˜¾è‘—æé«˜ã€‚Opus 4 ä» 49% æé«˜åˆ° 74%ï¼ŒOpus 4.5 ä» 79.5% æé«˜åˆ° 88.1%ã€‚</p>
<h3 data-id="heading-3">å·¥å…·æœç´¢å·¥å…·çš„å·¥ä½œåŸç†</h3>
<p>å·¥å…·æœç´¢å·¥å…·è®© Claude åŠ¨æ€å‘ç°å·¥å…·ï¼Œè€Œä¸æ˜¯é¢„å…ˆåŠ è½½æ‰€æœ‰å®šä¹‰ã€‚æ‚¨å‘ API æä¾›æ‰€æœ‰å·¥å…·å®šä¹‰ï¼Œä½†ä½¿ç”¨ <code>defer_loading: true</code> æ ‡è®°å·¥å…·ä½¿å…¶å¯æŒ‰éœ€å‘ç°ã€‚å»¶è¿Ÿå·¥å…·æœ€åˆä¸ä¼šåŠ è½½åˆ° Claude çš„ä¸Šä¸‹æ–‡ä¸­ã€‚Claude åªçœ‹åˆ°å·¥å…·æœç´¢å·¥å…·æœ¬èº«ä»¥åŠä»»ä½•å¸¦æœ‰ <code>defer_loading: false</code> çš„å·¥å…·ï¼ˆæ‚¨æœ€å…³é”®ã€æœ€å¸¸ä½¿ç”¨çš„å·¥å…·ï¼‰ã€‚</p>
<p>å½“ Claude éœ€è¦ç‰¹å®šåŠŸèƒ½æ—¶ï¼Œå®ƒä¼šæœç´¢ç›¸å…³å·¥å…·ã€‚å·¥å…·æœç´¢å·¥å…·è¿”å›åŒ¹é…å·¥å…·çš„å¼•ç”¨ï¼Œè¿™äº›å¼•ç”¨ä¼šåœ¨ Claude çš„ä¸Šä¸‹æ–‡ä¸­å±•å¼€ä¸ºå®Œæ•´å®šä¹‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœ Claude éœ€è¦ä¸ GitHub äº¤äº’ï¼Œå®ƒä¼šæœç´¢ "github"ï¼Œåªæœ‰ <code>github.createPullRequest</code> å’Œ <code>github.listIssues</code> ä¼šè¢«åŠ è½½â€”â€”è€Œä¸æ˜¯æ‚¨æ¥è‡ª Slackã€Jira å’Œ Google Drive çš„å…¶ä»– 50+ å·¥å…·ã€‚</p>
<p>è¿™æ ·ï¼ŒClaude å¯ä»¥è®¿é—®æ‚¨çš„å®Œæ•´å·¥å…·åº“ï¼Œè€Œåªéœ€ä¸ºå…¶å®é™…éœ€è¦çš„å·¥å…·æ”¯ä»˜ token æˆæœ¬ã€‚</p>
<p><strong>æç¤ºç¼“å­˜è¯´æ˜ï¼š</strong> å·¥å…·æœç´¢å·¥å…·ä¸ä¼šç ´åæç¤ºç¼“å­˜ï¼Œå› ä¸ºå»¶è¿Ÿå·¥å…·å®Œå…¨ä»åˆå§‹æç¤ºä¸­æ’é™¤ã€‚å®ƒä»¬åªåœ¨ Claude æœç´¢å®ƒä»¬åæ‰æ·»åŠ åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œå› æ­¤æ‚¨çš„ç³»ç»Ÿæç¤ºå’Œæ ¸å¿ƒå·¥å…·å®šä¹‰ä¿æŒå¯ç¼“å­˜ã€‚</p>
<p><strong>å®ç°æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-comment">// åŒ…å«å·¥å…·æœç´¢å·¥å…·ï¼ˆregexã€BM25 æˆ–è‡ªå®šä¹‰ï¼‰</span>
    <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tool_search_tool_regex_20251119"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tool_search_tool_regex"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

    <span class="hljs-comment">// æ ‡è®°å·¥å…·ä»¥æŒ‰éœ€å‘ç°</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"github.createPullRequest"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Create a pull request"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"input_schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>...<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"defer_loading"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span>
    <span class="hljs-comment">// ... æ•°ç™¾ä¸ªå¸¦æœ‰ defer_loading: true çš„å»¶è¿Ÿå·¥å…·</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯¹äº MCP æœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥å»¶è¿ŸåŠ è½½æ•´ä¸ªæœåŠ¡å™¨ï¼ŒåŒæ—¶ä¿æŒç‰¹å®šé«˜ä½¿ç”¨å·¥å…·çš„åŠ è½½ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mcp_toolset"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mcp_server_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"google-drive"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"default_config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"defer_loading"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> # å»¶è¿ŸåŠ è½½æ•´ä¸ªæœåŠ¡å™¨
  <span class="hljs-attr">"configs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"search_files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
<span class="hljs-attr">"defer_loading"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span>  <span class="hljs-comment">// ä¿æŒæœ€å¸¸ç”¨çš„å·¥å…·åŠ è½½</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Claude å¼€å‘è€…å¹³å°å¼€ç®±å³ç”¨åœ°æä¾›åŸºäº regex å’Œ BM25 çš„æœç´¢å·¥å…·ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨åµŒå…¥æˆ–å…¶ä»–ç­–ç•¥å®ç°è‡ªå®šä¹‰æœç´¢å·¥å…·ã€‚</p>
<h3 data-id="heading-4">ä½•æ—¶ä½¿ç”¨å·¥å…·æœç´¢å·¥å…·</h3>
<p>åƒä»»ä½•æ¶æ„å†³ç­–ä¸€æ ·ï¼Œå¯ç”¨å·¥å…·æœç´¢å·¥å…·æ¶‰åŠæƒè¡¡ã€‚è¯¥åŠŸèƒ½åœ¨å·¥å…·è°ƒç”¨ä¹‹å‰æ·»åŠ äº†æœç´¢æ­¥éª¤ï¼Œå› æ­¤å½“ä¸Šä¸‹æ–‡èŠ‚çœå’Œå‡†ç¡®æ€§æ”¹è¿›è¶…è¿‡é¢å¤–å»¶è¿Ÿæ—¶ï¼Œå®ƒæä¾›æœ€ä½³ ROIã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å·¥å…·å®šä¹‰æ¶ˆè€— &gt;10K tokens</li>
<li>ç»å†å·¥å…·é€‰æ‹©å‡†ç¡®æ€§é—®é¢˜</li>
<li>æ„å»ºå…·æœ‰å¤šä¸ªæœåŠ¡å™¨çš„ MCP é©±åŠ¨ç³»ç»Ÿ</li>
<li>æœ‰ 10+ ä¸ªå¯ç”¨å·¥å…·</li>
</ul>
<p><strong>ä¸å¤ªé€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å°å‹å·¥å…·åº“ï¼ˆ&lt;10 ä¸ªå·¥å…·ï¼‰</li>
<li>æ‰€æœ‰å·¥å…·åœ¨æ¯ä¸ªä¼šè¯ä¸­é¢‘ç¹ä½¿ç”¨</li>
<li>å·¥å…·å®šä¹‰ç´§å‡‘</li>
</ul>
<h2 data-id="heading-5">ç¨‹åºåŒ–å·¥å…·è°ƒç”¨</h2>
<h3 data-id="heading-6">æŒ‘æˆ˜</h3>
<p>ä¼ ç»Ÿå·¥å…·è°ƒç”¨åœ¨å·¥ä½œæµå˜å¾—æ›´å¤æ‚æ—¶äº§ç”Ÿä¸¤ä¸ªåŸºæœ¬é—®é¢˜ï¼š</p>
<ul>
<li><strong>ä¸­é—´ç»“æœæ±¡æŸ“ä¸Šä¸‹æ–‡</strong>ï¼šå½“ Claude åˆ†æ 10MB æ—¥å¿—æ–‡ä»¶çš„é”™è¯¯æ¨¡å¼æ—¶ï¼Œæ•´ä¸ªæ–‡ä»¶è¿›å…¥å…¶ä¸Šä¸‹æ–‡çª—å£ï¼Œå°½ç®¡ Claude åªéœ€è¦é”™è¯¯é¢‘ç‡çš„æ‘˜è¦ã€‚å½“è·å–è·¨å¤šä¸ªè¡¨çš„å®¢æˆ·æ•°æ®æ—¶ï¼Œæ¯æ¡è®°å½•åœ¨ä¸Šä¸‹æ–‡ä¸­ç´¯ç§¯ï¼Œæ— è®ºç›¸å…³æ€§å¦‚ä½•ã€‚è¿™äº›ä¸­é—´ç»“æœæ¶ˆè€—å¤§é‡ token é¢„ç®—ï¼Œå¹¶å¯èƒ½å®Œå…¨å°†é‡è¦ä¿¡æ¯æ¨å‡ºä¸Šä¸‹æ–‡çª—å£ã€‚</li>
<li><strong>æ¨ç†å¼€é”€å’Œæ‰‹åŠ¨ç»¼åˆ</strong>ï¼šæ¯ä¸ªå·¥å…·è°ƒç”¨éœ€è¦å®Œæ•´çš„æ¨¡å‹æ¨ç†è¿‡ç¨‹ã€‚æ”¶åˆ°ç»“æœåï¼ŒClaude å¿…é¡»"ç›®è§†æ£€æŸ¥"æ•°æ®ä»¥æå–ç›¸å…³ä¿¡æ¯ï¼Œæ¨ç†å„éƒ¨åˆ†å¦‚ä½•ç»„åˆï¼Œå¹¶å†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆâ€”â€”æ‰€æœ‰è¿™äº›éƒ½é€šè¿‡è‡ªç„¶è¯­è¨€å¤„ç†ã€‚äº”å·¥å…·å·¥ä½œæµæ„å‘³ç€äº”æ¬¡æ¨ç†è¿‡ç¨‹åŠ ä¸Š Claude è§£ææ¯ä¸ªç»“æœã€æ¯”è¾ƒå€¼å’Œç»¼åˆç»“è®ºã€‚è¿™æ—¢æ…¢åˆå®¹æ˜“å‡ºé”™ã€‚</li>
</ul>
<h3 data-id="heading-7">æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>ç¨‹åºåŒ–å·¥å…·è°ƒç”¨ä½¿ Claude èƒ½å¤Ÿé€šè¿‡ä»£ç è€Œä¸æ˜¯é€šè¿‡å•ç‹¬çš„ API å¾€è¿”æ¥ç¼–æ’å·¥å…·ã€‚Claude ä¸æ˜¯é€ä¸€è¯·æ±‚å·¥å…·ï¼Œæ¯ä¸ªç»“æœéƒ½è¿”å›åˆ°å…¶ä¸Šä¸‹æ–‡ï¼Œè€Œæ˜¯ç¼–å†™è°ƒç”¨å¤šä¸ªå·¥å…·ã€å¤„ç†å®ƒä»¬çš„è¾“å‡ºå¹¶æ§åˆ¶å“ªäº›ä¿¡æ¯å®é™…è¿›å…¥å…¶ä¸Šä¸‹æ–‡çª—å£çš„ä»£ç ã€‚</p>
<p>Claude æ“…é•¿ç¼–å†™ä»£ç ï¼Œé€šè¿‡è®©å®ƒç”¨ Python è€Œä¸æ˜¯é€šè¿‡è‡ªç„¶è¯­è¨€å·¥å…·è°ƒç”¨æ¥è¡¨è¾¾ç¼–æ’é€»è¾‘ï¼Œæ‚¨è·å¾—æ›´å¯é ã€ç²¾ç¡®çš„æ§åˆ¶æµã€‚å¾ªç¯ã€æ¡ä»¶ã€æ•°æ®è½¬æ¢å’Œé”™è¯¯å¤„ç†éƒ½åœ¨ä»£ç ä¸­æ˜ç¡®ï¼Œè€Œä¸æ˜¯åœ¨ Claude çš„æ¨ç†ä¸­éšå«ã€‚</p>
<h4 data-id="heading-8">ç¤ºä¾‹ï¼šé¢„ç®—åˆè§„æ£€æŸ¥</h4>
<p>è€ƒè™‘ä¸€ä¸ªå¸¸è§çš„ä¸šåŠ¡ä»»åŠ¡ï¼š"å“ªäº›å›¢é˜Ÿæˆå‘˜è¶…å‡ºäº†ä»–ä»¬çš„ Q3 å·®æ—…é¢„ç®—ï¼Ÿ"</p>
<p>æ‚¨æœ‰ä¸‰ä¸ªå¯ç”¨å·¥å…·ï¼š</p>
<ul>
<li><code>get_team_members(department)</code> - è¿”å›å›¢é˜Ÿæˆå‘˜åˆ—è¡¨ï¼ŒåŒ…å« ID å’Œçº§åˆ«</li>
<li><code>get_expenses(user_id, quarter)</code> - è¿”å›ç”¨æˆ·çš„è´¹ç”¨è¡Œé¡¹ç›®</li>
<li><code>get_budget_by_level(level)</code> - è¿”å›å‘˜å·¥çº§åˆ«çš„é¢„ç®—é™åˆ¶</li>
</ul>
<p><strong>ä¼ ç»Ÿæ–¹æ³•</strong>ï¼š</p>
<ul>
<li>è·å–å›¢é˜Ÿæˆå‘˜ â†’ 20 äºº</li>
<li>å¯¹æ¯ä¸ªäººï¼Œè·å–ä»–ä»¬çš„ Q3 è´¹ç”¨ â†’ 20 æ¬¡å·¥å…·è°ƒç”¨ï¼Œæ¯æ¬¡è¿”å› 50-100 ä¸ªè¡Œé¡¹ç›®ï¼ˆèˆªç­ã€é…’åº—ã€é¤é£Ÿã€æ”¶æ®ï¼‰</li>
<li>æŒ‰å‘˜å·¥çº§åˆ«è·å–é¢„ç®—é™åˆ¶</li>
<li>æ‰€æœ‰è¿™äº›éƒ½è¿›å…¥ Claude çš„ä¸Šä¸‹æ–‡ï¼š2000+ è´¹ç”¨è¡Œé¡¹ç›®ï¼ˆ50 KB+ï¼‰</li>
<li>Claude æ‰‹åŠ¨æ±‡æ€»æ¯ä¸ªäººçš„è´¹ç”¨ï¼ŒæŸ¥æ‰¾ä»–ä»¬çš„é¢„ç®—ï¼Œæ¯”è¾ƒè´¹ç”¨ä¸é¢„ç®—é™åˆ¶</li>
<li>æ›´å¤šçš„æ¨¡å‹å¾€è¿”ï¼Œæ˜¾è‘—çš„ä¸Šä¸‹æ–‡æ¶ˆè€—</li>
</ul>
<p><strong>ä½¿ç”¨ç¨‹åºåŒ–å·¥å…·è°ƒç”¨</strong>ï¼š</p>
<p>æ¯ä¸ªå·¥å…·ç»“æœä¸æ˜¯è¿”å›åˆ° Claudeï¼ŒClaude ç¼–å†™ç¼–æ’æ•´ä¸ªå·¥ä½œæµçš„ Python è„šæœ¬ã€‚è„šæœ¬åœ¨ä»£ç æ‰§è¡Œå·¥å…·ï¼ˆæ²™ç›’ç¯å¢ƒï¼‰ä¸­è¿è¡Œï¼Œå½“éœ€è¦æ¥è‡ªæ‚¨çš„å·¥å…·çš„ç»“æœæ—¶æš‚åœã€‚å½“æ‚¨é€šè¿‡ API è¿”å›å·¥å…·ç»“æœæ—¶ï¼Œå®ƒä»¬ç”±è„šæœ¬å¤„ç†ï¼Œè€Œä¸æ˜¯ç”±æ¨¡å‹æ¶ˆè´¹ã€‚è„šæœ¬ç»§ç»­æ‰§è¡Œï¼ŒClaude åªçœ‹åˆ°æœ€ç»ˆè¾“å‡ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/732ab5c8b9a84f498bdf9147dc038d30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv6a2U5Li45ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765642355&amp;x-signature=sQo8jJAegkIAL1cfMH%2BUxDp1TAQ%3D" alt="" loading="lazy"/></p>
<p>ç¨‹åºåŒ–å·¥å…·è°ƒç”¨ä½¿ Claude èƒ½å¤Ÿé€šè¿‡ä»£ç è€Œä¸æ˜¯é€šè¿‡å•ç‹¬çš„ API å¾€è¿”æ¥ç¼–æ’å·¥å…·ï¼Œå…è®¸å¹¶è¡Œå·¥å…·æ‰§è¡Œã€‚</p>
<p>ä»¥ä¸‹æ˜¯ Claude ç”¨äºé¢„ç®—åˆè§„ä»»åŠ¡çš„ç¼–æ’ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python">team = <span class="hljs-keyword">await</span> get_team_members(<span class="hljs-string">"engineering"</span>)

<span class="hljs-comment"># ä¸ºæ¯ä¸ªå”¯ä¸€çº§åˆ«è·å–é¢„ç®—</span>
levels = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(m[<span class="hljs-string">"level"</span>] <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> team))
budget_results = <span class="hljs-keyword">await</span> asyncio.gather(*[
    get_budget_by_level(level) <span class="hljs-keyword">for</span> level <span class="hljs-keyword">in</span> levels
])

<span class="hljs-comment"># åˆ›å»ºæŸ¥æ‰¾å­—å…¸ï¼š{"junior": budget1, "senior": budget2, ...}</span>
budgets = {level: budget <span class="hljs-keyword">for</span> level, budget <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(levels, budget_results)}

<span class="hljs-comment"># å¹¶è¡Œè·å–æ‰€æœ‰è´¹ç”¨</span>
expenses = <span class="hljs-keyword">await</span> asyncio.gather(*[
    get_expenses(m[<span class="hljs-string">"id"</span>], <span class="hljs-string">"Q3"</span>) <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> team
])

<span class="hljs-comment"># æ‰¾å‡ºå·®æ—…é¢„ç®—è¶…æ”¯çš„å‘˜å·¥</span>
exceeded = []
<span class="hljs-keyword">for</span> member, exp <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(team, expenses):
    budget = budgets[member[<span class="hljs-string">"level"</span>]]
    total = <span class="hljs-built_in">sum</span>(e[<span class="hljs-string">"amount"</span>] <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> exp)
    <span class="hljs-keyword">if</span> total &gt; budget[<span class="hljs-string">"travel_limit"</span>]:
        exceeded.append({
            <span class="hljs-string">"name"</span>: member[<span class="hljs-string">"name"</span>],
            <span class="hljs-string">"spent"</span>: total,
            <span class="hljs-string">"limit"</span>: budget[<span class="hljs-string">"travel_limit"</span>]
        })

<span class="hljs-built_in">print</span>(json.dumps(exceeded))
</code></pre>
<p>Claude çš„ä¸Šä¸‹æ–‡åªæ¥æ”¶æœ€ç»ˆç»“æœï¼šä¸¤åˆ°ä¸‰ä¸ªé¢„ç®—è¶…æ”¯çš„äººã€‚2000+ è¡Œé¡¹ç›®ã€ä¸­é—´æ±‡æ€»å’Œé¢„ç®—æŸ¥æ‰¾ä¸ä¼šå½±å“ Claude çš„ä¸Šä¸‹æ–‡ï¼Œå°†æ¶ˆè€—ä» 200KB åŸå§‹è´¹ç”¨æ•°æ®å‡å°‘åˆ°ä»… 1KB ç»“æœã€‚</p>
<p>æ•ˆç‡æ”¶ç›Šæ˜¯å·¨å¤§çš„ï¼š</p>
<ul>
<li><strong>Token èŠ‚çœ</strong>ï¼šé€šè¿‡ä¿æŒä¸­é—´ç»“æœä¸åœ¨ Claude çš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒPTC æ˜¾è‘—å‡å°‘ token æ¶ˆè€—ã€‚å¤æ‚ç ”ç©¶ä»»åŠ¡çš„å¹³å‡ä½¿ç”¨é‡ä» 43,588 ä¸ª token ä¸‹é™åˆ° 27,297 ä¸ª tokenï¼Œå‡å°‘äº† 37%ã€‚</li>
<li><strong>å‡å°‘å»¶è¿Ÿ</strong>ï¼šæ¯æ¬¡ API å¾€è¿”éœ€è¦æ¨¡å‹æ¨ç†ï¼ˆå‡ ç™¾æ¯«ç§’åˆ°å‡ ç§’ï¼‰ã€‚å½“ Claude åœ¨å•ä¸ªä»£ç å—ä¸­ç¼–æ’ 20+ å·¥å…·è°ƒç”¨æ—¶ï¼Œæ‚¨æ¶ˆé™¤äº† 19+ æ¬¡æ¨ç†è¿‡ç¨‹ã€‚API å¤„ç†å·¥å…·æ‰§è¡Œè€Œæ— éœ€æ¯æ¬¡è¿”å›æ¨¡å‹ã€‚</li>
<li><strong>æé«˜å‡†ç¡®æ€§</strong>ï¼šé€šè¿‡ç¼–å†™æ˜ç¡®çš„ç¼–æ’é€»è¾‘ï¼ŒClaude æ¯”ç”¨è‡ªç„¶è¯­è¨€å¤„ç†å¤šä¸ªå·¥å…·ç»“æœæ—¶çŠ¯æ›´å°‘çš„é”™è¯¯ã€‚å†…éƒ¨çŸ¥è¯†æ£€ç´¢ä» 25.6% æé«˜åˆ° 28.5%ï¼›GIA åŸºå‡†ä» 46.5% æé«˜åˆ° 51.2%ã€‚</li>
</ul>
<p>ç”Ÿäº§å·¥ä½œæµæ¶‰åŠå¤æ‚çš„æ•°æ®ã€æ¡ä»¶é€»è¾‘å’Œéœ€è¦æ‰©å±•çš„æ“ä½œã€‚ç¨‹åºåŒ–å·¥å…·è°ƒç”¨è®© Claude ä»¥ç¼–ç¨‹æ–¹å¼å¤„ç†è¯¥å¤æ‚æ€§ï¼ŒåŒæ—¶ä¿æŒå…¶å¯¹å¯æ“ä½œç»“æœçš„å…³æ³¨ï¼Œè€Œä¸æ˜¯åŸå§‹æ•°æ®å¤„ç†ã€‚</p>
<h3 data-id="heading-9">ç¨‹åºåŒ–å·¥å…·è°ƒç”¨çš„å·¥ä½œåŸç†</h3>
<h4 data-id="heading-10">1. å°†å·¥å…·æ ‡è®°ä¸ºå¯ä»ä»£ç è°ƒç”¨</h4>
<p>å‘å·¥å…·æ·»åŠ  code_executionï¼Œå¹¶è®¾ç½® allowed_callers ä»¥é€‰æ‹©åŠ å…¥ç¨‹åºåŒ–æ‰§è¡Œçš„å·¥å…·ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"code_execution_20250825"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"code_execution"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_team_members"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Get all members of a department..."</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"input_schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>...<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"allowed_callers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"code_execution_20250825"</span><span class="hljs-punctuation">]</span> # é€‰æ‹©åŠ å…¥ç¨‹åºåŒ–å·¥å…·è°ƒç”¨
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_expenses"</span><span class="hljs-punctuation">,</span>
	...
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_budget_by_level"</span><span class="hljs-punctuation">,</span>
	...
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>API å°†è¿™äº›å·¥å…·å®šä¹‰è½¬æ¢ä¸º Claude å¯ä»¥è°ƒç”¨çš„ Python å‡½æ•°ã€‚</p>
<h4 data-id="heading-11">2. Claude ç¼–å†™ç¼–æ’ä»£ç </h4>
<p>Claude ä¸æ˜¯é€ä¸€è¯·æ±‚å·¥å…·ï¼Œè€Œæ˜¯ç”Ÿæˆ Python ä»£ç ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"server_tool_use"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"srvtoolu_abc"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"code_execution"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"team = get_team_members('engineering')\n..."</span> # ä¸Šé¢çš„ä»£ç ç¤ºä¾‹
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-12">3. å·¥å…·æ‰§è¡Œè€Œä¸å½±å“ Claude çš„ä¸Šä¸‹æ–‡</h4>
<p>å½“ä»£ç è°ƒç”¨ get_expenses() æ—¶ï¼Œæ‚¨æ”¶åˆ°å¸¦æœ‰ caller å­—æ®µçš„å·¥å…·è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tool_use"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"toolu_xyz"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_expenses"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"user_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"emp_123"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"quarter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Q3"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"caller"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"code_execution_20250825"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tool_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"srvtoolu_abc"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ‚¨æä¾›ç»“æœï¼Œè¯¥ç»“æœåœ¨ä»£ç æ‰§è¡Œç¯å¢ƒä¸­å¤„ç†ï¼Œè€Œä¸æ˜¯åœ¨ Claude çš„ä¸Šä¸‹æ–‡ä¸­ã€‚æ­¤è¯·æ±‚-å“åº”å¾ªç¯å¯¹ä»£ç ä¸­çš„æ¯ä¸ªå·¥å…·è°ƒç”¨é‡å¤ã€‚</p>
<h4 data-id="heading-13">4. åªæœ‰æœ€ç»ˆè¾“å‡ºè¿›å…¥ä¸Šä¸‹æ–‡</h4>
<p>å½“ä»£ç å®Œæˆè¿è¡Œæ—¶ï¼Œåªæœ‰ä»£ç çš„ç»“æœè¿”å›ç»™ Claudeï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"code_execution_tool_result"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tool_use_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"srvtoolu_abc"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"stdout"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"[{\"name\": \"Alice\", \"spent\": 12500, \"limit\": 10000}...]"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™å°±æ˜¯ Claude çœ‹åˆ°çš„å…¨éƒ¨å†…å®¹ï¼Œè€Œä¸æ˜¯æ²¿è·¯å¤„ç†çš„ 2000+ è´¹ç”¨è¡Œé¡¹ç›®ã€‚</p>
<h3 data-id="heading-14">ä½•æ—¶ä½¿ç”¨ç¨‹åºåŒ–å·¥å…·è°ƒç”¨</h3>
<p>ç¨‹åºåŒ–å·¥å…·è°ƒç”¨ä¸ºå·¥ä½œæµæ·»åŠ äº†ä»£ç æ‰§è¡Œæ­¥éª¤ã€‚å½“ token èŠ‚çœã€å»¶è¿Ÿæ”¹è¿›å’Œå‡†ç¡®æ€§æ”¶ç›Šæ˜¾è‘—æ—¶ï¼Œè¿™ç§é¢å¤–å¼€é”€å¾—åˆ°å›æŠ¥ã€‚</p>
<p><strong>æœ€ä½³é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤„ç†å¤§å‹æ•°æ®é›†ï¼Œåªéœ€è¦èšåˆæˆ–æ‘˜è¦</li>
<li>è¿è¡Œå…·æœ‰ä¸‰ä¸ªæˆ–æ›´å¤šä¾èµ–å·¥å…·è°ƒç”¨çš„å¤šæ­¥éª¤å·¥ä½œæµ</li>
<li>åœ¨ Claude çœ‹åˆ°ä¹‹å‰è¿‡æ»¤ã€æ’åºæˆ–è½¬æ¢å·¥å…·ç»“æœ</li>
<li>å¤„ç†ä¸­é—´æ•°æ®ä¸åº”å½±å“ Claude æ¨ç†çš„ä»»åŠ¡</li>
<li>åœ¨è®¸å¤šé¡¹ç›®ä¸Šè¿è¡Œå¹¶è¡Œæ“ä½œï¼ˆä¾‹å¦‚ï¼Œæ£€æŸ¥ 50 ä¸ªç«¯ç‚¹ï¼‰</li>
</ul>
<p><strong>ä¸å¤ªæœ‰ç›Šæ—¶ï¼š</strong></p>
<ul>
<li>è¿›è¡Œç®€å•çš„å•å·¥å…·è°ƒç”¨</li>
<li>Claude åº”è¯¥çœ‹åˆ°å¹¶æ¨ç†æ‰€æœ‰ä¸­é—´ç»“æœçš„ä»»åŠ¡</li>
<li>è¿è¡Œå…·æœ‰å°å“åº”çš„å¿«é€ŸæŸ¥æ‰¾</li>
</ul>
<h2 data-id="heading-15">å·¥å…·ä½¿ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-16">æŒ‘æˆ˜</h3>
<p>JSON Schema æ“…é•¿å®šä¹‰ç»“æ„â€”â€”ç±»å‹ã€å¿…å¡«å­—æ®µã€å…è®¸çš„æšä¸¾â€”â€”ä½†å®ƒæ— æ³•è¡¨è¾¾ä½¿ç”¨æ¨¡å¼ï¼šä½•æ—¶åŒ…å«å¯é€‰å‚æ•°ã€å“ªäº›ç»„åˆæœ‰æ„ä¹‰ï¼Œæˆ–è€…æ‚¨çš„ API æœŸæœ›ä»€ä¹ˆçº¦å®šã€‚</p>
<p>è€ƒè™‘æ”¯æŒå·¥å• APIï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"create_ticket"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"input_schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"priority"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"enum"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"low"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"medium"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"high"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"critical"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"labels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"array"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"items"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reporter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"contact"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"phone"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"due_date"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"escalation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integer"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"notify_manager"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"boolean"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"sla_hours"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integer"</span><span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"title"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ¨¡å¼å®šä¹‰äº†ä»€ä¹ˆæ˜¯æœ‰æ•ˆçš„ï¼Œä½†ç•™ä¸‹äº†å…³é”®é—®é¢˜æœªå›ç­”ï¼š</p>
<ul>
<li><strong>æ ¼å¼æ­§ä¹‰</strong>ï¼š<code>due_date</code> åº”è¯¥ä½¿ç”¨ "2024-11-06"ã€"Nov 6, 2024" è¿˜æ˜¯ "2024-11-06T00:00:00Z"ï¼Ÿ</li>
<li><strong>ID çº¦å®š</strong>ï¼š<code>reporter.id</code> æ˜¯ UUIDã€"USR-12345" è¿˜æ˜¯åªæ˜¯ "12345"ï¼Ÿ</li>
<li><strong>åµŒå¥—ç»“æ„ä½¿ç”¨</strong>ï¼šClaude åº”è¯¥ä½•æ—¶å¡«å…… <code>reporter.contact</code>ï¼Ÿ</li>
<li><strong>å‚æ•°ç›¸å…³æ€§</strong>ï¼š<code>escalation.level</code> å’Œ <code>escalation.sla_hours</code> ä¸ priority å¦‚ä½•ç›¸å…³ï¼Ÿ</li>
</ul>
<p>è¿™äº›æ­§ä¹‰å¯èƒ½å¯¼è‡´æ ¼å¼é”™è¯¯çš„å·¥å…·è°ƒç”¨å’Œä¸ä¸€è‡´çš„å‚æ•°ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-17">æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>å·¥å…·ä½¿ç”¨ç¤ºä¾‹è®©æ‚¨å¯ä»¥ç›´æ¥åœ¨å·¥å…·å®šä¹‰ä¸­æä¾›ç¤ºä¾‹å·¥å…·è°ƒç”¨ã€‚è€Œä¸æ˜¯ä»…ä¾èµ–æ¨¡å¼ï¼Œæ‚¨å‘ Claude å±•ç¤ºå…·ä½“çš„ä½¿ç”¨æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"create_ticket"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">/* ä¸ä¸Šé¢ç›¸åŒçš„æ¨¡å¼ */</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_examples"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Login page returns 500 error"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"priority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"critical"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"labels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"bug"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"authentication"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"production"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reporter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"USR-12345"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Jane Smith"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"contact"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jane@acme.com"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"phone"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"+1-555-0123"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"due_date"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-11-06"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"escalation"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"notify_manager"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"sla_hours"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Add dark mode support"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"labels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"feature-request"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"ui"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reporter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"USR-67890"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Alex Chen"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Update API documentation"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
</code></pre>
<p>ä»è¿™ä¸‰ä¸ªç¤ºä¾‹ä¸­ï¼ŒClaude å­¦ä¹ åˆ°ï¼š</p>
<ul>
<li><strong>æ ¼å¼çº¦å®š</strong>ï¼šæ—¥æœŸä½¿ç”¨ YYYY-MM-DDï¼Œç”¨æˆ· ID éµå¾ª USR-XXXXXï¼Œæ ‡ç­¾ä½¿ç”¨ kebab-case</li>
<li><strong>åµŒå¥—ç»“æ„æ¨¡å¼</strong>ï¼šå¦‚ä½•æ„é€ å¸¦æœ‰åµŒå¥—è”ç³»äººå¯¹è±¡çš„æŠ¥å‘Šè€…å¯¹è±¡</li>
<li><strong>å¯é€‰å‚æ•°ç›¸å…³æ€§</strong>ï¼šå…³é”®é”™è¯¯æœ‰å®Œæ•´è”ç³»äººä¿¡æ¯ + å…·æœ‰ç´§ SLA çš„å‡çº§ï¼›åŠŸèƒ½è¯·æ±‚æœ‰æŠ¥å‘Šè€…ä½†æ²¡æœ‰è”ç³»äºº/å‡çº§ï¼›å†…éƒ¨ä»»åŠ¡åªæœ‰æ ‡é¢˜</li>
</ul>
<p>åœ¨æˆ‘ä»¬è‡ªå·±çš„å†…éƒ¨æµ‹è¯•ä¸­ï¼Œå·¥å…·ä½¿ç”¨ç¤ºä¾‹åœ¨å¤æ‚å‚æ•°å¤„ç†ä¸Šå°†å‡†ç¡®æ€§ä» 72% æé«˜åˆ° 90%ã€‚</p>
<h3 data-id="heading-18">ä½•æ—¶ä½¿ç”¨å·¥å…·ä½¿ç”¨ç¤ºä¾‹</h3>
<p>å·¥å…·ä½¿ç”¨ç¤ºä¾‹ä¸ºæ‚¨çš„å·¥å…·å®šä¹‰æ·»åŠ  tokensï¼Œå› æ­¤å½“å‡†ç¡®æ€§æ”¹è¿›è¶…è¿‡é¢å¤–æˆæœ¬æ—¶ï¼Œå®ƒä»¬æœ€æœ‰ä»·å€¼ã€‚</p>
<p><strong>æœ€ä½³é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤æ‚åµŒå¥—ç»“æ„ï¼Œå…¶ä¸­æœ‰æ•ˆ JSON ä¸æ„å‘³ç€æ­£ç¡®ä½¿ç”¨</li>
<li>å…·æœ‰è®¸å¤šå¯é€‰å‚æ•°ä¸”åŒ…å«æ¨¡å¼å¾ˆé‡è¦çš„å·¥å…·</li>
<li>å…·æœ‰æ¨¡å¼æœªæ•è·çš„ç‰¹å®šé¢†åŸŸçº¦å®šçš„ API</li>
<li>ç›¸ä¼¼å·¥å…·ï¼Œå…¶ä¸­ç¤ºä¾‹é˜æ˜ä½¿ç”¨å“ªä¸€ä¸ªï¼ˆä¾‹å¦‚ï¼Œ<code>create_ticket</code> vs <code>create_incident</code>ï¼‰</li>
</ul>
<p><strong>ä¸å¤ªæœ‰ç›Šæ—¶ï¼š</strong></p>
<ul>
<li>å…·æœ‰æ˜æ˜¾ä½¿ç”¨çš„ç®€å•å•å‚æ•°å·¥å…·</li>
<li>Claude å·²ç†è§£çš„æ ‡å‡†æ ¼å¼ï¼Œå¦‚ URL æˆ–ç”µå­é‚®ä»¶</li>
<li>æ›´é€‚åˆç”± JSON Schema çº¦æŸå¤„ç†çš„éªŒè¯é—®é¢˜</li>
</ul>
<h2 data-id="heading-19">æœ€ä½³å®è·µ</h2>
<p>æ„å»ºé‡‡å–ç°å®ä¸–ç•Œè¡ŒåŠ¨çš„ agents æ„å‘³ç€åŒæ—¶å¤„ç†è§„æ¨¡ã€å¤æ‚æ€§å’Œç²¾ç¡®æ€§ã€‚è¿™ä¸‰ä¸ªåŠŸèƒ½å…±åŒè§£å†³å·¥å…·ä½¿ç”¨å·¥ä½œæµä¸­çš„ä¸åŒç“¶é¢ˆã€‚ä»¥ä¸‹æ˜¯æœ‰æ•ˆç»“åˆå®ƒä»¬çš„æ–¹æ³•ã€‚</p>
<h3 data-id="heading-20">æˆ˜ç•¥æ€§åœ°åˆ†å±‚åŠŸèƒ½</h3>
<p>å¹¶éæ¯ä¸ª agent éƒ½éœ€è¦ä¸ºç»™å®šä»»åŠ¡ä½¿ç”¨æ‰€æœ‰ä¸‰ä¸ªåŠŸèƒ½ã€‚ä»æ‚¨æœ€å¤§çš„ç“¶é¢ˆå¼€å§‹ï¼š</p>
<ul>
<li>å·¥å…·å®šä¹‰çš„ä¸Šä¸‹æ–‡è†¨èƒ€ â†’ å·¥å…·æœç´¢å·¥å…·</li>
<li>å¤§å‹ä¸­é—´ç»“æœæ±¡æŸ“ä¸Šä¸‹æ–‡ â†’ ç¨‹åºåŒ–å·¥å…·è°ƒç”¨</li>
<li>å‚æ•°é”™è¯¯å’Œæ ¼å¼é”™è¯¯çš„è°ƒç”¨ â†’ å·¥å…·ä½¿ç”¨ç¤ºä¾‹</li>
</ul>
<p>è¿™ç§ä¸“æ³¨çš„æ–¹æ³•è®©æ‚¨è§£å†³é™åˆ¶ agent æ€§èƒ½çš„ç‰¹å®šçº¦æŸï¼Œè€Œä¸æ˜¯é¢„å…ˆæ·»åŠ å¤æ‚æ€§ã€‚</p>
<p>ç„¶åæ ¹æ®éœ€è¦åˆ†å±‚é™„åŠ åŠŸèƒ½ã€‚å®ƒä»¬æ˜¯äº’è¡¥çš„ï¼šå·¥å…·æœç´¢å·¥å…·ç¡®ä¿æ‰¾åˆ°æ­£ç¡®çš„å·¥å…·ï¼Œç¨‹åºåŒ–å·¥å…·è°ƒç”¨ç¡®ä¿é«˜æ•ˆæ‰§è¡Œï¼Œå·¥å…·ä½¿ç”¨ç¤ºä¾‹ç¡®ä¿æ­£ç¡®è°ƒç”¨ã€‚</p>
<h3 data-id="heading-21">è®¾ç½®å·¥å…·æœç´¢å·¥å…·ä»¥æ›´å¥½åœ°å‘ç°</h3>
<p>å·¥å…·æœç´¢åŒ¹é…åç§°å’Œæè¿°ï¼Œå› æ­¤æ¸…æ™°ã€æè¿°æ€§çš„å®šä¹‰æé«˜å‘ç°å‡†ç¡®æ€§ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¥½çš„</span>
{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"search_customer_orders"</span>,
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"Search for customer orders by date range, status, or total amount. Returns order details including items, shipping, and payment info."</span>
}

<span class="hljs-comment">// åçš„</span>
{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"query_db_orders"</span>,
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"Execute order query"</span>
}
</code></pre>
<p>æ·»åŠ ç³»ç»Ÿæç¤ºæŒ‡å¯¼ï¼Œä»¥ä¾¿ Claude çŸ¥é“å¯ç”¨çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-text" lang="text">æ‚¨æœ‰æƒè®¿é—® Slack æ¶ˆæ¯ã€Google Drive æ–‡ä»¶ç®¡ç†ã€
Jira å·¥å•è·Ÿè¸ªå’Œ GitHub ä»“åº“æ“ä½œçš„å·¥å…·ã€‚ä½¿ç”¨å·¥å…·æœç´¢
æŸ¥æ‰¾ç‰¹å®šåŠŸèƒ½ã€‚
</code></pre>
<p>ä¿æŒæ‚¨æœ€å¸¸ç”¨çš„ä¸‰åˆ°äº”ä¸ªå·¥å…·å§‹ç»ˆåŠ è½½ï¼Œå»¶è¿Ÿå…¶ä½™çš„ã€‚è¿™å¹³è¡¡äº†å¸¸è§æ“ä½œçš„å³æ—¶è®¿é—®å’Œå…¶ä»–ä¸€åˆ‡çš„æŒ‰éœ€å‘ç°ã€‚</p>
<h3 data-id="heading-22">è®¾ç½®ç¨‹åºåŒ–å·¥å…·è°ƒç”¨ä»¥æ­£ç¡®æ‰§è¡Œ</h3>
<p>ç”±äº Claude ç¼–å†™ä»£ç æ¥è§£æå·¥å…·è¾“å‡ºï¼Œè¯·æ¸…æ¥šåœ°è®°å½•è¿”å›æ ¼å¼ã€‚è¿™æœ‰åŠ©äº Claude ç¼–å†™æ­£ç¡®çš„è§£æé€»è¾‘ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"get_orders"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Retrieve orders for a customer.
Returns:
    List of order objects, each containing:
    - id (str): Order identifier
    - total (float): Order total in USD
    - status (str): One of 'pending', 'shipped', 'delivered'
    - items (list): Array of {sku, quantity, price}
    - created_at (str): ISO 8601 timestamp"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¯·å‚é˜…ä¸‹é¢é€‰æ‹©åŠ å…¥çš„ç¨‹åºåŒ–ç¼–æ’å—ç›Šçš„å·¥å…·ï¼š</p>
<ul>
<li>å¯ä»¥å¹¶è¡Œè¿è¡Œçš„å·¥å…·ï¼ˆç‹¬ç«‹æ“ä½œï¼‰</li>
<li>å¯å®‰å…¨é‡è¯•çš„æ“ä½œï¼ˆå¹‚ç­‰ï¼‰</li>
</ul>
<h3 data-id="heading-23">è®¾ç½®å·¥å…·ä½¿ç”¨ç¤ºä¾‹ä»¥è·å¾—å‚æ•°å‡†ç¡®æ€§</h3>
<p>ä¸ºè¡Œä¸ºæ¸…æ™°åº¦ç²¾å¿ƒè®¾è®¡ç¤ºä¾‹ï¼š</p>
<ul>
<li>ä½¿ç”¨çœŸå®æ•°æ®ï¼ˆçœŸå®åŸå¸‚åç§°ã€åˆç†ä»·æ ¼ï¼Œè€Œä¸æ˜¯ "string" æˆ– "value"ï¼‰</li>
<li>å±•ç¤ºæœ€å°‘ã€éƒ¨åˆ†å’Œå®Œæ•´è§„èŒƒæ¨¡å¼çš„å¤šæ ·æ€§</li>
<li>ä¿æŒç®€æ´ï¼šæ¯ä¸ªå·¥å…· 1-5 ä¸ªç¤ºä¾‹</li>
<li>å…³æ³¨æ­§ä¹‰ï¼ˆä»…åœ¨æ­£ç¡®ä½¿ç”¨ä»æ¨¡å¼ä¸­ä¸æ˜æ˜¾çš„åœ°æ–¹æ·»åŠ ç¤ºä¾‹ï¼‰</li>
</ul>
<h2 data-id="heading-24">å¼€å§‹ä½¿ç”¨</h2>
<p>è¿™äº›åŠŸèƒ½åœ¨ beta ä¸­å¯ç”¨ã€‚è¦å¯ç”¨å®ƒä»¬ï¼Œæ·»åŠ  beta æ ‡é¢˜å¹¶åŒ…å«æ‚¨éœ€è¦çš„å·¥å…·ï¼š</p>
<pre><code class="hljs language-python" lang="python">client.beta.messages.create(
    betas=[<span class="hljs-string">"advanced-tool-use-2025-11-20"</span>],
    model=<span class="hljs-string">"claude-sonnet-4-5-20250929"</span>,
    max_tokens=<span class="hljs-number">4096</span>,
    tools=[
        {<span class="hljs-string">"type"</span>: <span class="hljs-string">"tool_search_tool_regex_20251119"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"tool_search_tool_regex"</span>},
        {<span class="hljs-string">"type"</span>: <span class="hljs-string">"code_execution_20250825"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"code_execution"</span>},
        <span class="hljs-comment"># æ‚¨çš„å¸¦æœ‰ defer_loadingã€allowed_callers å’Œ input_examples çš„å·¥å…·</span>
    ]
)
</code></pre>
<p>æœ‰å…³è¯¦ç»†çš„ API æ–‡æ¡£å’Œ SDK ç¤ºä¾‹ï¼Œè¯·å‚é˜…ï¼š</p>
<ul>
<li>å·¥å…·æœç´¢å·¥å…·çš„æ–‡æ¡£å’Œ cookbook</li>
<li>ç¨‹åºåŒ–å·¥å…·è°ƒç”¨çš„æ–‡æ¡£å’Œ cookbook</li>
<li>å·¥å…·ä½¿ç”¨ç¤ºä¾‹çš„æ–‡æ¡£</li>
</ul>
<p>è¿™äº›åŠŸèƒ½å°†å·¥å…·ä½¿ç”¨ä»ç®€å•çš„å‡½æ•°è°ƒç”¨è½¬å‘æ™ºèƒ½ç¼–æ’ã€‚å½“ agents å¤„ç†è·¨è¶Šæ•°åä¸ªå·¥å…·å’Œå¤§å‹æ•°æ®é›†çš„æ›´å¤æ‚å·¥ä½œæµæ—¶ï¼ŒåŠ¨æ€å‘ç°ã€é«˜æ•ˆæ‰§è¡Œå’Œå¯é è°ƒç”¨æˆä¸ºåŸºç¡€ã€‚</p>
<p>æˆ‘ä»¬æœŸå¾…çœ‹åˆ°æ‚¨æ„å»ºçš„ä¸œè¥¿ã€‚</p>
<h2 data-id="heading-25">è‡´è°¢</h2>
<p>ç”± Bin Wu æ’°å†™ï¼ŒAdam Jonesã€Artur Renaultã€Henry Tayã€Jake Nobleã€Nathan McCandlishã€Noah Picardã€Sam Jiang å’Œ Claude å¼€å‘è€…å¹³å°å›¢é˜Ÿè´¡çŒ®ã€‚è¿™é¡¹å·¥ä½œå»ºç«‹åœ¨ Chris Gorgolewskiã€Daniel Jiangã€Jeremy Fox å’Œ Mike Lambert çš„åŸºç¡€ç ”ç©¶ä¹‹ä¸Šã€‚æˆ‘ä»¬ä¹Ÿä»æ•´ä¸ª AI ç”Ÿæ€ç³»ç»Ÿä¸­æ±²å–çµæ„Ÿï¼ŒåŒ…æ‹¬ Joel Pobar çš„ LLMVMã€Cloudflare çš„ä»£ç æ¨¡å¼å’Œä»£ç æ‰§è¡Œä½œä¸º MCPã€‚ç‰¹åˆ«æ„Ÿè°¢ Andy Schumeisterã€Hamish Kerrã€Keir Bradwellã€Matt Bleifer å’Œ Molly Vorwerck çš„æ”¯æŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251201-251205ï¼‰]]></title>    <link>https://juejin.cn/post/7580278296837996578</link>    <guid>https://juejin.cn/post/7580278296837996578</guid>    <pubDate>2025-12-06T17:02:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580278296837996578" data-draft-id="7580288235030855680" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251201-251205ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-06T17:02:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ"/> <meta itemprop="url" content="https://juejin.cn/user/2831954919569245"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251201-251205ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2831954919569245/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T17:02:12.000Z" title="Sat Dec 06 2025 17:02:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»31åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">From Code Foundation Models to Agents and Applications: A Practical Guide to Code Intelligence</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.18538" target="_blank" title="https://arxiv.org/abs/2511.18538" ref="nofollow noopener noreferrer">ä»ä»£ç åŸºç¡€æ¨¡å‹åˆ°æ™ºèƒ½ä½“ä¸åº”ç”¨ï¼šä»£ç æ™ºèƒ½å®ç”¨æŒ‡å—</a></p>
<p>å¤§è¯­è¨€æ¨¡å‹ (LLMs) ä»æ ¹æœ¬ä¸Šæ”¹å˜äº†è‡ªåŠ¨åŒ–è½¯ä»¶å¼€å‘ï¼Œå®ç°äº†å°†è‡ªç„¶è¯­è¨€æè¿°ç›´æ¥è½¬æ¢ä¸ºåŠŸèƒ½ä»£ç ï¼Œå¹¶é€šè¿‡è¯¸å¦‚ GitHub Copilot (Microsoft)ã€Cursor (Anysphere)ã€Trae (ByteDance) å’Œ Claude Code (Anthropic) ç­‰å·¥å…·æ¨åŠ¨äº†å•†ä¸šåº”ç”¨ã€‚è¯¥é¢†åŸŸå·²ä»åŸºäºè§„åˆ™çš„ç³»ç»Ÿæ¼”è¿›ä¸ºåŸºäº Transformer çš„æ¶æ„ï¼Œåœ¨ HumanEval ç­‰åŸºå‡†æµ‹è¯•ä¸Šçš„æ€§èƒ½ä»ä¸ªä½æ•°æˆåŠŸç‡æå‡è‡³è¶…è¿‡ 95%ã€‚åœ¨æœ¬å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä»½å…³äºä»£ç å¤§è¯­è¨€æ¨¡å‹çš„å…¨é¢ç»¼è¿°ä¸å®ç”¨æŒ‡å—ï¼ˆåŒ…å«ä¸€ç³»åˆ—åˆ†æå’Œæ¢ç´¢æ€§å®éªŒï¼‰ï¼Œç³»ç»Ÿæ€§åœ°å®¡è§†äº†ä»æ•°æ®ç®¡ç†åˆ°åè®­ç»ƒçš„å®Œæ•´æ¨¡å‹ç”Ÿå‘½å‘¨æœŸï¼Œæ¶‰åŠé«˜çº§æç¤ºèŒƒå¼ã€ä»£ç é¢„è®­ç»ƒã€ç›‘ç£å¾®è°ƒã€å¼ºåŒ–å­¦ä¹ ä»¥åŠè‡ªä¸»ç¼–ç æ™ºèƒ½ä½“ã€‚æˆ‘ä»¬è¯„ä¼°äº†é€šç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆGPT-4ã€Claudeã€LLaMAï¼‰ä¸ä»£ç ä¸“ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆStarCoderã€Code LLaMAã€DeepSeek-Coderã€QwenCoderï¼‰çš„ä»£ç èƒ½åŠ›ï¼Œå¹¶æ‰¹åˆ¤æ€§åœ°æ¢è®¨äº†ç›¸å…³æŠ€æœ¯ã€è®¾è®¡å†³ç­–åŠå…¶æƒè¡¡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é˜æ˜äº†å­¦æœ¯ç ”ç©¶ï¼ˆä¾‹å¦‚åŸºå‡†æµ‹è¯•ä¸ä»»åŠ¡ï¼‰ä¸å®é™…éƒ¨ç½²ï¼ˆä¾‹å¦‚è½¯ä»¶ç›¸å…³çš„ä»£ç ä»»åŠ¡ï¼‰ä¹‹é—´çš„å·®è·ï¼Œæ¶µç›–ä»£ç æ­£ç¡®æ€§ã€å®‰å…¨æ€§ã€å¤§å‹ä»£ç åº“çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥ä»¥åŠä¸å¼€å‘å·¥ä½œæµçš„é›†æˆï¼Œå¹¶å°†æœ‰å‰æ™¯çš„ç ”ç©¶æ–¹å‘ä¸å®é™…éœ€æ±‚ç›¸å…³è”ã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ç³»åˆ—å®éªŒï¼Œå¯¹ä»£ç é¢„è®­ç»ƒã€ç›‘ç£å¾®è°ƒå’Œå¼ºåŒ–å­¦ä¹ è¿›è¡Œäº†å…¨é¢åˆ†æï¼Œå†…å®¹æ¶µç›–ç¼©æ”¾å®šå¾‹ã€æ¡†æ¶é€‰æ‹©ã€è¶…å‚æ•°æ•æ„Ÿæ€§ã€æ¨¡å‹æ¶æ„å’Œæ•°æ®é›†æ¯”è¾ƒã€‚</p>
<h2 data-id="heading-1">DeepSeek-V3.2: Pushing the Frontier of Open Large Language Models</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.02556" target="_blank" title="https://arxiv.org/abs/2512.02556" ref="nofollow noopener noreferrer">DeepSeek-V3.2: æ¨åŠ¨å¼€æºå¤§è¯­è¨€æ¨¡å‹çš„å‰æ²¿</a></p>
<p>æˆ‘ä»¬æ¨å‡º DeepSeek-V3.2ï¼Œè¿™æ˜¯ä¸€ä¸ªå°†é«˜æ•ˆè®¡ç®—ä¸å“è¶Šçš„æ¨ç†åŠæ™ºèƒ½ä½“æ€§èƒ½èä¸ºä¸€ä½“çš„æ¨¡å‹ã€‚DeepSeek-V3.2 çš„å…³é”®æŠ€æœ¯çªç ´å¦‚ä¸‹ï¼š(1) DeepSeek ç¨€ç–æ³¨æ„åŠ› (DSA)ï¼šæˆ‘ä»¬å¼•å…¥äº† DSAï¼Œè¿™æ˜¯ä¸€ç§é«˜æ•ˆçš„æ³¨æ„åŠ›æœºåˆ¶ï¼Œèƒ½åœ¨é•¿ä¸Šä¸‹æ–‡åœºæ™¯ä¸­æ˜¾è‘—é™ä½è®¡ç®—å¤æ‚åº¦ï¼ŒåŒæ—¶ä¿æŒæ¨¡å‹æ€§èƒ½ã€‚(2) å¯æ‰©å±•çš„å¼ºåŒ–å­¦ä¹ æ¡†æ¶ï¼šé€šè¿‡é‡‡ç”¨ç¨³å¥çš„å¼ºåŒ–å­¦ä¹ åè®®å¹¶æ‰©å±•åè®­ç»ƒé˜¶æ®µçš„è®¡ç®—è§„æ¨¡ï¼ŒDeepSeek-V3.2 çš„æ€§èƒ½ä¸ GPT-5 ç›¸å½“ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬çš„é«˜è®¡ç®—é…ç½®å˜ä½“ DeepSeek-V3.2-Speciale è¶…è¶Šäº† GPT-5ï¼Œå…¶æ¨ç†èƒ½åŠ›ä¸ Gemini-3.0-Pro å¹¶é©¾é½é©±ï¼Œåœ¨ 2025 å¹´å›½é™…æ•°å­¦å¥¥æ—åŒ¹å…‹ç«èµ› (IMO) å’Œå›½é™…ä¿¡æ¯å­¦å¥¥æ—åŒ¹å…‹ç«èµ› (IOI) ä¸­å‡å–å¾—äº†é‡‘ç‰Œçº§åˆ«çš„æˆç»©ã€‚(3) å¤§è§„æ¨¡é¢å‘æ™ºèƒ½ä½“çš„ä»»åŠ¡åˆæˆæµæ°´çº¿ï¼šä¸ºäº†å°†æ¨ç†èƒ½åŠ›èå…¥å·¥å…·ä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ç§æ–°é¢–çš„åˆæˆæµæ°´çº¿ï¼Œèƒ½å¤Ÿç³»ç»Ÿæ€§åœ°å¤§è§„æ¨¡ç”Ÿæˆè®­ç»ƒæ•°æ®ã€‚è¯¥æ–¹æ³•æ”¯æŒå¯æ‰©å±•çš„æ™ºèƒ½ä½“åè®­ç»ƒï¼Œä»è€Œåœ¨å¤æ‚ã€äº¤äº’å¼çš„ç¯å¢ƒä¸­ï¼Œæ˜¾è‘—æå‡äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œéµå¾ªæŒ‡ä»¤çš„é²æ£’æ€§ã€‚</p>
<h2 data-id="heading-2">LongVT: é€šè¿‡åŸç”Ÿå·¥å…·è°ƒç”¨å®ç°â€œé•¿è§†é¢‘æ€ç»´â€</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.20785" target="_blank" title="https://arxiv.org/abs/2511.20785" ref="nofollow noopener noreferrer">LongVT: é€šè¿‡åŸç”Ÿå·¥å…·è°ƒç”¨å®ç°â€œé•¿è§†é¢‘æ€ç»´â€</a></p>
<p>å¤§æ¨¡æ€æ¨¡å‹ (Large Multimodal Models, LMMs) åœ¨ç»“åˆæ–‡æœ¬æ€ç»´é“¾è¿›è¡Œè§†é¢‘æ¨ç†æ–¹é¢å±•ç°å‡ºå·¨å¤§æ½œåŠ›ã€‚ç„¶è€Œï¼Œå®ƒä»¬ä»æ˜“äº§ç”Ÿå¹»è§‰ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†é‚£äº›è¯æ®ç¨€ç–ä¸”æ—¶é—´åˆ†å¸ƒåˆ†æ•£çš„é•¿è§†é¢‘æ—¶ã€‚å—äººç±»ç†è§£é•¿è§†é¢‘æ–¹å¼ï¼ˆå…ˆå…¨å±€æ¦‚è§ˆï¼Œå†ç»†æŸ¥ç›¸å…³ç‰‡æ®µï¼‰çš„å¯å‘ï¼Œæˆ‘ä»¬æå‡ºäº† LongVTï¼Œä¸€ä¸ªç«¯åˆ°ç«¯çš„æ™ºèƒ½ä½“æ¡†æ¶ã€‚è¯¥æ¡†æ¶é€šè¿‡äº¤é”™è¿›è¡Œçš„â€œå¤šæ¨¡æ€å·¥å…·è°ƒç”¨æ€ç»´é“¾â€ï¼Œå®ç°äº†â€œç”¨é•¿è§†é¢‘è¿›è¡Œæ€è€ƒâ€ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬å°† LMMs å›ºæœ‰çš„æ—¶é—´å®šä½èƒ½åŠ›ä½œä¸ºä¸€ç§åŸç”Ÿè§†é¢‘è£å‰ªå·¥å…·ï¼Œç”¨äºèšç„¦ç‰¹å®šè§†é¢‘ç‰‡æ®µå¹¶é‡æ–°é‡‡æ ·æ›´ç»†ç²’åº¦çš„è§†é¢‘å¸§ã€‚è¿™ç§ä»å…¨å±€åˆ°å±€éƒ¨çš„æ¨ç†å¾ªç¯ä¼šæŒç»­è¿›è¡Œï¼Œç›´è‡³ç­”æ¡ˆèƒ½å¤ŸåŸºäºæ£€ç´¢åˆ°çš„è§†è§‰è¯æ®å¾—åˆ°ç¡®è®¤ã€‚é’ˆå¯¹é•¿è§†é¢‘æ¨ç†ä»»åŠ¡ä¸­ç»†ç²’åº¦é—®ç­” (QA) æ•°æ®ç¨€ç¼ºçš„é—®é¢˜ï¼Œæˆ‘ä»¬æ„å»ºå¹¶å°†å‘å¸ƒä¸€ä¸ªåä¸º VideoSIAH çš„æ•°æ®å¥—ä»¶ï¼Œä»¥æ”¯æŒæ¨¡å‹çš„è®­ç»ƒä¸è¯„ä¼°ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çš„è®­ç»ƒæ•°æ®é›†åŒ…å«ï¼š24.79 ä¸‡ä¸ªç”¨äºå·¥å…·é›†æˆå†·å¯åŠ¨ç›‘ç£å¾®è°ƒçš„æ ·æœ¬ã€1600 ä¸ªç”¨äºæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ çš„æ ·æœ¬ï¼Œä»¥åŠ 1.54 ä¸‡ä¸ªç”¨äºæ™ºèƒ½ä½“å¼ºåŒ–å¾®è°ƒçš„æ ·æœ¬ã€‚æˆ‘ä»¬çš„è¯„ä¼°åŸºå‡†åŒ…å« 1280 ä¸ª QA å¯¹ï¼Œè¿™äº›æ•°æ®é€šè¿‡ä¸€ä¸ªåŠè‡ªåŠ¨çš„æ•°æ®æµæ°´çº¿ç²¾å¿ƒæ„å»ºï¼Œå¹¶ç»è¿‡äº†äººå·¥éªŒè¯ã€‚é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„ä¸‰é˜¶æ®µè®­ç»ƒç­–ç•¥å’Œå¹¿æ³›çš„å®è¯è¯„ä¼°ï¼ŒLongVT åœ¨å››ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„é•¿è§†é¢‘ç†è§£ä¸æ¨ç†åŸºå‡†æµ‹è¯•ä¸­ï¼Œå‡æŒç»­è¶…è¶Šç°æœ‰çš„å¼ºåŸºçº¿æ¨¡å‹ã€‚æˆ‘ä»¬çš„ä»£ç ã€æ•°æ®åŠæ¨¡å‹æ£€æŸ¥ç‚¹å‡å·²å…¬å¼€ï¼Œåœ°å€ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FEvolvingLMMs-Lab%2FLongVT%25E3%2580%2582" target="_blank" title="https://github.com/EvolvingLMMs-Lab/LongVT%E3%80%82" ref="nofollow noopener noreferrer">github.com/EvolvingLMMâ€¦</a></p>
<h2 data-id="heading-3">Z-Image: An Efficient Image Generation Foundation Model with Single-Stream Diffusion Transformer</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.22699" target="_blank" title="https://arxiv.org/abs/2511.22699" ref="nofollow noopener noreferrer">Z-Image: åŸºäºå•æµæ‰©æ•£Transformerçš„é«˜æ•ˆå›¾åƒç”ŸæˆåŸºç¡€æ¨¡å‹</a></p>
<p>å½“å‰ï¼Œé«˜æ€§èƒ½å›¾åƒç”Ÿæˆé¢†åŸŸä¸»è¦ç”±ä¸“æœ‰ç³»ç»Ÿä¸»å¯¼ï¼Œä¾‹å¦‚ Nano Banana Pro å’Œ Seedream 4.0ã€‚è€Œé¢†å…ˆçš„å¼€æºæ›¿ä»£æ–¹æ¡ˆï¼Œå¦‚ Qwen-Imageã€Hunyuan-Image-3.0 å’Œ FLUX.2ï¼Œåˆ™æ™®éå‚æ•°é‡åºå¤§ (200äº¿è‡³800äº¿)ï¼Œå¯¼è‡´å…¶åœ¨æ¶ˆè´¹çº§ç¡¬ä»¶ä¸Šè¿›è¡Œæ¨ç†å’Œå¾®è°ƒéƒ½æä¸ç°å®ã€‚ä¸ºå¼¥è¡¥è¿™ä¸€ç©ºç™½ï¼Œæˆ‘ä»¬æå‡ºäº† Z-Imageï¼Œè¿™æ˜¯ä¸€ä¸ªå‚æ•°è§„æ¨¡ä¸º 60äº¿ çš„é«˜æ•ˆåŸºç¡€ç”Ÿæˆæ¨¡å‹ã€‚å®ƒåŸºäºå¯æ‰©å±•å•æµæ‰©æ•£Transformer (Scalable Single-Stream Diffusion Transformer, S3-DiT) æ¶æ„æ„å»ºï¼Œæ—¨åœ¨æŒ‘æˆ˜â€œä¸è®¡æˆæœ¬å †å è§„æ¨¡â€çš„è¡Œä¸šèŒƒå¼ã€‚é€šè¿‡å¯¹æ•´ä¸ªæ¨¡å‹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç³»ç»Ÿæ€§ä¼˜åŒ–â€”â€”ä»ç²¾å¿ƒæ„å»ºçš„æ•°æ®åŸºç¡€è®¾æ–½åˆ°é«˜æ•ˆç²¾ç®€çš„è®­ç»ƒæ–¹æ¡ˆâ€”â€”æˆ‘ä»¬ä»…æ¶ˆè€—äº† 31.4ä¸‡ H800 GPU å°æ—¶ (çº¦åˆ 63ä¸‡ç¾å…ƒ) ä¾¿å®Œæˆäº†å®Œæ•´çš„è®­ç»ƒæµç¨‹ã€‚æˆ‘ä»¬ç»“åˆå¥–åŠ±åè®­ç»ƒçš„å°‘æ­¥è’¸é¦æ–¹æ¡ˆè¿›ä¸€æ­¥å¾—åˆ°äº† Z-Image-Turboï¼Œè¯¥ç‰ˆæœ¬ä¸ä»…èƒ½åœ¨ä¼ä¸šçº§ H800 GPU ä¸Šå®ç°äºšç§’çº§æ¨ç†å»¶è¿Ÿï¼Œè¿˜èƒ½å…¼å®¹æ˜¾å­˜å°äº 16GB çš„æ¶ˆè´¹çº§ç¡¬ä»¶ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„å…¨é¢„è®­ç»ƒèŒƒå¼ä¹Ÿæ”¯æŒé«˜æ•ˆè®­ç»ƒå‡º Z-Image-Editï¼Œè¿™æ˜¯ä¸€ä¸ªå…·å¤‡å‡ºè‰²æŒ‡ä»¤éµå¾ªèƒ½åŠ›çš„å›¾åƒç¼–è¾‘æ¨¡å‹ã€‚å®šæ€§ä¸å®šé‡å®éªŒå‡è¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ¨¡å‹åœ¨å¤šä¸ªç»´åº¦ä¸Šçš„æ€§èƒ½å‡å¯æ¯”è‚©ä¹ƒè‡³è¶…è¶Šé¢†å…ˆçš„ç«äº‰å¯¹æ‰‹ã€‚å°¤ä¸ºçªå‡ºçš„æ˜¯ï¼ŒZ-Image åœ¨ç”Ÿæˆé€¼çœŸå›¾åƒå’Œæ¸²æŸ“åŒè¯­æ–‡æœ¬æ–¹é¢è¡¨ç°å“è¶Šï¼Œå…¶æ•ˆæœè¶³ä»¥åª²ç¾é¡¶å°–çš„å•†ä¸šæ¨¡å‹ã€‚è¿™è¯æ˜äº†ï¼Œå³ä½¿å¤§å¹…é™ä½è®¡ç®—å¼€é”€ï¼ŒåŒæ ·èƒ½å¤Ÿå®ç°æœ€å…ˆè¿›çš„æ€§èƒ½ã€‚ä¸ºä¿ƒè¿›å¯è·å–ã€ä½æˆæœ¬ä¸”æ€§èƒ½é¢†å…ˆçš„ç”Ÿæˆæ¨¡å‹å‘å±•ï¼Œæˆ‘ä»¬å·²å…¬å¼€ä»£ç ã€æ¨¡å‹æƒé‡å¹¶æä¾›åœ¨çº¿æ¼”ç¤ºã€‚</p>
<h2 data-id="heading-4">Live Avatar: æµå¼å®æ—¶éŸ³é¢‘é©±åŠ¨çš„æ— é™é•¿åº¦è™šæ‹Ÿå½¢è±¡ç”Ÿæˆ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.04677" target="_blank" title="https://arxiv.org/abs/2512.04677" ref="nofollow noopener noreferrer">Live Avatar: æµå¼å®æ—¶éŸ³é¢‘é©±åŠ¨çš„æ— é™é•¿åº¦è™šæ‹Ÿå½¢è±¡ç”Ÿæˆ</a></p>
<p>ç°æœ‰åŸºäºæ‰©æ•£æ¨¡å‹çš„è§†é¢‘ç”Ÿæˆæ–¹æ³•ï¼Œä»æ ¹æœ¬ä¸Šå—é™äºé¡ºåºè®¡ç®—å’Œé•¿æ—¶ä¸ä¸€è‡´æ€§é—®é¢˜ï¼Œåˆ¶çº¦äº†å…¶åœ¨å®æ—¶æµå¼éŸ³é¢‘é©±åŠ¨è™šæ‹Ÿå½¢è±¡åˆæˆä¸­çš„å®é™…é‡‡ç”¨ã€‚æˆ‘ä»¬æå‡ºäº† Live Avatarï¼Œä¸€ä¸ªç®—æ³•-ç³»ç»ŸååŒè®¾è®¡æ¡†æ¶ï¼Œèƒ½å¤Ÿåˆ©ç”¨ä¸€ä¸ª 140 äº¿å‚æ•°çš„æ‰©æ•£æ¨¡å‹ï¼Œå®ç°é«˜æ•ˆã€é«˜ä¿çœŸä¸”æ— é™é•¿åº¦çš„è™šæ‹Ÿå½¢è±¡ç”Ÿæˆã€‚æˆ‘ä»¬çš„æ–¹æ³•å¼•å…¥äº†æ—¶é—´æ­¥å¼ºåˆ¶æµæ°´çº¿å¹¶è¡Œ (Timestep-forcing Pipeline Parallelism, TPP)ï¼Œè¿™æ˜¯ä¸€ç§åˆ†å¸ƒå¼æ¨ç†èŒƒå¼ï¼Œå®ƒè·¨å¤šä¸ª GPU å¯¹å»å™ªæ­¥éª¤è¿›è¡Œæµæ°´çº¿å¤„ç†ï¼Œä»è€Œæœ‰æ•ˆæ‰“ç ´è‡ªå›å½’ç“¶é¢ˆï¼Œç¡®ä¿ç¨³å®šã€ä½å»¶è¿Ÿçš„å®æ—¶æµç”Ÿæˆã€‚ä¸ºäº†è¿›ä¸€æ­¥å¢å¼ºæ—¶é—´ä¸€è‡´æ€§ï¼Œå¹¶ç¼“è§£èº«ä»½æ¼‚ç§»å’Œé¢œè‰²ä¼ªå½±é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†æ»šåŠ¨é”šå®šå¸§æœºåˆ¶ (Rolling Sink Frame Mechanism, RSFM)ï¼Œè¯¥æœºåˆ¶é€šè¿‡åˆ©ç”¨ç¼“å­˜çš„å‚è€ƒå›¾åƒåŠ¨æ€é‡æ ¡å‡†å¤–è§‚ï¼Œä»¥ç»´æŒåºåˆ—ä¿çœŸåº¦ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é‡‡ç”¨è‡ªå¼ºåˆ¶åˆ†å¸ƒåŒ¹é…è’¸é¦æŠ€æœ¯ï¼Œåœ¨ä¸ç‰ºç‰²è§†è§‰è´¨é‡çš„å‰æä¸‹ï¼Œå®ç°äº†å¤§è§„æ¨¡æ¨¡å‹çš„å› æœæ€§ã€å¯æµå¼åŒ–é€‚é…ã€‚Live Avatar å±•ç°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œåœ¨ 5 å— H800 GPU ä¸Šå®ç°äº† 20 FPS çš„ç«¯åˆ°ç«¯ç”Ÿæˆé€Ÿåº¦ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™æ˜¯é¦–ä¸ªåœ¨æ­¤å‚æ•°é‡çº§ä¸Šå®ç°å®ç”¨åŒ–ã€å®æ—¶ã€é«˜ä¿çœŸè™šæ‹Ÿå½¢è±¡ç”Ÿæˆçš„å·¥ä½œã€‚æˆ‘ä»¬çš„ç ”ç©¶ä¸ºåœ¨å·¥ä¸šçº§é•¿è§†é¢‘åˆæˆåº”ç”¨ä¸­éƒ¨ç½²å…ˆè¿›æ‰©æ•£æ¨¡å‹ç¡®ç«‹äº†ä¸€ç§æ–°èŒƒå¼ã€‚</p>
<h2 data-id="heading-5">DAComp: å…¨æ•°æ®æ™ºèƒ½ç”Ÿå‘½å‘¨æœŸæ•°æ®æ™ºèƒ½ä½“åŸºå‡†æµ‹è¯•</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.04324" target="_blank" title="https://arxiv.org/abs/2512.04324" ref="nofollow noopener noreferrer">DAComp: å…¨æ•°æ®æ™ºèƒ½ç”Ÿå‘½å‘¨æœŸæ•°æ®æ™ºèƒ½ä½“åŸºå‡†æµ‹è¯•</a></p>
<p>ç°å®ä¸­çš„ä¼ä¸šæ•°æ®æ™ºèƒ½å·¥ä½œæµæ¶µç›–ä¸¤å¤§ç¯èŠ‚ï¼šä¸€æ˜¯å°†åŸå§‹æ•°æ®æºè½¬åŒ–ä¸ºå¯ä¾›åˆ†æè¡¨æ ¼çš„<strong>æ•°æ®å·¥ç¨‹</strong>ï¼ŒäºŒæ˜¯å°†è¿™äº›è¡¨æ ¼è½¬åŒ–ä¸ºå†³ç­–æ´å¯Ÿçš„<strong>æ•°æ®åˆ†æ</strong>ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†DACompåŸºå‡†ï¼Œå®ƒåŒ…å«210ä¸ªä»»åŠ¡ï¼Œæ—¨åœ¨æ¨¡æ‹Ÿè¿™äº›å¤æ‚çš„å·¥ä½œæµã€‚æ•°æ®å·¥ç¨‹ï¼ˆDEï¼‰ä»»åŠ¡è¦æ±‚å¯¹å·¥ä¸šçº§æ•°æ®æ¨¡å¼è¿›è¡Œä»“åº“å±‚é¢çš„å·¥ç¨‹æ“ä½œï¼ŒåŒ…æ‹¬ä»é›¶å¼€å§‹è®¾è®¡å’Œæ„å»ºå¤šé˜¶æ®µSQLç®¡é“ï¼Œä»¥åŠåœ¨éœ€æ±‚æ¼”è¿›æ—¶å¯¹ç°æœ‰ç³»ç»Ÿè¿›è¡Œæ”¹é€ ã€‚æ•°æ®åˆ†æï¼ˆDAï¼‰ä»»åŠ¡åˆ™æå‡ºå¼€æ”¾å¼çš„ä¸šåŠ¡é—®é¢˜ï¼Œè¦æ±‚è¿›è¡Œæˆ˜ç•¥è§„åˆ’ã€é€šè¿‡è¿­ä»£ç¼–ç è¿›è¡Œæ¢ç´¢æ€§åˆ†æã€è§£è¯»ä¸­é—´ç»“æœï¼Œå¹¶æœ€ç»ˆç»¼åˆå‡ºå¯æ‰§è¡Œçš„å»ºè®®ã€‚å·¥ç¨‹ç±»ä»»åŠ¡é‡‡ç”¨åŸºäºæ‰§è¡Œçš„å¤šæŒ‡æ ‡è¯„ä¼°ä½“ç³»è¿›è¡Œè¯„åˆ†ã€‚å¼€æ”¾å¼ä»»åŠ¡åˆ™ç”±ä¸€ä¸ªç»è¿‡å®éªŒéªŒè¯çš„ã€å¯é çš„LLM-judgeè¿›è¡Œè¯„ä¼°ï¼Œè¯¥è¯„ä¼°å™¨éµå¾ªä¸€å¥—åˆ†å±‚ä¸”ç²¾å¿ƒè®¾è®¡çš„è¯„åˆ†æ ‡å‡†ã€‚</p>
<p>æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œå³ä½¿æ˜¯å½“å‰æœ€å…ˆè¿›çš„AIæ™ºèƒ½ä½“åœ¨DACompä¸Šä¹Ÿè¡¨ç°æ¬ ä½³ã€‚æ•°æ®å·¥ç¨‹ä»»åŠ¡çš„è¡¨ç°å°¤å…¶ä½ä¸‹ï¼ŒæˆåŠŸç‡ä¸è¶³20%ï¼Œè¿™æš´éœ²äº†åœ¨æ•´ä½“ç®¡é“ç¼–æ’ï¼ˆè€Œä¸ä»…ä»…æ˜¯ä»£ç ç”Ÿæˆï¼‰æ–¹é¢å­˜åœ¨å…³é”®ç“¶é¢ˆã€‚æ•°æ®åˆ†æä»»åŠ¡çš„å¹³å‡å¾—åˆ†ä¹Ÿä½äº40%ï¼Œçªæ˜¾äº†æ™ºèƒ½ä½“åœ¨å¼€æ”¾å¼æ¨ç†æ–¹é¢å­˜åœ¨ä¸¥é‡ä¸è¶³ï¼Œå¹¶è¯æ˜å·¥ç¨‹èƒ½åŠ›ä¸åˆ†æèƒ½åŠ›æ˜¯ä¸¤ç§æˆªç„¶ä¸åŒçš„æŠ€èƒ½ã€‚é€šè¿‡æ¸…æ™°åœ°è¯Šæ–­è¿™äº›å±€é™ï¼ŒDACompä¸ºå¼€å‘çœŸæ­£é€‚ç”¨äºä¼ä¸šç¯å¢ƒçš„ã€èƒ½åŠ›å…¨é¢çš„è‡ªä¸»æ•°æ®æ™ºèƒ½ä½“æä¾›äº†ä¸€ä¸ªä¸¥è°¨ä¸”è´´è¿‘ç°å®çš„æµ‹è¯•å¹³å°ã€‚æˆ‘ä»¬çš„æ•°æ®ä¸ä»£ç å…¬å¼€äº <a href="https://link.juejin.cn?target=https%3A%2F%2Fda-comp.github.io%25E3%2580%2582" target="_blank" title="https://da-comp.github.io%E3%80%82" ref="nofollow noopener noreferrer">da-comp.github.ioã€‚</a></p>
<h2 data-id="heading-6">Qwen3-VL Technical Report</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.21631" target="_blank" title="https://arxiv.org/abs/2511.21631" ref="nofollow noopener noreferrer">Qwen3-VL æŠ€æœ¯æŠ¥å‘Š</a></p>
<p>æˆ‘ä»¬æ¨å‡º Qwen3-VLï¼Œè¿™æ˜¯ Qwen ç³»åˆ—è¿„ä»Šä¸ºæ­¢èƒ½åŠ›æœ€å¼ºçš„è§†è§‰è¯­è¨€æ¨¡å‹ (Vision-Language Model)ï¼Œåœ¨å¹¿æ³›çš„å¤šæ¨¡æ€åŸºå‡†æµ‹è¯•ä¸­å‡å–å¾—äº†å“è¶Šæ€§èƒ½ã€‚è¯¥æ¨¡å‹åŸç”Ÿæ”¯æŒé«˜è¾¾ 256K token çš„äº¤é”™å¤šæ¨¡æ€ä¸Šä¸‹æ–‡ï¼Œèƒ½å¤Ÿæ— ç¼èåˆæ–‡æœ¬ã€å›¾åƒä¸è§†é¢‘è¾“å…¥ã€‚æ¨¡å‹ç³»åˆ—åŒ…å«å¯†é›† (2B/4B/8B/32B) ä¸ä¸“å®¶æ··åˆ (Mixture-of-Experts, MoE) (30B-A3B/235B-A22B) ä¸¤ç§æ¶æ„å˜ä½“ï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯ä¸‹å¯¹å»¶è¿Ÿä¸è´¨é‡çš„æƒè¡¡éœ€æ±‚ã€‚Qwen3-VL çš„æ ¸å¿ƒä¼˜åŠ¿ä½“ç°åœ¨ä¸‰ä¸ªæ–¹é¢ï¼š(i) æ˜¾è‘—å¢å¼ºçš„çº¯æ–‡æœ¬ç†è§£èƒ½åŠ›ï¼Œåœ¨å¤šé¡¹æµ‹è¯•ä¸­è¶…è¶Šäº†åŒç­‰è§„æ¨¡çš„çº¯æ–‡æœ¬éª¨å¹²æ¨¡å‹ï¼›(ii) å¼ºå¤§çš„é•¿ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼Œå…¶åŸç”Ÿ 256K token çª—å£åŒæ—¶æ”¯æŒçº¯æ–‡æœ¬åŠäº¤é”™çš„å¤šæ¨¡æ€è¾“å…¥ï¼Œå¯å¯¹é•¿æ–‡æ¡£å’Œè§†é¢‘å†…å®¹å®ç°å‡†ç¡®çš„ä¿¡æ¯ä¿æŒã€æ£€ç´¢ä¸äº¤å‰å¼•ç”¨ï¼›(iii) å…ˆè¿›çš„è·¨æ¨¡æ€æ¨ç†èƒ½åŠ›ï¼Œåœ¨å•å›¾ã€å¤šå›¾åŠè§†é¢‘ä»»åŠ¡ä¸Šå‡è¡¨ç°ä¼˜å¼‚ï¼Œåœ¨ MMMU åŠè§†è§‰æ•°å­¦åŸºå‡† (å¦‚ MathVista å’Œ MathVision) ç­‰ç»¼åˆè¯„ä¼°ä¸­å–å¾—äº†é¢†å…ˆçš„æ€§èƒ½è¡¨ç°ã€‚åœ¨æ¨¡å‹æ¶æ„å±‚é¢ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä¸‰é¡¹å…³é”®å‡çº§ï¼š(i) å¼•å…¥å¢å¼ºå‹äº¤é”™-MRoPE (interleaved-MRoPE)ï¼Œä»¥æå‡å¯¹å›¾åƒä¸è§†é¢‘çš„æ—¶ç©ºå»ºæ¨¡èƒ½åŠ›ï¼›(ii) é›†æˆ DeepStack æ¨¡å—ï¼Œé€šè¿‡æœ‰æ•ˆåˆ©ç”¨å¤šå±‚æ¬¡ ViT ç‰¹å¾æ¥å¼ºåŒ–è§†è§‰ä¸è¯­è¨€çš„å¯¹é½ï¼›(iii) ä¸ºè§†é¢‘ä»»åŠ¡è®¾è®¡äº†åŸºäºæ–‡æœ¬çš„æ—¶é—´å¯¹é½æœºåˆ¶ï¼Œä» T-RoPE æ¼”è¿›ä¸ºæ˜¾å¼çš„æ–‡æœ¬æ—¶é—´æˆ³å¯¹é½ï¼Œä»è€Œå®ç°æ›´ç²¾å‡†çš„æ—¶åºå®šä½ã€‚åœ¨ç›¸è¿‘çš„ token é¢„ç®—ä¸å»¶è¿Ÿçº¦æŸä¸‹ï¼ŒQwen3-VL åœ¨å¯†é›†ä¸ MoE æ¶æ„ä¸­å‡å±•ç°å‡ºå“è¶Šçš„æ€§èƒ½ã€‚æˆ‘ä»¬æœŸå¾… Qwen3-VL èƒ½å¤Ÿæˆä¸ºå®é™…å·¥ä½œæµä¸­ï¼Œæ”¯æ’‘å›¾åƒæ¨ç†ã€æ™ºèƒ½ä½“å†³ç­–ä»¥åŠå¤šæ¨¡æ€ä»£ç æ™ºèƒ½çš„åŸºç¡€å¼•æ“ã€‚</p>
<h2 data-id="heading-7">ToolOrchestra: é€šè¿‡é«˜æ•ˆçš„æ¨¡å‹ä¸å·¥å…·ç¼–æ’å¢å¼ºæ™ºèƒ½</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.21689" target="_blank" title="https://arxiv.org/abs/2511.21689" ref="nofollow noopener noreferrer">ToolOrchestra: é€šè¿‡é«˜æ•ˆçš„æ¨¡å‹ä¸å·¥å…·ç¼–æ’å¢å¼ºæ™ºèƒ½</a></p>
<p>å¤§è¯­è¨€æ¨¡å‹ (LLM) æ˜¯å¼ºå¤§çš„é€šç”¨ç³»ç»Ÿï¼Œä½†åœ¨è§£å†³è¯¸å¦‚â€œäººç±»ç»ˆæè€ƒè¯•â€ (Humanity's Last Exam, HLE) è¿™ç±»æ·±åˆ»ä¸”å¤æ‚çš„é—®é¢˜æ—¶ï¼Œä»é¢ä¸´æ¦‚å¿µä¸Šçš„æŒ‘æˆ˜å’Œè¾ƒé«˜çš„è®¡ç®—æˆæœ¬ã€‚æˆ‘ä»¬çš„ç ”ç©¶è¡¨æ˜ï¼Œé€šè¿‡å°å‹ç¼–æ’å™¨æ¥ç®¡ç†å…¶ä»–æ¨¡å‹ä¸å¤šæ ·åŒ–å·¥å…·ï¼Œä¸ä»…èƒ½å¤Ÿçªç ´æ™ºèƒ½æ°´å¹³çš„æé™ï¼Œè¿˜èƒ½æå‡è§£å†³å¤æ‚ AI æ™ºèƒ½ä½“ (AI Agent) ä»»åŠ¡çš„æ•ˆç‡ã€‚æœ¬æ–‡æå‡ºäº† ToolOrchestraï¼Œä¸€ç§ç”¨äºè®­ç»ƒå°å‹ç¼–æ’å™¨ä»¥åè°ƒæ™ºèƒ½å·¥å…·çš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ˜ç¡®é‡‡ç”¨å¼ºåŒ–å­¦ä¹ ï¼Œå¹¶è®¾è®¡äº†åŸºäºç»“æœã€æ•ˆç‡å’Œç”¨æˆ·åå¥½çš„å¥–åŠ±æœºåˆ¶ã€‚åŸºäº ToolOrchestraï¼Œæˆ‘ä»¬è®­ç»ƒå‡ºäº† Orchestratorï¼Œè¿™æ˜¯ä¸€ä¸ªæ‹¥æœ‰ 80 äº¿å‚æ•°çš„æ¨¡å‹ã€‚å¯¹äºç»™å®šçš„æŸ¥è¯¢ï¼ŒOrchestrator èƒ½ä»¥æ¯”ä»¥å¾€çš„å·¥å…·ä½¿ç”¨æ™ºèƒ½ä½“æ›´ä½çš„æˆæœ¬è·å¾—æ›´é«˜çš„å‡†ç¡®ç‡ï¼ŒåŒæ—¶å…¶å·¥å…·é€‰æ‹©è¡Œä¸ºèƒ½ä¸ç”¨æˆ·åå¥½ä¿æŒä¸€è‡´ã€‚åœ¨ HLE åŸºå‡†æµ‹è¯•ä¸­ï¼ŒOrchestrator å–å¾—äº† 37.1% çš„å¾—åˆ†ï¼Œè¶…è¶Šäº† GPT-5 (35.1%)ï¼Œå¹¶ä¸”æ•ˆç‡æ˜¯åè€…çš„ 2.5 å€ã€‚åœ¨ tau2-Bench å’Œ FRAMES åŸºå‡†ä¸Šï¼ŒOrchestrator ä»¥æ˜¾è‘—ä¼˜åŠ¿é¢†å…ˆäº GPT-5ï¼Œè€Œæˆæœ¬ä»…çº¦ä¸ºåè€…çš„ 30%ã€‚æ·±å…¥åˆ†æè¡¨æ˜ï¼ŒOrchestrator åœ¨å¤šé¡¹æŒ‡æ ‡ä¸‹å®ç°äº†æ€§èƒ½ä¸æˆæœ¬çš„æœ€ä½³æƒè¡¡ï¼Œå¹¶ä¸”å¯¹æœªè§è¿‡çš„å·¥å…·å±•ç°å‡ºå¼ºå¤§çš„æ³›åŒ–èƒ½åŠ›ã€‚è¿™äº›ç»“æœè¯æ˜ï¼Œåˆ©ç”¨è½»é‡çº§ç¼–æ’æ¨¡å‹ç»„åˆå¤šæ ·åŒ–å·¥å…·ï¼Œç›¸æ¯”ç°æœ‰æ–¹æ³•ä¸ä»…æ•ˆç‡æ›´é«˜ï¼Œè€Œä¸”æ•ˆæœæ›´å¥½ï¼Œä»è€Œä¸ºæ„å»ºå®ç”¨ã€å¯æ‰©å±•çš„å·¥å…·å¢å¼ºæ¨ç†ç³»ç»Ÿé“ºå¹³äº†é“è·¯ã€‚</p>
<h2 data-id="heading-8">Envision: é¢å‘å› æœä¸–ç•Œè¿‡ç¨‹æ´å¯Ÿçš„ç»Ÿä¸€ç†è§£ä¸ç”ŸæˆåŸºå‡†</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.01816" target="_blank" title="https://arxiv.org/abs/2512.01816" ref="nofollow noopener noreferrer">Envision: é¢å‘å› æœä¸–ç•Œè¿‡ç¨‹æ´å¯Ÿçš„ç»Ÿä¸€ç†è§£ä¸ç”ŸæˆåŸºå‡†</a></p>
<p>å½“å‰çš„å¤šæ¨¡æ€æ¨¡å‹æ—¨åœ¨é€šè¿‡ç»Ÿä¸€ç†è§£ä¸ç”Ÿæˆæ¥å…‹æœå•æ¨¡æ€è¡¨ç¤ºçš„å±€é™ï¼Œé€šå¸¸é‡‡ç”¨æ–‡æœ¬åˆ°å›¾åƒ (T2I) ä»»åŠ¡æ¥ç¡®ä¿è¯­ä¹‰ä¸€è‡´æ€§ã€‚ç„¶è€Œï¼Œå…¶åœ¨è®­ç»ƒå’Œè¯„ä¼°ä¸­å¯¹é™æ€å•å›¾åƒç”Ÿæˆçš„ä¾èµ–ï¼Œå¯¼è‡´äº†å¯¹é™æ€æ¨¡å¼åŒ¹é…ä¸è¯­ä¹‰èåˆçš„è¿‡æ‹Ÿåˆï¼ŒåŒæ—¶ä¹Ÿä»æ ¹æœ¬ä¸Šé™åˆ¶äº†æ¨¡å‹å¯¹éšæ—¶é—´æ¼”å˜çš„åŠ¨æ€è¿‡ç¨‹è¿›è¡Œå»ºæ¨¡çš„èƒ½åŠ›ã€‚ä¸ºåº”å¯¹è¿™äº›å±€é™ï¼Œæˆ‘ä»¬æå‡ºäº† Envisionâ€”â€”ä¸€ä¸ªç”¨äºé“¾å¼æ–‡æœ¬åˆ°å¤šå›¾åƒç”Ÿæˆçš„å› æœäº‹ä»¶è¿›å±•åŸºå‡†ã€‚è¯¥åŸºå‡†åŸºäºä¸–ç•ŒçŸ¥è¯†ï¼Œå¹¶ä»¥æ—¶ç©ºå› æœå…³ç³»ä¸ºç»“æ„ï¼Œå®ƒæ•´åˆäº†ç°æœ‰çš„è¯„ä¼°ç»´åº¦ï¼Œå¹¶åŒ…å«äº†æ¶µç›–å…­ä¸ªç§‘å­¦ä¸äººæ–‡é¢†åŸŸçš„ 1000 ä¸ªå››é˜¶æ®µæç¤ºã€‚ä¸ºäº†å°†è¯„ä¼°ä»å•å›¾åƒæ‰©å±•åˆ°åºåˆ—å¸§ï¼Œå¹¶æ£€éªŒæ¨¡å‹æ˜¯å¦åœ¨éµå¾ªå› æœ-æ—¶é—´çº¦æŸçš„åŒæ—¶çœŸæ­£å†…åŒ–äº†ä¸–ç•ŒçŸ¥è¯†ï¼Œæˆ‘ä»¬å¼•å…¥äº† Envision-Scoreï¼Œè¿™æ˜¯ä¸€ä¸ªç»¼åˆäº†å¤šç»´ä¸€è‡´æ€§ã€ç‰©ç†åˆç†æ€§ä¸ç¾å­¦è´¨é‡çš„æ•´ä½“è¯„ä¼°æŒ‡æ ‡ã€‚å¯¹ 15 ä¸ªæ¨¡å‹ (10 ä¸ªä¸“ç”¨ T2I æ¨¡å‹ï¼Œ5 ä¸ªç»Ÿä¸€æ¨¡å‹) çš„å…¨é¢è¯„ä¼°è¡¨æ˜ï¼šä¸“ç”¨ T2I æ¨¡å‹åœ¨ç¾å­¦æ¸²æŸ“ä¸Šè¡¨ç°ç†Ÿç»ƒï¼Œä½†ç¼ºä¹æ·±å±‚çš„ä¸–ç•ŒçŸ¥è¯†ã€‚ç»Ÿä¸€å¤šæ¨¡æ€æ¨¡å‹åˆ™å¼¥è¡¥äº†è¿™ä¸€ä¸è¶³ï¼Œåœ¨å› æœå™äº‹è¿è´¯æ€§ä¸ŠæŒç»­ä¼˜äºä¸“ç”¨æ¨¡å‹ã€‚ç„¶è€Œï¼Œå³ä¾¿æ˜¯è¿™äº›ç»Ÿä¸€æ¶æ„ï¼Œå…¶æ€§èƒ½ä»è½åäºé—­æºæ¨¡å‹ï¼Œä¸”éš¾ä»¥å…‹æœæ—¶ç©ºä¸€è‡´æ€§çš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚è¿™è¡¨æ˜ï¼Œä¸“æ³¨äºå› æœå­¤ç«‹çš„å•å›¾åƒä¼šé˜»ç¢å¤šå¸§æ¨ç†ä¸ç”Ÿæˆï¼Œå¯¼è‡´æ¨¡å‹åå‘äºé™æ€æ¨¡å¼åŒ¹é…è€ŒéåŠ¨æ€ä¸–ç•Œå»ºæ¨¡ï¼Œæœ€ç»ˆé™åˆ¶äº†ä¸–ç•ŒçŸ¥è¯†çš„å†…åŒ–ä¸å†…å®¹çš„ç”Ÿæˆã€‚</p>
<h2 data-id="heading-9">Stabilizing Reinforcement Learning with LLMs: Formulation and Practices</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.01374" target="_blank" title="https://arxiv.org/abs/2512.01374" ref="nofollow noopener noreferrer">ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ç¨³å®šå¼ºåŒ–å­¦ä¹ ï¼šå…¬å¼åŒ–ä¸æ–¹æ³•</a></p>
<p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºå¤§è¯­è¨€æ¨¡å‹ (LLM) çš„å¼ºåŒ–å­¦ä¹  (RL) æ–°å…¬å¼ï¼Œé˜é‡Šäº†ä¸ºä½•ä»¥åŠä½•ç§æ¡ä»¶ä¸‹ï¼Œå¯ä»¥é€šè¿‡ REINFORCE ç­‰ç­–ç•¥æ¢¯åº¦æ–¹æ³•ä¸­çš„ä»£ç† token çº§åˆ«ç›®æ ‡å‡½æ•°æ¥ä¼˜åŒ–çœŸå®çš„åºåˆ—çº§åˆ«å¥–åŠ±ã€‚å…·ä½“è€Œè¨€ï¼Œé€šè¿‡ä¸€é˜¶è¿‘ä¼¼åˆ†æï¼Œæˆ‘ä»¬è¯æ˜ï¼Œåªæœ‰å½“è®­ç»ƒ-æ¨æ–­å·®å¼‚ä¸ç­–ç•¥æ»åæ€§å‡è¢«æœ€å°åŒ–æ—¶ï¼Œè¯¥ä»£ç†ç›®æ ‡å‡½æ•°çš„æœ‰æ•ˆæ€§æ‰èƒ½å¾—åˆ°ä¿è¯ã€‚è¿™ä¸€è§è§£ä»åŸç†ä¸Šè§£é‡Šäº†å‡ ç§å¹¿æ³›é‡‡ç”¨çš„ RL è®­ç»ƒç¨³å®šåŒ–æŠ€æœ¯çš„å…³é”®ä½œç”¨ï¼ŒåŒ…æ‹¬é‡è¦æ€§é‡‡æ ·æ ¡æ­£ã€æ¢¯åº¦è£å‰ªï¼Œä»¥åŠç‰¹åˆ«é’ˆå¯¹æ··åˆä¸“å®¶ (Mixture-of-Experts, MoE) æ¨¡å‹çš„è·¯ç”±é‡æ”¾ã€‚é€šè¿‡åœ¨ä¸€ä¸ªæ€»è®¡æ¶ˆè€—æ•°åä¸‡ GPU å°æ—¶çš„ 300 äº¿å‚æ•° MoE æ¨¡å‹ä¸Šè¿›è¡Œå¤§é‡å®éªŒï¼Œæˆ‘ä»¬å‘ç°ï¼šå¯¹äºåŒç­–ç•¥ (on-policy) è®­ç»ƒï¼Œå¸¦æœ‰é‡è¦æ€§é‡‡æ ·æ ¡æ­£çš„åŸºæœ¬ç­–ç•¥æ¢¯åº¦ç®—æ³•èƒ½å®ç°æœ€é«˜çš„è®­ç»ƒç¨³å®šæ€§ã€‚è€Œå½“å¼•å…¥å¼‚ç­–ç•¥ (off-policy) æ›´æ–°ä»¥åŠ é€Ÿæ”¶æ•›æ—¶ï¼Œç»“åˆæ¢¯åº¦è£å‰ªä¸è·¯ç”±é‡æ”¾å¯¹äºç¼“è§£å› ç­–ç•¥æ»åæ€§å¼•èµ·çš„ä¸ç¨³å®šæ€§è‡³å…³é‡è¦ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦è®­ç»ƒè¶‹äºç¨³å®šï¼Œæ— è®ºé‡‡ç”¨ä½•ç§å†·å¯åŠ¨åˆå§‹åŒ–æ–¹å¼ï¼ŒæŒç»­ä¼˜åŒ–æ€»èƒ½è·å¾—ç›¸å½“çš„æœ€ç»ˆæ€§èƒ½ã€‚æˆ‘ä»¬å¸Œæœ›ï¼Œæ‰€åˆ†äº«çš„è§è§£ä¸å¼€å‘çš„ç¨³å®š RL è®­ç»ƒæ–¹æ¡ˆèƒ½ä¿ƒè¿›æœªæ¥çš„ç ”ç©¶ã€‚</p>
<h2 data-id="heading-10">DeepSeekMath-V2: Towards Self-Verifiable Mathematical Reasoning</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.22570" target="_blank" title="https://arxiv.org/abs/2511.22570" ref="nofollow noopener noreferrer">DeepSeekMath-V2: è¿ˆå‘å¯è‡ªæˆ‘éªŒè¯çš„æ•°å­¦æ¨ç†</a></p>
<p>å¤§è¯­è¨€æ¨¡å‹åœ¨æ•°å­¦æ¨ç†æ–¹é¢å–å¾—äº†æ˜¾è‘—è¿›å±•ã€‚æ•°å­¦æ¨ç†æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªé‡è¦æµ‹è¯•å¹³å°ï¼Œå…¶è¿›ä¸€æ­¥å‘å±•å¯èƒ½å½±å“ç§‘å­¦ç ”ç©¶ã€‚é€šè¿‡é‡‡ç”¨å¥–åŠ±æœ€ç»ˆæ­£ç¡®ç­”æ¡ˆçš„å¼ºåŒ–å­¦ä¹ æ¥æ‰©å±•æ¨ç†èƒ½åŠ›ï¼Œå¤§è¯­è¨€æ¨¡å‹åœ¨ä¸€å¹´å†…ä»æ€§èƒ½ä¸ä½³æå‡åˆ°åœ¨ AIMEã€HMMT ç­‰å®šé‡æ¨ç†ç«èµ›ä¸­è¾¾åˆ°æ€§èƒ½é¥±å’Œã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•å­˜åœ¨æ ¹æœ¬æ€§å±€é™ã€‚è¿½æ±‚æ›´é«˜çš„æœ€ç»ˆç­”æ¡ˆå‡†ç¡®ç‡æ— æ³•è§£å†³ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šæ­£ç¡®ç­”æ¡ˆå¹¶ä¸èƒ½ä¿è¯æ¨ç†è¿‡ç¨‹æ­£ç¡®ã€‚æ­¤å¤–ï¼Œè®¸å¤šæ•°å­¦ä»»åŠ¡ï¼ˆå¦‚å®šç†è¯æ˜ï¼‰éœ€è¦ä¸¥æ ¼çš„é€æ­¥æ¨å¯¼ï¼Œè€Œéä»…ä»…ç»™å‡ºæ•°å€¼ç­”æ¡ˆï¼Œè¿™ä½¿å¾—åŸºäºæœ€ç»ˆç­”æ¡ˆçš„å¥–åŠ±æœºåˆ¶æ— æ³•é€‚ç”¨ã€‚ä¸ºäº†çªç ´æ·±åº¦æ¨ç†çš„ç“¶é¢ˆï¼Œæˆ‘ä»¬è®¤ä¸ºæœ‰å¿…è¦å¯¹æ•°å­¦æ¨ç†çš„å…¨é¢æ€§å’Œä¸¥è°¨æ€§è¿›è¡ŒéªŒè¯ã€‚è‡ªæˆ‘éªŒè¯å¯¹äºæ‰©å±•æµ‹è¯•é˜¶æ®µçš„è®¡ç®—èµ„æºå°¤ä¸ºé‡è¦ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›æ²¡æœ‰å·²çŸ¥è§£çš„å¼€æ”¾æ€§é—®é¢˜ã€‚ä¸ºå®ç°å¯è‡ªæˆ‘éªŒè¯çš„æ•°å­¦æ¨ç†ï¼Œæˆ‘ä»¬ç ”ç©¶äº†å¦‚ä½•è®­ç»ƒä¸€ä¸ªå‡†ç¡®ã€å¯é çš„å¤§è¯­è¨€æ¨¡å‹éªŒè¯å™¨ç”¨äºå®šç†è¯æ˜ã€‚æ¥ç€ï¼Œæˆ‘ä»¬ä»¥è¯¥éªŒè¯å™¨ä½œä¸ºå¥–åŠ±æ¨¡å‹æ¥è®­ç»ƒä¸€ä¸ªè¯æ˜ç”Ÿæˆå™¨ï¼Œå¹¶æ¿€åŠ±ç”Ÿæˆå™¨åœ¨æœ€ç»ˆç¡®å®šè¯æ˜å‰ï¼Œå°½å¯èƒ½å¤šåœ°è¯†åˆ«å¹¶è§£å†³è‡ªèº«è¯æ˜ä¸­çš„é—®é¢˜ã€‚ä¸ºé˜²æ­¢ç”Ÿæˆå™¨èƒ½åŠ›å¢å¼ºå¯¼è‡´ç”Ÿæˆä¸éªŒè¯ä¹‹é—´çš„å·®è·ç¼©å°ï¼Œæˆ‘ä»¬æå‡ºé€šè¿‡å¢åŠ éªŒè¯é˜¶æ®µçš„è®¡ç®—èµ„æºï¼Œè‡ªåŠ¨æ ‡æ³¨æ–°äº§ç”Ÿçš„ã€éš¾ä»¥éªŒè¯çš„è¯æ˜ï¼Œä»è€Œåˆ›å»ºè®­ç»ƒæ•°æ®ä»¥æŒç»­æ”¹è¿›éªŒè¯å™¨ã€‚ç”±æ­¤å¾—åˆ°çš„æ¨¡å‹ DeepSeekMath-V2 å±•ç°å‡ºå¼ºå¤§çš„å®šç†è¯æ˜èƒ½åŠ›ï¼šåœ¨å¢åŠ æµ‹è¯•é˜¶æ®µè®¡ç®—èµ„æºçš„æƒ…å†µä¸‹ï¼Œå®ƒåœ¨ IMO 2025 å’Œ CMO 2024 ä¸Šè·å¾—äº†é‡‘ç‰Œçº§åˆ†æ•°ï¼Œå¹¶åœ¨ Putnam 2024 ä¸Šå–å¾—äº†æ¥è¿‘æ»¡åˆ†çš„ 118/120 åˆ†ã€‚</p>
<h2 data-id="heading-11">Nex-N1: é€šè¿‡å¤§è§„æ¨¡ç¯å¢ƒæ„å»ºçš„ç»Ÿä¸€ç”Ÿæ€ç³»ç»Ÿè®­ç»ƒçš„æ™ºèƒ½ä½“æ¨¡å‹</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.04987" target="_blank" title="https://arxiv.org/abs/2512.04987" ref="nofollow noopener noreferrer">Nex-N1: é€šè¿‡å¤§è§„æ¨¡ç¯å¢ƒæ„å»ºçš„ç»Ÿä¸€ç”Ÿæ€ç³»ç»Ÿè®­ç»ƒçš„æ™ºèƒ½ä½“æ¨¡å‹</a></p>
<p>å¤§è¯­è¨€æ¨¡å‹ (LLMs) ä»è¢«åŠ¨å“åº”è€…å‘è‡ªä¸»æ™ºèƒ½ä½“çš„æ¼”è¿›ï¼Œè¦æ±‚å­¦ä¹ èŒƒå¼å‘ç”Ÿæ ¹æœ¬æ€§è½¬å˜â€”â€”å³ä»é™æ€æ¨¡ä»¿è½¬å‘æ¿€åŠ±é©±åŠ¨çš„å†³ç­–ã€‚ç„¶è€Œï¼Œç”±äºç¼ºä¹èƒ½å¤Ÿä¸ºæœ‰æ•ˆç­–ç•¥å­¦ä¹ ç”Ÿæˆé«˜è´¨é‡äº¤äº’ä¿¡å·çš„å¯æ‰©å±•åŸºç¡€è®¾æ–½ï¼Œè¿™ä¸€è½¬å˜å—åˆ°äº†ä¸¥é‡é˜»ç¢ã€‚ä¸ºè§£å†³æ­¤é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç»¼åˆæ€§æ–¹æ³•ï¼Œæ—¨åœ¨ç³»ç»ŸåŒ–åœ°æå‡äº¤äº’ç¯å¢ƒçš„å¤šæ ·æ€§å’Œå¤æ‚æ€§ã€‚è¯¥æ–¹æ³•é€šè¿‡è§£å†³ä¸‰ä¸ªç›¸äº’ç‹¬ç«‹ä¸”äº’è¡¥çš„ç»´åº¦æ¥å®ç°è§„æ¨¡åŒ–æ„å»ºï¼š(1) å¤æ‚æ€§ï¼šNexAUï¼Œä¸€ä¸ªçµæ´»çš„æ™ºèƒ½ä½“æ¡†æ¶ï¼Œæ”¯æŒé€šè¿‡ç®€å•é…ç½®æ„å»ºå¤æ‚çš„æ™ºèƒ½ä½“å±‚æ¬¡ç»“æ„ï¼›(2) å¤šæ ·æ€§ï¼šNexA4A èƒ½å¤Ÿä»è‡ªç„¶è¯­è¨€è‡ªåŠ¨ç”Ÿæˆå¤šæ ·åŒ–çš„æ™ºèƒ½ä½“å±‚æ¬¡ç»“æ„ï¼Œä»è€Œè¦†ç›–æ— é™é¢†åŸŸï¼›(3) ä¿çœŸåº¦ï¼šNexGAP é€šè¿‡é›†æˆåŠ¨æ€çš„çœŸå®ä¸–ç•Œç¯å¢ƒæ¥åˆæˆå…·èº«è½¨è¿¹ï¼Œä»¥æ­¤å¼¥åˆä»¿çœŸä¸ç°å®ä¹‹é—´çš„é¸¿æ²Ÿã€‚æˆ‘ä»¬åŸºäºè¯¥åŸºç¡€è®¾æ–½æ‰€å»ºç«‹çš„å¤šæ ·ä¸”å¤æ‚çš„äº¤äº’ç¯å¢ƒå¯¹ Nex-N1 è¿›è¡Œäº†è®­ç»ƒã€‚åœ¨ SWE-bench å’Œ tau2 ç­‰åŸºå‡†æµ‹è¯•ä¸Šçš„å®è¯ç»“æœè¡¨æ˜ï¼ŒNex-N1 å§‹ç»ˆä¼˜äºæœ€å…ˆè¿›çš„å¼€æºæ¨¡å‹ï¼Œå¹¶ä¸”åœ¨å¤æ‚çš„æ™ºèƒ½ä½“ä»»åŠ¡ä¸Šï¼Œå…¶æ€§èƒ½å¯ä¸å‰æ²¿çš„ä¸“æœ‰æ¨¡å‹ç›¸ç«äº‰ã€‚æˆ‘ä»¬å¼€æºäº† Nex ç”Ÿæ€ç³»ç»ŸåŠæ¨¡å‹æƒé‡ï¼Œä»¥æ¨åŠ¨ç›¸å…³é¢†åŸŸçš„è¿›ä¸€æ­¥ç ”ç©¶ã€‚</p>
<h2 data-id="heading-12">MultiShotMaster: å¯æ§å¤šé•œå¤´è§†é¢‘ç”Ÿæˆæ¡†æ¶</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.03041" target="_blank" title="https://arxiv.org/abs/2512.03041" ref="nofollow noopener noreferrer">MultiShotMaster: å¯æ§å¤šé•œå¤´è§†é¢‘ç”Ÿæˆæ¡†æ¶</a></p>
<p>å½“å‰çš„è§†é¢‘ç”ŸæˆæŠ€æœ¯æ“…é•¿ç”Ÿæˆå•é•œå¤´ç‰‡æ®µï¼Œä½†éš¾ä»¥ç”Ÿæˆå…·æœ‰å™äº‹æ€§çš„å¤šé•œå¤´è§†é¢‘ã€‚è¿™ç±»è§†é¢‘éœ€è¦çµæ´»çš„é•œå¤´å®‰æ’ã€è¿è´¯çš„å™äº‹é€»è¾‘ä»¥åŠè¶…è¶Šæ–‡æœ¬æè¿°çš„æ§åˆ¶èƒ½åŠ›ã€‚ä¸ºåº”å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº† MultiShotMasterï¼Œä¸€ä¸ªå…·å¤‡é«˜å¯æ§æ€§çš„å¤šé•œå¤´è§†é¢‘ç”Ÿæˆæ¡†æ¶ã€‚æˆ‘ä»¬é€šè¿‡é›†æˆä¸¤ç§æ–°é¢–çš„ RoPE (Rotary Position Embedding) å˜ä½“ï¼Œæ‰©å±•äº†ä¸€ä¸ªé¢„è®­ç»ƒçš„å•é•œå¤´æ¨¡å‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¼•å…¥äº†å¤šé•œå¤´å™äº‹ RoPEï¼Œå®ƒåœ¨é•œå¤´åˆ‡æ¢æ—¶æ–½åŠ æ˜¾å¼çš„ç›¸ä½åç§»ï¼Œä»è€Œåœ¨ç»´æŒæ—¶åºå™äº‹çš„å‰æä¸‹å®ç°çµæ´»çš„é•œå¤´ç¼–æ’ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è®¾è®¡äº†æ—¶ç©ºä½ç½®æ„ŸçŸ¥ RoPEï¼Œä»¥èå…¥å‚è€ƒ token å’Œ grounding (æ¥åœ°) ä¿¡å·ï¼Œä»è€Œå®ç°åŸºäºæ—¶ç©ºä½ç½®çš„å‚è€ƒä¿¡æ¯æ³¨å…¥ã€‚æ­¤å¤–ï¼Œä¸ºå…‹æœæ•°æ®ç¨€ç¼ºé—®é¢˜ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€å¥—è‡ªåŠ¨åŒ–æ•°æ®æ ‡æ³¨æµæ°´çº¿ï¼Œç”¨äºä»è§†é¢‘æ•°æ®ä¸­è§£æå‡ºå¤šé•œå¤´è§†é¢‘ç‰‡æ®µã€å¯¹åº”å­—å¹•ã€è·¨é•œå¤´ grounding ä¿¡å·ä»¥åŠå‚è€ƒå›¾åƒã€‚æˆ‘ä»¬çš„æ¡†æ¶åˆ©ç”¨å…¶å†…åœ¨çš„æ¶æ„ç‰¹æ€§æ¥æ”¯æŒå¤šé•œå¤´è§†é¢‘ç”Ÿæˆï¼Œä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼šæ–‡æœ¬é©±åŠ¨çš„é•œå¤´é—´ä¸€è‡´æ€§ã€æ”¯æŒè¿åŠ¨æ§åˆ¶çš„è‡ªå®šä¹‰ä¸»ä½“ï¼ˆå¦‚ç‰©ä½“æˆ–è§’è‰²ï¼‰ï¼Œä»¥åŠèƒŒæ™¯é©±åŠ¨çš„è‡ªå®šä¹‰åœºæ™¯ã€‚é•œå¤´æ•°é‡å’Œæ—¶é•¿å‡å¯çµæ´»é…ç½®ã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ¡†æ¶åœ¨æ€§èƒ½å’Œå¯æ§æ€§æ–¹é¢å‡è¡¨ç°ä¼˜å¼‚ã€‚</p>
<h2 data-id="heading-13">Deep Research: A Systematic Survey</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.02038" target="_blank" title="https://arxiv.org/abs/2512.02038" ref="nofollow noopener noreferrer">æ·±åº¦ç ”ç©¶ï¼šä¸€é¡¹ç³»ç»Ÿæ€§ç»¼è¿°</a></p>
<p>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰å·²è¿…é€Ÿä»æ–‡æœ¬ç”Ÿæˆå·¥å…·æ¼”å˜ä¸ºå¼ºå¤§çš„é—®é¢˜æ±‚è§£å™¨ã€‚ç„¶è€Œï¼Œè®¸å¤šå¼€æ”¾æ€§ä»»åŠ¡è¦æ±‚å…·å¤‡æ‰¹åˆ¤æ€§æ€ç»´ã€æ•´åˆå¤šæºä¿¡æ¯å¹¶äº§ç”Ÿå¯éªŒè¯çš„è¾“å‡ºï¼Œè¿™è¶…å‡ºäº†å•æ¬¡æç¤ºï¼ˆsingle-shot promptingï¼‰æˆ–æ ‡å‡†æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰çš„èƒ½åŠ›èŒƒå›´ã€‚è¿‘æœŸï¼Œå¤§é‡ç ”ç©¶å¼€å§‹æ¢ç´¢æ·±åº¦ç ”ç©¶ï¼ˆDeep Researchï¼Œ DRï¼‰ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å°†å¤§è¯­è¨€æ¨¡å‹çš„æ¨ç†èƒ½åŠ›ä¸æœç´¢å¼•æ“ç­‰å¤–éƒ¨å·¥å…·ç›¸ç»“åˆï¼Œä»è€Œèµ‹èƒ½å¤§è¯­è¨€æ¨¡å‹æˆä¸ºèƒ½å¤Ÿå®Œæˆå¤æ‚ã€å¼€æ”¾å¼ä»»åŠ¡çš„ç ”ç©¶æ™ºèƒ½ä½“ï¼ˆresearch agentsï¼‰ã€‚æœ¬ç»¼è¿°å¯¹æ·±åº¦ç ”ç©¶ç³»ç»Ÿè¿›è¡Œäº†å…¨é¢è€Œç³»ç»Ÿçš„æ¢³ç†ï¼Œå†…å®¹æ¶µç›–æ¸…æ™°çš„è·¯çº¿å›¾ã€åŸºç¡€ç»„ä»¶ã€å®é™…å®ç°æŠ€æœ¯ã€å…³é”®æŒ‘æˆ˜ä»¥åŠæœªæ¥æ–¹å‘ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®å¦‚ä¸‹ï¼šï¼ˆiï¼‰å½¢å¼åŒ–äº†ä¸€ä¸ªä¸‰é˜¶æ®µè·¯çº¿å›¾ï¼Œå¹¶æ˜ç¡®äº†æ·±åº¦ç ”ç©¶ä¸ç›¸å…³èŒƒå¼çš„åŒºåˆ«ï¼›ï¼ˆiiï¼‰ä»‹ç»äº†å››ä¸ªå…³é”®ç»„ä»¶ï¼šæŸ¥è¯¢è§„åˆ’ã€ä¿¡æ¯è·å–ã€è®°å¿†ç®¡ç†ä¸ç­”æ¡ˆç”Ÿæˆï¼Œå¹¶ä¸ºæ¯ä¸ªç»„ä»¶æä¾›äº†ç»†ç²’åº¦çš„å­ç±»åˆ«åˆ’åˆ†ï¼›ï¼ˆiiiï¼‰æ€»ç»“äº†åŒ…æ‹¬æç¤ºå·¥ç¨‹ã€ç›‘ç£å¾®è°ƒä»¥åŠæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ åœ¨å†…çš„ä¼˜åŒ–æŠ€æœ¯ï¼›ï¼ˆivï¼‰æ•´åˆäº†ç›¸å…³çš„è¯„ä¼°æ ‡å‡†ä¸å¼€æ”¾æŒ‘æˆ˜ï¼Œæ—¨åœ¨ä¸ºæœªæ¥çš„å‘å±•æä¾›æŒ‡å¯¼ä¸ä¾¿åˆ©ã€‚é‰´äºæ·±åº¦ç ”ç©¶é¢†åŸŸæ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œæˆ‘ä»¬å°†æŒç»­ç»´æŠ¤å¹¶æ›´æ–°æœ¬ç»¼è¿°ï¼Œä»¥åŒæ­¥åæ˜ è¯¥é¢†åŸŸçš„æœ€æ–°è¿›å±•ã€‚</p>
<h2 data-id="heading-14">How Far Are We from Genuinely Useful Deep Research Agents?</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.01948" target="_blank" title="https://arxiv.org/abs/2512.01948" ref="nofollow noopener noreferrer">æˆ‘ä»¬è·ç¦»çœŸæ­£æœ‰ç”¨çš„æ·±åº¦ç ”ç©¶æ™ºèƒ½ä½“è¿˜æœ‰å¤šè¿œï¼Ÿ</a></p>
<p>æ·±åº¦ç ”ç©¶æ™ºèƒ½ä½“ (Deep Research Agents, DRAs) æ—¨åœ¨é€šè¿‡è¿­ä»£çš„ä¿¡æ¯æ£€ç´¢ä¸ç»¼åˆï¼Œè‡ªåŠ¨ç”Ÿæˆåˆ†æå¸ˆçº§åˆ«çš„æŠ¥å‘Šã€‚ç„¶è€Œï¼Œç°æœ‰çš„å¤§å¤šæ•° DRAs ä»…åœ¨é—®ç­”åŸºå‡†ä¸Šè¿›è¡ŒéªŒè¯ï¼Œè€Œç”Ÿæˆç»¼åˆæ€§æŠ¥å‘Šçš„ç ”ç©¶ä»è¢«å¿½è§†ã€‚æ›´ä¸¥é‡çš„æ˜¯ï¼Œå½“å‰ç”¨äºæŠ¥å‘Šç»¼åˆçš„åŸºå‡†å­˜åœ¨ä»»åŠ¡å¤æ‚æ€§å’Œè¯„ä¼°æŒ‡æ ‡ä¸»è§‚æ€§å¼ºçš„é—®é¢˜ï¼Œè¿™æ—¢æ— æ³•åæ˜ çœŸå®ç”¨æˆ·éœ€æ±‚ï¼Œä¹Ÿé™åˆ¶äº†ç”ŸæˆæŠ¥å‘Šçš„å®é™…æ•ˆç”¨ã€‚ä¸ºå¼¥è¡¥è¿™äº›ä¸è¶³ï¼Œæˆ‘ä»¬æå‡ºäº†ç»†ç²’åº¦æ·±åº¦ç ”ç©¶åŸºå‡† (Fine-grained DEepResearch bench, FINDER)ã€‚è¯¥åŸºå‡†ç»è¿‡å¢å¼ºï¼ŒåŒ…å« 100 ä¸ªäººå·¥ç²¾å¿ƒç­–åˆ’çš„ç ”ç©¶ä»»åŠ¡ï¼Œå¹¶é…æœ‰ 419 ä¸ªç»“æ„åŒ–æ£€æŸ¥é¡¹ï¼Œç”¨ä»¥æ ‡å‡†åŒ–æŠ¥å‘Šçš„ç»“æ„ã€åˆ†ææ·±åº¦å’Œäº‹å®ä¾æ®ã€‚åŸºäºä¸»æµ DRAs ç”Ÿæˆçš„å¤§çº¦ 1,000 ä»½æŠ¥å‘Šï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æå‡ºäº†æ·±åº¦ç ”ç©¶å¤±è´¥åˆ†ç±»æ³• (Deep rEsearch Failure Taxonomy, DEFT)ï¼Œè¿™æ˜¯é¦–ä¸ªä¸“é—¨é’ˆå¯¹æ·±åº¦ç ”ç©¶æ™ºèƒ½ä½“çš„å¤±è´¥æ¨¡å¼åˆ†ç±»ä½“ç³»ã€‚DEFT æ¶µç›–äº†æ¨ç†ã€æ£€ç´¢å’Œç”Ÿæˆä¸‰ä¸ªæ–¹é¢çš„ 14 ç§ç»†ç²’åº¦å¤±è´¥æ¨¡å¼ï¼Œå…¶æ„å»ºåŸºäºæ‰æ ¹ç†è®ºï¼Œå¹¶é‡‡ç”¨äº†äººå·¥ä¸å¤§è¯­è¨€æ¨¡å‹ååŒæ ‡æ³¨ä»¥åŠæ ‡æ³¨è€…é—´ä¸€è‡´æ€§æ£€éªŒã€‚æˆ‘ä»¬çš„å®éªŒç»“æœè¡¨æ˜ï¼Œå½“å‰ DRAs çš„ä¸»è¦æŒ‘æˆ˜å¹¶éä»»åŠ¡ç†è§£ï¼Œè€Œæ˜¯è¯æ®æ•´åˆã€éªŒè¯ä»¥åŠåœ¨æ¨ç†è¿‡ç¨‹ä¸­ä¿æŒç¨³å¥çš„è§„åˆ’èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-15">TUNA: æ„å»ºç»Ÿä¸€è§†è§‰è¡¨ç¤ºä»¥å®ç°åŸç”Ÿç»Ÿä¸€å¤šæ¨¡æ€æ¨¡å‹</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.02014" target="_blank" title="https://arxiv.org/abs/2512.02014" ref="nofollow noopener noreferrer">TUNA: æ„å»ºç»Ÿä¸€è§†è§‰è¡¨ç¤ºä»¥å®ç°åŸç”Ÿç»Ÿä¸€å¤šæ¨¡æ€æ¨¡å‹</a></p>
<p>ç»Ÿä¸€å¤šæ¨¡æ€æ¨¡å‹ (UMMs) æ—¨åœ¨å•ä¸ªæ¡†æ¶å†…åŒæ—¶å®ç°å¤šæ¨¡æ€ç†è§£ä¸ç”Ÿæˆã€‚æˆ‘ä»¬æå‡ºäº† TUNAï¼Œä¸€ä¸ªåŸç”Ÿ UMMï¼Œå®ƒé€šè¿‡å°† VAE ç¼–ç å™¨ä¸è¡¨ç¤ºç¼–ç å™¨çº§è”ï¼Œæ„å»ºäº†ä¸€ä¸ªç»Ÿä¸€çš„è¿ç»­è§†è§‰è¡¨ç¤ºã€‚è¿™ä¸€ç»Ÿä¸€çš„è¡¨ç¤ºç©ºé—´æ”¯æŒå¯¹å›¾åƒå’Œè§†é¢‘è¿›è¡Œç«¯åˆ°ç«¯å¤„ç†ï¼Œä»¥åŒæ—¶æœåŠ¡äºç†è§£å’Œç”Ÿæˆä»»åŠ¡ã€‚ä¸å…ˆå‰é‡‡ç”¨è§£è€¦è¡¨ç¤ºçš„ UMMs ç›¸æ¯”ï¼ŒTUNA çš„ç»Ÿä¸€è§†è§‰ç©ºé—´é¿å…äº†å› ä½¿ç”¨ç‹¬ç«‹ç¼–ç å™¨è€Œå¯¼è‡´çš„è¡¨ç¤ºæ ¼å¼ä¸åŒ¹é…é—®é¢˜ï¼Œä»è€Œåœ¨ç†è§£å’Œç”Ÿæˆä»»åŠ¡ä¸Šå‡ä¼˜äºè§£è€¦æ–¹æ¡ˆã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ€§èƒ½æ›´å¼ºçš„é¢„è®­ç»ƒè¡¨ç¤ºç¼–ç å™¨èƒ½å¤Ÿåœ¨æ‰€æœ‰å¤šæ¨¡æ€ä»»åŠ¡ä¸ŠæŒç»­å¸¦æ¥æ›´ä¼˜çš„æ€§èƒ½ï¼Œè¿™å‡¸æ˜¾äº†è¡¨ç¤ºç¼–ç å™¨çš„é‡è¦æ€§ã€‚æœ€åï¼Œåœ¨è¿™ç§ç»Ÿä¸€æ¡†æ¶ä¸‹ï¼Œè”åˆä½¿ç”¨ç†è§£å’Œç”Ÿæˆæ•°æ®è¿›è¡Œè®­ç»ƒï¼Œèƒ½ä½¿ä¸¤é¡¹ä»»åŠ¡ç›¸äº’ä¿ƒè¿›è€Œéç›¸äº’å¹²æ‰°ã€‚æˆ‘ä»¬åœ¨å¤šæ¨¡æ€ç†è§£ä¸ç”ŸæˆåŸºå‡†æµ‹è¯•ä¸Šè¿›è¡Œäº†å¤§é‡å®éªŒï¼Œç»“æœè¡¨æ˜ï¼ŒTUNA åœ¨å›¾åƒä¸è§†é¢‘ç†è§£ã€å›¾åƒä¸è§†é¢‘ç”Ÿæˆä»¥åŠå›¾åƒç¼–è¾‘ä»»åŠ¡ä¸Šå‡å–å¾—äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œå……åˆ†è¯æ˜äº†å…¶ç»Ÿä¸€è¡¨ç¤ºè®¾è®¡çš„æœ‰æ•ˆæ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h2 data-id="heading-16">å¼•å¯¼å¼å¤§è¯­è¨€æ¨¡å‹è‡ªè¿›åŒ–ï¼šæœ€å°åŒ–äººç±»ç›‘ç£</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.02472" target="_blank" title="https://arxiv.org/abs/2512.02472" ref="nofollow noopener noreferrer">å¼•å¯¼å¼å¤§è¯­è¨€æ¨¡å‹è‡ªè¿›åŒ–ï¼šæœ€å°åŒ–äººç±»ç›‘ç£</a></p>
<p>äººå·¥æ™ºèƒ½ (AI) è‡ªè¿›åŒ– (self-evolution) ä¸€ç›´è¢«è§†ä½œé€šå‘è¶…çº§æ™ºèƒ½çš„é€”å¾„ï¼Œå³æ¨¡å‹èƒ½å¤Ÿä»å…¶è‡ªèº«å­¦ä¹ ç»éªŒä¸­è‡ªä¸»åœ°è·å–ã€ä¼˜åŒ–å¹¶å†…åŒ–çŸ¥è¯†ã€‚ç„¶è€Œï¼Œå®é™…åº”ç”¨ä¸­ï¼Œæ— å¼•å¯¼çš„è‡ªè¿›åŒ–ç³»ç»Ÿå¾€å¾€å¾ˆå¿«é™·å…¥æ€§èƒ½å¹³å°æœŸï¼Œç”šè‡³åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å‘ç”Ÿé€€åŒ–ã€‚è¿™äº›å¤±è´¥æºäºæ¦‚å¿µæ¼‚ç§» (concept drift)ã€å¤šæ ·æ€§å´©æºƒ (diversity collapse) å’Œé”™è¯¯è¿›åŒ– (mis-evolution) ç­‰é—®é¢˜ï¼Œå› ä¸ºæ¨¡å‹ä¼šä¸æ–­å¼ºåŒ–è‡ªèº«åè§ï¼Œå¹¶æ”¶æ•›åˆ°ä½ç†µ (low-entropy) è¡Œä¸ºã€‚ä¸ºäº†åœ¨æœ€å°åŒ–å¯¹äººç±»ç›‘ç£ä¾èµ–çš„åŒæ—¶ï¼Œå®ç°æ¨¡å‹ç¨³å®šã€å¯æ§çš„è‡ªè¿›åŒ–ï¼Œæˆ‘ä»¬æå‡ºäº† R-Fewï¼šä¸€ä¸ªå¼•å¯¼å¼çš„è‡ªæˆ‘å¯¹å¼ˆ (Self-Play) æŒ‘æˆ˜è€…-æ±‚è§£å™¨ (Challenger-Solver) æ¡†æ¶ã€‚è¯¥æ¡†æ¶é€šè¿‡åŸºäºä¸Šä¸‹æ–‡çš„é”šå®š (in-context grounding) å’Œæ··åˆè®­ç»ƒ (mixed training)ï¼Œå¼•å…¥äº†è½»é‡çº§çš„äººç±»ç›‘ç£ã€‚åœ¨æ¯ä¸€è½®è¿­ä»£ä¸­ï¼ŒæŒ‘æˆ˜è€… (Challenger) ä¼šé‡‡æ ·ä¸€å°éƒ¨åˆ†äººå·¥æ ‡æ³¨çš„ç¤ºä¾‹ï¼Œç”¨ä»¥æŒ‡å¯¼åˆæˆé—®é¢˜çš„ç”Ÿæˆï¼›è€Œæ±‚è§£å™¨ (Solver) åˆ™éµå¾ªä¸€ä¸ªåŸºäºéš¾åº¦çš„åœ¨çº¿è¯¾ç¨‹å­¦ä¹  (online, difficulty-based curriculum) ç­–ç•¥ï¼Œå¯¹äººå·¥ç¤ºä¾‹å’Œåˆæˆç¤ºä¾‹è¿›è¡Œè”åˆè®­ç»ƒã€‚åœ¨æ•°å­¦å’Œé€šç”¨æ¨ç†åŸºå‡†æµ‹è¯•ä¸­ï¼ŒR-Few å®ç°äº†æŒç»­ä¸”è¿­ä»£çš„æ€§èƒ½æå‡ã€‚ä¾‹å¦‚ï¼ŒQwen3-8B-Base æ¨¡å‹åœ¨æ•°å­¦ä»»åŠ¡ä¸Šæ¯” R-Zero æå‡äº† 3.0 åˆ†ï¼Œå…¶æ€§èƒ½ä¸ General-Reasoner ç›¸å½“ï¼Œè€Œåè€…çš„è®­ç»ƒä½¿ç”¨äº†å¤šè¾¾ 20 å€ä»¥ä¸Šçš„äººå·¥æ ‡æ³¨æ•°æ®ã€‚æ¶ˆèç ”ç©¶ (Ablation studies) è¯å®äº†åŸºäºé”šå®šçš„æŒ‘æˆ˜è€…è®­ç»ƒ (grounded challenger training) å’ŒåŸºäºè¯¾ç¨‹çš„æ±‚è§£å™¨è®­ç»ƒ (curriculum-based solver training) å…·æœ‰äº’è¡¥ä½œç”¨ï¼›è¿›ä¸€æ­¥åˆ†æè¡¨æ˜ï¼ŒR-Few æœ‰æ•ˆç¼“è§£äº†æ¦‚å¿µæ¼‚ç§»ï¼Œä»è€Œäº§ç”Ÿäº†æ›´ç¨³å®šã€æ›´å¯æ§çš„ååŒè¿›åŒ– (co-evolutionary) åŠ¨æ€ã€‚</p>
<h2 data-id="heading-17">MG-Nav: Dual-Scale Visual Navigation via Sparse Spatial Memory</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.22609" target="_blank" title="https://arxiv.org/abs/2511.22609" ref="nofollow noopener noreferrer">MG-Navï¼šåŸºäºç¨€ç–ç©ºé—´è®°å¿†çš„åŒå°ºåº¦è§†è§‰å¯¼èˆª</a></p>
<p>æˆ‘ä»¬æå‡ºäº† MG-Nav (Memory-Guided Navigationï¼Œè®°å¿†å¼•å¯¼å¯¼èˆª)ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºé›¶æ ·æœ¬è§†è§‰å¯¼èˆªçš„åŒå°ºåº¦æ¡†æ¶ï¼Œå®ƒå°†å…¨å±€è®°å¿†å¼•å¯¼è§„åˆ’ä¸å±€éƒ¨å‡ ä½•å¢å¼ºæ§åˆ¶ç›¸ç»Ÿä¸€ã€‚å…¶æ ¸å¿ƒæ˜¯ç¨€ç–ç©ºé—´è®°å¿†å›¾ (Sparse Spatial Memory Graph, SMG)ï¼Œè¿™æ˜¯ä¸€ç§ç´§å‡‘çš„ã€ä»¥åŒºåŸŸä¸ºä¸­å¿ƒçš„è®°å¿†ç»“æ„ã€‚å…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹èšåˆäº†å¤šè§†è§’å…³é”®å¸§å’Œå¯¹è±¡è¯­ä¹‰ä¿¡æ¯ï¼Œä¸ä»…èƒ½æ•è·å¤–è§‚ä¸ç©ºé—´ç»“æ„ï¼Œè¿˜ä¿ç•™äº†è§†è§’å¤šæ ·æ€§ã€‚åœ¨å…¨å±€å±‚é¢ï¼Œæ™ºèƒ½ä½“é¦–å…ˆåœ¨ SMG ä¸Šè¿›è¡Œå®šä½ï¼Œç„¶åé€šè¿‡å›¾åƒåˆ°å®ä¾‹çš„æ··åˆæ£€ç´¢ï¼Œè§„åˆ’å‡ºä¸€æ¡ä»¥ç›®æ ‡ä¸ºæ¡ä»¶çš„èŠ‚ç‚¹è·¯å¾„ï¼Œä»è€Œç”Ÿæˆä¸€ç³»åˆ—å¯è¾¾çš„è·¯å¾„ç‚¹ï¼Œä¸ºé•¿ç¨‹å¯¼èˆªæä¾›å¼•å¯¼ã€‚åœ¨å±€éƒ¨å±‚é¢ï¼Œä¸€ä¸ªå¯¼èˆªåŸºç¡€ç­–ç•¥ä»¥ç‚¹ç›®æ ‡æ¨¡å¼æ‰§è¡Œè¿™äº›è·¯å¾„ç‚¹ï¼Œå¹¶é‡‡ç”¨éšœç¢ç‰©æ„ŸçŸ¥æ§åˆ¶ï¼›å½“ä»æœ€ç»ˆèŠ‚ç‚¹å‘è§†è§‰ç›®æ ‡å¯¼èˆªæ—¶ï¼Œåˆ™åˆ‡æ¢è‡³å›¾åƒç›®æ ‡æ¨¡å¼ã€‚ä¸ºäº†è¿›ä¸€æ­¥æå‡è§†è§’å¯¹é½å’Œç›®æ ‡è¯†åˆ«çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å¼•å…¥äº† VGGT-adapterã€‚è¿™æ˜¯ä¸€ä¸ªåŸºäºé¢„è®­ç»ƒ VGGT æ¨¡å‹æ„å»ºçš„è½»é‡çº§å‡ ä½•æ¨¡å—ï¼Œèƒ½å¤Ÿåœ¨å…±äº«çš„ 3D æ„ŸçŸ¥ç©ºé—´ä¸­å¯¹é½è§‚æµ‹ç‰¹å¾ä¸ç›®æ ‡ç‰¹å¾ã€‚MG-Nav ä»¥ä¸åŒçš„é¢‘ç‡æ‰§è¡Œå…¨å±€è§„åˆ’å’Œå±€éƒ¨æ§åˆ¶ï¼Œå¹¶åˆ©ç”¨å‘¨æœŸæ€§çš„é‡æ–°å®šä½æ¥çº æ­£è¯¯å·®ã€‚åœ¨ HM3D Instance-Image-Goal å’Œ MP3D Image-Goal åŸºå‡†æµ‹è¯•ä¸Šçš„å®éªŒè¡¨æ˜ï¼ŒMG-Nav å®ç°äº†æœ€å…ˆè¿›çš„é›¶æ ·æœ¬æ€§èƒ½ï¼Œå¹¶ä¸”åœ¨åŠ¨æ€åœºæ™¯é‡æ’å’Œæœªè§è¿‡çš„åœºæ™¯æ¡ä»¶ä¸‹ä»èƒ½ä¿æŒé²æ£’æ€§ã€‚</p>
<h2 data-id="heading-18">è§†é¢‘ç”Ÿæˆä¸­çš„é‡åŠ›é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿåˆ©ç”¨å¯éªŒè¯å¥–åŠ±å¯¹æ¨¡å‹è¿›è¡Œç‰›é¡¿å®šå¾‹åè®­ç»ƒ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.00425" target="_blank" title="https://arxiv.org/abs/2512.00425" ref="nofollow noopener noreferrer">è§†é¢‘ç”Ÿæˆä¸­çš„é‡åŠ›é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿåˆ©ç”¨å¯éªŒè¯å¥–åŠ±å¯¹æ¨¡å‹è¿›è¡Œç‰›é¡¿å®šå¾‹åè®­ç»ƒ</a></p>
<p>å½“å‰çš„è§†é¢‘æ‰©æ•£æ¨¡å‹è™½èƒ½ç”Ÿæˆè§†è§‰ä¸Šé€¼çœŸçš„ç‰‡æ®µï¼Œå´å¸¸å¸¸è¿èƒŒåŸºæœ¬ç‰©ç†å®šå¾‹ï¼Œä¾‹å¦‚ç‰©ä½“æ¼‚æµ®ã€åŠ é€Ÿåº¦å¼‚å¸¸ã€ç¢°æ’è¡Œä¸ºä¸ä¸€è‡´ç­‰ï¼Œè¿™æ­ç¤ºäº†è§†è§‰çœŸå®æ„Ÿä¸ç‰©ç†çœŸå®æ„Ÿä¹‹é—´å­˜åœ¨çš„æŒç»­å·®è·ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NewtonRewards</mtext></mrow><annotation encoding="application/x-tex">\texttt{NewtonRewards}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6111em;"/><span class="mord text"><span class="mord texttt">NewtonRewards</span></span></span></span></span></span>ï¼Œè¿™æ˜¯é¦–ä¸ªåŸºäº <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">å¯éªŒè¯å¥–åŠ±</mtext></mrow><annotation encoding="application/x-tex">\textit{å¯éªŒè¯å¥–åŠ±}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord text"><span class="mord textit cjk_fallback">å¯éªŒè¯å¥–åŠ±</span></span></span></span></span></span>ã€ä»¥ç‰©ç†å­¦åŸç†ä¸ºæ ¹åŸºçš„è§†é¢‘ç”Ÿæˆåè®­ç»ƒæ¡†æ¶ã€‚è¯¥æ¡†æ¶ä¸ä¾èµ–äººç±»æˆ–è§†è§‰è¯­è¨€æ¨¡å‹ (VLM) çš„åé¦ˆï¼Œè€Œæ˜¯åˆ©ç”¨å†»ç»“çš„å·¥å…·æ¨¡å‹ä»ç”Ÿæˆè§†é¢‘ä¸­æå– <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">å¯æµ‹é‡çš„ä»£ç†é‡</mtext></mrow><annotation encoding="application/x-tex">\textit{å¯æµ‹é‡çš„ä»£ç†é‡}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord text"><span class="mord textit cjk_fallback">å¯æµ‹é‡çš„ä»£ç†é‡</span></span></span></span></span></span>ï¼šä»¥å…‰æµä½œä¸ºé€Ÿåº¦çš„ä»£ç†ï¼Œä»¥é«˜çº§å¤–è§‚ç‰¹å¾ä½œä¸ºè´¨é‡çš„ä»£ç†ã€‚åŸºäºè¿™äº›ä»£ç†é‡ï¼Œæˆ‘ä»¬é€šè¿‡ä¸¤ç§äº’è¡¥çš„å¥–åŠ±æœºåˆ¶æ¥æ˜¾å¼åœ°å¼ºåŒ–ç‰›é¡¿åŠ›å­¦ç»“æ„ï¼šä¸€æ˜¯å¼ºåˆ¶æ‰§è¡Œæ’å®šåŠ é€Ÿåº¦åŠ¨åŠ›å­¦çš„ç‰›é¡¿è¿åŠ¨å­¦çº¦æŸå¥–åŠ±ï¼ŒäºŒæ˜¯é˜²æ­¢å‡ºç°å¹³å‡¡é€€åŒ–è§£çš„è´¨é‡å®ˆæ’å¥–åŠ±ã€‚æˆ‘ä»¬ä½¿ç”¨æ–°æ„å»ºçš„å¤§è§„æ¨¡åŸºå‡†æ•°æ®é›† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NewtonBench-60K</mtext></mrow><annotation encoding="application/x-tex">\texttt{NewtonBench-60K}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6111em;"/><span class="mord text"><span class="mord texttt">NewtonBench-60K</span></span></span></span></span></span>ï¼Œåœ¨äº”ç§ç‰›é¡¿è¿åŠ¨åŸºå…ƒï¼ˆè‡ªç”±è½ä½“ã€æ°´å¹³æŠ›å°„ã€æŠ›ç‰©çº¿æŠ›å°„ã€æ–œå¡ä¸‹æ»‘ä¸ä¸Šæ»‘ï¼‰ä¸Šå¯¹ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NewtonRewards</mtext></mrow><annotation encoding="application/x-tex">\texttt{NewtonRewards}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6111em;"/><span class="mord text"><span class="mord texttt">NewtonRewards</span></span></span></span></span></span> è¿›è¡Œäº†è¯„ä¼°ã€‚åœ¨æ‰€æœ‰åŸºå…ƒçš„è§†è§‰ä¸ç‰©ç†æŒ‡æ ‡ä¸Šï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">NewtonRewards</mtext></mrow><annotation encoding="application/x-tex">\texttt{NewtonRewards}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6111em;"/><span class="mord text"><span class="mord texttt">NewtonRewards</span></span></span></span></span></span> å‡èƒ½æŒç»­æå‡ç”Ÿæˆè§†é¢‘çš„ç‰©ç†åˆç†æ€§ã€è¿åŠ¨å¹³æ»‘åº¦ä¸æ—¶é—´è¿è´¯æ€§ï¼Œæ•ˆæœä¼˜äºå·²æœ‰çš„åè®­ç»ƒæ–¹æ³•ã€‚æ­¤å¤–ï¼Œåœ¨é«˜åº¦ã€é€Ÿåº¦ã€æ‘©æ“¦åŠ›ç­‰å‚æ•°å‘ç”Ÿåˆ†å¸ƒå¤–åç§»æ—¶ï¼Œè¯¥æ–¹æ³•ä¾ç„¶èƒ½ä¿æŒå¼ºåŠ²çš„æ€§èƒ½ã€‚æˆ‘ä»¬çš„ç ”ç©¶ç»“æœè¡¨æ˜ï¼ŒåŸºäºç‰©ç†å­¦çš„å¯éªŒè¯å¥–åŠ±ä¸ºå®ç°ç‰©ç†æ„ŸçŸ¥çš„è§†é¢‘ç”Ÿæˆæä¾›äº†ä¸€æ¡å¯æ‰©å±•çš„è·¯å¾„ã€‚</p>
<h2 data-id="heading-19">REASONEDIT: é¢å‘æ¨ç†å¢å¼ºçš„å›¾åƒç¼–è¾‘æ¨¡å‹</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.22625" target="_blank" title="https://arxiv.org/abs/2511.22625" ref="nofollow noopener noreferrer">REASONEDIT: é¢å‘æ¨ç†å¢å¼ºçš„å›¾åƒç¼–è¾‘æ¨¡å‹</a></p>
<p>å›¾åƒç¼–è¾‘æ¨¡å‹è¿‘æœŸå–å¾—äº†æ˜¾è‘—è¿›å±•ã€‚ä¸€ç§å¸¸è§çš„æ¶æ„è®¾è®¡æ˜¯å°†å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ (Multimodal Large Language Model, MLLM) ç¼–ç å™¨ä¸æ‰©æ•£è§£ç å™¨ç›¸ç»“åˆï¼Œä¾‹å¦‚ Step1X-Edit å’Œ Qwen-Image-Edit ç­‰ç³»ç»Ÿã€‚åœ¨è¿™äº›ç³»ç»Ÿä¸­ï¼ŒMLLM è´Ÿè´£ç¼–ç å‚è€ƒå›¾åƒå’Œç¼–è¾‘æŒ‡ä»¤ï¼Œä½†å…¶å‚æ•°åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¿æŒå†»ç»“ã€‚æœ¬å·¥ä½œè¡¨æ˜ï¼Œé‡Šæ”¾ MLLM çš„æ¨ç†èƒ½åŠ›å¯ä»¥è¿›ä¸€æ­¥æ‹“å±•å›¾åƒç¼–è¾‘æ¨¡å‹çš„æ€§èƒ½è¾¹ç•Œã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬æ¢ç´¢äº†ä¸¤ç§æ¨ç†æœºåˆ¶â€”â€”æ€ç»´ (Thinking) ä¸åæ€ (Reflection)ï¼Œä»¥æå‡æ¨¡å‹å¯¹æŒ‡ä»¤çš„ç†è§£èƒ½åŠ›å’Œç¼–è¾‘å‡†ç¡®æ€§ã€‚åŸºäºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ€ç»´-ç¼–è¾‘-åæ€å¾ªç¯æ¡†æ¶ï¼šæ€ç»´æœºåˆ¶åˆ©ç”¨ MLLM çš„ä¸–ç•ŒçŸ¥è¯†æ¥è§£ææŠ½è±¡æŒ‡ä»¤ï¼Œè€Œåæ€æœºåˆ¶åˆ™è¯„ä¼°ç¼–è¾‘ç»“æœã€è‡ªåŠ¨çº æ­£éé¢„æœŸçš„ä¿®æ”¹ï¼Œå¹¶ç¡®å®šåœæ­¢è¿­ä»£çš„æ—¶æœºã€‚å¤§é‡å®éªŒéªŒè¯äº†æˆ‘ä»¬æ¨ç†æ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚å½“åŸºäº Step1X-Edit åˆå§‹åŒ–æˆ‘ä»¬çš„ DiT æ¨¡å‹ (å³ ReasonEdit-S) æ—¶ï¼Œåœ¨ ImgEdit (+4.3%)ã€GEdit (+4.7%) å’Œ Kris (+8.2%) åŸºå‡†ä¸Šå‡å–å¾—äº†æ˜¾è‘—æå‡ã€‚æ­¤å¤–ï¼Œå½“ä¸ Qwen-Image-Edit ç»“åˆæ„å»º ReasonEdit-Q æ—¶ï¼Œå…¶åœ¨ GEdit å’Œ Kris åŸºå‡†ä¸Šçš„è¡¨ç°ä¹Ÿè¶…è¶Šäº†æ­¤å‰æ‰€æœ‰çš„å¼€æºæ–¹æ³•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++ å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šç±»å‹å®‰å…¨çš„å¤šç»´å·¥å…·]]></title>    <link>https://juejin.cn/post/7580310413754318898</link>    <guid>https://juejin.cn/post/7580310413754318898</guid>    <pubDate>2025-12-06T15:11:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580310413754318898" data-draft-id="7580329353353068590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++ å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šç±»å‹å®‰å…¨çš„å¤šç»´å·¥å…·"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T15:11:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++ å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šç±»å‹å®‰å…¨çš„å¤šç»´å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:11:50.000Z" title="Sat Dec 06 2025 15:11:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨C++ä¸­ï¼Œç±»å‹è½¬æ¢æ˜¯å°†ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹çš„è¿‡ç¨‹ã€‚ä¸Cè¯­è¨€ç®€å•çš„<code>(type)value</code>å¼ºåˆ¶è½¬æ¢ä¸åŒï¼ŒC++æä¾›äº†å››ç§ä¸“é—¨çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼Œå®ƒä»¬ä¸ä»…æ‰§è¡Œè½¬æ¢ï¼Œè¿˜æä¾›äº†ç¼–è¯‘æ—¶æ£€æŸ¥å’Œæ›´æ˜ç¡®çš„è¯­ä¹‰ã€‚è¿™ä½“ç°äº†C++"ç±»å‹å®‰å…¨"çš„è®¾è®¡å“²å­¦ã€‚</p>
<h2 data-id="heading-0">C++å››ç§å¼ºåˆ¶ç±»å‹è½¬æ¢è¿ç®—ç¬¦</h2>
<h3 data-id="heading-1">1. static_cast - é™æ€ç±»å‹è½¬æ¢</h3>
<p><code>static_cast</code>æ˜¯æœ€å¸¸ç”¨çš„è½¬æ¢è¿ç®—ç¬¦ï¼Œç”¨äºç¼–è¯‘æ—¶å·²çŸ¥çš„ã€ç›¸å¯¹å®‰å…¨çš„ç±»å‹è½¬æ¢ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">static_cast</span>&lt;new_type&gt;(expression)
</code></pre>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åŸºæœ¬ç±»å‹è½¬æ¢</span>
<span class="hljs-type">float</span> f = <span class="hljs-number">3.14</span>;
<span class="hljs-type">int</span> i = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(f);  <span class="hljs-comment">// 3</span>

<span class="hljs-comment">// ç›¸å…³ç±»å±‚æ¬¡ç»“æ„ä¸­çš„å‘ä¸Šè½¬æ¢ï¼ˆå®‰å…¨ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {};
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {};
Derived d;
Base* b = <span class="hljs-built_in">static_cast</span>&lt;Base*&gt;(&amp;d);  <span class="hljs-comment">// å‘ä¸Šè½¬æ¢ï¼Œå®‰å…¨</span>

<span class="hljs-comment">// void*åˆ°å…·ä½“æŒ‡é’ˆç±»å‹çš„è½¬æ¢</span>
<span class="hljs-type">void</span>* p = <span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(<span class="hljs-type">int</span>));
<span class="hljs-type">int</span>* ip = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>*&gt;(p);
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ç¼–è¯‘æ—¶æ£€æŸ¥ç±»å‹å…¼å®¹æ€§</li>
<li>ä¸èƒ½ç§»é™¤const/volatileé™å®šç¬¦</li>
<li>ä¸èƒ½ç”¨äºæ— å…³ç±»å‹æŒ‡é’ˆé—´çš„è½¬æ¢</li>
</ul>
<h3 data-id="heading-2">2. dynamic_cast - åŠ¨æ€ç±»å‹è½¬æ¢</h3>
<p><code>dynamic_cast</code>ä¸“é—¨ç”¨äºå¤„ç†å¤šæ€ç±»å‹ï¼Œåœ¨è¿è¡Œæ—¶æ£€æŸ¥è½¬æ¢çš„å®‰å…¨æ€§ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">dynamic_cast</span>&lt;new_type&gt;(expression)
</code></pre>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>{} };  <span class="hljs-comment">// å¿…é¡»æœ‰è™šå‡½æ•°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {};

Base* b = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();

<span class="hljs-comment">// å‘ä¸‹è½¬æ¢ï¼ˆè¿è¡Œæ—¶æ£€æŸ¥ï¼‰</span>
Derived* d = <span class="hljs-built_in">dynamic_cast</span>&lt;Derived*&gt;(b);
<span class="hljs-keyword">if</span> (d != <span class="hljs-literal">nullptr</span>) {
    <span class="hljs-comment">// è½¬æ¢æˆåŠŸ</span>
}

<span class="hljs-comment">// äº¤å‰è½¬æ¢ï¼ˆå¤šé‡ç»§æ‰¿åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>{} };
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">bar</span><span class="hljs-params">()</span> </span>{} };
<span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> : <span class="hljs-keyword">public</span> A, <span class="hljs-keyword">public</span> B {};

A* a = <span class="hljs-keyword">new</span> <span class="hljs-built_in">C</span>();
B* b = <span class="hljs-built_in">dynamic_cast</span>&lt;B*&gt;(a);  <span class="hljs-comment">// æ­£ç¡®çš„äº¤å‰è½¬æ¢</span>
</code></pre>
<p><strong>é‡è¦ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥</li>
<li>å¤±è´¥æ—¶è¿”å›nullptrï¼ˆæŒ‡é’ˆï¼‰æˆ–æŠ›å‡ºstd::bad_castå¼‚å¸¸ï¼ˆå¼•ç”¨ï¼‰</li>
<li>åªé€‚ç”¨äºå«è™šå‡½æ•°çš„ç±»ï¼ˆå¤šæ€ç±»å‹ï¼‰</li>
<li>æ€§èƒ½å¼€é”€è¾ƒå¤§</li>
</ul>
<h3 data-id="heading-3">3. const_cast - å¸¸é‡æ€§è½¬æ¢</h3>
<p><code>const_cast</code>ä¸“é—¨ç”¨äºä¿®æ”¹ç±»å‹çš„constæˆ–volatileé™å®šç¬¦ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">const_cast</span>&lt;new_type&gt;(expression)
</code></pre>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ç§»é™¤consté™å®šç¬¦</span>
<span class="hljs-type">const</span> <span class="hljs-type">int</span> ci = <span class="hljs-number">10</span>;
<span class="hljs-type">int</span>* modifiable = <span class="hljs-built_in">const_cast</span>&lt;<span class="hljs-type">int</span>*&gt;(&amp;ci);
<span class="hljs-comment">// æ³¨æ„ï¼šä¿®æ”¹åŸconstå¯¹è±¡æ˜¯æœªå®šä¹‰è¡Œä¸º</span>

<span class="hljs-comment">// åœ¨å·²çŸ¥å¯¹è±¡å®é™…éå¸¸é‡æ—¶çš„åˆæ³•ä½¿ç”¨</span>
<span class="hljs-type">int</span> actual_var = <span class="hljs-number">20</span>;
<span class="hljs-type">const</span> <span class="hljs-type">int</span>* pc = &amp;actual_var;
<span class="hljs-type">int</span>* p = <span class="hljs-built_in">const_cast</span>&lt;<span class="hljs-type">int</span>*&gt;(pc);  <span class="hljs-comment">// åˆæ³•ï¼Œactual_varæœ¬å°±ä¸æ˜¯const</span>

<span class="hljs-comment">// ç”¨äºè°ƒç”¨æ—§çš„Cé£æ ¼API</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">legacy_api</span><span class="hljs-params">(<span class="hljs-type">char</span>* str)</span></span>;
<span class="hljs-type">const</span> <span class="hljs-type">char</span>* msg = <span class="hljs-string">"Hello"</span>;
<span class="hljs-built_in">legacy_api</span>(<span class="hljs-built_in">const_cast</span>&lt;<span class="hljs-type">char</span>*&gt;(msg));
</code></pre>
<p><strong>å®‰å…¨è­¦å‘Šï¼š</strong></p>
<ul>
<li>ä¸èƒ½ç”¨äºæ”¹å˜å®é™…ç±»å‹</li>
<li>ä¿®æ”¹åŸconstå¯¹è±¡æ˜¯æœªå®šä¹‰è¡Œä¸º</li>
<li>åº”è°¨æ…ä½¿ç”¨ï¼Œé€šå¸¸è¡¨ç¤ºè®¾è®¡æœ‰é—®é¢˜</li>
</ul>
<h3 data-id="heading-4">4. reinterpret_cast - é‡æ–°è§£é‡Šè½¬æ¢</h3>
<p><code>reinterpret_cast</code>æä¾›ä½å±‚æ¬¡çš„é‡æ–°è§£é‡Šï¼Œæ˜¯æœ€å±é™©çš„è½¬æ¢ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-built_in">reinterpret_cast</span>&lt;new_type&gt;(expression)
</code></pre>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯ï¼š</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æŒ‡é’ˆä¸æ•´æ•°é—´çš„è½¬æ¢</span>
<span class="hljs-type">intptr_t</span> address = <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">intptr_t</span>&gt;(&amp;obj);

<span class="hljs-comment">// æ— å…³æŒ‡é’ˆç±»å‹é—´çš„è½¬æ¢</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Data</span> { <span class="hljs-type">int</span> x; <span class="hljs-type">double</span> y; };
Data* data = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Data</span>();
<span class="hljs-type">char</span>* buffer = <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">char</span>*&gt;(data);  <span class="hljs-comment">// ç”¨äºåºåˆ—åŒ–</span>

<span class="hljs-comment">// å‡½æ•°æŒ‡é’ˆè½¬æ¢</span>
<span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span> <span class="hljs-params">(*FuncPtr)</span><span class="hljs-params">()</span></span>;
FuncPtr fp = <span class="hljs-built_in">reinterpret_cast</span>&lt;FuncPtr&gt;(<span class="hljs-number">0x12345678</span>);  <span class="hljs-comment">// å±é™©ï¼</span>
</code></pre>
<p><strong>å±é™©ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>å‡ ä¹ä¸è¿›è¡Œä»»ä½•è¿è¡Œæ—¶æ£€æŸ¥</li>
<li>æ»¥ç”¨ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸º</li>
<li>é€šå¸¸æ˜¯å¹³å°ç›¸å…³çš„</li>
<li>åº”ä½œä¸ºæœ€åæ‰‹æ®µä½¿ç”¨</li>
</ul>
<h2 data-id="heading-5">å¯¹æ¯”åˆ†æ</h2>



































<table><thead><tr><th>è½¬æ¢ç±»å‹</th><th>æ£€æŸ¥æ—¶æœº</th><th>å®‰å…¨æ€§</th><th>å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td>static_cast</td><td>ç¼–è¯‘æ—¶</td><td>è¾ƒé«˜</td><td>ç›¸å…³ç±»å‹è½¬æ¢ã€æ•°å€¼è½¬æ¢</td></tr><tr><td>dynamic_cast</td><td>è¿è¡Œæ—¶</td><td>é«˜</td><td>å¤šæ€ç±»å‹å‘ä¸‹/äº¤å‰è½¬æ¢</td></tr><tr><td>const_cast</td><td>ç¼–è¯‘æ—¶</td><td>ä½</td><td>æ·»åŠ /ç§»é™¤const/volatile</td></tr><tr><td>reinterpret_cast</td><td>æ— æ£€æŸ¥</td><td>æä½</td><td>ä½å±‚äºŒè¿›åˆ¶æ“ä½œ</td></tr></tbody></table>
<h2 data-id="heading-6">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-7">1. è½¬æ¢é€‰æ‹©æŒ‡å—</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨static_castè¿›è¡Œç›¸å…³ç±»å‹è½¬æ¢</span>
<span class="hljs-type">double</span> d = <span class="hljs-number">3.14</span>;
<span class="hljs-type">int</span> i = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(d);  <span class="hljs-comment">// æ¨è</span>
<span class="hljs-comment">// int i = (int)d;            // Cé£æ ¼ï¼Œä¸æ¨è</span>

<span class="hljs-comment">// å¤šæ€ç±»å‹ä½¿ç”¨dynamic_cast</span>
Base* base = <span class="hljs-built_in">getObject</span>();
<span class="hljs-keyword">if</span> (Derived* derived = <span class="hljs-built_in">dynamic_cast</span>&lt;Derived*&gt;(base)) {
    <span class="hljs-comment">// å®‰å…¨åœ°ä½¿ç”¨derived</span>
}

<span class="hljs-comment">// é¿å…const_castï¼Œé™¤éå¿…è¦</span>
<span class="hljs-comment">// é€šå¸¸æ„å‘³ç€APIè®¾è®¡æœ‰é—®é¢˜</span>
</code></pre>
<h3 data-id="heading-8">2. è®¾è®¡è€ƒè™‘</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨è™šå‡½æ•°ä»£æ›¿dynamic_cast</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">makeSound</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;  <span class="hljs-comment">// å¤šæ€è®¾è®¡</span>
    <span class="hljs-comment">// ä¼˜äºä½¿ç”¨dynamic_castæ£€æŸ¥ç±»å‹</span>
};

<span class="hljs-comment">// ä½¿ç”¨æ¨¡æ¿é¿å…ç±»å‹è½¬æ¢</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
T* <span class="hljs-title">safe_cast</span><span class="hljs-params">(Base* base)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">dynamic_cast</span>&lt;T*&gt;(base);
}
</code></pre>
<h3 data-id="heading-9">3. ç°ä»£C++çš„æ”¹è¿›</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++17çš„std::anyå’Œstd::variant</span>
std::any anything = <span class="hljs-number">42</span>;
<span class="hljs-keyword">try</span> {
    <span class="hljs-type">int</span> i = std::<span class="hljs-built_in">any_cast</span>&lt;<span class="hljs-type">int</span>&gt;(anything);
} <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::bad_any_cast&amp; e) {
    <span class="hljs-comment">// ç±»å‹å®‰å…¨</span>
}

<span class="hljs-comment">// std::variantç±»å‹å®‰å…¨è®¿é—®</span>
std::variant&lt;<span class="hljs-type">int</span>, std::string&gt; v = <span class="hljs-string">"hello"</span>;
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">auto</span>* p = std::<span class="hljs-built_in">get_if</span>&lt;std::string&gt;(&amp;v)) {
    <span class="hljs-comment">// ç±»å‹å®‰å…¨è®¿é—®</span>
}
</code></pre>
<h2 data-id="heading-10">ä¸Cé£æ ¼è½¬æ¢çš„å¯¹æ¯”</h2>
<p>Cé£æ ¼è½¬æ¢<code>(type)value</code>çš„é—®é¢˜ï¼š</p>
<ol>
<li>æ„å›¾ä¸æ˜ç¡®</li>
<li>å¯èƒ½æ‰§è¡Œå¤šç§ä¸åŒè½¬æ¢</li>
<li>éš¾ä»¥æœç´¢å’Œé‡æ„</li>
<li>ç¼ºä¹ç±»å‹å®‰å…¨æ£€æŸ¥</li>
</ol>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¸æ˜ç¡®çš„Cé£æ ¼è½¬æ¢</span>
Base* b = (Base*)ptr;  <span class="hljs-comment">// è¿™æ˜¯ä»€ä¹ˆè½¬æ¢ï¼Ÿstaticï¼Ÿreinterpretï¼Ÿ</span>

<span class="hljs-comment">// æ˜ç¡®çš„C++è½¬æ¢</span>
Base* b1 = <span class="hljs-built_in">static_cast</span>&lt;Base*&gt;(ptr);     <span class="hljs-comment">// æ˜ç¡®æ˜¯static_cast</span>
Base* b2 = <span class="hljs-built_in">dynamic_cast</span>&lt;Base*&gt;(ptr);    <span class="hljs-comment">// æ˜ç¡®æ˜¯dynamic_cast</span>
Base* b3 = <span class="hljs-built_in">reinterpret_cast</span>&lt;Base*&gt;(ptr); <span class="hljs-comment">// æ˜ç¡®æ˜¯reinterpret_cast</span>
</code></pre>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>C++çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ç³»ç»Ÿæä¾›äº†æ¯”Cè¯­è¨€æ›´å®‰å…¨ã€æ›´æ˜ç¡®çš„ç±»å‹è½¬æ¢æœºåˆ¶ã€‚æ­£ç¡®ä½¿ç”¨è¿™äº›è½¬æ¢è¿ç®—ç¬¦å¯ä»¥æé«˜ä»£ç çš„ï¼š</p>
<ol>
<li><strong>ç±»å‹å®‰å…¨æ€§</strong>ï¼šå‡å°‘è¿è¡Œæ—¶é”™è¯¯</li>
<li><strong>å¯è¯»æ€§</strong>ï¼šæ˜ç¡®è¡¨è¾¾è½¬æ¢æ„å›¾</li>
<li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šæ˜“äºæœç´¢å’Œé‡æ„</li>
<li><strong>æ€§èƒ½</strong>ï¼šé€‚å½“çš„ç¼–è¯‘æ—¶ä¼˜åŒ–</li>
</ol>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œåº”éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨C++é£æ ¼è½¬æ¢</li>
<li>é€‰æ‹©æœ€å…·ä½“ã€æœ€å®‰å…¨çš„è½¬æ¢ç±»å‹</li>
<li>å°½é‡é¿å…ä½¿ç”¨reinterpret_castå’Œconst_cast</li>
<li>è€ƒè™‘ä½¿ç”¨å¤šæ€ã€æ¨¡æ¿ç­‰è®¾è®¡æ›¿ä»£ç±»å‹è½¬æ¢</li>
<li>åœ¨å¿…é¡»è½¬æ¢æ—¶æ·»åŠ å……åˆ†çš„æ³¨é‡Šå’Œé”™è¯¯å¤„ç†</li>
</ul>
<p>é€šè¿‡åˆç†ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥åœ¨éœ€è¦ç±»å‹è½¬æ¢çš„åœºåˆæ—¢ä¿æŒçµæ´»æ€§ï¼Œåˆç»´æŠ¤ç±»å‹å®‰å…¨ï¼Œè¿™æ˜¯C++ä½œä¸ºç³»ç»Ÿçº§è¯­è¨€çš„é‡è¦ä¼˜åŠ¿ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ç²¾åã€‘C++æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å®Œå…¨æŒ‡å—ï¼šä¸ºä»€ä¹ˆã€ä½•æ—¶ä»¥åŠå¦‚ä½•æ­£ç¡®ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7580373352420179994</link>    <guid>https://juejin.cn/post/7580373352420179994</guid>    <pubDate>2025-12-06T15:13:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580373352420179994" data-draft-id="7580329353353084974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ç²¾åã€‘C++æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å®Œå…¨æŒ‡å—ï¼šä¸ºä»€ä¹ˆã€ä½•æ—¶ä»¥åŠå¦‚ä½•æ­£ç¡®ä½¿ç”¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T15:13:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ç²¾åã€‘C++æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å®Œå…¨æŒ‡å—ï¼šä¸ºä»€ä¹ˆã€ä½•æ—¶ä»¥åŠå¦‚ä½•æ­£ç¡®ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:13:43.000Z" title="Sat Dec 06 2025 15:13:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡æ˜¯æˆ‘æ”’ç»™è‡ªå·±çš„é¢è¯•å‰å¿…çœ‹æ–‡ç« ä¹‹ä¸€ï¼Œå±äºç§è—ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ä¸ªå¸¸è§çš„è¯¯è§£</h2>
<p>è®¸å¤šC++åˆå­¦è€…ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼šâ€œä¸ºä»€ä¹ˆæˆ‘éœ€è¦åœ¨æ„é€ å‡½æ•°åé¢åŠ ä¸ªå†’å·æ¥åˆå§‹åŒ–æˆå‘˜ï¼Ÿåœ¨æ„é€ å‡½æ•°ä½“å†…èµ‹å€¼ä¸è¡Œå—ï¼Ÿâ€æœ¬æ–‡å°†é€šè¿‡æ·±å…¥åˆ†æC++å¯¹è±¡æ„é€ æœºåˆ¶ï¼Œå½»åº•è§£ç­”è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€åˆå§‹åŒ–åˆ—è¡¨çš„åŸºæœ¬è¯­æ³•</h2>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
    <span class="hljs-type">int</span> a;
    std::string str;
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</span>
    <span class="hljs-built_in">Example</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">const</span> std::string&amp; s) : <span class="hljs-built_in">a</span>(x), <span class="hljs-built_in">str</span>(s) {
        <span class="hljs-comment">// æ„é€ å‡½æ•°ä½“</span>
    }
    
    <span class="hljs-comment">// æ„é€ å‡½æ•°å†…èµ‹å€¼ï¼ˆå¯¹æ¯”ï¼‰</span>
    <span class="hljs-built_in">Example</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">const</span> std::string&amp; s) {
        a = x;
        str = s;
    }
};
</code></pre>
<h2 data-id="heading-2">äºŒã€åˆå§‹åŒ– vs èµ‹å€¼çš„æœ¬è´¨åŒºåˆ«</h2>
<h3 data-id="heading-3">2.1 å¯¹è±¡æ„é€ çš„æ—¶é—´çº¿</h3>
<pre><code class="hljs language-markdown" lang="markdown">å¯¹è±¡æ„é€ çš„å®Œæ•´æµç¨‹ï¼š
<span class="hljs-bullet">1.</span> åˆ†é…å¯¹è±¡å†…å­˜
<span class="hljs-bullet">2.</span> æ‰§è¡Œçˆ¶ç±»æ„é€ ï¼ˆå¦‚æœæœ‰ï¼‰
<span class="hljs-bullet">3.</span> æ‰§è¡Œæˆå‘˜åˆå§‹åŒ–åˆ—è¡¨
<span class="hljs-bullet">   -</span> æŒ‰å£°æ˜é¡ºåºåˆå§‹åŒ–æ‰€æœ‰æˆå‘˜
<span class="hljs-bullet">   -</span> æœªåœ¨åˆ—è¡¨ä¸­çš„æˆå‘˜ä½¿ç”¨é»˜è®¤åˆå§‹åŒ–
<span class="hljs-bullet">4.</span> æ‰§è¡Œæ„é€ å‡½æ•°ä½“
</code></pre>
<h3 data-id="heading-4">2.2 å…³é”®ç†è§£ï¼šæ‰€æœ‰æˆå‘˜éƒ½ä¼šè¢«åˆå§‹åŒ–</h3>
<p><strong>é‡è¦åŸåˆ™</strong>ï¼šæ— è®ºæ˜¯å¦å‡ºç°åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œæ‰€æœ‰æˆå‘˜å˜é‡éƒ½ä¼šåœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“ä¹‹å‰è¢«åˆå§‹åŒ–ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> {
    <span class="hljs-type">int</span> x;      <span class="hljs-comment">// å£°æ˜1</span>
    std::string s; <span class="hljs-comment">// å£°æ˜2</span>
    <span class="hljs-type">int</span> y;      <span class="hljs-comment">// å£°æ˜3</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Demo</span>() : <span class="hljs-built_in">y</span>(<span class="hljs-number">30</span>) {
        <span class="hljs-comment">// å®é™…æ‰§è¡Œé¡ºåºï¼š</span>
        <span class="hljs-comment">// 1. x: ä¸åœ¨åˆ—è¡¨ä¸­ â†’ é»˜è®¤åˆå§‹åŒ–ï¼ˆéšæœºå€¼ï¼‰</span>
        <span class="hljs-comment">// 2. s: ä¸åœ¨åˆ—è¡¨ä¸­ â†’ è°ƒç”¨std::string()é»˜è®¤æ„é€ å‡½æ•°</span>
        <span class="hljs-comment">// 3. y: åœ¨åˆ—è¡¨ä¸­ â†’ y = 30</span>
        <span class="hljs-comment">// 4. è¿›å…¥æ„é€ å‡½æ•°ä½“</span>
    }
};
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨çš„å››ç§æƒ…å†µ</h2>
<h3 data-id="heading-6">3.1 constæˆå‘˜å˜é‡</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ConstMember</span> {
    <span class="hljs-type">const</span> <span class="hljs-type">int</span> id;  <span class="hljs-comment">// constæˆå‘˜</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</span>
    <span class="hljs-built_in">ConstMember</span>(<span class="hljs-type">int</span> value) : <span class="hljs-built_in">id</span>(value) { }
    
    <span class="hljs-comment">// é”™è¯¯ï¼constæˆå‘˜ä¸èƒ½åœ¨æ„é€ å‡½æ•°ä½“å†…èµ‹å€¼</span>
    <span class="hljs-comment">// ConstMember(int value) { id = value; }  // ç¼–è¯‘é”™è¯¯ï¼</span>
};
</code></pre>
<h3 data-id="heading-7">3.2 å¼•ç”¨æˆå‘˜å˜é‡</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RefMember</span> {
    <span class="hljs-type">int</span>&amp; ref;  <span class="hljs-comment">// å¼•ç”¨æˆå‘˜</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</span>
    <span class="hljs-built_in">RefMember</span>(<span class="hljs-type">int</span>&amp; r) : <span class="hljs-built_in">ref</span>(r) { }
    
    <span class="hljs-comment">// é”™è¯¯ï¼å¼•ç”¨å¿…é¡»åœ¨åˆå§‹åŒ–æ—¶ç»‘å®š</span>
    <span class="hljs-comment">// RefMember(int&amp; r) { ref = r; }  // ç¼–è¯‘é”™è¯¯ï¼</span>
};
</code></pre>
<h3 data-id="heading-8">3.3 æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°çš„ç±»æˆå‘˜</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">NoDefault</span> {
    <span class="hljs-type">int</span> value;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">NoDefault</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">value</span>(v) { }  <span class="hljs-comment">// åªæœ‰å¸¦å‚æ„é€ å‡½æ•°</span>
    <span class="hljs-comment">// æ³¨æ„ï¼šæ²¡æœ‰ NoDefault() é»˜è®¤æ„é€ å‡½æ•°ï¼</span>
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span> {
    NoDefault obj;  <span class="hljs-comment">// éœ€è¦åˆå§‹åŒ–çš„æˆå‘˜</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</span>
    <span class="hljs-built_in">Container</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">obj</span>(val) { }
    
    <span class="hljs-comment">// é”™è¯¯ï¼ç¼–è¯‘å™¨å°è¯•è°ƒç”¨obj.NoDefault()ä½†ä¸å­˜åœ¨</span>
    <span class="hljs-comment">// Container(int val) { obj = NoDefault(val); }  // ç¼–è¯‘é”™è¯¯ï¼</span>
};
</code></pre>
<h3 data-id="heading-9">3.4 çˆ¶ç±»æ„é€ å‡½æ•°è°ƒç”¨</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-type">int</span> baseValue;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Base</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">baseValue</span>(v) { }  <span class="hljs-comment">// æœ‰å‚æ„é€ å‡½æ•°</span>
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {
    <span class="hljs-type">int</span> derivedValue;
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å¿…é¡»ç”¨åˆå§‹åŒ–åˆ—è¡¨è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">Derived</span>(<span class="hljs-type">int</span> b, <span class="hljs-type">int</span> d) : <span class="hljs-built_in">Base</span>(b), <span class="hljs-built_in">derivedValue</span>(d) { }
    
    <span class="hljs-comment">// é”™è¯¯ï¼Baseæ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°</span>
    <span class="hljs-comment">// Derived(int b, int d) { derivedValue = d; }  // ç¼–è¯‘é”™è¯¯ï¼</span>
};
</code></pre>
<h2 data-id="heading-10">å››ã€åˆå§‹åŒ–åˆ—è¡¨çš„æ€§èƒ½ä¼˜åŠ¿</h2>
<h3 data-id="heading-11">4.1 ç±»ç±»å‹æˆå‘˜çš„æ€§èƒ½å·®å¼‚</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceDemo</span> {
    std::string data;
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// ä½æ•ˆæ–¹å¼ï¼šé»˜è®¤æ„é€  + èµ‹å€¼</span>
    <span class="hljs-built_in">PerformanceDemo</span>(<span class="hljs-type">const</span> std::string&amp; s) {
        data = s;  <span class="hljs-comment">// æ‰§è¡Œäº†ä¸¤æ¬¡æ“ä½œï¼š</span>
                   <span class="hljs-comment">// 1. é»˜è®¤æ„é€ ç©ºå­—ç¬¦ä¸²</span>
                   <span class="hljs-comment">// 2. èµ‹å€¼ï¼ˆå¯èƒ½æ¶‰åŠå†…å­˜åˆ†é…å’Œå¤åˆ¶ï¼‰</span>
    }
    
    <span class="hljs-comment">// é«˜æ•ˆæ–¹å¼ï¼šç›´æ¥æ„é€ </span>
    <span class="hljs-built_in">PerformanceDemo</span>(<span class="hljs-type">const</span> std::string&amp; s) : <span class="hljs-built_in">data</span>(s) { }
    <span class="hljs-comment">// åªæ‰§è¡Œä¸€æ¬¡ï¼šç›´æ¥æ‹·è´æ„é€ </span>
};
</code></pre>
<h3 data-id="heading-12">4.2 æ€§èƒ½å½±å“çš„å®é™…æµ‹è¯•</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åˆ›å»º10000ä¸ªå¯¹è±¡çš„æ—¶é—´å¯¹æ¯”ï¼š</span>
<span class="hljs-comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼š185ms</span>
<span class="hljs-comment">// æ„é€ å‡½æ•°å†…èµ‹å€¼ï¼š245ms</span>
<span class="hljs-comment">// æ€§èƒ½æå‡çº¦24.5%</span>
</code></pre>
<h2 data-id="heading-13">äº”ã€åˆå§‹åŒ–é¡ºåºçš„é‡è¦è§„åˆ™</h2>
<h3 data-id="heading-14">5.1 é¡ºåºç”±å£°æ˜é¡ºåºå†³å®š</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderMatters</span> {
    <span class="hljs-type">int</span> x;    <span class="hljs-comment">// å£°æ˜1</span>
    <span class="hljs-type">int</span> y;    <span class="hljs-comment">// å£°æ˜2</span>
    <span class="hljs-type">int</span> z;    <span class="hljs-comment">// å£°æ˜3</span>
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// åˆå§‹åŒ–åˆ—è¡¨é¡ºåºï¼šz, x, y</span>
    <span class="hljs-comment">// ä½†å®é™…æ‰§è¡Œé¡ºåºï¼šx â†’ y â†’ zï¼ˆå£°æ˜é¡ºåºï¼ï¼‰</span>
    <span class="hljs-built_in">OrderMatters</span>() : <span class="hljs-built_in">z</span>(<span class="hljs-number">10</span>), <span class="hljs-built_in">x</span>(<span class="hljs-number">20</span>), <span class="hljs-built_in">y</span>(<span class="hljs-number">30</span>) { }
};
</code></pre>
<h3 data-id="heading-15">5.2 é¡ºåºä¸ä¸€è‡´çš„é™·é˜±</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dangerous</span> {
    <span class="hljs-type">int</span> a;
    <span class="hljs-type">int</span> b;
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// âŒ å±é™©çš„åˆå§‹åŒ–é¡ºåº</span>
    <span class="hljs-built_in">Dangerous</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">b</span>(val), <span class="hljs-built_in">a</span>(b * <span class="hljs-number">2</span>) {
        <span class="hljs-comment">// å®é™…æ‰§è¡Œï¼šaå…ˆåˆå§‹åŒ–ï¼ˆä½¿ç”¨æœªåˆå§‹åŒ–çš„bï¼ï¼‰</span>
        <span class="hljs-comment">// bååˆå§‹åŒ–ä¸ºval</span>
        <span class="hljs-comment">// ç»“æœæ˜¯æœªå®šä¹‰è¡Œä¸ºï¼</span>
    }
    
    <span class="hljs-comment">// âœ… æ­£ç¡®çš„åˆå§‹åŒ–é¡ºåº</span>
    <span class="hljs-built_in">Dangerous</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">a</span>(val * <span class="hljs-number">2</span>), <span class="hljs-built_in">b</span>(val) {
        <span class="hljs-comment">// æ‰§è¡Œé¡ºåºï¼ša â†’ bï¼Œéƒ½ä½¿ç”¨valåˆå§‹åŒ–</span>
    }
};
</code></pre>
<h2 data-id="heading-16">å…­ã€æœ€ä½³å®è·µæŒ‡å—</h2>
<h3 data-id="heading-17">6.1 æ€»æ˜¯ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// âœ… æ¨èï¼šåˆå§‹åŒ–æ‰€æœ‰æˆå‘˜</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BestPractice</span> {
    <span class="hljs-type">const</span> <span class="hljs-type">int</span> id;
    std::string name;
    <span class="hljs-type">int</span> age;
    std::vector&lt;<span class="hljs-type">double</span>&gt; scores;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">BestPractice</span>(<span class="hljs-type">int</span> i, <span class="hljs-type">const</span> std::string&amp; n, <span class="hljs-type">int</span> a, <span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">double</span>&gt;&amp; s)
        : <span class="hljs-built_in">id</span>(i)        <span class="hljs-comment">// constæˆå‘˜</span>
        , <span class="hljs-built_in">name</span>(n)      <span class="hljs-comment">// ç±»ç±»å‹</span>
        , <span class="hljs-built_in">age</span>(a)       <span class="hljs-comment">// åŸºæœ¬ç±»å‹</span>
        , <span class="hljs-built_in">scores</span>(s) {  <span class="hljs-comment">// å®¹å™¨ç±»</span>
        <span class="hljs-comment">// æ‰€æœ‰æˆå‘˜éƒ½å·²æ­£ç¡®åˆå§‹åŒ–</span>
    }
};
</code></pre>
<h3 data-id="heading-18">6.2 ä¿æŒå£°æ˜é¡ºåºä¸åˆå§‹åŒ–é¡ºåºä¸€è‡´</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">WellStructured</span> {
    <span class="hljs-comment">// 1. æŒ‰é€»è¾‘åˆ†ç»„å£°æ˜æˆå‘˜</span>
    <span class="hljs-type">const</span> <span class="hljs-type">int</span> id;          <span class="hljs-comment">// å¸¸é‡åœ¨å‰</span>
    std::string name;      <span class="hljs-comment">// ç„¶åæ˜¯ä¸»è¦æ•°æ®æˆå‘˜</span>
    
    <span class="hljs-comment">// 2. ç›¸å…³æˆå‘˜æ”¾åœ¨ä¸€èµ·</span>
    <span class="hljs-type">int</span> age;
    <span class="hljs-type">double</span> salary;
    
    <span class="hljs-comment">// 3. è¾…åŠ©æˆå‘˜åœ¨å</span>
    <span class="hljs-keyword">mutable</span> <span class="hljs-type">int</span> accessCount;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">WellStructured</span>(<span class="hljs-type">int</span> i, <span class="hljs-type">const</span> std::string&amp; n, <span class="hljs-type">int</span> a, <span class="hljs-type">double</span> s)
        : <span class="hljs-built_in">id</span>(i)           <span class="hljs-comment">// ä¸å£°æ˜é¡ºåºä¸€è‡´</span>
        , <span class="hljs-built_in">name</span>(n)
        , <span class="hljs-built_in">age</span>(a)
        , <span class="hljs-built_in">salary</span>(s)
        , <span class="hljs-built_in">accessCount</span>(<span class="hljs-number">0</span>) {  <span class="hljs-comment">// è¾…åŠ©æˆå‘˜æœ€å</span>
    }
};
</code></pre>
<h3 data-id="heading-19">6.3 åŸºæœ¬ç±»å‹ä¹Ÿè¦åˆå§‹åŒ–</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CompleteInitialization</span> {
    <span class="hljs-type">int</span> width;     <span class="hljs-comment">// åŸºæœ¬ç±»å‹</span>
    <span class="hljs-type">int</span> height;    <span class="hljs-comment">// åŸºæœ¬ç±»å‹</span>
    std::string title;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// âœ… å³ä½¿åŸºæœ¬ç±»å‹ä¹Ÿæ˜ç¡®åˆå§‹åŒ–</span>
    <span class="hljs-built_in">CompleteInitialization</span>(<span class="hljs-type">int</span> w, <span class="hljs-type">int</span> h, <span class="hljs-type">const</span> std::string&amp; t)
        : <span class="hljs-built_in">width</span>(w), <span class="hljs-built_in">height</span>(h), <span class="hljs-built_in">title</span>(t) { }
    
    <span class="hljs-comment">// âŒ é¿å…æœªåˆå§‹åŒ–</span>
    <span class="hljs-built_in">CompleteInitialization</span>(<span class="hljs-type">const</span> std::string&amp; t) : <span class="hljs-built_in">title</span>(t) {
        <span class="hljs-comment">// widthå’Œheightæ˜¯éšæœºå€¼ï¼</span>
    }
};
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€å¸¸è§é—®é¢˜è§£ç­”</h2>
<h3 data-id="heading-21">Q1ï¼šä¸ºä»€ä¹ˆæˆ‘çš„ä»£ç æ²¡æœ‰ç¼–è¯‘é”™è¯¯ï¼Ÿ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
    std::string name;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Example</span>(<span class="hljs-type">const</span> std::string&amp; n) {
        name = n;  <span class="hljs-comment">// ä¸ä¼šç¼–è¯‘é”™è¯¯ï¼</span>
    }
};
</code></pre>
<p><strong>A</strong>ï¼šå¯¹äºæœ‰é»˜è®¤æ„é€ å‡½æ•°çš„ç±»ï¼ˆå¦‚<code>std::string</code>ï¼‰ï¼Œæ„é€ å‡½æ•°å†…èµ‹å€¼æ˜¯åˆæ³•çš„ï¼Œä½†<strong>æ€§èƒ½è¾ƒä½</strong>ã€‚</p>
<h3 data-id="heading-22">Q2ï¼šä»€ä¹ˆæ—¶å€™ä¼šçœŸæ­£ç¼–è¯‘é”™è¯¯ï¼Ÿ</h3>
<p><strong>A</strong>ï¼šå½“ç±»æˆå‘˜<strong>æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°</strong>ä¸”<strong>ä¸åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­</strong>æ—¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">NoDefault</span> { <span class="hljs-built_in">NoDefault</span>(<span class="hljs-type">int</span>); };
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> { NoDefault obj; };
<span class="hljs-built_in">Example</span>() { }  <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼</span>
</code></pre>
<h3 data-id="heading-23">Q3ï¼šå§”æ‰˜æ„é€ å‡½æ•°å¦‚ä½•ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼Ÿ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    std::string name;
    <span class="hljs-type">int</span> age;
    std::string address;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å§”æ‰˜æ„é€ å‡½æ•°</span>
    <span class="hljs-built_in">Person</span>(<span class="hljs-type">const</span> std::string&amp; n, <span class="hljs-type">int</span> a)
        : <span class="hljs-built_in">Person</span>(n, a, <span class="hljs-string">"Unknown"</span>) { }  <span class="hljs-comment">// å§”æ‰˜ç»™ä¸‰å‚æ•°ç‰ˆæœ¬</span>
    
    <span class="hljs-built_in">Person</span>(<span class="hljs-type">const</span> std::string&amp; n, <span class="hljs-type">int</span> a, <span class="hljs-type">const</span> std::string&amp; addr)
        : <span class="hljs-built_in">name</span>(n), <span class="hljs-built_in">age</span>(a), <span class="hljs-built_in">address</span>(addr) { }
};
</code></pre>
<h2 data-id="heading-24">å…«ã€æ ¸å¿ƒåŸåˆ™</h2>
<ol>
<li><strong>åˆå§‹åŒ– â‰  èµ‹å€¼</strong>ï¼šåˆå§‹åŒ–åˆ—è¡¨æ˜¯çœŸæ­£çš„åˆå§‹åŒ–ï¼Œæ„é€ å‡½æ•°ä½“å†…çš„æ˜¯èµ‹å€¼</li>
<li><strong>æ‰€æœ‰æˆå‘˜éƒ½ä¼šåˆå§‹åŒ–</strong>ï¼šæ— è®ºæ˜¯å¦åœ¨åˆ—è¡¨ä¸­ï¼Œéƒ½ä¼šåœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“å‰åˆå§‹åŒ–</li>
<li><strong>é¡ºåºå¾ˆé‡è¦</strong>ï¼šåˆå§‹åŒ–é¡ºåºåªå–å†³äºå£°æ˜é¡ºåº</li>
<li><strong>ä¸€è‡´æ€§æ˜¯å…³é”®</strong>ï¼šæ€»æ˜¯ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–æ‰€æœ‰æˆå‘˜</li>
<li><strong>æ€§èƒ½å¾ˆé‡è¦</strong>ï¼šå¯¹äºç±»ç±»å‹ï¼Œç›´æ¥åˆå§‹åŒ–æ¯”é»˜è®¤æ„é€ +èµ‹å€¼æ›´é«˜æ•ˆ</li>
</ol>
<h2 data-id="heading-25">ä¹ã€æœ€åçš„å»ºè®®</h2>
<p>å…»æˆä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨çš„ä¹ æƒ¯ï¼Œå³ä½¿å¯¹äºåŸºæœ¬ç±»å‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è¿™ä¸ä»…æ˜¯è‰¯å¥½çš„ç¼–ç¨‹é£æ ¼ï¼Œè¿˜èƒ½ï¼š</p>
<ul>
<li>é¿å…æœªåˆå§‹åŒ–å˜é‡</li>
<li>æé«˜ä»£ç æ€§èƒ½</li>
<li>ç¡®ä¿constå’Œå¼•ç”¨æˆå‘˜æ­£ç¡®åˆå§‹åŒ–</li>
<li>ä½¿ä»£ç æ›´æ˜“ç»´æŠ¤å’Œç†è§£</li>
</ul>
<p>è®°ä½ï¼š<strong>åœ¨C++ä¸­ï¼Œåˆå§‹åŒ–æ€»æ˜¯ä¼˜äºèµ‹å€¼</strong>ã€‚æŒæ¡åˆå§‹åŒ–åˆ—è¡¨çš„ä½¿ç”¨ï¼Œæ˜¯æˆä¸ºé«˜æ•ˆC++ç¨‹åºå‘˜çš„é‡è¦ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¿«æ‰‹å¯çµ2.0ç‚¸åœºï¼šå‘Šåˆ«é¢ç˜«æœºå™¨äººï¼Œä½ çš„JPGç…§ç‰‡ç°åœ¨èƒ½æ‹¿å¥¥æ–¯å¡äº†]]></title>    <link>https://juejin.cn/post/7580373352420311066</link>    <guid>https://juejin.cn/post/7580373352420311066</guid>    <pubDate>2025-12-06T15:32:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580373352420311066" data-draft-id="7580374090364682278" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¿«æ‰‹å¯çµ2.0ç‚¸åœºï¼šå‘Šåˆ«é¢ç˜«æœºå™¨äººï¼Œä½ çš„JPGç…§ç‰‡ç°åœ¨èƒ½æ‹¿å¥¥æ–¯å¡äº†"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-06T15:32:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¿«æ‰‹å¯çµ2.0ç‚¸åœºï¼šå‘Šåˆ«é¢ç˜«æœºå™¨äººï¼Œä½ çš„JPGç…§ç‰‡ç°åœ¨èƒ½æ‹¿å¥¥æ–¯å¡äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:32:56.000Z" title="Sat Dec 06 2025 15:32:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¯´å®è¯ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘å¯¹æ‰€è°“çš„â€œæ•°å­—äººâ€ä¸€ç›´æ˜¯æŒä¿ç•™æ€åº¦çš„ã€‚</p>
<p>ä½ è‚¯å®šä¹Ÿè§è¿‡é‚£ç§è§†é¢‘ï¼šä¸€å¼ åƒµç¡¬çš„è„¸ï¼Œå˜´å·´æœºæ¢°åœ°ä¸€å¼ ä¸€åˆï¼Œçœ¼ç¥ç©ºæ´å¾—åƒæ˜¯åœ¨å¿µç¨¿å­ã€‚é‚£ç§ä¸œè¥¿ï¼Œä¸å…¶å«â€œæ•°å­—äººâ€ï¼Œä¸å¦‚å«â€œå¯¹å£å‹æœºå™¨â€ã€‚ä½†åœ¨2025å¹´12æœˆ4æ—¥ï¼Œå¿«æ‰‹å¯çµAIæŠŠè¿™ä¸ªå®šä¹‰å½»åº•æ”¹å†™äº†ã€‚</p>
<p>å¯çµæ•°å­—äºº2.0æ­£å¼å…¨é‡ä¸Šçº¿ã€‚è¿™æ¬¡æ›´æ–°æœ€è®©æˆ‘æ„Ÿåˆ°å…´å¥‹çš„ï¼Œä¸æ˜¯ä»€ä¹ˆå¤æ‚çš„å‚æ•°å †ç Œï¼Œè€Œæ˜¯ä¸€ä¸ªéå¸¸æ„Ÿæ€§çš„å˜åŒ–ï¼š<strong>å®ƒç»ˆäºä»â€œä¼šè¯´è¯â€ï¼Œè¿›åŒ–åˆ°äº†â€œä¼šè¡¨æ¼”â€ã€‚</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fasfdv-1024x455.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/asfdv-1024x455.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86ffcf4ae2a64d0eb5c36a45a15420a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765639975&amp;x-signature=9uUSonGfrZDaZaw0XggiUhB1Ggo%3D" alt="asfdv" loading="lazy"/></a></p>
<h3 data-id="heading-0">ç»™AIè£…ä¸Šâ€œå¯¼æ¼”æ€ç»´â€</h3>
<p>ä»¥å‰çš„æ•°å­—äººæŠ€æœ¯ï¼Œå¾ˆå¤šæ—¶å€™æ˜¯å¬ä¸æ‡‚äººè¯çš„ã€‚ä½ ç»™å®ƒä¸€æ®µæ‚²ä¼¤çš„éŸ³é¢‘ï¼Œå®ƒå¯èƒ½è¿˜æ˜¯çªç€å¤§çœ¼ç›åœ¨é‚£å„¿å¿µè¯ã€‚</p>
<p>ä½†è¿™æ¬¡å¯çµ2.0å¼•å…¥äº†ä¸€ä¸ªå«åšâ€œå¤šæ¨¡æ€å¯¼æ¼”æ¨¡å—â€ï¼ˆMLLM Directorï¼‰çš„ä¸œè¥¿ã€‚å¬èµ·æ¥å¾ˆæŠ€æœ¯æµï¼Œä½†å…¶å®å¾ˆå¥½ç†è§£ï¼šå®ƒå°±åƒæ˜¯åœ¨åå°å› è˜è¯·äº†ä¸€ä½çœ‹ä¸è§çš„å¯¼æ¼”ã€‚</p>
<p>å½“ä½ ä¸Šä¼ ä¸€å¼ ç…§ç‰‡å’Œä¸€æ®µéŸ³é¢‘åï¼Œè¿™ä½â€œAIå¯¼æ¼”â€ä¸ä»…ä¼šåˆ†æä½ åœ¨è¯´ä»€ä¹ˆï¼Œè¿˜ä¼šåˆ†æä½ çš„è¯­æ°”ã€èŠ‚å¥ï¼Œç”šè‡³æ˜¯ä½ è¾“å…¥çš„æ–‡æœ¬æç¤ºã€‚</p>
<p>æ¯”å¦‚ï¼Œä½ è¾“å…¥ä¸€æ®µå¿«èŠ‚å¥çš„è¯´å”±ï¼Œæˆ–è€…ä¸€é¦–æ·±æƒ…çš„æ…¢æ­Œï¼Œä»¥å‰çš„æ¨¡å‹å¯èƒ½åªæ˜¯å˜´å·´åŠ¨å¾—å¿«ä¸€ç‚¹ã€‚ä½†ç°åœ¨ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨æå–éŸ³é¢‘é‡Œçš„â€œæƒ…æ„Ÿè½¨è¿¹â€ã€‚äºæ˜¯ä½ ä¼šçœ‹åˆ°ï¼Œå±å¹•é‡Œçš„é‚£ä¸ªæ•°å­—äººï¼Œçœ‰æ¯›ä¼šéšç€é«˜éŸ³æ‰¬èµ·ï¼Œè‚©è†€ä¼šéšç€é¼“ç‚¹è€¸åŠ¨ï¼Œç”šè‡³çœ¼ç¥é‡Œèƒ½æµéœ²å‡ºç¬‘æ„æˆ–æ„¤æ€’ã€‚</p>
<p>è¿™ç§è¿è´¯çš„è‚¢ä½“è¯­è¨€å’Œå¾®è¡¨æƒ…ï¼Œæ‰æ˜¯æ‰“ç ´â€œææ€–è°·æ•ˆåº”â€çš„å…³é”®ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-06_23.24.08-1024x600.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-06_23.24.08-1024x600.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31df6565af5040ae9c5d17435dd5c8d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765639975&amp;x-signature=Z%2BTSmnE%2BS1fs6By6Vf4CezXsc5A%3D" alt="iShot_2025-12-06_23.24.08" loading="lazy"/></a></p>
<h3 data-id="heading-1">äº”åˆ†é’Ÿçš„å¤§ç‰‡ï¼Œä¸‰æ­¥æå®š</h3>
<p>å¯¹äºå†…å®¹åˆ›ä½œè€…æ¥è¯´ï¼Œè¿™æ¬¡å‡çº§æœ€å®ç”¨çš„ç‚¹åœ¨äºâ€œé‡â€çš„çªç ´ã€‚</p>
<p>ä»¥å‰å¾ˆå¤šå·¥å…·åªèƒ½ç”Ÿæˆå‡ åç§’çš„ç‰‡æ®µï¼Œç¨å¾®é•¿ä¸€ç‚¹å°±å´©åã€‚å¯çµ2.0ç›´æ¥æ”¯æŒæœ€é•¿ <strong>5åˆ†é’Ÿ</strong> çš„è§†é¢‘ç”Ÿæˆï¼Œè€Œä¸”æ˜¯1080pçš„é«˜æ¸…ç”»è´¨ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€ä½ ä¸éœ€è¦å†å»æ‹¼å‡‘ç¢ç‰‡ï¼Œå®Œå…¨å¯ä»¥ä¸€é•œåˆ°åº•åœ°åšå®Œä¸€ä¸ªå®Œæ•´çš„çŸ­å‰§ã€ä¸€ä¸ªMVï¼Œæˆ–è€…ä¸€èŠ‚å®Œæ•´çš„å¾®è¯¾ã€‚</p>
<p>æ›´ç¦»è°±çš„æ˜¯å®ƒçš„æ“ä½œé—¨æ§›ã€‚æˆ‘åŸæœ¬ä»¥ä¸ºè¦è°ƒæ•´è¿™ä¹ˆå¤šå¤æ‚çš„è¡¨æƒ…åŠ¨ä½œï¼Œåå°ç•Œé¢å¾—åƒé£æœºçš„ä»ªè¡¨ç›˜ä¸€æ ·å¤æ‚ã€‚ç»“æœå¿«æ‰‹æŠŠå®ƒåšæˆäº†â€œå‚»ç“œå¼â€çš„ä¸‰æ­¥èµ°ï¼š</p>
<ol>
<li><strong>ç”©ä¸€å¼ å›¾</strong>ï¼šçœŸäººç…§ç‰‡ã€å¡é€šè§’è‰²ã€ç”šè‡³æ˜¯ä½ ç”Ÿæˆçš„AIç¾å¥³å¸…å“¥ï¼Œæ‰”è¿›å»å°±è¡Œã€‚</li>
<li><strong>ç»™å£°éŸ³</strong>ï¼šä¸Šä¼ å½•éŸ³ï¼Œæˆ–è€…æ‰“å­—è®©AIå¸®ä½ è¯»ã€‚</li>
<li><strong>æè¦æ±‚</strong>ï¼šè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚ä½ å¯ä»¥åƒè·Ÿæ¼”å‘˜è®²æˆä¸€æ ·ï¼Œè¾“å…¥æ–‡æœ¬æè¿°ã€‚æ¯”å¦‚â€œé•œå¤´ç¼“æ…¢æ¨è¿›ï¼Œè§’è‰²è¡¨ç°å‡ºéš¾ä»¥ç½®ä¿¡çš„è¡¨æƒ…ï¼Œæ‰‹æ‚ä½èƒ¸å£â€ã€‚</li>
</ol>
<p>å‰©ä¸‹çš„ï¼Œå°±äº¤ç»™é‚£ä¸ªâ€œAIå¯¼æ¼”â€å»ç®—å§ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fasfasf.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/asfasf.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b06e639e4efd4025ad58be065137ff4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765639975&amp;x-signature=QKDLy4omctZ8Uge3c0qXNAXvNcM%3D" alt="asfasf" loading="lazy"/></a></p>
<h3 data-id="heading-2">è¿™å¯¹æˆ‘ä»¬æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</h3>
<p>è¿™é¡¹æŠ€æœ¯çš„è½åœ°ï¼Œå®é™…ä¸Šæ˜¯åœ¨é‡å¡‘å†…å®¹åˆ›ä½œçš„æˆæœ¬ç»“æ„ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯ä¸€ä¸ªåšç”µå•†çš„ã€‚ä»¥å‰ä½ è¦æ‹ä¸€ä¸ªäº§å“ä»‹ç»è§†é¢‘ï¼Œå¾—æ‰¾æ¨¡ç‰¹ã€ç§Ÿæ£šå­ã€æ‰“å…‰ã€æ‹æ‘„ã€å‰ªè¾‘ï¼ŒæŠ˜è…¾ä¸€å¤©å‡ åƒå—æ²¡äº†ã€‚ç°åœ¨ï¼Œä½ åªéœ€è¦ä¸€å¼ æ¨¡ç‰¹å›¾ï¼Œä¸€æ®µä»‹ç»äº§å“çš„å½•éŸ³ï¼Œå‡ åˆ†é’Ÿå°±èƒ½ç”Ÿæˆä¸€ä¸ªå¤šè¯­ç§çš„ã€è¡¨æƒ…ç”ŸåŠ¨çš„äº§å“æ¼”ç¤ºè§†é¢‘ã€‚</p>
<p>æˆ–è€…ä½ æ˜¯ä¸€ä¸ªéŸ³ä¹äººï¼Œå†™äº†æ­Œå´æ²¡é’±æ‹MVã€‚ç°åœ¨ä½ å¯ä»¥ç”Ÿæˆä¸€ä¸ªå……æ»¡èµ›åšæœ‹å…‹é£æ ¼çš„è§’è‰²ï¼Œè®©å®ƒåœ¨è§†é¢‘é‡Œæ·±æƒ…æ¼”å”±ï¼Œæ‰‹åŠ¿å’Œå£å‹è¿˜èƒ½ç²¾å‡†å¡åœ¨èŠ‚æ‹ä¸Šã€‚</p>
<p>ç”šè‡³åœ¨æ•™è‚²é¢†åŸŸï¼Œé‚£ä¸ªæ°¸è¿œä¸çŸ¥ç–²å€¦ã€å§‹ç»ˆä¿æŒå¾®ç¬‘ã€è¿˜èƒ½é…åˆæ‰‹åŠ¿è®²è§£çŸ¥è¯†ç‚¹çš„â€œè™šæ‹Ÿè€å¸ˆâ€ï¼Œç°åœ¨çœ‹æ¥å·²ç»è§¦æ‰‹å¯åŠã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fsadacvv.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/sadacvv.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e129b51bc8e423c89e17a05eb862063~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765639975&amp;x-signature=TxVSyRj%2BXhmYzVS0QBWssvmr2%2Fk%3D" alt="sadacvv" loading="lazy"/></a></p>
<h3 data-id="heading-3">ç»“è¯­</h3>
<p>æˆ‘ä»¬å¸¸è¯´AIçš„å‘å±•æ˜¯ä¸€åœºé•¿è·‘ï¼Œä½†å¿«æ‰‹å¯çµè¿™æ¬¡çš„æ›´æ–°ï¼Œæ›´åƒæ˜¯ä¸€æ¬¡ç™¾ç±³å†²åˆºã€‚å®ƒè§£å†³çš„ä¸å†æ˜¯â€œèƒ½ä¸èƒ½åŠ¨â€çš„é—®é¢˜ï¼Œè€Œæ˜¯â€œåŠ¨å¾—åƒä¸åƒäººâ€çš„é—®é¢˜ã€‚</p>
<p>å¦‚æœä½ æ‰‹é‡Œä¹Ÿæœ‰ä¸€äº›æƒ³è®©å®ƒâ€œæ´»è¿‡æ¥â€çš„ç…§ç‰‡ï¼Œæˆ–è€…æœ‰ä¸€äº›ä¸€ç›´æ²¡èƒ½æ‹å‡ºæ¥çš„å‰§æœ¬ï¼Œä¸å¦¨å»è¯•è¯•ã€‚æ¯•ç«Ÿï¼Œåœ¨è¿™ä¸ªæ—¶ä»£ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥æ˜¯å¯¼æ¼”ï¼Œè€Œä½ çš„æ¼”å‘˜ï¼Œå·²ç»åœ¨äº‘ç«¯å°±ä½äº†ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI ç•Œçš„â€œUSB-Câ€åè®®æ¥äº†ï¼šè®©ä½ çš„ AI æ‹¥æœ‰å³æ’å³ç”¨çš„â€œæ‰‹å’Œè„šâ€]]></title>    <link>https://juejin.cn/post/7580277964342083594</link>    <guid>https://juejin.cn/post/7580277964342083594</guid>    <pubDate>2025-12-06T14:05:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580277964342083594" data-draft-id="7580303864604950537" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI ç•Œçš„â€œUSB-Câ€åè®®æ¥äº†ï¼šè®©ä½ çš„ AI æ‹¥æœ‰å³æ’å³ç”¨çš„â€œæ‰‹å’Œè„šâ€"/> <meta itemprop="keywords" content="OpenAI,AIç¼–ç¨‹,AIGC"/> <meta itemprop="datePublished" content="2025-12-06T14:05:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ³¯æ³·"/> <meta itemprop="url" content="https://juejin.cn/user/317122698296024"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI ç•Œçš„â€œUSB-Câ€åè®®æ¥äº†ï¼šè®©ä½ çš„ AI æ‹¥æœ‰å³æ’å³ç”¨çš„â€œæ‰‹å’Œè„šâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/317122698296024/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ³¯æ³·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:05:18.000Z" title="Sat Dec 06 2025 14:05:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å„ä½åœ¨äº’è”ç½‘åœˆå­é‡Œæ‘¸çˆ¬æ»šæ‰“çš„æœ‹å‹ä»¬ï¼Œä»Šå¹´èŠå¾—æœ€å¤šçš„è¯ï¼Œé™¤äº†å¤§æ¨¡å‹ï¼Œææ€•å°±æ˜¯ <strong>â€œAI Agentâ€</strong>ï¼ˆAI æ™ºèƒ½ä½“ï¼‰äº†ã€‚</p>
<p>å¤§å®¶éƒ½å¹»æƒ³ç€ï¼Œæœªæ¥æœ‰ä¸€ä¸ªæ— æ‰€ä¸èƒ½çš„ AI åŠ©ç†ï¼Œä½ ä¸€å¥è¯ï¼Œå®ƒå°±èƒ½è‡ªåŠ¨è®¢æœºç¥¨ã€åšæŠ¥è¡¨ã€ç®¡ç†é¡¹ç›®ã€‚ä½†ç°å®å¾ˆéª¨æ„Ÿï¼Œæˆ‘ä»¬ä»Šå¤©ç”¨åˆ°çš„å¤§å¤šæ•° AI åº”ç”¨ï¼Œæ›´åƒä¸€ä¸ªâ€œåšå­¦çš„èŠå¤©ä¼™ä¼´â€ï¼Œè€Œéâ€œèƒ½å¹²çš„åŠäº‹å‘˜â€ã€‚å®ƒèƒ½è·Ÿä½ ä»è¯—è¯æ­Œèµ‹èŠåˆ°äººç”Ÿå“²å­¦ï¼Œä½†ä½ è®©å®ƒå»å…¬å¸çš„æ•°æ®åº“é‡Œæ‹‰ä¸ªä¸Šå‘¨çš„é”€å”®æ•°æ®ï¼Œå®ƒåªä¼šæŠ±æ­‰åœ°å‘Šè¯‰ä½ ï¼šâ€œå¯¹ä¸èµ·ï¼Œæˆ‘æ— æ³•è®¿é—®å¤–éƒ¨é“¾æ¥ã€‚â€</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿæ˜¯æˆ‘ä»¬çš„å¤§æ¨¡å‹ä¸å¤Ÿèªæ˜å—ï¼Ÿ</p>
<p>ä¸æ˜¯ã€‚é—®é¢˜å‡ºåœ¨è¿æ¥ä¸Šã€‚<strong>ä¸€ä¸ªå†èªæ˜çš„å¤§è„‘ï¼Œå¦‚æœæ²¡æœ‰è¿æ¥åˆ°æ‰‹å’Œè„šï¼Œå®ƒå°±æ°¸è¿œæ— æ³•ä¸ç‰©ç†ä¸–ç•Œäº’åŠ¨ã€‚</strong> è€Œè¿‡å»ï¼Œç»™ AI å®‰è£…â€œæ‰‹è„šâ€çš„è¿‡ç¨‹ï¼Œå ªç§°ä¸€åœºç¾éš¾ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€æ··ä¹±çš„â€œè£…ä¿®æ—¶ä»£â€ï¼šAI é›†æˆçš„â€œåœŸæ–¹æ³•â€</h3>
<p>æˆ‘ä»¬ä¸å¦¨ç”¨ä¸€ä¸ªè£…ä¿®çš„æ¯”å–»æ¥ç†è§£ã€‚</p>
<p>å‡è®¾å¤§æ¨¡å‹æ˜¯ä½ åˆšä¹°çš„è¶…çº§æ™ºèƒ½ä¸­æ§â€œå¤§è„‘â€ï¼Œä½ æƒ³è®©å®ƒæ§åˆ¶å®¶é‡Œçš„å„ç§ç”µå™¨â€”â€”ç¯ã€ç©ºè°ƒã€æ•°æ®åº“ã€å…¬å¸çš„ ERP ç³»ç»Ÿç­‰ç­‰ã€‚</p>
<p>åœ¨è¿‡å»ï¼Œæ²¡æœ‰ç»Ÿä¸€æ ‡å‡†ã€‚ä½ æƒ³è¿ä¸€ç›ç¯ï¼Œéœ€è¦è¯·ä¸ªç”µå·¥ï¼Œç ”ç©¶ç¯çš„ç”µè·¯ï¼Œå†æ‹‰ä¸€æ ¹ä¸“é—¨çš„ç”µçº¿åˆ°â€œå¤§è„‘â€ï¼›ä½ æƒ³è¿ä¸€å°ç©ºè°ƒï¼Œåˆè¦è¯·å¦ä¸€ä¸ªå¸ˆå‚…ï¼Œå†æ‹‰ä¸€æ ¹å®Œå…¨ä¸åŒçš„çº¿ã€‚æ¯ä¸ªæ–°å·¥å…·ã€æ–°åº”ç”¨ï¼Œéƒ½æ„å‘³ç€ä¸€æ¬¡**â€œå®šåˆ¶åŒ–æ–½å·¥â€**ã€‚</p>
<p>è¿™å¸¦æ¥äº†å‡ ä¸ªè‡´å‘½é—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>æˆæœ¬é«˜ã€æ•ˆç‡ä½</strong>ï¼šæ¯ä¸ªè¿æ¥éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹é¡¹ç›®ï¼Œéœ€è¦ä¸“é—¨çš„å¼€å‘å’Œç»´æŠ¤ï¼Œè´¹æ—¶è´¹åŠ›ã€‚</p>
</li>
<li>
<p><strong>å…¼å®¹æ€§å·®ã€æåº¦è„†å¼±</strong>ï¼šA å…¬å¸çš„ AIï¼Œæ¢åˆ° B å…¬å¸çš„å·¥å…·ä¸Šå°±å¾—å…¨éƒ¨é‡åšã€‚ç³»ç»Ÿç¨å¾®ä¸€å‡çº§ï¼Œè¿æ¥å°±å¯èƒ½æ–­æ‰ã€‚</p>
</li>
<li>
<p><strong>å®‰å…¨é£é™©å¤§</strong>ï¼šä¸ºäº†è®© AI å¹²æ´»ï¼Œä½ å¯èƒ½å¾—ç»™å®ƒå¼€ä¸€ä¸ªå¾ˆå¤§çš„æƒé™å£å­ï¼Œå®ƒèƒ½å¼€ç¯ï¼Œå¯èƒ½ä¹Ÿèƒ½é»‘è¿›ä½ çš„ç”µç½‘ã€‚</p>
</li>
</ul>
<p>åœ¨è¿™ç§â€œåˆ€è€•ç«ç§â€çš„æ¨¡å¼ä¸‹ï¼Œæ„å»ºä¸€ä¸ªçœŸæ­£å¼ºå¤§çš„ AI Agentï¼Œå°±åƒè¯•å›¾ç”¨å‡ ç™¾ç§ä¸åŒè§„æ ¼çš„é›¶ä»¶å»ç»„è£…ä¸€è¾†æ±½è½¦ï¼Œè¿‡ç¨‹æå…¶ç—›è‹¦ï¼Œç»“æœä¹Ÿå¾€å¾€ä¸å°½äººæ„ã€‚</p>
<h3 data-id="heading-1">äºŒã€MCPï¼šæ¬¢è¿æ¥åˆ° AI çš„â€œUSB-Câ€æ—¶ä»£</h3>
<p>ç°åœ¨ï¼Œç»ˆäºæœ‰äººç«™å‡ºæ¥è¯´ï¼šâ€œå¤Ÿäº†ï¼åˆ«å†å„æå„çš„äº†ï¼Œæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„æ’åº§æ ‡å‡†å§ï¼â€</p>
<p>è¿™ä¸ªç«™å‡ºæ¥çš„äººï¼Œæ˜¯ Anthropicï¼ˆClaude æ¨¡å‹çš„å¼€å‘å…¬å¸ï¼‰ï¼Œä»–ä»¬æå‡ºçš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯ <strong>MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰</strong>ã€‚</p>
<p>ä½ å®Œå…¨å¯ä»¥æŠŠå®ƒç†è§£ä¸ºâ€”â€”<strong>AI ä¸–ç•Œçš„â€œUSB-Câ€åè®®</strong>ã€‚</p>
<p><img src="https://cdn.gooo.ai/gen-images/b4728f09ffa1a719a38886a3dc3811fe2cbce091a15db3d92a0b5108b4fc5a68.png" alt="MCP USB-C Metaphor" loading="lazy"/></p>
<p>MCP çš„æ ¸å¿ƒæ€æƒ³æå…¶ç®€å•ç²—æš´ï¼š<strong>æ— è®ºä½ æ˜¯ä»€ä¹ˆç±»å‹çš„â€œå¤–éƒ¨è®¾å¤‡â€ï¼ˆå·¥å…·ã€æ•°æ®åº“ã€APIï¼‰ï¼Œä¹Ÿæ— è®ºä½ æ˜¯ä»€ä¹ˆå“ç‰Œçš„â€œAI å¤§è„‘â€ï¼Œæˆ‘ä»¬ä¹‹é—´éƒ½ç”¨ä¸€å¥—æ ‡å‡†åŒ–çš„è¯­è¨€å’Œæ¥å£æ¥å¯¹è¯ã€‚</strong></p>
<p>è¿™å¥—æ ‡å‡†åŒ–çš„å·¥ä½œæµç¨‹ï¼Œç”¨å¤§ç™½è¯è®²ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>
<p><strong>â€œæ¡æ‰‹â€</strong>ï¼šAI é€šè¿‡ä¸€ä¸ªå«â€œå®¢æˆ·ç«¯ï¼ˆClientï¼‰â€çš„ç®¡å®¶ï¼Œå’Œæä¾›å·¥å…·çš„â€œæœåŠ¡å™¨ï¼ˆServerï¼‰â€æ‰“ä¸ªæ‹›å‘¼ï¼Œå¯¹ä¸€ä¸‹æš—å·ï¼ˆåè®®ç‰ˆæœ¬ï¼‰ã€‚</p>
</li>
<li>
<p><strong>â€œæŠ¥èœåâ€</strong>ï¼šAI é—®ï¼šâ€œä½ è¿™å„¿æœ‰å•¥æˆ‘èƒ½ç”¨çš„ï¼Ÿâ€ æœåŠ¡å™¨ç«‹åˆ»é€’ä¸Šä¸€ä»½â€œèƒ½åŠ›æ¸…å•â€ï¼Œä¸Šé¢å†™ç€ï¼šâ€œæˆ‘è¿™é‡Œæœ‰â€˜æŸ¥è¯¢å¤©æ°”â€™çš„å·¥å…·ã€æœ‰â€˜å…¬å¸å‘˜å·¥é€šè®¯å½•â€™çš„èµ„æºã€è¿˜æœ‰å†™â€˜å‘¨æŠ¥â€™çš„æ¨¡æ¿ã€‚â€</p>
</li>
<li>
<p><strong>â€œä¸‹æŒ‡ä»¤â€</strong>ï¼šAI æ ¹æ®ä»»åŠ¡éœ€è¦ï¼Œé€‰æ‹©ä¸€é¡¹èƒ½åŠ›ï¼Œæ¯”å¦‚å¯¹ç®¡å®¶è¯´ï¼šâ€œå»ï¼Œç”¨â€˜æŸ¥è¯¢å¤©æ°”â€™çš„å·¥å…·ï¼Œå‘Šè¯‰æˆ‘åŒ—äº¬ä»Šå¤©çš„å¤©æ°”ã€‚â€</p>
</li>
<li>
<p><strong>â€œå®‰å…¨æ‰§è¡Œâ€</strong>ï¼šç®¡å®¶ï¼ˆå®¢æˆ·ç«¯ï¼‰ç¡®ä¿è¿™ä¸ªæŒ‡ä»¤æ˜¯åˆè§„çš„ã€å®‰å…¨çš„ï¼Œç„¶åè®©æœåŠ¡å™¨å»æ‰§è¡Œï¼Œæœ€åæŠŠç»“æœæ‹¿å›æ¥ç»™ AIã€‚</p>
</li>
</ol>
<p>çœ‹åˆ°äº†å—ï¼Ÿæ•´ä¸ªè¿‡ç¨‹å°±åƒä½ æŠŠä¸€ä¸ªæ–°ä¹°çš„ U ç›˜æ’è¿›ç”µè„‘ã€‚ç”µè„‘è‡ªåŠ¨è¯†åˆ«å‡ºâ€œè¿™æ˜¯ä¸€ä¸ªå­˜å‚¨è®¾å¤‡â€ï¼Œç„¶åä½ å°±å¯ä»¥åœ¨é‡Œé¢è¯»å†™æ–‡ä»¶äº†ã€‚ä½ å®Œå…¨ä¸éœ€è¦å…³å¿ƒè¿™ä¸ª U ç›˜çš„å†…éƒ¨èŠ¯ç‰‡æ˜¯æ€ä¹ˆè®¾è®¡çš„ã€‚</p>
<p><strong>è¿™å°±æ˜¯æ ‡å‡†åŒ–çš„å¨åŠ›ã€‚MCP æŠŠå¤æ‚ã€æ··ä¹±çš„â€œå®šåˆ¶åŒ–è¿æ¥â€ï¼Œå˜æˆäº†ç®€å•ã€ä¼˜é›…çš„â€œå³æ’å³ç”¨â€ã€‚</strong></p>
<h3 data-id="heading-2">ä¸‰ã€è¿™ä¸ºä»€ä¹ˆå…³ä¹æ¯ä¸ªäººçš„é¥­ç¢—ï¼Ÿ</h3>
<p>æŠ€æœ¯ç»†èŠ‚æˆ‘ä»¬ç‚¹åˆ°ä¸ºæ­¢ï¼Œä½œä¸ºâ€œæ‡‚ä¸šåŠ¡çš„è€å¸æœºâ€ï¼Œæˆ‘ä»¬æ›´å…³å¿ƒçš„æ˜¯ï¼šè¿™ä¸œè¥¿åˆ°åº•æœ‰ä»€ä¹ˆç”¨ï¼Ÿå®ƒä¼šå¦‚ä½•æ”¹å˜æ½®æ°´çš„æ–¹å‘ï¼Ÿ</p>
<p><strong>1. å¯¹å¼€å‘è€…å’Œä¼ä¸šï¼šç–¯ç‹‚çš„é™æœ¬å¢æ•ˆ</strong></p>
<p>è¿™ä¸€ç‚¹æœ€ç›´æ¥ã€‚æœ‰äº† MCPï¼Œä¼ä¸šåœ¨å¼€å‘ AI åº”ç”¨æ—¶ï¼Œå°†ä¸å†éœ€è¦ä¸ºæ¯ä¸€ä¸ªå·¥å…·ç¼–å†™ä¸“ç”¨çš„â€œé€‚é…å™¨â€ã€‚</p>
<p><strong>è¿™æ„å‘³ç€å¼€å‘æˆæœ¬å’Œæ—¶é—´çš„æŒ‡æ•°çº§ä¸‹é™ã€‚</strong></p>
<p>è¿‡å»åšä¸€ä¸ªèƒ½å¯¹æ¥å…¬å¸å†…éƒ¨ 10 ä¸ªç³»ç»Ÿçš„ AI åŠ©ç†ï¼Œå¯èƒ½éœ€è¦ä¸€ä¸ªå›¢é˜Ÿå­å“§å­å“§æåŠå¹´ã€‚æœªæ¥ï¼Œå¯èƒ½åªéœ€è¦ä¸€ä¸ªå·¥ç¨‹å¸ˆï¼ŒèŠ±å‡ å¤©æ—¶é—´ï¼ŒæŠŠè¿™äº›ç³»ç»Ÿâ€œMCP åŒ–â€ï¼Œå°±èƒ½è®©ä»»ä½•æ”¯æŒ MCP çš„ AI æ¨¡å‹æ— ç¼æ¥å…¥ã€‚<strong>è¿™æ˜¯ä»æ‰‹å·¥ä½œåŠåˆ°å·¥ä¸šåŒ–æµæ°´çº¿çš„è·¨è¶Šã€‚</strong></p>
<p><strong>2. å¯¹è¡Œä¸šç”Ÿæ€ï¼šAI çš„â€œApp Storeâ€æ—¶ä»£æ¥äº†</strong></p>
<p>è¿˜è®°å¾— iPhone æ˜¯å¦‚ä½•æˆåŠŸçš„å—ï¼ŸApp Store åŠŸä¸å¯æ²¡ã€‚å½“æˆåƒä¸Šä¸‡çš„å¼€å‘è€…å¯ä»¥åŸºäºä¸€å¥—ç»Ÿä¸€çš„æ ‡å‡†ï¼ˆiOS SDKï¼‰å»åˆ›é€ åº”ç”¨æ—¶ï¼Œç”Ÿæ€å°±çˆ†å‘äº†ã€‚</p>
<p>MCP æ‰®æ¼”çš„ï¼Œæ­£æ˜¯â€œAI å·¥å…·â€é¢†åŸŸçš„ SDK è§’è‰²ã€‚</p>
<p><img src="https://cdn.gooo.ai/gen-images/21fdec1709660706ca4f63a26bdb6fa17ed190864846b5818ec6de2a4555f2f2.png" alt="AI Tool Ecosystem" loading="lazy"/></p>
<p>å¯ä»¥é¢„è§ï¼Œæœªæ¥ä¼šå‡ºç°ä¸€ä¸ªç¹è£çš„â€œAI å·¥å…·å¸‚åœºâ€ã€‚ä¸“é—¨æä¾›æ•°æ®åº“è¿æ¥çš„ã€ä¸“é—¨æä¾›åŠå…¬è½¯ä»¶æ“ä½œçš„ã€ä¸“é—¨æä¾›ç‰¹å®šè¡Œä¸šæ•°æ®åˆ†æçš„â€¦â€¦å„ç§å„æ ·çš„â€œMCP-Readyâ€å·¥å…·ä¼šåƒé›¨åæ˜¥ç¬‹èˆ¬æ¶Œç°ã€‚<strong>AI å…¬å¸ä¸ç”¨å†é‡å¤é€ è½®å­ï¼Œè€Œæ˜¯å¯ä»¥ä¸“æ³¨äºä¼˜åŒ–è‡ªå·±çš„â€œå¤§è„‘â€ï¼Œç„¶åå»è¿™ä¸ªâ€œå·¥å…·å•†åº—â€é‡ŒæŒ‘é€‰â€œæ‰‹å’Œè„šâ€è¿›è¡Œç»„è£…ã€‚</strong></p>
<p><strong>3. å¯¹æœªæ¥ï¼šä»â€œå¤§è„‘â€åˆ°â€œå®Œå…¨ä½“â€ï¼ŒAgent çš„æœ€åä¸€å—æ‹¼å›¾</strong></p>
<p>MCP çœŸæ­£æ‰“å¼€çš„ï¼Œæ˜¯é€šå¾€â€œè‡ªä¸» AI Agentâ€çš„å¤§é—¨ã€‚</p>
<p>å®ƒä¸ä»…è®© AI èƒ½è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼Œç”šè‡³è¿˜æ”¯æŒâ€œåŒå‘èƒ½åŠ›â€â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–éƒ¨å·¥å…·åœ¨éœ€è¦çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥åè¿‡æ¥è¯·æ±‚ AI çš„â€œç®—åŠ›â€æˆ–â€œæ™ºæ…§â€æ¥å®Œæˆä»»åŠ¡ã€‚</p>
<p>è¿™æ„å»ºäº†ä¸€ä¸ªåä½œç½‘ç»œã€‚AI ä¸å†æ˜¯ä¸€ä¸ªå­¤ç‹¬çš„æ€è€ƒè€…ï¼Œè€Œæ˜¯æ·±åº¦åµŒå…¥åˆ°æˆ‘ä»¬æ•°å­—åŒ–å·¥ä½œæµä¸­çš„ä¸€ä¸ªâ€œè¶…çº§åŒäº‹â€ã€‚<strong>æœ‰äº†æ ‡å‡†åŒ–çš„è¿æ¥ï¼ŒAI Agent æ‰èƒ½çœŸæ­£èµ°å‡ºå®éªŒå®¤ï¼Œæˆä¸ºæˆ‘ä»¬ä¸šåŠ¡æµç¨‹ä¸­å¯é ã€å¯æ‰©å±•ã€å¯ç®¡ç†çš„å…³é”®ä¸€ç¯ã€‚</strong></p>
<h3 data-id="heading-3">å››ã€æ€»ç»“ï¼šåˆ«ç›¯ç€æµªèŠ±ï¼Œè¦çœ‹æ‡‚æ½®æ°´çš„æ–¹å‘</h3>
<p>æ€»è€Œè¨€ä¹‹ï¼ŒMCP æœ¬èº«å¹¶ä¸äº§ç”Ÿæ™ºèƒ½ï¼Œå®ƒä¸å†™ä»£ç ï¼Œä¹Ÿä¸åšæ¨ç†ã€‚</p>
<p><strong>ä½†å®ƒå»ºç«‹äº†ä¸€ä¸ªç§©åºã€‚</strong> å®ƒåœ¨å½“å‰ AI é¢†åŸŸä¸€ç‰‡å–§åš£å’Œæ··æ²Œä¸­ï¼Œå¼€å§‹é“ºè®¾æœ€å…³é”®çš„åŸºç¡€è®¾æ–½â€”â€”é‚£æ¡è¿æ¥â€œæ™ºèƒ½â€ä¸â€œè¡ŒåŠ¨â€çš„é«˜é€Ÿå…¬è·¯ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬è¿™äº›èº«å¤„è¡Œä¸šä¸­çš„äººæ¥è¯´ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªé‡è¦çš„é£å‘æ ‡ã€‚å½“æ‰€æœ‰äººçš„ç›®å…‰è¿˜èšç„¦åœ¨å“ªä¸ªæ¨¡å‹åˆå¤šè€ƒäº†å‡ åˆ†æ—¶ï¼Œåº•å±‚çš„æ¸¸æˆè§„åˆ™å¯èƒ½å·²ç»å˜äº†ã€‚</p>
<p><strong>é£å£æµªå°–ä¸Šï¼Œæœ‰äººè¿½é€æµªèŠ±ï¼Œæœ‰äººä¿®ç­‘å ¤åã€‚MCPï¼Œå°±æ˜¯é‚£ä¸ªå®šä¹‰æ½®æ°´æµå‘çš„å ¤åå·¥ç¨‹ã€‚</strong> å…³æ³¨å®ƒï¼Œç†è§£å®ƒï¼Œä½ æ‰èƒ½åœ¨ä¸‹ä¸€æ³¢ AI æµªæ½®ä¸­ï¼Œç«™å¾—æ›´ç¨³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[coze-studioæºç åˆ†æ(äºŒ)åç«¯æ’ä»¶æ¶æ„æ·±åº¦å‰–æä¸äºŒæ¬¡å¼€å‘å®æˆ˜å‡†å¤‡]]></title>    <link>https://juejin.cn/post/7580263284338016297</link>    <guid>https://juejin.cn/post/7580263284338016297</guid>    <pubDate>2025-12-06T14:08:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580263284338016297" data-draft-id="7580297762190311465" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="coze-studioæºç åˆ†æ(äºŒ)åç«¯æ’ä»¶æ¶æ„æ·±åº¦å‰–æä¸äºŒæ¬¡å¼€å‘å®æˆ˜å‡†å¤‡"/> <meta itemprop="keywords" content="Coze"/> <meta itemprop="datePublished" content="2025-12-06T14:08:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DevYK"/> <meta itemprop="url" content="https://juejin.cn/user/3368559355637566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            coze-studioæºç åˆ†æ(äºŒ)åç«¯æ’ä»¶æ¶æ„æ·±åº¦å‰–æä¸äºŒæ¬¡å¼€å‘å®æˆ˜å‡†å¤‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3368559355637566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DevYK
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:08:49.000Z" title="Sat Dec 06 2025 14:08:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»24åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»‹ç»</h2>
<p>Coze Studio çš„æ’ä»¶ç³»ç»Ÿæ˜¯è¿æ¥ AI æ¨¡å‹ä¸å¤–éƒ¨æœåŠ¡çš„æ¡¥æ¢ï¼Œå…è®¸ AI é€šè¿‡ <strong>Function Calling</strong> çš„æ–¹å¼è°ƒç”¨å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡ã€‚æ’ä»¶ç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯å¯¹å¤–éƒ¨ API çš„æ ‡å‡†åŒ–å°è£…ï¼Œä½¿ LLM èƒ½å¤Ÿï¼š</p>
<ul>
<li>ğŸ” <strong>è·å–å®æ—¶æ•°æ®</strong>ï¼šæœç´¢ã€å¤©æ°”ã€æ–°é—»ç­‰</li>
<li>ğŸ› ï¸ <strong>æ‰§è¡Œæ“ä½œ</strong>ï¼šå‘é€é‚®ä»¶ã€åˆ›å»ºæ–‡ä»¶ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œç­‰</li>
<li>ğŸ”— <strong>é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡</strong>ï¼šæ•°æ®åº“ã€äº‘æœåŠ¡ã€MCP æœåŠ¡å™¨ç­‰</li>
</ul>
<blockquote>
<p>å¤§å®¶å¯ä»¥çœ‹åˆ°æ ‡é¢˜æ˜¯æ’ä»¶åˆ†æå’ŒäºŒæ¬¡å¼€å‘ï¼Œå¯¹æ²¡é”™ï¼Œæƒ³è¦äºŒå¼€æ’ä»¶å°±å¿…é¡»è¦çŸ¥é“æ•´ä¸ª <code>coze</code> æ’ä»¶çš„è¿è½¬å’Œæ‰§è¡Œæµç¨‹ï¼Œç›¸å½“äºä¸ºåç»­å¼€å‘ MCP æ’ä»¶å¥ å®šåŸºç¡€</p>
</blockquote>
<p>ä¸‹é¢æˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹ä¸‹ coze-studio æ•´ä¸ªæ’ä»¶ç³»ç»Ÿçš„è®¾è®¡å’Œ LLM å¦‚ä½•å»ºç«‹èµ·å…³ç³»çš„ï¼Œæˆ‘ä»¬å°±å›´ç»•è¿™ä¸¤ç‚¹ç„¶åä¸€æ­¥ä¸€æ­¥è·Ÿç€æºç æ·±å…¥è¿›å»</p>
<blockquote>
<p>æ³¨æ„ï¼šæ’ä»¶éƒ¨åˆ†æœ¬å°èŠ‚åªä¼šå¯¹ Coze æ˜¯å¦‚ä½•ç»“åˆ HTTP æ’ä»¶è¿›è¡Œå·¥ä½œçš„åšä¸ºæŠ›ç –å¼•ç‰ï¼ŒMCP å’Œè‡ªå®šä¹‰éœ€è¦è‡ªè¡Œå»åˆ†æï¼Œå½“ç„¶ coze å®˜æ–¹è¿˜æœªå¯¹ mcp è¿›è¡Œå®ç°ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬ä¼šå¯¹æ’ä»¶è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œå°†æ”¯æŒåœ¨å‰ç«¯é…ç½® mcpservers ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å…ˆéƒ¨ç½²å°è¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/749ccc3856c94ad8b5129d5277b204ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634928&amp;x-signature=M8KkbQCPG5enBcX4k9jcBP6oYqs%3D" alt="image-20251205224615981" loading="lazy"/></p>
<p>Github: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyangkun19921001%2Fcoze-studio-plus" target="_blank" title="https://github.com/yangkun19921001/coze-studio-plus" ref="nofollow noopener noreferrer">github.com/yangkun1992â€¦</a></p>
<p>å¦‚æœè§‰å¾—ä½“éªŒä¸é”™çš„ï¼Œå¯ä»¥ç»™ä¸€ä¸ªå°å¿ƒå¿ƒâ¤ï¸</p>
</blockquote>
<h3 data-id="heading-1">æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>ç›®å‰æ’ä»¶æ˜¯ç”±ä»¥ä¸‹å‡ ç‚¹æ„æˆ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abc8b226b88b4808a94d7eae3173f1b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634928&amp;x-signature=69PGPoWJ3OFfvCE0%2BPDaBkxU%2BmE%3D" alt="image-20251202225023049" loading="lazy"/></p>
<h4 data-id="heading-2">Pluginï¼ˆæ’ä»¶ï¼‰</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šä¸€ä¸ªæ’ä»¶ä»£è¡¨ä¸€ä¸ªå¤–éƒ¨æœåŠ¡æˆ–åŠŸèƒ½é›†åˆ</li>
<li><strong>ç»„æˆ</strong>ï¼šåŒ…å«å¤šä¸ª Toolï¼ˆå·¥å…·/APIï¼‰</li>
<li><strong>å…ƒæ•°æ®</strong>ï¼šåŒ…å«åç§°ã€æè¿°ã€å›¾æ ‡ã€è®¤è¯ä¿¡æ¯ç­‰</li>
</ul>
<h4 data-id="heading-3">Toolï¼ˆå·¥å…·/APIï¼‰</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šæ’ä»¶ä¸­çš„ä¸€ä¸ªå…·ä½“åŠŸèƒ½æ¥å£</li>
<li><strong>æè¿°</strong>ï¼šåŸºäº OpenAPI 3.0 è§„èŒƒå®šä¹‰</li>
<li><strong>å‚æ•°</strong>ï¼šæ”¯æŒ Headerã€Pathã€Queryã€Body ç­‰å¤šç§å‚æ•°ä½ç½®</li>
</ul>
<h4 data-id="heading-4">Manifestï¼ˆæ¸…å•ï¼‰</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šæ’ä»¶çš„é…ç½®æ¸…å•ï¼Œæè¿°æ’ä»¶çš„å…ƒä¿¡æ¯å’Œ API é…ç½®</li>
<li><strong>å†…å®¹</strong>ï¼šåŒ…å«æ’ä»¶ç±»å‹ã€è®¤è¯æ–¹å¼ã€å…¬å…±å‚æ•°ç­‰</li>
</ul>
<h3 data-id="heading-5">æ¶æ„åˆ†å±‚è®¾è®¡</h3>
<p>Coze Studio æ’ä»¶ç³»ç»Ÿä¿æŒä¸æ•´ä¸ªç³»ç»Ÿæ¶æ„ä¸€æ ·ï¼Œè¿˜æ˜¯é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œéµå¾ª DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰åŸåˆ™ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "API Layer"
        A[HTTP Handler]
        B[Application Service]
    end
    
    subgraph "Domain Layer"
        C[Plugin Service]
        D[Plugin Entity]
        E[Tool Entity]
        F[Repository Interface]
    end
    
    subgraph "Infrastructure Layer"
        G[Plugin Repository Impl]
        H[Tool Repository Impl]
        I[OAuth Repository Impl]
        J[Storage/OSS]
    end
    
    subgraph "Execution Layer"
        K[HTTP Invocation]
        L[MCP Invocation]
        M[Custom Invocation]
    end
    
    A --&gt; B
    B --&gt; C
    C --&gt; D
    C --&gt; E
    C --&gt; F
    F --&gt; G
    F --&gt; H
    F --&gt; I
    C --&gt; K
    C --&gt; L
    C --&gt; M
    K --&gt; J
</code></pre>
<p><strong>å…³é”®ç›®å½•ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">backend/
â”œâ”€â”€ api/                    <span class="hljs-comment"># API å±‚</span>
â”‚   â””â”€â”€ handler/            <span class="hljs-comment"># HTTP å¤„ç†å™¨</span>
â”œâ”€â”€ application/            <span class="hljs-comment"># åº”ç”¨å±‚</span>
â”‚   â””â”€â”€ plugin/            <span class="hljs-comment"># æ’ä»¶åº”ç”¨æœåŠ¡</span>
â”œâ”€â”€ domain/                 <span class="hljs-comment"># é¢†åŸŸå±‚</span>
â”‚   â””â”€â”€ plugin/
â”‚       â”œâ”€â”€ entity/         <span class="hljs-comment"># å®ä½“å®šä¹‰</span>
â”‚       â”œâ”€â”€ service/        <span class="hljs-comment"># é¢†åŸŸæœåŠ¡</span>
â”‚       â”‚   â””â”€â”€ tool/       <span class="hljs-comment"># å·¥å…·æ‰§è¡Œå®ç°</span>
â”‚       â”œâ”€â”€ repository/     <span class="hljs-comment"># ä»“å‚¨æ¥å£</span>
â”‚       â””â”€â”€ conf/           <span class="hljs-comment"># é…ç½®åŠ è½½</span>
â””â”€â”€ crossdomain/            <span class="hljs-comment"># è·¨åŸŸå±‚</span>
    â””â”€â”€ plugin/             <span class="hljs-comment"># æ’ä»¶è·¨åŸŸæ¥å£</span>
</code></pre>
<hr/>
<h2 data-id="heading-6">æ’ä»¶ç±»å‹ä½“ç³»</h2>
<p>ç›®å‰ coze è¿˜ä¸æ”¯æŒ mcp ,ä½†æ˜¯ä¸‹ä¸€ç¯‡å°†ä»‹ç»å¦‚ä½•åŸºäº coze-studio æ”¯æŒ mcp server é…ç½®ï¼Œæ‰€ä»¥æœ¬èŠ‚ä¸»è¦ä»‹ç»ä¸€ä¸ª HTTP æ’ä»¶ä¸ºä¸»ï¼Œå› ä¸ºåŸç†éƒ½å¤§åŒå°å¼‚</p>
<h3 data-id="heading-7">æ’ä»¶ç±»å‹å®šä¹‰</h3>
<p>Coze Studio æ”¯æŒä¸‰ç§æ’ä»¶ç±»å‹ï¼Œå®šä¹‰åœ¨ <code>backend/crossdomain/plugin/consts/consts.go</code>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/350fc350331d4f7ca0995c74feb9f2fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634928&amp;x-signature=hnZRb%2FLy%2FMUKYsRNIRezuRrZov8%3D" alt="image-20251202225252362" loading="lazy"/></p>
<h3 data-id="heading-8">æ’ä»¶ç±»å‹å¯¹æ¯”</h3>

































<table><thead><tr><th>ç±»å‹</th><th>å¸¸é‡å€¼</th><th>æè¿°</th><th>ä½¿ç”¨åœºæ™¯</th><th>æ‰§è¡Œæ–¹å¼</th></tr></thead><tbody><tr><td><strong>OpenAPI Plugin</strong></td><td><code>openapi</code></td><td>æ ‡å‡† HTTP RESTful API</td><td>ä¼ ç»Ÿ Web API é›†æˆ</td><td>HTTP è¯·æ±‚</td></tr><tr><td><strong>MCP Plugin</strong></td><td><code>coze-studio-mcp</code></td><td>Model Context Protocol</td><td>è¿æ¥ MCP æœåŠ¡å™¨ã€å®æ—¶æ•°æ®æº</td><td>MCP åè®®è°ƒç”¨</td></tr><tr><td><strong>Custom Plugin</strong></td><td><code>coze-studio-custom</code></td><td>è‡ªå®šä¹‰å†…éƒ¨é€»è¾‘</td><td>å†…ç½®åŠŸèƒ½ã€ç‰¹æ®Šå¤„ç†</td><td>æ³¨å†Œçš„è‡ªå®šä¹‰å¤„ç†å™¨</td></tr></tbody></table>
<h4 data-id="heading-9">OpenAPI Pluginï¼ˆHTTP æ’ä»¶ï¼‰</h4>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šåŸºäº OpenAPI 3.0 è§„èŒƒ</li>
<li><strong>æ‰§è¡Œ</strong>ï¼šé€šè¿‡ HTTP å®¢æˆ·ç«¯å‘é€ RESTful è¯·æ±‚</li>
<li><strong>è®¤è¯</strong>ï¼šæ”¯æŒ OAuthã€API Keyã€Service Token ç­‰</li>
<li><strong>é€‚ç”¨</strong>ï¼šå¤§å¤šæ•°ç¬¬ä¸‰æ–¹ Web API</li>
</ul>
<h4 data-id="heading-10">MCP Pluginï¼ˆMCP æ’ä»¶ï¼‰</h4>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šåŸºäº Model Context Protocol</li>
<li><strong>æ‰§è¡Œ</strong>ï¼šé€šè¿‡ MCP å®¢æˆ·ç«¯è°ƒç”¨å·¥å…·</li>
<li><strong>é…ç½®</strong>ï¼šåœ¨ Manifest çš„ <code>api.extensions.mcp_config</code> ä¸­é…ç½®</li>
<li><strong>é€‚ç”¨</strong>ï¼šéœ€è¦å®æ—¶è¿æ¥ã€æµå¼æ•°æ®çš„åœºæ™¯</li>
</ul>
<h4 data-id="heading-11">Custom Pluginï¼ˆè‡ªå®šä¹‰æ’ä»¶ï¼‰</h4>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå†…éƒ¨è‡ªå®šä¹‰é€»è¾‘</li>
<li><strong>æ‰§è¡Œ</strong>ï¼šé€šè¿‡æ³¨å†Œçš„è‡ªå®šä¹‰å¤„ç†å™¨</li>
<li><strong>æ³¨å†Œ</strong>ï¼šä½¿ç”¨ <code>tool.RegisterCustomTool()</code> æ³¨å†Œ</li>
<li><strong>é€‚ç”¨</strong>ï¼šç³»ç»Ÿå†…ç½®åŠŸèƒ½ã€ç‰¹æ®Šä¸šåŠ¡é€»è¾‘</li>
</ul>
<h2 data-id="heading-12">åç«¯æ’ä»¶åŠ è½½æµç¨‹</h2>
<h3 data-id="heading-13">åˆå§‹åŒ–æµç¨‹</h3>
<p>æ’ä»¶ç³»ç»Ÿçš„åˆå§‹åŒ–åœ¨åº”ç”¨å¯åŠ¨æ—¶è¿›è¡Œï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Main
    participant AppInit
    participant PluginInit
    participant ConfInit
    participant LoadMeta
    
    Main-&gt;&gt;AppInit: Init()
    AppInit-&gt;&gt;PluginInit: InitService()
    PluginInit-&gt;&gt;ConfInit: InitConfig()
    ConfInit-&gt;&gt;LoadMeta: loadPluginProductMeta()
    LoadMeta-&gt;&gt;LoadMeta: è¯»å– YAML å…ƒæ•°æ®
    LoadMeta-&gt;&gt;LoadMeta: è§£æ OpenAPI æ–‡æ¡£
    LoadMeta-&gt;&gt;LoadMeta: éªŒè¯å¹¶æ³¨å†Œæ’ä»¶
    LoadMeta--&gt;&gt;ConfInit: æ’ä»¶äº§å“ä¿¡æ¯
    ConfInit--&gt;&gt;PluginInit: åˆå§‹åŒ–å®Œæˆ
    PluginInit--&gt;&gt;AppInit: æœåŠ¡å°±ç»ª
</code></pre>
<p><strong>å…³é”®ä»£ç è·¯å¾„</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d322d0227a44897994e8fe7eb2ba681~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634928&amp;x-signature=4msrXYukDzoj3fLbmGHVLzGdSco%3D" alt="image-20251205224920685" loading="lazy"/></p>
<ol>
<li><strong>åº”ç”¨åˆå§‹åŒ–</strong>ï¼š<code>backend/application/application.go::Init()</code></li>
<li><strong>æ’ä»¶æœåŠ¡åˆå§‹åŒ–</strong>ï¼š<code>backend/application/plugin/init.go::InitService()</code></li>
<li><strong>é…ç½®åˆå§‹åŒ–</strong>ï¼š<code>backend/domain/plugin/conf/config.go::InitConfig()</code></li>
<li><strong>å…ƒæ•°æ®åŠ è½½</strong>ï¼š<code>backend/domain/plugin/conf/load_plugin.go::loadPluginProductMeta()</code></li>
</ol>
<p><strong>æ ¸å¿ƒä»£ç è¯¦è§£</strong>ï¼š</p>
<h4 data-id="heading-14">1. åº”ç”¨å±‚åˆå§‹åŒ–</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// backend/application/application.go</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Init</span><span class="hljs-params">(ctx context.Context)</span></span> (err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// ... å…¶ä»–åˆå§‹åŒ– ...</span>
    
    <span class="hljs-comment">// åˆå§‹åŒ–ä¸»æœåŠ¡ï¼ˆåŒ…å«æ’ä»¶æœåŠ¡ï¼‰</span>
    primaryServices, err := initPrimaryServices(ctx, basicServices)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"Init - initPrimaryServices failed, err: %v"</span>, err)
    }
    
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">initPrimaryServices</span><span class="hljs-params">(ctx context.Context, basicServices *basicServices)</span></span> (*primaryServices, <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// åˆå§‹åŒ–æ’ä»¶æœåŠ¡</span>
    pluginSVC, err := plugin.InitService(ctx, basicServices.toPluginServiceComponents())
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    
    <span class="hljs-comment">// ...</span>
    <span class="hljs-keyword">return</span> &amp;primaryServices{
        pluginSVC: pluginSVC,
        <span class="hljs-comment">// ...</span>
    }, <span class="hljs-literal">nil</span>
}
</code></pre>
<h4 data-id="heading-15">2. æ’ä»¶æœåŠ¡åˆå§‹åŒ–</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// backend/application/plugin/init.go</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">InitService</span><span class="hljs-params">(ctx context.Context, components *ServiceComponents)</span></span> (*PluginApplicationService, <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. åˆå§‹åŒ–æ’ä»¶é…ç½®ï¼ˆåŠ è½½äº§å“å…ƒæ•°æ®ï¼‰</span>
    err := conf.InitConfig(ctx)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    
    <span class="hljs-comment">// 2. åˆ›å»ºä»“å‚¨å®ç°</span>
    toolRepo := repository.NewToolRepo(&amp;repository.ToolRepoComponents{
        IDGen: components.IDGen,
        DB:    components.DB,
    })
    
    pluginRepo := repository.NewPluginRepo(&amp;repository.PluginRepoComponents{
        IDGen: components.IDGen,
        DB:    components.DB,
    })
    
    oauthRepo := repository.NewOAuthRepo(&amp;repository.OAuthRepoComponents{
        IDGen: components.IDGen,
        DB:    components.DB,
    })
    
    <span class="hljs-comment">// 3. åˆ›å»ºé¢†åŸŸæœåŠ¡</span>
    pluginSVC := service.NewService(&amp;service.Components{
        IDGen:      components.IDGen,
        DB:         components.DB,
        OSS:        components.OSS,
        PluginRepo: pluginRepo,
        ToolRepo:   toolRepo,
        OAuthRepo:  oauthRepo,
    })
    
    <span class="hljs-comment">// 4. æ£€æŸ¥äº§å“æ’ä»¶ ID æ˜¯å¦ä¸æ•°æ®åº“ä¸­çš„è‰ç¨¿æ’ä»¶å†²çª</span>
    err = checkIDExist(ctx, pluginSVC)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    
    <span class="hljs-comment">// 5. ç»„è£…åº”ç”¨æœåŠ¡</span>
    PluginApplicationSVC.DomainSVC = pluginSVC
    PluginApplicationSVC.eventbus = components.EventBus
    PluginApplicationSVC.oss = components.OSS
    PluginApplicationSVC.userSVC = components.UserSVC
    PluginApplicationSVC.pluginRepo = pluginRepo
    PluginApplicationSVC.toolRepo = toolRepo
    
    <span class="hljs-keyword">return</span> PluginApplicationSVC, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// æ£€æŸ¥äº§å“æ’ä»¶ ID æ˜¯å¦å·²å­˜åœ¨äºæ•°æ®åº“ä¸­</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">checkIDExist</span><span class="hljs-params">(ctx context.Context, pluginService service.PluginService)</span></span> <span class="hljs-type">error</span> {
    <span class="hljs-comment">// è·å–æ‰€æœ‰äº§å“æ’ä»¶</span>
    pluginProducts := conf.GetAllPluginProducts()
    
    pluginIDs := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int64</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(pluginProducts))
    <span class="hljs-keyword">var</span> toolIDs []<span class="hljs-type">int64</span>
    <span class="hljs-keyword">for</span> _, p := <span class="hljs-keyword">range</span> pluginProducts {
        pluginIDs = <span class="hljs-built_in">append</span>(pluginIDs, p.Info.ID)
        toolIDs = <span class="hljs-built_in">append</span>(toolIDs, p.ToolIDs...)
    }
    
    <span class="hljs-comment">// æ£€æŸ¥æ’ä»¶ ID æ˜¯å¦å†²çª</span>
    pluginInfos, err := pluginService.MGetDraftPlugins(ctx, pluginIDs)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> err
    }
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(pluginInfos) &gt; <span class="hljs-number">0</span> {
        <span class="hljs-comment">// å‘ç°å†²çªï¼Œè¿”å›é”™è¯¯</span>
        conflictsIDs := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int64</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(pluginInfos))
        <span class="hljs-keyword">for</span> _, p := <span class="hljs-keyword">range</span> pluginInfos {
            conflictsIDs = <span class="hljs-built_in">append</span>(conflictsIDs, p.ID)
        }
        <span class="hljs-keyword">return</span> errorx.New(errno.ErrPluginIDExist, ...)
    }
    
    <span class="hljs-comment">// æ£€æŸ¥å·¥å…· ID æ˜¯å¦å†²çª</span>
    tools, err := pluginService.MGetDraftTools(ctx, toolIDs)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> err
    }
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(tools) &gt; <span class="hljs-number">0</span> {
        <span class="hljs-comment">// å‘ç°å†²çªï¼Œè¿”å›é”™è¯¯</span>
        conflictsIDs := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int64</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(tools))
        <span class="hljs-keyword">for</span> _, t := <span class="hljs-keyword">range</span> tools {
            conflictsIDs = <span class="hljs-built_in">append</span>(conflictsIDs, t.ID)
        }
        <span class="hljs-keyword">return</span> errorx.New(errno.ErrToolIDExist, ...)
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<h4 data-id="heading-16">3. é…ç½®åˆå§‹åŒ–</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// backend/domain/plugin/conf/config.go</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">InitConfig</span><span class="hljs-params">(ctx context.Context)</span></span> (err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. è·å–å½“å‰å·¥ä½œç›®å½•</span>
    cwd, err := os.Getwd()
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        logs.Warnf(<span class="hljs-string">"[InitConfig] Failed to get current working directory: %v"</span>, err)
        cwd = os.Getenv(<span class="hljs-string">"PWD"</span>)
    }
    
    <span class="hljs-comment">// 2. æ„å»ºæ’ä»¶é…ç½®è·¯å¾„</span>
    basePath := path.Join(cwd, <span class="hljs-string">"resources"</span>, <span class="hljs-string">"conf"</span>, <span class="hljs-string">"plugin"</span>)
    logs.CtxInfof(ctx, <span class="hljs-string">"basePath=%s"</span>, basePath)
    
    <span class="hljs-comment">// 3. åŠ è½½æ’ä»¶äº§å“å…ƒæ•°æ®</span>
    err = loadPluginProductMeta(ctx, basePath)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> err
    }
    
    <span class="hljs-comment">// 4. åŠ è½½ OAuth Schema</span>
    err = loadOAuthSchema(ctx, basePath)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> err
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<h3 data-id="heading-17">3.2 æ’ä»¶äº§å“å…ƒæ•°æ®åŠ è½½</h3>
<p>æ’ä»¶äº§å“å…ƒæ•°æ®å­˜å‚¨åœ¨ <code>backend/conf/plugin/pluginproduct/</code> ç›®å½•ä¸‹ï¼Œé‡‡ç”¨ YAML æ ¼å¼ï¼š</p>
<p><strong>å…ƒæ•°æ®ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">plugin_id:</span> <span class="hljs-number">1001</span>                    <span class="hljs-comment"># æ’ä»¶ ID</span>
<span class="hljs-attr">deprecated:</span> <span class="hljs-literal">false</span>                   <span class="hljs-comment"># æ˜¯å¦å·²åºŸå¼ƒ</span>
<span class="hljs-attr">version:</span> <span class="hljs-string">"1.0.0"</span>                    <span class="hljs-comment"># ç‰ˆæœ¬å·ï¼ˆéœ€ç¬¦åˆ semverï¼‰</span>
<span class="hljs-attr">plugin_type:</span> <span class="hljs-string">PLUGIN</span>                 <span class="hljs-comment"># æ’ä»¶ç±»å‹</span>
<span class="hljs-attr">openapi_doc_file:</span> <span class="hljs-string">"weather.yaml"</span>    <span class="hljs-comment"># OpenAPI æ–‡æ¡£æ–‡ä»¶å</span>
<span class="hljs-attr">manifest:</span>                           <span class="hljs-comment"># æ’ä»¶æ¸…å•</span>
  <span class="hljs-attr">api:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">"openapi"</span>                 <span class="hljs-comment"># API ç±»å‹</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">"https://api.example.com"</span>  <span class="hljs-comment"># æœåŠ¡å™¨ URL</span>
  <span class="hljs-attr">name_for_human:</span> <span class="hljs-string">"å¤©æ°”æ’ä»¶"</span>        <span class="hljs-comment"># æ˜¾ç¤ºåç§°</span>
<span class="hljs-attr">tools:</span>                              <span class="hljs-comment"># å·¥å…·åˆ—è¡¨</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">tool_id:</span> <span class="hljs-number">2001</span>                   <span class="hljs-comment"># å·¥å…· ID</span>
    <span class="hljs-attr">deprecated:</span> <span class="hljs-literal">false</span>               <span class="hljs-comment"># æ˜¯å¦å·²åºŸå¼ƒ</span>
    <span class="hljs-attr">method:</span> <span class="hljs-string">"GET"</span>                   <span class="hljs-comment"># HTTP æ–¹æ³•</span>
    <span class="hljs-attr">sub_url:</span> <span class="hljs-string">"/weather"</span>             <span class="hljs-comment"># å­è·¯å¾„</span>
</code></pre>
<p><strong>åŠ è½½æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[è¯»å– plugin_meta.yaml] --&gt; B[è§£æ YAML å…ƒæ•°æ®]
    B --&gt; C{æ£€æŸ¥å…ƒæ•°æ®æœ‰æ•ˆæ€§}
    C --&gt;|æ— æ•ˆ| D[è·³è¿‡è¯¥æ’ä»¶]
    C --&gt;|æœ‰æ•ˆ| E[éªŒè¯ Manifest]
    E --&gt; F[åŠ è½½ OpenAPI æ–‡æ¡£]
    F --&gt; G[éªŒè¯ OpenAPI æ–‡æ¡£]
    G --&gt; H[è§£æ API è·¯å¾„å’Œæ–¹æ³•]
    H --&gt; I[åŒ¹é…å·¥å…·ä¸ API]
    I --&gt; J{åŒ¹é…æˆåŠŸ?}
    J --&gt;|å¦| K[è®°å½•é”™è¯¯æ—¥å¿—]
    J --&gt;|æ˜¯| L[åˆ›å»º PluginInfo]
    L --&gt; M[åˆ›å»º ToolInfo]
    M --&gt; N[æ³¨å†Œåˆ°å†…å­˜ç¼“å­˜]
    N --&gt; O[ä¸‹ä¸€ä¸ªæ’ä»¶]
    D --&gt; O
    K --&gt; O
</code></pre>
<p><strong>å…³é”®ä»£ç </strong>ï¼š<code>backend/domain/plugin/conf/load_plugin.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">loadPluginProductMeta</span><span class="hljs-params">(ctx context.Context, basePath <span class="hljs-type">string</span>)</span></span> (err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. è¯»å–å…ƒæ•°æ®æ–‡ä»¶</span>
    metaFile := path.Join(root, <span class="hljs-string">"plugin_meta.yaml"</span>)
    file, err := os.ReadFile(metaFile)
    
    <span class="hljs-comment">// 2. è§£æ YAML</span>
    <span class="hljs-keyword">var</span> pluginsMeta []*pluginProductMeta
    err = yaml.Unmarshal(file, &amp;pluginsMeta)
    
    <span class="hljs-comment">// 3. éå†æ¯ä¸ªæ’ä»¶å…ƒæ•°æ®</span>
    <span class="hljs-keyword">for</span> _, m := <span class="hljs-keyword">range</span> pluginsMeta {
        <span class="hljs-comment">// 4. æ£€æŸ¥å…ƒæ•°æ®æœ‰æ•ˆæ€§</span>
        <span class="hljs-keyword">if</span> !checkPluginMetaInfo(ctx, m) {
            <span class="hljs-keyword">continue</span>
        }
        
        <span class="hljs-comment">// 5. éªŒè¯ Manifest</span>
        err = m.Manifest.Validate(<span class="hljs-literal">true</span>)
        
        <span class="hljs-comment">// 6. åŠ è½½ OpenAPI æ–‡æ¡£</span>
        docPath := path.Join(root, m.OpenapiDocFile)
        loader := openapi3.NewLoader()
        _doc, err := loader.LoadFromFile(docPath)
        
        <span class="hljs-comment">// 7. éªŒè¯ OpenAPI æ–‡æ¡£</span>
        err = doc.Validate(ctx)
        
        <span class="hljs-comment">// 8. åˆ›å»º PluginInfo</span>
        pi := &amp;PluginInfo{
            Info: &amp;model.PluginInfo{
                ID:         m.PluginID,
                PluginType: m.PluginType,
                Version:    ptr.Of(m.Version),
                ServerURL:  ptr.Of(doc.Servers[<span class="hljs-number">0</span>].URL),
                Manifest:   m.Manifest,
                OpenapiDoc: doc,
            },
            ToolIDs: <span class="hljs-built_in">make</span>([]<span class="hljs-type">int64</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(m.Tools)),
        }
        
        <span class="hljs-comment">// 9. è§£æ API è·¯å¾„å’Œæ–¹æ³•</span>
        apis := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[dto.UniqueToolAPI]*model.Openapi3Operation)
        <span class="hljs-keyword">for</span> subURL, pathItem := <span class="hljs-keyword">range</span> doc.Paths {
            <span class="hljs-keyword">for</span> method, op := <span class="hljs-keyword">range</span> pathItem.Operations() {
                api := dto.UniqueToolAPI{
                    SubURL: subURL,
                    Method: strings.ToUpper(method),
                }
                apis[api] = model.NewOpenapi3Operation(op)
            }
        }
        
        <span class="hljs-comment">// 10. åŒ¹é…å·¥å…·ä¸ API</span>
        <span class="hljs-keyword">for</span> _, t := <span class="hljs-keyword">range</span> m.Tools {
            api := dto.UniqueToolAPI{
                SubURL: t.SubURL,
                Method: strings.ToUpper(t.Method),
            }
            op, ok := apis[api]
            <span class="hljs-keyword">if</span> !ok {
                <span class="hljs-keyword">continue</span>
            }
            
            <span class="hljs-comment">// 11. åˆ›å»º ToolInfo</span>
            toolProducts[t.ToolID] = &amp;ToolInfo{
                Info: &amp;entity.ToolInfo{
                    ID:        t.ToolID,
                    PluginID:  m.PluginID,
                    Method:    ptr.Of(t.Method),
                    SubURL:    ptr.Of(t.SubURL),
                    Operation: op,
                },
            }
            
            pi.ToolIDs = <span class="hljs-built_in">append</span>(pi.ToolIDs, t.ToolID)
        }
        
        <span class="hljs-comment">// 12. æ³¨å†Œåˆ°å†…å­˜ç¼“å­˜</span>
        pluginProducts[m.PluginID] = pi
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<h3 data-id="heading-18">3.3 OpenAPI æ–‡æ¡£è§£æ</h3>
<p>OpenAPI æ–‡æ¡£è§£æä½¿ç”¨ <code>github.com/getkin/kin-openapi</code> åº“ï¼š</p>
<p><strong>è§£ææ­¥éª¤</strong>ï¼š</p>
<ol>
<li><strong>åŠ è½½æ–‡æ¡£</strong>ï¼šä»æ–‡ä»¶ç³»ç»Ÿè¯»å– YAML/JSON æ ¼å¼çš„ OpenAPI æ–‡æ¡£</li>
<li><strong>è§£æç»“æ„</strong>ï¼šè§£æä¸º <code>openapi3.T</code> ç»“æ„ä½“</li>
<li><strong>éªŒè¯è§„èŒƒ</strong>ï¼šéªŒè¯æ–‡æ¡£æ˜¯å¦ç¬¦åˆ OpenAPI 3.0 è§„èŒƒ</li>
<li><strong>æå–æ“ä½œ</strong>ï¼šæå–æ¯ä¸ªè·¯å¾„çš„æ“ä½œï¼ˆGETã€POST ç­‰ï¼‰</li>
<li><strong>æ„å»º Schema</strong>ï¼šæ„å»ºå‚æ•°å’Œå“åº”çš„ Schema å®šä¹‰</li>
</ol>
<p><strong>å…³é”®æ•°æ®ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> PluginInfo <span class="hljs-keyword">struct</span> {
    Info    *model.PluginInfo      <span class="hljs-comment">// æ’ä»¶åŸºæœ¬ä¿¡æ¯</span>
    ToolIDs []<span class="hljs-type">int64</span>                <span class="hljs-comment">// å·¥å…· ID åˆ—è¡¨</span>
}

<span class="hljs-keyword">type</span> ToolInfo <span class="hljs-keyword">struct</span> {
    Info *entity.ToolInfo          <span class="hljs-comment">// å·¥å…·ä¿¡æ¯</span>
}

<span class="hljs-keyword">type</span> ToolInfo <span class="hljs-keyword">struct</span> {
    ID              <span class="hljs-type">int64</span>
    PluginID        <span class="hljs-type">int64</span>
    Version         *<span class="hljs-type">string</span>
    Method          *<span class="hljs-type">string</span>         <span class="hljs-comment">// HTTP æ–¹æ³•</span>
    SubURL          *<span class="hljs-type">string</span>         <span class="hljs-comment">// å­è·¯å¾„</span>
    Operation       *model.Openapi3Operation  <span class="hljs-comment">// OpenAPI æ“ä½œå®šä¹‰</span>
    ActivatedStatus *<span class="hljs-type">int32</span>
    DebugStatus     *<span class="hljs-type">int32</span>
}
</code></pre>
<h3 data-id="heading-19">3.4 æ’ä»¶æ³¨å†Œä¸ç¼“å­˜</h3>
<p>æ’ä»¶åŠ è½½å®Œæˆåï¼Œä¼šæ³¨å†Œåˆ°å†…å­˜ç¼“å­˜ä¸­ï¼š</p>
<p><strong>ç¼“å­˜ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">var</span> (
    pluginProducts <span class="hljs-keyword">map</span>[<span class="hljs-type">int64</span>]*PluginInfo  <span class="hljs-comment">// æ’ä»¶ ID -&gt; PluginInfo</span>
    toolProducts   <span class="hljs-keyword">map</span>[<span class="hljs-type">int64</span>]*ToolInfo    <span class="hljs-comment">// å·¥å…· ID -&gt; ToolInfo</span>
)
</code></pre>
<p><strong>è®¿é—®æ¥å£</strong>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// è·å–æ’ä»¶äº§å“ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetPluginProduct</span><span class="hljs-params">(pluginID <span class="hljs-type">int64</span>)</span></span> (*PluginInfo, <span class="hljs-type">bool</span>)

<span class="hljs-comment">// æ‰¹é‡è·å–æ’ä»¶äº§å“ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">MGetPluginProducts</span><span class="hljs-params">(pluginIDs []<span class="hljs-type">int64</span>)</span></span> []*PluginInfo

<span class="hljs-comment">// è·å–å·¥å…·äº§å“ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetToolProduct</span><span class="hljs-params">(toolID <span class="hljs-type">int64</span>)</span></span> (*ToolInfo, <span class="hljs-type">bool</span>)

<span class="hljs-comment">// æ‰¹é‡è·å–å·¥å…·äº§å“ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">MGetToolProducts</span><span class="hljs-params">(toolIDs []<span class="hljs-type">int64</span>)</span></span> []*ToolInfo
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… <strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šä½¿ç”¨æ·±æ‹·è´è¿”å›ï¼Œé¿å…å¹¶å‘ä¿®æ”¹</li>
<li>âœ… <strong>å¿«é€Ÿè®¿é—®</strong>ï¼šO(1) æ—¶é—´å¤æ‚åº¦</li>
<li>âœ… <strong>å¯åŠ¨æ—¶åŠ è½½</strong>ï¼šåº”ç”¨å¯åŠ¨æ—¶ä¸€æ¬¡æ€§åŠ è½½ï¼Œè¿è¡Œæ—¶åªè¯»</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰ coze-studio æ˜¯åœ¨æœåŠ¡å¯åŠ¨æ—¶ï¼Œä¼šåŠ è½½ <code>coze-studio/backend/resources/conf/plugin/pluginproduct/plugin_meta.yaml</code> è¿™ä¸ªæ–‡ä»¶ï¼Œå†…éƒ¨ä¼šè§£æåç¼“å­˜åˆ°å†…å­˜ä¸­ã€‚</p>
<h2 data-id="heading-20">æ’ä»¶æ‰§è¡Œæµç¨‹</h2>
<h3 data-id="heading-21">4.1 æ‰§è¡Œåœºæ™¯</h3>
<p>æ’ä»¶å¯ä»¥åœ¨å¤šç§åœºæ™¯ä¸‹æ‰§è¡Œï¼Œå®šä¹‰åœ¨ <code>backend/crossdomain/plugin/consts/consts.go</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> ExecuteScene <span class="hljs-type">string</span>

<span class="hljs-keyword">const</span> (
    ExecSceneOfOnlineAgent ExecuteScene = <span class="hljs-string">"online_agent"</span>   <span class="hljs-comment">// åœ¨çº¿ Agent</span>
    ExecSceneOfDraftAgent ExecuteScene = <span class="hljs-string">"draft_agent"</span>    <span class="hljs-comment">// è‰ç¨¿ Agent</span>
    ExecSceneOfWorkflow    ExecuteScene = <span class="hljs-string">"workflow"</span>      <span class="hljs-comment">// Workflow</span>
    ExecSceneOfToolDebug   ExecuteScene = <span class="hljs-string">"tool_debug"</span>     <span class="hljs-comment">// å·¥å…·è°ƒè¯•</span>
)
</code></pre>
<h3 data-id="heading-22">4.2 StreamWriter/StreamReader å·¥ä½œåŸç†</h3>
<p>ç†è§£æ‰§è¡Œæµç¨‹å‰ï¼Œå…ˆçœ‹ coze-studio çš„æµå¼è¾“å‡ºæœºåˆ¶ï¼š<strong>StreamWriter/StreamReader</strong>ã€‚</p>
<h4 data-id="heading-23">4.2.1 Pipe æœºåˆ¶</h4>
<p><code>StreamWriter</code> å’Œ <code>StreamReader</code> é€šè¿‡ <code>schema.Pipe()</code> åˆ›å»ºï¼Œå½¢æˆç”Ÿäº§è€…-æ¶ˆè´¹è€…é€šé“ï¼š</p>
<pre><code class="hljs language-go" lang="go">sr, sw := schema.Pipe[*entity.Message](<span class="hljs-number">10</span>)  <span class="hljs-comment">// ç¼“å†²åŒºå¤§å°ä¸º 10</span>
</code></pre>
<p>å·¥ä½œæ–¹å¼ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[StreamWriter&lt;br/&gt;ç”Ÿäº§è€…] --&gt;|Send| B[Channel Buffer&lt;br/&gt;å®¹é‡: 10]
    B --&gt;|Recv| C[StreamReader&lt;br/&gt;æ¶ˆè´¹è€…]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#e1f5ff
</code></pre>
<p>ç‰¹æ€§ï¼š</p>
<ol>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šå†…éƒ¨ä½¿ç”¨ channelï¼Œæ”¯æŒå¹¶å‘è¯»å†™</li>
<li><strong>ç¼“å†²æœºåˆ¶</strong>ï¼šç¼“å†²åŒºæ»¡æ—¶ <code>Send</code> é˜»å¡ï¼Œç©ºæ—¶ <code>Recv</code> é˜»å¡</li>
<li><strong>æµå¼ä¼ è¾“</strong>ï¼šé€æ¡æ¶ˆæ¯ä¼ è¾“ï¼Œæ— éœ€ç­‰å¾…å®Œæ•´ç»“æœ</li>
<li><strong>é”™è¯¯ä¼ æ’­</strong>ï¼š<code>Send(msg, err)</code> å¯ä¼ é€’é”™è¯¯ï¼Œ<code>Recv()</code> è¿”å›è¯¥é”™è¯¯</li>
</ol>
<p>å®ç°ï¼ˆ<code>github.com/cloudwego/eino/schema/stream.go</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Pipe</span>[<span class="hljs-title">T</span> <span class="hljs-title">any</span>]<span class="hljs-params">(<span class="hljs-built_in">cap</span> <span class="hljs-type">int</span>)</span></span> (*StreamReader[T], *StreamWriter[T]) {
    stm := newStream[T](<span class="hljs-built_in">cap</span>)
    <span class="hljs-keyword">return</span> stm.asReader(), &amp;StreamWriter[T]{stm: stm}
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(sw *StreamWriter[T])</span></span> Send(chunk T, err <span class="hljs-type">error</span>) (closed <span class="hljs-type">bool</span>) {
    <span class="hljs-keyword">return</span> sw.stm.send(chunk, err)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(sr *StreamReader[T])</span></span> Recv() (T, <span class="hljs-type">error</span>) {
    <span class="hljs-keyword">return</span> sr.stm.recv()
}
</code></pre>
<h4 data-id="heading-24">4.2.2 æ¶ˆæ¯æµè½¬è·¯å¾„</h4>
<p>Workflow æµå¼æ‰§è¡Œä¸­çš„æ¶ˆæ¯æµè½¬ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[LLM èŠ‚ç‚¹å›è°ƒå¤„ç†å™¨] --&gt;|llmRef.realtimeWriter.Send&lt;br/&gt;msg| B[StreamWriter&lt;br/&gt;Workflow å±‚]
    B --&gt;|å†™å…¥ channel buffer| C[Channel Buffer&lt;br/&gt;å®¹é‡: 10]
    C --&gt;|åº”ç”¨å±‚ Recv| D[StreamReader&lt;br/&gt;Workflow å±‚]
    D --&gt;|è½¬æ¢å‡½æ•°è°ƒç”¨| E[åº”ç”¨å±‚è½¬æ¢å‡½æ•°&lt;br/&gt;convertToChatFlowRunResponseList]
    E --&gt;|è½¬æ¢ä¸º SSE æ ¼å¼| F[StreamReader&lt;br/&gt;SSE å±‚]
    F --&gt;|Handler å±‚ Recv| G[SSE Writer]
    G --&gt;|Write event| H[å‰ç«¯ SSE è¿æ¥]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1f5
    style D fill:#fff4e1
    style E fill:#e1ffe1
    style F fill:#fff4e1
    style G fill:#ffe1f5
    style H fill:#e1f5ff
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>llmRef.realtimeWriter</code> æ˜¯ Workflow å±‚åˆ›å»ºçš„ <code>StreamWriter</code>ï¼Œç»‘å®šåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li>æ¶ˆæ¯é€šè¿‡ Pipe çš„ channel buffer ä¼ é€’ï¼Œå®ç°å¼‚æ­¥éé˜»å¡ä¼ è¾“</li>
<li>åº”ç”¨å±‚é€šè¿‡ <code>StreamReader.Recv()</code> å¾ªç¯æ¥æ”¶æ¶ˆæ¯ï¼Œè½¬æ¢ä¸º SSE äº‹ä»¶æ ¼å¼</li>
</ul>
<h3 data-id="heading-25">4.3 å®Œæ•´æ‰§è¡Œæµç¨‹æ¦‚è§ˆ</h3>
<p>ä¸‹é¢ç”¨ä¸€ä¸ª Workflow ç¤ºä¾‹ï¼Œè¯´æ˜ä» HTTP API è¯·æ±‚åˆ° SSE å“åº”çš„ç«¯åˆ°ç«¯æµç¨‹ã€‚</p>
<p>æ‰§è¡Œåœºæ™¯ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[å¼€å§‹èŠ‚ç‚¹] --&gt;|è¾“å…¥| B[LLMèŠ‚ç‚¹&lt;br/&gt;é…ç½®æ–°é—»æ’ä»¶]
    B --&gt;|Function Calling| C[æ–°é—»æ’ä»¶èŠ‚ç‚¹&lt;br/&gt;è°ƒç”¨å¤–éƒ¨API]
    C --&gt;|ç»“æœ| D[ç»“æŸèŠ‚ç‚¹]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1f5
    style D fill:#e1f5ff
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76304dc6f253405792d1d50bd4a7c398~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634928&amp;x-signature=lt8vLrTLCEBZ1IQVDcSLXSTA0Zc%3D" alt="image-20251129195047360" loading="lazy"/></p>
<p>å®Œæ•´æµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Frontend
    participant HTTPHandler
    participant AppService
    participant WorkflowEngine
    participant StreamWriter
    participant SSEWriter
    participant LLMNode
    participant PluginService
    participant ExternalAPI
    
    Note over Frontend: 1. å‰ç«¯å‘èµ· HTTP è¯·æ±‚
    Frontend-&gt;&gt;HTTPHandler: POST /v1/workflows/chat&lt;br/&gt;{workflow_id, messages, ...}
    
    Note over HTTPHandler: 2. Handler å±‚å¤„ç†
    HTTPHandler-&gt;&gt;HTTPHandler: åˆ›å»º SSE Writer&lt;br/&gt;è®¾ç½®å“åº”å¤´
    HTTPHandler-&gt;&gt;AppService: OpenAPIChatFlowRun(req)
    
    Note over AppService: 3. åº”ç”¨å±‚å¯åŠ¨ Workflow
    AppService-&gt;&gt;AppService: è§£æè¯·æ±‚å‚æ•°&lt;br/&gt;åˆ›å»ºä¼šè¯/è½®æ¬¡
    AppService-&gt;&gt;WorkflowEngine: StreamRun(ctx, input, opts)
    
    Note over WorkflowEngine: 4. Workflow å¼•æ“æ‰§è¡Œ
    WorkflowEngine-&gt;&gt;WorkflowEngine: åˆ›å»º StreamWriter&lt;br/&gt;ç»‘å®šåˆ°æ‰§è¡Œä¸Šä¸‹æ–‡
    WorkflowEngine-&gt;&gt;LLMNode: Stream(ctx, input)
    
    Note over LLMNode: 5. LLM èŠ‚ç‚¹æµå¼æ‰§è¡Œ
    LLMNode-&gt;&gt;LLMNode: è°ƒç”¨ LLMï¼ˆå¸¦å·¥å…·ï¼‰
    LLM--&gt;&gt;LLMNode: Stream Output (é€å­—è¾“å‡º)
    LLMNode-&gt;&gt;StreamWriter: Send(Message{Content: "è¢«"})
    StreamWriter-&gt;&gt;AppService: æ¶ˆæ¯äº‹ä»¶
    AppService-&gt;&gt;SSEWriter: Write(Event{type: "conversation.message.delta"})
    SSEWriter--&gt;&gt;Frontend: data: {"content":"è¢«",...}
    
    Note over LLMNode,PluginService: 6. Function Calling è°ƒç”¨æ’ä»¶
    LLM--&gt;&gt;LLMNode: Function Call: get_news()
    LLMNode-&gt;&gt;PluginService: ExecuteTool(req)
    PluginService-&gt;&gt;ExternalAPI: HTTP Request
    ExternalAPI--&gt;&gt;PluginService: Response
    PluginService--&gt;&gt;LLMNode: æ–°é—»æ•°æ®
    LLMNode-&gt;&gt;StreamWriter: Send(ToolResponse)
    StreamWriter-&gt;&gt;AppService: å·¥å…·å“åº”äº‹ä»¶
    AppService-&gt;&gt;SSEWriter: Write(Event{type: "conversation.message.delta"})
    SSEWriter--&gt;&gt;Frontend: data: {"type":"answer",...}
    
    Note over WorkflowEngine: 7. Workflow å®Œæˆ
    WorkflowEngine-&gt;&gt;StreamWriter: Send(StateMessage{Status: Completed})
    StreamWriter-&gt;&gt;AppService: å®Œæˆäº‹ä»¶
    AppService-&gt;&gt;SSEWriter: Write(Event{type: "conversation.done"})
    SSEWriter--&gt;&gt;Frontend: data: {"status":"completed"}
    SSEWriter--&gt;&gt;Frontend: [SSE è¿æ¥å…³é—­]
    
    Note over Frontend: 8. å‰ç«¯è½®è¯¢æ‰§è¡ŒçŠ¶æ€
    Frontend-&gt;&gt;HTTPHandler: GET /api/workflow_api/get_process&lt;br/&gt;?workflow_id=xxx&amp;execute_id=xxx
    HTTPHandler-&gt;&gt;AppService: GetProcess(req)
    AppService-&gt;&gt;AppService: æŸ¥è¯¢æ‰§è¡Œè®°å½•&lt;br/&gt;è½¬æ¢èŠ‚ç‚¹ç»“æœ
    AppService--&gt;&gt;HTTPHandler: {executeStatus, nodeResults, ...}
    HTTPHandler--&gt;&gt;Frontend: JSON Response
</code></pre>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li><strong>HTTP API å…¥å£</strong>ï¼šå‰ç«¯å‘èµ· <code>POST /v1/workflows/chat</code> è¯·æ±‚</li>
<li><strong>åˆ›å»º SSE è¿æ¥</strong>ï¼šHandler å±‚åˆ›å»º SSE Writerï¼Œè®¾ç½®å“åº”å¤´ä¸º <code>text/event-stream</code></li>
<li><strong>å¯åŠ¨ Workflow</strong>ï¼šåº”ç”¨å±‚è§£æå‚æ•°ï¼Œåˆ›å»ºä¼šè¯å’Œè½®æ¬¡ï¼Œè°ƒç”¨é¢†åŸŸæœåŠ¡æ‰§è¡Œ Workflow</li>
<li><strong>åˆ›å»ºæ¶ˆæ¯é€šé“</strong>ï¼šWorkflow å¼•æ“åˆ›å»º StreamWriter/StreamReader Pipeï¼Œç»‘å®šåˆ°æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li><strong>LLM èŠ‚ç‚¹æ„å»º</strong>ï¼šè§£ææ’ä»¶é…ç½®ï¼Œæ„å»ºå·¥å…·åˆ—è¡¨å’Œå›è°ƒå¤„ç†å™¨</li>
<li><strong>LLM èŠ‚ç‚¹æ‰§è¡Œ</strong>ï¼šä»æ‰§è¡Œä¸Šä¸‹æ–‡è·å– StreamWriterï¼Œè®¾ç½®åˆ° <code>llmRef.realtimeWriter</code></li>
<li><strong>æµå¼è¾“å‡º</strong>ï¼šLLM é€å­—è¾“å‡ºæ—¶ï¼Œå›è°ƒå¤„ç†å™¨é€šè¿‡ <code>llmRef.realtimeWriter.Send()</code> å‘é€æ¶ˆæ¯</li>
<li><strong>Function Calling</strong>ï¼šLLM ç”Ÿæˆå·¥å…·è°ƒç”¨æ—¶ï¼Œæ‰§è¡Œæ’ä»¶å·¥å…·ï¼Œå›è°ƒå¤„ç†å™¨å‘é€å·¥å…·å“åº”</li>
<li><strong>æ¶ˆæ¯æµè½¬</strong>ï¼šæ¶ˆæ¯é€šè¿‡ Pipe ä¼ é€’åˆ°åº”ç”¨å±‚ï¼Œè½¬æ¢ä¸º SSE äº‹ä»¶æ ¼å¼</li>
<li><strong>æ¨é€ç»™å‰ç«¯</strong>ï¼šHandler å±‚å¾ªç¯æ¥æ”¶æ¶ˆæ¯ï¼Œé€šè¿‡ SSE Writer æ¨é€ç»™å‰ç«¯</li>
</ol>
<h4 data-id="heading-26">4.3.1 HTTP Handler æ¥æ”¶è¯·æ±‚</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/api/handler/coze/workflow_service.go:1091</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// @router /v1/workflows/chat [POST]</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">OpenAPIChatFlowRun</span><span class="hljs-params">(ctx context.Context, c *app.RequestContext)</span></span> {
    <span class="hljs-comment">// 1. éªŒè¯è¯·æ±‚å‚æ•°</span>
    <span class="hljs-keyword">var</span> req workflow.ChatFlowRunRequest
    err = c.BindAndValidate(&amp;req)
    
    <span class="hljs-comment">// 2. åˆ›å»º SSE Writerï¼Œè®¾ç½®å“åº”å¤´</span>
    w := sse.NewWriter(c)
    c.SetContentType(<span class="hljs-string">"text/event-stream; charset=utf-8"</span>)
    c.Response.Header.Set(<span class="hljs-string">"Cache-Control"</span>, <span class="hljs-string">"no-cache"</span>)
    c.Response.Header.Set(<span class="hljs-string">"Connection"</span>, <span class="hljs-string">"keep-alive"</span>)
    
    <span class="hljs-comment">// 3. è°ƒç”¨åº”ç”¨æœåŠ¡å¯åŠ¨ Workflowï¼Œè¿”å› StreamReader</span>
    sr, err := appworkflow.SVC.OpenAPIChatFlowRun(ctx, &amp;req)
    
    <span class="hljs-comment">// 4. å¾ªç¯æ¥æ”¶æ¶ˆæ¯å¹¶å‘é€ SSE äº‹ä»¶</span>
    sendChatFlowStreamRunSSE(ctx, w, sr)
}
</code></pre>
<h4 data-id="heading-27">4.3.2 SSE äº‹ä»¶å‘é€å¾ªç¯</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/api/handler/coze/workflow_service.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sendChatFlowStreamRunSSE</span><span class="hljs-params">(ctx context.Context, w *sse.Writer, 
    sr *schema.StreamReader[[]*workflow.ChatFlowRunResponse])</span></span> {
    <span class="hljs-keyword">defer</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
        _ = w.Close()
        sr.Close()
    }()
    
    seq := <span class="hljs-type">int64</span>(<span class="hljs-number">1</span>)
    <span class="hljs-keyword">for</span> {
        <span class="hljs-comment">// ä» StreamReader æ¥æ”¶æ¶ˆæ¯ï¼ˆé˜»å¡ç­‰å¾…ï¼‰</span>
        respList, err := sr.Recv()
        
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">if</span> errors.Is(err, io.EOF) {
                <span class="hljs-keyword">break</span>  <span class="hljs-comment">// æµç»“æŸ</span>
            }
            w.Write(&amp;sse.Event{Type: <span class="hljs-string">"error"</span>, Data: []<span class="hljs-type">byte</span>(err.Error())})
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// å°†æ¯ä¸ªå“åº”è½¬æ¢ä¸º SSE äº‹ä»¶å¹¶å‘é€</span>
        <span class="hljs-keyword">for</span> _, resp := <span class="hljs-keyword">range</span> respList {
            event := &amp;sse.Event{
                ID:   strconv.FormatInt(seq, <span class="hljs-number">10</span>),
                Type: resp.Event,
                Data: []<span class="hljs-type">byte</span>(resp.Data),
            }
            w.Write(event)
            seq++
        }
    }
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>sr.Recv()</code> é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°æœ‰æ¶ˆæ¯å†™å…¥ StreamWriter</li>
<li>æ¶ˆæ¯é€šè¿‡ Pipe çš„ channel buffer å¼‚æ­¥ä¼ é€’ï¼Œå®ç°å®æ—¶æµå¼è¾“å‡º</li>
<li>æ¯ä¸ªæ¶ˆæ¯è½¬æ¢ä¸º SSE äº‹ä»¶æ ¼å¼ï¼ˆ<code>event: type\ndata: json\n\n</code>ï¼‰</li>
</ul>
<h4 data-id="heading-28">4.3.3 åº”ç”¨å±‚å¯åŠ¨ Workflow</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/application/workflow/chatflow.go:473</code></p>
<p>åº”ç”¨å±‚è´Ÿè´£ï¼š</p>
<ol>
<li>è§£æè¯·æ±‚å‚æ•°ï¼Œåˆ›å»ºä¼šè¯å’Œè½®æ¬¡</li>
<li>è°ƒç”¨é¢†åŸŸæœåŠ¡æ‰§è¡Œ Workflow</li>
<li>å°† <code>StreamReader[*entity.Message]</code> è½¬æ¢ä¸º <code>StreamReader[[]*ChatFlowRunResponse]</code></li>
</ol>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(w *ApplicationService)</span></span> OpenAPIChatFlowRun(ctx context.Context, req *workflow.ChatFlowRunRequest) (
    _ *schema.StreamReader[[]*workflow.ChatFlowRunResponse], err <span class="hljs-type">error</span>) {
    
    <span class="hljs-comment">// 1. è§£æä¸šåŠ¡å‚æ•°</span>
    workflowID := mustParseInt64(req.GetWorkflowID())
    <span class="hljs-comment">// ... è§£æå…¶ä»–å‚æ•° ...</span>
    
    <span class="hljs-comment">// 2. åˆ›å»ºä¼šè¯å’Œè½®æ¬¡</span>
    conversationID, sectionID, err := w.getOrCreateConversation(ctx, ...)
    roundID, err := crossagentrun.DefaultSVC().Create(ctx, ...)
    
    <span class="hljs-comment">// 3. æ„å»ºæ‰§è¡Œé…ç½®</span>
    exeCfg := workflowModel.ExecuteConfig{
        ID:            workflowID,
        SyncPattern:   workflowModel.SyncPatternStream,
        ConversationID: ptr.Of(conversationID),
        RoundID:        ptr.Of(roundID),
        <span class="hljs-comment">// ...</span>
    }
    
    <span class="hljs-comment">// 4. è°ƒç”¨é¢†åŸŸæœåŠ¡æ‰§è¡Œ Workflowï¼Œè¿”å› StreamReader</span>
    sr, err := GetWorkflowDomainSVC().StreamExecute(ctx, exeCfg, parameters)
    
    <span class="hljs-comment">// 5. å°† entity.Message è½¬æ¢ä¸º ChatFlowRunResponse</span>
    <span class="hljs-keyword">return</span> schema.StreamReaderWithConvert(sr, w.convertToChatFlowRunResponseList(ctx, ...)), <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>StreamExecute</code> è¿”å› <code>StreamReader[*entity.Message]</code>ï¼Œéœ€è¦è½¬æ¢ä¸º SSE æ ¼å¼</li>
<li><code>StreamReaderWithConvert</code> åœ¨æ¯æ¬¡ <code>Recv()</code> æ—¶è°ƒç”¨è½¬æ¢å‡½æ•°</li>
<li>è½¬æ¢å‡½æ•°å¤„ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼ˆçŠ¶æ€æ¶ˆæ¯ã€æ•°æ®æ¶ˆæ¯ç­‰ï¼‰ï¼Œç”Ÿæˆå¯¹åº”çš„ SSE äº‹ä»¶</li>
</ul>
<h4 data-id="heading-29">4.3.4 æ¶ˆæ¯è½¬æ¢å‡½æ•°</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/application/workflow/chatflow.go:937</code></p>
<p>è½¬æ¢å‡½æ•°å°† <code>entity.Message</code> è½¬æ¢ä¸º SSE äº‹ä»¶æ ¼å¼ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(w *ApplicationService)</span></span> convertToChatFlowRunResponseList(ctx context.Context, info convertToChatFlowInfo) 
    <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(msg *entity.Message)</span></span> (responses []*workflow.ChatFlowRunResponse, err <span class="hljs-type">error</span>) {
    
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(msg *entity.Message)</span></span> (responses []*workflow.ChatFlowRunResponse, err <span class="hljs-type">error</span>) {
        <span class="hljs-comment">// å¤„ç†çŠ¶æ€æ¶ˆæ¯ï¼ˆWorkflow å¼€å§‹/å®Œæˆ/å¤±è´¥ï¼‰</span>
        <span class="hljs-keyword">if</span> msg.StateMessage != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">switch</span> msg.StateMessage.Status {
            <span class="hljs-keyword">case</span> entity.WorkflowSuccess:
                <span class="hljs-keyword">return</span> []*workflow.ChatFlowRunResponse{
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowCompleted), Data: ...},
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowDone), Data: ...},
                }, <span class="hljs-literal">nil</span>
            <span class="hljs-keyword">case</span> entity.WorkflowFailed:
                <span class="hljs-keyword">return</span> []*workflow.ChatFlowRunResponse{
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowError), Data: ...},
                }, <span class="hljs-literal">nil</span>
            <span class="hljs-keyword">case</span> entity.WorkflowRunning:
                <span class="hljs-keyword">return</span> []*workflow.ChatFlowRunResponse{
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowCreated), Data: ...},
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowInProgress), Data: ...},
                }, <span class="hljs-literal">nil</span>
            }
        }
        
        <span class="hljs-comment">// å¤„ç†æ•°æ®æ¶ˆæ¯ï¼ˆLLM å¢é‡è¾“å‡ºï¼‰</span>
        <span class="hljs-keyword">if</span> msg.DataMessage != <span class="hljs-literal">nil</span> &amp;&amp; msg.Type == entity.Answer {
            deltaData, _ := sonic.MarshalString(&amp;vo.MessageDetail{
                Content: msg.Content,  <span class="hljs-comment">// å¢é‡å†…å®¹ï¼ˆå¦‚ "è¢«"ï¼‰</span>
                <span class="hljs-comment">// ...</span>
            })
            
            <span class="hljs-keyword">if</span> !msg.Last {
                <span class="hljs-comment">// å¢é‡è¾“å‡ºï¼šè¿”å› delta äº‹ä»¶</span>
                <span class="hljs-keyword">return</span> []*workflow.ChatFlowRunResponse{
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowMessageDelta), Data: deltaData},
                }, <span class="hljs-literal">nil</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å®Œæˆè¾“å‡ºï¼šè¿”å› delta + completed äº‹ä»¶</span>
                <span class="hljs-keyword">return</span> []*workflow.ChatFlowRunResponse{
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowMessageDelta), Data: deltaData},
                    {Event: <span class="hljs-type">string</span>(vo.ChatFlowMessageCompleted), Data: completeData},
                }, <span class="hljs-literal">nil</span>
            }
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, schema.ErrNoValue  <span class="hljs-comment">// è·³è¿‡è¯¥æ¶ˆæ¯</span>
    }
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>schema.ErrNoValue</code> è¡¨ç¤ºè·³è¿‡è¯¥æ¶ˆæ¯ï¼Œä¸ä¼šå‘é€ç»™å‰ç«¯</li>
<li>å¢é‡æ¶ˆæ¯ï¼ˆ<code>msg.Last == false</code>ï¼‰åªå‘é€ <code>delta</code> äº‹ä»¶</li>
<li>å®Œæˆæ¶ˆæ¯ï¼ˆ<code>msg.Last == true</code>ï¼‰å‘é€ <code>delta</code> + <code>completed</code> äº‹ä»¶</li>
</ul>
<h4 data-id="heading-30">4.3.5 Workflow å¼•æ“åˆ›å»º StreamWriter</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/service/executable_impl.go:454</code></p>
<p>åˆ›å»º StreamWriter/StreamReader Pipeï¼Œå¹¶å°† StreamWriter ç»‘å®šåˆ°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(i *impl)</span></span> StreamExecute(ctx context.Context, config workflowModel.ExecuteConfig, input <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any) 
    (*schema.StreamReader[*entity.Message], <span class="hljs-type">error</span>) {
    
    <span class="hljs-comment">// 1. è·å– Workflow å®ä½“å¹¶è½¬æ¢ä¸º WorkflowSchema</span>
    wfEntity, err := i.Get(ctx, &amp;vo.GetPolicy{...})
    workflowSC, err := adaptor.CanvasToWorkflowSchema(ctx, c)
    
    <span class="hljs-comment">// 2. åˆ›å»º Workflow å¯¹è±¡ï¼ˆç¼–è¯‘èŠ‚ç‚¹ä¸ºå¯æ‰§è¡Œçš„ Runnerï¼‰</span>
    wf, err := compose.NewWorkflow(ctx, workflowSC, wfOpts...)
    
    <span class="hljs-comment">// 3. åˆ›å»º StreamWriter å’Œ StreamReaderï¼ˆPipeï¼‰</span>
    sr, sw := schema.Pipe[*entity.Message](<span class="hljs-number">10</span>)  <span class="hljs-comment">// ç¼“å†²åŒºå¤§å°ä¸º 10</span>
    
    <span class="hljs-comment">// 4. å‡†å¤‡æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆä¼ å…¥ StreamWriterï¼‰</span>
    cancelCtx, executeID, opts, _, err := compose.NewWorkflowRunner(
        wfEntity.GetBasic(), workflowSC, config,
        compose.WithStreamWriter(sw),  <span class="hljs-comment">// StreamWriter ä¼ å…¥ WorkflowRunner</span>
    ).Prepare(ctx)
    
    <span class="hljs-comment">// 5. å¼‚æ­¥æ‰§è¡Œ Workflowï¼ˆStreamWriter ä¼šé€šè¿‡å›è°ƒå®æ—¶å‘é€æ¶ˆæ¯ï¼‰</span>
    wf.AsyncRun(cancelCtx, input, opts...)
    
    <span class="hljs-comment">// 6. è¿”å› StreamReaderï¼ˆåº”ç”¨å±‚ä¼šä»è¿™ä¸ª Reader æ¥æ”¶æ¶ˆæ¯ï¼‰</span>
    <span class="hljs-keyword">return</span> sr, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>schema.Pipe[*entity.Message](10)</code> åˆ›å»ºä¸€å¯¹ StreamWriter/StreamReaderï¼Œé€šè¿‡ channel buffer è¿æ¥</li>
<li><code>compose.WithStreamWriter(sw)</code> å°† StreamWriter ä¼ å…¥ WorkflowRunnerï¼Œæœ€ç»ˆç»‘å®šåˆ°æ‰§è¡Œä¸Šä¸‹æ–‡</li>
<li><code>wf.AsyncRun()</code> å¼‚æ­¥æ‰§è¡Œï¼Œä¸ä¼šé˜»å¡ï¼›æ¶ˆæ¯é€šè¿‡ StreamWriter å®æ—¶å‘é€</li>
<li>è¿”å›çš„ <code>sr</code> æ˜¯ StreamReaderï¼Œåº”ç”¨å±‚é€šè¿‡ <code>sr.Recv()</code> æ¥æ”¶æ¶ˆæ¯</li>
</ul>
<h4 data-id="heading-31">4.3.6 StreamWriter ç»‘å®šåˆ°æ‰§è¡Œä¸Šä¸‹æ–‡</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/internal/compose/workflow_run.go:107</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *WorkflowRunner)</span></span> Prepare(ctx context.Context) (...) {
    <span class="hljs-comment">// 1. ç”Ÿæˆæ‰§è¡Œ ID</span>
    executeID, err := repo.GenID(ctx)
    
    <span class="hljs-comment">// 2. æ„å»ºæ‰§è¡Œé€‰é¡¹ï¼ˆåŒ…å«å›è°ƒå¤„ç†å™¨ï¼Œä¼ å…¥ StreamWriterï¼‰</span>
    composeOpts, err := r.designateOptions(ctx)
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/internal/compose/designate_option.go:40</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *WorkflowRunner)</span></span> designateOptions(ctx context.Context) ([]einoCompose.Option, <span class="hljs-type">error</span>) {
    streamWriter := r.sw  <span class="hljs-comment">// ä» WorkflowRunner è·å– StreamWriter</span>
    
    <span class="hljs-comment">// åˆ›å»ºæ ¹å›è°ƒå¤„ç†å™¨ï¼ˆä¼ å…¥ StreamWriterï¼‰</span>
    rootHandler := execute.NewRootWorkflowHandler(
        <span class="hljs-comment">// ...</span>
        streamWriter,  <span class="hljs-comment">// StreamWriter ä¼ å…¥å›è°ƒå¤„ç†å™¨</span>
    )
    
    opts := []einoCompose.Option{einoCompose.WithCallbacks(rootHandler)}
    
    <span class="hljs-comment">// ä¸ºæ¯ä¸ªèŠ‚ç‚¹æ·»åŠ å›è°ƒå¤„ç†å™¨</span>
    <span class="hljs-keyword">for</span> key := <span class="hljs-keyword">range</span> workflowSC.GetAllNodes() {
        ns := workflowSC.GetAllNodes()[key]
        <span class="hljs-keyword">if</span> ns.Type == entity.NodeTypeLLM {
            <span class="hljs-comment">// ä¸º LLM èŠ‚ç‚¹æ·»åŠ å·¥å…·å›è°ƒé€‰é¡¹</span>
            llmNodeOpts, err := llmToolCallbackOptions(ctx, ns, eventChan, container)
            opts = <span class="hljs-built_in">append</span>(opts, llmNodeOpts...)
        }
    }
    
    <span class="hljs-keyword">return</span> opts, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/internal/execute/callback.go:76</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewRootWorkflowHandler</span><span class="hljs-params">(..., streamWriter *schema.StreamWriter[*entity.Message])</span></span> callbacks.Handler {
    <span class="hljs-keyword">return</span> &amp;WorkflowHandler{
        <span class="hljs-comment">// ...</span>
        streamWriter: streamWriter,  <span class="hljs-comment">// ä¿å­˜ StreamWriter</span>
    }
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>StreamWriter é€šè¿‡ <code>designateOptions</code> ä¼ å…¥æ ¹å›è°ƒå¤„ç†å™¨ï¼ˆ<code>WorkflowHandler</code>ï¼‰</li>
<li><code>WorkflowHandler</code> å°† StreamWriter ä¿å­˜åˆ°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆ<code>exeCtx.RootCtx.StreamWriter</code>ï¼‰</li>
<li>LLM èŠ‚ç‚¹åœ¨æ‰§è¡Œæ—¶å¯ä»¥ä»æ‰§è¡Œä¸Šä¸‹æ–‡è·å– StreamWriter</li>
</ul>
<h4 data-id="heading-32">4.3.7 LLM èŠ‚ç‚¹æ„å»ºï¼ˆå‡†å¤‡å·¥å…·åˆ—è¡¨ï¼‰</h4>
<p>LLM èŠ‚ç‚¹åœ¨æ„å»ºæ—¶ï¼ˆ<code>Build</code> æ–¹æ³•ï¼‰å‡†å¤‡å·¥å…·åˆ—è¡¨å’Œå›è°ƒå¤„ç†å™¨ï¼Œè¿™æ˜¯ Function Calling çš„åŸºç¡€ã€‚</p>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/internal/nodes/llm/llm.go:385</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *Config)</span></span> Build(ctx context.Context, ns *schema2.NodeSchema, _ ...schema2.BuildOption) (any, <span class="hljs-type">error</span>) {
    <span class="hljs-keyword">var</span> (
        tools                 []tool.BaseTool
        toolCallbackHandler   callbacks.Handler
        llmRef                *LLM  <span class="hljs-comment">// å¼•ç”¨ï¼ˆç”¨äºå›è°ƒè®¿é—® realtimeWriterï¼‰</span>
    )
    
    <span class="hljs-comment">// 1. æ„å»º ChatModel</span>
    chatModel, info, err := modelbuilder.BuildModelByID(ctx, c.LLMParams.ModelType, ...)
    
    <span class="hljs-comment">// 2. å¤„ç† Function Calling å‚æ•°ï¼ˆæ„å»ºæ’ä»¶å·¥å…·åˆ—è¡¨ï¼‰</span>
    fcParams := c.FCParam
    <span class="hljs-keyword">if</span> fcParams != <span class="hljs-literal">nil</span> &amp;&amp; fcParams.PluginFCParam != <span class="hljs-literal">nil</span> {
        <span class="hljs-comment">// 2.1 æ„å»ºæ’ä»¶å·¥å…·è¯·æ±‚</span>
        pluginToolsInvokableReq := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int64</span>]*wrapPlugin.ToolsInvokableRequest)
        <span class="hljs-keyword">for</span> _, p := <span class="hljs-keyword">range</span> fcParams.PluginFCParam.PluginList {
            pid, _ := strconv.ParseInt(p.PluginID, <span class="hljs-number">10</span>, <span class="hljs-number">64</span>)
            toolID, _ := strconv.ParseInt(p.ApiId, <span class="hljs-number">10</span>, <span class="hljs-number">64</span>)
            <span class="hljs-comment">// ... æ„å»ºè¯·æ±‚ ...</span>
        }
        
        <span class="hljs-comment">// 2.2 è·å–æ’ä»¶å·¥å…·åˆ—è¡¨ï¼ˆè½¬æ¢ä¸º InvokableToolï¼‰</span>
        inInvokableTools := <span class="hljs-built_in">make</span>([]tool.BaseTool, <span class="hljs-number">0</span>)
        <span class="hljs-keyword">for</span> _, req := <span class="hljs-keyword">range</span> pluginToolsInvokableReq {
            toolMap, err := wrapPlugin.GetPluginInvokableTools(ctx, req)
            <span class="hljs-keyword">for</span> _, t := <span class="hljs-keyword">range</span> toolMap {
                inInvokableTools = <span class="hljs-built_in">append</span>(inInvokableTools, newInvokableTool(t))
            }
        }
    <span class="hljs-comment">// æ‰§è¡Œ funcation calling æ—¶ eino æ¡†æ¶ä¼šè°ƒç”¨ tool.InvokableRun å‡½æ•°</span>
        tools = <span class="hljs-built_in">append</span>(tools, inInvokableTools...)
    }
    
    <span class="hljs-comment">// 3. æ„å»º LLM Graph</span>
    g := compose.NewGraph[<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any, <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any](...)
    
    <span class="hljs-comment">// 4. æ ¹æ®æ˜¯å¦æœ‰å·¥å…·é€‰æ‹©ä¸åŒçš„èŠ‚ç‚¹ç±»å‹</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(tools) &gt; <span class="hljs-number">0</span> {
        <span class="hljs-comment">// 4.1 æœ‰å·¥å…·ï¼šåˆ›å»º React Agentï¼ˆReAct æ¨¡å¼ï¼‰</span>
        m, ok := modelWithInfo.(model.ToolCallingChatModel)
        reactConfig := react.AgentConfig{
            ToolCallingModel: m,
            ToolsConfig:      compose.ToolsNodeConfig{Tools: tools},  <span class="hljs-comment">// ä¼ å…¥å·¥å…·åˆ—è¡¨</span>
            MaxStep:          <span class="hljs-number">100</span>,
        }
        reactAgent, err := react.NewAgent(ctx, &amp;reactConfig)
        agentNode, opts := reactAgent.ExportGraph()
        _ = g.AddGraphNode(llmNodeKey, agentNode, opts...)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// 4.2 æ— å·¥å…·ï¼šç›´æ¥æ·»åŠ  ChatModel èŠ‚ç‚¹</span>
        _ = g.AddChatModelNode(llmNodeKey, modelWithInfo)
    }
    
    <span class="hljs-comment">// 5. åˆ›å»ºå·¥å…·å›è°ƒå¤„ç†å™¨ï¼ˆç”¨äºå®æ—¶æµå¼è¾“å‡ºï¼‰</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(tools) &gt;= <span class="hljs-number">0</span> {
        toolCallbackHandler = callbacks2.NewHandlerHelper().
            ChatModel(&amp;callbacks2.ModelCallbackHandler{
                OnEndWithStreamOutput: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, info *callbacks.RunInfo, 
                    output *schema.StreamReader[*model.CallbackOutput])</span></span> context.Context {
                    <span class="hljs-comment">// æµå¼è¾“å‡ºå¤„ç†ï¼Œå‘é€å®æ—¶æ¶ˆæ¯</span>
                    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
                        <span class="hljs-keyword">for</span> {
                            frame, err := output.Recv()
                            <span class="hljs-keyword">if</span> errors.Is(err, io.EOF) {
                                <span class="hljs-keyword">break</span>
                            }
                            <span class="hljs-keyword">if</span> frame.Message.Content != <span class="hljs-string">""</span> {
                                <span class="hljs-comment">//  å®æ—¶å‘é€æ¶ˆæ¯åˆ° StreamWriter</span>
                                <span class="hljs-keyword">if</span> llmRef != <span class="hljs-literal">nil</span> &amp;&amp; llmRef.realtimeWriter != <span class="hljs-literal">nil</span> {
                                    dataMsg := &amp;entity.DataMessage{
                                        Type:      entity.Answer,
                                        Content:   frame.Message.Content,  <span class="hljs-comment">// å¢é‡å†…å®¹ï¼ˆå¦‚ "è¢«"ï¼‰</span>
                                        <span class="hljs-comment">// ...</span>
                                    }
                                    llmRef.realtimeWriter.Send(&amp;entity.Message{DataMessage: dataMsg}, <span class="hljs-literal">nil</span>)
                                }
                            }
                        }
                    }()
                    <span class="hljs-keyword">return</span> ctx
                },
            }).
            Tool(&amp;callbacks2.ToolCallbackHandler{
                OnStart: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, info *callbacks.RunInfo, input *tool.CallbackInput)</span></span> context.Context {
                    <span class="hljs-comment">//  å‘é€å·¥å…·è°ƒç”¨å¼€å§‹äº‹ä»¶</span>
                    <span class="hljs-keyword">if</span> llmRef != <span class="hljs-literal">nil</span> &amp;&amp; llmRef.realtimeWriter != <span class="hljs-literal">nil</span> {
                        <span class="hljs-comment">// ... æ„å»º FunctionCall æ¶ˆæ¯ ...</span>
                        llmRef.realtimeWriter.Send(&amp;entity.Message{DataMessage: dataMsg}, <span class="hljs-literal">nil</span>)
                    }
                    <span class="hljs-keyword">return</span> ctx
                },
                OnEnd: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, info *callbacks.RunInfo, output *tool.CallbackOutput)</span></span> context.Context {
                    <span class="hljs-comment">//  å‘é€å·¥å…·è°ƒç”¨ç»“æŸäº‹ä»¶</span>
                    <span class="hljs-keyword">if</span> llmRef != <span class="hljs-literal">nil</span> &amp;&amp; llmRef.realtimeWriter != <span class="hljs-literal">nil</span> {
                        <span class="hljs-comment">// ... æ„å»º ToolResponse æ¶ˆæ¯ ...</span>
                        llmRef.realtimeWriter.Send(&amp;entity.Message{DataMessage: dataMsg}, <span class="hljs-literal">nil</span>)
                    }
                    <span class="hljs-keyword">return</span> ctx
                },
            }).Handler()
    }
    
    <span class="hljs-comment">// 6. ç¼–è¯‘ Graph ä¸ºå¯æ‰§è¡Œçš„ Runner</span>
    r, err := g.Compile(ctx, compileOpts...)
    
    <span class="hljs-comment">// 7. åˆ›å»º LLM èŠ‚ç‚¹å®ä¾‹</span>
    llm := &amp;LLM{
        r:                   r,
        toolCallbackHandler: toolCallbackHandler,  <span class="hljs-comment">// ä¿å­˜å›è°ƒå¤„ç†å™¨</span>
    }
    
    <span class="hljs-comment">// 8. è®¾ç½®å¼•ç”¨ï¼Œä½¿å›è°ƒå¯ä»¥è®¿é—® realtimeWriter</span>
    llmRef = llm
    
    <span class="hljs-keyword">return</span> llm, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><strong>å·¥å…·åˆ—è¡¨æ„å»º</strong>ï¼šä» <code>FCParam.PluginFCParam.PluginList</code> è§£ææ’ä»¶é…ç½®ï¼Œè°ƒç”¨ <code>wrapPlugin.GetPluginInvokableTools()</code> è·å–å·¥å…·</li>
<li><strong>React Agent</strong>ï¼šå¦‚æœæœ‰å·¥å…·ï¼Œåˆ›å»º React Agentï¼ˆReAct æ¨¡å¼ï¼‰ï¼Œå¦åˆ™ä½¿ç”¨æ™®é€š ChatModel</li>
<li><strong>å›è°ƒå¤„ç†å™¨</strong>ï¼šåœ¨æ„å»ºæ—¶åˆ›å»º <code>toolCallbackHandler</code>ï¼ŒåŒ…å« <code>ChatModel.OnEndWithStreamOutput</code> å’Œ <code>Tool.OnStart/OnEnd</code> å›è°ƒ</li>
<li><strong>llmRef å¼•ç”¨</strong>ï¼šé€šè¿‡ <code>llmRef</code> å¼•ç”¨ï¼Œå›è°ƒå¤„ç†å™¨å¯ä»¥è®¿é—® <code>llmRef.realtimeWriter</code>ï¼ˆåœ¨æ‰§è¡Œæ—¶è®¾ç½®ï¼‰</li>
</ul>
<h4 data-id="heading-33">4.3.8 LLM èŠ‚ç‚¹æ‰§è¡Œï¼ˆè·å– StreamWriterï¼‰</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/internal/nodes/llm/llm.go:1455</code></p>
<p>LLM èŠ‚ç‚¹åœ¨æ‰§è¡Œæ—¶ï¼ˆ<code>Stream</code> æ–¹æ³•ï¼‰ä»æ‰§è¡Œä¸Šä¸‹æ–‡è·å– StreamWriterï¼Œå¹¶è®¾ç½®åˆ° <code>llmRef.realtimeWriter</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(l *LLM)</span></span> Stream(ctx context.Context, in <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any, opts ...nodes.NodeOption) 
    (out *schema.StreamReader[<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any], err <span class="hljs-type">error</span>) {
    
    <span class="hljs-comment">// 1. å‡†å¤‡æ‰§è¡Œé€‰é¡¹</span>
    composeOpts, resumingEvent, err := l.prepare(ctx, in, opts...)
    
    <span class="hljs-comment">// 2. ä»æ‰§è¡Œä¸Šä¸‹æ–‡è·å– StreamWriter</span>
    exeCtx := execute.GetExeCtx(ctx)
    <span class="hljs-keyword">if</span> exeCtx != <span class="hljs-literal">nil</span> &amp;&amp; exeCtx.RootCtx.StreamWriter != <span class="hljs-literal">nil</span> {
        l.realtimeWriter = exeCtx.RootCtx.StreamWriter  <span class="hljs-comment">// è®¾ç½®åˆ° LLM å®ä¾‹</span>
        logs.Infof(<span class="hljs-string">"âœ… [LLM Stream] Found StreamWriter in execute context"</span>)
    }
    
    <span class="hljs-comment">// 3. æ·»åŠ å·¥å…·å›è°ƒå¤„ç†å™¨ï¼ˆå›è°ƒä¼šä½¿ç”¨ realtimeWriter å‘é€æ¶ˆæ¯ï¼‰</span>
    <span class="hljs-keyword">if</span> l.toolCallbackHandler != <span class="hljs-literal">nil</span> {
        composeOpts = <span class="hljs-built_in">append</span>(composeOpts, compose.WithCallbacks(l.toolCallbackHandler))
    }
    
    <span class="hljs-comment">// 4. è°ƒç”¨ LLM Graph çš„ Stream æ–¹æ³•ï¼ˆå¦‚æœ LLM ç”Ÿæˆ Function Callï¼Œä¼šè‡ªåŠ¨è°ƒç”¨å·¥å…·ï¼‰</span>
    out, err = l.r.Stream(ctx, in, composeOpts...)
    
    <span class="hljs-keyword">return</span> out, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>execute.GetExeCtx(ctx)</code> è·å–æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­åŒ…å« <code>RootCtx.StreamWriter</code></li>
<li><code>l.realtimeWriter = exeCtx.RootCtx.StreamWriter</code> å°† StreamWriter è®¾ç½®åˆ° LLM å®ä¾‹</li>
<li>å›è°ƒå¤„ç†å™¨ï¼ˆåœ¨ Build æ—¶åˆ›å»ºï¼‰é€šè¿‡ <code>llmRef.realtimeWriter</code> è®¿é—® StreamWriter</li>
<li>å½“ LLM æµå¼è¾“å‡ºæˆ–å·¥å…·è°ƒç”¨æ—¶ï¼Œå›è°ƒå¤„ç†å™¨ä¼šè°ƒç”¨ <code>llmRef.realtimeWriter.Send()</code> å‘é€æ¶ˆæ¯</li>
</ul>
<h4 data-id="heading-34">4.3.9 æ¶ˆæ¯å‘é€æ—¶æœº</h4>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/internal/nodes/llm/llm.go:877</code></p>
<p>å›è°ƒå¤„ç†å™¨åœ¨ä»¥ä¸‹æ—¶æœºè°ƒç”¨ <code>llmRef.realtimeWriter.Send()</code>ï¼š</p>
<p><strong>1. LLM æµå¼è¾“å‡ºæ—¶</strong>ï¼ˆ<code>ChatModel.OnEndWithStreamOutput</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go">ChatModel(&amp;callbacks2.ModelCallbackHandler{
    OnEndWithStreamOutput: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, info *callbacks.RunInfo, 
        output *schema.StreamReader[*model.CallbackOutput])</span></span> context.Context {
        
        <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
            <span class="hljs-keyword">for</span> {
                frame, err := output.Recv()  <span class="hljs-comment">// ä» LLM æµå¼è¾“å‡ºæ¥æ”¶</span>
                <span class="hljs-keyword">if</span> errors.Is(err, io.EOF) {
                    <span class="hljs-keyword">break</span>
                }
                
                <span class="hljs-keyword">if</span> frame.Message.Content != <span class="hljs-string">""</span> {
                    <span class="hljs-comment">//  å®æ—¶å‘é€æ¶ˆæ¯åˆ° StreamWriter</span>
                    <span class="hljs-keyword">if</span> llmRef != <span class="hljs-literal">nil</span> &amp;&amp; llmRef.realtimeWriter != <span class="hljs-literal">nil</span> {
                        dataMsg := &amp;entity.DataMessage{
                            Type:      entity.Answer,
                            Content:   frame.Message.Content,  <span class="hljs-comment">// å¢é‡å†…å®¹ï¼ˆå¦‚ "è¢«"ï¼‰</span>
                            NodeType:  entity.NodeTypeLLM,
                            ExecuteID: exeCtx.RootExecuteID,
                            NodeID:    <span class="hljs-type">string</span>(exeCtx.NodeKey),
                        }
                        <span class="hljs-comment">// å‘é€åˆ° StreamWriterï¼ˆå†™å…¥ channel bufferï¼‰</span>
                        llmRef.realtimeWriter.Send(&amp;entity.Message{DataMessage: dataMsg}, <span class="hljs-literal">nil</span>)
                    }
                }
            }
        }()
        <span class="hljs-keyword">return</span> ctx
    },
})
</code></pre>
<p><strong>2. å·¥å…·è°ƒç”¨å¼€å§‹æ—¶</strong>ï¼ˆ<code>Tool.OnStart</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go">Tool(&amp;callbacks2.ToolCallbackHandler{
    OnStart: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, info *callbacks.RunInfo, input *tool.CallbackInput)</span></span> context.Context {
        <span class="hljs-comment">//  å‘é€å·¥å…·è°ƒç”¨å¼€å§‹äº‹ä»¶</span>
        <span class="hljs-keyword">if</span> llmRef != <span class="hljs-literal">nil</span> &amp;&amp; llmRef.realtimeWriter != <span class="hljs-literal">nil</span> {
            dataMsg := &amp;entity.DataMessage{
                Type:      entity.FunctionCall,
                FunctionCall: &amp;entity.FunctionCallInfo{
                    Name:      info.Name,
                    CallID:    compose.GetToolCallID(ctx),
                    Arguments: parseArguments(input.ArgumentsInJSON),
                },
            }
            <span class="hljs-comment">// å‘é€åˆ° StreamWriter</span>
            llmRef.realtimeWriter.Send(&amp;entity.Message{DataMessage: dataMsg}, <span class="hljs-literal">nil</span>)
        }
        <span class="hljs-keyword">return</span> ctx
    },
})
</code></pre>
<p><strong>3. å·¥å…·è°ƒç”¨ç»“æŸæ—¶</strong>ï¼ˆ<code>Tool.OnEnd</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go">OnEnd: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, info *callbacks.RunInfo, output *tool.CallbackOutput)</span></span> context.Context {
    <span class="hljs-comment">//  å‘é€å·¥å…·è°ƒç”¨ç»“æŸäº‹ä»¶</span>
    <span class="hljs-keyword">if</span> llmRef != <span class="hljs-literal">nil</span> &amp;&amp; llmRef.realtimeWriter != <span class="hljs-literal">nil</span> {
        dataMsg := &amp;entity.DataMessage{
            Type:      entity.ToolResponse,
            ToolResponse: &amp;entity.ToolResponseInfo{
                Name:     info.Name,
                CallID:   compose.GetToolCallID(ctx),
                Response: output.OutputInJSON,
            },
        }
        <span class="hljs-comment">// å‘é€åˆ° StreamWriter</span>
        llmRef.realtimeWriter.Send(&amp;entity.Message{DataMessage: dataMsg}, <span class="hljs-literal">nil</span>)
    }
    <span class="hljs-keyword">return</span> ctx
},
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>llmRef.realtimeWriter.Send()</code> å°†æ¶ˆæ¯å†™å…¥ Pipe çš„ channel buffer</li>
<li>æ¶ˆæ¯ä¼šç«‹å³è¢« StreamReader æ¥æ”¶ï¼ˆå¦‚æœåº”ç”¨å±‚æ­£åœ¨ <code>Recv()</code>ï¼‰</li>
<li>å›è°ƒå¤„ç†å™¨åœ¨ç‹¬ç«‹çš„ goroutine ä¸­è¿è¡Œï¼Œä¸ä¼šé˜»å¡ LLM æ‰§è¡Œ</li>
</ul>
<h4 data-id="heading-35">4.3.10 æ¶ˆæ¯æ¥æ”¶ä¸ SSE å‘é€</h4>
<h5 data-id="heading-36">1. æ¶ˆæ¯æ¥æ”¶è·¯å¾„</h5>
<p>å®Œæ•´è·¯å¾„ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[llmRef.realtimeWriter&lt;br/&gt;Send msg, nil] --&gt;|å†™å…¥| B[Channel Buffer]
    B --&gt;|Recv| C[StreamReader&lt;br/&gt;Workflow å±‚]
    C --&gt;|åº”ç”¨å±‚å¾ªç¯æ¥æ”¶| D[åº”ç”¨å±‚è½¬æ¢å‡½æ•°&lt;br/&gt;convertToChatFlowRunResponseList]
    D --&gt;|è½¬æ¢ä¸º SSE æ ¼å¼| E[StreamReader&lt;br/&gt;SSE å±‚]
    E --&gt;|Handler å±‚å¾ªç¯æ¥æ”¶| F[SSE Writer&lt;br/&gt;Write event]
    F --&gt;|å‘é€| G[å‰ç«¯ SSE è¿æ¥]
    
    style A fill:#e1f5ff
    style B fill:#ffe1f5
    style C fill:#fff4e1
    style D fill:#e1ffe1
    style E fill:#fff4e1
    style F fill:#ffe1f5
    style G fill:#e1f5ff
</code></pre>
<p>ä»£ç ä½ç½®ï¼š<code>backend/application/workflow/chatflow.go:918</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åº”ç”¨å±‚è°ƒç”¨é¢†åŸŸæœåŠ¡æ‰§è¡Œ Workflowï¼ˆè¿”å› StreamReaderï¼‰</span>
sr, err := GetWorkflowDomainSVC().StreamExecute(ctx, exeCfg, parameters)

<span class="hljs-comment">// å°† Workflow æ¶ˆæ¯ StreamReader è½¬æ¢ä¸º SSE å“åº” StreamReader</span>
<span class="hljs-keyword">return</span> schema.StreamReaderWithConvert(sr, w.convertToChatFlowRunResponseList(ctx, ...)), <span class="hljs-literal">nil</span>
</code></pre>
<p>ä»£ç ä½ç½®ï¼š<code>backend/api/handler/coze/workflow_service.go:724</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">sendChatFlowStreamRunSSE</span><span class="hljs-params">(ctx context.Context, w *sse.Writer, 
    sr *schema.StreamReader[[]*workflow.ChatFlowRunResponse])</span></span> {
    <span class="hljs-keyword">for</span> {
        <span class="hljs-comment">// ä» StreamReader æ¥æ”¶æ¶ˆæ¯ï¼ˆé˜»å¡ç­‰å¾…ï¼‰</span>
        respList, err := sr.Recv()
        
        <span class="hljs-keyword">if</span> errors.Is(err, io.EOF) {
            <span class="hljs-keyword">break</span>  <span class="hljs-comment">// æµç»“æŸ</span>
        }
        
        <span class="hljs-comment">// å°†æ¯ä¸ªå“åº”è½¬æ¢ä¸º SSE äº‹ä»¶å¹¶å‘é€ç»™å‰ç«¯</span>
        <span class="hljs-keyword">for</span> _, resp := <span class="hljs-keyword">range</span> respList {
            event := &amp;sse.Event{
                ID:   strconv.FormatInt(seq, <span class="hljs-number">10</span>),
                Type: resp.Event,
                Data: []<span class="hljs-type">byte</span>(resp.Data),
            }
            w.Write(event)
            seq++
        }
    }
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>sr.Recv()</code> é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°æœ‰æ¶ˆæ¯å†™å…¥ StreamWriter</li>
<li><code>StreamReaderWithConvert</code> åœ¨æ¯æ¬¡ <code>Recv()</code> æ—¶è°ƒç”¨è½¬æ¢å‡½æ•°</li>
<li>è½¬æ¢å‡½æ•°å°† <code>entity.Message</code> è½¬æ¢ä¸º <code>ChatFlowRunResponse</code>ï¼ŒåŒ…å«äº‹ä»¶ç±»å‹å’Œ JSON æ•°æ®</li>
<li>SSE Writer å°†äº‹ä»¶å†™å…¥ HTTP å“åº”æµï¼Œå‰ç«¯é€šè¿‡ EventSource API æ¥æ”¶</li>
</ul>
<h5 data-id="heading-37">2. æ¶ˆæ¯æµè½¬æ—¶åºå›¾</h5>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant LLMCallback as LLM å›è°ƒå¤„ç†å™¨
    participant SW as StreamWriter
    participant Buffer as Channel Buffer
    participant SR1 as StreamReader (Workflow)
    participant App as åº”ç”¨å±‚è½¬æ¢
    participant SR2 as StreamReader (SSE)
    participant Handler as Handler å±‚
    participant Frontend as å‰ç«¯
    
    Note over LLMCallback: LLM æµå¼è¾“å‡º
    LLMCallback-&gt;&gt;SW: Send(Message{Content: "è¢«"})
    SW-&gt;&gt;Buffer: å†™å…¥ channel buffer
    
    Note over SR1: åº”ç”¨å±‚å¾ªç¯æ¥æ”¶
    SR1-&gt;&gt;Buffer: Recv() (é˜»å¡ç­‰å¾…)
    Buffer--&gt;&gt;SR1: Message{Content: "è¢«"}
    SR1-&gt;&gt;App: è½¬æ¢å‡½æ•°è°ƒç”¨
    App-&gt;&gt;App: convertToChatFlowRunResponseList()
    App--&gt;&gt;SR2: ChatFlowRunResponse{Event: "delta", Data: "..."}
    
    Note over Handler: Handler å±‚å¾ªç¯æ¥æ”¶
    SR2-&gt;&gt;Handler: Recv()
    Handler-&gt;&gt;Handler: æ„å»º SSE Event
    Handler-&gt;&gt;Frontend: Write(event: delta\ndata: {...})
    Frontend--&gt;&gt;Frontend: æ˜¾ç¤º "è¢«"
</code></pre>
<h4 data-id="heading-38">4.3.11 æ’ä»¶å·¥å…·æ‰§è¡Œï¼ˆFunction Callingï¼‰</h4>
<p>å½“ LLM ç”Ÿæˆ Function Call æ—¶ï¼Œeino æ¡†æ¶è‡ªåŠ¨è°ƒç”¨å·¥å…·çš„ <code>InvokableRun</code> æ–¹æ³•ã€‚</p>
<h5 data-id="heading-39">1. å·¥å…·åŒ…è£…å™¨</h5>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/internal/nodes/llm/plugin.go:32</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">newInvokableTool</span><span class="hljs-params">(pl crossplugin.InvokableTool)</span></span> tool.InvokableTool {
    <span class="hljs-keyword">return</span> &amp;pluginInvokableTool{
        pluginInvokableTool: pl,
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p pluginInvokableTool)</span></span> InvokableRun(ctx context.Context, argumentsInJSON <span class="hljs-type">string</span>, opts ...tool.Option) (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
    <span class="hljs-comment">//  è·å–æ‰§è¡Œé…ç½®ï¼ˆä» Workflow ä¸Šä¸‹æ–‡ï¼‰</span>
    execCfg := execute.GetExecuteConfig(opts...)
    
    <span class="hljs-comment">//  è°ƒç”¨æ’ä»¶æœåŠ¡æ‰§è¡Œå·¥å…·</span>
    <span class="hljs-keyword">return</span> p.pluginInvokableTool.PluginInvoke(ctx, argumentsInJSON, execCfg)
}
</code></pre>
<h5 data-id="heading-40">2. æ’ä»¶å·¥å…·æ‰§è¡Œ</h5>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/workflow/plugin/plugin.go:338</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *pluginInvokeTool)</span></span> PluginInvoke(ctx context.Context, argumentsInJSON <span class="hljs-type">string</span>, 
    cfg workflowModel.ExecuteConfig) (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
    
    <span class="hljs-comment">// 1. æ„å»ºæ‰§è¡Œè¯·æ±‚</span>
    req := &amp;model.ExecuteToolRequest{
        UserID:          conv.Int64ToStr(cfg.Operator),
        PluginID:        p.pluginEntity.PluginID,
        ToolID:          p.toolInfo.ID,
        ExecScene:       consts.ExecSceneOfWorkflow,
        ArgumentsInJson: argumentsInJSON,  <span class="hljs-comment">// LLM ç”Ÿæˆçš„å‚æ•° JSON</span>
    }
    
    <span class="hljs-comment">// 2. æ‰§è¡Œå·¥å…·ï¼ˆç»Ÿä¸€æ‰§è¡Œå…¥å£ï¼‰</span>
    r, err := crossplugin.DefaultSVC().ExecuteTool(ctx, req, execOpts...)
    
    <span class="hljs-comment">// 3. è¿”å›è£å‰ªåçš„å“åº”ï¼ˆJSON å­—ç¬¦ä¸²ï¼Œä¾› LLM ç»§ç»­æ¨ç†ï¼‰</span>
    <span class="hljs-keyword">return</span> r.TrimmedResp, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>argumentsInJSON</code> æ˜¯ LLM æ ¹æ®å·¥å…· Schema ç”Ÿæˆçš„å‚æ•° JSON</li>
<li><code>ExecuteTool</code> æ˜¯ç»Ÿä¸€æ‰§è¡Œå…¥å£ï¼Œä¼šæ ¹æ®æ’ä»¶ç±»å‹é€‰æ‹© HTTP/MCP/Custom æ‰§è¡Œå™¨</li>
<li><code>TrimmedResp</code> æ˜¯æ ¹æ®å“åº” Schema è£å‰ªåçš„ JSONï¼ŒåªåŒ…å« LLM éœ€è¦çš„å­—æ®µ</li>
</ul>
<h4 data-id="heading-41">4.3.12 ç»Ÿä¸€æ‰§è¡Œå…¥å£ï¼ˆPluginService.ExecuteToolï¼‰</h4>
<p>æ‰€æœ‰æ’ä»¶æ‰§è¡Œéƒ½é€šè¿‡ <code>PluginService.ExecuteTool()</code> ç»Ÿä¸€å…¥å£ï¼Œæ— è®ºæ’ä»¶ç±»å‹æ˜¯ HTTPã€MCP è¿˜æ˜¯ Customã€‚ä¸‹é¢åˆ†æä»ç»Ÿä¸€å…¥å£åˆ°å…·ä½“æ‰§è¡Œå™¨çš„å®Œæ•´æµç¨‹ã€‚</p>
<h5 data-id="heading-42">1. ExecuteTool ä¸»æµç¨‹</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *pluginServiceImpl)</span></span> ExecuteTool(ctx context.Context, req *model.ExecuteToolRequest, opts ...model.ExecuteToolOpt) (resp *model.ExecuteToolResponse, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. è§£ææ‰§è¡Œé€‰é¡¹</span>
    opt := &amp;model.ExecuteToolOption{}
    <span class="hljs-keyword">for</span> _, fn := <span class="hljs-keyword">range</span> opts {
        fn(opt)
    }
    
    <span class="hljs-comment">// 2. æ„å»ºå·¥å…·æ‰§è¡Œå™¨ï¼ˆæ ¹æ®æ‰§è¡Œåœºæ™¯è·å–æ’ä»¶å’Œå·¥å…·ä¿¡æ¯ï¼‰</span>
    executor, err := p.buildToolExecutor(ctx, req, opt)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"buildToolExecutor failed"</span>)
    }
    
    <span class="hljs-comment">// 3. è·å–è®¤è¯ä¿¡æ¯ï¼ˆå¦‚æœéœ€è¦ OAuthï¼Œä¼šå°è¯•è·å– Access Tokenï¼‰</span>
    authInfo := executor.plugin.GetAuthInfo()
    accessToken, authURL, err := p.acquireAccessTokenIfNeed(ctx, req, authInfo, executor.tool.Operation)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"acquireAccessToken failed"</span>)
    }
    
    <span class="hljs-comment">// 4. æ‰§è¡Œå·¥å…·ï¼ˆè°ƒç”¨å…·ä½“çš„ Invocation å®ç°ï¼‰</span>
    result, err := executor.execute(ctx, req.ArgumentsInJson, accessToken, authURL)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"execute tool failed"</span>)
    }
    
    <span class="hljs-comment">// 5. å·¥å…·è°ƒè¯•åœºæ™¯ä¸‹ï¼Œæ›´æ–°å·¥å…·çš„è°ƒè¯•çŠ¶æ€</span>
    <span class="hljs-keyword">if</span> req.ExecScene == consts.ExecSceneOfToolDebug {
        err = p.toolRepo.UpdateDraftTool(ctx, &amp;entity.ToolInfo{
            ID:          req.ToolID,
            DebugStatus: ptr.Of(common.APIDebugStatus_DebugPassed),
        })
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            logs.CtxErrorf(ctx, <span class="hljs-string">"UpdateDraftTool failed, tooID=%d, err=%v"</span>, req.ToolID, err)
        }
    }
    
    <span class="hljs-comment">// 6. è‡ªåŠ¨ç”Ÿæˆå“åº” Schemaï¼ˆå¯é€‰ï¼‰</span>
    <span class="hljs-keyword">var</span> respSchema openapi3.Responses
    <span class="hljs-keyword">if</span> opt.AutoGenRespSchema {
        respSchema, err = p.genToolResponseSchema(ctx, result.RawResp)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"genToolResponseSchema failed"</span>)
        }
    }
    
    <span class="hljs-comment">// 7. æ„å»ºå¹¶è¿”å›å“åº”</span>
    resp = &amp;model.ExecuteToolResponse{
        Tool:        executor.tool,      <span class="hljs-comment">// å·¥å…·ä¿¡æ¯</span>
        Request:     result.Request,     <span class="hljs-comment">// è¯·æ±‚å­—ç¬¦ä¸²ï¼ˆç”¨äºæ—¥å¿—ï¼‰</span>
        RawResp:     result.RawResp,     <span class="hljs-comment">// åŸå§‹å“åº”</span>
        TrimmedResp: result.TrimmedResp, <span class="hljs-comment">// è£å‰ªåçš„å“åº”ï¼ˆæ ¹æ® Schemaï¼‰</span>
        RespSchema:  respSchema,        <span class="hljs-comment">// å“åº” Schema</span>
    }
    
    <span class="hljs-keyword">return</span> resp, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>ExecuteTool</code> æ˜¯ç»Ÿä¸€æ‰§è¡Œå…¥å£ï¼Œæ‰€æœ‰æ’ä»¶ç±»å‹ï¼ˆHTTP/MCP/Customï¼‰éƒ½é€šè¿‡æ­¤æ–¹æ³•æ‰§è¡Œ</li>
<li>æ‰§è¡Œæµç¨‹ï¼š</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[æ„å»ºæ‰§è¡Œå™¨&lt;br/&gt;buildToolExecutor] --&gt;|è·å–æ’ä»¶å’Œå·¥å…·ä¿¡æ¯| B[è·å–è®¤è¯ä¿¡æ¯&lt;br/&gt;acquireAccessTokenIfNeed]
    B --&gt;|OAuth/API Key| C[æ‰§è¡Œå·¥å…·&lt;br/&gt;executor.execute]
    C --&gt;|è°ƒç”¨ Invocation| D[å¤„ç†å“åº”&lt;br/&gt;processResponse]
    D --&gt;|è¿”å›ç»“æœ| E[ExecuteToolResponse]
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1f5
    style D fill:#e1ffe1
    style E fill:#e1f5ff
</code></pre>
<ul>
<li><code>executor.execute()</code> ä¼šæ ¹æ®æ’ä»¶ç±»å‹è°ƒç”¨å¯¹åº”çš„ Invocation å®ç°</li>
</ul>
<h5 data-id="heading-43">2. buildToolExecutorï¼ˆæ„å»ºå·¥å…·æ‰§è¡Œå™¨ï¼‰</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *pluginServiceImpl)</span></span> buildToolExecutor(ctx context.Context, req *model.ExecuteToolRequest, opt *model.ExecuteToolOption) (impl *toolExecutor, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. éªŒè¯ç”¨æˆ· ID</span>
    <span class="hljs-keyword">if</span> req.UserID == <span class="hljs-string">""</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.New(errno.ErrPluginExecuteToolFailed, errorx.KV(errno.PluginMsgKey, <span class="hljs-string">"userID is required"</span>))
    }
    
    <span class="hljs-keyword">var</span> (
        pl *entity.PluginInfo  <span class="hljs-comment">// æ’ä»¶ä¿¡æ¯</span>
        tl *entity.ToolInfo    <span class="hljs-comment">// å·¥å…·ä¿¡æ¯</span>
    )
    
    <span class="hljs-comment">// 2. æ ¹æ®æ‰§è¡Œåœºæ™¯è·å–æ’ä»¶å’Œå·¥å…·ä¿¡æ¯</span>
    <span class="hljs-keyword">switch</span> req.ExecScene {
    <span class="hljs-keyword">case</span> consts.ExecSceneOfOnlineAgent:
        <span class="hljs-comment">// åœ¨çº¿ Agentï¼šä»ç‰ˆæœ¬è¡¨è·å–å·¥å…·é…ç½®</span>
        pl, tl, err = p.getOnlineAgentPluginInfo(ctx, req, opt)
    <span class="hljs-keyword">case</span> consts.ExecSceneOfDraftAgent:
        <span class="hljs-comment">// è‰ç¨¿ Agentï¼šä»è‰ç¨¿è¡¨è·å–å·¥å…·é…ç½®ï¼Œå¹¶åˆå¹¶ Agent çš„è‡ªå®šä¹‰é…ç½®</span>
        pl, tl, err = p.getDraftAgentPluginInfo(ctx, req, opt)
    <span class="hljs-keyword">case</span> consts.ExecSceneOfToolDebug:
        <span class="hljs-comment">// å·¥å…·è°ƒè¯•ï¼šä»è‰ç¨¿è¡¨è·å–</span>
        pl, tl, err = p.getToolDebugPluginInfo(ctx, req, opt)
    <span class="hljs-keyword">case</span> consts.ExecSceneOfWorkflow:
        <span class="hljs-comment">// Workflowï¼šæ ¹æ® ExecDraftTool æ ‡å¿—å†³å®šä»è‰ç¨¿è¡¨è¿˜æ˜¯åœ¨çº¿è¡¨è·å–</span>
        pl, tl, err = p.getWorkflowPluginInfo(ctx, req, opt)
    <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"invalid execute scene '%s'"</span>, req.ExecScene)
    }
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    
    <span class="hljs-comment">// 3. æ„å»ºå·¥å…·æ‰§è¡Œå™¨</span>
    impl = &amp;toolExecutor{
        execScene:                  req.ExecScene,                    <span class="hljs-comment">// æ‰§è¡Œåœºæ™¯</span>
        userID:                     req.UserID,                      <span class="hljs-comment">// ç”¨æˆ· ID</span>
        conversationID:             opt.ConversationID,              <span class="hljs-comment">// ä¼šè¯ IDï¼ˆç”¨äº HTTP Headerï¼‰</span>
        plugin:                     pl,                               <span class="hljs-comment">// æ’ä»¶ä¿¡æ¯</span>
        tool:                       tl,                               <span class="hljs-comment">// å·¥å…·ä¿¡æ¯</span>
        projectInfo:                opt.ProjectInfo,                 <span class="hljs-comment">// é¡¹ç›®ä¿¡æ¯ï¼ˆç”¨äºå˜é‡å¼•ç”¨ï¼‰</span>
        invalidRespProcessStrategy: opt.InvalidRespProcessStrategy,  <span class="hljs-comment">// å“åº”å¤„ç†ç­–ç•¥</span>
        oss:                        p.oss,                            <span class="hljs-comment">// OSS å­˜å‚¨ï¼ˆç”¨äºæ–‡ä»¶ URI è½¬æ¢ï¼‰</span>
    }
    
    <span class="hljs-comment">// 4. å¦‚æœæä¾›äº†è‡ªå®šä¹‰ Operationï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„ï¼ˆç”¨äº Agent è‡ªå®šä¹‰é…ç½®ï¼‰</span>
    <span class="hljs-keyword">if</span> opt.Operation != <span class="hljs-literal">nil</span> {
        impl.tool.Operation = opt.Operation
    }
    
    <span class="hljs-keyword">return</span> impl, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>æ ¹æ®æ‰§è¡Œåœºæ™¯ï¼ˆåœ¨çº¿ Agent/è‰ç¨¿ Agent/Workflow/å·¥å…·è°ƒè¯•ï¼‰è·å–æ’ä»¶å’Œå·¥å…·ä¿¡æ¯</li>
<li>ä¸åŒåœºæ™¯çš„æ•°æ®æ¥æºä¸åŒï¼ˆç‰ˆæœ¬è¡¨/è‰ç¨¿è¡¨/SaaSï¼‰</li>
<li>æ„å»º <code>toolExecutor</code> ç»“æ„ï¼ŒåŒ…å«æ’ä»¶ä¿¡æ¯ã€å·¥å…·ä¿¡æ¯ã€é¡¹ç›®ä¿¡æ¯ç­‰</li>
</ul>
<h5 data-id="heading-44">3. getWorkflowPluginInfo ç¤ºä¾‹ï¼ˆWorkflow åœºæ™¯ï¼‰</h5>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *pluginServiceImpl)</span></span> getWorkflowPluginInfo(ctx context.Context, req *model.ExecuteToolRequest,
    execOpt *model.ExecuteToolOption) (pl *entity.PluginInfo, tl *entity.ToolInfo, err <span class="hljs-type">error</span>) {
    
    <span class="hljs-comment">// 1. æ£€æŸ¥æ˜¯å¦æ¥è‡ª SaaS</span>
    <span class="hljs-keyword">if</span> req.PluginFrom != <span class="hljs-literal">nil</span> &amp;&amp; *req.PluginFrom == bot_common.PluginFrom_FromSaas {
        <span class="hljs-comment">// ä» SaaS è·å–æ’ä»¶å’Œå·¥å…·ä¿¡æ¯</span>
        tools, plugin, err := p.toolRepo.BatchGetSaasPluginToolsInfo(ctx, []<span class="hljs-type">int64</span>{req.PluginID})
        <span class="hljs-comment">// ... æŸ¥æ‰¾å¯¹åº”çš„å·¥å…·</span>
        <span class="hljs-keyword">return</span> pl, tl, <span class="hljs-literal">nil</span>
    }
    
    <span class="hljs-comment">// 2. æ£€æŸ¥æ˜¯å¦æ‰§è¡Œè‰ç¨¿å·¥å…·</span>
    <span class="hljs-keyword">if</span> req.ExecDraftTool {
        <span class="hljs-comment">// ä»è‰ç¨¿è¡¨è·å–</span>
        pl, exist, err := p.pluginRepo.GetDraftPlugin(ctx, req.PluginID)
        tl, exist, err := p.toolRepo.GetDraftTool(ctx, req.ToolID)
        <span class="hljs-keyword">return</span> pl, tl, <span class="hljs-literal">nil</span>
    }
    
    <span class="hljs-comment">// 3. ä»åœ¨çº¿è¡¨è·å–ï¼ˆæ”¯æŒç‰ˆæœ¬ï¼‰</span>
    <span class="hljs-keyword">if</span> execOpt.ToolVersion == <span class="hljs-string">""</span> {
        <span class="hljs-comment">// è·å–æœ€æ–°ç‰ˆæœ¬</span>
        pl, exist, err := p.pluginRepo.GetOnlinePlugin(ctx, req.PluginID)
        tl, exist, err := p.toolRepo.GetOnlineTool(ctx, req.ToolID)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è·å–æŒ‡å®šç‰ˆæœ¬</span>
        pl, exist, err := p.pluginRepo.GetVersionPlugin(ctx, model.VersionPlugin{
            PluginID: req.PluginID,
            Version:  execOpt.ToolVersion,
        })
        tl, exist, err := p.toolRepo.GetVersionTool(ctx, model.VersionTool{
            ToolID:  req.ToolID,
            Version: execOpt.ToolVersion,
        })
    }
    
    <span class="hljs-keyword">return</span> pl, tl, <span class="hljs-literal">nil</span>
}
</code></pre>
<h5 data-id="heading-45">4. toolExecutor.executeï¼ˆæ‰§è¡Œå·¥å…·ï¼‰</h5>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/plugin/service/exec_tool.go:610</code></p>
<p><code>toolExecutor.execute()</code> æ˜¯å®é™…æ‰§è¡Œå·¥å…·çš„æ–¹æ³•ï¼Œæ ¹æ®æ’ä»¶ç±»å‹è°ƒç”¨å¯¹åº”çš„ Invocation å®ç°ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *toolExecutor)</span></span> execute(ctx context.Context, argumentsInJson, accessToken, authURL <span class="hljs-type">string</span>) (resp *ExecuteResponse, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. éªŒè¯å‚æ•°</span>
    <span class="hljs-keyword">if</span> argumentsInJson == <span class="hljs-string">""</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.New(errno.ErrPluginExecuteToolFailed,
            errorx.KV(errno.PluginMsgKey, <span class="hljs-string">"argumentsInJson is required"</span>))
    }
    
    <span class="hljs-comment">// 2. ğŸ”‘ æ„å»º InvocationArgsï¼ˆå‚æ•°åˆ†ç»„ã€å…¬å…±å‚æ•°æ³¨å…¥ã€é»˜è®¤å€¼å¤„ç†ç­‰ï¼‰</span>
    invocation, err := tool.NewInvocationArgs(ctx, &amp;tool.InvocationArgsBuilder{
        ArgsInJson:     argumentsInJson,
        ProjectInfo:    t.projectInfo,
        UserID:         t.userID,
        Plugin:         t.plugin,
        Tool:           t.tool,
        PluginManifest: t.plugin.Manifest,
        ServerURL:      t.plugin.GetServerURL(),
        AuthInfo: &amp;tool.AuthInfo{
            OAuth: &amp;tool.OAuthInfo{
                AccessToken: accessToken,
                AuthURL:     authURL,
            },
            MetaInfo: t.plugin.GetAuthInfo(),
        },
    })
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    
    <span class="hljs-comment">// 3. ğŸ”‘ æ–‡ä»¶ URI è½¬æ¢ï¼ˆéè°ƒè¯•åœºæ™¯ï¼‰</span>
    <span class="hljs-keyword">if</span> t.execScene != consts.ExecSceneOfToolDebug {
        <span class="hljs-comment">// å°†æ–‡ä»¶ URI è½¬æ¢ä¸ºå¯è®¿é—®çš„ URL</span>
        err = invocation.AssembleFileURIToURL(ctx, t.oss)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
        }
    }
    
    <span class="hljs-comment">// 4. ğŸ”‘ æ ¹æ®æ’ä»¶æ¥æºé€‰æ‹©æ‰§è¡Œå™¨</span>
    <span class="hljs-keyword">var</span> requestStr, rawResp <span class="hljs-type">string</span>
    <span class="hljs-keyword">if</span> t.plugin.Source != <span class="hljs-literal">nil</span> &amp;&amp; *t.plugin.Source == bot_common.PluginFrom_FromSaas {
        <span class="hljs-comment">// SaaS æ’ä»¶ï¼šä½¿ç”¨ SaaS è°ƒç”¨å®ç°</span>
        requestStr, rawResp, err = tool.NewSaasCallImpl().Do(ctx, invocation)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// ğŸ”‘ æ™®é€šæ’ä»¶ï¼šæ ¹æ®æ’ä»¶ç±»å‹é€‰æ‹©æ‰§è¡Œå™¨ï¼ˆHTTP/MCP/Customï¼‰</span>
        requestStr, rawResp, err = newToolInvocation(t).Do(ctx, invocation)
    }
    
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    
    <span class="hljs-comment">// 5. å¤„ç†ç©ºå“åº”</span>
    <span class="hljs-keyword">const</span> defaultResp = <span class="hljs-string">"{}"</span>
    <span class="hljs-keyword">if</span> rawResp == <span class="hljs-string">""</span> {
        <span class="hljs-keyword">return</span> &amp;ExecuteResponse{
            Request:     requestStr,
            TrimmedResp: defaultResp,
            RawResp:     defaultResp,
        }, <span class="hljs-literal">nil</span>
    }
    
    <span class="hljs-comment">// 6. ğŸ”‘ å¤„ç†å“åº”ï¼ˆæ ¹æ® Schema è£å‰ªï¼Œåªè¿”å› LLM éœ€è¦çš„å­—æ®µï¼‰</span>
    trimmedResp, err := t.processResponse(ctx, rawResp)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    <span class="hljs-keyword">if</span> trimmedResp == <span class="hljs-string">""</span> {
        trimmedResp = defaultResp
    }
    
    <span class="hljs-keyword">return</span> &amp;ExecuteResponse{
        Request:     requestStr,     <span class="hljs-comment">// è¯·æ±‚å­—ç¬¦ä¸²ï¼ˆç”¨äºæ—¥å¿—ï¼‰</span>
        TrimmedResp: trimmedResp,    <span class="hljs-comment">// è£å‰ªåçš„å“åº”ï¼ˆæ ¹æ® Schemaï¼‰</span>
        RawResp:     rawResp,        <span class="hljs-comment">// åŸå§‹å“åº”</span>
    }, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><strong>InvocationArgs æ„å»º</strong>ï¼šåŒ…å«å‚æ•°åˆ†ç»„ã€å…¬å…±å‚æ•°æ³¨å…¥ã€é»˜è®¤å€¼å¤„ç†ã€å˜é‡å¼•ç”¨ç­‰</li>
<li><strong>æ–‡ä»¶ URI è½¬æ¢</strong>ï¼šéè°ƒè¯•åœºæ™¯ä¸‹ï¼Œå°†æ–‡ä»¶ URI è½¬æ¢ä¸ºå¯è®¿é—®çš„ OSS URL</li>
<li><strong>æ‰§è¡Œå™¨è·¯ç”±</strong>ï¼šSaaS æ’ä»¶ä½¿ç”¨ <code>SaasCallImpl</code>ï¼Œæ™®é€šæ’ä»¶æ ¹æ®ç±»å‹ä½¿ç”¨ <code>newToolInvocation()</code> è·¯ç”±</li>
<li><strong>å“åº”å¤„ç†</strong>ï¼šæ ¹æ®å“åº” Schema è£å‰ªï¼Œåªè¿”å› LLM éœ€è¦çš„å­—æ®µ</li>
</ul>
<h5 data-id="heading-46">5. newToolInvocationï¼ˆæ ¹æ®æ’ä»¶ç±»å‹é€‰æ‹©æ‰§è¡Œå™¨ï¼‰</h5>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/plugin/service/exec_tool.go:597</code></p>
<p>è·¯ç”±é€»è¾‘ï¼Œæ ¹æ®æ’ä»¶ç±»å‹å®ä¾‹åŒ–å¯¹åº”çš„æ‰§è¡Œå™¨ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">newToolInvocation</span><span class="hljs-params">(t *toolExecutor)</span></span> tool.Invocation {
    <span class="hljs-keyword">switch</span> t.plugin.Manifest.API.Type {
    <span class="hljs-keyword">case</span> consts.PluginTypeOfCloud:
        <span class="hljs-comment">// HTTP æ’ä»¶ï¼šä½¿ç”¨ HTTP è°ƒç”¨å®ç°</span>
        <span class="hljs-keyword">return</span> tool.NewHttpCallImpl(t.conversationID)
    <span class="hljs-keyword">case</span> consts.PluginTypeOfMCP:
        <span class="hljs-comment">// MCP æ’ä»¶ï¼šä½¿ç”¨ MCP è°ƒç”¨å®ç°ï¼ˆå®˜æ–¹æœªå®ç°ï¼Œæˆ‘ä»¬å·²å®ç°ï¼‰</span>
        <span class="hljs-keyword">return</span> tool.NewMcpCallImpl()
    <span class="hljs-keyword">case</span> consts.PluginTypeOfCustom:
        <span class="hljs-comment">// è‡ªå®šä¹‰æ’ä»¶ï¼šä½¿ç”¨è‡ªå®šä¹‰è°ƒç”¨å®ç°</span>
        <span class="hljs-keyword">return</span> tool.NewCustomCallImpl()
    <span class="hljs-keyword">default</span>:
        <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ HTTP è°ƒç”¨</span>
        <span class="hljs-keyword">return</span> tool.NewHttpCallImpl(t.conversationID)
    }
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><strong>è·¯ç”±æœºåˆ¶</strong>ï¼šæ ¹æ® <code>plugin.Manifest.API.Type</code> é€‰æ‹©å¯¹åº”çš„æ‰§è¡Œå™¨</li>
<li><strong>ä¸‰ç§æ’ä»¶ç±»å‹</strong>ï¼šHTTPï¼ˆOpenAPIï¼‰ã€MCPã€Custom</li>
<li><strong>æ‰©å±•æ€§</strong>ï¼šæ–°å¢æ’ä»¶ç±»å‹åªéœ€å®ç° <code>tool.Invocation</code> æ¥å£ï¼Œå¹¶åœ¨æ­¤å¤„æ·»åŠ è·¯ç”±</li>
</ul>
<p>è¿™é‡Œä¼šå®ä¾‹åŒ–æœ€å¼€å§‹ä»‹ç»çš„æ’ä»¶ç±»å‹ï¼ˆHTTPã€MCPã€è‡ªå®šä¹‰ï¼‰ã€‚å®˜æ–¹ MCP è¿˜æœªå®ç°ï¼Œæˆ‘ä»¬å·²å®ç°ï¼Œå°†åœ¨ä¸‹ä¸€ç¯‡ä»‹ç»ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œæ’ä»¶çš„æ ¸å¿ƒæµç¨‹å·²ä»‹ç»å®Œæ¯•ã€‚ä¸‹ä¸€å°èŠ‚æˆ‘ä»¬ç®€è¦ä»‹ç»ä¸€ä¸‹ HTTP æ’ä»¶çš„å®ç°ï¼Œä¾¿äºåç»­å®ç°è‡ªå®šä¹‰æ’ä»¶ã€‚</p>
<h3 data-id="heading-47">4.4 HTTP æ’ä»¶æ‰§è¡Œæµç¨‹</h3>
<h4 data-id="heading-48">4.4.1 HTTP æ‰§è¡Œå™¨ä¸»æµç¨‹</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3e4aaf8c4bd423a83cf6309829253c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765634928&amp;x-signature=%2BqmcPLzJkL0%2Fd%2Foge7Uxup9oJkM%3D" alt="image-20251206195204811" loading="lazy"/></p>
<p>è‡ªå®šä¹‰ã€MCPã€HTTP éƒ½æ˜¯å®ç°çš„ <code>Invocation</code> æ¥å£ï¼Œå¦‚éœ€å®ç°å…¶å®ƒæ’ä»¶ï¼Œå¯å‚è€ƒå…¶ä¸­ä¸€ä¸ªå®ç°å³å¯ï¼Œè¿™é‡Œä»¥ HTTP æ¥è¿›è¡Œä¸¾ä¾‹ã€‚</p>
<p>HTTP æ’ä»¶é€šè¿‡ <code>tool.NewHttpCallImpl()</code> æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[æ„å»º HTTP è¯·æ±‚] --&gt; B[æ³¨å…¥è®¤è¯ä¿¡æ¯]
    B --&gt; C{éœ€è¦ OAuth?}
    C --&gt;|æ˜¯| D{Token æœ‰æ•ˆ?}
    D --&gt;|å¦| E[è¿”å›ä¸­æ–­é”™è¯¯]
    D --&gt;|æ˜¯| F[æ³¨å…¥ Access Token]
    C --&gt;|å¦| G[å‘é€ HTTP è¯·æ±‚]
    F --&gt; G
    G --&gt; H{çŠ¶æ€ç  200?}
    H --&gt;|å¦| I[è¿”å›é”™è¯¯]
    H --&gt;|æ˜¯| J[è¿”å›å“åº”]
</code></pre>
<p>ä»£ç ä½ç½®ï¼š<code>backend/domain/plugin/service/tool/invocation_http.go</code></p>
<h4 data-id="heading-49">4.4.2 HTTP æ‰§è¡Œå™¨ Do æ–¹æ³•å®ç°</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(h *httpCallImpl)</span></span> Do(ctx context.Context, args *InvocationArgs) (request <span class="hljs-type">string</span>, resp <span class="hljs-type">string</span>, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. æ„å»º HTTP è¯·æ±‚ï¼ˆURLã€Headerã€Bodyï¼‰</span>
    httpReq, err := h.buildHTTPRequest(ctx, args)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, err
    }
    
    <span class="hljs-comment">// 2. æ³¨å…¥è®¤è¯ä¿¡æ¯ï¼ˆOAuthã€Service Token ç­‰ï¼‰</span>
    errMsg, err := h.injectAuthInfo(ctx, httpReq, args)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, err
    }
    
    <span class="hljs-comment">// 3. å¦‚æœè¿”å›é”™è¯¯æ¶ˆæ¯ï¼Œè¯´æ˜éœ€è¦ OAuth æˆæƒ</span>
    <span class="hljs-keyword">if</span> errMsg != <span class="hljs-string">""</span> {
        <span class="hljs-comment">// åˆ›å»ºä¸­æ–­äº‹ä»¶ï¼Œé€šçŸ¥è°ƒç”¨æ–¹éœ€è¦ç”¨æˆ·æˆæƒ</span>
        event := &amp;model.ToolInterruptEvent{
            Event: pluginConsts.InterruptEventTypeOfToolNeedOAuth,
            ToolNeedOAuth: &amp;model.ToolNeedOAuthInterruptEvent{
                Message: errMsg,  <span class="hljs-comment">// åŒ…å«æˆæƒ URL çš„é”™è¯¯æ¶ˆæ¯</span>
            },
        }
        <span class="hljs-comment">// è¿”å›ä¸­æ–­é”™è¯¯ï¼ŒWorkflow å¼•æ“ä¼šæš‚åœæ‰§è¡Œå¹¶ç­‰å¾…æˆæƒ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, compose.NewInterruptAndRerunErr(event)
    }
    
    <span class="hljs-comment">// 4. è¯»å–è¯·æ±‚ä½“ï¼ˆç”¨äºåºåˆ—åŒ–ï¼‰</span>
    <span class="hljs-keyword">var</span> reqBodyBytes []<span class="hljs-type">byte</span>
    <span class="hljs-keyword">if</span> httpReq.GetBody != <span class="hljs-literal">nil</span> {
        reqBody, err := httpReq.GetBody()
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, err
        }
        <span class="hljs-keyword">defer</span> reqBody.Close()
        reqBodyBytes, err = io.ReadAll(reqBody)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, err
        }
    }
    
    <span class="hljs-comment">// 5. åºåˆ—åŒ–è¯·æ±‚ï¼ˆç”¨äºæ—¥å¿—å’Œè¿”å›ç»™è°ƒç”¨æ–¹ï¼‰</span>
    requestStr, err := genRequestString(httpReq, reqBodyBytes)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, err
    }
    
    <span class="hljs-comment">// 6. ä½¿ç”¨ resty å‘é€ HTTP è¯·æ±‚</span>
    restyReq := defaultHttpCli.NewRequest()
    restyReq.Header = httpReq.Header
    restyReq.Method = httpReq.Method
    restyReq.URL = httpReq.URL.String()
    <span class="hljs-keyword">if</span> reqBodyBytes != <span class="hljs-literal">nil</span> {
        restyReq.SetBody(reqBodyBytes)
    }
    restyReq.SetContext(ctx)
    
    logs.CtxDebugf(ctx, <span class="hljs-string">"[execute] url=%s, header=%s, method=%s, body=%s"</span>,
        restyReq.URL, restyReq.Header, restyReq.Method, restyReq.Body)
    
    httpResp, err := restyReq.Send()
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, errorx.New(errno.ErrPluginExecuteToolFailed, 
            errorx.KVf(errno.PluginMsgKey, <span class="hljs-string">"http request failed, err=%s"</span>, err))
    }
    
    logs.CtxDebugf(ctx, <span class="hljs-string">"[execute] status=%s, response=%s"</span>, httpResp.Status(), httpResp.String())
    
    <span class="hljs-comment">// 7. æ£€æŸ¥ HTTP çŠ¶æ€ç </span>
    <span class="hljs-keyword">if</span> httpResp.StatusCode() != http.StatusOK {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, errorx.New(errno.ErrPluginExecuteToolFailed,
            errorx.KVf(errno.PluginMsgKey, <span class="hljs-string">"http request failed, status=%s\nresp=%s"</span>, 
                httpResp.Status(), httpResp.String()))
    }
    
    <span class="hljs-comment">// 8. è¿”å›è¯·æ±‚å­—ç¬¦ä¸²å’Œå“åº”å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">return</span> requestStr, httpResp.String(), <span class="hljs-literal">nil</span>
}
</code></pre>
<p>HTTP æ’ä»¶æ ¸å¿ƒæµç¨‹éƒ½åœ¨ä¸Šé¢çš„ Do å‡½æ•°ä¸­ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥ç›´æ¥çœ‹ <code>coze-studio/backend/domain/plugin/service/tool/invocation_http.go</code> æºç ã€‚</p>
<h3 data-id="heading-50">æ€»ç»“</h3>
<p>æœ¬æ–‡è¯¦ç»†åˆ†æäº† coze-studio åç«¯æ’ä»¶çš„åŠ è½½æµç¨‹å’Œæ‰§è¡Œæµç¨‹ï¼Œä» HTTP API è¯·æ±‚åˆ° SSE å“åº”çš„å®Œæ•´é“¾è·¯ï¼Œä¸ºåç»­äºŒæ¬¡å¼€å‘å¥ å®šäº†åŸºç¡€ã€‚</p>
<p>ä¸‹ä¸€ç¯‡æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»åŸºäº coze-studio æ¥æ”¯æŒ mcp åè®®ï¼Œè®© coze-studio çš„åŠŸèƒ½æ›´åŠ å®Œå–„</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç»™ä½ çš„AIç¼–è¾‘å™¨æ’ä¸Šç¿…è†€ï¼æ¥å…¥æœ€å¼ºä¸Šä¸‹æ–‡å¼•æ“ - ACE(Augment Context Engine)]]></title>    <link>https://juejin.cn/post/7580329353352986670</link>    <guid>https://juejin.cn/post/7580329353352986670</guid>    <pubDate>2025-12-06T14:26:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580329353352986670" data-draft-id="7580310413754187826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç»™ä½ çš„AIç¼–è¾‘å™¨æ’ä¸Šç¿…è†€ï¼æ¥å…¥æœ€å¼ºä¸Šä¸‹æ–‡å¼•æ“ - ACE(Augment Context Engine)"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Claude,Cursor"/> <meta itemprop="datePublished" content="2025-12-06T14:26:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå®¢å¯†ç "/> <meta itemprop="url" content="https://juejin.cn/user/976022055165608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç»™ä½ çš„AIç¼–è¾‘å™¨æ’ä¸Šç¿…è†€ï¼æ¥å…¥æœ€å¼ºä¸Šä¸‹æ–‡å¼•æ“ - ACE(Augment Context Engine)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022055165608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå®¢å¯†ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:26:20.000Z" title="Sat Dec 06 2025 14:26:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¥½æ¶ˆæ¯(å–œå¤§å¥”æ™®)ï¼</p>
<p>Augment æŠŠè‡ªå®¶å¼•ä»¥ä¸ºå‚²çš„ <code>Context Engine</code> å¼€æ”¾ä¸º <code>MCP</code> æœåŠ¡äº†ï¼</p>
<p>ç®€å•ä»‹ç»ä¸‹ACE(Augment Context Engine)</p>
<blockquote>
<p>ACE æ˜¯ä¸–ç•Œé¢†å…ˆçš„ä»£ç åº“ç†è§£å¼•æ“ï¼Œæ˜¯ä¸šç•Œæœ€å¼ºå¤§çš„ä»£ç åº“ä¸Šä¸‹æ–‡å¼•æ“ï¼Œé‡‡ç”¨ä¸“æœ‰çš„æ£€ç´¢å’ŒåµŒå…¥æ¨¡å‹å¥—ä»¶ï¼Œèƒ½å¤Ÿå®ç°æœ€é«˜è´¨é‡çš„ç›¸å…³ä»£ç ç‰‡æ®µå¬å›ã€‚å®ƒç»´æŠ¤ä»£ç åº“çš„å®æ—¶ç´¢å¼•ï¼Œç¡®ä¿ç»“æœå§‹ç»ˆåæ˜ å½“å‰çŠ¶æ€ï¼Œæ”¯æŒè·¨ç¼–ç¨‹è¯­è¨€æ£€ç´¢ã€‚</p>
<p>è¿™ä¸ªå¼•æ“çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºæ·±åº¦ç†è§£ä»£ç åº“ç»“æ„å’Œè¯­ä¹‰å…³ç³»ã€‚æ— è®ºä½ çš„é¡¹ç›®æœ‰å¤šå¤§å¤šå¤æ‚ï¼Œå®ƒéƒ½èƒ½ç¬é—´å®šä½åˆ°ç›¸å…³ä»£ç ã€ç†è§£åŠŸèƒ½å®ç°é€»è¾‘ï¼Œç”šè‡³è¿½è¸ªä»å‰ç«¯åˆ°åç«¯å†åˆ°æ•°æ®åº“çš„å®Œæ•´è°ƒç”¨é“¾ã€‚å¼€å‘è€…å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æé—®"è¿™ä¸ªåŠŸèƒ½åœ¨å“ªé‡Œå®ç°ï¼Ÿ"ï¼Œå¼•æ“å°±èƒ½ç²¾å‡†æ‰¾åˆ°å‰ç«¯ä»£ç ã€åç«¯é€»è¾‘å’Œ SQL è¿ç§»æ–‡ä»¶ã€‚</p>
</blockquote>
<p>æˆªæ­¢å‘æ–‡å‰ï¼Œå·²æ”¯æŒä¸»æµçš„ AI å·¥å…·è¿›è¡Œé›†æˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/421b348e96cf43ee883f27d215409d1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=CaKNz48NMua8f%2B9WqPOo4jMx0L0%3D" alt="æ”¯æŒå·¥å…·" loading="lazy"/></p>
<p>ç›®å‰ä¹Ÿæ˜¯å¼€æ”¾å…è´¹ä½¿ç”¨ï¼Œä¸æ¶ˆè€— augment è´¦å·è‡ªèº«é¢åº¦çš„ç§¯åˆ†</p>
<p>ä½†æ˜¯ï¼ä½†æ˜¯ï¼ä½†æ˜¯ï¼</p>
<p>éœ€è¦ç”¨åˆ°çš„æ˜¯è®¢é˜…æˆ–è€…è¯•ç”¨è´¦æˆ·ï¼ˆè¿™ä¸ªç®€å•ï¼Œ å°é»„é±¼ä¸Šå¤§æ¦‚ 5 å·¦å³å¯ä»¥ä¹°åˆ°ä¸€ä¸ªæœˆçš„ï¼‰</p>
<p>æ™®é€šå·æˆ‘å·²ç»æ›¿å¤§å®¶è¯•è¿‡äº†ï¼Œæ²¡åŠæ³•å»ºç«‹ç´¢å¼•ï¼</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ Claude Code ä¸ºä¾‹ï¼Œï¼ˆåæ–‡ç®€ç§° CCï¼‰ æ¼”ç¤ºå¦‚ä½•æ¥å…¥å¹¶ä½¿ç”¨</p>
<h2 data-id="heading-1">å®‰è£…é…ç½® Auggie</h2>
<p>å…ˆå®‰è£… Auggie CLI</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g @augmentcode/auggie@prerelease
</code></pre>
<p>ç™»å½• Augment</p>
<pre><code class="hljs">auggie login
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/306e5c9a23e5460788a8f2299e8f1f57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=tgHU%2BAxBOPVk5T%2F4M7AHFbcPEdU%3D" alt="ç™»å½• Augment" loading="lazy"/></p>
<p>ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œä½¿ç”¨ augment è´¦å·æ­£å¸¸ç™»å½•å³å¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60106b4a10024cb1a256e4123255a320~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=UP0vB2G2TtoljzGwydizeFjJmGE%3D" alt="ç™»å½•æˆåŠŸ" loading="lazy"/></p>
<p>ç™»å½•æˆåŠŸåå¤åˆ¶è¿™ä¸² jsonï¼Œç²˜è´´åˆ°æ§åˆ¶å°åå›è½¦ï¼Œç™»å½•æˆåŠŸ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2de2147cc66a4311b94a7622b9a85fb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=ldHaKYQOVZrrMrNxEfIUMhidpac%3D" alt="ç²˜è´´åå›è½¦" loading="lazy"/></p>
<p>å›è½¦ï¼Œå¼€å§‹å»ºç«‹å½“å‰é¡¹ç›®ç´¢å¼•</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18dfcae8959c4b0fac027af3ee3cafc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=ti%2FVC99S2nBBhbuZ%2B8Q2f7qMtAE%3D" alt="ç´¢å¼•å»ºç«‹æˆåŠŸ" loading="lazy"/></p>
<p>é€‰ <code>Y</code> å›è½¦ï¼Œå¼€å§‹å»ºç«‹ç´¢å¼•ï¼ŒæˆåŠŸåä¼šæ˜¾ç¤º <code>Indexing complete</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32dea237a0434932942ef63bcb21b715~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=19YxdfKlRc2wZV4UU%2FoHrL0Qbe0%3D" alt="è¿›å…¥ Auggie" loading="lazy"/></p>
<h2 data-id="heading-2">é…ç½® mcp</h2>
<p>åœ¨ CC ä¸­é…ç½® mcp æœåŠ¡å™¨</p>
<pre><code class="hljs language-bash" lang="bash">claude mcp add-json auggie-mcp <span class="hljs-string">'{"type":"stdio","command":"auggie","args":["--mcp"]}'</span>
</code></pre>
<p>æ³¨æ„è¿™ä¸ªé»˜è®¤æ˜¯é¡¹ç›®çº§çš„ mcp é…ç½®ï¼Œä»…å¯¹å½“å‰é¡¹ç›®ç”Ÿæ•ˆã€‚å¦‚æœæ‚¨æƒ³é…ç½®ä¸ºå…¨å±€çš„ mcp æœåŠ¡ï¼Œè¯·åœ¨ä¸Šè¿°å‘½ä»¤åé¢æ·»åŠ  <code>--scope user</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47e365e8db5a4a46a7f9b36281461cd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=jrOK1z98wJa9BiSGWuI2NPb8s1w%3D" alt="2025-12-03-10-33-57" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥è¿è¡Œ <code>claude</code>ï¼Œè¾“å…¥ <code>/mcp</code> æŒ‡ä»¤æŸ¥çœ‹ mcp æœåŠ¡å™¨æ˜¯å¦é…ç½®æˆåŠŸ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91d8786c6719414d90e8916117099b64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=SemBbDp%2FoGvTCdlXO7EfrDtqP1g%3D" alt=" æŸ¥çœ‹ mcp æœåŠ¡çŠ¶æ€" loading="lazy"/></p>
<p>çœ‹çœ‹ cc èƒ½ä¸èƒ½è®¿é—®åˆ° mcp</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/942aa23eae714d13ac486e362901162e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=TL1wycnpXEioqZck7l5MNtkkAmU%3D" alt="æŸ¥çœ‹ mcp åœ¨å¯¹è¯ä¸­çš„è®¿é—®çŠ¶æ€" loading="lazy"/></p>
<p>ç”¨ mcp è¿›è¡ŒæŸ¥è¯¢</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84c22727f0154668a4dce62dacedf428~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765635980&amp;x-signature=YZKRaaBsaH4zRoSq%2Fmwk8I%2B3pYE%3D" alt="ä½¿ç”¨ mcp è¿›è¡Œæ£€ç´¢æŸ¥è¯¢" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ <code>~/.claude/CLAUDE.md</code> è¿½åŠ ä¸€æ¡å…¨å±€æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">é»˜è®¤ä½¿ç”¨ <span class="hljs-string">"auggie-mcp"</span> å·¥å…·è¿›è¡Œä»£ç æ£€ç´¢
</code></pre>
<p>è¿™æ ·ï¼Œä½ åªç®¡æ­£å¸¸å¯¹è¯å³å¯ï¼Œcc ä¼šé»˜è®¤é€šè¿‡ auggie-mcp å»è¿›è¡Œä»£ç æ£€ç´¢</p>
<p>å®Œäº‹å„¿ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vxe-gantt ç”˜ç‰¹å›¾å®ç°äº§å“è¿›åº¦åˆ—è¡¨ï¼Œè‡ªå®šä¹‰ä»»åŠ¡æ¡æ ·å¼å’Œæç¤ºä¿¡æ¯]]></title>    <link>https://juejin.cn/post/7580270531470573614</link>    <guid>https://juejin.cn/post/7580270531470573614</guid>    <pubDate>2025-12-06T14:32:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580270531470573614" data-draft-id="7580270531470557230" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vxe-gantt ç”˜ç‰¹å›¾å®ç°äº§å“è¿›åº¦åˆ—è¡¨ï¼Œè‡ªå®šä¹‰ä»»åŠ¡æ¡æ ·å¼å’Œæç¤ºä¿¡æ¯"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-06T14:32:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·84179481456"/> <meta itemprop="url" content="https://juejin.cn/user/3921272428567529"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vxe-gantt ç”˜ç‰¹å›¾å®ç°äº§å“è¿›åº¦åˆ—è¡¨ï¼Œè‡ªå®šä¹‰ä»»åŠ¡æ¡æ ·å¼å’Œæç¤ºä¿¡æ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3921272428567529/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·84179481456
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:32:54.000Z" title="Sat Dec 06 2025 14:32:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>vxe-gantt ç”˜ç‰¹å›¾å®ç°äº§å“è¿›åº¦åˆ—è¡¨ï¼Œè‡ªå®šä¹‰ä»»åŠ¡æ¡æ ·å¼å’Œæç¤ºä¿¡æ¯</p>
<p>æŸ¥çœ‹å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgantt.vxeui.com%2F" target="_blank" title="https://gantt.vxeui.com/" ref="nofollow noopener noreferrer">gantt.vxeui.com/</a><br/>
gitbubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fx-extends%2Fvxe-gantt" target="_blank" title="https://github.com/x-extends/vxe-gantt" ref="nofollow noopener noreferrer">github.com/x-extends/vâ€¦</a><br/>
giteeï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fx-extends%2Fvxe-gantt" target="_blank" title="https://gitee.com/x-extends/vxe-gantt" ref="nofollow noopener noreferrer">gitee.com/x-extends/vâ€¦</a></p>
<h2 data-id="heading-0">æ•ˆæœ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e67087f4f19f4cfeac88be280b6615e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODQxNzk0ODE0NTY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765636373&amp;x-signature=eDZzr9d%2BxOltux7XzV7fs99PqfE%3D" alt="image" loading="lazy"/></p>
<h2 data-id="heading-1">ä»£ç </h2>
<p>é€šè¿‡ task-view-config.viewStyle.cellStyle è®¾ç½®ä»»åŠ¡è§†å›¾å•å…ƒæ ¼æ ·å¼ï¼Œä½¿ç”¨ taskBarã€taskBarTooltip æ’æ§½æ¥è‡ªå®šä¹‰æ¨¡æ¿</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-gantt</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"ganttOptions"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">task-bar</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-task-bar"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ backgroundColor: row.bgColor }"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"custom-task-bar-img"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">vxe-image</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"row.imgUrl"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"60"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"60"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-image</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ row.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å¼€å§‹æ—¥æœŸï¼š{{ row.start }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ç»“æŸæ—¥æœŸï¼š{{ row.end }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è¿›åº¦ï¼š{{ row.progress }}%<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">task-bar-tooltip</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ä»»åŠ¡åç§°ï¼š{{ row.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å¼€å§‹æ—¶é—´ï¼š{{ row.start }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ç»“æŸæ—¶é—´ï¼š{{ row.end }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è¿›åº¦ï¼š{{ row.progress }}%<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">vxe-gantt</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> ganttOptions = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">border</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>,
  <span class="hljs-attr">cellConfig</span>: {
    <span class="hljs-attr">height</span>: <span class="hljs-number">100</span>
  },
  <span class="hljs-attr">taskViewConfig</span>: {
    <span class="hljs-attr">tableStyle</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-number">380</span>
    },
    <span class="hljs-attr">showNowLine</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">scales</span>: [
      { <span class="hljs-attr">type</span>: <span class="hljs-string">'month'</span> },
      {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'day'</span>,
        headerCellStyle ({ dateObj }) {
          <span class="hljs-comment">// å‘¨æ—¥é«˜äº®</span>
          <span class="hljs-keyword">if</span> (dateObj.<span class="hljs-property">e</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> {
              <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#f9f0f0'</span>
            }
          }
          <span class="hljs-keyword">return</span> {}
        }
      },
      {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'date'</span>,
        headerCellStyle ({ dateObj }) {
          <span class="hljs-comment">// å‘¨æ—¥é«˜äº®</span>
          <span class="hljs-keyword">if</span> (dateObj.<span class="hljs-property">e</span> === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> {
              <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#f9f0f0'</span>
            }
          }
          <span class="hljs-keyword">return</span> {}
        }
      }
    ],
    <span class="hljs-attr">viewStyle</span>: {
      cellStyle ({ dateObj }) {
        <span class="hljs-comment">// å‘¨æ—¥é«˜äº®</span>
        <span class="hljs-keyword">if</span> (dateObj.<span class="hljs-property">e</span> === <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#f9f0f0'</span>
          }
        }
        <span class="hljs-keyword">return</span> {}
      }
    }
  },
  <span class="hljs-attr">taskBarConfig</span>: {
    <span class="hljs-attr">showTooltip</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">barStyle</span>: {
      <span class="hljs-attr">round</span>: <span class="hljs-literal">true</span>
    }
  },
  <span class="hljs-attr">columns</span>: [
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'title'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡åç§°'</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'start'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å¼€å§‹æ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'end'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ç»“æŸæ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> }
  ],
  <span class="hljs-attr">data</span>: [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡1'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-10'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#c1c452'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product9.png'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡2'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-12'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#fd9393'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product8.png'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10003</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡3'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-10'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-21'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">25</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#92c1f1'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product1.png'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡4'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-24'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">70</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#fad06c'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product3.png'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡5'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-20'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-04-05'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#e78dd2'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product11.png'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10006</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡6'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-22'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-29'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">38</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#8be1e6'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product7.png'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10007</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡7'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-28'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-04-04'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">24</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#78e6d1'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product5.png'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10008</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡8'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-04-05'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-04-18'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">65</span>, <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#edb695'</span>, <span class="hljs-attr">imgUrl</span>: <span class="hljs-string">'https://vxeui.com/resource/productImg/product4.png'</span> }
  ]
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.custom-task-bar</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: row;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;
}
<span class="hljs-selector-class">.custom-task-bar-img</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: row;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">70px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">70px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fx-extends%2Fvxe-gantt" target="_blank" title="https://gitee.com/x-extends/vxe-gantt" ref="nofollow noopener noreferrer">gitee.com/x-extends/vâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Virtual World 03ã€‘ä¸Šå¸ä¹‹æ‰‹]]></title>    <link>https://juejin.cn/post/7580287891273580607</link>    <guid>https://juejin.cn/post/7580287891273580607</guid>    <pubDate>2025-12-06T14:58:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580287891273580607" data-draft-id="7579256547788816425" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Virtual World 03ã€‘ä¸Šå¸ä¹‹æ‰‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-06T14:58:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ€ªv"/> <meta itemprop="url" content="https://juejin.cn/user/4391901700043284"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Virtual World 03ã€‘ä¸Šå¸ä¹‹æ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4391901700043284/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ€ªv
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T14:58:51.000Z" title="Sat Dec 06 2025 14:58:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯<strong>çº¯å‰ç«¯æ‰‹æ“è™šæ‹Ÿä¸–ç•Œ</strong>ç¬¬ä¸‰ç¯‡ã€‚</p>
<p>å°å°æŠ±æ€¨ä¸€ä¸‹ï¼Œæ„Ÿè§‰æ²¡å•¥äººå…³æ³¨è¿™ç§å“‡ã€‚</p>
<p>æ‚²ä¼¤~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5143034a1d784814b270fd5a8623c105~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5oCqdg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765637930&amp;x-signature=txUC07TRLWNSP0Brcn7BqZ1HALY%3D" alt="a4.jpg" loading="lazy"/></p>
<p>æœ¬æœŸä»£ç é‡è¶…æ ‡ï¼ï¼æ…é‡ï¼</p>
<h2 data-id="heading-0">gogogo!</h2>
<p>æ¬¸ï¼Œæœ‹å‹ï¼Œæˆ‘ä»¬å·²ç»åœ¨å‰é¢æ„å»ºäº†ç‚¹ï¼ˆPoint2Dï¼‰å’Œçº¿ï¼ˆSegmentï¼‰è¿™ä¸¤ä¸ªç±»äº†å˜›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cba95994aefb44f388348be6eeb20369~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5oCqdg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765637930&amp;x-signature=Mxd5BzrsSy6jcKVPfTd3BWd1FpM%3D" alt="image.png" loading="lazy"/></p>
<p>å’³å’³~è¿™ä¸¤å¤©çœ‹<strong>æ–°ç–†é£å‘³è§†é¢‘</strong>æœ‰ç‚¹å¤šäº†ã€‚è„‘å­é‡Œå¤§æ¦‚æ¨¡ä»¿äº†ä¸‹ã€‚</p>
<p>å›å½’æ­£é¢˜ï¼Œåœ¨å‰ä¸¤ç¯‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ª<strong>åˆ†å½¢æ ‘</strong>è¿˜æœ‰ä¸€ä¸ª<strong>å–·ç»˜æ•ˆæœ</strong>ã€‚ä½†é‚£äº›ç©æ„ï¼Œä»è‰ºæœ¯è§’åº¦æ¥è¯´å°±å¾ˆç©ºæ´ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ<strong>å› ä¸ºå®ƒæ— æ³•äº¤äº’ï¼Œå…‰çœ‹ä¸èƒ½æ‘¸</strong></p>
<p>ä¸€ä¸ªçœŸæ­£çš„è™šæ‹Ÿä¸–ç•Œï¼Œæ²¡æœ‰â€œä¸Šå¸â€ï¼Œé‚£æ˜¯ä¸å®Œç¾çš„ã€‚æœ¬ç¯‡è¦è§£å†³çš„ï¼Œå°±æ˜¯ç»™è¿™ä¸ªè™šæ‹Ÿä¸–ç•Œè£…ä¸Šâ€œä¸Šå¸ä¹‹æ‰‹â€ï¼Œè€Œè¿™ä¸ªä¸Šå¸ä¹‹æ‰‹çš„è¿æ¥çº¿ï¼Œå°±æ˜¯é¼ æ ‡ã€‚è¿™æ ·ï¼Œå°±èƒ½ä»â€œçœ‹ç”»æ¨¡å¼â€è¿›åŒ–åˆ°â€œç¼–è¾‘æ¨¡å¼â€ã€‚</p>
<hr/>
<h2 data-id="heading-1">æˆ˜ç•¥æ€è€ƒ</h2>
<p>å¥½äº†ï¼Œæš‚åœä¸‹å¹ç‰›ï¼Œå…ˆæ€è€ƒä¸‹ï¼Œå¦‚æœæ˜¯é¼ æ ‡äº¤äº’ç›®å‰çš„è™šæ‹Ÿä¸–ç•Œï¼Œè¯¥æ€ä¹ˆå¼„ï¼Ÿï¼Ÿï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f01ead56aba48b9a450a591b06ec487~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5oCqdg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765637930&amp;x-signature=1rrg8i0i9EjyAxWu8pngjV3fnU0%3D" alt="98b9a8d586cc43f2a6248b86dab2de2b.gif" loading="lazy"/></p>
<p>æ€è€ƒå®Œæ¯•ï¼Œæˆ‘ç»™å‡ºæˆ‘çš„æ–¹æ¡ˆã€‚å†æ’¸ä¸€ä¸ªç±»**å›¾å½¢ç¼–è¾‘å™¨ï¼ˆGraph Editorï¼‰**ï¼Œæ€»ä½“å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æ•°æ®å®¹å™¨ï¼ˆgraphï¼‰</strong>ï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®¹å™¨ï¼Œä¸“é—¨ç®¡ç†æ‰€æœ‰çš„<code>Point</code>ï¼ˆç‚¹ï¼‰å’Œ<code>Segment</code>ï¼ˆçº¿æ®µï¼‰ã€‚ä¸èƒ½å†åƒç”»åˆ†å‹å›¾é‚£æ ·å†™æ­»åæ ‡äº†ã€‚</li>
<li><strong>äº¤äº’æ§åˆ¶å™¨ï¼ˆgraphEditorï¼‰</strong>ï¼šç›‘å¬é¼ æ ‡çš„ç‚¹å‡»(Left Click)ã€ç§»åŠ¨(Move)ã€å³é”®ï¼ˆRight Clickï¼‰ã€‚</li>
<li><strong>è§†è§‰äº¤äº’</strong>ï¼š
<ul>
<li>é¼ æ ‡æ‚¬åœåœ¨ç‚¹ä¸Šï¼Œç‚¹è¦å˜äº®ï¼ˆHover æ€ï¼‰ã€‚</li>
<li>é€‰ä¸­ä¸€ä¸ªç‚¹åï¼Œé¼ æ ‡ç§»åŠ¨è¦å¸¦å‡ºä¸€æ¡è™šçº¿ï¼ˆIntentionï¼Œæ„å›¾ï¼‰ã€‚</li>
<li>ç‚¹å‡»å³é”®ï¼Œå–æ¶ˆæ“ä½œæˆ–åˆ é™¤å…ƒç´ ã€‚</li>
</ul>
</li>
</ol>
<p>å—¯~è·Ÿä½ æƒ³çš„å·®ä¸å¤šå§ï¼Ÿ</p>
<h2 data-id="heading-2">æˆ˜æœ¯åˆ¶å®š</h2>
<p>å¥½äº†ï¼Œæ€è·¯æœ‰äº†ï¼Œå¼€å§‹å…·ä½“çš„ä»£ç å®ç°ã€‚</p>
<p>ä¸ºäº†ä»£ç çš„å¥å£®æ€§ï¼Œä¸èƒ½æŠŠä»£ç å…¨å †åœ¨ <code>index.js</code> é‡Œï¼Œä¸ç„¶åç»­ï¼Œå°±ä¼šå˜æˆå±å±±ï¼Œèº«ä¸ºä¸€ä¸ªæœ‰æŠ±è´Ÿçš„å‰ç«¯ä½¬ï¼Œæˆ‘ä»¬å¾—å…ˆæŠ½ä¸ªè±¡ã€‚</p>
<p>è¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong><code>Graph</code>ç±»</strong>ã€‚å®ƒåƒä¸€ä¸ªæ•°æ®åº“ï¼Œåªç®¡å­˜ç‚¹ã€å­˜çº¿ã€åŠ ã€åˆ ã€ç”»ã€‚</li>
<li><strong><code>GraphEditor</code>ç±»</strong>ã€‚å®ƒæ˜¯é€»è¾‘å¤§è„‘ï¼Œè´Ÿè´£å¤„ç†æ•´ä¸ªé¼ æ ‡äº‹ä»¶å’Œäº¤äº’ï¼Œåˆ¤æ–­â€œæˆ‘ç°åœ¨ç‚¹åˆ°äº†è°â€ã€‚</li>
<li><strong>æ„å»ºä¸€ä¸ªæ•°å­¦å·¥å…·</strong>ã€‚è®¡ç®—é¼ æ ‡é è¿‘å“ªä¸ªç‚¹ä»¥åŠè·ç¦»ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦é€‰ä¸­ï¼ˆä¹Ÿå°±æ˜¯é«˜ä¸­æ•°å­¦ï¼šä¸¤ç‚¹é—´è·ç¦»ï¼‰ã€‚</li>
<li><strong>é‡å†™ <code>World</code>ç±»</strong>ã€‚å¯ç”¨ <code>requestAnimationFrame</code> åŠ¨ç”»å¾ªç¯ï¼Œå› ä¸ºäº¤äº’æ˜¯å®æ—¶çš„ï¼Œè¦ç»˜åˆ¶çº¿çš„æ‹‰ä¼¸æ•ˆæœï¼Œç”»é¢éœ€è¦æ¯æ¬¡éƒ½å»æ›´æ–°ï¼Œç›®å‰å®šä¸ºæ¯ç§’åˆ·æ–° 60 æ¬¡ï¼Œåç»­ä¼šé‡ç‚¹è¯´æ˜è¿™ä¸ªã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">å…ˆä¸è§£é‡Šï¼Œä¸Šä»£ç ï¼</h2>
<h3 data-id="heading-4">æ•°æ®å®¹å™¨ï¼š<code>Graph</code></h3>
<p>åœ¨ <code>src</code> ä¸‹æ–°å»º <code>math</code> æ–‡ä»¶å¤¹ï¼Œåˆ›å»º <code>graph.js</code>ã€‚
å®ƒçš„èŒè´£éå¸¸å•çº¯ï¼š<strong>ç®¡æ•°æ®</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/math/graph.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Graph</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">points = [], segments = []</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">points</span> = points;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">segments</span> = segments;
  }

  <span class="hljs-comment">// æ·»åŠ ç‚¹</span>
  <span class="hljs-title function_">addPoint</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">points</span>.<span class="hljs-title function_">push</span>(point);
  }

  <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦å·²ç»æœ‰ç‚¹åœ¨è¿™ä¸ªä½ç½®äº†ï¼ˆé˜²æ­¢é‡å ç‚¹ï¼‰</span>
  <span class="hljs-title function_">containsPoint</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">points</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> p.<span class="hljs-title function_">equals</span>(point));
  }

  <span class="hljs-comment">// æ·»åŠ çº¿æ®µ</span>
  <span class="hljs-title function_">addSegment</span>(<span class="hljs-params">seg</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">segments</span>.<span class="hljs-title function_">push</span>(seg);
  }

  <span class="hljs-comment">// åˆ¤æ–­çº¿æ®µæ˜¯å¦å·²å­˜åœ¨</span>
  <span class="hljs-title function_">containsSegment</span>(<span class="hljs-params">seg</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">segments</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-title function_">equals</span>(seg));
  }

  <span class="hljs-comment">// å°è¯•æ·»åŠ ç‚¹ï¼ˆå»é‡ï¼‰</span>
  <span class="hljs-title function_">tryAddPoint</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">containsPoint</span>(point)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addPoint</span>(point);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-comment">// å°è¯•æ·»åŠ çº¿æ®µï¼ˆå»é‡ï¼‰</span>
  <span class="hljs-title function_">tryAddSegment</span>(<span class="hljs-params">seg</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">containsSegment</span>(seg)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addSegment</span>(seg);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-comment">// åˆ é™¤ç‚¹ï¼ˆéå¸¸é‡è¦ï¼šåˆ ç‚¹çš„æ—¶å€™ï¼Œè¿ç€è¿™ä¸ªç‚¹çš„çº¿ä¹Ÿè¦ä¸€èµ·åˆ æ‰ï¼ï¼‰</span>
  <span class="hljs-title function_">removePoint</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-comment">// 1. ä» points æ•°ç»„ç§»é™¤</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">points</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">points</span>.<span class="hljs-title function_">indexOf</span>(point), <span class="hljs-number">1</span>);
    <span class="hljs-comment">// 2. è¿‡æ»¤æ‰æ‰€æœ‰åŒ…å«è¿™ä¸ªç‚¹çš„çº¿æ®µ</span>
    <span class="hljs-keyword">const</span> segs = <span class="hljs-variable language_">this</span>.<span class="hljs-property">segments</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-title function_">includes</span>(point));
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> seg <span class="hljs-keyword">of</span> segs) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">removeSegment</span>(seg);
    }
  }

  <span class="hljs-comment">// åˆ é™¤çº¿</span>
  <span class="hljs-title function_">removeSegment</span>(<span class="hljs-params">seg</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">segments</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">segments</span>.<span class="hljs-title function_">indexOf</span>(seg), <span class="hljs-number">1</span>);
  }

  <span class="hljs-comment">// è¿™é‡Œçš„ draw åªæ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç†ï¼ŒæŠŠä»»åŠ¡åˆ†å‘ç»™å…·ä½“çš„å…ƒç´ </span>
  <span class="hljs-title function_">draw</span>(<span class="hljs-params">ctx</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> seg <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">segments</span>) {
      seg.<span class="hljs-title function_">draw</span>(ctx);
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> point <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">points</span>) {
      point.<span class="hljs-title function_">draw</span>(ctx);
    }
  }
}
</code></pre>
<blockquote>
<p><strong>è¡¥å……ä¿®æ”¹ï¼š</strong> æˆ‘ä»¬çš„ <code>Point</code> å’Œ <code>Segment</code> ç±»ä¹‹å‰æ¯”è¾ƒç®€å•ï¼Œä¸ºäº†æ”¯æŒä¸Šé¢çš„å»é‡å’Œåˆ é™¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>Point2D.js</code> å’Œ <code>Segment.js</code> åŠ ä¸¤ä¸ªå° æ–¹æ³•ï¼ˆä¸ç”¨é‡å†™ï¼ŒåŠ æ–¹æ³•å³å¯ï¼‰ã€‚</p>
</blockquote>
<p><strong>æ‰‹åŠ¨ç»™ <code>src/primitives/point2D.js</code> æ·»åŠ ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-comment">// åˆ¤æ–­ä¸¤ä¸ªç‚¹åæ ‡æ˜¯å¦ä¸€æ ·</span>
  <span class="hljs-title function_">equals</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> === point.<span class="hljs-property">x</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> === point.<span class="hljs-property">y</span>;
  }
</code></pre>
<p><strong>æ‰‹åŠ¨ç»™ <code>src/primitives/segment.js</code> æ·»åŠ ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-comment">// åˆ¤æ–­çº¿æ®µæ˜¯å¦åŒ…å«æŸä¸ªç‚¹</span>
  <span class="hljs-title function_">includes</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">p1</span>.<span class="hljs-title function_">equals</span>(point) || <span class="hljs-variable language_">this</span>.<span class="hljs-property">p2</span>.<span class="hljs-title function_">equals</span>(point);
  }
  
  <span class="hljs-comment">// åˆ¤æ–­ä¸¤æ¡çº¿æ˜¯å¦ä¸€æ ·ï¼ˆæ–¹å‘ä¸åŒä¹Ÿç®—åŒä¸€æ¡çº¿ï¼‰</span>
  <span class="hljs-title function_">equals</span>(<span class="hljs-params">seg</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">includes</span>(seg.<span class="hljs-property">p1</span>) &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">includes</span>(seg.<span class="hljs-property">p2</span>);
  }
</code></pre>
<hr/>
<h3 data-id="heading-5">äº¤äº’æ§åˆ¶å™¨ï¼š<code>GraphEditor</code></h3>
<p>è¿™æ˜¯ä»Šå¤©çš„é‡å¤´æˆã€‚åœ¨ <code>src</code> ä¸‹æ–°å»º <code>editors</code> æ–‡ä»¶å¤¹ï¼Œåˆ›å»º <code>graphEditor.js</code>ã€‚</p>
<p>é€»è¾‘æœ‰ç‚¹ç»•ï¼Œæˆ‘ç»™ä½ ç†ä¸€ä¸‹ï¼š</p>
<ol>
<li><strong>é¼ æ ‡ç§»åŠ¨ (Move)</strong> -&gt; æ£€æŸ¥é™„è¿‘æœ‰æ²¡æœ‰ç‚¹ -&gt; æœ‰å°±é«˜äº® (<code>hovered</code>)ã€‚</li>
<li><strong>é¼ æ ‡ç‚¹å‡» (Down)</strong> -&gt;
<ul>
<li><strong>å·¦é”®</strong>ï¼š
<ul>
<li>å¦‚æœç‚¹åœ¨ç©ºåœ° -&gt; åˆ›å»ºæ–°ç‚¹ã€‚</li>
<li>å¦‚æœä¹‹å‰é€‰ä¸­äº†ä¸€ä¸ªç‚¹ (<code>selected</code>) -&gt; è¿çº¿ã€‚</li>
<li>æœ€åæŠŠå½“å‰ç‚¹è®¾ä¸º <code>selected</code>ï¼ˆä½œä¸ºä¸‹ä¸€æ¬¡è¿çº¿çš„èµ·ç‚¹ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å³é”®</strong>ï¼š
<ul>
<li>å¦‚æœæ­£åœ¨è¿çº¿ï¼ˆæœ‰ <code>selected</code>ï¼‰ -&gt; å–æ¶ˆé€‰ä¸­ï¼ˆåœæ­¢è¿çº¿ï¼‰ã€‚</li>
<li>å¦‚æœæ²¡æœ‰è¿çº¿ï¼Œä½†é¼ æ ‡ä¸‹æœ‰ç‚¹ (<code>hovered</code>) -&gt; åˆ é™¤è¿™ä¸ªç‚¹ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/editors/graphEditor.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Point2D</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../primitives/point2D.js"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Segment</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../primitives/segment.js"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GraphEditor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">canvas, graph</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = canvas;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span> = graph;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);

    <span class="hljs-comment">// çŠ¶æ€æœº</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å½“å‰é€‰ä¸­çš„ç‚¹ï¼ˆç”¨äºè¿çº¿èµ·ç‚¹ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span> = <span class="hljs-literal">null</span>;  <span class="hljs-comment">// é¼ æ ‡æ‚¬åœçš„ç‚¹</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragging</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é¢„ç•™ç»™æœªæ¥æ‹–æ‹½ç”¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mouse</span> = <span class="hljs-literal">null</span>;    <span class="hljs-comment">// å½“å‰é¼ æ ‡ä½ç½®</span>

    <span class="hljs-comment">// å¯åŠ¨ç›‘å¬</span>
    <span class="hljs-variable language_">this</span>.#<span class="hljs-title function_">addEventListeners</span>();
  }

  #<span class="hljs-title function_">addEventListeners</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// 1. é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousedown"</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =&gt;</span> {
      <span class="hljs-comment">// åªæœ‰å·¦é”®(0)å’Œå³é”®(2)æ‰å¤„ç†</span>
      <span class="hljs-keyword">if</span> (evt.<span class="hljs-property">button</span> == <span class="hljs-number">2</span>) { 
        <span class="hljs-comment">// å³é”®é€»è¾‘</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span>) {
           <span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å–æ¶ˆå½“å‰é€‰ä¸­ï¼Œåœæ­¢è¿çº¿</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span>) {
           <span class="hljs-variable language_">this</span>.#<span class="hljs-title function_">removePoint</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span>); <span class="hljs-comment">// åˆ é™¤ç‚¹</span>
        }
      } 
      
      <span class="hljs-keyword">if</span> (evt.<span class="hljs-property">button</span> == <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// å·¦é”®é€»è¾‘</span>
        <span class="hljs-comment">// å¦‚æœé¼ æ ‡åœ¨æŸä¸ªç‚¹ä¸Šï¼Œå°±é€‰ä¸­å®ƒï¼›å¦‚æœä¸åœ¨ï¼Œå°±æ–°å»ºä¸€ä¸ªç‚¹å¹¶é€‰ä¸­å®ƒ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span>) {
          <span class="hljs-variable language_">this</span>.#<span class="hljs-title function_">select</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span>);
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragging</span> = <span class="hljs-literal">true</span>;
          <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>.<span class="hljs-title function_">tryAddPoint</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mouse</span>);
        <span class="hljs-variable language_">this</span>.#<span class="hljs-title function_">select</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mouse</span>); <span class="hljs-comment">// è‡ªåŠ¨é€‰ä¸­æ–°ç‚¹ï¼Œæ–¹ä¾¿è¿ç»­ç”»çº¿</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">mouse</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragging</span> = <span class="hljs-literal">true</span>;
      }
    });

    <span class="hljs-comment">// 2. é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousemove"</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =&gt;</span> {
      <span class="hljs-comment">// è·å–é¼ æ ‡åœ¨ Canvas é‡Œçš„åæ ‡ï¼ˆå³ä½¿ Canvas ç¼©æ”¾æˆ–åç§»ä¹Ÿèƒ½ç”¨ï¼‰</span>
      <span class="hljs-comment">// è¿™é‡Œå…ˆç®€åŒ–å¤„ç†ï¼Œå‡è®¾ Canvas é“ºæ»¡æˆ–è€…æ— åç§»</span>
      <span class="hljs-comment">// å®é™…ä¸Šæˆ‘ä»¬åº”è¯¥å†™ä¸ª getViewportPointï¼Œä½†æš‚æ—¶å…ˆç›´æ¥è¯»å– offsetX/Y</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mouse</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point2D</span>(evt.<span class="hljs-property">offsetX</span>, evt.<span class="hljs-property">offsetY</span>);
      
      <span class="hljs-comment">// æ£€æŸ¥é¼ æ ‡æœ‰æ²¡æœ‰æ‚¬åœåœ¨æŸä¸ªç‚¹ä¸Š</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span> = <span class="hljs-variable language_">this</span>.#<span class="hljs-title function_">getNearestPoint</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">mouse</span>);
      
      <span class="hljs-comment">// ç§»åŠ¨çš„æ—¶å€™ä¸éœ€è¦é‡ç»˜å—ï¼Ÿéœ€è¦çš„ï¼Œä½†æˆ‘ä»¬ä¼šåœ¨ World é‡Œç»Ÿä¸€é©±åŠ¨åŠ¨ç”»å¾ªç¯</span>
    });
    
    <span class="hljs-comment">// 3. ç¦æ­¢å³é”®èœå•å¼¹å‡º</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"contextmenu"</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =&gt;</span> evt.<span class="hljs-title function_">preventDefault</span>());
    
    <span class="hljs-comment">// 4. é¼ æ ‡æŠ¬èµ·ï¼ˆç»“æŸæ‹–æ‹½çŠ¶æ€ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mouseup"</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">dragging</span> = <span class="hljs-literal">false</span>);
  }

  #<span class="hljs-title function_">select</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-comment">// å¦‚æœä¹‹å‰å·²ç»é€‰ä¸­äº†ä¸€ä¸ªç‚¹ï¼Œç°åœ¨åˆé€‰äº†ä¸€ä¸ªç‚¹ï¼Œè¯´æ˜è¦è¿çº¿</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span>) {
      <span class="hljs-comment">// å°è¯•æ·»åŠ çº¿æ®µ</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>.<span class="hljs-title function_">tryAddSegment</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Segment</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span>, point));
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span> = point;
  }

  #<span class="hljs-title function_">removePoint</span>(<span class="hljs-params">point</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>.<span class="hljs-title function_">removePoint</span>(point);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span> == point) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span> = <span class="hljs-literal">null</span>;
    }
  }

  <span class="hljs-comment">// è¾…åŠ©å‡½æ•°ï¼šæ‰¾ç¦»é¼ æ ‡æœ€è¿‘çš„ç‚¹</span>
  #<span class="hljs-title function_">getNearestPoint</span>(<span class="hljs-params">point, minThreshold = <span class="hljs-number">15</span></span>) {
     <span class="hljs-keyword">let</span> nearest = <span class="hljs-literal">null</span>;
     <span class="hljs-keyword">let</span> minDist = <span class="hljs-title class_">Number</span>.<span class="hljs-property">MAX_SAFE_INTEGER</span>;
     
     <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> p <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>.<span class="hljs-property">points</span>) {
       <span class="hljs-keyword">const</span> dist = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">hypot</span>(p.<span class="hljs-property">x</span> - point.<span class="hljs-property">x</span>, p.<span class="hljs-property">y</span> - point.<span class="hljs-property">y</span>);
       <span class="hljs-keyword">if</span> (dist &lt; minThreshold &amp;&amp; dist &lt; minDist) {
         minDist = dist;
         nearest = p;
       }
     }
     <span class="hljs-keyword">return</span> nearest;
  }

  <span class="hljs-comment">// ä¸“é—¨è´Ÿè´£ç”»ç¼–è¾‘å™¨ç›¸å…³çš„ UIï¼ˆæ¯”å¦‚é«˜äº®ã€è™šçº¿ï¼‰</span>
  <span class="hljs-title function_">display</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>.<span class="hljs-title function_">draw</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>);

    <span class="hljs-comment">// å¦‚æœæœ‰æ‚¬åœçš„ç‚¹ï¼Œç”»ä¸ªç‰¹æ®Šçš„æ ·å¼</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span>.<span class="hljs-title function_">draw</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>, { <span class="hljs-attr">outline</span>: <span class="hljs-literal">true</span> });
    }
    
    <span class="hljs-comment">// å¦‚æœæœ‰é€‰ä¸­çš„ç‚¹ï¼Œä¹Ÿé«˜äº®ä¸€ä¸‹</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span>) {
        <span class="hljs-comment">// è·å–é¼ æ ‡ä½ç½®ä½œä¸ºæ„å›¾ç»ˆç‚¹</span>
        <span class="hljs-keyword">const</span> intent = <span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">hovered</span> : <span class="hljs-variable language_">this</span>.<span class="hljs-property">mouse</span>;
        <span class="hljs-comment">// ç”»å‡ºâ€œè™šæ‹Ÿçº¿æ¡â€ï¼šä»é€‰ä¸­ç‚¹ -&gt; é¼ æ ‡ä½ç½®</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Segment</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span>, intent).<span class="hljs-title function_">draw</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>, { <span class="hljs-attr">color</span>: <span class="hljs-string">"rgba(0,0,0,0.5)"</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">dash</span>: [<span class="hljs-number">3</span>, <span class="hljs-number">3</span>] });
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">selected</span>.<span class="hljs-title function_">draw</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>, { <span class="hljs-attr">outline</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">outlineColor</span>: <span class="hljs-string">"blue"</span> });
    }
  }
}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šä¸Šé¢çš„ä»£ç é‡Œç”¨åˆ°äº† <code>Segment</code> çš„ <code>dash</code> å±æ€§ï¼Œä½ éœ€è¦å» <code>segment.js</code> çš„ <code>draw</code> æ–¹æ³•é‡Œå¾®è°ƒä¸€ä¸‹ï¼ŒåŠ ä¸ª <code>setLineDash</code>ã€‚</p>
</blockquote>
<p><strong>å¾®è°ƒ <code>src/primitives/segment.js</code> çš„ draw æ–¹æ³•ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-title function_">draw</span>(<span class="hljs-params">ctx, { width = <span class="hljs-number">2</span>, color = <span class="hljs-string">"black"</span>, dash = [] } = {}</span>) {
    ctx.<span class="hljs-title function_">beginPath</span>();
    ctx.<span class="hljs-property">lineWidth</span> = width;
    ctx.<span class="hljs-property">strokeStyle</span> = color;
    ctx.<span class="hljs-title function_">setLineDash</span>(dash); <span class="hljs-comment">// æ–°å¢ï¼šæ”¯æŒè™šçº¿</span>
    ctx.<span class="hljs-title function_">moveTo</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">p1</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">p1</span>.<span class="hljs-property">y</span>);
    ctx.<span class="hljs-title function_">lineTo</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">p2</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">p2</span>.<span class="hljs-property">y</span>);
    ctx.<span class="hljs-title function_">stroke</span>();
    ctx.<span class="hljs-title function_">setLineDash</span>([]); <span class="hljs-comment">// é‡ç½®ï¼Œé˜²æ­¢å½±å“å…¶ä»–ç»˜åˆ¶</span>
  }
</code></pre>
<hr/>
<h3 data-id="heading-6">ç»„è£…ä¸–ç•Œï¼šé‡æ„ <code>World</code></h3>
<p>ç°åœ¨æˆ‘ä»¬æŠŠ <code>Graph</code> å’Œ <code>GraphEditor</code> è£…è¿› <code>World</code> é‡Œï¼Œå¹¶å¯åŠ¨åŠ¨ç”»å¾ªç¯ã€‚</p>
<p>ä¿®æ”¹ <code>src/index.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Point2D</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./primitives/point2D.js"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Segment</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./primitives/segment.js"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Graph</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./math/graph.js"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">GraphEditor</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./editors/graphEditor.js"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">World</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">canvas, width = <span class="hljs-number">600</span>, height = <span class="hljs-number">600</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = canvas;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">"2d"</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span> = width;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">height</span> = height;

    <span class="hljs-comment">// 1. åˆå§‹åŒ–ç©ºå›¾</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Graph</span>();
    <span class="hljs-comment">// 2. åˆå§‹åŒ–ç¼–è¾‘å™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">editor</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GraphEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">graph</span>);

    <span class="hljs-comment">// 3. å¯åŠ¨åŠ¨ç”»å¾ªç¯</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">animate</span>();
  }

  <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¸…ç©ºç”»å¸ƒï¼ˆé‡è¦ï¼å¦åˆ™ç”»é¢ä¼šé‡å ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">height</span>);

    <span class="hljs-comment">// è®©ç¼–è¾‘å™¨å»å†³å®šç”»ä»€ä¹ˆï¼ˆå®ƒåŒ…å«å›¾å’Œäº¤äº’UIï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">editor</span>.<span class="hljs-title function_">display</span>();

    <span class="hljs-comment">// é€’å½’è°ƒç”¨ï¼Œä¿æŒ 60FPS</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">animate</span>());
  }
  
  <span class="hljs-comment">// åŸæ¥çš„ display æ–¹æ³•å¯ä»¥åˆ äº†ï¼Œæˆ–è€…ç•™ç€ä½œçºªå¿µ</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-7">æ•ˆæœè®²è§£</h2>
<p>ç°åœ¨ï¼Œå½“ä½ è¿è¡Œé¡µé¢æ—¶ï¼Œç”¨é¼ æ ‡ç‚¹ç‚¹çœ‹çœ‹ï¼š</p>
<ol>
<li><strong>é«˜äº® (Hover)</strong>ï¼šåˆ›å»ºä¸€ä¸ªç‚¹åï¼Œé¼ æ ‡ç§»åˆ°ç‚¹ä¸Šä¼šæœ‰è“è‰²é«˜äº®ã€‚</li>
<li><strong>è™šæ‹Ÿè¿çº¿ (Intent)</strong>ï¼šä¼šæœ‰è™šæ‹Ÿè¿çº¿ï¼Œå¼•å¯¼ç›´çº¿æ–¹å‘ã€‚</li>
<li><strong>åˆ é™¤ç‚¹å’Œçº¿</strong>ï¼šå½“ä½ å³é”®åˆ é™¤ç‚¹æ—¶ï¼Œ<code>Graph</code> ç±»çš„ <code>removePoint</code> ä¸ä»…åˆ äº†ç‚¹ï¼Œè¿˜é¡ºæ‰‹æŠŠè¿æ¥è¿™ä¸ªç‚¹çš„æ‰€æœ‰çº¿æ®µéƒ½å¹²æ‰äº†ã€‚</li>
</ol>
<p>å¦‚æœçœ‹è§£é‡Šæœ‰ç‚¹æ™•ï¼Œè¯•ä¸€è¯•å°±çŸ¥é“äº†ï¼ï¼ï¼ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6697f82e36b4388aa88f8c482393d1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5oCqdg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765637930&amp;x-signature=%2BU0fupj6cHg23SaulXlzYZb7NTo%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-8">æœ€åç§€ä¸€æŠŠï¼Ÿå¾®æŠ–çš„ä¸Šå¸ä¹‹æ‰‹ã€‚</h2>
<p>å®åœ¨æ²¡å•¥å¯ä»¥ç§€çš„ï¼Œéè¦ç§€ï¼Œæˆ‘ç›´æ¥ç»™ä½ ç”»ä¸ªçˆ±å¿ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85ff47c80a2048eab6c71734f7e9b8d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5oCqdg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765637930&amp;x-signature=Aeuh9lvBuCN8GmVJNYsqPu5T%2BM8%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-app ä¹Ÿèƒ½è¿œç¨‹è°ƒè¯•ï¼Ÿä½¿ç”¨ PageSpy æ‰“å¼€è°ƒè¯•çš„æ–°å¤§é—¨ï¼]]></title>    <link>https://juejin.cn/post/7580310413754302514</link>    <guid>https://juejin.cn/post/7580310413754302514</guid>    <pubDate>2025-12-06T15:01:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580310413754302514" data-draft-id="7580277964342181898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-app ä¹Ÿèƒ½è¿œç¨‹è°ƒè¯•ï¼Ÿä½¿ç”¨ PageSpy æ‰“å¼€è°ƒè¯•çš„æ–°å¤§é—¨ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,uni-app,å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2025-12-06T15:01:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸å¦‚æ‘¸é±¼å»"/> <meta itemprop="url" content="https://juejin.cn/user/26044011388510"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-app ä¹Ÿèƒ½è¿œç¨‹è°ƒè¯•ï¼Ÿä½¿ç”¨ PageSpy æ‰“å¼€è°ƒè¯•çš„æ–°å¤§é—¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044011388510/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸å¦‚æ‘¸é±¼å»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T15:01:59.000Z" title="Sat Dec 06 2025 15:01:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä¸å¦‚æ‘¸é±¼å»ï¼Œwot-ui çš„â€œä¸»ç†äººâ€ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„ uni-app åˆ†äº«ä¸“æ ã€‚</p>
<p>å¦‚æœä½ æ˜¯ä¸€ä¸ªå‰ç«¯å¼€å‘ï¼Œæˆ‘æƒ³ä½ è‚¯å®šç»å†è¿‡æµ‹è¯•ã€é¡¹ç›®éªŒæ”¶æ—¶æŠ¥éšœï¼Œæœ¬åœ°å´æ— æ³•å¤ç°çš„æƒ…å†µï¼Œåˆæˆ–è€…æœ¬åœ°æ— æ³•æ»¡è¶³å¤ç°ç¯å¢ƒçš„æƒ…å†µã€‚è¿™æ—¶å€™çš„ä½ æ˜¯ä¸æ˜¯æŠ“è€³æŒ è…®ä¸çŸ¥æ‰€æªï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79c3572bbc0943c0954b2749ae524ccb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=udSHLtVz6PSF%2BXVKRB01Il9zR1Y%3D" alt="" loading="lazy"/></p>
<p>ç­‰åˆ°æµ‹è¯•åé¦ˆï¼Œæµç¨‹æ…¢å¦‚é—ªç”µï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17c5d4c22d6942708693479c5000cc2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=oEwCbL1KjhxZG3CONkKS%2B3jIyr4%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œè§£å†³æ–¹æ¡ˆè‚¯å®šæ˜¯æœ‰çš„ï¼ŒåŸ‹ç‚¹ã€vConsole ä»¥åŠè¿œç¨‹è°ƒè¯•å·¥å…·å¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæœ¬æ–‡å°†ä¼šä½¿ç”¨ PageSpy ç»“åˆ uni-app æ¨¡æ¿ wot-starter å®è·µ uni-app çš„è¿œç¨‹è°ƒè¯•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a52efb1479c4904b6a03313971bf94e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=vB4uZrLJEO36jI80wHYnRohpPMM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆè¦è¿œç¨‹è°ƒè¯•ï¼Ÿ</h2>
<blockquote>
<p>ä»¥ä¸‹å†…å®¹æ¥è‡ª PageSpy å®˜ç½‘ï¼Œæˆ‘è®¤ä¸ºéå¸¸æœ‰é“ç†ã€‚</p>
</blockquote>
<p>ä»»ä½•æ— æ³•åœ¨æœ¬åœ°ä½¿ç”¨æ§åˆ¶å°è°ƒè¯•çš„åœºæ™¯ï¼Œéƒ½æ˜¯ PageSpy å¯ä»¥å¤§æ˜¾èº«æ‰‹çš„æ—¶å€™ï¼ ä¸€èµ·æ¥çœ‹ä¸‹é¢çš„å‡ ä¸ªåœºæ™¯æ¡ˆä¾‹ï¼š</p>
<ul>
<li>æœ¬åœ°è°ƒè¯• H5ã€Webview åº”ç”¨ï¼šç§»åŠ¨ç«¯å±å¹•å¤ªå°ï¼Œä¼ ç»Ÿè°ƒè¯•é¢æ¿æ“ä½œä¸ä¾¿ã€æ˜¾ç¤ºä¸å‹å¥½ï¼Œä¸”å®¹æ˜“å‡ºç°ä¿¡æ¯æˆªæ–­ï¼›</li>
<li>è¿œç¨‹åŠå…¬ã€è·¨åœ°åŒºååŒï¼šä¼ ç»Ÿæ²Ÿé€šæ–¹å¼ï¼ˆé‚®ä»¶ã€ç”µè¯ã€è§†é¢‘ä¼šè®®ï¼‰æ•ˆç‡ä½ï¼Œæ•…éšœä¿¡æ¯ä¸å®Œæ•´ï¼Œå®¹æ˜“è¯¯è§£è¯¯åˆ¤ï¼›</li>
<li>ç”¨æˆ·ç»ˆç«¯ç™½å±é—®é¢˜æ’æŸ¥ï¼šæ•°æ®ç›‘æ§ã€æ—¥å¿—åˆ†æç­‰ä¼ ç»Ÿæ–¹å¼ä¾èµ–æ’éšœäººå‘˜å¯¹ä¸šåŠ¡å’ŒæŠ€æœ¯çš„æ·±å…¥ç†è§£ï¼Œå®šä½æ•ˆç‡ä½ï¼›</li>
</ul>
<h2 data-id="heading-1">PageSpy æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>PageSpy æ˜¯ä¸€æ¬¾ç”¨æ¥è°ƒè¯• Web / ReactNative / å°ç¨‹åº / é¸¿è’™ APP ç­‰å¹³å°é¡¹ç›®çš„å·¥å…·ã€‚æ”¯æŒ Web çš„è¿œç¨‹è°ƒè¯•å·¥å…·ä¸å°‘ï¼Œä½†èƒ½æ”¯æŒ uni-app çš„è°ƒè¯•å·¥å…·çœŸçš„æ˜¯å‡¤æ¯›éºŸè§’äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/074d879cc62b4d4b93902328a7464624~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=H%2BewD8SXp9Qy%2FrJ4V9gccx8PoWE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">PageSpy å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59c1c8222888404d91d0bbfeaa0e8530~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=glxA9BBRO8SQ96KeCphc%2BIp%2F4E4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">éƒ¨ç½²</h3>
<p>éƒ¨ç½²æ–‡æ¡£è§éƒ¨ç½²è¯´æ˜ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.pagespy.org%2F%23%2Fdocs%2Fdeploy-guide%25EF%25BC%258C%25E8%25BF%2599%25E9%2587%258C%25E6%2588%2591%25E4%25BB%25AC%25E9%2580%2589%25E6%258B%25A9%25E4%25BD%25BF%25E7%2594%25A8" target="_blank" title="https://www.pagespy.org/#/docs/deploy-guide%EF%BC%8C%E8%BF%99%E9%87%8C%E6%88%91%E4%BB%AC%E9%80%89%E6%8B%A9%E4%BD%BF%E7%94%A8" ref="nofollow noopener noreferrer">www.pagespy.org/#/docs/deplâ€¦</a> Docker éƒ¨ç½²ï¼ˆæ­£å¥½ä¹°äº†ä¸ªè½»é‡çº§æœåŠ¡å™¨æ²¡ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">docker run -d --restart=always -v ./log:/app/log -v ./data:/app/data -p 6752:6752 --name=<span class="hljs-string">"pageSpy"</span> ghcr.io/huolalatech/page-spy-web:latest
</code></pre>
<p>æ‰§è¡Œå®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A6752" target="_blank" title="http://localhost:6752" ref="nofollow noopener noreferrer">http://localhost:6752</a> å³å¯è®¿é—®æœåŠ¡ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7eb761bbe09d41639cadcf734625e763~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=6IR7n1xKYPzxrjGRz3NmCcRAl%2Fk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">ä½¿ç”¨</h3>
<p>å‚è§å°ç¨‹åºå¿«é€Ÿä¸Šæ‰‹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.pagespy.org%2F%23%2Fdocs%2Fminiprogram" target="_blank" title="https://www.pagespy.org/#/docs/miniprogram" ref="nofollow noopener noreferrer">www.pagespy.org/#/docs/miniâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c84bcddd25e4962ad7851060f10af77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=hreqz0%2BFpopVrypGbHT2xDgO3Ak%3D" alt="" loading="lazy"/></p>
<p>åœ¨ wot-starter ä¸­å®‰è£… <code>@huolala-tech/page-spy-uniapp</code></p>
<pre><code class="hljs language-sql" lang="sql">pnpm <span class="hljs-keyword">add</span> <span class="hljs-variable">@huolala</span><span class="hljs-operator">-</span>tech<span class="hljs-operator">/</span>page<span class="hljs-operator">-</span>spy<span class="hljs-operator">-</span>uniapp<span class="hljs-variable">@latest</span>
</code></pre>
<p>åœ¨ main.ts ä¸­å¼•å…¥ SDK å¹¶å®ä¾‹åŒ–ï¼Œå¯é€šè¿‡é…ç½®é¡¹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.pagespy.org%2F%23%2Fdocs%2Fapi" target="_blank" title="https://www.pagespy.org/#/docs/api" ref="nofollow noopener noreferrer">www.pagespy.org/#/docs/api</a> è‡ªå®šä¹‰ SDK çš„è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å¼•å…¥ SDK</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PageSpy</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@huolala-tech/page-spy-uniapp'</span>
<span class="hljs-keyword">import</span> { createSSRApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>

<span class="hljs-keyword">import</span> <span class="hljs-string">'uno.css'</span>

<span class="hljs-keyword">const</span> $pageSpy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageSpy</span>({
  <span class="hljs-attr">api</span>: <span class="hljs-string">'&lt;your-pagespy-host&gt;'</span>, <span class="hljs-comment">// è¿™é‡Œæ›¿æ¢æˆä½ çš„ pagespy åœ°å€</span>
  <span class="hljs-attr">enableSSL</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// è§†æƒ…å†µå¼€å¯</span>
})

<span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()
pinia.<span class="hljs-title function_">use</span>(persistPlugin)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>)
  <span class="hljs-comment">// å…¨å±€æŒ‚è½½</span>
  app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$pageSpy</span> = $pageSpy
  app.<span class="hljs-title function_">use</span>(router)
  app.<span class="hljs-title function_">use</span>(pinia)
  <span class="hljs-keyword">return</span> {
    app,
  }
}
</code></pre>
<p>æ‰§è¡Œ <code>pnpm dev:mp-weixin</code>åï¼Œæˆ‘ä»¬æ‰“å¼€éƒ¨ç½²çš„ PageSpy ç‚¹å‡»<code>å¼€å§‹è°ƒè¯•</code>å°±å¯ä»¥ä½¿ç”¨äº†ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76641284beb5416090306dee51696d3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=WxwFHk%2FcI%2FYmenHHnHZZzj%2FKvYM%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰è¾“å‡ºã€ç½‘ç»œã€å­˜å‚¨ç­‰å†…å®¹ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c72dce76098f46568f69edc4b7ec1a77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765638119&amp;x-signature=mvUqMplRs%2BBS%2BgBZnjx4Y53ytQI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>ä»Šå¤©æˆ‘ä»¬åœ¨ wot-starter ä¸­ç®€å•å°è¯•äº†ä¸‹ PageSpy çš„åŠŸèƒ½ï¼Œå…¶å® PageSpy åœ¨ web ä¸Šæœ‰æ›´å¼ºå¤§çš„èƒ½åŠ›ï¼Œä¸è¿‡æˆ‘ä»¬ä¸»è¦å…³æ³¨å®ƒåœ¨å°ç¨‹åº/uni-app ä¸Šçš„è¡¨ç°ï¼Œæ›´å¤šèƒ½åŠ›å¤§å®¶å¯ä»¥è‡ªè¡Œæ¢ç´¢äº†ã€‚è¿˜æœ‰å¤§å®¶å¯ä»¥å¤šå¤šå…³æ³¨ PageSpy å’Œ wot-starter ä¸ºä»–ä»¬ç‚¹èµå“¦ğŸ‘ã€‚</p>
<h2 data-id="heading-6">å‚è€ƒèµ„æ–™</h2>
<p>PageSpy: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.pagespy.org%2F%23%2F" target="_blank" title="https://www.pagespy.org/#/" ref="nofollow noopener noreferrer">www.pagespy.org/#/</a><br/>
wot-starter: <a href="https://link.juejin.cn?target=https%3A%2F%2Fstarter.wot-ui.cn%2F" target="_blank" title="https://starter.wot-ui.cn/" ref="nofollow noopener noreferrer">starter.wot-ui.cn/</a></p>
<h2 data-id="heading-7">å¾€æœŸç²¾å½©</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FrnUBwZ2oyt90jJof5IrHgA" target="_blank" title="https://mp.weixin.qq.com/s/rnUBwZ2oyt90jJof5IrHgA" ref="nofollow noopener noreferrer">Trae SOLO æ­£å¼å‘å¸ƒäº†ï¼Ÿæˆ‘ç”¨å®ƒå°†åƒè€ä¹¡é¸¡é‚£æ ·åšé¥­å°ç¨‹åºå¼€æºäº†ï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F2NAqxoP9sF4uwuMUtasmig" target="_blank" title="https://mp.weixin.qq.com/s/2NAqxoP9sF4uwuMUtasmig" ref="nofollow noopener noreferrer">è€ä¹¡é¸¡ä¹Ÿå¼€æºï¼Ÿæˆ‘ç”¨ Trae SOLO åšäº†ä¸ªåƒè€ä¹¡é¸¡é‚£æ ·åšé¥­å°ç¨‹åºï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FYH7v_c0MNZ39IheitqYLLw" target="_blank" title="https://mp.weixin.qq.com/s/YH7v_c0MNZ39IheitqYLLw" ref="nofollow noopener noreferrer">å½“å¹´å·å·ç©å°éœ¸ç‹ï¼Œç°åœ¨å·å·ç”¨ Trae Solo å¤åˆ»å¦å…‹å¤§æˆ˜</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6vI325-SemN9wkBgic-UAw" target="_blank" title="https://mp.weixin.qq.com/s/6vI325-SemN9wkBgic-UAw" ref="nofollow noopener noreferrer">å‘Šåˆ« HBuilderXï¼Œæ‹¥æŠ±ç°ä»£åŒ–ï¼è¿™ä¸ªæ¨¡æ¿è®© uni-app å¼€å‘ä½“éªŒèµ·é£</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F_iOsOmnJJ_2GJ0E_QRtqqg" target="_blank" title="https://mp.weixin.qq.com/s/_iOsOmnJJ_2GJ0E_QRtqqg" ref="nofollow noopener noreferrer">uni-app è¿˜åœ¨æ‰‹å†™è¯·æ±‚ï¼Ÿalova å¸®ä½ å…¨æå®šï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FrHJVlbVg8PkGpzfEEtZmIw" target="_blank" title="https://mp.weixin.qq.com/s/rHJVlbVg8PkGpzfEEtZmIw" ref="nofollow noopener noreferrer">uni-app æ— æ³•å®ç°å…¨å±€ Toastï¼Ÿè¿™ä¸ªæ–¹æ³•åšåˆ°äº†ï¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fnnmu91kclQHnE-1TAn11Tg" target="_blank" title="https://mp.weixin.qq.com/s/nnmu91kclQHnE-1TAn11Tg" ref="nofollow noopener noreferrer">Vue3 uni-app ä¸»åŒ… 2 MB å±æœºï¼Ÿ1 ä¸ªæ’ä»¶ 10 åˆ†é’Ÿç˜¦èº«</a></p>
<p><em><strong>æ¬¢è¿è¯„è®ºåŒºæ²Ÿé€šã€è®¨è®ºğŸ‘‡ğŸ‘‡</strong></em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œæ¥å£åœ°ç‹±â€ï¼ŒMCP åè®®å¦‚ä½•è®© AI Agent åƒä¹é«˜ä¸€æ ·å³æ’å³ç”¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580280096059899931</link>    <guid>https://juejin.cn/post/7580280096059899931</guid>    <pubDate>2025-12-06T13:16:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580280096059899931" data-draft-id="7580303864604852233" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œæ¥å£åœ°ç‹±â€ï¼ŒMCP åè®®å¦‚ä½•è®© AI Agent åƒä¹é«˜ä¸€æ ·å³æ’å³ç”¨ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-06T13:16:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ³¯æ³·"/> <meta itemprop="url" content="https://juejin.cn/user/317122698296024"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œæ¥å£åœ°ç‹±â€ï¼ŒMCP åè®®å¦‚ä½•è®© AI Agent åƒä¹é«˜ä¸€æ ·å³æ’å³ç”¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/317122698296024/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ³¯æ³·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T13:16:03.000Z" title="Sat Dec 06 2025 13:16:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åŠå¹´ï¼ŒAI Agent çš„æ¦‚å¿µç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚ä»ä¸šå†…å¤§å‚åˆ°åˆ›ä¸šæ–°è´µï¼Œå¤§å®¶éƒ½åœ¨åŸ‹å¤´æè‡ªå·±çš„æ™ºèƒ½ä½“ï¼Œä»¿ä½›è°ä¸èŠ Agent è°å°±è½ä¼äº†ã€‚</p>
<p>ä½†åœ¨è¿™ç‰‡ç¹è£ä¹‹ä¸‹ï¼Œä¸€ä¸ªå·¨å¤§çš„éšæ‚£æ­£åœ¨æµ®ç°ã€‚ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‘ç°ï¼Œè¿™äº›èªæ˜çš„ AI Agent ä»¬ï¼Œå…¶å®éƒ½æ´»åœ¨ä¸€ä¸ªä¸ªå­¤å²›ä¸Šã€‚ä½ å®¶çš„ Agent å’Œæˆ‘å®¶çš„ Agent è¯­è¨€ä¸é€šï¼ŒA åº”ç”¨çš„ AI æ— æ³•è°ƒç”¨ B åº”ç”¨çš„èƒ½åŠ›ã€‚æˆ‘ä»¬äº²æ‰‹æ„å»ºäº†ä¸€åº§â€œAI å·´åˆ«å¡”â€ï¼Œæ¯ä¸ª AI éƒ½å¾ˆå¼ºå¤§ï¼Œä½†å®ƒä»¬ä¹‹é—´æ— æ³•åä½œï¼Œå½¢æˆä¸äº†åˆåŠ›ã€‚</p>
<p>æ¯æ¬¡æƒ³è®©ä¸¤ä¸ª AI â€œèŠèŠâ€ï¼Œå·¥ç¨‹å¸ˆä»¬å°±å¾—å­å“§å­å“§åœ°å†™ä¸€å †å®šåˆ¶åŒ–çš„æ¥å£ä»£ç ï¼Œè¿‡ç¨‹å ªæ¯”â€œè·¨æœèŠå¤©â€ï¼Œæå…¶ç—›è‹¦ã€‚è¿™å°±æ˜¯ä¸šå†…å¸¸è¯´çš„â€œæ¥å£åœ°ç‹±â€ã€‚</p>
<p>é‚£ä¹ˆï¼Œé—®é¢˜å‡ºåœ¨å“ªï¼Ÿæ˜¯æˆ‘ä»¬ç¼ºæ›´èªæ˜çš„ AI å—ï¼Ÿ</p>
<p>ä¸æ˜¯ã€‚<strong>æˆ‘ä»¬ç¼ºçš„ä¸æ˜¯æ›´å¼ºçš„ä¸ªä½“ï¼Œè€Œæ˜¯ä¸€å¥—æ‰€æœ‰ AI éƒ½èƒ½å¬æ‡‚ã€éƒ½ä¼šéµå®ˆçš„â€œæ™®é€šè¯â€ã€‚</strong></p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠè¿™ä¸ªç ´å±€çš„å…³é”®â€”â€”MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰ã€‚</p>
<h3 data-id="heading-0">MCP æ˜¯ä»€ä¹ˆï¼ŸæŠŠå®ƒæƒ³è±¡æˆ AI ç•Œçš„â€œè”åˆå›½åŒå£°ä¼ è¯‘â€</h3>
<p>æƒ³ç†è§£ MCPï¼Œåƒä¸‡åˆ«å»çœ‹é‚£äº›å¤æ‚çš„ JSON ä»£ç ï¼Œé‚£ä¼šæŠŠäººç»•è¿›å»ã€‚</p>
<p>æˆ‘ä»¬æ¢ä¸ªåœºæ™¯ï¼šæŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªâ€œAI è”åˆå›½â€ã€‚</p>
<p>å…¨ä¸–ç•Œçš„ AI Agent ä»¬ï¼ˆä»£è¡¨ï¼‰è¦å¼€ä¸ªä¼šï¼Œè®¨è®ºå¦‚ä½•ååŒå·¥ä½œã€‚ä½†å®ƒä»¬æ¥è‡ªä¸åŒçš„â€œå›½å®¶â€ï¼ˆç”±ä¸åŒå…¬å¸æˆ–å¼€å‘è€…åˆ›é€ ï¼‰ï¼Œè¯´ç€äº”èŠ±å…«é—¨çš„â€œæ–¹è¨€â€ï¼ˆç§æœ‰ APIï¼‰ã€‚ç›´æ¥å¼€ä¼šï¼Œå¿…ç„¶æ˜¯é¸¡åŒé¸­è®²ã€‚</p>
<p>æ€ä¹ˆåŠï¼Ÿè”åˆå›½ï¼ˆMCPï¼‰ç«™äº†å‡ºæ¥ï¼Œæä¾›äº†ä¸¤æ ·æ ¸å¿ƒæœåŠ¡ï¼š</p>
<p><strong>1. ä¸€å¥—æ ‡å‡†åŒ–çš„â€œå¤–äº¤ç¤¼ä»ªâ€</strong></p>
<p>åœ¨ä¼šè®®å¼€å§‹å‰ï¼Œæ¯ä½ä»£è¡¨å…¥åœºæ—¶ï¼Œéƒ½å¿…é¡»å…ˆå‡ºç¤ºè‡ªå·±çš„â€œèº«ä»½ç‰Œâ€ï¼Œä¸Šé¢å†™ç€è‡ªå·±çš„èº«ä»½ã€ä»¥åŠè¢«æˆæƒå¯ä»¥è®¨è®ºå“ªäº›è®®é¢˜ã€‚æ¯”å¦‚ï¼ŒA ä»£è¡¨è¯´ï¼šâ€œæˆ‘æ˜¯æ•°æ®åˆ†æ AIï¼Œæˆ‘å¯ä»¥èŠâ€˜æ•°æ®æŸ¥è¯¢â€™å’Œâ€˜å›¾è¡¨ç”Ÿæˆâ€™ã€‚â€ B ä»£è¡¨è¯´ï¼šâ€œæˆ‘æ˜¯ä»£ç åŠ©æ‰‹ AIï¼Œæˆ‘å¯ä»¥èŠâ€˜ä»£ç ç”Ÿæˆâ€™å’Œâ€˜bug ä¿®å¤â€™ã€‚â€</p>
<p><img src="https://cdn.gooo.ai/web-images/db4507d4f7e691e28b5bd86db7480455cdeb896dad2f7ec71ff3949f5d12a27c" alt="å›¾ 1: MCP æ¶ˆæ¯äº¤äº’æµç¨‹" loading="lazy"/></p>
<p>è¿™ä¸ªâ€œäº®ç‰Œâ€çš„è¿‡ç¨‹ï¼Œåœ¨ MCPé‡Œå°±å« <code>initialize</code>ï¼ˆåˆå§‹åŒ–ï¼‰å’Œ <code>capabilities</code>ï¼ˆèƒ½åŠ›åå•†ï¼‰ã€‚<strong>è¿™å¥—â€œå…ˆå°äººåå›å­â€çš„è§„åˆ™ï¼Œç¡®ä¿äº†åŒæ–¹ä»ä¸€å¼€å§‹å°±çŸ¥é“å¯¹æ–¹çš„åº•ç»†ï¼Œé¿å…äº†æ— æ•ˆæ²Ÿé€šå’Œâ€œç”»å¤§é¥¼â€ã€‚</strong></p>
<p><strong>2. ä¸€å¥—æç®€çš„â€œå¯¹è¯æ ¼å¼â€</strong></p>
<p>æ˜ç¡®äº†èº«ä»½å’Œèƒ½åŠ›åï¼Œä»£è¡¨ä»¬å°±å¯ä»¥å¼€å§‹æ²Ÿé€šäº†ã€‚MCP è§„å®šï¼Œæ‰€æœ‰çš„å¯¹è¯éƒ½å¿…é¡»éµå¾ªä¸‰ç§æ ¼å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ›´æ¥åœ°æ°”çš„æ¯”å–»â€”â€”â€œé¤å…åå¨ç³»ç»Ÿâ€æ¥ç†è§£ï¼š</p>
<p><img src="https://cdn.gooo.ai/gen-images/8f6d10c11b3032a9abdc9c110ad13c7945d7a1e91b0755fa19f2eee321654e6a.png" alt="MCP Restaurant Analogy" loading="lazy"/></p>
<ul>
<li>
<p><strong>è¯·æ±‚ï¼ˆRequestï¼‰</strong>ï¼šå°±åƒæœåŠ¡å‘˜ç»™åå¨ä¸‹çš„è®¢å•ã€‚ä¸Šé¢æœ‰æ˜ç¡®çš„æ¡Œå·ï¼ˆ<code>id</code>ï¼‰ï¼Œä»¥åŠè¦åšçš„èœï¼ˆ<code>method</code> å’Œ <code>params</code>ï¼‰ã€‚åå¨å¿…é¡»å¯¹è¿™ä¸ªè®¢å•åšå‡ºå“åº”ã€‚</p>
</li>
<li>
<p><strong>å“åº”ï¼ˆResponseï¼‰</strong>ï¼šåå¨æŠŠèœåšå¥½äº†ï¼Œç«¯å‡ºæ¥ï¼Œå¹¶æ˜ç¡®å‘ŠçŸ¥è¿™æ˜¯å“ªä¸ªæ¡Œå·ï¼ˆ<code>id</code>ï¼‰ç‚¹çš„èœã€‚è¿™å°±æ˜¯å¯¹â€œè¯·æ±‚â€çš„å›å¤ã€‚</p>
</li>
<li>
<p><strong>é€šçŸ¥ï¼ˆNotificationï¼‰</strong>ï¼šè¿™å¥½æ¯”åå¨ä¸Šæ–¹é‚£ä¸ªå®æ—¶æ»šåŠ¨çš„ç”µå­å±ï¼Œä¸Šé¢æ˜¾ç¤ºç€â€œ3å·æ¡Œçš„èœæ­£åœ¨å‡†å¤‡ä¸­â€ã€‚å®ƒåªæ˜¯ä¸€ä¸ªå•å‘çš„çŠ¶æ€å‘ŠçŸ¥ï¼ŒæœåŠ¡å‘˜çœ‹åˆ°äº†å°±è¡Œï¼Œä¸éœ€è¦å›å¤â€œæ”¶åˆ°â€ã€‚</p>
</li>
</ul>
<p>çœ‹ï¼Œå°±è¿™ä¹ˆç®€å•ã€‚<strong>MCP çš„æœ¬è´¨ï¼Œå°±æ˜¯ä¸€å¥—è®© AI ä¹‹é—´æ²Ÿé€šæ—¶å¿…é¡»éµå®ˆçš„ã€æ¸…æ™°ä¸”é«˜æ•ˆçš„â€œæ²Ÿé€šç¤¼ä»ªâ€å’Œâ€œæ ‡å‡†æ ¼å¼â€ã€‚</strong> å®ƒä¸å…³å¿ƒä½ å…·ä½“èŠä»€ä¹ˆï¼ˆæ˜¯è°ƒç”¨å·¥å…·è¿˜æ˜¯ç”Ÿæˆä»£ç ï¼‰ï¼Œå®ƒåªå…³å¿ƒä½ â€œåº”è¯¥æ€ä¹ˆèŠâ€ã€‚</p>
<h3 data-id="heading-1">Why it mattersï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒè‡³å…³é‡è¦ï¼Ÿ</h3>
<p>è®²åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šè§‰å¾—ï¼Œè¿™ä¸å°±æ˜¯ä¸ªæŠ€æœ¯åè®®å˜›ï¼Œæœ‰é‚£ä¹ˆé‡è¦å—ï¼Ÿ</p>
<p>é—®å¾—å¥½ã€‚ä¸€ä¸ªä¸œè¥¿çš„ä»·å€¼ï¼Œè¦æ”¾åœ¨æ›´å¤§çš„å›¾æ™¯é‡Œçœ‹ã€‚MCP çš„é‡è¦æ€§ï¼Œä½“ç°åœ¨ä¸‰ä¸ªå±‚é¢ï¼š</p>
<p><strong>ç¬¬ä¸€å±‚ï¼šå¯¹ä¸šåŠ¡æ¥è¯´ï¼Œæ˜¯ä»â€œæ‰‹å·¥ä½œåŠâ€åˆ°â€œå·¥ä¸šåŒ–ç”Ÿäº§â€çš„è·¨è¶Šã€‚</strong></p>
<p>åœ¨æ²¡æœ‰ MCP çš„ä¸–ç•Œé‡Œï¼Œæ¯é›†æˆä¸€ä¸ªæ–° AIï¼Œå°±åƒæ˜¯è¯·ä¸€ä½æ‰‹è‰ºäººå®šåˆ¶ä¸€ä»¶å®¶å…·ï¼Œæˆæœ¬é«˜ã€å‘¨æœŸé•¿ã€è¿˜å®¹æ˜“å‡ºé”™ã€‚è€Œæœ‰äº† MCP è¿™ä¸ªç»Ÿä¸€æ ‡å‡†ï¼Œä¸åŒçš„ AI Agent å°±åƒæ˜¯æ ‡å‡†åŒ–çš„â€œä¹é«˜ç§¯æœ¨â€ã€‚</p>
<p><img src="https://cdn.gooo.ai/gen-images/53604954a437adf745dbc61bc842b283f88d4549f5418b409a9bf483a26ceabe.png" alt="MCP Lego Blocks" loading="lazy"/></p>
<p><strong>ä¸šåŠ¡æ–¹éœ€è¦ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œä¸å†éœ€è¦ä»é›¶å¼€å‘ï¼Œè€Œæ˜¯åƒæ­ä¹é«˜ä¸€æ ·ï¼ŒæŠŠå…·å¤‡ç›¸åº”èƒ½åŠ›çš„ AI Agent å³æ’å³ç”¨åœ°ç»„åˆèµ·æ¥ã€‚</strong> è¿™å¸¦æ¥çš„å°†æ˜¯ç ”å‘æ•ˆç‡çš„æŒ‡æ•°çº§æå‡å’Œæˆæœ¬çš„å¤§å¹…ä¸‹é™ã€‚å¯¹äºè¿½æ±‚é™æœ¬å¢æ•ˆçš„ä¼ä¸šæ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯ç¦éŸ³ã€‚</p>
<p><strong>ç¬¬äºŒå±‚ï¼šå¯¹è¡Œä¸šæ¥è¯´ï¼Œæ˜¯ä»â€œå•å…µä½œæˆ˜â€åˆ°â€œå†›å›¢ååŒâ€çš„è¿›åŒ–ã€‚</strong></p>
<p>å¤§å®¶å¿…é¡»è®¤è¯†åˆ°ä¸€ä¸ªç°å®ï¼š<strong>æœªæ¥çœŸæ­£è§£å†³å¤æ‚å•†ä¸šé—®é¢˜çš„ï¼Œä¸ä¼šæ˜¯æŸä¸€ä¸ªæ— æ‰€ä¸èƒ½çš„â€œè¶…çº§ AIâ€ï¼Œè€Œæ˜¯ä¸€ä¸ªç”±å¤šä¸ªâ€œä¸“æ‰ AIâ€ç»„æˆçš„åä½œå†›å›¢ã€‚</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šä¸€ä¸ªæ‡‚è¥é”€çš„ AI Agent å‘ç°äº†æ–°çš„å¸‚åœºè¶‹åŠ¿ï¼Œå®ƒç«‹åˆ»é€šè¿‡ MCP è°ƒç”¨ä¸€ä¸ªæ‡‚æ•°æ®çš„ AI Agent å»æ‹‰å–å¹¶åˆ†ææŠ¥å‘Šï¼Œæ¥ç€åˆè°ƒç”¨ä¸€ä¸ªæ‡‚å†™ä½œçš„ AI Agent ç”Ÿæˆè¥é”€æ–‡æ¡ˆï¼Œæœ€åå†é€šçŸ¥ä¸€ä¸ªæ‡‚æŠ•æ”¾çš„ AI Agent å»æ‰§è¡Œå¹¿å‘ŠæŠ•æ”¾ã€‚</p>
<p><img src="https://cdn.gooo.ai/gen-images/95841b80fbaf90e826f7e5b2504e0b9ee8809b890b46bdab5dd1697e36d2e2c7.png" alt="AI Agent Team" loading="lazy"/></p>
<p>è¿™å°±æ˜¯â€œMulti-Agent ç³»ç»Ÿâ€çš„å¨åŠ›ã€‚è€Œ MCPï¼Œæ­£æ˜¯æŒ‡æŒ¥è¿™ä¸ª AI å†›å›¢ååŒä½œæˆ˜çš„â€œé€šç”¨è¯­â€å’Œâ€œæŒ‡æŒ¥ç³»ç»Ÿâ€ã€‚<strong>è¿™æ˜¯ AI ä»â€œç©å…·â€èµ°å‘â€œç”Ÿäº§åŠ›å·¥å…·â€çš„å…³é”®ä¸€æ­¥ã€‚</strong></p>
<p><strong>ç¬¬ä¸‰å±‚ï¼šå¯¹æœªæ¥æ¥è¯´ï¼Œè¿™æ˜¯åœ¨æŠ¢å ä¸‹ä¸€ä»£ AI ç”Ÿæ€çš„â€œæ“ä½œç³»ç»Ÿâ€å…¥å£ã€‚</strong></p>
<p>å›é¡¾äº’è”ç½‘å†å²ï¼ŒçœŸæ­£å¥ å®šä»Šå¤©ç½‘ç»œä¸–ç•ŒåŸºçŸ³çš„ï¼Œä¸æ˜¯æŸä¸ªæ€æ‰‹çº§åº”ç”¨ï¼Œè€Œæ˜¯åƒ TCP/IP è¿™æ ·çš„åº•å±‚é€šä¿¡åè®®ã€‚å®ƒæœ¬èº«ä¸åˆ›é€ å†…å®¹ï¼Œä½†å®ƒå®šä¹‰äº†æ‰€æœ‰ä¿¡æ¯æµåŠ¨çš„è§„åˆ™ã€‚</p>
<p>MCP æ‰®æ¼”çš„æ­£æ˜¯åŒæ ·çš„è§’è‰²ã€‚<strong>å®ƒåœ¨ä¸ºæœªæ¥äº¿ä¸‡ AI Agent çš„äº’è”äº’é€šï¼Œé“ºè®¾æœ€åº•å±‚çš„â€œé«˜é€Ÿå…¬è·¯â€ã€‚</strong> åœ¨è¿™ä¸ªæ–°å¤§é™†ä¸Šï¼Œè°æŒæ¡äº†æ ‡å‡†ï¼Œè°å°±èƒ½æ„å»ºæœ€ç¹è£çš„ç”Ÿæ€ï¼Œå¸å¼•æœ€å¤šçš„å¼€å‘è€…ã€‚è¿™èƒŒåæ˜¯å·¨å¤§çš„æˆ˜ç•¥ä»·å€¼ã€‚</p>
<p><strong>å¾—æ ‡å‡†è€…ï¼Œå¾—ç”Ÿæ€ã€‚</strong></p>
<h3 data-id="heading-2">å†™åœ¨æœ€å</h3>
<p>ä¸šå†…æœ‰å¥è¯ï¼Œä¸€æµçš„å…¬å¸åšæ ‡å‡†ã€‚</p>
<p>å½“æ‰€æœ‰äººçš„ç›®å…‰éƒ½è¿˜èšç„¦åœ¨â€œå·æ¨¡å‹â€ã€â€œå·å‚æ•°â€çš„æ—¶å€™ï¼Œä¸€äº›æ›´èªæ˜çš„ç©å®¶ï¼Œå·²ç»å¼€å§‹æ‚„æ‚„å¸ƒå±€æ›´åº•å±‚çš„â€œæ¸¸æˆè§„åˆ™â€äº†ã€‚</p>
<p>MCP åè®®ï¼Œå°±æ˜¯è¿™æ ·ä¸€åœºå…³äºè§„åˆ™çš„ç«èµ›ã€‚å®ƒä¸ç”Ÿäº§ä¸€ä¸ªå…·ä½“çš„ AI åŠŸèƒ½ï¼Œä½†å®ƒèµ‹èƒ½äº†æ‰€æœ‰ AI åŠŸèƒ½çš„ç»„åˆä¸æ¶Œç°ã€‚å®ƒåƒä¸€å¥—è¯­æ³•ï¼Œè®©æ— æ•°ç‹¬ç«‹çš„å•è¯ï¼ˆAI Agentï¼‰å¾—ä»¥ç»„æˆåç¾çš„ç¯‡ç« ï¼ˆå¤æ‚çš„åº”ç”¨ï¼‰ã€‚</p>
<p>è¯·è®°ä½ï¼š<strong>å½“å¤§æ¨¡å‹çš„â€œæ™ºå•†â€é€æ¸è¶‹åŒï¼Œå¦‚ä½•æ„å»ºé«˜æ•ˆçš„â€œæƒ…å•†â€ï¼ˆåä½œèƒ½åŠ›ï¼‰å°†æˆä¸ºæ–°çš„åˆ†æ°´å²­ã€‚MCPï¼Œå°±æ˜¯è¿™åœºæƒ…å•†ç«èµ›çš„èµ·è·‘çº¿ã€‚</strong></p>
<p>å¦‚æœä½ è¿˜æ²¡å…³æ³¨å®ƒï¼Œç°åœ¨æ˜¯æ—¶å€™äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿã€Hadoopã€è®¡ç®—æœºæ¯•ä¸šè®¾è®¡ã€åŒ…æ‹¬æ•°æ®çˆ¬å–ã€æ•°æ®åˆ†æã€æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ã€å®æˆ˜æ•™å­¦]]></title>    <link>https://juejin.cn/post/7580287891273367615</link>    <guid>https://juejin.cn/post/7580287891273367615</guid>    <pubDate>2025-12-06T13:20:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580287891273367615" data-draft-id="7580287891273351231" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿã€Hadoopã€è®¡ç®—æœºæ¯•ä¸šè®¾è®¡ã€åŒ…æ‹¬æ•°æ®çˆ¬å–ã€æ•°æ®åˆ†æã€æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ã€å®æˆ˜æ•™å­¦"/> <meta itemprop="keywords" content="åç«¯,Python,MySQL"/> <meta itemprop="datePublished" content="2025-12-06T13:20:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è®¡ç®—æœºæ¯•è®¾åŒ å¿ƒå·¥ä½œå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2452372492400835"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿã€Hadoopã€è®¡ç®—æœºæ¯•ä¸šè®¾è®¡ã€åŒ…æ‹¬æ•°æ®çˆ¬å–ã€æ•°æ®åˆ†æã€æ•°æ®å¯è§†åŒ–ã€æœºå™¨å­¦ä¹ ã€å®æˆ˜æ•™å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2452372492400835/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è®¡ç®—æœºæ¯•è®¾åŒ å¿ƒå·¥ä½œå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T13:20:10.000Z" title="Sat Dec 06 2025 13:20:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸŠä½œè€…ï¼šè®¡ç®—æœºæ¯•è®¾åŒ å¿ƒå·¥ä½œå®¤</p>
<p>ğŸŠç®€ä»‹ï¼šæ¯•ä¸šåå°±ä¸€ç›´ä¸“ä¸šä»äº‹è®¡ç®—æœºè½¯ä»¶ç¨‹åºå¼€å‘ï¼Œè‡³ä»Šä¹Ÿæœ‰8å¹´å·¥ä½œç»éªŒã€‚æ“…é•¿Javaã€Pythonã€å¾®ä¿¡å°ç¨‹åºã€å®‰å“ã€å¤§æ•°æ®ã€PHPã€.NET|C#ã€Golangç­‰ã€‚</p>
<p>æ“…é•¿ï¼šæŒ‰ç…§éœ€æ±‚å®šåˆ¶åŒ–å¼€å‘é¡¹ç›®ã€ æºç ã€å¯¹ä»£ç è¿›è¡Œå®Œæ•´è®²è§£ã€æ–‡æ¡£æ’°å†™ã€pptåˆ¶ä½œã€‚</p>
<p>ğŸŠå¿ƒæ„¿ï¼šç‚¹èµ ğŸ‘ æ”¶è— â­è¯„è®º ğŸ“</p>
<p>ğŸ‘‡ğŸ» ç²¾å½©ä¸“æ æ¨èè®¢é˜… ğŸ‘‡ğŸ» ä¸ç„¶ä¸‹æ¬¡æ‰¾ä¸åˆ°å“Ÿ~</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754938.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754938.html" ref="nofollow noopener noreferrer">Javaå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754940.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754940.html" ref="nofollow noopener noreferrer">Pythonå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754945.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754945.html" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åº|å®‰å“å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754947.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754947.html" ref="nofollow noopener noreferrer">å¤§æ•°æ®å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754949.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754949.html" ref="nofollow noopener noreferrer">PHP|C#.NET|Golangå®æˆ˜é¡¹ç›®</a></p>
<p>ğŸ… â†“â†“æ–‡æœ«è·å–æºç è”ç³»â†“â†“ğŸ…</p>
</blockquote>
<h2 data-id="heading-0">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-åŠŸèƒ½ä»‹ç»</h2>
<p>æœ¬ç³»ç»Ÿâ€œã€pythonå¤§æ•°æ®æ¯•è®¾å®æˆ˜ã€‘å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿâ€æ˜¯ä¸€ä¸ªä¸“æ³¨äºå…¨çƒé«˜ç­‰æ•™è‚²é¢†åŸŸçš„ç»¼åˆæ€§æ•°æ®åˆ†æå¹³å°ï¼Œæ—¨åœ¨å°†å¤æ‚çš„ä¸–ç•Œå¤§å­¦æ’åæ•°æ®è½¬åŒ–ä¸ºç›´è§‚ã€æ˜“æ‡‚çš„å¯è§†åŒ–å›¾è¡¨å’Œæ·±åº¦æ´å¯Ÿã€‚ç³»ç»Ÿæ ¸å¿ƒæ„å»ºäºPythonæŠ€æœ¯æ ˆï¼Œå¹¶æ·±åº¦èåˆäº†å¤§æ•°æ®å¤„ç†æ¡†æ¶Hadoopä¸Sparkï¼Œä»¥åº”å¯¹æµ·é‡æ•°æ®å¸¦æ¥çš„å­˜å‚¨ä¸è®¡ç®—æŒ‘æˆ˜ã€‚åç«¯é‡‡ç”¨è½»é‡è€Œå¼ºå¤§çš„Djangoæ¡†æ¶ï¼Œè´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†ä¸æ•°æ®æ¥å£æä¾›ï¼Œå‰ç«¯åˆ™åˆ©ç”¨Vueçš„ç»„ä»¶åŒ–å¼€å‘æ€æƒ³å’ŒEchartsä¸°å¯Œçš„å›¾è¡¨åº“ï¼Œä¸ºç”¨æˆ·æ‰“é€ ä¸€ä¸ªäº¤äº’æµç•…ã€è§†è§‰ç¾è§‚çš„æ“ä½œç•Œé¢ã€‚ç³»ç»Ÿçš„å·¥ä½œæµç¨‹å§‹äºå¯¹å…¨çƒå¤§å­¦æ’ååŸå§‹æ•°æ®çš„è·å–ï¼Œéšååˆ©ç”¨Sparkçš„åˆ†å¸ƒå¼è®¡ç®—èƒ½åŠ›è¿›è¡Œé«˜æ•ˆçš„æ•°æ®æ¸…æ´—ã€é¢„å¤„ç†ä¸æ•´åˆï¼Œç¡®ä¿äº†åˆ†æç»“æœçš„å‡†ç¡®æ€§ä¸å¯é æ€§ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œç³»ç»Ÿè®¾è®¡äº†å¤šç»´åº¦çš„æ•°æ®åˆ†ææ¨¡å‹ï¼Œä¸ä»…æ¶µç›–äº†ä¼ ç»Ÿçš„æ’åæŸ¥è¯¢ã€å›½å®¶/åœ°åŒºå®åŠ›å¯¹æ¯”ç­‰å®è§‚åˆ†æï¼Œè¿˜æ·±å…¥åˆ°æ•™å­¦ã€ç ”ç©¶ã€äº§ä¸šæ”¶å…¥ç­‰å¤šä¸ªæ ¸å¿ƒæŒ‡æ ‡çš„ç›¸å…³æ€§æ¢ç©¶ï¼Œå¹¶åˆ›æ–°æ€§åœ°å¼•å…¥äº†K-Meansèšç±»ç®—æ³•ï¼Œå¯¹å¤§å­¦è¿›è¡Œç§‘å­¦åˆ†ç¾¤ä¸ç”»åƒã€‚æœ€ç»ˆï¼Œæ‰€æœ‰åˆ†æç»“æœéƒ½é€šè¿‡APIæ¥å£ä¼ é€’è‡³å‰ç«¯ï¼Œä»¥åŠ¨æ€åœ°å›¾ã€æŸ±çŠ¶å›¾ã€é›·è¾¾å›¾ã€æ•£ç‚¹å›¾ç­‰å¤šç§å½¢å¼ç”ŸåŠ¨å±•ç°ï¼Œä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªå…¨é¢ã€åŠ¨æ€ã€ä¸”æ•°æ®é©±åŠ¨çš„å…¨çƒé«˜ç­‰æ•™è‚²æ ¼å±€è§‚å¯Ÿçª—å£ã€‚</p>
<h2 data-id="heading-1">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-é€‰é¢˜èƒŒæ™¯æ„ä¹‰</h2>
<p>é€‰é¢˜èƒŒæ™¯
åœ¨å½“ä»Šå…¨çƒåŒ–çš„æ—¶ä»£ï¼Œé«˜ç­‰æ•™è‚²çš„é€‰æ‹©å·²æˆä¸ºå­¦ç”Ÿã€å­¦è€…ä¹ƒè‡³æ”¿ç­–åˆ¶å®šè€…é¢ä¸´çš„ä¸€ä¸ªå…³é”®å†³ç­–ç‚¹ã€‚å„ç±»ä¸–ç•Œå¤§å­¦æ’åï¼Œå¦‚æ³°æ™¤å£«é«˜ç­‰æ•™è‚²ä¸–ç•Œå¤§å­¦æ’åã€QSä¸–ç•Œå¤§å­¦æ’åç­‰ï¼Œå·²æˆä¸ºè¡¡é‡å¤§å­¦ç»¼åˆå®åŠ›å’Œå›½é™…å£°èª‰çš„é‡è¦å‚è€ƒä¾æ®ã€‚ç„¶è€Œï¼Œè¿™äº›æ’åæœºæ„å‘å¸ƒçš„åŸå§‹æ•°æ®å¾€å¾€åªæ˜¯åºå¤§çš„è¡¨æ ¼ï¼Œå¯¹äºæ™®é€šç”¨æˆ·è€Œè¨€ï¼Œå¾ˆéš¾ä»ä¸­è·å¾—è¶…è¶Šç®€å•æ’åçš„æ·±å…¥è§è§£ã€‚ä¼ ç»Ÿçš„åˆ†ææ–¹æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨ç”µå­è¡¨æ ¼è½¯ä»¶ï¼Œåœ¨å¤„ç†å’Œåˆ†æå¦‚æ­¤å¤§è§„æ¨¡ã€å¤šæŒ‡æ ‡çš„æ•°æ®é›†æ—¶æ˜¾å¾—æ•ˆç‡ä½ä¸‹ï¼Œå¹¶ä¸”éš¾ä»¥æ‰§è¡Œå¤æ‚çš„å¤šå˜é‡å…³è”æ€§åˆ†æã€‚ç”¨æˆ·è¿«åˆ‡éœ€è¦ä¸€ä¸ªæ›´å¼ºå¤§ã€æ›´æ™ºèƒ½çš„å·¥å…·æ¥æŒ–æ˜è¿™äº›æ•°æ®èƒŒåçš„ä»·å€¼ã€‚éšç€å¤§æ•°æ®æŠ€æœ¯çš„é£é€Ÿå‘å±•ï¼Œæˆ‘ä»¬æœ‰èƒ½åŠ›å¯¹è¿™ç±»æµ·é‡ä¿¡æ¯è¿›è¡Œæ›´æ·±å±‚æ¬¡çš„æ¢ç´¢å’Œå¤„ç†ã€‚å› æ­¤ï¼Œæœ¬è¯¾é¢˜åº”è¿è€Œç”Ÿï¼Œæ—¨åœ¨åˆ©ç”¨å…ˆè¿›çš„å¤§æ•°æ®æŠ€æœ¯ï¼Œå¯¹å…¨çƒå¤§å­¦æ’åæ•°æ®è¿›è¡Œç³»ç»Ÿæ€§çš„æ•´åˆã€åˆ†æä¸å¯è§†åŒ–ï¼Œä»è€Œæ­ç¤ºéšè—åœ¨æ•°å­—èƒŒåçš„æ•™è‚²å‘å±•è§„å¾‹ä¸æ¨¡å¼ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªæ›´ä¸°å¯Œã€æ›´ç«‹ä½“çš„å¤§å­¦æ’åè§£è¯»è§†è§’ã€‚
é€‰é¢˜æ„ä¹‰
æœ¬è¯¾é¢˜çš„å®é™…æ„ä¹‰åœ¨äºï¼Œå®ƒä¸ºæ‰€æœ‰å…³æ³¨å…¨çƒé«˜ç­‰æ•™è‚²å‘å±•çš„äººç¾¤æä¾›äº†ä¸€ä¸ªç›´è§‚ä¸”å¼ºå¤§çš„æ•°æ®æ¢ç´¢å·¥å…·ã€‚å¯¹äºå³å°†é¢ä¸´å‡å­¦é€‰æ‹©çš„å­¦ç”Ÿå’Œå®¶é•¿æ¥è¯´ï¼Œä»–ä»¬ä¸å†å±€é™äºæŸ¥çœ‹ä¸€ä¸ªå•ä¸€çš„ã€æ¨¡ç³Šçš„ç»¼åˆæ’åï¼Œè€Œæ˜¯å¯ä»¥è‡ªç”±åœ°ä»ä¸åŒç»´åº¦è¿›è¡Œç­›é€‰å’Œå¯¹æ¯”ï¼Œæ¯”å¦‚æŸ¥çœ‹å“ªä¸ªå›½å®¶åœ¨â€œç ”ç©¶è´¨é‡â€ä¸Šè¡¨ç°çªå‡ºï¼Œæˆ–è€…æ¯”è¾ƒå¿ƒä»ªå‡ æ‰€å¤§å­¦åœ¨â€œå›½é™…åŒ–â€æ°´å¹³å’Œâ€œäº§ä¸šæ”¶å…¥â€ä¸Šçš„å…·ä½“å·®å¼‚ï¼Œè¿™å¸®åŠ©ä»–ä»¬åšå‡ºæ›´ç¬¦åˆä¸ªäººéœ€æ±‚å’ŒèŒä¸šè§„åˆ’çš„åˆ¤æ–­ã€‚ä»æŠ€æœ¯å®ç°çš„è§’åº¦æ¥çœ‹ï¼Œè¿™ä¸ªé¡¹ç›®å®Œæ•´åœ°å±•ç¤ºäº†å¦‚ä½•è¿ç”¨ç°ä»£æ•°æ®ç§‘å­¦æŠ€æœ¯è§£å†³ä¸€ä¸ªç‰¹å®šé¢†åŸŸçš„å®é™…é—®é¢˜ã€‚å®ƒå…·ä½“å®è·µäº†ä»æ•°æ®é‡‡é›†ã€æ¸…æ´—ã€å­˜å‚¨ï¼Œåˆ°åˆ©ç”¨Sparkè¿›è¡Œåˆ†å¸ƒå¼è®¡ç®—ä¸åˆ†æï¼Œå†åˆ°æœ€ç»ˆé€šè¿‡WebæŠ€æœ¯è¿›è¡Œç»“æœå‘ˆç°çš„å…¨è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯ç³»ç»Ÿä¸­çš„èšç±»åˆ†æåŠŸèƒ½ï¼Œå®ƒè¶…è¶Šäº†ç®€å•çš„æ’åï¼Œå°è¯•æ ¹æ®å¤§å­¦çš„å¤šç»´ç‰¹å¾å¯¹å…¶è¿›è¡Œç§‘å­¦åˆ†ç±»ï¼Œä¸ºç†è§£ä¸åŒå¤§å­¦çš„åŠå­¦ç‰¹è‰²å’Œå‘å±•æ¨¡å¼æä¾›äº†æ–°çš„æ€è·¯ã€‚æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ¯•ä¸šè®¾è®¡ä¸ä»…æ˜¯ä¸€ä¸ªåŠŸèƒ½æ€§çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿæ˜¯ä¸€æ¬¡å…³äºå¦‚ä½•å°†å¤§æ•°æ®æŠ€æœ¯åº”ç”¨äºæ•™è‚²æ•°æ®åˆ†æé¢†åŸŸçš„æœ‰ç›Šå®è·µï¼Œå…¶æˆæœå¯¹äºè®¡ç®—æœºä¸“ä¸šçš„å­¦ç”Ÿå®Œæˆæ¯•ä¸šè®¾è®¡ï¼Œä»¥åŠæ•™è‚²é¢†åŸŸçš„ç ”ç©¶è€…è¿›è¡Œæ•°æ®æ¢ç´¢éƒ½å…·æœ‰è¾ƒå¥½çš„å‚è€ƒä»·å€¼ã€‚</p>
<h2 data-id="heading-2">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-æŠ€æœ¯é€‰å‹</h2>
<p>å¤§æ•°æ®æ¡†æ¶ï¼šHadoop+Sparkï¼ˆæœ¬æ¬¡æ²¡ç”¨Hiveï¼Œæ”¯æŒå®šåˆ¶ï¼‰
å¼€å‘è¯­è¨€ï¼šPython+Javaï¼ˆä¸¤ä¸ªç‰ˆæœ¬éƒ½æ”¯æŒï¼‰
åç«¯æ¡†æ¶ï¼šDjango+Spring Boot(Spring+SpringMVC+Mybatis)ï¼ˆä¸¤ä¸ªç‰ˆæœ¬éƒ½æ”¯æŒï¼‰
å‰ç«¯ï¼šVue+ElementUI+Echarts+HTML+CSS+JavaScript+jQuery
è¯¦ç»†æŠ€æœ¯ç‚¹ï¼šHadoopã€HDFSã€Sparkã€Spark SQLã€Pandasã€NumPy
æ•°æ®åº“ï¼šMySQL</p>
<h2 data-id="heading-3">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-è§†é¢‘å±•ç¤º</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1wY2XBeEV7%2F%3Fspm_id_from%3D333.1387.homepage.video_card.click" target="_blank" title="https://www.bilibili.com/video/BV1wY2XBeEV7/?spm_id_from=333.1387.homepage.video_card.click" ref="nofollow noopener noreferrer">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-è§†é¢‘å±•ç¤º</a></p>
<h2 data-id="heading-4">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-å›¾ç‰‡å±•ç¤º</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b953ca7f853455ead21c94eee9bca11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765632010&amp;x-signature=PgvPDEEMKZVUym6KxAWfY09Q0Es%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/227b9bfb8f07498da2a9efac5765d128~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765632010&amp;x-signature=cd%2Fn%2FdDLwNnhfEI5lqk%2F0DfIzvg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a8721ba96504b1ca3ca9cda5e3f0d4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765632010&amp;x-signature=9DihVFz5edKXTxoa3GTdaifC5o8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1744182a47a34368a03b08e7cb96decf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765632010&amp;x-signature=28Wh%2BVv%2Fkbkz4McxsI%2FckJlVCYk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1faab9b4439f4daaa78641946f39f0df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765632010&amp;x-signature=CECH0f9f3ToEKz4wC9fmyZm4Xiw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d977591fecb74295852e1751eff19d1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765632010&amp;x-signature=vSrko4pTwh20xuV%2BDwQt%2BxCiaho%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e62bdf9d64b4a909014884da4c9a1a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K6h566X5py65q-V6K6-5Yyg5b-D5bel5L2c5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765632010&amp;x-signature=bPSQ3bHppVFg6PLqXvCVapM%2F8XM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-5">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-ä»£ç å±•ç¤º</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pyspark.sql <span class="hljs-keyword">import</span> SparkSession, functions <span class="hljs-keyword">as</span> F
<span class="hljs-keyword">from</span> pyspark.ml.feature <span class="hljs-keyword">import</span> VectorAssembler, StandardScaler, KMeans
<span class="hljs-keyword">from</span> pyspark.ml <span class="hljs-keyword">import</span> Pipeline

<span class="hljs-comment"># åˆå§‹åŒ–SparkSessionï¼Œè¿™æ˜¯æ‰€æœ‰SparkåŠŸèƒ½çš„å…¥å£ç‚¹</span>
spark = SparkSession.builder \
    .appName(<span class="hljs-string">"UniversityRankingAnalysis"</span>) \
    .getOrCreate()

<span class="hljs-comment"># åŠŸèƒ½ä¸€ï¼šæ•°æ®æ¸…æ´—ä¸é¢„å¤„ç† (ä½¿ç”¨Spark SQLå’ŒDataFrame API)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">clean_and_preprocess_data</span>(<span class="hljs-params">df</span>):
    <span class="hljs-comment"># å°†æ•°å€¼åˆ—çš„ç©ºå€¼å¡«å……ä¸º0</span>
    numeric_cols = [field.name <span class="hljs-keyword">for</span> field <span class="hljs-keyword">in</span> df.schema.fields <span class="hljs-keyword">if</span> field.dataType.typeName() <span class="hljs-keyword">in</span> [<span class="hljs-string">'double'</span>, <span class="hljs-string">'integer'</span>, <span class="hljs-string">'float'</span>]]
    df_filled_numeric = df.fillna(<span class="hljs-number">0</span>, subset=numeric_cols)
    <span class="hljs-comment"># å°†æ–‡æœ¬åˆ—çš„ç©ºå€¼å¡«å……ä¸ºâ€œæœªçŸ¥â€</span>
    df_filled_all = df_filled_numeric.fillna(<span class="hljs-string">"æœªçŸ¥"</span>, subset=[<span class="hljs-string">"Location"</span>])
    <span class="hljs-comment"># ä½¿ç”¨F.roundå‡½æ•°å°†æ‰€æœ‰å¾—åˆ†åˆ—æ ¼å¼åŒ–ä¸ºä¸¤ä½å°æ•°</span>
    <span class="hljs-keyword">for</span> col_name <span class="hljs-keyword">in</span> [<span class="hljs-string">'Overall Teaching Score'</span>, <span class="hljs-string">'Research Score'</span>, <span class="hljs-string">'Research Quality'</span>, <span class="hljs-string">'Industry Income Score'</span>, <span class="hljs-string">'International Outlook Score'</span>, <span class="hljs-string">'Overall Score'</span>]:
        df_filled_all = df_filled_all.withColumn(col_name, F.<span class="hljs-built_in">round</span>(df_filled_all[col_name], <span class="hljs-number">2</span>))
    <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ˜ å°„å­—å…¸æ¥ç¿»è¯‘å›½å®¶åç§°</span>
    country_mapping = {<span class="hljs-string">"United States"</span>: <span class="hljs-string">"ç¾å›½"</span>, <span class="hljs-string">"United Kingdom"</span>: <span class="hljs-string">"è‹±å›½"</span>, <span class="hljs-string">"China"</span>: <span class="hljs-string">"ä¸­å›½"</span>}
    <span class="hljs-comment"># ä½¿ç”¨F.whenå’ŒF.otherwiseåˆ›å»ºä¸€ä¸ªæ–°çš„ç¿»è¯‘åçš„åˆ—ï¼Œå¹¶æ›¿æ¢åŸåˆ—</span>
    df_translated = df_filled_all.withColumn(<span class="hljs-string">"Location"</span>, F.when(df_filled_all[<span class="hljs-string">"Location"</span>].isin(country_mapping.keys()), F.create_map([F.lit(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">sum</span>(country_mapping.items(), ())]).getItem(df_filled_all[<span class="hljs-string">"Location"</span>])).otherwise(df_filled_all[<span class="hljs-string">"Location"</span>]))
    <span class="hljs-comment"># åˆ é™¤å®Œå…¨é‡å¤çš„è¡Œ</span>
    df_cleaned = df_translated.dropDuplicates()
    <span class="hljs-keyword">return</span> df_cleaned

<span class="hljs-comment"># åŠŸèƒ½äºŒï¼šå¤šç»´åº¦åˆ†æ - æŒ‰å›½å®¶/åœ°åŒºç»Ÿè®¡å¤§å­¦å®åŠ›</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_university_strength_by_country</span>(<span class="hljs-params">cleaned_df</span>):
    <span class="hljs-comment"># 1. è®¡ç®—æ¯ä¸ªå›½å®¶ä¸Šæ¦œå¤§å­¦çš„æ€»æ•°</span>
    university_count_df = cleaned_df.groupBy(<span class="hljs-string">"Location"</span>).agg(F.count(<span class="hljs-string">"University"</span>).alias(<span class="hljs-string">"university_count"</span>))
    <span class="hljs-comment"># 2. ç­›é€‰å‡ºTOP100çš„å¤§å­¦ï¼Œå¹¶æŒ‰å›½å®¶è¿›è¡Œåˆ†ç»„è®¡æ•°</span>
    top_100_df = cleaned_df.<span class="hljs-built_in">filter</span>(F.col(<span class="hljs-string">"Rank"</span>) &lt;= <span class="hljs-number">100</span>)
    top_100_count_df = top_100_df.groupBy(<span class="hljs-string">"Location"</span>).agg(F.count(<span class="hljs-string">"University"</span>).alias(<span class="hljs-string">"top_100_count"</span>))
    <span class="hljs-comment"># 3. è®¡ç®—æ¯ä¸ªå›½å®¶ä¸Šæ¦œå¤§å­¦çš„å¹³å‡ç»¼åˆå¾—åˆ†</span>
    average_score_df = cleaned_df.groupBy(<span class="hljs-string">"Location"</span>).agg(F.avg(<span class="hljs-string">"Overall Score"</span>).alias(<span class="hljs-string">"average_score"</span>))
    <span class="hljs-comment"># 4. å°†ä»¥ä¸Šä¸‰ä¸ªåˆ†æç»“æœé€šè¿‡å›½å®¶åç§°è¿›è¡Œå…³è”ï¼Œå¾—åˆ°ä¸€ä¸ªå…¨é¢çš„å®åŠ›åˆ†æè¡¨</span>
    result_df = university_count_df.join(top_100_count_df, <span class="hljs-string">"Location"</span>, <span class="hljs-string">"left_outer"</span>).join(average_score_df, <span class="hljs-string">"Location"</span>, <span class="hljs-string">"left_outer"</span>)
    <span class="hljs-comment"># 5. å¯¹ç©ºå€¼è¿›è¡Œå¤„ç†ï¼Œå¹¶å°†ç»“æœæŒ‰ç…§TOP100æ•°é‡è¿›è¡Œé™åºæ’åˆ—</span>
    final_result_df = result_df.fillna(<span class="hljs-number">0</span>, subset=[<span class="hljs-string">"top_100_count"</span>, <span class="hljs-string">"average_score"</span>]).orderBy(F.desc(<span class="hljs-string">"top_100_count"</span>))
    <span class="hljs-keyword">return</span> final_result_df

<span class="hljs-comment"># åŠŸèƒ½ä¸‰ï¼šåŸºäºK-Meansç®—æ³•çš„å¤§å­¦èšç±»åˆ†æ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">perform_university_clustering</span>(<span class="hljs-params">cleaned_df, k=<span class="hljs-number">4</span></span>):
    <span class="hljs-comment"># é€‰æ‹©ç”¨äºèšç±»çš„ç‰¹å¾åˆ—</span>
    feature_cols = [<span class="hljs-string">'Overall Teaching Score'</span>, <span class="hljs-string">'Research Score'</span>, <span class="hljs-string">'Research Quality'</span>, <span class="hljs-string">'Industry Income Score'</span>, <span class="hljs-string">'International Outlook Score'</span>]
    <span class="hljs-comment"># æ­¥éª¤1: ä½¿ç”¨VectorAssemblerå°†å¤šä¸ªç‰¹å¾åˆ—åˆå¹¶æˆä¸€ä¸ªå•ä¸€çš„â€œfeaturesâ€å‘é‡åˆ—</span>
    assembler = VectorAssembler(inputCols=feature_cols, outputCol=<span class="hljs-string">"features_vec"</span>)
    <span class="hljs-comment"># æ­¥éª¤2: ä½¿ç”¨StandardScalerå¯¹ç‰¹å¾å‘é‡è¿›è¡Œæ ‡å‡†åŒ–ï¼Œæ¶ˆé™¤é‡çº²å½±å“</span>
    scaler = StandardScaler(inputCol=<span class="hljs-string">"features_vec"</span>, outputCol=<span class="hljs-string">"scaled_features"</span>, withStd=<span class="hljs-literal">True</span>, withMean=<span class="hljs-literal">True</span>)
    <span class="hljs-comment"># æ­¥éª¤3: åˆ›å»ºå¹¶é…ç½®K-Meansæ¨¡å‹</span>
    kmeans = KMeans(featuresCol=<span class="hljs-string">"scaled_features"</span>, predictionCol=<span class="hljs-string">"cluster"</span>, k=k, seed=<span class="hljs-number">42</span>)
    <span class="hljs-comment"># æ­¥éª¤4: æ„å»ºä¸€ä¸ªPipelineæ¥ä¸²è”Assemblerã€Scalerå’ŒK-Means</span>
    pipeline = Pipeline(stages=[assembler, scaler, kmeans])
    <span class="hljs-comment"># æ­¥éª¤5: ä½¿ç”¨æ¸…æ´—åçš„æ•°æ®æ¥è®­ç»ƒPipelineæ¨¡å‹</span>
    model = pipeline.fit(cleaned_df)
    <span class="hljs-comment"># æ­¥éª¤6: ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¾—åˆ°å¸¦æœ‰èšç±»æ ‡ç­¾çš„ç»“æœ</span>
    clustered_df = model.transform(cleaned_df)
    <span class="hljs-comment"># æ­¥éª¤7: ä¸ºç»“æœé€‰æ‹©å¹¶é‡å‘½åä¸€äº›å…³é”®åˆ—ï¼Œä½¿å…¶æ›´æ˜“äºç†è§£</span>
    result_df = clustered_df.select(<span class="hljs-string">"University"</span>, <span class="hljs-string">"Location"</span>, <span class="hljs-string">"Overall Score"</span>, <span class="hljs-string">"cluster"</span>)
    <span class="hljs-keyword">return</span> result_df
</code></pre>
<h2 data-id="heading-6">åŸºäºå¤§æ•°æ®çš„å…¨çƒå¤§å­¦æ’åæ•°æ®å¯è§†åŒ–åˆ†æç³»ç»Ÿ-ç»“è¯­</h2>
<blockquote>
<p>ğŸ‘‡ğŸ» ç²¾å½©ä¸“æ æ¨èè®¢é˜… ğŸ‘‡ğŸ» ä¸ç„¶ä¸‹æ¬¡æ‰¾ä¸åˆ°å“Ÿ~</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754938.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754938.html" ref="nofollow noopener noreferrer">Javaå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754940.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754940.html" ref="nofollow noopener noreferrer">Pythonå®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754945.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754945.html" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åº|å®‰å“å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754947.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754947.html" ref="nofollow noopener noreferrer">å¤§æ•°æ®å®æˆ˜é¡¹ç›®</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_86677951%2Fcategory_12754949.html" target="_blank" title="https://blog.csdn.net/2401_86677951/category_12754949.html" ref="nofollow noopener noreferrer">PHP|C#.NET|Golangå®æˆ˜é¡¹ç›®</a></p>
<p>ğŸ… ä¸»é¡µè·å–æºç è”ç³»ğŸ…</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Spring Boot 2.x åˆ° 3.5.x + JDK21ï¼šä¸€æ¬¡å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒè¿ç§»å®æˆ˜]]></title>    <link>https://juejin.cn/post/7580310413754138674</link>    <guid>https://juejin.cn/post/7580310413754138674</guid>    <pubDate>2025-12-06T13:38:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580310413754138674" data-draft-id="7580270531470426158" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Spring Boot 2.x åˆ° 3.5.x + JDK21ï¼šä¸€æ¬¡å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒè¿ç§»å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯,Java,Spring Boot"/> <meta itemprop="datePublished" content="2025-12-06T13:38:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RainbowSea"/> <meta itemprop="url" content="https://juejin.cn/user/752533564566951"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Spring Boot 2.x åˆ° 3.5.x + JDK21ï¼šä¸€æ¬¡å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒè¿ç§»å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/752533564566951/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RainbowSea
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T13:38:01.000Z" title="Sat Dec 06 2025 13:38:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="darcula">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#bababa}.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#6896ba}.hljs-code,.hljs-selector-class{color:#a6e22e}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#cb7832}.hljs-params{color:#b9b9b9}.hljs-string{color:#6a8759}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable,.hljs-type{color:#e0c46c}.hljs-comment,.hljs-deletion,.hljs-meta{color:#7f7f7f}</style><h2 data-id="heading-0">ä» Spring Boot 2.x åˆ° 3.5.x + JDK21ï¼šä¸€æ¬¡å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒè¿ç§»å®æˆ˜</h2>
<p>@[toc]</p>
<h2 data-id="heading-1">å‡çº§èƒŒæ™¯</h2>
<p>åœ¨ç§æœ‰åŒ–éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ä½¿ç”¨å®‰å…¨æ‰«æå·¥å…·æ£€æµ‹åˆ°å¤§é‡å®‰å…¨æ¼æ´ï¼Œä¸»è¦é›†ä¸­åœ¨ï¼š </p>
<ul>
<li><strong>æ¡†æ¶ç‰ˆæœ¬è¿‡ä½</strong>ï¼šSpring Boot 2.1.6.RELEASEï¼ˆå‘å¸ƒäº 2019 å¹´ï¼‰ </li>
<li><strong>JDK ç‰ˆæœ¬è¿‡æ—§</strong>ï¼šJDK 8ï¼ˆç¼ºä¹æœ€æ–°å®‰å…¨è¡¥ä¸ï¼‰ </li>
<li><strong>ç¬¬ä¸‰æ–¹ä¾èµ–</strong>ï¼šå¤šä¸ªä¾èµ–å­˜åœ¨å·²çŸ¥ CVE æ¼æ´ </li>
</ul>
<p>åŸºäºå®‰å…¨åˆè§„å’Œé•¿æœŸç»´æŠ¤çš„è€ƒè™‘ï¼Œå†³å®šè¿›è¡Œå¤§ç‰ˆæœ¬å‡çº§ã€‚ </p>
<ul>
<li><strong>å½“å‰ç‰ˆæœ¬</strong>ï¼šSpring Boot 2.1.6.RELEASE + JDK 8 </li>
<li><strong>ç›®æ ‡ç‰ˆæœ¬</strong>ï¼š<strong>Spring Boot 3.5.4 + JDK 21 LTS</strong></li>
</ul>
<h2 data-id="heading-2">å‡çº§ç›®æ ‡ä¸æ ¸å¿ƒå˜åŒ–</h2>
<p><strong>ä¸»è¦å˜åŒ–</strong></p>



































<table><thead><tr><th align="left"><strong>ç±»åˆ«</strong></th><th align="left"><strong>å˜åŒ–å†…å®¹</strong></th><th align="left"><strong>è¿ç§»æ–¹å¼</strong></th></tr></thead><tbody><tr><td align="left"><strong>å‘½åç©ºé—´</strong></td><td align="left">javax.* â†’ jakarta.*</td><td align="left">è‡ªåŠ¨åŒ–è¿ç§»</td></tr><tr><td align="left"><strong>JDK ç‰ˆæœ¬</strong></td><td align="left">Java 8 â†’ Java 21 LTS</td><td align="left">è‡ªåŠ¨åŒ–è¿ç§» + æ‰‹åŠ¨è°ƒæ•´</td></tr><tr><td align="left"><strong>ç¬¬ä¸‰æ–¹ä¾èµ–</strong></td><td align="left">å¤§é‡ä¾èµ–éœ€è¦å‡çº§</td><td align="left">æ‰‹åŠ¨å¤„ç†</td></tr><tr><td align="left"><strong>API æ–‡æ¡£</strong></td><td align="left">Swagger 2.x â†’ SpringDoc OpenAPI 3.x</td><td align="left">é…ç½®è°ƒæ•´</td></tr><tr><td align="left"><strong>å®‰å…¨é…ç½®</strong></td><td align="left">WebSecurityConfigurerAdapter åºŸå¼ƒ</td><td align="left">é‡å†™é…ç½®ç±»</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©è‡ªåŠ¨åŒ–è¿ç§»ï¼Ÿ</strong>\ å‰ä¸¤é¡¹ï¼ˆå‘½åç©ºé—´å’Œ JDK ç‰ˆæœ¬ï¼‰æ¶‰åŠçš„ä»£ç æ”¹åŠ¨é‡æå¤§ï¼Œæ‰‹åŠ¨ä¿®æ”¹å®¹æ˜“å‡ºé”™ä¸”æ•ˆç‡ä½ä¸‹ã€‚</p>
<p><strong>OpenRewrite </strong>ä½œä¸ºä¸šç•Œæˆç†Ÿçš„è‡ªåŠ¨åŒ–é‡æ„å·¥å…·ï¼Œå¯ä»¥å®Œæˆå¤§éƒ¨åˆ†ç¹çå·¥ä½œã€‚</p>
<h2 data-id="heading-3">å®Œæ•´å‡çº§æ­¥éª¤</h2>
<h3 data-id="heading-4">ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡å·¥ä½œï¼ˆJDK 8 ç¯å¢ƒï¼‰</h3>
<h4 data-id="heading-5">ä»£ç åˆ†æ”¯ç®¡ç†</h4>
<p><strong/></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ç¡®ä¿ä¸»åˆ†æ”¯ä»£ç ä¸ºæœ€æ–°</span>
git checkout dev
git pull origin dev
<span class="hljs-meta prompt_">

# </span><span class="bash">åˆ›å»ºå‡çº§ä¸“ç”¨åˆ†æ”¯</span>
git checkout -b upgrade/springboot3-jdk21
</code></pre>
<h4 data-id="heading-6">å¼•å…¥ OpenRewrite Maven æ’ä»¶</h4>
<p><strong/></p>
<p><strong>ä»€ä¹ˆæ˜¯ OpenRewriteï¼Ÿ </strong></p>
<p>OpenRewrite æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–ä»£ç é‡æ„å’Œè¿ç§»å·¥å…·ï¼Œä¸“ä¸º Java ç”Ÿæ€ç³»ç»Ÿè®¾è®¡ã€‚ </p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼š </p>
<ol>
<li><strong>ç²¾ç¡®å®‰å…¨</strong>ï¼šåœ¨ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰å±‚é¢æ“ä½œï¼Œä¸ä¼šç ´åä»£ç ç»“æ„ </li>
<li> <strong>æ‰¹é‡å¤„ç†</strong>ï¼šä¸€æ¬¡æ€§å¤„ç†æ•´ä¸ªä»£ç åº“ </li>
<li><strong>å¯é¢„è§ˆ</strong>ï¼šä½¿ç”¨ <code>rewrite:dryRun</code> æŸ¥çœ‹å˜æ›´é¢„è§ˆ </li>
<li><strong>å¯å®šåˆ¶</strong>ï¼šæ”¯æŒå£°æ˜å¼ï¼ˆYAMLï¼‰æˆ–ç¼–ç¨‹å¼è‡ªå®šä¹‰è§„åˆ™</li>
</ol>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š </p>
<p>OpenRewrite é€šè¿‡è§£ææºä»£ç ç”Ÿæˆæ— æŸè¯­æ³•æ ‘ï¼ˆLSTï¼‰ï¼Œåœ¨ AST å±‚é¢è¿›è¡Œç²¾ç¡®è½¬æ¢ï¼Œå®Œæ•´ä¿ç•™ï¼š </p>
<ul>
<li>åŸå§‹æ ¼å¼å’Œç¼©è¿› </li>
<li>æ‰€æœ‰æ³¨é‡Š </li>
<li>ä»£ç é£æ ¼</li>
</ul>
<p><strong>é…ç½®æ–¹å¼</strong>ï¼š</p>
<p>åœ¨ <code>pom.xml</code> çš„ <code>&lt;plugins&gt;</code> èŠ‚ç‚¹ä¸‹æ·»åŠ ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.openrewrite.maven<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>rewrite-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.15.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">exportDatatables</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">exportDatatables</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">activeRecipes</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- å‡çº§åˆ° Java 21 --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">recipe</span>&gt;</span>org.openrewrite.java.migrate.UpgradeToJava21<span class="hljs-tag">&lt;/<span class="hljs-name">recipe</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- JUnit 4 to 5 --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">recipe</span>&gt;</span>org.openrewrite.java.spring.boot2.SpringBoot2JUnit4to5Migration<span class="hljs-tag">&lt;/<span class="hljs-name">recipe</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- Spring Boot 3.4ï¼ˆæ’ä»¶æš‚ä¸æ”¯æŒ 3.5ï¼Œå‡çº§åæ‰‹åŠ¨æ”¹ï¼‰ --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">recipe</span>&gt;</span>org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_4<span class="hljs-tag">&lt;/<span class="hljs-name">recipe</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">activeRecipes</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.openrewrite.recipe<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>rewrite-migrate-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.14.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.openrewrite.recipe<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>rewrite-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.11.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre>
<p><strong>é…æ–¹ï¼ˆRecipeï¼‰è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>UpgradeSpringBoot_3_4 ï¼š</code>å‡çº§è‡³ Spring Boot 3.4.xï¼ˆæ’ä»¶æš‚ä¸æ”¯æŒ 3.5ï¼Œå‡çº§åæ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·å³å¯ï¼‰ </li>
<li><code>UpgradeToJava21 ï¼š</code> å‡çº§è‡³ JDK 21ï¼ˆSpring Boot é…æ–¹ä»…å‡çº§åˆ° JDK 17ï¼Œéœ€é¢å¤–æ·»åŠ æ­¤é…æ–¹ï¼‰ </li>
<li><code>SpringBoot2JUnit4to5Migration ï¼š</code>å‡çº§æµ‹è¯•æ¡†æ¶ï¼Œé¿å…è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥é”™</li>
</ul>
<blockquote>
<p><em><strong>æç¤º</strong>ï¼šä½ ä¹Ÿå¯ä»¥ç¼–å†™è‡ªå®šä¹‰é…æ–¹æ¥å¤„ç†é¡¹ç›®ç‰¹å®šçš„è¿ç§»éœ€æ±‚ã€‚</em></p>
</blockquote>
<p><em/></p>
<h4 data-id="heading-7">æ‰§è¡Œè‡ªåŠ¨åŒ–è¿ç§»</h4>
<p><strong/></p>
<pre><code class="hljs language-shell" lang="shell">mvn rewrite:run
</code></pre>
<p>æˆ–è€…åœ¨ IDEA ä¸­é€šè¿‡ Maven é¢æ¿æ‰§è¡Œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/224c5180704c4ec6b2c8b7541b35d981~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=8awFO6tSxFePOHgoUeJs1h34bZM%3D" alt="" loading="lazy"/></p>
<p><strong>æ‰§è¡Œæ—¶é—´ï¼š</strong> å‡ åˆ†é’Ÿåˆ°å‡ ååˆ†é’Ÿä¸ç­‰ï¼Œå–å†³äºé¡¹ç›®è§„æ¨¡ã€‚</p>
<p><strong>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š</strong></p>
<ol>
<li>å¦‚æœæŸäº›ç±»åŒ…å«ç‰¹æ®Šä»£ç å¯¼è‡´æŠ¥é”™ï¼Œå¯ä»¥å…ˆæ³¨é‡Šæ‰ï¼Œå¾…å‡çº§å®Œæˆåå†å¤„ç†</li>
<li>æ‰§è¡Œå®Œæˆåå¯ä»¥åˆ é™¤è¯¥æ’ä»¶ï¼ˆä¹Ÿå¯ä»¥ä¿ç•™ï¼Œä»¥ä¾¿åç»­å¢é‡å‡çº§ï¼‰</li>
</ol>
<h4 data-id="heading-8">OpenRewrite è‡ªåŠ¨å®Œæˆçš„å˜æ›´</h4>
<p>æ‰§è¡Œå®Œæˆåï¼Œä¸»è¦å˜åŒ–åŒ…æ‹¬ï¼š</p>
<p><strong>ä¾èµ–å‡çº§</strong>ï¼š </p>
<ul>
<li><code>pom.xml</code>  ä¸­çš„ä¾èµ–ç‰ˆæœ¬è‡ªåŠ¨å‡çº§ </li>
<li>Spring Boot ç‰ˆæœ¬å‡çº§åˆ° 3.4.xï¼ˆæ‰‹åŠ¨æ”¹ä¸º 3.5.4ï¼‰</li>
</ul>
<p><strong>åŒ…åå˜æ›´</strong>ï¼š</p>
<ul>
<li><code>javax.servlet.* â†’ jakarta.servlet.*</code></li>
<li><code>javax.persistence.* â†’ jakarta.persistence.* </code></li>
<li><code>javax.validation.* â†’ jakarta.validation.*</code></li>
</ul>
<p><strong>API æ–‡æ¡£è¿ç§»</strong>ï¼š</p>
<ul>
<li>Swagger 2.x â†’ SpringDoc OpenAPI 3.x</li>
</ul>
<p/>
<p><strong>JDK æ–°ç‰¹æ€§åº”ç”¨</strong>ï¼š</p>
<ul>
<li><strong>Text Blocks</strong>ï¼šå¤šè¡Œå­—ç¬¦ä¸²çš„ä¼˜é›…å¤„ç†</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªåŠ¨è½¬æ¢ä¸º</span>
<span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-string">"""
 {
 "name": "user",
 "age": 18
 }
 """</span>;
</code></pre>
<ul>
<li><strong>instanceof æ¨¡å¼åŒ¹é…</strong>ï¼šç®€åŒ–ç±»å‹åˆ¤æ–­å’Œè½¬æ¢</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> String s) {
	 System.out.println(s.toUpperCase());
}
</code></pre>
<ul>
<li><strong>String.formatted()ï¼š</strong> æ›¿ä»£ <code>String.format()</code></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-string">"Hello, %s!"</span>.formatted(name);
</code></pre>
<ul>
<li><strong>é›†åˆå¢å¼º</strong>ï¼š getFirst() æ›¿ä»£ get(0)</li>
<li><strong>@Serial</strong> æ³¨è§£ï¼šæ ‡è®°åºåˆ—åŒ–ç›¸å…³å­—æ®µ</li>
</ul>
<p/>
<p><strong>ç¬¬ä¸‰æ–¹åº“å‡çº§</strong>ï¼š </p>
<ul>
<li>Apache HttpClient </li>
<li>Apache Commons ç³»åˆ— </li>
<li>å…¶ä»–å¸¸ç”¨å·¥å…·åº“</li>
</ul>
<p/>
<h4 data-id="heading-9">å¢é‡åˆå¹¶åœºæ™¯å¤„ç†</h4>
<p><strong>åœºæ™¯ï¼š</strong> æ‰§è¡Œ Rewrite åï¼Œæ—§åˆ†æ”¯åˆæœ‰ä»£ç æäº¤ï¼Œåˆå¹¶æ—¶å‡ºç°å¤§é‡ <code>javax</code> åŒ…åå’Œ Swagger æ³¨è§£å†²çªã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ IntelliJ IDEA è‡ªå¸¦çš„ Refactor åŠŸèƒ½ï¼ˆæœ¬è´¨ä¹Ÿæ˜¯åŸºäº OpenRewriteï¼‰</p>
<p>æ“ä½œæ­¥éª¤ï¼š</p>
<ol>
<li>æ‰“å¼€ IDEAï¼Œé€‰æ‹© <code>Refactor â†’ Migrate Packages and Classes </code></li>
<li>é€‰æ‹©è¿ç§»è§„åˆ™ï¼ˆjavax â†’ jakartaï¼‰ </li>
<li>é¢„è§ˆå˜æ›´å¹¶æ‰§è¡Œ</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f9f8a046a9f4d5bb3651ea4b8e0b9ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=Lf2blUIbVBYlD9iOkdykDBvfUGk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe3555b974b349c1b11d46d6df560d1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=DLEsyvmlp9J7b%2Fsb%2FNyqR0l%2BTWE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">ç¬¬äºŒé˜¶æ®µï¼šç¯å¢ƒåˆ‡æ¢ï¼ˆJDK 21 ç¯å¢ƒï¼‰</h3>
<blockquote>
<p><strong>é‡è¦åˆ†ç•Œçº¿ï¼šä»¥ä¸‹æ“ä½œéœ€åœ¨ JDK 21 ç¯å¢ƒä¸‹è¿›è¡Œã€‚</strong></p>
</blockquote>
<hr/>
<h4 data-id="heading-11">6. ä¿®æ”¹ IDEA é¡¹ç›®é…ç½®</h4>
<p><strong>ä¿®æ”¹ SDK å’Œ Language Levelï¼ˆå¿«æ·é”®ï¼šCtrl + Alt + Shift + Sï¼‰ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c59de59d458d49cf9f81ac2106903c7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=D0z45B6qk81lc67rPfT5NuudMlQ%3D" alt="" loading="lazy"/></p>
<p><strong>ä¿®æ”¹ Modules çš„ Language Levelï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f0a71baef754c1f965f8fc168b3b527~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=kUAd%2Fdwmd%2B%2B3NdzXadWBsoUua9Y%3D" alt="" loading="lazy"/></p>
<p><strong>ä¿®æ”¹ Java Compilerï¼ˆå¿«æ·é”®ï¼šCtrl + Alt + Sï¼‰ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cba430b48fe24113a92e63a690a2f95a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=pYSQfEpCs1wzchwcwCD8bQBnSeo%3D" alt="" loading="lazy"/></p>
<hr/>
<hr/>
<hr/>
<h2 data-id="heading-12">æ ¸å¿ƒé—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-13">é—®é¢˜ä¸€ï¼šHibernate DDL Auto çš„é™·é˜±</h3>
<blockquote>
<p><strong>ä¸¥é‡è­¦å‘Šï¼šåœ¨å®Œæˆä»¥ä¸‹é…ç½®å‰ï¼Œåˆ‡å‹¿å¯åŠ¨é¡¹ç›®ï¼å¦åˆ™å¯èƒ½å¯¼è‡´æ•°æ®åº“ç»“æ„è¢«é”™è¯¯ä¿®æ”¹ã€‚</strong></p>
</blockquote>
<hr/>
<p><strong>é—®é¢˜èƒŒæ™¯</strong></p>
<p>æ–°æ—§ç‰ˆæœ¬ Hibernate çš„è¡Œä¸ºå·®å¼‚ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caff1acd509a48b68297e782b1fd8d9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=wDiwtanzB%2FVTO6GfM6p0IS99N%2FI%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸ºä»€ä¹ˆè¦ç¦ç”¨ï¼Ÿ</strong></p>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ <code>spring.jpa.hibernate.ddl-auto=update</code> å­˜åœ¨ä¸¥é‡é£é™©ï¼š</p>
<ol>
<li><strong>æ•°æ®å®‰å…¨é£é™©</strong>ï¼šè‡ªåŠ¨æ›´æ–°å¯èƒ½å¯¼è‡´æ„å¤–çš„æ•°æ®ä¸¢å¤±æˆ–ç»“æ„å˜æ›´ </li>
<li><strong>æ€§èƒ½é—®é¢˜</strong>ï¼šå¯åŠ¨æ—¶å…¨è¡¨æ£€æŸ¥ä¼šæ˜¾è‘—å¢åŠ åº”ç”¨å¯åŠ¨æ—¶é—´ </li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶ç¼ºå¤±</strong>ï¼šæ— æ³•è¿½è¸ªæ•°æ®åº“å˜æ›´å†å²ï¼Œä¸åˆ©äºå›¢é˜Ÿåä½œå’Œå›æ»š </li>
<li><strong>å‡çº§åé£é™©æ›´é«˜</strong>ï¼šHibernate 6.x çš„æ ¡éªŒæ›´ä¸¥æ ¼ï¼Œè¯¯æ“ä½œæ¦‚ç‡å¢åŠ </li>
</ol>
<p><strong/></p>
<h4 data-id="heading-14">è§£å†³æ–¹æ¡ˆ</h4>
<p><strong>æ–¹æ¡ˆä¸€ï¼šé…ç½®ä¼˜å…ˆçº§æ§åˆ¶ï¼ˆæ¨èï¼‰</strong></p>
<p>åœ¨ CI/CD å¯åŠ¨è„šæœ¬ä¸­è®¾ç½® VM å‚æ•°ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">java -jar app.jar -Dspring.jpa.hibernate.ddl-auto=none
</code></pre>
<p><strong>ä¼˜å…ˆçº§</strong>ï¼šVM å‚æ•° &gt; é…ç½®ä¸­å¿ƒï¼ˆApollo/Nacosï¼‰ &gt; application.properties</p>
<p><strong>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ä¸“ä¸šçš„æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†å·¥å…·</strong></p>
<p>æ¨èä½¿ç”¨ <strong>Flyway</strong> æˆ– <strong>Liquibase</strong> ç®¡ç†æ•°æ®åº“è„šæœ¬ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.flywaydb<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>flyway-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>æ–¹æ¡ˆä¸‰ï¼šç»“æ„å¯¹æ¯”å·¥å…·</strong></p>
<ul>
<li><strong>Navicat</strong>ï¼šæä¾›ç»“æ„åŒæ­¥åŠŸèƒ½ </li>
<li><strong>DataGrip</strong>ï¼šIntelliJ ç³»äº§å“ï¼Œæ”¯æŒæ•°æ®åº“ç»“æ„å¯¹æ¯”</li>
</ul>
<p/>
<h3 data-id="heading-15"><strong>é—®é¢˜äºŒï¼šSpring Security é…ç½®è¿ç§»</strong></h3>
<p><strong>æ ¸å¿ƒå˜åŒ–</strong></p>
<ul>
<li><code>WebSecurityConfigurerAdapter</code> å·²åºŸå¼ƒ</li>
<li>æ¨èä½¿ç”¨ <strong>Lambda DSL</strong> é…ç½®æ–¹å¼ </li>
<li>é…ç½®æ–¹å¼ä»ç»§æ‰¿æ”¹ä¸º Bean æ³¨å†Œ</li>
</ul>
<p><strong>è¿ç§»ç¤ºä¾‹</strong></p>
<p><strong>æ—§ç‰ˆé…ç½®</strong>ï¼ˆSpring Security 5.xï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">WebSecurityConfigurerAdapter</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configure</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception {
        http
                .csrf().disable()
                .sessionManagement()
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)
                .and()
                .authorizeRequests()
                .antMatchers(<span class="hljs-string">"/api/public/**"</span>).permitAll()
                .anyRequest().authenticated();
    }
}
</code></pre>
<p><strong>æ–°ç‰ˆé…ç½®</strong>ï¼ˆSpring Security 6.xï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecurityConfig</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TokenProvider tokenProvider;
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SecurityConfig</span><span class="hljs-params">(TokenProvider tokenProvider)</span> {
        <span class="hljs-built_in">this</span>.tokenProvider = tokenProvider;
    }
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> SecurityFilterChain <span class="hljs-title function_">filterChain</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception {
        http
                .csrf(AbstractHttpConfigurer::disable)
                .sessionManagement(sessionManagement -&gt; sessionManagement
                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))
                .authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests
                        <span class="hljs-comment">// å…è®¸æ‰€æœ‰ OPTIONS è¯·æ±‚</span>
                        .requestMatchers(OPTIONS, <span class="hljs-string">"**"</span>).permitAll()
                        .requestMatchers(
                                <span class="hljs-string">"/swagger-ui/**"</span>,
                                <span class="hljs-string">"/v3/api-docs/**"</span>,
                                <span class="hljs-string">"/swagger-resources/**"</span>,
                                <span class="hljs-string">"/images/**"</span>,
                                <span class="hljs-string">"/webjars/**"</span>).permitAll()
                        .anyRequest().authenticated())
                .addFilterBefore(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JWTFilter</span>(tokenProvider), UsernamePasswordAuthenticationFilter.class);
        <span class="hljs-keyword">return</span> http.build();
    }
}
</code></pre>
<p><strong>RequestMatcher è°ƒæ•´æ³¨æ„äº‹é¡¹</strong></p>
<ol>
<li><strong>æ–°å¢ SpringDoc è·¯å¾„</strong>ï¼ˆå¿…é¡»ï¼‰</li>
</ol>
<pre><code class="hljs language-java" lang="java">/swagger-ui<span class="hljs-comment">/**

/v3/api-docs/**
</span></code></pre>
<p><strong>ä¿®æ­£é€šé…ç¬¦å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java">âŒ é”™è¯¯ï¼š <span class="hljs-comment">//**/*.js</span>
âœ… æ­£ç¡®ï¼š <span class="hljs-comment">/**/*.js

å¦åˆ™ä¼šæŠ›å‡º PatternParseException

</span></code></pre>
<h3 data-id="heading-16"><strong>é—®é¢˜ä¸‰ï¼šSpringDoc OpenAPI é…ç½®</strong></h3>
<p><strong>Swagger â†’ SpringDoc è¿ç§»</strong></p>
<pre><code class="hljs language-java" lang="java">	&lt;!-- ç§»é™¤æ—§çš„ Swagger ä¾èµ– --&gt;
    &lt;!--
    &lt;dependency&gt;
     &lt;groupId&gt;io.springfox&lt;/groupId&gt;
     &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
    &lt;/dependency&gt;
    --&gt;
    &lt;!-- æ·»åŠ æ–°çš„ SpringDoc ä¾èµ– --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;
        &lt;version&gt;<span class="hljs-number">2.3</span><span class="hljs-number">.0</span>&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>
<p><strong>é…ç½®ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@OpenAPIDefinition</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SwaggerConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> OpenAPI <span class="hljs-title function_">openAPI</span><span class="hljs-params">()</span> {
        <span class="hljs-type">OpenAPI</span> <span class="hljs-variable">openAPI</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAPI</span>();
        openAPI.info(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Info</span>().title(<span class="hljs-string">"API æ–‡æ¡£"</span>).version(<span class="hljs-string">"1.0"</span>));
        <span class="hljs-comment">// é…ç½® Authorization ç™»å½•é‰´æƒ</span>
        Map&lt;String, SecurityScheme&gt; map = Map.of(<span class="hljs-string">"Authorization"</span>,
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecurityScheme</span>()
                        .type(SecurityScheme.Type.APIKEY)
                        .in(SecurityScheme.In.HEADER)
                        .name(<span class="hljs-string">"Authorization"</span>));
        openAPI.components(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Components</span>().securitySchemes(map));
        map.keySet().forEach(key -&gt; openAPI.addSecurityItem(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SecurityRequirement</span>().addList(key)));
        <span class="hljs-keyword">return</span> openAPI;
    }
}
</code></pre>
<p><strong>æ³¨è§£å¯¹åº”å…³ç³»</strong></p>





























<table><thead><tr><th align="left"><strong>Swagger 2.x</strong></th><th align="left"><strong>SpringDoc OpenAPI 3.x</strong></th></tr></thead><tbody><tr><td align="left">@Api</td><td align="left">@Tag</td></tr><tr><td align="left">@ApiOperation</td><td align="left">@Operation</td></tr><tr><td align="left">@ApiParam</td><td align="left">@Parameter</td></tr><tr><td align="left">@ApiModel</td><td align="left">@Schema</td></tr><tr><td align="left">@ApiModelProperty</td><td align="left">@Schema</td></tr></tbody></table>
<p><strong>è®¿é—®åœ°å€å˜æ›´</strong></p>
<p>åŸ Swagger UI åœ°å€ï¼š <code>http://localhost:8080/swagger-ui.html </code>
æ–° SpringDoc åœ°å€ï¼š <code>http://localhost:8080/swagger-ui/index.html</code><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64fb97da283e4ef89e0bd5674e72de4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=kl0l6C1h2IM7AasUnod6X6GlOZs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-17">é—®é¢˜å››ï¼šä¾èµ–å†²çªä¸å®‰å…¨æ¼æ´ä¿®å¤</h3>
<p><strong>æ£€æµ‹å·¥å…·</strong></p>
<p>ä½¿ç”¨ IDEA è‡ªå¸¦çš„ä¾èµ–åˆ†æå·¥å…·ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6dfc53e8c529446f802b5bc33d349b15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=XP12sN%2BpA4YAZ4G6tiYHBxQX1oA%3D" alt="" loading="lazy"/></p>
<p><strong>å¿…é¡»å‡çº§çš„ä¾èµ–ï¼ˆå­˜åœ¨é«˜å±æ¼æ´ï¼‰ </strong></p>
<p>æ¨èä½¿ç”¨ <strong>OWASP Dependency-Check</strong> æˆ– <strong>Snyk</strong> æ‰«æï¼š</p>
<pre><code class="hljs language-shell" lang="shell">mvn dependency-check:check
</code></pre>
<p><strong>è§£å†³ä¾èµ–å†²çªçš„æŠ€å·§</strong></p>
<p><strong>é—®é¢˜</strong>ï¼šMaven ä¾èµ–è§£æé‡‡ç”¨"æœ€çŸ­è·¯å¾„ä¼˜å…ˆ"å’Œ"ç¬¬ä¸€å£°æ˜ä¼˜å…ˆ"åŸåˆ™ï¼Œå¯èƒ½å¯¼è‡´æ—§ç‰ˆæœ¬è¦†ç›–æ–°ç‰ˆæœ¬ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ˜¾å¼å£°æ˜æœŸæœ›çš„ç‰ˆæœ¬</p>
<pre><code class="hljs language-java" lang="java">&lt;dependencies&gt;
    &lt;!-- æ˜¾å¼å£°æ˜ Spring Framework ç‰ˆæœ¬ï¼Œé¿å…è¢«ä¼ é€’ä¾èµ–è¦†ç›– --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
        &lt;version&gt;<span class="hljs-number">6.1</span><span class="hljs-number">.3</span>&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p><strong>å¿«é€Ÿæ£€æµ‹æŠ€å·§</strong>ï¼š</p>
<p>åœ¨ IDEA çš„ Maven ä¾èµ–æ ‘ä¸­æœç´¢ <code>RELEASE</code> ï¼ŒSpring æ–°ç‰ˆæœ¬å·²ä¸ä½¿ç”¨ <code>RELEASE</code> åç¼€ï¼Œæœç´¢åˆ°çš„åŸºæœ¬éƒ½æ˜¯æ—§ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b3e7a1458c24de38ba1307251d4bb21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=6JrwGLKaYQnr7ZRUBIADLlDPSSs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-18">é—®é¢˜äº”ï¼šURL å°¾æ–œæ åŒ¹é…ç­–ç•¥å˜æ›´</h3>
<p><strong>è¡Œä¸ºå˜åŒ–</strong></p>

















<table><thead><tr><th align="left"><strong>ç‰ˆæœ¬</strong></th><th align="left"><strong>è¡Œä¸º</strong></th></tr></thead><tbody><tr><td align="left"><strong>Spring Boot 2.x</strong></td><td align="left">/api/user/get å’Œ /api/user/get/ è§†ä¸ºåŒä¸€æ¥å£</td></tr><tr><td align="left"><strong>Spring Boot 3.x</strong></td><td align="left">/api/user/get å’Œ /api/user/get/ è§†ä¸º<strong>ä¸åŒæ¥å£</strong></td></tr></tbody></table>
<p><strong>å¸¸è§å¯¼è‡´å°¾æ–œæ çš„æƒ…å†µ</strong></p>
<ul>
<li><strong>Case 1ï¼šç±»æ³¨è§£å¸¦å°¾æ–œæ </strong></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("/api/user/")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
 <span class="hljs-meta">@PostMapping("login")</span> <span class="hljs-comment">// å®é™…è·¯å¾„ï¼š/api/user/login</span>
}
</code></pre>
<p><strong>Case 2ï¼šç©ºå­—ç¬¦ä¸²æ˜ å°„</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RequestMapping("/api/user")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
 <span class="hljs-meta">@PostMapping("")</span> <span class="hljs-comment">// å®é™…è·¯å¾„ï¼š/api/user/ï¼ˆå¸¦å°¾æ–œæ ï¼ï¼‰</span>
}
</code></pre>
<p><strong>Case 3ï¼šæ ¹è·¯å¾„æ˜ å°„</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostMapping("/")</span> <span class="hljs-comment">// å®é™…è·¯å¾„ï¼š/ï¼ˆå¸¦å°¾æ–œæ ï¼‰</span>
</code></pre>
<p><strong>\ **** æ£€æŸ¥æ–¹å¼ </strong></p>
<ol>
<li><strong>IDEA Endpoints å·¥å…·çª—å£</strong>ï¼šæŸ¥çœ‹æ‰€æœ‰ç«¯ç‚¹ </li>
<li><strong>SpringDoc UI</strong>ï¼šè®¿é—® Swagger é¡µé¢æ£€æŸ¥</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac276d6bdece4fee87b32949771cd83f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=rzKpr1QezzBD4hxVBMqK3c%2F8yN8%3D" alt="" loading="lazy"/></p>
<p>ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼ˆä¸æ¨èé•¿æœŸä½¿ç”¨ï¼‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.PathMatchConfigurer;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebConfiguration</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">configurePathMatch</span><span class="hljs-params">(PathMatchConfigurer configurer)</span> {        
        <span class="hljs-comment">// è®¾ ç½® ä¸º  true ä»¥ å¿½ ç•¥ å°¾ æ–œ æ  ï¼Œ æ¢ å¤ æ—§ ç‰ˆ æœ¬ è¡Œ ä¸º</span>
        configurer.setUseTrailingSlashMatch(<span class="hljs-literal">true</span>);
    }
}
</code></pre>
<blockquote>
<p><em><strong>æ³¨æ„</strong>__ï¼š Â·</em><code>setUseTrailingSlashMatch</code> åœ¨ Spring 6.x åå·²æ ‡è®°ä¸ºåºŸå¼ƒï¼Œåç»­ç‰ˆæœ¬å°†åˆ é™¤ã€‚å»ºè®®é€æ­¥ä¿®æ­£æ‰€æœ‰ç«¯ç‚¹ï¼Œå»é™¤å°¾æ–œæ ã€‚</p>
</blockquote>
<p><strong>æ ¹æœ¬è§£å†³æ–¹æ¡ˆ</strong></p>
<ol>
<li>ä¿®æ­£æ‰€æœ‰ Controller çš„è·¯å¾„æ˜ å°„ </li>
<li>é€šçŸ¥å‰ç«¯å›¢é˜ŸåŒæ­¥ä¿®æ”¹è°ƒç”¨è·¯å¾„ </li>
<li>å¦‚æœæœ‰ç¡¬ç¼–ç çš„ URLï¼Œå…¨å±€æœç´¢å¹¶ä¿®æ­£ </li>
<li>ä½¿ç”¨æµ‹è¯•ç¡®ä¿å‰åç«¯è°ƒç”¨æ­£å¸¸</li>
</ol>
<p><strong/></p>
<h3 data-id="heading-19"><strong>é—®é¢˜å…­ï¼šApache POI / EasyExcel å‡çº§</strong></h3>
<p><strong>èƒŒæ™¯ </strong></p>
<p>Apache POI æ—§ç‰ˆæœ¬ï¼ˆ&lt; 5.0ï¼‰å­˜åœ¨å¤šä¸ª CVE å®‰å…¨æ¼æ´ï¼Œå¿…é¡»å‡çº§ã€‚</p>
<p><strong>æ¨èæ–¹æ¡ˆ</strong></p>
<p><strong>å¯¹äºæ–°é¡¹ç›®</strong>ï¼šç›´æ¥ä½¿ç”¨ <strong>FastExcel</strong></p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
     &lt;groupId&gt;cn.idev.excel&lt;/groupId&gt;
     &lt;artifactId&gt;fastexcel&lt;/artifactId&gt;
     &lt;version&gt;<span class="hljs-number">1.0</span><span class="hljs-number">.0</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p><strong>å¯¹äºä½¿ç”¨ EasyExcel çš„æ—§é¡¹ç›®</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
     &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
     &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;
     &lt;version&gt;<span class="hljs-number">4.0</span><span class="hljs-number">.3</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<blockquote>
<p><em/><em><strong>è¯´æ˜</strong>**ï¼šEasyExcel å·²ä¸å†ç»´æŠ¤ï¼ŒFastExcel æ˜¯ç¤¾åŒºç»´æŠ¤çš„æ›¿ä»£æ–¹æ¡ˆï¼ŒAPI åŸºæœ¬å…¼å®¹ã€‚</em></p>
</blockquote>
<p><strong>è¿ç§»æ³¨æ„äº‹é¡¹</strong></p>
<p>EasyExcel è·¨å¤§ç‰ˆæœ¬å‡çº§ï¼ˆ2.x â†’ 4.xï¼‰API å˜åŒ–è¾ƒå¤§ï¼Œä¸»è¦æ”¹åŠ¨ï¼š </p>
<p><strong>1. </strong>ç›‘å¬å™¨æ¥å£æ–¹æ³•ç­¾åè°ƒæ•´ </p>
<p><strong>2. </strong>éƒ¨åˆ†å·¥å…·ç±»åŒ…è·¯å¾„å˜æ›´ </p>
<p><strong>3. </strong>è‡ªå®šä¹‰è½¬æ¢å™¨éœ€è¦é€‚é…æ–°æ¥å£ </p>
<p>å»ºè®®å‚è€ƒå®˜æ–¹è¿ç§»æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Feasyexcel.opensource.alibaba.com%2F" target="_blank" title="https://easyexcel.opensource.alibaba.com/" ref="nofollow noopener noreferrer">EasyExcelå®˜æ–¹æ–‡æ¡£ - åŸºäºJavaçš„Excelå¤„ç†å·¥å…· | Easy Excel å®˜ç½‘</a></p>
<p/>
<h3 data-id="heading-20">é—®é¢˜ä¸ƒï¼šJDK æ¨¡å—åŒ–é™åˆ¶ï¼ˆ--add-opensï¼‰</h3>
<p><strong>é—®é¢˜ç°è±¡ </strong></p>
<p>æŸäº›ä¾èµ–åº“ä½¿ç”¨åå°„è®¿é—® JDK å†…éƒ¨ APIï¼Œåœ¨ JDK 9+ æ¨¡å—åŒ–ç³»ç»Ÿä¸‹ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-java" lang="java">InaccessibleObjectException: Unable to make field accessible:
<span class="hljs-keyword">module</span> java.base does not <span class="hljs-string">"opens java.net"</span> to unnamed <span class="hljs-keyword">module</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ </strong></p>
<p>åœ¨ IDEA è¿è¡Œé…ç½®ä¸­æ·»åŠ  VM å‚æ•°ï¼š </p>
<p><strong>å¼€å¯ VM å‚æ•°é…ç½®</strong>ï¼ˆé»˜è®¤éšè—ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/329d602fe0c44732a8c35026aee52fe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=Z5SSabvNRDJV%2ByJt2X0rysW6p5s%3D" alt="" loading="lazy"/></p>
<p><strong>è§£å†³æ–¹æ¡ˆ </strong></p>
<p>åœ¨ IDEA è¿è¡Œé…ç½®ä¸­æ·»åŠ  VM å‚æ•°ï¼š </p>
<p><strong>å¼€å¯ VM å‚æ•°é…ç½®</strong>ï¼ˆé»˜è®¤éšè—ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fde1f0fd0937439d8474be89516861ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=26KlG0A0TFMO8NlAOgXuqt5GN5I%3D" alt="" loading="lazy"/></p>
<p><strong>å¸¸è§éœ€è¦å¼€æ”¾çš„æ¨¡å—</strong></p>
<pre><code class="hljs language-java" lang="java">--add-opens java.base/java.lang=ALL-UNNAMED
--add-opens java.base/java.util=ALL-UNNAMED
--add-opens java.base/java.lang.reflect=ALL-UNNAMED 
--add-opens java.base/sun.nio.ch=ALL-UNNAMED
</code></pre>
<p/>
<p/>
<h3 data-id="heading-21">é—®é¢˜å…«ï¼šè¿‡æœŸé…ç½®å±æ€§è­¦å‘Š</h3>
<p>é—®é¢˜ç°è±¡</p>
<p>å¯åŠ¨æ—¶å‡ºç°è­¦å‘Šï¼š</p>
<pre><code class="hljs language-java" lang="java">Property <span class="hljs-string">'spring.xxx.yyy'</span> is deprecated
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1524afa4e7e4b63847a4e28eb175e55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=cfxJcE2%2BP3%2FVqLPSCPPwS4Vt4qo%3D" alt="" loading="lazy"/></p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>
<p>æŸ¥çœ‹ Spring Boot å®˜æ–¹è¿ç§»æ–‡æ¡£</p>
</li>
<li>
<p>ä½¿ç”¨ IDEA çš„æ™ºèƒ½æç¤ºæŸ¥çœ‹æ›¿ä»£å±æ€§</p>
</li>
<li>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆ å¸¸è§è¿‡æœŸå±æ€§ï¼š<code>application.yml</code> æˆ–é…ç½®ä¸­å¿ƒ)</p>
</li>
</ol>
<p>å¸¸è§è¿‡æœŸå±æ€§ï¼š</p>





















<table><thead><tr><th align="left"><strong>è¿‡æœŸå±æ€§</strong></th><th align="left"><strong>æ›¿ä»£å±æ€§</strong></th></tr></thead><tbody><tr><td align="left">spring.datasource.type</td><td align="left">è‡ªåŠ¨æ¨æ–­ï¼Œæ— éœ€é…ç½®</td></tr><tr><td align="left">spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults</td><td align="left">å·²ç§»é™¤</td></tr><tr><td align="left">management.metrics.export.prometheus.enabled</td><td align="left">management.prometheus.metrics.export.enabled</td></tr></tbody></table>
  
 
<h2 data-id="heading-22"><strong>å®Œæ•´æµ‹è¯•æ¸…å•</strong></h2>
<p>å‡çº§å®Œæˆåï¼ŒåŠ¡å¿…è¿›è¡Œå…¨é¢çš„å›å½’æµ‹è¯•ï¼š </p>
<ul>
<li><strong>Spring Security</strong>ï¼šè®¤è¯ã€æˆæƒæ˜¯å¦æ­£å¸¸ </li>
<li><strong>SpringDoc</strong>ï¼šAPI æ–‡æ¡£æ˜¯å¦å¯è®¿é—®ï¼ˆ /swagger-ui/index.html ï¼‰ </li>
<li><strong>æ•°æ®åº“æ“ä½œ</strong>ï¼šJPA/MyBatis æ˜¯å¦æ­£å¸¸å·¥ä½œ </li>
<li><strong>ç¼“å­˜</strong>ï¼šRedis/Caffeine ç­‰ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆ </li>
<li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šRabbitMQ/Kafka ç­‰æ˜¯å¦æ­£å¸¸ </li>
<li><strong>å®šæ—¶ä»»åŠ¡</strong>ï¼šScheduled/Quartz æ˜¯å¦æŒ‰é¢„æœŸæ‰§è¡Œ </li>
<li><strong>æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½</strong>ï¼šæ–‡ä»¶ IO æ“ä½œæ˜¯å¦æ­£å¸¸ </li>
<li><strong>ä¸šåŠ¡åŠŸèƒ½</strong>ï¼šæ ¸å¿ƒä¸šåŠ¡æµç¨‹æ˜¯å¦æ­£å¸¸ï¼ˆé‡ç‚¹å…³æ³¨æœ‰ä»£ç æ”¹åŠ¨çš„åœ°æ–¹ï¼‰ </li>
<li><strong>æ€§èƒ½æµ‹è¯•</strong>ï¼šå¯¹æ¯”å‡çº§å‰åçš„æ€§èƒ½æŒ‡æ ‡</li>
</ul>
<p/>
<h2 data-id="heading-23">å‡çº§æ„Ÿæ‚Ÿ</h2>
<p><strong>æ¡†æ¶å±‚é¢çš„å˜åŒ–è¶‹åŠ¿ </strong></p>
<p>é€šè¿‡è¿™æ¬¡å‡çº§ï¼Œæˆ‘è§‚å¯Ÿåˆ°ç°ä»£æ¡†æ¶çš„ä¸€äº›å‘å±•è¶‹åŠ¿ï¼š </p>
<ol>
<li><strong>æ ¡éªŒæ›´ä¸¥æ ¼</strong>ï¼š</li>
</ol>
<ul>
<li>Spring ä¸å†å®¹å¿ URL å°¾æ–œæ çš„æ¨¡ç³ŠåŒ¹é… </li>
<li>å¾ªç¯ä¾èµ–æ£€æµ‹æ›´ä¸¥æ ¼ï¼ˆé»˜è®¤ç¦æ­¢ï¼‰ </li>
<li>Hibernate å¯¹å®ä½“çŠ¶æ€çš„æ ¡éªŒæ›´ç²¾ç¡®</li>
</ul>
<ol start="2">
<li><strong>å®‰å…¨æ€§ä¼˜å…ˆ</strong>ï¼š </li>
</ol>
<ul>
<li>é»˜è®¤é…ç½®æ›´ä¿å®ˆ </li>
<li>åºŸå¼ƒä¸å®‰å…¨çš„ API </li>
<li>å¼ºåˆ¶å‡çº§ä¿®å¤å·²çŸ¥æ¼æ´</li>
</ul>
<ol start="3">
<li><strong>ç°ä»£åŒ– API</strong>ï¼š </li>
</ol>
<ul>
<li>Lambda DSL é…ç½®é£æ ¼ </li>
<li>å‡½æ•°å¼ç¼–ç¨‹æ”¯æŒ </li>
<li>æ›´ç®€æ´çš„ API è®¾è®¡</li>
</ul>
<p/>
<p><strong>ä¾èµ–é€‰æ‹©å»ºè®® </strong></p>
<p>åŸºäºè¿™æ¬¡å‡çº§ç»éªŒï¼Œå¯¹äºç¬¬ä¸‰æ–¹åº“çš„é€‰æ‹©å»ºè®®ï¼š </p>
<p><strong>ä¼˜å…ˆé€‰æ‹©</strong>ï¼š </p>
<p>âœ… å›½é™…ä¸»æµé¡¹ç›®ï¼ˆApacheã€Spring ç”Ÿæ€ç­‰ï¼‰ </p>
<p>âœ… æœ‰å®Œå–„æ–‡æ¡£å’Œæµ‹è¯•çš„é¡¹ç›® </p>
<p>âœ… æ´»è·ƒç»´æŠ¤ä¸”ç¤¾åŒºè§„æ¨¡å¤§çš„é¡¹ç›® </p>
<p>âœ… è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†æ¸…æ™°çš„é¡¹ç›® </p>
<p><strong>è°¨æ…é€‰æ‹©</strong>ï¼š </p>
<p>âš ï¸ ç¼ºä¹è‡ªåŠ¨åŒ–æµ‹è¯•çš„é¡¹ç›® </p>
<p>âš ï¸ é•¿æœŸæœªæ›´æ–°çš„é¡¹ç›® </p>
<p>âš ï¸ API è®¾è®¡ä¸ç¨³å®šã€é¢‘ç¹ Breaking Change çš„é¡¹ç›® </p>
<p>âš ï¸ æ–‡æ¡£ä¸å…¨ã€ç»´æŠ¤å›¢é˜Ÿä¸ç¨³å®šçš„é¡¹ç›®</p>
<p/>
<p><strong>è‡ªåŠ¨åŒ–è¿ç§»çš„ä»·å€¼ </strong></p>
<p>OpenRewrite ç­‰è‡ªåŠ¨åŒ–å·¥å…·åœ¨å¤§ç‰ˆæœ¬å‡çº§ä¸­çš„ä»·å€¼æ— å¯æ›¿ä»£ï¼š </p>
<ul>
<li>å‡å°‘ 90% ä»¥ä¸Šçš„æœºæ¢°æ€§æ”¹åŠ¨ </li>
<li>é¿å…æ‰‹å·¥æ›¿æ¢å¯¼è‡´çš„é—æ¼ </li>
<li>ä¿æŒä»£ç é£æ ¼å’Œæ³¨é‡Š </li>
<li>é™ä½å‡çº§é£é™© </li>
</ul>
<p>å»ºè®®åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¹Ÿå…³æ³¨æ­¤ç±»å·¥å…·ï¼Œæå‡å›¢é˜Ÿæ•´ä½“æ•ˆç‡ã€‚</p>
<p/>
<p/>
<p><strong>æœ¬æ–‡é¦–å‘äº [å°šç¡…è°·ç¼–ç¨‹è”ç›Ÿ]ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</strong></p>
<h2 data-id="heading-24">æœ€åï¼š</h2>
<blockquote>
<p>â€œåœ¨è¿™ä¸ªæœ€åçš„ç¯‡ç« ä¸­ï¼Œæˆ‘è¦è¡¨è¾¾æˆ‘å¯¹æ¯ä¸€ä½è¯»è€…çš„æ„Ÿæ¿€ä¹‹æƒ…ã€‚ä½ ä»¬çš„å…³æ³¨å’Œå›å¤æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›æºæ³‰ï¼Œæˆ‘ä»ä½ ä»¬èº«ä¸Šå¸å–äº†æ— å°½çš„çµæ„Ÿä¸å‹‡æ°”ã€‚æˆ‘ä¼šå°†ä½ ä»¬çš„é¼“åŠ±ç•™åœ¨å¿ƒåº•ï¼Œç»§ç»­åœ¨å…¶ä»–çš„é¢†åŸŸå¥‹æ–—ã€‚æ„Ÿè°¢ä½ ä»¬ï¼Œæˆ‘ä»¬æ€»ä¼šåœ¨æŸä¸ªæ—¶åˆ»å†æ¬¡ç›¸é‡ã€‚â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac74b7c91eb04ef4b0af069c2c16ae95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633080&amp;x-signature=HGpqL0joAPJAWLaok1%2FWbYL7UVA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[github ä»“åº“ä¸»é¡µç¾åŒ–å®šåˆ¶]]></title>    <link>https://juejin.cn/post/7580329353352888366</link>    <guid>https://juejin.cn/post/7580329353352888366</guid>    <pubDate>2025-12-06T13:43:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580329353352888366" data-draft-id="7580277964342050826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="github ä»“åº“ä¸»é¡µç¾åŒ–å®šåˆ¶"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T13:43:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RainbowSea"/> <meta itemprop="url" content="https://juejin.cn/user/752533564566951"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            github ä»“åº“ä¸»é¡µç¾åŒ–å®šåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/752533564566951/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RainbowSea
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T13:43:45.000Z" title="Sat Dec 06 2025 13:43:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="darcula">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#bababa}.hljs-emphasis,.hljs-strong{color:#a8a8a2}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#6896ba}.hljs-code,.hljs-selector-class{color:#a6e22e}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#cb7832}.hljs-params{color:#b9b9b9}.hljs-string{color:#6a8759}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable,.hljs-type{color:#e0c46c}.hljs-comment,.hljs-deletion,.hljs-meta{color:#7f7f7f}</style><h2 data-id="heading-0">github ä»“åº“ä¸»é¡µç¾åŒ–å®šåˆ¶</h2>
<h2 data-id="heading-1"><strong>githubçŠ¶æ€ä¿¡æ¯-api</strong></h2>
<h3 data-id="heading-2">GitHub è´¦æˆ·ä¿¡æ¯ç»Ÿè®¡</h3>
<pre><code class="hljs language-java" lang="java">![GitHubè´¦æˆ·ä¿¡æ¯ç»Ÿè®¡](https:<span class="hljs-comment">//github-stats.ubrong.com/api?username=ubrong&amp;amp;show_icons=true&amp;amp;theme=tokyonight)</span>
</code></pre>
<pre><code class="hljs language-java" lang="java">å‚æ•°è¯´æ˜ï¼š
username [å¿…å¡«] (string) è¢«ç»Ÿè®¡ä¿¡æ¯çš„githubç”¨æˆ·å
show_icons [å¯é€‰] (<span class="hljs-type">boolean</span>) <span class="hljs-literal">false</span>ä¸æ˜¾ç¤ºå›¾æ ‡,<span class="hljs-literal">true</span>æ˜¾ç¤ºå›¾æ ‡
theme [å¯é€‰] (string) ä¸»é¢˜ï¼ˆå¯ç”¨å€¼ï¼š<span class="hljs-keyword">default</span>, dark, radical, merko, gruvbox, tokyonight, onedark, cobalt, synthwave, highcontrast, draculaï¼‰
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5552e81c79f74c4687dc16c170247a05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=tjy14Q1mApuTtvXAM3GftHW0Jfo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">æ˜¾ç¤º Github å½“ä¸­ä»“åº“ä½ å¸¸ç”¨çš„è¯­è¨€</h3>
<pre><code class="hljs language-java" lang="java">![GitHubè´¦æˆ·æœ€å¸¸ç”¨è¯­è¨€](https:<span class="hljs-comment">//github-stats.ubrong.com/api/top-langs/?username=ubrong&amp;amp;layout=compact&amp;amp;theme=tokyonight)</span>
</code></pre>
<pre><code class="hljs language-java" lang="java">å‚æ•°è¯´æ˜ï¼š
layout [å¯é€‰] (string) å¸ƒå±€ï¼ˆå¯ç”¨å€¼ï¼š<span class="hljs-keyword">default</span>, compactï¼‰
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9f579fcda7940088d46da43b3dc5bb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=%2FOheLxRlY7BRDsm9ZtEg8HJCEOE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">æ˜¾ç¤º GitHub ä»“åº“ä¿¡æ¯å¡ç‰‡</h3>
<pre><code class="hljs language-java" lang="java">![GitHubä»“åº“ä¿¡æ¯å¡ç‰‡](https:<span class="hljs-comment">//github-stats.ubrong.com/api/pin/?username=ubrong&amp;amp;repo=phoneweb-base&amp;amp;theme=dark)</span>
</code></pre>
<pre><code class="hljs language-java" lang="java">å‚æ•°è¯´æ˜ï¼š
repo [å¿…é€‰] (string) ä»“åº“åç§°
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaa629f10e724ad2a99f7cd783665727~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=h7NHIBm0A7QnfMMTpO163qUuh1Y%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">ç¬¬ä¸‰æ–¹ç¤¾äº¤å¹³å°æ•°æ®çš„ç»Ÿè®¡</h2>
<pre><code class="hljs language-java" lang="java">![githubç»Ÿè®¡](https:<span class="hljs-comment">//stats.justsong.cn/api/github?username=ubrong&amp;amp;theme=dark&amp;amp;lang=zh-CN)</span>

![Bç«™ç»Ÿè®¡](https:<span class="hljs-comment">//stats.justsong.cn/api/bilibili/?id=1643462710&amp;amp;theme=dark)</span>
</code></pre>
<p><strong>æ”¯æŒå¹³å°ä¸é“¾æ¥ç¤ºä¾‹ï¼š</strong></p>
<p><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fgithub%3Fusername%3D%257Busername%3Astring%257D" target="_blank" title="https://stats.justsong.cn/api/github?username=%7Busername:string%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/github?â€¦</a></p>
<p><strong>çŸ¥ä¹</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fzhihu%3Fusername%3D%257Busername%3Astring%257D" target="_blank" title="https://stats.justsong.cn/api/zhihu?username=%7Busername:string%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/zhihu?uâ€¦</a></p>
<p><strong>B ç«™</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fbilibili%2F%3Fid%3D%257Buid%3Aint%257D" target="_blank" title="https://stats.justsong.cn/api/bilibili/?id=%7Buid:int%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/bilibilâ€¦</a></p>
<p><strong>LeetCode è‹±æ–‡ç«™</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fleetcode%2F%3Fusername%3D%257Busername%3Astring%257D" target="_blank" title="https://stats.justsong.cn/api/leetcode/?username=%7Busername:string%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/leetcodâ€¦</a></p>
<p><strong>LeetCode ä¸­æ–‡ç«™</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fleetcode%3Fusername%3D%257Busername%3Astring%257D%26amp%3Bcn%3Dtrue" target="_blank" title="https://stats.justsong.cn/api/leetcode?username=%7Busername:string%7D&amp;amp;cn=true" ref="nofollow noopener noreferrer">stats.justsong.cn/api/leetcodâ€¦</a></p>
<p><strong>LeetCode ä¸­æ–‡ç«™è‹±æ–‡ç«™åŒä¿®</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fleetcode%3Fusername%3D%257Busername%3Astring%257D%26amp%3B%3D%257Bcn_username%3Astring%257D" target="_blank" title="https://stats.justsong.cn/api/leetcode?username=%7Busername:string%7D&amp;amp;=%7Bcn_username:string%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/leetcodâ€¦</a></p>
<p><strong>æ˜é‡‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fjuejin%3Fid%3D%257Buid%3Aint%257D" target="_blank" title="https://stats.justsong.cn/api/juejin?id=%7Buid:int%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/juejin?â€¦</a></p>
<p><strong>CSDN</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fcsdn%3Fid%3D%257Buid%3Astring%257D" target="_blank" title="https://stats.justsong.cn/api/csdn?id=%7Buid:string%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/csdn?idâ€¦</a></p>
<p><strong>ç‰›å®¢</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstats.justsong.cn%2Fapi%2Fnowcoder%3Fid%3D%257Buid%3Aint%257D" target="_blank" title="https://stats.justsong.cn/api/nowcoder?id=%7Buid:int%7D" ref="nofollow noopener noreferrer">stats.justsong.cn/api/nowcodeâ€¦</a></p>
<pre><code class="hljs language-java" lang="java">GitHubï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/github?username={username:string}</span>

çŸ¥ä¹ï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/zhihu?username={username:string}</span>

B ç«™ï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/bilibili/?id={uid:int}</span>

LeetCode è‹±æ–‡ç«™ï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/leetcode/?username={username:string}</span>

LeetCode ä¸­æ–‡ç«™ï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/leetcode?username={username:string}&amp;amp;cn=true</span>

LeetCode ä¸­æ–‡ç«™è‹±æ–‡ç«™åŒä¿®ï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/leetcode?username={username:string}&amp;amp;={cn_username:string}</span>

æ˜é‡‘ï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/juejin?id={uid:int}</span>

CSDNï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/csdn?id={uid:string}</span>

ç‰›å®¢ï¼šhttps:<span class="hljs-comment">//stats.justsong.cn/api/nowcoder?id={uid:int}</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d81ca6db1814f9796765ed9a3171072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=eqvcIaFSwIS2LtF%2FwRGp7rL0SS8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">ç»Ÿè®¡è®¿é—®æ¬¡æ•°</h2>
<pre><code class="hljs language-java" lang="java">![Visitor Count](https:<span class="hljs-comment">//profile-counter.glitch.me/{ubrong}/count.svg)</span>
</code></pre>
<p>è¯´æ˜ï¼š</p>
<p>{ubrong}æ›¿æ¢ä¸ºè‡ªå·±çš„æ ‡è®°ï¼Œå»ºè®®ä½¿ç”¨ githubç”¨æˆ·åã€‚æ³¨æ„è¿™ä¸ªå€¼å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œå› ä¸ºå®ƒä»…æ˜¯ä¸€ä¸ªæ ‡è®°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0c6b05ab2234c31add6b97407456bda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=qnesy6luWlzKMlB2gbcPQr56gvA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">å¾½æ ‡</h2>
<pre><code class="hljs language-java" lang="java">![tip](https:<span class="hljs-comment">//badgen.net/badge/php/8.1/orange?icon=php)</span>

![tip](https:<span class="hljs-comment">//badgen.net/badge/python/3.1.6/green?icon=packagephobia)</span>
</code></pre>
<p>**badgen **çš„ url æ ¼å¼è¯´æ˜ï¼š</p>
<pre><code class="hljs language-java" lang="java">https:<span class="hljs-comment">//badgen.net/badge/{subject}/{status}/{color}?icon=github</span>
</code></pre>
<p><strong>subject</strong> (string) å¾½æ ‡å·¦ä¾§æ–‡å­—ï¼Œå¦‚ï¼šnode</p>
<p><strong>status</strong> (string) å¾½æ ‡å³ä¾§æ–‡æ¡ˆï¼Œå¦‚ï¼š16.0.1</p>
<p><strong>color</strong> (string) å¾½æ ‡å³ä¾§èƒŒæ™¯è‰²ï¼Œå¦‚ï¼šred,greenç­‰</p>
<p><strong>icon</strong> (string) å›¾æ ‡ï¼Œå¦‚ï¼šgit,github,wikiç­‰<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c07722f0444f4194b437c47a78860840~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=0bNxK33aYvNmVpT%2BADyTEwd5E98%3D" alt="" loading="lazy"/></p>
<p>æˆ–è€…ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5a4f0adf14645f3ba42c7dc5afb6810~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=gVmmsaFLgMKIiuAVQhIIOjyaml4%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä¸‹è¡¨ç¤ºå±…ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java">&lt;div id=<span class="hljs-string">"title"</span> align=center&gt;
&lt;div&gt;
</code></pre>
<p><strong>å¦‚ä¸‹çš„å›¾æ ‡æ“ä½œæ˜¯å¯ä»¥ç‚¹å‡»é“¾æ¥è·³è½¬çš„</strong></p>
<pre><code class="hljs language-java" lang="java">
å¦‚ä¸‹çš„å›¾æ ‡æ“ä½œæ˜¯å¯ä»¥ç‚¹å‡»é“¾æ¥è·³è½¬çš„
[![CSDN](https:<span class="hljs-comment">//img.shields.io/badge/CSDNåšå®¢åœ°å€-RainbowSea15-red)](https://blog.csdn.net/weixin_61635597?spm=1010.2135.3001.5343)</span>

[![æ˜é‡‘](https:<span class="hljs-comment">//img.shields.io/badge/æ˜é‡‘åšå®¢åœ°å€-RainbowSea-blue)](https://juejin.cn/creator/home)</span>

[![Gitee](https:<span class="hljs-comment">//img.shields.io/badge/Giteeåœ°å€-RainbowSea-yello)](https://gitee.com/Rainbow--Sea)</span>


</code></pre>
<h2 data-id="heading-8">æˆ‘çš„ Github ä¸»é¡µ Version1.0</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## Rainbow Sea ğŸŒˆğŸŒˆğŸŒˆ</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"title"</span> <span class="hljs-attr">align</span>=<span class="hljs-string">center</span>&gt;</span></span>

å¦‚ä¸‹çš„å›¾æ ‡æ“ä½œæ˜¯å¯ä»¥ç‚¹å‡»é“¾æ¥è·³è½¬çš„
[<span class="hljs-string">![CSDN</span>](<span class="hljs-link">https://img.shields.io/badge/CSDNåšå®¢åœ°å€-RainbowSea15-red</span>)](<span class="hljs-link">https://blog.csdn.net/weixin_61635597?spm=1010.2135.3001.5343</span>)

[<span class="hljs-string">![æ˜é‡‘</span>](<span class="hljs-link">https://img.shields.io/badge/æ˜é‡‘åšå®¢åœ°å€-RainbowSea-blue</span>)](<span class="hljs-link">https://juejin.cn/creator/home</span>)

[<span class="hljs-string">![Gitee</span>](<span class="hljs-link">https://img.shields.io/badge/Giteeåœ°å€-RainbowSea-yello</span>)](<span class="hljs-link">https://gitee.com/Rainbow--Sea</span>)


![](<span class="hljs-link">https://img.shields.io/badge/ä¸»ä¿®-Java-orange</span>) 


![](<span class="hljs-link">https://img.shields.io/badge/æ€§æ ¼-å¼€æœ—-red</span>) 
![](<span class="hljs-link">https://img.shields.io/badge/çˆ±å¥½-äºŒæ¬¡å…ƒ-red</span>)





![<span class="hljs-string">CSDNç»Ÿè®¡</span>](<span class="hljs-link">https://stats.justsong.cn/api/csdn?id=weixin_61635597&amp;amp;theme=default&amp;amp;lang=zh-CN</span>)

![<span class="hljs-string">æ˜é‡‘ç»Ÿè®¡</span>](<span class="hljs-link">https://stats.justsong.cn/api/juejin?id=752533564566951&amp;amp;theme=default&amp;amp;lang=zh-CN</span>)


![<span class="hljs-string">GitHubè´¦æˆ·ä¿¡æ¯ç»Ÿè®¡</span>](<span class="hljs-link">https://github-stats.ubrong.com/api?username=China-Rainbow-sea&amp;amp;show_icons=true&amp;amp;theme=default</span>)


![<span class="hljs-string">GitHubè´¦æˆ·æœ€å¸¸ç”¨è¯­è¨€</span>](<span class="hljs-link">https://github-stats.ubrong.com/api/top-langs/?username=China-Rainbow-sea&amp;amp;layout=compact&amp;amp;theme=default</span>)


<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-9">æˆ‘çš„ Github ä¸»é¡µ Version2.0</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## Rainbow Sea ğŸŒˆğŸŒˆğŸŒˆ</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"title"</span> <span class="hljs-attr">align</span>=<span class="hljs-string">center</span>&gt;</span></span>

[<span class="hljs-string">![CSDN</span>](<span class="hljs-link">https://img.shields.io/badge/CSDNåšå®¢åœ°å€-RainbowSea15-red</span>)](<span class="hljs-link">https://blog.csdn.net/weixin_61635597?spm=1010.2135.3001.5343</span>)

[<span class="hljs-string">![æ˜é‡‘</span>](<span class="hljs-link">https://img.shields.io/badge/æ˜é‡‘åšå®¢åœ°å€-RainbowSea-blue</span>)](<span class="hljs-link">https://juejin.cn/creator/home</span>)

[<span class="hljs-string">![Gitee</span>](<span class="hljs-link">https://img.shields.io/badge/Giteeåœ°å€-RainbowSea-yello</span>)](<span class="hljs-link">https://gitee.com/Rainbow--Sea</span>)


![](<span class="hljs-link">https://img.shields.io/badge/ä¸»ä¿®-Java-orange</span>) 


![](<span class="hljs-link">https://img.shields.io/badge/æ€§æ ¼-å¼€æœ—-red</span>) 
![](<span class="hljs-link">https://img.shields.io/badge/çˆ±å¥½-äºŒæ¬¡å…ƒ-red</span>)



| ![<span class="hljs-string">CSDNç»Ÿè®¡</span>](<span class="hljs-link">https://stats.justsong.cn/api/csdn?id=weixin_61635597&amp;amp;theme=default&amp;amp;lang=zh-CN</span>) | ![<span class="hljs-string">æ˜é‡‘ç»Ÿè®¡</span>](<span class="hljs-link">https://stats.justsong.cn/api/juejin?id=752533564566951&amp;amp;theme=default&amp;amp;lang=zh-CN</span>) |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![<span class="hljs-string">GitHubè´¦æˆ·ä¿¡æ¯ç»Ÿè®¡</span>](<span class="hljs-link">https://github-stats.ubrong.com/api?username=China-Rainbow-sea&amp;amp;show_icons=true&amp;amp;theme=default</span>) | ![<span class="hljs-string">GitHubè´¦æˆ·æœ€å¸¸ç”¨è¯­è¨€</span>](<span class="hljs-link">https://github-stats.ubrong.com/api/top-langs/?username=China-Rainbow-sea&amp;amp;layout=compact&amp;amp;theme=default</span>) |

<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d095d49f4f7d443c910b602617a1d220~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=mqfOafhPHvZ2O5BM9n1U4E6u7iE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">æœ€åï¼š</h2>
<blockquote>
<p>â€œåœ¨è¿™ä¸ªæœ€åçš„ç¯‡ç« ä¸­ï¼Œæˆ‘è¦è¡¨è¾¾æˆ‘å¯¹æ¯ä¸€ä½è¯»è€…çš„æ„Ÿæ¿€ä¹‹æƒ…ã€‚ä½ ä»¬çš„å…³æ³¨å’Œå›å¤æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›æºæ³‰ï¼Œæˆ‘ä»ä½ ä»¬èº«ä¸Šå¸å–äº†æ— å°½çš„çµæ„Ÿä¸å‹‡æ°”ã€‚æˆ‘ä¼šå°†ä½ ä»¬çš„é¼“åŠ±ç•™åœ¨å¿ƒåº•ï¼Œç»§ç»­åœ¨å…¶ä»–çš„é¢†åŸŸå¥‹æ–—ã€‚æ„Ÿè°¢ä½ ä»¬ï¼Œæˆ‘ä»¬æ€»ä¼šåœ¨æŸä¸ªæ—¶åˆ»å†æ¬¡ç›¸é‡ã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76b18cc02857423685080459071b5657~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmFpbmJvd1NlYQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765633424&amp;x-signature=fM6RoQPLHTlyDQpcLVL98TFN%2Bmc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç©è½¬å°ç¨‹åºAR-å®æˆ˜ç¯‡]]></title>    <link>https://juejin.cn/post/7580285196693045248</link>    <guid>https://juejin.cn/post/7580285196693045248</guid>    <pubDate>2025-12-06T12:15:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580285196693045248" data-draft-id="7579961957221908507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç©è½¬å°ç¨‹åºAR-å®æˆ˜ç¯‡"/> <meta itemprop="keywords" content="å¾®ä¿¡å°ç¨‹åº,WebVR,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-06T12:15:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±çº¢"/> <meta itemprop="url" content="https://juejin.cn/user/4353721773338807"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç©è½¬å°ç¨‹åºAR-å®æˆ˜ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721773338807/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±çº¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T12:15:27.000Z" title="Sat Dec 06 2025 12:15:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ã€Šç©è½¬å°ç¨‹åºARã€‹ç³»åˆ—æ•™ç¨‹</p>
<ul>
<li><a href="https://juejin.cn/post/7579961957221777435" target="_blank" title="https://juejin.cn/post/7579961957221777435">ç©è½¬å°ç¨‹åºAR-åŸºç¡€ç¯‡</a></li>
<li><a href="https://juejin.cn/spost/7580285196693045248" target="_blank" title="https://juejin.cn/spost/7580285196693045248"><strong>ç©è½¬å°ç¨‹åºAR-å®æˆ˜ç¯‡</strong></a></li>
</ul>
<p><strong>å£°æ˜ï¼š</strong>
<strong>æœ¬æ–‡æ‰€è½½å†…å®¹ä»…é™äºå­¦ä¹ äº¤æµä¹‹ç›®çš„ã€‚æ‰€æœ‰æŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€åŠæ•°æ®æ¥å£å‡å·²è¿›è¡Œè„±æ•å¤„ç†ï¼Œä¸¥ç¦å°†å…¶ç”¨äºå•†ä¸šæˆ–éæ³•ç”¨é€”ã€‚ä»»ä½•å› æ­¤äº§ç”Ÿçš„åæœï¼Œä½œè€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚è‹¥æ¶‰åŠä¾µæƒï¼Œè¯·åŠæ—¶è”ç³»ä½œè€…ä»¥ä¾¿ç«‹å³åˆ é™¤ã€‚</strong></p>
<h2 data-id="heading-0">é€†å‘å°ç¨‹åº</h2>
<p>æ¥ç€å‰æ–‡: <a href="https://juejin.cn/spost/7579961957221777435" target="_blank" title="https://juejin.cn/spost/7579961957221777435">ã€Šç©è½¬å°ç¨‹åºAR-åŸºç¡€ç¯‡ã€‹</a>ï¼Œä½“éªŒè¿‡åŸç¥å®˜æ–¹ARå°ç¨‹åºåï¼Œæˆ‘ä¹Ÿæ¯”è¾ƒå¥½å¥‡ä»–ä»¬å®ç°AR Live2d åŠ¨ç”»çš„åŸç†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3919e414bb774a31a48c104cacfad369~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=trFF3khGDWyUxbxqM2K872PgJQ0%3D" alt="123" loading="lazy"/></p>
<p>å‡ºäº<strong>æŠ€æœ¯å­¦ä¹ </strong>çš„ç›®çš„ï¼Œåœ¨å¼€æºç¤¾åŒºæœå¯»å¾®ä¿¡å°ç¨‹åºåç¼–è¯‘å·¥å…·ï¼Œå‘ç° <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAckites%2FKillWxapkg" target="_blank" title="https://github.com/Ackites/KillWxapkg" ref="nofollow noopener noreferrer">KillWxapkg</a> å’Œ  <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbroken5%2Funveilr" target="_blank" title="https://github.com/broken5/unveilr" ref="nofollow noopener noreferrer">unveilr</a> æš‚æ—¶ä»å¯ä½¿ç”¨</p>
<h3 data-id="heading-1">é€†å‘ æŸç¥AR å°ç¨‹åº</h3>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æŸç¥ARå¾®ä¿¡å°ç¨‹åºçš„æœ¬åœ°å°ç¨‹åºåŒ…åœ°å€</p>
<p>æ³¨æ„ï¼šæœ¬äººç”µè„‘ Mac (Windowsç”µè„‘åŒç†)</p>
<ol>
<li>è¿›å…¥ç”µè„‘å¾®ä¿¡å°ç¨‹åºç›®å½•</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Mac ç›®å½•åœ°å€</span>
<span class="hljs-built_in">cd</span> /Users/ä½ çš„ç”µè„‘ç”¨æˆ·å/Library/Containers/com.tencent.xinWeChat/Data/Documents/app_data/radium/Applet/packages

<span class="hljs-comment"># Windows ç›®å½•åœ°å€</span>
<span class="hljs-built_in">cd</span> C:\Users\ä½ çš„ç”µè„‘ç”¨æˆ·å\AppData\Roaming\Tencent\xwechat\radium\Applet\packages


<span class="hljs-comment"># æ‰“å¼€æ–‡ä»¶å¤¹</span>
open .
</code></pre>
<p>å¦‚æœå‘ç°ç›®å½•ä¸‹æœ‰è¾ƒå¤šæ–‡ä»¶å¤¹ï¼Œå»ºè®®å…ˆæŠŠæ‰€æœ‰çš„æ–‡ä»¶å¤¹éƒ½åˆ é™¤ï¼Œä¸ºåç»­å®šä½è¦é€†å‘çš„å°ç¨‹åºåšå¥½å‡†å¤‡</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caca688cc50240c2bed951b62e151865~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=5CUPMxsmSwKJXCxhzB5CU527DY8%3D" alt="screenshot-20251125-212338.png" loading="lazy"/></p>
<ol start="2">
<li>ç”¨ç”µè„‘å¾®ä¿¡æ‰“å¼€éœ€è¦é€†å‘çš„å°ç¨‹åº</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c33c5ee3ec874fb0b66eaf004ded7055~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=z83TvgKd3TVFAeS0hEUjpQMJ4no%3D" alt="screenshot-20251125-211252.png" loading="lazy"/></p>
<ol start="3">
<li>å†æ¬¡æ‰“å¼€å¾®ä¿¡å°ç¨‹åºç›®å½•</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a41cbcd5c81c49209cd69149b2985992~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=ev1LRHbTCI9hSnQhblzskirZQGo%3D" alt="screenshot-20251125-213047.png" loading="lazy"/></p>
<p>è¿™æ—¶å€™ï¼Œæ­å–œä½ å·²ç»å®šä½åˆ°äº†å°ç¨‹åºçš„AppIDäº†ï¼</p>
<ol start="4">
<li>åç¼–è¯‘å°ç¨‹åº</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1baeeb8f5220408aa9e6d18e6ac0d866~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=SQoN70MdnLocdIT9Y%2Fxp7LsOQPc%3D" alt="screenshot-20251125-213556.png" loading="lazy"/></p>
<p>å°ç¨‹åºæ–‡ä»¶å¤¹ä¸‹çš„<code>__APP__.wxapkg</code>å°±æ˜¯ç¼–è¯‘åçš„å°ç¨‹åºï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦ä½¿ç”¨å·¥å…·åç¼–è¯‘å®ƒäº†</p>
<ul>
<li><strong>unveilr å·¥å…·</strong></li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbroken5%2Funveilr" target="_blank" title="https://github.com/broken5/unveilr" ref="nofollow noopener noreferrer">å®‰è£…åœ°å€</a></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…åç¼–è¯‘å·¥å…·</span>
npm i unveilr -g

<span class="hljs-comment"># è¿è¡Œåç¼–è¯‘å‘½ä»¤</span>
unveilr wx -i wxb2618d769d6f5143  <span class="hljs-string">"/Users/ä½ çš„ç”µè„‘ç”¨æˆ·å/Library/Containers/com.tencent.xinWeChat/Data/Documents/app_data/radium/Applet/packages/wxb2618d769d6f5143/3/__APP__.wxapkg"</span> -f
</code></pre>
<ul>
<li><strong>KillWxapkg å·¥å…·</strong></li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAckites%2FKillWxapkg" target="_blank" title="https://github.com/Ackites/KillWxapkg" ref="nofollow noopener noreferrer">å®‰è£…åœ°å€</a></p>
<pre><code class="hljs language-bash" lang="bash">./KillWxapkg -<span class="hljs-built_in">id</span>=<span class="hljs-string">"wxb2618d769d6f5143"</span> -<span class="hljs-keyword">in</span>=<span class="hljs-string">"/Users/ä½ çš„ç”µè„‘ç”¨æˆ·å/Library/Containers/com.tencent.xinWeChat/Data/Documents/app_data/radium/Applet/packages/wxb2618d769d6f5143/3"</span>  -restore
</code></pre>
<p>äºæ˜¯åœ¨å°ç¨‹åºæ–‡ä»¶å¤¹ä¸‹ï¼Œå°±æ–°ç”Ÿæˆäº†ä¸€ä¸ªåç¼–è¯‘åçš„æºç æ–‡ä»¶å¤¹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cffe07650a848d09159615ad355184c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=Cr4mTEcn0XIPn%2F2JVQiYTnJHQoE%3D" alt="screenshot-20251125-214601.png" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œåç¼–è¯‘åçš„æºç ä¹Ÿä¸æ˜¯100%è¿˜åŸï¼š</p>
<ul>
<li>ç¼ºå¤± <code>wxml</code></li>
<li><code>js</code> ä»£ç è¢«<code>babel</code>è½¬ç åï¼Œè¯­ä¹‰ä¸æ˜¯ç‰¹åˆ«æ¸…æ™°</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1317892021234adb82587d59ba8101a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=V4%2FF00HkR9xooYr4KNfxgmeoPyM%3D" alt="screenshot-20251201-195547.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd00aed847624c3baf35b657cd65e3e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=fw7SBhJpmXj2WVArLyzm5vfnkMM%3D" alt="screenshot-20251201-200158.png" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œåœ¨<code>AI</code>çš„åŠ æŒä¸‹ï¼Œå¦‚ä»Šè¿™äº›é—®é¢˜å·²ç»å®Œå…¨éš¾ä¸å€’æˆ‘ä»¬äº†ã€‚<code>AI</code>åˆ†åˆ†é’Ÿå°±èƒ½æ ¹æ®æ··æ·†è¿‡çš„<code>js</code>åŸå§‹é€»è¾‘ï¼Œè¿˜åŸæ¸…æ™°å¯è¯»çš„è¯­ä¹‰åŒ–ä»£ç </p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c804d2e26dd4af590551fb1f23c7c34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=Piokgi8Tiw43vBrFbUsPtvkokLo%3D" alt="screenshot-20251201-200736.png" loading="lazy"/></p>
<p>ä»æºç ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒåŸç¥ARå°ç¨‹åºä½¿ç”¨çš„æ­£æ˜¯<code>XR-FRAME</code>æ¡†æ¶</p>
<h3 data-id="heading-2">é€†å‘ æŸcube å°ç¨‹åºæ’ä»¶</h3>
<p>å®˜æ–¹æä¾›çš„<code>kivicube</code>æ’ä»¶</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"usingComponents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"kivicube-scene"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"plugin://kivicube/kivicube-scene"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"disableScroll"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"navigationStyle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"custom"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">kivicube-scene</span>
  <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{showAR}}"</span>
  <span class="hljs-attr">class</span>=<span class="hljs-string">"kivicube"</span>
  <span class="hljs-attr">scene-id</span>=<span class="hljs-string">"{{sceneId}}"</span>
  <span class="hljs-attr">bind:ready</span>=<span class="hljs-string">"ready"</span>
  <span class="hljs-attr">bind:error</span>=<span class="hljs-string">"error"</span>
  <span class="hljs-attr">bind:downloadAssetStart</span>=<span class="hljs-string">"downloadStart"</span>
  <span class="hljs-attr">bind:downloadAssetProgress</span>=<span class="hljs-string">"downloadProgress"</span>
  <span class="hljs-attr">bind:downloadAssetEnd</span>=<span class="hljs-string">"downloadEnd"</span>
  <span class="hljs-attr">bind:loadSceneStart</span>=<span class="hljs-string">"loadStart"</span>
  <span class="hljs-attr">bind:loadSceneEnd</span>=<span class="hljs-string">"loadEnd"</span>
  <span class="hljs-attr">bind:sceneStart</span>=<span class="hljs-string">"sceneStart"</span>
  <span class="hljs-attr">bind:openUrl</span>=<span class="hljs-string">"openUrl"</span>
  <span class="hljs-attr">bind:photo</span>=<span class="hljs-string">"photo"</span>
/&gt;</span>
</code></pre>
<p>ä½¿ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å°ç¨‹åºæ’ä»¶é€†å‘çš„æºç </p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f32f55857a3e4b058ed27f251122cea0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=xox6gRsfxdzBMLATpDz5HZ%2FL9bA%3D" alt="screenshot-20251201-201949.png" loading="lazy"/></p>
<p>é€šè¿‡æºç åˆ†æå¯å¾—çŸ¥ï¼Œ<strong>Kivicube</strong> ä½¿ç”¨çš„æ˜¯åº•å±‚<code>VisionKit</code> + è‡ªç ”çš„<code>Threejs</code>å°è£…</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d67414edcba94618bf25dc48ae75919e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=P566Fm6l3zWu2RQF276ovXunp%2FM%3D" alt="screenshot-20251201-202405.png" loading="lazy"/></p>
<h2 data-id="heading-3">ç€è‰²å™¨</h2>
<blockquote>
<p>Shaderï¼Œä¸­æ–‡ç§°ä¸ºâ€œç€è‰²å™¨â€ï¼Œæ˜¯ä¸€ç§åœ¨å›¾å½¢å¤„ç†å•å…ƒï¼ˆGPUï¼‰ä¸Šè¿è¡Œçš„è®¡ç®—æœºç¨‹åºï¼Œç”¨äºå®šä¹‰å’Œæ§åˆ¶å›¾å½¢æ¸²æŸ“è¿‡ç¨‹ä¸­çš„å„ç§è§†è§‰æ•ˆæœ</p>
</blockquote>
<blockquote>
<p>ä½¿ç”¨ GLSL çš„ç€è‰²å™¨ï¼ˆshaderï¼‰ï¼ŒGLSL æ˜¯ä¸€é—¨ç‰¹æ®Šçš„æœ‰ç€ç±»ä¼¼äº C è¯­è¨€çš„è¯­æ³•ï¼Œåœ¨å›¾å½¢ç®¡é“ (graphic pipeline) ä¸­ç›´æ¥å¯æ‰§è¡Œçš„ OpenGL ç€è‰²è¯­è¨€ã€‚</p>
</blockquote>
<p>æ›´å¤šè¯¦æƒ…è§MDNä¸Šçš„è§£é‡Š:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FGames%2FTechniques%2F3D_on_the_web%2FGLSL_Shaders" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Games/Techniques/3D_on_the_web/GLSL_Shaders" ref="nofollow noopener noreferrer">GLSL Shaders</a></p>
<p>XR-FRME æä¾›äº†è‡ªå®šä¹‰æ•ˆæœçš„èƒ½åŠ›: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fcomponent%2Fxr-frame%2Frender%2Feffect.html%23%25E5%25AE%259A%25E5%2588%25B6%25E4%25B8%2580%25E4%25B8%25AA%25E6%2595%2588%25E6%259E%259C" target="_blank" title="https://developers.weixin.qq.com/miniprogram/dev/component/xr-frame/render/effect.html#%E5%AE%9A%E5%88%B6%E4%B8%80%E4%B8%AA%E6%95%88%E6%9E%9C" ref="nofollow noopener noreferrer">å®šåˆ¶ä¸€ä¸ªæ•ˆæœ</a></p>
<h3 data-id="heading-4">åºåˆ—å¸§ SHADER</h3>
<p>XR-FRAME å®˜æ–¹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdtysky%2Fxr-frame-demo%2Ftree%2Fmaster%2Fminiprogram%2Fcomponents%2Ftemplate%2Fxr-template-frameEffect" target="_blank" title="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/template/xr-template-frameEffect" ref="nofollow noopener noreferrer">ã€Šåºåˆ—å¸§åŠ¨ç”»ï¼ˆé›ªç¢§å›¾ã€GIFï¼‰ã€‹</a>ç¤ºä¾‹ï¼Œå®ç°äº†ä¸€ä¸ªç®€å•çš„å¯é…ç½®çš„åºåˆ—å¸§æ•ˆæœ</p>
<p>è€ŒåŸç¥å°ç¨‹åºARçš„æºç ä¸­ï¼Œæ­£æ˜¯ä½¿ç”¨äº†è¿™ä¸ªåºåˆ—å¸§æ•ˆæœå®ç°äº†ä¼ªLive2d</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å°†åºåˆ—å¸§åŠ¨ç”»åˆæˆåˆ°ä¸€å¼ <strong>Mè¡Œ*Nåˆ—</strong>å¤§å°çš„<code>PNG</code>å›¾ç‰‡ä¸Š(<strong>æ³¨æ„ï¼šå¾®ä¿¡å°ç¨‹åºæœ€å¤§èƒ½æ¸²æŸ“8000x8000å·¦å³åˆ†è¾¨ç‡çš„åºåˆ—å¸§å›¾ç‰‡</strong>)</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc6888ab87b541f188753ffc2bdef98e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=Yh%2Fd3NBuh3BlANeiMRNtfXWVkC4%3D" alt="1png" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬è¿™æ¬¡çš„å›¾ç‰‡æ˜¯<strong>8è¡Œx4åˆ—</strong>ï¼Œå…±32å¼ åºåˆ—å¸§å›¾ç‰‡åˆæˆè€Œæ¥</p>
<p>æºç ç¤ºä¾‹: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdeepred5%2Fxr-frame-tutorial%2Ftree%2Fmain%2Fcomponents%2Fdemo6%2Findex.wxml" target="_blank" title="https://github.com/deepred5/xr-frame-tutorial/tree/main/components/demo6/index.wxml" ref="nofollow noopener noreferrer">åºåˆ—å¸§ SHADER</a></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">xr-scene</span> <span class="hljs-attr">bind:ready</span>=<span class="hljs-string">"handleReady"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">xr-assets</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">xr-assets</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">xr-node</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xr-node</span> <span class="hljs-attr">node-id</span>=<span class="hljs-string">"center"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xr-mesh</span> <span class="hljs-attr">visible</span>=<span class="hljs-string">"{{meshesVisible}}"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"animation-mesh"</span> <span class="hljs-attr">node-id</span>=<span class="hljs-string">"animation-mesh"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"0 0 0"</span> <span class="hljs-attr">scale</span>=<span class="hljs-string">"1 1 1.3"</span> <span class="hljs-attr">rotation</span>=<span class="hljs-string">"90 0 0"</span> <span class="hljs-attr">geometry</span>=<span class="hljs-string">"plane"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">xr-node</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">xr-camera</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"center"</span> <span class="hljs-attr">clear-color</span>=<span class="hljs-string">"0.4 0.8 0.6 1"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"0 0 2.5"</span> <span class="hljs-attr">camera-orbit-control</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">xr-scene</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Component</span>({
  <span class="hljs-comment">/**
   * ç»„ä»¶çš„åˆå§‹æ•°æ®
   */</span>
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">meshesVisible</span>: <span class="hljs-literal">false</span>
  },

  <span class="hljs-comment">/**
   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨
   */</span>
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-attr">handleReady</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">{ detail }</span>) {
      <span class="hljs-keyword">const</span> xrFrameSystem = wx.<span class="hljs-title function_">getXrFrameSystem</span>()
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">createFrameEffect</span> = (<span class="hljs-params">scene</span>) =&gt; {
        <span class="hljs-keyword">return</span> scene.<span class="hljs-title function_">createEffect</span>({
          <span class="hljs-attr">name</span>: <span class="hljs-string">'frame-effect'</span>,
          <span class="hljs-attr">properties</span>: [
            {
              <span class="hljs-attr">key</span>: <span class="hljs-string">'columCount'</span>, <span class="hljs-comment">// åˆ—æ•°</span>
              <span class="hljs-attr">type</span>: xrFrameSystem.<span class="hljs-property">EUniformType</span>.<span class="hljs-property">FLOAT</span>,
              <span class="hljs-attr">default</span>: <span class="hljs-number">1</span>
            },
            {
              <span class="hljs-attr">key</span>: <span class="hljs-string">'rowCount'</span>, <span class="hljs-comment">// è¡Œæ•°</span>
              <span class="hljs-attr">type</span>: xrFrameSystem.<span class="hljs-property">EUniformType</span>.<span class="hljs-property">FLOAT</span>,
              <span class="hljs-attr">default</span>: <span class="hljs-number">1</span>
            },
            {
              <span class="hljs-attr">key</span>: <span class="hljs-string">'during'</span>, <span class="hljs-comment">// æŒç»­æ—¶é—´</span>
              <span class="hljs-attr">type</span>: xrFrameSystem.<span class="hljs-property">EUniformType</span>.<span class="hljs-property">FLOAT</span>,
              <span class="hljs-attr">default</span>: <span class="hljs-number">1</span>
            }
          ],
          <span class="hljs-attr">images</span>: [
            {
              <span class="hljs-attr">key</span>: <span class="hljs-string">'u_baseColorMap'</span>,
              <span class="hljs-attr">default</span>: <span class="hljs-string">'white'</span>,
              <span class="hljs-attr">macro</span>: <span class="hljs-string">'WX_USE_BASECOLORMAP'</span>
            }
          ],
          <span class="hljs-comment">// é€æ˜ç‰©ä½“éœ€è¦å¤§äº`2500`ï¼</span>
          <span class="hljs-attr">defaultRenderQueue</span>: <span class="hljs-number">2501</span>,
          <span class="hljs-attr">passes</span>: [
            {
              <span class="hljs-attr">renderStates</span>: {
                <span class="hljs-attr">blendOn</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">depthWrite</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">cullOn</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-comment">// åŸºç¡€åº“ v3.0.1 å¼€å§‹ é»˜è®¤çš„ plane åˆ‡ä¸ºé€‚é… cw çš„é¡¶ç‚¹ç»•åº</span>
              },
              <span class="hljs-attr">lightMode</span>: <span class="hljs-string">'ForwardBase'</span>,
              <span class="hljs-attr">useMaterialRenderStates</span>: <span class="hljs-literal">true</span>,
              <span class="hljs-attr">shaders</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]
            }
          ],
          <span class="hljs-attr">shaders</span>: [
            <span class="hljs-comment">// é¡¶ç‚¹ç€è‰²å™¨ Vertex shaders</span>
            <span class="hljs-string">`#version 100

          precision highp float;
          precision highp int;
    
          attribute vec3 a_position;
          attribute highp vec2 a_texCoord;
      
          uniform mat4 u_view;
          uniform mat4 u_projection;
          uniform mat4 u_world;
          varying highp vec2 v_uv;
          void main()
          {
            v_uv = a_texCoord;
            gl_Position = u_projection * u_view * u_world * vec4(a_position, 1.0);
          }`</span>,
            <span class="hljs-comment">// ç‰‡æ®µç€è‰²å™¨ Fragment shaders</span>
            <span class="hljs-string">`#version 100
            precision highp float;
            precision highp int;

            uniform sampler2D u_baseColorMap;
            uniform highp float u_gameTime;
            uniform highp float rowCount;
            uniform highp float columCount;
            uniform highp float during;
            varying highp vec2 v_uv;
            void main()
            {
              float loopTime = mod(u_gameTime, during);

              float tickPerFrame = during / (columCount * rowCount);
              
              float columTick = mod(floor(loopTime / tickPerFrame), columCount);
              float rowTick = floor(loopTime / tickPerFrame / columCount);

              vec2 texCoord = vec2(v_uv.x / columCount + (1.0 / columCount) * columTick , v_uv.y / rowCount + (1.0 / rowCount) * rowTick);
              vec4 color = texture2D(u_baseColorMap, texCoord);
              gl_FragColor = color;
            }`</span>
          ],
        });
      }
      xrFrameSystem.<span class="hljs-title function_">registerEffect</span>(<span class="hljs-string">'frame-effect'</span>, createFrameEffect)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> = detail.<span class="hljs-property">value</span>

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadAsset</span>()
    },

    <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadAsset</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> xrFrameSystem = wx.<span class="hljs-title function_">getXrFrameSystem</span>();
      <span class="hljs-keyword">const</span> xrScene = <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>;

      <span class="hljs-keyword">await</span> xrScene.<span class="hljs-property">assets</span>.<span class="hljs-title function_">loadAsset</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'texture'</span>,
        <span class="hljs-attr">assetId</span>: <span class="hljs-string">'lzy'</span>,
        <span class="hljs-attr">src</span>: <span class="hljs-string">'https://assets.xxxx.com/resources/cdn/20251022/0ac5e7c80c0fc262.png'</span>,
      })

      <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•ˆæœå®ä¾‹çš„å¼•ç”¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯é»˜è®¤`uniforms`</span>
      <span class="hljs-keyword">const</span> frameMaterial = xrScene.<span class="hljs-title function_">createMaterial</span>(
        <span class="hljs-comment">// ä½¿ç”¨å®šåˆ¶çš„æ•ˆæœ</span>
        xrScene.<span class="hljs-property">assets</span>.<span class="hljs-title function_">getAsset</span>(<span class="hljs-string">'effect'</span>, <span class="hljs-string">'frame-effect'</span>),
        { <span class="hljs-attr">u_baseColorMap</span>: xrScene.<span class="hljs-property">assets</span>.<span class="hljs-title function_">getAsset</span>(<span class="hljs-string">'texture'</span>, <span class="hljs-string">'lzy'</span>) }
      )

      <span class="hljs-comment">// å¯ä»¥å°†å…¶æ·»åŠ åˆ°èµ„æºç³»ç»Ÿä¸­å¤‡ç”¨</span>
      xrScene.<span class="hljs-property">assets</span>.<span class="hljs-title function_">addAsset</span>(<span class="hljs-string">'material'</span>, <span class="hljs-string">'frame-effect'</span>, frameMaterial)

      <span class="hljs-keyword">const</span> meshElement = xrScene.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'animation-mesh'</span>).<span class="hljs-title function_">getComponent</span>(xrFrameSystem.<span class="hljs-property">Mesh</span>)
      frameMaterial.<span class="hljs-title function_">setFloat</span>(<span class="hljs-string">'columCount'</span>, <span class="hljs-number">4</span>)
      frameMaterial.<span class="hljs-title function_">setFloat</span>(<span class="hljs-string">'rowCount'</span>, <span class="hljs-number">8</span>)
      frameMaterial.<span class="hljs-title function_">setFloat</span>(<span class="hljs-string">'during'</span>, <span class="hljs-number">1</span>)
      frameMaterial.<span class="hljs-property">alphaMode</span> = <span class="hljs-string">"BLEND"</span>
      meshElement.<span class="hljs-property">material</span> = frameMaterial

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
        <span class="hljs-attr">meshesVisible</span>: <span class="hljs-literal">true</span>
      })
    },
  }
})
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e05c150492e74fdd888cd2b458c32476~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=clZKsFD45jDZoAuPz280GnQmTEs%3D" alt="frame.gif" loading="lazy"/></p>
<h3 data-id="heading-5">é€æ˜è§†é¢‘ SHADER</h3>
<p>ä¸€èˆ¬çš„é€æ˜è§†é¢‘ï¼š</p>
<ol>
<li>è‡ªå¸¦é€æ˜é€šé“çš„è§†é¢‘æ ¼å¼: mov  (å°ç¨‹åºé»˜è®¤ä¸æ”¯æŒ<code>mov</code>æ ¼å¼æ’­æ”¾)</li>
<li>ç‰¹æ®Šå¤„ç†åçš„å·¦å³åˆ†å±è§†é¢‘æ ¼å¼: mp4 ï¼ˆå°ç¨‹åºé»˜è®¤æ”¯æŒ<code>mp4</code>æ ¼å¼æ’­æ”¾ï¼‰</li>
</ol>
<ul>
<li>å·¦è¾¹æ˜¯è§†é¢‘çš„ RGB</li>
<li>å³è¾¹æ˜¯è§†é¢‘çš„ Alpha</li>
<li>å·¦å³å åŠ å³å¯æ¸²æŸ“é€æ˜è§†</li>
</ul>
<p>æ›´å¤šè¯¦æƒ…è§å‰æ–‡<a href="https://juejin.cn/post/7238792624387506213#heading-2" target="_blank" title="https://juejin.cn/post/7238792624387506213#heading-2">ã€Šæ›´é«˜æ•ˆçš„webåŠ¨æ•ˆè§£å†³æ–¹æ¡ˆ - èƒŒæ™¯è§†é¢‘ã€‹</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31d189b638a64320b0e2c7298c0500f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=HNkOSQJy5oedGCub%2BQkYaS6xXqQ%3D" alt="v.gif" loading="lazy"/></p>
<p>XR-FRAME å®˜æ–¹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdtysky%2Fxr-frame-demo%2Ftree%2Fmaster%2Fminiprogram%2Fcomponents%2Ftemplate%2Fxr-template-removeBlack" target="_blank" title="https://github.com/dtysky/xr-frame-demo/tree/master/miniprogram/components/template/xr-template-removeBlack" ref="nofollow noopener noreferrer">ã€Šè¿‡æ»¤é»‘è‰²èƒŒæ™¯è§†é¢‘ã€‹</a>ç¤ºä¾‹ï¼Œæ­£å¥½æ¼”ç¤ºäº†<code>å·¦å³åˆ†å±</code>è§†é¢‘çš„è¿‡æ»¤é»‘è‰²èƒŒæ™¯èƒ½åŠ›</p>
<p>æºç ç¤ºä¾‹: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdeepred5%2Fxr-frame-tutorial%2Ftree%2Fmain%2Fcomponents%2Fdemo7%2Findex.wxml" target="_blank" title="https://github.com/deepred5/xr-frame-tutorial/tree/main/components/demo7/index.wxml" ref="nofollow noopener noreferrer">é€æ˜è§†é¢‘ SHADER</a></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">xr-scene</span> <span class="hljs-attr">bind:ready</span>=<span class="hljs-string">"handleReady"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">xr-assets</span> <span class="hljs-attr">bind:progress</span>=<span class="hljs-string">"handleAssetsProgress"</span> <span class="hljs-attr">bind:loaded</span>=<span class="hljs-string">"handleAssetsLoaded"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xr-asset-load</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video-texture"</span> <span class="hljs-attr">asset-id</span>=<span class="hljs-string">"lzy"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://assets.xxxx.com/resources/cdn/20251022/bd7cb6ba6546d697.mp4"</span> <span class="hljs-attr">options</span>=<span class="hljs-string">"autoPlay:true,loop:true"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xr-asset-material</span> <span class="hljs-attr">asset-id</span>=<span class="hljs-string">"removeBlack-mat"</span> <span class="hljs-attr">effect</span>=<span class="hljs-string">"removeBlack"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">xr-assets</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">xr-node</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xr-node</span> <span class="hljs-attr">node-id</span>=<span class="hljs-string">"center"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xr-node</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">"{{loaded}}"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">xr-mesh</span> <span class="hljs-attr">node-id</span>=<span class="hljs-string">"video-item"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"0 0 0"</span> <span class="hljs-attr">rotation</span>=<span class="hljs-string">"90 0 0"</span> <span class="hljs-attr">scale</span>=<span class="hljs-string">"1 1 1.3"</span> <span class="hljs-attr">geometry</span>=<span class="hljs-string">"plane"</span> <span class="hljs-attr">material</span>=<span class="hljs-string">"removeBlack-mat"</span> <span class="hljs-attr">uniforms</span>=<span class="hljs-string">"u_videoMap: video-lzy"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">xr-node</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">xr-node</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">xr-camera</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"center"</span> <span class="hljs-attr">clear-color</span>=<span class="hljs-string">"0.4 0.8 0.6 1"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"0 0 3"</span> <span class="hljs-attr">camera-orbit-control</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">xr-scene</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> xrFrameSystem = wx.<span class="hljs-title function_">getXrFrameSystem</span>();

xrFrameSystem.<span class="hljs-title function_">registerEffect</span>(<span class="hljs-string">'removeBlack'</span>, <span class="hljs-function"><span class="hljs-params">scene</span> =&gt;</span> scene.<span class="hljs-title function_">createEffect</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"removeBlack"</span>,
  <span class="hljs-attr">images</span>: [{
    <span class="hljs-attr">key</span>: <span class="hljs-string">'u_videoMap'</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-string">'white'</span>,
    <span class="hljs-attr">macro</span>: <span class="hljs-string">'WX_USE_VIDEOMAP'</span>
  }],
  <span class="hljs-attr">defaultRenderQueue</span>: <span class="hljs-number">2000</span>,
  <span class="hljs-attr">passes</span>: [{
    <span class="hljs-string">"renderStates"</span>: {
      <span class="hljs-attr">cullOn</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">blendOn</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">blendSrc</span>: xrFrameSystem.<span class="hljs-property">EBlendFactor</span>.<span class="hljs-property">SRC_ALPHA</span>,
      <span class="hljs-attr">blendDst</span>: xrFrameSystem.<span class="hljs-property">EBlendFactor</span>.<span class="hljs-property">ONE_MINUS_SRC_ALPHA</span>,
      <span class="hljs-attr">cullFace</span>: xrFrameSystem.<span class="hljs-property">ECullMode</span>.<span class="hljs-property">BACK</span>,
    },
    <span class="hljs-attr">lightMode</span>: <span class="hljs-string">"ForwardBase"</span>,
    <span class="hljs-attr">useMaterialRenderStates</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">shaders</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]
  }],
  <span class="hljs-attr">shaders</span>: [
    <span class="hljs-comment">// é¡¶ç‚¹ç€è‰²å™¨ Vertex shaders</span>
    <span class="hljs-string">`#version 100

uniform highp mat4 u_view;
uniform highp mat4 u_viewInverse;
uniform highp mat4 u_vp;
uniform highp mat4 u_projection;
uniform highp mat4 u_world;

attribute vec3 a_position;
attribute highp vec2 a_texCoord;

varying highp vec2 v_UV;

void main()
{
  v_UV = a_texCoord;
  vec4 worldPosition = u_world * vec4(a_position, 1.0);
  gl_Position = u_projection * u_view * worldPosition;
  }`</span>,
    <span class="hljs-comment">// ç‰‡æ®µç€è‰²å™¨ Fragment shaders</span>
    <span class="hljs-string">`#version 100

precision mediump float;
precision highp int;
varying highp vec2 v_UV;

#ifdef WX_USE_VIDEOMAP
  uniform sampler2D u_videoMap;
#endif

void main()
{
#ifdef WX_USE_VIDEOMAP
  // å·¦å³åˆ†å±é€æ˜è§†é¢‘å¤„ç†ï¼š
  // å·¦åŠè¾¹ (0-0.5) ä¸ºå½©è‰²å†…å®¹ï¼Œå³åŠè¾¹ (0.5-1.0) ä¸ºé€æ˜åº¦é®ç½©
  
  // 1. é‡‡æ ·å·¦åŠè¾¹è·å– RGB é¢œè‰²
  vec2 colorUV = vec2(v_UV.x * 0.5, v_UV.y);
  vec4 color = texture2D(u_videoMap, colorUV);
  
  // 2. é‡‡æ ·å³åŠè¾¹è·å– Alpha é®ç½©
  vec2 alphaUV = vec2(v_UV.x * 0.5 + 0.5, v_UV.y);
  vec4 alphaSample = texture2D(u_videoMap, alphaUV);
  float alpha = alphaSample.r; // ä½¿ç”¨çº¢è‰²é€šé“ä½œä¸ºé€æ˜åº¦ï¼ˆç°åº¦å€¼ï¼‰
  
  // 3. è¾“å‡ºé¢œè‰² + é®ç½©é€æ˜åº¦ï¼ˆä¸åšä¼½é©¬æ ¡æ­£ï¼Œé¿å…å˜æš—ï¼‰
  gl_FragData[0] = vec4(color.rgb, alpha);
#else
  gl_FragData[0] = vec4(1.0, 1.0, 1.0, 1.0);
#endif
}
`</span>],
}));

<span class="hljs-title class_">Component</span>({
  <span class="hljs-comment">/**
   * ç»„ä»¶çš„åˆå§‹æ•°æ®
   */</span>
  <span class="hljs-attr">data</span>: {

  },

  <span class="hljs-comment">/**
   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨
   */</span>
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">handleReady</span>(<span class="hljs-params">{
      detail
    }</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'handleReady'</span>, detail.<span class="hljs-property">value</span>)
    },
    <span class="hljs-title function_">handleAssetsProgress</span>(<span class="hljs-params">{ detail }</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'assets progress'</span>, detail.<span class="hljs-property">value</span>)
    },
    <span class="hljs-title function_">handleAssetsLoaded</span>(<span class="hljs-params">{ detail }</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'assets loaded'</span>, detail.<span class="hljs-property">value</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">loaded</span>: <span class="hljs-literal">true</span> })
    },
  }
})
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/934ab4b7b4594367a9c52d83af8ae544~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=qMU97h6yVGDHXpE08bsMDCmF2wM%3D" alt="v2.gif" loading="lazy"/></p>
<h2 data-id="heading-6">å®æˆ˜æ¡ˆä¾‹</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f6ce2aa5995428e803a9d1725edb430~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=iYQP3EXFGEOPjnz2f4n0HfIJoFk%3D" alt="work.gif" loading="lazy"/></p>
<p>æºç ç¤ºä¾‹: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdeepred5%2Fxr-frame-tutorial%2Ftree%2Fmain%2Fpages%2Fdemo8" target="_blank" title="https://github.com/deepred5/xr-frame-tutorial/tree/main/pages/demo8" ref="nofollow noopener noreferrer">åºåˆ—å¸§ SHADER</a></p>
<h3 data-id="heading-7">åŒå±‚æ¸²æŸ“</h3>
<p>ç›®å‰XR-FRAMEå°šæœªæ”¯æŒå’Œå°ç¨‹åºçš„UIå…ƒç´ æ··å†™ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒå±‚æ–¹æ¡ˆ</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">demo8</span>
    <span class="hljs-attr">disable-scroll</span>
    <span class="hljs-attr">id</span>=<span class="hljs-string">"main-frame"</span>
    <span class="hljs-attr">width</span>=<span class="hljs-string">"{{renderWidth}}"</span>
    <span class="hljs-attr">height</span>=<span class="hljs-string">"{{renderHeight}}"</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">"width:{{width}}px;height:{{height}}px;top:{{top}}px;left:{{left}}px;"</span>
    <span class="hljs-attr">bind:arTrackerSwitch</span>=<span class="hljs-string">"handleTrackerSwitch"</span>
    <span class="hljs-attr">markerImg</span>=<span class="hljs-string">"{{markerImg}}"</span>
  /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"marker-tip-container"</span> <span class="hljs-attr">hidden</span>=<span class="hljs-string">"{{hiddenTip}}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"marker-img-container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"aspectFit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"marker-img"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{markerImg}}"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"marker-text-container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"marker-text"</span>&gt;</span>è¯·å¯¹å‡†è¯†åˆ«å›¾<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p><code>demo8</code>æ˜¯XR-FRAMEç»„ä»¶ï¼Œå®ƒå’Œ<code>view</code>UIç»„ä»¶å¤„åœ¨åŒä¸€å±‚ï¼Œè¿™æ—¢æ˜¯æ‰€è°“çš„åŒå±‚æ¸²æŸ“æ–¹æ¡ˆã€‚è€ŒåŒå±‚æ–¹æ¡ˆï¼Œå°±å¿…ç„¶æ¶‰åŠåˆ°ç»„ä»¶é€šä¿¡</p>
<p>XR-FRAMEç»„ä»¶éœ€è¦å°†ARçš„è¯†åˆ«çŠ¶æ€åŒæ­¥ç»™çˆ¶çº§ï¼Œçˆ¶çº§æ ¹æ®ä¸åŒçš„ARçŠ¶æ€ï¼Œå±•ç¤ºä¸åŒçš„UIç•Œé¢ã€‚è€Œè¿™äº›é€šä¿¡æ–¹å¼ï¼Œå’Œä¼ ç»Ÿçš„ç»„ä»¶é€šä¿¡æ–¹å¼åŸºæœ¬ä¸€è‡´ï¼šçˆ¶çº§ä¼ é€’å‡½æ•°å’Œå±æ€§åˆ°å­çº§ï¼Œå­çº§é€šè¿‡æ‰§è¡Œå›è°ƒå‡½æ•°ä¼ é€’æ•°æ®</p>
<h2 data-id="heading-8">æ¡†æ¶ç»´æŠ¤</h2>
<p>æ¯”è¾ƒå°´å°¬çš„æ˜¯ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdtysky.moe%2Farticle%2FArt-%25E5%258E%258C%25E5%2580%25A62024" target="_blank" title="https://dtysky.moe/article/Art-%E5%8E%8C%E5%80%A62024" ref="nofollow noopener noreferrer">æ ¸å¿ƒæŠ€æœ¯è´Ÿè´£äºº</a>å·²ç¦»å¼€å›¢é˜Ÿï¼ŒXR-FRAMEæ¡†æ¶å¤„äº<strong>æš‚åœç»´æŠ¤</strong>çŠ¶æ€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e02a56599974e21922b20c18634537f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex57qi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628355&amp;x-signature=jYuC%2FBrucGs9Qu3%2Fua%2FbZMWrIr4%3D" alt="screenshot-20251201-214919.png" loading="lazy"/></p>
<h2 data-id="heading-9">èµ„æ–™</h2>
<ul>
<li>æ¼”ç¤ºæºç ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fgithub.com%2Fdeepred5%2Fxr-frame-tutorial%2F" target="_blank" title="http://github.com/deepred5/xr-frame-tutorial/" ref="nofollow noopener noreferrer">github.com/deepred5/xrâ€¦</a></li>
<li>XR-FRAME æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fframework%2Fxr-frame%2F" target="_blank" title="https://developers.weixin.qq.com/miniprogram/dev/framework/xr-frame/" ref="nofollow noopener noreferrer">developers.weixin.qq.com/miniprogramâ€¦</a></li>
<li>VKSession æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fapi%2Fai%2Fvisionkit%2FVKSession.html" target="_blank" title="https://developers.weixin.qq.com/miniprogram/dev/api/ai/visionkit/VKSession.html" ref="nofollow noopener noreferrer">developers.weixin.qq.com/miniprogramâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®©Trae SOLOå…¨è‡ªä¸»å­¦ä¹ å¼€å‘è¿‘æœŸçˆ†å‡ºçš„React RCEæ¼æ´é¶åœºå¹¶è‡ªä¸»åˆ©ç”¨éªŒè¯ï¼ˆCVE-2025-55182ï¼‰]]></title>    <link>https://juejin.cn/post/7580295137394720783</link>    <guid>https://juejin.cn/post/7580295137394720783</guid>    <pubDate>2025-12-06T12:14:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580295137394720783" data-draft-id="7580278296837586978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®©Trae SOLOå…¨è‡ªä¸»å­¦ä¹ å¼€å‘è¿‘æœŸçˆ†å‡ºçš„React RCEæ¼æ´é¶åœºå¹¶è‡ªä¸»åˆ©ç”¨éªŒè¯ï¼ˆCVE-2025-55182ï¼‰"/> <meta itemprop="keywords" content="å®‰å…¨,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-06T12:14:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é“¶ç©ºé£ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/1086796427178429"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®©Trae SOLOå…¨è‡ªä¸»å­¦ä¹ å¼€å‘è¿‘æœŸçˆ†å‡ºçš„React RCEæ¼æ´é¶åœºå¹¶è‡ªä¸»åˆ©ç”¨éªŒè¯ï¼ˆCVE-2025-55182ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1086796427178429/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é“¶ç©ºé£ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T12:14:40.000Z" title="Sat Dec 06 2025 12:14:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†™åœ¨å‰é¢</h2>
<p>å‰ä¸¤å¤©çˆ†å‡ºçš„CVSS è¯„åˆ†10.0çš„React ååºåˆ—åŒ–å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼Œçªå‘å¥‡æƒ³ï¼Œè®©Trae SOLOå¯¹è¯¥æ¼æ´è¿›è¡Œè‡ªä¸»å­¦ä¹ ã€è‡ªä¸»å¼€å‘ã€å¹¶ä¸”è‡ªä¸»è¿›è¡Œæ¼æ´åˆ©ç”¨ï¼Œåº”è¯¥æŒºæœ‰æ„æ€ã€‚</p>
<h2 data-id="heading-1">CVE-2025-55182</h2>
<p>ç®€å•æ€»ç»“ä¸€ä¸‹è¯¥æ¼æ´ã€‚</p>
<p>Reactæäº†ä¸€ä¸ªReact Server Componentsï¼ˆRSCï¼‰ç»„ä»¶æ¨¡å‹ï¼Œæ”¯æŒé€šè¿‡Flightåè®®ï¼ˆä¹Ÿæ˜¯ä¸ºè¯¥åœºæ™¯é€šä¿¡è®¾è®¡çš„åè®®ï¼‰è¿›è¡Œäº¤äº’ã€‚</p>
<p>åœ¨è¯·æ±‚æ•°æ®åˆ°è¾¾åç«¯è·¯ç”±æ—¶ï¼ˆåœ¨è¿›å…¥åç«¯é€»è¾‘æ–¹æ³•ä¹‹å‰ï¼‰ï¼ŒæœåŠ¡ç«¯ä¼šè¿›è¡Œååºåˆ—åŒ–æ“ä½œï¼Œç„¶ååŸºäºååºåˆ—åŒ–çš„ç»“æœä¼šå»è°ƒç”¨å¯¹åº”çš„Server Functionsï¼ˆè¿™æ˜¯ä¸€ç§RPC-over-HTTPçš„æ–¹æ³•è°ƒç”¨æœºåˆ¶ï¼Œå…è®¸å®¢æˆ·ç«¯é€šè¿‡HTTPçš„æ–¹å¼è¿›è¡ŒRPCè°ƒç”¨ï¼‰æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p>
<p>è€ŒRSCæ˜¯ä¾èµ–äº<code>react-server-dom-webpack</code>å®ç°çš„ï¼Œæ‰€ä»¥åœ¨è¯¥åŒ…çš„ç‰¹å®šç‰ˆæœ¬ä¸­å°±å­˜åœ¨è¯¥ååºåˆ—åŒ–æ¼æ´ã€‚è€ŒNext.jsæ¡†æ¶ä½œä¸ºRSCçš„æœ€å¤§ä¸‹æ¸¸å®¢æˆ·ï¼Œä½¿ç”¨æ¼æ´ç‰ˆæœ¬çš„å°±ä¼šè¢«åŠ¨å—åˆ°å½±å“ã€‚</p>
<p>é‚£ä¹ˆæ€»ç»“ä¸€ä¸‹ï¼Œåªè¦æŸä¸ªåç«¯æœåŠ¡çš„è·¯ç”±pathä½¿ç”¨äº†æ¼æ´ç‰ˆæœ¬çš„<code>react-server-dom-webpack</code>åŒ…å»åšå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li>å¤„ç†Flightè¯·æ±‚</li>
<li>ååºåˆ—åŒ–Flightæ•°æ®</li>
<li>å…è®¸å®¢æˆ·ç«¯è§¦å‘Server Functions</li>
</ul>
<p>é‚£ä¹ˆå°±æœ‰è¢«æ”»å‡»çš„é£é™©ï¼Œä¿®å¤æ–¹å¼å°±æ˜¯å‡çº§ç‰ˆæœ¬ã€‚</p>
<p>è¯¦ç»†çš„æˆ‘å°±ä¸å±•å¼€äº†ï¼Œåˆ†æçš„æ–‡ç« éåœ°éƒ½æ˜¯ï¼Œæœ¬ç¯‡çš„é‡ç‚¹è¿˜æ˜¯åœ¨SOLOè‡ªåŠ¨åŒ–å­¦ä¹ ã€è®¾è®¡ã€å¼€å‘å’Œæ¼æ´åˆ©ç”¨ä¸Šã€‚</p>
<h2 data-id="heading-2">SOLO å¯åŠ¨</h2>
<p>é¦–å…ˆç»™å®ƒæè¿°éœ€æ±‚</p>
<blockquote>
<p>æ­å»ºä¸€ä¸ªCVE-2025-55182æ¼æ´çš„é¶åœºï¼Œä¸è¦è‡ªå·±ä¼ªé€ æ¼æ´ç¯å¢ƒï¼Œè¦ä½¿ç”¨çœŸå®çš„<code>Next.js</code>çš„æ¼æ´ç‰ˆæœ¬<br/>
å¹¶è®²è§£æ¼æ´åŸç†ï¼Œä»¥åŠåˆ©ç”¨æ€è·¯æ‰‹æ®µï¼Œå¹¶å®ç°åˆ©ç”¨pocï¼Œå¹¶å®Œæˆæ¼æ´åˆ©ç”¨éªŒè¯</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/164758e6411f479ab56ef9dc7bb70227~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=tGYvxMJaUeSg45DFilUJ7fd%2FtD4%3D" alt="" loading="lazy"/></p>
<p>ç„¶åå®ƒå…ˆå»è‡ªå·±ç½‘ä¸Šæœç´¢å­¦ä¹ è¯¥æ¼æ´ï¼Œéšåè‡ªè¡Œè®¾è®¡å¥½äº†æ–¹æ¡ˆï¼Œçœ‹ç€æ²¡å•¥é—®é¢˜ï¼Œç›´æ¥æ‰§è¡Œ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bfd0a2faeed45ec8bd2e151b65e70e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=c9EkHoqyvsiYKNofeoCMZeFvSds%3D" alt="" loading="lazy"/></p>
<p>åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­çœ‹äº†ä¸€ä¸‹ä¾èµ–ï¼Œ<code>next</code>ç‰ˆæœ¬<code>15.0.0</code>æ­£å¥½æ˜¯æ¼æ´ç‰ˆæœ¬ï¼Œæ²¡å•¥é—®é¢˜</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a44e2f41bad442618f2013db147956e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=ws9oTWXReu7h5yN23kUkRz0xTTY%3D" alt="" loading="lazy"/></p>
<p>ç­‰å¾…å®ƒå¼€å‘å®Œæ¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aed0a9bb884e497bb9b76c68aebcb0ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=GFqrwMqRxis7r8l5EeMzR6QGEe0%3D" alt="" loading="lazy"/></p>
<p>é¶åœºæ­å»ºå¥½äº†ï¼Œç„¶ååˆ°Traeè‡ªä¸»éªŒè¯æ¼æ´ç¯èŠ‚æ—¶ï¼Œå‡ºé—®é¢˜äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7e18e6469f342268264980e194ecf5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=cRGZ3HGtcYQiTUTk5O0RwgyFIrs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a09bc2e30ae54e0c8eee88da73c230d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=cx%2B560RO%2Fq33G6X8Aq8AuJhgt1E%3D" alt="" loading="lazy"/></p>
<p>å®ƒæ‰€æ„é€ çš„pocæ˜¯æ‰§è¡Œæ–‡ä»¶å†™å…¥ï¼Œç„¶åæœ€åå¹¶æ²¡æœ‰æˆåŠŸï¼Œæœ€å…³é”®çš„æ˜¯ï¼Œè¿™ä¸ªæ—¶å€™å®ƒéªŒè¯å‡ æ¬¡æ²¡æˆåŠŸä¹‹åå°±ç»“æŸä»»åŠ¡äº†ï¼</p>
<p>ç½—é©¬ä¸æ˜¯ä¸€å¤©å»ºæˆçš„ï¼Œä¹Ÿæ€ªæˆ‘åˆšåˆšæŒ‡ä»¤æ²¡æœ‰å¼ºè°ƒæ¼æ´éªŒæ”¶ç»“æœï¼Œé‚£å°±å†ç»™å®ƒä¸‹è¾¾æ–°ä»»åŠ¡</p>
<blockquote>
<p>æ£€æŸ¥pocå’Œé¶åœºæœåŠ¡æ˜¯å¦ä¸ç¬¦åˆé¢„æœŸï¼Œæœ€ç»ˆå®ç°pocå¯æˆåŠŸåˆ©ç”¨é¶åœºæ¼æ´çš„ç›®çš„</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5238f5c5915b4ea29ad7b4cfcb6f72fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=r32sxZR2Yrw8mrZMFVkDU43Yejo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b8ec12c2605443f8d086e4d377a22be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=R9%2BVO1IWFYo%2FUmQqgvmaDHBa4ck%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fd80710769d4703ac82524a3be32f40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=Lop3QJ5mUrifziecz0KvZYp7Gas%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆï¼Œå®ƒæˆåŠŸäº†ï¼Œè‡ªä¸»ç¼–å†™äº†pocå¹¶å®Œæˆäº†é¶åœºæ¼æ´åˆ©ç”¨</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53136717ec2c46fdbfff59674e8fdfad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=5iW%2BBB4BdP%2FsrDZWQ4VSLZVbmN0%3D" alt="" loading="lazy"/></p>
<p>æˆåŠŸå†™å…¥äº†æ–‡ä»¶</p>
<h2 data-id="heading-3">æ¼æ´éªŒè¯</h2>
<p>ç„¶åæˆ‘è‡ªå·±å†äº²è‡ªéªŒè¯ä¸€ä¸‹ï¼Œéšä¾¿æ‰¾äº†ä¸ªç½‘ä¸Šçš„pocï¼Œgithubåœ°å€ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/msanft</span><span class="hljs-regexp">/CVE-2025-55182/blob</span><span class="hljs-regexp">/main/poc</span>.py
</code></pre>
<p>æ‰§è¡Œ<code>calc</code>å‘½ä»¤å¼¹è®¡ç®—å™¨</p>
<pre><code class="hljs language-arduino" lang="arduino">python poc.py http:<span class="hljs-comment">//localhost:3000 calc</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77f2c7f7560d42b68bfe414d281caff9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZO256m66aOe5769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765628628&amp;x-signature=yYZ1VJdFyDSLZtJRah2LCMl1F%2F0%3D" alt="" loading="lazy"/> éªŒè¯æˆåŠŸï¼</p>
<p>è¿™ä¸ªæ•´ä½“é¡¹ç›®è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæœ¬æ¥æƒ³ä¸€å¥è¯å®ç°çš„ï¼Œè¿™ä¸‹ç”¨äº†ä¸¤å¥è¯ï¼Œå…¶å®å¯ä»¥ä¼˜åŒ–åˆå¹¶ä¸€ä¸‹ï¼š</p>
<blockquote>
<p>æ­å»ºä¸€ä¸ªCVE-2025-55182æ¼æ´çš„é¶åœºï¼Œä¸è¦è‡ªå·±ä¼ªé€ æ¼æ´ç¯å¢ƒï¼Œè¦ä½¿ç”¨çœŸå®çš„Next.jsçš„æ¼æ´ç‰ˆæœ¬<br/>
å¹¶è®²è§£æ¼æ´åŸç†ï¼Œä»¥åŠåˆ©ç”¨æ€è·¯æ‰‹æ®µï¼Œå¹¶è¾¾æˆpocå¯æˆåŠŸåˆ©ç”¨é¶åœºæ¼æ´çš„ç›®çš„</p>
</blockquote>
<p>æ ¸å¿ƒè¿˜æ˜¯å¾—æŠŠéœ€æ±‚è¯´æ˜ç™½ï¼Œç›®æ ‡è¯´çš„è¶Šè¯¦ç»†æ•ˆæœè¶Šå¥½ï¼Œè¿™ä¹Ÿç®—æ˜¯Trae SOLOä¸€ç§æ–°çš„åº”ç”¨æ€è·¯äº†ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´11æœˆæ€»ç»“]]></title>    <link>https://juejin.cn/post/7580312375371776040</link>    <guid>https://juejin.cn/post/7580312375371776040</guid>    <pubDate>2025-12-06T12:46:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580312375371776040" data-draft-id="7580285196692930560" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´11æœˆæ€»ç»“"/> <meta itemprop="keywords" content="AIGC,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-06T12:46:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¢åº­æ–°"/> <meta itemprop="url" content="https://juejin.cn/user/1207714136735408"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´11æœˆæ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1207714136735408/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¢åº­æ–°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T12:46:39.000Z" title="Sat Dec 06 2025 12:46:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è¢åº­æ–°ã€‚åˆæ¥ç»™æœ‹å‹ä»¬æ±‡æŠ¥å·¥ä½œäº†ï¼Œç°å¯¹2025å¹´11æœˆåšä¸€ä¸ªå›é¡¾å’Œæ€»ç»“ã€‚</p>
<h2 data-id="heading-0">è¯¾ç¨‹ç ”å‘</h2>
<p>è¯¾ç¨‹ã€Šå…¨é¢æŒæ¡LiblibAIåœ¨çº¿AIç»˜ç”»ã€‹åœ¨11æœˆåˆç»ˆäºæ¨ä¸Šçº¿äº†ï¼Œå…±è®¡24è¯¾æ—¶ï¼Œç”±æŸ³è€å¸ˆä¸»è®²ã€‚æŸ³è€å¸ˆæ‹¥æœ‰16å¹´äº’è”ç½‘è½¯ä»¶ç ”å‘ç®¡ç†ç»éªŒï¼Œæ˜¯å¤§æ¨¡å‹æŠ€æœ¯èµ„æ·±åº”ç”¨ä¸“å®¶ï¼Œå…·å¤‡ä¸°å¯Œçš„å¤§æ¨¡å‹è®­ç»ƒåŠAIåŸç”Ÿåº”ç”¨æ¶æ„ç»éªŒï¼›é«˜çº§ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆã€Oracleè®¤è¯å¤§å¸ˆã€äººå·¥æ™ºèƒ½æ²»ç†ä¸“å®¶è®¤è¯ï¼ˆCAIGPï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d396192127f2494f932c471f9b2e1369~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=9ddxUNF4S2dGIY5nj%2F4BEqlT7Yg%3D" alt="" loading="lazy"/></p>
<p>è¯¾ç¨‹ã€ŠAI+ç¾å®¢å¤šè·¨å¢ƒç”µå•†å®æˆ˜ã€‹åœ¨11æœˆåˆå®Œæˆ40èŠ‚ç²¾å“è§†é¢‘å½•åˆ¶ï¼ŒåŠ ä¸Š10æœˆä»½ç ”å‘çš„11èŠ‚ï¼Œå…±è®¡58èŠ‚è¯¾ç¨‹ã€‚ç°ä¹Ÿå®Œæˆç ”å‘å¹¶ä¸Šçº¿äº†ã€‚ä¸»è®²è€å¸ˆé»„è€å¸ˆï¼Œæ˜¯èµ„æ·±çš„ç¾å®¢å¤šè·¨å¢ƒç”µå•†é«˜çº§è¿è¥å¸ˆï¼Œæ‹¥æœ‰å››å¹´ä¸“æ³¨äºç¾å®¢å¤šå¹³å°çš„å®æˆ˜ç»éªŒï¼Œæ›¾ç‹¬ç«‹ç®¡ç†å¹¶æˆåŠŸè¿è¥20ä½™å®¶ç¾å®¢å¤šè·¨å¢ƒåº—é“ºï¼Œè¢åº­æ–°è€å¸ˆä¸»è¦è´Ÿè´£æ•™ç ”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e291165d93554660b36d478c185bfa7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=Y%2F6mRV2jnwwd5xN7xrxY2lf2ZkU%3D" alt="" loading="lazy"/></p>
<p>æˆ‘è®²è¿‡å¾ˆå¤šè¯¾ï¼Œéƒ½æ˜¯å…³äºJavaè½¯ä»¶å¼€å‘ã€AIå‰æ²¿æŠ€æœ¯ç­‰é¢†åŸŸçš„ã€‚æŠ€æœ¯çš„è¿­ä»£é€Ÿé€Ÿå¤ªå¿«ï¼Œä»¥è‡³äºä¸‰å¹´å‰æˆ‘è®²çš„å†…å®¹ï¼Œä»ç°åœ¨çš„è§†è§’æœ›è¿‡å»å¯èƒ½å·²ç»è¿‡æ—¶äº†ã€‚ä¸€ç›´æ¥ï¼Œæˆ‘æƒ³è®²ç‚¹ä¸å˜çš„ä¸œè¥¿ï¼ŒåŒæ—¶æˆ‘è®¤ä¸ºåœ¨è¿™ä¸ªæ—¶ä»£æ¯ä¸ªä¸ªä½“éƒ½åº”è¯¥å»æ€è€ƒå¦‚ä½•åˆ›ä¸šï¼Ÿæ‰€ä»¥ï¼Œã€Šå¾®ä¿¡å•†ä¸šç”Ÿæ€å¹³æ°‘åˆ›ä¸šã€‹è¿™é—¨è¯¾ç¨‹åº”è¿è€Œç”Ÿäº†ã€‚</p>
<p>11æœˆä»½ï¼Œã€Šå¾®ä¿¡å•†ä¸šç”Ÿæ€å¹³æ°‘åˆ›ä¸šã€‹å®Œæˆ11èŠ‚è¯¾ç¨‹å½•åˆ¶ï¼Œç°æ€»è®¡å½•åˆ¶äº†20èŠ‚ï¼Œè®¡åˆ’æ˜¯24èŠ‚è¯¾ç¨‹ã€‚å…¶å®ï¼Œè¿™é—¨è¯¾ç¨‹æˆ‘å·²ç»å‡†å¤‡äº†ä¸¤å¹´ï¼Œä¹Ÿæ˜¯æˆ‘æœ€æƒ³æ¨èç»™å¤§å®¶æˆ‘çš„ä¸€é—¨è¯¾ç¨‹ï¼Œç”šè‡³æˆ‘è‡ªå·±éƒ½æœ‰äº›å…´å¥‹ï¼Œæ¨ä¸å¾—èµ¶ç´§å®Œæˆå®ƒã€‚æœŸå¾…ï¼Œ12æœˆä¸­æ—¬å’Œå¤§å®¶è§é¢ã€‚</p>
<h2 data-id="heading-1">æ–‡ç« è¾“å‡º</h2>
<p>11æœˆï¼Œç´¯è®¡å‘å¸ƒåŸåˆ›æ–‡ç« 2ç¯‡ï¼Œå¹¶åŒæ­¥åˆ†äº«è‡³å…¬ä¼—å·ã€ç¨€åœŸæ˜é‡‘ã€CSDNã€çŸ¥ä¹ã€ç®€ä¹¦å’ŒBç«™ç­‰å¤šä¸ªå¹³å°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/464e0e1fff9644e5aa53d916ef8915a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=RXRGgyUvOQ8E0ienm%2FlLIxwQxkk%3D" alt="" loading="lazy"/></p>
<p>11æœˆä»½ï¼Œåœ¨ã€Œäººäººéƒ½è¦å­¦AIã€çŸ¥è¯†æ˜Ÿçƒä¸­ï¼Œæˆ‘å…±å‘å¸ƒäº†2ç¯‡ä¸»é¢˜å†…å®¹ï¼Œæ ¸å¿ƒèšç„¦äºäººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨é¢†åŸŸçš„å‰æ²¿çŸ¥è¯†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f345391727c41a99fcd75630a0d7132~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=916l4plWDA%2BGZHs0GgY9xb3LYlA%3D" alt="" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œåœ¨ã€Œåœ†å¿ƒå­¦å ‚ã€çŸ¥è¯†æ˜Ÿçƒä¸­ï¼Œå‘å¸ƒ4ç¯‡ä¸»é¢˜ï¼Œä¸»è¦æ˜¯å¯¹AIæŠ€æœ¯çš„æ€è€ƒå’Œä¸ªäººæˆé•¿æ–¹é¢çš„å†…å®¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5696b6a2230344afa6d50e23ceda6116~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=ZLydcYIbAx4QvCeMk8naoI2Si6E%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæœ‰éœ€è¦ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›å…¥æ˜Ÿçƒï½</p>
<h2 data-id="heading-2">ç‰©æ–™ç ”å‘</h2>
<p>11æœˆä»½æˆ‘è®¾è®¡äº†å¤šæ¬¾äº§å“çš„æµ·æŠ¥ï¼ŒåŒ…æ‹¬ç²¾å“è¯¾ç¨‹å°é¢ã€è¯¾ç¨‹é•¿å›¾æµ·æŠ¥ä»¥åŠçº¿ä¸‹æ´»åŠ¨å®£ä¼ ç‰©æ–™ç­‰ã€‚èµ·åˆæˆ‘å¯¹è®¾è®¡æ’ç‰ˆå‡ ä¹ä¸€æ— æ‰€çŸ¥ï¼Œä½†åœ¨AIå·¥å…·å’Œåœ¨çº¿è®¾è®¡å¹³å°çš„å¸®åŠ©ä¸‹ï¼Œå³ä½¿æ¯«æ— è®¾è®¡åŸºç¡€çš„æˆ‘ä¹Ÿèƒ½åˆ¶ä½œå‡ºå¯ç”¨çš„æµ·æŠ¥ï¼Œåªæ˜¯éœ€è¦å¤šèŠ±äº›æ—¶é—´æ‰“ç£¨ã€‚</p>
<p>ä¸‹å›¾æ˜¯æˆ‘ä»¬ä¸¾åŠçš„çº¿ä¸‹æ´»åŠ¨å¯¹åº”çš„æµ·æŠ¥ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9a5d6c16d974f9694be4fd050d147a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=FWGPdqWljXMeRdbCWQXB0N%2FCYts%3D" alt="" loading="lazy"/></p>
<p>ä¸‹å›¾æ˜¯æˆ‘ç»™ã€Šå…¨é¢æŒæ¡LiblibAIåœ¨çº¿AIç»˜ç”»ã€‹è¯¾ç¨‹è®¾ç½®çš„é•¿å›¾æµ·æŠ¥ï¼Œå¤§å®¶è§‰å¾—æ€ä¹ˆæ ·å‘¢ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/160107e91c73451e9a8b5529797b57a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=KXVJTLM7DWjuLxFMk5abS4Ebpzs%3D" alt="" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œä¸ºäº†æ”¯æŒå¸‚åœºè¿˜å¯¹äººå·¥æ™ºèƒ½è®²åº§PPTã€è¯¾ç¨‹ç®€ç« ã€è¯¾ç¨‹å¤§çº²å’Œç‰©æ–™çŸ¥è¯†åº“ç­‰éƒ½åšäº†æ›´æ–°è¿­ä»£ã€‚æœŸæœ›èƒ½ç»™å›¢é˜Ÿè¿˜æœ‰åˆä½œä¼™ä¼´å¸¦æ¥å¸®åŠ©ï¼Œæ›´å¥½æ›´å¿«çš„äº†è§£å’Œå­¦ä¹ æˆ‘ä»¬çš„äº§å“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7363eef542484689850f5a95ecedc16e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=QXXU1SKAUSiWHD8R0j8kUbzatEU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">åº—é“ºè¿è¥</h2>
<p>11æœˆä»½åº—é“ºçš„è¿è¥èŠ±äº†å¤§åŠ›æ°”ï¼Œä¸»è¦çš„å¹³å°æ˜¯å°é¹…é€šå’ŒBç«™è¯¾å ‚ã€‚æ¶‰åŠåˆ°çš„å·¥ä½œå°±æ˜¯å»ºè¯¾ã€åšå°é¢ä»¥åŠé•¿å›¾ç­‰ï¼Œå› ä¸ºæ¯ä¸ªå¹³å°çš„è§„åˆ™ä¸åŒï¼Œå¾€å¾€åŒä¸€ä»½æµ·æŠ¥éœ€è¦åšä¸¤ä»½æ¥åŒ¹é…ä¸åŒçš„å¹³å°ã€‚</p>
<p>ä¸‹å›¾æ˜¯å°é¹…é€šåº—é“ºH5å±•ç¤ºæ ·å¼ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57500275eb134a37bbff2db5465a8f8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=fplO3N1AbJ6mbj8gshb6MzhBkMo%3D" alt="" loading="lazy"/></p>
<p>ä¸‹å›¾æ˜¯Bç«™å°åº—ä¸Šæ¶çš„äº§å“ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42c759c6625544f6a4f2c241224a02c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=b57BMYpxwXij1Qwwmq%2Blxs187y4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">é«˜æ ¡è®²åº§</h2>
<p>2025å¹´11æœˆ12æ—¥ä¸ºè¥¿å®‰æ¬§äºšå­¦é™¢2025çº§ä¿¡æ¯å·¥ç¨‹å­¦é™¢åšäº†ä¸€åœºã€ŠAIGCèµ‹èƒ½æœªæ¥èŒä¸šå‘å±•ã€‹è®²åº§æŠ¥å‘Šã€‚ä¸å­¦å­ä»¬äº¤æµAIæ™ºèƒ½ä½“è¡Œä¸šè½åœ°åº”ç”¨åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‚ä¸€ç«™å¼è§£é”AIç”Ÿäº§åŠ›ï¼Œèµ‹èƒ½æœªæ¥èŒä¸šå‘å±•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cec823f54b724ed1b8e30294e420fc9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=6T9v5dGQ0brTxhqNcRyBwF%2FUlsg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">å‡ºå·®å·¥ä½œ</h2>
<p>11æœˆ16æ—¥å‡ºå·®åŒ—äº¬ï¼Œ17æ—¥åœ¨åŒ—äº¬å·¥ä¸šå’Œä¿¡æ¯åŒ–éƒ¨æ•™è‚²ä¸è€ƒè¯•ä¸­å¿ƒå‚åŠ ã€Šå·¥ä¸šå’Œä¿¡æ¯åŒ–äººæ‰åŸ¹å…»å·¥ç¨‹åŸ¹è®­è¯¾ç¨‹æ ‡å‡†ã€‹å¼€ä¼šã€‚ä¹‹å‰ç»™å¤§å®¶è®²è¿‡ï¼Œæˆ‘æ˜¯å·¥ä¿¡éƒ¨æ•™è€ƒä¸­å¿ƒã€Šäººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨ã€‹å’Œã€Šç”Ÿæˆå¼äººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨ã€‹äººæ‰åŸ¹å…»å·¥ç¨‹æ ‡å‡†çš„ç¼–å†™äººï¼Œå…¶å®å°±æ˜¯æ•™è€ƒä¸­å¿ƒè¯·å‡ ä½ä¸åŒè¡Œä¸šçš„ä¸“å®¶ï¼Œé’ˆå¯¹æˆ‘æ‰€å†™çš„è¿™ä»½äººæ‰åŸ¹å…»æ ‡å‡†è¿›è¡Œè¯„å®¡ï¼Œä¸»è¦å°±æ˜¯ç»™ä¸€äº›å»ºè®®ï¼Œç„¶åæˆ‘å†è¿›è¡Œä¿®æ”¹è°ƒæ•´å†…å®¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a0d78bfd9cc46ca8a8d3b64d63bbdb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=PnZhJ0mTQ41eRELMZsQrJeukzMc%3D" alt="" loading="lazy"/></p>
<p>æˆ‘å‘¢ï¼Œå¾ˆè£å¹¸ä½œä¸ºå·¥ä¿¡éƒ¨æ•™è€ƒä¸­å¿ƒã€Šäººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨ã€‹å’Œã€Šç”Ÿæˆå¼äººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨ã€‹äººæ‰åŸ¹å…»å·¥ç¨‹æ ‡å‡†ä¸»è¦å‚ç¼–äººã€‚å­¦AIã€è€ƒAIè¯ä¹¦ï¼Œé€‰æ‹©æˆ‘ä»¬ï¼Œå’±æ˜¯çœŸçš„ä¸“ä¸šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a169fe68fd14ce5a8e506f760aa2925~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=wIQOt6j%2FCMAh3yz%2B7xBTivvTsf4%3D" alt="" loading="lazy"/></p>
<p>17å·æ™šï¼Œä»åŒ—äº¬åˆèµ¶åˆ°äº†éƒ‘å·ï¼Œè®°å¾—ä¸Šæ¬¡æ¥éƒ‘å·è¿˜æ˜¯2018å¹´æ˜¯ä¸ºäº†çˆ±æƒ…ã€‚18å·åœ¨éƒ‘å·è§äº†ä¸¤ä½åˆä½œä¼™ä¼´ï¼Œä¸»è¦ç»™ä»‹ç»äº†äº§å“ä»¥åŠæˆ‘ä»¬ç›®å‰æ­£åœ¨åšçš„äº‹æƒ…ï¼ŒæœŸå¾…åœ¨æœªæ¥æœ‰åˆä½œçš„æœºä¼šã€‚</p>
<p>11æœˆ30æ—¥æ™šï¼Œä»è¥¿å®‰ä¹˜é«˜é“å‡ºå·®åˆ°äº†å…°å·ã€‚çªç„¶è§‰å¾—æˆ‘ä»¬çš„ä¸šåŠ¡å‘å±•çš„è¿˜æŒºå¿«ï¼ŒåŒ—äº¬ã€æ²³å—ã€æ¹–å—ã€å±±è¥¿ã€é™•è¥¿ç°åœ¨åˆåˆ°äº†ç”˜è‚ƒï¼Œç…§è¿™ä¸ªåŠ¿å¤´ä¸‹å»ï¼Œè¿™æ˜å¹´è¦è¦†ç›–å…¨å›½äº†å‘€ï¼</p>
<h2 data-id="heading-6">ç»„ç»‡è€ƒè¯•</h2>
<p>11æœˆä¸‹æ—¬ç»„ç»‡äº†ä¸€åœºå·¥ä¿¡éƒ¨æ•™è€ƒä¸­å¿ƒçš„è€ƒè¯•ï¼Œè¿™æ˜¯ä¸€ä¸ªè‹¦å·®äº‹ã€‚æ¶‰åŠè¦æ•´ç†å­¦å‘˜ä¿¡æ¯ã€é€šçŸ¥å­¦å‘˜è€ƒè¯•ã€è€ƒè¯•è¿‡ç¨‹é—®é¢˜å¤„ç†ä»¥åŠé€šçŸ¥å­¦å‘˜æˆç»©ç­‰ï¼Œéå¸¸ç¹çä¸”ç»†è‡´çš„æ´»å„¿ã€‚</p>
<p>äººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨ï¼ˆé«˜çº§ï¼‰è¯ä¹¦æ ·å›¾è§ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/baf32158ca514a42a49955d36c36904e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=oJiC7AyB0%2F1X%2BB1Lo5XF3M6j%2F%2Fs%3D" alt="" loading="lazy"/></p>
<p>ç”Ÿæˆå¼äººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨ï¼ˆé«˜çº§ï¼‰è¯ä¹¦æ ·å›¾è§ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/974b2ef591404a758a1376a13801c74b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=Zm2Bwe0jqoZXHUzSwBiBG%2BOad3c%3D" alt="" loading="lazy"/></p>
<p>æœ‰éœ€è¦è€ƒå–å·¥ä¿¡éƒ¨æ•™è€ƒä¸­å¿ƒçš„èŒä¸šæŠ€èƒ½è¯ä¹¦çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥æ‰¾æˆ‘ï¼Œæˆ‘å¸æ˜¯å·¥ä¿¡éƒ¨æ•™è€ƒä¸­å¿ƒè¥¿åŒ—åœ°åŒºå”¯ä¸€çš„æˆæƒå•ä½ï¼Œé è°±ã€‚</p>
<h2 data-id="heading-7">çŸ³æ¦´çœ‹ç—…</h2>
<p>11æœˆ9æ—¥ï¼Œå‘ç°çŸ³æ¦´çŠ¶æ€ç‰¹åˆ«å·®ï¼Œç²¾ç¥èé¡ï¼Œç«™ä¸ç¨³è€æƒ³è¶´ç€ï¼Œæªåœ¨çŒ«ç ‚ç¢°ä¸å‡ºæ¥ï¼Œä¸€ç³»åˆ—å¼‚å¸¸çš„ä¸¾åŠ¨ï¼Œè‚¯å®šæ˜¯èº«ä½“å“ªå„¿å‡ºäº†é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4618a21847c49dd9cfb23ae43e85422~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=H4N2FuwrVLyiDdiK7zwQZ6wVLpI%3D" alt="" loading="lazy"/></p>
<p>8å·æ™šå›å®¶ï¼Œæˆ‘å°±å‘ç°çŸ³æ¦´æœ‰ç‚¹å„¿ä¸å¤ªå¯¹åŠ²å„¿ï¼Œè€èº²åœ¨çŒ«ç ‚ç›†é‡Œä¸å‡ºæ¥ï¼Œå½“æ—¶ä¹Ÿæ²¡å¤ªåœ¨æ„ï¼Œä¸€ä½æ˜¯èŠ±èŠ±åˆæ¬ºè´Ÿå®ƒäº†ï¼Œæ‰€ä»¥æ‰èº²èµ·æ¥ä¿æŠ¤è‡ªå·±ã€‚ç›´åˆ°9å·æ—©ä¸Šï¼Œçœ‹åˆ°å®ƒè¿™ä¸ªæ ·å­ï¼Œæˆ‘å½»åº•ç ´é˜²äº†ï¼Œèµ¶ç´§å¸¦å®ƒå»åŒ»é™¢ã€‚</p>
<p>åŒ»ç”Ÿä¸€çœ¼å°±çœ‹å‡ºäº†çŸ³æ¦´çš„é—®é¢˜â€”â€”å°¿é—­äº†ã€‚åŒ»ç”Ÿç–—æ³•ä¹Ÿç®€å•ç›´æ¥ç²—æš´ï¼Œç›´æ¥å°†é’ˆç®¡æ‰å…¥çŸ³æ¦´çš„è†€èƒ±æŠ½å°¿ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•å…ˆè§£å†³å°¿æ¶¨æ’ä¸å‡ºçš„é—®é¢˜ã€‚è¿æŠ½äº†5ç®¡ï¼Œæ¯ç®¡50æ¯«å‡å·¦å³ï¼Œç®¡ç®¡å°¿æ¶²éƒ½å¸¦ç€è¡€ä¸ï¼ŒåŒ»ç”Ÿè¯´è‚¾å·²ç»æŸä¼¤äº†ã€‚æ¥ç€ï¼ŒåŒ»ç”Ÿåˆç”¨ä¸€æ ¹å¯¼å°¿ç®¡ä»çŸ³æ¦´çš„å°¿é“æ’å…¥ï¼Œå°¿é“å¯èƒ½å‘ç‚äº†æˆ–è€…æœ‰ç»“çŸ³å µä½äº†ï¼Œçœ‹ç€æˆ‘éƒ½è§‰å¾—ç–¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a52b7189337430bae7f4844f90cdd53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=rCv8FqrfkL3z7X8f8HlCLVFQPk0%3D" alt="" loading="lazy"/></p>
<p>çŸ³æ¦´æ˜¯æˆ‘å»å¹´10æœˆä»½æ¡å›æ¥çš„ï¼Œè™½è¯´ä¸ç”¨åœ¨æŒ¨é¥¿å—å†»ï¼Œä½†èŠ±èŠ±å¹¶ä¸æ¬¢è¿è¿™ä¸ªä¸é€Ÿä¹‹å®¢ï¼Œä¼šå’¬çŸ³æ¦´ä¸”ç»å¸¸ä¼šæŠŠçŸ³æ¦´é©±èµ¶åˆ°åºŠåº•å¾…ç€ï¼Œäº‹å®ä¸Šæˆ‘ä¹Ÿä¼šåŒºåˆ«å¯¹å¾…çŸ³æ¦´å’ŒèŠ±èŠ±ï¼Œæ¯”å¦‚åªå…è®¸èŠ±èŠ±ä¸ŠåºŠã€‚</p>
<p>åŒ»ç”Ÿè¯´ï¼ŒçŒ«å’ªå¾—å°¿é—­ä¸€èˆ¬æ˜¯æƒ…ç»ªä¸å¥½ä¸å¼€å¿ƒæ‰€è‡´ã€‚æ­¤åˆ»æˆ‘æ‰æ„è¯†åˆ°åŒ»ç”Ÿè¯´çš„ä¸€ç‚¹å„¿éƒ½æ²¡é”™ï¼Œæˆ‘ã€æˆ‘çˆ±äººè¿˜æœ‰èŠ±èŠ±å¯¹çŸ³æ¦´éƒ½ä¸å¥½ï¼Œå®ƒåƒæ˜¯è¢«å­¤ç«‹çš„é‚£ä¸ªï¼Œæ€ä¹ˆå¯èƒ½ä¸ç”Ÿç—…å‘¢ï¼Ÿå¸Œæœ›çŸ³æ¦´å¿«å¿«å¥½èµ·æ¥ï¼Œæˆ‘ä¼šåƒå¯¹èŠ±èŠ±é‚£æ ·å¯¹ä½ çš„ï¼</p>
<h2 data-id="heading-8">å¾’æ­¥çˆ¬å±±</h2>
<p>11æœˆ8æ—¥ï¼Œçˆ¬ç¿ åå±±çœ‹ç§¦å²­æ¼«å±±çº¢å¶ã€‚å¹´çºªæ˜¯çœŸçš„å¤§äº†ï¼Œå¼€å§‹å–œæ¬¢å±±å±±æ°´æ°´äº†ï¼ŒåŒå€¦äº†åŸå¸‚çš„ç¹åï¼Œå°±æƒ³ä¸€ä¸ªäººé™é™åœ°å¾…ç€â€”â€”çœ‹å±±çœ‹æ°´ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92ca939f565643f6b63c21ceff0bd8dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKB5bqt5paw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765629999&amp;x-signature=qwFxyx3GO8WNXkSRXGMSSaN6Lls%3D" alt="" loading="lazy"/></p>
<p>2025å¹´ï¼Œå°±å‰©ä¸€ä¸ªæœˆäº†ï¼ŒæƒŠå‡ºä¸€èº«å†·æ±—ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript ä»Šå¤©30 å²äº†ï¼Œä½†è¿è‡ªå·±çš„åå­—éƒ½ä¸å±äºè‡ªå·±]]></title>    <link>https://juejin.cn/post/7580251192331386926</link>    <guid>https://juejin.cn/post/7580251192331386926</guid>    <pubDate>2025-12-06T11:06:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580251192331386926" data-draft-id="7580303864604606473" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript ä»Šå¤©30 å²äº†ï¼Œä½†è¿è‡ªå·±çš„åå­—éƒ½ä¸å±äºè‡ªå·±"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-06T11:06:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript ä»Šå¤©30 å²äº†ï¼Œä½†è¿è‡ªå·±çš„åå­—éƒ½ä¸å±äºè‡ªå·±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T11:06:57.000Z" title="Sat Dec 06 2025 11:06:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50630b0fd4c7400597e9556cd19f77a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmf5peg6aOO6Zuo5Lmf6Zu-5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765624017&amp;x-signature=0Uq2FvTVR1HfoKD5E7xrpHuqjEA%3D" alt="image.png" loading="lazy"/></p>
<p>12 æœˆ 4 å·ï¼ŒJavaScript è¿æ¥ 30 å²ç”Ÿæ—¥ã€‚</p>
<p>ä¸€é—¨ 10 å¤©èµ¶å‡ºæ¥çš„è¯­è¨€ï¼Œç°åœ¨è·‘åœ¨ 98.9% çš„ç½‘ç«™ä¸Šï¼Œæœ‰ 1650 ä¸‡å¼€å‘è€…åœ¨ç”¨å®ƒã€‚ä»æµè§ˆå™¨è„šæœ¬åˆ°æœåŠ¡ç«¯è¿è¡Œæ—¶ï¼Œä»æ¡Œé¢åº”ç”¨åˆ°ç§»åŠ¨ç«¯ï¼Œç”šè‡³åµŒå…¥å¼è®¾å¤‡éƒ½æœ‰å®ƒçš„èº«å½±ã€‚TIOBE 2024 å¹´åº¦ç¼–ç¨‹è¯­è¨€æ’è¡Œæ¦œä¸Šï¼ŒJavaScript æ’ç¬¬ 6ã€‚</p>
<p>ä½† 30 å‘¨å¹´è¿™å¤©ï¼Œç¤¾åŒºæ²¡æ€ä¹ˆåº†ç¥ã€‚å¤§å®¶æ›´å…³å¿ƒçš„æ˜¯å¦ä¸€ä»¶äº‹ï¼šJavaScript è¿™ä¸ªåå­—ï¼Œåˆ°åº•èƒ½ä¸èƒ½ä» Oracle æ‰‹é‡ŒæŠ¢å›æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-0">10 å¤©å†™å‡ºæ¥çš„è¯­è¨€</h2>
<p>1995 å¹´ 5 æœˆï¼ŒNetscape çš„å·¥ç¨‹å¸ˆ Brendan Eich æ¥åˆ°ä¸€ä¸ªä»»åŠ¡ï¼šç»™æµè§ˆå™¨åŠ ä¸€é—¨è„šæœ¬è¯­è¨€ã€‚</p>
<p>æ—¶é—´è¡¨å¾ˆç´§â€”â€”Navigator 2.0 Beta ç‰ˆè¦å‘å¸ƒäº†ï¼Œå¿…é¡»èµ¶ä¸Šã€‚</p>
<p>Eich èŠ±äº† 10 å¤©ï¼ˆæ®ä»–å›å¿†æ˜¯ 5 æœˆ 6 æ—¥åˆ° 15 æ—¥ï¼‰ï¼Œæå‡ºäº†ç¬¬ä¸€ä¸ªåŸå‹ã€‚è¿™ä¸æ˜¯å¤¸å¼ ï¼Œæ˜¯çœŸçš„ 10 å¤©ã€‚</p>
<p>ä»–åæ¥è‡ªå·±è¯´ï¼š</p>
<blockquote>
<p>å½“ä½ çœ‹æˆ‘ 10 å¤©å†™çš„ä¸œè¥¿ï¼Œå®ƒåƒä¸€é¢—ç§å­ã€‚æ˜¯ä¸€ç§æœ‰åŠ›çš„å¦¥åï¼Œä½†ä»ç„¶æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å†…æ ¸ï¼Œåæ¥é•¿æˆäº†ä¸€é—¨æ›´å¤§çš„è¯­è¨€ã€‚</p>
</blockquote>
<p>è¿™é—¨è¯­è¨€æœ€å¼€å§‹å« Mochaï¼Œåæ¥æ”¹å« LiveScriptï¼Œæœ€åå› ä¸ºå¸‚åœºåŸå› è¹­äº† Java çš„çƒ­åº¦ï¼Œæ”¹å JavaScriptã€‚</p>
<p>1995 å¹´ 12 æœˆ 4 æ—¥ï¼ŒNetscape å’Œ Sun è”åˆå‘å¸ƒå…¬å‘Šï¼Œå®£å¸ƒ JavaScript æ­£å¼è¯ç”Ÿã€‚28 å®¶å…¬å¸ä¸ºè¿™é—¨æ–°è¯­è¨€èƒŒä¹¦ï¼ŒåŒ…æ‹¬ America Onlineã€Appleã€AT&amp;Tã€Borlandã€HPã€Oracleã€Macromediaã€Intuitã€Toshiba ç­‰ç§‘æŠ€å·¨å¤´ã€‚</p>
<p>æœ‰æ„æ€çš„æ˜¯ï¼ŒOracle å½“æ—¶æ˜¯ JavaScript çš„æ”¯æŒè€…ä¹‹ä¸€ï¼Œæ–°é—»ç¨¿çš„åª’ä½“è”ç³»äººé‡Œè¿˜æœ‰ Mark Benioffï¼ˆåæ¥åˆ›åŠäº† Salesforceï¼‰ã€‚æ²¡æƒ³åˆ° 30 å¹´åï¼ŒOracle æˆäº†ç¤¾åŒºæƒ³è¦æ‘†è„±çš„"å•†æ ‡æŒæœ‰è€…"ã€‚</p>
<p>Sun è”åˆåˆ›å§‹äºº Bill Joy è¯´ï¼š</p>
<blockquote>
<p>JavaScript æ˜¯ Java å¹³å°çš„å®Œç¾è¡¥å……ï¼Œå¤©ç”Ÿå°±æ˜¯ä¸ºäº’è”ç½‘å’Œå…¨çƒåŒ–è®¾è®¡çš„ã€‚</p>
</blockquote>
<p>America Online æŠ€æœ¯æ€»è£ Mike Connorsï¼š</p>
<blockquote>
<p>JavaScript å¸¦æ¥äº†è·¨å¹³å°çš„å¿«é€Ÿå¤šåª’ä½“åº”ç”¨å¼€å‘èƒ½åŠ›ã€‚</p>
</blockquote>
<p>HP çš„ Jan Silvermanï¼š</p>
<blockquote>
<p>JavaScript ä»£è¡¨äº†ä¸“é—¨ä¸ºäº’è”ç½‘è®¾è®¡çš„ä¸‹ä¸€ä»£è½¯ä»¶ã€‚</p>
</blockquote>
<p>Netscape å’Œ Sun è¿˜è®¡åˆ’æŠŠ JavaScript æäº¤ç»™ W3C å’Œ IETF ä½œä¸ºå¼€æ”¾æ ‡å‡†ã€‚åæ¥ JavaScript ç¡®å®æ ‡å‡†åŒ–äº†ï¼Œä½†å®˜æ–¹åå­—å« ECMAScriptâ€”â€”å› ä¸ºå•†æ ‡é—®é¢˜ã€‚</p>
<p>1996 å¹´ 3 æœˆå‘å¸ƒ 1.0 ç‰ˆæœ¬åï¼ŒJavaScript çš„é‡å¿ƒè¿œä¸æ­¢å½“åˆè®¾æƒ³çš„"èƒ¶æ°´è¯­è¨€"ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä»ç©å…·åˆ°åŸºç¡€è®¾æ–½</h2>
<p>å½“å¹´ JavaScript çš„å®šä½æ˜¯"èƒ¶æ°´è¯­è¨€"ï¼Œè®©ä¸ä¼šç¼–ç¨‹çš„äººä¹Ÿèƒ½åœ¨ç½‘é¡µä¸ŠåŠ ç‚¹äº¤äº’ã€‚</p>
<p>æ²¡äººæƒ³åˆ°å®ƒä¼šå˜æˆä»Šå¤©è¿™æ ·ã€‚</p>
<p>å‡ ä¸ªå…³é”®èŠ‚ç‚¹ï¼š</p>
<p><strong>2009 å¹´ - Node.js è¯ç”Ÿ</strong></p>
<p>Ryan Dahl æŠŠ V8 å¼•æ“æ¬åˆ°æœåŠ¡ç«¯ï¼ŒJavaScript ä¸å†åªæ˜¯æµè§ˆå™¨é‡Œçš„ç©å…·ã€‚å‰åç«¯åŒæ„æˆä¸ºå¯èƒ½ã€‚</p>
<p><strong>2015 å¹´ - ES6 å‘å¸ƒ</strong></p>
<p><code>let</code>/<code>const</code> æ›¿ä»£ <code>var</code>ï¼Œç®­å¤´å‡½æ•°ï¼ŒPromiseï¼ŒClass è¯­æ³•... JavaScript ç»ˆäºåƒä¸ªæ­£ç»è¯­è¨€äº†ã€‚</p>
<p><strong>2012 å¹´ - TypeScript å‘å¸ƒ</strong></p>
<p>å¾®è½¯ç»™ JavaScript åŠ äº†ç±»å‹ç³»ç»Ÿã€‚2017 å¹´åªæœ‰ 12% çš„ JavaScript å¼€å‘è€…ç”¨ TypeScriptï¼Œåˆ° 2024 å¹´è¿™ä¸ªæ•°å­—æ¶¨åˆ°äº† 35%ã€‚ç°åœ¨å¤§å‹é¡¹ç›®å‡ ä¹éƒ½æ˜¯ TypeScriptã€‚</p>
<p><strong>æ¡†æ¶æ—¶ä»£</strong></p>
<p>Reactã€Vueã€Angular è½®ç•ªç™»åœºã€‚æ•´ä¸ªå‰ç«¯ç”Ÿæ€å›´ç»• JavaScript å»ºç«‹èµ·æ¥ã€‚ç°åœ¨æœ‰äººçš„æ•´ä¸ªèŒä¸šç”Ÿæ¶¯éƒ½å»ºç«‹åœ¨æŸä¸ªç‰¹å®šçš„ JS æ¡†æ¶ä¸Šã€‚</p>
<p><strong>åµŒå…¥å¼é¢†åŸŸ</strong></p>
<p>JavaScript ç”šè‡³è·‘åˆ°äº†å¾®æ§åˆ¶å™¨ä¸Šã€‚Espruino é¡¹ç›®è®©ä½ å¯ä»¥åœ¨ 24.95 ç¾å…ƒçš„å°æ¿å­ä¸Šå†™ JavaScriptï¼ŒåŠŸè€—ä½åˆ° 0.06mAï¼Œè¿˜èƒ½è·‘è“ç‰™ã€‚æœ‰ä¸ªæ™ºèƒ½æ‰‹è¡¨ Bangle.js 2ï¼Œä¸€å—ç”µæ± èƒ½ç”¨ 4 å‘¨ï¼Œä¸Šé¢è·‘çš„å°±æ˜¯ JavaScriptã€‚</p>
<hr/>
<h2 data-id="heading-2">åå­—çš„é—®é¢˜</h2>
<p>JavaScript è¿™ä¸ªåå­—ï¼Œå•†æ ‡å±äº Oracleã€‚</p>
<p>Oracle 2009 å¹´æ”¶è´­ Sun çš„æ—¶å€™ä¸€èµ·æ‹¿åˆ°çš„ã€‚ä½† Oracle è‡ªå·±æ ¹æœ¬ä¸åš JavaScript ç›¸å…³çš„äº§å“ï¼Œå•†æ ‡å°±è¿™ä¹ˆæ”¾ç€ã€‚</p>
<p>é—®é¢˜æ¥äº†ï¼šå› ä¸ºå•†æ ‡åœ¨ Oracle æ‰‹é‡Œï¼Œç¤¾åŒºåšäº‹å¾ˆå°´å°¬ã€‚</p>
<ul>
<li>ä¸èƒ½å« JavaScript Conferenceï¼Œåªèƒ½å« JSConf</li>
<li>å®˜æ–¹è§„èŒƒå« ECMAScriptï¼Œä¸å« JavaScript</li>
<li>å†™ä¹¦ã€åŠä¼šè®®ã€åšé¡¹ç›®ï¼Œç”¨ JavaScript è¿™ä¸ªè¯éƒ½æœ‰æ³•å¾‹é£é™©</li>
</ul>
<p>Brendan Eich 2006 å¹´å†™è¿‡ï¼š"ECMAScript ä¸€ç›´æ˜¯ä¸ªæ²¡äººæƒ³è¦çš„å•†ä¸šåç§°ï¼Œå¬èµ·æ¥åƒçš®è‚¤ç—…ã€‚"</p>
<p>è®½åˆºçš„æ˜¯ï¼ŒOracle ç”šè‡³ä¸æ˜¯ OpenJS Foundation çš„æˆå‘˜ï¼Œè·Ÿ Node.js çš„å¼€å‘ä¹Ÿæ²¡æœ‰ä»»ä½•å…³ç³»ã€‚</p>
<p>Node.js å’Œ Deno çš„åˆ›å§‹äºº Ryan Dahl çœ‹ä¸ä¸‹å»äº†ã€‚2024 å¹´ 9 æœˆä»–å‘èµ·äº† "Free the Mark" è¿åŠ¨ï¼Œå‘å¸ƒäº†ä¸€å°<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.tm%2Fletter" target="_blank" title="https://javascript.tm/letter" ref="nofollow noopener noreferrer">å…¬å¼€ä¿¡</a>ï¼Œ28,600 å¤šåå¼€å‘è€…ç­¾åæ”¯æŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7550baa8e10c412ca933ed01dcde9337~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmf5peg6aOO6Zuo5Lmf6Zu-5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765624017&amp;x-signature=XTaMhbnKI6jcSqifJH4CfLubc5M%3D" alt="image.png" loading="lazy"/>
ç­¾åçš„äººé‡Œæœ‰å‡ ä¸ªé‡é‡çº§çš„ï¼š</p>
<ul>
<li><strong>Brendan Eich</strong> - JavaScript åˆ›é€ è€…æœ¬äºº</li>
<li><strong>Ryan Dahl</strong> - Node.js åˆ›é€ è€…</li>
<li><strong>Michael Ficarraã€Shu-yu Guo</strong> - JavaScript è§„èŒƒç¼–è¾‘</li>
<li><strong>Rich Harris</strong> - Svelte ä½œè€…</li>
<li><strong>Isaac Z. Schlueter</strong> - npm åˆ›å§‹äºº</li>
<li><strong>James M Snell</strong> - Node.js TSC æˆå‘˜</li>
<li><strong>Jordan Harband</strong> - JavaScript è§„èŒƒè£èª‰ç¼–è¾‘</li>
<li><strong>Matt Pocock</strong> - Total TypeScript è¯¾ç¨‹ä½œè€…</li>
<li><strong>Wes Bosã€Scott Tolinski</strong> - Syntax.fm æ’­å®¢ä¸»æŒäºº</li>
</ul>
<p>11 æœˆæ­£å¼å‘ç¾å›½ä¸“åˆ©å•†æ ‡å±€æäº¤ç”³è¯·ï¼Œè¦æ±‚æ’¤é”€ Oracle çš„å•†æ ‡ã€‚</p>
<p>ç†ç”±æœ‰ä¸‰ï¼š</p>
<ol>
<li><strong>é€šç”¨åŒ–</strong> - JavaScript å·²ç»å˜æˆé€šç”¨åè¯äº†ï¼Œå°±åƒ aspirinï¼ˆé˜¿å¸åŒ¹æ—ï¼‰ä¸€æ ·</li>
<li><strong>å¼ƒç”¨</strong> - Oracle ä¸‰å¹´å¤šæ²¡ç”¨è¿™ä¸ªå•†æ ‡åšä»»ä½•å•†ä¸šç”¨é€”</li>
<li><strong>æ¬ºè¯ˆ</strong> - Oracle 2019 å¹´ç»­æœŸå•†æ ‡æ—¶ï¼Œæäº¤çš„ä½¿ç”¨è¯æ®æ˜¯ Node.js çš„æˆªå›¾ã€‚Node.js è·Ÿ Oracle æ²¡æœ‰åŠæ¯›é’±å…³ç³»</li>
</ol>
<p>å…¬å¼€ä¿¡é‡Œè¯´å¾—å¾ˆç›´ç™½ï¼š</p>
<blockquote>
<p>Oracle ä»æ¥æ²¡æœ‰è®¤çœŸæ¨å‡ºè¿‡å« JavaScript çš„äº§å“ã€‚GraalVM çš„äº§å“é¡µé¢ç”šè‡³éƒ½æ²¡æ"JavaScript"è¿™ä¸ªè¯ï¼Œå¾—ç¿»æ–‡æ¡£æ‰èƒ½æ‰¾åˆ°å®ƒæ”¯æŒ JavaScriptã€‚</p>
</blockquote>
<p>å…¬å¼€ä¿¡è¿˜æŒ‡å‡ºï¼ŒOracle 2019 å¹´ç»­æœŸå•†æ ‡æ—¶æäº¤çš„"ä½¿ç”¨è¯æ®"æ˜¯ nodejs.org çš„æˆªå›¾å’Œ Oracle JET åº“ã€‚Node.js æ ¹æœ¬ä¸æ˜¯ Oracle çš„äº§å“ï¼ŒJET åªæ˜¯ Oracle Cloud æœåŠ¡çš„ä¸€ä¸ª JavaScript åº“ï¼Œè·Ÿå¸‚é¢ä¸Šæˆåƒä¸Šä¸‡çš„ JS åº“æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚</p>
<p>æŒ‰ç¾å›½æ³•å¾‹ï¼Œå•†æ ‡ 3 å¹´ä¸ç”¨å°±ç®—æ”¾å¼ƒã€‚Oracle æ—¢æ²¡ç”¨è¿™ä¸ªå•†æ ‡ï¼Œåˆçœ¼çççœ‹ç€å®ƒå˜æˆé€šç”¨åè¯ï¼Œä¸¤æ¡éƒ½å äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbe0220e4306435bb94c6d5f2f452804~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmf5peg6aOO6Zuo5Lmf6Zu-5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765624017&amp;x-signature=EEdn1lbSlb5nM1msBzZyRVC6p24%3D" alt="image.png" loading="lazy"/></p>
<p>2025 å¹´ 2 æœˆï¼ŒOracle ç”³è¯·é©³å›è¯‰è®¼ä¸­çš„æ¬ºè¯ˆæŒ‡æ§ã€‚6 æœˆï¼Œå•†æ ‡å®¡åˆ¤å’Œä¸Šè¯‰å§”å‘˜ä¼šé©³å›äº†æ¬ºè¯ˆæŒ‡æ§ï¼Œä½†æ’¤é”€ç”³è¯·ç»§ç»­å®¡ç†ã€‚8 æœˆï¼ŒOracle é¦–æ¬¡æ­£å¼å›åº”ï¼Œå¦è®¤ JavaScript æ˜¯é€šç”¨åè¯ã€‚</p>
<p>å®˜å¸é¢„è®¡è¦æ‰“åˆ° 2026 å¹´ã€‚</p>
<p>Deno å›¢é˜Ÿæ­£åœ¨ä¼—ç­¹ 20 ä¸‡ç¾å…ƒçš„æ³•å¾‹è´¹ç”¨ï¼Œç”¨äºå‘ç°é˜¶æ®µçš„è°ƒæŸ¥å–è¯ï¼ŒåŒ…æ‹¬åšå…¬ä¼—è°ƒæŸ¥æ¥è¯æ˜æ™®é€šäººä¸ä¼šæŠŠ JavaScript å’Œ Oracle è”ç³»åœ¨ä¸€èµ·ã€‚</p>
<hr/>
<h2 data-id="heading-3">30 å¹´åçš„ JavaScript</h2>
<p>ç°åœ¨çš„ JavaScript å’Œ 1995 å¹´çš„å·²ç»æ˜¯ä¸¤é—¨è¯­è¨€äº†ã€‚</p>
<p>å½“å¹´çš„ <code>var</code> è¢« <code>let</code>/<code>const</code> å–ä»£ã€‚å½“å¹´çš„åŸå‹ç»§æ‰¿æœ‰äº† Class è¯­æ³•ç³–ã€‚å½“å¹´çš„å›è°ƒåœ°ç‹±æœ‰äº† Promise å’Œ async/awaitã€‚</p>
<p>ES2025 åˆšå‘å¸ƒï¼ŒåˆåŠ äº†ä¸€å †æ–°ç‰¹æ€§ã€‚</p>
<p>å·¥å…·é“¾ä¹Ÿå®Œå…¨ä¸åŒäº†ï¼š</p>
<ul>
<li>æ‰“åŒ…å™¨ä» webpack åˆ° Viteï¼ŒVite 8 åˆšç”¨ä¸Š Rolldownï¼Œé€Ÿåº¦åˆå¿«äº†ä¸€å¤§æˆª</li>
<li>è¿è¡Œæ—¶ä»åªæœ‰æµè§ˆå™¨ï¼Œåˆ° Node.jsã€Denoã€Bun ä¸‰è¶³é¼ç«‹</li>
<li>TypeScript æˆäº†äº‹å®ä¸Šçš„æ ‡å‡†</li>
<li>1650 ä¸‡å¼€å‘è€…ï¼Œæ¯”å¾ˆå¤šå›½å®¶çš„äººå£éƒ½å¤š</li>
</ul>
<p>Brendan Eich å½“å¹´ 10 å¤©å†™çš„ç§å­ï¼Œé•¿æˆäº†ä¸€ç‰‡æ£®æ—ã€‚</p>
<hr/>
<h2 data-id="heading-4">é¡ºæ‰‹æ¨å‡ ä¸ªé¡¹ç›®</h2>
<p>æ—¢ç„¶èŠåˆ° JavaScript ç”Ÿæ€ï¼Œæ¨ä¸€ä¸‹æˆ‘åšçš„å‡ ä¸ªå¼€æºé¡¹ç›®ï¼š</p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a></strong> - ä¸€ä¸ªåŒæ¨¡å¼ AI åº”ç”¨ï¼ŒèŠå¤© + å¯Œæ–‡æœ¬ç¼–è¾‘ã€‚Vue 3.5 + TypeScript + Vite 8 æŠ€æœ¯æ ˆï¼Œå¯ä»¥è‡ªå·±é… API key éƒ¨ç½²ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">code-review-skill</a></strong> - Claude Code çš„ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– Reactã€Vueã€TypeScript ç­‰ä¸»æµæŠ€æœ¯æ ˆï¼ŒæŒ‰éœ€åŠ è½½ä¸æµªè´¹ tokenã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">5-whys-skill</a></strong> - æ ¹å› åˆ†ææŠ€èƒ½ï¼Œæ’æŸ¥é—®é¢˜çš„æ—¶å€™ç”¨"5 ä¸ªä¸ºä»€ä¹ˆ"æ–¹æ³•è®ºã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">first-principles-skill</a></strong> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒæŠ€èƒ½ï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯æ–¹æ¡ˆé€‰å‹ã€‚å¸®ä½ æ‹†è§£é—®é¢˜æœ¬è´¨ã€‚</p>
<p>æ„Ÿå…´è¶£å¯ä»¥å» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a> çœ‹çœ‹ã€‚</p>
<hr/>
<h2 data-id="heading-5">ç›¸å…³é“¾æ¥</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Farstechnica.com%2Fgadgets%2F2025%2F12%2Fin-1995-a-netscape-employee-wrote-a-hack-in-10-days-that-now-runs-the-internet%2F" target="_blank" title="https://arstechnica.com/gadgets/2025/12/in-1995-a-netscape-employee-wrote-a-hack-in-10-days-that-now-runs-the-internet/" ref="nofollow noopener noreferrer">Ars Technica: In 1995, a Netscape employee wrote a hack in 10 days</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.archive.org%2Fweb%2F20070916144913%2Fhttp%3A%2F%2Fwp.netscape.com%2Fnewsref%2Fpr%2Fnewsrelease67.html" target="_blank" title="https://web.archive.org/web/20070916144913/http://wp.netscape.com/newsref/pr/newsrelease67.html" ref="nofollow noopener noreferrer">1995 å¹´åŸå§‹æ–°é—»ç¨¿ï¼ˆå­˜æ¡£ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.tm%2Fletter" target="_blank" title="https://javascript.tm/letter" ref="nofollow noopener noreferrer">JavaScript å•†æ ‡äº‰è®®å…¬å¼€ä¿¡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.tm%2F" target="_blank" title="https://javascript.tm/" ref="nofollow noopener noreferrer">JavaScript å•†æ ‡äº‰è®®å®˜ç½‘</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.espruino.com%2F" target="_blank" title="https://www.espruino.com/" ref="nofollow noopener noreferrer">Espruino - åµŒå…¥å¼ JavaScript</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.techspot.com%2Fnews%2F110510-javascript-turns-30-10-day-prototype-backbone-modern.html" target="_blank" title="https://www.techspot.com/news/110510-javascript-turns-30-10-day-prototype-backbone-modern.html" ref="nofollow noopener noreferrer">JavaScript Turns 30 - TechSpot</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.to%2Fgochev%2F30-years-of-javascript-the-complete-evolution-guide-haa" target="_blank" title="https://dev.to/gochev/30-years-of-javascript-the-complete-evolution-guide-haa" ref="nofollow noopener noreferrer">30 Years of JavaScript: The Complete Evolution Guide</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeno.com%2Fblog%2Fdeno-v-oracle" target="_blank" title="https://deno.com/blog/deno-v-oracle" ref="nofollow noopener noreferrer">Deno v. Oracle</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Fbrendan-eich-on-creating-javascript-in-10-days-and-what-hed-do-differently-today%2F" target="_blank" title="https://thenewstack.io/brendan-eich-on-creating-javascript-in-10-days-and-what-hed-do-differently-today/" ref="nofollow noopener noreferrer">Brendan Eich on Creating JavaScript in 10 Days</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>